<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 18497:78ab64eb195b9ab21ee75f3d64adc9e58a72f434</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 78ab64eb195b9ab21ee75f3d64adc9e58a72f434" />
<meta property="og:url" content="/comm-central/rev/78ab64eb195b9ab21ee75f3d64adc9e58a72f434" />
<meta property="og:description" content="Bug 1209777 - part3: adapt comm-central for bug 589199 (top level const/let change). r=mconley, fallen, jcranmer, aleth. a=mkmelin on CLOSED TREE" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 78ab64eb195b9ab21ee75f3d64adc9e58a72f434 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/78ab64eb195b9ab21ee75f3d64adc9e58a72f434">shortlog</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/78ab64eb195b9ab21ee75f3d64adc9e58a72f434">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434">files</a> |
changeset |
<a href="/comm-central/raw-rev/78ab64eb195b9ab21ee75f3d64adc9e58a72f434">raw</a>  | <a href="/comm-central/archive/78ab64eb195b9ab21ee75f3d64adc9e58a72f434.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1209777">Bug 1209777</a> - part3: adapt comm-central for <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=589199">bug 589199</a> (top level const/let change). r=mconley, fallen, jcranmer, aleth. a=mkmelin on CLOSED TREE
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#77;&#97;&#103;&#110;&#117;&#115;&#32;&#77;&#101;&#108;&#105;&#110;&#32;&#60;&#109;&#107;&#109;&#101;&#108;&#105;&#110;&#43;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#105;&#107;&#105;&#46;&#102;&#105;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 11 Oct 2015 00:23:56 +0300</td></tr>

<tr>
 <td>changeset 18497</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/78ab64eb195b9ab21ee75f3d64adc9e58a72f434">78ab64eb195b9ab21ee75f3d64adc9e58a72f434</a></td>
</tr>



<tr>
<td>parent 18496</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/d09fd3bc81697fe1b498f8ae01bec3a89a03ecb5">d09fd3bc81697fe1b498f8ae01bec3a89a03ecb5</a>
</td>
</tr>

<tr>
<td>child 18498</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/eecce9d6df787535c4339299b838d457dcbcc9af">eecce9d6df787535c4339299b838d457dcbcc9af</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=78ab64eb195b9ab21ee75f3d64adc9e58a72f434">11317</a></td></tr>
<tr><td>push user</td><td>mkmelin@iki.fi</td></tr>
<tr><td>push date</td><td class="date age">Sat, 10 Oct 2015 21:25:50 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@78ab64eb195b [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=78ab64eb195b9ab21ee75f3d64adc9e58a72f434">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=78ab64eb195b9ab21ee75f3d64adc9e58a72f434&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=78ab64eb195b9ab21ee75f3d64adc9e58a72f434&newProject=comm-central&newRevision=7a2c243821cc79b3a11bc8fae12bc0c6135f35d5&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=78ab64eb195b9ab21ee75f3d64adc9e58a72f434&newProject=comm-central&newRevision=7a2c243821cc79b3a11bc8fae12bc0c6135f35d5&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=78ab64eb195b9ab21ee75f3d64adc9e58a72f434&newProject=comm-central&newRevision=7a2c243821cc79b3a11bc8fae12bc0c6135f35d5&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mconley%29&revcount=50">mconley</a>, <a href="/comm-central/log?rev=reviewer%28fallen%29&revcount=50">fallen</a>, <a href="/comm-central/log?rev=reviewer%28jcranmer%29&revcount=50">jcranmer</a>, <a href="/comm-central/log?rev=reviewer%28aleth%29&revcount=50">aleth</a>, <a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1209777">1209777</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=589199">589199</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1209777">Bug 1209777</a> - part3: adapt comm-central for <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=589199">bug 589199</a> (top level const/let change). r=mconley, fallen, jcranmer, aleth. a=mkmelin on CLOSED TREE

Created by this script:
 find mail/ mailnews/ calendar/ chat/ im/ testing/ -type f -iname *.js* -exec sed -i -E 's/^(const|let) /var /g' {} \;</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/calBackendLoader.js">calendar/base/backend/calBackendLoader.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/calBackendLoader.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/calBackendLoader.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/calBackendLoader.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/calBackendLoader.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/calBackendLoader.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDateTime.js">calendar/base/backend/icaljs/calDateTime.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDateTime.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDateTime.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDateTime.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDateTime.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDateTime.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDuration.js">calendar/base/backend/icaljs/calDuration.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDuration.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDuration.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDuration.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDuration.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calDuration.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICALJSComponents.js">calendar/base/backend/icaljs/calICALJSComponents.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICALJSComponents.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICALJSComponents.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICALJSComponents.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICALJSComponents.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICALJSComponents.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService-worker.js">calendar/base/backend/icaljs/calICSService-worker.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService-worker.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService-worker.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService-worker.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService-worker.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService-worker.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService.js">calendar/base/backend/icaljs/calICSService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calICSService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calPeriod.js">calendar/base/backend/icaljs/calPeriod.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calPeriod.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calPeriod.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calPeriod.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calPeriod.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calPeriod.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calRecurrenceRule.js">calendar/base/backend/icaljs/calRecurrenceRule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calRecurrenceRule.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calRecurrenceRule.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calRecurrenceRule.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calRecurrenceRule.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/backend/icaljs/calRecurrenceRule.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/dialogs/calendar-migration-dialog.js">calendar/base/content/dialogs/calendar-migration-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/dialogs/calendar-migration-dialog.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/dialogs/calendar-migration-dialog.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/dialogs/calendar-migration-dialog.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/dialogs/calendar-migration-dialog.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/dialogs/calendar-migration-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/import-export.js">calendar/base/content/import-export.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/import-export.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/import-export.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/import-export.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/import-export.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/content/import-export.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/modules/calAsyncUtils.jsm">calendar/base/modules/calAsyncUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/modules/calAsyncUtils.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/modules/calAsyncUtils.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/modules/calAsyncUtils.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/modules/calAsyncUtils.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/modules/calAsyncUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarm.js">calendar/base/src/calAlarm.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarm.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarm.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarm.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarm.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarm.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmMonitor.js">calendar/base/src/calAlarmMonitor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmMonitor.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmMonitor.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmMonitor.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmMonitor.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmMonitor.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmService.js">calendar/base/src/calAlarmService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAlarmService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttachment.js">calendar/base/src/calAttachment.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttachment.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttachment.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttachment.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttachment.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttachment.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttendee.js">calendar/base/src/calAttendee.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttendee.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttendee.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttendee.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttendee.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calAttendee.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCachedCalendar.js">calendar/base/src/calCachedCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCachedCalendar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCachedCalendar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCachedCalendar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCachedCalendar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCachedCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarManager.js">calendar/base/src/calCalendarManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarManager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarManager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarManager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarManager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarSearchService.js">calendar/base/src/calCalendarSearchService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarSearchService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarSearchService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarSearchService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarSearchService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calCalendarSearchService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDateTimeFormatter.js">calendar/base/src/calDateTimeFormatter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDateTimeFormatter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDateTimeFormatter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDateTimeFormatter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDateTimeFormatter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDateTimeFormatter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDefaultACLManager.js">calendar/base/src/calDefaultACLManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDefaultACLManager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDefaultACLManager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDefaultACLManager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDefaultACLManager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDefaultACLManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDeletedItems.js">calendar/base/src/calDeletedItems.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDeletedItems.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDeletedItems.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDeletedItems.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDeletedItems.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calDeletedItems.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calEvent.js">calendar/base/src/calEvent.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calEvent.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calEvent.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calEvent.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calEvent.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calEvent.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calFreeBusyService.js">calendar/base/src/calFreeBusyService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calFreeBusyService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calFreeBusyService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calFreeBusyService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calFreeBusyService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calFreeBusyService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsParser.js">calendar/base/src/calIcsParser.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsParser.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsParser.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsParser.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsParser.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsParser.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsSerializer.js">calendar/base/src/calIcsSerializer.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsSerializer.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsSerializer.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsSerializer.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsSerializer.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calIcsSerializer.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItemModule.js">calendar/base/src/calItemModule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItemModule.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItemModule.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItemModule.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItemModule.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItemModule.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItipItem.js">calendar/base/src/calItipItem.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItipItem.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItipItem.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItipItem.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItipItem.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calItipItem.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calProtocolHandler.js">calendar/base/src/calProtocolHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calProtocolHandler.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calProtocolHandler.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calProtocolHandler.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calProtocolHandler.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calProtocolHandler.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceDate.js">calendar/base/src/calRecurrenceDate.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceDate.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceDate.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceDate.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceDate.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceDate.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceInfo.js">calendar/base/src/calRecurrenceInfo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceInfo.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceInfo.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceInfo.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceInfo.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRecurrenceInfo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRelation.js">calendar/base/src/calRelation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRelation.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRelation.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRelation.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRelation.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calRelation.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calSleepMonitor.js">calendar/base/src/calSleepMonitor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calSleepMonitor.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calSleepMonitor.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calSleepMonitor.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calSleepMonitor.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calSleepMonitor.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calStartupService.js">calendar/base/src/calStartupService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calStartupService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calStartupService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calStartupService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calStartupService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calStartupService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezone.js">calendar/base/src/calTimezone.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezone.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezone.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezone.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezone.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezone.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezoneService.js">calendar/base/src/calTimezoneService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezoneService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezoneService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezoneService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezoneService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTimezoneService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTodo.js">calendar/base/src/calTodo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTodo.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTodo.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTodo.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTodo.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTodo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTransactionManager.js">calendar/base/src/calTransactionManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTransactionManager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTransactionManager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTransactionManager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTransactionManager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calTransactionManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calWeekInfoService.js">calendar/base/src/calWeekInfoService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calWeekInfoService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calWeekInfoService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calWeekInfoService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calWeekInfoService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/base/src/calWeekInfoService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calHtmlExport.js">calendar/import-export/calHtmlExport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calHtmlExport.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calHtmlExport.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calHtmlExport.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calHtmlExport.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calHtmlExport.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calIcsImportExport.js">calendar/import-export/calIcsImportExport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calIcsImportExport.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calIcsImportExport.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calIcsImportExport.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calIcsImportExport.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calIcsImportExport.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calImportExportModule.js">calendar/import-export/calImportExportModule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calImportExportModule.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calImportExportModule.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calImportExportModule.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calImportExportModule.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calImportExportModule.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calListFormatter.js">calendar/import-export/calListFormatter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calListFormatter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calListFormatter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calListFormatter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calListFormatter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calListFormatter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calMonthGridPrinter.js">calendar/import-export/calMonthGridPrinter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calMonthGridPrinter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calMonthGridPrinter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calMonthGridPrinter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calMonthGridPrinter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calMonthGridPrinter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calOutlookCSVImportExport.js">calendar/import-export/calOutlookCSVImportExport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calOutlookCSVImportExport.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calOutlookCSVImportExport.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calOutlookCSVImportExport.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calOutlookCSVImportExport.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calOutlookCSVImportExport.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calWeekPrinter.js">calendar/import-export/calWeekPrinter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calWeekPrinter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calWeekPrinter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calWeekPrinter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calWeekPrinter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/import-export/calWeekPrinter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/itip/calItipEmailTransport.js">calendar/itip/calItipEmailTransport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/itip/calItipEmailTransport.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/itip/calItipEmailTransport.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/itip/calItipEmailTransport.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/itip/calItipEmailTransport.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/itip/calItipEmailTransport.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/calItipProtocolHandler.js">calendar/lightning/components/calItipProtocolHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/calItipProtocolHandler.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/calItipProtocolHandler.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/calItipProtocolHandler.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/calItipProtocolHandler.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/calItipProtocolHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/lightningTextCalendarConverter.js">calendar/lightning/components/lightningTextCalendarConverter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/lightningTextCalendarConverter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/lightningTextCalendarConverter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/lightningTextCalendarConverter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/lightningTextCalendarConverter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/components/lightningTextCalendarConverter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/content/messenger-overlay-sidebar.js">calendar/lightning/content/messenger-overlay-sidebar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/content/messenger-overlay-sidebar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/content/messenger-overlay-sidebar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/content/messenger-overlay-sidebar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/content/messenger-overlay-sidebar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/lightning/content/messenger-overlay-sidebar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/caldav/calDavCalendar.js">calendar/providers/caldav/calDavCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/caldav/calDavCalendar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/caldav/calDavCalendar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/caldav/calDavCalendar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/caldav/calDavCalendar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/caldav/calDavCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/composite/calCompositeCalendar.js">calendar/providers/composite/calCompositeCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/composite/calCompositeCalendar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/composite/calCompositeCalendar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/composite/calCompositeCalendar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/composite/calCompositeCalendar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/composite/calCompositeCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/components/calGoogleCalendar.js">calendar/providers/gdata/components/calGoogleCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/components/calGoogleCalendar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/components/calGoogleCalendar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/components/calGoogleCalendar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/components/calGoogleCalendar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/components/calGoogleCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/content/browserRequest.js">calendar/providers/gdata/content/browserRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/content/browserRequest.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/content/browserRequest.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/content/browserRequest.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/content/browserRequest.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/content/browserRequest.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/OAuth2.jsm">calendar/providers/gdata/modules/OAuth2.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/OAuth2.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/OAuth2.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/OAuth2.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/OAuth2.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/OAuth2.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataRequest.jsm">calendar/providers/gdata/modules/gdataRequest.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataRequest.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataRequest.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataRequest.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataRequest.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataRequest.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataSession.jsm">calendar/providers/gdata/modules/gdataSession.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataSession.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataSession.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataSession.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataSession.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataSession.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataUtils.jsm">calendar/providers/gdata/modules/gdataUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataUtils.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataUtils.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataUtils.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataUtils.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/gdataUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Calendar.jsm">calendar/providers/gdata/modules/shim/Calendar.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Calendar.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Calendar.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Calendar.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Calendar.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Calendar.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Http.jsm">calendar/providers/gdata/modules/shim/Http.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Http.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Http.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Http.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Http.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Http.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Promise.jsm">calendar/providers/gdata/modules/shim/Promise.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Promise.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Promise.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Promise.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Promise.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Promise.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Task.jsm">calendar/providers/gdata/modules/shim/Task.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Task.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Task.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Task.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Task.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/gdata/modules/shim/Task.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/ics/calICSCalendar.js">calendar/providers/ics/calICSCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/ics/calICSCalendar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/ics/calICSCalendar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/ics/calICSCalendar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/ics/calICSCalendar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/ics/calICSCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/memory/calMemoryCalendar.js">calendar/providers/memory/calMemoryCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/memory/calMemoryCalendar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/memory/calMemoryCalendar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/memory/calMemoryCalendar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/memory/calMemoryCalendar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/memory/calMemoryCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/storage/calStorageCalendar.js">calendar/providers/storage/calStorageCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/storage/calStorageCalendar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/storage/calStorageCalendar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/storage/calStorageCalendar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/storage/calStorageCalendar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/storage/calStorageCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendar.js">calendar/providers/wcap/calWcapCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarItems.js">calendar/providers/wcap/calWcapCalendarItems.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarItems.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarItems.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarItems.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarItems.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarItems.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarModule.js">calendar/providers/wcap/calWcapCalendarModule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarModule.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarModule.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarModule.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarModule.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapCalendarModule.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapErrors.js">calendar/providers/wcap/calWcapErrors.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapErrors.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapErrors.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapErrors.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapErrors.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapErrors.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapRequest.js">calendar/providers/wcap/calWcapRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapRequest.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapRequest.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapRequest.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapRequest.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapRequest.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapSession.js">calendar/providers/wcap/calWcapSession.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapSession.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapSession.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapSession.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapSession.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/providers/wcap/calWcapSession.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">calendar/test/mozmill/recurrence/testAnnualRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testDailyRecurrence.js">calendar/test/mozmill/recurrence/testDailyRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testDailyRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testDailyRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testDailyRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testDailyRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testDailyRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyWithExceptionRecurrence.js">calendar/test/mozmill/recurrence/testWeeklyWithExceptionRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyWithExceptionRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyWithExceptionRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyWithExceptionRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyWithExceptionRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrence/testWeeklyWithExceptionRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/calendar-utils.js">calendar/test/mozmill/shared-modules/calendar-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/calendar-utils.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/calendar-utils.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/calendar-utils.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/calendar-utils.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/calendar-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/timezone-utils.js">calendar/test/mozmill/shared-modules/timezone-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/timezone-utils.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/timezone-utils.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/timezone-utils.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/timezone-utils.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/shared-modules/timezone-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testBasicFunctionality.js">calendar/test/mozmill/testBasicFunctionality.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testBasicFunctionality.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testBasicFunctionality.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testBasicFunctionality.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testBasicFunctionality.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testBasicFunctionality.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testLocalICS.js">calendar/test/mozmill/testLocalICS.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testLocalICS.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testLocalICS.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testLocalICS.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testLocalICS.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testLocalICS.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testTodayPane.js">calendar/test/mozmill/testTodayPane.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testTodayPane.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testTodayPane.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testTodayPane.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testTodayPane.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/testTodayPane.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test10.js">calendar/test/mozmill/timezoneTests/test10.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test10.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test10.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test10.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test10.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test10.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test2.js">calendar/test/mozmill/timezoneTests/test2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test2.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test3.js">calendar/test/mozmill/timezoneTests/test3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test3.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test3.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test3.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test3.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test3.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test4.js">calendar/test/mozmill/timezoneTests/test4.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test4.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test4.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test4.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test4.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test4.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test5.js">calendar/test/mozmill/timezoneTests/test5.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test5.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test5.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test5.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test5.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test5.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test6.js">calendar/test/mozmill/timezoneTests/test6.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test6.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test6.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test6.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test6.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test6.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test7.js">calendar/test/mozmill/timezoneTests/test7.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test7.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test7.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test7.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test7.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test7.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test8.js">calendar/test/mozmill/timezoneTests/test8.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test8.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test8.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test8.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test8.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test8.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test9.js">calendar/test/mozmill/timezoneTests/test9.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test9.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test9.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test9.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test9.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/mozmill/timezoneTests/test9.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/head_consts.js">calendar/test/unit/head_consts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/head_consts.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/head_consts.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/head_consts.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/head_consts.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/head_consts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_alarmservice.js">calendar/test/unit/test_alarmservice.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_alarmservice.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_alarmservice.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_alarmservice.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_alarmservice.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_alarmservice.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_freebusy_service.js">calendar/test/unit/test_freebusy_service.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_freebusy_service.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_freebusy_service.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_freebusy_service.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_freebusy_service.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_freebusy_service.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_ics.js">calendar/test/unit/test_ics.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_ics.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_ics.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_ics.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_ics.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_ics.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_search_service.js">calendar/test/unit/test_search_service.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_search_service.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_search_service.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_search_service.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_search_service.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/calendar/test/unit/test_search_service.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imAccounts.js">chat/components/src/imAccounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imAccounts.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imAccounts.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imAccounts.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imAccounts.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imAccounts.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCommands.js">chat/components/src/imCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCommands.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCommands.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCommands.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCommands.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imContacts.js">chat/components/src/imContacts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imContacts.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imContacts.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imContacts.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imContacts.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imContacts.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imConversations.js">chat/components/src/imConversations.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imConversations.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imConversations.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imConversations.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imConversations.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imConversations.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCore.js">chat/components/src/imCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCore.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCore.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCore.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCore.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/imCore.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/logger.js">chat/components/src/logger.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/logger.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/logger.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/logger.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/logger.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/logger.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/smileProtocolHandler.js">chat/components/src/smileProtocolHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/smileProtocolHandler.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/smileProtocolHandler.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/smileProtocolHandler.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/smileProtocolHandler.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/smileProtocolHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_accounts.js">chat/components/src/test/test_accounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_accounts.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_accounts.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_accounts.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_accounts.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_accounts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_commands.js">chat/components/src/test/test_commands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_commands.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_commands.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_commands.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_commands.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_commands.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_conversations.js">chat/components/src/test/test_conversations.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_conversations.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_conversations.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_conversations.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_conversations.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_conversations.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_logger.js">chat/components/src/test/test_logger.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_logger.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_logger.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_logger.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_logger.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/components/src/test/test_logger.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/content/browserRequest.js">chat/content/browserRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/content/browserRequest.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/content/browserRequest.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/content/browserRequest.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/content/browserRequest.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/content/browserRequest.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imContentSink.jsm">chat/modules/imContentSink.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imContentSink.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imContentSink.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imContentSink.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imContentSink.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imContentSink.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imSmileys.jsm">chat/modules/imSmileys.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imSmileys.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imSmileys.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imSmileys.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imSmileys.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imSmileys.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imStatusUtils.jsm">chat/modules/imStatusUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imStatusUtils.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imStatusUtils.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imStatusUtils.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imStatusUtils.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imStatusUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imTextboxUtils.jsm">chat/modules/imTextboxUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imTextboxUtils.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imTextboxUtils.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imTextboxUtils.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imTextboxUtils.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imTextboxUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imThemes.jsm">chat/modules/imThemes.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imThemes.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imThemes.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imThemes.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imThemes.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imThemes.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imXPCOMUtils.jsm">chat/modules/imXPCOMUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imXPCOMUtils.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imXPCOMUtils.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imXPCOMUtils.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imXPCOMUtils.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/imXPCOMUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/jsProtoHelper.jsm">chat/modules/jsProtoHelper.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/jsProtoHelper.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/jsProtoHelper.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/jsProtoHelper.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/jsProtoHelper.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/jsProtoHelper.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/socket.jsm">chat/modules/socket.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/socket.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/socket.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/socket.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/socket.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/socket.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/appInfoUtils.jsm">chat/modules/test/appInfoUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/appInfoUtils.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/appInfoUtils.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/appInfoUtils.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/appInfoUtils.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/appInfoUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/test_filtering.js">chat/modules/test/test_filtering.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/test_filtering.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/test_filtering.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/test_filtering.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/test_filtering.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/modules/test/test_filtering.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/facebook/facebook.js">chat/protocols/facebook/facebook.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/facebook/facebook.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/facebook/facebook.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/facebook/facebook.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/facebook/facebook.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/facebook/facebook.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/gtalk/gtalk.js">chat/protocols/gtalk/gtalk.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/gtalk/gtalk.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/gtalk/gtalk.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/gtalk/gtalk.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/gtalk/gtalk.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/gtalk/gtalk.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/irc.js">chat/protocols/irc/irc.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/irc.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/irc.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/irc.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/irc.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/irc.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircBase.jsm">chat/protocols/irc/ircBase.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircBase.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircBase.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircBase.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircBase.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircBase.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCAP.jsm">chat/protocols/irc/ircCAP.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCAP.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCAP.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCAP.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCAP.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCAP.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCTCP.jsm">chat/protocols/irc/ircCTCP.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCTCP.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCTCP.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCTCP.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCTCP.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCTCP.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCommands.jsm">chat/protocols/irc/ircCommands.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCommands.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCommands.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCommands.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCommands.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircCommands.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircDCC.jsm">chat/protocols/irc/ircDCC.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircDCC.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircDCC.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircDCC.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircDCC.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircDCC.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircHandlers.jsm">chat/protocols/irc/ircHandlers.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircHandlers.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircHandlers.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircHandlers.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircHandlers.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircHandlers.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircISUPPORT.jsm">chat/protocols/irc/ircISUPPORT.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircISUPPORT.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircISUPPORT.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircISUPPORT.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircISUPPORT.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircISUPPORT.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircNonStandard.jsm">chat/protocols/irc/ircNonStandard.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircNonStandard.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircNonStandard.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircNonStandard.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircNonStandard.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircNonStandard.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircSASL.jsm">chat/protocols/irc/ircSASL.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircSASL.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircSASL.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircSASL.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircSASL.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircSASL.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircServices.jsm">chat/protocols/irc/ircServices.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircServices.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircServices.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircServices.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircServices.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircServices.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircUtils.jsm">chat/protocols/irc/ircUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircUtils.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircUtils.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircUtils.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircUtils.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircWatchMonitor.jsm">chat/protocols/irc/ircWatchMonitor.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircWatchMonitor.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircWatchMonitor.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircWatchMonitor.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircWatchMonitor.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/ircWatchMonitor.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpColoring.js">chat/protocols/irc/test/test_ctcpColoring.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpColoring.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpColoring.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpColoring.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpColoring.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpColoring.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpDequote.js">chat/protocols/irc/test/test_ctcpDequote.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpDequote.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpDequote.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpDequote.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpDequote.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpDequote.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpFormatting.js">chat/protocols/irc/test/test_ctcpFormatting.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpFormatting.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpFormatting.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpFormatting.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpFormatting.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpFormatting.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpQuote.js">chat/protocols/irc/test/test_ctcpQuote.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpQuote.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpQuote.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpQuote.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpQuote.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ctcpQuote.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ircMessage.js">chat/protocols/irc/test/test_ircMessage.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ircMessage.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ircMessage.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ircMessage.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ircMessage.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_ircMessage.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_splitLongMessages.js">chat/protocols/irc/test/test_splitLongMessages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_splitLongMessages.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_splitLongMessages.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_splitLongMessages.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_splitLongMessages.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_splitLongMessages.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_tryNewNick.js">chat/protocols/irc/test/test_tryNewNick.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_tryNewNick.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_tryNewNick.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_tryNewNick.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_tryNewNick.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/irc/test/test_tryNewNick.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/jsTest/jsTestProtocol.js">chat/protocols/jsTest/jsTestProtocol.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/jsTest/jsTestProtocol.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/jsTest/jsTestProtocol.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/jsTest/jsTestProtocol.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/jsTest/jsTestProtocol.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/jsTest/jsTestProtocol.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/odnoklassniki/odnoklassniki.js">chat/protocols/odnoklassniki/odnoklassniki.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/odnoklassniki/odnoklassniki.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/odnoklassniki/odnoklassniki.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/odnoklassniki/odnoklassniki.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/odnoklassniki/odnoklassniki.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/odnoklassniki/odnoklassniki.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/skype.js">chat/protocols/skype/skype.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/skype.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/skype.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/skype.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/skype.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/skype.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_MagicSha256.js">chat/protocols/skype/test/test_MagicSha256.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_MagicSha256.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_MagicSha256.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_MagicSha256.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_MagicSha256.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_MagicSha256.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_contactUrlToName.js">chat/protocols/skype/test/test_contactUrlToName.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_contactUrlToName.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_contactUrlToName.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_contactUrlToName.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_contactUrlToName.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/skype/test/test_contactUrlToName.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/twitter/twitter.js">chat/protocols/twitter/twitter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/twitter/twitter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/twitter/twitter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/twitter/twitter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/twitter/twitter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/twitter/twitter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">chat/protocols/xmpp/test/test_parseJidAndNormalization.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-authmechs.jsm">chat/protocols/xmpp/xmpp-authmechs.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-authmechs.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-authmechs.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-authmechs.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-authmechs.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-authmechs.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-commands.jsm">chat/protocols/xmpp/xmpp-commands.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-commands.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-commands.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-commands.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-commands.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-commands.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-session.jsm">chat/protocols/xmpp/xmpp-session.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-session.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-session.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-session.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-session.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-session.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-xml.jsm">chat/protocols/xmpp/xmpp-xml.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-xml.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-xml.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-xml.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-xml.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp-xml.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.js">chat/protocols/xmpp/xmpp.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.jsm">chat/protocols/xmpp/xmpp.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/xmpp/xmpp.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahooLoginHelper.js">chat/protocols/yahoo/test/test_yahooLoginHelper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahooLoginHelper.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahooLoginHelper.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahooLoginHelper.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahooLoginHelper.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahooLoginHelper.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahoopacket.js">chat/protocols/yahoo/test/test_yahoopacket.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahoopacket.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahoopacket.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahoopacket.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahoopacket.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/test/test_yahoopacket.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo-session.jsm">chat/protocols/yahoo/yahoo-session.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo-session.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo-session.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo-session.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo-session.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo-session.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo.js">chat/protocols/yahoo/yahoo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/chat/protocols/yahoo/yahoo.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/contentHandler.js">im/components/contentHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/contentHandler.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/contentHandler.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/contentHandler.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/contentHandler.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/contentHandler.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibCommandLineHandler.js">im/components/ibCommandLineHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibCommandLineHandler.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibCommandLineHandler.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibCommandLineHandler.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibCommandLineHandler.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibCommandLineHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibConvStatsService.js">im/components/ibConvStatsService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibConvStatsService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibConvStatsService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibConvStatsService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibConvStatsService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibConvStatsService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibDockBadge.js">im/components/ibDockBadge.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibDockBadge.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibDockBadge.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibDockBadge.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibDockBadge.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibDockBadge.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibStatusCommandLineHandler.js">im/components/ibStatusCommandLineHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibStatusCommandLineHandler.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibStatusCommandLineHandler.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibStatusCommandLineHandler.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibStatusCommandLineHandler.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/ibStatusCommandLineHandler.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/profileMigrator.js">im/components/profileMigrator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/profileMigrator.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/profileMigrator.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/profileMigrator.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/profileMigrator.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/components/profileMigrator.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/account.js">im/content/account.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/account.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/account.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/account.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/account.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/account.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accountWizard.js">im/content/accountWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accountWizard.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accountWizard.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accountWizard.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accountWizard.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accountWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accounts.js">im/content/accounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accounts.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accounts.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accounts.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accounts.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/accounts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/blist.js">im/content/blist.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/blist.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/blist.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/blist.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/blist.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/blist.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/debug.js">im/content/debug/debug.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/debug.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/debug.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/debug.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/debug.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/debug.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/fake/fake.js">im/content/debug/fake/fake.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/fake/fake.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/fake/fake.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/fake/fake.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/fake/fake.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/debug/fake/fake.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/engineManager.js">im/content/engineManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/engineManager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/engineManager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/engineManager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/engineManager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/engineManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions-discover.js">im/content/extensions-discover.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions-discover.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions-discover.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions-discover.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions-discover.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions-discover.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions.js">im/content/extensions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/extensions.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/joinchat.js">im/content/joinchat.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/joinchat.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/joinchat.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/joinchat.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/joinchat.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/joinchat.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/menus.js">im/content/menus.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/menus.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/menus.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/menus.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/menus.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/menus.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/applications.js">im/content/preferences/applications.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/applications.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/applications.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/applications.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/applications.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/applications.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/themes.js">im/content/preferences/themes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/themes.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/themes.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/themes.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/themes.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/preferences/themes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/utilities.js">im/content/utilities.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/utilities.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/utilities.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/utilities.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/utilities.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/utilities.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/viewlog.js">im/content/viewlog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/viewlog.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/viewlog.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/viewlog.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/viewlog.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/content/viewlog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibCore.jsm">im/modules/ibCore.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibCore.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibCore.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibCore.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibCore.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibCore.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibTagMenu.jsm">im/modules/ibTagMenu.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibTagMenu.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibTagMenu.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibTagMenu.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibTagMenu.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibTagMenu.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibWinJumpList.jsm">im/modules/ibWinJumpList.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibWinJumpList.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibWinJumpList.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibWinJumpList.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibWinJumpList.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/ibWinJumpList.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/imWindows.jsm">im/modules/imWindows.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/imWindows.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/imWindows.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/imWindows.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/imWindows.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/im/modules/imWindows.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/FilterListDialog.js">mail/base/content/FilterListDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/FilterListDialog.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/FilterListDialog.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/FilterListDialog.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/FilterListDialog.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/FilterListDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/aboutDialog.js">mail/base/content/aboutDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/aboutDialog.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/aboutDialog.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/aboutDialog.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/aboutDialog.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/aboutDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/browserRequest.js">mail/base/content/browserRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/browserRequest.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/browserRequest.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/browserRequest.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/browserRequest.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/browserRequest.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/folderPane.js">mail/base/content/folderPane.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/folderPane.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/folderPane.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/folderPane.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/folderPane.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/folderPane.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/glodaFacetView.js">mail/base/content/glodaFacetView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/glodaFacetView.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/glodaFacetView.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/glodaFacetView.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/glodaFacetView.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/glodaFacetView.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailContextMenus.js">mail/base/content/mailContextMenus.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailContextMenus.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailContextMenus.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailContextMenus.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailContextMenus.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailContextMenus.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailWindowOverlay.js">mail/base/content/mailWindowOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailWindowOverlay.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailWindowOverlay.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailWindowOverlay.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailWindowOverlay.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/mailWindowOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/messageWindow.js">mail/base/content/messageWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/messageWindow.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/messageWindow.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/messageWindow.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/messageWindow.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/messageWindow.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgHdrViewOverlay.js">mail/base/content/msgHdrViewOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgHdrViewOverlay.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgHdrViewOverlay.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgHdrViewOverlay.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgHdrViewOverlay.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgHdrViewOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgMail3PaneWindow.js">mail/base/content/msgMail3PaneWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgMail3PaneWindow.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgMail3PaneWindow.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgMail3PaneWindow.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgMail3PaneWindow.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/msgMail3PaneWindow.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/multimessageview.js">mail/base/content/multimessageview.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/multimessageview.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/multimessageview.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/multimessageview.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/multimessageview.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/multimessageview.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/phishingDetector.js">mail/base/content/phishingDetector.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/phishingDetector.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/phishingDetector.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/phishingDetector.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/phishingDetector.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/phishingDetector.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/sanitizeDialog.js">mail/base/content/sanitizeDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/sanitizeDialog.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/sanitizeDialog.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/sanitizeDialog.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/sanitizeDialog.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/sanitizeDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/specialTabs.js">mail/base/content/specialTabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/specialTabs.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/specialTabs.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/specialTabs.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/specialTabs.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/content/specialTabs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MailUtils.js">mail/base/modules/MailUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MailUtils.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MailUtils.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MailUtils.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MailUtils.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MailUtils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MsgHdrSyntheticView.js">mail/base/modules/MsgHdrSyntheticView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MsgHdrSyntheticView.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MsgHdrSyntheticView.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MsgHdrSyntheticView.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MsgHdrSyntheticView.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/MsgHdrSyntheticView.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/Windows8WindowFrameColor.jsm">mail/base/modules/Windows8WindowFrameColor.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/Windows8WindowFrameColor.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/Windows8WindowFrameColor.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/Windows8WindowFrameColor.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/Windows8WindowFrameColor.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/Windows8WindowFrameColor.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/dbViewWrapper.js">mail/base/modules/dbViewWrapper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/dbViewWrapper.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/dbViewWrapper.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/dbViewWrapper.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/dbViewWrapper.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/dbViewWrapper.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/distribution.js">mail/base/modules/distribution.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/distribution.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/distribution.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/distribution.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/distribution.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/distribution.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailInstrumentation.js">mail/base/modules/mailInstrumentation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailInstrumentation.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailInstrumentation.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailInstrumentation.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailInstrumentation.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailInstrumentation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailMigrator.js">mail/base/modules/mailMigrator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailMigrator.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailMigrator.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailMigrator.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailMigrator.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailMigrator.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailViewManager.js">mail/base/modules/mailViewManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailViewManager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailViewManager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailViewManager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailViewManager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/mailViewManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/oauth.jsm">mail/base/modules/oauth.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/oauth.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/oauth.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/oauth.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/oauth.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/oauth.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/quickFilterManager.js">mail/base/modules/quickFilterManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/quickFilterManager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/quickFilterManager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/quickFilterManager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/quickFilterManager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/quickFilterManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/searchSpec.js">mail/base/modules/searchSpec.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/searchSpec.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/searchSpec.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/searchSpec.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/searchSpec.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/searchSpec.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/sessionStoreManager.js">mail/base/modules/sessionStoreManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/sessionStoreManager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/sessionStoreManager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/sessionStoreManager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/sessionStoreManager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/modules/sessionStoreManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/test/unit/test_windows_font_migration.js">mail/base/test/unit/test_windows_font_migration.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/test/unit/test_windows_font_migration.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/test/unit/test_windows_font_migration.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/test/unit/test_windows_font_migration.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/test/unit/test_windows_font_migration.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/base/test/unit/test_windows_font_migration.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/DownloadsStartup.js">mail/components/DownloadsStartup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/DownloadsStartup.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/DownloadsStartup.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/DownloadsStartup.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/DownloadsStartup.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/DownloadsStartup.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupport.js">mail/components/about-support/aboutSupport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupport.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupport.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupport.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupport.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupport.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportUnix.js">mail/components/about-support/aboutSupportUnix.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportUnix.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportUnix.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportUnix.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportUnix.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportUnix.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportWin32.js">mail/components/about-support/aboutSupportWin32.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportWin32.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportWin32.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportWin32.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportWin32.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/aboutSupportWin32.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/crashes.js">mail/components/about-support/content/crashes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/crashes.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/crashes.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/crashes.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/crashes.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/crashes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/init.js">mail/components/about-support/content/init.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/init.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/init.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/init.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/init.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/init.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/prefs.js">mail/components/about-support/content/prefs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/prefs.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/prefs.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/prefs.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/prefs.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/about-support/content/prefs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/aboutRedirector.js">mail/components/aboutRedirector.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/aboutRedirector.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/aboutRedirector.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/aboutRedirector.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/aboutRedirector.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/aboutRedirector.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/content/activity.js">mail/components/activity/content/activity.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/content/activity.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/content/activity.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/content/activity.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/content/activity.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/content/activity.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/alertHook.js">mail/components/activity/modules/alertHook.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/alertHook.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/alertHook.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/alertHook.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/alertHook.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/alertHook.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/autosync.js">mail/components/activity/modules/autosync.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/autosync.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/autosync.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/autosync.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/autosync.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/autosync.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/glodaIndexer.js">mail/components/activity/modules/glodaIndexer.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/glodaIndexer.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/glodaIndexer.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/glodaIndexer.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/glodaIndexer.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/glodaIndexer.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/moveCopy.js">mail/components/activity/modules/moveCopy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/moveCopy.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/moveCopy.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/moveCopy.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/moveCopy.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/moveCopy.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/pop3Download.js">mail/components/activity/modules/pop3Download.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/pop3Download.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/pop3Download.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/pop3Download.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/pop3Download.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/pop3Download.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/sendLater.js">mail/components/activity/modules/sendLater.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/sendLater.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/sendLater.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/sendLater.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/sendLater.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/modules/sendLater.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivity.js">mail/components/activity/nsActivity.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivity.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivity.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivity.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivity.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivity.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManager.js">mail/components/activity/nsActivityManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManagerUI.js">mail/components/activity/nsActivityManagerUI.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManagerUI.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManagerUI.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManagerUI.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManagerUI.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/activity/nsActivityManagerUI.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCardOverlay.js">mail/components/addrbook/content/abCardOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCardOverlay.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCardOverlay.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCardOverlay.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCardOverlay.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCardOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCommon.js">mail/components/addrbook/content/abCommon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCommon.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCommon.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCommon.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCommon.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abCommon.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abTrees.js">mail/components/addrbook/content/abTrees.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abTrees.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abTrees.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abTrees.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abTrees.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/abTrees.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/addressbook.js">mail/components/addrbook/content/addressbook.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/addressbook.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/addressbook.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/addressbook.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/addressbook.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/addrbook/content/addressbook.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/appIdleManager.js">mail/components/appIdleManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/appIdleManager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/appIdleManager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/appIdleManager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/appIdleManager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/appIdleManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/cloudFileAccounts.js">mail/components/cloudfile/cloudFileAccounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/cloudFileAccounts.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/cloudFileAccounts.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/cloudFileAccounts.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/cloudFileAccounts.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/cloudFileAccounts.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/Hightail/fileExceedsQuota.js">mail/components/cloudfile/content/Hightail/fileExceedsQuota.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/Hightail/fileExceedsQuota.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/Hightail/fileExceedsQuota.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/Hightail/fileExceedsQuota.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/Hightail/fileExceedsQuota.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/Hightail/fileExceedsQuota.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/addAccountDialog.js">mail/components/cloudfile/content/addAccountDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/addAccountDialog.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/addAccountDialog.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/addAccountDialog.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/addAccountDialog.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/content/addAccountDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsBox.js">mail/components/cloudfile/nsBox.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsBox.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsBox.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsBox.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsBox.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsBox.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsHightail.js">mail/components/cloudfile/nsHightail.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsHightail.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsHightail.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsHightail.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsHightail.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/cloudfile/nsHightail.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/MsgComposeCommands.js">mail/components/compose/content/MsgComposeCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/MsgComposeCommands.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/MsgComposeCommands.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/MsgComposeCommands.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/MsgComposeCommands.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/MsgComposeCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/bigFileObserver.js">mail/components/compose/content/bigFileObserver.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/bigFileObserver.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/bigFileObserver.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/bigFileObserver.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/bigFileObserver.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/compose/content/bigFileObserver.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/devtools/extension/bootstrap.js">mail/components/devtools/extension/bootstrap.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/devtools/extension/bootstrap.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/devtools/extension/bootstrap.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/devtools/extension/bootstrap.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/devtools/extension/bootstrap.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/devtools/extension/bootstrap.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/downloads/content/aboutDownloads.js">mail/components/downloads/content/aboutDownloads.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/downloads/content/aboutDownloads.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/downloads/content/aboutDownloads.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/downloads/content/aboutDownloads.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/downloads/content/aboutDownloads.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/downloads/content/aboutDownloads.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/am-im.js">mail/components/im/content/am-im.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/am-im.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/am-im.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/am-im.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/am-im.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/am-im.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccountWizard.js">mail/components/im/content/imAccountWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccountWizard.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccountWizard.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccountWizard.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccountWizard.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccountWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccounts.js">mail/components/im/content/imAccounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccounts.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccounts.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccounts.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccounts.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/imAccounts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/joinchat.js">mail/components/im/content/joinchat.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/joinchat.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/joinchat.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/joinchat.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/joinchat.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/content/joinchat.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imIncomingServer.js">mail/components/im/imIncomingServer.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imIncomingServer.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imIncomingServer.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imIncomingServer.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imIncomingServer.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imIncomingServer.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imProtocolInfo.js">mail/components/im/imProtocolInfo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imProtocolInfo.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imProtocolInfo.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imProtocolInfo.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imProtocolInfo.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/imProtocolInfo.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/chatNotifications.jsm">mail/components/im/modules/chatNotifications.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/chatNotifications.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/chatNotifications.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/chatNotifications.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/chatNotifications.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/chatNotifications.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/index_im.js">mail/components/im/modules/index_im.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/index_im.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/index_im.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/index_im.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/index_im.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/index_im.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/search_im.js">mail/components/im/modules/search_im.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/search_im.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/search_im.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/search_im.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/search_im.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/im/modules/search_im.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailContentHandler.js">mail/components/mailContentHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailContentHandler.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailContentHandler.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailContentHandler.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailContentHandler.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailContentHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailGlue.js">mail/components/mailGlue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailGlue.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailGlue.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailGlue.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailGlue.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/mailGlue.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/migration/content/migration.js">mail/components/migration/content/migration.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/migration/content/migration.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/migration/content/migration.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/migration/content/migration.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/migration/content/migration.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/migration/content/migration.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/newmailaccount/content/accountProvisioner.js">mail/components/newmailaccount/content/accountProvisioner.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/newmailaccount/content/accountProvisioner.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/newmailaccount/content/accountProvisioner.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/newmailaccount/content/accountProvisioner.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/newmailaccount/content/accountProvisioner.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/newmailaccount/content/accountProvisioner.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/nsMailDefaultHandler.js">mail/components/nsMailDefaultHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/nsMailDefaultHandler.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/nsMailDefaultHandler.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/nsMailDefaultHandler.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/nsMailDefaultHandler.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/nsMailDefaultHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/actionsshared.js">mail/components/preferences/actionsshared.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/actionsshared.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/actionsshared.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/actionsshared.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/actionsshared.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/actionsshared.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/applications.js">mail/components/preferences/applications.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/applications.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/applications.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/applications.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/applications.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/applications.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/chat.js">mail/components/preferences/chat.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/chat.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/chat.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/chat.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/chat.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/chat.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/cookies.js">mail/components/preferences/cookies.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/cookies.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/cookies.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/cookies.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/cookies.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/cookies.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/fonts.js">mail/components/preferences/fonts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/fonts.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/fonts.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/fonts.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/fonts.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/fonts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/offline.js">mail/components/preferences/offline.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/offline.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/offline.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/offline.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/offline.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/offline.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/permissions.js">mail/components/preferences/permissions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/permissions.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/permissions.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/permissions.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/permissions.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/preferences/permissions.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/SpotlightIntegration.js">mail/components/search/SpotlightIntegration.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/SpotlightIntegration.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/SpotlightIntegration.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/SpotlightIntegration.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/SpotlightIntegration.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/SpotlightIntegration.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/WinSearchIntegration.js">mail/components/search/WinSearchIntegration.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/WinSearchIntegration.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/WinSearchIntegration.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/WinSearchIntegration.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/WinSearchIntegration.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/WinSearchIntegration.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/content/searchCommon.js">mail/components/search/content/searchCommon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/content/searchCommon.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/content/searchCommon.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/content/searchCommon.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/content/searchCommon.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/search/content/searchCommon.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/shell/nsSetDefaultMail.js">mail/components/shell/nsSetDefaultMail.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/shell/nsSetDefaultMail.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/shell/nsSetDefaultMail.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/shell/nsSetDefaultMail.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/shell/nsSetDefaultMail.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/shell/nsSetDefaultMail.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/wintaskbar/windowsJumpLists.js">mail/components/wintaskbar/windowsJumpLists.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/wintaskbar/windowsJumpLists.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/wintaskbar/windowsJumpLists.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/wintaskbar/windowsJumpLists.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/wintaskbar/windowsJumpLists.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/components/wintaskbar/windowsJumpLists.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/mailviews/content/msgViewPickerOverlay.js">mail/extensions/mailviews/content/msgViewPickerOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/mailviews/content/msgViewPickerOverlay.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/mailviews/content/msgViewPickerOverlay.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/mailviews/content/msgViewPickerOverlay.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/mailviews/content/msgViewPickerOverlay.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/mailviews/content/msgViewPickerOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgCompSMIMEOverlay.js">mail/extensions/smime/content/msgCompSMIMEOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgCompSMIMEOverlay.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgCompSMIMEOverlay.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgCompSMIMEOverlay.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgCompSMIMEOverlay.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgCompSMIMEOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/steelApplication.js">mail/steel/steelApplication.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/steelApplication.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/steelApplication.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/steelApplication.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/steelApplication.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/steelApplication.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/test/head_steel.js">mail/steel/test/head_steel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/test/head_steel.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/test/head_steel.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/test/head_steel.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/test/head_steel.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/steel/test/head_steel.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-actions.js">mail/test/mozmill/account/test-account-actions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-actions.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-actions.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-actions.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-actions.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-actions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-port-setting.js">mail/test/mozmill/account/test-account-port-setting.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-port-setting.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-port-setting.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-port-setting.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-port-setting.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-port-setting.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-settings-infrastructure.js">mail/test/mozmill/account/test-account-settings-infrastructure.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-settings-infrastructure.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-settings-infrastructure.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-settings-infrastructure.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-settings-infrastructure.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-settings-infrastructure.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-tree.js">mail/test/mozmill/account/test-account-tree.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-tree.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-tree.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-tree.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-tree.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-tree.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-values.js">mail/test/mozmill/account/test-account-values.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-values.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-values.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-values.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-values.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-account-values.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-mail-account-setup-wizard.js">mail/test/mozmill/account/test-mail-account-setup-wizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-mail-account-setup-wizard.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-mail-account-setup-wizard.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-mail-account-setup-wizard.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-mail-account-setup-wizard.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/account/test-mail-account-setup-wizard.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-events.js">mail/test/mozmill/attachment/test-attachment-events.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-events.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-events.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-events.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-events.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-events.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-menus.js">mail/test/mozmill/attachment/test-attachment-menus.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-menus.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-menus.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-menus.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-menus.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-menus.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-size.js">mail/test/mozmill/attachment/test-attachment-size.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-size.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-size.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-size.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-size.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment-size.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment.js">mail/test/mozmill/attachment/test-attachment.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/attachment/test-attachment.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-add-account-dialog.js">mail/test/mozmill/cloudfile/test-cloudfile-add-account-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-add-account-dialog.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-add-account-dialog.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-add-account-dialog.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-add-account-dialog.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-add-account-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-item.js">mail/test/mozmill/cloudfile/test-cloudfile-attachment-item.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-item.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-item.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-item.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-item.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-item.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">mail/test/mozmill/cloudfile/test-cloudfile-manager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-notifications.js">mail/test/mozmill/cloudfile/test-cloudfile-notifications.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-notifications.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-notifications.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-notifications.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-notifications.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/cloudfile/test-cloudfile-notifications.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-address-widgets.js">mail/test/mozmill/composition/test-address-widgets.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-address-widgets.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-address-widgets.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-address-widgets.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-address-widgets.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-address-widgets.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment-reminder.js">mail/test/mozmill/composition/test-attachment-reminder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment-reminder.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment-reminder.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment-reminder.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment-reminder.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment-reminder.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment.js">mail/test/mozmill/composition/test-attachment.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-attachment.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-edit.js">mail/test/mozmill/composition/test-charset-edit.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-edit.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-edit.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-edit.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-edit.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-edit.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-upgrade.js">mail/test/mozmill/composition/test-charset-upgrade.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-upgrade.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-upgrade.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-upgrade.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-upgrade.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-charset-upgrade.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-drafts.js">mail/test/mozmill/composition/test-drafts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-drafts.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-drafts.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-drafts.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-drafts.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-drafts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-eml-actions.js">mail/test/mozmill/composition/test-eml-actions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-eml-actions.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-eml-actions.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-eml-actions.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-eml-actions.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-eml-actions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forward-headers.js">mail/test/mozmill/composition/test-forward-headers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forward-headers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forward-headers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forward-headers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forward-headers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forward-headers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-content.js">mail/test/mozmill/composition/test-forwarded-content.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-content.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-content.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-content.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-content.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-content.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-eml-actions.js">mail/test/mozmill/composition/test-forwarded-eml-actions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-eml-actions.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-eml-actions.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-eml-actions.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-eml-actions.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-forwarded-eml-actions.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-multipart-related.js">mail/test/mozmill/composition/test-multipart-related.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-multipart-related.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-multipart-related.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-multipart-related.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-multipart-related.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-multipart-related.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-newmsg-compose-identity.js">mail/test/mozmill/composition/test-newmsg-compose-identity.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-newmsg-compose-identity.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-newmsg-compose-identity.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-newmsg-compose-identity.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-newmsg-compose-identity.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-newmsg-compose-identity.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-addresses.js">mail/test/mozmill/composition/test-reply-addresses.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-addresses.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-addresses.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-addresses.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-addresses.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-addresses.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-signature.js">mail/test/mozmill/composition/test-reply-signature.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-signature.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-signature.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-signature.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-signature.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-reply-signature.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-save-changes-on-quit.js">mail/test/mozmill/composition/test-save-changes-on-quit.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-save-changes-on-quit.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-save-changes-on-quit.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-save-changes-on-quit.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-save-changes-on-quit.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-save-changes-on-quit.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-send-button.js">mail/test/mozmill/composition/test-send-button.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-send-button.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-send-button.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-send-button.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-send-button.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-send-button.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-init.js">mail/test/mozmill/composition/test-signature-init.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-init.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-init.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-init.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-init.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-init.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-updating.js">mail/test/mozmill/composition/test-signature-updating.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-updating.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-updating.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-updating.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-updating.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/composition/test-signature-updating.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-dns-prefetch.js">mail/test/mozmill/content-policy/test-dns-prefetch.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-dns-prefetch.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-dns-prefetch.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-dns-prefetch.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-dns-prefetch.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-dns-prefetch.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-exposed-in-content-tabs.js">mail/test/mozmill/content-policy/test-exposed-in-content-tabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-exposed-in-content-tabs.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-exposed-in-content-tabs.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-exposed-in-content-tabs.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-exposed-in-content-tabs.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-exposed-in-content-tabs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-general-content-policy.js">mail/test/mozmill/content-policy/test-general-content-policy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-general-content-policy.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-general-content-policy.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-general-content-policy.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-general-content-policy.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-general-content-policy.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-js-content-policy.js">mail/test/mozmill/content-policy/test-js-content-policy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-js-content-policy.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-js-content-policy.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-js-content-policy.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-js-content-policy.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-js-content-policy.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-plugins-policy.js">mail/test/mozmill/content-policy/test-plugins-policy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-plugins-policy.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-plugins-policy.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-plugins-policy.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-plugins-policy.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-plugins-policy.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-view-source.js">mail/test/mozmill/content-policy/test-view-source.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-view-source.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-view-source.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-view-source.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-view-source.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-policy/test-view-source.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-about-support.js">mail/test/mozmill/content-tabs/test-about-support.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-about-support.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-about-support.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-about-support.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-about-support.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-about-support.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-install-xpi.js">mail/test/mozmill/content-tabs/test-install-xpi.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-install-xpi.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-install-xpi.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-install-xpi.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-install-xpi.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-install-xpi.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-lwthemes.js">mail/test/mozmill/content-tabs/test-lwthemes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-lwthemes.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-lwthemes.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-lwthemes.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-lwthemes.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-lwthemes.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-blocked.js">mail/test/mozmill/content-tabs/test-plugin-blocked.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-blocked.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-blocked.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-blocked.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-blocked.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-blocked.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-crashing.js">mail/test/mozmill/content-tabs/test-plugin-crashing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-crashing.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-crashing.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-crashing.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-crashing.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-crashing.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-outdated.js">mail/test/mozmill/content-tabs/test-plugin-outdated.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-outdated.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-outdated.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-outdated.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-outdated.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/content-tabs/test-plugin-outdated.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/downloads/test-about-downloads.js">mail/test/mozmill/downloads/test-about-downloads.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/downloads/test-about-downloads.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/downloads/test-about-downloads.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/downloads/test-about-downloads.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/downloads/test-about-downloads.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/downloads/test-about-downloads.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-archive-messages.js">mail/test/mozmill/folder-display/test-archive-messages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-archive-messages.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-archive-messages.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-archive-messages.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-archive-messages.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-archive-messages.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-display-name.js">mail/test/mozmill/folder-display/test-display-name.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-display-name.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-display-name.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-display-name.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-display-name.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-display-name.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages.js">mail/test/mozmill/folder-display/test-opening-messages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-opening-messages.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-watch-ignore-thread.js">mail/test/mozmill/folder-display/test-watch-ignore-thread.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-watch-ignore-thread.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-watch-ignore-thread.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-watch-ignore-thread.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-watch-ignore-thread.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-display/test-watch-ignore-thread.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-display-message-with-folder-modes.js">mail/test/mozmill/folder-pane/test-display-message-with-folder-modes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-display-message-with-folder-modes.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-display-message-with-folder-modes.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-display-message-with-folder-modes.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-display-message-with-folder-modes.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-display-message-with-folder-modes.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-names-in-recent-mode.js">mail/test/mozmill/folder-pane/test-folder-names-in-recent-mode.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-names-in-recent-mode.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-names-in-recent-mode.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-names-in-recent-mode.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-names-in-recent-mode.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-names-in-recent-mode.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-pane.js">mail/test/mozmill/folder-pane/test-folder-pane.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-pane.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-pane.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-pane.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-pane.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-pane/test-folder-pane.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">mail/test/mozmill/folder-tree-modes/test-mode-switching.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-smart-folders.js">mail/test/mozmill/folder-tree-modes/test-smart-folders.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-smart-folders.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-smart-folders.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-smart-folders.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-smart-folders.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-smart-folders.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-unread-folders.js">mail/test/mozmill/folder-tree-modes/test-unread-folders.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-unread-folders.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-unread-folders.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-unread-folders.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-unread-folders.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/folder-tree-modes/test-unread-folders.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/im/test-toolbar-buttons.js">mail/test/mozmill/im/test-toolbar-buttons.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/im/test-toolbar-buttons.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/im/test-toolbar-buttons.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/im/test-toolbar-buttons.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/im/test-toolbar-buttons.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/im/test-toolbar-buttons.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/junk-commands/test-junk-commands.js">mail/test/mozmill/junk-commands/test-junk-commands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/junk-commands/test-junk-commands.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/junk-commands/test-junk-commands.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/junk-commands/test-junk-commands.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/junk-commands/test-junk-commands.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/junk-commands/test-junk-commands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-header-toolbar.js">mail/test/mozmill/message-header/test-header-toolbar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-header-toolbar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-header-toolbar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-header-toolbar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-header-toolbar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-header-toolbar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-phishing-bar.js">mail/test/mozmill/message-header/test-phishing-bar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-phishing-bar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-phishing-bar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-phishing-bar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-phishing-bar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-phishing-bar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-reply-identity.js">mail/test/mozmill/message-header/test-reply-identity.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-reply-identity.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-reply-identity.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-reply-identity.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-reply-identity.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-reply-identity.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-return-receipt.js">mail/test/mozmill/message-header/test-return-receipt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-return-receipt.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-return-receipt.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-return-receipt.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-return-receipt.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-header/test-return-receipt.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-reader/test-bug594646.js">mail/test/mozmill/message-reader/test-bug594646.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-reader/test-bug594646.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-reader/test-bug594646.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-reader/test-bug594646.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-reader/test-bug594646.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-reader/test-bug594646.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-window/test-eml-subject.js">mail/test/mozmill/message-window/test-eml-subject.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-window/test-eml-subject.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-window/test-eml-subject.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-window/test-eml-subject.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-window/test-eml-subject.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/message-window/test-eml-subject.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/migration-to-rdf-ui-5/test-migrate-to-rdf-ui-5.js">mail/test/mozmill/migration-to-rdf-ui-5/test-migrate-to-rdf-ui-5.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/migration-to-rdf-ui-5/test-migrate-to-rdf-ui-5.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/migration-to-rdf-ui-5/test-migrate-to-rdf-ui-5.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/migration-to-rdf-ui-5/test-migrate-to-rdf-ui-5.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/migration-to-rdf-ui-5/test-migrate-to-rdf-ui-5.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/migration-to-rdf-ui-5/test-migrate-to-rdf-ui-5.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/newmailaccount/test-newmailaccount.js">mail/test/mozmill/newmailaccount/test-newmailaccount.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/newmailaccount/test-newmailaccount.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/newmailaccount/test-newmailaccount.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/newmailaccount/test-newmailaccount.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/newmailaccount/test-newmailaccount.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/newmailaccount/test-newmailaccount.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/pref-window/test-font-chooser.js">mail/test/mozmill/pref-window/test-font-chooser.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/pref-window/test-font-chooser.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/pref-window/test-font-chooser.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/pref-window/test-font-chooser.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/pref-window/test-font-chooser.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/pref-window/test-font-chooser.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-display-issues.js">mail/test/mozmill/quick-filter-bar/test-display-issues.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-display-issues.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-display-issues.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-display-issues.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-display-issues.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-display-issues.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">mail/test/mozmill/quick-filter-bar/test-filter-logic.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">mail/test/mozmill/quick-filter-bar/test-toggle-bar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/search-window/test-search-window.js">mail/test/mozmill/search-window/test-search-window.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/search-window/test-search-window.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/search-window/test-search-window.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/search-window/test-search-window.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/search-window/test-search-window.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/search-window/test-search-window.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/session-store/test-session-store.js">mail/test/mozmill/session-store/test-session-store.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/session-store/test-session-store.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/session-store/test-session-store.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/session-store/test-session-store.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/session-store/test-session-store.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/session-store/test-session-store.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">mail/test/mozmill/shared-modules/test-account-manager-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-address-book-helpers.js">mail/test/mozmill/shared-modules/test-address-book-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-address-book-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-address-book-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-address-book-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-address-book-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-address-book-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-attachment-helpers.js">mail/test/mozmill/shared-modules/test-attachment-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-attachment-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-attachment-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-attachment-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-attachment-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-attachment-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-helpers.js">mail/test/mozmill/shared-modules/test-cloudfile-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-hightail-helpers.js">mail/test/mozmill/shared-modules/test-cloudfile-hightail-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-hightail-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-hightail-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-hightail-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-hightail-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-cloudfile-hightail-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-compose-helpers.js">mail/test/mozmill/shared-modules/test-compose-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-compose-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-compose-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-compose-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-compose-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-compose-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">mail/test/mozmill/shared-modules/test-content-tab-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-customization-helpers.js">mail/test/mozmill/shared-modules/test-customization-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-customization-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-customization-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-customization-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-customization-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-customization-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-dom-helpers.js">mail/test/mozmill/shared-modules/test-dom-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-dom-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-dom-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-dom-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-dom-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-dom-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">mail/test/mozmill/shared-modules/test-folder-display-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-junk-helpers.js">mail/test/mozmill/shared-modules/test-junk-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-junk-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-junk-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-junk-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-junk-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-junk-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-keyboard-helpers.js">mail/test/mozmill/shared-modules/test-keyboard-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-keyboard-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-keyboard-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-keyboard-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-keyboard-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-keyboard-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-message-helpers.js">mail/test/mozmill/shared-modules/test-message-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-message-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-message-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-message-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-message-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-message-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mock-object-helpers.js">mail/test/mozmill/shared-modules/test-mock-object-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mock-object-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mock-object-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mock-object-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mock-object-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mock-object-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mouse-event-helpers.js">mail/test/mozmill/shared-modules/test-mouse-event-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mouse-event-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mouse-event-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mouse-event-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mouse-event-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-mouse-event-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-newmailaccount-helpers.js">mail/test/mozmill/shared-modules/test-newmailaccount-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-newmailaccount-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-newmailaccount-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-newmailaccount-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-newmailaccount-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-newmailaccount-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-nntp-helpers.js">mail/test/mozmill/shared-modules/test-nntp-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-nntp-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-nntp-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-nntp-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-nntp-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-nntp-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-notificationbox-helpers.js">mail/test/mozmill/shared-modules/test-notificationbox-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-notificationbox-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-notificationbox-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-notificationbox-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-notificationbox-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-notificationbox-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-observer-helpers.js">mail/test/mozmill/shared-modules/test-observer-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-observer-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-observer-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-observer-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-observer-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-observer-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-pref-window-helpers.js">mail/test/mozmill/shared-modules/test-pref-window-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-pref-window-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-pref-window-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-pref-window-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-pref-window-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-pref-window-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-prompt-helpers.js">mail/test/mozmill/shared-modules/test-prompt-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-prompt-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-prompt-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-prompt-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-prompt-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-prompt-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-quick-filter-bar-helper.js">mail/test/mozmill/shared-modules/test-quick-filter-bar-helper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-quick-filter-bar-helper.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-quick-filter-bar-helper.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-quick-filter-bar-helper.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-quick-filter-bar-helper.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-quick-filter-bar-helper.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-search-window-helpers.js">mail/test/mozmill/shared-modules/test-search-window-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-search-window-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-search-window-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-search-window-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-search-window-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-search-window-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-subscribe-window-helper.js">mail/test/mozmill/shared-modules/test-subscribe-window-helper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-subscribe-window-helper.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-subscribe-window-helper.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-subscribe-window-helper.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-subscribe-window-helper.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-subscribe-window-helper.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-window-helpers.js">mail/test/mozmill/shared-modules/test-window-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-window-helpers.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-window-helpers.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-window-helpers.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-window-helpers.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/shared-modules/test-window-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/subscribe/test-subscribe-news-filter.js">mail/test/mozmill/subscribe/test-subscribe-news-filter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/subscribe/test-subscribe-news-filter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/subscribe/test-subscribe-news-filter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/subscribe/test-subscribe-news-filter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/subscribe/test-subscribe-news-filter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/subscribe/test-subscribe-news-filter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-closing.js">mail/test/mozmill/tabmail/test-tabmail-closing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-closing.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-closing.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-closing.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-closing.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-closing.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">mail/test/mozmill/tabmail/test-tabmail-dragndrop.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/utils/test-iteratorUtils.js">mail/test/mozmill/utils/test-iteratorUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/utils/test-iteratorUtils.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/utils/test-iteratorUtils.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/utils/test-iteratorUtils.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/utils/test-iteratorUtils.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/mozmill/utils/test-iteratorUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/utils.js">mail/test/resources/mozmill/mozmill/extension/resource/modules/utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/utils.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/utils.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/utils.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/utils.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/modules/utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/stdlib/httpd.js">mail/test/resources/mozmill/mozmill/extension/resource/stdlib/httpd.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/stdlib/httpd.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/stdlib/httpd.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/stdlib/httpd.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/stdlib/httpd.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/mozmill/extension/resource/stdlib/httpd.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_staleelement.js">mail/test/resources/mozmill/test/test_staleelement.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_staleelement.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_staleelement.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_staleelement.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_staleelement.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_staleelement.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_waitForPageLoad.js">mail/test/resources/mozmill/test/test_waitForPageLoad.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_waitForPageLoad.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_waitForPageLoad.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_waitForPageLoad.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_waitForPageLoad.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mail/test/resources/mozmill/test/test_waitForPageLoad.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abAddressBookNameDialog.js">mailnews/addrbook/content/abAddressBookNameDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abAddressBookNameDialog.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abAddressBookNameDialog.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abAddressBookNameDialog.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abAddressBookNameDialog.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abAddressBookNameDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abResultsPane.js">mailnews/addrbook/content/abResultsPane.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abResultsPane.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abResultsPane.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abResultsPane.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abResultsPane.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/content/abResultsPane.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/prefs/content/pref-directory-add.js">mailnews/addrbook/prefs/content/pref-directory-add.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/prefs/content/pref-directory-add.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/prefs/content/pref-directory-add.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/prefs/content/pref-directory-add.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/prefs/content/pref-directory-add.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/prefs/content/pref-directory-add.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteMyDomain.js">mailnews/addrbook/src/nsAbAutoCompleteMyDomain.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteMyDomain.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteMyDomain.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteMyDomain.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteMyDomain.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteMyDomain.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteSearch.js">mailnews/addrbook/src/nsAbAutoCompleteSearch.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteSearch.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteSearch.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteSearch.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteSearch.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbAutoCompleteSearch.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">mailnews/addrbook/src/nsAbLDAPAttributeMap.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_basic_nsIAbCard.js">mailnews/addrbook/test/unit/test_basic_nsIAbCard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_basic_nsIAbCard.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_basic_nsIAbCard.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_basic_nsIAbCard.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_basic_nsIAbCard.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_basic_nsIAbCard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection.js">mailnews/addrbook/test/unit/test_collection.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection_2.js">mailnews/addrbook/test/unit/test_collection_2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection_2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection_2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection_2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection_2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_collection_2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap1.js">mailnews/addrbook/test/unit/test_ldap1.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap1.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap1.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap1.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap1.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap1.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap2.js">mailnews/addrbook/test/unit/test_ldap2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldap2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldapOffline.js">mailnews/addrbook/test/unit/test_ldapOffline.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldapOffline.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldapOffline.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldapOffline.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldapOffline.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_ldapOffline.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteMyDomain.js">mailnews/addrbook/test/unit/test_nsAbAutoCompleteMyDomain.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteMyDomain.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteMyDomain.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteMyDomain.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteMyDomain.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteMyDomain.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch3.js">mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch3.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch3.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch3.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch3.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch4.js">mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch4.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch4.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch4.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch4.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch4.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch4.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch5.js">mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch5.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch5.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch5.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch5.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch5.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch5.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch6.js">mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch6.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch6.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch6.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch6.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch6.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch6.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch7.js">mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch7.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch7.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch7.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch7.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch7.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch7.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager1.js">mailnews/addrbook/test/unit/test_nsAbManager1.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager1.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager1.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager1.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager1.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager1.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager2.js">mailnews/addrbook/test/unit/test_nsAbManager2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/addrbook/test/unit/test_nsAbManager2.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/markByDate.js">mailnews/base/content/markByDate.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/markByDate.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/markByDate.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/markByDate.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/markByDate.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/markByDate.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/msgPrintEngine.js">mailnews/base/content/msgPrintEngine.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/msgPrintEngine.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/msgPrintEngine.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/msgPrintEngine.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/msgPrintEngine.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/msgPrintEngine.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newFolderDialog.js">mailnews/base/content/newFolderDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newFolderDialog.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newFolderDialog.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newFolderDialog.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newFolderDialog.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newFolderDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newmailalert.js">mailnews/base/content/newmailalert.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newmailalert.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newmailalert.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newmailalert.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newmailalert.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/newmailalert.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/virtualFolderProperties.js">mailnews/base/content/virtualFolderProperties.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/virtualFolderProperties.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/virtualFolderProperties.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/virtualFolderProperties.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/virtualFolderProperties.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/content/virtualFolderProperties.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/AccountWizard.js">mailnews/base/prefs/content/AccountWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/AccountWizard.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/AccountWizard.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/AccountWizard.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/AccountWizard.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/AccountWizard.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/accountcreation/guessConfig.js">mailnews/base/prefs/content/accountcreation/guessConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/accountcreation/guessConfig.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/accountcreation/guessConfig.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/accountcreation/guessConfig.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/accountcreation/guessConfig.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/accountcreation/guessConfig.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/smtpEditOverlay.js">mailnews/base/prefs/content/smtpEditOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/smtpEditOverlay.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/smtpEditOverlay.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/smtpEditOverlay.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/smtpEditOverlay.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/prefs/content/smtpEditOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/content/FilterEditor.js">mailnews/base/search/content/FilterEditor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/content/FilterEditor.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/content/FilterEditor.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/content/FilterEditor.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/content/FilterEditor.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/content/FilterEditor.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/src/nsMsgTraitService.js">mailnews/base/search/src/nsMsgTraitService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/src/nsMsgTraitService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/src/nsMsgTraitService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/src/nsMsgTraitService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/src/nsMsgTraitService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/search/src/nsMsgTraitService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/folderLookupService.js">mailnews/base/src/folderLookupService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/folderLookupService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/folderLookupService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/folderLookupService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/folderLookupService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/folderLookupService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgAsyncPrompter.js">mailnews/base/src/msgAsyncPrompter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgAsyncPrompter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgAsyncPrompter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgAsyncPrompter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgAsyncPrompter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgAsyncPrompter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgOAuth2Module.js">mailnews/base/src/msgOAuth2Module.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgOAuth2Module.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgOAuth2Module.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgOAuth2Module.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgOAuth2Module.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/msgOAuth2Module.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/newMailNotificationService.js">mailnews/base/src/newMailNotificationService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/newMailNotificationService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/newMailNotificationService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/newMailNotificationService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/newMailNotificationService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/newMailNotificationService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/nsMailNewsCommandLineHandler.js">mailnews/base/src/nsMailNewsCommandLineHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/nsMailNewsCommandLineHandler.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/nsMailNewsCommandLineHandler.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/nsMailNewsCommandLineHandler.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/nsMailNewsCommandLineHandler.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/nsMailNewsCommandLineHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/virtualFolderWrapper.js">mailnews/base/src/virtualFolderWrapper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/virtualFolderWrapper.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/virtualFolderWrapper.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/virtualFolderWrapper.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/virtualFolderWrapper.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/src/virtualFolderWrapper.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_autoconfigFetchDisk.js">mailnews/base/test/unit/test_autoconfigFetchDisk.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_autoconfigFetchDisk.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_autoconfigFetchDisk.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_autoconfigFetchDisk.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_autoconfigFetchDisk.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_autoconfigFetchDisk.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug366491.js">mailnews/base/test/unit/test_bug366491.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug366491.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug366491.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug366491.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug366491.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug366491.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug404489.js">mailnews/base/test/unit/test_bug404489.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug404489.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug404489.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug404489.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug404489.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug404489.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug428427.js">mailnews/base/test/unit/test_bug428427.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug428427.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug428427.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug428427.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug428427.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug428427.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug465805.js">mailnews/base/test/unit/test_bug465805.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug465805.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug465805.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug465805.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug465805.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug465805.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug471682.js">mailnews/base/test/unit/test_bug471682.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug471682.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug471682.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug471682.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug471682.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_bug471682.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_compactColumnSave.js">mailnews/base/test/unit/test_compactColumnSave.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_compactColumnSave.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_compactColumnSave.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_compactColumnSave.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_compactColumnSave.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_compactColumnSave.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyChaining.js">mailnews/base/test/unit/test_copyChaining.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyChaining.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyChaining.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyChaining.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyChaining.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyChaining.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyThenMoveManual.js">mailnews/base/test/unit/test_copyThenMoveManual.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyThenMoveManual.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyThenMoveManual.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyThenMoveManual.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyThenMoveManual.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_copyThenMoveManual.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_emptyTrash.js">mailnews/base/test/unit/test_emptyTrash.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_emptyTrash.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_emptyTrash.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_emptyTrash.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_emptyTrash.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_emptyTrash.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderCompact.js">mailnews/base/test/unit/test_folderCompact.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderCompact.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderCompact.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderCompact.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderCompact.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderCompact.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderLookupService.js">mailnews/base/test/unit/test_folderLookupService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderLookupService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderLookupService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderLookupService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderLookupService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_folderLookupService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_formatFileSize.js">mailnews/base/test/unit/test_formatFileSize.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_formatFileSize.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_formatFileSize.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_formatFileSize.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_formatFileSize.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_formatFileSize.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_getMsgTextFromStream.js">mailnews/base/test/unit/test_getMsgTextFromStream.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_getMsgTextFromStream.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_getMsgTextFromStream.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_getMsgTextFromStream.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_getMsgTextFromStream.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_getMsgTextFromStream.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_imapPump.js">mailnews/base/test/unit/test_imapPump.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_imapPump.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_imapPump.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_imapPump.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_imapPump.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_imapPump.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_iteratorUtils.js">mailnews/base/test/unit/test_iteratorUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_iteratorUtils.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_iteratorUtils.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_iteratorUtils.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_iteratorUtils.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_iteratorUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkWhitelisting.js">mailnews/base/test/unit/test_junkWhitelisting.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkWhitelisting.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkWhitelisting.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkWhitelisting.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkWhitelisting.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkWhitelisting.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkingWhenDisabled.js">mailnews/base/test/unit/test_junkingWhenDisabled.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkingWhenDisabled.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkingWhenDisabled.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkingWhenDisabled.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkingWhenDisabled.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_junkingWhenDisabled.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_newMailNotification.js">mailnews/base/test/unit/test_newMailNotification.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_newMailNotification.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_newMailNotification.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_newMailNotification.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_newMailNotification.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_newMailNotification.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListener.js">mailnews/base/test/unit/test_nsIMsgFolderListener.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListener.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListener.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListener.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListener.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListener.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgMailSession_Listeners.js">mailnews/base/test/unit/test_nsMsgMailSession_Listeners.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgMailSession_Listeners.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgMailSession_Listeners.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgMailSession_Listeners.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgMailSession_Listeners.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgMailSession_Listeners.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgTraitService.js">mailnews/base/test/unit/test_nsMsgTraitService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgTraitService.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgTraitService.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgTraitService.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgTraitService.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_nsMsgTraitService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_postPluginFilters.js">mailnews/base/test/unit/test_postPluginFilters.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_postPluginFilters.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_postPluginFilters.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_postPluginFilters.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_postPluginFilters.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_postPluginFilters.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_quarantineFilterMove.js">mailnews/base/test/unit/test_quarantineFilterMove.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_quarantineFilterMove.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_quarantineFilterMove.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_quarantineFilterMove.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_quarantineFilterMove.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_quarantineFilterMove.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_search.js">mailnews/base/test/unit/test_search.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_search.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_search.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_search.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_search.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_search.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchAddressInAb.js">mailnews/base/test/unit/test_searchAddressInAb.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchAddressInAb.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchAddressInAb.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchAddressInAb.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchAddressInAb.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchAddressInAb.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBody.js">mailnews/base/test/unit/test_searchBody.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBody.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBody.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBody.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBody.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBody.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBoolean.js">mailnews/base/test/unit/test_searchBoolean.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBoolean.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBoolean.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBoolean.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBoolean.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchBoolean.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchCustomTerm.js">mailnews/base/test/unit/test_searchCustomTerm.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchCustomTerm.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchCustomTerm.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchCustomTerm.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchCustomTerm.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchCustomTerm.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchJunk.js">mailnews/base/test/unit/test_searchJunk.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchJunk.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchJunk.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchJunk.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchJunk.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchJunk.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchLocalizationStrings.js">mailnews/base/test/unit/test_searchLocalizationStrings.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchLocalizationStrings.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchLocalizationStrings.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchLocalizationStrings.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchLocalizationStrings.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchLocalizationStrings.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchTag.js">mailnews/base/test/unit/test_searchTag.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchTag.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchTag.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchTag.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchTag.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchTag.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchUint32HdrProperty.js">mailnews/base/test/unit/test_searchUint32HdrProperty.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchUint32HdrProperty.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchUint32HdrProperty.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchUint32HdrProperty.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchUint32HdrProperty.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_searchUint32HdrProperty.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_testsuite_fakeserverAuth.js">mailnews/base/test/unit/test_testsuite_fakeserverAuth.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_testsuite_fakeserverAuth.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_testsuite_fakeserverAuth.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_testsuite_fakeserverAuth.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_testsuite_fakeserverAuth.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_testsuite_fakeserverAuth.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_viewSortByAddresses.js">mailnews/base/test/unit/test_viewSortByAddresses.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_viewSortByAddresses.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_viewSortByAddresses.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_viewSortByAddresses.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_viewSortByAddresses.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/test/unit/test_viewSortByAddresses.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/IOUtils.js">mailnews/base/util/IOUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/IOUtils.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/IOUtils.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/IOUtils.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/IOUtils.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/IOUtils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/JXON.js">mailnews/base/util/JXON.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/JXON.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/JXON.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/JXON.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/JXON.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/JXON.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2.jsm">mailnews/base/util/OAuth2.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2Providers.jsm">mailnews/base/util/OAuth2Providers.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2Providers.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2Providers.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2Providers.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2Providers.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/OAuth2Providers.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/hostnameUtils.jsm">mailnews/base/util/hostnameUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/hostnameUtils.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/hostnameUtils.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/hostnameUtils.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/hostnameUtils.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/hostnameUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/iteratorUtils.jsm">mailnews/base/util/iteratorUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/iteratorUtils.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/iteratorUtils.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/iteratorUtils.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/iteratorUtils.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/iteratorUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/jsTreeSelection.js">mailnews/base/util/jsTreeSelection.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/jsTreeSelection.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/jsTreeSelection.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/jsTreeSelection.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/jsTreeSelection.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/jsTreeSelection.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/mailnewsMigrator.js">mailnews/base/util/mailnewsMigrator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/mailnewsMigrator.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/mailnewsMigrator.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/mailnewsMigrator.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/mailnewsMigrator.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/mailnewsMigrator.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/msgDBCacheManager.js">mailnews/base/util/msgDBCacheManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/msgDBCacheManager.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/msgDBCacheManager.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/msgDBCacheManager.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/msgDBCacheManager.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/msgDBCacheManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/templateUtils.js">mailnews/base/util/templateUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/templateUtils.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/templateUtils.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/templateUtils.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/templateUtils.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/templateUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/traceHelper.js">mailnews/base/util/traceHelper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/traceHelper.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/traceHelper.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/traceHelper.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/traceHelper.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/base/util/traceHelper.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/src/nsSMTPProtocolHandler.js">mailnews/compose/src/nsSMTPProtocolHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/src/nsSMTPProtocolHandler.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/src/nsSMTPProtocolHandler.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/src/nsSMTPProtocolHandler.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/src/nsSMTPProtocolHandler.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/src/nsSMTPProtocolHandler.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment.js">mailnews/compose/test/unit/test_attachment.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment_intl.js">mailnews/compose/test/unit/test_attachment_intl.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment_intl.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment_intl.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment_intl.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment_intl.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_attachment_intl.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug155172.js">mailnews/compose/test/unit/test_bug155172.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug155172.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug155172.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug155172.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug155172.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug155172.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug235432.js">mailnews/compose/test/unit/test_bug235432.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug235432.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug235432.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug235432.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug235432.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug235432.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug474774.js">mailnews/compose/test/unit/test_bug474774.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug474774.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug474774.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug474774.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug474774.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_bug474774.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_expandMailingLists.js">mailnews/compose/test/unit/test_expandMailingLists.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_expandMailingLists.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_expandMailingLists.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_expandMailingLists.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_expandMailingLists.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_expandMailingLists.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_mailtoURL.js">mailnews/compose/test/unit/test_mailtoURL.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_mailtoURL.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_mailtoURL.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_mailtoURL.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_mailtoURL.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_mailtoURL.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose1.js">mailnews/compose/test/unit/test_nsMsgCompose1.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose1.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose1.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose1.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose1.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose1.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose2.js">mailnews/compose/test/unit/test_nsMsgCompose2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose3.js">mailnews/compose/test/unit/test_nsMsgCompose3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose3.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose3.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose3.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose3.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose4.js">mailnews/compose/test/unit/test_nsMsgCompose4.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose4.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose4.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose4.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose4.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsMsgCompose4.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsSmtpService1.js">mailnews/compose/test/unit/test_nsSmtpService1.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsSmtpService1.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsSmtpService1.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsSmtpService1.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsSmtpService1.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_nsSmtpService1.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendBackground.js">mailnews/compose/test/unit/test_sendBackground.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendBackground.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendBackground.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendBackground.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendBackground.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendBackground.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailAddressIDN.js">mailnews/compose/test/unit/test_sendMailAddressIDN.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailAddressIDN.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailAddressIDN.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailAddressIDN.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailAddressIDN.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailAddressIDN.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailMessage.js">mailnews/compose/test/unit/test_sendMailMessage.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailMessage.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailMessage.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailMessage.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailMessage.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMailMessage.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageFile.js">mailnews/compose/test/unit/test_sendMessageFile.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageFile.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageFile.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageFile.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageFile.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageFile.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater.js">mailnews/compose/test/unit/test_sendMessageLater.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater2.js">mailnews/compose/test/unit/test_sendMessageLater2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater2.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater3.js">mailnews/compose/test/unit/test_sendMessageLater3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater3.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater3.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater3.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater3.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_sendMessageLater3.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtp8bitMime.js">mailnews/compose/test/unit/test_smtp8bitMime.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtp8bitMime.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtp8bitMime.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtp8bitMime.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtp8bitMime.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtp8bitMime.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpAuthMethods.js">mailnews/compose/test/unit/test_smtpAuthMethods.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpAuthMethods.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpAuthMethods.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpAuthMethods.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpAuthMethods.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpAuthMethods.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword.js">mailnews/compose/test/unit/test_smtpPassword.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword2.js">mailnews/compose/test/unit/test_smtpPassword2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPassword2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">mailnews/compose/test/unit/test_smtpPasswordFailure1.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">mailnews/compose/test/unit/test_smtpPasswordFailure2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">mailnews/compose/test/unit/test_smtpPasswordFailure3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpProtocols.js">mailnews/compose/test/unit/test_smtpProtocols.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpProtocols.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpProtocols.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpProtocols.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpProtocols.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpProtocols.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpURL.js">mailnews/compose/test/unit/test_smtpURL.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpURL.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpURL.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpURL.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpURL.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_smtpURL.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_splitRecipients.js">mailnews/compose/test/unit/test_splitRecipients.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_splitRecipients.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_splitRecipients.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_splitRecipients.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_splitRecipients.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/compose/test/unit/test_splitRecipients.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/glautocomp.js">mailnews/db/gloda/components/glautocomp.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/glautocomp.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/glautocomp.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/glautocomp.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/glautocomp.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/glautocomp.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/jsmimeemitter.js">mailnews/db/gloda/components/jsmimeemitter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/jsmimeemitter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/jsmimeemitter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/jsmimeemitter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/jsmimeemitter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/components/jsmimeemitter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/collection.js">mailnews/db/gloda/modules/collection.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/collection.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/collection.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/collection.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/collection.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/collection.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/connotent.js">mailnews/db/gloda/modules/connotent.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/connotent.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/connotent.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/connotent.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/connotent.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/connotent.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/databind.js">mailnews/db/gloda/modules/databind.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/databind.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/databind.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/databind.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/databind.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/databind.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datamodel.js">mailnews/db/gloda/modules/datamodel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datamodel.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datamodel.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datamodel.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datamodel.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datamodel.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datastore.js">mailnews/db/gloda/modules/datastore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datastore.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datastore.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datastore.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datastore.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/datastore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/dbview.js">mailnews/db/gloda/modules/dbview.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/dbview.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/dbview.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/dbview.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/dbview.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/dbview.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/everybody.js">mailnews/db/gloda/modules/everybody.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/everybody.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/everybody.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/everybody.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/everybody.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/everybody.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/explattr.js">mailnews/db/gloda/modules/explattr.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/explattr.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/explattr.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/explattr.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/explattr.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/explattr.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/facet.js">mailnews/db/gloda/modules/facet.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/facet.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/facet.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/facet.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/facet.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/facet.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/fundattr.js">mailnews/db/gloda/modules/fundattr.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/fundattr.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/fundattr.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/fundattr.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/fundattr.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/fundattr.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/gloda.js">mailnews/db/gloda/modules/gloda.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/gloda.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/gloda.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/gloda.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/gloda.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/gloda.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_ab.js">mailnews/db/gloda/modules/index_ab.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_ab.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_ab.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_ab.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_ab.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_ab.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_msg.js">mailnews/db/gloda/modules/index_msg.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_msg.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_msg.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_msg.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_msg.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/index_msg.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/indexer.js">mailnews/db/gloda/modules/indexer.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/indexer.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/indexer.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/indexer.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/indexer.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/indexer.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/log4moz.js">mailnews/db/gloda/modules/log4moz.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/log4moz.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/log4moz.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/log4moz.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/log4moz.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/log4moz.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/mimemsg.js">mailnews/db/gloda/modules/mimemsg.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/mimemsg.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/mimemsg.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/mimemsg.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/mimemsg.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/mimemsg.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/msg_search.js">mailnews/db/gloda/modules/msg_search.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/msg_search.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/msg_search.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/msg_search.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/msg_search.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/msg_search.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_freetag.js">mailnews/db/gloda/modules/noun_freetag.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_freetag.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_freetag.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_freetag.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_freetag.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_freetag.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_mimetype.js">mailnews/db/gloda/modules/noun_mimetype.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_mimetype.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_mimetype.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_mimetype.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_mimetype.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_mimetype.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_tag.js">mailnews/db/gloda/modules/noun_tag.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_tag.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_tag.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_tag.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_tag.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/noun_tag.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/public.js">mailnews/db/gloda/modules/public.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/public.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/public.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/public.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/public.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/public.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/query.js">mailnews/db/gloda/modules/query.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/query.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/query.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/query.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/query.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/query.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/utils.js">mailnews/db/gloda/modules/utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/utils.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/utils.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/utils.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/utils.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/modules/utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_index_junk.js">mailnews/db/gloda/test/unit/base_index_junk.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_index_junk.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_index_junk.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_index_junk.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_index_junk.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_index_junk.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_query_messages.js">mailnews/db/gloda/test/unit/base_query_messages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_query_messages.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_query_messages.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_query_messages.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_query_messages.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/base_query_messages.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">mailnews/db/gloda/test/unit/resources/glodaTestHelper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_corrupt_database.js">mailnews/db/gloda/test/unit/test_corrupt_database.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_corrupt_database.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_corrupt_database.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_corrupt_database.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_corrupt_database.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_corrupt_database.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_addressbook.js">mailnews/db/gloda/test/unit/test_index_addressbook.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_addressbook.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_addressbook.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_addressbook.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_addressbook.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_addressbook.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_bad_messages.js">mailnews/db/gloda/test/unit/test_index_bad_messages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_bad_messages.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_bad_messages.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_bad_messages.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_bad_messages.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_bad_messages.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_sweep_folder.js">mailnews/db/gloda/test/unit/test_index_sweep_folder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_sweep_folder.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_sweep_folder.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_sweep_folder.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_sweep_folder.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_index_sweep_folder.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">mailnews/db/gloda/test/unit/test_mime_attachments_size.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_emitter.js">mailnews/db/gloda/test/unit/test_mime_emitter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_emitter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_emitter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_emitter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_emitter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_mime_emitter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_query_core.js">mailnews/db/gloda/test/unit/test_query_core.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_query_core.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_query_core.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_query_core.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_query_core.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_query_core.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_smime_mimemsg_representation.js">mailnews/db/gloda/test/unit/test_smime_mimemsg_representation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_smime_mimemsg_representation.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_smime_mimemsg_representation.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_smime_mimemsg_representation.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_smime_mimemsg_representation.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/gloda/test/unit/test_smime_mimemsg_representation.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_enumerator_cleanup.js">mailnews/db/msgdb/test/unit/test_enumerator_cleanup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_enumerator_cleanup.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_enumerator_cleanup.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_enumerator_cleanup.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_enumerator_cleanup.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_enumerator_cleanup.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_filter_enumerator.js">mailnews/db/msgdb/test/unit/test_filter_enumerator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_filter_enumerator.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_filter_enumerator.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_filter_enumerator.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_filter_enumerator.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_filter_enumerator.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_maildb.js">mailnews/db/msgdb/test/unit/test_maildb.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_maildb.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_maildb.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_maildb.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_maildb.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_maildb.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_references_parsing.js">mailnews/db/msgdb/test/unit/test_references_parsing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_references_parsing.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_references_parsing.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_references_parsing.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_references_parsing.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/db/msgdb/test/unit/test_references_parsing.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_customTokenization.js">mailnews/extensions/bayesian-spam-filter/test/unit/test_customTokenization.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_customTokenization.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_customTokenization.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_customTokenization.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_customTokenization.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_customTokenization.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_junkAsTraits.js">mailnews/extensions/bayesian-spam-filter/test/unit/test_junkAsTraits.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_junkAsTraits.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_junkAsTraits.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_junkAsTraits.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_junkAsTraits.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_junkAsTraits.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traitAliases.js">mailnews/extensions/bayesian-spam-filter/test/unit/test_traitAliases.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traitAliases.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traitAliases.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traitAliases.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traitAliases.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traitAliases.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/dsn/src/dsn-service.js">mailnews/extensions/dsn/src/dsn-service.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/dsn/src/dsn-service.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/dsn/src/dsn-service.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/dsn/src/dsn-service.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/dsn/src/dsn-service.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/dsn/src/dsn-service.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/mdn/src/mdn-service.js">mailnews/extensions/mdn/src/mdn-service.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/mdn/src/mdn-service.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/mdn/src/mdn-service.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/mdn/src/mdn-service.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/mdn/src/mdn-service.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/mdn/src/mdn-service.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/offline-startup/js/offlineStartup.js">mailnews/extensions/offline-startup/js/offlineStartup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/offline-startup/js/offlineStartup.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/offline-startup/js/offlineStartup.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/offline-startup/js/offlineStartup.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/offline-startup/js/offlineStartup.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/offline-startup/js/offlineStartup.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/am-smime.js">mailnews/extensions/smime/content/am-smime.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/am-smime.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/am-smime.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/am-smime.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/am-smime.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/am-smime.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/certFetchingStatus.js">mailnews/extensions/smime/content/certFetchingStatus.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/certFetchingStatus.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/certFetchingStatus.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/certFetchingStatus.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/certFetchingStatus.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/certFetchingStatus.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSMIMEOverlay.js">mailnews/extensions/smime/content/msgCompSMIMEOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSMIMEOverlay.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSMIMEOverlay.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSMIMEOverlay.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSMIMEOverlay.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSMIMEOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSecurityInfo.js">mailnews/extensions/smime/content/msgCompSecurityInfo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSecurityInfo.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSecurityInfo.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSecurityInfo.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSecurityInfo.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgCompSecurityInfo.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgReadSecurityInfo.js">mailnews/extensions/smime/content/msgReadSecurityInfo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgReadSecurityInfo.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgReadSecurityInfo.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgReadSecurityInfo.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgReadSecurityInfo.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/content/msgReadSecurityInfo.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/src/smime-service.js">mailnews/extensions/smime/src/smime-service.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/src/smime-service.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/src/smime-service.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/src/smime-service.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/src/smime-service.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/extensions/smime/src/smime-service.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bccProperty.js">mailnews/imap/test/unit/test_bccProperty.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bccProperty.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bccProperty.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bccProperty.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bccProperty.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bccProperty.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bug460636.js">mailnews/imap/test/unit/test_bug460636.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bug460636.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bug460636.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bug460636.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bug460636.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_bug460636.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_chunkLastLF.js">mailnews/imap/test/unit/test_chunkLastLF.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_chunkLastLF.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_chunkLastLF.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_chunkLastLF.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_chunkLastLF.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_chunkLastLF.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_compactOfflineStore.js">mailnews/imap/test/unit/test_compactOfflineStore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_compactOfflineStore.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_compactOfflineStore.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_compactOfflineStore.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_compactOfflineStore.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_compactOfflineStore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_downloadOffline.js">mailnews/imap/test/unit/test_downloadOffline.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_downloadOffline.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_downloadOffline.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_downloadOffline.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_downloadOffline.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_downloadOffline.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_fetchCustomAttribute.js">mailnews/imap/test/unit/test_fetchCustomAttribute.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_fetchCustomAttribute.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_fetchCustomAttribute.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_fetchCustomAttribute.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_fetchCustomAttribute.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_fetchCustomAttribute.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_filterNeedsBody.js">mailnews/imap/test/unit/test_filterNeedsBody.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_filterNeedsBody.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_filterNeedsBody.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_filterNeedsBody.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_filterNeedsBody.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_filterNeedsBody.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailAttributes.js">mailnews/imap/test/unit/test_gmailAttributes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailAttributes.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailAttributes.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailAttributes.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailAttributes.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailAttributes.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">mailnews/imap/test/unit/test_gmailOfflineMsgStore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAttachmentSaves.js">mailnews/imap/test/unit/test_imapAttachmentSaves.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAttachmentSaves.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAttachmentSaves.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAttachmentSaves.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAttachmentSaves.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAttachmentSaves.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAutoSync.js">mailnews/imap/test/unit/test_imapAutoSync.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAutoSync.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAutoSync.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAutoSync.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAutoSync.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapAutoSync.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapChunks.js">mailnews/imap/test/unit/test_imapChunks.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapChunks.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapChunks.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapChunks.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapChunks.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapChunks.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapContentLength.js">mailnews/imap/test/unit/test_imapContentLength.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapContentLength.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapContentLength.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapContentLength.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapContentLength.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapContentLength.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActions.js">mailnews/imap/test/unit/test_imapFilterActions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActions.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActions.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActions.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActions.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActionsPostplugin.js">mailnews/imap/test/unit/test_imapFilterActionsPostplugin.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActionsPostplugin.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActionsPostplugin.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActionsPostplugin.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActionsPostplugin.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapFilterActionsPostplugin.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrChunking.js">mailnews/imap/test/unit/test_imapHdrChunking.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrChunking.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrChunking.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrChunking.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrChunking.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrChunking.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrStreaming.js">mailnews/imap/test/unit/test_imapHdrStreaming.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrStreaming.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrStreaming.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrStreaming.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrStreaming.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapHdrStreaming.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapID.js">mailnews/imap/test/unit/test_imapID.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapID.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapID.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapID.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapID.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapID.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapPasswordFailure.js">mailnews/imap/test/unit/test_imapPasswordFailure.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapPasswordFailure.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapPasswordFailure.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapPasswordFailure.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapPasswordFailure.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapPasswordFailure.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapProtocols.js">mailnews/imap/test/unit/test_imapProtocols.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapProtocols.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapProtocols.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapProtocols.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapProtocols.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapProtocols.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapSearch.js">mailnews/imap/test/unit/test_imapSearch.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapSearch.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapSearch.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapSearch.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapSearch.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapSearch.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">mailnews/imap/test/unit/test_imapStoreMsgOffline.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapUndo.js">mailnews/imap/test/unit/test_imapUndo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapUndo.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapUndo.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapUndo.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapUndo.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_imapUndo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilter.js">mailnews/imap/test/unit/test_localToImapFilter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">mailnews/imap/test/unit/test_localToImapFilterQuarantine.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlineCopy.js">mailnews/imap/test/unit/test_offlineCopy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlineCopy.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlineCopy.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlineCopy.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlineCopy.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlineCopy.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlinePlayback.js">mailnews/imap/test/unit/test_offlinePlayback.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlinePlayback.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlinePlayback.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlinePlayback.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlinePlayback.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_offlinePlayback.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_preserveDataOnMove.js">mailnews/imap/test/unit/test_preserveDataOnMove.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_preserveDataOnMove.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_preserveDataOnMove.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_preserveDataOnMove.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_preserveDataOnMove.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_preserveDataOnMove.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_subfolderLocation.js">mailnews/imap/test/unit/test_subfolderLocation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_subfolderLocation.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_subfolderLocation.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_subfolderLocation.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_subfolderLocation.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_subfolderLocation.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_trustSpamAssassin.js">mailnews/imap/test/unit/test_trustSpamAssassin.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_trustSpamAssassin.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_trustSpamAssassin.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_trustSpamAssassin.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_trustSpamAssassin.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/imap/test/unit/test_trustSpamAssassin.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/content/importDialog.js">mailnews/import/content/importDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/content/importDialog.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/content/importDialog.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/content/importDialog.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/content/importDialog.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/content/importDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/test/unit/resources/TestMailImporter.js">mailnews/import/test/unit/resources/TestMailImporter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/test/unit/resources/TestMailImporter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/test/unit/resources/TestMailImporter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/test/unit/resources/TestMailImporter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/test/unit/resources/TestMailImporter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/import/test/unit/resources/TestMailImporter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/CharsetConversionTests.js">mailnews/intl/test/unit/CharsetConversionTests.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/CharsetConversionTests.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/CharsetConversionTests.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/CharsetConversionTests.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/CharsetConversionTests.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/CharsetConversionTests.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7.js">mailnews/intl/test/unit/test_decode_utf-7.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7_internal.js">mailnews/intl/test/unit/test_decode_utf-7_internal.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7_internal.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7_internal.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7_internal.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7_internal.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_decode_utf-7_internal.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7.js">mailnews/intl/test/unit/test_encode_utf-7.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7_internal.js">mailnews/intl/test/unit/test_encode_utf-7_internal.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7_internal.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7_internal.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7_internal.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7_internal.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/intl/test/unit/test_encode_utf-7_internal.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_mailboxProtocol.js">mailnews/local/test/unit/test_mailboxProtocol.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_mailboxProtocol.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_mailboxProtocol.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_mailboxProtocol.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_mailboxProtocol.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_mailboxProtocol.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_msgCopy.js">mailnews/local/test/unit/test_msgCopy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_msgCopy.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_msgCopy.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_msgCopy.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_msgCopy.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_msgCopy.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over2GBMailboxes.js">mailnews/local/test/unit/test_over2GBMailboxes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over2GBMailboxes.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over2GBMailboxes.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over2GBMailboxes.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over2GBMailboxes.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over2GBMailboxes.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over4GBMailboxes.js">mailnews/local/test/unit/test_over4GBMailboxes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over4GBMailboxes.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over4GBMailboxes.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over4GBMailboxes.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over4GBMailboxes.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_over4GBMailboxes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3FilterActions.js">mailnews/local/test/unit/test_pop3FilterActions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3FilterActions.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3FilterActions.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3FilterActions.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3FilterActions.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3FilterActions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter.js">mailnews/local/test/unit/test_pop3MoveFilter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter2.js">mailnews/local/test/unit/test_pop3MoveFilter2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3MoveFilter2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3Password3.js">mailnews/local/test/unit/test_pop3Password3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3Password3.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3Password3.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3Password3.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3Password3.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3Password3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure.js">mailnews/local/test/unit/test_pop3PasswordFailure.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure2.js">mailnews/local/test/unit/test_pop3PasswordFailure2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure2.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure2.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure2.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure2.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure2.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure3.js">mailnews/local/test/unit/test_pop3PasswordFailure3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure3.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure3.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure3.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure3.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3PasswordFailure3.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMDisconnect.js">mailnews/local/test/unit/test_pop3ServerBrokenCRAMDisconnect.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMDisconnect.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMDisconnect.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMDisconnect.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMDisconnect.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMDisconnect.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMFail.js">mailnews/local/test/unit/test_pop3ServerBrokenCRAMFail.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMFail.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMFail.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMFail.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMFail.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_pop3ServerBrokenCRAMFail.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_preview.js">mailnews/local/test/unit/test_preview.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_preview.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_preview.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_preview.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_preview.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_preview.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_saveMessage.js">mailnews/local/test/unit/test_saveMessage.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_saveMessage.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_saveMessage.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_saveMessage.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_saveMessage.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_saveMessage.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_undoDelete.js">mailnews/local/test/unit/test_undoDelete.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_undoDelete.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_undoDelete.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_undoDelete.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_undoDelete.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_undoDelete.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_verifyLogon.js">mailnews/local/test/unit/test_verifyLogon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_verifyLogon.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_verifyLogon.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_verifyLogon.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_verifyLogon.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/local/test/unit/test_verifyLogon.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/jsmime/jsmime.js">mailnews/mime/jsmime/jsmime.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/jsmime/jsmime.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/jsmime/jsmime.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/jsmime/jsmime.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/jsmime/jsmime.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/jsmime/jsmime.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/jsmime.jsm">mailnews/mime/src/jsmime.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/jsmime.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/jsmime.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/jsmime.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/jsmime.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/jsmime.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/mimeParser.jsm">mailnews/mime/src/mimeParser.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/mimeParser.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/mimeParser.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/mimeParser.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/mimeParser.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/src/mimeParser.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_alternate_p7m_handling.js">mailnews/mime/test/unit/test_alternate_p7m_handling.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_alternate_p7m_handling.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_alternate_p7m_handling.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_alternate_p7m_handling.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_alternate_p7m_handling.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_alternate_p7m_handling.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_attachment_size.js">mailnews/mime/test/unit/test_attachment_size.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_attachment_size.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_attachment_size.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_attachment_size.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_attachment_size.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_attachment_size.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_badContentType.js">mailnews/mime/test/unit/test_badContentType.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_badContentType.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_badContentType.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_badContentType.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_badContentType.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_badContentType.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_hidden_attachments.js">mailnews/mime/test/unit/test_hidden_attachments.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_hidden_attachments.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_hidden_attachments.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_hidden_attachments.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_hidden_attachments.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_hidden_attachments.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_message_attachment.js">mailnews/mime/test/unit/test_message_attachment.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_message_attachment.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_message_attachment.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_message_attachment.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_message_attachment.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_message_attachment.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_parser.js">mailnews/mime/test/unit/test_parser.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_parser.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_parser.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_parser.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_parser.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_parser.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_rfc822_body.js">mailnews/mime/test/unit/test_rfc822_body.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_rfc822_body.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_rfc822_body.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_rfc822_body.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_rfc822_body.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_rfc822_body.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_text_attachment.js">mailnews/mime/test/unit/test_text_attachment.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_text_attachment.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_text_attachment.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_text_attachment.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_text_attachment.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/mime/test/unit/test_text_attachment.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/src/nsNewsAutoCompleteSearch.js">mailnews/news/src/nsNewsAutoCompleteSearch.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/src/nsNewsAutoCompleteSearch.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/src/nsNewsAutoCompleteSearch.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/src/nsNewsAutoCompleteSearch.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/src/nsNewsAutoCompleteSearch.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/src/nsNewsAutoCompleteSearch.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/head_server_setup.js">mailnews/news/test/unit/head_server_setup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/head_server_setup.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/head_server_setup.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/head_server_setup.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/head_server_setup.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/head_server_setup.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_newsAutocomplete.js">mailnews/news/test/unit/test_newsAutocomplete.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_newsAutocomplete.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_newsAutocomplete.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_newsAutocomplete.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_newsAutocomplete.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_newsAutocomplete.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPassword3.js">mailnews/news/test/unit/test_nntpPassword3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPassword3.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPassword3.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPassword3.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPassword3.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPassword3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPasswordFailure.js">mailnews/news/test/unit/test_nntpPasswordFailure.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPasswordFailure.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPasswordFailure.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPasswordFailure.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPasswordFailure.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpPasswordFailure.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpProtocols.js">mailnews/news/test/unit/test_nntpProtocols.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpProtocols.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpProtocols.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpProtocols.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpProtocols.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/news/test/unit/test_nntpProtocols.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/auth.js">mailnews/test/fakeserver/auth.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/auth.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/auth.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/auth.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/auth.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/auth.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/imapd.js">mailnews/test/fakeserver/imapd.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/imapd.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/imapd.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/imapd.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/imapd.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/imapd.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/maild.js">mailnews/test/fakeserver/maild.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/maild.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/maild.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/maild.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/maild.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/maild.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/nntpd.js">mailnews/test/fakeserver/nntpd.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/nntpd.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/nntpd.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/nntpd.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/nntpd.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/nntpd.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/pop3d.js">mailnews/test/fakeserver/pop3d.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/pop3d.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/pop3d.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/pop3d.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/pop3d.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/pop3d.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/smtpd.js">mailnews/test/fakeserver/smtpd.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/smtpd.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/smtpd.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/smtpd.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/smtpd.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/fakeserver/smtpd.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/MockFactory.js">mailnews/test/resources/MockFactory.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/MockFactory.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/MockFactory.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/MockFactory.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/MockFactory.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/MockFactory.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/PromiseTestUtils.jsm">mailnews/test/resources/PromiseTestUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/PromiseTestUtils.jsm">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/PromiseTestUtils.jsm">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/PromiseTestUtils.jsm">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/PromiseTestUtils.jsm">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/PromiseTestUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/abSetup.js">mailnews/test/resources/abSetup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/abSetup.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/abSetup.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/abSetup.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/abSetup.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/abSetup.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/asyncTestUtils.js">mailnews/test/resources/asyncTestUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/asyncTestUtils.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/asyncTestUtils.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/asyncTestUtils.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/asyncTestUtils.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/asyncTestUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/logHelper.js">mailnews/test/resources/logHelper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/logHelper.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/logHelper.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/logHelper.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/logHelper.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/logHelper.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageGenerator.js">mailnews/test/resources/messageGenerator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageGenerator.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageGenerator.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageGenerator.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageGenerator.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageGenerator.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageInjection.js">mailnews/test/resources/messageInjection.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageInjection.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageInjection.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageInjection.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageInjection.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/messageInjection.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/msgFolderListenerSetup.js">mailnews/test/resources/msgFolderListenerSetup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/msgFolderListenerSetup.js">file</a> |
<a href="/comm-central/annotate/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/msgFolderListenerSetup.js">annotate</a> |
<a href="/comm-central/diff/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/msgFolderListenerSetup.js">diff</a> |
<a href="/comm-central/comparison/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/msgFolderListenerSetup.js">comparison</a> |
<a href="/comm-central/log/78ab64eb195b9ab21ee75f3d64adc9e58a72f434/mailnews/test/resources/msgFolderListenerSetup.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/backend/calBackendLoader.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/backend/calBackendLoader.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -9,18 +9,18 @@ function calBackendLoader() {</span>
<a href="#l1.4"></a><span id="l1.4">     this.wrappedJSObject = this;</span>
<a href="#l1.5"></a><span id="l1.5">     try {</span>
<a href="#l1.6"></a><span id="l1.6">         this.loadBackend();</span>
<a href="#l1.7"></a><span id="l1.7">     } catch (e) {</span>
<a href="#l1.8"></a><span id="l1.8">         dump(&quot;### Error loading backend: &quot; + e + &quot;\n&quot;);</span>
<a href="#l1.9"></a><span id="l1.9">     }</span>
<a href="#l1.10"></a><span id="l1.10"> }</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-const calBackendLoaderClassID = Components.ID(&quot;{0314c271-7168-40fa-802e-83c8c46a557e}&quot;);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-const calBackendLoaderInterfaces = [Components.interfaces.nsIObserver];</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+var calBackendLoaderClassID = Components.ID(&quot;{0314c271-7168-40fa-802e-83c8c46a557e}&quot;);</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+var calBackendLoaderInterfaces = [Components.interfaces.nsIObserver];</span>
<a href="#l1.16"></a><span id="l1.16"> calBackendLoader.prototype = {</span>
<a href="#l1.17"></a><span id="l1.17">     classID: calBackendLoaderClassID,</span>
<a href="#l1.18"></a><span id="l1.18">     QueryInterface: XPCOMUtils.generateQI(calBackendLoaderInterfaces),</span>
<a href="#l1.19"></a><span id="l1.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l1.20"></a><span id="l1.20">         classID: calBackendLoaderClassID,</span>
<a href="#l1.21"></a><span id="l1.21">         contractID: &quot;@mozilla.org/calendar/backend-loader;1&quot;,</span>
<a href="#l1.22"></a><span id="l1.22">         classDescription: &quot;Calendar Backend Loader&quot;,</span>
<a href="#l1.23"></a><span id="l1.23">         interfaces: calBackendLoaderInterfaces,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calDateTime.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calDateTime.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -1,25 +1,25 @@</span>
<a href="#l2.4"></a><span id="l2.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.5"></a><span id="l2.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.6"></a><span id="l2.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8"> Components.utils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l2.9"></a><span id="l2.9"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l2.10"></a><span id="l2.10"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-const UNIX_TIME_TO_PRTIME = 1000000;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+var UNIX_TIME_TO_PRTIME = 1000000;</span>
<a href="#l2.14"></a><span id="l2.14"> </span>
<a href="#l2.15"></a><span id="l2.15"> function calDateTime(innerObject) {</span>
<a href="#l2.16"></a><span id="l2.16">     this.wrappedJSObject = this;</span>
<a href="#l2.17"></a><span id="l2.17">     this.innerObject = innerObject || ICAL.Time.epochTime.clone();</span>
<a href="#l2.18"></a><span id="l2.18"> }</span>
<a href="#l2.19"></a><span id="l2.19"> </span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-const calDateTimeInterfaces = [Components.interfaces.calIDateTime];</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineminus">-const calDateTimeClassID = Components.ID(&quot;{36783242-ec94-4d8a-9248-d2679edd55b9}&quot;);</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineplus">+var calDateTimeInterfaces = [Components.interfaces.calIDateTime];</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineplus">+var calDateTimeClassID = Components.ID(&quot;{36783242-ec94-4d8a-9248-d2679edd55b9}&quot;);</span>
<a href="#l2.24"></a><span id="l2.24"> calDateTime.prototype = {</span>
<a href="#l2.25"></a><span id="l2.25">     QueryInterface: XPCOMUtils.generateQI(calDateTimeInterfaces),</span>
<a href="#l2.26"></a><span id="l2.26">     classID: calDateTimeClassID,</span>
<a href="#l2.27"></a><span id="l2.27">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l2.28"></a><span id="l2.28">         contractID: &quot;@mozilla.org/calendar/datetime;1&quot;,</span>
<a href="#l2.29"></a><span id="l2.29">         classDescription: &quot;Describes a Date/Time Object&quot;,</span>
<a href="#l2.30"></a><span id="l2.30">         classID: calDateTimeClassID,</span>
<a href="#l2.31"></a><span id="l2.31">         interfaces: calDateTimeInterfaces</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calDuration.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calDuration.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -5,18 +5,18 @@</span>
<a href="#l3.4"></a><span id="l3.4"> Components.utils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l3.5"></a><span id="l3.5"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l3.6"></a><span id="l3.6"> </span>
<a href="#l3.7"></a><span id="l3.7"> function calDuration(innerObject) {</span>
<a href="#l3.8"></a><span id="l3.8">     this.innerObject = innerObject || new ICAL.Duration();</span>
<a href="#l3.9"></a><span id="l3.9">     this.wrappedJSObject = this;</span>
<a href="#l3.10"></a><span id="l3.10"> }</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-const calDurationInterfaces = [Components.interfaces.calIDuration];</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-const calDurationClassID = Components.ID(&quot;{7436f480-c6fc-4085-9655-330b1ee22288}&quot;);</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+var calDurationInterfaces = [Components.interfaces.calIDuration];</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+var calDurationClassID = Components.ID(&quot;{7436f480-c6fc-4085-9655-330b1ee22288}&quot;);</span>
<a href="#l3.16"></a><span id="l3.16"> calDuration.prototype = {</span>
<a href="#l3.17"></a><span id="l3.17">     QueryInterface: XPCOMUtils.generateQI(calDurationInterfaces),</span>
<a href="#l3.18"></a><span id="l3.18">     classID: calDurationClassID,</span>
<a href="#l3.19"></a><span id="l3.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l3.20"></a><span id="l3.20">         contractID: &quot;@mozilla.org/calendar/duration;1&quot;,</span>
<a href="#l3.21"></a><span id="l3.21">         classDescription: &quot;Calendar Duration Object&quot;,</span>
<a href="#l3.22"></a><span id="l3.22">         classID: calDurationClassID,</span>
<a href="#l3.23"></a><span id="l3.23">         interfaces: calDurationInterfaces</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calICALJSComponents.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calICALJSComponents.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l4.4"></a><span id="l4.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.5"></a><span id="l4.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.6"></a><span id="l4.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10" class="difflineminus">-const scriptLoadOrder = [</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+var scriptLoadOrder = [</span>
<a href="#l4.12"></a><span id="l4.12">     &quot;calTimezone.js&quot;,</span>
<a href="#l4.13"></a><span id="l4.13">     &quot;calDateTime.js&quot;,</span>
<a href="#l4.14"></a><span id="l4.14">     &quot;calDuration.js&quot;,</span>
<a href="#l4.15"></a><span id="l4.15">     &quot;calICSService.js&quot;,</span>
<a href="#l4.16"></a><span id="l4.16">     &quot;calPeriod.js&quot;,</span>
<a href="#l4.17"></a><span id="l4.17">     &quot;calRecurrenceRule.js&quot;,</span>
<a href="#l4.18"></a><span id="l4.18"> ];</span>
<a href="#l4.19"></a><span id="l4.19"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calICSService-worker.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calICSService-worker.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l5.4"></a><span id="l5.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.5"></a><span id="l5.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.6"></a><span id="l5.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8"> /**</span>
<a href="#l5.9"></a><span id="l5.9">  * ChromeWorker for parseICSAsync method in calICSService.js</span>
<a href="#l5.10"></a><span id="l5.10">  */</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-const NS_OK = 0;</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-const NS_ERROR_FAILURE = 2147500037;</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-const ICS_ERROR_BASE = 2152333568;</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+var NS_OK = 0;</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+var NS_ERROR_FAILURE = 2147500037;</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+var ICS_ERROR_BASE = 2152333568;</span>
<a href="#l5.18"></a><span id="l5.18"> </span>
<a href="#l5.19"></a><span id="l5.19"> importScripts(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l5.20"></a><span id="l5.20"> </span>
<a href="#l5.21"></a><span id="l5.21"> onmessage = function onmessage(event) {</span>
<a href="#l5.22"></a><span id="l5.22">     try {</span>
<a href="#l5.23"></a><span id="l5.23">         let comp = ICAL.parse(event.data);</span>
<a href="#l5.24"></a><span id="l5.24">         postMessage({ rc: NS_OK, data: comp });</span>
<a href="#l5.25"></a><span id="l5.25">     } catch (e) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calICSService.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calICSService.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -6,18 +6,18 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l6.4"></a><span id="l6.4"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l6.5"></a><span id="l6.5"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l6.6"></a><span id="l6.6"> </span>
<a href="#l6.7"></a><span id="l6.7"> function calIcalProperty(innerObject) {</span>
<a href="#l6.8"></a><span id="l6.8">     this.innerObject = innerObject || new ICAL.Property();</span>
<a href="#l6.9"></a><span id="l6.9">     this.wrappedJSObject = this;</span>
<a href="#l6.10"></a><span id="l6.10"> }</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-const calIcalPropertyInterfaces = [Components.interfaces.calIIcalProperty];</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-const calIcalPropertyClassID = Components.ID(&quot;{423ac3f0-f612-48b3-953f-47f7f8fd705b}&quot;);</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+var calIcalPropertyInterfaces = [Components.interfaces.calIIcalProperty];</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+var calIcalPropertyClassID = Components.ID(&quot;{423ac3f0-f612-48b3-953f-47f7f8fd705b}&quot;);</span>
<a href="#l6.16"></a><span id="l6.16"> calIcalProperty.prototype = {</span>
<a href="#l6.17"></a><span id="l6.17">     QueryInterface: XPCOMUtils.generateQI(calIcalPropertyInterfaces),</span>
<a href="#l6.18"></a><span id="l6.18">     classID: calIcalPropertyClassID,</span>
<a href="#l6.19"></a><span id="l6.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l6.20"></a><span id="l6.20">         contractID: &quot;@mozilla.org/calendar/ical-property;1&quot;,</span>
<a href="#l6.21"></a><span id="l6.21">         classDescription: &quot;Wrapper for a libical property&quot;,</span>
<a href="#l6.22"></a><span id="l6.22">         classID: calIcalPropertyClassID,</span>
<a href="#l6.23"></a><span id="l6.23">         interfaces: calIcalPropertyInterfaces</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineat">@@ -201,18 +201,18 @@ calIcalProperty.prototype = {</span>
<a href="#l6.25"></a><span id="l6.25"> };</span>
<a href="#l6.26"></a><span id="l6.26"> </span>
<a href="#l6.27"></a><span id="l6.27"> function calIcalComponent(innerObject) {</span>
<a href="#l6.28"></a><span id="l6.28">     this.innerObject = innerObject || new ICAL.Component();</span>
<a href="#l6.29"></a><span id="l6.29">     this.wrappedJSObject = this;</span>
<a href="#l6.30"></a><span id="l6.30">     this.mReferencedZones = {};</span>
<a href="#l6.31"></a><span id="l6.31"> }</span>
<a href="#l6.32"></a><span id="l6.32"> </span>
<a href="#l6.33"></a><span id="l6.33" class="difflineminus">-const calIcalComponentInterfaces = [Components.interfaces.calIIcalComponent];</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-const calIcalComponentClassID = Components.ID(&quot;{51ac96fd-1279-4439-a85b-6947b37f4cea}&quot;);</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+var calIcalComponentInterfaces = [Components.interfaces.calIIcalComponent];</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineplus">+var calIcalComponentClassID = Components.ID(&quot;{51ac96fd-1279-4439-a85b-6947b37f4cea}&quot;);</span>
<a href="#l6.37"></a><span id="l6.37"> calIcalComponent.prototype = {</span>
<a href="#l6.38"></a><span id="l6.38">     QueryInterface: XPCOMUtils.generateQI(calIcalComponentInterfaces),</span>
<a href="#l6.39"></a><span id="l6.39">     classID: calIcalComponentClassID,</span>
<a href="#l6.40"></a><span id="l6.40">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l6.41"></a><span id="l6.41">         contractID: &quot;@mozilla.org/calendar/ical-component;1&quot;,</span>
<a href="#l6.42"></a><span id="l6.42">         classDescription: &quot;Wrapper for a icaljs component&quot;,</span>
<a href="#l6.43"></a><span id="l6.43">         classID: calIcalComponentClassID,</span>
<a href="#l6.44"></a><span id="l6.44">         interfaces: calIcalComponentInterfaces</span>
<a href="#l6.45"></a><span id="l6.45" class="difflineat">@@ -435,18 +435,18 @@ calIcalComponent.prototype = {</span>
<a href="#l6.46"></a><span id="l6.46">         return unicodeConverter.convertToInputStream(this.innerObject.toString());</span>
<a href="#l6.47"></a><span id="l6.47">     }</span>
<a href="#l6.48"></a><span id="l6.48"> };</span>
<a href="#l6.49"></a><span id="l6.49"> </span>
<a href="#l6.50"></a><span id="l6.50"> function calICSService() {</span>
<a href="#l6.51"></a><span id="l6.51">     this.wrappedJSObject = this;</span>
<a href="#l6.52"></a><span id="l6.52"> }</span>
<a href="#l6.53"></a><span id="l6.53"> </span>
<a href="#l6.54"></a><span id="l6.54" class="difflineminus">-const calICSServiceInterfaces = [Components.interfaces.calIICSService];</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineminus">-const calICSServiceClassID = Components.ID(&quot;{c61cb903-4408-41b3-bc22-da0b27efdfe1}&quot;);</span>
<a href="#l6.56"></a><span id="l6.56" class="difflineplus">+var calICSServiceInterfaces = [Components.interfaces.calIICSService];</span>
<a href="#l6.57"></a><span id="l6.57" class="difflineplus">+var calICSServiceClassID = Components.ID(&quot;{c61cb903-4408-41b3-bc22-da0b27efdfe1}&quot;);</span>
<a href="#l6.58"></a><span id="l6.58"> calICSService.prototype = {</span>
<a href="#l6.59"></a><span id="l6.59">     QueryInterface: XPCOMUtils.generateQI(calICSServiceInterfaces),</span>
<a href="#l6.60"></a><span id="l6.60">     classID: calICSServiceClassID,</span>
<a href="#l6.61"></a><span id="l6.61">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l6.62"></a><span id="l6.62">         contractID: &quot;@mozilla.org/calendar/ics-service;1&quot;,</span>
<a href="#l6.63"></a><span id="l6.63">         classDescription: &quot;ICS component and property service&quot;,</span>
<a href="#l6.64"></a><span id="l6.64">         classID: calICSServiceClassID,</span>
<a href="#l6.65"></a><span id="l6.65">         interfaces: [Components.interfaces.calIICSService]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calPeriod.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calPeriod.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -5,18 +5,18 @@</span>
<a href="#l7.4"></a><span id="l7.4"> Components.utils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l7.5"></a><span id="l7.5"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l7.6"></a><span id="l7.6"> </span>
<a href="#l7.7"></a><span id="l7.7"> function calPeriod(innerObject) {</span>
<a href="#l7.8"></a><span id="l7.8">     this.innerObject = innerObject || new ICAL.Period({});</span>
<a href="#l7.9"></a><span id="l7.9">     this.wrappedJSObject = this;</span>
<a href="#l7.10"></a><span id="l7.10"> }</span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-const calPeriodInterfaces = [Components.interfaces.calIPeriod];</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-const calPeriodClassID = Components.ID(&quot;{394a281f-7299-45f7-8b1f-cce21258972f}&quot;);</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+var calPeriodInterfaces = [Components.interfaces.calIPeriod];</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+var calPeriodClassID = Components.ID(&quot;{394a281f-7299-45f7-8b1f-cce21258972f}&quot;);</span>
<a href="#l7.16"></a><span id="l7.16"> calPeriod.prototype = {</span>
<a href="#l7.17"></a><span id="l7.17">     QueryInterface: XPCOMUtils.generateQI(calPeriodInterfaces),</span>
<a href="#l7.18"></a><span id="l7.18">     classID: calPeriodClassID,</span>
<a href="#l7.19"></a><span id="l7.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l7.20"></a><span id="l7.20">         contractID: &quot;@mozilla.org/calendar/period;1&quot;,</span>
<a href="#l7.21"></a><span id="l7.21">         classDescription: &quot;A period between two dates&quot;,</span>
<a href="#l7.22"></a><span id="l7.22">         classID: calPeriodClassID,</span>
<a href="#l7.23"></a><span id="l7.23">         interfaces: calPeriodInterfaces</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calRecurrenceRule.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calRecurrenceRule.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -6,18 +6,18 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l8.4"></a><span id="l8.4"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l8.5"></a><span id="l8.5"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l8.6"></a><span id="l8.6"> </span>
<a href="#l8.7"></a><span id="l8.7"> function calRecurrenceRule(innerObject) {</span>
<a href="#l8.8"></a><span id="l8.8">     this.innerObject = innerObject || new ICAL.Recur();</span>
<a href="#l8.9"></a><span id="l8.9">     this.wrappedJSObject = this;</span>
<a href="#l8.10"></a><span id="l8.10"> }</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-const calRecurrenceRuleInterfaces = [Components.interfaces.calIRecurrenceRule];</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-const calRecurrenceRuleClassID = Components.ID(&quot;{df19281a-5389-4146-b941-798cb93a7f0d}&quot;);</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+var calRecurrenceRuleInterfaces = [Components.interfaces.calIRecurrenceRule];</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+var calRecurrenceRuleClassID = Components.ID(&quot;{df19281a-5389-4146-b941-798cb93a7f0d}&quot;);</span>
<a href="#l8.16"></a><span id="l8.16"> calRecurrenceRule.prototype = {</span>
<a href="#l8.17"></a><span id="l8.17">     QueryInterface: XPCOMUtils.generateQI(calRecurrenceRuleInterfaces),</span>
<a href="#l8.18"></a><span id="l8.18">     classID: calRecurrenceRuleClassID,</span>
<a href="#l8.19"></a><span id="l8.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l8.20"></a><span id="l8.20">         contractID: &quot;@mozilla.org/calendar/recurrence-rule;1&quot;,</span>
<a href="#l8.21"></a><span id="l8.21">         classDescription: &quot;Calendar Recurrence Rule&quot;,</span>
<a href="#l8.22"></a><span id="l8.22">         classID: calRecurrenceRuleClassID,</span>
<a href="#l8.23"></a><span id="l8.23">         interfaces: calRecurrenceRuleInterfaces</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-migration-dialog.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-migration-dialog.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l9.4"></a><span id="l9.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.5"></a><span id="l9.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.6"></a><span id="l9.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8" class="difflineminus">-const SUNBIRD_UID = &quot;{718e30fb-e89b-41dd-9da7-e25a45638b28}&quot;;</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineminus">-const FIREFOX_UID = &quot;{ec8030f7-c20a-464f-9b0e-13a3a9e97384}&quot;;</span>
<a href="#l9.10"></a><span id="l9.10" class="difflineplus">+var SUNBIRD_UID = &quot;{718e30fb-e89b-41dd-9da7-e25a45638b28}&quot;;</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineplus">+var FIREFOX_UID = &quot;{ec8030f7-c20a-464f-9b0e-13a3a9e97384}&quot;;</span>
<a href="#l9.12"></a><span id="l9.12"> </span>
<a href="#l9.13"></a><span id="l9.13"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l9.14"></a><span id="l9.14"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l9.15"></a><span id="l9.15"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l9.16"></a><span id="l9.16"> </span>
<a href="#l9.17"></a><span id="l9.17"> //</span>
<a href="#l9.18"></a><span id="l9.18"> // The front-end wizard bits.</span>
<a href="#l9.19"></a><span id="l9.19"> //</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/import-export.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/import-export.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,23 +1,23 @@</span>
<a href="#l10.4"></a><span id="l10.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.5"></a><span id="l10.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.6"></a><span id="l10.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.7"></a><span id="l10.7"> </span>
<a href="#l10.8"></a><span id="l10.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10"> // File constants copied from file-utils.js</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineminus">-const MODE_RDONLY   = 0x01;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-const MODE_WRONLY   = 0x02;</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">-const MODE_RDWR     = 0x04;</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineminus">-const MODE_CREATE   = 0x08;</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineminus">-const MODE_APPEND   = 0x10;</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineminus">-const MODE_TRUNCATE = 0x20;</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineminus">-const MODE_SYNC     = 0x40;</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineminus">-const MODE_EXCL     = 0x80;</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineplus">+var MODE_RDONLY   = 0x01;</span>
<a href="#l10.20"></a><span id="l10.20" class="difflineplus">+var MODE_WRONLY   = 0x02;</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineplus">+var MODE_RDWR     = 0x04;</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineplus">+var MODE_CREATE   = 0x08;</span>
<a href="#l10.23"></a><span id="l10.23" class="difflineplus">+var MODE_APPEND   = 0x10;</span>
<a href="#l10.24"></a><span id="l10.24" class="difflineplus">+var MODE_TRUNCATE = 0x20;</span>
<a href="#l10.25"></a><span id="l10.25" class="difflineplus">+var MODE_SYNC     = 0x40;</span>
<a href="#l10.26"></a><span id="l10.26" class="difflineplus">+var MODE_EXCL     = 0x80;</span>
<a href="#l10.27"></a><span id="l10.27"> </span>
<a href="#l10.28"></a><span id="l10.28"> /**</span>
<a href="#l10.29"></a><span id="l10.29">  * Shows a file dialog, reads the selected file(s) and tries to parse events from it.</span>
<a href="#l10.30"></a><span id="l10.30">  *</span>
<a href="#l10.31"></a><span id="l10.31">  * @param aCalendar  (optional) If specified, the items will be imported directly</span>
<a href="#l10.32"></a><span id="l10.32">  *                              into the calendar</span>
<a href="#l10.33"></a><span id="l10.33">  */</span>
<a href="#l10.34"></a><span id="l10.34"> function loadEventsFromFile(aCalendar) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/modules/calAsyncUtils.jsm</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/modules/calAsyncUtils.jsm</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -7,20 +7,20 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l11.4"></a><span id="l11.4"> Components.utils.import(&quot;resource://gre/modules/PromiseUtils.jsm&quot;);</span>
<a href="#l11.5"></a><span id="l11.5"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l11.6"></a><span id="l11.6"> </span>
<a href="#l11.7"></a><span id="l11.7"> /*</span>
<a href="#l11.8"></a><span id="l11.8">  * Asynchronous tools for handling calendar operations.</span>
<a href="#l11.9"></a><span id="l11.9">  */</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11"> this.EXPORTED_SYMBOLS = [&quot;cal&quot;]; // even though it's defined in calUtils.jsm, import needs this</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-const cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-const cIC = Components.interfaces.calICalendar;</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+var cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+var cIC = Components.interfaces.calICalendar;</span>
<a href="#l11.16"></a><span id="l11.16"> </span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-const promisifyProxyHandler = {</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+var promisifyProxyHandler = {</span>
<a href="#l11.19"></a><span id="l11.19">     promiseOperation: function(target, name, args) {</span>
<a href="#l11.20"></a><span id="l11.20">         let deferred = PromiseUtils.defer();</span>
<a href="#l11.21"></a><span id="l11.21">         let listener = cal.async.promiseOperationListener(deferred);</span>
<a href="#l11.22"></a><span id="l11.22">         args.push(listener);</span>
<a href="#l11.23"></a><span id="l11.23">         target[name].apply(target, args);</span>
<a href="#l11.24"></a><span id="l11.24">         return deferred.promise;</span>
<a href="#l11.25"></a><span id="l11.25">     },</span>
<a href="#l11.26"></a><span id="l11.26">     get: function(target, name) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/src/calAlarm.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/src/calAlarm.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1,30 +1,30 @@</span>
<a href="#l12.4"></a><span id="l12.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.5"></a><span id="l12.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.6"></a><span id="l12.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l12.9"></a><span id="l12.9"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l12.10"></a><span id="l12.10"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l12.11"></a><span id="l12.11"> </span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-const ALARM_RELATED_ABSOLUTE = Components.interfaces.calIAlarm.ALARM_RELATED_ABSOLUTE;</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-const ALARM_RELATED_START = Components.interfaces.calIAlarm.ALARM_RELATED_START;</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-const ALARM_RELATED_END = Components.interfaces.calIAlarm.ALARM_RELATED_END;</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineplus">+var ALARM_RELATED_ABSOLUTE = Components.interfaces.calIAlarm.ALARM_RELATED_ABSOLUTE;</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineplus">+var ALARM_RELATED_START = Components.interfaces.calIAlarm.ALARM_RELATED_START;</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineplus">+var ALARM_RELATED_END = Components.interfaces.calIAlarm.ALARM_RELATED_END;</span>
<a href="#l12.18"></a><span id="l12.18"> </span>
<a href="#l12.19"></a><span id="l12.19"> function calAlarm() {</span>
<a href="#l12.20"></a><span id="l12.20">     this.wrappedJSObject = this;</span>
<a href="#l12.21"></a><span id="l12.21">     this.mProperties = new calPropertyBag();</span>
<a href="#l12.22"></a><span id="l12.22">     this.mPropertyParams = {};</span>
<a href="#l12.23"></a><span id="l12.23">     this.mAttendees = [];</span>
<a href="#l12.24"></a><span id="l12.24">     this.mAttachments = [];</span>
<a href="#l12.25"></a><span id="l12.25"> }</span>
<a href="#l12.26"></a><span id="l12.26"> </span>
<a href="#l12.27"></a><span id="l12.27" class="difflineminus">-const calAlarmClassID = Components.ID(&quot;{b8db7c7f-c168-4e11-becb-f26c1c4f5f8f}&quot;);</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineminus">-const calAlarmInterfaces = [Components.interfaces.calIAlarm];</span>
<a href="#l12.29"></a><span id="l12.29" class="difflineplus">+var calAlarmClassID = Components.ID(&quot;{b8db7c7f-c168-4e11-becb-f26c1c4f5f8f}&quot;);</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineplus">+var calAlarmInterfaces = [Components.interfaces.calIAlarm];</span>
<a href="#l12.31"></a><span id="l12.31"> calAlarm.prototype = {</span>
<a href="#l12.32"></a><span id="l12.32"> </span>
<a href="#l12.33"></a><span id="l12.33">     mProperties: null,</span>
<a href="#l12.34"></a><span id="l12.34">     mPropertyParams: null,</span>
<a href="#l12.35"></a><span id="l12.35">     mAction: null,</span>
<a href="#l12.36"></a><span id="l12.36">     mAbsoluteDate: null,</span>
<a href="#l12.37"></a><span id="l12.37">     mOffset: null,</span>
<a href="#l12.38"></a><span id="l12.38">     mDuration: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/base/src/calAlarmMonitor.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/base/src/calAlarmMonitor.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -19,18 +19,18 @@ function peekAlarmWindow() {</span>
<a href="#l13.4"></a><span id="l13.4"> function calAlarmMonitor() {</span>
<a href="#l13.5"></a><span id="l13.5">     this.wrappedJSObject = this;</span>
<a href="#l13.6"></a><span id="l13.6">     this.mAlarms = [];</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8">     this.mSound = Components.classes[&quot;@mozilla.org/sound;1&quot;]</span>
<a href="#l13.9"></a><span id="l13.9">                             .createInstance(Components.interfaces.nsISound);</span>
<a href="#l13.10"></a><span id="l13.10"> }</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-const calAlarmMonitorClassID = Components.ID(&quot;{4b7ae030-ed79-11d9-8cd6-0800200c9a66}&quot;);</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-const calAlarmMonitorInterfaces = [</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+var calAlarmMonitorClassID = Components.ID(&quot;{4b7ae030-ed79-11d9-8cd6-0800200c9a66}&quot;);</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+var calAlarmMonitorInterfaces = [</span>
<a href="#l13.16"></a><span id="l13.16">     Components.interfaces.nsIObserver,</span>
<a href="#l13.17"></a><span id="l13.17">     Components.interfaces.calIAlarmServiceObserver</span>
<a href="#l13.18"></a><span id="l13.18"> ];</span>
<a href="#l13.19"></a><span id="l13.19"> calAlarmMonitor.prototype = {</span>
<a href="#l13.20"></a><span id="l13.20">     mAlarms: null,</span>
<a href="#l13.21"></a><span id="l13.21"> </span>
<a href="#l13.22"></a><span id="l13.22">     // This is a work-around for the fact that there is a delay between when</span>
<a href="#l13.23"></a><span id="l13.23">     // we call openWindow and when it appears via getMostRecentWindow.  If an</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/base/src/calAlarmService.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/base/src/calAlarmService.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -5,19 +5,19 @@</span>
<a href="#l14.4"></a><span id="l14.4"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l14.5"></a><span id="l14.5"> Components.utils.import(&quot;resource://calendar/modules/calAlarmUtils.jsm&quot;);</span>
<a href="#l14.6"></a><span id="l14.6"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l14.7"></a><span id="l14.7"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l14.8"></a><span id="l14.8"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l14.9"></a><span id="l14.9"> Components.utils.import(&quot;resource://gre/modules/Promise.jsm&quot;);</span>
<a href="#l14.10"></a><span id="l14.10"> Components.utils.import(&quot;resource://gre/modules/PromiseUtils.jsm&quot;);</span>
<a href="#l14.11"></a><span id="l14.11"> </span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-const kHoursBetweenUpdates = 6;</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineminus">-const kSleepMonitorInterval = 60000;</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineminus">-const kSleepMonitorTolerance = 1000;</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+var kHoursBetweenUpdates = 6;</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+var kSleepMonitorInterval = 60000;</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineplus">+var kSleepMonitorTolerance = 1000;</span>
<a href="#l14.18"></a><span id="l14.18"> </span>
<a href="#l14.19"></a><span id="l14.19"> function nowUTC() {</span>
<a href="#l14.20"></a><span id="l14.20">     return cal.jsDateToDateTime(new Date()).getInTimezone(cal.UTC());</span>
<a href="#l14.21"></a><span id="l14.21"> }</span>
<a href="#l14.22"></a><span id="l14.22"> </span>
<a href="#l14.23"></a><span id="l14.23"> function newTimerWithCallback(aCallback, aDelay, aRepeating) {</span>
<a href="#l14.24"></a><span id="l14.24">     let timer = Components.classes[&quot;@mozilla.org/timer;1&quot;]</span>
<a href="#l14.25"></a><span id="l14.25">                           .createInstance(Components.interfaces.nsITimer);</span>
<a href="#l14.26"></a><span id="l14.26" class="difflineat">@@ -96,18 +96,18 @@ function calAlarmService() {</span>
<a href="#l14.27"></a><span id="l14.27">             // there may still be dangling items (-&gt; alarm dialog),</span>
<a href="#l14.28"></a><span id="l14.28">             // dismissing those alarms may write data...</span>
<a href="#l14.29"></a><span id="l14.29">             this.alarmService.unobserveCalendar(aCalendar);</span>
<a href="#l14.30"></a><span id="l14.30">         },</span>
<a href="#l14.31"></a><span id="l14.31">         onCalendarDeleting: function(aCalendar) {}</span>
<a href="#l14.32"></a><span id="l14.32">     };</span>
<a href="#l14.33"></a><span id="l14.33"> }</span>
<a href="#l14.34"></a><span id="l14.34"> </span>
<a href="#l14.35"></a><span id="l14.35" class="difflineminus">-const calAlarmServiceClassID = Components.ID(&quot;{7a9200dd-6a64-4fff-a798-c5802186e2cc}&quot;);</span>
<a href="#l14.36"></a><span id="l14.36" class="difflineminus">-const calAlarmServiceInterfaces = [</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineplus">+var calAlarmServiceClassID = Components.ID(&quot;{7a9200dd-6a64-4fff-a798-c5802186e2cc}&quot;);</span>
<a href="#l14.38"></a><span id="l14.38" class="difflineplus">+var calAlarmServiceInterfaces = [</span>
<a href="#l14.39"></a><span id="l14.39">     Components.interfaces.calIAlarmService,</span>
<a href="#l14.40"></a><span id="l14.40">     Components.interfaces.nsIObserver</span>
<a href="#l14.41"></a><span id="l14.41"> ];</span>
<a href="#l14.42"></a><span id="l14.42"> calAlarmService.prototype = {</span>
<a href="#l14.43"></a><span id="l14.43">     mRangeStart: null,</span>
<a href="#l14.44"></a><span id="l14.44">     mRangeEnd: null,</span>
<a href="#l14.45"></a><span id="l14.45">     mUpdateTimer: null,</span>
<a href="#l14.46"></a><span id="l14.46">     mStarted: false,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/base/src/calAttachment.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/base/src/calAttachment.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -9,18 +9,18 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l15.4"></a><span id="l15.4"> //</span>
<a href="#l15.5"></a><span id="l15.5"> // calAttachment.js</span>
<a href="#l15.6"></a><span id="l15.6"> //</span>
<a href="#l15.7"></a><span id="l15.7"> function calAttachment() {</span>
<a href="#l15.8"></a><span id="l15.8">     this.wrappedJSObject = this;</span>
<a href="#l15.9"></a><span id="l15.9">     this.mProperties = new cal.calPropertyBag();</span>
<a href="#l15.10"></a><span id="l15.10"> }</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-const calAttachmentClassID = Components.ID(&quot;{5f76b352-ab75-4c2b-82c9-9206dbbf8571}&quot;);</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineminus">-const calAttachmentInterfaces = [Components.interfaces.calIAttachment];</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+var calAttachmentClassID = Components.ID(&quot;{5f76b352-ab75-4c2b-82c9-9206dbbf8571}&quot;);</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineplus">+var calAttachmentInterfaces = [Components.interfaces.calIAttachment];</span>
<a href="#l15.16"></a><span id="l15.16"> calAttachment.prototype = {</span>
<a href="#l15.17"></a><span id="l15.17">     mData: null,</span>
<a href="#l15.18"></a><span id="l15.18">     mHashId: null,</span>
<a href="#l15.19"></a><span id="l15.19"> </span>
<a href="#l15.20"></a><span id="l15.20">     classID: calAttachmentClassID,</span>
<a href="#l15.21"></a><span id="l15.21">     QueryInterface: XPCOMUtils.generateQI(calAttachmentInterfaces),</span>
<a href="#l15.22"></a><span id="l15.22">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l15.23"></a><span id="l15.23">         classID: calAttachmentClassID,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/base/src/calAttendee.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/base/src/calAttendee.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -6,18 +6,18 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l16.4"></a><span id="l16.4"> Components.utils.import(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;);</span>
<a href="#l16.5"></a><span id="l16.5"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l16.6"></a><span id="l16.6"> </span>
<a href="#l16.7"></a><span id="l16.7"> function calAttendee() {</span>
<a href="#l16.8"></a><span id="l16.8">     this.wrappedJSObject = this;</span>
<a href="#l16.9"></a><span id="l16.9">     this.mProperties = new calPropertyBag();</span>
<a href="#l16.10"></a><span id="l16.10"> }</span>
<a href="#l16.11"></a><span id="l16.11"> </span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-const calAttendeeClassID = Components.ID(&quot;{5c8dcaa3-170c-4a73-8142-d531156f664d}&quot;);</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-const calAttendeeInterfaces = [Components.interfaces.calIAttendee];</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineplus">+var calAttendeeClassID = Components.ID(&quot;{5c8dcaa3-170c-4a73-8142-d531156f664d}&quot;);</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineplus">+var calAttendeeInterfaces = [Components.interfaces.calIAttendee];</span>
<a href="#l16.16"></a><span id="l16.16"> calAttendee.prototype = {</span>
<a href="#l16.17"></a><span id="l16.17">     classID: calAttendeeClassID,</span>
<a href="#l16.18"></a><span id="l16.18">     QueryInterface: XPCOMUtils.generateQI(calAttendeeInterfaces),</span>
<a href="#l16.19"></a><span id="l16.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l16.20"></a><span id="l16.20">         classID: calAttendeeClassID,</span>
<a href="#l16.21"></a><span id="l16.21">         contractID: &quot;@mozilla.org/calendar/attendee;1&quot;,</span>
<a href="#l16.22"></a><span id="l16.22">         classDescription: &quot;Calendar Attendee&quot;,</span>
<a href="#l16.23"></a><span id="l16.23">         interfaces: calAttendeeInterfaces</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/base/src/calCachedCalendar.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/base/src/calCachedCalendar.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -2,19 +2,19 @@</span>
<a href="#l17.4"></a><span id="l17.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.5"></a><span id="l17.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l17.6"></a><span id="l17.6"> </span>
<a href="#l17.7"></a><span id="l17.7"> Components.utils.import(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;);</span>
<a href="#l17.8"></a><span id="l17.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l17.9"></a><span id="l17.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l17.10"></a><span id="l17.10"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-const calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineminus">-const cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineminus">-const cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+var calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineplus">+var cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineplus">+var cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l17.18"></a><span id="l17.18"> </span>
<a href="#l17.19"></a><span id="l17.19"> var gNoOpListener = {</span>
<a href="#l17.20"></a><span id="l17.20">     QueryInterface: XPCOMUtils.generateQI([Components.interfaces.calIOperationListener]),</span>
<a href="#l17.21"></a><span id="l17.21">     onGetResult: function(calendar, status, itemType, detail, count, items) {</span>
<a href="#l17.22"></a><span id="l17.22">     },</span>
<a href="#l17.23"></a><span id="l17.23"> </span>
<a href="#l17.24"></a><span id="l17.24">     onOperationComplete: function(calendar, status, opType, id, detail) {</span>
<a href="#l17.25"></a><span id="l17.25">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/base/src/calCalendarManager.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/base/src/calCalendarManager.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -3,29 +3,29 @@</span>
<a href="#l18.4"></a><span id="l18.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l18.5"></a><span id="l18.5"> </span>
<a href="#l18.6"></a><span id="l18.6"> Components.utils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l18.7"></a><span id="l18.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l18.8"></a><span id="l18.8"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l18.9"></a><span id="l18.9"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l18.10"></a><span id="l18.10"> Components.utils.import(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;);</span>
<a href="#l18.11"></a><span id="l18.11"> </span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-const REGISTRY_BRANCH = &quot;calendar.registry.&quot;;</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineminus">-const DB_SCHEMA_VERSION = 10;</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineminus">-const MAX_INT = Math.pow(2, 31) - 1;</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineminus">-const MIN_INT = -MAX_INT;</span>
<a href="#l18.16"></a><span id="l18.16" class="difflineplus">+var REGISTRY_BRANCH = &quot;calendar.registry.&quot;;</span>
<a href="#l18.17"></a><span id="l18.17" class="difflineplus">+var DB_SCHEMA_VERSION = 10;</span>
<a href="#l18.18"></a><span id="l18.18" class="difflineplus">+var MAX_INT = Math.pow(2, 31) - 1;</span>
<a href="#l18.19"></a><span id="l18.19" class="difflineplus">+var MIN_INT = -MAX_INT;</span>
<a href="#l18.20"></a><span id="l18.20"> </span>
<a href="#l18.21"></a><span id="l18.21"> function calCalendarManager() {</span>
<a href="#l18.22"></a><span id="l18.22">     this.wrappedJSObject = this;</span>
<a href="#l18.23"></a><span id="l18.23">     this.mObservers = new calListenerBag(Components.interfaces.calICalendarManagerObserver);</span>
<a href="#l18.24"></a><span id="l18.24">     this.mCalendarObservers = new calListenerBag(Components.interfaces.calIObserver);</span>
<a href="#l18.25"></a><span id="l18.25"> }</span>
<a href="#l18.26"></a><span id="l18.26"> </span>
<a href="#l18.27"></a><span id="l18.27" class="difflineminus">-const calCalendarManagerClassID = Components.ID(&quot;{f42585e7-e736-4600-985d-9624c1c51992}&quot;);</span>
<a href="#l18.28"></a><span id="l18.28" class="difflineminus">-const calCalendarManagerInterfaces = [</span>
<a href="#l18.29"></a><span id="l18.29" class="difflineplus">+var calCalendarManagerClassID = Components.ID(&quot;{f42585e7-e736-4600-985d-9624c1c51992}&quot;);</span>
<a href="#l18.30"></a><span id="l18.30" class="difflineplus">+var calCalendarManagerInterfaces = [</span>
<a href="#l18.31"></a><span id="l18.31">     Components.interfaces.calICalendarManager,</span>
<a href="#l18.32"></a><span id="l18.32">     Components.interfaces.calIStartupService,</span>
<a href="#l18.33"></a><span id="l18.33">     Components.interfaces.nsIObserver,</span>
<a href="#l18.34"></a><span id="l18.34"> ];</span>
<a href="#l18.35"></a><span id="l18.35"> calCalendarManager.prototype = {</span>
<a href="#l18.36"></a><span id="l18.36">     classID: calCalendarManagerClassID,</span>
<a href="#l18.37"></a><span id="l18.37">     QueryInterface: XPCOMUtils.generateQI(calCalendarManagerInterfaces),</span>
<a href="#l18.38"></a><span id="l18.38">     classInfo: XPCOMUtils.generateCI({</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/base/src/calCalendarSearchService.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/base/src/calCalendarSearchService.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -43,18 +43,18 @@ calCalendarSearchListener.prototype = {</span>
<a href="#l19.4"></a><span id="l19.4">         }</span>
<a href="#l19.5"></a><span id="l19.5">     }</span>
<a href="#l19.6"></a><span id="l19.6"> };</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8"> function calCalendarSearchService() {</span>
<a href="#l19.9"></a><span id="l19.9">     this.wrappedJSObject = this;</span>
<a href="#l19.10"></a><span id="l19.10">     this.mProviders = new calInterfaceBag(Components.interfaces.calICalendarSearchProvider);</span>
<a href="#l19.11"></a><span id="l19.11"> }</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-const calCalendarSearchServiceClassID = Components.ID(&quot;{f5f743cd-8997-428e-bc1b-644e73f61203}&quot;);</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineminus">-const calCalendarSearchServiceInterfaces = [</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineplus">+var calCalendarSearchServiceClassID = Components.ID(&quot;{f5f743cd-8997-428e-bc1b-644e73f61203}&quot;);</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+var calCalendarSearchServiceInterfaces = [</span>
<a href="#l19.16"></a><span id="l19.16">     Components.interfaces.calICalendarSearchProvider,</span>
<a href="#l19.17"></a><span id="l19.17">     Components.interfaces.calICalendarSearchService</span>
<a href="#l19.18"></a><span id="l19.18"> ];</span>
<a href="#l19.19"></a><span id="l19.19"> calCalendarSearchService.prototype = {</span>
<a href="#l19.20"></a><span id="l19.20">     mProviders: null,</span>
<a href="#l19.21"></a><span id="l19.21"> </span>
<a href="#l19.22"></a><span id="l19.22">     classID: calCalendarSearchServiceClassID,</span>
<a href="#l19.23"></a><span id="l19.23">     QueryInterface: XPCOMUtils.generateQI(calCalendarSearchServiceInterfaces),</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/base/src/calDateTimeFormatter.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/base/src/calDateTimeFormatter.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l20.4"></a><span id="l20.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.5"></a><span id="l20.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.6"></a><span id="l20.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.7"></a><span id="l20.7"> </span>
<a href="#l20.8"></a><span id="l20.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l20.9"></a><span id="l20.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l20.10"></a><span id="l20.10"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l20.11"></a><span id="l20.11"> </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-const nsIScriptableDateFormat = Components.interfaces.nsIScriptableDateFormat;</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+var nsIScriptableDateFormat = Components.interfaces.nsIScriptableDateFormat;</span>
<a href="#l20.14"></a><span id="l20.14"> </span>
<a href="#l20.15"></a><span id="l20.15"> function calDateTimeFormatter() {</span>
<a href="#l20.16"></a><span id="l20.16">     this.wrappedJSObject = this;</span>
<a href="#l20.17"></a><span id="l20.17">     this.mDateStringBundle = Services.strings.createBundle(&quot;chrome://calendar/locale/dateFormat.properties&quot;);</span>
<a href="#l20.18"></a><span id="l20.18"> </span>
<a href="#l20.19"></a><span id="l20.19">     this.mDateService =</span>
<a href="#l20.20"></a><span id="l20.20">         Components.classes[&quot;@mozilla.org/intl/scriptabledateformat;1&quot;]</span>
<a href="#l20.21"></a><span id="l20.21">                   .getService(nsIScriptableDateFormat);</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineat">@@ -60,18 +60,18 @@ function calDateTimeFormatter() {</span>
<a href="#l20.23"></a><span id="l20.23">         if (longProbeString == null ||</span>
<a href="#l20.24"></a><span id="l20.24">             longProbeString.length &lt; 4 ||</span>
<a href="#l20.25"></a><span id="l20.25">             longProbeString == probeStringA)</span>
<a href="#l20.26"></a><span id="l20.26">            this.mUseLongDateService = false;</span>
<a href="#l20.27"></a><span id="l20.27">     } catch (e) {</span>
<a href="#l20.28"></a><span id="l20.28">         this.mUseLongDateService = false;</span>
<a href="#l20.29"></a><span id="l20.29">     }</span>
<a href="#l20.30"></a><span id="l20.30"> }</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineminus">-const calDateTimeFormatterClassID = Components.ID(&quot;{4123da9a-f047-42da-a7d0-cc4175b9f36a}&quot;);</span>
<a href="#l20.32"></a><span id="l20.32" class="difflineminus">-const calDateTimeFormatterInterfaces = [Components.interfaces.calIDateTimeFormatter];</span>
<a href="#l20.33"></a><span id="l20.33" class="difflineplus">+var calDateTimeFormatterClassID = Components.ID(&quot;{4123da9a-f047-42da-a7d0-cc4175b9f36a}&quot;);</span>
<a href="#l20.34"></a><span id="l20.34" class="difflineplus">+var calDateTimeFormatterInterfaces = [Components.interfaces.calIDateTimeFormatter];</span>
<a href="#l20.35"></a><span id="l20.35"> calDateTimeFormatter.prototype = {</span>
<a href="#l20.36"></a><span id="l20.36">     classID: calDateTimeFormatterClassID,</span>
<a href="#l20.37"></a><span id="l20.37">     QueryInterface: XPCOMUtils.generateQI(calDateTimeFormatterInterfaces),</span>
<a href="#l20.38"></a><span id="l20.38">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l20.39"></a><span id="l20.39">         classID: calDateTimeFormatterClassID,</span>
<a href="#l20.40"></a><span id="l20.40">         contractID: &quot;@mozilla.org/calendar/datetime-formatter;1&quot;,</span>
<a href="#l20.41"></a><span id="l20.41">         classDescription: &quot;Formats Dates and Times&quot;,</span>
<a href="#l20.42"></a><span id="l20.42">         interfaces: calDateTimeFormatterInterfaces,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/calendar/base/src/calDefaultACLManager.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/calendar/base/src/calDefaultACLManager.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -7,18 +7,18 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l21.4"></a><span id="l21.4"> </span>
<a href="#l21.5"></a><span id="l21.5"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l21.6"></a><span id="l21.6"> </span>
<a href="#l21.7"></a><span id="l21.7"> /* calDefaultACLManager */</span>
<a href="#l21.8"></a><span id="l21.8"> function calDefaultACLManager() {</span>
<a href="#l21.9"></a><span id="l21.9">     this.mCalendarEntries = {};</span>
<a href="#l21.10"></a><span id="l21.10"> }</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-const calDefaultACLManagerClassID = Components.ID(&quot;{7463258c-6ef3-40a2-89a9-bb349596e927}&quot;);</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineminus">-const calDefaultACLManagerInterfaces = [Components.interfaces.calICalendarACLManager];</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineplus">+var calDefaultACLManagerClassID = Components.ID(&quot;{7463258c-6ef3-40a2-89a9-bb349596e927}&quot;);</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineplus">+var calDefaultACLManagerInterfaces = [Components.interfaces.calICalendarACLManager];</span>
<a href="#l21.16"></a><span id="l21.16"> calDefaultACLManager.prototype = {</span>
<a href="#l21.17"></a><span id="l21.17">     mCalendarEntries: null,</span>
<a href="#l21.18"></a><span id="l21.18"> </span>
<a href="#l21.19"></a><span id="l21.19">     /* nsISupports, nsIClassInfo */</span>
<a href="#l21.20"></a><span id="l21.20">     classID: calDefaultACLManagerClassID,</span>
<a href="#l21.21"></a><span id="l21.21">     QueryInterface: XPCOMUtils.generateQI(calDefaultACLManagerInterfaces),</span>
<a href="#l21.22"></a><span id="l21.22">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l21.23"></a><span id="l21.23">         classID: calDefaultACLManagerClassID,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/calendar/base/src/calDeletedItems.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/calendar/base/src/calDeletedItems.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -18,18 +18,18 @@ function calDeletedItems() {</span>
<a href="#l22.4"></a><span id="l22.4"> </span>
<a href="#l22.5"></a><span id="l22.5">     this.completedNotifier = {</span>
<a href="#l22.6"></a><span id="l22.6">       handleResult: function() {},</span>
<a href="#l22.7"></a><span id="l22.7">       handleError: function() {},</span>
<a href="#l22.8"></a><span id="l22.8">       handleCompletion: function() {},</span>
<a href="#l22.9"></a><span id="l22.9">     };</span>
<a href="#l22.10"></a><span id="l22.10"> }</span>
<a href="#l22.11"></a><span id="l22.11"> </span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-const calDeletedItemsClassID = Components.ID(&quot;{8e6799af-e7e9-4e6c-9a82-a2413e86d8c3}&quot;);</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineminus">-const calDeletedItemsInterfaces = [</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineplus">+var calDeletedItemsClassID = Components.ID(&quot;{8e6799af-e7e9-4e6c-9a82-a2413e86d8c3}&quot;);</span>
<a href="#l22.15"></a><span id="l22.15" class="difflineplus">+var calDeletedItemsInterfaces = [</span>
<a href="#l22.16"></a><span id="l22.16">     Components.interfaces.calIDeletedItems,</span>
<a href="#l22.17"></a><span id="l22.17">     Components.interfaces.nsIObserver,</span>
<a href="#l22.18"></a><span id="l22.18">     Components.interfaces.calIObserver</span>
<a href="#l22.19"></a><span id="l22.19"> ];</span>
<a href="#l22.20"></a><span id="l22.20"> calDeletedItems.prototype = {</span>
<a href="#l22.21"></a><span id="l22.21"> </span>
<a href="#l22.22"></a><span id="l22.22">     classID: calDeletedItemsClassID,</span>
<a href="#l22.23"></a><span id="l22.23">     QueryInterface: XPCOMUtils.generateQI(calDeletedItemsInterfaces),</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/calendar/base/src/calEvent.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/calendar/base/src/calEvent.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -12,18 +12,18 @@ function calEvent() {</span>
<a href="#l23.4"></a><span id="l23.4">     this.initItemBase();</span>
<a href="#l23.5"></a><span id="l23.5"> </span>
<a href="#l23.6"></a><span id="l23.6">     this.eventPromotedProps = {</span>
<a href="#l23.7"></a><span id="l23.7">         &quot;DTSTART&quot;: true,</span>
<a href="#l23.8"></a><span id="l23.8">         &quot;DTEND&quot;: true,</span>
<a href="#l23.9"></a><span id="l23.9">         __proto__: this.itemBasePromotedProps</span>
<a href="#l23.10"></a><span id="l23.10">     }</span>
<a href="#l23.11"></a><span id="l23.11"> }</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-const calEventClassID = Components.ID(&quot;{974339d5-ab86-4491-aaaf-2b2ca177c12b}&quot;);</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineminus">-const calEventInterfaces = [</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineplus">+var calEventClassID = Components.ID(&quot;{974339d5-ab86-4491-aaaf-2b2ca177c12b}&quot;);</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineplus">+var calEventInterfaces = [</span>
<a href="#l23.16"></a><span id="l23.16">     Components.interfaces.calIItemBase,</span>
<a href="#l23.17"></a><span id="l23.17">     Components.interfaces.calIEvent,</span>
<a href="#l23.18"></a><span id="l23.18">     Components.interfaces.calIInternalShallowCopy</span>
<a href="#l23.19"></a><span id="l23.19"> ];</span>
<a href="#l23.20"></a><span id="l23.20"> calEvent.prototype = {</span>
<a href="#l23.21"></a><span id="l23.21">     __proto__: calItemBase.prototype,</span>
<a href="#l23.22"></a><span id="l23.22"> </span>
<a href="#l23.23"></a><span id="l23.23">     classID: calEventClassID,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/calendar/base/src/calFreeBusyService.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/calendar/base/src/calFreeBusyService.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -50,18 +50,18 @@ calFreeBusyListener.prototype = {</span>
<a href="#l24.4"></a><span id="l24.4">         }</span>
<a href="#l24.5"></a><span id="l24.5">     }</span>
<a href="#l24.6"></a><span id="l24.6"> };</span>
<a href="#l24.7"></a><span id="l24.7"> </span>
<a href="#l24.8"></a><span id="l24.8"> function calFreeBusyService() {</span>
<a href="#l24.9"></a><span id="l24.9">     this.wrappedJSObject = this;</span>
<a href="#l24.10"></a><span id="l24.10">     this.mProviders = new calInterfaceBag(Components.interfaces.calIFreeBusyProvider);</span>
<a href="#l24.11"></a><span id="l24.11"> }</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-const calFreeBusyServiceClassID = Components.ID(&quot;{29c56cd5-d36e-453a-acde-0083bd4fe6d3}&quot;);</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineminus">-const calFreeBusyServiceInterfaces = [</span>
<a href="#l24.14"></a><span id="l24.14" class="difflineplus">+var calFreeBusyServiceClassID = Components.ID(&quot;{29c56cd5-d36e-453a-acde-0083bd4fe6d3}&quot;);</span>
<a href="#l24.15"></a><span id="l24.15" class="difflineplus">+var calFreeBusyServiceInterfaces = [</span>
<a href="#l24.16"></a><span id="l24.16">     Components.interfaces.calIFreeBusyProvider,</span>
<a href="#l24.17"></a><span id="l24.17">     Components.interfaces.calIFreeBusyService</span>
<a href="#l24.18"></a><span id="l24.18"> ];</span>
<a href="#l24.19"></a><span id="l24.19"> calFreeBusyService.prototype = {</span>
<a href="#l24.20"></a><span id="l24.20">     mProviders: null,</span>
<a href="#l24.21"></a><span id="l24.21"> </span>
<a href="#l24.22"></a><span id="l24.22">     classID: calFreeBusyServiceClassID,</span>
<a href="#l24.23"></a><span id="l24.23">     QueryInterface: XPCOMUtils.generateQI(calFreeBusyServiceInterfaces),</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/calendar/base/src/calIcsParser.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/calendar/base/src/calIcsParser.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -8,18 +8,18 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l25.4"></a><span id="l25.4"> </span>
<a href="#l25.5"></a><span id="l25.5"> function calIcsParser() {</span>
<a href="#l25.6"></a><span id="l25.6">     this.wrappedJSObject = this;</span>
<a href="#l25.7"></a><span id="l25.7">     this.mItems = new Array();</span>
<a href="#l25.8"></a><span id="l25.8">     this.mParentlessItems = new Array();</span>
<a href="#l25.9"></a><span id="l25.9">     this.mComponents = new Array();</span>
<a href="#l25.10"></a><span id="l25.10">     this.mProperties = new Array();</span>
<a href="#l25.11"></a><span id="l25.11"> }</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-const calIcsParserClassID = Components.ID(&quot;{6fe88047-75b6-4874-80e8-5f5800f14984}&quot;);</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineminus">-const calIcsParserInterfaces = [Components.interfaces.calIIcsParser];</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineplus">+var calIcsParserClassID = Components.ID(&quot;{6fe88047-75b6-4874-80e8-5f5800f14984}&quot;);</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineplus">+var calIcsParserInterfaces = [Components.interfaces.calIIcsParser];</span>
<a href="#l25.16"></a><span id="l25.16"> calIcsParser.prototype = {</span>
<a href="#l25.17"></a><span id="l25.17">     classID: calIcsParserClassID,</span>
<a href="#l25.18"></a><span id="l25.18">     QueryInterface: XPCOMUtils.generateQI(calIcsParserInterfaces),</span>
<a href="#l25.19"></a><span id="l25.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l25.20"></a><span id="l25.20">         classID: calIcsParserClassID,</span>
<a href="#l25.21"></a><span id="l25.21">         contractID: &quot;@mozilla.org/calendar/ics-parser;1&quot;,</span>
<a href="#l25.22"></a><span id="l25.22">         classDescription: &quot;Calendar ICS Parser&quot;,</span>
<a href="#l25.23"></a><span id="l25.23">         interfaces: calIcsParserInterfaces,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/calendar/base/src/calIcsSerializer.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/calendar/base/src/calIcsSerializer.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -6,18 +6,18 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l26.4"></a><span id="l26.4"> Components.utils.import(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;);</span>
<a href="#l26.5"></a><span id="l26.5"> </span>
<a href="#l26.6"></a><span id="l26.6"> function calIcsSerializer() {</span>
<a href="#l26.7"></a><span id="l26.7">     this.wrappedJSObject = this;</span>
<a href="#l26.8"></a><span id="l26.8">     this.mItems = [];</span>
<a href="#l26.9"></a><span id="l26.9">     this.mProperties = [];</span>
<a href="#l26.10"></a><span id="l26.10">     this.mComponents = [];</span>
<a href="#l26.11"></a><span id="l26.11"> }</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-const calIcsSerializerClassID = Components.ID(&quot;{207a6682-8ff1-4203-9160-729ec28c8766}&quot;);</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineminus">-const calIcsSerializerInterfaces = [Components.interfaces.calIIcsSerializer];</span>
<a href="#l26.14"></a><span id="l26.14" class="difflineplus">+var calIcsSerializerClassID = Components.ID(&quot;{207a6682-8ff1-4203-9160-729ec28c8766}&quot;);</span>
<a href="#l26.15"></a><span id="l26.15" class="difflineplus">+var calIcsSerializerInterfaces = [Components.interfaces.calIIcsSerializer];</span>
<a href="#l26.16"></a><span id="l26.16"> calIcsSerializer.prototype = {</span>
<a href="#l26.17"></a><span id="l26.17">     classID: calIcsSerializerClassID,</span>
<a href="#l26.18"></a><span id="l26.18">     QueryInterface: XPCOMUtils.generateQI(calIcsSerializerInterfaces),</span>
<a href="#l26.19"></a><span id="l26.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l26.20"></a><span id="l26.20">         classID: calIcsSerializerClassID,</span>
<a href="#l26.21"></a><span id="l26.21">         contractID: &quot;@mozilla.org/calendar/ics-serializer;1&quot;,</span>
<a href="#l26.22"></a><span id="l26.22">         classDescription: &quot;Calendar ICS Serializer&quot;,</span>
<a href="#l26.23"></a><span id="l26.23">         interfaces: calIcsSerializerInterfaces,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/calendar/base/src/calItemModule.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/calendar/base/src/calItemModule.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l27.4"></a><span id="l27.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l27.5"></a><span id="l27.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l27.6"></a><span id="l27.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l27.7"></a><span id="l27.7"> </span>
<a href="#l27.8"></a><span id="l27.8"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l27.9"></a><span id="l27.9"> </span>
<a href="#l27.10"></a><span id="l27.10" class="difflineminus">-const scriptLoadOrder = [</span>
<a href="#l27.11"></a><span id="l27.11" class="difflineplus">+var scriptLoadOrder = [</span>
<a href="#l27.12"></a><span id="l27.12">     &quot;calItemBase.js&quot;,</span>
<a href="#l27.13"></a><span id="l27.13">     &quot;calUtils.js&quot;,</span>
<a href="#l27.14"></a><span id="l27.14">     &quot;calCachedCalendar.js&quot;,</span>
<a href="#l27.15"></a><span id="l27.15"> </span>
<a href="#l27.16"></a><span id="l27.16">     &quot;calAlarm.js&quot;,</span>
<a href="#l27.17"></a><span id="l27.17">     &quot;calAlarmService.js&quot;,</span>
<a href="#l27.18"></a><span id="l27.18">     &quot;calAlarmMonitor.js&quot;,</span>
<a href="#l27.19"></a><span id="l27.19">     &quot;calAttendee.js&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/calendar/base/src/calItipItem.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/calendar/base/src/calItipItem.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -9,18 +9,18 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l28.4"></a><span id="l28.4"> </span>
<a href="#l28.5"></a><span id="l28.5"> /**</span>
<a href="#l28.6"></a><span id="l28.6">  * Constructor of calItipItem object</span>
<a href="#l28.7"></a><span id="l28.7">  */</span>
<a href="#l28.8"></a><span id="l28.8"> function calItipItem() {</span>
<a href="#l28.9"></a><span id="l28.9">     this.wrappedJSObject = this;</span>
<a href="#l28.10"></a><span id="l28.10">     this.mCurrentItemIndex = 0;</span>
<a href="#l28.11"></a><span id="l28.11"> }</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-const calItipItemClassID = Components.ID(&quot;{f41392ab-dcad-4bad-818f-b3d1631c4d93}&quot;);</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineminus">-const calItipItemInterfaces = [Components.interfaces.calIItipItem];</span>
<a href="#l28.14"></a><span id="l28.14" class="difflineplus">+var calItipItemClassID = Components.ID(&quot;{f41392ab-dcad-4bad-818f-b3d1631c4d93}&quot;);</span>
<a href="#l28.15"></a><span id="l28.15" class="difflineplus">+var calItipItemInterfaces = [Components.interfaces.calIItipItem];</span>
<a href="#l28.16"></a><span id="l28.16"> calItipItem.prototype = {</span>
<a href="#l28.17"></a><span id="l28.17">     mIsInitialized: false,</span>
<a href="#l28.18"></a><span id="l28.18"> </span>
<a href="#l28.19"></a><span id="l28.19">     classID: calItipItemClassID,</span>
<a href="#l28.20"></a><span id="l28.20">     QueryInterface: XPCOMUtils.generateQI(calItipItemInterfaces),</span>
<a href="#l28.21"></a><span id="l28.21">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l28.22"></a><span id="l28.22">         classID: calItipItemClassID,</span>
<a href="#l28.23"></a><span id="l28.23">         contractID: &quot;@mozilla.org/calendar/itip-item;1&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/calendar/base/src/calProtocolHandler.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/calendar/base/src/calProtocolHandler.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -63,32 +63,32 @@ calProtocolHandler.prototype = {</span>
<a href="#l29.4"></a><span id="l29.4">         channel.originalURI = aUri;</span>
<a href="#l29.5"></a><span id="l29.5">         return channel;</span>
<a href="#l29.6"></a><span id="l29.6">     },</span>
<a href="#l29.7"></a><span id="l29.7"> </span>
<a href="#l29.8"></a><span id="l29.8">     // We are not overriding any special ports</span>
<a href="#l29.9"></a><span id="l29.9">     allowPort: function cph_allowPort(aPort, aScheme) { return false; }</span>
<a href="#l29.10"></a><span id="l29.10"> };</span>
<a href="#l29.11"></a><span id="l29.11"> </span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-const calProtocolHandlerWebcalClassID = Components.ID(&quot;{1153c73a-39be-46aa-9ba9-656d188865ca}&quot;);</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineminus">-const calProtocolHandlerWebcalInterfaces = [Components.interfaces.nsIProtocolHandler];</span>
<a href="#l29.14"></a><span id="l29.14" class="difflineplus">+var calProtocolHandlerWebcalClassID = Components.ID(&quot;{1153c73a-39be-46aa-9ba9-656d188865ca}&quot;);</span>
<a href="#l29.15"></a><span id="l29.15" class="difflineplus">+var calProtocolHandlerWebcalInterfaces = [Components.interfaces.nsIProtocolHandler];</span>
<a href="#l29.16"></a><span id="l29.16"> calProtocolHandlerWebcal.prototype = {</span>
<a href="#l29.17"></a><span id="l29.17">     __proto__: calProtocolHandler.prototype,</span>
<a href="#l29.18"></a><span id="l29.18">     classID: calProtocolHandlerWebcalClassID,</span>
<a href="#l29.19"></a><span id="l29.19">     QueryInterface: XPCOMUtils.generateQI(calProtocolHandlerWebcalInterfaces),</span>
<a href="#l29.20"></a><span id="l29.20">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l29.21"></a><span id="l29.21">         classID: calProtocolHandlerWebcalClassID,</span>
<a href="#l29.22"></a><span id="l29.22">         contractID: &quot;@mozilla.org/network/protocol;1?name=webcal&quot;,</span>
<a href="#l29.23"></a><span id="l29.23">         classDescription: &quot;Calendar webcal protocal handler&quot;,</span>
<a href="#l29.24"></a><span id="l29.24">         interfaces: calProtocolHandlerWebcalInterfaces</span>
<a href="#l29.25"></a><span id="l29.25">     }),</span>
<a href="#l29.26"></a><span id="l29.26"> };</span>
<a href="#l29.27"></a><span id="l29.27"> </span>
<a href="#l29.28"></a><span id="l29.28" class="difflineminus">-const calProtocolHandlerWebcalsClassID = Components.ID(&quot;{bdf71224-365d-4493-856a-a7e74026f766}&quot;);</span>
<a href="#l29.29"></a><span id="l29.29" class="difflineminus">-const calProtocolHandlerWebcalsInterfaces = [Components.interfaces.nsIProtocolHandler];</span>
<a href="#l29.30"></a><span id="l29.30" class="difflineplus">+var calProtocolHandlerWebcalsClassID = Components.ID(&quot;{bdf71224-365d-4493-856a-a7e74026f766}&quot;);</span>
<a href="#l29.31"></a><span id="l29.31" class="difflineplus">+var calProtocolHandlerWebcalsInterfaces = [Components.interfaces.nsIProtocolHandler];</span>
<a href="#l29.32"></a><span id="l29.32"> calProtocolHandlerWebcals.prototype = {</span>
<a href="#l29.33"></a><span id="l29.33">     __proto__: calProtocolHandler.prototype,</span>
<a href="#l29.34"></a><span id="l29.34">     classID: calProtocolHandlerWebcalsClassID,</span>
<a href="#l29.35"></a><span id="l29.35">     QueryInterface: XPCOMUtils.generateQI(calProtocolHandlerWebcalsInterfaces),</span>
<a href="#l29.36"></a><span id="l29.36">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l29.37"></a><span id="l29.37">         classID: calProtocolHandlerWebcalsClassID,</span>
<a href="#l29.38"></a><span id="l29.38">         contractID: &quot;@mozilla.org/network/protocol;1?name=webcals&quot;,</span>
<a href="#l29.39"></a><span id="l29.39">         classDescription: &quot;Calendar webcals protocal handler&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/calendar/base/src/calRecurrenceDate.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/calendar/base/src/calRecurrenceDate.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -4,18 +4,18 @@</span>
<a href="#l30.4"></a><span id="l30.4"> </span>
<a href="#l30.5"></a><span id="l30.5"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l30.6"></a><span id="l30.6"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l30.7"></a><span id="l30.7"> </span>
<a href="#l30.8"></a><span id="l30.8"> function calRecurrenceDate() {</span>
<a href="#l30.9"></a><span id="l30.9">     this.wrappedJSObject = this;</span>
<a href="#l30.10"></a><span id="l30.10"> }</span>
<a href="#l30.11"></a><span id="l30.11"> </span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-const calRecurrenceDateClassID = Components.ID(&quot;{806b6423-3aaa-4b26-afa3-de60563e9cec}&quot;);</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineminus">-const calRecurrenceDateInterfaces = [Components.interfaces.calIRecurrenceDate];</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineplus">+var calRecurrenceDateClassID = Components.ID(&quot;{806b6423-3aaa-4b26-afa3-de60563e9cec}&quot;);</span>
<a href="#l30.15"></a><span id="l30.15" class="difflineplus">+var calRecurrenceDateInterfaces = [Components.interfaces.calIRecurrenceDate];</span>
<a href="#l30.16"></a><span id="l30.16"> calRecurrenceDate.prototype = {</span>
<a href="#l30.17"></a><span id="l30.17">     isMutable: true,</span>
<a href="#l30.18"></a><span id="l30.18"> </span>
<a href="#l30.19"></a><span id="l30.19">     mIsNegative: false,</span>
<a href="#l30.20"></a><span id="l30.20">     mDate: null,</span>
<a href="#l30.21"></a><span id="l30.21"> </span>
<a href="#l30.22"></a><span id="l30.22">     classID: calRecurrenceDateClassID,</span>
<a href="#l30.23"></a><span id="l30.23">     QueryInterface: XPCOMUtils.generateQI(calRecurrenceDateInterfaces),</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/calendar/base/src/calRecurrenceInfo.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/calendar/base/src/calRecurrenceInfo.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -18,18 +18,18 @@ function getRidKey(dt) {</span>
<a href="#l31.4"></a><span id="l31.4"> </span>
<a href="#l31.5"></a><span id="l31.5"> function calRecurrenceInfo() {</span>
<a href="#l31.6"></a><span id="l31.6">     this.mRecurrenceItems = [];</span>
<a href="#l31.7"></a><span id="l31.7">     this.mExceptionMap = {};</span>
<a href="#l31.8"></a><span id="l31.8"> </span>
<a href="#l31.9"></a><span id="l31.9">     this.wrappedJSObject = this;</span>
<a href="#l31.10"></a><span id="l31.10"> }</span>
<a href="#l31.11"></a><span id="l31.11"> </span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-const calRecurrenceInfoClassID = Components.ID(&quot;{04027036-5884-4a30-b4af-f2cad79f6edf}&quot;);</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineminus">-const calRecurrenceInfoInterfaces = [Components.interfaces.calIRecurrenceInfo];</span>
<a href="#l31.14"></a><span id="l31.14" class="difflineplus">+var calRecurrenceInfoClassID = Components.ID(&quot;{04027036-5884-4a30-b4af-f2cad79f6edf}&quot;);</span>
<a href="#l31.15"></a><span id="l31.15" class="difflineplus">+var calRecurrenceInfoInterfaces = [Components.interfaces.calIRecurrenceInfo];</span>
<a href="#l31.16"></a><span id="l31.16"> calRecurrenceInfo.prototype = {</span>
<a href="#l31.17"></a><span id="l31.17">     mImmutable: false,</span>
<a href="#l31.18"></a><span id="l31.18">     mBaseItem: null,</span>
<a href="#l31.19"></a><span id="l31.19">     mRecurrenceItems: null,</span>
<a href="#l31.20"></a><span id="l31.20">     mPositiveRules: null,</span>
<a href="#l31.21"></a><span id="l31.21">     mNegativeRules: null,</span>
<a href="#l31.22"></a><span id="l31.22">     mExceptionMap: null,</span>
<a href="#l31.23"></a><span id="l31.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/calendar/base/src/calRelation.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/calendar/base/src/calRelation.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -11,18 +11,18 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l32.4"></a><span id="l32.4">  *</span>
<a href="#l32.5"></a><span id="l32.5">  * @implements calIRelation</span>
<a href="#l32.6"></a><span id="l32.6">  * @constructor</span>
<a href="#l32.7"></a><span id="l32.7">  */</span>
<a href="#l32.8"></a><span id="l32.8"> function calRelation() {</span>
<a href="#l32.9"></a><span id="l32.9">     this.wrappedJSObject = this;</span>
<a href="#l32.10"></a><span id="l32.10">     this.mProperties = new calPropertyBag();</span>
<a href="#l32.11"></a><span id="l32.11"> }</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-const calRelationClassID = Components.ID(&quot;{76810fae-abad-4019-917a-08e95d5bbd68}&quot;);</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineminus">-const calRelationInterfaces = [Components.interfaces.calIRelation];</span>
<a href="#l32.14"></a><span id="l32.14" class="difflineplus">+var calRelationClassID = Components.ID(&quot;{76810fae-abad-4019-917a-08e95d5bbd68}&quot;);</span>
<a href="#l32.15"></a><span id="l32.15" class="difflineplus">+var calRelationInterfaces = [Components.interfaces.calIRelation];</span>
<a href="#l32.16"></a><span id="l32.16"> calRelation.prototype = {</span>
<a href="#l32.17"></a><span id="l32.17">     mType: null,</span>
<a href="#l32.18"></a><span id="l32.18">     mId: null,</span>
<a href="#l32.19"></a><span id="l32.19"> </span>
<a href="#l32.20"></a><span id="l32.20">     classID: calRelationClassID,</span>
<a href="#l32.21"></a><span id="l32.21">     QueryInterface: XPCOMUtils.generateQI(calRelationInterfaces),</span>
<a href="#l32.22"></a><span id="l32.22">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l32.23"></a><span id="l32.23">         classID: calRelationClassID,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/calendar/base/src/calSleepMonitor.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/calendar/base/src/calSleepMonitor.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l33.4"></a><span id="l33.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l33.5"></a><span id="l33.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l33.6"></a><span id="l33.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l33.7"></a><span id="l33.7"> </span>
<a href="#l33.8"></a><span id="l33.8"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l33.9"></a><span id="l33.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l33.10"></a><span id="l33.10"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l33.11"></a><span id="l33.11"> </span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-const calSleepMonitorClassID = Components.ID(&quot;9b987a8d-c2ef-4cb9-9602-1261b4b2f6fa&quot;);</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineminus">-const calSleepMonitorInterfaces = [Components.interfaces.nsIObserver];</span>
<a href="#l33.14"></a><span id="l33.14" class="difflineplus">+var calSleepMonitorClassID = Components.ID(&quot;9b987a8d-c2ef-4cb9-9602-1261b4b2f6fa&quot;);</span>
<a href="#l33.15"></a><span id="l33.15" class="difflineplus">+var calSleepMonitorInterfaces = [Components.interfaces.nsIObserver];</span>
<a href="#l33.16"></a><span id="l33.16"> </span>
<a href="#l33.17"></a><span id="l33.17"> function calSleepMonitor() {</span>
<a href="#l33.18"></a><span id="l33.18"> }</span>
<a href="#l33.19"></a><span id="l33.19"> </span>
<a href="#l33.20"></a><span id="l33.20"> calSleepMonitor.prototype = {</span>
<a href="#l33.21"></a><span id="l33.21">     classID: calSleepMonitorClassID,</span>
<a href="#l33.22"></a><span id="l33.22">     QueryInterface: XPCOMUtils.generateQI(calSleepMonitorInterfaces),</span>
<a href="#l33.23"></a><span id="l33.23">     classInfo: XPCOMUtils.generateCI({</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/calendar/base/src/calStartupService.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/calendar/base/src/calStartupService.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -25,18 +25,18 @@ function callOrderedServices(method, ser</span>
<a href="#l34.4"></a><span id="l34.4">     }</span>
<a href="#l34.5"></a><span id="l34.5"> }</span>
<a href="#l34.6"></a><span id="l34.6"> </span>
<a href="#l34.7"></a><span id="l34.7"> function calStartupService() {</span>
<a href="#l34.8"></a><span id="l34.8">     this.wrappedJSObject = this;</span>
<a href="#l34.9"></a><span id="l34.9">     this.setupObservers();</span>
<a href="#l34.10"></a><span id="l34.10"> }</span>
<a href="#l34.11"></a><span id="l34.11"> </span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-const calStartupServiceInterfaces = [Components.interfaces.nsIObserver];</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineminus">-const calStartupServiceClassID = Components.ID(&quot;{2547331f-34c0-4a4b-b93c-b503538ba6d6}&quot;);</span>
<a href="#l34.14"></a><span id="l34.14" class="difflineplus">+var calStartupServiceInterfaces = [Components.interfaces.nsIObserver];</span>
<a href="#l34.15"></a><span id="l34.15" class="difflineplus">+var calStartupServiceClassID = Components.ID(&quot;{2547331f-34c0-4a4b-b93c-b503538ba6d6}&quot;);</span>
<a href="#l34.16"></a><span id="l34.16"> calStartupService.prototype = {</span>
<a href="#l34.17"></a><span id="l34.17">     QueryInterface: XPCOMUtils.generateQI(calStartupServiceInterfaces),</span>
<a href="#l34.18"></a><span id="l34.18">     classID: calStartupServiceClassID,</span>
<a href="#l34.19"></a><span id="l34.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l34.20"></a><span id="l34.20">         contractID: &quot;@mozilla.org/calendar/startup-service;1&quot;,</span>
<a href="#l34.21"></a><span id="l34.21">         classDescription: &quot;Calendar Startup Service&quot;,</span>
<a href="#l34.22"></a><span id="l34.22">         classID: calStartupServiceClassID,</span>
<a href="#l34.23"></a><span id="l34.23">         interfaces: calStartupServiceInterfaces,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/calendar/base/src/calTimezone.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/calendar/base/src/calTimezone.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -6,18 +6,18 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l35.4"></a><span id="l35.4"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l35.5"></a><span id="l35.5"> Components.utils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l35.6"></a><span id="l35.6"> </span>
<a href="#l35.7"></a><span id="l35.7"> function calICALJSTimezone(innerObject) {</span>
<a href="#l35.8"></a><span id="l35.8">     this.innerObject = innerObject || new ICAL.Timezone();</span>
<a href="#l35.9"></a><span id="l35.9">     this.wrappedJSObject = this;</span>
<a href="#l35.10"></a><span id="l35.10"> }</span>
<a href="#l35.11"></a><span id="l35.11"> </span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-const calTimezoneInterfaces = [Components.interfaces.calITimezone];</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineminus">-const calTimezoneClassID =  Components.ID(&quot;{6702eb17-a968-4b43-b562-0d0c5f8e9eb5}&quot;);</span>
<a href="#l35.14"></a><span id="l35.14" class="difflineplus">+var calTimezoneInterfaces = [Components.interfaces.calITimezone];</span>
<a href="#l35.15"></a><span id="l35.15" class="difflineplus">+var calTimezoneClassID =  Components.ID(&quot;{6702eb17-a968-4b43-b562-0d0c5f8e9eb5}&quot;);</span>
<a href="#l35.16"></a><span id="l35.16"> calICALJSTimezone.prototype = {</span>
<a href="#l35.17"></a><span id="l35.17">     QueryInterface: XPCOMUtils.generateQI(calTimezoneInterfaces),</span>
<a href="#l35.18"></a><span id="l35.18">     classID: calTimezoneClassID,</span>
<a href="#l35.19"></a><span id="l35.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l35.20"></a><span id="l35.20">         contractID: &quot;@mozilla.org/calendar/timezone;1&quot;,</span>
<a href="#l35.21"></a><span id="l35.21">         classDescription: &quot;Calendar Timezone&quot;,</span>
<a href="#l35.22"></a><span id="l35.22">         classID: calTimezoneClassID,</span>
<a href="#l35.23"></a><span id="l35.23">         interfaces: calTimezoneInterfaces</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/calendar/base/src/calTimezoneService.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/calendar/base/src/calTimezoneService.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -33,18 +33,18 @@ var g_stringBundle = null;</span>
<a href="#l36.4"></a><span id="l36.4"> </span>
<a href="#l36.5"></a><span id="l36.5"> function calTimezoneService() {</span>
<a href="#l36.6"></a><span id="l36.6">     this.wrappedJSObject = this;</span>
<a href="#l36.7"></a><span id="l36.7"> </span>
<a href="#l36.8"></a><span id="l36.8">     this.mZones = new Map();</span>
<a href="#l36.9"></a><span id="l36.9"> </span>
<a href="#l36.10"></a><span id="l36.10">     ICAL.TimezoneService = this.wrappedJSObject;</span>
<a href="#l36.11"></a><span id="l36.11"> }</span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-const calTimezoneServiceClassID = Components.ID(&quot;{e736f2bd-7640-4715-ab35-887dc866c587}&quot;);</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineminus">-const calTimezoneServiceInterfaces = [</span>
<a href="#l36.14"></a><span id="l36.14" class="difflineplus">+var calTimezoneServiceClassID = Components.ID(&quot;{e736f2bd-7640-4715-ab35-887dc866c587}&quot;);</span>
<a href="#l36.15"></a><span id="l36.15" class="difflineplus">+var calTimezoneServiceInterfaces = [</span>
<a href="#l36.16"></a><span id="l36.16">     Components.interfaces.calITimezoneService,</span>
<a href="#l36.17"></a><span id="l36.17">     Components.interfaces.calITimezoneProvider,</span>
<a href="#l36.18"></a><span id="l36.18">     Components.interfaces.calIStartupService</span>
<a href="#l36.19"></a><span id="l36.19"> ];</span>
<a href="#l36.20"></a><span id="l36.20"> calTimezoneService.prototype = {</span>
<a href="#l36.21"></a><span id="l36.21">     mDefaultTimezone: null,</span>
<a href="#l36.22"></a><span id="l36.22">     mHasSetupObservers: false,</span>
<a href="#l36.23"></a><span id="l36.23">     mVersion: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/calendar/base/src/calTodo.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/calendar/base/src/calTodo.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -15,18 +15,18 @@ function calTodo() {</span>
<a href="#l37.4"></a><span id="l37.4">         &quot;DTSTART&quot;: true,</span>
<a href="#l37.5"></a><span id="l37.5">         &quot;DTEND&quot;: true,</span>
<a href="#l37.6"></a><span id="l37.6">         &quot;DUE&quot;: true,</span>
<a href="#l37.7"></a><span id="l37.7">         &quot;COMPLETED&quot;: true,</span>
<a href="#l37.8"></a><span id="l37.8">         __proto__: this.itemBasePromotedProps</span>
<a href="#l37.9"></a><span id="l37.9">     };</span>
<a href="#l37.10"></a><span id="l37.10"> }</span>
<a href="#l37.11"></a><span id="l37.11"> </span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-const calTodoClassID = Components.ID(&quot;{7af51168-6abe-4a31-984d-6f8a3989212d}&quot;);</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineminus">-const calTodoInterfaces = [</span>
<a href="#l37.14"></a><span id="l37.14" class="difflineplus">+var calTodoClassID = Components.ID(&quot;{7af51168-6abe-4a31-984d-6f8a3989212d}&quot;);</span>
<a href="#l37.15"></a><span id="l37.15" class="difflineplus">+var calTodoInterfaces = [</span>
<a href="#l37.16"></a><span id="l37.16">     Components.interfaces.calIItemBase,</span>
<a href="#l37.17"></a><span id="l37.17">     Components.interfaces.calITodo,</span>
<a href="#l37.18"></a><span id="l37.18">     Components.interfaces.calIInternalShallowCopy</span>
<a href="#l37.19"></a><span id="l37.19"> ];</span>
<a href="#l37.20"></a><span id="l37.20"> calTodo.prototype = {</span>
<a href="#l37.21"></a><span id="l37.21">     __proto__: calItemBase.prototype,</span>
<a href="#l37.22"></a><span id="l37.22"> </span>
<a href="#l37.23"></a><span id="l37.23">     classID: calTodoClassID,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/calendar/base/src/calTransactionManager.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/calendar/base/src/calTransactionManager.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -9,18 +9,18 @@ function calTransactionManager() {</span>
<a href="#l38.4"></a><span id="l38.4">     this.wrappedJSObject = this;</span>
<a href="#l38.5"></a><span id="l38.5">     if (!this.transactionManager) {</span>
<a href="#l38.6"></a><span id="l38.6">         this.transactionManager =</span>
<a href="#l38.7"></a><span id="l38.7">             Components.classes[&quot;@mozilla.org/transactionmanager;1&quot;]</span>
<a href="#l38.8"></a><span id="l38.8">                       .createInstance(Components.interfaces.nsITransactionManager);</span>
<a href="#l38.9"></a><span id="l38.9">     }</span>
<a href="#l38.10"></a><span id="l38.10"> }</span>
<a href="#l38.11"></a><span id="l38.11"> </span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-const calTransactionManagerClassID = Components.ID(&quot;{40a1ccf4-5f54-4815-b842-abf06f84dbfd}&quot;);</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineminus">-const calTransactionManagerInterfaces = [Components.interfaces.calITransactionManager];</span>
<a href="#l38.14"></a><span id="l38.14" class="difflineplus">+var calTransactionManagerClassID = Components.ID(&quot;{40a1ccf4-5f54-4815-b842-abf06f84dbfd}&quot;);</span>
<a href="#l38.15"></a><span id="l38.15" class="difflineplus">+var calTransactionManagerInterfaces = [Components.interfaces.calITransactionManager];</span>
<a href="#l38.16"></a><span id="l38.16"> calTransactionManager.prototype = {</span>
<a href="#l38.17"></a><span id="l38.17"> </span>
<a href="#l38.18"></a><span id="l38.18">     classID: calTransactionManagerClassID,</span>
<a href="#l38.19"></a><span id="l38.19">     QueryInterface: XPCOMUtils.generateQI(calTransactionManagerInterfaces),</span>
<a href="#l38.20"></a><span id="l38.20">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l38.21"></a><span id="l38.21">         classID: calTransactionManagerClassID,</span>
<a href="#l38.22"></a><span id="l38.22">         classDescription: &quot;Calendar Transaction Manager&quot;,</span>
<a href="#l38.23"></a><span id="l38.23">         contractID: &quot;mozilla.org/calendar/transactionmanager;1&quot;,</span>
<a href="#l38.24"></a><span id="l38.24" class="difflineat">@@ -84,18 +84,18 @@ function calTransaction(aAction, aItem, </span>
<a href="#l38.25"></a><span id="l38.25">     this.wrappedJSObject = this;</span>
<a href="#l38.26"></a><span id="l38.26">     this.mAction = aAction;</span>
<a href="#l38.27"></a><span id="l38.27">     this.mItem = aItem;</span>
<a href="#l38.28"></a><span id="l38.28">     this.mCalendar = aCalendar;</span>
<a href="#l38.29"></a><span id="l38.29">     this.mOldItem = aOldItem;</span>
<a href="#l38.30"></a><span id="l38.30">     this.mListener = aListener;</span>
<a href="#l38.31"></a><span id="l38.31"> }</span>
<a href="#l38.32"></a><span id="l38.32"> </span>
<a href="#l38.33"></a><span id="l38.33" class="difflineminus">-const calTransactionClassID = Components.ID(&quot;{fcb54c82-2fb9-42cb-bf44-1e197a55e520}&quot;);</span>
<a href="#l38.34"></a><span id="l38.34" class="difflineminus">-const calTransactionInterfaces = [</span>
<a href="#l38.35"></a><span id="l38.35" class="difflineplus">+var calTransactionClassID = Components.ID(&quot;{fcb54c82-2fb9-42cb-bf44-1e197a55e520}&quot;);</span>
<a href="#l38.36"></a><span id="l38.36" class="difflineplus">+var calTransactionInterfaces = [</span>
<a href="#l38.37"></a><span id="l38.37">     Components.interfaces.nsITransaction,</span>
<a href="#l38.38"></a><span id="l38.38">     Components.interfaces.calIOperationListener</span>
<a href="#l38.39"></a><span id="l38.39"> ];</span>
<a href="#l38.40"></a><span id="l38.40"> calTransaction.prototype = {</span>
<a href="#l38.41"></a><span id="l38.41">     classID: calTransactionClassID,</span>
<a href="#l38.42"></a><span id="l38.42">     QueryInterface: XPCOMUtils.generateQI(calTransactionInterfaces),</span>
<a href="#l38.43"></a><span id="l38.43">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l38.44"></a><span id="l38.44">         classID: calTransactionClassID,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/calendar/base/src/calWeekInfoService.js</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/calendar/base/src/calWeekInfoService.js</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -4,18 +4,18 @@</span>
<a href="#l39.4"></a><span id="l39.4"> </span>
<a href="#l39.5"></a><span id="l39.5"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l39.6"></a><span id="l39.6"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l39.7"></a><span id="l39.7"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l39.8"></a><span id="l39.8"> </span>
<a href="#l39.9"></a><span id="l39.9"> function calWeekInfoService() {</span>
<a href="#l39.10"></a><span id="l39.10">     this.wrappedJSObject = this;</span>
<a href="#l39.11"></a><span id="l39.11"> }</span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-const calWeekInfoServiceClassID = Components.ID(&quot;{6877bbdd-f336-46f5-98ce-fe86d0285cc1}&quot;);</span>
<a href="#l39.13"></a><span id="l39.13" class="difflineminus">-const calWeekInfoServiceInterfaces = [Components.interfaces.calIWeekInfoService];</span>
<a href="#l39.14"></a><span id="l39.14" class="difflineplus">+var calWeekInfoServiceClassID = Components.ID(&quot;{6877bbdd-f336-46f5-98ce-fe86d0285cc1}&quot;);</span>
<a href="#l39.15"></a><span id="l39.15" class="difflineplus">+var calWeekInfoServiceInterfaces = [Components.interfaces.calIWeekInfoService];</span>
<a href="#l39.16"></a><span id="l39.16"> calWeekInfoService.prototype = {</span>
<a href="#l39.17"></a><span id="l39.17">     classID: calWeekInfoServiceClassID,</span>
<a href="#l39.18"></a><span id="l39.18">     QueryInterface: XPCOMUtils.generateQI(calWeekInfoServiceInterfaces),</span>
<a href="#l39.19"></a><span id="l39.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l39.20"></a><span id="l39.20">         classID: calWeekInfoServiceClassID,</span>
<a href="#l39.21"></a><span id="l39.21">         contractID: &quot;@mozilla.org/calendar/weekinfo-service;1&quot;,</span>
<a href="#l39.22"></a><span id="l39.22">         classDescription: &quot;Calendar WeekInfo Service&quot;,</span>
<a href="#l39.23"></a><span id="l39.23">         interfaces: calWeekInfoServiceInterfaces,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/calendar/import-export/calHtmlExport.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/calendar/import-export/calHtmlExport.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -9,18 +9,18 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l40.4"></a><span id="l40.4"> </span>
<a href="#l40.5"></a><span id="l40.5"> /**</span>
<a href="#l40.6"></a><span id="l40.6">  * HTML Export Plugin</span>
<a href="#l40.7"></a><span id="l40.7">  */</span>
<a href="#l40.8"></a><span id="l40.8"> function calHtmlExporter() {</span>
<a href="#l40.9"></a><span id="l40.9">     this.wrappedJSObject = this;</span>
<a href="#l40.10"></a><span id="l40.10"> }</span>
<a href="#l40.11"></a><span id="l40.11"> </span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-const calHtmlExporterClassID = Components.ID(&quot;{72d9ab35-9b1b-442a-8cd0-ae49f00b159b}&quot;);</span>
<a href="#l40.13"></a><span id="l40.13" class="difflineminus">-const calHtmlExporterInterfaces = [Components.interfaces.calIExporter];</span>
<a href="#l40.14"></a><span id="l40.14" class="difflineplus">+var calHtmlExporterClassID = Components.ID(&quot;{72d9ab35-9b1b-442a-8cd0-ae49f00b159b}&quot;);</span>
<a href="#l40.15"></a><span id="l40.15" class="difflineplus">+var calHtmlExporterInterfaces = [Components.interfaces.calIExporter];</span>
<a href="#l40.16"></a><span id="l40.16"> calHtmlExporter.prototype = {</span>
<a href="#l40.17"></a><span id="l40.17">     classID: calHtmlExporterClassID,</span>
<a href="#l40.18"></a><span id="l40.18">     QueryInterface: XPCOMUtils.generateQI(calHtmlExporterInterfaces),</span>
<a href="#l40.19"></a><span id="l40.19"> </span>
<a href="#l40.20"></a><span id="l40.20">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l40.21"></a><span id="l40.21">         classID: calHtmlExporterClassID,</span>
<a href="#l40.22"></a><span id="l40.22">         contractID: &quot;@mozilla.org/calendar/export;1?type=html&quot;,</span>
<a href="#l40.23"></a><span id="l40.23">         classDescription: &quot;Calendar HTML Exporter&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/calendar/import-export/calIcsImportExport.js</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/calendar/import-export/calIcsImportExport.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -20,18 +20,18 @@ function getIcsFileTypes(aCount) {</span>
<a href="#l41.4"></a><span id="l41.4">     }];</span>
<a href="#l41.5"></a><span id="l41.5"> }</span>
<a href="#l41.6"></a><span id="l41.6"> </span>
<a href="#l41.7"></a><span id="l41.7"> // Importer</span>
<a href="#l41.8"></a><span id="l41.8"> function calIcsImporter() {</span>
<a href="#l41.9"></a><span id="l41.9">     this.wrappedJSObject = this;</span>
<a href="#l41.10"></a><span id="l41.10"> }</span>
<a href="#l41.11"></a><span id="l41.11"> </span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-const calIcsImporterClassID = Components.ID(&quot;{1e3e33dc-445a-49de-b2b6-15b2a050bb9d}&quot;);</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineminus">-const calIcsImporterInterfaces = [Components.interfaces.calIImporter];</span>
<a href="#l41.14"></a><span id="l41.14" class="difflineplus">+var calIcsImporterClassID = Components.ID(&quot;{1e3e33dc-445a-49de-b2b6-15b2a050bb9d}&quot;);</span>
<a href="#l41.15"></a><span id="l41.15" class="difflineplus">+var calIcsImporterInterfaces = [Components.interfaces.calIImporter];</span>
<a href="#l41.16"></a><span id="l41.16"> calIcsImporter.prototype = {</span>
<a href="#l41.17"></a><span id="l41.17">     classID: calIcsImporterClassID,</span>
<a href="#l41.18"></a><span id="l41.18">     QueryInterface: XPCOMUtils.generateQI(calIcsImporterInterfaces),</span>
<a href="#l41.19"></a><span id="l41.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l41.20"></a><span id="l41.20">         classID: calIcsImporterClassID,</span>
<a href="#l41.21"></a><span id="l41.21">         contractID: &quot;@mozilla.org/calendar/import;1?type=ics&quot;,</span>
<a href="#l41.22"></a><span id="l41.22">         classDescription: &quot;Calendar ICS Importer&quot;,</span>
<a href="#l41.23"></a><span id="l41.23">         interfaces: calIcsImporterInterfaces</span>
<a href="#l41.24"></a><span id="l41.24" class="difflineat">@@ -47,18 +47,18 @@ calIcsImporter.prototype = {</span>
<a href="#l41.25"></a><span id="l41.25">     }</span>
<a href="#l41.26"></a><span id="l41.26"> };</span>
<a href="#l41.27"></a><span id="l41.27"> </span>
<a href="#l41.28"></a><span id="l41.28"> // Exporter</span>
<a href="#l41.29"></a><span id="l41.29"> function calIcsExporter() {</span>
<a href="#l41.30"></a><span id="l41.30">     this.wrappedJSObject = this;</span>
<a href="#l41.31"></a><span id="l41.31"> }</span>
<a href="#l41.32"></a><span id="l41.32"> </span>
<a href="#l41.33"></a><span id="l41.33" class="difflineminus">-const calIcsExporterClassID = Components.ID(&quot;{a6a524ce-adff-4a0f-bb7d-d1aaad4adc60}&quot;);</span>
<a href="#l41.34"></a><span id="l41.34" class="difflineminus">-const calIcsExporterInterfaces = [Components.interfaces.calIExporter];</span>
<a href="#l41.35"></a><span id="l41.35" class="difflineplus">+var calIcsExporterClassID = Components.ID(&quot;{a6a524ce-adff-4a0f-bb7d-d1aaad4adc60}&quot;);</span>
<a href="#l41.36"></a><span id="l41.36" class="difflineplus">+var calIcsExporterInterfaces = [Components.interfaces.calIExporter];</span>
<a href="#l41.37"></a><span id="l41.37"> calIcsExporter.prototype = {</span>
<a href="#l41.38"></a><span id="l41.38">     classID: calIcsExporterClassID,</span>
<a href="#l41.39"></a><span id="l41.39">     QueryInterface: XPCOMUtils.generateQI(calIcsExporterInterfaces),</span>
<a href="#l41.40"></a><span id="l41.40"> </span>
<a href="#l41.41"></a><span id="l41.41">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l41.42"></a><span id="l41.42">         classID: calIcsExporterClassID,</span>
<a href="#l41.43"></a><span id="l41.43">         contractID: &quot;@mozilla.org/calendar/export;1?type=ics&quot;,</span>
<a href="#l41.44"></a><span id="l41.44">         classDescription: &quot;Calendar ICS Exporter&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/calendar/import-export/calImportExportModule.js</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/calendar/import-export/calImportExportModule.js</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l42.4"></a><span id="l42.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l42.5"></a><span id="l42.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l42.6"></a><span id="l42.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l42.7"></a><span id="l42.7"> </span>
<a href="#l42.8"></a><span id="l42.8"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l42.9"></a><span id="l42.9"> </span>
<a href="#l42.10"></a><span id="l42.10" class="difflineminus">-const scriptLoadOrder = [</span>
<a href="#l42.11"></a><span id="l42.11" class="difflineplus">+var scriptLoadOrder = [</span>
<a href="#l42.12"></a><span id="l42.12">     &quot;calIcsImportExport.js&quot;,</span>
<a href="#l42.13"></a><span id="l42.13">     &quot;calHtmlExport.js&quot;,</span>
<a href="#l42.14"></a><span id="l42.14">     &quot;calOutlookCSVImportExport.js&quot;,</span>
<a href="#l42.15"></a><span id="l42.15"> </span>
<a href="#l42.16"></a><span id="l42.16">     &quot;calListFormatter.js&quot;,</span>
<a href="#l42.17"></a><span id="l42.17">     &quot;calMonthGridPrinter.js&quot;,</span>
<a href="#l42.18"></a><span id="l42.18">     &quot;calWeekPrinter.js&quot;</span>
<a href="#l42.19"></a><span id="l42.19"> ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/calendar/import-export/calListFormatter.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/calendar/import-export/calListFormatter.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -7,18 +7,18 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l43.4"></a><span id="l43.4"> </span>
<a href="#l43.5"></a><span id="l43.5"> /**</span>
<a href="#l43.6"></a><span id="l43.6">  * A thin wrapper around the html list exporter for the list print format.</span>
<a href="#l43.7"></a><span id="l43.7">  */</span>
<a href="#l43.8"></a><span id="l43.8"> function calListFormatter() {</span>
<a href="#l43.9"></a><span id="l43.9">     this.wrappedJSObject = this;</span>
<a href="#l43.10"></a><span id="l43.10"> }</span>
<a href="#l43.11"></a><span id="l43.11"> </span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-const calListFormatterClassID = Components.ID(&quot;{9ae04413-fee3-45b9-8bbb-1eb39a4cbd1b}&quot;);</span>
<a href="#l43.13"></a><span id="l43.13" class="difflineminus">-const calListFormatterInterfaces = [Components.interfaces.calIPrintFormatter];</span>
<a href="#l43.14"></a><span id="l43.14" class="difflineplus">+var calListFormatterClassID = Components.ID(&quot;{9ae04413-fee3-45b9-8bbb-1eb39a4cbd1b}&quot;);</span>
<a href="#l43.15"></a><span id="l43.15" class="difflineplus">+var calListFormatterInterfaces = [Components.interfaces.calIPrintFormatter];</span>
<a href="#l43.16"></a><span id="l43.16"> calListFormatter.prototype = {</span>
<a href="#l43.17"></a><span id="l43.17">     classID: calListFormatterClassID,</span>
<a href="#l43.18"></a><span id="l43.18">     QueryInterface: XPCOMUtils.generateQI(calListFormatterInterfaces),</span>
<a href="#l43.19"></a><span id="l43.19"> </span>
<a href="#l43.20"></a><span id="l43.20">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l43.21"></a><span id="l43.21">         classID: calListFormatterClassID,</span>
<a href="#l43.22"></a><span id="l43.22">         contractID: &quot;@mozilla.org/calendar/printformatter;1?type=list&quot;,</span>
<a href="#l43.23"></a><span id="l43.23">         classDescription: &quot;Calendar List Print Formatter&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/calendar/import-export/calMonthGridPrinter.js</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/calendar/import-export/calMonthGridPrinter.js</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -11,18 +11,18 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l44.4"></a><span id="l44.4"> </span>
<a href="#l44.5"></a><span id="l44.5"> /**</span>
<a href="#l44.6"></a><span id="l44.6">  * Prints a rough month-grid of events/tasks</span>
<a href="#l44.7"></a><span id="l44.7">  */</span>
<a href="#l44.8"></a><span id="l44.8"> function calMonthPrinter() {</span>
<a href="#l44.9"></a><span id="l44.9">     this.wrappedJSObject = this;</span>
<a href="#l44.10"></a><span id="l44.10"> }</span>
<a href="#l44.11"></a><span id="l44.11"> </span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-const calMonthPrinterClassID = Components.ID(&quot;{f42d5132-92c4-487b-b5c8-38bf292d74c1}&quot;);</span>
<a href="#l44.13"></a><span id="l44.13" class="difflineminus">-const calMonthPrinterInterfaces = [Components.interfaces.calIPrintFormatter];</span>
<a href="#l44.14"></a><span id="l44.14" class="difflineplus">+var calMonthPrinterClassID = Components.ID(&quot;{f42d5132-92c4-487b-b5c8-38bf292d74c1}&quot;);</span>
<a href="#l44.15"></a><span id="l44.15" class="difflineplus">+var calMonthPrinterInterfaces = [Components.interfaces.calIPrintFormatter];</span>
<a href="#l44.16"></a><span id="l44.16"> calMonthPrinter.prototype = {</span>
<a href="#l44.17"></a><span id="l44.17">     classID: calMonthPrinterClassID,</span>
<a href="#l44.18"></a><span id="l44.18">     QueryInterface: XPCOMUtils.generateQI(calMonthPrinterInterfaces),</span>
<a href="#l44.19"></a><span id="l44.19"> </span>
<a href="#l44.20"></a><span id="l44.20">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l44.21"></a><span id="l44.21">         classID: calMonthPrinterClassID,</span>
<a href="#l44.22"></a><span id="l44.22">         contractID: &quot;@mozilla.org/calendar/printformatter;1?type=monthgrid&quot;,</span>
<a href="#l44.23"></a><span id="l44.23">         classDescription: &quot;Calendar Month Grid Print Formatter&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/calendar/import-export/calOutlookCSVImportExport.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/calendar/import-export/calOutlookCSVImportExport.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l45.4"></a><span id="l45.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l45.5"></a><span id="l45.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l45.6"></a><span id="l45.6"> </span>
<a href="#l45.7"></a><span id="l45.7"> Components.utils.import(&quot;resource://calendar/modules/calAlarmUtils.jsm&quot;);</span>
<a href="#l45.8"></a><span id="l45.8"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l45.9"></a><span id="l45.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l45.10"></a><span id="l45.10"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l45.11"></a><span id="l45.11"> </span>
<a href="#l45.12"></a><span id="l45.12" class="difflineminus">-const localeEn = {</span>
<a href="#l45.13"></a><span id="l45.13" class="difflineplus">+var localeEn = {</span>
<a href="#l45.14"></a><span id="l45.14">     headTitle       : &quot;Subject&quot;,</span>
<a href="#l45.15"></a><span id="l45.15">     headStartDate   : &quot;Start Date&quot;,</span>
<a href="#l45.16"></a><span id="l45.16">     headStartTime   : &quot;Start Time&quot;,</span>
<a href="#l45.17"></a><span id="l45.17">     headEndDate     : &quot;End Date&quot;,</span>
<a href="#l45.18"></a><span id="l45.18">     headEndTime     : &quot;End Time&quot;,</span>
<a href="#l45.19"></a><span id="l45.19">     headAllDayEvent : &quot;All day event&quot;,</span>
<a href="#l45.20"></a><span id="l45.20">     headAlarm       : &quot;Reminder on/off&quot;,</span>
<a href="#l45.21"></a><span id="l45.21">     headAlarmDate   : &quot;Reminder Date&quot;,</span>
<a href="#l45.22"></a><span id="l45.22" class="difflineat">@@ -36,17 +36,17 @@ const localeEn = {</span>
<a href="#l45.23"></a><span id="l45.23">     timeMinuteIndex : 2,</span>
<a href="#l45.24"></a><span id="l45.24">     timeSecondIndex : 3,</span>
<a href="#l45.25"></a><span id="l45.25">     timeAmPmIndex   : 4,</span>
<a href="#l45.26"></a><span id="l45.26">     timeAmString    : &quot;AM&quot;,</span>
<a href="#l45.27"></a><span id="l45.27">     timePmString    : &quot;PM&quot;,</span>
<a href="#l45.28"></a><span id="l45.28">     timeFormat      : &quot;%I:%M:%S %p&quot;</span>
<a href="#l45.29"></a><span id="l45.29"> };</span>
<a href="#l45.30"></a><span id="l45.30"> </span>
<a href="#l45.31"></a><span id="l45.31" class="difflineminus">-const localeNl = {</span>
<a href="#l45.32"></a><span id="l45.32" class="difflineplus">+var localeNl = {</span>
<a href="#l45.33"></a><span id="l45.33">     headTitle       : &quot;Onderwerp&quot;,</span>
<a href="#l45.34"></a><span id="l45.34">     headStartDate   : &quot;Begindatum&quot;,</span>
<a href="#l45.35"></a><span id="l45.35">     headStartTime   : &quot;Begintijd&quot;,</span>
<a href="#l45.36"></a><span id="l45.36">     headEndDate     : &quot;Einddatum&quot;,</span>
<a href="#l45.37"></a><span id="l45.37">     headEndTime     : &quot;Eindtijd&quot;,</span>
<a href="#l45.38"></a><span id="l45.38">     headAllDayEvent : &quot;Evenement, duurt hele dag&quot;,</span>
<a href="#l45.39"></a><span id="l45.39">     headAlarm       : &quot;Herinneringen aan/uit&quot;,</span>
<a href="#l45.40"></a><span id="l45.40">     headAlarmDate   : &quot;Herinneringsdatum&quot;,</span>
<a href="#l45.41"></a><span id="l45.41" class="difflineat">@@ -67,37 +67,37 @@ const localeNl = {</span>
<a href="#l45.42"></a><span id="l45.42"> </span>
<a href="#l45.43"></a><span id="l45.43">     timeRe          : /^(\d+):(\d+):(\d+)$/,</span>
<a href="#l45.44"></a><span id="l45.44">     timeHourIndex   : 1,</span>
<a href="#l45.45"></a><span id="l45.45">     timeMinuteIndex : 2,</span>
<a href="#l45.46"></a><span id="l45.46">     timeSecondIndex : 3,</span>
<a href="#l45.47"></a><span id="l45.47">     timeFormat      : &quot;%H:%M:%S&quot;</span>
<a href="#l45.48"></a><span id="l45.48"> };</span>
<a href="#l45.49"></a><span id="l45.49"> </span>
<a href="#l45.50"></a><span id="l45.50" class="difflineminus">-const locales = [localeEn, localeNl];</span>
<a href="#l45.51"></a><span id="l45.51" class="difflineplus">+var locales = [localeEn, localeNl];</span>
<a href="#l45.52"></a><span id="l45.52"> </span>
<a href="#l45.53"></a><span id="l45.53"> // Windows line endings, CSV files with LF only can't be read by Outlook.</span>
<a href="#l45.54"></a><span id="l45.54" class="difflineminus">-const exportLineEnding = &quot;\r\n&quot;;</span>
<a href="#l45.55"></a><span id="l45.55" class="difflineplus">+var exportLineEnding = &quot;\r\n&quot;;</span>
<a href="#l45.56"></a><span id="l45.56"> </span>
<a href="#l45.57"></a><span id="l45.57"> // Shared functions</span>
<a href="#l45.58"></a><span id="l45.58"> function getOutlookCsvFileTypes(aCount) {</span>
<a href="#l45.59"></a><span id="l45.59">     aCount.value = 1;</span>
<a href="#l45.60"></a><span id="l45.60">     let wildmat = '*.csv';</span>
<a href="#l45.61"></a><span id="l45.61">     let label = cal.calGetString(&quot;calendar&quot;, 'filterOutlookCsv', [wildmat]);</span>
<a href="#l45.62"></a><span id="l45.62">     return [{ defaultExtension: 'csv',</span>
<a href="#l45.63"></a><span id="l45.63">               extensionFilter: wildmat,</span>
<a href="#l45.64"></a><span id="l45.64">               description: label }];</span>
<a href="#l45.65"></a><span id="l45.65"> }</span>
<a href="#l45.66"></a><span id="l45.66"> </span>
<a href="#l45.67"></a><span id="l45.67"> // Importer</span>
<a href="#l45.68"></a><span id="l45.68"> function calOutlookCSVImporter() {</span>
<a href="#l45.69"></a><span id="l45.69">     this.wrappedJSObject = this;</span>
<a href="#l45.70"></a><span id="l45.70"> }</span>
<a href="#l45.71"></a><span id="l45.71" class="difflineminus">-const calOutlookCSVImporterClassID = Components.ID(&quot;{64a5d17a-0497-48c5-b54f-72b15c9e9a14}&quot;);</span>
<a href="#l45.72"></a><span id="l45.72" class="difflineminus">-const calOutlookCSVImporterInterfaces = [Components.interfaces.calIImporter];</span>
<a href="#l45.73"></a><span id="l45.73" class="difflineplus">+var calOutlookCSVImporterClassID = Components.ID(&quot;{64a5d17a-0497-48c5-b54f-72b15c9e9a14}&quot;);</span>
<a href="#l45.74"></a><span id="l45.74" class="difflineplus">+var calOutlookCSVImporterInterfaces = [Components.interfaces.calIImporter];</span>
<a href="#l45.75"></a><span id="l45.75"> calOutlookCSVImporter.prototype = {</span>
<a href="#l45.76"></a><span id="l45.76">     classID: calOutlookCSVImporterClassID,</span>
<a href="#l45.77"></a><span id="l45.77">     QueryInterface: XPCOMUtils.generateQI(calOutlookCSVImporterInterfaces),</span>
<a href="#l45.78"></a><span id="l45.78">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l45.79"></a><span id="l45.79">         classID: calOutlookCSVImporterClassID,</span>
<a href="#l45.80"></a><span id="l45.80">         contractID: &quot;@mozilla.org/calendar/import;1?type=csv&quot;,</span>
<a href="#l45.81"></a><span id="l45.81">         classDescription: &quot;Calendar Outlook CSV Importer&quot;,</span>
<a href="#l45.82"></a><span id="l45.82">         interfaces: calOutlookCSVImporterInterfaces</span>
<a href="#l45.83"></a><span id="l45.83" class="difflineat">@@ -415,18 +415,18 @@ calOutlookCSVImporter.prototype = {</span>
<a href="#l45.84"></a><span id="l45.84">     parseTextField: function parseTextField(aTextField) {</span>
<a href="#l45.85"></a><span id="l45.85">         return aTextField ? aTextField.replace(/&quot;&quot;/g, &quot;\&quot;&quot;) : &quot;&quot;;</span>
<a href="#l45.86"></a><span id="l45.86">     }</span>
<a href="#l45.87"></a><span id="l45.87"> };</span>
<a href="#l45.88"></a><span id="l45.88"> </span>
<a href="#l45.89"></a><span id="l45.89"> // Exporter</span>
<a href="#l45.90"></a><span id="l45.90"> function calOutlookCSVExporter() {</span>
<a href="#l45.91"></a><span id="l45.91"> }</span>
<a href="#l45.92"></a><span id="l45.92" class="difflineminus">-const calOutlookCSVExporterClassID = Components.ID(&quot;{48e6d3a6-b41b-4052-9ed2-40b27800bd4b}&quot;);</span>
<a href="#l45.93"></a><span id="l45.93" class="difflineminus">-const calOutlookCSVExporterInterfaces = [Components.interfaces.calIExporter];</span>
<a href="#l45.94"></a><span id="l45.94" class="difflineplus">+var calOutlookCSVExporterClassID = Components.ID(&quot;{48e6d3a6-b41b-4052-9ed2-40b27800bd4b}&quot;);</span>
<a href="#l45.95"></a><span id="l45.95" class="difflineplus">+var calOutlookCSVExporterInterfaces = [Components.interfaces.calIExporter];</span>
<a href="#l45.96"></a><span id="l45.96"> calOutlookCSVExporter.prototype = {</span>
<a href="#l45.97"></a><span id="l45.97">     classID: calOutlookCSVExporterClassID,</span>
<a href="#l45.98"></a><span id="l45.98">     QueryInterface: XPCOMUtils.generateQI(calOutlookCSVExporterInterfaces),</span>
<a href="#l45.99"></a><span id="l45.99">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l45.100"></a><span id="l45.100">         classID: calOutlookCSVExporterClassID,</span>
<a href="#l45.101"></a><span id="l45.101">         contractID: &quot;@mozilla.org/calendar/export;1?type=csv&quot;,</span>
<a href="#l45.102"></a><span id="l45.102">         classDescription: &quot;Calendar Outlook CSV Exporter&quot;,</span>
<a href="#l45.103"></a><span id="l45.103">         interfaces: calOutlookCSVExporterInterfaces</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/calendar/import-export/calWeekPrinter.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/calendar/import-export/calWeekPrinter.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -11,18 +11,18 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l46.4"></a><span id="l46.4"> </span>
<a href="#l46.5"></a><span id="l46.5"> /**</span>
<a href="#l46.6"></a><span id="l46.6">  * Prints a two column view of a week of events, much like a paper day-planner</span>
<a href="#l46.7"></a><span id="l46.7">  */</span>
<a href="#l46.8"></a><span id="l46.8"> function calWeekPrinter() {</span>
<a href="#l46.9"></a><span id="l46.9">     this.wrappedJSObject = this;</span>
<a href="#l46.10"></a><span id="l46.10"> }</span>
<a href="#l46.11"></a><span id="l46.11"> </span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-const calWeekPrinterClassID = Components.ID(&quot;{2d6ec97b-9109-4b92-89c5-d4b4806619ce}&quot;);</span>
<a href="#l46.13"></a><span id="l46.13" class="difflineminus">-const calWeekPrinterInterfaces = [Components.interfaces.calIPrintFormatter];</span>
<a href="#l46.14"></a><span id="l46.14" class="difflineplus">+var calWeekPrinterClassID = Components.ID(&quot;{2d6ec97b-9109-4b92-89c5-d4b4806619ce}&quot;);</span>
<a href="#l46.15"></a><span id="l46.15" class="difflineplus">+var calWeekPrinterInterfaces = [Components.interfaces.calIPrintFormatter];</span>
<a href="#l46.16"></a><span id="l46.16"> calWeekPrinter.prototype = {</span>
<a href="#l46.17"></a><span id="l46.17">     classID: calWeekPrinterClassID,</span>
<a href="#l46.18"></a><span id="l46.18">     QueryInterface: XPCOMUtils.generateQI(calWeekPrinterInterfaces),</span>
<a href="#l46.19"></a><span id="l46.19"> </span>
<a href="#l46.20"></a><span id="l46.20">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l46.21"></a><span id="l46.21">         classID: calWeekPrinterClassID,</span>
<a href="#l46.22"></a><span id="l46.22">         contractID: &quot;@mozilla.org/calendar/printformatter;1?type=weekplan&quot;,</span>
<a href="#l46.23"></a><span id="l46.23">         classDescription: &quot;Calendar Week Print Formatter&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/calendar/itip/calItipEmailTransport.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/calendar/itip/calItipEmailTransport.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -17,18 +17,18 @@ function convertFromUnicode(aCharset, aS</span>
<a href="#l47.4"></a><span id="l47.4"> </span>
<a href="#l47.5"></a><span id="l47.5"> /**</span>
<a href="#l47.6"></a><span id="l47.6">  * Constructor of calItipEmailTransport object</span>
<a href="#l47.7"></a><span id="l47.7">  */</span>
<a href="#l47.8"></a><span id="l47.8"> function calItipEmailTransport() {</span>
<a href="#l47.9"></a><span id="l47.9">     this.wrappedJSObject = this;</span>
<a href="#l47.10"></a><span id="l47.10">     this._initEmailTransport();</span>
<a href="#l47.11"></a><span id="l47.11"> }</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineminus">-const calItipEmailTransportClassID = Components.ID(&quot;{d4d7b59e-c9e0-4a7a-b5e8-5958f85515f0}&quot;);</span>
<a href="#l47.13"></a><span id="l47.13" class="difflineminus">-const calItipEmailTransportInterfaces = [Components.interfaces.calIItipTransport];</span>
<a href="#l47.14"></a><span id="l47.14" class="difflineplus">+var calItipEmailTransportClassID = Components.ID(&quot;{d4d7b59e-c9e0-4a7a-b5e8-5958f85515f0}&quot;);</span>
<a href="#l47.15"></a><span id="l47.15" class="difflineplus">+var calItipEmailTransportInterfaces = [Components.interfaces.calIItipTransport];</span>
<a href="#l47.16"></a><span id="l47.16"> calItipEmailTransport.prototype = {</span>
<a href="#l47.17"></a><span id="l47.17">     classID: calItipEmailTransportClassID,</span>
<a href="#l47.18"></a><span id="l47.18">     QueryInterface: XPCOMUtils.generateQI(calItipEmailTransportInterfaces),</span>
<a href="#l47.19"></a><span id="l47.19">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l47.20"></a><span id="l47.20">         classID: calItipEmailTransportClassID,</span>
<a href="#l47.21"></a><span id="l47.21">         contractID: &quot;@mozilla.org/calendar/itip-transport;1?type=email&quot;,</span>
<a href="#l47.22"></a><span id="l47.22">         classDescription: &quot;Calendar iTIP Email Transport&quot;,</span>
<a href="#l47.23"></a><span id="l47.23">         interfaces: calItipEmailTransportInterfaces,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/calendar/lightning/components/calItipProtocolHandler.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/calendar/lightning/components/calItipProtocolHandler.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -1,30 +1,30 @@</span>
<a href="#l48.4"></a><span id="l48.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l48.5"></a><span id="l48.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l48.6"></a><span id="l48.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l48.7"></a><span id="l48.7"> </span>
<a href="#l48.8"></a><span id="l48.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l48.9"></a><span id="l48.9"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l48.10"></a><span id="l48.10"> </span>
<a href="#l48.11"></a><span id="l48.11" class="difflineminus">-const CI = Components.interfaces;</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineplus">+var CI = Components.interfaces;</span>
<a href="#l48.13"></a><span id="l48.13"> </span>
<a href="#l48.14"></a><span id="l48.14" class="difflineminus">-const ITIP_HANDLER_MIMETYPE = &quot;application/x-itip-internal&quot;;</span>
<a href="#l48.15"></a><span id="l48.15" class="difflineminus">-const ITIP_HANDLER_PROTOCOL = &quot;moz-cal-handle-itip&quot;;</span>
<a href="#l48.16"></a><span id="l48.16" class="difflineplus">+var ITIP_HANDLER_MIMETYPE = &quot;application/x-itip-internal&quot;;</span>
<a href="#l48.17"></a><span id="l48.17" class="difflineplus">+var ITIP_HANDLER_PROTOCOL = &quot;moz-cal-handle-itip&quot;;</span>
<a href="#l48.18"></a><span id="l48.18"> </span>
<a href="#l48.19"></a><span id="l48.19"> </span>
<a href="#l48.20"></a><span id="l48.20"> function NYI() {</span>
<a href="#l48.21"></a><span id="l48.21">     throw Components.results.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l48.22"></a><span id="l48.22"> }</span>
<a href="#l48.23"></a><span id="l48.23"> </span>
<a href="#l48.24"></a><span id="l48.24"> function ItipChannel(URI) {</span>
<a href="#l48.25"></a><span id="l48.25">    this.URI = this.originalURI = URI;</span>
<a href="#l48.26"></a><span id="l48.26"> }</span>
<a href="#l48.27"></a><span id="l48.27" class="difflineminus">-const ItipChannelClassID = Components.ID(&quot;{643e0328-36f6-411d-a107-16238dff9cd7}&quot;);</span>
<a href="#l48.28"></a><span id="l48.28" class="difflineminus">-const ItipChannelInterfaces = [</span>
<a href="#l48.29"></a><span id="l48.29" class="difflineplus">+var ItipChannelClassID = Components.ID(&quot;{643e0328-36f6-411d-a107-16238dff9cd7}&quot;);</span>
<a href="#l48.30"></a><span id="l48.30" class="difflineplus">+var ItipChannelInterfaces = [</span>
<a href="#l48.31"></a><span id="l48.31">     Components.interfaces.nsIChannel,</span>
<a href="#l48.32"></a><span id="l48.32">     Components.interfaces.nsIRequest</span>
<a href="#l48.33"></a><span id="l48.33"> ];</span>
<a href="#l48.34"></a><span id="l48.34"> ItipChannel.prototype = {</span>
<a href="#l48.35"></a><span id="l48.35">     classID: ItipChannelClassID,</span>
<a href="#l48.36"></a><span id="l48.36">     QueryInterface: XPCOMUtils.generateQI(ItipChannelInterfaces),</span>
<a href="#l48.37"></a><span id="l48.37">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l48.38"></a><span id="l48.38">         classID: ItipChannelClassID,</span>
<a href="#l48.39"></a><span id="l48.39" class="difflineat">@@ -54,18 +54,18 @@ ItipChannel.prototype = {</span>
<a href="#l48.40"></a><span id="l48.40">     cancel: function (status) { this.status = status; },</span>
<a href="#l48.41"></a><span id="l48.41">     suspend: NYI,</span>
<a href="#l48.42"></a><span id="l48.42">     resume: NYI,</span>
<a href="#l48.43"></a><span id="l48.43"> };</span>
<a href="#l48.44"></a><span id="l48.44"> </span>
<a href="#l48.45"></a><span id="l48.45"> function ItipProtocolHandler() {</span>
<a href="#l48.46"></a><span id="l48.46">     this.wrappedJSObject = this;</span>
<a href="#l48.47"></a><span id="l48.47"> }</span>
<a href="#l48.48"></a><span id="l48.48" class="difflineminus">-const ItipProtocolHandlerClassID = Components.ID(&quot;{6e957006-b4ce-11d9-b053-001124736B74}&quot;);</span>
<a href="#l48.49"></a><span id="l48.49" class="difflineminus">-const ItipProtocolHandlerInterfaces = [Components.interfaces.nsIProtocolHandler];</span>
<a href="#l48.50"></a><span id="l48.50" class="difflineplus">+var ItipProtocolHandlerClassID = Components.ID(&quot;{6e957006-b4ce-11d9-b053-001124736B74}&quot;);</span>
<a href="#l48.51"></a><span id="l48.51" class="difflineplus">+var ItipProtocolHandlerInterfaces = [Components.interfaces.nsIProtocolHandler];</span>
<a href="#l48.52"></a><span id="l48.52"> ItipProtocolHandler.prototype = {</span>
<a href="#l48.53"></a><span id="l48.53">     classID: ItipProtocolHandlerClassID,</span>
<a href="#l48.54"></a><span id="l48.54">     QueryInterface: XPCOMUtils.generateQI(ItipProtocolHandlerInterfaces),</span>
<a href="#l48.55"></a><span id="l48.55">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l48.56"></a><span id="l48.56">         classID: ItipProtocolHandlerClassID,</span>
<a href="#l48.57"></a><span id="l48.57">         contractID: &quot;@mozilla.org/network/protocol;1?name=&quot; + ITIP_HANDLER_PROTOCOL,</span>
<a href="#l48.58"></a><span id="l48.58">         classDescription: &quot;iTIP Protocol Handler&quot;,</span>
<a href="#l48.59"></a><span id="l48.59">         interfaces: ItipProtocolHandlerInterfaces</span>
<a href="#l48.60"></a><span id="l48.60" class="difflineat">@@ -91,18 +91,18 @@ ItipProtocolHandler.prototype = {</span>
<a href="#l48.61"></a><span id="l48.61">         dump(&quot;Creating new ItipChannel for &quot; + URI + &quot;\n&quot;);</span>
<a href="#l48.62"></a><span id="l48.62">         return new ItipChannel(URI);</span>
<a href="#l48.63"></a><span id="l48.63">     },</span>
<a href="#l48.64"></a><span id="l48.64"> };</span>
<a href="#l48.65"></a><span id="l48.65"> </span>
<a href="#l48.66"></a><span id="l48.66"> function ItipContentHandler() {</span>
<a href="#l48.67"></a><span id="l48.67">     this.wrappedJSObject = this;</span>
<a href="#l48.68"></a><span id="l48.68"> }</span>
<a href="#l48.69"></a><span id="l48.69" class="difflineminus">-const ItipContentHandlerClassID = Components.ID(&quot;{47c31f2b-b4de-11d9-bfe6-001124736B74}&quot;);</span>
<a href="#l48.70"></a><span id="l48.70" class="difflineminus">-const ItipContentHandlerInterfaces = [Components.interfaces.nsIContentHandler];</span>
<a href="#l48.71"></a><span id="l48.71" class="difflineplus">+var ItipContentHandlerClassID = Components.ID(&quot;{47c31f2b-b4de-11d9-bfe6-001124736B74}&quot;);</span>
<a href="#l48.72"></a><span id="l48.72" class="difflineplus">+var ItipContentHandlerInterfaces = [Components.interfaces.nsIContentHandler];</span>
<a href="#l48.73"></a><span id="l48.73"> ItipContentHandler.prototype = {</span>
<a href="#l48.74"></a><span id="l48.74">     classID: ItipContentHandlerClassID,</span>
<a href="#l48.75"></a><span id="l48.75">     QueryInterface: XPCOMUtils.generateQI(ItipContentHandlerInterfaces),</span>
<a href="#l48.76"></a><span id="l48.76">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l48.77"></a><span id="l48.77">         classID: ItipContentHandlerClassID,</span>
<a href="#l48.78"></a><span id="l48.78">         contractID: &quot;@mozilla.org/uriloader/content-handler;1?type=&quot; + ITIP_HANDLER_MIMETYPE,</span>
<a href="#l48.79"></a><span id="l48.79">         classDescription: &quot;Lightning text/calendar content handler&quot;,</span>
<a href="#l48.80"></a><span id="l48.80">         interfaces: ItipContentHandlerInterfaces</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/calendar/lightning/components/lightningTextCalendarConverter.js</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/calendar/lightning/components/lightningTextCalendarConverter.js</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -8,18 +8,18 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l49.4"></a><span id="l49.4"> Components.utils.import(&quot;resource://calendar/modules/calXMLUtils.jsm&quot;);</span>
<a href="#l49.5"></a><span id="l49.5"> Components.utils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l49.6"></a><span id="l49.6"> Components.utils.import(&quot;resource://calendar/modules/ltnInvitationUtils.jsm&quot;);</span>
<a href="#l49.7"></a><span id="l49.7"> </span>
<a href="#l49.8"></a><span id="l49.8"> function ltnMimeConverter() {</span>
<a href="#l49.9"></a><span id="l49.9">     this.wrappedJSObject = this;</span>
<a href="#l49.10"></a><span id="l49.10"> }</span>
<a href="#l49.11"></a><span id="l49.11"> </span>
<a href="#l49.12"></a><span id="l49.12" class="difflineminus">-const ltnMimeConverterClassID = Components.ID(&quot;{c70acb08-464e-4e55-899d-b2c84c5409fa}&quot;);</span>
<a href="#l49.13"></a><span id="l49.13" class="difflineminus">-const ltnMimeConverterInterfaces = [Components.interfaces.nsISimpleMimeConverter];</span>
<a href="#l49.14"></a><span id="l49.14" class="difflineplus">+var ltnMimeConverterClassID = Components.ID(&quot;{c70acb08-464e-4e55-899d-b2c84c5409fa}&quot;);</span>
<a href="#l49.15"></a><span id="l49.15" class="difflineplus">+var ltnMimeConverterInterfaces = [Components.interfaces.nsISimpleMimeConverter];</span>
<a href="#l49.16"></a><span id="l49.16"> ltnMimeConverter.prototype = {</span>
<a href="#l49.17"></a><span id="l49.17">     classID: ltnMimeConverterClassID,</span>
<a href="#l49.18"></a><span id="l49.18">     QueryInterface: XPCOMUtils.generateQI(ltnMimeConverterInterfaces),</span>
<a href="#l49.19"></a><span id="l49.19"> </span>
<a href="#l49.20"></a><span id="l49.20">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l49.21"></a><span id="l49.21">         classID: ltnMimeConverterClassID,</span>
<a href="#l49.22"></a><span id="l49.22">         contractID: &quot;@mozilla.org/lightning/mime-converter;1&quot;,</span>
<a href="#l49.23"></a><span id="l49.23">         classDescription: &quot;Lightning text/calendar handler&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/calendar/lightning/content/messenger-overlay-sidebar.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/calendar/lightning/content/messenger-overlay-sidebar.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -425,20 +425,20 @@ function ltnFinish() {</span>
<a href="#l50.4"></a><span id="l50.4">       mailContextPopup.removeEventListener(&quot;popupshowing&quot;,</span>
<a href="#l50.5"></a><span id="l50.5">                                            gCalSetupMailContext.popup, false);</span>
<a href="#l50.6"></a><span id="l50.6"> </span>
<a href="#l50.7"></a><span id="l50.7">     // Common finish steps</span>
<a href="#l50.8"></a><span id="l50.8">     commonFinishCalendar();</span>
<a href="#l50.9"></a><span id="l50.9"> }</span>
<a href="#l50.10"></a><span id="l50.10"> </span>
<a href="#l50.11"></a><span id="l50.11"> // == invitations link</span>
<a href="#l50.12"></a><span id="l50.12" class="difflineminus">-const FIRST_DELAY_STARTUP = 100;</span>
<a href="#l50.13"></a><span id="l50.13" class="difflineminus">-const FIRST_DELAY_RESCHEDULE = 100;</span>
<a href="#l50.14"></a><span id="l50.14" class="difflineminus">-const FIRST_DELAY_REGISTER = 10000;</span>
<a href="#l50.15"></a><span id="l50.15" class="difflineminus">-const FIRST_DELAY_UNREGISTER = 0;</span>
<a href="#l50.16"></a><span id="l50.16" class="difflineplus">+var FIRST_DELAY_STARTUP = 100;</span>
<a href="#l50.17"></a><span id="l50.17" class="difflineplus">+var FIRST_DELAY_RESCHEDULE = 100;</span>
<a href="#l50.18"></a><span id="l50.18" class="difflineplus">+var FIRST_DELAY_REGISTER = 10000;</span>
<a href="#l50.19"></a><span id="l50.19" class="difflineplus">+var FIRST_DELAY_UNREGISTER = 0;</span>
<a href="#l50.20"></a><span id="l50.20"> </span>
<a href="#l50.21"></a><span id="l50.21"> var gInvitationsOperationListener = {</span>
<a href="#l50.22"></a><span id="l50.22">     mCount: 0,</span>
<a href="#l50.23"></a><span id="l50.23"> </span>
<a href="#l50.24"></a><span id="l50.24">     QueryInterface: XPCOMUtils.generateQI([Components.interfaces.calIOperationListener]),</span>
<a href="#l50.25"></a><span id="l50.25">     onOperationComplete: function sBOL_onOperationComplete(aCalendar,</span>
<a href="#l50.26"></a><span id="l50.26">                                                            aStatus,</span>
<a href="#l50.27"></a><span id="l50.27">                                                            aOperationType,</span>
<a href="#l50.28"></a><span id="l50.28" class="difflineat">@@ -565,17 +565,17 @@ function ltnSwitch2Task() {</span>
<a href="#l50.29"></a><span id="l50.29">     let deck = document.getElementById(&quot;calendarDisplayDeck&quot;);</span>
<a href="#l50.30"></a><span id="l50.30">     deck.selectedPanel = document.getElementById(&quot;calendar-task-box&quot;);</span>
<a href="#l50.31"></a><span id="l50.31"> </span>
<a href="#l50.32"></a><span id="l50.32">     document.commandDispatcher.updateCommands('calendar_commands');</span>
<a href="#l50.33"></a><span id="l50.33">     window.setCursor(&quot;auto&quot;);</span>
<a href="#l50.34"></a><span id="l50.34">   }</span>
<a href="#l50.35"></a><span id="l50.35"> }</span>
<a href="#l50.36"></a><span id="l50.36"> </span>
<a href="#l50.37"></a><span id="l50.37" class="difflineminus">-const gCalSetupMailContext = {</span>
<a href="#l50.38"></a><span id="l50.38" class="difflineplus">+var gCalSetupMailContext = {</span>
<a href="#l50.39"></a><span id="l50.39">     popup: function gCalSetupMailContext_popup() {</span>
<a href="#l50.40"></a><span id="l50.40">         let hasSelection = (gFolderDisplay.selectedMessage != null);</span>
<a href="#l50.41"></a><span id="l50.41">         // Disable the convert menu altogether.</span>
<a href="#l50.42"></a><span id="l50.42">         setElementValue(&quot;mailContext-calendar-convert-menu&quot;,</span>
<a href="#l50.43"></a><span id="l50.43">                         !hasSelection &amp;&amp; &quot;true&quot;, &quot;hidden&quot;);</span>
<a href="#l50.44"></a><span id="l50.44">     }</span>
<a href="#l50.45"></a><span id="l50.45"> };</span>
<a href="#l50.46"></a><span id="l50.46"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -17,26 +17,26 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l51.4"></a><span id="l51.4"> Components.utils.import(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;);</span>
<a href="#l51.5"></a><span id="l51.5"> Components.utils.import(&quot;resource://calendar/modules/calAuthUtils.jsm&quot;);</span>
<a href="#l51.6"></a><span id="l51.6"> Components.utils.import(&quot;resource://calendar/modules/calAsyncUtils.jsm&quot;);</span>
<a href="#l51.7"></a><span id="l51.7"> </span>
<a href="#l51.8"></a><span id="l51.8"> //</span>
<a href="#l51.9"></a><span id="l51.9"> // calDavCalendar.js</span>
<a href="#l51.10"></a><span id="l51.10"> //</span>
<a href="#l51.11"></a><span id="l51.11"> </span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-const xmlHeader = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n';</span>
<a href="#l51.13"></a><span id="l51.13" class="difflineplus">+var xmlHeader = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n';</span>
<a href="#l51.14"></a><span id="l51.14"> </span>
<a href="#l51.15"></a><span id="l51.15" class="difflineminus">-const davNS = &quot;DAV:&quot;</span>
<a href="#l51.16"></a><span id="l51.16" class="difflineminus">-const caldavNS = &quot;urn:ietf:params:xml:ns:caldav&quot;;</span>
<a href="#l51.17"></a><span id="l51.17" class="difflineminus">-const calservNS = &quot;http://calendarserver.org/ns/&quot;;</span>
<a href="#l51.18"></a><span id="l51.18" class="difflineminus">-const MIME_TEXT_CALENDAR = &quot;text/calendar; charset=utf-8&quot;;</span>
<a href="#l51.19"></a><span id="l51.19" class="difflineminus">-const MIME_TEXT_XML = &quot;text/xml; charset=utf-8&quot;;</span>
<a href="#l51.20"></a><span id="l51.20" class="difflineplus">+var davNS = &quot;DAV:&quot;</span>
<a href="#l51.21"></a><span id="l51.21" class="difflineplus">+var caldavNS = &quot;urn:ietf:params:xml:ns:caldav&quot;;</span>
<a href="#l51.22"></a><span id="l51.22" class="difflineplus">+var calservNS = &quot;http://calendarserver.org/ns/&quot;;</span>
<a href="#l51.23"></a><span id="l51.23" class="difflineplus">+var MIME_TEXT_CALENDAR = &quot;text/calendar; charset=utf-8&quot;;</span>
<a href="#l51.24"></a><span id="l51.24" class="difflineplus">+var MIME_TEXT_XML = &quot;text/xml; charset=utf-8&quot;;</span>
<a href="#l51.25"></a><span id="l51.25"> </span>
<a href="#l51.26"></a><span id="l51.26" class="difflineminus">-const cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l51.27"></a><span id="l51.27" class="difflineminus">-const cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l51.28"></a><span id="l51.28" class="difflineplus">+var cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l51.29"></a><span id="l51.29" class="difflineplus">+var cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l51.30"></a><span id="l51.30"> </span>
<a href="#l51.31"></a><span id="l51.31"> function caldavNSResolver(prefix) {</span>
<a href="#l51.32"></a><span id="l51.32">     const ns = {</span>
<a href="#l51.33"></a><span id="l51.33">         D: davNS,</span>
<a href="#l51.34"></a><span id="l51.34">         C: caldavNS,</span>
<a href="#l51.35"></a><span id="l51.35">         CS: calservNS</span>
<a href="#l51.36"></a><span id="l51.36">     };</span>
<a href="#l51.37"></a><span id="l51.37"> </span>
<a href="#l51.38"></a><span id="l51.38" class="difflineat">@@ -74,32 +74,32 @@ function calDavCalendar() {</span>
<a href="#l51.39"></a><span id="l51.39"> </span>
<a href="#l51.40"></a><span id="l51.40">     // By default, support both events and todos.</span>
<a href="#l51.41"></a><span id="l51.41">     this.mGenerallySupportedItemTypes = [&quot;VEVENT&quot;, &quot;VTODO&quot;];</span>
<a href="#l51.42"></a><span id="l51.42">     this.mSupportedItemTypes = this.mGenerallySupportedItemTypes.slice(0);</span>
<a href="#l51.43"></a><span id="l51.43">     this.mACLProperties = {};</span>
<a href="#l51.44"></a><span id="l51.44"> }</span>
<a href="#l51.45"></a><span id="l51.45"> </span>
<a href="#l51.46"></a><span id="l51.46"> // some shorthand</span>
<a href="#l51.47"></a><span id="l51.47" class="difflineminus">-const calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l51.48"></a><span id="l51.48" class="difflineminus">-const calIErrors = Components.interfaces.calIErrors;</span>
<a href="#l51.49"></a><span id="l51.49" class="difflineminus">-const calIFreeBusyInterval = Components.interfaces.calIFreeBusyInterval;</span>
<a href="#l51.50"></a><span id="l51.50" class="difflineminus">-const calICalDavCalendar = Components.interfaces.calICalDavCalendar;</span>
<a href="#l51.51"></a><span id="l51.51" class="difflineplus">+var calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l51.52"></a><span id="l51.52" class="difflineplus">+var calIErrors = Components.interfaces.calIErrors;</span>
<a href="#l51.53"></a><span id="l51.53" class="difflineplus">+var calIFreeBusyInterval = Components.interfaces.calIFreeBusyInterval;</span>
<a href="#l51.54"></a><span id="l51.54" class="difflineplus">+var calICalDavCalendar = Components.interfaces.calICalDavCalendar;</span>
<a href="#l51.55"></a><span id="l51.55"> </span>
<a href="#l51.56"></a><span id="l51.56"> // used in checking calendar URI for (Cal)DAV-ness</span>
<a href="#l51.57"></a><span id="l51.57" class="difflineminus">-const kDavResourceTypeNone = 0;</span>
<a href="#l51.58"></a><span id="l51.58" class="difflineminus">-const kDavResourceTypeCollection = 1;</span>
<a href="#l51.59"></a><span id="l51.59" class="difflineminus">-const kDavResourceTypeCalendar = 2;</span>
<a href="#l51.60"></a><span id="l51.60" class="difflineplus">+var kDavResourceTypeNone = 0;</span>
<a href="#l51.61"></a><span id="l51.61" class="difflineplus">+var kDavResourceTypeCollection = 1;</span>
<a href="#l51.62"></a><span id="l51.62" class="difflineplus">+var kDavResourceTypeCalendar = 2;</span>
<a href="#l51.63"></a><span id="l51.63"> </span>
<a href="#l51.64"></a><span id="l51.64"> // used for etag checking</span>
<a href="#l51.65"></a><span id="l51.65" class="difflineminus">-const CALDAV_MODIFY_ITEM = &quot;modify&quot;;</span>
<a href="#l51.66"></a><span id="l51.66" class="difflineminus">-const CALDAV_DELETE_ITEM = &quot;delete&quot;;</span>
<a href="#l51.67"></a><span id="l51.67" class="difflineplus">+var CALDAV_MODIFY_ITEM = &quot;modify&quot;;</span>
<a href="#l51.68"></a><span id="l51.68" class="difflineplus">+var CALDAV_DELETE_ITEM = &quot;delete&quot;;</span>
<a href="#l51.69"></a><span id="l51.69"> </span>
<a href="#l51.70"></a><span id="l51.70" class="difflineminus">-const calDavCalendarClassID = Components.ID(&quot;{a35fc6ea-3d92-11d9-89f9-00045ace3b8d}&quot;);</span>
<a href="#l51.71"></a><span id="l51.71" class="difflineminus">-const calDavCalendarInterfaces = [</span>
<a href="#l51.72"></a><span id="l51.72" class="difflineplus">+var calDavCalendarClassID = Components.ID(&quot;{a35fc6ea-3d92-11d9-89f9-00045ace3b8d}&quot;);</span>
<a href="#l51.73"></a><span id="l51.73" class="difflineplus">+var calDavCalendarInterfaces = [</span>
<a href="#l51.74"></a><span id="l51.74">     Components.interfaces.calICalendarProvider,</span>
<a href="#l51.75"></a><span id="l51.75">     Components.interfaces.nsIInterfaceRequestor,</span>
<a href="#l51.76"></a><span id="l51.76">     Components.interfaces.calIFreeBusyProvider,</span>
<a href="#l51.77"></a><span id="l51.77">     Components.interfaces.nsIChannelEventSink,</span>
<a href="#l51.78"></a><span id="l51.78">     Components.interfaces.calIItipTransport,</span>
<a href="#l51.79"></a><span id="l51.79">     Components.interfaces.calISchedulingSupport,</span>
<a href="#l51.80"></a><span id="l51.80">     Components.interfaces.calICalendar,</span>
<a href="#l51.81"></a><span id="l51.81">     Components.interfaces.calIChangeLog,</span>
<a href="#l51.82"></a><span id="l51.82" class="difflineat">@@ -2990,14 +2990,14 @@ calDavObserver.prototype = {</span>
<a href="#l51.83"></a><span id="l51.83"> </span>
<a href="#l51.84"></a><span id="l51.84">     onError: function(aCalendar, aErrNo, aMessage) {</span>
<a href="#l51.85"></a><span id="l51.85">         this.mCalendar.readOnly = true;</span>
<a href="#l51.86"></a><span id="l51.86">         this.mCalendar.notifyError(aErrNo, aMessage);</span>
<a href="#l51.87"></a><span id="l51.87">     }</span>
<a href="#l51.88"></a><span id="l51.88"> };</span>
<a href="#l51.89"></a><span id="l51.89"> </span>
<a href="#l51.90"></a><span id="l51.90"> /** Module Registration */</span>
<a href="#l51.91"></a><span id="l51.91" class="difflineminus">-const scriptLoadOrder = [</span>
<a href="#l51.92"></a><span id="l51.92" class="difflineplus">+var scriptLoadOrder = [</span>
<a href="#l51.93"></a><span id="l51.93">     &quot;calUtils.js&quot;,</span>
<a href="#l51.94"></a><span id="l51.94">     &quot;calDavRequestHandlers.js&quot;</span>
<a href="#l51.95"></a><span id="l51.95"> ];</span>
<a href="#l51.96"></a><span id="l51.96"> </span>
<a href="#l51.97"></a><span id="l51.97"> var NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, [calDavCalendar], this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -7,17 +7,17 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l52.4"></a><span id="l52.4"> </span>
<a href="#l52.5"></a><span id="l52.5"> //</span>
<a href="#l52.6"></a><span id="l52.6"> // calCompositeCalendar.js</span>
<a href="#l52.7"></a><span id="l52.7"> //</span>
<a href="#l52.8"></a><span id="l52.8"> </span>
<a href="#l52.9"></a><span id="l52.9"> /**</span>
<a href="#l52.10"></a><span id="l52.10">  * Calendar specific utility functions</span>
<a href="#l52.11"></a><span id="l52.11">  */</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineminus">-const calIOperationListener = Components.interfaces.calIOperationListener;</span>
<a href="#l52.13"></a><span id="l52.13" class="difflineplus">+var calIOperationListener = Components.interfaces.calIOperationListener;</span>
<a href="#l52.14"></a><span id="l52.14"> </span>
<a href="#l52.15"></a><span id="l52.15"> function calCompositeCalendarObserverHelper (compCalendar) {</span>
<a href="#l52.16"></a><span id="l52.16">     this.compCalendar = compCalendar;</span>
<a href="#l52.17"></a><span id="l52.17">     this.pendingLoads = {};</span>
<a href="#l52.18"></a><span id="l52.18"> }</span>
<a href="#l52.19"></a><span id="l52.19"> </span>
<a href="#l52.20"></a><span id="l52.20"> calCompositeCalendarObserverHelper.prototype = {</span>
<a href="#l52.21"></a><span id="l52.21">     pendingLoads: null,</span>
<a href="#l52.22"></a><span id="l52.22" class="difflineat">@@ -76,18 +76,18 @@ function calCompositeCalendar () {</span>
<a href="#l52.23"></a><span id="l52.23"> </span>
<a href="#l52.24"></a><span id="l52.24">     this.mCalendars = new Array();</span>
<a href="#l52.25"></a><span id="l52.25">     this.mCompositeObservers = new cal.ObserverBag(Components.interfaces.calICompositeObserver);</span>
<a href="#l52.26"></a><span id="l52.26">     this.mObservers = new cal.ObserverBag(Components.interfaces.calIObserver);</span>
<a href="#l52.27"></a><span id="l52.27">     this.mDefaultCalendar = null;</span>
<a href="#l52.28"></a><span id="l52.28">     this.mStatusObserver = null;</span>
<a href="#l52.29"></a><span id="l52.29"> }</span>
<a href="#l52.30"></a><span id="l52.30"> </span>
<a href="#l52.31"></a><span id="l52.31" class="difflineminus">-const calCompositeCalendarClassID = Components.ID(&quot;{aeff788d-63b0-4996-91fb-40a7654c6224}&quot;);</span>
<a href="#l52.32"></a><span id="l52.32" class="difflineminus">-const calCompositeCalendarInterfaces = [</span>
<a href="#l52.33"></a><span id="l52.33" class="difflineplus">+var calCompositeCalendarClassID = Components.ID(&quot;{aeff788d-63b0-4996-91fb-40a7654c6224}&quot;);</span>
<a href="#l52.34"></a><span id="l52.34" class="difflineplus">+var calCompositeCalendarInterfaces = [</span>
<a href="#l52.35"></a><span id="l52.35">     Components.interfaces.calICalendarProvider,</span>
<a href="#l52.36"></a><span id="l52.36">     Components.interfaces.calICalendar,</span>
<a href="#l52.37"></a><span id="l52.37">     Components.interfaces.calICompositeCalendar,</span>
<a href="#l52.38"></a><span id="l52.38"> ];</span>
<a href="#l52.39"></a><span id="l52.39"> calCompositeCalendar.prototype = {</span>
<a href="#l52.40"></a><span id="l52.40">     classID: calCompositeCalendarClassID,</span>
<a href="#l52.41"></a><span id="l52.41">     QueryInterface: XPCOMUtils.generateQI(calCompositeCalendarInterfaces),</span>
<a href="#l52.42"></a><span id="l52.42">     classInfo: XPCOMUtils.generateCI({</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/calendar/providers/gdata/components/calGoogleCalendar.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/calendar/providers/gdata/components/calGoogleCalendar.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -16,36 +16,36 @@ CuImport(&quot;resource://gre/modules/XPCOMUt</span>
<a href="#l53.4"></a><span id="l53.4"> CuImport(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;, this);</span>
<a href="#l53.5"></a><span id="l53.5"> CuImport(&quot;resource://calendar/modules/calUtils.jsm&quot;, this);</span>
<a href="#l53.6"></a><span id="l53.6"> </span>
<a href="#l53.7"></a><span id="l53.7"> CuImport(&quot;resource://gdata-provider/modules/gdataLogging.jsm&quot;, this);</span>
<a href="#l53.8"></a><span id="l53.8"> CuImport(&quot;resource://gdata-provider/modules/gdataRequest.jsm&quot;, this);</span>
<a href="#l53.9"></a><span id="l53.9"> CuImport(&quot;resource://gdata-provider/modules/gdataSession.jsm&quot;, this);</span>
<a href="#l53.10"></a><span id="l53.10"> CuImport(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;, this);</span>
<a href="#l53.11"></a><span id="l53.11"> </span>
<a href="#l53.12"></a><span id="l53.12" class="difflineminus">-const cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l53.13"></a><span id="l53.13" class="difflineminus">-const cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l53.14"></a><span id="l53.14" class="difflineplus">+var cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l53.15"></a><span id="l53.15" class="difflineplus">+var cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l53.16"></a><span id="l53.16"> </span>
<a href="#l53.17"></a><span id="l53.17" class="difflineminus">-const MIN_REFRESH_INTERVAL = 30;</span>
<a href="#l53.18"></a><span id="l53.18" class="difflineplus">+var MIN_REFRESH_INTERVAL = 30;</span>
<a href="#l53.19"></a><span id="l53.19"> </span>
<a href="#l53.20"></a><span id="l53.20"> /**</span>
<a href="#l53.21"></a><span id="l53.21">  * calGoogleCalendar</span>
<a href="#l53.22"></a><span id="l53.22">  * This Implements a calICalendar Object adapted to the Google Calendar</span>
<a href="#l53.23"></a><span id="l53.23">  * Provider.</span>
<a href="#l53.24"></a><span id="l53.24">  *</span>
<a href="#l53.25"></a><span id="l53.25">  * @class</span>
<a href="#l53.26"></a><span id="l53.26">  * @constructor</span>
<a href="#l53.27"></a><span id="l53.27">  */</span>
<a href="#l53.28"></a><span id="l53.28"> function calGoogleCalendar() {</span>
<a href="#l53.29"></a><span id="l53.29">     this.initProviderBase();</span>
<a href="#l53.30"></a><span id="l53.30">     this.mThrottle = Object.create(null);</span>
<a href="#l53.31"></a><span id="l53.31"> }</span>
<a href="#l53.32"></a><span id="l53.32"> </span>
<a href="#l53.33"></a><span id="l53.33" class="difflineminus">-const calGoogleCalendarClassID = Components.ID(&quot;{d1a6e988-4b4d-45a5-ba46-43e501ea96e3}&quot;);</span>
<a href="#l53.34"></a><span id="l53.34" class="difflineminus">-const calGoogleCalendarInterfaces = [</span>
<a href="#l53.35"></a><span id="l53.35" class="difflineplus">+var calGoogleCalendarClassID = Components.ID(&quot;{d1a6e988-4b4d-45a5-ba46-43e501ea96e3}&quot;);</span>
<a href="#l53.36"></a><span id="l53.36" class="difflineplus">+var calGoogleCalendarInterfaces = [</span>
<a href="#l53.37"></a><span id="l53.37">     Components.interfaces.calICalendar,</span>
<a href="#l53.38"></a><span id="l53.38">     Components.interfaces.calISchedulingSupport,</span>
<a href="#l53.39"></a><span id="l53.39">     Components.interfaces.calIChangeLog</span>
<a href="#l53.40"></a><span id="l53.40"> ];</span>
<a href="#l53.41"></a><span id="l53.41"> calGoogleCalendar.prototype = {</span>
<a href="#l53.42"></a><span id="l53.42">     __proto__: cal.ProviderBase.prototype,</span>
<a href="#l53.43"></a><span id="l53.43"> </span>
<a href="#l53.44"></a><span id="l53.44">     classID: calGoogleCalendarClassID,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/calendar/providers/gdata/content/browserRequest.js</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/calendar/providers/gdata/content/browserRequest.js</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l54.4"></a><span id="l54.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l54.5"></a><span id="l54.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l54.6"></a><span id="l54.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l54.7"></a><span id="l54.7"> </span>
<a href="#l54.8"></a><span id="l54.8" class="difflineminus">-const wpl = Components.interfaces.nsIWebProgressListener;</span>
<a href="#l54.9"></a><span id="l54.9" class="difflineplus">+var wpl = Components.interfaces.nsIWebProgressListener;</span>
<a href="#l54.10"></a><span id="l54.10"> </span>
<a href="#l54.11"></a><span id="l54.11"> var reporterListener = {</span>
<a href="#l54.12"></a><span id="l54.12">   _isBusy: false,</span>
<a href="#l54.13"></a><span id="l54.13">   get securityButton() {</span>
<a href="#l54.14"></a><span id="l54.14">     delete this.securityButton;</span>
<a href="#l54.15"></a><span id="l54.15">     return this.securityButton = document.getElementById(&quot;security-button&quot;);</span>
<a href="#l54.16"></a><span id="l54.16">   },</span>
<a href="#l54.17"></a><span id="l54.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/calendar/providers/gdata/modules/OAuth2.jsm</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/OAuth2.jsm</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l55.4"></a><span id="l55.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l55.5"></a><span id="l55.5">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l55.6"></a><span id="l55.6"> </span>
<a href="#l55.7"></a><span id="l55.7"> /**</span>
<a href="#l55.8"></a><span id="l55.8">  * Provides OAuth 2.0 authentication</span>
<a href="#l55.9"></a><span id="l55.9">  */</span>
<a href="#l55.10"></a><span id="l55.10"> var EXPORTED_SYMBOLS = [&quot;OAuth2&quot;];</span>
<a href="#l55.11"></a><span id="l55.11"> </span>
<a href="#l55.12"></a><span id="l55.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l55.13"></a><span id="l55.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l55.14"></a><span id="l55.14"> </span>
<a href="#l55.15"></a><span id="l55.15"> Cu.import(&quot;resource:///modules/Services.jsm&quot;);</span>
<a href="#l55.16"></a><span id="l55.16"> Cu.import(&quot;resource:///modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l55.17"></a><span id="l55.17"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l55.18"></a><span id="l55.18"> </span>
<a href="#l55.19"></a><span id="l55.19"> var httpRequest = (function() {</span>
<a href="#l55.20"></a><span id="l55.20">   let scope = {};</span>
<a href="#l55.21"></a><span id="l55.21">   try {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/calendar/providers/gdata/modules/gdataRequest.jsm</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/gdataRequest.jsm</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -8,17 +8,17 @@ Components.utils.import(&quot;resource://gdat</span>
<a href="#l56.4"></a><span id="l56.4"> CuImport(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;, this);</span>
<a href="#l56.5"></a><span id="l56.5"> CuImport(&quot;resource://gre/modules/Services.jsm&quot;, this);</span>
<a href="#l56.6"></a><span id="l56.6"> CuImport(&quot;resource://gre/modules/Promise.jsm&quot;, this);</span>
<a href="#l56.7"></a><span id="l56.7"> CuImport(&quot;resource://gre/modules/PromiseUtils.jsm&quot;, this);</span>
<a href="#l56.8"></a><span id="l56.8"> CuImport(&quot;resource://gre/modules/Preferences.jsm&quot;, this);</span>
<a href="#l56.9"></a><span id="l56.9"> </span>
<a href="#l56.10"></a><span id="l56.10"> CuImport(&quot;resource://calendar/modules/calUtils.jsm&quot;, this);</span>
<a href="#l56.11"></a><span id="l56.11"> </span>
<a href="#l56.12"></a><span id="l56.12" class="difflineminus">-const cIE = Components.interfaces.calIErrors;</span>
<a href="#l56.13"></a><span id="l56.13" class="difflineplus">+var cIE = Components.interfaces.calIErrors;</span>
<a href="#l56.14"></a><span id="l56.14"> </span>
<a href="#l56.15"></a><span id="l56.15"> var API_BASE = {</span>
<a href="#l56.16"></a><span id="l56.16">     EVENTS: &quot;https://www.googleapis.com/calendar/v3/&quot;,</span>
<a href="#l56.17"></a><span id="l56.17">     TASKS: &quot;https://www.googleapis.com/tasks/v1/&quot;</span>
<a href="#l56.18"></a><span id="l56.18"> };</span>
<a href="#l56.19"></a><span id="l56.19"> </span>
<a href="#l56.20"></a><span id="l56.20"> var EXPORTED_SYMBOLS = [&quot;calGoogleRequest&quot;, &quot;getCorrectedDate&quot;, &quot;API_BASE&quot;];</span>
<a href="#l56.21"></a><span id="l56.21"> </span>
<a href="#l56.22"></a><span id="l56.22" class="difflineat">@@ -49,17 +49,17 @@ function calGoogleRequest() {</span>
<a href="#l56.23"></a><span id="l56.23">     this.wrappedJSObject = this;</span>
<a href="#l56.24"></a><span id="l56.24"> }</span>
<a href="#l56.25"></a><span id="l56.25"> calGoogleRequest.ADD = &quot;POST&quot;;</span>
<a href="#l56.26"></a><span id="l56.26"> calGoogleRequest.MODIFY = &quot;PUT&quot;;</span>
<a href="#l56.27"></a><span id="l56.27"> calGoogleRequest.DELETE = &quot;DELETE&quot;;</span>
<a href="#l56.28"></a><span id="l56.28"> calGoogleRequest.GET = &quot;GET&quot;;</span>
<a href="#l56.29"></a><span id="l56.29"> calGoogleRequest.PATCH = &quot;PATCH&quot;;</span>
<a href="#l56.30"></a><span id="l56.30"> </span>
<a href="#l56.31"></a><span id="l56.31" class="difflineminus">-const GDATA_ERROR_BASE = Components.interfaces.calIErrors.ERROR_BASE + 0x400;</span>
<a href="#l56.32"></a><span id="l56.32" class="difflineplus">+var GDATA_ERROR_BASE = Components.interfaces.calIErrors.ERROR_BASE + 0x400;</span>
<a href="#l56.33"></a><span id="l56.33"> calGoogleRequest.LOGIN_FAILED = GDATA_ERROR_BASE + 1;</span>
<a href="#l56.34"></a><span id="l56.34"> calGoogleRequest.CONFLICT_DELETED = GDATA_ERROR_BASE + 2;</span>
<a href="#l56.35"></a><span id="l56.35"> calGoogleRequest.CONFLICT_MODIFY = GDATA_ERROR_BASE + 3;</span>
<a href="#l56.36"></a><span id="l56.36"> calGoogleRequest.NOT_MODIFIED = GDATA_ERROR_BASE + 4;</span>
<a href="#l56.37"></a><span id="l56.37"> calGoogleRequest.QUOTA_FAILURE = GDATA_ERROR_BASE + 5;</span>
<a href="#l56.38"></a><span id="l56.38"> calGoogleRequest.TOKEN_FAILURE = GDATA_ERROR_BASE + 6;</span>
<a href="#l56.39"></a><span id="l56.39"> calGoogleRequest.RESOURCE_GONE = GDATA_ERROR_BASE + 7;</span>
<a href="#l56.40"></a><span id="l56.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/calendar/providers/gdata/modules/gdataSession.jsm</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/gdataSession.jsm</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -16,20 +16,20 @@ CuImport(&quot;resource://gre/modules/Promise</span>
<a href="#l57.4"></a><span id="l57.4"> CuImport(&quot;resource://gre/modules/Task.jsm&quot;, this);</span>
<a href="#l57.5"></a><span id="l57.5"> CuImport(&quot;resource://gre/modules/Timer.jsm&quot;, this);</span>
<a href="#l57.6"></a><span id="l57.6"> </span>
<a href="#l57.7"></a><span id="l57.7"> CuImport(&quot;resource:///modules/iteratorUtils.jsm&quot;, this);</span>
<a href="#l57.8"></a><span id="l57.8"> </span>
<a href="#l57.9"></a><span id="l57.9"> CuImport(&quot;resource://calendar/modules/calUtils.jsm&quot;, this);</span>
<a href="#l57.10"></a><span id="l57.10"> CuImport(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;, this);</span>
<a href="#l57.11"></a><span id="l57.11"> </span>
<a href="#l57.12"></a><span id="l57.12" class="difflineminus">-const cIFBI = Components.interfaces.calIFreeBusyInterval;</span>
<a href="#l57.13"></a><span id="l57.13" class="difflineminus">-const nIPM = Components.interfaces.nsIPermissionManager;</span>
<a href="#l57.14"></a><span id="l57.14" class="difflineplus">+var cIFBI = Components.interfaces.calIFreeBusyInterval;</span>
<a href="#l57.15"></a><span id="l57.15" class="difflineplus">+var nIPM = Components.interfaces.nsIPermissionManager;</span>
<a href="#l57.16"></a><span id="l57.16"> </span>
<a href="#l57.17"></a><span id="l57.17" class="difflineminus">-const NOTIFY_TIMEOUT = 60 * 1000;</span>
<a href="#l57.18"></a><span id="l57.18" class="difflineplus">+var NOTIFY_TIMEOUT = 60 * 1000;</span>
<a href="#l57.19"></a><span id="l57.19"> </span>
<a href="#l57.20"></a><span id="l57.20"> var EXPORTED_SYMBOLS = [&quot;getGoogleSessionManager&quot;];</span>
<a href="#l57.21"></a><span id="l57.21"> </span>
<a href="#l57.22"></a><span id="l57.22"> var gdataSessionMap = new Map();</span>
<a href="#l57.23"></a><span id="l57.23"> var calGoogleSessionManager = {</span>
<a href="#l57.24"></a><span id="l57.24">     /**</span>
<a href="#l57.25"></a><span id="l57.25">      * Get a Session object for the specified calendar. If aCreate is false,</span>
<a href="#l57.26"></a><span id="l57.26">      * null will be returned if the session doesn't exist. Otherwise, the</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/calendar/providers/gdata/modules/gdataUtils.jsm</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/gdataUtils.jsm</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -13,19 +13,19 @@ CuImport(&quot;resource://gre/modules/Prefere</span>
<a href="#l58.4"></a><span id="l58.4"> CuImport(&quot;resource://gre/modules/Promise.jsm&quot;, this);</span>
<a href="#l58.5"></a><span id="l58.5"> CuImport(&quot;resource://gre/modules/PromiseUtils.jsm&quot;, this);</span>
<a href="#l58.6"></a><span id="l58.6"> CuImport(&quot;resource://gre/modules/Task.jsm&quot;, this);</span>
<a href="#l58.7"></a><span id="l58.7"> </span>
<a href="#l58.8"></a><span id="l58.8"> CuImport(&quot;resource://calendar/modules/calUtils.jsm&quot;, this);</span>
<a href="#l58.9"></a><span id="l58.9"> CuImport(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;, this);</span>
<a href="#l58.10"></a><span id="l58.10"> CuImport(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;, this);</span>
<a href="#l58.11"></a><span id="l58.11"> </span>
<a href="#l58.12"></a><span id="l58.12" class="difflineminus">-const cIE = Components.interfaces.calIErrors;</span>
<a href="#l58.13"></a><span id="l58.13" class="difflineplus">+var cIE = Components.interfaces.calIErrors;</span>
<a href="#l58.14"></a><span id="l58.14"> </span>
<a href="#l58.15"></a><span id="l58.15" class="difflineminus">-const FOUR_WEEKS_IN_MINUTES = 40320;</span>
<a href="#l58.16"></a><span id="l58.16" class="difflineplus">+var FOUR_WEEKS_IN_MINUTES = 40320;</span>
<a href="#l58.17"></a><span id="l58.17"> </span>
<a href="#l58.18"></a><span id="l58.18"> var EXPORTED_SYMBOLS = [</span>
<a href="#l58.19"></a><span id="l58.19">     &quot;ItemToJSON&quot;, &quot;JSONToItem&quot;, &quot;ItemSaver&quot;,</span>
<a href="#l58.20"></a><span id="l58.20">     &quot;checkResolveConflict&quot;, &quot;getGoogleId&quot;,</span>
<a href="#l58.21"></a><span id="l58.21">     &quot;getItemMetadata&quot;, &quot;saveItemMetadata&quot;,</span>
<a href="#l58.22"></a><span id="l58.22">     &quot;deleteItemMetadata&quot;, &quot;migrateItemMetadata&quot;,</span>
<a href="#l58.23"></a><span id="l58.23">     &quot;JSONToAlarm&quot;, &quot;getProviderString&quot;,</span>
<a href="#l58.24"></a><span id="l58.24">     &quot;monkeyPatch&quot;, &quot;spinEventLoop&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/calendar/providers/gdata/modules/shim/Calendar.jsm</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/shim/Calendar.jsm</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -4,19 +4,19 @@</span>
<a href="#l59.4"></a><span id="l59.4"> </span>
<a href="#l59.5"></a><span id="l59.5"> var EXPORTED_SYMBOLS = [&quot;calendarShim&quot;, &quot;gdataRegisterCalendar&quot;, &quot;promisifyCalendar&quot;];</span>
<a href="#l59.6"></a><span id="l59.6"> </span>
<a href="#l59.7"></a><span id="l59.7"> Components.utils.import(&quot;resource://gdata-provider/modules/shim/Loader.jsm&quot;);</span>
<a href="#l59.8"></a><span id="l59.8"> CuImport(&quot;resource://calendar/modules/calUtils.jsm&quot;, this);</span>
<a href="#l59.9"></a><span id="l59.9"> CuImport(&quot;resource://gre/modules/PromiseUtils.jsm&quot;, this);</span>
<a href="#l59.10"></a><span id="l59.10"> CuImport(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;, this);</span>
<a href="#l59.11"></a><span id="l59.11"> </span>
<a href="#l59.12"></a><span id="l59.12" class="difflineminus">-const cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l59.13"></a><span id="l59.13" class="difflineminus">-const cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l59.14"></a><span id="l59.14" class="difflineminus">-const cIC = Components.interfaces.calICalendar;</span>
<a href="#l59.15"></a><span id="l59.15" class="difflineplus">+var cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l59.16"></a><span id="l59.16" class="difflineplus">+var cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l59.17"></a><span id="l59.17" class="difflineplus">+var cIC = Components.interfaces.calICalendar;</span>
<a href="#l59.18"></a><span id="l59.18"> </span>
<a href="#l59.19"></a><span id="l59.19"> /**</span>
<a href="#l59.20"></a><span id="l59.20">  * Shim functions that can be injected into an object implementing calICalendar</span>
<a href="#l59.21"></a><span id="l59.21">  * to make it compatible with older versions of Lightning</span>
<a href="#l59.22"></a><span id="l59.22">  */</span>
<a href="#l59.23"></a><span id="l59.23"> var calendarShim = {</span>
<a href="#l59.24"></a><span id="l59.24">     addItemOrUseCache: function(aItem, useCache, aListener) {</span>
<a href="#l59.25"></a><span id="l59.25">         let newItem = aItem.clone();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/calendar/providers/gdata/modules/shim/Http.jsm</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/shim/Http.jsm</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l60.4"></a><span id="l60.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l60.5"></a><span id="l60.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l60.6"></a><span id="l60.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l60.7"></a><span id="l60.7"> </span>
<a href="#l60.8"></a><span id="l60.8"> var EXPORTED_SYMBOLS = [&quot;percentEncode&quot;, &quot;httpRequest&quot;];</span>
<a href="#l60.9"></a><span id="l60.9"> </span>
<a href="#l60.10"></a><span id="l60.10" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l60.11"></a><span id="l60.11" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l60.12"></a><span id="l60.12"> </span>
<a href="#l60.13"></a><span id="l60.13"> function percentEncode(aString) {</span>
<a href="#l60.14"></a><span id="l60.14">   return encodeURIComponent(aString).replace(/[!'()]/g, escape).replace(/\*/g, &quot;%2A&quot;);</span>
<a href="#l60.15"></a><span id="l60.15"> }</span>
<a href="#l60.16"></a><span id="l60.16"> </span>
<a href="#l60.17"></a><span id="l60.17"> function httpRequest(aUrl, aOptions) {</span>
<a href="#l60.18"></a><span id="l60.18">   let xhr = Cc[&quot;@mozilla.org/xmlextras/xmlhttprequest;1&quot;]</span>
<a href="#l60.19"></a><span id="l60.19">               .createInstance(Ci.nsIXMLHttpRequest);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/calendar/providers/gdata/modules/shim/Promise.jsm</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/shim/Promise.jsm</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l61.4"></a><span id="l61.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l61.5"></a><span id="l61.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l61.6"></a><span id="l61.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l61.7"></a><span id="l61.7"> </span>
<a href="#l61.8"></a><span id="l61.8"> var EXPORTED_SYMBOLS = [&quot;Promise&quot;];</span>
<a href="#l61.9"></a><span id="l61.9"> </span>
<a href="#l61.10"></a><span id="l61.10" class="difflineminus">-const STATUS_PENDING = 0;</span>
<a href="#l61.11"></a><span id="l61.11" class="difflineminus">-const STATUS_RESOLVED = 1;</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineminus">-const STATUS_REJECTED = 2;</span>
<a href="#l61.13"></a><span id="l61.13" class="difflineplus">+var STATUS_PENDING = 0;</span>
<a href="#l61.14"></a><span id="l61.14" class="difflineplus">+var STATUS_RESOLVED = 1;</span>
<a href="#l61.15"></a><span id="l61.15" class="difflineplus">+var STATUS_REJECTED = 2;</span>
<a href="#l61.16"></a><span id="l61.16"> </span>
<a href="#l61.17"></a><span id="l61.17"> function log(msg) {</span>
<a href="#l61.18"></a><span id="l61.18">     // Enable this to debug promises</span>
<a href="#l61.19"></a><span id="l61.19">     //dump(&quot;PROMISES: &quot; + msg + &quot;\n&quot;);</span>
<a href="#l61.20"></a><span id="l61.20"> }</span>
<a href="#l61.21"></a><span id="l61.21"> </span>
<a href="#l61.22"></a><span id="l61.22"> var PromiseWalker = {</span>
<a href="#l61.23"></a><span id="l61.23">     handlers: [],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/calendar/providers/gdata/modules/shim/Task.jsm</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/shim/Task.jsm</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -3,26 +3,26 @@</span>
<a href="#l62.4"></a><span id="l62.4">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l62.5"></a><span id="l62.5"> </span>
<a href="#l62.6"></a><span id="l62.6"> &quot;use strict&quot;;</span>
<a href="#l62.7"></a><span id="l62.7"> </span>
<a href="#l62.8"></a><span id="l62.8"> this.EXPORTED_SYMBOLS = [</span>
<a href="#l62.9"></a><span id="l62.9">   &quot;Task&quot;</span>
<a href="#l62.10"></a><span id="l62.10"> ];</span>
<a href="#l62.11"></a><span id="l62.11"> </span>
<a href="#l62.12"></a><span id="l62.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l62.13"></a><span id="l62.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l62.14"></a><span id="l62.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l62.15"></a><span id="l62.15" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l62.16"></a><span id="l62.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l62.17"></a><span id="l62.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l62.18"></a><span id="l62.18" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l62.19"></a><span id="l62.19" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l62.20"></a><span id="l62.20"> </span>
<a href="#l62.21"></a><span id="l62.21"> Cu.import(&quot;resource://gdata-provider/modules/shim/Promise.jsm&quot;);</span>
<a href="#l62.22"></a><span id="l62.22"> </span>
<a href="#l62.23"></a><span id="l62.23"> // The following error types are considered programmer errors, which should be</span>
<a href="#l62.24"></a><span id="l62.24"> // reported (possibly redundantly) so as to let programmers fix their code.</span>
<a href="#l62.25"></a><span id="l62.25" class="difflineminus">-const ERRORS_TO_REPORT = [&quot;EvalError&quot;, &quot;RangeError&quot;, &quot;ReferenceError&quot;, &quot;TypeError&quot;];</span>
<a href="#l62.26"></a><span id="l62.26" class="difflineplus">+var ERRORS_TO_REPORT = [&quot;EvalError&quot;, &quot;RangeError&quot;, &quot;ReferenceError&quot;, &quot;TypeError&quot;];</span>
<a href="#l62.27"></a><span id="l62.27"> </span>
<a href="#l62.28"></a><span id="l62.28"> var gCurrentTask = null;</span>
<a href="#l62.29"></a><span id="l62.29"> </span>
<a href="#l62.30"></a><span id="l62.30"> function linesOf(string) {</span>
<a href="#l62.31"></a><span id="l62.31">   let reLine = /([^\r\n])+/g;</span>
<a href="#l62.32"></a><span id="l62.32">   let match;</span>
<a href="#l62.33"></a><span id="l62.33">   while ((match = reLine.exec(string))) {</span>
<a href="#l62.34"></a><span id="l62.34">     yield [match[0], match.index];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -14,20 +14,20 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l63.4"></a><span id="l63.4"> // calICSCalendar.js</span>
<a href="#l63.5"></a><span id="l63.5"> //</span>
<a href="#l63.6"></a><span id="l63.6"> // This is a non-sync ics file. It reads the file pointer to by uri when set,</span>
<a href="#l63.7"></a><span id="l63.7"> // then writes it on updates. External changes to the file will be</span>
<a href="#l63.8"></a><span id="l63.8"> // ignored and overwritten.</span>
<a href="#l63.9"></a><span id="l63.9"> //</span>
<a href="#l63.10"></a><span id="l63.10"> // XXX Should do locks, so that external changes are not overwritten.</span>
<a href="#l63.11"></a><span id="l63.11"> </span>
<a href="#l63.12"></a><span id="l63.12" class="difflineminus">-const CI = Components.interfaces;</span>
<a href="#l63.13"></a><span id="l63.13" class="difflineminus">-const calIOperationListener = Components.interfaces.calIOperationListener;</span>
<a href="#l63.14"></a><span id="l63.14" class="difflineminus">-const calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l63.15"></a><span id="l63.15" class="difflineminus">-const calIErrors = Components.interfaces.calIErrors;</span>
<a href="#l63.16"></a><span id="l63.16" class="difflineplus">+var CI = Components.interfaces;</span>
<a href="#l63.17"></a><span id="l63.17" class="difflineplus">+var calIOperationListener = Components.interfaces.calIOperationListener;</span>
<a href="#l63.18"></a><span id="l63.18" class="difflineplus">+var calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l63.19"></a><span id="l63.19" class="difflineplus">+var calIErrors = Components.interfaces.calIErrors;</span>
<a href="#l63.20"></a><span id="l63.20"> </span>
<a href="#l63.21"></a><span id="l63.21"> function icsNSResolver(prefix) {</span>
<a href="#l63.22"></a><span id="l63.22">     const ns = {</span>
<a href="#l63.23"></a><span id="l63.23">         D: &quot;DAV:&quot;</span>
<a href="#l63.24"></a><span id="l63.24">     };</span>
<a href="#l63.25"></a><span id="l63.25"> </span>
<a href="#l63.26"></a><span id="l63.26">     return ns[prefix] || null;</span>
<a href="#l63.27"></a><span id="l63.27"> }</span>
<a href="#l63.28"></a><span id="l63.28" class="difflineat">@@ -43,18 +43,18 @@ function calICSCalendar() {</span>
<a href="#l63.29"></a><span id="l63.29">     this.initProviderBase();</span>
<a href="#l63.30"></a><span id="l63.30">     this.initICSCalendar();</span>
<a href="#l63.31"></a><span id="l63.31"> </span>
<a href="#l63.32"></a><span id="l63.32">     this.unmappedComponents = [];</span>
<a href="#l63.33"></a><span id="l63.33">     this.unmappedProperties = [];</span>
<a href="#l63.34"></a><span id="l63.34">     this.queue = new Array();</span>
<a href="#l63.35"></a><span id="l63.35">     this.mModificationActions = [];</span>
<a href="#l63.36"></a><span id="l63.36"> }</span>
<a href="#l63.37"></a><span id="l63.37" class="difflineminus">-const calICSCalendarClassID = Components.ID(&quot;{f8438bff-a3c9-4ed5-b23f-2663b5469abf}&quot;);</span>
<a href="#l63.38"></a><span id="l63.38" class="difflineminus">-const calICSCalendarInterfaces = [</span>
<a href="#l63.39"></a><span id="l63.39" class="difflineplus">+var calICSCalendarClassID = Components.ID(&quot;{f8438bff-a3c9-4ed5-b23f-2663b5469abf}&quot;);</span>
<a href="#l63.40"></a><span id="l63.40" class="difflineplus">+var calICSCalendarInterfaces = [</span>
<a href="#l63.41"></a><span id="l63.41">     Components.interfaces.calICalendarProvider,</span>
<a href="#l63.42"></a><span id="l63.42">     Components.interfaces.calICalendar,</span>
<a href="#l63.43"></a><span id="l63.43">     Components.interfaces.calISchedulingSupport,</span>
<a href="#l63.44"></a><span id="l63.44">     Components.interfaces.nsIStreamListener,</span>
<a href="#l63.45"></a><span id="l63.45">     Components.interfaces.nsIStreamLoaderObserver,</span>
<a href="#l63.46"></a><span id="l63.46">     Components.interfaces.nsIChannelEventSink,</span>
<a href="#l63.47"></a><span id="l63.47">     Components.interfaces.nsIInterfaceRequestor,</span>
<a href="#l63.48"></a><span id="l63.48"> ];</span>
<a href="#l63.49"></a><span id="l63.49" class="difflineat">@@ -1102,13 +1102,13 @@ fileHooks.prototype = {</span>
<a href="#l63.50"></a><span id="l63.50">         let filechannel = aChannel.QueryInterface(Components.interfaces.nsIFileChannel);</span>
<a href="#l63.51"></a><span id="l63.51">         this.mtime = filechannel.file.lastModifiedTime;</span>
<a href="#l63.52"></a><span id="l63.52">         aRespFunc();</span>
<a href="#l63.53"></a><span id="l63.53">         return true;</span>
<a href="#l63.54"></a><span id="l63.54">     }</span>
<a href="#l63.55"></a><span id="l63.55"> };</span>
<a href="#l63.56"></a><span id="l63.56"> </span>
<a href="#l63.57"></a><span id="l63.57"> /** Module Registration */</span>
<a href="#l63.58"></a><span id="l63.58" class="difflineminus">-const scriptLoadOrder = [</span>
<a href="#l63.59"></a><span id="l63.59" class="difflineplus">+var scriptLoadOrder = [</span>
<a href="#l63.60"></a><span id="l63.60">     &quot;calUtils.js&quot;,</span>
<a href="#l63.61"></a><span id="l63.61"> ];</span>
<a href="#l63.62"></a><span id="l63.62"> </span>
<a href="#l63.63"></a><span id="l63.63"> var NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, [calICSCalendar], this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1" class="difflineminus">--- a/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineplus">+++ b/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineat">@@ -8,26 +8,26 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l64.4"></a><span id="l64.4"> Components.utils.import(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;);</span>
<a href="#l64.5"></a><span id="l64.5"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l64.6"></a><span id="l64.6"> Components.utils.import(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;);</span>
<a href="#l64.7"></a><span id="l64.7"> </span>
<a href="#l64.8"></a><span id="l64.8"> //</span>
<a href="#l64.9"></a><span id="l64.9"> // calMemoryCalendar.js</span>
<a href="#l64.10"></a><span id="l64.10"> //</span>
<a href="#l64.11"></a><span id="l64.11"> </span>
<a href="#l64.12"></a><span id="l64.12" class="difflineminus">-const calCalendarManagerContractID = &quot;@mozilla.org/calendar/manager;1&quot;;</span>
<a href="#l64.13"></a><span id="l64.13" class="difflineminus">-const calICalendarManager = Components.interfaces.calICalendarManager;</span>
<a href="#l64.14"></a><span id="l64.14" class="difflineminus">-const cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l64.15"></a><span id="l64.15" class="difflineplus">+var calCalendarManagerContractID = &quot;@mozilla.org/calendar/manager;1&quot;;</span>
<a href="#l64.16"></a><span id="l64.16" class="difflineplus">+var calICalendarManager = Components.interfaces.calICalendarManager;</span>
<a href="#l64.17"></a><span id="l64.17" class="difflineplus">+var cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l64.18"></a><span id="l64.18"> </span>
<a href="#l64.19"></a><span id="l64.19"> function calMemoryCalendar() {</span>
<a href="#l64.20"></a><span id="l64.20">     this.initProviderBase();</span>
<a href="#l64.21"></a><span id="l64.21">     this.initMemoryCalendar();</span>
<a href="#l64.22"></a><span id="l64.22"> }</span>
<a href="#l64.23"></a><span id="l64.23" class="difflineminus">-const calMemoryCalendarClassID = Components.ID(&quot;{bda0dd7f-0a2f-4fcf-ba08-5517e6fbf133}&quot;);</span>
<a href="#l64.24"></a><span id="l64.24" class="difflineminus">-const calMemoryCalendarInterfaces = [</span>
<a href="#l64.25"></a><span id="l64.25" class="difflineplus">+var calMemoryCalendarClassID = Components.ID(&quot;{bda0dd7f-0a2f-4fcf-ba08-5517e6fbf133}&quot;);</span>
<a href="#l64.26"></a><span id="l64.26" class="difflineplus">+var calMemoryCalendarInterfaces = [</span>
<a href="#l64.27"></a><span id="l64.27">     Components.interfaces.calICalendar,</span>
<a href="#l64.28"></a><span id="l64.28">     Components.interfaces.calISchedulingSupport,</span>
<a href="#l64.29"></a><span id="l64.29">     Components.interfaces.calIOfflineStorage,</span>
<a href="#l64.30"></a><span id="l64.30">     Components.interfaces.calISyncWriteCalendar,</span>
<a href="#l64.31"></a><span id="l64.31">     Components.interfaces.calICalendarProvider</span>
<a href="#l64.32"></a><span id="l64.32"> ];</span>
<a href="#l64.33"></a><span id="l64.33"> calMemoryCalendar.prototype = {</span>
<a href="#l64.34"></a><span id="l64.34">     __proto__: cal.ProviderBase.prototype,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1" class="difflineminus">--- a/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineplus">+++ b/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineat">@@ -6,32 +6,32 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l65.4"></a><span id="l65.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l65.5"></a><span id="l65.5"> </span>
<a href="#l65.6"></a><span id="l65.6"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l65.7"></a><span id="l65.7"> Components.utils.import(&quot;resource://calendar/modules/calAlarmUtils.jsm&quot;);</span>
<a href="#l65.8"></a><span id="l65.8"> Components.utils.import(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;);</span>
<a href="#l65.9"></a><span id="l65.9"> Components.utils.import(&quot;resource://calendar/modules/calStorageUpgrade.jsm&quot;);</span>
<a href="#l65.10"></a><span id="l65.10"> Components.utils.import(&quot;resource://calendar/modules/calStorageHelpers.jsm&quot;);</span>
<a href="#l65.11"></a><span id="l65.11"> </span>
<a href="#l65.12"></a><span id="l65.12" class="difflineminus">-const USECS_PER_SECOND = 1000000;</span>
<a href="#l65.13"></a><span id="l65.13" class="difflineminus">-const kCalICalendar = Components.interfaces.calICalendar;</span>
<a href="#l65.14"></a><span id="l65.14" class="difflineminus">-const cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l65.15"></a><span id="l65.15" class="difflineplus">+var USECS_PER_SECOND = 1000000;</span>
<a href="#l65.16"></a><span id="l65.16" class="difflineplus">+var kCalICalendar = Components.interfaces.calICalendar;</span>
<a href="#l65.17"></a><span id="l65.17" class="difflineplus">+var cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l65.18"></a><span id="l65.18"> </span>
<a href="#l65.19"></a><span id="l65.19"> //</span>
<a href="#l65.20"></a><span id="l65.20"> // calStorageCalendar</span>
<a href="#l65.21"></a><span id="l65.21"> //</span>
<a href="#l65.22"></a><span id="l65.22"> </span>
<a href="#l65.23"></a><span id="l65.23"> function calStorageCalendar() {</span>
<a href="#l65.24"></a><span id="l65.24">     this.initProviderBase();</span>
<a href="#l65.25"></a><span id="l65.25">     this.mItemCache = {};</span>
<a href="#l65.26"></a><span id="l65.26">     this.mRecEventCache = {};</span>
<a href="#l65.27"></a><span id="l65.27">     this.mRecTodoCache = {};</span>
<a href="#l65.28"></a><span id="l65.28"> }</span>
<a href="#l65.29"></a><span id="l65.29" class="difflineminus">-const calStorageCalendarClassID = Components.ID(&quot;{b3eaa1c4-5dfe-4c0a-b62a-b3a514218461}&quot;);</span>
<a href="#l65.30"></a><span id="l65.30" class="difflineminus">-const calStorageCalendarInterfaces = [</span>
<a href="#l65.31"></a><span id="l65.31" class="difflineplus">+var calStorageCalendarClassID = Components.ID(&quot;{b3eaa1c4-5dfe-4c0a-b62a-b3a514218461}&quot;);</span>
<a href="#l65.32"></a><span id="l65.32" class="difflineplus">+var calStorageCalendarInterfaces = [</span>
<a href="#l65.33"></a><span id="l65.33">     Components.interfaces.calICalendar,</span>
<a href="#l65.34"></a><span id="l65.34">     Components.interfaces.calICalendarProvider,</span>
<a href="#l65.35"></a><span id="l65.35">     Components.interfaces.calIOfflineStorage,</span>
<a href="#l65.36"></a><span id="l65.36">     Components.interfaces.calISchedulingSupport,</span>
<a href="#l65.37"></a><span id="l65.37">     Components.interfaces.calISyncWriteCalendar,</span>
<a href="#l65.38"></a><span id="l65.38"> ];</span>
<a href="#l65.39"></a><span id="l65.39"> calStorageCalendar.prototype = {</span>
<a href="#l65.40"></a><span id="l65.40">     __proto__: cal.ProviderBase.prototype,</span>
<a href="#l65.41"></a><span id="l65.41" class="difflineat">@@ -2439,13 +2439,13 @@ calStorageCalendar.prototype = {</span>
<a href="#l65.42"></a><span id="l65.42">                     }</span>
<a href="#l65.43"></a><span id="l65.43">                 }</span>
<a href="#l65.44"></a><span id="l65.44">             }</span>
<a href="#l65.45"></a><span id="l65.45">         }</span>
<a href="#l65.46"></a><span id="l65.46">     }</span>
<a href="#l65.47"></a><span id="l65.47"> };</span>
<a href="#l65.48"></a><span id="l65.48"> </span>
<a href="#l65.49"></a><span id="l65.49"> /** Module Registration */</span>
<a href="#l65.50"></a><span id="l65.50" class="difflineminus">-const scriptLoadOrder = [</span>
<a href="#l65.51"></a><span id="l65.51" class="difflineplus">+var scriptLoadOrder = [</span>
<a href="#l65.52"></a><span id="l65.52">     &quot;calUtils.js&quot;,</span>
<a href="#l65.53"></a><span id="l65.53"> ];</span>
<a href="#l65.54"></a><span id="l65.54"> </span>
<a href="#l65.55"></a><span id="l65.55"> var NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, [calStorageCalendar], this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapCalendar.js</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapCalendar.js</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -5,18 +5,18 @@</span>
<a href="#l66.4"></a><span id="l66.4"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l66.5"></a><span id="l66.5"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l66.6"></a><span id="l66.6"> </span>
<a href="#l66.7"></a><span id="l66.7"> function calWcapCalendar(/*optional*/session, /*optional*/calProps) {</span>
<a href="#l66.8"></a><span id="l66.8">     this.initProviderBase();</span>
<a href="#l66.9"></a><span id="l66.9">     this.m_session = session;</span>
<a href="#l66.10"></a><span id="l66.10">     this.m_calProps = calProps;</span>
<a href="#l66.11"></a><span id="l66.11"> }</span>
<a href="#l66.12"></a><span id="l66.12" class="difflineminus">-const calWcapCalendarClassID = Components.ID(&quot;{cf4d93e5-af79-451a-95f3-109055b32ef0}&quot;);</span>
<a href="#l66.13"></a><span id="l66.13" class="difflineminus">-const calWcapCalendarInterfaces = [</span>
<a href="#l66.14"></a><span id="l66.14" class="difflineplus">+var calWcapCalendarClassID = Components.ID(&quot;{cf4d93e5-af79-451a-95f3-109055b32ef0}&quot;);</span>
<a href="#l66.15"></a><span id="l66.15" class="difflineplus">+var calWcapCalendarInterfaces = [</span>
<a href="#l66.16"></a><span id="l66.16">     calIWcapCalendar,</span>
<a href="#l66.17"></a><span id="l66.17">     calICalendar,</span>
<a href="#l66.18"></a><span id="l66.18">     Components.interfaces.calISchedulingSupport,</span>
<a href="#l66.19"></a><span id="l66.19">     Components.interfaces.calIChangeLog,</span>
<a href="#l66.20"></a><span id="l66.20">     Components.interfaces.calICalendarProvider,</span>
<a href="#l66.21"></a><span id="l66.21"> ];</span>
<a href="#l66.22"></a><span id="l66.22"> calWcapCalendar.prototype = {</span>
<a href="#l66.23"></a><span id="l66.23">     __proto__: cal.ProviderBase.prototype,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapCalendarItems.js</span>
<a href="#l67.2"></a><span id="l67.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapCalendarItems.js</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineat">@@ -267,21 +267,21 @@ function diffProperty(newItem, oldItem, </span>
<a href="#l67.4"></a><span id="l67.4">         }</span>
<a href="#l67.5"></a><span id="l67.5">         if (val == oldVal) {</span>
<a href="#l67.6"></a><span id="l67.6">             val = null;</span>
<a href="#l67.7"></a><span id="l67.7">         }</span>
<a href="#l67.8"></a><span id="l67.8">     }</span>
<a href="#l67.9"></a><span id="l67.9">     return val;</span>
<a href="#l67.10"></a><span id="l67.10"> }</span>
<a href="#l67.11"></a><span id="l67.11"> </span>
<a href="#l67.12"></a><span id="l67.12" class="difflineminus">-const METHOD_PUBLISH = 1;</span>
<a href="#l67.13"></a><span id="l67.13" class="difflineminus">-const METHOD_REQUEST = 2;</span>
<a href="#l67.14"></a><span id="l67.14" class="difflineminus">-const METHOD_REPLY   = 4;</span>
<a href="#l67.15"></a><span id="l67.15" class="difflineminus">-const METHOD_CANCEL  = 8;</span>
<a href="#l67.16"></a><span id="l67.16" class="difflineminus">-const METHOD_UPDATE  = 256;</span>
<a href="#l67.17"></a><span id="l67.17" class="difflineplus">+var METHOD_PUBLISH = 1;</span>
<a href="#l67.18"></a><span id="l67.18" class="difflineplus">+var METHOD_REQUEST = 2;</span>
<a href="#l67.19"></a><span id="l67.19" class="difflineplus">+var METHOD_REPLY   = 4;</span>
<a href="#l67.20"></a><span id="l67.20" class="difflineplus">+var METHOD_CANCEL  = 8;</span>
<a href="#l67.21"></a><span id="l67.21" class="difflineplus">+var METHOD_UPDATE  = 256;</span>
<a href="#l67.22"></a><span id="l67.22"> </span>
<a href="#l67.23"></a><span id="l67.23"> calWcapCalendar.prototype.storeItem =</span>
<a href="#l67.24"></a><span id="l67.24"> function calWcapCalendar_storeItem(bAddItem, item, oldItem, request) {</span>
<a href="#l67.25"></a><span id="l67.25">     function getOrgId(item) {</span>
<a href="#l67.26"></a><span id="l67.26">         return (item &amp;&amp; item.organizer &amp;&amp; item.organizer.id ? item.organizer.id : null);</span>
<a href="#l67.27"></a><span id="l67.27">     }</span>
<a href="#l67.28"></a><span id="l67.28">     function encodeAttendees(atts) {</span>
<a href="#l67.29"></a><span id="l67.29">         function attendeeSort(one, two) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapCalendarModule.js</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapCalendarModule.js</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineat">@@ -5,30 +5,30 @@</span>
<a href="#l68.4"></a><span id="l68.4"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l68.5"></a><span id="l68.5"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l68.6"></a><span id="l68.6"> </span>
<a href="#l68.7"></a><span id="l68.7"> //</span>
<a href="#l68.8"></a><span id="l68.8"> // init code for globals, prefs:</span>
<a href="#l68.9"></a><span id="l68.9"> //</span>
<a href="#l68.10"></a><span id="l68.10"> </span>
<a href="#l68.11"></a><span id="l68.11"> // constants:</span>
<a href="#l68.12"></a><span id="l68.12" class="difflineminus">-const NS_OK = Components.results.NS_OK;</span>
<a href="#l68.13"></a><span id="l68.13" class="difflineminus">-const NS_ERROR_UNEXPECTED = Components.results.NS_ERROR_UNEXPECTED;</span>
<a href="#l68.14"></a><span id="l68.14" class="difflineminus">-const nsIException = Components.interfaces.nsIException;</span>
<a href="#l68.15"></a><span id="l68.15" class="difflineminus">-const nsISupports = Components.interfaces.nsISupports;</span>
<a href="#l68.16"></a><span id="l68.16" class="difflineminus">-const calIWcapSession = Components.interfaces.calIWcapSession;</span>
<a href="#l68.17"></a><span id="l68.17" class="difflineminus">-const calIWcapCalendar = Components.interfaces.calIWcapCalendar;</span>
<a href="#l68.18"></a><span id="l68.18" class="difflineminus">-const calIWcapErrors = Components.interfaces.calIWcapErrors;</span>
<a href="#l68.19"></a><span id="l68.19" class="difflineminus">-const calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l68.20"></a><span id="l68.20" class="difflineminus">-const calIItemBase = Components.interfaces.calIItemBase;</span>
<a href="#l68.21"></a><span id="l68.21" class="difflineminus">-const calIOperationListener = Components.interfaces.calIOperationListener;</span>
<a href="#l68.22"></a><span id="l68.22" class="difflineminus">-const calIFreeBusyProvider = Components.interfaces.calIFreeBusyProvider;</span>
<a href="#l68.23"></a><span id="l68.23" class="difflineminus">-const calIFreeBusyInterval = Components.interfaces.calIFreeBusyInterval;</span>
<a href="#l68.24"></a><span id="l68.24" class="difflineminus">-const calICalendarSearchProvider = Components.interfaces.calICalendarSearchProvider;</span>
<a href="#l68.25"></a><span id="l68.25" class="difflineminus">-const calIErrors = Components.interfaces.calIErrors;</span>
<a href="#l68.26"></a><span id="l68.26" class="difflineplus">+var NS_OK = Components.results.NS_OK;</span>
<a href="#l68.27"></a><span id="l68.27" class="difflineplus">+var NS_ERROR_UNEXPECTED = Components.results.NS_ERROR_UNEXPECTED;</span>
<a href="#l68.28"></a><span id="l68.28" class="difflineplus">+var nsIException = Components.interfaces.nsIException;</span>
<a href="#l68.29"></a><span id="l68.29" class="difflineplus">+var nsISupports = Components.interfaces.nsISupports;</span>
<a href="#l68.30"></a><span id="l68.30" class="difflineplus">+var calIWcapSession = Components.interfaces.calIWcapSession;</span>
<a href="#l68.31"></a><span id="l68.31" class="difflineplus">+var calIWcapCalendar = Components.interfaces.calIWcapCalendar;</span>
<a href="#l68.32"></a><span id="l68.32" class="difflineplus">+var calIWcapErrors = Components.interfaces.calIWcapErrors;</span>
<a href="#l68.33"></a><span id="l68.33" class="difflineplus">+var calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l68.34"></a><span id="l68.34" class="difflineplus">+var calIItemBase = Components.interfaces.calIItemBase;</span>
<a href="#l68.35"></a><span id="l68.35" class="difflineplus">+var calIOperationListener = Components.interfaces.calIOperationListener;</span>
<a href="#l68.36"></a><span id="l68.36" class="difflineplus">+var calIFreeBusyProvider = Components.interfaces.calIFreeBusyProvider;</span>
<a href="#l68.37"></a><span id="l68.37" class="difflineplus">+var calIFreeBusyInterval = Components.interfaces.calIFreeBusyInterval;</span>
<a href="#l68.38"></a><span id="l68.38" class="difflineplus">+var calICalendarSearchProvider = Components.interfaces.calICalendarSearchProvider;</span>
<a href="#l68.39"></a><span id="l68.39" class="difflineplus">+var calIErrors = Components.interfaces.calIErrors;</span>
<a href="#l68.40"></a><span id="l68.40"> </span>
<a href="#l68.41"></a><span id="l68.41"> // some string resources:</span>
<a href="#l68.42"></a><span id="l68.42"> var g_privateItemTitle;</span>
<a href="#l68.43"></a><span id="l68.43"> var g_confidentialItemTitle;</span>
<a href="#l68.44"></a><span id="l68.44"> var g_busyItemTitle;</span>
<a href="#l68.45"></a><span id="l68.45"> var g_busyPhantomItemUuidPrefix;</span>
<a href="#l68.46"></a><span id="l68.46"> </span>
<a href="#l68.47"></a><span id="l68.47"> // global preferences:</span>
<a href="#l68.48"></a><span id="l68.48" class="difflineat">@@ -54,17 +54,17 @@ function initWcapProvider() {</span>
<a href="#l68.49"></a><span id="l68.49">         CACHE_LAST_RESULTS = Preferences.get(&quot;calendar.wcap.cache_last_results&quot;, 4);</span>
<a href="#l68.50"></a><span id="l68.50">         CACHE_LAST_RESULTS_INVALIDATE = Preferences.get(&quot;calendar.wcap.cache_last_results_invalidate&quot;, 120);</span>
<a href="#l68.51"></a><span id="l68.51">     } catch (exc) {</span>
<a href="#l68.52"></a><span id="l68.52">         logError(exc, &quot;error in init sequence&quot;);</span>
<a href="#l68.53"></a><span id="l68.53">     }</span>
<a href="#l68.54"></a><span id="l68.54"> }</span>
<a href="#l68.55"></a><span id="l68.55"> </span>
<a href="#l68.56"></a><span id="l68.56"> /** Module Registration */</span>
<a href="#l68.57"></a><span id="l68.57" class="difflineminus">-const scriptLoadOrder = [</span>
<a href="#l68.58"></a><span id="l68.58" class="difflineplus">+var scriptLoadOrder = [</span>
<a href="#l68.59"></a><span id="l68.59">     &quot;calUtils.js&quot;,</span>
<a href="#l68.60"></a><span id="l68.60">     &quot;calWcapUtils.js&quot;,</span>
<a href="#l68.61"></a><span id="l68.61">     &quot;calWcapErrors.js&quot;,</span>
<a href="#l68.62"></a><span id="l68.62">     &quot;calWcapRequest.js&quot;,</span>
<a href="#l68.63"></a><span id="l68.63">     &quot;calWcapSession.js&quot;,</span>
<a href="#l68.64"></a><span id="l68.64">     &quot;calWcapCalendar.js&quot;,</span>
<a href="#l68.65"></a><span id="l68.65">     &quot;calWcapCalendarItems.js&quot;</span>
<a href="#l68.66"></a><span id="l68.66"> ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapErrors.js</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapErrors.js</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l69.4"></a><span id="l69.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l69.5"></a><span id="l69.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l69.6"></a><span id="l69.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l69.7"></a><span id="l69.7"> </span>
<a href="#l69.8"></a><span id="l69.8" class="difflineminus">-const NS_ERROR_INVALID_ARG = Components.results.NS_ERROR_INVALID_ARG;</span>
<a href="#l69.9"></a><span id="l69.9" class="difflineplus">+var NS_ERROR_INVALID_ARG = Components.results.NS_ERROR_INVALID_ARG;</span>
<a href="#l69.10"></a><span id="l69.10"> </span>
<a href="#l69.11"></a><span id="l69.11"> //</span>
<a href="#l69.12"></a><span id="l69.12"> // Common netwerk errors:</span>
<a href="#l69.13"></a><span id="l69.13"> //</span>
<a href="#l69.14"></a><span id="l69.14" class="difflineminus">-const NS_ERROR_MODULE_BASE_OFFSET = 0x45;</span>
<a href="#l69.15"></a><span id="l69.15" class="difflineminus">-const NS_ERROR_MODULE_NETWORK = 6;</span>
<a href="#l69.16"></a><span id="l69.16" class="difflineplus">+var NS_ERROR_MODULE_BASE_OFFSET = 0x45;</span>
<a href="#l69.17"></a><span id="l69.17" class="difflineplus">+var NS_ERROR_MODULE_NETWORK = 6;</span>
<a href="#l69.18"></a><span id="l69.18"> </span>
<a href="#l69.19"></a><span id="l69.19"> function generateFailure(module, code) {</span>
<a href="#l69.20"></a><span id="l69.20">     // 1&lt;&lt;31 generates negative number, so use literal, don't use logical operators:</span>
<a href="#l69.21"></a><span id="l69.21">     return (0x80000000 + ((module + NS_ERROR_MODULE_BASE_OFFSET) &lt;&lt; 16) + code);</span>
<a href="#l69.22"></a><span id="l69.22"> }</span>
<a href="#l69.23"></a><span id="l69.23"> </span>
<a href="#l69.24"></a><span id="l69.24"> function generateNetFailure(code) {</span>
<a href="#l69.25"></a><span id="l69.25">     return generateFailure(NS_ERROR_MODULE_NETWORK, code);</span>
<a href="#l69.26"></a><span id="l69.26" class="difflineat">@@ -44,27 +44,27 @@ function checkErrorCode(err, rcBits, mas</span>
<a href="#l69.27"></a><span id="l69.27"> </span>
<a href="#l69.28"></a><span id="l69.28"> // Cannot perform operation, because user is offline.</span>
<a href="#l69.29"></a><span id="l69.29"> // The following error codes have been adopted from</span>
<a href="#l69.30"></a><span id="l69.30"> // xpcom/base/nsError.h</span>
<a href="#l69.31"></a><span id="l69.31"> // and ought to be defined in IDL. xxx todo</span>
<a href="#l69.32"></a><span id="l69.32"> </span>
<a href="#l69.33"></a><span id="l69.33"> // The requested action could not be completed while the networking</span>
<a href="#l69.34"></a><span id="l69.34"> // is in the offline state.</span>
<a href="#l69.35"></a><span id="l69.35" class="difflineminus">-const NS_ERROR_OFFLINE = generateNetFailure(16);</span>
<a href="#l69.36"></a><span id="l69.36" class="difflineplus">+var NS_ERROR_OFFLINE = generateNetFailure(16);</span>
<a href="#l69.37"></a><span id="l69.37"> </span>
<a href="#l69.38"></a><span id="l69.38"> // The async request completed successfully.</span>
<a href="#l69.39"></a><span id="l69.39" class="difflineminus">-const NS_BINDING_SUCCEEDED = NS_OK;</span>
<a href="#l69.40"></a><span id="l69.40" class="difflineplus">+var NS_BINDING_SUCCEEDED = NS_OK;</span>
<a href="#l69.41"></a><span id="l69.41"> </span>
<a href="#l69.42"></a><span id="l69.42" class="difflineminus">-const NS_BINDING_FAILED = generateNetFailure(1);</span>
<a href="#l69.43"></a><span id="l69.43" class="difflineminus">-const NS_BINDING_ABORTED = generateNetFailure(2);</span>
<a href="#l69.44"></a><span id="l69.44" class="difflineminus">-const NS_BINDING_REDIRECTED = generateNetFailure(3);</span>
<a href="#l69.45"></a><span id="l69.45" class="difflineminus">-const NS_BINDING_RETARGETED = generateNetFailure(4);</span>
<a href="#l69.46"></a><span id="l69.46" class="difflineplus">+var NS_BINDING_FAILED = generateNetFailure(1);</span>
<a href="#l69.47"></a><span id="l69.47" class="difflineplus">+var NS_BINDING_ABORTED = generateNetFailure(2);</span>
<a href="#l69.48"></a><span id="l69.48" class="difflineplus">+var NS_BINDING_REDIRECTED = generateNetFailure(3);</span>
<a href="#l69.49"></a><span id="l69.49" class="difflineplus">+var NS_BINDING_RETARGETED = generateNetFailure(4);</span>
<a href="#l69.50"></a><span id="l69.50"> </span>
<a href="#l69.51"></a><span id="l69.51" class="difflineminus">-const g_nsNetErrorCodes = [</span>
<a href="#l69.52"></a><span id="l69.52" class="difflineplus">+var g_nsNetErrorCodes = [</span>
<a href="#l69.53"></a><span id="l69.53">     NS_BINDING_FAILED,</span>
<a href="#l69.54"></a><span id="l69.54">     &quot;The async request failed for some unknown reason.&quot;,</span>
<a href="#l69.55"></a><span id="l69.55">     NS_BINDING_ABORTED,</span>
<a href="#l69.56"></a><span id="l69.56">     &quot;The async request failed because it was aborted by some user action.&quot;,</span>
<a href="#l69.57"></a><span id="l69.57">     NS_BINDING_REDIRECTED,</span>
<a href="#l69.58"></a><span id="l69.58">     &quot;The async request has been redirected to a different async request.&quot;,</span>
<a href="#l69.59"></a><span id="l69.59">     NS_BINDING_RETARGETED,</span>
<a href="#l69.60"></a><span id="l69.60">     &quot;The async request has been retargeted to a different handler.&quot;,</span>
<a href="#l69.61"></a><span id="l69.61" class="difflineat">@@ -116,17 +116,17 @@ function netErrorToString(rc) {</span>
<a href="#l69.62"></a><span id="l69.62">     throw new Components.Exception(&quot;No known network error code: &quot; + rc.toString(0x10), NS_ERROR_INVALID_ARG);</span>
<a href="#l69.63"></a><span id="l69.63"> }</span>
<a href="#l69.64"></a><span id="l69.64"> </span>
<a href="#l69.65"></a><span id="l69.65"> </span>
<a href="#l69.66"></a><span id="l69.66"> //</span>
<a href="#l69.67"></a><span id="l69.67"> // WCAP error handling helpers</span>
<a href="#l69.68"></a><span id="l69.68"> //</span>
<a href="#l69.69"></a><span id="l69.69"> </span>
<a href="#l69.70"></a><span id="l69.70" class="difflineminus">-const g_wcapErrorCodes = [</span>
<a href="#l69.71"></a><span id="l69.71" class="difflineplus">+var g_wcapErrorCodes = [</span>
<a href="#l69.72"></a><span id="l69.72">     /* -1 */ NS_OK, &quot;Logout successful.&quot;,</span>
<a href="#l69.73"></a><span id="l69.73">     /*  0 */ NS_OK, &quot;Command successful.&quot;,</span>
<a href="#l69.74"></a><span id="l69.74">     /*  1 */ calIWcapErrors.WCAP_LOGIN_FAILED, calGetString(&quot;wcap&quot;, &quot;loginFailed.text&quot;),</span>
<a href="#l69.75"></a><span id="l69.75">     /*  2 */ calIWcapErrors.WCAP_LOGIN_OK_DEFAULT_CALENDAR_NOT_FOUND, &quot;login.wcap was successful, but the default calendar for this user was not found. A new default calendar set to the userid was created.&quot;,</span>
<a href="#l69.76"></a><span id="l69.76">     /*  3 */ NS_ERROR_INVALID_ARG, &quot;No WCAP error code.&quot;,</span>
<a href="#l69.77"></a><span id="l69.77">     /*  4 */ NS_ERROR_INVALID_ARG, &quot;No WCAP error code.&quot;,</span>
<a href="#l69.78"></a><span id="l69.78">     /*  5 */ NS_ERROR_INVALID_ARG, &quot;No WCAP error code.&quot;,</span>
<a href="#l69.79"></a><span id="l69.79">     /*  6 */ calIWcapErrors.WCAP_DELETE_EVENTS_BY_ID_FAILED, &quot;WCAP_DELETE_EVENTS_BY_ID_FAILED&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapRequest.js</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapRequest.js</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -187,18 +187,18 @@ calWcapRequest.prototype = {</span>
<a href="#l70.4"></a><span id="l70.4"> </span>
<a href="#l70.5"></a><span id="l70.5"> function calWcapNetworkRequest(url, respFunc, bLogging) {</span>
<a href="#l70.6"></a><span id="l70.6">     this.wrappedJSObject = this;</span>
<a href="#l70.7"></a><span id="l70.7">     this.m_id = generateRequestId();</span>
<a href="#l70.8"></a><span id="l70.8">     this.m_url = url;</span>
<a href="#l70.9"></a><span id="l70.9">     this.m_respFunc = respFunc;</span>
<a href="#l70.10"></a><span id="l70.10">     this.m_bLogging = (bLogging === undefined ? true : bLogging);</span>
<a href="#l70.11"></a><span id="l70.11"> }</span>
<a href="#l70.12"></a><span id="l70.12" class="difflineminus">-const calWcapNetworkRequestClassID = Components.ID(&quot;{e3c62b37-83cf-41ec-9872-0af9f952430a}&quot;);</span>
<a href="#l70.13"></a><span id="l70.13" class="difflineminus">-const calWcapNetworkRequestInterfaces = [</span>
<a href="#l70.14"></a><span id="l70.14" class="difflineplus">+var calWcapNetworkRequestClassID = Components.ID(&quot;{e3c62b37-83cf-41ec-9872-0af9f952430a}&quot;);</span>
<a href="#l70.15"></a><span id="l70.15" class="difflineplus">+var calWcapNetworkRequestInterfaces = [</span>
<a href="#l70.16"></a><span id="l70.16">     Components.interfaces.nsIUnicharStreamLoaderObserver,</span>
<a href="#l70.17"></a><span id="l70.17">     Components.interfaces.nsIInterfaceRequestor,</span>
<a href="#l70.18"></a><span id="l70.18">     Components.interfaces.nsIChannelEventSink,</span>
<a href="#l70.19"></a><span id="l70.19">     Components.interfaces.calIOperation,</span>
<a href="#l70.20"></a><span id="l70.20"> ];</span>
<a href="#l70.21"></a><span id="l70.21"> calWcapNetworkRequest.prototype = {</span>
<a href="#l70.22"></a><span id="l70.22">     m_id: 0,</span>
<a href="#l70.23"></a><span id="l70.23">     m_url: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapSession.js</span>
<a href="#l71.2"></a><span id="l71.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapSession.js</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineat">@@ -97,18 +97,18 @@ function calWcapSession(contextId) {</span>
<a href="#l71.4"></a><span id="l71.4">     this.wrappedJSObject = this;</span>
<a href="#l71.5"></a><span id="l71.5">     this.m_contextId = contextId;</span>
<a href="#l71.6"></a><span id="l71.6">     this.m_loginQueue = [];</span>
<a href="#l71.7"></a><span id="l71.7"> </span>
<a href="#l71.8"></a><span id="l71.8">     // listen for shutdown, being logged out:</span>
<a href="#l71.9"></a><span id="l71.9">     Services.obs.addObserver(this, &quot;quit-application&quot;, false /* don't hold weakly */);</span>
<a href="#l71.10"></a><span id="l71.10">     cal.getCalendarManager().addObserver(this);</span>
<a href="#l71.11"></a><span id="l71.11"> }</span>
<a href="#l71.12"></a><span id="l71.12" class="difflineminus">-const calWcapSessionClassID = Components.ID(&quot;{cbf803fd-4469-4999-ae39-367af1c7b077}&quot;);</span>
<a href="#l71.13"></a><span id="l71.13" class="difflineminus">-const calWcapSessionInterfaces = [</span>
<a href="#l71.14"></a><span id="l71.14" class="difflineplus">+var calWcapSessionClassID = Components.ID(&quot;{cbf803fd-4469-4999-ae39-367af1c7b077}&quot;);</span>
<a href="#l71.15"></a><span id="l71.15" class="difflineplus">+var calWcapSessionInterfaces = [</span>
<a href="#l71.16"></a><span id="l71.16">     calIWcapSession,</span>
<a href="#l71.17"></a><span id="l71.17">     calIFreeBusyProvider,</span>
<a href="#l71.18"></a><span id="l71.18">     calICalendarSearchProvider,</span>
<a href="#l71.19"></a><span id="l71.19">     Components.interfaces.calITimezoneProvider,</span>
<a href="#l71.20"></a><span id="l71.20">     Components.interfaces.calICalendarManagerObserver</span>
<a href="#l71.21"></a><span id="l71.21"> ];</span>
<a href="#l71.22"></a><span id="l71.22"> calWcapSession.prototype = {</span>
<a href="#l71.23"></a><span id="l71.23">     classID: calWcapSessionClassID,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l72.4"></a><span id="l72.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l72.5"></a><span id="l72.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l72.6"></a><span id="l72.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l72.7"></a><span id="l72.7"> </span>
<a href="#l72.8"></a><span id="l72.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l72.9"></a><span id="l72.9"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l72.10"></a><span id="l72.10"> var prefs = require(&quot;../shared-modules/prefs&quot;);</span>
<a href="#l72.11"></a><span id="l72.11"> </span>
<a href="#l72.12"></a><span id="l72.12" class="difflineminus">-const sleep = 500;</span>
<a href="#l72.13"></a><span id="l72.13" class="difflineplus">+var sleep = 500;</span>
<a href="#l72.14"></a><span id="l72.14"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l72.15"></a><span id="l72.15"> var title = &quot;Title&quot;;</span>
<a href="#l72.16"></a><span id="l72.16"> var location = &quot;Location&quot;;</span>
<a href="#l72.17"></a><span id="l72.17"> var description = &quot;Description\ncontinuing&quot;;</span>
<a href="#l72.18"></a><span id="l72.18"> var pass;</span>
<a href="#l72.19"></a><span id="l72.19"> var date1 = new Date(2009, 0, 1,  8, 0);</span>
<a href="#l72.20"></a><span id="l72.20"> var date2 = new Date(2009, 0, 2,  9, 0);</span>
<a href="#l72.21"></a><span id="l72.21"> var date3 = new Date(2009, 0, 3, 10, 0);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testAnnualRecurrence.js</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testAnnualRecurrence.js</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l73.4"></a><span id="l73.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l73.5"></a><span id="l73.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l73.6"></a><span id="l73.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l73.7"></a><span id="l73.7"> </span>
<a href="#l73.8"></a><span id="l73.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l73.9"></a><span id="l73.9"> </span>
<a href="#l73.10"></a><span id="l73.10" class="difflineminus">-const sleep = 500;</span>
<a href="#l73.11"></a><span id="l73.11" class="difflineplus">+var sleep = 500;</span>
<a href="#l73.12"></a><span id="l73.12"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l73.13"></a><span id="l73.13"> var startYear = 1950;</span>
<a href="#l73.14"></a><span id="l73.14"> var epoch = 1970;</span>
<a href="#l73.15"></a><span id="l73.15"> </span>
<a href="#l73.16"></a><span id="l73.16"> var setupModule = function(module) {</span>
<a href="#l73.17"></a><span id="l73.17">   controller = mozmill.getMail3PaneController();</span>
<a href="#l73.18"></a><span id="l73.18">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l73.19"></a><span id="l73.19"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l74.1"></a><span id="l74.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js</span>
<a href="#l74.2"></a><span id="l74.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js</span>
<a href="#l74.3"></a><span id="l74.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l74.4"></a><span id="l74.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l74.5"></a><span id="l74.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l74.6"></a><span id="l74.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l74.7"></a><span id="l74.7">  </span>
<a href="#l74.8"></a><span id="l74.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l74.9"></a><span id="l74.9"> </span>
<a href="#l74.10"></a><span id="l74.10" class="difflineminus">-const sleep = 500;</span>
<a href="#l74.11"></a><span id="l74.11" class="difflineplus">+var sleep = 500;</span>
<a href="#l74.12"></a><span id="l74.12"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l74.13"></a><span id="l74.13"> var hour = 8;</span>
<a href="#l74.14"></a><span id="l74.14"> </span>
<a href="#l74.15"></a><span id="l74.15"> var setupModule = function(module) {</span>
<a href="#l74.16"></a><span id="l74.16">   controller = mozmill.getMail3PaneController();</span>
<a href="#l74.17"></a><span id="l74.17">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l74.18"></a><span id="l74.18"> }</span>
<a href="#l74.19"></a><span id="l74.19"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l75.1"></a><span id="l75.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testDailyRecurrence.js</span>
<a href="#l75.2"></a><span id="l75.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testDailyRecurrence.js</span>
<a href="#l75.3"></a><span id="l75.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l75.4"></a><span id="l75.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l75.5"></a><span id="l75.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l75.6"></a><span id="l75.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l75.7"></a><span id="l75.7"> </span>
<a href="#l75.8"></a><span id="l75.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l75.9"></a><span id="l75.9"> </span>
<a href="#l75.10"></a><span id="l75.10" class="difflineminus">-const sleep = 500;</span>
<a href="#l75.11"></a><span id="l75.11" class="difflineplus">+var sleep = 500;</span>
<a href="#l75.12"></a><span id="l75.12"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l75.13"></a><span id="l75.13"> var hour = 8;</span>
<a href="#l75.14"></a><span id="l75.14"> </span>
<a href="#l75.15"></a><span id="l75.15"> var setupModule = function(module) {</span>
<a href="#l75.16"></a><span id="l75.16">   controller = mozmill.getMail3PaneController();</span>
<a href="#l75.17"></a><span id="l75.17">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l75.18"></a><span id="l75.18"> }</span>
<a href="#l75.19"></a><span id="l75.19"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l76.1"></a><span id="l76.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js</span>
<a href="#l76.2"></a><span id="l76.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js</span>
<a href="#l76.3"></a><span id="l76.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l76.4"></a><span id="l76.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l76.5"></a><span id="l76.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l76.6"></a><span id="l76.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l76.7"></a><span id="l76.7">  </span>
<a href="#l76.8"></a><span id="l76.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l76.9"></a><span id="l76.9"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l76.10"></a><span id="l76.10"> </span>
<a href="#l76.11"></a><span id="l76.11" class="difflineminus">-const sleep = 500;</span>
<a href="#l76.12"></a><span id="l76.12" class="difflineplus">+var sleep = 500;</span>
<a href="#l76.13"></a><span id="l76.13"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l76.14"></a><span id="l76.14"> var hour = 8;</span>
<a href="#l76.15"></a><span id="l76.15"> </span>
<a href="#l76.16"></a><span id="l76.16"> var setupModule = function(module) {</span>
<a href="#l76.17"></a><span id="l76.17">   controller = mozmill.getMail3PaneController();</span>
<a href="#l76.18"></a><span id="l76.18">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l76.19"></a><span id="l76.19"> }</span>
<a href="#l76.20"></a><span id="l76.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l77.1"></a><span id="l77.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js</span>
<a href="#l77.2"></a><span id="l77.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js</span>
<a href="#l77.3"></a><span id="l77.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l77.4"></a><span id="l77.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l77.5"></a><span id="l77.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l77.6"></a><span id="l77.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l77.7"></a><span id="l77.7"> </span>
<a href="#l77.8"></a><span id="l77.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l77.9"></a><span id="l77.9"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l77.10"></a><span id="l77.10"> var utils = require(&quot;../shared-modules/utils&quot;);</span>
<a href="#l77.11"></a><span id="l77.11"> </span>
<a href="#l77.12"></a><span id="l77.12" class="difflineminus">-const sleep = 500;</span>
<a href="#l77.13"></a><span id="l77.13" class="difflineplus">+var sleep = 500;</span>
<a href="#l77.14"></a><span id="l77.14"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l77.15"></a><span id="l77.15"> var hour = 8;</span>
<a href="#l77.16"></a><span id="l77.16"> var eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l77.17"></a><span id="l77.17"> </span>
<a href="#l77.18"></a><span id="l77.18"> var setupModule = function(module) {</span>
<a href="#l77.19"></a><span id="l77.19">   controller = mozmill.getMail3PaneController();</span>
<a href="#l77.20"></a><span id="l77.20">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l77.21"></a><span id="l77.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l78.1"></a><span id="l78.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js</span>
<a href="#l78.2"></a><span id="l78.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js</span>
<a href="#l78.3"></a><span id="l78.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l78.4"></a><span id="l78.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l78.5"></a><span id="l78.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l78.6"></a><span id="l78.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l78.7"></a><span id="l78.7">  </span>
<a href="#l78.8"></a><span id="l78.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l78.9"></a><span id="l78.9"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l78.10"></a><span id="l78.10"> var utils = require(&quot;../shared-modules/utils&quot;);</span>
<a href="#l78.11"></a><span id="l78.11"> </span>
<a href="#l78.12"></a><span id="l78.12" class="difflineminus">-const sleep = 500;</span>
<a href="#l78.13"></a><span id="l78.13" class="difflineplus">+var sleep = 500;</span>
<a href="#l78.14"></a><span id="l78.14"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l78.15"></a><span id="l78.15"> var endDate = new Date(2009, 0, 26); // last Monday in month</span>
<a href="#l78.16"></a><span id="l78.16"> </span>
<a href="#l78.17"></a><span id="l78.17"> var hour = 8;</span>
<a href="#l78.18"></a><span id="l78.18"> var eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l78.19"></a><span id="l78.19"> </span>
<a href="#l78.20"></a><span id="l78.20"> var setupModule = function(module) {</span>
<a href="#l78.21"></a><span id="l78.21">   controller = mozmill.getMail3PaneController();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l79.1"></a><span id="l79.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testWeeklyWithExceptionRecurrence.js</span>
<a href="#l79.2"></a><span id="l79.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testWeeklyWithExceptionRecurrence.js</span>
<a href="#l79.3"></a><span id="l79.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l79.4"></a><span id="l79.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l79.5"></a><span id="l79.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l79.6"></a><span id="l79.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l79.7"></a><span id="l79.7"> </span>
<a href="#l79.8"></a><span id="l79.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l79.9"></a><span id="l79.9"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l79.10"></a><span id="l79.10"> var utils = require(&quot;../shared-modules/utils&quot;);</span>
<a href="#l79.11"></a><span id="l79.11"> </span>
<a href="#l79.12"></a><span id="l79.12" class="difflineminus">-const sleep = 500;</span>
<a href="#l79.13"></a><span id="l79.13" class="difflineplus">+var sleep = 500;</span>
<a href="#l79.14"></a><span id="l79.14"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l79.15"></a><span id="l79.15"> var hour = 8;</span>
<a href="#l79.16"></a><span id="l79.16"> var startDate = new Date(2009, 0, 6);</span>
<a href="#l79.17"></a><span id="l79.17"> var eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l79.18"></a><span id="l79.18"> </span>
<a href="#l79.19"></a><span id="l79.19"> var setupModule = function(module) {</span>
<a href="#l79.20"></a><span id="l79.20">   controller = mozmill.getMail3PaneController();</span>
<a href="#l79.21"></a><span id="l79.21">   calUtils.createCalendar(controller, calendar);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l80.1"></a><span id="l80.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js</span>
<a href="#l80.2"></a><span id="l80.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js</span>
<a href="#l80.3"></a><span id="l80.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l80.4"></a><span id="l80.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l80.5"></a><span id="l80.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l80.6"></a><span id="l80.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l80.7"></a><span id="l80.7"> </span>
<a href="#l80.8"></a><span id="l80.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l80.9"></a><span id="l80.9"> </span>
<a href="#l80.10"></a><span id="l80.10" class="difflineminus">-const sleep = 500;</span>
<a href="#l80.11"></a><span id="l80.11" class="difflineplus">+var sleep = 500;</span>
<a href="#l80.12"></a><span id="l80.12"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l80.13"></a><span id="l80.13"> var startYear = 1950;</span>
<a href="#l80.14"></a><span id="l80.14"> var epoch = 1970;</span>
<a href="#l80.15"></a><span id="l80.15"> </span>
<a href="#l80.16"></a><span id="l80.16"> var setupModule = function(module) {</span>
<a href="#l80.17"></a><span id="l80.17">   controller = mozmill.getMail3PaneController();</span>
<a href="#l80.18"></a><span id="l80.18">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l80.19"></a><span id="l80.19"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l81.1"></a><span id="l81.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js</span>
<a href="#l81.2"></a><span id="l81.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js</span>
<a href="#l81.3"></a><span id="l81.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l81.4"></a><span id="l81.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l81.5"></a><span id="l81.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l81.6"></a><span id="l81.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l81.7"></a><span id="l81.7">  </span>
<a href="#l81.8"></a><span id="l81.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l81.9"></a><span id="l81.9"> </span>
<a href="#l81.10"></a><span id="l81.10" class="difflineminus">-const sleep = 500;</span>
<a href="#l81.11"></a><span id="l81.11" class="difflineplus">+var sleep = 500;</span>
<a href="#l81.12"></a><span id="l81.12"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l81.13"></a><span id="l81.13"> var hour = 8;</span>
<a href="#l81.14"></a><span id="l81.14"> </span>
<a href="#l81.15"></a><span id="l81.15"> var setupModule = function(module) {</span>
<a href="#l81.16"></a><span id="l81.16">   controller = mozmill.getMail3PaneController();</span>
<a href="#l81.17"></a><span id="l81.17">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l81.18"></a><span id="l81.18"> }</span>
<a href="#l81.19"></a><span id="l81.19"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l82.1"></a><span id="l82.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js</span>
<a href="#l82.2"></a><span id="l82.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js</span>
<a href="#l82.3"></a><span id="l82.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l82.4"></a><span id="l82.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l82.5"></a><span id="l82.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l82.6"></a><span id="l82.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l82.7"></a><span id="l82.7"> </span>
<a href="#l82.8"></a><span id="l82.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l82.9"></a><span id="l82.9"> </span>
<a href="#l82.10"></a><span id="l82.10" class="difflineminus">-const sleep = 500;</span>
<a href="#l82.11"></a><span id="l82.11" class="difflineplus">+var sleep = 500;</span>
<a href="#l82.12"></a><span id="l82.12"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l82.13"></a><span id="l82.13"> var hour = 8;</span>
<a href="#l82.14"></a><span id="l82.14"> </span>
<a href="#l82.15"></a><span id="l82.15"> var setupModule = function(module) {</span>
<a href="#l82.16"></a><span id="l82.16">   controller = mozmill.getMail3PaneController();</span>
<a href="#l82.17"></a><span id="l82.17">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l82.18"></a><span id="l82.18"> }</span>
<a href="#l82.19"></a><span id="l82.19"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l83.1"></a><span id="l83.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</span>
<a href="#l83.2"></a><span id="l83.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</span>
<a href="#l83.3"></a><span id="l83.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l83.4"></a><span id="l83.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l83.5"></a><span id="l83.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l83.6"></a><span id="l83.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l83.7"></a><span id="l83.7">  </span>
<a href="#l83.8"></a><span id="l83.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l83.9"></a><span id="l83.9"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l83.10"></a><span id="l83.10"> </span>
<a href="#l83.11"></a><span id="l83.11" class="difflineminus">-const sleep = 500;</span>
<a href="#l83.12"></a><span id="l83.12" class="difflineplus">+var sleep = 500;</span>
<a href="#l83.13"></a><span id="l83.13"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l83.14"></a><span id="l83.14"> var hour = 8;</span>
<a href="#l83.15"></a><span id="l83.15"> </span>
<a href="#l83.16"></a><span id="l83.16"> var setupModule = function(module) {</span>
<a href="#l83.17"></a><span id="l83.17">   controller = mozmill.getMail3PaneController();</span>
<a href="#l83.18"></a><span id="l83.18">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l83.19"></a><span id="l83.19"> }</span>
<a href="#l83.20"></a><span id="l83.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l84.1"></a><span id="l84.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js</span>
<a href="#l84.2"></a><span id="l84.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js</span>
<a href="#l84.3"></a><span id="l84.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l84.4"></a><span id="l84.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l84.5"></a><span id="l84.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l84.6"></a><span id="l84.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l84.7"></a><span id="l84.7"> </span>
<a href="#l84.8"></a><span id="l84.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l84.9"></a><span id="l84.9"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l84.10"></a><span id="l84.10"> var utils = require(&quot;../shared-modules/utils&quot;);</span>
<a href="#l84.11"></a><span id="l84.11"> </span>
<a href="#l84.12"></a><span id="l84.12" class="difflineminus">-const sleep = 500;</span>
<a href="#l84.13"></a><span id="l84.13" class="difflineplus">+var sleep = 500;</span>
<a href="#l84.14"></a><span id="l84.14"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l84.15"></a><span id="l84.15"> var hour = 8;</span>
<a href="#l84.16"></a><span id="l84.16"> var eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l84.17"></a><span id="l84.17"> </span>
<a href="#l84.18"></a><span id="l84.18"> var setupModule = function(module) {</span>
<a href="#l84.19"></a><span id="l84.19">   controller = mozmill.getMail3PaneController();</span>
<a href="#l84.20"></a><span id="l84.20">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l84.21"></a><span id="l84.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l85.1"></a><span id="l85.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js</span>
<a href="#l85.2"></a><span id="l85.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js</span>
<a href="#l85.3"></a><span id="l85.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l85.4"></a><span id="l85.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l85.5"></a><span id="l85.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l85.6"></a><span id="l85.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l85.7"></a><span id="l85.7">  </span>
<a href="#l85.8"></a><span id="l85.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l85.9"></a><span id="l85.9"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l85.10"></a><span id="l85.10"> var utils = require(&quot;../shared-modules/utils&quot;);</span>
<a href="#l85.11"></a><span id="l85.11"> </span>
<a href="#l85.12"></a><span id="l85.12" class="difflineminus">-const sleep = 500;</span>
<a href="#l85.13"></a><span id="l85.13" class="difflineplus">+var sleep = 500;</span>
<a href="#l85.14"></a><span id="l85.14"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l85.15"></a><span id="l85.15"> var endDate = new Date(2009, 0, 26); // last Monday in month</span>
<a href="#l85.16"></a><span id="l85.16"> var hour = 8;</span>
<a href="#l85.17"></a><span id="l85.17"> var eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l85.18"></a><span id="l85.18"> </span>
<a href="#l85.19"></a><span id="l85.19"> var setupModule = function(module) {</span>
<a href="#l85.20"></a><span id="l85.20">   controller = mozmill.getMail3PaneController();</span>
<a href="#l85.21"></a><span id="l85.21">   calUtils.createCalendar(controller, calendar);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l86.1"></a><span id="l86.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js</span>
<a href="#l86.2"></a><span id="l86.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js</span>
<a href="#l86.3"></a><span id="l86.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l86.4"></a><span id="l86.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l86.5"></a><span id="l86.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l86.6"></a><span id="l86.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l86.7"></a><span id="l86.7"> </span>
<a href="#l86.8"></a><span id="l86.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l86.9"></a><span id="l86.9"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l86.10"></a><span id="l86.10"> var utils = require(&quot;../shared-modules/utils&quot;);</span>
<a href="#l86.11"></a><span id="l86.11"> </span>
<a href="#l86.12"></a><span id="l86.12" class="difflineminus">-const sleep = 500;</span>
<a href="#l86.13"></a><span id="l86.13" class="difflineplus">+var sleep = 500;</span>
<a href="#l86.14"></a><span id="l86.14"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l86.15"></a><span id="l86.15"> var hour = 8;</span>
<a href="#l86.16"></a><span id="l86.16"> var startDate = new Date(2009, 0, 6);</span>
<a href="#l86.17"></a><span id="l86.17"> var eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l86.18"></a><span id="l86.18"> </span>
<a href="#l86.19"></a><span id="l86.19"> var setupModule = function(module) {</span>
<a href="#l86.20"></a><span id="l86.20">   controller = mozmill.getMail3PaneController();</span>
<a href="#l86.21"></a><span id="l86.21">   calUtils.createCalendar(controller, calendar);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l87.1"></a><span id="l87.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/calendar-utils.js</span>
<a href="#l87.2"></a><span id="l87.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/calendar-utils.js</span>
<a href="#l87.3"></a><span id="l87.3" class="difflineat">@@ -5,20 +5,20 @@</span>
<a href="#l87.4"></a><span id="l87.4"> var MODULE_NAME = &quot;calendar-utils&quot;;</span>
<a href="#l87.5"></a><span id="l87.5"> var MODULE_REQUIRES = [&quot;window-helpers&quot;];</span>
<a href="#l87.6"></a><span id="l87.6"> </span>
<a href="#l87.7"></a><span id="l87.7"> var os = {};      Components.utils.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l87.8"></a><span id="l87.8"> var frame = {};      Components.utils.import('resource://mozmill/modules/frame.js', frame);</span>
<a href="#l87.9"></a><span id="l87.9"> </span>
<a href="#l87.10"></a><span id="l87.10"> var modalDialog = require(&quot;test-window-helpers&quot;);</span>
<a href="#l87.11"></a><span id="l87.11"> </span>
<a href="#l87.12"></a><span id="l87.12" class="difflineminus">-const sleep = 500;</span>
<a href="#l87.13"></a><span id="l87.13" class="difflineminus">-const EVENT_BOX = 0; // Use when you need an event box</span>
<a href="#l87.14"></a><span id="l87.14" class="difflineminus">-const CANVAS_BOX = 1; // Use when you need a calendar canvas box</span>
<a href="#l87.15"></a><span id="l87.15" class="difflineminus">-const ALLDAY = 2; // Use when you need an allday canvas or event box</span>
<a href="#l87.16"></a><span id="l87.16" class="difflineplus">+var sleep = 500;</span>
<a href="#l87.17"></a><span id="l87.17" class="difflineplus">+var EVENT_BOX = 0; // Use when you need an event box</span>
<a href="#l87.18"></a><span id="l87.18" class="difflineplus">+var CANVAS_BOX = 1; // Use when you need a calendar canvas box</span>
<a href="#l87.19"></a><span id="l87.19" class="difflineplus">+var ALLDAY = 2; // Use when you need an allday canvas or event box</span>
<a href="#l87.20"></a><span id="l87.20"> </span>
<a href="#l87.21"></a><span id="l87.21"> /**</span>
<a href="#l87.22"></a><span id="l87.22">  *  Accept to send notification email with event to attendees</span>
<a href="#l87.23"></a><span id="l87.23">  *  @param controller - Mozmill window controller</span>
<a href="#l87.24"></a><span id="l87.24">  */</span>
<a href="#l87.25"></a><span id="l87.25"> function acceptSendingNotificationMail(controller) {</span>
<a href="#l87.26"></a><span id="l87.26">   modalDialog.plan_for_modal_dialog(&quot;commonDialog&quot;, function(dialog) {</span>
<a href="#l87.27"></a><span id="l87.27">       dialog.waitThenClick(new elementslib.Lookup(dialog.window.document, '/id(&quot;commonDialog&quot;)/'</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l88.1"></a><span id="l88.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/timezone-utils.js</span>
<a href="#l88.2"></a><span id="l88.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/timezone-utils.js</span>
<a href="#l88.3"></a><span id="l88.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l88.4"></a><span id="l88.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l88.5"></a><span id="l88.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l88.6"></a><span id="l88.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l88.7"></a><span id="l88.7">  </span>
<a href="#l88.8"></a><span id="l88.8"> var calUtils = require(&quot;calendar-utils&quot;);</span>
<a href="#l88.9"></a><span id="l88.9"> var prefs = require(&quot;prefs&quot;);</span>
<a href="#l88.10"></a><span id="l88.10"> </span>
<a href="#l88.11"></a><span id="l88.11" class="difflineminus">-const sleep = 500;</span>
<a href="#l88.12"></a><span id="l88.12" class="difflineplus">+var sleep = 500;</span>
<a href="#l88.13"></a><span id="l88.13"> </span>
<a href="#l88.14"></a><span id="l88.14"> function switchAppTimezone(timezone) {</span>
<a href="#l88.15"></a><span id="l88.15">   // change directly as Mac has different Lookup &amp; XPath than Windows &amp; Linux, bug 536605</span>
<a href="#l88.16"></a><span id="l88.16">   prefs.preferences.setPref(&quot;calendar.timezone.local&quot;, timezone);</span>
<a href="#l88.17"></a><span id="l88.17"> }</span>
<a href="#l88.18"></a><span id="l88.18"> </span>
<a href="#l88.19"></a><span id="l88.19"> function verify(controller, dates, timezones, times) {</span>
<a href="#l88.20"></a><span id="l88.20">   let dayView = '/id(&quot;messengerWindow&quot;)/id(&quot;tabmail-container&quot;)/id(&quot;tabmail&quot;)/'</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l89.1"></a><span id="l89.1" class="difflineminus">--- a/calendar/test/mozmill/testBasicFunctionality.js</span>
<a href="#l89.2"></a><span id="l89.2" class="difflineplus">+++ b/calendar/test/mozmill/testBasicFunctionality.js</span>
<a href="#l89.3"></a><span id="l89.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l89.4"></a><span id="l89.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l89.5"></a><span id="l89.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l89.6"></a><span id="l89.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l89.7"></a><span id="l89.7"> </span>
<a href="#l89.8"></a><span id="l89.8" class="difflineminus">-const MODULE_NAME = &quot;testBasicFunctionality&quot;;</span>
<a href="#l89.9"></a><span id="l89.9" class="difflineminus">-const RELATIVE_ROOT = &quot;./shared-modules&quot;;</span>
<a href="#l89.10"></a><span id="l89.10" class="difflineminus">-const MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;window-helpers&quot;];</span>
<a href="#l89.11"></a><span id="l89.11" class="difflineplus">+var MODULE_NAME = &quot;testBasicFunctionality&quot;;</span>
<a href="#l89.12"></a><span id="l89.12" class="difflineplus">+var RELATIVE_ROOT = &quot;./shared-modules&quot;;</span>
<a href="#l89.13"></a><span id="l89.13" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;window-helpers&quot;];</span>
<a href="#l89.14"></a><span id="l89.14"> </span>
<a href="#l89.15"></a><span id="l89.15"> var calUtils = require(&quot;shared-modules/calendar-utils&quot;);</span>
<a href="#l89.16"></a><span id="l89.16" class="difflineminus">-const TIMEOUT_MODAL_DIALOG = 30000;</span>
<a href="#l89.17"></a><span id="l89.17" class="difflineplus">+var TIMEOUT_MODAL_DIALOG = 30000;</span>
<a href="#l89.18"></a><span id="l89.18"> </span>
<a href="#l89.19"></a><span id="l89.19"> var modalDialog;</span>
<a href="#l89.20"></a><span id="l89.20"> var setupModule = function(module) {</span>
<a href="#l89.21"></a><span id="l89.21">   controller = mozmill.getMail3PaneController();</span>
<a href="#l89.22"></a><span id="l89.22">   modalDialog = collector.getModule('window-helpers');</span>
<a href="#l89.23"></a><span id="l89.23"> }</span>
<a href="#l89.24"></a><span id="l89.24"> </span>
<a href="#l89.25"></a><span id="l89.25"> var testSmokeTest = function () {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l90.1"></a><span id="l90.1" class="difflineminus">--- a/calendar/test/mozmill/testLocalICS.js</span>
<a href="#l90.2"></a><span id="l90.2" class="difflineplus">+++ b/calendar/test/mozmill/testLocalICS.js</span>
<a href="#l90.3"></a><span id="l90.3" class="difflineat">@@ -1,23 +1,23 @@</span>
<a href="#l90.4"></a><span id="l90.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l90.5"></a><span id="l90.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l90.6"></a><span id="l90.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l90.7"></a><span id="l90.7"> </span>
<a href="#l90.8"></a><span id="l90.8" class="difflineminus">-const MODULE_NAME = &quot;testLocalICS&quot;;</span>
<a href="#l90.9"></a><span id="l90.9" class="difflineminus">-const RELATIVE_ROOT = &quot;./shared-modules&quot;;</span>
<a href="#l90.10"></a><span id="l90.10" class="difflineminus">-const MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;window-helpers&quot;];</span>
<a href="#l90.11"></a><span id="l90.11" class="difflineplus">+var MODULE_NAME = &quot;testLocalICS&quot;;</span>
<a href="#l90.12"></a><span id="l90.12" class="difflineplus">+var RELATIVE_ROOT = &quot;./shared-modules&quot;;</span>
<a href="#l90.13"></a><span id="l90.13" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;window-helpers&quot;];</span>
<a href="#l90.14"></a><span id="l90.14"> </span>
<a href="#l90.15"></a><span id="l90.15"> var calUtils = require(&quot;./shared-modules/calendar-utils&quot;);</span>
<a href="#l90.16"></a><span id="l90.16"> var modalDialog; // Initialized in setupModule</span>
<a href="#l90.17"></a><span id="l90.17"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l90.18"></a><span id="l90.18"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l90.19"></a><span id="l90.19"> </span>
<a href="#l90.20"></a><span id="l90.20" class="difflineminus">-const sleep = 500;</span>
<a href="#l90.21"></a><span id="l90.21" class="difflineminus">-const TIMEOUT_MODAL_DIALOG = 30000;</span>
<a href="#l90.22"></a><span id="l90.22" class="difflineplus">+var sleep = 500;</span>
<a href="#l90.23"></a><span id="l90.23" class="difflineplus">+var TIMEOUT_MODAL_DIALOG = 30000;</span>
<a href="#l90.24"></a><span id="l90.24"> var hour = 8;</span>
<a href="#l90.25"></a><span id="l90.25"> var calendar;</span>
<a href="#l90.26"></a><span id="l90.26"> var uri;</span>
<a href="#l90.27"></a><span id="l90.27"> var file;</span>
<a href="#l90.28"></a><span id="l90.28"> var title;</span>
<a href="#l90.29"></a><span id="l90.29"> </span>
<a href="#l90.30"></a><span id="l90.30"> var setupModule = function(module) {</span>
<a href="#l90.31"></a><span id="l90.31">   controller = mozmill.getMail3PaneController();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l91.1"></a><span id="l91.1" class="difflineminus">--- a/calendar/test/mozmill/testTodayPane.js</span>
<a href="#l91.2"></a><span id="l91.2" class="difflineplus">+++ b/calendar/test/mozmill/testTodayPane.js</span>
<a href="#l91.3"></a><span id="l91.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l91.4"></a><span id="l91.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l91.5"></a><span id="l91.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l91.6"></a><span id="l91.6"> </span>
<a href="#l91.7"></a><span id="l91.7"> </span>
<a href="#l91.8"></a><span id="l91.8"> var MODULE_NAME = &quot;testTodayPane&quot;;</span>
<a href="#l91.9"></a><span id="l91.9"> var RELATIVE_ROOT = &quot;./shared-modules&quot;;</span>
<a href="#l91.10"></a><span id="l91.10"> var MODULE_REQUIRES = [&quot;calendar-utils&quot;];</span>
<a href="#l91.11"></a><span id="l91.11"> </span>
<a href="#l91.12"></a><span id="l91.12" class="difflineminus">-const WAIT_FOR_WINDOW_TIMEOUT = 500;</span>
<a href="#l91.13"></a><span id="l91.13" class="difflineminus">-const MOZMILL_CALENDAR = &quot;Mozmill&quot;;</span>
<a href="#l91.14"></a><span id="l91.14" class="difflineplus">+var WAIT_FOR_WINDOW_TIMEOUT = 500;</span>
<a href="#l91.15"></a><span id="l91.15" class="difflineplus">+var MOZMILL_CALENDAR = &quot;Mozmill&quot;;</span>
<a href="#l91.16"></a><span id="l91.16"> </span>
<a href="#l91.17"></a><span id="l91.17"> var calUtils = require(&quot;./shared-modules/calendar-utils&quot;);</span>
<a href="#l91.18"></a><span id="l91.18"> </span>
<a href="#l91.19"></a><span id="l91.19"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l91.20"></a><span id="l91.20"> </span>
<a href="#l91.21"></a><span id="l91.21"> var setupModule = function(module) {</span>
<a href="#l91.22"></a><span id="l91.22">   controller = mozmill.getMail3PaneController();</span>
<a href="#l91.23"></a><span id="l91.23">   calUtils.createCalendar(controller, MOZMILL_CALENDAR);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l92.1"></a><span id="l92.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test10.js</span>
<a href="#l92.2"></a><span id="l92.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test10.js</span>
<a href="#l92.3"></a><span id="l92.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l92.4"></a><span id="l92.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l92.5"></a><span id="l92.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l92.6"></a><span id="l92.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l92.7"></a><span id="l92.7"> </span>
<a href="#l92.8"></a><span id="l92.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l92.9"></a><span id="l92.9"> var prefs = require(&quot;../shared-modules/prefs&quot;);</span>
<a href="#l92.10"></a><span id="l92.10"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l92.11"></a><span id="l92.11"> </span>
<a href="#l92.12"></a><span id="l92.12" class="difflineminus">-const sleep = 500;</span>
<a href="#l92.13"></a><span id="l92.13" class="difflineplus">+var sleep = 500;</span>
<a href="#l92.14"></a><span id="l92.14"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l92.15"></a><span id="l92.15"> var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l92.16"></a><span id="l92.16">              [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l92.17"></a><span id="l92.17"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l92.18"></a><span id="l92.18">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l92.19"></a><span id="l92.19"> /* rows - dates</span>
<a href="#l92.20"></a><span id="l92.20">    columns - correct time for each event */</span>
<a href="#l92.21"></a><span id="l92.21"> var times = [[[18, 30], [19, 30], [20, 30], [21, 30], [22, 30], [23, 30], [0, 30, +1], [1, 30, +1]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l93.1"></a><span id="l93.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test2.js</span>
<a href="#l93.2"></a><span id="l93.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test2.js</span>
<a href="#l93.3"></a><span id="l93.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l93.4"></a><span id="l93.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l93.5"></a><span id="l93.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l93.6"></a><span id="l93.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l93.7"></a><span id="l93.7"> </span>
<a href="#l93.8"></a><span id="l93.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l93.9"></a><span id="l93.9"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l93.10"></a><span id="l93.10"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l93.11"></a><span id="l93.11"> </span>
<a href="#l93.12"></a><span id="l93.12" class="difflineminus">-const sleep = 500;</span>
<a href="#l93.13"></a><span id="l93.13" class="difflineplus">+var sleep = 500;</span>
<a href="#l93.14"></a><span id="l93.14"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l93.15"></a><span id="l93.15"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l93.16"></a><span id="l93.16">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l93.17"></a><span id="l93.17"> var times = [[4, 30], [4, 30], [3, 0], [3, 0], [9, 0], [14, 0], [19, 45], [1, 30]];</span>
<a href="#l93.18"></a><span id="l93.18"> var gTimezone;</span>
<a href="#l93.19"></a><span id="l93.19"> </span>
<a href="#l93.20"></a><span id="l93.20"> var setupModule = function(module) {</span>
<a href="#l93.21"></a><span id="l93.21">   controller = mozmill.getMail3PaneController();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l94.1"></a><span id="l94.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test3.js</span>
<a href="#l94.2"></a><span id="l94.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test3.js</span>
<a href="#l94.3"></a><span id="l94.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l94.4"></a><span id="l94.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l94.5"></a><span id="l94.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l94.6"></a><span id="l94.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l94.7"></a><span id="l94.7"> </span>
<a href="#l94.8"></a><span id="l94.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l94.9"></a><span id="l94.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l94.10"></a><span id="l94.10"> </span>
<a href="#l94.11"></a><span id="l94.11" class="difflineminus">-const sleep = 500;</span>
<a href="#l94.12"></a><span id="l94.12" class="difflineplus">+var sleep = 500;</span>
<a href="#l94.13"></a><span id="l94.13"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l94.14"></a><span id="l94.14"> var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l94.15"></a><span id="l94.15">              [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l94.16"></a><span id="l94.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l94.17"></a><span id="l94.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l94.18"></a><span id="l94.18"> /* rows - dates</span>
<a href="#l94.19"></a><span id="l94.19">    columns - correct time for each event */</span>
<a href="#l94.20"></a><span id="l94.20"> var times = [[[4, 30], [5, 30], [6, 30], [7, 30],  [8, 30],  [9, 30], [10, 30], [11, 30]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l95.1"></a><span id="l95.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test4.js</span>
<a href="#l95.2"></a><span id="l95.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test4.js</span>
<a href="#l95.3"></a><span id="l95.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l95.4"></a><span id="l95.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l95.5"></a><span id="l95.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l95.6"></a><span id="l95.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l95.7"></a><span id="l95.7"> </span>
<a href="#l95.8"></a><span id="l95.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l95.9"></a><span id="l95.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l95.10"></a><span id="l95.10"> </span>
<a href="#l95.11"></a><span id="l95.11" class="difflineminus">-const sleep = 500;</span>
<a href="#l95.12"></a><span id="l95.12" class="difflineplus">+var sleep = 500;</span>
<a href="#l95.13"></a><span id="l95.13"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l95.14"></a><span id="l95.14"> var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l95.15"></a><span id="l95.15">              [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l95.16"></a><span id="l95.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l95.17"></a><span id="l95.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l95.18"></a><span id="l95.18"> /* rows - dates</span>
<a href="#l95.19"></a><span id="l95.19">    columns - correct time for each event */</span>
<a href="#l95.20"></a><span id="l95.20"> var times = [[[3, 30], [4, 30], [5, 30], [6, 30], [7, 30], [8, 30], [9, 30], [10, 30]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l96.1"></a><span id="l96.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test5.js</span>
<a href="#l96.2"></a><span id="l96.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test5.js</span>
<a href="#l96.3"></a><span id="l96.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l96.4"></a><span id="l96.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l96.5"></a><span id="l96.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l96.6"></a><span id="l96.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l96.7"></a><span id="l96.7"> </span>
<a href="#l96.8"></a><span id="l96.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l96.9"></a><span id="l96.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l96.10"></a><span id="l96.10"> </span>
<a href="#l96.11"></a><span id="l96.11" class="difflineminus">-const sleep = 500;</span>
<a href="#l96.12"></a><span id="l96.12" class="difflineplus">+var sleep = 500;</span>
<a href="#l96.13"></a><span id="l96.13"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l96.14"></a><span id="l96.14"> var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l96.15"></a><span id="l96.15">              [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l96.16"></a><span id="l96.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l96.17"></a><span id="l96.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l96.18"></a><span id="l96.18"> /* rows - dates</span>
<a href="#l96.19"></a><span id="l96.19">    columns - correct time for each event */</span>
<a href="#l96.20"></a><span id="l96.20"> var times = [[[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l97.1"></a><span id="l97.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test6.js</span>
<a href="#l97.2"></a><span id="l97.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test6.js</span>
<a href="#l97.3"></a><span id="l97.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l97.4"></a><span id="l97.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l97.5"></a><span id="l97.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l97.6"></a><span id="l97.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l97.7"></a><span id="l97.7"> </span>
<a href="#l97.8"></a><span id="l97.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l97.9"></a><span id="l97.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l97.10"></a><span id="l97.10"> </span>
<a href="#l97.11"></a><span id="l97.11" class="difflineminus">-const sleep = 500;</span>
<a href="#l97.12"></a><span id="l97.12" class="difflineplus">+var sleep = 500;</span>
<a href="#l97.13"></a><span id="l97.13"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l97.14"></a><span id="l97.14"> var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l97.15"></a><span id="l97.15">              [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l97.16"></a><span id="l97.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l97.17"></a><span id="l97.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l97.18"></a><span id="l97.18"> /* rows - dates</span>
<a href="#l97.19"></a><span id="l97.19">    columns - correct time for each event */</span>
<a href="#l97.20"></a><span id="l97.20"> var times = [[[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l98.1"></a><span id="l98.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test7.js</span>
<a href="#l98.2"></a><span id="l98.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test7.js</span>
<a href="#l98.3"></a><span id="l98.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l98.4"></a><span id="l98.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l98.5"></a><span id="l98.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l98.6"></a><span id="l98.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l98.7"></a><span id="l98.7"> </span>
<a href="#l98.8"></a><span id="l98.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l98.9"></a><span id="l98.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l98.10"></a><span id="l98.10"> </span>
<a href="#l98.11"></a><span id="l98.11" class="difflineminus">-const sleep = 500;</span>
<a href="#l98.12"></a><span id="l98.12" class="difflineplus">+var sleep = 500;</span>
<a href="#l98.13"></a><span id="l98.13"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l98.14"></a><span id="l98.14"> var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l98.15"></a><span id="l98.15">              [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l98.16"></a><span id="l98.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l98.17"></a><span id="l98.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l98.18"></a><span id="l98.18"> /* rows - dates</span>
<a href="#l98.19"></a><span id="l98.19">    columns - correct time for each event */</span>
<a href="#l98.20"></a><span id="l98.20"> var times = [[[5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l99.1"></a><span id="l99.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test8.js</span>
<a href="#l99.2"></a><span id="l99.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test8.js</span>
<a href="#l99.3"></a><span id="l99.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l99.4"></a><span id="l99.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l99.5"></a><span id="l99.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l99.6"></a><span id="l99.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l99.7"></a><span id="l99.7"> </span>
<a href="#l99.8"></a><span id="l99.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l99.9"></a><span id="l99.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l99.10"></a><span id="l99.10"> </span>
<a href="#l99.11"></a><span id="l99.11" class="difflineminus">-const sleep = 500;</span>
<a href="#l99.12"></a><span id="l99.12" class="difflineplus">+var sleep = 500;</span>
<a href="#l99.13"></a><span id="l99.13"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l99.14"></a><span id="l99.14"> var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l99.15"></a><span id="l99.15">              [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l99.16"></a><span id="l99.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l99.17"></a><span id="l99.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l99.18"></a><span id="l99.18"> /* rows - dates</span>
<a href="#l99.19"></a><span id="l99.19">    columns - correct time for each event */</span>
<a href="#l99.20"></a><span id="l99.20"> var times = [[[9, 0], [10, 0], [11, 0], [12, 0], [13, 0], [14, 0], [15, 0], [16, 0]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l100.1"></a><span id="l100.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test9.js</span>
<a href="#l100.2"></a><span id="l100.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test9.js</span>
<a href="#l100.3"></a><span id="l100.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l100.4"></a><span id="l100.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l100.5"></a><span id="l100.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l100.6"></a><span id="l100.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l100.7"></a><span id="l100.7"> </span>
<a href="#l100.8"></a><span id="l100.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l100.9"></a><span id="l100.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l100.10"></a><span id="l100.10"> </span>
<a href="#l100.11"></a><span id="l100.11" class="difflineminus">-const sleep = 500;</span>
<a href="#l100.12"></a><span id="l100.12" class="difflineplus">+var sleep = 500;</span>
<a href="#l100.13"></a><span id="l100.13"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l100.14"></a><span id="l100.14"> var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l100.15"></a><span id="l100.15">              [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l100.16"></a><span id="l100.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l100.17"></a><span id="l100.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l100.18"></a><span id="l100.18"> /* rows - dates</span>
<a href="#l100.19"></a><span id="l100.19">    columns - correct time for each event */</span>
<a href="#l100.20"></a><span id="l100.20"> var times = [[[13, 45], [14, 45], [15, 45], [16, 45], [17, 45], [18, 45], [19, 45], [20, 45]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l101.1"></a><span id="l101.1" class="difflineminus">--- a/calendar/test/unit/head_consts.js</span>
<a href="#l101.2"></a><span id="l101.2" class="difflineplus">+++ b/calendar/test/unit/head_consts.js</span>
<a href="#l101.3"></a><span id="l101.3" class="difflineat">@@ -3,19 +3,19 @@</span>
<a href="#l101.4"></a><span id="l101.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l101.5"></a><span id="l101.5"> </span>
<a href="#l101.6"></a><span id="l101.6"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l101.7"></a><span id="l101.7"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l101.8"></a><span id="l101.8"> </span>
<a href="#l101.9"></a><span id="l101.9"> Components.utils.import(&quot;resource://testing-common/AppInfo.jsm&quot;);</span>
<a href="#l101.10"></a><span id="l101.10"> updateAppInfo();</span>
<a href="#l101.11"></a><span id="l101.11"> </span>
<a href="#l101.12"></a><span id="l101.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l101.13"></a><span id="l101.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l101.14"></a><span id="l101.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l101.15"></a><span id="l101.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l101.16"></a><span id="l101.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l101.17"></a><span id="l101.17" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l101.18"></a><span id="l101.18"> </span>
<a href="#l101.19"></a><span id="l101.19"> (function load_lightning_manifest() {</span>
<a href="#l101.20"></a><span id="l101.20">   let bindir = Services.dirsvc.get(&quot;CurProcD&quot;, Components.interfaces.nsIFile);</span>
<a href="#l101.21"></a><span id="l101.21">   bindir.append(&quot;extensions&quot;);</span>
<a href="#l101.22"></a><span id="l101.22">   bindir.append(&quot;{e2fda1a4-762b-4020-b5ad-a41df1933103}&quot;);</span>
<a href="#l101.23"></a><span id="l101.23">   bindir.append(&quot;chrome.manifest&quot;);</span>
<a href="#l101.24"></a><span id="l101.24">   dump(&quot;Loading&quot; + bindir.path + &quot;\n&quot;);</span>
<a href="#l101.25"></a><span id="l101.25">   Components.manager.autoRegister(bindir);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l102.1"></a><span id="l102.1" class="difflineminus">--- a/calendar/test/unit/test_alarmservice.js</span>
<a href="#l102.2"></a><span id="l102.2" class="difflineplus">+++ b/calendar/test/unit/test_alarmservice.js</span>
<a href="#l102.3"></a><span id="l102.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l102.4"></a><span id="l102.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l102.5"></a><span id="l102.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l102.6"></a><span id="l102.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l102.7"></a><span id="l102.7"> </span>
<a href="#l102.8"></a><span id="l102.8"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l102.9"></a><span id="l102.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l102.10"></a><span id="l102.10"> </span>
<a href="#l102.11"></a><span id="l102.11" class="difflineminus">-const EXPECT_NONE = 0;</span>
<a href="#l102.12"></a><span id="l102.12" class="difflineminus">-const EXPECT_FIRED = 1;</span>
<a href="#l102.13"></a><span id="l102.13" class="difflineminus">-const EXPECT_TIMER = 2;</span>
<a href="#l102.14"></a><span id="l102.14" class="difflineplus">+var EXPECT_NONE = 0;</span>
<a href="#l102.15"></a><span id="l102.15" class="difflineplus">+var EXPECT_FIRED = 1;</span>
<a href="#l102.16"></a><span id="l102.16" class="difflineplus">+var EXPECT_TIMER = 2;</span>
<a href="#l102.17"></a><span id="l102.17"> </span>
<a href="#l102.18"></a><span id="l102.18"> function do_check_xor(a, b) { return ok((a &amp;&amp; !b) || (!a &amp;&amp; b)); }</span>
<a href="#l102.19"></a><span id="l102.19"> </span>
<a href="#l102.20"></a><span id="l102.20"> var alarmObserver = {</span>
<a href="#l102.21"></a><span id="l102.21">     service: null,</span>
<a href="#l102.22"></a><span id="l102.22">     firedMap: {},</span>
<a href="#l102.23"></a><span id="l102.23">     expectedMap: {},</span>
<a href="#l102.24"></a><span id="l102.24">     pendingOps: {},</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l103.1"></a><span id="l103.1" class="difflineminus">--- a/calendar/test/unit/test_freebusy_service.js</span>
<a href="#l103.2"></a><span id="l103.2" class="difflineplus">+++ b/calendar/test/unit/test_freebusy_service.js</span>
<a href="#l103.3"></a><span id="l103.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l103.4"></a><span id="l103.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l103.5"></a><span id="l103.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l103.6"></a><span id="l103.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l103.7"></a><span id="l103.7"> </span>
<a href="#l103.8"></a><span id="l103.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l103.9"></a><span id="l103.9"> Components.utils.import(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;);</span>
<a href="#l103.10"></a><span id="l103.10"> </span>
<a href="#l103.11"></a><span id="l103.11" class="difflineminus">-const cIFI = Components.interfaces.calIFreeBusyInterval;</span>
<a href="#l103.12"></a><span id="l103.12" class="difflineplus">+var cIFI = Components.interfaces.calIFreeBusyInterval;</span>
<a href="#l103.13"></a><span id="l103.13"> var freebusy = Components.classes[&quot;@mozilla.org/calendar/freebusy-service;1&quot;]</span>
<a href="#l103.14"></a><span id="l103.14">                          .getService(Components.interfaces.calIFreeBusyService);</span>
<a href="#l103.15"></a><span id="l103.15"> </span>
<a href="#l103.16"></a><span id="l103.16"> function run_test() {</span>
<a href="#l103.17"></a><span id="l103.17">     test_found();</span>
<a href="#l103.18"></a><span id="l103.18">     test_failure();</span>
<a href="#l103.19"></a><span id="l103.19">     test_cancel();</span>
<a href="#l103.20"></a><span id="l103.20"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l104.1"></a><span id="l104.1" class="difflineminus">--- a/calendar/test/unit/test_ics.js</span>
<a href="#l104.2"></a><span id="l104.2" class="difflineplus">+++ b/calendar/test/unit/test_ics.js</span>
<a href="#l104.3"></a><span id="l104.3" class="difflineat">@@ -5,17 +5,17 @@</span>
<a href="#l104.4"></a><span id="l104.4"> function run_test() {</span>
<a href="#l104.5"></a><span id="l104.5">     test_folding();</span>
<a href="#l104.6"></a><span id="l104.6">     test_icalProps();</span>
<a href="#l104.7"></a><span id="l104.7">     test_roundtrip();</span>
<a href="#l104.8"></a><span id="l104.8">     test_duration();</span>
<a href="#l104.9"></a><span id="l104.9">     test_serialize();</span>
<a href="#l104.10"></a><span id="l104.10"> }</span>
<a href="#l104.11"></a><span id="l104.11"> </span>
<a href="#l104.12"></a><span id="l104.12" class="difflineminus">-const test_data = [</span>
<a href="#l104.13"></a><span id="l104.13" class="difflineplus">+var test_data = [</span>
<a href="#l104.14"></a><span id="l104.14">     {</span>
<a href="#l104.15"></a><span id="l104.15">       expectedDateProps: {</span>
<a href="#l104.16"></a><span id="l104.16">           month: 10,</span>
<a href="#l104.17"></a><span id="l104.17">           day: 25,</span>
<a href="#l104.18"></a><span id="l104.18">           year: 2004,</span>
<a href="#l104.19"></a><span id="l104.19">           isDate: true</span>
<a href="#l104.20"></a><span id="l104.20">       },</span>
<a href="#l104.21"></a><span id="l104.21">       expectedProps: {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l105.1"></a><span id="l105.1" class="difflineminus">--- a/calendar/test/unit/test_search_service.js</span>
<a href="#l105.2"></a><span id="l105.2" class="difflineplus">+++ b/calendar/test/unit/test_search_service.js</span>
<a href="#l105.3"></a><span id="l105.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l105.4"></a><span id="l105.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l105.5"></a><span id="l105.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l105.6"></a><span id="l105.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l105.7"></a><span id="l105.7"> </span>
<a href="#l105.8"></a><span id="l105.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l105.9"></a><span id="l105.9"> </span>
<a href="#l105.10"></a><span id="l105.10" class="difflineminus">-const HINT_EXACT_MATCH = Components.interfaces.calICalendarSearchProvider.HINT_EXACT_MATCH;</span>
<a href="#l105.11"></a><span id="l105.11" class="difflineplus">+var HINT_EXACT_MATCH = Components.interfaces.calICalendarSearchProvider.HINT_EXACT_MATCH;</span>
<a href="#l105.12"></a><span id="l105.12"> var search = Components.classes[&quot;@mozilla.org/calendar/calendarsearch-service;1&quot;]</span>
<a href="#l105.13"></a><span id="l105.13">                        .getService(Components.interfaces.calICalendarSearchService);</span>
<a href="#l105.14"></a><span id="l105.14"> </span>
<a href="#l105.15"></a><span id="l105.15"> function run_test() {</span>
<a href="#l105.16"></a><span id="l105.16">     test_found();</span>
<a href="#l105.17"></a><span id="l105.17">     test_failure();</span>
<a href="#l105.18"></a><span id="l105.18">     test_cancel();</span>
<a href="#l105.19"></a><span id="l105.19"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l106.1"></a><span id="l106.1" class="difflineminus">--- a/chat/components/src/imAccounts.js</span>
<a href="#l106.2"></a><span id="l106.2" class="difflineplus">+++ b/chat/components/src/imAccounts.js</span>
<a href="#l106.3"></a><span id="l106.3" class="difflineat">@@ -1,31 +1,31 @@</span>
<a href="#l106.4"></a><span id="l106.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l106.5"></a><span id="l106.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l106.6"></a><span id="l106.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l106.7"></a><span id="l106.7"> </span>
<a href="#l106.8"></a><span id="l106.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l106.9"></a><span id="l106.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l106.10"></a><span id="l106.10"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l106.11"></a><span id="l106.11"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l106.12"></a><span id="l106.12"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l106.13"></a><span id="l106.13"> </span>
<a href="#l106.14"></a><span id="l106.14" class="difflineminus">-const kPrefAutologinPending = &quot;messenger.accounts.autoLoginPending&quot;;</span>
<a href="#l106.15"></a><span id="l106.15" class="difflineminus">-const kPrefMessengerAccounts = &quot;messenger.accounts&quot;;</span>
<a href="#l106.16"></a><span id="l106.16" class="difflineminus">-const kPrefAccountPrefix = &quot;messenger.account.&quot;;</span>
<a href="#l106.17"></a><span id="l106.17" class="difflineminus">-const kAccountKeyPrefix = &quot;account&quot;;</span>
<a href="#l106.18"></a><span id="l106.18" class="difflineminus">-const kAccountOptionPrefPrefix = &quot;options.&quot;;</span>
<a href="#l106.19"></a><span id="l106.19" class="difflineminus">-const kPrefAccountName = &quot;name&quot;;</span>
<a href="#l106.20"></a><span id="l106.20" class="difflineminus">-const kPrefAccountPrpl = &quot;prpl&quot;;</span>
<a href="#l106.21"></a><span id="l106.21" class="difflineminus">-const kPrefAccountAutoLogin = &quot;autoLogin&quot;;</span>
<a href="#l106.22"></a><span id="l106.22" class="difflineminus">-const kPrefAccountAutoJoin = &quot;autoJoin&quot;;</span>
<a href="#l106.23"></a><span id="l106.23" class="difflineminus">-const kPrefAccountAlias = &quot;alias&quot;;</span>
<a href="#l106.24"></a><span id="l106.24" class="difflineminus">-const kPrefAccountFirstConnectionState = &quot;firstConnectionState&quot;;</span>
<a href="#l106.25"></a><span id="l106.25" class="difflineplus">+var kPrefAutologinPending = &quot;messenger.accounts.autoLoginPending&quot;;</span>
<a href="#l106.26"></a><span id="l106.26" class="difflineplus">+var kPrefMessengerAccounts = &quot;messenger.accounts&quot;;</span>
<a href="#l106.27"></a><span id="l106.27" class="difflineplus">+var kPrefAccountPrefix = &quot;messenger.account.&quot;;</span>
<a href="#l106.28"></a><span id="l106.28" class="difflineplus">+var kAccountKeyPrefix = &quot;account&quot;;</span>
<a href="#l106.29"></a><span id="l106.29" class="difflineplus">+var kAccountOptionPrefPrefix = &quot;options.&quot;;</span>
<a href="#l106.30"></a><span id="l106.30" class="difflineplus">+var kPrefAccountName = &quot;name&quot;;</span>
<a href="#l106.31"></a><span id="l106.31" class="difflineplus">+var kPrefAccountPrpl = &quot;prpl&quot;;</span>
<a href="#l106.32"></a><span id="l106.32" class="difflineplus">+var kPrefAccountAutoLogin = &quot;autoLogin&quot;;</span>
<a href="#l106.33"></a><span id="l106.33" class="difflineplus">+var kPrefAccountAutoJoin = &quot;autoJoin&quot;;</span>
<a href="#l106.34"></a><span id="l106.34" class="difflineplus">+var kPrefAccountAlias = &quot;alias&quot;;</span>
<a href="#l106.35"></a><span id="l106.35" class="difflineplus">+var kPrefAccountFirstConnectionState = &quot;firstConnectionState&quot;;</span>
<a href="#l106.36"></a><span id="l106.36"> </span>
<a href="#l106.37"></a><span id="l106.37" class="difflineminus">-const kPrefConvertOldPasswords = &quot;messenger.accounts.convertOldPasswords&quot;;</span>
<a href="#l106.38"></a><span id="l106.38" class="difflineminus">-const kPrefAccountPassword = &quot;password&quot;;</span>
<a href="#l106.39"></a><span id="l106.39" class="difflineplus">+var kPrefConvertOldPasswords = &quot;messenger.accounts.convertOldPasswords&quot;;</span>
<a href="#l106.40"></a><span id="l106.40" class="difflineplus">+var kPrefAccountPassword = &quot;password&quot;;</span>
<a href="#l106.41"></a><span id="l106.41"> </span>
<a href="#l106.42"></a><span id="l106.42"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l106.43"></a><span id="l106.43">   l10nHelper(&quot;chrome://chat/locale/accounts.properties&quot;)</span>
<a href="#l106.44"></a><span id="l106.44"> );</span>
<a href="#l106.45"></a><span id="l106.45"> </span>
<a href="#l106.46"></a><span id="l106.46"> XPCOMUtils.defineLazyGetter(this, &quot;_maxDebugMessages&quot;, () =&gt;</span>
<a href="#l106.47"></a><span id="l106.47">   Services.prefs.getIntPref(&quot;messenger.accounts.maxDebugMessages&quot;)</span>
<a href="#l106.48"></a><span id="l106.48"> );</span>
<a href="#l106.49"></a><span id="l106.49" class="difflineat">@@ -1086,9 +1086,9 @@ AccountsService.prototype = {</span>
<a href="#l106.50"></a><span id="l106.50">   },</span>
<a href="#l106.51"></a><span id="l106.51"> </span>
<a href="#l106.52"></a><span id="l106.52">   QueryInterface: XPCOMUtils.generateQI([Ci.imIAccountsService]),</span>
<a href="#l106.53"></a><span id="l106.53">   classDescription: &quot;Accounts&quot;,</span>
<a href="#l106.54"></a><span id="l106.54">   classID: Components.ID(&quot;{a94b5427-cd8d-40cf-b47e-b67671953e70}&quot;),</span>
<a href="#l106.55"></a><span id="l106.55">   contractID: &quot;@mozilla.org/chat/accounts-service;1&quot;</span>
<a href="#l106.56"></a><span id="l106.56"> };</span>
<a href="#l106.57"></a><span id="l106.57"> </span>
<a href="#l106.58"></a><span id="l106.58" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([AccountsService]);</span>
<a href="#l106.59"></a><span id="l106.59" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([AccountsService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l107.1"></a><span id="l107.1" class="difflineminus">--- a/chat/components/src/imCommands.js</span>
<a href="#l107.2"></a><span id="l107.2" class="difflineplus">+++ b/chat/components/src/imCommands.js</span>
<a href="#l107.3"></a><span id="l107.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l107.4"></a><span id="l107.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l107.5"></a><span id="l107.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l107.6"></a><span id="l107.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l107.7"></a><span id="l107.7"> </span>
<a href="#l107.8"></a><span id="l107.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l107.9"></a><span id="l107.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l107.10"></a><span id="l107.10"> </span>
<a href="#l107.11"></a><span id="l107.11"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l107.12"></a><span id="l107.12"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l107.13"></a><span id="l107.13"> </span>
<a href="#l107.14"></a><span id="l107.14"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l107.15"></a><span id="l107.15">   l10nHelper(&quot;chrome://chat/locale/commands.properties&quot;)</span>
<a href="#l107.16"></a><span id="l107.16"> );</span>
<a href="#l107.17"></a><span id="l107.17"> </span>
<a href="#l107.18"></a><span id="l107.18" class="difflineat">@@ -249,9 +249,9 @@ CommandsService.prototype = {</span>
<a href="#l107.19"></a><span id="l107.19">   },</span>
<a href="#l107.20"></a><span id="l107.20"> </span>
<a href="#l107.21"></a><span id="l107.21">   QueryInterface: XPCOMUtils.generateQI([Ci.imICommandsService]),</span>
<a href="#l107.22"></a><span id="l107.22">   classDescription: &quot;Commands&quot;,</span>
<a href="#l107.23"></a><span id="l107.23">   classID: Components.ID(&quot;{7cb20c68-ccc8-4a79-b6f1-0b4771ed6c23}&quot;),</span>
<a href="#l107.24"></a><span id="l107.24">   contractID: &quot;@mozilla.org/chat/commands-service;1&quot;</span>
<a href="#l107.25"></a><span id="l107.25"> };</span>
<a href="#l107.26"></a><span id="l107.26"> </span>
<a href="#l107.27"></a><span id="l107.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([CommandsService]);</span>
<a href="#l107.28"></a><span id="l107.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([CommandsService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l108.1"></a><span id="l108.1" class="difflineminus">--- a/chat/components/src/imContacts.js</span>
<a href="#l108.2"></a><span id="l108.2" class="difflineplus">+++ b/chat/components/src/imContacts.js</span>
<a href="#l108.3"></a><span id="l108.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l108.4"></a><span id="l108.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l108.5"></a><span id="l108.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l108.6"></a><span id="l108.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l108.7"></a><span id="l108.7"> </span>
<a href="#l108.8"></a><span id="l108.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l108.9"></a><span id="l108.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l108.10"></a><span id="l108.10"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l108.11"></a><span id="l108.11"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l108.12"></a><span id="l108.12"> </span>
<a href="#l108.13"></a><span id="l108.13"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l108.14"></a><span id="l108.14">   l10nHelper(&quot;chrome://chat/locale/contacts.properties&quot;)</span>
<a href="#l108.15"></a><span id="l108.15"> );</span>
<a href="#l108.16"></a><span id="l108.16"> </span>
<a href="#l108.17"></a><span id="l108.17"> var gDBConnection = null;</span>
<a href="#l108.18"></a><span id="l108.18" class="difflineat">@@ -1515,10 +1515,10 @@ ContactsService.prototype = {</span>
<a href="#l108.19"></a><span id="l108.19">   },</span>
<a href="#l108.20"></a><span id="l108.20"> </span>
<a href="#l108.21"></a><span id="l108.21">   QueryInterface: XPCOMUtils.generateQI([Ci.imIContactsService]),</span>
<a href="#l108.22"></a><span id="l108.22">   classDescription: &quot;Contacts&quot;,</span>
<a href="#l108.23"></a><span id="l108.23">   classID: Components.ID(&quot;{8c3725dd-ee26-489d-8135-736015af8c7f}&quot;),</span>
<a href="#l108.24"></a><span id="l108.24">   contractID: &quot;@mozilla.org/chat/contacts-service;1&quot;</span>
<a href="#l108.25"></a><span id="l108.25"> };</span>
<a href="#l108.26"></a><span id="l108.26"> </span>
<a href="#l108.27"></a><span id="l108.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([ContactsService,</span>
<a href="#l108.28"></a><span id="l108.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([ContactsService,</span>
<a href="#l108.29"></a><span id="l108.29">                                                       TagsService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l109.1"></a><span id="l109.1" class="difflineminus">--- a/chat/components/src/imConversations.js</span>
<a href="#l109.2"></a><span id="l109.2" class="difflineplus">+++ b/chat/components/src/imConversations.js</span>
<a href="#l109.3"></a><span id="l109.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l109.4"></a><span id="l109.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l109.5"></a><span id="l109.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l109.6"></a><span id="l109.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l109.7"></a><span id="l109.7"> </span>
<a href="#l109.8"></a><span id="l109.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l109.9"></a><span id="l109.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l109.10"></a><span id="l109.10"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l109.11"></a><span id="l109.11"> Cu.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l109.12"></a><span id="l109.12"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l109.13"></a><span id="l109.13"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l109.14"></a><span id="l109.14"> </span>
<a href="#l109.15"></a><span id="l109.15"> var gLastUIConvId = 0;</span>
<a href="#l109.16"></a><span id="l109.16"> var gLastPrplConvId = 0;</span>
<a href="#l109.17"></a><span id="l109.17"> </span>
<a href="#l109.18"></a><span id="l109.18" class="difflineat">@@ -651,9 +651,9 @@ ConversationsService.prototype = {</span>
<a href="#l109.19"></a><span id="l109.19">   },</span>
<a href="#l109.20"></a><span id="l109.20"> </span>
<a href="#l109.21"></a><span id="l109.21">   QueryInterface: XPCOMUtils.generateQI([Ci.imIConversationsService]),</span>
<a href="#l109.22"></a><span id="l109.22">   classDescription: &quot;Conversations&quot;,</span>
<a href="#l109.23"></a><span id="l109.23">   classID: Components.ID(&quot;{b2397cd5-c76d-4618-8410-f344c7c6443a}&quot;),</span>
<a href="#l109.24"></a><span id="l109.24">   contractID: &quot;@mozilla.org/chat/conversations-service;1&quot;</span>
<a href="#l109.25"></a><span id="l109.25"> };</span>
<a href="#l109.26"></a><span id="l109.26"> </span>
<a href="#l109.27"></a><span id="l109.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([ConversationsService]);</span>
<a href="#l109.28"></a><span id="l109.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([ConversationsService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l110.1"></a><span id="l110.1" class="difflineminus">--- a/chat/components/src/imCore.js</span>
<a href="#l110.2"></a><span id="l110.2" class="difflineplus">+++ b/chat/components/src/imCore.js</span>
<a href="#l110.3"></a><span id="l110.3" class="difflineat">@@ -1,32 +1,32 @@</span>
<a href="#l110.4"></a><span id="l110.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l110.5"></a><span id="l110.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l110.6"></a><span id="l110.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l110.7"></a><span id="l110.7"> </span>
<a href="#l110.8"></a><span id="l110.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l110.9"></a><span id="l110.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l110.10"></a><span id="l110.10"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l110.11"></a><span id="l110.11"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l110.12"></a><span id="l110.12"> </span>
<a href="#l110.13"></a><span id="l110.13"> XPCOMUtils.defineLazyServiceGetter(this, &quot;categoryManager&quot;,</span>
<a href="#l110.14"></a><span id="l110.14">                                    &quot;@mozilla.org/categorymanager;1&quot;,</span>
<a href="#l110.15"></a><span id="l110.15">                                    &quot;nsICategoryManager&quot;);</span>
<a href="#l110.16"></a><span id="l110.16"> </span>
<a href="#l110.17"></a><span id="l110.17" class="difflineminus">-const kQuitApplicationGranted = &quot;quit-application-granted&quot;;</span>
<a href="#l110.18"></a><span id="l110.18" class="difflineminus">-const kProtocolPluginCategory = &quot;im-protocol-plugin&quot;;</span>
<a href="#l110.19"></a><span id="l110.19" class="difflineplus">+var kQuitApplicationGranted = &quot;quit-application-granted&quot;;</span>
<a href="#l110.20"></a><span id="l110.20" class="difflineplus">+var kProtocolPluginCategory = &quot;im-protocol-plugin&quot;;</span>
<a href="#l110.21"></a><span id="l110.21"> </span>
<a href="#l110.22"></a><span id="l110.22" class="difflineminus">-const kPrefReportIdle =        &quot;messenger.status.reportIdle&quot;;</span>
<a href="#l110.23"></a><span id="l110.23" class="difflineminus">-const kPrefUserIconFilename =  &quot;messenger.status.userIconFileName&quot;;</span>
<a href="#l110.24"></a><span id="l110.24" class="difflineminus">-const kPrefUserDisplayname =   &quot;messenger.status.userDisplayName&quot;;</span>
<a href="#l110.25"></a><span id="l110.25" class="difflineminus">-const kPrefTimeBeforeIdle =    &quot;messenger.status.timeBeforeIdle&quot;;</span>
<a href="#l110.26"></a><span id="l110.26" class="difflineminus">-const kPrefAwayWhenIdle =      &quot;messenger.status.awayWhenIdle&quot;;</span>
<a href="#l110.27"></a><span id="l110.27" class="difflineminus">-const kPrefDefaultMessage =    &quot;messenger.status.defaultIdleAwayMessage&quot;;</span>
<a href="#l110.28"></a><span id="l110.28" class="difflineplus">+var kPrefReportIdle =        &quot;messenger.status.reportIdle&quot;;</span>
<a href="#l110.29"></a><span id="l110.29" class="difflineplus">+var kPrefUserIconFilename =  &quot;messenger.status.userIconFileName&quot;;</span>
<a href="#l110.30"></a><span id="l110.30" class="difflineplus">+var kPrefUserDisplayname =   &quot;messenger.status.userDisplayName&quot;;</span>
<a href="#l110.31"></a><span id="l110.31" class="difflineplus">+var kPrefTimeBeforeIdle =    &quot;messenger.status.timeBeforeIdle&quot;;</span>
<a href="#l110.32"></a><span id="l110.32" class="difflineplus">+var kPrefAwayWhenIdle =      &quot;messenger.status.awayWhenIdle&quot;;</span>
<a href="#l110.33"></a><span id="l110.33" class="difflineplus">+var kPrefDefaultMessage =    &quot;messenger.status.defaultIdleAwayMessage&quot;;</span>
<a href="#l110.34"></a><span id="l110.34"> </span>
<a href="#l110.35"></a><span id="l110.35" class="difflineminus">-const NS_IOSERVICE_GOING_OFFLINE_TOPIC = &quot;network:offline-about-to-go-offline&quot;;</span>
<a href="#l110.36"></a><span id="l110.36" class="difflineminus">-const NS_IOSERVICE_OFFLINE_STATUS_TOPIC = &quot;network:offline-status-changed&quot;;</span>
<a href="#l110.37"></a><span id="l110.37" class="difflineplus">+var NS_IOSERVICE_GOING_OFFLINE_TOPIC = &quot;network:offline-about-to-go-offline&quot;;</span>
<a href="#l110.38"></a><span id="l110.38" class="difflineplus">+var NS_IOSERVICE_OFFLINE_STATUS_TOPIC = &quot;network:offline-status-changed&quot;;</span>
<a href="#l110.39"></a><span id="l110.39"> </span>
<a href="#l110.40"></a><span id="l110.40"> function UserStatus()</span>
<a href="#l110.41"></a><span id="l110.41"> {</span>
<a href="#l110.42"></a><span id="l110.42">   this._observers = [];</span>
<a href="#l110.43"></a><span id="l110.43"> </span>
<a href="#l110.44"></a><span id="l110.44">   if (Services.prefs.getBoolPref(kPrefReportIdle))</span>
<a href="#l110.45"></a><span id="l110.45">     this._addIdleObserver();</span>
<a href="#l110.46"></a><span id="l110.46">   Services.prefs.addObserver(kPrefReportIdle, this, false);</span>
<a href="#l110.47"></a><span id="l110.47" class="difflineat">@@ -364,9 +364,9 @@ CoreService.prototype = {</span>
<a href="#l110.48"></a><span id="l110.48">   },</span>
<a href="#l110.49"></a><span id="l110.49"> </span>
<a href="#l110.50"></a><span id="l110.50">   QueryInterface: XPCOMUtils.generateQI([Ci.imICoreService]),</span>
<a href="#l110.51"></a><span id="l110.51">   classDescription: &quot;Core&quot;,</span>
<a href="#l110.52"></a><span id="l110.52">   classID: Components.ID(&quot;{073f5953-853c-4a38-bd81-255510c31c2e}&quot;),</span>
<a href="#l110.53"></a><span id="l110.53">   contractID: &quot;@mozilla.org/chat/core-service;1&quot;</span>
<a href="#l110.54"></a><span id="l110.54"> };</span>
<a href="#l110.55"></a><span id="l110.55"> </span>
<a href="#l110.56"></a><span id="l110.56" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([CoreService]);</span>
<a href="#l110.57"></a><span id="l110.57" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([CoreService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l111.1"></a><span id="l111.1" class="difflineminus">--- a/chat/components/src/logger.js</span>
<a href="#l111.2"></a><span id="l111.2" class="difflineplus">+++ b/chat/components/src/logger.js</span>
<a href="#l111.3"></a><span id="l111.3" class="difflineat">@@ -1,27 +1,27 @@</span>
<a href="#l111.4"></a><span id="l111.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l111.5"></a><span id="l111.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l111.6"></a><span id="l111.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l111.7"></a><span id="l111.7"> </span>
<a href="#l111.8"></a><span id="l111.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, Constructor: CC} = Components;</span>
<a href="#l111.9"></a><span id="l111.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, Constructor: CC} = Components;</span>
<a href="#l111.10"></a><span id="l111.10"> </span>
<a href="#l111.11"></a><span id="l111.11"> Cu.import(&quot;resource:///modules/hiddenWindow.jsm&quot;);</span>
<a href="#l111.12"></a><span id="l111.12"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l111.13"></a><span id="l111.13"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l111.14"></a><span id="l111.14"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l111.15"></a><span id="l111.15"> </span>
<a href="#l111.16"></a><span id="l111.16"> Cu.import(&quot;resource://gre/modules/Task.jsm&quot;)</span>
<a href="#l111.17"></a><span id="l111.17"> XPCOMUtils.defineLazyModuleGetter(this, &quot;OS&quot;, &quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l111.18"></a><span id="l111.18"> </span>
<a href="#l111.19"></a><span id="l111.19"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l111.20"></a><span id="l111.20">   l10nHelper(&quot;chrome://chat/locale/logger.properties&quot;)</span>
<a href="#l111.21"></a><span id="l111.21"> );</span>
<a href="#l111.22"></a><span id="l111.22"> </span>
<a href="#l111.23"></a><span id="l111.23" class="difflineminus">-const kLineBreak = &quot;@mozilla.org/windows-registry-key;1&quot; in Cc ? &quot;\r\n&quot; : &quot;\n&quot;;</span>
<a href="#l111.24"></a><span id="l111.24" class="difflineplus">+var kLineBreak = &quot;@mozilla.org/windows-registry-key;1&quot; in Cc ? &quot;\r\n&quot; : &quot;\n&quot;;</span>
<a href="#l111.25"></a><span id="l111.25"> </span>
<a href="#l111.26"></a><span id="l111.26"> /*</span>
<a href="#l111.27"></a><span id="l111.27">  * Maps file paths to promises returned by ongoing OS.File operations on them.</span>
<a href="#l111.28"></a><span id="l111.28">  * This is so that a file can be read after a pending write operation completes</span>
<a href="#l111.29"></a><span id="l111.29">  * and vice versa (opening a file multiple times concurrently may fail on Windows).</span>
<a href="#l111.30"></a><span id="l111.30">  */</span>
<a href="#l111.31"></a><span id="l111.31"> var gFilePromises = new Map();</span>
<a href="#l111.32"></a><span id="l111.32"> </span>
<a href="#l111.33"></a><span id="l111.33" class="difflineat">@@ -296,17 +296,17 @@ LogWriter.prototype = {</span>
<a href="#l111.34"></a><span id="l111.34">     lineToWrite = this.encoder.encode(lineToWrite);</span>
<a href="#l111.35"></a><span id="l111.35">     this._initialized.then(() =&gt; {</span>
<a href="#l111.36"></a><span id="l111.36">       appendToFile(this.currentPath, lineToWrite)</span>
<a href="#l111.37"></a><span id="l111.37">         .catch(aError =&gt; Cu.reportError(&quot;Failed to log message:\n&quot; + aError));</span>
<a href="#l111.38"></a><span id="l111.38">     });</span>
<a href="#l111.39"></a><span id="l111.39">   }</span>
<a href="#l111.40"></a><span id="l111.40"> };</span>
<a href="#l111.41"></a><span id="l111.41"> </span>
<a href="#l111.42"></a><span id="l111.42" class="difflineminus">-const dummyLogWriter = {</span>
<a href="#l111.43"></a><span id="l111.43" class="difflineplus">+var dummyLogWriter = {</span>
<a href="#l111.44"></a><span id="l111.44">   paths: null,</span>
<a href="#l111.45"></a><span id="l111.45">   currentPath: null,</span>
<a href="#l111.46"></a><span id="l111.46">   logMessage: function() {}</span>
<a href="#l111.47"></a><span id="l111.47"> };</span>
<a href="#l111.48"></a><span id="l111.48"> </span>
<a href="#l111.49"></a><span id="l111.49"> </span>
<a href="#l111.50"></a><span id="l111.50"> var gLogWritersById = new Map();</span>
<a href="#l111.51"></a><span id="l111.51"> function getLogWriter(aConversation) {</span>
<a href="#l111.52"></a><span id="l111.52" class="difflineat">@@ -353,17 +353,17 @@ SystemLogWriter.prototype = {</span>
<a href="#l111.53"></a><span id="l111.53">       this.encoder.encode(&quot;---- &quot; + aString + &quot; @ &quot; + date + &quot; ----&quot; + kLineBreak);</span>
<a href="#l111.54"></a><span id="l111.54">     this._initialized.then(() =&gt; {</span>
<a href="#l111.55"></a><span id="l111.55">       appendToFile(this.path, lineToWrite)</span>
<a href="#l111.56"></a><span id="l111.56">         .catch(aError =&gt; Cu.reportError(&quot;Failed to log event:\n&quot; + aError));</span>
<a href="#l111.57"></a><span id="l111.57">     });</span>
<a href="#l111.58"></a><span id="l111.58">   }</span>
<a href="#l111.59"></a><span id="l111.59"> };</span>
<a href="#l111.60"></a><span id="l111.60"> </span>
<a href="#l111.61"></a><span id="l111.61" class="difflineminus">-const dummySystemLogWriter = {</span>
<a href="#l111.62"></a><span id="l111.62" class="difflineplus">+var dummySystemLogWriter = {</span>
<a href="#l111.63"></a><span id="l111.63">   path: null,</span>
<a href="#l111.64"></a><span id="l111.64">   logEvent: function() {}</span>
<a href="#l111.65"></a><span id="l111.65"> };</span>
<a href="#l111.66"></a><span id="l111.66"> </span>
<a href="#l111.67"></a><span id="l111.67"> </span>
<a href="#l111.68"></a><span id="l111.68"> var gSystemLogWritersById = new Map();</span>
<a href="#l111.69"></a><span id="l111.69"> function getSystemLogWriter(aAccount, aCreate) {</span>
<a href="#l111.70"></a><span id="l111.70">   let id = aAccount.id;</span>
<a href="#l111.71"></a><span id="l111.71" class="difflineat">@@ -912,9 +912,9 @@ Logger.prototype = {</span>
<a href="#l111.72"></a><span id="l111.72">   },</span>
<a href="#l111.73"></a><span id="l111.73"> </span>
<a href="#l111.74"></a><span id="l111.74">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIObserver, Ci.imILogger]),</span>
<a href="#l111.75"></a><span id="l111.75">   classDescription: &quot;Logger&quot;,</span>
<a href="#l111.76"></a><span id="l111.76">   classID: Components.ID(&quot;{fb0dc220-2c7a-4216-9f19-6b8f3480eae9}&quot;),</span>
<a href="#l111.77"></a><span id="l111.77">   contractID: &quot;@mozilla.org/chat/logger;1&quot;</span>
<a href="#l111.78"></a><span id="l111.78"> };</span>
<a href="#l111.79"></a><span id="l111.79"> </span>
<a href="#l111.80"></a><span id="l111.80" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([Logger]);</span>
<a href="#l111.81"></a><span id="l111.81" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([Logger]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l112.1"></a><span id="l112.1" class="difflineminus">--- a/chat/components/src/smileProtocolHandler.js</span>
<a href="#l112.2"></a><span id="l112.2" class="difflineplus">+++ b/chat/components/src/smileProtocolHandler.js</span>
<a href="#l112.3"></a><span id="l112.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l112.4"></a><span id="l112.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l112.5"></a><span id="l112.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l112.6"></a><span id="l112.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l112.7"></a><span id="l112.7"> </span>
<a href="#l112.8"></a><span id="l112.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l112.9"></a><span id="l112.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l112.10"></a><span id="l112.10"> </span>
<a href="#l112.11"></a><span id="l112.11"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l112.12"></a><span id="l112.12"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l112.13"></a><span id="l112.13"> Cu.import(&quot;resource:///modules/imSmileys.jsm&quot;);</span>
<a href="#l112.14"></a><span id="l112.14"> </span>
<a href="#l112.15"></a><span id="l112.15" class="difflineminus">-const kSmileRegexp = /^smile:\/\//;</span>
<a href="#l112.16"></a><span id="l112.16" class="difflineplus">+var kSmileRegexp = /^smile:\/\//;</span>
<a href="#l112.17"></a><span id="l112.17"> </span>
<a href="#l112.18"></a><span id="l112.18"> function smileProtocolHandler() { }</span>
<a href="#l112.19"></a><span id="l112.19"> </span>
<a href="#l112.20"></a><span id="l112.20"> smileProtocolHandler.prototype = {</span>
<a href="#l112.21"></a><span id="l112.21">   scheme: &quot;smile&quot;,</span>
<a href="#l112.22"></a><span id="l112.22">   defaultPort: -1,</span>
<a href="#l112.23"></a><span id="l112.23">   protocolFlags: Ci.nsIProtocolHandler.URI_NORELATIVE |</span>
<a href="#l112.24"></a><span id="l112.24">                  Ci.nsIProtocolHandler.URI_NOAUTH |</span>
<a href="#l112.25"></a><span id="l112.25" class="difflineat">@@ -39,9 +39,9 @@ smileProtocolHandler.prototype = {</span>
<a href="#l112.26"></a><span id="l112.26">   allowPort: function SPH_allowPort(aPort, aScheme) { return false; },</span>
<a href="#l112.27"></a><span id="l112.27"> </span>
<a href="#l112.28"></a><span id="l112.28">   classDescription: &quot;Smile Protocol Handler&quot;,</span>
<a href="#l112.29"></a><span id="l112.29">   classID: Components.ID(&quot;{04e58eae-dfbc-4c9e-8130-6d9ef19cbff4}&quot;),</span>
<a href="#l112.30"></a><span id="l112.30">   contractID: &quot;@mozilla.org/network/protocol;1?name=smile&quot;,</span>
<a href="#l112.31"></a><span id="l112.31">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIProtocolHandler])</span>
<a href="#l112.32"></a><span id="l112.32"> };</span>
<a href="#l112.33"></a><span id="l112.33"> </span>
<a href="#l112.34"></a><span id="l112.34" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([smileProtocolHandler]);</span>
<a href="#l112.35"></a><span id="l112.35" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([smileProtocolHandler]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l113.1"></a><span id="l113.1" class="difflineminus">--- a/chat/components/src/test/test_accounts.js</span>
<a href="#l113.2"></a><span id="l113.2" class="difflineplus">+++ b/chat/components/src/test/test_accounts.js</span>
<a href="#l113.3"></a><span id="l113.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l113.4"></a><span id="l113.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l113.5"></a><span id="l113.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l113.6"></a><span id="l113.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l113.7"></a><span id="l113.7"> </span>
<a href="#l113.8"></a><span id="l113.8" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l113.9"></a><span id="l113.9" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l113.10"></a><span id="l113.10"> </span>
<a href="#l113.11"></a><span id="l113.11"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l113.12"></a><span id="l113.12"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l113.13"></a><span id="l113.13"> Cu.import(&quot;resource://testing-common/appInfoUtils.jsm&quot;);</span>
<a href="#l113.14"></a><span id="l113.14"> </span>
<a href="#l113.15"></a><span id="l113.15"> function run_test() {</span>
<a href="#l113.16"></a><span id="l113.16">   do_get_profile();</span>
<a href="#l113.17"></a><span id="l113.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l114.1"></a><span id="l114.1" class="difflineminus">--- a/chat/components/src/test/test_commands.js</span>
<a href="#l114.2"></a><span id="l114.2" class="difflineplus">+++ b/chat/components/src/test/test_commands.js</span>
<a href="#l114.3"></a><span id="l114.3" class="difflineat">@@ -1,37 +1,37 @@</span>
<a href="#l114.4"></a><span id="l114.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l114.5"></a><span id="l114.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l114.6"></a><span id="l114.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l114.7"></a><span id="l114.7"> </span>
<a href="#l114.8"></a><span id="l114.8" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l114.9"></a><span id="l114.9" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l114.10"></a><span id="l114.10"> </span>
<a href="#l114.11"></a><span id="l114.11"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l114.12"></a><span id="l114.12"> // We don't load the command service via Services as we want to access</span>
<a href="#l114.13"></a><span id="l114.13"> // _findCommands in order to avoid having to intercept command execution.</span>
<a href="#l114.14"></a><span id="l114.14"> var imCommands = {};</span>
<a href="#l114.15"></a><span id="l114.15"> Services.scriptloader.loadSubScript(&quot;resource:///components/imCommands.js&quot;, imCommands);</span>
<a href="#l114.16"></a><span id="l114.16"> </span>
<a href="#l114.17"></a><span id="l114.17" class="difflineminus">-const kPrplId = &quot;green&quot;;</span>
<a href="#l114.18"></a><span id="l114.18" class="difflineminus">-const kPrplId2 = &quot;red&quot;;</span>
<a href="#l114.19"></a><span id="l114.19" class="difflineplus">+var kPrplId = &quot;green&quot;;</span>
<a href="#l114.20"></a><span id="l114.20" class="difflineplus">+var kPrplId2 = &quot;red&quot;;</span>
<a href="#l114.21"></a><span id="l114.21"> </span>
<a href="#l114.22"></a><span id="l114.22" class="difflineminus">-const fakeAccount = {</span>
<a href="#l114.23"></a><span id="l114.23" class="difflineplus">+var fakeAccount = {</span>
<a href="#l114.24"></a><span id="l114.24">   connected: true,</span>
<a href="#l114.25"></a><span id="l114.25">   protocol: {id: kPrplId}</span>
<a href="#l114.26"></a><span id="l114.26"> };</span>
<a href="#l114.27"></a><span id="l114.27" class="difflineminus">-const fakeDisconnectedAccount = {</span>
<a href="#l114.28"></a><span id="l114.28" class="difflineplus">+var fakeDisconnectedAccount = {</span>
<a href="#l114.29"></a><span id="l114.29">   connected: false,</span>
<a href="#l114.30"></a><span id="l114.30">   protocol: {id: kPrplId}</span>
<a href="#l114.31"></a><span id="l114.31"> };</span>
<a href="#l114.32"></a><span id="l114.32" class="difflineminus">-const fakeAccount2 = {</span>
<a href="#l114.33"></a><span id="l114.33" class="difflineplus">+var fakeAccount2 = {</span>
<a href="#l114.34"></a><span id="l114.34">   connected: true,</span>
<a href="#l114.35"></a><span id="l114.35">   protocol: {id: kPrplId2}</span>
<a href="#l114.36"></a><span id="l114.36"> };</span>
<a href="#l114.37"></a><span id="l114.37"> </span>
<a href="#l114.38"></a><span id="l114.38" class="difflineminus">-const fakeConversation = {</span>
<a href="#l114.39"></a><span id="l114.39" class="difflineplus">+var fakeConversation = {</span>
<a href="#l114.40"></a><span id="l114.40">   account: fakeAccount,</span>
<a href="#l114.41"></a><span id="l114.41">   isChat: true</span>
<a href="#l114.42"></a><span id="l114.42"> };</span>
<a href="#l114.43"></a><span id="l114.43"> </span>
<a href="#l114.44"></a><span id="l114.44"> function fakeCommand(aName, aUsageContext) {</span>
<a href="#l114.45"></a><span id="l114.45">   this.name = aName;</span>
<a href="#l114.46"></a><span id="l114.46">   if (aUsageContext)</span>
<a href="#l114.47"></a><span id="l114.47">     this.usageContext = aUsageContext;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l115.1"></a><span id="l115.1" class="difflineminus">--- a/chat/components/src/test/test_conversations.js</span>
<a href="#l115.2"></a><span id="l115.2" class="difflineplus">+++ b/chat/components/src/test/test_conversations.js</span>
<a href="#l115.3"></a><span id="l115.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l115.4"></a><span id="l115.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l115.5"></a><span id="l115.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l115.6"></a><span id="l115.6"> </span>
<a href="#l115.7"></a><span id="l115.7" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l115.8"></a><span id="l115.8" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l115.9"></a><span id="l115.9"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l115.10"></a><span id="l115.10"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l115.11"></a><span id="l115.11"> </span>
<a href="#l115.12"></a><span id="l115.12"> var imConversations = {};</span>
<a href="#l115.13"></a><span id="l115.13"> Services.scriptloader.loadSubScript(</span>
<a href="#l115.14"></a><span id="l115.14">   &quot;resource:///components/imConversations.js&quot;, imConversations</span>
<a href="#l115.15"></a><span id="l115.15"> );</span>
<a href="#l115.16"></a><span id="l115.16"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l116.1"></a><span id="l116.1" class="difflineminus">--- a/chat/components/src/test/test_logger.js</span>
<a href="#l116.2"></a><span id="l116.2" class="difflineplus">+++ b/chat/components/src/test/test_logger.js</span>
<a href="#l116.3"></a><span id="l116.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l116.4"></a><span id="l116.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l116.5"></a><span id="l116.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l116.6"></a><span id="l116.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l116.7"></a><span id="l116.7"> </span>
<a href="#l116.8"></a><span id="l116.8" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l116.9"></a><span id="l116.9" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l116.10"></a><span id="l116.10"> </span>
<a href="#l116.11"></a><span id="l116.11"> do_get_profile();</span>
<a href="#l116.12"></a><span id="l116.12"> </span>
<a href="#l116.13"></a><span id="l116.13"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l116.14"></a><span id="l116.14"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l116.15"></a><span id="l116.15"> Cu.import(&quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l116.16"></a><span id="l116.16"> Cu.import(&quot;resource://gre/modules/Task.jsm&quot;);</span>
<a href="#l116.17"></a><span id="l116.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l117.1"></a><span id="l117.1" class="difflineminus">--- a/chat/content/browserRequest.js</span>
<a href="#l117.2"></a><span id="l117.2" class="difflineplus">+++ b/chat/content/browserRequest.js</span>
<a href="#l117.3"></a><span id="l117.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l117.4"></a><span id="l117.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l117.5"></a><span id="l117.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l117.6"></a><span id="l117.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l117.7"></a><span id="l117.7"> </span>
<a href="#l117.8"></a><span id="l117.8" class="difflineminus">-const wpl = Components.interfaces.nsIWebProgressListener;</span>
<a href="#l117.9"></a><span id="l117.9" class="difflineplus">+var wpl = Components.interfaces.nsIWebProgressListener;</span>
<a href="#l117.10"></a><span id="l117.10"> </span>
<a href="#l117.11"></a><span id="l117.11"> var reporterListener = {</span>
<a href="#l117.12"></a><span id="l117.12">   _isBusy: false,</span>
<a href="#l117.13"></a><span id="l117.13">   get statusMeter() {</span>
<a href="#l117.14"></a><span id="l117.14">     delete this.statusMeter;</span>
<a href="#l117.15"></a><span id="l117.15">     return this.statusMeter = document.getElementById(&quot;statusbar-icon&quot;);</span>
<a href="#l117.16"></a><span id="l117.16">   },</span>
<a href="#l117.17"></a><span id="l117.17">   get securityButton() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l118.1"></a><span id="l118.1" class="difflineminus">--- a/chat/modules/imContentSink.jsm</span>
<a href="#l118.2"></a><span id="l118.2" class="difflineplus">+++ b/chat/modules/imContentSink.jsm</span>
<a href="#l118.3"></a><span id="l118.3" class="difflineat">@@ -37,45 +37,45 @@ this.EXPORTED_SYMBOLS = [</span>
<a href="#l118.4"></a><span id="l118.4">  *</span>
<a href="#l118.5"></a><span id="l118.5">  *  - styles: an object with the allowed CSS style rule.</span>
<a href="#l118.6"></a><span id="l118.6">  *      example: 'font-size': true</span>
<a href="#l118.7"></a><span id="l118.7">  *    FIXME: make this accept functions to filter the CSS values too.</span>
<a href="#l118.8"></a><span id="l118.8">  *</span>
<a href="#l118.9"></a><span id="l118.9">  *  See the 3 examples of rulesets below.</span>
<a href="#l118.10"></a><span id="l118.10">  */</span>
<a href="#l118.11"></a><span id="l118.11"> </span>
<a href="#l118.12"></a><span id="l118.12" class="difflineminus">-const kAllowedURLs = aValue =&gt; /^(https?|ftp|mailto):/.test(aValue);</span>
<a href="#l118.13"></a><span id="l118.13" class="difflineminus">-const kAllowedMozClasses =</span>
<a href="#l118.14"></a><span id="l118.14" class="difflineplus">+var kAllowedURLs = aValue =&gt; /^(https?|ftp|mailto):/.test(aValue);</span>
<a href="#l118.15"></a><span id="l118.15" class="difflineplus">+var kAllowedMozClasses =</span>
<a href="#l118.16"></a><span id="l118.16">   aClassName =&gt; aClassName == &quot;moz-txt-underscore&quot; ||</span>
<a href="#l118.17"></a><span id="l118.17">                 aClassName == &quot;moz-txt-tag&quot;;</span>
<a href="#l118.18"></a><span id="l118.18"> </span>
<a href="#l118.19"></a><span id="l118.19"> /* Tags whose content should be fully removed, and reported in the Error Console. */</span>
<a href="#l118.20"></a><span id="l118.20" class="difflineminus">-const kForbiddenTags = {</span>
<a href="#l118.21"></a><span id="l118.21" class="difflineplus">+var kForbiddenTags = {</span>
<a href="#l118.22"></a><span id="l118.22">   script: true,</span>
<a href="#l118.23"></a><span id="l118.23">   style: true</span>
<a href="#l118.24"></a><span id="l118.24"> };</span>
<a href="#l118.25"></a><span id="l118.25"> </span>
<a href="#l118.26"></a><span id="l118.26"> // in strict mode, remove all formatings. Keep only links and line breaks.</span>
<a href="#l118.27"></a><span id="l118.27" class="difflineminus">-const kStrictMode = {</span>
<a href="#l118.28"></a><span id="l118.28" class="difflineplus">+var kStrictMode = {</span>
<a href="#l118.29"></a><span id="l118.29">   attrs: { },</span>
<a href="#l118.30"></a><span id="l118.30"> </span>
<a href="#l118.31"></a><span id="l118.31">   tags: {</span>
<a href="#l118.32"></a><span id="l118.32">     'a': {</span>
<a href="#l118.33"></a><span id="l118.33">       'title': true,</span>
<a href="#l118.34"></a><span id="l118.34">       'href': kAllowedURLs</span>
<a href="#l118.35"></a><span id="l118.35">     },</span>
<a href="#l118.36"></a><span id="l118.36">     'br': true,</span>
<a href="#l118.37"></a><span id="l118.37">     'p': true</span>
<a href="#l118.38"></a><span id="l118.38">   },</span>
<a href="#l118.39"></a><span id="l118.39"> </span>
<a href="#l118.40"></a><span id="l118.40">   styles: { }</span>
<a href="#l118.41"></a><span id="l118.41"> };</span>
<a href="#l118.42"></a><span id="l118.42"> </span>
<a href="#l118.43"></a><span id="l118.43"> // standard mode allows basic formattings (bold, italic, underlined)</span>
<a href="#l118.44"></a><span id="l118.44" class="difflineminus">-const kStandardMode = {</span>
<a href="#l118.45"></a><span id="l118.45" class="difflineplus">+var kStandardMode = {</span>
<a href="#l118.46"></a><span id="l118.46">   attrs: {</span>
<a href="#l118.47"></a><span id="l118.47">     'style': true</span>
<a href="#l118.48"></a><span id="l118.48">   },</span>
<a href="#l118.49"></a><span id="l118.49"> </span>
<a href="#l118.50"></a><span id="l118.50">   tags: {</span>
<a href="#l118.51"></a><span id="l118.51">     'div': true,</span>
<a href="#l118.52"></a><span id="l118.52">     'a': {</span>
<a href="#l118.53"></a><span id="l118.53">       'title': true,</span>
<a href="#l118.54"></a><span id="l118.54" class="difflineat">@@ -102,17 +102,17 @@ const kStandardMode = {</span>
<a href="#l118.55"></a><span id="l118.55">   styles: {</span>
<a href="#l118.56"></a><span id="l118.56">     'font-style': true,</span>
<a href="#l118.57"></a><span id="l118.57">     'font-weight': true,</span>
<a href="#l118.58"></a><span id="l118.58">     'text-decoration-line': true</span>
<a href="#l118.59"></a><span id="l118.59">   }</span>
<a href="#l118.60"></a><span id="l118.60"> };</span>
<a href="#l118.61"></a><span id="l118.61"> </span>
<a href="#l118.62"></a><span id="l118.62"> // permissive mode allows about anything that isn't going to mess up the chat window</span>
<a href="#l118.63"></a><span id="l118.63" class="difflineminus">-const kPermissiveMode = {</span>
<a href="#l118.64"></a><span id="l118.64" class="difflineplus">+var kPermissiveMode = {</span>
<a href="#l118.65"></a><span id="l118.65">   attrs: {</span>
<a href="#l118.66"></a><span id="l118.66">     'style': true</span>
<a href="#l118.67"></a><span id="l118.67">   },</span>
<a href="#l118.68"></a><span id="l118.68"> </span>
<a href="#l118.69"></a><span id="l118.69">   tags : {</span>
<a href="#l118.70"></a><span id="l118.70">     'div': true,</span>
<a href="#l118.71"></a><span id="l118.71">     'a': {</span>
<a href="#l118.72"></a><span id="l118.72">       'title': true,</span>
<a href="#l118.73"></a><span id="l118.73" class="difflineat">@@ -151,18 +151,18 @@ const kPermissiveMode = {</span>
<a href="#l118.74"></a><span id="l118.74">     'font-style': true,</span>
<a href="#l118.75"></a><span id="l118.75">     'font-weight': true,</span>
<a href="#l118.76"></a><span id="l118.76">     'text-decoration-color': true,</span>
<a href="#l118.77"></a><span id="l118.77">     'text-decoration-style': true,</span>
<a href="#l118.78"></a><span id="l118.78">     'text-decoration-line': true</span>
<a href="#l118.79"></a><span id="l118.79">   }</span>
<a href="#l118.80"></a><span id="l118.80"> };</span>
<a href="#l118.81"></a><span id="l118.81"> </span>
<a href="#l118.82"></a><span id="l118.82" class="difflineminus">-const kModePref = &quot;messenger.options.filterMode&quot;;</span>
<a href="#l118.83"></a><span id="l118.83" class="difflineminus">-const kModes = [kStrictMode, kStandardMode, kPermissiveMode];</span>
<a href="#l118.84"></a><span id="l118.84" class="difflineplus">+var kModePref = &quot;messenger.options.filterMode&quot;;</span>
<a href="#l118.85"></a><span id="l118.85" class="difflineplus">+var kModes = [kStrictMode, kStandardMode, kPermissiveMode];</span>
<a href="#l118.86"></a><span id="l118.86"> </span>
<a href="#l118.87"></a><span id="l118.87"> var gGlobalRuleset = null;</span>
<a href="#l118.88"></a><span id="l118.88"> </span>
<a href="#l118.89"></a><span id="l118.89"> function initGlobalRuleset()</span>
<a href="#l118.90"></a><span id="l118.90"> {</span>
<a href="#l118.91"></a><span id="l118.91">   gGlobalRuleset = newRuleset();</span>
<a href="#l118.92"></a><span id="l118.92"> </span>
<a href="#l118.93"></a><span id="l118.93">   Services.prefs.addObserver(kModePref, styleObserver, false);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l119.1"></a><span id="l119.1" class="difflineminus">--- a/chat/modules/imSmileys.jsm</span>
<a href="#l119.2"></a><span id="l119.2" class="difflineplus">+++ b/chat/modules/imSmileys.jsm</span>
<a href="#l119.3"></a><span id="l119.3" class="difflineat">@@ -7,18 +7,18 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l119.4"></a><span id="l119.4"> this.EXPORTED_SYMBOLS = [</span>
<a href="#l119.5"></a><span id="l119.5">   &quot;smileImMarkup&quot;, // used to add smile:// img tags into IM markup.</span>
<a href="#l119.6"></a><span id="l119.6">   &quot;smileTextNode&quot;, // used to add smile:// img tags to the content of a textnode</span>
<a href="#l119.7"></a><span id="l119.7">   &quot;smileString&quot;, // used to add smile:// img tags into a string without parsing it as HTML. Be sure the string doesn't contain HTML tags.</span>
<a href="#l119.8"></a><span id="l119.8">   &quot;getSmileRealURI&quot;, // used to retrive the chrome URI for a smile:// URI</span>
<a href="#l119.9"></a><span id="l119.9">   &quot;getSmileyList&quot; // used to display a list of smileys in the UI</span>
<a href="#l119.10"></a><span id="l119.10"> ];</span>
<a href="#l119.11"></a><span id="l119.11"> </span>
<a href="#l119.12"></a><span id="l119.12" class="difflineminus">-const kEmoticonsThemePref = &quot;messenger.options.emoticonsTheme&quot;;</span>
<a href="#l119.13"></a><span id="l119.13" class="difflineminus">-const kThemeFile = &quot;theme.js&quot;;</span>
<a href="#l119.14"></a><span id="l119.14" class="difflineplus">+var kEmoticonsThemePref = &quot;messenger.options.emoticonsTheme&quot;;</span>
<a href="#l119.15"></a><span id="l119.15" class="difflineplus">+var kThemeFile = &quot;theme.js&quot;;</span>
<a href="#l119.16"></a><span id="l119.16"> </span>
<a href="#l119.17"></a><span id="l119.17"> __defineGetter__(&quot;gTheme&quot;, function() {</span>
<a href="#l119.18"></a><span id="l119.18">   delete this.gTheme;</span>
<a href="#l119.19"></a><span id="l119.19">   gPrefObserver.init();</span>
<a href="#l119.20"></a><span id="l119.20">   return this.gTheme = getTheme();</span>
<a href="#l119.21"></a><span id="l119.21"> });</span>
<a href="#l119.22"></a><span id="l119.22"> </span>
<a href="#l119.23"></a><span id="l119.23"> var gPrefObserver = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l120.1"></a><span id="l120.1" class="difflineminus">--- a/chat/modules/imStatusUtils.jsm</span>
<a href="#l120.2"></a><span id="l120.2" class="difflineplus">+++ b/chat/modules/imStatusUtils.jsm</span>
<a href="#l120.3"></a><span id="l120.3" class="difflineat">@@ -1,35 +1,35 @@</span>
<a href="#l120.4"></a><span id="l120.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l120.5"></a><span id="l120.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l120.6"></a><span id="l120.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l120.7"></a><span id="l120.7"> </span>
<a href="#l120.8"></a><span id="l120.8"> this.EXPORTED_SYMBOLS = [&quot;Status&quot;];</span>
<a href="#l120.9"></a><span id="l120.9"> </span>
<a href="#l120.10"></a><span id="l120.10" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l120.11"></a><span id="l120.11" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l120.12"></a><span id="l120.12"> </span>
<a href="#l120.13"></a><span id="l120.13"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l120.14"></a><span id="l120.14"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l120.15"></a><span id="l120.15"> </span>
<a href="#l120.16"></a><span id="l120.16"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l120.17"></a><span id="l120.17">   l10nHelper(&quot;chrome://chat/locale/status.properties&quot;)</span>
<a href="#l120.18"></a><span id="l120.18"> );</span>
<a href="#l120.19"></a><span id="l120.19"> </span>
<a href="#l120.20"></a><span id="l120.20" class="difflineminus">-const imIStatusInfo = Ci.imIStatusInfo;</span>
<a href="#l120.21"></a><span id="l120.21" class="difflineplus">+var imIStatusInfo = Ci.imIStatusInfo;</span>
<a href="#l120.22"></a><span id="l120.22"> var statusAttributes = {};</span>
<a href="#l120.23"></a><span id="l120.23"> statusAttributes[imIStatusInfo.STATUS_UNKNOWN] = &quot;unknown&quot;;</span>
<a href="#l120.24"></a><span id="l120.24"> statusAttributes[imIStatusInfo.STATUS_OFFLINE] = &quot;offline&quot;;</span>
<a href="#l120.25"></a><span id="l120.25"> statusAttributes[imIStatusInfo.STATUS_INVISIBLE] = &quot;invisible&quot;;</span>
<a href="#l120.26"></a><span id="l120.26"> statusAttributes[imIStatusInfo.STATUS_MOBILE] = &quot;mobile&quot;;</span>
<a href="#l120.27"></a><span id="l120.27"> statusAttributes[imIStatusInfo.STATUS_IDLE] = &quot;idle&quot;;</span>
<a href="#l120.28"></a><span id="l120.28"> statusAttributes[imIStatusInfo.STATUS_AWAY] = &quot;away&quot;;</span>
<a href="#l120.29"></a><span id="l120.29"> statusAttributes[imIStatusInfo.STATUS_UNAVAILABLE] = &quot;unavailable&quot;;</span>
<a href="#l120.30"></a><span id="l120.30"> statusAttributes[imIStatusInfo.STATUS_AVAILABLE] = &quot;available&quot;;</span>
<a href="#l120.31"></a><span id="l120.31"> </span>
<a href="#l120.32"></a><span id="l120.32" class="difflineminus">-const Status = {</span>
<a href="#l120.33"></a><span id="l120.33" class="difflineplus">+var Status = {</span>
<a href="#l120.34"></a><span id="l120.34">   toAttribute: aStatusType =&gt;</span>
<a href="#l120.35"></a><span id="l120.35">     aStatusType in statusAttributes ? statusAttributes[aStatusType] : &quot;unknown&quot;,</span>
<a href="#l120.36"></a><span id="l120.36"> </span>
<a href="#l120.37"></a><span id="l120.37">   _labels: {},</span>
<a href="#l120.38"></a><span id="l120.38">   toLabel: function(aStatusType, aStatusText) {</span>
<a href="#l120.39"></a><span id="l120.39">     // aStatusType may be either one of the (integral) imIStatusInfo status</span>
<a href="#l120.40"></a><span id="l120.40">     // constants, or one of the statusAttributes.</span>
<a href="#l120.41"></a><span id="l120.41">     if (!(typeof aStatusType == &quot;string&quot;))</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l121.1"></a><span id="l121.1" class="difflineminus">--- a/chat/modules/imTextboxUtils.jsm</span>
<a href="#l121.2"></a><span id="l121.2" class="difflineplus">+++ b/chat/modules/imTextboxUtils.jsm</span>
<a href="#l121.3"></a><span id="l121.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l121.4"></a><span id="l121.4"> </span>
<a href="#l121.5"></a><span id="l121.5"> this.EXPORTED_SYMBOLS = [</span>
<a href="#l121.6"></a><span id="l121.6">   &quot;MessageFormat&quot;,</span>
<a href="#l121.7"></a><span id="l121.7">   &quot;TextboxSize&quot;,</span>
<a href="#l121.8"></a><span id="l121.8">   &quot;TextboxSpellChecker&quot;</span>
<a href="#l121.9"></a><span id="l121.9"> ];</span>
<a href="#l121.10"></a><span id="l121.10"> </span>
<a href="#l121.11"></a><span id="l121.11"> Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l121.12"></a><span id="l121.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l121.13"></a><span id="l121.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l121.14"></a><span id="l121.14"> </span>
<a href="#l121.15"></a><span id="l121.15"> var MessageFormat = {</span>
<a href="#l121.16"></a><span id="l121.16">   _observedPrefs: [],</span>
<a href="#l121.17"></a><span id="l121.17"> </span>
<a href="#l121.18"></a><span id="l121.18">   getValues: function mf_getValues() {</span>
<a href="#l121.19"></a><span id="l121.19">     this.unregisterObservers();</span>
<a href="#l121.20"></a><span id="l121.20">     let langGroup =</span>
<a href="#l121.21"></a><span id="l121.21">       Services.prefs.getComplexValue(&quot;font.language.group&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l122.1"></a><span id="l122.1" class="difflineminus">--- a/chat/modules/imThemes.jsm</span>
<a href="#l122.2"></a><span id="l122.2" class="difflineplus">+++ b/chat/modules/imThemes.jsm</span>
<a href="#l122.3"></a><span id="l122.3" class="difflineat">@@ -9,33 +9,33 @@ this.EXPORTED_SYMBOLS = [</span>
<a href="#l122.4"></a><span id="l122.4">   &quot;getThemeVariants&quot;,</span>
<a href="#l122.5"></a><span id="l122.5">   &quot;isNextMessage&quot;,</span>
<a href="#l122.6"></a><span id="l122.6">   &quot;insertHTMLForMessage&quot;,</span>
<a href="#l122.7"></a><span id="l122.7">   &quot;initHTMLDocument&quot;,</span>
<a href="#l122.8"></a><span id="l122.8">   &quot;getMessagesForRange&quot;,</span>
<a href="#l122.9"></a><span id="l122.9">   &quot;serializeSelection&quot;</span>
<a href="#l122.10"></a><span id="l122.10"> ];</span>
<a href="#l122.11"></a><span id="l122.11"> </span>
<a href="#l122.12"></a><span id="l122.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l122.13"></a><span id="l122.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l122.14"></a><span id="l122.14"> </span>
<a href="#l122.15"></a><span id="l122.15"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l122.16"></a><span id="l122.16"> Cu.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l122.17"></a><span id="l122.17"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l122.18"></a><span id="l122.18"> </span>
<a href="#l122.19"></a><span id="l122.19" class="difflineminus">-const kMessagesStylePrefBranch = &quot;messenger.options.messagesStyle.&quot;;</span>
<a href="#l122.20"></a><span id="l122.20" class="difflineminus">-const kThemePref = &quot;theme&quot;;</span>
<a href="#l122.21"></a><span id="l122.21" class="difflineminus">-const kVariantPref = &quot;variant&quot;;</span>
<a href="#l122.22"></a><span id="l122.22" class="difflineminus">-const kShowHeaderPref = &quot;showHeader&quot;;</span>
<a href="#l122.23"></a><span id="l122.23" class="difflineminus">-const kCombineConsecutivePref = &quot;combineConsecutive&quot;;</span>
<a href="#l122.24"></a><span id="l122.24" class="difflineminus">-const kCombineConsecutiveIntervalPref = &quot;combineConsecutiveInterval&quot;;</span>
<a href="#l122.25"></a><span id="l122.25" class="difflineplus">+var kMessagesStylePrefBranch = &quot;messenger.options.messagesStyle.&quot;;</span>
<a href="#l122.26"></a><span id="l122.26" class="difflineplus">+var kThemePref = &quot;theme&quot;;</span>
<a href="#l122.27"></a><span id="l122.27" class="difflineplus">+var kVariantPref = &quot;variant&quot;;</span>
<a href="#l122.28"></a><span id="l122.28" class="difflineplus">+var kShowHeaderPref = &quot;showHeader&quot;;</span>
<a href="#l122.29"></a><span id="l122.29" class="difflineplus">+var kCombineConsecutivePref = &quot;combineConsecutive&quot;;</span>
<a href="#l122.30"></a><span id="l122.30" class="difflineplus">+var kCombineConsecutiveIntervalPref = &quot;combineConsecutiveInterval&quot;;</span>
<a href="#l122.31"></a><span id="l122.31"> </span>
<a href="#l122.32"></a><span id="l122.32" class="difflineminus">-const DEFAULT_THEME = &quot;bubbles&quot;;</span>
<a href="#l122.33"></a><span id="l122.33" class="difflineminus">-const DEFAULT_THEMES = [&quot;bubbles&quot;, &quot;dark&quot;, &quot;papersheets&quot;, &quot;simple&quot;];</span>
<a href="#l122.34"></a><span id="l122.34" class="difflineplus">+var DEFAULT_THEME = &quot;bubbles&quot;;</span>
<a href="#l122.35"></a><span id="l122.35" class="difflineplus">+var DEFAULT_THEMES = [&quot;bubbles&quot;, &quot;dark&quot;, &quot;papersheets&quot;, &quot;simple&quot;];</span>
<a href="#l122.36"></a><span id="l122.36"> </span>
<a href="#l122.37"></a><span id="l122.37" class="difflineminus">-const kLineBreak = &quot;@mozilla.org/windows-registry-key;1&quot; in Cc ? &quot;\r\n&quot; : &quot;\n&quot;;</span>
<a href="#l122.38"></a><span id="l122.38" class="difflineplus">+var kLineBreak = &quot;@mozilla.org/windows-registry-key;1&quot; in Cc ? &quot;\r\n&quot; : &quot;\n&quot;;</span>
<a href="#l122.39"></a><span id="l122.39"> </span>
<a href="#l122.40"></a><span id="l122.40"> XPCOMUtils.defineLazyGetter(this, &quot;gPrefBranch&quot;, () =&gt;</span>
<a href="#l122.41"></a><span id="l122.41">   Services.prefs.getBranch(kMessagesStylePrefBranch)</span>
<a href="#l122.42"></a><span id="l122.42"> );</span>
<a href="#l122.43"></a><span id="l122.43"> </span>
<a href="#l122.44"></a><span id="l122.44"> XPCOMUtils.defineLazyGetter(this, &quot;TXTToHTML&quot;, function() {</span>
<a href="#l122.45"></a><span id="l122.45">   let cs = Cc[&quot;@mozilla.org/txttohtmlconv;1&quot;].getService(Ci.mozITXTToHTMLConv);</span>
<a href="#l122.46"></a><span id="l122.46">   return aTXT =&gt; cs.scanTXT(aTXT, cs.kEntities);</span>
<a href="#l122.47"></a><span id="l122.47" class="difflineat">@@ -319,17 +319,17 @@ function getStatusIconFromBuddy(aBuddy)</span>
<a href="#l122.48"></a><span id="l122.48">       status = &quot;away&quot;;</span>
<a href="#l122.49"></a><span id="l122.49">     else</span>
<a href="#l122.50"></a><span id="l122.50">       status = &quot;available&quot;;</span>
<a href="#l122.51"></a><span id="l122.51">   }</span>
<a href="#l122.52"></a><span id="l122.52"> </span>
<a href="#l122.53"></a><span id="l122.53">   return &quot;chrome://chat/skin/&quot; + status + &quot;-16.png&quot;;</span>
<a href="#l122.54"></a><span id="l122.54"> }</span>
<a href="#l122.55"></a><span id="l122.55"> </span>
<a href="#l122.56"></a><span id="l122.56" class="difflineminus">-const headerFooterReplacements = {</span>
<a href="#l122.57"></a><span id="l122.57" class="difflineplus">+var headerFooterReplacements = {</span>
<a href="#l122.58"></a><span id="l122.58">   chatName: aConv =&gt; TXTToHTML(aConv.title),</span>
<a href="#l122.59"></a><span id="l122.59">   sourceName: aConv =&gt; TXTToHTML(aConv.account.alias || aConv.account.name),</span>
<a href="#l122.60"></a><span id="l122.60">   destinationName: aConv =&gt; TXTToHTML(aConv.name),</span>
<a href="#l122.61"></a><span id="l122.61">   destinationDisplayName: aConv =&gt; TXTToHTML(aConv.title),</span>
<a href="#l122.62"></a><span id="l122.62">   incomingIconPath: function(aConv) {</span>
<a href="#l122.63"></a><span id="l122.63">     let buddy;</span>
<a href="#l122.64"></a><span id="l122.64">     return (!aConv.isChat &amp;&amp; (buddy = aConv.buddy) &amp;&amp;</span>
<a href="#l122.65"></a><span id="l122.65">             buddy.buddyIconFilename) || &quot;incoming_icon.png&quot;;</span>
<a href="#l122.66"></a><span id="l122.66" class="difflineat">@@ -345,17 +345,17 @@ const headerFooterReplacements = {</span>
<a href="#l122.67"></a><span id="l122.67"> };</span>
<a href="#l122.68"></a><span id="l122.68"> </span>
<a href="#l122.69"></a><span id="l122.69"> function formatAutoResponce(aTxt) {</span>
<a href="#l122.70"></a><span id="l122.70">   return Services.strings</span>
<a href="#l122.71"></a><span id="l122.71">                  .createBundle(&quot;chrome://chat/locale/conversations.properties&quot;)</span>
<a href="#l122.72"></a><span id="l122.72">                  .formatStringFromName(&quot;autoReply&quot;, [aTxt], 1);</span>
<a href="#l122.73"></a><span id="l122.73"> }</span>
<a href="#l122.74"></a><span id="l122.74"> </span>
<a href="#l122.75"></a><span id="l122.75" class="difflineminus">-const statusMessageReplacements = {</span>
<a href="#l122.76"></a><span id="l122.76" class="difflineplus">+var statusMessageReplacements = {</span>
<a href="#l122.77"></a><span id="l122.77">   message: aMsg =&gt; &quot;&lt;span class=\&quot;ib-msg-txt\&quot;&gt;&quot; +</span>
<a href="#l122.78"></a><span id="l122.78">                    (aMsg.autoResponse ? formatAutoResponce(aMsg.message) : aMsg.message) +</span>
<a href="#l122.79"></a><span id="l122.79">                    &quot;&lt;/span&gt;&quot;,</span>
<a href="#l122.80"></a><span id="l122.80">   time: function(aMsg, aFormat) {</span>
<a href="#l122.81"></a><span id="l122.81">     let date = new Date(aMsg.time * 1000);</span>
<a href="#l122.82"></a><span id="l122.82">     if (aFormat)</span>
<a href="#l122.83"></a><span id="l122.83">       return date.toLocaleFormat(aFormat);</span>
<a href="#l122.84"></a><span id="l122.84">     return date.toLocaleTimeString();</span>
<a href="#l122.85"></a><span id="l122.85" class="difflineat">@@ -395,17 +395,17 @@ const statusMessageReplacements = {</span>
<a href="#l122.86"></a><span id="l122.86"> </span>
<a href="#l122.87"></a><span id="l122.87">     return msgClass.join(&quot; &quot;);</span>
<a href="#l122.88"></a><span id="l122.88">   }</span>
<a href="#l122.89"></a><span id="l122.89"> };</span>
<a href="#l122.90"></a><span id="l122.90"> </span>
<a href="#l122.91"></a><span id="l122.91"> function formatSender(aName) {</span>
<a href="#l122.92"></a><span id="l122.92">   return &quot;&lt;span class=\&quot;ib-sender\&quot;&gt;&quot; + TXTToHTML(aName) + &quot;&lt;/span&gt;&quot;;</span>
<a href="#l122.93"></a><span id="l122.93"> }</span>
<a href="#l122.94"></a><span id="l122.94" class="difflineminus">-const messageReplacements = {</span>
<a href="#l122.95"></a><span id="l122.95" class="difflineplus">+var messageReplacements = {</span>
<a href="#l122.96"></a><span id="l122.96">   userIconPath: function (aMsg) {</span>
<a href="#l122.97"></a><span id="l122.97">     // If the protocol plugin provides an icon for the message, use it.</span>
<a href="#l122.98"></a><span id="l122.98">     let iconURL = aMsg.iconURL;</span>
<a href="#l122.99"></a><span id="l122.99">     if (iconURL)</span>
<a href="#l122.100"></a><span id="l122.100">       return iconURL;</span>
<a href="#l122.101"></a><span id="l122.101"> </span>
<a href="#l122.102"></a><span id="l122.102">     // For outgoing messages, use the current user icon.</span>
<a href="#l122.103"></a><span id="l122.103">     if (aMsg.outgoing) {</span>
<a href="#l122.104"></a><span id="l122.104" class="difflineat">@@ -425,29 +425,29 @@ const messageReplacements = {</span>
<a href="#l122.105"></a><span id="l122.105">   // no theme actually use this, don't bother making sure this is the real</span>
<a href="#l122.106"></a><span id="l122.106">   // serverside alias</span>
<a href="#l122.107"></a><span id="l122.107">   senderDisplayName: aMsg =&gt; formatSender(aMsg.alias || aMsg.who),</span>
<a href="#l122.108"></a><span id="l122.108">   service: aMsg =&gt; aMsg.conversation.account.protocol.name,</span>
<a href="#l122.109"></a><span id="l122.109">   textbackgroundcolor: (aMsg, aFormat) =&gt; &quot;transparent&quot;, // FIXME?</span>
<a href="#l122.110"></a><span id="l122.110">   __proto__: statusMessageReplacements</span>
<a href="#l122.111"></a><span id="l122.111"> };</span>
<a href="#l122.112"></a><span id="l122.112"> </span>
<a href="#l122.113"></a><span id="l122.113" class="difflineminus">-const statusReplacements = {</span>
<a href="#l122.114"></a><span id="l122.114" class="difflineplus">+var statusReplacements = {</span>
<a href="#l122.115"></a><span id="l122.115">   status: aMsg =&gt; &quot;&quot;, //FIXME</span>
<a href="#l122.116"></a><span id="l122.116">   statusIcon: function(aMsg) {</span>
<a href="#l122.117"></a><span id="l122.117">     let conv = aMsg.conversation;</span>
<a href="#l122.118"></a><span id="l122.118">     let buddy = null;</span>
<a href="#l122.119"></a><span id="l122.119">     if (!conv.isChat)</span>
<a href="#l122.120"></a><span id="l122.120">       buddy = conv.buddy;</span>
<a href="#l122.121"></a><span id="l122.121">     return getStatusIconFromBuddy(buddy);</span>
<a href="#l122.122"></a><span id="l122.122">   },</span>
<a href="#l122.123"></a><span id="l122.123">   __proto__: statusMessageReplacements</span>
<a href="#l122.124"></a><span id="l122.124"> };</span>
<a href="#l122.125"></a><span id="l122.125"> </span>
<a href="#l122.126"></a><span id="l122.126" class="difflineminus">-const kReplacementRegExp = /%([a-zA-Z]*)(\{([^\}]*)\})?%/g;</span>
<a href="#l122.127"></a><span id="l122.127" class="difflineplus">+var kReplacementRegExp = /%([a-zA-Z]*)(\{([^\}]*)\})?%/g;</span>
<a href="#l122.128"></a><span id="l122.128"> </span>
<a href="#l122.129"></a><span id="l122.129"> function replaceKeywordsInHTML(aHTML, aReplacements, aReplacementArg)</span>
<a href="#l122.130"></a><span id="l122.130"> {</span>
<a href="#l122.131"></a><span id="l122.131">   kReplacementRegExp.lastIndex = 0;</span>
<a href="#l122.132"></a><span id="l122.132">   let previousIndex = 0;</span>
<a href="#l122.133"></a><span id="l122.133">   let result = &quot;&quot;;</span>
<a href="#l122.134"></a><span id="l122.134">   let match;</span>
<a href="#l122.135"></a><span id="l122.135">   while ((match = kReplacementRegExp.exec(aHTML))) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l123.1"></a><span id="l123.1" class="difflineminus">--- a/chat/modules/imXPCOMUtils.jsm</span>
<a href="#l123.2"></a><span id="l123.2" class="difflineplus">+++ b/chat/modules/imXPCOMUtils.jsm</span>
<a href="#l123.3"></a><span id="l123.3" class="difflineat">@@ -9,22 +9,22 @@ this.EXPORTED_SYMBOLS = [</span>
<a href="#l123.4"></a><span id="l123.4">   &quot;executeSoon&quot;,</span>
<a href="#l123.5"></a><span id="l123.5">   &quot;nsSimpleEnumerator&quot;,</span>
<a href="#l123.6"></a><span id="l123.6">   &quot;EmptyEnumerator&quot;,</span>
<a href="#l123.7"></a><span id="l123.7">   &quot;ClassInfo&quot;,</span>
<a href="#l123.8"></a><span id="l123.8">   &quot;l10nHelper&quot;,</span>
<a href="#l123.9"></a><span id="l123.9">   &quot;initLogModule&quot;</span>
<a href="#l123.10"></a><span id="l123.10"> ];</span>
<a href="#l123.11"></a><span id="l123.11"> </span>
<a href="#l123.12"></a><span id="l123.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l123.13"></a><span id="l123.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l123.14"></a><span id="l123.14"> </span>
<a href="#l123.15"></a><span id="l123.15"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l123.16"></a><span id="l123.16"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l123.17"></a><span id="l123.17"> </span>
<a href="#l123.18"></a><span id="l123.18" class="difflineminus">-const kLogLevelPref = &quot;purple.debug.loglevel&quot;;</span>
<a href="#l123.19"></a><span id="l123.19" class="difflineplus">+var kLogLevelPref = &quot;purple.debug.loglevel&quot;;</span>
<a href="#l123.20"></a><span id="l123.20"> </span>
<a href="#l123.21"></a><span id="l123.21"> /**</span>
<a href="#l123.22"></a><span id="l123.22">  * Creates an nsIScriptError instance and logs it.</span>
<a href="#l123.23"></a><span id="l123.23">  *</span>
<a href="#l123.24"></a><span id="l123.24">  * @param aModule</span>
<a href="#l123.25"></a><span id="l123.25">  *        string identifying the module within which the error occurred.</span>
<a href="#l123.26"></a><span id="l123.26">  * @param aLevel</span>
<a href="#l123.27"></a><span id="l123.27">  *        the error level as defined in imIDebugMessage.</span>
<a href="#l123.28"></a><span id="l123.28" class="difflineat">@@ -237,13 +237,13 @@ nsSimpleEnumerator.prototype = {</span>
<a href="#l123.29"></a><span id="l123.29">     if (!this.hasMoreElements())</span>
<a href="#l123.30"></a><span id="l123.30">       throw Cr.NS_ERROR_NOT_AVAILABLE;</span>
<a href="#l123.31"></a><span id="l123.31"> </span>
<a href="#l123.32"></a><span id="l123.32">     return this._items[this._nextIndex++];</span>
<a href="#l123.33"></a><span id="l123.33">   },</span>
<a href="#l123.34"></a><span id="l123.34">   QueryInterface: XPCOMUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l123.35"></a><span id="l123.35"> };</span>
<a href="#l123.36"></a><span id="l123.36"> </span>
<a href="#l123.37"></a><span id="l123.37" class="difflineminus">-const EmptyEnumerator = {</span>
<a href="#l123.38"></a><span id="l123.38" class="difflineplus">+var EmptyEnumerator = {</span>
<a href="#l123.39"></a><span id="l123.39">   hasMoreElements: () =&gt; false,</span>
<a href="#l123.40"></a><span id="l123.40">   getNext: function() { throw Cr.NS_ERROR_NOT_AVAILABLE; },</span>
<a href="#l123.41"></a><span id="l123.41">   QueryInterface: XPCOMUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l123.42"></a><span id="l123.42"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l124.1"></a><span id="l124.1" class="difflineminus">--- a/chat/modules/jsProtoHelper.jsm</span>
<a href="#l124.2"></a><span id="l124.2" class="difflineplus">+++ b/chat/modules/jsProtoHelper.jsm</span>
<a href="#l124.3"></a><span id="l124.3" class="difflineat">@@ -10,26 +10,26 @@ this.EXPORTED_SYMBOLS = [</span>
<a href="#l124.4"></a><span id="l124.4">   &quot;GenericConvChatBuddyPrototype&quot;,</span>
<a href="#l124.5"></a><span id="l124.5">   &quot;GenericConversationPrototype&quot;,</span>
<a href="#l124.6"></a><span id="l124.6">   &quot;GenericMessagePrototype&quot;,</span>
<a href="#l124.7"></a><span id="l124.7">   &quot;GenericProtocolPrototype&quot;,</span>
<a href="#l124.8"></a><span id="l124.8">   &quot;Message&quot;,</span>
<a href="#l124.9"></a><span id="l124.9">   &quot;TooltipInfo&quot;</span>
<a href="#l124.10"></a><span id="l124.10"> ];</span>
<a href="#l124.11"></a><span id="l124.11"> </span>
<a href="#l124.12"></a><span id="l124.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l124.13"></a><span id="l124.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l124.14"></a><span id="l124.14"> </span>
<a href="#l124.15"></a><span id="l124.15"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l124.16"></a><span id="l124.16"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l124.17"></a><span id="l124.17"> </span>
<a href="#l124.18"></a><span id="l124.18"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l124.19"></a><span id="l124.19">   l10nHelper(&quot;chrome://chat/locale/conversations.properties&quot;)</span>
<a href="#l124.20"></a><span id="l124.20"> );</span>
<a href="#l124.21"></a><span id="l124.21"> </span>
<a href="#l124.22"></a><span id="l124.22" class="difflineminus">-const GenericAccountPrototype = {</span>
<a href="#l124.23"></a><span id="l124.23" class="difflineplus">+var GenericAccountPrototype = {</span>
<a href="#l124.24"></a><span id="l124.24">   __proto__: ClassInfo(&quot;prplIAccount&quot;, &quot;generic account object&quot;),</span>
<a href="#l124.25"></a><span id="l124.25">   get wrappedJSObject() { return this; },</span>
<a href="#l124.26"></a><span id="l124.26">   _init: function _init(aProtocol, aImAccount) {</span>
<a href="#l124.27"></a><span id="l124.27">     this.protocol = aProtocol;</span>
<a href="#l124.28"></a><span id="l124.28">     this.imAccount = aImAccount;</span>
<a href="#l124.29"></a><span id="l124.29">     initLogModule(aProtocol.id, this);</span>
<a href="#l124.30"></a><span id="l124.30">   },</span>
<a href="#l124.31"></a><span id="l124.31">   observe: function(aSubject, aTopic, aData) {},</span>
<a href="#l124.32"></a><span id="l124.32" class="difflineat">@@ -240,17 +240,17 @@ const GenericAccountPrototype = {</span>
<a href="#l124.33"></a><span id="l124.33">   get autoResponses() { return false; },</span>
<a href="#l124.34"></a><span id="l124.34">   get singleFormatting() { return false; },</span>
<a href="#l124.35"></a><span id="l124.35">   get noFontSizes() { return false; },</span>
<a href="#l124.36"></a><span id="l124.36">   get noUrlDesc() { return false; },</span>
<a href="#l124.37"></a><span id="l124.37">   get noImages() { return true; }</span>
<a href="#l124.38"></a><span id="l124.38"> };</span>
<a href="#l124.39"></a><span id="l124.39"> </span>
<a href="#l124.40"></a><span id="l124.40"> </span>
<a href="#l124.41"></a><span id="l124.41" class="difflineminus">-const GenericAccountBuddyPrototype = {</span>
<a href="#l124.42"></a><span id="l124.42" class="difflineplus">+var GenericAccountBuddyPrototype = {</span>
<a href="#l124.43"></a><span id="l124.43">   __proto__: ClassInfo(&quot;prplIAccountBuddy&quot;, &quot;generic account buddy object&quot;),</span>
<a href="#l124.44"></a><span id="l124.44">   get DEBUG() { return this._account.DEBUG; },</span>
<a href="#l124.45"></a><span id="l124.45">   get LOG() { return this._account.LOG; },</span>
<a href="#l124.46"></a><span id="l124.46">   get WARN() { return this._account.WARN; },</span>
<a href="#l124.47"></a><span id="l124.47">   get ERROR() { return this._account.ERROR; },</span>
<a href="#l124.48"></a><span id="l124.48"> </span>
<a href="#l124.49"></a><span id="l124.49">   _init: function(aAccount, aBuddy, aTag, aUserName) {</span>
<a href="#l124.50"></a><span id="l124.50">     if (!aBuddy &amp;&amp; !aUserName)</span>
<a href="#l124.51"></a><span id="l124.51" class="difflineat">@@ -374,17 +374,17 @@ const GenericAccountBuddyPrototype = {</span>
<a href="#l124.52"></a><span id="l124.52"> };</span>
<a href="#l124.53"></a><span id="l124.53"> </span>
<a href="#l124.54"></a><span id="l124.54"> // aUserName is required only if aBuddy is null, i.e., we are adding a buddy.</span>
<a href="#l124.55"></a><span id="l124.55"> function AccountBuddy(aAccount, aBuddy, aTag, aUserName) {</span>
<a href="#l124.56"></a><span id="l124.56">   this._init(aAccount, aBuddy, aTag, aUserName);</span>
<a href="#l124.57"></a><span id="l124.57"> }</span>
<a href="#l124.58"></a><span id="l124.58"> AccountBuddy.prototype = GenericAccountBuddyPrototype;</span>
<a href="#l124.59"></a><span id="l124.59"> </span>
<a href="#l124.60"></a><span id="l124.60" class="difflineminus">-const GenericMessagePrototype = {</span>
<a href="#l124.61"></a><span id="l124.61" class="difflineplus">+var GenericMessagePrototype = {</span>
<a href="#l124.62"></a><span id="l124.62">   __proto__: ClassInfo(&quot;prplIMessage&quot;, &quot;generic message object&quot;),</span>
<a href="#l124.63"></a><span id="l124.63"> </span>
<a href="#l124.64"></a><span id="l124.64">   _lastId: 0,</span>
<a href="#l124.65"></a><span id="l124.65">   _init: function (aWho, aMessage, aObject) {</span>
<a href="#l124.66"></a><span id="l124.66">     this.id = ++GenericMessagePrototype._lastId;</span>
<a href="#l124.67"></a><span id="l124.67">     this.time = Math.round(new Date() / 1000);</span>
<a href="#l124.68"></a><span id="l124.68">     this.who = aWho;</span>
<a href="#l124.69"></a><span id="l124.69">     this.message = aMessage;</span>
<a href="#l124.70"></a><span id="l124.70" class="difflineat">@@ -438,17 +438,17 @@ const GenericMessagePrototype = {</span>
<a href="#l124.71"></a><span id="l124.71"> };</span>
<a href="#l124.72"></a><span id="l124.72"> </span>
<a href="#l124.73"></a><span id="l124.73"> function Message(aWho, aMessage, aObject) {</span>
<a href="#l124.74"></a><span id="l124.74">   this._init(aWho, aMessage, aObject);</span>
<a href="#l124.75"></a><span id="l124.75"> }</span>
<a href="#l124.76"></a><span id="l124.76"> Message.prototype = GenericMessagePrototype;</span>
<a href="#l124.77"></a><span id="l124.77"> </span>
<a href="#l124.78"></a><span id="l124.78"> </span>
<a href="#l124.79"></a><span id="l124.79" class="difflineminus">-const GenericConversationPrototype = {</span>
<a href="#l124.80"></a><span id="l124.80" class="difflineplus">+var GenericConversationPrototype = {</span>
<a href="#l124.81"></a><span id="l124.81">   __proto__: ClassInfo(&quot;prplIConversation&quot;, &quot;generic conversation object&quot;),</span>
<a href="#l124.82"></a><span id="l124.82">   get wrappedJSObject() { return this; },</span>
<a href="#l124.83"></a><span id="l124.83"> </span>
<a href="#l124.84"></a><span id="l124.84">   get DEBUG() { return this._account.DEBUG; },</span>
<a href="#l124.85"></a><span id="l124.85">   get LOG() { return this._account.LOG; },</span>
<a href="#l124.86"></a><span id="l124.86">   get WARN() { return this._account.WARN; },</span>
<a href="#l124.87"></a><span id="l124.87">   get ERROR() { return this._account.ERROR; },</span>
<a href="#l124.88"></a><span id="l124.88"> </span>
<a href="#l124.89"></a><span id="l124.89" class="difflineat">@@ -512,17 +512,17 @@ const GenericConversationPrototype = {</span>
<a href="#l124.90"></a><span id="l124.90"> </span>
<a href="#l124.91"></a><span id="l124.91">   get account() { return this._account.imAccount; },</span>
<a href="#l124.92"></a><span id="l124.92">   get name() { return this._name; },</span>
<a href="#l124.93"></a><span id="l124.93">   get normalizedName() { return this._account.normalize(this.name); },</span>
<a href="#l124.94"></a><span id="l124.94">   get title() { return this.name; },</span>
<a href="#l124.95"></a><span id="l124.95">   get startDate() { return this._date; }</span>
<a href="#l124.96"></a><span id="l124.96"> };</span>
<a href="#l124.97"></a><span id="l124.97"> </span>
<a href="#l124.98"></a><span id="l124.98" class="difflineminus">-const GenericConvIMPrototype = {</span>
<a href="#l124.99"></a><span id="l124.99" class="difflineplus">+var GenericConvIMPrototype = {</span>
<a href="#l124.100"></a><span id="l124.100">   __proto__: GenericConversationPrototype,</span>
<a href="#l124.101"></a><span id="l124.101">   _interfaces: [Ci.prplIConversation, Ci.prplIConvIM],</span>
<a href="#l124.102"></a><span id="l124.102">   classDescription: &quot;generic ConvIM object&quot;,</span>
<a href="#l124.103"></a><span id="l124.103"> </span>
<a href="#l124.104"></a><span id="l124.104">   updateTyping: function(aState, aName) {</span>
<a href="#l124.105"></a><span id="l124.105">     if (aState == this.typingState)</span>
<a href="#l124.106"></a><span id="l124.106">       return;</span>
<a href="#l124.107"></a><span id="l124.107"> </span>
<a href="#l124.108"></a><span id="l124.108" class="difflineat">@@ -533,17 +533,17 @@ const GenericConvIMPrototype = {</span>
<a href="#l124.109"></a><span id="l124.109">     this.notifyObservers(null, &quot;update-typing&quot;, aName);</span>
<a href="#l124.110"></a><span id="l124.110">   },</span>
<a href="#l124.111"></a><span id="l124.111"> </span>
<a href="#l124.112"></a><span id="l124.112">   get isChat() { return false; },</span>
<a href="#l124.113"></a><span id="l124.113">   buddy: null,</span>
<a href="#l124.114"></a><span id="l124.114">   typingState: Ci.prplIConvIM.NOT_TYPING</span>
<a href="#l124.115"></a><span id="l124.115"> };</span>
<a href="#l124.116"></a><span id="l124.116"> </span>
<a href="#l124.117"></a><span id="l124.117" class="difflineminus">-const GenericConvChatPrototype = {</span>
<a href="#l124.118"></a><span id="l124.118" class="difflineplus">+var GenericConvChatPrototype = {</span>
<a href="#l124.119"></a><span id="l124.119">   __proto__: GenericConversationPrototype,</span>
<a href="#l124.120"></a><span id="l124.120">   _interfaces: [Ci.prplIConversation, Ci.prplIConvChat],</span>
<a href="#l124.121"></a><span id="l124.121">   classDescription: &quot;generic ConvChat object&quot;,</span>
<a href="#l124.122"></a><span id="l124.122"> </span>
<a href="#l124.123"></a><span id="l124.123">   _init: function(aAccount, aName, aNick) {</span>
<a href="#l124.124"></a><span id="l124.124">     this._participants = new Map();</span>
<a href="#l124.125"></a><span id="l124.125">     this.nick = aNick;</span>
<a href="#l124.126"></a><span id="l124.126">     GenericConversationPrototype._init.call(this, aAccount, aName);</span>
<a href="#l124.127"></a><span id="l124.127" class="difflineat">@@ -688,17 +688,17 @@ const GenericConvChatPrototype = {</span>
<a href="#l124.128"></a><span id="l124.128"> </span>
<a href="#l124.129"></a><span id="l124.129">   writeMessage: function (aWho, aText, aProperties) {</span>
<a href="#l124.130"></a><span id="l124.130">     aProperties.containsNick =</span>
<a href="#l124.131"></a><span id="l124.131">       &quot;incoming&quot; in aProperties &amp;&amp; this._pingRegexp.test(aText);</span>
<a href="#l124.132"></a><span id="l124.132">     GenericConversationPrototype.writeMessage.apply(this, arguments);</span>
<a href="#l124.133"></a><span id="l124.133">   }</span>
<a href="#l124.134"></a><span id="l124.134"> };</span>
<a href="#l124.135"></a><span id="l124.135"> </span>
<a href="#l124.136"></a><span id="l124.136" class="difflineminus">-const GenericConvChatBuddyPrototype = {</span>
<a href="#l124.137"></a><span id="l124.137" class="difflineplus">+var GenericConvChatBuddyPrototype = {</span>
<a href="#l124.138"></a><span id="l124.138">   __proto__: ClassInfo(&quot;prplIConvChatBuddy&quot;, &quot;generic ConvChatBuddy object&quot;),</span>
<a href="#l124.139"></a><span id="l124.139"> </span>
<a href="#l124.140"></a><span id="l124.140">   _name: &quot;&quot;,</span>
<a href="#l124.141"></a><span id="l124.141">   get name() this._name,</span>
<a href="#l124.142"></a><span id="l124.142">   set name(aName) this._name = aName,</span>
<a href="#l124.143"></a><span id="l124.143">   alias: &quot;&quot;,</span>
<a href="#l124.144"></a><span id="l124.144">   buddy: false,</span>
<a href="#l124.145"></a><span id="l124.145"> </span>
<a href="#l124.146"></a><span id="l124.146" class="difflineat">@@ -840,17 +840,17 @@ ChatRoomFieldValues.prototype = {</span>
<a href="#l124.147"></a><span id="l124.147">   },</span>
<a href="#l124.148"></a><span id="l124.148">   setValue: function(aIdentifier, aValue) {</span>
<a href="#l124.149"></a><span id="l124.149">     this.values[aIdentifier] = aValue;</span>
<a href="#l124.150"></a><span id="l124.150">   }</span>
<a href="#l124.151"></a><span id="l124.151"> };</span>
<a href="#l124.152"></a><span id="l124.152"> </span>
<a href="#l124.153"></a><span id="l124.153"> // the name getter and the getAccount method need to be implemented by</span>
<a href="#l124.154"></a><span id="l124.154"> // protocol plugins.</span>
<a href="#l124.155"></a><span id="l124.155" class="difflineminus">-const GenericProtocolPrototype = {</span>
<a href="#l124.156"></a><span id="l124.156" class="difflineplus">+var GenericProtocolPrototype = {</span>
<a href="#l124.157"></a><span id="l124.157">   __proto__: ClassInfo(&quot;prplIProtocol&quot;, &quot;Generic protocol object&quot;),</span>
<a href="#l124.158"></a><span id="l124.158"> </span>
<a href="#l124.159"></a><span id="l124.159">   init: function(aId) {</span>
<a href="#l124.160"></a><span id="l124.160">     if (aId != this.id)</span>
<a href="#l124.161"></a><span id="l124.161">       throw &quot;Creating an instance of &quot; + aId + &quot; but this object implements &quot; + this.id;</span>
<a href="#l124.162"></a><span id="l124.162">   },</span>
<a href="#l124.163"></a><span id="l124.163">   get id() { return &quot;prpl-&quot; + this.normalizedName; },</span>
<a href="#l124.164"></a><span id="l124.164">   // This is more aggressive than the account normalization of just</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l125.1"></a><span id="l125.1" class="difflineminus">--- a/chat/modules/socket.jsm</span>
<a href="#l125.2"></a><span id="l125.2" class="difflineplus">+++ b/chat/modules/socket.jsm</span>
<a href="#l125.3"></a><span id="l125.3" class="difflineat">@@ -72,50 +72,50 @@</span>
<a href="#l125.4"></a><span id="l125.4">  * To Do:</span>
<a href="#l125.5"></a><span id="l125.5">  *   Add a message queue to keep from flooding a server (just an array, just</span>
<a href="#l125.6"></a><span id="l125.6">  *     keep shifting the first element off and calling as setTimeout for the</span>
<a href="#l125.7"></a><span id="l125.7">  *     desired flood time?).</span>
<a href="#l125.8"></a><span id="l125.8">  */</span>
<a href="#l125.9"></a><span id="l125.9"> </span>
<a href="#l125.10"></a><span id="l125.10"> this.EXPORTED_SYMBOLS = [&quot;Socket&quot;];</span>
<a href="#l125.11"></a><span id="l125.11"> </span>
<a href="#l125.12"></a><span id="l125.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l125.13"></a><span id="l125.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l125.14"></a><span id="l125.14"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l125.15"></a><span id="l125.15"> Cu.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l125.16"></a><span id="l125.16"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l125.17"></a><span id="l125.17"> </span>
<a href="#l125.18"></a><span id="l125.18"> // Network errors see: xpcom/base/nsError.h</span>
<a href="#l125.19"></a><span id="l125.19" class="difflineminus">-const NS_ERROR_MODULE_NETWORK = 2152398848;</span>
<a href="#l125.20"></a><span id="l125.20" class="difflineminus">-const NS_ERROR_CONNECTION_REFUSED = NS_ERROR_MODULE_NETWORK + 13;</span>
<a href="#l125.21"></a><span id="l125.21" class="difflineminus">-const NS_ERROR_NET_TIMEOUT = NS_ERROR_MODULE_NETWORK + 14;</span>
<a href="#l125.22"></a><span id="l125.22" class="difflineminus">-const NS_ERROR_NET_RESET = NS_ERROR_MODULE_NETWORK + 20;</span>
<a href="#l125.23"></a><span id="l125.23" class="difflineminus">-const NS_ERROR_UNKNOWN_HOST = NS_ERROR_MODULE_NETWORK + 30;</span>
<a href="#l125.24"></a><span id="l125.24" class="difflineminus">-const NS_ERROR_UNKNOWN_PROXY_HOST = NS_ERROR_MODULE_NETWORK + 42;</span>
<a href="#l125.25"></a><span id="l125.25" class="difflineminus">-const NS_ERROR_PROXY_CONNECTION_REFUSED = NS_ERROR_MODULE_NETWORK + 72;</span>
<a href="#l125.26"></a><span id="l125.26" class="difflineplus">+var NS_ERROR_MODULE_NETWORK = 2152398848;</span>
<a href="#l125.27"></a><span id="l125.27" class="difflineplus">+var NS_ERROR_CONNECTION_REFUSED = NS_ERROR_MODULE_NETWORK + 13;</span>
<a href="#l125.28"></a><span id="l125.28" class="difflineplus">+var NS_ERROR_NET_TIMEOUT = NS_ERROR_MODULE_NETWORK + 14;</span>
<a href="#l125.29"></a><span id="l125.29" class="difflineplus">+var NS_ERROR_NET_RESET = NS_ERROR_MODULE_NETWORK + 20;</span>
<a href="#l125.30"></a><span id="l125.30" class="difflineplus">+var NS_ERROR_UNKNOWN_HOST = NS_ERROR_MODULE_NETWORK + 30;</span>
<a href="#l125.31"></a><span id="l125.31" class="difflineplus">+var NS_ERROR_UNKNOWN_PROXY_HOST = NS_ERROR_MODULE_NETWORK + 42;</span>
<a href="#l125.32"></a><span id="l125.32" class="difflineplus">+var NS_ERROR_PROXY_CONNECTION_REFUSED = NS_ERROR_MODULE_NETWORK + 72;</span>
<a href="#l125.33"></a><span id="l125.33"> </span>
<a href="#l125.34"></a><span id="l125.34" class="difflineminus">-const BinaryInputStream =</span>
<a href="#l125.35"></a><span id="l125.35" class="difflineplus">+var BinaryInputStream =</span>
<a href="#l125.36"></a><span id="l125.36">   Components.Constructor(&quot;@mozilla.org/binaryinputstream;1&quot;,</span>
<a href="#l125.37"></a><span id="l125.37">                          &quot;nsIBinaryInputStream&quot;, &quot;setInputStream&quot;);</span>
<a href="#l125.38"></a><span id="l125.38" class="difflineminus">-const BinaryOutputStream =</span>
<a href="#l125.39"></a><span id="l125.39" class="difflineplus">+var BinaryOutputStream =</span>
<a href="#l125.40"></a><span id="l125.40">   Components.Constructor(&quot;@mozilla.org/binaryoutputstream;1&quot;,</span>
<a href="#l125.41"></a><span id="l125.41">                          &quot;nsIBinaryOutputStream&quot;, &quot;setOutputStream&quot;);</span>
<a href="#l125.42"></a><span id="l125.42" class="difflineminus">-const ScriptableInputStream =</span>
<a href="#l125.43"></a><span id="l125.43" class="difflineplus">+var ScriptableInputStream =</span>
<a href="#l125.44"></a><span id="l125.44">   Components.Constructor(&quot;@mozilla.org/scriptableinputstream;1&quot;,</span>
<a href="#l125.45"></a><span id="l125.45">                          &quot;nsIScriptableInputStream&quot;, &quot;init&quot;);</span>
<a href="#l125.46"></a><span id="l125.46" class="difflineminus">-const ServerSocket =</span>
<a href="#l125.47"></a><span id="l125.47" class="difflineplus">+var ServerSocket =</span>
<a href="#l125.48"></a><span id="l125.48">   Components.Constructor(&quot;@mozilla.org/network/server-socket;1&quot;,</span>
<a href="#l125.49"></a><span id="l125.49">                          &quot;nsIServerSocket&quot;, &quot;init&quot;);</span>
<a href="#l125.50"></a><span id="l125.50" class="difflineminus">-const InputStreamPump =</span>
<a href="#l125.51"></a><span id="l125.51" class="difflineplus">+var InputStreamPump =</span>
<a href="#l125.52"></a><span id="l125.52">   Components.Constructor(&quot;@mozilla.org/network/input-stream-pump;1&quot;,</span>
<a href="#l125.53"></a><span id="l125.53">                          &quot;nsIInputStreamPump&quot;, &quot;init&quot;);</span>
<a href="#l125.54"></a><span id="l125.54" class="difflineminus">-const ScriptableUnicodeConverter =</span>
<a href="#l125.55"></a><span id="l125.55" class="difflineplus">+var ScriptableUnicodeConverter =</span>
<a href="#l125.56"></a><span id="l125.56">   Components.Constructor(&quot;@mozilla.org/intl/scriptableunicodeconverter&quot;,</span>
<a href="#l125.57"></a><span id="l125.57">                          &quot;nsIScriptableUnicodeConverter&quot;);</span>
<a href="#l125.58"></a><span id="l125.58"> </span>
<a href="#l125.59"></a><span id="l125.59" class="difflineminus">-const Socket = {</span>
<a href="#l125.60"></a><span id="l125.60" class="difflineplus">+var Socket = {</span>
<a href="#l125.61"></a><span id="l125.61">   // Use this to use binary mode for the</span>
<a href="#l125.62"></a><span id="l125.62">   binaryMode: false,</span>
<a href="#l125.63"></a><span id="l125.63"> </span>
<a href="#l125.64"></a><span id="l125.64">   // Set this for non-binary mode to automatically parse the stream into chunks</span>
<a href="#l125.65"></a><span id="l125.65">   // separated by delimiter.</span>
<a href="#l125.66"></a><span id="l125.66">   delimiter: &quot;&quot;,</span>
<a href="#l125.67"></a><span id="l125.67"> </span>
<a href="#l125.68"></a><span id="l125.68">   // Set this for the segment size of outgoing binary streams.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l126.1"></a><span id="l126.1" class="difflineminus">--- a/chat/modules/test/appInfoUtils.jsm</span>
<a href="#l126.2"></a><span id="l126.2" class="difflineplus">+++ b/chat/modules/test/appInfoUtils.jsm</span>
<a href="#l126.3"></a><span id="l126.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l126.4"></a><span id="l126.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l126.5"></a><span id="l126.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l126.6"></a><span id="l126.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l126.7"></a><span id="l126.7"> </span>
<a href="#l126.8"></a><span id="l126.8"> this.EXPORTED_SYMBOLS = [&quot;XULAppInfo&quot;];</span>
<a href="#l126.9"></a><span id="l126.9"> </span>
<a href="#l126.10"></a><span id="l126.10" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l126.11"></a><span id="l126.11" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l126.12"></a><span id="l126.12"> </span>
<a href="#l126.13"></a><span id="l126.13"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l126.14"></a><span id="l126.14"> </span>
<a href="#l126.15"></a><span id="l126.15"> var XULAppInfo = {</span>
<a href="#l126.16"></a><span id="l126.16">   vendor: &quot;Mozilla&quot;,</span>
<a href="#l126.17"></a><span id="l126.17">   name: &quot;XPCShell&quot;,</span>
<a href="#l126.18"></a><span id="l126.18">   ID: &quot;{39885e5f-f6b4-4e2a-87e5-6259ecf79011}&quot;,</span>
<a href="#l126.19"></a><span id="l126.19">   version: &quot;5&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l127.1"></a><span id="l127.1" class="difflineminus">--- a/chat/modules/test/test_filtering.js</span>
<a href="#l127.2"></a><span id="l127.2" class="difflineplus">+++ b/chat/modules/test/test_filtering.js</span>
<a href="#l127.3"></a><span id="l127.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l127.4"></a><span id="l127.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l127.5"></a><span id="l127.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l127.6"></a><span id="l127.6"> </span>
<a href="#l127.7"></a><span id="l127.7"> Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l127.8"></a><span id="l127.8"> Components.utils.import(&quot;resource:///modules/imContentSink.jsm&quot;);</span>
<a href="#l127.9"></a><span id="l127.9"> </span>
<a href="#l127.10"></a><span id="l127.10" class="difflineminus">-const kModePref = &quot;messenger.options.filterMode&quot;;</span>
<a href="#l127.11"></a><span id="l127.11" class="difflineminus">-const kStrictMode = 0, kStandardMode = 1, kPermissiveMode = 2;</span>
<a href="#l127.12"></a><span id="l127.12" class="difflineplus">+var kModePref = &quot;messenger.options.filterMode&quot;;</span>
<a href="#l127.13"></a><span id="l127.13" class="difflineplus">+var kStrictMode = 0, kStandardMode = 1, kPermissiveMode = 2;</span>
<a href="#l127.14"></a><span id="l127.14"> </span>
<a href="#l127.15"></a><span id="l127.15"> function run_test() {</span>
<a href="#l127.16"></a><span id="l127.16">   let defaultMode = Services.prefs.getIntPref(kModePref);</span>
<a href="#l127.17"></a><span id="l127.17"> </span>
<a href="#l127.18"></a><span id="l127.18">   add_test(test_strictMode);</span>
<a href="#l127.19"></a><span id="l127.19">   add_test(test_standardMode);</span>
<a href="#l127.20"></a><span id="l127.20">   add_test(test_permissiveMode);</span>
<a href="#l127.21"></a><span id="l127.21">   add_test(test_addGlobalAllowedTag);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l128.1"></a><span id="l128.1" class="difflineminus">--- a/chat/protocols/facebook/facebook.js</span>
<a href="#l128.2"></a><span id="l128.2" class="difflineplus">+++ b/chat/protocols/facebook/facebook.js</span>
<a href="#l128.3"></a><span id="l128.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l128.4"></a><span id="l128.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l128.5"></a><span id="l128.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l128.6"></a><span id="l128.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l128.7"></a><span id="l128.7"> </span>
<a href="#l128.8"></a><span id="l128.8" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l128.9"></a><span id="l128.9" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l128.10"></a><span id="l128.10"> </span>
<a href="#l128.11"></a><span id="l128.11"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l128.12"></a><span id="l128.12"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l128.13"></a><span id="l128.13"> Cu.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l128.14"></a><span id="l128.14"> Cu.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l128.15"></a><span id="l128.15"> </span>
<a href="#l128.16"></a><span id="l128.16"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l128.17"></a><span id="l128.17">   l10nHelper(&quot;chrome://chat/locale/facebook.properties&quot;)</span>
<a href="#l128.18"></a><span id="l128.18" class="difflineat">@@ -50,9 +50,9 @@ FacebookProtocol.prototype = {</span>
<a href="#l128.19"></a><span id="l128.19">   __proto__: GenericProtocolPrototype,</span>
<a href="#l128.20"></a><span id="l128.20">   get normalizedName() { return &quot;facebook&quot;; },</span>
<a href="#l128.21"></a><span id="l128.21">   get name() { return _(&quot;facebook.chat.name&quot;); },</span>
<a href="#l128.22"></a><span id="l128.22">   get iconBaseURI() { return &quot;chrome://prpl-facebook/skin/&quot;; },</span>
<a href="#l128.23"></a><span id="l128.23">   getAccount: function(aImAccount) { return new FacebookAccount(this, aImAccount); },</span>
<a href="#l128.24"></a><span id="l128.24">   classID: Components.ID(&quot;{1d1d0bc5-610c-472f-b2cb-4b89857d80dc}&quot;)</span>
<a href="#l128.25"></a><span id="l128.25"> };</span>
<a href="#l128.26"></a><span id="l128.26"> </span>
<a href="#l128.27"></a><span id="l128.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([FacebookProtocol]);</span>
<a href="#l128.28"></a><span id="l128.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([FacebookProtocol]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l129.1"></a><span id="l129.1" class="difflineminus">--- a/chat/protocols/gtalk/gtalk.js</span>
<a href="#l129.2"></a><span id="l129.2" class="difflineplus">+++ b/chat/protocols/gtalk/gtalk.js</span>
<a href="#l129.3"></a><span id="l129.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l129.4"></a><span id="l129.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l129.5"></a><span id="l129.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l129.6"></a><span id="l129.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l129.7"></a><span id="l129.7"> </span>
<a href="#l129.8"></a><span id="l129.8" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l129.9"></a><span id="l129.9" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l129.10"></a><span id="l129.10"> </span>
<a href="#l129.11"></a><span id="l129.11"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l129.12"></a><span id="l129.12"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l129.13"></a><span id="l129.13"> Cu.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l129.14"></a><span id="l129.14"> Cu.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l129.15"></a><span id="l129.15"> Cu.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l129.16"></a><span id="l129.16"> </span>
<a href="#l129.17"></a><span id="l129.17"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l129.18"></a><span id="l129.18" class="difflineat">@@ -97,9 +97,9 @@ GTalkProtocol.prototype = {</span>
<a href="#l129.19"></a><span id="l129.19">   options: {</span>
<a href="#l129.20"></a><span id="l129.20">     resource: {get label() { return _(&quot;options.resource&quot;); },</span>
<a href="#l129.21"></a><span id="l129.21">                get default() { return XMPPDefaultResource; }}</span>
<a href="#l129.22"></a><span id="l129.22">   },</span>
<a href="#l129.23"></a><span id="l129.23">   get chatHasTopic() { return true; },</span>
<a href="#l129.24"></a><span id="l129.24">   classID: Components.ID(&quot;{38a224c1-6748-49a9-8ab2-efc362b1000d}&quot;)</span>
<a href="#l129.25"></a><span id="l129.25"> };</span>
<a href="#l129.26"></a><span id="l129.26"> </span>
<a href="#l129.27"></a><span id="l129.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([GTalkProtocol]);</span>
<a href="#l129.28"></a><span id="l129.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([GTalkProtocol]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l130.1"></a><span id="l130.1" class="difflineminus">--- a/chat/protocols/irc/irc.js</span>
<a href="#l130.2"></a><span id="l130.2" class="difflineplus">+++ b/chat/protocols/irc/irc.js</span>
<a href="#l130.3"></a><span id="l130.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l130.4"></a><span id="l130.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l130.5"></a><span id="l130.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l130.6"></a><span id="l130.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l130.7"></a><span id="l130.7"> </span>
<a href="#l130.8"></a><span id="l130.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l130.9"></a><span id="l130.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l130.10"></a><span id="l130.10"> </span>
<a href="#l130.11"></a><span id="l130.11"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l130.12"></a><span id="l130.12"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l130.13"></a><span id="l130.13"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l130.14"></a><span id="l130.14"> Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l130.15"></a><span id="l130.15"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l130.16"></a><span id="l130.16"> Cu.import(&quot;resource:///modules/NormalizedMap.jsm&quot;);</span>
<a href="#l130.17"></a><span id="l130.17"> Cu.import(&quot;resource:///modules/socket.jsm&quot;);</span>
<a href="#l130.18"></a><span id="l130.18" class="difflineat">@@ -149,17 +149,17 @@ function _setMode(aAddNewMode, aNewModes</span>
<a href="#l130.19"></a><span id="l130.19">       this._modes.delete(newMode);</span>
<a href="#l130.20"></a><span id="l130.20">     // If the mode is not in the list of modes and we want to add it.</span>
<a href="#l130.21"></a><span id="l130.21">     else if (!hasMode &amp;&amp; aAddNewMode)</span>
<a href="#l130.22"></a><span id="l130.22">       this._modes.add(newMode);</span>
<a href="#l130.23"></a><span id="l130.23">   }</span>
<a href="#l130.24"></a><span id="l130.24"> }</span>
<a href="#l130.25"></a><span id="l130.25"> </span>
<a href="#l130.26"></a><span id="l130.26"> // Properties / methods shared by both ircChannel and ircConversation.</span>
<a href="#l130.27"></a><span id="l130.27" class="difflineminus">-const GenericIRCConversation = {</span>
<a href="#l130.28"></a><span id="l130.28" class="difflineplus">+var GenericIRCConversation = {</span>
<a href="#l130.29"></a><span id="l130.29">   _observedNicks: [],</span>
<a href="#l130.30"></a><span id="l130.30">   // This is set to true after a message is sent to notify the 401</span>
<a href="#l130.31"></a><span id="l130.31">   // ERR_NOSUCHNICK handler to write an error message to the conversation.</span>
<a href="#l130.32"></a><span id="l130.32">   _pendingMessage: false,</span>
<a href="#l130.33"></a><span id="l130.33">   _waitingForNick: false,</span>
<a href="#l130.34"></a><span id="l130.34"> </span>
<a href="#l130.35"></a><span id="l130.35">   normalizeNick: function(aNick) { return this._account.normalizeNick(aNick); },</span>
<a href="#l130.36"></a><span id="l130.36"> </span>
<a href="#l130.37"></a><span id="l130.37" class="difflineat">@@ -1949,9 +1949,9 @@ ircProtocol.prototype = {</span>
<a href="#l130.38"></a><span id="l130.38">   get slashCommandsNative() { return true; },</span>
<a href="#l130.39"></a><span id="l130.39">   //  Passwords in IRC are optional, and are needed for certain functionality.</span>
<a href="#l130.40"></a><span id="l130.40">   get passwordOptional() { return true; },</span>
<a href="#l130.41"></a><span id="l130.41"> </span>
<a href="#l130.42"></a><span id="l130.42">   getAccount: function(aImAccount) { return new ircAccount(this, aImAccount); },</span>
<a href="#l130.43"></a><span id="l130.43">   classID: Components.ID(&quot;{607b2c0b-9504-483f-ad62-41de09238aec}&quot;)</span>
<a href="#l130.44"></a><span id="l130.44"> };</span>
<a href="#l130.45"></a><span id="l130.45"> </span>
<a href="#l130.46"></a><span id="l130.46" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([ircProtocol]);</span>
<a href="#l130.47"></a><span id="l130.47" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([ircProtocol]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l131.1"></a><span id="l131.1" class="difflineminus">--- a/chat/protocols/irc/ircBase.jsm</span>
<a href="#l131.2"></a><span id="l131.2" class="difflineplus">+++ b/chat/protocols/irc/ircBase.jsm</span>
<a href="#l131.3"></a><span id="l131.3" class="difflineat">@@ -14,17 +14,17 @@</span>
<a href="#l131.4"></a><span id="l131.4">  *     http://tools.ietf.org/html/rfc2812</span>
<a href="#l131.5"></a><span id="l131.5">  *   RFC 2813: Internet Relay Chat: Server Protocol</span>
<a href="#l131.6"></a><span id="l131.6">  *     http://tools.ietf.org/html/rfc2813</span>
<a href="#l131.7"></a><span id="l131.7">  *   RFC 1459: Internet Relay Chat Protocol</span>
<a href="#l131.8"></a><span id="l131.8">  *     http://tools.ietf.org/html/rfc1459</span>
<a href="#l131.9"></a><span id="l131.9">  */</span>
<a href="#l131.10"></a><span id="l131.10"> this.EXPORTED_SYMBOLS = [&quot;ircBase&quot;];</span>
<a href="#l131.11"></a><span id="l131.11"> </span>
<a href="#l131.12"></a><span id="l131.12" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l131.13"></a><span id="l131.13" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l131.14"></a><span id="l131.14"> </span>
<a href="#l131.15"></a><span id="l131.15"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l131.16"></a><span id="l131.16"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l131.17"></a><span id="l131.17"> Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l131.18"></a><span id="l131.18"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l131.19"></a><span id="l131.19"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l131.20"></a><span id="l131.20"> </span>
<a href="#l131.21"></a><span id="l131.21"> function ircRoomInfo(aName, aTopic, aParticipantCount, aAccount) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l132.1"></a><span id="l132.1" class="difflineminus">--- a/chat/protocols/irc/ircCAP.jsm</span>
<a href="#l132.2"></a><span id="l132.2" class="difflineplus">+++ b/chat/protocols/irc/ircCAP.jsm</span>
<a href="#l132.3"></a><span id="l132.3" class="difflineat">@@ -11,24 +11,24 @@</span>
<a href="#l132.4"></a><span id="l132.4">  *     http://tools.ietf.org/html/draft-mitchell-irc-capabilities-01</span>
<a href="#l132.5"></a><span id="l132.5">  *</span>
<a href="#l132.6"></a><span id="l132.6">  * Note that this doesn't include any implementation as these RFCs do not even</span>
<a href="#l132.7"></a><span id="l132.7">  * include example parameters.</span>
<a href="#l132.8"></a><span id="l132.8">  */</span>
<a href="#l132.9"></a><span id="l132.9"> </span>
<a href="#l132.10"></a><span id="l132.10"> this.EXPORTED_SYMBOLS = [&quot;ircCAP&quot;];</span>
<a href="#l132.11"></a><span id="l132.11"> </span>
<a href="#l132.12"></a><span id="l132.12" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l132.13"></a><span id="l132.13" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l132.14"></a><span id="l132.14"> </span>
<a href="#l132.15"></a><span id="l132.15"> Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l132.16"></a><span id="l132.16"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l132.17"></a><span id="l132.17"> </span>
<a href="#l132.18"></a><span id="l132.18"> // This matches a modifier, followed by the name spaces (network specific or</span>
<a href="#l132.19"></a><span id="l132.19"> // standardized), followed by the capability name.</span>
<a href="#l132.20"></a><span id="l132.20" class="difflineminus">-const capParameterExp = /^([\-=~])?((?:(?:[A-Z][A-Z0-9\-]*\.)*[A-Z][A-Z0-9\-]*\/)?[A-Z][A-Z0-9\-]*)$/i;</span>
<a href="#l132.21"></a><span id="l132.21" class="difflineplus">+var capParameterExp = /^([\-=~])?((?:(?:[A-Z][A-Z0-9\-]*\.)*[A-Z][A-Z0-9\-]*\/)?[A-Z][A-Z0-9\-]*)$/i;</span>
<a href="#l132.22"></a><span id="l132.22"> </span>
<a href="#l132.23"></a><span id="l132.23"> /*</span>
<a href="#l132.24"></a><span id="l132.24">  * Parses a CAP message of the form:</span>
<a href="#l132.25"></a><span id="l132.25">  *   CAP &lt;subcommand&gt; [&lt;parameters&gt;]</span>
<a href="#l132.26"></a><span id="l132.26">  * The cap field is added to the message and it has the following fields:</span>
<a href="#l132.27"></a><span id="l132.27">  *   subcommand</span>
<a href="#l132.28"></a><span id="l132.28">  *   parameters A list of capabilities.</span>
<a href="#l132.29"></a><span id="l132.29">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l133.1"></a><span id="l133.1" class="difflineminus">--- a/chat/protocols/irc/ircCTCP.jsm</span>
<a href="#l133.2"></a><span id="l133.2" class="difflineplus">+++ b/chat/protocols/irc/ircCTCP.jsm</span>
<a href="#l133.3"></a><span id="l133.3" class="difflineat">@@ -5,17 +5,17 @@</span>
<a href="#l133.4"></a><span id="l133.4"> /*</span>
<a href="#l133.5"></a><span id="l133.5">  * This implements the Client-to-Client Protocol (CTCP), a subprotocol of IRC.</span>
<a href="#l133.6"></a><span id="l133.6">  *   REVISED AND UPDATED CTCP SPECIFICATION</span>
<a href="#l133.7"></a><span id="l133.7">  *     http://www.alien.net.au/irc/ctcp.txt</span>
<a href="#l133.8"></a><span id="l133.8">  */</span>
<a href="#l133.9"></a><span id="l133.9"> </span>
<a href="#l133.10"></a><span id="l133.10"> this.EXPORTED_SYMBOLS = [&quot;ircCTCP&quot;, &quot;ctcpBase&quot;];</span>
<a href="#l133.11"></a><span id="l133.11"> </span>
<a href="#l133.12"></a><span id="l133.12" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l133.13"></a><span id="l133.13" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l133.14"></a><span id="l133.14"> </span>
<a href="#l133.15"></a><span id="l133.15"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l133.16"></a><span id="l133.16"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l133.17"></a><span id="l133.17"> Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l133.18"></a><span id="l133.18"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l133.19"></a><span id="l133.19"> </span>
<a href="#l133.20"></a><span id="l133.20"> // Split into a CTCP message which is a single command and a single parameter:</span>
<a href="#l133.21"></a><span id="l133.21"> //   &lt;command&gt; &quot; &quot; &lt;parameter&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l134.1"></a><span id="l134.1" class="difflineminus">--- a/chat/protocols/irc/ircCommands.jsm</span>
<a href="#l134.2"></a><span id="l134.2" class="difflineplus">+++ b/chat/protocols/irc/ircCommands.jsm</span>
<a href="#l134.3"></a><span id="l134.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l134.4"></a><span id="l134.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l134.5"></a><span id="l134.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l134.6"></a><span id="l134.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l134.7"></a><span id="l134.7"> </span>
<a href="#l134.8"></a><span id="l134.8"> // This is to be exported directly onto the IRC prplIProtocol object, directly</span>
<a href="#l134.9"></a><span id="l134.9"> // implementing the commands field before we register them.</span>
<a href="#l134.10"></a><span id="l134.10"> this.EXPORTED_SYMBOLS = [&quot;commands&quot;];</span>
<a href="#l134.11"></a><span id="l134.11"> </span>
<a href="#l134.12"></a><span id="l134.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l134.13"></a><span id="l134.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l134.14"></a><span id="l134.14"> </span>
<a href="#l134.15"></a><span id="l134.15"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l134.16"></a><span id="l134.16"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l134.17"></a><span id="l134.17"> </span>
<a href="#l134.18"></a><span id="l134.18"> // Shortcut to get the JavaScript conversation object.</span>
<a href="#l134.19"></a><span id="l134.19"> function getConv(aConv) { return aConv.wrappedJSObject; };</span>
<a href="#l134.20"></a><span id="l134.20"> </span>
<a href="#l134.21"></a><span id="l134.21"> // Shortcut to get the JavaScript account object.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l135.1"></a><span id="l135.1" class="difflineminus">--- a/chat/protocols/irc/ircDCC.jsm</span>
<a href="#l135.2"></a><span id="l135.2" class="difflineplus">+++ b/chat/protocols/irc/ircDCC.jsm</span>
<a href="#l135.3"></a><span id="l135.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l135.4"></a><span id="l135.4">  * This contains an implementation of the Direct Client-to-Client (DCC)</span>
<a href="#l135.5"></a><span id="l135.5">  * protocol.</span>
<a href="#l135.6"></a><span id="l135.6">  *   A description of the DCC protocol</span>
<a href="#l135.7"></a><span id="l135.7">  *     http://www.irchelp.org/irchelp/rfc/dccspec.html</span>
<a href="#l135.8"></a><span id="l135.8">  */</span>
<a href="#l135.9"></a><span id="l135.9"> </span>
<a href="#l135.10"></a><span id="l135.10"> this.EXPORTED_SYMBOLS = [&quot;ctcpDCC&quot;/*, &quot;dccBase&quot;*/];</span>
<a href="#l135.11"></a><span id="l135.11"> </span>
<a href="#l135.12"></a><span id="l135.12" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l135.13"></a><span id="l135.13" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l135.14"></a><span id="l135.14"> </span>
<a href="#l135.15"></a><span id="l135.15"> Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l135.16"></a><span id="l135.16"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l135.17"></a><span id="l135.17"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l135.18"></a><span id="l135.18"> </span>
<a href="#l135.19"></a><span id="l135.19"> // Parse a CTCP message into a DCC message. A DCC message is a CTCP message of</span>
<a href="#l135.20"></a><span id="l135.20"> // the form:</span>
<a href="#l135.21"></a><span id="l135.21"> //   DCC &lt;type&gt; &lt;argument&gt; &lt;address&gt; &lt;port&gt; [&lt;size&gt;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l136.1"></a><span id="l136.1" class="difflineminus">--- a/chat/protocols/irc/ircHandlers.jsm</span>
<a href="#l136.2"></a><span id="l136.2" class="difflineplus">+++ b/chat/protocols/irc/ircHandlers.jsm</span>
<a href="#l136.3"></a><span id="l136.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l136.4"></a><span id="l136.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l136.5"></a><span id="l136.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l136.6"></a><span id="l136.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l136.7"></a><span id="l136.7"> </span>
<a href="#l136.8"></a><span id="l136.8"> this.EXPORTED_SYMBOLS = [&quot;ircHandlers&quot;];</span>
<a href="#l136.9"></a><span id="l136.9"> </span>
<a href="#l136.10"></a><span id="l136.10" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l136.11"></a><span id="l136.11" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l136.12"></a><span id="l136.12"> </span>
<a href="#l136.13"></a><span id="l136.13"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l136.14"></a><span id="l136.14"> </span>
<a href="#l136.15"></a><span id="l136.15"> var ircHandlers = {</span>
<a href="#l136.16"></a><span id="l136.16">   /*</span>
<a href="#l136.17"></a><span id="l136.17">    * Object to hold the IRC handlers, each handler is an object that implements:</span>
<a href="#l136.18"></a><span id="l136.18">    *   name        The display name of the handler.</span>
<a href="#l136.19"></a><span id="l136.19">    *   priority    The priority of the handler (0 is default, positive is</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l137.1"></a><span id="l137.1" class="difflineminus">--- a/chat/protocols/irc/ircISUPPORT.jsm</span>
<a href="#l137.2"></a><span id="l137.2" class="difflineplus">+++ b/chat/protocols/irc/ircISUPPORT.jsm</span>
<a href="#l137.3"></a><span id="l137.3" class="difflineat">@@ -9,17 +9,17 @@</span>
<a href="#l137.4"></a><span id="l137.4">  *     http://www.irc.org/tech_docs/005.html</span>
<a href="#l137.5"></a><span id="l137.5">  *   RFC Drafts: IRC RPL_ISUPPORT Numeric Definition</span>
<a href="#l137.6"></a><span id="l137.6">  *     http://tools.ietf.org/html/draft-brocklesby-irc-isupport-03</span>
<a href="#l137.7"></a><span id="l137.7">  *     http://tools.ietf.org/html/draft-hardy-irc-isupport-00</span>
<a href="#l137.8"></a><span id="l137.8">  */</span>
<a href="#l137.9"></a><span id="l137.9"> </span>
<a href="#l137.10"></a><span id="l137.10"> this.EXPORTED_SYMBOLS = [&quot;ircISUPPORT&quot;, &quot;isupportBase&quot;];</span>
<a href="#l137.11"></a><span id="l137.11"> </span>
<a href="#l137.12"></a><span id="l137.12" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l137.13"></a><span id="l137.13" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l137.14"></a><span id="l137.14"> </span>
<a href="#l137.15"></a><span id="l137.15"> Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l137.16"></a><span id="l137.16"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l137.17"></a><span id="l137.17"> </span>
<a href="#l137.18"></a><span id="l137.18"> /*</span>
<a href="#l137.19"></a><span id="l137.19">  * Parses an ircMessage into an ISUPPORT message for each token of the form:</span>
<a href="#l137.20"></a><span id="l137.20">  *   &lt;parameter&gt;=&lt;value&gt; or -&lt;value&gt;</span>
<a href="#l137.21"></a><span id="l137.21">  * The isupport field is added to the message and it has the following fields:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l138.1"></a><span id="l138.1" class="difflineminus">--- a/chat/protocols/irc/ircNonStandard.jsm</span>
<a href="#l138.2"></a><span id="l138.2" class="difflineplus">+++ b/chat/protocols/irc/ircNonStandard.jsm</span>
<a href="#l138.3"></a><span id="l138.3" class="difflineat">@@ -9,17 +9,17 @@</span>
<a href="#l138.4"></a><span id="l138.4">  * listing the known servers that support this extension.</span>
<a href="#l138.5"></a><span id="l138.5">  *</span>
<a href="#l138.6"></a><span id="l138.6">  * Resources for these commands include:</span>
<a href="#l138.7"></a><span id="l138.7">  *  https://github.com/atheme/charybdis/blob/master/include/numeric.h</span>
<a href="#l138.8"></a><span id="l138.8">  *  http://hg.unrealircd.com/hg/unreal/raw-file/tip/include/numeric.h</span>
<a href="#l138.9"></a><span id="l138.9">  */</span>
<a href="#l138.10"></a><span id="l138.10"> this.EXPORTED_SYMBOLS = [&quot;ircNonStandard&quot;];</span>
<a href="#l138.11"></a><span id="l138.11"> </span>
<a href="#l138.12"></a><span id="l138.12" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l138.13"></a><span id="l138.13" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l138.14"></a><span id="l138.14"> </span>
<a href="#l138.15"></a><span id="l138.15"> Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l138.16"></a><span id="l138.16"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l138.17"></a><span id="l138.17"> </span>
<a href="#l138.18"></a><span id="l138.18"> var ircNonStandard = {</span>
<a href="#l138.19"></a><span id="l138.19">   name: &quot;Non-Standard IRC Extensions&quot;,</span>
<a href="#l138.20"></a><span id="l138.20">   priority: ircHandlers.DEFAULT_PRIORITY + 1,</span>
<a href="#l138.21"></a><span id="l138.21">   isEnabled: () =&gt; true,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l139.1"></a><span id="l139.1" class="difflineminus">--- a/chat/protocols/irc/ircSASL.jsm</span>
<a href="#l139.2"></a><span id="l139.2" class="difflineplus">+++ b/chat/protocols/irc/ircSASL.jsm</span>
<a href="#l139.3"></a><span id="l139.3" class="difflineat">@@ -5,17 +5,17 @@</span>
<a href="#l139.4"></a><span id="l139.4"> /*</span>
<a href="#l139.5"></a><span id="l139.5">  * This implements SASL for IRC.</span>
<a href="#l139.6"></a><span id="l139.6">  *   https://raw.github.com/atheme/atheme/master/doc/SASL</span>
<a href="#l139.7"></a><span id="l139.7">  *   https://github.com/ircv3/ircv3-specifications/blob/master/extensions/sasl-3.1</span>
<a href="#l139.8"></a><span id="l139.8">  */</span>
<a href="#l139.9"></a><span id="l139.9"> </span>
<a href="#l139.10"></a><span id="l139.10"> this.EXPORTED_SYMBOLS = [&quot;ircSASL&quot;, &quot;capSASL&quot;];</span>
<a href="#l139.11"></a><span id="l139.11"> </span>
<a href="#l139.12"></a><span id="l139.12" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l139.13"></a><span id="l139.13" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l139.14"></a><span id="l139.14"> </span>
<a href="#l139.15"></a><span id="l139.15"> Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l139.16"></a><span id="l139.16"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l139.17"></a><span id="l139.17"> </span>
<a href="#l139.18"></a><span id="l139.18"> var ircSASL = {</span>
<a href="#l139.19"></a><span id="l139.19">   name: &quot;SASL AUTHENTICATE&quot;,</span>
<a href="#l139.20"></a><span id="l139.20">   priority: ircHandlers.DEFAULT_PRIORITY,</span>
<a href="#l139.21"></a><span id="l139.21">   isEnabled: () =&gt; true,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l140.1"></a><span id="l140.1" class="difflineminus">--- a/chat/protocols/irc/ircServices.jsm</span>
<a href="#l140.2"></a><span id="l140.2" class="difflineplus">+++ b/chat/protocols/irc/ircServices.jsm</span>
<a href="#l140.3"></a><span id="l140.3" class="difflineat">@@ -13,17 +13,17 @@</span>
<a href="#l140.4"></a><span id="l140.4">  * showing the message to the user if we're unsure what to do.</span>
<a href="#l140.5"></a><span id="l140.5">  *</span>
<a href="#l140.6"></a><span id="l140.6">  * Anope</span>
<a href="#l140.7"></a><span id="l140.7">  *  http://www.anope.org/docgen/1.8/</span>
<a href="#l140.8"></a><span id="l140.8">  */</span>
<a href="#l140.9"></a><span id="l140.9"> </span>
<a href="#l140.10"></a><span id="l140.10"> this.EXPORTED_SYMBOLS = [&quot;ircServices&quot;, &quot;servicesBase&quot;];</span>
<a href="#l140.11"></a><span id="l140.11"> </span>
<a href="#l140.12"></a><span id="l140.12" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l140.13"></a><span id="l140.13" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l140.14"></a><span id="l140.14"> </span>
<a href="#l140.15"></a><span id="l140.15"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l140.16"></a><span id="l140.16"> Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l140.17"></a><span id="l140.17"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l140.18"></a><span id="l140.18"> </span>
<a href="#l140.19"></a><span id="l140.19"> /*</span>
<a href="#l140.20"></a><span id="l140.20">  * If a service is found, an extra field (serviceName) is added with the</span>
<a href="#l140.21"></a><span id="l140.21">  * &quot;generic&quot; service name (e.g. a bot which performs NickServ like functionality</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l141.1"></a><span id="l141.1" class="difflineminus">--- a/chat/protocols/irc/ircUtils.jsm</span>
<a href="#l141.2"></a><span id="l141.2" class="difflineplus">+++ b/chat/protocols/irc/ircUtils.jsm</span>
<a href="#l141.3"></a><span id="l141.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l141.4"></a><span id="l141.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l141.5"></a><span id="l141.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l141.6"></a><span id="l141.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l141.7"></a><span id="l141.7"> </span>
<a href="#l141.8"></a><span id="l141.8"> this.EXPORTED_SYMBOLS = [&quot;_&quot;, &quot;_conv&quot;, &quot;ctcpFormatToText&quot;, &quot;ctcpFormatToHTML&quot;,</span>
<a href="#l141.9"></a><span id="l141.9">                           &quot;conversationErrorMessage&quot;, &quot;kListRefreshInterval&quot;];</span>
<a href="#l141.10"></a><span id="l141.10"> </span>
<a href="#l141.11"></a><span id="l141.11" class="difflineminus">-const {classes: Cc, interfaces: Ci} = Components;</span>
<a href="#l141.12"></a><span id="l141.12" class="difflineplus">+var {classes: Cc, interfaces: Ci} = Components;</span>
<a href="#l141.13"></a><span id="l141.13"> </span>
<a href="#l141.14"></a><span id="l141.14"> Components.utils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l141.15"></a><span id="l141.15"> </span>
<a href="#l141.16"></a><span id="l141.16"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l141.17"></a><span id="l141.17">   l10nHelper(&quot;chrome://chat/locale/irc.properties&quot;)</span>
<a href="#l141.18"></a><span id="l141.18"> );</span>
<a href="#l141.19"></a><span id="l141.19"> </span>
<a href="#l141.20"></a><span id="l141.20"> XPCOMUtils.defineLazyGetter(this, &quot;_conv&quot;, () =&gt;</span>
<a href="#l141.21"></a><span id="l141.21" class="difflineat">@@ -18,41 +18,41 @@ XPCOMUtils.defineLazyGetter(this, &quot;_conv</span>
<a href="#l141.22"></a><span id="l141.22"> );</span>
<a href="#l141.23"></a><span id="l141.23"> </span>
<a href="#l141.24"></a><span id="l141.24"> XPCOMUtils.defineLazyGetter(this, &quot;TXTToHTML&quot;, function() {</span>
<a href="#l141.25"></a><span id="l141.25">   let cs = Cc[&quot;@mozilla.org/txttohtmlconv;1&quot;].getService(Ci.mozITXTToHTMLConv);</span>
<a href="#l141.26"></a><span id="l141.26">   return aTXT =&gt; cs.scanTXT(aTXT, cs.kEntities);</span>
<a href="#l141.27"></a><span id="l141.27"> });</span>
<a href="#l141.28"></a><span id="l141.28"> </span>
<a href="#l141.29"></a><span id="l141.29"> // The timespan after which we consider LIST roomInfo to be stale.</span>
<a href="#l141.30"></a><span id="l141.30" class="difflineminus">-const kListRefreshInterval = 12 * 60 * 60 * 1000; // 12 hours.</span>
<a href="#l141.31"></a><span id="l141.31" class="difflineplus">+var kListRefreshInterval = 12 * 60 * 60 * 1000; // 12 hours.</span>
<a href="#l141.32"></a><span id="l141.32"> </span>
<a href="#l141.33"></a><span id="l141.33"> /*</span>
<a href="#l141.34"></a><span id="l141.34">  * The supported formatting control characters, as described in</span>
<a href="#l141.35"></a><span id="l141.35">  * http://www.invlogic.com/irc/ctcp.html#3.11</span>
<a href="#l141.36"></a><span id="l141.36">  * If a string is given, it will replace the control character; if null is</span>
<a href="#l141.37"></a><span id="l141.37">  * given, the current HTML tag stack will be closed; if a function is given,</span>
<a href="#l141.38"></a><span id="l141.38">  * it expects two parameters:</span>
<a href="#l141.39"></a><span id="l141.39">  *  aStack  The ordered list of open HTML tags.</span>
<a href="#l141.40"></a><span id="l141.40">  *  aInput  The current input string.</span>
<a href="#l141.41"></a><span id="l141.41">  * There are three output values returned in an array:</span>
<a href="#l141.42"></a><span id="l141.42">  *  The new ordered list of open HTML tags.</span>
<a href="#l141.43"></a><span id="l141.43">  *  The new text output to append.</span>
<a href="#l141.44"></a><span id="l141.44">  *  The number of characters (from the start of the input string) that the</span>
<a href="#l141.45"></a><span id="l141.45">  *  function handled.</span>
<a href="#l141.46"></a><span id="l141.46">  */</span>
<a href="#l141.47"></a><span id="l141.47" class="difflineminus">-const CTCP_TAGS = {&quot;\x02&quot;: &quot;b&quot;, // \002, ^B, Bold</span>
<a href="#l141.48"></a><span id="l141.48" class="difflineplus">+var CTCP_TAGS = {&quot;\x02&quot;: &quot;b&quot;, // \002, ^B, Bold</span>
<a href="#l141.49"></a><span id="l141.49">                    &quot;\x16&quot;: &quot;i&quot;, // \026, ^V, Reverse or Inverse (Italics)</span>
<a href="#l141.50"></a><span id="l141.50">                    &quot;\x1D&quot;: &quot;i&quot;, // \035, ^], Italics (mIRC)</span>
<a href="#l141.51"></a><span id="l141.51">                    &quot;\x1F&quot;: &quot;u&quot;, // \037, ^_, Underline</span>
<a href="#l141.52"></a><span id="l141.52">                    &quot;\x03&quot;: mIRCColoring, // \003, ^C, Coloring</span>
<a href="#l141.53"></a><span id="l141.53">                    &quot;\x0F&quot;: null}; // \017, ^O, Clear all formatting</span>
<a href="#l141.54"></a><span id="l141.54"> </span>
<a href="#l141.55"></a><span id="l141.55"> // Generate an expression that will search for any of the control characters.</span>
<a href="#l141.56"></a><span id="l141.56" class="difflineminus">-const CTCP_TAGS_EXP = new RegExp(&quot;[&quot; + Object.keys(CTCP_TAGS).join(&quot;&quot;) + &quot;]&quot;);</span>
<a href="#l141.57"></a><span id="l141.57" class="difflineplus">+var CTCP_TAGS_EXP = new RegExp(&quot;[&quot; + Object.keys(CTCP_TAGS).join(&quot;&quot;) + &quot;]&quot;);</span>
<a href="#l141.58"></a><span id="l141.58"> </span>
<a href="#l141.59"></a><span id="l141.59"> // Remove all CTCP formatting characters.</span>
<a href="#l141.60"></a><span id="l141.60"> function ctcpFormatToText(aString) {</span>
<a href="#l141.61"></a><span id="l141.61">   let next,</span>
<a href="#l141.62"></a><span id="l141.62">       input = aString,</span>
<a href="#l141.63"></a><span id="l141.63">       output = &quot;&quot;,</span>
<a href="#l141.64"></a><span id="l141.64">       length;</span>
<a href="#l141.65"></a><span id="l141.65"> </span>
<a href="#l141.66"></a><span id="l141.66" class="difflineat">@@ -134,18 +134,18 @@ function ctcpFormatToHTML(aString) {</span>
<a href="#l141.67"></a><span id="l141.67">     input = input.substr(next.index + length);</span>
<a href="#l141.68"></a><span id="l141.68">   }</span>
<a href="#l141.69"></a><span id="l141.69">   // Return unmatched bits and close any open tags at the end.</span>
<a href="#l141.70"></a><span id="l141.70">   return output + input + closeStack(stack);</span>
<a href="#l141.71"></a><span id="l141.71"> }</span>
<a href="#l141.72"></a><span id="l141.72"> </span>
<a href="#l141.73"></a><span id="l141.73"> // mIRC colors are defined at http://www.mirc.com/colors.html.</span>
<a href="#l141.74"></a><span id="l141.74"> // This expression matches \003&lt;one or two digits&gt;[,&lt;one or two digits&gt;].</span>
<a href="#l141.75"></a><span id="l141.75" class="difflineminus">-const M_IRC_COLORS_EXP = /^\x03(?:(\d\d?)(?:,(\d\d?))?)?/;</span>
<a href="#l141.76"></a><span id="l141.76" class="difflineminus">-const M_IRC_COLOR_MAP = {</span>
<a href="#l141.77"></a><span id="l141.77" class="difflineplus">+var M_IRC_COLORS_EXP = /^\x03(?:(\d\d?)(?:,(\d\d?))?)?/;</span>
<a href="#l141.78"></a><span id="l141.78" class="difflineplus">+var M_IRC_COLOR_MAP = {</span>
<a href="#l141.79"></a><span id="l141.79">   &quot;0&quot;: &quot;white&quot;,</span>
<a href="#l141.80"></a><span id="l141.80">   &quot;1&quot;: &quot;black&quot;,</span>
<a href="#l141.81"></a><span id="l141.81">   &quot;2&quot;: &quot;navy&quot;, // blue (navy)</span>
<a href="#l141.82"></a><span id="l141.82">   &quot;3&quot;: &quot;green&quot;,</span>
<a href="#l141.83"></a><span id="l141.83">   &quot;4&quot;: &quot;red&quot;,</span>
<a href="#l141.84"></a><span id="l141.84">   &quot;5&quot;: &quot;maroon&quot;, // brown (maroon)</span>
<a href="#l141.85"></a><span id="l141.85">   &quot;6&quot;: &quot;purple&quot;,</span>
<a href="#l141.86"></a><span id="l141.86">   &quot;7&quot;: &quot;orange&quot;, // orange (olive)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l142.1"></a><span id="l142.1" class="difflineminus">--- a/chat/protocols/irc/ircWatchMonitor.jsm</span>
<a href="#l142.2"></a><span id="l142.2" class="difflineplus">+++ b/chat/protocols/irc/ircWatchMonitor.jsm</span>
<a href="#l142.3"></a><span id="l142.3" class="difflineat">@@ -10,17 +10,17 @@</span>
<a href="#l142.4"></a><span id="l142.4">  *     https://github.com/atheme/charybdis/blob/master/doc/monitor.txt</span>
<a href="#l142.5"></a><span id="l142.5">  *   WATCH (supported by Bahamut and UnrealIRCd)</span>
<a href="#l142.6"></a><span id="l142.6">  *     http://www.stack.nl/~jilles/cgi-bin/hgwebdir.cgi/irc-documentation-jilles/raw-file/tip/reference/draft-meglio-irc-watch-00.txt</span>
<a href="#l142.7"></a><span id="l142.7">  */</span>
<a href="#l142.8"></a><span id="l142.8"> </span>
<a href="#l142.9"></a><span id="l142.9"> this.EXPORTED_SYMBOLS = [&quot;ircWATCH&quot;, &quot;isupportWATCH&quot;, &quot;ircMONITOR&quot;,</span>
<a href="#l142.10"></a><span id="l142.10">                           &quot;isupportMONITOR&quot;];</span>
<a href="#l142.11"></a><span id="l142.11"> </span>
<a href="#l142.12"></a><span id="l142.12" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l142.13"></a><span id="l142.13" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l142.14"></a><span id="l142.14"> </span>
<a href="#l142.15"></a><span id="l142.15"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l142.16"></a><span id="l142.16"> Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l142.17"></a><span id="l142.17"> Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l142.18"></a><span id="l142.18"> </span>
<a href="#l142.19"></a><span id="l142.19"> function setStatus(aAccount, aNick, aStatus) {</span>
<a href="#l142.20"></a><span id="l142.20">   if (!aAccount.watchEnabled &amp;&amp; !aAccount.monitorEnabled)</span>
<a href="#l142.21"></a><span id="l142.21">     return false;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l143.1"></a><span id="l143.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ctcpColoring.js</span>
<a href="#l143.2"></a><span id="l143.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ctcpColoring.js</span>
<a href="#l143.3"></a><span id="l143.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l143.4"></a><span id="l143.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l143.5"></a><span id="l143.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l143.6"></a><span id="l143.6"> </span>
<a href="#l143.7"></a><span id="l143.7"> Components.utils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l143.8"></a><span id="l143.8"> </span>
<a href="#l143.9"></a><span id="l143.9" class="difflineminus">-const input = [</span>
<a href="#l143.10"></a><span id="l143.10" class="difflineplus">+var input = [</span>
<a href="#l143.11"></a><span id="l143.11">   // From http://www.mirc.com/colors.html</span>
<a href="#l143.12"></a><span id="l143.12">   &quot;\x035,12colored text and background\x03&quot;,</span>
<a href="#l143.13"></a><span id="l143.13">   &quot;\x035colored text\x03&quot;,</span>
<a href="#l143.14"></a><span id="l143.14">   &quot;\x033colored text \x035,2more colored text and background\x03&quot;,</span>
<a href="#l143.15"></a><span id="l143.15">   &quot;\x033,5colored text and background \x038other colored text but same background\x03&quot;,</span>
<a href="#l143.16"></a><span id="l143.16">   &quot;\x033,5colored text and background \x038,7other colored text and different background\x03&quot;,</span>
<a href="#l143.17"></a><span id="l143.17"> </span>
<a href="#l143.18"></a><span id="l143.18">   // Based on above, but more complicated.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l144.1"></a><span id="l144.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ctcpDequote.js</span>
<a href="#l144.2"></a><span id="l144.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ctcpDequote.js</span>
<a href="#l144.3"></a><span id="l144.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l144.4"></a><span id="l144.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l144.5"></a><span id="l144.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l144.6"></a><span id="l144.6"> </span>
<a href="#l144.7"></a><span id="l144.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l144.8"></a><span id="l144.8"> var ircCTCP = {};</span>
<a href="#l144.9"></a><span id="l144.9"> Services.scriptloader.loadSubScript(&quot;resource:///modules/ircCTCP.jsm&quot;, ircCTCP);</span>
<a href="#l144.10"></a><span id="l144.10"> </span>
<a href="#l144.11"></a><span id="l144.11" class="difflineminus">-const input = [</span>
<a href="#l144.12"></a><span id="l144.12" class="difflineplus">+var input = [</span>
<a href="#l144.13"></a><span id="l144.13">   &quot;ACTION&quot;,</span>
<a href="#l144.14"></a><span id="l144.14">   &quot;ACTION test&quot;,</span>
<a href="#l144.15"></a><span id="l144.15">   &quot;ACTION \x5Ctest&quot;,</span>
<a href="#l144.16"></a><span id="l144.16">   &quot;ACTION te\x5Cst&quot;,</span>
<a href="#l144.17"></a><span id="l144.17">   &quot;ACTION test\x5C&quot;,</span>
<a href="#l144.18"></a><span id="l144.18">   &quot;ACTION \x5C\x5Ctest&quot;,</span>
<a href="#l144.19"></a><span id="l144.19">   &quot;ACTION te\x5C\x5Cst&quot;,</span>
<a href="#l144.20"></a><span id="l144.20">   &quot;ACTION test\x5C\x5C&quot;,</span>
<a href="#l144.21"></a><span id="l144.21" class="difflineat">@@ -19,19 +19,19 @@ const input = [</span>
<a href="#l144.22"></a><span id="l144.22">   &quot;ACTION test\x5C\x5C\x5C&quot;,</span>
<a href="#l144.23"></a><span id="l144.23">   &quot;ACTION \x5Catest&quot;,</span>
<a href="#l144.24"></a><span id="l144.24">   &quot;ACTION te\x5Cast&quot;,</span>
<a href="#l144.25"></a><span id="l144.25">   &quot;ACTION test\x5Ca&quot;,</span>
<a href="#l144.26"></a><span id="l144.26">   &quot;ACTION \x5C\x5C\x5Catest&quot;,</span>
<a href="#l144.27"></a><span id="l144.27">   &quot;ACTION \x5C\x5Catest&quot;</span>
<a href="#l144.28"></a><span id="l144.28"> ];</span>
<a href="#l144.29"></a><span id="l144.29"> </span>
<a href="#l144.30"></a><span id="l144.30" class="difflineminus">-const expectedOutputCommand = &quot;ACTION&quot;;</span>
<a href="#l144.31"></a><span id="l144.31" class="difflineplus">+var expectedOutputCommand = &quot;ACTION&quot;;</span>
<a href="#l144.32"></a><span id="l144.32"> </span>
<a href="#l144.33"></a><span id="l144.33" class="difflineminus">-const expectedOutputParam = [</span>
<a href="#l144.34"></a><span id="l144.34" class="difflineplus">+var expectedOutputParam = [</span>
<a href="#l144.35"></a><span id="l144.35">   &quot;&quot;,</span>
<a href="#l144.36"></a><span id="l144.36">   &quot;test&quot;,</span>
<a href="#l144.37"></a><span id="l144.37">   &quot;test&quot;,</span>
<a href="#l144.38"></a><span id="l144.38">   &quot;test&quot;,</span>
<a href="#l144.39"></a><span id="l144.39">   &quot;test&quot;,</span>
<a href="#l144.40"></a><span id="l144.40">   &quot;\x5Ctest&quot;,</span>
<a href="#l144.41"></a><span id="l144.41">   &quot;te\x5Cst&quot;,</span>
<a href="#l144.42"></a><span id="l144.42">   &quot;test\x5C&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l145.1"></a><span id="l145.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ctcpFormatting.js</span>
<a href="#l145.2"></a><span id="l145.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ctcpFormatting.js</span>
<a href="#l145.3"></a><span id="l145.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l145.4"></a><span id="l145.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l145.5"></a><span id="l145.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l145.6"></a><span id="l145.6"> </span>
<a href="#l145.7"></a><span id="l145.7"> Components.utils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l145.8"></a><span id="l145.8"> </span>
<a href="#l145.9"></a><span id="l145.9"> //TODO add a test for special JS characters (|, etc...)</span>
<a href="#l145.10"></a><span id="l145.10"> </span>
<a href="#l145.11"></a><span id="l145.11" class="difflineminus">-const input = [</span>
<a href="#l145.12"></a><span id="l145.12" class="difflineplus">+var input = [</span>
<a href="#l145.13"></a><span id="l145.13">   &quot;The quick brown fox \x02jumps\x02 over the lazy dog.&quot;,</span>
<a href="#l145.14"></a><span id="l145.14">   &quot;The quick brown fox \x02jumps\x0F over the lazy dog.&quot;,</span>
<a href="#l145.15"></a><span id="l145.15">   &quot;The quick brown \x16fox jumps\x16 over the lazy dog.&quot;,</span>
<a href="#l145.16"></a><span id="l145.16">   &quot;The quick brown \x16fox jumps\x0F over the lazy dog.&quot;,</span>
<a href="#l145.17"></a><span id="l145.17">   &quot;The quick \x1Fbrown fox jumps over the lazy\x1F dog.&quot;,</span>
<a href="#l145.18"></a><span id="l145.18">   &quot;The quick \x1Fbrown fox jumps over the lazy\x0F dog.&quot;,</span>
<a href="#l145.19"></a><span id="l145.19">   &quot;The quick \x1Fbrown fox \x02jumps over the lazy\x1F dog.&quot;,</span>
<a href="#l145.20"></a><span id="l145.20">   &quot;The quick \x1Fbrown fox \x02jumps\x1F over the lazy\x02 dog.&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l146.1"></a><span id="l146.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ctcpQuote.js</span>
<a href="#l146.2"></a><span id="l146.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ctcpQuote.js</span>
<a href="#l146.3"></a><span id="l146.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l146.4"></a><span id="l146.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l146.5"></a><span id="l146.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l146.6"></a><span id="l146.6"> </span>
<a href="#l146.7"></a><span id="l146.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l146.8"></a><span id="l146.8"> var irc = {};</span>
<a href="#l146.9"></a><span id="l146.9"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l146.10"></a><span id="l146.10"> </span>
<a href="#l146.11"></a><span id="l146.11" class="difflineminus">-const input = [</span>
<a href="#l146.12"></a><span id="l146.12" class="difflineplus">+var input = [</span>
<a href="#l146.13"></a><span id="l146.13">   undefined,</span>
<a href="#l146.14"></a><span id="l146.14">   &quot;test&quot;,</span>
<a href="#l146.15"></a><span id="l146.15">   &quot;\\test&quot;,</span>
<a href="#l146.16"></a><span id="l146.16">   &quot;te\\st&quot;,</span>
<a href="#l146.17"></a><span id="l146.17">   &quot;test\\&quot;,</span>
<a href="#l146.18"></a><span id="l146.18">   &quot;\\\\test&quot;,</span>
<a href="#l146.19"></a><span id="l146.19">   &quot;te\\\\st&quot;,</span>
<a href="#l146.20"></a><span id="l146.20">   &quot;test\\\\&quot;,</span>
<a href="#l146.21"></a><span id="l146.21" class="difflineat">@@ -19,19 +19,19 @@ const input = [</span>
<a href="#l146.22"></a><span id="l146.22">   &quot;test\\\\\\&quot;,</span>
<a href="#l146.23"></a><span id="l146.23">   &quot;\x01test&quot;,</span>
<a href="#l146.24"></a><span id="l146.24">   &quot;te\x01st&quot;,</span>
<a href="#l146.25"></a><span id="l146.25">   &quot;test\x01&quot;,</span>
<a href="#l146.26"></a><span id="l146.26">   &quot;\\\\\x01test&quot;,</span>
<a href="#l146.27"></a><span id="l146.27">   &quot;\\\\atest&quot;</span>
<a href="#l146.28"></a><span id="l146.28"> ];</span>
<a href="#l146.29"></a><span id="l146.29"> </span>
<a href="#l146.30"></a><span id="l146.30" class="difflineminus">-const expectedOutputCommand = &quot;PRIVMSG&quot;;</span>
<a href="#l146.31"></a><span id="l146.31" class="difflineplus">+var expectedOutputCommand = &quot;PRIVMSG&quot;;</span>
<a href="#l146.32"></a><span id="l146.32"> </span>
<a href="#l146.33"></a><span id="l146.33" class="difflineminus">-const expectedOutputParams = [</span>
<a href="#l146.34"></a><span id="l146.34" class="difflineplus">+var expectedOutputParams = [</span>
<a href="#l146.35"></a><span id="l146.35">   &quot;ACTION&quot;,</span>
<a href="#l146.36"></a><span id="l146.36">   &quot;ACTION test&quot;,</span>
<a href="#l146.37"></a><span id="l146.37">   &quot;ACTION \\\\test&quot;,</span>
<a href="#l146.38"></a><span id="l146.38">   &quot;ACTION te\\\\st&quot;,</span>
<a href="#l146.39"></a><span id="l146.39">   &quot;ACTION test\\\\&quot;,</span>
<a href="#l146.40"></a><span id="l146.40">   &quot;ACTION \\\\\\\\test&quot;,</span>
<a href="#l146.41"></a><span id="l146.41">   &quot;ACTION te\\\\\\\\st&quot;,</span>
<a href="#l146.42"></a><span id="l146.42">   &quot;ACTION test\\\\\\\\&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l147.1"></a><span id="l147.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ircMessage.js</span>
<a href="#l147.2"></a><span id="l147.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ircMessage.js</span>
<a href="#l147.3"></a><span id="l147.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l147.4"></a><span id="l147.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l147.5"></a><span id="l147.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l147.6"></a><span id="l147.6"> </span>
<a href="#l147.7"></a><span id="l147.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l147.8"></a><span id="l147.8"> var irc = {};</span>
<a href="#l147.9"></a><span id="l147.9"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l147.10"></a><span id="l147.10"> </span>
<a href="#l147.11"></a><span id="l147.11" class="difflineminus">-const testData = [</span>
<a href="#l147.12"></a><span id="l147.12" class="difflineplus">+var testData = [</span>
<a href="#l147.13"></a><span id="l147.13">   // First off, let's test the messages from RFC 2812.</span>
<a href="#l147.14"></a><span id="l147.14">   &quot;PASS secretpasswordhere&quot;,</span>
<a href="#l147.15"></a><span id="l147.15">   &quot;NICK Wiz&quot;,</span>
<a href="#l147.16"></a><span id="l147.16">   &quot;:WiZ!jto@tolsun.oulu.fi NICK Kilroy&quot;,</span>
<a href="#l147.17"></a><span id="l147.17">   &quot;USER guest 0 * :Ronnie Reagan&quot;,</span>
<a href="#l147.18"></a><span id="l147.18">   &quot;USER guest 8 * :Ronnie Reagan&quot;,</span>
<a href="#l147.19"></a><span id="l147.19">   &quot;OPER foo bar&quot;,</span>
<a href="#l147.20"></a><span id="l147.20">   &quot;MODE WiZ -w&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l148.1"></a><span id="l148.1" class="difflineminus">--- a/chat/protocols/irc/test/test_splitLongMessages.js</span>
<a href="#l148.2"></a><span id="l148.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_splitLongMessages.js</span>
<a href="#l148.3"></a><span id="l148.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l148.4"></a><span id="l148.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l148.5"></a><span id="l148.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l148.6"></a><span id="l148.6"> </span>
<a href="#l148.7"></a><span id="l148.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l148.8"></a><span id="l148.8"> var irc = {};</span>
<a href="#l148.9"></a><span id="l148.9"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l148.10"></a><span id="l148.10"> </span>
<a href="#l148.11"></a><span id="l148.11" class="difflineminus">-const messages = {</span>
<a href="#l148.12"></a><span id="l148.12" class="difflineplus">+var messages = {</span>
<a href="#l148.13"></a><span id="l148.13">   // Exactly 51 characters.</span>
<a href="#l148.14"></a><span id="l148.14">   &quot;This is a test.&quot;: [&quot;This is a test.&quot;],</span>
<a href="#l148.15"></a><span id="l148.15">   // Too long.</span>
<a href="#l148.16"></a><span id="l148.16">   &quot;This is a message that is too long.&quot;:</span>
<a href="#l148.17"></a><span id="l148.17">     [&quot;This is a&quot;, &quot;message that is&quot;, &quot;too long.&quot;],</span>
<a href="#l148.18"></a><span id="l148.18">   // Too short.</span>
<a href="#l148.19"></a><span id="l148.19">   &quot;Short msg.&quot;: [&quot;Short msg.&quot;],</span>
<a href="#l148.20"></a><span id="l148.20">   &quot;Thismessagecan'tbecut.&quot;: [&quot;Thismessagecan'&quot;, &quot;tbecut.&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l149.1"></a><span id="l149.1" class="difflineminus">--- a/chat/protocols/irc/test/test_tryNewNick.js</span>
<a href="#l149.2"></a><span id="l149.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_tryNewNick.js</span>
<a href="#l149.3"></a><span id="l149.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l149.4"></a><span id="l149.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l149.5"></a><span id="l149.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l149.6"></a><span id="l149.6"> </span>
<a href="#l149.7"></a><span id="l149.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l149.8"></a><span id="l149.8"> var irc = {};</span>
<a href="#l149.9"></a><span id="l149.9"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l149.10"></a><span id="l149.10"> </span>
<a href="#l149.11"></a><span id="l149.11" class="difflineminus">-const fakeProto = {</span>
<a href="#l149.12"></a><span id="l149.12" class="difflineplus">+var fakeProto = {</span>
<a href="#l149.13"></a><span id="l149.13">   id: &quot;fake-proto&quot;,</span>
<a href="#l149.14"></a><span id="l149.14">   options: {alternateNicks: &quot;&quot;},</span>
<a href="#l149.15"></a><span id="l149.15">   _getOptionDefault: function(aOption) { return this.options[aOption]; }</span>
<a href="#l149.16"></a><span id="l149.16"> }</span>
<a href="#l149.17"></a><span id="l149.17"> </span>
<a href="#l149.18"></a><span id="l149.18"> function test_tryNewNick() {</span>
<a href="#l149.19"></a><span id="l149.19">   const testData = {</span>
<a href="#l149.20"></a><span id="l149.20">     &quot;clokep&quot;: &quot;clokep1&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l150.1"></a><span id="l150.1" class="difflineminus">--- a/chat/protocols/jsTest/jsTestProtocol.js</span>
<a href="#l150.2"></a><span id="l150.2" class="difflineplus">+++ b/chat/protocols/jsTest/jsTestProtocol.js</span>
<a href="#l150.3"></a><span id="l150.3" class="difflineat">@@ -87,9 +87,9 @@ jsTestProtocol.prototype = {</span>
<a href="#l150.4"></a><span id="l150.4">   usernameSplits: [</span>
<a href="#l150.5"></a><span id="l150.5">     {label: &quot;Server&quot;, separator: &quot;@&quot;, defaultValue: &quot;default.server&quot;,</span>
<a href="#l150.6"></a><span id="l150.6">      reverse: true}</span>
<a href="#l150.7"></a><span id="l150.7">   ],</span>
<a href="#l150.8"></a><span id="l150.8">   getAccount: function(aImAccount) { return new Account(this, aImAccount); },</span>
<a href="#l150.9"></a><span id="l150.9">   classID: Components.ID(&quot;{a0774c5a-4aea-458b-9fbc-8d3cbf1a4630}&quot;),</span>
<a href="#l150.10"></a><span id="l150.10"> };</span>
<a href="#l150.11"></a><span id="l150.11"> </span>
<a href="#l150.12"></a><span id="l150.12" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([jsTestProtocol]);</span>
<a href="#l150.13"></a><span id="l150.13" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([jsTestProtocol]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l151.1"></a><span id="l151.1" class="difflineminus">--- a/chat/protocols/odnoklassniki/odnoklassniki.js</span>
<a href="#l151.2"></a><span id="l151.2" class="difflineplus">+++ b/chat/protocols/odnoklassniki/odnoklassniki.js</span>
<a href="#l151.3"></a><span id="l151.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l151.4"></a><span id="l151.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l151.5"></a><span id="l151.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l151.6"></a><span id="l151.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l151.7"></a><span id="l151.7"> </span>
<a href="#l151.8"></a><span id="l151.8" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l151.9"></a><span id="l151.9" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l151.10"></a><span id="l151.10"> </span>
<a href="#l151.11"></a><span id="l151.11"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l151.12"></a><span id="l151.12"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l151.13"></a><span id="l151.13"> Cu.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l151.14"></a><span id="l151.14"> Cu.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l151.15"></a><span id="l151.15"> </span>
<a href="#l151.16"></a><span id="l151.16"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l151.17"></a><span id="l151.17">   l10nHelper(&quot;chrome://chat/locale/xmpp.properties&quot;)</span>
<a href="#l151.18"></a><span id="l151.18" class="difflineat">@@ -48,9 +48,9 @@ OdnoklassnikiProtocol.prototype = {</span>
<a href="#l151.19"></a><span id="l151.19">   get normalizedName() { return &quot;odnoklassniki&quot;; },</span>
<a href="#l151.20"></a><span id="l151.20">   get name() { return _(&quot;odnoklassniki.protocolName&quot;); },</span>
<a href="#l151.21"></a><span id="l151.21">   get iconBaseURI() { return &quot;chrome://prpl-odnoklassniki/skin/&quot;; },</span>
<a href="#l151.22"></a><span id="l151.22">   get usernameEmptyText() { return _(&quot;odnoklassniki.usernameHint&quot;); },</span>
<a href="#l151.23"></a><span id="l151.23">   getAccount: function(aImAccount) { return new OdnoklassnikiAccount(this, aImAccount); },</span>
<a href="#l151.24"></a><span id="l151.24">   classID: Components.ID(&quot;{29b09a83-81c1-2032-11e2-6d9bc4f8e969}&quot;)</span>
<a href="#l151.25"></a><span id="l151.25"> };</span>
<a href="#l151.26"></a><span id="l151.26"> </span>
<a href="#l151.27"></a><span id="l151.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([OdnoklassnikiProtocol]);</span>
<a href="#l151.28"></a><span id="l151.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([OdnoklassnikiProtocol]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l152.1"></a><span id="l152.1" class="difflineminus">--- a/chat/protocols/skype/skype.js</span>
<a href="#l152.2"></a><span id="l152.2" class="difflineplus">+++ b/chat/protocols/skype/skype.js</span>
<a href="#l152.3"></a><span id="l152.3" class="difflineat">@@ -1,35 +1,35 @@</span>
<a href="#l152.4"></a><span id="l152.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l152.5"></a><span id="l152.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l152.6"></a><span id="l152.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l152.7"></a><span id="l152.7"> </span>
<a href="#l152.8"></a><span id="l152.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l152.9"></a><span id="l152.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l152.10"></a><span id="l152.10"> </span>
<a href="#l152.11"></a><span id="l152.11"> Cu.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l152.12"></a><span id="l152.12"> Cu.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l152.13"></a><span id="l152.13"> Cu.import(&quot;resource:///modules/BigInteger.jsm&quot;);</span>
<a href="#l152.14"></a><span id="l152.14"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l152.15"></a><span id="l152.15"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l152.16"></a><span id="l152.16"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l152.17"></a><span id="l152.17"> </span>
<a href="#l152.18"></a><span id="l152.18"> // Constants used by the login process. This emulates a captured session using</span>
<a href="#l152.19"></a><span id="l152.19"> // official means.</span>
<a href="#l152.20"></a><span id="l152.20" class="difflineminus">-const kLockAndKeyAppId = &quot;msmsgs@msnmsgr.com&quot;;</span>
<a href="#l152.21"></a><span id="l152.21" class="difflineminus">-const kLockAndKeySecret = &quot;Q1P7W2E4J9R8U3S5&quot;;</span>
<a href="#l152.22"></a><span id="l152.22" class="difflineminus">-const kClientId = &quot;578134&quot;;</span>
<a href="#l152.23"></a><span id="l152.23" class="difflineminus">-const kClientInfo = &quot;os=Windows; osVer=8.1; proc=Win32; lcid=en-us; &quot; +</span>
<a href="#l152.24"></a><span id="l152.24" class="difflineplus">+var kLockAndKeyAppId = &quot;msmsgs@msnmsgr.com&quot;;</span>
<a href="#l152.25"></a><span id="l152.25" class="difflineplus">+var kLockAndKeySecret = &quot;Q1P7W2E4J9R8U3S5&quot;;</span>
<a href="#l152.26"></a><span id="l152.26" class="difflineplus">+var kClientId = &quot;578134&quot;;</span>
<a href="#l152.27"></a><span id="l152.27" class="difflineplus">+var kClientInfo = &quot;os=Windows; osVer=8.1; proc=Win32; lcid=en-us; &quot; +</span>
<a href="#l152.28"></a><span id="l152.28">   &quot;deviceType=1; country=n/a; clientName=swx-skype.com; clientVer=908/1.0.0.20&quot;;</span>
<a href="#l152.29"></a><span id="l152.29"> </span>
<a href="#l152.30"></a><span id="l152.30" class="difflineminus">-const kLoginHost = &quot;login.skype.com&quot;;</span>
<a href="#l152.31"></a><span id="l152.31" class="difflineminus">-const kContactsHost = &quot;api.skype.com&quot;;</span>
<a href="#l152.32"></a><span id="l152.32" class="difflineminus">-const kMessagesHost = &quot;client-s.gateway.messenger.live.com&quot;;</span>
<a href="#l152.33"></a><span id="l152.33" class="difflineplus">+var kLoginHost = &quot;login.skype.com&quot;;</span>
<a href="#l152.34"></a><span id="l152.34" class="difflineplus">+var kContactsHost = &quot;api.skype.com&quot;;</span>
<a href="#l152.35"></a><span id="l152.35" class="difflineplus">+var kMessagesHost = &quot;client-s.gateway.messenger.live.com&quot;;</span>
<a href="#l152.36"></a><span id="l152.36"> </span>
<a href="#l152.37"></a><span id="l152.37"> // Map from strings returned by the SkypeWeb API to statuses.</span>
<a href="#l152.38"></a><span id="l152.38" class="difflineminus">-const kStatusMap = {</span>
<a href="#l152.39"></a><span id="l152.39" class="difflineplus">+var kStatusMap = {</span>
<a href="#l152.40"></a><span id="l152.40">   &quot;Online&quot;: &quot;AVAILABLE&quot;,</span>
<a href="#l152.41"></a><span id="l152.41">   &quot;Offline&quot;: &quot;OFFLINE&quot;,</span>
<a href="#l152.42"></a><span id="l152.42">   &quot;Idle&quot;: &quot;IDLE&quot;,</span>
<a href="#l152.43"></a><span id="l152.43">   &quot;Away&quot;: &quot;AWAY&quot;,</span>
<a href="#l152.44"></a><span id="l152.44">   &quot;Hidden&quot;: &quot;INVISIBLE&quot;</span>
<a href="#l152.45"></a><span id="l152.45"> };</span>
<a href="#l152.46"></a><span id="l152.46"> </span>
<a href="#l152.47"></a><span id="l152.47"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l152.48"></a><span id="l152.48" class="difflineat">@@ -844,9 +844,9 @@ SkypeProtocol.prototype = {</span>
<a href="#l152.49"></a><span id="l152.49">   get baseId() { return &quot;prpl-skype&quot;; },</span>
<a href="#l152.50"></a><span id="l152.50"> </span>
<a href="#l152.51"></a><span id="l152.51">   get passwordOptional() { return false; },</span>
<a href="#l152.52"></a><span id="l152.52"> </span>
<a href="#l152.53"></a><span id="l152.53">   getAccount: function(aImAccount) { return new SkypeAccount(this, aImAccount); },</span>
<a href="#l152.54"></a><span id="l152.54">   classID: Components.ID(&quot;{8446c0f6-9f59-4710-844e-eaa6c1f49d35}&quot;)</span>
<a href="#l152.55"></a><span id="l152.55"> };</span>
<a href="#l152.56"></a><span id="l152.56"> </span>
<a href="#l152.57"></a><span id="l152.57" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([SkypeProtocol]);</span>
<a href="#l152.58"></a><span id="l152.58" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([SkypeProtocol]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l153.1"></a><span id="l153.1" class="difflineminus">--- a/chat/protocols/skype/test/test_MagicSha256.js</span>
<a href="#l153.2"></a><span id="l153.2" class="difflineplus">+++ b/chat/protocols/skype/test/test_MagicSha256.js</span>
<a href="#l153.3"></a><span id="l153.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l153.4"></a><span id="l153.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l153.5"></a><span id="l153.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l153.6"></a><span id="l153.6"> </span>
<a href="#l153.7"></a><span id="l153.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l153.8"></a><span id="l153.8"> var skype = {};</span>
<a href="#l153.9"></a><span id="l153.9"> Services.scriptloader.loadSubScript(&quot;resource:///components/skype.js&quot;, skype);</span>
<a href="#l153.10"></a><span id="l153.10"> </span>
<a href="#l153.11"></a><span id="l153.11" class="difflineminus">-const data = {</span>
<a href="#l153.12"></a><span id="l153.12" class="difflineplus">+var data = {</span>
<a href="#l153.13"></a><span id="l153.13">   &quot;1416264993&quot;: &quot;3a33ac47fe2ec1a33d569f4be5c69ddc&quot;,</span>
<a href="#l153.14"></a><span id="l153.14">   &quot;1416387358&quot;: &quot;eca9716e1eedcbe93320ba794cea3388&quot;,</span>
<a href="#l153.15"></a><span id="l153.15">   &quot;1416392361&quot;: &quot;2ed6fc80c3303caa137ae3fd4fcc7d80&quot;</span>
<a href="#l153.16"></a><span id="l153.16"> };</span>
<a href="#l153.17"></a><span id="l153.17"> </span>
<a href="#l153.18"></a><span id="l153.18"> function run_test() {</span>
<a href="#l153.19"></a><span id="l153.19">   add_test(test_MagicSha256);</span>
<a href="#l153.20"></a><span id="l153.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l154.1"></a><span id="l154.1" class="difflineminus">--- a/chat/protocols/skype/test/test_contactUrlToName.js</span>
<a href="#l154.2"></a><span id="l154.2" class="difflineplus">+++ b/chat/protocols/skype/test/test_contactUrlToName.js</span>
<a href="#l154.3"></a><span id="l154.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l154.4"></a><span id="l154.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l154.5"></a><span id="l154.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l154.6"></a><span id="l154.6"> </span>
<a href="#l154.7"></a><span id="l154.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l154.8"></a><span id="l154.8"> var skype = {};</span>
<a href="#l154.9"></a><span id="l154.9"> Services.scriptloader.loadSubScript(&quot;resource:///components/skype.js&quot;, skype);</span>
<a href="#l154.10"></a><span id="l154.10"> </span>
<a href="#l154.11"></a><span id="l154.11" class="difflineminus">-const data = {</span>
<a href="#l154.12"></a><span id="l154.12" class="difflineplus">+var data = {</span>
<a href="#l154.13"></a><span id="l154.13">   &quot;https://bay-client-s.gateway.messenger.live.com/v1/users/ME/contacts/8:clokep&quot;:</span>
<a href="#l154.14"></a><span id="l154.14">     &quot;clokep&quot;,</span>
<a href="#l154.15"></a><span id="l154.15">   &quot;https://bay-client-s.gateway.messenger.live.com/v1/users/8:clokep/presenceDocs/messagingService&quot;:</span>
<a href="#l154.16"></a><span id="l154.16">     &quot;clokep&quot;</span>
<a href="#l154.17"></a><span id="l154.17"> };</span>
<a href="#l154.18"></a><span id="l154.18"> </span>
<a href="#l154.19"></a><span id="l154.19"> function run_test() {</span>
<a href="#l154.20"></a><span id="l154.20">   add_test(test_contactUrlToName);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l155.1"></a><span id="l155.1" class="difflineminus">--- a/chat/protocols/twitter/twitter.js</span>
<a href="#l155.2"></a><span id="l155.2" class="difflineplus">+++ b/chat/protocols/twitter/twitter.js</span>
<a href="#l155.3"></a><span id="l155.3" class="difflineat">@@ -1,22 +1,22 @@</span>
<a href="#l155.4"></a><span id="l155.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l155.5"></a><span id="l155.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l155.6"></a><span id="l155.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l155.7"></a><span id="l155.7"> </span>
<a href="#l155.8"></a><span id="l155.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l155.9"></a><span id="l155.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l155.10"></a><span id="l155.10"> </span>
<a href="#l155.11"></a><span id="l155.11"> Cu.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l155.12"></a><span id="l155.12"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l155.13"></a><span id="l155.13"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l155.14"></a><span id="l155.14"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l155.15"></a><span id="l155.15"> Cu.import(&quot;resource:///modules/twitter-text.jsm&quot;);</span>
<a href="#l155.16"></a><span id="l155.16"> </span>
<a href="#l155.17"></a><span id="l155.17" class="difflineminus">-const NS_PREFBRANCH_PREFCHANGE_TOPIC_ID = &quot;nsPref:changed&quot;;</span>
<a href="#l155.18"></a><span id="l155.18" class="difflineminus">-const kMaxMessageLength = 140;</span>
<a href="#l155.19"></a><span id="l155.19" class="difflineplus">+var NS_PREFBRANCH_PREFCHANGE_TOPIC_ID = &quot;nsPref:changed&quot;;</span>
<a href="#l155.20"></a><span id="l155.20" class="difflineplus">+var kMaxMessageLength = 140;</span>
<a href="#l155.21"></a><span id="l155.21"> </span>
<a href="#l155.22"></a><span id="l155.22"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l155.23"></a><span id="l155.23">   l10nHelper(&quot;chrome://chat/locale/twitter.properties&quot;)</span>
<a href="#l155.24"></a><span id="l155.24"> );</span>
<a href="#l155.25"></a><span id="l155.25"> XPCOMUtils.defineLazyGetter(this, &quot;_lang&quot;, () =&gt;</span>
<a href="#l155.26"></a><span id="l155.26">   l10nHelper(&quot;chrome://global/locale/languageNames.properties&quot;)</span>
<a href="#l155.27"></a><span id="l155.27"> );</span>
<a href="#l155.28"></a><span id="l155.28"> initLogModule(&quot;twitter&quot;, this);</span>
<a href="#l155.29"></a><span id="l155.29" class="difflineat">@@ -1127,9 +1127,9 @@ TwitterProtocol.prototype = {</span>
<a href="#l155.30"></a><span id="l155.30">         return true;</span>
<a href="#l155.31"></a><span id="l155.31">       }</span>
<a href="#l155.32"></a><span id="l155.32">     }</span>
<a href="#l155.33"></a><span id="l155.33">   ],</span>
<a href="#l155.34"></a><span id="l155.34">   getAccount: function(aImAccount) { return new Account(this, aImAccount); },</span>
<a href="#l155.35"></a><span id="l155.35">   classID: Components.ID(&quot;{31082ff6-1de8-422b-ab60-ca0ac0b2af13}&quot;)</span>
<a href="#l155.36"></a><span id="l155.36"> };</span>
<a href="#l155.37"></a><span id="l155.37"> </span>
<a href="#l155.38"></a><span id="l155.38" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([TwitterProtocol]);</span>
<a href="#l155.39"></a><span id="l155.39" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([TwitterProtocol]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l156.1"></a><span id="l156.1" class="difflineminus">--- a/chat/protocols/xmpp/test/test_parseJidAndNormalization.js</span>
<a href="#l156.2"></a><span id="l156.2" class="difflineplus">+++ b/chat/protocols/xmpp/test/test_parseJidAndNormalization.js</span>
<a href="#l156.3"></a><span id="l156.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l156.4"></a><span id="l156.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l156.5"></a><span id="l156.5"> * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l156.6"></a><span id="l156.6"> </span>
<a href="#l156.7"></a><span id="l156.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l156.8"></a><span id="l156.8"> </span>
<a href="#l156.9"></a><span id="l156.9"> var xmpp = {};</span>
<a href="#l156.10"></a><span id="l156.10"> Services.scriptloader.loadSubScript(&quot;resource:///components/xmpp.js&quot;, xmpp);</span>
<a href="#l156.11"></a><span id="l156.11"> </span>
<a href="#l156.12"></a><span id="l156.12" class="difflineminus">-const TEST_DATA = {</span>
<a href="#l156.13"></a><span id="l156.13" class="difflineplus">+var TEST_DATA = {</span>
<a href="#l156.14"></a><span id="l156.14">   &quot;abdelrhman@instantbird&quot;: {</span>
<a href="#l156.15"></a><span id="l156.15">     node: &quot;abdelrhman&quot;,</span>
<a href="#l156.16"></a><span id="l156.16">     domain: &quot;instantbird&quot;,</span>
<a href="#l156.17"></a><span id="l156.17">     jid: &quot;abdelrhman@instantbird&quot;,</span>
<a href="#l156.18"></a><span id="l156.18">     normalized: &quot;abdelrhman@instantbird&quot;</span>
<a href="#l156.19"></a><span id="l156.19">   },</span>
<a href="#l156.20"></a><span id="l156.20">   &quot; room@instantbird/abdelrhman &quot;: {</span>
<a href="#l156.21"></a><span id="l156.21">     node: &quot;room&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l157.1"></a><span id="l157.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp-authmechs.jsm</span>
<a href="#l157.2"></a><span id="l157.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp-authmechs.jsm</span>
<a href="#l157.3"></a><span id="l157.3" class="difflineat">@@ -7,17 +7,17 @@</span>
<a href="#l157.4"></a><span id="l157.4"> // By default we currently support the PLAIN and the DIGEST-MD5 mechanisms.</span>
<a href="#l157.5"></a><span id="l157.5"> // As this is only used by XMPPSession, it may seem like an internal</span>
<a href="#l157.6"></a><span id="l157.6"> // detail of the XMPP implementation, but exporting it is valuable so that</span>
<a href="#l157.7"></a><span id="l157.7"> // add-ons can add support for more auth mechanisms easily by adding them</span>
<a href="#l157.8"></a><span id="l157.8"> // in XMPPAuthMechanisms without having to modify XMPPSession.</span>
<a href="#l157.9"></a><span id="l157.9"> </span>
<a href="#l157.10"></a><span id="l157.10"> this.EXPORTED_SYMBOLS = [&quot;XMPPAuthMechanisms&quot;];</span>
<a href="#l157.11"></a><span id="l157.11"> </span>
<a href="#l157.12"></a><span id="l157.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l157.13"></a><span id="l157.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l157.14"></a><span id="l157.14"> </span>
<a href="#l157.15"></a><span id="l157.15"> Cu.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l157.16"></a><span id="l157.16"> </span>
<a href="#l157.17"></a><span id="l157.17"> /* Handle PLAIN authorization mechanism */</span>
<a href="#l157.18"></a><span id="l157.18"> function PlainAuth(username, password, domain) {</span>
<a href="#l157.19"></a><span id="l157.19">   let data = &quot;\0&quot;+ username + &quot;\0&quot; + password;</span>
<a href="#l157.20"></a><span id="l157.20">   // btoa for Unicode, see https://developer.mozilla.org/en-US/docs/DOM/window.btoa</span>
<a href="#l157.21"></a><span id="l157.21">   this._base64Data = btoa(unescape(encodeURIComponent(data)));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l158.1"></a><span id="l158.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp-commands.jsm</span>
<a href="#l158.2"></a><span id="l158.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp-commands.jsm</span>
<a href="#l158.3"></a><span id="l158.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l158.4"></a><span id="l158.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l158.5"></a><span id="l158.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l158.6"></a><span id="l158.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l158.7"></a><span id="l158.7"> </span>
<a href="#l158.8"></a><span id="l158.8"> this.EXPORTED_SYMBOLS = [&quot;commands&quot;];</span>
<a href="#l158.9"></a><span id="l158.9"> </span>
<a href="#l158.10"></a><span id="l158.10" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l158.11"></a><span id="l158.11" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l158.12"></a><span id="l158.12"> </span>
<a href="#l158.13"></a><span id="l158.13"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l158.14"></a><span id="l158.14"> </span>
<a href="#l158.15"></a><span id="l158.15"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l158.16"></a><span id="l158.16">   l10nHelper(&quot;chrome://chat/locale/xmpp.properties&quot;)</span>
<a href="#l158.17"></a><span id="l158.17"> );</span>
<a href="#l158.18"></a><span id="l158.18"> </span>
<a href="#l158.19"></a><span id="l158.19"> // Get conversation object.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l159.1"></a><span id="l159.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp-session.jsm</span>
<a href="#l159.2"></a><span id="l159.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp-session.jsm</span>
<a href="#l159.3"></a><span id="l159.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l159.4"></a><span id="l159.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l159.5"></a><span id="l159.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l159.6"></a><span id="l159.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l159.7"></a><span id="l159.7"> </span>
<a href="#l159.8"></a><span id="l159.8"> this.EXPORTED_SYMBOLS = [&quot;XMPPSession&quot;, &quot;XMPPDefaultResource&quot;];</span>
<a href="#l159.9"></a><span id="l159.9"> </span>
<a href="#l159.10"></a><span id="l159.10" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l159.11"></a><span id="l159.11" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l159.12"></a><span id="l159.12"> </span>
<a href="#l159.13"></a><span id="l159.13"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l159.14"></a><span id="l159.14"> Cu.import(&quot;resource:///modules/socket.jsm&quot;);</span>
<a href="#l159.15"></a><span id="l159.15"> Cu.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l159.16"></a><span id="l159.16"> Cu.import(&quot;resource:///modules/xmpp-authmechs.jsm&quot;);</span>
<a href="#l159.17"></a><span id="l159.17"> </span>
<a href="#l159.18"></a><span id="l159.18"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l159.19"></a><span id="l159.19">   l10nHelper(&quot;chrome://chat/locale/xmpp.properties&quot;)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l160.1"></a><span id="l160.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp-xml.jsm</span>
<a href="#l160.2"></a><span id="l160.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp-xml.jsm</span>
<a href="#l160.3"></a><span id="l160.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l160.4"></a><span id="l160.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l160.5"></a><span id="l160.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l160.6"></a><span id="l160.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l160.7"></a><span id="l160.7"> </span>
<a href="#l160.8"></a><span id="l160.8"> this.EXPORTED_SYMBOLS = [&quot;Stanza&quot;, &quot;XMPPParser&quot;];</span>
<a href="#l160.9"></a><span id="l160.9"> </span>
<a href="#l160.10"></a><span id="l160.10" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l160.11"></a><span id="l160.11" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l160.12"></a><span id="l160.12"> </span>
<a href="#l160.13"></a><span id="l160.13" class="difflineminus">-const NS = {</span>
<a href="#l160.14"></a><span id="l160.14" class="difflineplus">+var NS = {</span>
<a href="#l160.15"></a><span id="l160.15">   xml                       : &quot;http://www.w3.org/XML/1998/namespace&quot;,</span>
<a href="#l160.16"></a><span id="l160.16">   xhtml                     : &quot;http://www.w3.org/1999/xhtml&quot;,</span>
<a href="#l160.17"></a><span id="l160.17">   xhtml_im                  : &quot;http://jabber.org/protocol/xhtml-im&quot;,</span>
<a href="#l160.18"></a><span id="l160.18"> </span>
<a href="#l160.19"></a><span id="l160.19">   //auth</span>
<a href="#l160.20"></a><span id="l160.20">   client                    : &quot;jabber:client&quot;,</span>
<a href="#l160.21"></a><span id="l160.21">   streams                   : &quot;http://etherx.jabber.org/streams&quot;,</span>
<a href="#l160.22"></a><span id="l160.22">   stream                    : &quot;urn:ietf:params:xml:ns:xmpp-streams&quot;,</span>
<a href="#l160.23"></a><span id="l160.23" class="difflineat">@@ -86,17 +86,17 @@ var TOP_LEVEL_ELEMENTS = {</span>
<a href="#l160.24"></a><span id="l160.24">   &quot;failure&quot;             : [&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;,</span>
<a href="#l160.25"></a><span id="l160.25">                            &quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;],</span>
<a href="#l160.26"></a><span id="l160.26">   &quot;success&quot;             : &quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;,</span>
<a href="#l160.27"></a><span id="l160.27">   &quot;challenge&quot;           : &quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;,</span>
<a href="#l160.28"></a><span id="l160.28">   &quot;error&quot;               : &quot;urn:ietf:params:xml:ns:xmpp-streams&quot;</span>
<a href="#l160.29"></a><span id="l160.29"> };</span>
<a href="#l160.30"></a><span id="l160.30"> </span>
<a href="#l160.31"></a><span id="l160.31"> /* Stanza Builder */</span>
<a href="#l160.32"></a><span id="l160.32" class="difflineminus">-const Stanza = {</span>
<a href="#l160.33"></a><span id="l160.33" class="difflineplus">+var Stanza = {</span>
<a href="#l160.34"></a><span id="l160.34">   NS: NS,</span>
<a href="#l160.35"></a><span id="l160.35"> </span>
<a href="#l160.36"></a><span id="l160.36">   /* Create a presence stanza */</span>
<a href="#l160.37"></a><span id="l160.37">   presence: (aAttr, aData) =&gt; Stanza.node(&quot;presence&quot;, null, aAttr, aData),</span>
<a href="#l160.38"></a><span id="l160.38"> </span>
<a href="#l160.39"></a><span id="l160.39">   /* Create a message stanza */</span>
<a href="#l160.40"></a><span id="l160.40">   message: function(aTo, aMsg, aState, aAttr = {}, aData = []) {</span>
<a href="#l160.41"></a><span id="l160.41">     aAttr.to = aTo;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l161.1"></a><span id="l161.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp.js</span>
<a href="#l161.2"></a><span id="l161.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp.js</span>
<a href="#l161.3"></a><span id="l161.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l161.4"></a><span id="l161.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l161.5"></a><span id="l161.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l161.6"></a><span id="l161.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l161.7"></a><span id="l161.7"> </span>
<a href="#l161.8"></a><span id="l161.8" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l161.9"></a><span id="l161.9" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l161.10"></a><span id="l161.10"> </span>
<a href="#l161.11"></a><span id="l161.11"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l161.12"></a><span id="l161.12"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l161.13"></a><span id="l161.13"> Cu.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l161.14"></a><span id="l161.14"> Cu.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l161.15"></a><span id="l161.15"> </span>
<a href="#l161.16"></a><span id="l161.16"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l161.17"></a><span id="l161.17">   l10nHelper(&quot;chrome://chat/locale/xmpp.properties&quot;)</span>
<a href="#l161.18"></a><span id="l161.18" class="difflineat">@@ -52,9 +52,9 @@ XMPPProtocol.prototype = {</span>
<a href="#l161.19"></a><span id="l161.19">     server: {get label() { return _(&quot;options.connectServer&quot;); }, default: &quot;&quot;},</span>
<a href="#l161.20"></a><span id="l161.20">     port: {get label() { return _(&quot;options.connectPort&quot;); }, default: 5222}</span>
<a href="#l161.21"></a><span id="l161.21">   },</span>
<a href="#l161.22"></a><span id="l161.22">   get chatHasTopic() { return true; },</span>
<a href="#l161.23"></a><span id="l161.23"> </span>
<a href="#l161.24"></a><span id="l161.24">   classID: Components.ID(&quot;{dde786d1-6f59-43d0-9bc8-b505a757fb30}&quot;)</span>
<a href="#l161.25"></a><span id="l161.25"> };</span>
<a href="#l161.26"></a><span id="l161.26"> </span>
<a href="#l161.27"></a><span id="l161.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([XMPPProtocol]);</span>
<a href="#l161.28"></a><span id="l161.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([XMPPProtocol]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l162.1"></a><span id="l162.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp.jsm</span>
<a href="#l162.2"></a><span id="l162.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp.jsm</span>
<a href="#l162.3"></a><span id="l162.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l162.4"></a><span id="l162.4"> </span>
<a href="#l162.5"></a><span id="l162.5"> this.EXPORTED_SYMBOLS = [</span>
<a href="#l162.6"></a><span id="l162.6">   &quot;XMPPConversationPrototype&quot;,</span>
<a href="#l162.7"></a><span id="l162.7">   &quot;XMPPMUCConversationPrototype&quot;,</span>
<a href="#l162.8"></a><span id="l162.8">   &quot;XMPPAccountBuddyPrototype&quot;,</span>
<a href="#l162.9"></a><span id="l162.9">   &quot;XMPPAccountPrototype&quot;</span>
<a href="#l162.10"></a><span id="l162.10"> ];</span>
<a href="#l162.11"></a><span id="l162.11"> </span>
<a href="#l162.12"></a><span id="l162.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l162.13"></a><span id="l162.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l162.14"></a><span id="l162.14"> </span>
<a href="#l162.15"></a><span id="l162.15"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l162.16"></a><span id="l162.16"> Cu.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l162.17"></a><span id="l162.17"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l162.18"></a><span id="l162.18"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l162.19"></a><span id="l162.19"> Cu.import(&quot;resource:///modules/NormalizedMap.jsm&quot;);</span>
<a href="#l162.20"></a><span id="l162.20"> Cu.import(&quot;resource:///modules/socket.jsm&quot;);</span>
<a href="#l162.21"></a><span id="l162.21"> Cu.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l162.22"></a><span id="l162.22" class="difflineat">@@ -82,17 +82,17 @@ function parseStatus(aStanza) {</span>
<a href="#l162.23"></a><span id="l162.23"> </span>
<a href="#l162.24"></a><span id="l162.24"> /* This is an ordered list, used to determine chat buddy flags:</span>
<a href="#l162.25"></a><span id="l162.25">  *  index &lt; member    -&gt; noFlags</span>
<a href="#l162.26"></a><span id="l162.26">  *  index = member    -&gt; voiced</span>
<a href="#l162.27"></a><span id="l162.27">  *          moderator -&gt; halfOp</span>
<a href="#l162.28"></a><span id="l162.28">  *          admin     -&gt; op</span>
<a href="#l162.29"></a><span id="l162.29">  *          owner     -&gt; founder</span>
<a href="#l162.30"></a><span id="l162.30">  */</span>
<a href="#l162.31"></a><span id="l162.31" class="difflineminus">-const kRoles = [&quot;outcast&quot;, &quot;visitor&quot;, &quot;participant&quot;, &quot;member&quot;, &quot;moderator&quot;,</span>
<a href="#l162.32"></a><span id="l162.32" class="difflineplus">+var kRoles = [&quot;outcast&quot;, &quot;visitor&quot;, &quot;participant&quot;, &quot;member&quot;, &quot;moderator&quot;,</span>
<a href="#l162.33"></a><span id="l162.33">                 &quot;admin&quot;, &quot;owner&quot;];</span>
<a href="#l162.34"></a><span id="l162.34"> </span>
<a href="#l162.35"></a><span id="l162.35"> function MUCParticipant(aNick, aJid, aPresenceStanza)</span>
<a href="#l162.36"></a><span id="l162.36"> {</span>
<a href="#l162.37"></a><span id="l162.37">   this._jid = aJid;</span>
<a href="#l162.38"></a><span id="l162.38">   this.name = aNick;</span>
<a href="#l162.39"></a><span id="l162.39">   this.onPresenceStanza(aPresenceStanza);</span>
<a href="#l162.40"></a><span id="l162.40"> }</span>
<a href="#l162.41"></a><span id="l162.41" class="difflineat">@@ -144,17 +144,17 @@ MUCParticipant.prototype = {</span>
<a href="#l162.42"></a><span id="l162.42">   get voiced() { return this.role == kRoles.indexOf(&quot;member&quot;); },</span>
<a href="#l162.43"></a><span id="l162.43">   get halfOp() { return this.role == kRoles.indexOf(&quot;moderator&quot;); },</span>
<a href="#l162.44"></a><span id="l162.44">   get op() { return this.role == kRoles.indexOf(&quot;admin&quot;); },</span>
<a href="#l162.45"></a><span id="l162.45">   get founder() { return this.role == kRoles.indexOf(&quot;owner&quot;); },</span>
<a href="#l162.46"></a><span id="l162.46">   typing: false</span>
<a href="#l162.47"></a><span id="l162.47"> };</span>
<a href="#l162.48"></a><span id="l162.48"> </span>
<a href="#l162.49"></a><span id="l162.49"> // MUC (Multi-User Chat)</span>
<a href="#l162.50"></a><span id="l162.50" class="difflineminus">-const XMPPMUCConversationPrototype = {</span>
<a href="#l162.51"></a><span id="l162.51" class="difflineplus">+var XMPPMUCConversationPrototype = {</span>
<a href="#l162.52"></a><span id="l162.52">   __proto__: GenericConvChatPrototype,</span>
<a href="#l162.53"></a><span id="l162.53">   // By default users are not in a MUC.</span>
<a href="#l162.54"></a><span id="l162.54">   _left: true,</span>
<a href="#l162.55"></a><span id="l162.55"> </span>
<a href="#l162.56"></a><span id="l162.56">   // Tracks all received messages to avoid possible duplication if the server</span>
<a href="#l162.57"></a><span id="l162.57">   // sends us the last few messages again when we rejoin a room.</span>
<a href="#l162.58"></a><span id="l162.58">   _messageIds: new Set(),</span>
<a href="#l162.59"></a><span id="l162.59"> </span>
<a href="#l162.60"></a><span id="l162.60" class="difflineat">@@ -539,17 +539,17 @@ const XMPPMUCConversationPrototype = {</span>
<a href="#l162.61"></a><span id="l162.61"> };</span>
<a href="#l162.62"></a><span id="l162.62"> function XMPPMUCConversation(aAccount, aJID, aNick)</span>
<a href="#l162.63"></a><span id="l162.63"> {</span>
<a href="#l162.64"></a><span id="l162.64">   this._init(aAccount, aJID, aNick);</span>
<a href="#l162.65"></a><span id="l162.65"> }</span>
<a href="#l162.66"></a><span id="l162.66"> XMPPMUCConversation.prototype = XMPPMUCConversationPrototype;</span>
<a href="#l162.67"></a><span id="l162.67"> </span>
<a href="#l162.68"></a><span id="l162.68"> /* Helper class for buddy conversations */</span>
<a href="#l162.69"></a><span id="l162.69" class="difflineminus">-const XMPPConversationPrototype = {</span>
<a href="#l162.70"></a><span id="l162.70" class="difflineplus">+var XMPPConversationPrototype = {</span>
<a href="#l162.71"></a><span id="l162.71">   __proto__: GenericConvIMPrototype,</span>
<a href="#l162.72"></a><span id="l162.72"> </span>
<a href="#l162.73"></a><span id="l162.73">   _typingTimer: null,</span>
<a href="#l162.74"></a><span id="l162.74">   supportChatStateNotifications: true,</span>
<a href="#l162.75"></a><span id="l162.75">   _typingState: &quot;active&quot;,</span>
<a href="#l162.76"></a><span id="l162.76"> </span>
<a href="#l162.77"></a><span id="l162.77">   // Indicates that current conversation is with a MUC participant and the</span>
<a href="#l162.78"></a><span id="l162.78">   // recipient jid (stored in the userName) is of the form room@domain/nick.</span>
<a href="#l162.79"></a><span id="l162.79" class="difflineat">@@ -730,17 +730,17 @@ function XMPPConversation(aAccount, aNor</span>
<a href="#l162.80"></a><span id="l162.80"> {</span>
<a href="#l162.81"></a><span id="l162.81">   this._init(aAccount, aNormalizedName);</span>
<a href="#l162.82"></a><span id="l162.82">   if (aMucParticipant)</span>
<a href="#l162.83"></a><span id="l162.83">     this._isMucParticipant = true;</span>
<a href="#l162.84"></a><span id="l162.84"> }</span>
<a href="#l162.85"></a><span id="l162.85"> XMPPConversation.prototype = XMPPConversationPrototype;</span>
<a href="#l162.86"></a><span id="l162.86"> </span>
<a href="#l162.87"></a><span id="l162.87"> /* Helper class for buddies */</span>
<a href="#l162.88"></a><span id="l162.88" class="difflineminus">-const XMPPAccountBuddyPrototype = {</span>
<a href="#l162.89"></a><span id="l162.89" class="difflineplus">+var XMPPAccountBuddyPrototype = {</span>
<a href="#l162.90"></a><span id="l162.90">   __proto__: GenericAccountBuddyPrototype,</span>
<a href="#l162.91"></a><span id="l162.91"> </span>
<a href="#l162.92"></a><span id="l162.92">   subscription: &quot;none&quot;,</span>
<a href="#l162.93"></a><span id="l162.93">   // Returns a list of TooltipInfo objects to be displayed when the user</span>
<a href="#l162.94"></a><span id="l162.94">   // hovers over the buddy.</span>
<a href="#l162.95"></a><span id="l162.95">   getTooltipInfo: function() {</span>
<a href="#l162.96"></a><span id="l162.96">     if (!this._account.connected)</span>
<a href="#l162.97"></a><span id="l162.97">       return null;</span>
<a href="#l162.98"></a><span id="l162.98" class="difflineat">@@ -1027,17 +1027,17 @@ const XMPPAccountBuddyPrototype = {</span>
<a href="#l162.99"></a><span id="l162.99"> };</span>
<a href="#l162.100"></a><span id="l162.100"> function XMPPAccountBuddy(aAccount, aBuddy, aTag, aUserName)</span>
<a href="#l162.101"></a><span id="l162.101"> {</span>
<a href="#l162.102"></a><span id="l162.102">   this._init(aAccount, aBuddy, aTag, aUserName);</span>
<a href="#l162.103"></a><span id="l162.103"> }</span>
<a href="#l162.104"></a><span id="l162.104"> XMPPAccountBuddy.prototype = XMPPAccountBuddyPrototype;</span>
<a href="#l162.105"></a><span id="l162.105"> </span>
<a href="#l162.106"></a><span id="l162.106"> /* Helper class for account */</span>
<a href="#l162.107"></a><span id="l162.107" class="difflineminus">-const XMPPAccountPrototype = {</span>
<a href="#l162.108"></a><span id="l162.108" class="difflineplus">+var XMPPAccountPrototype = {</span>
<a href="#l162.109"></a><span id="l162.109">   __proto__: GenericAccountPrototype,</span>
<a href="#l162.110"></a><span id="l162.110"> </span>
<a href="#l162.111"></a><span id="l162.111">   _jid: null, // parsed Jabber ID: node, domain, resource</span>
<a href="#l162.112"></a><span id="l162.112">   _connection: null, // XMPPSession socket</span>
<a href="#l162.113"></a><span id="l162.113">   authMechanisms: null, // hook to let prpls tweak the list of auth mechanisms</span>
<a href="#l162.114"></a><span id="l162.114"> </span>
<a href="#l162.115"></a><span id="l162.115">   // Contains the domain of MUC service which is obtained using service</span>
<a href="#l162.116"></a><span id="l162.116">   // discovery.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l163.1"></a><span id="l163.1" class="difflineminus">--- a/chat/protocols/yahoo/test/test_yahooLoginHelper.js</span>
<a href="#l163.2"></a><span id="l163.2" class="difflineplus">+++ b/chat/protocols/yahoo/test/test_yahooLoginHelper.js</span>
<a href="#l163.3"></a><span id="l163.3" class="difflineat">@@ -3,28 +3,28 @@</span>
<a href="#l163.4"></a><span id="l163.4"> </span>
<a href="#l163.5"></a><span id="l163.5"> Components.utils.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l163.6"></a><span id="l163.6"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l163.7"></a><span id="l163.7"> Components.utils.import(&quot;resource:///modules/yahoo-session.jsm&quot;);</span>
<a href="#l163.8"></a><span id="l163.8"> var yahoo = {};</span>
<a href="#l163.9"></a><span id="l163.9"> Services.scriptloader.loadSubScript(&quot;resource:///modules/yahoo-session.jsm&quot;, yahoo);</span>
<a href="#l163.10"></a><span id="l163.10"> </span>
<a href="#l163.11"></a><span id="l163.11"> // Preset test values.</span>
<a href="#l163.12"></a><span id="l163.12" class="difflineminus">-const kUsername = &quot;testUser&quot;;</span>
<a href="#l163.13"></a><span id="l163.13" class="difflineminus">-const kPassword = &quot;instantbird&quot;;</span>
<a href="#l163.14"></a><span id="l163.14" class="difflineminus">-const kPagerIp = &quot;123.456.78.9&quot;;</span>
<a href="#l163.15"></a><span id="l163.15" class="difflineminus">-const kCrumb = &quot;MG-Z/jNG+Q==&quot;;</span>
<a href="#l163.16"></a><span id="l163.16" class="difflineminus">-const kChallengeString = &quot;AEF08DBAC33F9EEDABCFEA==&quot;;</span>
<a href="#l163.17"></a><span id="l163.17" class="difflineminus">-const kYCookie = &quot;OTJmMTQyOTU1ZGQ4MDA3Y2I2ODljMTU5&quot;;</span>
<a href="#l163.18"></a><span id="l163.18" class="difflineminus">-const kTCookie = &quot;NTdlZmIzY2Q4ODI3ZTc3NTIxYTk1MDhm&quot;;</span>
<a href="#l163.19"></a><span id="l163.19" class="difflineminus">-const kToken = &quot;MThmMzg3OWM3ODcxMW&quot;;</span>
<a href="#l163.20"></a><span id="l163.20" class="difflineplus">+var kUsername = &quot;testUser&quot;;</span>
<a href="#l163.21"></a><span id="l163.21" class="difflineplus">+var kPassword = &quot;instantbird&quot;;</span>
<a href="#l163.22"></a><span id="l163.22" class="difflineplus">+var kPagerIp = &quot;123.456.78.9&quot;;</span>
<a href="#l163.23"></a><span id="l163.23" class="difflineplus">+var kCrumb = &quot;MG-Z/jNG+Q==&quot;;</span>
<a href="#l163.24"></a><span id="l163.24" class="difflineplus">+var kChallengeString = &quot;AEF08DBAC33F9EEDABCFEA==&quot;;</span>
<a href="#l163.25"></a><span id="l163.25" class="difflineplus">+var kYCookie = &quot;OTJmMTQyOTU1ZGQ4MDA3Y2I2ODljMTU5&quot;;</span>
<a href="#l163.26"></a><span id="l163.26" class="difflineplus">+var kTCookie = &quot;NTdlZmIzY2Q4ODI3ZTc3NTIxYTk1MDhm&quot;;</span>
<a href="#l163.27"></a><span id="l163.27" class="difflineplus">+var kToken = &quot;MThmMzg3OWM3ODcxMW&quot;;</span>
<a href="#l163.28"></a><span id="l163.28"> </span>
<a href="#l163.29"></a><span id="l163.29" class="difflineminus">-const kPagerAddressResponse = &quot;COLO_CAPACITY=1\r\nCS_IP_ADDRESS=&quot; + kPagerIp;</span>
<a href="#l163.30"></a><span id="l163.30" class="difflineminus">-const kTokenResponse = &quot;0\r\n&quot; + kToken + &quot;\r\npartnerid=dummyValue&quot;;</span>
<a href="#l163.31"></a><span id="l163.31" class="difflineminus">-const kCookieResponse = &quot;0\r\ncrumb=&quot; + kCrumb + &quot;\r\nY=&quot; + kYCookie +</span>
<a href="#l163.32"></a><span id="l163.32" class="difflineplus">+var kPagerAddressResponse = &quot;COLO_CAPACITY=1\r\nCS_IP_ADDRESS=&quot; + kPagerIp;</span>
<a href="#l163.33"></a><span id="l163.33" class="difflineplus">+var kTokenResponse = &quot;0\r\n&quot; + kToken + &quot;\r\npartnerid=dummyValue&quot;;</span>
<a href="#l163.34"></a><span id="l163.34" class="difflineplus">+var kCookieResponse = &quot;0\r\ncrumb=&quot; + kCrumb + &quot;\r\nY=&quot; + kYCookie +</span>
<a href="#l163.35"></a><span id="l163.35">                         &quot;\r\nT=&quot; + kTCookie + &quot;\r\ncookievalidfor=86400&quot;;</span>
<a href="#l163.36"></a><span id="l163.36"> </span>
<a href="#l163.37"></a><span id="l163.37"> /* In each test, we override the function that would normally be called next in</span>
<a href="#l163.38"></a><span id="l163.38">  * the login process. We do this so that we can intercept the login process,</span>
<a href="#l163.39"></a><span id="l163.39">  * preventing calls to real Yahoo! servers, and do equality testing. */</span>
<a href="#l163.40"></a><span id="l163.40"> function run_test()</span>
<a href="#l163.41"></a><span id="l163.41"> {</span>
<a href="#l163.42"></a><span id="l163.42">   add_test(test_pagerAddress);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l164.1"></a><span id="l164.1" class="difflineminus">--- a/chat/protocols/yahoo/test/test_yahoopacket.js</span>
<a href="#l164.2"></a><span id="l164.2" class="difflineplus">+++ b/chat/protocols/yahoo/test/test_yahoopacket.js</span>
<a href="#l164.3"></a><span id="l164.3" class="difflineat">@@ -2,27 +2,27 @@</span>
<a href="#l164.4"></a><span id="l164.4">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l164.5"></a><span id="l164.5"> </span>
<a href="#l164.6"></a><span id="l164.6"> Components.utils.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l164.7"></a><span id="l164.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l164.8"></a><span id="l164.8"> Components.utils.import(&quot;resource:///modules/yahoo-session.jsm&quot;);</span>
<a href="#l164.9"></a><span id="l164.9"> var yahoo = {};</span>
<a href="#l164.10"></a><span id="l164.10"> Services.scriptloader.loadSubScript(&quot;resource:///modules/yahoo-session.jsm&quot;, yahoo);</span>
<a href="#l164.11"></a><span id="l164.11"> </span>
<a href="#l164.12"></a><span id="l164.12" class="difflineminus">-const kPacketIdBytes = StringToBytes(yahoo.kPacketIdentfier);</span>
<a href="#l164.13"></a><span id="l164.13" class="difflineminus">-const kHelloKey = 1;</span>
<a href="#l164.14"></a><span id="l164.14" class="difflineminus">-const kHelloValue = &quot;Hello&quot;;</span>
<a href="#l164.15"></a><span id="l164.15" class="difflineminus">-const kWorldKey = 20;</span>
<a href="#l164.16"></a><span id="l164.16" class="difflineminus">-const kWorldValue = &quot;World&quot;;</span>
<a href="#l164.17"></a><span id="l164.17" class="difflineminus">-const kNumberKey = 4;</span>
<a href="#l164.18"></a><span id="l164.18" class="difflineminus">-const kNumberValue = 32;</span>
<a href="#l164.19"></a><span id="l164.19" class="difflineminus">-const kParamsKey = 60;</span>
<a href="#l164.20"></a><span id="l164.20" class="difflineminus">-const kParam1Value = &quot;param1&quot;;</span>
<a href="#l164.21"></a><span id="l164.21" class="difflineminus">-const kParam2Value = &quot;param2&quot;;</span>
<a href="#l164.22"></a><span id="l164.22" class="difflineminus">-const kPacketDataString = &quot;1\xC0\x80Hello\xC0\x8020\xC0\x80World\xC0\x80&quot; +</span>
<a href="#l164.23"></a><span id="l164.23" class="difflineplus">+var kPacketIdBytes = StringToBytes(yahoo.kPacketIdentfier);</span>
<a href="#l164.24"></a><span id="l164.24" class="difflineplus">+var kHelloKey = 1;</span>
<a href="#l164.25"></a><span id="l164.25" class="difflineplus">+var kHelloValue = &quot;Hello&quot;;</span>
<a href="#l164.26"></a><span id="l164.26" class="difflineplus">+var kWorldKey = 20;</span>
<a href="#l164.27"></a><span id="l164.27" class="difflineplus">+var kWorldValue = &quot;World&quot;;</span>
<a href="#l164.28"></a><span id="l164.28" class="difflineplus">+var kNumberKey = 4;</span>
<a href="#l164.29"></a><span id="l164.29" class="difflineplus">+var kNumberValue = 32;</span>
<a href="#l164.30"></a><span id="l164.30" class="difflineplus">+var kParamsKey = 60;</span>
<a href="#l164.31"></a><span id="l164.31" class="difflineplus">+var kParam1Value = &quot;param1&quot;;</span>
<a href="#l164.32"></a><span id="l164.32" class="difflineplus">+var kParam2Value = &quot;param2&quot;;</span>
<a href="#l164.33"></a><span id="l164.33" class="difflineplus">+var kPacketDataString = &quot;1\xC0\x80Hello\xC0\x8020\xC0\x80World\xC0\x80&quot; +</span>
<a href="#l164.34"></a><span id="l164.34">                           &quot;4\xC0\x8032\xC0\x8060\xC0\x80param1\xC0\x80&quot; +</span>
<a href="#l164.35"></a><span id="l164.35">                           &quot;60\xC0\x80param2\xC0\x80&quot;;</span>
<a href="#l164.36"></a><span id="l164.36"> </span>
<a href="#l164.37"></a><span id="l164.37"> function run_test()</span>
<a href="#l164.38"></a><span id="l164.38"> {</span>
<a href="#l164.39"></a><span id="l164.39">   add_test(test_headerCreation);</span>
<a href="#l164.40"></a><span id="l164.40">   add_test(test_fullPacketCreation);</span>
<a href="#l164.41"></a><span id="l164.41">   add_test(test_packetDecoding);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l165.1"></a><span id="l165.1" class="difflineminus">--- a/chat/protocols/yahoo/yahoo-session.jsm</span>
<a href="#l165.2"></a><span id="l165.2" class="difflineplus">+++ b/chat/protocols/yahoo/yahoo-session.jsm</span>
<a href="#l165.3"></a><span id="l165.3" class="difflineat">@@ -1,45 +1,45 @@</span>
<a href="#l165.4"></a><span id="l165.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l165.5"></a><span id="l165.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l165.6"></a><span id="l165.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l165.7"></a><span id="l165.7"> </span>
<a href="#l165.8"></a><span id="l165.8"> this.EXPORTED_SYMBOLS = [&quot;YahooSession&quot;];</span>
<a href="#l165.9"></a><span id="l165.9"> </span>
<a href="#l165.10"></a><span id="l165.10" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l165.11"></a><span id="l165.11" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l165.12"></a><span id="l165.12"> </span>
<a href="#l165.13"></a><span id="l165.13"> Cu.import(&quot;resource://gre/modules/FileUtils.jsm&quot;);</span>
<a href="#l165.14"></a><span id="l165.14"> Cu.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l165.15"></a><span id="l165.15"> Cu.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l165.16"></a><span id="l165.16"> Cu.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l165.17"></a><span id="l165.17"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l165.18"></a><span id="l165.18"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l165.19"></a><span id="l165.19"> Cu.import(&quot;resource:///modules/socket.jsm&quot;);</span>
<a href="#l165.20"></a><span id="l165.20"> </span>
<a href="#l165.21"></a><span id="l165.21"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l165.22"></a><span id="l165.22">   l10nHelper(&quot;chrome://chat/locale/yahoo.properties&quot;)</span>
<a href="#l165.23"></a><span id="l165.23"> );</span>
<a href="#l165.24"></a><span id="l165.24"> </span>
<a href="#l165.25"></a><span id="l165.25"> XPCOMUtils.defineLazyServiceGetter(this, &quot;imgTools&quot;,</span>
<a href="#l165.26"></a><span id="l165.26">                                    &quot;@mozilla.org/image/tools;1&quot;, &quot;imgITools&quot;);</span>
<a href="#l165.27"></a><span id="l165.27"> </span>
<a href="#l165.28"></a><span id="l165.28" class="difflineminus">-const kProtocolVersion = 16;</span>
<a href="#l165.29"></a><span id="l165.29" class="difflineminus">-const kVendorId = 0;</span>
<a href="#l165.30"></a><span id="l165.30" class="difflineplus">+var kProtocolVersion = 16;</span>
<a href="#l165.31"></a><span id="l165.31" class="difflineplus">+var kVendorId = 0;</span>
<a href="#l165.32"></a><span id="l165.32"> </span>
<a href="#l165.33"></a><span id="l165.33" class="difflineminus">-const kPacketDataDelimiter = &quot;\xC0\x80&quot;;</span>
<a href="#l165.34"></a><span id="l165.34" class="difflineminus">-const kPacketIdentifier = &quot;YMSG&quot;;</span>
<a href="#l165.35"></a><span id="l165.35" class="difflineminus">-const kPacketHeaderSize = 20;</span>
<a href="#l165.36"></a><span id="l165.36" class="difflineminus">-const kProfileIconWidth = 96;</span>
<a href="#l165.37"></a><span id="l165.37" class="difflineplus">+var kPacketDataDelimiter = &quot;\xC0\x80&quot;;</span>
<a href="#l165.38"></a><span id="l165.38" class="difflineplus">+var kPacketIdentifier = &quot;YMSG&quot;;</span>
<a href="#l165.39"></a><span id="l165.39" class="difflineplus">+var kPacketHeaderSize = 20;</span>
<a href="#l165.40"></a><span id="l165.40" class="difflineplus">+var kProfileIconWidth = 96;</span>
<a href="#l165.41"></a><span id="l165.41"> </span>
<a href="#l165.42"></a><span id="l165.42"> // These constants are used by the icon uploading code since the Yahoo! file</span>
<a href="#l165.43"></a><span id="l165.43"> // transfer server is used for user icon uploads.</span>
<a href="#l165.44"></a><span id="l165.44" class="difflineminus">-const kFileTransferHost = &quot;filetransfer.msg.yahoo.com&quot;;</span>
<a href="#l165.45"></a><span id="l165.45" class="difflineminus">-const kFileTransferPort = 80;</span>
<a href="#l165.46"></a><span id="l165.46" class="difflineplus">+var kFileTransferHost = &quot;filetransfer.msg.yahoo.com&quot;;</span>
<a href="#l165.47"></a><span id="l165.47" class="difflineplus">+var kFileTransferPort = 80;</span>
<a href="#l165.48"></a><span id="l165.48"> </span>
<a href="#l165.49"></a><span id="l165.49" class="difflineminus">-const kPacketType = {</span>
<a href="#l165.50"></a><span id="l165.50" class="difflineplus">+var kPacketType = {</span>
<a href="#l165.51"></a><span id="l165.51">   // Sent by a client when logging off of the Yahoo! network.</span>
<a href="#l165.52"></a><span id="l165.52">   Logoff:         0x02,</span>
<a href="#l165.53"></a><span id="l165.53">   // Sent by a client when a message is sent to a buddy.</span>
<a href="#l165.54"></a><span id="l165.54">   Message:        0x06,</span>
<a href="#l165.55"></a><span id="l165.55">   // Sent to the pager server once per hour.</span>
<a href="#l165.56"></a><span id="l165.56">   Ping:           0x12,</span>
<a href="#l165.57"></a><span id="l165.57">   // Used for inviting others to a conference.</span>
<a href="#l165.58"></a><span id="l165.58">   ConfInvite:     0x18,</span>
<a href="#l165.59"></a><span id="l165.59" class="difflineat">@@ -78,40 +78,40 @@ const kPacketType = {</span>
<a href="#l165.60"></a><span id="l165.60">   StatusInitial:  0xf0,</span>
<a href="#l165.61"></a><span id="l165.61">   // Contains the buddy list sent from the server.</span>
<a href="#l165.62"></a><span id="l165.62">   List:           0xf1,</span>
<a href="#l165.63"></a><span id="l165.63">   // Sent back to the pager server after each received message. Sending this</span>
<a href="#l165.64"></a><span id="l165.64">   // prevents echoed messages when chatting with the official Yahoo! client.</span>
<a href="#l165.65"></a><span id="l165.65">   MessageAck:     0xfb</span>
<a href="#l165.66"></a><span id="l165.66"> };</span>
<a href="#l165.67"></a><span id="l165.67"> </span>
<a href="#l165.68"></a><span id="l165.68" class="difflineminus">-const kPacketStatuses = {</span>
<a href="#l165.69"></a><span id="l165.69" class="difflineplus">+var kPacketStatuses = {</span>
<a href="#l165.70"></a><span id="l165.70">   ServerAck: 0x1,</span>
<a href="#l165.71"></a><span id="l165.71">   Typing: 0x16</span>
<a href="#l165.72"></a><span id="l165.72"> };</span>
<a href="#l165.73"></a><span id="l165.73"> </span>
<a href="#l165.74"></a><span id="l165.74"> // Each Yahoo! error code is mapped to a two-element array. The first element</span>
<a href="#l165.75"></a><span id="l165.75"> // contains the last part of the name of its localized string. This is appended</span>
<a href="#l165.76"></a><span id="l165.76"> // to &quot;login.error.&quot; to obtain the string. The second element is the</span>
<a href="#l165.77"></a><span id="l165.77"> // Instantbird error that is given to the error handler.</span>
<a href="#l165.78"></a><span id="l165.78" class="difflineminus">-const kLoginStatusErrors = {</span>
<a href="#l165.79"></a><span id="l165.79" class="difflineplus">+var kLoginStatusErrors = {</span>
<a href="#l165.80"></a><span id="l165.80">   &quot;1212&quot; : [&quot;badCredentials&quot;,</span>
<a href="#l165.81"></a><span id="l165.81">             Ci.prplIAccount.ERROR_AUTHENTICATION_FAILED],</span>
<a href="#l165.82"></a><span id="l165.82">   &quot;1213&quot; : [&quot;accountLockedFailed&quot;,</span>
<a href="#l165.83"></a><span id="l165.83">             Ci.prplIAccount.ERROR_AUTHENTICATION_FAILED],</span>
<a href="#l165.84"></a><span id="l165.84">   &quot;1218&quot; : [&quot;accountDeactivated&quot;,</span>
<a href="#l165.85"></a><span id="l165.85">             Ci.prplIAccount.ERROR_AUTHENTICATION_FAILED],</span>
<a href="#l165.86"></a><span id="l165.86">   &quot;1235&quot; : [&quot;usernameNotExist&quot;,</span>
<a href="#l165.87"></a><span id="l165.87">             Ci.prplIAccount.ERROR_INVALID_USERNAME],</span>
<a href="#l165.88"></a><span id="l165.88">   &quot;1236&quot; : [&quot;accountLockedGeneral&quot;,</span>
<a href="#l165.89"></a><span id="l165.89">             Ci.prplIAccount.ERROR_AUTHENTICATION_FAILED]</span>
<a href="#l165.90"></a><span id="l165.90"> };</span>
<a href="#l165.91"></a><span id="l165.91"> </span>
<a href="#l165.92"></a><span id="l165.92"> // These are the status codes that buddies can send us.</span>
<a href="#l165.93"></a><span id="l165.93" class="difflineminus">-const kBuddyStatuses = {</span>
<a href="#l165.94"></a><span id="l165.94" class="difflineplus">+var kBuddyStatuses = {</span>
<a href="#l165.95"></a><span id="l165.95">   // Available.</span>
<a href="#l165.96"></a><span id="l165.96">   &quot;0&quot;   : Ci.imIStatusInfo.STATUS_AVAILABLE,</span>
<a href="#l165.97"></a><span id="l165.97">   // Be right back.</span>
<a href="#l165.98"></a><span id="l165.98">   &quot;1&quot;   : Ci.imIStatusInfo.STATUS_AWAY,</span>
<a href="#l165.99"></a><span id="l165.99">   // Busy.</span>
<a href="#l165.100"></a><span id="l165.100">   &quot;2&quot;   : Ci.imIStatusInfo.STATUS_UNAVAILABLE,</span>
<a href="#l165.101"></a><span id="l165.101">     // Not at home.</span>
<a href="#l165.102"></a><span id="l165.102">   &quot;3&quot;   : Ci.imIStatusInfo.STATUS_AWAY,</span>
<a href="#l165.103"></a><span id="l165.103" class="difflineat">@@ -851,17 +851,17 @@ YahooPacket.extractPackets = function(aD</span>
<a href="#l165.104"></a><span id="l165.104"> }</span>
<a href="#l165.105"></a><span id="l165.105"> </span>
<a href="#l165.106"></a><span id="l165.106"> /* In YahooPacketHandler, each handler function is assosiated with a packet</span>
<a href="#l165.107"></a><span id="l165.107">  * service number. You can use the kPacketType enumeration to understand</span>
<a href="#l165.108"></a><span id="l165.108">  * what kind of packet each number is linked to.</span>
<a href="#l165.109"></a><span id="l165.109">  *</span>
<a href="#l165.110"></a><span id="l165.110">  * Keep in mind too that &quot;this&quot; in each function will be bound to a</span>
<a href="#l165.111"></a><span id="l165.111">  * YahooAccount object, since they are all invoked using call(). */</span>
<a href="#l165.112"></a><span id="l165.112" class="difflineminus">-const YahooPacketHandler = {</span>
<a href="#l165.113"></a><span id="l165.113" class="difflineplus">+var YahooPacketHandler = {</span>
<a href="#l165.114"></a><span id="l165.114">   // Buddy logoff.</span>
<a href="#l165.115"></a><span id="l165.115">   0x02: function(aPacket) {</span>
<a href="#l165.116"></a><span id="l165.116">     let name = aPacket.getValue(7);</span>
<a href="#l165.117"></a><span id="l165.117">     this.setBuddyStatus(name, Ci.imIStatusInfo.STATUS_OFFLINE, &quot;&quot;);</span>
<a href="#l165.118"></a><span id="l165.118">   },</span>
<a href="#l165.119"></a><span id="l165.119"> </span>
<a href="#l165.120"></a><span id="l165.120">   // Incoming chat message.</span>
<a href="#l165.121"></a><span id="l165.121">   0x06: function(aPacket) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l166.1"></a><span id="l166.1" class="difflineminus">--- a/chat/protocols/yahoo/yahoo.js</span>
<a href="#l166.2"></a><span id="l166.2" class="difflineplus">+++ b/chat/protocols/yahoo/yahoo.js</span>
<a href="#l166.3"></a><span id="l166.3" class="difflineat">@@ -1,26 +1,26 @@</span>
<a href="#l166.4"></a><span id="l166.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l166.5"></a><span id="l166.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l166.6"></a><span id="l166.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l166.7"></a><span id="l166.7"> </span>
<a href="#l166.8"></a><span id="l166.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l166.9"></a><span id="l166.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l166.10"></a><span id="l166.10"> </span>
<a href="#l166.11"></a><span id="l166.11"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l166.12"></a><span id="l166.12"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l166.13"></a><span id="l166.13"> Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l166.14"></a><span id="l166.14"> Cu.import(&quot;resource:///modules/yahoo-session.jsm&quot;);</span>
<a href="#l166.15"></a><span id="l166.15"> </span>
<a href="#l166.16"></a><span id="l166.16"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l166.17"></a><span id="l166.17">   l10nHelper(&quot;chrome://chat/locale/yahoo.properties&quot;)</span>
<a href="#l166.18"></a><span id="l166.18"> );</span>
<a href="#l166.19"></a><span id="l166.19"> </span>
<a href="#l166.20"></a><span id="l166.20"> // These timeouts are in milliseconds.</span>
<a href="#l166.21"></a><span id="l166.21" class="difflineminus">-const kKeepAliveTimeout = 60 * 1000; // One minute.</span>
<a href="#l166.22"></a><span id="l166.22" class="difflineminus">-const kPingTimeout = 3600 * 1000; // One hour.</span>
<a href="#l166.23"></a><span id="l166.23" class="difflineplus">+var kKeepAliveTimeout = 60 * 1000; // One minute.</span>
<a href="#l166.24"></a><span id="l166.24" class="difflineplus">+var kPingTimeout = 3600 * 1000; // One hour.</span>
<a href="#l166.25"></a><span id="l166.25"> </span>
<a href="#l166.26"></a><span id="l166.26"> function YahooConversation(aAccount, aName)</span>
<a href="#l166.27"></a><span id="l166.27"> {</span>
<a href="#l166.28"></a><span id="l166.28">   this._buddyUserName = aName;</span>
<a href="#l166.29"></a><span id="l166.29">   this._account = aAccount;</span>
<a href="#l166.30"></a><span id="l166.30">   this.buddy = aAccount.getBuddy(aName);</span>
<a href="#l166.31"></a><span id="l166.31">   this._init(aAccount);</span>
<a href="#l166.32"></a><span id="l166.32"> }</span>
<a href="#l166.33"></a><span id="l166.33" class="difflineat">@@ -570,9 +570,9 @@ YahooProtocol.prototype = {</span>
<a href="#l166.34"></a><span id="l166.34">         return true;</span>
<a href="#l166.35"></a><span id="l166.35">       }</span>
<a href="#l166.36"></a><span id="l166.36">     }</span>
<a href="#l166.37"></a><span id="l166.37">   ],</span>
<a href="#l166.38"></a><span id="l166.38">   getAccount: function(aImAccount) { return new YahooAccount(this, aImAccount); },</span>
<a href="#l166.39"></a><span id="l166.39">   classID: Components.ID(&quot;{50ea817e-5d79-4657-91ae-aa0a52bdb98c}&quot;)</span>
<a href="#l166.40"></a><span id="l166.40"> };</span>
<a href="#l166.41"></a><span id="l166.41"> </span>
<a href="#l166.42"></a><span id="l166.42" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([YahooProtocol]);</span>
<a href="#l166.43"></a><span id="l166.43" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([YahooProtocol]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l167.1"></a><span id="l167.1" class="difflineminus">--- a/im/components/contentHandler.js</span>
<a href="#l167.2"></a><span id="l167.2" class="difflineplus">+++ b/im/components/contentHandler.js</span>
<a href="#l167.3"></a><span id="l167.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l167.4"></a><span id="l167.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l167.5"></a><span id="l167.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l167.6"></a><span id="l167.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l167.7"></a><span id="l167.7"> </span>
<a href="#l167.8"></a><span id="l167.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l167.9"></a><span id="l167.9"> </span>
<a href="#l167.10"></a><span id="l167.10" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l167.11"></a><span id="l167.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l167.12"></a><span id="l167.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l167.13"></a><span id="l167.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l167.14"></a><span id="l167.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l167.15"></a><span id="l167.15" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l167.16"></a><span id="l167.16"> </span>
<a href="#l167.17"></a><span id="l167.17"> // defined in nsIContentHandler.idl.</span>
<a href="#l167.18"></a><span id="l167.18" class="difflineminus">-const NS_ERROR_WONT_HANDLE_CONTENT = 0x805d0001;</span>
<a href="#l167.19"></a><span id="l167.19" class="difflineplus">+var NS_ERROR_WONT_HANDLE_CONTENT = 0x805d0001;</span>
<a href="#l167.20"></a><span id="l167.20"> </span>
<a href="#l167.21"></a><span id="l167.21"> function contentHandler() {</span>
<a href="#l167.22"></a><span id="l167.22"> }</span>
<a href="#l167.23"></a><span id="l167.23"> contentHandler.prototype = {</span>
<a href="#l167.24"></a><span id="l167.24">   classID: Components.ID(&quot;{fda46332-1b03-4940-a30c-0997445d8e34}&quot;),</span>
<a href="#l167.25"></a><span id="l167.25"> </span>
<a href="#l167.26"></a><span id="l167.26">   _xpcom_factory: {</span>
<a href="#l167.27"></a><span id="l167.27">     createInstance: function ch_factory_ci(outer, iid) {</span>
<a href="#l167.28"></a><span id="l167.28" class="difflineat">@@ -62,9 +62,9 @@ contentHandler.prototype = {</span>
<a href="#l167.29"></a><span id="l167.29">   },</span>
<a href="#l167.30"></a><span id="l167.30"> </span>
<a href="#l167.31"></a><span id="l167.31">   lockFactory: function ch_lock(lock) {</span>
<a href="#l167.32"></a><span id="l167.32">     // No-op.</span>
<a href="#l167.33"></a><span id="l167.33">   }</span>
<a href="#l167.34"></a><span id="l167.34"> };</span>
<a href="#l167.35"></a><span id="l167.35"> var gContentHandler = new contentHandler();</span>
<a href="#l167.36"></a><span id="l167.36"> </span>
<a href="#l167.37"></a><span id="l167.37" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([contentHandler]);</span>
<a href="#l167.38"></a><span id="l167.38" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([contentHandler]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l168.1"></a><span id="l168.1" class="difflineminus">--- a/im/components/ibCommandLineHandler.js</span>
<a href="#l168.2"></a><span id="l168.2" class="difflineplus">+++ b/im/components/ibCommandLineHandler.js</span>
<a href="#l168.3"></a><span id="l168.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l168.4"></a><span id="l168.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l168.5"></a><span id="l168.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l168.6"></a><span id="l168.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l168.7"></a><span id="l168.7"> </span>
<a href="#l168.8"></a><span id="l168.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l168.9"></a><span id="l168.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l168.10"></a><span id="l168.10"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l168.11"></a><span id="l168.11"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l168.12"></a><span id="l168.12"> Cu.import(&quot;resource:///modules/ibCore.jsm&quot;);</span>
<a href="#l168.13"></a><span id="l168.13"> </span>
<a href="#l168.14"></a><span id="l168.14"> function ibCommandLineHandler() { }</span>
<a href="#l168.15"></a><span id="l168.15"> </span>
<a href="#l168.16"></a><span id="l168.16"> ibCommandLineHandler.prototype = {</span>
<a href="#l168.17"></a><span id="l168.17">   handle: function clh_handle(cmdLine) {</span>
<a href="#l168.18"></a><span id="l168.18" class="difflineat">@@ -53,9 +53,9 @@ ibCommandLineHandler.prototype = {</span>
<a href="#l168.19"></a><span id="l168.19">             &quot;  -silent            Do not open the contacts list.\n&quot;,</span>
<a href="#l168.20"></a><span id="l168.20"> </span>
<a href="#l168.21"></a><span id="l168.21">   classDescription: &quot;Instantbird Command Line Handler&quot;,</span>
<a href="#l168.22"></a><span id="l168.22">   classID: Components.ID(&quot;{cd6763b7-df9a-4b64-9d06-2b77c755d9c1}&quot;),</span>
<a href="#l168.23"></a><span id="l168.23">   contractID: &quot;@instantbird.org/command-line-handler;1&quot;,</span>
<a href="#l168.24"></a><span id="l168.24">   QueryInterface: XPCOMUtils.generateQI([Ci.nsICommandLineHandler])</span>
<a href="#l168.25"></a><span id="l168.25"> };</span>
<a href="#l168.26"></a><span id="l168.26"> </span>
<a href="#l168.27"></a><span id="l168.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([ibCommandLineHandler]);</span>
<a href="#l168.28"></a><span id="l168.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([ibCommandLineHandler]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l169.1"></a><span id="l169.1" class="difflineminus">--- a/im/components/ibConvStatsService.js</span>
<a href="#l169.2"></a><span id="l169.2" class="difflineplus">+++ b/im/components/ibConvStatsService.js</span>
<a href="#l169.3"></a><span id="l169.3" class="difflineat">@@ -1,27 +1,27 @@</span>
<a href="#l169.4"></a><span id="l169.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l169.5"></a><span id="l169.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l169.6"></a><span id="l169.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l169.7"></a><span id="l169.7"> </span>
<a href="#l169.8"></a><span id="l169.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l169.9"></a><span id="l169.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l169.10"></a><span id="l169.10"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l169.11"></a><span id="l169.11"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l169.12"></a><span id="l169.12"> Cu.import(&quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l169.13"></a><span id="l169.13"> </span>
<a href="#l169.14"></a><span id="l169.14" class="difflineminus">-const kNotificationsToObserve =</span>
<a href="#l169.15"></a><span id="l169.15" class="difflineplus">+var kNotificationsToObserve =</span>
<a href="#l169.16"></a><span id="l169.16">   [&quot;contact-added&quot;, &quot;contact-removed&quot;,&quot;contact-status-changed&quot;,</span>
<a href="#l169.17"></a><span id="l169.17">    &quot;contact-display-name-changed&quot;, &quot;contact-no-longer-dummy&quot;,</span>
<a href="#l169.18"></a><span id="l169.18">    &quot;contact-preferred-buddy-changed&quot;, &quot;contact-moved&quot;,</span>
<a href="#l169.19"></a><span id="l169.19">    &quot;account-connected&quot;, &quot;account-disconnected&quot;, &quot;new-conversation&quot;,</span>
<a href="#l169.20"></a><span id="l169.20">    &quot;new-text&quot;, &quot;conversation-closed&quot;, &quot;prpl-quit&quot;];</span>
<a href="#l169.21"></a><span id="l169.21"> </span>
<a href="#l169.22"></a><span id="l169.22"> // This is incremented when changes to the log sweeping code warrant rebuilding</span>
<a href="#l169.23"></a><span id="l169.23"> // the stats cache file.</span>
<a href="#l169.24"></a><span id="l169.24" class="difflineminus">-const gStatsCacheVersion = 2;</span>
<a href="#l169.25"></a><span id="l169.25" class="difflineplus">+var gStatsCacheVersion = 2;</span>
<a href="#l169.26"></a><span id="l169.26"> </span>
<a href="#l169.27"></a><span id="l169.27"> XPCOMUtils.defineLazyGetter(this, &quot;_newtab&quot;, () =&gt;</span>
<a href="#l169.28"></a><span id="l169.28">   l10nHelper(&quot;chrome://instantbird/locale/newtab.properties&quot;)</span>
<a href="#l169.29"></a><span id="l169.29"> );</span>
<a href="#l169.30"></a><span id="l169.30"> </span>
<a href="#l169.31"></a><span id="l169.31"> XPCOMUtils.defineLazyGetter(this, &quot;_instantbird&quot;, () =&gt;</span>
<a href="#l169.32"></a><span id="l169.32">   l10nHelper(&quot;chrome://instantbird/locale/instantbird.properties&quot;)</span>
<a href="#l169.33"></a><span id="l169.33"> );</span>
<a href="#l169.34"></a><span id="l169.34" class="difflineat">@@ -754,9 +754,9 @@ ExistingConversation.prototype = {</span>
<a href="#l169.35"></a><span id="l169.35">     // existing conversations are not as likely to be reopened as an available</span>
<a href="#l169.36"></a><span id="l169.36">     // contact, but are more likely to be reopened than an offline contact.</span>
<a href="#l169.37"></a><span id="l169.37">     // Averaging this out eliminates the status bias.</span>
<a href="#l169.38"></a><span id="l169.38">     return score;</span>
<a href="#l169.39"></a><span id="l169.39">   },</span>
<a href="#l169.40"></a><span id="l169.40">   createConversation: function() { return this.uiConv.target; }</span>
<a href="#l169.41"></a><span id="l169.41"> };</span>
<a href="#l169.42"></a><span id="l169.42"> </span>
<a href="#l169.43"></a><span id="l169.43" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([ConvStatsService]);</span>
<a href="#l169.44"></a><span id="l169.44" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([ConvStatsService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l170.1"></a><span id="l170.1" class="difflineminus">--- a/im/components/ibDockBadge.js</span>
<a href="#l170.2"></a><span id="l170.2" class="difflineplus">+++ b/im/components/ibDockBadge.js</span>
<a href="#l170.3"></a><span id="l170.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l170.4"></a><span id="l170.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l170.5"></a><span id="l170.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l170.6"></a><span id="l170.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l170.7"></a><span id="l170.7"> </span>
<a href="#l170.8"></a><span id="l170.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l170.9"></a><span id="l170.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l170.10"></a><span id="l170.10"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l170.11"></a><span id="l170.11"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l170.12"></a><span id="l170.12"> </span>
<a href="#l170.13"></a><span id="l170.13"> XPCOMUtils.defineLazyServiceGetter(this, &quot;MacDock&quot;,</span>
<a href="#l170.14"></a><span id="l170.14">                                    &quot;@mozilla.org/widget/macdocksupport;1&quot;,</span>
<a href="#l170.15"></a><span id="l170.15">                                    &quot;nsIMacDockSupport&quot;);</span>
<a href="#l170.16"></a><span id="l170.16"> </span>
<a href="#l170.17"></a><span id="l170.17"> function DockBadge() { }</span>
<a href="#l170.18"></a><span id="l170.18" class="difflineat">@@ -64,9 +64,9 @@ DockBadge.prototype = {</span>
<a href="#l170.19"></a><span id="l170.19">   },</span>
<a href="#l170.20"></a><span id="l170.20"> </span>
<a href="#l170.21"></a><span id="l170.21">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIObserver]),</span>
<a href="#l170.22"></a><span id="l170.22">   classDescription: &quot;DockBadge&quot;,</span>
<a href="#l170.23"></a><span id="l170.23">   classID: Components.ID(&quot;{8b1eb1be-a58c-450b-8250-c6d5ad9fe2fb}&quot;),</span>
<a href="#l170.24"></a><span id="l170.24">   contractID: &quot;@instantbird.org/mac/dock-badge;1&quot;</span>
<a href="#l170.25"></a><span id="l170.25"> };</span>
<a href="#l170.26"></a><span id="l170.26"> </span>
<a href="#l170.27"></a><span id="l170.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([DockBadge]);</span>
<a href="#l170.28"></a><span id="l170.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([DockBadge]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l171.1"></a><span id="l171.1" class="difflineminus">--- a/im/components/ibStatusCommandLineHandler.js</span>
<a href="#l171.2"></a><span id="l171.2" class="difflineplus">+++ b/im/components/ibStatusCommandLineHandler.js</span>
<a href="#l171.3"></a><span id="l171.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l171.4"></a><span id="l171.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l171.5"></a><span id="l171.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l171.6"></a><span id="l171.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l171.7"></a><span id="l171.7"> </span>
<a href="#l171.8"></a><span id="l171.8" class="difflineminus">-const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l171.9"></a><span id="l171.9" class="difflineplus">+var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l171.10"></a><span id="l171.10"> </span>
<a href="#l171.11"></a><span id="l171.11"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l171.12"></a><span id="l171.12"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l171.13"></a><span id="l171.13"> Cu.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l171.14"></a><span id="l171.14"> </span>
<a href="#l171.15"></a><span id="l171.15"> function StatusCLH() { }</span>
<a href="#l171.16"></a><span id="l171.16"> StatusCLH.prototype = {</span>
<a href="#l171.17"></a><span id="l171.17">   classDescription: &quot;Instantbird Status Commandline Handler Component&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l172.1"></a><span id="l172.1" class="difflineminus">--- a/im/components/profileMigrator.js</span>
<a href="#l172.2"></a><span id="l172.2" class="difflineplus">+++ b/im/components/profileMigrator.js</span>
<a href="#l172.3"></a><span id="l172.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l172.4"></a><span id="l172.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l172.5"></a><span id="l172.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l172.6"></a><span id="l172.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l172.7"></a><span id="l172.7"> </span>
<a href="#l172.8"></a><span id="l172.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l172.9"></a><span id="l172.9" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l172.10"></a><span id="l172.10" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l172.11"></a><span id="l172.11" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l172.12"></a><span id="l172.12" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l172.13"></a><span id="l172.13"> </span>
<a href="#l172.14"></a><span id="l172.14"> function InstantbirdProfileMigrator() { }</span>
<a href="#l172.15"></a><span id="l172.15"> </span>
<a href="#l172.16"></a><span id="l172.16"> InstantbirdProfileMigrator.prototype = {</span>
<a href="#l172.17"></a><span id="l172.17">   import: function() {</span>
<a href="#l172.18"></a><span id="l172.18">     var root = Cc[&quot;@mozilla.org/file/directory_service;1&quot;].getService(Ci.nsIProperties)</span>
<a href="#l172.19"></a><span id="l172.19">                                                           .get(&quot;DefProfRt&quot;, Ci.nsIFile);</span>
<a href="#l172.20"></a><span id="l172.20">     if (root.leafName == &quot;Profiles&quot;)</span>
<a href="#l172.21"></a><span id="l172.21" class="difflineat">@@ -56,10 +56,10 @@ InstantbirdProfileMigrator.prototype = {</span>
<a href="#l172.22"></a><span id="l172.22">   migrate: function(aStartup) { },</span>
<a href="#l172.23"></a><span id="l172.23"> </span>
<a href="#l172.24"></a><span id="l172.24">   classDescription: &quot;Instantbird Profile Migrator&quot;,</span>
<a href="#l172.25"></a><span id="l172.25">   classID: Components.ID(&quot;028ab7f2-5c83-4643-b846-09119c702faa&quot;),</span>
<a href="#l172.26"></a><span id="l172.26">   contractID: &quot;@mozilla.org/toolkit/profile-migrator;1&quot;,</span>
<a href="#l172.27"></a><span id="l172.27">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIProfileMigrator])</span>
<a href="#l172.28"></a><span id="l172.28"> };</span>
<a href="#l172.29"></a><span id="l172.29"> </span>
<a href="#l172.30"></a><span id="l172.30" class="difflineminus">-const NSGetFactory =</span>
<a href="#l172.31"></a><span id="l172.31" class="difflineplus">+var NSGetFactory =</span>
<a href="#l172.32"></a><span id="l172.32">   XPCOMUtils.generateNSGetFactory([InstantbirdProfileMigrator]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l173.1"></a><span id="l173.1" class="difflineminus">--- a/im/content/account.js</span>
<a href="#l173.2"></a><span id="l173.2" class="difflineplus">+++ b/im/content/account.js</span>
<a href="#l173.3"></a><span id="l173.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l173.4"></a><span id="l173.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l173.5"></a><span id="l173.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l173.6"></a><span id="l173.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l173.7"></a><span id="l173.7"> </span>
<a href="#l173.8"></a><span id="l173.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l173.9"></a><span id="l173.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l173.10"></a><span id="l173.10"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l173.11"></a><span id="l173.11"> </span>
<a href="#l173.12"></a><span id="l173.12" class="difflineminus">-const autoJoinPref = &quot;autoJoin&quot;;</span>
<a href="#l173.13"></a><span id="l173.13" class="difflineplus">+var autoJoinPref = &quot;autoJoin&quot;;</span>
<a href="#l173.14"></a><span id="l173.14"> </span>
<a href="#l173.15"></a><span id="l173.15"> var account = {</span>
<a href="#l173.16"></a><span id="l173.16">   onload: function account_onload() {</span>
<a href="#l173.17"></a><span id="l173.17">     this.account = window.arguments[0];</span>
<a href="#l173.18"></a><span id="l173.18">     this.proto = this.account.protocol;</span>
<a href="#l173.19"></a><span id="l173.19">     document.getElementById(&quot;accountName&quot;).value = this.account.name;</span>
<a href="#l173.20"></a><span id="l173.20">     document.getElementById(&quot;protocolName&quot;).value = this.proto.name || this.proto.id;</span>
<a href="#l173.21"></a><span id="l173.21">     document.getElementById(&quot;protocolIcon&quot;).src =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l174.1"></a><span id="l174.1" class="difflineminus">--- a/im/content/accountWizard.js</span>
<a href="#l174.2"></a><span id="l174.2" class="difflineplus">+++ b/im/content/accountWizard.js</span>
<a href="#l174.3"></a><span id="l174.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l174.4"></a><span id="l174.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l174.5"></a><span id="l174.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l174.6"></a><span id="l174.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l174.7"></a><span id="l174.7"> </span>
<a href="#l174.8"></a><span id="l174.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l174.9"></a><span id="l174.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l174.10"></a><span id="l174.10"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l174.11"></a><span id="l174.11"> </span>
<a href="#l174.12"></a><span id="l174.12" class="difflineminus">-const PREF_EXTENSIONS_GETMOREPROTOCOLSURL = &quot;extensions.getMoreProtocolsURL&quot;;</span>
<a href="#l174.13"></a><span id="l174.13" class="difflineplus">+var PREF_EXTENSIONS_GETMOREPROTOCOLSURL = &quot;extensions.getMoreProtocolsURL&quot;;</span>
<a href="#l174.14"></a><span id="l174.14"> </span>
<a href="#l174.15"></a><span id="l174.15"> var accountWizard = {</span>
<a href="#l174.16"></a><span id="l174.16">   onload: function aw_onload() {</span>
<a href="#l174.17"></a><span id="l174.17">     let topProtoList = document.getElementById(&quot;topprotolist&quot;);</span>
<a href="#l174.18"></a><span id="l174.18">     let bundle = document.getElementById(&quot;topProtocolsBundle&quot;);</span>
<a href="#l174.19"></a><span id="l174.19">     let topProtocols = bundle.getString(&quot;topProtocol.list&quot;).split(&quot;,&quot;);</span>
<a href="#l174.20"></a><span id="l174.20"> </span>
<a href="#l174.21"></a><span id="l174.21">     for each (let topProto in topProtocols) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l175.1"></a><span id="l175.1" class="difflineminus">--- a/im/content/accounts.js</span>
<a href="#l175.2"></a><span id="l175.2" class="difflineplus">+++ b/im/content/accounts.js</span>
<a href="#l175.3"></a><span id="l175.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l175.4"></a><span id="l175.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l175.5"></a><span id="l175.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l175.6"></a><span id="l175.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l175.7"></a><span id="l175.7"> </span>
<a href="#l175.8"></a><span id="l175.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l175.9"></a><span id="l175.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l175.10"></a><span id="l175.10"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l175.11"></a><span id="l175.11"> Cu.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l175.12"></a><span id="l175.12"> </span>
<a href="#l175.13"></a><span id="l175.13"> // This is the list of notifications that the account manager window observes</span>
<a href="#l175.14"></a><span id="l175.14" class="difflineminus">-const events = [</span>
<a href="#l175.15"></a><span id="l175.15" class="difflineplus">+var events = [</span>
<a href="#l175.16"></a><span id="l175.16">   &quot;prpl-quit&quot;,</span>
<a href="#l175.17"></a><span id="l175.17">   &quot;account-list-updated&quot;,</span>
<a href="#l175.18"></a><span id="l175.18">   &quot;account-added&quot;,</span>
<a href="#l175.19"></a><span id="l175.19">   &quot;account-updated&quot;,</span>
<a href="#l175.20"></a><span id="l175.20">   &quot;account-removed&quot;,</span>
<a href="#l175.21"></a><span id="l175.21">   &quot;account-connected&quot;,</span>
<a href="#l175.22"></a><span id="l175.22">   &quot;account-connecting&quot;,</span>
<a href="#l175.23"></a><span id="l175.23">   &quot;account-disconnected&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l176.1"></a><span id="l176.1" class="difflineminus">--- a/im/content/blist.js</span>
<a href="#l176.2"></a><span id="l176.2" class="difflineplus">+++ b/im/content/blist.js</span>
<a href="#l176.3"></a><span id="l176.3" class="difflineat">@@ -1,34 +1,34 @@</span>
<a href="#l176.4"></a><span id="l176.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l176.5"></a><span id="l176.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l176.6"></a><span id="l176.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l176.7"></a><span id="l176.7"> </span>
<a href="#l176.8"></a><span id="l176.8" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l176.9"></a><span id="l176.9" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l176.10"></a><span id="l176.10"> </span>
<a href="#l176.11"></a><span id="l176.11"> Cu.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l176.12"></a><span id="l176.12"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l176.13"></a><span id="l176.13"> XPCOMUtils.defineLazyModuleGetter(this, &quot;OS&quot;, &quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l176.14"></a><span id="l176.14"> </span>
<a href="#l176.15"></a><span id="l176.15" class="difflineminus">-const events = [&quot;buddy-authorization-request&quot;,</span>
<a href="#l176.16"></a><span id="l176.16" class="difflineplus">+var events = [&quot;buddy-authorization-request&quot;,</span>
<a href="#l176.17"></a><span id="l176.17">                 &quot;buddy-authorization-request-canceled&quot;,</span>
<a href="#l176.18"></a><span id="l176.18">                 &quot;contact-availability-changed&quot;,</span>
<a href="#l176.19"></a><span id="l176.19">                 &quot;contact-added&quot;,</span>
<a href="#l176.20"></a><span id="l176.20">                 &quot;contact-tag-added&quot;,</span>
<a href="#l176.21"></a><span id="l176.21">                 &quot;contact-tag-removed&quot;,</span>
<a href="#l176.22"></a><span id="l176.22">                 &quot;showing-ui-conversation&quot;,</span>
<a href="#l176.23"></a><span id="l176.23">                 &quot;status-changed&quot;,</span>
<a href="#l176.24"></a><span id="l176.24">                 &quot;tag-hidden&quot;,</span>
<a href="#l176.25"></a><span id="l176.25">                 &quot;tag-shown&quot;,</span>
<a href="#l176.26"></a><span id="l176.26">                 &quot;ui-conversation-hidden&quot;,</span>
<a href="#l176.27"></a><span id="l176.27">                 &quot;user-display-name-changed&quot;,</span>
<a href="#l176.28"></a><span id="l176.28">                 &quot;user-icon-changed&quot;,</span>
<a href="#l176.29"></a><span id="l176.29">                 &quot;prpl-quit&quot;];</span>
<a href="#l176.30"></a><span id="l176.30"> </span>
<a href="#l176.31"></a><span id="l176.31" class="difflineminus">-const showOfflineBuddiesPref = &quot;messenger.buddies.showOffline&quot;;</span>
<a href="#l176.32"></a><span id="l176.32" class="difflineplus">+var showOfflineBuddiesPref = &quot;messenger.buddies.showOffline&quot;;</span>
<a href="#l176.33"></a><span id="l176.33"> </span>
<a href="#l176.34"></a><span id="l176.34"> var gBuddyListContextMenu = null;</span>
<a href="#l176.35"></a><span id="l176.35"> </span>
<a href="#l176.36"></a><span id="l176.36"> function buddyListContextMenu(aXulMenu) {</span>
<a href="#l176.37"></a><span id="l176.37">   this.target  = document.popupNode;</span>
<a href="#l176.38"></a><span id="l176.38">   this.menu    = aXulMenu;</span>
<a href="#l176.39"></a><span id="l176.39">   let localName = this.target.localName;</span>
<a href="#l176.40"></a><span id="l176.40">   let hasVisibleBuddies = !!document.getElementById(&quot;buddylistbox&quot;).firstChild;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l177.1"></a><span id="l177.1" class="difflineminus">--- a/im/content/debug/debug.js</span>
<a href="#l177.2"></a><span id="l177.2" class="difflineplus">+++ b/im/content/debug/debug.js</span>
<a href="#l177.3"></a><span id="l177.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l177.4"></a><span id="l177.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l177.5"></a><span id="l177.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l177.6"></a><span id="l177.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l177.7"></a><span id="l177.7"> </span>
<a href="#l177.8"></a><span id="l177.8" class="difflineminus">-const configWindow = &quot;chrome://global/content/config.xul&quot;;</span>
<a href="#l177.9"></a><span id="l177.9" class="difflineplus">+var configWindow = &quot;chrome://global/content/config.xul&quot;;</span>
<a href="#l177.10"></a><span id="l177.10"> </span>
<a href="#l177.11"></a><span id="l177.11"> var debug = {</span>
<a href="#l177.12"></a><span id="l177.12">   aboutMemory: function debug_aboutMemory() {</span>
<a href="#l177.13"></a><span id="l177.13">     openDialog(&quot;about:memory&quot;);</span>
<a href="#l177.14"></a><span id="l177.14">   },</span>
<a href="#l177.15"></a><span id="l177.15"> </span>
<a href="#l177.16"></a><span id="l177.16">   config: function debug_config() {</span>
<a href="#l177.17"></a><span id="l177.17">     Core.showWindow(&quot;Preferences:ConfigManager&quot;, configWindow, &quot;Config&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l178.1"></a><span id="l178.1" class="difflineminus">--- a/im/content/debug/fake/fake.js</span>
<a href="#l178.2"></a><span id="l178.2" class="difflineplus">+++ b/im/content/debug/fake/fake.js</span>
<a href="#l178.3"></a><span id="l178.3" class="difflineat">@@ -2,21 +2,21 @@</span>
<a href="#l178.4"></a><span id="l178.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l178.5"></a><span id="l178.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l178.6"></a><span id="l178.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l178.7"></a><span id="l178.7"> </span>
<a href="#l178.8"></a><span id="l178.8"> </span>
<a href="#l178.9"></a><span id="l178.9"> Components.utils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l178.10"></a><span id="l178.10"> Components.utils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l178.11"></a><span id="l178.11"> </span>
<a href="#l178.12"></a><span id="l178.12" class="difflineminus">-const away = Ci.imIStatusInfo.STATUS_AWAY;</span>
<a href="#l178.13"></a><span id="l178.13" class="difflineminus">-const idle = Ci.imIStatusInfo.STATUS_IDLE;</span>
<a href="#l178.14"></a><span id="l178.14" class="difflineminus">-const mobile = Ci.imIStatusInfo.STATUS_MOBILE;</span>
<a href="#l178.15"></a><span id="l178.15" class="difflineplus">+var away = Ci.imIStatusInfo.STATUS_AWAY;</span>
<a href="#l178.16"></a><span id="l178.16" class="difflineplus">+var idle = Ci.imIStatusInfo.STATUS_IDLE;</span>
<a href="#l178.17"></a><span id="l178.17" class="difflineplus">+var mobile = Ci.imIStatusInfo.STATUS_MOBILE;</span>
<a href="#l178.18"></a><span id="l178.18"> </span>
<a href="#l178.19"></a><span id="l178.19" class="difflineminus">-const flo_img_url = 'data:image/jpeg;base64,' +</span>
<a href="#l178.20"></a><span id="l178.20" class="difflineplus">+var flo_img_url = 'data:image/jpeg;base64,' +</span>
<a href="#l178.21"></a><span id="l178.21">   '/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBF' +</span>
<a href="#l178.22"></a><span id="l178.22">   'RyB2NjIpLCBxdWFsaXR5ID0gOTUK/9sAQwACAQEBAQECAQEBAgICAgIEAwICAgIFBAQDBAYFBgYGBQYG' +</span>
<a href="#l178.23"></a><span id="l178.23">   'BgcJCAYHCQcGBggLCAkKCgoKCgYICwwLCgwJCgoK/9sAQwECAgICAgIFAwMFCgcGBwoKCgoKCgoKCgoK' +</span>
<a href="#l178.24"></a><span id="l178.24">   'CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoK/8AAEQgAMgAyAwEiAAIRAQMRAf/E' +</span>
<a href="#l178.25"></a><span id="l178.25">   'AB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUS' +</span>
<a href="#l178.26"></a><span id="l178.26">   'ITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RV' +</span>
<a href="#l178.27"></a><span id="l178.27">   'VldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TF' +</span>
<a href="#l178.28"></a><span id="l178.28">   'xsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgME' +</span>
<a href="#l178.29"></a><span id="l178.29" class="difflineat">@@ -51,17 +51,17 @@ const flo_img_url = 'data:image/jpeg;bas</span>
<a href="#l178.30"></a><span id="l178.30">   'r3iG4L3cgUsRgAD+4oPr6+nT1HPft6fsofs6fGfSIPij478daR4S8T2ll9mt5ry58s6tErFliwgLl1LN' +</span>
<a href="#l178.31"></a><span id="l178.31">   'tZVbhsNxgrwZngcRmGXyo0IOUnZqK3dtbL87dbHzOdKtUwcpJ6LV62PiCz/aTv7G0isotCKrDGqKvlLw' +</span>
<a href="#l178.32"></a><span id="l178.32">   'AMf3qK3Y/wBh/wAAXMa3D6rrJaRQxK6mACTzxRXwD4Pztv8A5F2I/wDBNT/I+C9vhr/GfA+hqo8WoQo4' +</span>
<a href="#l178.33"></a><span id="l178.33">   'bjjpzXVePpphpsiiVsZXjdRRX0GK/wB4R9HjPiid3+zPaWtx8KtaS4to5FOvWZIdAQTsl9fqfzr6p/Zu' +</span>
<a href="#l178.34"></a><span id="l178.34">   'tbWG+t1hto0AOQFQDnNFFfSYL+AvV/me9gf4C9WfZ/gOWRdKlkWRgywuVYHkYU4xX54y+JfEfifx/rWt' +</span>
<a href="#l178.35"></a><span id="l178.35">   'eJdfvdRvFvJUW7vrp5pQqyYUBnJOAOAM8UUV+icD/wDIxl6Hm8Uf7kj0K0dzaxEuf9Wvf2ooor9gWx+Z' +</span>
<a href="#l178.36"></a><span id="l178.36">   'dT//2Q==';</span>
<a href="#l178.37"></a><span id="l178.37"> </span>
<a href="#l178.38"></a><span id="l178.38" class="difflineminus">-const ib_icon_url = 'data:image/png;base64,' +</span>
<a href="#l178.39"></a><span id="l178.39" class="difflineplus">+var ib_icon_url = 'data:image/png;base64,' +</span>
<a href="#l178.40"></a><span id="l178.40">   'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAC' +</span>
<a href="#l178.41"></a><span id="l178.41">   '9AAAAvQBgK2sVQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABzCSURBVHic5Zt5' +</span>
<a href="#l178.42"></a><span id="l178.42">   'lFXF1fZ/dc65c8/QI3Q3Q9MNNINMigIKiERNUDQYjWMwxjfLKZo4JfGLcYrRT6PGaIzmRaMmryZRHAIa' +</span>
<a href="#l178.43"></a><span id="l178.43">   'FaLgAKLI0A3SDNLQdNPzdMczVH1/nHtv32aIZv7WemutWqfq3nPq1vPsXbt27bOvUErxv7lo/+kJ/KeL' +</span>
<a href="#l178.44"></a><span id="l178.44">   '8e/8MTHvNr/XH6qWwi4RmlaqlCoVqFKhaaXKkf1CiGYlRIsQskU5Wosl7Ub1+g9a/qVz+lcvAXHWg3le' +</span>
<a href="#l178.45"></a><span id="l178.45">   'K/GVMeUFF5aWDJlXMarMW16cS2FeEFMJPul12BgRzM7TmJyn0RexaOmJ0NLex4HmTvY37Pu0uSPynCa1' +</span>
<a href="#l178.46"></a><span id="l178.46">   '5YnXrt/yT5/fv4IAMe82wxMMXFRRlH3ZjCmjZp4wvUorKcwBrxelQCmFAzzQpNFquc9Mz1ackS9RKKQC' +</span>
<a href="#l178.47"></a><span id="l178.47">   'JRUSULbD/vZ+Nm7dy0cfbD/Q0xt+Xpc8HHvt5r3/lLn+swkILrpnyUlTRj68YP4xJaPLh4LHQEG6SkAp' +</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l179.1"></a><span id="l179.1" class="difflineminus">--- a/im/content/engineManager.js</span>
<a href="#l179.2"></a><span id="l179.2" class="difflineplus">+++ b/im/content/engineManager.js</span>
<a href="#l179.3"></a><span id="l179.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l179.4"></a><span id="l179.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l179.5"></a><span id="l179.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l179.6"></a><span id="l179.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l179.7"></a><span id="l179.7"> </span>
<a href="#l179.8"></a><span id="l179.8" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l179.9"></a><span id="l179.9" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l179.10"></a><span id="l179.10" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l179.11"></a><span id="l179.11" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l179.12"></a><span id="l179.12"> </span>
<a href="#l179.13"></a><span id="l179.13" class="difflineminus">-const ENGINE_FLAVOR = &quot;text/x-moz-search-engine&quot;;</span>
<a href="#l179.14"></a><span id="l179.14" class="difflineplus">+var ENGINE_FLAVOR = &quot;text/x-moz-search-engine&quot;;</span>
<a href="#l179.15"></a><span id="l179.15"> </span>
<a href="#l179.16"></a><span id="l179.16"> var gEngineView = null;</span>
<a href="#l179.17"></a><span id="l179.17"> </span>
<a href="#l179.18"></a><span id="l179.18"> var gEngineManagerDialog = {</span>
<a href="#l179.19"></a><span id="l179.19">   init: function engineManager_init() {</span>
<a href="#l179.20"></a><span id="l179.20">     gEngineView = new EngineView(new EngineStore());</span>
<a href="#l179.21"></a><span id="l179.21"> </span>
<a href="#l179.22"></a><span id="l179.22">     var tree = document.getElementById(&quot;engineList&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l180.1"></a><span id="l180.1" class="difflineminus">--- a/im/content/extensions-discover.js</span>
<a href="#l180.2"></a><span id="l180.2" class="difflineplus">+++ b/im/content/extensions-discover.js</span>
<a href="#l180.3"></a><span id="l180.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l180.4"></a><span id="l180.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l180.5"></a><span id="l180.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l180.6"></a><span id="l180.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l180.7"></a><span id="l180.7"> </span>
<a href="#l180.8"></a><span id="l180.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l180.9"></a><span id="l180.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l180.10"></a><span id="l180.10"> </span>
<a href="#l180.11"></a><span id="l180.11"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l180.12"></a><span id="l180.12"> </span>
<a href="#l180.13"></a><span id="l180.13"> var defaultOpen = window.open;</span>
<a href="#l180.14"></a><span id="l180.14"> window.open = function(aUrl) {</span>
<a href="#l180.15"></a><span id="l180.15">   let uri = Services.io.newURI(aUrl, null, null);</span>
<a href="#l180.16"></a><span id="l180.16"> </span>
<a href="#l180.17"></a><span id="l180.17">   // http and https are the only schemes that are exposed even</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l181.1"></a><span id="l181.1" class="difflineminus">--- a/im/content/extensions.js</span>
<a href="#l181.2"></a><span id="l181.2" class="difflineplus">+++ b/im/content/extensions.js</span>
<a href="#l181.3"></a><span id="l181.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l181.4"></a><span id="l181.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l181.5"></a><span id="l181.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l181.6"></a><span id="l181.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l181.7"></a><span id="l181.7"> </span>
<a href="#l181.8"></a><span id="l181.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l181.9"></a><span id="l181.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l181.10"></a><span id="l181.10"> </span>
<a href="#l181.11"></a><span id="l181.11"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l181.12"></a><span id="l181.12"> Cu.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l181.13"></a><span id="l181.13"> Cu.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l181.14"></a><span id="l181.14"> </span>
<a href="#l181.15"></a><span id="l181.15"> var addonsRegister = {</span>
<a href="#l181.16"></a><span id="l181.16">   onload: function () {</span>
<a href="#l181.17"></a><span id="l181.17">     Services.obs.addObserver(addonsRegister, &quot;addon-install-disabled&quot;, false);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l182.1"></a><span id="l182.1" class="difflineminus">--- a/im/content/joinchat.js</span>
<a href="#l182.2"></a><span id="l182.2" class="difflineplus">+++ b/im/content/joinchat.js</span>
<a href="#l182.3"></a><span id="l182.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l182.4"></a><span id="l182.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l182.5"></a><span id="l182.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l182.6"></a><span id="l182.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l182.7"></a><span id="l182.7"> </span>
<a href="#l182.8"></a><span id="l182.8"> Components.utils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l182.9"></a><span id="l182.9"> </span>
<a href="#l182.10"></a><span id="l182.10" class="difflineminus">-const autoJoinPref = &quot;autoJoin&quot;;</span>
<a href="#l182.11"></a><span id="l182.11" class="difflineplus">+var autoJoinPref = &quot;autoJoin&quot;;</span>
<a href="#l182.12"></a><span id="l182.12"> </span>
<a href="#l182.13"></a><span id="l182.13"> var joinChat = {</span>
<a href="#l182.14"></a><span id="l182.14">   onload: function jc_onload() {</span>
<a href="#l182.15"></a><span id="l182.15">     var accountList = document.getElementById(&quot;accountlist&quot;);</span>
<a href="#l182.16"></a><span id="l182.16">     for (let acc in getIter(Services.accounts.getAccounts())) {</span>
<a href="#l182.17"></a><span id="l182.17">       if (!acc.connected || !acc.canJoinChat)</span>
<a href="#l182.18"></a><span id="l182.18">         continue;</span>
<a href="#l182.19"></a><span id="l182.19">       var proto = acc.protocol;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l183.1"></a><span id="l183.1" class="difflineminus">--- a/im/content/menus.js</span>
<a href="#l183.2"></a><span id="l183.2" class="difflineplus">+++ b/im/content/menus.js</span>
<a href="#l183.3"></a><span id="l183.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l183.4"></a><span id="l183.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l183.5"></a><span id="l183.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l183.6"></a><span id="l183.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l183.7"></a><span id="l183.7"> </span>
<a href="#l183.8"></a><span id="l183.8" class="difflineminus">-const addBuddyWindow = &quot;chrome://instantbird/content/addbuddy.xul&quot;;</span>
<a href="#l183.9"></a><span id="l183.9" class="difflineminus">-const joinChatWindow = &quot;chrome://instantbird/content/joinchat.xul&quot;;</span>
<a href="#l183.10"></a><span id="l183.10" class="difflineminus">-const aboutWindow = &quot;chrome://instantbird/content/aboutDialog.xul&quot;;</span>
<a href="#l183.11"></a><span id="l183.11" class="difflineminus">-const errorConsoleWindow = &quot;chrome://global/content/console.xul&quot;;</span>
<a href="#l183.12"></a><span id="l183.12" class="difflineminus">-const preferencesWindow = &quot;chrome://instantbird/content/preferences/preferences.xul&quot;;</span>
<a href="#l183.13"></a><span id="l183.13" class="difflineplus">+var addBuddyWindow = &quot;chrome://instantbird/content/addbuddy.xul&quot;;</span>
<a href="#l183.14"></a><span id="l183.14" class="difflineplus">+var joinChatWindow = &quot;chrome://instantbird/content/joinchat.xul&quot;;</span>
<a href="#l183.15"></a><span id="l183.15" class="difflineplus">+var aboutWindow = &quot;chrome://instantbird/content/aboutDialog.xul&quot;;</span>
<a href="#l183.16"></a><span id="l183.16" class="difflineplus">+var errorConsoleWindow = &quot;chrome://global/content/console.xul&quot;;</span>
<a href="#l183.17"></a><span id="l183.17" class="difflineplus">+var preferencesWindow = &quot;chrome://instantbird/content/preferences/preferences.xul&quot;;</span>
<a href="#l183.18"></a><span id="l183.18"> </span>
<a href="#l183.19"></a><span id="l183.19"> if (!(&quot;Services&quot; in window))</span>
<a href="#l183.20"></a><span id="l183.20">   Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l183.21"></a><span id="l183.21"> if (!(&quot;Core&quot; in window))</span>
<a href="#l183.22"></a><span id="l183.22">   Components.utils.import(&quot;resource:///modules/ibCore.jsm&quot;);</span>
<a href="#l183.23"></a><span id="l183.23"> </span>
<a href="#l183.24"></a><span id="l183.24"> var menus = {</span>
<a href="#l183.25"></a><span id="l183.25">   supportsCommand: aCmd =&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l184.1"></a><span id="l184.1" class="difflineminus">--- a/im/content/preferences/applications.js</span>
<a href="#l184.2"></a><span id="l184.2" class="difflineplus">+++ b/im/content/preferences/applications.js</span>
<a href="#l184.3"></a><span id="l184.3" class="difflineat">@@ -6,28 +6,28 @@</span>
<a href="#l184.4"></a><span id="l184.4">  */</span>
<a href="#l184.5"></a><span id="l184.5"> </span>
<a href="#l184.6"></a><span id="l184.6"> //****************************************************************************//</span>
<a href="#l184.7"></a><span id="l184.7"> // Constants &amp; Enumeration Values</span>
<a href="#l184.8"></a><span id="l184.8"> </span>
<a href="#l184.9"></a><span id="l184.9"> /*</span>
<a href="#l184.10"></a><span id="l184.10"> #ifdef MOZ_WIDGET_GTK</span>
<a href="#l184.11"></a><span id="l184.11"> */</span>
<a href="#l184.12"></a><span id="l184.12" class="difflineminus">-const ICON_URL_APP      = &quot;moz-icon://dummy.exe?size=16&quot;;</span>
<a href="#l184.13"></a><span id="l184.13" class="difflineplus">+var ICON_URL_APP      = &quot;moz-icon://dummy.exe?size=16&quot;;</span>
<a href="#l184.14"></a><span id="l184.14"> /*</span>
<a href="#l184.15"></a><span id="l184.15"> #else</span>
<a href="#l184.16"></a><span id="l184.16"> */</span>
<a href="#l184.17"></a><span id="l184.17" class="difflineminus">-const ICON_URL_APP      = &quot;chrome://instantbird/skin/preferences/application.png&quot;;</span>
<a href="#l184.18"></a><span id="l184.18" class="difflineplus">+var ICON_URL_APP      = &quot;chrome://instantbird/skin/preferences/application.png&quot;;</span>
<a href="#l184.19"></a><span id="l184.19"> /*</span>
<a href="#l184.20"></a><span id="l184.20"> #endif</span>
<a href="#l184.21"></a><span id="l184.21"> */</span>
<a href="#l184.22"></a><span id="l184.22"> </span>
<a href="#l184.23"></a><span id="l184.23"> // For CSS. Can be one of &quot;ask&quot; or &quot;save&quot;. If absent, the icon URL</span>
<a href="#l184.24"></a><span id="l184.24"> // was set by us to a custom handler icon and CSS should not try to override it.</span>
<a href="#l184.25"></a><span id="l184.25" class="difflineminus">-const APP_ICON_ATTR_NAME = &quot;appHandlerIcon&quot;;</span>
<a href="#l184.26"></a><span id="l184.26" class="difflineplus">+var APP_ICON_ATTR_NAME = &quot;appHandlerIcon&quot;;</span>
<a href="#l184.27"></a><span id="l184.27"> </span>
<a href="#l184.28"></a><span id="l184.28"> //****************************************************************************//</span>
<a href="#l184.29"></a><span id="l184.29"> // Utilities</span>
<a href="#l184.30"></a><span id="l184.30"> </span>
<a href="#l184.31"></a><span id="l184.31"> function getDisplayNameForFile(aFile) {</span>
<a href="#l184.32"></a><span id="l184.32"> /*</span>
<a href="#l184.33"></a><span id="l184.33"> #ifdef XP_WIN</span>
<a href="#l184.34"></a><span id="l184.34"> */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l185.1"></a><span id="l185.1" class="difflineminus">--- a/im/content/preferences/themes.js</span>
<a href="#l185.2"></a><span id="l185.2" class="difflineplus">+++ b/im/content/preferences/themes.js</span>
<a href="#l185.3"></a><span id="l185.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l185.4"></a><span id="l185.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l185.5"></a><span id="l185.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l185.6"></a><span id="l185.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l185.7"></a><span id="l185.7"> </span>
<a href="#l185.8"></a><span id="l185.8"> Components.utils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l185.9"></a><span id="l185.9"> </span>
<a href="#l185.10"></a><span id="l185.10" class="difflineminus">-const PREF_EXTENSIONS_GETMOREMESSAGESTYLESURL = &quot;extensions.getMoreMessageStylesURL&quot;;</span>
<a href="#l185.11"></a><span id="l185.11" class="difflineminus">-const PREF_EXTENSIONS_GETMOREEMOTICONSURL     = &quot;extensions.getMoreEmoticonsURL&quot;;</span>
<a href="#l185.12"></a><span id="l185.12" class="difflineplus">+var PREF_EXTENSIONS_GETMOREMESSAGESTYLESURL = &quot;extensions.getMoreMessageStylesURL&quot;;</span>
<a href="#l185.13"></a><span id="l185.13" class="difflineplus">+var PREF_EXTENSIONS_GETMOREEMOTICONSURL     = &quot;extensions.getMoreEmoticonsURL&quot;;</span>
<a href="#l185.14"></a><span id="l185.14"> </span>
<a href="#l185.15"></a><span id="l185.15"> var gThemePane = {</span>
<a href="#l185.16"></a><span id="l185.16">   init: function (){</span>
<a href="#l185.17"></a><span id="l185.17">     AddonManager.getAllAddons(function(aAddons) {</span>
<a href="#l185.18"></a><span id="l185.18">       gThemePane.extensionList = aAddons;</span>
<a href="#l185.19"></a><span id="l185.19">       previewObserver.load();</span>
<a href="#l185.20"></a><span id="l185.20">       smileysPreview.load();</span>
<a href="#l185.21"></a><span id="l185.21">     });</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l186.1"></a><span id="l186.1" class="difflineminus">--- a/im/content/utilities.js</span>
<a href="#l186.2"></a><span id="l186.2" class="difflineplus">+++ b/im/content/utilities.js</span>
<a href="#l186.3"></a><span id="l186.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l186.4"></a><span id="l186.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l186.5"></a><span id="l186.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l186.6"></a><span id="l186.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l186.7"></a><span id="l186.7"> </span>
<a href="#l186.8"></a><span id="l186.8" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l186.9"></a><span id="l186.9" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l186.10"></a><span id="l186.10" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l186.11"></a><span id="l186.11" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l186.12"></a><span id="l186.12"> Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l186.13"></a><span id="l186.13"> </span>
<a href="#l186.14"></a><span id="l186.14"> function getIter(aEnumerator)</span>
<a href="#l186.15"></a><span id="l186.15"> {</span>
<a href="#l186.16"></a><span id="l186.16">   while (aEnumerator.hasMoreElements())</span>
<a href="#l186.17"></a><span id="l186.17">     yield aEnumerator.getNext();</span>
<a href="#l186.18"></a><span id="l186.18"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l187.1"></a><span id="l187.1" class="difflineminus">--- a/im/content/viewlog.js</span>
<a href="#l187.2"></a><span id="l187.2" class="difflineplus">+++ b/im/content/viewlog.js</span>
<a href="#l187.3"></a><span id="l187.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l187.4"></a><span id="l187.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l187.5"></a><span id="l187.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l187.6"></a><span id="l187.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l187.7"></a><span id="l187.7"> </span>
<a href="#l187.8"></a><span id="l187.8" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l187.9"></a><span id="l187.9" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l187.10"></a><span id="l187.10"> </span>
<a href="#l187.11"></a><span id="l187.11"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l187.12"></a><span id="l187.12"> </span>
<a href="#l187.13"></a><span id="l187.13"> // viewZoomOverlay.js and macgestures.js use this.</span>
<a href="#l187.14"></a><span id="l187.14"> function getBrowser() {</span>
<a href="#l187.15"></a><span id="l187.15">   let deck = document.getElementById(&quot;browserDeck&quot;);</span>
<a href="#l187.16"></a><span id="l187.16">   let id = (parseInt(deck.selectedIndex, 10) ? &quot;conv&quot; : &quot;text&quot;) + &quot;-browser&quot;;</span>
<a href="#l187.17"></a><span id="l187.17">   let browser = document.getElementById(id);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l188.1"></a><span id="l188.1" class="difflineminus">--- a/im/modules/ibCore.jsm</span>
<a href="#l188.2"></a><span id="l188.2" class="difflineplus">+++ b/im/modules/ibCore.jsm</span>
<a href="#l188.3"></a><span id="l188.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l188.4"></a><span id="l188.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l188.5"></a><span id="l188.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l188.6"></a><span id="l188.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l188.7"></a><span id="l188.7"> </span>
<a href="#l188.8"></a><span id="l188.8"> this.EXPORTED_SYMBOLS = [&quot;Core&quot;];</span>
<a href="#l188.9"></a><span id="l188.9"> </span>
<a href="#l188.10"></a><span id="l188.10" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l188.11"></a><span id="l188.11" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l188.12"></a><span id="l188.12"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l188.13"></a><span id="l188.13"> Cu.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l188.14"></a><span id="l188.14"> Cu.import(&quot;resource:///modules/ibNotifications.jsm&quot;);</span>
<a href="#l188.15"></a><span id="l188.15"> Cu.import(&quot;resource:///modules/ibSounds.jsm&quot;);</span>
<a href="#l188.16"></a><span id="l188.16"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l188.17"></a><span id="l188.17"> </span>
<a href="#l188.18"></a><span id="l188.18"> var Core = {</span>
<a href="#l188.19"></a><span id="l188.19">   _events: [</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l189.1"></a><span id="l189.1" class="difflineminus">--- a/im/modules/ibTagMenu.jsm</span>
<a href="#l189.2"></a><span id="l189.2" class="difflineplus">+++ b/im/modules/ibTagMenu.jsm</span>
<a href="#l189.3"></a><span id="l189.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l189.4"></a><span id="l189.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l189.5"></a><span id="l189.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l189.6"></a><span id="l189.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l189.7"></a><span id="l189.7"> </span>
<a href="#l189.8"></a><span id="l189.8"> this.EXPORTED_SYMBOLS = [&quot;TagMenu&quot;];</span>
<a href="#l189.9"></a><span id="l189.9"> </span>
<a href="#l189.10"></a><span id="l189.10" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l189.11"></a><span id="l189.11" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l189.12"></a><span id="l189.12"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l189.13"></a><span id="l189.13"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l189.14"></a><span id="l189.14"> </span>
<a href="#l189.15"></a><span id="l189.15"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l189.16"></a><span id="l189.16">   l10nHelper(&quot;chrome://instantbird/locale/instantbird.properties&quot;)</span>
<a href="#l189.17"></a><span id="l189.17"> );</span>
<a href="#l189.18"></a><span id="l189.18"> </span>
<a href="#l189.19"></a><span id="l189.19"> // aOnTag and aOnAddTag will be called with aParent as the this value.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l190.1"></a><span id="l190.1" class="difflineminus">--- a/im/modules/ibWinJumpList.jsm</span>
<a href="#l190.2"></a><span id="l190.2" class="difflineplus">+++ b/im/modules/ibWinJumpList.jsm</span>
<a href="#l190.3"></a><span id="l190.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l190.4"></a><span id="l190.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l190.5"></a><span id="l190.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l190.6"></a><span id="l190.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l190.7"></a><span id="l190.7"> </span>
<a href="#l190.8"></a><span id="l190.8"> this.EXPORTED_SYMBOLS = [&quot;WinJumpList&quot;];</span>
<a href="#l190.9"></a><span id="l190.9"> </span>
<a href="#l190.10"></a><span id="l190.10" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l190.11"></a><span id="l190.11" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l190.12"></a><span id="l190.12"> </span>
<a href="#l190.13"></a><span id="l190.13"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l190.14"></a><span id="l190.14"> Cu.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l190.15"></a><span id="l190.15"> </span>
<a href="#l190.16"></a><span id="l190.16"> var WinJumpList = {</span>
<a href="#l190.17"></a><span id="l190.17">   winJumpListBuilder: null,</span>
<a href="#l190.18"></a><span id="l190.18"> </span>
<a href="#l190.19"></a><span id="l190.19">   /*</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l191.1"></a><span id="l191.1" class="difflineminus">--- a/im/modules/imWindows.jsm</span>
<a href="#l191.2"></a><span id="l191.2" class="difflineplus">+++ b/im/modules/imWindows.jsm</span>
<a href="#l191.3"></a><span id="l191.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l191.4"></a><span id="l191.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l191.5"></a><span id="l191.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l191.6"></a><span id="l191.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l191.7"></a><span id="l191.7"> </span>
<a href="#l191.8"></a><span id="l191.8" class="difflineminus">-const CONVERSATION_WINDOW_URI = &quot;chrome://instantbird/content/instantbird.xul&quot;;</span>
<a href="#l191.9"></a><span id="l191.9" class="difflineplus">+var CONVERSATION_WINDOW_URI = &quot;chrome://instantbird/content/instantbird.xul&quot;;</span>
<a href="#l191.10"></a><span id="l191.10"> this.EXPORTED_SYMBOLS = [&quot;Conversations&quot;];</span>
<a href="#l191.11"></a><span id="l191.11"> </span>
<a href="#l191.12"></a><span id="l191.12"> Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l191.13"></a><span id="l191.13"> Components.utils.import(&quot;resource:///modules/ibInterruptions.jsm&quot;);</span>
<a href="#l191.14"></a><span id="l191.14"> </span>
<a href="#l191.15"></a><span id="l191.15"> var Conversations = {</span>
<a href="#l191.16"></a><span id="l191.16">   _unreadCount: 0,</span>
<a href="#l191.17"></a><span id="l191.17">   get unreadCount() { return this._unreadCount; },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l192.1"></a><span id="l192.1" class="difflineminus">--- a/mail/base/content/FilterListDialog.js</span>
<a href="#l192.2"></a><span id="l192.2" class="difflineplus">+++ b/mail/base/content/FilterListDialog.js</span>
<a href="#l192.3"></a><span id="l192.3" class="difflineat">@@ -21,17 +21,17 @@ var gUpButton = null;</span>
<a href="#l192.4"></a><span id="l192.4"> var gDownButton = null;</span>
<a href="#l192.5"></a><span id="l192.5"> var gBottomButton = null;</span>
<a href="#l192.6"></a><span id="l192.6"> var gSearchBox = null;</span>
<a href="#l192.7"></a><span id="l192.7"> var gRunFiltersFolder = null;</span>
<a href="#l192.8"></a><span id="l192.8"> var gRunFiltersButton = null;</span>
<a href="#l192.9"></a><span id="l192.9"> </span>
<a href="#l192.10"></a><span id="l192.10"> var gFilterBundle = null;</span>
<a href="#l192.11"></a><span id="l192.11"> </span>
<a href="#l192.12"></a><span id="l192.12" class="difflineminus">-const msgMoveMotion = {</span>
<a href="#l192.13"></a><span id="l192.13" class="difflineplus">+var msgMoveMotion = {</span>
<a href="#l192.14"></a><span id="l192.14">   Up     : 0,</span>
<a href="#l192.15"></a><span id="l192.15">   Down   : 1,</span>
<a href="#l192.16"></a><span id="l192.16">   Top    : 2,</span>
<a href="#l192.17"></a><span id="l192.17">   Bottom : 3</span>
<a href="#l192.18"></a><span id="l192.18"> }</span>
<a href="#l192.19"></a><span id="l192.19"> </span>
<a href="#l192.20"></a><span id="l192.20"> var gStatusFeedback = {</span>
<a href="#l192.21"></a><span id="l192.21">   progressMeterVisible : false,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l193.1"></a><span id="l193.1" class="difflineminus">--- a/mail/base/content/aboutDialog.js</span>
<a href="#l193.2"></a><span id="l193.2" class="difflineplus">+++ b/mail/base/content/aboutDialog.js</span>
<a href="#l193.3"></a><span id="l193.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l193.4"></a><span id="l193.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l193.5"></a><span id="l193.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l193.6"></a><span id="l193.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l193.7"></a><span id="l193.7"> </span>
<a href="#l193.8"></a><span id="l193.8"> // Services = object with smart getters for common XPCOM services</span>
<a href="#l193.9"></a><span id="l193.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l193.10"></a><span id="l193.10"> </span>
<a href="#l193.11"></a><span id="l193.11" class="difflineminus">-const PREF_EM_HOTFIX_ID = &quot;extensions.hotfix.id&quot;;</span>
<a href="#l193.12"></a><span id="l193.12" class="difflineplus">+var PREF_EM_HOTFIX_ID = &quot;extensions.hotfix.id&quot;;</span>
<a href="#l193.13"></a><span id="l193.13"> </span>
<a href="#l193.14"></a><span id="l193.14"> function init(aEvent)</span>
<a href="#l193.15"></a><span id="l193.15"> {</span>
<a href="#l193.16"></a><span id="l193.16">   if (aEvent.target != document)</span>
<a href="#l193.17"></a><span id="l193.17">     return;</span>
<a href="#l193.18"></a><span id="l193.18"> </span>
<a href="#l193.19"></a><span id="l193.19">   try {</span>
<a href="#l193.20"></a><span id="l193.20">     var distroId = Services.prefs.getCharPref(&quot;distribution.id&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l194.1"></a><span id="l194.1" class="difflineminus">--- a/mail/base/content/browserRequest.js</span>
<a href="#l194.2"></a><span id="l194.2" class="difflineplus">+++ b/mail/base/content/browserRequest.js</span>
<a href="#l194.3"></a><span id="l194.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l194.4"></a><span id="l194.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l194.5"></a><span id="l194.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l194.6"></a><span id="l194.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l194.7"></a><span id="l194.7"> </span>
<a href="#l194.8"></a><span id="l194.8" class="difflineminus">-const wpl = Components.interfaces.nsIWebProgressListener;</span>
<a href="#l194.9"></a><span id="l194.9" class="difflineplus">+var wpl = Components.interfaces.nsIWebProgressListener;</span>
<a href="#l194.10"></a><span id="l194.10"> </span>
<a href="#l194.11"></a><span id="l194.11"> var reporterListener = {</span>
<a href="#l194.12"></a><span id="l194.12">   _isBusy: false,</span>
<a href="#l194.13"></a><span id="l194.13">   get securityButton() {</span>
<a href="#l194.14"></a><span id="l194.14">     delete this.securityButton;</span>
<a href="#l194.15"></a><span id="l194.15">     return this.securityButton = document.getElementById(&quot;security-button&quot;);</span>
<a href="#l194.16"></a><span id="l194.16">   },</span>
<a href="#l194.17"></a><span id="l194.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l195.1"></a><span id="l195.1" class="difflineminus">--- a/mail/base/content/folderPane.js</span>
<a href="#l195.2"></a><span id="l195.2" class="difflineplus">+++ b/mail/base/content/folderPane.js</span>
<a href="#l195.3"></a><span id="l195.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l195.4"></a><span id="l195.4"> </span>
<a href="#l195.5"></a><span id="l195.5"> Components.utils.import(&quot;resource:///modules/folderUtils.jsm&quot;);</span>
<a href="#l195.6"></a><span id="l195.6"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l195.7"></a><span id="l195.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l195.8"></a><span id="l195.8"> Components.utils.import(&quot;resource:///modules/MailUtils.js&quot;);</span>
<a href="#l195.9"></a><span id="l195.9"> Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l195.10"></a><span id="l195.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l195.11"></a><span id="l195.11"> </span>
<a href="#l195.12"></a><span id="l195.12" class="difflineminus">-const kDefaultMode = &quot;all&quot;;</span>
<a href="#l195.13"></a><span id="l195.13" class="difflineplus">+var kDefaultMode = &quot;all&quot;;</span>
<a href="#l195.14"></a><span id="l195.14"> </span>
<a href="#l195.15"></a><span id="l195.15"> var nsMsgFolderFlags = Components.interfaces.nsMsgFolderFlags;</span>
<a href="#l195.16"></a><span id="l195.16"> </span>
<a href="#l195.17"></a><span id="l195.17"> /**</span>
<a href="#l195.18"></a><span id="l195.18">  * This file contains the controls and functions for the folder pane.</span>
<a href="#l195.19"></a><span id="l195.19">  * The following definitions will be useful to know:</span>
<a href="#l195.20"></a><span id="l195.20">  *</span>
<a href="#l195.21"></a><span id="l195.21">  * gFolderTreeView - the controller for the folder tree.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l196.1"></a><span id="l196.1" class="difflineminus">--- a/mail/base/content/glodaFacetView.js</span>
<a href="#l196.2"></a><span id="l196.2" class="difflineplus">+++ b/mail/base/content/glodaFacetView.js</span>
<a href="#l196.3"></a><span id="l196.3" class="difflineat">@@ -7,31 +7,31 @@</span>
<a href="#l196.4"></a><span id="l196.4">  *  Model View Controller (paradigm), we are the view and the XBL widgets are</span>
<a href="#l196.5"></a><span id="l196.5">  *  the the view and controller.</span>
<a href="#l196.6"></a><span id="l196.6">  *</span>
<a href="#l196.7"></a><span id="l196.7">  * Because much of the work related to faceting is not UI-specific, we try and</span>
<a href="#l196.8"></a><span id="l196.8">  *  push as much of it into mailnews/db/gloda/facet.js.  In some cases we may</span>
<a href="#l196.9"></a><span id="l196.9">  *  get it wrong and it may eventually want to migrate.</span>
<a href="#l196.10"></a><span id="l196.10">  */</span>
<a href="#l196.11"></a><span id="l196.11"> </span>
<a href="#l196.12"></a><span id="l196.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l196.13"></a><span id="l196.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l196.14"></a><span id="l196.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l196.15"></a><span id="l196.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l196.16"></a><span id="l196.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l196.17"></a><span id="l196.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l196.18"></a><span id="l196.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l196.19"></a><span id="l196.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l196.20"></a><span id="l196.20"> </span>
<a href="#l196.21"></a><span id="l196.21"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l196.22"></a><span id="l196.22"> Cu.import(&quot;resource:///modules/StringBundle.js&quot;);</span>
<a href="#l196.23"></a><span id="l196.23"> Cu.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l196.24"></a><span id="l196.24"> Cu.import(&quot;resource:///modules/errUtils.js&quot;);</span>
<a href="#l196.25"></a><span id="l196.25"> Cu.import(&quot;resource:///modules/templateUtils.js&quot;);</span>
<a href="#l196.26"></a><span id="l196.26"> </span>
<a href="#l196.27"></a><span id="l196.27"> Cu.import(&quot;resource:///modules/gloda/public.js&quot;);</span>
<a href="#l196.28"></a><span id="l196.28"> Cu.import(&quot;resource:///modules/gloda/facet.js&quot;);</span>
<a href="#l196.29"></a><span id="l196.29"> </span>
<a href="#l196.30"></a><span id="l196.30" class="difflineminus">-const glodaFacetStrings =</span>
<a href="#l196.31"></a><span id="l196.31" class="difflineplus">+var glodaFacetStrings =</span>
<a href="#l196.32"></a><span id="l196.32">   new StringBundle(&quot;chrome://messenger/locale/glodaFacetView.properties&quot;);</span>
<a href="#l196.33"></a><span id="l196.33"> </span>
<a href="#l196.34"></a><span id="l196.34"> /**</span>
<a href="#l196.35"></a><span id="l196.35">  * Represents the active constraints on a singular facet.  Singular facets can</span>
<a href="#l196.36"></a><span id="l196.36">  *  only have an inclusive set or an exclusive set, but not both.  Non-singular</span>
<a href="#l196.37"></a><span id="l196.37">  *  facets can have both.  Because they are different worlds, non-singular gets</span>
<a href="#l196.38"></a><span id="l196.38">  *  its own class, |ActiveNonSingularConstraint|.</span>
<a href="#l196.39"></a><span id="l196.39">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l197.1"></a><span id="l197.1" class="difflineminus">--- a/mail/base/content/mailContextMenus.js</span>
<a href="#l197.2"></a><span id="l197.2" class="difflineplus">+++ b/mail/base/content/mailContextMenus.js</span>
<a href="#l197.3"></a><span id="l197.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l197.4"></a><span id="l197.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l197.5"></a><span id="l197.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l197.6"></a><span id="l197.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l197.7"></a><span id="l197.7"> </span>
<a href="#l197.8"></a><span id="l197.8"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l197.9"></a><span id="l197.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l197.10"></a><span id="l197.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l197.11"></a><span id="l197.11"> </span>
<a href="#l197.12"></a><span id="l197.12" class="difflineminus">-const mailtolength = 7;</span>
<a href="#l197.13"></a><span id="l197.13" class="difflineplus">+var mailtolength = 7;</span>
<a href="#l197.14"></a><span id="l197.14"> </span>
<a href="#l197.15"></a><span id="l197.15"> /**</span>
<a href="#l197.16"></a><span id="l197.16">  * Function to change the highlighted row back to the row that is currently</span>
<a href="#l197.17"></a><span id="l197.17">  * outline/dotted without loading the contents of either rows. This is</span>
<a href="#l197.18"></a><span id="l197.18">  * triggered when the context menu for a given row is hidden/closed</span>
<a href="#l197.19"></a><span id="l197.19">  * (onpopuphiding).</span>
<a href="#l197.20"></a><span id="l197.20">  * @param tree the tree element to restore selection for</span>
<a href="#l197.21"></a><span id="l197.21">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l198.1"></a><span id="l198.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.js</span>
<a href="#l198.2"></a><span id="l198.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.js</span>
<a href="#l198.3"></a><span id="l198.3" class="difflineat">@@ -6,35 +6,35 @@</span>
<a href="#l198.4"></a><span id="l198.4"> Components.utils.import(&quot;resource:///modules/FeedUtils.jsm&quot;);</span>
<a href="#l198.5"></a><span id="l198.5"> Components.utils.import(&quot;resource:///modules/gloda/dbview.js&quot;);</span>
<a href="#l198.6"></a><span id="l198.6"> Components.utils.import(&quot;resource:///modules/MailConsts.js&quot;);</span>
<a href="#l198.7"></a><span id="l198.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l198.8"></a><span id="l198.8"> Components.utils.import(&quot;resource:///modules/MailUtils.js&quot;);</span>
<a href="#l198.9"></a><span id="l198.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l198.10"></a><span id="l198.10"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l198.11"></a><span id="l198.11"> </span>
<a href="#l198.12"></a><span id="l198.12" class="difflineminus">-const ADDR_DB_LARGE_COMMIT       = 1;</span>
<a href="#l198.13"></a><span id="l198.13" class="difflineminus">-</span>
<a href="#l198.14"></a><span id="l198.14" class="difflineminus">-const kClassicMailLayout = 0;</span>
<a href="#l198.15"></a><span id="l198.15" class="difflineminus">-const kWideMailLayout = 1;</span>
<a href="#l198.16"></a><span id="l198.16" class="difflineminus">-const kVerticalMailLayout = 2;</span>
<a href="#l198.17"></a><span id="l198.17" class="difflineminus">-const kMailLayoutCommandMap =</span>
<a href="#l198.18"></a><span id="l198.18" class="difflineplus">+var ADDR_DB_LARGE_COMMIT       = 1;</span>
<a href="#l198.19"></a><span id="l198.19" class="difflineplus">+</span>
<a href="#l198.20"></a><span id="l198.20" class="difflineplus">+var kClassicMailLayout = 0;</span>
<a href="#l198.21"></a><span id="l198.21" class="difflineplus">+var kWideMailLayout = 1;</span>
<a href="#l198.22"></a><span id="l198.22" class="difflineplus">+var kVerticalMailLayout = 2;</span>
<a href="#l198.23"></a><span id="l198.23" class="difflineplus">+var kMailLayoutCommandMap =</span>
<a href="#l198.24"></a><span id="l198.24"> {</span>
<a href="#l198.25"></a><span id="l198.25">   &quot;cmd_viewClassicMailLayout&quot;: kClassicMailLayout,</span>
<a href="#l198.26"></a><span id="l198.26">   &quot;cmd_viewWideMailLayout&quot;: kWideMailLayout,</span>
<a href="#l198.27"></a><span id="l198.27">   &quot;cmd_viewVerticalMailLayout&quot;: kVerticalMailLayout</span>
<a href="#l198.28"></a><span id="l198.28"> };</span>
<a href="#l198.29"></a><span id="l198.29"> </span>
<a href="#l198.30"></a><span id="l198.30"> // Per message header flags to keep track of whether the user is allowing remote</span>
<a href="#l198.31"></a><span id="l198.31"> // content for a particular message.</span>
<a href="#l198.32"></a><span id="l198.32"> // if you change or add more values to these constants, be sure to modify</span>
<a href="#l198.33"></a><span id="l198.33"> // the corresponding definitions in nsMsgContentPolicy.cpp</span>
<a href="#l198.34"></a><span id="l198.34" class="difflineminus">-const kNoRemoteContentPolicy = 0;</span>
<a href="#l198.35"></a><span id="l198.35" class="difflineminus">-const kBlockRemoteContent = 1;</span>
<a href="#l198.36"></a><span id="l198.36" class="difflineminus">-const kAllowRemoteContent = 2;</span>
<a href="#l198.37"></a><span id="l198.37" class="difflineplus">+var kNoRemoteContentPolicy = 0;</span>
<a href="#l198.38"></a><span id="l198.38" class="difflineplus">+var kBlockRemoteContent = 1;</span>
<a href="#l198.39"></a><span id="l198.39" class="difflineplus">+var kAllowRemoteContent = 2;</span>
<a href="#l198.40"></a><span id="l198.40"> </span>
<a href="#l198.41"></a><span id="l198.41"> // Timer to mark read, if the user has configured the app to mark a message as</span>
<a href="#l198.42"></a><span id="l198.42"> // read if it is viewed for more than n seconds.</span>
<a href="#l198.43"></a><span id="l198.43"> var gMarkViewedMessageAsReadTimer = null;</span>
<a href="#l198.44"></a><span id="l198.44"> </span>
<a href="#l198.45"></a><span id="l198.45"> // the user preference,</span>
<a href="#l198.46"></a><span id="l198.46"> // if HTML is not allowed. I assume, that the user could have set this to a</span>
<a href="#l198.47"></a><span id="l198.47"> // value &gt; 1 in his prefs.js or user.js, but that the value will not</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l199.1"></a><span id="l199.1" class="difflineminus">--- a/mail/base/content/messageWindow.js</span>
<a href="#l199.2"></a><span id="l199.2" class="difflineplus">+++ b/mail/base/content/messageWindow.js</span>
<a href="#l199.3"></a><span id="l199.3" class="difflineat">@@ -7,18 +7,18 @@</span>
<a href="#l199.4"></a><span id="l199.4"> </span>
<a href="#l199.5"></a><span id="l199.5"> Components.utils.import(&quot;resource:///modules/jsTreeSelection.js&quot;);</span>
<a href="#l199.6"></a><span id="l199.6"> Components.utils.import(&quot;resource:///modules/MailUtils.js&quot;);</span>
<a href="#l199.7"></a><span id="l199.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l199.8"></a><span id="l199.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l199.9"></a><span id="l199.9"> Components.utils.import(&quot;resource:///modules/MsgHdrSyntheticView.js&quot;);</span>
<a href="#l199.10"></a><span id="l199.10"> </span>
<a href="#l199.11"></a><span id="l199.11"> // from MailNewsTypes.h</span>
<a href="#l199.12"></a><span id="l199.12" class="difflineminus">-const nsMsgKey_None = 0xFFFFFFFF;</span>
<a href="#l199.13"></a><span id="l199.13" class="difflineminus">-const nsMsgViewIndex_None = 0xFFFFFFFF;</span>
<a href="#l199.14"></a><span id="l199.14" class="difflineplus">+var nsMsgKey_None = 0xFFFFFFFF;</span>
<a href="#l199.15"></a><span id="l199.15" class="difflineplus">+var nsMsgViewIndex_None = 0xFFFFFFFF;</span>
<a href="#l199.16"></a><span id="l199.16"> </span>
<a href="#l199.17"></a><span id="l199.17"> /* globals for a particular window */</span>
<a href="#l199.18"></a><span id="l199.18"> </span>
<a href="#l199.19"></a><span id="l199.19"> /// we have no tree view; let people know that.</span>
<a href="#l199.20"></a><span id="l199.20"> var gFolderTreeView = null;</span>
<a href="#l199.21"></a><span id="l199.21"> </span>
<a href="#l199.22"></a><span id="l199.22"> var gFolderDisplay;</span>
<a href="#l199.23"></a><span id="l199.23"> var gMessageDisplay;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l200.1"></a><span id="l200.1" class="difflineminus">--- a/mail/base/content/msgHdrViewOverlay.js</span>
<a href="#l200.2"></a><span id="l200.2" class="difflineplus">+++ b/mail/base/content/msgHdrViewOverlay.js</span>
<a href="#l200.3"></a><span id="l200.3" class="difflineat">@@ -86,17 +86,17 @@ var gExpandedHeaderList = [</span>
<a href="#l200.4"></a><span id="l200.4">   { name: &quot;followup-to&quot;, outputFunction: OutputNewsgroups },</span>
<a href="#l200.5"></a><span id="l200.5">   { name: &quot;content-base&quot; },</span>
<a href="#l200.6"></a><span id="l200.6">   { name: &quot;tags&quot; } ];</span>
<a href="#l200.7"></a><span id="l200.7"> </span>
<a href="#l200.8"></a><span id="l200.8"> /**</span>
<a href="#l200.9"></a><span id="l200.9">  * These are all the items that use a mail-multi-emailHeaderField widget and</span>
<a href="#l200.10"></a><span id="l200.10">  * therefore may require updating if the address book changes.</span>
<a href="#l200.11"></a><span id="l200.11">  */</span>
<a href="#l200.12"></a><span id="l200.12" class="difflineminus">-const gEmailAddressHeaderNames = [&quot;from&quot;, &quot;reply-to&quot;,</span>
<a href="#l200.13"></a><span id="l200.13" class="difflineplus">+var gEmailAddressHeaderNames = [&quot;from&quot;, &quot;reply-to&quot;,</span>
<a href="#l200.14"></a><span id="l200.14">                                   &quot;to&quot;, &quot;cc&quot;, &quot;bcc&quot;, &quot;toCcBcc&quot;];</span>
<a href="#l200.15"></a><span id="l200.15"> </span>
<a href="#l200.16"></a><span id="l200.16"> /**</span>
<a href="#l200.17"></a><span id="l200.17">  * Now, for each view the message pane can generate, we need a global table of</span>
<a href="#l200.18"></a><span id="l200.18">  * headerEntries. These header entry objects are generated dynamically based on</span>
<a href="#l200.19"></a><span id="l200.19">  * the static data in the header lists (see above) and elements we find in the</span>
<a href="#l200.20"></a><span id="l200.20">  * DOM based on properties in the header lists.</span>
<a href="#l200.21"></a><span id="l200.21">  */</span>
<a href="#l200.22"></a><span id="l200.22" class="difflineat">@@ -112,19 +112,19 @@ var gExpandedHeaderView  = {};</span>
<a href="#l200.23"></a><span id="l200.23">  */</span>
<a href="#l200.24"></a><span id="l200.24"> var currentHeaderData = {};</span>
<a href="#l200.25"></a><span id="l200.25"> </span>
<a href="#l200.26"></a><span id="l200.26"> /**</span>
<a href="#l200.27"></a><span id="l200.27">  * CurrentAttachments is an array of AttachmentInfo objects.</span>
<a href="#l200.28"></a><span id="l200.28">  */</span>
<a href="#l200.29"></a><span id="l200.29"> var currentAttachments = new Array();</span>
<a href="#l200.30"></a><span id="l200.30"> </span>
<a href="#l200.31"></a><span id="l200.31" class="difflineminus">-const nsIAbDirectory = Components.interfaces.nsIAbDirectory;</span>
<a href="#l200.32"></a><span id="l200.32" class="difflineminus">-const nsIAbListener = Components.interfaces.nsIAbListener;</span>
<a href="#l200.33"></a><span id="l200.33" class="difflineminus">-const nsIAbCard = Components.interfaces.nsIAbCard;</span>
<a href="#l200.34"></a><span id="l200.34" class="difflineplus">+var nsIAbDirectory = Components.interfaces.nsIAbDirectory;</span>
<a href="#l200.35"></a><span id="l200.35" class="difflineplus">+var nsIAbListener = Components.interfaces.nsIAbListener;</span>
<a href="#l200.36"></a><span id="l200.36" class="difflineplus">+var nsIAbCard = Components.interfaces.nsIAbCard;</span>
<a href="#l200.37"></a><span id="l200.37"> </span>
<a href="#l200.38"></a><span id="l200.38"> /**</span>
<a href="#l200.39"></a><span id="l200.39">  * Our constructor method which creates a header Entry based on an entry</span>
<a href="#l200.40"></a><span id="l200.40">  * in one of the header lists. A header entry is different from a header list.</span>
<a href="#l200.41"></a><span id="l200.41">  * A header list just describes how you want a particular header to be</span>
<a href="#l200.42"></a><span id="l200.42">  * presented. The header entry actually has knowledge about the DOM</span>
<a href="#l200.43"></a><span id="l200.43">  * and the actual DOM elements associated with the header.</span>
<a href="#l200.44"></a><span id="l200.44">  *</span>
<a href="#l200.45"></a><span id="l200.45" class="difflineat">@@ -340,17 +340,17 @@ function OnUnloadMsgHeaderPane()</span>
<a href="#l200.46"></a><span id="l200.46"> </span>
<a href="#l200.47"></a><span id="l200.47">   // dispatch an event letting any listeners know that we have unloaded</span>
<a href="#l200.48"></a><span id="l200.48">   // the message pane</span>
<a href="#l200.49"></a><span id="l200.49">   var headerViewElement = document.getElementById(&quot;msgHeaderView&quot;);</span>
<a href="#l200.50"></a><span id="l200.50">   headerViewElement.dispatchEvent(new Event(&quot;messagepane-unloaded&quot;,</span>
<a href="#l200.51"></a><span id="l200.51">     { bubbles: false, cancelable: true }));</span>
<a href="#l200.52"></a><span id="l200.52"> }</span>
<a href="#l200.53"></a><span id="l200.53"> </span>
<a href="#l200.54"></a><span id="l200.54" class="difflineminus">-const MsgHdrViewObserver =</span>
<a href="#l200.55"></a><span id="l200.55" class="difflineplus">+var MsgHdrViewObserver =</span>
<a href="#l200.56"></a><span id="l200.56"> {</span>
<a href="#l200.57"></a><span id="l200.57">   observe: function(subject, topic, prefName)</span>
<a href="#l200.58"></a><span id="l200.58">   {</span>
<a href="#l200.59"></a><span id="l200.59">     // verify that we're changing the mail pane config pref</span>
<a href="#l200.60"></a><span id="l200.60">     if (topic == &quot;nsPref:changed&quot;) {</span>
<a href="#l200.61"></a><span id="l200.61">       if (prefName == &quot;mail.showCondensedAddresses&quot;) {</span>
<a href="#l200.62"></a><span id="l200.62">         gShowCondensedEmailAddresses =</span>
<a href="#l200.63"></a><span id="l200.63">           Services.prefs.getBoolPref(&quot;mail.showCondensedAddresses&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l201.1"></a><span id="l201.1" class="difflineminus">--- a/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l201.2"></a><span id="l201.2" class="difflineplus">+++ b/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l201.3"></a><span id="l201.3" class="difflineat">@@ -16,25 +16,25 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l201.4"></a><span id="l201.4"> Components.utils.import(&quot;resource:///modules/sessionStoreManager.js&quot;);</span>
<a href="#l201.5"></a><span id="l201.5"> Components.utils.import(&quot;resource:///modules/summaryFrameManager.js&quot;);</span>
<a href="#l201.6"></a><span id="l201.6"> Components.utils.import(&quot;resource:///modules/MailUtils.js&quot;);</span>
<a href="#l201.7"></a><span id="l201.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l201.8"></a><span id="l201.8"> </span>
<a href="#l201.9"></a><span id="l201.9"> /* This is where functions related to the 3 pane window are kept */</span>
<a href="#l201.10"></a><span id="l201.10"> </span>
<a href="#l201.11"></a><span id="l201.11"> // from MailNewsTypes.h</span>
<a href="#l201.12"></a><span id="l201.12" class="difflineminus">-const nsMsgKey_None = 0xFFFFFFFF;</span>
<a href="#l201.13"></a><span id="l201.13" class="difflineminus">-const nsMsgViewIndex_None = 0xFFFFFFFF;</span>
<a href="#l201.14"></a><span id="l201.14" class="difflineminus">-const kMailCheckOncePrefName = &quot;mail.startup.enabledMailCheckOnce&quot;;</span>
<a href="#l201.15"></a><span id="l201.15" class="difflineplus">+var nsMsgKey_None = 0xFFFFFFFF;</span>
<a href="#l201.16"></a><span id="l201.16" class="difflineplus">+var nsMsgViewIndex_None = 0xFFFFFFFF;</span>
<a href="#l201.17"></a><span id="l201.17" class="difflineplus">+var kMailCheckOncePrefName = &quot;mail.startup.enabledMailCheckOnce&quot;;</span>
<a href="#l201.18"></a><span id="l201.18"> </span>
<a href="#l201.19"></a><span id="l201.19" class="difflineminus">-const kStandardPaneConfig = 0;</span>
<a href="#l201.20"></a><span id="l201.20" class="difflineminus">-const kWidePaneConfig = 1;</span>
<a href="#l201.21"></a><span id="l201.21" class="difflineminus">-const kVerticalPaneConfig = 2;</span>
<a href="#l201.22"></a><span id="l201.22" class="difflineplus">+var kStandardPaneConfig = 0;</span>
<a href="#l201.23"></a><span id="l201.23" class="difflineplus">+var kWidePaneConfig = 1;</span>
<a href="#l201.24"></a><span id="l201.24" class="difflineplus">+var kVerticalPaneConfig = 2;</span>
<a href="#l201.25"></a><span id="l201.25"> </span>
<a href="#l201.26"></a><span id="l201.26" class="difflineminus">-const kNumFolderViews = 4; // total number of folder views</span>
<a href="#l201.27"></a><span id="l201.27" class="difflineplus">+var kNumFolderViews = 4; // total number of folder views</span>
<a href="#l201.28"></a><span id="l201.28"> </span>
<a href="#l201.29"></a><span id="l201.29"> /** widget with id=messagepanebox, initialized by GetMessagePane() */</span>
<a href="#l201.30"></a><span id="l201.30"> var gMessagePane;</span>
<a href="#l201.31"></a><span id="l201.31"> </span>
<a href="#l201.32"></a><span id="l201.32"> /** widget with id=messagepaneboxwrapper, initialized by GetMessagePaneWrapper() */</span>
<a href="#l201.33"></a><span id="l201.33"> var gMessagePaneWrapper;</span>
<a href="#l201.34"></a><span id="l201.34"> </span>
<a href="#l201.35"></a><span id="l201.35"> var gThreadAndMessagePaneSplitter = null;</span>
<a href="#l201.36"></a><span id="l201.36" class="difflineat">@@ -337,17 +337,17 @@ function UpdateMailPaneConfig(aMsgWindow</span>
<a href="#l201.37"></a><span id="l201.37">           e.initEvent(&quot;resize&quot;, false, false);</span>
<a href="#l201.38"></a><span id="l201.38">           node.dispatchEvent(e);</span>
<a href="#l201.39"></a><span id="l201.39">         }</span>
<a href="#l201.40"></a><span id="l201.40">       }</span>
<a href="#l201.41"></a><span id="l201.41">     }, 1500);</span>
<a href="#l201.42"></a><span id="l201.42">   }</span>
<a href="#l201.43"></a><span id="l201.43"> }</span>
<a href="#l201.44"></a><span id="l201.44"> </span>
<a href="#l201.45"></a><span id="l201.45" class="difflineminus">-const MailPrefObserver = {</span>
<a href="#l201.46"></a><span id="l201.46" class="difflineplus">+var MailPrefObserver = {</span>
<a href="#l201.47"></a><span id="l201.47">   observe: function(subject, topic, prefName) {</span>
<a href="#l201.48"></a><span id="l201.48">     // verify that we're changing the mail pane config pref</span>
<a href="#l201.49"></a><span id="l201.49">     if (topic == &quot;nsPref:changed&quot;)</span>
<a href="#l201.50"></a><span id="l201.50">     {</span>
<a href="#l201.51"></a><span id="l201.51">       if (prefName == &quot;mail.pane_config.dynamic&quot;)</span>
<a href="#l201.52"></a><span id="l201.52">         UpdateMailPaneConfig(true);</span>
<a href="#l201.53"></a><span id="l201.53">       else if (prefName == &quot;mail.showCondensedAddresses&quot;)</span>
<a href="#l201.54"></a><span id="l201.54">       {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l202.1"></a><span id="l202.1" class="difflineminus">--- a/mail/base/content/multimessageview.js</span>
<a href="#l202.2"></a><span id="l202.2" class="difflineplus">+++ b/mail/base/content/multimessageview.js</span>
<a href="#l202.3"></a><span id="l202.3" class="difflineat">@@ -55,18 +55,18 @@ LimitIterator.prototype = {</span>
<a href="#l202.4"></a><span id="l202.4">   /**</span>
<a href="#l202.5"></a><span id="l202.5">    * Returns the real number of elements in the array.</span>
<a href="#l202.6"></a><span id="l202.6">    */</span>
<a href="#l202.7"></a><span id="l202.7">   get trueLength() {</span>
<a href="#l202.8"></a><span id="l202.8">     return this._array.length;</span>
<a href="#l202.9"></a><span id="l202.9">   },</span>
<a href="#l202.10"></a><span id="l202.10"> };</span>
<a href="#l202.11"></a><span id="l202.11"> </span>
<a href="#l202.12"></a><span id="l202.12" class="difflineminus">-const JS_HAS_SYMBOLS = typeof Symbol === &quot;function&quot;;</span>
<a href="#l202.13"></a><span id="l202.13" class="difflineminus">-const ITERATOR_SYMBOL = JS_HAS_SYMBOLS ? Symbol.iterator : &quot;@@iterator&quot;;</span>
<a href="#l202.14"></a><span id="l202.14" class="difflineplus">+var JS_HAS_SYMBOLS = typeof Symbol === &quot;function&quot;;</span>
<a href="#l202.15"></a><span id="l202.15" class="difflineplus">+var ITERATOR_SYMBOL = JS_HAS_SYMBOLS ? Symbol.iterator : &quot;@@iterator&quot;;</span>
<a href="#l202.16"></a><span id="l202.16"> </span>
<a href="#l202.17"></a><span id="l202.17"> /**</span>
<a href="#l202.18"></a><span id="l202.18">  * Iterate over the array until we hit the end or the maximum length,</span>
<a href="#l202.19"></a><span id="l202.19">  * whichever comes first.</span>
<a href="#l202.20"></a><span id="l202.20">  */</span>
<a href="#l202.21"></a><span id="l202.21"> LimitIterator.prototype[ITERATOR_SYMBOL] = function*() {</span>
<a href="#l202.22"></a><span id="l202.22">   let length = this.length;</span>
<a href="#l202.23"></a><span id="l202.23">   for (let i = 0; i &lt; length; i++)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l203.1"></a><span id="l203.1" class="difflineminus">--- a/mail/base/content/phishingDetector.js</span>
<a href="#l203.2"></a><span id="l203.2" class="difflineplus">+++ b/mail/base/content/phishingDetector.js</span>
<a href="#l203.3"></a><span id="l203.3" class="difflineat">@@ -2,19 +2,19 @@</span>
<a href="#l203.4"></a><span id="l203.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l203.5"></a><span id="l203.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l203.6"></a><span id="l203.6"> </span>
<a href="#l203.7"></a><span id="l203.7"> // Dependencies:</span>
<a href="#l203.8"></a><span id="l203.8"> // gatherTextUnder from utilityOverlay.js</span>
<a href="#l203.9"></a><span id="l203.9"> </span>
<a href="#l203.10"></a><span id="l203.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l203.11"></a><span id="l203.11"> </span>
<a href="#l203.12"></a><span id="l203.12" class="difflineminus">-const kPhishingNotSuspicious = 0;</span>
<a href="#l203.13"></a><span id="l203.13" class="difflineminus">-const kPhishingWithIPAddress = 1;</span>
<a href="#l203.14"></a><span id="l203.14" class="difflineminus">-const kPhishingWithMismatchedHosts = 2;</span>
<a href="#l203.15"></a><span id="l203.15" class="difflineplus">+var kPhishingNotSuspicious = 0;</span>
<a href="#l203.16"></a><span id="l203.16" class="difflineplus">+var kPhishingWithIPAddress = 1;</span>
<a href="#l203.17"></a><span id="l203.17" class="difflineplus">+var kPhishingWithMismatchedHosts = 2;</span>
<a href="#l203.18"></a><span id="l203.18"> </span>
<a href="#l203.19"></a><span id="l203.19"> </span>
<a href="#l203.20"></a><span id="l203.20"> var gPhishingDetector = {</span>
<a href="#l203.21"></a><span id="l203.21">   mCheckForIPAddresses: true,</span>
<a href="#l203.22"></a><span id="l203.22">   mCheckForMismatchedHosts: true,</span>
<a href="#l203.23"></a><span id="l203.23"> </span>
<a href="#l203.24"></a><span id="l203.24">   shutdown: function()</span>
<a href="#l203.25"></a><span id="l203.25">   {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l204.1"></a><span id="l204.1" class="difflineminus">--- a/mail/base/content/sanitizeDialog.js</span>
<a href="#l204.2"></a><span id="l204.2" class="difflineplus">+++ b/mail/base/content/sanitizeDialog.js</span>
<a href="#l204.3"></a><span id="l204.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l204.4"></a><span id="l204.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l204.5"></a><span id="l204.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l204.6"></a><span id="l204.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l204.7"></a><span id="l204.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l204.8"></a><span id="l204.8"> </span>
<a href="#l204.9"></a><span id="l204.9" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l204.10"></a><span id="l204.10" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l204.11"></a><span id="l204.11" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l204.12"></a><span id="l204.12" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l204.13"></a><span id="l204.13"> </span>
<a href="#l204.14"></a><span id="l204.14"> var gSanitizePromptDialog = {</span>
<a href="#l204.15"></a><span id="l204.15"> </span>
<a href="#l204.16"></a><span id="l204.16">   get bundleBrowser()</span>
<a href="#l204.17"></a><span id="l204.17">   {</span>
<a href="#l204.18"></a><span id="l204.18">     if (!this._bundleBrowser)</span>
<a href="#l204.19"></a><span id="l204.19">       this._bundleBrowser = document.getElementById(&quot;bundleBrowser&quot;);</span>
<a href="#l204.20"></a><span id="l204.20">     return this._bundleBrowser;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l205.1"></a><span id="l205.1" class="difflineminus">--- a/mail/base/content/specialTabs.js</span>
<a href="#l205.2"></a><span id="l205.2" class="difflineplus">+++ b/mail/base/content/specialTabs.js</span>
<a href="#l205.3"></a><span id="l205.3" class="difflineat">@@ -152,17 +152,17 @@ tabProgressListener.prototype =</span>
<a href="#l205.4"></a><span id="l205.4">       this.mProgressListener.onRefreshAttempted(aWebProgress, aURI, aDelay,</span>
<a href="#l205.5"></a><span id="l205.5">         aSameURI);</span>
<a href="#l205.6"></a><span id="l205.6">   },</span>
<a href="#l205.7"></a><span id="l205.7">   QueryInterface: XPCOMUtils.generateQI([Components.interfaces.nsIWebProgressListener,</span>
<a href="#l205.8"></a><span id="l205.8">                                          Components.interfaces.nsIWebProgressListener2,</span>
<a href="#l205.9"></a><span id="l205.9">                                          Components.interfaces.nsISupportsWeakReference])</span>
<a href="#l205.10"></a><span id="l205.10"> };</span>
<a href="#l205.11"></a><span id="l205.11"> </span>
<a href="#l205.12"></a><span id="l205.12" class="difflineminus">-const DOMLinkHandler = {</span>
<a href="#l205.13"></a><span id="l205.13" class="difflineplus">+var DOMLinkHandler = {</span>
<a href="#l205.14"></a><span id="l205.14">   handleEvent: function (event) {</span>
<a href="#l205.15"></a><span id="l205.15">     switch (event.type) {</span>
<a href="#l205.16"></a><span id="l205.16">     case &quot;DOMLinkAdded&quot;:</span>
<a href="#l205.17"></a><span id="l205.17">       this.onLinkAdded(event);</span>
<a href="#l205.18"></a><span id="l205.18">       break;</span>
<a href="#l205.19"></a><span id="l205.19">     }</span>
<a href="#l205.20"></a><span id="l205.20">   },</span>
<a href="#l205.21"></a><span id="l205.21">   onLinkAdded: function (event) {</span>
<a href="#l205.22"></a><span id="l205.22" class="difflineat">@@ -233,22 +233,22 @@ const DOMLinkHandler = {</span>
<a href="#l205.23"></a><span id="l205.23"> </span>
<a href="#l205.24"></a><span id="l205.24">       // Just set the url on the browser and we'll display the actual icon</span>
<a href="#l205.25"></a><span id="l205.25">       // when we finish loading the page.</span>
<a href="#l205.26"></a><span id="l205.26">       specialTabs.setTabIcon(tab, link.href);</span>
<a href="#l205.27"></a><span id="l205.27">     }</span>
<a href="#l205.28"></a><span id="l205.28">   }</span>
<a href="#l205.29"></a><span id="l205.29"> };</span>
<a href="#l205.30"></a><span id="l205.30"> </span>
<a href="#l205.31"></a><span id="l205.31" class="difflineminus">-const kTelemetryPrompted    = &quot;toolkit.telemetry.prompted&quot;;</span>
<a href="#l205.32"></a><span id="l205.32" class="difflineminus">-const kTelemetryEnabled     = &quot;toolkit.telemetry.enabled&quot;;</span>
<a href="#l205.33"></a><span id="l205.33" class="difflineminus">-const kTelemetryRejected    = &quot;toolkit.telemetry.rejected&quot;;</span>
<a href="#l205.34"></a><span id="l205.34" class="difflineminus">-const kTelemetryServerOwner = &quot;toolkit.telemetry.server_owner&quot;;</span>
<a href="#l205.35"></a><span id="l205.35" class="difflineplus">+var kTelemetryPrompted    = &quot;toolkit.telemetry.prompted&quot;;</span>
<a href="#l205.36"></a><span id="l205.36" class="difflineplus">+var kTelemetryEnabled     = &quot;toolkit.telemetry.enabled&quot;;</span>
<a href="#l205.37"></a><span id="l205.37" class="difflineplus">+var kTelemetryRejected    = &quot;toolkit.telemetry.rejected&quot;;</span>
<a href="#l205.38"></a><span id="l205.38" class="difflineplus">+var kTelemetryServerOwner = &quot;toolkit.telemetry.server_owner&quot;;</span>
<a href="#l205.39"></a><span id="l205.39"> // This is used to reprompt/renotify users when privacy message changes</span>
<a href="#l205.40"></a><span id="l205.40" class="difflineminus">-const kTelemetryPromptRev   = 2;</span>
<a href="#l205.41"></a><span id="l205.41" class="difflineplus">+var kTelemetryPromptRev   = 2;</span>
<a href="#l205.42"></a><span id="l205.42"> </span>
<a href="#l205.43"></a><span id="l205.43"> var contentTabBaseType = {</span>
<a href="#l205.44"></a><span id="l205.44">   inContentWhitelist: ['about:addons', 'about:preferences'],</span>
<a href="#l205.45"></a><span id="l205.45">   shouldSwitchTo: function onSwitchTo({contentPage: aContentPage}) {</span>
<a href="#l205.46"></a><span id="l205.46">     let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l205.47"></a><span id="l205.47">     let tabInfo = tabmail.tabInfo;</span>
<a href="#l205.48"></a><span id="l205.48"> </span>
<a href="#l205.49"></a><span id="l205.49">     // Remove any anchors - especially for the about: pages, we just want</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l206.1"></a><span id="l206.1" class="difflineminus">--- a/mail/base/modules/MailUtils.js</span>
<a href="#l206.2"></a><span id="l206.2" class="difflineplus">+++ b/mail/base/modules/MailUtils.js</span>
<a href="#l206.3"></a><span id="l206.3" class="difflineat">@@ -1,24 +1,24 @@</span>
<a href="#l206.4"></a><span id="l206.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l206.5"></a><span id="l206.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l206.6"></a><span id="l206.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l206.7"></a><span id="l206.7"> </span>
<a href="#l206.8"></a><span id="l206.8"> var EXPORTED_SYMBOLS = [&quot;MailUtils&quot;];</span>
<a href="#l206.9"></a><span id="l206.9"> </span>
<a href="#l206.10"></a><span id="l206.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l206.11"></a><span id="l206.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l206.12"></a><span id="l206.12" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l206.13"></a><span id="l206.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l206.14"></a><span id="l206.14"> </span>
<a href="#l206.15"></a><span id="l206.15"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l206.16"></a><span id="l206.16"> Components.utils.import(&quot;resource:///modules/MailConsts.js&quot;);</span>
<a href="#l206.17"></a><span id="l206.17"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l206.18"></a><span id="l206.18"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l206.19"></a><span id="l206.19"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l206.20"></a><span id="l206.20"> </span>
<a href="#l206.21"></a><span id="l206.21" class="difflineminus">-const MC = MailConsts;</span>
<a href="#l206.22"></a><span id="l206.22" class="difflineplus">+var MC = MailConsts;</span>
<a href="#l206.23"></a><span id="l206.23"> </span>
<a href="#l206.24"></a><span id="l206.24"> /**</span>
<a href="#l206.25"></a><span id="l206.25">  * This module has several utility functions for use by both core and</span>
<a href="#l206.26"></a><span id="l206.26">  * third-party code. Some functions are aimed at code that doesn't have a</span>
<a href="#l206.27"></a><span id="l206.27">  * window context, while others can be used anywhere.</span>
<a href="#l206.28"></a><span id="l206.28">  */</span>
<a href="#l206.29"></a><span id="l206.29"> var MailUtils =</span>
<a href="#l206.30"></a><span id="l206.30"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l207.1"></a><span id="l207.1" class="difflineminus">--- a/mail/base/modules/MsgHdrSyntheticView.js</span>
<a href="#l207.2"></a><span id="l207.2" class="difflineplus">+++ b/mail/base/modules/MsgHdrSyntheticView.js</span>
<a href="#l207.3"></a><span id="l207.3" class="difflineat">@@ -4,19 +4,19 @@</span>
<a href="#l207.4"></a><span id="l207.4"> </span>
<a href="#l207.5"></a><span id="l207.5"> /*</span>
<a href="#l207.6"></a><span id="l207.6">  * This object provides you a way to have a synthetic nsIMsgDBView for a single</span>
<a href="#l207.7"></a><span id="l207.7">  * message header.</span>
<a href="#l207.8"></a><span id="l207.8">  */</span>
<a href="#l207.9"></a><span id="l207.9"> </span>
<a href="#l207.10"></a><span id="l207.10"> var EXPORTED_SYMBOLS = [&quot;MsgHdrSyntheticView&quot;];</span>
<a href="#l207.11"></a><span id="l207.11"> </span>
<a href="#l207.12"></a><span id="l207.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l207.13"></a><span id="l207.13" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l207.14"></a><span id="l207.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l207.15"></a><span id="l207.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l207.16"></a><span id="l207.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l207.17"></a><span id="l207.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l207.18"></a><span id="l207.18"> </span>
<a href="#l207.19"></a><span id="l207.19"> /**</span>
<a href="#l207.20"></a><span id="l207.20">  * Create a synthetic view suitable for passing to |FolderDisplayWidget.show|.</span>
<a href="#l207.21"></a><span id="l207.21">  * You must pass a single message header in.</span>
<a href="#l207.22"></a><span id="l207.22">  *</span>
<a href="#l207.23"></a><span id="l207.23">  * @param aMsgHdr The message header to create the synthetic view for.</span>
<a href="#l207.24"></a><span id="l207.24">  */</span>
<a href="#l207.25"></a><span id="l207.25"> function MsgHdrSyntheticView(aMsgHdr) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l208.1"></a><span id="l208.1" class="difflineminus">--- a/mail/base/modules/Windows8WindowFrameColor.jsm</span>
<a href="#l208.2"></a><span id="l208.2" class="difflineplus">+++ b/mail/base/modules/Windows8WindowFrameColor.jsm</span>
<a href="#l208.3"></a><span id="l208.3" class="difflineat">@@ -1,22 +1,22 @@</span>
<a href="#l208.4"></a><span id="l208.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l208.5"></a><span id="l208.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l208.6"></a><span id="l208.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l208.7"></a><span id="l208.7"> </span>
<a href="#l208.8"></a><span id="l208.8"> &quot;use strict&quot;;</span>
<a href="#l208.9"></a><span id="l208.9" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l208.10"></a><span id="l208.10" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l208.11"></a><span id="l208.11"> </span>
<a href="#l208.12"></a><span id="l208.12"> this.EXPORTED_SYMBOLS = [&quot;Windows8WindowFrameColor&quot;];</span>
<a href="#l208.13"></a><span id="l208.13"> </span>
<a href="#l208.14"></a><span id="l208.14"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l208.15"></a><span id="l208.15"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l208.16"></a><span id="l208.16"> var Registry = Cu.import(&quot;resource://gre/modules/WindowsRegistry.jsm&quot;).WindowsRegistry;</span>
<a href="#l208.17"></a><span id="l208.17"> </span>
<a href="#l208.18"></a><span id="l208.18" class="difflineminus">-const Windows8WindowFrameColor = {</span>
<a href="#l208.19"></a><span id="l208.19" class="difflineplus">+var Windows8WindowFrameColor = {</span>
<a href="#l208.20"></a><span id="l208.20">   _windowFrameColor: null,</span>
<a href="#l208.21"></a><span id="l208.21"> </span>
<a href="#l208.22"></a><span id="l208.22">   get: function() {</span>
<a href="#l208.23"></a><span id="l208.23">     if (this._windowFrameColor)</span>
<a href="#l208.24"></a><span id="l208.24">       return this._windowFrameColor;</span>
<a href="#l208.25"></a><span id="l208.25"> </span>
<a href="#l208.26"></a><span id="l208.26">     const HKCU = Ci.nsIWindowsRegKey.ROOT_KEY_CURRENT_USER;</span>
<a href="#l208.27"></a><span id="l208.27">     const dwmKey = &quot;Software\\Microsoft\\Windows\\DWM&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l209.1"></a><span id="l209.1" class="difflineminus">--- a/mail/base/modules/dbViewWrapper.js</span>
<a href="#l209.2"></a><span id="l209.2" class="difflineplus">+++ b/mail/base/modules/dbViewWrapper.js</span>
<a href="#l209.3"></a><span id="l209.3" class="difflineat">@@ -1,34 +1,34 @@</span>
<a href="#l209.4"></a><span id="l209.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l209.5"></a><span id="l209.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l209.6"></a><span id="l209.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l209.7"></a><span id="l209.7"> </span>
<a href="#l209.8"></a><span id="l209.8"> this.EXPORTED_SYMBOLS = ['DBViewWrapper', 'IDBViewWrapperListener'];</span>
<a href="#l209.9"></a><span id="l209.9"> </span>
<a href="#l209.10"></a><span id="l209.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l209.11"></a><span id="l209.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l209.12"></a><span id="l209.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l209.13"></a><span id="l209.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l209.14"></a><span id="l209.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l209.15"></a><span id="l209.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l209.16"></a><span id="l209.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l209.17"></a><span id="l209.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l209.18"></a><span id="l209.18"> </span>
<a href="#l209.19"></a><span id="l209.19"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l209.20"></a><span id="l209.20"> Cu.import(&quot;resource:///modules/mailViewManager.js&quot;);</span>
<a href="#l209.21"></a><span id="l209.21"> Cu.import(&quot;resource:///modules/searchSpec.js&quot;);</span>
<a href="#l209.22"></a><span id="l209.22"> Cu.import(&quot;resource:///modules/virtualFolderWrapper.js&quot;);</span>
<a href="#l209.23"></a><span id="l209.23"> </span>
<a href="#l209.24"></a><span id="l209.24" class="difflineminus">-const nsMsgFolderFlags = Ci.nsMsgFolderFlags;</span>
<a href="#l209.25"></a><span id="l209.25" class="difflineminus">-const nsMsgViewType = Ci.nsMsgViewType;</span>
<a href="#l209.26"></a><span id="l209.26" class="difflineminus">-const nsMsgViewFlagsType = Ci.nsMsgViewFlagsType;</span>
<a href="#l209.27"></a><span id="l209.27" class="difflineminus">-const nsMsgViewSortType = Ci.nsMsgViewSortType;</span>
<a href="#l209.28"></a><span id="l209.28" class="difflineminus">-const nsMsgViewSortOrder = Ci.nsMsgViewSortOrder;</span>
<a href="#l209.29"></a><span id="l209.29" class="difflineminus">-const nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l209.30"></a><span id="l209.30" class="difflineplus">+var nsMsgFolderFlags = Ci.nsMsgFolderFlags;</span>
<a href="#l209.31"></a><span id="l209.31" class="difflineplus">+var nsMsgViewType = Ci.nsMsgViewType;</span>
<a href="#l209.32"></a><span id="l209.32" class="difflineplus">+var nsMsgViewFlagsType = Ci.nsMsgViewFlagsType;</span>
<a href="#l209.33"></a><span id="l209.33" class="difflineplus">+var nsMsgViewSortType = Ci.nsMsgViewSortType;</span>
<a href="#l209.34"></a><span id="l209.34" class="difflineplus">+var nsMsgViewSortOrder = Ci.nsMsgViewSortOrder;</span>
<a href="#l209.35"></a><span id="l209.35" class="difflineplus">+var nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l209.36"></a><span id="l209.36"> </span>
<a href="#l209.37"></a><span id="l209.37" class="difflineminus">-const MSG_VIEW_FLAG_DUMMY = 0x20000000;</span>
<a href="#l209.38"></a><span id="l209.38" class="difflineplus">+var MSG_VIEW_FLAG_DUMMY = 0x20000000;</span>
<a href="#l209.39"></a><span id="l209.39"> </span>
<a href="#l209.40"></a><span id="l209.40" class="difflineminus">-const nsMsgViewIndex_None = 0xffffffff;</span>
<a href="#l209.41"></a><span id="l209.41" class="difflineplus">+var nsMsgViewIndex_None = 0xffffffff;</span>
<a href="#l209.42"></a><span id="l209.42"> </span>
<a href="#l209.43"></a><span id="l209.43"> /**</span>
<a href="#l209.44"></a><span id="l209.44">  * Helper singleton for DBViewWrapper that tells instances when something</span>
<a href="#l209.45"></a><span id="l209.45">  *  interesting is happening to the folder(s) they care about.  The rationale</span>
<a href="#l209.46"></a><span id="l209.46">  *  for this is to:</span>
<a href="#l209.47"></a><span id="l209.47">  * - reduce listener overhead (although arguably the events we listen to are</span>
<a href="#l209.48"></a><span id="l209.48">  *     fairly rare)</span>
<a href="#l209.49"></a><span id="l209.49">  * - make testing / verification easier by centralizing and exposing listeners.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l210.1"></a><span id="l210.1" class="difflineminus">--- a/mail/base/modules/distribution.js</span>
<a href="#l210.2"></a><span id="l210.2" class="difflineplus">+++ b/mail/base/modules/distribution.js</span>
<a href="#l210.3"></a><span id="l210.3" class="difflineat">@@ -1,22 +1,22 @@</span>
<a href="#l210.4"></a><span id="l210.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l210.5"></a><span id="l210.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l210.6"></a><span id="l210.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l210.7"></a><span id="l210.7"> </span>
<a href="#l210.8"></a><span id="l210.8"> this.EXPORTED_SYMBOLS = [&quot;TBDistCustomizer&quot;];</span>
<a href="#l210.9"></a><span id="l210.9"> </span>
<a href="#l210.10"></a><span id="l210.10" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l210.11"></a><span id="l210.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l210.12"></a><span id="l210.12" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l210.13"></a><span id="l210.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l210.14"></a><span id="l210.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l210.15"></a><span id="l210.15" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l210.16"></a><span id="l210.16"> </span>
<a href="#l210.17"></a><span id="l210.17"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l210.18"></a><span id="l210.18"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l210.19"></a><span id="l210.19"> </span>
<a href="#l210.20"></a><span id="l210.20" class="difflineminus">-const DISTRIBUTION_CUSTOMIZATION_COMPLETE_TOPIC =</span>
<a href="#l210.21"></a><span id="l210.21" class="difflineplus">+var DISTRIBUTION_CUSTOMIZATION_COMPLETE_TOPIC =</span>
<a href="#l210.22"></a><span id="l210.22">   &quot;distribution-customization-complete&quot;;</span>
<a href="#l210.23"></a><span id="l210.23"> </span>
<a href="#l210.24"></a><span id="l210.24"> var TBDistCustomizer = {</span>
<a href="#l210.25"></a><span id="l210.25">   applyPrefDefaults: function TBDistCustomizer_applyPrefDefaults() {</span>
<a href="#l210.26"></a><span id="l210.26">     this._prefDefaultsApplied = true;</span>
<a href="#l210.27"></a><span id="l210.27">     if (!this._ini) {</span>
<a href="#l210.28"></a><span id="l210.28">       return;</span>
<a href="#l210.29"></a><span id="l210.29">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l211.1"></a><span id="l211.1" class="difflineminus">--- a/mail/base/modules/mailInstrumentation.js</span>
<a href="#l211.2"></a><span id="l211.2" class="difflineplus">+++ b/mail/base/modules/mailInstrumentation.js</span>
<a href="#l211.3"></a><span id="l211.3" class="difflineat">@@ -5,21 +5,21 @@</span>
<a href="#l211.4"></a><span id="l211.4"> /**</span>
<a href="#l211.5"></a><span id="l211.5">  * Thunderbird UI Instrumentation, currently just the account setup process.</span>
<a href="#l211.6"></a><span id="l211.6">  */</span>
<a href="#l211.7"></a><span id="l211.7"> </span>
<a href="#l211.8"></a><span id="l211.8"> /* :::::::: Constants and Helpers ::::::::::::::: */</span>
<a href="#l211.9"></a><span id="l211.9"> </span>
<a href="#l211.10"></a><span id="l211.10"> this.EXPORTED_SYMBOLS = [&quot;mailInstrumentationManager&quot;];</span>
<a href="#l211.11"></a><span id="l211.11"> </span>
<a href="#l211.12"></a><span id="l211.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l211.13"></a><span id="l211.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l211.14"></a><span id="l211.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l211.15"></a><span id="l211.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l211.16"></a><span id="l211.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l211.17"></a><span id="l211.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l211.18"></a><span id="l211.18"> </span>
<a href="#l211.19"></a><span id="l211.19" class="difflineminus">-const nsIMFNService = Ci.nsIMsgFolderNotificationService;</span>
<a href="#l211.20"></a><span id="l211.20" class="difflineplus">+var nsIMFNService = Ci.nsIMsgFolderNotificationService;</span>
<a href="#l211.21"></a><span id="l211.21"> </span>
<a href="#l211.22"></a><span id="l211.22"> Cu.import(&quot;resource:///modules/errUtils.js&quot;);</span>
<a href="#l211.23"></a><span id="l211.23"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l211.24"></a><span id="l211.24"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l211.25"></a><span id="l211.25"> </span>
<a href="#l211.26"></a><span id="l211.26"> /* :::::::: The Module ::::::::::::::: */</span>
<a href="#l211.27"></a><span id="l211.27"> </span>
<a href="#l211.28"></a><span id="l211.28"> var mailInstrumentationManager =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l212.1"></a><span id="l212.1" class="difflineminus">--- a/mail/base/modules/mailMigrator.js</span>
<a href="#l212.2"></a><span id="l212.2" class="difflineplus">+++ b/mail/base/modules/mailMigrator.js</span>
<a href="#l212.3"></a><span id="l212.3" class="difflineat">@@ -6,19 +6,19 @@</span>
<a href="#l212.4"></a><span id="l212.4"> /**</span>
<a href="#l212.5"></a><span id="l212.5">  * This module handles migrating mail-specific preferences, etc. Migration has</span>
<a href="#l212.6"></a><span id="l212.6">  * traditionally been a part of msgMail3PaneWindow.js, but separating the code</span>
<a href="#l212.7"></a><span id="l212.7">  * out into a module makes unit testing much easier.</span>
<a href="#l212.8"></a><span id="l212.8">  */</span>
<a href="#l212.9"></a><span id="l212.9"> </span>
<a href="#l212.10"></a><span id="l212.10"> var EXPORTED_SYMBOLS = [&quot;MailMigrator&quot;];</span>
<a href="#l212.11"></a><span id="l212.11"> </span>
<a href="#l212.12"></a><span id="l212.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l212.13"></a><span id="l212.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l212.14"></a><span id="l212.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l212.15"></a><span id="l212.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l212.16"></a><span id="l212.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l212.17"></a><span id="l212.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l212.18"></a><span id="l212.18"> </span>
<a href="#l212.19"></a><span id="l212.19"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l212.20"></a><span id="l212.20"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l212.21"></a><span id="l212.21"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l212.22"></a><span id="l212.22"> Cu.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l212.23"></a><span id="l212.23"> </span>
<a href="#l212.24"></a><span id="l212.24"> var MailMigrator = {</span>
<a href="#l212.25"></a><span id="l212.25">   /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l213.1"></a><span id="l213.1" class="difflineminus">--- a/mail/base/modules/mailViewManager.js</span>
<a href="#l213.2"></a><span id="l213.2" class="difflineplus">+++ b/mail/base/modules/mailViewManager.js</span>
<a href="#l213.3"></a><span id="l213.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l213.4"></a><span id="l213.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l213.5"></a><span id="l213.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l213.6"></a><span id="l213.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l213.7"></a><span id="l213.7"> </span>
<a href="#l213.8"></a><span id="l213.8"> this.EXPORTED_SYMBOLS = ['MailViewManager', 'MailViewConstants'];</span>
<a href="#l213.9"></a><span id="l213.9"> </span>
<a href="#l213.10"></a><span id="l213.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l213.11"></a><span id="l213.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l213.12"></a><span id="l213.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l213.13"></a><span id="l213.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l213.14"></a><span id="l213.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l213.15"></a><span id="l213.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l213.16"></a><span id="l213.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l213.17"></a><span id="l213.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l213.18"></a><span id="l213.18"> </span>
<a href="#l213.19"></a><span id="l213.19"> var nsMsgSearchScope  = Ci.nsMsgSearchScope;</span>
<a href="#l213.20"></a><span id="l213.20"> var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l213.21"></a><span id="l213.21"> var nsMsgSearchOp     = Ci.nsMsgSearchOp;</span>
<a href="#l213.22"></a><span id="l213.22"> </span>
<a href="#l213.23"></a><span id="l213.23"> var nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l213.24"></a><span id="l213.24"> </span>
<a href="#l213.25"></a><span id="l213.25"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l214.1"></a><span id="l214.1" class="difflineminus">--- a/mail/base/modules/oauth.jsm</span>
<a href="#l214.2"></a><span id="l214.2" class="difflineplus">+++ b/mail/base/modules/oauth.jsm</span>
<a href="#l214.3"></a><span id="l214.3" class="difflineat">@@ -3,17 +3,17 @@</span>
<a href="#l214.4"></a><span id="l214.4">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l214.5"></a><span id="l214.5"> </span>
<a href="#l214.6"></a><span id="l214.6"> /**</span>
<a href="#l214.7"></a><span id="l214.7">  * This js module does OAuth 1.0 authentication. It was originally intended to</span>
<a href="#l214.8"></a><span id="l214.8">  * be shareable by various components that need Oauth, but some changes will</span>
<a href="#l214.9"></a><span id="l214.9">  * need to be made to support differences in OAuth usage.</span>
<a href="#l214.10"></a><span id="l214.10">  */</span>
<a href="#l214.11"></a><span id="l214.11"> </span>
<a href="#l214.12"></a><span id="l214.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l214.13"></a><span id="l214.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l214.14"></a><span id="l214.14"> </span>
<a href="#l214.15"></a><span id="l214.15"> var EXPORTED_SYMBOLS = [&quot;OAuth&quot;];</span>
<a href="#l214.16"></a><span id="l214.16"> </span>
<a href="#l214.17"></a><span id="l214.17"> Cu.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l214.18"></a><span id="l214.18"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l214.19"></a><span id="l214.19"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l214.20"></a><span id="l214.20"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l214.21"></a><span id="l214.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l215.1"></a><span id="l215.1" class="difflineminus">--- a/mail/base/modules/quickFilterManager.js</span>
<a href="#l215.2"></a><span id="l215.2" class="difflineplus">+++ b/mail/base/modules/quickFilterManager.js</span>
<a href="#l215.3"></a><span id="l215.3" class="difflineat">@@ -1,33 +1,33 @@</span>
<a href="#l215.4"></a><span id="l215.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l215.5"></a><span id="l215.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l215.6"></a><span id="l215.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l215.7"></a><span id="l215.7"> </span>
<a href="#l215.8"></a><span id="l215.8"> this.EXPORTED_SYMBOLS = [&quot;QuickFilterState&quot;, &quot;QuickFilterManager&quot;,</span>
<a href="#l215.9"></a><span id="l215.9">                           &quot;MessageTextFilter&quot;, &quot;QuickFilterSearchListener&quot;];</span>
<a href="#l215.10"></a><span id="l215.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l215.11"></a><span id="l215.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l215.12"></a><span id="l215.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l215.13"></a><span id="l215.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l215.14"></a><span id="l215.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l215.15"></a><span id="l215.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l215.16"></a><span id="l215.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l215.17"></a><span id="l215.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l215.18"></a><span id="l215.18"> </span>
<a href="#l215.19"></a><span id="l215.19"> Cu.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l215.20"></a><span id="l215.20"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l215.21"></a><span id="l215.21"> </span>
<a href="#l215.22"></a><span id="l215.22"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l215.23"></a><span id="l215.23"> Cu.import(&quot;resource:///modules/errUtils.js&quot;);</span>
<a href="#l215.24"></a><span id="l215.24"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l215.25"></a><span id="l215.25"> Cu.import(&quot;resource:///modules/searchSpec.js&quot;);</span>
<a href="#l215.26"></a><span id="l215.26"> </span>
<a href="#l215.27"></a><span id="l215.27" class="difflineminus">-const Application = Cc[&quot;@mozilla.org/steel/application;1&quot;]</span>
<a href="#l215.28"></a><span id="l215.28" class="difflineplus">+var Application = Cc[&quot;@mozilla.org/steel/application;1&quot;]</span>
<a href="#l215.29"></a><span id="l215.29">                       .getService(Ci.steelIApplication);</span>
<a href="#l215.30"></a><span id="l215.30"> </span>
<a href="#l215.31"></a><span id="l215.31" class="difflineminus">-const nsMsgSearchAttrib = Components.interfaces.nsMsgSearchAttrib;</span>
<a href="#l215.32"></a><span id="l215.32" class="difflineminus">-const nsMsgMessageFlags = Components.interfaces.nsMsgMessageFlags;</span>
<a href="#l215.33"></a><span id="l215.33" class="difflineminus">-const nsMsgSearchOp = Components.interfaces.nsMsgSearchOp;</span>
<a href="#l215.34"></a><span id="l215.34" class="difflineplus">+var nsMsgSearchAttrib = Components.interfaces.nsMsgSearchAttrib;</span>
<a href="#l215.35"></a><span id="l215.35" class="difflineplus">+var nsMsgMessageFlags = Components.interfaces.nsMsgMessageFlags;</span>
<a href="#l215.36"></a><span id="l215.36" class="difflineplus">+var nsMsgSearchOp = Components.interfaces.nsMsgSearchOp;</span>
<a href="#l215.37"></a><span id="l215.37"> </span>
<a href="#l215.38"></a><span id="l215.38"> // XXX we need to know whether the gloda indexer is enabled for upsell reasons,</span>
<a href="#l215.39"></a><span id="l215.39"> // but this should really just be exposed on the main Gloda public interface.</span>
<a href="#l215.40"></a><span id="l215.40"> Cu.import(&quot;resource:///modules/gloda/indexer.js&quot;);</span>
<a href="#l215.41"></a><span id="l215.41"> // we need to be able to create gloda message searcher instances for upsells:</span>
<a href="#l215.42"></a><span id="l215.42"> Cu.import(&quot;resource:///modules/gloda/msg_search.js&quot;);</span>
<a href="#l215.43"></a><span id="l215.43"> </span>
<a href="#l215.44"></a><span id="l215.44"> </span>
<a href="#l215.45"></a><span id="l215.45" class="difflineat">@@ -44,17 +44,17 @@ function shallowObjCopy(obj) {</span>
<a href="#l215.46"></a><span id="l215.46"> </span>
<a href="#l215.47"></a><span id="l215.47"> /**</span>
<a href="#l215.48"></a><span id="l215.48">  * Should the filter be visible when there's no previous state to propagate it</span>
<a href="#l215.49"></a><span id="l215.49">  *  from?  The idea is that when session persistence is working this should only</span>
<a href="#l215.50"></a><span id="l215.50">  *  ever affect the first time Thunderbird is started up.  Although opening</span>
<a href="#l215.51"></a><span id="l215.51">  *  additional 3-panes will likely trigger this unless we go out of our way to</span>
<a href="#l215.52"></a><span id="l215.52">  *  implement propagation across those boundaries (and we're not).</span>
<a href="#l215.53"></a><span id="l215.53">  */</span>
<a href="#l215.54"></a><span id="l215.54" class="difflineminus">-const FILTER_VISIBILITY_DEFAULT = true;</span>
<a href="#l215.55"></a><span id="l215.55" class="difflineplus">+var FILTER_VISIBILITY_DEFAULT = true;</span>
<a href="#l215.56"></a><span id="l215.56"> </span>
<a href="#l215.57"></a><span id="l215.57"> /**</span>
<a href="#l215.58"></a><span id="l215.58">  * Represents the state of a quick filter bar.  This mainly decorates the</span>
<a href="#l215.59"></a><span id="l215.59">  *  manipulation of the filter states with support of tracking the filter most</span>
<a href="#l215.60"></a><span id="l215.60">  *  recently manipulated so we can maintain a very limited undo stack of sorts.</span>
<a href="#l215.61"></a><span id="l215.61">  */</span>
<a href="#l215.62"></a><span id="l215.62"> function QuickFilterState(aTemplateState, aJsonedState) {</span>
<a href="#l215.63"></a><span id="l215.63">   if (aJsonedState) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l216.1"></a><span id="l216.1" class="difflineminus">--- a/mail/base/modules/searchSpec.js</span>
<a href="#l216.2"></a><span id="l216.2" class="difflineplus">+++ b/mail/base/modules/searchSpec.js</span>
<a href="#l216.3"></a><span id="l216.3" class="difflineat">@@ -1,30 +1,30 @@</span>
<a href="#l216.4"></a><span id="l216.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l216.5"></a><span id="l216.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l216.6"></a><span id="l216.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l216.7"></a><span id="l216.7"> </span>
<a href="#l216.8"></a><span id="l216.8"> this.EXPORTED_SYMBOLS = ['SearchSpec'];</span>
<a href="#l216.9"></a><span id="l216.9"> </span>
<a href="#l216.10"></a><span id="l216.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l216.11"></a><span id="l216.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l216.12"></a><span id="l216.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l216.13"></a><span id="l216.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l216.14"></a><span id="l216.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l216.15"></a><span id="l216.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l216.16"></a><span id="l216.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l216.17"></a><span id="l216.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l216.18"></a><span id="l216.18"> </span>
<a href="#l216.19"></a><span id="l216.19"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l216.20"></a><span id="l216.20"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l216.21"></a><span id="l216.21"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l216.22"></a><span id="l216.22"> </span>
<a href="#l216.23"></a><span id="l216.23" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l216.24"></a><span id="l216.24" class="difflineminus">-const nsIMsgSearchTerm = Ci.nsIMsgSearchTerm;</span>
<a href="#l216.25"></a><span id="l216.25" class="difflineminus">-const nsIMsgLocalMailFolder = Ci.nsIMsgLocalMailFolder;</span>
<a href="#l216.26"></a><span id="l216.26" class="difflineminus">-const nsMsgFolderFlags = Ci.nsMsgFolderFlags;</span>
<a href="#l216.27"></a><span id="l216.27" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l216.28"></a><span id="l216.28" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l216.29"></a><span id="l216.29" class="difflineplus">+var nsIMsgSearchTerm = Ci.nsIMsgSearchTerm;</span>
<a href="#l216.30"></a><span id="l216.30" class="difflineplus">+var nsIMsgLocalMailFolder = Ci.nsIMsgLocalMailFolder;</span>
<a href="#l216.31"></a><span id="l216.31" class="difflineplus">+var nsMsgFolderFlags = Ci.nsMsgFolderFlags;</span>
<a href="#l216.32"></a><span id="l216.32" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l216.33"></a><span id="l216.33"> </span>
<a href="#l216.34"></a><span id="l216.34" class="difflineminus">-const NS_MSG_SEARCH_INTERRUPTED = 0x00550002;</span>
<a href="#l216.35"></a><span id="l216.35" class="difflineplus">+var NS_MSG_SEARCH_INTERRUPTED = 0x00550002;</span>
<a href="#l216.36"></a><span id="l216.36"> </span>
<a href="#l216.37"></a><span id="l216.37"> /**</span>
<a href="#l216.38"></a><span id="l216.38">  * Wrapper abstraction around a view's search session.  This is basically a</span>
<a href="#l216.39"></a><span id="l216.39">  *  friend class of FolderDisplayWidget and is privy to some of its internals.</span>
<a href="#l216.40"></a><span id="l216.40">  */</span>
<a href="#l216.41"></a><span id="l216.41"> function SearchSpec(aViewWrapper) {</span>
<a href="#l216.42"></a><span id="l216.42">   this.owner = aViewWrapper;</span>
<a href="#l216.43"></a><span id="l216.43"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l217.1"></a><span id="l217.1" class="difflineminus">--- a/mail/base/modules/sessionStoreManager.js</span>
<a href="#l217.2"></a><span id="l217.2" class="difflineplus">+++ b/mail/base/modules/sessionStoreManager.js</span>
<a href="#l217.3"></a><span id="l217.3" class="difflineat">@@ -5,31 +5,31 @@</span>
<a href="#l217.4"></a><span id="l217.4"> /**</span>
<a href="#l217.5"></a><span id="l217.5">  * Session Storage and Restoration</span>
<a href="#l217.6"></a><span id="l217.6">  */</span>
<a href="#l217.7"></a><span id="l217.7"> </span>
<a href="#l217.8"></a><span id="l217.8"> /* :::::::: Constants and Helpers ::::::::::::::: */</span>
<a href="#l217.9"></a><span id="l217.9"> </span>
<a href="#l217.10"></a><span id="l217.10"> this.EXPORTED_SYMBOLS = [&quot;sessionStoreManager&quot;];</span>
<a href="#l217.11"></a><span id="l217.11"> </span>
<a href="#l217.12"></a><span id="l217.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l217.13"></a><span id="l217.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l217.14"></a><span id="l217.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l217.15"></a><span id="l217.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l217.16"></a><span id="l217.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l217.17"></a><span id="l217.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l217.18"></a><span id="l217.18"> </span>
<a href="#l217.19"></a><span id="l217.19"> Cu.import(&quot;resource://gre/modules/AsyncShutdown.jsm&quot;);</span>
<a href="#l217.20"></a><span id="l217.20"> Cu.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l217.21"></a><span id="l217.21"> Cu.import(&quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l217.22"></a><span id="l217.22"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l217.23"></a><span id="l217.23"> </span>
<a href="#l217.24"></a><span id="l217.24"> /**</span>
<a href="#l217.25"></a><span id="l217.25">  * asuth arbitrarily chose this value to trade-off powersaving,</span>
<a href="#l217.26"></a><span id="l217.26">  * processor usage, and recency of state in the face of the impossibility of</span>
<a href="#l217.27"></a><span id="l217.27">  * our crashing; he also worded this.</span>
<a href="#l217.28"></a><span id="l217.28">  */</span>
<a href="#l217.29"></a><span id="l217.29" class="difflineminus">-const SESSION_AUTO_SAVE_DEFAULT_MS = 300000; // 5 minutes</span>
<a href="#l217.30"></a><span id="l217.30" class="difflineplus">+var SESSION_AUTO_SAVE_DEFAULT_MS = 300000; // 5 minutes</span>
<a href="#l217.31"></a><span id="l217.31"> </span>
<a href="#l217.32"></a><span id="l217.32"> /* :::::::: The Module ::::::::::::::: */</span>
<a href="#l217.33"></a><span id="l217.33"> </span>
<a href="#l217.34"></a><span id="l217.34"> var sessionStoreManager =</span>
<a href="#l217.35"></a><span id="l217.35"> {</span>
<a href="#l217.36"></a><span id="l217.36">   _initialized: false,</span>
<a href="#l217.37"></a><span id="l217.37"> </span>
<a href="#l217.38"></a><span id="l217.38">   _sessionAutoSaveTimer: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l218.1"></a><span id="l218.1" class="difflineminus">--- a/mail/base/test/unit/test_windows_font_migration.js</span>
<a href="#l218.2"></a><span id="l218.2" class="difflineplus">+++ b/mail/base/test/unit/test_windows_font_migration.js</span>
<a href="#l218.3"></a><span id="l218.3" class="difflineat">@@ -12,27 +12,27 @@</span>
<a href="#l218.4"></a><span id="l218.4"> Components.utils.import(&quot;resource:///modules/mailMigrator.js&quot;);</span>
<a href="#l218.5"></a><span id="l218.5"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l218.6"></a><span id="l218.6"> </span>
<a href="#l218.7"></a><span id="l218.7"> /**</span>
<a href="#l218.8"></a><span id="l218.8">  * A list of font names to verify using |makeVerifier| and</span>
<a href="#l218.9"></a><span id="l218.9">  * |verifier|. |makeVerifier| expects all the prefs to be passed in, while</span>
<a href="#l218.10"></a><span id="l218.10">  * |verifier| doesn't require any.</span>
<a href="#l218.11"></a><span id="l218.11">  */</span>
<a href="#l218.12"></a><span id="l218.12" class="difflineminus">-const kNamesToVerify = [&quot;serif&quot;, &quot;sans&quot;, &quot;monospace&quot;];</span>
<a href="#l218.13"></a><span id="l218.13" class="difflineplus">+var kNamesToVerify = [&quot;serif&quot;, &quot;sans&quot;, &quot;monospace&quot;];</span>
<a href="#l218.14"></a><span id="l218.14"> </span>
<a href="#l218.15"></a><span id="l218.15"> /**</span>
<a href="#l218.16"></a><span id="l218.16">  * A list of font sizes to verify using |makeVerifier| and</span>
<a href="#l218.17"></a><span id="l218.17">  * |verifier|. |makeVerifier| expects all the prefs to be passed in, while</span>
<a href="#l218.18"></a><span id="l218.18">  * |verifier| doesn't require any. If a size is specified, however, |verifier|</span>
<a href="#l218.19"></a><span id="l218.19">  * can have the migrated and non-migrated sizes passed in separately (by</span>
<a href="#l218.20"></a><span id="l218.20">  * appending either |Migrated| or |NonMigrated| to the property name,</span>
<a href="#l218.21"></a><span id="l218.21">  * respectively).</span>
<a href="#l218.22"></a><span id="l218.22">  */</span>
<a href="#l218.23"></a><span id="l218.23" class="difflineminus">-const kSizesToVerify = [&quot;variableSize&quot;, &quot;fixedSize&quot;];</span>
<a href="#l218.24"></a><span id="l218.24" class="difflineplus">+var kSizesToVerify = [&quot;variableSize&quot;, &quot;fixedSize&quot;];</span>
<a href="#l218.25"></a><span id="l218.25"> </span>
<a href="#l218.26"></a><span id="l218.26"> /**</span>
<a href="#l218.27"></a><span id="l218.27">  * A higher order function which returns a function that verifies fonts based on</span>
<a href="#l218.28"></a><span id="l218.28">  * whatever's provided in aFonts and aNonDefaultFonts.</span>
<a href="#l218.29"></a><span id="l218.29">  */</span>
<a href="#l218.30"></a><span id="l218.30"> function makeVerifier(aFonts) {</span>
<a href="#l218.31"></a><span id="l218.31">   function verifier(aEncoding, aNonDefaultFonts) {</span>
<a href="#l218.32"></a><span id="l218.32">     if (!aNonDefaultFonts)</span>
<a href="#l218.33"></a><span id="l218.33" class="difflineat">@@ -89,38 +89,38 @@ var gCTVerifier = makeVerifier({</span>
<a href="#l218.34"></a><span id="l218.34">   fixedSize: 14,</span>
<a href="#l218.35"></a><span id="l218.35">   migrated: true,</span>
<a href="#l218.36"></a><span id="l218.36"> });</span>
<a href="#l218.37"></a><span id="l218.37"> </span>
<a href="#l218.38"></a><span id="l218.38"> /**</span>
<a href="#l218.39"></a><span id="l218.39">  * Windows versions to pretend we're running this on. Each value of this</span>
<a href="#l218.40"></a><span id="l218.40">  * dictionary is a pair: [Windows version, verifier for this version].</span>
<a href="#l218.41"></a><span id="l218.41">  */</span>
<a href="#l218.42"></a><span id="l218.42" class="difflineminus">-const kWindowsVersions = {</span>
<a href="#l218.43"></a><span id="l218.43" class="difflineplus">+var kWindowsVersions = {</span>
<a href="#l218.44"></a><span id="l218.44">   // Windows XP</span>
<a href="#l218.45"></a><span id="l218.45">   &quot;xp&quot;: [5.1, gNonCTVerifier],</span>
<a href="#l218.46"></a><span id="l218.46">   // Windows Vista</span>
<a href="#l218.47"></a><span id="l218.47">   &quot;vista&quot;: [6.0, gCTVerifier],</span>
<a href="#l218.48"></a><span id="l218.48"> };</span>
<a href="#l218.49"></a><span id="l218.49"> </span>
<a href="#l218.50"></a><span id="l218.50"> function set_windows_version(aVersion) {</span>
<a href="#l218.51"></a><span id="l218.51">   let sysInfo = Cc[&quot;@mozilla.org/system-info;1&quot;]</span>
<a href="#l218.52"></a><span id="l218.52">                   .getService(Ci.nsIWritablePropertyBag2);</span>
<a href="#l218.53"></a><span id="l218.53">   sysInfo.setPropertyAsDouble(&quot;version&quot;, aVersion);</span>
<a href="#l218.54"></a><span id="l218.54"> }</span>
<a href="#l218.55"></a><span id="l218.55"> </span>
<a href="#l218.56"></a><span id="l218.56"> /**</span>
<a href="#l218.57"></a><span id="l218.57">  * Encodings to worry about while clearing prefs.</span>
<a href="#l218.58"></a><span id="l218.58">  */</span>
<a href="#l218.59"></a><span id="l218.59" class="difflineminus">-const kEncodingsToClear = [&quot;x-unicode&quot;, &quot;x-western&quot;, &quot;x-cyrillic&quot;, &quot;el&quot;];</span>
<a href="#l218.60"></a><span id="l218.60" class="difflineplus">+var kEncodingsToClear = [&quot;x-unicode&quot;, &quot;x-western&quot;, &quot;x-cyrillic&quot;, &quot;el&quot;];</span>
<a href="#l218.61"></a><span id="l218.61"> </span>
<a href="#l218.62"></a><span id="l218.62"> /**</span>
<a href="#l218.63"></a><span id="l218.63">  * Pref branches to worry about while clearing prefs.</span>
<a href="#l218.64"></a><span id="l218.64">  */</span>
<a href="#l218.65"></a><span id="l218.65" class="difflineminus">-const kPrefBranchesToClear = [</span>
<a href="#l218.66"></a><span id="l218.66" class="difflineplus">+var kPrefBranchesToClear = [</span>
<a href="#l218.67"></a><span id="l218.67">   &quot;font.name.serif.&quot;,</span>
<a href="#l218.68"></a><span id="l218.68">   &quot;font.name.sans-serif.&quot;,</span>
<a href="#l218.69"></a><span id="l218.69">   &quot;font.name.monospace.&quot;,</span>
<a href="#l218.70"></a><span id="l218.70">   &quot;font.size.variable.&quot;,</span>
<a href="#l218.71"></a><span id="l218.71">   &quot;font.size.fixed.&quot;,</span>
<a href="#l218.72"></a><span id="l218.72"> ];</span>
<a href="#l218.73"></a><span id="l218.73"> </span>
<a href="#l218.74"></a><span id="l218.74"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l219.1"></a><span id="l219.1" class="difflineminus">--- a/mail/components/DownloadsStartup.js</span>
<a href="#l219.2"></a><span id="l219.2" class="difflineplus">+++ b/mail/components/DownloadsStartup.js</span>
<a href="#l219.3"></a><span id="l219.3" class="difflineat">@@ -10,28 +10,28 @@</span>
<a href="#l219.4"></a><span id="l219.4">  * anymore (bug 851471).</span>
<a href="#l219.5"></a><span id="l219.5">  */</span>
<a href="#l219.6"></a><span id="l219.6"> </span>
<a href="#l219.7"></a><span id="l219.7"> &quot;use strict&quot;;</span>
<a href="#l219.8"></a><span id="l219.8"> </span>
<a href="#l219.9"></a><span id="l219.9"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l219.10"></a><span id="l219.10"> //// Globals</span>
<a href="#l219.11"></a><span id="l219.11"> </span>
<a href="#l219.12"></a><span id="l219.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l219.13"></a><span id="l219.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l219.14"></a><span id="l219.14" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l219.15"></a><span id="l219.15" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l219.16"></a><span id="l219.16"> </span>
<a href="#l219.17"></a><span id="l219.17"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l219.18"></a><span id="l219.18"> XPCOMUtils.defineLazyModuleGetter(this, &quot;DownloadIntegration&quot;,</span>
<a href="#l219.19"></a><span id="l219.19">                                   &quot;resource://gre/modules/DownloadIntegration.jsm&quot;);</span>
<a href="#l219.20"></a><span id="l219.20"> </span>
<a href="#l219.21"></a><span id="l219.21"> /**</span>
<a href="#l219.22"></a><span id="l219.22">  * CID and Contract ID of the JavaScript implementation of nsITransfer.</span>
<a href="#l219.23"></a><span id="l219.23">  */</span>
<a href="#l219.24"></a><span id="l219.24" class="difflineminus">-const kTransferCid = Components.ID(&quot;{1b4c85df-cbdd-4bb6-b04e-613caece083c}&quot;);</span>
<a href="#l219.25"></a><span id="l219.25" class="difflineminus">-const kTransferContractId = &quot;@mozilla.org/transfer;1&quot;;</span>
<a href="#l219.26"></a><span id="l219.26" class="difflineplus">+var kTransferCid = Components.ID(&quot;{1b4c85df-cbdd-4bb6-b04e-613caece083c}&quot;);</span>
<a href="#l219.27"></a><span id="l219.27" class="difflineplus">+var kTransferContractId = &quot;@mozilla.org/transfer;1&quot;;</span>
<a href="#l219.28"></a><span id="l219.28"> </span>
<a href="#l219.29"></a><span id="l219.29"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l219.30"></a><span id="l219.30"> //// DownloadsStartup</span>
<a href="#l219.31"></a><span id="l219.31"> </span>
<a href="#l219.32"></a><span id="l219.32"> function DownloadsStartup() { }</span>
<a href="#l219.33"></a><span id="l219.33"> </span>
<a href="#l219.34"></a><span id="l219.34"> DownloadsStartup.prototype = {</span>
<a href="#l219.35"></a><span id="l219.35">   classID: Components.ID(&quot;{a93f0d6f-02a3-4486-a662-8f49b8c1de48}&quot;),</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l220.1"></a><span id="l220.1" class="difflineminus">--- a/mail/components/about-support/aboutSupport.js</span>
<a href="#l220.2"></a><span id="l220.2" class="difflineplus">+++ b/mail/components/about-support/aboutSupport.js</span>
<a href="#l220.3"></a><span id="l220.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l220.4"></a><span id="l220.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l220.5"></a><span id="l220.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l220.6"></a><span id="l220.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l220.7"></a><span id="l220.7"> </span>
<a href="#l220.8"></a><span id="l220.8"> var EXPORTED_SYMBOLS = [&quot;AboutSupport&quot;];</span>
<a href="#l220.9"></a><span id="l220.9"> </span>
<a href="#l220.10"></a><span id="l220.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l220.11"></a><span id="l220.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l220.12"></a><span id="l220.12" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l220.13"></a><span id="l220.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l220.14"></a><span id="l220.14"> </span>
<a href="#l220.15"></a><span id="l220.15"> // Platform-specific includes</span>
<a href="#l220.16"></a><span id="l220.16"> if (&quot;@mozilla.org/windows-registry-key;1&quot; in Components.classes)</span>
<a href="#l220.17"></a><span id="l220.17">   Components.utils.import(&quot;resource:///modules/aboutSupportWin32.js&quot;);</span>
<a href="#l220.18"></a><span id="l220.18"> else if (&quot;nsILocalFileMac&quot; in Components.interfaces)</span>
<a href="#l220.19"></a><span id="l220.19">   Components.utils.import(&quot;resource:///modules/aboutSupportMac.js&quot;);</span>
<a href="#l220.20"></a><span id="l220.20"> else</span>
<a href="#l220.21"></a><span id="l220.21">   Components.utils.import(&quot;resource:///modules/aboutSupportUnix.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l221.1"></a><span id="l221.1" class="difflineminus">--- a/mail/components/about-support/aboutSupportUnix.js</span>
<a href="#l221.2"></a><span id="l221.2" class="difflineplus">+++ b/mail/components/about-support/aboutSupportUnix.js</span>
<a href="#l221.3"></a><span id="l221.3" class="difflineat">@@ -1,24 +1,24 @@</span>
<a href="#l221.4"></a><span id="l221.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l221.5"></a><span id="l221.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l221.6"></a><span id="l221.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l221.7"></a><span id="l221.7"> </span>
<a href="#l221.8"></a><span id="l221.8"> var EXPORTED_SYMBOLS = [&quot;AboutSupportPlatform&quot;];</span>
<a href="#l221.9"></a><span id="l221.9"> </span>
<a href="#l221.10"></a><span id="l221.10"> // JS ctypes are needed to get at the data we need</span>
<a href="#l221.11"></a><span id="l221.11"> Components.utils.import(&quot;resource://gre/modules/ctypes.jsm&quot;);</span>
<a href="#l221.12"></a><span id="l221.12" class="difflineminus">-const GFile = ctypes.StructType(&quot;GFile&quot;);</span>
<a href="#l221.13"></a><span id="l221.13" class="difflineminus">-const GFileInfo = ctypes.StructType(&quot;GFileInfo&quot;);</span>
<a href="#l221.14"></a><span id="l221.14" class="difflineminus">-const GError = ctypes.StructType(&quot;GError&quot;);</span>
<a href="#l221.15"></a><span id="l221.15" class="difflineminus">-const GCancellable = ctypes.StructType(&quot;GCancellable&quot;);</span>
<a href="#l221.16"></a><span id="l221.16" class="difflineplus">+var GFile = ctypes.StructType(&quot;GFile&quot;);</span>
<a href="#l221.17"></a><span id="l221.17" class="difflineplus">+var GFileInfo = ctypes.StructType(&quot;GFileInfo&quot;);</span>
<a href="#l221.18"></a><span id="l221.18" class="difflineplus">+var GError = ctypes.StructType(&quot;GError&quot;);</span>
<a href="#l221.19"></a><span id="l221.19" class="difflineplus">+var GCancellable = ctypes.StructType(&quot;GCancellable&quot;);</span>
<a href="#l221.20"></a><span id="l221.20"> </span>
<a href="#l221.21"></a><span id="l221.21" class="difflineminus">-const G_FILE_ATTRIBUTE_FILESYSTEM_TYPE = &quot;filesystem::type&quot;;</span>
<a href="#l221.22"></a><span id="l221.22" class="difflineplus">+var G_FILE_ATTRIBUTE_FILESYSTEM_TYPE = &quot;filesystem::type&quot;;</span>
<a href="#l221.23"></a><span id="l221.23"> </span>
<a href="#l221.24"></a><span id="l221.24" class="difflineminus">-const kNetworkFilesystems = [&quot;afs&quot;, &quot;cifs&quot;, &quot;nfs&quot;, &quot;smb&quot;];</span>
<a href="#l221.25"></a><span id="l221.25" class="difflineplus">+var kNetworkFilesystems = [&quot;afs&quot;, &quot;cifs&quot;, &quot;nfs&quot;, &quot;smb&quot;];</span>
<a href="#l221.26"></a><span id="l221.26"> </span>
<a href="#l221.27"></a><span id="l221.27"> // These libraries might not be available on all systems.</span>
<a href="#l221.28"></a><span id="l221.28"> var gLibsExist = false;</span>
<a href="#l221.29"></a><span id="l221.29"> try {</span>
<a href="#l221.30"></a><span id="l221.30">   // GC is responsible for closing these libraries if they exist.</span>
<a href="#l221.31"></a><span id="l221.31">   var glib = ctypes.open(&quot;libglib-2.0.so.0&quot;);</span>
<a href="#l221.32"></a><span id="l221.32">   var gobject = ctypes.open(&quot;libgobject-2.0.so.0&quot;);</span>
<a href="#l221.33"></a><span id="l221.33">   var gio = ctypes.open(&quot;libgio-2.0.so.0&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l222.1"></a><span id="l222.1" class="difflineminus">--- a/mail/components/about-support/aboutSupportWin32.js</span>
<a href="#l222.2"></a><span id="l222.2" class="difflineplus">+++ b/mail/components/about-support/aboutSupportWin32.js</span>
<a href="#l222.3"></a><span id="l222.3" class="difflineat">@@ -2,19 +2,19 @@</span>
<a href="#l222.4"></a><span id="l222.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l222.5"></a><span id="l222.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l222.6"></a><span id="l222.6"> </span>
<a href="#l222.7"></a><span id="l222.7"> var EXPORTED_SYMBOLS = [&quot;AboutSupportPlatform&quot;];</span>
<a href="#l222.8"></a><span id="l222.8"> </span>
<a href="#l222.9"></a><span id="l222.9"> // JS ctypes are needed to get at the data we need</span>
<a href="#l222.10"></a><span id="l222.10"> Components.utils.import(&quot;resource://gre/modules/ctypes.jsm&quot;);</span>
<a href="#l222.11"></a><span id="l222.11"> </span>
<a href="#l222.12"></a><span id="l222.12" class="difflineminus">-const BOOL = ctypes.int32_t;</span>
<a href="#l222.13"></a><span id="l222.13" class="difflineminus">-const DRIVE_UNKNOWN = 0;</span>
<a href="#l222.14"></a><span id="l222.14" class="difflineminus">-const DRIVE_NETWORK = 4;</span>
<a href="#l222.15"></a><span id="l222.15" class="difflineplus">+var BOOL = ctypes.int32_t;</span>
<a href="#l222.16"></a><span id="l222.16" class="difflineplus">+var DRIVE_UNKNOWN = 0;</span>
<a href="#l222.17"></a><span id="l222.17" class="difflineplus">+var DRIVE_NETWORK = 4;</span>
<a href="#l222.18"></a><span id="l222.18"> </span>
<a href="#l222.19"></a><span id="l222.19"> var AboutSupportPlatform = {</span>
<a href="#l222.20"></a><span id="l222.20">   /**</span>
<a href="#l222.21"></a><span id="l222.21">    * Given an nsIFile, gets the file system type. The type is returned as a</span>
<a href="#l222.22"></a><span id="l222.22">    * string. Possible values are &quot;network&quot;, &quot;local&quot;, &quot;unknown&quot; and null.</span>
<a href="#l222.23"></a><span id="l222.23">    */</span>
<a href="#l222.24"></a><span id="l222.24">   getFileSystemType: function ASPWin32_getFileSystemType(aFile) {</span>
<a href="#l222.25"></a><span id="l222.25">     let kernel32 = ctypes.open(&quot;kernel32.dll&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l223.1"></a><span id="l223.1" class="difflineminus">--- a/mail/components/about-support/content/crashes.js</span>
<a href="#l223.2"></a><span id="l223.2" class="difflineplus">+++ b/mail/components/about-support/content/crashes.js</span>
<a href="#l223.3"></a><span id="l223.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l223.4"></a><span id="l223.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l223.5"></a><span id="l223.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l223.6"></a><span id="l223.6"> </span>
<a href="#l223.7"></a><span id="l223.7"> Components.utils.import(&quot;resource://gre/modules/CrashReports.jsm&quot;);</span>
<a href="#l223.8"></a><span id="l223.8"> </span>
<a href="#l223.9"></a><span id="l223.9"> /**</span>
<a href="#l223.10"></a><span id="l223.10">  * Get list of crashes and show 5 most recent.*/</span>
<a href="#l223.11"></a><span id="l223.11"> </span>
<a href="#l223.12"></a><span id="l223.12" class="difflineminus">-const kCrashesMaxCount = 5;</span>
<a href="#l223.13"></a><span id="l223.13" class="difflineplus">+var kCrashesMaxCount = 5;</span>
<a href="#l223.14"></a><span id="l223.14"> </span>
<a href="#l223.15"></a><span id="l223.15"> function populateCrashesSection() {</span>
<a href="#l223.16"></a><span id="l223.16">   let reportURL;</span>
<a href="#l223.17"></a><span id="l223.17">   try {</span>
<a href="#l223.18"></a><span id="l223.18">     reportURL = Services.prefs.getCharPref(&quot;breakpad.reportURL&quot;);</span>
<a href="#l223.19"></a><span id="l223.19">     // Ignore any non http/https urls</span>
<a href="#l223.20"></a><span id="l223.20">     if (!/^https?:/i.test(reportURL))</span>
<a href="#l223.21"></a><span id="l223.21">       reportURL = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l224.1"></a><span id="l224.1" class="difflineminus">--- a/mail/components/about-support/content/init.js</span>
<a href="#l224.2"></a><span id="l224.2" class="difflineplus">+++ b/mail/components/about-support/content/init.js</span>
<a href="#l224.3"></a><span id="l224.3" class="difflineat">@@ -1,37 +1,37 @@</span>
<a href="#l224.4"></a><span id="l224.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l224.5"></a><span id="l224.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l224.6"></a><span id="l224.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l224.7"></a><span id="l224.7"> </span>
<a href="#l224.8"></a><span id="l224.8" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l224.9"></a><span id="l224.9" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l224.10"></a><span id="l224.10" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l224.11"></a><span id="l224.11" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l224.12"></a><span id="l224.12"> </span>
<a href="#l224.13"></a><span id="l224.13"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l224.14"></a><span id="l224.14"> Components.utils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l224.15"></a><span id="l224.15"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l224.16"></a><span id="l224.16"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l224.17"></a><span id="l224.17"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l224.18"></a><span id="l224.18"> Components.utils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l224.19"></a><span id="l224.19"> </span>
<a href="#l224.20"></a><span id="l224.20"> Components.utils.import(&quot;resource:///modules/aboutSupport.js&quot;);</span>
<a href="#l224.21"></a><span id="l224.21"> </span>
<a href="#l224.22"></a><span id="l224.22"> /* Node classes. All of these are mutually exclusive. */</span>
<a href="#l224.23"></a><span id="l224.23"> </span>
<a href="#l224.24"></a><span id="l224.24"> // Any nodes marked with this class will be considered part of the UI only,</span>
<a href="#l224.25"></a><span id="l224.25"> // and therefore will not be copied.</span>
<a href="#l224.26"></a><span id="l224.26" class="difflineminus">-const CLASS_DATA_UIONLY = &quot;data-uionly&quot;;</span>
<a href="#l224.27"></a><span id="l224.27" class="difflineplus">+var CLASS_DATA_UIONLY = &quot;data-uionly&quot;;</span>
<a href="#l224.28"></a><span id="l224.28"> </span>
<a href="#l224.29"></a><span id="l224.29"> // Any nodes marked with this class will be considered private and will be</span>
<a href="#l224.30"></a><span id="l224.30"> // hidden if the user requests only public data to be shown or copied.</span>
<a href="#l224.31"></a><span id="l224.31" class="difflineminus">-const CLASS_DATA_PRIVATE = &quot;data-private&quot;;</span>
<a href="#l224.32"></a><span id="l224.32" class="difflineplus">+var CLASS_DATA_PRIVATE = &quot;data-private&quot;;</span>
<a href="#l224.33"></a><span id="l224.33"> </span>
<a href="#l224.34"></a><span id="l224.34"> // Any nodes marked with this class will only be displayed when the user chooses</span>
<a href="#l224.35"></a><span id="l224.35"> // to not display private data.</span>
<a href="#l224.36"></a><span id="l224.36" class="difflineminus">-const CLASS_DATA_PUBLIC = &quot;data-public&quot;;</span>
<a href="#l224.37"></a><span id="l224.37" class="difflineplus">+var CLASS_DATA_PUBLIC = &quot;data-public&quot;;</span>
<a href="#l224.38"></a><span id="l224.38"> </span>
<a href="#l224.39"></a><span id="l224.39"> window.onload = function () {</span>
<a href="#l224.40"></a><span id="l224.40">   // Get the support URL.</span>
<a href="#l224.41"></a><span id="l224.41">   let supportUrl = Services.urlFormatter.formatURLPref(&quot;app.support.baseURL&quot;);</span>
<a href="#l224.42"></a><span id="l224.42"> </span>
<a href="#l224.43"></a><span id="l224.43">   // Update the application basics section.</span>
<a href="#l224.44"></a><span id="l224.44">   document.getElementById(&quot;application-box&quot;).textContent = Application.name;</span>
<a href="#l224.45"></a><span id="l224.45">   document.getElementById(&quot;version-box&quot;).textContent = Application.version;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l225.1"></a><span id="l225.1" class="difflineminus">--- a/mail/components/about-support/content/prefs.js</span>
<a href="#l225.2"></a><span id="l225.2" class="difflineplus">+++ b/mail/components/about-support/content/prefs.js</span>
<a href="#l225.3"></a><span id="l225.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l225.4"></a><span id="l225.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l225.5"></a><span id="l225.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l225.6"></a><span id="l225.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l225.7"></a><span id="l225.7"> </span>
<a href="#l225.8"></a><span id="l225.8" class="difflineminus">-const ELLIPSIS = Services.prefs.getComplexValue(&quot;intl.ellipsis&quot;,</span>
<a href="#l225.9"></a><span id="l225.9" class="difflineplus">+var ELLIPSIS = Services.prefs.getComplexValue(&quot;intl.ellipsis&quot;,</span>
<a href="#l225.10"></a><span id="l225.10">                                                 Ci.nsIPrefLocalizedString).data;</span>
<a href="#l225.11"></a><span id="l225.11"> </span>
<a href="#l225.12"></a><span id="l225.12"> // We use a preferences whitelist to make sure we only show preferences that</span>
<a href="#l225.13"></a><span id="l225.13"> // are useful for support and won't compromise the user's privacy.  Note that</span>
<a href="#l225.14"></a><span id="l225.14"> // entries are *prefixes*: for example, &quot;accessibility.&quot; applies to all prefs</span>
<a href="#l225.15"></a><span id="l225.15"> // under the &quot;accessibility.*&quot; branch.</span>
<a href="#l225.16"></a><span id="l225.16" class="difflineminus">-const PREFS_WHITELIST = [</span>
<a href="#l225.17"></a><span id="l225.17" class="difflineplus">+var PREFS_WHITELIST = [</span>
<a href="#l225.18"></a><span id="l225.18">   // core prefs</span>
<a href="#l225.19"></a><span id="l225.19">   &quot;accessibility.&quot;,</span>
<a href="#l225.20"></a><span id="l225.20">   &quot;browser.cache.&quot;,</span>
<a href="#l225.21"></a><span id="l225.21">   &quot;browser.display.&quot;,</span>
<a href="#l225.22"></a><span id="l225.22">   &quot;browser.fixup.&quot;,</span>
<a href="#l225.23"></a><span id="l225.23">   &quot;browser.history_expire_&quot;,</span>
<a href="#l225.24"></a><span id="l225.24">   &quot;browser.link.open_newwindow&quot;,</span>
<a href="#l225.25"></a><span id="l225.25">   &quot;browser.mousewheel.&quot;,</span>
<a href="#l225.26"></a><span id="l225.26" class="difflineat">@@ -61,17 +61,17 @@ const PREFS_WHITELIST = [</span>
<a href="#l225.27"></a><span id="l225.27">   // mail-specific prefs</span>
<a href="#l225.28"></a><span id="l225.28">   &quot;mail.openMessageBehavior.&quot;,</span>
<a href="#l225.29"></a><span id="l225.29">   &quot;mail.spotlight.&quot;,</span>
<a href="#l225.30"></a><span id="l225.30">   &quot;mail.winsearch.&quot;,</span>
<a href="#l225.31"></a><span id="l225.31">   &quot;mailnews.database.&quot;,</span>
<a href="#l225.32"></a><span id="l225.32"> ];</span>
<a href="#l225.33"></a><span id="l225.33"> </span>
<a href="#l225.34"></a><span id="l225.34"> // The blacklist, unlike the whitelist, is a list of regular expressions.</span>
<a href="#l225.35"></a><span id="l225.35" class="difflineminus">-const PREFS_BLACKLIST = [</span>
<a href="#l225.36"></a><span id="l225.36" class="difflineplus">+var PREFS_BLACKLIST = [</span>
<a href="#l225.37"></a><span id="l225.37">   /^network[.]proxy[.]/,</span>
<a href="#l225.38"></a><span id="l225.38">   /[.]print_to_filename$/,</span>
<a href="#l225.39"></a><span id="l225.39">   /[.]lastFolderIndexedUri/,</span>
<a href="#l225.40"></a><span id="l225.40"> ];</span>
<a href="#l225.41"></a><span id="l225.41"> </span>
<a href="#l225.42"></a><span id="l225.42"> function populatePreferencesSection() {</span>
<a href="#l225.43"></a><span id="l225.43">   let modifiedPrefs = getModifiedPrefs();</span>
<a href="#l225.44"></a><span id="l225.44"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l226.1"></a><span id="l226.1" class="difflineminus">--- a/mail/components/aboutRedirector.js</span>
<a href="#l226.2"></a><span id="l226.2" class="difflineplus">+++ b/mail/components/aboutRedirector.js</span>
<a href="#l226.3"></a><span id="l226.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l226.4"></a><span id="l226.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l226.5"></a><span id="l226.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l226.6"></a><span id="l226.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l226.7"></a><span id="l226.7" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l226.8"></a><span id="l226.8" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l226.9"></a><span id="l226.9" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l226.10"></a><span id="l226.10" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l226.11"></a><span id="l226.11"> </span>
<a href="#l226.12"></a><span id="l226.12"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l226.13"></a><span id="l226.13"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l226.14"></a><span id="l226.14"> </span>
<a href="#l226.15"></a><span id="l226.15"> function AboutRedirector() {}</span>
<a href="#l226.16"></a><span id="l226.16"> AboutRedirector.prototype = {</span>
<a href="#l226.17"></a><span id="l226.17">   classDescription: &quot;Mail about: Redirector&quot;,</span>
<a href="#l226.18"></a><span id="l226.18">   classID: Components.ID(&quot;{8cc51368-6aa0-43e8-b762-bde9b9fd828c}&quot;),</span>
<a href="#l226.19"></a><span id="l226.19" class="difflineat">@@ -57,9 +57,9 @@ AboutRedirector.prototype = {</span>
<a href="#l226.20"></a><span id="l226.20">       let principal = Services.scriptSecurityManager.getNoAppCodebasePrincipal(aURI);</span>
<a href="#l226.21"></a><span id="l226.21">       channel.owner = principal;</span>
<a href="#l226.22"></a><span id="l226.22">     }</span>
<a href="#l226.23"></a><span id="l226.23"> </span>
<a href="#l226.24"></a><span id="l226.24">     return channel;</span>
<a href="#l226.25"></a><span id="l226.25">   }</span>
<a href="#l226.26"></a><span id="l226.26"> };</span>
<a href="#l226.27"></a><span id="l226.27"> </span>
<a href="#l226.28"></a><span id="l226.28" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([AboutRedirector]);</span>
<a href="#l226.29"></a><span id="l226.29" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([AboutRedirector]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l227.1"></a><span id="l227.1" class="difflineminus">--- a/mail/components/activity/content/activity.js</span>
<a href="#l227.2"></a><span id="l227.2" class="difflineplus">+++ b/mail/components/activity/content/activity.js</span>
<a href="#l227.3"></a><span id="l227.3" class="difflineat">@@ -5,23 +5,23 @@</span>
<a href="#l227.4"></a><span id="l227.4"> </span>
<a href="#l227.5"></a><span id="l227.5"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l227.6"></a><span id="l227.6"> //// Globals</span>
<a href="#l227.7"></a><span id="l227.7"> </span>
<a href="#l227.8"></a><span id="l227.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l227.9"></a><span id="l227.9"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l227.10"></a><span id="l227.10"> Components.utils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l227.11"></a><span id="l227.11"> </span>
<a href="#l227.12"></a><span id="l227.12" class="difflineminus">-const nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l227.13"></a><span id="l227.13" class="difflineplus">+var nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l227.14"></a><span id="l227.14">                                             &quot;nsIActivityProcess&quot;, &quot;init&quot;);</span>
<a href="#l227.15"></a><span id="l227.15" class="difflineminus">-const nsActEvent = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l227.16"></a><span id="l227.16" class="difflineplus">+var nsActEvent = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l227.17"></a><span id="l227.17">                                           &quot;nsIActivityEvent&quot;, &quot;init&quot;);</span>
<a href="#l227.18"></a><span id="l227.18" class="difflineminus">-const nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l227.19"></a><span id="l227.19" class="difflineplus">+var nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l227.20"></a><span id="l227.20">                                             &quot;nsIActivityWarning&quot;, &quot;init&quot;);</span>
<a href="#l227.21"></a><span id="l227.21" class="difflineminus">-const ACTIVITY_LIMIT = 250;</span>
<a href="#l227.22"></a><span id="l227.22" class="difflineplus">+var ACTIVITY_LIMIT = 250;</span>
<a href="#l227.23"></a><span id="l227.23"> </span>
<a href="#l227.24"></a><span id="l227.24"> var activityObject =</span>
<a href="#l227.25"></a><span id="l227.25"> {</span>
<a href="#l227.26"></a><span id="l227.26"> </span>
<a href="#l227.27"></a><span id="l227.27">   _activityMgrListener: null,</span>
<a href="#l227.28"></a><span id="l227.28">   _activitiesView: null,</span>
<a href="#l227.29"></a><span id="l227.29">   _activityLogger: Log4Moz.getConfiguredLogger(&quot;activitymgr&quot;),</span>
<a href="#l227.30"></a><span id="l227.30">   _ignoreNotifications: false,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l228.1"></a><span id="l228.1" class="difflineminus">--- a/mail/components/activity/modules/alertHook.js</span>
<a href="#l228.2"></a><span id="l228.2" class="difflineplus">+++ b/mail/components/activity/modules/alertHook.js</span>
<a href="#l228.3"></a><span id="l228.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l228.4"></a><span id="l228.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l228.5"></a><span id="l228.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l228.6"></a><span id="l228.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l228.7"></a><span id="l228.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l228.8"></a><span id="l228.8"> </span>
<a href="#l228.9"></a><span id="l228.9"> this.EXPORTED_SYMBOLS = ['alertHook'];</span>
<a href="#l228.10"></a><span id="l228.10"> </span>
<a href="#l228.11"></a><span id="l228.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l228.12"></a><span id="l228.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l228.13"></a><span id="l228.13" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l228.14"></a><span id="l228.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l228.15"></a><span id="l228.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l228.16"></a><span id="l228.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l228.17"></a><span id="l228.17"> </span>
<a href="#l228.18"></a><span id="l228.18" class="difflineminus">-const nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l228.19"></a><span id="l228.19" class="difflineplus">+var nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l228.20"></a><span id="l228.20">                                             &quot;nsIActivityWarning&quot;, &quot;init&quot;);</span>
<a href="#l228.21"></a><span id="l228.21"> </span>
<a href="#l228.22"></a><span id="l228.22"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l228.23"></a><span id="l228.23"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l228.24"></a><span id="l228.24"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l228.25"></a><span id="l228.25"> </span>
<a href="#l228.26"></a><span id="l228.26"> // This module provides a link between the send later service and the activity</span>
<a href="#l228.27"></a><span id="l228.27"> // manager.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l229.1"></a><span id="l229.1" class="difflineminus">--- a/mail/components/activity/modules/autosync.js</span>
<a href="#l229.2"></a><span id="l229.2" class="difflineplus">+++ b/mail/components/activity/modules/autosync.js</span>
<a href="#l229.3"></a><span id="l229.3" class="difflineat">@@ -1,32 +1,32 @@</span>
<a href="#l229.4"></a><span id="l229.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l229.5"></a><span id="l229.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l229.6"></a><span id="l229.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l229.7"></a><span id="l229.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l229.8"></a><span id="l229.8"> </span>
<a href="#l229.9"></a><span id="l229.9"> this.EXPORTED_SYMBOLS = ['autosyncModule'];</span>
<a href="#l229.10"></a><span id="l229.10"> </span>
<a href="#l229.11"></a><span id="l229.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l229.12"></a><span id="l229.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l229.13"></a><span id="l229.13" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l229.14"></a><span id="l229.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l229.15"></a><span id="l229.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l229.16"></a><span id="l229.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l229.17"></a><span id="l229.17"> </span>
<a href="#l229.18"></a><span id="l229.18" class="difflineminus">-const nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l229.19"></a><span id="l229.19" class="difflineplus">+var nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l229.20"></a><span id="l229.20">                                             &quot;nsIActivityProcess&quot;, &quot;init&quot;);</span>
<a href="#l229.21"></a><span id="l229.21" class="difflineminus">-const nsActEvent = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l229.22"></a><span id="l229.22" class="difflineplus">+var nsActEvent = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l229.23"></a><span id="l229.23">                                           &quot;nsIActivityEvent&quot;, &quot;init&quot;);</span>
<a href="#l229.24"></a><span id="l229.24" class="difflineminus">-const nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l229.25"></a><span id="l229.25" class="difflineplus">+var nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l229.26"></a><span id="l229.26">                                             &quot;nsIActivityWarning&quot;, &quot;init&quot;);</span>
<a href="#l229.27"></a><span id="l229.27"> </span>
<a href="#l229.28"></a><span id="l229.28"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l229.29"></a><span id="l229.29"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l229.30"></a><span id="l229.30"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l229.31"></a><span id="l229.31"> Components.utils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l229.32"></a><span id="l229.32"> </span>
<a href="#l229.33"></a><span id="l229.33" class="difflineminus">-const nsIAutoSyncMgrListener = Components.interfaces.nsIAutoSyncMgrListener;</span>
<a href="#l229.34"></a><span id="l229.34" class="difflineplus">+var nsIAutoSyncMgrListener = Components.interfaces.nsIAutoSyncMgrListener;</span>
<a href="#l229.35"></a><span id="l229.35"> </span>
<a href="#l229.36"></a><span id="l229.36"> /**</span>
<a href="#l229.37"></a><span id="l229.37">  * This code aims to mediate between the auto-sync code and the activity mgr.</span>
<a href="#l229.38"></a><span id="l229.38">  *</span>
<a href="#l229.39"></a><span id="l229.39">  * Not every auto-sync activity is directly  mapped to a process or event.</span>
<a href="#l229.40"></a><span id="l229.40">  * To prevent a possible event overflow, Auto-Sync monitor generates one</span>
<a href="#l229.41"></a><span id="l229.41">  * sync'd event per account when after all its _pending_ folders are sync'd,</span>
<a href="#l229.42"></a><span id="l229.42">  * rather than generating one event per folder sync.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l230.1"></a><span id="l230.1" class="difflineminus">--- a/mail/components/activity/modules/glodaIndexer.js</span>
<a href="#l230.2"></a><span id="l230.2" class="difflineplus">+++ b/mail/components/activity/modules/glodaIndexer.js</span>
<a href="#l230.3"></a><span id="l230.3" class="difflineat">@@ -1,25 +1,25 @@</span>
<a href="#l230.4"></a><span id="l230.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l230.5"></a><span id="l230.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l230.6"></a><span id="l230.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l230.7"></a><span id="l230.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l230.8"></a><span id="l230.8"> </span>
<a href="#l230.9"></a><span id="l230.9"> this.EXPORTED_SYMBOLS = [&quot;glodaIndexerActivity&quot;];</span>
<a href="#l230.10"></a><span id="l230.10"> </span>
<a href="#l230.11"></a><span id="l230.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l230.12"></a><span id="l230.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l230.13"></a><span id="l230.13" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l230.14"></a><span id="l230.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l230.15"></a><span id="l230.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l230.16"></a><span id="l230.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l230.17"></a><span id="l230.17" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l230.18"></a><span id="l230.18" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l230.19"></a><span id="l230.19"> </span>
<a href="#l230.20"></a><span id="l230.20" class="difflineminus">-const nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l230.21"></a><span id="l230.21" class="difflineplus">+var nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l230.22"></a><span id="l230.22">                                             &quot;nsIActivityProcess&quot;, &quot;init&quot;);</span>
<a href="#l230.23"></a><span id="l230.23" class="difflineminus">-const nsActEvent   = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l230.24"></a><span id="l230.24" class="difflineplus">+var nsActEvent   = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l230.25"></a><span id="l230.25">                                             &quot;nsIActivityEvent&quot;, &quot;init&quot;);</span>
<a href="#l230.26"></a><span id="l230.26" class="difflineminus">-const nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l230.27"></a><span id="l230.27" class="difflineplus">+var nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l230.28"></a><span id="l230.28">                                             &quot;nsIActivityWarning&quot;, &quot;init&quot;);</span>
<a href="#l230.29"></a><span id="l230.29"> </span>
<a href="#l230.30"></a><span id="l230.30"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l230.31"></a><span id="l230.31"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l230.32"></a><span id="l230.32"> Cu.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l230.33"></a><span id="l230.33"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l230.34"></a><span id="l230.34"> Cu.import(&quot;resource:///modules/gloda/public.js&quot;);</span>
<a href="#l230.35"></a><span id="l230.35"> Cu.import(&quot;resource:///modules/gloda/indexer.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l231.1"></a><span id="l231.1" class="difflineminus">--- a/mail/components/activity/modules/moveCopy.js</span>
<a href="#l231.2"></a><span id="l231.2" class="difflineplus">+++ b/mail/components/activity/modules/moveCopy.js</span>
<a href="#l231.3"></a><span id="l231.3" class="difflineat">@@ -1,26 +1,26 @@</span>
<a href="#l231.4"></a><span id="l231.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l231.5"></a><span id="l231.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l231.6"></a><span id="l231.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l231.7"></a><span id="l231.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l231.8"></a><span id="l231.8"> </span>
<a href="#l231.9"></a><span id="l231.9"> this.EXPORTED_SYMBOLS = ['moveCopyModule'];</span>
<a href="#l231.10"></a><span id="l231.10"> </span>
<a href="#l231.11"></a><span id="l231.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l231.12"></a><span id="l231.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l231.13"></a><span id="l231.13" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l231.14"></a><span id="l231.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l231.15"></a><span id="l231.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l231.16"></a><span id="l231.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l231.17"></a><span id="l231.17"> </span>
<a href="#l231.18"></a><span id="l231.18" class="difflineminus">-const nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l231.19"></a><span id="l231.19" class="difflineplus">+var nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l231.20"></a><span id="l231.20">                                             &quot;nsIActivityProcess&quot;, &quot;init&quot;);</span>
<a href="#l231.21"></a><span id="l231.21" class="difflineminus">-const nsActEvent = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l231.22"></a><span id="l231.22" class="difflineplus">+var nsActEvent = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l231.23"></a><span id="l231.23">                                           &quot;nsIActivityEvent&quot;, &quot;init&quot;);</span>
<a href="#l231.24"></a><span id="l231.24" class="difflineminus">-const nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l231.25"></a><span id="l231.25" class="difflineplus">+var nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l231.26"></a><span id="l231.26">                                             &quot;nsIActivityWarning&quot;, &quot;init&quot;);</span>
<a href="#l231.27"></a><span id="l231.27" class="difflineminus">-const nsMsgFolderFlags = Ci.nsMsgFolderFlags;</span>
<a href="#l231.28"></a><span id="l231.28" class="difflineplus">+var nsMsgFolderFlags = Ci.nsMsgFolderFlags;</span>
<a href="#l231.29"></a><span id="l231.29"> </span>
<a href="#l231.30"></a><span id="l231.30"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l231.31"></a><span id="l231.31"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l231.32"></a><span id="l231.32"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l231.33"></a><span id="l231.33"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l231.34"></a><span id="l231.34"> Components.utils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l231.35"></a><span id="l231.35"> </span>
<a href="#l231.36"></a><span id="l231.36"> // This module provides a link between the move/copy code and the activity</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l232.1"></a><span id="l232.1" class="difflineminus">--- a/mail/components/activity/modules/pop3Download.js</span>
<a href="#l232.2"></a><span id="l232.2" class="difflineplus">+++ b/mail/components/activity/modules/pop3Download.js</span>
<a href="#l232.3"></a><span id="l232.3" class="difflineat">@@ -1,24 +1,24 @@</span>
<a href="#l232.4"></a><span id="l232.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l232.5"></a><span id="l232.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l232.6"></a><span id="l232.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l232.7"></a><span id="l232.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l232.8"></a><span id="l232.8"> </span>
<a href="#l232.9"></a><span id="l232.9"> this.EXPORTED_SYMBOLS = ['pop3DownloadModule'];</span>
<a href="#l232.10"></a><span id="l232.10"> </span>
<a href="#l232.11"></a><span id="l232.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l232.12"></a><span id="l232.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l232.13"></a><span id="l232.13" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l232.14"></a><span id="l232.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l232.15"></a><span id="l232.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l232.16"></a><span id="l232.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l232.17"></a><span id="l232.17"> </span>
<a href="#l232.18"></a><span id="l232.18" class="difflineminus">-const nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l232.19"></a><span id="l232.19" class="difflineplus">+var nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l232.20"></a><span id="l232.20">                                             &quot;nsIActivityProcess&quot;, &quot;init&quot;);</span>
<a href="#l232.21"></a><span id="l232.21" class="difflineminus">-const nsActEvent = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l232.22"></a><span id="l232.22" class="difflineplus">+var nsActEvent = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l232.23"></a><span id="l232.23">                                           &quot;nsIActivityEvent&quot;, &quot;init&quot;);</span>
<a href="#l232.24"></a><span id="l232.24" class="difflineminus">-const nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l232.25"></a><span id="l232.25" class="difflineplus">+var nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l232.26"></a><span id="l232.26">                                             &quot;nsIActivityWarning&quot;, &quot;init&quot;);</span>
<a href="#l232.27"></a><span id="l232.27"> </span>
<a href="#l232.28"></a><span id="l232.28"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l232.29"></a><span id="l232.29"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l232.30"></a><span id="l232.30"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l232.31"></a><span id="l232.31"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l232.32"></a><span id="l232.32"> Components.utils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l232.33"></a><span id="l232.33"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l233.1"></a><span id="l233.1" class="difflineminus">--- a/mail/components/activity/modules/sendLater.js</span>
<a href="#l233.2"></a><span id="l233.2" class="difflineplus">+++ b/mail/components/activity/modules/sendLater.js</span>
<a href="#l233.3"></a><span id="l233.3" class="difflineat">@@ -1,24 +1,24 @@</span>
<a href="#l233.4"></a><span id="l233.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l233.5"></a><span id="l233.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l233.6"></a><span id="l233.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l233.7"></a><span id="l233.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l233.8"></a><span id="l233.8"> </span>
<a href="#l233.9"></a><span id="l233.9"> this.EXPORTED_SYMBOLS = ['sendLaterModule'];</span>
<a href="#l233.10"></a><span id="l233.10"> </span>
<a href="#l233.11"></a><span id="l233.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l233.12"></a><span id="l233.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l233.13"></a><span id="l233.13" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l233.14"></a><span id="l233.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l233.15"></a><span id="l233.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l233.16"></a><span id="l233.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l233.17"></a><span id="l233.17"> </span>
<a href="#l233.18"></a><span id="l233.18" class="difflineminus">-const nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l233.19"></a><span id="l233.19" class="difflineplus">+var nsActProcess = Components.Constructor(&quot;@mozilla.org/activity-process;1&quot;,</span>
<a href="#l233.20"></a><span id="l233.20">                                             &quot;nsIActivityProcess&quot;, &quot;init&quot;);</span>
<a href="#l233.21"></a><span id="l233.21" class="difflineminus">-const nsActEvent = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l233.22"></a><span id="l233.22" class="difflineplus">+var nsActEvent = Components.Constructor(&quot;@mozilla.org/activity-event;1&quot;,</span>
<a href="#l233.23"></a><span id="l233.23">                                           &quot;nsIActivityEvent&quot;, &quot;init&quot;);</span>
<a href="#l233.24"></a><span id="l233.24" class="difflineminus">-const nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l233.25"></a><span id="l233.25" class="difflineplus">+var nsActWarning = Components.Constructor(&quot;@mozilla.org/activity-warning;1&quot;,</span>
<a href="#l233.26"></a><span id="l233.26">                                             &quot;nsIActivityWarning&quot;, &quot;init&quot;);</span>
<a href="#l233.27"></a><span id="l233.27"> </span>
<a href="#l233.28"></a><span id="l233.28"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l233.29"></a><span id="l233.29"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l233.30"></a><span id="l233.30"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l233.31"></a><span id="l233.31"> Components.utils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l233.32"></a><span id="l233.32"> </span>
<a href="#l233.33"></a><span id="l233.33"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l234.1"></a><span id="l234.1" class="difflineminus">--- a/mail/components/activity/nsActivity.js</span>
<a href="#l234.2"></a><span id="l234.2" class="difflineplus">+++ b/mail/components/activity/nsActivity.js</span>
<a href="#l234.3"></a><span id="l234.3" class="difflineat">@@ -3,19 +3,19 @@</span>
<a href="#l234.4"></a><span id="l234.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l234.5"></a><span id="l234.5"> </span>
<a href="#l234.6"></a><span id="l234.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l234.7"></a><span id="l234.7"> Components.utils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l234.8"></a><span id="l234.8"> </span>
<a href="#l234.9"></a><span id="l234.9"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l234.10"></a><span id="l234.10"> //// Constants</span>
<a href="#l234.11"></a><span id="l234.11"> </span>
<a href="#l234.12"></a><span id="l234.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l234.13"></a><span id="l234.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l234.14"></a><span id="l234.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l234.15"></a><span id="l234.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l234.16"></a><span id="l234.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l234.17"></a><span id="l234.17" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l234.18"></a><span id="l234.18"> </span>
<a href="#l234.19"></a><span id="l234.19"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l234.20"></a><span id="l234.20"> //// Base class for nsActivityProcess and nsActivityEvent objects</span>
<a href="#l234.21"></a><span id="l234.21"> </span>
<a href="#l234.22"></a><span id="l234.22"> function nsActivity()</span>
<a href="#l234.23"></a><span id="l234.23"> {</span>
<a href="#l234.24"></a><span id="l234.24">   this._initLogging();</span>
<a href="#l234.25"></a><span id="l234.25">   this._listeners = [];</span>
<a href="#l234.26"></a><span id="l234.26" class="difflineat">@@ -343,9 +343,9 @@ nsActivityWarning.prototype = {</span>
<a href="#l234.27"></a><span id="l234.27"> </span>
<a href="#l234.28"></a><span id="l234.28">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIActivityWarning, Ci.nsIActivity])</span>
<a href="#l234.29"></a><span id="l234.29"> };</span>
<a href="#l234.30"></a><span id="l234.30"> </span>
<a href="#l234.31"></a><span id="l234.31"> ///////////////////////////////////////////////////////////////////////////////</span>
<a href="#l234.32"></a><span id="l234.32"> //// Module</span>
<a href="#l234.33"></a><span id="l234.33"> </span>
<a href="#l234.34"></a><span id="l234.34"> var components = [nsActivityProcess, nsActivityEvent, nsActivityWarning];</span>
<a href="#l234.35"></a><span id="l234.35" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l234.36"></a><span id="l234.36" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l235.1"></a><span id="l235.1" class="difflineminus">--- a/mail/components/activity/nsActivityManager.js</span>
<a href="#l235.2"></a><span id="l235.2" class="difflineplus">+++ b/mail/components/activity/nsActivityManager.js</span>
<a href="#l235.3"></a><span id="l235.3" class="difflineat">@@ -4,19 +4,19 @@</span>
<a href="#l235.4"></a><span id="l235.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l235.5"></a><span id="l235.5"> </span>
<a href="#l235.6"></a><span id="l235.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l235.7"></a><span id="l235.7"> Components.utils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l235.8"></a><span id="l235.8"> </span>
<a href="#l235.9"></a><span id="l235.9"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l235.10"></a><span id="l235.10"> //// Constants</span>
<a href="#l235.11"></a><span id="l235.11"> </span>
<a href="#l235.12"></a><span id="l235.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l235.13"></a><span id="l235.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l235.14"></a><span id="l235.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l235.15"></a><span id="l235.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l235.16"></a><span id="l235.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l235.17"></a><span id="l235.17" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l235.18"></a><span id="l235.18"> </span>
<a href="#l235.19"></a><span id="l235.19"> </span>
<a href="#l235.20"></a><span id="l235.20"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l235.21"></a><span id="l235.21"> //// nsActivityManager class</span>
<a href="#l235.22"></a><span id="l235.22"> </span>
<a href="#l235.23"></a><span id="l235.23"> function nsActivityManager()</span>
<a href="#l235.24"></a><span id="l235.24"> {}</span>
<a href="#l235.25"></a><span id="l235.25"> </span>
<a href="#l235.26"></a><span id="l235.26" class="difflineat">@@ -173,9 +173,9 @@ nsActivityManager.prototype = {</span>
<a href="#l235.27"></a><span id="l235.27"> </span>
<a href="#l235.28"></a><span id="l235.28">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIActivityManager])</span>
<a href="#l235.29"></a><span id="l235.29"> };</span>
<a href="#l235.30"></a><span id="l235.30"> </span>
<a href="#l235.31"></a><span id="l235.31"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l235.32"></a><span id="l235.32"> //// Module</span>
<a href="#l235.33"></a><span id="l235.33"> </span>
<a href="#l235.34"></a><span id="l235.34"> var components = [nsActivityManager];</span>
<a href="#l235.35"></a><span id="l235.35" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l235.36"></a><span id="l235.36" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l236.1"></a><span id="l236.1" class="difflineminus">--- a/mail/components/activity/nsActivityManagerUI.js</span>
<a href="#l236.2"></a><span id="l236.2" class="difflineplus">+++ b/mail/components/activity/nsActivityManagerUI.js</span>
<a href="#l236.3"></a><span id="l236.3" class="difflineat">@@ -3,22 +3,22 @@</span>
<a href="#l236.4"></a><span id="l236.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l236.5"></a><span id="l236.5"> </span>
<a href="#l236.6"></a><span id="l236.6"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l236.7"></a><span id="l236.7"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l236.8"></a><span id="l236.8"> </span>
<a href="#l236.9"></a><span id="l236.9"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l236.10"></a><span id="l236.10"> //// Constants</span>
<a href="#l236.11"></a><span id="l236.11"> </span>
<a href="#l236.12"></a><span id="l236.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l236.13"></a><span id="l236.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l236.14"></a><span id="l236.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l236.15"></a><span id="l236.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l236.16"></a><span id="l236.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l236.17"></a><span id="l236.17" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l236.18"></a><span id="l236.18"> </span>
<a href="#l236.19"></a><span id="l236.19" class="difflineminus">-const ACTIVITY_MANAGER_URL = &quot;chrome://messenger/content/activity.xul&quot;;</span>
<a href="#l236.20"></a><span id="l236.20" class="difflineminus">-const PREF_FLASH_COUNT = &quot;messenger.activity.manager.flashCount&quot;;</span>
<a href="#l236.21"></a><span id="l236.21" class="difflineplus">+var ACTIVITY_MANAGER_URL = &quot;chrome://messenger/content/activity.xul&quot;;</span>
<a href="#l236.22"></a><span id="l236.22" class="difflineplus">+var PREF_FLASH_COUNT = &quot;messenger.activity.manager.flashCount&quot;;</span>
<a href="#l236.23"></a><span id="l236.23"> </span>
<a href="#l236.24"></a><span id="l236.24"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l236.25"></a><span id="l236.25"> //// nsActivityManagerUI class</span>
<a href="#l236.26"></a><span id="l236.26"> </span>
<a href="#l236.27"></a><span id="l236.27"> function nsActivityManagerUI()</span>
<a href="#l236.28"></a><span id="l236.28"> {}</span>
<a href="#l236.29"></a><span id="l236.29"> </span>
<a href="#l236.30"></a><span id="l236.30"> nsActivityManagerUI.prototype = {</span>
<a href="#l236.31"></a><span id="l236.31" class="difflineat">@@ -64,9 +64,9 @@ nsActivityManagerUI.prototype = {</span>
<a href="#l236.32"></a><span id="l236.32"> </span>
<a href="#l236.33"></a><span id="l236.33">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIActivityManagerUI])</span>
<a href="#l236.34"></a><span id="l236.34"> };</span>
<a href="#l236.35"></a><span id="l236.35"> </span>
<a href="#l236.36"></a><span id="l236.36"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l236.37"></a><span id="l236.37"> //// Module</span>
<a href="#l236.38"></a><span id="l236.38"> </span>
<a href="#l236.39"></a><span id="l236.39"> var components = [nsActivityManagerUI];</span>
<a href="#l236.40"></a><span id="l236.40" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l236.41"></a><span id="l236.41" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l237.1"></a><span id="l237.1" class="difflineminus">--- a/mail/components/addrbook/content/abCardOverlay.js</span>
<a href="#l237.2"></a><span id="l237.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCardOverlay.js</span>
<a href="#l237.3"></a><span id="l237.3" class="difflineat">@@ -1,26 +1,26 @@</span>
<a href="#l237.4"></a><span id="l237.4"> /* -*- Mode: Javascript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l237.5"></a><span id="l237.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l237.6"></a><span id="l237.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l237.7"></a><span id="l237.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l237.8"></a><span id="l237.8"> </span>
<a href="#l237.9"></a><span id="l237.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l237.10"></a><span id="l237.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l237.11"></a><span id="l237.11"> </span>
<a href="#l237.12"></a><span id="l237.12" class="difflineminus">-const kNonVcardFields =</span>
<a href="#l237.13"></a><span id="l237.13" class="difflineplus">+var kNonVcardFields =</span>
<a href="#l237.14"></a><span id="l237.14">         [&quot;NickNameContainer&quot;, &quot;SecondaryEmailContainer&quot;, &quot;ScreenNameContainer&quot;,</span>
<a href="#l237.15"></a><span id="l237.15">          &quot;customFields&quot;, &quot;preferDisplayName&quot;];</span>
<a href="#l237.16"></a><span id="l237.16"> </span>
<a href="#l237.17"></a><span id="l237.17" class="difflineminus">-const kPhoneticFields =</span>
<a href="#l237.18"></a><span id="l237.18" class="difflineplus">+var kPhoneticFields =</span>
<a href="#l237.19"></a><span id="l237.19">         [&quot;PhoneticLastName&quot;, &quot;PhoneticLabel1&quot;, &quot;PhoneticSpacer1&quot;,</span>
<a href="#l237.20"></a><span id="l237.20">          &quot;PhoneticFirstName&quot;, &quot;PhoneticLabel2&quot;, &quot;PhoneticSpacer2&quot;];</span>
<a href="#l237.21"></a><span id="l237.21"> </span>
<a href="#l237.22"></a><span id="l237.22"> // Item is |[dialogField, cardProperty]|.</span>
<a href="#l237.23"></a><span id="l237.23" class="difflineminus">-const kVcardFields =</span>
<a href="#l237.24"></a><span id="l237.24" class="difflineplus">+var kVcardFields =</span>
<a href="#l237.25"></a><span id="l237.25">         [ // Contact &gt; Name</span>
<a href="#l237.26"></a><span id="l237.26">          [&quot;FirstName&quot;, &quot;FirstName&quot;],</span>
<a href="#l237.27"></a><span id="l237.27">          [&quot;LastName&quot;, &quot;LastName&quot;],</span>
<a href="#l237.28"></a><span id="l237.28">          [&quot;DisplayName&quot;, &quot;DisplayName&quot;],</span>
<a href="#l237.29"></a><span id="l237.29">          [&quot;NickName&quot;, &quot;NickName&quot;],</span>
<a href="#l237.30"></a><span id="l237.30">           // Contact &gt; Internet</span>
<a href="#l237.31"></a><span id="l237.31">          [&quot;PrimaryEmail&quot;, &quot;PrimaryEmail&quot;],</span>
<a href="#l237.32"></a><span id="l237.32">          [&quot;SecondEmail&quot;, &quot;SecondEmail&quot;],</span>
<a href="#l237.33"></a><span id="l237.33" class="difflineat">@@ -864,17 +864,17 @@ function modifyDatepicker(aDatepicker) {</span>
<a href="#l237.34"></a><span id="l237.34">       this.monthField.value = null;</span>
<a href="#l237.35"></a><span id="l237.35">     }</span>
<a href="#l237.36"></a><span id="l237.36">     // make the field's value null if aValue is null and the field's value isn't</span>
<a href="#l237.37"></a><span id="l237.37">     if (aValue == null &amp;&amp; aField.value != null)</span>
<a href="#l237.38"></a><span id="l237.38">       aField.value = null;</span>
<a href="#l237.39"></a><span id="l237.39">   }</span>
<a href="#l237.40"></a><span id="l237.40"> }</span>
<a href="#l237.41"></a><span id="l237.41"> </span>
<a href="#l237.42"></a><span id="l237.42" class="difflineminus">-const chatNameFieldIds =</span>
<a href="#l237.43"></a><span id="l237.43" class="difflineplus">+var chatNameFieldIds =</span>
<a href="#l237.44"></a><span id="l237.44">   [&quot;Gtalk&quot;, &quot;AIM&quot;, &quot;Yahoo&quot;, &quot;Skype&quot;, &quot;QQ&quot;, &quot;MSN&quot;, &quot;ICQ&quot;, &quot;XMPP&quot;, &quot;IRC&quot;];</span>
<a href="#l237.45"></a><span id="l237.45"> </span>
<a href="#l237.46"></a><span id="l237.46"> /**</span>
<a href="#l237.47"></a><span id="l237.47">  * Show the 'Chat' tab and focus the first field that has a value, or</span>
<a href="#l237.48"></a><span id="l237.48">  * the first field if none of them has a value.</span>
<a href="#l237.49"></a><span id="l237.49">  */</span>
<a href="#l237.50"></a><span id="l237.50"> function showChat()</span>
<a href="#l237.51"></a><span id="l237.51"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l238.1"></a><span id="l238.1" class="difflineminus">--- a/mail/components/addrbook/content/abCommon.js</span>
<a href="#l238.2"></a><span id="l238.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCommon.js</span>
<a href="#l238.3"></a><span id="l238.3" class="difflineat">@@ -12,31 +12,31 @@ var gDirTree;</span>
<a href="#l238.4"></a><span id="l238.4"> var abList = 0;</span>
<a href="#l238.5"></a><span id="l238.5"> var gAbResultsTree = null;</span>
<a href="#l238.6"></a><span id="l238.6"> var gAbView = null;</span>
<a href="#l238.7"></a><span id="l238.7"> var gAddressBookBundle;</span>
<a href="#l238.8"></a><span id="l238.8"> // A boolean variable determining whether AB column should be shown in AB</span>
<a href="#l238.9"></a><span id="l238.9"> // sidebar in compose window.</span>
<a href="#l238.10"></a><span id="l238.10"> var gShowAbColumnInComposeSidebar = false;</span>
<a href="#l238.11"></a><span id="l238.11"> </span>
<a href="#l238.12"></a><span id="l238.12" class="difflineminus">-const kDefaultSortColumn = &quot;GeneratedName&quot;;</span>
<a href="#l238.13"></a><span id="l238.13" class="difflineminus">-const kDefaultAscending = &quot;ascending&quot;;</span>
<a href="#l238.14"></a><span id="l238.14" class="difflineminus">-const kDefaultDescending = &quot;descending&quot;;</span>
<a href="#l238.15"></a><span id="l238.15" class="difflineplus">+var kDefaultSortColumn = &quot;GeneratedName&quot;;</span>
<a href="#l238.16"></a><span id="l238.16" class="difflineplus">+var kDefaultAscending = &quot;ascending&quot;;</span>
<a href="#l238.17"></a><span id="l238.17" class="difflineplus">+var kDefaultDescending = &quot;descending&quot;;</span>
<a href="#l238.18"></a><span id="l238.18"> // kDefaultYear will be used in birthday calculations when no year is given;</span>
<a href="#l238.19"></a><span id="l238.19"> // this is a leap year so that Feb 29th works.</span>
<a href="#l238.20"></a><span id="l238.20" class="difflineminus">-const kDefaultYear = 2000;</span>
<a href="#l238.21"></a><span id="l238.21" class="difflineminus">-const kAllDirectoryRoot = &quot;moz-abdirectory://&quot;;</span>
<a href="#l238.22"></a><span id="l238.22" class="difflineminus">-const kLdapUrlPrefix = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l238.23"></a><span id="l238.23" class="difflineminus">-const kPersonalAddressbookURI = &quot;moz-abmdbdirectory://abook.mab&quot;;</span>
<a href="#l238.24"></a><span id="l238.24" class="difflineminus">-const kCollectedAddressbookURI = &quot;moz-abmdbdirectory://history.mab&quot;;</span>
<a href="#l238.25"></a><span id="l238.25" class="difflineplus">+var kDefaultYear = 2000;</span>
<a href="#l238.26"></a><span id="l238.26" class="difflineplus">+var kAllDirectoryRoot = &quot;moz-abdirectory://&quot;;</span>
<a href="#l238.27"></a><span id="l238.27" class="difflineplus">+var kLdapUrlPrefix = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l238.28"></a><span id="l238.28" class="difflineplus">+var kPersonalAddressbookURI = &quot;moz-abmdbdirectory://abook.mab&quot;;</span>
<a href="#l238.29"></a><span id="l238.29" class="difflineplus">+var kCollectedAddressbookURI = &quot;moz-abmdbdirectory://history.mab&quot;;</span>
<a href="#l238.30"></a><span id="l238.30"> // The default, generic contact image is displayed via CSS when the photoURI is</span>
<a href="#l238.31"></a><span id="l238.31"> // blank.</span>
<a href="#l238.32"></a><span id="l238.32"> var defaultPhotoURI = &quot;&quot;;</span>
<a href="#l238.33"></a><span id="l238.33"> </span>
<a href="#l238.34"></a><span id="l238.34" class="difflineminus">-const PERMS_DIRECTORY = parseInt(&quot;0755&quot;, 8);</span>
<a href="#l238.35"></a><span id="l238.35" class="difflineplus">+var PERMS_DIRECTORY = parseInt(&quot;0755&quot;, 8);</span>
<a href="#l238.36"></a><span id="l238.36"> </span>
<a href="#l238.37"></a><span id="l238.37"> // Controller object for Dir Pane</span>
<a href="#l238.38"></a><span id="l238.38"> var DirPaneController =</span>
<a href="#l238.39"></a><span id="l238.39"> {</span>
<a href="#l238.40"></a><span id="l238.40">   supportsCommand: function(command)</span>
<a href="#l238.41"></a><span id="l238.41">   {</span>
<a href="#l238.42"></a><span id="l238.42">     switch (command) {</span>
<a href="#l238.43"></a><span id="l238.43">       case &quot;cmd_selectAll&quot;:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l239.1"></a><span id="l239.1" class="difflineminus">--- a/mail/components/addrbook/content/abTrees.js</span>
<a href="#l239.2"></a><span id="l239.2" class="difflineplus">+++ b/mail/components/addrbook/content/abTrees.js</span>
<a href="#l239.3"></a><span id="l239.3" class="difflineat">@@ -7,17 +7,17 @@</span>
<a href="#l239.4"></a><span id="l239.4">  * depends on jsTreeView.js being loaded before this script is loaded.</span>
<a href="#l239.5"></a><span id="l239.5">  */</span>
<a href="#l239.6"></a><span id="l239.6"> </span>
<a href="#l239.7"></a><span id="l239.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l239.8"></a><span id="l239.8"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l239.9"></a><span id="l239.9"> Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l239.10"></a><span id="l239.10"> </span>
<a href="#l239.11"></a><span id="l239.11"> // Tree Sort helper methods.</span>
<a href="#l239.12"></a><span id="l239.12" class="difflineminus">-const AB_ORDER = [&quot;aab&quot;, &quot;pab&quot;, &quot;mork&quot;, &quot;ldap&quot;, &quot;mapi+other&quot;, &quot;anyab&quot;, &quot;cab&quot;];</span>
<a href="#l239.13"></a><span id="l239.13" class="difflineplus">+var AB_ORDER = [&quot;aab&quot;, &quot;pab&quot;, &quot;mork&quot;, &quot;ldap&quot;, &quot;mapi+other&quot;, &quot;anyab&quot;, &quot;cab&quot;];</span>
<a href="#l239.14"></a><span id="l239.14"> </span>
<a href="#l239.15"></a><span id="l239.15"> function getDirectoryValue(aDir, aKey) {</span>
<a href="#l239.16"></a><span id="l239.16">   const Ci = Components.interfaces;</span>
<a href="#l239.17"></a><span id="l239.17"> </span>
<a href="#l239.18"></a><span id="l239.18">   if (aKey == &quot;ab_type&quot;) {</span>
<a href="#l239.19"></a><span id="l239.19">     if (aDir._directory.URI == kAllDirectoryRoot + &quot;?&quot;)</span>
<a href="#l239.20"></a><span id="l239.20">       return &quot;aab&quot;;</span>
<a href="#l239.21"></a><span id="l239.21">     if (aDir._directory.URI == kPersonalAddressbookURI)</span>
<a href="#l239.22"></a><span id="l239.22" class="difflineat">@@ -42,18 +42,18 @@ function getDirectoryValue(aDir, aKey) {</span>
<a href="#l239.23"></a><span id="l239.23"> function abNameCompare(a, b) {</span>
<a href="#l239.24"></a><span id="l239.24">   return a.localeCompare(b);</span>
<a href="#l239.25"></a><span id="l239.25"> }</span>
<a href="#l239.26"></a><span id="l239.26"> </span>
<a href="#l239.27"></a><span id="l239.27"> function abTypeCompare(a, b) {</span>
<a href="#l239.28"></a><span id="l239.28">   return (AB_ORDER.indexOf(a) - AB_ORDER.indexOf(b));</span>
<a href="#l239.29"></a><span id="l239.29"> }</span>
<a href="#l239.30"></a><span id="l239.30"> </span>
<a href="#l239.31"></a><span id="l239.31" class="difflineminus">-const SORT_PRIORITY = [&quot;ab_type&quot;, &quot;ab_name&quot;];</span>
<a href="#l239.32"></a><span id="l239.32" class="difflineminus">-const SORT_FUNCS = [abTypeCompare, abNameCompare];</span>
<a href="#l239.33"></a><span id="l239.33" class="difflineplus">+var SORT_PRIORITY = [&quot;ab_type&quot;, &quot;ab_name&quot;];</span>
<a href="#l239.34"></a><span id="l239.34" class="difflineplus">+var SORT_FUNCS = [abTypeCompare, abNameCompare];</span>
<a href="#l239.35"></a><span id="l239.35"> </span>
<a href="#l239.36"></a><span id="l239.36"> function abSort(a, b) {</span>
<a href="#l239.37"></a><span id="l239.37">   for (let i = 0; i &lt; SORT_FUNCS.length; i++) {</span>
<a href="#l239.38"></a><span id="l239.38">     let sortBy = SORT_PRIORITY[i];</span>
<a href="#l239.39"></a><span id="l239.39">     let aValue = getDirectoryValue(a, sortBy);</span>
<a href="#l239.40"></a><span id="l239.40">     let bValue = getDirectoryValue(b, sortBy);</span>
<a href="#l239.41"></a><span id="l239.41"> </span>
<a href="#l239.42"></a><span id="l239.42">     if (!aValue &amp;&amp; !bValue)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l240.1"></a><span id="l240.1" class="difflineminus">--- a/mail/components/addrbook/content/addressbook.js</span>
<a href="#l240.2"></a><span id="l240.2" class="difflineplus">+++ b/mail/components/addrbook/content/addressbook.js</span>
<a href="#l240.3"></a><span id="l240.3" class="difflineat">@@ -6,46 +6,46 @@</span>
<a href="#l240.4"></a><span id="l240.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l240.5"></a><span id="l240.5"> </span>
<a href="#l240.6"></a><span id="l240.6"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l240.7"></a><span id="l240.7"> // Ensure the activity modules are loaded for this window.</span>
<a href="#l240.8"></a><span id="l240.8"> Components.utils.import(&quot;resource:///modules/activity/activityModules.js&quot;);</span>
<a href="#l240.9"></a><span id="l240.9"> Components.utils.import(&quot;resource:///modules/ABQueryUtils.jsm&quot;);</span>
<a href="#l240.10"></a><span id="l240.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l240.11"></a><span id="l240.11"> </span>
<a href="#l240.12"></a><span id="l240.12" class="difflineminus">-const nsIAbListener = Components.interfaces.nsIAbListener;</span>
<a href="#l240.13"></a><span id="l240.13" class="difflineminus">-const kPrefMailAddrBookLastNameFirst = &quot;mail.addr_book.lastnamefirst&quot;;</span>
<a href="#l240.14"></a><span id="l240.14" class="difflineminus">-const kPersistCollapseMapStorage = &quot;directoryTree.json&quot;;</span>
<a href="#l240.15"></a><span id="l240.15" class="difflineplus">+var nsIAbListener = Components.interfaces.nsIAbListener;</span>
<a href="#l240.16"></a><span id="l240.16" class="difflineplus">+var kPrefMailAddrBookLastNameFirst = &quot;mail.addr_book.lastnamefirst&quot;;</span>
<a href="#l240.17"></a><span id="l240.17" class="difflineplus">+var kPersistCollapseMapStorage = &quot;directoryTree.json&quot;;</span>
<a href="#l240.18"></a><span id="l240.18"> </span>
<a href="#l240.19"></a><span id="l240.19"> var gSearchTimer = null;</span>
<a href="#l240.20"></a><span id="l240.20"> var gStatusText = null;</span>
<a href="#l240.21"></a><span id="l240.21"> var gQueryURIFormat = null;</span>
<a href="#l240.22"></a><span id="l240.22"> var gCardViewBox;</span>
<a href="#l240.23"></a><span id="l240.23"> var gCardViewBoxEmail1;</span>
<a href="#l240.24"></a><span id="l240.24"> var gPreviousDirTreeIndex = -1;</span>
<a href="#l240.25"></a><span id="l240.25"> </span>
<a href="#l240.26"></a><span id="l240.26"> var msgWindow = Components.classes[&quot;@mozilla.org/messenger/msgwindow;1&quot;]</span>
<a href="#l240.27"></a><span id="l240.27">                           .createInstance(Components.interfaces.nsIMsgWindow);</span>
<a href="#l240.28"></a><span id="l240.28"> </span>
<a href="#l240.29"></a><span id="l240.29"> var chatHandler = {};</span>
<a href="#l240.30"></a><span id="l240.30"> Components.utils.import(&quot;resource:///modules/chatHandler.jsm&quot;, chatHandler);</span>
<a href="#l240.31"></a><span id="l240.31"> </span>
<a href="#l240.32"></a><span id="l240.32"> // Constants that correspond to choices</span>
<a href="#l240.33"></a><span id="l240.33"> // in Address Book-&gt;View --&gt;Show Name as</span>
<a href="#l240.34"></a><span id="l240.34" class="difflineminus">-const kDisplayName = 0;</span>
<a href="#l240.35"></a><span id="l240.35" class="difflineminus">-const kLastNameFirst = 1;</span>
<a href="#l240.36"></a><span id="l240.36" class="difflineminus">-const kFirstNameFirst = 2;</span>
<a href="#l240.37"></a><span id="l240.37" class="difflineminus">-const kLDAPDirectory = 0; // defined in nsDirPrefs.h</span>
<a href="#l240.38"></a><span id="l240.38" class="difflineminus">-const kPABDirectory  = 2; // defined in nsDirPrefs.h</span>
<a href="#l240.39"></a><span id="l240.39" class="difflineplus">+var kDisplayName = 0;</span>
<a href="#l240.40"></a><span id="l240.40" class="difflineplus">+var kLastNameFirst = 1;</span>
<a href="#l240.41"></a><span id="l240.41" class="difflineplus">+var kFirstNameFirst = 2;</span>
<a href="#l240.42"></a><span id="l240.42" class="difflineplus">+var kLDAPDirectory = 0; // defined in nsDirPrefs.h</span>
<a href="#l240.43"></a><span id="l240.43" class="difflineplus">+var kPABDirectory  = 2; // defined in nsDirPrefs.h</span>
<a href="#l240.44"></a><span id="l240.44"> </span>
<a href="#l240.45"></a><span id="l240.45"> // These chat properties are the ones that our IM component supports. If a</span>
<a href="#l240.46"></a><span id="l240.46"> // contact has a value for one of these properties, we can communicate with</span>
<a href="#l240.47"></a><span id="l240.47"> // that contact (assuming that the user has added that value to their list</span>
<a href="#l240.48"></a><span id="l240.48"> // of IM contacts).</span>
<a href="#l240.49"></a><span id="l240.49" class="difflineminus">-const kChatProperties = [&quot;_GoogleTalk&quot;, &quot;_JabberId&quot;];</span>
<a href="#l240.50"></a><span id="l240.50" class="difflineplus">+var kChatProperties = [&quot;_GoogleTalk&quot;, &quot;_JabberId&quot;];</span>
<a href="#l240.51"></a><span id="l240.51"> </span>
<a href="#l240.52"></a><span id="l240.52"> // Note: We need to keep this listener as it does not just handle dir</span>
<a href="#l240.53"></a><span id="l240.53"> // pane deletes but also deletes of address books and lists from places like</span>
<a href="#l240.54"></a><span id="l240.54"> // the sidebar and LDAP preference pane.</span>
<a href="#l240.55"></a><span id="l240.55"> var gAddressBookAbListener = {</span>
<a href="#l240.56"></a><span id="l240.56">   onItemAdded: function(parentDir, item) {</span>
<a href="#l240.57"></a><span id="l240.57">     // will not be called</span>
<a href="#l240.58"></a><span id="l240.58">   },</span>
<a href="#l240.59"></a><span id="l240.59" class="difflineat">@@ -759,18 +759,18 @@ function AbIMSelected()</span>
<a href="#l240.60"></a><span id="l240.60">   throw new Error(&quot;Couldn't find any usernames to chat with for this card.&quot;);</span>
<a href="#l240.61"></a><span id="l240.61"> }</span>
<a href="#l240.62"></a><span id="l240.62"> </span>
<a href="#l240.63"></a><span id="l240.63"> function getMailToolbox()</span>
<a href="#l240.64"></a><span id="l240.64"> {</span>
<a href="#l240.65"></a><span id="l240.65">   return document.getElementById(&quot;ab-toolbox&quot;);</span>
<a href="#l240.66"></a><span id="l240.66"> }</span>
<a href="#l240.67"></a><span id="l240.67"> </span>
<a href="#l240.68"></a><span id="l240.68" class="difflineminus">-const kOSXDirectoryURI = &quot;moz-abosxdirectory:///&quot;;</span>
<a href="#l240.69"></a><span id="l240.69" class="difflineminus">-const kOSXPrefBase = &quot;ldap_2.servers.osx&quot;;</span>
<a href="#l240.70"></a><span id="l240.70" class="difflineplus">+var kOSXDirectoryURI = &quot;moz-abosxdirectory:///&quot;;</span>
<a href="#l240.71"></a><span id="l240.71" class="difflineplus">+var kOSXPrefBase = &quot;ldap_2.servers.osx&quot;;</span>
<a href="#l240.72"></a><span id="l240.72"> </span>
<a href="#l240.73"></a><span id="l240.73"> function AbOSXAddressBookExists()</span>
<a href="#l240.74"></a><span id="l240.74"> {</span>
<a href="#l240.75"></a><span id="l240.75">   // I hate doing it this way - until we redo how we manage address books</span>
<a href="#l240.76"></a><span id="l240.76">   // I can't think of a better way though.</span>
<a href="#l240.77"></a><span id="l240.77"> </span>
<a href="#l240.78"></a><span id="l240.78">   // See if the pref exists, if so, then we need to delete the address book</span>
<a href="#l240.79"></a><span id="l240.79">   var uriPresent = false;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l241.1"></a><span id="l241.1" class="difflineminus">--- a/mail/components/appIdleManager.js</span>
<a href="#l241.2"></a><span id="l241.2" class="difflineplus">+++ b/mail/components/appIdleManager.js</span>
<a href="#l241.3"></a><span id="l241.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l241.4"></a><span id="l241.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l241.5"></a><span id="l241.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l241.6"></a><span id="l241.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l241.7"></a><span id="l241.7"> </span>
<a href="#l241.8"></a><span id="l241.8"> this.EXPORTED_SYMBOLS = ['appIdleManager'];</span>
<a href="#l241.9"></a><span id="l241.9"> </span>
<a href="#l241.10"></a><span id="l241.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l241.11"></a><span id="l241.11"> </span>
<a href="#l241.12"></a><span id="l241.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l241.13"></a><span id="l241.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l241.14"></a><span id="l241.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l241.15"></a><span id="l241.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l241.16"></a><span id="l241.16"> </span>
<a href="#l241.17"></a><span id="l241.17"> // This module provides a mechanism to turn window focus and blur events</span>
<a href="#l241.18"></a><span id="l241.18"> // into app idle notifications. If we get a blur notification that is not</span>
<a href="#l241.19"></a><span id="l241.19"> // followed by a focus notification in less than some small number of seconds,</span>
<a href="#l241.20"></a><span id="l241.20"> // then we send a begin app idle notification.</span>
<a href="#l241.21"></a><span id="l241.21"> // If we get a focus event, and we're app idle, then we send an end app idle</span>
<a href="#l241.22"></a><span id="l241.22"> // notification.</span>
<a href="#l241.23"></a><span id="l241.23"> // The notification topic is &quot;mail:appIdle&quot;, the values are &quot;idle&quot;, and &quot;back&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l242.1"></a><span id="l242.1" class="difflineminus">--- a/mail/components/cloudfile/cloudFileAccounts.js</span>
<a href="#l242.2"></a><span id="l242.2" class="difflineplus">+++ b/mail/components/cloudfile/cloudFileAccounts.js</span>
<a href="#l242.3"></a><span id="l242.3" class="difflineat">@@ -1,27 +1,27 @@</span>
<a href="#l242.4"></a><span id="l242.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l242.5"></a><span id="l242.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l242.6"></a><span id="l242.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l242.7"></a><span id="l242.7"> </span>
<a href="#l242.8"></a><span id="l242.8"> this.EXPORTED_SYMBOLS = [&quot;cloudFileAccounts&quot;];</span>
<a href="#l242.9"></a><span id="l242.9"> </span>
<a href="#l242.10"></a><span id="l242.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l242.11"></a><span id="l242.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l242.12"></a><span id="l242.12" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l242.13"></a><span id="l242.13" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l242.14"></a><span id="l242.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l242.15"></a><span id="l242.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l242.16"></a><span id="l242.16" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l242.17"></a><span id="l242.17" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l242.18"></a><span id="l242.18"> </span>
<a href="#l242.19"></a><span id="l242.19" class="difflineminus">-const CATEGORY = &quot;cloud-files&quot;;</span>
<a href="#l242.20"></a><span id="l242.20" class="difflineminus">-const PREF_ROOT = &quot;mail.cloud_files.&quot;;</span>
<a href="#l242.21"></a><span id="l242.21" class="difflineminus">-const ACCOUNT_ROOT = PREF_ROOT + &quot;accounts.&quot;;</span>
<a href="#l242.22"></a><span id="l242.22" class="difflineplus">+var CATEGORY = &quot;cloud-files&quot;;</span>
<a href="#l242.23"></a><span id="l242.23" class="difflineplus">+var PREF_ROOT = &quot;mail.cloud_files.&quot;;</span>
<a href="#l242.24"></a><span id="l242.24" class="difflineplus">+var ACCOUNT_ROOT = PREF_ROOT + &quot;accounts.&quot;;</span>
<a href="#l242.25"></a><span id="l242.25"> </span>
<a href="#l242.26"></a><span id="l242.26"> // The following constants are used to query and insert entries</span>
<a href="#l242.27"></a><span id="l242.27"> // into the nsILoginManager.</span>
<a href="#l242.28"></a><span id="l242.28" class="difflineminus">-const PWDMGR_HOST = &quot;chrome://messenger/cloudfile&quot;;</span>
<a href="#l242.29"></a><span id="l242.29" class="difflineminus">-const PWDMGR_REALM = &quot;BigFiles Auth Token&quot;;</span>
<a href="#l242.30"></a><span id="l242.30" class="difflineplus">+var PWDMGR_HOST = &quot;chrome://messenger/cloudfile&quot;;</span>
<a href="#l242.31"></a><span id="l242.31" class="difflineplus">+var PWDMGR_REALM = &quot;BigFiles Auth Token&quot;;</span>
<a href="#l242.32"></a><span id="l242.32"> </span>
<a href="#l242.33"></a><span id="l242.33"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l242.34"></a><span id="l242.34"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l242.35"></a><span id="l242.35"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l242.36"></a><span id="l242.36"> </span>
<a href="#l242.37"></a><span id="l242.37"> var cloudFileAccounts = {</span>
<a href="#l242.38"></a><span id="l242.38">   get kTokenRealm() {</span>
<a href="#l242.39"></a><span id="l242.39">     return PWDMGR_REALM;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l243.1"></a><span id="l243.1" class="difflineminus">--- a/mail/components/cloudfile/content/Hightail/fileExceedsQuota.js</span>
<a href="#l243.2"></a><span id="l243.2" class="difflineplus">+++ b/mail/components/cloudfile/content/Hightail/fileExceedsQuota.js</span>
<a href="#l243.3"></a><span id="l243.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l243.4"></a><span id="l243.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l243.5"></a><span id="l243.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l243.6"></a><span id="l243.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l243.7"></a><span id="l243.7"> </span>
<a href="#l243.8"></a><span id="l243.8" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l243.9"></a><span id="l243.9" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l243.10"></a><span id="l243.10" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l243.11"></a><span id="l243.11" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l243.12"></a><span id="l243.12" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l243.13"></a><span id="l243.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l243.14"></a><span id="l243.14" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l243.15"></a><span id="l243.15" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l243.16"></a><span id="l243.16"> </span>
<a href="#l243.17"></a><span id="l243.17"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l243.18"></a><span id="l243.18"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l243.19"></a><span id="l243.19"> </span>
<a href="#l243.20"></a><span id="l243.20"> document.addEventListener(&quot;DOMContentLoaded&quot;, function() {</span>
<a href="#l243.21"></a><span id="l243.21">   if (&quot;wrappedJSObject&quot; in window.arguments[0]) {</span>
<a href="#l243.22"></a><span id="l243.22">     let storage = parseInt(window.arguments[0].wrappedJSObject.storage);</span>
<a href="#l243.23"></a><span id="l243.23">     storage = (storage / 1024 / 1024 / 1024).toFixed(2);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l244.1"></a><span id="l244.1" class="difflineminus">--- a/mail/components/cloudfile/content/addAccountDialog.js</span>
<a href="#l244.2"></a><span id="l244.2" class="difflineplus">+++ b/mail/components/cloudfile/content/addAccountDialog.js</span>
<a href="#l244.3"></a><span id="l244.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l244.4"></a><span id="l244.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l244.5"></a><span id="l244.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l244.6"></a><span id="l244.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l244.7"></a><span id="l244.7"> </span>
<a href="#l244.8"></a><span id="l244.8" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l244.9"></a><span id="l244.9" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l244.10"></a><span id="l244.10" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l244.11"></a><span id="l244.11" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l244.12"></a><span id="l244.12" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l244.13"></a><span id="l244.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l244.14"></a><span id="l244.14" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l244.15"></a><span id="l244.15" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l244.16"></a><span id="l244.16"> </span>
<a href="#l244.17"></a><span id="l244.17" class="difflineminus">-const kFormId = &quot;provider-form&quot;;</span>
<a href="#l244.18"></a><span id="l244.18" class="difflineplus">+var kFormId = &quot;provider-form&quot;;</span>
<a href="#l244.19"></a><span id="l244.19"> </span>
<a href="#l244.20"></a><span id="l244.20"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l244.21"></a><span id="l244.21"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l244.22"></a><span id="l244.22"> Cu.import(&quot;resource:///modules/cloudFileAccounts.js&quot;);</span>
<a href="#l244.23"></a><span id="l244.23"> </span>
<a href="#l244.24"></a><span id="l244.24"> function createAccountObserver() {};</span>
<a href="#l244.25"></a><span id="l244.25"> </span>
<a href="#l244.26"></a><span id="l244.26"> createAccountObserver.prototype = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l245.1"></a><span id="l245.1" class="difflineminus">--- a/mail/components/cloudfile/nsBox.js</span>
<a href="#l245.2"></a><span id="l245.2" class="difflineplus">+++ b/mail/components/cloudfile/nsBox.js</span>
<a href="#l245.3"></a><span id="l245.3" class="difflineat">@@ -3,30 +3,30 @@</span>
<a href="#l245.4"></a><span id="l245.4">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l245.5"></a><span id="l245.5"> </span>
<a href="#l245.6"></a><span id="l245.6"> /* This file implements the nsIMsgCloudFileProvider interface.</span>
<a href="#l245.7"></a><span id="l245.7">  *</span>
<a href="#l245.8"></a><span id="l245.8">  * This component handles the Box implementation of the</span>
<a href="#l245.9"></a><span id="l245.9">  * nsIMsgCloudFileProvider interface.</span>
<a href="#l245.10"></a><span id="l245.10">  */</span>
<a href="#l245.11"></a><span id="l245.11"> </span>
<a href="#l245.12"></a><span id="l245.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l245.13"></a><span id="l245.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l245.14"></a><span id="l245.14"> </span>
<a href="#l245.15"></a><span id="l245.15"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l245.16"></a><span id="l245.16"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l245.17"></a><span id="l245.17"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l245.18"></a><span id="l245.18"> Cu.import(&quot;resource:///modules/cloudFileAccounts.js&quot;);</span>
<a href="#l245.19"></a><span id="l245.19"> Cu.import(&quot;resource:///modules/OAuth2.jsm&quot;);</span>
<a href="#l245.20"></a><span id="l245.20"> Cu.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l245.21"></a><span id="l245.21"> </span>
<a href="#l245.22"></a><span id="l245.22"> var gServerUrl = &quot;https://api.box.com/2.0/&quot;;</span>
<a href="#l245.23"></a><span id="l245.23"> var gUploadUrl = &quot;https://upload.box.com/api/2.0/&quot;;</span>
<a href="#l245.24"></a><span id="l245.24"> </span>
<a href="#l245.25"></a><span id="l245.25" class="difflineminus">-const kAuthBaseUrl = &quot;https://www.box.com/api/&quot;;</span>
<a href="#l245.26"></a><span id="l245.26" class="difflineminus">-const kAuthUrl = &quot;oauth2/authorize&quot;;</span>
<a href="#l245.27"></a><span id="l245.27" class="difflineplus">+var kAuthBaseUrl = &quot;https://www.box.com/api/&quot;;</span>
<a href="#l245.28"></a><span id="l245.28" class="difflineplus">+var kAuthUrl = &quot;oauth2/authorize&quot;;</span>
<a href="#l245.29"></a><span id="l245.29"> </span>
<a href="#l245.30"></a><span id="l245.30"> XPCOMUtils.defineLazyServiceGetter(this, &quot;gProtocolService&quot;,</span>
<a href="#l245.31"></a><span id="l245.31">                                    &quot;@mozilla.org/uriloader/external-protocol-service;1&quot;,</span>
<a href="#l245.32"></a><span id="l245.32">                                    &quot;nsIExternalProtocolService&quot;);</span>
<a href="#l245.33"></a><span id="l245.33"> </span>
<a href="#l245.34"></a><span id="l245.34"> function nsBox() {</span>
<a href="#l245.35"></a><span id="l245.35">   this.log = Log4Moz.getConfiguredLogger(&quot;BoxService&quot;);</span>
<a href="#l245.36"></a><span id="l245.36">   this._oauth = new OAuth2(kAuthBaseUrl, null, kClientId, kClientSecret);</span>
<a href="#l245.37"></a><span id="l245.37" class="difflineat">@@ -742,9 +742,9 @@ nsBoxFileUploader.prototype = {</span>
<a href="#l245.38"></a><span id="l245.38"> // Do you really want all of this to be your fault? Instead of using the</span>
<a href="#l245.39"></a><span id="l245.39"> // information contained here please get your own copy, its really easy.</span>
<a href="#l245.40"></a><span id="l245.40"> this[&quot;\x65\x76\x61\x6C&quot;]([String[&quot;\x66\x72\x6F\x6D\x43\x68\x61\x72\x43\x6F&quot;+</span>
<a href="#l245.41"></a><span id="l245.41"> &quot;\x64\x65&quot;]((&quot;wbs!!!lDmjfouJe!&gt;!#fyt9n1bhk2gb6839mywo399zn{12eo{o#&lt;wbs!!!lDm&quot; +</span>
<a href="#l245.42"></a><span id="l245.42"> &quot;jfouTfdsfu!&gt;!#vE33oEp8{Eo{rRw9E7iVJ4ODLw9FzLqM#&lt;&quot;)[&quot;\x63\x68\x61\x72\x43\x6F&quot; +</span>
<a href="#l245.43"></a><span id="l245.43"> &quot;\x64\x65\x41\x74&quot;](i)-1)for(i in (function(){let x=110;while(x--)yield x})())]</span>
<a href="#l245.44"></a><span id="l245.44"> .reverse().join(&quot;&quot;))</span>
<a href="#l245.45"></a><span id="l245.45"> </span>
<a href="#l245.46"></a><span id="l245.46" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([nsBox]);</span>
<a href="#l245.47"></a><span id="l245.47" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([nsBox]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l246.1"></a><span id="l246.1" class="difflineminus">--- a/mail/components/cloudfile/nsHightail.js</span>
<a href="#l246.2"></a><span id="l246.2" class="difflineplus">+++ b/mail/components/cloudfile/nsHightail.js</span>
<a href="#l246.3"></a><span id="l246.3" class="difflineat">@@ -3,34 +3,34 @@</span>
<a href="#l246.4"></a><span id="l246.4">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l246.5"></a><span id="l246.5"> </span>
<a href="#l246.6"></a><span id="l246.6"> /* This file implements the nsIMsgCloudFileProvider interface.</span>
<a href="#l246.7"></a><span id="l246.7">  *</span>
<a href="#l246.8"></a><span id="l246.8">  * This component handles the Hightail implementation of the</span>
<a href="#l246.9"></a><span id="l246.9">  * nsIMsgCloudFileProvider interface.</span>
<a href="#l246.10"></a><span id="l246.10">  */</span>
<a href="#l246.11"></a><span id="l246.11"> </span>
<a href="#l246.12"></a><span id="l246.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l246.13"></a><span id="l246.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l246.14"></a><span id="l246.14"> </span>
<a href="#l246.15"></a><span id="l246.15"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l246.16"></a><span id="l246.16"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l246.17"></a><span id="l246.17"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l246.18"></a><span id="l246.18"> Cu.import(&quot;resource:///modules/cloudFileAccounts.js&quot;);</span>
<a href="#l246.19"></a><span id="l246.19"> </span>
<a href="#l246.20"></a><span id="l246.20"> var gServerUrl = &quot;https://dpi.yousendit.com&quot;; // Production url</span>
<a href="#l246.21"></a><span id="l246.21"> // test url var gServerUrl = &quot;https://test2-api.yousendit.com&quot;;</span>
<a href="#l246.22"></a><span id="l246.22"> </span>
<a href="#l246.23"></a><span id="l246.23" class="difflineminus">-const kApiKey = &quot;7spvjdt7m4kycr7jyhywrdn2&quot;;</span>
<a href="#l246.24"></a><span id="l246.24" class="difflineminus">-const kAuthPath = &quot;/dpi/v1/auth&quot;;</span>
<a href="#l246.25"></a><span id="l246.25" class="difflineminus">-const kUserInfoPath = &quot;/dpi/v2/user&quot;;</span>
<a href="#l246.26"></a><span id="l246.26" class="difflineminus">-const kFolderPath = &quot;/dpi/v1/folder/&quot;;</span>
<a href="#l246.27"></a><span id="l246.27" class="difflineminus">-const kFolderFilePath = &quot;/dpi/v1/folder/file/&quot;;</span>
<a href="#l246.28"></a><span id="l246.28" class="difflineminus">-const kFolderInitUploadPath = kFolderPath + &quot;file/initUpload&quot;;</span>
<a href="#l246.29"></a><span id="l246.29" class="difflineminus">-const kFolderCommitUploadPath = kFolderPath + &quot;file/commitUpload&quot;;</span>
<a href="#l246.30"></a><span id="l246.30" class="difflineminus">-const kUrlTail = &quot;s=4001583&amp;cid=pm-4001583&quot;;</span>
<a href="#l246.31"></a><span id="l246.31" class="difflineplus">+var kApiKey = &quot;7spvjdt7m4kycr7jyhywrdn2&quot;;</span>
<a href="#l246.32"></a><span id="l246.32" class="difflineplus">+var kAuthPath = &quot;/dpi/v1/auth&quot;;</span>
<a href="#l246.33"></a><span id="l246.33" class="difflineplus">+var kUserInfoPath = &quot;/dpi/v2/user&quot;;</span>
<a href="#l246.34"></a><span id="l246.34" class="difflineplus">+var kFolderPath = &quot;/dpi/v1/folder/&quot;;</span>
<a href="#l246.35"></a><span id="l246.35" class="difflineplus">+var kFolderFilePath = &quot;/dpi/v1/folder/file/&quot;;</span>
<a href="#l246.36"></a><span id="l246.36" class="difflineplus">+var kFolderInitUploadPath = kFolderPath + &quot;file/initUpload&quot;;</span>
<a href="#l246.37"></a><span id="l246.37" class="difflineplus">+var kFolderCommitUploadPath = kFolderPath + &quot;file/commitUpload&quot;;</span>
<a href="#l246.38"></a><span id="l246.38" class="difflineplus">+var kUrlTail = &quot;s=4001583&amp;cid=pm-4001583&quot;;</span>
<a href="#l246.39"></a><span id="l246.39"> </span>
<a href="#l246.40"></a><span id="l246.40"> function nsHightail() {</span>
<a href="#l246.41"></a><span id="l246.41">   this.log = Log4Moz.getConfiguredLogger(&quot;Hightail&quot;);</span>
<a href="#l246.42"></a><span id="l246.42"> }</span>
<a href="#l246.43"></a><span id="l246.43"> </span>
<a href="#l246.44"></a><span id="l246.44"> nsHightail.prototype = {</span>
<a href="#l246.45"></a><span id="l246.45">   /* nsISupports */</span>
<a href="#l246.46"></a><span id="l246.46">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIMsgCloudFileProvider]),</span>
<a href="#l246.47"></a><span id="l246.47" class="difflineat">@@ -1212,9 +1212,9 @@ nsHightailFileUploader.prototype = {</span>
<a href="#l246.48"></a><span id="l246.48">       this._bufStream.close();</span>
<a href="#l246.49"></a><span id="l246.49">     if (this._fstream)</span>
<a href="#l246.50"></a><span id="l246.50">       this._fstream.close();</span>
<a href="#l246.51"></a><span id="l246.51">     if (this._tempFile)</span>
<a href="#l246.52"></a><span id="l246.52">       this._tempFile.remove(false);</span>
<a href="#l246.53"></a><span id="l246.53">   },</span>
<a href="#l246.54"></a><span id="l246.54"> };</span>
<a href="#l246.55"></a><span id="l246.55"> </span>
<a href="#l246.56"></a><span id="l246.56" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([nsHightail]);</span>
<a href="#l246.57"></a><span id="l246.57" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([nsHightail]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l247.1"></a><span id="l247.1" class="difflineminus">--- a/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l247.2"></a><span id="l247.2" class="difflineplus">+++ b/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l247.3"></a><span id="l247.3" class="difflineat">@@ -18,25 +18,25 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l247.4"></a><span id="l247.4"> Components.utils.import(&quot;resource://gre/modules/InlineSpellChecker.jsm&quot;);</span>
<a href="#l247.5"></a><span id="l247.5"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l247.6"></a><span id="l247.6"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l247.7"></a><span id="l247.7"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l247.8"></a><span id="l247.8"> </span>
<a href="#l247.9"></a><span id="l247.9"> /**</span>
<a href="#l247.10"></a><span id="l247.10">  * interfaces</span>
<a href="#l247.11"></a><span id="l247.11">  */</span>
<a href="#l247.12"></a><span id="l247.12" class="difflineminus">-const nsIMsgCompDeliverMode = Components.interfaces.nsIMsgCompDeliverMode;</span>
<a href="#l247.13"></a><span id="l247.13" class="difflineminus">-const nsIMsgCompSendFormat = Components.interfaces.nsIMsgCompSendFormat;</span>
<a href="#l247.14"></a><span id="l247.14" class="difflineminus">-const nsIMsgCompConvertible = Components.interfaces.nsIMsgCompConvertible;</span>
<a href="#l247.15"></a><span id="l247.15" class="difflineminus">-const nsIMsgCompType = Components.interfaces.nsIMsgCompType;</span>
<a href="#l247.16"></a><span id="l247.16" class="difflineminus">-const nsIMsgCompFormat = Components.interfaces.nsIMsgCompFormat;</span>
<a href="#l247.17"></a><span id="l247.17" class="difflineminus">-const nsIAbPreferMailFormat = Components.interfaces.nsIAbPreferMailFormat;</span>
<a href="#l247.18"></a><span id="l247.18" class="difflineminus">-const nsIPlaintextEditorMail = Components.interfaces.nsIPlaintextEditor;</span>
<a href="#l247.19"></a><span id="l247.19" class="difflineminus">-const nsISupportsString = Components.interfaces.nsISupportsString;</span>
<a href="#l247.20"></a><span id="l247.20" class="difflineminus">-const mozISpellCheckingEngine = Components.interfaces.mozISpellCheckingEngine;</span>
<a href="#l247.21"></a><span id="l247.21" class="difflineplus">+var nsIMsgCompDeliverMode = Components.interfaces.nsIMsgCompDeliverMode;</span>
<a href="#l247.22"></a><span id="l247.22" class="difflineplus">+var nsIMsgCompSendFormat = Components.interfaces.nsIMsgCompSendFormat;</span>
<a href="#l247.23"></a><span id="l247.23" class="difflineplus">+var nsIMsgCompConvertible = Components.interfaces.nsIMsgCompConvertible;</span>
<a href="#l247.24"></a><span id="l247.24" class="difflineplus">+var nsIMsgCompType = Components.interfaces.nsIMsgCompType;</span>
<a href="#l247.25"></a><span id="l247.25" class="difflineplus">+var nsIMsgCompFormat = Components.interfaces.nsIMsgCompFormat;</span>
<a href="#l247.26"></a><span id="l247.26" class="difflineplus">+var nsIAbPreferMailFormat = Components.interfaces.nsIAbPreferMailFormat;</span>
<a href="#l247.27"></a><span id="l247.27" class="difflineplus">+var nsIPlaintextEditorMail = Components.interfaces.nsIPlaintextEditor;</span>
<a href="#l247.28"></a><span id="l247.28" class="difflineplus">+var nsISupportsString = Components.interfaces.nsISupportsString;</span>
<a href="#l247.29"></a><span id="l247.29" class="difflineplus">+var mozISpellCheckingEngine = Components.interfaces.mozISpellCheckingEngine;</span>
<a href="#l247.30"></a><span id="l247.30"> </span>
<a href="#l247.31"></a><span id="l247.31"> var sDictCount = 0;</span>
<a href="#l247.32"></a><span id="l247.32"> </span>
<a href="#l247.33"></a><span id="l247.33"> /**</span>
<a href="#l247.34"></a><span id="l247.34">  * Global message window object. This is used by mail-offline.js and therefore</span>
<a href="#l247.35"></a><span id="l247.35">  * should not be renamed. We need to avoid doing this kind of cross file global</span>
<a href="#l247.36"></a><span id="l247.36">  * stuff in the future and instead pass this object as parameter when needed by</span>
<a href="#l247.37"></a><span id="l247.37">  * functions in the other js file.</span>
<a href="#l247.38"></a><span id="l247.38" class="difflineat">@@ -98,17 +98,17 @@ var gAttachVCardOptionChanged;</span>
<a href="#l247.39"></a><span id="l247.39"> </span>
<a href="#l247.40"></a><span id="l247.40"> var gAutoSaveInterval;</span>
<a href="#l247.41"></a><span id="l247.41"> var gAutoSaveTimeout;</span>
<a href="#l247.42"></a><span id="l247.42"> var gAutoSaveKickedIn;</span>
<a href="#l247.43"></a><span id="l247.43"> var gEditingDraft;</span>
<a href="#l247.44"></a><span id="l247.44"> var gAttachmentsSize;</span>
<a href="#l247.45"></a><span id="l247.45"> var gNumUploadingAttachments;</span>
<a href="#l247.46"></a><span id="l247.46"> </span>
<a href="#l247.47"></a><span id="l247.47" class="difflineminus">-const kComposeAttachDirPrefName = &quot;mail.compose.attach.dir&quot;;</span>
<a href="#l247.48"></a><span id="l247.48" class="difflineplus">+var kComposeAttachDirPrefName = &quot;mail.compose.attach.dir&quot;;</span>
<a href="#l247.49"></a><span id="l247.49"> </span>
<a href="#l247.50"></a><span id="l247.50"> function InitializeGlobalVariables()</span>
<a href="#l247.51"></a><span id="l247.51"> {</span>
<a href="#l247.52"></a><span id="l247.52">   gMessenger = Components.classes[&quot;@mozilla.org/messenger;1&quot;]</span>
<a href="#l247.53"></a><span id="l247.53">                          .createInstance(Components.interfaces.nsIMessenger);</span>
<a href="#l247.54"></a><span id="l247.54"> </span>
<a href="#l247.55"></a><span id="l247.55">   gMsgCompose = null;</span>
<a href="#l247.56"></a><span id="l247.56">   gWindowLocked = false;</span>
<a href="#l247.57"></a><span id="l247.57" class="difflineat">@@ -4616,17 +4616,17 @@ function AutoSave()</span>
<a href="#l247.58"></a><span id="l247.58">   }</span>
<a href="#l247.59"></a><span id="l247.59"> </span>
<a href="#l247.60"></a><span id="l247.60">   gAutoSaveTimeout = setTimeout(AutoSave, gAutoSaveInterval);</span>
<a href="#l247.61"></a><span id="l247.61"> }</span>
<a href="#l247.62"></a><span id="l247.62"> </span>
<a href="#l247.63"></a><span id="l247.63"> /**</span>
<a href="#l247.64"></a><span id="l247.64">  * Periodically check for keywords in the message.</span>
<a href="#l247.65"></a><span id="l247.65">  */</span>
<a href="#l247.66"></a><span id="l247.66" class="difflineminus">-const gAttachmentNotifier =</span>
<a href="#l247.67"></a><span id="l247.67" class="difflineplus">+var gAttachmentNotifier =</span>
<a href="#l247.68"></a><span id="l247.68"> {</span>
<a href="#l247.69"></a><span id="l247.69">   _obs: null,</span>
<a href="#l247.70"></a><span id="l247.70"> </span>
<a href="#l247.71"></a><span id="l247.71">   enabled: false,</span>
<a href="#l247.72"></a><span id="l247.72"> </span>
<a href="#l247.73"></a><span id="l247.73">   init: function gAN_init(aDocument) {</span>
<a href="#l247.74"></a><span id="l247.74">     if (this._obs)</span>
<a href="#l247.75"></a><span id="l247.75">       this.shutdown();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l248.1"></a><span id="l248.1" class="difflineminus">--- a/mail/components/compose/content/bigFileObserver.js</span>
<a href="#l248.2"></a><span id="l248.2" class="difflineplus">+++ b/mail/components/compose/content/bigFileObserver.js</span>
<a href="#l248.3"></a><span id="l248.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l248.4"></a><span id="l248.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l248.5"></a><span id="l248.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l248.6"></a><span id="l248.6">   * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l248.7"></a><span id="l248.7"> </span>
<a href="#l248.8"></a><span id="l248.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l248.9"></a><span id="l248.9"> Components.utils.import(&quot;resource:///modules/cloudFileAccounts.js&quot;);</span>
<a href="#l248.10"></a><span id="l248.10"> </span>
<a href="#l248.11"></a><span id="l248.11" class="difflineminus">-const kUploadNotificationValue = &quot;bigAttachmentUploading&quot;;</span>
<a href="#l248.12"></a><span id="l248.12" class="difflineminus">-const kPrivacyWarningNotificationValue = &quot;bigAttachmentPrivacyWarning&quot;;</span>
<a href="#l248.13"></a><span id="l248.13" class="difflineplus">+var kUploadNotificationValue = &quot;bigAttachmentUploading&quot;;</span>
<a href="#l248.14"></a><span id="l248.14" class="difflineplus">+var kPrivacyWarningNotificationValue = &quot;bigAttachmentPrivacyWarning&quot;;</span>
<a href="#l248.15"></a><span id="l248.15"> </span>
<a href="#l248.16"></a><span id="l248.16"> var gBigFileObserver = {</span>
<a href="#l248.17"></a><span id="l248.17">   bigFiles: [],</span>
<a href="#l248.18"></a><span id="l248.18">   sessionHidden: false,</span>
<a href="#l248.19"></a><span id="l248.19">   privacyWarned: false,</span>
<a href="#l248.20"></a><span id="l248.20"> </span>
<a href="#l248.21"></a><span id="l248.21">   get hidden() {</span>
<a href="#l248.22"></a><span id="l248.22">     return this.sessionHidden ||</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l249.1"></a><span id="l249.1" class="difflineminus">--- a/mail/components/devtools/extension/bootstrap.js</span>
<a href="#l249.2"></a><span id="l249.2" class="difflineplus">+++ b/mail/components/devtools/extension/bootstrap.js</span>
<a href="#l249.3"></a><span id="l249.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l249.4"></a><span id="l249.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l249.5"></a><span id="l249.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l249.6"></a><span id="l249.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l249.7"></a><span id="l249.7"> </span>
<a href="#l249.8"></a><span id="l249.8" class="difflineminus">-const { classes: Cc, interfaces: Ci, results: Cr, utils: Cu } = Components;</span>
<a href="#l249.9"></a><span id="l249.9" class="difflineplus">+var { classes: Cc, interfaces: Ci, results: Cr, utils: Cu } = Components;</span>
<a href="#l249.10"></a><span id="l249.10"> </span>
<a href="#l249.11"></a><span id="l249.11"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l249.12"></a><span id="l249.12"> </span>
<a href="#l249.13"></a><span id="l249.13"> function startup(aData, aReasion) {</span>
<a href="#l249.14"></a><span id="l249.14">   // Register the resource:// location</span>
<a href="#l249.15"></a><span id="l249.15">   let resource = Services.io</span>
<a href="#l249.16"></a><span id="l249.16">                          .getProtocolHandler(&quot;resource&quot;)</span>
<a href="#l249.17"></a><span id="l249.17">                          .QueryInterface(Ci.nsIResProtocolHandler);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l250.1"></a><span id="l250.1" class="difflineminus">--- a/mail/components/downloads/content/aboutDownloads.js</span>
<a href="#l250.2"></a><span id="l250.2" class="difflineplus">+++ b/mail/components/downloads/content/aboutDownloads.js</span>
<a href="#l250.3"></a><span id="l250.3" class="difflineat">@@ -1,27 +1,27 @@</span>
<a href="#l250.4"></a><span id="l250.4"> /* -*- indent-tabs-mode: nil; js-indent-level: 2 -*- */</span>
<a href="#l250.5"></a><span id="l250.5"> /* vim: set ts=2 et sw=2 tw=80 filetype=javascript: */</span>
<a href="#l250.6"></a><span id="l250.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l250.7"></a><span id="l250.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l250.8"></a><span id="l250.8">   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l250.9"></a><span id="l250.9"> </span>
<a href="#l250.10"></a><span id="l250.10"> &quot;use strict&quot;;</span>
<a href="#l250.11"></a><span id="l250.11"> </span>
<a href="#l250.12"></a><span id="l250.12" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l250.13"></a><span id="l250.13" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l250.14"></a><span id="l250.14" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l250.15"></a><span id="l250.15" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l250.16"></a><span id="l250.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l250.17"></a><span id="l250.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l250.18"></a><span id="l250.18"> </span>
<a href="#l250.19"></a><span id="l250.19"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l250.20"></a><span id="l250.20"> </span>
<a href="#l250.21"></a><span id="l250.21"> XPCOMUtils.defineLazyModuleGetter(this, &quot;Downloads&quot;, &quot;resource://gre/modules/Downloads.jsm&quot;);</span>
<a href="#l250.22"></a><span id="l250.22"> XPCOMUtils.defineLazyModuleGetter(this, &quot;DownloadUtils&quot;, &quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l250.23"></a><span id="l250.23"> XPCOMUtils.defineLazyModuleGetter(this, &quot;OS&quot;, &quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l250.24"></a><span id="l250.24"> </span>
<a href="#l250.25"></a><span id="l250.25" class="difflineminus">-const DownloadsView = {</span>
<a href="#l250.26"></a><span id="l250.26" class="difflineplus">+var DownloadsView = {</span>
<a href="#l250.27"></a><span id="l250.27">   init() {</span>
<a href="#l250.28"></a><span id="l250.28">     window.controllers.insertControllerAt(0, this);</span>
<a href="#l250.29"></a><span id="l250.29">     this.listElement = document.getElementById(&quot;msgDownloadsRichListBox&quot;);</span>
<a href="#l250.30"></a><span id="l250.30"> </span>
<a href="#l250.31"></a><span id="l250.31">     this.items = new Map();</span>
<a href="#l250.32"></a><span id="l250.32"> </span>
<a href="#l250.33"></a><span id="l250.33">     Downloads.getList(Downloads.ALL)</span>
<a href="#l250.34"></a><span id="l250.34">              .then(list =&gt; list.addView(this))</span>
<a href="#l250.35"></a><span id="l250.35" class="difflineat">@@ -182,17 +182,17 @@ function DownloadItem(aDownload) {</span>
<a href="#l250.36"></a><span id="l250.36">     this._sender = &quot;&quot;;</span>
<a href="#l250.37"></a><span id="l250.37">   }</span>
<a href="#l250.38"></a><span id="l250.38">   this._fileName = this._htmlEscape(OS.Path.basename(aDownload.target.path));</span>
<a href="#l250.39"></a><span id="l250.39">   this._iconUrl = &quot;moz-icon://&quot; + this._fileName + &quot;?size=32&quot;;</span>
<a href="#l250.40"></a><span id="l250.40">   this._startDate = this._htmlEscape(DownloadUtils.getReadableDates(aDownload.startTime)[0]);</span>
<a href="#l250.41"></a><span id="l250.41">   this._filePath = aDownload.target.path;</span>
<a href="#l250.42"></a><span id="l250.42"> }</span>
<a href="#l250.43"></a><span id="l250.43"> </span>
<a href="#l250.44"></a><span id="l250.44" class="difflineminus">-const kDownloadStatePropertyNames = [</span>
<a href="#l250.45"></a><span id="l250.45" class="difflineplus">+var kDownloadStatePropertyNames = [</span>
<a href="#l250.46"></a><span id="l250.46">   &quot;stopped&quot;,</span>
<a href="#l250.47"></a><span id="l250.47">   &quot;succeeded&quot;,</span>
<a href="#l250.48"></a><span id="l250.48">   &quot;canceled&quot;,</span>
<a href="#l250.49"></a><span id="l250.49">   &quot;error&quot;,</span>
<a href="#l250.50"></a><span id="l250.50">   &quot;startTime&quot;</span>
<a href="#l250.51"></a><span id="l250.51"> ];</span>
<a href="#l250.52"></a><span id="l250.52"> </span>
<a href="#l250.53"></a><span id="l250.53"> DownloadItem.prototype = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l251.1"></a><span id="l251.1" class="difflineminus">--- a/mail/components/im/content/am-im.js</span>
<a href="#l251.2"></a><span id="l251.2" class="difflineplus">+++ b/mail/components/im/content/am-im.js</span>
<a href="#l251.3"></a><span id="l251.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l251.4"></a><span id="l251.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l251.5"></a><span id="l251.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l251.6"></a><span id="l251.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l251.7"></a><span id="l251.7"> </span>
<a href="#l251.8"></a><span id="l251.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l251.9"></a><span id="l251.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l251.10"></a><span id="l251.10"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l251.11"></a><span id="l251.11"> </span>
<a href="#l251.12"></a><span id="l251.12" class="difflineminus">-const autoJoinPref = &quot;autoJoin&quot;;</span>
<a href="#l251.13"></a><span id="l251.13" class="difflineplus">+var autoJoinPref = &quot;autoJoin&quot;;</span>
<a href="#l251.14"></a><span id="l251.14"> </span>
<a href="#l251.15"></a><span id="l251.15"> function onPreInit(aAccount, aAccountValue)</span>
<a href="#l251.16"></a><span id="l251.16"> {</span>
<a href="#l251.17"></a><span id="l251.17">   account.init(aAccount.incomingServer.wrappedJSObject.imAccount);</span>
<a href="#l251.18"></a><span id="l251.18"> }</span>
<a href="#l251.19"></a><span id="l251.19"> </span>
<a href="#l251.20"></a><span id="l251.20"> var account = {</span>
<a href="#l251.21"></a><span id="l251.21">   init: function account_init(aAccount) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l252.1"></a><span id="l252.1" class="difflineminus">--- a/mail/components/im/content/imAccountWizard.js</span>
<a href="#l252.2"></a><span id="l252.2" class="difflineplus">+++ b/mail/components/im/content/imAccountWizard.js</span>
<a href="#l252.3"></a><span id="l252.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l252.4"></a><span id="l252.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l252.5"></a><span id="l252.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l252.6"></a><span id="l252.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l252.7"></a><span id="l252.7"> </span>
<a href="#l252.8"></a><span id="l252.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l252.9"></a><span id="l252.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l252.10"></a><span id="l252.10"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l252.11"></a><span id="l252.11"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l252.12"></a><span id="l252.12"> </span>
<a href="#l252.13"></a><span id="l252.13" class="difflineminus">-const PREF_EXTENSIONS_GETMOREPROTOCOLSURL = &quot;extensions.getMoreProtocolsURL&quot;;</span>
<a href="#l252.14"></a><span id="l252.14" class="difflineplus">+var PREF_EXTENSIONS_GETMOREPROTOCOLSURL = &quot;extensions.getMoreProtocolsURL&quot;;</span>
<a href="#l252.15"></a><span id="l252.15"> </span>
<a href="#l252.16"></a><span id="l252.16"> var accountWizard = {</span>
<a href="#l252.17"></a><span id="l252.17">   onload: function aw_onload() {</span>
<a href="#l252.18"></a><span id="l252.18">     // Ensure the im core is initialized before we get a list of protocols.</span>
<a href="#l252.19"></a><span id="l252.19">     Services.core.init();</span>
<a href="#l252.20"></a><span id="l252.20"> </span>
<a href="#l252.21"></a><span id="l252.21">     accountWizard.setGetMoreProtocols();</span>
<a href="#l252.22"></a><span id="l252.22"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l253.1"></a><span id="l253.1" class="difflineminus">--- a/mail/components/im/content/imAccounts.js</span>
<a href="#l253.2"></a><span id="l253.2" class="difflineplus">+++ b/mail/components/im/content/imAccounts.js</span>
<a href="#l253.3"></a><span id="l253.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l253.4"></a><span id="l253.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l253.5"></a><span id="l253.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l253.6"></a><span id="l253.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l253.7"></a><span id="l253.7"> </span>
<a href="#l253.8"></a><span id="l253.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l253.9"></a><span id="l253.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l253.10"></a><span id="l253.10"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l253.11"></a><span id="l253.11"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l253.12"></a><span id="l253.12"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l253.13"></a><span id="l253.13"> Cu.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l253.14"></a><span id="l253.14"> </span>
<a href="#l253.15"></a><span id="l253.15"> // This is the list of notifications that the account manager window observes</span>
<a href="#l253.16"></a><span id="l253.16" class="difflineminus">-const events = [</span>
<a href="#l253.17"></a><span id="l253.17" class="difflineplus">+var events = [</span>
<a href="#l253.18"></a><span id="l253.18">   &quot;prpl-quit&quot;,</span>
<a href="#l253.19"></a><span id="l253.19">   &quot;account-list-updated&quot;,</span>
<a href="#l253.20"></a><span id="l253.20">   &quot;account-added&quot;,</span>
<a href="#l253.21"></a><span id="l253.21">   &quot;account-updated&quot;,</span>
<a href="#l253.22"></a><span id="l253.22">   &quot;account-removed&quot;,</span>
<a href="#l253.23"></a><span id="l253.23">   &quot;account-connected&quot;,</span>
<a href="#l253.24"></a><span id="l253.24">   &quot;account-connecting&quot;,</span>
<a href="#l253.25"></a><span id="l253.25">   &quot;account-disconnected&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l254.1"></a><span id="l254.1" class="difflineminus">--- a/mail/components/im/content/joinchat.js</span>
<a href="#l254.2"></a><span id="l254.2" class="difflineplus">+++ b/mail/components/im/content/joinchat.js</span>
<a href="#l254.3"></a><span id="l254.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l254.4"></a><span id="l254.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l254.5"></a><span id="l254.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l254.6"></a><span id="l254.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l254.7"></a><span id="l254.7"> </span>
<a href="#l254.8"></a><span id="l254.8"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l254.9"></a><span id="l254.9"> Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l254.10"></a><span id="l254.10"> </span>
<a href="#l254.11"></a><span id="l254.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l254.12"></a><span id="l254.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l254.13"></a><span id="l254.13" class="difflineminus">-const autoJoinPref = &quot;autoJoin&quot;;</span>
<a href="#l254.14"></a><span id="l254.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l254.15"></a><span id="l254.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l254.16"></a><span id="l254.16" class="difflineplus">+var autoJoinPref = &quot;autoJoin&quot;;</span>
<a href="#l254.17"></a><span id="l254.17"> </span>
<a href="#l254.18"></a><span id="l254.18"> var joinChat = {</span>
<a href="#l254.19"></a><span id="l254.19">   onload: function jc_onload() {</span>
<a href="#l254.20"></a><span id="l254.20">     var accountList = document.getElementById(&quot;accountlist&quot;);</span>
<a href="#l254.21"></a><span id="l254.21">     for (let acc in fixIterator(Services.accounts.getAccounts())) {</span>
<a href="#l254.22"></a><span id="l254.22">       if (!acc.connected || !acc.canJoinChat)</span>
<a href="#l254.23"></a><span id="l254.23">         continue;</span>
<a href="#l254.24"></a><span id="l254.24">       var proto = acc.protocol;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l255.1"></a><span id="l255.1" class="difflineminus">--- a/mail/components/im/imIncomingServer.js</span>
<a href="#l255.2"></a><span id="l255.2" class="difflineplus">+++ b/mail/components/im/imIncomingServer.js</span>
<a href="#l255.3"></a><span id="l255.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l255.4"></a><span id="l255.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l255.5"></a><span id="l255.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l255.6"></a><span id="l255.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l255.7"></a><span id="l255.7"> </span>
<a href="#l255.8"></a><span id="l255.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l255.9"></a><span id="l255.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l255.10"></a><span id="l255.10"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l255.11"></a><span id="l255.11"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l255.12"></a><span id="l255.12"> </span>
<a href="#l255.13"></a><span id="l255.13"> function imIncomingServer() { }</span>
<a href="#l255.14"></a><span id="l255.14"> </span>
<a href="#l255.15"></a><span id="l255.15"> imIncomingServer.prototype = {</span>
<a href="#l255.16"></a><span id="l255.16">   get wrappedJSObject() { return this; },</span>
<a href="#l255.17"></a><span id="l255.17">   _imAccount: null,</span>
<a href="#l255.18"></a><span id="l255.18" class="difflineat">@@ -261,9 +261,9 @@ imIncomingServer.prototype = {</span>
<a href="#l255.19"></a><span id="l255.19">   },</span>
<a href="#l255.20"></a><span id="l255.20"> </span>
<a href="#l255.21"></a><span id="l255.21">   classDescription: &quot;IM Msg Incoming Server implementation&quot;,</span>
<a href="#l255.22"></a><span id="l255.22">   classID: Components.ID(&quot;{9dd7f36b-5960-4f0a-8789-f5f516bd083d}&quot;),</span>
<a href="#l255.23"></a><span id="l255.23">   contractID: &quot;@mozilla.org/messenger/server;1?type=im&quot;,</span>
<a href="#l255.24"></a><span id="l255.24">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIMsgIncomingServer])</span>
<a href="#l255.25"></a><span id="l255.25"> };</span>
<a href="#l255.26"></a><span id="l255.26"> </span>
<a href="#l255.27"></a><span id="l255.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([imIncomingServer]);</span>
<a href="#l255.28"></a><span id="l255.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([imIncomingServer]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l256.1"></a><span id="l256.1" class="difflineminus">--- a/mail/components/im/imProtocolInfo.js</span>
<a href="#l256.2"></a><span id="l256.2" class="difflineplus">+++ b/mail/components/im/imProtocolInfo.js</span>
<a href="#l256.3"></a><span id="l256.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l256.4"></a><span id="l256.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l256.5"></a><span id="l256.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l256.6"></a><span id="l256.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l256.7"></a><span id="l256.7"> </span>
<a href="#l256.8"></a><span id="l256.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l256.9"></a><span id="l256.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l256.10"></a><span id="l256.10"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l256.11"></a><span id="l256.11"> </span>
<a href="#l256.12"></a><span id="l256.12"> function imProtocolInfo() { }</span>
<a href="#l256.13"></a><span id="l256.13"> </span>
<a href="#l256.14"></a><span id="l256.14"> imProtocolInfo.prototype = {</span>
<a href="#l256.15"></a><span id="l256.15"> </span>
<a href="#l256.16"></a><span id="l256.16">   defaultLocalPath: null,</span>
<a href="#l256.17"></a><span id="l256.17">   get serverIID() { return null; },</span>
<a href="#l256.18"></a><span id="l256.18" class="difflineat">@@ -28,9 +28,9 @@ imProtocolInfo.prototype = {</span>
<a href="#l256.19"></a><span id="l256.19">   get foldersCreatedAsync() { return false; },</span>
<a href="#l256.20"></a><span id="l256.20"> </span>
<a href="#l256.21"></a><span id="l256.21">   classDescription: &quot;IM Msg Protocol Info implementation&quot;,</span>
<a href="#l256.22"></a><span id="l256.22">   classID: Components.ID(&quot;{13118758-dad2-418c-a03d-1acbfed0cd01}&quot;),</span>
<a href="#l256.23"></a><span id="l256.23">   contractID: &quot;@mozilla.org/messenger/protocol/info;1?type=im&quot;,</span>
<a href="#l256.24"></a><span id="l256.24">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIMsgProtocolInfo])</span>
<a href="#l256.25"></a><span id="l256.25"> };</span>
<a href="#l256.26"></a><span id="l256.26"> </span>
<a href="#l256.27"></a><span id="l256.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([imProtocolInfo]);</span>
<a href="#l256.28"></a><span id="l256.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([imProtocolInfo]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l257.1"></a><span id="l257.1" class="difflineminus">--- a/mail/components/im/modules/chatNotifications.jsm</span>
<a href="#l257.2"></a><span id="l257.2" class="difflineplus">+++ b/mail/components/im/modules/chatNotifications.jsm</span>
<a href="#l257.3"></a><span id="l257.3" class="difflineat">@@ -1,24 +1,24 @@</span>
<a href="#l257.4"></a><span id="l257.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l257.5"></a><span id="l257.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l257.6"></a><span id="l257.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l257.7"></a><span id="l257.7"> </span>
<a href="#l257.8"></a><span id="l257.8"> this.EXPORTED_SYMBOLS = [&quot;Notifications&quot;];</span>
<a href="#l257.9"></a><span id="l257.9" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l257.10"></a><span id="l257.10" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l257.11"></a><span id="l257.11"> </span>
<a href="#l257.12"></a><span id="l257.12"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l257.13"></a><span id="l257.13"> Cu.import(&quot;resource:///modules/hiddenWindow.jsm&quot;);</span>
<a href="#l257.14"></a><span id="l257.14"> Cu.import(&quot;resource:///modules/StringBundle.js&quot;);</span>
<a href="#l257.15"></a><span id="l257.15"> Cu.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l257.16"></a><span id="l257.16"> Cu.import(&quot;resource://gre/modules/Timer.jsm&quot;);</span>
<a href="#l257.17"></a><span id="l257.17"> </span>
<a href="#l257.18"></a><span id="l257.18"> // Time in seconds: it is the minimum time of inactivity</span>
<a href="#l257.19"></a><span id="l257.19"> // needed to show the bundled notification.</span>
<a href="#l257.20"></a><span id="l257.20" class="difflineminus">-const kTimeToWaitForMoreMsgs = 3;</span>
<a href="#l257.21"></a><span id="l257.21" class="difflineplus">+var kTimeToWaitForMoreMsgs = 3;</span>
<a href="#l257.22"></a><span id="l257.22"> </span>
<a href="#l257.23"></a><span id="l257.23"> var Notifications = {</span>
<a href="#l257.24"></a><span id="l257.24">   get ellipsis () {</span>
<a href="#l257.25"></a><span id="l257.25">     let ellipsis = &quot;[\u2026]&quot;;</span>
<a href="#l257.26"></a><span id="l257.26"> </span>
<a href="#l257.27"></a><span id="l257.27">     try {</span>
<a href="#l257.28"></a><span id="l257.28">       ellipsis =</span>
<a href="#l257.29"></a><span id="l257.29">         Services.prefs.getComplexValue(&quot;intl.ellipsis&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l258.1"></a><span id="l258.1" class="difflineminus">--- a/mail/components/im/modules/index_im.js</span>
<a href="#l258.2"></a><span id="l258.2" class="difflineplus">+++ b/mail/components/im/modules/index_im.js</span>
<a href="#l258.3"></a><span id="l258.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l258.4"></a><span id="l258.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l258.5"></a><span id="l258.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l258.6"></a><span id="l258.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l258.7"></a><span id="l258.7"> </span>
<a href="#l258.8"></a><span id="l258.8"> this.EXPORTED_SYMBOLS = [];</span>
<a href="#l258.9"></a><span id="l258.9"> </span>
<a href="#l258.10"></a><span id="l258.10" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu, Constructor: CC} = Components;</span>
<a href="#l258.11"></a><span id="l258.11" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu, Constructor: CC} = Components;</span>
<a href="#l258.12"></a><span id="l258.12"> </span>
<a href="#l258.13"></a><span id="l258.13"> Cu.import(&quot;resource:///modules/gloda/public.js&quot;);</span>
<a href="#l258.14"></a><span id="l258.14"> Cu.import(&quot;resource:///modules/gloda/datamodel.js&quot;);</span>
<a href="#l258.15"></a><span id="l258.15"> Cu.import(&quot;resource:///modules/gloda/indexer.js&quot;);</span>
<a href="#l258.16"></a><span id="l258.16"> Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l258.17"></a><span id="l258.17"> Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l258.18"></a><span id="l258.18"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l258.19"></a><span id="l258.19"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l258.20"></a><span id="l258.20" class="difflineat">@@ -18,28 +18,28 @@ Cu.import(&quot;resource://gre/modules/NetUti</span>
<a href="#l258.21"></a><span id="l258.21"> </span>
<a href="#l258.22"></a><span id="l258.22"> XPCOMUtils.defineLazyModuleGetter(this, &quot;OS&quot;, &quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l258.23"></a><span id="l258.23"> XPCOMUtils.defineLazyModuleGetter(this, &quot;Task&quot;, &quot;resource://gre/modules/Task.jsm&quot;);</span>
<a href="#l258.24"></a><span id="l258.24"> XPCOMUtils.defineLazyModuleGetter(this, &quot;AsyncShutdown&quot;,</span>
<a href="#l258.25"></a><span id="l258.25">                                   &quot;resource://gre/modules/AsyncShutdown.jsm&quot;);</span>
<a href="#l258.26"></a><span id="l258.26"> XPCOMUtils.defineLazyModuleGetter(this, &quot;GlodaDatastore&quot;,</span>
<a href="#l258.27"></a><span id="l258.27">                                   &quot;resource:///modules/gloda/datastore.js&quot;);</span>
<a href="#l258.28"></a><span id="l258.28"> </span>
<a href="#l258.29"></a><span id="l258.29" class="difflineminus">-const kCacheFileName = &quot;indexedFiles.json&quot;;</span>
<a href="#l258.30"></a><span id="l258.30" class="difflineplus">+var kCacheFileName = &quot;indexedFiles.json&quot;;</span>
<a href="#l258.31"></a><span id="l258.31"> </span>
<a href="#l258.32"></a><span id="l258.32" class="difflineminus">-const FileInputStream = CC(&quot;@mozilla.org/network/file-input-stream;1&quot;,</span>
<a href="#l258.33"></a><span id="l258.33" class="difflineplus">+var FileInputStream = CC(&quot;@mozilla.org/network/file-input-stream;1&quot;,</span>
<a href="#l258.34"></a><span id="l258.34">                            &quot;nsIFileInputStream&quot;,</span>
<a href="#l258.35"></a><span id="l258.35">                            &quot;init&quot;);</span>
<a href="#l258.36"></a><span id="l258.36" class="difflineminus">-const ScriptableInputStream = CC(&quot;@mozilla.org/scriptableinputstream;1&quot;,</span>
<a href="#l258.37"></a><span id="l258.37" class="difflineplus">+var ScriptableInputStream = CC(&quot;@mozilla.org/scriptableinputstream;1&quot;,</span>
<a href="#l258.38"></a><span id="l258.38">                                  &quot;nsIScriptableInputStream&quot;,</span>
<a href="#l258.39"></a><span id="l258.39">                                  &quot;init&quot;);</span>
<a href="#l258.40"></a><span id="l258.40"> </span>
<a href="#l258.41"></a><span id="l258.41"> // kIndexingDelay is how long we wait from the point of scheduling an indexing</span>
<a href="#l258.42"></a><span id="l258.42"> // job to actually carrying it out.</span>
<a href="#l258.43"></a><span id="l258.43" class="difflineminus">-const kIndexingDelay = 5000; // in milliseconds</span>
<a href="#l258.44"></a><span id="l258.44" class="difflineplus">+var kIndexingDelay = 5000; // in milliseconds</span>
<a href="#l258.45"></a><span id="l258.45"> </span>
<a href="#l258.46"></a><span id="l258.46"> XPCOMUtils.defineLazyGetter(this, &quot;MailFolder&quot;, () =&gt;</span>
<a href="#l258.47"></a><span id="l258.47">   Cc[&quot;@mozilla.org/rdf/resource-factory;1?name=mailbox&quot;].createInstance(Ci.nsIMsgFolder)</span>
<a href="#l258.48"></a><span id="l258.48"> );</span>
<a href="#l258.49"></a><span id="l258.49"> </span>
<a href="#l258.50"></a><span id="l258.50"> var gIMAccounts = {};</span>
<a href="#l258.51"></a><span id="l258.51"> </span>
<a href="#l258.52"></a><span id="l258.52"> function GlodaIMConversation(aTitle, aTime, aPath, aContent)</span>
<a href="#l258.53"></a><span id="l258.53" class="difflineat">@@ -150,17 +150,17 @@ IMConversationNoun.objFromRow = function</span>
<a href="#l258.54"></a><span id="l258.54">   // 6 offsets</span>
<a href="#l258.55"></a><span id="l258.55">   let conv = new GlodaIMConversation(aRow.getString(1), aRow.getInt64(2),</span>
<a href="#l258.56"></a><span id="l258.56">                                      aRow.getString(3), aRow.getString(5));</span>
<a href="#l258.57"></a><span id="l258.57">   conv.id = aRow.getInt64(0); // handleResult will keep only our first result</span>
<a href="#l258.58"></a><span id="l258.58">                               // if the id property isn't set.</span>
<a href="#l258.59"></a><span id="l258.59">   return conv;</span>
<a href="#l258.60"></a><span id="l258.60"> };</span>
<a href="#l258.61"></a><span id="l258.61"> </span>
<a href="#l258.62"></a><span id="l258.62" class="difflineminus">-const EXT_NAME = &quot;im&quot;;</span>
<a href="#l258.63"></a><span id="l258.63" class="difflineplus">+var EXT_NAME = &quot;im&quot;;</span>
<a href="#l258.64"></a><span id="l258.64"> </span>
<a href="#l258.65"></a><span id="l258.65"> // --- special (on-row) attributes</span>
<a href="#l258.66"></a><span id="l258.66"> Gloda.defineAttribute({</span>
<a href="#l258.67"></a><span id="l258.67">   provider: WidgetProvider, extensionName: EXT_NAME,</span>
<a href="#l258.68"></a><span id="l258.68">   attributeType: Gloda.kAttrFundamental,</span>
<a href="#l258.69"></a><span id="l258.69">   attributeName: &quot;time&quot;,</span>
<a href="#l258.70"></a><span id="l258.70">   singular: true,</span>
<a href="#l258.71"></a><span id="l258.71">   special: Gloda.kSpecialColumn,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l259.1"></a><span id="l259.1" class="difflineminus">--- a/mail/components/im/modules/search_im.js</span>
<a href="#l259.2"></a><span id="l259.2" class="difflineplus">+++ b/mail/components/im/modules/search_im.js</span>
<a href="#l259.3"></a><span id="l259.3" class="difflineat">@@ -1,33 +1,33 @@</span>
<a href="#l259.4"></a><span id="l259.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l259.5"></a><span id="l259.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l259.6"></a><span id="l259.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l259.7"></a><span id="l259.7"> </span>
<a href="#l259.8"></a><span id="l259.8"> this.EXPORTED_SYMBOLS = [&quot;GlodaIMSearcher&quot;];</span>
<a href="#l259.9"></a><span id="l259.9"> </span>
<a href="#l259.10"></a><span id="l259.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l259.11"></a><span id="l259.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l259.12"></a><span id="l259.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l259.13"></a><span id="l259.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l259.14"></a><span id="l259.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l259.15"></a><span id="l259.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l259.16"></a><span id="l259.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l259.17"></a><span id="l259.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l259.18"></a><span id="l259.18"> </span>
<a href="#l259.19"></a><span id="l259.19"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l259.20"></a><span id="l259.20"> Cu.import(&quot;resource:///modules/gloda/public.js&quot;);</span>
<a href="#l259.21"></a><span id="l259.21"> </span>
<a href="#l259.22"></a><span id="l259.22"> /**</span>
<a href="#l259.23"></a><span id="l259.23">  * How much time boost should a 'score point' amount to?  The authoritative,</span>
<a href="#l259.24"></a><span id="l259.24">  *  incontrivertible answer, across all time and space, is a week.</span>
<a href="#l259.25"></a><span id="l259.25">  *  Note that gloda stores conversation timestamps in seconds.</span>
<a href="#l259.26"></a><span id="l259.26">  */</span>
<a href="#l259.27"></a><span id="l259.27" class="difflineminus">-const FUZZSCORE_TIMESTAMP_FACTOR = 60 * 60 * 24 * 7;</span>
<a href="#l259.28"></a><span id="l259.28" class="difflineplus">+var FUZZSCORE_TIMESTAMP_FACTOR = 60 * 60 * 24 * 7;</span>
<a href="#l259.29"></a><span id="l259.29"> </span>
<a href="#l259.30"></a><span id="l259.30" class="difflineminus">-const RANK_USAGE =</span>
<a href="#l259.31"></a><span id="l259.31" class="difflineplus">+var RANK_USAGE =</span>
<a href="#l259.32"></a><span id="l259.32">   &quot;glodaRank(matchinfo(imConversationsText), 1.0, 2.0, 2.0, 1.5, 1.5)&quot;;</span>
<a href="#l259.33"></a><span id="l259.33"> </span>
<a href="#l259.34"></a><span id="l259.34" class="difflineminus">-const DASCORE =&quot;imConversations.time&quot;;</span>
<a href="#l259.35"></a><span id="l259.35" class="difflineplus">+var DASCORE =&quot;imConversations.time&quot;;</span>
<a href="#l259.36"></a><span id="l259.36"> //  &quot;(((&quot; + RANK_USAGE + &quot;) * &quot; +</span>
<a href="#l259.37"></a><span id="l259.37"> //    FUZZSCORE_TIMESTAMP_FACTOR +</span>
<a href="#l259.38"></a><span id="l259.38"> //   &quot;) + imConversations.time)&quot;;</span>
<a href="#l259.39"></a><span id="l259.39"> </span>
<a href="#l259.40"></a><span id="l259.40"> /**</span>
<a href="#l259.41"></a><span id="l259.41">  * A new optimization decision we are making is that we do not want to carry</span>
<a href="#l259.42"></a><span id="l259.42">  *  around any data in our ephemeral tables that is not used for whittling the</span>
<a href="#l259.43"></a><span id="l259.43">  *  result set.  The idea is that the btree page cache or OS cache is going to</span>
<a href="#l259.44"></a><span id="l259.44" class="difflineat">@@ -67,17 +67,17 @@ const DASCORE =&quot;imConversations.time&quot;;</span>
<a href="#l259.45"></a><span id="l259.45">  *    the inclusion of the offsets() invocation.  The imConversations table lookup</span>
<a href="#l259.46"></a><span id="l259.46">  *    should not involve any disk traffic because the pages should still be</span>
<a href="#l259.47"></a><span id="l259.47">  *    cached (SQLite or OS) from phase 1.  The imConversationsText lookup is new, and</span>
<a href="#l259.48"></a><span id="l259.48">  *    this is the major disk-seek reduction optimization we are making.  (Since</span>
<a href="#l259.49"></a><span id="l259.49">  *    we avoid this lookup for all of the documents that were excluded by the</span>
<a href="#l259.50"></a><span id="l259.50">  *    LIMIT.)  Since offsets() also needs to retrieve the row from imConversationsText</span>
<a href="#l259.51"></a><span id="l259.51">  *    there is a nice synergy there.</span>
<a href="#l259.52"></a><span id="l259.52">  */</span>
<a href="#l259.53"></a><span id="l259.53" class="difflineminus">-const NUEVO_FULLTEXT_SQL =</span>
<a href="#l259.54"></a><span id="l259.54" class="difflineplus">+var NUEVO_FULLTEXT_SQL =</span>
<a href="#l259.55"></a><span id="l259.55">   &quot;SELECT imConversations.*, imConversationsText.*, offsets(imConversationsText) AS osets &quot; +</span>
<a href="#l259.56"></a><span id="l259.56">   &quot;FROM imConversationsText, imConversations &quot; +</span>
<a href="#l259.57"></a><span id="l259.57">   &quot;WHERE&quot; +</span>
<a href="#l259.58"></a><span id="l259.58">     &quot; imConversationsText MATCH ?1 &quot; +</span>
<a href="#l259.59"></a><span id="l259.59">     &quot; AND imConversationsText.docid IN (&quot; +</span>
<a href="#l259.60"></a><span id="l259.60">        &quot;SELECT docid &quot; +</span>
<a href="#l259.61"></a><span id="l259.61">        &quot;FROM imConversationsText JOIN imConversations ON imConversationsText.docid = imConversations.id &quot; +</span>
<a href="#l259.62"></a><span id="l259.62">        &quot;WHERE imConversationsText MATCH ?1 &quot; +</span>
<a href="#l259.63"></a><span id="l259.63" class="difflineat">@@ -110,33 +110,33 @@ function reduceSum(accum, curValue) {</span>
<a href="#l259.64"></a><span id="l259.64">  *  slightly and recipient a bit more in this case because a search that</span>
<a href="#l259.65"></a><span id="l259.65">  *  entirely matches just on a person should give a mention of that person</span>
<a href="#l259.66"></a><span id="l259.66">  *  in the subject or attachment a fighting chance.</span>
<a href="#l259.67"></a><span id="l259.67">  * Keep in mind that because of our indexing in the face of address book</span>
<a href="#l259.68"></a><span id="l259.68">  *  contacts (namely, we index the name used in the e-mail as well as the</span>
<a href="#l259.69"></a><span id="l259.69">  *  display name on the address book card associated with the e-mail adress)</span>
<a href="#l259.70"></a><span id="l259.70">  *  a contact is going to bias towards matching multiple times.</span>
<a href="#l259.71"></a><span id="l259.71">  */</span>
<a href="#l259.72"></a><span id="l259.72" class="difflineminus">-const COLUMN_ALL_MATCH_SCORES = [4, 20, 20, 16, 12];</span>
<a href="#l259.73"></a><span id="l259.73" class="difflineplus">+var COLUMN_ALL_MATCH_SCORES = [4, 20, 20, 16, 12];</span>
<a href="#l259.74"></a><span id="l259.74"> /**</span>
<a href="#l259.75"></a><span id="l259.75">  * Score for each distinct term that matches in the column.  This is capped</span>
<a href="#l259.76"></a><span id="l259.76">  *  by COLUMN_ALL_SCORES.</span>
<a href="#l259.77"></a><span id="l259.77">  */</span>
<a href="#l259.78"></a><span id="l259.78" class="difflineminus">-const COLUMN_PARTIAL_PER_MATCH_SCORES = [1, 4, 4, 4, 3];</span>
<a href="#l259.79"></a><span id="l259.79" class="difflineplus">+var COLUMN_PARTIAL_PER_MATCH_SCORES = [1, 4, 4, 4, 3];</span>
<a href="#l259.80"></a><span id="l259.80"> /**</span>
<a href="#l259.81"></a><span id="l259.81">  * If a term matches multiple times, what is the marginal score for each</span>
<a href="#l259.82"></a><span id="l259.82">  *  additional match.  We count the total number of matches beyond the</span>
<a href="#l259.83"></a><span id="l259.83">  *  first match for each term.  In other words, if we have 3 terms which</span>
<a href="#l259.84"></a><span id="l259.84">  *  matched 5, 3, and 0 times, then the total from our perspective is</span>
<a href="#l259.85"></a><span id="l259.85">  *  (5 - 1) + (3 - 1) + 0 = 4 + 2 + 0 = 6.  We take the minimum of that value</span>
<a href="#l259.86"></a><span id="l259.86">  *  and the value in COLUMN_MULTIPLE_MATCH_LIMIT and multiply by the value in</span>
<a href="#l259.87"></a><span id="l259.87">  *  COLUMN_MULTIPLE_MATCH_SCORES.</span>
<a href="#l259.88"></a><span id="l259.88">  */</span>
<a href="#l259.89"></a><span id="l259.89" class="difflineminus">-const COLUMN_MULTIPLE_MATCH_SCORES = [1, 0, 0, 0, 0];</span>
<a href="#l259.90"></a><span id="l259.90" class="difflineminus">-const COLUMN_MULTIPLE_MATCH_LIMIT = [10, 0, 0, 0, 0];</span>
<a href="#l259.91"></a><span id="l259.91" class="difflineplus">+var COLUMN_MULTIPLE_MATCH_SCORES = [1, 0, 0, 0, 0];</span>
<a href="#l259.92"></a><span id="l259.92" class="difflineplus">+var COLUMN_MULTIPLE_MATCH_LIMIT = [10, 0, 0, 0, 0];</span>
<a href="#l259.93"></a><span id="l259.93"> </span>
<a href="#l259.94"></a><span id="l259.94"> /**</span>
<a href="#l259.95"></a><span id="l259.95">  * Score the message on its offsets (from stashedColumns).</span>
<a href="#l259.96"></a><span id="l259.96">  */</span>
<a href="#l259.97"></a><span id="l259.97"> function scoreOffsets(aMessage, aContext) {</span>
<a href="#l259.98"></a><span id="l259.98">   let score = 0;</span>
<a href="#l259.99"></a><span id="l259.99"> </span>
<a href="#l259.100"></a><span id="l259.100">   let termTemplate = [0 for each (term in Iterator(aContext.terms, true))];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l260.1"></a><span id="l260.1" class="difflineminus">--- a/mail/components/mailContentHandler.js</span>
<a href="#l260.2"></a><span id="l260.2" class="difflineplus">+++ b/mail/components/mailContentHandler.js</span>
<a href="#l260.3"></a><span id="l260.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l260.4"></a><span id="l260.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l260.5"></a><span id="l260.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l260.6"></a><span id="l260.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l260.7"></a><span id="l260.7"> </span>
<a href="#l260.8"></a><span id="l260.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l260.9"></a><span id="l260.9"> </span>
<a href="#l260.10"></a><span id="l260.10" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l260.11"></a><span id="l260.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l260.12"></a><span id="l260.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l260.13"></a><span id="l260.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l260.14"></a><span id="l260.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l260.15"></a><span id="l260.15" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l260.16"></a><span id="l260.16"> </span>
<a href="#l260.17"></a><span id="l260.17"> // defined in nsIContentHandler.idl.</span>
<a href="#l260.18"></a><span id="l260.18" class="difflineminus">-const NS_ERROR_WONT_HANDLE_CONTENT = 0x805d0001;</span>
<a href="#l260.19"></a><span id="l260.19" class="difflineplus">+var NS_ERROR_WONT_HANDLE_CONTENT = 0x805d0001;</span>
<a href="#l260.20"></a><span id="l260.20"> </span>
<a href="#l260.21"></a><span id="l260.21"> function mailContentHandler() {</span>
<a href="#l260.22"></a><span id="l260.22"> }</span>
<a href="#l260.23"></a><span id="l260.23"> mailContentHandler.prototype = {</span>
<a href="#l260.24"></a><span id="l260.24">   classID: Components.ID(&quot;{1c73f03a-b817-4640-b984-18c3478a9ae3}&quot;),</span>
<a href="#l260.25"></a><span id="l260.25"> </span>
<a href="#l260.26"></a><span id="l260.26">   _xpcom_factory: {</span>
<a href="#l260.27"></a><span id="l260.27">     createInstance: function mch_factory_ci(outer, iid) {</span>
<a href="#l260.28"></a><span id="l260.28" class="difflineat">@@ -68,9 +68,9 @@ mailContentHandler.prototype = {</span>
<a href="#l260.29"></a><span id="l260.29">   },</span>
<a href="#l260.30"></a><span id="l260.30"> </span>
<a href="#l260.31"></a><span id="l260.31">   lockFactory: function mch_lock(lock) {</span>
<a href="#l260.32"></a><span id="l260.32">     // No-op.</span>
<a href="#l260.33"></a><span id="l260.33">   }</span>
<a href="#l260.34"></a><span id="l260.34"> };</span>
<a href="#l260.35"></a><span id="l260.35"> var gMailContentHandler = new mailContentHandler();</span>
<a href="#l260.36"></a><span id="l260.36"> </span>
<a href="#l260.37"></a><span id="l260.37" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([mailContentHandler]);</span>
<a href="#l260.38"></a><span id="l260.38" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([mailContentHandler]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l261.1"></a><span id="l261.1" class="difflineminus">--- a/mail/components/mailGlue.js</span>
<a href="#l261.2"></a><span id="l261.2" class="difflineplus">+++ b/mail/components/mailGlue.js</span>
<a href="#l261.3"></a><span id="l261.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l261.4"></a><span id="l261.4"> /* -*- Mode: JavaScript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l261.5"></a><span id="l261.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l261.6"></a><span id="l261.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l261.7"></a><span id="l261.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l261.8"></a><span id="l261.8"> </span>
<a href="#l261.9"></a><span id="l261.9" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l261.10"></a><span id="l261.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l261.11"></a><span id="l261.11" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l261.12"></a><span id="l261.12" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l261.13"></a><span id="l261.13" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l261.14"></a><span id="l261.14" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l261.15"></a><span id="l261.15"> </span>
<a href="#l261.16"></a><span id="l261.16"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l261.17"></a><span id="l261.17"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l261.18"></a><span id="l261.18"> Cu.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l261.19"></a><span id="l261.19"> Cu.import(&quot;resource:///modules/distribution.js&quot;);</span>
<a href="#l261.20"></a><span id="l261.20"> Cu.import(&quot;resource:///modules/mailMigrator.js&quot;);</span>
<a href="#l261.21"></a><span id="l261.21"> </span>
<a href="#l261.22"></a><span id="l261.22"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l262.1"></a><span id="l262.1" class="difflineminus">--- a/mail/components/migration/content/migration.js</span>
<a href="#l262.2"></a><span id="l262.2" class="difflineplus">+++ b/mail/components/migration/content/migration.js</span>
<a href="#l262.3"></a><span id="l262.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l262.4"></a><span id="l262.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l262.5"></a><span id="l262.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l262.6"></a><span id="l262.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l262.7"></a><span id="l262.7"> </span>
<a href="#l262.8"></a><span id="l262.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l262.9"></a><span id="l262.9"> </span>
<a href="#l262.10"></a><span id="l262.10" class="difflineminus">-const kIMig = Components.interfaces.nsIMailProfileMigrator;</span>
<a href="#l262.11"></a><span id="l262.11" class="difflineminus">-const kIPStartup = Components.interfaces.nsIProfileStartup;</span>
<a href="#l262.12"></a><span id="l262.12" class="difflineminus">-const kProfileMigratorContractIDPrefix = &quot;@mozilla.org/profile/migrator;1?app=mail&amp;type=&quot;;</span>
<a href="#l262.13"></a><span id="l262.13" class="difflineminus">-const nsISupportsString = Components.interfaces.nsISupportsString;</span>
<a href="#l262.14"></a><span id="l262.14" class="difflineplus">+var kIMig = Components.interfaces.nsIMailProfileMigrator;</span>
<a href="#l262.15"></a><span id="l262.15" class="difflineplus">+var kIPStartup = Components.interfaces.nsIProfileStartup;</span>
<a href="#l262.16"></a><span id="l262.16" class="difflineplus">+var kProfileMigratorContractIDPrefix = &quot;@mozilla.org/profile/migrator;1?app=mail&amp;type=&quot;;</span>
<a href="#l262.17"></a><span id="l262.17" class="difflineplus">+var nsISupportsString = Components.interfaces.nsISupportsString;</span>
<a href="#l262.18"></a><span id="l262.18"> </span>
<a href="#l262.19"></a><span id="l262.19"> var MigrationWizard = {</span>
<a href="#l262.20"></a><span id="l262.20">   _source: &quot;&quot;,                  // Source Profile Migrator ContractID suffix</span>
<a href="#l262.21"></a><span id="l262.21">   _itemsFlags: kIMig.ALL,       // Selected Import Data Sources (16-bit bitfield)</span>
<a href="#l262.22"></a><span id="l262.22">   _selectedProfile: null,       // Selected Profile name to import from</span>
<a href="#l262.23"></a><span id="l262.23">   _wiz: null,</span>
<a href="#l262.24"></a><span id="l262.24">   _migrator: null,</span>
<a href="#l262.25"></a><span id="l262.25">   _autoMigrate: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l263.1"></a><span id="l263.1" class="difflineminus">--- a/mail/components/newmailaccount/content/accountProvisioner.js</span>
<a href="#l263.2"></a><span id="l263.2" class="difflineplus">+++ b/mail/components/newmailaccount/content/accountProvisioner.js</span>
<a href="#l263.3"></a><span id="l263.3" class="difflineat">@@ -16,18 +16,18 @@ Cu.import(&quot;resource:///modules/gloda/log</span>
<a href="#l263.4"></a><span id="l263.4"> </span>
<a href="#l263.5"></a><span id="l263.5"> // Get a configured logger for this component.</span>
<a href="#l263.6"></a><span id="l263.6"> // To debug, set mail.provider.logging.dump (or .console)=&quot;All&quot;</span>
<a href="#l263.7"></a><span id="l263.7"> var gLog = Log4Moz.getConfiguredLogger(&quot;mail.provider&quot;);</span>
<a href="#l263.8"></a><span id="l263.8"> var stringBundle = new StringBundle(&quot;chrome://messenger/locale/newmailaccount/accountProvisioner.properties&quot;);</span>
<a href="#l263.9"></a><span id="l263.9"> </span>
<a href="#l263.10"></a><span id="l263.10"> var isOSX = (Services.appinfo.OS == 'Darwin');</span>
<a href="#l263.11"></a><span id="l263.11"> </span>
<a href="#l263.12"></a><span id="l263.12" class="difflineminus">-const RETRY_TIMEOUT = 5000; // 5 seconds</span>
<a href="#l263.13"></a><span id="l263.13" class="difflineminus">-const CONNECTION_TIMEOUT = 15000; // 15 seconds</span>
<a href="#l263.14"></a><span id="l263.14" class="difflineplus">+var RETRY_TIMEOUT = 5000; // 5 seconds</span>
<a href="#l263.15"></a><span id="l263.15" class="difflineplus">+var CONNECTION_TIMEOUT = 15000; // 15 seconds</span>
<a href="#l263.16"></a><span id="l263.16"> </span>
<a href="#l263.17"></a><span id="l263.17"> function isAccel (event) { return isOSX &amp;&amp; event.metaKey || event.ctrlKey; }</span>
<a href="#l263.18"></a><span id="l263.18"> </span>
<a href="#l263.19"></a><span id="l263.19"> /**</span>
<a href="#l263.20"></a><span id="l263.20">  * Get the localstorage for this page in a way that works in chrome.</span>
<a href="#l263.21"></a><span id="l263.21">  *</span>
<a href="#l263.22"></a><span id="l263.22">  * Cribbed from</span>
<a href="#l263.23"></a><span id="l263.23">  *   mozilla/dom/tests/mochitest/localstorage/test_localStorageFromChrome.xhtml</span>
<a href="#l263.24"></a><span id="l263.24" class="difflineat">@@ -38,17 +38,17 @@ function isAccel (event) { return isOSX </span>
<a href="#l263.25"></a><span id="l263.25"> function getLocalStorage(page) {</span>
<a href="#l263.26"></a><span id="l263.26">   var url = &quot;chrome://content/messenger/accountProvisionerStorage/&quot; + page;</span>
<a href="#l263.27"></a><span id="l263.27"> </span>
<a href="#l263.28"></a><span id="l263.28">   var uri = Services.io.newURI(url, &quot;&quot;, null);</span>
<a href="#l263.29"></a><span id="l263.29">   var principal = Services.scriptSecurityManager.getNoAppCodebasePrincipal(uri);</span>
<a href="#l263.30"></a><span id="l263.30">   return Services.domStorageManager.getLocalStorageForPrincipal(principal, url);</span>
<a href="#l263.31"></a><span id="l263.31"> }</span>
<a href="#l263.32"></a><span id="l263.32"> </span>
<a href="#l263.33"></a><span id="l263.33" class="difflineminus">-const MAX_SMALL_ADDRESSES = 2;</span>
<a href="#l263.34"></a><span id="l263.34" class="difflineplus">+var MAX_SMALL_ADDRESSES = 2;</span>
<a href="#l263.35"></a><span id="l263.35"> </span>
<a href="#l263.36"></a><span id="l263.36"> var storedData = {};</span>
<a href="#l263.37"></a><span id="l263.37"> </span>
<a href="#l263.38"></a><span id="l263.38"> function splitName(str) {</span>
<a href="#l263.39"></a><span id="l263.39">   let i = str.lastIndexOf(&quot; &quot;);</span>
<a href="#l263.40"></a><span id="l263.40">   if (i &gt;= 1)</span>
<a href="#l263.41"></a><span id="l263.41">     return [str.substring(0, i), str.substring(i + 1)];</span>
<a href="#l263.42"></a><span id="l263.42">   else</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l264.1"></a><span id="l264.1" class="difflineminus">--- a/mail/components/nsMailDefaultHandler.js</span>
<a href="#l264.2"></a><span id="l264.2" class="difflineplus">+++ b/mail/components/nsMailDefaultHandler.js</span>
<a href="#l264.3"></a><span id="l264.3" class="difflineat">@@ -3,31 +3,31 @@</span>
<a href="#l264.4"></a><span id="l264.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l264.5"></a><span id="l264.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l264.6"></a><span id="l264.6"> </span>
<a href="#l264.7"></a><span id="l264.7"> Components.utils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l264.8"></a><span id="l264.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l264.9"></a><span id="l264.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l264.10"></a><span id="l264.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l264.11"></a><span id="l264.11"> </span>
<a href="#l264.12"></a><span id="l264.12" class="difflineminus">-const nsISupports              = Components.interfaces.nsISupports;</span>
<a href="#l264.13"></a><span id="l264.13" class="difflineplus">+var nsISupports              = Components.interfaces.nsISupports;</span>
<a href="#l264.14"></a><span id="l264.14"> </span>
<a href="#l264.15"></a><span id="l264.15" class="difflineminus">-const nsICommandLine           = Components.interfaces.nsICommandLine;</span>
<a href="#l264.16"></a><span id="l264.16" class="difflineminus">-const nsICommandLineHandler    = Components.interfaces.nsICommandLineHandler;</span>
<a href="#l264.17"></a><span id="l264.17" class="difflineminus">-const nsICommandLineValidator  = Components.interfaces.nsICommandLineValidator;</span>
<a href="#l264.18"></a><span id="l264.18" class="difflineminus">-const nsIDOMWindow             = Components.interfaces.nsIDOMWindow;</span>
<a href="#l264.19"></a><span id="l264.19" class="difflineminus">-const nsIFactory               = Components.interfaces.nsIFactory;</span>
<a href="#l264.20"></a><span id="l264.20" class="difflineminus">-const nsIFileURL               = Components.interfaces.nsIFileURL;</span>
<a href="#l264.21"></a><span id="l264.21" class="difflineminus">-const nsINetUtil               = Components.interfaces.nsINetUtil;</span>
<a href="#l264.22"></a><span id="l264.22" class="difflineminus">-const nsISupportsString        = Components.interfaces.nsISupportsString;</span>
<a href="#l264.23"></a><span id="l264.23" class="difflineminus">-const nsIURILoader             = Components.interfaces.nsIURILoader;</span>
<a href="#l264.24"></a><span id="l264.24" class="difflineplus">+var nsICommandLine           = Components.interfaces.nsICommandLine;</span>
<a href="#l264.25"></a><span id="l264.25" class="difflineplus">+var nsICommandLineHandler    = Components.interfaces.nsICommandLineHandler;</span>
<a href="#l264.26"></a><span id="l264.26" class="difflineplus">+var nsICommandLineValidator  = Components.interfaces.nsICommandLineValidator;</span>
<a href="#l264.27"></a><span id="l264.27" class="difflineplus">+var nsIDOMWindow             = Components.interfaces.nsIDOMWindow;</span>
<a href="#l264.28"></a><span id="l264.28" class="difflineplus">+var nsIFactory               = Components.interfaces.nsIFactory;</span>
<a href="#l264.29"></a><span id="l264.29" class="difflineplus">+var nsIFileURL               = Components.interfaces.nsIFileURL;</span>
<a href="#l264.30"></a><span id="l264.30" class="difflineplus">+var nsINetUtil               = Components.interfaces.nsINetUtil;</span>
<a href="#l264.31"></a><span id="l264.31" class="difflineplus">+var nsISupportsString        = Components.interfaces.nsISupportsString;</span>
<a href="#l264.32"></a><span id="l264.32" class="difflineplus">+var nsIURILoader             = Components.interfaces.nsIURILoader;</span>
<a href="#l264.33"></a><span id="l264.33"> </span>
<a href="#l264.34"></a><span id="l264.34" class="difflineminus">-const NS_ERROR_ABORT = Components.results.NS_ERROR_ABORT;</span>
<a href="#l264.35"></a><span id="l264.35" class="difflineplus">+var NS_ERROR_ABORT = Components.results.NS_ERROR_ABORT;</span>
<a href="#l264.36"></a><span id="l264.36"> </span>
<a href="#l264.37"></a><span id="l264.37" class="difflineminus">-const URI_INHERITS_SECURITY_CONTEXT = Components.interfaces.nsIProtocolHandler</span>
<a href="#l264.38"></a><span id="l264.38" class="difflineplus">+var URI_INHERITS_SECURITY_CONTEXT = Components.interfaces.nsIProtocolHandler</span>
<a href="#l264.39"></a><span id="l264.39">                                         .URI_INHERITS_SECURITY_CONTEXT;</span>
<a href="#l264.40"></a><span id="l264.40"> </span>
<a href="#l264.41"></a><span id="l264.41"> function resolveURIInternal(aCmdLine, aArgument) {</span>
<a href="#l264.42"></a><span id="l264.42">   var uri = aCmdLine.resolveURI(aArgument);</span>
<a href="#l264.43"></a><span id="l264.43"> </span>
<a href="#l264.44"></a><span id="l264.44">   if (!(uri instanceof nsIFileURL)) {</span>
<a href="#l264.45"></a><span id="l264.45">     return uri;</span>
<a href="#l264.46"></a><span id="l264.46">   }</span>
<a href="#l264.47"></a><span id="l264.47" class="difflineat">@@ -474,9 +474,9 @@ mailDefaultCommandLineHandler.prototype </span>
<a href="#l264.48"></a><span id="l264.48">   classID: Components.ID(&quot;{44346520-c5d2-44e5-a1ec-034e04d7fac4}&quot;),</span>
<a href="#l264.49"></a><span id="l264.49">   contractID: &quot;@mozilla.org/mail/clh;1&quot;,</span>
<a href="#l264.50"></a><span id="l264.50"> </span>
<a href="#l264.51"></a><span id="l264.51">   QueryInterface: XPCOMUtils.generateQI([Components.interfaces.nsIModule]),</span>
<a href="#l264.52"></a><span id="l264.52"> </span>
<a href="#l264.53"></a><span id="l264.53">   _xpcom_factory: nsMailDefaultHandler</span>
<a href="#l264.54"></a><span id="l264.54"> }</span>
<a href="#l264.55"></a><span id="l264.55"> </span>
<a href="#l264.56"></a><span id="l264.56" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([mailDefaultCommandLineHandler]);</span>
<a href="#l264.57"></a><span id="l264.57" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([mailDefaultCommandLineHandler]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l265.1"></a><span id="l265.1" class="difflineminus">--- a/mail/components/preferences/actionsshared.js</span>
<a href="#l265.2"></a><span id="l265.2" class="difflineplus">+++ b/mail/components/preferences/actionsshared.js</span>
<a href="#l265.3"></a><span id="l265.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l265.4"></a><span id="l265.4"> /* -*- Mode: Javascript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l265.5"></a><span id="l265.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l265.6"></a><span id="l265.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l265.7"></a><span id="l265.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l265.8"></a><span id="l265.8"> </span>
<a href="#l265.9"></a><span id="l265.9" class="difflineminus">-const FILEACTION_SAVE_TO_DISK     = 1;</span>
<a href="#l265.10"></a><span id="l265.10" class="difflineminus">-const FILEACTION_OPEN_INTERNALLY  = 2;</span>
<a href="#l265.11"></a><span id="l265.11" class="difflineminus">-const FILEACTION_OPEN_DEFAULT     = 3;</span>
<a href="#l265.12"></a><span id="l265.12" class="difflineminus">-const FILEACTION_OPEN_CUSTOM      = 4;</span>
<a href="#l265.13"></a><span id="l265.13" class="difflineminus">-const FILEACTION_OPEN_PLUGIN      = 5;</span>
<a href="#l265.14"></a><span id="l265.14" class="difflineplus">+var FILEACTION_SAVE_TO_DISK     = 1;</span>
<a href="#l265.15"></a><span id="l265.15" class="difflineplus">+var FILEACTION_OPEN_INTERNALLY  = 2;</span>
<a href="#l265.16"></a><span id="l265.16" class="difflineplus">+var FILEACTION_OPEN_DEFAULT     = 3;</span>
<a href="#l265.17"></a><span id="l265.17" class="difflineplus">+var FILEACTION_OPEN_CUSTOM      = 4;</span>
<a href="#l265.18"></a><span id="l265.18" class="difflineplus">+var FILEACTION_OPEN_PLUGIN      = 5;</span>
<a href="#l265.19"></a><span id="l265.19"> function FileAction ()</span>
<a href="#l265.20"></a><span id="l265.20"> {</span>
<a href="#l265.21"></a><span id="l265.21"> }</span>
<a href="#l265.22"></a><span id="l265.22"> FileAction.prototype = {</span>
<a href="#l265.23"></a><span id="l265.23">   type        : &quot;&quot;,</span>
<a href="#l265.24"></a><span id="l265.24">   extension   : &quot;&quot;,</span>
<a href="#l265.25"></a><span id="l265.25">   hasExtension: true,</span>
<a href="#l265.26"></a><span id="l265.26">   editable    : true,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l266.1"></a><span id="l266.1" class="difflineminus">--- a/mail/components/preferences/applications.js</span>
<a href="#l266.2"></a><span id="l266.2" class="difflineplus">+++ b/mail/components/preferences/applications.js</span>
<a href="#l266.3"></a><span id="l266.3" class="difflineat">@@ -3,44 +3,44 @@</span>
<a href="#l266.4"></a><span id="l266.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l266.5"></a><span id="l266.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l266.6"></a><span id="l266.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l266.7"></a><span id="l266.7">  */</span>
<a href="#l266.8"></a><span id="l266.8"> </span>
<a href="#l266.9"></a><span id="l266.9"> //****************************************************************************//</span>
<a href="#l266.10"></a><span id="l266.10"> // Constants &amp; Enumeration Values</span>
<a href="#l266.11"></a><span id="l266.11"> </span>
<a href="#l266.12"></a><span id="l266.12" class="difflineminus">-const PREF_DISABLED_PLUGIN_TYPES = &quot;plugin.disable_full_page_plugin_for_types&quot;;</span>
<a href="#l266.13"></a><span id="l266.13" class="difflineplus">+var PREF_DISABLED_PLUGIN_TYPES = &quot;plugin.disable_full_page_plugin_for_types&quot;;</span>
<a href="#l266.14"></a><span id="l266.14"> </span>
<a href="#l266.15"></a><span id="l266.15"> // Preferences that affect which entries to show in the list.</span>
<a href="#l266.16"></a><span id="l266.16" class="difflineminus">-const PREF_SHOW_PLUGINS_IN_LIST = &quot;browser.download.show_plugins_in_list&quot;;</span>
<a href="#l266.17"></a><span id="l266.17" class="difflineminus">-const PREF_HIDE_PLUGINS_WITHOUT_EXTENSIONS =</span>
<a href="#l266.18"></a><span id="l266.18" class="difflineplus">+var PREF_SHOW_PLUGINS_IN_LIST = &quot;browser.download.show_plugins_in_list&quot;;</span>
<a href="#l266.19"></a><span id="l266.19" class="difflineplus">+var PREF_HIDE_PLUGINS_WITHOUT_EXTENSIONS =</span>
<a href="#l266.20"></a><span id="l266.20">   &quot;browser.download.hide_plugins_without_extensions&quot;;</span>
<a href="#l266.21"></a><span id="l266.21"> </span>
<a href="#l266.22"></a><span id="l266.22"> // The nsHandlerInfoAction enumeration values in nsIHandlerInfo identify</span>
<a href="#l266.23"></a><span id="l266.23"> // the actions the application can take with content of various types.</span>
<a href="#l266.24"></a><span id="l266.24"> // But since nsIHandlerInfo doesn't support plugins, there's no value</span>
<a href="#l266.25"></a><span id="l266.25"> // identifying the &quot;use plugin&quot; action, so we use this constant instead.</span>
<a href="#l266.26"></a><span id="l266.26" class="difflineminus">-const kActionUsePlugin = 5;</span>
<a href="#l266.27"></a><span id="l266.27" class="difflineplus">+var kActionUsePlugin = 5;</span>
<a href="#l266.28"></a><span id="l266.28"> </span>
<a href="#l266.29"></a><span id="l266.29"> /*</span>
<a href="#l266.30"></a><span id="l266.30"> #ifdef MOZ_WIDGET_GTK</span>
<a href="#l266.31"></a><span id="l266.31"> */</span>
<a href="#l266.32"></a><span id="l266.32" class="difflineminus">-const ICON_URL_APP      = &quot;moz-icon://dummy.exe?size=16&quot;;</span>
<a href="#l266.33"></a><span id="l266.33" class="difflineplus">+var ICON_URL_APP      = &quot;moz-icon://dummy.exe?size=16&quot;;</span>
<a href="#l266.34"></a><span id="l266.34"> /*</span>
<a href="#l266.35"></a><span id="l266.35"> #else</span>
<a href="#l266.36"></a><span id="l266.36"> */</span>
<a href="#l266.37"></a><span id="l266.37" class="difflineminus">-const ICON_URL_APP      = &quot;chrome://messenger/skin/preferences/application.png&quot;;</span>
<a href="#l266.38"></a><span id="l266.38" class="difflineplus">+var ICON_URL_APP      = &quot;chrome://messenger/skin/preferences/application.png&quot;;</span>
<a href="#l266.39"></a><span id="l266.39"> /*</span>
<a href="#l266.40"></a><span id="l266.40"> #endif</span>
<a href="#l266.41"></a><span id="l266.41"> */</span>
<a href="#l266.42"></a><span id="l266.42"> </span>
<a href="#l266.43"></a><span id="l266.43"> // For CSS. Can be one of &quot;ask&quot;, &quot;save&quot;, &quot;plugin&quot; or &quot;feed&quot;. If absent, the icon URL</span>
<a href="#l266.44"></a><span id="l266.44"> // was set by us to a custom handler icon and CSS should not try to override it.</span>
<a href="#l266.45"></a><span id="l266.45" class="difflineminus">-const APP_ICON_ATTR_NAME = &quot;appHandlerIcon&quot;;</span>
<a href="#l266.46"></a><span id="l266.46" class="difflineplus">+var APP_ICON_ATTR_NAME = &quot;appHandlerIcon&quot;;</span>
<a href="#l266.47"></a><span id="l266.47"> </span>
<a href="#l266.48"></a><span id="l266.48"> // CloudFile account tools used by gCloudFileTab.</span>
<a href="#l266.49"></a><span id="l266.49"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l266.50"></a><span id="l266.50"> Components.utils.import(&quot;resource:///modules/cloudFileAccounts.js&quot;);</span>
<a href="#l266.51"></a><span id="l266.51"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l266.52"></a><span id="l266.52"> </span>
<a href="#l266.53"></a><span id="l266.53"> //****************************************************************************//</span>
<a href="#l266.54"></a><span id="l266.54"> // Utilities</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l267.1"></a><span id="l267.1" class="difflineminus">--- a/mail/components/preferences/chat.js</span>
<a href="#l267.2"></a><span id="l267.2" class="difflineplus">+++ b/mail/components/preferences/chat.js</span>
<a href="#l267.3"></a><span id="l267.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l267.4"></a><span id="l267.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l267.5"></a><span id="l267.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l267.6"></a><span id="l267.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l267.7"></a><span id="l267.7"> </span>
<a href="#l267.8"></a><span id="l267.8" class="difflineminus">-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l267.9"></a><span id="l267.9" class="difflineplus">+var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l267.10"></a><span id="l267.10"> </span>
<a href="#l267.11"></a><span id="l267.11"> var gChatPane = {</span>
<a href="#l267.12"></a><span id="l267.12">   init: function ()</span>
<a href="#l267.13"></a><span id="l267.13">   {</span>
<a href="#l267.14"></a><span id="l267.14">     this.updateDisabledState();</span>
<a href="#l267.15"></a><span id="l267.15">   },</span>
<a href="#l267.16"></a><span id="l267.16"> </span>
<a href="#l267.17"></a><span id="l267.17">   updateDisabledState: function ()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l268.1"></a><span id="l268.1" class="difflineminus">--- a/mail/components/preferences/cookies.js</span>
<a href="#l268.2"></a><span id="l268.2" class="difflineplus">+++ b/mail/components/preferences/cookies.js</span>
<a href="#l268.3"></a><span id="l268.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l268.4"></a><span id="l268.4"> /* -*- Mode: Javascript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l268.5"></a><span id="l268.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l268.6"></a><span id="l268.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l268.7"></a><span id="l268.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l268.8"></a><span id="l268.8"> </span>
<a href="#l268.9"></a><span id="l268.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l268.10"></a><span id="l268.10"> </span>
<a href="#l268.11"></a><span id="l268.11" class="difflineminus">-const nsICookie = Components.interfaces.nsICookie;</span>
<a href="#l268.12"></a><span id="l268.12" class="difflineplus">+var nsICookie = Components.interfaces.nsICookie;</span>
<a href="#l268.13"></a><span id="l268.13"> </span>
<a href="#l268.14"></a><span id="l268.14"> var gCookiesWindow = {</span>
<a href="#l268.15"></a><span id="l268.15">   _ds               : Components.classes[&quot;@mozilla.org/intl/scriptabledateformat;1&quot;]</span>
<a href="#l268.16"></a><span id="l268.16">                                 .getService(Components.interfaces.nsIScriptableDateFormat),</span>
<a href="#l268.17"></a><span id="l268.17">   _hosts            : {},</span>
<a href="#l268.18"></a><span id="l268.18">   _hostOrder        : [],</span>
<a href="#l268.19"></a><span id="l268.19">   _tree             : null,</span>
<a href="#l268.20"></a><span id="l268.20">   _bundle           : null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l269.1"></a><span id="l269.1" class="difflineminus">--- a/mail/components/preferences/fonts.js</span>
<a href="#l269.2"></a><span id="l269.2" class="difflineplus">+++ b/mail/components/preferences/fonts.js</span>
<a href="#l269.3"></a><span id="l269.3" class="difflineat">@@ -1,25 +1,25 @@</span>
<a href="#l269.4"></a><span id="l269.4"> /* -*- Mode: JavaScript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l269.5"></a><span id="l269.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l269.6"></a><span id="l269.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l269.7"></a><span id="l269.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l269.8"></a><span id="l269.8"> </span>
<a href="#l269.9"></a><span id="l269.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l269.10"></a><span id="l269.10"> </span>
<a href="#l269.11"></a><span id="l269.11" class="difflineminus">-const kDefaultFontType          = &quot;font.default.%LANG%&quot;;</span>
<a href="#l269.12"></a><span id="l269.12" class="difflineminus">-const kFontNameFmtSerif         = &quot;font.name.serif.%LANG%&quot;;</span>
<a href="#l269.13"></a><span id="l269.13" class="difflineminus">-const kFontNameFmtSansSerif     = &quot;font.name.sans-serif.%LANG%&quot;;</span>
<a href="#l269.14"></a><span id="l269.14" class="difflineminus">-const kFontNameFmtMonospace     = &quot;font.name.monospace.%LANG%&quot;;</span>
<a href="#l269.15"></a><span id="l269.15" class="difflineminus">-const kFontNameListFmtSerif     = &quot;font.name-list.serif.%LANG%&quot;;</span>
<a href="#l269.16"></a><span id="l269.16" class="difflineminus">-const kFontNameListFmtSansSerif = &quot;font.name-list.sans-serif.%LANG%&quot;;</span>
<a href="#l269.17"></a><span id="l269.17" class="difflineminus">-const kFontNameListFmtMonospace = &quot;font.name-list.monospace.%LANG%&quot;;</span>
<a href="#l269.18"></a><span id="l269.18" class="difflineminus">-const kFontSizeFmtVariable      = &quot;font.size.variable.%LANG%&quot;;</span>
<a href="#l269.19"></a><span id="l269.19" class="difflineminus">-const kFontSizeFmtFixed         = &quot;font.size.fixed.%LANG%&quot;;</span>
<a href="#l269.20"></a><span id="l269.20" class="difflineminus">-const kFontMinSizeFmt           = &quot;font.minimum-size.%LANG%&quot;;</span>
<a href="#l269.21"></a><span id="l269.21" class="difflineplus">+var kDefaultFontType          = &quot;font.default.%LANG%&quot;;</span>
<a href="#l269.22"></a><span id="l269.22" class="difflineplus">+var kFontNameFmtSerif         = &quot;font.name.serif.%LANG%&quot;;</span>
<a href="#l269.23"></a><span id="l269.23" class="difflineplus">+var kFontNameFmtSansSerif     = &quot;font.name.sans-serif.%LANG%&quot;;</span>
<a href="#l269.24"></a><span id="l269.24" class="difflineplus">+var kFontNameFmtMonospace     = &quot;font.name.monospace.%LANG%&quot;;</span>
<a href="#l269.25"></a><span id="l269.25" class="difflineplus">+var kFontNameListFmtSerif     = &quot;font.name-list.serif.%LANG%&quot;;</span>
<a href="#l269.26"></a><span id="l269.26" class="difflineplus">+var kFontNameListFmtSansSerif = &quot;font.name-list.sans-serif.%LANG%&quot;;</span>
<a href="#l269.27"></a><span id="l269.27" class="difflineplus">+var kFontNameListFmtMonospace = &quot;font.name-list.monospace.%LANG%&quot;;</span>
<a href="#l269.28"></a><span id="l269.28" class="difflineplus">+var kFontSizeFmtVariable      = &quot;font.size.variable.%LANG%&quot;;</span>
<a href="#l269.29"></a><span id="l269.29" class="difflineplus">+var kFontSizeFmtFixed         = &quot;font.size.fixed.%LANG%&quot;;</span>
<a href="#l269.30"></a><span id="l269.30" class="difflineplus">+var kFontMinSizeFmt           = &quot;font.minimum-size.%LANG%&quot;;</span>
<a href="#l269.31"></a><span id="l269.31"> </span>
<a href="#l269.32"></a><span id="l269.32"> var gFontsDialog = {</span>
<a href="#l269.33"></a><span id="l269.33">   _selectLanguageGroup: function (aLanguageGroup)</span>
<a href="#l269.34"></a><span id="l269.34">   {</span>
<a href="#l269.35"></a><span id="l269.35">     var prefs = [{ format: kDefaultFontType,          type: &quot;string&quot;,   element: &quot;defaultFontType&quot;, fonttype: null},</span>
<a href="#l269.36"></a><span id="l269.36">                  { format: kFontNameFmtSerif,         type: &quot;fontname&quot;, element: &quot;serif&quot;,      fonttype: &quot;serif&quot;       },</span>
<a href="#l269.37"></a><span id="l269.37">                  { format: kFontNameFmtSansSerif,     type: &quot;fontname&quot;, element: &quot;sans-serif&quot;, fonttype: &quot;sans-serif&quot;  },</span>
<a href="#l269.38"></a><span id="l269.38">                  { format: kFontNameFmtMonospace,     type: &quot;fontname&quot;, element: &quot;monospace&quot;,  fonttype: &quot;monospace&quot;   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l270.1"></a><span id="l270.1" class="difflineminus">--- a/mail/components/preferences/offline.js</span>
<a href="#l270.2"></a><span id="l270.2" class="difflineplus">+++ b/mail/components/preferences/offline.js</span>
<a href="#l270.3"></a><span id="l270.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l270.4"></a><span id="l270.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l270.5"></a><span id="l270.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l270.6"></a><span id="l270.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l270.7"></a><span id="l270.7"> </span>
<a href="#l270.8"></a><span id="l270.8" class="difflineminus">-const kAutomatic         = 4;</span>
<a href="#l270.9"></a><span id="l270.9" class="difflineminus">-const kRememberLastState = 0;</span>
<a href="#l270.10"></a><span id="l270.10" class="difflineplus">+var kAutomatic         = 4;</span>
<a href="#l270.11"></a><span id="l270.11" class="difflineplus">+var kRememberLastState = 0;</span>
<a href="#l270.12"></a><span id="l270.12"> </span>
<a href="#l270.13"></a><span id="l270.13"> var gOfflineDialog = {</span>
<a href="#l270.14"></a><span id="l270.14">   dialogSetup: function() {</span>
<a href="#l270.15"></a><span id="l270.15">     let offlineAutoDetection = document.getElementById(&quot;offline.autoDetect&quot;);</span>
<a href="#l270.16"></a><span id="l270.16">     let offlineStartupStatePref = document.getElementById(&quot;offline.startup_state&quot;);</span>
<a href="#l270.17"></a><span id="l270.17"> </span>
<a href="#l270.18"></a><span id="l270.18">     offlineStartupStatePref.disabled = offlineAutoDetection.value;</span>
<a href="#l270.19"></a><span id="l270.19">     if (offlineStartupStatePref.disabled) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l271.1"></a><span id="l271.1" class="difflineminus">--- a/mail/components/preferences/permissions.js</span>
<a href="#l271.2"></a><span id="l271.2" class="difflineplus">+++ b/mail/components/preferences/permissions.js</span>
<a href="#l271.3"></a><span id="l271.3" class="difflineat">@@ -1,24 +1,24 @@</span>
<a href="#l271.4"></a><span id="l271.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l271.5"></a><span id="l271.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l271.6"></a><span id="l271.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l271.7"></a><span id="l271.7"> </span>
<a href="#l271.8"></a><span id="l271.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l271.9"></a><span id="l271.9"> </span>
<a href="#l271.10"></a><span id="l271.10" class="difflineminus">-const nsIPermissionManager = Components.interfaces.nsIPermissionManager;</span>
<a href="#l271.11"></a><span id="l271.11" class="difflineminus">-const nsICookiePermission = Components.interfaces.nsICookiePermission;</span>
<a href="#l271.12"></a><span id="l271.12" class="difflineplus">+var nsIPermissionManager = Components.interfaces.nsIPermissionManager;</span>
<a href="#l271.13"></a><span id="l271.13" class="difflineplus">+var nsICookiePermission = Components.interfaces.nsICookiePermission;</span>
<a href="#l271.14"></a><span id="l271.14"> </span>
<a href="#l271.15"></a><span id="l271.15" class="difflineminus">-const NOTIFICATION_FLUSH_PERMISSIONS = &quot;flush-pending-permissions&quot;;</span>
<a href="#l271.16"></a><span id="l271.16" class="difflineplus">+var NOTIFICATION_FLUSH_PERMISSIONS = &quot;flush-pending-permissions&quot;;</span>
<a href="#l271.17"></a><span id="l271.17"> </span>
<a href="#l271.18"></a><span id="l271.18"> /**</span>
<a href="#l271.19"></a><span id="l271.19">  * Magic URI base used so the permission manager can store</span>
<a href="#l271.20"></a><span id="l271.20">  * remote content permissions for a given email address.</span>
<a href="#l271.21"></a><span id="l271.21">  */</span>
<a href="#l271.22"></a><span id="l271.22" class="difflineminus">-const MAILURI_BASE = &quot;chrome://messenger/content/?email=&quot;;</span>
<a href="#l271.23"></a><span id="l271.23" class="difflineplus">+var MAILURI_BASE = &quot;chrome://messenger/content/?email=&quot;;</span>
<a href="#l271.24"></a><span id="l271.24"> </span>
<a href="#l271.25"></a><span id="l271.25"> function Permission(principal, type, capability)</span>
<a href="#l271.26"></a><span id="l271.26"> {</span>
<a href="#l271.27"></a><span id="l271.27">   this.principal = principal;</span>
<a href="#l271.28"></a><span id="l271.28">   this.origin = principal.origin;</span>
<a href="#l271.29"></a><span id="l271.29">   this.type = type;</span>
<a href="#l271.30"></a><span id="l271.30">   this.capability = capability;</span>
<a href="#l271.31"></a><span id="l271.31"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l272.1"></a><span id="l272.1" class="difflineminus">--- a/mail/components/search/SpotlightIntegration.js</span>
<a href="#l272.2"></a><span id="l272.2" class="difflineplus">+++ b/mail/components/search/SpotlightIntegration.js</span>
<a href="#l272.3"></a><span id="l272.3" class="difflineat">@@ -4,18 +4,18 @@</span>
<a href="#l272.4"></a><span id="l272.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l272.5"></a><span id="l272.5"> </span>
<a href="#l272.6"></a><span id="l272.6"> #include content/searchCommon.js</span>
<a href="#l272.7"></a><span id="l272.7"> </span>
<a href="#l272.8"></a><span id="l272.8"> var EXPORTED_SYMBOLS = [&quot;SearchIntegration&quot;];</span>
<a href="#l272.9"></a><span id="l272.9"> </span>
<a href="#l272.10"></a><span id="l272.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l272.11"></a><span id="l272.11"> </span>
<a href="#l272.12"></a><span id="l272.12" class="difflineminus">-const MSG_DB_LARGE_COMMIT = 1;</span>
<a href="#l272.13"></a><span id="l272.13" class="difflineminus">-const gFileHeader = &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&lt;!DOCTYPE plist PUBLIC \&quot;-//Apple Computer//DTD PLIST 1.0//EN\&quot; \&quot;http://www.apple.\ncom/DTDs/PropertyList-1.0.dtd\&quot;&gt;\n&lt;plist version=\&quot;1.0\&quot;&gt;\n&lt;dict&gt;&quot;;</span>
<a href="#l272.14"></a><span id="l272.14" class="difflineplus">+var MSG_DB_LARGE_COMMIT = 1;</span>
<a href="#l272.15"></a><span id="l272.15" class="difflineplus">+var gFileHeader = &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&lt;!DOCTYPE plist PUBLIC \&quot;-//Apple Computer//DTD PLIST 1.0//EN\&quot; \&quot;http://www.apple.\ncom/DTDs/PropertyList-1.0.dtd\&quot;&gt;\n&lt;plist version=\&quot;1.0\&quot;&gt;\n&lt;dict&gt;&quot;;</span>
<a href="#l272.16"></a><span id="l272.16"> </span>
<a href="#l272.17"></a><span id="l272.17"> var SearchIntegration =</span>
<a href="#l272.18"></a><span id="l272.18"> {</span>
<a href="#l272.19"></a><span id="l272.19">   __proto__: SearchSupport,</span>
<a href="#l272.20"></a><span id="l272.20"> </span>
<a href="#l272.21"></a><span id="l272.21">   /// The property of the header and (sometimes) folders that's used to check</span>
<a href="#l272.22"></a><span id="l272.22">   /// if a message is indexed</span>
<a href="#l272.23"></a><span id="l272.23">   _hdrIndexedProperty: &quot;spotlight_reindex_time&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l273.1"></a><span id="l273.1" class="difflineminus">--- a/mail/components/search/WinSearchIntegration.js</span>
<a href="#l273.2"></a><span id="l273.2" class="difflineplus">+++ b/mail/components/search/WinSearchIntegration.js</span>
<a href="#l273.3"></a><span id="l273.3" class="difflineat">@@ -4,34 +4,34 @@</span>
<a href="#l273.4"></a><span id="l273.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l273.5"></a><span id="l273.5"> </span>
<a href="#l273.6"></a><span id="l273.6"> #include content/searchCommon.js</span>
<a href="#l273.7"></a><span id="l273.7"> </span>
<a href="#l273.8"></a><span id="l273.8"> var EXPORTED_SYMBOLS = [&quot;SearchIntegration&quot;];</span>
<a href="#l273.9"></a><span id="l273.9"> </span>
<a href="#l273.10"></a><span id="l273.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l273.11"></a><span id="l273.11"> </span>
<a href="#l273.12"></a><span id="l273.12" class="difflineminus">-const MSG_DB_LARGE_COMMIT = 1;</span>
<a href="#l273.13"></a><span id="l273.13" class="difflineminus">-const CRLF=&quot;\r\n&quot;;</span>
<a href="#l273.14"></a><span id="l273.14" class="difflineplus">+var MSG_DB_LARGE_COMMIT = 1;</span>
<a href="#l273.15"></a><span id="l273.15" class="difflineplus">+var CRLF=&quot;\r\n&quot;;</span>
<a href="#l273.16"></a><span id="l273.16"> </span>
<a href="#l273.17"></a><span id="l273.17"> /**</span>
<a href="#l273.18"></a><span id="l273.18">  * Required to access the 64-bit registry, even though we're probably a 32-bit</span>
<a href="#l273.19"></a><span id="l273.19">  * program</span>
<a href="#l273.20"></a><span id="l273.20">  */</span>
<a href="#l273.21"></a><span id="l273.21" class="difflineminus">-const ACCESS_WOW64_64KEY = 0x0100;</span>
<a href="#l273.22"></a><span id="l273.22" class="difflineplus">+var ACCESS_WOW64_64KEY = 0x0100;</span>
<a href="#l273.23"></a><span id="l273.23"> </span>
<a href="#l273.24"></a><span id="l273.24"> /**</span>
<a href="#l273.25"></a><span id="l273.25">  * The contract ID for the helper service.</span>
<a href="#l273.26"></a><span id="l273.26">  */</span>
<a href="#l273.27"></a><span id="l273.27" class="difflineminus">-const WINSEARCHHELPER_CONTRACTID = &quot;@mozilla.org/mail/windows-search-helper;1&quot;;</span>
<a href="#l273.28"></a><span id="l273.28" class="difflineplus">+var WINSEARCHHELPER_CONTRACTID = &quot;@mozilla.org/mail/windows-search-helper;1&quot;;</span>
<a href="#l273.29"></a><span id="l273.29"> </span>
<a href="#l273.30"></a><span id="l273.30"> /**</span>
<a href="#l273.31"></a><span id="l273.31">  * All the registry keys required for integration</span>
<a href="#l273.32"></a><span id="l273.32">  */</span>
<a href="#l273.33"></a><span id="l273.33" class="difflineminus">-const gRegKeys =</span>
<a href="#l273.34"></a><span id="l273.34" class="difflineplus">+var gRegKeys =</span>
<a href="#l273.35"></a><span id="l273.35"> [</span>
<a href="#l273.36"></a><span id="l273.36">   // This is the property handler</span>
<a href="#l273.37"></a><span id="l273.37">   {</span>
<a href="#l273.38"></a><span id="l273.38">     root: Ci.nsIWindowsRegKey.ROOT_KEY_LOCAL_MACHINE,</span>
<a href="#l273.39"></a><span id="l273.39">     key: &quot;SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\PropertySystem\\PropertyHandlers\\.wdseml&quot;,</span>
<a href="#l273.40"></a><span id="l273.40">     name: &quot;&quot;,</span>
<a href="#l273.41"></a><span id="l273.41">     value: &quot;{5FA29220-36A1-40f9-89C6-F4B384B7642E}&quot;</span>
<a href="#l273.42"></a><span id="l273.42">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l274.1"></a><span id="l274.1" class="difflineminus">--- a/mail/components/search/content/searchCommon.js</span>
<a href="#l274.2"></a><span id="l274.2" class="difflineplus">+++ b/mail/components/search/content/searchCommon.js</span>
<a href="#l274.3"></a><span id="l274.3" class="difflineat">@@ -11,28 +11,28 @@</span>
<a href="#l274.4"></a><span id="l274.4">  * - gHdrIndexedProperty: the property in the database that indicates whether a message</span>
<a href="#l274.5"></a><span id="l274.5">  *   has been indexed</span>
<a href="#l274.6"></a><span id="l274.6">  * - gFileExt: the file extension to be used for support files</span>
<a href="#l274.7"></a><span id="l274.7">  * - gPrefBase: the base for preferences that are stored</span>
<a href="#l274.8"></a><span id="l274.8">  * - gStreamListener: an nsIStreamListener to read message text</span>
<a href="#l274.9"></a><span id="l274.9">  */</span>
<a href="#l274.10"></a><span id="l274.10"> #endif</span>
<a href="#l274.11"></a><span id="l274.11"> </span>
<a href="#l274.12"></a><span id="l274.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l274.13"></a><span id="l274.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l274.14"></a><span id="l274.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l274.15"></a><span id="l274.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l274.16"></a><span id="l274.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l274.17"></a><span id="l274.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l274.18"></a><span id="l274.18"> </span>
<a href="#l274.19"></a><span id="l274.19"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l274.20"></a><span id="l274.20"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l274.21"></a><span id="l274.21"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l274.22"></a><span id="l274.22"> Cu.import(&quot;resource:///modules/MailUtils.js&quot;);</span>
<a href="#l274.23"></a><span id="l274.23"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l274.24"></a><span id="l274.24"> </span>
<a href="#l274.25"></a><span id="l274.25" class="difflineminus">-const PERM_DIRECTORY = parseInt(&quot;0755&quot;, 8);</span>
<a href="#l274.26"></a><span id="l274.26" class="difflineminus">-const PERM_FILE = parseInt(&quot;0644&quot;, 8);</span>
<a href="#l274.27"></a><span id="l274.27" class="difflineplus">+var PERM_DIRECTORY = parseInt(&quot;0755&quot;, 8);</span>
<a href="#l274.28"></a><span id="l274.28" class="difflineplus">+var PERM_FILE = parseInt(&quot;0644&quot;, 8);</span>
<a href="#l274.29"></a><span id="l274.29"> </span>
<a href="#l274.30"></a><span id="l274.30"> var SearchSupport =</span>
<a href="#l274.31"></a><span id="l274.31"> {</span>
<a href="#l274.32"></a><span id="l274.32">   /**</span>
<a href="#l274.33"></a><span id="l274.33">    * URI of last folder indexed. Kept in sync with the pref</span>
<a href="#l274.34"></a><span id="l274.34">    */</span>
<a href="#l274.35"></a><span id="l274.35">   __lastFolderIndexedUri: null,</span>
<a href="#l274.36"></a><span id="l274.36">   set _lastFolderIndexedUri(uri)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l275.1"></a><span id="l275.1" class="difflineminus">--- a/mail/components/shell/nsSetDefaultMail.js</span>
<a href="#l275.2"></a><span id="l275.2" class="difflineplus">+++ b/mail/components/shell/nsSetDefaultMail.js</span>
<a href="#l275.3"></a><span id="l275.3" class="difflineat">@@ -5,18 +5,18 @@</span>
<a href="#l275.4"></a><span id="l275.4"> </span>
<a href="#l275.5"></a><span id="l275.5"> /* This file implements the nsICommandLineHandler interface.</span>
<a href="#l275.6"></a><span id="l275.6">  *</span>
<a href="#l275.7"></a><span id="l275.7">  * This component handles the startup command line argument of the form:</span>
<a href="#l275.8"></a><span id="l275.8">  *   -setDefaultMail</span>
<a href="#l275.9"></a><span id="l275.9">  * by making the current executable the &quot;default mail app.&quot;</span>
<a href="#l275.10"></a><span id="l275.10">  */</span>
<a href="#l275.11"></a><span id="l275.11"> </span>
<a href="#l275.12"></a><span id="l275.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l275.13"></a><span id="l275.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l275.14"></a><span id="l275.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l275.15"></a><span id="l275.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l275.16"></a><span id="l275.16"> </span>
<a href="#l275.17"></a><span id="l275.17"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l275.18"></a><span id="l275.18"> </span>
<a href="#l275.19"></a><span id="l275.19"> function nsSetDefaultMail() {</span>
<a href="#l275.20"></a><span id="l275.20"> }</span>
<a href="#l275.21"></a><span id="l275.21"> </span>
<a href="#l275.22"></a><span id="l275.22"> nsSetDefaultMail.prototype = {</span>
<a href="#l275.23"></a><span id="l275.23">   /* nsISupports */</span>
<a href="#l275.24"></a><span id="l275.24" class="difflineat">@@ -30,9 +30,9 @@ nsSetDefaultMail.prototype = {</span>
<a href="#l275.25"></a><span id="l275.25">       shell.setDefaultClient(true, Ci.nsIShellService.MAIL);</span>
<a href="#l275.26"></a><span id="l275.26">     }</span>
<a href="#l275.27"></a><span id="l275.27">   },</span>
<a href="#l275.28"></a><span id="l275.28"> </span>
<a href="#l275.29"></a><span id="l275.29">   helpInfo : &quot;  -setDefaultMail    Set this app as the default mail client.\n&quot;,</span>
<a href="#l275.30"></a><span id="l275.30">   classID: Components.ID(&quot;{ED117D0A-F6C2-47d8-8A71-0E15BABD2554}&quot;)</span>
<a href="#l275.31"></a><span id="l275.31"> };</span>
<a href="#l275.32"></a><span id="l275.32"> </span>
<a href="#l275.33"></a><span id="l275.33" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([nsSetDefaultMail]);</span>
<a href="#l275.34"></a><span id="l275.34" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([nsSetDefaultMail]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l276.1"></a><span id="l276.1" class="difflineminus">--- a/mail/components/wintaskbar/windowsJumpLists.js</span>
<a href="#l276.2"></a><span id="l276.2" class="difflineplus">+++ b/mail/components/wintaskbar/windowsJumpLists.js</span>
<a href="#l276.3"></a><span id="l276.3" class="difflineat">@@ -4,23 +4,23 @@</span>
<a href="#l276.4"></a><span id="l276.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l276.5"></a><span id="l276.5"> </span>
<a href="#l276.6"></a><span id="l276.6"> var EXPORTED_SYMBOLS = [&quot;WinTaskbarJumpList&quot;];</span>
<a href="#l276.7"></a><span id="l276.7"> </span>
<a href="#l276.8"></a><span id="l276.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l276.9"></a><span id="l276.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l276.10"></a><span id="l276.10"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l276.11"></a><span id="l276.11"> </span>
<a href="#l276.12"></a><span id="l276.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l276.13"></a><span id="l276.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l276.14"></a><span id="l276.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l276.15"></a><span id="l276.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l276.16"></a><span id="l276.16"> </span>
<a href="#l276.17"></a><span id="l276.17"> // Prefs</span>
<a href="#l276.18"></a><span id="l276.18" class="difflineminus">-const PREF_TASKBAR_BRANCH    = &quot;mail.taskbar.lists.&quot;;</span>
<a href="#l276.19"></a><span id="l276.19" class="difflineminus">-const PREF_TASKBAR_ENABLED   = &quot;enabled&quot;;</span>
<a href="#l276.20"></a><span id="l276.20" class="difflineminus">-const PREF_TASKBAR_TASKS     = &quot;tasks.enabled&quot;;</span>
<a href="#l276.21"></a><span id="l276.21" class="difflineplus">+var PREF_TASKBAR_BRANCH    = &quot;mail.taskbar.lists.&quot;;</span>
<a href="#l276.22"></a><span id="l276.22" class="difflineplus">+var PREF_TASKBAR_ENABLED   = &quot;enabled&quot;;</span>
<a href="#l276.23"></a><span id="l276.23" class="difflineplus">+var PREF_TASKBAR_TASKS     = &quot;tasks.enabled&quot;;</span>
<a href="#l276.24"></a><span id="l276.24"> </span>
<a href="#l276.25"></a><span id="l276.25"> XPCOMUtils.defineLazyGetter(this, &quot;_stringBundle&quot;, function () {</span>
<a href="#l276.26"></a><span id="l276.26">   return Services.strings</span>
<a href="#l276.27"></a><span id="l276.27">                  .createBundle(&quot;chrome://messenger/locale/taskbar.properties&quot;);</span>
<a href="#l276.28"></a><span id="l276.28"> });</span>
<a href="#l276.29"></a><span id="l276.29"> </span>
<a href="#l276.30"></a><span id="l276.30"> XPCOMUtils.defineLazyServiceGetter(this, &quot;_taskbarService&quot;,</span>
<a href="#l276.31"></a><span id="l276.31">                                    &quot;@mozilla.org/windows-taskbar;1&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l277.1"></a><span id="l277.1" class="difflineminus">--- a/mail/extensions/mailviews/content/msgViewPickerOverlay.js</span>
<a href="#l277.2"></a><span id="l277.2" class="difflineplus">+++ b/mail/extensions/mailviews/content/msgViewPickerOverlay.js</span>
<a href="#l277.3"></a><span id="l277.3" class="difflineat">@@ -2,29 +2,29 @@</span>
<a href="#l277.4"></a><span id="l277.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l277.5"></a><span id="l277.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l277.6"></a><span id="l277.6"> </span>
<a href="#l277.7"></a><span id="l277.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l277.8"></a><span id="l277.8"> Components.utils.import(&quot;resource:///modules/mailViewManager.js&quot;);</span>
<a href="#l277.9"></a><span id="l277.9"> </span>
<a href="#l277.10"></a><span id="l277.10"> // these constants are now authoritatively defined in mailViewManager.js (above)</span>
<a href="#l277.11"></a><span id="l277.11"> // tag views have kViewTagMarker + their key as value</span>
<a href="#l277.12"></a><span id="l277.12" class="difflineminus">-const kViewItemAll         = MailViewConstants.kViewItemAll;</span>
<a href="#l277.13"></a><span id="l277.13" class="difflineminus">-const kViewItemUnread      = MailViewConstants.kViewItemUnread;</span>
<a href="#l277.14"></a><span id="l277.14" class="difflineminus">-const kViewItemTags        = MailViewConstants.kViewItemTags; // former labels used values 2-6</span>
<a href="#l277.15"></a><span id="l277.15" class="difflineminus">-const kViewItemNotDeleted  = MailViewConstants.kViewItemNotDeleted;</span>
<a href="#l277.16"></a><span id="l277.16" class="difflineplus">+var kViewItemAll         = MailViewConstants.kViewItemAll;</span>
<a href="#l277.17"></a><span id="l277.17" class="difflineplus">+var kViewItemUnread      = MailViewConstants.kViewItemUnread;</span>
<a href="#l277.18"></a><span id="l277.18" class="difflineplus">+var kViewItemTags        = MailViewConstants.kViewItemTags; // former labels used values 2-6</span>
<a href="#l277.19"></a><span id="l277.19" class="difflineplus">+var kViewItemNotDeleted  = MailViewConstants.kViewItemNotDeleted;</span>
<a href="#l277.20"></a><span id="l277.20"> // not a real view! a sentinel value to pop up a dialog</span>
<a href="#l277.21"></a><span id="l277.21" class="difflineminus">-const kViewItemVirtual     = MailViewConstants.kViewItemVirtual;</span>
<a href="#l277.22"></a><span id="l277.22" class="difflineplus">+var kViewItemVirtual     = MailViewConstants.kViewItemVirtual;</span>
<a href="#l277.23"></a><span id="l277.23"> // not a real view! a sentinel value to pop up a dialog</span>
<a href="#l277.24"></a><span id="l277.24" class="difflineminus">-const kViewItemCustomize   = MailViewConstants.kViewItemCustomize;</span>
<a href="#l277.25"></a><span id="l277.25" class="difflineminus">-const kViewItemFirstCustom = MailViewConstants.kViewItemFirstCustom;</span>
<a href="#l277.26"></a><span id="l277.26" class="difflineplus">+var kViewItemCustomize   = MailViewConstants.kViewItemCustomize;</span>
<a href="#l277.27"></a><span id="l277.27" class="difflineplus">+var kViewItemFirstCustom = MailViewConstants.kViewItemFirstCustom;</span>
<a href="#l277.28"></a><span id="l277.28"> </span>
<a href="#l277.29"></a><span id="l277.29" class="difflineminus">-const kViewCurrent    = MailViewConstants.kViewCurrent;</span>
<a href="#l277.30"></a><span id="l277.30" class="difflineminus">-const kViewCurrentTag = MailViewConstants.kViewCurrentTag;</span>
<a href="#l277.31"></a><span id="l277.31" class="difflineminus">-const kViewTagMarker  = MailViewConstants.kViewTagMarker;</span>
<a href="#l277.32"></a><span id="l277.32" class="difflineplus">+var kViewCurrent    = MailViewConstants.kViewCurrent;</span>
<a href="#l277.33"></a><span id="l277.33" class="difflineplus">+var kViewCurrentTag = MailViewConstants.kViewCurrentTag;</span>
<a href="#l277.34"></a><span id="l277.34" class="difflineplus">+var kViewTagMarker  = MailViewConstants.kViewTagMarker;</span>
<a href="#l277.35"></a><span id="l277.35"> </span>
<a href="#l277.36"></a><span id="l277.36"> /**</span>
<a href="#l277.37"></a><span id="l277.37">  * A reference to the nsIMsgMailViewList service that tracks custom mail views.</span>
<a href="#l277.38"></a><span id="l277.38">  */</span>
<a href="#l277.39"></a><span id="l277.39"> var gMailViewList = null;</span>
<a href="#l277.40"></a><span id="l277.40"> </span>
<a href="#l277.41"></a><span id="l277.41"> var nsMsgSearchScope  = Components.interfaces.nsMsgSearchScope;</span>
<a href="#l277.42"></a><span id="l277.42"> var nsMsgSearchAttrib = Components.interfaces.nsMsgSearchAttrib;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l278.1"></a><span id="l278.1" class="difflineminus">--- a/mail/extensions/smime/content/msgCompSMIMEOverlay.js</span>
<a href="#l278.2"></a><span id="l278.2" class="difflineplus">+++ b/mail/extensions/smime/content/msgCompSMIMEOverlay.js</span>
<a href="#l278.3"></a><span id="l278.3" class="difflineat">@@ -5,17 +5,17 @@</span>
<a href="#l278.4"></a><span id="l278.4"> </span>
<a href="#l278.5"></a><span id="l278.5"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l278.6"></a><span id="l278.6"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l278.7"></a><span id="l278.7"> </span>
<a href="#l278.8"></a><span id="l278.8"> // Account encryption policy values:</span>
<a href="#l278.9"></a><span id="l278.9"> // const kEncryptionPolicy_Never = 0;</span>
<a href="#l278.10"></a><span id="l278.10"> // 'IfPossible' was used by ns4.</span>
<a href="#l278.11"></a><span id="l278.11"> // const kEncryptionPolicy_IfPossible = 1;</span>
<a href="#l278.12"></a><span id="l278.12" class="difflineminus">-const kEncryptionPolicy_Always = 2;</span>
<a href="#l278.13"></a><span id="l278.13" class="difflineplus">+var kEncryptionPolicy_Always = 2;</span>
<a href="#l278.14"></a><span id="l278.14"> </span>
<a href="#l278.15"></a><span id="l278.15"> var gEncryptedURIService =</span>
<a href="#l278.16"></a><span id="l278.16">         Components.classes[&quot;@mozilla.org/messenger-smime/smime-encrypted-uris-service;1&quot;]</span>
<a href="#l278.17"></a><span id="l278.17">                   .getService(Components.interfaces.nsIEncryptedSMIMEURIsService);</span>
<a href="#l278.18"></a><span id="l278.18"> </span>
<a href="#l278.19"></a><span id="l278.19"> var gNextSecurityButtonCommand = &quot;&quot;;</span>
<a href="#l278.20"></a><span id="l278.20"> var gSMFields = null;</span>
<a href="#l278.21"></a><span id="l278.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l279.1"></a><span id="l279.1" class="difflineminus">--- a/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js</span>
<a href="#l279.2"></a><span id="l279.2" class="difflineplus">+++ b/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js</span>
<a href="#l279.3"></a><span id="l279.3" class="difflineat">@@ -10,17 +10,17 @@ var gStatusBar = null;</span>
<a href="#l279.4"></a><span id="l279.4"> </span>
<a href="#l279.5"></a><span id="l279.5"> var gEncryptedURIService = null;</span>
<a href="#l279.6"></a><span id="l279.6"> var gMyLastEncryptedURI = null;</span>
<a href="#l279.7"></a><span id="l279.7"> </span>
<a href="#l279.8"></a><span id="l279.8"> var gSMIMEBundle = null;</span>
<a href="#l279.9"></a><span id="l279.9"> </span>
<a href="#l279.10"></a><span id="l279.10"> // manipulates some globals from msgReadSMIMEOverlay.js</span>
<a href="#l279.11"></a><span id="l279.11"> </span>
<a href="#l279.12"></a><span id="l279.12" class="difflineminus">-const nsICMSMessageErrors = Components.interfaces.nsICMSMessageErrors;</span>
<a href="#l279.13"></a><span id="l279.13" class="difflineplus">+var nsICMSMessageErrors = Components.interfaces.nsICMSMessageErrors;</span>
<a href="#l279.14"></a><span id="l279.14"> </span>
<a href="#l279.15"></a><span id="l279.15"> var smimeHeaderSink =</span>
<a href="#l279.16"></a><span id="l279.16"> {</span>
<a href="#l279.17"></a><span id="l279.17">   maxWantedNesting: function()</span>
<a href="#l279.18"></a><span id="l279.18">   {</span>
<a href="#l279.19"></a><span id="l279.19">     return 1;</span>
<a href="#l279.20"></a><span id="l279.20">   },</span>
<a href="#l279.21"></a><span id="l279.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l280.1"></a><span id="l280.1" class="difflineminus">--- a/mail/steel/steelApplication.js</span>
<a href="#l280.2"></a><span id="l280.2" class="difflineplus">+++ b/mail/steel/steelApplication.js</span>
<a href="#l280.3"></a><span id="l280.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l280.4"></a><span id="l280.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l280.5"></a><span id="l280.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l280.6"></a><span id="l280.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l280.7"></a><span id="l280.7"> </span>
<a href="#l280.8"></a><span id="l280.8" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l280.9"></a><span id="l280.9" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l280.10"></a><span id="l280.10" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l280.11"></a><span id="l280.11" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l280.12"></a><span id="l280.12"> </span>
<a href="#l280.13"></a><span id="l280.13"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l280.14"></a><span id="l280.14"> </span>
<a href="#l280.15"></a><span id="l280.15" class="difflineminus">-const APPLICATION_CID = Components.ID(&quot;f265021a-7f1d-4b4b-bdc6-9aedca4d8f13&quot;);</span>
<a href="#l280.16"></a><span id="l280.16" class="difflineminus">-const APPLICATION_CONTRACTID = &quot;@mozilla.org/steel/application;1&quot;;</span>
<a href="#l280.17"></a><span id="l280.17" class="difflineplus">+var APPLICATION_CID = Components.ID(&quot;f265021a-7f1d-4b4b-bdc6-9aedca4d8f13&quot;);</span>
<a href="#l280.18"></a><span id="l280.18" class="difflineplus">+var APPLICATION_CONTRACTID = &quot;@mozilla.org/steel/application;1&quot;;</span>
<a href="#l280.19"></a><span id="l280.19"> </span>
<a href="#l280.20"></a><span id="l280.20"> //=================================================</span>
<a href="#l280.21"></a><span id="l280.21"> // Factory - Treat Application as a singleton</span>
<a href="#l280.22"></a><span id="l280.22"> // XXX This is required, because we're registered for the 'JavaScript global</span>
<a href="#l280.23"></a><span id="l280.23"> // privileged property' category, whose handler always calls createInstance.</span>
<a href="#l280.24"></a><span id="l280.24"> // See bug 386535.</span>
<a href="#l280.25"></a><span id="l280.25"> var gSingleton = null;</span>
<a href="#l280.26"></a><span id="l280.26"> var ApplicationFactory = {</span>
<a href="#l280.27"></a><span id="l280.27" class="difflineat">@@ -61,10 +61,10 @@ Application.prototype = {</span>
<a href="#l280.28"></a><span id="l280.28">   platformIsMac: &quot;nsILocalFileMac&quot; in Ci,</span>
<a href="#l280.29"></a><span id="l280.29">   platformIsLinux: ((&quot;@mozilla.org/gnome-gconf-service;1&quot; in Cc) ||</span>
<a href="#l280.30"></a><span id="l280.30">                    (&quot;@mozilla.org/gio-service;1&quot; in Cc) ||</span>
<a href="#l280.31"></a><span id="l280.31">                     (Cc[&quot;@mozilla.org/system-info;1&quot;].getService(Ci.nsIPropertyBag2)</span>
<a href="#l280.32"></a><span id="l280.32">                        .getProperty(&quot;name&quot;) == &quot;Linux&quot;)),</span>
<a href="#l280.33"></a><span id="l280.33">   platformIsWindows: &quot;@mozilla.org/windows-registry-key;1&quot; in Cc</span>
<a href="#l280.34"></a><span id="l280.34"> };</span>
<a href="#l280.35"></a><span id="l280.35"> </span>
<a href="#l280.36"></a><span id="l280.36" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([Application]);</span>
<a href="#l280.37"></a><span id="l280.37" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([Application]);</span>
<a href="#l280.38"></a><span id="l280.38"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l281.1"></a><span id="l281.1" class="difflineminus">--- a/mail/steel/test/head_steel.js</span>
<a href="#l281.2"></a><span id="l281.2" class="difflineplus">+++ b/mail/steel/test/head_steel.js</span>
<a href="#l281.3"></a><span id="l281.3" class="difflineat">@@ -1,6 +1,6 @@</span>
<a href="#l281.4"></a><span id="l281.4"> // These tests need an nsIXULAppInfo</span>
<a href="#l281.5"></a><span id="l281.5"> Components.utils.import(&quot;resource://testing-common/AppInfo.jsm&quot;);</span>
<a href="#l281.6"></a><span id="l281.6"> updateAppInfo();</span>
<a href="#l281.7"></a><span id="l281.7"> </span>
<a href="#l281.8"></a><span id="l281.8" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l281.9"></a><span id="l281.9" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l281.10"></a><span id="l281.10" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l281.11"></a><span id="l281.11" class="difflineplus">+var Cc = Components.classes;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l282.1"></a><span id="l282.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-actions.js</span>
<a href="#l282.2"></a><span id="l282.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-actions.js</span>
<a href="#l282.3"></a><span id="l282.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l282.4"></a><span id="l282.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l282.5"></a><span id="l282.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l282.6"></a><span id="l282.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l282.7"></a><span id="l282.7"> </span>
<a href="#l282.8"></a><span id="l282.8" class="difflineminus">-const MODULE_NAME = &quot;test-account-actions&quot;;</span>
<a href="#l282.9"></a><span id="l282.9" class="difflineplus">+var MODULE_NAME = &quot;test-account-actions&quot;;</span>
<a href="#l282.10"></a><span id="l282.10"> </span>
<a href="#l282.11"></a><span id="l282.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l282.12"></a><span id="l282.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l282.13"></a><span id="l282.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l282.14"></a><span id="l282.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l282.15"></a><span id="l282.15">                          &quot;account-manager-helpers&quot;];</span>
<a href="#l282.16"></a><span id="l282.16"> </span>
<a href="#l282.17"></a><span id="l282.17"> var imapAccount, nntpAccount, originalAccountCount;</span>
<a href="#l282.18"></a><span id="l282.18"> </span>
<a href="#l282.19"></a><span id="l282.19"> function setupModule(module) {</span>
<a href="#l282.20"></a><span id="l282.20">   collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l282.21"></a><span id="l282.21">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l282.22"></a><span id="l282.22">   collector.getModule(&quot;account-manager-helpers&quot;).installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l283.1"></a><span id="l283.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-port-setting.js</span>
<a href="#l283.2"></a><span id="l283.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-port-setting.js</span>
<a href="#l283.3"></a><span id="l283.3" class="difflineat">@@ -10,17 +10,17 @@ var MODULE_REQUIRES = [&quot;folder-display-h</span>
<a href="#l283.4"></a><span id="l283.4"> </span>
<a href="#l283.5"></a><span id="l283.5"> var mozmill = {};</span>
<a href="#l283.6"></a><span id="l283.6"> Components.utils.import(&quot;resource://mozmill/modules/mozmill.js&quot;, mozmill);</span>
<a href="#l283.7"></a><span id="l283.7"> var controller = {};</span>
<a href="#l283.8"></a><span id="l283.8"> Components.utils.import(&quot;resource://mozmill/modules/controller.js&quot;, controller);</span>
<a href="#l283.9"></a><span id="l283.9"> var elib = {};</span>
<a href="#l283.10"></a><span id="l283.10"> Components.utils.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l283.11"></a><span id="l283.11"> </span>
<a href="#l283.12"></a><span id="l283.12" class="difflineminus">-const PORT_NUMBERS_TO_TEST =</span>
<a href="#l283.13"></a><span id="l283.13" class="difflineplus">+var PORT_NUMBERS_TO_TEST =</span>
<a href="#l283.14"></a><span id="l283.14">   [</span>
<a href="#l283.15"></a><span id="l283.15">     &quot;110&quot;, // The original port number. We don't input this though.</span>
<a href="#l283.16"></a><span id="l283.16">     &quot;456&quot;, // Random port number.</span>
<a href="#l283.17"></a><span id="l283.17">     &quot;995&quot;, // The SSL port number.</span>
<a href="#l283.18"></a><span id="l283.18">     &quot;110&quot;  // Back to the original.</span>
<a href="#l283.19"></a><span id="l283.19">   ];</span>
<a href="#l283.20"></a><span id="l283.20"> </span>
<a href="#l283.21"></a><span id="l283.21"> var gTestNumber;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l284.1"></a><span id="l284.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-settings-infrastructure.js</span>
<a href="#l284.2"></a><span id="l284.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-settings-infrastructure.js</span>
<a href="#l284.3"></a><span id="l284.3" class="difflineat">@@ -5,20 +5,20 @@</span>
<a href="#l284.4"></a><span id="l284.4"> /**</span>
<a href="#l284.5"></a><span id="l284.5">  * This test checks proper operation of the account settings panes infrastructure</span>
<a href="#l284.6"></a><span id="l284.6">  * in the Account manager. E.g. if the values of elements are properly stored when</span>
<a href="#l284.7"></a><span id="l284.7">  * panes are switched.</span>
<a href="#l284.8"></a><span id="l284.8">  *</span>
<a href="#l284.9"></a><span id="l284.9">  * New checks can be added to it as needed.</span>
<a href="#l284.10"></a><span id="l284.10">  */</span>
<a href="#l284.11"></a><span id="l284.11"> </span>
<a href="#l284.12"></a><span id="l284.12" class="difflineminus">-const MODULE_NAME = &quot;test-account-settings-infrastructure&quot;;</span>
<a href="#l284.13"></a><span id="l284.13" class="difflineplus">+var MODULE_NAME = &quot;test-account-settings-infrastructure&quot;;</span>
<a href="#l284.14"></a><span id="l284.14"> </span>
<a href="#l284.15"></a><span id="l284.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l284.16"></a><span id="l284.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l284.17"></a><span id="l284.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l284.18"></a><span id="l284.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l284.19"></a><span id="l284.19">                          &quot;account-manager-helpers&quot;];</span>
<a href="#l284.20"></a><span id="l284.20"> </span>
<a href="#l284.21"></a><span id="l284.21"> var elib = {};</span>
<a href="#l284.22"></a><span id="l284.22"> Components.utils.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l284.23"></a><span id="l284.23"> </span>
<a href="#l284.24"></a><span id="l284.24"> var gPopAccount, gImapAccount, gOriginalAccountCount;</span>
<a href="#l284.25"></a><span id="l284.25"> </span>
<a href="#l284.26"></a><span id="l284.26"> function setupModule(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l285.1"></a><span id="l285.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-tree.js</span>
<a href="#l285.2"></a><span id="l285.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-tree.js</span>
<a href="#l285.3"></a><span id="l285.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l285.4"></a><span id="l285.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l285.5"></a><span id="l285.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l285.6"></a><span id="l285.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l285.7"></a><span id="l285.7"> </span>
<a href="#l285.8"></a><span id="l285.8"> /**</span>
<a href="#l285.9"></a><span id="l285.9">  * This test checks proper operation of the account tree in the Account manager.</span>
<a href="#l285.10"></a><span id="l285.10">  */</span>
<a href="#l285.11"></a><span id="l285.11"> </span>
<a href="#l285.12"></a><span id="l285.12" class="difflineminus">-const MODULE_NAME = &quot;test-account-tree&quot;;</span>
<a href="#l285.13"></a><span id="l285.13" class="difflineplus">+var MODULE_NAME = &quot;test-account-tree&quot;;</span>
<a href="#l285.14"></a><span id="l285.14"> </span>
<a href="#l285.15"></a><span id="l285.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l285.16"></a><span id="l285.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l285.17"></a><span id="l285.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l285.18"></a><span id="l285.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l285.19"></a><span id="l285.19">                          &quot;account-manager-helpers&quot;];</span>
<a href="#l285.20"></a><span id="l285.20"> </span>
<a href="#l285.21"></a><span id="l285.21"> var gPopAccount, gOriginalAccountCount;</span>
<a href="#l285.22"></a><span id="l285.22"> </span>
<a href="#l285.23"></a><span id="l285.23"> function setupModule(module) {</span>
<a href="#l285.24"></a><span id="l285.24">   collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l285.25"></a><span id="l285.25">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l285.26"></a><span id="l285.26">   collector.getModule(&quot;account-manager-helpers&quot;).installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l286.1"></a><span id="l286.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-values.js</span>
<a href="#l286.2"></a><span id="l286.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-values.js</span>
<a href="#l286.3"></a><span id="l286.3" class="difflineat">@@ -2,20 +2,20 @@</span>
<a href="#l286.4"></a><span id="l286.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l286.5"></a><span id="l286.5">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l286.6"></a><span id="l286.6"> </span>
<a href="#l286.7"></a><span id="l286.7"> /**</span>
<a href="#l286.8"></a><span id="l286.8">  * This test checks proper operation of the account settings panes</span>
<a href="#l286.9"></a><span id="l286.9">  * when certain special or invalid values are entered into the fields.</span>
<a href="#l286.10"></a><span id="l286.10">  */</span>
<a href="#l286.11"></a><span id="l286.11"> </span>
<a href="#l286.12"></a><span id="l286.12" class="difflineminus">-const MODULE_NAME = &quot;test-account-values&quot;;</span>
<a href="#l286.13"></a><span id="l286.13" class="difflineplus">+var MODULE_NAME = &quot;test-account-values&quot;;</span>
<a href="#l286.14"></a><span id="l286.14"> </span>
<a href="#l286.15"></a><span id="l286.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l286.16"></a><span id="l286.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l286.17"></a><span id="l286.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l286.18"></a><span id="l286.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l286.19"></a><span id="l286.19">                          &quot;account-manager-helpers&quot;];</span>
<a href="#l286.20"></a><span id="l286.20"> </span>
<a href="#l286.21"></a><span id="l286.21"> var elib = {};</span>
<a href="#l286.22"></a><span id="l286.22"> Components.utils.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l286.23"></a><span id="l286.23"> </span>
<a href="#l286.24"></a><span id="l286.24"> var gPopAccount, gOriginalAccountCount;</span>
<a href="#l286.25"></a><span id="l286.25"> </span>
<a href="#l286.26"></a><span id="l286.26"> function setupModule(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l287.1"></a><span id="l287.1" class="difflineminus">--- a/mail/test/mozmill/account/test-mail-account-setup-wizard.js</span>
<a href="#l287.2"></a><span id="l287.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-mail-account-setup-wizard.js</span>
<a href="#l287.3"></a><span id="l287.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l287.4"></a><span id="l287.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l287.5"></a><span id="l287.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l287.6"></a><span id="l287.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l287.7"></a><span id="l287.7"> </span>
<a href="#l287.8"></a><span id="l287.8" class="difflineminus">-const MODULE_NAME = &quot;test-mail-account-setup-wizard&quot;;</span>
<a href="#l287.9"></a><span id="l287.9" class="difflineplus">+var MODULE_NAME = &quot;test-mail-account-setup-wizard&quot;;</span>
<a href="#l287.10"></a><span id="l287.10"> </span>
<a href="#l287.11"></a><span id="l287.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l287.12"></a><span id="l287.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l287.13"></a><span id="l287.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l287.14"></a><span id="l287.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l287.15"></a><span id="l287.15">                          &quot;account-manager-helpers&quot;, &quot;keyboard-helpers&quot; ];</span>
<a href="#l287.16"></a><span id="l287.16"> </span>
<a href="#l287.17"></a><span id="l287.17"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l287.18"></a><span id="l287.18"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l287.19"></a><span id="l287.19"> </span>
<a href="#l287.20"></a><span id="l287.20"> var mozmill = {};</span>
<a href="#l287.21"></a><span id="l287.21"> Components.utils.import(&quot;resource://mozmill/modules/mozmill.js&quot;, mozmill);</span>
<a href="#l287.22"></a><span id="l287.22"> var controller = {};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l288.1"></a><span id="l288.1" class="difflineminus">--- a/mail/test/mozmill/attachment/test-attachment-events.js</span>
<a href="#l288.2"></a><span id="l288.2" class="difflineplus">+++ b/mail/test/mozmill/attachment/test-attachment-events.js</span>
<a href="#l288.3"></a><span id="l288.3" class="difflineat">@@ -1,36 +1,36 @@</span>
<a href="#l288.4"></a><span id="l288.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l288.5"></a><span id="l288.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l288.6"></a><span id="l288.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l288.7"></a><span id="l288.7"> </span>
<a href="#l288.8"></a><span id="l288.8"> /**</span>
<a href="#l288.9"></a><span id="l288.9">  * Ensures that attachment events are fired properly</span>
<a href="#l288.10"></a><span id="l288.10">  */</span>
<a href="#l288.11"></a><span id="l288.11"> </span>
<a href="#l288.12"></a><span id="l288.12" class="difflineminus">-const MODULE_NAME = 'test-attachment-events';</span>
<a href="#l288.13"></a><span id="l288.13" class="difflineplus">+var MODULE_NAME = 'test-attachment-events';</span>
<a href="#l288.14"></a><span id="l288.14"> </span>
<a href="#l288.15"></a><span id="l288.15" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l288.16"></a><span id="l288.16" class="difflineminus">-const MODULE_REQUIRES = ['folder-display-helpers', 'compose-helpers',</span>
<a href="#l288.17"></a><span id="l288.17" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l288.18"></a><span id="l288.18" class="difflineplus">+var MODULE_REQUIRES = ['folder-display-helpers', 'compose-helpers',</span>
<a href="#l288.19"></a><span id="l288.19">                          'window-helpers', 'attachment-helpers',</span>
<a href="#l288.20"></a><span id="l288.20">                          'prompt-helpers'];</span>
<a href="#l288.21"></a><span id="l288.21"> </span>
<a href="#l288.22"></a><span id="l288.22"> var elib = {};</span>
<a href="#l288.23"></a><span id="l288.23"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l288.24"></a><span id="l288.24"> var EventUtils = {};</span>
<a href="#l288.25"></a><span id="l288.25"> Cu.import('resource://mozmill/stdlib/EventUtils.js', EventUtils);</span>
<a href="#l288.26"></a><span id="l288.26"> var os = {};</span>
<a href="#l288.27"></a><span id="l288.27"> Cu.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l288.28"></a><span id="l288.28"> </span>
<a href="#l288.29"></a><span id="l288.29"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l288.30"></a><span id="l288.30"> Cu.import('resource:///modules/iteratorUtils.jsm');</span>
<a href="#l288.31"></a><span id="l288.31"> </span>
<a href="#l288.32"></a><span id="l288.32" class="difflineminus">-const kAttachmentsAdded = &quot;attachments-added&quot;;</span>
<a href="#l288.33"></a><span id="l288.33" class="difflineminus">-const kAttachmentsRemoved = &quot;attachments-removed&quot;;</span>
<a href="#l288.34"></a><span id="l288.34" class="difflineminus">-const kAttachmentRenamed = &quot;attachment-renamed&quot;;</span>
<a href="#l288.35"></a><span id="l288.35" class="difflineplus">+var kAttachmentsAdded = &quot;attachments-added&quot;;</span>
<a href="#l288.36"></a><span id="l288.36" class="difflineplus">+var kAttachmentsRemoved = &quot;attachments-removed&quot;;</span>
<a href="#l288.37"></a><span id="l288.37" class="difflineplus">+var kAttachmentRenamed = &quot;attachment-renamed&quot;;</span>
<a href="#l288.38"></a><span id="l288.38"> </span>
<a href="#l288.39"></a><span id="l288.39"> var gPath;</span>
<a href="#l288.40"></a><span id="l288.40"> </span>
<a href="#l288.41"></a><span id="l288.41"> function setupModule(module) {</span>
<a href="#l288.42"></a><span id="l288.42">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l288.43"></a><span id="l288.43">   fdh.installInto(module);</span>
<a href="#l288.44"></a><span id="l288.44"> </span>
<a href="#l288.45"></a><span id="l288.45">   let wh = collector.getModule('window-helpers');</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l289.1"></a><span id="l289.1" class="difflineminus">--- a/mail/test/mozmill/attachment/test-attachment-menus.js</span>
<a href="#l289.2"></a><span id="l289.2" class="difflineplus">+++ b/mail/test/mozmill/attachment/test-attachment-menus.js</span>
<a href="#l289.3"></a><span id="l289.3" class="difflineat">@@ -12,25 +12,25 @@ var folder;</span>
<a href="#l289.4"></a><span id="l289.4"> var messenger;</span>
<a href="#l289.5"></a><span id="l289.5"> var epsilon;</span>
<a href="#l289.6"></a><span id="l289.6"> </span>
<a href="#l289.7"></a><span id="l289.7"> var elib = {};</span>
<a href="#l289.8"></a><span id="l289.8"> Cu.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l289.9"></a><span id="l289.9"> var os = {};</span>
<a href="#l289.10"></a><span id="l289.10"> Components.utils.import(&quot;resource://mozmill/stdlib/os.js&quot;, os);</span>
<a href="#l289.11"></a><span id="l289.11"> </span>
<a href="#l289.12"></a><span id="l289.12" class="difflineminus">-const textAttachment =</span>
<a href="#l289.13"></a><span id="l289.13" class="difflineplus">+var textAttachment =</span>
<a href="#l289.14"></a><span id="l289.14">   &quot;Can't make the frug contest, Helen; stomach's upset. I'll fix you, &quot; +</span>
<a href="#l289.15"></a><span id="l289.15">   &quot;Ubik! Ubik drops you back in the thick of things fast. Taken as &quot; +</span>
<a href="#l289.16"></a><span id="l289.16">   &quot;directed, Ubik speeds relief to head and stomach. Remember: Ubik is &quot; +</span>
<a href="#l289.17"></a><span id="l289.17">   &quot;only seconds away. Avoid prolonged use.&quot;;</span>
<a href="#l289.18"></a><span id="l289.18"> </span>
<a href="#l289.19"></a><span id="l289.19" class="difflineminus">-const detachedName = &quot;./attachment.txt&quot;;</span>
<a href="#l289.20"></a><span id="l289.20" class="difflineminus">-const missingName = &quot;./nonexistent.txt&quot;;</span>
<a href="#l289.21"></a><span id="l289.21" class="difflineminus">-const deletedName = &quot;deleted.txt&quot;;</span>
<a href="#l289.22"></a><span id="l289.22" class="difflineplus">+var detachedName = &quot;./attachment.txt&quot;;</span>
<a href="#l289.23"></a><span id="l289.23" class="difflineplus">+var missingName = &quot;./nonexistent.txt&quot;;</span>
<a href="#l289.24"></a><span id="l289.24" class="difflineplus">+var deletedName = &quot;deleted.txt&quot;;</span>
<a href="#l289.25"></a><span id="l289.25"> </span>
<a href="#l289.26"></a><span id="l289.26"> // create some messages that have various types of attachments</span>
<a href="#l289.27"></a><span id="l289.27"> var messages = [</span>
<a href="#l289.28"></a><span id="l289.28">   { name: &quot;regular_attachment&quot;,</span>
<a href="#l289.29"></a><span id="l289.29">     attachments: [{ body: textAttachment,</span>
<a href="#l289.30"></a><span id="l289.30">                     filename: &quot;ubik.txt&quot;,</span>
<a href="#l289.31"></a><span id="l289.31">                     format: &quot;&quot; }],</span>
<a href="#l289.32"></a><span id="l289.32">     menuStates: [{ open: true, save: true, detach: true, delete_: true }],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l290.1"></a><span id="l290.1" class="difflineminus">--- a/mail/test/mozmill/attachment/test-attachment-size.js</span>
<a href="#l290.2"></a><span id="l290.2" class="difflineplus">+++ b/mail/test/mozmill/attachment/test-attachment-size.js</span>
<a href="#l290.3"></a><span id="l290.3" class="difflineat">@@ -10,38 +10,38 @@ var MODULE_REQUIRES = ['folder-display-h</span>
<a href="#l290.4"></a><span id="l290.4"> </span>
<a href="#l290.5"></a><span id="l290.5"> var folder;</span>
<a href="#l290.6"></a><span id="l290.6"> var messenger;</span>
<a href="#l290.7"></a><span id="l290.7"> var epsilon;</span>
<a href="#l290.8"></a><span id="l290.8"> </span>
<a href="#l290.9"></a><span id="l290.9"> var os = {};</span>
<a href="#l290.10"></a><span id="l290.10"> Components.utils.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l290.11"></a><span id="l290.11"> </span>
<a href="#l290.12"></a><span id="l290.12" class="difflineminus">-const textAttachment =</span>
<a href="#l290.13"></a><span id="l290.13" class="difflineplus">+var textAttachment =</span>
<a href="#l290.14"></a><span id="l290.14">   &quot;Can't make the frug contest, Helen; stomach's upset. I'll fix you, &quot; +</span>
<a href="#l290.15"></a><span id="l290.15">   &quot;Ubik! Ubik drops you back in the thick of things fast. Taken as &quot; +</span>
<a href="#l290.16"></a><span id="l290.16">   &quot;directed, Ubik speeds relief to head and stomach. Remember: Ubik is &quot; +</span>
<a href="#l290.17"></a><span id="l290.17">   &quot;only seconds away. Avoid prolonged use.&quot;;</span>
<a href="#l290.18"></a><span id="l290.18"> </span>
<a href="#l290.19"></a><span id="l290.19" class="difflineminus">-const binaryAttachment = textAttachment;</span>
<a href="#l290.20"></a><span id="l290.20" class="difflineplus">+var binaryAttachment = textAttachment;</span>
<a href="#l290.21"></a><span id="l290.21"> </span>
<a href="#l290.22"></a><span id="l290.22" class="difflineminus">-const imageAttachment =</span>
<a href="#l290.23"></a><span id="l290.23" class="difflineplus">+var imageAttachment =</span>
<a href="#l290.24"></a><span id="l290.24">   'iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwS' +</span>
<a href="#l290.25"></a><span id="l290.25">   'FlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA' +</span>
<a href="#l290.26"></a><span id="l290.26">   'A5SURBVCiRY/z//z8DKYCJJNXkaGBgYGD4D8NQ5zUgiTVAxeBqSLaBkVRPM0KtIhrQ3km0jwe' +</span>
<a href="#l290.27"></a><span id="l290.27">   'SNQAAlmAY+71EgFoAAAAASUVORK5CYII=';</span>
<a href="#l290.28"></a><span id="l290.28" class="difflineminus">-const imageSize = 188;</span>
<a href="#l290.29"></a><span id="l290.29" class="difflineplus">+var imageSize = 188;</span>
<a href="#l290.30"></a><span id="l290.30"> </span>
<a href="#l290.31"></a><span id="l290.31" class="difflineminus">-const vcardAttachment =</span>
<a href="#l290.32"></a><span id="l290.32" class="difflineplus">+var vcardAttachment =</span>
<a href="#l290.33"></a><span id="l290.33">   'YmVnaW46dmNhcmQNCmZuOkppbSBCb2INCm46Qm9iO0ppbQ0KZW1haWw7aW50ZXJuZXQ6Zm9v' +</span>
<a href="#l290.34"></a><span id="l290.34">   'QGJhci5jb20NCnZlcnNpb246Mi4xDQplbmQ6dmNhcmQNCg0K';</span>
<a href="#l290.35"></a><span id="l290.35"> </span>
<a href="#l290.36"></a><span id="l290.36" class="difflineminus">-const detachedName = './attachment.txt';</span>
<a href="#l290.37"></a><span id="l290.37" class="difflineminus">-const missingName = './nonexistent.txt';</span>
<a href="#l290.38"></a><span id="l290.38" class="difflineminus">-const deletedName = 'deleted.txt';</span>
<a href="#l290.39"></a><span id="l290.39" class="difflineplus">+var detachedName = './attachment.txt';</span>
<a href="#l290.40"></a><span id="l290.40" class="difflineplus">+var missingName = './nonexistent.txt';</span>
<a href="#l290.41"></a><span id="l290.41" class="difflineplus">+var deletedName = 'deleted.txt';</span>
<a href="#l290.42"></a><span id="l290.42"> </span>
<a href="#l290.43"></a><span id="l290.43"> // create some messages that have various types of attachments</span>
<a href="#l290.44"></a><span id="l290.44"> var messages = [</span>
<a href="#l290.45"></a><span id="l290.45">   { name: 'text_attachment',</span>
<a href="#l290.46"></a><span id="l290.46">     attachments: [{ body: textAttachment,</span>
<a href="#l290.47"></a><span id="l290.47">                     filename: 'ubik.txt',</span>
<a href="#l290.48"></a><span id="l290.48">                     format: '' }],</span>
<a href="#l290.49"></a><span id="l290.49">     attachmentSizes: [textAttachment.length],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l291.1"></a><span id="l291.1" class="difflineminus">--- a/mail/test/mozmill/attachment/test-attachment.js</span>
<a href="#l291.2"></a><span id="l291.2" class="difflineplus">+++ b/mail/test/mozmill/attachment/test-attachment.js</span>
<a href="#l291.3"></a><span id="l291.3" class="difflineat">@@ -15,26 +15,26 @@ var MODULE_REQUIRES = ['folder-display-h</span>
<a href="#l291.4"></a><span id="l291.4"> var elib = {};</span>
<a href="#l291.5"></a><span id="l291.5"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l291.6"></a><span id="l291.6"> var EventUtils = {};</span>
<a href="#l291.7"></a><span id="l291.7"> Cu.import('resource://mozmill/stdlib/EventUtils.js', EventUtils);</span>
<a href="#l291.8"></a><span id="l291.8"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l291.9"></a><span id="l291.9"> </span>
<a href="#l291.10"></a><span id="l291.10"> var folder;</span>
<a href="#l291.11"></a><span id="l291.11"> </span>
<a href="#l291.12"></a><span id="l291.12" class="difflineminus">-const textAttachment =</span>
<a href="#l291.13"></a><span id="l291.13" class="difflineplus">+var textAttachment =</span>
<a href="#l291.14"></a><span id="l291.14">   &quot;One of these days... people like me will rise up and overthrow you, and &quot; +</span>
<a href="#l291.15"></a><span id="l291.15">   &quot;the end of tyranny by the homeostatic machine will have arrived. The day &quot; +</span>
<a href="#l291.16"></a><span id="l291.16">   &quot;of human values and compassion and simple warmth will return, and when &quot; +</span>
<a href="#l291.17"></a><span id="l291.17">   &quot;that happens someone like myself who has gone through an ordeal and who &quot; +</span>
<a href="#l291.18"></a><span id="l291.18">   &quot;genuinely needs hot coffee to pick him up and keep him functioning when &quot; +</span>
<a href="#l291.19"></a><span id="l291.19">   &quot;he has to function will get the hot coffee whether he happens to have a &quot; +</span>
<a href="#l291.20"></a><span id="l291.20">   &quot;poscred readily available or not.&quot;;</span>
<a href="#l291.21"></a><span id="l291.21"> </span>
<a href="#l291.22"></a><span id="l291.22" class="difflineminus">-const binaryAttachment = textAttachment;</span>
<a href="#l291.23"></a><span id="l291.23" class="difflineplus">+var binaryAttachment = textAttachment;</span>
<a href="#l291.24"></a><span id="l291.24"> </span>
<a href="#l291.25"></a><span id="l291.25"> var setupModule = function (module) {</span>
<a href="#l291.26"></a><span id="l291.26">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l291.27"></a><span id="l291.27">   fdh.installInto(module);</span>
<a href="#l291.28"></a><span id="l291.28">   let wh = collector.getModule('window-helpers');</span>
<a href="#l291.29"></a><span id="l291.29">   wh.installInto(module);</span>
<a href="#l291.30"></a><span id="l291.30">   let composeHelper = collector.getModule('compose-helpers');</span>
<a href="#l291.31"></a><span id="l291.31">   composeHelper.installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l292.1"></a><span id="l292.1" class="difflineminus">--- a/mail/test/mozmill/cloudfile/test-cloudfile-add-account-dialog.js</span>
<a href="#l292.2"></a><span id="l292.2" class="difflineplus">+++ b/mail/test/mozmill/cloudfile/test-cloudfile-add-account-dialog.js</span>
<a href="#l292.3"></a><span id="l292.3" class="difflineat">@@ -1,34 +1,34 @@</span>
<a href="#l292.4"></a><span id="l292.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l292.5"></a><span id="l292.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l292.6"></a><span id="l292.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l292.7"></a><span id="l292.7"> </span>
<a href="#l292.8"></a><span id="l292.8"> /**</span>
<a href="#l292.9"></a><span id="l292.9">  * Tests the 'Set up a Filelink Account' dialog</span>
<a href="#l292.10"></a><span id="l292.10">  */</span>
<a href="#l292.11"></a><span id="l292.11"> </span>
<a href="#l292.12"></a><span id="l292.12" class="difflineminus">-const MODULE_NAME = 'test-cloudfile-add-account-dialog';</span>
<a href="#l292.13"></a><span id="l292.13" class="difflineplus">+var MODULE_NAME = 'test-cloudfile-add-account-dialog';</span>
<a href="#l292.14"></a><span id="l292.14"> </span>
<a href="#l292.15"></a><span id="l292.15" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l292.16"></a><span id="l292.16" class="difflineminus">-const MODULE_REQUIRES = ['cloudfile-helpers',</span>
<a href="#l292.17"></a><span id="l292.17" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l292.18"></a><span id="l292.18" class="difflineplus">+var MODULE_REQUIRES = ['cloudfile-helpers',</span>
<a href="#l292.19"></a><span id="l292.19">                          'dom-helpers',</span>
<a href="#l292.20"></a><span id="l292.20">                          'folder-display-helpers',</span>
<a href="#l292.21"></a><span id="l292.21">                          'keyboard-helpers',</span>
<a href="#l292.22"></a><span id="l292.22">                          'window-helpers'];</span>
<a href="#l292.23"></a><span id="l292.23"> </span>
<a href="#l292.24"></a><span id="l292.24"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l292.25"></a><span id="l292.25"> Cu.import('resource://gre/modules/XPCOMUtils.jsm');</span>
<a href="#l292.26"></a><span id="l292.26"> Cu.import('resource:///modules/cloudFileAccounts.js');</span>
<a href="#l292.27"></a><span id="l292.27"> Cu.import('resource:///modules/iteratorUtils.jsm');</span>
<a href="#l292.28"></a><span id="l292.28"> </span>
<a href="#l292.29"></a><span id="l292.29" class="difflineminus">-const kCategory = 'cloud-files';</span>
<a href="#l292.30"></a><span id="l292.30" class="difflineminus">-const kDialogId = 'addCloudFileAccount';</span>
<a href="#l292.31"></a><span id="l292.31" class="difflineminus">-const kRootURL = collector.addHttpResource('../cloudfile/html', '');</span>
<a href="#l292.32"></a><span id="l292.32" class="difflineminus">-const kSettingsWithForm = kRootURL + 'settings-with-form.xhtml';</span>
<a href="#l292.33"></a><span id="l292.33" class="difflineplus">+var kCategory = 'cloud-files';</span>
<a href="#l292.34"></a><span id="l292.34" class="difflineplus">+var kDialogId = 'addCloudFileAccount';</span>
<a href="#l292.35"></a><span id="l292.35" class="difflineplus">+var kRootURL = collector.addHttpResource('../cloudfile/html', '');</span>
<a href="#l292.36"></a><span id="l292.36" class="difflineplus">+var kSettingsWithForm = kRootURL + 'settings-with-form.xhtml';</span>
<a href="#l292.37"></a><span id="l292.37"> </span>
<a href="#l292.38"></a><span id="l292.38"> var gOldProviders = {};</span>
<a href="#l292.39"></a><span id="l292.39"> XPCOMUtils.defineLazyServiceGetter(this, 'gCategoryMan',</span>
<a href="#l292.40"></a><span id="l292.40">                                    '@mozilla.org/categorymanager;1',</span>
<a href="#l292.41"></a><span id="l292.41">                                    'nsICategoryManager');</span>
<a href="#l292.42"></a><span id="l292.42"> </span>
<a href="#l292.43"></a><span id="l292.43"> function setupModule(module) {</span>
<a href="#l292.44"></a><span id="l292.44">   collector.getModule('dom-helpers').installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l293.1"></a><span id="l293.1" class="difflineminus">--- a/mail/test/mozmill/cloudfile/test-cloudfile-attachment-item.js</span>
<a href="#l293.2"></a><span id="l293.2" class="difflineplus">+++ b/mail/test/mozmill/cloudfile/test-cloudfile-attachment-item.js</span>
<a href="#l293.3"></a><span id="l293.3" class="difflineat">@@ -12,17 +12,17 @@ var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l293.4"></a><span id="l293.4"> var MODULE_REQUIRES = ['folder-display-helpers',</span>
<a href="#l293.5"></a><span id="l293.5">                        'compose-helpers',</span>
<a href="#l293.6"></a><span id="l293.6">                        'cloudfile-helpers',</span>
<a href="#l293.7"></a><span id="l293.7">                        'attachment-helpers']</span>
<a href="#l293.8"></a><span id="l293.8"> </span>
<a href="#l293.9"></a><span id="l293.9"> var elib = {};</span>
<a href="#l293.10"></a><span id="l293.10"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l293.11"></a><span id="l293.11"> </span>
<a href="#l293.12"></a><span id="l293.12" class="difflineminus">-const kAttachmentItemContextID = &quot;msgComposeAttachmentItemContext&quot;;</span>
<a href="#l293.13"></a><span id="l293.13" class="difflineplus">+var kAttachmentItemContextID = &quot;msgComposeAttachmentItemContext&quot;;</span>
<a href="#l293.14"></a><span id="l293.14"> </span>
<a href="#l293.15"></a><span id="l293.15"> var ah, cfh;</span>
<a href="#l293.16"></a><span id="l293.16"> </span>
<a href="#l293.17"></a><span id="l293.17"> function setupModule(module) {</span>
<a href="#l293.18"></a><span id="l293.18">   collector.getModule('folder-display-helpers').installInto(module);</span>
<a href="#l293.19"></a><span id="l293.19">   collector.getModule('compose-helpers').installInto(module);</span>
<a href="#l293.20"></a><span id="l293.20"> </span>
<a href="#l293.21"></a><span id="l293.21">   ah = collector.getModule('attachment-helpers');</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l294.1"></a><span id="l294.1" class="difflineminus">--- a/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js</span>
<a href="#l294.2"></a><span id="l294.2" class="difflineplus">+++ b/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js</span>
<a href="#l294.3"></a><span id="l294.3" class="difflineat">@@ -14,29 +14,29 @@ var MODULE_REQUIRES = ['folder-display-h</span>
<a href="#l294.4"></a><span id="l294.4">                        'cloudfile-helpers',</span>
<a href="#l294.5"></a><span id="l294.5">                        'attachment-helpers',</span>
<a href="#l294.6"></a><span id="l294.6">                        'dom-helpers',</span>
<a href="#l294.7"></a><span id="l294.7">                        'window-helpers'];</span>
<a href="#l294.8"></a><span id="l294.8"> </span>
<a href="#l294.9"></a><span id="l294.9"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l294.10"></a><span id="l294.10"> Cu.import('resource:///modules/mailServices.js');</span>
<a href="#l294.11"></a><span id="l294.11"> </span>
<a href="#l294.12"></a><span id="l294.12" class="difflineminus">-const kUploadedFile = &quot;attachment-uploaded&quot;;</span>
<a href="#l294.13"></a><span id="l294.13" class="difflineminus">-const kHtmlPrefKey = &quot;mail.identity.default.compose_html&quot;;</span>
<a href="#l294.14"></a><span id="l294.14" class="difflineminus">-const kReplyOnTopKey = &quot;mail.identity.default.reply_on_top&quot;;</span>
<a href="#l294.15"></a><span id="l294.15" class="difflineminus">-const kReplyOnTop = 1;</span>
<a href="#l294.16"></a><span id="l294.16" class="difflineminus">-const kReplyOnBottom = 0;</span>
<a href="#l294.17"></a><span id="l294.17" class="difflineminus">-const kTextNodeType = 3;</span>
<a href="#l294.18"></a><span id="l294.18" class="difflineminus">-const kSigPrefKey = &quot;mail.identity.id1.htmlSigText&quot;;</span>
<a href="#l294.19"></a><span id="l294.19" class="difflineminus">-const kSigOnReplyKey = &quot;mail.identity.default.sig_on_reply&quot;;</span>
<a href="#l294.20"></a><span id="l294.20" class="difflineminus">-const kSigOnForwardKey = &quot;mail.identity.default.sig_on_fwd&quot;;</span>
<a href="#l294.21"></a><span id="l294.21" class="difflineminus">-const kDefaultSigKey = &quot;mail.identity.id1.htmlSigText&quot;;</span>
<a href="#l294.22"></a><span id="l294.22" class="difflineminus">-const kDefaultSig = &quot;This is my signature.\n\nCheck out my website sometime!&quot;;</span>
<a href="#l294.23"></a><span id="l294.23" class="difflineminus">-const kFiles = ['./data/testFile1', './data/testFile2'];</span>
<a href="#l294.24"></a><span id="l294.24" class="difflineminus">-const kLines = [&quot;This is a line of text&quot;, &quot;and here's another!&quot;];</span>
<a href="#l294.25"></a><span id="l294.25" class="difflineplus">+var kUploadedFile = &quot;attachment-uploaded&quot;;</span>
<a href="#l294.26"></a><span id="l294.26" class="difflineplus">+var kHtmlPrefKey = &quot;mail.identity.default.compose_html&quot;;</span>
<a href="#l294.27"></a><span id="l294.27" class="difflineplus">+var kReplyOnTopKey = &quot;mail.identity.default.reply_on_top&quot;;</span>
<a href="#l294.28"></a><span id="l294.28" class="difflineplus">+var kReplyOnTop = 1;</span>
<a href="#l294.29"></a><span id="l294.29" class="difflineplus">+var kReplyOnBottom = 0;</span>
<a href="#l294.30"></a><span id="l294.30" class="difflineplus">+var kTextNodeType = 3;</span>
<a href="#l294.31"></a><span id="l294.31" class="difflineplus">+var kSigPrefKey = &quot;mail.identity.id1.htmlSigText&quot;;</span>
<a href="#l294.32"></a><span id="l294.32" class="difflineplus">+var kSigOnReplyKey = &quot;mail.identity.default.sig_on_reply&quot;;</span>
<a href="#l294.33"></a><span id="l294.33" class="difflineplus">+var kSigOnForwardKey = &quot;mail.identity.default.sig_on_fwd&quot;;</span>
<a href="#l294.34"></a><span id="l294.34" class="difflineplus">+var kDefaultSigKey = &quot;mail.identity.id1.htmlSigText&quot;;</span>
<a href="#l294.35"></a><span id="l294.35" class="difflineplus">+var kDefaultSig = &quot;This is my signature.\n\nCheck out my website sometime!&quot;;</span>
<a href="#l294.36"></a><span id="l294.36" class="difflineplus">+var kFiles = ['./data/testFile1', './data/testFile2'];</span>
<a href="#l294.37"></a><span id="l294.37" class="difflineplus">+var kLines = [&quot;This is a line of text&quot;, &quot;and here's another!&quot;];</span>
<a href="#l294.38"></a><span id="l294.38"> </span>
<a href="#l294.39"></a><span id="l294.39"> var ah, cfh, gFolder, gOldHtmlPref, gOldSigPref;</span>
<a href="#l294.40"></a><span id="l294.40"> </span>
<a href="#l294.41"></a><span id="l294.41"> function setupModule(module) {</span>
<a href="#l294.42"></a><span id="l294.42">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l294.43"></a><span id="l294.43">   fdh.installInto(module);</span>
<a href="#l294.44"></a><span id="l294.44">   collector.getModule('window-helpers').installInto(module);</span>
<a href="#l294.45"></a><span id="l294.45"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l295.1"></a><span id="l295.1" class="difflineminus">--- a/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js</span>
<a href="#l295.2"></a><span id="l295.2" class="difflineplus">+++ b/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js</span>
<a href="#l295.3"></a><span id="l295.3" class="difflineat">@@ -5,20 +5,20 @@</span>
<a href="#l295.4"></a><span id="l295.4"> /**</span>
<a href="#l295.5"></a><span id="l295.5">  * Tests the Hightail Bigfile backend.</span>
<a href="#l295.6"></a><span id="l295.6">  */</span>
<a href="#l295.7"></a><span id="l295.7"> </span>
<a href="#l295.8"></a><span id="l295.8"> var Cu = Components.utils;</span>
<a href="#l295.9"></a><span id="l295.9"> var Cc = Components.classes;</span>
<a href="#l295.10"></a><span id="l295.10"> var Ci = Components.interfaces;</span>
<a href="#l295.11"></a><span id="l295.11"> </span>
<a href="#l295.12"></a><span id="l295.12" class="difflineminus">-const MODULE_NAME = 'test-cloudfile-backend-hightail';</span>
<a href="#l295.13"></a><span id="l295.13" class="difflineplus">+var MODULE_NAME = 'test-cloudfile-backend-hightail';</span>
<a href="#l295.14"></a><span id="l295.14"> </span>
<a href="#l295.15"></a><span id="l295.15" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l295.16"></a><span id="l295.16" class="difflineminus">-const MODULE_REQUIRES = ['folder-display-helpers',</span>
<a href="#l295.17"></a><span id="l295.17" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l295.18"></a><span id="l295.18" class="difflineplus">+var MODULE_REQUIRES = ['folder-display-helpers',</span>
<a href="#l295.19"></a><span id="l295.19">                          'compose-helpers',</span>
<a href="#l295.20"></a><span id="l295.20">                          'cloudfile-hightail-helpers',</span>
<a href="#l295.21"></a><span id="l295.21">                          'observer-helpers',</span>
<a href="#l295.22"></a><span id="l295.22">                          'prompt-helpers',];</span>
<a href="#l295.23"></a><span id="l295.23"> </span>
<a href="#l295.24"></a><span id="l295.24"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l295.25"></a><span id="l295.25"> </span>
<a href="#l295.26"></a><span id="l295.26"> var gServer, gObsManager;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l296.1"></a><span id="l296.1" class="difflineminus">--- a/mail/test/mozmill/cloudfile/test-cloudfile-manager.js</span>
<a href="#l296.2"></a><span id="l296.2" class="difflineplus">+++ b/mail/test/mozmill/cloudfile/test-cloudfile-manager.js</span>
<a href="#l296.3"></a><span id="l296.3" class="difflineat">@@ -15,17 +15,17 @@ var MODULE_NAME = 'test-cloudfile-manage</span>
<a href="#l296.4"></a><span id="l296.4"> </span>
<a href="#l296.5"></a><span id="l296.5"> var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l296.6"></a><span id="l296.6"> var MODULE_REQUIRES = ['folder-display-helpers',</span>
<a href="#l296.7"></a><span id="l296.7">                        'pref-window-helpers',</span>
<a href="#l296.8"></a><span id="l296.8">                        'window-helpers'];</span>
<a href="#l296.9"></a><span id="l296.9"> </span>
<a href="#l296.10"></a><span id="l296.10"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l296.11"></a><span id="l296.11"> </span>
<a href="#l296.12"></a><span id="l296.12" class="difflineminus">-const kTestAccountType = &quot;mock&quot;;</span>
<a href="#l296.13"></a><span id="l296.13" class="difflineplus">+var kTestAccountType = &quot;mock&quot;;</span>
<a href="#l296.14"></a><span id="l296.14"> </span>
<a href="#l296.15"></a><span id="l296.15"> var cfh;</span>
<a href="#l296.16"></a><span id="l296.16"> </span>
<a href="#l296.17"></a><span id="l296.17"> function setupModule(module) {</span>
<a href="#l296.18"></a><span id="l296.18">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l296.19"></a><span id="l296.19">   fdh.installInto(module);</span>
<a href="#l296.20"></a><span id="l296.20"> </span>
<a href="#l296.21"></a><span id="l296.21">   let pwh = collector.getModule('pref-window-helpers');</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l297.1"></a><span id="l297.1" class="difflineminus">--- a/mail/test/mozmill/cloudfile/test-cloudfile-notifications.js</span>
<a href="#l297.2"></a><span id="l297.2" class="difflineplus">+++ b/mail/test/mozmill/cloudfile/test-cloudfile-notifications.js</span>
<a href="#l297.3"></a><span id="l297.3" class="difflineat">@@ -21,20 +21,20 @@ var mozmill = {};</span>
<a href="#l297.4"></a><span id="l297.4"> var elib = {};</span>
<a href="#l297.5"></a><span id="l297.5"> Cu.import('resource://mozmill/modules/controller.js', controller);</span>
<a href="#l297.6"></a><span id="l297.6"> Cu.import('resource://mozmill/modules/mozmill.js', mozmill);</span>
<a href="#l297.7"></a><span id="l297.7"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l297.8"></a><span id="l297.8"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l297.9"></a><span id="l297.9"> </span>
<a href="#l297.10"></a><span id="l297.10"> var maxSize, cfh, ah, oldInsertNotificationPref;</span>
<a href="#l297.11"></a><span id="l297.11"> </span>
<a href="#l297.12"></a><span id="l297.12" class="difflineminus">-const kOfferThreshold = &quot;mail.compose.big_attachments.threshold_kb&quot;;</span>
<a href="#l297.13"></a><span id="l297.13" class="difflineminus">-const kInsertNotificationPref = &quot;mail.compose.big_attachments.insert_notification&quot;;</span>
<a href="#l297.14"></a><span id="l297.14" class="difflineplus">+var kOfferThreshold = &quot;mail.compose.big_attachments.threshold_kb&quot;;</span>
<a href="#l297.15"></a><span id="l297.15" class="difflineplus">+var kInsertNotificationPref = &quot;mail.compose.big_attachments.insert_notification&quot;;</span>
<a href="#l297.16"></a><span id="l297.16"> </span>
<a href="#l297.17"></a><span id="l297.17" class="difflineminus">-const kBoxId = &quot;attachmentNotificationBox&quot;;</span>
<a href="#l297.18"></a><span id="l297.18" class="difflineplus">+var kBoxId = &quot;attachmentNotificationBox&quot;;</span>
<a href="#l297.19"></a><span id="l297.19"> </span>
<a href="#l297.20"></a><span id="l297.20"> function setupModule(module) {</span>
<a href="#l297.21"></a><span id="l297.21">   collector.getModule('folder-display-helpers').installInto(module);</span>
<a href="#l297.22"></a><span id="l297.22">   collector.getModule('compose-helpers').installInto(module);</span>
<a href="#l297.23"></a><span id="l297.23"> </span>
<a href="#l297.24"></a><span id="l297.24">   cfh = collector.getModule('cloudfile-helpers');</span>
<a href="#l297.25"></a><span id="l297.25">   cfh.installInto(module);</span>
<a href="#l297.26"></a><span id="l297.26">   cfh.gMockCloudfileManager.register();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l298.1"></a><span id="l298.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-address-widgets.js</span>
<a href="#l298.2"></a><span id="l298.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-address-widgets.js</span>
<a href="#l298.3"></a><span id="l298.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l298.4"></a><span id="l298.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l298.5"></a><span id="l298.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l298.6"></a><span id="l298.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l298.7"></a><span id="l298.7"> </span>
<a href="#l298.8"></a><span id="l298.8"> /**</span>
<a href="#l298.9"></a><span id="l298.9">  * Tests proper enabling of addressing widgets.</span>
<a href="#l298.10"></a><span id="l298.10">  */</span>
<a href="#l298.11"></a><span id="l298.11"> </span>
<a href="#l298.12"></a><span id="l298.12" class="difflineminus">-const MODULE_NAME = &quot;test-address-widgets&quot;;</span>
<a href="#l298.13"></a><span id="l298.13" class="difflineplus">+var MODULE_NAME = &quot;test-address-widgets&quot;;</span>
<a href="#l298.14"></a><span id="l298.14"> </span>
<a href="#l298.15"></a><span id="l298.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l298.16"></a><span id="l298.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;,</span>
<a href="#l298.17"></a><span id="l298.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l298.18"></a><span id="l298.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;,</span>
<a href="#l298.19"></a><span id="l298.19">                          &quot;window-helpers&quot;];</span>
<a href="#l298.20"></a><span id="l298.20"> </span>
<a href="#l298.21"></a><span id="l298.21"> var cwc = null; // compose window controller</span>
<a href="#l298.22"></a><span id="l298.22"> var accountPOP3 = null;</span>
<a href="#l298.23"></a><span id="l298.23"> var accountNNTP = null;</span>
<a href="#l298.24"></a><span id="l298.24"> </span>
<a href="#l298.25"></a><span id="l298.25"> function setupModule(module) {</span>
<a href="#l298.26"></a><span id="l298.26">   for (let lib of MODULE_REQUIRES) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l299.1"></a><span id="l299.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-attachment-reminder.js</span>
<a href="#l299.2"></a><span id="l299.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-attachment-reminder.js</span>
<a href="#l299.3"></a><span id="l299.3" class="difflineat">@@ -3,31 +3,31 @@</span>
<a href="#l299.4"></a><span id="l299.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l299.5"></a><span id="l299.5"> </span>
<a href="#l299.6"></a><span id="l299.6"> /**</span>
<a href="#l299.7"></a><span id="l299.7">  * Tests that the attachment reminder works properly.</span>
<a href="#l299.8"></a><span id="l299.8">  */</span>
<a href="#l299.9"></a><span id="l299.9"> </span>
<a href="#l299.10"></a><span id="l299.10"> // make SOLO_TEST=composition/test-attachment-reminder.js mozmill-one</span>
<a href="#l299.11"></a><span id="l299.11"> </span>
<a href="#l299.12"></a><span id="l299.12" class="difflineminus">-const MODULE_NAME = &quot;test-attachment-reminder&quot;;</span>
<a href="#l299.13"></a><span id="l299.13" class="difflineplus">+var MODULE_NAME = &quot;test-attachment-reminder&quot;;</span>
<a href="#l299.14"></a><span id="l299.14"> </span>
<a href="#l299.15"></a><span id="l299.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l299.16"></a><span id="l299.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l299.17"></a><span id="l299.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l299.18"></a><span id="l299.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l299.19"></a><span id="l299.19">                          &quot;compose-helpers&quot;,</span>
<a href="#l299.20"></a><span id="l299.20">                          &quot;window-helpers&quot;,</span>
<a href="#l299.21"></a><span id="l299.21">                          &quot;notificationbox-helpers&quot;,</span>
<a href="#l299.22"></a><span id="l299.22">                          &quot;keyboard-helpers&quot;];</span>
<a href="#l299.23"></a><span id="l299.23"> </span>
<a href="#l299.24"></a><span id="l299.24"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l299.25"></a><span id="l299.25"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l299.26"></a><span id="l299.26"> </span>
<a href="#l299.27"></a><span id="l299.27" class="difflineminus">-const kBoxId = &quot;attachmentNotificationBox&quot;;</span>
<a href="#l299.28"></a><span id="l299.28" class="difflineminus">-const kNotificationId = &quot;attachmentReminder&quot;;</span>
<a href="#l299.29"></a><span id="l299.29" class="difflineminus">-const kReminderPref = &quot;mail.compose.attachment_reminder&quot;;</span>
<a href="#l299.30"></a><span id="l299.30" class="difflineplus">+var kBoxId = &quot;attachmentNotificationBox&quot;;</span>
<a href="#l299.31"></a><span id="l299.31" class="difflineplus">+var kNotificationId = &quot;attachmentReminder&quot;;</span>
<a href="#l299.32"></a><span id="l299.32" class="difflineplus">+var kReminderPref = &quot;mail.compose.attachment_reminder&quot;;</span>
<a href="#l299.33"></a><span id="l299.33"> </span>
<a href="#l299.34"></a><span id="l299.34"> function setupModule(module) {</span>
<a href="#l299.35"></a><span id="l299.35">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l299.36"></a><span id="l299.36">     collector.getModule(lib).installInto(module);</span>
<a href="#l299.37"></a><span id="l299.37">   }</span>
<a href="#l299.38"></a><span id="l299.38"> </span>
<a href="#l299.39"></a><span id="l299.39">   assert_true(Services.prefs.getBoolPref(kReminderPref));</span>
<a href="#l299.40"></a><span id="l299.40"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l300.1"></a><span id="l300.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-attachment.js</span>
<a href="#l300.2"></a><span id="l300.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-attachment.js</span>
<a href="#l300.3"></a><span id="l300.3" class="difflineat">@@ -23,28 +23,28 @@ var messenger;</span>
<a href="#l300.4"></a><span id="l300.4"> var folder;</span>
<a href="#l300.5"></a><span id="l300.5"> var epsilon;</span>
<a href="#l300.6"></a><span id="l300.6"> var isWindows;</span>
<a href="#l300.7"></a><span id="l300.7"> var filePrefix;</span>
<a href="#l300.8"></a><span id="l300.8"> </span>
<a href="#l300.9"></a><span id="l300.9"> var os = {};</span>
<a href="#l300.10"></a><span id="l300.10"> Components.utils.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l300.11"></a><span id="l300.11"> </span>
<a href="#l300.12"></a><span id="l300.12" class="difflineminus">-const rawAttachment =</span>
<a href="#l300.13"></a><span id="l300.13" class="difflineplus">+var rawAttachment =</span>
<a href="#l300.14"></a><span id="l300.14">   &quot;Can't make the frug contest, Helen; stomach's upset. I'll fix you, &quot; +</span>
<a href="#l300.15"></a><span id="l300.15">   &quot;Ubik! Ubik drops you back in the thick of things fast. Taken as &quot; +</span>
<a href="#l300.16"></a><span id="l300.16">   &quot;directed, Ubik speeds relief to head and stomach. Remember: Ubik is &quot; +</span>
<a href="#l300.17"></a><span id="l300.17">   &quot;only seconds away. Avoid prolonged use.&quot;;</span>
<a href="#l300.18"></a><span id="l300.18"> </span>
<a href="#l300.19"></a><span id="l300.19" class="difflineminus">-const b64Attachment =</span>
<a href="#l300.20"></a><span id="l300.20" class="difflineplus">+var b64Attachment =</span>
<a href="#l300.21"></a><span id="l300.21">   'iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwS' +</span>
<a href="#l300.22"></a><span id="l300.22">   'FlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA' +</span>
<a href="#l300.23"></a><span id="l300.23">   'A5SURBVCiRY/z//z8DKYCJJNXkaGBgYGD4D8NQ5zUgiTVAxeBqSLaBkVRPM0KtIhrQ3km0jwe' +</span>
<a href="#l300.24"></a><span id="l300.24">   'SNQAAlmAY+71EgFoAAAAASUVORK5CYII=';</span>
<a href="#l300.25"></a><span id="l300.25" class="difflineminus">-const b64Size = 188;</span>
<a href="#l300.26"></a><span id="l300.26" class="difflineplus">+var b64Size = 188;</span>
<a href="#l300.27"></a><span id="l300.27"> </span>
<a href="#l300.28"></a><span id="l300.28"> function setupModule(module) {</span>
<a href="#l300.29"></a><span id="l300.29">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l300.30"></a><span id="l300.30">   fdh.installInto(module);</span>
<a href="#l300.31"></a><span id="l300.31">   let ch = collector.getModule(&quot;compose-helpers&quot;);</span>
<a href="#l300.32"></a><span id="l300.32">   ch.installInto(module);</span>
<a href="#l300.33"></a><span id="l300.33">   let wh = collector.getModule('window-helpers');</span>
<a href="#l300.34"></a><span id="l300.34">   wh.installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l301.1"></a><span id="l301.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-charset-edit.js</span>
<a href="#l301.2"></a><span id="l301.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-charset-edit.js</span>
<a href="#l301.3"></a><span id="l301.3" class="difflineat">@@ -4,20 +4,20 @@</span>
<a href="#l301.4"></a><span id="l301.4"> </span>
<a href="#l301.5"></a><span id="l301.5"> /**</span>
<a href="#l301.6"></a><span id="l301.6">  * Tests that we do the right thing wrt. message encoding when editing or</span>
<a href="#l301.7"></a><span id="l301.7">  * replying to messages.</span>
<a href="#l301.8"></a><span id="l301.8">  */</span>
<a href="#l301.9"></a><span id="l301.9"> </span>
<a href="#l301.10"></a><span id="l301.10"> // make SOLO_TEST=composition/test-charset-edit.js mozmill-one</span>
<a href="#l301.11"></a><span id="l301.11"> </span>
<a href="#l301.12"></a><span id="l301.12" class="difflineminus">-const MODULE_NAME = &quot;test-charset-upgrade&quot;;</span>
<a href="#l301.13"></a><span id="l301.13" class="difflineplus">+var MODULE_NAME = &quot;test-charset-upgrade&quot;;</span>
<a href="#l301.14"></a><span id="l301.14"> </span>
<a href="#l301.15"></a><span id="l301.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l301.16"></a><span id="l301.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l301.17"></a><span id="l301.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l301.18"></a><span id="l301.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l301.19"></a><span id="l301.19"> </span>
<a href="#l301.20"></a><span id="l301.20"> var os = {};</span>
<a href="#l301.21"></a><span id="l301.21"> Cu.import(&quot;resource://mozmill/stdlib/os.js&quot;, os);</span>
<a href="#l301.22"></a><span id="l301.22"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l301.23"></a><span id="l301.23"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l301.24"></a><span id="l301.24"> Cu.import(&quot;resource:///modules/mimeParser.jsm&quot;);</span>
<a href="#l301.25"></a><span id="l301.25"> var elib = {};</span>
<a href="#l301.26"></a><span id="l301.26"> Cu.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l302.1"></a><span id="l302.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-charset-upgrade.js</span>
<a href="#l302.2"></a><span id="l302.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-charset-upgrade.js</span>
<a href="#l302.3"></a><span id="l302.3" class="difflineat">@@ -4,20 +4,20 @@</span>
<a href="#l302.4"></a><span id="l302.4"> </span>
<a href="#l302.5"></a><span id="l302.5"> /**</span>
<a href="#l302.6"></a><span id="l302.6">  * Tests that we do the right thing wrt. message encoding, especially when</span>
<a href="#l302.7"></a><span id="l302.7">  * all characters doesn't fit the selected charset.</span>
<a href="#l302.8"></a><span id="l302.8">  */</span>
<a href="#l302.9"></a><span id="l302.9"> </span>
<a href="#l302.10"></a><span id="l302.10"> // make SOLO_TEST=composition/test-charset-upgrade.js mozmill-one</span>
<a href="#l302.11"></a><span id="l302.11"> </span>
<a href="#l302.12"></a><span id="l302.12" class="difflineminus">-const MODULE_NAME = &quot;test-charset-upgrade&quot;;</span>
<a href="#l302.13"></a><span id="l302.13" class="difflineplus">+var MODULE_NAME = &quot;test-charset-upgrade&quot;;</span>
<a href="#l302.14"></a><span id="l302.14"> </span>
<a href="#l302.15"></a><span id="l302.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l302.16"></a><span id="l302.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l302.17"></a><span id="l302.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l302.18"></a><span id="l302.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l302.19"></a><span id="l302.19"> </span>
<a href="#l302.20"></a><span id="l302.20"> var os = {};</span>
<a href="#l302.21"></a><span id="l302.21"> Cu.import(&quot;resource://mozmill/stdlib/os.js&quot;, os);</span>
<a href="#l302.22"></a><span id="l302.22"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l302.23"></a><span id="l302.23"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l302.24"></a><span id="l302.24"> var elib = {};</span>
<a href="#l302.25"></a><span id="l302.25"> Cu.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l302.26"></a><span id="l302.26"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l303.1"></a><span id="l303.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-drafts.js</span>
<a href="#l303.2"></a><span id="l303.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-drafts.js</span>
<a href="#l303.3"></a><span id="l303.3" class="difflineat">@@ -4,25 +4,25 @@</span>
<a href="#l303.4"></a><span id="l303.4"> </span>
<a href="#l303.5"></a><span id="l303.5"> /**</span>
<a href="#l303.6"></a><span id="l303.6">  * Tests draft related functionality:</span>
<a href="#l303.7"></a><span id="l303.7">  * - that we don't allow opening multiple copies of a draft.</span>
<a href="#l303.8"></a><span id="l303.8">  */</span>
<a href="#l303.9"></a><span id="l303.9"> </span>
<a href="#l303.10"></a><span id="l303.10"> // make SOLO_TEST=composition/test-drafts.js mozmill-one</span>
<a href="#l303.11"></a><span id="l303.11"> </span>
<a href="#l303.12"></a><span id="l303.12" class="difflineminus">-const MODULE_NAME = &quot;test-drafts&quot;;</span>
<a href="#l303.13"></a><span id="l303.13" class="difflineplus">+var MODULE_NAME = &quot;test-drafts&quot;;</span>
<a href="#l303.14"></a><span id="l303.14"> </span>
<a href="#l303.15"></a><span id="l303.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l303.16"></a><span id="l303.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l303.17"></a><span id="l303.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l303.18"></a><span id="l303.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l303.19"></a><span id="l303.19"> </span>
<a href="#l303.20"></a><span id="l303.20"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l303.21"></a><span id="l303.21"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l303.22"></a><span id="l303.22"> </span>
<a href="#l303.23"></a><span id="l303.23" class="difflineminus">-const kBoxId = &quot;msgNotificationBar&quot;;</span>
<a href="#l303.24"></a><span id="l303.24" class="difflineplus">+var kBoxId = &quot;msgNotificationBar&quot;;</span>
<a href="#l303.25"></a><span id="l303.25"> var draftsFolder;</span>
<a href="#l303.26"></a><span id="l303.26"> </span>
<a href="#l303.27"></a><span id="l303.27"> function setupModule(module) {</span>
<a href="#l303.28"></a><span id="l303.28">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l303.29"></a><span id="l303.29">   collector.getModule(&quot;compose-helpers&quot;).installInto(module);</span>
<a href="#l303.30"></a><span id="l303.30">   collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l303.31"></a><span id="l303.31"> </span>
<a href="#l303.32"></a><span id="l303.32">   if (!MailServices.accounts</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l304.1"></a><span id="l304.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-eml-actions.js</span>
<a href="#l304.2"></a><span id="l304.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-eml-actions.js</span>
<a href="#l304.3"></a><span id="l304.3" class="difflineat">@@ -3,20 +3,20 @@</span>
<a href="#l304.4"></a><span id="l304.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l304.5"></a><span id="l304.5"> </span>
<a href="#l304.6"></a><span id="l304.6"> /**</span>
<a href="#l304.7"></a><span id="l304.7">  * Tests that actions such as replying to an .eml works properly.</span>
<a href="#l304.8"></a><span id="l304.8">  */</span>
<a href="#l304.9"></a><span id="l304.9"> </span>
<a href="#l304.10"></a><span id="l304.10"> // make SOLO_TEST=composition/test-eml-actions.js mozmill-one</span>
<a href="#l304.11"></a><span id="l304.11"> </span>
<a href="#l304.12"></a><span id="l304.12" class="difflineminus">-const MODULE_NAME = &quot;test-eml-actions&quot;;</span>
<a href="#l304.13"></a><span id="l304.13" class="difflineplus">+var MODULE_NAME = &quot;test-eml-actions&quot;;</span>
<a href="#l304.14"></a><span id="l304.14"> </span>
<a href="#l304.15"></a><span id="l304.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l304.16"></a><span id="l304.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l304.17"></a><span id="l304.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l304.18"></a><span id="l304.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l304.19"></a><span id="l304.19"> </span>
<a href="#l304.20"></a><span id="l304.20"> var os = {};</span>
<a href="#l304.21"></a><span id="l304.21"> Cu.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l304.22"></a><span id="l304.22"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l304.23"></a><span id="l304.23"> var elib = {};</span>
<a href="#l304.24"></a><span id="l304.24"> Cu.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l304.25"></a><span id="l304.25"> </span>
<a href="#l304.26"></a><span id="l304.26"> function setupModule(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l305.1"></a><span id="l305.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-forward-headers.js</span>
<a href="#l305.2"></a><span id="l305.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-forward-headers.js</span>
<a href="#l305.3"></a><span id="l305.3" class="difflineat">@@ -2,20 +2,20 @@</span>
<a href="#l305.4"></a><span id="l305.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l305.5"></a><span id="l305.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l305.6"></a><span id="l305.6"> </span>
<a href="#l305.7"></a><span id="l305.7"> /**</span>
<a href="#l305.8"></a><span id="l305.8">  * Tests that headers like References and X-Forwarded-Message-Id are</span>
<a href="#l305.9"></a><span id="l305.9">  * set properly when forwarding messages.</span>
<a href="#l305.10"></a><span id="l305.10">  */</span>
<a href="#l305.11"></a><span id="l305.11"> </span>
<a href="#l305.12"></a><span id="l305.12" class="difflineminus">-const MODULE_NAME = &quot;test-forward-headers&quot;;</span>
<a href="#l305.13"></a><span id="l305.13" class="difflineplus">+var MODULE_NAME = &quot;test-forward-headers&quot;;</span>
<a href="#l305.14"></a><span id="l305.14"> </span>
<a href="#l305.15"></a><span id="l305.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l305.16"></a><span id="l305.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l305.17"></a><span id="l305.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l305.18"></a><span id="l305.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l305.19"></a><span id="l305.19">                          &quot;message-helpers&quot;];</span>
<a href="#l305.20"></a><span id="l305.20"> var jumlib = {};</span>
<a href="#l305.21"></a><span id="l305.21"> Components.utils.import(&quot;resource://mozmill/modules/jum.js&quot;, jumlib);</span>
<a href="#l305.22"></a><span id="l305.22"> var elib = {};</span>
<a href="#l305.23"></a><span id="l305.23"> Components.utils.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l305.24"></a><span id="l305.24"> </span>
<a href="#l305.25"></a><span id="l305.25"> var composeHelper = null;</span>
<a href="#l305.26"></a><span id="l305.26"> var cwc = null; // compose window controller</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l306.1"></a><span id="l306.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-forwarded-content.js</span>
<a href="#l306.2"></a><span id="l306.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-forwarded-content.js</span>
<a href="#l306.3"></a><span id="l306.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l306.4"></a><span id="l306.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l306.5"></a><span id="l306.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l306.6"></a><span id="l306.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l306.7"></a><span id="l306.7"> </span>
<a href="#l306.8"></a><span id="l306.8"> /**</span>
<a href="#l306.9"></a><span id="l306.9">  * Tests that forwarded content is ok.</span>
<a href="#l306.10"></a><span id="l306.10">  */</span>
<a href="#l306.11"></a><span id="l306.11"> </span>
<a href="#l306.12"></a><span id="l306.12" class="difflineminus">-const MODULE_NAME = &quot;test-forwarded-content&quot;;</span>
<a href="#l306.13"></a><span id="l306.13" class="difflineplus">+var MODULE_NAME = &quot;test-forwarded-content&quot;;</span>
<a href="#l306.14"></a><span id="l306.14"> </span>
<a href="#l306.15"></a><span id="l306.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l306.16"></a><span id="l306.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l306.17"></a><span id="l306.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l306.18"></a><span id="l306.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l306.19"></a><span id="l306.19">                          &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l306.20"></a><span id="l306.20"> </span>
<a href="#l306.21"></a><span id="l306.21"> var elib = {};</span>
<a href="#l306.22"></a><span id="l306.22"> Components.utils.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l306.23"></a><span id="l306.23"> </span>
<a href="#l306.24"></a><span id="l306.24"> var folderHelper = null;</span>
<a href="#l306.25"></a><span id="l306.25"> var windowindowHelperelper = null;</span>
<a href="#l306.26"></a><span id="l306.26"> var composeHelper = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l307.1"></a><span id="l307.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-forwarded-eml-actions.js</span>
<a href="#l307.2"></a><span id="l307.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-forwarded-eml-actions.js</span>
<a href="#l307.3"></a><span id="l307.3" class="difflineat">@@ -4,20 +4,20 @@</span>
<a href="#l307.4"></a><span id="l307.4"> </span>
<a href="#l307.5"></a><span id="l307.5"> /**</span>
<a href="#l307.6"></a><span id="l307.6">  * Tests that actions such as replying and forwarding works correctly from</span>
<a href="#l307.7"></a><span id="l307.7">  * an .eml message that's attached to another mail.</span>
<a href="#l307.8"></a><span id="l307.8">  */</span>
<a href="#l307.9"></a><span id="l307.9"> </span>
<a href="#l307.10"></a><span id="l307.10"> // make SOLO_TEST=composition/test-forwarded-eml-actions.js mozmill-one</span>
<a href="#l307.11"></a><span id="l307.11"> </span>
<a href="#l307.12"></a><span id="l307.12" class="difflineminus">-const MODULE_NAME = &quot;test-forwarded-eml-actions&quot;;</span>
<a href="#l307.13"></a><span id="l307.13" class="difflineplus">+var MODULE_NAME = &quot;test-forwarded-eml-actions&quot;;</span>
<a href="#l307.14"></a><span id="l307.14"> </span>
<a href="#l307.15"></a><span id="l307.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l307.16"></a><span id="l307.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l307.17"></a><span id="l307.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l307.18"></a><span id="l307.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l307.19"></a><span id="l307.19">                          &quot;compose-helpers&quot;];</span>
<a href="#l307.20"></a><span id="l307.20"> </span>
<a href="#l307.21"></a><span id="l307.21"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l307.22"></a><span id="l307.22"> var elib = {};</span>
<a href="#l307.23"></a><span id="l307.23"> Cu.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l307.24"></a><span id="l307.24"> </span>
<a href="#l307.25"></a><span id="l307.25"> var folder;</span>
<a href="#l307.26"></a><span id="l307.26"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l308.1"></a><span id="l308.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-multipart-related.js</span>
<a href="#l308.2"></a><span id="l308.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-multipart-related.js</span>
<a href="#l308.3"></a><span id="l308.3" class="difflineat">@@ -3,20 +3,20 @@</span>
<a href="#l308.4"></a><span id="l308.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l308.5"></a><span id="l308.5"> </span>
<a href="#l308.6"></a><span id="l308.6"> /**</span>
<a href="#l308.7"></a><span id="l308.7">  * Tests that multipart/related messages are handled properly.</span>
<a href="#l308.8"></a><span id="l308.8">  */</span>
<a href="#l308.9"></a><span id="l308.9"> </span>
<a href="#l308.10"></a><span id="l308.10"> // make SOLO_TEST=composition/test-multipart-related.js mozmill-one</span>
<a href="#l308.11"></a><span id="l308.11"> </span>
<a href="#l308.12"></a><span id="l308.12" class="difflineminus">-const MODULE_NAME = &quot;test-multipart-related&quot;;</span>
<a href="#l308.13"></a><span id="l308.13" class="difflineplus">+var MODULE_NAME = &quot;test-multipart-related&quot;;</span>
<a href="#l308.14"></a><span id="l308.14"> </span>
<a href="#l308.15"></a><span id="l308.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l308.16"></a><span id="l308.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l308.17"></a><span id="l308.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l308.18"></a><span id="l308.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l308.19"></a><span id="l308.19"> </span>
<a href="#l308.20"></a><span id="l308.20"> var os = {};</span>
<a href="#l308.21"></a><span id="l308.21"> Cu.import(&quot;resource://mozmill/stdlib/os.js&quot;, os);</span>
<a href="#l308.22"></a><span id="l308.22"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l308.23"></a><span id="l308.23"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l308.24"></a><span id="l308.24"> Cu.import(&quot;resource:///modules/mimeParser.jsm&quot;);</span>
<a href="#l308.25"></a><span id="l308.25"> var elib = {};</span>
<a href="#l308.26"></a><span id="l308.26"> Cu.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l309.1"></a><span id="l309.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-newmsg-compose-identity.js</span>
<a href="#l309.2"></a><span id="l309.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-newmsg-compose-identity.js</span>
<a href="#l309.3"></a><span id="l309.3" class="difflineat">@@ -2,26 +2,26 @@</span>
<a href="#l309.4"></a><span id="l309.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l309.5"></a><span id="l309.5">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l309.6"></a><span id="l309.6"> </span>
<a href="#l309.7"></a><span id="l309.7"> /**</span>
<a href="#l309.8"></a><span id="l309.8">  * Tests that compose new message chooses the correct initial identity when</span>
<a href="#l309.9"></a><span id="l309.9">  * called from the context of an open composer.</span>
<a href="#l309.10"></a><span id="l309.10">  */</span>
<a href="#l309.11"></a><span id="l309.11"> </span>
<a href="#l309.12"></a><span id="l309.12" class="difflineminus">-const MODULE_NAME = &quot;test-newmsg-compose-identity&quot;;</span>
<a href="#l309.13"></a><span id="l309.13" class="difflineplus">+var MODULE_NAME = &quot;test-newmsg-compose-identity&quot;;</span>
<a href="#l309.14"></a><span id="l309.14"> </span>
<a href="#l309.15"></a><span id="l309.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l309.16"></a><span id="l309.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l309.17"></a><span id="l309.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l309.18"></a><span id="l309.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l309.19"></a><span id="l309.19">                          &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l309.20"></a><span id="l309.20"> </span>
<a href="#l309.21"></a><span id="l309.21"> var account;</span>
<a href="#l309.22"></a><span id="l309.22"> </span>
<a href="#l309.23"></a><span id="l309.23" class="difflineminus">-const identity1Email = &quot;x@example.com&quot;;</span>
<a href="#l309.24"></a><span id="l309.24" class="difflineminus">-const identity2Email = &quot;y@example.com&quot;;</span>
<a href="#l309.25"></a><span id="l309.25" class="difflineplus">+var identity1Email = &quot;x@example.com&quot;;</span>
<a href="#l309.26"></a><span id="l309.26" class="difflineplus">+var identity2Email = &quot;y@example.com&quot;;</span>
<a href="#l309.27"></a><span id="l309.27"> </span>
<a href="#l309.28"></a><span id="l309.28"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l309.29"></a><span id="l309.29"> </span>
<a href="#l309.30"></a><span id="l309.30"> function setupModule(module) {</span>
<a href="#l309.31"></a><span id="l309.31">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l309.32"></a><span id="l309.32">   collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l309.33"></a><span id="l309.33">   collector.getModule(&quot;compose-helpers&quot;).installInto(module);</span>
<a href="#l309.34"></a><span id="l309.34"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l310.1"></a><span id="l310.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-reply-addresses.js</span>
<a href="#l310.2"></a><span id="l310.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-reply-addresses.js</span>
<a href="#l310.3"></a><span id="l310.3" class="difflineat">@@ -5,27 +5,27 @@</span>
<a href="#l310.4"></a><span id="l310.4"> /**</span>
<a href="#l310.5"></a><span id="l310.5">  * Tests that we get correct adressees for different type of replies:</span>
<a href="#l310.6"></a><span id="l310.6">  * reply to sender, reply to all, reply to list, mail-followup-tp,</span>
<a href="#l310.7"></a><span id="l310.7">  * mail-reply-to, and reply to self.</span>
<a href="#l310.8"></a><span id="l310.8">  */</span>
<a href="#l310.9"></a><span id="l310.9"> </span>
<a href="#l310.10"></a><span id="l310.10"> // make SOLO_TEST=composition/test-reply-addresses.js mozmill-one</span>
<a href="#l310.11"></a><span id="l310.11"> </span>
<a href="#l310.12"></a><span id="l310.12" class="difflineminus">-const MODULE_NAME = &quot;test-reply-addresses&quot;;</span>
<a href="#l310.13"></a><span id="l310.13" class="difflineplus">+var MODULE_NAME = &quot;test-reply-addresses&quot;;</span>
<a href="#l310.14"></a><span id="l310.14"> </span>
<a href="#l310.15"></a><span id="l310.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l310.16"></a><span id="l310.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l310.17"></a><span id="l310.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l310.18"></a><span id="l310.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l310.19"></a><span id="l310.19">                          &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l310.20"></a><span id="l310.20"> </span>
<a href="#l310.21"></a><span id="l310.21"> var folder;</span>
<a href="#l310.22"></a><span id="l310.22"> var i = 0;</span>
<a href="#l310.23"></a><span id="l310.23"> </span>
<a href="#l310.24"></a><span id="l310.24" class="difflineminus">-const myEmail = &quot;me@example.com&quot;;</span>
<a href="#l310.25"></a><span id="l310.25" class="difflineminus">-const myEmail2 = &quot;otherme@example.com&quot;;</span>
<a href="#l310.26"></a><span id="l310.26" class="difflineplus">+var myEmail = &quot;me@example.com&quot;;</span>
<a href="#l310.27"></a><span id="l310.27" class="difflineplus">+var myEmail2 = &quot;otherme@example.com&quot;;</span>
<a href="#l310.28"></a><span id="l310.28"> </span>
<a href="#l310.29"></a><span id="l310.29"> var identity;</span>
<a href="#l310.30"></a><span id="l310.30"> </span>
<a href="#l310.31"></a><span id="l310.31"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l310.32"></a><span id="l310.32"> </span>
<a href="#l310.33"></a><span id="l310.33"> function setupModule(module) {</span>
<a href="#l310.34"></a><span id="l310.34">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l310.35"></a><span id="l310.35">   collector.getModule(&quot;window-helpers&quot;).installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l311.1"></a><span id="l311.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-reply-signature.js</span>
<a href="#l311.2"></a><span id="l311.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-reply-signature.js</span>
<a href="#l311.3"></a><span id="l311.3" class="difflineat">@@ -3,28 +3,28 @@</span>
<a href="#l311.4"></a><span id="l311.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l311.5"></a><span id="l311.5"> </span>
<a href="#l311.6"></a><span id="l311.6"> /**</span>
<a href="#l311.7"></a><span id="l311.7">  * Tests the mail.strip_sig_on_reply pref.</span>
<a href="#l311.8"></a><span id="l311.8">  */</span>
<a href="#l311.9"></a><span id="l311.9"> </span>
<a href="#l311.10"></a><span id="l311.10"> // make SOLO_TEST=composition/test-reply-signature.js mozmill-one</span>
<a href="#l311.11"></a><span id="l311.11"> </span>
<a href="#l311.12"></a><span id="l311.12" class="difflineminus">-const MODULE_NAME = &quot;test-reply-signature&quot;;</span>
<a href="#l311.13"></a><span id="l311.13" class="difflineplus">+var MODULE_NAME = &quot;test-reply-signature&quot;;</span>
<a href="#l311.14"></a><span id="l311.14"> </span>
<a href="#l311.15"></a><span id="l311.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l311.16"></a><span id="l311.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l311.17"></a><span id="l311.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l311.18"></a><span id="l311.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l311.19"></a><span id="l311.19">                          &quot;message-helpers&quot;];</span>
<a href="#l311.20"></a><span id="l311.20"> var jumlib = {};</span>
<a href="#l311.21"></a><span id="l311.21"> Components.utils.import(&quot;resource://mozmill/modules/jum.js&quot;, jumlib);</span>
<a href="#l311.22"></a><span id="l311.22"> var elib = {};</span>
<a href="#l311.23"></a><span id="l311.23"> Components.utils.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l311.24"></a><span id="l311.24"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l311.25"></a><span id="l311.25"> </span>
<a href="#l311.26"></a><span id="l311.26" class="difflineminus">-const sig = &quot;roses are red&quot;;</span>
<a href="#l311.27"></a><span id="l311.27" class="difflineplus">+var sig = &quot;roses are red&quot;;</span>
<a href="#l311.28"></a><span id="l311.28"> var folder;</span>
<a href="#l311.29"></a><span id="l311.29"> </span>
<a href="#l311.30"></a><span id="l311.30"> function setupModule(module) {</span>
<a href="#l311.31"></a><span id="l311.31">     for (let req of MODULE_REQUIRES) {</span>
<a href="#l311.32"></a><span id="l311.32">     collector.getModule(req).installInto(module);</span>
<a href="#l311.33"></a><span id="l311.33">   }</span>
<a href="#l311.34"></a><span id="l311.34"> </span>
<a href="#l311.35"></a><span id="l311.35">   folder = create_folder(&quot;SigStripTest&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l312.1"></a><span id="l312.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-save-changes-on-quit.js</span>
<a href="#l312.2"></a><span id="l312.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-save-changes-on-quit.js</span>
<a href="#l312.3"></a><span id="l312.3" class="difflineat">@@ -5,24 +5,24 @@</span>
<a href="#l312.4"></a><span id="l312.4"> /**</span>
<a href="#l312.5"></a><span id="l312.5">  * Tests that we prompt the user if they'd like to save their message when they</span>
<a href="#l312.6"></a><span id="l312.6">  * try to quit/close with an open compose window with unsaved changes, and</span>
<a href="#l312.7"></a><span id="l312.7">  * that we don't prompt if there are no changes.</span>
<a href="#l312.8"></a><span id="l312.8">  */</span>
<a href="#l312.9"></a><span id="l312.9"> </span>
<a href="#l312.10"></a><span id="l312.10"> // make SOLO_TEST=composition/test-save-changes-on-quit.js mozmill-one</span>
<a href="#l312.11"></a><span id="l312.11"> </span>
<a href="#l312.12"></a><span id="l312.12" class="difflineminus">-const MODULE_NAME = &quot;test-save-changes-on-close&quot;;</span>
<a href="#l312.13"></a><span id="l312.13" class="difflineplus">+var MODULE_NAME = &quot;test-save-changes-on-close&quot;;</span>
<a href="#l312.14"></a><span id="l312.14"> </span>
<a href="#l312.15"></a><span id="l312.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l312.16"></a><span id="l312.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;,</span>
<a href="#l312.17"></a><span id="l312.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l312.18"></a><span id="l312.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;,</span>
<a href="#l312.19"></a><span id="l312.19">                          &quot;prompt-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l312.20"></a><span id="l312.20" class="difflineminus">-const SAVE = 0</span>
<a href="#l312.21"></a><span id="l312.21" class="difflineminus">-const CANCEL = 1</span>
<a href="#l312.22"></a><span id="l312.22" class="difflineminus">-const DONT_SAVE = 2;</span>
<a href="#l312.23"></a><span id="l312.23" class="difflineplus">+var SAVE = 0</span>
<a href="#l312.24"></a><span id="l312.24" class="difflineplus">+var CANCEL = 1</span>
<a href="#l312.25"></a><span id="l312.25" class="difflineplus">+var DONT_SAVE = 2;</span>
<a href="#l312.26"></a><span id="l312.26"> </span>
<a href="#l312.27"></a><span id="l312.27"> var jumlib = {};</span>
<a href="#l312.28"></a><span id="l312.28"> Components.utils.import(&quot;resource://mozmill/modules/jum.js&quot;, jumlib);</span>
<a href="#l312.29"></a><span id="l312.29"> var elib = {};</span>
<a href="#l312.30"></a><span id="l312.30"> Components.utils.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l312.31"></a><span id="l312.31"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l312.32"></a><span id="l312.32"> </span>
<a href="#l312.33"></a><span id="l312.33"> var cwc = null; // compose window controller</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l313.1"></a><span id="l313.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-send-button.js</span>
<a href="#l313.2"></a><span id="l313.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-send-button.js</span>
<a href="#l313.3"></a><span id="l313.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l313.4"></a><span id="l313.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l313.5"></a><span id="l313.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l313.6"></a><span id="l313.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l313.7"></a><span id="l313.7"> </span>
<a href="#l313.8"></a><span id="l313.8"> /**</span>
<a href="#l313.9"></a><span id="l313.9">  * Tests proper enabling of send buttons depending on addresses input.</span>
<a href="#l313.10"></a><span id="l313.10">  */</span>
<a href="#l313.11"></a><span id="l313.11"> </span>
<a href="#l313.12"></a><span id="l313.12" class="difflineminus">-const MODULE_NAME = &quot;test-send-button&quot;;</span>
<a href="#l313.13"></a><span id="l313.13" class="difflineplus">+var MODULE_NAME = &quot;test-send-button&quot;;</span>
<a href="#l313.14"></a><span id="l313.14"> </span>
<a href="#l313.15"></a><span id="l313.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l313.16"></a><span id="l313.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;,</span>
<a href="#l313.17"></a><span id="l313.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l313.18"></a><span id="l313.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;,</span>
<a href="#l313.19"></a><span id="l313.19">                          &quot;window-helpers&quot;, &quot;address-book-helpers&quot;];</span>
<a href="#l313.20"></a><span id="l313.20"> </span>
<a href="#l313.21"></a><span id="l313.21"> var elib = {};</span>
<a href="#l313.22"></a><span id="l313.22"> Components.utils.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l313.23"></a><span id="l313.23"> </span>
<a href="#l313.24"></a><span id="l313.24"> var account = null;</span>
<a href="#l313.25"></a><span id="l313.25"> </span>
<a href="#l313.26"></a><span id="l313.26"> var setupModule = function (module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l314.1"></a><span id="l314.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-signature-init.js</span>
<a href="#l314.2"></a><span id="l314.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-signature-init.js</span>
<a href="#l314.3"></a><span id="l314.3" class="difflineat">@@ -2,25 +2,25 @@</span>
<a href="#l314.4"></a><span id="l314.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l314.5"></a><span id="l314.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l314.6"></a><span id="l314.6"> </span>
<a href="#l314.7"></a><span id="l314.7"> /**</span>
<a href="#l314.8"></a><span id="l314.8">  * Tests that the compose window initializes with the signature correctly</span>
<a href="#l314.9"></a><span id="l314.9">  * under various circumstances.</span>
<a href="#l314.10"></a><span id="l314.10">  */</span>
<a href="#l314.11"></a><span id="l314.11"> </span>
<a href="#l314.12"></a><span id="l314.12" class="difflineminus">-const MODULE_NAME = 'test-signature-init';</span>
<a href="#l314.13"></a><span id="l314.13" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l314.14"></a><span id="l314.14" class="difflineminus">-const MODULE_REQUIRES = ['compose-helpers',</span>
<a href="#l314.15"></a><span id="l314.15" class="difflineplus">+var MODULE_NAME = 'test-signature-init';</span>
<a href="#l314.16"></a><span id="l314.16" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l314.17"></a><span id="l314.17" class="difflineplus">+var MODULE_REQUIRES = ['compose-helpers',</span>
<a href="#l314.18"></a><span id="l314.18">                          'folder-display-helpers'];</span>
<a href="#l314.19"></a><span id="l314.19"> </span>
<a href="#l314.20"></a><span id="l314.20" class="difflineminus">-const kHtmlPref = 'mail.identity.default.compose_html';</span>
<a href="#l314.21"></a><span id="l314.21" class="difflineminus">-const kReplyOnTopPref = 'mail.identity.default.reply_on_top';</span>
<a href="#l314.22"></a><span id="l314.22" class="difflineminus">-const kReplyOnTop = 1;</span>
<a href="#l314.23"></a><span id="l314.23" class="difflineminus">-const kSigBottomPref = 'mail.identity.default.sig_bottom';</span>
<a href="#l314.24"></a><span id="l314.24" class="difflineplus">+var kHtmlPref = 'mail.identity.default.compose_html';</span>
<a href="#l314.25"></a><span id="l314.25" class="difflineplus">+var kReplyOnTopPref = 'mail.identity.default.reply_on_top';</span>
<a href="#l314.26"></a><span id="l314.26" class="difflineplus">+var kReplyOnTop = 1;</span>
<a href="#l314.27"></a><span id="l314.27" class="difflineplus">+var kSigBottomPref = 'mail.identity.default.sig_bottom';</span>
<a href="#l314.28"></a><span id="l314.28"> </span>
<a href="#l314.29"></a><span id="l314.29"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l314.30"></a><span id="l314.30"> </span>
<a href="#l314.31"></a><span id="l314.31"> function setupModule(module) {</span>
<a href="#l314.32"></a><span id="l314.32">   collector.getModule('folder-display-helpers').installInto(module);</span>
<a href="#l314.33"></a><span id="l314.33">   collector.getModule('compose-helpers').installInto(module);</span>
<a href="#l314.34"></a><span id="l314.34"> }</span>
<a href="#l314.35"></a><span id="l314.35"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l315.1"></a><span id="l315.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-signature-updating.js</span>
<a href="#l315.2"></a><span id="l315.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-signature-updating.js</span>
<a href="#l315.3"></a><span id="l315.3" class="difflineat">@@ -9,20 +9,20 @@</span>
<a href="#l315.4"></a><span id="l315.4"> // make SOLO_TEST=composition/test-signature-updating.js mozmill-one</span>
<a href="#l315.5"></a><span id="l315.5"> </span>
<a href="#l315.6"></a><span id="l315.6"> // mail.identity.id1.htmlSigFormat = false</span>
<a href="#l315.7"></a><span id="l315.7"> // mail.identity.id1.htmlSigText   = &quot;Tinderbox is soo 90ies&quot;</span>
<a href="#l315.8"></a><span id="l315.8"> </span>
<a href="#l315.9"></a><span id="l315.9"> // mail.identity.id2.htmlSigFormat = true</span>
<a href="#l315.10"></a><span id="l315.10"> // mail.identity.id2.htmlSigText   = &quot;Tinderboxpushlog is the new &lt;b&gt;hotness!&lt;/b&gt;&quot;</span>
<a href="#l315.11"></a><span id="l315.11"> </span>
<a href="#l315.12"></a><span id="l315.12" class="difflineminus">-const MODULE_NAME = &quot;test-signature-updating&quot;;</span>
<a href="#l315.13"></a><span id="l315.13" class="difflineplus">+var MODULE_NAME = &quot;test-signature-updating&quot;;</span>
<a href="#l315.14"></a><span id="l315.14"> </span>
<a href="#l315.15"></a><span id="l315.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l315.16"></a><span id="l315.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l315.17"></a><span id="l315.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l315.18"></a><span id="l315.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l315.19"></a><span id="l315.19"> var jumlib = {};</span>
<a href="#l315.20"></a><span id="l315.20"> Components.utils.import(&quot;resource://mozmill/modules/jum.js&quot;, jumlib);</span>
<a href="#l315.21"></a><span id="l315.21"> var elib = {};</span>
<a href="#l315.22"></a><span id="l315.22"> Components.utils.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l315.23"></a><span id="l315.23"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l315.24"></a><span id="l315.24"> </span>
<a href="#l315.25"></a><span id="l315.25"> var composeHelper = null;</span>
<a href="#l315.26"></a><span id="l315.26"> var cwc = null; // compose window controller</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l316.1"></a><span id="l316.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-dns-prefetch.js</span>
<a href="#l316.2"></a><span id="l316.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-dns-prefetch.js</span>
<a href="#l316.3"></a><span id="l316.3" class="difflineat">@@ -23,17 +23,17 @@ Components.utils.import('resource://mozm</span>
<a href="#l316.4"></a><span id="l316.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l316.5"></a><span id="l316.5"> </span>
<a href="#l316.6"></a><span id="l316.6"> var folder = null;</span>
<a href="#l316.7"></a><span id="l316.7"> var composeHelper = null;</span>
<a href="#l316.8"></a><span id="l316.8"> var gMsgNo = 0;</span>
<a href="#l316.9"></a><span id="l316.9"> var gMsgHdr = null;</span>
<a href="#l316.10"></a><span id="l316.10"> </span>
<a href="#l316.11"></a><span id="l316.11"> // These two constants are used to build the message body.</span>
<a href="#l316.12"></a><span id="l316.12" class="difflineminus">-const msgBody = '&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n' +</span>
<a href="#l316.13"></a><span id="l316.13" class="difflineplus">+var msgBody = '&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n' +</span>
<a href="#l316.14"></a><span id="l316.14"> '&lt;html&gt;\n' +</span>
<a href="#l316.15"></a><span id="l316.15"> '&lt;head&gt;\n' +</span>
<a href="#l316.16"></a><span id="l316.16"> '\n' +</span>
<a href="#l316.17"></a><span id="l316.17"> '&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n' +</span>
<a href="#l316.18"></a><span id="l316.18"> '&lt;/head&gt;\n' +</span>
<a href="#l316.19"></a><span id="l316.19"> '&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;\n' +</span>
<a href="#l316.20"></a><span id="l316.20"> 'dns prefetch test message\n' +</span>
<a href="#l316.21"></a><span id="l316.21"> '&lt;/body&gt;\n&lt;/html&gt;\n';</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l317.1"></a><span id="l317.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-exposed-in-content-tabs.js</span>
<a href="#l317.2"></a><span id="l317.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-exposed-in-content-tabs.js</span>
<a href="#l317.3"></a><span id="l317.3" class="difflineat">@@ -22,17 +22,17 @@ var folder = null;</span>
<a href="#l317.4"></a><span id="l317.4"> var composeHelper = null;</span>
<a href="#l317.5"></a><span id="l317.5"> var gMsgNo = 0;</span>
<a href="#l317.6"></a><span id="l317.6"> </span>
<a href="#l317.7"></a><span id="l317.7"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l317.8"></a><span id="l317.8"> // so we get the right path for the resources.</span>
<a href="#l317.9"></a><span id="l317.9"> var url = collector.addHttpResource('../content-policy/html', 'content');</span>
<a href="#l317.10"></a><span id="l317.10"> </span>
<a href="#l317.11"></a><span id="l317.11"> // These two constants are used to build the message body.</span>
<a href="#l317.12"></a><span id="l317.12" class="difflineminus">-const msgBody = '&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n' +</span>
<a href="#l317.13"></a><span id="l317.13" class="difflineplus">+var msgBody = '&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n' +</span>
<a href="#l317.14"></a><span id="l317.14"> '&lt;html&gt;\n' +</span>
<a href="#l317.15"></a><span id="l317.15"> '&lt;head&gt;\n' +</span>
<a href="#l317.16"></a><span id="l317.16"> '\n' +</span>
<a href="#l317.17"></a><span id="l317.17"> '&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n' +</span>
<a href="#l317.18"></a><span id="l317.18"> '&lt;/head&gt;\n' +</span>
<a href="#l317.19"></a><span id="l317.19"> '&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;\n' +</span>
<a href="#l317.20"></a><span id="l317.20"> '&lt;img id=&quot;testelement&quot; src=&quot;' + url + 'pass.png&quot;/&gt;\n' +</span>
<a href="#l317.21"></a><span id="l317.21"> '&lt;/body&gt;\n&lt;/html&gt;\n';</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l318.1"></a><span id="l318.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-general-content-policy.js</span>
<a href="#l318.2"></a><span id="l318.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-general-content-policy.js</span>
<a href="#l318.3"></a><span id="l318.3" class="difflineat">@@ -14,20 +14,20 @@</span>
<a href="#l318.4"></a><span id="l318.4">  * - Reply email compose window</span>
<a href="#l318.5"></a><span id="l318.5">  * - Forward email compose window</span>
<a href="#l318.6"></a><span id="l318.6">  * - Content tab</span>
<a href="#l318.7"></a><span id="l318.7">  * - Feed message</span>
<a href="#l318.8"></a><span id="l318.8">  */</span>
<a href="#l318.9"></a><span id="l318.9"> </span>
<a href="#l318.10"></a><span id="l318.10"> // make SOLO_TEST=content-policy/test-general-content-policy.js mozmill-one</span>
<a href="#l318.11"></a><span id="l318.11"> </span>
<a href="#l318.12"></a><span id="l318.12" class="difflineminus">-const MODULE_NAME = 'test-general-content-policy';</span>
<a href="#l318.13"></a><span id="l318.13" class="difflineplus">+var MODULE_NAME = 'test-general-content-policy';</span>
<a href="#l318.14"></a><span id="l318.14"> </span>
<a href="#l318.15"></a><span id="l318.15" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l318.16"></a><span id="l318.16" class="difflineminus">-const MODULE_REQUIRES = ['folder-display-helpers', 'window-helpers',</span>
<a href="#l318.17"></a><span id="l318.17" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l318.18"></a><span id="l318.18" class="difflineplus">+var MODULE_REQUIRES = ['folder-display-helpers', 'window-helpers',</span>
<a href="#l318.19"></a><span id="l318.19">                          'compose-helpers', 'content-tab-helpers',</span>
<a href="#l318.20"></a><span id="l318.20">                          'notificationbox-helpers'];</span>
<a href="#l318.21"></a><span id="l318.21"> var jumlib = {};</span>
<a href="#l318.22"></a><span id="l318.22"> Components.utils.import(&quot;resource://mozmill/modules/jum.js&quot;, jumlib);</span>
<a href="#l318.23"></a><span id="l318.23"> var elib = {};</span>
<a href="#l318.24"></a><span id="l318.24"> Components.utils.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l318.25"></a><span id="l318.25"> </span>
<a href="#l318.26"></a><span id="l318.26"> Components.utils.import('resource://gre/modules/Services.jsm');</span>
<a href="#l318.27"></a><span id="l318.27" class="difflineat">@@ -49,17 +49,17 @@ var url = collector.addHttpResource('../</span>
<a href="#l318.28"></a><span id="l318.28">  *                  allowed/disallowed should have id 'testelement'.</span>
<a href="#l318.29"></a><span id="l318.29">  * webPage:         The web page to load during the content tab part of the</span>
<a href="#l318.30"></a><span id="l318.30">  *                  test.</span>
<a href="#l318.31"></a><span id="l318.31">  * checkForAllowed: A function that is passed the element with id 'testelement'</span>
<a href="#l318.32"></a><span id="l318.32">  *                  to check for remote content being allowed/disallowed.</span>
<a href="#l318.33"></a><span id="l318.33">  *                  This function should return true if remote content was</span>
<a href="#l318.34"></a><span id="l318.34">  *                  allowed, false otherwise.</span>
<a href="#l318.35"></a><span id="l318.35">  */</span>
<a href="#l318.36"></a><span id="l318.36" class="difflineminus">-const TESTS = [</span>
<a href="#l318.37"></a><span id="l318.37" class="difflineplus">+var TESTS = [</span>
<a href="#l318.38"></a><span id="l318.38">   {</span>
<a href="#l318.39"></a><span id="l318.39">     type: &quot;Image&quot;,</span>
<a href="#l318.40"></a><span id="l318.40">     checkDenied: true,</span>
<a href="#l318.41"></a><span id="l318.41">     body: '&lt;img id=&quot;testelement&quot; src=&quot;' + url + 'pass.png&quot;/&gt;\n',</span>
<a href="#l318.42"></a><span id="l318.42">     webPage: &quot;remoteimage.html&quot;,</span>
<a href="#l318.43"></a><span id="l318.43">     checkForAllowed: function img_checkAllowed(element) {</span>
<a href="#l318.44"></a><span id="l318.44">       return element.QueryInterface(Ci.nsIImageLoadingContent)</span>
<a href="#l318.45"></a><span id="l318.45">                     .imageBlockingStatus == Ci.nsIContentPolicy.ACCEPT;</span>
<a href="#l318.46"></a><span id="l318.46" class="difflineat">@@ -82,25 +82,25 @@ const TESTS = [</span>
<a href="#l318.47"></a><span id="l318.47">     checkForAllowed: function img_checkAllowed(element) {</span>
<a href="#l318.48"></a><span id="l318.48">       return element.QueryInterface(Ci.nsIImageLoadingContent)</span>
<a href="#l318.49"></a><span id="l318.49">                     .imageBlockingStatus == Ci.nsIContentPolicy.ACCEPT;</span>
<a href="#l318.50"></a><span id="l318.50">     }</span>
<a href="#l318.51"></a><span id="l318.51">   }</span>
<a href="#l318.52"></a><span id="l318.52"> ];</span>
<a href="#l318.53"></a><span id="l318.53"> </span>
<a href="#l318.54"></a><span id="l318.54"> // These two constants are used to build the message body.</span>
<a href="#l318.55"></a><span id="l318.55" class="difflineminus">-const msgBodyStart = '&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n' +</span>
<a href="#l318.56"></a><span id="l318.56" class="difflineplus">+var msgBodyStart = '&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n' +</span>
<a href="#l318.57"></a><span id="l318.57"> '&lt;html&gt;\n' +</span>
<a href="#l318.58"></a><span id="l318.58"> '&lt;head&gt;\n' +</span>
<a href="#l318.59"></a><span id="l318.59"> '\n' +</span>
<a href="#l318.60"></a><span id="l318.60"> '&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n' +</span>
<a href="#l318.61"></a><span id="l318.61"> '&lt;/head&gt;\n' +</span>
<a href="#l318.62"></a><span id="l318.62"> '&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;\n';</span>
<a href="#l318.63"></a><span id="l318.63"> </span>
<a href="#l318.64"></a><span id="l318.64" class="difflineminus">-const msgBodyEnd = '&lt;/body&gt;\n&lt;/html&gt;\n';</span>
<a href="#l318.65"></a><span id="l318.65" class="difflineplus">+var msgBodyEnd = '&lt;/body&gt;\n&lt;/html&gt;\n';</span>
<a href="#l318.66"></a><span id="l318.66"> </span>
<a href="#l318.67"></a><span id="l318.67"> var setupModule = function (module) {</span>
<a href="#l318.68"></a><span id="l318.68">   for (let dep of MODULE_REQUIRES) {</span>
<a href="#l318.69"></a><span id="l318.69">     collector.getModule(dep).installInto(module);</span>
<a href="#l318.70"></a><span id="l318.70">   }</span>
<a href="#l318.71"></a><span id="l318.71"> </span>
<a href="#l318.72"></a><span id="l318.72">   folder = create_folder(&quot;generalContentPolicy&quot;);</span>
<a href="#l318.73"></a><span id="l318.73"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l319.1"></a><span id="l319.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-js-content-policy.js</span>
<a href="#l319.2"></a><span id="l319.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-js-content-policy.js</span>
<a href="#l319.3"></a><span id="l319.3" class="difflineat">@@ -60,17 +60,17 @@ function addToFolder(aSubject, aBody, aF</span>
<a href="#l319.4"></a><span id="l319.4">   aFolder.gettingNewMessages = true;</span>
<a href="#l319.5"></a><span id="l319.5"> </span>
<a href="#l319.6"></a><span id="l319.6">   aFolder.addMessage(source);</span>
<a href="#l319.7"></a><span id="l319.7">   aFolder.gettingNewMessages = false;</span>
<a href="#l319.8"></a><span id="l319.8"> </span>
<a href="#l319.9"></a><span id="l319.9">   return aFolder.msgDatabase.getMsgHdrForMessageID(msgId);</span>
<a href="#l319.10"></a><span id="l319.10"> }</span>
<a href="#l319.11"></a><span id="l319.11"> </span>
<a href="#l319.12"></a><span id="l319.12" class="difflineminus">-const jsMsgBody = '&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n' +</span>
<a href="#l319.13"></a><span id="l319.13" class="difflineplus">+var jsMsgBody = '&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n' +</span>
<a href="#l319.14"></a><span id="l319.14"> '&lt;html&gt;\n' +</span>
<a href="#l319.15"></a><span id="l319.15"> '&lt;head&gt;\n' +</span>
<a href="#l319.16"></a><span id="l319.16"> '\n' +</span>
<a href="#l319.17"></a><span id="l319.17"> '&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n' +</span>
<a href="#l319.18"></a><span id="l319.18"> '&lt;/head&gt;\n' +</span>
<a href="#l319.19"></a><span id="l319.19"> '&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;\n' +</span>
<a href="#l319.20"></a><span id="l319.20"> 'this is a test&lt;big&gt;&lt;big&gt;&lt;big&gt; stuff\n' +</span>
<a href="#l319.21"></a><span id="l319.21"> '&lt;br&gt;&lt;br&gt;\n' +</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l320.1"></a><span id="l320.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-plugins-policy.js</span>
<a href="#l320.2"></a><span id="l320.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-plugins-policy.js</span>
<a href="#l320.3"></a><span id="l320.3" class="difflineat">@@ -23,17 +23,17 @@ var folder = null;</span>
<a href="#l320.4"></a><span id="l320.4"> var composeHelper = null;</span>
<a href="#l320.5"></a><span id="l320.5"> var gMsgNo = 0;</span>
<a href="#l320.6"></a><span id="l320.6"> </span>
<a href="#l320.7"></a><span id="l320.7"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l320.8"></a><span id="l320.8"> // so we get the right path for the resources.</span>
<a href="#l320.9"></a><span id="l320.9"> var url = collector.addHttpResource('../content-policy/html', 'content');</span>
<a href="#l320.10"></a><span id="l320.10"> </span>
<a href="#l320.11"></a><span id="l320.11"> // These two constants are used to build the message body.</span>
<a href="#l320.12"></a><span id="l320.12" class="difflineminus">-const msgBody = '&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n' +</span>
<a href="#l320.13"></a><span id="l320.13" class="difflineplus">+var msgBody = '&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n' +</span>
<a href="#l320.14"></a><span id="l320.14"> '&lt;html&gt;\n' +</span>
<a href="#l320.15"></a><span id="l320.15"> '&lt;head&gt;\n' +</span>
<a href="#l320.16"></a><span id="l320.16"> '\n' +</span>
<a href="#l320.17"></a><span id="l320.17"> '&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n' +</span>
<a href="#l320.18"></a><span id="l320.18"> '&lt;/head&gt;\n' +</span>
<a href="#l320.19"></a><span id="l320.19"> '&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;\n' +</span>
<a href="#l320.20"></a><span id="l320.20"> '&lt;embed id=&quot;testelement&quot; type=&quot;application/x-test&quot; width=&quot;400&quot; height=&quot;400&quot; border=&quot;1&quot;&gt;&lt;/embed&gt;\n' +</span>
<a href="#l320.21"></a><span id="l320.21"> '&lt;/body&gt;\n&lt;/html&gt;\n';</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l321.1"></a><span id="l321.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-view-source.js</span>
<a href="#l321.2"></a><span id="l321.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-view-source.js</span>
<a href="#l321.3"></a><span id="l321.3" class="difflineat">@@ -3,22 +3,22 @@</span>
<a href="#l321.4"></a><span id="l321.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l321.5"></a><span id="l321.5"> </span>
<a href="#l321.6"></a><span id="l321.6"> /**</span>
<a href="#l321.7"></a><span id="l321.7">  * Test that view-source content can be reloaded to change encoding.</span>
<a href="#l321.8"></a><span id="l321.8">  */</span>
<a href="#l321.9"></a><span id="l321.9"> </span>
<a href="#l321.10"></a><span id="l321.10"> // make SOLO_TEST=content-policy/test-view-source.js mozmill-one</span>
<a href="#l321.11"></a><span id="l321.11"> </span>
<a href="#l321.12"></a><span id="l321.12" class="difflineminus">-const MODULE_NAME = &quot;test-view-source&quot;;</span>
<a href="#l321.13"></a><span id="l321.13" class="difflineplus">+var MODULE_NAME = &quot;test-view-source&quot;;</span>
<a href="#l321.14"></a><span id="l321.14"> </span>
<a href="#l321.15"></a><span id="l321.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l321.16"></a><span id="l321.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l321.17"></a><span id="l321.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l321.18"></a><span id="l321.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l321.19"></a><span id="l321.19"> </span>
<a href="#l321.20"></a><span id="l321.20" class="difflineminus">-const elib = {};</span>
<a href="#l321.21"></a><span id="l321.21" class="difflineplus">+var elib = {};</span>
<a href="#l321.22"></a><span id="l321.22"> Components.utils.import(&quot;resource://mozmill/modules/elementslib.js&quot;, elib);</span>
<a href="#l321.23"></a><span id="l321.23"> </span>
<a href="#l321.24"></a><span id="l321.24"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l321.25"></a><span id="l321.25"> </span>
<a href="#l321.26"></a><span id="l321.26"> var folder = null;</span>
<a href="#l321.27"></a><span id="l321.27"> </span>
<a href="#l321.28"></a><span id="l321.28"> function setupModule(module) {</span>
<a href="#l321.29"></a><span id="l321.29">   for (let dep of MODULE_REQUIRES) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l322.1"></a><span id="l322.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-about-support.js</span>
<a href="#l322.2"></a><span id="l322.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-about-support.js</span>
<a href="#l322.3"></a><span id="l322.3" class="difflineat">@@ -26,25 +26,25 @@ function setupModule(module) {</span>
<a href="#l322.4"></a><span id="l322.4"> function teardownTest(module) {</span>
<a href="#l322.5"></a><span id="l322.5">   mc.tabmail.closeOtherTabs(mc.tabmail.tabInfo[0]);</span>
<a href="#l322.6"></a><span id="l322.6"> }</span>
<a href="#l322.7"></a><span id="l322.7"> </span>
<a href="#l322.8"></a><span id="l322.8"> /**</span>
<a href="#l322.9"></a><span id="l322.9">  * Strings found in the about:support HTML or text that should clearly mark the</span>
<a href="#l322.10"></a><span id="l322.10">  * data as being from about:support.</span>
<a href="#l322.11"></a><span id="l322.11">  */</span>
<a href="#l322.12"></a><span id="l322.12" class="difflineminus">-const ABOUT_SUPPORT_STRINGS = [&quot;Application Basics&quot;, &quot;Mail and News Accounts&quot;,</span>
<a href="#l322.13"></a><span id="l322.13" class="difflineplus">+var ABOUT_SUPPORT_STRINGS = [&quot;Application Basics&quot;, &quot;Mail and News Accounts&quot;,</span>
<a href="#l322.14"></a><span id="l322.14">                                &quot;Extensions&quot;, &quot;Modified Preferences&quot;, &quot;Graphics&quot;,</span>
<a href="#l322.15"></a><span id="l322.15">                                &quot;JavaScript&quot;, &quot;Accessibility&quot;, &quot;Library Versions&quot;];</span>
<a href="#l322.16"></a><span id="l322.16"> </span>
<a href="#l322.17"></a><span id="l322.17"> /**</span>
<a href="#l322.18"></a><span id="l322.18">  * Strings that if found in the about:support text or HTML usually indicate an</span>
<a href="#l322.19"></a><span id="l322.19">  * error.</span>
<a href="#l322.20"></a><span id="l322.20">  */</span>
<a href="#l322.21"></a><span id="l322.21" class="difflineminus">-const ABOUT_SUPPORT_ERROR_STRINGS = [&quot;undefined&quot;, &quot;null&quot;];</span>
<a href="#l322.22"></a><span id="l322.22" class="difflineplus">+var ABOUT_SUPPORT_ERROR_STRINGS = [&quot;undefined&quot;, &quot;null&quot;];</span>
<a href="#l322.23"></a><span id="l322.23"> </span>
<a href="#l322.24"></a><span id="l322.24"> </span>
<a href="#l322.25"></a><span id="l322.25"> /*</span>
<a href="#l322.26"></a><span id="l322.26">  * Helpers</span>
<a href="#l322.27"></a><span id="l322.27">  */</span>
<a href="#l322.28"></a><span id="l322.28"> </span>
<a href="#l322.29"></a><span id="l322.29"> /**</span>
<a href="#l322.30"></a><span id="l322.30">  * Opens about:support and waits for it to load.</span>
<a href="#l322.31"></a><span id="l322.31" class="difflineat">@@ -110,17 +110,17 @@ function test_accounts_in_order() {</span>
<a href="#l322.32"></a><span id="l322.32">   assert_content_tab_text_present(tab, &quot;account2&quot;);</span>
<a href="#l322.33"></a><span id="l322.33">   let html = tab.browser.contentDocument.documentElement.innerHTML;</span>
<a href="#l322.34"></a><span id="l322.34">   if (html.indexOf(&quot;account1&quot;) &gt; html.indexOf(&quot;account2&quot;)) {</span>
<a href="#l322.35"></a><span id="l322.35">     mark_failure([&quot;account1 found after account2 in the HTML page&quot;]);</span>
<a href="#l322.36"></a><span id="l322.36">   }</span>
<a href="#l322.37"></a><span id="l322.37">   close_tab(tab);</span>
<a href="#l322.38"></a><span id="l322.38"> }</span>
<a href="#l322.39"></a><span id="l322.39"> </span>
<a href="#l322.40"></a><span id="l322.40" class="difflineminus">-const UNIQUE_ID = &quot;3a9e1694-7115-4237-8b1e-1cabe6e35073&quot;;</span>
<a href="#l322.41"></a><span id="l322.41" class="difflineplus">+var UNIQUE_ID = &quot;3a9e1694-7115-4237-8b1e-1cabe6e35073&quot;;</span>
<a href="#l322.42"></a><span id="l322.42"> </span>
<a href="#l322.43"></a><span id="l322.43"> /**</span>
<a href="#l322.44"></a><span id="l322.44">  * Test that a modified preference on the whitelist but not on the blacklist</span>
<a href="#l322.45"></a><span id="l322.45">  * shows up.</span>
<a href="#l322.46"></a><span id="l322.46">  */</span>
<a href="#l322.47"></a><span id="l322.47"> function test_modified_pref_on_whitelist() {</span>
<a href="#l322.48"></a><span id="l322.48">   const PREFIX = &quot;accessibility.&quot;;</span>
<a href="#l322.49"></a><span id="l322.49">   let prefName = PREFIX + UNIQUE_ID;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l323.1"></a><span id="l323.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-install-xpi.js</span>
<a href="#l323.2"></a><span id="l323.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-install-xpi.js</span>
<a href="#l323.3"></a><span id="l323.3" class="difflineat">@@ -19,17 +19,17 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l323.4"></a><span id="l323.4"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l323.5"></a><span id="l323.5"> // so we get the right path for the resources.</span>
<a href="#l323.6"></a><span id="l323.6"> var url = collector.addHttpResource('../content-tabs/html', 'content-tabs');</span>
<a href="#l323.7"></a><span id="l323.7"> var siteRegExp = new RegExp(&quot;^&quot; + url);</span>
<a href="#l323.8"></a><span id="l323.8"> </span>
<a href="#l323.9"></a><span id="l323.9"> var gNewTab;</span>
<a href="#l323.10"></a><span id="l323.10"> var gNotificationBox;</span>
<a href="#l323.11"></a><span id="l323.11"> </span>
<a href="#l323.12"></a><span id="l323.12" class="difflineminus">-const ALERT_TIMEOUT = 10000;</span>
<a href="#l323.13"></a><span id="l323.13" class="difflineplus">+var ALERT_TIMEOUT = 10000;</span>
<a href="#l323.14"></a><span id="l323.14"> </span>
<a href="#l323.15"></a><span id="l323.15"> var AlertWatcher = {</span>
<a href="#l323.16"></a><span id="l323.16">   planForAlert: function(aController) {</span>
<a href="#l323.17"></a><span id="l323.17">     this.alerted = false;</span>
<a href="#l323.18"></a><span id="l323.18">     aController.window.document.addEventListener(&quot;AlertActive&quot;,</span>
<a href="#l323.19"></a><span id="l323.19">                                                  this.alertActive, false);</span>
<a href="#l323.20"></a><span id="l323.20">   },</span>
<a href="#l323.21"></a><span id="l323.21">   waitForAlert: function(aController) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l324.1"></a><span id="l324.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-lwthemes.js</span>
<a href="#l324.2"></a><span id="l324.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-lwthemes.js</span>
<a href="#l324.3"></a><span id="l324.3" class="difflineat">@@ -25,17 +25,17 @@ var url = collector.addHttpResource('../</span>
<a href="#l324.4"></a><span id="l324.4"> </span>
<a href="#l324.5"></a><span id="l324.5"> var setupModule = function (module) {</span>
<a href="#l324.6"></a><span id="l324.6">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l324.7"></a><span id="l324.7">   fdh.installInto(module);</span>
<a href="#l324.8"></a><span id="l324.8">   let cth = collector.getModule('content-tab-helpers');</span>
<a href="#l324.9"></a><span id="l324.9">   cth.installInto(module);</span>
<a href="#l324.10"></a><span id="l324.10"> };</span>
<a href="#l324.11"></a><span id="l324.11"> </span>
<a href="#l324.12"></a><span id="l324.12" class="difflineminus">-const ALERT_TIMEOUT = 10000;</span>
<a href="#l324.13"></a><span id="l324.13" class="difflineplus">+var ALERT_TIMEOUT = 10000;</span>
<a href="#l324.14"></a><span id="l324.14"> </span>
<a href="#l324.15"></a><span id="l324.15"> function check_and_click_notification_box_action_in_current_tab(totalButtons,</span>
<a href="#l324.16"></a><span id="l324.16">                                                                 selectButton) {</span>
<a href="#l324.17"></a><span id="l324.17">   let notificationBox =</span>
<a href="#l324.18"></a><span id="l324.18">     mc.tabmail.selectedTab.panel.querySelector(&quot;notificationbox&quot;);</span>
<a href="#l324.19"></a><span id="l324.19"> </span>
<a href="#l324.20"></a><span id="l324.20">   // This is a crude check to see that we've got the number of buttons we expect</span>
<a href="#l324.21"></a><span id="l324.21">   // and hence this is the right notification that is being shown.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l325.1"></a><span id="l325.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-plugin-blocked.js</span>
<a href="#l325.2"></a><span id="l325.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-plugin-blocked.js</span>
<a href="#l325.3"></a><span id="l325.3" class="difflineat">@@ -10,27 +10,27 @@ var MODULE_REQUIRES = ['folder-display-h</span>
<a href="#l325.4"></a><span id="l325.4"> Components.utils.import('resource://gre/modules/Services.jsm');</span>
<a href="#l325.5"></a><span id="l325.5"> </span>
<a href="#l325.6"></a><span id="l325.6"> var gOldStartUrl = null;</span>
<a href="#l325.7"></a><span id="l325.7"> var gOldBlDetailsUrl = null;</span>
<a href="#l325.8"></a><span id="l325.8"> var gOldPluginUpdateUrl = null;</span>
<a href="#l325.9"></a><span id="l325.9"> </span>
<a href="#l325.10"></a><span id="l325.10"> var testDone = false;</span>
<a href="#l325.11"></a><span id="l325.11"> </span>
<a href="#l325.12"></a><span id="l325.12" class="difflineminus">-const kPluginId = &quot;test-plugin&quot;;</span>
<a href="#l325.13"></a><span id="l325.13" class="difflineminus">-const kStartPagePref = &quot;mailnews.start_page.override_url&quot;;</span>
<a href="#l325.14"></a><span id="l325.14" class="difflineminus">-const kBlDetailsPagePref = &quot;extensions.blocklist.detailsURL&quot;;</span>
<a href="#l325.15"></a><span id="l325.15" class="difflineminus">-const kPluginsUpdatePref = &quot;plugins.update.url&quot;;</span>
<a href="#l325.16"></a><span id="l325.16" class="difflineplus">+var kPluginId = &quot;test-plugin&quot;;</span>
<a href="#l325.17"></a><span id="l325.17" class="difflineplus">+var kStartPagePref = &quot;mailnews.start_page.override_url&quot;;</span>
<a href="#l325.18"></a><span id="l325.18" class="difflineplus">+var kBlDetailsPagePref = &quot;extensions.blocklist.detailsURL&quot;;</span>
<a href="#l325.19"></a><span id="l325.19" class="difflineplus">+var kPluginsUpdatePref = &quot;plugins.update.url&quot;;</span>
<a href="#l325.20"></a><span id="l325.20"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l325.21"></a><span id="l325.21"> // so we get the right path for the resources.</span>
<a href="#l325.22"></a><span id="l325.22" class="difflineminus">-const kUrl = collector.addHttpResource('../content-tabs/html', '');</span>
<a href="#l325.23"></a><span id="l325.23" class="difflineminus">-const kPluginUrl = kUrl + &quot;plugin.html&quot;;</span>
<a href="#l325.24"></a><span id="l325.24" class="difflineminus">-const kPluginBlocklistUrl = kUrl + &quot;blocklistHard.xml&quot;;</span>
<a href="#l325.25"></a><span id="l325.25" class="difflineminus">-const kBlDetailsUrl = kUrl + &quot;blocklist_details.html&quot;;</span>
<a href="#l325.26"></a><span id="l325.26" class="difflineminus">-const kPluginUpdateUrl = kUrl + &quot;plugin_update.html&quot;;</span>
<a href="#l325.27"></a><span id="l325.27" class="difflineplus">+var kUrl = collector.addHttpResource('../content-tabs/html', '');</span>
<a href="#l325.28"></a><span id="l325.28" class="difflineplus">+var kPluginUrl = kUrl + &quot;plugin.html&quot;;</span>
<a href="#l325.29"></a><span id="l325.29" class="difflineplus">+var kPluginBlocklistUrl = kUrl + &quot;blocklistHard.xml&quot;;</span>
<a href="#l325.30"></a><span id="l325.30" class="difflineplus">+var kBlDetailsUrl = kUrl + &quot;blocklist_details.html&quot;;</span>
<a href="#l325.31"></a><span id="l325.31" class="difflineplus">+var kPluginUpdateUrl = kUrl + &quot;plugin_update.html&quot;;</span>
<a href="#l325.32"></a><span id="l325.32"> </span>
<a href="#l325.33"></a><span id="l325.33"> function setupModule(module) {</span>
<a href="#l325.34"></a><span id="l325.34">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l325.35"></a><span id="l325.35">   fdh.installInto(module);</span>
<a href="#l325.36"></a><span id="l325.36">   let cth = collector.getModule('content-tab-helpers');</span>
<a href="#l325.37"></a><span id="l325.37">   cth.installInto(module);</span>
<a href="#l325.38"></a><span id="l325.38"> </span>
<a href="#l325.39"></a><span id="l325.39">   // Set the pref so that what's new opens a local url - we'll save the old</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l326.1"></a><span id="l326.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-plugin-crashing.js</span>
<a href="#l326.2"></a><span id="l326.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-plugin-crashing.js</span>
<a href="#l326.3"></a><span id="l326.3" class="difflineat">@@ -13,24 +13,24 @@ Components.utils.import('resource://mozm</span>
<a href="#l326.4"></a><span id="l326.4"> Components.utils.import('resource://gre/modules/Services.jsm');</span>
<a href="#l326.5"></a><span id="l326.5"> </span>
<a href="#l326.6"></a><span id="l326.6"> var gContentWindow = null;</span>
<a href="#l326.7"></a><span id="l326.7"> var gJSObject = null;</span>
<a href="#l326.8"></a><span id="l326.8"> var gTabDoc = null;</span>
<a href="#l326.9"></a><span id="l326.9"> var gOldStartPage = null;</span>
<a href="#l326.10"></a><span id="l326.10"> var gOldCrashReporterEnabled = null;</span>
<a href="#l326.11"></a><span id="l326.11"> var crashReporter = null;</span>
<a href="#l326.12"></a><span id="l326.12" class="difflineminus">-const kPluginId = &quot;test-plugin&quot;;</span>
<a href="#l326.13"></a><span id="l326.13" class="difflineminus">-const kStartPagePref = &quot;mailnews.start_page.override_url&quot;;</span>
<a href="#l326.14"></a><span id="l326.14" class="difflineminus">-const kPluginCrashDocPref = &quot;plugins.crash.supportUrl&quot;;</span>
<a href="#l326.15"></a><span id="l326.15" class="difflineplus">+var kPluginId = &quot;test-plugin&quot;;</span>
<a href="#l326.16"></a><span id="l326.16" class="difflineplus">+var kStartPagePref = &quot;mailnews.start_page.override_url&quot;;</span>
<a href="#l326.17"></a><span id="l326.17" class="difflineplus">+var kPluginCrashDocPref = &quot;plugins.crash.supportUrl&quot;;</span>
<a href="#l326.18"></a><span id="l326.18"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l326.19"></a><span id="l326.19"> // so we get the right path for the resources.</span>
<a href="#l326.20"></a><span id="l326.20" class="difflineminus">-const kUrl = collector.addHttpResource('../content-tabs/html', '');</span>
<a href="#l326.21"></a><span id="l326.21" class="difflineminus">-const kPluginUrl = kUrl + &quot;plugin.html&quot;;</span>
<a href="#l326.22"></a><span id="l326.22" class="difflineminus">-const kPluginCrashDocUrl = kUrl + &quot;plugin_crashed_help.html&quot;;</span>
<a href="#l326.23"></a><span id="l326.23" class="difflineplus">+var kUrl = collector.addHttpResource('../content-tabs/html', '');</span>
<a href="#l326.24"></a><span id="l326.24" class="difflineplus">+var kPluginUrl = kUrl + &quot;plugin.html&quot;;</span>
<a href="#l326.25"></a><span id="l326.25" class="difflineplus">+var kPluginCrashDocUrl = kUrl + &quot;plugin_crashed_help.html&quot;;</span>
<a href="#l326.26"></a><span id="l326.26"> </span>
<a href="#l326.27"></a><span id="l326.27"> function setupModule(module) {</span>
<a href="#l326.28"></a><span id="l326.28">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l326.29"></a><span id="l326.29">   fdh.installInto(module);</span>
<a href="#l326.30"></a><span id="l326.30">   let cth = collector.getModule('content-tab-helpers');</span>
<a href="#l326.31"></a><span id="l326.31">   cth.installInto(module);</span>
<a href="#l326.32"></a><span id="l326.32"> </span>
<a href="#l326.33"></a><span id="l326.33">   // Set the pref so that what's new opens a local url - we'll save the old</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l327.1"></a><span id="l327.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-plugin-outdated.js</span>
<a href="#l327.2"></a><span id="l327.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-plugin-outdated.js</span>
<a href="#l327.3"></a><span id="l327.3" class="difflineat">@@ -7,24 +7,24 @@ var MODULE_NAME = 'test-plugin-outdated'</span>
<a href="#l327.4"></a><span id="l327.4"> var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l327.5"></a><span id="l327.5"> var MODULE_REQUIRES = ['folder-display-helpers', 'content-tab-helpers'];</span>
<a href="#l327.6"></a><span id="l327.6"> </span>
<a href="#l327.7"></a><span id="l327.7"> Components.utils.import('resource://gre/modules/Services.jsm');</span>
<a href="#l327.8"></a><span id="l327.8"> </span>
<a href="#l327.9"></a><span id="l327.9"> var gOldStartUrl = null;</span>
<a href="#l327.10"></a><span id="l327.10"> var gOldPluginUpdateUrl = null;</span>
<a href="#l327.11"></a><span id="l327.11"> </span>
<a href="#l327.12"></a><span id="l327.12" class="difflineminus">-const kStartPagePref = &quot;mailnews.start_page.override_url&quot;;</span>
<a href="#l327.13"></a><span id="l327.13" class="difflineminus">-const kPluginsUpdatePref = &quot;plugins.update.url&quot;;</span>
<a href="#l327.14"></a><span id="l327.14" class="difflineplus">+var kStartPagePref = &quot;mailnews.start_page.override_url&quot;;</span>
<a href="#l327.15"></a><span id="l327.15" class="difflineplus">+var kPluginsUpdatePref = &quot;plugins.update.url&quot;;</span>
<a href="#l327.16"></a><span id="l327.16"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l327.17"></a><span id="l327.17"> // so we get the right path for the resources.</span>
<a href="#l327.18"></a><span id="l327.18" class="difflineminus">-const kUrl = collector.addHttpResource('../content-tabs/html', '');</span>
<a href="#l327.19"></a><span id="l327.19" class="difflineminus">-const kPluginUrl = kUrl + &quot;plugin.html&quot;;</span>
<a href="#l327.20"></a><span id="l327.20" class="difflineminus">-const kPluginUpdateUrl = kUrl + &quot;plugin_update.html&quot;;</span>
<a href="#l327.21"></a><span id="l327.21" class="difflineminus">-const kPluginBlocklistUrl = kUrl + &quot;blocklist.xml&quot;;</span>
<a href="#l327.22"></a><span id="l327.22" class="difflineplus">+var kUrl = collector.addHttpResource('../content-tabs/html', '');</span>
<a href="#l327.23"></a><span id="l327.23" class="difflineplus">+var kPluginUrl = kUrl + &quot;plugin.html&quot;;</span>
<a href="#l327.24"></a><span id="l327.24" class="difflineplus">+var kPluginUpdateUrl = kUrl + &quot;plugin_update.html&quot;;</span>
<a href="#l327.25"></a><span id="l327.25" class="difflineplus">+var kPluginBlocklistUrl = kUrl + &quot;blocklist.xml&quot;;</span>
<a href="#l327.26"></a><span id="l327.26"> </span>
<a href="#l327.27"></a><span id="l327.27"> var testDone = false;</span>
<a href="#l327.28"></a><span id="l327.28"> </span>
<a href="#l327.29"></a><span id="l327.29"> function setupModule(module) {</span>
<a href="#l327.30"></a><span id="l327.30">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l327.31"></a><span id="l327.31">   fdh.installInto(module);</span>
<a href="#l327.32"></a><span id="l327.32">   let cth = collector.getModule('content-tab-helpers');</span>
<a href="#l327.33"></a><span id="l327.33">   cth.installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l328.1"></a><span id="l328.1" class="difflineminus">--- a/mail/test/mozmill/downloads/test-about-downloads.js</span>
<a href="#l328.2"></a><span id="l328.2" class="difflineplus">+++ b/mail/test/mozmill/downloads/test-about-downloads.js</span>
<a href="#l328.3"></a><span id="l328.3" class="difflineat">@@ -25,17 +25,17 @@ var ah;</span>
<a href="#l328.4"></a><span id="l328.4"> var downloadsTab;</span>
<a href="#l328.5"></a><span id="l328.5"> </span>
<a href="#l328.6"></a><span id="l328.6"> var attachmentFileNames = [</span>
<a href="#l328.7"></a><span id="l328.7">   &quot;Attachment#1.txt&quot;,</span>
<a href="#l328.8"></a><span id="l328.8">   &quot;Attachment#2.txt&quot;,</span>
<a href="#l328.9"></a><span id="l328.9">   &quot;Attachment#3.txt&quot;,</span>
<a href="#l328.10"></a><span id="l328.10"> ];</span>
<a href="#l328.11"></a><span id="l328.11"> </span>
<a href="#l328.12"></a><span id="l328.12" class="difflineminus">-const downloadsView = {</span>
<a href="#l328.13"></a><span id="l328.13" class="difflineplus">+var downloadsView = {</span>
<a href="#l328.14"></a><span id="l328.14">   init() {</span>
<a href="#l328.15"></a><span id="l328.15">     this.items = new Map();</span>
<a href="#l328.16"></a><span id="l328.16">     this.removedItems = [];</span>
<a href="#l328.17"></a><span id="l328.17">   },</span>
<a href="#l328.18"></a><span id="l328.18"> </span>
<a href="#l328.19"></a><span id="l328.19">   get count() {</span>
<a href="#l328.20"></a><span id="l328.20">     return this.items.size;</span>
<a href="#l328.21"></a><span id="l328.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l329.1"></a><span id="l329.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-archive-messages.js</span>
<a href="#l329.2"></a><span id="l329.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-archive-messages.js</span>
<a href="#l329.3"></a><span id="l329.3" class="difflineat">@@ -7,17 +7,17 @@ var MODULE_NAME = 'test-archive-messages</span>
<a href="#l329.4"></a><span id="l329.4"> var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l329.5"></a><span id="l329.5"> var MODULE_REQUIRES = ['folder-display-helpers', 'window-helpers'];</span>
<a href="#l329.6"></a><span id="l329.6"> </span>
<a href="#l329.7"></a><span id="l329.7"> var folder;</span>
<a href="#l329.8"></a><span id="l329.8"> </span>
<a href="#l329.9"></a><span id="l329.9"> /**</span>
<a href="#l329.10"></a><span id="l329.10">  * The number of messages in the thread we use to test.</span>
<a href="#l329.11"></a><span id="l329.11">  */</span>
<a href="#l329.12"></a><span id="l329.12" class="difflineminus">-const NUM_MESSAGES_IN_THREAD = 6;</span>
<a href="#l329.13"></a><span id="l329.13" class="difflineplus">+var NUM_MESSAGES_IN_THREAD = 6;</span>
<a href="#l329.14"></a><span id="l329.14"> </span>
<a href="#l329.15"></a><span id="l329.15"> function setupModule(module) {</span>
<a href="#l329.16"></a><span id="l329.16">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l329.17"></a><span id="l329.17">   fdh.installInto(module);</span>
<a href="#l329.18"></a><span id="l329.18">   let wh = collector.getModule('window-helpers');</span>
<a href="#l329.19"></a><span id="l329.19">   wh.installInto(module);</span>
<a href="#l329.20"></a><span id="l329.20"> </span>
<a href="#l329.21"></a><span id="l329.21">   folder = create_folder(&quot;ThreadedMessages&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l330.1"></a><span id="l330.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-display-name.js</span>
<a href="#l330.2"></a><span id="l330.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-display-name.js</span>
<a href="#l330.3"></a><span id="l330.3" class="difflineat">@@ -8,17 +8,17 @@</span>
<a href="#l330.4"></a><span id="l330.4">  */</span>
<a href="#l330.5"></a><span id="l330.5"> var MODULE_NAME = &quot;test-display-name&quot;;</span>
<a href="#l330.6"></a><span id="l330.6"> </span>
<a href="#l330.7"></a><span id="l330.7"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l330.8"></a><span id="l330.8"> var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;address-book-helpers&quot;];</span>
<a href="#l330.9"></a><span id="l330.9"> </span>
<a href="#l330.10"></a><span id="l330.10"> var folder;</span>
<a href="#l330.11"></a><span id="l330.11"> </span>
<a href="#l330.12"></a><span id="l330.12" class="difflineminus">-const messages = [</span>
<a href="#l330.13"></a><span id="l330.13" class="difflineplus">+var messages = [</span>
<a href="#l330.14"></a><span id="l330.14">   // Basic From header tests</span>
<a href="#l330.15"></a><span id="l330.15">   { name: &quot;from_display_name_unquoted&quot;,</span>
<a href="#l330.16"></a><span id="l330.16">     headers: { From: &quot;Carter Burke &lt;cburke@wyutani.invalid&gt;&quot; },</span>
<a href="#l330.17"></a><span id="l330.17">     expected: { column: &quot;from&quot;, value: &quot;Carter Burke&quot; },</span>
<a href="#l330.18"></a><span id="l330.18">   },</span>
<a href="#l330.19"></a><span id="l330.19">   { name: &quot;from_display_name_quoted&quot;,</span>
<a href="#l330.20"></a><span id="l330.20">     headers: { From: '&quot;Ellen Ripley&quot; &lt;eripley@wyutani.invalid&gt;' },</span>
<a href="#l330.21"></a><span id="l330.21">     expected: { column: &quot;from&quot;, value: &quot;Ellen Ripley&quot; },</span>
<a href="#l330.22"></a><span id="l330.22" class="difflineat">@@ -134,17 +134,17 @@ const messages = [</span>
<a href="#l330.23"></a><span id="l330.23">   },</span>
<a href="#l330.24"></a><span id="l330.24">   { name: &quot;cc_and_no_to_display_name&quot;,</span>
<a href="#l330.25"></a><span id="l330.25">     headers: { To: null,</span>
<a href="#l330.26"></a><span id="l330.26">                Cc: &quot;The Company &lt;thecompany@wyutani.invalid&gt;&quot; },</span>
<a href="#l330.27"></a><span id="l330.27">     expected: { column: &quot;recipients&quot;, value: &quot;The Company&quot; },</span>
<a href="#l330.28"></a><span id="l330.28">   },</span>
<a href="#l330.29"></a><span id="l330.29"> ];</span>
<a href="#l330.30"></a><span id="l330.30"> </span>
<a href="#l330.31"></a><span id="l330.31" class="difflineminus">-const contacts = [</span>
<a href="#l330.32"></a><span id="l330.32" class="difflineplus">+var contacts = [</span>
<a href="#l330.33"></a><span id="l330.33">   { email: &quot;aapone@uscmc.invalid&quot;, name: &quot;Sarge&quot;, pdn: true },</span>
<a href="#l330.34"></a><span id="l330.34">   { email: &quot;rjorden@hadleys-hope.invalid&quot;, name: &quot;Newt&quot;, pdn: false },</span>
<a href="#l330.35"></a><span id="l330.35"> ];</span>
<a href="#l330.36"></a><span id="l330.36"> </span>
<a href="#l330.37"></a><span id="l330.37"> function setupModule(module) {</span>
<a href="#l330.38"></a><span id="l330.38">   for (let req of MODULE_REQUIRES) {</span>
<a href="#l330.39"></a><span id="l330.39">     collector.getModule(req).installInto(module);</span>
<a href="#l330.40"></a><span id="l330.40">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l331.1"></a><span id="l331.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js</span>
<a href="#l331.2"></a><span id="l331.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js</span>
<a href="#l331.3"></a><span id="l331.3" class="difflineat">@@ -19,17 +19,17 @@ var folderA;</span>
<a href="#l331.4"></a><span id="l331.4"> var folderB;</span>
<a href="#l331.5"></a><span id="l331.5"> var folderC;</span>
<a href="#l331.6"></a><span id="l331.6"> </span>
<a href="#l331.7"></a><span id="l331.7"> var folderTab;</span>
<a href="#l331.8"></a><span id="l331.8"> </span>
<a href="#l331.9"></a><span id="l331.9"> var msgHdrsInFolderA = [], msgHdrsInFolderB = [];</span>
<a href="#l331.10"></a><span id="l331.10"> </span>
<a href="#l331.11"></a><span id="l331.11"> // The number of messages in folderA/folderB.</span>
<a href="#l331.12"></a><span id="l331.12" class="difflineminus">-const NUM_MESSAGES_IN_FOLDER = 10;</span>
<a href="#l331.13"></a><span id="l331.13" class="difflineplus">+var NUM_MESSAGES_IN_FOLDER = 10;</span>
<a href="#l331.14"></a><span id="l331.14"> </span>
<a href="#l331.15"></a><span id="l331.15"> // A generator for indexes to load test.</span>
<a href="#l331.16"></a><span id="l331.16"> function _generateIndexes() {</span>
<a href="#l331.17"></a><span id="l331.17">   let index = 0;</span>
<a href="#l331.18"></a><span id="l331.18">   while (true) {</span>
<a href="#l331.19"></a><span id="l331.19">     yield index;</span>
<a href="#l331.20"></a><span id="l331.20">     index = (index + 1) % NUM_MESSAGES_IN_FOLDER;</span>
<a href="#l331.21"></a><span id="l331.21">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l332.1"></a><span id="l332.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js</span>
<a href="#l332.2"></a><span id="l332.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js</span>
<a href="#l332.3"></a><span id="l332.3" class="difflineat">@@ -3,29 +3,29 @@</span>
<a href="#l332.4"></a><span id="l332.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l332.5"></a><span id="l332.5"> </span>
<a href="#l332.6"></a><span id="l332.6"> /**</span>
<a href="#l332.7"></a><span id="l332.7">  * This tests some commands on messages via the UI. But we specifically check,</span>
<a href="#l332.8"></a><span id="l332.8">  * whether the commands have an effect in the message store on disk, i.e. the</span>
<a href="#l332.9"></a><span id="l332.9">  * markings on the messages are stored in the msgStore, not only in the database.</span>
<a href="#l332.10"></a><span id="l332.10">  * For now, it checks for bug 840418.</span>
<a href="#l332.11"></a><span id="l332.11">  */</span>
<a href="#l332.12"></a><span id="l332.12" class="difflineminus">-const MODULE_NAME = &quot;test-message-commands-on-msgstore&quot;;</span>
<a href="#l332.13"></a><span id="l332.13" class="difflineplus">+var MODULE_NAME = &quot;test-message-commands-on-msgstore&quot;;</span>
<a href="#l332.14"></a><span id="l332.14"> </span>
<a href="#l332.15"></a><span id="l332.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l332.16"></a><span id="l332.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l332.17"></a><span id="l332.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l332.18"></a><span id="l332.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l332.19"></a><span id="l332.19">                          &quot;compose-helpers&quot;,</span>
<a href="#l332.20"></a><span id="l332.20">                          &quot;window-helpers&quot;];</span>
<a href="#l332.21"></a><span id="l332.21"> </span>
<a href="#l332.22"></a><span id="l332.22"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l332.23"></a><span id="l332.23"> Cu.import(&quot;resource://gre/modules/mailServices.js&quot;);</span>
<a href="#l332.24"></a><span id="l332.24"> Cu.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l332.25"></a><span id="l332.25"> </span>
<a href="#l332.26"></a><span id="l332.26" class="difflineminus">-const statusHeader = &quot;X-Mozilla-Status: &quot;;</span>
<a href="#l332.27"></a><span id="l332.27" class="difflineminus">-const nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l332.28"></a><span id="l332.28" class="difflineplus">+var statusHeader = &quot;X-Mozilla-Status: &quot;;</span>
<a href="#l332.29"></a><span id="l332.29" class="difflineplus">+var nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l332.30"></a><span id="l332.30"> </span>
<a href="#l332.31"></a><span id="l332.31"> var gInbox;</span>
<a href="#l332.32"></a><span id="l332.32"> var gOutbox;</span>
<a href="#l332.33"></a><span id="l332.33"> var gAutoRead;</span>
<a href="#l332.34"></a><span id="l332.34"> </span>
<a href="#l332.35"></a><span id="l332.35"> function setupModule(module) {</span>
<a href="#l332.36"></a><span id="l332.36">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l332.37"></a><span id="l332.37">     collector.getModule(lib).installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l333.1"></a><span id="l333.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js</span>
<a href="#l333.2"></a><span id="l333.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js</span>
<a href="#l333.3"></a><span id="l333.3" class="difflineat">@@ -16,17 +16,17 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l333.4"></a><span id="l333.4"> </span>
<a href="#l333.5"></a><span id="l333.5"> // One folder's enough</span>
<a href="#l333.6"></a><span id="l333.6"> var folder = null;</span>
<a href="#l333.7"></a><span id="l333.7"> </span>
<a href="#l333.8"></a><span id="l333.8"> // A list of the message headers in this folder</span>
<a href="#l333.9"></a><span id="l333.9"> var msgHdrsInFolder = null;</span>
<a href="#l333.10"></a><span id="l333.10"> </span>
<a href="#l333.11"></a><span id="l333.11"> // Number of messages to open for multi-message tests</span>
<a href="#l333.12"></a><span id="l333.12" class="difflineminus">-const NUM_MESSAGES_TO_OPEN = 5;</span>
<a href="#l333.13"></a><span id="l333.13" class="difflineplus">+var NUM_MESSAGES_TO_OPEN = 5;</span>
<a href="#l333.14"></a><span id="l333.14"> </span>
<a href="#l333.15"></a><span id="l333.15"> var setupModule = function (module) {</span>
<a href="#l333.16"></a><span id="l333.16">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l333.17"></a><span id="l333.17">   fdh.installInto(module);</span>
<a href="#l333.18"></a><span id="l333.18">   let wh = collector.getModule('window-helpers');</span>
<a href="#l333.19"></a><span id="l333.19">   wh.installInto(module);</span>
<a href="#l333.20"></a><span id="l333.20"> </span>
<a href="#l333.21"></a><span id="l333.21">   folder = create_folder(&quot;OpeningMessagesNoBackingViewA&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l334.1"></a><span id="l334.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-opening-messages.js</span>
<a href="#l334.2"></a><span id="l334.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-opening-messages.js</span>
<a href="#l334.3"></a><span id="l334.3" class="difflineat">@@ -19,17 +19,17 @@ var MODULE_NAME = 'test-opening-messages</span>
<a href="#l334.4"></a><span id="l334.4"> </span>
<a href="#l334.5"></a><span id="l334.5"> var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l334.6"></a><span id="l334.6"> var MODULE_REQUIRES = ['folder-display-helpers', 'window-helpers'];</span>
<a href="#l334.7"></a><span id="l334.7"> </span>
<a href="#l334.8"></a><span id="l334.8"> // One folder's enough</span>
<a href="#l334.9"></a><span id="l334.9"> var folder = null;</span>
<a href="#l334.10"></a><span id="l334.10"> </span>
<a href="#l334.11"></a><span id="l334.11"> // Number of messages to open for multi-message tests</span>
<a href="#l334.12"></a><span id="l334.12" class="difflineminus">-const NUM_MESSAGES_TO_OPEN = 5;</span>
<a href="#l334.13"></a><span id="l334.13" class="difflineplus">+var NUM_MESSAGES_TO_OPEN = 5;</span>
<a href="#l334.14"></a><span id="l334.14"> </span>
<a href="#l334.15"></a><span id="l334.15"> var setupModule = function (module) {</span>
<a href="#l334.16"></a><span id="l334.16">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l334.17"></a><span id="l334.17">   fdh.installInto(module);</span>
<a href="#l334.18"></a><span id="l334.18">   let wh = collector.getModule('window-helpers');</span>
<a href="#l334.19"></a><span id="l334.19">   wh.installInto(module);</span>
<a href="#l334.20"></a><span id="l334.20"> </span>
<a href="#l334.21"></a><span id="l334.21">   folder = create_folder(&quot;OpeningMessagesA&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l335.1"></a><span id="l335.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-watch-ignore-thread.js</span>
<a href="#l335.2"></a><span id="l335.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-watch-ignore-thread.js</span>
<a href="#l335.3"></a><span id="l335.3" class="difflineat">@@ -3,20 +3,20 @@</span>
<a href="#l335.4"></a><span id="l335.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l335.5"></a><span id="l335.5"> </span>
<a href="#l335.6"></a><span id="l335.6"> /*</span>
<a href="#l335.7"></a><span id="l335.7">  * Test that &quot;watch thread&quot; and &quot;ignore thread&quot; works correctly.</span>
<a href="#l335.8"></a><span id="l335.8">  */</span>
<a href="#l335.9"></a><span id="l335.9"> </span>
<a href="#l335.10"></a><span id="l335.10"> // make SOLO_TEST=folder-display/test-watch-ignore-thread.js mozmill-one</span>
<a href="#l335.11"></a><span id="l335.11"> </span>
<a href="#l335.12"></a><span id="l335.12" class="difflineminus">-const MODULE_NAME = &quot;test-watch-ignore-thread&quot;;</span>
<a href="#l335.13"></a><span id="l335.13" class="difflineplus">+var MODULE_NAME = &quot;test-watch-ignore-thread&quot;;</span>
<a href="#l335.14"></a><span id="l335.14"> </span>
<a href="#l335.15"></a><span id="l335.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l335.16"></a><span id="l335.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l335.17"></a><span id="l335.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l335.18"></a><span id="l335.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l335.19"></a><span id="l335.19"> </span>
<a href="#l335.20"></a><span id="l335.20"> var folder;</span>
<a href="#l335.21"></a><span id="l335.21"> var thread1, thread2, thread3;</span>
<a href="#l335.22"></a><span id="l335.22"> </span>
<a href="#l335.23"></a><span id="l335.23"> function setupModule(module) {</span>
<a href="#l335.24"></a><span id="l335.24">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l335.25"></a><span id="l335.25"> </span>
<a href="#l335.26"></a><span id="l335.26">   folder = create_folder(&quot;WatchIgnoreThreadTest&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l336.1"></a><span id="l336.1" class="difflineminus">--- a/mail/test/mozmill/folder-pane/test-display-message-with-folder-modes.js</span>
<a href="#l336.2"></a><span id="l336.2" class="difflineplus">+++ b/mail/test/mozmill/folder-pane/test-display-message-with-folder-modes.js</span>
<a href="#l336.3"></a><span id="l336.3" class="difflineat">@@ -7,20 +7,20 @@</span>
<a href="#l336.4"></a><span id="l336.4">  * modes. This includes:</span>
<a href="#l336.5"></a><span id="l336.5">  * - switching to the default folder mode if the folder isn't present in the</span>
<a href="#l336.6"></a><span id="l336.6">  *   current folder mode</span>
<a href="#l336.7"></a><span id="l336.7">  * - not switching otherwise</span>
<a href="#l336.8"></a><span id="l336.8">  * - making sure that we're able to expand the right folders in the smart folder</span>
<a href="#l336.9"></a><span id="l336.9">  *   mode</span>
<a href="#l336.10"></a><span id="l336.10">  */</span>
<a href="#l336.11"></a><span id="l336.11"> </span>
<a href="#l336.12"></a><span id="l336.12" class="difflineminus">-const MODULE_NAME = &quot;test-display-message-with-folder-modes&quot;;</span>
<a href="#l336.13"></a><span id="l336.13" class="difflineplus">+var MODULE_NAME = &quot;test-display-message-with-folder-modes&quot;;</span>
<a href="#l336.14"></a><span id="l336.14"> </span>
<a href="#l336.15"></a><span id="l336.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l336.16"></a><span id="l336.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l336.17"></a><span id="l336.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l336.18"></a><span id="l336.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l336.19"></a><span id="l336.19"> </span>
<a href="#l336.20"></a><span id="l336.20"> var folder;</span>
<a href="#l336.21"></a><span id="l336.21"> var dummyFolder;</span>
<a href="#l336.22"></a><span id="l336.22"> var inbox2Folder;</span>
<a href="#l336.23"></a><span id="l336.23"> var smartInboxFolder;</span>
<a href="#l336.24"></a><span id="l336.24"> </span>
<a href="#l336.25"></a><span id="l336.25"> var msgHdr;</span>
<a href="#l336.26"></a><span id="l336.26"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l337.1"></a><span id="l337.1" class="difflineminus">--- a/mail/test/mozmill/folder-pane/test-folder-names-in-recent-mode.js</span>
<a href="#l337.2"></a><span id="l337.2" class="difflineplus">+++ b/mail/test/mozmill/folder-pane/test-folder-names-in-recent-mode.js</span>
<a href="#l337.3"></a><span id="l337.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l337.4"></a><span id="l337.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l337.5"></a><span id="l337.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l337.6"></a><span id="l337.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l337.7"></a><span id="l337.7"> </span>
<a href="#l337.8"></a><span id="l337.8"> /**</span>
<a href="#l337.9"></a><span id="l337.9">  * Test that the folder names have account name appended when in &quot;recent&quot; view.</span>
<a href="#l337.10"></a><span id="l337.10">  */</span>
<a href="#l337.11"></a><span id="l337.11" class="difflineminus">-const MODULE_NAME = &quot;test-folder-names-in-favorite-mode&quot;;</span>
<a href="#l337.12"></a><span id="l337.12" class="difflineplus">+var MODULE_NAME = &quot;test-folder-names-in-favorite-mode&quot;;</span>
<a href="#l337.13"></a><span id="l337.13"> </span>
<a href="#l337.14"></a><span id="l337.14" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l337.15"></a><span id="l337.15" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l337.16"></a><span id="l337.16" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l337.17"></a><span id="l337.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l337.18"></a><span id="l337.18"> </span>
<a href="#l337.19"></a><span id="l337.19"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l337.20"></a><span id="l337.20"> </span>
<a href="#l337.21"></a><span id="l337.21"> function setupModule(module) {</span>
<a href="#l337.22"></a><span id="l337.22">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l337.23"></a><span id="l337.23"> </span>
<a href="#l337.24"></a><span id="l337.24">   assert_folder_mode(&quot;all&quot;);</span>
<a href="#l337.25"></a><span id="l337.25">   assert_folder_tree_view_row_count(7);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l338.1"></a><span id="l338.1" class="difflineminus">--- a/mail/test/mozmill/folder-pane/test-folder-pane.js</span>
<a href="#l338.2"></a><span id="l338.2" class="difflineplus">+++ b/mail/test/mozmill/folder-pane/test-folder-pane.js</span>
<a href="#l338.3"></a><span id="l338.3" class="difflineat">@@ -3,20 +3,20 @@</span>
<a href="#l338.4"></a><span id="l338.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l338.5"></a><span id="l338.5"> </span>
<a href="#l338.6"></a><span id="l338.6"> /*</span>
<a href="#l338.7"></a><span id="l338.7">  * Tests for the folder pane, in particular the tree view. This is kept separate</span>
<a href="#l338.8"></a><span id="l338.8">  * from the main folder-display suite so that the folders created by other tests</span>
<a href="#l338.9"></a><span id="l338.9">  * there don't influence the results here.</span>
<a href="#l338.10"></a><span id="l338.10">  */</span>
<a href="#l338.11"></a><span id="l338.11"> </span>
<a href="#l338.12"></a><span id="l338.12" class="difflineminus">-const MODULE_NAME = 'test-folder-pane';</span>
<a href="#l338.13"></a><span id="l338.13" class="difflineplus">+var MODULE_NAME = 'test-folder-pane';</span>
<a href="#l338.14"></a><span id="l338.14"> </span>
<a href="#l338.15"></a><span id="l338.15" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l338.16"></a><span id="l338.16" class="difflineminus">-const MODULE_REQUIRES = ['folder-display-helpers'];</span>
<a href="#l338.17"></a><span id="l338.17" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l338.18"></a><span id="l338.18" class="difflineplus">+var MODULE_REQUIRES = ['folder-display-helpers'];</span>
<a href="#l338.19"></a><span id="l338.19"> </span>
<a href="#l338.20"></a><span id="l338.20"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l338.21"></a><span id="l338.21"> </span>
<a href="#l338.22"></a><span id="l338.22"> function setupModule(module) {</span>
<a href="#l338.23"></a><span id="l338.23">   collector.getModule('folder-display-helpers').installInto(module);</span>
<a href="#l338.24"></a><span id="l338.24"> }</span>
<a href="#l338.25"></a><span id="l338.25"> </span>
<a href="#l338.26"></a><span id="l338.26"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l339.1"></a><span id="l339.1" class="difflineminus">--- a/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js</span>
<a href="#l339.2"></a><span id="l339.2" class="difflineplus">+++ b/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js</span>
<a href="#l339.3"></a><span id="l339.3" class="difflineat">@@ -18,17 +18,17 @@ var folder;</span>
<a href="#l339.4"></a><span id="l339.4"> function setupModule(module) {</span>
<a href="#l339.5"></a><span id="l339.5">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l339.6"></a><span id="l339.6">   fdh.installInto(module);</span>
<a href="#l339.7"></a><span id="l339.7">   let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l339.8"></a><span id="l339.8">   wh.installInto(module);</span>
<a href="#l339.9"></a><span id="l339.9"> }</span>
<a href="#l339.10"></a><span id="l339.10"> </span>
<a href="#l339.11"></a><span id="l339.11"> // Provided by the extension in test-extension</span>
<a href="#l339.12"></a><span id="l339.12" class="difflineminus">-const kTestModeID = &quot;testmode&quot;;</span>
<a href="#l339.13"></a><span id="l339.13" class="difflineplus">+var kTestModeID = &quot;testmode&quot;;</span>
<a href="#l339.14"></a><span id="l339.14"> </span>
<a href="#l339.15"></a><span id="l339.15"> /**</span>
<a href="#l339.16"></a><span id="l339.16">  * Switch to the mode and verify that it displays correctly.</span>
<a href="#l339.17"></a><span id="l339.17">  */</span>
<a href="#l339.18"></a><span id="l339.18"> function test_switch_to_test_mode() {</span>
<a href="#l339.19"></a><span id="l339.19">   let server = MailServices.accounts.FindServer(&quot;tinderbox&quot;, FAKE_SERVER_HOSTNAME, &quot;pop3&quot;);</span>
<a href="#l339.20"></a><span id="l339.20">   folder = server.rootFolder.getChildNamed(&quot;Inbox&quot;);</span>
<a href="#l339.21"></a><span id="l339.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l340.1"></a><span id="l340.1" class="difflineminus">--- a/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js</span>
<a href="#l340.2"></a><span id="l340.2" class="difflineplus">+++ b/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js</span>
<a href="#l340.3"></a><span id="l340.3" class="difflineat">@@ -16,17 +16,17 @@ var MODULE_REQUIRES = [&quot;folder-display-h</span>
<a href="#l340.4"></a><span id="l340.4"> var smartParentNameA=&quot;My Smart Folder A&quot;;</span>
<a href="#l340.5"></a><span id="l340.5"> var smartParentNameB=&quot;My Smart Folder B&quot;;</span>
<a href="#l340.6"></a><span id="l340.6"> </span>
<a href="#l340.7"></a><span id="l340.7"> var rootFolder;</span>
<a href="#l340.8"></a><span id="l340.8"> var inboxSubfolder, subfolderA, subfolderB;</span>
<a href="#l340.9"></a><span id="l340.9"> var smartInboxFolder;</span>
<a href="#l340.10"></a><span id="l340.10"> var smartFolderA;</span>
<a href="#l340.11"></a><span id="l340.11"> </span>
<a href="#l340.12"></a><span id="l340.12" class="difflineminus">-const nsMsgFolderFlags = Components.interfaces.nsMsgFolderFlags;</span>
<a href="#l340.13"></a><span id="l340.13" class="difflineplus">+var nsMsgFolderFlags = Components.interfaces.nsMsgFolderFlags;</span>
<a href="#l340.14"></a><span id="l340.14"> </span>
<a href="#l340.15"></a><span id="l340.15"> /**</span>
<a href="#l340.16"></a><span id="l340.16">  * create two smart folder types and two real folders, one for each</span>
<a href="#l340.17"></a><span id="l340.17">  * smart folder type</span>
<a href="#l340.18"></a><span id="l340.18">  */</span>
<a href="#l340.19"></a><span id="l340.19"> function setupModule(module) {</span>
<a href="#l340.20"></a><span id="l340.20">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l340.21"></a><span id="l340.21">   fdh.installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l341.1"></a><span id="l341.1" class="difflineminus">--- a/mail/test/mozmill/folder-tree-modes/test-mode-switching.js</span>
<a href="#l341.2"></a><span id="l341.2" class="difflineplus">+++ b/mail/test/mozmill/folder-tree-modes/test-mode-switching.js</span>
<a href="#l341.3"></a><span id="l341.3" class="difflineat">@@ -3,20 +3,20 @@</span>
<a href="#l341.4"></a><span id="l341.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l341.5"></a><span id="l341.5"> </span>
<a href="#l341.6"></a><span id="l341.6"> /*</span>
<a href="#l341.7"></a><span id="l341.7">  * Bug 978592.</span>
<a href="#l341.8"></a><span id="l341.8">  * Test that switching folder modes via menu works and also compact versions</span>
<a href="#l341.9"></a><span id="l341.9">  * can be toggled properly.</span>
<a href="#l341.10"></a><span id="l341.10">  */</span>
<a href="#l341.11"></a><span id="l341.11"> </span>
<a href="#l341.12"></a><span id="l341.12" class="difflineminus">-const MODULE_NAME = &quot;test-unread-folders&quot;;</span>
<a href="#l341.13"></a><span id="l341.13" class="difflineplus">+var MODULE_NAME = &quot;test-unread-folders&quot;;</span>
<a href="#l341.14"></a><span id="l341.14"> </span>
<a href="#l341.15"></a><span id="l341.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l341.16"></a><span id="l341.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l341.17"></a><span id="l341.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l341.18"></a><span id="l341.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l341.19"></a><span id="l341.19"> </span>
<a href="#l341.20"></a><span id="l341.20"> var rootFolder;</span>
<a href="#l341.21"></a><span id="l341.21"> var inboxFolder;</span>
<a href="#l341.22"></a><span id="l341.22"> var unreadFolder;</span>
<a href="#l341.23"></a><span id="l341.23"> var favoriteFolder;</span>
<a href="#l341.24"></a><span id="l341.24"> var toggle_menu;</span>
<a href="#l341.25"></a><span id="l341.25"> var toggle_appmenu;</span>
<a href="#l341.26"></a><span id="l341.26"> var tree;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l342.1"></a><span id="l342.1" class="difflineminus">--- a/mail/test/mozmill/folder-tree-modes/test-smart-folders.js</span>
<a href="#l342.2"></a><span id="l342.2" class="difflineplus">+++ b/mail/test/mozmill/folder-tree-modes/test-smart-folders.js</span>
<a href="#l342.3"></a><span id="l342.3" class="difflineat">@@ -17,17 +17,17 @@ var rootFolder;</span>
<a href="#l342.4"></a><span id="l342.4"> var inboxSubfolder;</span>
<a href="#l342.5"></a><span id="l342.5"> var trashFolder;</span>
<a href="#l342.6"></a><span id="l342.6"> var trashSubfolder;</span>
<a href="#l342.7"></a><span id="l342.7"> </span>
<a href="#l342.8"></a><span id="l342.8"> var smartInboxFolder;</span>
<a href="#l342.9"></a><span id="l342.9"> </span>
<a href="#l342.10"></a><span id="l342.10"> var inboxSet;</span>
<a href="#l342.11"></a><span id="l342.11"> </span>
<a href="#l342.12"></a><span id="l342.12" class="difflineminus">-const nsMsgFolderFlags = Components.interfaces.nsMsgFolderFlags;</span>
<a href="#l342.13"></a><span id="l342.13" class="difflineplus">+var nsMsgFolderFlags = Components.interfaces.nsMsgFolderFlags;</span>
<a href="#l342.14"></a><span id="l342.14"> </span>
<a href="#l342.15"></a><span id="l342.15"> function setupModule(module) {</span>
<a href="#l342.16"></a><span id="l342.16">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l342.17"></a><span id="l342.17">   fdh.installInto(module);</span>
<a href="#l342.18"></a><span id="l342.18"> </span>
<a href="#l342.19"></a><span id="l342.19">   rootFolder = inboxFolder.server.rootFolder;</span>
<a href="#l342.20"></a><span id="l342.20"> </span>
<a href="#l342.21"></a><span id="l342.21">   // Create a folder as a subfolder of the inbox</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l343.1"></a><span id="l343.1" class="difflineminus">--- a/mail/test/mozmill/folder-tree-modes/test-unread-folders.js</span>
<a href="#l343.2"></a><span id="l343.2" class="difflineplus">+++ b/mail/test/mozmill/folder-tree-modes/test-unread-folders.js</span>
<a href="#l343.3"></a><span id="l343.3" class="difflineat">@@ -14,17 +14,17 @@ var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l343.4"></a><span id="l343.4"> var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l343.5"></a><span id="l343.5"> </span>
<a href="#l343.6"></a><span id="l343.6"> var rootFolder;</span>
<a href="#l343.7"></a><span id="l343.7"> var inboxSubfolder;</span>
<a href="#l343.8"></a><span id="l343.8"> var trashFolder;</span>
<a href="#l343.9"></a><span id="l343.9"> var trashSubfolder;</span>
<a href="#l343.10"></a><span id="l343.10"> var inboxSet;</span>
<a href="#l343.11"></a><span id="l343.11"> </span>
<a href="#l343.12"></a><span id="l343.12" class="difflineminus">-const nsMsgFolderFlags = Components.interfaces.nsMsgFolderFlags;</span>
<a href="#l343.13"></a><span id="l343.13" class="difflineplus">+var nsMsgFolderFlags = Components.interfaces.nsMsgFolderFlags;</span>
<a href="#l343.14"></a><span id="l343.14"> </span>
<a href="#l343.15"></a><span id="l343.15"> function setupModule(module) {</span>
<a href="#l343.16"></a><span id="l343.16">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l343.17"></a><span id="l343.17">   fdh.installInto(module);</span>
<a href="#l343.18"></a><span id="l343.18"> </span>
<a href="#l343.19"></a><span id="l343.19">   rootFolder = inboxFolder.server.rootFolder;</span>
<a href="#l343.20"></a><span id="l343.20"> </span>
<a href="#l343.21"></a><span id="l343.21">   // Create a folder as a subfolder of the inbox</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l344.1"></a><span id="l344.1" class="difflineminus">--- a/mail/test/mozmill/im/test-toolbar-buttons.js</span>
<a href="#l344.2"></a><span id="l344.2" class="difflineplus">+++ b/mail/test/mozmill/im/test-toolbar-buttons.js</span>
<a href="#l344.3"></a><span id="l344.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l344.4"></a><span id="l344.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l344.5"></a><span id="l344.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l344.6"></a><span id="l344.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l344.7"></a><span id="l344.7"> </span>
<a href="#l344.8"></a><span id="l344.8" class="difflineminus">-const MODULE_NAME = 'test-toolbar-buttons';</span>
<a href="#l344.9"></a><span id="l344.9" class="difflineplus">+var MODULE_NAME = 'test-toolbar-buttons';</span>
<a href="#l344.10"></a><span id="l344.10"> </span>
<a href="#l344.11"></a><span id="l344.11" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l344.12"></a><span id="l344.12" class="difflineminus">-const MODULE_REQUIRES = ['folder-display-helpers']</span>
<a href="#l344.13"></a><span id="l344.13" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l344.14"></a><span id="l344.14" class="difflineplus">+var MODULE_REQUIRES = ['folder-display-helpers']</span>
<a href="#l344.15"></a><span id="l344.15"> </span>
<a href="#l344.16"></a><span id="l344.16"> Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l344.17"></a><span id="l344.17"> </span>
<a href="#l344.18"></a><span id="l344.18"> function setupModule(module) {</span>
<a href="#l344.19"></a><span id="l344.19">   collector.getModule('folder-display-helpers').installInto(module);</span>
<a href="#l344.20"></a><span id="l344.20"> }</span>
<a href="#l344.21"></a><span id="l344.21"> </span>
<a href="#l344.22"></a><span id="l344.22"> /* This test checks that the toolbar buttons of the chat toolbar are</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l345.1"></a><span id="l345.1" class="difflineminus">--- a/mail/test/mozmill/junk-commands/test-junk-commands.js</span>
<a href="#l345.2"></a><span id="l345.2" class="difflineplus">+++ b/mail/test/mozmill/junk-commands/test-junk-commands.js</span>
<a href="#l345.3"></a><span id="l345.3" class="difflineat">@@ -21,17 +21,17 @@ function setupModule(module) {</span>
<a href="#l345.4"></a><span id="l345.4"> </span>
<a href="#l345.5"></a><span id="l345.5">   folder = create_folder(&quot;JunkCommandsA&quot;);</span>
<a href="#l345.6"></a><span id="l345.6">   make_new_sets_in_folder(folder, [{count: 30}]);</span>
<a href="#l345.7"></a><span id="l345.7"> }</span>
<a href="#l345.8"></a><span id="l345.8"> </span>
<a href="#l345.9"></a><span id="l345.9"> /**</span>
<a href="#l345.10"></a><span id="l345.10">  * The number of messages to mark as junk and expect to be deleted.</span>
<a href="#l345.11"></a><span id="l345.11">  */</span>
<a href="#l345.12"></a><span id="l345.12" class="difflineminus">-const NUM_MESSAGES_TO_JUNK = 8;</span>
<a href="#l345.13"></a><span id="l345.13" class="difflineplus">+var NUM_MESSAGES_TO_JUNK = 8;</span>
<a href="#l345.14"></a><span id="l345.14"> </span>
<a href="#l345.15"></a><span id="l345.15"> /**</span>
<a href="#l345.16"></a><span id="l345.16">  * Helper to check whether a folder has the right number of messages.</span>
<a href="#l345.17"></a><span id="l345.17">  *</span>
<a href="#l345.18"></a><span id="l345.18">  * @param aFolder the folder to check</span>
<a href="#l345.19"></a><span id="l345.19">  * @param aNumMessages the number of messages the folder should contain.</span>
<a href="#l345.20"></a><span id="l345.20">  */</span>
<a href="#l345.21"></a><span id="l345.21"> function _assert_folder_total_messages(aFolder, aNumMessages) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l346.1"></a><span id="l346.1" class="difflineminus">--- a/mail/test/mozmill/message-header/test-header-toolbar.js</span>
<a href="#l346.2"></a><span id="l346.2" class="difflineplus">+++ b/mail/test/mozmill/message-header/test-header-toolbar.js</span>
<a href="#l346.3"></a><span id="l346.3" class="difflineat">@@ -14,17 +14,17 @@ var MODULE_REQUIRES = ['folder-display-h</span>
<a href="#l346.4"></a><span id="l346.4"> </span>
<a href="#l346.5"></a><span id="l346.5"> var elib = {};</span>
<a href="#l346.6"></a><span id="l346.6"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l346.7"></a><span id="l346.7"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l346.8"></a><span id="l346.8"> </span>
<a href="#l346.9"></a><span id="l346.9"> var folder;</span>
<a href="#l346.10"></a><span id="l346.10"> var gCDHelper ;</span>
<a href="#l346.11"></a><span id="l346.11"> var originalPaneLayout;</span>
<a href="#l346.12"></a><span id="l346.12" class="difflineminus">-const kPaneLayout = &quot;mail.pane_config.dynamic&quot;;</span>
<a href="#l346.13"></a><span id="l346.13" class="difflineplus">+var kPaneLayout = &quot;mail.pane_config.dynamic&quot;;</span>
<a href="#l346.14"></a><span id="l346.14"> </span>
<a href="#l346.15"></a><span id="l346.15"> function setupModule(module) {</span>
<a href="#l346.16"></a><span id="l346.16">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l346.17"></a><span id="l346.17">   fdh.installInto(module);</span>
<a href="#l346.18"></a><span id="l346.18">   let wh = collector.getModule('window-helpers');</span>
<a href="#l346.19"></a><span id="l346.19">   wh.installInto(module);</span>
<a href="#l346.20"></a><span id="l346.20">   let abh = collector.getModule('address-book-helpers');</span>
<a href="#l346.21"></a><span id="l346.21">   abh.installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l347.1"></a><span id="l347.1" class="difflineminus">--- a/mail/test/mozmill/message-header/test-phishing-bar.js</span>
<a href="#l347.2"></a><span id="l347.2" class="difflineplus">+++ b/mail/test/mozmill/message-header/test-phishing-bar.js</span>
<a href="#l347.3"></a><span id="l347.3" class="difflineat">@@ -3,29 +3,29 @@</span>
<a href="#l347.4"></a><span id="l347.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l347.5"></a><span id="l347.5"> </span>
<a href="#l347.6"></a><span id="l347.6"> /**</span>
<a href="#l347.7"></a><span id="l347.7">  * Test that the phishing notification behaves properly.</span>
<a href="#l347.8"></a><span id="l347.8">  */</span>
<a href="#l347.9"></a><span id="l347.9"> </span>
<a href="#l347.10"></a><span id="l347.10"> // make SOLO_TEST=message-header/test-phishing-bar.js mozmill-one</span>
<a href="#l347.11"></a><span id="l347.11"> </span>
<a href="#l347.12"></a><span id="l347.12" class="difflineminus">-const MODULE_NAME = &quot;test-phishing-bar&quot;;</span>
<a href="#l347.13"></a><span id="l347.13" class="difflineplus">+var MODULE_NAME = &quot;test-phishing-bar&quot;;</span>
<a href="#l347.14"></a><span id="l347.14"> </span>
<a href="#l347.15"></a><span id="l347.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l347.16"></a><span id="l347.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l347.17"></a><span id="l347.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l347.18"></a><span id="l347.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l347.19"></a><span id="l347.19">                          &quot;window-helpers&quot;, &quot;notificationbox-helpers&quot;];</span>
<a href="#l347.20"></a><span id="l347.20"> </span>
<a href="#l347.21"></a><span id="l347.21"> var os = {};</span>
<a href="#l347.22"></a><span id="l347.22"> Components.utils.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l347.23"></a><span id="l347.23"> </span>
<a href="#l347.24"></a><span id="l347.24"> var folder;</span>
<a href="#l347.25"></a><span id="l347.25"> </span>
<a href="#l347.26"></a><span id="l347.26" class="difflineminus">-const kBoxId = &quot;msgNotificationBar&quot;;</span>
<a href="#l347.27"></a><span id="l347.27" class="difflineminus">-const kNotificationValue = &quot;maybeScam&quot;;</span>
<a href="#l347.28"></a><span id="l347.28" class="difflineplus">+var kBoxId = &quot;msgNotificationBar&quot;;</span>
<a href="#l347.29"></a><span id="l347.29" class="difflineplus">+var kNotificationValue = &quot;maybeScam&quot;;</span>
<a href="#l347.30"></a><span id="l347.30"> </span>
<a href="#l347.31"></a><span id="l347.31"> function setupModule(module) {</span>
<a href="#l347.32"></a><span id="l347.32">   for (let dep of MODULE_REQUIRES) {</span>
<a href="#l347.33"></a><span id="l347.33">     collector.getModule(dep).installInto(module);</span>
<a href="#l347.34"></a><span id="l347.34">   }</span>
<a href="#l347.35"></a><span id="l347.35"> </span>
<a href="#l347.36"></a><span id="l347.36">   folder = create_folder(&quot;PhishingBarA&quot;);</span>
<a href="#l347.37"></a><span id="l347.37">   add_message_to_folder(folder, create_message({body: {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l348.1"></a><span id="l348.1" class="difflineminus">--- a/mail/test/mozmill/message-header/test-reply-identity.js</span>
<a href="#l348.2"></a><span id="l348.2" class="difflineplus">+++ b/mail/test/mozmill/message-header/test-reply-identity.js</span>
<a href="#l348.3"></a><span id="l348.3" class="difflineat">@@ -1,30 +1,30 @@</span>
<a href="#l348.4"></a><span id="l348.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l348.5"></a><span id="l348.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l348.6"></a><span id="l348.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l348.7"></a><span id="l348.7"> </span>
<a href="#l348.8"></a><span id="l348.8"> /**</span>
<a href="#l348.9"></a><span id="l348.9">  * Tests that actions such as replying choses the most suitable identity.</span>
<a href="#l348.10"></a><span id="l348.10">  */</span>
<a href="#l348.11"></a><span id="l348.11"> </span>
<a href="#l348.12"></a><span id="l348.12" class="difflineminus">-const MODULE_NAME = &quot;test-reply-identity&quot;;</span>
<a href="#l348.13"></a><span id="l348.13" class="difflineplus">+var MODULE_NAME = &quot;test-reply-identity&quot;;</span>
<a href="#l348.14"></a><span id="l348.14"> </span>
<a href="#l348.15"></a><span id="l348.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l348.16"></a><span id="l348.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l348.17"></a><span id="l348.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l348.18"></a><span id="l348.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l348.19"></a><span id="l348.19">                          &quot;window-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l348.20"></a><span id="l348.20"> </span>
<a href="#l348.21"></a><span id="l348.21"> var folderHelper = null;</span>
<a href="#l348.22"></a><span id="l348.22"> var windowindowHelperelper = null;</span>
<a href="#l348.23"></a><span id="l348.23"> var composeHelper = null;</span>
<a href="#l348.24"></a><span id="l348.24"> </span>
<a href="#l348.25"></a><span id="l348.25"> var testFolder = null;</span>
<a href="#l348.26"></a><span id="l348.26"> </span>
<a href="#l348.27"></a><span id="l348.27" class="difflineminus">-const identity1Email = &quot;carl@example.com&quot;;</span>
<a href="#l348.28"></a><span id="l348.28" class="difflineminus">-const identity2Email = &quot;lenny@springfield.invalid&quot;;</span>
<a href="#l348.29"></a><span id="l348.29" class="difflineplus">+var identity1Email = &quot;carl@example.com&quot;;</span>
<a href="#l348.30"></a><span id="l348.30" class="difflineplus">+var identity2Email = &quot;lenny@springfield.invalid&quot;;</span>
<a href="#l348.31"></a><span id="l348.31"> </span>
<a href="#l348.32"></a><span id="l348.32"> var setupModule = function (module) {</span>
<a href="#l348.33"></a><span id="l348.33"> </span>
<a href="#l348.34"></a><span id="l348.34">   folderHelper = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l348.35"></a><span id="l348.35">   folderHelper.installInto(module);</span>
<a href="#l348.36"></a><span id="l348.36">   windowHelper = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l348.37"></a><span id="l348.37">   windowHelper.installInto(module);</span>
<a href="#l348.38"></a><span id="l348.38">   composeHelper = collector.getModule(&quot;compose-helpers&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l349.1"></a><span id="l349.1" class="difflineminus">--- a/mail/test/mozmill/message-header/test-return-receipt.js</span>
<a href="#l349.2"></a><span id="l349.2" class="difflineplus">+++ b/mail/test/mozmill/message-header/test-return-receipt.js</span>
<a href="#l349.3"></a><span id="l349.3" class="difflineat">@@ -3,26 +3,26 @@</span>
<a href="#l349.4"></a><span id="l349.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l349.5"></a><span id="l349.5"> </span>
<a href="#l349.6"></a><span id="l349.6"> /*</span>
<a href="#l349.7"></a><span id="l349.7">  * Test return receipt (MDN) stuff.</span>
<a href="#l349.8"></a><span id="l349.8">  */</span>
<a href="#l349.9"></a><span id="l349.9"> </span>
<a href="#l349.10"></a><span id="l349.10"> // make SOLO_TEST=message-header/test-return-receipt.js mozmill-one</span>
<a href="#l349.11"></a><span id="l349.11"> </span>
<a href="#l349.12"></a><span id="l349.12" class="difflineminus">-const MODULE_NAME = &quot;test-return-receipt&quot;;</span>
<a href="#l349.13"></a><span id="l349.13" class="difflineplus">+var MODULE_NAME = &quot;test-return-receipt&quot;;</span>
<a href="#l349.14"></a><span id="l349.14"> </span>
<a href="#l349.15"></a><span id="l349.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l349.16"></a><span id="l349.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l349.17"></a><span id="l349.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l349.18"></a><span id="l349.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l349.19"></a><span id="l349.19">                         &quot;notificationbox-helpers&quot;];</span>
<a href="#l349.20"></a><span id="l349.20"> </span>
<a href="#l349.21"></a><span id="l349.21"> var folder;</span>
<a href="#l349.22"></a><span id="l349.22"> </span>
<a href="#l349.23"></a><span id="l349.23" class="difflineminus">-const kBoxId = &quot;msgNotificationBar&quot;;</span>
<a href="#l349.24"></a><span id="l349.24" class="difflineminus">-const kNotificationValue = &quot;mdnRequested&quot;;</span>
<a href="#l349.25"></a><span id="l349.25" class="difflineplus">+var kBoxId = &quot;msgNotificationBar&quot;;</span>
<a href="#l349.26"></a><span id="l349.26" class="difflineplus">+var kNotificationValue = &quot;mdnRequested&quot;;</span>
<a href="#l349.27"></a><span id="l349.27"> </span>
<a href="#l349.28"></a><span id="l349.28"> function setupModule(module) {</span>
<a href="#l349.29"></a><span id="l349.29">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l349.30"></a><span id="l349.30">   collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l349.31"></a><span id="l349.31">   collector.getModule(&quot;notificationbox-helpers&quot;).installInto(module);</span>
<a href="#l349.32"></a><span id="l349.32"> </span>
<a href="#l349.33"></a><span id="l349.33">   folder = create_folder(&quot;ReturnReceiptTest&quot;);</span>
<a href="#l349.34"></a><span id="l349.34"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l350.1"></a><span id="l350.1" class="difflineminus">--- a/mail/test/mozmill/message-reader/test-bug594646.js</span>
<a href="#l350.2"></a><span id="l350.2" class="difflineplus">+++ b/mail/test/mozmill/message-reader/test-bug594646.js</span>
<a href="#l350.3"></a><span id="l350.3" class="difflineat">@@ -4,20 +4,20 @@</span>
<a href="#l350.4"></a><span id="l350.4">  * You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l350.5"></a><span id="l350.5">  */</span>
<a href="#l350.6"></a><span id="l350.6"> </span>
<a href="#l350.7"></a><span id="l350.7"> /**</span>
<a href="#l350.8"></a><span id="l350.8">  * Tests that opening an .eml file the body of the message is correct,</span>
<a href="#l350.9"></a><span id="l350.9">  * that it hasn't been UTF-8 mojibake'd.</span>
<a href="#l350.10"></a><span id="l350.10">  */</span>
<a href="#l350.11"></a><span id="l350.11"> </span>
<a href="#l350.12"></a><span id="l350.12" class="difflineminus">-const MODULE_NAME = &quot;test-bug594646&quot;;</span>
<a href="#l350.13"></a><span id="l350.13" class="difflineplus">+var MODULE_NAME = &quot;test-bug594646&quot;;</span>
<a href="#l350.14"></a><span id="l350.14"> </span>
<a href="#l350.15"></a><span id="l350.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l350.16"></a><span id="l350.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l350.17"></a><span id="l350.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l350.18"></a><span id="l350.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l350.19"></a><span id="l350.19"> </span>
<a href="#l350.20"></a><span id="l350.20"> var os = {};</span>
<a href="#l350.21"></a><span id="l350.21"> Cu.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l350.22"></a><span id="l350.22"> </span>
<a href="#l350.23"></a><span id="l350.23"> var gReferenceTextContent;</span>
<a href="#l350.24"></a><span id="l350.24"> </span>
<a href="#l350.25"></a><span id="l350.25"> function setupModule(module) {</span>
<a href="#l350.26"></a><span id="l350.26">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l351.1"></a><span id="l351.1" class="difflineminus">--- a/mail/test/mozmill/message-window/test-eml-subject.js</span>
<a href="#l351.2"></a><span id="l351.2" class="difflineplus">+++ b/mail/test/mozmill/message-window/test-eml-subject.js</span>
<a href="#l351.3"></a><span id="l351.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l351.4"></a><span id="l351.4"> </span>
<a href="#l351.5"></a><span id="l351.5"> /**</span>
<a href="#l351.6"></a><span id="l351.6">  * Tests that opening an .eml file with emtpy subject works.</span>
<a href="#l351.7"></a><span id="l351.7">  */</span>
<a href="#l351.8"></a><span id="l351.8"> </span>
<a href="#l351.9"></a><span id="l351.9"> var MODULE_NAME = &quot;test-eml-subject&quot;;</span>
<a href="#l351.10"></a><span id="l351.10"> </span>
<a href="#l351.11"></a><span id="l351.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l351.12"></a><span id="l351.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l351.13"></a><span id="l351.13" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l351.14"></a><span id="l351.14"> </span>
<a href="#l351.15"></a><span id="l351.15"> var os = {};</span>
<a href="#l351.16"></a><span id="l351.16"> Cu.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l351.17"></a><span id="l351.17"> Cu.import(&quot;resource:///modules/StringBundle.js&quot;);</span>
<a href="#l351.18"></a><span id="l351.18"> </span>
<a href="#l351.19"></a><span id="l351.19"> var setupModule = function(module) {</span>
<a href="#l351.20"></a><span id="l351.20">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l351.21"></a><span id="l351.21">   fdh.installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l352.1"></a><span id="l352.1" class="difflineminus">--- a/mail/test/mozmill/migration-to-rdf-ui-5/test-migrate-to-rdf-ui-5.js</span>
<a href="#l352.2"></a><span id="l352.2" class="difflineplus">+++ b/mail/test/mozmill/migration-to-rdf-ui-5/test-migrate-to-rdf-ui-5.js</span>
<a href="#l352.3"></a><span id="l352.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l352.4"></a><span id="l352.4">  * When moving from ui-rdf 4 to 5, we ensure that we've added the App Menu</span>
<a href="#l352.5"></a><span id="l352.5">  * button to the mail toolbar, and that we've collapsed the main menu.</span>
<a href="#l352.6"></a><span id="l352.6">  */</span>
<a href="#l352.7"></a><span id="l352.7"> </span>
<a href="#l352.8"></a><span id="l352.8"> var MODULE_NAME = &quot;test-migrate-to-rdf-ui-5&quot;;</span>
<a href="#l352.9"></a><span id="l352.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l352.10"></a><span id="l352.10"> var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l352.11"></a><span id="l352.11"> </span>
<a href="#l352.12"></a><span id="l352.12" class="difflineminus">-const kAppMenuButton = &quot;button-appmenu&quot;;</span>
<a href="#l352.13"></a><span id="l352.13" class="difflineplus">+var kAppMenuButton = &quot;button-appmenu&quot;;</span>
<a href="#l352.14"></a><span id="l352.14"> </span>
<a href="#l352.15"></a><span id="l352.15"> function setupModule(module) {</span>
<a href="#l352.16"></a><span id="l352.16">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l352.17"></a><span id="l352.17"> }</span>
<a href="#l352.18"></a><span id="l352.18"> </span>
<a href="#l352.19"></a><span id="l352.19"> /**</span>
<a href="#l352.20"></a><span id="l352.20">  * Ensures that the button with ID aButtonID exists at the end of a</span>
<a href="#l352.21"></a><span id="l352.21">  * toolbar with ID aToolbarID.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l353.1"></a><span id="l353.1" class="difflineminus">--- a/mail/test/mozmill/newmailaccount/test-newmailaccount.js</span>
<a href="#l353.2"></a><span id="l353.2" class="difflineplus">+++ b/mail/test/mozmill/newmailaccount/test-newmailaccount.js</span>
<a href="#l353.3"></a><span id="l353.3" class="difflineat">@@ -5,20 +5,20 @@</span>
<a href="#l353.4"></a><span id="l353.4"> /**</span>
<a href="#l353.5"></a><span id="l353.5">  * Tests the get an account (account provisioning) workflow.</span>
<a href="#l353.6"></a><span id="l353.6">  */</span>
<a href="#l353.7"></a><span id="l353.7"> </span>
<a href="#l353.8"></a><span id="l353.8"> var Cu = Components.utils;</span>
<a href="#l353.9"></a><span id="l353.9"> var Cc = Components.classes;</span>
<a href="#l353.10"></a><span id="l353.10"> var Ci = Components.interfaces;</span>
<a href="#l353.11"></a><span id="l353.11"> </span>
<a href="#l353.12"></a><span id="l353.12" class="difflineminus">-const MODULE_NAME = 'test-newmailaccount';</span>
<a href="#l353.13"></a><span id="l353.13" class="difflineplus">+var MODULE_NAME = 'test-newmailaccount';</span>
<a href="#l353.14"></a><span id="l353.14"> </span>
<a href="#l353.15"></a><span id="l353.15" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l353.16"></a><span id="l353.16" class="difflineminus">-const MODULE_REQUIRES = ['folder-display-helpers',</span>
<a href="#l353.17"></a><span id="l353.17" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l353.18"></a><span id="l353.18" class="difflineplus">+var MODULE_REQUIRES = ['folder-display-helpers',</span>
<a href="#l353.19"></a><span id="l353.19">                          'content-tab-helpers',</span>
<a href="#l353.20"></a><span id="l353.20">                          'window-helpers',</span>
<a href="#l353.21"></a><span id="l353.21">                          'newmailaccount-helpers',</span>
<a href="#l353.22"></a><span id="l353.22">                          'keyboard-helpers',</span>
<a href="#l353.23"></a><span id="l353.23">                          'dom-helpers'];</span>
<a href="#l353.24"></a><span id="l353.24"> </span>
<a href="#l353.25"></a><span id="l353.25"> var controller = {};</span>
<a href="#l353.26"></a><span id="l353.26"> var mozmill = {};</span>
<a href="#l353.27"></a><span id="l353.27" class="difflineat">@@ -29,30 +29,30 @@ Cu.import('resource://mozmill/modules/el</span>
<a href="#l353.28"></a><span id="l353.28"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l353.29"></a><span id="l353.29"> Cu.import('resource:///modules/iteratorUtils.jsm');</span>
<a href="#l353.30"></a><span id="l353.30"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l353.31"></a><span id="l353.31"> Cu.import('resource://mozmill/stdlib/httpd.js');</span>
<a href="#l353.32"></a><span id="l353.32"> </span>
<a href="#l353.33"></a><span id="l353.33"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l353.34"></a><span id="l353.34"> // so we get the right path for the resources.</span>
<a href="#l353.35"></a><span id="l353.35"> var url = collector.addHttpResource('../newmailaccount/html', '');</span>
<a href="#l353.36"></a><span id="l353.36" class="difflineminus">-const kProvisionerUrl = &quot;chrome://messenger/content/newmailaccount/accountProvisioner.xhtml&quot;;</span>
<a href="#l353.37"></a><span id="l353.37" class="difflineminus">-const kProvisionerEnabledPref = &quot;mail.provider.enabled&quot;;</span>
<a href="#l353.38"></a><span id="l353.38" class="difflineminus">-const kSuggestFromNamePref = &quot;mail.provider.suggestFromName&quot;;</span>
<a href="#l353.39"></a><span id="l353.39" class="difflineminus">-const kProviderListPref = &quot;mail.provider.providerList&quot;;</span>
<a href="#l353.40"></a><span id="l353.40" class="difflineminus">-const kAcceptedLanguage = &quot;general.useragent.locale&quot;;</span>
<a href="#l353.41"></a><span id="l353.41" class="difflineminus">-const kDefaultServerPort = 4444;</span>
<a href="#l353.42"></a><span id="l353.42" class="difflineminus">-const kDefaultServerRoot = &quot;http://localhost:&quot; + kDefaultServerPort;</span>
<a href="#l353.43"></a><span id="l353.43" class="difflineplus">+var kProvisionerUrl = &quot;chrome://messenger/content/newmailaccount/accountProvisioner.xhtml&quot;;</span>
<a href="#l353.44"></a><span id="l353.44" class="difflineplus">+var kProvisionerEnabledPref = &quot;mail.provider.enabled&quot;;</span>
<a href="#l353.45"></a><span id="l353.45" class="difflineplus">+var kSuggestFromNamePref = &quot;mail.provider.suggestFromName&quot;;</span>
<a href="#l353.46"></a><span id="l353.46" class="difflineplus">+var kProviderListPref = &quot;mail.provider.providerList&quot;;</span>
<a href="#l353.47"></a><span id="l353.47" class="difflineplus">+var kAcceptedLanguage = &quot;general.useragent.locale&quot;;</span>
<a href="#l353.48"></a><span id="l353.48" class="difflineplus">+var kDefaultServerPort = 4444;</span>
<a href="#l353.49"></a><span id="l353.49" class="difflineplus">+var kDefaultServerRoot = &quot;http://localhost:&quot; + kDefaultServerPort;</span>
<a href="#l353.50"></a><span id="l353.50"> </span>
<a href="#l353.51"></a><span id="l353.51"> Services.prefs.setCharPref(kProviderListPref, url + &quot;providerList&quot;);</span>
<a href="#l353.52"></a><span id="l353.52"> Services.prefs.setCharPref(kSuggestFromNamePref, url + &quot;suggestFromName&quot;);</span>
<a href="#l353.53"></a><span id="l353.53"> </span>
<a href="#l353.54"></a><span id="l353.54"> // Here's a name that we'll type in later on.  It's a global const because</span>
<a href="#l353.55"></a><span id="l353.55"> // we'll be using it in several distinct modal dialog event loops.</span>
<a href="#l353.56"></a><span id="l353.56" class="difflineminus">-const NAME = &quot;Leonard Shelby&quot;;</span>
<a href="#l353.57"></a><span id="l353.57" class="difflineplus">+var NAME = &quot;Leonard Shelby&quot;;</span>
<a href="#l353.58"></a><span id="l353.58"> </span>
<a href="#l353.59"></a><span id="l353.59"> // Record what the original value of the mail.provider.enabled pref is so</span>
<a href="#l353.60"></a><span id="l353.60"> // that we can put it back once the tests are done.</span>
<a href="#l353.61"></a><span id="l353.61"> var gProvisionerEnabled = Services.prefs.getBoolPref(kProvisionerEnabledPref);</span>
<a href="#l353.62"></a><span id="l353.62"> </span>
<a href="#l353.63"></a><span id="l353.63"> // Record what the original value of the mail.provider.enabled pref is so</span>
<a href="#l353.64"></a><span id="l353.64"> // that we can put it back once the tests are done.</span>
<a href="#l353.65"></a><span id="l353.65"> var gProvisionerEnabled = Services.prefs.getBoolPref(kProvisionerEnabledPref);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l354.1"></a><span id="l354.1" class="difflineminus">--- a/mail/test/mozmill/pref-window/test-font-chooser.js</span>
<a href="#l354.2"></a><span id="l354.2" class="difflineplus">+++ b/mail/test/mozmill/pref-window/test-font-chooser.js</span>
<a href="#l354.3"></a><span id="l354.3" class="difflineat">@@ -20,23 +20,23 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l354.4"></a><span id="l354.4"> </span>
<a href="#l354.5"></a><span id="l354.5"> // We can't initialize them h because the global scope is read far too</span>
<a href="#l354.6"></a><span id="l354.6"> // early.</span>
<a href="#l354.7"></a><span id="l354.7"> var Cc, Ci;</span>
<a href="#l354.8"></a><span id="l354.8"> </span>
<a href="#l354.9"></a><span id="l354.9"> var gFontEnumerator;</span>
<a href="#l354.10"></a><span id="l354.10"> </span>
<a href="#l354.11"></a><span id="l354.11"> // We'll test with Western. Unicode has issues on Windows (bug 550443).</span>
<a href="#l354.12"></a><span id="l354.12" class="difflineminus">-const kLanguage = &quot;x-western&quot;;</span>
<a href="#l354.13"></a><span id="l354.13" class="difflineplus">+var kLanguage = &quot;x-western&quot;;</span>
<a href="#l354.14"></a><span id="l354.14"> </span>
<a href="#l354.15"></a><span id="l354.15"> // A list of fonts present on the computer for each font type.</span>
<a href="#l354.16"></a><span id="l354.16"> var gRealFontLists = {};</span>
<a href="#l354.17"></a><span id="l354.17"> </span>
<a href="#l354.18"></a><span id="l354.18"> // A list of font types to consider</span>
<a href="#l354.19"></a><span id="l354.19" class="difflineminus">-const kFontTypes = [&quot;serif&quot;, &quot;sans-serif&quot;, &quot;monospace&quot;];</span>
<a href="#l354.20"></a><span id="l354.20" class="difflineplus">+var kFontTypes = [&quot;serif&quot;, &quot;sans-serif&quot;, &quot;monospace&quot;];</span>
<a href="#l354.21"></a><span id="l354.21"> </span>
<a href="#l354.22"></a><span id="l354.22"> function setupModule(module) {</span>
<a href="#l354.23"></a><span id="l354.23">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l354.24"></a><span id="l354.24">   fdh.installInto(module);</span>
<a href="#l354.25"></a><span id="l354.25">   let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l354.26"></a><span id="l354.26">   wh.installInto(module);</span>
<a href="#l354.27"></a><span id="l354.27">   let pwh = collector.getModule(&quot;pref-window-helpers&quot;);</span>
<a href="#l354.28"></a><span id="l354.28">   pwh.installInto(module);</span>
<a href="#l354.29"></a><span id="l354.29" class="difflineat">@@ -118,17 +118,17 @@ function test_font_name_displayed() {</span>
<a href="#l354.30"></a><span id="l354.30">   }</span>
<a href="#l354.31"></a><span id="l354.31"> </span>
<a href="#l354.32"></a><span id="l354.32">   _verify_fonts_displayed.apply(null, [expected[k]</span>
<a href="#l354.33"></a><span id="l354.33">                                        for ([, k] in Iterator(kFontTypes))]);</span>
<a href="#l354.34"></a><span id="l354.34"> }</span>
<a href="#l354.35"></a><span id="l354.35"> </span>
<a href="#l354.36"></a><span id="l354.36"> // Fonts definitely not present on a computer -- we simply use UUIDs. These</span>
<a href="#l354.37"></a><span id="l354.37"> // should be kept in sync with the ones in *-prefs.js.</span>
<a href="#l354.38"></a><span id="l354.38" class="difflineminus">-const kFakeFonts = {</span>
<a href="#l354.39"></a><span id="l354.39" class="difflineplus">+var kFakeFonts = {</span>
<a href="#l354.40"></a><span id="l354.40">   &quot;serif&quot;: &quot;bc7e8c62-0634-467f-a029-fe6abcdf1582&quot;,</span>
<a href="#l354.41"></a><span id="l354.41">   &quot;sans-serif&quot;: &quot;419129aa-43b7-40c4-b554-83d99b504b89&quot;,</span>
<a href="#l354.42"></a><span id="l354.42">   &quot;monospace&quot;: &quot;348df6e5-e874-4d21-ad4b-359b530a33b7&quot;,</span>
<a href="#l354.43"></a><span id="l354.43"> };</span>
<a href="#l354.44"></a><span id="l354.44"> </span>
<a href="#l354.45"></a><span id="l354.45"> /**</span>
<a href="#l354.46"></a><span id="l354.46">  * Test that for a particular language, if font.name.&lt;type&gt;.&lt;language&gt; is not</span>
<a href="#l354.47"></a><span id="l354.47">  * present on the computer, we fall back to displaying what's in</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l355.1"></a><span id="l355.1" class="difflineminus">--- a/mail/test/mozmill/quick-filter-bar/test-display-issues.js</span>
<a href="#l355.2"></a><span id="l355.2" class="difflineplus">+++ b/mail/test/mozmill/quick-filter-bar/test-display-issues.js</span>
<a href="#l355.3"></a><span id="l355.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l355.4"></a><span id="l355.4">  * Test things of a visual nature.</span>
<a href="#l355.5"></a><span id="l355.5">  *</span>
<a href="#l355.6"></a><span id="l355.6">  * Note: this test requires a screen resolution of 1280 x 1024 which is standard on</span>
<a href="#l355.7"></a><span id="l355.7">  * the unit test machines (see also testing/machine-configuration.json).</span>
<a href="#l355.8"></a><span id="l355.8">  */</span>
<a href="#l355.9"></a><span id="l355.9"> </span>
<a href="#l355.10"></a><span id="l355.10"> var MODULE_NAME = 'test-keyboard-interface';</span>
<a href="#l355.11"></a><span id="l355.11"> </span>
<a href="#l355.12"></a><span id="l355.12" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l355.13"></a><span id="l355.13" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l355.14"></a><span id="l355.14"> </span>
<a href="#l355.15"></a><span id="l355.15"> var MODULE_REQUIRES = ['folder-display-helpers', 'window-helpers',</span>
<a href="#l355.16"></a><span id="l355.16">                        'quick-filter-bar-helper'];</span>
<a href="#l355.17"></a><span id="l355.17"> </span>
<a href="#l355.18"></a><span id="l355.18"> var folder;</span>
<a href="#l355.19"></a><span id="l355.19"> var setUnstarred, setStarred;</span>
<a href="#l355.20"></a><span id="l355.20"> </span>
<a href="#l355.21"></a><span id="l355.21"> function setupModule(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l356.1"></a><span id="l356.1" class="difflineminus">--- a/mail/test/mozmill/quick-filter-bar/test-filter-logic.js</span>
<a href="#l356.2"></a><span id="l356.2" class="difflineplus">+++ b/mail/test/mozmill/quick-filter-bar/test-filter-logic.js</span>
<a href="#l356.3"></a><span id="l356.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l356.4"></a><span id="l356.4">  * Verify that we are constructing the filters that we expect and that they</span>
<a href="#l356.5"></a><span id="l356.5">  * are hooked up to the right buttons.</span>
<a href="#l356.6"></a><span id="l356.6">  */</span>
<a href="#l356.7"></a><span id="l356.7"> </span>
<a href="#l356.8"></a><span id="l356.8"> // make SOLO_TEST=quick-filter-bar/test-filter-logic.js mozmill-one</span>
<a href="#l356.9"></a><span id="l356.9"> </span>
<a href="#l356.10"></a><span id="l356.10"> var MODULE_NAME = 'test-filter-logic';</span>
<a href="#l356.11"></a><span id="l356.11"> </span>
<a href="#l356.12"></a><span id="l356.12" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l356.13"></a><span id="l356.13" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l356.14"></a><span id="l356.14"> </span>
<a href="#l356.15"></a><span id="l356.15"> var MODULE_REQUIRES = ['folder-display-helpers', 'window-helpers',</span>
<a href="#l356.16"></a><span id="l356.16">                        'quick-filter-bar-helper'];</span>
<a href="#l356.17"></a><span id="l356.17"> </span>
<a href="#l356.18"></a><span id="l356.18"> function setupModule(module) {</span>
<a href="#l356.19"></a><span id="l356.19">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l356.20"></a><span id="l356.20">   collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l356.21"></a><span id="l356.21">   collector.getModule(&quot;quick-filter-bar-helper&quot;).installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l357.1"></a><span id="l357.1" class="difflineminus">--- a/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js</span>
<a href="#l357.2"></a><span id="l357.2" class="difflineplus">+++ b/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js</span>
<a href="#l357.3"></a><span id="l357.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l357.4"></a><span id="l357.4">  * Tests keyboard stuff that doesn't fall under some other test's heading.</span>
<a href="#l357.5"></a><span id="l357.5">  * Namely, control-shift-k toggling the bar into existence happens in</span>
<a href="#l357.6"></a><span id="l357.6">  * test-toggle-bar.js, but we test that repeatedly hitting control-shift-k</span>
<a href="#l357.7"></a><span id="l357.7">  * selects the text entered in the quick filter bar.</span>
<a href="#l357.8"></a><span id="l357.8">  */</span>
<a href="#l357.9"></a><span id="l357.9"> </span>
<a href="#l357.10"></a><span id="l357.10"> var MODULE_NAME = 'test-keyboard-interface';</span>
<a href="#l357.11"></a><span id="l357.11"> </span>
<a href="#l357.12"></a><span id="l357.12" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l357.13"></a><span id="l357.13" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l357.14"></a><span id="l357.14"> </span>
<a href="#l357.15"></a><span id="l357.15"> var MODULE_REQUIRES = ['folder-display-helpers', 'window-helpers',</span>
<a href="#l357.16"></a><span id="l357.16">                        'quick-filter-bar-helper'];</span>
<a href="#l357.17"></a><span id="l357.17"> </span>
<a href="#l357.18"></a><span id="l357.18"> var folder;</span>
<a href="#l357.19"></a><span id="l357.19"> </span>
<a href="#l357.20"></a><span id="l357.20"> function setupModule(module) {</span>
<a href="#l357.21"></a><span id="l357.21">   let fdh = collector.getModule('folder-display-helpers');</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l358.1"></a><span id="l358.1" class="difflineminus">--- a/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js</span>
<a href="#l358.2"></a><span id="l358.2" class="difflineplus">+++ b/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js</span>
<a href="#l358.3"></a><span id="l358.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l358.4"></a><span id="l358.4"> </span>
<a href="#l358.5"></a><span id="l358.5"> /*</span>
<a href="#l358.6"></a><span id="l358.6">  * Sticky logic only needs to test the general sticky logic plus any filters</span>
<a href="#l358.7"></a><span id="l358.7">  *  with custom propagateState implementations (currently: tags, text filter.)</span>
<a href="#l358.8"></a><span id="l358.8">  */</span>
<a href="#l358.9"></a><span id="l358.9"> </span>
<a href="#l358.10"></a><span id="l358.10"> var MODULE_NAME = 'test-filter-logic';</span>
<a href="#l358.11"></a><span id="l358.11"> </span>
<a href="#l358.12"></a><span id="l358.12" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l358.13"></a><span id="l358.13" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l358.14"></a><span id="l358.14"> </span>
<a href="#l358.15"></a><span id="l358.15"> var MODULE_REQUIRES = ['folder-display-helpers', 'window-helpers',</span>
<a href="#l358.16"></a><span id="l358.16">                        'quick-filter-bar-helper'];</span>
<a href="#l358.17"></a><span id="l358.17"> </span>
<a href="#l358.18"></a><span id="l358.18"> function setupModule(module) {</span>
<a href="#l358.19"></a><span id="l358.19">   let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l358.20"></a><span id="l358.20">   fdh.installInto(module);</span>
<a href="#l358.21"></a><span id="l358.21">   let wh = collector.getModule('window-helpers');</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l359.1"></a><span id="l359.1" class="difflineminus">--- a/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js</span>
<a href="#l359.2"></a><span id="l359.2" class="difflineplus">+++ b/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js</span>
<a href="#l359.3"></a><span id="l359.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l359.4"></a><span id="l359.4"> </span>
<a href="#l359.5"></a><span id="l359.5"> /*</span>
<a href="#l359.6"></a><span id="l359.6">  * Test that the message filter bar toggles into and out of existence and</span>
<a href="#l359.7"></a><span id="l359.7">  * states are updated as appropriate.</span>
<a href="#l359.8"></a><span id="l359.8">  */</span>
<a href="#l359.9"></a><span id="l359.9"> </span>
<a href="#l359.10"></a><span id="l359.10"> var MODULE_NAME = 'test-toggle-bar';</span>
<a href="#l359.11"></a><span id="l359.11"> </span>
<a href="#l359.12"></a><span id="l359.12" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l359.13"></a><span id="l359.13" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l359.14"></a><span id="l359.14"> </span>
<a href="#l359.15"></a><span id="l359.15"> var MODULE_REQUIRES = ['folder-display-helpers', 'window-helpers',</span>
<a href="#l359.16"></a><span id="l359.16">                        'quick-filter-bar-helper'];</span>
<a href="#l359.17"></a><span id="l359.17"> </span>
<a href="#l359.18"></a><span id="l359.18"> var folder;</span>
<a href="#l359.19"></a><span id="l359.19"> var setUnstarred, setStarred;</span>
<a href="#l359.20"></a><span id="l359.20"> </span>
<a href="#l359.21"></a><span id="l359.21"> function setupModule(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l360.1"></a><span id="l360.1" class="difflineminus">--- a/mail/test/mozmill/search-window/test-search-window.js</span>
<a href="#l360.2"></a><span id="l360.2" class="difflineplus">+++ b/mail/test/mozmill/search-window/test-search-window.js</span>
<a href="#l360.3"></a><span id="l360.3" class="difflineat">@@ -19,17 +19,17 @@ function setupModule(module) {</span>
<a href="#l360.4"></a><span id="l360.4">   wh.installInto(module);</span>
<a href="#l360.5"></a><span id="l360.5">   let sh = collector.getModule('search-window-helpers');</span>
<a href="#l360.6"></a><span id="l360.6">   sh.installInto(module);</span>
<a href="#l360.7"></a><span id="l360.7"> }</span>
<a href="#l360.8"></a><span id="l360.8"> </span>
<a href="#l360.9"></a><span id="l360.9"> var folder, setFoo, setBar, setFooBar;</span>
<a href="#l360.10"></a><span id="l360.10"> </span>
<a href="#l360.11"></a><span id="l360.11"> // Number of messages to open for multi-message tests</span>
<a href="#l360.12"></a><span id="l360.12" class="difflineminus">-const NUM_MESSAGES_TO_OPEN = 5;</span>
<a href="#l360.13"></a><span id="l360.13" class="difflineplus">+var NUM_MESSAGES_TO_OPEN = 5;</span>
<a href="#l360.14"></a><span id="l360.14"> </span>
<a href="#l360.15"></a><span id="l360.15"> /**</span>
<a href="#l360.16"></a><span id="l360.16">  * Create some messages that our constraint below will satisfy</span>
<a href="#l360.17"></a><span id="l360.17">  */</span>
<a href="#l360.18"></a><span id="l360.18"> function test_create_messages() {</span>
<a href="#l360.19"></a><span id="l360.19">   folder = create_folder(&quot;SearchWindowA&quot;);</span>
<a href="#l360.20"></a><span id="l360.20">   [setFoo, setBar, setFooBar] =</span>
<a href="#l360.21"></a><span id="l360.21">     make_new_sets_in_folder(folder, [{subject: &quot;foo&quot;}, {subject: &quot;bar&quot;},</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l361.1"></a><span id="l361.1" class="difflineminus">--- a/mail/test/mozmill/session-store/test-session-store.js</span>
<a href="#l361.2"></a><span id="l361.2" class="difflineplus">+++ b/mail/test/mozmill/session-store/test-session-store.js</span>
<a href="#l361.3"></a><span id="l361.3" class="difflineat">@@ -2,34 +2,34 @@</span>
<a href="#l361.4"></a><span id="l361.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l361.5"></a><span id="l361.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l361.6"></a><span id="l361.6"> </span>
<a href="#l361.7"></a><span id="l361.7"> /*</span>
<a href="#l361.8"></a><span id="l361.8">  * Session Storage Tests. Session Restoration Tests are currently implemented in</span>
<a href="#l361.9"></a><span id="l361.9">  * folder-display/test-message-pane-visibility.js.</span>
<a href="#l361.10"></a><span id="l361.10">  */</span>
<a href="#l361.11"></a><span id="l361.11"> </span>
<a href="#l361.12"></a><span id="l361.12" class="difflineminus">-const MODULE_NAME = &quot;test-session-store&quot;;</span>
<a href="#l361.13"></a><span id="l361.13" class="difflineplus">+var MODULE_NAME = &quot;test-session-store&quot;;</span>
<a href="#l361.14"></a><span id="l361.14"> </span>
<a href="#l361.15"></a><span id="l361.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l361.16"></a><span id="l361.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l361.17"></a><span id="l361.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l361.18"></a><span id="l361.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l361.19"></a><span id="l361.19"> </span>
<a href="#l361.20"></a><span id="l361.20"> var controller = {};</span>
<a href="#l361.21"></a><span id="l361.21"> Cu.import(&quot;resource://mozmill/modules/controller.js&quot;, controller);</span>
<a href="#l361.22"></a><span id="l361.22"> var jumlib = {};</span>
<a href="#l361.23"></a><span id="l361.23"> Cu.import(&quot;resource://mozmill/modules/jum.js&quot;, jumlib);</span>
<a href="#l361.24"></a><span id="l361.24"> </span>
<a href="#l361.25"></a><span id="l361.25"> Cu.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l361.26"></a><span id="l361.26"> Cu.import(&quot;resource:///modules/sessionStoreManager.js&quot;);</span>
<a href="#l361.27"></a><span id="l361.27"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l361.28"></a><span id="l361.28"> </span>
<a href="#l361.29"></a><span id="l361.29"> var folderA, folderB;</span>
<a href="#l361.30"></a><span id="l361.30"> </span>
<a href="#l361.31"></a><span id="l361.31"> // With async file writes, use a delay larger than the session autosave timer.</span>
<a href="#l361.32"></a><span id="l361.32" class="difflineminus">-const asyncFileWriteDelayMS = 1000;</span>
<a href="#l361.33"></a><span id="l361.33" class="difflineplus">+var asyncFileWriteDelayMS = 1000;</span>
<a href="#l361.34"></a><span id="l361.34"> </span>
<a href="#l361.35"></a><span id="l361.35"> /* ........ Helper Functions ................*/</span>
<a href="#l361.36"></a><span id="l361.36"> </span>
<a href="#l361.37"></a><span id="l361.37"> /**</span>
<a href="#l361.38"></a><span id="l361.38">  * Reads the contents of the session file into a JSON object.</span>
<a href="#l361.39"></a><span id="l361.39">  */</span>
<a href="#l361.40"></a><span id="l361.40"> function readFile() {</span>
<a href="#l361.41"></a><span id="l361.41">   try {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l362.1"></a><span id="l362.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-account-manager-helpers.js</span>
<a href="#l362.2"></a><span id="l362.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-account-manager-helpers.js</span>
<a href="#l362.3"></a><span id="l362.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l362.4"></a><span id="l362.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l362.5"></a><span id="l362.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l362.6"></a><span id="l362.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l362.7"></a><span id="l362.7"> </span>
<a href="#l362.8"></a><span id="l362.8" class="difflineminus">-const MODULE_NAME = &quot;account-manager-helpers&quot;;</span>
<a href="#l362.9"></a><span id="l362.9" class="difflineplus">+var MODULE_NAME = &quot;account-manager-helpers&quot;;</span>
<a href="#l362.10"></a><span id="l362.10"> </span>
<a href="#l362.11"></a><span id="l362.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l362.12"></a><span id="l362.12" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l362.13"></a><span id="l362.13"> // we need this for the main controller</span>
<a href="#l362.14"></a><span id="l362.14" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l362.15"></a><span id="l362.15" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l362.16"></a><span id="l362.16"> </span>
<a href="#l362.17"></a><span id="l362.17"> var utils = {};</span>
<a href="#l362.18"></a><span id="l362.18"> Cu.import('resource://mozmill/modules/utils.js', utils);</span>
<a href="#l362.19"></a><span id="l362.19"> </span>
<a href="#l362.20"></a><span id="l362.20"> var wh, fdh, mc;</span>
<a href="#l362.21"></a><span id="l362.21"> </span>
<a href="#l362.22"></a><span id="l362.22"> function setupModule() {</span>
<a href="#l362.23"></a><span id="l362.23">   fdh = collector.getModule('folder-display-helpers');</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l363.1"></a><span id="l363.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-address-book-helpers.js</span>
<a href="#l363.2"></a><span id="l363.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-address-book-helpers.js</span>
<a href="#l363.3"></a><span id="l363.3" class="difflineat">@@ -1,22 +1,22 @@</span>
<a href="#l363.4"></a><span id="l363.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l363.5"></a><span id="l363.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l363.6"></a><span id="l363.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l363.7"></a><span id="l363.7"> </span>
<a href="#l363.8"></a><span id="l363.8" class="difflineminus">-const MODULE_NAME = &quot;address-book-helpers&quot;;</span>
<a href="#l363.9"></a><span id="l363.9" class="difflineplus">+var MODULE_NAME = &quot;address-book-helpers&quot;;</span>
<a href="#l363.10"></a><span id="l363.10"> </span>
<a href="#l363.11"></a><span id="l363.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l363.12"></a><span id="l363.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l363.13"></a><span id="l363.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l363.14"></a><span id="l363.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l363.15"></a><span id="l363.15"> </span>
<a href="#l363.16"></a><span id="l363.16"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l363.17"></a><span id="l363.17"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l363.18"></a><span id="l363.18"> </span>
<a href="#l363.19"></a><span id="l363.19" class="difflineminus">-const ABMDB_PREFIX = &quot;moz-abmdbdirectory://&quot;;</span>
<a href="#l363.20"></a><span id="l363.20" class="difflineminus">-const ABLDAP_PREFIX = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l363.21"></a><span id="l363.21" class="difflineplus">+var ABMDB_PREFIX = &quot;moz-abmdbdirectory://&quot;;</span>
<a href="#l363.22"></a><span id="l363.22" class="difflineplus">+var ABLDAP_PREFIX = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l363.23"></a><span id="l363.23"> </span>
<a href="#l363.24"></a><span id="l363.24"> var collectedAddresses;</span>
<a href="#l363.25"></a><span id="l363.25"> </span>
<a href="#l363.26"></a><span id="l363.26"> var abController;</span>
<a href="#l363.27"></a><span id="l363.27"> </span>
<a href="#l363.28"></a><span id="l363.28"> var folderDisplayHelper;</span>
<a href="#l363.29"></a><span id="l363.29"> var mc;</span>
<a href="#l363.30"></a><span id="l363.30"> var windowHelper;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l364.1"></a><span id="l364.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-attachment-helpers.js</span>
<a href="#l364.2"></a><span id="l364.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-attachment-helpers.js</span>
<a href="#l364.3"></a><span id="l364.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l364.4"></a><span id="l364.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l364.5"></a><span id="l364.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l364.6"></a><span id="l364.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l364.7"></a><span id="l364.7"> </span>
<a href="#l364.8"></a><span id="l364.8" class="difflineminus">-const MODULE_NAME = &quot;attachment-helpers&quot;;</span>
<a href="#l364.9"></a><span id="l364.9" class="difflineplus">+var MODULE_NAME = &quot;attachment-helpers&quot;;</span>
<a href="#l364.10"></a><span id="l364.10"> </span>
<a href="#l364.11"></a><span id="l364.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l364.12"></a><span id="l364.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;mock-object-helpers&quot;];</span>
<a href="#l364.13"></a><span id="l364.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l364.14"></a><span id="l364.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;mock-object-helpers&quot;];</span>
<a href="#l364.15"></a><span id="l364.15"> </span>
<a href="#l364.16"></a><span id="l364.16"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l364.17"></a><span id="l364.17"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l364.18"></a><span id="l364.18"> </span>
<a href="#l364.19"></a><span id="l364.19"> var gMockFilePickReg;</span>
<a href="#l364.20"></a><span id="l364.20"> </span>
<a href="#l364.21"></a><span id="l364.21"> function setupModule(module) {</span>
<a href="#l364.22"></a><span id="l364.22">   let moh = collector.getModule('mock-object-helpers');</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l365.1"></a><span id="l365.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js</span>
<a href="#l365.2"></a><span id="l365.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js</span>
<a href="#l365.3"></a><span id="l365.3" class="difflineat">@@ -1,25 +1,25 @@</span>
<a href="#l365.4"></a><span id="l365.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l365.5"></a><span id="l365.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l365.6"></a><span id="l365.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l365.7"></a><span id="l365.7"> </span>
<a href="#l365.8"></a><span id="l365.8" class="difflineminus">-const MODULE_NAME = &quot;cloudfile-backend-helpers&quot;;</span>
<a href="#l365.9"></a><span id="l365.9" class="difflineplus">+var MODULE_NAME = &quot;cloudfile-backend-helpers&quot;;</span>
<a href="#l365.10"></a><span id="l365.10"> </span>
<a href="#l365.11"></a><span id="l365.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l365.12"></a><span id="l365.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;window-helpers&quot;];</span>
<a href="#l365.13"></a><span id="l365.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l365.14"></a><span id="l365.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;window-helpers&quot;];</span>
<a href="#l365.15"></a><span id="l365.15"> </span>
<a href="#l365.16"></a><span id="l365.16"> Cu.import('resource://gre/modules/XPCOMUtils.jsm');</span>
<a href="#l365.17"></a><span id="l365.17"> </span>
<a href="#l365.18"></a><span id="l365.18" class="difflineminus">-const kUserAuthRequested = &quot;cloudfile:auth&quot;;</span>
<a href="#l365.19"></a><span id="l365.19" class="difflineminus">-const kUserDataRequested = &quot;cloudfile:user&quot;;</span>
<a href="#l365.20"></a><span id="l365.20" class="difflineminus">-const kUploadFile = &quot;cloudfile:uploadFile&quot;;</span>
<a href="#l365.21"></a><span id="l365.21" class="difflineminus">-const kGetFileURL = &quot;cloudfile:getFileURL&quot;;</span>
<a href="#l365.22"></a><span id="l365.22" class="difflineminus">-const kDeleteFile = &quot;cloudfile:deleteFile&quot;;</span>
<a href="#l365.23"></a><span id="l365.23" class="difflineminus">-const kLogout = &quot;cloudfile:logout&quot;;</span>
<a href="#l365.24"></a><span id="l365.24" class="difflineplus">+var kUserAuthRequested = &quot;cloudfile:auth&quot;;</span>
<a href="#l365.25"></a><span id="l365.25" class="difflineplus">+var kUserDataRequested = &quot;cloudfile:user&quot;;</span>
<a href="#l365.26"></a><span id="l365.26" class="difflineplus">+var kUploadFile = &quot;cloudfile:uploadFile&quot;;</span>
<a href="#l365.27"></a><span id="l365.27" class="difflineplus">+var kGetFileURL = &quot;cloudfile:getFileURL&quot;;</span>
<a href="#l365.28"></a><span id="l365.28" class="difflineplus">+var kDeleteFile = &quot;cloudfile:deleteFile&quot;;</span>
<a href="#l365.29"></a><span id="l365.29" class="difflineplus">+var kLogout = &quot;cloudfile:logout&quot;;</span>
<a href="#l365.30"></a><span id="l365.30"> </span>
<a href="#l365.31"></a><span id="l365.31"> var wh;</span>
<a href="#l365.32"></a><span id="l365.32"> </span>
<a href="#l365.33"></a><span id="l365.33"> function installInto(module) {</span>
<a href="#l365.34"></a><span id="l365.34">   setupModule(module);</span>
<a href="#l365.35"></a><span id="l365.35">   module.kUserAuthRequested = kUserAuthRequested;</span>
<a href="#l365.36"></a><span id="l365.36">   module.kUserDataRequested = kUserDataRequested;</span>
<a href="#l365.37"></a><span id="l365.37">   module.kUploadFile = kUploadFile;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l366.1"></a><span id="l366.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-cloudfile-helpers.js</span>
<a href="#l366.2"></a><span id="l366.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-cloudfile-helpers.js</span>
<a href="#l366.3"></a><span id="l366.3" class="difflineat">@@ -1,27 +1,27 @@</span>
<a href="#l366.4"></a><span id="l366.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l366.5"></a><span id="l366.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l366.6"></a><span id="l366.6">   * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l366.7"></a><span id="l366.7"> </span>
<a href="#l366.8"></a><span id="l366.8" class="difflineminus">-const MODULE_NAME = &quot;cloudfile-helpers&quot;;</span>
<a href="#l366.9"></a><span id="l366.9" class="difflineplus">+var MODULE_NAME = &quot;cloudfile-helpers&quot;;</span>
<a href="#l366.10"></a><span id="l366.10"> </span>
<a href="#l366.11"></a><span id="l366.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l366.12"></a><span id="l366.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;mock-object-helpers&quot;];</span>
<a href="#l366.13"></a><span id="l366.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l366.14"></a><span id="l366.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;mock-object-helpers&quot;];</span>
<a href="#l366.15"></a><span id="l366.15"> </span>
<a href="#l366.16"></a><span id="l366.16"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l366.17"></a><span id="l366.17"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l366.18"></a><span id="l366.18"> var os = {};</span>
<a href="#l366.19"></a><span id="l366.19"> Cu.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l366.20"></a><span id="l366.20"> </span>
<a href="#l366.21"></a><span id="l366.21"> var Cr = Components.results;</span>
<a href="#l366.22"></a><span id="l366.22"> </span>
<a href="#l366.23"></a><span id="l366.23" class="difflineminus">-const kMockContractIDPrefix = &quot;@mozilla.org/mail/mockCloudFile;1?id=&quot;;</span>
<a href="#l366.24"></a><span id="l366.24" class="difflineplus">+var kMockContractIDPrefix = &quot;@mozilla.org/mail/mockCloudFile;1?id=&quot;;</span>
<a href="#l366.25"></a><span id="l366.25"> </span>
<a href="#l366.26"></a><span id="l366.26" class="difflineminus">-const kDefaults = {</span>
<a href="#l366.27"></a><span id="l366.27" class="difflineplus">+var kDefaults = {</span>
<a href="#l366.28"></a><span id="l366.28">   iconClass: &quot;chrome://messenger/skin/icons/dropbox.png&quot;,</span>
<a href="#l366.29"></a><span id="l366.29">   accountKey: null,</span>
<a href="#l366.30"></a><span id="l366.30">   settingsURL: &quot;&quot;,</span>
<a href="#l366.31"></a><span id="l366.31">   managementURL: &quot;&quot;,</span>
<a href="#l366.32"></a><span id="l366.32">   authErr: Ci.nsIMsgCloudFileProvider.authErr,</span>
<a href="#l366.33"></a><span id="l366.33">   offlineErr: Ci.nsIMsgCloudFileProvider.offlineErr,</span>
<a href="#l366.34"></a><span id="l366.34">   uploadErr: Ci.nsIMsgCloudFileProvider.uploadErr,</span>
<a href="#l366.35"></a><span id="l366.35">   uploadWouldExceedQuota: Ci.nsIMsgCloudFileProvider.uploadWouldExceedQuota,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l367.1"></a><span id="l367.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-cloudfile-hightail-helpers.js</span>
<a href="#l367.2"></a><span id="l367.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-cloudfile-hightail-helpers.js</span>
<a href="#l367.3"></a><span id="l367.3" class="difflineat">@@ -1,47 +1,47 @@</span>
<a href="#l367.4"></a><span id="l367.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l367.5"></a><span id="l367.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l367.6"></a><span id="l367.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l367.7"></a><span id="l367.7"> </span>
<a href="#l367.8"></a><span id="l367.8" class="difflineminus">-const MODULE_NAME = &quot;cloudfile-hightail-helpers&quot;;</span>
<a href="#l367.9"></a><span id="l367.9" class="difflineplus">+var MODULE_NAME = &quot;cloudfile-hightail-helpers&quot;;</span>
<a href="#l367.10"></a><span id="l367.10"> </span>
<a href="#l367.11"></a><span id="l367.11"> Cu.import('resource://mozmill/stdlib/httpd.js');</span>
<a href="#l367.12"></a><span id="l367.12"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l367.13"></a><span id="l367.13"> Cu.import('resource:///modules/cloudFileAccounts.js');</span>
<a href="#l367.14"></a><span id="l367.14"> </span>
<a href="#l367.15"></a><span id="l367.15" class="difflineminus">-const kDefaultServerPort = 4444;</span>
<a href="#l367.16"></a><span id="l367.16" class="difflineminus">-const kServerRoot = &quot;http://localhost:&quot; + kDefaultServerPort;</span>
<a href="#l367.17"></a><span id="l367.17" class="difflineminus">-const kServerPath = &quot;&quot;;</span>
<a href="#l367.18"></a><span id="l367.18" class="difflineminus">-const kServerURL = kServerRoot + kServerPath;</span>
<a href="#l367.19"></a><span id="l367.19" class="difflineminus">-const kAuthPath = &quot;/dpi/v1/auth&quot;;</span>
<a href="#l367.20"></a><span id="l367.20" class="difflineminus">-const kUserInfoPath = &quot;/dpi/v2/user&quot;;</span>
<a href="#l367.21"></a><span id="l367.21" class="difflineminus">-const kFolderPath = &quot;/dpi/v1/folder/&quot;;</span>
<a href="#l367.22"></a><span id="l367.22" class="difflineminus">-const kFolderInitUploadPath = kFolderPath + &quot;file/initUpload&quot;;</span>
<a href="#l367.23"></a><span id="l367.23" class="difflineminus">-const kFolderCommitUploadPath = kFolderPath + &quot;file/commitUpload&quot;;</span>
<a href="#l367.24"></a><span id="l367.24" class="difflineminus">-const kDeletePath = kFolderPath + &quot;file&quot;;</span>
<a href="#l367.25"></a><span id="l367.25" class="difflineminus">-const kDefaultFileUploadPath = &quot;/uploads&quot;;</span>
<a href="#l367.26"></a><span id="l367.26" class="difflineminus">-const kDownloadURLPrefix = &quot;http://www.example.com/downloads&quot;;</span>
<a href="#l367.27"></a><span id="l367.27" class="difflineplus">+var kDefaultServerPort = 4444;</span>
<a href="#l367.28"></a><span id="l367.28" class="difflineplus">+var kServerRoot = &quot;http://localhost:&quot; + kDefaultServerPort;</span>
<a href="#l367.29"></a><span id="l367.29" class="difflineplus">+var kServerPath = &quot;&quot;;</span>
<a href="#l367.30"></a><span id="l367.30" class="difflineplus">+var kServerURL = kServerRoot + kServerPath;</span>
<a href="#l367.31"></a><span id="l367.31" class="difflineplus">+var kAuthPath = &quot;/dpi/v1/auth&quot;;</span>
<a href="#l367.32"></a><span id="l367.32" class="difflineplus">+var kUserInfoPath = &quot;/dpi/v2/user&quot;;</span>
<a href="#l367.33"></a><span id="l367.33" class="difflineplus">+var kFolderPath = &quot;/dpi/v1/folder/&quot;;</span>
<a href="#l367.34"></a><span id="l367.34" class="difflineplus">+var kFolderInitUploadPath = kFolderPath + &quot;file/initUpload&quot;;</span>
<a href="#l367.35"></a><span id="l367.35" class="difflineplus">+var kFolderCommitUploadPath = kFolderPath + &quot;file/commitUpload&quot;;</span>
<a href="#l367.36"></a><span id="l367.36" class="difflineplus">+var kDeletePath = kFolderPath + &quot;file&quot;;</span>
<a href="#l367.37"></a><span id="l367.37" class="difflineplus">+var kDefaultFileUploadPath = &quot;/uploads&quot;;</span>
<a href="#l367.38"></a><span id="l367.38" class="difflineplus">+var kDownloadURLPrefix = &quot;http://www.example.com/downloads&quot;;</span>
<a href="#l367.39"></a><span id="l367.39"> </span>
<a href="#l367.40"></a><span id="l367.40" class="difflineminus">-const kAuthResult = {</span>
<a href="#l367.41"></a><span id="l367.41" class="difflineplus">+var kAuthResult = {</span>
<a href="#l367.42"></a><span id="l367.42">   authToken: &quot;someAuthToken&quot;,</span>
<a href="#l367.43"></a><span id="l367.43">   errorStatus: null,</span>
<a href="#l367.44"></a><span id="l367.44"> }</span>
<a href="#l367.45"></a><span id="l367.45"> </span>
<a href="#l367.46"></a><span id="l367.46" class="difflineminus">-const kDefaultConfig = {</span>
<a href="#l367.47"></a><span id="l367.47" class="difflineplus">+var kDefaultConfig = {</span>
<a href="#l367.48"></a><span id="l367.48">   port: kDefaultServerPort</span>
<a href="#l367.49"></a><span id="l367.49"> }</span>
<a href="#l367.50"></a><span id="l367.50"> </span>
<a href="#l367.51"></a><span id="l367.51" class="difflineminus">-const kDefaultReturnHeader = {</span>
<a href="#l367.52"></a><span id="l367.52" class="difflineplus">+var kDefaultReturnHeader = {</span>
<a href="#l367.53"></a><span id="l367.53">   statusCode: 200,</span>
<a href="#l367.54"></a><span id="l367.54">   statusString: &quot;OK&quot;,</span>
<a href="#l367.55"></a><span id="l367.55">   contentType: &quot;text/plain&quot;,</span>
<a href="#l367.56"></a><span id="l367.56"> }</span>
<a href="#l367.57"></a><span id="l367.57"> </span>
<a href="#l367.58"></a><span id="l367.58" class="difflineminus">-const kDefaultUser = {</span>
<a href="#l367.59"></a><span id="l367.59" class="difflineplus">+var kDefaultUser = {</span>
<a href="#l367.60"></a><span id="l367.60">   key: null,</span>
<a href="#l367.61"></a><span id="l367.61">   id: null,</span>
<a href="#l367.62"></a><span id="l367.62">   type: &quot;BAS&quot;,</span>
<a href="#l367.63"></a><span id="l367.63">   policy: null,</span>
<a href="#l367.64"></a><span id="l367.64">   version: &quot;v3&quot;,</span>
<a href="#l367.65"></a><span id="l367.65">   password: null,</span>
<a href="#l367.66"></a><span id="l367.66">   role:null,</span>
<a href="#l367.67"></a><span id="l367.67">   email: &quot;john@example.com&quot;,</span>
<a href="#l367.68"></a><span id="l367.68" class="difflineat">@@ -65,25 +65,25 @@ const kDefaultUser = {</span>
<a href="#l367.69"></a><span id="l367.69">   storage: {</span>
<a href="#l367.70"></a><span id="l367.70">     currentUsage: 1045,</span>
<a href="#l367.71"></a><span id="l367.71">     storageQuota: 2147483648</span>
<a href="#l367.72"></a><span id="l367.72">   },</span>
<a href="#l367.73"></a><span id="l367.73">   status: null,</span>
<a href="#l367.74"></a><span id="l367.74">   errorStatus: null,</span>
<a href="#l367.75"></a><span id="l367.75"> };</span>
<a href="#l367.76"></a><span id="l367.76"> </span>
<a href="#l367.77"></a><span id="l367.77" class="difflineminus">-const kDefaultFilePrepare = {</span>
<a href="#l367.78"></a><span id="l367.78" class="difflineplus">+var kDefaultFilePrepare = {</span>
<a href="#l367.79"></a><span id="l367.79">   fileId: &quot;&quot;,</span>
<a href="#l367.80"></a><span id="l367.80">   uploadUrl: [</span>
<a href="#l367.81"></a><span id="l367.81">   ],</span>
<a href="#l367.82"></a><span id="l367.82">   status: null,</span>
<a href="#l367.83"></a><span id="l367.83">   errorStatus: null,</span>
<a href="#l367.84"></a><span id="l367.84"> }</span>
<a href="#l367.85"></a><span id="l367.85"> </span>
<a href="#l367.86"></a><span id="l367.86" class="difflineminus">-const kDefaultCommitReturn = {</span>
<a href="#l367.87"></a><span id="l367.87" class="difflineplus">+var kDefaultCommitReturn = {</span>
<a href="#l367.88"></a><span id="l367.88">   clickableDownloadUrl: &quot;&quot;,</span>
<a href="#l367.89"></a><span id="l367.89">   errorStatus: null,</span>
<a href="#l367.90"></a><span id="l367.90"> }</span>
<a href="#l367.91"></a><span id="l367.91"> </span>
<a href="#l367.92"></a><span id="l367.92"> function installInto(module) {</span>
<a href="#l367.93"></a><span id="l367.93">   module.MockHightailServer = MockHightailServer;</span>
<a href="#l367.94"></a><span id="l367.94">   module.MockHightailAuthCounter = MockHightailAuthCounter;</span>
<a href="#l367.95"></a><span id="l367.95">   module.MockHightailDeleterStaleToken = MockHightailDeleterStaleToken;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l368.1"></a><span id="l368.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-compose-helpers.js</span>
<a href="#l368.2"></a><span id="l368.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-compose-helpers.js</span>
<a href="#l368.3"></a><span id="l368.3" class="difflineat">@@ -1,26 +1,26 @@</span>
<a href="#l368.4"></a><span id="l368.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l368.5"></a><span id="l368.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l368.6"></a><span id="l368.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l368.7"></a><span id="l368.7"> </span>
<a href="#l368.8"></a><span id="l368.8" class="difflineminus">-const MODULE_NAME = &quot;compose-helpers&quot;;</span>
<a href="#l368.9"></a><span id="l368.9" class="difflineplus">+var MODULE_NAME = &quot;compose-helpers&quot;;</span>
<a href="#l368.10"></a><span id="l368.10"> </span>
<a href="#l368.11"></a><span id="l368.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l368.12"></a><span id="l368.12" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l368.13"></a><span id="l368.13"> // we need this for the main controller</span>
<a href="#l368.14"></a><span id="l368.14" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l368.15"></a><span id="l368.15" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l368.16"></a><span id="l368.16">                          &quot;window-helpers&quot;,</span>
<a href="#l368.17"></a><span id="l368.17">                          &quot;dom-helpers&quot;];</span>
<a href="#l368.18"></a><span id="l368.18"> </span>
<a href="#l368.19"></a><span id="l368.19"> var elib = {};</span>
<a href="#l368.20"></a><span id="l368.20"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l368.21"></a><span id="l368.21"> var utils = {};</span>
<a href="#l368.22"></a><span id="l368.22"> Cu.import('resource://mozmill/modules/utils.js', utils);</span>
<a href="#l368.23"></a><span id="l368.23"> </span>
<a href="#l368.24"></a><span id="l368.24" class="difflineminus">-const kTextNodeType = 3;</span>
<a href="#l368.25"></a><span id="l368.25" class="difflineplus">+var kTextNodeType = 3;</span>
<a href="#l368.26"></a><span id="l368.26"> </span>
<a href="#l368.27"></a><span id="l368.27"> var folderDisplayHelper;</span>
<a href="#l368.28"></a><span id="l368.28"> var mc;</span>
<a href="#l368.29"></a><span id="l368.29"> var windowHelper, domHelper;</span>
<a href="#l368.30"></a><span id="l368.30"> </span>
<a href="#l368.31"></a><span id="l368.31"> function setupModule() {</span>
<a href="#l368.32"></a><span id="l368.32">   folderDisplayHelper = collector.getModule('folder-display-helpers');</span>
<a href="#l368.33"></a><span id="l368.33">   mc = folderDisplayHelper.mc;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l369.1"></a><span id="l369.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-content-tab-helpers.js</span>
<a href="#l369.2"></a><span id="l369.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-content-tab-helpers.js</span>
<a href="#l369.3"></a><span id="l369.3" class="difflineat">@@ -1,31 +1,31 @@</span>
<a href="#l369.4"></a><span id="l369.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l369.5"></a><span id="l369.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l369.6"></a><span id="l369.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l369.7"></a><span id="l369.7"> </span>
<a href="#l369.8"></a><span id="l369.8" class="difflineminus">-const MODULE_NAME = &quot;content-tab-helpers&quot;;</span>
<a href="#l369.9"></a><span id="l369.9" class="difflineplus">+var MODULE_NAME = &quot;content-tab-helpers&quot;;</span>
<a href="#l369.10"></a><span id="l369.10"> </span>
<a href="#l369.11"></a><span id="l369.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l369.12"></a><span id="l369.12" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l369.13"></a><span id="l369.13"> // we need this for the main controller</span>
<a href="#l369.14"></a><span id="l369.14" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l369.15"></a><span id="l369.15" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l369.16"></a><span id="l369.16">                          &quot;window-helpers&quot;,</span>
<a href="#l369.17"></a><span id="l369.17">                          &quot;mock-object-helpers&quot;];</span>
<a href="#l369.18"></a><span id="l369.18"> </span>
<a href="#l369.19"></a><span id="l369.19"> var elib = {};</span>
<a href="#l369.20"></a><span id="l369.20"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l369.21"></a><span id="l369.21"> var utils = {};</span>
<a href="#l369.22"></a><span id="l369.22"> Cu.import('resource://mozmill/modules/utils.js', utils);</span>
<a href="#l369.23"></a><span id="l369.23"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l369.24"></a><span id="l369.24"> Cu.import('resource://gre/modules/XPCOMUtils.jsm');</span>
<a href="#l369.25"></a><span id="l369.25"> </span>
<a href="#l369.26"></a><span id="l369.26" class="difflineminus">-const NORMAL_TIMEOUT = 6000;</span>
<a href="#l369.27"></a><span id="l369.27" class="difflineminus">-const FAST_TIMEOUT = 1000;</span>
<a href="#l369.28"></a><span id="l369.28" class="difflineminus">-const FAST_INTERVAL = 100;</span>
<a href="#l369.29"></a><span id="l369.29" class="difflineminus">-const EXT_PROTOCOL_SVC_CID = &quot;@mozilla.org/uriloader/external-protocol-service;1&quot;;</span>
<a href="#l369.30"></a><span id="l369.30" class="difflineplus">+var NORMAL_TIMEOUT = 6000;</span>
<a href="#l369.31"></a><span id="l369.31" class="difflineplus">+var FAST_TIMEOUT = 1000;</span>
<a href="#l369.32"></a><span id="l369.32" class="difflineplus">+var FAST_INTERVAL = 100;</span>
<a href="#l369.33"></a><span id="l369.33" class="difflineplus">+var EXT_PROTOCOL_SVC_CID = &quot;@mozilla.org/uriloader/external-protocol-service;1&quot;;</span>
<a href="#l369.34"></a><span id="l369.34"> </span>
<a href="#l369.35"></a><span id="l369.35"> var folderDisplayHelper;</span>
<a href="#l369.36"></a><span id="l369.36"> var mc;</span>
<a href="#l369.37"></a><span id="l369.37"> var wh;</span>
<a href="#l369.38"></a><span id="l369.38"> </span>
<a href="#l369.39"></a><span id="l369.39"> var _originalBlocklistURL = null;</span>
<a href="#l369.40"></a><span id="l369.40"> </span>
<a href="#l369.41"></a><span id="l369.41"> // logHelper (and therefore folderDisplayHelper) exports</span>
<a href="#l369.42"></a><span id="l369.42" class="difflineat">@@ -114,17 +114,17 @@ function MockExtProtConstructor() {</span>
<a href="#l369.43"></a><span id="l369.43">   return gMockExtProtSvc;</span>
<a href="#l369.44"></a><span id="l369.44"> }</span>
<a href="#l369.45"></a><span id="l369.45"> </span>
<a href="#l369.46"></a><span id="l369.46"> </span>
<a href="#l369.47"></a><span id="l369.47"> /* Allows for planning / capture of notification events within</span>
<a href="#l369.48"></a><span id="l369.48">  * content tabs, for example: plugin crash notifications, theme</span>
<a href="#l369.49"></a><span id="l369.49">  * install notifications.</span>
<a href="#l369.50"></a><span id="l369.50">  */</span>
<a href="#l369.51"></a><span id="l369.51" class="difflineminus">-const ALERT_TIMEOUT = 10000;</span>
<a href="#l369.52"></a><span id="l369.52" class="difflineplus">+var ALERT_TIMEOUT = 10000;</span>
<a href="#l369.53"></a><span id="l369.53"> </span>
<a href="#l369.54"></a><span id="l369.54"> var NotificationWatcher = {</span>
<a href="#l369.55"></a><span id="l369.55">   planForNotification: function(aController) {</span>
<a href="#l369.56"></a><span id="l369.56">     this.alerted = false;</span>
<a href="#l369.57"></a><span id="l369.57">     aController.window.document.addEventListener(&quot;AlertActive&quot;,</span>
<a href="#l369.58"></a><span id="l369.58">                                                  this.alertActive, false);</span>
<a href="#l369.59"></a><span id="l369.59">   },</span>
<a href="#l369.60"></a><span id="l369.60">   waitForNotification: function(aController) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l370.1"></a><span id="l370.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-customization-helpers.js</span>
<a href="#l370.2"></a><span id="l370.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-customization-helpers.js</span>
<a href="#l370.3"></a><span id="l370.3" class="difflineat">@@ -1,22 +1,22 @@</span>
<a href="#l370.4"></a><span id="l370.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l370.5"></a><span id="l370.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l370.6"></a><span id="l370.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l370.7"></a><span id="l370.7"> </span>
<a href="#l370.8"></a><span id="l370.8" class="difflineminus">-const MODULE_NAME = &quot;customization-helpers&quot;;</span>
<a href="#l370.9"></a><span id="l370.9" class="difflineplus">+var MODULE_NAME = &quot;customization-helpers&quot;;</span>
<a href="#l370.10"></a><span id="l370.10"> </span>
<a href="#l370.11"></a><span id="l370.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l370.12"></a><span id="l370.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l370.13"></a><span id="l370.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l370.14"></a><span id="l370.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l370.15"></a><span id="l370.15"> </span>
<a href="#l370.16"></a><span id="l370.16"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l370.17"></a><span id="l370.17"> var elib = {};</span>
<a href="#l370.18"></a><span id="l370.18"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l370.19"></a><span id="l370.19"> </span>
<a href="#l370.20"></a><span id="l370.20" class="difflineminus">-const USE_SHEET_PREF = &quot;toolbar.customization.usesheet&quot;;</span>
<a href="#l370.21"></a><span id="l370.21" class="difflineplus">+var USE_SHEET_PREF = &quot;toolbar.customization.usesheet&quot;;</span>
<a href="#l370.22"></a><span id="l370.22"> </span>
<a href="#l370.23"></a><span id="l370.23"> var wh, fdh;</span>
<a href="#l370.24"></a><span id="l370.24"> </span>
<a href="#l370.25"></a><span id="l370.25"> function setupModule() {</span>
<a href="#l370.26"></a><span id="l370.26">   fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l370.27"></a><span id="l370.27">   wh = collector.getModule('window-helpers');</span>
<a href="#l370.28"></a><span id="l370.28"> }</span>
<a href="#l370.29"></a><span id="l370.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l371.1"></a><span id="l371.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-dom-helpers.js</span>
<a href="#l371.2"></a><span id="l371.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-dom-helpers.js</span>
<a href="#l371.3"></a><span id="l371.3" class="difflineat">@@ -1,24 +1,24 @@</span>
<a href="#l371.4"></a><span id="l371.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l371.5"></a><span id="l371.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l371.6"></a><span id="l371.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l371.7"></a><span id="l371.7"> </span>
<a href="#l371.8"></a><span id="l371.8" class="difflineminus">-const MODULE_NAME = &quot;dom-helpers&quot;;</span>
<a href="#l371.9"></a><span id="l371.9" class="difflineplus">+var MODULE_NAME = &quot;dom-helpers&quot;;</span>
<a href="#l371.10"></a><span id="l371.10"> </span>
<a href="#l371.11"></a><span id="l371.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l371.12"></a><span id="l371.12" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l371.13"></a><span id="l371.13"> // we need this for the main controller</span>
<a href="#l371.14"></a><span id="l371.14" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l371.15"></a><span id="l371.15" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l371.16"></a><span id="l371.16"> </span>
<a href="#l371.17"></a><span id="l371.17"> var elib = {};</span>
<a href="#l371.18"></a><span id="l371.18"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l371.19"></a><span id="l371.19"> </span>
<a href="#l371.20"></a><span id="l371.20" class="difflineminus">-const NORMAL_TIMEOUT = 6000;</span>
<a href="#l371.21"></a><span id="l371.21" class="difflineminus">-const FAST_TIMEOUT = 1000;</span>
<a href="#l371.22"></a><span id="l371.22" class="difflineminus">-const FAST_INTERVAL = 100;</span>
<a href="#l371.23"></a><span id="l371.23" class="difflineplus">+var NORMAL_TIMEOUT = 6000;</span>
<a href="#l371.24"></a><span id="l371.24" class="difflineplus">+var FAST_TIMEOUT = 1000;</span>
<a href="#l371.25"></a><span id="l371.25" class="difflineplus">+var FAST_INTERVAL = 100;</span>
<a href="#l371.26"></a><span id="l371.26"> </span>
<a href="#l371.27"></a><span id="l371.27"> var folderDisplayHelper;</span>
<a href="#l371.28"></a><span id="l371.28"> var mc;</span>
<a href="#l371.29"></a><span id="l371.29"> </span>
<a href="#l371.30"></a><span id="l371.30"> // logHelper (and therefore folderDisplayHelper) exports</span>
<a href="#l371.31"></a><span id="l371.31"> var mark_failure;</span>
<a href="#l371.32"></a><span id="l371.32"> </span>
<a href="#l371.33"></a><span id="l371.33"> function setupModule() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l372.1"></a><span id="l372.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-folder-display-helpers.js</span>
<a href="#l372.2"></a><span id="l372.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-folder-display-helpers.js</span>
<a href="#l372.3"></a><span id="l372.3" class="difflineat">@@ -1,55 +1,55 @@</span>
<a href="#l372.4"></a><span id="l372.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l372.5"></a><span id="l372.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l372.6"></a><span id="l372.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l372.7"></a><span id="l372.7"> </span>
<a href="#l372.8"></a><span id="l372.8" class="difflineminus">-const MODULE_NAME = &quot;folder-display-helpers&quot;;</span>
<a href="#l372.9"></a><span id="l372.9" class="difflineplus">+var MODULE_NAME = &quot;folder-display-helpers&quot;;</span>
<a href="#l372.10"></a><span id="l372.10"> </span>
<a href="#l372.11"></a><span id="l372.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l372.12"></a><span id="l372.12" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l372.13"></a><span id="l372.13"> // we need window-helpers for augment_controller</span>
<a href="#l372.14"></a><span id="l372.14" class="difflineminus">-const MODULE_REQUIRES = [&quot;window-helpers&quot;];</span>
<a href="#l372.15"></a><span id="l372.15" class="difflineplus">+var MODULE_REQUIRES = [&quot;window-helpers&quot;];</span>
<a href="#l372.16"></a><span id="l372.16"> </span>
<a href="#l372.17"></a><span id="l372.17"> var EventUtils = {};</span>
<a href="#l372.18"></a><span id="l372.18"> Cu.import('resource://mozmill/stdlib/EventUtils.js', EventUtils);</span>
<a href="#l372.19"></a><span id="l372.19"> var controller = {};</span>
<a href="#l372.20"></a><span id="l372.20"> Cu.import('resource://mozmill/modules/controller.js', controller);</span>
<a href="#l372.21"></a><span id="l372.21"> var frame = {};</span>
<a href="#l372.22"></a><span id="l372.22"> Cu.import('resource://mozmill/modules/frame.js', frame);</span>
<a href="#l372.23"></a><span id="l372.23"> var os = {};</span>
<a href="#l372.24"></a><span id="l372.24"> Cu.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l372.25"></a><span id="l372.25"> var utils = {};</span>
<a href="#l372.26"></a><span id="l372.26"> Cu.import('resource://mozmill/modules/utils.js', utils);</span>
<a href="#l372.27"></a><span id="l372.27"> </span>
<a href="#l372.28"></a><span id="l372.28"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l372.29"></a><span id="l372.29"> </span>
<a href="#l372.30"></a><span id="l372.30" class="difflineminus">-const nsMsgViewIndex_None = 0xffffffff;</span>
<a href="#l372.31"></a><span id="l372.31" class="difflineplus">+var nsMsgViewIndex_None = 0xffffffff;</span>
<a href="#l372.32"></a><span id="l372.32"> Cu.import('resource:///modules/MailConsts.js');</span>
<a href="#l372.33"></a><span id="l372.33"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l372.34"></a><span id="l372.34"> Cu.import('resource:///modules/MailUtils.js');</span>
<a href="#l372.35"></a><span id="l372.35"> Cu.import('resource:///modules/mailViewManager.js');</span>
<a href="#l372.36"></a><span id="l372.36"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l372.37"></a><span id="l372.37"> </span>
<a href="#l372.38"></a><span id="l372.38" class="difflineminus">-const FILE_LOAD_PATHS = [</span>
<a href="#l372.39"></a><span id="l372.39" class="difflineplus">+var FILE_LOAD_PATHS = [</span>
<a href="#l372.40"></a><span id="l372.40">   &quot;../resources&quot;,</span>
<a href="#l372.41"></a><span id="l372.41">   &quot;../../../../mailnews/test/resources&quot;,</span>
<a href="#l372.42"></a><span id="l372.42">   &quot;../../../../mail/base/test/unit/resources&quot;,</span>
<a href="#l372.43"></a><span id="l372.43">   &quot;../../../../mailnews/test/fakeserver&quot;</span>
<a href="#l372.44"></a><span id="l372.44"> ];</span>
<a href="#l372.45"></a><span id="l372.45"> </span>
<a href="#l372.46"></a><span id="l372.46"> /**</span>
<a href="#l372.47"></a><span id="l372.47">  * Server hostname as set in runtest.py</span>
<a href="#l372.48"></a><span id="l372.48">  */</span>
<a href="#l372.49"></a><span id="l372.49" class="difflineminus">-const FAKE_SERVER_HOSTNAME = 'tinderbox123';</span>
<a href="#l372.50"></a><span id="l372.50" class="difflineplus">+var FAKE_SERVER_HOSTNAME = 'tinderbox123';</span>
<a href="#l372.51"></a><span id="l372.51"> </span>
<a href="#l372.52"></a><span id="l372.52"> /**</span>
<a href="#l372.53"></a><span id="l372.53">  * List of keys not to export via installInto; values do not matter, we just</span>
<a href="#l372.54"></a><span id="l372.54">  *  use true.</span>
<a href="#l372.55"></a><span id="l372.55">  */</span>
<a href="#l372.56"></a><span id="l372.56" class="difflineminus">-const DO_NOT_EXPORT = {</span>
<a href="#l372.57"></a><span id="l372.57" class="difflineplus">+var DO_NOT_EXPORT = {</span>
<a href="#l372.58"></a><span id="l372.58">   // magic globals</span>
<a href="#l372.59"></a><span id="l372.59">   MODULE_NAME: true, DO_NOT_EXPORT: true, installInto: true,</span>
<a href="#l372.60"></a><span id="l372.60">   // imported modules</span>
<a href="#l372.61"></a><span id="l372.61">   controller: true, frame: true, os: true,</span>
<a href="#l372.62"></a><span id="l372.62">   // useful constants (we do export MailViewConstants)</span>
<a href="#l372.63"></a><span id="l372.63">   nsMsgViewIndex_None: true, MailConsts: true,</span>
<a href="#l372.64"></a><span id="l372.64">   // utility functions</span>
<a href="#l372.65"></a><span id="l372.65">   MailUtils: true, MailViewManager: true,</span>
<a href="#l372.66"></a><span id="l372.66" class="difflineat">@@ -59,17 +59,17 @@ const DO_NOT_EXPORT = {</span>
<a href="#l372.67"></a><span id="l372.67">   teardownImporter: true,</span>
<a href="#l372.68"></a><span id="l372.68">   // internal setup flags</span>
<a href="#l372.69"></a><span id="l372.69">   initialized: false,</span>
<a href="#l372.70"></a><span id="l372.70">   // other libraries we use</span>
<a href="#l372.71"></a><span id="l372.71">   testHelperModule: true,</span>
<a href="#l372.72"></a><span id="l372.72">   windowHelper: true,</span>
<a href="#l372.73"></a><span id="l372.73"> };</span>
<a href="#l372.74"></a><span id="l372.74"> </span>
<a href="#l372.75"></a><span id="l372.75" class="difflineminus">-const EXPORT_VIA_GETTER_SETTER = {</span>
<a href="#l372.76"></a><span id="l372.76" class="difflineplus">+var EXPORT_VIA_GETTER_SETTER = {</span>
<a href="#l372.77"></a><span id="l372.77">   // These should be getters and setters instead of direct property accesses so</span>
<a href="#l372.78"></a><span id="l372.78">   // that setting them reflects across scopes.</span>
<a href="#l372.79"></a><span id="l372.79">   mc: true,</span>
<a href="#l372.80"></a><span id="l372.80"> };</span>
<a href="#l372.81"></a><span id="l372.81"> </span>
<a href="#l372.82"></a><span id="l372.82"> var Application = Cc[&quot;@mozilla.org/steel/application;1&quot;]</span>
<a href="#l372.83"></a><span id="l372.83">                     .getService(Ci.steelIApplication);</span>
<a href="#l372.84"></a><span id="l372.84"> </span>
<a href="#l372.85"></a><span id="l372.85" class="difflineat">@@ -2757,19 +2757,19 @@ function throw_and_dump_view_state(aMess</span>
<a href="#l372.86"></a><span id="l372.86">   testHelperModule.dump_view_state(aController.folderDisplay.view);</span>
<a href="#l372.87"></a><span id="l372.87">   throw new Error(aMessage);</span>
<a href="#l372.88"></a><span id="l372.88"> }</span>
<a href="#l372.89"></a><span id="l372.89"> </span>
<a href="#l372.90"></a><span id="l372.90"> /**</span>
<a href="#l372.91"></a><span id="l372.91">  * Copy constants from mailWindowOverlay.js</span>
<a href="#l372.92"></a><span id="l372.92">  */</span>
<a href="#l372.93"></a><span id="l372.93"> </span>
<a href="#l372.94"></a><span id="l372.94" class="difflineminus">-const kClassicMailLayout = 0;</span>
<a href="#l372.95"></a><span id="l372.95" class="difflineminus">-const kWideMailLayout = 1;</span>
<a href="#l372.96"></a><span id="l372.96" class="difflineminus">-const kVerticalMailLayout = 2;</span>
<a href="#l372.97"></a><span id="l372.97" class="difflineplus">+var kClassicMailLayout = 0;</span>
<a href="#l372.98"></a><span id="l372.98" class="difflineplus">+var kWideMailLayout = 1;</span>
<a href="#l372.99"></a><span id="l372.99" class="difflineplus">+var kVerticalMailLayout = 2;</span>
<a href="#l372.100"></a><span id="l372.100"> </span>
<a href="#l372.101"></a><span id="l372.101"> /**</span>
<a href="#l372.102"></a><span id="l372.102">  * Assert that the current mail pane layout is shown</span>
<a href="#l372.103"></a><span id="l372.103">  */</span>
<a href="#l372.104"></a><span id="l372.104"> </span>
<a href="#l372.105"></a><span id="l372.105"> function assert_pane_layout(aLayout) {</span>
<a href="#l372.106"></a><span id="l372.106">   let actualPaneLayout = Services.prefs.getIntPref(&quot;mail.pane_config.dynamic&quot;);</span>
<a href="#l372.107"></a><span id="l372.107">   if (actualPaneLayout != aLayout)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l373.1"></a><span id="l373.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-junk-helpers.js</span>
<a href="#l373.2"></a><span id="l373.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-junk-helpers.js</span>
<a href="#l373.3"></a><span id="l373.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l373.4"></a><span id="l373.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l373.5"></a><span id="l373.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l373.6"></a><span id="l373.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l373.7"></a><span id="l373.7"> </span>
<a href="#l373.8"></a><span id="l373.8" class="difflineminus">-const MODULE_NAME = &quot;junk-helpers&quot;;</span>
<a href="#l373.9"></a><span id="l373.9" class="difflineplus">+var MODULE_NAME = &quot;junk-helpers&quot;;</span>
<a href="#l373.10"></a><span id="l373.10"> </span>
<a href="#l373.11"></a><span id="l373.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l373.12"></a><span id="l373.12" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l373.13"></a><span id="l373.13"> // we need this for the main controller</span>
<a href="#l373.14"></a><span id="l373.14" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l373.15"></a><span id="l373.15" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l373.16"></a><span id="l373.16"> </span>
<a href="#l373.17"></a><span id="l373.17"> var elib = {};</span>
<a href="#l373.18"></a><span id="l373.18"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l373.19"></a><span id="l373.19"> var utils = {};</span>
<a href="#l373.20"></a><span id="l373.20"> Cu.import(&quot;resource://mozmill/modules/utils.js&quot;, utils);</span>
<a href="#l373.21"></a><span id="l373.21"> </span>
<a href="#l373.22"></a><span id="l373.22"> var folderDisplayHelper;</span>
<a href="#l373.23"></a><span id="l373.23"> var mc;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l374.1"></a><span id="l374.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-keyboard-helpers.js</span>
<a href="#l374.2"></a><span id="l374.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-keyboard-helpers.js</span>
<a href="#l374.3"></a><span id="l374.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l374.4"></a><span id="l374.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l374.5"></a><span id="l374.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l374.6"></a><span id="l374.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l374.7"></a><span id="l374.7"> </span>
<a href="#l374.8"></a><span id="l374.8" class="difflineminus">-const MODULE_NAME = &quot;keyboard-helpers&quot;;</span>
<a href="#l374.9"></a><span id="l374.9" class="difflineplus">+var MODULE_NAME = &quot;keyboard-helpers&quot;;</span>
<a href="#l374.10"></a><span id="l374.10"> </span>
<a href="#l374.11"></a><span id="l374.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l374.12"></a><span id="l374.12" class="difflineminus">-const MODULE_REQUIRES = [];</span>
<a href="#l374.13"></a><span id="l374.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l374.14"></a><span id="l374.14" class="difflineplus">+var MODULE_REQUIRES = [];</span>
<a href="#l374.15"></a><span id="l374.15"> </span>
<a href="#l374.16"></a><span id="l374.16"> function installInto(module) {</span>
<a href="#l374.17"></a><span id="l374.17">   // Now copy helper functions</span>
<a href="#l374.18"></a><span id="l374.18">   module.input_value = input_value;</span>
<a href="#l374.19"></a><span id="l374.19">   module.delete_existing = delete_existing;</span>
<a href="#l374.20"></a><span id="l374.20">   module.delete_all_existing = delete_all_existing;</span>
<a href="#l374.21"></a><span id="l374.21"> }</span>
<a href="#l374.22"></a><span id="l374.22"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l375.1"></a><span id="l375.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-message-helpers.js</span>
<a href="#l375.2"></a><span id="l375.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-message-helpers.js</span>
<a href="#l375.3"></a><span id="l375.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l375.4"></a><span id="l375.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l375.5"></a><span id="l375.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l375.6"></a><span id="l375.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l375.7"></a><span id="l375.7"> </span>
<a href="#l375.8"></a><span id="l375.8"> /*</span>
<a href="#l375.9"></a><span id="l375.9">  * Helpers to deal with message (nsIMsgDBHdr) parsing.</span>
<a href="#l375.10"></a><span id="l375.10">  */</span>
<a href="#l375.11"></a><span id="l375.11"> </span>
<a href="#l375.12"></a><span id="l375.12" class="difflineminus">-const MODULE_NAME = &quot;message-helpers&quot;;</span>
<a href="#l375.13"></a><span id="l375.13" class="difflineplus">+var MODULE_NAME = &quot;message-helpers&quot;;</span>
<a href="#l375.14"></a><span id="l375.14"> </span>
<a href="#l375.15"></a><span id="l375.15"> var frame = {};</span>
<a href="#l375.16"></a><span id="l375.16"> Cu.import('resource://mozmill/modules/frame.js', frame);</span>
<a href="#l375.17"></a><span id="l375.17"> var utils = {};</span>
<a href="#l375.18"></a><span id="l375.18"> Cu.import('resource://mozmill/modules/utils.js', utils);</span>
<a href="#l375.19"></a><span id="l375.19"> </span>
<a href="#l375.20"></a><span id="l375.20"> Cu.import(&quot;resource:///modules/gloda/mimemsg.js&quot;);</span>
<a href="#l375.21"></a><span id="l375.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l376.1"></a><span id="l376.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-mock-object-helpers.js</span>
<a href="#l376.2"></a><span id="l376.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-mock-object-helpers.js</span>
<a href="#l376.3"></a><span id="l376.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l376.4"></a><span id="l376.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l376.5"></a><span id="l376.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l376.6"></a><span id="l376.6">   * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l376.7"></a><span id="l376.7"> </span>
<a href="#l376.8"></a><span id="l376.8" class="difflineminus">-const MODULE_NAME = &quot;mock-object-helpers&quot;;</span>
<a href="#l376.9"></a><span id="l376.9" class="difflineplus">+var MODULE_NAME = &quot;mock-object-helpers&quot;;</span>
<a href="#l376.10"></a><span id="l376.10"> </span>
<a href="#l376.11"></a><span id="l376.11"> var Cm = Components.manager;</span>
<a href="#l376.12"></a><span id="l376.12"> </span>
<a href="#l376.13"></a><span id="l376.13"> function installInto(module) {</span>
<a href="#l376.14"></a><span id="l376.14">   module.MockObjectReplacer = MockObjectReplacer;</span>
<a href="#l376.15"></a><span id="l376.15">   module.MockObjectRegisterer = MockObjectRegisterer;</span>
<a href="#l376.16"></a><span id="l376.16"> }</span>
<a href="#l376.17"></a><span id="l376.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l377.1"></a><span id="l377.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-mouse-event-helpers.js</span>
<a href="#l377.2"></a><span id="l377.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-mouse-event-helpers.js</span>
<a href="#l377.3"></a><span id="l377.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l377.4"></a><span id="l377.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l377.5"></a><span id="l377.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l377.6"></a><span id="l377.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l377.7"></a><span id="l377.7"> </span>
<a href="#l377.8"></a><span id="l377.8" class="difflineminus">-const MODULE_NAME = &quot;mouse-event-helpers&quot;;</span>
<a href="#l377.9"></a><span id="l377.9" class="difflineplus">+var MODULE_NAME = &quot;mouse-event-helpers&quot;;</span>
<a href="#l377.10"></a><span id="l377.10"> </span>
<a href="#l377.11"></a><span id="l377.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l377.12"></a><span id="l377.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l377.13"></a><span id="l377.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l377.14"></a><span id="l377.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l377.15"></a><span id="l377.15"> </span>
<a href="#l377.16"></a><span id="l377.16"> var EventUtils = {};</span>
<a href="#l377.17"></a><span id="l377.17"> Cu.import('resource://mozmill/stdlib/EventUtils.js', EventUtils);</span>
<a href="#l377.18"></a><span id="l377.18"> </span>
<a href="#l377.19"></a><span id="l377.19"> var fdh;</span>
<a href="#l377.20"></a><span id="l377.20"> </span>
<a href="#l377.21"></a><span id="l377.21"> function setupModule() {</span>
<a href="#l377.22"></a><span id="l377.22">   fdh = collector.getModule('folder-display-helpers');</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l378.1"></a><span id="l378.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-newmailaccount-helpers.js</span>
<a href="#l378.2"></a><span id="l378.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-newmailaccount-helpers.js</span>
<a href="#l378.3"></a><span id="l378.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l378.4"></a><span id="l378.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l378.5"></a><span id="l378.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l378.6"></a><span id="l378.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l378.7"></a><span id="l378.7"> </span>
<a href="#l378.8"></a><span id="l378.8" class="difflineminus">-const MODULE_NAME = &quot;newmailaccount-helpers&quot;;</span>
<a href="#l378.9"></a><span id="l378.9" class="difflineplus">+var MODULE_NAME = &quot;newmailaccount-helpers&quot;;</span>
<a href="#l378.10"></a><span id="l378.10"> </span>
<a href="#l378.11"></a><span id="l378.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l378.12"></a><span id="l378.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l378.13"></a><span id="l378.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l378.14"></a><span id="l378.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l378.15"></a><span id="l378.15"> </span>
<a href="#l378.16"></a><span id="l378.16"> var elib = {};</span>
<a href="#l378.17"></a><span id="l378.17"> Cu.import('resource://mozmill/modules/elementslib.js', elib);</span>
<a href="#l378.18"></a><span id="l378.18"> Cu.import('resource://gre/modules/Services.jsm');</span>
<a href="#l378.19"></a><span id="l378.19"> Cu.import('resource:///modules/iteratorUtils.jsm');</span>
<a href="#l378.20"></a><span id="l378.20"> Cu.import('resource:///modules/mailServices.js');</span>
<a href="#l378.21"></a><span id="l378.21"> Cu.import('resource://gre/modules/XPCOMUtils.jsm');</span>
<a href="#l378.22"></a><span id="l378.22"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l379.1"></a><span id="l379.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-nntp-helpers.js</span>
<a href="#l379.2"></a><span id="l379.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-nntp-helpers.js</span>
<a href="#l379.3"></a><span id="l379.3" class="difflineat">@@ -1,21 +1,21 @@</span>
<a href="#l379.4"></a><span id="l379.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l379.5"></a><span id="l379.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l379.6"></a><span id="l379.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l379.7"></a><span id="l379.7"> </span>
<a href="#l379.8"></a><span id="l379.8" class="difflineminus">-const MODULE_NAME = &quot;nntp-helpers&quot;;</span>
<a href="#l379.9"></a><span id="l379.9" class="difflineplus">+var MODULE_NAME = &quot;nntp-helpers&quot;;</span>
<a href="#l379.10"></a><span id="l379.10"> </span>
<a href="#l379.11"></a><span id="l379.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l379.12"></a><span id="l379.12" class="difflineminus">-const MODULES_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l379.13"></a><span id="l379.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l379.14"></a><span id="l379.14" class="difflineplus">+var MODULES_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l379.15"></a><span id="l379.15"> </span>
<a href="#l379.16"></a><span id="l379.16"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l379.17"></a><span id="l379.17"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l379.18"></a><span id="l379.18"> </span>
<a href="#l379.19"></a><span id="l379.19" class="difflineminus">-const kSimpleNewsArticle =</span>
<a href="#l379.20"></a><span id="l379.20" class="difflineplus">+var kSimpleNewsArticle =</span>
<a href="#l379.21"></a><span id="l379.21">   &quot;From: John Doe &lt;john.doe@example.com&gt;\n&quot;+</span>
<a href="#l379.22"></a><span id="l379.22">   &quot;Date: Sat, 24 Mar 1990 10:59:24 -0500\n&quot;+</span>
<a href="#l379.23"></a><span id="l379.23">   &quot;Newsgroups: test.subscribe.simple\n&quot;+</span>
<a href="#l379.24"></a><span id="l379.24">   &quot;Subject: H2G2 -- What does it mean?\n&quot;+</span>
<a href="#l379.25"></a><span id="l379.25">   &quot;Message-ID: &lt;TSS1@nntp.invalid&gt;\n&quot;+</span>
<a href="#l379.26"></a><span id="l379.26">   &quot;\n&quot;+</span>
<a href="#l379.27"></a><span id="l379.27">   &quot;What does the acronym H2G2 stand for? I've seen it before...\n&quot;;</span>
<a href="#l379.28"></a><span id="l379.28"> </span>
<a href="#l379.29"></a><span id="l379.29" class="difflineat">@@ -98,17 +98,17 @@ function shutdownNNTPServer(server) {</span>
<a href="#l379.30"></a><span id="l379.30"> }</span>
<a href="#l379.31"></a><span id="l379.31"> </span>
<a href="#l379.32"></a><span id="l379.32"> // Enable strict threading</span>
<a href="#l379.33"></a><span id="l379.33"> Services.prefs.setBoolPref(&quot;mail.strict_threading&quot;, true);</span>
<a href="#l379.34"></a><span id="l379.34"> </span>
<a href="#l379.35"></a><span id="l379.35"> </span>
<a href="#l379.36"></a><span id="l379.36"> // Make sure we don't try to use a protected port. I like adding 1024 to the</span>
<a href="#l379.37"></a><span id="l379.37"> // default port when doing so...</span>
<a href="#l379.38"></a><span id="l379.38" class="difflineminus">-const NNTP_PORT = 1024+119;</span>
<a href="#l379.39"></a><span id="l379.39" class="difflineplus">+var NNTP_PORT = 1024+119;</span>
<a href="#l379.40"></a><span id="l379.40"> </span>
<a href="#l379.41"></a><span id="l379.41"> var _server = null;</span>
<a href="#l379.42"></a><span id="l379.42"> </span>
<a href="#l379.43"></a><span id="l379.43"> function subscribeServer(incomingServer) {</span>
<a href="#l379.44"></a><span id="l379.44">   // Subscribe to newsgroups</span>
<a href="#l379.45"></a><span id="l379.45">   incomingServer.QueryInterface(Ci.nsINntpIncomingServer);</span>
<a href="#l379.46"></a><span id="l379.46">   groups.forEach(function (element) {</span>
<a href="#l379.47"></a><span id="l379.47">       if (element[1])</span>
<a href="#l379.48"></a><span id="l379.48" class="difflineat">@@ -136,17 +136,17 @@ function setupLocalServer(port) {</span>
<a href="#l379.49"></a><span id="l379.49"> </span>
<a href="#l379.50"></a><span id="l379.50">   subscribeServer(server);</span>
<a href="#l379.51"></a><span id="l379.51"> </span>
<a href="#l379.52"></a><span id="l379.52">   _server = server;</span>
<a href="#l379.53"></a><span id="l379.53"> </span>
<a href="#l379.54"></a><span id="l379.54">   return server;</span>
<a href="#l379.55"></a><span id="l379.55"> }</span>
<a href="#l379.56"></a><span id="l379.56"> </span>
<a href="#l379.57"></a><span id="l379.57" class="difflineminus">-const URLCreator = MailServices.nntp.QueryInterface(Ci.nsIProtocolHandler);</span>
<a href="#l379.58"></a><span id="l379.58" class="difflineplus">+var URLCreator = MailServices.nntp.QueryInterface(Ci.nsIProtocolHandler);</span>
<a href="#l379.59"></a><span id="l379.59"> </span>
<a href="#l379.60"></a><span id="l379.60"> function create_post(baseURL, file) {</span>
<a href="#l379.61"></a><span id="l379.61">   var url = URLCreator.newURI(baseURL, null, null);</span>
<a href="#l379.62"></a><span id="l379.62">   url.QueryInterface(Ci.nsINntpUrl);</span>
<a href="#l379.63"></a><span id="l379.63"> </span>
<a href="#l379.64"></a><span id="l379.64">   var post = Cc[&quot;@mozilla.org/messenger/nntpnewsgrouppost;1&quot;]</span>
<a href="#l379.65"></a><span id="l379.65">                .createInstance(Ci.nsINNTPNewsgroupPost);</span>
<a href="#l379.66"></a><span id="l379.66">   post.postMessageFile = do_get_file(file);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l380.1"></a><span id="l380.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-notificationbox-helpers.js</span>
<a href="#l380.2"></a><span id="l380.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-notificationbox-helpers.js</span>
<a href="#l380.3"></a><span id="l380.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l380.4"></a><span id="l380.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l380.5"></a><span id="l380.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l380.6"></a><span id="l380.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l380.7"></a><span id="l380.7"> </span>
<a href="#l380.8"></a><span id="l380.8" class="difflineminus">-const MODULE_NAME = &quot;notificationbox-helpers&quot;;</span>
<a href="#l380.9"></a><span id="l380.9" class="difflineplus">+var MODULE_NAME = &quot;notificationbox-helpers&quot;;</span>
<a href="#l380.10"></a><span id="l380.10"> </span>
<a href="#l380.11"></a><span id="l380.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l380.12"></a><span id="l380.12" class="difflineminus">-const MODULE_REQUIRES = [];</span>
<a href="#l380.13"></a><span id="l380.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l380.14"></a><span id="l380.14" class="difflineplus">+var MODULE_REQUIRES = [];</span>
<a href="#l380.15"></a><span id="l380.15"> </span>
<a href="#l380.16"></a><span id="l380.16"> function installInto(module) {</span>
<a href="#l380.17"></a><span id="l380.17">   module.check_notification_displayed = check_notification_displayed;</span>
<a href="#l380.18"></a><span id="l380.18">   module.assert_notification_displayed = assert_notification_displayed;</span>
<a href="#l380.19"></a><span id="l380.19">   module.close_notification = close_notification;</span>
<a href="#l380.20"></a><span id="l380.20">   module.wait_for_notification_to_stop = wait_for_notification_to_stop;</span>
<a href="#l380.21"></a><span id="l380.21">   module.wait_for_notification_to_show = wait_for_notification_to_show;</span>
<a href="#l380.22"></a><span id="l380.22"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l381.1"></a><span id="l381.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-observer-helpers.js</span>
<a href="#l381.2"></a><span id="l381.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-observer-helpers.js</span>
<a href="#l381.3"></a><span id="l381.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l381.4"></a><span id="l381.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l381.5"></a><span id="l381.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l381.6"></a><span id="l381.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l381.7"></a><span id="l381.7"> </span>
<a href="#l381.8"></a><span id="l381.8" class="difflineminus">-const MODULE_NAME = &quot;observer-helpers&quot;;</span>
<a href="#l381.9"></a><span id="l381.9" class="difflineplus">+var MODULE_NAME = &quot;observer-helpers&quot;;</span>
<a href="#l381.10"></a><span id="l381.10"> </span>
<a href="#l381.11"></a><span id="l381.11"> function installInto(module) {</span>
<a href="#l381.12"></a><span id="l381.12">   module.ObservationRecorder = ObservationRecorder;</span>
<a href="#l381.13"></a><span id="l381.13"> }</span>
<a href="#l381.14"></a><span id="l381.14"> </span>
<a href="#l381.15"></a><span id="l381.15"> /**</span>
<a href="#l381.16"></a><span id="l381.16">  * ObservationRecorder observes events, and records its observations for</span>
<a href="#l381.17"></a><span id="l381.17">  * later analysis.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l382.1"></a><span id="l382.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-pref-window-helpers.js</span>
<a href="#l382.2"></a><span id="l382.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-pref-window-helpers.js</span>
<a href="#l382.3"></a><span id="l382.3" class="difflineat">@@ -2,20 +2,20 @@</span>
<a href="#l382.4"></a><span id="l382.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l382.5"></a><span id="l382.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l382.6"></a><span id="l382.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l382.7"></a><span id="l382.7"> </span>
<a href="#l382.8"></a><span id="l382.8"> /*</span>
<a href="#l382.9"></a><span id="l382.9">  * Helpers to deal with the preferences window.</span>
<a href="#l382.10"></a><span id="l382.10">  */</span>
<a href="#l382.11"></a><span id="l382.11"> </span>
<a href="#l382.12"></a><span id="l382.12" class="difflineminus">-const MODULE_NAME = &quot;pref-window-helpers&quot;;</span>
<a href="#l382.13"></a><span id="l382.13" class="difflineplus">+var MODULE_NAME = &quot;pref-window-helpers&quot;;</span>
<a href="#l382.14"></a><span id="l382.14"> </span>
<a href="#l382.15"></a><span id="l382.15" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l382.16"></a><span id="l382.16" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l382.17"></a><span id="l382.17" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l382.18"></a><span id="l382.18" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l382.19"></a><span id="l382.19"> </span>
<a href="#l382.20"></a><span id="l382.20"> var utils = {};</span>
<a href="#l382.21"></a><span id="l382.21"> Cu.import(&quot;resource://mozmill/modules/utils.js&quot;, utils);</span>
<a href="#l382.22"></a><span id="l382.22"> </span>
<a href="#l382.23"></a><span id="l382.23"> var fdh;</span>
<a href="#l382.24"></a><span id="l382.24"> var wh;</span>
<a href="#l382.25"></a><span id="l382.25"> </span>
<a href="#l382.26"></a><span id="l382.26"> function setupModule() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l383.1"></a><span id="l383.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-prompt-helpers.js</span>
<a href="#l383.2"></a><span id="l383.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-prompt-helpers.js</span>
<a href="#l383.3"></a><span id="l383.3" class="difflineat">@@ -1,24 +1,24 @@</span>
<a href="#l383.4"></a><span id="l383.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l383.5"></a><span id="l383.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l383.6"></a><span id="l383.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l383.7"></a><span id="l383.7"> </span>
<a href="#l383.8"></a><span id="l383.8" class="difflineminus">-const MODULE_NAME = &quot;prompt-helpers&quot;;</span>
<a href="#l383.9"></a><span id="l383.9" class="difflineplus">+var MODULE_NAME = &quot;prompt-helpers&quot;;</span>
<a href="#l383.10"></a><span id="l383.10"> </span>
<a href="#l383.11"></a><span id="l383.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l383.12"></a><span id="l383.12" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l383.13"></a><span id="l383.13"> // we need this for the main controller</span>
<a href="#l383.14"></a><span id="l383.14" class="difflineminus">-const MODULE_REQUIRES = [&quot;mock-object-helpers&quot;];</span>
<a href="#l383.15"></a><span id="l383.15" class="difflineplus">+var MODULE_REQUIRES = [&quot;mock-object-helpers&quot;];</span>
<a href="#l383.16"></a><span id="l383.16"> </span>
<a href="#l383.17"></a><span id="l383.17"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l383.18"></a><span id="l383.18"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l383.19"></a><span id="l383.19"> </span>
<a href="#l383.20"></a><span id="l383.20" class="difflineminus">-const kMockPromptServiceName = &quot;Mock Prompt Service&quot;;</span>
<a href="#l383.21"></a><span id="l383.21" class="difflineminus">-const kPromptServiceContractID = &quot;@mozilla.org/embedcomp/prompt-service;1&quot;;</span>
<a href="#l383.22"></a><span id="l383.22" class="difflineminus">-const kPromptServiceName = &quot;Prompt Service&quot;;</span>
<a href="#l383.23"></a><span id="l383.23" class="difflineplus">+var kMockPromptServiceName = &quot;Mock Prompt Service&quot;;</span>
<a href="#l383.24"></a><span id="l383.24" class="difflineplus">+var kPromptServiceContractID = &quot;@mozilla.org/embedcomp/prompt-service;1&quot;;</span>
<a href="#l383.25"></a><span id="l383.25" class="difflineplus">+var kPromptServiceName = &quot;Prompt Service&quot;;</span>
<a href="#l383.26"></a><span id="l383.26"> </span>
<a href="#l383.27"></a><span id="l383.27"> var gMockAuthPromptReg;</span>
<a href="#l383.28"></a><span id="l383.28"> </span>
<a href="#l383.29"></a><span id="l383.29"> function setupModule() {</span>
<a href="#l383.30"></a><span id="l383.30">   let moh = collector.getModule('mock-object-helpers');</span>
<a href="#l383.31"></a><span id="l383.31">   gMockAuthPromptReg = new moh.MockObjectReplacer(&quot;@mozilla.org/prompter;1&quot;,</span>
<a href="#l383.32"></a><span id="l383.32">                                                   MockAuthPromptFactoryConstructor);</span>
<a href="#l383.33"></a><span id="l383.33"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l384.1"></a><span id="l384.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-quick-filter-bar-helper.js</span>
<a href="#l384.2"></a><span id="l384.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-quick-filter-bar-helper.js</span>
<a href="#l384.3"></a><span id="l384.3" class="difflineat">@@ -1,25 +1,25 @@</span>
<a href="#l384.4"></a><span id="l384.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l384.5"></a><span id="l384.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l384.6"></a><span id="l384.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l384.7"></a><span id="l384.7"> </span>
<a href="#l384.8"></a><span id="l384.8" class="difflineminus">-const MODULE_NAME = &quot;quick-filter-bar-helper&quot;;</span>
<a href="#l384.9"></a><span id="l384.9" class="difflineplus">+var MODULE_NAME = &quot;quick-filter-bar-helper&quot;;</span>
<a href="#l384.10"></a><span id="l384.10"> </span>
<a href="#l384.11"></a><span id="l384.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l384.12"></a><span id="l384.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l384.13"></a><span id="l384.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l384.14"></a><span id="l384.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l384.15"></a><span id="l384.15"> </span>
<a href="#l384.16"></a><span id="l384.16"> var fdh, mc;</span>
<a href="#l384.17"></a><span id="l384.17"> </span>
<a href="#l384.18"></a><span id="l384.18"> function setupModule() {</span>
<a href="#l384.19"></a><span id="l384.19">   fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l384.20"></a><span id="l384.20">   mc = fdh.mc;</span>
<a href="#l384.21"></a><span id="l384.21"> }</span>
<a href="#l384.22"></a><span id="l384.22"> </span>
<a href="#l384.23"></a><span id="l384.23" class="difflineminus">-const EXPORT = [</span>
<a href="#l384.24"></a><span id="l384.24" class="difflineplus">+var EXPORT = [</span>
<a href="#l384.25"></a><span id="l384.25">   'assert_quick_filter_button_enabled',</span>
<a href="#l384.26"></a><span id="l384.26">   'assert_quick_filter_bar_visible',</span>
<a href="#l384.27"></a><span id="l384.27">   'toggle_quick_filter_bar',</span>
<a href="#l384.28"></a><span id="l384.28">   'assert_constraints_expressed',</span>
<a href="#l384.29"></a><span id="l384.29">   'toggle_boolean_constraints',</span>
<a href="#l384.30"></a><span id="l384.30">   'toggle_tag_constraints',</span>
<a href="#l384.31"></a><span id="l384.31">   'toggle_tag_mode',</span>
<a href="#l384.32"></a><span id="l384.32">   'assert_tag_constraints_visible',</span>
<a href="#l384.33"></a><span id="l384.33" class="difflineat">@@ -53,17 +53,17 @@ function _afterEveryTest() {</span>
<a href="#l384.34"></a><span id="l384.34">   if (mc.e(&quot;quick-filter-bar&quot;).collapsed) {</span>
<a href="#l384.35"></a><span id="l384.35">     toggle_quick_filter_bar();</span>
<a href="#l384.36"></a><span id="l384.36">   }</span>
<a href="#l384.37"></a><span id="l384.37"> }</span>
<a href="#l384.38"></a><span id="l384.38"> </span>
<a href="#l384.39"></a><span id="l384.39"> /**</span>
<a href="#l384.40"></a><span id="l384.40">  * Maps names to bar DOM ids to simplify checking.</span>
<a href="#l384.41"></a><span id="l384.41">  */</span>
<a href="#l384.42"></a><span id="l384.42" class="difflineminus">-const nameToBarDomId = {</span>
<a href="#l384.43"></a><span id="l384.43" class="difflineplus">+var nameToBarDomId = {</span>
<a href="#l384.44"></a><span id="l384.44">   sticky: &quot;qfb-sticky&quot;,</span>
<a href="#l384.45"></a><span id="l384.45">   unread: &quot;qfb-unread&quot;,</span>
<a href="#l384.46"></a><span id="l384.46">   starred: &quot;qfb-starred&quot;,</span>
<a href="#l384.47"></a><span id="l384.47">   addrbook: &quot;qfb-inaddrbook&quot;,</span>
<a href="#l384.48"></a><span id="l384.48">   tags: &quot;qfb-tags&quot;,</span>
<a href="#l384.49"></a><span id="l384.49">   attachments: &quot;qfb-attachment&quot;,</span>
<a href="#l384.50"></a><span id="l384.50"> };</span>
<a href="#l384.51"></a><span id="l384.51"> </span>
<a href="#l384.52"></a><span id="l384.52" class="difflineat">@@ -183,17 +183,17 @@ function assert_tag_constraints_checked(</span>
<a href="#l384.53"></a><span id="l384.53">   for (let iNode = 0; iNode &lt; kids.length; iNode++) {</span>
<a href="#l384.54"></a><span id="l384.54">     let node = kids[iNode];</span>
<a href="#l384.55"></a><span id="l384.55">     if (node.checked != (node.id in expected))</span>
<a href="#l384.56"></a><span id="l384.56">       throw new Error(&quot;node &quot; + node.id + &quot; should &quot; +</span>
<a href="#l384.57"></a><span id="l384.57">                       ((node.id in expected) ? &quot;be &quot; : &quot;not be &quot;) + &quot;checked.&quot;);</span>
<a href="#l384.58"></a><span id="l384.58">   }</span>
<a href="#l384.59"></a><span id="l384.59"> }</span>
<a href="#l384.60"></a><span id="l384.60"> </span>
<a href="#l384.61"></a><span id="l384.61" class="difflineminus">-const nameToTextDomId = {</span>
<a href="#l384.62"></a><span id="l384.62" class="difflineplus">+var nameToTextDomId = {</span>
<a href="#l384.63"></a><span id="l384.63">   sender: &quot;qfb-qs-sender&quot;,</span>
<a href="#l384.64"></a><span id="l384.64">   recipients: &quot;qfb-qs-recipients&quot;,</span>
<a href="#l384.65"></a><span id="l384.65">   subject: &quot;qfb-qs-subject&quot;,</span>
<a href="#l384.66"></a><span id="l384.66">   body: &quot;qfb-qs-body&quot;,</span>
<a href="#l384.67"></a><span id="l384.67"> };</span>
<a href="#l384.68"></a><span id="l384.68"> </span>
<a href="#l384.69"></a><span id="l384.69"> function toggle_text_constraints() {</span>
<a href="#l384.70"></a><span id="l384.70">   for (let iArg = 0; iArg &lt; arguments.length; iArg++) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l385.1"></a><span id="l385.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-search-window-helpers.js</span>
<a href="#l385.2"></a><span id="l385.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-search-window-helpers.js</span>
<a href="#l385.3"></a><span id="l385.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l385.4"></a><span id="l385.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l385.5"></a><span id="l385.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l385.6"></a><span id="l385.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l385.7"></a><span id="l385.7"> </span>
<a href="#l385.8"></a><span id="l385.8" class="difflineminus">-const MODULE_NAME = &quot;search-window-helpers&quot;;</span>
<a href="#l385.9"></a><span id="l385.9" class="difflineplus">+var MODULE_NAME = &quot;search-window-helpers&quot;;</span>
<a href="#l385.10"></a><span id="l385.10"> </span>
<a href="#l385.11"></a><span id="l385.11" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l385.12"></a><span id="l385.12" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l385.13"></a><span id="l385.13" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l385.14"></a><span id="l385.14" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l385.15"></a><span id="l385.15"> </span>
<a href="#l385.16"></a><span id="l385.16"> var folderDisplayHelper;</span>
<a href="#l385.17"></a><span id="l385.17"> var mc;</span>
<a href="#l385.18"></a><span id="l385.18"> var windowHelper;</span>
<a href="#l385.19"></a><span id="l385.19"> </span>
<a href="#l385.20"></a><span id="l385.20"> function setupModule() {</span>
<a href="#l385.21"></a><span id="l385.21">   folderDisplayHelper = collector.getModule('folder-display-helpers');</span>
<a href="#l385.22"></a><span id="l385.22">   mc = folderDisplayHelper.mc;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l386.1"></a><span id="l386.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-subscribe-window-helper.js</span>
<a href="#l386.2"></a><span id="l386.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-subscribe-window-helper.js</span>
<a href="#l386.3"></a><span id="l386.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l386.4"></a><span id="l386.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l386.5"></a><span id="l386.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l386.6"></a><span id="l386.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l386.7"></a><span id="l386.7"> </span>
<a href="#l386.8"></a><span id="l386.8" class="difflineminus">-const MODULE_NAME = &quot;subscribe-window-helpers&quot;;</span>
<a href="#l386.9"></a><span id="l386.9" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l386.10"></a><span id="l386.10" class="difflineminus">-const MODULE_REQUIRES = ['window-helpers', 'folder-display-helpers',</span>
<a href="#l386.11"></a><span id="l386.11" class="difflineplus">+var MODULE_NAME = &quot;subscribe-window-helpers&quot;;</span>
<a href="#l386.12"></a><span id="l386.12" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l386.13"></a><span id="l386.13" class="difflineplus">+var MODULE_REQUIRES = ['window-helpers', 'folder-display-helpers',</span>
<a href="#l386.14"></a><span id="l386.14">                          'keyboard-helpers'];</span>
<a href="#l386.15"></a><span id="l386.15"> </span>
<a href="#l386.16"></a><span id="l386.16"> var folderDisplayHelper;</span>
<a href="#l386.17"></a><span id="l386.17"> var mc;</span>
<a href="#l386.18"></a><span id="l386.18"> var windowHelper;</span>
<a href="#l386.19"></a><span id="l386.19"> var kh;</span>
<a href="#l386.20"></a><span id="l386.20"> </span>
<a href="#l386.21"></a><span id="l386.21"> function setupModule() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l387.1"></a><span id="l387.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-window-helpers.js</span>
<a href="#l387.2"></a><span id="l387.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-window-helpers.js</span>
<a href="#l387.3"></a><span id="l387.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l387.4"></a><span id="l387.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l387.5"></a><span id="l387.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l387.6"></a><span id="l387.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l387.7"></a><span id="l387.7"> </span>
<a href="#l387.8"></a><span id="l387.8" class="difflineminus">-const MODULE_NAME = &quot;window-helpers&quot;;</span>
<a href="#l387.9"></a><span id="l387.9" class="difflineplus">+var MODULE_NAME = &quot;window-helpers&quot;;</span>
<a href="#l387.10"></a><span id="l387.10"> </span>
<a href="#l387.11"></a><span id="l387.11"> Cu.import('resource:///modules/iteratorUtils.jsm');</span>
<a href="#l387.12"></a><span id="l387.12"> Cu.import('resource://gre/modules/NetUtil.jsm');</span>
<a href="#l387.13"></a><span id="l387.13"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l387.14"></a><span id="l387.14"> </span>
<a href="#l387.15"></a><span id="l387.15"> var mozmill = {};</span>
<a href="#l387.16"></a><span id="l387.16"> Cu.import('resource://mozmill/modules/mozmill.js', mozmill);</span>
<a href="#l387.17"></a><span id="l387.17"> var controller = {};</span>
<a href="#l387.18"></a><span id="l387.18" class="difflineat">@@ -18,48 +18,48 @@ var frame = {};</span>
<a href="#l387.19"></a><span id="l387.19"> Cu.import('resource://mozmill/modules/frame.js', frame);</span>
<a href="#l387.20"></a><span id="l387.20"> var utils = {};</span>
<a href="#l387.21"></a><span id="l387.21"> Cu.import('resource://mozmill/modules/utils.js', utils);</span>
<a href="#l387.22"></a><span id="l387.22"> </span>
<a href="#l387.23"></a><span id="l387.23"> /**</span>
<a href="#l387.24"></a><span id="l387.24">  * Timeout to use when waiting for the first window ever to load.  This is</span>
<a href="#l387.25"></a><span id="l387.25">  *  long because we are basically waiting for the entire app startup process.</span>
<a href="#l387.26"></a><span id="l387.26">  */</span>
<a href="#l387.27"></a><span id="l387.27" class="difflineminus">-const FIRST_WINDOW_EVER_TIMEOUT_MS = 30000;</span>
<a href="#l387.28"></a><span id="l387.28" class="difflineplus">+var FIRST_WINDOW_EVER_TIMEOUT_MS = 30000;</span>
<a href="#l387.29"></a><span id="l387.29"> /**</span>
<a href="#l387.30"></a><span id="l387.30">  * Interval to check if the window has shown up for the first window ever to</span>
<a href="#l387.31"></a><span id="l387.31">  *  load.  The check interval is longer because it's less likely the window</span>
<a href="#l387.32"></a><span id="l387.32">  *  is going to show up quickly and there is a cost to the check.</span>
<a href="#l387.33"></a><span id="l387.33">  */</span>
<a href="#l387.34"></a><span id="l387.34" class="difflineminus">-const FIRST_WINDOW_CHECK_INTERVAL_MS = 300;</span>
<a href="#l387.35"></a><span id="l387.35" class="difflineplus">+var FIRST_WINDOW_CHECK_INTERVAL_MS = 300;</span>
<a href="#l387.36"></a><span id="l387.36"> </span>
<a href="#l387.37"></a><span id="l387.37"> /**</span>
<a href="#l387.38"></a><span id="l387.38">  * Timeout for opening a window.</span>
<a href="#l387.39"></a><span id="l387.39">  */</span>
<a href="#l387.40"></a><span id="l387.40" class="difflineminus">-const WINDOW_OPEN_TIMEOUT_MS = 10000;</span>
<a href="#l387.41"></a><span id="l387.41" class="difflineplus">+var WINDOW_OPEN_TIMEOUT_MS = 10000;</span>
<a href="#l387.42"></a><span id="l387.42"> /**</span>
<a href="#l387.43"></a><span id="l387.43">  * Check interval for opening a window.</span>
<a href="#l387.44"></a><span id="l387.44">  */</span>
<a href="#l387.45"></a><span id="l387.45" class="difflineminus">-const WINDOW_OPEN_CHECK_INTERVAL_MS = 100;</span>
<a href="#l387.46"></a><span id="l387.46" class="difflineplus">+var WINDOW_OPEN_CHECK_INTERVAL_MS = 100;</span>
<a href="#l387.47"></a><span id="l387.47"> </span>
<a href="#l387.48"></a><span id="l387.48"> /**</span>
<a href="#l387.49"></a><span id="l387.49">  * Timeout for closing a window.</span>
<a href="#l387.50"></a><span id="l387.50">  */</span>
<a href="#l387.51"></a><span id="l387.51" class="difflineminus">-const WINDOW_CLOSE_TIMEOUT_MS = 10000;</span>
<a href="#l387.52"></a><span id="l387.52" class="difflineplus">+var WINDOW_CLOSE_TIMEOUT_MS = 10000;</span>
<a href="#l387.53"></a><span id="l387.53"> /**</span>
<a href="#l387.54"></a><span id="l387.54">  * Check interval for closing a window.</span>
<a href="#l387.55"></a><span id="l387.55">  */</span>
<a href="#l387.56"></a><span id="l387.56" class="difflineminus">-const WINDOW_CLOSE_CHECK_INTERVAL_MS = 100;</span>
<a href="#l387.57"></a><span id="l387.57" class="difflineplus">+var WINDOW_CLOSE_CHECK_INTERVAL_MS = 100;</span>
<a href="#l387.58"></a><span id="l387.58"> </span>
<a href="#l387.59"></a><span id="l387.59"> /**</span>
<a href="#l387.60"></a><span id="l387.60">  * Timeout for focusing a window.  Only really an issue on linux.</span>
<a href="#l387.61"></a><span id="l387.61">  */</span>
<a href="#l387.62"></a><span id="l387.62" class="difflineminus">-const WINDOW_FOCUS_TIMEOUT_MS = 10000;</span>
<a href="#l387.63"></a><span id="l387.63" class="difflineplus">+var WINDOW_FOCUS_TIMEOUT_MS = 10000;</span>
<a href="#l387.64"></a><span id="l387.64"> </span>
<a href="#l387.65"></a><span id="l387.65" class="difflineminus">-const hiddenWindow = Services.appShell.hiddenDOMWindow;</span>
<a href="#l387.66"></a><span id="l387.66" class="difflineplus">+var hiddenWindow = Services.appShell.hiddenDOMWindow;</span>
<a href="#l387.67"></a><span id="l387.67"> </span>
<a href="#l387.68"></a><span id="l387.68"> // Have a dummy mark_action function in case test-folder-display-helpers does</span>
<a href="#l387.69"></a><span id="l387.69"> // not provide us with one.</span>
<a href="#l387.70"></a><span id="l387.70"> var mark_action = function dummy_mark_action() {};</span>
<a href="#l387.71"></a><span id="l387.71"> var mark_failure = function dummy_mark_failure() {};</span>
<a href="#l387.72"></a><span id="l387.72"> var normalize_for_json = function dummy_normalize_for_json() {};</span>
<a href="#l387.73"></a><span id="l387.73"> /**</span>
<a href="#l387.74"></a><span id="l387.74">  * This is used by test-folder-display-helpers to provide us with a reference</span>
<a href="#l387.75"></a><span id="l387.75" class="difflineat">@@ -1088,17 +1088,17 @@ var AugmentEverybodyWith = {</span>
<a href="#l387.76"></a><span id="l387.76">   },</span>
<a href="#l387.77"></a><span id="l387.77"> };</span>
<a href="#l387.78"></a><span id="l387.78"> </span>
<a href="#l387.79"></a><span id="l387.79"> /**</span>
<a href="#l387.80"></a><span id="l387.80">  * Clicks and other mouse operations used to be recognized just outside a curved</span>
<a href="#l387.81"></a><span id="l387.81">  * border but are no longer so (bug 595652), so we need these wrappers to</span>
<a href="#l387.82"></a><span id="l387.82">  * perform the operations at the center when aLeft or aTop aren't passed in.</span>
<a href="#l387.83"></a><span id="l387.83">  */</span>
<a href="#l387.84"></a><span id="l387.84" class="difflineminus">-const MOUSE_OPS_TO_WRAP = [</span>
<a href="#l387.85"></a><span id="l387.85" class="difflineplus">+var MOUSE_OPS_TO_WRAP = [</span>
<a href="#l387.86"></a><span id="l387.86">   &quot;click&quot;, &quot;doubleClick&quot;, &quot;mouseDown&quot;, &quot;mouseOut&quot;, &quot;mouseOver&quot;, &quot;mouseUp&quot;,</span>
<a href="#l387.87"></a><span id="l387.87">   &quot;middleClick&quot;, &quot;rightClick&quot;,</span>
<a href="#l387.88"></a><span id="l387.88"> ];</span>
<a href="#l387.89"></a><span id="l387.89"> </span>
<a href="#l387.90"></a><span id="l387.90"> for (let [, mouseOp] in Iterator(MOUSE_OPS_TO_WRAP)) {</span>
<a href="#l387.91"></a><span id="l387.91">   let thisMouseOp = mouseOp;</span>
<a href="#l387.92"></a><span id="l387.92">   let wrapperFunc = function (aElem, aLeft, aTop) {</span>
<a href="#l387.93"></a><span id="l387.93">     let el = aElem.getNode();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l388.1"></a><span id="l388.1" class="difflineminus">--- a/mail/test/mozmill/subscribe/test-subscribe-news-filter.js</span>
<a href="#l388.2"></a><span id="l388.2" class="difflineplus">+++ b/mail/test/mozmill/subscribe/test-subscribe-news-filter.js</span>
<a href="#l388.3"></a><span id="l388.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l388.4"></a><span id="l388.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l388.5"></a><span id="l388.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l388.6"></a><span id="l388.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l388.7"></a><span id="l388.7"> </span>
<a href="#l388.8"></a><span id="l388.8"> /* Test that the subscribe window for news servers has working autocomplete. */</span>
<a href="#l388.9"></a><span id="l388.9"> </span>
<a href="#l388.10"></a><span id="l388.10" class="difflineminus">-const MODULE_NAME = &quot;test-subscribe-news-filter&quot;;</span>
<a href="#l388.11"></a><span id="l388.11" class="difflineplus">+var MODULE_NAME = &quot;test-subscribe-news-filter&quot;;</span>
<a href="#l388.12"></a><span id="l388.12"> </span>
<a href="#l388.13"></a><span id="l388.13" class="difflineminus">-const RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l388.14"></a><span id="l388.14" class="difflineminus">-const MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;nntp-helpers&quot;,</span>
<a href="#l388.15"></a><span id="l388.15" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l388.16"></a><span id="l388.16" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;nntp-helpers&quot;,</span>
<a href="#l388.17"></a><span id="l388.17">                          &quot;subscribe-window-helpers&quot;];</span>
<a href="#l388.18"></a><span id="l388.18"> </span>
<a href="#l388.19"></a><span id="l388.19"> function setupModule(module) {</span>
<a href="#l388.20"></a><span id="l388.20">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l388.21"></a><span id="l388.21">   collector.getModule(&quot;nntp-helpers&quot;).installInto(module);</span>
<a href="#l388.22"></a><span id="l388.22">   collector.getModule(&quot;subscribe-window-helpers&quot;).installInto(module);</span>
<a href="#l388.23"></a><span id="l388.23"> }</span>
<a href="#l388.24"></a><span id="l388.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l389.1"></a><span id="l389.1" class="difflineminus">--- a/mail/test/mozmill/tabmail/test-tabmail-closing.js</span>
<a href="#l389.2"></a><span id="l389.2" class="difflineplus">+++ b/mail/test/mozmill/tabmail/test-tabmail-closing.js</span>
<a href="#l389.3"></a><span id="l389.3" class="difflineat">@@ -9,17 +9,17 @@</span>
<a href="#l389.4"></a><span id="l389.4"> var MODULE_NAME = &quot;test-tabmail-closing&quot;;</span>
<a href="#l389.5"></a><span id="l389.5"> </span>
<a href="#l389.6"></a><span id="l389.6"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l389.7"></a><span id="l389.7"> var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;,</span>
<a href="#l389.8"></a><span id="l389.8">                        &quot;window-helpers&quot;,];</span>
<a href="#l389.9"></a><span id="l389.9"> </span>
<a href="#l389.10"></a><span id="l389.10"> var gFolder;</span>
<a href="#l389.11"></a><span id="l389.11"> </span>
<a href="#l389.12"></a><span id="l389.12" class="difflineminus">-const MSGS_PER_THREAD = 3;</span>
<a href="#l389.13"></a><span id="l389.13" class="difflineplus">+var MSGS_PER_THREAD = 3;</span>
<a href="#l389.14"></a><span id="l389.14"> </span>
<a href="#l389.15"></a><span id="l389.15"> function setupModule(module) {</span>
<a href="#l389.16"></a><span id="l389.16">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l389.17"></a><span id="l389.17">   collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l389.18"></a><span id="l389.18"> </span>
<a href="#l389.19"></a><span id="l389.19">   gFolder = create_folder(&quot;test-tabmail-closing folder&quot;);</span>
<a href="#l389.20"></a><span id="l389.20">   make_new_sets_in_folder(gFolder, [{msgsPerThread: MSGS_PER_THREAD}]);</span>
<a href="#l389.21"></a><span id="l389.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l390.1"></a><span id="l390.1" class="difflineminus">--- a/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js</span>
<a href="#l390.2"></a><span id="l390.2" class="difflineplus">+++ b/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js</span>
<a href="#l390.3"></a><span id="l390.3" class="difflineat">@@ -16,17 +16,17 @@ var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l390.4"></a><span id="l390.4"> var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;,</span>
<a href="#l390.5"></a><span id="l390.5">                        'mouse-event-helpers'];</span>
<a href="#l390.6"></a><span id="l390.6"> </span>
<a href="#l390.7"></a><span id="l390.7"> </span>
<a href="#l390.8"></a><span id="l390.8"> var folder;</span>
<a href="#l390.9"></a><span id="l390.9"> var msgHdrsInFolder = [];</span>
<a href="#l390.10"></a><span id="l390.10"> </span>
<a href="#l390.11"></a><span id="l390.11"> // The number of messages in folder.</span>
<a href="#l390.12"></a><span id="l390.12" class="difflineminus">-const NUM_MESSAGES_IN_FOLDER = 15;</span>
<a href="#l390.13"></a><span id="l390.13" class="difflineplus">+var NUM_MESSAGES_IN_FOLDER = 15;</span>
<a href="#l390.14"></a><span id="l390.14"> </span>
<a href="#l390.15"></a><span id="l390.15"> function setupModule(module) {</span>
<a href="#l390.16"></a><span id="l390.16">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l390.17"></a><span id="l390.17">   fdh.installInto(module);</span>
<a href="#l390.18"></a><span id="l390.18">   let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l390.19"></a><span id="l390.19">   wh.installInto(module);</span>
<a href="#l390.20"></a><span id="l390.20">   let meh = collector.getModule('mouse-event-helpers');</span>
<a href="#l390.21"></a><span id="l390.21">   meh.installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l391.1"></a><span id="l391.1" class="difflineminus">--- a/mail/test/mozmill/utils/test-iteratorUtils.js</span>
<a href="#l391.2"></a><span id="l391.2" class="difflineplus">+++ b/mail/test/mozmill/utils/test-iteratorUtils.js</span>
<a href="#l391.3"></a><span id="l391.3" class="difflineat">@@ -1,26 +1,26 @@</span>
<a href="#l391.4"></a><span id="l391.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l391.5"></a><span id="l391.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l391.6"></a><span id="l391.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l391.7"></a><span id="l391.7"> </span>
<a href="#l391.8"></a><span id="l391.8"> /**</span>
<a href="#l391.9"></a><span id="l391.9">  * Tests iteratorUtils with items pulled from content into chrome.</span>
<a href="#l391.10"></a><span id="l391.10">  */</span>
<a href="#l391.11"></a><span id="l391.11"> </span>
<a href="#l391.12"></a><span id="l391.12" class="difflineminus">-const MODULE_NAME = 'test-cloudfile-attachment-item';</span>
<a href="#l391.13"></a><span id="l391.13" class="difflineplus">+var MODULE_NAME = 'test-cloudfile-attachment-item';</span>
<a href="#l391.14"></a><span id="l391.14"> </span>
<a href="#l391.15"></a><span id="l391.15" class="difflineminus">-const RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l391.16"></a><span id="l391.16" class="difflineminus">-const MODULE_REQUIRES = ['folder-display-helpers',</span>
<a href="#l391.17"></a><span id="l391.17" class="difflineplus">+var RELATIVE_ROOT = '../shared-modules';</span>
<a href="#l391.18"></a><span id="l391.18" class="difflineplus">+var MODULE_REQUIRES = ['folder-display-helpers',</span>
<a href="#l391.19"></a><span id="l391.19">                          'content-tab-helpers',]</span>
<a href="#l391.20"></a><span id="l391.20"> </span>
<a href="#l391.21"></a><span id="l391.21"> var iteratorUtils = {};</span>
<a href="#l391.22"></a><span id="l391.22"> Cu.import('resource:///modules/iteratorUtils.jsm', iteratorUtils);</span>
<a href="#l391.23"></a><span id="l391.23"> </span>
<a href="#l391.24"></a><span id="l391.24" class="difflineminus">-const kWhatsNewPref = 'mailnews.start_page.override_url';</span>
<a href="#l391.25"></a><span id="l391.25" class="difflineplus">+var kWhatsNewPref = 'mailnews.start_page.override_url';</span>
<a href="#l391.26"></a><span id="l391.26"> </span>
<a href="#l391.27"></a><span id="l391.27"> var gUrl = collector.addHttpResource('../utils/html', '');</span>
<a href="#l391.28"></a><span id="l391.28"> var gCollectionsUrl = gUrl + &quot;collections.html&quot;;</span>
<a href="#l391.29"></a><span id="l391.29"> var gOriginalWhatsNew, gTab;</span>
<a href="#l391.30"></a><span id="l391.30"> </span>
<a href="#l391.31"></a><span id="l391.31"> function setupModule(module) {</span>
<a href="#l391.32"></a><span id="l391.32">   collector.getModule('folder-display-helpers').installInto(module);</span>
<a href="#l391.33"></a><span id="l391.33">   collector.getModule('content-tab-helpers').installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l392.1"></a><span id="l392.1" class="difflineminus">--- a/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js</span>
<a href="#l392.2"></a><span id="l392.2" class="difflineplus">+++ b/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js</span>
<a href="#l392.3"></a><span id="l392.3" class="difflineat">@@ -1,33 +1,33 @@</span>
<a href="#l392.4"></a><span id="l392.4"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l392.5"></a><span id="l392.5"> </span>
<a href="#l392.6"></a><span id="l392.6" class="difflineminus">-const nsIAppShellService    = Components.interfaces.nsIAppShellService;</span>
<a href="#l392.7"></a><span id="l392.7" class="difflineminus">-const nsISupports           = Components.interfaces.nsISupports;</span>
<a href="#l392.8"></a><span id="l392.8" class="difflineminus">-const nsICategoryManager    = Components.interfaces.nsICategoryManager;</span>
<a href="#l392.9"></a><span id="l392.9" class="difflineminus">-const nsIComponentRegistrar = Components.interfaces.nsIComponentRegistrar;</span>
<a href="#l392.10"></a><span id="l392.10" class="difflineminus">-const nsICommandLine        = Components.interfaces.nsICommandLine;</span>
<a href="#l392.11"></a><span id="l392.11" class="difflineminus">-const nsICommandLineHandler = Components.interfaces.nsICommandLineHandler;</span>
<a href="#l392.12"></a><span id="l392.12" class="difflineminus">-const nsIFactory            = Components.interfaces.nsIFactory;</span>
<a href="#l392.13"></a><span id="l392.13" class="difflineminus">-const nsIModule             = Components.interfaces.nsIModule;</span>
<a href="#l392.14"></a><span id="l392.14" class="difflineminus">-const nsIWindowWatcher      = Components.interfaces.nsIWindowWatcher;</span>
<a href="#l392.15"></a><span id="l392.15" class="difflineplus">+var nsIAppShellService    = Components.interfaces.nsIAppShellService;</span>
<a href="#l392.16"></a><span id="l392.16" class="difflineplus">+var nsISupports           = Components.interfaces.nsISupports;</span>
<a href="#l392.17"></a><span id="l392.17" class="difflineplus">+var nsICategoryManager    = Components.interfaces.nsICategoryManager;</span>
<a href="#l392.18"></a><span id="l392.18" class="difflineplus">+var nsIComponentRegistrar = Components.interfaces.nsIComponentRegistrar;</span>
<a href="#l392.19"></a><span id="l392.19" class="difflineplus">+var nsICommandLine        = Components.interfaces.nsICommandLine;</span>
<a href="#l392.20"></a><span id="l392.20" class="difflineplus">+var nsICommandLineHandler = Components.interfaces.nsICommandLineHandler;</span>
<a href="#l392.21"></a><span id="l392.21" class="difflineplus">+var nsIFactory            = Components.interfaces.nsIFactory;</span>
<a href="#l392.22"></a><span id="l392.22" class="difflineplus">+var nsIModule             = Components.interfaces.nsIModule;</span>
<a href="#l392.23"></a><span id="l392.23" class="difflineplus">+var nsIWindowWatcher      = Components.interfaces.nsIWindowWatcher;</span>
<a href="#l392.24"></a><span id="l392.24"> </span>
<a href="#l392.25"></a><span id="l392.25"> // CHANGEME: to the chrome URI of your extension or application</span>
<a href="#l392.26"></a><span id="l392.26" class="difflineminus">-const CHROME_URI = &quot;chrome://jsbridge/content/&quot;;</span>
<a href="#l392.27"></a><span id="l392.27" class="difflineplus">+var CHROME_URI = &quot;chrome://jsbridge/content/&quot;;</span>
<a href="#l392.28"></a><span id="l392.28"> </span>
<a href="#l392.29"></a><span id="l392.29"> // CHANGEME: change the contract id, CID, and category to be unique</span>
<a href="#l392.30"></a><span id="l392.30"> // to your application.</span>
<a href="#l392.31"></a><span id="l392.31" class="difflineminus">-const clh_contractID = &quot;@mozilla.org/commandlinehandler/general-startup;1?type=jsbridge&quot;;</span>
<a href="#l392.32"></a><span id="l392.32" class="difflineplus">+var clh_contractID = &quot;@mozilla.org/commandlinehandler/general-startup;1?type=jsbridge&quot;;</span>
<a href="#l392.33"></a><span id="l392.33"> </span>
<a href="#l392.34"></a><span id="l392.34"> // use uuidgen to generate a unique ID</span>
<a href="#l392.35"></a><span id="l392.35" class="difflineminus">-const clh_CID = Components.ID(&quot;{2872d428-14f6-11de-ac86-001f5bd9235c}&quot;);</span>
<a href="#l392.36"></a><span id="l392.36" class="difflineplus">+var clh_CID = Components.ID(&quot;{2872d428-14f6-11de-ac86-001f5bd9235c}&quot;);</span>
<a href="#l392.37"></a><span id="l392.37"> </span>
<a href="#l392.38"></a><span id="l392.38"> // category names are sorted alphabetically. Typical command-line handlers use a</span>
<a href="#l392.39"></a><span id="l392.39"> // category that begins with the letter &quot;m&quot;.</span>
<a href="#l392.40"></a><span id="l392.40" class="difflineminus">-const clh_category = &quot;jsbridge&quot;;</span>
<a href="#l392.41"></a><span id="l392.41" class="difflineplus">+var clh_category = &quot;jsbridge&quot;;</span>
<a href="#l392.42"></a><span id="l392.42"> </span>
<a href="#l392.43"></a><span id="l392.43"> var aConsoleService = Components.classes[&quot;@mozilla.org/consoleservice;1&quot;].</span>
<a href="#l392.44"></a><span id="l392.44">      getService(Components.interfaces.nsIConsoleService);</span>
<a href="#l392.45"></a><span id="l392.45"> </span>
<a href="#l392.46"></a><span id="l392.46"> /**</span>
<a href="#l392.47"></a><span id="l392.47">  * Utility functions</span>
<a href="#l392.48"></a><span id="l392.48">  */</span>
<a href="#l392.49"></a><span id="l392.49"> </span>
<a href="#l392.50"></a><span id="l392.50" class="difflineat">@@ -113,12 +113,12 @@ jsbridgeHandler.prototype = {</span>
<a href="#l392.51"></a><span id="l392.51">     /* no-op */</span>
<a href="#l392.52"></a><span id="l392.52">   }</span>
<a href="#l392.53"></a><span id="l392.53"> };</span>
<a href="#l392.54"></a><span id="l392.54"> </span>
<a href="#l392.55"></a><span id="l392.55"> /**</span>
<a href="#l392.56"></a><span id="l392.56">  * XPCOMUtils.generateNSGetFactory was introduced in Mozilla 2 (Firefox 4).</span>
<a href="#l392.57"></a><span id="l392.57">  * XPCOMUtils.generateNSGetModule is for Mozilla 1.9.1 (Firefox 3.5).</span>
<a href="#l392.58"></a><span id="l392.58">  */</span>
<a href="#l392.59"></a><span id="l392.59" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory ? XPCOMUtils.generateNSGetFactory([jsbridgeHandler])</span>
<a href="#l392.60"></a><span id="l392.60" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory ? XPCOMUtils.generateNSGetFactory([jsbridgeHandler])</span>
<a href="#l392.61"></a><span id="l392.61">                                                      : undefined;</span>
<a href="#l392.62"></a><span id="l392.62" class="difflineminus">-const NSGetModule = !XPCOMUtils.generateNSGetFactory ? XPCOMUtils.generateNSGetModule([jsbridgeHandler])</span>
<a href="#l392.63"></a><span id="l392.63" class="difflineplus">+var NSGetModule = !XPCOMUtils.generateNSGetFactory ? XPCOMUtils.generateNSGetModule([jsbridgeHandler])</span>
<a href="#l392.64"></a><span id="l392.64">                                                      : undefined;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l393.1"></a><span id="l393.1" class="difflineminus">--- a/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js</span>
<a href="#l393.2"></a><span id="l393.2" class="difflineplus">+++ b/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js</span>
<a href="#l393.3"></a><span id="l393.3" class="difflineat">@@ -34,21 +34,21 @@</span>
<a href="#l393.4"></a><span id="l393.4"> // the provisions above, a recipient may use your version of this file under</span>
<a href="#l393.5"></a><span id="l393.5"> // the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l393.6"></a><span id="l393.6"> //</span>
<a href="#l393.7"></a><span id="l393.7"> // ***** END LICENSE BLOCK *****</span>
<a href="#l393.8"></a><span id="l393.8"> </span>
<a href="#l393.9"></a><span id="l393.9"> var EXPORTED_SYMBOLS = [&quot;Server&quot;, &quot;server&quot;, &quot;AsyncRead&quot;, &quot;Session&quot;, &quot;sessions&quot;, &quot;globalRegistry&quot;, &quot;startServer&quot;];</span>
<a href="#l393.10"></a><span id="l393.10"> </span>
<a href="#l393.11"></a><span id="l393.11"> var events = {}; Components.utils.import(&quot;resource://jsbridge/modules/events.js&quot;, events);</span>
<a href="#l393.12"></a><span id="l393.12" class="difflineminus">-const DEBUG_ON = false;</span>
<a href="#l393.13"></a><span id="l393.13" class="difflineminus">-const BUFFER_SIZE = 1024;</span>
<a href="#l393.14"></a><span id="l393.14" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l393.15"></a><span id="l393.15" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l393.16"></a><span id="l393.16" class="difflineminus">-const loader = Cc['@mozilla.org/moz/jssubscript-loader;1']</span>
<a href="#l393.17"></a><span id="l393.17" class="difflineplus">+var DEBUG_ON = false;</span>
<a href="#l393.18"></a><span id="l393.18" class="difflineplus">+var BUFFER_SIZE = 1024;</span>
<a href="#l393.19"></a><span id="l393.19" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l393.20"></a><span id="l393.20" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l393.21"></a><span id="l393.21" class="difflineplus">+var loader = Cc['@mozilla.org/moz/jssubscript-loader;1']</span>
<a href="#l393.22"></a><span id="l393.22">     .getService(Ci.mozIJSSubScriptLoader);</span>
<a href="#l393.23"></a><span id="l393.23"> </span>
<a href="#l393.24"></a><span id="l393.24"> var hwindow = Components.classes[&quot;@mozilla.org/appshell/appShellService;1&quot;]</span>
<a href="#l393.25"></a><span id="l393.25">     .getService(Components.interfaces.nsIAppShellService)</span>
<a href="#l393.26"></a><span id="l393.26">     .hiddenDOMWindow;</span>
<a href="#l393.27"></a><span id="l393.27"> </span>
<a href="#l393.28"></a><span id="l393.28"> var json2 = Components.utils.import(&quot;resource://jsbridge/modules/json2.js&quot;);</span>
<a href="#l393.29"></a><span id="l393.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l394.1"></a><span id="l394.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js</span>
<a href="#l394.2"></a><span id="l394.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js</span>
<a href="#l394.3"></a><span id="l394.3" class="difflineat">@@ -34,19 +34,19 @@</span>
<a href="#l394.4"></a><span id="l394.4">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l394.5"></a><span id="l394.5">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l394.6"></a><span id="l394.6">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l394.7"></a><span id="l394.7">  *</span>
<a href="#l394.8"></a><span id="l394.8">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l394.9"></a><span id="l394.9"> </span>
<a href="#l394.10"></a><span id="l394.10"> var EXPORTED_SYMBOLS = [&quot;mozmill&quot;];</span>
<a href="#l394.11"></a><span id="l394.11"> </span>
<a href="#l394.12"></a><span id="l394.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l394.13"></a><span id="l394.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l394.14"></a><span id="l394.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l394.15"></a><span id="l394.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l394.16"></a><span id="l394.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l394.17"></a><span id="l394.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l394.18"></a><span id="l394.18"> </span>
<a href="#l394.19"></a><span id="l394.19"> var controller = Cu.import('resource://mozmill/modules/controller.js');</span>
<a href="#l394.20"></a><span id="l394.20"> var mozmill = Cu.import('resource://mozmill/modules/mozmill.js');</span>
<a href="#l394.21"></a><span id="l394.21"> var utils = Cu.import('resource://mozmill/modules/utils.js');</span>
<a href="#l394.22"></a><span id="l394.22"> </span>
<a href="#l394.23"></a><span id="l394.23"> </span>
<a href="#l394.24"></a><span id="l394.24"> // Observer when a new top-level window is ready</span>
<a href="#l394.25"></a><span id="l394.25"> var windowReadyObserver = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l395.1"></a><span id="l395.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/resource/modules/utils.js</span>
<a href="#l395.2"></a><span id="l395.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/resource/modules/utils.js</span>
<a href="#l395.3"></a><span id="l395.3" class="difflineat">@@ -38,17 +38,17 @@</span>
<a href="#l395.4"></a><span id="l395.4"> // ***** END LICENSE BLOCK *****</span>
<a href="#l395.5"></a><span id="l395.5"> </span>
<a href="#l395.6"></a><span id="l395.6"> var EXPORTED_SYMBOLS = [&quot;openFile&quot;, &quot;saveFile&quot;, &quot;saveAsFile&quot;, &quot;genBoiler&quot;,</span>
<a href="#l395.7"></a><span id="l395.7">                         &quot;getFile&quot;, &quot;Copy&quot;, &quot;getChromeWindow&quot;, &quot;getWindows&quot;, &quot;runEditor&quot;,</span>
<a href="#l395.8"></a><span id="l395.8">                         &quot;runFile&quot;, &quot;getWindowByTitle&quot;, &quot;getWindowByType&quot;, &quot;getWindowId&quot;,</span>
<a href="#l395.9"></a><span id="l395.9">                         &quot;tempfile&quot;, &quot;getMethodInWindows&quot;, &quot;getPreference&quot;, &quot;setPreference&quot;,</span>
<a href="#l395.10"></a><span id="l395.10">                         &quot;sleep&quot;, &quot;assert&quot;, &quot;unwrapNode&quot;, &quot;TimeoutError&quot;, &quot;waitFor&quot;, &quot;waitForEval&quot;];</span>
<a href="#l395.11"></a><span id="l395.11"> </span>
<a href="#l395.12"></a><span id="l395.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l395.13"></a><span id="l395.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l395.14"></a><span id="l395.14"> </span>
<a href="#l395.15"></a><span id="l395.15"> </span>
<a href="#l395.16"></a><span id="l395.16"> var hwindow = Components.classes[&quot;@mozilla.org/appshell/appShellService;1&quot;]</span>
<a href="#l395.17"></a><span id="l395.17">               .getService(Components.interfaces.nsIAppShellService)</span>
<a href="#l395.18"></a><span id="l395.18">               .hiddenDOMWindow;</span>
<a href="#l395.19"></a><span id="l395.19"> </span>
<a href="#l395.20"></a><span id="l395.20"> var uuidgen = Components.classes[&quot;@mozilla.org/uuid-generator;1&quot;]</span>
<a href="#l395.21"></a><span id="l395.21">     .getService(Components.interfaces.nsIUUIDGenerator);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l396.1"></a><span id="l396.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/resource/stdlib/httpd.js</span>
<a href="#l396.2"></a><span id="l396.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/resource/stdlib/httpd.js</span>
<a href="#l396.3"></a><span id="l396.3" class="difflineat">@@ -35,23 +35,23 @@ this.EXPORTED_SYMBOLS = [</span>
<a href="#l396.4"></a><span id="l396.4">   &quot;HTTP_504&quot;,</span>
<a href="#l396.5"></a><span id="l396.5">   &quot;HTTP_505&quot;,</span>
<a href="#l396.6"></a><span id="l396.6">   &quot;HttpError&quot;,</span>
<a href="#l396.7"></a><span id="l396.7">   &quot;HttpServer&quot;,</span>
<a href="#l396.8"></a><span id="l396.8"> ];</span>
<a href="#l396.9"></a><span id="l396.9"> </span>
<a href="#l396.10"></a><span id="l396.10"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l396.11"></a><span id="l396.11"> </span>
<a href="#l396.12"></a><span id="l396.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l396.13"></a><span id="l396.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l396.14"></a><span id="l396.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l396.15"></a><span id="l396.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l396.16"></a><span id="l396.16" class="difflineminus">-const CC = Components.Constructor;</span>
<a href="#l396.17"></a><span id="l396.17" class="difflineminus">-</span>
<a href="#l396.18"></a><span id="l396.18" class="difflineminus">-const PR_UINT32_MAX = Math.pow(2, 32) - 1;</span>
<a href="#l396.19"></a><span id="l396.19" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l396.20"></a><span id="l396.20" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l396.21"></a><span id="l396.21" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l396.22"></a><span id="l396.22" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l396.23"></a><span id="l396.23" class="difflineplus">+var CC = Components.Constructor;</span>
<a href="#l396.24"></a><span id="l396.24" class="difflineplus">+</span>
<a href="#l396.25"></a><span id="l396.25" class="difflineplus">+var PR_UINT32_MAX = Math.pow(2, 32) - 1;</span>
<a href="#l396.26"></a><span id="l396.26"> </span>
<a href="#l396.27"></a><span id="l396.27"> /** True if debugging output is enabled, false otherwise. */</span>
<a href="#l396.28"></a><span id="l396.28"> var DEBUG = false; // non-const *only* so tweakable in server tests</span>
<a href="#l396.29"></a><span id="l396.29"> </span>
<a href="#l396.30"></a><span id="l396.30"> /** True if debugging output should be timestamped. */</span>
<a href="#l396.31"></a><span id="l396.31"> var DEBUG_TIMESTAMP = false; // non-const so tweakable in server tests</span>
<a href="#l396.32"></a><span id="l396.32"> </span>
<a href="#l396.33"></a><span id="l396.33"> var gGlobalObject = this;</span>
<a href="#l396.34"></a><span id="l396.34" class="difflineat">@@ -89,40 +89,40 @@ HttpError.prototype =</span>
<a href="#l396.35"></a><span id="l396.35">   {</span>
<a href="#l396.36"></a><span id="l396.36">     return this.code + &quot; &quot; + this.description;</span>
<a href="#l396.37"></a><span id="l396.37">   }</span>
<a href="#l396.38"></a><span id="l396.38"> };</span>
<a href="#l396.39"></a><span id="l396.39"> </span>
<a href="#l396.40"></a><span id="l396.40"> /**</span>
<a href="#l396.41"></a><span id="l396.41">  * Errors thrown to trigger specific HTTP server responses.</span>
<a href="#l396.42"></a><span id="l396.42">  */</span>
<a href="#l396.43"></a><span id="l396.43" class="difflineminus">-const HTTP_400 = new HttpError(400, &quot;Bad Request&quot;);</span>
<a href="#l396.44"></a><span id="l396.44" class="difflineminus">-const HTTP_401 = new HttpError(401, &quot;Unauthorized&quot;);</span>
<a href="#l396.45"></a><span id="l396.45" class="difflineminus">-const HTTP_402 = new HttpError(402, &quot;Payment Required&quot;);</span>
<a href="#l396.46"></a><span id="l396.46" class="difflineminus">-const HTTP_403 = new HttpError(403, &quot;Forbidden&quot;);</span>
<a href="#l396.47"></a><span id="l396.47" class="difflineminus">-const HTTP_404 = new HttpError(404, &quot;Not Found&quot;);</span>
<a href="#l396.48"></a><span id="l396.48" class="difflineminus">-const HTTP_405 = new HttpError(405, &quot;Method Not Allowed&quot;);</span>
<a href="#l396.49"></a><span id="l396.49" class="difflineminus">-const HTTP_406 = new HttpError(406, &quot;Not Acceptable&quot;);</span>
<a href="#l396.50"></a><span id="l396.50" class="difflineminus">-const HTTP_407 = new HttpError(407, &quot;Proxy Authentication Required&quot;);</span>
<a href="#l396.51"></a><span id="l396.51" class="difflineminus">-const HTTP_408 = new HttpError(408, &quot;Request Timeout&quot;);</span>
<a href="#l396.52"></a><span id="l396.52" class="difflineminus">-const HTTP_409 = new HttpError(409, &quot;Conflict&quot;);</span>
<a href="#l396.53"></a><span id="l396.53" class="difflineminus">-const HTTP_410 = new HttpError(410, &quot;Gone&quot;);</span>
<a href="#l396.54"></a><span id="l396.54" class="difflineminus">-const HTTP_411 = new HttpError(411, &quot;Length Required&quot;);</span>
<a href="#l396.55"></a><span id="l396.55" class="difflineminus">-const HTTP_412 = new HttpError(412, &quot;Precondition Failed&quot;);</span>
<a href="#l396.56"></a><span id="l396.56" class="difflineminus">-const HTTP_413 = new HttpError(413, &quot;Request Entity Too Large&quot;);</span>
<a href="#l396.57"></a><span id="l396.57" class="difflineminus">-const HTTP_414 = new HttpError(414, &quot;Request-URI Too Long&quot;);</span>
<a href="#l396.58"></a><span id="l396.58" class="difflineminus">-const HTTP_415 = new HttpError(415, &quot;Unsupported Media Type&quot;);</span>
<a href="#l396.59"></a><span id="l396.59" class="difflineminus">-const HTTP_417 = new HttpError(417, &quot;Expectation Failed&quot;);</span>
<a href="#l396.60"></a><span id="l396.60" class="difflineminus">-</span>
<a href="#l396.61"></a><span id="l396.61" class="difflineminus">-const HTTP_500 = new HttpError(500, &quot;Internal Server Error&quot;);</span>
<a href="#l396.62"></a><span id="l396.62" class="difflineminus">-const HTTP_501 = new HttpError(501, &quot;Not Implemented&quot;);</span>
<a href="#l396.63"></a><span id="l396.63" class="difflineminus">-const HTTP_502 = new HttpError(502, &quot;Bad Gateway&quot;);</span>
<a href="#l396.64"></a><span id="l396.64" class="difflineminus">-const HTTP_503 = new HttpError(503, &quot;Service Unavailable&quot;);</span>
<a href="#l396.65"></a><span id="l396.65" class="difflineminus">-const HTTP_504 = new HttpError(504, &quot;Gateway Timeout&quot;);</span>
<a href="#l396.66"></a><span id="l396.66" class="difflineminus">-const HTTP_505 = new HttpError(505, &quot;HTTP Version Not Supported&quot;);</span>
<a href="#l396.67"></a><span id="l396.67" class="difflineplus">+var HTTP_400 = new HttpError(400, &quot;Bad Request&quot;);</span>
<a href="#l396.68"></a><span id="l396.68" class="difflineplus">+var HTTP_401 = new HttpError(401, &quot;Unauthorized&quot;);</span>
<a href="#l396.69"></a><span id="l396.69" class="difflineplus">+var HTTP_402 = new HttpError(402, &quot;Payment Required&quot;);</span>
<a href="#l396.70"></a><span id="l396.70" class="difflineplus">+var HTTP_403 = new HttpError(403, &quot;Forbidden&quot;);</span>
<a href="#l396.71"></a><span id="l396.71" class="difflineplus">+var HTTP_404 = new HttpError(404, &quot;Not Found&quot;);</span>
<a href="#l396.72"></a><span id="l396.72" class="difflineplus">+var HTTP_405 = new HttpError(405, &quot;Method Not Allowed&quot;);</span>
<a href="#l396.73"></a><span id="l396.73" class="difflineplus">+var HTTP_406 = new HttpError(406, &quot;Not Acceptable&quot;);</span>
<a href="#l396.74"></a><span id="l396.74" class="difflineplus">+var HTTP_407 = new HttpError(407, &quot;Proxy Authentication Required&quot;);</span>
<a href="#l396.75"></a><span id="l396.75" class="difflineplus">+var HTTP_408 = new HttpError(408, &quot;Request Timeout&quot;);</span>
<a href="#l396.76"></a><span id="l396.76" class="difflineplus">+var HTTP_409 = new HttpError(409, &quot;Conflict&quot;);</span>
<a href="#l396.77"></a><span id="l396.77" class="difflineplus">+var HTTP_410 = new HttpError(410, &quot;Gone&quot;);</span>
<a href="#l396.78"></a><span id="l396.78" class="difflineplus">+var HTTP_411 = new HttpError(411, &quot;Length Required&quot;);</span>
<a href="#l396.79"></a><span id="l396.79" class="difflineplus">+var HTTP_412 = new HttpError(412, &quot;Precondition Failed&quot;);</span>
<a href="#l396.80"></a><span id="l396.80" class="difflineplus">+var HTTP_413 = new HttpError(413, &quot;Request Entity Too Large&quot;);</span>
<a href="#l396.81"></a><span id="l396.81" class="difflineplus">+var HTTP_414 = new HttpError(414, &quot;Request-URI Too Long&quot;);</span>
<a href="#l396.82"></a><span id="l396.82" class="difflineplus">+var HTTP_415 = new HttpError(415, &quot;Unsupported Media Type&quot;);</span>
<a href="#l396.83"></a><span id="l396.83" class="difflineplus">+var HTTP_417 = new HttpError(417, &quot;Expectation Failed&quot;);</span>
<a href="#l396.84"></a><span id="l396.84" class="difflineplus">+</span>
<a href="#l396.85"></a><span id="l396.85" class="difflineplus">+var HTTP_500 = new HttpError(500, &quot;Internal Server Error&quot;);</span>
<a href="#l396.86"></a><span id="l396.86" class="difflineplus">+var HTTP_501 = new HttpError(501, &quot;Not Implemented&quot;);</span>
<a href="#l396.87"></a><span id="l396.87" class="difflineplus">+var HTTP_502 = new HttpError(502, &quot;Bad Gateway&quot;);</span>
<a href="#l396.88"></a><span id="l396.88" class="difflineplus">+var HTTP_503 = new HttpError(503, &quot;Service Unavailable&quot;);</span>
<a href="#l396.89"></a><span id="l396.89" class="difflineplus">+var HTTP_504 = new HttpError(504, &quot;Gateway Timeout&quot;);</span>
<a href="#l396.90"></a><span id="l396.90" class="difflineplus">+var HTTP_505 = new HttpError(505, &quot;HTTP Version Not Supported&quot;);</span>
<a href="#l396.91"></a><span id="l396.91"> </span>
<a href="#l396.92"></a><span id="l396.92"> /** Creates a hash with fields corresponding to the values in arr. */</span>
<a href="#l396.93"></a><span id="l396.93"> function array2obj(arr)</span>
<a href="#l396.94"></a><span id="l396.94"> {</span>
<a href="#l396.95"></a><span id="l396.95">   var obj = {};</span>
<a href="#l396.96"></a><span id="l396.96">   for (var i = 0; i &lt; arr.length; i++)</span>
<a href="#l396.97"></a><span id="l396.97">     obj[arr[i]] = arr[i];</span>
<a href="#l396.98"></a><span id="l396.98">   return obj;</span>
<a href="#l396.99"></a><span id="l396.99" class="difflineat">@@ -133,38 +133,38 @@ function range(x, y)</span>
<a href="#l396.100"></a><span id="l396.100"> {</span>
<a href="#l396.101"></a><span id="l396.101">   var arr = [];</span>
<a href="#l396.102"></a><span id="l396.102">   for (var i = x; i &lt;= y; i++)</span>
<a href="#l396.103"></a><span id="l396.103">     arr.push(i);</span>
<a href="#l396.104"></a><span id="l396.104">   return arr;</span>
<a href="#l396.105"></a><span id="l396.105"> }</span>
<a href="#l396.106"></a><span id="l396.106"> </span>
<a href="#l396.107"></a><span id="l396.107"> /** An object (hash) whose fields are the numbers of all HTTP error codes. */</span>
<a href="#l396.108"></a><span id="l396.108" class="difflineminus">-const HTTP_ERROR_CODES = array2obj(range(400, 417).concat(range(500, 505)));</span>
<a href="#l396.109"></a><span id="l396.109" class="difflineplus">+var HTTP_ERROR_CODES = array2obj(range(400, 417).concat(range(500, 505)));</span>
<a href="#l396.110"></a><span id="l396.110"> </span>
<a href="#l396.111"></a><span id="l396.111"> </span>
<a href="#l396.112"></a><span id="l396.112"> /**</span>
<a href="#l396.113"></a><span id="l396.113">  * The character used to distinguish hidden files from non-hidden files, a la</span>
<a href="#l396.114"></a><span id="l396.114">  * the leading dot in Apache.  Since that mechanism also hides files from</span>
<a href="#l396.115"></a><span id="l396.115">  * easy display in LXR, ls output, etc. however, we choose instead to use a</span>
<a href="#l396.116"></a><span id="l396.116">  * suffix character.  If a requested file ends with it, we append another</span>
<a href="#l396.117"></a><span id="l396.117">  * when getting the file on the server.  If it doesn't, we just look up that</span>
<a href="#l396.118"></a><span id="l396.118">  * file.  Therefore, any file whose name ends with exactly one of the character</span>
<a href="#l396.119"></a><span id="l396.119">  * is &quot;hidden&quot; and available for use by the server.</span>
<a href="#l396.120"></a><span id="l396.120">  */</span>
<a href="#l396.121"></a><span id="l396.121" class="difflineminus">-const HIDDEN_CHAR = &quot;^&quot;;</span>
<a href="#l396.122"></a><span id="l396.122" class="difflineplus">+var HIDDEN_CHAR = &quot;^&quot;;</span>
<a href="#l396.123"></a><span id="l396.123"> </span>
<a href="#l396.124"></a><span id="l396.124"> /**</span>
<a href="#l396.125"></a><span id="l396.125">  * The file name suffix indicating the file containing overridden headers for</span>
<a href="#l396.126"></a><span id="l396.126">  * a requested file.</span>
<a href="#l396.127"></a><span id="l396.127">  */</span>
<a href="#l396.128"></a><span id="l396.128" class="difflineminus">-const HEADERS_SUFFIX = HIDDEN_CHAR + &quot;headers&quot; + HIDDEN_CHAR;</span>
<a href="#l396.129"></a><span id="l396.129" class="difflineplus">+var HEADERS_SUFFIX = HIDDEN_CHAR + &quot;headers&quot; + HIDDEN_CHAR;</span>
<a href="#l396.130"></a><span id="l396.130"> </span>
<a href="#l396.131"></a><span id="l396.131"> /** Type used to denote SJS scripts for CGI-like functionality. */</span>
<a href="#l396.132"></a><span id="l396.132" class="difflineminus">-const SJS_TYPE = &quot;sjs&quot;;</span>
<a href="#l396.133"></a><span id="l396.133" class="difflineplus">+var SJS_TYPE = &quot;sjs&quot;;</span>
<a href="#l396.134"></a><span id="l396.134"> </span>
<a href="#l396.135"></a><span id="l396.135"> /** Base for relative timestamps produced by dumpn(). */</span>
<a href="#l396.136"></a><span id="l396.136"> var firstStamp = 0;</span>
<a href="#l396.137"></a><span id="l396.137"> </span>
<a href="#l396.138"></a><span id="l396.138"> /** dump(str) with a trailing &quot;\n&quot; -- only outputs if DEBUG. */</span>
<a href="#l396.139"></a><span id="l396.139"> function dumpn(str)</span>
<a href="#l396.140"></a><span id="l396.140"> {</span>
<a href="#l396.141"></a><span id="l396.141">   if (DEBUG)</span>
<a href="#l396.142"></a><span id="l396.142" class="difflineat">@@ -213,34 +213,34 @@ function getRootPrefBranch()</span>
<a href="#l396.143"></a><span id="l396.143">   return gRootPrefBranch;</span>
<a href="#l396.144"></a><span id="l396.144"> }</span>
<a href="#l396.145"></a><span id="l396.145"> </span>
<a href="#l396.146"></a><span id="l396.146"> /**</span>
<a href="#l396.147"></a><span id="l396.147">  * JavaScript constructors for commonly-used classes; precreating these is a</span>
<a href="#l396.148"></a><span id="l396.148">  * speedup over doing the same from base principles.  See the docs at</span>
<a href="#l396.149"></a><span id="l396.149">  * http://developer.mozilla.org/en/docs/Components.Constructor for details.</span>
<a href="#l396.150"></a><span id="l396.150">  */</span>
<a href="#l396.151"></a><span id="l396.151" class="difflineminus">-const ServerSocket = CC(&quot;@mozilla.org/network/server-socket;1&quot;,</span>
<a href="#l396.152"></a><span id="l396.152" class="difflineplus">+var ServerSocket = CC(&quot;@mozilla.org/network/server-socket;1&quot;,</span>
<a href="#l396.153"></a><span id="l396.153">                         &quot;nsIServerSocket&quot;,</span>
<a href="#l396.154"></a><span id="l396.154">                         &quot;init&quot;);</span>
<a href="#l396.155"></a><span id="l396.155" class="difflineminus">-const ScriptableInputStream = CC(&quot;@mozilla.org/scriptableinputstream;1&quot;,</span>
<a href="#l396.156"></a><span id="l396.156" class="difflineplus">+var ScriptableInputStream = CC(&quot;@mozilla.org/scriptableinputstream;1&quot;,</span>
<a href="#l396.157"></a><span id="l396.157">                                  &quot;nsIScriptableInputStream&quot;,</span>
<a href="#l396.158"></a><span id="l396.158">                                  &quot;init&quot;);</span>
<a href="#l396.159"></a><span id="l396.159" class="difflineminus">-const Pipe = CC(&quot;@mozilla.org/pipe;1&quot;,</span>
<a href="#l396.160"></a><span id="l396.160" class="difflineplus">+var Pipe = CC(&quot;@mozilla.org/pipe;1&quot;,</span>
<a href="#l396.161"></a><span id="l396.161">                 &quot;nsIPipe&quot;,</span>
<a href="#l396.162"></a><span id="l396.162">                 &quot;init&quot;);</span>
<a href="#l396.163"></a><span id="l396.163" class="difflineminus">-const FileInputStream = CC(&quot;@mozilla.org/network/file-input-stream;1&quot;,</span>
<a href="#l396.164"></a><span id="l396.164" class="difflineplus">+var FileInputStream = CC(&quot;@mozilla.org/network/file-input-stream;1&quot;,</span>
<a href="#l396.165"></a><span id="l396.165">                            &quot;nsIFileInputStream&quot;,</span>
<a href="#l396.166"></a><span id="l396.166">                            &quot;init&quot;);</span>
<a href="#l396.167"></a><span id="l396.167" class="difflineminus">-const ConverterInputStream = CC(&quot;@mozilla.org/intl/converter-input-stream;1&quot;,</span>
<a href="#l396.168"></a><span id="l396.168" class="difflineplus">+var ConverterInputStream = CC(&quot;@mozilla.org/intl/converter-input-stream;1&quot;,</span>
<a href="#l396.169"></a><span id="l396.169">                                 &quot;nsIConverterInputStream&quot;,</span>
<a href="#l396.170"></a><span id="l396.170">                                 &quot;init&quot;);</span>
<a href="#l396.171"></a><span id="l396.171" class="difflineminus">-const WritablePropertyBag = CC(&quot;@mozilla.org/hash-property-bag;1&quot;,</span>
<a href="#l396.172"></a><span id="l396.172" class="difflineplus">+var WritablePropertyBag = CC(&quot;@mozilla.org/hash-property-bag;1&quot;,</span>
<a href="#l396.173"></a><span id="l396.173">                                &quot;nsIWritablePropertyBag2&quot;);</span>
<a href="#l396.174"></a><span id="l396.174" class="difflineminus">-const SupportsString = CC(&quot;@mozilla.org/supports-string;1&quot;,</span>
<a href="#l396.175"></a><span id="l396.175" class="difflineplus">+var SupportsString = CC(&quot;@mozilla.org/supports-string;1&quot;,</span>
<a href="#l396.176"></a><span id="l396.176">                           &quot;nsISupportsString&quot;);</span>
<a href="#l396.177"></a><span id="l396.177"> </span>
<a href="#l396.178"></a><span id="l396.178"> /* These two are non-const only so a test can overwrite them. */</span>
<a href="#l396.179"></a><span id="l396.179"> var BinaryInputStream = CC(&quot;@mozilla.org/binaryinputstream;1&quot;,</span>
<a href="#l396.180"></a><span id="l396.180">                            &quot;nsIBinaryInputStream&quot;,</span>
<a href="#l396.181"></a><span id="l396.181">                            &quot;setInputStream&quot;);</span>
<a href="#l396.182"></a><span id="l396.182"> var BinaryOutputStream = CC(&quot;@mozilla.org/binaryoutputstream;1&quot;,</span>
<a href="#l396.183"></a><span id="l396.183">                             &quot;nsIBinaryOutputStream&quot;,</span>
<a href="#l396.184"></a><span id="l396.184" class="difflineat">@@ -811,17 +811,17 @@ var HttpServer = nsHttpServer;</span>
<a href="#l396.185"></a><span id="l396.185"> //</span>
<a href="#l396.186"></a><span id="l396.186"> // host        = hostname | IPv4address</span>
<a href="#l396.187"></a><span id="l396.187"> // hostname    = *( domainlabel &quot;.&quot; ) toplabel [ &quot;.&quot; ]</span>
<a href="#l396.188"></a><span id="l396.188"> // domainlabel = alphanum | alphanum *( alphanum | &quot;-&quot; ) alphanum</span>
<a href="#l396.189"></a><span id="l396.189"> // toplabel    = alpha | alpha *( alphanum | &quot;-&quot; ) alphanum</span>
<a href="#l396.190"></a><span id="l396.190"> // IPv4address = 1*digit &quot;.&quot; 1*digit &quot;.&quot; 1*digit &quot;.&quot; 1*digit</span>
<a href="#l396.191"></a><span id="l396.191"> //</span>
<a href="#l396.192"></a><span id="l396.192"> </span>
<a href="#l396.193"></a><span id="l396.193" class="difflineminus">-const HOST_REGEX =</span>
<a href="#l396.194"></a><span id="l396.194" class="difflineplus">+var HOST_REGEX =</span>
<a href="#l396.195"></a><span id="l396.195">   new RegExp(&quot;^(?:&quot; +</span>
<a href="#l396.196"></a><span id="l396.196">                // *( domainlabel &quot;.&quot; )</span>
<a href="#l396.197"></a><span id="l396.197">                &quot;(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)*&quot; +</span>
<a href="#l396.198"></a><span id="l396.198">                // toplabel</span>
<a href="#l396.199"></a><span id="l396.199">                &quot;[a-z](?:[a-z0-9-]*[a-z0-9])?&quot; +</span>
<a href="#l396.200"></a><span id="l396.200">              &quot;|&quot; +</span>
<a href="#l396.201"></a><span id="l396.201">                // IPv4 address</span>
<a href="#l396.202"></a><span id="l396.202">                &quot;\\d+\\.\\d+\\.\\d+\\.\\d+&quot; +</span>
<a href="#l396.203"></a><span id="l396.203" class="difflineat">@@ -1204,20 +1204,20 @@ Connection.prototype =</span>
<a href="#l396.204"></a><span id="l396.204"> function readBytes(inputStream, count)</span>
<a href="#l396.205"></a><span id="l396.205"> {</span>
<a href="#l396.206"></a><span id="l396.206">   return new BinaryInputStream(inputStream).readByteArray(count);</span>
<a href="#l396.207"></a><span id="l396.207"> }</span>
<a href="#l396.208"></a><span id="l396.208"> </span>
<a href="#l396.209"></a><span id="l396.209"> </span>
<a href="#l396.210"></a><span id="l396.210"> </span>
<a href="#l396.211"></a><span id="l396.211"> /** Request reader processing states; see RequestReader for details. */</span>
<a href="#l396.212"></a><span id="l396.212" class="difflineminus">-const READER_IN_REQUEST_LINE = 0;</span>
<a href="#l396.213"></a><span id="l396.213" class="difflineminus">-const READER_IN_HEADERS      = 1;</span>
<a href="#l396.214"></a><span id="l396.214" class="difflineminus">-const READER_IN_BODY         = 2;</span>
<a href="#l396.215"></a><span id="l396.215" class="difflineminus">-const READER_FINISHED        = 3;</span>
<a href="#l396.216"></a><span id="l396.216" class="difflineplus">+var READER_IN_REQUEST_LINE = 0;</span>
<a href="#l396.217"></a><span id="l396.217" class="difflineplus">+var READER_IN_HEADERS      = 1;</span>
<a href="#l396.218"></a><span id="l396.218" class="difflineplus">+var READER_IN_BODY         = 2;</span>
<a href="#l396.219"></a><span id="l396.219" class="difflineplus">+var READER_FINISHED        = 3;</span>
<a href="#l396.220"></a><span id="l396.220"> </span>
<a href="#l396.221"></a><span id="l396.221"> </span>
<a href="#l396.222"></a><span id="l396.222"> /**</span>
<a href="#l396.223"></a><span id="l396.223">  * Reads incoming request data asynchronously, does any necessary preprocessing,</span>
<a href="#l396.224"></a><span id="l396.224">  * and forwards it to the request handler.  Processing occurs in three states:</span>
<a href="#l396.225"></a><span id="l396.225">  *</span>
<a href="#l396.226"></a><span id="l396.226">  *   READER_IN_REQUEST_LINE     Reading the request's status line</span>
<a href="#l396.227"></a><span id="l396.227">  *   READER_IN_HEADERS          Reading headers in the request</span>
<a href="#l396.228"></a><span id="l396.228" class="difflineat">@@ -1851,17 +1851,17 @@ RequestReader.prototype =</span>
<a href="#l396.229"></a><span id="l396.229">         lastVal = lineText.substring(colon + 1);</span>
<a href="#l396.230"></a><span id="l396.230">       } // empty, continuation, start of header</span>
<a href="#l396.231"></a><span id="l396.231">     } // while (true)</span>
<a href="#l396.232"></a><span id="l396.232">   }</span>
<a href="#l396.233"></a><span id="l396.233"> };</span>
<a href="#l396.234"></a><span id="l396.234"> </span>
<a href="#l396.235"></a><span id="l396.235"> </span>
<a href="#l396.236"></a><span id="l396.236"> /** The character codes for CR and LF. */</span>
<a href="#l396.237"></a><span id="l396.237" class="difflineminus">-const CR = 0x0D, LF = 0x0A;</span>
<a href="#l396.238"></a><span id="l396.238" class="difflineplus">+var CR = 0x0D, LF = 0x0A;</span>
<a href="#l396.239"></a><span id="l396.239"> </span>
<a href="#l396.240"></a><span id="l396.240"> /**</span>
<a href="#l396.241"></a><span id="l396.241">  * Calculates the number of characters before the first CRLF pair in array, or</span>
<a href="#l396.242"></a><span id="l396.242">  * -1 if the array contains no CRLF pair.</span>
<a href="#l396.243"></a><span id="l396.243">  *</span>
<a href="#l396.244"></a><span id="l396.244">  * @param array : Array</span>
<a href="#l396.245"></a><span id="l396.245">  *   an array of numbers in the range [0, 256), each representing a single</span>
<a href="#l396.246"></a><span id="l396.246">  *   character; the first CRLF is the lowest index i where</span>
<a href="#l396.247"></a><span id="l396.247" class="difflineat">@@ -3418,17 +3418,17 @@ FileMap.prototype =</span>
<a href="#l396.248"></a><span id="l396.248"> </span>
<a href="#l396.249"></a><span id="l396.249"> // token       = *&lt;any CHAR except CTLs or separators&gt;</span>
<a href="#l396.250"></a><span id="l396.250"> // CHAR        = &lt;any US-ASCII character (0-127)&gt;</span>
<a href="#l396.251"></a><span id="l396.251"> // CTL         = &lt;any US-ASCII control character (0-31) and DEL (127)&gt;</span>
<a href="#l396.252"></a><span id="l396.252"> // separators  = &quot;(&quot; | &quot;)&quot; | &quot;&lt;&quot; | &quot;&gt;&quot; | &quot;@&quot;</span>
<a href="#l396.253"></a><span id="l396.253"> //             | &quot;,&quot; | &quot;;&quot; | &quot;:&quot; | &quot;\&quot; | &lt;&quot;&gt;</span>
<a href="#l396.254"></a><span id="l396.254"> //             | &quot;/&quot; | &quot;[&quot; | &quot;]&quot; | &quot;?&quot; | &quot;=&quot;</span>
<a href="#l396.255"></a><span id="l396.255"> //             | &quot;{&quot; | &quot;}&quot; | SP  | HT</span>
<a href="#l396.256"></a><span id="l396.256" class="difflineminus">-const IS_TOKEN_ARRAY =</span>
<a href="#l396.257"></a><span id="l396.257" class="difflineplus">+var IS_TOKEN_ARRAY =</span>
<a href="#l396.258"></a><span id="l396.258">   [0, 0, 0, 0, 0, 0, 0, 0, //   0</span>
<a href="#l396.259"></a><span id="l396.259">    0, 0, 0, 0, 0, 0, 0, 0, //   8</span>
<a href="#l396.260"></a><span id="l396.260">    0, 0, 0, 0, 0, 0, 0, 0, //  16</span>
<a href="#l396.261"></a><span id="l396.261">    0, 0, 0, 0, 0, 0, 0, 0, //  24</span>
<a href="#l396.262"></a><span id="l396.262"> </span>
<a href="#l396.263"></a><span id="l396.263">    0, 1, 0, 1, 1, 1, 1, 1, //  32</span>
<a href="#l396.264"></a><span id="l396.264">    0, 0, 1, 1, 0, 1, 1, 0, //  40</span>
<a href="#l396.265"></a><span id="l396.265">    1, 1, 1, 1, 1, 1, 1, 1, //  48</span>
<a href="#l396.266"></a><span id="l396.266" class="difflineat">@@ -4687,17 +4687,17 @@ WriteThroughCopier.prototype =</span>
<a href="#l396.267"></a><span id="l396.267">     }</span>
<a href="#l396.268"></a><span id="l396.268">   }</span>
<a href="#l396.269"></a><span id="l396.269"> };</span>
<a href="#l396.270"></a><span id="l396.270"> </span>
<a href="#l396.271"></a><span id="l396.271"> </span>
<a href="#l396.272"></a><span id="l396.272"> /**</span>
<a href="#l396.273"></a><span id="l396.273">  * A container for utility functions used with HTTP headers.</span>
<a href="#l396.274"></a><span id="l396.274">  */</span>
<a href="#l396.275"></a><span id="l396.275" class="difflineminus">-const headerUtils =</span>
<a href="#l396.276"></a><span id="l396.276" class="difflineplus">+var headerUtils =</span>
<a href="#l396.277"></a><span id="l396.277"> {</span>
<a href="#l396.278"></a><span id="l396.278">   /**</span>
<a href="#l396.279"></a><span id="l396.279">    * Normalizes fieldName (by converting it to lowercase) and ensures it is a</span>
<a href="#l396.280"></a><span id="l396.280">    * valid header field name (although not necessarily one specified in RFC</span>
<a href="#l396.281"></a><span id="l396.281">    * 2616).</span>
<a href="#l396.282"></a><span id="l396.282">    *</span>
<a href="#l396.283"></a><span id="l396.283">    * @throws NS_ERROR_INVALID_ARG</span>
<a href="#l396.284"></a><span id="l396.284">    *   if fieldName does not match the field-name production in RFC 2616</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l397.1"></a><span id="l397.1" class="difflineminus">--- a/mail/test/resources/mozmill/test/test_staleelement.js</span>
<a href="#l397.2"></a><span id="l397.2" class="difflineplus">+++ b/mail/test/resources/mozmill/test/test_staleelement.js</span>
<a href="#l397.3"></a><span id="l397.3" class="difflineat">@@ -1,9 +1,9 @@</span>
<a href="#l397.4"></a><span id="l397.4" class="difflineminus">-const localTestFolder = collector.addHttpResource('./files/');</span>
<a href="#l397.5"></a><span id="l397.5" class="difflineplus">+var localTestFolder = collector.addHttpResource('./files/');</span>
<a href="#l397.6"></a><span id="l397.6"> </span>
<a href="#l397.7"></a><span id="l397.7"> var setupTest = function() {</span>
<a href="#l397.8"></a><span id="l397.8">   controller = mozmill.getBrowserController();</span>
<a href="#l397.9"></a><span id="l397.9"> }</span>
<a href="#l397.10"></a><span id="l397.10"> </span>
<a href="#l397.11"></a><span id="l397.11"> var testReload = function() {</span>
<a href="#l397.12"></a><span id="l397.12">   var testPage = localTestFolder + &quot;singlediv.html&quot;;</span>
<a href="#l397.13"></a><span id="l397.13">   controller.open(testPage);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l398.1"></a><span id="l398.1" class="difflineminus">--- a/mail/test/resources/mozmill/test/test_waitForPageLoad.js</span>
<a href="#l398.2"></a><span id="l398.2" class="difflineplus">+++ b/mail/test/resources/mozmill/test/test_waitForPageLoad.js</span>
<a href="#l398.3"></a><span id="l398.3" class="difflineat">@@ -1,9 +1,9 @@</span>
<a href="#l398.4"></a><span id="l398.4" class="difflineminus">-const LOCATIONS = [</span>
<a href="#l398.5"></a><span id="l398.5" class="difflineplus">+var LOCATIONS = [</span>
<a href="#l398.6"></a><span id="l398.6">   // Normal pages</span>
<a href="#l398.7"></a><span id="l398.7">   {url : &quot;http://www.google.de&quot;, type: &quot;id&quot;, value : &quot;logo&quot;},</span>
<a href="#l398.8"></a><span id="l398.8">   {url : &quot;https://addons.mozilla.org/en-US/firefox/?browse=featured&quot;, type: &quot;id&quot;, value : &quot;search-q&quot;},</span>
<a href="#l398.9"></a><span id="l398.9">   {url : &quot;http://addons.mozilla.org&quot;, type: &quot;id&quot;, value : &quot;search-q&quot;},</span>
<a href="#l398.10"></a><span id="l398.10"> </span>
<a href="#l398.11"></a><span id="l398.11">   // FTP pages</span>
<a href="#l398.12"></a><span id="l398.12">   {url : &quot;ftp://ftp.mozilla.org/pub/&quot;, type : &quot;link&quot;, value : &quot;firefox&quot; },</span>
<a href="#l398.13"></a><span id="l398.13"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l399.1"></a><span id="l399.1" class="difflineminus">--- a/mailnews/addrbook/content/abAddressBookNameDialog.js</span>
<a href="#l399.2"></a><span id="l399.2" class="difflineplus">+++ b/mailnews/addrbook/content/abAddressBookNameDialog.js</span>
<a href="#l399.3"></a><span id="l399.3" class="difflineat">@@ -3,20 +3,20 @@</span>
<a href="#l399.4"></a><span id="l399.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l399.5"></a><span id="l399.5"> </span>
<a href="#l399.6"></a><span id="l399.6"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l399.7"></a><span id="l399.7"> </span>
<a href="#l399.8"></a><span id="l399.8"> var gOkButton;</span>
<a href="#l399.9"></a><span id="l399.9"> var gNameInput;</span>
<a href="#l399.10"></a><span id="l399.10"> var gDirectory = null;</span>
<a href="#l399.11"></a><span id="l399.11"> </span>
<a href="#l399.12"></a><span id="l399.12" class="difflineminus">-const kPersonalAddressbookURI = &quot;moz-abmdbdirectory://abook.mab&quot;;</span>
<a href="#l399.13"></a><span id="l399.13" class="difflineminus">-const kCollectedAddressbookURI = &quot;moz-abmdbdirectory://history.mab&quot;;</span>
<a href="#l399.14"></a><span id="l399.14" class="difflineminus">-const kAllDirectoryRoot = &quot;moz-abdirectory://&quot;;</span>
<a href="#l399.15"></a><span id="l399.15" class="difflineminus">-const kPABDirectory = 2; // defined in nsDirPrefs.h</span>
<a href="#l399.16"></a><span id="l399.16" class="difflineplus">+var kPersonalAddressbookURI = &quot;moz-abmdbdirectory://abook.mab&quot;;</span>
<a href="#l399.17"></a><span id="l399.17" class="difflineplus">+var kCollectedAddressbookURI = &quot;moz-abmdbdirectory://history.mab&quot;;</span>
<a href="#l399.18"></a><span id="l399.18" class="difflineplus">+var kAllDirectoryRoot = &quot;moz-abdirectory://&quot;;</span>
<a href="#l399.19"></a><span id="l399.19" class="difflineplus">+var kPABDirectory = 2; // defined in nsDirPrefs.h</span>
<a href="#l399.20"></a><span id="l399.20"> </span>
<a href="#l399.21"></a><span id="l399.21"> function abNameOnLoad()</span>
<a href="#l399.22"></a><span id="l399.22"> {</span>
<a href="#l399.23"></a><span id="l399.23">   // Get the document elements.</span>
<a href="#l399.24"></a><span id="l399.24">   gOkButton = document.documentElement.getButton('accept');</span>
<a href="#l399.25"></a><span id="l399.25">   gNameInput = document.getElementById('name');</span>
<a href="#l399.26"></a><span id="l399.26"> </span>
<a href="#l399.27"></a><span id="l399.27">   // look in arguments[0] for parameters to see if we have a directory or not</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l400.1"></a><span id="l400.1" class="difflineminus">--- a/mailnews/addrbook/content/abResultsPane.js</span>
<a href="#l400.2"></a><span id="l400.2" class="difflineplus">+++ b/mailnews/addrbook/content/abResultsPane.js</span>
<a href="#l400.3"></a><span id="l400.3" class="difflineat">@@ -16,21 +16,21 @@</span>
<a href="#l400.4"></a><span id="l400.4">  *</span>
<a href="#l400.5"></a><span id="l400.5">  * The following function is only required if ResultsPaneController is used:</span>
<a href="#l400.6"></a><span id="l400.6">  *</span>
<a href="#l400.7"></a><span id="l400.7">  * goSetMenuValue()</span>
<a href="#l400.8"></a><span id="l400.8">  *   Core function in globalOverlay.js</span>
<a href="#l400.9"></a><span id="l400.9">  */</span>
<a href="#l400.10"></a><span id="l400.10"> </span>
<a href="#l400.11"></a><span id="l400.11"> // List/card selections in the results pane.</span>
<a href="#l400.12"></a><span id="l400.12" class="difflineminus">-const kNothingSelected = 0;</span>
<a href="#l400.13"></a><span id="l400.13" class="difflineminus">-const kListsAndCards = 1;</span>
<a href="#l400.14"></a><span id="l400.14" class="difflineminus">-const kMultipleListsOnly = 2;</span>
<a href="#l400.15"></a><span id="l400.15" class="difflineminus">-const kSingleListOnly = 3;</span>
<a href="#l400.16"></a><span id="l400.16" class="difflineminus">-const kCardsOnly = 4;</span>
<a href="#l400.17"></a><span id="l400.17" class="difflineplus">+var kNothingSelected = 0;</span>
<a href="#l400.18"></a><span id="l400.18" class="difflineplus">+var kListsAndCards = 1;</span>
<a href="#l400.19"></a><span id="l400.19" class="difflineplus">+var kMultipleListsOnly = 2;</span>
<a href="#l400.20"></a><span id="l400.20" class="difflineplus">+var kSingleListOnly = 3;</span>
<a href="#l400.21"></a><span id="l400.21" class="difflineplus">+var kCardsOnly = 4;</span>
<a href="#l400.22"></a><span id="l400.22"> </span>
<a href="#l400.23"></a><span id="l400.23"> // Global Variables</span>
<a href="#l400.24"></a><span id="l400.24"> </span>
<a href="#l400.25"></a><span id="l400.25"> // gAbView holds an object with an nsIAbView interface</span>
<a href="#l400.26"></a><span id="l400.26"> var gAbView = null;</span>
<a href="#l400.27"></a><span id="l400.27"> // Holds a reference to the &quot;abResultsTree&quot; document element. Initially</span>
<a href="#l400.28"></a><span id="l400.28"> // set up by SetAbView.</span>
<a href="#l400.29"></a><span id="l400.29"> var gAbResultsTree = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l401.1"></a><span id="l401.1" class="difflineminus">--- a/mailnews/addrbook/prefs/content/pref-directory-add.js</span>
<a href="#l401.2"></a><span id="l401.2" class="difflineplus">+++ b/mailnews/addrbook/prefs/content/pref-directory-add.js</span>
<a href="#l401.3"></a><span id="l401.3" class="difflineat">@@ -13,20 +13,20 @@ var gReplicationBundle = null;</span>
<a href="#l401.4"></a><span id="l401.4"> var gReplicationService =</span>
<a href="#l401.5"></a><span id="l401.5">   Components.classes[&quot;@mozilla.org/addressbook/ldap-replication-service;1&quot;].</span>
<a href="#l401.6"></a><span id="l401.6">              getService(Components.interfaces.nsIAbLDAPReplicationService);</span>
<a href="#l401.7"></a><span id="l401.7"> var gReplicationCancelled = false;</span>
<a href="#l401.8"></a><span id="l401.8"> var gProgressText;</span>
<a href="#l401.9"></a><span id="l401.9"> var gProgressMeter;</span>
<a href="#l401.10"></a><span id="l401.10"> var gDownloadInProgress = false;</span>
<a href="#l401.11"></a><span id="l401.11"> </span>
<a href="#l401.12"></a><span id="l401.12" class="difflineminus">-const kDefaultMaxHits = 100;</span>
<a href="#l401.13"></a><span id="l401.13" class="difflineminus">-const kDefaultLDAPPort = 389;</span>
<a href="#l401.14"></a><span id="l401.14" class="difflineminus">-const kDefaultSecureLDAPPort = 636;</span>
<a href="#l401.15"></a><span id="l401.15" class="difflineminus">-const kLDAPDirectory = 0;  // defined in nsDirPrefs.h</span>
<a href="#l401.16"></a><span id="l401.16" class="difflineplus">+var kDefaultMaxHits = 100;</span>
<a href="#l401.17"></a><span id="l401.17" class="difflineplus">+var kDefaultLDAPPort = 389;</span>
<a href="#l401.18"></a><span id="l401.18" class="difflineplus">+var kDefaultSecureLDAPPort = 636;</span>
<a href="#l401.19"></a><span id="l401.19" class="difflineplus">+var kLDAPDirectory = 0;  // defined in nsDirPrefs.h</span>
<a href="#l401.20"></a><span id="l401.20"> </span>
<a href="#l401.21"></a><span id="l401.21"> var ldapOfflineObserver = {</span>
<a href="#l401.22"></a><span id="l401.22">   observe: function(subject, topic, state)</span>
<a href="#l401.23"></a><span id="l401.23">   {</span>
<a href="#l401.24"></a><span id="l401.24">     // sanity checks</span>
<a href="#l401.25"></a><span id="l401.25">     if (topic != &quot;network:offline-status-changed&quot;) return;</span>
<a href="#l401.26"></a><span id="l401.26">     setDownloadOfflineOnlineState(state == &quot;offline&quot;);</span>
<a href="#l401.27"></a><span id="l401.27">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l402.1"></a><span id="l402.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbAutoCompleteMyDomain.js</span>
<a href="#l402.2"></a><span id="l402.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbAutoCompleteMyDomain.js</span>
<a href="#l402.3"></a><span id="l402.3" class="difflineat">@@ -50,9 +50,9 @@ nsAbAutoCompleteMyDomain.prototype = {</span>
<a href="#l402.4"></a><span id="l402.4">     };</span>
<a href="#l402.5"></a><span id="l402.5">     aListener.onSearchResult(this, result);</span>
<a href="#l402.6"></a><span id="l402.6">   },</span>
<a href="#l402.7"></a><span id="l402.7"> </span>
<a href="#l402.8"></a><span id="l402.8">   stopSearch: function() {}</span>
<a href="#l402.9"></a><span id="l402.9"> };</span>
<a href="#l402.10"></a><span id="l402.10"> </span>
<a href="#l402.11"></a><span id="l402.11"> var components = [nsAbAutoCompleteMyDomain];</span>
<a href="#l402.12"></a><span id="l402.12" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l402.13"></a><span id="l402.13" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l403.1"></a><span id="l403.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbAutoCompleteSearch.js</span>
<a href="#l403.2"></a><span id="l403.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbAutoCompleteSearch.js</span>
<a href="#l403.3"></a><span id="l403.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l403.4"></a><span id="l403.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l403.5"></a><span id="l403.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l403.6"></a><span id="l403.6"> </span>
<a href="#l403.7"></a><span id="l403.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l403.8"></a><span id="l403.8"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l403.9"></a><span id="l403.9"> Components.utils.import(&quot;resource:///modules/ABQueryUtils.jsm&quot;);</span>
<a href="#l403.10"></a><span id="l403.10"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l403.11"></a><span id="l403.11"> </span>
<a href="#l403.12"></a><span id="l403.12" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l403.13"></a><span id="l403.13" class="difflineminus">-const nsIAbAutoCompleteResult = Components.interfaces.nsIAbAutoCompleteResult;</span>
<a href="#l403.14"></a><span id="l403.14" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l403.15"></a><span id="l403.15" class="difflineplus">+var nsIAbAutoCompleteResult = Components.interfaces.nsIAbAutoCompleteResult;</span>
<a href="#l403.16"></a><span id="l403.16"> </span>
<a href="#l403.17"></a><span id="l403.17"> function nsAbAutoCompleteResult(aSearchString) {</span>
<a href="#l403.18"></a><span id="l403.18">   // Can't create this in the prototype as we'd get the same array for</span>
<a href="#l403.19"></a><span id="l403.19">   // all instances</span>
<a href="#l403.20"></a><span id="l403.20">   this._searchResults = []; // final results</span>
<a href="#l403.21"></a><span id="l403.21">   this.searchString = aSearchString;</span>
<a href="#l403.22"></a><span id="l403.22">   this._collectedValues = new Map();  // temporary unsorted results</span>
<a href="#l403.23"></a><span id="l403.23"> }</span>
<a href="#l403.24"></a><span id="l403.24" class="difflineat">@@ -438,9 +438,9 @@ nsAbAutoCompleteSearch.prototype = {</span>
<a href="#l403.25"></a><span id="l403.25"> </span>
<a href="#l403.26"></a><span id="l403.26">   QueryInterface: XPCOMUtils.generateQI([Components.interfaces</span>
<a href="#l403.27"></a><span id="l403.27">                                                    .nsIAutoCompleteSearch])</span>
<a href="#l403.28"></a><span id="l403.28"> };</span>
<a href="#l403.29"></a><span id="l403.29"> </span>
<a href="#l403.30"></a><span id="l403.30"> // Module</span>
<a href="#l403.31"></a><span id="l403.31"> </span>
<a href="#l403.32"></a><span id="l403.32"> var components = [nsAbAutoCompleteSearch];</span>
<a href="#l403.33"></a><span id="l403.33" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l403.34"></a><span id="l403.34" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l404.1"></a><span id="l404.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbLDAPAttributeMap.js</span>
<a href="#l404.2"></a><span id="l404.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbLDAPAttributeMap.js</span>
<a href="#l404.3"></a><span id="l404.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l404.4"></a><span id="l404.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l404.5"></a><span id="l404.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l404.6"></a><span id="l404.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l404.7"></a><span id="l404.7"> </span>
<a href="#l404.8"></a><span id="l404.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l404.9"></a><span id="l404.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l404.10"></a><span id="l404.10"> </span>
<a href="#l404.11"></a><span id="l404.11" class="difflineminus">-const NS_ABLDAPATTRIBUTEMAP_CID = Components.ID(</span>
<a href="#l404.12"></a><span id="l404.12" class="difflineplus">+var NS_ABLDAPATTRIBUTEMAP_CID = Components.ID(</span>
<a href="#l404.13"></a><span id="l404.13">   &quot;{127b341a-bdda-4270-85e1-edff569a9b85}&quot;);</span>
<a href="#l404.14"></a><span id="l404.14" class="difflineminus">-const NS_ABLDAPATTRIBUTEMAPSERVICE_CID = Components.ID(</span>
<a href="#l404.15"></a><span id="l404.15" class="difflineplus">+var NS_ABLDAPATTRIBUTEMAPSERVICE_CID = Components.ID(</span>
<a href="#l404.16"></a><span id="l404.16">   &quot;{4ed7d5e1-8800-40da-9e78-c4f509d7ac5e}&quot;);</span>
<a href="#l404.17"></a><span id="l404.17"> </span>
<a href="#l404.18"></a><span id="l404.18"> function nsAbLDAPAttributeMap() {</span>
<a href="#l404.19"></a><span id="l404.19">   this.mPropertyMap = {};</span>
<a href="#l404.20"></a><span id="l404.20">   this.mAttrMap = {};</span>
<a href="#l404.21"></a><span id="l404.21"> }</span>
<a href="#l404.22"></a><span id="l404.22"> </span>
<a href="#l404.23"></a><span id="l404.23"> nsAbLDAPAttributeMap.prototype = {</span>
<a href="#l404.24"></a><span id="l404.24" class="difflineat">@@ -237,10 +237,10 @@ nsAbLDAPAttributeMapService.prototype = </span>
<a href="#l404.25"></a><span id="l404.25">     // and return</span>
<a href="#l404.26"></a><span id="l404.26">     return attrMap;</span>
<a href="#l404.27"></a><span id="l404.27">   },</span>
<a href="#l404.28"></a><span id="l404.28"> </span>
<a href="#l404.29"></a><span id="l404.29">   QueryInterface: XPCOMUtils</span>
<a href="#l404.30"></a><span id="l404.30">     .generateQI([Components.interfaces.nsIAbLDAPAttributeMapService])</span>
<a href="#l404.31"></a><span id="l404.31"> }</span>
<a href="#l404.32"></a><span id="l404.32"> </span>
<a href="#l404.33"></a><span id="l404.33" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([nsAbLDAPAttributeMap, nsAbLDAPAttributeMapService]);</span>
<a href="#l404.34"></a><span id="l404.34" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([nsAbLDAPAttributeMap, nsAbLDAPAttributeMapService]);</span>
<a href="#l404.35"></a><span id="l404.35"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l405.1"></a><span id="l405.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js</span>
<a href="#l405.2"></a><span id="l405.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js</span>
<a href="#l405.3"></a><span id="l405.3" class="difflineat">@@ -2,19 +2,19 @@</span>
<a href="#l405.4"></a><span id="l405.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l405.5"></a><span id="l405.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l405.6"></a><span id="l405.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l405.7"></a><span id="l405.7"> </span>
<a href="#l405.8"></a><span id="l405.8"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l405.9"></a><span id="l405.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l405.10"></a><span id="l405.10"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l405.11"></a><span id="l405.11"> </span>
<a href="#l405.12"></a><span id="l405.12" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l405.13"></a><span id="l405.13" class="difflineminus">-const nsIAbAutoCompleteResult = Components.interfaces.nsIAbAutoCompleteResult;</span>
<a href="#l405.14"></a><span id="l405.14" class="difflineminus">-const nsIAbDirectoryQueryResultListener =</span>
<a href="#l405.15"></a><span id="l405.15" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l405.16"></a><span id="l405.16" class="difflineplus">+var nsIAbAutoCompleteResult = Components.interfaces.nsIAbAutoCompleteResult;</span>
<a href="#l405.17"></a><span id="l405.17" class="difflineplus">+var nsIAbDirectoryQueryResultListener =</span>
<a href="#l405.18"></a><span id="l405.18">   Components.interfaces.nsIAbDirectoryQueryResultListener;</span>
<a href="#l405.19"></a><span id="l405.19"> </span>
<a href="#l405.20"></a><span id="l405.20"> // nsAbLDAPAutoCompleteResult</span>
<a href="#l405.21"></a><span id="l405.21"> // Derived from nsIAbAutoCompleteResult, provides a LDAP specific result</span>
<a href="#l405.22"></a><span id="l405.22"> // implementation.</span>
<a href="#l405.23"></a><span id="l405.23"> </span>
<a href="#l405.24"></a><span id="l405.24"> function nsAbLDAPAutoCompleteResult(aSearchString) {</span>
<a href="#l405.25"></a><span id="l405.25">   // Can't create this in the prototype as we'd get the same array for</span>
<a href="#l405.26"></a><span id="l405.26" class="difflineat">@@ -317,9 +317,9 @@ nsAbLDAPAutoCompleteSearch.prototype = {</span>
<a href="#l405.27"></a><span id="l405.27">                                          Components.interfaces</span>
<a href="#l405.28"></a><span id="l405.28">                                                    .nsIAutoCompleteSearch,</span>
<a href="#l405.29"></a><span id="l405.29">                                          Components.interfaces</span>
<a href="#l405.30"></a><span id="l405.30">                                                    .nsIAbDirSearchListener])</span>
<a href="#l405.31"></a><span id="l405.31"> };</span>
<a href="#l405.32"></a><span id="l405.32"> </span>
<a href="#l405.33"></a><span id="l405.33"> // Module</span>
<a href="#l405.34"></a><span id="l405.34"> </span>
<a href="#l405.35"></a><span id="l405.35" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([nsAbLDAPAutoCompleteSearch]);</span>
<a href="#l405.36"></a><span id="l405.36" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([nsAbLDAPAutoCompleteSearch]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l406.1"></a><span id="l406.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_basic_nsIAbCard.js</span>
<a href="#l406.2"></a><span id="l406.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_basic_nsIAbCard.js</span>
<a href="#l406.3"></a><span id="l406.3" class="difflineat">@@ -1,23 +1,23 @@</span>
<a href="#l406.4"></a><span id="l406.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l406.5"></a><span id="l406.5"> /*</span>
<a href="#l406.6"></a><span id="l406.6">  * Test suite for basic nsIAbCard functions.</span>
<a href="#l406.7"></a><span id="l406.7">  */</span>
<a href="#l406.8"></a><span id="l406.8"> </span>
<a href="#l406.9"></a><span id="l406.9"> // Intersperse these with UTF-8 values to check we handle them correctly.</span>
<a href="#l406.10"></a><span id="l406.10" class="difflineminus">-const kFNValue = &quot;testFirst\u00D0&quot;;</span>
<a href="#l406.11"></a><span id="l406.11" class="difflineminus">-const kLNValue = &quot;testLast&quot;;</span>
<a href="#l406.12"></a><span id="l406.12" class="difflineminus">-const kDNValue = &quot;testDisplay\u00D1&quot;;</span>
<a href="#l406.13"></a><span id="l406.13" class="difflineminus">-const kEmailValue = &quot;testEmail\u00D2@foo.invalid&quot;;</span>
<a href="#l406.14"></a><span id="l406.14" class="difflineminus">-const kEmailValueLC = &quot;testemail\u00D2@foo.invalid&quot;;</span>
<a href="#l406.15"></a><span id="l406.15" class="difflineminus">-const kEmailValue2 = &quot;test@test.foo.invalid&quot;;</span>
<a href="#l406.16"></a><span id="l406.16" class="difflineplus">+var kFNValue = &quot;testFirst\u00D0&quot;;</span>
<a href="#l406.17"></a><span id="l406.17" class="difflineplus">+var kLNValue = &quot;testLast&quot;;</span>
<a href="#l406.18"></a><span id="l406.18" class="difflineplus">+var kDNValue = &quot;testDisplay\u00D1&quot;;</span>
<a href="#l406.19"></a><span id="l406.19" class="difflineplus">+var kEmailValue = &quot;testEmail\u00D2@foo.invalid&quot;;</span>
<a href="#l406.20"></a><span id="l406.20" class="difflineplus">+var kEmailValueLC = &quot;testemail\u00D2@foo.invalid&quot;;</span>
<a href="#l406.21"></a><span id="l406.21" class="difflineplus">+var kEmailValue2 = &quot;test@test.foo.invalid&quot;;</span>
<a href="#l406.22"></a><span id="l406.22"> // Email without the @ or anything after it.</span>
<a href="#l406.23"></a><span id="l406.23" class="difflineminus">-const kEmailReducedValue = &quot;testEmail\u00D2&quot;;</span>
<a href="#l406.24"></a><span id="l406.24" class="difflineminus">-const kCompanyValue = &quot;Test\u00D0 Company&quot;;</span>
<a href="#l406.25"></a><span id="l406.25" class="difflineplus">+var kEmailReducedValue = &quot;testEmail\u00D2&quot;;</span>
<a href="#l406.26"></a><span id="l406.26" class="difflineplus">+var kCompanyValue = &quot;Test\u00D0 Company&quot;;</span>
<a href="#l406.27"></a><span id="l406.27"> </span>
<a href="#l406.28"></a><span id="l406.28"> function run_test() {</span>
<a href="#l406.29"></a><span id="l406.29">   // Create a new card</span>
<a href="#l406.30"></a><span id="l406.30">   var card = Components.classes[&quot;@mozilla.org/addressbook/cardproperty;1&quot;]</span>
<a href="#l406.31"></a><span id="l406.31">                        .createInstance(Components.interfaces.nsIAbCard);</span>
<a href="#l406.32"></a><span id="l406.32"> </span>
<a href="#l406.33"></a><span id="l406.33">   // Test - Set First, Last and Display Names and Email Address</span>
<a href="#l406.34"></a><span id="l406.34">   // via setProperty, and check correctly saved via their</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l407.1"></a><span id="l407.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_collection.js</span>
<a href="#l407.2"></a><span id="l407.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_collection.js</span>
<a href="#l407.3"></a><span id="l407.3" class="difflineat">@@ -5,17 +5,17 @@</span>
<a href="#l407.4"></a><span id="l407.4">  * This tests the main collection functions for adding new cards and modifying</span>
<a href="#l407.5"></a><span id="l407.5">  * existing ones.</span>
<a href="#l407.6"></a><span id="l407.6">  *</span>
<a href="#l407.7"></a><span id="l407.7">  * Tests against cards in different ABs are done in test_collection_2.js.</span>
<a href="#l407.8"></a><span id="l407.8">  */</span>
<a href="#l407.9"></a><span id="l407.9"> </span>
<a href="#l407.10"></a><span id="l407.10"> // make xpcshell-tests TEST_PATH=mailnews/addrbook/test/unit/test_collection.js</span>
<a href="#l407.11"></a><span id="l407.11"> </span>
<a href="#l407.12"></a><span id="l407.12" class="difflineminus">-const nsIAbPMF = Components.interfaces.nsIAbPreferMailFormat;</span>
<a href="#l407.13"></a><span id="l407.13" class="difflineplus">+var nsIAbPMF = Components.interfaces.nsIAbPreferMailFormat;</span>
<a href="#l407.14"></a><span id="l407.14"> </span>
<a href="#l407.15"></a><span id="l407.15"> // Source fields (emailHeader/mailFormat) and expected results for use for</span>
<a href="#l407.16"></a><span id="l407.16"> // testing the addition of new addresses to the database.</span>
<a href="#l407.17"></a><span id="l407.17"> //</span>
<a href="#l407.18"></a><span id="l407.18"> // Note: these email addresses should be different to allow collecting an</span>
<a href="#l407.19"></a><span id="l407.19"> // address to add a different card each time.</span>
<a href="#l407.20"></a><span id="l407.20"> var addEmailChecks =</span>
<a href="#l407.21"></a><span id="l407.21">   // First 3 items aimed at basic collection and mail format.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l408.1"></a><span id="l408.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_collection_2.js</span>
<a href="#l408.2"></a><span id="l408.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_collection_2.js</span>
<a href="#l408.3"></a><span id="l408.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l408.4"></a><span id="l408.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l408.5"></a><span id="l408.5"> /*</span>
<a href="#l408.6"></a><span id="l408.6">  * Test suite for the Address Collector Service part 2.</span>
<a href="#l408.7"></a><span id="l408.7">  *</span>
<a href="#l408.8"></a><span id="l408.8">  * This test checks that we don't collect addresses when they already exist</span>
<a href="#l408.9"></a><span id="l408.9">  * in other address books.</span>
<a href="#l408.10"></a><span id="l408.10">  */</span>
<a href="#l408.11"></a><span id="l408.11"> </span>
<a href="#l408.12"></a><span id="l408.12" class="difflineminus">-const nsIAbPMF = Components.interfaces.nsIAbPreferMailFormat;</span>
<a href="#l408.13"></a><span id="l408.13" class="difflineplus">+var nsIAbPMF = Components.interfaces.nsIAbPreferMailFormat;</span>
<a href="#l408.14"></a><span id="l408.14"> </span>
<a href="#l408.15"></a><span id="l408.15"> function run_test()</span>
<a href="#l408.16"></a><span id="l408.16"> {</span>
<a href="#l408.17"></a><span id="l408.17">   // Test - Get the address collecter</span>
<a href="#l408.18"></a><span id="l408.18"> </span>
<a href="#l408.19"></a><span id="l408.19">   // Get the actual collecter</span>
<a href="#l408.20"></a><span id="l408.20">   var addressCollect =</span>
<a href="#l408.21"></a><span id="l408.21">     Components.classes[&quot;@mozilla.org/addressbook/services/addressCollector;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l409.1"></a><span id="l409.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_ldap1.js</span>
<a href="#l409.2"></a><span id="l409.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_ldap1.js</span>
<a href="#l409.3"></a><span id="l409.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l409.4"></a><span id="l409.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l409.5"></a><span id="l409.5"> /*</span>
<a href="#l409.6"></a><span id="l409.6">  * Test suite for basic LDAP address book functions</span>
<a href="#l409.7"></a><span id="l409.7">  */</span>
<a href="#l409.8"></a><span id="l409.8"> </span>
<a href="#l409.9"></a><span id="l409.9" class="difflineminus">-const kLDAPDirectory = 0; // defined in nsDirPrefs.h</span>
<a href="#l409.10"></a><span id="l409.10" class="difflineminus">-const kLDAPUriPrefix = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l409.11"></a><span id="l409.11" class="difflineminus">-const kLDAPTestSpec = &quot;ldap://invalidhost//dc=intranet??sub?(objectclass=*)&quot;;</span>
<a href="#l409.12"></a><span id="l409.12" class="difflineplus">+var kLDAPDirectory = 0; // defined in nsDirPrefs.h</span>
<a href="#l409.13"></a><span id="l409.13" class="difflineplus">+var kLDAPUriPrefix = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l409.14"></a><span id="l409.14" class="difflineplus">+var kLDAPTestSpec = &quot;ldap://invalidhost//dc=intranet??sub?(objectclass=*)&quot;;</span>
<a href="#l409.15"></a><span id="l409.15"> </span>
<a href="#l409.16"></a><span id="l409.16"> function run_test() {</span>
<a href="#l409.17"></a><span id="l409.17">   // If nsIAbLDAPDirectory doesn't exist in our build options, someone has</span>
<a href="#l409.18"></a><span id="l409.18">   // specified --disable-ldap</span>
<a href="#l409.19"></a><span id="l409.19">   if (!(&quot;nsIAbLDAPDirectory&quot; in Components.interfaces))</span>
<a href="#l409.20"></a><span id="l409.20">     return;</span>
<a href="#l409.21"></a><span id="l409.21"> </span>
<a href="#l409.22"></a><span id="l409.22">   // Test - Create an LDAP directory</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l410.1"></a><span id="l410.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_ldap2.js</span>
<a href="#l410.2"></a><span id="l410.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_ldap2.js</span>
<a href="#l410.3"></a><span id="l410.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l410.4"></a><span id="l410.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l410.5"></a><span id="l410.5"> /*</span>
<a href="#l410.6"></a><span id="l410.6">  * Test suite for bug 532170. LDAP address book named with cyrillic/chinese</span>
<a href="#l410.7"></a><span id="l410.7">  * letters doesn't work.</span>
<a href="#l410.8"></a><span id="l410.8">  */</span>
<a href="#l410.9"></a><span id="l410.9"> </span>
<a href="#l410.10"></a><span id="l410.10" class="difflineminus">-const kLDAPDirectory = 0; // defined in nsDirPrefs.h</span>
<a href="#l410.11"></a><span id="l410.11" class="difflineminus">-const kLDAPUriPrefix = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l410.12"></a><span id="l410.12" class="difflineminus">-const kLDAPTestSpec = &quot;ldap://invalidhost//dc=intranet??sub?(objectclass=*)&quot;;</span>
<a href="#l410.13"></a><span id="l410.13" class="difflineplus">+var kLDAPDirectory = 0; // defined in nsDirPrefs.h</span>
<a href="#l410.14"></a><span id="l410.14" class="difflineplus">+var kLDAPUriPrefix = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l410.15"></a><span id="l410.15" class="difflineplus">+var kLDAPTestSpec = &quot;ldap://invalidhost//dc=intranet??sub?(objectclass=*)&quot;;</span>
<a href="#l410.16"></a><span id="l410.16"> </span>
<a href="#l410.17"></a><span id="l410.17"> function run_test() {</span>
<a href="#l410.18"></a><span id="l410.18">   // If nsIAbLDAPDirectory doesn't exist in our build options, someone has</span>
<a href="#l410.19"></a><span id="l410.19">   // specified --disable-ldap</span>
<a href="#l410.20"></a><span id="l410.20">   if (!(&quot;nsIAbLDAPDirectory&quot; in Components.interfaces))</span>
<a href="#l410.21"></a><span id="l410.21">     return;</span>
<a href="#l410.22"></a><span id="l410.22"> </span>
<a href="#l410.23"></a><span id="l410.23">   // Test - Create an LDAP directory</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l411.1"></a><span id="l411.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_ldapOffline.js</span>
<a href="#l411.2"></a><span id="l411.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_ldapOffline.js</span>
<a href="#l411.3"></a><span id="l411.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l411.4"></a><span id="l411.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l411.5"></a><span id="l411.5"> /*</span>
<a href="#l411.6"></a><span id="l411.6">  * Test suite to check that we correctly get child cards for LDAP directories</span>
<a href="#l411.7"></a><span id="l411.7">  * when offline and that we don't crash.</span>
<a href="#l411.8"></a><span id="l411.8">  */</span>
<a href="#l411.9"></a><span id="l411.9"> </span>
<a href="#l411.10"></a><span id="l411.10" class="difflineminus">-const kLDAPDirectory = 0; // defined in nsDirPrefs.h</span>
<a href="#l411.11"></a><span id="l411.11" class="difflineminus">-const kLDAPUriPrefix = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l411.12"></a><span id="l411.12" class="difflineminus">-const kLDAPTestSpec = &quot;ldap://invalidhost//dc=intranet??sub?(objectclass=*)&quot;;</span>
<a href="#l411.13"></a><span id="l411.13" class="difflineplus">+var kLDAPDirectory = 0; // defined in nsDirPrefs.h</span>
<a href="#l411.14"></a><span id="l411.14" class="difflineplus">+var kLDAPUriPrefix = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l411.15"></a><span id="l411.15" class="difflineplus">+var kLDAPTestSpec = &quot;ldap://invalidhost//dc=intranet??sub?(objectclass=*)&quot;;</span>
<a href="#l411.16"></a><span id="l411.16"> </span>
<a href="#l411.17"></a><span id="l411.17"> // Main function for the this test so we can check both personal and</span>
<a href="#l411.18"></a><span id="l411.18"> // collected books work correctly in an easy manner.</span>
<a href="#l411.19"></a><span id="l411.19"> function run_test() {</span>
<a href="#l411.20"></a><span id="l411.20">   // If nsIAbLDAPDirectory doesn't exist in our build options, someone has</span>
<a href="#l411.21"></a><span id="l411.21">   // specified --disable-ldap</span>
<a href="#l411.22"></a><span id="l411.22">   if (!(&quot;nsIAbLDAPDirectory&quot; in Ci))</span>
<a href="#l411.23"></a><span id="l411.23">     return;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l412.1"></a><span id="l412.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbAutoCompleteMyDomain.js</span>
<a href="#l412.2"></a><span id="l412.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbAutoCompleteMyDomain.js</span>
<a href="#l412.3"></a><span id="l412.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l412.4"></a><span id="l412.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l412.5"></a><span id="l412.5"> /*</span>
<a href="#l412.6"></a><span id="l412.6">  * Test suite for nsAbAutoCompleteSearch</span>
<a href="#l412.7"></a><span id="l412.7">  */</span>
<a href="#l412.8"></a><span id="l412.8"> </span>
<a href="#l412.9"></a><span id="l412.9" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l412.10"></a><span id="l412.10" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l412.11"></a><span id="l412.11"> </span>
<a href="#l412.12"></a><span id="l412.12"> function acObserver() {}</span>
<a href="#l412.13"></a><span id="l412.13"> </span>
<a href="#l412.14"></a><span id="l412.14"> acObserver.prototype = {</span>
<a href="#l412.15"></a><span id="l412.15">   _search: null,</span>
<a href="#l412.16"></a><span id="l412.16">   _result: null,</span>
<a href="#l412.17"></a><span id="l412.17"> </span>
<a href="#l412.18"></a><span id="l412.18">   onSearchResult: function (aSearch, aResult) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l413.1"></a><span id="l413.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js</span>
<a href="#l413.2"></a><span id="l413.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js</span>
<a href="#l413.3"></a><span id="l413.3" class="difflineat">@@ -1,101 +1,101 @@</span>
<a href="#l413.4"></a><span id="l413.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l413.5"></a><span id="l413.5"> /*</span>
<a href="#l413.6"></a><span id="l413.6">  * First test suite for nsAbAutoCompleteSearch - tests searching in address</span>
<a href="#l413.7"></a><span id="l413.7">  * books for autocomplete matches, and checks sort order is correct (without</span>
<a href="#l413.8"></a><span id="l413.8">  * popularity checks).</span>
<a href="#l413.9"></a><span id="l413.9">  */</span>
<a href="#l413.10"></a><span id="l413.10"> </span>
<a href="#l413.11"></a><span id="l413.11" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l413.12"></a><span id="l413.12" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l413.13"></a><span id="l413.13"> </span>
<a href="#l413.14"></a><span id="l413.14"> // Input and results arrays for the autocomplete tests. This are potentially</span>
<a href="#l413.15"></a><span id="l413.15"> // more complicated than really required, but it was easier to do them</span>
<a href="#l413.16"></a><span id="l413.16"> // on a pattern rather just doing the odd spot check.</span>
<a href="#l413.17"></a><span id="l413.17"> //</span>
<a href="#l413.18"></a><span id="l413.18"> // Note the expected arrays are in expected sort order as well.</span>
<a href="#l413.19"></a><span id="l413.19" class="difflineminus">-const results = [ { email: &quot;d &lt;ema@foo.invalid&gt;&quot;, dirName: kPABData.dirName }, // 0</span>
<a href="#l413.20"></a><span id="l413.20" class="difflineplus">+var results = [ { email: &quot;d &lt;ema@foo.invalid&gt;&quot;, dirName: kPABData.dirName }, // 0</span>
<a href="#l413.21"></a><span id="l413.21">                   { email: &quot;di &lt;emai@foo.invalid&gt;&quot;, dirName: kPABData.dirName }, // 1</span>
<a href="#l413.22"></a><span id="l413.22">                   { email: &quot;dis &lt;email@foo.invalid&gt;&quot;, dirName: kPABData.dirName }, // 2</span>
<a href="#l413.23"></a><span id="l413.23">                   { email: &quot;disp &lt;e@foo.invalid&gt;&quot;, dirName: kPABData.dirName }, // 3</span>
<a href="#l413.24"></a><span id="l413.24">                   { email: &quot;displ &lt;em@foo.invalid&gt;&quot;, dirName: kPABData.dirName }, // 4</span>
<a href="#l413.25"></a><span id="l413.25">                   { email: &quot;DisplayName1 &lt;PrimaryEmail1@test.invalid&gt;&quot;, // 5</span>
<a href="#l413.26"></a><span id="l413.26">                     dirName: kCABData.dirName },</span>
<a href="#l413.27"></a><span id="l413.27">                   { email: &quot;t &lt;list&gt;&quot;, dirName: kPABData.dirName }, // 6</span>
<a href="#l413.28"></a><span id="l413.28">                   { email: &quot;te &lt;lis&gt;&quot;, dirName: kPABData.dirName }, // 7</span>
<a href="#l413.29"></a><span id="l413.29">                   { email: &quot;tes &lt;li&gt;&quot;, dirName: kPABData.dirName }, // 8</span>
<a href="#l413.30"></a><span id="l413.30">                    // this contact has a nickname of &quot;abcdef&quot;</span>
<a href="#l413.31"></a><span id="l413.31">                   { email: &quot;test &lt;l&gt;&quot;, dirName: kPABData.dirName } // 9</span>
<a href="#l413.32"></a><span id="l413.32">                 ];</span>
<a href="#l413.33"></a><span id="l413.33" class="difflineminus">-const firstNames = [ { search: &quot;f&quot;,      expected: [0, 1, 2, 3, 4, 5, 9] },</span>
<a href="#l413.34"></a><span id="l413.34" class="difflineplus">+var firstNames = [ { search: &quot;f&quot;,      expected: [0, 1, 2, 3, 4, 5, 9] },</span>
<a href="#l413.35"></a><span id="l413.35">                      { search: &quot;fi&quot;,     expected: [0, 1, 3, 4, 5] },</span>
<a href="#l413.36"></a><span id="l413.36">                      { search: &quot;fir&quot;,    expected: [0, 1, 4, 5] },</span>
<a href="#l413.37"></a><span id="l413.37">                      { search: &quot;firs&quot;,   expected: [0, 1, 5] },</span>
<a href="#l413.38"></a><span id="l413.38">                      { search: &quot;first&quot;,  expected: [1, 5] },</span>
<a href="#l413.39"></a><span id="l413.39">                      { search: &quot;firstn&quot;, expected: [5] } ];</span>
<a href="#l413.40"></a><span id="l413.40"> </span>
<a href="#l413.41"></a><span id="l413.41" class="difflineminus">-const lastNames = [ { search: &quot;l&quot;,      expected: [6, 7, 8, 9, 0, 1, 2, 3, 4, 5] },</span>
<a href="#l413.42"></a><span id="l413.42" class="difflineplus">+var lastNames = [ { search: &quot;l&quot;,      expected: [6, 7, 8, 9, 0, 1, 2, 3, 4, 5] },</span>
<a href="#l413.43"></a><span id="l413.43">                     { search: &quot;la&quot;,     expected: [0, 2, 3, 4, 5] },</span>
<a href="#l413.44"></a><span id="l413.44">                     { search: &quot;las&quot;,    expected: [0, 3, 4, 5] },</span>
<a href="#l413.45"></a><span id="l413.45">                     { search: &quot;last&quot;,   expected: [0, 4, 5] },</span>
<a href="#l413.46"></a><span id="l413.46">                     { search: &quot;lastn&quot;,  expected: [0, 5] },</span>
<a href="#l413.47"></a><span id="l413.47">                     { search: &quot;lastna&quot;, expected: [5]} ];</span>
<a href="#l413.48"></a><span id="l413.48"> </span>
<a href="#l413.49"></a><span id="l413.49" class="difflineminus">-const displayNames = [ { search: &quot;d&quot;,      expected: [0, 1, 2, 3, 4, 5, 9] },</span>
<a href="#l413.50"></a><span id="l413.50" class="difflineplus">+var displayNames = [ { search: &quot;d&quot;,      expected: [0, 1, 2, 3, 4, 5, 9] },</span>
<a href="#l413.51"></a><span id="l413.51">                        { search: &quot;di&quot;,     expected: [1, 2, 3, 4, 5] },</span>
<a href="#l413.52"></a><span id="l413.52">                        { search: &quot;dis&quot;,    expected: [2, 3, 4, 5] },</span>
<a href="#l413.53"></a><span id="l413.53">                        { search: &quot;disp&quot;,   expected: [3, 4, 5]},</span>
<a href="#l413.54"></a><span id="l413.54">                        { search: &quot;displ&quot;,  expected: [4, 5]},</span>
<a href="#l413.55"></a><span id="l413.55">                        { search: &quot;displa&quot;, expected: [5]} ];</span>
<a href="#l413.56"></a><span id="l413.56"> </span>
<a href="#l413.57"></a><span id="l413.57" class="difflineminus">-const nickNames = [ { search: &quot;n&quot;,      expected: [4, 0, 1, 2, 3, 5] },</span>
<a href="#l413.58"></a><span id="l413.58" class="difflineplus">+var nickNames = [ { search: &quot;n&quot;,      expected: [4, 0, 1, 2, 3, 5] },</span>
<a href="#l413.59"></a><span id="l413.59">                     { search: &quot;ni&quot;,     expected: [0, 1, 2, 3, 5] },</span>
<a href="#l413.60"></a><span id="l413.60">                     { search: &quot;nic&quot;,    expected: [1, 2, 3, 5] },</span>
<a href="#l413.61"></a><span id="l413.61">                     { search: &quot;nick&quot;,   expected: [2, 3, 5] },</span>
<a href="#l413.62"></a><span id="l413.62">                     { search: &quot;nickn&quot;,  expected: [3, 5] },</span>
<a href="#l413.63"></a><span id="l413.63">                     { search: &quot;nickna&quot;, expected: [5] } ];</span>
<a href="#l413.64"></a><span id="l413.64"> </span>
<a href="#l413.65"></a><span id="l413.65" class="difflineminus">-const emails = [ { search: &quot;e&quot;,     expected: [0, 1, 2, 3, 4, 5, 7, 8, 9] },</span>
<a href="#l413.66"></a><span id="l413.66" class="difflineplus">+var emails = [ { search: &quot;e&quot;,     expected: [0, 1, 2, 3, 4, 5, 7, 8, 9] },</span>
<a href="#l413.67"></a><span id="l413.67">                  { search: &quot;em&quot;,    expected: [0, 1, 2, 4, 5] },</span>
<a href="#l413.68"></a><span id="l413.68">                  { search: &quot;ema&quot;,   expected: [0, 1, 2, 5] },</span>
<a href="#l413.69"></a><span id="l413.69">                  { search: &quot;emai&quot;,  expected: [1, 2, 5] },</span>
<a href="#l413.70"></a><span id="l413.70">                  { search: &quot;email&quot;, expected: [2, 5] } ];</span>
<a href="#l413.71"></a><span id="l413.71"> </span>
<a href="#l413.72"></a><span id="l413.72"> // &quot;l&quot; case tested above</span>
<a href="#l413.73"></a><span id="l413.73" class="difflineminus">-const lists = [ { search: &quot;li&quot;, expected: [6, 7, 8, 0, 1, 2, 3, 4, 5] },</span>
<a href="#l413.74"></a><span id="l413.74" class="difflineplus">+var lists = [ { search: &quot;li&quot;, expected: [6, 7, 8, 0, 1, 2, 3, 4, 5] },</span>
<a href="#l413.75"></a><span id="l413.75">                 { search: &quot;lis&quot;, expected: [6, 7] },</span>
<a href="#l413.76"></a><span id="l413.76">                 { search: &quot;list&quot;, expected: [6] },</span>
<a href="#l413.77"></a><span id="l413.77">                 { search: &quot;t&quot;, expected: [6, 7, 8, 9, 0, 1, 4, 5] },</span>
<a href="#l413.78"></a><span id="l413.78">                 { search: &quot;te&quot;, expected: [7, 8, 9, 5] },</span>
<a href="#l413.79"></a><span id="l413.79">                 { search: &quot;tes&quot;, expected: [8, 9, 5] },</span>
<a href="#l413.80"></a><span id="l413.80">                 { search: &quot;test&quot;, expected: [9, 5] },</span>
<a href="#l413.81"></a><span id="l413.81">                 { search: &quot;abcdef&quot;, expected: [9] } // Bug 441586</span>
<a href="#l413.82"></a><span id="l413.82">               ];</span>
<a href="#l413.83"></a><span id="l413.83"> </span>
<a href="#l413.84"></a><span id="l413.84" class="difflineminus">-const bothNames = [ { search: &quot;f l&quot;,            expected: [0, 1, 2, 3, 4, 5, 9] },</span>
<a href="#l413.85"></a><span id="l413.85" class="difflineplus">+var bothNames = [ { search: &quot;f l&quot;,            expected: [0, 1, 2, 3, 4, 5, 9] },</span>
<a href="#l413.86"></a><span id="l413.86">                     { search: &quot;l f&quot;,            expected: [0, 1, 2, 3, 4, 5, 9] },</span>
<a href="#l413.87"></a><span id="l413.87">                     { search: &quot;firstn lastna&quot;,  expected: [5] },</span>
<a href="#l413.88"></a><span id="l413.88">                     { search: &quot;lastna firstna&quot;, expected: [5] } ];</span>
<a href="#l413.89"></a><span id="l413.89"> </span>
<a href="#l413.90"></a><span id="l413.90" class="difflineminus">-const inputs = [ firstNames, lastNames, displayNames, nickNames, emails,</span>
<a href="#l413.91"></a><span id="l413.91" class="difflineplus">+var inputs = [ firstNames, lastNames, displayNames, nickNames, emails,</span>
<a href="#l413.92"></a><span id="l413.92">                  lists, bothNames ];</span>
<a href="#l413.93"></a><span id="l413.93"> </span>
<a href="#l413.94"></a><span id="l413.94"> function acObserver() {}</span>
<a href="#l413.95"></a><span id="l413.95"> </span>
<a href="#l413.96"></a><span id="l413.96"> acObserver.prototype = {</span>
<a href="#l413.97"></a><span id="l413.97">   _search: null,</span>
<a href="#l413.98"></a><span id="l413.98">   _result: null,</span>
<a href="#l413.99"></a><span id="l413.99"> </span>
<a href="#l413.100"></a><span id="l413.100">   onSearchResult: function (aSearch, aResult) {</span>
<a href="#l413.101"></a><span id="l413.101">     this._search = aSearch;</span>
<a href="#l413.102"></a><span id="l413.102">     this._result = aResult;</span>
<a href="#l413.103"></a><span id="l413.103">   }</span>
<a href="#l413.104"></a><span id="l413.104"> };</span>
<a href="#l413.105"></a><span id="l413.105"> </span>
<a href="#l413.106"></a><span id="l413.106" class="difflineminus">-const PAB_CARD_DATA = [</span>
<a href="#l413.107"></a><span id="l413.107" class="difflineplus">+var PAB_CARD_DATA = [</span>
<a href="#l413.108"></a><span id="l413.108">   {</span>
<a href="#l413.109"></a><span id="l413.109">     &quot;FirstName&quot;: &quot;firs&quot;,</span>
<a href="#l413.110"></a><span id="l413.110">     &quot;LastName&quot;: &quot;lastn&quot;,</span>
<a href="#l413.111"></a><span id="l413.111">     &quot;DisplayName&quot;: &quot;d&quot;,</span>
<a href="#l413.112"></a><span id="l413.112">     &quot;NickName&quot;: &quot;ni&quot;,</span>
<a href="#l413.113"></a><span id="l413.113">     &quot;PrimaryEmail&quot;: &quot;ema@foo.invalid&quot;,</span>
<a href="#l413.114"></a><span id="l413.114">     &quot;PreferDisplayName&quot;: true,</span>
<a href="#l413.115"></a><span id="l413.115">     &quot;PopularityIndex&quot;: 0</span>
<a href="#l413.116"></a><span id="l413.116" class="difflineat">@@ -133,17 +133,17 @@ const PAB_CARD_DATA = [</span>
<a href="#l413.117"></a><span id="l413.117">     &quot;DisplayName&quot;: &quot;displ&quot;,</span>
<a href="#l413.118"></a><span id="l413.118">     &quot;NickName&quot;: &quot;n&quot;,</span>
<a href="#l413.119"></a><span id="l413.119">     &quot;PrimaryEmail&quot;: &quot;em@foo.invalid&quot;,</span>
<a href="#l413.120"></a><span id="l413.120">     &quot;PreferDisplayName&quot;: true,</span>
<a href="#l413.121"></a><span id="l413.121">     &quot;PopularityIndex&quot;: 0</span>
<a href="#l413.122"></a><span id="l413.122">   }</span>
<a href="#l413.123"></a><span id="l413.123"> ];</span>
<a href="#l413.124"></a><span id="l413.124"> </span>
<a href="#l413.125"></a><span id="l413.125" class="difflineminus">-const PAB_LIST_DATA =  [</span>
<a href="#l413.126"></a><span id="l413.126" class="difflineplus">+var PAB_LIST_DATA =  [</span>
<a href="#l413.127"></a><span id="l413.127">   {</span>
<a href="#l413.128"></a><span id="l413.128">     &quot;dirName&quot; : &quot;t&quot;,</span>
<a href="#l413.129"></a><span id="l413.129">     &quot;listNickName&quot;: null,</span>
<a href="#l413.130"></a><span id="l413.130">     &quot;description&quot;: &quot;list&quot;</span>
<a href="#l413.131"></a><span id="l413.131">   },</span>
<a href="#l413.132"></a><span id="l413.132">   {</span>
<a href="#l413.133"></a><span id="l413.133">     &quot;dirName&quot; : &quot;te&quot;,</span>
<a href="#l413.134"></a><span id="l413.134">     &quot;listNickName&quot;: null,</span>
<a href="#l413.135"></a><span id="l413.135" class="difflineat">@@ -156,17 +156,17 @@ const PAB_LIST_DATA =  [</span>
<a href="#l413.136"></a><span id="l413.136">   },</span>
<a href="#l413.137"></a><span id="l413.137">   {</span>
<a href="#l413.138"></a><span id="l413.138">     &quot;dirName&quot; : &quot;test&quot;,</span>
<a href="#l413.139"></a><span id="l413.139">     &quot;listNickName&quot;: &quot;abcdef&quot;,</span>
<a href="#l413.140"></a><span id="l413.140">     &quot;description&quot;: &quot;l&quot;</span>
<a href="#l413.141"></a><span id="l413.141">   }</span>
<a href="#l413.142"></a><span id="l413.142"> ];</span>
<a href="#l413.143"></a><span id="l413.143"> </span>
<a href="#l413.144"></a><span id="l413.144" class="difflineminus">-const CAB_CARD_DATA = [</span>
<a href="#l413.145"></a><span id="l413.145" class="difflineplus">+var CAB_CARD_DATA = [</span>
<a href="#l413.146"></a><span id="l413.146">   {</span>
<a href="#l413.147"></a><span id="l413.147">     &quot;FirstName&quot;: &quot;FirstName1&quot;,</span>
<a href="#l413.148"></a><span id="l413.148">     &quot;LastName&quot;: &quot;LastName1&quot;,</span>
<a href="#l413.149"></a><span id="l413.149">     &quot;DisplayName&quot;: &quot;DisplayName1&quot;,</span>
<a href="#l413.150"></a><span id="l413.150">     &quot;NickName&quot;: &quot;NickName1&quot;,</span>
<a href="#l413.151"></a><span id="l413.151">     &quot;PrimaryEmail&quot;: &quot;PrimaryEmail1@test.invalid&quot;,</span>
<a href="#l413.152"></a><span id="l413.152">     &quot;PreferDisplayName&quot;: true,</span>
<a href="#l413.153"></a><span id="l413.153">     &quot;PopularityIndex&quot;: 0</span>
<a href="#l413.154"></a><span id="l413.154" class="difflineat">@@ -175,19 +175,19 @@ const CAB_CARD_DATA = [</span>
<a href="#l413.155"></a><span id="l413.155">     &quot;FirstName&quot;: &quot;Empty&quot;,</span>
<a href="#l413.156"></a><span id="l413.156">     &quot;LastName&quot;: &quot;Email&quot;,</span>
<a href="#l413.157"></a><span id="l413.157">     &quot;DisplayName&quot;: &quot;Empty Email&quot;,</span>
<a href="#l413.158"></a><span id="l413.158">     &quot;PreferDisplayName&quot;: true,</span>
<a href="#l413.159"></a><span id="l413.159">     &quot;PopularityIndex&quot;: 0</span>
<a href="#l413.160"></a><span id="l413.160">   }</span>
<a href="#l413.161"></a><span id="l413.161"> ];</span>
<a href="#l413.162"></a><span id="l413.162"> </span>
<a href="#l413.163"></a><span id="l413.163" class="difflineminus">-const CAB_LIST_DATA = [];</span>
<a href="#l413.164"></a><span id="l413.164" class="difflineplus">+var CAB_LIST_DATA = [];</span>
<a href="#l413.165"></a><span id="l413.165"> </span>
<a href="#l413.166"></a><span id="l413.166" class="difflineminus">-const ABMDB_PREFIX = &quot;moz-abmdbdirectory://&quot;;</span>
<a href="#l413.167"></a><span id="l413.167" class="difflineplus">+var ABMDB_PREFIX = &quot;moz-abmdbdirectory://&quot;;</span>
<a href="#l413.168"></a><span id="l413.168"> </span>
<a href="#l413.169"></a><span id="l413.169"> function setupAddressBookData(aDirURI, aCardData, aMailListData) {</span>
<a href="#l413.170"></a><span id="l413.170">   let ab = MailServices.ab.getDirectory(aDirURI);</span>
<a href="#l413.171"></a><span id="l413.171"> </span>
<a href="#l413.172"></a><span id="l413.172">   // Getting all directories ensures we create all ABs because mailing</span>
<a href="#l413.173"></a><span id="l413.173">   // lists need help initialising themselves</span>
<a href="#l413.174"></a><span id="l413.174">   MailServices.ab.directories;</span>
<a href="#l413.175"></a><span id="l413.175"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l414.1"></a><span id="l414.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js</span>
<a href="#l414.2"></a><span id="l414.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js</span>
<a href="#l414.3"></a><span id="l414.3" class="difflineat">@@ -4,18 +4,18 @@</span>
<a href="#l414.4"></a><span id="l414.4">  * a previous search.</span>
<a href="#l414.5"></a><span id="l414.5">  *</span>
<a href="#l414.6"></a><span id="l414.6">  * We run this test without address books, constructing manually ourselves,</span>
<a href="#l414.7"></a><span id="l414.7">  * so that we can ensure that we're not getting the data out of the address</span>
<a href="#l414.8"></a><span id="l414.8">  * books.</span>
<a href="#l414.9"></a><span id="l414.9">  */</span>
<a href="#l414.10"></a><span id="l414.10"> </span>
<a href="#l414.11"></a><span id="l414.11"> // taken from nsAbAutoCompleteSearch.js</span>
<a href="#l414.12"></a><span id="l414.12" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l414.13"></a><span id="l414.13" class="difflineminus">-const nsIAbAutoCompleteResult = Components.interfaces.nsIAbAutoCompleteResult;</span>
<a href="#l414.14"></a><span id="l414.14" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l414.15"></a><span id="l414.15" class="difflineplus">+var nsIAbAutoCompleteResult = Components.interfaces.nsIAbAutoCompleteResult;</span>
<a href="#l414.16"></a><span id="l414.16"> </span>
<a href="#l414.17"></a><span id="l414.17"> function nsAbAutoCompleteResult(aSearchString) {</span>
<a href="#l414.18"></a><span id="l414.18">   // Can't create this in the prototype as we'd get the same array for</span>
<a href="#l414.19"></a><span id="l414.19">   // all instances</span>
<a href="#l414.20"></a><span id="l414.20">   this._searchResults = new Array();</span>
<a href="#l414.21"></a><span id="l414.21">   this.searchString = aSearchString;</span>
<a href="#l414.22"></a><span id="l414.22"> }</span>
<a href="#l414.23"></a><span id="l414.23"> </span>
<a href="#l414.24"></a><span id="l414.24" class="difflineat">@@ -84,58 +84,58 @@ function createCard(chars, popularity) {</span>
<a href="#l414.25"></a><span id="l414.25">   card.lastName = &quot;lastName&quot;.slice(0, chars);</span>
<a href="#l414.26"></a><span id="l414.26">   card.displayName = &quot;displayName&quot;.slice(0, chars);</span>
<a href="#l414.27"></a><span id="l414.27">   card.primaryEmail = &quot;email&quot;.slice(0, chars) + &quot;@foo.invalid&quot;;</span>
<a href="#l414.28"></a><span id="l414.28">   card.setProperty(&quot;NickName&quot;, &quot;nickName&quot;.slice(0, chars));</span>
<a href="#l414.29"></a><span id="l414.29"> </span>
<a href="#l414.30"></a><span id="l414.30">   return card;</span>
<a href="#l414.31"></a><span id="l414.31"> }</span>
<a href="#l414.32"></a><span id="l414.32"> </span>
<a href="#l414.33"></a><span id="l414.33" class="difflineminus">-const lastSearchCards = [ createCard(1, 0), createCard(2, 0), createCard(3, 0) ];</span>
<a href="#l414.34"></a><span id="l414.34" class="difflineplus">+var lastSearchCards = [ createCard(1, 0), createCard(2, 0), createCard(3, 0) ];</span>
<a href="#l414.35"></a><span id="l414.35"> </span>
<a href="#l414.36"></a><span id="l414.36" class="difflineminus">-const results = [ { email: &quot;d &lt;e@foo.invalid&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l414.37"></a><span id="l414.37" class="difflineplus">+var results = [ { email: &quot;d &lt;e@foo.invalid&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l414.38"></a><span id="l414.38">                   { email: &quot;di &lt;em@foo.invalid&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l414.39"></a><span id="l414.39">                   { email: &quot;dis &lt;ema@foo.invalid&gt;&quot;, dirName: kPABData.dirName } ];</span>
<a href="#l414.40"></a><span id="l414.40"> </span>
<a href="#l414.41"></a><span id="l414.41" class="difflineminus">-const firstNames = [ { search: &quot;fi&quot;,     expected: [1, 2] },</span>
<a href="#l414.42"></a><span id="l414.42" class="difflineplus">+var firstNames = [ { search: &quot;fi&quot;,     expected: [1, 2] },</span>
<a href="#l414.43"></a><span id="l414.43">                      { search: &quot;fir&quot;,    expected: [2] } ];</span>
<a href="#l414.44"></a><span id="l414.44"> </span>
<a href="#l414.45"></a><span id="l414.45" class="difflineminus">-const lastNames = [ { search: &quot;la&quot;,     expected: [1, 2] },</span>
<a href="#l414.46"></a><span id="l414.46" class="difflineplus">+var lastNames = [ { search: &quot;la&quot;,     expected: [1, 2] },</span>
<a href="#l414.47"></a><span id="l414.47">                     { search: &quot;las&quot;,    expected: [2] } ];</span>
<a href="#l414.48"></a><span id="l414.48"> </span>
<a href="#l414.49"></a><span id="l414.49" class="difflineminus">-const displayNames = [ { search: &quot;d&quot;,      expected: [5, 0, 1, 2, 3, 4] },</span>
<a href="#l414.50"></a><span id="l414.50" class="difflineplus">+var displayNames = [ { search: &quot;d&quot;,      expected: [5, 0, 1, 2, 3, 4] },</span>
<a href="#l414.51"></a><span id="l414.51">                        { search: &quot;di&quot;,     expected: [5, 1, 2, 3, 4] },</span>
<a href="#l414.52"></a><span id="l414.52">                        { search: &quot;dis&quot;,    expected: [5, 2, 3, 4] },</span>
<a href="#l414.53"></a><span id="l414.53">                        { search: &quot;disp&quot;,   expected: [5, 3, 4]},</span>
<a href="#l414.54"></a><span id="l414.54">                        { search: &quot;displ&quot;,  expected: [5, 4]},</span>
<a href="#l414.55"></a><span id="l414.55">                        { search: &quot;displa&quot;, expected: [5]} ];</span>
<a href="#l414.56"></a><span id="l414.56"> </span>
<a href="#l414.57"></a><span id="l414.57" class="difflineminus">-const nickNames = [ { search: &quot;n&quot;,      expected: [5, 0, 1, 2, 3, 4] },</span>
<a href="#l414.58"></a><span id="l414.58" class="difflineplus">+var nickNames = [ { search: &quot;n&quot;,      expected: [5, 0, 1, 2, 3, 4] },</span>
<a href="#l414.59"></a><span id="l414.59">                     { search: &quot;ni&quot;,     expected: [5, 0, 1, 2, 3] },</span>
<a href="#l414.60"></a><span id="l414.60">                     { search: &quot;nic&quot;,    expected: [5, 1, 2, 3] },</span>
<a href="#l414.61"></a><span id="l414.61">                     { search: &quot;nick&quot;,   expected: [5, 2, 3] },</span>
<a href="#l414.62"></a><span id="l414.62">                     { search: &quot;nickn&quot;,  expected: [5, 3] },</span>
<a href="#l414.63"></a><span id="l414.63">                     { search: &quot;nickna&quot;, expected: [5] } ];</span>
<a href="#l414.64"></a><span id="l414.64"> </span>
<a href="#l414.65"></a><span id="l414.65" class="difflineminus">-const emails = [ { search: &quot;e&quot;,     expected: [0, 1, 2, 3, 4] },</span>
<a href="#l414.66"></a><span id="l414.66" class="difflineplus">+var emails = [ { search: &quot;e&quot;,     expected: [0, 1, 2, 3, 4] },</span>
<a href="#l414.67"></a><span id="l414.67">                  { search: &quot;em&quot;,    expected: [0, 1, 2, 4] },</span>
<a href="#l414.68"></a><span id="l414.68">                  { search: &quot;ema&quot;,   expected: [0, 1, 2] },</span>
<a href="#l414.69"></a><span id="l414.69">                  { search: &quot;emai&quot;,  expected: [1, 2] },</span>
<a href="#l414.70"></a><span id="l414.70">                  { search: &quot;email&quot;, expected: [2] } ];</span>
<a href="#l414.71"></a><span id="l414.71"> </span>
<a href="#l414.72"></a><span id="l414.72"> // &quot;l&quot; case tested above</span>
<a href="#l414.73"></a><span id="l414.73" class="difflineminus">-const lists = [ { search: &quot;li&quot;, expected: [6, 7, 8] },</span>
<a href="#l414.74"></a><span id="l414.74" class="difflineplus">+var lists = [ { search: &quot;li&quot;, expected: [6, 7, 8] },</span>
<a href="#l414.75"></a><span id="l414.75">                 { search: &quot;lis&quot;, expected: [6, 7] },</span>
<a href="#l414.76"></a><span id="l414.76">                 { search: &quot;list&quot;, expected: [6] },</span>
<a href="#l414.77"></a><span id="l414.77">                 { search: &quot;t&quot;, expected: [6, 7, 8, 9] },</span>
<a href="#l414.78"></a><span id="l414.78">                 { search: &quot;te&quot;, expected: [7, 8, 9] },</span>
<a href="#l414.79"></a><span id="l414.79">                 { search: &quot;tes&quot;, expected: [8, 9] },</span>
<a href="#l414.80"></a><span id="l414.80">                 { search: &quot;test&quot;, expected: [9] } ];</span>
<a href="#l414.81"></a><span id="l414.81"> </span>
<a href="#l414.82"></a><span id="l414.82" class="difflineminus">-const inputs = [ firstNames, lastNames];//, displayNames, nickNames, emails, lists ];</span>
<a href="#l414.83"></a><span id="l414.83" class="difflineplus">+var inputs = [ firstNames, lastNames];//, displayNames, nickNames, emails, lists ];</span>
<a href="#l414.84"></a><span id="l414.84"> </span>
<a href="#l414.85"></a><span id="l414.85"> function acObserver() {}</span>
<a href="#l414.86"></a><span id="l414.86"> </span>
<a href="#l414.87"></a><span id="l414.87"> acObserver.prototype = {</span>
<a href="#l414.88"></a><span id="l414.88">   _search: null,</span>
<a href="#l414.89"></a><span id="l414.89">   _result: null,</span>
<a href="#l414.90"></a><span id="l414.90"> </span>
<a href="#l414.91"></a><span id="l414.91">   onSearchResult: function (aSearch, aResult) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l415.1"></a><span id="l415.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch3.js</span>
<a href="#l415.2"></a><span id="l415.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch3.js</span>
<a href="#l415.3"></a><span id="l415.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l415.4"></a><span id="l415.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l415.5"></a><span id="l415.5"> /*</span>
<a href="#l415.6"></a><span id="l415.6">  * Third Test suite for nsAbAutoCompleteSearch - test for duplicate elimination</span>
<a href="#l415.7"></a><span id="l415.7">  */</span>
<a href="#l415.8"></a><span id="l415.8"> </span>
<a href="#l415.9"></a><span id="l415.9" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l415.10"></a><span id="l415.10" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l415.11"></a><span id="l415.11"> </span>
<a href="#l415.12"></a><span id="l415.12" class="difflineminus">-const cards = [</span>
<a href="#l415.13"></a><span id="l415.13" class="difflineplus">+var cards = [</span>
<a href="#l415.14"></a><span id="l415.14">   { email: &quot;test@foo.invalid&quot;, displayName: &quot;&quot;,</span>
<a href="#l415.15"></a><span id="l415.15">     popularityIndex: 0, firstName: &quot;test0&quot;, value: &quot;test@foo.invalid&quot; },</span>
<a href="#l415.16"></a><span id="l415.16">   { email: &quot;test@foo.invalid&quot;, displayName: &quot;&quot;,</span>
<a href="#l415.17"></a><span id="l415.17">     popularityIndex: 1, firstName: &quot;test1&quot;, value: &quot;test@foo.invalid&quot; },</span>
<a href="#l415.18"></a><span id="l415.18">   { email: &quot;abc@foo.invalid&quot;, displayName: &quot;&quot;,</span>
<a href="#l415.19"></a><span id="l415.19">     popularityIndex: 1, firstName: &quot;test2&quot;, value: &quot;abc@foo.invalid&quot; },</span>
<a href="#l415.20"></a><span id="l415.20">   { email: &quot;foo1@foo.invalid&quot;, displayName: &quot;d&quot;,</span>
<a href="#l415.21"></a><span id="l415.21">     popularityIndex: 0, firstName: &quot;first1&quot;, value: &quot;d &lt;foo1@foo.invalid&gt;&quot; },</span>
<a href="#l415.22"></a><span id="l415.22" class="difflineat">@@ -24,17 +24,17 @@ const cards = [</span>
<a href="#l415.23"></a><span id="l415.23">   { email: &quot;bracket@not.invalid&quot;, secondEmail: &quot;h@not.invalid&quot;, firstName: &quot;Mr.&quot;,</span>
<a href="#l415.24"></a><span id="l415.24">     displayName: &quot;Mr. (Bracket)&quot;, value: &quot;Mr. (Bracket) &lt;bracket@not.invalid&gt;&quot;,</span>
<a href="#l415.25"></a><span id="l415.25">     popularityIndex: 2 },</span>
<a href="#l415.26"></a><span id="l415.26">   { email: &quot;mr@(bracket).not.invalid&quot;, secondEmail: &quot;bracket@not.invalid&quot;,  firstName: &quot;Mr.&quot;,</span>
<a href="#l415.27"></a><span id="l415.27">     displayName: &quot;Mr. Bracket&quot;, value: &quot;Mr. Bracket &lt;mr@(bracket).not.invalid&gt;&quot;,</span>
<a href="#l415.28"></a><span id="l415.28">     popularityIndex: 1 }</span>
<a href="#l415.29"></a><span id="l415.29"> ];</span>
<a href="#l415.30"></a><span id="l415.30"> </span>
<a href="#l415.31"></a><span id="l415.31" class="difflineminus">-const duplicates = [</span>
<a href="#l415.32"></a><span id="l415.32" class="difflineplus">+var duplicates = [</span>
<a href="#l415.33"></a><span id="l415.33">   { search: &quot;test&quot;, expected: [1, 2] },</span>
<a href="#l415.34"></a><span id="l415.34">   { search: &quot;first&quot;, expected: [6, 5, 3] },</span>
<a href="#l415.35"></a><span id="l415.35">   { search: &quot;(bracket)&quot;, expected: [7, 8] }</span>
<a href="#l415.36"></a><span id="l415.36"> ];</span>
<a href="#l415.37"></a><span id="l415.37"> </span>
<a href="#l415.38"></a><span id="l415.38"> </span>
<a href="#l415.39"></a><span id="l415.39"> function acObserver() {}</span>
<a href="#l415.40"></a><span id="l415.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l416.1"></a><span id="l416.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch4.js</span>
<a href="#l416.2"></a><span id="l416.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch4.js</span>
<a href="#l416.3"></a><span id="l416.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l416.4"></a><span id="l416.4"> /*</span>
<a href="#l416.5"></a><span id="l416.5">  * Fourth Test suite for nsAbAutoCompleteSearch - test for second email address.</span>
<a href="#l416.6"></a><span id="l416.6">  */</span>
<a href="#l416.7"></a><span id="l416.7"> </span>
<a href="#l416.8"></a><span id="l416.8" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l416.9"></a><span id="l416.9" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l416.10"></a><span id="l416.10"> </span>
<a href="#l416.11"></a><span id="l416.11" class="difflineminus">-const cards = [</span>
<a href="#l416.12"></a><span id="l416.12" class="difflineplus">+var cards = [</span>
<a href="#l416.13"></a><span id="l416.13">   // Basic tests for primary and secondary emails.</span>
<a href="#l416.14"></a><span id="l416.14">   { email: &quot;primary@test.invalid&quot;, secondEmail: &quot;second@test.invalid&quot;,</span>
<a href="#l416.15"></a><span id="l416.15">     firstName: &quot;&quot; },</span>
<a href="#l416.16"></a><span id="l416.16">   { email: &quot;test1@test.invalid&quot;, secondEmail: &quot;test2@test.invalid&quot;,</span>
<a href="#l416.17"></a><span id="l416.17">     firstName: &quot;firstName&quot; },</span>
<a href="#l416.18"></a><span id="l416.18">   { email: &quot;bar1@test.invalid&quot;, secondEmail: &quot;bar2@test.invalid&quot;,</span>
<a href="#l416.19"></a><span id="l416.19">     firstName: &quot;sweet&quot; },</span>
<a href="#l416.20"></a><span id="l416.20">   { email: &quot;boo1@test.invalid&quot;, secondEmail: &quot;boo2@test.invalid&quot;,</span>
<a href="#l416.21"></a><span id="l416.21" class="difflineat">@@ -33,20 +33,20 @@ const cards = [</span>
<a href="#l416.22"></a><span id="l416.22">     displayName: &quot;3testsort&quot;, popularityIndex: 3 },</span>
<a href="#l416.23"></a><span id="l416.23">   { email: &quot;j@test.invalid&quot;, secondEmail: &quot;h@test.invalid&quot;,</span>
<a href="#l416.24"></a><span id="l416.24">     displayName: &quot;3testsort&quot;, popularityIndex: 5 },</span>
<a href="#l416.25"></a><span id="l416.25">   // Add a contact that matches, but has no email. Should not show up.</span>
<a href="#l416.26"></a><span id="l416.26">   { displayName: &quot;primaryX&quot; }</span>
<a href="#l416.27"></a><span id="l416.27"> ];</span>
<a href="#l416.28"></a><span id="l416.28"> </span>
<a href="#l416.29"></a><span id="l416.29"> // These are for the initial search</span>
<a href="#l416.30"></a><span id="l416.30" class="difflineminus">-const searches = [ &quot;primary&quot;, &quot;second&quot;, &quot;firstName&quot;, &quot;thename&quot;, &quot;sortbasic&quot;,</span>
<a href="#l416.31"></a><span id="l416.31" class="difflineplus">+var searches = [ &quot;primary&quot;, &quot;second&quot;, &quot;firstName&quot;, &quot;thename&quot;, &quot;sortbasic&quot;,</span>
<a href="#l416.32"></a><span id="l416.32">                    &quot;testsort&quot;, &quot;2testsort&quot;, &quot;3testsort&quot; ];</span>
<a href="#l416.33"></a><span id="l416.33"> </span>
<a href="#l416.34"></a><span id="l416.34" class="difflineminus">-const expectedResults = [ [ &quot;primary@test.invalid&quot;,</span>
<a href="#l416.35"></a><span id="l416.35" class="difflineplus">+var expectedResults = [ [ &quot;primary@test.invalid&quot;,</span>
<a href="#l416.36"></a><span id="l416.36">                             &quot;second@test.invalid&quot;], // searching for primary/second returns</span>
<a href="#l416.37"></a><span id="l416.37">                           [ &quot;second@test.invalid&quot;,  // both the emails as the new search query</span>
<a href="#l416.38"></a><span id="l416.38">                             &quot;primary@test.invalid&quot; ], // looks in both the fields.</span>
<a href="#l416.39"></a><span id="l416.39">                           [ &quot;test1@test.invalid&quot;,</span>
<a href="#l416.40"></a><span id="l416.40">                             &quot;test2@test.invalid&quot; ],</span>
<a href="#l416.41"></a><span id="l416.41">                           [ &quot;thename@test.invalid&quot;,</span>
<a href="#l416.42"></a><span id="l416.42">                             &quot;name@test.invalid&quot;],</span>
<a href="#l416.43"></a><span id="l416.43">                           [ &quot;sortbasic &lt;foo_b@test.invalid&gt;&quot;,</span>
<a href="#l416.44"></a><span id="l416.44" class="difflineat">@@ -68,19 +68,19 @@ const expectedResults = [ [ &quot;primary@tes</span>
<a href="#l416.45"></a><span id="l416.45">                             &quot;2testsort &lt;d@test.invalid&gt;&quot;,</span>
<a href="#l416.46"></a><span id="l416.46">                             &quot;2testsort &lt;e@test.invalid&gt;&quot; ],</span>
<a href="#l416.47"></a><span id="l416.47">                           [ &quot;3testsort &lt;j@test.invalid&gt;&quot;,</span>
<a href="#l416.48"></a><span id="l416.48">                             &quot;3testsort &lt;h@test.invalid&gt;&quot;,</span>
<a href="#l416.49"></a><span id="l416.49">                             &quot;3testsort &lt;g@test.invalid&gt;&quot;,</span>
<a href="#l416.50"></a><span id="l416.50">                             &quot;3testsort &lt;f@test.invalid&gt;&quot; ] ];</span>
<a href="#l416.51"></a><span id="l416.51"> </span>
<a href="#l416.52"></a><span id="l416.52"> // These are for subsequent searches - reducing the number of results.</span>
<a href="#l416.53"></a><span id="l416.53" class="difflineminus">-const reductionSearches = [ &quot;b&quot;, &quot;bo&quot;, &quot;boo2&quot; ];</span>
<a href="#l416.54"></a><span id="l416.54" class="difflineplus">+var reductionSearches = [ &quot;b&quot;, &quot;bo&quot;, &quot;boo2&quot; ];</span>
<a href="#l416.55"></a><span id="l416.55"> </span>
<a href="#l416.56"></a><span id="l416.56" class="difflineminus">-const reductionExpectedResults = [ [ &quot;bar1@test.invalid&quot;,</span>
<a href="#l416.57"></a><span id="l416.57" class="difflineplus">+var reductionExpectedResults = [ [ &quot;bar1@test.invalid&quot;,</span>
<a href="#l416.58"></a><span id="l416.58">                                      &quot;bar2@test.invalid&quot;,</span>
<a href="#l416.59"></a><span id="l416.59">                                      &quot;boo1@test.invalid&quot;,</span>
<a href="#l416.60"></a><span id="l416.60">                                      &quot;boo2@test.invalid&quot;,</span>
<a href="#l416.61"></a><span id="l416.61">                                      &quot;sortbasic &lt;foo_b@test.invalid&gt;&quot;,</span>
<a href="#l416.62"></a><span id="l416.62">                                      &quot;sortbasic &lt;foo_a@test.invalid&gt;&quot; ],</span>
<a href="#l416.63"></a><span id="l416.63">                                    [ &quot;boo1@test.invalid&quot;,</span>
<a href="#l416.64"></a><span id="l416.64">                                      &quot;boo2@test.invalid&quot; ],</span>
<a href="#l416.65"></a><span id="l416.65">                                    [ &quot;boo2@test.invalid&quot; ] ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l417.1"></a><span id="l417.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch5.js</span>
<a href="#l417.2"></a><span id="l417.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch5.js</span>
<a href="#l417.3"></a><span id="l417.3" class="difflineat">@@ -1,40 +1,40 @@</span>
<a href="#l417.4"></a><span id="l417.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l417.5"></a><span id="l417.5"> /*</span>
<a href="#l417.6"></a><span id="l417.6">  * This suite ensures that we can correctly read and re-set the popularity</span>
<a href="#l417.7"></a><span id="l417.7">  * indexes on a </span>
<a href="#l417.8"></a><span id="l417.8">  */</span>
<a href="#l417.9"></a><span id="l417.9"> </span>
<a href="#l417.10"></a><span id="l417.10" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l417.11"></a><span id="l417.11" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l417.12"></a><span id="l417.12"> </span>
<a href="#l417.13"></a><span id="l417.13" class="difflineminus">-const results = [ { email: &quot;d &lt;ema@test.invalid&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l417.14"></a><span id="l417.14" class="difflineplus">+var results = [ { email: &quot;d &lt;ema@test.invalid&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l417.15"></a><span id="l417.15">                   { email: &quot;di &lt;emai@test.invalid&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l417.16"></a><span id="l417.16">                   { email: &quot;dis &lt;email@test.invalid&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l417.17"></a><span id="l417.17">                   { email: &quot;disp &lt;e@test.invalid&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l417.18"></a><span id="l417.18">                   { email: &quot;displ &lt;em@test.invalid&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l417.19"></a><span id="l417.19">                   { email: &quot;t &lt;list&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l417.20"></a><span id="l417.20">                   { email: &quot;te &lt;lis&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l417.21"></a><span id="l417.21">                   { email: &quot;tes &lt;li&gt;&quot;, dirName: kPABData.dirName },</span>
<a href="#l417.22"></a><span id="l417.22">                    // this contact has a nickname of &quot;abcdef&quot;</span>
<a href="#l417.23"></a><span id="l417.23">                   { email: &quot;test &lt;l&gt;&quot;, dirName: kPABData.dirName } ];</span>
<a href="#l417.24"></a><span id="l417.24"> </span>
<a href="#l417.25"></a><span id="l417.25" class="difflineminus">-const firstNames = [ { search: &quot;f&quot;,      expected: [4, 0, 1, 2, 3, 8] },</span>
<a href="#l417.26"></a><span id="l417.26" class="difflineplus">+var firstNames = [ { search: &quot;f&quot;,      expected: [4, 0, 1, 2, 3, 8] },</span>
<a href="#l417.27"></a><span id="l417.27">                      { search: &quot;fi&quot;,     expected: [4, 0, 1, 3] },</span>
<a href="#l417.28"></a><span id="l417.28">                      { search: &quot;fir&quot;,    expected: [4, 0, 1] },</span>
<a href="#l417.29"></a><span id="l417.29">                      { search: &quot;firs&quot;,   expected: [0, 1] },</span>
<a href="#l417.30"></a><span id="l417.30">                      { search: &quot;first&quot;,  expected: [1] } ];</span>
<a href="#l417.31"></a><span id="l417.31"> </span>
<a href="#l417.32"></a><span id="l417.32" class="difflineminus">-const lastNames = [ { search: &quot;l&quot;,      expected: [5, 6, 7, 8, 4, 0, 1, 2, 3] },</span>
<a href="#l417.33"></a><span id="l417.33" class="difflineplus">+var lastNames = [ { search: &quot;l&quot;,      expected: [5, 6, 7, 8, 4, 0, 1, 2, 3] },</span>
<a href="#l417.34"></a><span id="l417.34">                     { search: &quot;la&quot;,     expected: [4, 0, 2, 3] },</span>
<a href="#l417.35"></a><span id="l417.35">                     { search: &quot;las&quot;,    expected: [4, 0, 3] },</span>
<a href="#l417.36"></a><span id="l417.36">                     { search: &quot;last&quot;,   expected: [4, 0] },</span>
<a href="#l417.37"></a><span id="l417.37">                     { search: &quot;lastn&quot;,  expected: [0] } ];</span>
<a href="#l417.38"></a><span id="l417.38"> </span>
<a href="#l417.39"></a><span id="l417.39" class="difflineminus">-const inputs = [ firstNames, lastNames];</span>
<a href="#l417.40"></a><span id="l417.40" class="difflineplus">+var inputs = [ firstNames, lastNames];</span>
<a href="#l417.41"></a><span id="l417.41"> </span>
<a href="#l417.42"></a><span id="l417.42"> function acObserver() {}</span>
<a href="#l417.43"></a><span id="l417.43"> </span>
<a href="#l417.44"></a><span id="l417.44"> acObserver.prototype = {</span>
<a href="#l417.45"></a><span id="l417.45">   _search: null,</span>
<a href="#l417.46"></a><span id="l417.46">   _result: null,</span>
<a href="#l417.47"></a><span id="l417.47"> </span>
<a href="#l417.48"></a><span id="l417.48">   onSearchResult: function (aSearch, aResult) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l418.1"></a><span id="l418.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch6.js</span>
<a href="#l418.2"></a><span id="l418.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch6.js</span>
<a href="#l418.3"></a><span id="l418.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l418.4"></a><span id="l418.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l418.5"></a><span id="l418.5"> /**</span>
<a href="#l418.6"></a><span id="l418.6">  * Tests for for nsAbAutoCompleteSearch scoring.</span>
<a href="#l418.7"></a><span id="l418.7">  */</span>
<a href="#l418.8"></a><span id="l418.8"> </span>
<a href="#l418.9"></a><span id="l418.9" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l418.10"></a><span id="l418.10" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l418.11"></a><span id="l418.11"> </span>
<a href="#l418.12"></a><span id="l418.12" class="difflineminus">-const cards = [</span>
<a href="#l418.13"></a><span id="l418.13" class="difflineplus">+var cards = [</span>
<a href="#l418.14"></a><span id="l418.14">   { // 0</span>
<a href="#l418.15"></a><span id="l418.15">     email: &quot;jd.who@example.com&quot;, displayName: &quot;John Doe (:xx)&quot;,</span>
<a href="#l418.16"></a><span id="l418.16">     popularityIndex: 0, firstName: &quot;John&quot;, value: &quot;John Doe (:xx) &lt;jd.who@example.com&gt;&quot;</span>
<a href="#l418.17"></a><span id="l418.17">   },</span>
<a href="#l418.18"></a><span id="l418.18"> </span>
<a href="#l418.19"></a><span id="l418.19">   { // 1</span>
<a href="#l418.20"></a><span id="l418.20">     email: &quot;janey_who@example.com&quot;, displayName: &quot;Jane Doe&quot;,</span>
<a href="#l418.21"></a><span id="l418.21">     popularityIndex: 0, value: &quot;Jane Doe &lt;janey_who@example.com&gt;&quot;</span>
<a href="#l418.22"></a><span id="l418.22" class="difflineat">@@ -92,17 +92,17 @@ const cards = [</span>
<a href="#l418.23"></a><span id="l418.23">   },</span>
<a href="#l418.24"></a><span id="l418.24"> </span>
<a href="#l418.25"></a><span id="l418.25">   { // 16</span>
<a href="#l418.26"></a><span id="l418.26">     email: &quot;16@example.com&quot;, displayName: &quot;sherlock holmes&quot;,</span>
<a href="#l418.27"></a><span id="l418.27">     popularityIndex: 0, value: &quot;sherlock holmes &lt;16@example.com&gt;&quot;</span>
<a href="#l418.28"></a><span id="l418.28">   }</span>
<a href="#l418.29"></a><span id="l418.29"> ];</span>
<a href="#l418.30"></a><span id="l418.30"> </span>
<a href="#l418.31"></a><span id="l418.31" class="difflineminus">-const inputs = [</span>
<a href="#l418.32"></a><span id="l418.32" class="difflineplus">+var inputs = [</span>
<a href="#l418.33"></a><span id="l418.33">   { search: &quot;john&quot;, expected: [0, 9] },</span>
<a href="#l418.34"></a><span id="l418.34">   { search: &quot;doe&quot;, expected: [1, 0] },</span>
<a href="#l418.35"></a><span id="l418.35">   { search: &quot;jd&quot;, expected: [0, 4] },</span>
<a href="#l418.36"></a><span id="l418.36">   { search: &quot;who&quot;, expected: [1, 0, 6] },</span>
<a href="#l418.37"></a><span id="l418.37">   { search: &quot;xx&quot;, expected: [0, 5] },</span>
<a href="#l418.38"></a><span id="l418.38">   { search: &quot;jan&quot;, expected: [1, 3] },</span>
<a href="#l418.39"></a><span id="l418.39">   // expecting nickname to score highest.</span>
<a href="#l418.40"></a><span id="l418.40">   { search: &quot;sh&quot;, expected: [15, 14, 2, 16, 10, 7] },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l419.1"></a><span id="l419.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch7.js</span>
<a href="#l419.2"></a><span id="l419.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch7.js</span>
<a href="#l419.3"></a><span id="l419.3" class="difflineat">@@ -1,30 +1,30 @@</span>
<a href="#l419.4"></a><span id="l419.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l419.5"></a><span id="l419.5"> /*</span>
<a href="#l419.6"></a><span id="l419.6">  * Tests for nsAbAutoCompleteSearch - tests searching in address</span>
<a href="#l419.7"></a><span id="l419.7">  * books for autocomplete matches, and checks sort order is correct</span>
<a href="#l419.8"></a><span id="l419.8">  * according to scores.</span>
<a href="#l419.9"></a><span id="l419.9">  */</span>
<a href="#l419.10"></a><span id="l419.10"> </span>
<a href="#l419.11"></a><span id="l419.11" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l419.12"></a><span id="l419.12" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l419.13"></a><span id="l419.13"> </span>
<a href="#l419.14"></a><span id="l419.14"> // Input and results arrays for the autocomplete tests.</span>
<a href="#l419.15"></a><span id="l419.15"> </span>
<a href="#l419.16"></a><span id="l419.16"> // Note the expected arrays are in expected sort order as well.</span>
<a href="#l419.17"></a><span id="l419.17"> </span>
<a href="#l419.18"></a><span id="l419.18" class="difflineminus">-const results =  [</span>
<a href="#l419.19"></a><span id="l419.19" class="difflineplus">+var results =  [</span>
<a href="#l419.20"></a><span id="l419.20">   { email: &quot;Tomas Doe &lt;tomez.doe@foo.invalid&gt;&quot; }, // 0</span>
<a href="#l419.21"></a><span id="l419.21">   { email: &quot;Tomas Doe &lt;tomez.doe@foo2.invalid&gt;&quot; }, // 1</span>
<a href="#l419.22"></a><span id="l419.22">   { email: &quot;Tomas Doe &lt;tomez.doe@b.example.com&gt;&quot; }, // 2</span>
<a href="#l419.23"></a><span id="l419.23">   { email: &quot;Tomas Doe &lt;tomez.doe@a.example.com&gt;&quot; }, // 3</span>
<a href="#l419.24"></a><span id="l419.24">   { email: &quot;Tomek Smith &lt;tomek@example.com&gt;&quot; } // 4</span>
<a href="#l419.25"></a><span id="l419.25"> ]</span>
<a href="#l419.26"></a><span id="l419.26"> </span>
<a href="#l419.27"></a><span id="l419.27" class="difflineminus">-const inputs = [</span>
<a href="#l419.28"></a><span id="l419.28" class="difflineplus">+var inputs = [</span>
<a href="#l419.29"></a><span id="l419.29">   [</span>
<a href="#l419.30"></a><span id="l419.30">     { search: &quot;t&quot;,            expected: [2, 3, 0, 1, 4] },</span>
<a href="#l419.31"></a><span id="l419.31">     { search: &quot;tom&quot;,          expected: [0, 1, 2, 3, 4] },</span>
<a href="#l419.32"></a><span id="l419.32">     { search: &quot;tomek&quot;,        expected: [4] }</span>
<a href="#l419.33"></a><span id="l419.33">   ]</span>
<a href="#l419.34"></a><span id="l419.34"> ];</span>
<a href="#l419.35"></a><span id="l419.35"> </span>
<a href="#l419.36"></a><span id="l419.36"> function acObserver() {}</span>
<a href="#l419.37"></a><span id="l419.37" class="difflineat">@@ -34,17 +34,17 @@ acObserver.prototype = {</span>
<a href="#l419.38"></a><span id="l419.38">   _result: null,</span>
<a href="#l419.39"></a><span id="l419.39"> </span>
<a href="#l419.40"></a><span id="l419.40">   onSearchResult: function (aSearch, aResult) {</span>
<a href="#l419.41"></a><span id="l419.41">     this._search = aSearch;</span>
<a href="#l419.42"></a><span id="l419.42">     this._result = aResult;</span>
<a href="#l419.43"></a><span id="l419.43">   }</span>
<a href="#l419.44"></a><span id="l419.44"> };</span>
<a href="#l419.45"></a><span id="l419.45"> </span>
<a href="#l419.46"></a><span id="l419.46" class="difflineminus">-const PAB_CARD_DATA = [</span>
<a href="#l419.47"></a><span id="l419.47" class="difflineplus">+var PAB_CARD_DATA = [</span>
<a href="#l419.48"></a><span id="l419.48">   {</span>
<a href="#l419.49"></a><span id="l419.49">     &quot;FirstName&quot;: &quot;Tomas&quot;,</span>
<a href="#l419.50"></a><span id="l419.50">     &quot;LastName&quot;: &quot;Doe&quot;,</span>
<a href="#l419.51"></a><span id="l419.51">     &quot;DisplayName&quot;: &quot;Tomas Doe&quot;,</span>
<a href="#l419.52"></a><span id="l419.52">     &quot;NickName&quot;: &quot;tom&quot;,</span>
<a href="#l419.53"></a><span id="l419.53">     &quot;PrimaryEmail&quot;: &quot;tomez.doe@foo.invalid&quot;,</span>
<a href="#l419.54"></a><span id="l419.54">     &quot;SecondEmail&quot;: &quot;tomez.doe@foo2.invalid&quot;,</span>
<a href="#l419.55"></a><span id="l419.55">     &quot;PreferDisplayName&quot;: true,</span>
<a href="#l419.56"></a><span id="l419.56" class="difflineat">@@ -64,17 +64,17 @@ const PAB_CARD_DATA = [</span>
<a href="#l419.57"></a><span id="l419.57">     &quot;LastName&quot;: &quot;Smith&quot;,</span>
<a href="#l419.58"></a><span id="l419.58">     &quot;DisplayName&quot;: &quot;Tomek Smith&quot;,</span>
<a href="#l419.59"></a><span id="l419.59">     &quot;PrimaryEmail&quot;: &quot;tomek@example.com&quot;,</span>
<a href="#l419.60"></a><span id="l419.60">     &quot;PreferDisplayName&quot;: true,</span>
<a href="#l419.61"></a><span id="l419.61">     &quot;PopularityIndex&quot;: 3</span>
<a href="#l419.62"></a><span id="l419.62">   }</span>
<a href="#l419.63"></a><span id="l419.63"> ];</span>
<a href="#l419.64"></a><span id="l419.64"> </span>
<a href="#l419.65"></a><span id="l419.65" class="difflineminus">-const ABMDB_PREFIX = &quot;moz-abmdbdirectory://&quot;;</span>
<a href="#l419.66"></a><span id="l419.66" class="difflineplus">+var ABMDB_PREFIX = &quot;moz-abmdbdirectory://&quot;;</span>
<a href="#l419.67"></a><span id="l419.67"> </span>
<a href="#l419.68"></a><span id="l419.68"> function setupAddressBookData(aDirURI, aCardData, aMailListData) {</span>
<a href="#l419.69"></a><span id="l419.69">   let ab = MailServices.ab.getDirectory(aDirURI);</span>
<a href="#l419.70"></a><span id="l419.70"> </span>
<a href="#l419.71"></a><span id="l419.71">   // Getting all directories ensures we create all ABs because mailing</span>
<a href="#l419.72"></a><span id="l419.72">   // lists need help initialising themselves</span>
<a href="#l419.73"></a><span id="l419.73">   MailServices.ab.directories;</span>
<a href="#l419.74"></a><span id="l419.74"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l420.1"></a><span id="l420.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbManager1.js</span>
<a href="#l420.2"></a><span id="l420.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbManager1.js</span>
<a href="#l420.3"></a><span id="l420.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l420.4"></a><span id="l420.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l420.5"></a><span id="l420.5"> /*</span>
<a href="#l420.6"></a><span id="l420.6">  * Test suite for nsAbManager functions relating to listeners.</span>
<a href="#l420.7"></a><span id="l420.7">  */</span>
<a href="#l420.8"></a><span id="l420.8"> </span>
<a href="#l420.9"></a><span id="l420.9" class="difflineminus">-const nsIAbListener = Components.interfaces.nsIAbListener;</span>
<a href="#l420.10"></a><span id="l420.10" class="difflineminus">-const numListenerOptions = 4;</span>
<a href="#l420.11"></a><span id="l420.11" class="difflineplus">+var nsIAbListener = Components.interfaces.nsIAbListener;</span>
<a href="#l420.12"></a><span id="l420.12" class="difflineplus">+var numListenerOptions = 4;</span>
<a href="#l420.13"></a><span id="l420.13"> </span>
<a href="#l420.14"></a><span id="l420.14"> var gAblAll;</span>
<a href="#l420.15"></a><span id="l420.15"> var gAblSingle = new Array(numListenerOptions);</span>
<a href="#l420.16"></a><span id="l420.16"> </span>
<a href="#l420.17"></a><span id="l420.17"> function abL() {}</span>
<a href="#l420.18"></a><span id="l420.18"> </span>
<a href="#l420.19"></a><span id="l420.19"> abL.prototype = {</span>
<a href="#l420.20"></a><span id="l420.20">  mReceived: 0,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l421.1"></a><span id="l421.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbManager2.js</span>
<a href="#l421.2"></a><span id="l421.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbManager2.js</span>
<a href="#l421.3"></a><span id="l421.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l421.4"></a><span id="l421.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l421.5"></a><span id="l421.5"> /*</span>
<a href="#l421.6"></a><span id="l421.6">  * Test suite for nsAbManager functions relating to add/delete directories and</span>
<a href="#l421.7"></a><span id="l421.7">  * getting the list of directories..</span>
<a href="#l421.8"></a><span id="l421.8">  */</span>
<a href="#l421.9"></a><span id="l421.9"> </span>
<a href="#l421.10"></a><span id="l421.10" class="difflineminus">-const nsIAbDirectory = Components.interfaces.nsIAbDirectory;</span>
<a href="#l421.11"></a><span id="l421.11" class="difflineminus">-const nsIAbListener = Components.interfaces.nsIAbListener;</span>
<a href="#l421.12"></a><span id="l421.12" class="difflineminus">-const numListenerOptions = 4;</span>
<a href="#l421.13"></a><span id="l421.13" class="difflineplus">+var nsIAbDirectory = Components.interfaces.nsIAbDirectory;</span>
<a href="#l421.14"></a><span id="l421.14" class="difflineplus">+var nsIAbListener = Components.interfaces.nsIAbListener;</span>
<a href="#l421.15"></a><span id="l421.15" class="difflineplus">+var numListenerOptions = 4;</span>
<a href="#l421.16"></a><span id="l421.16"> </span>
<a href="#l421.17"></a><span id="l421.17"> var gAblAll;</span>
<a href="#l421.18"></a><span id="l421.18"> var gAblSingle = new Array(numListenerOptions);</span>
<a href="#l421.19"></a><span id="l421.19"> </span>
<a href="#l421.20"></a><span id="l421.20"> function abL() {}</span>
<a href="#l421.21"></a><span id="l421.21"> </span>
<a href="#l421.22"></a><span id="l421.22"> abL.prototype = {</span>
<a href="#l421.23"></a><span id="l421.23">  mReceived: 0,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l422.1"></a><span id="l422.1" class="difflineminus">--- a/mailnews/base/content/markByDate.js</span>
<a href="#l422.2"></a><span id="l422.2" class="difflineplus">+++ b/mailnews/base/content/markByDate.js</span>
<a href="#l422.3"></a><span id="l422.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l422.4"></a><span id="l422.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l422.5"></a><span id="l422.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l422.6"></a><span id="l422.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l422.7"></a><span id="l422.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l422.8"></a><span id="l422.8"> </span>
<a href="#l422.9"></a><span id="l422.9" class="difflineminus">-const MILLISECONDS_PER_HOUR   = 60 * 60 * 1000;</span>
<a href="#l422.10"></a><span id="l422.10" class="difflineminus">-const MICROSECONDS_PER_DAY    = 1000 * MILLISECONDS_PER_HOUR * 24;</span>
<a href="#l422.11"></a><span id="l422.11" class="difflineplus">+var MILLISECONDS_PER_HOUR   = 60 * 60 * 1000;</span>
<a href="#l422.12"></a><span id="l422.12" class="difflineplus">+var MICROSECONDS_PER_DAY    = 1000 * MILLISECONDS_PER_HOUR * 24;</span>
<a href="#l422.13"></a><span id="l422.13"> </span>
<a href="#l422.14"></a><span id="l422.14"> function onLoad()</span>
<a href="#l422.15"></a><span id="l422.15"> {</span>
<a href="#l422.16"></a><span id="l422.16">   var upperDateBox = document.getElementById(&quot;upperDate&quot;);</span>
<a href="#l422.17"></a><span id="l422.17">   // focus the upper bound control - this is where we expect most users to enter</span>
<a href="#l422.18"></a><span id="l422.18">   // a date</span>
<a href="#l422.19"></a><span id="l422.19">   upperDateBox.focus();</span>
<a href="#l422.20"></a><span id="l422.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l423.1"></a><span id="l423.1" class="difflineminus">--- a/mailnews/base/content/msgPrintEngine.js</span>
<a href="#l423.2"></a><span id="l423.2" class="difflineplus">+++ b/mailnews/base/content/msgPrintEngine.js</span>
<a href="#l423.3"></a><span id="l423.3" class="difflineat">@@ -9,17 +9,17 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l423.4"></a><span id="l423.4"> </span>
<a href="#l423.5"></a><span id="l423.5"> /* globals for a particular window */</span>
<a href="#l423.6"></a><span id="l423.6"> var printEngineContractID      = &quot;@mozilla.org/messenger/msgPrintEngine;1&quot;;</span>
<a href="#l423.7"></a><span id="l423.7"> var printEngineWindow;</span>
<a href="#l423.8"></a><span id="l423.8"> var printEngine;</span>
<a href="#l423.9"></a><span id="l423.9"> var printSettings = null;</span>
<a href="#l423.10"></a><span id="l423.10"> var printOpener = null;</span>
<a href="#l423.11"></a><span id="l423.11"> </span>
<a href="#l423.12"></a><span id="l423.12" class="difflineminus">-const kMsgBundle = &quot;chrome://messenger/locale/messenger.properties&quot;;</span>
<a href="#l423.13"></a><span id="l423.13" class="difflineplus">+var kMsgBundle = &quot;chrome://messenger/locale/messenger.properties&quot;;</span>
<a href="#l423.14"></a><span id="l423.14"> </span>
<a href="#l423.15"></a><span id="l423.15"> /* Functions related to startup */</span>
<a href="#l423.16"></a><span id="l423.16"> function OnLoadPrintEngine()</span>
<a href="#l423.17"></a><span id="l423.17"> {</span>
<a href="#l423.18"></a><span id="l423.18">   PrintEngineCreateGlobals();</span>
<a href="#l423.19"></a><span id="l423.19">   InitPrintEngineWindow();</span>
<a href="#l423.20"></a><span id="l423.20">   printEngine.startPrintOperation(printSettings);</span>
<a href="#l423.21"></a><span id="l423.21"> }</span>
<a href="#l423.22"></a><span id="l423.22" class="difflineat">@@ -97,17 +97,17 @@ function setPPTitle(aTitle)</span>
<a href="#l423.23"></a><span id="l423.23">         title = msgBundle.formatStringFromName(&quot;PreviewTitle&quot;, array, array.length);</span>
<a href="#l423.24"></a><span id="l423.24">       }</span>
<a href="#l423.25"></a><span id="l423.25">     }</span>
<a href="#l423.26"></a><span id="l423.26">   } catch (e) {}</span>
<a href="#l423.27"></a><span id="l423.27">   document.title = title;</span>
<a href="#l423.28"></a><span id="l423.28"> }</span>
<a href="#l423.29"></a><span id="l423.29"> </span>
<a href="#l423.30"></a><span id="l423.30"> // Pref listener constants</span>
<a href="#l423.31"></a><span id="l423.31" class="difflineminus">-const gStartupPPObserver =</span>
<a href="#l423.32"></a><span id="l423.32" class="difflineplus">+var gStartupPPObserver =</span>
<a href="#l423.33"></a><span id="l423.33"> {</span>
<a href="#l423.34"></a><span id="l423.34">   observe: function(subject, topic, prefName)</span>
<a href="#l423.35"></a><span id="l423.35">   {</span>
<a href="#l423.36"></a><span id="l423.36">     PrintUtils.printPreview(PrintPreviewListener);</span>
<a href="#l423.37"></a><span id="l423.37">   }</span>
<a href="#l423.38"></a><span id="l423.38"> };</span>
<a href="#l423.39"></a><span id="l423.39"> </span>
<a href="#l423.40"></a><span id="l423.40"> function ReplaceWithSelection()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l424.1"></a><span id="l424.1" class="difflineminus">--- a/mailnews/base/content/newFolderDialog.js</span>
<a href="#l424.2"></a><span id="l424.2" class="difflineplus">+++ b/mailnews/base/content/newFolderDialog.js</span>
<a href="#l424.3"></a><span id="l424.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l424.4"></a><span id="l424.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l424.5"></a><span id="l424.5">  *</span>
<a href="#l424.6"></a><span id="l424.6">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l424.7"></a><span id="l424.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l424.8"></a><span id="l424.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l424.9"></a><span id="l424.9"> </span>
<a href="#l424.10"></a><span id="l424.10" class="difflineminus">-const FOLDERS = 1;</span>
<a href="#l424.11"></a><span id="l424.11" class="difflineminus">-const MESSAGES = 2;</span>
<a href="#l424.12"></a><span id="l424.12" class="difflineplus">+var FOLDERS = 1;</span>
<a href="#l424.13"></a><span id="l424.13" class="difflineplus">+var MESSAGES = 2;</span>
<a href="#l424.14"></a><span id="l424.14"> var dialog;</span>
<a href="#l424.15"></a><span id="l424.15"> </span>
<a href="#l424.16"></a><span id="l424.16"> function onLoad()</span>
<a href="#l424.17"></a><span id="l424.17"> {</span>
<a href="#l424.18"></a><span id="l424.18">   var windowArgs = window.arguments[0];</span>
<a href="#l424.19"></a><span id="l424.19"> </span>
<a href="#l424.20"></a><span id="l424.20">   dialog = {};</span>
<a href="#l424.21"></a><span id="l424.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l425.1"></a><span id="l425.1" class="difflineminus">--- a/mailnews/base/content/newmailalert.js</span>
<a href="#l425.2"></a><span id="l425.2" class="difflineplus">+++ b/mailnews/base/content/newmailalert.js</span>
<a href="#l425.3"></a><span id="l425.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l425.4"></a><span id="l425.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l425.5"></a><span id="l425.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l425.6"></a><span id="l425.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l425.7"></a><span id="l425.7"> </span>
<a href="#l425.8"></a><span id="l425.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l425.9"></a><span id="l425.9"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l425.10"></a><span id="l425.10"> </span>
<a href="#l425.11"></a><span id="l425.11"> // Copied from nsILookAndFeel.h, see comments on eMetric_AlertNotificationOrigin</span>
<a href="#l425.12"></a><span id="l425.12" class="difflineminus">-const NS_ALERT_HORIZONTAL = 1;</span>
<a href="#l425.13"></a><span id="l425.13" class="difflineminus">-const NS_ALERT_LEFT = 2;</span>
<a href="#l425.14"></a><span id="l425.14" class="difflineminus">-const NS_ALERT_TOP = 4;</span>
<a href="#l425.15"></a><span id="l425.15" class="difflineplus">+var NS_ALERT_HORIZONTAL = 1;</span>
<a href="#l425.16"></a><span id="l425.16" class="difflineplus">+var NS_ALERT_LEFT = 2;</span>
<a href="#l425.17"></a><span id="l425.17" class="difflineplus">+var NS_ALERT_TOP = 4;</span>
<a href="#l425.18"></a><span id="l425.18"> </span>
<a href="#l425.19"></a><span id="l425.19"> var gNumNewMsgsToShowInAlert = 4; // the more messages we show in the alert, the larger it will be</span>
<a href="#l425.20"></a><span id="l425.20"> var gOpenTime = 4000; // total time the alert should stay up once we are done animating.</span>
<a href="#l425.21"></a><span id="l425.21"> </span>
<a href="#l425.22"></a><span id="l425.22"> var gAlertListener = null;</span>
<a href="#l425.23"></a><span id="l425.23"> var gPendingPreviewFetchRequests = 0;</span>
<a href="#l425.24"></a><span id="l425.24"> var gUserInitiated = false;</span>
<a href="#l425.25"></a><span id="l425.25"> var gOrigin = 0; // Default value: alert from bottom right.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l426.1"></a><span id="l426.1" class="difflineminus">--- a/mailnews/base/content/virtualFolderProperties.js</span>
<a href="#l426.2"></a><span id="l426.2" class="difflineplus">+++ b/mailnews/base/content/virtualFolderProperties.js</span>
<a href="#l426.3"></a><span id="l426.3" class="difflineat">@@ -5,17 +5,17 @@</span>
<a href="#l426.4"></a><span id="l426.4"> </span>
<a href="#l426.5"></a><span id="l426.5"> var gPickedFolder;</span>
<a href="#l426.6"></a><span id="l426.6"> var gMailView = null;</span>
<a href="#l426.7"></a><span id="l426.7"> var msgWindow; // important, don't change the name of this variable. it's really a global used by commandglue.js</span>
<a href="#l426.8"></a><span id="l426.8"> var gSearchTermSession; // really an in memory temporary filter we use to read in and write out the search terms</span>
<a href="#l426.9"></a><span id="l426.9"> var gSearchFolderURIs = &quot;&quot;;</span>
<a href="#l426.10"></a><span id="l426.10"> var gMessengerBundle = null;</span>
<a href="#l426.11"></a><span id="l426.11"> </span>
<a href="#l426.12"></a><span id="l426.12" class="difflineminus">-const nsMsgSearchScope = Components.interfaces.nsMsgSearchScope;</span>
<a href="#l426.13"></a><span id="l426.13" class="difflineplus">+var nsMsgSearchScope = Components.interfaces.nsMsgSearchScope;</span>
<a href="#l426.14"></a><span id="l426.14"> </span>
<a href="#l426.15"></a><span id="l426.15"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l426.16"></a><span id="l426.16"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l426.17"></a><span id="l426.17"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l426.18"></a><span id="l426.18"> Components.utils.import(&quot;resource:///modules/virtualFolderWrapper.js&quot;);</span>
<a href="#l426.19"></a><span id="l426.19"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l426.20"></a><span id="l426.20"> Components.utils.import(&quot;resource:///modules/MailUtils.js&quot;);</span>
<a href="#l426.21"></a><span id="l426.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l427.1"></a><span id="l427.1" class="difflineminus">--- a/mailnews/base/prefs/content/AccountWizard.js</span>
<a href="#l427.2"></a><span id="l427.2" class="difflineplus">+++ b/mailnews/base/prefs/content/AccountWizard.js</span>
<a href="#l427.3"></a><span id="l427.3" class="difflineat">@@ -56,17 +56,17 @@ var gCurrentAccount;</span>
<a href="#l427.4"></a><span id="l427.4"> // default account</span>
<a href="#l427.5"></a><span id="l427.5"> var gDefaultAccount;</span>
<a href="#l427.6"></a><span id="l427.6"> </span>
<a href="#l427.7"></a><span id="l427.7"> // the current associative array that</span>
<a href="#l427.8"></a><span id="l427.8"> // will eventually be dumped into the account</span>
<a href="#l427.9"></a><span id="l427.9"> var gCurrentAccountData;</span>
<a href="#l427.10"></a><span id="l427.10"> </span>
<a href="#l427.11"></a><span id="l427.11"> // default picker mode for copies and folders</span>
<a href="#l427.12"></a><span id="l427.12" class="difflineminus">-const gDefaultSpecialFolderPickerMode = &quot;0&quot;;</span>
<a href="#l427.13"></a><span id="l427.13" class="difflineplus">+var gDefaultSpecialFolderPickerMode = &quot;0&quot;;</span>
<a href="#l427.14"></a><span id="l427.14"> </span>
<a href="#l427.15"></a><span id="l427.15"> // event handlers</span>
<a href="#l427.16"></a><span id="l427.16"> function onAccountWizardLoad() {</span>
<a href="#l427.17"></a><span id="l427.17">   gPrefsBundle = document.getElementById(&quot;bundle_prefs&quot;);</span>
<a href="#l427.18"></a><span id="l427.18">   gMessengerBundle = document.getElementById(&quot;bundle_messenger&quot;);</span>
<a href="#l427.19"></a><span id="l427.19"> </span>
<a href="#l427.20"></a><span id="l427.20">   if (&quot;testingIspServices&quot; in this) {</span>
<a href="#l427.21"></a><span id="l427.21">     if (&quot;SetCustomizedWizardDimensions&quot; in this &amp;&amp; testingIspServices()) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l428.1"></a><span id="l428.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/guessConfig.js</span>
<a href="#l428.2"></a><span id="l428.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/guessConfig.js</span>
<a href="#l428.3"></a><span id="l428.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l428.4"></a><span id="l428.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l428.5"></a><span id="l428.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l428.6"></a><span id="l428.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l428.7"></a><span id="l428.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l428.8"></a><span id="l428.8"> </span>
<a href="#l428.9"></a><span id="l428.9"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l428.10"></a><span id="l428.10"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l428.11"></a><span id="l428.11"> </span>
<a href="#l428.12"></a><span id="l428.12" class="difflineminus">-const TIMEOUT = 10; // in seconds</span>
<a href="#l428.13"></a><span id="l428.13" class="difflineplus">+var TIMEOUT = 10; // in seconds</span>
<a href="#l428.14"></a><span id="l428.14"> </span>
<a href="#l428.15"></a><span id="l428.15"> // This is a bit ugly - we set outgoingDone to false</span>
<a href="#l428.16"></a><span id="l428.16"> // when emailWizard.js cancels the outgoing probe because the user picked</span>
<a href="#l428.17"></a><span id="l428.17"> // an outoing server. It does this by poking the probeAbortable object,</span>
<a href="#l428.18"></a><span id="l428.18"> // so we need outgoingDone to have global scope.</span>
<a href="#l428.19"></a><span id="l428.19"> var outgoingDone = false;</span>
<a href="#l428.20"></a><span id="l428.20"> </span>
<a href="#l428.21"></a><span id="l428.21"> /**</span>
<a href="#l428.22"></a><span id="l428.22" class="difflineat">@@ -280,20 +280,20 @@ GuessAbortable.prototype.cancel = functi</span>
<a href="#l428.23"></a><span id="l428.23"> };</span>
<a href="#l428.24"></a><span id="l428.24"> </span>
<a href="#l428.25"></a><span id="l428.25"> //////////////////////////////////////////////////////////////////////////////</span>
<a href="#l428.26"></a><span id="l428.26"> // Implementation</span>
<a href="#l428.27"></a><span id="l428.27"> //</span>
<a href="#l428.28"></a><span id="l428.28"> // Objects, functions and constants that follow are not to be used outside</span>
<a href="#l428.29"></a><span id="l428.29"> // this file.</span>
<a href="#l428.30"></a><span id="l428.30"> </span>
<a href="#l428.31"></a><span id="l428.31" class="difflineminus">-const kNotTried = 0;</span>
<a href="#l428.32"></a><span id="l428.32" class="difflineminus">-const kOngoing = 1;</span>
<a href="#l428.33"></a><span id="l428.33" class="difflineminus">-const kFailed = 2;</span>
<a href="#l428.34"></a><span id="l428.34" class="difflineminus">-const kSuccess = 3;</span>
<a href="#l428.35"></a><span id="l428.35" class="difflineplus">+var kNotTried = 0;</span>
<a href="#l428.36"></a><span id="l428.36" class="difflineplus">+var kOngoing = 1;</span>
<a href="#l428.37"></a><span id="l428.37" class="difflineplus">+var kFailed = 2;</span>
<a href="#l428.38"></a><span id="l428.38" class="difflineplus">+var kSuccess = 3;</span>
<a href="#l428.39"></a><span id="l428.39"> </span>
<a href="#l428.40"></a><span id="l428.40"> /**</span>
<a href="#l428.41"></a><span id="l428.41">  * Internal object holding one server that we should try or did try.</span>
<a href="#l428.42"></a><span id="l428.42">  * Used as |thisTry|.</span>
<a href="#l428.43"></a><span id="l428.43">  *</span>
<a href="#l428.44"></a><span id="l428.44">  * Note: The consts it uses for protocol and ssl are defined towards the end</span>
<a href="#l428.45"></a><span id="l428.45">  * of this file and not the same as those used in AccountConfig (type,</span>
<a href="#l428.46"></a><span id="l428.46">  * socketType). (fix this)</span>
<a href="#l428.47"></a><span id="l428.47" class="difflineat">@@ -703,42 +703,42 @@ OutgoingHostDetector.prototype =</span>
<a href="#l428.48"></a><span id="l428.48">   },</span>
<a href="#l428.49"></a><span id="l428.49">   _portsToTry : getOutgoingTryOrder,</span>
<a href="#l428.50"></a><span id="l428.50"> }</span>
<a href="#l428.51"></a><span id="l428.51"> </span>
<a href="#l428.52"></a><span id="l428.52"> //////////////////////////////////////////////////////////////////////////</span>
<a href="#l428.53"></a><span id="l428.53"> // Encode protocol ports and order of preference</span>
<a href="#l428.54"></a><span id="l428.54"> </span>
<a href="#l428.55"></a><span id="l428.55"> // Protocol Types</span>
<a href="#l428.56"></a><span id="l428.56" class="difflineminus">-const UNKNOWN = -1;</span>
<a href="#l428.57"></a><span id="l428.57" class="difflineminus">-const IMAP = 0;</span>
<a href="#l428.58"></a><span id="l428.58" class="difflineminus">-const POP = 1;</span>
<a href="#l428.59"></a><span id="l428.59" class="difflineminus">-const SMTP = 2;</span>
<a href="#l428.60"></a><span id="l428.60" class="difflineplus">+var UNKNOWN = -1;</span>
<a href="#l428.61"></a><span id="l428.61" class="difflineplus">+var IMAP = 0;</span>
<a href="#l428.62"></a><span id="l428.62" class="difflineplus">+var POP = 1;</span>
<a href="#l428.63"></a><span id="l428.63" class="difflineplus">+var SMTP = 2;</span>
<a href="#l428.64"></a><span id="l428.64"> // Security Types</span>
<a href="#l428.65"></a><span id="l428.65" class="difflineminus">-const NONE = 0; // no encryption</span>
<a href="#l428.66"></a><span id="l428.66" class="difflineplus">+var NONE = 0; // no encryption</span>
<a href="#l428.67"></a><span id="l428.67"> //1 would be &quot;TLS if available&quot;</span>
<a href="#l428.68"></a><span id="l428.68" class="difflineminus">-const TLS = 2; // STARTTLS</span>
<a href="#l428.69"></a><span id="l428.69" class="difflineminus">-const SSL = 3; // SSL / TLS</span>
<a href="#l428.70"></a><span id="l428.70" class="difflineplus">+var TLS = 2; // STARTTLS</span>
<a href="#l428.71"></a><span id="l428.71" class="difflineplus">+var SSL = 3; // SSL / TLS</span>
<a href="#l428.72"></a><span id="l428.72"> </span>
<a href="#l428.73"></a><span id="l428.73" class="difflineminus">-const IMAP_PORTS = {}</span>
<a href="#l428.74"></a><span id="l428.74" class="difflineplus">+var IMAP_PORTS = {}</span>
<a href="#l428.75"></a><span id="l428.75"> IMAP_PORTS[NONE] = 143;</span>
<a href="#l428.76"></a><span id="l428.76"> IMAP_PORTS[TLS] = 143;</span>
<a href="#l428.77"></a><span id="l428.77"> IMAP_PORTS[SSL] = 993;</span>
<a href="#l428.78"></a><span id="l428.78"> </span>
<a href="#l428.79"></a><span id="l428.79" class="difflineminus">-const POP_PORTS = {}</span>
<a href="#l428.80"></a><span id="l428.80" class="difflineplus">+var POP_PORTS = {}</span>
<a href="#l428.81"></a><span id="l428.81"> POP_PORTS[NONE] = 110;</span>
<a href="#l428.82"></a><span id="l428.82"> POP_PORTS[TLS] = 110;</span>
<a href="#l428.83"></a><span id="l428.83"> POP_PORTS[SSL] = 995;</span>
<a href="#l428.84"></a><span id="l428.84"> </span>
<a href="#l428.85"></a><span id="l428.85" class="difflineminus">-const SMTP_PORTS = {}</span>
<a href="#l428.86"></a><span id="l428.86" class="difflineplus">+var SMTP_PORTS = {}</span>
<a href="#l428.87"></a><span id="l428.87"> SMTP_PORTS[NONE] = 587;</span>
<a href="#l428.88"></a><span id="l428.88"> SMTP_PORTS[TLS] = 587;</span>
<a href="#l428.89"></a><span id="l428.89"> SMTP_PORTS[SSL] = 465;</span>
<a href="#l428.90"></a><span id="l428.90"> </span>
<a href="#l428.91"></a><span id="l428.91" class="difflineminus">-const CMDS = {}</span>
<a href="#l428.92"></a><span id="l428.92" class="difflineplus">+var CMDS = {}</span>
<a href="#l428.93"></a><span id="l428.93"> CMDS[IMAP] = [&quot;1 CAPABILITY\r\n&quot;, &quot;2 LOGOUT\r\n&quot;];</span>
<a href="#l428.94"></a><span id="l428.94"> CMDS[POP] = [&quot;CAPA\r\n&quot;, &quot;QUIT\r\n&quot;];</span>
<a href="#l428.95"></a><span id="l428.95"> CMDS[SMTP] = [&quot;EHLO we-guess.mozilla.org\r\n&quot;, &quot;QUIT\r\n&quot;];</span>
<a href="#l428.96"></a><span id="l428.96"> </span>
<a href="#l428.97"></a><span id="l428.97"> /**</span>
<a href="#l428.98"></a><span id="l428.98">  * Sort by preference of SSL, IMAP etc.</span>
<a href="#l428.99"></a><span id="l428.99">  * @param tries {Array of {HostTry}}</span>
<a href="#l428.100"></a><span id="l428.100">  * @returns {Array of {HostTry}}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l429.1"></a><span id="l429.1" class="difflineminus">--- a/mailnews/base/prefs/content/smtpEditOverlay.js</span>
<a href="#l429.2"></a><span id="l429.2" class="difflineplus">+++ b/mailnews/base/prefs/content/smtpEditOverlay.js</span>
<a href="#l429.3"></a><span id="l429.3" class="difflineat">@@ -13,17 +13,17 @@ var gSmtpUsername;</span>
<a href="#l429.4"></a><span id="l429.4"> var gSmtpDescription;</span>
<a href="#l429.5"></a><span id="l429.5"> var gSmtpUsernameLabel;</span>
<a href="#l429.6"></a><span id="l429.6"> var gSmtpHostname;</span>
<a href="#l429.7"></a><span id="l429.7"> var gSmtpPort;</span>
<a href="#l429.8"></a><span id="l429.8"> var gSmtpAuthMethod;</span>
<a href="#l429.9"></a><span id="l429.9"> var gSmtpSocketType;</span>
<a href="#l429.10"></a><span id="l429.10"> var gPort;</span>
<a href="#l429.11"></a><span id="l429.11"> var gDefaultPort;</span>
<a href="#l429.12"></a><span id="l429.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l429.13"></a><span id="l429.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l429.14"></a><span id="l429.14"> </span>
<a href="#l429.15"></a><span id="l429.15"> function initSmtpSettings(server) {</span>
<a href="#l429.16"></a><span id="l429.16">     gSmtpUsername = document.getElementById(&quot;smtp.username&quot;);</span>
<a href="#l429.17"></a><span id="l429.17">     gSmtpDescription = document.getElementById(&quot;smtp.description&quot;);</span>
<a href="#l429.18"></a><span id="l429.18">     gSmtpUsernameLabel = document.getElementById(&quot;smtp.username.label&quot;);</span>
<a href="#l429.19"></a><span id="l429.19">     gSmtpHostname = document.getElementById(&quot;smtp.hostname&quot;);</span>
<a href="#l429.20"></a><span id="l429.20">     gSmtpPort = document.getElementById(&quot;smtp.port&quot;);</span>
<a href="#l429.21"></a><span id="l429.21">     gSmtpAuthMethod = document.getElementById(&quot;smtp.authMethod&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l430.1"></a><span id="l430.1" class="difflineminus">--- a/mailnews/base/search/content/FilterEditor.js</span>
<a href="#l430.2"></a><span id="l430.2" class="difflineplus">+++ b/mailnews/base/search/content/FilterEditor.js</span>
<a href="#l430.3"></a><span id="l430.3" class="difflineat">@@ -32,20 +32,20 @@ var gFilterActionStrings = [&quot;none&quot;, &quot;mov</span>
<a href="#l430.4"></a><span id="l430.4"> </span>
<a href="#l430.5"></a><span id="l430.5"> // A temporary filter with the current state of actions in the UI.</span>
<a href="#l430.6"></a><span id="l430.6"> var gTempFilter = null;</span>
<a href="#l430.7"></a><span id="l430.7"> // A nsIArray of the currently defined actions in the order they will be run.</span>
<a href="#l430.8"></a><span id="l430.8"> var gActionListOrdered = null;</span>
<a href="#l430.9"></a><span id="l430.9"> </span>
<a href="#l430.10"></a><span id="l430.10"> var gFilterEditorMsgWindow = null;</span>
<a href="#l430.11"></a><span id="l430.11"> </span>
<a href="#l430.12"></a><span id="l430.12" class="difflineminus">-const nsMsgFilterAction = Components.interfaces.nsMsgFilterAction;</span>
<a href="#l430.13"></a><span id="l430.13" class="difflineminus">-const nsMsgFilterType   = Components.interfaces.nsMsgFilterType;</span>
<a href="#l430.14"></a><span id="l430.14" class="difflineminus">-const nsIMsgRuleAction  = Components.interfaces.nsIMsgRuleAction;</span>
<a href="#l430.15"></a><span id="l430.15" class="difflineminus">-const nsMsgSearchScope  = Components.interfaces.nsMsgSearchScope;</span>
<a href="#l430.16"></a><span id="l430.16" class="difflineplus">+var nsMsgFilterAction = Components.interfaces.nsMsgFilterAction;</span>
<a href="#l430.17"></a><span id="l430.17" class="difflineplus">+var nsMsgFilterType   = Components.interfaces.nsMsgFilterType;</span>
<a href="#l430.18"></a><span id="l430.18" class="difflineplus">+var nsIMsgRuleAction  = Components.interfaces.nsIMsgRuleAction;</span>
<a href="#l430.19"></a><span id="l430.19" class="difflineplus">+var nsMsgSearchScope  = Components.interfaces.nsMsgSearchScope;</span>
<a href="#l430.20"></a><span id="l430.20"> </span>
<a href="#l430.21"></a><span id="l430.21"> function filterEditorOnLoad()</span>
<a href="#l430.22"></a><span id="l430.22"> {</span>
<a href="#l430.23"></a><span id="l430.23">   getCustomActions();</span>
<a href="#l430.24"></a><span id="l430.24">   initializeSearchWidgets();</span>
<a href="#l430.25"></a><span id="l430.25">   initializeFilterWidgets();</span>
<a href="#l430.26"></a><span id="l430.26"> </span>
<a href="#l430.27"></a><span id="l430.27">   gFilterBundle = document.getElementById(&quot;bundle_filter&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l431.1"></a><span id="l431.1" class="difflineminus">--- a/mailnews/base/search/src/nsMsgTraitService.js</span>
<a href="#l431.2"></a><span id="l431.2" class="difflineplus">+++ b/mailnews/base/search/src/nsMsgTraitService.js</span>
<a href="#l431.3"></a><span id="l431.3" class="difflineat">@@ -231,9 +231,9 @@ function _init()</span>
<a href="#l431.4"></a><span id="l431.4">   }</span>
<a href="#l431.5"></a><span id="l431.5"> </span>
<a href="#l431.6"></a><span id="l431.6">   //for (traitId in _traits)</span>
<a href="#l431.7"></a><span id="l431.7">   //  dump(&quot;\nindex of &quot; + traitId + &quot; is &quot; + _traits[traitId].index);</span>
<a href="#l431.8"></a><span id="l431.8">   //dump(&quot;\n&quot;);</span>
<a href="#l431.9"></a><span id="l431.9"> }</span>
<a href="#l431.10"></a><span id="l431.10"> </span>
<a href="#l431.11"></a><span id="l431.11"> var components = [nsMsgTraitService];</span>
<a href="#l431.12"></a><span id="l431.12" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l431.13"></a><span id="l431.13" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l432.1"></a><span id="l432.1" class="difflineminus">--- a/mailnews/base/src/folderLookupService.js</span>
<a href="#l432.2"></a><span id="l432.2" class="difflineplus">+++ b/mailnews/base/src/folderLookupService.js</span>
<a href="#l432.3"></a><span id="l432.3" class="difflineat">@@ -5,18 +5,18 @@</span>
<a href="#l432.4"></a><span id="l432.4"> /**</span>
<a href="#l432.5"></a><span id="l432.5">  * This module implements the folder lookup service. Presently, this uses RDF as</span>
<a href="#l432.6"></a><span id="l432.6">  * the backing store, but the intent is that this will eventually become the</span>
<a href="#l432.7"></a><span id="l432.7">  * authoritative map.</span>
<a href="#l432.8"></a><span id="l432.8">  */</span>
<a href="#l432.9"></a><span id="l432.9"> </span>
<a href="#l432.10"></a><span id="l432.10"> &quot;use strict&quot;;</span>
<a href="#l432.11"></a><span id="l432.11"> </span>
<a href="#l432.12"></a><span id="l432.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l432.13"></a><span id="l432.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l432.14"></a><span id="l432.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l432.15"></a><span id="l432.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l432.16"></a><span id="l432.16"> </span>
<a href="#l432.17"></a><span id="l432.17"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l432.18"></a><span id="l432.18"> </span>
<a href="#l432.19"></a><span id="l432.19"> function isValidFolder(folder) {</span>
<a href="#l432.20"></a><span id="l432.20">   // RDF is liable to return folders that don't exist, and we may be working</span>
<a href="#l432.21"></a><span id="l432.21">   // with a deleted folder but we're still holding on to the reference. For</span>
<a href="#l432.22"></a><span id="l432.22">   // valid folders, one of two scenarios is true: either the folder has a parent</span>
<a href="#l432.23"></a><span id="l432.23">   // (the deletion code clears the parent to indicate its nonvalidity), or the</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l433.1"></a><span id="l433.1" class="difflineminus">--- a/mailnews/base/src/msgAsyncPrompter.js</span>
<a href="#l433.2"></a><span id="l433.2" class="difflineplus">+++ b/mailnews/base/src/msgAsyncPrompter.js</span>
<a href="#l433.3"></a><span id="l433.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l433.4"></a><span id="l433.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l433.5"></a><span id="l433.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l433.6"></a><span id="l433.6"> </span>
<a href="#l433.7"></a><span id="l433.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l433.8"></a><span id="l433.8"> Components.utils.import(&quot;resource://gre/modules/Task.jsm&quot;);</span>
<a href="#l433.9"></a><span id="l433.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l433.10"></a><span id="l433.10"> Components.utils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l433.11"></a><span id="l433.11"> </span>
<a href="#l433.12"></a><span id="l433.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l433.13"></a><span id="l433.13" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l433.14"></a><span id="l433.14" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l433.15"></a><span id="l433.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l433.16"></a><span id="l433.16"> </span>
<a href="#l433.17"></a><span id="l433.17"> function runnablePrompter(asyncPrompter, hashKey) {</span>
<a href="#l433.18"></a><span id="l433.18">   this._asyncPrompter = asyncPrompter;</span>
<a href="#l433.19"></a><span id="l433.19">   this._hashKey = hashKey;</span>
<a href="#l433.20"></a><span id="l433.20"> }</span>
<a href="#l433.21"></a><span id="l433.21"> </span>
<a href="#l433.22"></a><span id="l433.22"> runnablePrompter.prototype = {</span>
<a href="#l433.23"></a><span id="l433.23">   _asyncPrompter: null,</span>
<a href="#l433.24"></a><span id="l433.24" class="difflineat">@@ -118,9 +118,9 @@ msgAsyncPrompter.prototype = {</span>
<a href="#l433.25"></a><span id="l433.25">     this._log.debug(&quot;Dispatching runnablePrompter for &quot; + hashKey);</span>
<a href="#l433.26"></a><span id="l433.26"> </span>
<a href="#l433.27"></a><span id="l433.27">     let runnable = new runnablePrompter(this, hashKey);</span>
<a href="#l433.28"></a><span id="l433.28">     Services.tm.mainThread.dispatch(runnable, Ci.nsIThread.DISPATCH_NORMAL);</span>
<a href="#l433.29"></a><span id="l433.29">   }</span>
<a href="#l433.30"></a><span id="l433.30"> };</span>
<a href="#l433.31"></a><span id="l433.31"> </span>
<a href="#l433.32"></a><span id="l433.32"> var components = [msgAsyncPrompter];</span>
<a href="#l433.33"></a><span id="l433.33" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l433.34"></a><span id="l433.34" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l434.1"></a><span id="l434.1" class="difflineminus">--- a/mailnews/base/src/msgOAuth2Module.js</span>
<a href="#l434.2"></a><span id="l434.2" class="difflineplus">+++ b/mailnews/base/src/msgOAuth2Module.js</span>
<a href="#l434.3"></a><span id="l434.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l434.4"></a><span id="l434.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l434.5"></a><span id="l434.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l434.6"></a><span id="l434.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l434.7"></a><span id="l434.7"> </span>
<a href="#l434.8"></a><span id="l434.8"> &quot;use strict&quot;;</span>
<a href="#l434.9"></a><span id="l434.9"> </span>
<a href="#l434.10"></a><span id="l434.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l434.11"></a><span id="l434.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l434.12"></a><span id="l434.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l434.13"></a><span id="l434.13" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l434.14"></a><span id="l434.14" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l434.15"></a><span id="l434.15" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l434.16"></a><span id="l434.16"> </span>
<a href="#l434.17"></a><span id="l434.17"> Components.utils.import(&quot;resource://gre/modules/OAuth2.jsm&quot;);</span>
<a href="#l434.18"></a><span id="l434.18"> Components.utils.import(&quot;resource://gre/modules/OAuth2Providers.jsm&quot;);</span>
<a href="#l434.19"></a><span id="l434.19"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l434.20"></a><span id="l434.20"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l434.21"></a><span id="l434.21"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l434.22"></a><span id="l434.22"> </span>
<a href="#l434.23"></a><span id="l434.23"> function OAuth2Module() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l435.1"></a><span id="l435.1" class="difflineminus">--- a/mailnews/base/src/newMailNotificationService.js</span>
<a href="#l435.2"></a><span id="l435.2" class="difflineplus">+++ b/mailnews/base/src/newMailNotificationService.js</span>
<a href="#l435.3"></a><span id="l435.3" class="difflineat">@@ -7,31 +7,31 @@</span>
<a href="#l435.4"></a><span id="l435.4">  * platform-specific notification modules</span>
<a href="#l435.5"></a><span id="l435.5">  *</span>
<a href="#l435.6"></a><span id="l435.6">  * Logging for this module uses the TB version of log4moz. Default logging is at the Warn</span>
<a href="#l435.7"></a><span id="l435.7">  * level. Other possibly interesting messages are at Error, Info and Debug. To configure, set the</span>
<a href="#l435.8"></a><span id="l435.8">  * preferences &quot;mail.notification.logging.console&quot; (for the error console) or</span>
<a href="#l435.9"></a><span id="l435.9">  * &quot;mail.notification.logging.dump&quot; (for stderr) to the string indicating the level you want.</span>
<a href="#l435.10"></a><span id="l435.10">  */</span>
<a href="#l435.11"></a><span id="l435.11"> </span>
<a href="#l435.12"></a><span id="l435.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l435.13"></a><span id="l435.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l435.14"></a><span id="l435.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l435.15"></a><span id="l435.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l435.16"></a><span id="l435.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l435.17"></a><span id="l435.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l435.18"></a><span id="l435.18"> </span>
<a href="#l435.19"></a><span id="l435.19"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l435.20"></a><span id="l435.20"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l435.21"></a><span id="l435.21"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l435.22"></a><span id="l435.22"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l435.23"></a><span id="l435.23"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l435.24"></a><span id="l435.24"> </span>
<a href="#l435.25"></a><span id="l435.25" class="difflineminus">-const NMNS = Ci.mozINewMailNotificationService;</span>
<a href="#l435.26"></a><span id="l435.26" class="difflineplus">+var NMNS = Ci.mozINewMailNotificationService;</span>
<a href="#l435.27"></a><span id="l435.27"> </span>
<a href="#l435.28"></a><span id="l435.28" class="difflineminus">-const countInboxesPref = &quot;mail.notification.count.inbox_only&quot;;</span>
<a href="#l435.29"></a><span id="l435.29" class="difflineplus">+var countInboxesPref = &quot;mail.notification.count.inbox_only&quot;;</span>
<a href="#l435.30"></a><span id="l435.30"> // Old name for pref</span>
<a href="#l435.31"></a><span id="l435.31" class="difflineminus">-const countNewMessagesPref = &quot;mail.biff.use_new_count_in_mac_dock&quot;;</span>
<a href="#l435.32"></a><span id="l435.32" class="difflineplus">+var countNewMessagesPref = &quot;mail.biff.use_new_count_in_mac_dock&quot;;</span>
<a href="#l435.33"></a><span id="l435.33"> // When we go cross-platform we should migrate to</span>
<a href="#l435.34"></a><span id="l435.34"> // const countNewMessagesPref = &quot;mail.notification.count.new&quot;;</span>
<a href="#l435.35"></a><span id="l435.35"> </span>
<a href="#l435.36"></a><span id="l435.36"> // Helper function to retrieve a boolean preference with a default</span>
<a href="#l435.37"></a><span id="l435.37"> function getBoolPref(pref, defaultValue) {</span>
<a href="#l435.38"></a><span id="l435.38">   try {</span>
<a href="#l435.39"></a><span id="l435.39">     return Services.prefs.getBoolPref(pref);</span>
<a href="#l435.40"></a><span id="l435.40">   }</span>
<a href="#l435.41"></a><span id="l435.41" class="difflineat">@@ -369,9 +369,9 @@ NewMailNotificationService.prototype = {</span>
<a href="#l435.42"></a><span id="l435.42">     let list = this._listenersForFlag(flag);</span>
<a href="#l435.43"></a><span id="l435.43">     for (let i = 0; i &lt; list.length; i++) {</span>
<a href="#l435.44"></a><span id="l435.44">       this._log.debug(&quot;NMNS_notifyListeners &quot; + flag + &quot; &quot; + func + &quot; &quot; + value);</span>
<a href="#l435.45"></a><span id="l435.45">       list[i][func].call(list[i], value);</span>
<a href="#l435.46"></a><span id="l435.46">     }</span>
<a href="#l435.47"></a><span id="l435.47">   }</span>
<a href="#l435.48"></a><span id="l435.48"> };</span>
<a href="#l435.49"></a><span id="l435.49"> </span>
<a href="#l435.50"></a><span id="l435.50" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([NewMailNotificationService]);</span>
<a href="#l435.51"></a><span id="l435.51" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([NewMailNotificationService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l436.1"></a><span id="l436.1" class="difflineminus">--- a/mailnews/base/src/nsMailNewsCommandLineHandler.js</span>
<a href="#l436.2"></a><span id="l436.2" class="difflineplus">+++ b/mailnews/base/src/nsMailNewsCommandLineHandler.js</span>
<a href="#l436.3"></a><span id="l436.3" class="difflineat">@@ -1,25 +1,25 @@</span>
<a href="#l436.4"></a><span id="l436.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l436.5"></a><span id="l436.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l436.6"></a><span id="l436.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l436.7"></a><span id="l436.7"> </span>
<a href="#l436.8"></a><span id="l436.8" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l436.9"></a><span id="l436.9" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l436.10"></a><span id="l436.10" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l436.11"></a><span id="l436.11" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l436.12"></a><span id="l436.12" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l436.13"></a><span id="l436.13" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l436.14"></a><span id="l436.14"> </span>
<a href="#l436.15"></a><span id="l436.15"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l436.16"></a><span id="l436.16"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l436.17"></a><span id="l436.17"> Components.utils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l436.18"></a><span id="l436.18"> </span>
<a href="#l436.19"></a><span id="l436.19" class="difflineminus">-const MAPI_STARTUP_ARG = &quot;MapiStartup&quot;;</span>
<a href="#l436.20"></a><span id="l436.20" class="difflineminus">-const MESSAGE_ID_PARAM = &quot;?messageid=&quot;;</span>
<a href="#l436.21"></a><span id="l436.21" class="difflineplus">+var MAPI_STARTUP_ARG = &quot;MapiStartup&quot;;</span>
<a href="#l436.22"></a><span id="l436.22" class="difflineplus">+var MESSAGE_ID_PARAM = &quot;?messageid=&quot;;</span>
<a href="#l436.23"></a><span id="l436.23"> </span>
<a href="#l436.24"></a><span id="l436.24" class="difflineminus">-const CMDLINEHANDLER_CID = Components.ID(&quot;{2f86d554-f9d9-4e76-8eb7-243f047333ee}&quot;);</span>
<a href="#l436.25"></a><span id="l436.25" class="difflineminus">-const CMDLINEHANDLER_CONTRACTID = &quot;@mozilla.org/commandlinehandler/general-startup;1?type=mail&quot;;</span>
<a href="#l436.26"></a><span id="l436.26" class="difflineplus">+var CMDLINEHANDLER_CID = Components.ID(&quot;{2f86d554-f9d9-4e76-8eb7-243f047333ee}&quot;);</span>
<a href="#l436.27"></a><span id="l436.27" class="difflineplus">+var CMDLINEHANDLER_CONTRACTID = &quot;@mozilla.org/commandlinehandler/general-startup;1?type=mail&quot;;</span>
<a href="#l436.28"></a><span id="l436.28"> </span>
<a href="#l436.29"></a><span id="l436.29"> var nsMailNewsCommandLineHandler =</span>
<a href="#l436.30"></a><span id="l436.30"> {</span>
<a href="#l436.31"></a><span id="l436.31">   get _messenger() {</span>
<a href="#l436.32"></a><span id="l436.32">     delete this._messenger;</span>
<a href="#l436.33"></a><span id="l436.33">     return this._messenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span>
<a href="#l436.34"></a><span id="l436.34">                                .createInstance(Ci.nsIMessenger);</span>
<a href="#l436.35"></a><span id="l436.35">   },</span>
<a href="#l436.36"></a><span id="l436.36" class="difflineat">@@ -162,9 +162,9 @@ mailNewsCommandLineHandlerModule.prototy</span>
<a href="#l436.37"></a><span id="l436.37">   classID: CMDLINEHANDLER_CID,</span>
<a href="#l436.38"></a><span id="l436.38"> </span>
<a href="#l436.39"></a><span id="l436.39">   QueryInterface: XPCOMUtils.generateQI([Components.interfaces.nsIModule]),</span>
<a href="#l436.40"></a><span id="l436.40"> </span>
<a href="#l436.41"></a><span id="l436.41">   _xpcom_factory: nsMailNewsCommandLineHandler</span>
<a href="#l436.42"></a><span id="l436.42"> };</span>
<a href="#l436.43"></a><span id="l436.43"> </span>
<a href="#l436.44"></a><span id="l436.44"> var components = [mailNewsCommandLineHandlerModule];</span>
<a href="#l436.45"></a><span id="l436.45" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l436.46"></a><span id="l436.46" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l437.1"></a><span id="l437.1" class="difflineminus">--- a/mailnews/base/src/virtualFolderWrapper.js</span>
<a href="#l437.2"></a><span id="l437.2" class="difflineplus">+++ b/mailnews/base/src/virtualFolderWrapper.js</span>
<a href="#l437.3"></a><span id="l437.3" class="difflineat">@@ -3,20 +3,20 @@</span>
<a href="#l437.4"></a><span id="l437.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l437.5"></a><span id="l437.5"> </span>
<a href="#l437.6"></a><span id="l437.6"> /*</span>
<a href="#l437.7"></a><span id="l437.7">  * Wrap everything about virtual folders.</span>
<a href="#l437.8"></a><span id="l437.8">  */</span>
<a href="#l437.9"></a><span id="l437.9"> </span>
<a href="#l437.10"></a><span id="l437.10"> this.EXPORTED_SYMBOLS = ['VirtualFolderHelper'];</span>
<a href="#l437.11"></a><span id="l437.11"> </span>
<a href="#l437.12"></a><span id="l437.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l437.13"></a><span id="l437.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l437.14"></a><span id="l437.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l437.15"></a><span id="l437.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l437.16"></a><span id="l437.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l437.17"></a><span id="l437.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l437.18"></a><span id="l437.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l437.19"></a><span id="l437.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l437.20"></a><span id="l437.20"> </span>
<a href="#l437.21"></a><span id="l437.21"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l437.22"></a><span id="l437.22"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l437.23"></a><span id="l437.23"> </span>
<a href="#l437.24"></a><span id="l437.24"> var VirtualFolderHelper = {</span>
<a href="#l437.25"></a><span id="l437.25">   /**</span>
<a href="#l437.26"></a><span id="l437.26">    * Create a new virtual folder (an actual nsIMsgFolder that did not previously</span>
<a href="#l437.27"></a><span id="l437.27">    *  exist), wrapping it in a VirtualFolderWrapper, and returning that wrapper.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l438.1"></a><span id="l438.1" class="difflineminus">--- a/mailnews/base/test/unit/test_autoconfigFetchDisk.js</span>
<a href="#l438.2"></a><span id="l438.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_autoconfigFetchDisk.js</span>
<a href="#l438.3"></a><span id="l438.3" class="difflineat">@@ -7,17 +7,17 @@</span>
<a href="#l438.4"></a><span id="l438.4">  * Tests getting a configuration file from the local isp directory and</span>
<a href="#l438.5"></a><span id="l438.5">  * reading that file.</span>
<a href="#l438.6"></a><span id="l438.6">  */</span>
<a href="#l438.7"></a><span id="l438.7"> </span>
<a href="#l438.8"></a><span id="l438.8"> // Globals</span>
<a href="#l438.9"></a><span id="l438.9"> </span>
<a href="#l438.10"></a><span id="l438.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l438.11"></a><span id="l438.11"> </span>
<a href="#l438.12"></a><span id="l438.12" class="difflineminus">-const kXMLFile = &quot;example.com.xml&quot;;</span>
<a href="#l438.13"></a><span id="l438.13" class="difflineplus">+var kXMLFile = &quot;example.com.xml&quot;;</span>
<a href="#l438.14"></a><span id="l438.14"> var fetchConfigAbortable;</span>
<a href="#l438.15"></a><span id="l438.15"> var copyLocation;</span>
<a href="#l438.16"></a><span id="l438.16"> </span>
<a href="#l438.17"></a><span id="l438.17"> var xmlReader =</span>
<a href="#l438.18"></a><span id="l438.18"> {</span>
<a href="#l438.19"></a><span id="l438.19">   setTimeout : function(func, interval) {</span>
<a href="#l438.20"></a><span id="l438.20">     do_timeout(interval, func);</span>
<a href="#l438.21"></a><span id="l438.21">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l439.1"></a><span id="l439.1" class="difflineminus">--- a/mailnews/base/test/unit/test_bug366491.js</span>
<a href="#l439.2"></a><span id="l439.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_bug366491.js</span>
<a href="#l439.3"></a><span id="l439.3" class="difflineat">@@ -7,19 +7,19 @@</span>
<a href="#l439.4"></a><span id="l439.4"> // main setup</span>
<a href="#l439.5"></a><span id="l439.5"> </span>
<a href="#l439.6"></a><span id="l439.6"> // only needed during debug</span>
<a href="#l439.7"></a><span id="l439.7"> //do_import_script(&quot;mailnews/extensions/bayesian-spam-filter/test/resources/trainingfile.js&quot;);</span>
<a href="#l439.8"></a><span id="l439.8"> </span>
<a href="#l439.9"></a><span id="l439.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l439.10"></a><span id="l439.10"> </span>
<a href="#l439.11"></a><span id="l439.11"> // local constants</span>
<a href="#l439.12"></a><span id="l439.12" class="difflineminus">-const kUnclassified = MailServices.junk.UNCLASSIFIED;</span>
<a href="#l439.13"></a><span id="l439.13" class="difflineminus">-const kJunk = MailServices.junk.JUNK;</span>
<a href="#l439.14"></a><span id="l439.14" class="difflineminus">-const kGood = MailServices.junk.GOOD;</span>
<a href="#l439.15"></a><span id="l439.15" class="difflineplus">+var kUnclassified = MailServices.junk.UNCLASSIFIED;</span>
<a href="#l439.16"></a><span id="l439.16" class="difflineplus">+var kJunk = MailServices.junk.JUNK;</span>
<a href="#l439.17"></a><span id="l439.17" class="difflineplus">+var kGood = MailServices.junk.GOOD;</span>
<a href="#l439.18"></a><span id="l439.18"> </span>
<a href="#l439.19"></a><span id="l439.19"> /*</span>
<a href="#l439.20"></a><span id="l439.20">  * This test is not intended to check the spam calculations,</span>
<a href="#l439.21"></a><span id="l439.21">  * but only that the junk percent is transmitted (particularly</span>
<a href="#l439.22"></a><span id="l439.22">  * for intermediate values). The test</span>
<a href="#l439.23"></a><span id="l439.23">  * junkPercent values below were calculated by the plugin,</span>
<a href="#l439.24"></a><span id="l439.24">  * not indepedently verified.</span>
<a href="#l439.25"></a><span id="l439.25">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l440.1"></a><span id="l440.1" class="difflineminus">--- a/mailnews/base/test/unit/test_bug404489.js</span>
<a href="#l440.2"></a><span id="l440.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_bug404489.js</span>
<a href="#l440.3"></a><span id="l440.3" class="difflineat">@@ -1,24 +1,24 @@</span>
<a href="#l440.4"></a><span id="l440.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l440.5"></a><span id="l440.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l440.6"></a><span id="l440.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l440.7"></a><span id="l440.7"> </span>
<a href="#l440.8"></a><span id="l440.8"> // Tests that custom headers like &quot;Sender&quot; work (bug 404489)</span>
<a href="#l440.9"></a><span id="l440.9"> </span>
<a href="#l440.10"></a><span id="l440.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l440.11"></a><span id="l440.11"> </span>
<a href="#l440.12"></a><span id="l440.12" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l440.13"></a><span id="l440.13" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l440.14"></a><span id="l440.14" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l440.15"></a><span id="l440.15" class="difflineminus">-const Contains = nsMsgSearchOp.Contains;</span>
<a href="#l440.16"></a><span id="l440.16" class="difflineminus">-const offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l440.17"></a><span id="l440.17" class="difflineminus">-const gArrayHdrs = [&quot;X-Bugzilla-Who&quot;, &quot;Sender&quot;];</span>
<a href="#l440.18"></a><span id="l440.18" class="difflineminus">-const gFirstHeader = nsMsgSearchAttrib.OtherHeader + 1;</span>
<a href="#l440.19"></a><span id="l440.19" class="difflineminus">-const fileName = &quot;../../../data/SenderHeader&quot;;</span>
<a href="#l440.20"></a><span id="l440.20" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l440.21"></a><span id="l440.21" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l440.22"></a><span id="l440.22" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l440.23"></a><span id="l440.23" class="difflineplus">+var Contains = nsMsgSearchOp.Contains;</span>
<a href="#l440.24"></a><span id="l440.24" class="difflineplus">+var offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l440.25"></a><span id="l440.25" class="difflineplus">+var gArrayHdrs = [&quot;X-Bugzilla-Who&quot;, &quot;Sender&quot;];</span>
<a href="#l440.26"></a><span id="l440.26" class="difflineplus">+var gFirstHeader = nsMsgSearchAttrib.OtherHeader + 1;</span>
<a href="#l440.27"></a><span id="l440.27" class="difflineplus">+var fileName = &quot;../../../data/SenderHeader&quot;;</span>
<a href="#l440.28"></a><span id="l440.28"> </span>
<a href="#l440.29"></a><span id="l440.29"> var Tests =</span>
<a href="#l440.30"></a><span id="l440.30"> [</span>
<a href="#l440.31"></a><span id="l440.31">   /* test header:</span>
<a href="#l440.32"></a><span id="l440.32">   X-Bugzilla-Who: bugmail@example.org</span>
<a href="#l440.33"></a><span id="l440.33"> </span>
<a href="#l440.34"></a><span id="l440.34">   This just shows that normal custom headers work</span>
<a href="#l440.35"></a><span id="l440.35">   */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l441.1"></a><span id="l441.1" class="difflineminus">--- a/mailnews/base/test/unit/test_bug428427.js</span>
<a href="#l441.2"></a><span id="l441.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_bug428427.js</span>
<a href="#l441.3"></a><span id="l441.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l441.4"></a><span id="l441.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l441.5"></a><span id="l441.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l441.6"></a><span id="l441.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l441.7"></a><span id="l441.7"> </span>
<a href="#l441.8"></a><span id="l441.8"> // Test of message count changes in virtual folder views</span>
<a href="#l441.9"></a><span id="l441.9"> </span>
<a href="#l441.10"></a><span id="l441.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l441.11"></a><span id="l441.11"> </span>
<a href="#l441.12"></a><span id="l441.12" class="difflineminus">-const dbviewContractId = &quot;@mozilla.org/messenger/msgdbview;1?type=&quot; + &quot;quicksearch&quot;;</span>
<a href="#l441.13"></a><span id="l441.13" class="difflineminus">-const dbView = Cc[dbviewContractId].createInstance(Ci.nsIMsgDBView);</span>
<a href="#l441.14"></a><span id="l441.14" class="difflineminus">-const bugmail1 = do_get_file(&quot;../../../data/bugmail1&quot;);</span>
<a href="#l441.15"></a><span id="l441.15" class="difflineplus">+var dbviewContractId = &quot;@mozilla.org/messenger/msgdbview;1?type=&quot; + &quot;quicksearch&quot;;</span>
<a href="#l441.16"></a><span id="l441.16" class="difflineplus">+var dbView = Cc[dbviewContractId].createInstance(Ci.nsIMsgDBView);</span>
<a href="#l441.17"></a><span id="l441.17" class="difflineplus">+var bugmail1 = do_get_file(&quot;../../../data/bugmail1&quot;);</span>
<a href="#l441.18"></a><span id="l441.18"> // main test</span>
<a href="#l441.19"></a><span id="l441.19"> </span>
<a href="#l441.20"></a><span id="l441.20"> // the headers for the test messages. All messages are identical, but</span>
<a href="#l441.21"></a><span id="l441.21"> // have different properties set on them.</span>
<a href="#l441.22"></a><span id="l441.22"> var hdrs = [];</span>
<a href="#l441.23"></a><span id="l441.23"> </span>
<a href="#l441.24"></a><span id="l441.24"> // how many identical messages to load</span>
<a href="#l441.25"></a><span id="l441.25"> var messageCount = 5;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l442.1"></a><span id="l442.1" class="difflineminus">--- a/mailnews/base/test/unit/test_bug465805.js</span>
<a href="#l442.2"></a><span id="l442.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_bug465805.js</span>
<a href="#l442.3"></a><span id="l442.3" class="difflineat">@@ -4,26 +4,26 @@</span>
<a href="#l442.4"></a><span id="l442.4"> </span>
<a href="#l442.5"></a><span id="l442.5"> // This tests that we do not crash when loading the email bodySearchCrash,</span>
<a href="#l442.6"></a><span id="l442.6"> // which was fixed in bug 465805</span>
<a href="#l442.7"></a><span id="l442.7"> </span>
<a href="#l442.8"></a><span id="l442.8"> load(&quot;../../../resources/searchTestUtils.js&quot;);</span>
<a href="#l442.9"></a><span id="l442.9"> </span>
<a href="#l442.10"></a><span id="l442.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l442.11"></a><span id="l442.11"> </span>
<a href="#l442.12"></a><span id="l442.12" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l442.13"></a><span id="l442.13" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l442.14"></a><span id="l442.14" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l442.15"></a><span id="l442.15" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l442.16"></a><span id="l442.16" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l442.17"></a><span id="l442.17" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l442.18"></a><span id="l442.18"> </span>
<a href="#l442.19"></a><span id="l442.19" class="difflineminus">-const Contains = nsMsgSearchOp.Contains;</span>
<a href="#l442.20"></a><span id="l442.20" class="difflineplus">+var Contains = nsMsgSearchOp.Contains;</span>
<a href="#l442.21"></a><span id="l442.21"> </span>
<a href="#l442.22"></a><span id="l442.22" class="difflineminus">-const offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l442.23"></a><span id="l442.23" class="difflineminus">-const offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l442.24"></a><span id="l442.24" class="difflineplus">+var offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l442.25"></a><span id="l442.25" class="difflineplus">+var offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l442.26"></a><span id="l442.26"> </span>
<a href="#l442.27"></a><span id="l442.27" class="difflineminus">-const Body = nsMsgSearchAttrib.Body;</span>
<a href="#l442.28"></a><span id="l442.28" class="difflineplus">+var Body = nsMsgSearchAttrib.Body;</span>
<a href="#l442.29"></a><span id="l442.29"> </span>
<a href="#l442.30"></a><span id="l442.30"> var Files = </span>
<a href="#l442.31"></a><span id="l442.31"> [</span>
<a href="#l442.32"></a><span id="l442.32">   &quot;../../../data/bugmail1&quot;,</span>
<a href="#l442.33"></a><span id="l442.33">   &quot;../../../data/bodySearchCrash&quot;</span>
<a href="#l442.34"></a><span id="l442.34"> ]</span>
<a href="#l442.35"></a><span id="l442.35"> </span>
<a href="#l442.36"></a><span id="l442.36"> var Tests =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l443.1"></a><span id="l443.1" class="difflineminus">--- a/mailnews/base/test/unit/test_bug471682.js</span>
<a href="#l443.2"></a><span id="l443.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_bug471682.js</span>
<a href="#l443.3"></a><span id="l443.3" class="difflineat">@@ -5,17 +5,17 @@</span>
<a href="#l443.4"></a><span id="l443.4"> /*</span>
<a href="#l443.5"></a><span id="l443.5">  * Test of message database validity on local copy from bug 471682. What</span>
<a href="#l443.6"></a><span id="l443.6">  * we want to do here is to copy a couple of message to a new folder, and</span>
<a href="#l443.7"></a><span id="l443.7">  * then compare the date and filesize of the folder file with the</span>
<a href="#l443.8"></a><span id="l443.8">  * stored result in dbfolderinfo. If they don't match, that's bad.</span>
<a href="#l443.9"></a><span id="l443.9">  */</span>
<a href="#l443.10"></a><span id="l443.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l443.11"></a><span id="l443.11"> </span>
<a href="#l443.12"></a><span id="l443.12" class="difflineminus">-const bugmail1 = do_get_file(&quot;../../../data/bugmail1&quot;);</span>
<a href="#l443.13"></a><span id="l443.13" class="difflineplus">+var bugmail1 = do_get_file(&quot;../../../data/bugmail1&quot;);</span>
<a href="#l443.14"></a><span id="l443.14"> var gHdr; // header of test message in local folder</span>
<a href="#l443.15"></a><span id="l443.15"> </span>
<a href="#l443.16"></a><span id="l443.16"> localAccountUtils.loadLocalMailAccount();</span>
<a href="#l443.17"></a><span id="l443.17"> // create a subfolder as a target for copies</span>
<a href="#l443.18"></a><span id="l443.18"> var gSubfolder = localAccountUtils.inboxFolder.createLocalSubfolder(&quot;subfolder&quot;);</span>
<a href="#l443.19"></a><span id="l443.19"> </span>
<a href="#l443.20"></a><span id="l443.20"> function run_test()</span>
<a href="#l443.21"></a><span id="l443.21"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l444.1"></a><span id="l444.1" class="difflineminus">--- a/mailnews/base/test/unit/test_compactColumnSave.js</span>
<a href="#l444.2"></a><span id="l444.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_compactColumnSave.js</span>
<a href="#l444.3"></a><span id="l444.3" class="difflineat">@@ -32,18 +32,18 @@ Services.prefs.setCharPref(&quot;mail.serverD</span>
<a href="#l444.4"></a><span id="l444.4"> // Globals</span>
<a href="#l444.5"></a><span id="l444.5"> var gMsgFile1, gMsgFile2, gMsgFile3;</span>
<a href="#l444.6"></a><span id="l444.6"> var gLocalFolder2;</span>
<a href="#l444.7"></a><span id="l444.7"> </span>
<a href="#l444.8"></a><span id="l444.8"> var gCurTestNum;</span>
<a href="#l444.9"></a><span id="l444.9"> </span>
<a href="#l444.10"></a><span id="l444.10"> var gMsgHdrs = new Array();</span>
<a href="#l444.11"></a><span id="l444.11"> </span>
<a href="#l444.12"></a><span id="l444.12" class="difflineminus">-const PERSISTED_COLUMN_PROPERTY_NAME = &quot;columnStates&quot;;</span>
<a href="#l444.13"></a><span id="l444.13" class="difflineminus">-const columnJSON = '{&quot;threadCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;1&quot;},&quot;flaggedCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;4&quot;},&quot;attachmentCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;5&quot;},&quot;subjectCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;7&quot;},&quot;unreadButtonColHeader&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;9&quot;},&quot;senderCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;11&quot;},&quot;recipientCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;13&quot;},&quot;junkStatusCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;15&quot;},&quot;receivedCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;17&quot;},&quot;dateCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;19&quot;},&quot;statusCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;21&quot;},&quot;sizeCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;23&quot;},&quot;tagsCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;25&quot;},&quot;accountCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;27&quot;},&quot;priorityCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;29&quot;},&quot;unreadCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;31&quot;},&quot;totalCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;33&quot;},&quot;locationCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;35&quot;},&quot;idCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;37&quot;}}';</span>
<a href="#l444.14"></a><span id="l444.14" class="difflineplus">+var PERSISTED_COLUMN_PROPERTY_NAME = &quot;columnStates&quot;;</span>
<a href="#l444.15"></a><span id="l444.15" class="difflineplus">+var columnJSON = '{&quot;threadCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;1&quot;},&quot;flaggedCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;4&quot;},&quot;attachmentCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;5&quot;},&quot;subjectCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;7&quot;},&quot;unreadButtonColHeader&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;9&quot;},&quot;senderCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;11&quot;},&quot;recipientCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;13&quot;},&quot;junkStatusCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;15&quot;},&quot;receivedCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;17&quot;},&quot;dateCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;19&quot;},&quot;statusCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;21&quot;},&quot;sizeCol&quot;:{&quot;visible&quot;:true,&quot;ordinal&quot;:&quot;23&quot;},&quot;tagsCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;25&quot;},&quot;accountCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;27&quot;},&quot;priorityCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;29&quot;},&quot;unreadCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;31&quot;},&quot;totalCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;33&quot;},&quot;locationCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;35&quot;},&quot;idCol&quot;:{&quot;visible&quot;:false,&quot;ordinal&quot;:&quot;37&quot;}}';</span>
<a href="#l444.16"></a><span id="l444.16"> </span>
<a href="#l444.17"></a><span id="l444.17"> function setColumnStates(folder) {</span>
<a href="#l444.18"></a><span id="l444.18">   let msgDatabase = folder.msgDatabase;</span>
<a href="#l444.19"></a><span id="l444.19">   let dbFolderInfo = msgDatabase.dBFolderInfo;</span>
<a href="#l444.20"></a><span id="l444.20">   dbFolderInfo.setCharProperty(this.PERSISTED_COLUMN_PROPERTY_NAME, columnJSON);</span>
<a href="#l444.21"></a><span id="l444.21">   msgDatabase.Commit(Components.interfaces.nsMsgDBCommitType.kLargeCommit);</span>
<a href="#l444.22"></a><span id="l444.22"> }</span>
<a href="#l444.23"></a><span id="l444.23"> </span>
<a href="#l444.24"></a><span id="l444.24" class="difflineat">@@ -114,17 +114,17 @@ function deleteMessages(srcFolder, items</span>
<a href="#l444.25"></a><span id="l444.25">   srcFolder.deleteMessages(array, null, false, true, copyListener, true);</span>
<a href="#l444.26"></a><span id="l444.26"> }</span>
<a href="#l444.27"></a><span id="l444.27"> </span>
<a href="#l444.28"></a><span id="l444.28"> /*</span>
<a href="#l444.29"></a><span id="l444.29">  * TESTS</span>
<a href="#l444.30"></a><span id="l444.30">  */</span>
<a href="#l444.31"></a><span id="l444.31"> </span>
<a href="#l444.32"></a><span id="l444.32"> // Beware before commenting out a test -- later tests might just depend on earlier ones</span>
<a href="#l444.33"></a><span id="l444.33" class="difflineminus">-const gTestArray =</span>
<a href="#l444.34"></a><span id="l444.34" class="difflineplus">+var gTestArray =</span>
<a href="#l444.35"></a><span id="l444.35"> [</span>
<a href="#l444.36"></a><span id="l444.36">   // Copying messages from files</span>
<a href="#l444.37"></a><span id="l444.37">   function testCopyFileMessage1() { copyFileMessage(gMsgFile1, gLocalFolder2, false); },</span>
<a href="#l444.38"></a><span id="l444.38">   function testCopyFileMessage2() { copyFileMessage(gMsgFile2, gLocalFolder2, false); },</span>
<a href="#l444.39"></a><span id="l444.39">   function testCopyFileMessage3() { copyFileMessage(gMsgFile3, gLocalFolder2, true); },</span>
<a href="#l444.40"></a><span id="l444.40"> </span>
<a href="#l444.41"></a><span id="l444.41">   // Deleting messages</span>
<a href="#l444.42"></a><span id="l444.42">   function testDeleteMessages1() { // delete to trash</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l445.1"></a><span id="l445.1" class="difflineminus">--- a/mailnews/base/test/unit/test_copyChaining.js</span>
<a href="#l445.2"></a><span id="l445.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_copyChaining.js</span>
<a href="#l445.3"></a><span id="l445.3" class="difflineat">@@ -12,17 +12,17 @@ var gCopySource;</span>
<a href="#l445.4"></a><span id="l445.4"> var gCopyDest;</span>
<a href="#l445.5"></a><span id="l445.5"> var gMsgEnumerator;</span>
<a href="#l445.6"></a><span id="l445.6"> var gCurTestNum = 1;</span>
<a href="#l445.7"></a><span id="l445.7"> </span>
<a href="#l445.8"></a><span id="l445.8"> // main test</span>
<a href="#l445.9"></a><span id="l445.9"> </span>
<a href="#l445.10"></a><span id="l445.10"> var hdrs = [];</span>
<a href="#l445.11"></a><span id="l445.11"> </span>
<a href="#l445.12"></a><span id="l445.12" class="difflineminus">-const gTestArray =</span>
<a href="#l445.13"></a><span id="l445.13" class="difflineplus">+var gTestArray =</span>
<a href="#l445.14"></a><span id="l445.14"> [</span>
<a href="#l445.15"></a><span id="l445.15">   function copyMsg1() {</span>
<a href="#l445.16"></a><span id="l445.16">     gMsgEnumerator = gCopySource.msgDatabase.EnumerateMessages();</span>
<a href="#l445.17"></a><span id="l445.17">     CopyNextMessage();</span>
<a href="#l445.18"></a><span id="l445.18">   },</span>
<a href="#l445.19"></a><span id="l445.19">   function copyMsg2() {</span>
<a href="#l445.20"></a><span id="l445.20">     CopyNextMessage();</span>
<a href="#l445.21"></a><span id="l445.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l446.1"></a><span id="l446.1" class="difflineminus">--- a/mailnews/base/test/unit/test_copyThenMoveManual.js</span>
<a href="#l446.2"></a><span id="l446.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_copyThenMoveManual.js</span>
<a href="#l446.3"></a><span id="l446.3" class="difflineat">@@ -5,22 +5,22 @@</span>
<a href="#l446.4"></a><span id="l446.4">  * Original author: Kent James &lt;kent@caspia.com&gt;</span>
<a href="#l446.5"></a><span id="l446.5">  */</span>
<a href="#l446.6"></a><span id="l446.6"> </span>
<a href="#l446.7"></a><span id="l446.7"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l446.8"></a><span id="l446.8"> </span>
<a href="#l446.9"></a><span id="l446.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l446.10"></a><span id="l446.10"> Components.utils.import(&quot;resource://testing-common/mailnews/PromiseTestUtils.jsm&quot;);</span>
<a href="#l446.11"></a><span id="l446.11"> </span>
<a href="#l446.12"></a><span id="l446.12" class="difflineminus">-const gFiles = [&quot;../../../data/bugmail1&quot;];</span>
<a href="#l446.13"></a><span id="l446.13" class="difflineplus">+var gFiles = [&quot;../../../data/bugmail1&quot;];</span>
<a href="#l446.14"></a><span id="l446.14"> var gCopyFolder;</span>
<a href="#l446.15"></a><span id="l446.15"> var gMoveFolder;</span>
<a href="#l446.16"></a><span id="l446.16"> var gFilter; // the test filter</span>
<a href="#l446.17"></a><span id="l446.17"> var gFilterList;</span>
<a href="#l446.18"></a><span id="l446.18" class="difflineminus">-const gTestArray =</span>
<a href="#l446.19"></a><span id="l446.19" class="difflineplus">+var gTestArray =</span>
<a href="#l446.20"></a><span id="l446.20"> [</span>
<a href="#l446.21"></a><span id="l446.21">   function createFilters() {</span>
<a href="#l446.22"></a><span id="l446.22">     // setup manual copy then move mail filters on the inbox</span>
<a href="#l446.23"></a><span id="l446.23">     gFilterList = localAccountUtils.incomingServer.getFilterList(null);</span>
<a href="#l446.24"></a><span id="l446.24">     gFilter = gFilterList.createFilter(&quot;copyThenMoveAll&quot;);</span>
<a href="#l446.25"></a><span id="l446.25">     let searchTerm = gFilter.createTerm();</span>
<a href="#l446.26"></a><span id="l446.26">     searchTerm.matchAll = true;</span>
<a href="#l446.27"></a><span id="l446.27">     gFilter.appendTerm(searchTerm);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l447.1"></a><span id="l447.1" class="difflineminus">--- a/mailnews/base/test/unit/test_emptyTrash.js</span>
<a href="#l447.2"></a><span id="l447.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_emptyTrash.js</span>
<a href="#l447.3"></a><span id="l447.3" class="difflineat">@@ -19,18 +19,18 @@</span>
<a href="#l447.4"></a><span id="l447.4"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l447.5"></a><span id="l447.5"> </span>
<a href="#l447.6"></a><span id="l447.6"> var gMsgFile1;</span>
<a href="#l447.7"></a><span id="l447.7"> var gLocalTrashFolder;</span>
<a href="#l447.8"></a><span id="l447.8"> var gCurTestNum;</span>
<a href="#l447.9"></a><span id="l447.9"> var gMsgHdrs = new Array();</span>
<a href="#l447.10"></a><span id="l447.10"> var gRootFolder;</span>
<a href="#l447.11"></a><span id="l447.11"> </span>
<a href="#l447.12"></a><span id="l447.12" class="difflineminus">-const nsIMFNService = Ci.nsIMsgFolderNotificationService;</span>
<a href="#l447.13"></a><span id="l447.13" class="difflineminus">-const nsIMFListener = Ci.nsIMsgFolderListener;</span>
<a href="#l447.14"></a><span id="l447.14" class="difflineplus">+var nsIMFNService = Ci.nsIMsgFolderNotificationService;</span>
<a href="#l447.15"></a><span id="l447.15" class="difflineplus">+var nsIMFListener = Ci.nsIMsgFolderListener;</span>
<a href="#l447.16"></a><span id="l447.16"> </span>
<a href="#l447.17"></a><span id="l447.17"> // nsIMsgCopyServiceListener implementation</span>
<a href="#l447.18"></a><span id="l447.18"> var copyListener = </span>
<a href="#l447.19"></a><span id="l447.19"> {</span>
<a href="#l447.20"></a><span id="l447.20">   OnStartCopy: function() {},</span>
<a href="#l447.21"></a><span id="l447.21">   OnProgress: function(aProgress, aProgressMax) {},</span>
<a href="#l447.22"></a><span id="l447.22">   SetMessageKey: function(aKey)</span>
<a href="#l447.23"></a><span id="l447.23">   {</span>
<a href="#l447.24"></a><span id="l447.24" class="difflineat">@@ -80,17 +80,17 @@ function deleteMessages(srcFolder, items</span>
<a href="#l447.25"></a><span id="l447.25">   srcFolder.deleteMessages(array, null, false, true, copyListener, true);</span>
<a href="#l447.26"></a><span id="l447.26"> }</span>
<a href="#l447.27"></a><span id="l447.27"> </span>
<a href="#l447.28"></a><span id="l447.28"> /*</span>
<a href="#l447.29"></a><span id="l447.29">  * TESTS</span>
<a href="#l447.30"></a><span id="l447.30">  */</span>
<a href="#l447.31"></a><span id="l447.31"> </span>
<a href="#l447.32"></a><span id="l447.32"> // Beware before commenting out a test -- later tests might just depend on earlier ones</span>
<a href="#l447.33"></a><span id="l447.33" class="difflineminus">-const gTestArray =</span>
<a href="#l447.34"></a><span id="l447.34" class="difflineplus">+var gTestArray =</span>
<a href="#l447.35"></a><span id="l447.35"> [</span>
<a href="#l447.36"></a><span id="l447.36">   // Copying message from file</span>
<a href="#l447.37"></a><span id="l447.37">   function testCopyFileMessage1() {</span>
<a href="#l447.38"></a><span id="l447.38">     copyFileMessage(gMsgFile1, localAccountUtils.inboxFolder, false);</span>
<a href="#l447.39"></a><span id="l447.39">   },</span>
<a href="#l447.40"></a><span id="l447.40"> </span>
<a href="#l447.41"></a><span id="l447.41">   // Delete message</span>
<a href="#l447.42"></a><span id="l447.42">   function testDeleteMessage() { // delete to trash</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l448.1"></a><span id="l448.1" class="difflineminus">--- a/mailnews/base/test/unit/test_folderCompact.js</span>
<a href="#l448.2"></a><span id="l448.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_folderCompact.js</span>
<a href="#l448.3"></a><span id="l448.3" class="difflineat">@@ -146,17 +146,17 @@ function verifyMsgOffsets(folder)</span>
<a href="#l448.4"></a><span id="l448.4">   }</span>
<a href="#l448.5"></a><span id="l448.5"> }</span>
<a href="#l448.6"></a><span id="l448.6"> </span>
<a href="#l448.7"></a><span id="l448.7"> /*</span>
<a href="#l448.8"></a><span id="l448.8">  * TESTS</span>
<a href="#l448.9"></a><span id="l448.9">  */</span>
<a href="#l448.10"></a><span id="l448.10"> </span>
<a href="#l448.11"></a><span id="l448.11"> // Beware before commenting out a test -- later tests might just depend on earlier ones</span>
<a href="#l448.12"></a><span id="l448.12" class="difflineminus">-const gTestArray =</span>
<a href="#l448.13"></a><span id="l448.13" class="difflineplus">+var gTestArray =</span>
<a href="#l448.14"></a><span id="l448.14"> [</span>
<a href="#l448.15"></a><span id="l448.15">   // Copying messages from files</span>
<a href="#l448.16"></a><span id="l448.16">   function testCopyFileMessage1() {</span>
<a href="#l448.17"></a><span id="l448.17">     copyFileMessage(gMsgFile1, localAccountUtils.inboxFolder, false);</span>
<a href="#l448.18"></a><span id="l448.18">   },</span>
<a href="#l448.19"></a><span id="l448.19">   function testCopyFileMessage2() {</span>
<a href="#l448.20"></a><span id="l448.20">     copyFileMessage(gMsgFile2, localAccountUtils.inboxFolder, false);</span>
<a href="#l448.21"></a><span id="l448.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l449.1"></a><span id="l449.1" class="difflineminus">--- a/mailnews/base/test/unit/test_folderLookupService.js</span>
<a href="#l449.2"></a><span id="l449.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_folderLookupService.js</span>
<a href="#l449.3"></a><span id="l449.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l449.4"></a><span id="l449.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l449.5"></a><span id="l449.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l449.6"></a><span id="l449.6"> </span>
<a href="#l449.7"></a><span id="l449.7"> /**</span>
<a href="#l449.8"></a><span id="l449.8">  * This tests that nsIFolderLookupService works acording to specification.</span>
<a href="#l449.9"></a><span id="l449.9">  */</span>
<a href="#l449.10"></a><span id="l449.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l449.11"></a><span id="l449.11"> </span>
<a href="#l449.12"></a><span id="l449.12" class="difflineminus">-const kRootURI = &quot;mailbox://nobody@Local%20Folders&quot;;</span>
<a href="#l449.13"></a><span id="l449.13" class="difflineplus">+var kRootURI = &quot;mailbox://nobody@Local%20Folders&quot;;</span>
<a href="#l449.14"></a><span id="l449.14"> </span>
<a href="#l449.15"></a><span id="l449.15"> function run_test() {</span>
<a href="#l449.16"></a><span id="l449.16">   let fls = Components.classes[&quot;@mozilla.org/mail/folder-lookup;1&quot;]</span>
<a href="#l449.17"></a><span id="l449.17">                       .getService(Components.interfaces.nsIFolderLookupService);</span>
<a href="#l449.18"></a><span id="l449.18"> </span>
<a href="#l449.19"></a><span id="l449.19">   // Make sure that the local mail account exists.</span>
<a href="#l449.20"></a><span id="l449.20">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l449.21"></a><span id="l449.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l450.1"></a><span id="l450.1" class="difflineminus">--- a/mailnews/base/test/unit/test_formatFileSize.js</span>
<a href="#l450.2"></a><span id="l450.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_formatFileSize.js</span>
<a href="#l450.3"></a><span id="l450.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l450.4"></a><span id="l450.4"> </span>
<a href="#l450.5"></a><span id="l450.5"> /*</span>
<a href="#l450.6"></a><span id="l450.6">  * Tests for the formatFileSize method.</span>
<a href="#l450.7"></a><span id="l450.7">  */</span>
<a href="#l450.8"></a><span id="l450.8"> </span>
<a href="#l450.9"></a><span id="l450.9"> load(&quot;../../../../mailnews/resources/logHelper.js&quot;);</span>
<a href="#l450.10"></a><span id="l450.10"> load(&quot;../../../../mailnews/resources/asyncTestUtils.js&quot;);</span>
<a href="#l450.11"></a><span id="l450.11"> </span>
<a href="#l450.12"></a><span id="l450.12" class="difflineminus">-const gStringBundle = Services.strings.createBundle(</span>
<a href="#l450.13"></a><span id="l450.13" class="difflineplus">+var gStringBundle = Services.strings.createBundle(</span>
<a href="#l450.14"></a><span id="l450.14">   &quot;chrome://messenger/locale/messenger.properties&quot;);</span>
<a href="#l450.15"></a><span id="l450.15"> </span>
<a href="#l450.16"></a><span id="l450.16"> var gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span>
<a href="#l450.17"></a><span id="l450.17">                    .createInstance(Ci.nsIMessenger);</span>
<a href="#l450.18"></a><span id="l450.18"> </span>
<a href="#l450.19"></a><span id="l450.19"> function isDigit(c) {</span>
<a href="#l450.20"></a><span id="l450.20">   return &quot;0123456789&quot;.indexOf(c) != -1;</span>
<a href="#l450.21"></a><span id="l450.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l451.1"></a><span id="l451.1" class="difflineminus">--- a/mailnews/base/test/unit/test_getMsgTextFromStream.js</span>
<a href="#l451.2"></a><span id="l451.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_getMsgTextFromStream.js</span>
<a href="#l451.3"></a><span id="l451.3" class="difflineat">@@ -9,25 +9,25 @@</span>
<a href="#l451.4"></a><span id="l451.4"> /**</span>
<a href="#l451.5"></a><span id="l451.5">  * Test suite for GetMsgTextFromStream.</span>
<a href="#l451.6"></a><span id="l451.6">  *</span>
<a href="#l451.7"></a><span id="l451.7">  * Currently tests: text/plain, text/html -- with tags stripped and without,</span>
<a href="#l451.8"></a><span id="l451.8">  * base64, multipart.</span>
<a href="#l451.9"></a><span id="l451.9">  * Does not currently test: quoted-printable, stripping quotes, UTF-8, small values of</span>
<a href="#l451.10"></a><span id="l451.10">  * bytesToRead.</span>
<a href="#l451.11"></a><span id="l451.11">  */</span>
<a href="#l451.12"></a><span id="l451.12" class="difflineminus">-const kDataRoot = &quot;../../../data/&quot;</span>
<a href="#l451.13"></a><span id="l451.13" class="difflineplus">+var kDataRoot = &quot;../../../data/&quot;</span>
<a href="#l451.14"></a><span id="l451.14"> </span>
<a href="#l451.15"></a><span id="l451.15"> function create(fileName, bytes, compressQuotes, stripHTML, outContentType)</span>
<a href="#l451.16"></a><span id="l451.16"> {</span>
<a href="#l451.17"></a><span id="l451.17">   return {name: fileName, bytesToRead: bytes, compressQuotes: compressQuotes, stripHTML: stripHTML,</span>
<a href="#l451.18"></a><span id="l451.18">           contentType: outContentType};</span>
<a href="#l451.19"></a><span id="l451.19"> }</span>
<a href="#l451.20"></a><span id="l451.20"> </span>
<a href="#l451.21"></a><span id="l451.21" class="difflineminus">-const gTestFiles =</span>
<a href="#l451.22"></a><span id="l451.22" class="difflineplus">+var gTestFiles =</span>
<a href="#l451.23"></a><span id="l451.23"> [</span>
<a href="#l451.24"></a><span id="l451.24">   create(&quot;basic1&quot;, 1024, false, false, &quot;text/plain&quot;), // Simple plain text</span>
<a href="#l451.25"></a><span id="l451.25">   create(&quot;basic1&quot;, 1024, false, true, &quot;text/plain&quot;), // should be same as above</span>
<a href="#l451.26"></a><span id="l451.26">   create(&quot;basic2&quot;, 1024, false, false, &quot;text/html&quot;), // Simple HTML</span>
<a href="#l451.27"></a><span id="l451.27">   create(&quot;basic3&quot;, 1024, false, true, &quot;text/html&quot;), // HTML with tags stripped out</span>
<a href="#l451.28"></a><span id="l451.28">   create(&quot;basic4&quot;, 1024, false, false, &quot;text/plain&quot;), // No content type, should be assumed to be text/plain</span>
<a href="#l451.29"></a><span id="l451.29">   create(&quot;basic4&quot;, 1024, false, true, &quot;text/plain&quot;),</span>
<a href="#l451.30"></a><span id="l451.30">   create(&quot;basic5&quot;, 1024, false, false, &quot;text/plain&quot;), // HTML content in text/plain</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l452.1"></a><span id="l452.1" class="difflineminus">--- a/mailnews/base/test/unit/test_imapPump.js</span>
<a href="#l452.2"></a><span id="l452.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_imapPump.js</span>
<a href="#l452.3"></a><span id="l452.3" class="difflineat">@@ -15,17 +15,17 @@ Components.utils.import(&quot;resource://test</span>
<a href="#l452.4"></a><span id="l452.4"> Components.utils.import(&quot;resource://testing-common/mailnews/IMAPpump.js&quot;);</span>
<a href="#l452.5"></a><span id="l452.5"> Components.utils.import(&quot;resource://testing-common/mailnews/imapd.js&quot;);</span>
<a href="#l452.6"></a><span id="l452.6"> </span>
<a href="#l452.7"></a><span id="l452.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l452.8"></a><span id="l452.8"> </span>
<a href="#l452.9"></a><span id="l452.9"> // Globals</span>
<a href="#l452.10"></a><span id="l452.10"> </span>
<a href="#l452.11"></a><span id="l452.11"> // Messages to load must have CRLF line endings, that is Windows style</span>
<a href="#l452.12"></a><span id="l452.12" class="difflineminus">-const gMessage = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l452.13"></a><span id="l452.13" class="difflineplus">+var gMessage = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l452.14"></a><span id="l452.14"> </span>
<a href="#l452.15"></a><span id="l452.15"> // Definition of tests</span>
<a href="#l452.16"></a><span id="l452.16"> </span>
<a href="#l452.17"></a><span id="l452.17"> // load and update a message in the imap fake server</span>
<a href="#l452.18"></a><span id="l452.18"> </span>
<a href="#l452.19"></a><span id="l452.19"> var gTestArray = </span>
<a href="#l452.20"></a><span id="l452.20"> [</span>
<a href="#l452.21"></a><span id="l452.21">   // initial setup of IMAP environment</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l453.1"></a><span id="l453.1" class="difflineminus">--- a/mailnews/base/test/unit/test_iteratorUtils.js</span>
<a href="#l453.2"></a><span id="l453.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_iteratorUtils.js</span>
<a href="#l453.3"></a><span id="l453.3" class="difflineat">@@ -160,17 +160,17 @@ function test_toArray_builtin_iterator()</span>
<a href="#l453.4"></a><span id="l453.4">   } catch (e) {</span>
<a href="#l453.5"></a><span id="l453.5">     // A specific exception is the correct behaviour here.</span>
<a href="#l453.6"></a><span id="l453.6">     if (e.message == &quot;An unsupported object sent to toArray: [object Object]&quot;)</span>
<a href="#l453.7"></a><span id="l453.7">       thrown = true;</span>
<a href="#l453.8"></a><span id="l453.8">   }</span>
<a href="#l453.9"></a><span id="l453.9">   do_check_true(thrown);</span>
<a href="#l453.10"></a><span id="l453.10"> }</span>
<a href="#l453.11"></a><span id="l453.11"> </span>
<a href="#l453.12"></a><span id="l453.12" class="difflineminus">-const Symbol_iterator = typeof Symbol === &quot;function&quot; &amp;&amp; Symbol.iterator ?</span>
<a href="#l453.13"></a><span id="l453.13" class="difflineplus">+var Symbol_iterator = typeof Symbol === &quot;function&quot; &amp;&amp; Symbol.iterator ?</span>
<a href="#l453.14"></a><span id="l453.14">   Symbol.iterator : &quot;@@iterator&quot;;</span>
<a href="#l453.15"></a><span id="l453.15"> </span>
<a href="#l453.16"></a><span id="l453.16"> /**</span>
<a href="#l453.17"></a><span id="l453.17">  * Test that toArray works correctly with a custom iterator.</span>
<a href="#l453.18"></a><span id="l453.18">  */</span>
<a href="#l453.19"></a><span id="l453.19"> function test_toArray_custom_iterator() {</span>
<a href="#l453.20"></a><span id="l453.20">   let arr = [21, 22, 23, 24, 25, 26, 27, 28, 29, 30];</span>
<a href="#l453.21"></a><span id="l453.21">   let iterator = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l454.1"></a><span id="l454.1" class="difflineminus">--- a/mailnews/base/test/unit/test_junkWhitelisting.js</span>
<a href="#l454.2"></a><span id="l454.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_junkWhitelisting.js</span>
<a href="#l454.3"></a><span id="l454.3" class="difflineat">@@ -22,18 +22,18 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l454.4"></a><span id="l454.4">  *</span>
<a href="#l454.5"></a><span id="l454.5">  *  Index  Bugmail#      From</span>
<a href="#l454.6"></a><span id="l454.6">  *    0        1          P</span>
<a href="#l454.7"></a><span id="l454.7">  *    1        3          I</span>
<a href="#l454.8"></a><span id="l454.8">  *</span>
<a href="#l454.9"></a><span id="l454.9">  */</span>
<a href="#l454.10"></a><span id="l454.10">  </span>
<a href="#l454.11"></a><span id="l454.11"> // indices into hdrs[] of email by domain</span>
<a href="#l454.12"></a><span id="l454.12" class="difflineminus">-const kDomainTest = 0;</span>
<a href="#l454.13"></a><span id="l454.13" class="difflineminus">-const kDomainExample = 1;</span>
<a href="#l454.14"></a><span id="l454.14" class="difflineplus">+var kDomainTest = 0;</span>
<a href="#l454.15"></a><span id="l454.15" class="difflineplus">+var kDomainExample = 1;</span>
<a href="#l454.16"></a><span id="l454.16"> </span>
<a href="#l454.17"></a><span id="l454.17"> var Files = </span>
<a href="#l454.18"></a><span id="l454.18"> [</span>
<a href="#l454.19"></a><span id="l454.19">   &quot;../../../data/bugmail1&quot;,</span>
<a href="#l454.20"></a><span id="l454.20">   &quot;../../../data/bugmail3&quot;</span>
<a href="#l454.21"></a><span id="l454.21"> ]</span>
<a href="#l454.22"></a><span id="l454.22"> </span>
<a href="#l454.23"></a><span id="l454.23"> var hdrs = [];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l455.1"></a><span id="l455.1" class="difflineminus">--- a/mailnews/base/test/unit/test_junkingWhenDisabled.js</span>
<a href="#l455.2"></a><span id="l455.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_junkingWhenDisabled.js</span>
<a href="#l455.3"></a><span id="l455.3" class="difflineat">@@ -11,17 +11,17 @@ load(&quot;../../../resources/messageGenerato</span>
<a href="#l455.4"></a><span id="l455.4"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l455.5"></a><span id="l455.5"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l455.6"></a><span id="l455.6"> </span>
<a href="#l455.7"></a><span id="l455.7"> Components.utils.import(&quot;resource:///modules/jsTreeSelection.js&quot;);</span>
<a href="#l455.8"></a><span id="l455.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l455.9"></a><span id="l455.9"> </span>
<a href="#l455.10"></a><span id="l455.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l455.11"></a><span id="l455.11"> </span>
<a href="#l455.12"></a><span id="l455.12" class="difflineminus">-const nsIMFNService = Ci.nsIMsgFolderNotificationService;</span>
<a href="#l455.13"></a><span id="l455.13" class="difflineplus">+var nsIMFNService = Ci.nsIMsgFolderNotificationService;</span>
<a href="#l455.14"></a><span id="l455.14"> </span>
<a href="#l455.15"></a><span id="l455.15"> // fake objects needed to get nsMsgDBView to operate on selected messages.</span>
<a href="#l455.16"></a><span id="l455.16"> // Warning: these are partial implementations. If someone adds additional</span>
<a href="#l455.17"></a><span id="l455.17"> // calls to these objects in nsMsgDBView and friends, it will also</span>
<a href="#l455.18"></a><span id="l455.18"> // be necessary to add fake versions of those calls here.</span>
<a href="#l455.19"></a><span id="l455.19"> </span>
<a href="#l455.20"></a><span id="l455.20"> var gFakeView = {</span>
<a href="#l455.21"></a><span id="l455.21">   rowCount: 1,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l456.1"></a><span id="l456.1" class="difflineminus">--- a/mailnews/base/test/unit/test_newMailNotification.js</span>
<a href="#l456.2"></a><span id="l456.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_newMailNotification.js</span>
<a href="#l456.3"></a><span id="l456.3" class="difflineat">@@ -3,17 +3,17 @@</span>
<a href="#l456.4"></a><span id="l456.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l456.5"></a><span id="l456.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l456.6"></a><span id="l456.6"> </span>
<a href="#l456.7"></a><span id="l456.7"> /* Tests for platform-independent code to count new and unread messages and pass the</span>
<a href="#l456.8"></a><span id="l456.8">  * information to platform-specific notification modules */</span>
<a href="#l456.9"></a><span id="l456.9"> </span>
<a href="#l456.10"></a><span id="l456.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l456.11"></a><span id="l456.11"> </span>
<a href="#l456.12"></a><span id="l456.12" class="difflineminus">-const iNMNS = Ci.mozINewMailNotificationService;</span>
<a href="#l456.13"></a><span id="l456.13" class="difflineplus">+var iNMNS = Ci.mozINewMailNotificationService;</span>
<a href="#l456.14"></a><span id="l456.14"> </span>
<a href="#l456.15"></a><span id="l456.15"> /*</span>
<a href="#l456.16"></a><span id="l456.16">  * Register listener for a particular event, make sure it shows up in the right lists</span>
<a href="#l456.17"></a><span id="l456.17">  * of listeners (and not the wrong ones) and doesn't show up after being removed</span>
<a href="#l456.18"></a><span id="l456.18">  */</span>
<a href="#l456.19"></a><span id="l456.19"> add_test(function testListeners() {</span>
<a href="#l456.20"></a><span id="l456.20">   let notif = MailServices.newMailNotification.wrappedJSObject;</span>
<a href="#l456.21"></a><span id="l456.21">   let listener = {a: 1};</span>
<a href="#l456.22"></a><span id="l456.22" class="difflineat">@@ -59,17 +59,17 @@ add_test(function testMultiListeners() {</span>
<a href="#l456.23"></a><span id="l456.23">   newlist = notif._listenersForFlag(iNMNS.messages);</span>
<a href="#l456.24"></a><span id="l456.24">   do_check_eq(newlist.length, 1);</span>
<a href="#l456.25"></a><span id="l456.25">   do_check_eq(newlist[0], l2);</span>
<a href="#l456.26"></a><span id="l456.26">   notif.removeListener(l2);</span>
<a href="#l456.27"></a><span id="l456.27"> </span>
<a href="#l456.28"></a><span id="l456.28">   run_next_test();</span>
<a href="#l456.29"></a><span id="l456.29"> });</span>
<a href="#l456.30"></a><span id="l456.30"> </span>
<a href="#l456.31"></a><span id="l456.31" class="difflineminus">-const countInboxesPref = &quot;mail.notification.count.inbox_only&quot;;</span>
<a href="#l456.32"></a><span id="l456.32" class="difflineplus">+var countInboxesPref = &quot;mail.notification.count.inbox_only&quot;;</span>
<a href="#l456.33"></a><span id="l456.33"> </span>
<a href="#l456.34"></a><span id="l456.34"> /* Make sure we get a notification call when the unread count changes on an Inbox */</span>
<a href="#l456.35"></a><span id="l456.35"> add_test(function testNotifyInbox() {</span>
<a href="#l456.36"></a><span id="l456.36">   let notified = false;</span>
<a href="#l456.37"></a><span id="l456.37">   let mockListener = {</span>
<a href="#l456.38"></a><span id="l456.38">     onCountChanged: function TNU_onCountChanged(count) {notified = true;}</span>
<a href="#l456.39"></a><span id="l456.39">   };</span>
<a href="#l456.40"></a><span id="l456.40">   let folder = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l457.1"></a><span id="l457.1" class="difflineminus">--- a/mailnews/base/test/unit/test_nsIMsgFolderListener.js</span>
<a href="#l457.2"></a><span id="l457.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_nsIMsgFolderListener.js</span>
<a href="#l457.3"></a><span id="l457.3" class="difflineat">@@ -7,21 +7,21 @@</span>
<a href="#l457.4"></a><span id="l457.4">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l457.5"></a><span id="l457.5"> </span>
<a href="#l457.6"></a><span id="l457.6"> /*</span>
<a href="#l457.7"></a><span id="l457.7">  * Test suite for basic functionality with nsIMsgFolderListeners.</span>
<a href="#l457.8"></a><span id="l457.8">  */</span>
<a href="#l457.9"></a><span id="l457.9"> </span>
<a href="#l457.10"></a><span id="l457.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l457.11"></a><span id="l457.11"> </span>
<a href="#l457.12"></a><span id="l457.12" class="difflineminus">-const nsIMFNService = Ci.nsIMsgFolderNotificationService;</span>
<a href="#l457.13"></a><span id="l457.13" class="difflineminus">-const nsIMFListener = Ci.nsIMsgFolderListener;</span>
<a href="#l457.14"></a><span id="l457.14" class="difflineplus">+var nsIMFNService = Ci.nsIMsgFolderNotificationService;</span>
<a href="#l457.15"></a><span id="l457.15" class="difflineplus">+var nsIMFListener = Ci.nsIMsgFolderListener;</span>
<a href="#l457.16"></a><span id="l457.16"> </span>
<a href="#l457.17"></a><span id="l457.17"> </span>
<a href="#l457.18"></a><span id="l457.18" class="difflineminus">-const gIndividualFlags =</span>
<a href="#l457.19"></a><span id="l457.19" class="difflineplus">+var gIndividualFlags =</span>
<a href="#l457.20"></a><span id="l457.20"> [</span>
<a href="#l457.21"></a><span id="l457.21">   nsIMFNService.msgAdded,</span>
<a href="#l457.22"></a><span id="l457.22">   nsIMFNService.msgsClassified,</span>
<a href="#l457.23"></a><span id="l457.23">   nsIMFNService.msgsDeleted,</span>
<a href="#l457.24"></a><span id="l457.24">   nsIMFNService.msgsMoveCopyCompleted,</span>
<a href="#l457.25"></a><span id="l457.25">   nsIMFNService.msgKeyChanged,</span>
<a href="#l457.26"></a><span id="l457.26">   nsIMFNService.folderAdded,</span>
<a href="#l457.27"></a><span id="l457.27">   nsIMFNService.folderDeleted,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l458.1"></a><span id="l458.1" class="difflineminus">--- a/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js</span>
<a href="#l458.2"></a><span id="l458.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js</span>
<a href="#l458.3"></a><span id="l458.3" class="difflineat">@@ -159,17 +159,17 @@ function compactFolder(folder)</span>
<a href="#l458.4"></a><span id="l458.4">     resetStatusAndProceed();</span>
<a href="#l458.5"></a><span id="l458.5"> }</span>
<a href="#l458.6"></a><span id="l458.6"> </span>
<a href="#l458.7"></a><span id="l458.7"> /*</span>
<a href="#l458.8"></a><span id="l458.8">  * TESTS</span>
<a href="#l458.9"></a><span id="l458.9">  */</span>
<a href="#l458.10"></a><span id="l458.10"> </span>
<a href="#l458.11"></a><span id="l458.11"> // Beware before commenting out a test -- later tests might just depend on earlier ones</span>
<a href="#l458.12"></a><span id="l458.12" class="difflineminus">-const gTestArray =</span>
<a href="#l458.13"></a><span id="l458.13" class="difflineplus">+var gTestArray =</span>
<a href="#l458.14"></a><span id="l458.14"> [</span>
<a href="#l458.15"></a><span id="l458.15">   // Adding folders</span>
<a href="#l458.16"></a><span id="l458.16">   // Create another folder to move and copy messages around, and force initialization.</span>
<a href="#l458.17"></a><span id="l458.17">   function addFolder1() { addFolder(gRootFolder, &quot;folder2&quot;, &quot;gLocalFolder2&quot;); },</span>
<a href="#l458.18"></a><span id="l458.18">   // Create a third folder for more testing.</span>
<a href="#l458.19"></a><span id="l458.19">   function addFolder2() { addFolder(gRootFolder, &quot;folder3&quot;, &quot;gLocalFolder3&quot;); },</span>
<a href="#l458.20"></a><span id="l458.20">   // Folder structure is now</span>
<a href="#l458.21"></a><span id="l458.21">   // Inbox</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l459.1"></a><span id="l459.1" class="difflineminus">--- a/mailnews/base/test/unit/test_nsMsgMailSession_Listeners.js</span>
<a href="#l459.2"></a><span id="l459.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_nsMsgMailSession_Listeners.js</span>
<a href="#l459.3"></a><span id="l459.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l459.4"></a><span id="l459.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l459.5"></a><span id="l459.5"> /*</span>
<a href="#l459.6"></a><span id="l459.6">  * Test suite for nsMsgMailSession functions relating to listeners.</span>
<a href="#l459.7"></a><span id="l459.7">  */</span>
<a href="#l459.8"></a><span id="l459.8"> </span>
<a href="#l459.9"></a><span id="l459.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l459.10"></a><span id="l459.10"> </span>
<a href="#l459.11"></a><span id="l459.11" class="difflineminus">-const nsIFolderListener = Components.interfaces.nsIFolderListener;</span>
<a href="#l459.12"></a><span id="l459.12" class="difflineminus">-const numListenerFunctions = 8;</span>
<a href="#l459.13"></a><span id="l459.13" class="difflineplus">+var nsIFolderListener = Components.interfaces.nsIFolderListener;</span>
<a href="#l459.14"></a><span id="l459.14" class="difflineplus">+var numListenerFunctions = 8;</span>
<a href="#l459.15"></a><span id="l459.15"> </span>
<a href="#l459.16"></a><span id="l459.16"> var gMailSessionNotifier = MailServices.mailSession.QueryInterface(nsIFolderListener);</span>
<a href="#l459.17"></a><span id="l459.17"> </span>
<a href="#l459.18"></a><span id="l459.18"> var gFLAll;</span>
<a href="#l459.19"></a><span id="l459.19"> var gFLSingle = new Array(numListenerFunctions);</span>
<a href="#l459.20"></a><span id="l459.20"> </span>
<a href="#l459.21"></a><span id="l459.21"> function fL() {}</span>
<a href="#l459.22"></a><span id="l459.22"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l460.1"></a><span id="l460.1" class="difflineminus">--- a/mailnews/base/test/unit/test_nsMsgTraitService.js</span>
<a href="#l460.2"></a><span id="l460.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_nsMsgTraitService.js</span>
<a href="#l460.3"></a><span id="l460.3" class="difflineat">@@ -1,26 +1,26 @@</span>
<a href="#l460.4"></a><span id="l460.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l460.5"></a><span id="l460.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l460.6"></a><span id="l460.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l460.7"></a><span id="l460.7"> </span>
<a href="#l460.8"></a><span id="l460.8" class="difflineminus">-const ts = Cc[&quot;@mozilla.org/msg-trait-service;1&quot;]</span>
<a href="#l460.9"></a><span id="l460.9" class="difflineplus">+var ts = Cc[&quot;@mozilla.org/msg-trait-service;1&quot;]</span>
<a href="#l460.10"></a><span id="l460.10">              .getService(Ci.nsIMsgTraitService);</span>
<a href="#l460.11"></a><span id="l460.11"> </span>
<a href="#l460.12"></a><span id="l460.12"> // junk-related traits set by default</span>
<a href="#l460.13"></a><span id="l460.13" class="difflineminus">-const kJunkId = &quot;mailnews@mozilla.org#junk&quot;;</span>
<a href="#l460.14"></a><span id="l460.14" class="difflineminus">-const kGoodId = &quot;mailnews@mozilla.org#good&quot;;</span>
<a href="#l460.15"></a><span id="l460.15" class="difflineminus">-const kGoodIndex = Ci.nsIJunkMailPlugin.GOOD_TRAIT;</span>
<a href="#l460.16"></a><span id="l460.16" class="difflineminus">-const kJunkIndex = Ci.nsIJunkMailPlugin.JUNK_TRAIT;</span>
<a href="#l460.17"></a><span id="l460.17" class="difflineplus">+var kJunkId = &quot;mailnews@mozilla.org#junk&quot;;</span>
<a href="#l460.18"></a><span id="l460.18" class="difflineplus">+var kGoodId = &quot;mailnews@mozilla.org#good&quot;;</span>
<a href="#l460.19"></a><span id="l460.19" class="difflineplus">+var kGoodIndex = Ci.nsIJunkMailPlugin.GOOD_TRAIT;</span>
<a href="#l460.20"></a><span id="l460.20" class="difflineplus">+var kJunkIndex = Ci.nsIJunkMailPlugin.JUNK_TRAIT;</span>
<a href="#l460.21"></a><span id="l460.21"> </span>
<a href="#l460.22"></a><span id="l460.22"> // a dummy set of traits</span>
<a href="#l460.23"></a><span id="l460.23" class="difflineminus">-const proId = &quot;TheProTrait&quot;;</span>
<a href="#l460.24"></a><span id="l460.24" class="difflineminus">-const proName = &quot;ProName&quot;;</span>
<a href="#l460.25"></a><span id="l460.25" class="difflineminus">-const antiId = &quot;TheAntiTrait&quot;;</span>
<a href="#l460.26"></a><span id="l460.26" class="difflineminus">-const antiName = &quot;AntiName&quot;;</span>
<a href="#l460.27"></a><span id="l460.27" class="difflineplus">+var proId = &quot;TheProTrait&quot;;</span>
<a href="#l460.28"></a><span id="l460.28" class="difflineplus">+var proName = &quot;ProName&quot;;</span>
<a href="#l460.29"></a><span id="l460.29" class="difflineplus">+var antiId = &quot;TheAntiTrait&quot;;</span>
<a href="#l460.30"></a><span id="l460.30" class="difflineplus">+var antiName = &quot;AntiName&quot;;</span>
<a href="#l460.31"></a><span id="l460.31"> </span>
<a href="#l460.32"></a><span id="l460.32"> function run_test()</span>
<a href="#l460.33"></a><span id="l460.33"> {</span>
<a href="#l460.34"></a><span id="l460.34">   // Check lastIndex prior to adding, 3 - 1000 are reserved for mailnews</span>
<a href="#l460.35"></a><span id="l460.35">   do_check_eq(ts.lastIndex, 1000);</span>
<a href="#l460.36"></a><span id="l460.36"> </span>
<a href="#l460.37"></a><span id="l460.37">   // basic junk as traits should be setup automatically</span>
<a href="#l460.38"></a><span id="l460.38">   do_check_eq(kGoodId,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l461.1"></a><span id="l461.1" class="difflineminus">--- a/mailnews/base/test/unit/test_postPluginFilters.js</span>
<a href="#l461.2"></a><span id="l461.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_postPluginFilters.js</span>
<a href="#l461.3"></a><span id="l461.3" class="difflineat">@@ -5,31 +5,31 @@</span>
<a href="#l461.4"></a><span id="l461.4"> /*</span>
<a href="#l461.5"></a><span id="l461.5">  * tests post-plugin message filters as implemented in bug 198100</span>
<a href="#l461.6"></a><span id="l461.6">  */</span>
<a href="#l461.7"></a><span id="l461.7"> </span>
<a href="#l461.8"></a><span id="l461.8"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l461.9"></a><span id="l461.9"> </span>
<a href="#l461.10"></a><span id="l461.10"> // Globals</span>
<a href="#l461.11"></a><span id="l461.11"> </span>
<a href="#l461.12"></a><span id="l461.12" class="difflineminus">-const gDbService = Cc[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span>
<a href="#l461.13"></a><span id="l461.13" class="difflineplus">+var gDbService = Cc[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span>
<a href="#l461.14"></a><span id="l461.14">                      .getService(Ci.nsIMsgDBService);</span>
<a href="#l461.15"></a><span id="l461.15"> </span>
<a href="#l461.16"></a><span id="l461.16"> // command functions for test data</span>
<a href="#l461.17"></a><span id="l461.17" class="difflineminus">-const kTrain = 0;  // train a file as a trait</span>
<a href="#l461.18"></a><span id="l461.18" class="difflineminus">-const kClass = 1;  // classify files with traits</span>
<a href="#l461.19"></a><span id="l461.19" class="difflineplus">+var kTrain = 0;  // train a file as a trait</span>
<a href="#l461.20"></a><span id="l461.20" class="difflineplus">+var kClass = 1;  // classify files with traits</span>
<a href="#l461.21"></a><span id="l461.21"> </span>
<a href="#l461.22"></a><span id="l461.22"> var gTest; // currently active test</span>
<a href="#l461.23"></a><span id="l461.23"> var gMsgHdr; // current message header</span>
<a href="#l461.24"></a><span id="l461.24"> </span>
<a href="#l461.25"></a><span id="l461.25" class="difflineminus">-const kJunkFile = &quot;../../../data/bugmail1&quot;;</span>
<a href="#l461.26"></a><span id="l461.26" class="difflineminus">-const kGoodFile = &quot;../../../data/draft1&quot;;</span>
<a href="#l461.27"></a><span id="l461.27" class="difflineplus">+var kJunkFile = &quot;../../../data/bugmail1&quot;;</span>
<a href="#l461.28"></a><span id="l461.28" class="difflineplus">+var kGoodFile = &quot;../../../data/draft1&quot;;</span>
<a href="#l461.29"></a><span id="l461.29"> </span>
<a href="#l461.30"></a><span id="l461.30" class="difflineminus">-const kPriorityLow = 3;</span>
<a href="#l461.31"></a><span id="l461.31" class="difflineminus">-const kPriorityHigh = 5;</span>
<a href="#l461.32"></a><span id="l461.32" class="difflineplus">+var kPriorityLow = 3;</span>
<a href="#l461.33"></a><span id="l461.33" class="difflineplus">+var kPriorityHigh = 5;</span>
<a href="#l461.34"></a><span id="l461.34"> var gInboxListener; // database listener object</span>
<a href="#l461.35"></a><span id="l461.35"> </span>
<a href="#l461.36"></a><span id="l461.36"> var gTests =</span>
<a href="#l461.37"></a><span id="l461.37"> [</span>
<a href="#l461.38"></a><span id="l461.38">   // train two different messages</span>
<a href="#l461.39"></a><span id="l461.39">   {</span>
<a href="#l461.40"></a><span id="l461.40">     command: kTrain,</span>
<a href="#l461.41"></a><span id="l461.41">     fileName: kGoodFile,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l462.1"></a><span id="l462.1" class="difflineminus">--- a/mailnews/base/test/unit/test_quarantineFilterMove.js</span>
<a href="#l462.2"></a><span id="l462.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_quarantineFilterMove.js</span>
<a href="#l462.3"></a><span id="l462.3" class="difflineat">@@ -8,22 +8,22 @@</span>
<a href="#l462.4"></a><span id="l462.4">  *</span>
<a href="#l462.5"></a><span id="l462.5">  * adapted from test_copyThenMoveManual.js</span>
<a href="#l462.6"></a><span id="l462.6">  */</span>
<a href="#l462.7"></a><span id="l462.7"> </span>
<a href="#l462.8"></a><span id="l462.8"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l462.9"></a><span id="l462.9"> Components.utils.import(&quot;resource://testing-common/mailnews/PromiseTestUtils.jsm&quot;);</span>
<a href="#l462.10"></a><span id="l462.10"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l462.11"></a><span id="l462.11"> </span>
<a href="#l462.12"></a><span id="l462.12" class="difflineminus">-const gFiles = [&quot;../../../data/bugmail1&quot;, &quot;../../../data/bugmail10&quot;];</span>
<a href="#l462.13"></a><span id="l462.13" class="difflineplus">+var gFiles = [&quot;../../../data/bugmail1&quot;, &quot;../../../data/bugmail10&quot;];</span>
<a href="#l462.14"></a><span id="l462.14"> </span>
<a href="#l462.15"></a><span id="l462.15"> var gMoveFolder, gMoveFolder2;</span>
<a href="#l462.16"></a><span id="l462.16"> var gFilter; // the test filter</span>
<a href="#l462.17"></a><span id="l462.17"> var gFilterList;</span>
<a href="#l462.18"></a><span id="l462.18" class="difflineminus">-const gTestArray =</span>
<a href="#l462.19"></a><span id="l462.19" class="difflineplus">+var gTestArray =</span>
<a href="#l462.20"></a><span id="l462.20"> [</span>
<a href="#l462.21"></a><span id="l462.21">   function createFilters() {</span>
<a href="#l462.22"></a><span id="l462.22">     gFilterList = gPOP3Pump.fakeServer.getFilterList(null);</span>
<a href="#l462.23"></a><span id="l462.23">     gFilter = gFilterList.createFilter(&quot;MoveAll&quot;);</span>
<a href="#l462.24"></a><span id="l462.24">     let searchTerm = gFilter.createTerm();</span>
<a href="#l462.25"></a><span id="l462.25">     searchTerm.matchAll = true;</span>
<a href="#l462.26"></a><span id="l462.26">     gFilter.appendTerm(searchTerm);</span>
<a href="#l462.27"></a><span id="l462.27">     let moveAction = gFilter.createAction();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l463.1"></a><span id="l463.1" class="difflineminus">--- a/mailnews/base/test/unit/test_search.js</span>
<a href="#l463.2"></a><span id="l463.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_search.js</span>
<a href="#l463.3"></a><span id="l463.3" class="difflineat">@@ -7,44 +7,44 @@</span>
<a href="#l463.4"></a><span id="l463.4">  *</span>
<a href="#l463.5"></a><span id="l463.5">  * This tests some search attributes not tested by other specific tests,</span>
<a href="#l463.6"></a><span id="l463.6">  * e.g., test_searchTag.js or test_searchJunk.js</span>
<a href="#l463.7"></a><span id="l463.7">  */</span>
<a href="#l463.8"></a><span id="l463.8"> load(&quot;../../../resources/searchTestUtils.js&quot;);</span>
<a href="#l463.9"></a><span id="l463.9"> </span>
<a href="#l463.10"></a><span id="l463.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l463.11"></a><span id="l463.11"> </span>
<a href="#l463.12"></a><span id="l463.12" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l463.13"></a><span id="l463.13" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l463.14"></a><span id="l463.14" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l463.15"></a><span id="l463.15" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l463.16"></a><span id="l463.16" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l463.17"></a><span id="l463.17" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l463.18"></a><span id="l463.18"> </span>
<a href="#l463.19"></a><span id="l463.19" class="difflineminus">-const Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l463.20"></a><span id="l463.20" class="difflineminus">-const Is = nsMsgSearchOp.Is;</span>
<a href="#l463.21"></a><span id="l463.21" class="difflineminus">-const IsEmpty = nsMsgSearchOp.IsEmpty;</span>
<a href="#l463.22"></a><span id="l463.22" class="difflineminus">-const IsntEmpty = nsMsgSearchOp.IsntEmpty;</span>
<a href="#l463.23"></a><span id="l463.23" class="difflineminus">-const Contains = nsMsgSearchOp.Contains;</span>
<a href="#l463.24"></a><span id="l463.24" class="difflineminus">-const DoesntContain = nsMsgSearchOp.DoesntContain;</span>
<a href="#l463.25"></a><span id="l463.25" class="difflineminus">-const BeginsWith = nsMsgSearchOp.BeginsWith;</span>
<a href="#l463.26"></a><span id="l463.26" class="difflineminus">-const EndsWith = nsMsgSearchOp.EndsWith;</span>
<a href="#l463.27"></a><span id="l463.27" class="difflineminus">-const IsBefore = nsMsgSearchOp.IsBefore; // control entry not enabled</span>
<a href="#l463.28"></a><span id="l463.28" class="difflineminus">-const IsAfter = nsMsgSearchOp.IsAfter;</span>
<a href="#l463.29"></a><span id="l463.29" class="difflineminus">-const IsHigherThan = nsMsgSearchOp.IsHigherThan;</span>
<a href="#l463.30"></a><span id="l463.30" class="difflineminus">-const IsLowerThan = nsMsgSearchOp.IsLowerThan;</span>
<a href="#l463.31"></a><span id="l463.31" class="difflineplus">+var Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l463.32"></a><span id="l463.32" class="difflineplus">+var Is = nsMsgSearchOp.Is;</span>
<a href="#l463.33"></a><span id="l463.33" class="difflineplus">+var IsEmpty = nsMsgSearchOp.IsEmpty;</span>
<a href="#l463.34"></a><span id="l463.34" class="difflineplus">+var IsntEmpty = nsMsgSearchOp.IsntEmpty;</span>
<a href="#l463.35"></a><span id="l463.35" class="difflineplus">+var Contains = nsMsgSearchOp.Contains;</span>
<a href="#l463.36"></a><span id="l463.36" class="difflineplus">+var DoesntContain = nsMsgSearchOp.DoesntContain;</span>
<a href="#l463.37"></a><span id="l463.37" class="difflineplus">+var BeginsWith = nsMsgSearchOp.BeginsWith;</span>
<a href="#l463.38"></a><span id="l463.38" class="difflineplus">+var EndsWith = nsMsgSearchOp.EndsWith;</span>
<a href="#l463.39"></a><span id="l463.39" class="difflineplus">+var IsBefore = nsMsgSearchOp.IsBefore; // control entry not enabled</span>
<a href="#l463.40"></a><span id="l463.40" class="difflineplus">+var IsAfter = nsMsgSearchOp.IsAfter;</span>
<a href="#l463.41"></a><span id="l463.41" class="difflineplus">+var IsHigherThan = nsMsgSearchOp.IsHigherThan;</span>
<a href="#l463.42"></a><span id="l463.42" class="difflineplus">+var IsLowerThan = nsMsgSearchOp.IsLowerThan;</span>
<a href="#l463.43"></a><span id="l463.43"> </span>
<a href="#l463.44"></a><span id="l463.44" class="difflineminus">-const offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l463.45"></a><span id="l463.45" class="difflineminus">-const onlineMail = nsMsgSearchScope.onlineMail;</span>
<a href="#l463.46"></a><span id="l463.46" class="difflineminus">-const offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l463.47"></a><span id="l463.47" class="difflineminus">-const onlineMailFilter = nsMsgSearchScope.onlineMailFilter;</span>
<a href="#l463.48"></a><span id="l463.48" class="difflineminus">-const news = nsMsgSearchScope.news; // control entry not enabled</span>
<a href="#l463.49"></a><span id="l463.49" class="difflineplus">+var offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l463.50"></a><span id="l463.50" class="difflineplus">+var onlineMail = nsMsgSearchScope.onlineMail;</span>
<a href="#l463.51"></a><span id="l463.51" class="difflineplus">+var offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l463.52"></a><span id="l463.52" class="difflineplus">+var onlineMailFilter = nsMsgSearchScope.onlineMailFilter;</span>
<a href="#l463.53"></a><span id="l463.53" class="difflineplus">+var news = nsMsgSearchScope.news; // control entry not enabled</span>
<a href="#l463.54"></a><span id="l463.54"> </span>
<a href="#l463.55"></a><span id="l463.55" class="difflineminus">-const OtherHeader = nsMsgSearchAttrib.OtherHeader;</span>
<a href="#l463.56"></a><span id="l463.56" class="difflineminus">-const From = nsMsgSearchAttrib.Sender;</span>
<a href="#l463.57"></a><span id="l463.57" class="difflineminus">-const Subject = nsMsgSearchAttrib.Subject;</span>
<a href="#l463.58"></a><span id="l463.58" class="difflineminus">-const Priority = nsMsgSearchAttrib.Priority;</span>
<a href="#l463.59"></a><span id="l463.59" class="difflineminus">-const SDate = nsMsgSearchAttrib.Date;</span>
<a href="#l463.60"></a><span id="l463.60" class="difflineplus">+var OtherHeader = nsMsgSearchAttrib.OtherHeader;</span>
<a href="#l463.61"></a><span id="l463.61" class="difflineplus">+var From = nsMsgSearchAttrib.Sender;</span>
<a href="#l463.62"></a><span id="l463.62" class="difflineplus">+var Subject = nsMsgSearchAttrib.Subject;</span>
<a href="#l463.63"></a><span id="l463.63" class="difflineplus">+var Priority = nsMsgSearchAttrib.Priority;</span>
<a href="#l463.64"></a><span id="l463.64" class="difflineplus">+var SDate = nsMsgSearchAttrib.Date;</span>
<a href="#l463.65"></a><span id="l463.65"> </span>
<a href="#l463.66"></a><span id="l463.66"> var Tests =</span>
<a href="#l463.67"></a><span id="l463.67"> [</span>
<a href="#l463.68"></a><span id="l463.68">   // test the To: header</span>
<a href="#l463.69"></a><span id="l463.69">   { testString: &quot;PrimaryEmail1@test.invalid&quot;,</span>
<a href="#l463.70"></a><span id="l463.70">     testAttribute: From,</span>
<a href="#l463.71"></a><span id="l463.71">     op: Is,</span>
<a href="#l463.72"></a><span id="l463.72">     count: 1 },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l464.1"></a><span id="l464.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchAddressInAb.js</span>
<a href="#l464.2"></a><span id="l464.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchAddressInAb.js</span>
<a href="#l464.3"></a><span id="l464.3" class="difflineat">@@ -7,38 +7,38 @@</span>
<a href="#l464.4"></a><span id="l464.4"> </span>
<a href="#l464.5"></a><span id="l464.5"> load(&quot;../../../resources/searchTestUtils.js&quot;);</span>
<a href="#l464.6"></a><span id="l464.6"> </span>
<a href="#l464.7"></a><span id="l464.7"> // add address book setup</span>
<a href="#l464.8"></a><span id="l464.8"> load(&quot;../../../resources/abSetup.js&quot;);</span>
<a href="#l464.9"></a><span id="l464.9"> </span>
<a href="#l464.10"></a><span id="l464.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l464.11"></a><span id="l464.11"> </span>
<a href="#l464.12"></a><span id="l464.12" class="difflineminus">-const ABUri = kPABData.URI;</span>
<a href="#l464.13"></a><span id="l464.13" class="difflineplus">+var ABUri = kPABData.URI;</span>
<a href="#l464.14"></a><span id="l464.14"> </span>
<a href="#l464.15"></a><span id="l464.15" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l464.16"></a><span id="l464.16" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l464.17"></a><span id="l464.17" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l464.18"></a><span id="l464.18" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l464.19"></a><span id="l464.19" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l464.20"></a><span id="l464.20" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l464.21"></a><span id="l464.21"> </span>
<a href="#l464.22"></a><span id="l464.22" class="difflineminus">-const IsntInAB = nsMsgSearchOp.IsntInAB;</span>
<a href="#l464.23"></a><span id="l464.23" class="difflineminus">-const IsInAB = nsMsgSearchOp.IsInAB;</span>
<a href="#l464.24"></a><span id="l464.24" class="difflineminus">-const IsBefore = nsMsgSearchOp.IsBefore; // control entry that is not enabled</span>
<a href="#l464.25"></a><span id="l464.25" class="difflineplus">+var IsntInAB = nsMsgSearchOp.IsntInAB;</span>
<a href="#l464.26"></a><span id="l464.26" class="difflineplus">+var IsInAB = nsMsgSearchOp.IsInAB;</span>
<a href="#l464.27"></a><span id="l464.27" class="difflineplus">+var IsBefore = nsMsgSearchOp.IsBefore; // control entry that is not enabled</span>
<a href="#l464.28"></a><span id="l464.28"> </span>
<a href="#l464.29"></a><span id="l464.29" class="difflineminus">-const offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l464.30"></a><span id="l464.30" class="difflineminus">-const onlineMail = nsMsgSearchScope.onlineMail;</span>
<a href="#l464.31"></a><span id="l464.31" class="difflineminus">-const offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l464.32"></a><span id="l464.32" class="difflineminus">-const onlineMailFilter = nsMsgSearchScope.onlineMailFilter;</span>
<a href="#l464.33"></a><span id="l464.33" class="difflineminus">-const news = nsMsgSearchScope.news; // control entry that is not enabled</span>
<a href="#l464.34"></a><span id="l464.34" class="difflineplus">+var offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l464.35"></a><span id="l464.35" class="difflineplus">+var onlineMail = nsMsgSearchScope.onlineMail;</span>
<a href="#l464.36"></a><span id="l464.36" class="difflineplus">+var offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l464.37"></a><span id="l464.37" class="difflineplus">+var onlineMailFilter = nsMsgSearchScope.onlineMailFilter;</span>
<a href="#l464.38"></a><span id="l464.38" class="difflineplus">+var news = nsMsgSearchScope.news; // control entry that is not enabled</span>
<a href="#l464.39"></a><span id="l464.39"> </span>
<a href="#l464.40"></a><span id="l464.40" class="difflineminus">-const Sender = nsMsgSearchAttrib.Sender;</span>
<a href="#l464.41"></a><span id="l464.41" class="difflineminus">-const To = nsMsgSearchAttrib.To;</span>
<a href="#l464.42"></a><span id="l464.42" class="difflineminus">-const CCopy = nsMsgSearchAttrib.CC;</span>
<a href="#l464.43"></a><span id="l464.43" class="difflineminus">-const ToOrCC = nsMsgSearchAttrib.ToOrCC;</span>
<a href="#l464.44"></a><span id="l464.44" class="difflineminus">-const AllAddresses = nsMsgSearchAttrib.AllAddresses;</span>
<a href="#l464.45"></a><span id="l464.45" class="difflineminus">-const Keywords = nsMsgSearchAttrib.Keywords; // control entry that is not enabled</span>
<a href="#l464.46"></a><span id="l464.46" class="difflineplus">+var Sender = nsMsgSearchAttrib.Sender;</span>
<a href="#l464.47"></a><span id="l464.47" class="difflineplus">+var To = nsMsgSearchAttrib.To;</span>
<a href="#l464.48"></a><span id="l464.48" class="difflineplus">+var CCopy = nsMsgSearchAttrib.CC;</span>
<a href="#l464.49"></a><span id="l464.49" class="difflineplus">+var ToOrCC = nsMsgSearchAttrib.ToOrCC;</span>
<a href="#l464.50"></a><span id="l464.50" class="difflineplus">+var AllAddresses = nsMsgSearchAttrib.AllAddresses;</span>
<a href="#l464.51"></a><span id="l464.51" class="difflineplus">+var Keywords = nsMsgSearchAttrib.Keywords; // control entry that is not enabled</span>
<a href="#l464.52"></a><span id="l464.52"> </span>
<a href="#l464.53"></a><span id="l464.53"> /*</span>
<a href="#l464.54"></a><span id="l464.54">  * The address available in the test address book is &quot;PrimaryEmail1@test.invalid&quot;</span>
<a href="#l464.55"></a><span id="l464.55">  * Test emails may also include the address &quot;invalid@example.com&quot;</span>
<a href="#l464.56"></a><span id="l464.56">  *</span>
<a href="#l464.57"></a><span id="l464.57">  *</span>
<a href="#l464.58"></a><span id="l464.58">  * Map of test email contents: (P is &quot;Prim...&quot;, I is &quot;inva..&quot; address, N is none)</span>
<a href="#l464.59"></a><span id="l464.59">  *</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l465.1"></a><span id="l465.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchBody.js</span>
<a href="#l465.2"></a><span id="l465.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchBody.js</span>
<a href="#l465.3"></a><span id="l465.3" class="difflineat">@@ -4,35 +4,35 @@</span>
<a href="#l465.4"></a><span id="l465.4"> </span>
<a href="#l465.5"></a><span id="l465.5"> /*</span>
<a href="#l465.6"></a><span id="l465.6">  * This tests various body search criteria.</span>
<a href="#l465.7"></a><span id="l465.7">  */</span>
<a href="#l465.8"></a><span id="l465.8"> load(&quot;../../../resources/searchTestUtils.js&quot;);</span>
<a href="#l465.9"></a><span id="l465.9"> </span>
<a href="#l465.10"></a><span id="l465.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l465.11"></a><span id="l465.11"> </span>
<a href="#l465.12"></a><span id="l465.12" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l465.13"></a><span id="l465.13" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l465.14"></a><span id="l465.14" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l465.15"></a><span id="l465.15" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l465.16"></a><span id="l465.16" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l465.17"></a><span id="l465.17" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l465.18"></a><span id="l465.18"> </span>
<a href="#l465.19"></a><span id="l465.19" class="difflineminus">-const Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l465.20"></a><span id="l465.20" class="difflineminus">-const Is = nsMsgSearchOp.Is;</span>
<a href="#l465.21"></a><span id="l465.21" class="difflineminus">-const IsEmpty = nsMsgSearchOp.IsEmpty;</span>
<a href="#l465.22"></a><span id="l465.22" class="difflineminus">-const IsntEmpty = nsMsgSearchOp.IsntEmpty;</span>
<a href="#l465.23"></a><span id="l465.23" class="difflineminus">-const Contains = nsMsgSearchOp.Contains;</span>
<a href="#l465.24"></a><span id="l465.24" class="difflineminus">-const DoesntContain = nsMsgSearchOp.DoesntContain;</span>
<a href="#l465.25"></a><span id="l465.25" class="difflineminus">-const IsBefore = nsMsgSearchOp.IsBefore; // control entry not enabled</span>
<a href="#l465.26"></a><span id="l465.26" class="difflineplus">+var Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l465.27"></a><span id="l465.27" class="difflineplus">+var Is = nsMsgSearchOp.Is;</span>
<a href="#l465.28"></a><span id="l465.28" class="difflineplus">+var IsEmpty = nsMsgSearchOp.IsEmpty;</span>
<a href="#l465.29"></a><span id="l465.29" class="difflineplus">+var IsntEmpty = nsMsgSearchOp.IsntEmpty;</span>
<a href="#l465.30"></a><span id="l465.30" class="difflineplus">+var Contains = nsMsgSearchOp.Contains;</span>
<a href="#l465.31"></a><span id="l465.31" class="difflineplus">+var DoesntContain = nsMsgSearchOp.DoesntContain;</span>
<a href="#l465.32"></a><span id="l465.32" class="difflineplus">+var IsBefore = nsMsgSearchOp.IsBefore; // control entry not enabled</span>
<a href="#l465.33"></a><span id="l465.33"> </span>
<a href="#l465.34"></a><span id="l465.34" class="difflineminus">-const offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l465.35"></a><span id="l465.35" class="difflineminus">-const onlineMail = nsMsgSearchScope.onlineMail;</span>
<a href="#l465.36"></a><span id="l465.36" class="difflineminus">-const offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l465.37"></a><span id="l465.37" class="difflineminus">-const onlineMailFilter = nsMsgSearchScope.onlineMailFilter;</span>
<a href="#l465.38"></a><span id="l465.38" class="difflineminus">-const news = nsMsgSearchScope.news; // control entry not enabled</span>
<a href="#l465.39"></a><span id="l465.39" class="difflineplus">+var offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l465.40"></a><span id="l465.40" class="difflineplus">+var onlineMail = nsMsgSearchScope.onlineMail;</span>
<a href="#l465.41"></a><span id="l465.41" class="difflineplus">+var offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l465.42"></a><span id="l465.42" class="difflineplus">+var onlineMailFilter = nsMsgSearchScope.onlineMailFilter;</span>
<a href="#l465.43"></a><span id="l465.43" class="difflineplus">+var news = nsMsgSearchScope.news; // control entry not enabled</span>
<a href="#l465.44"></a><span id="l465.44"> </span>
<a href="#l465.45"></a><span id="l465.45" class="difflineminus">-const Body = nsMsgSearchAttrib.Body;</span>
<a href="#l465.46"></a><span id="l465.46" class="difflineplus">+var Body = nsMsgSearchAttrib.Body;</span>
<a href="#l465.47"></a><span id="l465.47"> </span>
<a href="#l465.48"></a><span id="l465.48"> var Files =</span>
<a href="#l465.49"></a><span id="l465.49"> [</span>
<a href="#l465.50"></a><span id="l465.50">   &quot;../../../data/base64-1&quot;,</span>
<a href="#l465.51"></a><span id="l465.51">   &quot;../../../data/basic1&quot;,</span>
<a href="#l465.52"></a><span id="l465.52">   &quot;../../../data/multipart-base64-2&quot;,</span>
<a href="#l465.53"></a><span id="l465.53">   &quot;../../../data/bug132340&quot;</span>
<a href="#l465.54"></a><span id="l465.54"> ]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l466.1"></a><span id="l466.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchBoolean.js</span>
<a href="#l466.2"></a><span id="l466.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchBoolean.js</span>
<a href="#l466.3"></a><span id="l466.3" class="difflineat">@@ -3,17 +3,17 @@</span>
<a href="#l466.4"></a><span id="l466.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l466.5"></a><span id="l466.5"> </span>
<a href="#l466.6"></a><span id="l466.6"> /*</span>
<a href="#l466.7"></a><span id="l466.7">  * Demonstrates and tests the use of grouped boolean expressions in search terms</span>
<a href="#l466.8"></a><span id="l466.8">  */</span>
<a href="#l466.9"></a><span id="l466.9">  </span>
<a href="#l466.10"></a><span id="l466.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l466.11"></a><span id="l466.11"> </span>
<a href="#l466.12"></a><span id="l466.12" class="difflineminus">-const gSearchSession = Cc[&quot;@mozilla.org/messenger/searchSession;1&quot;]</span>
<a href="#l466.13"></a><span id="l466.13" class="difflineplus">+var gSearchSession = Cc[&quot;@mozilla.org/messenger/searchSession;1&quot;]</span>
<a href="#l466.14"></a><span id="l466.14">                         .createInstance(Ci.nsIMsgSearchSession);</span>
<a href="#l466.15"></a><span id="l466.15"> </span>
<a href="#l466.16"></a><span id="l466.16"> var gHdr; // the message header for the one mailbox message</span>
<a href="#l466.17"></a><span id="l466.17"> </span>
<a href="#l466.18"></a><span id="l466.18"> var Tests =</span>
<a href="#l466.19"></a><span id="l466.19"> [</span>
<a href="#l466.20"></a><span id="l466.20">   { A: false,</span>
<a href="#l466.21"></a><span id="l466.21">     B: false,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l467.1"></a><span id="l467.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchCustomTerm.js</span>
<a href="#l467.2"></a><span id="l467.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchCustomTerm.js</span>
<a href="#l467.3"></a><span id="l467.3" class="difflineat">@@ -5,17 +5,17 @@</span>
<a href="#l467.4"></a><span id="l467.4"> /*</span>
<a href="#l467.5"></a><span id="l467.5">  * Testing of custom search features.</span>
<a href="#l467.6"></a><span id="l467.6">  *</span>
<a href="#l467.7"></a><span id="l467.7">  */</span>
<a href="#l467.8"></a><span id="l467.8"> load(&quot;../../../resources/searchTestUtils.js&quot;);</span>
<a href="#l467.9"></a><span id="l467.9"> </span>
<a href="#l467.10"></a><span id="l467.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l467.11"></a><span id="l467.11"> </span>
<a href="#l467.12"></a><span id="l467.12" class="difflineminus">-const kCustomId = &quot;xpcomtest@mozilla.org#test&quot;;</span>
<a href="#l467.13"></a><span id="l467.13" class="difflineplus">+var kCustomId = &quot;xpcomtest@mozilla.org#test&quot;;</span>
<a href="#l467.14"></a><span id="l467.14"> var gHdr;</span>
<a href="#l467.15"></a><span id="l467.15"> </span>
<a href="#l467.16"></a><span id="l467.16"> var Tests =</span>
<a href="#l467.17"></a><span id="l467.17"> [</span>
<a href="#l467.18"></a><span id="l467.18">   { setValue: &quot;iamgood&quot;,</span>
<a href="#l467.19"></a><span id="l467.19">     testValue: &quot;iamnotgood&quot;,</span>
<a href="#l467.20"></a><span id="l467.20">     op: Ci.nsMsgSearchOp.Is,</span>
<a href="#l467.21"></a><span id="l467.21">     count: 0 },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l468.1"></a><span id="l468.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchJunk.js</span>
<a href="#l468.2"></a><span id="l468.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchJunk.js</span>
<a href="#l468.3"></a><span id="l468.3" class="difflineat">@@ -3,34 +3,34 @@</span>
<a href="#l468.4"></a><span id="l468.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l468.5"></a><span id="l468.5"> </span>
<a href="#l468.6"></a><span id="l468.6"> // Testing of search by junk percent and junk score origin</span>
<a href="#l468.7"></a><span id="l468.7"> </span>
<a href="#l468.8"></a><span id="l468.8"> load(&quot;../../../resources/searchTestUtils.js&quot;);</span>
<a href="#l468.9"></a><span id="l468.9"> </span>
<a href="#l468.10"></a><span id="l468.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l468.11"></a><span id="l468.11"> </span>
<a href="#l468.12"></a><span id="l468.12" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l468.13"></a><span id="l468.13" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l468.14"></a><span id="l468.14" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l468.15"></a><span id="l468.15" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l468.16"></a><span id="l468.16" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l468.17"></a><span id="l468.17" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l468.18"></a><span id="l468.18"> </span>
<a href="#l468.19"></a><span id="l468.19" class="difflineminus">-const IsGreaterThan = nsMsgSearchOp.IsGreaterThan;</span>
<a href="#l468.20"></a><span id="l468.20" class="difflineminus">-const IsLessThan = nsMsgSearchOp.IsLessThan;</span>
<a href="#l468.21"></a><span id="l468.21" class="difflineminus">-const Is = nsMsgSearchOp.Is;</span>
<a href="#l468.22"></a><span id="l468.22" class="difflineminus">-const Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l468.23"></a><span id="l468.23" class="difflineminus">-const IsEmpty = nsMsgSearchOp.IsEmpty;</span>
<a href="#l468.24"></a><span id="l468.24" class="difflineminus">-const IsntEmpty = nsMsgSearchOp.IsntEmpty;</span>
<a href="#l468.25"></a><span id="l468.25" class="difflineplus">+var IsGreaterThan = nsMsgSearchOp.IsGreaterThan;</span>
<a href="#l468.26"></a><span id="l468.26" class="difflineplus">+var IsLessThan = nsMsgSearchOp.IsLessThan;</span>
<a href="#l468.27"></a><span id="l468.27" class="difflineplus">+var Is = nsMsgSearchOp.Is;</span>
<a href="#l468.28"></a><span id="l468.28" class="difflineplus">+var Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l468.29"></a><span id="l468.29" class="difflineplus">+var IsEmpty = nsMsgSearchOp.IsEmpty;</span>
<a href="#l468.30"></a><span id="l468.30" class="difflineplus">+var IsntEmpty = nsMsgSearchOp.IsntEmpty;</span>
<a href="#l468.31"></a><span id="l468.31"> </span>
<a href="#l468.32"></a><span id="l468.32" class="difflineminus">-const offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l468.33"></a><span id="l468.33" class="difflineplus">+var offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l468.34"></a><span id="l468.34"> </span>
<a href="#l468.35"></a><span id="l468.35" class="difflineminus">-const JunkScoreOrigin = nsMsgSearchAttrib.JunkScoreOrigin;</span>
<a href="#l468.36"></a><span id="l468.36" class="difflineminus">-const JunkPercent = nsMsgSearchAttrib.JunkPercent;</span>
<a href="#l468.37"></a><span id="l468.37" class="difflineminus">-const JunkStatus = nsMsgSearchAttrib.JunkStatus;</span>
<a href="#l468.38"></a><span id="l468.38" class="difflineplus">+var JunkScoreOrigin = nsMsgSearchAttrib.JunkScoreOrigin;</span>
<a href="#l468.39"></a><span id="l468.39" class="difflineplus">+var JunkPercent = nsMsgSearchAttrib.JunkPercent;</span>
<a href="#l468.40"></a><span id="l468.40" class="difflineplus">+var JunkStatus = nsMsgSearchAttrib.JunkStatus;</span>
<a href="#l468.41"></a><span id="l468.41"> </span>
<a href="#l468.42"></a><span id="l468.42" class="difflineminus">-const fileName = &quot;../../../data/bugmail1&quot;;</span>
<a href="#l468.43"></a><span id="l468.43" class="difflineplus">+var fileName = &quot;../../../data/bugmail1&quot;;</span>
<a href="#l468.44"></a><span id="l468.44"> </span>
<a href="#l468.45"></a><span id="l468.45"> /*</span>
<a href="#l468.46"></a><span id="l468.46">  * The search for junkpercent is defined as the effective value,</span>
<a href="#l468.47"></a><span id="l468.47">  * while the &quot;junkpercent&quot; database term is always the result</span>
<a href="#l468.48"></a><span id="l468.48">  * from the bayes filter. This is optimized to make views that</span>
<a href="#l468.49"></a><span id="l468.49">  * rely on junk percent search work with the best value for junk</span>
<a href="#l468.50"></a><span id="l468.50">  * percent, while allowing junk percent from the bayes filter</span>
<a href="#l468.51"></a><span id="l468.51">  * to be saved for analysis.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l469.1"></a><span id="l469.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchLocalizationStrings.js</span>
<a href="#l469.2"></a><span id="l469.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchLocalizationStrings.js</span>
<a href="#l469.3"></a><span id="l469.3" class="difflineat">@@ -1,25 +1,25 @@</span>
<a href="#l469.4"></a><span id="l469.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l469.5"></a><span id="l469.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l469.6"></a><span id="l469.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l469.7"></a><span id="l469.7">  </span>
<a href="#l469.8"></a><span id="l469.8">  // tests that localization strings added in bug 484147 are defined in preferences</span>
<a href="#l469.9"></a><span id="l469.9">  </span>
<a href="#l469.10"></a><span id="l469.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l469.11"></a><span id="l469.11"> </span>
<a href="#l469.12"></a><span id="l469.12" class="difflineminus">-const gValidityManager = Cc['@mozilla.org/mail/search/validityManager;1']</span>
<a href="#l469.13"></a><span id="l469.13" class="difflineplus">+var gValidityManager = Cc['@mozilla.org/mail/search/validityManager;1']</span>
<a href="#l469.14"></a><span id="l469.14">                            .getService(Ci.nsIMsgSearchValidityManager);</span>
<a href="#l469.15"></a><span id="l469.15"> </span>
<a href="#l469.16"></a><span id="l469.16" class="difflineminus">-const gStringBundle = Services.strings</span>
<a href="#l469.17"></a><span id="l469.17" class="difflineplus">+var gStringBundle = Services.strings</span>
<a href="#l469.18"></a><span id="l469.18">                               .createBundle(&quot;chrome://messenger/locale/search-attributes.properties&quot;);</span>
<a href="#l469.19"></a><span id="l469.19"> </span>
<a href="#l469.20"></a><span id="l469.20"> // The following table of valid table scopes matches the allowable table</span>
<a href="#l469.21"></a><span id="l469.21"> // scopes in nsMsgSearchValidityManager::GetTable</span>
<a href="#l469.22"></a><span id="l469.22" class="difflineminus">-const kValidScopes =</span>
<a href="#l469.23"></a><span id="l469.23" class="difflineplus">+var kValidScopes =</span>
<a href="#l469.24"></a><span id="l469.24"> [</span>
<a href="#l469.25"></a><span id="l469.25">   Ci.nsMsgSearchScope.offlineMail,</span>
<a href="#l469.26"></a><span id="l469.26">   Ci.nsMsgSearchScope.offlineMailFilter,</span>
<a href="#l469.27"></a><span id="l469.27">   Ci.nsMsgSearchScope.onlineMail,</span>
<a href="#l469.28"></a><span id="l469.28">   Ci.nsMsgSearchScope.onlineMailFilter,</span>
<a href="#l469.29"></a><span id="l469.29">   Ci.nsMsgSearchScope.news,</span>
<a href="#l469.30"></a><span id="l469.30">   Ci.nsMsgSearchScope.newsFilter,</span>
<a href="#l469.31"></a><span id="l469.31">   Ci.nsMsgSearchScope.localNews,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l470.1"></a><span id="l470.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchTag.js</span>
<a href="#l470.2"></a><span id="l470.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchTag.js</span>
<a href="#l470.3"></a><span id="l470.3" class="difflineat">@@ -8,44 +8,44 @@</span>
<a href="#l470.4"></a><span id="l470.4">  * Specifically tests changes implemented in bug 217034</span>
<a href="#l470.5"></a><span id="l470.5">  * Does not do comprehensive testing.</span>
<a href="#l470.6"></a><span id="l470.6">  *</span>
<a href="#l470.7"></a><span id="l470.7">  */</span>
<a href="#l470.8"></a><span id="l470.8"> load(&quot;../../../resources/searchTestUtils.js&quot;);</span>
<a href="#l470.9"></a><span id="l470.9"> </span>
<a href="#l470.10"></a><span id="l470.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l470.11"></a><span id="l470.11"> </span>
<a href="#l470.12"></a><span id="l470.12" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l470.13"></a><span id="l470.13" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l470.14"></a><span id="l470.14" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l470.15"></a><span id="l470.15" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l470.16"></a><span id="l470.16" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l470.17"></a><span id="l470.17" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l470.18"></a><span id="l470.18"> </span>
<a href="#l470.19"></a><span id="l470.19" class="difflineminus">-const Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l470.20"></a><span id="l470.20" class="difflineminus">-const Is = nsMsgSearchOp.Is;</span>
<a href="#l470.21"></a><span id="l470.21" class="difflineminus">-const IsEmpty = nsMsgSearchOp.IsEmpty;</span>
<a href="#l470.22"></a><span id="l470.22" class="difflineminus">-const IsntEmpty = nsMsgSearchOp.IsntEmpty;</span>
<a href="#l470.23"></a><span id="l470.23" class="difflineminus">-const Contains = nsMsgSearchOp.Contains;</span>
<a href="#l470.24"></a><span id="l470.24" class="difflineminus">-const DoesntContain = nsMsgSearchOp.DoesntContain;</span>
<a href="#l470.25"></a><span id="l470.25" class="difflineminus">-const IsBefore = nsMsgSearchOp.IsBefore; // control entry not enabled</span>
<a href="#l470.26"></a><span id="l470.26" class="difflineplus">+var Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l470.27"></a><span id="l470.27" class="difflineplus">+var Is = nsMsgSearchOp.Is;</span>
<a href="#l470.28"></a><span id="l470.28" class="difflineplus">+var IsEmpty = nsMsgSearchOp.IsEmpty;</span>
<a href="#l470.29"></a><span id="l470.29" class="difflineplus">+var IsntEmpty = nsMsgSearchOp.IsntEmpty;</span>
<a href="#l470.30"></a><span id="l470.30" class="difflineplus">+var Contains = nsMsgSearchOp.Contains;</span>
<a href="#l470.31"></a><span id="l470.31" class="difflineplus">+var DoesntContain = nsMsgSearchOp.DoesntContain;</span>
<a href="#l470.32"></a><span id="l470.32" class="difflineplus">+var IsBefore = nsMsgSearchOp.IsBefore; // control entry not enabled</span>
<a href="#l470.33"></a><span id="l470.33"> </span>
<a href="#l470.34"></a><span id="l470.34" class="difflineminus">-const offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l470.35"></a><span id="l470.35" class="difflineminus">-const onlineMail = nsMsgSearchScope.onlineMail;</span>
<a href="#l470.36"></a><span id="l470.36" class="difflineminus">-const offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l470.37"></a><span id="l470.37" class="difflineminus">-const onlineMailFilter = nsMsgSearchScope.onlineMailFilter;</span>
<a href="#l470.38"></a><span id="l470.38" class="difflineminus">-const news = nsMsgSearchScope.news; // control entry not enabled</span>
<a href="#l470.39"></a><span id="l470.39" class="difflineplus">+var offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l470.40"></a><span id="l470.40" class="difflineplus">+var onlineMail = nsMsgSearchScope.onlineMail;</span>
<a href="#l470.41"></a><span id="l470.41" class="difflineplus">+var offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l470.42"></a><span id="l470.42" class="difflineplus">+var onlineMailFilter = nsMsgSearchScope.onlineMailFilter;</span>
<a href="#l470.43"></a><span id="l470.43" class="difflineplus">+var news = nsMsgSearchScope.news; // control entry not enabled</span>
<a href="#l470.44"></a><span id="l470.44"> </span>
<a href="#l470.45"></a><span id="l470.45" class="difflineminus">-const Keywords = nsMsgSearchAttrib.Keywords;</span>
<a href="#l470.46"></a><span id="l470.46" class="difflineplus">+var Keywords = nsMsgSearchAttrib.Keywords;</span>
<a href="#l470.47"></a><span id="l470.47"> </span>
<a href="#l470.48"></a><span id="l470.48"> // test tags</span>
<a href="#l470.49"></a><span id="l470.49" class="difflineminus">-const Tag1 = &quot;istag&quot;;</span>
<a href="#l470.50"></a><span id="l470.50" class="difflineminus">-const Tag2 = &quot;notistag&quot;;</span>
<a href="#l470.51"></a><span id="l470.51" class="difflineminus">-const Tag3 = &quot;istagnot&quot;;</span>
<a href="#l470.52"></a><span id="l470.52" class="difflineminus">-const Tag4 = &quot;istagtoo&quot;;</span>
<a href="#l470.53"></a><span id="l470.53" class="difflineminus">-const Tag1Tag4 = Tag1 + &quot; &quot; + Tag4;</span>
<a href="#l470.54"></a><span id="l470.54" class="difflineminus">-const Tag1Tag3 = Tag1 + &quot; &quot; + Tag3;</span>
<a href="#l470.55"></a><span id="l470.55" class="difflineminus">-const Tag1Tag1 = Tag1 + &quot; &quot; + Tag1;</span>
<a href="#l470.56"></a><span id="l470.56" class="difflineplus">+var Tag1 = &quot;istag&quot;;</span>
<a href="#l470.57"></a><span id="l470.57" class="difflineplus">+var Tag2 = &quot;notistag&quot;;</span>
<a href="#l470.58"></a><span id="l470.58" class="difflineplus">+var Tag3 = &quot;istagnot&quot;;</span>
<a href="#l470.59"></a><span id="l470.59" class="difflineplus">+var Tag4 = &quot;istagtoo&quot;;</span>
<a href="#l470.60"></a><span id="l470.60" class="difflineplus">+var Tag1Tag4 = Tag1 + &quot; &quot; + Tag4;</span>
<a href="#l470.61"></a><span id="l470.61" class="difflineplus">+var Tag1Tag3 = Tag1 + &quot; &quot; + Tag3;</span>
<a href="#l470.62"></a><span id="l470.62" class="difflineplus">+var Tag1Tag1 = Tag1 + &quot; &quot; + Tag1;</span>
<a href="#l470.63"></a><span id="l470.63"> </span>
<a href="#l470.64"></a><span id="l470.64"> var Tests =</span>
<a href="#l470.65"></a><span id="l470.65"> [</span>
<a href="#l470.66"></a><span id="l470.66"> // Message has a single valid tag</span>
<a href="#l470.67"></a><span id="l470.67">   // test the valid tag</span>
<a href="#l470.68"></a><span id="l470.68">   { msgTag: Tag1,</span>
<a href="#l470.69"></a><span id="l470.69">     testTag: Tag1,</span>
<a href="#l470.70"></a><span id="l470.70">     op: Is,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l471.1"></a><span id="l471.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchUint32HdrProperty.js</span>
<a href="#l471.2"></a><span id="l471.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchUint32HdrProperty.js</span>
<a href="#l471.3"></a><span id="l471.3" class="difflineat">@@ -5,25 +5,25 @@</span>
<a href="#l471.4"></a><span id="l471.4"> /*</span>
<a href="#l471.5"></a><span id="l471.5">  * Testing of Uint32HdrProperty search attribute. Adapted from test_search.js</span>
<a href="#l471.6"></a><span id="l471.6">  */</span>
<a href="#l471.7"></a><span id="l471.7">  </span>
<a href="#l471.8"></a><span id="l471.8"> load(&quot;../../../resources/searchTestUtils.js&quot;);</span>
<a href="#l471.9"></a><span id="l471.9"> </span>
<a href="#l471.10"></a><span id="l471.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l471.11"></a><span id="l471.11"> </span>
<a href="#l471.12"></a><span id="l471.12" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l471.13"></a><span id="l471.13" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l471.14"></a><span id="l471.14" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l471.15"></a><span id="l471.15" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l471.16"></a><span id="l471.16"> </span>
<a href="#l471.17"></a><span id="l471.17" class="difflineminus">-const Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l471.18"></a><span id="l471.18" class="difflineminus">-const Is = nsMsgSearchOp.Is;</span>
<a href="#l471.19"></a><span id="l471.19" class="difflineminus">-const IsGreaterThan = nsMsgSearchOp.IsGreaterThan;</span>
<a href="#l471.20"></a><span id="l471.20" class="difflineminus">-const IsLessThan = nsMsgSearchOp.IsLessThan;</span>
<a href="#l471.21"></a><span id="l471.21" class="difflineplus">+var Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l471.22"></a><span id="l471.22" class="difflineplus">+var Is = nsMsgSearchOp.Is;</span>
<a href="#l471.23"></a><span id="l471.23" class="difflineplus">+var IsGreaterThan = nsMsgSearchOp.IsGreaterThan;</span>
<a href="#l471.24"></a><span id="l471.24" class="difflineplus">+var IsLessThan = nsMsgSearchOp.IsLessThan;</span>
<a href="#l471.25"></a><span id="l471.25"> </span>
<a href="#l471.26"></a><span id="l471.26" class="difflineminus">-const Uint32HdrProperty = nsMsgSearchAttrib.Uint32HdrProperty;</span>
<a href="#l471.27"></a><span id="l471.27" class="difflineplus">+var Uint32HdrProperty = nsMsgSearchAttrib.Uint32HdrProperty;</span>
<a href="#l471.28"></a><span id="l471.28"> </span>
<a href="#l471.29"></a><span id="l471.29"> var Tests =</span>
<a href="#l471.30"></a><span id="l471.30"> [</span>
<a href="#l471.31"></a><span id="l471.31">   // test a property that does not exist</span>
<a href="#l471.32"></a><span id="l471.32">   { hdrProperty: &quot;idonotexist&quot;,</span>
<a href="#l471.33"></a><span id="l471.33">     op: Is,</span>
<a href="#l471.34"></a><span id="l471.34">     value: 1,</span>
<a href="#l471.35"></a><span id="l471.35">     count: 0 },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l472.1"></a><span id="l472.1" class="difflineminus">--- a/mailnews/base/test/unit/test_testsuite_fakeserverAuth.js</span>
<a href="#l472.2"></a><span id="l472.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_testsuite_fakeserverAuth.js</span>
<a href="#l472.3"></a><span id="l472.3" class="difflineat">@@ -4,18 +4,18 @@</span>
<a href="#l472.4"></a><span id="l472.4">  * fakeserver.</span>
<a href="#l472.5"></a><span id="l472.5">  *</span>
<a href="#l472.6"></a><span id="l472.6">  * Do NOT essentially re-code the auth schemes here,</span>
<a href="#l472.7"></a><span id="l472.7">  * just check roundtrips, against static values etc..</span>
<a href="#l472.8"></a><span id="l472.8">  */</span>
<a href="#l472.9"></a><span id="l472.9"> </span>
<a href="#l472.10"></a><span id="l472.10"> Components.utils.import(&quot;resource://testing-common/mailnews/auth.js&quot;);</span>
<a href="#l472.11"></a><span id="l472.11"> </span>
<a href="#l472.12"></a><span id="l472.12" class="difflineminus">-const kUsername = &quot;fred1&quot;;</span>
<a href="#l472.13"></a><span id="l472.13" class="difflineminus">-const kPassword = &quot;wilma2&quot;;</span>
<a href="#l472.14"></a><span id="l472.14" class="difflineplus">+var kUsername = &quot;fred1&quot;;</span>
<a href="#l472.15"></a><span id="l472.15" class="difflineplus">+var kPassword = &quot;wilma2&quot;;</span>
<a href="#l472.16"></a><span id="l472.16"> </span>
<a href="#l472.17"></a><span id="l472.17"> function run_test()</span>
<a href="#l472.18"></a><span id="l472.18"> {</span>
<a href="#l472.19"></a><span id="l472.19">   authPLAIN();</span>
<a href="#l472.20"></a><span id="l472.20">   authCRAMMD5();</span>
<a href="#l472.21"></a><span id="l472.21">   return true;</span>
<a href="#l472.22"></a><span id="l472.22"> };</span>
<a href="#l472.23"></a><span id="l472.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l473.1"></a><span id="l473.1" class="difflineminus">--- a/mailnews/base/test/unit/test_viewSortByAddresses.js</span>
<a href="#l473.2"></a><span id="l473.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_viewSortByAddresses.js</span>
<a href="#l473.3"></a><span id="l473.3" class="difflineat">@@ -17,17 +17,17 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l473.4"></a><span id="l473.4"> var gMessageGenerator = new MessageGenerator();</span>
<a href="#l473.5"></a><span id="l473.5"> var gScenarioFactory = new MessageScenarioFactory(gMessageGenerator);</span>
<a href="#l473.6"></a><span id="l473.6"> </span>
<a href="#l473.7"></a><span id="l473.7"> Services.prefs.setBoolPref(&quot;mail.showCondensedAddresses&quot;, true);</span>
<a href="#l473.8"></a><span id="l473.8"> </span>
<a href="#l473.9"></a><span id="l473.9"> var gTestFolder;</span>
<a href="#l473.10"></a><span id="l473.10"> </span>
<a href="#l473.11"></a><span id="l473.11"> // Setup the display name to be opposite of alphabetic order of e-mail address.</span>
<a href="#l473.12"></a><span id="l473.12" class="difflineminus">-const cards = [</span>
<a href="#l473.13"></a><span id="l473.13" class="difflineplus">+var cards = [</span>
<a href="#l473.14"></a><span id="l473.14">   { email: &quot;aaa@b.invalid&quot;, displayName: &quot;4&quot; },</span>
<a href="#l473.15"></a><span id="l473.15">   { email: &quot;ccc@d.invalid&quot;, displayName: &quot;3&quot; },</span>
<a href="#l473.16"></a><span id="l473.16">   { email: &quot;eee@f.invalid&quot;, displayName: &quot;2&quot; },</span>
<a href="#l473.17"></a><span id="l473.17">   { email: &quot;ggg@h.invalid&quot;, displayName: &quot;1&quot; },</span>
<a href="#l473.18"></a><span id="l473.18"> ];</span>
<a href="#l473.19"></a><span id="l473.19"> </span>
<a href="#l473.20"></a><span id="l473.20"> function run_test() {</span>
<a href="#l473.21"></a><span id="l473.21">   configure_message_injection({mode: &quot;local&quot;});</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l474.1"></a><span id="l474.1" class="difflineminus">--- a/mailnews/base/util/IOUtils.js</span>
<a href="#l474.2"></a><span id="l474.2" class="difflineplus">+++ b/mailnews/base/util/IOUtils.js</span>
<a href="#l474.3"></a><span id="l474.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l474.4"></a><span id="l474.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l474.5"></a><span id="l474.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l474.6"></a><span id="l474.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l474.7"></a><span id="l474.7"> </span>
<a href="#l474.8"></a><span id="l474.8"> this.EXPORTED_SYMBOLS = [&quot;IOUtils&quot;];</span>
<a href="#l474.9"></a><span id="l474.9"> </span>
<a href="#l474.10"></a><span id="l474.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l474.11"></a><span id="l474.11"> </span>
<a href="#l474.12"></a><span id="l474.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l474.13"></a><span id="l474.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l474.14"></a><span id="l474.14" class="difflineminus">-const kStringBlockSize = 4096;</span>
<a href="#l474.15"></a><span id="l474.15" class="difflineminus">-const kStreamBlockSize = 8192;</span>
<a href="#l474.16"></a><span id="l474.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l474.17"></a><span id="l474.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l474.18"></a><span id="l474.18" class="difflineplus">+var kStringBlockSize = 4096;</span>
<a href="#l474.19"></a><span id="l474.19" class="difflineplus">+var kStreamBlockSize = 8192;</span>
<a href="#l474.20"></a><span id="l474.20"> </span>
<a href="#l474.21"></a><span id="l474.21"> var IOUtils =</span>
<a href="#l474.22"></a><span id="l474.22"> {</span>
<a href="#l474.23"></a><span id="l474.23">   /**</span>
<a href="#l474.24"></a><span id="l474.24">    * Read a file containing ASCII text into a string.</span>
<a href="#l474.25"></a><span id="l474.25">    *</span>
<a href="#l474.26"></a><span id="l474.26">    * @param aFile  An nsIFile representing the file to read or a string containing</span>
<a href="#l474.27"></a><span id="l474.27">    *               the file name of a file under user's profile.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l475.1"></a><span id="l475.1" class="difflineminus">--- a/mailnews/base/util/JXON.js</span>
<a href="#l475.2"></a><span id="l475.2" class="difflineplus">+++ b/mailnews/base/util/JXON.js</span>
<a href="#l475.3"></a><span id="l475.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l475.4"></a><span id="l475.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l475.5"></a><span id="l475.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l475.6"></a><span id="l475.6"> </span>
<a href="#l475.7"></a><span id="l475.7"> // This is a modification of the JXON parsers found on the page</span>
<a href="#l475.8"></a><span id="l475.8"> // &lt;https://developer.mozilla.org/en-US/docs/JXON&gt;</span>
<a href="#l475.9"></a><span id="l475.9"> </span>
<a href="#l475.10"></a><span id="l475.10"> var EXPORTED_SYMBOLS = [&quot;JXON&quot;];</span>
<a href="#l475.11"></a><span id="l475.11"> </span>
<a href="#l475.12"></a><span id="l475.12" class="difflineminus">-const JXON = new (function() {</span>
<a href="#l475.13"></a><span id="l475.13" class="difflineplus">+var JXON = new (function() {</span>
<a href="#l475.14"></a><span id="l475.14">   const sValueProp = &quot;value&quot;; /* you can customize these values */</span>
<a href="#l475.15"></a><span id="l475.15">   const sAttributesProp = &quot;attr&quot;;</span>
<a href="#l475.16"></a><span id="l475.16">   const sAttrPref = &quot;@&quot;;</span>
<a href="#l475.17"></a><span id="l475.17">   const sElementListPrefix = &quot;$&quot;;</span>
<a href="#l475.18"></a><span id="l475.18">   const sConflictSuffix = &quot;_&quot;; // used when there's a name conflict with special JXON properties</span>
<a href="#l475.19"></a><span id="l475.19">   const aCache = [];</span>
<a href="#l475.20"></a><span id="l475.20">   const rIsNull = /^\s*$/;</span>
<a href="#l475.21"></a><span id="l475.21">   const rIsBool = /^(?:true|false)$/i;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l476.1"></a><span id="l476.1" class="difflineminus">--- a/mailnews/base/util/OAuth2.jsm</span>
<a href="#l476.2"></a><span id="l476.2" class="difflineplus">+++ b/mailnews/base/util/OAuth2.jsm</span>
<a href="#l476.3"></a><span id="l476.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l476.4"></a><span id="l476.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l476.5"></a><span id="l476.5">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l476.6"></a><span id="l476.6"> </span>
<a href="#l476.7"></a><span id="l476.7"> /**</span>
<a href="#l476.8"></a><span id="l476.8">  * Provides OAuth 2.0 authentication</span>
<a href="#l476.9"></a><span id="l476.9">  */</span>
<a href="#l476.10"></a><span id="l476.10"> var EXPORTED_SYMBOLS = [&quot;OAuth2&quot;];</span>
<a href="#l476.11"></a><span id="l476.11"> </span>
<a href="#l476.12"></a><span id="l476.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l476.13"></a><span id="l476.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l476.14"></a><span id="l476.14"> </span>
<a href="#l476.15"></a><span id="l476.15"> Cu.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l476.16"></a><span id="l476.16"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l476.17"></a><span id="l476.17"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l476.18"></a><span id="l476.18"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l476.19"></a><span id="l476.19"> </span>
<a href="#l476.20"></a><span id="l476.20"> function parseURLData(aData) {</span>
<a href="#l476.21"></a><span id="l476.21">   let result = {};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l477.1"></a><span id="l477.1" class="difflineminus">--- a/mailnews/base/util/OAuth2Providers.jsm</span>
<a href="#l477.2"></a><span id="l477.2" class="difflineplus">+++ b/mailnews/base/util/OAuth2Providers.jsm</span>
<a href="#l477.3"></a><span id="l477.3" class="difflineat">@@ -2,34 +2,34 @@</span>
<a href="#l477.4"></a><span id="l477.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l477.5"></a><span id="l477.5">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l477.6"></a><span id="l477.6"> </span>
<a href="#l477.7"></a><span id="l477.7"> /**</span>
<a href="#l477.8"></a><span id="l477.8">  * Details of supported OAuth2 Providers.</span>
<a href="#l477.9"></a><span id="l477.9">  */</span>
<a href="#l477.10"></a><span id="l477.10"> var EXPORTED_SYMBOLS = [&quot;OAuth2Providers&quot;];</span>
<a href="#l477.11"></a><span id="l477.11"> </span>
<a href="#l477.12"></a><span id="l477.12" class="difflineminus">-const {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l477.13"></a><span id="l477.13" class="difflineplus">+var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l477.14"></a><span id="l477.14"> </span>
<a href="#l477.15"></a><span id="l477.15"> // map of hostnames to [issuer, scope]</span>
<a href="#l477.16"></a><span id="l477.16" class="difflineminus">-const kHostnames = new Map([</span>
<a href="#l477.17"></a><span id="l477.17" class="difflineplus">+var kHostnames = new Map([</span>
<a href="#l477.18"></a><span id="l477.18">   [&quot;imap.googlemail.com&quot;, [&quot;accounts.google.com&quot;, &quot;https://mail.google.com/&quot;]],</span>
<a href="#l477.19"></a><span id="l477.19">   [&quot;smtp.googlemail.com&quot;, [&quot;accounts.google.com&quot;, &quot;https://mail.google.com/&quot;]],</span>
<a href="#l477.20"></a><span id="l477.20">   [&quot;imap.gmail.com&quot;, [&quot;accounts.google.com&quot;, &quot;https://mail.google.com/&quot;]],</span>
<a href="#l477.21"></a><span id="l477.21">   [&quot;smtp.gmail.com&quot;, [&quot;accounts.google.com&quot;, &quot;https://mail.google.com/&quot;]],</span>
<a href="#l477.22"></a><span id="l477.22"> ]);</span>
<a href="#l477.23"></a><span id="l477.23"> </span>
<a href="#l477.24"></a><span id="l477.24"> // map of issuers to appKey, appSecret, authURI, tokenURI</span>
<a href="#l477.25"></a><span id="l477.25"> </span>
<a href="#l477.26"></a><span id="l477.26"> // For the moment, these details are hard-coded, since Google does not</span>
<a href="#l477.27"></a><span id="l477.27"> // provide dynamic client registration. Don't copy these values for your</span>
<a href="#l477.28"></a><span id="l477.28"> // own application--register it yourself. This code (and possibly even the</span>
<a href="#l477.29"></a><span id="l477.29"> // registration itself) will disappear when this is switched to dynamic</span>
<a href="#l477.30"></a><span id="l477.30"> // client registration.</span>
<a href="#l477.31"></a><span id="l477.31" class="difflineminus">-const kIssuers = new Map ([</span>
<a href="#l477.32"></a><span id="l477.32" class="difflineplus">+var kIssuers = new Map ([</span>
<a href="#l477.33"></a><span id="l477.33">   [&quot;accounts.google.com&quot;, [</span>
<a href="#l477.34"></a><span id="l477.34">     '406964657835-aq8lmia8j95dhl1a2bvharmfk3t1hgqj.apps.googleusercontent.com',</span>
<a href="#l477.35"></a><span id="l477.35">     'kSmqreRr0qwBWJgbf5Y-PjSU',</span>
<a href="#l477.36"></a><span id="l477.36">     'https://accounts.google.com/o/oauth2/auth',</span>
<a href="#l477.37"></a><span id="l477.37">     'https://www.googleapis.com/oauth2/v3/token'</span>
<a href="#l477.38"></a><span id="l477.38">   ]],</span>
<a href="#l477.39"></a><span id="l477.39"> ]);</span>
<a href="#l477.40"></a><span id="l477.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l478.1"></a><span id="l478.1" class="difflineminus">--- a/mailnews/base/util/hostnameUtils.jsm</span>
<a href="#l478.2"></a><span id="l478.2" class="difflineplus">+++ b/mailnews/base/util/hostnameUtils.jsm</span>
<a href="#l478.3"></a><span id="l478.3" class="difflineat">@@ -12,18 +12,18 @@ this.EXPORTED_SYMBOLS = [ &quot;isLegalHostNa</span>
<a href="#l478.4"></a><span id="l478.4">                            &quot;isLegalIPv4Address&quot;,</span>
<a href="#l478.5"></a><span id="l478.5">                            &quot;isLegalIPv6Address&quot;,</span>
<a href="#l478.6"></a><span id="l478.6">                            &quot;isLegalIPAddress&quot;,</span>
<a href="#l478.7"></a><span id="l478.7">                            &quot;isLegalLocalIPAddress&quot;,</span>
<a href="#l478.8"></a><span id="l478.8">                            &quot;cleanUpHostName&quot;,</span>
<a href="#l478.9"></a><span id="l478.9">                            &quot;kMinPort&quot;,</span>
<a href="#l478.10"></a><span id="l478.10">                            &quot;kMaxPort&quot; ];</span>
<a href="#l478.11"></a><span id="l478.11"> </span>
<a href="#l478.12"></a><span id="l478.12" class="difflineminus">-const kMinPort = 1;</span>
<a href="#l478.13"></a><span id="l478.13" class="difflineminus">-const kMaxPort = 65535;</span>
<a href="#l478.14"></a><span id="l478.14" class="difflineplus">+var kMinPort = 1;</span>
<a href="#l478.15"></a><span id="l478.15" class="difflineplus">+var kMaxPort = 65535;</span>
<a href="#l478.16"></a><span id="l478.16"> </span>
<a href="#l478.17"></a><span id="l478.17"> /**</span>
<a href="#l478.18"></a><span id="l478.18">  * Check if aHostName is an IP address or a valid hostname.</span>
<a href="#l478.19"></a><span id="l478.19">  *</span>
<a href="#l478.20"></a><span id="l478.20">  * @param aHostName                The string to check for validity.</span>
<a href="#l478.21"></a><span id="l478.21">  * @param aAllowExtendedIPFormats  Allow hex/octal formats in addition to decimal.</span>
<a href="#l478.22"></a><span id="l478.22">  * @return  Unobscured host name if aHostName is valid.</span>
<a href="#l478.23"></a><span id="l478.23">  *          Returns null if it's not.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l479.1"></a><span id="l479.1" class="difflineminus">--- a/mailnews/base/util/iteratorUtils.jsm</span>
<a href="#l479.2"></a><span id="l479.2" class="difflineplus">+++ b/mailnews/base/util/iteratorUtils.jsm</span>
<a href="#l479.3"></a><span id="l479.3" class="difflineat">@@ -6,20 +6,20 @@</span>
<a href="#l479.4"></a><span id="l479.4">  * This file contains helper methods for dealing with XPCOM iterators (arrays</span>
<a href="#l479.5"></a><span id="l479.5">  * and enumerators) in JS-friendly ways.</span>
<a href="#l479.6"></a><span id="l479.6">  */</span>
<a href="#l479.7"></a><span id="l479.7"> </span>
<a href="#l479.8"></a><span id="l479.8"> this.EXPORTED_SYMBOLS = [&quot;fixIterator&quot;, &quot;toXPCOMArray&quot;, &quot;toArray&quot;];</span>
<a href="#l479.9"></a><span id="l479.9"> </span>
<a href="#l479.10"></a><span id="l479.10"> Components.utils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l479.11"></a><span id="l479.11"> </span>
<a href="#l479.12"></a><span id="l479.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l479.13"></a><span id="l479.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l479.14"></a><span id="l479.14"> </span>
<a href="#l479.15"></a><span id="l479.15" class="difflineminus">-const JS_HAS_SYMBOLS = typeof Symbol === &quot;function&quot;;</span>
<a href="#l479.16"></a><span id="l479.16" class="difflineminus">-const ITERATOR_SYMBOL = JS_HAS_SYMBOLS ? Symbol.iterator : &quot;@@iterator&quot;;</span>
<a href="#l479.17"></a><span id="l479.17" class="difflineplus">+var JS_HAS_SYMBOLS = typeof Symbol === &quot;function&quot;;</span>
<a href="#l479.18"></a><span id="l479.18" class="difflineplus">+var ITERATOR_SYMBOL = JS_HAS_SYMBOLS ? Symbol.iterator : &quot;@@iterator&quot;;</span>
<a href="#l479.19"></a><span id="l479.19"> </span>
<a href="#l479.20"></a><span id="l479.20"> /**</span>
<a href="#l479.21"></a><span id="l479.21">  * This function will take a number of objects and convert them to an array.</span>
<a href="#l479.22"></a><span id="l479.22">  *</span>
<a href="#l479.23"></a><span id="l479.23">  * Currently, we support the following objects:</span>
<a href="#l479.24"></a><span id="l479.24">  *   Anything you can for (let x of aObj) on</span>
<a href="#l479.25"></a><span id="l479.25">  *                (e.g. toArray(fixIterator(enum))[4],</span>
<a href="#l479.26"></a><span id="l479.26">  *                 also a NodeList from element.childNodes)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l480.1"></a><span id="l480.1" class="difflineminus">--- a/mailnews/base/util/jsTreeSelection.js</span>
<a href="#l480.2"></a><span id="l480.2" class="difflineplus">+++ b/mailnews/base/util/jsTreeSelection.js</span>
<a href="#l480.3"></a><span id="l480.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l480.4"></a><span id="l480.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l480.5"></a><span id="l480.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l480.6"></a><span id="l480.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l480.7"></a><span id="l480.7"> </span>
<a href="#l480.8"></a><span id="l480.8"> this.EXPORTED_SYMBOLS = ['JSTreeSelection'];</span>
<a href="#l480.9"></a><span id="l480.9"> </span>
<a href="#l480.10"></a><span id="l480.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l480.11"></a><span id="l480.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l480.12"></a><span id="l480.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l480.13"></a><span id="l480.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l480.14"></a><span id="l480.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l480.15"></a><span id="l480.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l480.16"></a><span id="l480.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l480.17"></a><span id="l480.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l480.18"></a><span id="l480.18"> </span>
<a href="#l480.19"></a><span id="l480.19"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l480.20"></a><span id="l480.20"> </span>
<a href="#l480.21"></a><span id="l480.21"> /**</span>
<a href="#l480.22"></a><span id="l480.22">  * Partial nsITreeSelection implementation so that we can have nsMsgDBViews that</span>
<a href="#l480.23"></a><span id="l480.23">  *  exist only for message display but do not need to be backed by a full</span>
<a href="#l480.24"></a><span id="l480.24">  *  tree view widget.  This could also hopefully be used for more xpcshell unit</span>
<a href="#l480.25"></a><span id="l480.25">  *  testing of the FolderDisplayWidget.  It might also be useful for creating</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l481.1"></a><span id="l481.1" class="difflineminus">--- a/mailnews/base/util/mailnewsMigrator.js</span>
<a href="#l481.2"></a><span id="l481.2" class="difflineplus">+++ b/mailnews/base/util/mailnewsMigrator.js</span>
<a href="#l481.3"></a><span id="l481.3" class="difflineat">@@ -10,21 +10,21 @@</span>
<a href="#l481.4"></a><span id="l481.4">  * or was never used in the old version.</span>
<a href="#l481.5"></a><span id="l481.5">  */</span>
<a href="#l481.6"></a><span id="l481.6"> </span>
<a href="#l481.7"></a><span id="l481.7"> this.EXPORTED_SYMBOLS = [ &quot;migrateMailnews&quot; ];</span>
<a href="#l481.8"></a><span id="l481.8"> </span>
<a href="#l481.9"></a><span id="l481.9"> Components.utils.import(&quot;resource:///modules/errUtils.js&quot;);</span>
<a href="#l481.10"></a><span id="l481.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l481.11"></a><span id="l481.11"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l481.12"></a><span id="l481.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l481.13"></a><span id="l481.13" class="difflineminus">-const kServerPrefVersion = 1;</span>
<a href="#l481.14"></a><span id="l481.14" class="difflineminus">-const kSmtpPrefVersion = 1;</span>
<a href="#l481.15"></a><span id="l481.15" class="difflineminus">-const kABRemoteContentPrefVersion = 1;</span>
<a href="#l481.16"></a><span id="l481.16" class="difflineminus">-const kDefaultCharsetsPrefVersion = 1;</span>
<a href="#l481.17"></a><span id="l481.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l481.18"></a><span id="l481.18" class="difflineplus">+var kServerPrefVersion = 1;</span>
<a href="#l481.19"></a><span id="l481.19" class="difflineplus">+var kSmtpPrefVersion = 1;</span>
<a href="#l481.20"></a><span id="l481.20" class="difflineplus">+var kABRemoteContentPrefVersion = 1;</span>
<a href="#l481.21"></a><span id="l481.21" class="difflineplus">+var kDefaultCharsetsPrefVersion = 1;</span>
<a href="#l481.22"></a><span id="l481.22"> </span>
<a href="#l481.23"></a><span id="l481.23"> function migrateMailnews()</span>
<a href="#l481.24"></a><span id="l481.24"> {</span>
<a href="#l481.25"></a><span id="l481.25">   try {</span>
<a href="#l481.26"></a><span id="l481.26">     MigrateServerAuthPref();</span>
<a href="#l481.27"></a><span id="l481.27">   } catch (e) { logException(e); }</span>
<a href="#l481.28"></a><span id="l481.28"> </span>
<a href="#l481.29"></a><span id="l481.29">   try {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l482.1"></a><span id="l482.1" class="difflineminus">--- a/mailnews/base/util/msgDBCacheManager.js</span>
<a href="#l482.2"></a><span id="l482.2" class="difflineplus">+++ b/mailnews/base/util/msgDBCacheManager.js</span>
<a href="#l482.3"></a><span id="l482.3" class="difflineat">@@ -5,28 +5,28 @@</span>
<a href="#l482.4"></a><span id="l482.4"> /**</span>
<a href="#l482.5"></a><span id="l482.5">  * Message DB Cache manager</span>
<a href="#l482.6"></a><span id="l482.6">  */</span>
<a href="#l482.7"></a><span id="l482.7"> </span>
<a href="#l482.8"></a><span id="l482.8"> /* :::::::: Constants and Helpers ::::::::::::::: */</span>
<a href="#l482.9"></a><span id="l482.9"> </span>
<a href="#l482.10"></a><span id="l482.10"> this.EXPORTED_SYMBOLS = [&quot;msgDBCacheManager&quot;];</span>
<a href="#l482.11"></a><span id="l482.11"> </span>
<a href="#l482.12"></a><span id="l482.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l482.13"></a><span id="l482.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l482.14"></a><span id="l482.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l482.15"></a><span id="l482.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l482.16"></a><span id="l482.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l482.17"></a><span id="l482.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l482.18"></a><span id="l482.18"> </span>
<a href="#l482.19"></a><span id="l482.19"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l482.20"></a><span id="l482.20"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l482.21"></a><span id="l482.21"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l482.22"></a><span id="l482.22"> var log = Log4Moz.getConfiguredLogger(&quot;mailnews.database.dbcache&quot;);</span>
<a href="#l482.23"></a><span id="l482.23"> </span>
<a href="#l482.24"></a><span id="l482.24"> /**</span>
<a href="#l482.25"></a><span id="l482.25">  */</span>
<a href="#l482.26"></a><span id="l482.26" class="difflineminus">-const DBCACHE_INTERVAL_DEFAULT_MS = 60000; // 1 minute</span>
<a href="#l482.27"></a><span id="l482.27" class="difflineplus">+var DBCACHE_INTERVAL_DEFAULT_MS = 60000; // 1 minute</span>
<a href="#l482.28"></a><span id="l482.28"> </span>
<a href="#l482.29"></a><span id="l482.29"> /* :::::::: The Module ::::::::::::::: */</span>
<a href="#l482.30"></a><span id="l482.30"> </span>
<a href="#l482.31"></a><span id="l482.31"> var msgDBCacheManager =</span>
<a href="#l482.32"></a><span id="l482.32"> {</span>
<a href="#l482.33"></a><span id="l482.33">   _initialized: false,</span>
<a href="#l482.34"></a><span id="l482.34"> </span>
<a href="#l482.35"></a><span id="l482.35">   _msgDBCacheTimer: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l483.1"></a><span id="l483.1" class="difflineminus">--- a/mailnews/base/util/templateUtils.js</span>
<a href="#l483.2"></a><span id="l483.2" class="difflineplus">+++ b/mailnews/base/util/templateUtils.js</span>
<a href="#l483.3"></a><span id="l483.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l483.4"></a><span id="l483.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l483.5"></a><span id="l483.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l483.6"></a><span id="l483.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l483.7"></a><span id="l483.7"> </span>
<a href="#l483.8"></a><span id="l483.8"> var EXPORTED_SYMBOLS = [&quot;PluralStringFormatter&quot;, &quot;makeFriendlyDateAgo&quot;];</span>
<a href="#l483.9"></a><span id="l483.9"> </span>
<a href="#l483.10"></a><span id="l483.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l483.11"></a><span id="l483.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l483.12"></a><span id="l483.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l483.13"></a><span id="l483.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l483.14"></a><span id="l483.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l483.15"></a><span id="l483.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l483.16"></a><span id="l483.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l483.17"></a><span id="l483.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l483.18"></a><span id="l483.18"> </span>
<a href="#l483.19"></a><span id="l483.19"> Cu.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l483.20"></a><span id="l483.20"> Cu.import(&quot;resource:///modules/StringBundle.js&quot;);</span>
<a href="#l483.21"></a><span id="l483.21"> </span>
<a href="#l483.22"></a><span id="l483.22"> function PluralStringFormatter(aBundleURI) {</span>
<a href="#l483.23"></a><span id="l483.23">   this._bundle = new StringBundle(aBundleURI);</span>
<a href="#l483.24"></a><span id="l483.24"> }</span>
<a href="#l483.25"></a><span id="l483.25"> </span>
<a href="#l483.26"></a><span id="l483.26" class="difflineat">@@ -25,17 +25,17 @@ PluralStringFormatter.prototype = {</span>
<a href="#l483.27"></a><span id="l483.27">       for (let i = 0; i &lt; aReplacements.length; i++)</span>
<a href="#l483.28"></a><span id="l483.28">         str = str.replace(&quot;#&quot; + (i+1), aReplacements[i]);</span>
<a href="#l483.29"></a><span id="l483.29">     }</span>
<a href="#l483.30"></a><span id="l483.30">     return str;</span>
<a href="#l483.31"></a><span id="l483.31">   },</span>
<a href="#l483.32"></a><span id="l483.32"> };</span>
<a href="#l483.33"></a><span id="l483.33"> </span>
<a href="#l483.34"></a><span id="l483.34"> </span>
<a href="#l483.35"></a><span id="l483.35" class="difflineminus">-const gTemplateUtilsStrings = new PluralStringFormatter(</span>
<a href="#l483.36"></a><span id="l483.36" class="difflineplus">+var gTemplateUtilsStrings = new PluralStringFormatter(</span>
<a href="#l483.37"></a><span id="l483.37">   &quot;chrome://messenger/locale/templateUtils.properties&quot;</span>
<a href="#l483.38"></a><span id="l483.38"> );</span>
<a href="#l483.39"></a><span id="l483.39"> </span>
<a href="#l483.40"></a><span id="l483.40"> /**</span>
<a href="#l483.41"></a><span id="l483.41">  * Helper function to generate a localized &quot;friendly&quot; representation of</span>
<a href="#l483.42"></a><span id="l483.42">  * time relative to the present.  If the time input is &quot;today&quot;, it returns</span>
<a href="#l483.43"></a><span id="l483.43">  * a string corresponding to just the time.  If it's yesterday, it returns</span>
<a href="#l483.44"></a><span id="l483.44">  * &quot;yesterday&quot; (localized).  If it's in the last week, it returns the day</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l484.1"></a><span id="l484.1" class="difflineminus">--- a/mailnews/base/util/traceHelper.js</span>
<a href="#l484.2"></a><span id="l484.2" class="difflineplus">+++ b/mailnews/base/util/traceHelper.js</span>
<a href="#l484.3"></a><span id="l484.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l484.4"></a><span id="l484.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l484.5"></a><span id="l484.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l484.6"></a><span id="l484.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l484.7"></a><span id="l484.7"> </span>
<a href="#l484.8"></a><span id="l484.8"> this.EXPORTED_SYMBOLS = ['DebugTraceHelper'];</span>
<a href="#l484.9"></a><span id="l484.9"> </span>
<a href="#l484.10"></a><span id="l484.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l484.11"></a><span id="l484.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l484.12"></a><span id="l484.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l484.13"></a><span id="l484.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l484.14"></a><span id="l484.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l484.15"></a><span id="l484.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l484.16"></a><span id="l484.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l484.17"></a><span id="l484.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l484.18"></a><span id="l484.18"> </span>
<a href="#l484.19"></a><span id="l484.19"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l484.20"></a><span id="l484.20"> </span>
<a href="#l484.21"></a><span id="l484.21"> var SPACES = &quot;                                                   &quot;;</span>
<a href="#l484.22"></a><span id="l484.22"> var BRIGHT_COLORS = {</span>
<a href="#l484.23"></a><span id="l484.23">   red: &quot;\x1b[1;31m&quot;,</span>
<a href="#l484.24"></a><span id="l484.24">   green: &quot;\x1b[1;32m&quot;,</span>
<a href="#l484.25"></a><span id="l484.25">   yellow: &quot;\x1b[1;33m&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l485.1"></a><span id="l485.1" class="difflineminus">--- a/mailnews/compose/src/nsSMTPProtocolHandler.js</span>
<a href="#l485.2"></a><span id="l485.2" class="difflineplus">+++ b/mailnews/compose/src/nsSMTPProtocolHandler.js</span>
<a href="#l485.3"></a><span id="l485.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l485.4"></a><span id="l485.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l485.5"></a><span id="l485.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l485.6"></a><span id="l485.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l485.7"></a><span id="l485.7"> </span>
<a href="#l485.8"></a><span id="l485.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l485.9"></a><span id="l485.9"> </span>
<a href="#l485.10"></a><span id="l485.10" class="difflineminus">-const kNetworkProtocolCIDPrefix = &quot;@mozilla.org/network/protocol;1?name=&quot;;</span>
<a href="#l485.11"></a><span id="l485.11" class="difflineminus">-const nsIProtocolHandler = Components.interfaces.nsIProtocolHandler;</span>
<a href="#l485.12"></a><span id="l485.12" class="difflineplus">+var kNetworkProtocolCIDPrefix = &quot;@mozilla.org/network/protocol;1?name=&quot;;</span>
<a href="#l485.13"></a><span id="l485.13" class="difflineplus">+var nsIProtocolHandler = Components.interfaces.nsIProtocolHandler;</span>
<a href="#l485.14"></a><span id="l485.14"> </span>
<a href="#l485.15"></a><span id="l485.15"> function makeProtocolHandler(aProtocol, aDefaultPort, aClassID) {</span>
<a href="#l485.16"></a><span id="l485.16">   return {</span>
<a href="#l485.17"></a><span id="l485.17">     classID: Components.ID(aClassID),</span>
<a href="#l485.18"></a><span id="l485.18">     QueryInterface: XPCOMUtils.generateQI([nsIProtocolHandler]),</span>
<a href="#l485.19"></a><span id="l485.19"> </span>
<a href="#l485.20"></a><span id="l485.20">     scheme: aProtocol,</span>
<a href="#l485.21"></a><span id="l485.21">     defaultPort: aDefaultPort,</span>
<a href="#l485.22"></a><span id="l485.22" class="difflineat">@@ -54,9 +54,9 @@ nsSMTPProtocolHandler.prototype =</span>
<a href="#l485.23"></a><span id="l485.23"> function nsSMTPSProtocolHandler() {}</span>
<a href="#l485.24"></a><span id="l485.24"> </span>
<a href="#l485.25"></a><span id="l485.25"> nsSMTPSProtocolHandler.prototype =</span>
<a href="#l485.26"></a><span id="l485.26">   makeProtocolHandler(&quot;smtps&quot;,</span>
<a href="#l485.27"></a><span id="l485.27">                       Components.interfaces.nsISmtpUrl.DEFAULT_SMTPS_PORT,</span>
<a href="#l485.28"></a><span id="l485.28">                       &quot;057d0997-9e3a-411e-b4ee-2602f53fe05f&quot;);</span>
<a href="#l485.29"></a><span id="l485.29"> </span>
<a href="#l485.30"></a><span id="l485.30"> var components = [nsSMTPProtocolHandler, nsSMTPSProtocolHandler];</span>
<a href="#l485.31"></a><span id="l485.31" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l485.32"></a><span id="l485.32" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l486.1"></a><span id="l486.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_attachment.js</span>
<a href="#l486.2"></a><span id="l486.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_attachment.js</span>
<a href="#l486.3"></a><span id="l486.3" class="difflineat">@@ -1,27 +1,27 @@</span>
<a href="#l486.4"></a><span id="l486.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l486.5"></a><span id="l486.5"> /*</span>
<a href="#l486.6"></a><span id="l486.6">  * Test suite for attachment file name.</span>
<a href="#l486.7"></a><span id="l486.7">  */</span>
<a href="#l486.8"></a><span id="l486.8"> </span>
<a href="#l486.9"></a><span id="l486.9" class="difflineminus">-const input0 = &quot; !\&quot;#$%&amp;'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_&quot;+</span>
<a href="#l486.10"></a><span id="l486.10" class="difflineplus">+var input0 = &quot; !\&quot;#$%&amp;'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_&quot;+</span>
<a href="#l486.11"></a><span id="l486.11">     &quot;`abcdefghijklmnopqrstuvwxyz{|}~&quot;+</span>
<a href="#l486.12"></a><span id="l486.12">     &quot;\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf&quot;+</span>
<a href="#l486.13"></a><span id="l486.13">     &quot;\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf&quot;+</span>
<a href="#l486.14"></a><span id="l486.14">     &quot;\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf&quot;+</span>
<a href="#l486.15"></a><span id="l486.15">     &quot;\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf&quot;+</span>
<a href="#l486.16"></a><span id="l486.16">     &quot;\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef&quot;+</span>
<a href="#l486.17"></a><span id="l486.17">     &quot;\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.txt&quot;</span>
<a href="#l486.18"></a><span id="l486.18"> </span>
<a href="#l486.19"></a><span id="l486.19"> // ascii only</span>
<a href="#l486.20"></a><span id="l486.20" class="difflineminus">-const input1 = &quot; !\&quot;#$%&amp;'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_&quot;+</span>
<a href="#l486.21"></a><span id="l486.21" class="difflineplus">+var input1 = &quot; !\&quot;#$%&amp;'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_&quot;+</span>
<a href="#l486.22"></a><span id="l486.22">     &quot;`abcdefghijklmnopqrstuvwxyz{|}~.txt&quot;</span>
<a href="#l486.23"></a><span id="l486.23"> </span>
<a href="#l486.24"></a><span id="l486.24" class="difflineminus">-const expectedCD0 = [&quot;Content-Disposition: attachment;&quot;,</span>
<a href="#l486.25"></a><span id="l486.25" class="difflineplus">+var expectedCD0 = [&quot;Content-Disposition: attachment;&quot;,</span>
<a href="#l486.26"></a><span id="l486.26">   &quot; filename*0*=UTF-8''%20%21%22%23%24%25%26%27%28%29%2A%2B%2C%2D%2E%2F%30%31;&quot;,</span>
<a href="#l486.27"></a><span id="l486.27">   &quot; filename*1*=%32%33%34%35%36%37%38%39%3A%3B%3C%3D%3E%3F%40%41%42%43%44%45;&quot;,</span>
<a href="#l486.28"></a><span id="l486.28">   &quot; filename*2*=%46%47%48%49%4A%4B%4C%4D%4E%4F%50%51%52%53%54%55%56%57%58%59;&quot;,</span>
<a href="#l486.29"></a><span id="l486.29">   &quot; filename*3*=%5A%5B%5C%5D%5E%5F%60%61%62%63%64%65%66%67%68%69%6A%6B%6C%6D;&quot;,</span>
<a href="#l486.30"></a><span id="l486.30">   &quot; filename*4*=%6E%6F%70%71%72%73%74%75%76%77%78%79%7A%7B%7C%7D%7E%C2%A0%C2;&quot;,</span>
<a href="#l486.31"></a><span id="l486.31">   &quot; filename*5*=%A1%C2%A2%C2%A3%C2%A4%C2%A5%C2%A6%C2%A7%C2%A8%C2%A9%C2%AA%C2;&quot;,</span>
<a href="#l486.32"></a><span id="l486.32">   &quot; filename*6*=%AB%C2%AC%C2%AD%C2%AE%C2%AF%C2%B0%C2%B1%C2%B2%C2%B3%C2%B4%C2;&quot;,</span>
<a href="#l486.33"></a><span id="l486.33">   &quot; filename*7*=%B5%C2%B6%C2%B7%C2%B8%C2%B9%C2%BA%C2%BB%C2%BC%C2%BD%C2%BE%C2;&quot;,</span>
<a href="#l486.34"></a><span id="l486.34" class="difflineat">@@ -29,27 +29,27 @@ const expectedCD0 = [&quot;Content-Dispositio</span>
<a href="#l486.35"></a><span id="l486.35">   &quot; filename*9*=%89%C3%8A%C3%8B%C3%8C%C3%8D%C3%8E%C3%8F%C3%90%C3%91%C3%92%C3;&quot;,</span>
<a href="#l486.36"></a><span id="l486.36">   &quot; filename*10*=%93%C3%94%C3%95%C3%96%C3%97%C3%98%C3%99%C3%9A%C3%9B%C3%9C;&quot;,</span>
<a href="#l486.37"></a><span id="l486.37">   &quot; filename*11*=%C3%9D%C3%9E%C3%9F%C3%A0%C3%A1%C3%A2%C3%A3%C3%A4%C3%A5%C3;&quot;,</span>
<a href="#l486.38"></a><span id="l486.38">   &quot; filename*12*=%A6%C3%A7%C3%A8%C3%A9%C3%AA%C3%AB%C3%AC%C3%AD%C3%AE%C3%AF;&quot;,</span>
<a href="#l486.39"></a><span id="l486.39">   &quot; filename*13*=%C3%B0%C3%B1%C3%B2%C3%B3%C3%B4%C3%B5%C3%B6%C3%B7%C3%B8%C3;&quot;,</span>
<a href="#l486.40"></a><span id="l486.40">   &quot; filename*14*=%B9%C3%BA%C3%BB%C3%BC%C3%BD%C3%BE%C3%BF%2E%74%78%74&quot;,</span>
<a href="#l486.41"></a><span id="l486.41">   &quot;&quot;].join(&quot;\r\n&quot;);</span>
<a href="#l486.42"></a><span id="l486.42"> </span>
<a href="#l486.43"></a><span id="l486.43" class="difflineminus">-const expectedCD1 = &quot;Content-Disposition: attachment;\r\n&quot;+</span>
<a href="#l486.44"></a><span id="l486.44" class="difflineplus">+var expectedCD1 = &quot;Content-Disposition: attachment;\r\n&quot;+</span>
<a href="#l486.45"></a><span id="l486.45">     ' filename*0=&quot; !\\&quot;#$%&amp;\'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n'+</span>
<a href="#l486.46"></a><span id="l486.46">     ' filename*1=&quot;[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~.txt&quot;\r\n';</span>
<a href="#l486.47"></a><span id="l486.47"> </span>
<a href="#l486.48"></a><span id="l486.48" class="difflineminus">-const ParamFoldingPref = {</span>
<a href="#l486.49"></a><span id="l486.49" class="difflineplus">+var ParamFoldingPref = {</span>
<a href="#l486.50"></a><span id="l486.50">   RFC2047: 0,</span>
<a href="#l486.51"></a><span id="l486.51">   RFC2047WithCRLF: 1,</span>
<a href="#l486.52"></a><span id="l486.52">   RFC2231: 2</span>
<a href="#l486.53"></a><span id="l486.53"> }</span>
<a href="#l486.54"></a><span id="l486.54"> </span>
<a href="#l486.55"></a><span id="l486.55" class="difflineminus">-const expectedCTList0 = {</span>
<a href="#l486.56"></a><span id="l486.56" class="difflineplus">+var expectedCTList0 = {</span>
<a href="#l486.57"></a><span id="l486.57">   RFC2047: 'Content-Type: text/plain; charset=US-ASCII;\r\n'+</span>
<a href="#l486.58"></a><span id="l486.58">            ' name=&quot;=?UTF-8?Q?_!=22#$%&amp;\'=28=29*+=2c-./0123456789:;&lt;=3d&gt;=3f@ABCDEFGHIJKLM?='+</span>
<a href="#l486.59"></a><span id="l486.59">            '=?UTF-8?Q?NOPQRSTUVWXYZ[\\\\]^=5f`abcdefghijklmnopqrstuvwxyz{|}~=c2=a0?='+</span>
<a href="#l486.60"></a><span id="l486.60">            '=?UTF-8?B?wqHCosKjwqTCpcKmwqfCqMKpwqrCq8Kswq3CrsKvwrDCscKywrPCtMK1?='+</span>
<a href="#l486.61"></a><span id="l486.61">            '=?UTF-8?B?wrbCt8K4wrnCusK7wrzCvcK+wr/DgMOBw4LDg8OEw4XDhsOHw4jDicOK?='+</span>
<a href="#l486.62"></a><span id="l486.62">            '=?UTF-8?B?w4vDjMONw47Dj8OQw5HDksOTw5TDlcOWw5fDmMOZw5rDm8Ocw53DnsOf?='+</span>
<a href="#l486.63"></a><span id="l486.63">            '=?UTF-8?B?w6DDocOiw6PDpMOlw6bDp8Oow6nDqsOrw6zDrcOuw6/DsMOxw7LDs8O0?='+</span>
<a href="#l486.64"></a><span id="l486.64">            '=?UTF-8?B?w7XDtsO3w7jDucO6w7vDvMO9w77Dvy50eHQ=?=&quot;\r\n',</span>
<a href="#l486.65"></a><span id="l486.65" class="difflineat">@@ -61,17 +61,17 @@ const expectedCTList0 = {</span>
<a href="#l486.66"></a><span id="l486.66">                    ' =?UTF-8?B?wrbCt8K4wrnCusK7wrzCvcK+wr/DgMOBw4LDg8OEw4XDhsOHw4jDicOK?=\r\n'+</span>
<a href="#l486.67"></a><span id="l486.67">                    ' =?UTF-8?B?w4vDjMONw47Dj8OQw5HDksOTw5TDlcOWw5fDmMOZw5rDm8Ocw53DnsOf?=\r\n'+</span>
<a href="#l486.68"></a><span id="l486.68">                    ' =?UTF-8?B?w6DDocOiw6PDpMOlw6bDp8Oow6nDqsOrw6zDrcOuw6/DsMOxw7LDs8O0?=\r\n'+</span>
<a href="#l486.69"></a><span id="l486.69">                    ' =?UTF-8?B?w7XDtsO3w7jDucO6w7vDvMO9w77Dvy50eHQ=?=&quot;\r\n',</span>
<a href="#l486.70"></a><span id="l486.70"> </span>
<a href="#l486.71"></a><span id="l486.71">   RFC2231: 'Content-Type: text/plain; charset=US-ASCII\r\n'</span>
<a href="#l486.72"></a><span id="l486.72"> }</span>
<a href="#l486.73"></a><span id="l486.73"> </span>
<a href="#l486.74"></a><span id="l486.74" class="difflineminus">-const expectedCTList1 = {</span>
<a href="#l486.75"></a><span id="l486.75" class="difflineplus">+var expectedCTList1 = {</span>
<a href="#l486.76"></a><span id="l486.76">   RFC2047: 'Content-Type: text/plain; charset=US-ASCII;\r\n'+</span>
<a href="#l486.77"></a><span id="l486.77">            ' name=&quot;!\\&quot;#$%&amp;\'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~.txt&quot;\r\n',</span>
<a href="#l486.78"></a><span id="l486.78"> </span>
<a href="#l486.79"></a><span id="l486.79">   RFC2047WithCRLF: 'Content-Type: text/plain; charset=US-ASCII;\r\n'+</span>
<a href="#l486.80"></a><span id="l486.80">                    ' name=&quot;!\\&quot;#$%&amp;\'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~.txt&quot;\r\n',</span>
<a href="#l486.81"></a><span id="l486.81"> </span>
<a href="#l486.82"></a><span id="l486.82">   RFC2231: 'Content-Type: text/plain; charset=US-ASCII\r\n'</span>
<a href="#l486.83"></a><span id="l486.83"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l487.1"></a><span id="l487.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_attachment_intl.js</span>
<a href="#l487.2"></a><span id="l487.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_attachment_intl.js</span>
<a href="#l487.3"></a><span id="l487.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l487.4"></a><span id="l487.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l487.5"></a><span id="l487.5"> /*</span>
<a href="#l487.6"></a><span id="l487.6">  * attachment test using non-ascii character</span>
<a href="#l487.7"></a><span id="l487.7">  */</span>
<a href="#l487.8"></a><span id="l487.8"> </span>
<a href="#l487.9"></a><span id="l487.9" class="difflineminus">-const nonAsciiUrl = &quot;http://\u65e5\u672c\u8a9e.jp&quot;;</span>
<a href="#l487.10"></a><span id="l487.10" class="difflineminus">-const prettyResult = &quot;\u65e5\u672c\u8a9e.jp&quot;;</span>
<a href="#l487.11"></a><span id="l487.11" class="difflineplus">+var nonAsciiUrl = &quot;http://\u65e5\u672c\u8a9e.jp&quot;;</span>
<a href="#l487.12"></a><span id="l487.12" class="difflineplus">+var prettyResult = &quot;\u65e5\u672c\u8a9e.jp&quot;;</span>
<a href="#l487.13"></a><span id="l487.13"> </span>
<a href="#l487.14"></a><span id="l487.14"> function doAttachmentUrlTest() {</span>
<a href="#l487.15"></a><span id="l487.15">   // handles non-ascii url in nsIMsgAttachment</span>
<a href="#l487.16"></a><span id="l487.16"> </span>
<a href="#l487.17"></a><span id="l487.17">   var attachment = Cc[&quot;@mozilla.org/messengercompose/attachment;1&quot;]</span>
<a href="#l487.18"></a><span id="l487.18">                      .createInstance(Ci.nsIMsgAttachment);</span>
<a href="#l487.19"></a><span id="l487.19">   attachment.url = nonAsciiUrl;</span>
<a href="#l487.20"></a><span id="l487.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l488.1"></a><span id="l488.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_bug155172.js</span>
<a href="#l488.2"></a><span id="l488.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_bug155172.js</span>
<a href="#l488.3"></a><span id="l488.3" class="difflineat">@@ -19,23 +19,23 @@ function confirmEx(aDialogTitle, aText, </span>
<a href="#l488.4"></a><span id="l488.4"> function promptPasswordPS(aParent, aDialogTitle, aText, aPassword,</span>
<a href="#l488.5"></a><span id="l488.5">                           aCheckMsg, aCheckState) {</span>
<a href="#l488.6"></a><span id="l488.6">   aPassword.value = gNewPassword;</span>
<a href="#l488.7"></a><span id="l488.7">   return true;</span>
<a href="#l488.8"></a><span id="l488.8"> }</span>
<a href="#l488.9"></a><span id="l488.9"> </span>
<a href="#l488.10"></a><span id="l488.10"> var server;</span>
<a href="#l488.11"></a><span id="l488.11"> </span>
<a href="#l488.12"></a><span id="l488.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l488.13"></a><span id="l488.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l488.14"></a><span id="l488.14" class="difflineminus">-const kUsername = &quot;test.smtp@fakeserver&quot;;</span>
<a href="#l488.15"></a><span id="l488.15" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l488.16"></a><span id="l488.16" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l488.17"></a><span id="l488.17" class="difflineplus">+var kUsername = &quot;test.smtp@fakeserver&quot;;</span>
<a href="#l488.18"></a><span id="l488.18"> // kPassword 2 is the one defined in signons-mailnews1.8.txt, the other one</span>
<a href="#l488.19"></a><span id="l488.19"> // is intentionally wrong.</span>
<a href="#l488.20"></a><span id="l488.20" class="difflineminus">-const kPassword1 = &quot;wrong&quot;;</span>
<a href="#l488.21"></a><span id="l488.21" class="difflineminus">-const kPassword2 = &quot;smtptest&quot;;</span>
<a href="#l488.22"></a><span id="l488.22" class="difflineplus">+var kPassword1 = &quot;wrong&quot;;</span>
<a href="#l488.23"></a><span id="l488.23" class="difflineplus">+var kPassword2 = &quot;smtptest&quot;;</span>
<a href="#l488.24"></a><span id="l488.24"> </span>
<a href="#l488.25"></a><span id="l488.25"> add_task(function *() {</span>
<a href="#l488.26"></a><span id="l488.26">   registerAlertTestUtils();</span>
<a href="#l488.27"></a><span id="l488.27"> </span>
<a href="#l488.28"></a><span id="l488.28">   function createHandler(d) {</span>
<a href="#l488.29"></a><span id="l488.29">     var handler = new SMTP_RFC2821_handler(d);</span>
<a href="#l488.30"></a><span id="l488.30">     // Username needs to match signons.txt</span>
<a href="#l488.31"></a><span id="l488.31">     handler.kUsername = kUsername;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l489.1"></a><span id="l489.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_bug235432.js</span>
<a href="#l489.2"></a><span id="l489.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_bug235432.js</span>
<a href="#l489.3"></a><span id="l489.3" class="difflineat">@@ -4,18 +4,18 @@</span>
<a href="#l489.4"></a><span id="l489.4">  */</span>
<a href="#l489.5"></a><span id="l489.5"> </span>
<a href="#l489.6"></a><span id="l489.6"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l489.7"></a><span id="l489.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l489.8"></a><span id="l489.8"> </span>
<a href="#l489.9"></a><span id="l489.9"> var testmail = do_get_file(&quot;data/message1.eml&quot;);</span>
<a href="#l489.10"></a><span id="l489.10"> var expectedTemporaryFile;</span>
<a href="#l489.11"></a><span id="l489.11"> </span>
<a href="#l489.12"></a><span id="l489.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l489.13"></a><span id="l489.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l489.14"></a><span id="l489.14" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l489.15"></a><span id="l489.15" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l489.16"></a><span id="l489.16"> </span>
<a href="#l489.17"></a><span id="l489.17"> var msgSend = Cc[&quot;@mozilla.org/messengercompose/send;1&quot;]</span>
<a href="#l489.18"></a><span id="l489.18">                 .createInstance(Ci.nsIMsgSend);</span>
<a href="#l489.19"></a><span id="l489.19"> </span>
<a href="#l489.20"></a><span id="l489.20"> var gCopyListener =</span>
<a href="#l489.21"></a><span id="l489.21"> {</span>
<a href="#l489.22"></a><span id="l489.22">   callbackFunction: null,</span>
<a href="#l489.23"></a><span id="l489.23">   copiedMessageHeaderKeys: [],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l490.1"></a><span id="l490.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_bug474774.js</span>
<a href="#l490.2"></a><span id="l490.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_bug474774.js</span>
<a href="#l490.3"></a><span id="l490.3" class="difflineat">@@ -11,18 +11,18 @@ var test = null;</span>
<a href="#l490.4"></a><span id="l490.4"> var server;</span>
<a href="#l490.5"></a><span id="l490.5"> var smtpServer;</span>
<a href="#l490.6"></a><span id="l490.6"> var sentFolder;</span>
<a href="#l490.7"></a><span id="l490.7"> var originalData;</span>
<a href="#l490.8"></a><span id="l490.8"> var finished = false;</span>
<a href="#l490.9"></a><span id="l490.9"> var identity = null;</span>
<a href="#l490.10"></a><span id="l490.10"> var testFile = do_get_file(&quot;data/429891_testcase.eml&quot;);</span>
<a href="#l490.11"></a><span id="l490.11"> </span>
<a href="#l490.12"></a><span id="l490.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l490.13"></a><span id="l490.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l490.14"></a><span id="l490.14" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l490.15"></a><span id="l490.15" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l490.16"></a><span id="l490.16"> </span>
<a href="#l490.17"></a><span id="l490.17"> var msgSendLater = Cc[&quot;@mozilla.org/messengercompose/sendlater;1&quot;]</span>
<a href="#l490.18"></a><span id="l490.18">   .getService(Ci.nsIMsgSendLater);</span>
<a href="#l490.19"></a><span id="l490.19"> </span>
<a href="#l490.20"></a><span id="l490.20"> // This listener handles the post-sending of the actual message and checks the</span>
<a href="#l490.21"></a><span id="l490.21"> // sequence and ensures the data is correct.</span>
<a href="#l490.22"></a><span id="l490.22"> function msll() {</span>
<a href="#l490.23"></a><span id="l490.23"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l491.1"></a><span id="l491.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_expandMailingLists.js</span>
<a href="#l491.2"></a><span id="l491.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_expandMailingLists.js</span>
<a href="#l491.3"></a><span id="l491.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l491.4"></a><span id="l491.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l491.5"></a><span id="l491.5"> </span>
<a href="#l491.6"></a><span id="l491.6"> /**</span>
<a href="#l491.7"></a><span id="l491.7">  * Tests nsMsgCompose expandMailingLists.</span>
<a href="#l491.8"></a><span id="l491.8">  */</span>
<a href="#l491.9"></a><span id="l491.9"> </span>
<a href="#l491.10"></a><span id="l491.10" class="difflineminus">-const MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l491.11"></a><span id="l491.11" class="difflineminus">-const MsgComposeParamsContractID = &quot;@mozilla.org/messengercompose/composeparams;1&quot;;</span>
<a href="#l491.12"></a><span id="l491.12" class="difflineminus">-const MsgComposeFieldsContractID = &quot;@mozilla.org/messengercompose/composefields;1&quot;;</span>
<a href="#l491.13"></a><span id="l491.13" class="difflineminus">-const nsIMsgCompose = Components.interfaces.nsIMsgCompose;</span>
<a href="#l491.14"></a><span id="l491.14" class="difflineminus">-const nsIMsgComposeParams = Components.interfaces.nsIMsgComposeParams;</span>
<a href="#l491.15"></a><span id="l491.15" class="difflineminus">-const nsIMsgCompFields = Components.interfaces.nsIMsgCompFields;</span>
<a href="#l491.16"></a><span id="l491.16" class="difflineplus">+var MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l491.17"></a><span id="l491.17" class="difflineplus">+var MsgComposeParamsContractID = &quot;@mozilla.org/messengercompose/composeparams;1&quot;;</span>
<a href="#l491.18"></a><span id="l491.18" class="difflineplus">+var MsgComposeFieldsContractID = &quot;@mozilla.org/messengercompose/composefields;1&quot;;</span>
<a href="#l491.19"></a><span id="l491.19" class="difflineplus">+var nsIMsgCompose = Components.interfaces.nsIMsgCompose;</span>
<a href="#l491.20"></a><span id="l491.20" class="difflineplus">+var nsIMsgComposeParams = Components.interfaces.nsIMsgComposeParams;</span>
<a href="#l491.21"></a><span id="l491.21" class="difflineplus">+var nsIMsgCompFields = Components.interfaces.nsIMsgCompFields;</span>
<a href="#l491.22"></a><span id="l491.22"> </span>
<a href="#l491.23"></a><span id="l491.23"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l491.24"></a><span id="l491.24"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l491.25"></a><span id="l491.25"> </span>
<a href="#l491.26"></a><span id="l491.26"> /**</span>
<a href="#l491.27"></a><span id="l491.27">  * Helper to check population worked as expected.</span>
<a href="#l491.28"></a><span id="l491.28">  * @param aTo - text in the To field</span>
<a href="#l491.29"></a><span id="l491.29">  * @param aCheckTo - the expected To addresses (after possible ist population)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l492.1"></a><span id="l492.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_mailtoURL.js</span>
<a href="#l492.2"></a><span id="l492.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_mailtoURL.js</span>
<a href="#l492.3"></a><span id="l492.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l492.4"></a><span id="l492.4"> /*</span>
<a href="#l492.5"></a><span id="l492.5">  * Test suite for mailto: URLs</span>
<a href="#l492.6"></a><span id="l492.6">  */</span>
<a href="#l492.7"></a><span id="l492.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l492.8"></a><span id="l492.8"> </span>
<a href="#l492.9"></a><span id="l492.9" class="difflineminus">-const nsIMailtoUrl = Components.interfaces.nsIMailtoUrl;</span>
<a href="#l492.10"></a><span id="l492.10" class="difflineminus">-const COMPOSE_HTML = Components.interfaces.nsIMsgCompFormat.HTML;</span>
<a href="#l492.11"></a><span id="l492.11" class="difflineminus">-const COMPOSE_DEFAULT = Components.interfaces.nsIMsgCompFormat.Default;</span>
<a href="#l492.12"></a><span id="l492.12" class="difflineplus">+var nsIMailtoUrl = Components.interfaces.nsIMailtoUrl;</span>
<a href="#l492.13"></a><span id="l492.13" class="difflineplus">+var COMPOSE_HTML = Components.interfaces.nsIMsgCompFormat.HTML;</span>
<a href="#l492.14"></a><span id="l492.14" class="difflineplus">+var COMPOSE_DEFAULT = Components.interfaces.nsIMsgCompFormat.Default;</span>
<a href="#l492.15"></a><span id="l492.15"> </span>
<a href="#l492.16"></a><span id="l492.16"> function run_test() {</span>
<a href="#l492.17"></a><span id="l492.17"> </span>
<a href="#l492.18"></a><span id="l492.18">   function test(aTest) {</span>
<a href="#l492.19"></a><span id="l492.19">     var uri = Services.io.newURI(aTest.url, null, null);</span>
<a href="#l492.20"></a><span id="l492.20">     uri = uri.QueryInterface(Components.interfaces.nsIMailtoUrl);</span>
<a href="#l492.21"></a><span id="l492.21"> </span>
<a href="#l492.22"></a><span id="l492.22">     var to = {}, cc = {}, bcc = {}, subject = {}, body = {}, html = {},</span>
<a href="#l492.23"></a><span id="l492.23" class="difflineat">@@ -43,17 +43,17 @@ function run_test() {</span>
<a href="#l492.24"></a><span id="l492.24">   let clonedUrl = uriToClone.clone().QueryInterface(Components.interfaces.nsIMailtoUrl);</span>
<a href="#l492.25"></a><span id="l492.25">   var to = {}, cc = {}, bcc = {}, subject = {}, body = {}, html = {},</span>
<a href="#l492.26"></a><span id="l492.26">       reference = {}, newsgroup = {}, composeformat = {};</span>
<a href="#l492.27"></a><span id="l492.27">   clonedUrl.getMessageContents(to, cc, bcc, subject, body, html, reference,</span>
<a href="#l492.28"></a><span id="l492.28">                                newsgroup, composeformat);</span>
<a href="#l492.29"></a><span id="l492.29">   do_check_eq(to.value, tests[0].to);</span>
<a href="#l492.30"></a><span id="l492.30"> };</span>
<a href="#l492.31"></a><span id="l492.31"> </span>
<a href="#l492.32"></a><span id="l492.32" class="difflineminus">-const tests = [</span>
<a href="#l492.33"></a><span id="l492.33" class="difflineplus">+var tests = [</span>
<a href="#l492.34"></a><span id="l492.34">   {</span>
<a href="#l492.35"></a><span id="l492.35">     url: &quot;mailto:one@example.com&quot;,</span>
<a href="#l492.36"></a><span id="l492.36">     to: &quot;one@example.com&quot;,</span>
<a href="#l492.37"></a><span id="l492.37">     cc: &quot;&quot;,</span>
<a href="#l492.38"></a><span id="l492.38">     bcc: &quot;&quot;,</span>
<a href="#l492.39"></a><span id="l492.39">     subject: &quot;&quot;,</span>
<a href="#l492.40"></a><span id="l492.40">     body: &quot;&quot;,</span>
<a href="#l492.41"></a><span id="l492.41">     html: &quot;&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l493.1"></a><span id="l493.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_nsMsgCompose1.js</span>
<a href="#l493.2"></a><span id="l493.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_nsMsgCompose1.js</span>
<a href="#l493.3"></a><span id="l493.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l493.4"></a><span id="l493.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l493.5"></a><span id="l493.5"> </span>
<a href="#l493.6"></a><span id="l493.6"> /**</span>
<a href="#l493.7"></a><span id="l493.7">  * Tests nsMsgCompose expandMailingLists.</span>
<a href="#l493.8"></a><span id="l493.8">  */</span>
<a href="#l493.9"></a><span id="l493.9"> </span>
<a href="#l493.10"></a><span id="l493.10" class="difflineminus">-const MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l493.11"></a><span id="l493.11" class="difflineminus">-const MsgComposeParamsContractID = &quot;@mozilla.org/messengercompose/composeparams;1&quot;;</span>
<a href="#l493.12"></a><span id="l493.12" class="difflineminus">-const MsgComposeFieldsContractID = &quot;@mozilla.org/messengercompose/composefields;1&quot;;</span>
<a href="#l493.13"></a><span id="l493.13" class="difflineminus">-const nsIMsgCompose = Components.interfaces.nsIMsgCompose;</span>
<a href="#l493.14"></a><span id="l493.14" class="difflineminus">-const nsIMsgComposeParams = Components.interfaces.nsIMsgComposeParams;</span>
<a href="#l493.15"></a><span id="l493.15" class="difflineminus">-const nsIMsgCompFields = Components.interfaces.nsIMsgCompFields;</span>
<a href="#l493.16"></a><span id="l493.16" class="difflineplus">+var MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l493.17"></a><span id="l493.17" class="difflineplus">+var MsgComposeParamsContractID = &quot;@mozilla.org/messengercompose/composeparams;1&quot;;</span>
<a href="#l493.18"></a><span id="l493.18" class="difflineplus">+var MsgComposeFieldsContractID = &quot;@mozilla.org/messengercompose/composefields;1&quot;;</span>
<a href="#l493.19"></a><span id="l493.19" class="difflineplus">+var nsIMsgCompose = Components.interfaces.nsIMsgCompose;</span>
<a href="#l493.20"></a><span id="l493.20" class="difflineplus">+var nsIMsgComposeParams = Components.interfaces.nsIMsgComposeParams;</span>
<a href="#l493.21"></a><span id="l493.21" class="difflineplus">+var nsIMsgCompFields = Components.interfaces.nsIMsgCompFields;</span>
<a href="#l493.22"></a><span id="l493.22"> </span>
<a href="#l493.23"></a><span id="l493.23"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l493.24"></a><span id="l493.24"> </span>
<a href="#l493.25"></a><span id="l493.25"> /**</span>
<a href="#l493.26"></a><span id="l493.26">  * Helper to check population worked as expected.</span>
<a href="#l493.27"></a><span id="l493.27">  * @param aTo - text in the To field</span>
<a href="#l493.28"></a><span id="l493.28">  * @param aCheckTo - the expected To addresses (after possible ist population)</span>
<a href="#l493.29"></a><span id="l493.29">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l494.1"></a><span id="l494.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_nsMsgCompose2.js</span>
<a href="#l494.2"></a><span id="l494.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_nsMsgCompose2.js</span>
<a href="#l494.3"></a><span id="l494.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l494.4"></a><span id="l494.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l494.5"></a><span id="l494.5"> /*</span>
<a href="#l494.6"></a><span id="l494.6">  * Test suite for nsMsgCompose functions relating to send listeners.</span>
<a href="#l494.7"></a><span id="l494.7">  */</span>
<a href="#l494.8"></a><span id="l494.8"> </span>
<a href="#l494.9"></a><span id="l494.9" class="difflineminus">-const MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l494.10"></a><span id="l494.10" class="difflineminus">-const nsIMsgCompose = Components.interfaces.nsIMsgCompose;</span>
<a href="#l494.11"></a><span id="l494.11" class="difflineplus">+var MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l494.12"></a><span id="l494.12" class="difflineplus">+var nsIMsgCompose = Components.interfaces.nsIMsgCompose;</span>
<a href="#l494.13"></a><span id="l494.13"> </span>
<a href="#l494.14"></a><span id="l494.14"> var gMsgCompose = Components.classes[MsgComposeContractID]</span>
<a href="#l494.15"></a><span id="l494.15">                             .createInstance(nsIMsgCompose);</span>
<a href="#l494.16"></a><span id="l494.16"> </span>
<a href="#l494.17"></a><span id="l494.17" class="difflineminus">-const numSendListenerFunctions = 6;</span>
<a href="#l494.18"></a><span id="l494.18" class="difflineplus">+var numSendListenerFunctions = 6;</span>
<a href="#l494.19"></a><span id="l494.19"> </span>
<a href="#l494.20"></a><span id="l494.20"> var gSLAll = new Array(numSendListenerFunctions + 1);</span>
<a href="#l494.21"></a><span id="l494.21"> </span>
<a href="#l494.22"></a><span id="l494.22"> function sendListener() {}</span>
<a href="#l494.23"></a><span id="l494.23"> </span>
<a href="#l494.24"></a><span id="l494.24"> sendListener.prototype = {</span>
<a href="#l494.25"></a><span id="l494.25">   mReceived: 0,</span>
<a href="#l494.26"></a><span id="l494.26">   mAutoRemoveItem: 0,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l495.1"></a><span id="l495.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_nsMsgCompose3.js</span>
<a href="#l495.2"></a><span id="l495.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_nsMsgCompose3.js</span>
<a href="#l495.3"></a><span id="l495.3" class="difflineat">@@ -1,21 +1,21 @@</span>
<a href="#l495.4"></a><span id="l495.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l495.5"></a><span id="l495.5"> /*</span>
<a href="#l495.6"></a><span id="l495.6">  * Test suite for increasing the popularity of contacts via</span>
<a href="#l495.7"></a><span id="l495.7">  * expandMailingLists.</span>
<a href="#l495.8"></a><span id="l495.8">  */</span>
<a href="#l495.9"></a><span id="l495.9"> </span>
<a href="#l495.10"></a><span id="l495.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l495.11"></a><span id="l495.11"> </span>
<a href="#l495.12"></a><span id="l495.12" class="difflineminus">-const MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l495.13"></a><span id="l495.13" class="difflineminus">-const MsgComposeParamsContractID = &quot;@mozilla.org/messengercompose/composeparams;1&quot;;</span>
<a href="#l495.14"></a><span id="l495.14" class="difflineminus">-const MsgComposeFieldsContractID = &quot;@mozilla.org/messengercompose/composefields;1&quot;;</span>
<a href="#l495.15"></a><span id="l495.15" class="difflineplus">+var MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l495.16"></a><span id="l495.16" class="difflineplus">+var MsgComposeParamsContractID = &quot;@mozilla.org/messengercompose/composeparams;1&quot;;</span>
<a href="#l495.17"></a><span id="l495.17" class="difflineplus">+var MsgComposeFieldsContractID = &quot;@mozilla.org/messengercompose/composefields;1&quot;;</span>
<a href="#l495.18"></a><span id="l495.18"> </span>
<a href="#l495.19"></a><span id="l495.19" class="difflineminus">-const TESTS = [</span>
<a href="#l495.20"></a><span id="l495.20" class="difflineplus">+var TESTS = [</span>
<a href="#l495.21"></a><span id="l495.21">   {</span>
<a href="#l495.22"></a><span id="l495.22">     email: &quot;em@test.invalid&quot;,</span>
<a href="#l495.23"></a><span id="l495.23">     // TB 2 stored popularity as hex, so we need to check correct handling.</span>
<a href="#l495.24"></a><span id="l495.24">     prePopularity: &quot;a&quot;,</span>
<a href="#l495.25"></a><span id="l495.25">     postPopularity: &quot;11&quot;</span>
<a href="#l495.26"></a><span id="l495.26">   },</span>
<a href="#l495.27"></a><span id="l495.27">   {</span>
<a href="#l495.28"></a><span id="l495.28">     email: &quot;e@test.invalid&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l496.1"></a><span id="l496.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_nsMsgCompose4.js</span>
<a href="#l496.2"></a><span id="l496.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_nsMsgCompose4.js</span>
<a href="#l496.3"></a><span id="l496.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l496.4"></a><span id="l496.4"> /**</span>
<a href="#l496.5"></a><span id="l496.5">  * Tests nsMsgCompose determineHTMLAction.</span>
<a href="#l496.6"></a><span id="l496.6">  */</span>
<a href="#l496.7"></a><span id="l496.7"> </span>
<a href="#l496.8"></a><span id="l496.8" class="difflineminus">-const MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l496.9"></a><span id="l496.9" class="difflineminus">-const MsgComposeParamsContractID = &quot;@mozilla.org/messengercompose/composeparams;1&quot;;</span>
<a href="#l496.10"></a><span id="l496.10" class="difflineminus">-const MsgComposeFieldsContractID = &quot;@mozilla.org/messengercompose/composefields;1&quot;;</span>
<a href="#l496.11"></a><span id="l496.11" class="difflineminus">-const nsIMsgCompose = Components.interfaces.nsIMsgCompose;</span>
<a href="#l496.12"></a><span id="l496.12" class="difflineminus">-const nsIMsgComposeParams = Components.interfaces.nsIMsgComposeParams;</span>
<a href="#l496.13"></a><span id="l496.13" class="difflineminus">-const nsIMsgCompConvertible = Components.interfaces.nsIMsgCompConvertible;</span>
<a href="#l496.14"></a><span id="l496.14" class="difflineminus">-const nsIMsgCompFields = Components.interfaces.nsIMsgCompFields;</span>
<a href="#l496.15"></a><span id="l496.15" class="difflineminus">-const SendFormat = Components.interfaces.nsIMsgCompSendFormat;</span>
<a href="#l496.16"></a><span id="l496.16" class="difflineplus">+var MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l496.17"></a><span id="l496.17" class="difflineplus">+var MsgComposeParamsContractID = &quot;@mozilla.org/messengercompose/composeparams;1&quot;;</span>
<a href="#l496.18"></a><span id="l496.18" class="difflineplus">+var MsgComposeFieldsContractID = &quot;@mozilla.org/messengercompose/composefields;1&quot;;</span>
<a href="#l496.19"></a><span id="l496.19" class="difflineplus">+var nsIMsgCompose = Components.interfaces.nsIMsgCompose;</span>
<a href="#l496.20"></a><span id="l496.20" class="difflineplus">+var nsIMsgComposeParams = Components.interfaces.nsIMsgComposeParams;</span>
<a href="#l496.21"></a><span id="l496.21" class="difflineplus">+var nsIMsgCompConvertible = Components.interfaces.nsIMsgCompConvertible;</span>
<a href="#l496.22"></a><span id="l496.22" class="difflineplus">+var nsIMsgCompFields = Components.interfaces.nsIMsgCompFields;</span>
<a href="#l496.23"></a><span id="l496.23" class="difflineplus">+var SendFormat = Components.interfaces.nsIMsgCompSendFormat;</span>
<a href="#l496.24"></a><span id="l496.24"> </span>
<a href="#l496.25"></a><span id="l496.25"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l496.26"></a><span id="l496.26"> </span>
<a href="#l496.27"></a><span id="l496.27"> /**</span>
<a href="#l496.28"></a><span id="l496.28">  * Helper to check population worked as expected.</span>
<a href="#l496.29"></a><span id="l496.29">  * @param aTo          text in the To field</span>
<a href="#l496.30"></a><span id="l496.30">  * @param aNewsgroups  text for the Newsgroups field</span>
<a href="#l496.31"></a><span id="l496.31">  * @param aSendFormat  |nsIMsgCompSendFormat| format to send</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l497.1"></a><span id="l497.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_nsSmtpService1.js</span>
<a href="#l497.2"></a><span id="l497.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_nsSmtpService1.js</span>
<a href="#l497.3"></a><span id="l497.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l497.4"></a><span id="l497.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l497.5"></a><span id="l497.5"> /*</span>
<a href="#l497.6"></a><span id="l497.6">  * Test suite for nsSmtpService</span>
<a href="#l497.7"></a><span id="l497.7">  */</span>
<a href="#l497.8"></a><span id="l497.8"> </span>
<a href="#l497.9"></a><span id="l497.9" class="difflineminus">-const SmtpServiceContractID = &quot;@mozilla.org/messengercompose/smtp;1&quot;;</span>
<a href="#l497.10"></a><span id="l497.10" class="difflineminus">-const nsISmtpService = Components.interfaces.nsISmtpService;</span>
<a href="#l497.11"></a><span id="l497.11" class="difflineplus">+var SmtpServiceContractID = &quot;@mozilla.org/messengercompose/smtp;1&quot;;</span>
<a href="#l497.12"></a><span id="l497.12" class="difflineplus">+var nsISmtpService = Components.interfaces.nsISmtpService;</span>
<a href="#l497.13"></a><span id="l497.13"> </span>
<a href="#l497.14"></a><span id="l497.14"> function run_test() {</span>
<a href="#l497.15"></a><span id="l497.15">   var smtpService = Components.classes[SmtpServiceContractID]</span>
<a href="#l497.16"></a><span id="l497.16">                               .getService(nsISmtpService);</span>
<a href="#l497.17"></a><span id="l497.17"> </span>
<a href="#l497.18"></a><span id="l497.18">   // Test - no servers</span>
<a href="#l497.19"></a><span id="l497.19"> </span>
<a href="#l497.20"></a><span id="l497.20">   var smtpServers = smtpService.servers;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l498.1"></a><span id="l498.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendBackground.js</span>
<a href="#l498.2"></a><span id="l498.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendBackground.js</span>
<a href="#l498.3"></a><span id="l498.3" class="difflineat">@@ -10,18 +10,18 @@ var test = null;</span>
<a href="#l498.4"></a><span id="l498.4"> var server;</span>
<a href="#l498.5"></a><span id="l498.5"> var sentFolder;</span>
<a href="#l498.6"></a><span id="l498.6"> var originalData;</span>
<a href="#l498.7"></a><span id="l498.7"> var finished = false;</span>
<a href="#l498.8"></a><span id="l498.8"> var identity = null;</span>
<a href="#l498.9"></a><span id="l498.9"> var testFile1 = do_get_file(&quot;data/429891_testcase.eml&quot;);</span>
<a href="#l498.10"></a><span id="l498.10"> var testFile2 = do_get_file(&quot;data/message1.eml&quot;);</span>
<a href="#l498.11"></a><span id="l498.11"> </span>
<a href="#l498.12"></a><span id="l498.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l498.13"></a><span id="l498.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l498.14"></a><span id="l498.14" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l498.15"></a><span id="l498.15" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l498.16"></a><span id="l498.16"> </span>
<a href="#l498.17"></a><span id="l498.17"> var gMsgSendLater;</span>
<a href="#l498.18"></a><span id="l498.18"> </span>
<a href="#l498.19"></a><span id="l498.19"> // This listener handles the post-sending of the actual message and checks the</span>
<a href="#l498.20"></a><span id="l498.20"> // sequence and ensures the data is correct.</span>
<a href="#l498.21"></a><span id="l498.21"> function msll() {</span>
<a href="#l498.22"></a><span id="l498.22"> }</span>
<a href="#l498.23"></a><span id="l498.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l499.1"></a><span id="l499.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMailAddressIDN.js</span>
<a href="#l499.2"></a><span id="l499.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMailAddressIDN.js</span>
<a href="#l499.3"></a><span id="l499.3" class="difflineat">@@ -8,23 +8,23 @@ var type = null;</span>
<a href="#l499.4"></a><span id="l499.4"> var test = null;</span>
<a href="#l499.5"></a><span id="l499.5"> var server;</span>
<a href="#l499.6"></a><span id="l499.6"> var finished = false;</span>
<a href="#l499.7"></a><span id="l499.7"> </span>
<a href="#l499.8"></a><span id="l499.8"> var sentFolder;</span>
<a href="#l499.9"></a><span id="l499.9"> var originalData;</span>
<a href="#l499.10"></a><span id="l499.10"> var expectedAlertMessage;</span>
<a href="#l499.11"></a><span id="l499.11"> </span>
<a href="#l499.12"></a><span id="l499.12" class="difflineminus">-const kSender     = &quot;from@foo.invalid&quot;;</span>
<a href="#l499.13"></a><span id="l499.13" class="difflineminus">-const kToASCII    = &quot;to@foo.invalid&quot;;</span>
<a href="#l499.14"></a><span id="l499.14" class="difflineminus">-const kToValid    = &quot;to@v\u00E4lid.foo.invalid&quot;;</span>
<a href="#l499.15"></a><span id="l499.15" class="difflineminus">-const kToValidACE = &quot;to@xn--vlid-loa.foo.invalid&quot;;</span>
<a href="#l499.16"></a><span id="l499.16" class="difflineminus">-const kToInvalid  = &quot;b\u00F8rken.to@invalid.foo.invalid&quot;;</span>
<a href="#l499.17"></a><span id="l499.17" class="difflineminus">-const kToInvalidWithoutDomain = &quot;b\u00F8rken.to&quot;;</span>
<a href="#l499.18"></a><span id="l499.18" class="difflineminus">-const NS_ERROR_BUT_DONT_SHOW_ALERT = 0x805530ef;</span>
<a href="#l499.19"></a><span id="l499.19" class="difflineplus">+var kSender     = &quot;from@foo.invalid&quot;;</span>
<a href="#l499.20"></a><span id="l499.20" class="difflineplus">+var kToASCII    = &quot;to@foo.invalid&quot;;</span>
<a href="#l499.21"></a><span id="l499.21" class="difflineplus">+var kToValid    = &quot;to@v\u00E4lid.foo.invalid&quot;;</span>
<a href="#l499.22"></a><span id="l499.22" class="difflineplus">+var kToValidACE = &quot;to@xn--vlid-loa.foo.invalid&quot;;</span>
<a href="#l499.23"></a><span id="l499.23" class="difflineplus">+var kToInvalid  = &quot;b\u00F8rken.to@invalid.foo.invalid&quot;;</span>
<a href="#l499.24"></a><span id="l499.24" class="difflineplus">+var kToInvalidWithoutDomain = &quot;b\u00F8rken.to&quot;;</span>
<a href="#l499.25"></a><span id="l499.25" class="difflineplus">+var NS_ERROR_BUT_DONT_SHOW_ALERT = 0x805530ef;</span>
<a href="#l499.26"></a><span id="l499.26"> </span>
<a href="#l499.27"></a><span id="l499.27"> </span>
<a href="#l499.28"></a><span id="l499.28"> // nsIPrompt</span>
<a href="#l499.29"></a><span id="l499.29"> function alert(aDialogText, aText)</span>
<a href="#l499.30"></a><span id="l499.30"> {</span>
<a href="#l499.31"></a><span id="l499.31">   // ignore without domain situation (this is crash test)</span>
<a href="#l499.32"></a><span id="l499.32">   if (test == kToInvalidWithoutDomain)</span>
<a href="#l499.33"></a><span id="l499.33">     return;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l500.1"></a><span id="l500.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMailMessage.js</span>
<a href="#l500.2"></a><span id="l500.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMailMessage.js</span>
<a href="#l500.3"></a><span id="l500.3" class="difflineat">@@ -6,20 +6,20 @@</span>
<a href="#l500.4"></a><span id="l500.4">  * between mailnews and SMTP server. It does not check the data of the message</span>
<a href="#l500.5"></a><span id="l500.5">  * either side of the link, it will be extended later to do that.</span>
<a href="#l500.6"></a><span id="l500.6">  */</span>
<a href="#l500.7"></a><span id="l500.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l500.8"></a><span id="l500.8"> </span>
<a href="#l500.9"></a><span id="l500.9"> var test = null;</span>
<a href="#l500.10"></a><span id="l500.10"> var server;</span>
<a href="#l500.11"></a><span id="l500.11"> </span>
<a href="#l500.12"></a><span id="l500.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l500.13"></a><span id="l500.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l500.14"></a><span id="l500.14" class="difflineminus">-const kUsername = &quot;testsmtp&quot;;</span>
<a href="#l500.15"></a><span id="l500.15" class="difflineminus">-const kPassword = &quot;smtptest&quot;;</span>
<a href="#l500.16"></a><span id="l500.16" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l500.17"></a><span id="l500.17" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l500.18"></a><span id="l500.18" class="difflineplus">+var kUsername = &quot;testsmtp&quot;;</span>
<a href="#l500.19"></a><span id="l500.19" class="difflineplus">+var kPassword = &quot;smtptest&quot;;</span>
<a href="#l500.20"></a><span id="l500.20"> </span>
<a href="#l500.21"></a><span id="l500.21"> function test_RFC2821() {</span>
<a href="#l500.22"></a><span id="l500.22"> </span>
<a href="#l500.23"></a><span id="l500.23">   // Test file</span>
<a href="#l500.24"></a><span id="l500.24">   var testFile = do_get_file(&quot;data/message1.eml&quot;);</span>
<a href="#l500.25"></a><span id="l500.25"> </span>
<a href="#l500.26"></a><span id="l500.26">   // Ensure we have at least one mail account</span>
<a href="#l500.27"></a><span id="l500.27">   localAccountUtils.loadLocalMailAccount();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l501.1"></a><span id="l501.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMessageFile.js</span>
<a href="#l501.2"></a><span id="l501.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMessageFile.js</span>
<a href="#l501.3"></a><span id="l501.3" class="difflineat">@@ -15,18 +15,18 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l501.4"></a><span id="l501.4"> </span>
<a href="#l501.5"></a><span id="l501.5"> var type = null;</span>
<a href="#l501.6"></a><span id="l501.6"> var test = null;</span>
<a href="#l501.7"></a><span id="l501.7"> var server;</span>
<a href="#l501.8"></a><span id="l501.8"> var sentFolder;</span>
<a href="#l501.9"></a><span id="l501.9"> var originalData;</span>
<a href="#l501.10"></a><span id="l501.10"> var finished = false;</span>
<a href="#l501.11"></a><span id="l501.11"> </span>
<a href="#l501.12"></a><span id="l501.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l501.13"></a><span id="l501.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l501.14"></a><span id="l501.14" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l501.15"></a><span id="l501.15" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l501.16"></a><span id="l501.16"> </span>
<a href="#l501.17"></a><span id="l501.17"> function msl() {}</span>
<a href="#l501.18"></a><span id="l501.18"> </span>
<a href="#l501.19"></a><span id="l501.19"> msl.prototype = {</span>
<a href="#l501.20"></a><span id="l501.20">   // nsIMsgSendListener</span>
<a href="#l501.21"></a><span id="l501.21">   onStartSending: function (aMsgID, aMsgSize) {</span>
<a href="#l501.22"></a><span id="l501.22">   },</span>
<a href="#l501.23"></a><span id="l501.23">   onProgress: function (aMsgID, aProgress, aProgressMax) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l502.1"></a><span id="l502.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMessageLater.js</span>
<a href="#l502.2"></a><span id="l502.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMessageLater.js</span>
<a href="#l502.3"></a><span id="l502.3" class="difflineat">@@ -18,18 +18,18 @@ var test = null;</span>
<a href="#l502.4"></a><span id="l502.4"> var server;</span>
<a href="#l502.5"></a><span id="l502.5"> var smtpServer;</span>
<a href="#l502.6"></a><span id="l502.6"> var sentFolder;</span>
<a href="#l502.7"></a><span id="l502.7"> var originalData;</span>
<a href="#l502.8"></a><span id="l502.8"> var finished = false;</span>
<a href="#l502.9"></a><span id="l502.9"> var identity = null;</span>
<a href="#l502.10"></a><span id="l502.10"> var testFile = do_get_file(&quot;data/429891_testcase.eml&quot;);</span>
<a href="#l502.11"></a><span id="l502.11"> </span>
<a href="#l502.12"></a><span id="l502.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l502.13"></a><span id="l502.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l502.14"></a><span id="l502.14" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l502.15"></a><span id="l502.15" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l502.16"></a><span id="l502.16"> </span>
<a href="#l502.17"></a><span id="l502.17"> var msgSendLater = Cc[&quot;@mozilla.org/messengercompose/sendlater;1&quot;]</span>
<a href="#l502.18"></a><span id="l502.18">   .getService(Ci.nsIMsgSendLater);</span>
<a href="#l502.19"></a><span id="l502.19"> </span>
<a href="#l502.20"></a><span id="l502.20"> // This listener handles the post-sending of the actual message and checks the</span>
<a href="#l502.21"></a><span id="l502.21"> // sequence and ensures the data is correct.</span>
<a href="#l502.22"></a><span id="l502.22"> function msll() {</span>
<a href="#l502.23"></a><span id="l502.23"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l503.1"></a><span id="l503.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMessageLater2.js</span>
<a href="#l503.2"></a><span id="l503.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMessageLater2.js</span>
<a href="#l503.3"></a><span id="l503.3" class="difflineat">@@ -34,18 +34,18 @@ var gCurTestNum = 0;</span>
<a href="#l503.4"></a><span id="l503.4"> var gLastSentMessage = 0;</span>
<a href="#l503.5"></a><span id="l503.5"> </span>
<a href="#l503.6"></a><span id="l503.6"> // gMessageSendStatus</span>
<a href="#l503.7"></a><span id="l503.7"> // 0 = initial value</span>
<a href="#l503.8"></a><span id="l503.8"> // 1 = send completed before exiting sendUnsentMessages</span>
<a href="#l503.9"></a><span id="l503.9"> // 2 = sendUnsentMessages has exited.</span>
<a href="#l503.10"></a><span id="l503.10"> var gMessageSendStatus = 0;</span>
<a href="#l503.11"></a><span id="l503.11"> </span>
<a href="#l503.12"></a><span id="l503.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l503.13"></a><span id="l503.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l503.14"></a><span id="l503.14" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l503.15"></a><span id="l503.15" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l503.16"></a><span id="l503.16"> </span>
<a href="#l503.17"></a><span id="l503.17"> var msgSendLater = Cc[&quot;@mozilla.org/messengercompose/sendlater;1&quot;]</span>
<a href="#l503.18"></a><span id="l503.18">                      .getService(Ci.nsIMsgSendLater);</span>
<a href="#l503.19"></a><span id="l503.19"> </span>
<a href="#l503.20"></a><span id="l503.20"> // This listener handles the post-sending of the actual message and checks the</span>
<a href="#l503.21"></a><span id="l503.21"> // sequence and ensures the data is correct.</span>
<a href="#l503.22"></a><span id="l503.22"> function msll() {</span>
<a href="#l503.23"></a><span id="l503.23"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l504.1"></a><span id="l504.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMessageLater3.js</span>
<a href="#l504.2"></a><span id="l504.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMessageLater3.js</span>
<a href="#l504.3"></a><span id="l504.3" class="difflineat">@@ -17,18 +17,18 @@ var test = null;</span>
<a href="#l504.4"></a><span id="l504.4"> var server;</span>
<a href="#l504.5"></a><span id="l504.5"> var sentFolder;</span>
<a href="#l504.6"></a><span id="l504.6"> var transaction;</span>
<a href="#l504.7"></a><span id="l504.7"> var originalData;</span>
<a href="#l504.8"></a><span id="l504.8"> var finished = false;</span>
<a href="#l504.9"></a><span id="l504.9"> var identity = null;</span>
<a href="#l504.10"></a><span id="l504.10"> var testFile = do_get_file(&quot;data/429891_testcase.eml&quot;);</span>
<a href="#l504.11"></a><span id="l504.11"> </span>
<a href="#l504.12"></a><span id="l504.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l504.13"></a><span id="l504.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l504.14"></a><span id="l504.14" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l504.15"></a><span id="l504.15" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l504.16"></a><span id="l504.16"> </span>
<a href="#l504.17"></a><span id="l504.17"> var msgSendLater = Cc[&quot;@mozilla.org/messengercompose/sendlater;1&quot;]</span>
<a href="#l504.18"></a><span id="l504.18">   .getService(Ci.nsIMsgSendLater);</span>
<a href="#l504.19"></a><span id="l504.19"> </span>
<a href="#l504.20"></a><span id="l504.20"> function alert(aDialogTitle, aText) {</span>
<a href="#l504.21"></a><span id="l504.21">   dump(&quot;Hiding Alert {\n&quot; + aText + &quot;\n} End Alert\n&quot;);</span>
<a href="#l504.22"></a><span id="l504.22"> }</span>
<a href="#l504.23"></a><span id="l504.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l505.1"></a><span id="l505.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtp8bitMime.js</span>
<a href="#l505.2"></a><span id="l505.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtp8bitMime.js</span>
<a href="#l505.3"></a><span id="l505.3" class="difflineat">@@ -6,18 +6,18 @@</span>
<a href="#l505.4"></a><span id="l505.4">  * advertises it AND if mail.strictly_mime doesn't force us to send 7bit.</span>
<a href="#l505.5"></a><span id="l505.5">  * It does not check the data of the message on either side of the link.</span>
<a href="#l505.6"></a><span id="l505.6">  */</span>
<a href="#l505.7"></a><span id="l505.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l505.8"></a><span id="l505.8"> </span>
<a href="#l505.9"></a><span id="l505.9"> var test = null;</span>
<a href="#l505.10"></a><span id="l505.10"> var server;</span>
<a href="#l505.11"></a><span id="l505.11"> </span>
<a href="#l505.12"></a><span id="l505.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l505.13"></a><span id="l505.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l505.14"></a><span id="l505.14" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l505.15"></a><span id="l505.15" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l505.16"></a><span id="l505.16"> </span>
<a href="#l505.17"></a><span id="l505.17"> // aStrictMime: Test if mail.strictly_mime omits the BODY=8BITMIME attribute.</span>
<a href="#l505.18"></a><span id="l505.18"> // aServer8bit: Test if BODY=8BITMIME is only sent if advertised by the server.</span>
<a href="#l505.19"></a><span id="l505.19"> </span>
<a href="#l505.20"></a><span id="l505.20"> function test_8bitmime(aStrictMime, aServer8bit) {</span>
<a href="#l505.21"></a><span id="l505.21"> </span>
<a href="#l505.22"></a><span id="l505.22">   // Test file</span>
<a href="#l505.23"></a><span id="l505.23">   var testFile = do_get_file(&quot;data/message1.eml&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l506.1"></a><span id="l506.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpAuthMethods.js</span>
<a href="#l506.2"></a><span id="l506.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpAuthMethods.js</span>
<a href="#l506.3"></a><span id="l506.3" class="difflineat">@@ -8,23 +8,23 @@</span>
<a href="#l506.4"></a><span id="l506.4"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l506.5"></a><span id="l506.5"> </span>
<a href="#l506.6"></a><span id="l506.6"> var server;</span>
<a href="#l506.7"></a><span id="l506.7"> var kAuthSchemes;</span>
<a href="#l506.8"></a><span id="l506.8"> var smtpServer;</span>
<a href="#l506.9"></a><span id="l506.9"> var testFile;</span>
<a href="#l506.10"></a><span id="l506.10"> var identity;</span>
<a href="#l506.11"></a><span id="l506.11"> </span>
<a href="#l506.12"></a><span id="l506.12" class="difflineminus">-const kUsername = &quot;fred&quot;;</span>
<a href="#l506.13"></a><span id="l506.13" class="difflineminus">-const kPassword = &quot;wilma&quot;;</span>
<a href="#l506.14"></a><span id="l506.14" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l506.15"></a><span id="l506.15" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l506.16"></a><span id="l506.16" class="difflineminus">-const MAILFROM = &quot;MAIL FROM:&lt;&quot; + kSender + &quot;&gt; BODY=8BITMIME SIZE=155&quot;;</span>
<a href="#l506.17"></a><span id="l506.17" class="difflineminus">-const RCPTTO = &quot;RCPT TO:&lt;&quot; + kTo + &quot;&gt;&quot;;</span>
<a href="#l506.18"></a><span id="l506.18" class="difflineminus">-const AUTHPLAIN = &quot;AUTH PLAIN &quot; + AuthPLAIN.encodeLine(kUsername, kPassword);</span>
<a href="#l506.19"></a><span id="l506.19" class="difflineplus">+var kUsername = &quot;fred&quot;;</span>
<a href="#l506.20"></a><span id="l506.20" class="difflineplus">+var kPassword = &quot;wilma&quot;;</span>
<a href="#l506.21"></a><span id="l506.21" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l506.22"></a><span id="l506.22" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l506.23"></a><span id="l506.23" class="difflineplus">+var MAILFROM = &quot;MAIL FROM:&lt;&quot; + kSender + &quot;&gt; BODY=8BITMIME SIZE=155&quot;;</span>
<a href="#l506.24"></a><span id="l506.24" class="difflineplus">+var RCPTTO = &quot;RCPT TO:&lt;&quot; + kTo + &quot;&gt;&quot;;</span>
<a href="#l506.25"></a><span id="l506.25" class="difflineplus">+var AUTHPLAIN = &quot;AUTH PLAIN &quot; + AuthPLAIN.encodeLine(kUsername, kPassword);</span>
<a href="#l506.26"></a><span id="l506.26"> </span>
<a href="#l506.27"></a><span id="l506.27"> var tests = [</span>
<a href="#l506.28"></a><span id="l506.28">   { title: &quot;Cleartext password, with server supporting AUTH PLAIN, LOGIN, and CRAM&quot;,</span>
<a href="#l506.29"></a><span id="l506.29">     clientAuthMethod : Ci.nsMsgAuthMethod.passwordCleartext,</span>
<a href="#l506.30"></a><span id="l506.30">     serverAuthMethods : [ &quot;PLAIN&quot;, &quot;LOGIN&quot;, &quot;CRAM-MD5&quot; ],</span>
<a href="#l506.31"></a><span id="l506.31">     expectSuccess : true,</span>
<a href="#l506.32"></a><span id="l506.32">     transaction: [ &quot;EHLO test&quot;, AUTHPLAIN, MAILFROM, RCPTTO, &quot;DATA&quot; ] },</span>
<a href="#l506.33"></a><span id="l506.33">   { title: &quot;Cleartext password, with server only supporting AUTH LOGIN&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l507.1"></a><span id="l507.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpPassword.js</span>
<a href="#l507.2"></a><span id="l507.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpPassword.js</span>
<a href="#l507.3"></a><span id="l507.3" class="difflineat">@@ -4,21 +4,21 @@</span>
<a href="#l507.4"></a><span id="l507.4">  */</span>
<a href="#l507.5"></a><span id="l507.5"> </span>
<a href="#l507.6"></a><span id="l507.6"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l507.7"></a><span id="l507.7"> </span>
<a href="#l507.8"></a><span id="l507.8"> load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l507.9"></a><span id="l507.9"> </span>
<a href="#l507.10"></a><span id="l507.10"> var server;</span>
<a href="#l507.11"></a><span id="l507.11"> </span>
<a href="#l507.12"></a><span id="l507.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l507.13"></a><span id="l507.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l507.14"></a><span id="l507.14" class="difflineminus">-const kUsername = &quot;testsmtp&quot;;</span>
<a href="#l507.15"></a><span id="l507.15" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l507.16"></a><span id="l507.16" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l507.17"></a><span id="l507.17" class="difflineplus">+var kUsername = &quot;testsmtp&quot;;</span>
<a href="#l507.18"></a><span id="l507.18"> // This is the same as in the signons file.</span>
<a href="#l507.19"></a><span id="l507.19" class="difflineminus">-const kPassword = &quot;smtptest&quot;;</span>
<a href="#l507.20"></a><span id="l507.20" class="difflineplus">+var kPassword = &quot;smtptest&quot;;</span>
<a href="#l507.21"></a><span id="l507.21"> </span>
<a href="#l507.22"></a><span id="l507.22"> add_task(function *() {</span>
<a href="#l507.23"></a><span id="l507.23">   function createHandler(d) {</span>
<a href="#l507.24"></a><span id="l507.24">     var handler = new SMTP_RFC2821_handler(d);</span>
<a href="#l507.25"></a><span id="l507.25">     // Username needs to match signons.txt</span>
<a href="#l507.26"></a><span id="l507.26">     handler.kUsername = kUsername;</span>
<a href="#l507.27"></a><span id="l507.27">     handler.kPassword = kPassword;</span>
<a href="#l507.28"></a><span id="l507.28">     handler.kAuthRequired = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l508.1"></a><span id="l508.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpPassword2.js</span>
<a href="#l508.2"></a><span id="l508.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpPassword2.js</span>
<a href="#l508.3"></a><span id="l508.3" class="difflineat">@@ -2,21 +2,21 @@</span>
<a href="#l508.4"></a><span id="l508.4"> /**</span>
<a href="#l508.5"></a><span id="l508.5">  * Extra tests for SMTP passwords (forgetPassword)</span>
<a href="#l508.6"></a><span id="l508.6">  */</span>
<a href="#l508.7"></a><span id="l508.7"> </span>
<a href="#l508.8"></a><span id="l508.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l508.9"></a><span id="l508.9"> </span>
<a href="#l508.10"></a><span id="l508.10"> load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l508.11"></a><span id="l508.11"> </span>
<a href="#l508.12"></a><span id="l508.12" class="difflineminus">-const kUser1 = &quot;testsmtp&quot;;</span>
<a href="#l508.13"></a><span id="l508.13" class="difflineminus">-const kUser2 = &quot;testsmtpa&quot;;</span>
<a href="#l508.14"></a><span id="l508.14" class="difflineminus">-const kProtocol = &quot;smtp&quot;;</span>
<a href="#l508.15"></a><span id="l508.15" class="difflineminus">-const kHostname = &quot;localhost&quot;;</span>
<a href="#l508.16"></a><span id="l508.16" class="difflineminus">-const kServerUrl = kProtocol + &quot;://&quot; + kHostname;</span>
<a href="#l508.17"></a><span id="l508.17" class="difflineplus">+var kUser1 = &quot;testsmtp&quot;;</span>
<a href="#l508.18"></a><span id="l508.18" class="difflineplus">+var kUser2 = &quot;testsmtpa&quot;;</span>
<a href="#l508.19"></a><span id="l508.19" class="difflineplus">+var kProtocol = &quot;smtp&quot;;</span>
<a href="#l508.20"></a><span id="l508.20" class="difflineplus">+var kHostname = &quot;localhost&quot;;</span>
<a href="#l508.21"></a><span id="l508.21" class="difflineplus">+var kServerUrl = kProtocol + &quot;://&quot; + kHostname;</span>
<a href="#l508.22"></a><span id="l508.22"> </span>
<a href="#l508.23"></a><span id="l508.23"> add_task(function *() {</span>
<a href="#l508.24"></a><span id="l508.24">   // Prepare files for passwords (generated by a script in bug 1018624).</span>
<a href="#l508.25"></a><span id="l508.25">   yield setupForPassword(&quot;signons-mailnews1.8-multiple.json&quot;)</span>
<a href="#l508.26"></a><span id="l508.26"> </span>
<a href="#l508.27"></a><span id="l508.27">   // Set up the basic accounts and folders.</span>
<a href="#l508.28"></a><span id="l508.28">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l508.29"></a><span id="l508.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l509.1"></a><span id="l509.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpPasswordFailure1.js</span>
<a href="#l509.2"></a><span id="l509.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpPasswordFailure1.js</span>
<a href="#l509.3"></a><span id="l509.3" class="difflineat">@@ -15,22 +15,22 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l509.4"></a><span id="l509.4"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l509.5"></a><span id="l509.5"> </span>
<a href="#l509.6"></a><span id="l509.6"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l509.7"></a><span id="l509.7"> load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l509.8"></a><span id="l509.8"> </span>
<a href="#l509.9"></a><span id="l509.9"> var server;</span>
<a href="#l509.10"></a><span id="l509.10"> var attempt = 0;</span>
<a href="#l509.11"></a><span id="l509.11"> </span>
<a href="#l509.12"></a><span id="l509.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l509.13"></a><span id="l509.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l509.14"></a><span id="l509.14" class="difflineminus">-const kUsername = &quot;testsmtp&quot;;</span>
<a href="#l509.15"></a><span id="l509.15" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l509.16"></a><span id="l509.16" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l509.17"></a><span id="l509.17" class="difflineplus">+var kUsername = &quot;testsmtp&quot;;</span>
<a href="#l509.18"></a><span id="l509.18"> // This is the same as in the signons file.</span>
<a href="#l509.19"></a><span id="l509.19" class="difflineminus">-const kInvalidPassword = &quot;smtptest&quot;;</span>
<a href="#l509.20"></a><span id="l509.20" class="difflineminus">-const kValidPassword = &quot;smtptest1&quot;;</span>
<a href="#l509.21"></a><span id="l509.21" class="difflineplus">+var kInvalidPassword = &quot;smtptest&quot;;</span>
<a href="#l509.22"></a><span id="l509.22" class="difflineplus">+var kValidPassword = &quot;smtptest1&quot;;</span>
<a href="#l509.23"></a><span id="l509.23"> </span>
<a href="#l509.24"></a><span id="l509.24"> function alert(aDialogText, aText)</span>
<a href="#l509.25"></a><span id="l509.25"> {</span>
<a href="#l509.26"></a><span id="l509.26">   // The first few attempts may prompt about the password problem, the last</span>
<a href="#l509.27"></a><span id="l509.27">   // attempt shouldn't.</span>
<a href="#l509.28"></a><span id="l509.28">   do_check_true(attempt &lt; 4);</span>
<a href="#l509.29"></a><span id="l509.29"> </span>
<a href="#l509.30"></a><span id="l509.30">   // Log the fact we've got an alert, but we don't need to test anything here.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l510.1"></a><span id="l510.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpPasswordFailure2.js</span>
<a href="#l510.2"></a><span id="l510.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpPasswordFailure2.js</span>
<a href="#l510.3"></a><span id="l510.3" class="difflineat">@@ -15,22 +15,22 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l510.4"></a><span id="l510.4"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l510.5"></a><span id="l510.5"> </span>
<a href="#l510.6"></a><span id="l510.6"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l510.7"></a><span id="l510.7"> load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l510.8"></a><span id="l510.8"> </span>
<a href="#l510.9"></a><span id="l510.9"> var server;</span>
<a href="#l510.10"></a><span id="l510.10"> var attempt = 0;</span>
<a href="#l510.11"></a><span id="l510.11"> </span>
<a href="#l510.12"></a><span id="l510.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l510.13"></a><span id="l510.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l510.14"></a><span id="l510.14" class="difflineminus">-const kUsername = &quot;testsmtp&quot;;</span>
<a href="#l510.15"></a><span id="l510.15" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l510.16"></a><span id="l510.16" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l510.17"></a><span id="l510.17" class="difflineplus">+var kUsername = &quot;testsmtp&quot;;</span>
<a href="#l510.18"></a><span id="l510.18"> // This is the same as in the signons file.</span>
<a href="#l510.19"></a><span id="l510.19" class="difflineminus">-const kInvalidPassword = &quot;smtptest&quot;;</span>
<a href="#l510.20"></a><span id="l510.20" class="difflineminus">-const kValidPassword = &quot;smtptest1&quot;;</span>
<a href="#l510.21"></a><span id="l510.21" class="difflineplus">+var kInvalidPassword = &quot;smtptest&quot;;</span>
<a href="#l510.22"></a><span id="l510.22" class="difflineplus">+var kValidPassword = &quot;smtptest1&quot;;</span>
<a href="#l510.23"></a><span id="l510.23"> </span>
<a href="#l510.24"></a><span id="l510.24"> function alert(aDialogText, aText)</span>
<a href="#l510.25"></a><span id="l510.25"> {</span>
<a href="#l510.26"></a><span id="l510.26">   // The first few attempts may prompt about the password problem, the last</span>
<a href="#l510.27"></a><span id="l510.27">   // attempt shouldn't.</span>
<a href="#l510.28"></a><span id="l510.28">   do_check_true(attempt &lt; 4);</span>
<a href="#l510.29"></a><span id="l510.29"> </span>
<a href="#l510.30"></a><span id="l510.30">   // Log the fact we've got an alert, but we don't need to test anything here.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l511.1"></a><span id="l511.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpPasswordFailure3.js</span>
<a href="#l511.2"></a><span id="l511.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpPasswordFailure3.js</span>
<a href="#l511.3"></a><span id="l511.3" class="difflineat">@@ -13,22 +13,22 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l511.4"></a><span id="l511.4"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l511.5"></a><span id="l511.5"> </span>
<a href="#l511.6"></a><span id="l511.6"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l511.7"></a><span id="l511.7"> load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l511.8"></a><span id="l511.8"> </span>
<a href="#l511.9"></a><span id="l511.9"> var server;</span>
<a href="#l511.10"></a><span id="l511.10"> var attempt = 0;</span>
<a href="#l511.11"></a><span id="l511.11"> </span>
<a href="#l511.12"></a><span id="l511.12" class="difflineminus">-const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l511.13"></a><span id="l511.13" class="difflineminus">-const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l511.14"></a><span id="l511.14" class="difflineminus">-const kUsername = &quot;testsmtp&quot;;</span>
<a href="#l511.15"></a><span id="l511.15" class="difflineplus">+var kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l511.16"></a><span id="l511.16" class="difflineplus">+var kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l511.17"></a><span id="l511.17" class="difflineplus">+var kUsername = &quot;testsmtp&quot;;</span>
<a href="#l511.18"></a><span id="l511.18"> // This is the same as in the signons file.</span>
<a href="#l511.19"></a><span id="l511.19" class="difflineminus">-const kInvalidPassword = &quot;smtptest&quot;;</span>
<a href="#l511.20"></a><span id="l511.20" class="difflineminus">-const kValidPassword = &quot;smtptest1&quot;;</span>
<a href="#l511.21"></a><span id="l511.21" class="difflineplus">+var kInvalidPassword = &quot;smtptest&quot;;</span>
<a href="#l511.22"></a><span id="l511.22" class="difflineplus">+var kValidPassword = &quot;smtptest1&quot;;</span>
<a href="#l511.23"></a><span id="l511.23"> </span>
<a href="#l511.24"></a><span id="l511.24"> function alert(aDialogText, aText)</span>
<a href="#l511.25"></a><span id="l511.25"> {</span>
<a href="#l511.26"></a><span id="l511.26">   // The first few attempts may prompt about the password problem, the last</span>
<a href="#l511.27"></a><span id="l511.27">   // attempt shouldn't.</span>
<a href="#l511.28"></a><span id="l511.28">   do_check_true(attempt &lt; 4);</span>
<a href="#l511.29"></a><span id="l511.29"> </span>
<a href="#l511.30"></a><span id="l511.30">   // Log the fact we've got an alert, but we don't need to test anything here.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l512.1"></a><span id="l512.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpProtocols.js</span>
<a href="#l512.2"></a><span id="l512.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpProtocols.js</span>
<a href="#l512.3"></a><span id="l512.3" class="difflineat">@@ -1,21 +1,21 @@</span>
<a href="#l512.4"></a><span id="l512.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l512.5"></a><span id="l512.5"> /*</span>
<a href="#l512.6"></a><span id="l512.6">  * Test suite for getting smtp urls via the protocol handler.</span>
<a href="#l512.7"></a><span id="l512.7">  */</span>
<a href="#l512.8"></a><span id="l512.8"> </span>
<a href="#l512.9"></a><span id="l512.9" class="difflineminus">-const defaultProtocolFlags =</span>
<a href="#l512.10"></a><span id="l512.10" class="difflineplus">+var defaultProtocolFlags =</span>
<a href="#l512.11"></a><span id="l512.11">   Ci.nsIProtocolHandler.URI_NORELATIVE |</span>
<a href="#l512.12"></a><span id="l512.12">   Ci.nsIProtocolHandler.URI_DANGEROUS_TO_LOAD |</span>
<a href="#l512.13"></a><span id="l512.13">   Ci.nsIProtocolHandler.URI_NON_PERSISTABLE |</span>
<a href="#l512.14"></a><span id="l512.14">   Ci.nsIProtocolHandler.ALLOWS_PROXY |</span>
<a href="#l512.15"></a><span id="l512.15">   Ci.nsIProtocolHandler.URI_FORBIDS_AUTOMATIC_DOCUMENT_REPLACEMENT;</span>
<a href="#l512.16"></a><span id="l512.16"> </span>
<a href="#l512.17"></a><span id="l512.17" class="difflineminus">-const protocols =</span>
<a href="#l512.18"></a><span id="l512.18" class="difflineplus">+var protocols =</span>
<a href="#l512.19"></a><span id="l512.19">   [ { protocol: &quot;smtp&quot;,</span>
<a href="#l512.20"></a><span id="l512.20">       urlSpec: &quot;smtp://user@localhost/&quot;,</span>
<a href="#l512.21"></a><span id="l512.21">       defaultPort: Ci.nsISmtpUrl.DEFAULT_SMTP_PORT</span>
<a href="#l512.22"></a><span id="l512.22">     },</span>
<a href="#l512.23"></a><span id="l512.23">     { protocol: &quot;smtps&quot;,</span>
<a href="#l512.24"></a><span id="l512.24">       urlSpec: &quot;smtps://user@localhost/&quot;,</span>
<a href="#l512.25"></a><span id="l512.25">       defaultPort: Ci.nsISmtpUrl.DEFAULT_SMTPS_PORT</span>
<a href="#l512.26"></a><span id="l512.26">     } ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l513.1"></a><span id="l513.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpURL.js</span>
<a href="#l513.2"></a><span id="l513.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpURL.js</span>
<a href="#l513.3"></a><span id="l513.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l513.4"></a><span id="l513.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l513.5"></a><span id="l513.5"> /*</span>
<a href="#l513.6"></a><span id="l513.6">  * Test suite for checking SMTP URLs are working as expected.</span>
<a href="#l513.7"></a><span id="l513.7">  * XXX this test needs extending as we fix up nsSmtpUrl.</span>
<a href="#l513.8"></a><span id="l513.8">  */</span>
<a href="#l513.9"></a><span id="l513.9"> </span>
<a href="#l513.10"></a><span id="l513.10" class="difflineminus">-const smtpURLs =</span>
<a href="#l513.11"></a><span id="l513.11" class="difflineplus">+var smtpURLs =</span>
<a href="#l513.12"></a><span id="l513.12">   [ { url: &quot;smtp://user@localhost/&quot;,</span>
<a href="#l513.13"></a><span id="l513.13">       spec: &quot;smtp://user@localhost/&quot;,</span>
<a href="#l513.14"></a><span id="l513.14">       username: &quot;user&quot;</span>
<a href="#l513.15"></a><span id="l513.15">     },</span>
<a href="#l513.16"></a><span id="l513.16">     { url: &quot;smtps://user@localhost/&quot;,</span>
<a href="#l513.17"></a><span id="l513.17">       spec: &quot;smtps://user@localhost/&quot;,</span>
<a href="#l513.18"></a><span id="l513.18">       username: &quot;user&quot;</span>
<a href="#l513.19"></a><span id="l513.19">     } ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l514.1"></a><span id="l514.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_splitRecipients.js</span>
<a href="#l514.2"></a><span id="l514.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_splitRecipients.js</span>
<a href="#l514.3"></a><span id="l514.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l514.4"></a><span id="l514.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l514.5"></a><span id="l514.5"> /*</span>
<a href="#l514.6"></a><span id="l514.6">  * Test suite for nsMsgCompFields functions.</span>
<a href="#l514.7"></a><span id="l514.7">  * Currently only tests nsIMsgCompFields::SplitRecipients</span>
<a href="#l514.8"></a><span id="l514.8">  */</span>
<a href="#l514.9"></a><span id="l514.9"> </span>
<a href="#l514.10"></a><span id="l514.10" class="difflineminus">-const splitRecipientsTests =</span>
<a href="#l514.11"></a><span id="l514.11" class="difflineplus">+var splitRecipientsTests =</span>
<a href="#l514.12"></a><span id="l514.12">   [ { recipients: &quot;me@foo.invalid&quot;,</span>
<a href="#l514.13"></a><span id="l514.13">       emailAddressOnly: false,</span>
<a href="#l514.14"></a><span id="l514.14">       count: 1,</span>
<a href="#l514.15"></a><span id="l514.15">       result: [ &quot;me@foo.invalid&quot; ]</span>
<a href="#l514.16"></a><span id="l514.16">     },</span>
<a href="#l514.17"></a><span id="l514.17">     { recipients: &quot;me@foo.invalid, me2@foo.invalid&quot;,</span>
<a href="#l514.18"></a><span id="l514.18">       emailAddressOnly: false,</span>
<a href="#l514.19"></a><span id="l514.19">       count: 2,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l515.1"></a><span id="l515.1" class="difflineminus">--- a/mailnews/db/gloda/components/glautocomp.js</span>
<a href="#l515.2"></a><span id="l515.2" class="difflineplus">+++ b/mailnews/db/gloda/components/glautocomp.js</span>
<a href="#l515.3"></a><span id="l515.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l515.4"></a><span id="l515.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l515.5"></a><span id="l515.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l515.6"></a><span id="l515.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l515.7"></a><span id="l515.7"> </span>
<a href="#l515.8"></a><span id="l515.8" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l515.9"></a><span id="l515.9" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l515.10"></a><span id="l515.10" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l515.11"></a><span id="l515.11" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l515.12"></a><span id="l515.12" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l515.13"></a><span id="l515.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l515.14"></a><span id="l515.14" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l515.15"></a><span id="l515.15" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l515.16"></a><span id="l515.16"> </span>
<a href="#l515.17"></a><span id="l515.17"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l515.18"></a><span id="l515.18"> Cu.import(&quot;resource:///modules/errUtils.js&quot;);</span>
<a href="#l515.19"></a><span id="l515.19"> </span>
<a href="#l515.20"></a><span id="l515.20"> var Gloda = null;</span>
<a href="#l515.21"></a><span id="l515.21"> var GlodaUtils = null;</span>
<a href="#l515.22"></a><span id="l515.22"> var MultiSuffixTree = null;</span>
<a href="#l515.23"></a><span id="l515.23"> var TagNoun = null;</span>
<a href="#l515.24"></a><span id="l515.24" class="difflineat">@@ -162,17 +162,17 @@ nsAutoCompleteGlodaResult.prototype = {</span>
<a href="#l515.25"></a><span id="l515.25">     return this.getValueAt(aIndex);</span>
<a href="#l515.26"></a><span id="l515.26">   },</span>
<a href="#l515.27"></a><span id="l515.27">   removeValueAt: function() {},</span>
<a href="#l515.28"></a><span id="l515.28"> </span>
<a href="#l515.29"></a><span id="l515.29">   _stop: function() {</span>
<a href="#l515.30"></a><span id="l515.30">   }</span>
<a href="#l515.31"></a><span id="l515.31"> };</span>
<a href="#l515.32"></a><span id="l515.32"> </span>
<a href="#l515.33"></a><span id="l515.33" class="difflineminus">-const MAX_POPULAR_CONTACTS = 200;</span>
<a href="#l515.34"></a><span id="l515.34" class="difflineplus">+var MAX_POPULAR_CONTACTS = 200;</span>
<a href="#l515.35"></a><span id="l515.35"> </span>
<a href="#l515.36"></a><span id="l515.36"> /**</span>
<a href="#l515.37"></a><span id="l515.37">  * Complete contacts/identities based on name/email.  Instant phase is based on</span>
<a href="#l515.38"></a><span id="l515.38">  *  a suffix-tree built of popular contacts/identities.  Delayed phase relies</span>
<a href="#l515.39"></a><span id="l515.39">  *  on a LIKE search of all known contacts.</span>
<a href="#l515.40"></a><span id="l515.40">  */</span>
<a href="#l515.41"></a><span id="l515.41"> function ContactIdentityCompleter() {</span>
<a href="#l515.42"></a><span id="l515.42">   // get all the contacts</span>
<a href="#l515.43"></a><span id="l515.43" class="difflineat">@@ -529,9 +529,9 @@ nsAutoCompleteGloda.prototype = {</span>
<a href="#l515.44"></a><span id="l515.44">     }</span>
<a href="#l515.45"></a><span id="l515.45">   },</span>
<a href="#l515.46"></a><span id="l515.46"> </span>
<a href="#l515.47"></a><span id="l515.47">   stopSearch: function() {</span>
<a href="#l515.48"></a><span id="l515.48">   }</span>
<a href="#l515.49"></a><span id="l515.49"> };</span>
<a href="#l515.50"></a><span id="l515.50"> </span>
<a href="#l515.51"></a><span id="l515.51"> var components = [nsAutoCompleteGloda];</span>
<a href="#l515.52"></a><span id="l515.52" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l515.53"></a><span id="l515.53" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l516.1"></a><span id="l516.1" class="difflineminus">--- a/mailnews/db/gloda/components/jsmimeemitter.js</span>
<a href="#l516.2"></a><span id="l516.2" class="difflineplus">+++ b/mailnews/db/gloda/components/jsmimeemitter.js</span>
<a href="#l516.3"></a><span id="l516.3" class="difflineat">@@ -1,34 +1,34 @@</span>
<a href="#l516.4"></a><span id="l516.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l516.5"></a><span id="l516.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l516.6"></a><span id="l516.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l516.7"></a><span id="l516.7"> </span>
<a href="#l516.8"></a><span id="l516.8" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l516.9"></a><span id="l516.9" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l516.10"></a><span id="l516.10" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l516.11"></a><span id="l516.11" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l516.12"></a><span id="l516.12" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l516.13"></a><span id="l516.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l516.14"></a><span id="l516.14" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l516.15"></a><span id="l516.15" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l516.16"></a><span id="l516.16"> </span>
<a href="#l516.17"></a><span id="l516.17"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l516.18"></a><span id="l516.18"> </span>
<a href="#l516.19"></a><span id="l516.19" class="difflineminus">-const kStateUnknown = 0;</span>
<a href="#l516.20"></a><span id="l516.20" class="difflineminus">-const kStateInHeaders = 1;</span>
<a href="#l516.21"></a><span id="l516.21" class="difflineminus">-const kStateInBody = 2;</span>
<a href="#l516.22"></a><span id="l516.22" class="difflineminus">-const kStateInAttachment = 3;</span>
<a href="#l516.23"></a><span id="l516.23" class="difflineplus">+var kStateUnknown = 0;</span>
<a href="#l516.24"></a><span id="l516.24" class="difflineplus">+var kStateInHeaders = 1;</span>
<a href="#l516.25"></a><span id="l516.25" class="difflineplus">+var kStateInBody = 2;</span>
<a href="#l516.26"></a><span id="l516.26" class="difflineplus">+var kStateInAttachment = 3;</span>
<a href="#l516.27"></a><span id="l516.27"> </span>
<a href="#l516.28"></a><span id="l516.28"> /**</span>
<a href="#l516.29"></a><span id="l516.29">  * When the saneBodySize flag is active, limit body parts to at most this many</span>
<a href="#l516.30"></a><span id="l516.30">  *  bytes.  See |MsgHdrToMimeMessage| for more information on the flag.</span>
<a href="#l516.31"></a><span id="l516.31">  *</span>
<a href="#l516.32"></a><span id="l516.32">  * The choice of 20k was made on the very scientific basis of running a query</span>
<a href="#l516.33"></a><span id="l516.33">  *  against my indexed e-mail and finding the point where these things taper</span>
<a href="#l516.34"></a><span id="l516.34">  *  off.  I chose 20 because things had tapered off pretty firmly by 16, so</span>
<a href="#l516.35"></a><span id="l516.35">  *  20 gave it some space and it was also the end of a mini-plateau.</span>
<a href="#l516.36"></a><span id="l516.36">  */</span>
<a href="#l516.37"></a><span id="l516.37" class="difflineminus">-const MAX_SANE_BODY_PART_SIZE = 20 * 1024;</span>
<a href="#l516.38"></a><span id="l516.38" class="difflineplus">+var MAX_SANE_BODY_PART_SIZE = 20 * 1024;</span>
<a href="#l516.39"></a><span id="l516.39"> </span>
<a href="#l516.40"></a><span id="l516.40"> /**</span>
<a href="#l516.41"></a><span id="l516.41">  * Custom nsIMimeEmitter to build a sub-optimal javascript representation of a</span>
<a href="#l516.42"></a><span id="l516.42">  *  MIME message.  The intent is that a better mechanism than is evolved to</span>
<a href="#l516.43"></a><span id="l516.43">  *  provide a javascript-accessible representation of the message.</span>
<a href="#l516.44"></a><span id="l516.44">  *</span>
<a href="#l516.45"></a><span id="l516.45">  * Processing occurs in two passes.  During the first pass, libmime is parsing</span>
<a href="#l516.46"></a><span id="l516.46">  *  the stream it is receiving, and generating header and body events for all</span>
<a href="#l516.47"></a><span id="l516.47" class="difflineat">@@ -65,17 +65,17 @@ function MimeMessageEmitter() {</span>
<a href="#l516.48"></a><span id="l516.48">   this._partMap = {};</span>
<a href="#l516.49"></a><span id="l516.49">   this._bogusPartTranslation = {};</span>
<a href="#l516.50"></a><span id="l516.50"> </span>
<a href="#l516.51"></a><span id="l516.51">   this._state = kStateUnknown;</span>
<a href="#l516.52"></a><span id="l516.52"> </span>
<a href="#l516.53"></a><span id="l516.53">   this._writeBody = false;</span>
<a href="#l516.54"></a><span id="l516.54"> }</span>
<a href="#l516.55"></a><span id="l516.55"> </span>
<a href="#l516.56"></a><span id="l516.56" class="difflineminus">-const deathToNewlines = /\n/g;</span>
<a href="#l516.57"></a><span id="l516.57" class="difflineplus">+var deathToNewlines = /\n/g;</span>
<a href="#l516.58"></a><span id="l516.58"> </span>
<a href="#l516.59"></a><span id="l516.59"> MimeMessageEmitter.prototype = {</span>
<a href="#l516.60"></a><span id="l516.60">   classID: Components.ID(&quot;{8cddbbbc-7ced-46b0-a936-8cddd1928c24}&quot;),</span>
<a href="#l516.61"></a><span id="l516.61"> </span>
<a href="#l516.62"></a><span id="l516.62">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIMimeEmitter]),</span>
<a href="#l516.63"></a><span id="l516.63"> </span>
<a href="#l516.64"></a><span id="l516.64">   initialize: function mime_emitter_initialize(aUrl, aChannel, aFormat) {</span>
<a href="#l516.65"></a><span id="l516.65">     this._url = aUrl;</span>
<a href="#l516.66"></a><span id="l516.66" class="difflineat">@@ -475,9 +475,9 @@ MimeMessageEmitter.prototype = {</span>
<a href="#l516.67"></a><span id="l516.67"> </span>
<a href="#l516.68"></a><span id="l516.68">   // (string writing)</span>
<a href="#l516.69"></a><span id="l516.69">   utilityWrite: function mime_emitter_utilityWrite(aBuf) {</span>
<a href="#l516.70"></a><span id="l516.70">     this.write(aBuf, aBuf.length, {});</span>
<a href="#l516.71"></a><span id="l516.71">   },</span>
<a href="#l516.72"></a><span id="l516.72"> };</span>
<a href="#l516.73"></a><span id="l516.73"> </span>
<a href="#l516.74"></a><span id="l516.74"> var components = [MimeMessageEmitter];</span>
<a href="#l516.75"></a><span id="l516.75" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l516.76"></a><span id="l516.76" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l517.1"></a><span id="l517.1" class="difflineminus">--- a/mailnews/db/gloda/modules/collection.js</span>
<a href="#l517.2"></a><span id="l517.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/collection.js</span>
<a href="#l517.3"></a><span id="l517.3" class="difflineat">@@ -1,22 +1,22 @@</span>
<a href="#l517.4"></a><span id="l517.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l517.5"></a><span id="l517.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l517.6"></a><span id="l517.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l517.7"></a><span id="l517.7"> </span>
<a href="#l517.8"></a><span id="l517.8"> this.EXPORTED_SYMBOLS = ['GlodaCollection', 'GlodaCollectionManager'];</span>
<a href="#l517.9"></a><span id="l517.9"> </span>
<a href="#l517.10"></a><span id="l517.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l517.11"></a><span id="l517.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l517.12"></a><span id="l517.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l517.13"></a><span id="l517.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l517.14"></a><span id="l517.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l517.15"></a><span id="l517.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l517.16"></a><span id="l517.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l517.17"></a><span id="l517.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l517.18"></a><span id="l517.18"> </span>
<a href="#l517.19"></a><span id="l517.19"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l517.20"></a><span id="l517.20"> </span>
<a href="#l517.21"></a><span id="l517.21" class="difflineminus">-const LOG = Log4Moz.repository.getLogger(&quot;gloda.collection&quot;);</span>
<a href="#l517.22"></a><span id="l517.22" class="difflineplus">+var LOG = Log4Moz.repository.getLogger(&quot;gloda.collection&quot;);</span>
<a href="#l517.23"></a><span id="l517.23"> </span>
<a href="#l517.24"></a><span id="l517.24"> /**</span>
<a href="#l517.25"></a><span id="l517.25">  * @namespace Central registry and logic for all collections.</span>
<a href="#l517.26"></a><span id="l517.26">  *</span>
<a href="#l517.27"></a><span id="l517.27">  * The collection manager is a singleton that has the following tasks:</span>
<a href="#l517.28"></a><span id="l517.28">  * - Let views of objects (nouns) know when their objects have changed.  For</span>
<a href="#l517.29"></a><span id="l517.29">  *   example, an attribute has changed due to user action.</span>
<a href="#l517.30"></a><span id="l517.30">  * - Let views of objects based on queries know when new objects match their</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l518.1"></a><span id="l518.1" class="difflineminus">--- a/mailnews/db/gloda/modules/connotent.js</span>
<a href="#l518.2"></a><span id="l518.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/connotent.js</span>
<a href="#l518.3"></a><span id="l518.3" class="difflineat">@@ -1,23 +1,23 @@</span>
<a href="#l518.4"></a><span id="l518.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l518.5"></a><span id="l518.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l518.6"></a><span id="l518.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l518.7"></a><span id="l518.7"> </span>
<a href="#l518.8"></a><span id="l518.8"> this.EXPORTED_SYMBOLS = ['GlodaContent', 'whittlerRegistry',</span>
<a href="#l518.9"></a><span id="l518.9">                           'mimeMsgToContentAndMeta', 'mimeMsgToContentSnippetAndMeta'];</span>
<a href="#l518.10"></a><span id="l518.10"> </span>
<a href="#l518.11"></a><span id="l518.11" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l518.12"></a><span id="l518.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l518.13"></a><span id="l518.13" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l518.14"></a><span id="l518.14" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l518.15"></a><span id="l518.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l518.16"></a><span id="l518.16" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l518.17"></a><span id="l518.17" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l518.18"></a><span id="l518.18" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l518.19"></a><span id="l518.19"> </span>
<a href="#l518.20"></a><span id="l518.20"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l518.21"></a><span id="l518.21"> </span>
<a href="#l518.22"></a><span id="l518.22" class="difflineminus">-const LOG = Log4Moz.repository.getLogger(&quot;gloda.connotent&quot;);</span>
<a href="#l518.23"></a><span id="l518.23" class="difflineplus">+var LOG = Log4Moz.repository.getLogger(&quot;gloda.connotent&quot;);</span>
<a href="#l518.24"></a><span id="l518.24"> </span>
<a href="#l518.25"></a><span id="l518.25"> </span>
<a href="#l518.26"></a><span id="l518.26"> </span>
<a href="#l518.27"></a><span id="l518.27"> /**</span>
<a href="#l518.28"></a><span id="l518.28">  * Given a MimeMsg and the corresponding folder, return the GlodaContent object.</span>
<a href="#l518.29"></a><span id="l518.29">  *</span>
<a href="#l518.30"></a><span id="l518.30">  * @param aMimeMsg: the MimeMessage instance</span>
<a href="#l518.31"></a><span id="l518.31">  * @param folder: the nsIMsgDBFolder</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l519.1"></a><span id="l519.1" class="difflineminus">--- a/mailnews/db/gloda/modules/databind.js</span>
<a href="#l519.2"></a><span id="l519.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/databind.js</span>
<a href="#l519.3"></a><span id="l519.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l519.4"></a><span id="l519.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l519.5"></a><span id="l519.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l519.6"></a><span id="l519.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l519.7"></a><span id="l519.7"> </span>
<a href="#l519.8"></a><span id="l519.8"> this.EXPORTED_SYMBOLS = [&quot;GlodaDatabind&quot;];</span>
<a href="#l519.9"></a><span id="l519.9"> </span>
<a href="#l519.10"></a><span id="l519.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l519.11"></a><span id="l519.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l519.12"></a><span id="l519.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l519.13"></a><span id="l519.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l519.14"></a><span id="l519.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l519.15"></a><span id="l519.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l519.16"></a><span id="l519.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l519.17"></a><span id="l519.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l519.18"></a><span id="l519.18"> </span>
<a href="#l519.19"></a><span id="l519.19"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l519.20"></a><span id="l519.20"> </span>
<a href="#l519.21"></a><span id="l519.21"> var DBC_LOG = Log4Moz.repository.getLogger(&quot;gloda.ds.dbc&quot;);</span>
<a href="#l519.22"></a><span id="l519.22"> </span>
<a href="#l519.23"></a><span id="l519.23"> function GlodaDatabind(aNounDef, aDatastore) {</span>
<a href="#l519.24"></a><span id="l519.24">   this._nounDef = aNounDef;</span>
<a href="#l519.25"></a><span id="l519.25">   this._tableName = aNounDef.tableName;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l520.1"></a><span id="l520.1" class="difflineminus">--- a/mailnews/db/gloda/modules/datamodel.js</span>
<a href="#l520.2"></a><span id="l520.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/datamodel.js</span>
<a href="#l520.3"></a><span id="l520.3" class="difflineat">@@ -1,25 +1,25 @@</span>
<a href="#l520.4"></a><span id="l520.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l520.5"></a><span id="l520.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l520.6"></a><span id="l520.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l520.7"></a><span id="l520.7"> </span>
<a href="#l520.8"></a><span id="l520.8"> this.EXPORTED_SYMBOLS = [&quot;GlodaAttributeDBDef&quot;, &quot;GlodaAccount&quot;,</span>
<a href="#l520.9"></a><span id="l520.9">                     &quot;GlodaConversation&quot;, &quot;GlodaFolder&quot;, &quot;GlodaMessage&quot;,</span>
<a href="#l520.10"></a><span id="l520.10">                     &quot;GlodaContact&quot;, &quot;GlodaIdentity&quot;, &quot;GlodaAttachment&quot;];</span>
<a href="#l520.11"></a><span id="l520.11"> </span>
<a href="#l520.12"></a><span id="l520.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l520.13"></a><span id="l520.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l520.14"></a><span id="l520.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l520.15"></a><span id="l520.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l520.16"></a><span id="l520.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l520.17"></a><span id="l520.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l520.18"></a><span id="l520.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l520.19"></a><span id="l520.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l520.20"></a><span id="l520.20"> </span>
<a href="#l520.21"></a><span id="l520.21"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l520.22"></a><span id="l520.22"> </span>
<a href="#l520.23"></a><span id="l520.23"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l520.24"></a><span id="l520.24" class="difflineminus">-const LOG = Log4Moz.repository.getLogger(&quot;gloda.datamodel&quot;);</span>
<a href="#l520.25"></a><span id="l520.25" class="difflineplus">+var LOG = Log4Moz.repository.getLogger(&quot;gloda.datamodel&quot;);</span>
<a href="#l520.26"></a><span id="l520.26"> </span>
<a href="#l520.27"></a><span id="l520.27"> Cu.import(&quot;resource:///modules/gloda/utils.js&quot;);</span>
<a href="#l520.28"></a><span id="l520.28"> </span>
<a href="#l520.29"></a><span id="l520.29"> // Make it lazy.</span>
<a href="#l520.30"></a><span id="l520.30"> var gMessenger;</span>
<a href="#l520.31"></a><span id="l520.31"> function getMessenger () {</span>
<a href="#l520.32"></a><span id="l520.32">   if (!gMessenger)</span>
<a href="#l520.33"></a><span id="l520.33">     gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;].createInstance(Ci.nsIMessenger);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l521.1"></a><span id="l521.1" class="difflineminus">--- a/mailnews/db/gloda/modules/datastore.js</span>
<a href="#l521.2"></a><span id="l521.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/datastore.js</span>
<a href="#l521.3"></a><span id="l521.3" class="difflineat">@@ -4,33 +4,33 @@</span>
<a href="#l521.4"></a><span id="l521.4"> </span>
<a href="#l521.5"></a><span id="l521.5"> /* This file looks to Myk Melez &lt;myk@mozilla.org&gt;'s Mozilla Labs snowl</span>
<a href="#l521.6"></a><span id="l521.6">  * project's (http://hg.mozilla.org/labs/snowl/) modules/datastore.js</span>
<a href="#l521.7"></a><span id="l521.7">  * for inspiration and idioms (and also a name :).</span>
<a href="#l521.8"></a><span id="l521.8">  */</span>
<a href="#l521.9"></a><span id="l521.9"> </span>
<a href="#l521.10"></a><span id="l521.10"> this.EXPORTED_SYMBOLS = [&quot;GlodaDatastore&quot;];</span>
<a href="#l521.11"></a><span id="l521.11"> </span>
<a href="#l521.12"></a><span id="l521.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l521.13"></a><span id="l521.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l521.14"></a><span id="l521.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l521.15"></a><span id="l521.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l521.16"></a><span id="l521.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l521.17"></a><span id="l521.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l521.18"></a><span id="l521.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l521.19"></a><span id="l521.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l521.20"></a><span id="l521.20"> </span>
<a href="#l521.21"></a><span id="l521.21"> Cu.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l521.22"></a><span id="l521.22"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l521.23"></a><span id="l521.23"> </span>
<a href="#l521.24"></a><span id="l521.24"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l521.25"></a><span id="l521.25"> </span>
<a href="#l521.26"></a><span id="l521.26"> Cu.import(&quot;resource:///modules/gloda/datamodel.js&quot;);</span>
<a href="#l521.27"></a><span id="l521.27"> Cu.import(&quot;resource:///modules/gloda/databind.js&quot;);</span>
<a href="#l521.28"></a><span id="l521.28"> Cu.import(&quot;resource:///modules/gloda/collection.js&quot;);</span>
<a href="#l521.29"></a><span id="l521.29"> </span>
<a href="#l521.30"></a><span id="l521.30" class="difflineminus">-const MIN_CACHE_SIZE = 8 * 1048576;</span>
<a href="#l521.31"></a><span id="l521.31" class="difflineminus">-const MAX_CACHE_SIZE = 64 * 1048576;</span>
<a href="#l521.32"></a><span id="l521.32" class="difflineminus">-const MEMSIZE_FALLBACK_BYTES = 256 * 1048576;</span>
<a href="#l521.33"></a><span id="l521.33" class="difflineplus">+var MIN_CACHE_SIZE = 8 * 1048576;</span>
<a href="#l521.34"></a><span id="l521.34" class="difflineplus">+var MAX_CACHE_SIZE = 64 * 1048576;</span>
<a href="#l521.35"></a><span id="l521.35" class="difflineplus">+var MEMSIZE_FALLBACK_BYTES = 256 * 1048576;</span>
<a href="#l521.36"></a><span id="l521.36"> </span>
<a href="#l521.37"></a><span id="l521.37"> var PCH_LOG = Log4Moz.repository.getLogger(&quot;gloda.ds.pch&quot;);</span>
<a href="#l521.38"></a><span id="l521.38"> </span>
<a href="#l521.39"></a><span id="l521.39"> /**</span>
<a href="#l521.40"></a><span id="l521.40">  * Commit async handler; hands off the notification to</span>
<a href="#l521.41"></a><span id="l521.41">  *  |GlodaDatastore._asyncCompleted|.</span>
<a href="#l521.42"></a><span id="l521.42">  */</span>
<a href="#l521.43"></a><span id="l521.43"> function PostCommitHandler(aCallbacks) {</span>
<a href="#l521.44"></a><span id="l521.44" class="difflineat">@@ -567,17 +567,17 @@ ExplainedStatementProcessor.prototype = </span>
<a href="#l521.45"></a><span id="l521.45">     this._ostream.write(s, s.length);</span>
<a href="#l521.46"></a><span id="l521.46">     this._ostream.close();</span>
<a href="#l521.47"></a><span id="l521.47"> </span>
<a href="#l521.48"></a><span id="l521.48">     Services.obs.removeObserver(this, &quot;quit-application&quot;);</span>
<a href="#l521.49"></a><span id="l521.49">   }</span>
<a href="#l521.50"></a><span id="l521.50"> };</span>
<a href="#l521.51"></a><span id="l521.51"> </span>
<a href="#l521.52"></a><span id="l521.52"> // See the documentation on GlodaDatastore._schemaVersion to understand these:</span>
<a href="#l521.53"></a><span id="l521.53" class="difflineminus">-const DB_SCHEMA_ACCEPT_LEAVE_LOW = 31,</span>
<a href="#l521.54"></a><span id="l521.54" class="difflineplus">+var DB_SCHEMA_ACCEPT_LEAVE_LOW = 31,</span>
<a href="#l521.55"></a><span id="l521.55">       DB_SCHEMA_ACCEPT_LEAVE_HIGH = 34,</span>
<a href="#l521.56"></a><span id="l521.56">       DB_SCHEMA_ACCEPT_DOWNGRADE_LOW = 35,</span>
<a href="#l521.57"></a><span id="l521.57">       DB_SCHEMA_ACCEPT_DOWNGRADE_HIGH = 39,</span>
<a href="#l521.58"></a><span id="l521.58">       DB_SCHEMA_DOWNGRADE_DELTA = 5;</span>
<a href="#l521.59"></a><span id="l521.59"> </span>
<a href="#l521.60"></a><span id="l521.60"> /**</span>
<a href="#l521.61"></a><span id="l521.61">  * Database abstraction layer.  Contains explicit SQL schemas for our</span>
<a href="#l521.62"></a><span id="l521.62">  *  fundamental representations (core 'nouns', if you will) as well as</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l522.1"></a><span id="l522.1" class="difflineminus">--- a/mailnews/db/gloda/modules/dbview.js</span>
<a href="#l522.2"></a><span id="l522.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/dbview.js</span>
<a href="#l522.3"></a><span id="l522.3" class="difflineat">@@ -4,20 +4,20 @@</span>
<a href="#l522.4"></a><span id="l522.4"> </span>
<a href="#l522.5"></a><span id="l522.5"> /*</span>
<a href="#l522.6"></a><span id="l522.6">  * This file is charged with providing you a way to have a pretty gloda-backed</span>
<a href="#l522.7"></a><span id="l522.7">  *  nsIMsgDBView.</span>
<a href="#l522.8"></a><span id="l522.8">  */</span>
<a href="#l522.9"></a><span id="l522.9"> </span>
<a href="#l522.10"></a><span id="l522.10"> this.EXPORTED_SYMBOLS = [&quot;GlodaSyntheticView&quot;];</span>
<a href="#l522.11"></a><span id="l522.11"> </span>
<a href="#l522.12"></a><span id="l522.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l522.13"></a><span id="l522.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l522.14"></a><span id="l522.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l522.15"></a><span id="l522.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l522.16"></a><span id="l522.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l522.17"></a><span id="l522.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l522.18"></a><span id="l522.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l522.19"></a><span id="l522.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l522.20"></a><span id="l522.20"> </span>
<a href="#l522.21"></a><span id="l522.21"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l522.22"></a><span id="l522.22"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l522.23"></a><span id="l522.23"> </span>
<a href="#l522.24"></a><span id="l522.24"> Cu.import(&quot;resource:///modules/gloda/public.js&quot;);</span>
<a href="#l522.25"></a><span id="l522.25"> Cu.import(&quot;resource:///modules/gloda/msg_search.js&quot;);</span>
<a href="#l522.26"></a><span id="l522.26"> </span>
<a href="#l522.27"></a><span id="l522.27"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l523.1"></a><span id="l523.1" class="difflineminus">--- a/mailnews/db/gloda/modules/everybody.js</span>
<a href="#l523.2"></a><span id="l523.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/everybody.js</span>
<a href="#l523.3"></a><span id="l523.3" class="difflineat">@@ -1,21 +1,21 @@</span>
<a href="#l523.4"></a><span id="l523.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l523.5"></a><span id="l523.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l523.6"></a><span id="l523.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l523.7"></a><span id="l523.7"> </span>
<a href="#l523.8"></a><span id="l523.8"> this.EXPORTED_SYMBOLS = [];</span>
<a href="#l523.9"></a><span id="l523.9"> </span>
<a href="#l523.10"></a><span id="l523.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l523.11"></a><span id="l523.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l523.12"></a><span id="l523.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l523.13"></a><span id="l523.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l523.14"></a><span id="l523.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l523.15"></a><span id="l523.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l523.16"></a><span id="l523.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l523.17"></a><span id="l523.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l523.18"></a><span id="l523.18"> </span>
<a href="#l523.19"></a><span id="l523.19"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l523.20"></a><span id="l523.20" class="difflineminus">-const LOG = Log4Moz.repository.getLogger(&quot;gloda.everybody&quot;);</span>
<a href="#l523.21"></a><span id="l523.21" class="difflineplus">+var LOG = Log4Moz.repository.getLogger(&quot;gloda.everybody&quot;);</span>
<a href="#l523.22"></a><span id="l523.22"> </span>
<a href="#l523.23"></a><span id="l523.23"> var importNS = {};</span>
<a href="#l523.24"></a><span id="l523.24"> </span>
<a href="#l523.25"></a><span id="l523.25"> function loadModule(aModuleURI, aNSContrib) {</span>
<a href="#l523.26"></a><span id="l523.26">   try {</span>
<a href="#l523.27"></a><span id="l523.27">     LOG.info(&quot;... loading &quot; + aModuleURI);</span>
<a href="#l523.28"></a><span id="l523.28">     Cu.import(aModuleURI, importNS);</span>
<a href="#l523.29"></a><span id="l523.29">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l524.1"></a><span id="l524.1" class="difflineminus">--- a/mailnews/db/gloda/modules/explattr.js</span>
<a href="#l524.2"></a><span id="l524.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/explattr.js</span>
<a href="#l524.3"></a><span id="l524.3" class="difflineat">@@ -6,34 +6,34 @@</span>
<a href="#l524.4"></a><span id="l524.4">  * This file provides the &quot;explicit attribute&quot; provider for messages.  It is</span>
<a href="#l524.5"></a><span id="l524.5">  *  concerned with attributes that are the result of user actions.  For example,</span>
<a href="#l524.6"></a><span id="l524.6">  *  whether a message is starred (flagged), message tags, whether it is</span>
<a href="#l524.7"></a><span id="l524.7">  *  read/unread, etc.</span>
<a href="#l524.8"></a><span id="l524.8">  */</span>
<a href="#l524.9"></a><span id="l524.9"> </span>
<a href="#l524.10"></a><span id="l524.10"> this.EXPORTED_SYMBOLS = ['GlodaExplicitAttr'];</span>
<a href="#l524.11"></a><span id="l524.11"> </span>
<a href="#l524.12"></a><span id="l524.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l524.13"></a><span id="l524.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l524.14"></a><span id="l524.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l524.15"></a><span id="l524.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l524.16"></a><span id="l524.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l524.17"></a><span id="l524.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l524.18"></a><span id="l524.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l524.19"></a><span id="l524.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l524.20"></a><span id="l524.20"> </span>
<a href="#l524.21"></a><span id="l524.21"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l524.22"></a><span id="l524.22"> Cu.import(&quot;resource:///modules/StringBundle.js&quot;);</span>
<a href="#l524.23"></a><span id="l524.23"> </span>
<a href="#l524.24"></a><span id="l524.24"> Cu.import(&quot;resource:///modules/gloda/utils.js&quot;);</span>
<a href="#l524.25"></a><span id="l524.25"> Cu.import(&quot;resource:///modules/gloda/gloda.js&quot;);</span>
<a href="#l524.26"></a><span id="l524.26"> Cu.import(&quot;resource:///modules/gloda/noun_tag.js&quot;);</span>
<a href="#l524.27"></a><span id="l524.27"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l524.28"></a><span id="l524.28"> </span>
<a href="#l524.29"></a><span id="l524.29"> </span>
<a href="#l524.30"></a><span id="l524.30" class="difflineminus">-const nsMsgMessageFlags_Replied = Ci.nsMsgMessageFlags.Replied;</span>
<a href="#l524.31"></a><span id="l524.31" class="difflineminus">-const nsMsgMessageFlags_Forwarded = Ci.nsMsgMessageFlags.Forwarded;</span>
<a href="#l524.32"></a><span id="l524.32" class="difflineplus">+var nsMsgMessageFlags_Replied = Ci.nsMsgMessageFlags.Replied;</span>
<a href="#l524.33"></a><span id="l524.33" class="difflineplus">+var nsMsgMessageFlags_Forwarded = Ci.nsMsgMessageFlags.Forwarded;</span>
<a href="#l524.34"></a><span id="l524.34"> </span>
<a href="#l524.35"></a><span id="l524.35" class="difflineminus">-const EXT_BUILTIN = &quot;built-in&quot;;</span>
<a href="#l524.36"></a><span id="l524.36" class="difflineplus">+var EXT_BUILTIN = &quot;built-in&quot;;</span>
<a href="#l524.37"></a><span id="l524.37"> </span>
<a href="#l524.38"></a><span id="l524.38"> /**</span>
<a href="#l524.39"></a><span id="l524.39">  * @namespace Explicit attribute provider.  Indexes/defines attributes that are</span>
<a href="#l524.40"></a><span id="l524.40">  *  explicitly a result of user action.  This dubiously includes marking a</span>
<a href="#l524.41"></a><span id="l524.41">  *  message as read.</span>
<a href="#l524.42"></a><span id="l524.42">  */</span>
<a href="#l524.43"></a><span id="l524.43"> var GlodaExplicitAttr = {</span>
<a href="#l524.44"></a><span id="l524.44">   providerName: &quot;gloda.explattr&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l525.1"></a><span id="l525.1" class="difflineminus">--- a/mailnews/db/gloda/modules/facet.js</span>
<a href="#l525.2"></a><span id="l525.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/facet.js</span>
<a href="#l525.3"></a><span id="l525.3" class="difflineat">@@ -3,20 +3,20 @@</span>
<a href="#l525.4"></a><span id="l525.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l525.5"></a><span id="l525.5"> </span>
<a href="#l525.6"></a><span id="l525.6"> /*</span>
<a href="#l525.7"></a><span id="l525.7">  * This file provides faceting logic.</span>
<a href="#l525.8"></a><span id="l525.8">  */</span>
<a href="#l525.9"></a><span id="l525.9"> </span>
<a href="#l525.10"></a><span id="l525.10"> var EXPORTED_SYMBOLS = [&quot;FacetDriver&quot;, &quot;FacetUtils&quot;];</span>
<a href="#l525.11"></a><span id="l525.11"> </span>
<a href="#l525.12"></a><span id="l525.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l525.13"></a><span id="l525.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l525.14"></a><span id="l525.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l525.15"></a><span id="l525.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l525.16"></a><span id="l525.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l525.17"></a><span id="l525.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l525.18"></a><span id="l525.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l525.19"></a><span id="l525.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l525.20"></a><span id="l525.20"> </span>
<a href="#l525.21"></a><span id="l525.21"> Cu.import(&quot;resource:///modules/gloda/public.js&quot;);</span>
<a href="#l525.22"></a><span id="l525.22"> </span>
<a href="#l525.23"></a><span id="l525.23"> /**</span>
<a href="#l525.24"></a><span id="l525.24">  * Decides the appropriate faceters for the noun type and drives the faceting</span>
<a href="#l525.25"></a><span id="l525.25">  *  process.  This class and the faceters are intended to be reusable so that</span>
<a href="#l525.26"></a><span id="l525.26">  *  you only need one instance per faceting session.  (Although each faceting</span>
<a href="#l525.27"></a><span id="l525.27">  *  pass is accordingly destructive to previous results.)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l526.1"></a><span id="l526.1" class="difflineminus">--- a/mailnews/db/gloda/modules/fundattr.js</span>
<a href="#l526.2"></a><span id="l526.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/fundattr.js</span>
<a href="#l526.3"></a><span id="l526.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l526.4"></a><span id="l526.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l526.5"></a><span id="l526.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l526.6"></a><span id="l526.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l526.7"></a><span id="l526.7"> </span>
<a href="#l526.8"></a><span id="l526.8"> this.EXPORTED_SYMBOLS = ['GlodaFundAttr'];</span>
<a href="#l526.9"></a><span id="l526.9"> </span>
<a href="#l526.10"></a><span id="l526.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l526.11"></a><span id="l526.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l526.12"></a><span id="l526.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l526.13"></a><span id="l526.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l526.14"></a><span id="l526.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l526.15"></a><span id="l526.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l526.16"></a><span id="l526.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l526.17"></a><span id="l526.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l526.18"></a><span id="l526.18"> </span>
<a href="#l526.19"></a><span id="l526.19"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l526.20"></a><span id="l526.20"> Cu.import(&quot;resource:///modules/StringBundle.js&quot;);</span>
<a href="#l526.21"></a><span id="l526.21"> </span>
<a href="#l526.22"></a><span id="l526.22"> Cu.import(&quot;resource:///modules/gloda/utils.js&quot;);</span>
<a href="#l526.23"></a><span id="l526.23"> Cu.import(&quot;resource:///modules/gloda/gloda.js&quot;);</span>
<a href="#l526.24"></a><span id="l526.24"> Cu.import(&quot;resource:///modules/gloda/datastore.js&quot;);</span>
<a href="#l526.25"></a><span id="l526.25"> Cu.import(&quot;resource:///modules/gloda/datamodel.js&quot;); // for GlodaAttachment</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l527.1"></a><span id="l527.1" class="difflineminus">--- a/mailnews/db/gloda/modules/gloda.js</span>
<a href="#l527.2"></a><span id="l527.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/gloda.js</span>
<a href="#l527.3"></a><span id="l527.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l527.4"></a><span id="l527.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l527.5"></a><span id="l527.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l527.6"></a><span id="l527.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l527.7"></a><span id="l527.7"> </span>
<a href="#l527.8"></a><span id="l527.8"> this.EXPORTED_SYMBOLS = ['Gloda'];</span>
<a href="#l527.9"></a><span id="l527.9"> </span>
<a href="#l527.10"></a><span id="l527.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l527.11"></a><span id="l527.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l527.12"></a><span id="l527.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l527.13"></a><span id="l527.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l527.14"></a><span id="l527.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l527.15"></a><span id="l527.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l527.16"></a><span id="l527.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l527.17"></a><span id="l527.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l527.18"></a><span id="l527.18"> </span>
<a href="#l527.19"></a><span id="l527.19"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l527.20"></a><span id="l527.20"> </span>
<a href="#l527.21"></a><span id="l527.21"> Cu.import(&quot;resource:///modules/gloda/datastore.js&quot;);</span>
<a href="#l527.22"></a><span id="l527.22"> Cu.import(&quot;resource:///modules/gloda/datamodel.js&quot;);</span>
<a href="#l527.23"></a><span id="l527.23"> Cu.import(&quot;resource:///modules/gloda/databind.js&quot;);</span>
<a href="#l527.24"></a><span id="l527.24"> Cu.import(&quot;resource:///modules/gloda/collection.js&quot;);</span>
<a href="#l527.25"></a><span id="l527.25"> Cu.import(&quot;resource:///modules/gloda/connotent.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l528.1"></a><span id="l528.1" class="difflineminus">--- a/mailnews/db/gloda/modules/index_ab.js</span>
<a href="#l528.2"></a><span id="l528.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/index_ab.js</span>
<a href="#l528.3"></a><span id="l528.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l528.4"></a><span id="l528.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l528.5"></a><span id="l528.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l528.6"></a><span id="l528.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l528.7"></a><span id="l528.7"> </span>
<a href="#l528.8"></a><span id="l528.8"> this.EXPORTED_SYMBOLS = ['GlodaABIndexer', 'GlodaABAttrs'];</span>
<a href="#l528.9"></a><span id="l528.9"> </span>
<a href="#l528.10"></a><span id="l528.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l528.11"></a><span id="l528.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l528.12"></a><span id="l528.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l528.13"></a><span id="l528.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l528.14"></a><span id="l528.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l528.15"></a><span id="l528.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l528.16"></a><span id="l528.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l528.17"></a><span id="l528.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l528.18"></a><span id="l528.18"> </span>
<a href="#l528.19"></a><span id="l528.19"> Cu.import(&quot;resource:///modules/gloda/collection.js&quot;);</span>
<a href="#l528.20"></a><span id="l528.20"> Cu.import(&quot;resource:///modules/gloda/datastore.js&quot;);</span>
<a href="#l528.21"></a><span id="l528.21"> Cu.import(&quot;resource:///modules/gloda/gloda.js&quot;);</span>
<a href="#l528.22"></a><span id="l528.22"> Cu.import(&quot;resource:///modules/gloda/indexer.js&quot;);</span>
<a href="#l528.23"></a><span id="l528.23"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l528.24"></a><span id="l528.24"> Cu.import(&quot;resource:///modules/gloda/noun_freetag.js&quot;);</span>
<a href="#l528.25"></a><span id="l528.25"> Cu.import(&quot;resource:///modules/gloda/utils.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l529.1"></a><span id="l529.1" class="difflineminus">--- a/mailnews/db/gloda/modules/index_msg.js</span>
<a href="#l529.2"></a><span id="l529.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/index_msg.js</span>
<a href="#l529.3"></a><span id="l529.3" class="difflineat">@@ -9,20 +9,20 @@</span>
<a href="#l529.4"></a><span id="l529.4">  *  indexing with a very explicit message indexing implementation.  As gloda</span>
<a href="#l529.5"></a><span id="l529.5">  *  will eventually want to index more than just messages, the message-specific</span>
<a href="#l529.6"></a><span id="l529.6">  *  things should ideally lose their special hold on this file.  This will</span>
<a href="#l529.7"></a><span id="l529.7">  *  benefit readability/size as well.</span>
<a href="#l529.8"></a><span id="l529.8">  */</span>
<a href="#l529.9"></a><span id="l529.9"> </span>
<a href="#l529.10"></a><span id="l529.10"> this.EXPORTED_SYMBOLS = ['GlodaMsgIndexer'];</span>
<a href="#l529.11"></a><span id="l529.11"> </span>
<a href="#l529.12"></a><span id="l529.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l529.13"></a><span id="l529.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l529.14"></a><span id="l529.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l529.15"></a><span id="l529.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l529.16"></a><span id="l529.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l529.17"></a><span id="l529.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l529.18"></a><span id="l529.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l529.19"></a><span id="l529.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l529.20"></a><span id="l529.20"> </span>
<a href="#l529.21"></a><span id="l529.21"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l529.22"></a><span id="l529.22"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l529.23"></a><span id="l529.23"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l529.24"></a><span id="l529.24"> Cu.import(&quot;resource:///modules/MailUtils.js&quot;);</span>
<a href="#l529.25"></a><span id="l529.25"> </span>
<a href="#l529.26"></a><span id="l529.26"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l529.27"></a><span id="l529.27"> </span>
<a href="#l529.28"></a><span id="l529.28" class="difflineat">@@ -33,68 +33,68 @@ Cu.import(&quot;resource:///modules/gloda/glo</span>
<a href="#l529.29"></a><span id="l529.29"> Cu.import(&quot;resource:///modules/gloda/collection.js&quot;);</span>
<a href="#l529.30"></a><span id="l529.30"> Cu.import(&quot;resource:///modules/gloda/connotent.js&quot;);</span>
<a href="#l529.31"></a><span id="l529.31"> </span>
<a href="#l529.32"></a><span id="l529.32"> Cu.import(&quot;resource:///modules/gloda/indexer.js&quot;);</span>
<a href="#l529.33"></a><span id="l529.33"> </span>
<a href="#l529.34"></a><span id="l529.34"> Cu.import(&quot;resource:///modules/gloda/mimemsg.js&quot;);</span>
<a href="#l529.35"></a><span id="l529.35"> </span>
<a href="#l529.36"></a><span id="l529.36"> // Components.results does not have mailnews error codes!</span>
<a href="#l529.37"></a><span id="l529.37" class="difflineminus">-const NS_MSG_ERROR_FOLDER_SUMMARY_OUT_OF_DATE = 0x80550005;</span>
<a href="#l529.38"></a><span id="l529.38" class="difflineminus">-</span>
<a href="#l529.39"></a><span id="l529.39" class="difflineminus">-const GLODA_MESSAGE_ID_PROPERTY = &quot;gloda-id&quot;;</span>
<a href="#l529.40"></a><span id="l529.40" class="difflineplus">+var NS_MSG_ERROR_FOLDER_SUMMARY_OUT_OF_DATE = 0x80550005;</span>
<a href="#l529.41"></a><span id="l529.41" class="difflineplus">+</span>
<a href="#l529.42"></a><span id="l529.42" class="difflineplus">+var GLODA_MESSAGE_ID_PROPERTY = &quot;gloda-id&quot;;</span>
<a href="#l529.43"></a><span id="l529.43"> /**</span>
<a href="#l529.44"></a><span id="l529.44">  * Message header property to track dirty status; one of</span>
<a href="#l529.45"></a><span id="l529.45">  *  |GlodaIndexer.kMessageClean|, |GlodaIndexer.kMessageDirty|,</span>
<a href="#l529.46"></a><span id="l529.46">  *  |GlodaIndexer.kMessageFilthy|.</span>
<a href="#l529.47"></a><span id="l529.47">  */</span>
<a href="#l529.48"></a><span id="l529.48" class="difflineminus">-const GLODA_DIRTY_PROPERTY = &quot;gloda-dirty&quot;;</span>
<a href="#l529.49"></a><span id="l529.49" class="difflineplus">+var GLODA_DIRTY_PROPERTY = &quot;gloda-dirty&quot;;</span>
<a href="#l529.50"></a><span id="l529.50"> </span>
<a href="#l529.51"></a><span id="l529.51"> /**</span>
<a href="#l529.52"></a><span id="l529.52">  * The sentinel GLODA_MESSAGE_ID_PROPERTY value indicating that a message fails</span>
<a href="#l529.53"></a><span id="l529.53">  *  to index and we should not bother trying again, at least not until a new</span>
<a href="#l529.54"></a><span id="l529.54">  *  release is made.</span>
<a href="#l529.55"></a><span id="l529.55">  *</span>
<a href="#l529.56"></a><span id="l529.56">  * This should ideally just flip between 1 and 2, with GLODA_OLD_BAD_MESSAGE_ID</span>
<a href="#l529.57"></a><span id="l529.57">  *  flipping in the other direction.  If we start having more trailing badness,</span>
<a href="#l529.58"></a><span id="l529.58">  *  _indexerGetEnumerator and GLODA_OLD_BAD_MESSAGE_ID will need to be altered.</span>
<a href="#l529.59"></a><span id="l529.59">  *</span>
<a href="#l529.60"></a><span id="l529.60">  * When flipping this, be sure to update glodaTestHelper.js's copy.</span>
<a href="#l529.61"></a><span id="l529.61">  */</span>
<a href="#l529.62"></a><span id="l529.62" class="difflineminus">-const GLODA_BAD_MESSAGE_ID = 2;</span>
<a href="#l529.63"></a><span id="l529.63" class="difflineplus">+var GLODA_BAD_MESSAGE_ID = 2;</span>
<a href="#l529.64"></a><span id="l529.64"> /**</span>
<a href="#l529.65"></a><span id="l529.65">  * The gloda id we used to use to mark messages as bad, but now should be</span>
<a href="#l529.66"></a><span id="l529.66">  *  treated as eligible for indexing.  This is only ever used for consideration</span>
<a href="#l529.67"></a><span id="l529.67">  *  when creating msg header enumerators with `_indexerGetEnumerator` which</span>
<a href="#l529.68"></a><span id="l529.68">  *  means we only will re-index such messages in an indexing sweep.  Accordingly</span>
<a href="#l529.69"></a><span id="l529.69">  *  event-driven indexing will still treat such messages as unindexed (and</span>
<a href="#l529.70"></a><span id="l529.70">  *  unindexable) until an indexing sweep picks them up.</span>
<a href="#l529.71"></a><span id="l529.71">  */</span>
<a href="#l529.72"></a><span id="l529.72" class="difflineminus">-const GLODA_OLD_BAD_MESSAGE_ID = 1;</span>
<a href="#l529.73"></a><span id="l529.73" class="difflineminus">-const GLODA_FIRST_VALID_MESSAGE_ID = 32;</span>
<a href="#l529.74"></a><span id="l529.74" class="difflineminus">-</span>
<a href="#l529.75"></a><span id="l529.75" class="difflineminus">-const JUNK_SCORE_PROPERTY = &quot;junkscore&quot;;</span>
<a href="#l529.76"></a><span id="l529.76" class="difflineminus">-const JUNK_SPAM_SCORE_STR = Ci.nsIJunkMailPlugin.IS_SPAM_SCORE.toString();</span>
<a href="#l529.77"></a><span id="l529.77" class="difflineminus">-const JUNK_HAM_SCORE_STR = Ci.nsIJunkMailPlugin.IS_HAM_SCORE.toString();</span>
<a href="#l529.78"></a><span id="l529.78" class="difflineminus">-</span>
<a href="#l529.79"></a><span id="l529.79" class="difflineminus">-const nsIArray = Ci.nsIArray;</span>
<a href="#l529.80"></a><span id="l529.80" class="difflineminus">-const nsIMsgFolder = Ci.nsIMsgFolder;</span>
<a href="#l529.81"></a><span id="l529.81" class="difflineminus">-const nsIMsgLocalMailFolder = Ci.nsIMsgLocalMailFolder;</span>
<a href="#l529.82"></a><span id="l529.82" class="difflineminus">-const nsIMsgImapMailFolder = Ci.nsIMsgImapMailFolder;</span>
<a href="#l529.83"></a><span id="l529.83" class="difflineminus">-const nsIMsgDBHdr = Ci.nsIMsgDBHdr;</span>
<a href="#l529.84"></a><span id="l529.84" class="difflineminus">-const nsMsgFolderFlags = Ci.nsMsgFolderFlags;</span>
<a href="#l529.85"></a><span id="l529.85" class="difflineminus">-const nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l529.86"></a><span id="l529.86" class="difflineminus">-const nsMsgProcessingFlags = Ci.nsMsgProcessingFlags;</span>
<a href="#l529.87"></a><span id="l529.87" class="difflineplus">+var GLODA_OLD_BAD_MESSAGE_ID = 1;</span>
<a href="#l529.88"></a><span id="l529.88" class="difflineplus">+var GLODA_FIRST_VALID_MESSAGE_ID = 32;</span>
<a href="#l529.89"></a><span id="l529.89" class="difflineplus">+</span>
<a href="#l529.90"></a><span id="l529.90" class="difflineplus">+var JUNK_SCORE_PROPERTY = &quot;junkscore&quot;;</span>
<a href="#l529.91"></a><span id="l529.91" class="difflineplus">+var JUNK_SPAM_SCORE_STR = Ci.nsIJunkMailPlugin.IS_SPAM_SCORE.toString();</span>
<a href="#l529.92"></a><span id="l529.92" class="difflineplus">+var JUNK_HAM_SCORE_STR = Ci.nsIJunkMailPlugin.IS_HAM_SCORE.toString();</span>
<a href="#l529.93"></a><span id="l529.93" class="difflineplus">+</span>
<a href="#l529.94"></a><span id="l529.94" class="difflineplus">+var nsIArray = Ci.nsIArray;</span>
<a href="#l529.95"></a><span id="l529.95" class="difflineplus">+var nsIMsgFolder = Ci.nsIMsgFolder;</span>
<a href="#l529.96"></a><span id="l529.96" class="difflineplus">+var nsIMsgLocalMailFolder = Ci.nsIMsgLocalMailFolder;</span>
<a href="#l529.97"></a><span id="l529.97" class="difflineplus">+var nsIMsgImapMailFolder = Ci.nsIMsgImapMailFolder;</span>
<a href="#l529.98"></a><span id="l529.98" class="difflineplus">+var nsIMsgDBHdr = Ci.nsIMsgDBHdr;</span>
<a href="#l529.99"></a><span id="l529.99" class="difflineplus">+var nsMsgFolderFlags = Ci.nsMsgFolderFlags;</span>
<a href="#l529.100"></a><span id="l529.100" class="difflineplus">+var nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l529.101"></a><span id="l529.101" class="difflineplus">+var nsMsgProcessingFlags = Ci.nsMsgProcessingFlags;</span>
<a href="#l529.102"></a><span id="l529.102"> </span>
<a href="#l529.103"></a><span id="l529.103"> /**</span>
<a href="#l529.104"></a><span id="l529.104">  * The processing flags that tell us that a message header has not yet been</span>
<a href="#l529.105"></a><span id="l529.105">  *  reported to us via msgsClassified.  If it has one of these flags, it is</span>
<a href="#l529.106"></a><span id="l529.106">  *  still being processed.</span>
<a href="#l529.107"></a><span id="l529.107">  */</span>
<a href="#l529.108"></a><span id="l529.108" class="difflineminus">-const NOT_YET_REPORTED_PROCESSING_FLAGS =</span>
<a href="#l529.109"></a><span id="l529.109" class="difflineplus">+var NOT_YET_REPORTED_PROCESSING_FLAGS =</span>
<a href="#l529.110"></a><span id="l529.110">   nsMsgProcessingFlags.NotReportedClassified |</span>
<a href="#l529.111"></a><span id="l529.111">   nsMsgProcessingFlags.ClassifyJunk;</span>
<a href="#l529.112"></a><span id="l529.112"> </span>
<a href="#l529.113"></a><span id="l529.113"> // for list comprehension fun</span>
<a href="#l529.114"></a><span id="l529.114"> function range(begin, end) {</span>
<a href="#l529.115"></a><span id="l529.115">   for (let i = begin; i &lt; end; ++i) {</span>
<a href="#l529.116"></a><span id="l529.116">     yield i;</span>
<a href="#l529.117"></a><span id="l529.117">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l530.1"></a><span id="l530.1" class="difflineminus">--- a/mailnews/db/gloda/modules/indexer.js</span>
<a href="#l530.2"></a><span id="l530.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/indexer.js</span>
<a href="#l530.3"></a><span id="l530.3" class="difflineat">@@ -7,20 +7,20 @@</span>
<a href="#l530.4"></a><span id="l530.4">  *  indexing with a very explicit message indexing implementation.  As gloda</span>
<a href="#l530.5"></a><span id="l530.5">  *  will eventually want to index more than just messages, the message-specific</span>
<a href="#l530.6"></a><span id="l530.6">  *  things should ideally lose their special hold on this file.  This will</span>
<a href="#l530.7"></a><span id="l530.7">  *  benefit readability/size as well.</span>
<a href="#l530.8"></a><span id="l530.8">  */</span>
<a href="#l530.9"></a><span id="l530.9"> </span>
<a href="#l530.10"></a><span id="l530.10"> this.EXPORTED_SYMBOLS = ['GlodaIndexer', 'IndexingJob'];</span>
<a href="#l530.11"></a><span id="l530.11"> </span>
<a href="#l530.12"></a><span id="l530.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l530.13"></a><span id="l530.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l530.14"></a><span id="l530.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l530.15"></a><span id="l530.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l530.16"></a><span id="l530.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l530.17"></a><span id="l530.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l530.18"></a><span id="l530.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l530.19"></a><span id="l530.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l530.20"></a><span id="l530.20"> </span>
<a href="#l530.21"></a><span id="l530.21"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l530.22"></a><span id="l530.22"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l530.23"></a><span id="l530.23"> Cu.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l530.24"></a><span id="l530.24"> </span>
<a href="#l530.25"></a><span id="l530.25"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l530.26"></a><span id="l530.26"> </span>
<a href="#l530.27"></a><span id="l530.27"> Cu.import(&quot;resource:///modules/gloda/utils.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l531.1"></a><span id="l531.1" class="difflineminus">--- a/mailnews/db/gloda/modules/log4moz.js</span>
<a href="#l531.2"></a><span id="l531.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/log4moz.js</span>
<a href="#l531.3"></a><span id="l531.3" class="difflineat">@@ -1,39 +1,39 @@</span>
<a href="#l531.4"></a><span id="l531.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l531.5"></a><span id="l531.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l531.6"></a><span id="l531.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l531.7"></a><span id="l531.7"> </span>
<a href="#l531.8"></a><span id="l531.8"> this.EXPORTED_SYMBOLS = ['Log4Moz'];</span>
<a href="#l531.9"></a><span id="l531.9"> </span>
<a href="#l531.10"></a><span id="l531.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l531.11"></a><span id="l531.11"> </span>
<a href="#l531.12"></a><span id="l531.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l531.13"></a><span id="l531.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l531.14"></a><span id="l531.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l531.15"></a><span id="l531.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l531.16"></a><span id="l531.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l531.17"></a><span id="l531.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l531.18"></a><span id="l531.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l531.19"></a><span id="l531.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l531.20"></a><span id="l531.20"> </span>
<a href="#l531.21"></a><span id="l531.21" class="difflineminus">-const MODE_RDONLY   = 0x01;</span>
<a href="#l531.22"></a><span id="l531.22" class="difflineminus">-const MODE_WRONLY   = 0x02;</span>
<a href="#l531.23"></a><span id="l531.23" class="difflineminus">-const MODE_CREATE   = 0x08;</span>
<a href="#l531.24"></a><span id="l531.24" class="difflineminus">-const MODE_APPEND   = 0x10;</span>
<a href="#l531.25"></a><span id="l531.25" class="difflineminus">-const MODE_TRUNCATE = 0x20;</span>
<a href="#l531.26"></a><span id="l531.26" class="difflineplus">+var MODE_RDONLY   = 0x01;</span>
<a href="#l531.27"></a><span id="l531.27" class="difflineplus">+var MODE_WRONLY   = 0x02;</span>
<a href="#l531.28"></a><span id="l531.28" class="difflineplus">+var MODE_CREATE   = 0x08;</span>
<a href="#l531.29"></a><span id="l531.29" class="difflineplus">+var MODE_APPEND   = 0x10;</span>
<a href="#l531.30"></a><span id="l531.30" class="difflineplus">+var MODE_TRUNCATE = 0x20;</span>
<a href="#l531.31"></a><span id="l531.31"> </span>
<a href="#l531.32"></a><span id="l531.32" class="difflineminus">-const PERMS_FILE      = parseInt(&quot;0644&quot;, 8);</span>
<a href="#l531.33"></a><span id="l531.33" class="difflineminus">-const PERMS_DIRECTORY = parseInt(&quot;0755&quot;, 8);</span>
<a href="#l531.34"></a><span id="l531.34" class="difflineplus">+var PERMS_FILE      = parseInt(&quot;0644&quot;, 8);</span>
<a href="#l531.35"></a><span id="l531.35" class="difflineplus">+var PERMS_DIRECTORY = parseInt(&quot;0755&quot;, 8);</span>
<a href="#l531.36"></a><span id="l531.36"> </span>
<a href="#l531.37"></a><span id="l531.37" class="difflineminus">-const ONE_BYTE = 1;</span>
<a href="#l531.38"></a><span id="l531.38" class="difflineminus">-const ONE_KILOBYTE = 1024 * ONE_BYTE;</span>
<a href="#l531.39"></a><span id="l531.39" class="difflineminus">-const ONE_MEGABYTE = 1024 * ONE_KILOBYTE;</span>
<a href="#l531.40"></a><span id="l531.40" class="difflineplus">+var ONE_BYTE = 1;</span>
<a href="#l531.41"></a><span id="l531.41" class="difflineplus">+var ONE_KILOBYTE = 1024 * ONE_BYTE;</span>
<a href="#l531.42"></a><span id="l531.42" class="difflineplus">+var ONE_MEGABYTE = 1024 * ONE_KILOBYTE;</span>
<a href="#l531.43"></a><span id="l531.43"> </span>
<a href="#l531.44"></a><span id="l531.44" class="difflineminus">-const DEFAULT_NETWORK_TIMEOUT_DELAY = 5;</span>
<a href="#l531.45"></a><span id="l531.45" class="difflineplus">+var DEFAULT_NETWORK_TIMEOUT_DELAY = 5;</span>
<a href="#l531.46"></a><span id="l531.46"> </span>
<a href="#l531.47"></a><span id="l531.47" class="difflineminus">-const CDATA_START = &quot;&lt;![CDATA[&quot;;</span>
<a href="#l531.48"></a><span id="l531.48" class="difflineminus">-const CDATA_END = &quot;]]&gt;&quot;;</span>
<a href="#l531.49"></a><span id="l531.49" class="difflineminus">-const CDATA_ESCAPED_END = CDATA_END + &quot;]]&amp;gt;&quot; + CDATA_START;</span>
<a href="#l531.50"></a><span id="l531.50" class="difflineplus">+var CDATA_START = &quot;&lt;![CDATA[&quot;;</span>
<a href="#l531.51"></a><span id="l531.51" class="difflineplus">+var CDATA_END = &quot;]]&gt;&quot;;</span>
<a href="#l531.52"></a><span id="l531.52" class="difflineplus">+var CDATA_ESCAPED_END = CDATA_END + &quot;]]&amp;gt;&quot; + CDATA_START;</span>
<a href="#l531.53"></a><span id="l531.53"> </span>
<a href="#l531.54"></a><span id="l531.54"> var Log4Moz = {</span>
<a href="#l531.55"></a><span id="l531.55">   Level: {</span>
<a href="#l531.56"></a><span id="l531.56">     Fatal:  70,</span>
<a href="#l531.57"></a><span id="l531.57">     Error:  60,</span>
<a href="#l531.58"></a><span id="l531.58">     Warn:   50,</span>
<a href="#l531.59"></a><span id="l531.59">     Info:   40,</span>
<a href="#l531.60"></a><span id="l531.60">     Config: 30,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l532.1"></a><span id="l532.1" class="difflineminus">--- a/mailnews/db/gloda/modules/mimemsg.js</span>
<a href="#l532.2"></a><span id="l532.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/mimemsg.js</span>
<a href="#l532.3"></a><span id="l532.3" class="difflineat">@@ -2,25 +2,25 @@</span>
<a href="#l532.4"></a><span id="l532.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l532.5"></a><span id="l532.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l532.6"></a><span id="l532.6"> </span>
<a href="#l532.7"></a><span id="l532.7"> this.EXPORTED_SYMBOLS = ['MsgHdrToMimeMessage',</span>
<a href="#l532.8"></a><span id="l532.8">                           'MimeMessage', 'MimeContainer',</span>
<a href="#l532.9"></a><span id="l532.9">                           'MimeBody', 'MimeUnknown',</span>
<a href="#l532.10"></a><span id="l532.10">                           'MimeMessageAttachment'];</span>
<a href="#l532.11"></a><span id="l532.11"> </span>
<a href="#l532.12"></a><span id="l532.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l532.13"></a><span id="l532.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l532.14"></a><span id="l532.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l532.15"></a><span id="l532.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l532.16"></a><span id="l532.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l532.17"></a><span id="l532.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l532.18"></a><span id="l532.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l532.19"></a><span id="l532.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l532.20"></a><span id="l532.20"> </span>
<a href="#l532.21"></a><span id="l532.21"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l532.22"></a><span id="l532.22"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l532.23"></a><span id="l532.23"> </span>
<a href="#l532.24"></a><span id="l532.24" class="difflineminus">-const EMITTER_MIME_CODE = &quot;application/x-js-mime-message&quot;;</span>
<a href="#l532.25"></a><span id="l532.25" class="difflineplus">+var EMITTER_MIME_CODE = &quot;application/x-js-mime-message&quot;;</span>
<a href="#l532.26"></a><span id="l532.26"> </span>
<a href="#l532.27"></a><span id="l532.27"> /**</span>
<a href="#l532.28"></a><span id="l532.28">  * The URL listener is surplus because the CallbackStreamListener ends up</span>
<a href="#l532.29"></a><span id="l532.29">  *  getting the same set of events, effectively.</span>
<a href="#l532.30"></a><span id="l532.30">  */</span>
<a href="#l532.31"></a><span id="l532.31"> var dumbUrlListener = {</span>
<a href="#l532.32"></a><span id="l532.32">   OnStartRunningUrl: function (aUrl) {</span>
<a href="#l532.33"></a><span id="l532.33">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l533.1"></a><span id="l533.1" class="difflineminus">--- a/mailnews/db/gloda/modules/msg_search.js</span>
<a href="#l533.2"></a><span id="l533.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/msg_search.js</span>
<a href="#l533.3"></a><span id="l533.3" class="difflineat">@@ -1,34 +1,34 @@</span>
<a href="#l533.4"></a><span id="l533.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l533.5"></a><span id="l533.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l533.6"></a><span id="l533.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l533.7"></a><span id="l533.7"> </span>
<a href="#l533.8"></a><span id="l533.8"> this.EXPORTED_SYMBOLS = [&quot;GlodaMsgSearcher&quot;];</span>
<a href="#l533.9"></a><span id="l533.9"> </span>
<a href="#l533.10"></a><span id="l533.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l533.11"></a><span id="l533.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l533.12"></a><span id="l533.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l533.13"></a><span id="l533.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l533.14"></a><span id="l533.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l533.15"></a><span id="l533.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l533.16"></a><span id="l533.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l533.17"></a><span id="l533.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l533.18"></a><span id="l533.18"> </span>
<a href="#l533.19"></a><span id="l533.19"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l533.20"></a><span id="l533.20"> Cu.import(&quot;resource:///modules/gloda/public.js&quot;);</span>
<a href="#l533.21"></a><span id="l533.21"> </span>
<a href="#l533.22"></a><span id="l533.22"> /**</span>
<a href="#l533.23"></a><span id="l533.23">  * How much time boost should a 'score point' amount to?  The authoritative,</span>
<a href="#l533.24"></a><span id="l533.24">  *  incontrivertible answer, across all time and space, is a week.</span>
<a href="#l533.25"></a><span id="l533.25">  *  Note that gloda stores timestamps as PRTimes for no exceedingly good</span>
<a href="#l533.26"></a><span id="l533.26">  *  reason.</span>
<a href="#l533.27"></a><span id="l533.27">  */</span>
<a href="#l533.28"></a><span id="l533.28" class="difflineminus">-const FUZZSCORE_TIMESTAMP_FACTOR = 1000 * 1000 * 60 * 60 * 24 * 7;</span>
<a href="#l533.29"></a><span id="l533.29" class="difflineplus">+var FUZZSCORE_TIMESTAMP_FACTOR = 1000 * 1000 * 60 * 60 * 24 * 7;</span>
<a href="#l533.30"></a><span id="l533.30"> </span>
<a href="#l533.31"></a><span id="l533.31" class="difflineminus">-const RANK_USAGE =</span>
<a href="#l533.32"></a><span id="l533.32" class="difflineplus">+var RANK_USAGE =</span>
<a href="#l533.33"></a><span id="l533.33">   &quot;glodaRank(matchinfo(messagesText), 1.0, 2.0, 2.0, 1.5, 1.5)&quot;;</span>
<a href="#l533.34"></a><span id="l533.34"> </span>
<a href="#l533.35"></a><span id="l533.35" class="difflineminus">-const DASCORE =</span>
<a href="#l533.36"></a><span id="l533.36" class="difflineplus">+var DASCORE =</span>
<a href="#l533.37"></a><span id="l533.37">   &quot;(((&quot; + RANK_USAGE + &quot; + messages.notability) * &quot; +</span>
<a href="#l533.38"></a><span id="l533.38">     FUZZSCORE_TIMESTAMP_FACTOR +</span>
<a href="#l533.39"></a><span id="l533.39">    &quot;) + messages.date)&quot;;</span>
<a href="#l533.40"></a><span id="l533.40"> </span>
<a href="#l533.41"></a><span id="l533.41"> /**</span>
<a href="#l533.42"></a><span id="l533.42">  * A new optimization decision we are making is that we do not want to carry</span>
<a href="#l533.43"></a><span id="l533.43">  *  around any data in our ephemeral tables that is not used for whittling the</span>
<a href="#l533.44"></a><span id="l533.44">  *  result set.  The idea is that the btree page cache or OS cache is going to</span>
<a href="#l533.45"></a><span id="l533.45" class="difflineat">@@ -68,17 +68,17 @@ const DASCORE =</span>
<a href="#l533.46"></a><span id="l533.46">  *    the inclusion of the offsets() invocation.  The messages table lookup</span>
<a href="#l533.47"></a><span id="l533.47">  *    should not involve any disk traffic because the pages should still be</span>
<a href="#l533.48"></a><span id="l533.48">  *    cached (SQLite or OS) from phase 1.  The messagesText lookup is new, and</span>
<a href="#l533.49"></a><span id="l533.49">  *    this is the major disk-seek reduction optimization we are making.  (Since</span>
<a href="#l533.50"></a><span id="l533.50">  *    we avoid this lookup for all of the documents that were excluded by the</span>
<a href="#l533.51"></a><span id="l533.51">  *    LIMIT.)  Since offsets() also needs to retrieve the row from messagesText</span>
<a href="#l533.52"></a><span id="l533.52">  *    there is a nice synergy there.</span>
<a href="#l533.53"></a><span id="l533.53">  */</span>
<a href="#l533.54"></a><span id="l533.54" class="difflineminus">-const NUEVO_FULLTEXT_SQL =</span>
<a href="#l533.55"></a><span id="l533.55" class="difflineplus">+var NUEVO_FULLTEXT_SQL =</span>
<a href="#l533.56"></a><span id="l533.56">   &quot;SELECT messages.*, messagesText.*, offsets(messagesText) AS osets &quot; +</span>
<a href="#l533.57"></a><span id="l533.57">   &quot;FROM messagesText, messages &quot; +</span>
<a href="#l533.58"></a><span id="l533.58">   &quot;WHERE&quot; +</span>
<a href="#l533.59"></a><span id="l533.59">     &quot; messagesText MATCH ?1 &quot; +</span>
<a href="#l533.60"></a><span id="l533.60">     &quot; AND messagesText.docid IN (&quot; +</span>
<a href="#l533.61"></a><span id="l533.61">        &quot;SELECT docid &quot; +</span>
<a href="#l533.62"></a><span id="l533.62">        &quot;FROM messagesText JOIN messages ON messagesText.docid = messages.id &quot; +</span>
<a href="#l533.63"></a><span id="l533.63">        &quot;WHERE messagesText MATCH ?1 &quot; +</span>
<a href="#l533.64"></a><span id="l533.64" class="difflineat">@@ -114,33 +114,33 @@ function reduceSum(accum, curValue) {</span>
<a href="#l533.65"></a><span id="l533.65">  *  slightly and recipient a bit more in this case because a search that</span>
<a href="#l533.66"></a><span id="l533.66">  *  entirely matches just on a person should give a mention of that person</span>
<a href="#l533.67"></a><span id="l533.67">  *  in the subject or attachment a fighting chance.</span>
<a href="#l533.68"></a><span id="l533.68">  * Keep in mind that because of our indexing in the face of address book</span>
<a href="#l533.69"></a><span id="l533.69">  *  contacts (namely, we index the name used in the e-mail as well as the</span>
<a href="#l533.70"></a><span id="l533.70">  *  display name on the address book card associated with the e-mail adress)</span>
<a href="#l533.71"></a><span id="l533.71">  *  a contact is going to bias towards matching multiple times.</span>
<a href="#l533.72"></a><span id="l533.72">  */</span>
<a href="#l533.73"></a><span id="l533.73" class="difflineminus">-const COLUMN_ALL_MATCH_SCORES = [4, 20, 20, 16, 12];</span>
<a href="#l533.74"></a><span id="l533.74" class="difflineplus">+var COLUMN_ALL_MATCH_SCORES = [4, 20, 20, 16, 12];</span>
<a href="#l533.75"></a><span id="l533.75"> /**</span>
<a href="#l533.76"></a><span id="l533.76">  * Score for each distinct term that matches in the column.  This is capped</span>
<a href="#l533.77"></a><span id="l533.77">  *  by COLUMN_ALL_SCORES.</span>
<a href="#l533.78"></a><span id="l533.78">  */</span>
<a href="#l533.79"></a><span id="l533.79" class="difflineminus">-const COLUMN_PARTIAL_PER_MATCH_SCORES = [1, 4, 4, 4, 3];</span>
<a href="#l533.80"></a><span id="l533.80" class="difflineplus">+var COLUMN_PARTIAL_PER_MATCH_SCORES = [1, 4, 4, 4, 3];</span>
<a href="#l533.81"></a><span id="l533.81"> /**</span>
<a href="#l533.82"></a><span id="l533.82">  * If a term matches multiple times, what is the marginal score for each</span>
<a href="#l533.83"></a><span id="l533.83">  *  additional match.  We count the total number of matches beyond the</span>
<a href="#l533.84"></a><span id="l533.84">  *  first match for each term.  In other words, if we have 3 terms which</span>
<a href="#l533.85"></a><span id="l533.85">  *  matched 5, 3, and 0 times, then the total from our perspective is</span>
<a href="#l533.86"></a><span id="l533.86">  *  (5 - 1) + (3 - 1) + 0 = 4 + 2 + 0 = 6.  We take the minimum of that value</span>
<a href="#l533.87"></a><span id="l533.87">  *  and the value in COLUMN_MULTIPLE_MATCH_LIMIT and multiply by the value in</span>
<a href="#l533.88"></a><span id="l533.88">  *  COLUMN_MULTIPLE_MATCH_SCORES.</span>
<a href="#l533.89"></a><span id="l533.89">  */</span>
<a href="#l533.90"></a><span id="l533.90" class="difflineminus">-const COLUMN_MULTIPLE_MATCH_SCORES = [1, 0, 0, 0, 0];</span>
<a href="#l533.91"></a><span id="l533.91" class="difflineminus">-const COLUMN_MULTIPLE_MATCH_LIMIT = [10, 0, 0, 0, 0];</span>
<a href="#l533.92"></a><span id="l533.92" class="difflineplus">+var COLUMN_MULTIPLE_MATCH_SCORES = [1, 0, 0, 0, 0];</span>
<a href="#l533.93"></a><span id="l533.93" class="difflineplus">+var COLUMN_MULTIPLE_MATCH_LIMIT = [10, 0, 0, 0, 0];</span>
<a href="#l533.94"></a><span id="l533.94"> </span>
<a href="#l533.95"></a><span id="l533.95"> /**</span>
<a href="#l533.96"></a><span id="l533.96">  * Score the message on its offsets (from stashedColumns).</span>
<a href="#l533.97"></a><span id="l533.97">  */</span>
<a href="#l533.98"></a><span id="l533.98"> function scoreOffsets(aMessage, aContext) {</span>
<a href="#l533.99"></a><span id="l533.99">   let score = 0;</span>
<a href="#l533.100"></a><span id="l533.100"> </span>
<a href="#l533.101"></a><span id="l533.101">   let termTemplate = [0 for each (term in Iterator(aContext.terms, true))];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l534.1"></a><span id="l534.1" class="difflineminus">--- a/mailnews/db/gloda/modules/noun_freetag.js</span>
<a href="#l534.2"></a><span id="l534.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/noun_freetag.js</span>
<a href="#l534.3"></a><span id="l534.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l534.4"></a><span id="l534.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l534.5"></a><span id="l534.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l534.6"></a><span id="l534.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l534.7"></a><span id="l534.7"> </span>
<a href="#l534.8"></a><span id="l534.8"> this.EXPORTED_SYMBOLS = ['FreeTag', 'FreeTagNoun'];</span>
<a href="#l534.9"></a><span id="l534.9"> </span>
<a href="#l534.10"></a><span id="l534.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l534.11"></a><span id="l534.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l534.12"></a><span id="l534.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l534.13"></a><span id="l534.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l534.14"></a><span id="l534.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l534.15"></a><span id="l534.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l534.16"></a><span id="l534.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l534.17"></a><span id="l534.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l534.18"></a><span id="l534.18"> </span>
<a href="#l534.19"></a><span id="l534.19"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l534.20"></a><span id="l534.20"> </span>
<a href="#l534.21"></a><span id="l534.21"> Cu.import(&quot;resource:///modules/gloda/gloda.js&quot;);</span>
<a href="#l534.22"></a><span id="l534.22"> </span>
<a href="#l534.23"></a><span id="l534.23"> function FreeTag(aTagName) {</span>
<a href="#l534.24"></a><span id="l534.24">   this.name = aTagName;</span>
<a href="#l534.25"></a><span id="l534.25"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l535.1"></a><span id="l535.1" class="difflineminus">--- a/mailnews/db/gloda/modules/noun_mimetype.js</span>
<a href="#l535.2"></a><span id="l535.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/noun_mimetype.js</span>
<a href="#l535.3"></a><span id="l535.3" class="difflineat">@@ -1,23 +1,23 @@</span>
<a href="#l535.4"></a><span id="l535.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l535.5"></a><span id="l535.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l535.6"></a><span id="l535.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l535.7"></a><span id="l535.7"> </span>
<a href="#l535.8"></a><span id="l535.8"> this.EXPORTED_SYMBOLS = ['MimeType', 'MimeTypeNoun'];</span>
<a href="#l535.9"></a><span id="l535.9"> </span>
<a href="#l535.10"></a><span id="l535.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l535.11"></a><span id="l535.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l535.12"></a><span id="l535.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l535.13"></a><span id="l535.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l535.14"></a><span id="l535.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l535.15"></a><span id="l535.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l535.16"></a><span id="l535.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l535.17"></a><span id="l535.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l535.18"></a><span id="l535.18"> </span>
<a href="#l535.19"></a><span id="l535.19"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l535.20"></a><span id="l535.20"> Cu.import(&quot;resource:///modules/StringBundle.js&quot;);</span>
<a href="#l535.21"></a><span id="l535.21"> </span>
<a href="#l535.22"></a><span id="l535.22" class="difflineminus">-const LOG = Log4Moz.repository.getLogger(&quot;gloda.noun.mimetype&quot;);</span>
<a href="#l535.23"></a><span id="l535.23" class="difflineplus">+var LOG = Log4Moz.repository.getLogger(&quot;gloda.noun.mimetype&quot;);</span>
<a href="#l535.24"></a><span id="l535.24"> </span>
<a href="#l535.25"></a><span id="l535.25"> Cu.import(&quot;resource:///modules/gloda/gloda.js&quot;);</span>
<a href="#l535.26"></a><span id="l535.26"> </span>
<a href="#l535.27"></a><span id="l535.27"> var CategoryStringMap = {};</span>
<a href="#l535.28"></a><span id="l535.28"> </span>
<a href="#l535.29"></a><span id="l535.29"> /**</span>
<a href="#l535.30"></a><span id="l535.30">  * Mime type abstraction that exists primarily so we can map mime types to</span>
<a href="#l535.31"></a><span id="l535.31">  *  integer id's.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l536.1"></a><span id="l536.1" class="difflineminus">--- a/mailnews/db/gloda/modules/noun_tag.js</span>
<a href="#l536.2"></a><span id="l536.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/noun_tag.js</span>
<a href="#l536.3"></a><span id="l536.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l536.4"></a><span id="l536.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l536.5"></a><span id="l536.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l536.6"></a><span id="l536.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l536.7"></a><span id="l536.7"> </span>
<a href="#l536.8"></a><span id="l536.8"> this.EXPORTED_SYMBOLS = ['TagNoun'];</span>
<a href="#l536.9"></a><span id="l536.9"> </span>
<a href="#l536.10"></a><span id="l536.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l536.11"></a><span id="l536.11"> </span>
<a href="#l536.12"></a><span id="l536.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l536.13"></a><span id="l536.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l536.14"></a><span id="l536.14" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l536.15"></a><span id="l536.15" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l536.16"></a><span id="l536.16" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l536.17"></a><span id="l536.17" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l536.18"></a><span id="l536.18" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l536.19"></a><span id="l536.19" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l536.20"></a><span id="l536.20"> </span>
<a href="#l536.21"></a><span id="l536.21"> Cu.import(&quot;resource:///modules/gloda/gloda.js&quot;);</span>
<a href="#l536.22"></a><span id="l536.22"> </span>
<a href="#l536.23"></a><span id="l536.23"> /**</span>
<a href="#l536.24"></a><span id="l536.24">  * @namespace Tag noun provider.</span>
<a href="#l536.25"></a><span id="l536.25">  */</span>
<a href="#l536.26"></a><span id="l536.26"> var TagNoun = {</span>
<a href="#l536.27"></a><span id="l536.27">   name: &quot;tag&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l537.1"></a><span id="l537.1" class="difflineminus">--- a/mailnews/db/gloda/modules/public.js</span>
<a href="#l537.2"></a><span id="l537.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/public.js</span>
<a href="#l537.3"></a><span id="l537.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l537.4"></a><span id="l537.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l537.5"></a><span id="l537.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l537.6"></a><span id="l537.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l537.7"></a><span id="l537.7"> </span>
<a href="#l537.8"></a><span id="l537.8"> this.EXPORTED_SYMBOLS = [&quot;Gloda&quot;];</span>
<a href="#l537.9"></a><span id="l537.9"> </span>
<a href="#l537.10"></a><span id="l537.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l537.11"></a><span id="l537.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l537.12"></a><span id="l537.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l537.13"></a><span id="l537.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l537.14"></a><span id="l537.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l537.15"></a><span id="l537.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l537.16"></a><span id="l537.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l537.17"></a><span id="l537.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l537.18"></a><span id="l537.18"> </span>
<a href="#l537.19"></a><span id="l537.19"> Cu.import(&quot;resource:///modules/gloda/gloda.js&quot;);</span>
<a href="#l537.20"></a><span id="l537.20"> Cu.import(&quot;resource:///modules/gloda/everybody.js&quot;);</span>
<a href="#l537.21"></a><span id="l537.21"> Cu.import(&quot;resource:///modules/gloda/indexer.js&quot;);</span>
<a href="#l537.22"></a><span id="l537.22"> // initialize the indexer! (who was actually imported as a nested dep by the</span>
<a href="#l537.23"></a><span id="l537.23"> //  things everybody.js imported.)  We waited until now so it could know about</span>
<a href="#l537.24"></a><span id="l537.24"> //  its indexers.</span>
<a href="#l537.25"></a><span id="l537.25"> GlodaIndexer._init();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l538.1"></a><span id="l538.1" class="difflineminus">--- a/mailnews/db/gloda/modules/query.js</span>
<a href="#l538.2"></a><span id="l538.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/query.js</span>
<a href="#l538.3"></a><span id="l538.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l538.4"></a><span id="l538.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l538.5"></a><span id="l538.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l538.6"></a><span id="l538.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l538.7"></a><span id="l538.7"> </span>
<a href="#l538.8"></a><span id="l538.8"> this.EXPORTED_SYMBOLS = [&quot;GlodaQueryClassFactory&quot;];</span>
<a href="#l538.9"></a><span id="l538.9"> </span>
<a href="#l538.10"></a><span id="l538.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l538.11"></a><span id="l538.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l538.12"></a><span id="l538.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l538.13"></a><span id="l538.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l538.14"></a><span id="l538.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l538.15"></a><span id="l538.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l538.16"></a><span id="l538.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l538.17"></a><span id="l538.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l538.18"></a><span id="l538.18"> </span>
<a href="#l538.19"></a><span id="l538.19"> Cu.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l538.20"></a><span id="l538.20"> </span>
<a href="#l538.21"></a><span id="l538.21"> // GlodaDatastore has some constants we need, and oddly enough, there was no</span>
<a href="#l538.22"></a><span id="l538.22"> //  load dependency preventing us from doing this.</span>
<a href="#l538.23"></a><span id="l538.23"> Cu.import(&quot;resource:///modules/gloda/datastore.js&quot;);</span>
<a href="#l538.24"></a><span id="l538.24"> </span>
<a href="#l538.25"></a><span id="l538.25"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l539.1"></a><span id="l539.1" class="difflineminus">--- a/mailnews/db/gloda/modules/utils.js</span>
<a href="#l539.2"></a><span id="l539.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/utils.js</span>
<a href="#l539.3"></a><span id="l539.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l539.4"></a><span id="l539.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l539.5"></a><span id="l539.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l539.6"></a><span id="l539.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l539.7"></a><span id="l539.7"> </span>
<a href="#l539.8"></a><span id="l539.8"> this.EXPORTED_SYMBOLS = ['GlodaUtils'];</span>
<a href="#l539.9"></a><span id="l539.9"> </span>
<a href="#l539.10"></a><span id="l539.10" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l539.11"></a><span id="l539.11" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l539.12"></a><span id="l539.12" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l539.13"></a><span id="l539.13" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l539.14"></a><span id="l539.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l539.15"></a><span id="l539.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l539.16"></a><span id="l539.16" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l539.17"></a><span id="l539.17" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l539.18"></a><span id="l539.18"> </span>
<a href="#l539.19"></a><span id="l539.19"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l539.20"></a><span id="l539.20"> </span>
<a href="#l539.21"></a><span id="l539.21"> /**</span>
<a href="#l539.22"></a><span id="l539.22">  * @namespace A holding place for logic that is not gloda-specific and should</span>
<a href="#l539.23"></a><span id="l539.23">  *  reside elsewhere.</span>
<a href="#l539.24"></a><span id="l539.24">  */</span>
<a href="#l539.25"></a><span id="l539.25"> var GlodaUtils = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l540.1"></a><span id="l540.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/base_index_junk.js</span>
<a href="#l540.2"></a><span id="l540.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/base_index_junk.js</span>
<a href="#l540.3"></a><span id="l540.3" class="difflineat">@@ -9,18 +9,18 @@</span>
<a href="#l540.4"></a><span id="l540.4">  * A similar test that moving things to the trash folder is deletion happens in</span>
<a href="#l540.5"></a><span id="l540.5">  *  base_index_messages.js.</span>
<a href="#l540.6"></a><span id="l540.6">  */</span>
<a href="#l540.7"></a><span id="l540.7"> </span>
<a href="#l540.8"></a><span id="l540.8"> load(&quot;resources/glodaTestHelper.js&quot;);</span>
<a href="#l540.9"></a><span id="l540.9"> </span>
<a href="#l540.10"></a><span id="l540.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l540.11"></a><span id="l540.11"> </span>
<a href="#l540.12"></a><span id="l540.12" class="difflineminus">-const SPAM_BODY = {body: &quot;superspam superspam superspam eevil eevil eevil&quot;};</span>
<a href="#l540.13"></a><span id="l540.13" class="difflineminus">-const HAM_BODY = {body: &quot;ham ham ham nice nice nice happy happy happy&quot;};</span>
<a href="#l540.14"></a><span id="l540.14" class="difflineplus">+var SPAM_BODY = {body: &quot;superspam superspam superspam eevil eevil eevil&quot;};</span>
<a href="#l540.15"></a><span id="l540.15" class="difflineplus">+var HAM_BODY = {body: &quot;ham ham ham nice nice nice happy happy happy&quot;};</span>
<a href="#l540.16"></a><span id="l540.16"> </span>
<a href="#l540.17"></a><span id="l540.17"> /**</span>
<a href="#l540.18"></a><span id="l540.18">  * Make SPAM_BODY be known as spammy and HAM_BODY be known as hammy.</span>
<a href="#l540.19"></a><span id="l540.19">  */</span>
<a href="#l540.20"></a><span id="l540.20"> function setup_spam_filter() {</span>
<a href="#l540.21"></a><span id="l540.21">   let [folder, spamSet, hamSet] = make_folder_with_sets([</span>
<a href="#l540.22"></a><span id="l540.22">     {count: 1, body: SPAM_BODY}, {count: 1, body: HAM_BODY}]);</span>
<a href="#l540.23"></a><span id="l540.23">   yield wait_for_message_injection();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l541.1"></a><span id="l541.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/base_query_messages.js</span>
<a href="#l541.2"></a><span id="l541.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/base_query_messages.js</span>
<a href="#l541.3"></a><span id="l541.3" class="difflineat">@@ -87,21 +87,21 @@ function uniqueTermGenerator(aNum) {</span>
<a href="#l541.4"></a><span id="l541.4">     let l = String.fromCharCode(97 + (aNum % 26));</span>
<a href="#l541.5"></a><span id="l541.5">     s += l + l;</span>
<a href="#l541.6"></a><span id="l541.6">     aNum = Math.floor(aNum / 26);</span>
<a href="#l541.7"></a><span id="l541.7">   }</span>
<a href="#l541.8"></a><span id="l541.8">   while(aNum)</span>
<a href="#l541.9"></a><span id="l541.9">   return s;</span>
<a href="#l541.10"></a><span id="l541.10"> }</span>
<a href="#l541.11"></a><span id="l541.11"> </span>
<a href="#l541.12"></a><span id="l541.12" class="difflineminus">-const UNIQUE_OFFSET_CONV = 0;</span>
<a href="#l541.13"></a><span id="l541.13" class="difflineminus">-const UNIQUE_OFFSET_AUTHOR = 26;</span>
<a href="#l541.14"></a><span id="l541.14" class="difflineminus">-const UNIQUE_OFFSET_BODY = 0;</span>
<a href="#l541.15"></a><span id="l541.15" class="difflineminus">-const UNIQUE_OFFSET_SUBJECT = 26 * 26;</span>
<a href="#l541.16"></a><span id="l541.16" class="difflineminus">-const UNIQUE_OFFSET_ATTACHMENT = 26 * 26 * 26;</span>
<a href="#l541.17"></a><span id="l541.17" class="difflineplus">+var UNIQUE_OFFSET_CONV = 0;</span>
<a href="#l541.18"></a><span id="l541.18" class="difflineplus">+var UNIQUE_OFFSET_AUTHOR = 26;</span>
<a href="#l541.19"></a><span id="l541.19" class="difflineplus">+var UNIQUE_OFFSET_BODY = 0;</span>
<a href="#l541.20"></a><span id="l541.20" class="difflineplus">+var UNIQUE_OFFSET_SUBJECT = 26 * 26;</span>
<a href="#l541.21"></a><span id="l541.21" class="difflineplus">+var UNIQUE_OFFSET_ATTACHMENT = 26 * 26 * 26;</span>
<a href="#l541.22"></a><span id="l541.22"> </span>
<a href="#l541.23"></a><span id="l541.23"> /**</span>
<a href="#l541.24"></a><span id="l541.24">  * Categorize a synthetic message by conversation/folder/people in the 'world'</span>
<a href="#l541.25"></a><span id="l541.25">  *  structure.  This is then used by the test code to generate and verify query</span>
<a href="#l541.26"></a><span id="l541.26">  *  data.</span>
<a href="#l541.27"></a><span id="l541.27">  *</span>
<a href="#l541.28"></a><span id="l541.28">  * @param aSynthMessage The synthetic message.</span>
<a href="#l541.29"></a><span id="l541.29">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l542.1"></a><span id="l542.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js</span>
<a href="#l542.2"></a><span id="l542.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js</span>
<a href="#l542.3"></a><span id="l542.3" class="difflineat">@@ -35,19 +35,19 @@ load(&quot;../../../../resources/messageModif</span>
<a href="#l542.4"></a><span id="l542.4"> load(&quot;../../../../resources/messageInjection.js&quot;);</span>
<a href="#l542.5"></a><span id="l542.5"> </span>
<a href="#l542.6"></a><span id="l542.6"> load(&quot;../../../../resources/folderEventLogHelper.js&quot;);</span>
<a href="#l542.7"></a><span id="l542.7"> // register this before gloda gets a chance to do anything so that</span>
<a href="#l542.8"></a><span id="l542.8"> registerFolderEventLogHelper();</span>
<a href="#l542.9"></a><span id="l542.9"> </span>
<a href="#l542.10"></a><span id="l542.10"> </span>
<a href="#l542.11"></a><span id="l542.11"> // Create a message generator</span>
<a href="#l542.12"></a><span id="l542.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l542.13"></a><span id="l542.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l542.14"></a><span id="l542.14"> // Create a message scenario generator using that message generator</span>
<a href="#l542.15"></a><span id="l542.15" class="difflineminus">-const scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l542.16"></a><span id="l542.16" class="difflineplus">+var scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l542.17"></a><span id="l542.17"> </span>
<a href="#l542.18"></a><span id="l542.18"> Components.utils.import(&quot;resource:///modules/errUtils.js&quot;);</span>
<a href="#l542.19"></a><span id="l542.19"> </span>
<a href="#l542.20"></a><span id="l542.20"> /**</span>
<a href="#l542.21"></a><span id="l542.21">  * Create a 'me' identity of &quot;me@localhost&quot; for the benefit of Gloda.  At the</span>
<a href="#l542.22"></a><span id="l542.22">  *  time of this writing, Gloda only initializes Gloda.myIdentities and</span>
<a href="#l542.23"></a><span id="l542.23">  *  Gloda.myContact at startup with no event-driven updates.  As such, this</span>
<a href="#l542.24"></a><span id="l542.24">  *  function needs to be called prior to gloda startup.</span>
<a href="#l542.25"></a><span id="l542.25" class="difflineat">@@ -65,17 +65,17 @@ createMeIdentity();</span>
<a href="#l542.26"></a><span id="l542.26"> Services.prefs.setBoolPref(&quot;mailnews.database.global.indexer.enabled&quot;,</span>
<a href="#l542.27"></a><span id="l542.27">                            true);</span>
<a href="#l542.28"></a><span id="l542.28"> // no to a sweep we don't control</span>
<a href="#l542.29"></a><span id="l542.29"> Services.prefs.setBoolPref(&quot;mailnews.database.global.indexer.perform_initial_sweep&quot;,</span>
<a href="#l542.30"></a><span id="l542.30">                            false);</span>
<a href="#l542.31"></a><span id="l542.31"> // yes to debug output</span>
<a href="#l542.32"></a><span id="l542.32"> Services.prefs.setBoolPref(&quot;mailnews.database.global.logging.dump&quot;, true);</span>
<a href="#l542.33"></a><span id="l542.33"> </span>
<a href="#l542.34"></a><span id="l542.34" class="difflineminus">-const ENVIRON_MAPPINGS = [</span>
<a href="#l542.35"></a><span id="l542.35" class="difflineplus">+var ENVIRON_MAPPINGS = [</span>
<a href="#l542.36"></a><span id="l542.36">   {</span>
<a href="#l542.37"></a><span id="l542.37">     envVar: &quot;GLODA_DATASTORE_EXPLAIN_TO_PATH&quot;,</span>
<a href="#l542.38"></a><span id="l542.38">     prefName: &quot;mailnews.database.global.datastore.explainToPath&quot;</span>
<a href="#l542.39"></a><span id="l542.39">   }</span>
<a href="#l542.40"></a><span id="l542.40"> ];</span>
<a href="#l542.41"></a><span id="l542.41"> </span>
<a href="#l542.42"></a><span id="l542.42"> // -- Propagate environment variables to prefs as appropriate:</span>
<a href="#l542.43"></a><span id="l542.43"> var environ = Cc[&quot;@mozilla.org/process/environment;1&quot;]</span>
<a href="#l542.44"></a><span id="l542.44" class="difflineat">@@ -101,17 +101,17 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l542.45"></a><span id="l542.45"> Components.utils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l542.46"></a><span id="l542.46"> var throwingAppender = new Log4Moz.ThrowingAppender(do_throw);</span>
<a href="#l542.47"></a><span id="l542.47"> throwingAppender.level = Log4Moz.Level.Warn;</span>
<a href="#l542.48"></a><span id="l542.48"> Log4Moz.repository.rootLogger.addAppender(throwingAppender);</span>
<a href="#l542.49"></a><span id="l542.49"> </span>
<a href="#l542.50"></a><span id="l542.50"> var LOG = Log4Moz.repository.getLogger(&quot;gloda.test&quot;);</span>
<a href="#l542.51"></a><span id="l542.51"> </span>
<a href="#l542.52"></a><span id="l542.52"> // index_msg does not export this, so we need to provide it.</span>
<a href="#l542.53"></a><span id="l542.53" class="difflineminus">-const GLODA_BAD_MESSAGE_ID = 2,</span>
<a href="#l542.54"></a><span id="l542.54" class="difflineplus">+var GLODA_BAD_MESSAGE_ID = 2,</span>
<a href="#l542.55"></a><span id="l542.55">       GLODA_OLD_BAD_MESSAGE_ID = 1;</span>
<a href="#l542.56"></a><span id="l542.56"> </span>
<a href="#l542.57"></a><span id="l542.57"> // -- Add a hook that makes folders not filthy when we first see them.</span>
<a href="#l542.58"></a><span id="l542.58"> register_message_injection_listener({</span>
<a href="#l542.59"></a><span id="l542.59">   /**</span>
<a href="#l542.60"></a><span id="l542.60">    * By default all folders start out filthy.  This is great in the real world</span>
<a href="#l542.61"></a><span id="l542.61">    *  but I went and wrote all the unit tests without entirely thinking about</span>
<a href="#l542.62"></a><span id="l542.62">    *  how this affected said unit tests.  So we add a listener so that we can</span>
<a href="#l542.63"></a><span id="l542.63" class="difflineat">@@ -242,17 +242,17 @@ if (logHelperHasInterestedListeners) {</span>
<a href="#l542.64"></a><span id="l542.64">   let orig_cacheLookupOne = GlodaCollectionManager.cacheLookupOne;</span>
<a href="#l542.65"></a><span id="l542.65">   GlodaCollectionManager.cacheLookupOne = function() {</span>
<a href="#l542.66"></a><span id="l542.66">     let rv = orig_cacheLookupOne.apply(GlodaCollectionManager, arguments);</span>
<a href="#l542.67"></a><span id="l542.67">     mark_action(&quot;glodaWrapped&quot;, &quot;cacheLookupOne&quot;, [&quot;hit?&quot;, rv !== null]);</span>
<a href="#l542.68"></a><span id="l542.68">     return rv;</span>
<a href="#l542.69"></a><span id="l542.69">   }</span>
<a href="#l542.70"></a><span id="l542.70"> }</span>
<a href="#l542.71"></a><span id="l542.71"> </span>
<a href="#l542.72"></a><span id="l542.72" class="difflineminus">-const _wait_for_gloda_indexer_defaults = {</span>
<a href="#l542.73"></a><span id="l542.73" class="difflineplus">+var _wait_for_gloda_indexer_defaults = {</span>
<a href="#l542.74"></a><span id="l542.74">   verifier: null,</span>
<a href="#l542.75"></a><span id="l542.75">   augment: false,</span>
<a href="#l542.76"></a><span id="l542.76">   deleted: null,</span>
<a href="#l542.77"></a><span id="l542.77">   fullyIndexed: null,</span>
<a href="#l542.78"></a><span id="l542.78"> </span>
<a href="#l542.79"></a><span id="l542.79">   // Things should not be recovering or failing and cleaning up unless the test</span>
<a href="#l542.80"></a><span id="l542.80">   //  is expecting it.</span>
<a href="#l542.81"></a><span id="l542.81">   recovered: 0,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l543.1"></a><span id="l543.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_corrupt_database.js</span>
<a href="#l543.2"></a><span id="l543.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_corrupt_database.js</span>
<a href="#l543.3"></a><span id="l543.3" class="difflineat">@@ -24,18 +24,18 @@ Services.prefs.setBoolPref(&quot;mailnews.dat</span>
<a href="#l543.4"></a><span id="l543.4"> // no to a sweep we don't control</span>
<a href="#l543.5"></a><span id="l543.5"> Services.prefs.setBoolPref(&quot;mailnews.database.global.indexer.perform_initial_sweep&quot;,</span>
<a href="#l543.6"></a><span id="l543.6">                            false);</span>
<a href="#l543.7"></a><span id="l543.7"> // yes to debug output</span>
<a href="#l543.8"></a><span id="l543.8"> Services.prefs.setBoolPref(&quot;mailnews.database.global.logging.dump&quot;, true);</span>
<a href="#l543.9"></a><span id="l543.9"> </span>
<a href="#l543.10"></a><span id="l543.10"> // We'll start with this datastore ID, and make sure it gets overwritten</span>
<a href="#l543.11"></a><span id="l543.11"> // when the index is rebuilt.</span>
<a href="#l543.12"></a><span id="l543.12" class="difflineminus">-const kDatastoreIDPref = &quot;mailnews.database.global.datastore.id&quot;;</span>
<a href="#l543.13"></a><span id="l543.13" class="difflineminus">-const kOriginalDatastoreID = &quot;47e4bad6-fedc-4931-bf3f-d2f4146ac63e&quot;;</span>
<a href="#l543.14"></a><span id="l543.14" class="difflineplus">+var kDatastoreIDPref = &quot;mailnews.database.global.datastore.id&quot;;</span>
<a href="#l543.15"></a><span id="l543.15" class="difflineplus">+var kOriginalDatastoreID = &quot;47e4bad6-fedc-4931-bf3f-d2f4146ac63e&quot;;</span>
<a href="#l543.16"></a><span id="l543.16"> Services.prefs.setCharPref(kDatastoreIDPref, kOriginalDatastoreID);</span>
<a href="#l543.17"></a><span id="l543.17"> </span>
<a href="#l543.18"></a><span id="l543.18"> // -- Add a logger listener that throws when we give it a warning/error.</span>
<a href="#l543.19"></a><span id="l543.19"> Components.utils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l543.20"></a><span id="l543.20"> </span>
<a href="#l543.21"></a><span id="l543.21"> /**</span>
<a href="#l543.22"></a><span id="l543.22">  * Count the type of each severity level observed.</span>
<a href="#l543.23"></a><span id="l543.23">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l544.1"></a><span id="l544.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_index_addressbook.js</span>
<a href="#l544.2"></a><span id="l544.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_index_addressbook.js</span>
<a href="#l544.3"></a><span id="l544.3" class="difflineat">@@ -43,18 +43,18 @@ function delete_card(aEmailAddress) {</span>
<a href="#l544.4"></a><span id="l544.4">               .deleteCards(cardArray);</span>
<a href="#l544.5"></a><span id="l544.5"> }</span>
<a href="#l544.6"></a><span id="l544.6"> </span>
<a href="#l544.7"></a><span id="l544.7"> function get_cached_gloda_identity_for_email(aEmailAddress) {</span>
<a href="#l544.8"></a><span id="l544.8">   return GlodaCollectionManager.cacheLookupOneByUniqueValue(</span>
<a href="#l544.9"></a><span id="l544.9">     Gloda.NOUN_IDENTITY, &quot;email@&quot; + aEmailAddress.toLowerCase());</span>
<a href="#l544.10"></a><span id="l544.10"> }</span>
<a href="#l544.11"></a><span id="l544.11"> </span>
<a href="#l544.12"></a><span id="l544.12" class="difflineminus">-const EMAIL_ADDRESS = &quot;all.over@the.world.invalid&quot;;</span>
<a href="#l544.13"></a><span id="l544.13" class="difflineminus">-const DISPLAY_NAME = &quot;every day&quot;;</span>
<a href="#l544.14"></a><span id="l544.14" class="difflineplus">+var EMAIL_ADDRESS = &quot;all.over@the.world.invalid&quot;;</span>
<a href="#l544.15"></a><span id="l544.15" class="difflineplus">+var DISPLAY_NAME = &quot;every day&quot;;</span>
<a href="#l544.16"></a><span id="l544.16"> </span>
<a href="#l544.17"></a><span id="l544.17"> var identityCollection;</span>
<a href="#l544.18"></a><span id="l544.18"> </span>
<a href="#l544.19"></a><span id="l544.19"> /**</span>
<a href="#l544.20"></a><span id="l544.20">  * Create an e-mail so the identity can exist.</span>
<a href="#l544.21"></a><span id="l544.21">  */</span>
<a href="#l544.22"></a><span id="l544.22"> function setup_create_identity() {</span>
<a href="#l544.23"></a><span id="l544.23">   let [msgSet] = make_new_sets_in_folder(gInbox, [</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l545.1"></a><span id="l545.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_index_bad_messages.js</span>
<a href="#l545.2"></a><span id="l545.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_index_bad_messages.js</span>
<a href="#l545.3"></a><span id="l545.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l545.4"></a><span id="l545.4">  * Test that we fail on bad messages by marking the messages as bad rather than</span>
<a href="#l545.5"></a><span id="l545.5">  *  exploding or something bad like that.</span>
<a href="#l545.6"></a><span id="l545.6">  */</span>
<a href="#l545.7"></a><span id="l545.7"> </span>
<a href="#l545.8"></a><span id="l545.8"> load(&quot;resources/glodaTestHelper.js&quot;);</span>
<a href="#l545.9"></a><span id="l545.9"> </span>
<a href="#l545.10"></a><span id="l545.10"> var gInbox;</span>
<a href="#l545.11"></a><span id="l545.11"> </span>
<a href="#l545.12"></a><span id="l545.12" class="difflineminus">-const illegalMessageTemplates = [</span>
<a href="#l545.13"></a><span id="l545.13" class="difflineplus">+var illegalMessageTemplates = [</span>
<a href="#l545.14"></a><span id="l545.14">   // -- authors</span>
<a href="#l545.15"></a><span id="l545.15">   {</span>
<a href="#l545.16"></a><span id="l545.16">     name: &quot;no author&quot;,</span>
<a href="#l545.17"></a><span id="l545.17">     clobberHeaders: {</span>
<a href="#l545.18"></a><span id="l545.18">       From: &quot;&quot;</span>
<a href="#l545.19"></a><span id="l545.19">     }</span>
<a href="#l545.20"></a><span id="l545.20">   },</span>
<a href="#l545.21"></a><span id="l545.21">   {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l546.1"></a><span id="l546.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_index_sweep_folder.js</span>
<a href="#l546.2"></a><span id="l546.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_index_sweep_folder.js</span>
<a href="#l546.3"></a><span id="l546.3" class="difflineat">@@ -64,17 +64,17 @@ function _spin_folder_indexer_gen(aFolde</span>
<a href="#l546.4"></a><span id="l546.4">   if (aExpectedJobGoal !== undefined)</span>
<a href="#l546.5"></a><span id="l546.5">     do_check_eq(job.goal, aExpectedJobGoal);</span>
<a href="#l546.6"></a><span id="l546.6"> }</span>
<a href="#l546.7"></a><span id="l546.7"> </span>
<a href="#l546.8"></a><span id="l546.8"> /**</span>
<a href="#l546.9"></a><span id="l546.9">  * The value itself does not matter; it just needs to be present and be in a</span>
<a href="#l546.10"></a><span id="l546.10">  *  certain range for our logic testing.</span>
<a href="#l546.11"></a><span id="l546.11">  */</span>
<a href="#l546.12"></a><span id="l546.12" class="difflineminus">-const arbitraryGlodaId = 4096;</span>
<a href="#l546.13"></a><span id="l546.13" class="difflineplus">+var arbitraryGlodaId = 4096;</span>
<a href="#l546.14"></a><span id="l546.14"> </span>
<a href="#l546.15"></a><span id="l546.15"> /**</span>
<a href="#l546.16"></a><span id="l546.16">  * When we enter a filthy folder we should be marking all the messages as filthy</span>
<a href="#l546.17"></a><span id="l546.17">  *  that have gloda-id's and committing.</span>
<a href="#l546.18"></a><span id="l546.18">  */</span>
<a href="#l546.19"></a><span id="l546.19"> function test_propagate_filthy_from_folder_to_messages() {</span>
<a href="#l546.20"></a><span id="l546.20">   // mark the folder as filthy</span>
<a href="#l546.21"></a><span id="l546.21">   let [folder, msgSet] = make_folder_with_sets([{count: 3}]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l547.1"></a><span id="l547.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_mime_attachments_size.js</span>
<a href="#l547.2"></a><span id="l547.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_mime_attachments_size.js</span>
<a href="#l547.3"></a><span id="l547.3" class="difflineat">@@ -17,19 +17,19 @@ load(&quot;../../../../resources/asyncTestUti</span>
<a href="#l547.4"></a><span id="l547.4"> </span>
<a href="#l547.5"></a><span id="l547.5"> load(&quot;../../../../resources/messageGenerator.js&quot;);</span>
<a href="#l547.6"></a><span id="l547.6"> load(&quot;../../../../resources/messageModifier.js&quot;);</span>
<a href="#l547.7"></a><span id="l547.7"> load(&quot;../../../../resources/messageInjection.js&quot;);</span>
<a href="#l547.8"></a><span id="l547.8"> </span>
<a href="#l547.9"></a><span id="l547.9"> Components.utils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l547.10"></a><span id="l547.10"> </span>
<a href="#l547.11"></a><span id="l547.11"> // Create a message generator</span>
<a href="#l547.12"></a><span id="l547.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l547.13"></a><span id="l547.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l547.14"></a><span id="l547.14"> // Create a message scenario generator using that message generator</span>
<a href="#l547.15"></a><span id="l547.15" class="difflineminus">-const scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l547.16"></a><span id="l547.16" class="difflineplus">+var scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l547.17"></a><span id="l547.17"> </span>
<a href="#l547.18"></a><span id="l547.18"> Components.utils.import(&quot;resource:///modules/gloda/mimemsg.js&quot;);</span>
<a href="#l547.19"></a><span id="l547.19"> </span>
<a href="#l547.20"></a><span id="l547.20"> var htmlText = &quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;I am HTML! Woo! &lt;/body&gt;&lt;/html&gt;&quot;;</span>
<a href="#l547.21"></a><span id="l547.21"> </span>
<a href="#l547.22"></a><span id="l547.22"> var partHtml = new SyntheticPartLeaf(</span>
<a href="#l547.23"></a><span id="l547.23">   htmlText,</span>
<a href="#l547.24"></a><span id="l547.24">   {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l548.1"></a><span id="l548.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_mime_emitter.js</span>
<a href="#l548.2"></a><span id="l548.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_mime_emitter.js</span>
<a href="#l548.3"></a><span id="l548.3" class="difflineat">@@ -20,19 +20,19 @@</span>
<a href="#l548.4"></a><span id="l548.4"> load(&quot;../../../../resources/logHelper.js&quot;);</span>
<a href="#l548.5"></a><span id="l548.5"> load(&quot;../../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l548.6"></a><span id="l548.6"> </span>
<a href="#l548.7"></a><span id="l548.7"> load(&quot;../../../../resources/messageGenerator.js&quot;);</span>
<a href="#l548.8"></a><span id="l548.8"> load(&quot;../../../../resources/messageModifier.js&quot;);</span>
<a href="#l548.9"></a><span id="l548.9"> load(&quot;../../../../resources/messageInjection.js&quot;);</span>
<a href="#l548.10"></a><span id="l548.10"> </span>
<a href="#l548.11"></a><span id="l548.11"> // Create a message generator</span>
<a href="#l548.12"></a><span id="l548.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l548.13"></a><span id="l548.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l548.14"></a><span id="l548.14"> // Create a message scenario generator using that message generator</span>
<a href="#l548.15"></a><span id="l548.15" class="difflineminus">-const scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l548.16"></a><span id="l548.16" class="difflineplus">+var scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l548.17"></a><span id="l548.17"> </span>
<a href="#l548.18"></a><span id="l548.18"> Components.utils.import(&quot;resource:///modules/gloda/mimemsg.js&quot;);</span>
<a href="#l548.19"></a><span id="l548.19"> </span>
<a href="#l548.20"></a><span id="l548.20"> // While we're at it, we'll also test the correctness of the GlodaAttachment</span>
<a href="#l548.21"></a><span id="l548.21"> // representation, esp. its &quot;I just need the part information to rebuild the</span>
<a href="#l548.22"></a><span id="l548.22"> // URLs&quot; claim.</span>
<a href="#l548.23"></a><span id="l548.23"> Components.utils.import(&quot;resource:///modules/gloda/fundattr.js&quot;);</span>
<a href="#l548.24"></a><span id="l548.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l549.1"></a><span id="l549.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_query_core.js</span>
<a href="#l549.2"></a><span id="l549.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_query_core.js</span>
<a href="#l549.3"></a><span id="l549.3" class="difflineat">@@ -231,17 +231,17 @@ function setup_test_noun_and_attributes(</span>
<a href="#l549.4"></a><span id="l549.4">     subjectNouns: [WidgetNoun.id],</span>
<a href="#l549.5"></a><span id="l549.5">     objectNoun: Gloda.NOUN_NUMBER,</span>
<a href="#l549.6"></a><span id="l549.6">     canQuery: true,</span>
<a href="#l549.7"></a><span id="l549.7">   });</span>
<a href="#l549.8"></a><span id="l549.8"> }</span>
<a href="#l549.9"></a><span id="l549.9"> </span>
<a href="#l549.10"></a><span id="l549.10"> /* ===== Tests ===== */</span>
<a href="#l549.11"></a><span id="l549.11"> </span>
<a href="#l549.12"></a><span id="l549.12" class="difflineminus">-const ALPHABET = &quot;abcdefghijklmnopqrstuvwxyz&quot;;</span>
<a href="#l549.13"></a><span id="l549.13" class="difflineplus">+var ALPHABET = &quot;abcdefghijklmnopqrstuvwxyz&quot;;</span>
<a href="#l549.14"></a><span id="l549.14"> function test_lots_of_string_constraints() {</span>
<a href="#l549.15"></a><span id="l549.15">   let stringConstraints = [];</span>
<a href="#l549.16"></a><span id="l549.16">   for (let i = 0; i &lt; 2049; i++) {</span>
<a href="#l549.17"></a><span id="l549.17">     stringConstraints.push(ALPHABET[Math.floor(i / (ALPHABET.length * 2)) %</span>
<a href="#l549.18"></a><span id="l549.18">                                     ALPHABET.length] +</span>
<a href="#l549.19"></a><span id="l549.19">                            ALPHABET[Math.floor(i / (ALPHABET.length)) %</span>
<a href="#l549.20"></a><span id="l549.20">                                     ALPHABET.length] +</span>
<a href="#l549.21"></a><span id="l549.21">                            ALPHABET[i % ALPHABET.length] +</span>
<a href="#l549.22"></a><span id="l549.22" class="difflineat">@@ -359,27 +359,27 @@ function test_empty_set_logic() {</span>
<a href="#l549.23"></a><span id="l549.23">  */</span>
<a href="#l549.24"></a><span id="l549.24"> </span>
<a href="#l549.25"></a><span id="l549.25"> /**</span>
<a href="#l549.26"></a><span id="l549.26">  * How much time boost should a 'score point' amount to?  The authoritative,</span>
<a href="#l549.27"></a><span id="l549.27">  *  incontrivertible answer, across all time and space, is a week.</span>
<a href="#l549.28"></a><span id="l549.28">  *  Gloda and storage like to store things as PRTime and so we do it too,</span>
<a href="#l549.29"></a><span id="l549.29">  *  even though milliseconds are the actual granularity of JS Date instances.</span>
<a href="#l549.30"></a><span id="l549.30">  */</span>
<a href="#l549.31"></a><span id="l549.31" class="difflineminus">-const SCORE_TIMESTAMP_FACTOR = 1000 * 1000 * 60 * 60 * 24 * 7;</span>
<a href="#l549.32"></a><span id="l549.32" class="difflineplus">+var SCORE_TIMESTAMP_FACTOR = 1000 * 1000 * 60 * 60 * 24 * 7;</span>
<a href="#l549.33"></a><span id="l549.33"> </span>
<a href="#l549.34"></a><span id="l549.34"> /**</span>
<a href="#l549.35"></a><span id="l549.35">  * How many score points for each fulltext match?</span>
<a href="#l549.36"></a><span id="l549.36">  */</span>
<a href="#l549.37"></a><span id="l549.37" class="difflineminus">-const SCORE_FOR_FULLTEXT_MATCH = 1;</span>
<a href="#l549.38"></a><span id="l549.38" class="difflineplus">+var SCORE_FOR_FULLTEXT_MATCH = 1;</span>
<a href="#l549.39"></a><span id="l549.39"> </span>
<a href="#l549.40"></a><span id="l549.40"> /**</span>
<a href="#l549.41"></a><span id="l549.41">  * Roughly how many characters are in each offset match.</span>
<a href="#l549.42"></a><span id="l549.42">  */</span>
<a href="#l549.43"></a><span id="l549.43" class="difflineminus">-const OFFSET_CHARS_PER_FULLTEXT_MATCH = 8;</span>
<a href="#l549.44"></a><span id="l549.44" class="difflineplus">+var OFFSET_CHARS_PER_FULLTEXT_MATCH = 8;</span>
<a href="#l549.45"></a><span id="l549.45"> </span>
<a href="#l549.46"></a><span id="l549.46"> var fooWidgets = null;</span>
<a href="#l549.47"></a><span id="l549.47"> var barBazWidgets = null;</span>
<a href="#l549.48"></a><span id="l549.48"> </span>
<a href="#l549.49"></a><span id="l549.49"> function setup_search_ranking_idiom() {</span>
<a href="#l549.50"></a><span id="l549.50">   // --- build some widgets for testing.  use inum to represent the expected</span>
<a href="#l549.51"></a><span id="l549.51">   //  result sequence</span>
<a href="#l549.52"></a><span id="l549.52">   // setup a base date...</span>
<a href="#l549.53"></a><span id="l549.53" class="difflineat">@@ -406,27 +406,27 @@ function setup_search_ranking_idiom() {</span>
<a href="#l549.54"></a><span id="l549.54">     new Widget(1, origin, &quot;&quot;, 0, &quot;bar baz&quot;, &quot;bar baz bar bar&quot;), // 6 + 0</span>
<a href="#l549.55"></a><span id="l549.55">     new Widget(0, origin, &quot;&quot;, 1, &quot;bar baz&quot;, &quot;bar baz bar bar&quot;) // 7 + 0</span>
<a href="#l549.56"></a><span id="l549.56">   ];</span>
<a href="#l549.57"></a><span id="l549.57"> </span>
<a href="#l549.58"></a><span id="l549.58">   yield GenericIndexer.indexObjects(fooWidgets.concat(barBazWidgets));</span>
<a href="#l549.59"></a><span id="l549.59"> }</span>
<a href="#l549.60"></a><span id="l549.60"> </span>
<a href="#l549.61"></a><span id="l549.61"> // add one because the last snippet shouldn't have a trailing space</span>
<a href="#l549.62"></a><span id="l549.62" class="difflineminus">-const OFFSET_SCORE_SQL_SNIPPET =</span>
<a href="#l549.63"></a><span id="l549.63" class="difflineplus">+var OFFSET_SCORE_SQL_SNIPPET =</span>
<a href="#l549.64"></a><span id="l549.64">   &quot;(((length(osets) + 1) / &quot; + OFFSET_CHARS_PER_FULLTEXT_MATCH + &quot;) * &quot; +</span>
<a href="#l549.65"></a><span id="l549.65">   SCORE_FOR_FULLTEXT_MATCH + &quot;)&quot;;</span>
<a href="#l549.66"></a><span id="l549.66"> </span>
<a href="#l549.67"></a><span id="l549.67" class="difflineminus">-const SCORE_SQL_SNIPPET =</span>
<a href="#l549.68"></a><span id="l549.68" class="difflineplus">+var SCORE_SQL_SNIPPET =</span>
<a href="#l549.69"></a><span id="l549.69">   &quot;(&quot; + OFFSET_SCORE_SQL_SNIPPET + &quot; + notabilityCol)&quot;;</span>
<a href="#l549.70"></a><span id="l549.70"> </span>
<a href="#l549.71"></a><span id="l549.71" class="difflineminus">-const DASCORE_SQL_SNIPPET =</span>
<a href="#l549.72"></a><span id="l549.72" class="difflineplus">+var DASCORE_SQL_SNIPPET =</span>
<a href="#l549.73"></a><span id="l549.73">   &quot;((&quot; + SCORE_SQL_SNIPPET + &quot; * &quot; + SCORE_TIMESTAMP_FACTOR + &quot;) + dateCol)&quot;;</span>
<a href="#l549.74"></a><span id="l549.74"> </span>
<a href="#l549.75"></a><span id="l549.75" class="difflineminus">-const WIDGET_FULLTEXT_QUERY_EXPLICIT_SQL =</span>
<a href="#l549.76"></a><span id="l549.76" class="difflineplus">+var WIDGET_FULLTEXT_QUERY_EXPLICIT_SQL =</span>
<a href="#l549.77"></a><span id="l549.77">   &quot;SELECT ext_widget.*, offsets(ext_widgetText) AS osets &quot; +</span>
<a href="#l549.78"></a><span id="l549.78">     &quot;FROM ext_widget, ext_widgetText WHERE ext_widgetText MATCH ?&quot; +</span>
<a href="#l549.79"></a><span id="l549.79">     &quot; AND ext_widget.id == ext_widgetText.docid&quot;;</span>
<a href="#l549.80"></a><span id="l549.80"> </span>
<a href="#l549.81"></a><span id="l549.81"> /**</span>
<a href="#l549.82"></a><span id="l549.82">  * Used by queryExpect to verify</span>
<a href="#l549.83"></a><span id="l549.83">  */</span>
<a href="#l549.84"></a><span id="l549.84"> function verify_widget_order_and_stashing(aZeroBasedIndex, aWidget,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l550.1"></a><span id="l550.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_smime_mimemsg_representation.js</span>
<a href="#l550.2"></a><span id="l550.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_smime_mimemsg_representation.js</span>
<a href="#l550.3"></a><span id="l550.3" class="difflineat">@@ -8,17 +8,17 @@</span>
<a href="#l550.4"></a><span id="l550.4">  */</span>
<a href="#l550.5"></a><span id="l550.5"> load(&quot;../../../../resources/logHelper.js&quot;);</span>
<a href="#l550.6"></a><span id="l550.6"> load(&quot;../../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l550.7"></a><span id="l550.7"> </span>
<a href="#l550.8"></a><span id="l550.8"> load(&quot;../../../../resources/messageGenerator.js&quot;);</span>
<a href="#l550.9"></a><span id="l550.9"> load(&quot;../../../../resources/messageModifier.js&quot;);</span>
<a href="#l550.10"></a><span id="l550.10"> load(&quot;../../../../resources/messageInjection.js&quot;);</span>
<a href="#l550.11"></a><span id="l550.11"> </span>
<a href="#l550.12"></a><span id="l550.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l550.13"></a><span id="l550.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l550.14"></a><span id="l550.14"> </span>
<a href="#l550.15"></a><span id="l550.15"> Components.utils.import(&quot;resource:///modules/FileUtils.jsm&quot;);</span>
<a href="#l550.16"></a><span id="l550.16"> Components.utils.import(&quot;resource:///modules/gloda/mimemsg.js&quot;);</span>
<a href="#l550.17"></a><span id="l550.17"> </span>
<a href="#l550.18"></a><span id="l550.18"> function initNSS() {</span>
<a href="#l550.19"></a><span id="l550.19">   // Copy the NSS database files over.</span>
<a href="#l550.20"></a><span id="l550.20">   let profile = FileUtils.getDir(&quot;ProfD&quot;, []);</span>
<a href="#l550.21"></a><span id="l550.21">   let files = ['cert8.db', 'key3.db', 'secmod.db'];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l551.1"></a><span id="l551.1" class="difflineminus">--- a/mailnews/db/msgdb/test/unit/test_enumerator_cleanup.js</span>
<a href="#l551.2"></a><span id="l551.2" class="difflineplus">+++ b/mailnews/db/msgdb/test/unit/test_enumerator_cleanup.js</span>
<a href="#l551.3"></a><span id="l551.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l551.4"></a><span id="l551.4"> /*</span>
<a href="#l551.5"></a><span id="l551.5">  * Test nsMsgDatabase's cleanup of nsMsgDBEnumerators</span>
<a href="#l551.6"></a><span id="l551.6">  */</span>
<a href="#l551.7"></a><span id="l551.7"> </span>
<a href="#l551.8"></a><span id="l551.8"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l551.9"></a><span id="l551.9"> </span>
<a href="#l551.10"></a><span id="l551.10" class="difflineminus">-const anyOldMessage = do_get_file(&quot;../../../../data/bugmail1&quot;);</span>
<a href="#l551.11"></a><span id="l551.11" class="difflineplus">+var anyOldMessage = do_get_file(&quot;../../../../data/bugmail1&quot;);</span>
<a href="#l551.12"></a><span id="l551.12"> </span>
<a href="#l551.13"></a><span id="l551.13"> /**</span>
<a href="#l551.14"></a><span id="l551.14">  * Test closing a db with an outstanding enumerator.</span>
<a href="#l551.15"></a><span id="l551.15">  */</span>
<a href="#l551.16"></a><span id="l551.16"> function test_enumerator_cleanup() {</span>
<a href="#l551.17"></a><span id="l551.17">   let db = localAccountUtils.inboxFolder.msgDatabase;</span>
<a href="#l551.18"></a><span id="l551.18">   let enumerator = db.EnumerateMessages();</span>
<a href="#l551.19"></a><span id="l551.19">   Cc[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l552.1"></a><span id="l552.1" class="difflineminus">--- a/mailnews/db/msgdb/test/unit/test_filter_enumerator.js</span>
<a href="#l552.2"></a><span id="l552.2" class="difflineplus">+++ b/mailnews/db/msgdb/test/unit/test_filter_enumerator.js</span>
<a href="#l552.3"></a><span id="l552.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l552.4"></a><span id="l552.4"> load(&quot;../../../../resources/messageGenerator.js&quot;);</span>
<a href="#l552.5"></a><span id="l552.5"> </span>
<a href="#l552.6"></a><span id="l552.6"> var gMessages = [];</span>
<a href="#l552.7"></a><span id="l552.7" class="difflineminus">-const nsMsgSearchScope  = Ci.nsMsgSearchScope;</span>
<a href="#l552.8"></a><span id="l552.8" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l552.9"></a><span id="l552.9" class="difflineminus">-const nsMsgSearchOp     = Ci.nsMsgSearchOp;</span>
<a href="#l552.10"></a><span id="l552.10" class="difflineminus">-const nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l552.11"></a><span id="l552.11" class="difflineminus">-const nsMsgFolderFlags = Ci.nsMsgFolderFlags;</span>
<a href="#l552.12"></a><span id="l552.12" class="difflineplus">+var nsMsgSearchScope  = Ci.nsMsgSearchScope;</span>
<a href="#l552.13"></a><span id="l552.13" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l552.14"></a><span id="l552.14" class="difflineplus">+var nsMsgSearchOp     = Ci.nsMsgSearchOp;</span>
<a href="#l552.15"></a><span id="l552.15" class="difflineplus">+var nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l552.16"></a><span id="l552.16" class="difflineplus">+var nsMsgFolderFlags = Ci.nsMsgFolderFlags;</span>
<a href="#l552.17"></a><span id="l552.17"> </span>
<a href="#l552.18"></a><span id="l552.18" class="difflineminus">-const kSetCount = 13;</span>
<a href="#l552.19"></a><span id="l552.19" class="difflineminus">-const kNumExpectedMatches = 10;</span>
<a href="#l552.20"></a><span id="l552.20" class="difflineplus">+var kSetCount = 13;</span>
<a href="#l552.21"></a><span id="l552.21" class="difflineplus">+var kNumExpectedMatches = 10;</span>
<a href="#l552.22"></a><span id="l552.22"> </span>
<a href="#l552.23"></a><span id="l552.23"> function setupGlobals()</span>
<a href="#l552.24"></a><span id="l552.24"> {</span>
<a href="#l552.25"></a><span id="l552.25">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l552.26"></a><span id="l552.26">   // Create a message generator</span>
<a href="#l552.27"></a><span id="l552.27">   let messageGenerator = new MessageGenerator();</span>
<a href="#l552.28"></a><span id="l552.28">   let localInbox = localAccountUtils.inboxFolder.QueryInterface(Ci.nsIMsgLocalMailFolder);</span>
<a href="#l552.29"></a><span id="l552.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l553.1"></a><span id="l553.1" class="difflineminus">--- a/mailnews/db/msgdb/test/unit/test_maildb.js</span>
<a href="#l553.2"></a><span id="l553.2" class="difflineplus">+++ b/mailnews/db/msgdb/test/unit/test_maildb.js</span>
<a href="#l553.3"></a><span id="l553.3" class="difflineat">@@ -3,19 +3,19 @@</span>
<a href="#l553.4"></a><span id="l553.4">  * Test suite for msg database functions.</span>
<a href="#l553.5"></a><span id="l553.5">  */</span>
<a href="#l553.6"></a><span id="l553.6"> </span>
<a href="#l553.7"></a><span id="l553.7"> load(&quot;../../../../resources/messageGenerator.js&quot;);</span>
<a href="#l553.8"></a><span id="l553.8"> </span>
<a href="#l553.9"></a><span id="l553.9"> var dbService;</span>
<a href="#l553.10"></a><span id="l553.10"> var gTestFolder;</span>
<a href="#l553.11"></a><span id="l553.11"> var gCurTestNum = 0;</span>
<a href="#l553.12"></a><span id="l553.12" class="difflineminus">-const kNumTestMessages = 10;</span>
<a href="#l553.13"></a><span id="l553.13" class="difflineplus">+var kNumTestMessages = 10;</span>
<a href="#l553.14"></a><span id="l553.14"> </span>
<a href="#l553.15"></a><span id="l553.15" class="difflineminus">-const gTestArray =</span>
<a href="#l553.16"></a><span id="l553.16" class="difflineplus">+var gTestArray =</span>
<a href="#l553.17"></a><span id="l553.17"> [</span>
<a href="#l553.18"></a><span id="l553.18">   function test_db_open() {</span>
<a href="#l553.19"></a><span id="l553.19">     dbService = Components.classes[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span>
<a href="#l553.20"></a><span id="l553.20">                             .getService(Components.interfaces.nsIMsgDBService);</span>
<a href="#l553.21"></a><span id="l553.21">     // Get the root folder</span>
<a href="#l553.22"></a><span id="l553.22">     let root = localAccountUtils.incomingServer.rootFolder;</span>
<a href="#l553.23"></a><span id="l553.23">     root.createSubfolder(&quot;dbTest&quot;, null);</span>
<a href="#l553.24"></a><span id="l553.24">     gTestFolder = root.getChildNamed(&quot;dbTest&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l554.1"></a><span id="l554.1" class="difflineminus">--- a/mailnews/db/msgdb/test/unit/test_references_parsing.js</span>
<a href="#l554.2"></a><span id="l554.2" class="difflineplus">+++ b/mailnews/db/msgdb/test/unit/test_references_parsing.js</span>
<a href="#l554.3"></a><span id="l554.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l554.4"></a><span id="l554.4"> /*</span>
<a href="#l554.5"></a><span id="l554.5">  * Test nsMsgHdr's In-Reply-To/References parsing logic.</span>
<a href="#l554.6"></a><span id="l554.6">  */</span>
<a href="#l554.7"></a><span id="l554.7"> </span>
<a href="#l554.8"></a><span id="l554.8"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l554.9"></a><span id="l554.9"> </span>
<a href="#l554.10"></a><span id="l554.10" class="difflineminus">-const anyOldMessage = do_get_file(&quot;../../../../data/bugmail1&quot;);</span>
<a href="#l554.11"></a><span id="l554.11" class="difflineplus">+var anyOldMessage = do_get_file(&quot;../../../../data/bugmail1&quot;);</span>
<a href="#l554.12"></a><span id="l554.12"> </span>
<a href="#l554.13"></a><span id="l554.13"> var refsAndResults = [</span>
<a href="#l554.14"></a><span id="l554.14">   // an empty string is not a reference.</span>
<a href="#l554.15"></a><span id="l554.15">   [&quot;&quot;, []],</span>
<a href="#l554.16"></a><span id="l554.16">   // super valid things</span>
<a href="#l554.17"></a><span id="l554.17">   [&quot;&lt;abc@def&gt;&quot;, [&quot;abc@def&quot;]],</span>
<a href="#l554.18"></a><span id="l554.18">   [&quot;&lt;up@down&gt; &lt;left@right&gt; &lt;ying@yang&gt;&quot;,</span>
<a href="#l554.19"></a><span id="l554.19">     [&quot;up@down&quot;, &quot;left@right&quot;, &quot;ying@yang&quot;]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l555.1"></a><span id="l555.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js</span>
<a href="#l555.2"></a><span id="l555.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js</span>
<a href="#l555.3"></a><span id="l555.3" class="difflineat">@@ -9,19 +9,19 @@</span>
<a href="#l555.4"></a><span id="l555.4"> load(&quot;resources/trainingfile.js&quot;);</span>
<a href="#l555.5"></a><span id="l555.5"> </span>
<a href="#l555.6"></a><span id="l555.6"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l555.7"></a><span id="l555.7"> </span>
<a href="#l555.8"></a><span id="l555.8"> // before shrink, the trained messages have 76 tokens. Force shrink.</span>
<a href="#l555.9"></a><span id="l555.9"> Services.prefs.setIntPref(&quot;mailnews.bayesian_spam_filter.junk_maxtokens&quot;, 75);</span>
<a href="#l555.10"></a><span id="l555.10"> </span>
<a href="#l555.11"></a><span id="l555.11"> // local constants</span>
<a href="#l555.12"></a><span id="l555.12" class="difflineminus">-const kUnclassified = MailServices.junk.UNCLASSIFIED;</span>
<a href="#l555.13"></a><span id="l555.13" class="difflineminus">-const kJunk = MailServices.junk.JUNK;</span>
<a href="#l555.14"></a><span id="l555.14" class="difflineminus">-const kGood = MailServices.junk.GOOD;</span>
<a href="#l555.15"></a><span id="l555.15" class="difflineplus">+var kUnclassified = MailServices.junk.UNCLASSIFIED;</span>
<a href="#l555.16"></a><span id="l555.16" class="difflineplus">+var kJunk = MailServices.junk.JUNK;</span>
<a href="#l555.17"></a><span id="l555.17" class="difflineplus">+var kGood = MailServices.junk.GOOD;</span>
<a href="#l555.18"></a><span id="l555.18"> </span>
<a href="#l555.19"></a><span id="l555.19"> var emails =          [ &quot;ham1.eml&quot;,  &quot;ham2.eml&quot;,  &quot;spam1.eml&quot;,</span>
<a href="#l555.20"></a><span id="l555.20">                         &quot;spam2.eml&quot;, &quot;spam3.eml&quot;, &quot;spam4.eml&quot; ];</span>
<a href="#l555.21"></a><span id="l555.21"> var classifications = [ kGood,       kGood,       kJunk,</span>
<a href="#l555.22"></a><span id="l555.22">                         kJunk,       kJunk,       kJunk ];</span>
<a href="#l555.23"></a><span id="l555.23"> var trainingData;</span>
<a href="#l555.24"></a><span id="l555.24"> </span>
<a href="#l555.25"></a><span id="l555.25"> // main test</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l556.1"></a><span id="l556.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/test/unit/test_customTokenization.js</span>
<a href="#l556.2"></a><span id="l556.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/test/unit/test_customTokenization.js</span>
<a href="#l556.3"></a><span id="l556.3" class="difflineat">@@ -2,23 +2,23 @@</span>
<a href="#l556.4"></a><span id="l556.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l556.5"></a><span id="l556.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l556.6"></a><span id="l556.6"> </span>
<a href="#l556.7"></a><span id="l556.7"> // Tests use of custom tokenization, originally introduced in bug 476389</span>
<a href="#l556.8"></a><span id="l556.8"> </span>
<a href="#l556.9"></a><span id="l556.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l556.10"></a><span id="l556.10"> </span>
<a href="#l556.11"></a><span id="l556.11"> // command functions for test data</span>
<a href="#l556.12"></a><span id="l556.12" class="difflineminus">-const kTrain = 0;  // train a file</span>
<a href="#l556.13"></a><span id="l556.13" class="difflineminus">-const kTest = 1;   // test headers returned from detail</span>
<a href="#l556.14"></a><span id="l556.14" class="difflineminus">-const kSetup = 2;  // run a setup function</span>
<a href="#l556.15"></a><span id="l556.15" class="difflineplus">+var kTrain = 0;  // train a file</span>
<a href="#l556.16"></a><span id="l556.16" class="difflineplus">+var kTest = 1;   // test headers returned from detail</span>
<a href="#l556.17"></a><span id="l556.17" class="difflineplus">+var kSetup = 2;  // run a setup function</span>
<a href="#l556.18"></a><span id="l556.18"> </span>
<a href="#l556.19"></a><span id="l556.19"> // trait ids</span>
<a href="#l556.20"></a><span id="l556.20" class="difflineminus">-const kProArray = [3];</span>
<a href="#l556.21"></a><span id="l556.21" class="difflineminus">-const kAntiArray = [4];</span>
<a href="#l556.22"></a><span id="l556.22" class="difflineplus">+var kProArray = [3];</span>
<a href="#l556.23"></a><span id="l556.23" class="difflineplus">+var kAntiArray = [4];</span>
<a href="#l556.24"></a><span id="l556.24"> </span>
<a href="#l556.25"></a><span id="l556.25"> var gTest; // currently active test</span>
<a href="#l556.26"></a><span id="l556.26"> </span>
<a href="#l556.27"></a><span id="l556.27"> // The tests array defines the tests to attempt.</span>
<a href="#l556.28"></a><span id="l556.28"> </span>
<a href="#l556.29"></a><span id="l556.29"> var tests =</span>
<a href="#l556.30"></a><span id="l556.30"> [</span>
<a href="#l556.31"></a><span id="l556.31">   // test a few tokens using defaults</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l557.1"></a><span id="l557.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/test/unit/test_junkAsTraits.js</span>
<a href="#l557.2"></a><span id="l557.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/test/unit/test_junkAsTraits.js</span>
<a href="#l557.3"></a><span id="l557.3" class="difflineat">@@ -6,32 +6,32 @@</span>
<a href="#l557.4"></a><span id="l557.4"> // messages using both the older junk-oriented calls, as well as the newer</span>
<a href="#l557.5"></a><span id="l557.5"> // trait-oriented calls. Only a single trait is tested. The main intent of</span>
<a href="#l557.6"></a><span id="l557.6"> // these tests is to demonstrate that both the old junk-oriented calls and the</span>
<a href="#l557.7"></a><span id="l557.7"> // new trait-oriented calls give the same results on junk processing.</span>
<a href="#l557.8"></a><span id="l557.8"> </span>
<a href="#l557.9"></a><span id="l557.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l557.10"></a><span id="l557.10"> </span>
<a href="#l557.11"></a><span id="l557.11"> // local constants</span>
<a href="#l557.12"></a><span id="l557.12" class="difflineminus">-const kUnclassified = MailServices.junk.UNCLASSIFIED;</span>
<a href="#l557.13"></a><span id="l557.13" class="difflineminus">-const kJunk = MailServices.junk.JUNK;</span>
<a href="#l557.14"></a><span id="l557.14" class="difflineminus">-const kGood = MailServices.junk.GOOD;</span>
<a href="#l557.15"></a><span id="l557.15" class="difflineminus">-const kJunkTrait = MailServices.junk.JUNK_TRAIT;</span>
<a href="#l557.16"></a><span id="l557.16" class="difflineminus">-const kGoodTrait = MailServices.junk.GOOD_TRAIT;</span>
<a href="#l557.17"></a><span id="l557.17" class="difflineminus">-const kIsHamScore = MailServices.junk.IS_HAM_SCORE;</span>
<a href="#l557.18"></a><span id="l557.18" class="difflineminus">-const kIsSpamScore = MailServices.junk.IS_SPAM_SCORE;</span>
<a href="#l557.19"></a><span id="l557.19" class="difflineplus">+var kUnclassified = MailServices.junk.UNCLASSIFIED;</span>
<a href="#l557.20"></a><span id="l557.20" class="difflineplus">+var kJunk = MailServices.junk.JUNK;</span>
<a href="#l557.21"></a><span id="l557.21" class="difflineplus">+var kGood = MailServices.junk.GOOD;</span>
<a href="#l557.22"></a><span id="l557.22" class="difflineplus">+var kJunkTrait = MailServices.junk.JUNK_TRAIT;</span>
<a href="#l557.23"></a><span id="l557.23" class="difflineplus">+var kGoodTrait = MailServices.junk.GOOD_TRAIT;</span>
<a href="#l557.24"></a><span id="l557.24" class="difflineplus">+var kIsHamScore = MailServices.junk.IS_HAM_SCORE;</span>
<a href="#l557.25"></a><span id="l557.25" class="difflineplus">+var kIsSpamScore = MailServices.junk.IS_SPAM_SCORE;</span>
<a href="#l557.26"></a><span id="l557.26"> </span>
<a href="#l557.27"></a><span id="l557.27"> // command functions for test data</span>
<a href="#l557.28"></a><span id="l557.28" class="difflineminus">-const kTrainJ = 0;  // train using junk method</span>
<a href="#l557.29"></a><span id="l557.29" class="difflineminus">-const kTrainT = 1;  // train using trait method</span>
<a href="#l557.30"></a><span id="l557.30" class="difflineminus">-const kClassJ = 2;  // classify using junk method</span>
<a href="#l557.31"></a><span id="l557.31" class="difflineminus">-const kClassT = 3;  // classify using trait method</span>
<a href="#l557.32"></a><span id="l557.32" class="difflineminus">-const kForgetJ = 4; // forget training using junk method</span>
<a href="#l557.33"></a><span id="l557.33" class="difflineminus">-const kForgetT = 5; // forget training using trait method</span>
<a href="#l557.34"></a><span id="l557.34" class="difflineminus">-const kCounts = 6;  // test token and message counts</span>
<a href="#l557.35"></a><span id="l557.35" class="difflineplus">+var kTrainJ = 0;  // train using junk method</span>
<a href="#l557.36"></a><span id="l557.36" class="difflineplus">+var kTrainT = 1;  // train using trait method</span>
<a href="#l557.37"></a><span id="l557.37" class="difflineplus">+var kClassJ = 2;  // classify using junk method</span>
<a href="#l557.38"></a><span id="l557.38" class="difflineplus">+var kClassT = 3;  // classify using trait method</span>
<a href="#l557.39"></a><span id="l557.39" class="difflineplus">+var kForgetJ = 4; // forget training using junk method</span>
<a href="#l557.40"></a><span id="l557.40" class="difflineplus">+var kForgetT = 5; // forget training using trait method</span>
<a href="#l557.41"></a><span id="l557.41" class="difflineplus">+var kCounts = 6;  // test token and message counts</span>
<a href="#l557.42"></a><span id="l557.42"> </span>
<a href="#l557.43"></a><span id="l557.43"> var gProArray = [], gAntiArray = []; // traits arrays, pro is junk, anti is good</span>
<a href="#l557.44"></a><span id="l557.44"> var gTest; // currently active test</span>
<a href="#l557.45"></a><span id="l557.45"> </span>
<a href="#l557.46"></a><span id="l557.46"> // The tests array defines the tests to attempt. Format of</span>
<a href="#l557.47"></a><span id="l557.47"> // an element &quot;test&quot; of this array (except for kCounts):</span>
<a href="#l557.48"></a><span id="l557.48"> //</span>
<a href="#l557.49"></a><span id="l557.49"> //   test.command: function to perform, see definitions above</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l558.1"></a><span id="l558.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/test/unit/test_traitAliases.js</span>
<a href="#l558.2"></a><span id="l558.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/test/unit/test_traitAliases.js</span>
<a href="#l558.3"></a><span id="l558.3" class="difflineat">@@ -34,22 +34,22 @@</span>
<a href="#l558.4"></a><span id="l558.4">  *</span>
<a href="#l558.5"></a><span id="l558.5">  * alias1.eml        92             98</span>
<a href="#l558.6"></a><span id="l558.6">  * alias2.eml         8              3</span>
<a href="#l558.7"></a><span id="l558.7">  * alias3.eml        50             53</span>
<a href="#l558.8"></a><span id="l558.8">  */</span>
<a href="#l558.9"></a><span id="l558.9"> </span>
<a href="#l558.10"></a><span id="l558.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l558.11"></a><span id="l558.11"> </span>
<a href="#l558.12"></a><span id="l558.12" class="difflineminus">-const traitService = Cc[&quot;@mozilla.org/msg-trait-service;1&quot;]</span>
<a href="#l558.13"></a><span id="l558.13" class="difflineplus">+var traitService = Cc[&quot;@mozilla.org/msg-trait-service;1&quot;]</span>
<a href="#l558.14"></a><span id="l558.14">                        .getService(Ci.nsIMsgTraitService);</span>
<a href="#l558.15"></a><span id="l558.15" class="difflineminus">-const kProTrait = 1001;</span>
<a href="#l558.16"></a><span id="l558.16" class="difflineminus">-const kAntiTrait = 1005;</span>
<a href="#l558.17"></a><span id="l558.17" class="difflineminus">-const kProAlias = 1007;</span>
<a href="#l558.18"></a><span id="l558.18" class="difflineminus">-const kAntiAlias = 1009;</span>
<a href="#l558.19"></a><span id="l558.19" class="difflineplus">+var kProTrait = 1001;</span>
<a href="#l558.20"></a><span id="l558.20" class="difflineplus">+var kAntiTrait = 1005;</span>
<a href="#l558.21"></a><span id="l558.21" class="difflineplus">+var kProAlias = 1007;</span>
<a href="#l558.22"></a><span id="l558.22" class="difflineplus">+var kAntiAlias = 1009;</span>
<a href="#l558.23"></a><span id="l558.23"> </span>
<a href="#l558.24"></a><span id="l558.24"> var gTest; // currently active test</span>
<a href="#l558.25"></a><span id="l558.25"> </span>
<a href="#l558.26"></a><span id="l558.26"> // The tests array defines the tests to attempt. Format of</span>
<a href="#l558.27"></a><span id="l558.27"> // an element &quot;test&quot; of this array:</span>
<a href="#l558.28"></a><span id="l558.28"> //</span>
<a href="#l558.29"></a><span id="l558.29"> //   test.fileName: file containing message to test</span>
<a href="#l558.30"></a><span id="l558.30"> //   test.proAliases: array of aliases for the pro trait</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l559.1"></a><span id="l559.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js</span>
<a href="#l559.2"></a><span id="l559.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js</span>
<a href="#l559.3"></a><span id="l559.3" class="difflineat">@@ -6,20 +6,20 @@</span>
<a href="#l559.4"></a><span id="l559.4"> </span>
<a href="#l559.5"></a><span id="l559.5"> // I make this an instance so that I know I can reset and get</span>
<a href="#l559.6"></a><span id="l559.6"> // a completely new component. Should be getService in production code.</span>
<a href="#l559.7"></a><span id="l559.7"> var nsIJunkMailPlugin =</span>
<a href="#l559.8"></a><span id="l559.8">   Cc[&quot;@mozilla.org/messenger/filter-plugin;1?name=bayesianfilter&quot;]</span>
<a href="#l559.9"></a><span id="l559.9">     .createInstance(Ci.nsIJunkMailPlugin);</span>
<a href="#l559.10"></a><span id="l559.10"> </span>
<a href="#l559.11"></a><span id="l559.11"> // command functions for test data</span>
<a href="#l559.12"></a><span id="l559.12" class="difflineminus">-const kTrain = 0;  // train a file as a trait</span>
<a href="#l559.13"></a><span id="l559.13" class="difflineminus">-const kClass = 1;  // classify files with traits</span>
<a href="#l559.14"></a><span id="l559.14" class="difflineminus">-const kReset = 2;  // reload plugin, reading in data from disk</span>
<a href="#l559.15"></a><span id="l559.15" class="difflineminus">-const kDetail = 3; // test details</span>
<a href="#l559.16"></a><span id="l559.16" class="difflineplus">+var kTrain = 0;  // train a file as a trait</span>
<a href="#l559.17"></a><span id="l559.17" class="difflineplus">+var kClass = 1;  // classify files with traits</span>
<a href="#l559.18"></a><span id="l559.18" class="difflineplus">+var kReset = 2;  // reload plugin, reading in data from disk</span>
<a href="#l559.19"></a><span id="l559.19" class="difflineplus">+var kDetail = 3; // test details</span>
<a href="#l559.20"></a><span id="l559.20"> </span>
<a href="#l559.21"></a><span id="l559.21"> var gTest; // currently active test</span>
<a href="#l559.22"></a><span id="l559.22"> </span>
<a href="#l559.23"></a><span id="l559.23"> // The tests array defines the tests to attempt. Format of</span>
<a href="#l559.24"></a><span id="l559.24"> // an element &quot;test&quot; of this array:</span>
<a href="#l559.25"></a><span id="l559.25"> //</span>
<a href="#l559.26"></a><span id="l559.26"> //   test.command: function to perform, see definitions above</span>
<a href="#l559.27"></a><span id="l559.27"> //   test.fileName: file(s) containing message(s) to test</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l560.1"></a><span id="l560.1" class="difflineminus">--- a/mailnews/extensions/dsn/src/dsn-service.js</span>
<a href="#l560.2"></a><span id="l560.2" class="difflineplus">+++ b/mailnews/extensions/dsn/src/dsn-service.js</span>
<a href="#l560.3"></a><span id="l560.3" class="difflineat">@@ -16,9 +16,9 @@ DSNService.prototype = {</span>
<a href="#l560.4"></a><span id="l560.4">             server.type != &quot;none&quot;);</span>
<a href="#l560.5"></a><span id="l560.5">   },</span>
<a href="#l560.6"></a><span id="l560.6"> </span>
<a href="#l560.7"></a><span id="l560.7">   QueryInterface: XPCOMUtils.generateQI([Components.interfaces.nsIMsgAccountManagerExtension]),</span>
<a href="#l560.8"></a><span id="l560.8">   classID: Components.ID(&quot;{849dab91-9bc9-4508-a0ee-c2453e7c092d}&quot;),</span>
<a href="#l560.9"></a><span id="l560.9"> };</span>
<a href="#l560.10"></a><span id="l560.10"> </span>
<a href="#l560.11"></a><span id="l560.11"> var components = [DSNService];</span>
<a href="#l560.12"></a><span id="l560.12" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l560.13"></a><span id="l560.13" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l561.1"></a><span id="l561.1" class="difflineminus">--- a/mailnews/extensions/mdn/src/mdn-service.js</span>
<a href="#l561.2"></a><span id="l561.2" class="difflineplus">+++ b/mailnews/extensions/mdn/src/mdn-service.js</span>
<a href="#l561.3"></a><span id="l561.3" class="difflineat">@@ -16,9 +16,9 @@ MDNService.prototype = {</span>
<a href="#l561.4"></a><span id="l561.4">             server.type != &quot;im&quot; &amp;&amp; server.type != &quot;none&quot;);</span>
<a href="#l561.5"></a><span id="l561.5">   },</span>
<a href="#l561.6"></a><span id="l561.6"> </span>
<a href="#l561.7"></a><span id="l561.7">   QueryInterface: XPCOMUtils.generateQI([Components.interfaces.nsIMsgAccountManagerExtension]),</span>
<a href="#l561.8"></a><span id="l561.8">   classID: Components.ID(&quot;{e007d92e-1dd1-11b2-a61e-dc962c9b8571}&quot;),</span>
<a href="#l561.9"></a><span id="l561.9"> };</span>
<a href="#l561.10"></a><span id="l561.10"> </span>
<a href="#l561.11"></a><span id="l561.11"> var components = [MDNService];</span>
<a href="#l561.12"></a><span id="l561.12" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l561.13"></a><span id="l561.13" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l562.1"></a><span id="l562.1" class="difflineminus">--- a/mailnews/extensions/offline-startup/js/offlineStartup.js</span>
<a href="#l562.2"></a><span id="l562.2" class="difflineplus">+++ b/mailnews/extensions/offline-startup/js/offlineStartup.js</span>
<a href="#l562.3"></a><span id="l562.3" class="difflineat">@@ -1,23 +1,23 @@</span>
<a href="#l562.4"></a><span id="l562.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l562.5"></a><span id="l562.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l562.6"></a><span id="l562.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l562.7"></a><span id="l562.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l562.8"></a><span id="l562.8"> </span>
<a href="#l562.9"></a><span id="l562.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l562.10"></a><span id="l562.10"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l562.11"></a><span id="l562.11"> </span>
<a href="#l562.12"></a><span id="l562.12" class="difflineminus">-const kDebug              = false;</span>
<a href="#l562.13"></a><span id="l562.13" class="difflineminus">-const kOfflineStartupPref = &quot;offline.startup_state&quot;;</span>
<a href="#l562.14"></a><span id="l562.14" class="difflineminus">-const kRememberLastState  = 0;</span>
<a href="#l562.15"></a><span id="l562.15" class="difflineminus">-const kAskForOnlineState  = 1;</span>
<a href="#l562.16"></a><span id="l562.16" class="difflineminus">-const kAlwaysOnline       = 2;</span>
<a href="#l562.17"></a><span id="l562.17" class="difflineminus">-const kAlwaysOffline      = 3;</span>
<a href="#l562.18"></a><span id="l562.18" class="difflineminus">-const kAutomatic          = 4;</span>
<a href="#l562.19"></a><span id="l562.19" class="difflineplus">+var kDebug              = false;</span>
<a href="#l562.20"></a><span id="l562.20" class="difflineplus">+var kOfflineStartupPref = &quot;offline.startup_state&quot;;</span>
<a href="#l562.21"></a><span id="l562.21" class="difflineplus">+var kRememberLastState  = 0;</span>
<a href="#l562.22"></a><span id="l562.22" class="difflineplus">+var kAskForOnlineState  = 1;</span>
<a href="#l562.23"></a><span id="l562.23" class="difflineplus">+var kAlwaysOnline       = 2;</span>
<a href="#l562.24"></a><span id="l562.24" class="difflineplus">+var kAlwaysOffline      = 3;</span>
<a href="#l562.25"></a><span id="l562.25" class="difflineplus">+var kAutomatic          = 4;</span>
<a href="#l562.26"></a><span id="l562.26"> var   gStartingUp         = true;</span>
<a href="#l562.27"></a><span id="l562.27"> var   gOfflineStartupMode; //0 = remember last state, 1 = ask me, 2 == online, 3 == offline, 4 = automatic</span>
<a href="#l562.28"></a><span id="l562.28"> </span>
<a href="#l562.29"></a><span id="l562.29"> </span>
<a href="#l562.30"></a><span id="l562.30"> ////////////////////////////////////////////////////////////////////////</span>
<a href="#l562.31"></a><span id="l562.31"> //</span>
<a href="#l562.32"></a><span id="l562.32"> //   nsOfflineStartup : nsIObserver</span>
<a href="#l562.33"></a><span id="l562.33"> //</span>
<a href="#l562.34"></a><span id="l562.34" class="difflineat">@@ -162,9 +162,9 @@ nsOfflineStartupModule.prototype =</span>
<a href="#l562.35"></a><span id="l562.35"> //</span>
<a href="#l562.36"></a><span id="l562.36"> ////////////////////////////////////////////////////////////////////////</span>
<a href="#l562.37"></a><span id="l562.37"> if (!kDebug)</span>
<a href="#l562.38"></a><span id="l562.38">   debug = function(m) {};</span>
<a href="#l562.39"></a><span id="l562.39"> else</span>
<a href="#l562.40"></a><span id="l562.40">   debug = function(m) {dump(&quot;\t *** nsOfflineStartup: &quot; + m + &quot;\n&quot;);};</span>
<a href="#l562.41"></a><span id="l562.41"> </span>
<a href="#l562.42"></a><span id="l562.42"> var components = [nsOfflineStartupModule];</span>
<a href="#l562.43"></a><span id="l562.43" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l562.44"></a><span id="l562.44" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l563.1"></a><span id="l563.1" class="difflineminus">--- a/mailnews/extensions/smime/content/am-smime.js</span>
<a href="#l563.2"></a><span id="l563.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/am-smime.js</span>
<a href="#l563.3"></a><span id="l563.3" class="difflineat">@@ -1,38 +1,38 @@</span>
<a href="#l563.4"></a><span id="l563.4"> /* -*- Mode: Java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l563.5"></a><span id="l563.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l563.6"></a><span id="l563.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l563.7"></a><span id="l563.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l563.8"></a><span id="l563.8"> </span>
<a href="#l563.9"></a><span id="l563.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l563.10"></a><span id="l563.10"> </span>
<a href="#l563.11"></a><span id="l563.11" class="difflineminus">-const nsIX509CertDB = Components.interfaces.nsIX509CertDB;</span>
<a href="#l563.12"></a><span id="l563.12" class="difflineminus">-const nsX509CertDBContractID = &quot;@mozilla.org/security/x509certdb;1&quot;;</span>
<a href="#l563.13"></a><span id="l563.13" class="difflineminus">-const nsIX509Cert = Components.interfaces.nsIX509Cert;</span>
<a href="#l563.14"></a><span id="l563.14" class="difflineplus">+var nsIX509CertDB = Components.interfaces.nsIX509CertDB;</span>
<a href="#l563.15"></a><span id="l563.15" class="difflineplus">+var nsX509CertDBContractID = &quot;@mozilla.org/security/x509certdb;1&quot;;</span>
<a href="#l563.16"></a><span id="l563.16" class="difflineplus">+var nsIX509Cert = Components.interfaces.nsIX509Cert;</span>
<a href="#l563.17"></a><span id="l563.17"> </span>
<a href="#l563.18"></a><span id="l563.18" class="difflineminus">-const email_recipient_cert_usage = 5;</span>
<a href="#l563.19"></a><span id="l563.19" class="difflineminus">-const email_signing_cert_usage = 4;</span>
<a href="#l563.20"></a><span id="l563.20" class="difflineplus">+var email_recipient_cert_usage = 5;</span>
<a href="#l563.21"></a><span id="l563.21" class="difflineplus">+var email_signing_cert_usage = 4;</span>
<a href="#l563.22"></a><span id="l563.22"> </span>
<a href="#l563.23"></a><span id="l563.23"> var gIdentity;</span>
<a href="#l563.24"></a><span id="l563.24"> var gPref = null;</span>
<a href="#l563.25"></a><span id="l563.25"> var gEncryptionCertName = null;</span>
<a href="#l563.26"></a><span id="l563.26"> var gHiddenEncryptionPolicy = null;</span>
<a href="#l563.27"></a><span id="l563.27"> var gEncryptionChoices = null;</span>
<a href="#l563.28"></a><span id="l563.28"> var gSignCertName  = null;</span>
<a href="#l563.29"></a><span id="l563.29"> var gSignMessages  = null;</span>
<a href="#l563.30"></a><span id="l563.30"> var gEncryptAlways = null;</span>
<a href="#l563.31"></a><span id="l563.31"> var gNeverEncrypt = null;</span>
<a href="#l563.32"></a><span id="l563.32"> var gBundle = null;</span>
<a href="#l563.33"></a><span id="l563.33"> var gBrandBundle;</span>
<a href="#l563.34"></a><span id="l563.34"> var gSmimePrefbranch;</span>
<a href="#l563.35"></a><span id="l563.35"> var gEncryptionChoicesLocked;</span>
<a href="#l563.36"></a><span id="l563.36"> var gSigningChoicesLocked;</span>
<a href="#l563.37"></a><span id="l563.37" class="difflineminus">-const kEncryptionCertPref = &quot;identity.encryption_cert_name&quot;;</span>
<a href="#l563.38"></a><span id="l563.38" class="difflineminus">-const kSigningCertPref = &quot;identity.signing_cert_name&quot;;</span>
<a href="#l563.39"></a><span id="l563.39" class="difflineplus">+var kEncryptionCertPref = &quot;identity.encryption_cert_name&quot;;</span>
<a href="#l563.40"></a><span id="l563.40" class="difflineplus">+var kSigningCertPref = &quot;identity.signing_cert_name&quot;;</span>
<a href="#l563.41"></a><span id="l563.41"> </span>
<a href="#l563.42"></a><span id="l563.42"> function onInit() </span>
<a href="#l563.43"></a><span id="l563.43"> {</span>
<a href="#l563.44"></a><span id="l563.44">   smimeInitializeFields();</span>
<a href="#l563.45"></a><span id="l563.45"> }</span>
<a href="#l563.46"></a><span id="l563.46"> </span>
<a href="#l563.47"></a><span id="l563.47"> function smimeInitializeFields()</span>
<a href="#l563.48"></a><span id="l563.48"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l564.1"></a><span id="l564.1" class="difflineminus">--- a/mailnews/extensions/smime/content/certFetchingStatus.js</span>
<a href="#l564.2"></a><span id="l564.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/certFetchingStatus.js</span>
<a href="#l564.3"></a><span id="l564.3" class="difflineat">@@ -10,19 +10,19 @@</span>
<a href="#l564.4"></a><span id="l564.4">   In onload, kick off binding to LDAP.</span>
<a href="#l564.5"></a><span id="l564.5">   When bound, kick off the searches.</span>
<a href="#l564.6"></a><span id="l564.6">   On finding certificates, import into permanent cert database.</span>
<a href="#l564.7"></a><span id="l564.7">   When all searches are finished, close the dialog.</span>
<a href="#l564.8"></a><span id="l564.8"> */</span>
<a href="#l564.9"></a><span id="l564.9"> </span>
<a href="#l564.10"></a><span id="l564.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l564.11"></a><span id="l564.11"> </span>
<a href="#l564.12"></a><span id="l564.12" class="difflineminus">-const nsIX509CertDB = Components.interfaces.nsIX509CertDB;</span>
<a href="#l564.13"></a><span id="l564.13" class="difflineminus">-const nsX509CertDB = &quot;@mozilla.org/security/x509certdb;1&quot;;</span>
<a href="#l564.14"></a><span id="l564.14" class="difflineminus">-const CertAttribute = &quot;usercertificate;binary&quot;;</span>
<a href="#l564.15"></a><span id="l564.15" class="difflineplus">+var nsIX509CertDB = Components.interfaces.nsIX509CertDB;</span>
<a href="#l564.16"></a><span id="l564.16" class="difflineplus">+var nsX509CertDB = &quot;@mozilla.org/security/x509certdb;1&quot;;</span>
<a href="#l564.17"></a><span id="l564.17" class="difflineplus">+var CertAttribute = &quot;usercertificate;binary&quot;;</span>
<a href="#l564.18"></a><span id="l564.18"> </span>
<a href="#l564.19"></a><span id="l564.19"> var gEmailAddresses;</span>
<a href="#l564.20"></a><span id="l564.20"> var gDirectoryPref;</span>
<a href="#l564.21"></a><span id="l564.21"> var gLdapServerURL;</span>
<a href="#l564.22"></a><span id="l564.22"> var gLdapConnection;</span>
<a href="#l564.23"></a><span id="l564.23"> var gCertDB;</span>
<a href="#l564.24"></a><span id="l564.24"> var gLdapOperation;</span>
<a href="#l564.25"></a><span id="l564.25"> var gLogin;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l565.1"></a><span id="l565.1" class="difflineminus">--- a/mailnews/extensions/smime/content/msgCompSMIMEOverlay.js</span>
<a href="#l565.2"></a><span id="l565.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/msgCompSMIMEOverlay.js</span>
<a href="#l565.3"></a><span id="l565.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l565.4"></a><span id="l565.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l565.5"></a><span id="l565.5"> </span>
<a href="#l565.6"></a><span id="l565.6"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l565.7"></a><span id="l565.7"> </span>
<a href="#l565.8"></a><span id="l565.8"> // Account encryption policy values:</span>
<a href="#l565.9"></a><span id="l565.9"> // const kEncryptionPolicy_Never = 0;</span>
<a href="#l565.10"></a><span id="l565.10"> // 'IfPossible' was used by ns4.</span>
<a href="#l565.11"></a><span id="l565.11"> // const kEncryptionPolicy_IfPossible = 1;</span>
<a href="#l565.12"></a><span id="l565.12" class="difflineminus">-const kEncryptionPolicy_Always = 2;</span>
<a href="#l565.13"></a><span id="l565.13" class="difflineplus">+var kEncryptionPolicy_Always = 2;</span>
<a href="#l565.14"></a><span id="l565.14"> </span>
<a href="#l565.15"></a><span id="l565.15"> var gEncryptedURIService =</span>
<a href="#l565.16"></a><span id="l565.16">         Components.classes[&quot;@mozilla.org/messenger-smime/smime-encrypted-uris-service;1&quot;]</span>
<a href="#l565.17"></a><span id="l565.17">                   .getService(Components.interfaces.nsIEncryptedSMIMEURIsService);</span>
<a href="#l565.18"></a><span id="l565.18"> </span>
<a href="#l565.19"></a><span id="l565.19"> var gNextSecurityButtonCommand = &quot;&quot;;</span>
<a href="#l565.20"></a><span id="l565.20"> var gSMFields = null;</span>
<a href="#l565.21"></a><span id="l565.21"> var gEncryptOptionChanged;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l566.1"></a><span id="l566.1" class="difflineminus">--- a/mailnews/extensions/smime/content/msgCompSecurityInfo.js</span>
<a href="#l566.2"></a><span id="l566.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/msgCompSecurityInfo.js</span>
<a href="#l566.3"></a><span id="l566.3" class="difflineat">@@ -13,18 +13,18 @@ var gCertStatusSummaries;</span>
<a href="#l566.4"></a><span id="l566.4"> var gCertIssuedInfos;</span>
<a href="#l566.5"></a><span id="l566.5"> var gCertExpiresInfos;</span>
<a href="#l566.6"></a><span id="l566.6"> var gCerts;</span>
<a href="#l566.7"></a><span id="l566.7"> var gCount;</span>
<a href="#l566.8"></a><span id="l566.8"> </span>
<a href="#l566.9"></a><span id="l566.9"> var gSMimeContractID = &quot;@mozilla.org/messenger-smime/smimejshelper;1&quot;;</span>
<a href="#l566.10"></a><span id="l566.10"> var gISMimeJSHelper = Components.interfaces.nsISMimeJSHelper;</span>
<a href="#l566.11"></a><span id="l566.11"> var gIX509Cert = Components.interfaces.nsIX509Cert;</span>
<a href="#l566.12"></a><span id="l566.12" class="difflineminus">-const nsICertificateDialogs = Components.interfaces.nsICertificateDialogs;</span>
<a href="#l566.13"></a><span id="l566.13" class="difflineminus">-const nsCertificateDialogs = &quot;@mozilla.org/nsCertificateDialogs;1&quot;</span>
<a href="#l566.14"></a><span id="l566.14" class="difflineplus">+var nsICertificateDialogs = Components.interfaces.nsICertificateDialogs;</span>
<a href="#l566.15"></a><span id="l566.15" class="difflineplus">+var nsCertificateDialogs = &quot;@mozilla.org/nsCertificateDialogs;1&quot;</span>
<a href="#l566.16"></a><span id="l566.16"> </span>
<a href="#l566.17"></a><span id="l566.17"> function getStatusExplanation(value)</span>
<a href="#l566.18"></a><span id="l566.18"> {</span>
<a href="#l566.19"></a><span id="l566.19">   switch (value)</span>
<a href="#l566.20"></a><span id="l566.20">   {</span>
<a href="#l566.21"></a><span id="l566.21">     case gIX509Cert.VERIFIED_OK:</span>
<a href="#l566.22"></a><span id="l566.22">       return gBundle.getString(&quot;StatusValid&quot;);</span>
<a href="#l566.23"></a><span id="l566.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l567.1"></a><span id="l567.1" class="difflineminus">--- a/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js</span>
<a href="#l567.2"></a><span id="l567.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js</span>
<a href="#l567.3"></a><span id="l567.3" class="difflineat">@@ -13,17 +13,17 @@ var gEncryptedStatusPanel = null;</span>
<a href="#l567.4"></a><span id="l567.4"> var gEncryptedURIService = null;</span>
<a href="#l567.5"></a><span id="l567.5"> var gMyLastEncryptedURI = null;</span>
<a href="#l567.6"></a><span id="l567.6"> </span>
<a href="#l567.7"></a><span id="l567.7"> var gSMIMEBundle = null;</span>
<a href="#l567.8"></a><span id="l567.8"> // var gBrandBundle; -- defined in mailWindow.js</span>
<a href="#l567.9"></a><span id="l567.9"> </span>
<a href="#l567.10"></a><span id="l567.10"> // manipulates some globals from msgReadSMIMEOverlay.js</span>
<a href="#l567.11"></a><span id="l567.11"> </span>
<a href="#l567.12"></a><span id="l567.12" class="difflineminus">-const nsICMSMessageErrors = Components.interfaces.nsICMSMessageErrors;</span>
<a href="#l567.13"></a><span id="l567.13" class="difflineplus">+var nsICMSMessageErrors = Components.interfaces.nsICMSMessageErrors;</span>
<a href="#l567.14"></a><span id="l567.14"> </span>
<a href="#l567.15"></a><span id="l567.15"> var smimeHeaderSink = </span>
<a href="#l567.16"></a><span id="l567.16"> { </span>
<a href="#l567.17"></a><span id="l567.17">   maxWantedNesting: function()</span>
<a href="#l567.18"></a><span id="l567.18">   {</span>
<a href="#l567.19"></a><span id="l567.19">     return 1;</span>
<a href="#l567.20"></a><span id="l567.20">   },</span>
<a href="#l567.21"></a><span id="l567.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l568.1"></a><span id="l568.1" class="difflineminus">--- a/mailnews/extensions/smime/content/msgReadSecurityInfo.js</span>
<a href="#l568.2"></a><span id="l568.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/msgReadSecurityInfo.js</span>
<a href="#l568.3"></a><span id="l568.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l568.4"></a><span id="l568.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l568.5"></a><span id="l568.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l568.6"></a><span id="l568.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l568.7"></a><span id="l568.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l568.8"></a><span id="l568.8"> </span>
<a href="#l568.9"></a><span id="l568.9" class="difflineminus">-const nsIPKIParamBlock = Components.interfaces.nsIPKIParamBlock;</span>
<a href="#l568.10"></a><span id="l568.10" class="difflineminus">-const nsIDialogParamBlock = Components.interfaces.nsIDialogParamBlock;</span>
<a href="#l568.11"></a><span id="l568.11" class="difflineminus">-const nsIX509Cert = Components.interfaces.nsIX509Cert;</span>
<a href="#l568.12"></a><span id="l568.12" class="difflineminus">-const nsICMSMessageErrors = Components.interfaces.nsICMSMessageErrors;</span>
<a href="#l568.13"></a><span id="l568.13" class="difflineminus">-const nsICertificateDialogs = Components.interfaces.nsICertificateDialogs;</span>
<a href="#l568.14"></a><span id="l568.14" class="difflineminus">-const nsCertificateDialogs = &quot;@mozilla.org/nsCertificateDialogs;1&quot;</span>
<a href="#l568.15"></a><span id="l568.15" class="difflineplus">+var nsIPKIParamBlock = Components.interfaces.nsIPKIParamBlock;</span>
<a href="#l568.16"></a><span id="l568.16" class="difflineplus">+var nsIDialogParamBlock = Components.interfaces.nsIDialogParamBlock;</span>
<a href="#l568.17"></a><span id="l568.17" class="difflineplus">+var nsIX509Cert = Components.interfaces.nsIX509Cert;</span>
<a href="#l568.18"></a><span id="l568.18" class="difflineplus">+var nsICMSMessageErrors = Components.interfaces.nsICMSMessageErrors;</span>
<a href="#l568.19"></a><span id="l568.19" class="difflineplus">+var nsICertificateDialogs = Components.interfaces.nsICertificateDialogs;</span>
<a href="#l568.20"></a><span id="l568.20" class="difflineplus">+var nsCertificateDialogs = &quot;@mozilla.org/nsCertificateDialogs;1&quot;</span>
<a href="#l568.21"></a><span id="l568.21"> </span>
<a href="#l568.22"></a><span id="l568.22"> var gSignerCert = null;</span>
<a href="#l568.23"></a><span id="l568.23"> var gEncryptionCert = null;</span>
<a href="#l568.24"></a><span id="l568.24"> </span>
<a href="#l568.25"></a><span id="l568.25"> var gSignatureStatus = -1;</span>
<a href="#l568.26"></a><span id="l568.26"> var gEncryptionStatus = -1;</span>
<a href="#l568.27"></a><span id="l568.27"> </span>
<a href="#l568.28"></a><span id="l568.28"> var params = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l569.1"></a><span id="l569.1" class="difflineminus">--- a/mailnews/extensions/smime/src/smime-service.js</span>
<a href="#l569.2"></a><span id="l569.2" class="difflineplus">+++ b/mailnews/extensions/smime/src/smime-service.js</span>
<a href="#l569.3"></a><span id="l569.3" class="difflineat">@@ -16,9 +16,9 @@ SMIMEService.prototype = {</span>
<a href="#l569.4"></a><span id="l569.4">             server.type != &quot;im&quot; &amp;&amp; server.type != &quot;none&quot;);</span>
<a href="#l569.5"></a><span id="l569.5">   },</span>
<a href="#l569.6"></a><span id="l569.6"> </span>
<a href="#l569.7"></a><span id="l569.7">   QueryInterface: XPCOMUtils.generateQI([Components.interfaces.nsIMsgAccountManagerExtension]),</span>
<a href="#l569.8"></a><span id="l569.8">   classID: Components.ID(&quot;{f2809796-1dd1-11b2-8c1b-8f15f007c699}&quot;),</span>
<a href="#l569.9"></a><span id="l569.9"> };</span>
<a href="#l569.10"></a><span id="l569.10"> </span>
<a href="#l569.11"></a><span id="l569.11"> var components = [SMIMEService];</span>
<a href="#l569.12"></a><span id="l569.12" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l569.13"></a><span id="l569.13" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l570.1"></a><span id="l570.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_bccProperty.js</span>
<a href="#l570.2"></a><span id="l570.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_bccProperty.js</span>
<a href="#l570.3"></a><span id="l570.3" class="difflineat">@@ -5,18 +5,18 @@</span>
<a href="#l570.4"></a><span id="l570.4">  * adapted from test_downloadOffline.js</span>
<a href="#l570.5"></a><span id="l570.5">  *</span>
<a href="#l570.6"></a><span id="l570.6">  * original author Kent James &lt;kent@caspia.com&gt;</span>
<a href="#l570.7"></a><span id="l570.7">  */</span>
<a href="#l570.8"></a><span id="l570.8"> </span>
<a href="#l570.9"></a><span id="l570.9"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l570.10"></a><span id="l570.10"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l570.11"></a><span id="l570.11"> </span>
<a href="#l570.12"></a><span id="l570.12" class="difflineminus">-const gFileName = &quot;draft1&quot;;</span>
<a href="#l570.13"></a><span id="l570.13" class="difflineminus">-const gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l570.14"></a><span id="l570.14" class="difflineplus">+var gFileName = &quot;draft1&quot;;</span>
<a href="#l570.15"></a><span id="l570.15" class="difflineplus">+var gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l570.16"></a><span id="l570.16"> </span>
<a href="#l570.17"></a><span id="l570.17"> var tests = [</span>
<a href="#l570.18"></a><span id="l570.18">   setup,</span>
<a href="#l570.19"></a><span id="l570.19">   downloadAllForOffline,</span>
<a href="#l570.20"></a><span id="l570.20">   checkBccs,</span>
<a href="#l570.21"></a><span id="l570.21">   teardown</span>
<a href="#l570.22"></a><span id="l570.22"> ];</span>
<a href="#l570.23"></a><span id="l570.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l571.1"></a><span id="l571.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_bug460636.js</span>
<a href="#l571.2"></a><span id="l571.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_bug460636.js</span>
<a href="#l571.3"></a><span id="l571.3" class="difflineat">@@ -2,21 +2,21 @@</span>
<a href="#l571.4"></a><span id="l571.4">  * Test bug 460636 - nsMsgSaveAsListener sometimes inserts extra LF characters</span>
<a href="#l571.5"></a><span id="l571.5">  */</span>
<a href="#l571.6"></a><span id="l571.6"> </span>
<a href="#l571.7"></a><span id="l571.7"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l571.8"></a><span id="l571.8"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l571.9"></a><span id="l571.9"> </span>
<a href="#l571.10"></a><span id="l571.10"> var gSavedMsgFile;</span>
<a href="#l571.11"></a><span id="l571.11"> </span>
<a href="#l571.12"></a><span id="l571.12" class="difflineminus">-const gIMAPService = Cc[&quot;@mozilla.org/messenger/messageservice;1?type=imap&quot;]</span>
<a href="#l571.13"></a><span id="l571.13" class="difflineplus">+var gIMAPService = Cc[&quot;@mozilla.org/messenger/messageservice;1?type=imap&quot;]</span>
<a href="#l571.14"></a><span id="l571.14">                        .getService(Ci.nsIMsgMessageService);</span>
<a href="#l571.15"></a><span id="l571.15"> </span>
<a href="#l571.16"></a><span id="l571.16" class="difflineminus">-const gFileName = &quot;bug460636&quot;;</span>
<a href="#l571.17"></a><span id="l571.17" class="difflineminus">-const gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l571.18"></a><span id="l571.18" class="difflineplus">+var gFileName = &quot;bug460636&quot;;</span>
<a href="#l571.19"></a><span id="l571.19" class="difflineplus">+var gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l571.20"></a><span id="l571.20">                      </span>
<a href="#l571.21"></a><span id="l571.21"> var tests = [</span>
<a href="#l571.22"></a><span id="l571.22">   setup,</span>
<a href="#l571.23"></a><span id="l571.23">   checkSavedMessage,</span>
<a href="#l571.24"></a><span id="l571.24">   teardown</span>
<a href="#l571.25"></a><span id="l571.25"> ];</span>
<a href="#l571.26"></a><span id="l571.26"> </span>
<a href="#l571.27"></a><span id="l571.27"> function setup() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l572.1"></a><span id="l572.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_chunkLastLF.js</span>
<a href="#l572.2"></a><span id="l572.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_chunkLastLF.js</span>
<a href="#l572.3"></a><span id="l572.3" class="difflineat">@@ -10,17 +10,17 @@</span>
<a href="#l572.4"></a><span id="l572.4">  * Test content length for the IMAP protocol. This focuses on necko URLs</span>
<a href="#l572.5"></a><span id="l572.5">  * that are run externally.</span>
<a href="#l572.6"></a><span id="l572.6">  */</span>
<a href="#l572.7"></a><span id="l572.7"> </span>
<a href="#l572.8"></a><span id="l572.8">  // async support</span>
<a href="#l572.9"></a><span id="l572.9"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l572.10"></a><span id="l572.10"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l572.11"></a><span id="l572.11"> </span>
<a href="#l572.12"></a><span id="l572.12" class="difflineminus">-const gFile = do_get_file(&quot;../../../data/bug92111b&quot;);</span>
<a href="#l572.13"></a><span id="l572.13" class="difflineplus">+var gFile = do_get_file(&quot;../../../data/bug92111b&quot;);</span>
<a href="#l572.14"></a><span id="l572.14"> var gIMAPDaemon, gIMAPServer, gIMAPIncomingServer;</span>
<a href="#l572.15"></a><span id="l572.15"> </span>
<a href="#l572.16"></a><span id="l572.16"> // Adds some messages directly to a mailbox (eg new mail)</span>
<a href="#l572.17"></a><span id="l572.17"> function addMessageToServer(file, mailbox)</span>
<a href="#l572.18"></a><span id="l572.18"> {</span>
<a href="#l572.19"></a><span id="l572.19">   let URI = Services.io.newFileURI(file).QueryInterface(Ci.nsIFileURL);</span>
<a href="#l572.20"></a><span id="l572.20">   let msg = new imapMessage(URI.spec, mailbox.uidnext++, []);</span>
<a href="#l572.21"></a><span id="l572.21">   // underestimate the actual file size, like some IMAP servers do</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l573.1"></a><span id="l573.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_compactOfflineStore.js</span>
<a href="#l573.2"></a><span id="l573.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_compactOfflineStore.js</span>
<a href="#l573.3"></a><span id="l573.3" class="difflineat">@@ -13,28 +13,28 @@ load(&quot;../../../resources/messageGenerato</span>
<a href="#l573.4"></a><span id="l573.4"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l573.5"></a><span id="l573.5"> </span>
<a href="#l573.6"></a><span id="l573.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l573.7"></a><span id="l573.7"> </span>
<a href="#l573.8"></a><span id="l573.8"> // Globals</span>
<a href="#l573.9"></a><span id="l573.9"> var gRootFolder;</span>
<a href="#l573.10"></a><span id="l573.10"> var gImapInboxOfflineStoreSize;</span>
<a href="#l573.11"></a><span id="l573.11"> </span>
<a href="#l573.12"></a><span id="l573.12" class="difflineminus">-const gMsgFile1 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l573.13"></a><span id="l573.13" class="difflineminus">-const gMsgFile2 = do_get_file(&quot;../../../data/bugmail11&quot;);</span>
<a href="#l573.14"></a><span id="l573.14" class="difflineminus">-const gMsgFile3 = do_get_file(&quot;../../../data/draft1&quot;);</span>
<a href="#l573.15"></a><span id="l573.15" class="difflineminus">-const gMsgFile4 = do_get_file(&quot;../../../data/bugmail7&quot;);</span>
<a href="#l573.16"></a><span id="l573.16" class="difflineminus">-const gMsgFile5 = do_get_file(&quot;../../../data/bugmail6&quot;);</span>
<a href="#l573.17"></a><span id="l573.17" class="difflineplus">+var gMsgFile1 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l573.18"></a><span id="l573.18" class="difflineplus">+var gMsgFile2 = do_get_file(&quot;../../../data/bugmail11&quot;);</span>
<a href="#l573.19"></a><span id="l573.19" class="difflineplus">+var gMsgFile3 = do_get_file(&quot;../../../data/draft1&quot;);</span>
<a href="#l573.20"></a><span id="l573.20" class="difflineplus">+var gMsgFile4 = do_get_file(&quot;../../../data/bugmail7&quot;);</span>
<a href="#l573.21"></a><span id="l573.21" class="difflineplus">+var gMsgFile5 = do_get_file(&quot;../../../data/bugmail6&quot;);</span>
<a href="#l573.22"></a><span id="l573.22"> </span>
<a href="#l573.23"></a><span id="l573.23"> // Copied straight from the example files</span>
<a href="#l573.24"></a><span id="l573.24" class="difflineminus">-const gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l573.25"></a><span id="l573.25" class="difflineminus">-const gMsgId2 = &quot;200804111417.m3BEHTk4030129@mrapp51.mozilla.org&quot;;</span>
<a href="#l573.26"></a><span id="l573.26" class="difflineminus">-const gMsgId3 = &quot;4849BF7B.2030800@example.com&quot;;</span>
<a href="#l573.27"></a><span id="l573.27" class="difflineminus">-const gMsgId4 = &quot;bugmail7.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l573.28"></a><span id="l573.28" class="difflineminus">-const gMsgId5 = &quot;bugmail6.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l573.29"></a><span id="l573.29" class="difflineplus">+var gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l573.30"></a><span id="l573.30" class="difflineplus">+var gMsgId2 = &quot;200804111417.m3BEHTk4030129@mrapp51.mozilla.org&quot;;</span>
<a href="#l573.31"></a><span id="l573.31" class="difflineplus">+var gMsgId3 = &quot;4849BF7B.2030800@example.com&quot;;</span>
<a href="#l573.32"></a><span id="l573.32" class="difflineplus">+var gMsgId4 = &quot;bugmail7.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l573.33"></a><span id="l573.33" class="difflineplus">+var gMsgId5 = &quot;bugmail6.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l573.34"></a><span id="l573.34"> </span>
<a href="#l573.35"></a><span id="l573.35"> // Adds some messages directly to a mailbox (eg new mail)</span>
<a href="#l573.36"></a><span id="l573.36"> function addMessagesToServer(messages, mailbox)</span>
<a href="#l573.37"></a><span id="l573.37"> {</span>
<a href="#l573.38"></a><span id="l573.38">   // For every message we have, we need to convert it to a file:/// URI</span>
<a href="#l573.39"></a><span id="l573.39">   messages.forEach(function (message)</span>
<a href="#l573.40"></a><span id="l573.40">   {</span>
<a href="#l573.41"></a><span id="l573.41">     let URI =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l574.1"></a><span id="l574.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js</span>
<a href="#l574.2"></a><span id="l574.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js</span>
<a href="#l574.3"></a><span id="l574.3" class="difflineat">@@ -13,17 +13,17 @@ load(&quot;../../../resources/asyncTestUtils.</span>
<a href="#l574.4"></a><span id="l574.4"> </span>
<a href="#l574.5"></a><span id="l574.5"> // IMAP pump</span>
<a href="#l574.6"></a><span id="l574.6"> </span>
<a href="#l574.7"></a><span id="l574.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l574.8"></a><span id="l574.8"> </span>
<a href="#l574.9"></a><span id="l574.9"> // Globals</span>
<a href="#l574.10"></a><span id="l574.10"> </span>
<a href="#l574.11"></a><span id="l574.11"> // Messages to load must have CRLF line endings, that is Windows style</span>
<a href="#l574.12"></a><span id="l574.12" class="difflineminus">-const gMessageFileName = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l574.13"></a><span id="l574.13" class="difflineplus">+var gMessageFileName = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l574.14"></a><span id="l574.14"> var gMessage, gExpectedLength;</span>
<a href="#l574.15"></a><span id="l574.15"> </span>
<a href="#l574.16"></a><span id="l574.16"> var gCustomList = ['Custom1', 'Custom2', 'Custom3'];</span>
<a href="#l574.17"></a><span id="l574.17"> </span>
<a href="#l574.18"></a><span id="l574.18"> var gMsgWindow = Cc[&quot;@mozilla.org/messenger/msgwindow;1&quot;]</span>
<a href="#l574.19"></a><span id="l574.19">   .createInstance(Ci.nsIMsgWindow);</span>
<a href="#l574.20"></a><span id="l574.20"> </span>
<a href="#l574.21"></a><span id="l574.21"> setupIMAPPump(&quot;CUSTOM1&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l575.1"></a><span id="l575.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_downloadOffline.js</span>
<a href="#l575.2"></a><span id="l575.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_downloadOffline.js</span>
<a href="#l575.3"></a><span id="l575.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l575.4"></a><span id="l575.4"> /*</span>
<a href="#l575.5"></a><span id="l575.5">  * Test to ensure that downloadAllForOffline works correctly with imap folders</span>
<a href="#l575.6"></a><span id="l575.6">  * and returns success.</span>
<a href="#l575.7"></a><span id="l575.7">  */</span>
<a href="#l575.8"></a><span id="l575.8"> </span>
<a href="#l575.9"></a><span id="l575.9"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l575.10"></a><span id="l575.10"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l575.11"></a><span id="l575.11"> </span>
<a href="#l575.12"></a><span id="l575.12" class="difflineminus">-const gFileName = &quot;bug460636&quot;;</span>
<a href="#l575.13"></a><span id="l575.13" class="difflineminus">-const gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l575.14"></a><span id="l575.14" class="difflineplus">+var gFileName = &quot;bug460636&quot;;</span>
<a href="#l575.15"></a><span id="l575.15" class="difflineplus">+var gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l575.16"></a><span id="l575.16"> </span>
<a href="#l575.17"></a><span id="l575.17"> var tests = [</span>
<a href="#l575.18"></a><span id="l575.18">   setup,</span>
<a href="#l575.19"></a><span id="l575.19">   downloadAllForOffline,</span>
<a href="#l575.20"></a><span id="l575.20">   verifyDownloaded,</span>
<a href="#l575.21"></a><span id="l575.21">   teardownIMAPPump</span>
<a href="#l575.22"></a><span id="l575.22"> ];</span>
<a href="#l575.23"></a><span id="l575.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l576.1"></a><span id="l576.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_fetchCustomAttribute.js</span>
<a href="#l576.2"></a><span id="l576.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_fetchCustomAttribute.js</span>
<a href="#l576.3"></a><span id="l576.3" class="difflineat">@@ -12,20 +12,20 @@ load(&quot;../../../resources/asyncTestUtils.</span>
<a href="#l576.4"></a><span id="l576.4"> </span>
<a href="#l576.5"></a><span id="l576.5"> // IMAP pump</span>
<a href="#l576.6"></a><span id="l576.6"> </span>
<a href="#l576.7"></a><span id="l576.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l576.8"></a><span id="l576.8"> </span>
<a href="#l576.9"></a><span id="l576.9"> // Globals</span>
<a href="#l576.10"></a><span id="l576.10"> </span>
<a href="#l576.11"></a><span id="l576.11"> // Messages to load must have CRLF line endings, that is Windows style</span>
<a href="#l576.12"></a><span id="l576.12" class="difflineminus">-const gMessage = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l576.13"></a><span id="l576.13" class="difflineplus">+var gMessage = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l576.14"></a><span id="l576.14"> </span>
<a href="#l576.15"></a><span id="l576.15" class="difflineminus">-const gCustomValue = &quot;Custom&quot;;</span>
<a href="#l576.16"></a><span id="l576.16" class="difflineminus">-const gCustomList = [&quot;Custom1&quot;, &quot;Custom2&quot;, &quot;Custom3&quot;];</span>
<a href="#l576.17"></a><span id="l576.17" class="difflineplus">+var gCustomValue = &quot;Custom&quot;;</span>
<a href="#l576.18"></a><span id="l576.18" class="difflineplus">+var gCustomList = [&quot;Custom1&quot;, &quot;Custom2&quot;, &quot;Custom3&quot;];</span>
<a href="#l576.19"></a><span id="l576.19"> </span>
<a href="#l576.20"></a><span id="l576.20"> var gMsgWindow = Cc[&quot;@mozilla.org/messenger/msgwindow;1&quot;]</span>
<a href="#l576.21"></a><span id="l576.21">   .createInstance(Ci.nsIMsgWindow);</span>
<a href="#l576.22"></a><span id="l576.22"> </span>
<a href="#l576.23"></a><span id="l576.23"> setupIMAPPump(&quot;CUSTOM1&quot;);</span>
<a href="#l576.24"></a><span id="l576.24"> </span>
<a href="#l576.25"></a><span id="l576.25"> // Definition of tests</span>
<a href="#l576.26"></a><span id="l576.26"> var tests = [</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l577.1"></a><span id="l577.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_filterNeedsBody.js</span>
<a href="#l577.2"></a><span id="l577.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_filterNeedsBody.js</span>
<a href="#l577.3"></a><span id="l577.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l577.4"></a><span id="l577.4">  * adapted from test_imapFilterActions.js</span>
<a href="#l577.5"></a><span id="l577.5">  */</span>
<a href="#l577.6"></a><span id="l577.6"> </span>
<a href="#l577.7"></a><span id="l577.7"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l577.8"></a><span id="l577.8"> </span>
<a href="#l577.9"></a><span id="l577.9"> // Globals</span>
<a href="#l577.10"></a><span id="l577.10"> var gFilter; // a message filter with a subject search</span>
<a href="#l577.11"></a><span id="l577.11"> var gAction; // current message action (reused)</span>
<a href="#l577.12"></a><span id="l577.12" class="difflineminus">-const gMessage = &quot;draft1&quot;; // message file used as the test message</span>
<a href="#l577.13"></a><span id="l577.13" class="difflineplus">+var gMessage = &quot;draft1&quot;; // message file used as the test message</span>
<a href="#l577.14"></a><span id="l577.14"> </span>
<a href="#l577.15"></a><span id="l577.15"> // Definition of tests</span>
<a href="#l577.16"></a><span id="l577.16"> var tests = [</span>
<a href="#l577.17"></a><span id="l577.17">   setupIMAPPump,</span>
<a href="#l577.18"></a><span id="l577.18">   setup,</span>
<a href="#l577.19"></a><span id="l577.19">   function NeedsBodyTrue() {</span>
<a href="#l577.20"></a><span id="l577.20">     gAction.type = Ci.nsMsgFilterAction.Custom;</span>
<a href="#l577.21"></a><span id="l577.21">     gAction.customId = 'mailnews@mozilla.org#testOffline';</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l578.1"></a><span id="l578.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_gmailAttributes.js</span>
<a href="#l578.2"></a><span id="l578.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_gmailAttributes.js</span>
<a href="#l578.3"></a><span id="l578.3" class="difflineat">@@ -18,21 +18,21 @@</span>
<a href="#l578.4"></a><span id="l578.4"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l578.5"></a><span id="l578.5"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l578.6"></a><span id="l578.6"> </span>
<a href="#l578.7"></a><span id="l578.7"> // IMAP pump</span>
<a href="#l578.8"></a><span id="l578.8"> </span>
<a href="#l578.9"></a><span id="l578.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l578.10"></a><span id="l578.10"> </span>
<a href="#l578.11"></a><span id="l578.11"> // Messages to load must have CRLF line endings, that is Windows style</span>
<a href="#l578.12"></a><span id="l578.12" class="difflineminus">-const gMessage = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l578.13"></a><span id="l578.13" class="difflineplus">+var gMessage = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l578.14"></a><span id="l578.14"> </span>
<a href="#l578.15"></a><span id="l578.15" class="difflineminus">-const gXGmMsgid = &quot;1278455344230334865&quot;;</span>
<a href="#l578.16"></a><span id="l578.16" class="difflineminus">-const gXGmThrid = &quot;1266894439832287888&quot;;</span>
<a href="#l578.17"></a><span id="l578.17" class="difflineminus">-const gXGmLabels = '(\\Inbox \\Sent Important &quot;Muy Importante&quot; foo)';</span>
<a href="#l578.18"></a><span id="l578.18" class="difflineplus">+var gXGmMsgid = &quot;1278455344230334865&quot;;</span>
<a href="#l578.19"></a><span id="l578.19" class="difflineplus">+var gXGmThrid = &quot;1266894439832287888&quot;;</span>
<a href="#l578.20"></a><span id="l578.20" class="difflineplus">+var gXGmLabels = '(\\Inbox \\Sent Important &quot;Muy Importante&quot; foo)';</span>
<a href="#l578.21"></a><span id="l578.21"> </span>
<a href="#l578.22"></a><span id="l578.22"> setupIMAPPump(&quot;GMail&quot;);</span>
<a href="#l578.23"></a><span id="l578.23"> </span>
<a href="#l578.24"></a><span id="l578.24"> IMAPPump.mailbox.specialUseFlag = &quot;\\Inbox&quot;;</span>
<a href="#l578.25"></a><span id="l578.25"> IMAPPump.mailbox.subscribed = true;</span>
<a href="#l578.26"></a><span id="l578.26"> </span>
<a href="#l578.27"></a><span id="l578.27"> // need all mail folder to identify this as gmail server.</span>
<a href="#l578.28"></a><span id="l578.28"> IMAPPump.daemon.createMailbox(&quot;[Gmail]&quot;, {flags : [&quot;\\NoSelect&quot;] });</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l579.1"></a><span id="l579.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js</span>
<a href="#l579.2"></a><span id="l579.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js</span>
<a href="#l579.3"></a><span id="l579.3" class="difflineat">@@ -21,31 +21,31 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l579.4"></a><span id="l579.4"> </span>
<a href="#l579.5"></a><span id="l579.5"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l579.6"></a><span id="l579.6"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l579.7"></a><span id="l579.7"> </span>
<a href="#l579.8"></a><span id="l579.8"> </span>
<a href="#l579.9"></a><span id="l579.9"> </span>
<a href="#l579.10"></a><span id="l579.10"> // Messages to load must have CRLF line endings, that is Windows style</span>
<a href="#l579.11"></a><span id="l579.11"> </span>
<a href="#l579.12"></a><span id="l579.12" class="difflineminus">-const gMessage1 = &quot;bugmail10&quot;; // message file used as the test message for Inbox and fooFolder</span>
<a href="#l579.13"></a><span id="l579.13" class="difflineminus">-const gXGmMsgid1 = &quot;1278455344230334865&quot;;</span>
<a href="#l579.14"></a><span id="l579.14" class="difflineminus">-const gXGmThrid1 = &quot;1266894439832287888&quot;;</span>
<a href="#l579.15"></a><span id="l579.15" class="difflineplus">+var gMessage1 = &quot;bugmail10&quot;; // message file used as the test message for Inbox and fooFolder</span>
<a href="#l579.16"></a><span id="l579.16" class="difflineplus">+var gXGmMsgid1 = &quot;1278455344230334865&quot;;</span>
<a href="#l579.17"></a><span id="l579.17" class="difflineplus">+var gXGmThrid1 = &quot;1266894439832287888&quot;;</span>
<a href="#l579.18"></a><span id="l579.18"> // We need to have different X-GM-LABELS for different folders. I am doing it here manually, but this issue will be tackled in Bug 781443.</span>
<a href="#l579.19"></a><span id="l579.19" class="difflineminus">-const gXGmLabels11 = '( \&quot;\\\\Sent\&quot; foo bar)'; // for message in Inbox</span>
<a href="#l579.20"></a><span id="l579.20" class="difflineminus">-const gXGmLabels12 = '(\&quot;\\\\Inbox\&quot; \&quot;\\\\Sent\&quot; bar)'; // for message in fooFolder</span>
<a href="#l579.21"></a><span id="l579.21" class="difflineminus">-const gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l579.22"></a><span id="l579.22" class="difflineplus">+var gXGmLabels11 = '( \&quot;\\\\Sent\&quot; foo bar)'; // for message in Inbox</span>
<a href="#l579.23"></a><span id="l579.23" class="difflineplus">+var gXGmLabels12 = '(\&quot;\\\\Inbox\&quot; \&quot;\\\\Sent\&quot; bar)'; // for message in fooFolder</span>
<a href="#l579.24"></a><span id="l579.24" class="difflineplus">+var gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l579.25"></a><span id="l579.25"> </span>
<a href="#l579.26"></a><span id="l579.26" class="difflineminus">-const gMessage2 = &quot;bugmail11&quot;; // message file used as the test message for fooFolder</span>
<a href="#l579.27"></a><span id="l579.27" class="difflineminus">-const gMsgId2 = &quot;200804111417.m3BEHTk4030129@mrapp51.mozilla.org&quot;;</span>
<a href="#l579.28"></a><span id="l579.28" class="difflineminus">-const gXGmMsgid2 = &quot;1278455345230334555&quot;;</span>
<a href="#l579.29"></a><span id="l579.29" class="difflineminus">-const gXGmThrid2 = &quot;1266894639832287111&quot;;</span>
<a href="#l579.30"></a><span id="l579.30" class="difflineminus">-const gXGmLabels2 = '(\&quot;\\\\Sent\&quot;)';</span>
<a href="#l579.31"></a><span id="l579.31" class="difflineplus">+var gMessage2 = &quot;bugmail11&quot;; // message file used as the test message for fooFolder</span>
<a href="#l579.32"></a><span id="l579.32" class="difflineplus">+var gMsgId2 = &quot;200804111417.m3BEHTk4030129@mrapp51.mozilla.org&quot;;</span>
<a href="#l579.33"></a><span id="l579.33" class="difflineplus">+var gXGmMsgid2 = &quot;1278455345230334555&quot;;</span>
<a href="#l579.34"></a><span id="l579.34" class="difflineplus">+var gXGmThrid2 = &quot;1266894639832287111&quot;;</span>
<a href="#l579.35"></a><span id="l579.35" class="difflineplus">+var gXGmLabels2 = '(\&quot;\\\\Sent\&quot;)';</span>
<a href="#l579.36"></a><span id="l579.36"> </span>
<a href="#l579.37"></a><span id="l579.37" class="difflineminus">-const nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l579.38"></a><span id="l579.38" class="difflineplus">+var nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l579.39"></a><span id="l579.39"> </span>
<a href="#l579.40"></a><span id="l579.40"> var fooBox;</span>
<a href="#l579.41"></a><span id="l579.41"> var fooFolder;</span>
<a href="#l579.42"></a><span id="l579.42"> </span>
<a href="#l579.43"></a><span id="l579.43"> var gImapInboxOfflineStoreSizeInitial;</span>
<a href="#l579.44"></a><span id="l579.44"> var gImapInboxOfflineStoreSizeFinal;</span>
<a href="#l579.45"></a><span id="l579.45"> </span>
<a href="#l579.46"></a><span id="l579.46"> var gFooOfflineStoreSizeInitial;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l580.1"></a><span id="l580.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapAttachmentSaves.js</span>
<a href="#l580.2"></a><span id="l580.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapAttachmentSaves.js</span>
<a href="#l580.3"></a><span id="l580.3" class="difflineat">@@ -12,17 +12,17 @@ load(&quot;../../../resources/messageGenerato</span>
<a href="#l580.4"></a><span id="l580.4"> </span>
<a href="#l580.5"></a><span id="l580.5"> // javascript mime emitter functions</span>
<a href="#l580.6"></a><span id="l580.6"> mimeMsg = {};</span>
<a href="#l580.7"></a><span id="l580.7"> Components.utils.import(&quot;resource:///modules/gloda/mimemsg.js&quot;, mimeMsg);</span>
<a href="#l580.8"></a><span id="l580.8"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l580.9"></a><span id="l580.9"> </span>
<a href="#l580.10"></a><span id="l580.10"> // IMAP pump</span>
<a href="#l580.11"></a><span id="l580.11"> </span>
<a href="#l580.12"></a><span id="l580.12" class="difflineminus">-const kAttachFileName = 'bob.txt';</span>
<a href="#l580.13"></a><span id="l580.13" class="difflineplus">+var kAttachFileName = 'bob.txt';</span>
<a href="#l580.14"></a><span id="l580.14"> </span>
<a href="#l580.15"></a><span id="l580.15"> setupIMAPPump();</span>
<a href="#l580.16"></a><span id="l580.16"> </span>
<a href="#l580.17"></a><span id="l580.17"> // Dummy message window so we can say the inbox is open in a window.</span>
<a href="#l580.18"></a><span id="l580.18"> var dummyMsgWindow =</span>
<a href="#l580.19"></a><span id="l580.19"> {</span>
<a href="#l580.20"></a><span id="l580.20">   openFolder : IMAPPump.inbox,</span>
<a href="#l580.21"></a><span id="l580.21">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIMsgWindow,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l581.1"></a><span id="l581.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapAutoSync.js</span>
<a href="#l581.2"></a><span id="l581.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapAutoSync.js</span>
<a href="#l581.3"></a><span id="l581.3" class="difflineat">@@ -25,18 +25,18 @@ load(&quot;../../../resources/asyncTestUtils.</span>
<a href="#l581.4"></a><span id="l581.4"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l581.5"></a><span id="l581.5"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l581.6"></a><span id="l581.6"> </span>
<a href="#l581.7"></a><span id="l581.7"> // Globals</span>
<a href="#l581.8"></a><span id="l581.8"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l581.9"></a><span id="l581.9"> </span>
<a href="#l581.10"></a><span id="l581.10"> setupIMAPPump();</span>
<a href="#l581.11"></a><span id="l581.11"> </span>
<a href="#l581.12"></a><span id="l581.12" class="difflineminus">-const msgFlagOffline = Ci.nsMsgMessageFlags.Offline;</span>
<a href="#l581.13"></a><span id="l581.13" class="difflineminus">-const nsIAutoSyncMgrListener = Ci.nsIAutoSyncMgrListener;</span>
<a href="#l581.14"></a><span id="l581.14" class="difflineplus">+var msgFlagOffline = Ci.nsMsgMessageFlags.Offline;</span>
<a href="#l581.15"></a><span id="l581.15" class="difflineplus">+var nsIAutoSyncMgrListener = Ci.nsIAutoSyncMgrListener;</span>
<a href="#l581.16"></a><span id="l581.16"> </span>
<a href="#l581.17"></a><span id="l581.17"> var gGotAlert;</span>
<a href="#l581.18"></a><span id="l581.18"> </span>
<a href="#l581.19"></a><span id="l581.19"> var gAutoSyncManager = Cc[&quot;@mozilla.org/imap/autosyncmgr;1&quot;]</span>
<a href="#l581.20"></a><span id="l581.20">                        .getService(Ci.nsIAutoSyncManager);</span>
<a href="#l581.21"></a><span id="l581.21"> </span>
<a href="#l581.22"></a><span id="l581.22"> // Definition of tests</span>
<a href="#l581.23"></a><span id="l581.23"> var tests = [</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l582.1"></a><span id="l582.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapChunks.js</span>
<a href="#l582.2"></a><span id="l582.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapChunks.js</span>
<a href="#l582.3"></a><span id="l582.3" class="difflineat">@@ -2,21 +2,21 @@</span>
<a href="#l582.4"></a><span id="l582.4">  * Test bug 92111 - imap download-by-chunks doesn't download complete file if the</span>
<a href="#l582.5"></a><span id="l582.5">  * server lies about rfc822.size (known to happen for Exchange and gmail)</span>
<a href="#l582.6"></a><span id="l582.6">  */</span>
<a href="#l582.7"></a><span id="l582.7"> </span>
<a href="#l582.8"></a><span id="l582.8"> Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l582.9"></a><span id="l582.9"> </span>
<a href="#l582.10"></a><span id="l582.10"> var gIMAPDaemon, gServer, gIMAPIncomingServer, gSavedMsgFile;</span>
<a href="#l582.11"></a><span id="l582.11"> </span>
<a href="#l582.12"></a><span id="l582.12" class="difflineminus">-const gIMAPService = Cc[&quot;@mozilla.org/messenger/messageservice;1?type=imap&quot;]</span>
<a href="#l582.13"></a><span id="l582.13" class="difflineplus">+var gIMAPService = Cc[&quot;@mozilla.org/messenger/messageservice;1?type=imap&quot;]</span>
<a href="#l582.14"></a><span id="l582.14">                        .getService(Ci.nsIMsgMessageService);</span>
<a href="#l582.15"></a><span id="l582.15"> </span>
<a href="#l582.16"></a><span id="l582.16" class="difflineminus">-const gFileName = &quot;bug92111&quot;;</span>
<a href="#l582.17"></a><span id="l582.17" class="difflineminus">-const gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l582.18"></a><span id="l582.18" class="difflineplus">+var gFileName = &quot;bug92111&quot;;</span>
<a href="#l582.19"></a><span id="l582.19" class="difflineplus">+var gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l582.20"></a><span id="l582.20">                      </span>
<a href="#l582.21"></a><span id="l582.21"> function run_test()</span>
<a href="#l582.22"></a><span id="l582.22"> {</span>
<a href="#l582.23"></a><span id="l582.23">   /*</span>
<a href="#l582.24"></a><span id="l582.24">    * Set up an IMAP server. The bug is only triggered when nsMsgSaveAsListener</span>
<a href="#l582.25"></a><span id="l582.25">    * is used (i.e., for IMAP and NNTP).</span>
<a href="#l582.26"></a><span id="l582.26">    */</span>
<a href="#l582.27"></a><span id="l582.27">   gIMAPDaemon = new imapDaemon();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l583.1"></a><span id="l583.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapContentLength.js</span>
<a href="#l583.2"></a><span id="l583.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapContentLength.js</span>
<a href="#l583.3"></a><span id="l583.3" class="difflineat">@@ -14,17 +14,17 @@</span>
<a href="#l583.4"></a><span id="l583.4"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l583.5"></a><span id="l583.5"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l583.6"></a><span id="l583.6"> </span>
<a href="#l583.7"></a><span id="l583.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l583.8"></a><span id="l583.8"> </span>
<a href="#l583.9"></a><span id="l583.9"> var gMsgHdr = null;</span>
<a href="#l583.10"></a><span id="l583.10"> </span>
<a href="#l583.11"></a><span id="l583.11"> // Take a multipart message as we're testing attachment URLs as well</span>
<a href="#l583.12"></a><span id="l583.12" class="difflineminus">-const gFile = do_get_file(&quot;../../../data/multipart-complex2&quot;);</span>
<a href="#l583.13"></a><span id="l583.13" class="difflineplus">+var gFile = do_get_file(&quot;../../../data/multipart-complex2&quot;);</span>
<a href="#l583.14"></a><span id="l583.14">                    </span>
<a href="#l583.15"></a><span id="l583.15"> var tests = [</span>
<a href="#l583.16"></a><span id="l583.16">   setup,</span>
<a href="#l583.17"></a><span id="l583.17">   addMessageToServer,</span>
<a href="#l583.18"></a><span id="l583.18">   verifyContentLength,</span>
<a href="#l583.19"></a><span id="l583.19">   teardown</span>
<a href="#l583.20"></a><span id="l583.20"> ];</span>
<a href="#l583.21"></a><span id="l583.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l584.1"></a><span id="l584.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapFilterActions.js</span>
<a href="#l584.2"></a><span id="l584.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapFilterActions.js</span>
<a href="#l584.3"></a><span id="l584.3" class="difflineat">@@ -7,61 +7,61 @@</span>
<a href="#l584.4"></a><span id="l584.4">  *</span>
<a href="#l584.5"></a><span id="l584.5">  * Original author: Kent James &lt;kent@caspia.com&gt;</span>
<a href="#l584.6"></a><span id="l584.6">  * adapted from test_localToImapFilter.js</span>
<a href="#l584.7"></a><span id="l584.7">  */</span>
<a href="#l584.8"></a><span id="l584.8"> </span>
<a href="#l584.9"></a><span id="l584.9"> Components.utils.import(&quot;resource:///modules/folderUtils.jsm&quot;);</span>
<a href="#l584.10"></a><span id="l584.10"> Components.utils.import(&quot;resource://gre/modules/Task.jsm&quot;);</span>
<a href="#l584.11"></a><span id="l584.11"> </span>
<a href="#l584.12"></a><span id="l584.12" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l584.13"></a><span id="l584.13" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l584.14"></a><span id="l584.14" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l584.15"></a><span id="l584.15" class="difflineminus">-const Is = nsMsgSearchOp.Is;</span>
<a href="#l584.16"></a><span id="l584.16" class="difflineminus">-const Contains = nsMsgSearchOp.Contains;</span>
<a href="#l584.17"></a><span id="l584.17" class="difflineminus">-const Subject = nsMsgSearchAttrib.Subject;</span>
<a href="#l584.18"></a><span id="l584.18" class="difflineminus">-const Body = nsMsgSearchAttrib.Body;</span>
<a href="#l584.19"></a><span id="l584.19" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l584.20"></a><span id="l584.20" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l584.21"></a><span id="l584.21" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l584.22"></a><span id="l584.22" class="difflineplus">+var Is = nsMsgSearchOp.Is;</span>
<a href="#l584.23"></a><span id="l584.23" class="difflineplus">+var Contains = nsMsgSearchOp.Contains;</span>
<a href="#l584.24"></a><span id="l584.24" class="difflineplus">+var Subject = nsMsgSearchAttrib.Subject;</span>
<a href="#l584.25"></a><span id="l584.25" class="difflineplus">+var Body = nsMsgSearchAttrib.Body;</span>
<a href="#l584.26"></a><span id="l584.26"> </span>
<a href="#l584.27"></a><span id="l584.27"> // Globals</span>
<a href="#l584.28"></a><span id="l584.28"> var gSubfolder; // a local message folder used as a target for moves and copies</span>
<a href="#l584.29"></a><span id="l584.29"> var gLastKey; // the last message key</span>
<a href="#l584.30"></a><span id="l584.30"> var gFilter; // a message filter with a subject search</span>
<a href="#l584.31"></a><span id="l584.31"> var gAction; // current message action (reused)</span>
<a href="#l584.32"></a><span id="l584.32"> var gBodyFilter; // a message filter with a body search</span>
<a href="#l584.33"></a><span id="l584.33"> var gInboxListener; // database listener object</span>
<a href="#l584.34"></a><span id="l584.34"> var gContinueListener; // what listener is used to continue the test?</span>
<a href="#l584.35"></a><span id="l584.35"> var gHeader; // the current message db header</span>
<a href="#l584.36"></a><span id="l584.36"> var gChecks; // the function that will be used to check the results of the filter</span>
<a href="#l584.37"></a><span id="l584.37"> var gInboxCount; // the previous number of messages in the Inbox</span>
<a href="#l584.38"></a><span id="l584.38"> var gSubfolderCount; // the previous number of messages in the subfolder</span>
<a href="#l584.39"></a><span id="l584.39"> var gMoveCallbackCount; // the number of callbacks from the move listener</span>
<a href="#l584.40"></a><span id="l584.40"> var gCurTestNum; // the current test number</span>
<a href="#l584.41"></a><span id="l584.41" class="difflineminus">-const gMessage = &quot;draft1&quot;; // message file used as the test message</span>
<a href="#l584.42"></a><span id="l584.42" class="difflineplus">+var gMessage = &quot;draft1&quot;; // message file used as the test message</span>
<a href="#l584.43"></a><span id="l584.43"> </span>
<a href="#l584.44"></a><span id="l584.44"> // subject of the test message</span>
<a href="#l584.45"></a><span id="l584.45" class="difflineminus">-const gMessageSubject = &quot;Hello, did you receive my bugmail?&quot;;</span>
<a href="#l584.46"></a><span id="l584.46" class="difflineplus">+var gMessageSubject = &quot;Hello, did you receive my bugmail?&quot;;</span>
<a href="#l584.47"></a><span id="l584.47"> </span>
<a href="#l584.48"></a><span id="l584.48"> // a string in the body of the test message</span>
<a href="#l584.49"></a><span id="l584.49" class="difflineminus">-const gMessageInBody = &quot;an HTML message&quot;;</span>
<a href="#l584.50"></a><span id="l584.50" class="difflineplus">+var gMessageInBody = &quot;an HTML message&quot;;</span>
<a href="#l584.51"></a><span id="l584.51"> </span>
<a href="#l584.52"></a><span id="l584.52"> // various object references</span>
<a href="#l584.53"></a><span id="l584.53" class="difflineminus">-const gCopyService = MailServices.copy;</span>
<a href="#l584.54"></a><span id="l584.54" class="difflineminus">-const gDbService = Components.classes[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span>
<a href="#l584.55"></a><span id="l584.55" class="difflineplus">+var gCopyService = MailServices.copy;</span>
<a href="#l584.56"></a><span id="l584.56" class="difflineplus">+var gDbService = Components.classes[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span>
<a href="#l584.57"></a><span id="l584.57">                              .getService(Components.interfaces.nsIMsgDBService);</span>
<a href="#l584.58"></a><span id="l584.58" class="difflineminus">-const kFiltersAppliedAtom = Cc[&quot;@mozilla.org/atom-service;1&quot;]</span>
<a href="#l584.59"></a><span id="l584.59" class="difflineplus">+var kFiltersAppliedAtom = Cc[&quot;@mozilla.org/atom-service;1&quot;]</span>
<a href="#l584.60"></a><span id="l584.60">                               .getService(Ci.nsIAtomService)</span>
<a href="#l584.61"></a><span id="l584.61">                               .getAtom(&quot;FiltersApplied&quot;);</span>
<a href="#l584.62"></a><span id="l584.62" class="difflineminus">-const kDeleteOrMoveMsgCompleted = Cc[&quot;@mozilla.org/atom-service;1&quot;]</span>
<a href="#l584.63"></a><span id="l584.63" class="difflineplus">+var kDeleteOrMoveMsgCompleted = Cc[&quot;@mozilla.org/atom-service;1&quot;]</span>
<a href="#l584.64"></a><span id="l584.64">                                     .getService(Ci.nsIAtomService)</span>
<a href="#l584.65"></a><span id="l584.65">                                     .getAtom(&quot;DeleteOrMoveMsgCompleted&quot;);</span>
<a href="#l584.66"></a><span id="l584.66"> </span>
<a href="#l584.67"></a><span id="l584.67"> // Definition of tests. The test function name is the filter action</span>
<a href="#l584.68"></a><span id="l584.68"> // being tested, with &quot;Body&quot; appended to tests that use delayed</span>
<a href="#l584.69"></a><span id="l584.69"> // application of filters due to a body search</span>
<a href="#l584.70"></a><span id="l584.70" class="difflineminus">-const gTestArray =</span>
<a href="#l584.71"></a><span id="l584.71" class="difflineplus">+var gTestArray =</span>
<a href="#l584.72"></a><span id="l584.72"> [ </span>
<a href="#l584.73"></a><span id="l584.73">   setupIMAPPump,</span>
<a href="#l584.74"></a><span id="l584.74">     // optionally set server parameters, here enabling debug messages</span>
<a href="#l584.75"></a><span id="l584.75">   //function serverParms() {</span>
<a href="#l584.76"></a><span id="l584.76">   //  IMAPPump.server.setDebugLevel(fsDebugAll);</span>
<a href="#l584.77"></a><span id="l584.77">   //},</span>
<a href="#l584.78"></a><span id="l584.78">   setupFilters,</span>
<a href="#l584.79"></a><span id="l584.79">   // The initial tests do not result in new messages added.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l585.1"></a><span id="l585.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapFilterActionsPostplugin.js</span>
<a href="#l585.2"></a><span id="l585.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapFilterActionsPostplugin.js</span>
<a href="#l585.3"></a><span id="l585.3" class="difflineat">@@ -5,54 +5,54 @@</span>
<a href="#l585.4"></a><span id="l585.4">  * adapted from test_imapFilterActions.js</span>
<a href="#l585.5"></a><span id="l585.5">  */</span>
<a href="#l585.6"></a><span id="l585.6"> </span>
<a href="#l585.7"></a><span id="l585.7"> Components.utils.import(&quot;resource:///modules/folderUtils.jsm&quot;);</span>
<a href="#l585.8"></a><span id="l585.8"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l585.9"></a><span id="l585.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l585.10"></a><span id="l585.10"> Components.utils.import(&quot;resource://gre/modules/Task.jsm&quot;);</span>
<a href="#l585.11"></a><span id="l585.11"> </span>
<a href="#l585.12"></a><span id="l585.12" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l585.13"></a><span id="l585.13" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l585.14"></a><span id="l585.14" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l585.15"></a><span id="l585.15" class="difflineminus">-const Is = nsMsgSearchOp.Is;</span>
<a href="#l585.16"></a><span id="l585.16" class="difflineminus">-const Contains = nsMsgSearchOp.Contains;</span>
<a href="#l585.17"></a><span id="l585.17" class="difflineminus">-const Subject = nsMsgSearchAttrib.Subject;</span>
<a href="#l585.18"></a><span id="l585.18" class="difflineminus">-const Body = nsMsgSearchAttrib.Body;</span>
<a href="#l585.19"></a><span id="l585.19" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l585.20"></a><span id="l585.20" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l585.21"></a><span id="l585.21" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l585.22"></a><span id="l585.22" class="difflineplus">+var Is = nsMsgSearchOp.Is;</span>
<a href="#l585.23"></a><span id="l585.23" class="difflineplus">+var Contains = nsMsgSearchOp.Contains;</span>
<a href="#l585.24"></a><span id="l585.24" class="difflineplus">+var Subject = nsMsgSearchAttrib.Subject;</span>
<a href="#l585.25"></a><span id="l585.25" class="difflineplus">+var Body = nsMsgSearchAttrib.Body;</span>
<a href="#l585.26"></a><span id="l585.26"> </span>
<a href="#l585.27"></a><span id="l585.27"> // Globals</span>
<a href="#l585.28"></a><span id="l585.28"> var gSubfolder; // a local message folder used as a target for moves and copies</span>
<a href="#l585.29"></a><span id="l585.29"> var gLastKey; // the last message key</span>
<a href="#l585.30"></a><span id="l585.30"> var gFilter; // a message filter with a subject search</span>
<a href="#l585.31"></a><span id="l585.31"> var gAction; // current message action (reused)</span>
<a href="#l585.32"></a><span id="l585.32"> var gInboxListener; // database listener object</span>
<a href="#l585.33"></a><span id="l585.33"> var gHeader; // the current message db header</span>
<a href="#l585.34"></a><span id="l585.34"> var gChecks; // the function that will be used to check the results of the filter</span>
<a href="#l585.35"></a><span id="l585.35"> var gInboxCount; // the previous number of messages in the Inbox</span>
<a href="#l585.36"></a><span id="l585.36"> var gSubfolderCount; // the previous number of messages in the subfolder</span>
<a href="#l585.37"></a><span id="l585.37"> var gMoveCallbackCount; // the number of callbacks from the move listener</span>
<a href="#l585.38"></a><span id="l585.38" class="difflineminus">-const gMessage = &quot;draft1&quot;; // message file used as the test message</span>
<a href="#l585.39"></a><span id="l585.39" class="difflineplus">+var gMessage = &quot;draft1&quot;; // message file used as the test message</span>
<a href="#l585.40"></a><span id="l585.40"> </span>
<a href="#l585.41"></a><span id="l585.41"> // subject of the test message</span>
<a href="#l585.42"></a><span id="l585.42" class="difflineminus">-const gMessageSubject = &quot;Hello, did you receive my bugmail?&quot;;</span>
<a href="#l585.43"></a><span id="l585.43" class="difflineplus">+var gMessageSubject = &quot;Hello, did you receive my bugmail?&quot;;</span>
<a href="#l585.44"></a><span id="l585.44"> </span>
<a href="#l585.45"></a><span id="l585.45"> // a string in the body of the test message</span>
<a href="#l585.46"></a><span id="l585.46" class="difflineminus">-const gMessageInBody = &quot;an HTML message&quot;;</span>
<a href="#l585.47"></a><span id="l585.47" class="difflineplus">+var gMessageInBody = &quot;an HTML message&quot;;</span>
<a href="#l585.48"></a><span id="l585.48"> </span>
<a href="#l585.49"></a><span id="l585.49"> // various object references</span>
<a href="#l585.50"></a><span id="l585.50" class="difflineminus">-const gDbService = Components.classes[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span>
<a href="#l585.51"></a><span id="l585.51" class="difflineplus">+var gDbService = Components.classes[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span>
<a href="#l585.52"></a><span id="l585.52">                              .getService(Components.interfaces.nsIMsgDBService);</span>
<a href="#l585.53"></a><span id="l585.53" class="difflineminus">-const kDeleteOrMoveMsgCompleted = Cc[&quot;@mozilla.org/atom-service;1&quot;]</span>
<a href="#l585.54"></a><span id="l585.54" class="difflineplus">+var kDeleteOrMoveMsgCompleted = Cc[&quot;@mozilla.org/atom-service;1&quot;]</span>
<a href="#l585.55"></a><span id="l585.55">                                     .getService(Ci.nsIAtomService)</span>
<a href="#l585.56"></a><span id="l585.56">                                     .getAtom(&quot;DeleteOrMoveMsgCompleted&quot;);</span>
<a href="#l585.57"></a><span id="l585.57"> </span>
<a href="#l585.58"></a><span id="l585.58"> // Definition of tests. The test function name is the filter action</span>
<a href="#l585.59"></a><span id="l585.59"> // being tested, with &quot;Body&quot; appended to tests that use delayed</span>
<a href="#l585.60"></a><span id="l585.60"> // application of filters due to a body search</span>
<a href="#l585.61"></a><span id="l585.61" class="difflineminus">-const gTestArray =</span>
<a href="#l585.62"></a><span id="l585.62" class="difflineplus">+var gTestArray =</span>
<a href="#l585.63"></a><span id="l585.63"> [</span>
<a href="#l585.64"></a><span id="l585.64">   setupIMAPPump,</span>
<a href="#l585.65"></a><span id="l585.65">   setupFilters,</span>
<a href="#l585.66"></a><span id="l585.66">   function *DoNothing() {</span>
<a href="#l585.67"></a><span id="l585.67">     gAction.type = Ci.nsMsgFilterAction.StopExecution;</span>
<a href="#l585.68"></a><span id="l585.68">     gInboxCount = folderCount(IMAPPump.inbox);</span>
<a href="#l585.69"></a><span id="l585.69">     yield setupTest(gFilter, gAction);</span>
<a href="#l585.70"></a><span id="l585.70">     testCounts(false, 1, 0, 0);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l586.1"></a><span id="l586.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapHdrChunking.js</span>
<a href="#l586.2"></a><span id="l586.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapHdrChunking.js</span>
<a href="#l586.3"></a><span id="l586.3" class="difflineat">@@ -13,17 +13,17 @@ load(&quot;../../../resources/messageGenerato</span>
<a href="#l586.4"></a><span id="l586.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l586.5"></a><span id="l586.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l586.6"></a><span id="l586.6"> // javascript mime emitter functions</span>
<a href="#l586.7"></a><span id="l586.7"> </span>
<a href="#l586.8"></a><span id="l586.8"> // IMAP pump</span>
<a href="#l586.9"></a><span id="l586.9"> </span>
<a href="#l586.10"></a><span id="l586.10"> setupIMAPPump();</span>
<a href="#l586.11"></a><span id="l586.11"> </span>
<a href="#l586.12"></a><span id="l586.12" class="difflineminus">-const kBiffStateAtom = Cc[&quot;@mozilla.org/atom-service;1&quot;]</span>
<a href="#l586.13"></a><span id="l586.13" class="difflineplus">+var kBiffStateAtom = Cc[&quot;@mozilla.org/atom-service;1&quot;]</span>
<a href="#l586.14"></a><span id="l586.14">                          .getService(Ci.nsIAtomService)</span>
<a href="#l586.15"></a><span id="l586.15">                          .getAtom(&quot;BiffState&quot;);</span>
<a href="#l586.16"></a><span id="l586.16"> // Dummy message window so we can say the inbox is open in a window.</span>
<a href="#l586.17"></a><span id="l586.17"> var dummyMsgWindow =</span>
<a href="#l586.18"></a><span id="l586.18"> {</span>
<a href="#l586.19"></a><span id="l586.19">   openFolder : IMAPPump.inbox,</span>
<a href="#l586.20"></a><span id="l586.20">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIMsgWindow,</span>
<a href="#l586.21"></a><span id="l586.21">                                          Ci.nsISupportsWeakReference])</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l587.1"></a><span id="l587.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapHdrStreaming.js</span>
<a href="#l587.2"></a><span id="l587.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapHdrStreaming.js</span>
<a href="#l587.3"></a><span id="l587.3" class="difflineat">@@ -14,20 +14,20 @@ load(&quot;../../../resources/messageGenerato</span>
<a href="#l587.4"></a><span id="l587.4"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l587.5"></a><span id="l587.5"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l587.6"></a><span id="l587.6"> </span>
<a href="#l587.7"></a><span id="l587.7"> // IMAP pump</span>
<a href="#l587.8"></a><span id="l587.8"> </span>
<a href="#l587.9"></a><span id="l587.9"> setupIMAPPump();</span>
<a href="#l587.10"></a><span id="l587.10"> </span>
<a href="#l587.11"></a><span id="l587.11"> </span>
<a href="#l587.12"></a><span id="l587.12" class="difflineminus">-const nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l587.13"></a><span id="l587.13" class="difflineplus">+var nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l587.14"></a><span id="l587.14"> </span>
<a href="#l587.15"></a><span id="l587.15"> var gMsgFile1 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l587.16"></a><span id="l587.16" class="difflineminus">-const gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l587.17"></a><span id="l587.17" class="difflineplus">+var gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l587.18"></a><span id="l587.18"> </span>
<a href="#l587.19"></a><span id="l587.19"> // We use this as a display consumer</span>
<a href="#l587.20"></a><span id="l587.20"> var streamListener =</span>
<a href="#l587.21"></a><span id="l587.21"> {</span>
<a href="#l587.22"></a><span id="l587.22">   _data: &quot;&quot;,</span>
<a href="#l587.23"></a><span id="l587.23">   _stream : null,</span>
<a href="#l587.24"></a><span id="l587.24"> </span>
<a href="#l587.25"></a><span id="l587.25">   QueryInterface:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l588.1"></a><span id="l588.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapID.js</span>
<a href="#l588.2"></a><span id="l588.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapID.js</span>
<a href="#l588.3"></a><span id="l588.3" class="difflineat">@@ -3,17 +3,17 @@</span>
<a href="#l588.4"></a><span id="l588.4">  * Test to ensure that we handle the RFC2197 ID command.</span>
<a href="#l588.5"></a><span id="l588.5">  */</span>
<a href="#l588.6"></a><span id="l588.6"> </span>
<a href="#l588.7"></a><span id="l588.7"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l588.8"></a><span id="l588.8"> </span>
<a href="#l588.9"></a><span id="l588.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l588.10"></a><span id="l588.10"> Components.utils.import(&quot;resource://testing-common/mailnews/PromiseTestUtils.jsm&quot;);</span>
<a href="#l588.11"></a><span id="l588.11"> </span>
<a href="#l588.12"></a><span id="l588.12" class="difflineminus">-const kIDResponse = &quot;(\&quot;name\&quot; \&quot;GImap\&quot; \&quot;vendor\&quot; \&quot;Google, Inc.\&quot; \&quot;support-url\&quot; \&quot;http://mail.google.com/support\&quot;)&quot;;</span>
<a href="#l588.13"></a><span id="l588.13" class="difflineplus">+var kIDResponse = &quot;(\&quot;name\&quot; \&quot;GImap\&quot; \&quot;vendor\&quot; \&quot;Google, Inc.\&quot; \&quot;support-url\&quot; \&quot;http://mail.google.com/support\&quot;)&quot;;</span>
<a href="#l588.14"></a><span id="l588.14"> </span>
<a href="#l588.15"></a><span id="l588.15"> add_task(function* setup() {</span>
<a href="#l588.16"></a><span id="l588.16">   setupIMAPPump(&quot;GMail&quot;);</span>
<a href="#l588.17"></a><span id="l588.17">   IMAPPump.daemon.idResponse = kIDResponse;</span>
<a href="#l588.18"></a><span id="l588.18"> </span>
<a href="#l588.19"></a><span id="l588.19">   // update folder to kick start tests.</span>
<a href="#l588.20"></a><span id="l588.20">   let promiseUrlListener = new PromiseTestUtils.PromiseUrlListener();</span>
<a href="#l588.21"></a><span id="l588.21">   IMAPPump.inbox.updateFolderWithListener(null, promiseUrlListener);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l589.1"></a><span id="l589.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapPasswordFailure.js</span>
<a href="#l589.2"></a><span id="l589.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapPasswordFailure.js</span>
<a href="#l589.3"></a><span id="l589.3" class="difflineat">@@ -10,19 +10,19 @@</span>
<a href="#l589.4"></a><span id="l589.4">  */</span>
<a href="#l589.5"></a><span id="l589.5"> </span>
<a href="#l589.6"></a><span id="l589.6"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l589.7"></a><span id="l589.7"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l589.8"></a><span id="l589.8"> </span>
<a href="#l589.9"></a><span id="l589.9"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l589.10"></a><span id="l589.10"> load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l589.11"></a><span id="l589.11"> </span>
<a href="#l589.12"></a><span id="l589.12" class="difflineminus">-const kUserName = &quot;user&quot;;</span>
<a href="#l589.13"></a><span id="l589.13" class="difflineminus">-const kInvalidPassword = &quot;imaptest&quot;;</span>
<a href="#l589.14"></a><span id="l589.14" class="difflineminus">-const kValidPassword = &quot;password&quot;;</span>
<a href="#l589.15"></a><span id="l589.15" class="difflineplus">+var kUserName = &quot;user&quot;;</span>
<a href="#l589.16"></a><span id="l589.16" class="difflineplus">+var kInvalidPassword = &quot;imaptest&quot;;</span>
<a href="#l589.17"></a><span id="l589.17" class="difflineplus">+var kValidPassword = &quot;password&quot;;</span>
<a href="#l589.18"></a><span id="l589.18"> </span>
<a href="#l589.19"></a><span id="l589.19"> var incomingServer, server;</span>
<a href="#l589.20"></a><span id="l589.20"> var attempt = 0;</span>
<a href="#l589.21"></a><span id="l589.21"> </span>
<a href="#l589.22"></a><span id="l589.22"> function confirmEx(aDialogTitle, aText, aButtonFlags, aButton0Title,</span>
<a href="#l589.23"></a><span id="l589.23">                    aButton1Title, aButton2Title, aCheckMsg, aCheckState) {</span>
<a href="#l589.24"></a><span id="l589.24">   switch (++attempt) {</span>
<a href="#l589.25"></a><span id="l589.25">     // First attempt, retry.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l590.1"></a><span id="l590.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapProtocols.js</span>
<a href="#l590.2"></a><span id="l590.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapProtocols.js</span>
<a href="#l590.3"></a><span id="l590.3" class="difflineat">@@ -1,21 +1,21 @@</span>
<a href="#l590.4"></a><span id="l590.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l590.5"></a><span id="l590.5"> /*</span>
<a href="#l590.6"></a><span id="l590.6">  * Test suite for IMAP nsIProtocolHandler implementations.</span>
<a href="#l590.7"></a><span id="l590.7">  */</span>
<a href="#l590.8"></a><span id="l590.8"> </span>
<a href="#l590.9"></a><span id="l590.9" class="difflineminus">-const defaultProtocolFlags =</span>
<a href="#l590.10"></a><span id="l590.10" class="difflineplus">+var defaultProtocolFlags =</span>
<a href="#l590.11"></a><span id="l590.11">   Ci.nsIProtocolHandler.URI_STD |</span>
<a href="#l590.12"></a><span id="l590.12">   Ci.nsIProtocolHandler.URI_FORBIDS_AUTOMATIC_DOCUMENT_REPLACEMENT |</span>
<a href="#l590.13"></a><span id="l590.13">   Ci.nsIProtocolHandler.URI_DANGEROUS_TO_LOAD |</span>
<a href="#l590.14"></a><span id="l590.14">   Ci.nsIProtocolHandler.ALLOWS_PROXY |</span>
<a href="#l590.15"></a><span id="l590.15">   Ci.nsIProtocolHandler.URI_FORBIDS_COOKIE_ACCESS;</span>
<a href="#l590.16"></a><span id="l590.16"> </span>
<a href="#l590.17"></a><span id="l590.17" class="difflineminus">-const protocols =</span>
<a href="#l590.18"></a><span id="l590.18" class="difflineplus">+var protocols =</span>
<a href="#l590.19"></a><span id="l590.19">   [ { protocol: &quot;imap&quot;,</span>
<a href="#l590.20"></a><span id="l590.20">       urlSpec: &quot;imap://user@localhost/&quot;,</span>
<a href="#l590.21"></a><span id="l590.21">       defaultPort: Ci.nsIImapUrl.DEFAULT_IMAP_PORT</span>
<a href="#l590.22"></a><span id="l590.22">     }</span>
<a href="#l590.23"></a><span id="l590.23">     // XXX Imaps protocol not available via nsIProtocolHandler yet.</span>
<a href="#l590.24"></a><span id="l590.24">     /*,</span>
<a href="#l590.25"></a><span id="l590.25">     { protocol: &quot;imaps&quot;,</span>
<a href="#l590.26"></a><span id="l590.26">       urlSpec: &quot;iamps://user@localhost/&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l591.1"></a><span id="l591.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapSearch.js</span>
<a href="#l591.2"></a><span id="l591.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapSearch.js</span>
<a href="#l591.3"></a><span id="l591.3" class="difflineat">@@ -22,17 +22,17 @@ dump('set mailnews.customDBHeaders to ' </span>
<a href="#l591.4"></a><span id="l591.4"> Services.prefs.setCharPref(&quot;mailnews.customHeaders&quot;,</span>
<a href="#l591.5"></a><span id="l591.5">                            &quot;x-uidl: x-bugzilla-watch-reason: x-bugzilla-component: received: x-spam-checker-version&quot;);</span>
<a href="#l591.6"></a><span id="l591.6"> </span>
<a href="#l591.7"></a><span id="l591.7"> // IMAP pump</span>
<a href="#l591.8"></a><span id="l591.8"> </span>
<a href="#l591.9"></a><span id="l591.9"> // Globals</span>
<a href="#l591.10"></a><span id="l591.10"> </span>
<a href="#l591.11"></a><span id="l591.11"> // Messages to load must have CRLF line endings, that is Windows style</span>
<a href="#l591.12"></a><span id="l591.12" class="difflineminus">-const gMessage = &quot;bugmail12&quot;; // message file used as the test message</span>
<a href="#l591.13"></a><span id="l591.13" class="difflineplus">+var gMessage = &quot;bugmail12&quot;; // message file used as the test message</span>
<a href="#l591.14"></a><span id="l591.14"> </span>
<a href="#l591.15"></a><span id="l591.15"> setupIMAPPump();</span>
<a href="#l591.16"></a><span id="l591.16"> </span>
<a href="#l591.17"></a><span id="l591.17"> // Definition of tests</span>
<a href="#l591.18"></a><span id="l591.18"> var tests = [</span>
<a href="#l591.19"></a><span id="l591.19">   loadImapMessage,</span>
<a href="#l591.20"></a><span id="l591.20">   testSearch,</span>
<a href="#l591.21"></a><span id="l591.21">   endTest</span>
<a href="#l591.22"></a><span id="l591.22" class="difflineat">@@ -42,39 +42,39 @@ var tests = [</span>
<a href="#l591.23"></a><span id="l591.23"> /*</span>
<a href="#l591.24"></a><span id="l591.24">  * Testing of general mail search features.</span>
<a href="#l591.25"></a><span id="l591.25">  *</span>
<a href="#l591.26"></a><span id="l591.26">  * This tests some search attributes not tested by other specific tests,</span>
<a href="#l591.27"></a><span id="l591.27">  * e.g., test_searchTag.js or test_searchJunk.js</span>
<a href="#l591.28"></a><span id="l591.28">  */</span>
<a href="#l591.29"></a><span id="l591.29"> load(&quot;../../../resources/searchTestUtils.js&quot;);</span>
<a href="#l591.30"></a><span id="l591.30"> </span>
<a href="#l591.31"></a><span id="l591.31" class="difflineminus">-const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l591.32"></a><span id="l591.32" class="difflineminus">-const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l591.33"></a><span id="l591.33" class="difflineminus">-const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l591.34"></a><span id="l591.34" class="difflineplus">+var nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l591.35"></a><span id="l591.35" class="difflineplus">+var nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l591.36"></a><span id="l591.36" class="difflineplus">+var nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l591.37"></a><span id="l591.37"> </span>
<a href="#l591.38"></a><span id="l591.38" class="difflineminus">-const Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l591.39"></a><span id="l591.39" class="difflineminus">-const Is = nsMsgSearchOp.Is;</span>
<a href="#l591.40"></a><span id="l591.40" class="difflineminus">-const IsEmpty = nsMsgSearchOp.IsEmpty;</span>
<a href="#l591.41"></a><span id="l591.41" class="difflineminus">-const IsntEmpty = nsMsgSearchOp.IsntEmpty;</span>
<a href="#l591.42"></a><span id="l591.42" class="difflineminus">-const Contains = nsMsgSearchOp.Contains;</span>
<a href="#l591.43"></a><span id="l591.43" class="difflineminus">-const DoesntContain = nsMsgSearchOp.DoesntContain;</span>
<a href="#l591.44"></a><span id="l591.44" class="difflineminus">-const BeginsWith = nsMsgSearchOp.BeginsWith;</span>
<a href="#l591.45"></a><span id="l591.45" class="difflineminus">-const EndsWith = nsMsgSearchOp.EndsWith;</span>
<a href="#l591.46"></a><span id="l591.46" class="difflineminus">-const IsBefore = nsMsgSearchOp.IsBefore; // control entry not enabled</span>
<a href="#l591.47"></a><span id="l591.47" class="difflineplus">+var Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l591.48"></a><span id="l591.48" class="difflineplus">+var Is = nsMsgSearchOp.Is;</span>
<a href="#l591.49"></a><span id="l591.49" class="difflineplus">+var IsEmpty = nsMsgSearchOp.IsEmpty;</span>
<a href="#l591.50"></a><span id="l591.50" class="difflineplus">+var IsntEmpty = nsMsgSearchOp.IsntEmpty;</span>
<a href="#l591.51"></a><span id="l591.51" class="difflineplus">+var Contains = nsMsgSearchOp.Contains;</span>
<a href="#l591.52"></a><span id="l591.52" class="difflineplus">+var DoesntContain = nsMsgSearchOp.DoesntContain;</span>
<a href="#l591.53"></a><span id="l591.53" class="difflineplus">+var BeginsWith = nsMsgSearchOp.BeginsWith;</span>
<a href="#l591.54"></a><span id="l591.54" class="difflineplus">+var EndsWith = nsMsgSearchOp.EndsWith;</span>
<a href="#l591.55"></a><span id="l591.55" class="difflineplus">+var IsBefore = nsMsgSearchOp.IsBefore; // control entry not enabled</span>
<a href="#l591.56"></a><span id="l591.56"> </span>
<a href="#l591.57"></a><span id="l591.57" class="difflineminus">-const offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l591.58"></a><span id="l591.58" class="difflineminus">-const onlineMail = nsMsgSearchScope.onlineMail;</span>
<a href="#l591.59"></a><span id="l591.59" class="difflineminus">-const offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l591.60"></a><span id="l591.60" class="difflineminus">-const onlineMailFilter = nsMsgSearchScope.onlineMailFilter;</span>
<a href="#l591.61"></a><span id="l591.61" class="difflineminus">-const news = nsMsgSearchScope.news; // control entry not enabled</span>
<a href="#l591.62"></a><span id="l591.62" class="difflineplus">+var offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l591.63"></a><span id="l591.63" class="difflineplus">+var onlineMail = nsMsgSearchScope.onlineMail;</span>
<a href="#l591.64"></a><span id="l591.64" class="difflineplus">+var offlineMailFilter = nsMsgSearchScope.offlineMailFilter;</span>
<a href="#l591.65"></a><span id="l591.65" class="difflineplus">+var onlineMailFilter = nsMsgSearchScope.onlineMailFilter;</span>
<a href="#l591.66"></a><span id="l591.66" class="difflineplus">+var news = nsMsgSearchScope.news; // control entry not enabled</span>
<a href="#l591.67"></a><span id="l591.67"> </span>
<a href="#l591.68"></a><span id="l591.68" class="difflineminus">-const OtherHeader = nsMsgSearchAttrib.OtherHeader;</span>
<a href="#l591.69"></a><span id="l591.69" class="difflineminus">-const From = nsMsgSearchAttrib.Sender;</span>
<a href="#l591.70"></a><span id="l591.70" class="difflineminus">-const Subject = nsMsgSearchAttrib.Subject;</span>
<a href="#l591.71"></a><span id="l591.71" class="difflineplus">+var OtherHeader = nsMsgSearchAttrib.OtherHeader;</span>
<a href="#l591.72"></a><span id="l591.72" class="difflineplus">+var From = nsMsgSearchAttrib.Sender;</span>
<a href="#l591.73"></a><span id="l591.73" class="difflineplus">+var Subject = nsMsgSearchAttrib.Subject;</span>
<a href="#l591.74"></a><span id="l591.74"> </span>
<a href="#l591.75"></a><span id="l591.75"> var searchTests =</span>
<a href="#l591.76"></a><span id="l591.76"> [</span>
<a href="#l591.77"></a><span id="l591.77">   // test the To: header</span>
<a href="#l591.78"></a><span id="l591.78">   { testString: &quot;PrimaryEmail1@test.invalid&quot;,</span>
<a href="#l591.79"></a><span id="l591.79">     testAttribute: From,</span>
<a href="#l591.80"></a><span id="l591.80">     op: Is,</span>
<a href="#l591.81"></a><span id="l591.81">     count: 1 },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l592.1"></a><span id="l592.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapStoreMsgOffline.js</span>
<a href="#l592.2"></a><span id="l592.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapStoreMsgOffline.js</span>
<a href="#l592.3"></a><span id="l592.3" class="difflineat">@@ -15,24 +15,24 @@ load(&quot;../../../resources/asyncTestUtils.</span>
<a href="#l592.4"></a><span id="l592.4"> </span>
<a href="#l592.5"></a><span id="l592.5"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l592.6"></a><span id="l592.6"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l592.7"></a><span id="l592.7"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l592.8"></a><span id="l592.8"> </span>
<a href="#l592.9"></a><span id="l592.9"> var gMessageGenerator = new MessageGenerator();</span>
<a href="#l592.10"></a><span id="l592.10"> var gScenarioFactory = new MessageScenarioFactory(gMessageGenerator);</span>
<a href="#l592.11"></a><span id="l592.11"> </span>
<a href="#l592.12"></a><span id="l592.12" class="difflineminus">-const nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l592.13"></a><span id="l592.13" class="difflineplus">+var nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l592.14"></a><span id="l592.14"> </span>
<a href="#l592.15"></a><span id="l592.15"> var gMsgFile1 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l592.16"></a><span id="l592.16" class="difflineminus">-const gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l592.17"></a><span id="l592.17" class="difflineplus">+var gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l592.18"></a><span id="l592.18"> var gMsgFile2 = do_get_file(&quot;../../../data/image-attach-test&quot;);</span>
<a href="#l592.19"></a><span id="l592.19" class="difflineminus">-const gMsgId2 = &quot;4A947F73.5030709@example.com&quot;;</span>
<a href="#l592.20"></a><span id="l592.20" class="difflineplus">+var gMsgId2 = &quot;4A947F73.5030709@example.com&quot;;</span>
<a href="#l592.21"></a><span id="l592.21"> var gMsgFile3 = do_get_file(&quot;../../../data/external-attach-test&quot;);</span>
<a href="#l592.22"></a><span id="l592.22" class="difflineminus">-const gMsgId3 = &quot;876TY.5030709@example.com&quot;;</span>
<a href="#l592.23"></a><span id="l592.23" class="difflineplus">+var gMsgId3 = &quot;876TY.5030709@example.com&quot;;</span>
<a href="#l592.24"></a><span id="l592.24"> </span>
<a href="#l592.25"></a><span id="l592.25"> var gFirstNewMsg;</span>
<a href="#l592.26"></a><span id="l592.26"> var gFirstMsgSize;</span>
<a href="#l592.27"></a><span id="l592.27"> var gImapInboxOfflineStoreSize;</span>
<a href="#l592.28"></a><span id="l592.28"> </span>
<a href="#l592.29"></a><span id="l592.29"> // We use this as a display consumer</span>
<a href="#l592.30"></a><span id="l592.30"> var streamListener =</span>
<a href="#l592.31"></a><span id="l592.31"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l593.1"></a><span id="l593.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapUndo.js</span>
<a href="#l593.2"></a><span id="l593.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapUndo.js</span>
<a href="#l593.3"></a><span id="l593.3" class="difflineat">@@ -15,28 +15,28 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l593.4"></a><span id="l593.4"> var gRootFolder;</span>
<a href="#l593.5"></a><span id="l593.5"> var gLastKey;</span>
<a href="#l593.6"></a><span id="l593.6"> var gMessages = Cc[&quot;@mozilla.org/array;1&quot;].createInstance(Ci.nsIMutableArray);</span>
<a href="#l593.7"></a><span id="l593.7"> var gCopyService = MailServices.copy;</span>
<a href="#l593.8"></a><span id="l593.8"> var gMsgWindow;</span>
<a href="#l593.9"></a><span id="l593.9"> </span>
<a href="#l593.10"></a><span id="l593.10"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l593.11"></a><span id="l593.11"> </span>
<a href="#l593.12"></a><span id="l593.12" class="difflineminus">-const gMsgFile1 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l593.13"></a><span id="l593.13" class="difflineminus">-const gMsgFile2 = do_get_file(&quot;../../../data/bugmail11&quot;);</span>
<a href="#l593.14"></a><span id="l593.14" class="difflineminus">-const gMsgFile3 = do_get_file(&quot;../../../data/draft1&quot;);</span>
<a href="#l593.15"></a><span id="l593.15" class="difflineminus">-const gMsgFile4 = do_get_file(&quot;../../../data/bugmail7&quot;);</span>
<a href="#l593.16"></a><span id="l593.16" class="difflineminus">-const gMsgFile5 = do_get_file(&quot;../../../data/bugmail6&quot;);</span>
<a href="#l593.17"></a><span id="l593.17" class="difflineplus">+var gMsgFile1 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l593.18"></a><span id="l593.18" class="difflineplus">+var gMsgFile2 = do_get_file(&quot;../../../data/bugmail11&quot;);</span>
<a href="#l593.19"></a><span id="l593.19" class="difflineplus">+var gMsgFile3 = do_get_file(&quot;../../../data/draft1&quot;);</span>
<a href="#l593.20"></a><span id="l593.20" class="difflineplus">+var gMsgFile4 = do_get_file(&quot;../../../data/bugmail7&quot;);</span>
<a href="#l593.21"></a><span id="l593.21" class="difflineplus">+var gMsgFile5 = do_get_file(&quot;../../../data/bugmail6&quot;);</span>
<a href="#l593.22"></a><span id="l593.22"> </span>
<a href="#l593.23"></a><span id="l593.23"> // Copied straight from the example files</span>
<a href="#l593.24"></a><span id="l593.24" class="difflineminus">-const gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l593.25"></a><span id="l593.25" class="difflineminus">-const gMsgId2 = &quot;200804111417.m3BEHTk4030129@mrapp51.mozilla.org&quot;;</span>
<a href="#l593.26"></a><span id="l593.26" class="difflineminus">-const gMsgId3 = &quot;4849BF7B.2030800@example.com&quot;;</span>
<a href="#l593.27"></a><span id="l593.27" class="difflineminus">-const gMsgId4 = &quot;bugmail7.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l593.28"></a><span id="l593.28" class="difflineminus">-const gMsgId5 = &quot;bugmail6.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l593.29"></a><span id="l593.29" class="difflineplus">+var gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l593.30"></a><span id="l593.30" class="difflineplus">+var gMsgId2 = &quot;200804111417.m3BEHTk4030129@mrapp51.mozilla.org&quot;;</span>
<a href="#l593.31"></a><span id="l593.31" class="difflineplus">+var gMsgId3 = &quot;4849BF7B.2030800@example.com&quot;;</span>
<a href="#l593.32"></a><span id="l593.32" class="difflineplus">+var gMsgId4 = &quot;bugmail7.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l593.33"></a><span id="l593.33" class="difflineplus">+var gMsgId5 = &quot;bugmail6.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l593.34"></a><span id="l593.34"> </span>
<a href="#l593.35"></a><span id="l593.35"> </span>
<a href="#l593.36"></a><span id="l593.36"> </span>
<a href="#l593.37"></a><span id="l593.37"> // Adds some messages directly to a mailbox (eg new mail)</span>
<a href="#l593.38"></a><span id="l593.38"> function addMessagesToServer(messages, mailbox, localFolder)</span>
<a href="#l593.39"></a><span id="l593.39"> {</span>
<a href="#l593.40"></a><span id="l593.40">   // For every message we have, we need to convert it to a file:/// URI</span>
<a href="#l593.41"></a><span id="l593.41">   messages.forEach(function (message)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l594.1"></a><span id="l594.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_localToImapFilter.js</span>
<a href="#l594.2"></a><span id="l594.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_localToImapFilter.js</span>
<a href="#l594.3"></a><span id="l594.3" class="difflineat">@@ -13,17 +13,17 @@ load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l594.4"></a><span id="l594.4"> Components.utils.import(&quot;resource:///modules/folderUtils.jsm&quot;);</span>
<a href="#l594.5"></a><span id="l594.5"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l594.6"></a><span id="l594.6"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l594.7"></a><span id="l594.7"> </span>
<a href="#l594.8"></a><span id="l594.8"> var gIMAPTrashFolder;</span>
<a href="#l594.9"></a><span id="l594.9"> var gEmptyLocal1, gEmptyLocal2;</span>
<a href="#l594.10"></a><span id="l594.10"> var gLastKey;</span>
<a href="#l594.11"></a><span id="l594.11"> var gMessages = Cc[&quot;@mozilla.org/array;1&quot;].createInstance(Ci.nsIMutableArray);</span>
<a href="#l594.12"></a><span id="l594.12" class="difflineminus">-const gFiles = [&quot;../../../data/bugmail1&quot;,</span>
<a href="#l594.13"></a><span id="l594.13" class="difflineplus">+var gFiles = [&quot;../../../data/bugmail1&quot;,</span>
<a href="#l594.14"></a><span id="l594.14">                 &quot;../../../data/draft1&quot;];</span>
<a href="#l594.15"></a><span id="l594.15"> </span>
<a href="#l594.16"></a><span id="l594.16"> var tests = [</span>
<a href="#l594.17"></a><span id="l594.17">   setup,</span>
<a href="#l594.18"></a><span id="l594.18">   function copyFolder1() {</span>
<a href="#l594.19"></a><span id="l594.19">     dump(&quot;gEmpty1 &quot; + gEmptyLocal1.URI + &quot;\n&quot;);</span>
<a href="#l594.20"></a><span id="l594.20">     let folders = new Array;</span>
<a href="#l594.21"></a><span id="l594.21">     folders.push(gEmptyLocal1.QueryInterface(Ci.nsIMsgFolder));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l595.1"></a><span id="l595.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js</span>
<a href="#l595.2"></a><span id="l595.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js</span>
<a href="#l595.3"></a><span id="l595.3" class="difflineat">@@ -25,17 +25,17 @@ load(&quot;../../../resources/asyncTestUtils.</span>
<a href="#l595.4"></a><span id="l595.4"> </span>
<a href="#l595.5"></a><span id="l595.5"> setupIMAPPump();</span>
<a href="#l595.6"></a><span id="l595.6"> </span>
<a href="#l595.7"></a><span id="l595.7"> var gFinishedRunningURL = -1;</span>
<a href="#l595.8"></a><span id="l595.8"> var gSubfolder;</span>
<a href="#l595.9"></a><span id="l595.9"> </span>
<a href="#l595.10"></a><span id="l595.10"> // tests</span>
<a href="#l595.11"></a><span id="l595.11"> </span>
<a href="#l595.12"></a><span id="l595.12" class="difflineminus">-const quarantineTests = [</span>
<a href="#l595.13"></a><span id="l595.13" class="difflineplus">+var quarantineTests = [</span>
<a href="#l595.14"></a><span id="l595.14">   createSubfolder,</span>
<a href="#l595.15"></a><span id="l595.15">   getLocalMessages,</span>
<a href="#l595.16"></a><span id="l595.16">   updateSubfolderAndTest,</span>
<a href="#l595.17"></a><span id="l595.17">   get2Messages,</span>
<a href="#l595.18"></a><span id="l595.18">   updateSubfolderAndTest2,</span>
<a href="#l595.19"></a><span id="l595.19">   endTest</span>
<a href="#l595.20"></a><span id="l595.20"> ];</span>
<a href="#l595.21"></a><span id="l595.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l596.1"></a><span id="l596.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js</span>
<a href="#l596.2"></a><span id="l596.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js</span>
<a href="#l596.3"></a><span id="l596.3" class="difflineat">@@ -18,28 +18,28 @@</span>
<a href="#l596.4"></a><span id="l596.4"> load(&quot;../../../resources/msgFolderListenerSetup.js&quot;);</span>
<a href="#l596.5"></a><span id="l596.5"> </span>
<a href="#l596.6"></a><span id="l596.6"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l596.7"></a><span id="l596.7"> </span>
<a href="#l596.8"></a><span id="l596.8"> // Globals</span>
<a href="#l596.9"></a><span id="l596.9"> var gRootFolder;</span>
<a href="#l596.10"></a><span id="l596.10"> var gIMAPInbox, gIMAPFolder2, gIMAPFolder3, gIMAPTrashFolder;</span>
<a href="#l596.11"></a><span id="l596.11"> var gIMAPDaemon, gServer, gIMAPIncomingServer;</span>
<a href="#l596.12"></a><span id="l596.12" class="difflineminus">-const gMsgFile1 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l596.13"></a><span id="l596.13" class="difflineminus">-const gMsgFile2 = do_get_file(&quot;../../../data/bugmail11&quot;);</span>
<a href="#l596.14"></a><span id="l596.14" class="difflineminus">-const gMsgFile3 = do_get_file(&quot;../../../data/draft1&quot;);</span>
<a href="#l596.15"></a><span id="l596.15" class="difflineminus">-const gMsgFile4 = do_get_file(&quot;../../../data/bugmail7&quot;);</span>
<a href="#l596.16"></a><span id="l596.16" class="difflineminus">-const gMsgFile5 = do_get_file(&quot;../../../data/bugmail6&quot;);</span>
<a href="#l596.17"></a><span id="l596.17" class="difflineplus">+var gMsgFile1 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l596.18"></a><span id="l596.18" class="difflineplus">+var gMsgFile2 = do_get_file(&quot;../../../data/bugmail11&quot;);</span>
<a href="#l596.19"></a><span id="l596.19" class="difflineplus">+var gMsgFile3 = do_get_file(&quot;../../../data/draft1&quot;);</span>
<a href="#l596.20"></a><span id="l596.20" class="difflineplus">+var gMsgFile4 = do_get_file(&quot;../../../data/bugmail7&quot;);</span>
<a href="#l596.21"></a><span id="l596.21" class="difflineplus">+var gMsgFile5 = do_get_file(&quot;../../../data/bugmail6&quot;);</span>
<a href="#l596.22"></a><span id="l596.22"> </span>
<a href="#l596.23"></a><span id="l596.23"> // Copied straight from the example files</span>
<a href="#l596.24"></a><span id="l596.24" class="difflineminus">-const gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l596.25"></a><span id="l596.25" class="difflineminus">-const gMsgId2 = &quot;200804111417.m3BEHTk4030129@mrapp51.mozilla.org&quot;;</span>
<a href="#l596.26"></a><span id="l596.26" class="difflineminus">-const gMsgId3 = &quot;4849BF7B.2030800@example.com&quot;;</span>
<a href="#l596.27"></a><span id="l596.27" class="difflineminus">-const gMsgId4 = &quot;bugmail7.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l596.28"></a><span id="l596.28" class="difflineminus">-const gMsgId5 = &quot;bugmail6.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l596.29"></a><span id="l596.29" class="difflineplus">+var gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l596.30"></a><span id="l596.30" class="difflineplus">+var gMsgId2 = &quot;200804111417.m3BEHTk4030129@mrapp51.mozilla.org&quot;;</span>
<a href="#l596.31"></a><span id="l596.31" class="difflineplus">+var gMsgId3 = &quot;4849BF7B.2030800@example.com&quot;;</span>
<a href="#l596.32"></a><span id="l596.32" class="difflineplus">+var gMsgId4 = &quot;bugmail7.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l596.33"></a><span id="l596.33" class="difflineplus">+var gMsgId5 = &quot;bugmail6.m47LtAEf007542@mrapp51.mozilla.org&quot;;</span>
<a href="#l596.34"></a><span id="l596.34"> var gMsgWindow = Cc[&quot;@mozilla.org/messenger/msgwindow;1&quot;]</span>
<a href="#l596.35"></a><span id="l596.35">                   .createInstance(Components.interfaces.nsIMsgWindow);</span>
<a href="#l596.36"></a><span id="l596.36"> </span>
<a href="#l596.37"></a><span id="l596.37"> </span>
<a href="#l596.38"></a><span id="l596.38"> function addFolder(parent, folderName, storeIn)</span>
<a href="#l596.39"></a><span id="l596.39"> {</span>
<a href="#l596.40"></a><span id="l596.40">   gExpectedEvents = [[gMFNService.folderAdded, parent, folderName, storeIn]];</span>
<a href="#l596.41"></a><span id="l596.41">   // No copy listener notification for this</span>
<a href="#l596.42"></a><span id="l596.42" class="difflineat">@@ -150,17 +150,17 @@ function copyMessages(messages, isMove, </span>
<a href="#l596.43"></a><span id="l596.43">   gServer.performTest(&quot;COPY&quot;);</span>
<a href="#l596.44"></a><span id="l596.44"> </span>
<a href="#l596.45"></a><span id="l596.45">   gFolderBeingUpdated = destFolder;</span>
<a href="#l596.46"></a><span id="l596.46">   doUpdateFolder(gTest);</span>
<a href="#l596.47"></a><span id="l596.47">   if (gCurrStatus == kStatus.everythingDone)</span>
<a href="#l596.48"></a><span id="l596.48">     resetStatusAndProceed();</span>
<a href="#l596.49"></a><span id="l596.49"> }</span>
<a href="#l596.50"></a><span id="l596.50"> </span>
<a href="#l596.51"></a><span id="l596.51" class="difflineminus">-const gTestArray =</span>
<a href="#l596.52"></a><span id="l596.52" class="difflineplus">+var gTestArray =</span>
<a href="#l596.53"></a><span id="l596.53"> [</span>
<a href="#l596.54"></a><span id="l596.54">   // Adding folders</span>
<a href="#l596.55"></a><span id="l596.55">   // Create another folder to move and copy messages around, and force initialization.</span>
<a href="#l596.56"></a><span id="l596.56">   function testAddFolder1() { addFolder(gRootFolder, &quot;folder2&quot;, &quot;gIMAPFolder2&quot;) },</span>
<a href="#l596.57"></a><span id="l596.57">   function testAddFolder2() { addFolder(gRootFolder, &quot;folder3&quot;, &quot;gIMAPFolder3&quot;) },</span>
<a href="#l596.58"></a><span id="l596.58"> </span>
<a href="#l596.59"></a><span id="l596.59">   // Adding messages to folders</span>
<a href="#l596.60"></a><span id="l596.60">   function testCopyFileMessage1()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l597.1"></a><span id="l597.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_offlineCopy.js</span>
<a href="#l597.2"></a><span id="l597.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_offlineCopy.js</span>
<a href="#l597.3"></a><span id="l597.3" class="difflineat">@@ -11,22 +11,22 @@</span>
<a href="#l597.4"></a><span id="l597.4">  * by allowUndo == true in CopyMessages).</span>
<a href="#l597.5"></a><span id="l597.5">  */</span>
<a href="#l597.6"></a><span id="l597.6"> </span>
<a href="#l597.7"></a><span id="l597.7"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l597.8"></a><span id="l597.8"> Components.utils.import(&quot;resource://testing-common/mailnews/PromiseTestUtils.jsm&quot;);</span>
<a href="#l597.9"></a><span id="l597.9"> </span>
<a href="#l597.10"></a><span id="l597.10"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l597.11"></a><span id="l597.11"> </span>
<a href="#l597.12"></a><span id="l597.12" class="difflineminus">-const nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l597.13"></a><span id="l597.13" class="difflineplus">+var nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l597.14"></a><span id="l597.14"> </span>
<a href="#l597.15"></a><span id="l597.15"> var gMsgFile1 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l597.16"></a><span id="l597.16" class="difflineminus">-const gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l597.17"></a><span id="l597.17" class="difflineplus">+var gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l597.18"></a><span id="l597.18"> var gMsgFile2 = do_get_file(&quot;../../../data/image-attach-test&quot;);</span>
<a href="#l597.19"></a><span id="l597.19" class="difflineminus">-const gMsgId2 = &quot;4A947F73.5030709@example.com&quot;;</span>
<a href="#l597.20"></a><span id="l597.20" class="difflineplus">+var gMsgId2 = &quot;4A947F73.5030709@example.com&quot;;</span>
<a href="#l597.21"></a><span id="l597.21"> var gMsgFile3 = do_get_file(&quot;../../../data/SpamAssassinYes&quot;);</span>
<a href="#l597.22"></a><span id="l597.22"> var gMsg3Id = &quot;bugmail7.m47LtAEf007543@mrapp51.mozilla.org&quot;;</span>
<a href="#l597.23"></a><span id="l597.23"> var gMsgFile4 = do_get_file(&quot;../../../data/bug460636&quot;);</span>
<a href="#l597.24"></a><span id="l597.24"> var gMsg4Id = &quot;foo.12345@example&quot;;</span>
<a href="#l597.25"></a><span id="l597.25"> </span>
<a href="#l597.26"></a><span id="l597.26"> var gFolder1;</span>
<a href="#l597.27"></a><span id="l597.27"> </span>
<a href="#l597.28"></a><span id="l597.28"> // Adds some messages directly to a mailbox (eg new mail)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l598.1"></a><span id="l598.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_offlinePlayback.js</span>
<a href="#l598.2"></a><span id="l598.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_offlinePlayback.js</span>
<a href="#l598.3"></a><span id="l598.3" class="difflineat">@@ -7,17 +7,17 @@</span>
<a href="#l598.4"></a><span id="l598.4"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l598.5"></a><span id="l598.5"> Components.utils.import(&quot;resource://testing-common/mailnews/PromiseTestUtils.jsm&quot;);</span>
<a href="#l598.6"></a><span id="l598.6"> </span>
<a href="#l598.7"></a><span id="l598.7"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l598.8"></a><span id="l598.8"> </span>
<a href="#l598.9"></a><span id="l598.9"> var gSecondFolder, gThirdFolder;</span>
<a href="#l598.10"></a><span id="l598.10"> var gSynthMessage1, gSynthMessage2;</span>
<a href="#l598.11"></a><span id="l598.11"> // the message id of bugmail10</span>
<a href="#l598.12"></a><span id="l598.12" class="difflineminus">-const gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l598.13"></a><span id="l598.13" class="difflineplus">+var gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l598.14"></a><span id="l598.14"> var gOfflineManager;</span>
<a href="#l598.15"></a><span id="l598.15"> </span>
<a href="#l598.16"></a><span id="l598.16"> var tests = [</span>
<a href="#l598.17"></a><span id="l598.17">   setupIMAPPump,</span>
<a href="#l598.18"></a><span id="l598.18">   function serverParms() {</span>
<a href="#l598.19"></a><span id="l598.19">     Components.utils.import(&quot;resource://testing-common/mailnews/maild.js&quot;);</span>
<a href="#l598.20"></a><span id="l598.20">     IMAPPump.server.setDebugLevel(fsDebugAll);</span>
<a href="#l598.21"></a><span id="l598.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l599.1"></a><span id="l599.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_preserveDataOnMove.js</span>
<a href="#l599.2"></a><span id="l599.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_preserveDataOnMove.js</span>
<a href="#l599.3"></a><span id="l599.3" class="difflineat">@@ -9,17 +9,17 @@</span>
<a href="#l599.4"></a><span id="l599.4"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l599.5"></a><span id="l599.5"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l599.6"></a><span id="l599.6"> </span>
<a href="#l599.7"></a><span id="l599.7"> // IMAP pump</span>
<a href="#l599.8"></a><span id="l599.8"> </span>
<a href="#l599.9"></a><span id="l599.9"> // Globals</span>
<a href="#l599.10"></a><span id="l599.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l599.11"></a><span id="l599.11"> </span>
<a href="#l599.12"></a><span id="l599.12" class="difflineminus">-const gMessage = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l599.13"></a><span id="l599.13" class="difflineplus">+var gMessage = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l599.14"></a><span id="l599.14"> </span>
<a href="#l599.15"></a><span id="l599.15"> setupIMAPPump();</span>
<a href="#l599.16"></a><span id="l599.16"> </span>
<a href="#l599.17"></a><span id="l599.17"> // Definition of tests</span>
<a href="#l599.18"></a><span id="l599.18"> var tests = [</span>
<a href="#l599.19"></a><span id="l599.19">   createSubfolder,</span>
<a href="#l599.20"></a><span id="l599.20">   loadImapMessage,</span>
<a href="#l599.21"></a><span id="l599.21">   moveMessageToSubfolder,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l600.1"></a><span id="l600.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_subfolderLocation.js</span>
<a href="#l600.2"></a><span id="l600.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_subfolderLocation.js</span>
<a href="#l600.3"></a><span id="l600.3" class="difflineat">@@ -11,17 +11,17 @@ var Cu = Components.utils;</span>
<a href="#l600.4"></a><span id="l600.4"> </span>
<a href="#l600.5"></a><span id="l600.5"> // async support</span>
<a href="#l600.6"></a><span id="l600.6"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l600.7"></a><span id="l600.7"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l600.8"></a><span id="l600.8"> </span>
<a href="#l600.9"></a><span id="l600.9"> // Globals</span>
<a href="#l600.10"></a><span id="l600.10"> </span>
<a href="#l600.11"></a><span id="l600.11"> // Messages to load must have CRLF line endings, that is Windows style</span>
<a href="#l600.12"></a><span id="l600.12" class="difflineminus">-const gMessage = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l600.13"></a><span id="l600.13" class="difflineplus">+var gMessage = &quot;bugmail10&quot;; // message file used as the test message</span>
<a href="#l600.14"></a><span id="l600.14"> </span>
<a href="#l600.15"></a><span id="l600.15"> add_task(function () {</span>
<a href="#l600.16"></a><span id="l600.16">   Services.prefs.setBoolPref(&quot;mail.server.server1.autosync_offline_stores&quot;, false);</span>
<a href="#l600.17"></a><span id="l600.17">   setupIMAPPump();</span>
<a href="#l600.18"></a><span id="l600.18"> });</span>
<a href="#l600.19"></a><span id="l600.19"> </span>
<a href="#l600.20"></a><span id="l600.20"> // load and update a message in the imap fake server</span>
<a href="#l600.21"></a><span id="l600.21"> add_task(function* loadImapMessage() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l601.1"></a><span id="l601.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_trustSpamAssassin.js</span>
<a href="#l601.2"></a><span id="l601.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_trustSpamAssassin.js</span>
<a href="#l601.3"></a><span id="l601.3" class="difflineat">@@ -15,17 +15,17 @@</span>
<a href="#l601.4"></a><span id="l601.4"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l601.5"></a><span id="l601.5"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l601.6"></a><span id="l601.6"> </span>
<a href="#l601.7"></a><span id="l601.7"> // IMAP pump</span>
<a href="#l601.8"></a><span id="l601.8"> </span>
<a href="#l601.9"></a><span id="l601.9"> // Globals</span>
<a href="#l601.10"></a><span id="l601.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l601.11"></a><span id="l601.11"> </span>
<a href="#l601.12"></a><span id="l601.12" class="difflineminus">-const gMessage = &quot;SpamAssassinYes&quot;; // message file used as the test message</span>
<a href="#l601.13"></a><span id="l601.13" class="difflineplus">+var gMessage = &quot;SpamAssassinYes&quot;; // message file used as the test message</span>
<a href="#l601.14"></a><span id="l601.14"> </span>
<a href="#l601.15"></a><span id="l601.15"> setupIMAPPump();</span>
<a href="#l601.16"></a><span id="l601.16"> </span>
<a href="#l601.17"></a><span id="l601.17"> // Definition of tests</span>
<a href="#l601.18"></a><span id="l601.18"> </span>
<a href="#l601.19"></a><span id="l601.19"> var tests = [</span>
<a href="#l601.20"></a><span id="l601.20">   createJunkFolder,</span>
<a href="#l601.21"></a><span id="l601.21">   loadImapMessage,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l602.1"></a><span id="l602.1" class="difflineminus">--- a/mailnews/import/content/importDialog.js</span>
<a href="#l602.2"></a><span id="l602.2" class="difflineplus">+++ b/mailnews/import/content/importDialog.js</span>
<a href="#l602.3"></a><span id="l602.3" class="difflineat">@@ -14,17 +14,17 @@ var importService = 0;</span>
<a href="#l602.4"></a><span id="l602.4"> var successStr = null;</span>
<a href="#l602.5"></a><span id="l602.5"> var errorStr = null;</span>
<a href="#l602.6"></a><span id="l602.6"> var inputStr = null ;</span>
<a href="#l602.7"></a><span id="l602.7"> var progressInfo = null;</span>
<a href="#l602.8"></a><span id="l602.8"> var selectedModuleName = null;</span>
<a href="#l602.9"></a><span id="l602.9"> var addInterface = null ;</span>
<a href="#l602.10"></a><span id="l602.10"> var newFeedAcctCreated = false;</span>
<a href="#l602.11"></a><span id="l602.11"> </span>
<a href="#l602.12"></a><span id="l602.12" class="difflineminus">-const nsISupportsString = Components.interfaces.nsISupportsString;</span>
<a href="#l602.13"></a><span id="l602.13" class="difflineplus">+var nsISupportsString = Components.interfaces.nsISupportsString;</span>
<a href="#l602.14"></a><span id="l602.14"> </span>
<a href="#l602.15"></a><span id="l602.15"> function OnLoadImportDialog()</span>
<a href="#l602.16"></a><span id="l602.16"> {</span>
<a href="#l602.17"></a><span id="l602.17">   gImportMsgsBundle = document.getElementById(&quot;bundle_importMsgs&quot;);</span>
<a href="#l602.18"></a><span id="l602.18">   gFeedsBundle = document.getElementById(&quot;bundle_feeds&quot;);</span>
<a href="#l602.19"></a><span id="l602.19">   importService = Components.classes[&quot;@mozilla.org/import/import-service;1&quot;]</span>
<a href="#l602.20"></a><span id="l602.20">                             .getService(Components.interfaces.nsIImportService);</span>
<a href="#l602.21"></a><span id="l602.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l603.1"></a><span id="l603.1" class="difflineminus">--- a/mailnews/import/test/unit/resources/TestMailImporter.js</span>
<a href="#l603.2"></a><span id="l603.2" class="difflineplus">+++ b/mailnews/import/test/unit/resources/TestMailImporter.js</span>
<a href="#l603.3"></a><span id="l603.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l603.4"></a><span id="l603.4"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l603.5"></a><span id="l603.5"> </span>
<a href="#l603.6"></a><span id="l603.6" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l603.7"></a><span id="l603.7" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l603.8"></a><span id="l603.8" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l603.9"></a><span id="l603.9" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l603.10"></a><span id="l603.10"> </span>
<a href="#l603.11"></a><span id="l603.11"> function TestMailImpoter() {</span>
<a href="#l603.12"></a><span id="l603.12"> };</span>
<a href="#l603.13"></a><span id="l603.13"> </span>
<a href="#l603.14"></a><span id="l603.14"> TestMailImpoter.prototype = {</span>
<a href="#l603.15"></a><span id="l603.15">   classID: Components.ID(&quot;{a81438ef-aca1-41a5-9b3a-3ccfbbe4f5e1}&quot;),</span>
<a href="#l603.16"></a><span id="l603.16"> </span>
<a href="#l603.17"></a><span id="l603.17">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIImportModule,</span>
<a href="#l603.18"></a><span id="l603.18" class="difflineat">@@ -123,9 +123,9 @@ TestMailImpoter.prototype = {</span>
<a href="#l603.19"></a><span id="l603.19">   },</span>
<a href="#l603.20"></a><span id="l603.20"> </span>
<a href="#l603.21"></a><span id="l603.21">   translateFolderName: function(folderName) {</span>
<a href="#l603.22"></a><span id="l603.22">     return folderName;</span>
<a href="#l603.23"></a><span id="l603.23">   }</span>
<a href="#l603.24"></a><span id="l603.24"> </span>
<a href="#l603.25"></a><span id="l603.25"> };</span>
<a href="#l603.26"></a><span id="l603.26"> </span>
<a href="#l603.27"></a><span id="l603.27" class="difflineminus">-const NSGetFactory = XPCOMUtils.generateNSGetFactory([TestMailImpoter]);</span>
<a href="#l603.28"></a><span id="l603.28" class="difflineplus">+var NSGetFactory = XPCOMUtils.generateNSGetFactory([TestMailImpoter]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l604.1"></a><span id="l604.1" class="difflineminus">--- a/mailnews/intl/test/unit/CharsetConversionTests.js</span>
<a href="#l604.2"></a><span id="l604.2" class="difflineplus">+++ b/mailnews/intl/test/unit/CharsetConversionTests.js</span>
<a href="#l604.3"></a><span id="l604.3" class="difflineat">@@ -1,11 +1,11 @@</span>
<a href="#l604.4"></a><span id="l604.4" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l604.5"></a><span id="l604.5" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l604.6"></a><span id="l604.6" class="difflineminus">-const CC = Components.Constructor;</span>
<a href="#l604.7"></a><span id="l604.7" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l604.8"></a><span id="l604.8" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l604.9"></a><span id="l604.9" class="difflineplus">+var CC = Components.Constructor;</span>
<a href="#l604.10"></a><span id="l604.10"> </span>
<a href="#l604.11"></a><span id="l604.11"> function CreateScriptableConverter()</span>
<a href="#l604.12"></a><span id="l604.12"> {</span>
<a href="#l604.13"></a><span id="l604.13">   var ScriptableUnicodeConverter = </span>
<a href="#l604.14"></a><span id="l604.14">     CC(&quot;@mozilla.org/intl/scriptableunicodeconverter&quot;,</span>
<a href="#l604.15"></a><span id="l604.15">        &quot;nsIScriptableUnicodeConverter&quot;);</span>
<a href="#l604.16"></a><span id="l604.16"> </span>
<a href="#l604.17"></a><span id="l604.17">   return new ScriptableUnicodeConverter();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l605.1"></a><span id="l605.1" class="difflineminus">--- a/mailnews/intl/test/unit/test_decode_utf-7.js</span>
<a href="#l605.2"></a><span id="l605.2" class="difflineplus">+++ b/mailnews/intl/test/unit/test_decode_utf-7.js</span>
<a href="#l605.3"></a><span id="l605.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l605.4"></a><span id="l605.4"> // Tests conversion from UTF-7 to Unicode. The conversion should fail!</span>
<a href="#l605.5"></a><span id="l605.5"> </span>
<a href="#l605.6"></a><span id="l605.6"> load('CharsetConversionTests.js');</span>
<a href="#l605.7"></a><span id="l605.7"> </span>
<a href="#l605.8"></a><span id="l605.8" class="difflineminus">-const inString = &quot;+LGI--+ITIipSIp- +AocCeQ-oddns +Ad0CjQ- s+ATECZQKH- p+AlAB3QJ5- u+AlACVA- no+Ao4- +Al8-I&quot;;</span>
<a href="#l605.9"></a><span id="l605.9" class="difflineplus">+var inString = &quot;+LGI--+ITIipSIp- +AocCeQ-oddns +Ad0CjQ- s+ATECZQKH- p+AlAB3QJ5- u+AlACVA- no+Ao4- +Al8-I&quot;;</span>
<a href="#l605.10"></a><span id="l605.10"> </span>
<a href="#l605.11"></a><span id="l605.11" class="difflineminus">-const expectedString = &quot;+LGI--+ITIipSIp- +AocCeQ-oddns +Ad0CjQ- s+ATECZQKH- p+AlAB3QJ5- u+AlACVA- no+Ao4- +Al8-I&quot;;</span>
<a href="#l605.12"></a><span id="l605.12" class="difflineplus">+var expectedString = &quot;+LGI--+ITIipSIp- +AocCeQ-oddns +Ad0CjQ- s+ATECZQKH- p+AlAB3QJ5- u+AlACVA- no+Ao4- +Al8-I&quot;;</span>
<a href="#l605.13"></a><span id="l605.13"> </span>
<a href="#l605.14"></a><span id="l605.14" class="difflineminus">-const aliases = [ &quot;UTF-7&quot;, &quot;utf-7&quot;, &quot;x-unicode-2-0-utf-7&quot;, &quot;unicode-2-0-utf-7&quot;,</span>
<a href="#l605.15"></a><span id="l605.15" class="difflineplus">+var aliases = [ &quot;UTF-7&quot;, &quot;utf-7&quot;, &quot;x-unicode-2-0-utf-7&quot;, &quot;unicode-2-0-utf-7&quot;,</span>
<a href="#l605.16"></a><span id="l605.16"> 		  &quot;unicode-1-1-utf-7&quot;, &quot;csunicode11utf7&quot; ];</span>
<a href="#l605.17"></a><span id="l605.17"> </span>
<a href="#l605.18"></a><span id="l605.18"> function run_test() {</span>
<a href="#l605.19"></a><span id="l605.19">   testDecodeAliases();</span>
<a href="#l605.20"></a><span id="l605.20"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l606.1"></a><span id="l606.1" class="difflineminus">--- a/mailnews/intl/test/unit/test_decode_utf-7_internal.js</span>
<a href="#l606.2"></a><span id="l606.2" class="difflineplus">+++ b/mailnews/intl/test/unit/test_decode_utf-7_internal.js</span>
<a href="#l606.3"></a><span id="l606.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l606.4"></a><span id="l606.4"> // Tests conversion from UTF-7 to Unicode.</span>
<a href="#l606.5"></a><span id="l606.5"> </span>
<a href="#l606.6"></a><span id="l606.6"> load('CharsetConversionTests.js');</span>
<a href="#l606.7"></a><span id="l606.7"> </span>
<a href="#l606.8"></a><span id="l606.8" class="difflineminus">-const inString = &quot;+LGI--+ITIipSIp- +AocCeQ-oddns +Ad0CjQ- s+ATECZQKH- p+AlAB3QJ5- u+AlACVA- no+Ao4- +Al8-I&quot;;</span>
<a href="#l606.9"></a><span id="l606.9" class="difflineplus">+var inString = &quot;+LGI--+ITIipSIp- +AocCeQ-oddns +Ad0CjQ- s+ATECZQKH- p+AlAB3QJ5- u+AlACVA- no+Ao4- +Al8-I&quot;;</span>
<a href="#l606.10"></a><span id="l606.10"> </span>
<a href="#l606.11"></a><span id="l606.11" class="difflineminus">-const expectedString = &quot;\u2C62-\u2132\u22A5\u2229 \u0287\u0279oddns \u01DD\u028D s\u0131\u0265\u0287 p\u0250\u01DD\u0279 u\u0250\u0254 no\u028E \u025FI&quot;;</span>
<a href="#l606.12"></a><span id="l606.12" class="difflineplus">+var expectedString = &quot;\u2C62-\u2132\u22A5\u2229 \u0287\u0279oddns \u01DD\u028D s\u0131\u0265\u0287 p\u0250\u01DD\u0279 u\u0250\u0254 no\u028E \u025FI&quot;;</span>
<a href="#l606.13"></a><span id="l606.13"> </span>
<a href="#l606.14"></a><span id="l606.14" class="difflineminus">-const aliases = [ &quot;UTF-7&quot;, &quot;utf-7&quot;, &quot;x-unicode-2-0-utf-7&quot;, &quot;unicode-2-0-utf-7&quot;,</span>
<a href="#l606.15"></a><span id="l606.15" class="difflineplus">+var aliases = [ &quot;UTF-7&quot;, &quot;utf-7&quot;, &quot;x-unicode-2-0-utf-7&quot;, &quot;unicode-2-0-utf-7&quot;,</span>
<a href="#l606.16"></a><span id="l606.16"> 		  &quot;unicode-1-1-utf-7&quot;, &quot;csunicode11utf7&quot; ];</span>
<a href="#l606.17"></a><span id="l606.17"> </span>
<a href="#l606.18"></a><span id="l606.18"> function run_test() {</span>
<a href="#l606.19"></a><span id="l606.19">   testDecodeAliasesInternal();</span>
<a href="#l606.20"></a><span id="l606.20"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l607.1"></a><span id="l607.1" class="difflineminus">--- a/mailnews/intl/test/unit/test_encode_utf-7.js</span>
<a href="#l607.2"></a><span id="l607.2" class="difflineplus">+++ b/mailnews/intl/test/unit/test_encode_utf-7.js</span>
<a href="#l607.3"></a><span id="l607.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l607.4"></a><span id="l607.4"> // Tests conversion from Unicode to UTF-7. The conversion should fail!</span>
<a href="#l607.5"></a><span id="l607.5"> </span>
<a href="#l607.6"></a><span id="l607.6"> load('CharsetConversionTests.js');</span>
<a href="#l607.7"></a><span id="l607.7"> </span>
<a href="#l607.8"></a><span id="l607.8" class="difflineminus">-const inString = &quot;\u2C62-\u2132\u22A5\u2229 \u0287\u0279oddns \u01DD\u028D s\u0131\u0265\u0287 p\u0250\u01DD\u0279 u\u0250\u0254 no\u028E \u025FI&quot;;</span>
<a href="#l607.9"></a><span id="l607.9" class="difflineplus">+var inString = &quot;\u2C62-\u2132\u22A5\u2229 \u0287\u0279oddns \u01DD\u028D s\u0131\u0265\u0287 p\u0250\u01DD\u0279 u\u0250\u0254 no\u028E \u025FI&quot;;</span>
<a href="#l607.10"></a><span id="l607.10"> </span>
<a href="#l607.11"></a><span id="l607.11" class="difflineminus">-const expectedString = &quot;?-??? ??oddns ?? s??? p??? u?? no? ?I&quot;;</span>
<a href="#l607.12"></a><span id="l607.12" class="difflineplus">+var expectedString = &quot;?-??? ??oddns ?? s??? p??? u?? no? ?I&quot;;</span>
<a href="#l607.13"></a><span id="l607.13"> </span>
<a href="#l607.14"></a><span id="l607.14" class="difflineminus">-const aliases = [ &quot;UTF-7&quot;, &quot;utf-7&quot;, &quot;x-unicode-2-0-utf-7&quot;, &quot;unicode-2-0-utf-7&quot;,</span>
<a href="#l607.15"></a><span id="l607.15" class="difflineplus">+var aliases = [ &quot;UTF-7&quot;, &quot;utf-7&quot;, &quot;x-unicode-2-0-utf-7&quot;, &quot;unicode-2-0-utf-7&quot;,</span>
<a href="#l607.16"></a><span id="l607.16"> 		  &quot;unicode-1-1-utf-7&quot;, &quot;csunicode11utf7&quot; ];</span>
<a href="#l607.17"></a><span id="l607.17"> </span>
<a href="#l607.18"></a><span id="l607.18"> function run_test() {</span>
<a href="#l607.19"></a><span id="l607.19">   testEncodeAliases();</span>
<a href="#l607.20"></a><span id="l607.20"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l608.1"></a><span id="l608.1" class="difflineminus">--- a/mailnews/intl/test/unit/test_encode_utf-7_internal.js</span>
<a href="#l608.2"></a><span id="l608.2" class="difflineplus">+++ b/mailnews/intl/test/unit/test_encode_utf-7_internal.js</span>
<a href="#l608.3"></a><span id="l608.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l608.4"></a><span id="l608.4"> // Tests conversion from Unicode to UTF-7.</span>
<a href="#l608.5"></a><span id="l608.5"> </span>
<a href="#l608.6"></a><span id="l608.6"> load('CharsetConversionTests.js');</span>
<a href="#l608.7"></a><span id="l608.7"> </span>
<a href="#l608.8"></a><span id="l608.8" class="difflineminus">-const inString = &quot;\u2C62-\u2132\u22A5\u2229 \u0287\u0279oddns \u01DD\u028D s\u0131\u0265\u0287 p\u0250\u01DD\u0279 u\u0250\u0254 no\u028E \u025FI&quot;;</span>
<a href="#l608.9"></a><span id="l608.9" class="difflineplus">+var inString = &quot;\u2C62-\u2132\u22A5\u2229 \u0287\u0279oddns \u01DD\u028D s\u0131\u0265\u0287 p\u0250\u01DD\u0279 u\u0250\u0254 no\u028E \u025FI&quot;;</span>
<a href="#l608.10"></a><span id="l608.10"> </span>
<a href="#l608.11"></a><span id="l608.11" class="difflineminus">-const expectedString = &quot;+LGI--+ITIipSIp- +AocCeQ-oddns +Ad0CjQ- s+ATECZQKH- p+AlAB3QJ5- u+AlACVA- no+Ao4- +Al8-I&quot;;</span>
<a href="#l608.12"></a><span id="l608.12" class="difflineplus">+var expectedString = &quot;+LGI--+ITIipSIp- +AocCeQ-oddns +Ad0CjQ- s+ATECZQKH- p+AlAB3QJ5- u+AlACVA- no+Ao4- +Al8-I&quot;;</span>
<a href="#l608.13"></a><span id="l608.13"> </span>
<a href="#l608.14"></a><span id="l608.14" class="difflineminus">-const aliases = [ &quot;UTF-7&quot;, &quot;utf-7&quot;, &quot;x-unicode-2-0-utf-7&quot;, &quot;unicode-2-0-utf-7&quot;,</span>
<a href="#l608.15"></a><span id="l608.15" class="difflineplus">+var aliases = [ &quot;UTF-7&quot;, &quot;utf-7&quot;, &quot;x-unicode-2-0-utf-7&quot;, &quot;unicode-2-0-utf-7&quot;,</span>
<a href="#l608.16"></a><span id="l608.16"> 		  &quot;unicode-1-1-utf-7&quot;, &quot;csunicode11utf7&quot; ];</span>
<a href="#l608.17"></a><span id="l608.17"> </span>
<a href="#l608.18"></a><span id="l608.18"> function run_test() {</span>
<a href="#l608.19"></a><span id="l608.19">   testEncodeAliasesInternal();</span>
<a href="#l608.20"></a><span id="l608.20"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l609.1"></a><span id="l609.1" class="difflineminus">--- a/mailnews/local/test/unit/test_mailboxProtocol.js</span>
<a href="#l609.2"></a><span id="l609.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_mailboxProtocol.js</span>
<a href="#l609.3"></a><span id="l609.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l609.4"></a><span id="l609.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l609.5"></a><span id="l609.5"> /*</span>
<a href="#l609.6"></a><span id="l609.6">  * Test suite for getting mailbox urls via the protocol handler.</span>
<a href="#l609.7"></a><span id="l609.7">  */</span>
<a href="#l609.8"></a><span id="l609.8"> </span>
<a href="#l609.9"></a><span id="l609.9" class="difflineminus">-const defaultProtocolFlags =</span>
<a href="#l609.10"></a><span id="l609.10" class="difflineplus">+var defaultProtocolFlags =</span>
<a href="#l609.11"></a><span id="l609.11">   Ci.nsIProtocolHandler.URI_DANGEROUS_TO_LOAD |</span>
<a href="#l609.12"></a><span id="l609.12">   Ci.nsIProtocolHandler.URI_STD |</span>
<a href="#l609.13"></a><span id="l609.13">   Ci.nsIProtocolHandler.URI_FORBIDS_AUTOMATIC_DOCUMENT_REPLACEMENT |</span>
<a href="#l609.14"></a><span id="l609.14">   Ci.nsIProtocolHandler.URI_FORBIDS_COOKIE_ACCESS;</span>
<a href="#l609.15"></a><span id="l609.15"> </span>
<a href="#l609.16"></a><span id="l609.16" class="difflineminus">-const protocols =</span>
<a href="#l609.17"></a><span id="l609.17" class="difflineplus">+var protocols =</span>
<a href="#l609.18"></a><span id="l609.18">   [ { protocol: &quot;mailbox&quot;,</span>
<a href="#l609.19"></a><span id="l609.19">       urlSpec: &quot;mailbox://user@localhost/&quot;,</span>
<a href="#l609.20"></a><span id="l609.20">       // mailbox protocol doesn't use a port</span>
<a href="#l609.21"></a><span id="l609.21">       defaultPort: -1</span>
<a href="#l609.22"></a><span id="l609.22">     },</span>
<a href="#l609.23"></a><span id="l609.23">   ];</span>
<a href="#l609.24"></a><span id="l609.24"> </span>
<a href="#l609.25"></a><span id="l609.25"> function run_test()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l610.1"></a><span id="l610.1" class="difflineminus">--- a/mailnews/local/test/unit/test_msgCopy.js</span>
<a href="#l610.2"></a><span id="l610.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_msgCopy.js</span>
<a href="#l610.3"></a><span id="l610.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l610.4"></a><span id="l610.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l610.5"></a><span id="l610.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l610.6"></a><span id="l610.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l610.7"></a><span id="l610.7"> </span>
<a href="#l610.8"></a><span id="l610.8"> // Test of setting keywords with CopyFileMessage</span>
<a href="#l610.9"></a><span id="l610.9"> </span>
<a href="#l610.10"></a><span id="l610.10" class="difflineminus">-const bugmail11 = do_get_file(&quot;../../../data/bugmail11&quot;);</span>
<a href="#l610.11"></a><span id="l610.11" class="difflineplus">+var bugmail11 = do_get_file(&quot;../../../data/bugmail11&quot;);</span>
<a href="#l610.12"></a><span id="l610.12">                      </span>
<a href="#l610.13"></a><span id="l610.13"> // main test</span>
<a href="#l610.14"></a><span id="l610.14"> </span>
<a href="#l610.15"></a><span id="l610.15"> // tag used with test messages</span>
<a href="#l610.16"></a><span id="l610.16"> var tag1 = &quot;istag&quot;;</span>
<a href="#l610.17"></a><span id="l610.17"> </span>
<a href="#l610.18"></a><span id="l610.18"> function run_test()</span>
<a href="#l610.19"></a><span id="l610.19"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l611.1"></a><span id="l611.1" class="difflineminus">--- a/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js</span>
<a href="#l611.2"></a><span id="l611.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js</span>
<a href="#l611.3"></a><span id="l611.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l611.4"></a><span id="l611.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l611.5"></a><span id="l611.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l611.6"></a><span id="l611.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l611.7"></a><span id="l611.7"> </span>
<a href="#l611.8"></a><span id="l611.8"> Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l611.9"></a><span id="l611.9"> </span>
<a href="#l611.10"></a><span id="l611.10" class="difflineminus">-const MSG_LINEBREAK = &quot;\r\n&quot;;</span>
<a href="#l611.11"></a><span id="l611.11" class="difflineplus">+var MSG_LINEBREAK = &quot;\r\n&quot;;</span>
<a href="#l611.12"></a><span id="l611.12"> </span>
<a href="#l611.13"></a><span id="l611.13"> function run_test() {</span>
<a href="#l611.14"></a><span id="l611.14">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l611.15"></a><span id="l611.15"> </span>
<a href="#l611.16"></a><span id="l611.16">   test_parse_headers_without_crash(&quot;./data/mailformed_recipients.eml&quot;);</span>
<a href="#l611.17"></a><span id="l611.17">   test_parse_headers_without_crash(&quot;./data/mailformed_subject.eml&quot;);</span>
<a href="#l611.18"></a><span id="l611.18">   test_parse_headers_without_crash(&quot;./data/invalid_mozilla_keys.eml&quot;);</span>
<a href="#l611.19"></a><span id="l611.19"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l612.1"></a><span id="l612.1" class="difflineminus">--- a/mailnews/local/test/unit/test_over2GBMailboxes.js</span>
<a href="#l612.2"></a><span id="l612.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_over2GBMailboxes.js</span>
<a href="#l612.3"></a><span id="l612.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l612.4"></a><span id="l612.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l612.5"></a><span id="l612.5"> </span>
<a href="#l612.6"></a><span id="l612.6"> /* Test of accessing over 2 GiB local folder. */</span>
<a href="#l612.7"></a><span id="l612.7"> </span>
<a href="#l612.8"></a><span id="l612.8"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l612.9"></a><span id="l612.9" class="difflineminus">-const bugmail10 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l612.10"></a><span id="l612.10" class="difflineplus">+var bugmail10 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l612.11"></a><span id="l612.11"> </span>
<a href="#l612.12"></a><span id="l612.12"> Services.prefs.setCharPref(&quot;mail.serverDefaultStoreContractID&quot;,</span>
<a href="#l612.13"></a><span id="l612.13">                            &quot;@mozilla.org/msgstore/berkeleystore;1&quot;);</span>
<a href="#l612.14"></a><span id="l612.14"> </span>
<a href="#l612.15"></a><span id="l612.15"> var gLocalInboxSize;</span>
<a href="#l612.16"></a><span id="l612.16"> var gLocalTrashFolder;</span>
<a href="#l612.17"></a><span id="l612.17"> </span>
<a href="#l612.18"></a><span id="l612.18"> function run_test()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l613.1"></a><span id="l613.1" class="difflineminus">--- a/mailnews/local/test/unit/test_over4GBMailboxes.js</span>
<a href="#l613.2"></a><span id="l613.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_over4GBMailboxes.js</span>
<a href="#l613.3"></a><span id="l613.3" class="difflineat">@@ -25,19 +25,19 @@ load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l613.4"></a><span id="l613.4"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l613.5"></a><span id="l613.5"> </span>
<a href="#l613.6"></a><span id="l613.6"> Services.prefs.setCharPref(&quot;mail.serverDefaultStoreContractID&quot;,</span>
<a href="#l613.7"></a><span id="l613.7">                            &quot;@mozilla.org/msgstore/berkeleystore;1&quot;);</span>
<a href="#l613.8"></a><span id="l613.8"> </span>
<a href="#l613.9"></a><span id="l613.9"> // If we're running out of memory parsing the folder, lowering the</span>
<a href="#l613.10"></a><span id="l613.10"> // block size might help, though it will slow the test down and consume</span>
<a href="#l613.11"></a><span id="l613.11"> // more disk space.</span>
<a href="#l613.12"></a><span id="l613.12" class="difflineminus">-const kSparseBlockSize = 102400000;</span>
<a href="#l613.13"></a><span id="l613.13" class="difflineminus">-const kSizeLimit = 0x100000000; // 4GiB</span>
<a href="#l613.14"></a><span id="l613.14" class="difflineminus">-const kNearLimit = kSizeLimit - 0x1000000; // -16MiB</span>
<a href="#l613.15"></a><span id="l613.15" class="difflineplus">+var kSparseBlockSize = 102400000;</span>
<a href="#l613.16"></a><span id="l613.16" class="difflineplus">+var kSizeLimit = 0x100000000; // 4GiB</span>
<a href="#l613.17"></a><span id="l613.17" class="difflineplus">+var kNearLimit = kSizeLimit - 0x1000000; // -16MiB</span>
<a href="#l613.18"></a><span id="l613.18"> </span>
<a href="#l613.19"></a><span id="l613.19"> var gGotAlert = false;</span>
<a href="#l613.20"></a><span id="l613.20"> var gInboxFile = null;         // The mbox file storing the Inbox folder</span>
<a href="#l613.21"></a><span id="l613.21"> var gInboxSize = 0;            // The size of the Inbox folder</span>
<a href="#l613.22"></a><span id="l613.22"> var gInbox;                    // The nsIMsgFolder object of the Inbox folder in Local Folders</span>
<a href="#l613.23"></a><span id="l613.23"> var gExpectedNewMessages = 0;  // The number of messages pushed manually into the mbox file</span>
<a href="#l613.24"></a><span id="l613.24"> </span>
<a href="#l613.25"></a><span id="l613.25"> // This alert() is triggered when file size becomes close (enough) to or</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l614.1"></a><span id="l614.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3FilterActions.js</span>
<a href="#l614.2"></a><span id="l614.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3FilterActions.js</span>
<a href="#l614.3"></a><span id="l614.3" class="difflineat">@@ -9,17 +9,17 @@</span>
<a href="#l614.4"></a><span id="l614.4"> </span>
<a href="#l614.5"></a><span id="l614.5"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l614.6"></a><span id="l614.6"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l614.7"></a><span id="l614.7"> Components.utils.import(&quot;resource://gre/modules/Promise.jsm&quot;);</span>
<a href="#l614.8"></a><span id="l614.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l614.9"></a><span id="l614.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l614.10"></a><span id="l614.10"> Components.utils.import(&quot;resource://testing-common/mailnews/PromiseTestUtils.jsm&quot;);</span>
<a href="#l614.11"></a><span id="l614.11"> </span>
<a href="#l614.12"></a><span id="l614.12" class="difflineminus">-const gFiles = [&quot;../../../data/bugmail10&quot;, &quot;../../../data/bugmail11&quot;];</span>
<a href="#l614.13"></a><span id="l614.13" class="difflineplus">+var gFiles = [&quot;../../../data/bugmail10&quot;, &quot;../../../data/bugmail11&quot;];</span>
<a href="#l614.14"></a><span id="l614.14"> </span>
<a href="#l614.15"></a><span id="l614.15"> Services.prefs.setBoolPref(&quot;mail.server.default.leave_on_server&quot;, true);</span>
<a href="#l614.16"></a><span id="l614.16"> </span>
<a href="#l614.17"></a><span id="l614.17"> // Currently we have two mailbox storage formats.</span>
<a href="#l614.18"></a><span id="l614.18"> var gPluggableStores = [</span>
<a href="#l614.19"></a><span id="l614.19">   &quot;@mozilla.org/msgstore/berkeleystore;1&quot;,</span>
<a href="#l614.20"></a><span id="l614.20">   &quot;@mozilla.org/msgstore/maildirstore;1&quot;</span>
<a href="#l614.21"></a><span id="l614.21"> ];</span>
<a href="#l614.22"></a><span id="l614.22" class="difflineat">@@ -27,17 +27,17 @@ var gPluggableStores = [</span>
<a href="#l614.23"></a><span id="l614.23"> // Map subject to previews using subject as the key.</span>
<a href="#l614.24"></a><span id="l614.24"> var previews = {</span>
<a href="#l614.25"></a><span id="l614.25"> &quot;[Bug 436880] IMAP itemDeleted and itemMoveCopyCompleted notifications quite broken&quot;: 'Do not reply to this email. You can add comments to this bug at https://bugzilla.mozilla.org/show_bug.cgi?id=436880 -- Configure bugmail: https://bugzilla.mozilla.org/userprefs.cgi?tab=email ------- You are receiving this mail because: -----',</span>
<a href="#l614.26"></a><span id="l614.26"> &quot;Bugzilla: confirm account creation&quot;: 'Bugzilla has received a request to create a user account using your email address (example@example.org). To confirm that you want to create an account using that email address, visit the following link: https://bugzilla.mozilla.org/token.cgi?t=xxx'</span>
<a href="#l614.27"></a><span id="l614.27"> }</span>
<a href="#l614.28"></a><span id="l614.28"> </span>
<a href="#l614.29"></a><span id="l614.29"> var gFilter; // the test filter</span>
<a href="#l614.30"></a><span id="l614.30"> var gFilterList;</span>
<a href="#l614.31"></a><span id="l614.31" class="difflineminus">-const gTestArray =</span>
<a href="#l614.32"></a><span id="l614.32" class="difflineplus">+var gTestArray =</span>
<a href="#l614.33"></a><span id="l614.33"> [</span>
<a href="#l614.34"></a><span id="l614.34">   function createFilters() {</span>
<a href="#l614.35"></a><span id="l614.35">     gFilterList = gPOP3Pump.fakeServer.getFilterList(null);</span>
<a href="#l614.36"></a><span id="l614.36">     gFilter = gFilterList.createFilter(&quot;AddKeyword&quot;);</span>
<a href="#l614.37"></a><span id="l614.37">     let searchTerm = gFilter.createTerm();</span>
<a href="#l614.38"></a><span id="l614.38">     searchTerm.matchAll = true;</span>
<a href="#l614.39"></a><span id="l614.39">     gFilter.appendTerm(searchTerm);</span>
<a href="#l614.40"></a><span id="l614.40">     let tagAction = gFilter.createAction();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l615.1"></a><span id="l615.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3MoveFilter.js</span>
<a href="#l615.2"></a><span id="l615.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3MoveFilter.js</span>
<a href="#l615.3"></a><span id="l615.3" class="difflineat">@@ -7,17 +7,17 @@</span>
<a href="#l615.4"></a><span id="l615.4"> </span>
<a href="#l615.5"></a><span id="l615.5"> </span>
<a href="#l615.6"></a><span id="l615.6"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l615.7"></a><span id="l615.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l615.8"></a><span id="l615.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l615.9"></a><span id="l615.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l615.10"></a><span id="l615.10"> Components.utils.import(&quot;resource://testing-common/mailnews/PromiseTestUtils.jsm&quot;);</span>
<a href="#l615.11"></a><span id="l615.11"> </span>
<a href="#l615.12"></a><span id="l615.12" class="difflineminus">-const gFiles = [&quot;../../../data/bugmail10&quot;, &quot;../../../data/bugmail11&quot;];</span>
<a href="#l615.13"></a><span id="l615.13" class="difflineplus">+var gFiles = [&quot;../../../data/bugmail10&quot;, &quot;../../../data/bugmail11&quot;];</span>
<a href="#l615.14"></a><span id="l615.14"> </span>
<a href="#l615.15"></a><span id="l615.15"> // make sure limiting download size doesn't causes issues with move filters.</span>
<a href="#l615.16"></a><span id="l615.16"> Services.prefs.setBoolPref(&quot;mail.server.default.limit_offline_message_size&quot;, true);</span>
<a href="#l615.17"></a><span id="l615.17"> Services.prefs.setBoolPref(&quot;mail.server.default.leave_on_server&quot;, true);</span>
<a href="#l615.18"></a><span id="l615.18"> </span>
<a href="#l615.19"></a><span id="l615.19"> // Currently we have two mailbox storage formats.</span>
<a href="#l615.20"></a><span id="l615.20"> var gPluggableStores = [</span>
<a href="#l615.21"></a><span id="l615.21">   &quot;@mozilla.org/msgstore/berkeleystore;1&quot;,</span>
<a href="#l615.22"></a><span id="l615.22" class="difflineat">@@ -27,17 +27,17 @@ var gPluggableStores = [</span>
<a href="#l615.23"></a><span id="l615.23"> var previews = {</span>
<a href="#l615.24"></a><span id="l615.24"> &quot;[Bug 436880] IMAP itemDeleted and itemMoveCopyCompleted notifications quite broken&quot;: 'Do not reply to this email. You can add comments to this bug at https://bugzilla.mozilla.org/show_bug.cgi?id=436880 -- Configure bugmail: https://bugzilla.mozilla.org/userprefs.cgi?tab=email ------- You are receiving this mail because: -----',</span>
<a href="#l615.25"></a><span id="l615.25"> &quot;Bugzilla: confirm account creation&quot;: 'Bugzilla has received a request to create a user account using your email address (example@example.org). To confirm that you want to create an account using that email address, visit the following link: https://bugzilla.mozilla.org/token.cgi?t=xxx'</span>
<a href="#l615.26"></a><span id="l615.26"> };</span>
<a href="#l615.27"></a><span id="l615.27"> </span>
<a href="#l615.28"></a><span id="l615.28"> var gMoveFolder;</span>
<a href="#l615.29"></a><span id="l615.29"> var gFilter; // the test filter</span>
<a href="#l615.30"></a><span id="l615.30"> var gFilterList;</span>
<a href="#l615.31"></a><span id="l615.31" class="difflineminus">-const gTestArray =</span>
<a href="#l615.32"></a><span id="l615.32" class="difflineplus">+var gTestArray =</span>
<a href="#l615.33"></a><span id="l615.33"> [</span>
<a href="#l615.34"></a><span id="l615.34">   function createFilters() {</span>
<a href="#l615.35"></a><span id="l615.35">     gFilterList = gPOP3Pump.fakeServer.getFilterList(null);</span>
<a href="#l615.36"></a><span id="l615.36">     gFilter = gFilterList.createFilter(&quot;MoveAll&quot;);</span>
<a href="#l615.37"></a><span id="l615.37">     let searchTerm = gFilter.createTerm();</span>
<a href="#l615.38"></a><span id="l615.38">     searchTerm.matchAll = true;</span>
<a href="#l615.39"></a><span id="l615.39">     gFilter.appendTerm(searchTerm);</span>
<a href="#l615.40"></a><span id="l615.40">     let moveAction = gFilter.createAction();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l616.1"></a><span id="l616.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3MoveFilter2.js</span>
<a href="#l616.2"></a><span id="l616.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3MoveFilter2.js</span>
<a href="#l616.3"></a><span id="l616.3" class="difflineat">@@ -5,32 +5,32 @@</span>
<a href="#l616.4"></a><span id="l616.4">  * Original author: David Bienvenu &lt;dbienvenu@mozilla.com&gt;</span>
<a href="#l616.5"></a><span id="l616.5">  */</span>
<a href="#l616.6"></a><span id="l616.6"> </span>
<a href="#l616.7"></a><span id="l616.7"> </span>
<a href="#l616.8"></a><span id="l616.8"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l616.9"></a><span id="l616.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l616.10"></a><span id="l616.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l616.11"></a><span id="l616.11"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l616.12"></a><span id="l616.12" class="difflineminus">-const gFiles = [&quot;../../../data/bugmail10&quot;, &quot;../../../data/basic1&quot;];</span>
<a href="#l616.13"></a><span id="l616.13" class="difflineplus">+var gFiles = [&quot;../../../data/bugmail10&quot;, &quot;../../../data/basic1&quot;];</span>
<a href="#l616.14"></a><span id="l616.14"> </span>
<a href="#l616.15"></a><span id="l616.15"> Services.prefs.setBoolPref(&quot;mail.server.default.leave_on_server&quot;, true);</span>
<a href="#l616.16"></a><span id="l616.16"> </span>
<a href="#l616.17"></a><span id="l616.17"> // Currently we have two mailbox storage formats.</span>
<a href="#l616.18"></a><span id="l616.18"> var gPluggableStores = [</span>
<a href="#l616.19"></a><span id="l616.19">   &quot;@mozilla.org/msgstore/berkeleystore;1&quot;,</span>
<a href="#l616.20"></a><span id="l616.20">   &quot;@mozilla.org/msgstore/maildirstore;1&quot;</span>
<a href="#l616.21"></a><span id="l616.21"> ];</span>
<a href="#l616.22"></a><span id="l616.22" class="difflineminus">-const basic1_preview = 'Hello, world!';</span>
<a href="#l616.23"></a><span id="l616.23" class="difflineminus">-const bugmail10_preview = 'Do not reply to this email. You can add comments to this bug at https://bugzilla.mozilla.org/show_bug.cgi?id=436880 -- Configure bugmail: https://bugzilla.mozilla.org/userprefs.cgi?tab=email ------- You are receiving this mail because: -----';</span>
<a href="#l616.24"></a><span id="l616.24" class="difflineplus">+var basic1_preview = 'Hello, world!';</span>
<a href="#l616.25"></a><span id="l616.25" class="difflineplus">+var bugmail10_preview = 'Do not reply to this email. You can add comments to this bug at https://bugzilla.mozilla.org/show_bug.cgi?id=436880 -- Configure bugmail: https://bugzilla.mozilla.org/userprefs.cgi?tab=email ------- You are receiving this mail because: -----';</span>
<a href="#l616.26"></a><span id="l616.26"> </span>
<a href="#l616.27"></a><span id="l616.27"> var gMoveFolder;</span>
<a href="#l616.28"></a><span id="l616.28"> var gFilter; // the test filter</span>
<a href="#l616.29"></a><span id="l616.29"> var gFilterList;</span>
<a href="#l616.30"></a><span id="l616.30" class="difflineminus">-const gTestArray =</span>
<a href="#l616.31"></a><span id="l616.31" class="difflineplus">+var gTestArray =</span>
<a href="#l616.32"></a><span id="l616.32"> [</span>
<a href="#l616.33"></a><span id="l616.33">   function createFilters() {</span>
<a href="#l616.34"></a><span id="l616.34">     gFilterList = gPOP3Pump.fakeServer.getFilterList(null);</span>
<a href="#l616.35"></a><span id="l616.35">     // create a cc filter which will match the first message but not the second.</span>
<a href="#l616.36"></a><span id="l616.36">     gFilter = gFilterList.createFilter(&quot;MoveCc&quot;);</span>
<a href="#l616.37"></a><span id="l616.37">     let searchTerm = gFilter.createTerm();</span>
<a href="#l616.38"></a><span id="l616.38">     searchTerm.attrib = Ci.nsMsgSearchAttrib.CC;</span>
<a href="#l616.39"></a><span id="l616.39">     searchTerm.op = Ci.nsMsgSearchOp.Contains;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l617.1"></a><span id="l617.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3Password3.js</span>
<a href="#l617.2"></a><span id="l617.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3Password3.js</span>
<a href="#l617.3"></a><span id="l617.3" class="difflineat">@@ -3,21 +3,21 @@</span>
<a href="#l617.4"></a><span id="l617.4">  * Extra tests for POP3 passwords (forgetPassword)</span>
<a href="#l617.5"></a><span id="l617.5">  */</span>
<a href="#l617.6"></a><span id="l617.6"> </span>
<a href="#l617.7"></a><span id="l617.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l617.8"></a><span id="l617.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l617.9"></a><span id="l617.9"> </span>
<a href="#l617.10"></a><span id="l617.10"> load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l617.11"></a><span id="l617.11"> </span>
<a href="#l617.12"></a><span id="l617.12" class="difflineminus">-const kUser1 = &quot;testpop3&quot;;</span>
<a href="#l617.13"></a><span id="l617.13" class="difflineminus">-const kUser2 = &quot;testpop3a&quot;;</span>
<a href="#l617.14"></a><span id="l617.14" class="difflineminus">-const kProtocol = &quot;pop3&quot;;</span>
<a href="#l617.15"></a><span id="l617.15" class="difflineminus">-const kHostname = &quot;localhost&quot;;</span>
<a href="#l617.16"></a><span id="l617.16" class="difflineminus">-const kServerUrl = &quot;mailbox://&quot; + kHostname;</span>
<a href="#l617.17"></a><span id="l617.17" class="difflineplus">+var kUser1 = &quot;testpop3&quot;;</span>
<a href="#l617.18"></a><span id="l617.18" class="difflineplus">+var kUser2 = &quot;testpop3a&quot;;</span>
<a href="#l617.19"></a><span id="l617.19" class="difflineplus">+var kProtocol = &quot;pop3&quot;;</span>
<a href="#l617.20"></a><span id="l617.20" class="difflineplus">+var kHostname = &quot;localhost&quot;;</span>
<a href="#l617.21"></a><span id="l617.21" class="difflineplus">+var kServerUrl = &quot;mailbox://&quot; + kHostname;</span>
<a href="#l617.22"></a><span id="l617.22"> </span>
<a href="#l617.23"></a><span id="l617.23"> add_task(function *() {</span>
<a href="#l617.24"></a><span id="l617.24">   // Prepare files for passwords (generated by a script in bug 1018624).</span>
<a href="#l617.25"></a><span id="l617.25">   yield setupForPassword(&quot;signons-mailnews1.8-multiple.json&quot;);</span>
<a href="#l617.26"></a><span id="l617.26"> </span>
<a href="#l617.27"></a><span id="l617.27">   // Set up the basic accounts and folders.</span>
<a href="#l617.28"></a><span id="l617.28">   // We would use createPop3ServerAndLocalFolders() however we want to have</span>
<a href="#l617.29"></a><span id="l617.29">   // a different username and NO password for this test (as we expect to load</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l618.1"></a><span id="l618.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3PasswordFailure.js</span>
<a href="#l618.2"></a><span id="l618.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3PasswordFailure.js</span>
<a href="#l618.3"></a><span id="l618.3" class="difflineat">@@ -17,19 +17,19 @@ load(&quot;../../../resources/alertTestUtils.</span>
<a href="#l618.4"></a><span id="l618.4"> load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l618.5"></a><span id="l618.5"> </span>
<a href="#l618.6"></a><span id="l618.6"> var test = null;</span>
<a href="#l618.7"></a><span id="l618.7"> var server;</span>
<a href="#l618.8"></a><span id="l618.8"> var daemon;</span>
<a href="#l618.9"></a><span id="l618.9"> var incomingServer;</span>
<a href="#l618.10"></a><span id="l618.10"> var attempt = 0;</span>
<a href="#l618.11"></a><span id="l618.11"> </span>
<a href="#l618.12"></a><span id="l618.12" class="difflineminus">-const kUserName = &quot;testpop3&quot;;</span>
<a href="#l618.13"></a><span id="l618.13" class="difflineminus">-const kInvalidPassword = &quot;pop3test&quot;;</span>
<a href="#l618.14"></a><span id="l618.14" class="difflineminus">-const kValidPassword = &quot;testpop3&quot;;</span>
<a href="#l618.15"></a><span id="l618.15" class="difflineplus">+var kUserName = &quot;testpop3&quot;;</span>
<a href="#l618.16"></a><span id="l618.16" class="difflineplus">+var kInvalidPassword = &quot;pop3test&quot;;</span>
<a href="#l618.17"></a><span id="l618.17" class="difflineplus">+var kValidPassword = &quot;testpop3&quot;;</span>
<a href="#l618.18"></a><span id="l618.18"> </span>
<a href="#l618.19"></a><span id="l618.19"> function alert(aDialogText, aText)</span>
<a href="#l618.20"></a><span id="l618.20"> {</span>
<a href="#l618.21"></a><span id="l618.21">   // The first few attempts may prompt about the password problem, the last</span>
<a href="#l618.22"></a><span id="l618.22">   // attempt shouldn't.</span>
<a href="#l618.23"></a><span id="l618.23">   do_check_true(attempt &lt; 4);</span>
<a href="#l618.24"></a><span id="l618.24"> </span>
<a href="#l618.25"></a><span id="l618.25">   // Log the fact we've got an alert, but we don't need to test anything here.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l619.1"></a><span id="l619.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3PasswordFailure2.js</span>
<a href="#l619.2"></a><span id="l619.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3PasswordFailure2.js</span>
<a href="#l619.3"></a><span id="l619.3" class="difflineat">@@ -21,19 +21,19 @@ load(&quot;../../../resources/mailTestUtils.j</span>
<a href="#l619.4"></a><span id="l619.4"> var test = null;</span>
<a href="#l619.5"></a><span id="l619.5"> var server;</span>
<a href="#l619.6"></a><span id="l619.6"> var daemon;</span>
<a href="#l619.7"></a><span id="l619.7"> var incomingServer;</span>
<a href="#l619.8"></a><span id="l619.8"> var attempt = 0;</span>
<a href="#l619.9"></a><span id="l619.9"> var count = {};</span>
<a href="#l619.10"></a><span id="l619.10"> var logins;</span>
<a href="#l619.11"></a><span id="l619.11"> </span>
<a href="#l619.12"></a><span id="l619.12" class="difflineminus">-const kUserName = &quot;testpop3&quot;;</span>
<a href="#l619.13"></a><span id="l619.13" class="difflineminus">-const kInvalidPassword = &quot;pop3test&quot;;</span>
<a href="#l619.14"></a><span id="l619.14" class="difflineminus">-const kValidPassword = &quot;testpop3&quot;;</span>
<a href="#l619.15"></a><span id="l619.15" class="difflineplus">+var kUserName = &quot;testpop3&quot;;</span>
<a href="#l619.16"></a><span id="l619.16" class="difflineplus">+var kInvalidPassword = &quot;pop3test&quot;;</span>
<a href="#l619.17"></a><span id="l619.17" class="difflineplus">+var kValidPassword = &quot;testpop3&quot;;</span>
<a href="#l619.18"></a><span id="l619.18"> </span>
<a href="#l619.19"></a><span id="l619.19"> function alert(aDialogText, aText)</span>
<a href="#l619.20"></a><span id="l619.20"> {</span>
<a href="#l619.21"></a><span id="l619.21">   // The first few attempts may prompt about the password problem, the last</span>
<a href="#l619.22"></a><span id="l619.22">   // attempt shouldn't.</span>
<a href="#l619.23"></a><span id="l619.23">   do_check_true(attempt &lt; 4);</span>
<a href="#l619.24"></a><span id="l619.24"> </span>
<a href="#l619.25"></a><span id="l619.25">   // Log the fact we've got an alert, but we don't need to test anything here.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l620.1"></a><span id="l620.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3PasswordFailure3.js</span>
<a href="#l620.2"></a><span id="l620.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3PasswordFailure3.js</span>
<a href="#l620.3"></a><span id="l620.3" class="difflineat">@@ -23,19 +23,19 @@ load(&quot;../../../resources/mailTestUtils.j</span>
<a href="#l620.4"></a><span id="l620.4"> var test = null;</span>
<a href="#l620.5"></a><span id="l620.5"> var server;</span>
<a href="#l620.6"></a><span id="l620.6"> var daemon;</span>
<a href="#l620.7"></a><span id="l620.7"> var incomingServer;</span>
<a href="#l620.8"></a><span id="l620.8"> var attempt = 0;</span>
<a href="#l620.9"></a><span id="l620.9"> var count = {};</span>
<a href="#l620.10"></a><span id="l620.10"> var logins;</span>
<a href="#l620.11"></a><span id="l620.11"> </span>
<a href="#l620.12"></a><span id="l620.12" class="difflineminus">-const kUserName = &quot;testpop3&quot;;</span>
<a href="#l620.13"></a><span id="l620.13" class="difflineminus">-const kInvalidPassword = &quot;pop3test&quot;;</span>
<a href="#l620.14"></a><span id="l620.14" class="difflineminus">-const kValidPassword = &quot;testpop3&quot;;</span>
<a href="#l620.15"></a><span id="l620.15" class="difflineplus">+var kUserName = &quot;testpop3&quot;;</span>
<a href="#l620.16"></a><span id="l620.16" class="difflineplus">+var kInvalidPassword = &quot;pop3test&quot;;</span>
<a href="#l620.17"></a><span id="l620.17" class="difflineplus">+var kValidPassword = &quot;testpop3&quot;;</span>
<a href="#l620.18"></a><span id="l620.18"> </span>
<a href="#l620.19"></a><span id="l620.19"> function alert(aDialogText, aText)</span>
<a href="#l620.20"></a><span id="l620.20"> {</span>
<a href="#l620.21"></a><span id="l620.21">   // The first few attempts may prompt about the password problem, the last</span>
<a href="#l620.22"></a><span id="l620.22">   // attempt shouldn't.</span>
<a href="#l620.23"></a><span id="l620.23">   do_check_true(attempt &lt; 4);</span>
<a href="#l620.24"></a><span id="l620.24"> </span>
<a href="#l620.25"></a><span id="l620.25">   // Log the fact we've got an alert, but we don't need to test anything here.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l621.1"></a><span id="l621.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3ServerBrokenCRAMDisconnect.js</span>
<a href="#l621.2"></a><span id="l621.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3ServerBrokenCRAMDisconnect.js</span>
<a href="#l621.3"></a><span id="l621.3" class="difflineat">@@ -23,19 +23,19 @@</span>
<a href="#l621.4"></a><span id="l621.4">  * @author Ben Bucksch</span>
<a href="#l621.5"></a><span id="l621.5">  */</span>
<a href="#l621.6"></a><span id="l621.6"> </span>
<a href="#l621.7"></a><span id="l621.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l621.8"></a><span id="l621.8"> </span>
<a href="#l621.9"></a><span id="l621.9"> var server;</span>
<a href="#l621.10"></a><span id="l621.10"> var daemon;</span>
<a href="#l621.11"></a><span id="l621.11"> var incomingServer;</span>
<a href="#l621.12"></a><span id="l621.12" class="difflineminus">-const test = &quot;Server which advertises CRAM-MD5, but closes the connection when it's tried&quot;;</span>
<a href="#l621.13"></a><span id="l621.13" class="difflineplus">+var test = &quot;Server which advertises CRAM-MD5, but closes the connection when it's tried&quot;;</span>
<a href="#l621.14"></a><span id="l621.14"> // that's how it currently looks like (we fail to log in):</span>
<a href="#l621.15"></a><span id="l621.15" class="difflineminus">-const expectedTransaction = [ &quot;AUTH&quot;, &quot;CAPA&quot;, &quot;AUTH CRAM-MD5&quot; ];</span>
<a href="#l621.16"></a><span id="l621.16" class="difflineplus">+var expectedTransaction = [ &quot;AUTH&quot;, &quot;CAPA&quot;, &quot;AUTH CRAM-MD5&quot; ];</span>
<a href="#l621.17"></a><span id="l621.17"> // TODO that's how it should look like (we start a new connection and try another scheme):</span>
<a href="#l621.18"></a><span id="l621.18"> //const expectedTransaction = [ &quot;AUTH&quot;, &quot;CAPA&quot;, &quot;AUTH CRAM-MD5&quot;, &quot;CAPA&quot;, &quot;AUTH PLAIN&quot;, &quot;STAT&quot; ];</span>
<a href="#l621.19"></a><span id="l621.19"> </span>
<a href="#l621.20"></a><span id="l621.20"> var urlListener =</span>
<a href="#l621.21"></a><span id="l621.21"> {</span>
<a href="#l621.22"></a><span id="l621.22">   OnStartRunningUrl: function (url) {</span>
<a href="#l621.23"></a><span id="l621.23">   },</span>
<a href="#l621.24"></a><span id="l621.24">   OnStopRunningUrl: function (url, result) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l622.1"></a><span id="l622.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3ServerBrokenCRAMFail.js</span>
<a href="#l622.2"></a><span id="l622.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3ServerBrokenCRAMFail.js</span>
<a href="#l622.3"></a><span id="l622.3" class="difflineat">@@ -3,18 +3,18 @@</span>
<a href="#l622.4"></a><span id="l622.4">  * Server which advertises CRAM-MD5, but fails when it's tried.</span>
<a href="#l622.5"></a><span id="l622.5">  * This reportedly happens for some misconfigured servers.</span>
<a href="#l622.6"></a><span id="l622.6">  */</span>
<a href="#l622.7"></a><span id="l622.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l622.8"></a><span id="l622.8"> </span>
<a href="#l622.9"></a><span id="l622.9"> var server;</span>
<a href="#l622.10"></a><span id="l622.10"> var daemon;</span>
<a href="#l622.11"></a><span id="l622.11"> var incomingServer;</span>
<a href="#l622.12"></a><span id="l622.12" class="difflineminus">-const test = &quot;Server which advertises CRAM-MD5, but fails when it's tried&quot;;</span>
<a href="#l622.13"></a><span id="l622.13" class="difflineminus">-const expectedTransaction = [ &quot;AUTH&quot;, &quot;CAPA&quot;, &quot;AUTH CRAM-MD5&quot;, &quot;AUTH PLAIN&quot;, &quot;STAT&quot; ];</span>
<a href="#l622.14"></a><span id="l622.14" class="difflineplus">+var test = &quot;Server which advertises CRAM-MD5, but fails when it's tried&quot;;</span>
<a href="#l622.15"></a><span id="l622.15" class="difflineplus">+var expectedTransaction = [ &quot;AUTH&quot;, &quot;CAPA&quot;, &quot;AUTH CRAM-MD5&quot;, &quot;AUTH PLAIN&quot;, &quot;STAT&quot; ];</span>
<a href="#l622.16"></a><span id="l622.16"> </span>
<a href="#l622.17"></a><span id="l622.17"> var urlListener =</span>
<a href="#l622.18"></a><span id="l622.18"> {</span>
<a href="#l622.19"></a><span id="l622.19">   OnStartRunningUrl: function (url) {</span>
<a href="#l622.20"></a><span id="l622.20">   },</span>
<a href="#l622.21"></a><span id="l622.21">   OnStopRunningUrl: function (url, result) {</span>
<a href="#l622.22"></a><span id="l622.22">     try {</span>
<a href="#l622.23"></a><span id="l622.23">       do_check_eq(result, 0);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l623.1"></a><span id="l623.1" class="difflineminus">--- a/mailnews/local/test/unit/test_preview.js</span>
<a href="#l623.2"></a><span id="l623.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_preview.js</span>
<a href="#l623.3"></a><span id="l623.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l623.4"></a><span id="l623.4" class="difflineminus">-const bugmail10 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l623.5"></a><span id="l623.5" class="difflineminus">-const bugmail11 = do_get_file(&quot;../../../data/bugmail11&quot;);</span>
<a href="#l623.6"></a><span id="l623.6" class="difflineminus">-const bugmail10_preview = 'Do not reply to this email. You can add comments to this bug at https://bugzilla.mozilla.org/show_bug.cgi?id=436880 -- Configure bugmail: https://bugzilla.mozilla.org/userprefs.cgi?tab=email ------- You are receiving this mail because: -----';</span>
<a href="#l623.7"></a><span id="l623.7" class="difflineminus">-const bugmail11_preview = 'Bugzilla has received a request to create a user account using your email address (example@example.org). To confirm that you want to create an account using that email address, visit the following link: https://bugzilla.mozilla.org/token.cgi?t=xxx';</span>
<a href="#l623.8"></a><span id="l623.8" class="difflineplus">+var bugmail10 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l623.9"></a><span id="l623.9" class="difflineplus">+var bugmail11 = do_get_file(&quot;../../../data/bugmail11&quot;);</span>
<a href="#l623.10"></a><span id="l623.10" class="difflineplus">+var bugmail10_preview = 'Do not reply to this email. You can add comments to this bug at https://bugzilla.mozilla.org/show_bug.cgi?id=436880 -- Configure bugmail: https://bugzilla.mozilla.org/userprefs.cgi?tab=email ------- You are receiving this mail because: -----';</span>
<a href="#l623.11"></a><span id="l623.11" class="difflineplus">+var bugmail11_preview = 'Bugzilla has received a request to create a user account using your email address (example@example.org). To confirm that you want to create an account using that email address, visit the following link: https://bugzilla.mozilla.org/token.cgi?t=xxx';</span>
<a href="#l623.12"></a><span id="l623.12"> </span>
<a href="#l623.13"></a><span id="l623.13"> function run_test() {</span>
<a href="#l623.14"></a><span id="l623.14">   do_test_pending();</span>
<a href="#l623.15"></a><span id="l623.15">   copyFileMessageInLocalFolder(bugmail10, 0, &quot;&quot;, null, copy_next_message);</span>
<a href="#l623.16"></a><span id="l623.16"> }</span>
<a href="#l623.17"></a><span id="l623.17"> </span>
<a href="#l623.18"></a><span id="l623.18"> function copy_next_message(aMessageHeaderKeys, aStatus) {</span>
<a href="#l623.19"></a><span id="l623.19">   copyFileMessageInLocalFolder(bugmail11, 0, &quot;&quot;, null, test_preview);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l624.1"></a><span id="l624.1" class="difflineminus">--- a/mailnews/local/test/unit/test_saveMessage.js</span>
<a href="#l624.2"></a><span id="l624.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_saveMessage.js</span>
<a href="#l624.3"></a><span id="l624.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l624.4"></a><span id="l624.4"> /*</span>
<a href="#l624.5"></a><span id="l624.5">  * Test bug 460636 - Saving message in local folder as .EML removes starting dot in all lines, and ignores line if single dot only line.</span>
<a href="#l624.6"></a><span id="l624.6">  */</span>
<a href="#l624.7"></a><span id="l624.7"> </span>
<a href="#l624.8"></a><span id="l624.8"> Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l624.9"></a><span id="l624.9"> </span>
<a href="#l624.10"></a><span id="l624.10" class="difflineminus">-const MSG_LINEBREAK = &quot;\r\n&quot;;</span>
<a href="#l624.11"></a><span id="l624.11" class="difflineminus">-const dot = do_get_file(&quot;data/dot&quot;);</span>
<a href="#l624.12"></a><span id="l624.12" class="difflineplus">+var MSG_LINEBREAK = &quot;\r\n&quot;;</span>
<a href="#l624.13"></a><span id="l624.13" class="difflineplus">+var dot = do_get_file(&quot;data/dot&quot;);</span>
<a href="#l624.14"></a><span id="l624.14"> var saveFile = Services.dirsvc.get(&quot;TmpD&quot;, Ci.nsIFile);</span>
<a href="#l624.15"></a><span id="l624.15"> saveFile.append(dot.leafName + &quot;.eml&quot;);</span>
<a href="#l624.16"></a><span id="l624.16"> saveFile.createUnique(Ci.nsIFile.NORMAL_FILE_TYPE, 0600);</span>
<a href="#l624.17"></a><span id="l624.17"> </span>
<a href="#l624.18"></a><span id="l624.18"> function run_test()</span>
<a href="#l624.19"></a><span id="l624.19"> {</span>
<a href="#l624.20"></a><span id="l624.20">   do_register_cleanup(teardown);</span>
<a href="#l624.21"></a><span id="l624.21">   do_test_pending();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l625.1"></a><span id="l625.1" class="difflineminus">--- a/mailnews/local/test/unit/test_undoDelete.js</span>
<a href="#l625.2"></a><span id="l625.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_undoDelete.js</span>
<a href="#l625.3"></a><span id="l625.3" class="difflineat">@@ -14,17 +14,17 @@ var gMsgId1;</span>
<a href="#l625.4"></a><span id="l625.4"> var gTestFolder;</span>
<a href="#l625.5"></a><span id="l625.5"> </span>
<a href="#l625.6"></a><span id="l625.6"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l625.7"></a><span id="l625.7"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l625.8"></a><span id="l625.8"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l625.9"></a><span id="l625.9"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l625.10"></a><span id="l625.10"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l625.11"></a><span id="l625.11"> </span>
<a href="#l625.12"></a><span id="l625.12" class="difflineminus">-const gTestArray =</span>
<a href="#l625.13"></a><span id="l625.13" class="difflineplus">+var gTestArray =</span>
<a href="#l625.14"></a><span id="l625.14"> [</span>
<a href="#l625.15"></a><span id="l625.15">   function deleteMessage() {</span>
<a href="#l625.16"></a><span id="l625.16">     let msgToDelete = mailTestUtils.firstMsgHdr(gTestFolder);</span>
<a href="#l625.17"></a><span id="l625.17">     gMsgId1 = msgToDelete.messageId;</span>
<a href="#l625.18"></a><span id="l625.18">     gMessages.appendElement(msgToDelete, false);</span>
<a href="#l625.19"></a><span id="l625.19">     gTestFolder.deleteMessages(gMessages, gMsgWindow, false, true, CopyListener,</span>
<a href="#l625.20"></a><span id="l625.20">                                true);</span>
<a href="#l625.21"></a><span id="l625.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l626.1"></a><span id="l626.1" class="difflineminus">--- a/mailnews/local/test/unit/test_verifyLogon.js</span>
<a href="#l626.2"></a><span id="l626.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_verifyLogon.js</span>
<a href="#l626.3"></a><span id="l626.3" class="difflineat">@@ -12,19 +12,19 @@ load(&quot;../../../resources/alertTestUtils.</span>
<a href="#l626.4"></a><span id="l626.4"> </span>
<a href="#l626.5"></a><span id="l626.5"> var test = null;</span>
<a href="#l626.6"></a><span id="l626.6"> var server;</span>
<a href="#l626.7"></a><span id="l626.7"> var daemon;</span>
<a href="#l626.8"></a><span id="l626.8"> var incomingServer;</span>
<a href="#l626.9"></a><span id="l626.9"> var pop3Service;</span>
<a href="#l626.10"></a><span id="l626.10"> var attempt = 0;</span>
<a href="#l626.11"></a><span id="l626.11"> </span>
<a href="#l626.12"></a><span id="l626.12" class="difflineminus">-const kUserName = &quot;testpop3&quot;;</span>
<a href="#l626.13"></a><span id="l626.13" class="difflineminus">-const kInvalidPassword = &quot;pop3test&quot;;</span>
<a href="#l626.14"></a><span id="l626.14" class="difflineminus">-const kValidPassword = &quot;testpop3&quot;;</span>
<a href="#l626.15"></a><span id="l626.15" class="difflineplus">+var kUserName = &quot;testpop3&quot;;</span>
<a href="#l626.16"></a><span id="l626.16" class="difflineplus">+var kInvalidPassword = &quot;pop3test&quot;;</span>
<a href="#l626.17"></a><span id="l626.17" class="difflineplus">+var kValidPassword = &quot;testpop3&quot;;</span>
<a href="#l626.18"></a><span id="l626.18"> </span>
<a href="#l626.19"></a><span id="l626.19"> function verifyPop3Logon(validPassword) {</span>
<a href="#l626.20"></a><span id="l626.20">   incomingServer.password = (validPassword) ? kValidPassword : kInvalidPassword;</span>
<a href="#l626.21"></a><span id="l626.21">   urlListener.expectSuccess = validPassword;</span>
<a href="#l626.22"></a><span id="l626.22">   let uri = incomingServer.verifyLogon(urlListener, gDummyMsgWindow);</span>
<a href="#l626.23"></a><span id="l626.23">   // clear msgWindow so url won't prompt for passwords.</span>
<a href="#l626.24"></a><span id="l626.24">   uri.QueryInterface(Ci.nsIMsgMailNewsUrl).msgWindow = null;</span>
<a href="#l626.25"></a><span id="l626.25"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l627.1"></a><span id="l627.1" class="difflineminus">--- a/mailnews/mime/jsmime/jsmime.js</span>
<a href="#l627.2"></a><span id="l627.2" class="difflineplus">+++ b/mailnews/mime/jsmime/jsmime.js</span>
<a href="#l627.3"></a><span id="l627.3" class="difflineat">@@ -92,17 +92,17 @@ function stringToTypedArray(buffer) {</span>
<a href="#l627.4"></a><span id="l627.4"> function typedArrayToString(buffer) {</span>
<a href="#l627.5"></a><span id="l627.5">   var string = '';</span>
<a href="#l627.6"></a><span id="l627.6">   for (var i = 0; i &lt; buffer.length; i+= 100)</span>
<a href="#l627.7"></a><span id="l627.7">     string += String.fromCharCode.apply(undefined, buffer.subarray(i, i + 100));</span>
<a href="#l627.8"></a><span id="l627.8">   return string;</span>
<a href="#l627.9"></a><span id="l627.9"> }</span>
<a href="#l627.10"></a><span id="l627.10"> </span>
<a href="#l627.11"></a><span id="l627.11"> /** A list of month names for Date parsing. */</span>
<a href="#l627.12"></a><span id="l627.12" class="difflineminus">-const kMonthNames = [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;,</span>
<a href="#l627.13"></a><span id="l627.13" class="difflineplus">+var kMonthNames = [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;,</span>
<a href="#l627.14"></a><span id="l627.14">   &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;];</span>
<a href="#l627.15"></a><span id="l627.15"> </span>
<a href="#l627.16"></a><span id="l627.16"> return {</span>
<a href="#l627.17"></a><span id="l627.17">   decode_base64: decode_base64,</span>
<a href="#l627.18"></a><span id="l627.18">   decode_qp: decode_qp,</span>
<a href="#l627.19"></a><span id="l627.19">   kMonthNames: kMonthNames,</span>
<a href="#l627.20"></a><span id="l627.20">   stringToTypedArray: stringToTypedArray,</span>
<a href="#l627.21"></a><span id="l627.21">   typedArrayToString: typedArrayToString,</span>
<a href="#l627.22"></a><span id="l627.22" class="difflineat">@@ -1169,17 +1169,17 @@ function decode2231Value(value) {</span>
<a href="#l627.23"></a><span id="l627.23">   // Decode the charset. If the charset isn't found, we throw an error. Try to</span>
<a href="#l627.24"></a><span id="l627.24">   // fallback in that case.</span>
<a href="#l627.25"></a><span id="l627.25">   return new TextDecoder(charset, {fatal: true})</span>
<a href="#l627.26"></a><span id="l627.26">     .decode(typedarray, {stream: false});</span>
<a href="#l627.27"></a><span id="l627.27"> }</span>
<a href="#l627.28"></a><span id="l627.28"> </span>
<a href="#l627.29"></a><span id="l627.29"> // This is a map of known timezone abbreviations, for fallback in obsolete Date</span>
<a href="#l627.30"></a><span id="l627.30"> // productions.</span>
<a href="#l627.31"></a><span id="l627.31" class="difflineminus">-const kKnownTZs = {</span>
<a href="#l627.32"></a><span id="l627.32" class="difflineplus">+var kKnownTZs = {</span>
<a href="#l627.33"></a><span id="l627.33">   // The following timezones are explicitly listed in RFC 5322.</span>
<a href="#l627.34"></a><span id="l627.34">   &quot;UT&quot;:  &quot;+0000&quot;, &quot;GMT&quot;: &quot;+0000&quot;,</span>
<a href="#l627.35"></a><span id="l627.35">   &quot;EST&quot;: &quot;-0500&quot;, &quot;EDT&quot;: &quot;-0400&quot;,</span>
<a href="#l627.36"></a><span id="l627.36">   &quot;CST&quot;: &quot;-0600&quot;, &quot;CDT&quot;: &quot;-0500&quot;,</span>
<a href="#l627.37"></a><span id="l627.37">   &quot;MST&quot;: &quot;-0700&quot;, &quot;MDT&quot;: &quot;-0600&quot;,</span>
<a href="#l627.38"></a><span id="l627.38">   &quot;PST&quot;: &quot;-0800&quot;, &quot;PDT&quot;: &quot;-0700&quot;,</span>
<a href="#l627.39"></a><span id="l627.39">   // The following are time zones copied from NSPR's prtime.c</span>
<a href="#l627.40"></a><span id="l627.40">   &quot;AST&quot;: &quot;-0400&quot;, // Atlantic Standard Time</span>
<a href="#l627.41"></a><span id="l627.41" class="difflineat">@@ -1724,18 +1724,18 @@ StructuredHeaders.prototype.get = functi</span>
<a href="#l627.42"></a><span id="l627.42">  */</span>
<a href="#l627.43"></a><span id="l627.43"> StructuredHeaders.prototype.has = function (headerName) {</span>
<a href="#l627.44"></a><span id="l627.44">   // Check for presence in the raw headers instead of cached headers.</span>
<a href="#l627.45"></a><span id="l627.45">   return this._rawHeaders.has(headerName.toLowerCase());</span>
<a href="#l627.46"></a><span id="l627.46"> };</span>
<a href="#l627.47"></a><span id="l627.47"> </span>
<a href="#l627.48"></a><span id="l627.48"> // Make a custom iterator. Presently, support for Symbol isn't yet present in</span>
<a href="#l627.49"></a><span id="l627.49"> // SpiderMonkey (or V8 for that matter), so type-pun the name for now.</span>
<a href="#l627.50"></a><span id="l627.50" class="difflineminus">-const JS_HAS_SYMBOLS = typeof Symbol === &quot;function&quot;;</span>
<a href="#l627.51"></a><span id="l627.51" class="difflineminus">-const ITERATOR_SYMBOL = JS_HAS_SYMBOLS ? Symbol.iterator : &quot;@@iterator&quot;;</span>
<a href="#l627.52"></a><span id="l627.52" class="difflineplus">+var JS_HAS_SYMBOLS = typeof Symbol === &quot;function&quot;;</span>
<a href="#l627.53"></a><span id="l627.53" class="difflineplus">+var ITERATOR_SYMBOL = JS_HAS_SYMBOLS ? Symbol.iterator : &quot;@@iterator&quot;;</span>
<a href="#l627.54"></a><span id="l627.54"> </span>
<a href="#l627.55"></a><span id="l627.55"> /**</span>
<a href="#l627.56"></a><span id="l627.56">  * An equivalent of Map.@@iterator, applied to the structured header</span>
<a href="#l627.57"></a><span id="l627.57">  * representations. This is the function that makes</span>
<a href="#l627.58"></a><span id="l627.58">  * for (let [header, value] of headers) work properly.</span>
<a href="#l627.59"></a><span id="l627.59">  */</span>
<a href="#l627.60"></a><span id="l627.60"> StructuredHeaders.prototype[ITERATOR_SYMBOL] = function*() {</span>
<a href="#l627.61"></a><span id="l627.61">   // Iterate over all the raw headers, and use the cached headers to retrieve</span>
<a href="#l627.62"></a><span id="l627.62" class="difflineat">@@ -2086,20 +2086,20 @@ MimeParser.prototype._willIgnorePart = f</span>
<a href="#l627.63"></a><span id="l627.63"> //</span>
<a href="#l627.64"></a><span id="l627.64"> // The header parsing by itself does very little parsing, only parsing as if all</span>
<a href="#l627.65"></a><span id="l627.65"> // headers were unstructured fields. Values are munged so that embedded newlines</span>
<a href="#l627.66"></a><span id="l627.66"> // are stripped and the result is also trimmed. Headers themselves are</span>
<a href="#l627.67"></a><span id="l627.67"> // canonicalized into lower-case.</span>
<a href="#l627.68"></a><span id="l627.68"> </span>
<a href="#l627.69"></a><span id="l627.69"> </span>
<a href="#l627.70"></a><span id="l627.70"> // Parser states. See the large comment above.</span>
<a href="#l627.71"></a><span id="l627.71" class="difflineminus">-const PARSING_HEADERS = 1;</span>
<a href="#l627.72"></a><span id="l627.72" class="difflineminus">-const SEND_TO_BLACK_HOLE = 2;</span>
<a href="#l627.73"></a><span id="l627.73" class="difflineminus">-const SEND_TO_EMITTER = 3;</span>
<a href="#l627.74"></a><span id="l627.74" class="difflineminus">-const SEND_TO_SUBPARSER = 4;</span>
<a href="#l627.75"></a><span id="l627.75" class="difflineplus">+var PARSING_HEADERS = 1;</span>
<a href="#l627.76"></a><span id="l627.76" class="difflineplus">+var SEND_TO_BLACK_HOLE = 2;</span>
<a href="#l627.77"></a><span id="l627.77" class="difflineplus">+var SEND_TO_EMITTER = 3;</span>
<a href="#l627.78"></a><span id="l627.78" class="difflineplus">+var SEND_TO_SUBPARSER = 4;</span>
<a href="#l627.79"></a><span id="l627.79"> </span>
<a href="#l627.80"></a><span id="l627.80"> /**</span>
<a href="#l627.81"></a><span id="l627.81">  * Main dispatch for incoming packet data.</span>
<a href="#l627.82"></a><span id="l627.82">  *</span>
<a href="#l627.83"></a><span id="l627.83">  * The incoming data needs to have been sanitized so that each packet begins on</span>
<a href="#l627.84"></a><span id="l627.84">  * a newline boundary. The part number for the current parser also needs to be</span>
<a href="#l627.85"></a><span id="l627.85">  * passed in. The checkSplit parameter controls whether or not the data in</span>
<a href="#l627.86"></a><span id="l627.86">  * buffer needs to be checked against _splitRegex; this is used internally for</span>
<a href="#l627.87"></a><span id="l627.87" class="difflineat">@@ -2845,22 +2845,22 @@ HeaderEmitter.prototype.addPhrase = func</span>
<a href="#l627.88"></a><span id="l627.88">       i == words.length - 1 ? mayBreakAfter : true);</span>
<a href="#l627.89"></a><span id="l627.89">   }</span>
<a href="#l627.90"></a><span id="l627.90"> };</span>
<a href="#l627.91"></a><span id="l627.91"> </span>
<a href="#l627.92"></a><span id="l627.92"> /// A regular expression for characters that need to be encoded.</span>
<a href="#l627.93"></a><span id="l627.93"> var nonAsciiRe = /[^\x20-\x7e]/;</span>
<a href="#l627.94"></a><span id="l627.94"> </span>
<a href="#l627.95"></a><span id="l627.95"> /// The beginnings of RFC 2047 encoded-word</span>
<a href="#l627.96"></a><span id="l627.96" class="difflineminus">-const b64Prelude = &quot;=?UTF-8?B?&quot;, qpPrelude = &quot;=?UTF-8?Q?&quot;;</span>
<a href="#l627.97"></a><span id="l627.97" class="difflineplus">+var b64Prelude = &quot;=?UTF-8?B?&quot;, qpPrelude = &quot;=?UTF-8?Q?&quot;;</span>
<a href="#l627.98"></a><span id="l627.98"> </span>
<a href="#l627.99"></a><span id="l627.99"> /// A list of ASCII characters forbidden in RFC 2047 encoded-words</span>
<a href="#l627.100"></a><span id="l627.100" class="difflineminus">-const qpForbidden = &quot;=?_()\&quot;,&quot;;</span>
<a href="#l627.101"></a><span id="l627.101" class="difflineplus">+var qpForbidden = &quot;=?_()\&quot;,&quot;;</span>
<a href="#l627.102"></a><span id="l627.102"> </span>
<a href="#l627.103"></a><span id="l627.103" class="difflineminus">-const hexString = &quot;0123456789abcdef&quot;;</span>
<a href="#l627.104"></a><span id="l627.104" class="difflineplus">+var hexString = &quot;0123456789abcdef&quot;;</span>
<a href="#l627.105"></a><span id="l627.105"> </span>
<a href="#l627.106"></a><span id="l627.106"> /**</span>
<a href="#l627.107"></a><span id="l627.107">  * Add a block of text as a single RFC 2047 encoded word. This does not try to</span>
<a href="#l627.108"></a><span id="l627.108">  * split words if they are too long.</span>
<a href="#l627.109"></a><span id="l627.109">  *</span>
<a href="#l627.110"></a><span id="l627.110">  * @private</span>
<a href="#l627.111"></a><span id="l627.111">  * @param {Uint8Array} encodedText   The octets to encode.</span>
<a href="#l627.112"></a><span id="l627.112">  * @param {Boolean}    useQP         If true, use quoted-printable; if false,</span>
<a href="#l627.113"></a><span id="l627.113" class="difflineat">@@ -3098,17 +3098,17 @@ HeaderEmitter.prototype.addUnstructured </span>
<a href="#l627.114"></a><span id="l627.114">     return;</span>
<a href="#l627.115"></a><span id="l627.115"> </span>
<a href="#l627.116"></a><span id="l627.116">   // Unstructured text is basically a phrase that can't be quoted. So, if we</span>
<a href="#l627.117"></a><span id="l627.117">   // have nothing in qchars, nothing should be quoted.</span>
<a href="#l627.118"></a><span id="l627.118">   this.addPhrase(text, &quot;&quot;, false);</span>
<a href="#l627.119"></a><span id="l627.119"> };</span>
<a href="#l627.120"></a><span id="l627.120"> </span>
<a href="#l627.121"></a><span id="l627.121"> /** RFC 822 labels for days of the week. */</span>
<a href="#l627.122"></a><span id="l627.122" class="difflineminus">-const kDaysOfWeek = [&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;];</span>
<a href="#l627.123"></a><span id="l627.123" class="difflineplus">+var kDaysOfWeek = [&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;];</span>
<a href="#l627.124"></a><span id="l627.124"> </span>
<a href="#l627.125"></a><span id="l627.125"> /**</span>
<a href="#l627.126"></a><span id="l627.126">  * Formatting helper to output numbers between 0-9 as 00-09 instead.</span>
<a href="#l627.127"></a><span id="l627.127">  */</span>
<a href="#l627.128"></a><span id="l627.128"> function padTo2Digits(num) {</span>
<a href="#l627.129"></a><span id="l627.129">   return num &lt; 10 ? &quot;0&quot; + num : num.toString();</span>
<a href="#l627.130"></a><span id="l627.130"> }</span>
<a href="#l627.131"></a><span id="l627.131"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l628.1"></a><span id="l628.1" class="difflineminus">--- a/mailnews/mime/src/jsmime.jsm</span>
<a href="#l628.2"></a><span id="l628.2" class="difflineplus">+++ b/mailnews/mime/src/jsmime.jsm</span>
<a href="#l628.3"></a><span id="l628.3" class="difflineat">@@ -62,17 +62,17 @@ function FallbackTextDecoder(charset, op</span>
<a href="#l628.4"></a><span id="l628.4">     return new FakeTextDecoder(charset, options);</span>
<a href="#l628.5"></a><span id="l628.5">   }</span>
<a href="#l628.6"></a><span id="l628.6"> }</span>
<a href="#l628.7"></a><span id="l628.7"> </span>
<a href="#l628.8"></a><span id="l628.8"> TextDecoder = FallbackTextDecoder;</span>
<a href="#l628.9"></a><span id="l628.9"> </span>
<a href="#l628.10"></a><span id="l628.10"> </span>
<a href="#l628.11"></a><span id="l628.11"> // The following code loads custom MIME encoders.</span>
<a href="#l628.12"></a><span id="l628.12" class="difflineminus">-const CATEGORY_NAME = &quot;custom-mime-encoder&quot;;</span>
<a href="#l628.13"></a><span id="l628.13" class="difflineplus">+var CATEGORY_NAME = &quot;custom-mime-encoder&quot;;</span>
<a href="#l628.14"></a><span id="l628.14"> Services.obs.addObserver(function (subject, topic, data) {</span>
<a href="#l628.15"></a><span id="l628.15">   subject = subject.QueryInterface(Components.interfaces.nsISupportsCString)</span>
<a href="#l628.16"></a><span id="l628.16">                    .data;</span>
<a href="#l628.17"></a><span id="l628.17">   if (data == CATEGORY_NAME) {</span>
<a href="#l628.18"></a><span id="l628.18">     let url = catman.getCategoryEntry(CATEGORY_NAME, subject);</span>
<a href="#l628.19"></a><span id="l628.19">     Services.scriptloader.loadSubScript(url, {}, &quot;UTF-8&quot;);</span>
<a href="#l628.20"></a><span id="l628.20">   }</span>
<a href="#l628.21"></a><span id="l628.21"> }, &quot;xpcom-category-entry-added&quot;, false);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l629.1"></a><span id="l629.1" class="difflineminus">--- a/mailnews/mime/src/mimeParser.jsm</span>
<a href="#l629.2"></a><span id="l629.2" class="difflineplus">+++ b/mailnews/mime/src/mimeParser.jsm</span>
<a href="#l629.3"></a><span id="l629.3" class="difflineat">@@ -22,18 +22,18 @@ var ExtractHeadersAndBodyEmitter = {</span>
<a href="#l629.4"></a><span id="l629.4">   body: '',</span>
<a href="#l629.5"></a><span id="l629.5">   startPart: ExtractHeadersEmitter.startPart,</span>
<a href="#l629.6"></a><span id="l629.6">   deliverPartData: function (partNum, data) {</span>
<a href="#l629.7"></a><span id="l629.7">     if (partNum == '')</span>
<a href="#l629.8"></a><span id="l629.8">       this.body += data;</span>
<a href="#l629.9"></a><span id="l629.9">   }</span>
<a href="#l629.10"></a><span id="l629.10"> };</span>
<a href="#l629.11"></a><span id="l629.11"> </span>
<a href="#l629.12"></a><span id="l629.12" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l629.13"></a><span id="l629.13" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l629.14"></a><span id="l629.14" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l629.15"></a><span id="l629.15" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l629.16"></a><span id="l629.16"> </span>
<a href="#l629.17"></a><span id="l629.17"> /// Sets appropriate default options for chrome-privileged environments</span>
<a href="#l629.18"></a><span id="l629.18"> function setDefaultParserOptions(opts) {</span>
<a href="#l629.19"></a><span id="l629.19">   if (!(&quot;onerror&quot; in opts)) {</span>
<a href="#l629.20"></a><span id="l629.20">     opts.onerror = Components.utils.reportError;</span>
<a href="#l629.21"></a><span id="l629.21">   }</span>
<a href="#l629.22"></a><span id="l629.22"> }</span>
<a href="#l629.23"></a><span id="l629.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l630.1"></a><span id="l630.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_alternate_p7m_handling.js</span>
<a href="#l630.2"></a><span id="l630.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_alternate_p7m_handling.js</span>
<a href="#l630.3"></a><span id="l630.3" class="difflineat">@@ -6,19 +6,19 @@ load(&quot;../../../resources/messageModifier</span>
<a href="#l630.4"></a><span id="l630.4"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l630.5"></a><span id="l630.5"> </span>
<a href="#l630.6"></a><span id="l630.6"> Components.utils.import(&quot;resource:///modules/gloda/mimemsg.js&quot;);</span>
<a href="#l630.7"></a><span id="l630.7"> </span>
<a href="#l630.8"></a><span id="l630.8"> var gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span>
<a href="#l630.9"></a><span id="l630.9">                    .createInstance(Ci.nsIMessenger);</span>
<a href="#l630.10"></a><span id="l630.10"> </span>
<a href="#l630.11"></a><span id="l630.11"> // Create a message generator</span>
<a href="#l630.12"></a><span id="l630.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l630.13"></a><span id="l630.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l630.14"></a><span id="l630.14"> </span>
<a href="#l630.15"></a><span id="l630.15" class="difflineminus">-const p7mAttachment = &quot;dGhpcyBpcyBub3QgYSByZWFsIHMvbWltZSBwN20gZW50aXR5&quot;;</span>
<a href="#l630.16"></a><span id="l630.16" class="difflineplus">+var p7mAttachment = &quot;dGhpcyBpcyBub3QgYSByZWFsIHMvbWltZSBwN20gZW50aXR5&quot;;</span>
<a href="#l630.17"></a><span id="l630.17"> </span>
<a href="#l630.18"></a><span id="l630.18"> // create a message with a p7m attachment</span>
<a href="#l630.19"></a><span id="l630.19"> var messages = [{</span>
<a href="#l630.20"></a><span id="l630.20">   attachments: [{ </span>
<a href="#l630.21"></a><span id="l630.21">     body: p7mAttachment,</span>
<a href="#l630.22"></a><span id="l630.22">     filename: 'test.txt.p7m',</span>
<a href="#l630.23"></a><span id="l630.23">     contentType: 'application/pkcs7-mime',</span>
<a href="#l630.24"></a><span id="l630.24">     format:'',</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l631.1"></a><span id="l631.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_attachment_size.js</span>
<a href="#l631.2"></a><span id="l631.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_attachment_size.js</span>
<a href="#l631.3"></a><span id="l631.3" class="difflineat">@@ -19,74 +19,74 @@ updateAppInfo();</span>
<a href="#l631.4"></a><span id="l631.4"> </span>
<a href="#l631.5"></a><span id="l631.5"> // Register the mime types provider we need for this test.</span>
<a href="#l631.6"></a><span id="l631.6"> mailTestUtils.registerUMimTypProvider();</span>
<a href="#l631.7"></a><span id="l631.7"> </span>
<a href="#l631.8"></a><span id="l631.8"> var gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span>
<a href="#l631.9"></a><span id="l631.9">                    .createInstance(Ci.nsIMessenger);</span>
<a href="#l631.10"></a><span id="l631.10"> </span>
<a href="#l631.11"></a><span id="l631.11"> // Create a message generator</span>
<a href="#l631.12"></a><span id="l631.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l631.13"></a><span id="l631.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l631.14"></a><span id="l631.14"> // Create a message scenario generator using that message generator</span>
<a href="#l631.15"></a><span id="l631.15" class="difflineminus">-const scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l631.16"></a><span id="l631.16" class="difflineplus">+var scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l631.17"></a><span id="l631.17"> </span>
<a href="#l631.18"></a><span id="l631.18"> /* Today's gory details (thanks to Jonathan Protzenko): libmime somehow</span>
<a href="#l631.19"></a><span id="l631.19">  * counts the trailing newline for an attachment MIME part. Most of the time,</span>
<a href="#l631.20"></a><span id="l631.20">  * assuming attachment has N bytes (no matter what's inside, newlines or</span>
<a href="#l631.21"></a><span id="l631.21">  * not), libmime will return N + 1 bytes. On Linux and Mac, this always</span>
<a href="#l631.22"></a><span id="l631.22">  * holds. However, on Windows, if the attachment is not encoded (that is, is</span>
<a href="#l631.23"></a><span id="l631.23">  * inline text), libmime will return N + 2 bytes.</span>
<a href="#l631.24"></a><span id="l631.24">  */</span>
<a href="#l631.25"></a><span id="l631.25" class="difflineminus">-const epsilon = ('@mozilla.org/windows-registry-key;1' in Components.classes) ? 4 : 2;</span>
<a href="#l631.26"></a><span id="l631.26" class="difflineplus">+var epsilon = ('@mozilla.org/windows-registry-key;1' in Components.classes) ? 4 : 2;</span>
<a href="#l631.27"></a><span id="l631.27"> </span>
<a href="#l631.28"></a><span id="l631.28" class="difflineminus">-const textAttachment =</span>
<a href="#l631.29"></a><span id="l631.29" class="difflineplus">+var textAttachment =</span>
<a href="#l631.30"></a><span id="l631.30">   &quot;Can't make the frug contest, Helen; stomach's upset. I'll fix you, &quot; +</span>
<a href="#l631.31"></a><span id="l631.31">   &quot;Ubik! Ubik drops you back in the thick of things fast. Taken as &quot; +</span>
<a href="#l631.32"></a><span id="l631.32">   &quot;directed, Ubik speeds relief to head and stomach. Remember: Ubik is &quot; +</span>
<a href="#l631.33"></a><span id="l631.33">   &quot;only seconds away. Avoid prolonged use.&quot;;</span>
<a href="#l631.34"></a><span id="l631.34"> </span>
<a href="#l631.35"></a><span id="l631.35" class="difflineminus">-const binaryAttachment = textAttachment;</span>
<a href="#l631.36"></a><span id="l631.36" class="difflineplus">+var binaryAttachment = textAttachment;</span>
<a href="#l631.37"></a><span id="l631.37"> </span>
<a href="#l631.38"></a><span id="l631.38" class="difflineminus">-const imageAttachment =</span>
<a href="#l631.39"></a><span id="l631.39" class="difflineplus">+var imageAttachment =</span>
<a href="#l631.40"></a><span id="l631.40">   'iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwS' +</span>
<a href="#l631.41"></a><span id="l631.41">   'FlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA' +</span>
<a href="#l631.42"></a><span id="l631.42">   'A5SURBVCiRY/z//z8DKYCJJNXkaGBgYGD4D8NQ5zUgiTVAxeBqSLaBkVRPM0KtIhrQ3km0jwe' +</span>
<a href="#l631.43"></a><span id="l631.43">   'SNQAAlmAY+71EgFoAAAAASUVORK5CYII=';</span>
<a href="#l631.44"></a><span id="l631.44" class="difflineminus">-const imageSize = 188;</span>
<a href="#l631.45"></a><span id="l631.45" class="difflineplus">+var imageSize = 188;</span>
<a href="#l631.46"></a><span id="l631.46"> </span>
<a href="#l631.47"></a><span id="l631.47" class="difflineminus">-const uuAttachment =</span>
<a href="#l631.48"></a><span id="l631.48" class="difflineplus">+var uuAttachment =</span>
<a href="#l631.49"></a><span id="l631.49">   'begin 644 /home/jvporter/Desktop/out.txt\n' +</span>
<a href="#l631.50"></a><span id="l631.50">   'M0V%N)W0@;6%K92!T:&amp;4@9G)U9R!C;VYT97-T+&quot;!(96QE;CL@&lt;W1O;6%C:&quot;=S\n' +</span>
<a href="#l631.51"></a><span id="l631.51">   'M(\'5P&lt;V5T+B!))VQL(&amp;9I&gt;&quot;!Y;W4L(%5B:6LA(%5B:6L@9\')O&lt;\',@&gt;6]U(&amp;)A\n' +</span>
<a href="#l631.52"></a><span id="l631.52">   'M8VL@:6X@=&amp;AE(\'1H:6-K(&amp;]F(\'1H:6YG&lt;R!F87-T+B!486ME;B!A&lt;R!D:7)E\n' +</span>
<a href="#l631.53"></a><span id="l631.53">   'M8W1E9&quot;P@56)I:R!S&lt;&amp;5E9\',@&lt;F5L:65F(\'1O(&amp;AE860@86YD(\'-T;VUA8V@N\n' +</span>
<a href="#l631.54"></a><span id="l631.54">   'M(%)E;65M8F5R.B!58FEK(&amp;ES(&amp;]N;\'D@&lt;V5C;VYD&lt;R!A=V%Y+B!!=F]I9&quot;!P\n' +</span>
<a href="#l631.55"></a><span id="l631.55">   '.&lt;F]L;VYG960@=7-E+@H`\n' +</span>
<a href="#l631.56"></a><span id="l631.56">   '`\n' +</span>
<a href="#l631.57"></a><span id="l631.57">   'end';</span>
<a href="#l631.58"></a><span id="l631.58"> </span>
<a href="#l631.59"></a><span id="l631.59" class="difflineminus">-const yencText =</span>
<a href="#l631.60"></a><span id="l631.60" class="difflineplus">+var yencText =</span>
<a href="#l631.61"></a><span id="l631.61">   &quot;Hello there --\n&quot;+</span>
<a href="#l631.62"></a><span id="l631.62">   &quot;=ybegin line=128 size=174 name=jane\n&quot;+</span>
<a href="#l631.63"></a><span id="l631.63">   &quot;\x76\x99\x98\x91\x9e\x8f\x97\x9a\x9d\x56\x4a\x94\x8f\x4a\x97\x8f&quot;+</span>
<a href="#l631.64"></a><span id="l631.64">   &quot;\x4a\x9d\x9f\x93\x9d\x4a\x8d\x99\x9f\x8d\x92\xed\xd3\x4a\x8e\x8f&quot;+</span>
<a href="#l631.65"></a><span id="l631.65">   &quot;\x4a\x8c\x99\x98\x98\x8f\x4a\x92\x8f\x9f\x9c\x8f\x58\x4a\x7a\x8b&quot;+</span>
<a href="#l631.66"></a><span id="l631.66">   &quot;\x9c\x90\x99\x93\x9d\x56\x4a\xed\xca\x4a\x9a\x8f\x93\x98\x8f\x4a&quot;+</span>
<a href="#l631.67"></a><span id="l631.67">   &quot;\x97\x8b\x4a\x8c\x99\x9f\x91\x93\x8f\x4a\xed\xd3\x9e\x8f\x93\x98&quot;+</span>
<a href="#l631.68"></a><span id="l631.68">   &quot;\x9e\x8f\x56\x4a\x97\x8f\x9d\x4a\xa3\x8f\x9f\xa2\x4a\x9d\x8f\x4a&quot;+</span>
<a href="#l631.69"></a><span id="l631.69">   &quot;\x90\x8f\x9c\x97\x8b\x93\x8f\x98\x9e\x4a\x9d\x93\x4a\xa0\x93\x9e&quot;+</span>
<a href="#l631.70"></a><span id="l631.70">   &quot;\x8f\x4a\x9b\x9f\x8f\x4a\x94\x8f\x4a\x98\x51\x8b\xa0\x8b\x93\x9d&quot;+</span>
<a href="#l631.71"></a><span id="l631.71">   &quot;\x0d\x0a\x4a\x9a\x8b\x9d\x4a\x96\x8f\x4a\x9e\x8f\x97\x9a\x9d\x4a&quot;+</span>
<a href="#l631.72"></a><span id="l631.72">   &quot;\x8e\x8f\x4a\x97\x8f\x4a\x8e\x93\x9c\x8f\x4a\x64\x4a\xec\xd5\x4a&quot;+</span>
<a href="#l631.73"></a><span id="l631.73">   &quot;\x74\x8f\x4a\x97\x51\x8f\x98\x8e\x99\x9c\x9d\x58\x4a\xec\xe5\x34&quot;+</span>
<a href="#l631.74"></a><span id="l631.74">   &quot;\x0d\x0a&quot;+</span>
<a href="#l631.75"></a><span id="l631.75">   &quot;=yend size=174 crc32=7efccd8e\n&quot;;</span>
<a href="#l631.76"></a><span id="l631.76" class="difflineminus">-const yencSize = 174;</span>
<a href="#l631.77"></a><span id="l631.77" class="difflineplus">+var yencSize = 174;</span>
<a href="#l631.78"></a><span id="l631.78"> </span>
<a href="#l631.79"></a><span id="l631.79" class="difflineminus">-const partHtml = new SyntheticPartLeaf(</span>
<a href="#l631.80"></a><span id="l631.80" class="difflineplus">+var partHtml = new SyntheticPartLeaf(</span>
<a href="#l631.81"></a><span id="l631.81">   &quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;I am HTML! Woo! &lt;/body&gt;&lt;/html&gt;&quot;,</span>
<a href="#l631.82"></a><span id="l631.82">   {</span>
<a href="#l631.83"></a><span id="l631.83">     contentType: &quot;text/html&quot;</span>
<a href="#l631.84"></a><span id="l631.84">   }</span>
<a href="#l631.85"></a><span id="l631.85"> );</span>
<a href="#l631.86"></a><span id="l631.86"> </span>
<a href="#l631.87"></a><span id="l631.87"> var attachedMessage1 = msgGen.makeMessage({ body: { body: textAttachment } });</span>
<a href="#l631.88"></a><span id="l631.88"> var attachedMessage2 = msgGen.makeMessage({</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l632.1"></a><span id="l632.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_badContentType.js</span>
<a href="#l632.2"></a><span id="l632.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_badContentType.js</span>
<a href="#l632.3"></a><span id="l632.3" class="difflineat">@@ -13,21 +13,21 @@ load(&quot;../../../resources/asyncTestUtils.</span>
<a href="#l632.4"></a><span id="l632.4"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l632.5"></a><span id="l632.5"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l632.6"></a><span id="l632.6"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l632.7"></a><span id="l632.7"> </span>
<a href="#l632.8"></a><span id="l632.8"> var gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span>
<a href="#l632.9"></a><span id="l632.9">                    .createInstance(Ci.nsIMessenger);</span>
<a href="#l632.10"></a><span id="l632.10"> </span>
<a href="#l632.11"></a><span id="l632.11"> // Create a message generator</span>
<a href="#l632.12"></a><span id="l632.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l632.13"></a><span id="l632.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l632.14"></a><span id="l632.14"> // Create a message scenario generator using that message generator</span>
<a href="#l632.15"></a><span id="l632.15" class="difflineminus">-const scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l632.16"></a><span id="l632.16" class="difflineplus">+var scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l632.17"></a><span id="l632.17"> </span>
<a href="#l632.18"></a><span id="l632.18" class="difflineminus">-const imageAttachment =</span>
<a href="#l632.19"></a><span id="l632.19" class="difflineplus">+var imageAttachment =</span>
<a href="#l632.20"></a><span id="l632.20">   'iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwS' +</span>
<a href="#l632.21"></a><span id="l632.21">   'FlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA' +</span>
<a href="#l632.22"></a><span id="l632.22">   'A5SURBVCiRY/z//z8DKYCJJNXkaGBgYGD4D8NQ5zUgiTVAxeBqSLaBkVRPM0KtIhrQ3km0jwe' +</span>
<a href="#l632.23"></a><span id="l632.23">   'SNQAAlmAY+71EgFoAAAAASUVORK5CYII=';</span>
<a href="#l632.24"></a><span id="l632.24"> </span>
<a href="#l632.25"></a><span id="l632.25"> // create some messages that have various types of attachments</span>
<a href="#l632.26"></a><span id="l632.26"> var messages = [</span>
<a href="#l632.27"></a><span id="l632.27">   // image attachment (normal content type sanity test)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l633.1"></a><span id="l633.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_hidden_attachments.js</span>
<a href="#l633.2"></a><span id="l633.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_hidden_attachments.js</span>
<a href="#l633.3"></a><span id="l633.3" class="difflineat">@@ -12,19 +12,19 @@ load(&quot;../../../resources/asyncTestUtils.</span>
<a href="#l633.4"></a><span id="l633.4"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l633.5"></a><span id="l633.5"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l633.6"></a><span id="l633.6"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l633.7"></a><span id="l633.7"> </span>
<a href="#l633.8"></a><span id="l633.8"> var gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span>
<a href="#l633.9"></a><span id="l633.9">                    .createInstance(Ci.nsIMessenger);</span>
<a href="#l633.10"></a><span id="l633.10"> </span>
<a href="#l633.11"></a><span id="l633.11"> // Create a message generator</span>
<a href="#l633.12"></a><span id="l633.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l633.13"></a><span id="l633.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l633.14"></a><span id="l633.14"> // Create a message scenario generator using that message generator</span>
<a href="#l633.15"></a><span id="l633.15" class="difflineminus">-const scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l633.16"></a><span id="l633.16" class="difflineplus">+var scenarios = gMessageScenarioFactory = new MessageScenarioFactory(msgGen);</span>
<a href="#l633.17"></a><span id="l633.17"> </span>
<a href="#l633.18"></a><span id="l633.18"> // create some messages that have various types of attachments</span>
<a href="#l633.19"></a><span id="l633.19"> var messages = [</span>
<a href="#l633.20"></a><span id="l633.20">   {},</span>
<a href="#l633.21"></a><span id="l633.21"> </span>
<a href="#l633.22"></a><span id="l633.22">   /***** Attachments with Content-Disposition: attachment *****/</span>
<a href="#l633.23"></a><span id="l633.23"> </span>
<a href="#l633.24"></a><span id="l633.24">   // inline-able attachment with a name</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l634.1"></a><span id="l634.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_message_attachment.js</span>
<a href="#l634.2"></a><span id="l634.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_message_attachment.js</span>
<a href="#l634.3"></a><span id="l634.3" class="difflineat">@@ -12,19 +12,19 @@ load(&quot;../../../resources/asyncTestUtils.</span>
<a href="#l634.4"></a><span id="l634.4"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l634.5"></a><span id="l634.5"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l634.6"></a><span id="l634.6"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l634.7"></a><span id="l634.7"> </span>
<a href="#l634.8"></a><span id="l634.8"> var gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span>
<a href="#l634.9"></a><span id="l634.9">                    .createInstance(Ci.nsIMessenger);</span>
<a href="#l634.10"></a><span id="l634.10"> </span>
<a href="#l634.11"></a><span id="l634.11"> // Create a message generator</span>
<a href="#l634.12"></a><span id="l634.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l634.13"></a><span id="l634.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l634.14"></a><span id="l634.14"> </span>
<a href="#l634.15"></a><span id="l634.15" class="difflineminus">-const textAttachment =</span>
<a href="#l634.16"></a><span id="l634.16" class="difflineplus">+var textAttachment =</span>
<a href="#l634.17"></a><span id="l634.17">   &quot;inline text attachment&quot;;</span>
<a href="#l634.18"></a><span id="l634.18"> </span>
<a href="#l634.19"></a><span id="l634.19"> // create a message with a text attachment</span>
<a href="#l634.20"></a><span id="l634.20"> var messages = [</span>
<a href="#l634.21"></a><span id="l634.21">   // unnamed email attachment</span>
<a href="#l634.22"></a><span id="l634.22">   { attachments: [{ body: textAttachment,</span>
<a href="#l634.23"></a><span id="l634.23">                     filename: 'test.txt',</span>
<a href="#l634.24"></a><span id="l634.24">                     format: '' },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l635.1"></a><span id="l635.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_parser.js</span>
<a href="#l635.2"></a><span id="l635.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_parser.js</span>
<a href="#l635.3"></a><span id="l635.3" class="difflineat">@@ -193,17 +193,17 @@ function test_parser(message, opts, resu</span>
<a href="#l635.4"></a><span id="l635.4">   };</span>
<a href="#l635.5"></a><span id="l635.5">   opts.onerror = function (e) { throw e; };</span>
<a href="#l635.6"></a><span id="l635.6">   MimeParser.parseSync(message, emitter, opts);</span>
<a href="#l635.7"></a><span id="l635.7">   do_check_eq(calls, 2);</span>
<a href="#l635.8"></a><span id="l635.8">   if (!checkingHeaders)</span>
<a href="#l635.9"></a><span id="l635.9">     do_check_eq(dataCalls, results.length);</span>
<a href="#l635.10"></a><span id="l635.10"> }</span>
<a href="#l635.11"></a><span id="l635.11"> </span>
<a href="#l635.12"></a><span id="l635.12" class="difflineminus">-const ATTACH = MimeParser.HEADER_PARAMETER;</span>
<a href="#l635.13"></a><span id="l635.13" class="difflineplus">+var ATTACH = MimeParser.HEADER_PARAMETER;</span>
<a href="#l635.14"></a><span id="l635.14"> // Format of tests:</span>
<a href="#l635.15"></a><span id="l635.15"> // entry[0] = header</span>
<a href="#l635.16"></a><span id="l635.16"> // entry[1] = flags</span>
<a href="#l635.17"></a><span id="l635.17"> // entry[2] = result to match</span>
<a href="#l635.18"></a><span id="l635.18"> var header_tests = [</span>
<a href="#l635.19"></a><span id="l635.19">   // Parameter passing</span>
<a href="#l635.20"></a><span id="l635.20">   [&quot;multipart/related&quot;, MimeParser.HEADER_PARAMETER, [&quot;multipart/related&quot;, {}]],</span>
<a href="#l635.21"></a><span id="l635.21">   [&quot;a ; b=v&quot;, MimeParser.HEADER_PARAMETER, [&quot;a&quot;, {&quot;b&quot;: &quot;v&quot;}]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l636.1"></a><span id="l636.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_rfc822_body.js</span>
<a href="#l636.2"></a><span id="l636.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_rfc822_body.js</span>
<a href="#l636.3"></a><span id="l636.3" class="difflineat">@@ -12,17 +12,17 @@ load(&quot;../../../resources/asyncTestUtils.</span>
<a href="#l636.4"></a><span id="l636.4"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l636.5"></a><span id="l636.5"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l636.6"></a><span id="l636.6"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l636.7"></a><span id="l636.7"> </span>
<a href="#l636.8"></a><span id="l636.8"> var gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span>
<a href="#l636.9"></a><span id="l636.9">                    .createInstance(Ci.nsIMessenger);</span>
<a href="#l636.10"></a><span id="l636.10"> </span>
<a href="#l636.11"></a><span id="l636.11"> // Create a message generator</span>
<a href="#l636.12"></a><span id="l636.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l636.13"></a><span id="l636.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l636.14"></a><span id="l636.14"> </span>
<a href="#l636.15"></a><span id="l636.15"> var messages = [</span>
<a href="#l636.16"></a><span id="l636.16">   // a message whose body is itself a message</span>
<a href="#l636.17"></a><span id="l636.17">   { bodyPart: msgGen.makeMessage(),</span>
<a href="#l636.18"></a><span id="l636.18">     attachmentCount: inline =&gt; 1,</span>
<a href="#l636.19"></a><span id="l636.19">   },</span>
<a href="#l636.20"></a><span id="l636.20">   // a message whose body is itself a message, and which has an attachment</span>
<a href="#l636.21"></a><span id="l636.21">   { bodyPart: msgGen.makeMessage({</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l637.1"></a><span id="l637.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_text_attachment.js</span>
<a href="#l637.2"></a><span id="l637.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_text_attachment.js</span>
<a href="#l637.3"></a><span id="l637.3" class="difflineat">@@ -12,19 +12,19 @@ load(&quot;../../../resources/asyncTestUtils.</span>
<a href="#l637.4"></a><span id="l637.4"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l637.5"></a><span id="l637.5"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l637.6"></a><span id="l637.6"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l637.7"></a><span id="l637.7"> </span>
<a href="#l637.8"></a><span id="l637.8"> var gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span>
<a href="#l637.9"></a><span id="l637.9">                    .createInstance(Ci.nsIMessenger);</span>
<a href="#l637.10"></a><span id="l637.10"> </span>
<a href="#l637.11"></a><span id="l637.11"> // Create a message generator</span>
<a href="#l637.12"></a><span id="l637.12" class="difflineminus">-const msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l637.13"></a><span id="l637.13" class="difflineplus">+var msgGen = gMessageGenerator = new MessageGenerator();</span>
<a href="#l637.14"></a><span id="l637.14"> </span>
<a href="#l637.15"></a><span id="l637.15" class="difflineminus">-const textAttachment =</span>
<a href="#l637.16"></a><span id="l637.16" class="difflineplus">+var textAttachment =</span>
<a href="#l637.17"></a><span id="l637.17">   &quot;inline text attachment&quot;;</span>
<a href="#l637.18"></a><span id="l637.18"> </span>
<a href="#l637.19"></a><span id="l637.19"> // create a message with a text attachment</span>
<a href="#l637.20"></a><span id="l637.20"> var messages = [</span>
<a href="#l637.21"></a><span id="l637.21">   // text attachment</span>
<a href="#l637.22"></a><span id="l637.22">   { attachments: [{ body: textAttachment,</span>
<a href="#l637.23"></a><span id="l637.23">                     filename: 'test.txt',</span>
<a href="#l637.24"></a><span id="l637.24">                     format: '' }]},</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l638.1"></a><span id="l638.1" class="difflineminus">--- a/mailnews/news/src/nsNewsAutoCompleteSearch.js</span>
<a href="#l638.2"></a><span id="l638.2" class="difflineplus">+++ b/mailnews/news/src/nsNewsAutoCompleteSearch.js</span>
<a href="#l638.3"></a><span id="l638.3" class="difflineat">@@ -1,22 +1,22 @@</span>
<a href="#l638.4"></a><span id="l638.4"> /* -*- Mode: Javascript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l638.5"></a><span id="l638.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l638.6"></a><span id="l638.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l638.7"></a><span id="l638.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l638.8"></a><span id="l638.8"> </span>
<a href="#l638.9"></a><span id="l638.9" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l638.10"></a><span id="l638.10" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l638.11"></a><span id="l638.11" class="difflineminus">-const Cu = Components.utils;</span>
<a href="#l638.12"></a><span id="l638.12" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l638.13"></a><span id="l638.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l638.14"></a><span id="l638.14" class="difflineplus">+var Cu = Components.utils;</span>
<a href="#l638.15"></a><span id="l638.15"> </span>
<a href="#l638.16"></a><span id="l638.16"> Cu.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l638.17"></a><span id="l638.17"> Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l638.18"></a><span id="l638.18"> </span>
<a href="#l638.19"></a><span id="l638.19" class="difflineminus">-const kACR = Ci.nsIAutoCompleteResult;</span>
<a href="#l638.20"></a><span id="l638.20" class="difflineminus">-const kSupportedTypes = new Set([&quot;addr_newsgroups&quot;, &quot;addr_followup&quot;]);</span>
<a href="#l638.21"></a><span id="l638.21" class="difflineplus">+var kACR = Ci.nsIAutoCompleteResult;</span>
<a href="#l638.22"></a><span id="l638.22" class="difflineplus">+var kSupportedTypes = new Set([&quot;addr_newsgroups&quot;, &quot;addr_followup&quot;]);</span>
<a href="#l638.23"></a><span id="l638.23"> </span>
<a href="#l638.24"></a><span id="l638.24"> function nsNewsAutoCompleteResult(aSearchString) {</span>
<a href="#l638.25"></a><span id="l638.25">   // Can't create this in the prototype as we'd get the same array for</span>
<a href="#l638.26"></a><span id="l638.26">   // all instances</span>
<a href="#l638.27"></a><span id="l638.27">   this._searchResults = [];</span>
<a href="#l638.28"></a><span id="l638.28">   this.searchString = aSearchString;</span>
<a href="#l638.29"></a><span id="l638.29"> }</span>
<a href="#l638.30"></a><span id="l638.30"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l639.1"></a><span id="l639.1" class="difflineminus">--- a/mailnews/news/test/unit/head_server_setup.js</span>
<a href="#l639.2"></a><span id="l639.2" class="difflineplus">+++ b/mailnews/news/test/unit/head_server_setup.js</span>
<a href="#l639.3"></a><span id="l639.3" class="difflineat">@@ -16,17 +16,17 @@ updateAppInfo();</span>
<a href="#l639.4"></a><span id="l639.4"> do_get_profile();</span>
<a href="#l639.5"></a><span id="l639.5"> </span>
<a href="#l639.6"></a><span id="l639.6"> var gDEPTH = &quot;../../../../&quot;;</span>
<a href="#l639.7"></a><span id="l639.7"> </span>
<a href="#l639.8"></a><span id="l639.8"> // Import the servers</span>
<a href="#l639.9"></a><span id="l639.9"> Components.utils.import(&quot;resource://testing-common/mailnews/maild.js&quot;);</span>
<a href="#l639.10"></a><span id="l639.10"> Components.utils.import(&quot;resource://testing-common/mailnews/nntpd.js&quot;);</span>
<a href="#l639.11"></a><span id="l639.11"> </span>
<a href="#l639.12"></a><span id="l639.12" class="difflineminus">-const kSimpleNewsArticle =</span>
<a href="#l639.13"></a><span id="l639.13" class="difflineplus">+var kSimpleNewsArticle =</span>
<a href="#l639.14"></a><span id="l639.14">   &quot;From: John Doe &lt;john.doe@example.com&gt;\n&quot;+</span>
<a href="#l639.15"></a><span id="l639.15">   &quot;Date: Sat, 24 Mar 1990 10:59:24 -0500\n&quot;+</span>
<a href="#l639.16"></a><span id="l639.16">   &quot;Newsgroups: test.subscribe.simple\n&quot;+</span>
<a href="#l639.17"></a><span id="l639.17">   &quot;Subject: H2G2 -- What does it mean?\n&quot;+</span>
<a href="#l639.18"></a><span id="l639.18">   &quot;Message-ID: &lt;TSS1@nntp.invalid&gt;\n&quot;+</span>
<a href="#l639.19"></a><span id="l639.19">   &quot;\n&quot;+</span>
<a href="#l639.20"></a><span id="l639.20">   &quot;What does the acronym H2G2 stand for? I've seen it before...\n&quot;;</span>
<a href="#l639.21"></a><span id="l639.21"> </span>
<a href="#l639.22"></a><span id="l639.22" class="difflineat">@@ -91,17 +91,17 @@ function makeServer(handler, daemon) {</span>
<a href="#l639.23"></a><span id="l639.23"> }</span>
<a href="#l639.24"></a><span id="l639.24"> </span>
<a href="#l639.25"></a><span id="l639.25"> // Enable strict threading</span>
<a href="#l639.26"></a><span id="l639.26"> Services.prefs.setBoolPref(&quot;mail.strict_threading&quot;, true);</span>
<a href="#l639.27"></a><span id="l639.27"> </span>
<a href="#l639.28"></a><span id="l639.28"> </span>
<a href="#l639.29"></a><span id="l639.29"> // Make sure we don't try to use a protected port. I like adding 1024 to the</span>
<a href="#l639.30"></a><span id="l639.30"> // default port when doing so...</span>
<a href="#l639.31"></a><span id="l639.31" class="difflineminus">-const NNTP_PORT = 1024+119;</span>
<a href="#l639.32"></a><span id="l639.32" class="difflineplus">+var NNTP_PORT = 1024+119;</span>
<a href="#l639.33"></a><span id="l639.33"> </span>
<a href="#l639.34"></a><span id="l639.34"> var _server = null;</span>
<a href="#l639.35"></a><span id="l639.35"> var _account = null;</span>
<a href="#l639.36"></a><span id="l639.36"> </span>
<a href="#l639.37"></a><span id="l639.37"> function subscribeServer(incomingServer) {</span>
<a href="#l639.38"></a><span id="l639.38">   // Subscribe to newsgroups</span>
<a href="#l639.39"></a><span id="l639.39">   incomingServer.QueryInterface(Ci.nsINntpIncomingServer);</span>
<a href="#l639.40"></a><span id="l639.40">   groups.forEach(function (element) {</span>
<a href="#l639.41"></a><span id="l639.41" class="difflineat">@@ -122,17 +122,17 @@ function setupLocalServer(port) {</span>
<a href="#l639.42"></a><span id="l639.42">   subscribeServer(server);</span>
<a href="#l639.43"></a><span id="l639.43"> </span>
<a href="#l639.44"></a><span id="l639.44">   _server = server;</span>
<a href="#l639.45"></a><span id="l639.45">   _account = serverAndAccount.account;</span>
<a href="#l639.46"></a><span id="l639.46"> </span>
<a href="#l639.47"></a><span id="l639.47">   return server;</span>
<a href="#l639.48"></a><span id="l639.48"> }</span>
<a href="#l639.49"></a><span id="l639.49"> </span>
<a href="#l639.50"></a><span id="l639.50" class="difflineminus">-const URLCreator = MailServices.nntp.QueryInterface(Ci.nsIProtocolHandler);</span>
<a href="#l639.51"></a><span id="l639.51" class="difflineplus">+var URLCreator = MailServices.nntp.QueryInterface(Ci.nsIProtocolHandler);</span>
<a href="#l639.52"></a><span id="l639.52"> </span>
<a href="#l639.53"></a><span id="l639.53"> // Sets up a protocol object and prepares to run the test for the news url</span>
<a href="#l639.54"></a><span id="l639.54"> function setupProtocolTest(port, newsUrl, incomingServer) {</span>
<a href="#l639.55"></a><span id="l639.55">   var url;</span>
<a href="#l639.56"></a><span id="l639.56">   if (newsUrl instanceof Ci.nsIMsgMailNewsUrl) {</span>
<a href="#l639.57"></a><span id="l639.57">     url = newsUrl;</span>
<a href="#l639.58"></a><span id="l639.58">   } else {</span>
<a href="#l639.59"></a><span id="l639.59">     url = URLCreator.newURI(newsUrl, null, null);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l640.1"></a><span id="l640.1" class="difflineminus">--- a/mailnews/news/test/unit/test_newsAutocomplete.js</span>
<a href="#l640.2"></a><span id="l640.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_newsAutocomplete.js</span>
<a href="#l640.3"></a><span id="l640.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l640.4"></a><span id="l640.4">  *</span>
<a href="#l640.5"></a><span id="l640.5">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l640.6"></a><span id="l640.6"> </span>
<a href="#l640.7"></a><span id="l640.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l640.8"></a><span id="l640.8"> </span>
<a href="#l640.9"></a><span id="l640.9"> // The basic daemon to use for testing nntpd.js implementations</span>
<a href="#l640.10"></a><span id="l640.10"> var gDaemon = setupNNTPDaemon();</span>
<a href="#l640.11"></a><span id="l640.11"> </span>
<a href="#l640.12"></a><span id="l640.12" class="difflineminus">-const ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l640.13"></a><span id="l640.13" class="difflineplus">+var ACR = Components.interfaces.nsIAutoCompleteResult;</span>
<a href="#l640.14"></a><span id="l640.14"> </span>
<a href="#l640.15"></a><span id="l640.15"> function acObserver() {}</span>
<a href="#l640.16"></a><span id="l640.16"> </span>
<a href="#l640.17"></a><span id="l640.17"> acObserver.prototype = {</span>
<a href="#l640.18"></a><span id="l640.18">   _search: null,</span>
<a href="#l640.19"></a><span id="l640.19">   _result: null,</span>
<a href="#l640.20"></a><span id="l640.20"> </span>
<a href="#l640.21"></a><span id="l640.21">   onSearchResult: function (aSearch, aResult) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l641.1"></a><span id="l641.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpPassword3.js</span>
<a href="#l641.2"></a><span id="l641.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpPassword3.js</span>
<a href="#l641.3"></a><span id="l641.3" class="difflineat">@@ -3,21 +3,21 @@</span>
<a href="#l641.4"></a><span id="l641.4">  * Extra tests for forgetting newsgroup usernames and passwords.</span>
<a href="#l641.5"></a><span id="l641.5">  */</span>
<a href="#l641.6"></a><span id="l641.6"> </span>
<a href="#l641.7"></a><span id="l641.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l641.8"></a><span id="l641.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l641.9"></a><span id="l641.9"> </span>
<a href="#l641.10"></a><span id="l641.10"> load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l641.11"></a><span id="l641.11"> </span>
<a href="#l641.12"></a><span id="l641.12" class="difflineminus">-const kUsername = &quot;testnews&quot;;</span>
<a href="#l641.13"></a><span id="l641.13" class="difflineminus">-const kPassword = &quot;newstest&quot;;</span>
<a href="#l641.14"></a><span id="l641.14" class="difflineminus">-const kProtocol = &quot;nntp&quot;;</span>
<a href="#l641.15"></a><span id="l641.15" class="difflineminus">-const kHostname = &quot;localhost&quot;;</span>
<a href="#l641.16"></a><span id="l641.16" class="difflineminus">-const kServerUrl = &quot;news://&quot; + kHostname;</span>
<a href="#l641.17"></a><span id="l641.17" class="difflineplus">+var kUsername = &quot;testnews&quot;;</span>
<a href="#l641.18"></a><span id="l641.18" class="difflineplus">+var kPassword = &quot;newstest&quot;;</span>
<a href="#l641.19"></a><span id="l641.19" class="difflineplus">+var kProtocol = &quot;nntp&quot;;</span>
<a href="#l641.20"></a><span id="l641.20" class="difflineplus">+var kHostname = &quot;localhost&quot;;</span>
<a href="#l641.21"></a><span id="l641.21" class="difflineplus">+var kServerUrl = &quot;news://&quot; + kHostname;</span>
<a href="#l641.22"></a><span id="l641.22"> </span>
<a href="#l641.23"></a><span id="l641.23"> add_task(function *() {</span>
<a href="#l641.24"></a><span id="l641.24">   // Prepare files for passwords (generated by a script in bug 1018624).</span>
<a href="#l641.25"></a><span id="l641.25">   yield setupForPassword(&quot;signons-mailnews1.8.json&quot;)</span>
<a href="#l641.26"></a><span id="l641.26"> </span>
<a href="#l641.27"></a><span id="l641.27">   // Set up the basic accounts and folders.</span>
<a href="#l641.28"></a><span id="l641.28">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l641.29"></a><span id="l641.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l642.1"></a><span id="l642.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpPasswordFailure.js</span>
<a href="#l642.2"></a><span id="l642.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpPasswordFailure.js</span>
<a href="#l642.3"></a><span id="l642.3" class="difflineat">@@ -22,19 +22,19 @@ var test = null;</span>
<a href="#l642.4"></a><span id="l642.4"> var server;</span>
<a href="#l642.5"></a><span id="l642.5"> var daemon;</span>
<a href="#l642.6"></a><span id="l642.6"> var incomingServer;</span>
<a href="#l642.7"></a><span id="l642.7"> var folder;</span>
<a href="#l642.8"></a><span id="l642.8"> var attempt = 0;</span>
<a href="#l642.9"></a><span id="l642.9"> var count = {};</span>
<a href="#l642.10"></a><span id="l642.10"> var logins;</span>
<a href="#l642.11"></a><span id="l642.11"> </span>
<a href="#l642.12"></a><span id="l642.12" class="difflineminus">-const kUserName = &quot;testnews&quot;;</span>
<a href="#l642.13"></a><span id="l642.13" class="difflineminus">-const kInvalidPassword = &quot;newstest&quot;;</span>
<a href="#l642.14"></a><span id="l642.14" class="difflineminus">-const kValidPassword = &quot;notallama&quot;;</span>
<a href="#l642.15"></a><span id="l642.15" class="difflineplus">+var kUserName = &quot;testnews&quot;;</span>
<a href="#l642.16"></a><span id="l642.16" class="difflineplus">+var kInvalidPassword = &quot;newstest&quot;;</span>
<a href="#l642.17"></a><span id="l642.17" class="difflineplus">+var kValidPassword = &quot;notallama&quot;;</span>
<a href="#l642.18"></a><span id="l642.18"> </span>
<a href="#l642.19"></a><span id="l642.19"> function alert(aDialogText, aText)</span>
<a href="#l642.20"></a><span id="l642.20"> {</span>
<a href="#l642.21"></a><span id="l642.21">   // The first few attempts may prompt about the password problem, the last</span>
<a href="#l642.22"></a><span id="l642.22">   // attempt shouldn't.</span>
<a href="#l642.23"></a><span id="l642.23">   do_check_true(attempt &lt; 4);</span>
<a href="#l642.24"></a><span id="l642.24"> </span>
<a href="#l642.25"></a><span id="l642.25">   // Log the fact we've got an alert, but we don't need to test anything here.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l643.1"></a><span id="l643.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpProtocols.js</span>
<a href="#l643.2"></a><span id="l643.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpProtocols.js</span>
<a href="#l643.3"></a><span id="l643.3" class="difflineat">@@ -1,21 +1,21 @@</span>
<a href="#l643.4"></a><span id="l643.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l643.5"></a><span id="l643.5"> /*</span>
<a href="#l643.6"></a><span id="l643.6">  * Test suite for getting news urls via the protocol handler.</span>
<a href="#l643.7"></a><span id="l643.7">  */</span>
<a href="#l643.8"></a><span id="l643.8"> </span>
<a href="#l643.9"></a><span id="l643.9" class="difflineminus">-const defaultProtocolFlags =</span>
<a href="#l643.10"></a><span id="l643.10" class="difflineplus">+var defaultProtocolFlags =</span>
<a href="#l643.11"></a><span id="l643.11">   Ci.nsIProtocolHandler.URI_NORELATIVE |</span>
<a href="#l643.12"></a><span id="l643.12">   Ci.nsIProtocolHandler.URI_LOADABLE_BY_ANYONE |</span>
<a href="#l643.13"></a><span id="l643.13">   Ci.nsIProtocolHandler.ALLOWS_PROXY |</span>
<a href="#l643.14"></a><span id="l643.14">   Ci.nsIProtocolHandler.URI_FORBIDS_AUTOMATIC_DOCUMENT_REPLACEMENT |</span>
<a href="#l643.15"></a><span id="l643.15">   Ci.nsIProtocolHandler.URI_FORBIDS_COOKIE_ACCESS;</span>
<a href="#l643.16"></a><span id="l643.16"> </span>
<a href="#l643.17"></a><span id="l643.17" class="difflineminus">-const protocols =</span>
<a href="#l643.18"></a><span id="l643.18" class="difflineplus">+var protocols =</span>
<a href="#l643.19"></a><span id="l643.19">   [ { protocol: &quot;news&quot;,</span>
<a href="#l643.20"></a><span id="l643.20">       urlSpec: &quot;news://user@localhost/&quot;,</span>
<a href="#l643.21"></a><span id="l643.21">       defaultPort: Ci.nsINntpUrl.DEFAULT_NNTP_PORT</span>
<a href="#l643.22"></a><span id="l643.22">     },</span>
<a href="#l643.23"></a><span id="l643.23">     // XXX News secure protocol not working yet.</span>
<a href="#l643.24"></a><span id="l643.24">     /*</span>
<a href="#l643.25"></a><span id="l643.25">     { protocol: &quot;snews&quot;,</span>
<a href="#l643.26"></a><span id="l643.26">       urlSpec: &quot;snews://user@localhost/&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l644.1"></a><span id="l644.1" class="difflineminus">--- a/mailnews/test/fakeserver/auth.js</span>
<a href="#l644.2"></a><span id="l644.2" class="difflineplus">+++ b/mailnews/test/fakeserver/auth.js</span>
<a href="#l644.3"></a><span id="l644.3" class="difflineat">@@ -14,18 +14,18 @@</span>
<a href="#l644.4"></a><span id="l644.4">  */</span>
<a href="#l644.5"></a><span id="l644.5"> </span>
<a href="#l644.6"></a><span id="l644.6"> var EXPORTED_SYMBOLS = [</span>
<a href="#l644.7"></a><span id="l644.7">   &quot;AuthPLAIN&quot;,</span>
<a href="#l644.8"></a><span id="l644.8">   &quot;AuthLOGIN&quot;,</span>
<a href="#l644.9"></a><span id="l644.9">   &quot;AuthCRAM&quot;</span>
<a href="#l644.10"></a><span id="l644.10"> ];</span>
<a href="#l644.11"></a><span id="l644.11"> </span>
<a href="#l644.12"></a><span id="l644.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l644.13"></a><span id="l644.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l644.14"></a><span id="l644.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l644.15"></a><span id="l644.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l644.16"></a><span id="l644.16"> </span>
<a href="#l644.17"></a><span id="l644.17"> /**</span>
<a href="#l644.18"></a><span id="l644.18">  * Implements AUTH PLAIN</span>
<a href="#l644.19"></a><span id="l644.19">  * @see RFC 4616</span>
<a href="#l644.20"></a><span id="l644.20">  */</span>
<a href="#l644.21"></a><span id="l644.21"> var AuthPLAIN = {</span>
<a href="#l644.22"></a><span id="l644.22">   /**</span>
<a href="#l644.23"></a><span id="l644.23">    * Takes full PLAIN auth line, and decodes it.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l645.1"></a><span id="l645.1" class="difflineminus">--- a/mailnews/test/fakeserver/imapd.js</span>
<a href="#l645.2"></a><span id="l645.2" class="difflineplus">+++ b/mailnews/test/fakeserver/imapd.js</span>
<a href="#l645.3"></a><span id="l645.3" class="difflineat">@@ -62,18 +62,18 @@ var EXPORTED_SYMBOLS = [</span>
<a href="#l645.4"></a><span id="l645.4"> // |   perform various (potentially expensive) actions.                       //</span>
<a href="#l645.5"></a><span id="l645.5"> // + Messages: A message is represented internally as an annotated URI.       //</span>
<a href="#l645.6"></a><span id="l645.6"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l645.7"></a><span id="l645.7"> </span>
<a href="#l645.8"></a><span id="l645.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l645.9"></a><span id="l645.9"> Components.utils.import(&quot;resource:///modules/mimeParser.jsm&quot;);</span>
<a href="#l645.10"></a><span id="l645.10"> Components.utils.import(&quot;resource://testing-common/mailnews/auth.js&quot;);</span>
<a href="#l645.11"></a><span id="l645.11"> </span>
<a href="#l645.12"></a><span id="l645.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l645.13"></a><span id="l645.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l645.14"></a><span id="l645.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l645.15"></a><span id="l645.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l645.16"></a><span id="l645.16"> </span>
<a href="#l645.17"></a><span id="l645.17"> function imapDaemon(flags, syncFunc) {</span>
<a href="#l645.18"></a><span id="l645.18">   this._flags = flags;</span>
<a href="#l645.19"></a><span id="l645.19"> </span>
<a href="#l645.20"></a><span id="l645.20">   this.namespaces = [];</span>
<a href="#l645.21"></a><span id="l645.21">   this.idResponse = &quot;NIL&quot;;</span>
<a href="#l645.22"></a><span id="l645.22">   this.root = new imapMailbox(&quot;&quot;, null, {type : IMAP_NAMESPACE_PERSONAL});</span>
<a href="#l645.23"></a><span id="l645.23">   this.uidvalidity = Math.round(Date.now()/1000);</span>
<a href="#l645.24"></a><span id="l645.24" class="difflineat">@@ -436,39 +436,39 @@ imapMessage.prototype = {</span>
<a href="#l645.25"></a><span id="l645.25">     return body;</span>
<a href="#l645.26"></a><span id="l645.26">   }</span>
<a href="#l645.27"></a><span id="l645.27"> }</span>
<a href="#l645.28"></a><span id="l645.28"> // IMAP FLAGS</span>
<a href="#l645.29"></a><span id="l645.29"> // If you don't specify any flag, no flags are set.</span>
<a href="#l645.30"></a><span id="l645.30"> /**</span>
<a href="#l645.31"></a><span id="l645.31">  * This flag represents whether or not the daemon is case-insensitive.</span>
<a href="#l645.32"></a><span id="l645.32">  */</span>
<a href="#l645.33"></a><span id="l645.33" class="difflineminus">-const IMAP_FLAG_CASE_INSENSITIVE = 1;</span>
<a href="#l645.34"></a><span id="l645.34" class="difflineplus">+var IMAP_FLAG_CASE_INSENSITIVE = 1;</span>
<a href="#l645.35"></a><span id="l645.35"> /**</span>
<a href="#l645.36"></a><span id="l645.36">  * This flag represents whether or not CREATE hierarchies need a delimiter.</span>
<a href="#l645.37"></a><span id="l645.37">  *</span>
<a href="#l645.38"></a><span id="l645.38">  * If this flag is off, &lt;tt&gt;CREATE a&lt;br /&gt;CREATE a/b&lt;/tt&gt; fails where</span>
<a href="#l645.39"></a><span id="l645.39">  * &lt;tt&gt;CREATE a/&lt;br /&gt;CREATE a/b&lt;/tt&gt; would succeed (assuming the delimiter is</span>
<a href="#l645.40"></a><span id="l645.40">  * '/').</span>
<a href="#l645.41"></a><span id="l645.41">  */</span>
<a href="#l645.42"></a><span id="l645.42" class="difflineminus">-const IMAP_FLAG_NEEDS_DELIMITER = 2;</span>
<a href="#l645.43"></a><span id="l645.43" class="difflineplus">+var IMAP_FLAG_NEEDS_DELIMITER = 2;</span>
<a href="#l645.44"></a><span id="l645.44"> </span>
<a href="#l645.45"></a><span id="l645.45"> function hasFlag(flags, flag) {</span>
<a href="#l645.46"></a><span id="l645.46">   return (flags &amp; flag) == flag;</span>
<a href="#l645.47"></a><span id="l645.47"> }</span>
<a href="#l645.48"></a><span id="l645.48"> </span>
<a href="#l645.49"></a><span id="l645.49"> // IMAP Namespaces</span>
<a href="#l645.50"></a><span id="l645.50" class="difflineminus">-const IMAP_NAMESPACE_PERSONAL = 0;</span>
<a href="#l645.51"></a><span id="l645.51" class="difflineminus">-const IMAP_NAMESPACE_OTHER_USERS = 1;</span>
<a href="#l645.52"></a><span id="l645.52" class="difflineminus">-const IMAP_NAMESPACE_SHARED = 2;</span>
<a href="#l645.53"></a><span id="l645.53" class="difflineplus">+var IMAP_NAMESPACE_PERSONAL = 0;</span>
<a href="#l645.54"></a><span id="l645.54" class="difflineplus">+var IMAP_NAMESPACE_OTHER_USERS = 1;</span>
<a href="#l645.55"></a><span id="l645.55" class="difflineplus">+var IMAP_NAMESPACE_SHARED = 2;</span>
<a href="#l645.56"></a><span id="l645.56"> </span>
<a href="#l645.57"></a><span id="l645.57"> // IMAP server helpers</span>
<a href="#l645.58"></a><span id="l645.58" class="difflineminus">-const IMAP_STATE_NOT_AUTHED = 0;</span>
<a href="#l645.59"></a><span id="l645.59" class="difflineminus">-const IMAP_STATE_AUTHED = 1;</span>
<a href="#l645.60"></a><span id="l645.60" class="difflineminus">-const IMAP_STATE_SELECTED = 2;</span>
<a href="#l645.61"></a><span id="l645.61" class="difflineplus">+var IMAP_STATE_NOT_AUTHED = 0;</span>
<a href="#l645.62"></a><span id="l645.62" class="difflineplus">+var IMAP_STATE_AUTHED = 1;</span>
<a href="#l645.63"></a><span id="l645.63" class="difflineplus">+var IMAP_STATE_SELECTED = 2;</span>
<a href="#l645.64"></a><span id="l645.64"> </span>
<a href="#l645.65"></a><span id="l645.65"> function parseCommand(text, partial) {</span>
<a href="#l645.66"></a><span id="l645.66">   if (partial) {</span>
<a href="#l645.67"></a><span id="l645.67">     var args = partial.args;</span>
<a href="#l645.68"></a><span id="l645.68">     var current = partial.current;</span>
<a href="#l645.69"></a><span id="l645.69">     var stack = partial.stack;</span>
<a href="#l645.70"></a><span id="l645.70">     current.push(partial.text);</span>
<a href="#l645.71"></a><span id="l645.71">   } else {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l646.1"></a><span id="l646.1" class="difflineminus">--- a/mailnews/test/fakeserver/maild.js</span>
<a href="#l646.2"></a><span id="l646.2" class="difflineplus">+++ b/mailnews/test/fakeserver/maild.js</span>
<a href="#l646.3"></a><span id="l646.3" class="difflineat">@@ -20,35 +20,35 @@ var Cr = Components.results;</span>
<a href="#l646.4"></a><span id="l646.4"> var CC = Components.Constructor;</span>
<a href="#l646.5"></a><span id="l646.5"> </span>
<a href="#l646.6"></a><span id="l646.6"> /**</span>
<a href="#l646.7"></a><span id="l646.7">  * The XPCOM thread manager. This declaration is obsolete and exists only</span>
<a href="#l646.8"></a><span id="l646.8">  * because deleting it breaks several dozen tests at the moment.</span>
<a href="#l646.9"></a><span id="l646.9">  */</span>
<a href="#l646.10"></a><span id="l646.10"> var gThreadManager = Services.tm;</span>
<a href="#l646.11"></a><span id="l646.11"> </span>
<a href="#l646.12"></a><span id="l646.12" class="difflineminus">-const fsDebugNone = 0;</span>
<a href="#l646.13"></a><span id="l646.13" class="difflineminus">-const fsDebugRecv = 1;</span>
<a href="#l646.14"></a><span id="l646.14" class="difflineminus">-const fsDebugRecvSend = 2;</span>
<a href="#l646.15"></a><span id="l646.15" class="difflineminus">-const fsDebugAll = 3;</span>
<a href="#l646.16"></a><span id="l646.16" class="difflineplus">+var fsDebugNone = 0;</span>
<a href="#l646.17"></a><span id="l646.17" class="difflineplus">+var fsDebugRecv = 1;</span>
<a href="#l646.18"></a><span id="l646.18" class="difflineplus">+var fsDebugRecvSend = 2;</span>
<a href="#l646.19"></a><span id="l646.19" class="difflineplus">+var fsDebugAll = 3;</span>
<a href="#l646.20"></a><span id="l646.20"> </span>
<a href="#l646.21"></a><span id="l646.21"> /**</span>
<a href="#l646.22"></a><span id="l646.22">  * JavaScript constructors for commonly-used classes; precreating these is a</span>
<a href="#l646.23"></a><span id="l646.23">  * speedup over doing the same from base principles.  See the docs at</span>
<a href="#l646.24"></a><span id="l646.24">  * http://developer.mozilla.org/en/Components.Constructor for details.</span>
<a href="#l646.25"></a><span id="l646.25">  */</span>
<a href="#l646.26"></a><span id="l646.26" class="difflineminus">-const ServerSocket = CC(&quot;@mozilla.org/network/server-socket;1&quot;,</span>
<a href="#l646.27"></a><span id="l646.27" class="difflineplus">+var ServerSocket = CC(&quot;@mozilla.org/network/server-socket;1&quot;,</span>
<a href="#l646.28"></a><span id="l646.28">                         &quot;nsIServerSocket&quot;,</span>
<a href="#l646.29"></a><span id="l646.29">                         &quot;init&quot;);</span>
<a href="#l646.30"></a><span id="l646.30" class="difflineminus">-const BinaryInputStream = CC(&quot;@mozilla.org/binaryinputstream;1&quot;,</span>
<a href="#l646.31"></a><span id="l646.31" class="difflineplus">+var BinaryInputStream = CC(&quot;@mozilla.org/binaryinputstream;1&quot;,</span>
<a href="#l646.32"></a><span id="l646.32">                              &quot;nsIBinaryInputStream&quot;,</span>
<a href="#l646.33"></a><span id="l646.33">                              &quot;setInputStream&quot;);</span>
<a href="#l646.34"></a><span id="l646.34"> </span>
<a href="#l646.35"></a><span id="l646.35"> // Time out after 3 minutes</span>
<a href="#l646.36"></a><span id="l646.36" class="difflineminus">-const TIMEOUT = 3*60*1000;</span>
<a href="#l646.37"></a><span id="l646.37" class="difflineplus">+var TIMEOUT = 3*60*1000;</span>
<a href="#l646.38"></a><span id="l646.38"> </span>
<a href="#l646.39"></a><span id="l646.39"> /******************************************************************************</span>
<a href="#l646.40"></a><span id="l646.40">  * The main server handling class. A fake server consists of three parts, this</span>
<a href="#l646.41"></a><span id="l646.41">  * server implementation (which handles the network communication), the handler</span>
<a href="#l646.42"></a><span id="l646.42">  * (which handles the state for a connection), and the daemon (which handles</span>
<a href="#l646.43"></a><span id="l646.43">  * the state for the logical server). To make a new server, one needs to pass</span>
<a href="#l646.44"></a><span id="l646.44">  * in a function to create handlers--not the handlers themselves--and the</span>
<a href="#l646.45"></a><span id="l646.45">  * backend daemon. Since each handler presumably needs access to the logical</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l647.1"></a><span id="l647.1" class="difflineminus">--- a/mailnews/test/fakeserver/nntpd.js</span>
<a href="#l647.2"></a><span id="l647.2" class="difflineplus">+++ b/mailnews/test/fakeserver/nntpd.js</span>
<a href="#l647.3"></a><span id="l647.3" class="difflineat">@@ -121,19 +121,19 @@ function wildmat2regex(wildmat) {</span>
<a href="#l647.4"></a><span id="l647.4">     if (p1.length % 2 == 0)</span>
<a href="#l647.5"></a><span id="l647.5">       return p2 == '*' ? '.*' : '.';</span>
<a href="#l647.6"></a><span id="l647.6">     return str;</span>
<a href="#l647.7"></a><span id="l647.7">   });</span>
<a href="#l647.8"></a><span id="l647.8">   return new RegExp(wildmat);</span>
<a href="#l647.9"></a><span id="l647.9"> }</span>
<a href="#l647.10"></a><span id="l647.10"> </span>
<a href="#l647.11"></a><span id="l647.11"> // NNTP FLAGS</span>
<a href="#l647.12"></a><span id="l647.12" class="difflineminus">-const NNTP_POSTABLE = 0x0001;</span>
<a href="#l647.13"></a><span id="l647.13" class="difflineplus">+var NNTP_POSTABLE = 0x0001;</span>
<a href="#l647.14"></a><span id="l647.14"> </span>
<a href="#l647.15"></a><span id="l647.15" class="difflineminus">-const NNTP_REAL_LENGTH = 0x0100;</span>
<a href="#l647.16"></a><span id="l647.16" class="difflineplus">+var NNTP_REAL_LENGTH = 0x0100;</span>
<a href="#l647.17"></a><span id="l647.17"> </span>
<a href="#l647.18"></a><span id="l647.18"> function hasFlag(flags, flag) {</span>
<a href="#l647.19"></a><span id="l647.19">   return (flags &amp; flag) == flag;</span>
<a href="#l647.20"></a><span id="l647.20"> }</span>
<a href="#l647.21"></a><span id="l647.21"> </span>
<a href="#l647.22"></a><span id="l647.22"> ////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l647.23"></a><span id="l647.23"> //                              NNTP TEST SERVERS                             //</span>
<a href="#l647.24"></a><span id="l647.24"> ////////////////////////////////////////////////////////////////////////////////</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l648.1"></a><span id="l648.1" class="difflineminus">--- a/mailnews/test/fakeserver/pop3d.js</span>
<a href="#l648.2"></a><span id="l648.2" class="difflineplus">+++ b/mailnews/test/fakeserver/pop3d.js</span>
<a href="#l648.3"></a><span id="l648.3" class="difflineat">@@ -12,18 +12,18 @@ var EXPORTED_SYMBOLS = [</span>
<a href="#l648.4"></a><span id="l648.4">   'POP3_RFC2449_handler',</span>
<a href="#l648.5"></a><span id="l648.5">   'POP3_RFC5034_handler'</span>
<a href="#l648.6"></a><span id="l648.6"> ];</span>
<a href="#l648.7"></a><span id="l648.7"> </span>
<a href="#l648.8"></a><span id="l648.8"> Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l648.9"></a><span id="l648.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l648.10"></a><span id="l648.10"> Components.utils.import(&quot;resource://testing-common/mailnews/auth.js&quot;);</span>
<a href="#l648.11"></a><span id="l648.11"> </span>
<a href="#l648.12"></a><span id="l648.12" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l648.13"></a><span id="l648.13" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l648.14"></a><span id="l648.14" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l648.15"></a><span id="l648.15" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l648.16"></a><span id="l648.16"> </span>
<a href="#l648.17"></a><span id="l648.17"> // Since we don't really need to worry about peristence, we can just</span>
<a href="#l648.18"></a><span id="l648.18"> // use a UIDL counter.</span>
<a href="#l648.19"></a><span id="l648.19"> var gUIDLCount = 1;</span>
<a href="#l648.20"></a><span id="l648.20"> </span>
<a href="#l648.21"></a><span id="l648.21"> /**</span>
<a href="#l648.22"></a><span id="l648.22">  * Read the contents of a file to the string.</span>
<a href="#l648.23"></a><span id="l648.23">  *</span>
<a href="#l648.24"></a><span id="l648.24" class="difflineat">@@ -110,19 +110,19 @@ pop3Daemon.prototype = {</span>
<a href="#l648.25"></a><span id="l648.25"> };</span>
<a href="#l648.26"></a><span id="l648.26"> </span>
<a href="#l648.27"></a><span id="l648.27"> ///////////////////////////////////////////////////////////////////////////////</span>
<a href="#l648.28"></a><span id="l648.28"> //                              POP3 TEST SERVERS                            //</span>
<a href="#l648.29"></a><span id="l648.29"> ///////////////////////////////////////////////////////////////////////////////</span>
<a href="#l648.30"></a><span id="l648.30"> ///////////////////////////////////////////////////////////////////////////////</span>
<a href="#l648.31"></a><span id="l648.31"> </span>
<a href="#l648.32"></a><span id="l648.32"> </span>
<a href="#l648.33"></a><span id="l648.33" class="difflineminus">-const kStateAuthNeeded = 1; // Not authenticated yet, need username and password</span>
<a href="#l648.34"></a><span id="l648.34" class="difflineminus">-const kStateAuthPASS = 2; // got command USER, expecting command PASS</span>
<a href="#l648.35"></a><span id="l648.35" class="difflineminus">-const kStateTransaction = 3; // Authenticated, can fetch and delete mail</span>
<a href="#l648.36"></a><span id="l648.36" class="difflineplus">+var kStateAuthNeeded = 1; // Not authenticated yet, need username and password</span>
<a href="#l648.37"></a><span id="l648.37" class="difflineplus">+var kStateAuthPASS = 2; // got command USER, expecting command PASS</span>
<a href="#l648.38"></a><span id="l648.38" class="difflineplus">+var kStateTransaction = 3; // Authenticated, can fetch and delete mail</span>
<a href="#l648.39"></a><span id="l648.39"> </span>
<a href="#l648.40"></a><span id="l648.40"> /**</span>
<a href="#l648.41"></a><span id="l648.41">  * This handler implements the bare minimum required by RFC 1939.</span>
<a href="#l648.42"></a><span id="l648.42">  * If dropOnAuthFailure is set, the server will drop the connection</span>
<a href="#l648.43"></a><span id="l648.43">  * on authentication errors, to simulate servers that do the same.</span>
<a href="#l648.44"></a><span id="l648.44">  */</span>
<a href="#l648.45"></a><span id="l648.45"> function POP3_RFC1939_handler(daemon) {</span>
<a href="#l648.46"></a><span id="l648.46">   this._daemon = daemon;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l649.1"></a><span id="l649.1" class="difflineminus">--- a/mailnews/test/fakeserver/smtpd.js</span>
<a href="#l649.2"></a><span id="l649.2" class="difflineplus">+++ b/mailnews/test/fakeserver/smtpd.js</span>
<a href="#l649.3"></a><span id="l649.3" class="difflineat">@@ -14,19 +14,19 @@ function smtpDaemon(flags) {</span>
<a href="#l649.4"></a><span id="l649.4"> smtpDaemon.prototype = {</span>
<a href="#l649.5"></a><span id="l649.5"> }</span>
<a href="#l649.6"></a><span id="l649.6"> </span>
<a href="#l649.7"></a><span id="l649.7"> ///////////////////////////////////////////////////////////////////////////////</span>
<a href="#l649.8"></a><span id="l649.8"> //                              SMTP TEST SERVERS                            //</span>
<a href="#l649.9"></a><span id="l649.9"> ///////////////////////////////////////////////////////////////////////////////</span>
<a href="#l649.10"></a><span id="l649.10"> ///////////////////////////////////////////////////////////////////////////////</span>
<a href="#l649.11"></a><span id="l649.11"> </span>
<a href="#l649.12"></a><span id="l649.12" class="difflineminus">-const kStateAuthNeeded = 0;</span>
<a href="#l649.13"></a><span id="l649.13" class="difflineminus">-const kStateAuthOptional = 2;</span>
<a href="#l649.14"></a><span id="l649.14" class="difflineminus">-const kStateAuthenticated = 3;</span>
<a href="#l649.15"></a><span id="l649.15" class="difflineplus">+var kStateAuthNeeded = 0;</span>
<a href="#l649.16"></a><span id="l649.16" class="difflineplus">+var kStateAuthOptional = 2;</span>
<a href="#l649.17"></a><span id="l649.17" class="difflineplus">+var kStateAuthenticated = 3;</span>
<a href="#l649.18"></a><span id="l649.18"> </span>
<a href="#l649.19"></a><span id="l649.19"> /**</span>
<a href="#l649.20"></a><span id="l649.20">  * This handler implements the bare minimum required by RFC 2821.</span>
<a href="#l649.21"></a><span id="l649.21">  * @see RFC 2821</span>
<a href="#l649.22"></a><span id="l649.22">  * If dropOnAuthFailure is set, the server will drop the connection</span>
<a href="#l649.23"></a><span id="l649.23">  * on authentication errors, to simulate servers that do the same.</span>
<a href="#l649.24"></a><span id="l649.24">  */</span>
<a href="#l649.25"></a><span id="l649.25"> function SMTP_RFC2821_handler(daemon) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l650.1"></a><span id="l650.1" class="difflineminus">--- a/mailnews/test/resources/MockFactory.js</span>
<a href="#l650.2"></a><span id="l650.2" class="difflineplus">+++ b/mailnews/test/resources/MockFactory.js</span>
<a href="#l650.3"></a><span id="l650.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l650.4"></a><span id="l650.4"> this.EXPORTED_SYMBOLS = [&quot;MockFactory&quot;];</span>
<a href="#l650.5"></a><span id="l650.5"> </span>
<a href="#l650.6"></a><span id="l650.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l650.7"></a><span id="l650.7"> </span>
<a href="#l650.8"></a><span id="l650.8" class="difflineminus">-const Cc = Components.classes;</span>
<a href="#l650.9"></a><span id="l650.9" class="difflineminus">-const Ci = Components.interfaces;</span>
<a href="#l650.10"></a><span id="l650.10" class="difflineminus">-const Cr = Components.results;</span>
<a href="#l650.11"></a><span id="l650.11" class="difflineminus">-const Cm = Components.manager;</span>
<a href="#l650.12"></a><span id="l650.12" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l650.13"></a><span id="l650.13" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l650.14"></a><span id="l650.14" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l650.15"></a><span id="l650.15" class="difflineplus">+var Cm = Components.manager;</span>
<a href="#l650.16"></a><span id="l650.16"> </span>
<a href="#l650.17"></a><span id="l650.17"> var MockFactory = {</span>
<a href="#l650.18"></a><span id="l650.18">   _registeredComponents: {},</span>
<a href="#l650.19"></a><span id="l650.19">   /**</span>
<a href="#l650.20"></a><span id="l650.20">    * Register a mock to override target interfaces.</span>
<a href="#l650.21"></a><span id="l650.21">    * The target interface may be accessed though _genuine property of the mock.</span>
<a href="#l650.22"></a><span id="l650.22">    *</span>
<a href="#l650.23"></a><span id="l650.23">    * @param contractID The contract ID of the interface which is overridden by</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l651.1"></a><span id="l651.1" class="difflineminus">--- a/mailnews/test/resources/PromiseTestUtils.jsm</span>
<a href="#l651.2"></a><span id="l651.2" class="difflineplus">+++ b/mailnews/test/resources/PromiseTestUtils.jsm</span>
<a href="#l651.3"></a><span id="l651.3" class="difflineat">@@ -158,17 +158,17 @@ PromiseTestUtils.PromiseStreamListener.p</span>
<a href="#l651.4"></a><span id="l651.4">  * Folder listener to resolve a promise when a certain folder event occurs.</span>
<a href="#l651.5"></a><span id="l651.5">  *</span>
<a href="#l651.6"></a><span id="l651.6">  * @param folder   nsIMsgFolder to listen to</span>
<a href="#l651.7"></a><span id="l651.7">  * @param event    string event name to listen for. Example event is</span>
<a href="#l651.8"></a><span id="l651.8">  *                 &quot;DeleteOrMoveMsgCompleted&quot;.</span>
<a href="#l651.9"></a><span id="l651.9">  * @return         promise that resolves when the event occurs</span>
<a href="#l651.10"></a><span id="l651.10">  */</span>
<a href="#l651.11"></a><span id="l651.11"> </span>
<a href="#l651.12"></a><span id="l651.12" class="difflineminus">-const nsIMFNService = Ci.nsIMsgFolderNotificationService;</span>
<a href="#l651.13"></a><span id="l651.13" class="difflineplus">+var nsIMFNService = Ci.nsIMsgFolderNotificationService;</span>
<a href="#l651.14"></a><span id="l651.14"> PromiseTestUtils.promiseFolderEvent = function promiseFolderEvent(folder, event) {</span>
<a href="#l651.15"></a><span id="l651.15">   return new Promise( (resolve, reject) =&gt; {</span>
<a href="#l651.16"></a><span id="l651.16">     let eventAtom = Cc[&quot;@mozilla.org/atom-service;1&quot;]</span>
<a href="#l651.17"></a><span id="l651.17">                       .getService(Ci.nsIAtomService)</span>
<a href="#l651.18"></a><span id="l651.18">                       .getAtom(event);</span>
<a href="#l651.19"></a><span id="l651.19">     let folderListener = {</span>
<a href="#l651.20"></a><span id="l651.20">       QueryInterface: XPCOMUtils.generateQI([Ci.nsIFolderListener]),</span>
<a href="#l651.21"></a><span id="l651.21">       OnItemEvent: function onItemEvent(aEventFolder, aEvent) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l652.1"></a><span id="l652.1" class="difflineminus">--- a/mailnews/test/resources/abSetup.js</span>
<a href="#l652.2"></a><span id="l652.2" class="difflineplus">+++ b/mailnews/test/resources/abSetup.js</span>
<a href="#l652.3"></a><span id="l652.3" class="difflineat">@@ -39,10 +39,10 @@ var kCABData =</span>
<a href="#l652.4"></a><span id="l652.4"> </span>
<a href="#l652.5"></a><span id="l652.5"> // Windows (Outlook Express) Address Book deactivation. (Bug 448859)</span>
<a href="#l652.6"></a><span id="l652.6"> Services.prefs.deleteBranch(&quot;ldap_2.servers.oe.&quot;);</span>
<a href="#l652.7"></a><span id="l652.7"> </span>
<a href="#l652.8"></a><span id="l652.8"> // OSX Address Book deactivation (Bug 955842)</span>
<a href="#l652.9"></a><span id="l652.9"> Services.prefs.deleteBranch(&quot;ldap_2.servers.osx.&quot;);</span>
<a href="#l652.10"></a><span id="l652.10"> </span>
<a href="#l652.11"></a><span id="l652.11"> // This currently applies to all address books of local type.</span>
<a href="#l652.12"></a><span id="l652.12" class="difflineminus">-const kNormalPropertiesURI =</span>
<a href="#l652.13"></a><span id="l652.13" class="difflineplus">+var kNormalPropertiesURI =</span>
<a href="#l652.14"></a><span id="l652.14">   &quot;chrome://messenger/content/addressbook/abAddressBookNameDialog.xul&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l653.1"></a><span id="l653.1" class="difflineminus">--- a/mailnews/test/resources/asyncTestUtils.js</span>
<a href="#l653.2"></a><span id="l653.2" class="difflineplus">+++ b/mailnews/test/resources/asyncTestUtils.js</span>
<a href="#l653.3"></a><span id="l653.3" class="difflineat">@@ -236,17 +236,17 @@ function _async_test_runner_timeout() {</span>
<a href="#l653.4"></a><span id="l653.4">  */</span>
<a href="#l653.5"></a><span id="l653.5"> function parameterizeTest(aTestFunc, aParameters) {</span>
<a href="#l653.6"></a><span id="l653.6">   return [aTestFunc, aParameters];</span>
<a href="#l653.7"></a><span id="l653.7"> }</span>
<a href="#l653.8"></a><span id="l653.8"> </span>
<a href="#l653.9"></a><span id="l653.9"> // This time is 60 seconds less than the tinderbox timeout default of 300</span>
<a href="#l653.10"></a><span id="l653.10"> // seconds and will hopefully cause tests to give us their logs before that</span>
<a href="#l653.11"></a><span id="l653.11"> // timeout.</span>
<a href="#l653.12"></a><span id="l653.12" class="difflineminus">-const DEFAULT_LONGEST_TEST_RUN_CONCEIVABLE_SECS = 240;</span>
<a href="#l653.13"></a><span id="l653.13" class="difflineplus">+var DEFAULT_LONGEST_TEST_RUN_CONCEIVABLE_SECS = 240;</span>
<a href="#l653.14"></a><span id="l653.14"> function async_run_tests(aTests, aLongestTestRunTimeConceivableInSecs) {</span>
<a href="#l653.15"></a><span id="l653.15">   if (aLongestTestRunTimeConceivableInSecs == null)</span>
<a href="#l653.16"></a><span id="l653.16">     aLongestTestRunTimeConceivableInSecs =</span>
<a href="#l653.17"></a><span id="l653.17">         DEFAULT_LONGEST_TEST_RUN_CONCEIVABLE_SECS;</span>
<a href="#l653.18"></a><span id="l653.18">   do_timeout(aLongestTestRunTimeConceivableInSecs * 1000,</span>
<a href="#l653.19"></a><span id="l653.19">       _async_test_runner_timeout);</span>
<a href="#l653.20"></a><span id="l653.20"> </span>
<a href="#l653.21"></a><span id="l653.21">   do_test_pending();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l654.1"></a><span id="l654.1" class="difflineminus">--- a/mailnews/test/resources/logHelper.js</span>
<a href="#l654.2"></a><span id="l654.2" class="difflineplus">+++ b/mailnews/test/resources/logHelper.js</span>
<a href="#l654.3"></a><span id="l654.3" class="difflineat">@@ -339,17 +339,17 @@ function __simple_obj_copy(aObj, aDepthA</span>
<a href="#l654.4"></a><span id="l654.4">   }</span>
<a href="#l654.5"></a><span id="l654.5"> </span>
<a href="#l654.6"></a><span id="l654.6">   // let's take advantage of the object's native toString now</span>
<a href="#l654.7"></a><span id="l654.7">   oot._stringRep = aObj.toString();</span>
<a href="#l654.8"></a><span id="l654.8"> </span>
<a href="#l654.9"></a><span id="l654.9">   return oot;</span>
<a href="#l654.10"></a><span id="l654.10"> }</span>
<a href="#l654.11"></a><span id="l654.11"> </span>
<a href="#l654.12"></a><span id="l654.12" class="difflineminus">-const _INTERESTING_MESSAGE_HEADER_PROPERTIES = {</span>
<a href="#l654.13"></a><span id="l654.13" class="difflineplus">+var _INTERESTING_MESSAGE_HEADER_PROPERTIES = {</span>
<a href="#l654.14"></a><span id="l654.14">   &quot;gloda-id&quot;: 0,</span>
<a href="#l654.15"></a><span id="l654.15">   &quot;gloda-dirty&quot;: 0,</span>
<a href="#l654.16"></a><span id="l654.16">   &quot;junkscore&quot;: &quot;&quot;,</span>
<a href="#l654.17"></a><span id="l654.17">   &quot;junkscoreorigin&quot;: &quot;&quot;,</span>
<a href="#l654.18"></a><span id="l654.18">   &quot;msgOffset&quot;: 0,</span>
<a href="#l654.19"></a><span id="l654.19">   &quot;offlineMsgSize&quot;: 0,</span>
<a href="#l654.20"></a><span id="l654.20"> };</span>
<a href="#l654.21"></a><span id="l654.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l655.1"></a><span id="l655.1" class="difflineminus">--- a/mailnews/test/resources/messageGenerator.js</span>
<a href="#l655.2"></a><span id="l655.2" class="difflineplus">+++ b/mailnews/test/resources/messageGenerator.js</span>
<a href="#l655.3"></a><span id="l655.3" class="difflineat">@@ -2,69 +2,69 @@</span>
<a href="#l655.4"></a><span id="l655.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l655.5"></a><span id="l655.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l655.6"></a><span id="l655.6"> </span>
<a href="#l655.7"></a><span id="l655.7"> /**</span>
<a href="#l655.8"></a><span id="l655.8">  * A list of first names for use by MessageGenerator to create deterministic,</span>
<a href="#l655.9"></a><span id="l655.9">  *  reversible names.  To keep things easily reversible, if you add names, make</span>
<a href="#l655.10"></a><span id="l655.10">  *  sure they have no spaces in them!</span>
<a href="#l655.11"></a><span id="l655.11">  */</span>
<a href="#l655.12"></a><span id="l655.12" class="difflineminus">-const FIRST_NAMES = [</span>
<a href="#l655.13"></a><span id="l655.13" class="difflineplus">+var FIRST_NAMES = [</span>
<a href="#l655.14"></a><span id="l655.14">   &quot;Andy&quot;, &quot;Bob&quot;, &quot;Chris&quot;, &quot;David&quot;, &quot;Emily&quot;, &quot;Felix&quot;,</span>
<a href="#l655.15"></a><span id="l655.15">   &quot;Gillian&quot;, &quot;Helen&quot;, &quot;Idina&quot;, &quot;Johnny&quot;, &quot;Kate&quot;, &quot;Lilia&quot;,</span>
<a href="#l655.16"></a><span id="l655.16">   &quot;Martin&quot;, &quot;Neil&quot;, &quot;Olof&quot;, &quot;Pete&quot;, &quot;Quinn&quot;, &quot;Rasmus&quot;,</span>
<a href="#l655.17"></a><span id="l655.17">   &quot;Sarah&quot;, &quot;Troels&quot;, &quot;Ulf&quot;, &quot;Vince&quot;, &quot;Will&quot;, &quot;Xavier&quot;,</span>
<a href="#l655.18"></a><span id="l655.18">   &quot;Yoko&quot;, &quot;Zig&quot;</span>
<a href="#l655.19"></a><span id="l655.19">   ];</span>
<a href="#l655.20"></a><span id="l655.20"> </span>
<a href="#l655.21"></a><span id="l655.21"> /**</span>
<a href="#l655.22"></a><span id="l655.22">  * A list of last names for use by MessageGenerator to create deterministic,</span>
<a href="#l655.23"></a><span id="l655.23">  *  reversible names.  To keep things easily reversible, if you add names, make</span>
<a href="#l655.24"></a><span id="l655.24">  *  sure they have no spaces in them!</span>
<a href="#l655.25"></a><span id="l655.25">  */</span>
<a href="#l655.26"></a><span id="l655.26" class="difflineminus">-const LAST_NAMES = [</span>
<a href="#l655.27"></a><span id="l655.27" class="difflineplus">+var LAST_NAMES = [</span>
<a href="#l655.28"></a><span id="l655.28">   &quot;Anway&quot;, &quot;Bell&quot;, &quot;Clarke&quot;, &quot;Davol&quot;, &quot;Ekberg&quot;, &quot;Flowers&quot;,</span>
<a href="#l655.29"></a><span id="l655.29">   &quot;Gilbert&quot;, &quot;Hook&quot;, &quot;Ivarsson&quot;, &quot;Jones&quot;, &quot;Kurtz&quot;, &quot;Lowe&quot;,</span>
<a href="#l655.30"></a><span id="l655.30">   &quot;Morris&quot;, &quot;Nagel&quot;, &quot;Orzabal&quot;, &quot;Price&quot;, &quot;Quinn&quot;, &quot;Rolinski&quot;,</span>
<a href="#l655.31"></a><span id="l655.31">   &quot;Stanley&quot;, &quot;Tennant&quot;, &quot;Ulvaeus&quot;, &quot;Vannucci&quot;, &quot;Wiggs&quot;, &quot;Xavier&quot;,</span>
<a href="#l655.32"></a><span id="l655.32">   &quot;Young&quot;, &quot;Zig&quot;</span>
<a href="#l655.33"></a><span id="l655.33">   ];</span>
<a href="#l655.34"></a><span id="l655.34"> </span>
<a href="#l655.35"></a><span id="l655.35"> /**</span>
<a href="#l655.36"></a><span id="l655.36">  * A list of adjectives used to construct a deterministic, reversible subject</span>
<a href="#l655.37"></a><span id="l655.37">  *  by MessageGenerator.  To keep things easily reversible, if you add more,</span>
<a href="#l655.38"></a><span id="l655.38">  *  make sure they have no spaces in them!  Also, make sure your additions</span>
<a href="#l655.39"></a><span id="l655.39">  *  don't break the secret Monty Python reference!</span>
<a href="#l655.40"></a><span id="l655.40">  */</span>
<a href="#l655.41"></a><span id="l655.41" class="difflineminus">-const SUBJECT_ADJECTIVES = [</span>
<a href="#l655.42"></a><span id="l655.42" class="difflineplus">+var SUBJECT_ADJECTIVES = [</span>
<a href="#l655.43"></a><span id="l655.43">   &quot;Big&quot;, &quot;Small&quot;, &quot;Huge&quot;, &quot;Tiny&quot;,</span>
<a href="#l655.44"></a><span id="l655.44">   &quot;Red&quot;, &quot;Green&quot;, &quot;Blue&quot;, &quot;My&quot;,</span>
<a href="#l655.45"></a><span id="l655.45">   &quot;Happy&quot;, &quot;Sad&quot;, &quot;Grumpy&quot;, &quot;Angry&quot;,</span>
<a href="#l655.46"></a><span id="l655.46">   &quot;Awesome&quot;, &quot;Fun&quot;, &quot;Lame&quot;, &quot;Funky&quot;,</span>
<a href="#l655.47"></a><span id="l655.47">   ];</span>
<a href="#l655.48"></a><span id="l655.48"> </span>
<a href="#l655.49"></a><span id="l655.49"> /**</span>
<a href="#l655.50"></a><span id="l655.50">  * A list of nouns used to construct a deterministic, reversible subject</span>
<a href="#l655.51"></a><span id="l655.51">  *  by MessageGenerator.  To keep things easily reversible, if you add more,</span>
<a href="#l655.52"></a><span id="l655.52">  *  make sure they have no spaces in them!  Also, make sure your additions</span>
<a href="#l655.53"></a><span id="l655.53">  *  don't break the secret Monty Python reference!</span>
<a href="#l655.54"></a><span id="l655.54">  */</span>
<a href="#l655.55"></a><span id="l655.55" class="difflineminus">-const SUBJECT_NOUNS = [</span>
<a href="#l655.56"></a><span id="l655.56" class="difflineplus">+var SUBJECT_NOUNS = [</span>
<a href="#l655.57"></a><span id="l655.57">   &quot;Meeting&quot;, &quot;Party&quot;, &quot;Shindig&quot;, &quot;Wedding&quot;,</span>
<a href="#l655.58"></a><span id="l655.58">   &quot;Document&quot;, &quot;Report&quot;, &quot;Spreadsheet&quot;, &quot;Hovercraft&quot;,</span>
<a href="#l655.59"></a><span id="l655.59">   &quot;Aardvark&quot;, &quot;Giraffe&quot;, &quot;Llama&quot;, &quot;Velociraptor&quot;,</span>
<a href="#l655.60"></a><span id="l655.60">   &quot;Laser&quot;, &quot;Ray-Gun&quot;, &quot;Pen&quot;, &quot;Sword&quot;,</span>
<a href="#l655.61"></a><span id="l655.61">   ];</span>
<a href="#l655.62"></a><span id="l655.62"> </span>
<a href="#l655.63"></a><span id="l655.63"> /**</span>
<a href="#l655.64"></a><span id="l655.64">  * A list of suffixes used to construct a deterministic, reversible subject</span>
<a href="#l655.65"></a><span id="l655.65">  *  by MessageGenerator.  These can (clearly) have spaces in them.  Make sure</span>
<a href="#l655.66"></a><span id="l655.66">  *  your additions don't break the secret Monty Python reference!</span>
<a href="#l655.67"></a><span id="l655.67">  */</span>
<a href="#l655.68"></a><span id="l655.68" class="difflineminus">-const SUBJECT_SUFFIXES = [</span>
<a href="#l655.69"></a><span id="l655.69" class="difflineplus">+var SUBJECT_SUFFIXES = [</span>
<a href="#l655.70"></a><span id="l655.70">   &quot;Today&quot;, &quot;Tomorrow&quot;, &quot;Yesterday&quot;, &quot;In a Fortnight&quot;,</span>
<a href="#l655.71"></a><span id="l655.71">   &quot;Needs Attention&quot;, &quot;Very Important&quot;, &quot;Highest Priority&quot;, &quot;Full Of Eels&quot;,</span>
<a href="#l655.72"></a><span id="l655.72">   &quot;In The Lobby&quot;, &quot;On Your Desk&quot;, &quot;In Your Car&quot;, &quot;Hiding Behind The Door&quot;,</span>
<a href="#l655.73"></a><span id="l655.73">   ];</span>
<a href="#l655.74"></a><span id="l655.74"> </span>
<a href="#l655.75"></a><span id="l655.75"> /**</span>
<a href="#l655.76"></a><span id="l655.76">  * Base class for MIME Part representation.</span>
<a href="#l655.77"></a><span id="l655.77">  */</span>
<a href="#l655.78"></a><span id="l655.78" class="difflineat">@@ -279,17 +279,17 @@ SyntheticPartMultiAlternative.prototype </span>
<a href="#l655.79"></a><span id="l655.79"> function SyntheticPartMultiRelated() {</span>
<a href="#l655.80"></a><span id="l655.80">   SyntheticPartMulti.apply(this, arguments);</span>
<a href="#l655.81"></a><span id="l655.81"> }</span>
<a href="#l655.82"></a><span id="l655.82"> SyntheticPartMultiRelated.prototype = {</span>
<a href="#l655.83"></a><span id="l655.83">   __proto__: SyntheticPartMulti.prototype,</span>
<a href="#l655.84"></a><span id="l655.84">   _contentType: 'multipart/related',</span>
<a href="#l655.85"></a><span id="l655.85"> };</span>
<a href="#l655.86"></a><span id="l655.86"> </span>
<a href="#l655.87"></a><span id="l655.87" class="difflineminus">-const PKCS_SIGNATURE_MIME_TYPE = 'application/x-pkcs7-signature';</span>
<a href="#l655.88"></a><span id="l655.88" class="difflineplus">+var PKCS_SIGNATURE_MIME_TYPE = 'application/x-pkcs7-signature';</span>
<a href="#l655.89"></a><span id="l655.89"> /**</span>
<a href="#l655.90"></a><span id="l655.90">  * Multipart signed (multipart/signed) SMIME part.  This is helperish and makes</span>
<a href="#l655.91"></a><span id="l655.91">  *  up a gibberish signature.  We wrap the provided parts in the standard</span>
<a href="#l655.92"></a><span id="l655.92">  *  signature idiom</span>
<a href="#l655.93"></a><span id="l655.93">  *</span>
<a href="#l655.94"></a><span id="l655.94">  * @param aPart The content part to wrap. Only one part!  Use a multipart if</span>
<a href="#l655.95"></a><span id="l655.95">  *     you need to cram extra stuff in there.</span>
<a href="#l655.96"></a><span id="l655.96">  * @param aProperties Properties, propagated to SyntheticPart, see that.</span>
<a href="#l655.97"></a><span id="l655.97" class="difflineat">@@ -307,17 +307,17 @@ SyntheticPartMultiSignedSMIME.prototype </span>
<a href="#l655.98"></a><span id="l655.98">   __proto__: SyntheticPartMulti.prototype,</span>
<a href="#l655.99"></a><span id="l655.99">   _contentType: 'multipart/signed',</span>
<a href="#l655.100"></a><span id="l655.100">   _contentTypeExtra: {</span>
<a href="#l655.101"></a><span id="l655.101">     protocol: PKCS_SIGNATURE_MIME_TYPE,</span>
<a href="#l655.102"></a><span id="l655.102">     micalg: 'SHA1'</span>
<a href="#l655.103"></a><span id="l655.103">   },</span>
<a href="#l655.104"></a><span id="l655.104"> };</span>
<a href="#l655.105"></a><span id="l655.105"> </span>
<a href="#l655.106"></a><span id="l655.106" class="difflineminus">-const PGP_SIGNATURE_MIME_TYPE = 'application/pgp-signature';</span>
<a href="#l655.107"></a><span id="l655.107" class="difflineplus">+var PGP_SIGNATURE_MIME_TYPE = 'application/pgp-signature';</span>
<a href="#l655.108"></a><span id="l655.108"> /**</span>
<a href="#l655.109"></a><span id="l655.109">  * Multipart signed (multipart/signed) PGP part.  This is helperish and makes</span>
<a href="#l655.110"></a><span id="l655.110">  *  up a gibberish signature.  We wrap the provided parts in the standard</span>
<a href="#l655.111"></a><span id="l655.111">  *  signature idiom</span>
<a href="#l655.112"></a><span id="l655.112">  *</span>
<a href="#l655.113"></a><span id="l655.113">  * @param aPart The content part to wrap. Only one part!  Use a multipart if</span>
<a href="#l655.114"></a><span id="l655.114">  *     you need to cram extra stuff in there.</span>
<a href="#l655.115"></a><span id="l655.115">  * @param aProperties Properties, propagated to SyntheticPart, see that.</span>
<a href="#l655.116"></a><span id="l655.116" class="difflineat">@@ -335,17 +335,17 @@ SyntheticPartMultiSignedPGP.prototype = </span>
<a href="#l655.117"></a><span id="l655.117">   _contentType: 'multipart/signed',</span>
<a href="#l655.118"></a><span id="l655.118">   _contentTypeExtra: {</span>
<a href="#l655.119"></a><span id="l655.119">     protocol: PGP_SIGNATURE_MIME_TYPE,</span>
<a href="#l655.120"></a><span id="l655.120">     micalg: 'pgp-sha1'</span>
<a href="#l655.121"></a><span id="l655.121">   },</span>
<a href="#l655.122"></a><span id="l655.122"> };</span>
<a href="#l655.123"></a><span id="l655.123"> </span>
<a href="#l655.124"></a><span id="l655.124"> </span>
<a href="#l655.125"></a><span id="l655.125" class="difflineminus">-const _DEFAULT_META_STATES = {</span>
<a href="#l655.126"></a><span id="l655.126" class="difflineplus">+var _DEFAULT_META_STATES = {</span>
<a href="#l655.127"></a><span id="l655.127">   junk: false,</span>
<a href="#l655.128"></a><span id="l655.128">   read: false,</span>
<a href="#l655.129"></a><span id="l655.129"> };</span>
<a href="#l655.130"></a><span id="l655.130"> </span>
<a href="#l655.131"></a><span id="l655.131"> /**</span>
<a href="#l655.132"></a><span id="l655.132">  * A synthetic message, created by the MessageGenerator.  Captures both the</span>
<a href="#l655.133"></a><span id="l655.133">  *  ingredients that went into the synthetic message as well as the rfc822 form</span>
<a href="#l655.134"></a><span id="l655.134">  *  of the message.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l656.1"></a><span id="l656.1" class="difflineminus">--- a/mailnews/test/resources/messageInjection.js</span>
<a href="#l656.2"></a><span id="l656.2" class="difflineplus">+++ b/mailnews/test/resources/messageInjection.js</span>
<a href="#l656.3"></a><span id="l656.3" class="difflineat">@@ -189,17 +189,17 @@ function _cleanup_message_injection() {</span>
<a href="#l656.4"></a><span id="l656.4">   }</span>
<a href="#l656.5"></a><span id="l656.5"> </span>
<a href="#l656.6"></a><span id="l656.6">   // Clean out mis; we don't just null the global because it's conceivable we</span>
<a href="#l656.7"></a><span id="l656.7">   //  might still have some closures floating about.</span>
<a href="#l656.8"></a><span id="l656.8">   for each (let key in Iterator(mis, true))</span>
<a href="#l656.9"></a><span id="l656.9">     delete mis[key];</span>
<a href="#l656.10"></a><span id="l656.10"> }</span>
<a href="#l656.11"></a><span id="l656.11"> </span>
<a href="#l656.12"></a><span id="l656.12" class="difflineminus">-const _messageInjectionSetup = {</span>
<a href="#l656.13"></a><span id="l656.13" class="difflineplus">+var _messageInjectionSetup = {</span>
<a href="#l656.14"></a><span id="l656.14">   _nextUniqueFolderId: 0,</span>
<a href="#l656.15"></a><span id="l656.15"> </span>
<a href="#l656.16"></a><span id="l656.16">   injectionConfig: {</span>
<a href="#l656.17"></a><span id="l656.17">     mode: &quot;none&quot;,</span>
<a href="#l656.18"></a><span id="l656.18">   },</span>
<a href="#l656.19"></a><span id="l656.19">   listeners: [],</span>
<a href="#l656.20"></a><span id="l656.20">   notifyListeners: function(aHandlerName, aArgs) {</span>
<a href="#l656.21"></a><span id="l656.21">     for each (let [, listener] in Iterator(this.listeners)) {</span>
<a href="#l656.22"></a><span id="l656.22" class="difflineat">@@ -250,17 +250,17 @@ function register_message_injection_list</span>
<a href="#l656.23"></a><span id="l656.23">  *  POP3 fakeserver.</span>
<a href="#l656.24"></a><span id="l656.24">  */</span>
<a href="#l656.25"></a><span id="l656.25"> function _synthMessagesToFakeRep(aSynthMessages) {</span>
<a href="#l656.26"></a><span id="l656.26">   return [{fileData: msg.toMessageString(), size: -1} for each</span>
<a href="#l656.27"></a><span id="l656.27">           (msg in aSynthMessages)];</span>
<a href="#l656.28"></a><span id="l656.28"> }</span>
<a href="#l656.29"></a><span id="l656.29"> </span>
<a href="#l656.30"></a><span id="l656.30"> </span>
<a href="#l656.31"></a><span id="l656.31" class="difflineminus">-const SEARCH_TERM_MAP_HELPER = {</span>
<a href="#l656.32"></a><span id="l656.32" class="difflineplus">+var SEARCH_TERM_MAP_HELPER = {</span>
<a href="#l656.33"></a><span id="l656.33">   subject: Components.interfaces.nsMsgSearchAttrib.Subject,</span>
<a href="#l656.34"></a><span id="l656.34">   body: Components.interfaces.nsMsgSearchAttrib.Body,</span>
<a href="#l656.35"></a><span id="l656.35">   from: Components.interfaces.nsMsgSearchAttrib.Sender,</span>
<a href="#l656.36"></a><span id="l656.36">   to: Components.interfaces.nsMsgSearchAttrib.To,</span>
<a href="#l656.37"></a><span id="l656.37">   cc: Components.interfaces.nsMsgSearchAttrib.CC,</span>
<a href="#l656.38"></a><span id="l656.38">   recipient: Components.interfaces.nsMsgSearchAttrib.ToOrCC,</span>
<a href="#l656.39"></a><span id="l656.39">   involves: Components.interfaces.nsMsgSearchAttrib.AllAddresses,</span>
<a href="#l656.40"></a><span id="l656.40">   age: Components.interfaces.nsMsgSearchAttrib.AgeInDays,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l657.1"></a><span id="l657.1" class="difflineminus">--- a/mailnews/test/resources/msgFolderListenerSetup.js</span>
<a href="#l657.2"></a><span id="l657.2" class="difflineplus">+++ b/mailnews/test/resources/msgFolderListenerSetup.js</span>
<a href="#l657.3"></a><span id="l657.3" class="difflineat">@@ -1,40 +1,40 @@</span>
<a href="#l657.4"></a><span id="l657.4"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l657.5"></a><span id="l657.5"> </span>
<a href="#l657.6"></a><span id="l657.6" class="difflineminus">-const nsIMsgDBHdr = Ci.nsIMsgDBHdr;</span>
<a href="#l657.7"></a><span id="l657.7" class="difflineminus">-const nsIArray = Ci.nsIArray;</span>
<a href="#l657.8"></a><span id="l657.8" class="difflineminus">-const nsIMsgFolder = Ci.nsIMsgFolder;</span>
<a href="#l657.9"></a><span id="l657.9" class="difflineplus">+var nsIMsgDBHdr = Ci.nsIMsgDBHdr;</span>
<a href="#l657.10"></a><span id="l657.10" class="difflineplus">+var nsIArray = Ci.nsIArray;</span>
<a href="#l657.11"></a><span id="l657.11" class="difflineplus">+var nsIMsgFolder = Ci.nsIMsgFolder;</span>
<a href="#l657.12"></a><span id="l657.12"> </span>
<a href="#l657.13"></a><span id="l657.13" class="difflineminus">-const gMFNService = Cc[&quot;@mozilla.org/messenger/msgnotificationservice;1&quot;]</span>
<a href="#l657.14"></a><span id="l657.14" class="difflineplus">+var gMFNService = Cc[&quot;@mozilla.org/messenger/msgnotificationservice;1&quot;]</span>
<a href="#l657.15"></a><span id="l657.15">                       .getService(Ci.nsIMsgFolderNotificationService);</span>
<a href="#l657.16"></a><span id="l657.16"> </span>
<a href="#l657.17"></a><span id="l657.17" class="difflineminus">-const allTestedEvents =</span>
<a href="#l657.18"></a><span id="l657.18" class="difflineplus">+var allTestedEvents =</span>
<a href="#l657.19"></a><span id="l657.19">   gMFNService.msgAdded |</span>
<a href="#l657.20"></a><span id="l657.20">   gMFNService.msgsClassified |</span>
<a href="#l657.21"></a><span id="l657.21">   gMFNService.msgsDeleted |</span>
<a href="#l657.22"></a><span id="l657.22">   gMFNService.msgsMoveCopyCompleted |</span>
<a href="#l657.23"></a><span id="l657.23">   gMFNService.msgKeyChanged |</span>
<a href="#l657.24"></a><span id="l657.24">   gMFNService.folderAdded |</span>
<a href="#l657.25"></a><span id="l657.25">   gMFNService.folderDeleted |</span>
<a href="#l657.26"></a><span id="l657.26">   gMFNService.folderMoveCopyCompleted |</span>
<a href="#l657.27"></a><span id="l657.27">   gMFNService.folderRenamed |</span>
<a href="#l657.28"></a><span id="l657.28">   gMFNService.itemEvent;</span>
<a href="#l657.29"></a><span id="l657.29"> </span>
<a href="#l657.30"></a><span id="l657.30" class="difflineminus">-const gCopyService = MailServices.copy;</span>
<a href="#l657.31"></a><span id="l657.31" class="difflineplus">+var gCopyService = MailServices.copy;</span>
<a href="#l657.32"></a><span id="l657.32"> </span>
<a href="#l657.33"></a><span id="l657.33"> // Current test being executed</span>
<a href="#l657.34"></a><span id="l657.34"> var gTest = 1;</span>
<a href="#l657.35"></a><span id="l657.35"> </span>
<a href="#l657.36"></a><span id="l657.36"> // Which events are expected</span>
<a href="#l657.37"></a><span id="l657.37"> var gExpectedEvents;</span>
<a href="#l657.38"></a><span id="l657.38"> </span>
<a href="#l657.39"></a><span id="l657.39"> // The current status (what all has been done)</span>
<a href="#l657.40"></a><span id="l657.40"> var gCurrStatus = 0;</span>
<a href="#l657.41"></a><span id="l657.41" class="difflineminus">-const kStatus =</span>
<a href="#l657.42"></a><span id="l657.42" class="difflineplus">+var kStatus =</span>
<a href="#l657.43"></a><span id="l657.43"> {</span>
<a href="#l657.44"></a><span id="l657.44">   notificationsDone: 0x1,</span>
<a href="#l657.45"></a><span id="l657.45">   onStopCopyDone: 0x2,</span>
<a href="#l657.46"></a><span id="l657.46">   functionCallDone: 0x4,</span>
<a href="#l657.47"></a><span id="l657.47">   everythingDone: 0</span>
<a href="#l657.48"></a><span id="l657.48"> };</span>
<a href="#l657.49"></a><span id="l657.49"> kStatus.everythingDone = kStatus.notificationsDone | kStatus.onStopCopyDone | kStatus.functionCallDone;</span>
<a href="#l657.50"></a><span id="l657.50"> </span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

