<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 4007:a7ee2565bfa615f881dfc6e37fcea50a22f39188</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ a7ee2565bfa615f881dfc6e37fcea50a22f39188" />
<meta property="og:url" content="/comm-central/rev/a7ee2565bfa615f881dfc6e37fcea50a22f39188" />
<meta property="og:description" content="Bug 507392: remove moveToAlertPosition() usage from comm-central. r=standard8, r=philipp, sr=neil, a=standard8" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / a7ee2565bfa615f881dfc6e37fcea50a22f39188 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/a7ee2565bfa615f881dfc6e37fcea50a22f39188">shortlog</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/a7ee2565bfa615f881dfc6e37fcea50a22f39188">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188">files</a> |
changeset |
<a href="/comm-central/raw-rev/a7ee2565bfa615f881dfc6e37fcea50a22f39188">raw</a>  | <a href="/comm-central/archive/a7ee2565bfa615f881dfc6e37fcea50a22f39188.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=507392">Bug 507392</a>: remove moveToAlertPosition() usage from comm-central. r=standard8, r=philipp, sr=neil, a=standard8
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#77;&#97;&#103;&#110;&#117;&#115;&#32;&#77;&#101;&#108;&#105;&#110;&#32;&#60;&#109;&#107;&#109;&#101;&#108;&#105;&#110;&#43;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#105;&#107;&#105;&#46;&#102;&#105;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 01 Oct 2009 21:14:56 +0300</td></tr>

<tr>
 <td>changeset 4007</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/a7ee2565bfa615f881dfc6e37fcea50a22f39188">a7ee2565bfa615f881dfc6e37fcea50a22f39188</a></td>
</tr>



<tr>
<td>parent 4006</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/b951cf498d4ff8244746bb60ac1322e4bd808953">b951cf498d4ff8244746bb60ac1322e4bd808953</a>
</td>
</tr>

<tr>
<td>child 4008</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/df305226035de6e59cfaf4bf790524929172f4e7">df305226035de6e59cfaf4bf790524929172f4e7</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=a7ee2565bfa615f881dfc6e37fcea50a22f39188">3127</a></td></tr>
<tr><td>push user</td><td>mkmelin@iki.fi</td></tr>
<tr><td>push date</td><td class="date age">Thu, 01 Oct 2009 18:16:09 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@a7ee2565bfa6 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=a7ee2565bfa615f881dfc6e37fcea50a22f39188">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=a7ee2565bfa615f881dfc6e37fcea50a22f39188&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=a7ee2565bfa615f881dfc6e37fcea50a22f39188&newProject=comm-central&newRevision=a7ee2565bfa615f881dfc6e37fcea50a22f39188&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=a7ee2565bfa615f881dfc6e37fcea50a22f39188&newProject=comm-central&newRevision=a7ee2565bfa615f881dfc6e37fcea50a22f39188&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=a7ee2565bfa615f881dfc6e37fcea50a22f39188&newProject=comm-central&newRevision=a7ee2565bfa615f881dfc6e37fcea50a22f39188&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28standard8%29&revcount=50">standard8</a>, <a href="/comm-central/log?rev=reviewer%28philipp%29&revcount=50">philipp</a>, <a href="/comm-central/log?rev=reviewer%28neil%29&revcount=50">neil</a>, <a href="/comm-central/log?rev=reviewer%28standard8%29&revcount=50">standard8</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=507392">507392</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=507392">Bug 507392</a>: remove moveToAlertPosition() usage from comm-central. r=standard8, r=philipp, sr=neil, a=standard8</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/calendar/base/content/dialogs/calendar-event-dialog.js">calendar/base/content/dialogs/calendar-event-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/calendar/base/content/dialogs/calendar-event-dialog.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/calendar/base/content/dialogs/calendar-event-dialog.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/calendar/base/content/dialogs/calendar-event-dialog.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/calendar/base/content/dialogs/calendar-event-dialog.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/calendar/base/content/dialogs/calendar-event-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/editContactOverlay.js">mail/base/content/editContactOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/editContactOverlay.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/editContactOverlay.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/editContactOverlay.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/editContactOverlay.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/editContactOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/folderPane.js">mail/base/content/folderPane.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/folderPane.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/folderPane.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/folderPane.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/folderPane.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/folderPane.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/mailOverlay.xul">mail/base/content/mailOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/mailOverlay.xul">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/mailOverlay.xul">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/mailOverlay.xul">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/mailOverlay.xul">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/mailOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/newTagDialog.js">mail/base/content/newTagDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/newTagDialog.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/newTagDialog.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/newTagDialog.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/newTagDialog.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/base/content/newTagDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCardOverlay.js">mail/components/addrbook/content/abCardOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCardOverlay.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCardOverlay.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCardOverlay.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCardOverlay.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCardOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCommon.js">mail/components/addrbook/content/abCommon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCommon.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCommon.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCommon.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCommon.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/addrbook/content/abCommon.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/compose/content/messengercompose.xul">mail/components/compose/content/messengercompose.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/compose/content/messengercompose.xul">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/compose/content/messengercompose.xul">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/compose/content/messengercompose.xul">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/compose/content/messengercompose.xul">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mail/components/compose/content/messengercompose.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abAddressBookNameDialog.js">mailnews/addrbook/content/abAddressBookNameDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abAddressBookNameDialog.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abAddressBookNameDialog.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abAddressBookNameDialog.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abAddressBookNameDialog.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abAddressBookNameDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abMailListDialog.js">mailnews/addrbook/content/abMailListDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abMailListDialog.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abMailListDialog.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abMailListDialog.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abMailListDialog.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/addrbook/content/abMailListDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/folderProps.js">mailnews/base/content/folderProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/folderProps.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/folderProps.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/folderProps.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/folderProps.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/folderProps.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/newFolderDialog.js">mailnews/base/content/newFolderDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/newFolderDialog.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/newFolderDialog.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/newFolderDialog.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/newFolderDialog.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/newFolderDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/renameFolderDialog.js">mailnews/base/content/renameFolderDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/renameFolderDialog.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/renameFolderDialog.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/renameFolderDialog.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/renameFolderDialog.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/renameFolderDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/shutdownWindow.js">mailnews/base/content/shutdownWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/shutdownWindow.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/shutdownWindow.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/shutdownWindow.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/shutdownWindow.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/content/shutdownWindow.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/prefs/content/am-identity-edit.js">mailnews/base/prefs/content/am-identity-edit.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/prefs/content/am-identity-edit.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/prefs/content/am-identity-edit.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/prefs/content/am-identity-edit.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/prefs/content/am-identity-edit.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/prefs/content/am-identity-edit.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/CustomHeaders.js">mailnews/base/search/content/CustomHeaders.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/CustomHeaders.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/CustomHeaders.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/CustomHeaders.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/CustomHeaders.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/CustomHeaders.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/FilterEditor.js">mailnews/base/search/content/FilterEditor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/FilterEditor.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/FilterEditor.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/FilterEditor.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/FilterEditor.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/search/content/FilterEditor.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/src/nsMsgProgress.cpp">mailnews/base/src/nsMsgProgress.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/src/nsMsgProgress.cpp">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/src/nsMsgProgress.cpp">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/src/nsMsgProgress.cpp">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/src/nsMsgProgress.cpp">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/base/src/nsMsgProgress.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/compose/content/sendProgress.js">mailnews/compose/content/sendProgress.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/compose/content/sendProgress.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/compose/content/sendProgress.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/compose/content/sendProgress.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/compose/content/sendProgress.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/mailnews/compose/content/sendProgress.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/browser/mailNavigatorOverlay.xul">suite/browser/mailNavigatorOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/browser/mailNavigatorOverlay.xul">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/browser/mailNavigatorOverlay.xul">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/browser/mailNavigatorOverlay.xul">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/browser/mailNavigatorOverlay.xul">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/browser/mailNavigatorOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/askViewZoom.js">suite/common/askViewZoom.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/askViewZoom.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/askViewZoom.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/askViewZoom.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/askViewZoom.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/askViewZoom.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/viewZoomOverlay.js">suite/common/viewZoomOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/viewZoomOverlay.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/viewZoomOverlay.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/viewZoomOverlay.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/viewZoomOverlay.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/common/viewZoomOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCardOverlay.js">suite/mailnews/addrbook/abCardOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCardOverlay.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCardOverlay.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCardOverlay.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCardOverlay.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCardOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCommon.js">suite/mailnews/addrbook/abCommon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCommon.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCommon.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCommon.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCommon.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/addrbook/abCommon.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailOverlay.xul">suite/mailnews/mailOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailOverlay.xul">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailOverlay.xul">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailOverlay.xul">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailOverlay.xul">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailWindowOverlay.js">suite/mailnews/mailWindowOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailWindowOverlay.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailWindowOverlay.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailWindowOverlay.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailWindowOverlay.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/mailWindowOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/widgetglue.js">suite/mailnews/widgetglue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/widgetglue.js">file</a> |
<a href="/comm-central/annotate/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/widgetglue.js">annotate</a> |
<a href="/comm-central/diff/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/widgetglue.js">diff</a> |
<a href="/comm-central/comparison/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/widgetglue.js">comparison</a> |
<a href="/comm-central/log/a7ee2565bfa615f881dfc6e37fcea50a22f39188/suite/mailnews/widgetglue.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1148,17 +1148,17 @@ function openNewMessage() {</span>
<a href="#l1.4"></a><span id="l1.4"> </span>
<a href="#l1.5"></a><span id="l1.5"> /**</span>
<a href="#l1.6"></a><span id="l1.6">  * Open a new addressbook window</span>
<a href="#l1.7"></a><span id="l1.7">  */</span>
<a href="#l1.8"></a><span id="l1.8"> function openNewCardDialog() {</span>
<a href="#l1.9"></a><span id="l1.9">     window.openDialog(</span>
<a href="#l1.10"></a><span id="l1.10">         &quot;chrome://messenger/content/addressbook/abNewCardDialog.xul&quot;,</span>
<a href="#l1.11"></a><span id="l1.11">         &quot;&quot;,</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-        &quot;chrome,resizable=no,titlebar,modal&quot;);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+        &quot;chrome,modal,resizable=no,centerscreen&quot;);</span>
<a href="#l1.14"></a><span id="l1.14"> }</span>
<a href="#l1.15"></a><span id="l1.15"> </span>
<a href="#l1.16"></a><span id="l1.16"> /**</span>
<a href="#l1.17"></a><span id="l1.17">  * Update the transparency status of this dialog, depending on if the event</span>
<a href="#l1.18"></a><span id="l1.18">  * is all-day or not.</span>
<a href="#l1.19"></a><span id="l1.19">  *</span>
<a href="#l1.20"></a><span id="l1.20">  * @param allDay    If true, the event is all-day</span>
<a href="#l1.21"></a><span id="l1.21">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/base/content/editContactOverlay.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/base/content/editContactOverlay.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -166,17 +166,18 @@ var editContactInlineUI = {</span>
<a href="#l2.4"></a><span id="l2.4">                                          .nsIPopupBoxObject.ROLLUP_CONSUME);</span>
<a href="#l2.5"></a><span id="l2.5">     this.panel.openPopup(aAnchorElement, aPosition, -1, -1);</span>
<a href="#l2.6"></a><span id="l2.6">   },</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8">   editDetails: function() {</span>
<a href="#l2.9"></a><span id="l2.9">     this.panel.hidePopup();</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11">     window.openDialog(&quot;chrome://messenger/content/addressbook/abEditCardDialog.xul&quot;,</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-                      &quot;&quot;, &quot;chrome,resizable=no,modal,titlebar,centerscreen&quot;,</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+                      &quot;&quot;,</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+                      &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l2.15"></a><span id="l2.15">                       { abURI: this._cardDetails.book.URI,</span>
<a href="#l2.16"></a><span id="l2.16">                         card: this._cardDetails.card });</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18">   },</span>
<a href="#l2.19"></a><span id="l2.19"> </span>
<a href="#l2.20"></a><span id="l2.20">   deleteContact: function() {</span>
<a href="#l2.21"></a><span id="l2.21">     if (this._cardDetails.book.readOnly)</span>
<a href="#l2.22"></a><span id="l2.22">       return; /* double check we can delete this */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/base/content/folderPane.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/base/content/folderPane.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1633,17 +1633,18 @@ let gFolderTreeController = {</span>
<a href="#l3.4"></a><span id="l3.4">       dualUseFolders = folder.server.dualUseFolders;</span>
<a href="#l3.5"></a><span id="l3.5"> </span>
<a href="#l3.6"></a><span id="l3.6">     function newFolderCallback(aName, aFolder) {</span>
<a href="#l3.7"></a><span id="l3.7">       if (aName)</span>
<a href="#l3.8"></a><span id="l3.8">         aFolder.createSubfolder(aName, msgWindow);</span>
<a href="#l3.9"></a><span id="l3.9">     }</span>
<a href="#l3.10"></a><span id="l3.10"> </span>
<a href="#l3.11"></a><span id="l3.11">     window.openDialog(&quot;chrome://messenger/content/newFolderDialog.xul&quot;,</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-                      &quot;&quot;, &quot;chrome,titlebar,modal&quot;,</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+                      &quot;&quot;,</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+                      &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l3.15"></a><span id="l3.15">                       {folder: folder, dualUseFolders: dualUseFolders,</span>
<a href="#l3.16"></a><span id="l3.16">                        okCallback: newFolderCallback});</span>
<a href="#l3.17"></a><span id="l3.17">   },</span>
<a href="#l3.18"></a><span id="l3.18"> </span>
<a href="#l3.19"></a><span id="l3.19">   /**</span>
<a href="#l3.20"></a><span id="l3.20">    * Opens the dialog to edit the properties for a folder</span>
<a href="#l3.21"></a><span id="l3.21">    *</span>
<a href="#l3.22"></a><span id="l3.22">    * @param aTabID  (optional) the tab to show in the dialog</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineat">@@ -1688,18 +1689,19 @@ let gFolderTreeController = {</span>
<a href="#l3.24"></a><span id="l3.24">       }</span>
<a href="#l3.25"></a><span id="l3.25">       catch(e) {</span>
<a href="#l3.26"></a><span id="l3.26">         // In a failure, proceed anyway since we're dealing with problems</span>
<a href="#l3.27"></a><span id="l3.27">         folder.ForceDBClosed();</span>
<a href="#l3.28"></a><span id="l3.28">       }</span>
<a href="#l3.29"></a><span id="l3.29">       folder.updateFolder(msgWindow);</span>
<a href="#l3.30"></a><span id="l3.30">     }</span>
<a href="#l3.31"></a><span id="l3.31"> </span>
<a href="#l3.32"></a><span id="l3.32" class="difflineminus">-    window.openDialog(&quot;chrome://messenger/content/folderProps.xul&quot;, &quot;&quot;,</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineminus">-                      &quot;chrome,centerscreen,titlebar,modal&quot;,</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+    window.openDialog(&quot;chrome://messenger/content/folderProps.xul&quot;,</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineplus">+                      &quot;&quot;,</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineplus">+                      &quot;chrome,modal,centerscreen,modal&quot;,</span>
<a href="#l3.37"></a><span id="l3.37">                       {folder: folder, serverType: folder.server.type,</span>
<a href="#l3.38"></a><span id="l3.38">                        msgWindow: msgWindow, title: title,</span>
<a href="#l3.39"></a><span id="l3.39">                        okCallback: editFolderCallback,</span>
<a href="#l3.40"></a><span id="l3.40">                        tabID: aTabID, name: folder.prettyName,</span>
<a href="#l3.41"></a><span id="l3.41">                        rebuildSummaryCallback: rebuildSummary});</span>
<a href="#l3.42"></a><span id="l3.42">   },</span>
<a href="#l3.43"></a><span id="l3.43"> </span>
<a href="#l3.44"></a><span id="l3.44">   /**</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineat">@@ -1719,17 +1721,18 @@ let gFolderTreeController = {</span>
<a href="#l3.46"></a><span id="l3.46">         Components.utils.reportError(&quot;got back a different folder to rename!&quot;);</span>
<a href="#l3.47"></a><span id="l3.47"> </span>
<a href="#l3.48"></a><span id="l3.48">       controller._tree.view.selection.clearSelection();</span>
<a href="#l3.49"></a><span id="l3.49"> </span>
<a href="#l3.50"></a><span id="l3.50">       // Actually do the rename</span>
<a href="#l3.51"></a><span id="l3.51">       folder.rename(aName, msgWindow);</span>
<a href="#l3.52"></a><span id="l3.52">     }</span>
<a href="#l3.53"></a><span id="l3.53">     window.openDialog(&quot;chrome://messenger/content/renameFolderDialog.xul&quot;,</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineminus">-                      &quot;newFolder&quot;, &quot;chrome,titlebar,modal&quot;,</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineplus">+                      &quot;&quot;,</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineplus">+                      &quot;chrome,modal,centerscreen&quot;,</span>
<a href="#l3.57"></a><span id="l3.57">                       {preselectedURI: folder.URI,</span>
<a href="#l3.58"></a><span id="l3.58">                        okCallback: renameCallback, name: folder.prettyName});</span>
<a href="#l3.59"></a><span id="l3.59">   },</span>
<a href="#l3.60"></a><span id="l3.60"> </span>
<a href="#l3.61"></a><span id="l3.61">   /**</span>
<a href="#l3.62"></a><span id="l3.62">    * Deletes a folder from its parent. Also handles unsubscribe from newsgroups</span>
<a href="#l3.63"></a><span id="l3.63">    * if the selected folder/s happen to be nntp.</span>
<a href="#l3.64"></a><span id="l3.64">    *</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineat">@@ -1867,33 +1870,35 @@ let gFolderTreeController = {</span>
<a href="#l3.66"></a><span id="l3.66">    */</span>
<a href="#l3.67"></a><span id="l3.67">   newVirtualFolder: function ftc_newVFolder(aName, aSearchTerms, aParent) {</span>
<a href="#l3.68"></a><span id="l3.68">     let folder = aParent || gFolderTreeView.getSelectedFolders()[0];</span>
<a href="#l3.69"></a><span id="l3.69">     let name = folder.prettyName;</span>
<a href="#l3.70"></a><span id="l3.70">     if (aName)</span>
<a href="#l3.71"></a><span id="l3.71">       name += &quot;-&quot; + aName;</span>
<a href="#l3.72"></a><span id="l3.72"> </span>
<a href="#l3.73"></a><span id="l3.73">     window.openDialog(&quot;chrome://messenger/content/virtualFolderProperties.xul&quot;,</span>
<a href="#l3.74"></a><span id="l3.74" class="difflineminus">-                      &quot;&quot;, &quot;chrome,titlebar,modal,centerscreen&quot;,</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineplus">+                      &quot;&quot;,</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineplus">+                      &quot;chrome,modal,centerscreen&quot;,</span>
<a href="#l3.77"></a><span id="l3.77">                       {folder: folder, searchTerms: aSearchTerms,</span>
<a href="#l3.78"></a><span id="l3.78">                        newFolderName: name});</span>
<a href="#l3.79"></a><span id="l3.79">   },</span>
<a href="#l3.80"></a><span id="l3.80"> </span>
<a href="#l3.81"></a><span id="l3.81">   editVirtualFolder: function ftc_editVirtualFolder(aFolder) {</span>
<a href="#l3.82"></a><span id="l3.82">     let folder = aFolder || gFolderTreeView.getSelectedFolders()[0];</span>
<a href="#l3.83"></a><span id="l3.83"> </span>
<a href="#l3.84"></a><span id="l3.84">     //xxx should pass the folder object</span>
<a href="#l3.85"></a><span id="l3.85">     function editVirtualCallback(aURI) {</span>
<a href="#l3.86"></a><span id="l3.86">       // we need to reload the folder if it is the currently loaded folder...</span>
<a href="#l3.87"></a><span id="l3.87">       if (gFolderDisplay.displayedFolder &amp;&amp;</span>
<a href="#l3.88"></a><span id="l3.88">           aURI == gFolderDisplay.displayedFolder.URI)</span>
<a href="#l3.89"></a><span id="l3.89">         FolderPaneSelectionChange();</span>
<a href="#l3.90"></a><span id="l3.90">     }</span>
<a href="#l3.91"></a><span id="l3.91">     window.openDialog(&quot;chrome://messenger/content/virtualFolderProperties.xul&quot;,</span>
<a href="#l3.92"></a><span id="l3.92" class="difflineminus">-                      &quot;&quot;, &quot;chrome,titlebar,modal,centerscreen&quot;,</span>
<a href="#l3.93"></a><span id="l3.93" class="difflineplus">+                      &quot;&quot;,</span>
<a href="#l3.94"></a><span id="l3.94" class="difflineplus">+                      &quot;chrome,modal,centerscreen&quot;,</span>
<a href="#l3.95"></a><span id="l3.95">                       {folder: folder, editExistingFolder: true,</span>
<a href="#l3.96"></a><span id="l3.96">                        onOKCallback: editVirtualCallback,</span>
<a href="#l3.97"></a><span id="l3.97">                        msgWindow: msgWindow});</span>
<a href="#l3.98"></a><span id="l3.98">   },</span>
<a href="#l3.99"></a><span id="l3.99"> </span>
<a href="#l3.100"></a><span id="l3.100">   /**</span>
<a href="#l3.101"></a><span id="l3.101">    * Opens a search window with the given folder, or the selected one if none</span>
<a href="#l3.102"></a><span id="l3.102">    * is given.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/base/content/mailOverlay.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/base/content/mailOverlay.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -4,18 +4,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> &lt;overlay id=&quot;mailOverlay.xul&quot;</span>
<a href="#l4.5"></a><span id="l4.5">          xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l4.6"></a><span id="l4.6"> </span>
<a href="#l4.7"></a><span id="l4.7">   &lt;script type=&quot;application/x-javascript&quot;&gt;</span>
<a href="#l4.8"></a><span id="l4.8">   &lt;![CDATA[</span>
<a href="#l4.9"></a><span id="l4.9">     function openNewCardDialog()</span>
<a href="#l4.10"></a><span id="l4.10">       {</span>
<a href="#l4.11"></a><span id="l4.11">         window.openDialog(&quot;chrome://messenger/content/addressbook/abNewCardDialog.xul&quot;,</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-                          &quot;&quot;,</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-                          &quot;chrome,resizable=no,titlebar,modal&quot;);</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+                          &quot;&quot;, &quot;chrome,modal,resizable=no,centerscreen&quot;);</span>
<a href="#l4.15"></a><span id="l4.15">       }</span>
<a href="#l4.16"></a><span id="l4.16"> </span>
<a href="#l4.17"></a><span id="l4.17">     function goOpenNewMessage()</span>
<a href="#l4.18"></a><span id="l4.18">       {</span>
<a href="#l4.19"></a><span id="l4.19">         // if there is a MsgNewMessage function in scope</span>
<a href="#l4.20"></a><span id="l4.20">         // and we should use it, so that we choose the proper</span>
<a href="#l4.21"></a><span id="l4.21">         // identity, based on the selected message or folder</span>
<a href="#l4.22"></a><span id="l4.22">         // if not, bring up the compose window to the default identity</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineat">@@ -30,17 +29,17 @@</span>
<a href="#l4.24"></a><span id="l4.24">         msgComposeService.OpenComposeWindow(null, null, null,</span>
<a href="#l4.25"></a><span id="l4.25">                                             Components.interfaces.nsIMsgCompType.New,</span>
<a href="#l4.26"></a><span id="l4.26">                                             Components.interfaces.nsIMsgCompFormat.Default,</span>
<a href="#l4.27"></a><span id="l4.27">                                             null, null);</span>
<a href="#l4.28"></a><span id="l4.28">       }</span>
<a href="#l4.29"></a><span id="l4.29"> </span>
<a href="#l4.30"></a><span id="l4.30">   ]]&gt;</span>
<a href="#l4.31"></a><span id="l4.31">   &lt;/script&gt;</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineminus">-         </span>
<a href="#l4.33"></a><span id="l4.33" class="difflineplus">+</span>
<a href="#l4.34"></a><span id="l4.34">   &lt;!-- generic commands --&gt;  </span>
<a href="#l4.35"></a><span id="l4.35">   &lt;commandset id=&quot;tasksCommands&quot;&gt;</span>
<a href="#l4.36"></a><span id="l4.36">     &lt;command id=&quot;cmd_newMessage&quot; oncommand=&quot;goOpenNewMessage();&quot;/&gt;</span>
<a href="#l4.37"></a><span id="l4.37">     &lt;command id=&quot;cmd_newCard&quot; oncommand=&quot;openNewCardDialog()&quot;/&gt;</span>
<a href="#l4.38"></a><span id="l4.38">   &lt;/commandset&gt;</span>
<a href="#l4.39"></a><span id="l4.39">   &lt;menuitem id=&quot;menu_newCard&quot; label=&quot;&amp;newContactCmd.label;&quot;</span>
<a href="#l4.40"></a><span id="l4.40">             accesskey=&quot;&amp;newContactCmd.accesskey;&quot; command=&quot;cmd_newCard&quot;/&gt;</span>
<a href="#l4.41"></a><span id="l4.41">   &lt;menuitem id=&quot;menu_newMessage&quot; label=&quot;&amp;newMessageCmd.label;&quot; accesskey=&quot;&amp;newMessageCmd.accesskey;&quot; key=&quot;key_newMessage&quot; command=&quot;cmd_newMessage&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/base/content/newTagDialog.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/base/content/newTagDialog.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -54,85 +54,83 @@ function onLoad()</span>
<a href="#l5.4"></a><span id="l5.4">   dialog.nameField = document.getElementById(&quot;name&quot;);</span>
<a href="#l5.5"></a><span id="l5.5">   dialog.nameField.focus();</span>
<a href="#l5.6"></a><span id="l5.6"> </span>
<a href="#l5.7"></a><span id="l5.7">   // call this when OK is pressed</span>
<a href="#l5.8"></a><span id="l5.8">   dialog.okCallback = arguments.okCallback;</span>
<a href="#l5.9"></a><span id="l5.9">   if (arguments.keyToEdit)</span>
<a href="#l5.10"></a><span id="l5.10">     initializeForEditing(arguments.keyToEdit);</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l5.13"></a><span id="l5.13">   doEnabling();</span>
<a href="#l5.14"></a><span id="l5.14"> }</span>
<a href="#l5.15"></a><span id="l5.15"> </span>
<a href="#l5.16"></a><span id="l5.16" class="difflineminus">-/** </span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+/**</span>
<a href="#l5.18"></a><span id="l5.18">  * Turn the new tag dialog into an edit existing tag dialog</span>
<a href="#l5.19"></a><span id="l5.19">  */</span>
<a href="#l5.20"></a><span id="l5.20"> function initializeForEditing(aTagKey)</span>
<a href="#l5.21"></a><span id="l5.21"> {</span>
<a href="#l5.22"></a><span id="l5.22">   dialog.editTagKey = aTagKey;</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineminus">-  </span>
<a href="#l5.24"></a><span id="l5.24" class="difflineplus">+</span>
<a href="#l5.25"></a><span id="l5.25">   // Change the title of the dialog</span>
<a href="#l5.26"></a><span id="l5.26">   var messengerBundle = document.getElementById(&quot;bundle_messenger&quot;);</span>
<a href="#l5.27"></a><span id="l5.27">   document.title = messengerBundle.getString(&quot;editTagTitle&quot;);</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineminus">-  </span>
<a href="#l5.29"></a><span id="l5.29" class="difflineplus">+</span>
<a href="#l5.30"></a><span id="l5.30">   // override the OK button</span>
<a href="#l5.31"></a><span id="l5.31">   document.documentElement.setAttribute(&quot;ondialogaccept&quot;, &quot;return onOKEditTag();&quot;);</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineminus">-  </span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+</span>
<a href="#l5.34"></a><span id="l5.34">   // extract the color and name for the current tag</span>
<a href="#l5.35"></a><span id="l5.35">   var tagService = Components.classes[&quot;@mozilla.org/messenger/tagservice;1&quot;]</span>
<a href="#l5.36"></a><span id="l5.36">                      .getService(Components.interfaces.nsIMsgTagService);</span>
<a href="#l5.37"></a><span id="l5.37">   document.getElementById(&quot;tagColorPicker&quot;).color = tagService.getColorForKey(aTagKey);</span>
<a href="#l5.38"></a><span id="l5.38">   dialog.nameField.value = tagService.getTagForKey(aTagKey);</span>
<a href="#l5.39"></a><span id="l5.39"> }</span>
<a href="#l5.40"></a><span id="l5.40"> </span>
<a href="#l5.41"></a><span id="l5.41"> /**</span>
<a href="#l5.42"></a><span id="l5.42">  * on OK handler for editing a new tag. </span>
<a href="#l5.43"></a><span id="l5.43">  */</span>
<a href="#l5.44"></a><span id="l5.44"> function onOKEditTag()</span>
<a href="#l5.45"></a><span id="l5.45"> {</span>
<a href="#l5.46"></a><span id="l5.46">   var tagService = Components.classes[&quot;@mozilla.org/messenger/tagservice;1&quot;]</span>
<a href="#l5.47"></a><span id="l5.47">                      .getService(Components.interfaces.nsIMsgTagService);</span>
<a href="#l5.48"></a><span id="l5.48">   // get the tag name of the current key we are editing</span>
<a href="#l5.49"></a><span id="l5.49">   var existingTagName = tagService.getTagForKey(dialog.editTagKey);</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineminus">-  </span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+</span>
<a href="#l5.52"></a><span id="l5.52">   // it's ok if the name didn't change</span>
<a href="#l5.53"></a><span id="l5.53">   if (existingTagName != dialog.nameField.value)</span>
<a href="#l5.54"></a><span id="l5.54">   {</span>
<a href="#l5.55"></a><span id="l5.55">     // don't let the user edit a tag to the name of another existing tag</span>
<a href="#l5.56"></a><span id="l5.56">     if (tagService.getKeyForTag(dialog.nameField.value))</span>
<a href="#l5.57"></a><span id="l5.57">     {</span>
<a href="#l5.58"></a><span id="l5.58">       alertForExistingTag();</span>
<a href="#l5.59"></a><span id="l5.59">       return false; // abort the OK</span>
<a href="#l5.60"></a><span id="l5.60">     }</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineminus">-              </span>
<a href="#l5.62"></a><span id="l5.62" class="difflineplus">+</span>
<a href="#l5.63"></a><span id="l5.63">     tagService.setTagForKey(dialog.editTagKey, dialog.nameField.value);</span>
<a href="#l5.64"></a><span id="l5.64">   }</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineminus">-    </span>
<a href="#l5.66"></a><span id="l5.66" class="difflineplus">+</span>
<a href="#l5.67"></a><span id="l5.67">   tagService.setColorForKey(dialog.editTagKey, document.getElementById(&quot;tagColorPicker&quot;).color);</span>
<a href="#l5.68"></a><span id="l5.68">   return dialog.okCallback();</span>
<a href="#l5.69"></a><span id="l5.69"> }</span>
<a href="#l5.70"></a><span id="l5.70"> </span>
<a href="#l5.71"></a><span id="l5.71"> /**</span>
<a href="#l5.72"></a><span id="l5.72">  * on OK handler for creating a new tag. Alerts the user if a tag with </span>
<a href="#l5.73"></a><span id="l5.73">  * the name already exists.</span>
<a href="#l5.74"></a><span id="l5.74">  */</span>
<a href="#l5.75"></a><span id="l5.75"> function onOKNewTag()</span>
<a href="#l5.76"></a><span id="l5.76"> {</span>
<a href="#l5.77"></a><span id="l5.77">   var name = dialog.nameField.value;</span>
<a href="#l5.78"></a><span id="l5.78"> </span>
<a href="#l5.79"></a><span id="l5.79">   var tagService = Components.classes[&quot;@mozilla.org/messenger/tagservice;1&quot;].getService(Components.interfaces.nsIMsgTagService);</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineminus">-  </span>
<a href="#l5.81"></a><span id="l5.81" class="difflineplus">+</span>
<a href="#l5.82"></a><span id="l5.82">   if (tagService.getKeyForTag(name))</span>
<a href="#l5.83"></a><span id="l5.83">   {</span>
<a href="#l5.84"></a><span id="l5.84">     alertForExistingTag();</span>
<a href="#l5.85"></a><span id="l5.85">     return false;</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineminus">-  } </span>
<a href="#l5.87"></a><span id="l5.87" class="difflineminus">-  else</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineminus">-    return dialog.okCallback(name, document.getElementById(&quot;tagColorPicker&quot;).color);</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+  }</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineplus">+  return dialog.okCallback(name, document.getElementById(&quot;tagColorPicker&quot;).color);</span>
<a href="#l5.91"></a><span id="l5.91"> }</span>
<a href="#l5.92"></a><span id="l5.92"> </span>
<a href="#l5.93"></a><span id="l5.93"> /**</span>
<a href="#l5.94"></a><span id="l5.94">  * Alerts the user that they are trying to create a tag with a name that</span>
<a href="#l5.95"></a><span id="l5.95">  * already exists.</span>
<a href="#l5.96"></a><span id="l5.96">  */</span>
<a href="#l5.97"></a><span id="l5.97"> function alertForExistingTag()</span>
<a href="#l5.98"></a><span id="l5.98"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/components/addrbook/content/abCardOverlay.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCardOverlay.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -110,17 +110,17 @@ function OnLoadNewCard()</span>
<a href="#l6.4"></a><span id="l6.4"> </span>
<a href="#l6.5"></a><span id="l6.5">   if (&quot;arguments&quot; in window &amp;&amp; window.arguments[0])</span>
<a href="#l6.6"></a><span id="l6.6">   {</span>
<a href="#l6.7"></a><span id="l6.7">     gEditCard.selectedAB = kPersonalAddressbookURI;</span>
<a href="#l6.8"></a><span id="l6.8"> </span>
<a href="#l6.9"></a><span id="l6.9">     if (&quot;selectedAB&quot; in window.arguments[0]) {</span>
<a href="#l6.10"></a><span id="l6.10">       // check if selected ab is a mailing list</span>
<a href="#l6.11"></a><span id="l6.11">       var abURI = window.arguments[0].selectedAB;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-      </span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+</span>
<a href="#l6.14"></a><span id="l6.14">       var directory = GetDirectoryFromURI(abURI);</span>
<a href="#l6.15"></a><span id="l6.15">       if (directory.isMailList) {</span>
<a href="#l6.16"></a><span id="l6.16">         var parentURI = GetParentDirectoryFromMailingListURI(abURI);</span>
<a href="#l6.17"></a><span id="l6.17">         if (parentURI)</span>
<a href="#l6.18"></a><span id="l6.18">           gEditCard.selectedAB = parentURI;</span>
<a href="#l6.19"></a><span id="l6.19">       }</span>
<a href="#l6.20"></a><span id="l6.20">       else if (!directory.readOnly)</span>
<a href="#l6.21"></a><span id="l6.21">         gEditCard.selectedAB = window.arguments[0].selectedAB;</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineat">@@ -154,45 +154,44 @@ function OnLoadNewCard()</span>
<a href="#l6.23"></a><span id="l6.23">       gEditCard.card =</span>
<a href="#l6.24"></a><span id="l6.24">         Components.classes[&quot;@mozilla.org/abmanager;1&quot;]</span>
<a href="#l6.25"></a><span id="l6.25">                   .getService(Components.interfaces.nsIAbManager)</span>
<a href="#l6.26"></a><span id="l6.26">                   .escapedVCardToAbCard(window.arguments[0].escapedVCardStr);</span>
<a href="#l6.27"></a><span id="l6.27">     }</span>
<a href="#l6.28"></a><span id="l6.28"> </span>
<a href="#l6.29"></a><span id="l6.29">     if (&quot;titleProperty&quot; in window.arguments[0])</span>
<a href="#l6.30"></a><span id="l6.30">       gEditCard.titleProperty = window.arguments[0].titleProperty;</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-    </span>
<a href="#l6.32"></a><span id="l6.32" class="difflineplus">+</span>
<a href="#l6.33"></a><span id="l6.33">     if (&quot;hideABPicker&quot; in window.arguments[0])</span>
<a href="#l6.34"></a><span id="l6.34">       gHideABPicker = window.arguments[0].hideABPicker;</span>
<a href="#l6.35"></a><span id="l6.35">   }</span>
<a href="#l6.36"></a><span id="l6.36"> </span>
<a href="#l6.37"></a><span id="l6.37">   // set popup with address book names</span>
<a href="#l6.38"></a><span id="l6.38">   var abPopup = document.getElementById('abPopup');</span>
<a href="#l6.39"></a><span id="l6.39">   abPopup.value = gEditCard.selectedAB || kPersonalAddressbookURI;</span>
<a href="#l6.40"></a><span id="l6.40"> </span>
<a href="#l6.41"></a><span id="l6.41">   if (gHideABPicker &amp;&amp; abPopup) {</span>
<a href="#l6.42"></a><span id="l6.42">     abPopup.hidden = true;</span>
<a href="#l6.43"></a><span id="l6.43">     document.getElementById(&quot;abPopupLabel&quot;).hidden = true;</span>
<a href="#l6.44"></a><span id="l6.44">   }</span>
<a href="#l6.45"></a><span id="l6.45"> </span>
<a href="#l6.46"></a><span id="l6.46">   SetCardDialogTitle(gEditCard.card.displayName);</span>
<a href="#l6.47"></a><span id="l6.47" class="difflineminus">-    </span>
<a href="#l6.48"></a><span id="l6.48" class="difflineplus">+</span>
<a href="#l6.49"></a><span id="l6.49">   GetCardValues(gEditCard.card, document);</span>
<a href="#l6.50"></a><span id="l6.50"> </span>
<a href="#l6.51"></a><span id="l6.51">   // FIX ME - looks like we need to focus on both the text field and the tab widget</span>
<a href="#l6.52"></a><span id="l6.52">   // probably need to do the same in the addressing widget</span>
<a href="#l6.53"></a><span id="l6.53"> </span>
<a href="#l6.54"></a><span id="l6.54">   // focus on first or last name based on the pref</span>
<a href="#l6.55"></a><span id="l6.55">   var focus = document.getElementById(gEditCard.displayLastNameFirst</span>
<a href="#l6.56"></a><span id="l6.56">                                       ? &quot;LastName&quot; : &quot;FirstName&quot;);</span>
<a href="#l6.57"></a><span id="l6.57">   if ( focus ) {</span>
<a href="#l6.58"></a><span id="l6.58">     // XXX Using the setTimeout hack until bug 103197 is fixed</span>
<a href="#l6.59"></a><span id="l6.59">     setTimeout( function(firstTextBox) { firstTextBox.focus(); }, 0, focus );</span>
<a href="#l6.60"></a><span id="l6.60">   }</span>
<a href="#l6.61"></a><span id="l6.61" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l6.62"></a><span id="l6.62"> }</span>
<a href="#l6.63"></a><span id="l6.63"> </span>
<a href="#l6.64"></a><span id="l6.64"> function EditCardOKButton()</span>
<a href="#l6.65"></a><span id="l6.65"> {</span>
<a href="#l6.66"></a><span id="l6.66">   if (!CheckCardRequiredDataPresence(document))</span>
<a href="#l6.67"></a><span id="l6.67">     return false;  // don't close window</span>
<a href="#l6.68"></a><span id="l6.68"> </span>
<a href="#l6.69"></a><span id="l6.69">   // See if this card is in any mailing list</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/components/addrbook/content/abCommon.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCommon.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -183,39 +183,41 @@ function SendCommandToResultsPane(comman</span>
<a href="#l7.4"></a><span id="l7.4">   // we should focus the results pane</span>
<a href="#l7.5"></a><span id="l7.5">   gAbResultsTree.focus();</span>
<a href="#l7.6"></a><span id="l7.6"> }</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8"> function AbNewLDAPDirectory()</span>
<a href="#l7.9"></a><span id="l7.9"> {</span>
<a href="#l7.10"></a><span id="l7.10">   window.openDialog(&quot;chrome://messenger/content/addressbook/pref-directory-add.xul&quot;,</span>
<a href="#l7.11"></a><span id="l7.11">                     &quot;&quot;,</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-                    &quot;chrome,modal=yes,resizable=no,centerscreen&quot;,</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l7.14"></a><span id="l7.14">                     null);</span>
<a href="#l7.15"></a><span id="l7.15"> }</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17"> function AbNewAddressBook()</span>
<a href="#l7.18"></a><span id="l7.18"> {</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineminus">-  window.openDialog(</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-    &quot;chrome://messenger/content/addressbook/abAddressBookNameDialog.xul&quot;,</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineminus">-    &quot;&quot;, &quot;chrome,modal=yes,resizable=no,centerscreen&quot;, null);</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineplus">+  window.openDialog(&quot;chrome://messenger/content/addressbook/abAddressBookNameDialog.xul&quot;,</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineplus">+                    &quot;&quot;,</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineplus">+                    null);</span>
<a href="#l7.26"></a><span id="l7.26"> }</span>
<a href="#l7.27"></a><span id="l7.27"> </span>
<a href="#l7.28"></a><span id="l7.28"> function AbEditSelectedDirectory()</span>
<a href="#l7.29"></a><span id="l7.29"> {</span>
<a href="#l7.30"></a><span id="l7.30">   if (dirTree.view.selection.count == 1) {</span>
<a href="#l7.31"></a><span id="l7.31">     var selecteduri = GetSelectedDirectory();</span>
<a href="#l7.32"></a><span id="l7.32">     var directory = GetDirectoryFromURI(selecteduri);</span>
<a href="#l7.33"></a><span id="l7.33">     if (directory.isMailList) {</span>
<a href="#l7.34"></a><span id="l7.34">       var dirUri = GetParentDirectoryFromMailingListURI(selecteduri);</span>
<a href="#l7.35"></a><span id="l7.35">       goEditListDialog(null, selecteduri);</span>
<a href="#l7.36"></a><span id="l7.36">     }</span>
<a href="#l7.37"></a><span id="l7.37">     else {</span>
<a href="#l7.38"></a><span id="l7.38">       window.openDialog(directory.propertiesChromeURI,</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineminus">-                        &quot;editDirectory&quot;, &quot;chrome,modal=yes,resizable=no&quot;,</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineplus">+                        &quot;&quot;,</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineplus">+                        &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l7.42"></a><span id="l7.42">                         {selectedDirectory: directory});</span>
<a href="#l7.43"></a><span id="l7.43">     }</span>
<a href="#l7.44"></a><span id="l7.44">   }</span>
<a href="#l7.45"></a><span id="l7.45"> }</span>
<a href="#l7.46"></a><span id="l7.46"> </span>
<a href="#l7.47"></a><span id="l7.47"> function AbDeleteSelectedDirectory()</span>
<a href="#l7.48"></a><span id="l7.48"> {</span>
<a href="#l7.49"></a><span id="l7.49">   var selectedABURI = GetSelectedDirectory();</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineat">@@ -499,42 +501,42 @@ function AbNewList()</span>
<a href="#l7.51"></a><span id="l7.51"> {</span>
<a href="#l7.52"></a><span id="l7.52">   goNewListDialog(GetSelectedDirectory());</span>
<a href="#l7.53"></a><span id="l7.53"> }</span>
<a href="#l7.54"></a><span id="l7.54"> </span>
<a href="#l7.55"></a><span id="l7.55"> function goNewListDialog(selectedAB)</span>
<a href="#l7.56"></a><span id="l7.56"> {</span>
<a href="#l7.57"></a><span id="l7.57">   window.openDialog(&quot;chrome://messenger/content/addressbook/abMailListDialog.xul&quot;,</span>
<a href="#l7.58"></a><span id="l7.58">                     &quot;&quot;,</span>
<a href="#l7.59"></a><span id="l7.59" class="difflineminus">-                    &quot;chrome,resizable=no,titlebar,modal,centerscreen&quot;,</span>
<a href="#l7.60"></a><span id="l7.60" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l7.61"></a><span id="l7.61">                     {selectedAB:selectedAB});</span>
<a href="#l7.62"></a><span id="l7.62"> }</span>
<a href="#l7.63"></a><span id="l7.63"> </span>
<a href="#l7.64"></a><span id="l7.64"> function goEditListDialog(abCard, listURI)</span>
<a href="#l7.65"></a><span id="l7.65"> {</span>
<a href="#l7.66"></a><span id="l7.66">   window.openDialog(&quot;chrome://messenger/content/addressbook/abEditListDialog.xul&quot;,</span>
<a href="#l7.67"></a><span id="l7.67">                     &quot;&quot;,</span>
<a href="#l7.68"></a><span id="l7.68" class="difflineminus">-                    &quot;chrome,resizable=no,titlebar,modal,centerscreen&quot;,</span>
<a href="#l7.69"></a><span id="l7.69" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l7.70"></a><span id="l7.70">                     {abCard:abCard, listURI:listURI});</span>
<a href="#l7.71"></a><span id="l7.71"> }</span>
<a href="#l7.72"></a><span id="l7.72"> </span>
<a href="#l7.73"></a><span id="l7.73"> function goNewCardDialog(selectedAB)</span>
<a href="#l7.74"></a><span id="l7.74"> {</span>
<a href="#l7.75"></a><span id="l7.75">   window.openDialog(&quot;chrome://messenger/content/addressbook/abNewCardDialog.xul&quot;,</span>
<a href="#l7.76"></a><span id="l7.76">                     &quot;&quot;,</span>
<a href="#l7.77"></a><span id="l7.77" class="difflineminus">-                    &quot;chrome,resizable=no,titlebar,modal,centerscreen&quot;,</span>
<a href="#l7.78"></a><span id="l7.78" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l7.79"></a><span id="l7.79">                     {selectedAB:selectedAB});</span>
<a href="#l7.80"></a><span id="l7.80"> }</span>
<a href="#l7.81"></a><span id="l7.81"> </span>
<a href="#l7.82"></a><span id="l7.82"> function goEditCardDialog(abURI, card)</span>
<a href="#l7.83"></a><span id="l7.83"> {</span>
<a href="#l7.84"></a><span id="l7.84">   window.openDialog(&quot;chrome://messenger/content/addressbook/abEditCardDialog.xul&quot;,</span>
<a href="#l7.85"></a><span id="l7.85" class="difflineminus">-            &quot;&quot;,</span>
<a href="#l7.86"></a><span id="l7.86" class="difflineminus">-            &quot;chrome,resizable=no,modal,titlebar,centerscreen&quot;,</span>
<a href="#l7.87"></a><span id="l7.87" class="difflineminus">-            {abURI:abURI, card:card});</span>
<a href="#l7.88"></a><span id="l7.88" class="difflineplus">+                    &quot;&quot;,</span>
<a href="#l7.89"></a><span id="l7.89" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l7.90"></a><span id="l7.90" class="difflineplus">+                    {abURI:abURI, card:card});</span>
<a href="#l7.91"></a><span id="l7.91"> }</span>
<a href="#l7.92"></a><span id="l7.92"> </span>
<a href="#l7.93"></a><span id="l7.93"> </span>
<a href="#l7.94"></a><span id="l7.94"> function setSortByMenuItemCheckState(id, value)</span>
<a href="#l7.95"></a><span id="l7.95"> {</span>
<a href="#l7.96"></a><span id="l7.96">     var menuitem = document.getElementById(id);</span>
<a href="#l7.97"></a><span id="l7.97">     if (menuitem) {</span>
<a href="#l7.98"></a><span id="l7.98">       menuitem.setAttribute(&quot;checked&quot;, value);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/components/compose/content/messengercompose.xul</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/components/compose/content/messengercompose.xul</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -320,17 +320,17 @@</span>
<a href="#l8.4"></a><span id="l8.4">           &lt;menu id=&quot;menu_New&quot; label=&quot;&amp;newMenu.label;&quot; accesskey=&quot;&amp;newMenu.accesskey;&quot;&gt;</span>
<a href="#l8.5"></a><span id="l8.5">             &lt;menupopup id=&quot;menu_NewPopup&quot;&gt;</span>
<a href="#l8.6"></a><span id="l8.6">               &lt;menuitem id=&quot;menu_NewMessage&quot;</span>
<a href="#l8.7"></a><span id="l8.7">                         label=&quot;&amp;newMessage.label;&quot; accesskey=&quot;&amp;newMessage.accesskey;&quot;</span>
<a href="#l8.8"></a><span id="l8.8">                         key=&quot;key_newMessage2&quot; oncommand=&quot;goOpenNewMessage();&quot;/&gt;</span>
<a href="#l8.9"></a><span id="l8.9">               &lt;menuseparator/&gt;</span>
<a href="#l8.10"></a><span id="l8.10">               &lt;menuitem id=&quot;menu_NewContact&quot; label=&quot;&amp;newContact.label;&quot;</span>
<a href="#l8.11"></a><span id="l8.11">                         accesskey=&quot;&amp;newContact.accesskey;&quot;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-                        oncommand=&quot;window.openDialog('chrome://messenger/content/addressbook/abNewCardDialog.xul', '', 'chrome,resizable=no,titlebar,modal');&quot;/&gt;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+                        oncommand=&quot;window.openDialog('chrome://messenger/content/addressbook/abNewCardDialog.xul', '', 'chrome,modal,resizable=no,centerscreen');&quot;/&gt;</span>
<a href="#l8.14"></a><span id="l8.14">             &lt;/menupopup&gt;</span>
<a href="#l8.15"></a><span id="l8.15">           &lt;/menu&gt;</span>
<a href="#l8.16"></a><span id="l8.16">           &lt;menu id=&quot;menu_Attach&quot; label=&quot;&amp;attachMenu.label;&quot; accesskey=&quot;&amp;attachMenu.accesskey;&quot;&gt;</span>
<a href="#l8.17"></a><span id="l8.17">             &lt;menupopup id=&quot;menu_AttachPopup&quot;&gt;</span>
<a href="#l8.18"></a><span id="l8.18">               &lt;menuitem label=&quot;&amp;attachFileCmd.label;&quot; accesskey=&quot;&amp;attachFileCmd.accesskey;&quot; command=&quot;cmd_attachFile&quot;/&gt;</span>
<a href="#l8.19"></a><span id="l8.19">               &lt;menuitem label=&quot;&amp;attachPageCmd.label;&quot; accesskey=&quot;&amp;attachPageCmd.accesskey;&quot; command=&quot;cmd_attachPage&quot;/&gt;</span>
<a href="#l8.20"></a><span id="l8.20">               &lt;menuseparator/&gt;</span>
<a href="#l8.21"></a><span id="l8.21">               &lt;menuitem type=&quot;checkbox&quot; label=&quot;&amp;attachVCardCmd.label;&quot; accesskey=&quot;&amp;attachVCardCmd.accesskey;&quot; command=&quot;cmd_attachVCard&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mailnews/addrbook/content/abAddressBookNameDialog.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mailnews/addrbook/content/abAddressBookNameDialog.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -74,18 +74,16 @@ function abNameOnLoad()</span>
<a href="#l9.4"></a><span id="l9.4">     // only have an ok button that doesn't do anything.</span>
<a href="#l9.5"></a><span id="l9.5">     gNameInput.readOnly = true;</span>
<a href="#l9.6"></a><span id="l9.6">     document.documentElement.buttons = &quot;accept&quot;;</span>
<a href="#l9.7"></a><span id="l9.7">     document.documentElement.removeAttribute(&quot;ondialogaccept&quot;);</span>
<a href="#l9.8"></a><span id="l9.8">   } else {</span>
<a href="#l9.9"></a><span id="l9.9">     gNameInput.focus();</span>
<a href="#l9.10"></a><span id="l9.10">     abNameDoOkEnabling();</span>
<a href="#l9.11"></a><span id="l9.11">   }</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l9.14"></a><span id="l9.14"> }</span>
<a href="#l9.15"></a><span id="l9.15"> </span>
<a href="#l9.16"></a><span id="l9.16"> function abNameOKButton()</span>
<a href="#l9.17"></a><span id="l9.17"> {</span>
<a href="#l9.18"></a><span id="l9.18">   var newName = gNameInput.value.trim();</span>
<a href="#l9.19"></a><span id="l9.19"> </span>
<a href="#l9.20"></a><span id="l9.20">   // Either create a new directory or update an existing one depending on what</span>
<a href="#l9.21"></a><span id="l9.21">   // we were given when we started.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mailnews/addrbook/content/abMailListDialog.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mailnews/addrbook/content/abMailListDialog.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -161,17 +161,17 @@ function GetListValue(mailList, doAdd)</span>
<a href="#l10.4"></a><span id="l10.4">         }</span>
<a href="#l10.5"></a><span id="l10.5">         pos++;</span>
<a href="#l10.6"></a><span id="l10.6">       }</span>
<a href="#l10.7"></a><span id="l10.7">     }</span>
<a href="#l10.8"></a><span id="l10.8">     i++;</span>
<a href="#l10.9"></a><span id="l10.9">   }</span>
<a href="#l10.10"></a><span id="l10.10"> </span>
<a href="#l10.11"></a><span id="l10.11">   --i;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-  </span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+</span>
<a href="#l10.14"></a><span id="l10.14">   if (doAdd == false &amp;&amp; i &lt; oldTotal)</span>
<a href="#l10.15"></a><span id="l10.15">   {</span>
<a href="#l10.16"></a><span id="l10.16">     for (var j = i; j &lt; oldTotal; j++)</span>
<a href="#l10.17"></a><span id="l10.17">       mailList.addressLists.removeElementAt(j);</span>
<a href="#l10.18"></a><span id="l10.18">   }</span>
<a href="#l10.19"></a><span id="l10.19">   return true;</span>
<a href="#l10.20"></a><span id="l10.20"> }</span>
<a href="#l10.21"></a><span id="l10.21"> </span>
<a href="#l10.22"></a><span id="l10.22" class="difflineat">@@ -214,45 +214,42 @@ function OnLoadNewMailList()</span>
<a href="#l10.23"></a><span id="l10.23">     var abURI = window.arguments[0].selectedAB;</span>
<a href="#l10.24"></a><span id="l10.24">     if (abURI) {</span>
<a href="#l10.25"></a><span id="l10.25">       var directory = GetDirectoryFromURI(abURI);</span>
<a href="#l10.26"></a><span id="l10.26">       if (directory.isMailList) {</span>
<a href="#l10.27"></a><span id="l10.27">         var parentURI = GetParentDirectoryFromMailingListURI(abURI);</span>
<a href="#l10.28"></a><span id="l10.28">         if (parentURI) {</span>
<a href="#l10.29"></a><span id="l10.29">           selectedAB = parentURI;</span>
<a href="#l10.30"></a><span id="l10.30">         }</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-  }</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+      }</span>
<a href="#l10.33"></a><span id="l10.33">       else if (directory.readOnly) {</span>
<a href="#l10.34"></a><span id="l10.34">         selectedAB = kPersonalAddressbookURI;</span>
<a href="#l10.35"></a><span id="l10.35" class="difflineminus">-        </span>
<a href="#l10.36"></a><span id="l10.36" class="difflineminus">-      }      </span>
<a href="#l10.37"></a><span id="l10.37" class="difflineplus">+      }</span>
<a href="#l10.38"></a><span id="l10.38">       else {</span>
<a href="#l10.39"></a><span id="l10.39">         selectedAB = abURI;</span>
<a href="#l10.40"></a><span id="l10.40">       }</span>
<a href="#l10.41"></a><span id="l10.41">     }</span>
<a href="#l10.42"></a><span id="l10.42">   }</span>
<a href="#l10.43"></a><span id="l10.43" class="difflineminus">-  </span>
<a href="#l10.44"></a><span id="l10.44" class="difflineplus">+</span>
<a href="#l10.45"></a><span id="l10.45">   if (!selectedAB)</span>
<a href="#l10.46"></a><span id="l10.46">     selectedAB = kPersonalAddressbookURI;</span>
<a href="#l10.47"></a><span id="l10.47"> </span>
<a href="#l10.48"></a><span id="l10.48">   // set popup with address book names</span>
<a href="#l10.49"></a><span id="l10.49">   var abPopup = document.getElementById('abPopup');</span>
<a href="#l10.50"></a><span id="l10.50">   abPopup.value = selectedAB;</span>
<a href="#l10.51"></a><span id="l10.51"> </span>
<a href="#l10.52"></a><span id="l10.52">   AppendNewRowAndSetFocus();</span>
<a href="#l10.53"></a><span id="l10.53">   awFitDummyRows(1);</span>
<a href="#l10.54"></a><span id="l10.54"> </span>
<a href="#l10.55"></a><span id="l10.55">   document.addEventListener(&quot;keypress&quot;, awDocumentKeyPress, true);</span>
<a href="#l10.56"></a><span id="l10.56"> </span>
<a href="#l10.57"></a><span id="l10.57">   // focus on first name</span>
<a href="#l10.58"></a><span id="l10.58">   var listName = document.getElementById('ListName');</span>
<a href="#l10.59"></a><span id="l10.59">   if ( listName )</span>
<a href="#l10.60"></a><span id="l10.60">     setTimeout( function(firstTextBox) { firstTextBox.focus(); }, 0, listName );</span>
<a href="#l10.61"></a><span id="l10.61" class="difflineminus">-</span>
<a href="#l10.62"></a><span id="l10.62" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l10.63"></a><span id="l10.63"> }</span>
<a href="#l10.64"></a><span id="l10.64"> </span>
<a href="#l10.65"></a><span id="l10.65"> function EditListOKButton()</span>
<a href="#l10.66"></a><span id="l10.66"> {</span>
<a href="#l10.67"></a><span id="l10.67">   //edit mailing list in database</span>
<a href="#l10.68"></a><span id="l10.68">   if (GetListValue(gEditList, false))</span>
<a href="#l10.69"></a><span id="l10.69">   {</span>
<a href="#l10.70"></a><span id="l10.70">     if (gListCard) {</span>
<a href="#l10.71"></a><span id="l10.71" class="difflineat">@@ -322,18 +319,16 @@ function OnLoadEditList()</span>
<a href="#l10.72"></a><span id="l10.72">     // basically need a separate dialog. Given I'm not sure about the future of</span>
<a href="#l10.73"></a><span id="l10.73">     // the mailing list dialog in its current state, let's just disable it</span>
<a href="#l10.74"></a><span id="l10.74">     // completely.</span>
<a href="#l10.75"></a><span id="l10.75">     document.getElementById(&quot;addressingWidget&quot;).disabled = true;</span>
<a href="#l10.76"></a><span id="l10.76">   }</span>
<a href="#l10.77"></a><span id="l10.77"> </span>
<a href="#l10.78"></a><span id="l10.78">   document.addEventListener(&quot;keypress&quot;, awDocumentKeyPress, true);</span>
<a href="#l10.79"></a><span id="l10.79"> </span>
<a href="#l10.80"></a><span id="l10.80" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l10.81"></a><span id="l10.81" class="difflineminus">-</span>
<a href="#l10.82"></a><span id="l10.82">   // workaround for bug 118337 - for mailing lists that have more rows than fits inside</span>
<a href="#l10.83"></a><span id="l10.83">   // the display, the value of the textbox inside the new row isn't inherited into the input -</span>
<a href="#l10.84"></a><span id="l10.84">   // the first row then appears to be duplicated at the end although it is actually empty.</span>
<a href="#l10.85"></a><span id="l10.85">   // see awAppendNewRow which copies first row and clears it</span>
<a href="#l10.86"></a><span id="l10.86">   setTimeout(AppendLastRow, 0);</span>
<a href="#l10.87"></a><span id="l10.87"> }</span>
<a href="#l10.88"></a><span id="l10.88"> </span>
<a href="#l10.89"></a><span id="l10.89"> function AppendLastRow()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mailnews/base/content/folderProps.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mailnews/base/content/folderProps.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -270,18 +270,16 @@ function folderPropsOnLoad()</span>
<a href="#l11.4"></a><span id="l11.4">       document.getElementById(&quot;folderPropTabBox&quot;).selectedTab =</span>
<a href="#l11.5"></a><span id="l11.5">                            document.getElementById(window.arguments[0].tabID);</span>
<a href="#l11.6"></a><span id="l11.6">     }</span>
<a href="#l11.7"></a><span id="l11.7">     catch (ex) {}</span>
<a href="#l11.8"></a><span id="l11.8">   }</span>
<a href="#l11.9"></a><span id="l11.9">   hideShowControls(serverType);</span>
<a href="#l11.10"></a><span id="l11.10">   onCheckKeepMsg();</span>
<a href="#l11.11"></a><span id="l11.11">   onUseDefaultRetentionSettings();</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l11.14"></a><span id="l11.14"> }</span>
<a href="#l11.15"></a><span id="l11.15"> </span>
<a href="#l11.16"></a><span id="l11.16"> function hideShowControls(serverType)</span>
<a href="#l11.17"></a><span id="l11.17"> {</span>
<a href="#l11.18"></a><span id="l11.18">   var controls = document.getElementsByAttribute(&quot;hidable&quot;, &quot;true&quot;);</span>
<a href="#l11.19"></a><span id="l11.19">   var len = controls.length;</span>
<a href="#l11.20"></a><span id="l11.20">   for (var i=0; i&lt;len; i++) {</span>
<a href="#l11.21"></a><span id="l11.21">     var control = controls[i];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mailnews/base/content/newFolderDialog.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mailnews/base/content/newFolderDialog.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -72,17 +72,16 @@ function onLoad()</span>
<a href="#l12.4"></a><span id="l12.4">     var newFolderTypeBox = document.getElementById(&quot;newFolderTypeBox&quot;);</span>
<a href="#l12.5"></a><span id="l12.5">     newFolderTypeBox.setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l12.6"></a><span id="l12.6">   } else {</span>
<a href="#l12.7"></a><span id="l12.7">     // set our folder type by calling the default selected type's oncommand</span>
<a href="#l12.8"></a><span id="l12.8">     var selectedFolderType = document.getElementById(&quot;folderGroup&quot;).selectedItem;</span>
<a href="#l12.9"></a><span id="l12.9">     eval(selectedFolderType.getAttribute(&quot;oncommand&quot;));</span>
<a href="#l12.10"></a><span id="l12.10">   }</span>
<a href="#l12.11"></a><span id="l12.11"> </span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l12.13"></a><span id="l12.13">   doEnabling();</span>
<a href="#l12.14"></a><span id="l12.14"> }</span>
<a href="#l12.15"></a><span id="l12.15"> </span>
<a href="#l12.16"></a><span id="l12.16"> function onFolderSelect(event) {</span>
<a href="#l12.17"></a><span id="l12.17">   dialog.folder = event.target._folder;</span>
<a href="#l12.18"></a><span id="l12.18">   document.getElementById(&quot;msgNewFolderPicker&quot;)</span>
<a href="#l12.19"></a><span id="l12.19">           .setAttribute(&quot;label&quot;, dialog.folder.prettyName);</span>
<a href="#l12.20"></a><span id="l12.20"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mailnews/base/content/renameFolderDialog.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mailnews/base/content/renameFolderDialog.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -54,17 +54,16 @@ function onLoad()</span>
<a href="#l13.4"></a><span id="l13.4">   dialog.nameField.focus();</span>
<a href="#l13.5"></a><span id="l13.5"> </span>
<a href="#l13.6"></a><span id="l13.6">   // call this when OK is pressed</span>
<a href="#l13.7"></a><span id="l13.7">   dialog.okCallback = arguments.okCallback;</span>
<a href="#l13.8"></a><span id="l13.8"> </span>
<a href="#l13.9"></a><span id="l13.9">   // pre select the folderPicker, based on what they selected in the folder pane</span>
<a href="#l13.10"></a><span id="l13.10">   dialog.preselectedFolderURI = arguments.preselectedURI;</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l13.13"></a><span id="l13.13">   doEnabling();</span>
<a href="#l13.14"></a><span id="l13.14"> }</span>
<a href="#l13.15"></a><span id="l13.15"> </span>
<a href="#l13.16"></a><span id="l13.16"> function onOK()</span>
<a href="#l13.17"></a><span id="l13.17"> {</span>
<a href="#l13.18"></a><span id="l13.18">   dialog.okCallback(dialog.nameField.value, dialog.preselectedFolderURI);</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20">   return true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mailnews/base/content/shutdownWindow.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mailnews/base/content/shutdownWindow.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -38,29 +38,27 @@</span>
<a href="#l14.4"></a><span id="l14.4"> */</span>
<a href="#l14.5"></a><span id="l14.5"> </span>
<a href="#l14.6"></a><span id="l14.6"> var curTaskIndex = 0;</span>
<a href="#l14.7"></a><span id="l14.7"> var numTasks = 0;</span>
<a href="#l14.8"></a><span id="l14.8"> var stringBundle;</span>
<a href="#l14.9"></a><span id="l14.9"> </span>
<a href="#l14.10"></a><span id="l14.10"> var msgShutdownService = Components.classes[&quot;@mozilla.org/messenger/msgshutdownservice;1&quot;]</span>
<a href="#l14.11"></a><span id="l14.11">                            .getService(Components.interfaces.nsIMsgShutdownService);</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-                        </span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+</span>
<a href="#l14.14"></a><span id="l14.14"> function onLoad()</span>
<a href="#l14.15"></a><span id="l14.15"> {</span>
<a href="#l14.16"></a><span id="l14.16">   numTasks = msgShutdownService.getNumTasks();</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineminus">-  </span>
<a href="#l14.18"></a><span id="l14.18" class="difflineplus">+</span>
<a href="#l14.19"></a><span id="l14.19">   stringBundle = document.getElementById(&quot;bundle_shutdown&quot;);</span>
<a href="#l14.20"></a><span id="l14.20">   document.title = stringBundle.getString(&quot;shutdownDialogTitle&quot;);</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineminus">-  </span>
<a href="#l14.22"></a><span id="l14.22" class="difflineplus">+</span>
<a href="#l14.23"></a><span id="l14.23">   updateTaskProgressLabel(1);</span>
<a href="#l14.24"></a><span id="l14.24">   updateProgressMeter(0);</span>
<a href="#l14.25"></a><span id="l14.25" class="difflineminus">-  </span>
<a href="#l14.26"></a><span id="l14.26" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l14.27"></a><span id="l14.27" class="difflineminus">-  </span>
<a href="#l14.28"></a><span id="l14.28" class="difflineplus">+</span>
<a href="#l14.29"></a><span id="l14.29">   msgShutdownService.startShutdownTasks();</span>
<a href="#l14.30"></a><span id="l14.30"> }</span>
<a href="#l14.31"></a><span id="l14.31"> </span>
<a href="#l14.32"></a><span id="l14.32"> function updateProgressLabel(inTaskName)</span>
<a href="#l14.33"></a><span id="l14.33"> {</span>
<a href="#l14.34"></a><span id="l14.34">   var curTaskLabel = document.getElementById(&quot;shutdownStatus_label&quot;);</span>
<a href="#l14.35"></a><span id="l14.35">   curTaskLabel.value = inTaskName;</span>
<a href="#l14.36"></a><span id="l14.36"> }</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineat">@@ -90,28 +88,28 @@ function nsMsgShutdownTaskListener()</span>
<a href="#l14.38"></a><span id="l14.38"> nsMsgShutdownTaskListener.prototype = </span>
<a href="#l14.39"></a><span id="l14.39"> {</span>
<a href="#l14.40"></a><span id="l14.40">   QueryInterface : function(iid)</span>
<a href="#l14.41"></a><span id="l14.41">   {</span>
<a href="#l14.42"></a><span id="l14.42">     if (iid.equals(Components.interfaces.nsIWebProgressListener) ||</span>
<a href="#l14.43"></a><span id="l14.43">         iid.equals(Components.interfaces.nsISupportsWeakReference) ||</span>
<a href="#l14.44"></a><span id="l14.44">         iid.equals(Components.interfaces.nsISupports))</span>
<a href="#l14.45"></a><span id="l14.45">       return this;</span>
<a href="#l14.46"></a><span id="l14.46" class="difflineminus">-   </span>
<a href="#l14.47"></a><span id="l14.47" class="difflineplus">+</span>
<a href="#l14.48"></a><span id="l14.48">     throw Components.results.NS_NOINTERFACE;</span>
<a href="#l14.49"></a><span id="l14.49">   },</span>
<a href="#l14.50"></a><span id="l14.50" class="difflineminus">-  </span>
<a href="#l14.51"></a><span id="l14.51" class="difflineplus">+</span>
<a href="#l14.52"></a><span id="l14.52">   onStateChange: function(aWebProgress, aRequest, aStateFlags, aStatus)</span>
<a href="#l14.53"></a><span id="l14.53">   {</span>
<a href="#l14.54"></a><span id="l14.54">     if (aStateFlags &amp; Components.interfaces.nsIWebProgressListener.STATE_STOP)</span>
<a href="#l14.55"></a><span id="l14.55">     {</span>
<a href="#l14.56"></a><span id="l14.56">       window.close();</span>
<a href="#l14.57"></a><span id="l14.57">     }</span>
<a href="#l14.58"></a><span id="l14.58">   },</span>
<a href="#l14.59"></a><span id="l14.59" class="difflineminus">-  </span>
<a href="#l14.60"></a><span id="l14.60" class="difflineplus">+</span>
<a href="#l14.61"></a><span id="l14.61">   onProgressChange: function(aWebProgress, aRequest, aCurSelfProgress, aMaxSelfProgress, aCurTotalProgress, aMaxTotalProgress)</span>
<a href="#l14.62"></a><span id="l14.62">   {</span>
<a href="#l14.63"></a><span id="l14.63">     updateProgressMeter(((aCurTotalProgress / aMaxTotalProgress) * 100));</span>
<a href="#l14.64"></a><span id="l14.64">     updateTaskProgressLabel(aCurTotalProgress + 1);</span>
<a href="#l14.65"></a><span id="l14.65">   },</span>
<a href="#l14.66"></a><span id="l14.66"> </span>
<a href="#l14.67"></a><span id="l14.67">   onLocationChange: function(aWebProgress, aRequest, aLocation)</span>
<a href="#l14.68"></a><span id="l14.68">   {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-identity-edit.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-identity-edit.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -347,17 +347,17 @@ function editVCardCallback(escapedVCardS</span>
<a href="#l15.4"></a><span id="l15.4"> </span>
<a href="#l15.5"></a><span id="l15.5"> function editVCard()</span>
<a href="#l15.6"></a><span id="l15.6"> {</span>
<a href="#l15.7"></a><span id="l15.7">   var escapedVCard = document.getElementById(&quot;identity.escapedVCard&quot;);</span>
<a href="#l15.8"></a><span id="l15.8"> </span>
<a href="#l15.9"></a><span id="l15.9">   // read vCard hidden value from UI</span>
<a href="#l15.10"></a><span id="l15.10">   window.openDialog(&quot;chrome://messenger/content/addressbook/abNewCardDialog.xul&quot;,</span>
<a href="#l15.11"></a><span id="l15.11">                     &quot;&quot;,</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-                    &quot;chrome,resizable=no,titlebar,modal&quot;,</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l15.14"></a><span id="l15.14">                     {escapedVCardStr:escapedVCard.value, okCallback:editVCardCallback,</span>
<a href="#l15.15"></a><span id="l15.15">                      titleProperty:&quot;editVCardTitle&quot;, hideABPicker:true});</span>
<a href="#l15.16"></a><span id="l15.16"> }</span>
<a href="#l15.17"></a><span id="l15.17"> </span>
<a href="#l15.18"></a><span id="l15.18"> function getAccountForFolderPickerState()</span>
<a href="#l15.19"></a><span id="l15.19"> {</span>
<a href="#l15.20"></a><span id="l15.20">   return gAccount;</span>
<a href="#l15.21"></a><span id="l15.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mailnews/base/search/content/CustomHeaders.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mailnews/base/search/content/CustomHeaders.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -69,18 +69,16 @@ function onLoad()</span>
<a href="#l16.4"></a><span id="l16.4">     gOKButton = document.getElementById(&quot;ok&quot;);</span>
<a href="#l16.5"></a><span id="l16.5"> </span>
<a href="#l16.6"></a><span id="l16.6">     initializeDialog(hdrs);</span>
<a href="#l16.7"></a><span id="l16.7"> </span>
<a href="#l16.8"></a><span id="l16.8">     doSetOKCancel(onOk, null);</span>
<a href="#l16.9"></a><span id="l16.9"> </span>
<a href="#l16.10"></a><span id="l16.10">     updateAddButton(true);</span>
<a href="#l16.11"></a><span id="l16.11">     updateRemoveButton();</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-    moveToAlertPosition();</span>
<a href="#l16.14"></a><span id="l16.14"> }</span>
<a href="#l16.15"></a><span id="l16.15"> </span>
<a href="#l16.16"></a><span id="l16.16"> function initializeDialog(hdrs)</span>
<a href="#l16.17"></a><span id="l16.17"> {</span>
<a href="#l16.18"></a><span id="l16.18">   if (hdrs)</span>
<a href="#l16.19"></a><span id="l16.19">   {</span>
<a href="#l16.20"></a><span id="l16.20">     hdrs = hdrs.replace(/\s+/g,'');  //remove white spaces before splitting</span>
<a href="#l16.21"></a><span id="l16.21">     gArrayHdrs = hdrs.split(&quot;:&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mailnews/base/search/content/FilterEditor.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mailnews/base/search/content/FilterEditor.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -157,17 +157,16 @@ function filterEditorOnLoad()</span>
<a href="#l17.4"></a><span id="l17.4"> </span>
<a href="#l17.5"></a><span id="l17.5">   // in the case of a new filter, we may not have an action row yet.</span>
<a href="#l17.6"></a><span id="l17.6">   ensureActionRow();</span>
<a href="#l17.7"></a><span id="l17.7">   gFilterType = determineFilterType();</span>
<a href="#l17.8"></a><span id="l17.8"> </span>
<a href="#l17.9"></a><span id="l17.9">   gFilterNameElement.select();</span>
<a href="#l17.10"></a><span id="l17.10">   // This call is required on mac and linux.  It has no effect under win32.  See bug 94800.</span>
<a href="#l17.11"></a><span id="l17.11">   gFilterNameElement.focus();</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l17.13"></a><span id="l17.13"> }</span>
<a href="#l17.14"></a><span id="l17.14"> </span>
<a href="#l17.15"></a><span id="l17.15"> function filterEditorOnUnload()</span>
<a href="#l17.16"></a><span id="l17.16"> {</span>
<a href="#l17.17"></a><span id="l17.17">   if (gMailSession)</span>
<a href="#l17.18"></a><span id="l17.18">     gMailSession.RemoveFolderListener(gFolderListener);</span>
<a href="#l17.19"></a><span id="l17.19"> }</span>
<a href="#l17.20"></a><span id="l17.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mailnews/base/src/nsMsgProgress.cpp</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mailnews/base/src/nsMsgProgress.cpp</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -76,48 +76,48 @@ nsMsgProgress::~nsMsgProgress()</span>
<a href="#l18.4"></a><span id="l18.4"> </span>
<a href="#l18.5"></a><span id="l18.5"> NS_IMETHODIMP nsMsgProgress::OpenProgressDialog(nsIDOMWindowInternal *parent, </span>
<a href="#l18.6"></a><span id="l18.6">                                                 nsIMsgWindow *aMsgWindow, </span>
<a href="#l18.7"></a><span id="l18.7">                                                 const char *dialogURL, </span>
<a href="#l18.8"></a><span id="l18.8">                                                 PRBool inDisplayModal, </span>
<a href="#l18.9"></a><span id="l18.9">                                                 nsISupports *parameters)</span>
<a href="#l18.10"></a><span id="l18.10"> {</span>
<a href="#l18.11"></a><span id="l18.11">   nsresult rv;</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-  </span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+</span>
<a href="#l18.14"></a><span id="l18.14">   if (aMsgWindow)</span>
<a href="#l18.15"></a><span id="l18.15">   {</span>
<a href="#l18.16"></a><span id="l18.16">     SetMsgWindow(aMsgWindow);</span>
<a href="#l18.17"></a><span id="l18.17">     aMsgWindow-&gt;SetStatusFeedback(this);</span>
<a href="#l18.18"></a><span id="l18.18">   }</span>
<a href="#l18.19"></a><span id="l18.19" class="difflineminus">-  </span>
<a href="#l18.20"></a><span id="l18.20" class="difflineplus">+</span>
<a href="#l18.21"></a><span id="l18.21">   NS_ENSURE_ARG_POINTER(dialogURL);</span>
<a href="#l18.22"></a><span id="l18.22">   NS_ENSURE_ARG_POINTER(parent);</span>
<a href="#l18.23"></a><span id="l18.23" class="difflineminus">-  </span>
<a href="#l18.24"></a><span id="l18.24" class="difflineplus">+</span>
<a href="#l18.25"></a><span id="l18.25">   // Set up window.arguments[0]...</span>
<a href="#l18.26"></a><span id="l18.26">   nsCOMPtr&lt;nsISupportsArray&gt; array;</span>
<a href="#l18.27"></a><span id="l18.27">   rv = NS_NewISupportsArray(getter_AddRefs(array));</span>
<a href="#l18.28"></a><span id="l18.28">   NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l18.29"></a><span id="l18.29" class="difflineminus">-  </span>
<a href="#l18.30"></a><span id="l18.30" class="difflineplus">+</span>
<a href="#l18.31"></a><span id="l18.31">   nsCOMPtr&lt;nsISupportsInterfacePointer&gt; ifptr =</span>
<a href="#l18.32"></a><span id="l18.32">     do_CreateInstance(NS_SUPPORTS_INTERFACE_POINTER_CONTRACTID, &amp;rv);</span>
<a href="#l18.33"></a><span id="l18.33">   NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l18.34"></a><span id="l18.34" class="difflineminus">-  </span>
<a href="#l18.35"></a><span id="l18.35" class="difflineplus">+</span>
<a href="#l18.36"></a><span id="l18.36">   ifptr-&gt;SetData(static_cast&lt;nsIMsgProgress*&gt;(this));</span>
<a href="#l18.37"></a><span id="l18.37">   ifptr-&gt;SetDataIID(&amp;NS_GET_IID(nsIMsgProgress));</span>
<a href="#l18.38"></a><span id="l18.38" class="difflineminus">-  </span>
<a href="#l18.39"></a><span id="l18.39" class="difflineplus">+</span>
<a href="#l18.40"></a><span id="l18.40">   array-&gt;AppendElement(ifptr);</span>
<a href="#l18.41"></a><span id="l18.41">   array-&gt;AppendElement(parameters);</span>
<a href="#l18.42"></a><span id="l18.42" class="difflineminus">-  </span>
<a href="#l18.43"></a><span id="l18.43" class="difflineplus">+</span>
<a href="#l18.44"></a><span id="l18.44">   // Open the dialog.</span>
<a href="#l18.45"></a><span id="l18.45">   nsCOMPtr&lt;nsIDOMWindow&gt; newWindow;</span>
<a href="#l18.46"></a><span id="l18.46" class="difflineminus">-  </span>
<a href="#l18.47"></a><span id="l18.47" class="difflineminus">-  nsString chromeOptions(NS_LITERAL_STRING(&quot;chrome,titlebar,dependent&quot;));</span>
<a href="#l18.48"></a><span id="l18.48" class="difflineplus">+</span>
<a href="#l18.49"></a><span id="l18.49" class="difflineplus">+  nsString chromeOptions(NS_LITERAL_STRING(&quot;chrome,dependent,centerscreen&quot;));</span>
<a href="#l18.50"></a><span id="l18.50">   if (inDisplayModal)</span>
<a href="#l18.51"></a><span id="l18.51">     chromeOptions.AppendLiteral(&quot;,modal&quot;);</span>
<a href="#l18.52"></a><span id="l18.52" class="difflineminus">-  </span>
<a href="#l18.53"></a><span id="l18.53" class="difflineplus">+</span>
<a href="#l18.54"></a><span id="l18.54">   return parent-&gt;OpenDialog(NS_ConvertASCIItoUTF16(dialogURL),</span>
<a href="#l18.55"></a><span id="l18.55">                             NS_LITERAL_STRING(&quot;_blank&quot;),</span>
<a href="#l18.56"></a><span id="l18.56">                             chromeOptions,</span>
<a href="#l18.57"></a><span id="l18.57">                             array, getter_AddRefs(newWindow));</span>
<a href="#l18.58"></a><span id="l18.58"> }</span>
<a href="#l18.59"></a><span id="l18.59"> </span>
<a href="#l18.60"></a><span id="l18.60"> /* void closeProgressDialog (in boolean forceClose); */</span>
<a href="#l18.61"></a><span id="l18.61"> NS_IMETHODIMP nsMsgProgress::CloseProgressDialog(PRBool forceClose)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mailnews/compose/content/sendProgress.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mailnews/compose/content/sendProgress.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -163,17 +163,16 @@ function onLoad()</span>
<a href="#l19.4"></a><span id="l19.4"> </span>
<a href="#l19.5"></a><span id="l19.5">     dialog = {};</span>
<a href="#l19.6"></a><span id="l19.6">     dialog.status       = document.getElementById(&quot;dialog.status&quot;);</span>
<a href="#l19.7"></a><span id="l19.7">     dialog.progress     = document.getElementById(&quot;dialog.progress&quot;);</span>
<a href="#l19.8"></a><span id="l19.8">     dialog.progressText = document.getElementById(&quot;dialog.progressText&quot;);</span>
<a href="#l19.9"></a><span id="l19.9"> </span>
<a href="#l19.10"></a><span id="l19.10">     // set our web progress listener on the helper app launcher</span>
<a href="#l19.11"></a><span id="l19.11">     msgProgress.registerListener(progressListener);</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-    moveToAlertPosition();</span>
<a href="#l19.13"></a><span id="l19.13"> </span>
<a href="#l19.14"></a><span id="l19.14">     var prefix = itsASaveOperation ? &quot;titlePrefixSave&quot; : &quot;titlePrefixSend&quot;;</span>
<a href="#l19.15"></a><span id="l19.15">     document.title = gSendProgressStringBundle.getString(prefix) + &quot; &quot; + subject;</span>
<a href="#l19.16"></a><span id="l19.16"> }</span>
<a href="#l19.17"></a><span id="l19.17"> </span>
<a href="#l19.18"></a><span id="l19.18"> function onUnload() </span>
<a href="#l19.19"></a><span id="l19.19"> {</span>
<a href="#l19.20"></a><span id="l19.20">   if (msgProgress)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/suite/browser/mailNavigatorOverlay.xul</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/suite/browser/mailNavigatorOverlay.xul</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -73,18 +73,17 @@</span>
<a href="#l20.4"></a><span id="l20.4">       var uri = ioService.newURI(mailto, null, null);</span>
<a href="#l20.5"></a><span id="l20.5"> </span>
<a href="#l20.6"></a><span id="l20.6">       extProtocolSvc.loadUrl(uri);</span>
<a href="#l20.7"></a><span id="l20.7">     }</span>
<a href="#l20.8"></a><span id="l20.8"> </span>
<a href="#l20.9"></a><span id="l20.9">     function openNewCardDialog()</span>
<a href="#l20.10"></a><span id="l20.10">     {</span>
<a href="#l20.11"></a><span id="l20.11">       window.openDialog(&quot;chrome://messenger/content/addressbook/abNewCardDialog.xul&quot;,</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-                         &quot;&quot;,</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-                         &quot;chrome,resizable=no,titlebar,modal&quot;);</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+                        &quot;&quot;, &quot;chrome,modal,resizable=no,centerscreen&quot;);</span>
<a href="#l20.15"></a><span id="l20.15">     }</span>
<a href="#l20.16"></a><span id="l20.16"> </span>
<a href="#l20.17"></a><span id="l20.17">     function goOpenNewMessage()</span>
<a href="#l20.18"></a><span id="l20.18">     {</span>
<a href="#l20.19"></a><span id="l20.19">       if (gHasIntegratedMailClient) {</span>
<a href="#l20.20"></a><span id="l20.20">         if (&quot;MsgNewMessage&quot; in window)</span>
<a href="#l20.21"></a><span id="l20.21">         {</span>
<a href="#l20.22"></a><span id="l20.22">           MsgNewMessage(null);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/suite/common/askViewZoom.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/suite/common/askViewZoom.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -47,17 +47,16 @@ function onLoad() {</span>
<a href="#l21.4"></a><span id="l21.4">   dialog = {};</span>
<a href="#l21.5"></a><span id="l21.5">   dialog.OKButton = document.documentElement.getButton(&quot;accept&quot;);</span>
<a href="#l21.6"></a><span id="l21.6"> </span>
<a href="#l21.7"></a><span id="l21.7">   dialog.input = document.getElementById(&quot;zoomValue&quot;);</span>
<a href="#l21.8"></a><span id="l21.8">   dialog.input.value = args.value;</span>
<a href="#l21.9"></a><span id="l21.9">   dialog.input.select();</span>
<a href="#l21.10"></a><span id="l21.10">   dialog.input.focus();</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l21.13"></a><span id="l21.13">   doEnabling();</span>
<a href="#l21.14"></a><span id="l21.14"> }</span>
<a href="#l21.15"></a><span id="l21.15"> </span>
<a href="#l21.16"></a><span id="l21.16"> function onAccept() {</span>
<a href="#l21.17"></a><span id="l21.17">   var zoom = parseFloat(dialog.input.value);</span>
<a href="#l21.18"></a><span id="l21.18">   if (!isNaN(zoom) &amp;&amp; zoom &gt;= args.zoomMin &amp;&amp; zoom &lt;= args.zoomMax) {</span>
<a href="#l21.19"></a><span id="l21.19">     args.value = zoom;</span>
<a href="#l21.20"></a><span id="l21.20">     args.zoomOK = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/suite/common/viewZoomOverlay.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/suite/common/viewZoomOverlay.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -299,12 +299,13 @@ function updateZoomMenu()</span>
<a href="#l22.4"></a><span id="l22.4"> }</span>
<a href="#l22.5"></a><span id="l22.5"> </span>
<a href="#l22.6"></a><span id="l22.6"> function setZoomOther()</span>
<a href="#l22.7"></a><span id="l22.7"> {</span>
<a href="#l22.8"></a><span id="l22.8">   var zoom = ZoomManager.prototype.getInstance();</span>
<a href="#l22.9"></a><span id="l22.9"> </span>
<a href="#l22.10"></a><span id="l22.10">   // open dialog and ask for new value</span>
<a href="#l22.11"></a><span id="l22.11">   var o = {value: zoom.factorOther, zoomMin: zoom.MIN, zoomMax: zoom.MAX};</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-  window.openDialog(&quot;chrome://communicator/content/askViewZoom.xul&quot;, &quot;AskViewZoom&quot;, &quot;chrome,modal,titlebar&quot;, o);</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+  window.openDialog(&quot;chrome://communicator/content/askViewZoom.xul&quot;,</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineplus">+                    &quot;&quot;, &quot;chrome,modal,centerscreen&quot;, o);</span>
<a href="#l22.15"></a><span id="l22.15">   if (o.zoomOK)</span>
<a href="#l22.16"></a><span id="l22.16">     zoom.currentZoom = o.value;</span>
<a href="#l22.17"></a><span id="l22.17"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/suite/mailnews/addrbook/abCardOverlay.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/suite/mailnews/addrbook/abCardOverlay.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -110,43 +110,43 @@ function OnLoadNewCard()</span>
<a href="#l23.4"></a><span id="l23.4"> </span>
<a href="#l23.5"></a><span id="l23.5">   if (&quot;arguments&quot; in window &amp;&amp; window.arguments[0])</span>
<a href="#l23.6"></a><span id="l23.6">   {</span>
<a href="#l23.7"></a><span id="l23.7">     gEditCard.selectedAB = kPersonalAddressbookURI;</span>
<a href="#l23.8"></a><span id="l23.8"> </span>
<a href="#l23.9"></a><span id="l23.9">     if (&quot;selectedAB&quot; in window.arguments[0]) {</span>
<a href="#l23.10"></a><span id="l23.10">       // check if selected ab is a mailing list</span>
<a href="#l23.11"></a><span id="l23.11">       var abURI = window.arguments[0].selectedAB;</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-      </span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+</span>
<a href="#l23.14"></a><span id="l23.14">       var directory = GetDirectoryFromURI(abURI);</span>
<a href="#l23.15"></a><span id="l23.15">       if (directory.isMailList) {</span>
<a href="#l23.16"></a><span id="l23.16">         var parentURI = GetParentDirectoryFromMailingListURI(abURI);</span>
<a href="#l23.17"></a><span id="l23.17">         if (parentURI)</span>
<a href="#l23.18"></a><span id="l23.18">           gEditCard.selectedAB = parentURI;</span>
<a href="#l23.19"></a><span id="l23.19">       }</span>
<a href="#l23.20"></a><span id="l23.20">       else if (!directory.readOnly)</span>
<a href="#l23.21"></a><span id="l23.21">         gEditCard.selectedAB = window.arguments[0].selectedAB;</span>
<a href="#l23.22"></a><span id="l23.22">     }</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineminus">-    </span>
<a href="#l23.24"></a><span id="l23.24" class="difflineplus">+</span>
<a href="#l23.25"></a><span id="l23.25">     // we may have been given properties to pre-initialize the window with....</span>
<a href="#l23.26"></a><span id="l23.26">     // we'll fill these in here...</span>
<a href="#l23.27"></a><span id="l23.27">     if (&quot;primaryEmail&quot; in window.arguments[0])</span>
<a href="#l23.28"></a><span id="l23.28">       gEditCard.card.primaryEmail = window.arguments[0].primaryEmail;</span>
<a href="#l23.29"></a><span id="l23.29">     if (&quot;displayName&quot; in window.arguments[0]) {</span>
<a href="#l23.30"></a><span id="l23.30">       gEditCard.card.displayName = window.arguments[0].displayName;</span>
<a href="#l23.31"></a><span id="l23.31">       // if we've got a display name, don't generate</span>
<a href="#l23.32"></a><span id="l23.32">       // a display name (and stomp on the existing display name)</span>
<a href="#l23.33"></a><span id="l23.33">       // when the user types a first or last name</span>
<a href="#l23.34"></a><span id="l23.34">       if (gEditCard.card.displayName.length)</span>
<a href="#l23.35"></a><span id="l23.35">         gEditCard.generateDisplayName = false;</span>
<a href="#l23.36"></a><span id="l23.36">     }</span>
<a href="#l23.37"></a><span id="l23.37">     if (&quot;aimScreenName&quot; in window.arguments[0])</span>
<a href="#l23.38"></a><span id="l23.38">       gEditCard.card.setProperty(&quot;_AimScreenName&quot;,</span>
<a href="#l23.39"></a><span id="l23.39">                                  window.arguments[0].aimScreenName);</span>
<a href="#l23.40"></a><span id="l23.40" class="difflineminus">-    </span>
<a href="#l23.41"></a><span id="l23.41" class="difflineplus">+</span>
<a href="#l23.42"></a><span id="l23.42">     if (&quot;allowRemoteContent&quot; in window.arguments[0])</span>
<a href="#l23.43"></a><span id="l23.43">       gEditCard.card.setProperty(&quot;AllowRemoteContent&quot;,</span>
<a href="#l23.44"></a><span id="l23.44">                                  window.arguments[0].allowRemoteContent);</span>
<a href="#l23.45"></a><span id="l23.45"> </span>
<a href="#l23.46"></a><span id="l23.46">     if (&quot;okCallback&quot; in window.arguments[0])</span>
<a href="#l23.47"></a><span id="l23.47">       gOkCallback = window.arguments[0].okCallback;</span>
<a href="#l23.48"></a><span id="l23.48"> </span>
<a href="#l23.49"></a><span id="l23.49">     if (&quot;escapedVCardStr&quot; in window.arguments[0]) {</span>
<a href="#l23.50"></a><span id="l23.50" class="difflineat">@@ -155,45 +155,44 @@ function OnLoadNewCard()</span>
<a href="#l23.51"></a><span id="l23.51">       gEditCard.card =</span>
<a href="#l23.52"></a><span id="l23.52">         Components.classes[&quot;@mozilla.org/abmanager;1&quot;]</span>
<a href="#l23.53"></a><span id="l23.53">                   .getService(Components.interfaces.nsIAbManager)</span>
<a href="#l23.54"></a><span id="l23.54">                   .escapedVCardToAbCard(window.arguments[0].escapedVCardStr);</span>
<a href="#l23.55"></a><span id="l23.55">     }</span>
<a href="#l23.56"></a><span id="l23.56"> </span>
<a href="#l23.57"></a><span id="l23.57">     if (&quot;titleProperty&quot; in window.arguments[0])</span>
<a href="#l23.58"></a><span id="l23.58">       gEditCard.titleProperty = window.arguments[0].titleProperty;</span>
<a href="#l23.59"></a><span id="l23.59" class="difflineminus">-    </span>
<a href="#l23.60"></a><span id="l23.60" class="difflineplus">+</span>
<a href="#l23.61"></a><span id="l23.61">     if (&quot;hideABPicker&quot; in window.arguments[0])</span>
<a href="#l23.62"></a><span id="l23.62">       gHideABPicker = window.arguments[0].hideABPicker;</span>
<a href="#l23.63"></a><span id="l23.63">   }</span>
<a href="#l23.64"></a><span id="l23.64"> </span>
<a href="#l23.65"></a><span id="l23.65">   // set popup with address book names</span>
<a href="#l23.66"></a><span id="l23.66">   var abPopup = document.getElementById('abPopup');</span>
<a href="#l23.67"></a><span id="l23.67">   abPopup.value = gEditCard.selectedAB || kPersonalAddressbookURI;</span>
<a href="#l23.68"></a><span id="l23.68"> </span>
<a href="#l23.69"></a><span id="l23.69">   if (gHideABPicker &amp;&amp; abPopup) {</span>
<a href="#l23.70"></a><span id="l23.70">     abPopup.hidden = true;</span>
<a href="#l23.71"></a><span id="l23.71">     document.getElementById(&quot;abPopupLabel&quot;).hidden = true;</span>
<a href="#l23.72"></a><span id="l23.72">   } </span>
<a href="#l23.73"></a><span id="l23.73"> </span>
<a href="#l23.74"></a><span id="l23.74">   SetCardDialogTitle(gEditCard.card.displayName);</span>
<a href="#l23.75"></a><span id="l23.75" class="difflineminus">-    </span>
<a href="#l23.76"></a><span id="l23.76" class="difflineplus">+</span>
<a href="#l23.77"></a><span id="l23.77">   GetCardValues(gEditCard.card, document);</span>
<a href="#l23.78"></a><span id="l23.78"> </span>
<a href="#l23.79"></a><span id="l23.79">   // FIX ME - looks like we need to focus on both the text field and the tab widget</span>
<a href="#l23.80"></a><span id="l23.80">   // probably need to do the same in the addressing widget</span>
<a href="#l23.81"></a><span id="l23.81"> </span>
<a href="#l23.82"></a><span id="l23.82">   // focus on first or last name based on the pref</span>
<a href="#l23.83"></a><span id="l23.83">   var focus = document.getElementById(gEditCard.displayLastNameFirst</span>
<a href="#l23.84"></a><span id="l23.84">                                       ? &quot;LastName&quot; : &quot;FirstName&quot;);</span>
<a href="#l23.85"></a><span id="l23.85">   if ( focus ) {</span>
<a href="#l23.86"></a><span id="l23.86">     // XXX Using the setTimeout hack until bug 103197 is fixed</span>
<a href="#l23.87"></a><span id="l23.87">     setTimeout( function(firstTextBox) { firstTextBox.focus(); }, 0, focus );</span>
<a href="#l23.88"></a><span id="l23.88">   }</span>
<a href="#l23.89"></a><span id="l23.89" class="difflineminus">-  moveToAlertPosition();</span>
<a href="#l23.90"></a><span id="l23.90"> }</span>
<a href="#l23.91"></a><span id="l23.91"> </span>
<a href="#l23.92"></a><span id="l23.92"> function EditCardOKButton()</span>
<a href="#l23.93"></a><span id="l23.93"> {</span>
<a href="#l23.94"></a><span id="l23.94">   if (!CheckCardRequiredDataPresence(document))</span>
<a href="#l23.95"></a><span id="l23.95">     return false;  // don't close window</span>
<a href="#l23.96"></a><span id="l23.96"> </span>
<a href="#l23.97"></a><span id="l23.97">   // See if this card is in any mailing list</span>
<a href="#l23.98"></a><span id="l23.98" class="difflineat">@@ -462,17 +461,17 @@ function GetCardValues(cardproperty, doc</span>
<a href="#l23.99"></a><span id="l23.99">   birthYear.onchange = calculateAge;</span>
<a href="#l23.100"></a><span id="l23.100">   birthday.onchange = calculateAge;</span>
<a href="#l23.101"></a><span id="l23.101">   var age = doc.getElementById(&quot;Age&quot;);</span>
<a href="#l23.102"></a><span id="l23.102">   age.onchange = calculateYear;</span>
<a href="#l23.103"></a><span id="l23.103"> </span>
<a href="#l23.104"></a><span id="l23.104">   var popup = document.getElementById(&quot;PreferMailFormatPopup&quot;);</span>
<a href="#l23.105"></a><span id="l23.105">   if (popup)</span>
<a href="#l23.106"></a><span id="l23.106">     popup.value = cardproperty.getProperty(&quot;PreferMailFormat&quot;, &quot;&quot;);</span>
<a href="#l23.107"></a><span id="l23.107" class="difflineminus">-    </span>
<a href="#l23.108"></a><span id="l23.108" class="difflineplus">+</span>
<a href="#l23.109"></a><span id="l23.109">   var allowRemoteContentEl = document.getElementById(&quot;allowRemoteContent&quot;);</span>
<a href="#l23.110"></a><span id="l23.110">   if (allowRemoteContentEl)</span>
<a href="#l23.111"></a><span id="l23.111">     // getProperty may return a &quot;1&quot; or &quot;0&quot; string, we want a boolean</span>
<a href="#l23.112"></a><span id="l23.112">     allowRemoteContentEl.checked = cardproperty.getProperty(&quot;AllowRemoteContent&quot;, false) != false;</span>
<a href="#l23.113"></a><span id="l23.113"> </span>
<a href="#l23.114"></a><span id="l23.114">   // get phonetic fields if exist</span>
<a href="#l23.115"></a><span id="l23.115">   try {</span>
<a href="#l23.116"></a><span id="l23.116">     doc.getElementById(&quot;PhoneticFirstName&quot;).value = cardproperty.getProperty(&quot;PhoneticFirstName&quot;, &quot;&quot;);</span>
<a href="#l23.117"></a><span id="l23.117" class="difflineat">@@ -549,17 +548,17 @@ function CheckAndSetCardValues(cardprope</span>
<a href="#l23.118"></a><span id="l23.118">   // set the birth day, month, and year properties</span>
<a href="#l23.119"></a><span id="l23.119">   cardproperty.setProperty(&quot;BirthDay&quot;, birthDay);</span>
<a href="#l23.120"></a><span id="l23.120">   cardproperty.setProperty(&quot;BirthMonth&quot;, birthMonth);</span>
<a href="#l23.121"></a><span id="l23.121">   cardproperty.setProperty(&quot;BirthYear&quot;, birthYear);</span>
<a href="#l23.122"></a><span id="l23.122"> </span>
<a href="#l23.123"></a><span id="l23.123">   var popup = document.getElementById(&quot;PreferMailFormatPopup&quot;);</span>
<a href="#l23.124"></a><span id="l23.124">   if (popup)</span>
<a href="#l23.125"></a><span id="l23.125">     cardproperty.setProperty(&quot;PreferMailFormat&quot;, popup.value);</span>
<a href="#l23.126"></a><span id="l23.126" class="difflineminus">-    </span>
<a href="#l23.127"></a><span id="l23.127" class="difflineplus">+</span>
<a href="#l23.128"></a><span id="l23.128">   var allowRemoteContentEl = document.getElementById(&quot;allowRemoteContent&quot;);</span>
<a href="#l23.129"></a><span id="l23.129">   if (allowRemoteContentEl)</span>
<a href="#l23.130"></a><span id="l23.130">     cardproperty.setProperty(&quot;AllowRemoteContent&quot;, allowRemoteContentEl.checked);</span>
<a href="#l23.131"></a><span id="l23.131"> </span>
<a href="#l23.132"></a><span id="l23.132">   // set phonetic fields if exist</span>
<a href="#l23.133"></a><span id="l23.133">   try {</span>
<a href="#l23.134"></a><span id="l23.134">     cardproperty.setProperty(&quot;PhoneticFirstName&quot;, doc.getElementById(&quot;PhoneticFirstName&quot;).value);</span>
<a href="#l23.135"></a><span id="l23.135">     cardproperty.setProperty(&quot;PhoneticLastName&quot;, doc.getElementById(&quot;PhoneticLastName&quot;).value);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/suite/mailnews/addrbook/abCommon.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/suite/mailnews/addrbook/abCommon.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -173,40 +173,42 @@ function SendCommandToResultsPane(comman</span>
<a href="#l24.4"></a><span id="l24.4"> </span>
<a href="#l24.5"></a><span id="l24.5">   // if we are sending the command so the results pane</span>
<a href="#l24.6"></a><span id="l24.6">   // we should focus the results pane</span>
<a href="#l24.7"></a><span id="l24.7">   gAbResultsTree.focus();</span>
<a href="#l24.8"></a><span id="l24.8"> }</span>
<a href="#l24.9"></a><span id="l24.9"> </span>
<a href="#l24.10"></a><span id="l24.10"> function AbNewLDAPDirectory()</span>
<a href="#l24.11"></a><span id="l24.11"> {</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-  window.openDialog(&quot;chrome://messenger/content/addressbook/pref-directory-add.xul&quot;, </span>
<a href="#l24.13"></a><span id="l24.13" class="difflineminus">-                    &quot;&quot;, </span>
<a href="#l24.14"></a><span id="l24.14" class="difflineminus">-                    &quot;chrome,modal=yes,resizable=no,centerscreen&quot;, </span>
<a href="#l24.15"></a><span id="l24.15" class="difflineplus">+  window.openDialog(&quot;chrome://messenger/content/addressbook/pref-directory-add.xul&quot;,</span>
<a href="#l24.16"></a><span id="l24.16" class="difflineplus">+                    &quot;&quot;,</span>
<a href="#l24.17"></a><span id="l24.17" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l24.18"></a><span id="l24.18">                     null);</span>
<a href="#l24.19"></a><span id="l24.19"> }</span>
<a href="#l24.20"></a><span id="l24.20"> </span>
<a href="#l24.21"></a><span id="l24.21"> function AbNewAddressBook()</span>
<a href="#l24.22"></a><span id="l24.22"> {</span>
<a href="#l24.23"></a><span id="l24.23" class="difflineminus">-  window.openDialog(</span>
<a href="#l24.24"></a><span id="l24.24" class="difflineminus">-    &quot;chrome://messenger/content/addressbook/abAddressBookNameDialog.xul&quot;, </span>
<a href="#l24.25"></a><span id="l24.25" class="difflineminus">-    &quot;&quot;, &quot;chrome,modal=yes,resizable=no,centerscreen&quot;, null);</span>
<a href="#l24.26"></a><span id="l24.26" class="difflineplus">+  window.openDialog(&quot;chrome://messenger/content/addressbook/abAddressBookNameDialog.xul&quot;,</span>
<a href="#l24.27"></a><span id="l24.27" class="difflineplus">+                    &quot;&quot;,</span>
<a href="#l24.28"></a><span id="l24.28" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l24.29"></a><span id="l24.29" class="difflineplus">+                    null);</span>
<a href="#l24.30"></a><span id="l24.30"> }</span>
<a href="#l24.31"></a><span id="l24.31"> </span>
<a href="#l24.32"></a><span id="l24.32"> function AbEditSelectedDirectory()</span>
<a href="#l24.33"></a><span id="l24.33"> {</span>
<a href="#l24.34"></a><span id="l24.34">   if (dirTree.view.selection.count == 1) {</span>
<a href="#l24.35"></a><span id="l24.35">     var selecteduri = GetSelectedDirectory();</span>
<a href="#l24.36"></a><span id="l24.36">     var directory = GetDirectoryFromURI(selecteduri);</span>
<a href="#l24.37"></a><span id="l24.37">     if (directory.isMailList) {</span>
<a href="#l24.38"></a><span id="l24.38">       goEditListDialog(null, selecteduri);</span>
<a href="#l24.39"></a><span id="l24.39">     }</span>
<a href="#l24.40"></a><span id="l24.40">     else {</span>
<a href="#l24.41"></a><span id="l24.41">       window.openDialog(directory.propertiesChromeURI,</span>
<a href="#l24.42"></a><span id="l24.42" class="difflineminus">-                        &quot;editDirectory&quot;, &quot;chrome,modal=yes,resizable=no&quot;,</span>
<a href="#l24.43"></a><span id="l24.43" class="difflineplus">+                        &quot;&quot;,</span>
<a href="#l24.44"></a><span id="l24.44" class="difflineplus">+                        &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l24.45"></a><span id="l24.45">                         { selectedDirectory: directory });</span>
<a href="#l24.46"></a><span id="l24.46">     }</span>
<a href="#l24.47"></a><span id="l24.47">   }</span>
<a href="#l24.48"></a><span id="l24.48"> }</span>
<a href="#l24.49"></a><span id="l24.49"> </span>
<a href="#l24.50"></a><span id="l24.50"> function AbDeleteSelectedDirectory()</span>
<a href="#l24.51"></a><span id="l24.51"> {</span>
<a href="#l24.52"></a><span id="l24.52">   var selectedABURI = GetSelectedDirectory();</span>
<a href="#l24.53"></a><span id="l24.53" class="difflineat">@@ -512,42 +514,42 @@ function AbNewList()</span>
<a href="#l24.54"></a><span id="l24.54"> {</span>
<a href="#l24.55"></a><span id="l24.55">   goNewListDialog(GetSelectedDirectory());</span>
<a href="#l24.56"></a><span id="l24.56"> }</span>
<a href="#l24.57"></a><span id="l24.57"> </span>
<a href="#l24.58"></a><span id="l24.58"> function goNewListDialog(selectedAB)</span>
<a href="#l24.59"></a><span id="l24.59"> {</span>
<a href="#l24.60"></a><span id="l24.60">   window.openDialog(&quot;chrome://messenger/content/addressbook/abMailListDialog.xul&quot;,</span>
<a href="#l24.61"></a><span id="l24.61">                     &quot;&quot;,</span>
<a href="#l24.62"></a><span id="l24.62" class="difflineminus">-                    &quot;chrome,resizable=no,titlebar,modal,centerscreen&quot;,</span>
<a href="#l24.63"></a><span id="l24.63" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l24.64"></a><span id="l24.64">                     {selectedAB:selectedAB});</span>
<a href="#l24.65"></a><span id="l24.65"> }</span>
<a href="#l24.66"></a><span id="l24.66"> </span>
<a href="#l24.67"></a><span id="l24.67"> function goEditListDialog(abCard, listURI)</span>
<a href="#l24.68"></a><span id="l24.68"> {</span>
<a href="#l24.69"></a><span id="l24.69">   window.openDialog(&quot;chrome://messenger/content/addressbook/abEditListDialog.xul&quot;,</span>
<a href="#l24.70"></a><span id="l24.70">                     &quot;&quot;,</span>
<a href="#l24.71"></a><span id="l24.71" class="difflineminus">-                    &quot;chrome,resizable=no,titlebar,modal,centerscreen&quot;,</span>
<a href="#l24.72"></a><span id="l24.72" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l24.73"></a><span id="l24.73">                     {abCard:abCard, listURI:listURI});</span>
<a href="#l24.74"></a><span id="l24.74"> }</span>
<a href="#l24.75"></a><span id="l24.75"> </span>
<a href="#l24.76"></a><span id="l24.76"> function goNewCardDialog(selectedAB)</span>
<a href="#l24.77"></a><span id="l24.77"> {</span>
<a href="#l24.78"></a><span id="l24.78">   window.openDialog(&quot;chrome://messenger/content/addressbook/abNewCardDialog.xul&quot;,</span>
<a href="#l24.79"></a><span id="l24.79">                     &quot;&quot;,</span>
<a href="#l24.80"></a><span id="l24.80" class="difflineminus">-                    &quot;chrome,resizable=no,titlebar,modal,centerscreen&quot;,</span>
<a href="#l24.81"></a><span id="l24.81" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l24.82"></a><span id="l24.82">                     {selectedAB:selectedAB});</span>
<a href="#l24.83"></a><span id="l24.83"> }</span>
<a href="#l24.84"></a><span id="l24.84"> </span>
<a href="#l24.85"></a><span id="l24.85"> function goEditCardDialog(abURI, card)</span>
<a href="#l24.86"></a><span id="l24.86"> {</span>
<a href="#l24.87"></a><span id="l24.87">   window.openDialog(&quot;chrome://messenger/content/addressbook/abEditCardDialog.xul&quot;,</span>
<a href="#l24.88"></a><span id="l24.88" class="difflineminus">-					  &quot;&quot;,</span>
<a href="#l24.89"></a><span id="l24.89" class="difflineminus">-					  &quot;chrome,resizable=no,modal,titlebar,centerscreen&quot;,</span>
<a href="#l24.90"></a><span id="l24.90" class="difflineminus">-					  {abURI:abURI, card:card});</span>
<a href="#l24.91"></a><span id="l24.91" class="difflineplus">+                    &quot;&quot;,</span>
<a href="#l24.92"></a><span id="l24.92" class="difflineplus">+                    &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l24.93"></a><span id="l24.93" class="difflineplus">+                    {abURI:abURI, card:card});</span>
<a href="#l24.94"></a><span id="l24.94"> }</span>
<a href="#l24.95"></a><span id="l24.95"> </span>
<a href="#l24.96"></a><span id="l24.96"> </span>
<a href="#l24.97"></a><span id="l24.97"> function setSortByMenuItemCheckState(id, value)</span>
<a href="#l24.98"></a><span id="l24.98"> {</span>
<a href="#l24.99"></a><span id="l24.99">     var menuitem = document.getElementById(id);</span>
<a href="#l24.100"></a><span id="l24.100">     if (menuitem) {</span>
<a href="#l24.101"></a><span id="l24.101">       menuitem.setAttribute(&quot;checked&quot;, value);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/suite/mailnews/mailOverlay.xul</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/suite/mailnews/mailOverlay.xul</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -7,18 +7,17 @@</span>
<a href="#l25.4"></a><span id="l25.4"> &lt;overlay id=&quot;mailOverlay.xul&quot;</span>
<a href="#l25.5"></a><span id="l25.5">          xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l25.6"></a><span id="l25.6"> </span>
<a href="#l25.7"></a><span id="l25.7">   &lt;script type=&quot;application/x-javascript&quot;&gt;</span>
<a href="#l25.8"></a><span id="l25.8">   &lt;![CDATA[</span>
<a href="#l25.9"></a><span id="l25.9">     function openNewCardDialog()</span>
<a href="#l25.10"></a><span id="l25.10">       {</span>
<a href="#l25.11"></a><span id="l25.11">         window.openDialog(&quot;chrome://messenger/content/addressbook/abNewCardDialog.xul&quot;,</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-                          &quot;&quot;,</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineminus">-                          &quot;chrome,resizable=no,titlebar,modal&quot;);</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineplus">+                          &quot;&quot;, &quot;chrome,modal,resizable=no,centerscreen&quot;);</span>
<a href="#l25.15"></a><span id="l25.15">       }</span>
<a href="#l25.16"></a><span id="l25.16"> </span>
<a href="#l25.17"></a><span id="l25.17">     function goOpenNewMessage()</span>
<a href="#l25.18"></a><span id="l25.18">       {</span>
<a href="#l25.19"></a><span id="l25.19">         // if there is a MsgNewMessage function in scope</span>
<a href="#l25.20"></a><span id="l25.20">         // and we should use it, so that we choose the proper</span>
<a href="#l25.21"></a><span id="l25.21">         // identity, based on the selected message or folder</span>
<a href="#l25.22"></a><span id="l25.22">         // if not, bring up the compose window to the default identity</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/suite/mailnews/mailWindowOverlay.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/suite/mailnews/mailWindowOverlay.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1456,17 +1456,18 @@ function MsgNewFolder(callBackFunctionNa</span>
<a href="#l26.4"></a><span id="l26.4">                 if (imapServer)</span>
<a href="#l26.5"></a><span id="l26.5">                     dualUseFolders = imapServer.dualUseFolders;</span>
<a href="#l26.6"></a><span id="l26.6">             }</span>
<a href="#l26.7"></a><span id="l26.7">         } catch (e) {</span>
<a href="#l26.8"></a><span id="l26.8">             dump (&quot;Exception: dualUseFolders = true\n&quot;);</span>
<a href="#l26.9"></a><span id="l26.9">         }</span>
<a href="#l26.10"></a><span id="l26.10">     }</span>
<a href="#l26.11"></a><span id="l26.11">     window.openDialog(&quot;chrome://messenger/content/newFolderDialog.xul&quot;,</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-                      &quot;&quot;, &quot;chrome,titlebar,modal&quot;,</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+                      &quot;&quot;,</span>
<a href="#l26.14"></a><span id="l26.14" class="difflineplus">+                      &quot;chrome,modal,centerscreen&quot;,</span>
<a href="#l26.15"></a><span id="l26.15">                       {folder: destinationFolder,</span>
<a href="#l26.16"></a><span id="l26.16">                        dualUseFolders: dualUseFolders,</span>
<a href="#l26.17"></a><span id="l26.17">                        okCallback:callBackFunctionName});</span>
<a href="#l26.18"></a><span id="l26.18"> }</span>
<a href="#l26.19"></a><span id="l26.19"> </span>
<a href="#l26.20"></a><span id="l26.20"> function getDestinationFolder(preselectedFolder, server)</span>
<a href="#l26.21"></a><span id="l26.21"> {</span>
<a href="#l26.22"></a><span id="l26.22">     var destinationFolder = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/suite/mailnews/widgetglue.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/suite/mailnews/widgetglue.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -68,18 +68,18 @@ function GetSelectedFolderURI()</span>
<a href="#l27.4"></a><span id="l27.4">   return folders.length == 1 ? folders[0].URI : null;</span>
<a href="#l27.5"></a><span id="l27.5"> }</span>
<a href="#l27.6"></a><span id="l27.6"> </span>
<a href="#l27.7"></a><span id="l27.7"> function MsgRenameFolder() </span>
<a href="#l27.8"></a><span id="l27.8"> {</span>
<a href="#l27.9"></a><span id="l27.9">   let folder = GetSelectedMsgFolders()[0];</span>
<a href="#l27.10"></a><span id="l27.10">   let dialog = window.openDialog(</span>
<a href="#l27.11"></a><span id="l27.11">                &quot;chrome://messenger/content/renameFolderDialog.xul&quot;,</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-               &quot;newFolder&quot;,</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineminus">-               &quot;chrome,titlebar,modal&quot;,</span>
<a href="#l27.14"></a><span id="l27.14" class="difflineplus">+               &quot;&quot;,</span>
<a href="#l27.15"></a><span id="l27.15" class="difflineplus">+               &quot;chrome,modal,centerscreen&quot;,</span>
<a href="#l27.16"></a><span id="l27.16">                {preselectedURI: folder.URI,</span>
<a href="#l27.17"></a><span id="l27.17">                 okCallback: RenameFolder, name: folder.prettyName});</span>
<a href="#l27.18"></a><span id="l27.18"> }</span>
<a href="#l27.19"></a><span id="l27.19"> </span>
<a href="#l27.20"></a><span id="l27.20"> function RenameFolder(name,uri)</span>
<a href="#l27.21"></a><span id="l27.21"> {</span>
<a href="#l27.22"></a><span id="l27.22">   var folderTree = GetFolderTree();</span>
<a href="#l27.23"></a><span id="l27.23">   if (folderTree)</span>
<a href="#l27.24"></a><span id="l27.24" class="difflineat">@@ -162,28 +162,28 @@ function MsgCompactFolder(aCompactAccoun</span>
<a href="#l27.25"></a><span id="l27.25"> }</span>
<a href="#l27.26"></a><span id="l27.26"> </span>
<a href="#l27.27"></a><span id="l27.27"> function openNewVirtualFolderDialogWithArgs(defaultViewName, aSearchTerms)</span>
<a href="#l27.28"></a><span id="l27.28"> {</span>
<a href="#l27.29"></a><span id="l27.29">   var folder = GetFirstSelectedMsgFolder();</span>
<a href="#l27.30"></a><span id="l27.30">   let name = folder.prettyName + &quot;-&quot; + defaultViewName;</span>
<a href="#l27.31"></a><span id="l27.31"> </span>
<a href="#l27.32"></a><span id="l27.32">   var dialog = window.openDialog(&quot;chrome://messenger/content/virtualFolderProperties.xul&quot;, &quot;&quot;,</span>
<a href="#l27.33"></a><span id="l27.33" class="difflineminus">-                                 &quot;chrome,titlebar,modal,centerscreen&quot;,</span>
<a href="#l27.34"></a><span id="l27.34" class="difflineplus">+                                 &quot;chrome,modal,centerscreen&quot;,</span>
<a href="#l27.35"></a><span id="l27.35">                                  {folder:folder,</span>
<a href="#l27.36"></a><span id="l27.36">                                   searchTerms:aSearchTerms,</span>
<a href="#l27.37"></a><span id="l27.37">                                   newFolderName:name});</span>
<a href="#l27.38"></a><span id="l27.38"> }</span>
<a href="#l27.39"></a><span id="l27.39"> </span>
<a href="#l27.40"></a><span id="l27.40"> function MsgVirtualFolderProperties(aEditExistingVFolder)</span>
<a href="#l27.41"></a><span id="l27.41"> {</span>
<a href="#l27.42"></a><span id="l27.42">   var preselectedFolder = GetFirstSelectedMsgFolder();</span>
<a href="#l27.43"></a><span id="l27.43"> </span>
<a href="#l27.44"></a><span id="l27.44">   var dialog = window.openDialog(&quot;chrome://messenger/content/virtualFolderProperties.xul&quot;, &quot;&quot;,</span>
<a href="#l27.45"></a><span id="l27.45" class="difflineminus">-                                 &quot;chrome,titlebar,modal,centerscreen&quot;,</span>
<a href="#l27.46"></a><span id="l27.46" class="difflineplus">+                                 &quot;chrome,modal,centerscreen&quot;,</span>
<a href="#l27.47"></a><span id="l27.47">                                  {folder:preselectedFolder,</span>
<a href="#l27.48"></a><span id="l27.48">                                   editExistingFolder: aEditExistingVFolder,</span>
<a href="#l27.49"></a><span id="l27.49">                                   onOKCallback:onEditVirtualFolderPropertiesCallback,</span>
<a href="#l27.50"></a><span id="l27.50">                                   msgWindow:msgWindow});</span>
<a href="#l27.51"></a><span id="l27.51"> }</span>
<a href="#l27.52"></a><span id="l27.52"> </span>
<a href="#l27.53"></a><span id="l27.53"> function onEditVirtualFolderPropertiesCallback(aVirtualFolderURI)</span>
<a href="#l27.54"></a><span id="l27.54"> {</span>
<a href="#l27.55"></a><span id="l27.55" class="difflineat">@@ -213,17 +213,17 @@ function MsgFolderProperties()</span>
<a href="#l27.56"></a><span id="l27.56">     MsgVirtualFolderProperties(true);</span>
<a href="#l27.57"></a><span id="l27.57">     return;</span>
<a href="#l27.58"></a><span id="l27.58">   }</span>
<a href="#l27.59"></a><span id="l27.59"> </span>
<a href="#l27.60"></a><span id="l27.60">   var windowTitle = gMessengerBundle.getString(&quot;folderProperties&quot;);</span>
<a href="#l27.61"></a><span id="l27.61">   var dialog = window.openDialog(</span>
<a href="#l27.62"></a><span id="l27.62">               &quot;chrome://messenger/content/folderProps.xul&quot;,</span>
<a href="#l27.63"></a><span id="l27.63">               &quot;&quot;,</span>
<a href="#l27.64"></a><span id="l27.64" class="difflineminus">-              &quot;chrome,centerscreen,titlebar,modal&quot;,</span>
<a href="#l27.65"></a><span id="l27.65" class="difflineplus">+              &quot;chrome,modal,centerscreen&quot;,</span>
<a href="#l27.66"></a><span id="l27.66">               {folder: msgFolder, serverType: msgFolder.server.type,</span>
<a href="#l27.67"></a><span id="l27.67">                msgWindow: msgWindow, title: windowTitle,</span>
<a href="#l27.68"></a><span id="l27.68">                okCallback: FolderProperties, tabID: &quot;&quot;, tabIndex: 0,</span>
<a href="#l27.69"></a><span id="l27.69">                name: msgFolder.prettyName,</span>
<a href="#l27.70"></a><span id="l27.70">                rebuildSummaryCallback: RebuildSummaryFile});</span>
<a href="#l27.71"></a><span id="l27.71"> }</span>
<a href="#l27.72"></a><span id="l27.72"> </span>
<a href="#l27.73"></a><span id="l27.73"> function RebuildSummaryFile(msgFolder)</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

