<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 22528:b27be9c6a171c25242d0deb8348ea4763df41d5c</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ b27be9c6a171c25242d0deb8348ea4763df41d5c" />
<meta property="og:url" content="/comm-central/rev/b27be9c6a171c25242d0deb8348ea4763df41d5c" />
<meta property="og:description" content="Bug 1405407 - part 3 Port Bug 1370506 for l10n building to SeaMonkey.  r=IanN" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / b27be9c6a171c25242d0deb8348ea4763df41d5c 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/b27be9c6a171c25242d0deb8348ea4763df41d5c">shortlog</a> |
<a href="/comm-central/log/b27be9c6a171c25242d0deb8348ea4763df41d5c">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/b27be9c6a171c25242d0deb8348ea4763df41d5c">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/b27be9c6a171c25242d0deb8348ea4763df41d5c">files</a> |
changeset |
<a href="/comm-central/raw-rev/b27be9c6a171c25242d0deb8348ea4763df41d5c">raw</a>  | <a href="/comm-central/archive/b27be9c6a171c25242d0deb8348ea4763df41d5c.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1405407">Bug 1405407</a> - part 3 Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1370506">Bug 1370506</a> for l10n building to SeaMonkey.  r=IanN
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#70;&#114;&#97;&#110;&#107;&#45;&#82;&#97;&#105;&#110;&#101;&#114;&#32;&#71;&#114;&#97;&#104;&#108;&#32;&#60;&#102;&#114;&#103;&#114;&#97;&#104;&#108;&#64;&#103;&#109;&#120;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 12 Nov 2017 20:16:50 +0100</td></tr>

<tr>
 <td>changeset 22528</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/b27be9c6a171c25242d0deb8348ea4763df41d5c">b27be9c6a171c25242d0deb8348ea4763df41d5c</a></td>
</tr>



<tr>
<td>parent 22527</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/c2bfe9667d82e4bf2ea04e07762140dac8a4ed4c">c2bfe9667d82e4bf2ea04e07762140dac8a4ed4c</a>
</td>
</tr>

<tr>
<td>child 22529</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/11fd208e76549b7f0c7821bc199c1a1859967180">11fd208e76549b7f0c7821bc199c1a1859967180</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=b27be9c6a171c25242d0deb8348ea4763df41d5c">13737</a></td></tr>
<tr><td>push user</td><td>frgrahl@gmx.net</td></tr>
<tr><td>push date</td><td class="date age">Sun, 12 Nov 2017 19:17:30 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@47a7768cc342 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=47a7768cc342363dbeff65036c79ffaf64e25f92">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=47a7768cc342363dbeff65036c79ffaf64e25f92&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=47a7768cc342363dbeff65036c79ffaf64e25f92&newProject=comm-central&newRevision=b27be9c6a171c25242d0deb8348ea4763df41d5c&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=47a7768cc342363dbeff65036c79ffaf64e25f92&newProject=comm-central&newRevision=b27be9c6a171c25242d0deb8348ea4763df41d5c&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=47a7768cc342363dbeff65036c79ffaf64e25f92&newProject=comm-central&newRevision=b27be9c6a171c25242d0deb8348ea4763df41d5c&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28IanN%29&revcount=50">IanN</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1405407">1405407</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1370506">1370506</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1405407">Bug 1405407</a> - part 3 Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1370506">Bug 1370506</a> for l10n building to SeaMonkey.  r=IanN</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/installer/windows/Makefile.in">suite/installer/windows/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/installer/windows/Makefile.in">file</a> |
<a href="/comm-central/annotate/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/installer/windows/Makefile.in">annotate</a> |
<a href="/comm-central/diff/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/installer/windows/Makefile.in">diff</a> |
<a href="/comm-central/comparison/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/installer/windows/Makefile.in">comparison</a> |
<a href="/comm-central/log/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/installer/windows/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/Makefile.in">suite/locales/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/Makefile.in">file</a> |
<a href="/comm-central/annotate/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/Makefile.in">annotate</a> |
<a href="/comm-central/diff/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/Makefile.in">diff</a> |
<a href="/comm-central/comparison/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/Makefile.in">comparison</a> |
<a href="/comm-central/log/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/filter.py">suite/locales/filter.py</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/filter.py">file</a> |
<a href="/comm-central/annotate/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/filter.py">annotate</a> |
<a href="/comm-central/diff/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/filter.py">diff</a> |
<a href="/comm-central/comparison/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/filter.py">comparison</a> |
<a href="/comm-central/log/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/filter.py">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/l10n.toml">suite/locales/l10n.toml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/l10n.toml">file</a> |
<a href="/comm-central/annotate/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/l10n.toml">annotate</a> |
<a href="/comm-central/diff/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/l10n.toml">diff</a> |
<a href="/comm-central/comparison/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/l10n.toml">comparison</a> |
<a href="/comm-central/log/b27be9c6a171c25242d0deb8348ea4763df41d5c/suite/locales/l10n.toml">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/installer/windows/Makefile.in</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/installer/windows/Makefile.in</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -23,39 +23,50 @@ BRANDING_FILES = \</span>
<a href="#l1.4"></a><span id="l1.4"> 	$(NULL)</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6"> ifdef MOZ_UPDATER</span>
<a href="#l1.7"></a><span id="l1.7"> DEFINES += -DMOZ_UPDATER=1</span>
<a href="#l1.8"></a><span id="l1.8"> endif</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10"> include $(moztopsrcdir)/config/config.mk</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+ifdef IS_LANGUAGE_REPACK</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+PPL_LOCALE_ARGS = \</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+  --l10n-dir=$(REAL_LOCALE_MERGEDIR)/suite/installer/windows \</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+  --l10n-dir=$(call EXPAND_LOCALE_SRCDIR,suite/locales)/installer/windows \</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+  --l10n-dir=$(commtopsrcdir)/suite/locales/en-US/installer/windows \</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+  $(NULL)</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+else</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+PPL_LOCALE_ARGS=$(call EXPAND_LOCALE_SRCDIR,suite/locales)/installer/windows</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+endif</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineplus">+</span>
<a href="#l1.23"></a><span id="l1.23"> OVERRIDE_DEFAULT_GOAL := installer</span>
<a href="#l1.24"></a><span id="l1.24"> installer::</span>
<a href="#l1.25"></a><span id="l1.25"> 	$(MAKE) -C .. installer-stage</span>
<a href="#l1.26"></a><span id="l1.26"> 	$(MAKE) $(CONFIG_DIR)/setup.exe</span>
<a href="#l1.27"></a><span id="l1.27"> </span>
<a href="#l1.28"></a><span id="l1.28"> # For building the uninstaller during the application build so it can be</span>
<a href="#l1.29"></a><span id="l1.29"> # included for mar file generation.</span>
<a href="#l1.30"></a><span id="l1.30"> uninstaller::</span>
<a href="#l1.31"></a><span id="l1.31"> 	$(RM) -r $(CONFIG_DIR) &amp;&amp; mkdir $(CONFIG_DIR)</span>
<a href="#l1.32"></a><span id="l1.32"> 	$(INSTALL) $(addprefix $(srcdir)/,$(INSTALLER_FILES)) $(CONFIG_DIR)</span>
<a href="#l1.33"></a><span id="l1.33"> 	$(INSTALL) $(addprefix $(DIST)/branding/,$(BRANDING_FILES)) $(CONFIG_DIR)</span>
<a href="#l1.34"></a><span id="l1.34"> 	$(call py_action,preprocessor,-Fsubstitution $(DEFINES) $(ACDEFINES) \</span>
<a href="#l1.35"></a><span id="l1.35"> 	  $(srcdir)/nsis/defines.nsi.in -o $(CONFIG_DIR)/defines.nsi)</span>
<a href="#l1.36"></a><span id="l1.36"> 	$(PYTHON) $(moztopsrcdir)/toolkit/mozapps/installer/windows/nsis/preprocess-locale.py \</span>
<a href="#l1.37"></a><span id="l1.37"> 	  --preprocess-locale $(moztopsrcdir) \</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineminus">-	  $(call EXPAND_LOCALE_SRCDIR,suite/locales)/installer/windows $(AB_CD) $(CONFIG_DIR)</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineplus">+	  $(PPL_LOCALE_ARGS) $(AB_CD) $(CONFIG_DIR)</span>
<a href="#l1.40"></a><span id="l1.40"> </span>
<a href="#l1.41"></a><span id="l1.41"> $(CONFIG_DIR)/setup.exe::</span>
<a href="#l1.42"></a><span id="l1.42"> 	$(RM) -r $(CONFIG_DIR) &amp;&amp; mkdir $(CONFIG_DIR)</span>
<a href="#l1.43"></a><span id="l1.43"> 	$(INSTALL) $(addprefix $(srcdir)/,$(INSTALLER_FILES)) $(CONFIG_DIR)</span>
<a href="#l1.44"></a><span id="l1.44"> 	$(INSTALL) $(addprefix $(DIST)/branding/,$(BRANDING_FILES)) $(CONFIG_DIR)</span>
<a href="#l1.45"></a><span id="l1.45"> 	$(PYTHON) $(moztopsrcdir)/toolkit/mozapps/installer/windows/nsis/preprocess-locale.py \</span>
<a href="#l1.46"></a><span id="l1.46"> 	  --convert-utf8-utf16le $(commtopsrcdir)/suite/installer/license.txt $(CONFIG_DIR)/license.txt</span>
<a href="#l1.47"></a><span id="l1.47"> 	$(call py_action,preprocessor,-Fsubstitution $(DEFINES) $(ACDEFINES) \</span>
<a href="#l1.48"></a><span id="l1.48"> 	  $(srcdir)/nsis/defines.nsi.in -o $(CONFIG_DIR)/defines.nsi)</span>
<a href="#l1.49"></a><span id="l1.49"> 	$(PYTHON) $(moztopsrcdir)/toolkit/mozapps/installer/windows/nsis/preprocess-locale.py \</span>
<a href="#l1.50"></a><span id="l1.50"> 	  --preprocess-locale $(moztopsrcdir) \</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineminus">-	  $(call EXPAND_LOCALE_SRCDIR,suite/locales)/installer/windows $(AB_CD) $(CONFIG_DIR)</span>
<a href="#l1.52"></a><span id="l1.52" class="difflineplus">+	  $(PPL_LOCALE_ARGS) $(AB_CD) $(CONFIG_DIR)</span>
<a href="#l1.53"></a><span id="l1.53"> </span>
<a href="#l1.54"></a><span id="l1.54"> include $(moztopsrcdir)/config/rules.mk</span>
<a href="#l1.55"></a><span id="l1.55"> include $(moztopsrcdir)/toolkit/mozapps/installer/windows/nsis/makensis.mk</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/locales/Makefile.in</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/locales/Makefile.in</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -21,16 +21,21 @@ PWD := $(CURDIR)</span>
<a href="#l2.4"></a><span id="l2.4"> # These are defaulted to be compatible with the files the wget-en-US target</span>
<a href="#l2.5"></a><span id="l2.5"> # pulls. You may override them if you provide your own files.</span>
<a href="#l2.6"></a><span id="l2.6"> ZIP_IN ?= $(ABS_DIST)/$(PACKAGE)</span>
<a href="#l2.7"></a><span id="l2.7"> WIN32_INSTALLER_IN ?= $(ABS_DIST)/$(PKG_INST_PATH)$(PKG_INST_BASENAME).exe</span>
<a href="#l2.8"></a><span id="l2.8"> RETRIEVE_WINDOWS_INSTALLER = 1</span>
<a href="#l2.9"></a><span id="l2.9"> </span>
<a href="#l2.10"></a><span id="l2.10"> MOZ_LANGPACK_EID=langpack-$(AB_CD)@seamonkey.mozilla.org</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+# For Nightly, we know where to get the builds from to do local repacks</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+ifdef NIGHTLY_BUILD</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+export EN_US_BINARY_URL ?= https://archive.mozilla.org/pub/seamonkey/nightly/latest-comm-central-trunk</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+endif</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+</span>
<a href="#l2.17"></a><span id="l2.17"> L10N_PREF_JS_EXPORTS = $(call MERGE_FILE,suite-l10n.js)</span>
<a href="#l2.18"></a><span id="l2.18"> L10N_PREF_JS_EXPORTS_PATH = $(FINAL_TARGET)/$(PREF_DIR)</span>
<a href="#l2.19"></a><span id="l2.19"> L10N_PREF_JS_EXPORTS_FLAGS = $(PREF_PPFLAGS) --silence-missing-directive-warnings</span>
<a href="#l2.20"></a><span id="l2.20"> PP_TARGETS += L10N_PREF_JS_EXPORTS</span>
<a href="#l2.21"></a><span id="l2.21"> </span>
<a href="#l2.22"></a><span id="l2.22"> ifeq ($(MOZ_WIDGET_TOOLKIT),cocoa)</span>
<a href="#l2.23"></a><span id="l2.23"> MOZ_PKG_MAC_DSSTORE=$(ABS_DIST)/branding/dsstore</span>
<a href="#l2.24"></a><span id="l2.24"> MOZ_PKG_MAC_BACKGROUND=$(ABS_DIST)/branding/background.png</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineat">@@ -63,16 +68,21 @@ SEARCH_PLUGINS_PATH := $(FINAL_TARGET)/s</span>
<a href="#l2.26"></a><span id="l2.26"> .PHONY: searchplugins</span>
<a href="#l2.27"></a><span id="l2.27"> SEARCH_PLUGINS_TARGET := libs searchplugins</span>
<a href="#l2.28"></a><span id="l2.28"> SEARCH_PLUGINS := $(foreach plugin,$(addsuffix .xml,$(SEARCH_PLUGINS_NAMES)),$(or $(wildcard $(call MERGE_FILE,searchplugins/$(plugin))),$(info Missing searchplugin: $(plugin))))</span>
<a href="#l2.29"></a><span id="l2.29"> # Some locale-specific search plugins may have preprocessor directives, but the</span>
<a href="#l2.30"></a><span id="l2.30"> # default en-US ones do not.</span>
<a href="#l2.31"></a><span id="l2.31"> SEARCH_PLUGINS_FLAGS := --silence-missing-directive-warnings </span>
<a href="#l2.32"></a><span id="l2.32"> PP_TARGETS += SEARCH_PLUGINS</span>
<a href="#l2.33"></a><span id="l2.33"> </span>
<a href="#l2.34"></a><span id="l2.34" class="difflineplus">+# Required for l10n.mk - defines a list of app sub dirs that should</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineplus">+# be included in langpack xpis.</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineplus">+# Currently not set in SeaMonkey.</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineplus">+DIST_SUBDIRS = $(DIST_SUBDIR)</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineplus">+</span>
<a href="#l2.39"></a><span id="l2.39"> include $(moztopsrcdir)/config/rules.mk</span>
<a href="#l2.40"></a><span id="l2.40"> </span>
<a href="#l2.41"></a><span id="l2.41"> include $(moztopsrcdir)/toolkit/locales/l10n.mk</span>
<a href="#l2.42"></a><span id="l2.42"> </span>
<a href="#l2.43"></a><span id="l2.43"> $(DIST)/branding:</span>
<a href="#l2.44"></a><span id="l2.44"> 	$(NSINSTALL) -D $@</span>
<a href="#l2.45"></a><span id="l2.45"> </span>
<a href="#l2.46"></a><span id="l2.46"> PROFILE_CHROME = userChrome-example.css userContent-example.css</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineat">@@ -109,121 +119,124 @@ PANELS_XTRA_FILE = $(call MERGE_FILE,pro</span>
<a href="#l2.48"></a><span id="l2.48"> </span>
<a href="#l2.49"></a><span id="l2.49"> libs:: $(FINAL_TARGET)/defaults/profile/bookmarks.html ;</span>
<a href="#l2.50"></a><span id="l2.50"> libs:: $(FINAL_TARGET)/defaults/profile/panels.rdf ;</span>
<a href="#l2.51"></a><span id="l2.51"> </span>
<a href="#l2.52"></a><span id="l2.52"> libs:: $(call MERGE_FILES,$(addprefix profile/chrome/,$(PROFILE_CHROME)))</span>
<a href="#l2.53"></a><span id="l2.53"> 	$(SYSINSTALL) $(IFLAGS1) $^ $(FINAL_TARGET)/defaults/profile/chrome</span>
<a href="#l2.54"></a><span id="l2.54"> </span>
<a href="#l2.55"></a><span id="l2.55"> # Extend l10n.mk clobber-% target for our localised extensions</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineplus">+ifdef MOZ_IRC</span>
<a href="#l2.57"></a><span id="l2.57"> clobber-%:</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineminus">-ifdef MOZ_IRC</span>
<a href="#l2.59"></a><span id="l2.59"> 	$(RM) -rf $(DIST)/xpi-stage/chatzilla-$* $(DIST)/xpi-stage/chatzilla-*.$*.xpi</span>
<a href="#l2.60"></a><span id="l2.60"> endif</span>
<a href="#l2.61"></a><span id="l2.61"> </span>
<a href="#l2.62"></a><span id="l2.62" class="difflineplus">+libs-%: AB_CD=$*</span>
<a href="#l2.63"></a><span id="l2.63"> libs-%:</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineplus">+# merge if we're not en-US. Conditional function because</span>
<a href="#l2.65"></a><span id="l2.65" class="difflineplus">+# we need the current value of AB_CD.</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineplus">+	$(if $(filter en-US,$(AB_CD)),, @$(MAKE) merge-$*)</span>
<a href="#l2.67"></a><span id="l2.67" class="difflineplus">+ifdef MOZ_CALENDAR</span>
<a href="#l2.68"></a><span id="l2.68" class="difflineplus">+	$(if $(filter en-US,$(AB_CD)),, @$(MAKE) -C ../../calendar/lightning merge-$*)</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineplus">+endif</span>
<a href="#l2.70"></a><span id="l2.70"> 	$(NSINSTALL) -D $(DIST)/install</span>
<a href="#l2.71"></a><span id="l2.71"> 	@$(MAKE) -C $(DEPTH)/toolkit/locales libs-$*</span>
<a href="#l2.72"></a><span id="l2.72"> 	@$(MAKE) -C $(DEPTH)/services/sync/locales AB_CD=$* XPI_NAME=locale-$*</span>
<a href="#l2.73"></a><span id="l2.73"> 	@$(MAKE) -C ../../editor/ui/locales AB_CD=$* XPI_NAME=locale-$*</span>
<a href="#l2.74"></a><span id="l2.74"> ifdef MOZ_IRC</span>
<a href="#l2.75"></a><span id="l2.75"> 	@$(MAKE) -C $(DEPTH)/extensions/irc/locales libs-$*</span>
<a href="#l2.76"></a><span id="l2.76"> endif</span>
<a href="#l2.77"></a><span id="l2.77"> 	@$(MAKE) -C $(DEPTH)/extensions/spellcheck/locales AB_CD=$* XPI_NAME=locale-$*</span>
<a href="#l2.78"></a><span id="l2.78"> 	@$(MAKE) -C $(DEPTH)/devtools/client/locales AB_CD=$* XPI_NAME=locale-$*</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineplus">+	@$(MAKE) -C $(DEPTH)/devtools/shim/locales AB_CD=$* XPI_NAME=locale-$* XPI_ROOT_APPID='$(XPI_ROOT_APPID)'</span>
<a href="#l2.80"></a><span id="l2.80"> 	@$(MAKE) libs AB_CD=$* XPI_NAME=locale-$* PREF_DIR=defaults/pref</span>
<a href="#l2.81"></a><span id="l2.81"> </span>
<a href="#l2.82"></a><span id="l2.82"> repackage-win32-installer: WIN32_INSTALLER_OUT=$(ABS_DIST)/$(PKG_INST_PATH)$(PKG_INST_BASENAME).exe</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineminus">-repackage-win32-installer: $(call ESCAPE_WILDCARD,$(WIN32_INSTALLER_IN)) $(SUBMAKEFILES)</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineplus">+repackage-win32-installer: $(call ESCAPE_WILDCARD,$(WIN32_INSTALLER_IN)) $(SUBMAKEFILES) libs-$(AB_CD)</span>
<a href="#l2.85"></a><span id="l2.85"> 	@echo 'Repackaging $(WIN32_INSTALLER_IN) into $(WIN32_INSTALLER_OUT).'</span>
<a href="#l2.86"></a><span id="l2.86"> 	$(MAKE) -C $(DEPTH)/$(MOZ_BRANDING_DIRECTORY) export</span>
<a href="#l2.87"></a><span id="l2.87"> 	$(MAKE) -C ../installer/windows CONFIG_DIR=l10ngen l10ngen/setup.exe l10ngen/7zSD.sfx</span>
<a href="#l2.88"></a><span id="l2.88"> 	$(MAKE) repackage-zip \</span>
<a href="#l2.89"></a><span id="l2.89"> 	  AB_CD=$(AB_CD) \</span>
<a href="#l2.90"></a><span id="l2.90"> 	  MOZ_PKG_FORMAT=SFX7Z \</span>
<a href="#l2.91"></a><span id="l2.91"> 	  ZIP_IN='$(WIN32_INSTALLER_IN)' \</span>
<a href="#l2.92"></a><span id="l2.92"> 	  ZIP_OUT='$(WIN32_INSTALLER_OUT)' \</span>
<a href="#l2.93"></a><span id="l2.93"> 	  SFX_HEADER='$(PWD)/../installer/windows/l10ngen/7zSD.sfx \</span>
<a href="#l2.94"></a><span id="l2.94"> 	              $(_ABS_SRCDIR)/suite/installer/windows/app.tag'</span>
<a href="#l2.95"></a><span id="l2.95"> </span>
<a href="#l2.96"></a><span id="l2.96"> ifeq (WINNT,$(OS_ARCH))</span>
<a href="#l2.97"></a><span id="l2.97" class="difflineminus">-repackage-win32-installer-%: libs-% unpack</span>
<a href="#l2.98"></a><span id="l2.98" class="difflineplus">+repackage-win32-installer-%: unpack</span>
<a href="#l2.99"></a><span id="l2.99"> 	@$(MAKE) repackage-win32-installer AB_CD=$* WIN32_INSTALLER_IN='$(WIN32_INSTALLER_IN)'</span>
<a href="#l2.100"></a><span id="l2.100" class="difflineplus">+</span>
<a href="#l2.101"></a><span id="l2.101" class="difflineplus">+repackage-zip-%: repackage-win32-installer-%</span>
<a href="#l2.102"></a><span id="l2.102" class="difflineplus">+</span>
<a href="#l2.103"></a><span id="l2.103"> else</span>
<a href="#l2.104"></a><span id="l2.104"> repackage-win32-installer-%: ;</span>
<a href="#l2.105"></a><span id="l2.105"> endif</span>
<a href="#l2.106"></a><span id="l2.106"> </span>
<a href="#l2.107"></a><span id="l2.107"> repackage-zip: repackage-extensions</span>
<a href="#l2.108"></a><span id="l2.108"> </span>
<a href="#l2.109"></a><span id="l2.109"> repackage-extensions: $(STAGEDIST)</span>
<a href="#l2.110"></a><span id="l2.110"> ifdef MOZ_IRC</span>
<a href="#l2.111"></a><span id="l2.111"> 	$(MAKE) -C $(DEPTH)/extensions/irc/locales repackage-zip-$(AB_CD) STAGEDIST=$(STAGEDIST)</span>
<a href="#l2.112"></a><span id="l2.112"> endif</span>
<a href="#l2.113"></a><span id="l2.113"> ifeq ($(MOZ_PACKAGER_FORMAT),omni)</span>
<a href="#l2.114"></a><span id="l2.114"> 	$(NSINSTALL) -D $(STAGEDIST)/distribution/extensions</span>
<a href="#l2.115"></a><span id="l2.115"> 	$(MAKE) -C ../app pack-ext AB_CD=$(AB_CD) STAGEDIST=$(STAGEDIST)/extensions;</span>
<a href="#l2.116"></a><span id="l2.116"> 	$(MAKE) -C ../app pack-ext AB_CD=$(AB_CD) STAGEDIST=$(STAGEDIST)/distribution/extensions;</span>
<a href="#l2.117"></a><span id="l2.117"> endif</span>
<a href="#l2.118"></a><span id="l2.118"> </span>
<a href="#l2.119"></a><span id="l2.119" class="difflineminus">-repackage-zip-%: $(call ESCAPE_WILDCARD,$(ZIP_IN)) $(STAGEDIST) libs-%</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineminus">-	@$(MAKE) repackage-zip AB_CD=$* ZIP_IN=$(ZIP_IN)</span>
<a href="#l2.121"></a><span id="l2.121" class="difflineminus">-</span>
<a href="#l2.122"></a><span id="l2.122"> langpack: langpack-$(AB_CD)</span>
<a href="#l2.123"></a><span id="l2.123"> </span>
<a href="#l2.124"></a><span id="l2.124"> ifdef MOZ_UPDATER</span>
<a href="#l2.125"></a><span id="l2.125" class="difflineminus">-libs:: $(addprefix $(LOCALE_SRCDIR)/,updater/updater.ini)</span>
<a href="#l2.126"></a><span id="l2.126" class="difflineplus">+libs:: $(call MERGE_FILE,updater/updater.ini) $(call mkdir_deps,$(DIST)/bin)</span>
<a href="#l2.127"></a><span id="l2.127"> ifeq ($(OS_ARCH),WINNT)</span>
<a href="#l2.128"></a><span id="l2.128"> 	cat $&lt; $(srcdir)/../installer/windows/nsis/updater_append.ini | \</span>
<a href="#l2.129"></a><span id="l2.129"> 	  sed -e 's/^InfoText=/Info=/' -e 's/^TitleText=/Title=/' | \</span>
<a href="#l2.130"></a><span id="l2.130"> 	  sed -e 's/%MOZ_APP_DISPLAYNAME%/$(MOZ_APP_DISPLAYNAME)/' &gt; \</span>
<a href="#l2.131"></a><span id="l2.131"> 	  $(FINAL_TARGET)/updater.ini</span>
<a href="#l2.132"></a><span id="l2.132"> else</span>
<a href="#l2.133"></a><span id="l2.133"> 	cat $&lt; | \</span>
<a href="#l2.134"></a><span id="l2.134"> 	  sed -e 's/^InfoText=/Info=/' -e 's/^TitleText=/Title=/' | \</span>
<a href="#l2.135"></a><span id="l2.135"> 	  sed -e 's/%MOZ_APP_DISPLAYNAME%/$(MOZ_APP_DISPLAYNAME)/' &gt; \</span>
<a href="#l2.136"></a><span id="l2.136"> 	  $(FINAL_TARGET)/updater.ini</span>
<a href="#l2.137"></a><span id="l2.137"> endif</span>
<a href="#l2.138"></a><span id="l2.138"> endif</span>
<a href="#l2.139"></a><span id="l2.139"> </span>
<a href="#l2.140"></a><span id="l2.140" class="difflineplus">+ifndef IS_LANGPACK</span>
<a href="#l2.141"></a><span id="l2.141"> ifdef MOZ_CRASHREPORTER</span>
<a href="#l2.142"></a><span id="l2.142"> libs:: $(call MERGE_FILE,crashreporter/crashreporter-override.ini)</span>
<a href="#l2.143"></a><span id="l2.143"> 	$(SYSINSTALL) $(IFLAGS1) $^ $(FINAL_TARGET)</span>
<a href="#l2.144"></a><span id="l2.144"> endif</span>
<a href="#l2.145"></a><span id="l2.145" class="difflineplus">+endif</span>
<a href="#l2.146"></a><span id="l2.146"> </span>
<a href="#l2.147"></a><span id="l2.147"> ident:</span>
<a href="#l2.148"></a><span id="l2.148"> 	@printf 'comm_revision '</span>
<a href="#l2.149"></a><span id="l2.149"> 	@$(PYTHON) $(moztopsrcdir)/config/printconfigsetting.py \</span>
<a href="#l2.150"></a><span id="l2.150"> 	    $(STAGEDIST)/application.ini App SourceStamp</span>
<a href="#l2.151"></a><span id="l2.151"> 	@printf 'moz_revision '</span>
<a href="#l2.152"></a><span id="l2.152"> 	@$(PYTHON) $(moztopsrcdir)/config/printconfigsetting.py \</span>
<a href="#l2.153"></a><span id="l2.153"> 	    $(STAGEDIST)/platform.ini Build SourceStamp</span>
<a href="#l2.154"></a><span id="l2.154"> 	@printf 'buildid '</span>
<a href="#l2.155"></a><span id="l2.155"> 	@$(PYTHON) $(moztopsrcdir)/config/printconfigsetting.py \</span>
<a href="#l2.156"></a><span id="l2.156"> 	    $(STAGEDIST)/application.ini App BuildID</span>
<a href="#l2.157"></a><span id="l2.157"> </span>
<a href="#l2.158"></a><span id="l2.158" class="difflineminus">-merge-%:</span>
<a href="#l2.159"></a><span id="l2.159" class="difflineminus">-ifdef LOCALE_MERGEDIR</span>
<a href="#l2.160"></a><span id="l2.160" class="difflineminus">-	$(RM) -rf $(LOCALE_MERGEDIR)</span>
<a href="#l2.161"></a><span id="l2.161" class="difflineminus">-	$(moztopsrcdir)/mach compare-locales --merge-dir $(LOCALE_MERGEDIR) --l10n-ini $(srcdir)/l10n.ini $*</span>
<a href="#l2.162"></a><span id="l2.162" class="difflineminus">-endif</span>
<a href="#l2.163"></a><span id="l2.163" class="difflineminus">-	@echo</span>
<a href="#l2.164"></a><span id="l2.164" class="difflineminus">-</span>
<a href="#l2.165"></a><span id="l2.165"> .PHONY: repackage-extensions</span>
<a href="#l2.166"></a><span id="l2.166"> </span>
<a href="#l2.167"></a><span id="l2.167"> ifdef MOZ_IRC</span>
<a href="#l2.168"></a><span id="l2.168"> MOZ_PKG_EXTRAL10N += extensions/langpack-$(AB_CD)@chatzilla.mozilla.org=$(DIST)/xpi-stage/chatzilla-$(AB_CD)</span>
<a href="#l2.169"></a><span id="l2.169"> endif</span>
<a href="#l2.170"></a><span id="l2.170"> </span>
<a href="#l2.171"></a><span id="l2.171"> ifdef MOZ_CALENDAR</span>
<a href="#l2.172"></a><span id="l2.172" class="difflineminus">-LIGHTNING_PATH=$(DEPTH)/calendar/lightning</span>
<a href="#l2.173"></a><span id="l2.173" class="difflineminus">-GDATA_PATH=$(DEPTH)/calendar/providers/gdata</span>
<a href="#l2.174"></a><span id="l2.174" class="difflineplus">+LIGHTNING_PATH=$(commtopobjdir)/calendar/lightning</span>
<a href="#l2.175"></a><span id="l2.175" class="difflineplus">+GDATA_PATH=$(commtopobjdir)/calendar/providers/gdata</span>
<a href="#l2.176"></a><span id="l2.176"> </span>
<a href="#l2.177"></a><span id="l2.177"> define run-calendar-rule</span>
<a href="#l2.178"></a><span id="l2.178" class="difflineminus">-$(MAKE) -C $(LIGHTNING_PATH) LOCALE_MERGEDIR=$(LOCALE_MERGEDIR) $(subst calendar-,,$@)</span>
<a href="#l2.179"></a><span id="l2.179" class="difflineminus">-$(MAKE) -C $(GDATA_PATH) LOCALE_MERGEDIR=$(LOCALE_MERGEDIR) $(subst calendar-,,$@)</span>
<a href="#l2.180"></a><span id="l2.180" class="difflineplus">+$(MAKE) -C $(LIGHTNING_PATH) $(subst calendar-,,$@) AB_CD=$(AB_CD)</span>
<a href="#l2.181"></a><span id="l2.181" class="difflineplus">+$(MAKE) -C $(GDATA_PATH) $(subst calendar-,,$@) AB_CD=$(AB_CD)</span>
<a href="#l2.182"></a><span id="l2.182"> endef</span>
<a href="#l2.183"></a><span id="l2.183"> </span>
<a href="#l2.184"></a><span id="l2.184"> sm-wget-en-US:</span>
<a href="#l2.185"></a><span id="l2.185"> 	 $(NSINSTALL) -D $(ABS_DIST)/$(PKG_PATH)</span>
<a href="#l2.186"></a><span id="l2.186"> 	(cd $(ABS_DIST)/$(PKG_PATH) &amp;&amp; $(WGET) --no-cache -nv --no-iri -N  '$(EN_US_BINARY_URL)/$(PACKAGE)')</span>
<a href="#l2.187"></a><span id="l2.187"> 	@echo 'Downloaded $(EN_US_BINARY_URL)/$(PACKAGE) to $(ABS_DIST)/$(PKG_PATH)/$(PACKAGE)'</span>
<a href="#l2.188"></a><span id="l2.188"> ifdef RETRIEVE_WINDOWS_INSTALLER</span>
<a href="#l2.189"></a><span id="l2.189"> ifeq ($(OS_ARCH), WINNT)</span>
<a href="#l2.190"></a><span id="l2.190" class="difflineat">@@ -231,22 +244,22 @@ ifeq ($(OS_ARCH), WINNT)</span>
<a href="#l2.191"></a><span id="l2.191"> 	(cd $(ABS_DIST)/$(PKG_INST_PATH) &amp;&amp; $(WGET) --no-cache -nv --no-iri -N '$(EN_US_BINARY_URL)/$(PKG_PATH)$(PKG_INST_BASENAME).exe')</span>
<a href="#l2.192"></a><span id="l2.192"> 	@echo 'Downloaded $(EN_US_BINARY_URL)/$(PKG_PATH)$(PKG_INST_BASENAME).exe to $(ABS_DIST)/$(PKG_INST_PATH)$(PKG_INST_BASENAME).exe'</span>
<a href="#l2.193"></a><span id="l2.193"> endif</span>
<a href="#l2.194"></a><span id="l2.194"> endif</span>
<a href="#l2.195"></a><span id="l2.195"> </span>
<a href="#l2.196"></a><span id="l2.196"> # Add calendar targets for pattern rules. Unfortunately multiple pattern rules</span>
<a href="#l2.197"></a><span id="l2.197"> # on the left hand side do something different with make, therefore we need to</span>
<a href="#l2.198"></a><span id="l2.198"> # write a line for each target.</span>
<a href="#l2.199"></a><span id="l2.199" class="difflineminus">-calendar-merge-%:</span>
<a href="#l2.200"></a><span id="l2.200" class="difflineminus">-	$(run-calendar-rule)</span>
<a href="#l2.201"></a><span id="l2.201"> calendar-clobber-%:</span>
<a href="#l2.202"></a><span id="l2.202"> 	$(run-calendar-rule)</span>
<a href="#l2.203"></a><span id="l2.203" class="difflineplus">+calendar-langpack-%: AB_CD=$*</span>
<a href="#l2.204"></a><span id="l2.204"> calendar-langpack-%:</span>
<a href="#l2.205"></a><span id="l2.205"> 	$(run-calendar-rule)</span>
<a href="#l2.206"></a><span id="l2.206" class="difflineplus">+calendar-repackage-zip-%: AB_CD=$*</span>
<a href="#l2.207"></a><span id="l2.207"> calendar-repackage-zip-%:</span>
<a href="#l2.208"></a><span id="l2.208"> 	$(run-calendar-rule)</span>
<a href="#l2.209"></a><span id="l2.209"> calendar-wget-en-US: sm-wget-en-US</span>
<a href="#l2.210"></a><span id="l2.210"> 	$(run-calendar-rule)</span>
<a href="#l2.211"></a><span id="l2.211"> calendar-unpack:</span>
<a href="#l2.212"></a><span id="l2.212"> 	$(run-calendar-rule)</span>
<a href="#l2.213"></a><span id="l2.213"> calendar-upload:</span>
<a href="#l2.214"></a><span id="l2.214"> 	$(MAKE) -C $(LIGHTNING_PATH) upload AB_CD=$(AB_CD)</span>
<a href="#l2.215"></a><span id="l2.215" class="difflineat">@@ -259,17 +272,17 @@ MOZ_PKG_EXTRAL10N += distribution/extens</span>
<a href="#l2.216"></a><span id="l2.216"> endif</span>
<a href="#l2.217"></a><span id="l2.217"> </span>
<a href="#l2.218"></a><span id="l2.218"> # Hook calendar targets to the mail non-pattern rules</span>
<a href="#l2.219"></a><span id="l2.219"> wget-en-US: calendar-wget-en-US</span>
<a href="#l2.220"></a><span id="l2.220"> unpack: calendar-unpack</span>
<a href="#l2.221"></a><span id="l2.221"> upload: calendar-upload</span>
<a href="#l2.222"></a><span id="l2.222"> </span>
<a href="#l2.223"></a><span id="l2.223"> # Hook into the pattern rules, this will be used later on in the installers-% target.</span>
<a href="#l2.224"></a><span id="l2.224" class="difflineminus">-CALENDAR_INSTALLERS_TARGETS = calendar-merge-% calendar-clobber-% calendar-langpack-% calendar-repackage-zip-%</span>
<a href="#l2.225"></a><span id="l2.225" class="difflineplus">+CALENDAR_INSTALLERS_TARGETS = calendar-clobber-% calendar-langpack-% calendar-repackage-zip-%</span>
<a href="#l2.226"></a><span id="l2.226"> endif</span>
<a href="#l2.227"></a><span id="l2.227"> </span>
<a href="#l2.228"></a><span id="l2.228"> # This is a generic target that will make a langpack, repack ZIP (+tarball)</span>
<a href="#l2.229"></a><span id="l2.229"> # builds, and repack and installer if applicable. It is called from the</span>
<a href="#l2.230"></a><span id="l2.230"> # tinderbox scripts. Alter it with caution.</span>
<a href="#l2.231"></a><span id="l2.231" class="difflineminus">-INSTALLERS_TARGETS = clobber-% $(CALENDAR_INSTALLERS_TARGETS) langpack-% repackage-win32-installer-% repackage-zip-%</span>
<a href="#l2.232"></a><span id="l2.232" class="difflineminus">-installers-%: $(INSTALLERS_TARGETS)</span>
<a href="#l2.233"></a><span id="l2.233" class="difflineplus">+installers-%: IS_LANGUAGE_REPACK=1</span>
<a href="#l2.234"></a><span id="l2.234" class="difflineplus">+installers-%: clobber-% $(CALENDAR_INSTALLERS_TARGETS) langpack-% repackage-win32-installer-% repackage-zip-%</span>
<a href="#l2.235"></a><span id="l2.235"> 	@echo 'repackaging done'</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/locales/filter.py</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/locales/filter.py</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l3.4"></a><span id="l3.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.5"></a><span id="l3.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.6"></a><span id="l3.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> def test(mod, path, entity=None):</span>
<a href="#l3.9"></a><span id="l3.9">   import re</span>
<a href="#l3.10"></a><span id="l3.10">   # ignore anything but SeaMonkey</span>
<a href="#l3.11"></a><span id="l3.11">   if mod not in (&quot;netwerk&quot;, &quot;dom&quot;, &quot;toolkit&quot;, &quot;security/manager&quot;,</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-                 &quot;devtools/shared&quot;, &quot;devtools/client&quot;,</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+                 &quot;devtools/client&quot;, &quot;devtools/shared&quot;, &quot;devtools/shim&quot;,</span>
<a href="#l3.14"></a><span id="l3.14">                  &quot;editor/ui&quot;, &quot;suite&quot;, &quot;services/sync&quot;):</span>
<a href="#l3.15"></a><span id="l3.15">     return &quot;ignore&quot;</span>
<a href="#l3.16"></a><span id="l3.16">   # ignore temporary files, hiden files and files from rejects</span>
<a href="#l3.17"></a><span id="l3.17">   if (re.match(r&quot;.*?\/[.#].+&quot;, path) or</span>
<a href="#l3.18"></a><span id="l3.18">       re.match(r&quot;.*~$&quot;, path) or</span>
<a href="#l3.19"></a><span id="l3.19">       re.match(r&quot;.+\.(orig|rej)&quot;, path)):</span>
<a href="#l3.20"></a><span id="l3.20">     return &quot;ignore&quot;</span>
<a href="#l3.21"></a><span id="l3.21">   if mod not in (&quot;suite&quot;):</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/locales/l10n.toml</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/locales/l10n.toml</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -9,17 +9,16 @@ locales = [</span>
<a href="#l4.4"></a><span id="l4.4">     &quot;cs&quot;,</span>
<a href="#l4.5"></a><span id="l4.5">     &quot;da&quot;,</span>
<a href="#l4.6"></a><span id="l4.6">     &quot;de&quot;,</span>
<a href="#l4.7"></a><span id="l4.7">     &quot;en-GB&quot;,</span>
<a href="#l4.8"></a><span id="l4.8">     &quot;es-AR&quot;,</span>
<a href="#l4.9"></a><span id="l4.9">     &quot;es-ES&quot;,</span>
<a href="#l4.10"></a><span id="l4.10">     &quot;fi&quot;,</span>
<a href="#l4.11"></a><span id="l4.11">     &quot;fr&quot;,</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    &quot;gl&quot;,</span>
<a href="#l4.13"></a><span id="l4.13">     &quot;hu&quot;,</span>
<a href="#l4.14"></a><span id="l4.14">     &quot;it&quot;,</span>
<a href="#l4.15"></a><span id="l4.15">     &quot;ja&quot;,</span>
<a href="#l4.16"></a><span id="l4.16">     &quot;ja-JP-mac&quot;,</span>
<a href="#l4.17"></a><span id="l4.17">     &quot;ka&quot;,</span>
<a href="#l4.18"></a><span id="l4.18">     &quot;lt&quot;,</span>
<a href="#l4.19"></a><span id="l4.19">     &quot;nb-NO&quot;,</span>
<a href="#l4.20"></a><span id="l4.20">     &quot;nl&quot;,</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineat">@@ -36,37 +35,38 @@ locales = [</span>
<a href="#l4.22"></a><span id="l4.22">     &quot;zh-CN&quot;,</span>
<a href="#l4.23"></a><span id="l4.23">     &quot;zh-TW&quot;,</span>
<a href="#l4.24"></a><span id="l4.24"> ]</span>
<a href="#l4.25"></a><span id="l4.25"> </span>
<a href="#l4.26"></a><span id="l4.26"> [env]</span>
<a href="#l4.27"></a><span id="l4.27">     l = &quot;{l10n_base}/{locale}/&quot;</span>
<a href="#l4.28"></a><span id="l4.28">     mozilla = &quot;mozilla&quot;</span>
<a href="#l4.29"></a><span id="l4.29"> </span>
<a href="#l4.30"></a><span id="l4.30" class="difflineminus">-</span>
<a href="#l4.31"></a><span id="l4.31"> [[paths]]</span>
<a href="#l4.32"></a><span id="l4.32">     reference = &quot;suite/locales/en-US/**&quot;</span>
<a href="#l4.33"></a><span id="l4.33">     l10n = &quot;{l}suite/**&quot;</span>
<a href="#l4.34"></a><span id="l4.34"> </span>
<a href="#l4.35"></a><span id="l4.35"> [[paths]]</span>
<a href="#l4.36"></a><span id="l4.36">     reference = &quot;editor/ui/locales/en-US/**&quot;</span>
<a href="#l4.37"></a><span id="l4.37">     l10n = &quot;{l}editor/ui/**&quot;</span>
<a href="#l4.38"></a><span id="l4.38"> </span>
<a href="#l4.39"></a><span id="l4.39"> [[paths]]</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineplus">+    reference = &quot;{mozilla}/devtools/shim/locales/en-US/**&quot;</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineplus">+    l10n = &quot;{l}devtools/shim/**&quot;</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineplus">+</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineplus">+[[paths]]</span>
<a href="#l4.44"></a><span id="l4.44">     reference = &quot;{mozilla}/services/sync/locales/en-US/**&quot;</span>
<a href="#l4.45"></a><span id="l4.45">     l10n = &quot;{l}services/sync/**&quot;</span>
<a href="#l4.46"></a><span id="l4.46"> </span>
<a href="#l4.47"></a><span id="l4.47" class="difflineminus">-</span>
<a href="#l4.48"></a><span id="l4.48"> [[includes]]</span>
<a href="#l4.49"></a><span id="l4.49">     path = &quot;{mozilla}/devtools/client/locales/l10n.toml&quot;</span>
<a href="#l4.50"></a><span id="l4.50"> </span>
<a href="#l4.51"></a><span id="l4.51"> [[includes]]</span>
<a href="#l4.52"></a><span id="l4.52">     path = &quot;{mozilla}/toolkit/locales/l10n.toml&quot;</span>
<a href="#l4.53"></a><span id="l4.53"> </span>
<a href="#l4.54"></a><span id="l4.54" class="difflineminus">-</span>
<a href="#l4.55"></a><span id="l4.55"> # ignore MOZ_LANGPACK_CONTRIBUTORS</span>
<a href="#l4.56"></a><span id="l4.56"> [[filters]]</span>
<a href="#l4.57"></a><span id="l4.57">     path = &quot;{l}suite/defines.inc&quot;</span>
<a href="#l4.58"></a><span id="l4.58">     key = &quot;MOZ_LANGPACK_CONTRIBUTORS&quot;</span>
<a href="#l4.59"></a><span id="l4.59">     action = &quot;ignore&quot;</span>
<a href="#l4.60"></a><span id="l4.60"> </span>
<a href="#l4.61"></a><span id="l4.61"> # defines.inc and all-l10n.js can be missing completely</span>
<a href="#l4.62"></a><span id="l4.62"> [[filters]]</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

