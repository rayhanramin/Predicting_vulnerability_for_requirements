<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 28238:8dc56944ca5a67b077a7726f55b08e208b46cc97</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 8dc56944ca5a67b077a7726f55b08e208b46cc97" />
<meta property="og:url" content="/comm-central/rev/8dc56944ca5a67b077a7726f55b08e208b46cc97" />
<meta property="og:description" content="Bug 1557504 - remove [array] use in xpidl from calICalendarACLManager.idl, calICalendarView.idl and calIDecoratedView.idl. r=pmorris" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 8dc56944ca5a67b077a7726f55b08e208b46cc97 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/8dc56944ca5a67b077a7726f55b08e208b46cc97">shortlog</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/8dc56944ca5a67b077a7726f55b08e208b46cc97">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97">files</a> |
changeset |
<a href="/comm-central/raw-rev/8dc56944ca5a67b077a7726f55b08e208b46cc97">raw</a>  | <a href="/comm-central/archive/8dc56944ca5a67b077a7726f55b08e208b46cc97.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1557504">Bug 1557504</a> - remove [array] use in xpidl from calICalendarACLManager.idl, calICalendarView.idl and calIDecoratedView.idl. r=pmorris
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#75;&#104;&#117;&#115;&#104;&#105;&#108;&#32;&#77;&#105;&#115;&#116;&#114;&#121;&#32;&#60;&#107;&#104;&#117;&#115;&#104;&#105;&#108;&#51;&#50;&#52;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 21 Nov 2019 11:04:52 +1300</td></tr>

<tr>
 <td>changeset 28238</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/8dc56944ca5a67b077a7726f55b08e208b46cc97">8dc56944ca5a67b077a7726f55b08e208b46cc97</a></td>
</tr>



<tr>
<td>parent 28237</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/a0402b8ff64e5a6f405a8a7c78b3f766964f8f88">a0402b8ff64e5a6f405a8a7c78b3f766964f8f88</a>
</td>
</tr>

<tr>
<td>child 28239</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/dd38ba65ea9896e8f757c784962d59a64b666ff2">dd38ba65ea9896e8f757c784962d59a64b666ff2</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=8dc56944ca5a67b077a7726f55b08e208b46cc97">16711</a></td></tr>
<tr><td>push user</td><td>geoff@darktrojan.net</td></tr>
<tr><td>push date</td><td class="date age">Wed, 20 Nov 2019 22:41:31 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@dd38ba65ea98 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=dd38ba65ea9896e8f757c784962d59a64b666ff2">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=dd38ba65ea9896e8f757c784962d59a64b666ff2&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=dd38ba65ea9896e8f757c784962d59a64b666ff2&newProject=comm-central&newRevision=8dc56944ca5a67b077a7726f55b08e208b46cc97&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=dd38ba65ea9896e8f757c784962d59a64b666ff2&newProject=comm-central&newRevision=8dc56944ca5a67b077a7726f55b08e208b46cc97&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=dd38ba65ea9896e8f757c784962d59a64b666ff2&newProject=comm-central&newRevision=8dc56944ca5a67b077a7726f55b08e208b46cc97&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28pmorris%29&revcount=50">pmorris</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1557504">1557504</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1557504">Bug 1557504</a> - remove [array] use in xpidl from calICalendarACLManager.idl, calICalendarView.idl and calIDecoratedView.idl. r=pmorris</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/agenda-listbox-utils.js">calendar/base/content/agenda-listbox-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/agenda-listbox-utils.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/agenda-listbox-utils.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/agenda-listbox-utils.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/agenda-listbox-utils.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/agenda-listbox-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-base-view.js">calendar/base/content/calendar-base-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-base-view.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-base-view.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-base-view.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-base-view.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-base-view.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-command-controller.js">calendar/base/content/calendar-command-controller.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-command-controller.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-command-controller.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-command-controller.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-command-controller.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-command-controller.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-editable-item.js">calendar/base/content/calendar-editable-item.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-editable-item.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-editable-item.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-editable-item.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-editable-item.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-editable-item.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-event-column.js">calendar/base/content/calendar-event-column.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-event-column.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-event-column.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-event-column.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-event-column.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-event-column.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-base-view.js">calendar/base/content/calendar-month-base-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-base-view.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-base-view.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-base-view.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-base-view.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-base-view.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-view.js">calendar/base/content/calendar-month-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-view.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-view.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-view.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-view.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-month-view.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-base-view.js">calendar/base/content/calendar-multiday-base-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-base-view.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-base-view.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-base-view.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-base-view.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-base-view.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-view.js">calendar/base/content/calendar-multiday-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-view.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-view.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-view.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-view.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-multiday-view.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-unifinder.js">calendar/base/content/calendar-unifinder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-unifinder.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-unifinder.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-unifinder.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-unifinder.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-unifinder.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views-utils.js">calendar/base/content/calendar-views-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views-utils.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views-utils.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views-utils.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views-utils.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views.js">calendar/base/content/calendar-views.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/calendar-views.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-print-dialog.js">calendar/base/content/dialogs/calendar-print-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-print-dialog.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-print-dialog.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-print-dialog.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-print-dialog.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-print-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-summary-dialog.js">calendar/base/content/dialogs/calendar-summary-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-summary-dialog.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-summary-dialog.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-summary-dialog.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-summary-dialog.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/content/dialogs/calendar-summary-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calItipUtils.jsm">calendar/base/modules/utils/calItipUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calItipUtils.jsm">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calItipUtils.jsm">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calItipUtils.jsm">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calItipUtils.jsm">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calItipUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calProviderUtils.jsm">calendar/base/modules/utils/calProviderUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calProviderUtils.jsm">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calProviderUtils.jsm">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calProviderUtils.jsm">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calProviderUtils.jsm">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/modules/utils/calProviderUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarACLManager.idl">calendar/base/public/calICalendarACLManager.idl</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarACLManager.idl">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarACLManager.idl">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarACLManager.idl">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarACLManager.idl">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarACLManager.idl">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarView.idl">calendar/base/public/calICalendarView.idl</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarView.idl">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarView.idl">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarView.idl">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarView.idl">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calICalendarView.idl">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calIDecoratedView.idl">calendar/base/public/calIDecoratedView.idl</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calIDecoratedView.idl">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calIDecoratedView.idl">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calIDecoratedView.idl">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calIDecoratedView.idl">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/public/calIDecoratedView.idl">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/src/calDefaultACLManager.js">calendar/base/src/calDefaultACLManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/src/calDefaultACLManager.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/src/calDefaultACLManager.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/src/calDefaultACLManager.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/src/calDefaultACLManager.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/base/src/calDefaultACLManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-item-iframe.js">calendar/lightning/content/lightning-item-iframe.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-item-iframe.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-item-iframe.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-item-iframe.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-item-iframe.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-item-iframe.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-utils.js">calendar/lightning/content/lightning-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-utils.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-utils.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-utils.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-utils.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/lightning-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/messenger-overlay-sidebar.xul">calendar/lightning/content/messenger-overlay-sidebar.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/messenger-overlay-sidebar.xul">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/messenger-overlay-sidebar.xul">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/messenger-overlay-sidebar.xul">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/messenger-overlay-sidebar.xul">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/lightning/content/messenger-overlay-sidebar.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/providers/caldav/calDavCalendar.js">calendar/providers/caldav/calDavCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/providers/caldav/calDavCalendar.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/providers/caldav/calDavCalendar.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/providers/caldav/calDavCalendar.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/providers/caldav/calDavCalendar.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/providers/caldav/calDavCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/resources/content/publish.js">calendar/resources/content/publish.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/resources/content/publish.js">file</a> |
<a href="/comm-central/annotate/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/resources/content/publish.js">annotate</a> |
<a href="/comm-central/diff/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/resources/content/publish.js">diff</a> |
<a href="/comm-central/comparison/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/resources/content/publish.js">comparison</a> |
<a href="/comm-central/log/8dc56944ca5a67b077a7726f55b08e208b46cc97/calendar/resources/content/publish.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/agenda-listbox-utils.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/agenda-listbox-utils.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -589,17 +589,17 @@ agendaListbox.setupContextMenu = functio</span>
<a href="#l1.4"></a><span id="l1.4">   let listItem = this.agendaListboxControl.selectedItem;</span>
<a href="#l1.5"></a><span id="l1.5">   let enabled = this.isEventListItem(listItem);</span>
<a href="#l1.6"></a><span id="l1.6">   let menuitems = popup.children;</span>
<a href="#l1.7"></a><span id="l1.7">   for (let i = 0; i &lt; menuitems.length; i++) {</span>
<a href="#l1.8"></a><span id="l1.8">     setBooleanAttribute(menuitems[i], &quot;disabled&quot;, !enabled);</span>
<a href="#l1.9"></a><span id="l1.9">   }</span>
<a href="#l1.10"></a><span id="l1.10"> </span>
<a href="#l1.11"></a><span id="l1.11">   let menu = document.getElementById(&quot;calendar-today-pane-menu-attendance-menu&quot;);</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-  setupAttendanceMenu(menu, agendaListbox.getSelectedItems({}));</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+  setupAttendanceMenu(menu, agendaListbox.getSelectedItems());</span>
<a href="#l1.14"></a><span id="l1.14"> };</span>
<a href="#l1.15"></a><span id="l1.15"> </span>
<a href="#l1.16"></a><span id="l1.16"> /**</span>
<a href="#l1.17"></a><span id="l1.17">  * Refreshes the agenda listbox. If aStart or aEnd is not passed, the agenda</span>
<a href="#l1.18"></a><span id="l1.18">  * listbox's limiting dates will be used.</span>
<a href="#l1.19"></a><span id="l1.19">  *</span>
<a href="#l1.20"></a><span id="l1.20">  * @param aStart        (optional) The start date for the item query.</span>
<a href="#l1.21"></a><span id="l1.21">  * @param aEnd          (optional) The end date for the item query.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/calendar-base-view.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/calendar-base-view.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -922,34 +922,32 @@</span>
<a href="#l2.4"></a><span id="l2.4">         dbox.setAttribute(&quot;dropbox&quot;, &quot;false&quot;);</span>
<a href="#l2.5"></a><span id="l2.5">       });</span>
<a href="#l2.6"></a><span id="l2.6">     }</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8">     setDateRange(startDate, endDate) {</span>
<a href="#l2.9"></a><span id="l2.9">       cal.navigationBar.setDateRange(startDate, endDate);</span>
<a href="#l2.10"></a><span id="l2.10">     }</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-    getSelectedItems(count) {</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-      count.value = this.mSelectedItems.length;</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+    getSelectedItems() {</span>
<a href="#l2.15"></a><span id="l2.15">       return this.mSelectedItems;</span>
<a href="#l2.16"></a><span id="l2.16">     }</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-    setSelectedItems(count, items) {</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineplus">+    setSelectedItems(items) {</span>
<a href="#l2.20"></a><span id="l2.20">       this.mSelectedItems = items.concat([]);</span>
<a href="#l2.21"></a><span id="l2.21">       return this.mSelectedItems;</span>
<a href="#l2.22"></a><span id="l2.22">     }</span>
<a href="#l2.23"></a><span id="l2.23"> </span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-    getDateList(count, dates) {</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineplus">+    getDateList() {</span>
<a href="#l2.26"></a><span id="l2.26">       const start = this.startDate.clone();</span>
<a href="#l2.27"></a><span id="l2.27">       const dateList = [];</span>
<a href="#l2.28"></a><span id="l2.28">       while (start.compare(this.endDate) &lt;= 0) {</span>
<a href="#l2.29"></a><span id="l2.29">         dateList.push(start);</span>
<a href="#l2.30"></a><span id="l2.30">         start.day++;</span>
<a href="#l2.31"></a><span id="l2.31">       }</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-      count.value = dateList.length;</span>
<a href="#l2.33"></a><span id="l2.33">       return dateList;</span>
<a href="#l2.34"></a><span id="l2.34">     }</span>
<a href="#l2.35"></a><span id="l2.35"> </span>
<a href="#l2.36"></a><span id="l2.36">     zoomIn(level) {}</span>
<a href="#l2.37"></a><span id="l2.37"> </span>
<a href="#l2.38"></a><span id="l2.38">     zoomOut(level) {}</span>
<a href="#l2.39"></a><span id="l2.39"> </span>
<a href="#l2.40"></a><span id="l2.40">     zoomReset() {}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/calendar-command-controller.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/calendar-command-controller.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -384,17 +384,17 @@ var calendarController = {</span>
<a href="#l3.4"></a><span id="l3.4"> </span>
<a href="#l3.5"></a><span id="l3.5">       case &quot;calendar_import_command&quot;:</span>
<a href="#l3.6"></a><span id="l3.6">         loadEventsFromFile();</span>
<a href="#l3.7"></a><span id="l3.7">         break;</span>
<a href="#l3.8"></a><span id="l3.8">       case &quot;calendar_export_command&quot;:</span>
<a href="#l3.9"></a><span id="l3.9">         exportEntireCalendar();</span>
<a href="#l3.10"></a><span id="l3.10">         break;</span>
<a href="#l3.11"></a><span id="l3.11">       case &quot;calendar_export_selection_command&quot;:</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-        saveEventsToFile(currentView().getSelectedItems({}));</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+        saveEventsToFile(currentView().getSelectedItems());</span>
<a href="#l3.14"></a><span id="l3.14">         break;</span>
<a href="#l3.15"></a><span id="l3.15"> </span>
<a href="#l3.16"></a><span id="l3.16">       case &quot;calendar_publish_selected_calendar_command&quot;:</span>
<a href="#l3.17"></a><span id="l3.17">         publishEntireCalendar(getSelectedCalendar());</span>
<a href="#l3.18"></a><span id="l3.18">         break;</span>
<a href="#l3.19"></a><span id="l3.19">       case &quot;calendar_publish_calendar_command&quot;:</span>
<a href="#l3.20"></a><span id="l3.20">         publishEntireCalendar();</span>
<a href="#l3.21"></a><span id="l3.21">         break;</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineat">@@ -858,17 +858,17 @@ function setupContextItemType(aEvent, aI</span>
<a href="#l3.23"></a><span id="l3.23"> /**</span>
<a href="#l3.24"></a><span id="l3.24">  * Returns the selected items, based on which mode we are currently in and what task tree is focused.</span>
<a href="#l3.25"></a><span id="l3.25">  */</span>
<a href="#l3.26"></a><span id="l3.26"> function getSelectedItems() {</span>
<a href="#l3.27"></a><span id="l3.27">   if (calendarController.todo_tasktree_focused) {</span>
<a href="#l3.28"></a><span id="l3.28">     return getSelectedTasks();</span>
<a href="#l3.29"></a><span id="l3.29">   }</span>
<a href="#l3.30"></a><span id="l3.30"> </span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-  return currentView().getSelectedItems({});</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+  return currentView().getSelectedItems();</span>
<a href="#l3.33"></a><span id="l3.33"> }</span>
<a href="#l3.34"></a><span id="l3.34"> </span>
<a href="#l3.35"></a><span id="l3.35"> /**</span>
<a href="#l3.36"></a><span id="l3.36">  * Deletes the selected items, based on which mode we are currently in and what task tree is focused</span>
<a href="#l3.37"></a><span id="l3.37">  */</span>
<a href="#l3.38"></a><span id="l3.38"> function deleteSelectedItems() {</span>
<a href="#l3.39"></a><span id="l3.39">   if (calendarController.todo_tasktree_focused) {</span>
<a href="#l3.40"></a><span id="l3.40">     deleteToDoCommand();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/calendar-editable-item.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/calendar-editable-item.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -411,17 +411,17 @@</span>
<a href="#l4.4"></a><span id="l4.4">           let pos = items.indexOf(this.mOccurrence);</span>
<a href="#l4.5"></a><span id="l4.5">           items.splice(pos, 1);</span>
<a href="#l4.6"></a><span id="l4.6">         } else {</span>
<a href="#l4.7"></a><span id="l4.7">           items.push(this.mOccurrence);</span>
<a href="#l4.8"></a><span id="l4.8">         }</span>
<a href="#l4.9"></a><span id="l4.9">       } else {</span>
<a href="#l4.10"></a><span id="l4.10">         items = [this.mOccurrence];</span>
<a href="#l4.11"></a><span id="l4.11">       }</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-      this.calendarView.setSelectedItems(items.length, items);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+      this.calendarView.setSelectedItems(items);</span>
<a href="#l4.14"></a><span id="l4.14">     }</span>
<a href="#l4.15"></a><span id="l4.15"> </span>
<a href="#l4.16"></a><span id="l4.16">     stopEditing(saveChanges) {</span>
<a href="#l4.17"></a><span id="l4.17">       if (!this.mEditing) {</span>
<a href="#l4.18"></a><span id="l4.18">         return;</span>
<a href="#l4.19"></a><span id="l4.19">       }</span>
<a href="#l4.20"></a><span id="l4.20"> </span>
<a href="#l4.21"></a><span id="l4.21">       this.mEditing = false;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/calendar-event-column.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/calendar-event-column.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -60,17 +60,17 @@</span>
<a href="#l5.4"></a><span id="l5.4">       });</span>
<a href="#l5.5"></a><span id="l5.5"> </span>
<a href="#l5.6"></a><span id="l5.6">       this.addEventListener(&quot;click&quot;, event =&gt; {</span>
<a href="#l5.7"></a><span id="l5.7">         if (event.button != 0 &amp;&amp; event.button != 2) {</span>
<a href="#l5.8"></a><span id="l5.8">           return;</span>
<a href="#l5.9"></a><span id="l5.9">         }</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11">         if (event.button == 0 &amp;&amp; !(event.ctrlKey || event.metaKey)) {</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-          this.calendarView.setSelectedItems(0, []);</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+          this.calendarView.setSelectedItems([]);</span>
<a href="#l5.14"></a><span id="l5.14">           this.focus();</span>
<a href="#l5.15"></a><span id="l5.15">         } else if (event.button == 2) {</span>
<a href="#l5.16"></a><span id="l5.16">           let newStart = this.getClickedDateTime(event);</span>
<a href="#l5.17"></a><span id="l5.17">           this.calendarView.selectedDateTime = newStart;</span>
<a href="#l5.18"></a><span id="l5.18">         }</span>
<a href="#l5.19"></a><span id="l5.19">       });</span>
<a href="#l5.20"></a><span id="l5.20"> </span>
<a href="#l5.21"></a><span id="l5.21">       // Mouse down handler, in empty event column regions.  Starts sweeping out a new event.</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineat">@@ -1302,19 +1302,19 @@</span>
<a href="#l5.23"></a><span id="l5.23"> </span>
<a href="#l5.24"></a><span id="l5.24">         // The multiday view currently exhibits a less than optimal strategy</span>
<a href="#l5.25"></a><span id="l5.25">         // in terms of item selection. items don't get automatically selected</span>
<a href="#l5.26"></a><span id="l5.26">         // when clicked and dragged, as to differentiate inline editing from</span>
<a href="#l5.27"></a><span id="l5.27">         // the act of selecting an event. but the application internal drop</span>
<a href="#l5.28"></a><span id="l5.28">         // targets will ask for selected items in order to pull the data from</span>
<a href="#l5.29"></a><span id="l5.29">         // the packets. that's why we need to make sure at least the currently</span>
<a href="#l5.30"></a><span id="l5.30">         // dragged event is contained in the set of selected items.</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineminus">-        let selectedItems = this.getSelectedItems({});</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+        let selectedItems = this.getSelectedItems();</span>
<a href="#l5.33"></a><span id="l5.33">         if (!selectedItems.some(aItem =&gt; aItem.hashId == item.hashId)) {</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineminus">-          col.calendarView.setSelectedItems(1, [event.ctrlKey ? item.parentItem : item]);</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineplus">+          col.calendarView.setSelectedItems([event.ctrlKey ? item.parentItem : item]);</span>
<a href="#l5.36"></a><span id="l5.36">         }</span>
<a href="#l5.37"></a><span id="l5.37">         invokeEventDragSession(dragState.dragOccurrence, col);</span>
<a href="#l5.38"></a><span id="l5.38">         return;</span>
<a href="#l5.39"></a><span id="l5.39">       }</span>
<a href="#l5.40"></a><span id="l5.40"> </span>
<a href="#l5.41"></a><span id="l5.41">       col.fgboxes.box.setAttribute(&quot;dragging&quot;, &quot;true&quot;);</span>
<a href="#l5.42"></a><span id="l5.42">       col.fgboxes.dragbox.setAttribute(&quot;dragging&quot;, &quot;true&quot;);</span>
<a href="#l5.43"></a><span id="l5.43">       let minutesInDay = col.mEndMin - col.mStartMin;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/calendar-month-base-view.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/calendar-month-base-view.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -211,17 +211,17 @@ var { cal } = ChromeUtils.import(&quot;resour</span>
<a href="#l6.4"></a><span id="l6.4">     }</span>
<a href="#l6.5"></a><span id="l6.5"> </span>
<a href="#l6.6"></a><span id="l6.6">     get monthgrid() {</span>
<a href="#l6.7"></a><span id="l6.7">       return this.querySelector(&quot;.monthgrid&quot;);</span>
<a href="#l6.8"></a><span id="l6.8">     }</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10">     // calICalendarView Methods</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-    setSelectedItems(count, items, suppressEvent) {</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+    setSelectedItems(items, suppressEvent) {</span>
<a href="#l6.14"></a><span id="l6.14">       if (this.mSelectedItems.length) {</span>
<a href="#l6.15"></a><span id="l6.15">         for (const item of this.mSelectedItems) {</span>
<a href="#l6.16"></a><span id="l6.16">           const oldboxes = this.findDayBoxesForItem(item);</span>
<a href="#l6.17"></a><span id="l6.17">           for (const oldbox of oldboxes) {</span>
<a href="#l6.18"></a><span id="l6.18">             oldbox.unselectItem(item);</span>
<a href="#l6.19"></a><span id="l6.19">           }</span>
<a href="#l6.20"></a><span id="l6.20">         }</span>
<a href="#l6.21"></a><span id="l6.21">       }</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineat">@@ -299,31 +299,29 @@ var { cal } = ChromeUtils.import(&quot;resour</span>
<a href="#l6.23"></a><span id="l6.23">         this.mViewEnd.compare(viewEnd) != 0 ||</span>
<a href="#l6.24"></a><span id="l6.24">         this.mViewStart.compare(viewStart) != 0 ||</span>
<a href="#l6.25"></a><span id="l6.25">         this.mToggleStatus != toggleStatus</span>
<a href="#l6.26"></a><span id="l6.26">       ) {</span>
<a href="#l6.27"></a><span id="l6.27">         this.refresh();</span>
<a href="#l6.28"></a><span id="l6.28">       }</span>
<a href="#l6.29"></a><span id="l6.29">     }</span>
<a href="#l6.30"></a><span id="l6.30"> </span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-    getDateList(count) {</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineplus">+    getDateList() {</span>
<a href="#l6.33"></a><span id="l6.33">       if (!this.mStartDate || !this.mEndDate) {</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-        count.value = 0;</span>
<a href="#l6.35"></a><span id="l6.35">         return [];</span>
<a href="#l6.36"></a><span id="l6.36">       }</span>
<a href="#l6.37"></a><span id="l6.37"> </span>
<a href="#l6.38"></a><span id="l6.38">       const results = [];</span>
<a href="#l6.39"></a><span id="l6.39">       const curDate = this.mStartDate.clone();</span>
<a href="#l6.40"></a><span id="l6.40">       curDate.isDate = true;</span>
<a href="#l6.41"></a><span id="l6.41"> </span>
<a href="#l6.42"></a><span id="l6.42">       while (curDate.compare(this.mEndDate) &lt;= 0) {</span>
<a href="#l6.43"></a><span id="l6.43">         results.push(curDate.clone());</span>
<a href="#l6.44"></a><span id="l6.44">         curDate.day += 1;</span>
<a href="#l6.45"></a><span id="l6.45">       }</span>
<a href="#l6.46"></a><span id="l6.46" class="difflineminus">-      count.value = results.length;</span>
<a href="#l6.47"></a><span id="l6.47">       return results;</span>
<a href="#l6.48"></a><span id="l6.48">     }</span>
<a href="#l6.49"></a><span id="l6.49"> </span>
<a href="#l6.50"></a><span id="l6.50">     // End calICalendarView Methods</span>
<a href="#l6.51"></a><span id="l6.51"> </span>
<a href="#l6.52"></a><span id="l6.52">     /**</span>
<a href="#l6.53"></a><span id="l6.53">      * Set an attribute on the view element, and do re-layout if needed.</span>
<a href="#l6.54"></a><span id="l6.54">      *</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineat">@@ -422,17 +420,17 @@ var { cal } = ChromeUtils.import(&quot;resour</span>
<a href="#l6.56"></a><span id="l6.56">         mainMonth = mainMonth % 12;</span>
<a href="#l6.57"></a><span id="l6.57">       }</span>
<a href="#l6.58"></a><span id="l6.58"> </span>
<a href="#l6.59"></a><span id="l6.59">       const dateBoxes = [];</span>
<a href="#l6.60"></a><span id="l6.60">       const today = this.today();</span>
<a href="#l6.61"></a><span id="l6.61"> </span>
<a href="#l6.62"></a><span id="l6.62">       // This gets set to true, telling us to collapse the rest of the rows.</span>
<a href="#l6.63"></a><span id="l6.63">       let finished = false;</span>
<a href="#l6.64"></a><span id="l6.64" class="difflineminus">-      const dateList = this.getDateList({});</span>
<a href="#l6.65"></a><span id="l6.65" class="difflineplus">+      const dateList = this.getDateList();</span>
<a href="#l6.66"></a><span id="l6.66"> </span>
<a href="#l6.67"></a><span id="l6.67">       // This allows finding the first column of dayboxes where to set the</span>
<a href="#l6.68"></a><span id="l6.68">       // week labels, taking into account whether days-off are displayed or not.</span>
<a href="#l6.69"></a><span id="l6.69">       let weekLabelColumnPos = -1;</span>
<a href="#l6.70"></a><span id="l6.70"> </span>
<a href="#l6.71"></a><span id="l6.71">       const rows = this.monthgrid.children;</span>
<a href="#l6.72"></a><span id="l6.72"> </span>
<a href="#l6.73"></a><span id="l6.73">       // Iterate through each monthgridrow and set up the day-boxes that</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/calendar-month-view.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/calendar-month-view.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -239,17 +239,17 @@</span>
<a href="#l7.4"></a><span id="l7.4">     }</span>
<a href="#l7.5"></a><span id="l7.5"> </span>
<a href="#l7.6"></a><span id="l7.6">     onClick(event) {</span>
<a href="#l7.7"></a><span id="l7.7">       if (event.button != 0) {</span>
<a href="#l7.8"></a><span id="l7.8">         return;</span>
<a href="#l7.9"></a><span id="l7.9">       }</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11">       if (!(event.ctrlKey || event.metaKey)) {</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-        this.calendarView.setSelectedItems(0, []);</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+        this.calendarView.setSelectedItems([]);</span>
<a href="#l7.14"></a><span id="l7.14">       }</span>
<a href="#l7.15"></a><span id="l7.15">     }</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17">     onWheel(event) {</span>
<a href="#l7.18"></a><span id="l7.18">       if (</span>
<a href="#l7.19"></a><span id="l7.19">         cal.view.getParentNodeOrThisByAttribute(event.originalTarget, &quot;data-label&quot;, &quot;day&quot;) == null</span>
<a href="#l7.20"></a><span id="l7.20">       ) {</span>
<a href="#l7.21"></a><span id="l7.21">         if (this.dayItems.scrollHeight &gt; this.dayItems.clientHeight) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/content/calendar-multiday-base-view.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/content/calendar-multiday-base-view.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -837,35 +837,34 @@</span>
<a href="#l8.4"></a><span id="l8.4">         this.mViewEnd.compare(viewEnd) != 0 ||</span>
<a href="#l8.5"></a><span id="l8.5">         this.mViewStart.compare(viewStart) != 0 ||</span>
<a href="#l8.6"></a><span id="l8.6">         this.mToggleStatus != toggleStatus</span>
<a href="#l8.7"></a><span id="l8.7">       ) {</span>
<a href="#l8.8"></a><span id="l8.8">         this.refresh();</span>
<a href="#l8.9"></a><span id="l8.9">       }</span>
<a href="#l8.10"></a><span id="l8.10">     }</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    getDateList(count) {</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+    getDateList() {</span>
<a href="#l8.14"></a><span id="l8.14">       const dates = [];</span>
<a href="#l8.15"></a><span id="l8.15">       if (this.mStartDate &amp;&amp; this.mEndDate) {</span>
<a href="#l8.16"></a><span id="l8.16">         const date = this.mStartDate.clone();</span>
<a href="#l8.17"></a><span id="l8.17">         while (date.compare(this.mEndDate) &lt;= 0) {</span>
<a href="#l8.18"></a><span id="l8.18">           dates.push(date.clone());</span>
<a href="#l8.19"></a><span id="l8.19">           date.day += 1;</span>
<a href="#l8.20"></a><span id="l8.20">         }</span>
<a href="#l8.21"></a><span id="l8.21">       } else if (this.mDateList) {</span>
<a href="#l8.22"></a><span id="l8.22">         for (const date of this.mDateList) {</span>
<a href="#l8.23"></a><span id="l8.23">           dates.push(date.clone());</span>
<a href="#l8.24"></a><span id="l8.24">         }</span>
<a href="#l8.25"></a><span id="l8.25">       }</span>
<a href="#l8.26"></a><span id="l8.26"> </span>
<a href="#l8.27"></a><span id="l8.27" class="difflineminus">-      count.value = dates.length;</span>
<a href="#l8.28"></a><span id="l8.28">       return dates;</span>
<a href="#l8.29"></a><span id="l8.29">     }</span>
<a href="#l8.30"></a><span id="l8.30"> </span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-    setSelectedItems(count, items, suppressEvent) {</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineplus">+    setSelectedItems(items, suppressEvent) {</span>
<a href="#l8.33"></a><span id="l8.33">       if (this.mSelectedItems) {</span>
<a href="#l8.34"></a><span id="l8.34">         for (const item of this.mSelectedItems) {</span>
<a href="#l8.35"></a><span id="l8.35">           for (const occ of this.getItemOccurrencesInView(item)) {</span>
<a href="#l8.36"></a><span id="l8.36">             const cols = this.findColumnsForItem(occ);</span>
<a href="#l8.37"></a><span id="l8.37">             for (const col of cols) {</span>
<a href="#l8.38"></a><span id="l8.38">               col.header.unselectOccurrence(occ);</span>
<a href="#l8.39"></a><span id="l8.39">               col.column.unselectOccurrence(occ);</span>
<a href="#l8.40"></a><span id="l8.40">             }</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineat">@@ -1109,17 +1108,17 @@</span>
<a href="#l8.42"></a><span id="l8.42">           computedDateList.push(workday);</span>
<a href="#l8.43"></a><span id="l8.43">         }</span>
<a href="#l8.44"></a><span id="l8.44">         startDate.day += 1;</span>
<a href="#l8.45"></a><span id="l8.45">       }</span>
<a href="#l8.46"></a><span id="l8.46">       this.mDateList = computedDateList;</span>
<a href="#l8.47"></a><span id="l8.47"> </span>
<a href="#l8.48"></a><span id="l8.48">       // Deselect the previously selected event upon switching views, otherwise those events</span>
<a href="#l8.49"></a><span id="l8.49">       // will stay selected forever, if other events are selected after changing the view.</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineminus">-      this.setSelectedItems(0, [], true);</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineplus">+      this.setSelectedItems([], true);</span>
<a href="#l8.52"></a><span id="l8.52"> </span>
<a href="#l8.53"></a><span id="l8.53">       const daybox = this.querySelector(&quot;.daybox&quot;);</span>
<a href="#l8.54"></a><span id="l8.54">       const headerdaybox = this.querySelector(&quot;.headerdaybox&quot;);</span>
<a href="#l8.55"></a><span id="l8.55"> </span>
<a href="#l8.56"></a><span id="l8.56">       const dayStartMin = this.mDayStartMin;</span>
<a href="#l8.57"></a><span id="l8.57">       const dayEndMin = this.mDayEndMin;</span>
<a href="#l8.58"></a><span id="l8.58"> </span>
<a href="#l8.59"></a><span id="l8.59">       const setUpDayEventsBox = (dayBox, date) =&gt; {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/calendar-multiday-view.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/calendar-multiday-view.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -126,17 +126,17 @@</span>
<a href="#l9.4"></a><span id="l9.4"> </span>
<a href="#l9.5"></a><span id="l9.5">     onMouseDown(event) {</span>
<a href="#l9.6"></a><span id="l9.6">       this.calendarView.selectedDay = this.mDate;</span>
<a href="#l9.7"></a><span id="l9.7">     }</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9">     onClick(event) {</span>
<a href="#l9.10"></a><span id="l9.10">       if (event.button == 0) {</span>
<a href="#l9.11"></a><span id="l9.11">         if (!(event.ctrlKey || event.metaKey)) {</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-          this.calendarView.setSelectedItems(0, []);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+          this.calendarView.setSelectedItems([]);</span>
<a href="#l9.14"></a><span id="l9.14">         }</span>
<a href="#l9.15"></a><span id="l9.15">       }</span>
<a href="#l9.16"></a><span id="l9.16">       if (event.button == 2) {</span>
<a href="#l9.17"></a><span id="l9.17">         let newStart = this.calendarView.selectedDay.clone();</span>
<a href="#l9.18"></a><span id="l9.18">         newStart.isDate = true;</span>
<a href="#l9.19"></a><span id="l9.19">         this.calendarView.selectedDateTime = newStart;</span>
<a href="#l9.20"></a><span id="l9.20">         event.stopPropagation();</span>
<a href="#l9.21"></a><span id="l9.21">       }</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineat">@@ -193,17 +193,17 @@</span>
<a href="#l9.23"></a><span id="l9.23">         }</span>
<a href="#l9.24"></a><span id="l9.24"> </span>
<a href="#l9.25"></a><span id="l9.25">         this.parentColumn.calendarView.selectedDay = this.parentColumn.mDate;</span>
<a href="#l9.26"></a><span id="l9.26">         this.mMouseX = event.screenX;</span>
<a href="#l9.27"></a><span id="l9.27">         this.mMouseY = event.screenY;</span>
<a href="#l9.28"></a><span id="l9.28"> </span>
<a href="#l9.29"></a><span id="l9.29">         let whichside = event.whichside;</span>
<a href="#l9.30"></a><span id="l9.30">         if (whichside) {</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineminus">-          this.calendarView.setSelectedItems(1, [</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+          this.calendarView.setSelectedItems([</span>
<a href="#l9.33"></a><span id="l9.33">             event.ctrlKey ? this.mOccurrence.parentItem : this.mOccurrence,</span>
<a href="#l9.34"></a><span id="l9.34">           ]);</span>
<a href="#l9.35"></a><span id="l9.35"> </span>
<a href="#l9.36"></a><span id="l9.36">           let snapIntMin =</span>
<a href="#l9.37"></a><span id="l9.37">             event.shiftKey &amp;&amp; !event.ctrlKey &amp;&amp; !event.altKey &amp;&amp; !event.metaKey ? 1 : 15;</span>
<a href="#l9.38"></a><span id="l9.38">           // Start edge resize drag</span>
<a href="#l9.39"></a><span id="l9.39">           this.parentColumn.startSweepingToModifyEvent(</span>
<a href="#l9.40"></a><span id="l9.40">             this,</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineat">@@ -392,17 +392,17 @@</span>
<a href="#l9.42"></a><span id="l9.42">     }</span>
<a href="#l9.43"></a><span id="l9.43"> </span>
<a href="#l9.44"></a><span id="l9.44">     startItemDrag() {</span>
<a href="#l9.45"></a><span id="l9.45">       if (this.editingTimer) {</span>
<a href="#l9.46"></a><span id="l9.46">         clearTimeout(this.editingTimer);</span>
<a href="#l9.47"></a><span id="l9.47">         this.editingTimer = null;</span>
<a href="#l9.48"></a><span id="l9.48">       }</span>
<a href="#l9.49"></a><span id="l9.49"> </span>
<a href="#l9.50"></a><span id="l9.50" class="difflineminus">-      this.calendarView.setSelectedItems(1, [this.mOccurrence]);</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineplus">+      this.calendarView.setSelectedItems([this.mOccurrence]);</span>
<a href="#l9.52"></a><span id="l9.52"> </span>
<a href="#l9.53"></a><span id="l9.53">       this.mEditing = false;</span>
<a href="#l9.54"></a><span id="l9.54"> </span>
<a href="#l9.55"></a><span id="l9.55">       this.parentColumn.startSweepingToModifyEvent(</span>
<a href="#l9.56"></a><span id="l9.56">         this,</span>
<a href="#l9.57"></a><span id="l9.57">         this.mOccurrence,</span>
<a href="#l9.58"></a><span id="l9.58">         &quot;middle&quot;,</span>
<a href="#l9.59"></a><span id="l9.59">         this.mMouseX,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/calendar-unifinder.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/calendar-unifinder.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -347,17 +347,17 @@ function unifinderSelect(event) {</span>
<a href="#l10.4"></a><span id="l10.4"> </span>
<a href="#l10.5"></a><span id="l10.5">   if (selectedItems.length == 1) {</span>
<a href="#l10.6"></a><span id="l10.6">     // Go to the day of the selected item in the current view.</span>
<a href="#l10.7"></a><span id="l10.7">     currentView().goToDay(selectedItems[0].startDate);</span>
<a href="#l10.8"></a><span id="l10.8">   }</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10">   // Set up the selected items in the view. Pass in true, so we don't end</span>
<a href="#l10.11"></a><span id="l10.11">   // up in a circular loop</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-  currentView().setSelectedItems(selectedItems.length, selectedItems, true);</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+  currentView().setSelectedItems(selectedItems, true);</span>
<a href="#l10.14"></a><span id="l10.14">   currentView().centerSelectedItems();</span>
<a href="#l10.15"></a><span id="l10.15">   calendarController.onSelectionChanged({ detail: selectedItems });</span>
<a href="#l10.16"></a><span id="l10.16">   document.getElementById(&quot;unifinder-search-results-tree&quot;).focus();</span>
<a href="#l10.17"></a><span id="l10.17"> }</span>
<a href="#l10.18"></a><span id="l10.18"> </span>
<a href="#l10.19"></a><span id="l10.19"> /**</span>
<a href="#l10.20"></a><span id="l10.20">  * Handler function for keypress in the unifinder.</span>
<a href="#l10.21"></a><span id="l10.21">  *</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineat">@@ -629,17 +629,17 @@ var unifinderTreeView = {</span>
<a href="#l10.23"></a><span id="l10.23">       !(&quot;getSelectedItems&quot; in currentView())</span>
<a href="#l10.24"></a><span id="l10.24">     ) {</span>
<a href="#l10.25"></a><span id="l10.25">       return;</span>
<a href="#l10.26"></a><span id="l10.26">     }</span>
<a href="#l10.27"></a><span id="l10.27"> </span>
<a href="#l10.28"></a><span id="l10.28">     this.doingSelection = true;</span>
<a href="#l10.29"></a><span id="l10.29"> </span>
<a href="#l10.30"></a><span id="l10.30">     // If no items were passed, get the selected items from the view.</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-    aItemArray = aItemArray || currentView().getSelectedItems({});</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+    aItemArray = aItemArray || currentView().getSelectedItems();</span>
<a href="#l10.33"></a><span id="l10.33"> </span>
<a href="#l10.34"></a><span id="l10.34">     calendarUpdateDeleteCommand(aItemArray);</span>
<a href="#l10.35"></a><span id="l10.35"> </span>
<a href="#l10.36"></a><span id="l10.36">     /**</span>
<a href="#l10.37"></a><span id="l10.37">      * The following is a brutal hack, caused by</span>
<a href="#l10.38"></a><span id="l10.38">      * http://lxr.mozilla.org/mozilla1.0/source/layout/xul/base/src/tree/src/nsTreeSelection.cpp#555</span>
<a href="#l10.39"></a><span id="l10.39">      * and described in bug 168211</span>
<a href="#l10.40"></a><span id="l10.40">      * http://bugzilla.mozilla.org/show_bug.cgi?id=168211</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/content/calendar-views-utils.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/content/calendar-views-utils.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -242,17 +242,17 @@ function switchToView(viewType) {</span>
<a href="#l11.4"></a><span id="l11.4">   });</span>
<a href="#l11.5"></a><span id="l11.5"> </span>
<a href="#l11.6"></a><span id="l11.6">   // Set up the labels for the view navigation</span>
<a href="#l11.7"></a><span id="l11.7">   ids = [&quot;previous-view-button&quot;, &quot;today-view-button&quot;, &quot;next-view-button&quot;];</span>
<a href="#l11.8"></a><span id="l11.8">   ids.forEach(x =&gt; setupViewNode(x, &quot;tooltiptext&quot;));</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10">   try {</span>
<a href="#l11.11"></a><span id="l11.11">     selectedDay = viewDeck.selectedPanel.selectedDay;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-    currentSelection = viewDeck.selectedPanel.getSelectedItems({});</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+    currentSelection = viewDeck.selectedPanel.getSelectedItems();</span>
<a href="#l11.14"></a><span id="l11.14">   } catch (ex) {</span>
<a href="#l11.15"></a><span id="l11.15">     // This dies if no view has even been chosen this session, but that's</span>
<a href="#l11.16"></a><span id="l11.16">     // ok because we'll just use cal.dtz.now() below.</span>
<a href="#l11.17"></a><span id="l11.17">   }</span>
<a href="#l11.18"></a><span id="l11.18"> </span>
<a href="#l11.19"></a><span id="l11.19">   if (!selectedDay) {</span>
<a href="#l11.20"></a><span id="l11.20">     selectedDay = cal.dtz.now();</span>
<a href="#l11.21"></a><span id="l11.21">   }</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineat">@@ -268,17 +268,17 @@ function switchToView(viewType) {</span>
<a href="#l11.23"></a><span id="l11.23">   let compositeCal = cal.view.getCompositeCalendar(window);</span>
<a href="#l11.24"></a><span id="l11.24">   if (view.displayCalendar != compositeCal) {</span>
<a href="#l11.25"></a><span id="l11.25">     view.displayCalendar = compositeCal;</span>
<a href="#l11.26"></a><span id="l11.26">     view.timezone = cal.dtz.defaultTimezone;</span>
<a href="#l11.27"></a><span id="l11.27">     view.controller = calendarViewController;</span>
<a href="#l11.28"></a><span id="l11.28">   }</span>
<a href="#l11.29"></a><span id="l11.29"> </span>
<a href="#l11.30"></a><span id="l11.30">   view.goToDay(selectedDay);</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-  view.setSelectedItems(currentSelection.length, currentSelection);</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+  view.setSelectedItems(currentSelection);</span>
<a href="#l11.33"></a><span id="l11.33"> </span>
<a href="#l11.34"></a><span id="l11.34">   view.onResize(view);</span>
<a href="#l11.35"></a><span id="l11.35"> }</span>
<a href="#l11.36"></a><span id="l11.36"> </span>
<a href="#l11.37"></a><span id="l11.37"> /**</span>
<a href="#l11.38"></a><span id="l11.38">  * Returns the calendar view deck XUL element.</span>
<a href="#l11.39"></a><span id="l11.39">  *</span>
<a href="#l11.40"></a><span id="l11.40">  * @return      The view-deck element.</span>
<a href="#l11.41"></a><span id="l11.41" class="difflineat">@@ -532,41 +532,41 @@ function getLastCalendarView() {</span>
<a href="#l11.42"></a><span id="l11.42">   // No deck item was selected beforehand, default to week view.</span>
<a href="#l11.43"></a><span id="l11.43">   return &quot;week&quot;;</span>
<a href="#l11.44"></a><span id="l11.44"> }</span>
<a href="#l11.45"></a><span id="l11.45"> </span>
<a href="#l11.46"></a><span id="l11.46"> /**</span>
<a href="#l11.47"></a><span id="l11.47">  * Deletes items currently selected in the view and clears selection.</span>
<a href="#l11.48"></a><span id="l11.48">  */</span>
<a href="#l11.49"></a><span id="l11.49"> function deleteSelectedEvents() {</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineminus">-  let selectedItems = currentView().getSelectedItems({});</span>
<a href="#l11.51"></a><span id="l11.51" class="difflineplus">+  let selectedItems = currentView().getSelectedItems();</span>
<a href="#l11.52"></a><span id="l11.52">   calendarViewController.deleteOccurrences(selectedItems, false, false);</span>
<a href="#l11.53"></a><span id="l11.53">   // clear selection</span>
<a href="#l11.54"></a><span id="l11.54" class="difflineminus">-  currentView().setSelectedItems(0, [], true);</span>
<a href="#l11.55"></a><span id="l11.55" class="difflineplus">+  currentView().setSelectedItems([], true);</span>
<a href="#l11.56"></a><span id="l11.56"> }</span>
<a href="#l11.57"></a><span id="l11.57"> </span>
<a href="#l11.58"></a><span id="l11.58"> /**</span>
<a href="#l11.59"></a><span id="l11.59">  * Edit the items currently selected in the view with the event dialog.</span>
<a href="#l11.60"></a><span id="l11.60">  */</span>
<a href="#l11.61"></a><span id="l11.61"> function editSelectedEvents() {</span>
<a href="#l11.62"></a><span id="l11.62" class="difflineminus">-  let selectedItems = currentView().getSelectedItems({});</span>
<a href="#l11.63"></a><span id="l11.63" class="difflineplus">+  let selectedItems = currentView().getSelectedItems();</span>
<a href="#l11.64"></a><span id="l11.64">   if (selectedItems &amp;&amp; selectedItems.length &gt;= 1) {</span>
<a href="#l11.65"></a><span id="l11.65">     modifyEventWithDialog(selectedItems[0], null, true);</span>
<a href="#l11.66"></a><span id="l11.66">   }</span>
<a href="#l11.67"></a><span id="l11.67"> }</span>
<a href="#l11.68"></a><span id="l11.68"> </span>
<a href="#l11.69"></a><span id="l11.69"> /**</span>
<a href="#l11.70"></a><span id="l11.70">  * Select all events from all calendars. Use with care.</span>
<a href="#l11.71"></a><span id="l11.71">  */</span>
<a href="#l11.72"></a><span id="l11.72"> function selectAllEvents() {</span>
<a href="#l11.73"></a><span id="l11.73">   let items = [];</span>
<a href="#l11.74"></a><span id="l11.74">   let listener = {</span>
<a href="#l11.75"></a><span id="l11.75">     QueryInterface: ChromeUtils.generateQI([Ci.calIOperationListener]),</span>
<a href="#l11.76"></a><span id="l11.76">     onOperationComplete: function(calendar, status, operationType, id, detail) {</span>
<a href="#l11.77"></a><span id="l11.77" class="difflineminus">-      currentView().setSelectedItems(items.length, items, false);</span>
<a href="#l11.78"></a><span id="l11.78" class="difflineplus">+      currentView().setSelectedItems(items, false);</span>
<a href="#l11.79"></a><span id="l11.79">     },</span>
<a href="#l11.80"></a><span id="l11.80">     onGetResult: function(calendar, status, itemType, detail, itemsArg) {</span>
<a href="#l11.81"></a><span id="l11.81">       for (let item of itemsArg) {</span>
<a href="#l11.82"></a><span id="l11.82">         items.push(item);</span>
<a href="#l11.83"></a><span id="l11.83">       }</span>
<a href="#l11.84"></a><span id="l11.84">     },</span>
<a href="#l11.85"></a><span id="l11.85">   };</span>
<a href="#l11.86"></a><span id="l11.86"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/content/calendar-views.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/content/calendar-views.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -234,17 +234,17 @@</span>
<a href="#l12.4"></a><span id="l12.4">         &quot;calendar&quot;,</span>
<a href="#l12.5"></a><span id="l12.5">         &quot;monthInYear&quot;</span>
<a href="#l12.6"></a><span id="l12.6">       );</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8">       return cal.l10n.getCalString(&quot;monthInYear&quot;, [monthName, this.rangeStartDate.year]);</span>
<a href="#l12.9"></a><span id="l12.9">     }</span>
<a href="#l12.10"></a><span id="l12.10"> </span>
<a href="#l12.11"></a><span id="l12.11">     moveView(number) {</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-      const dates = this.getDateList({});</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+      const dates = this.getDateList();</span>
<a href="#l12.14"></a><span id="l12.14">       this.displayDaysOff = !this.mWorkdaysOnly;</span>
<a href="#l12.15"></a><span id="l12.15"> </span>
<a href="#l12.16"></a><span id="l12.16">       if (number) {</span>
<a href="#l12.17"></a><span id="l12.17">         // The first few dates in this list are likely in the month</span>
<a href="#l12.18"></a><span id="l12.18">         // prior to the one actually being shown (since the month</span>
<a href="#l12.19"></a><span id="l12.19">         // probably doesn't start on a Sunday).  The 7th item must</span>
<a href="#l12.20"></a><span id="l12.20">         // be in correct month though.</span>
<a href="#l12.21"></a><span id="l12.21">         const date = dates[6].clone();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-print-dialog.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-print-dialog.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -30,17 +30,17 @@ function loadCalendarPrintDialog() {</span>
<a href="#l13.4"></a><span id="l13.4">   // set the datepickers to the currently selected dates</span>
<a href="#l13.5"></a><span id="l13.5">   let theView = getCalendarView();</span>
<a href="#l13.6"></a><span id="l13.6">   if (theView) {</span>
<a href="#l13.7"></a><span id="l13.7">     document.getElementById(&quot;start-date-picker&quot;).value = cal.dtz.dateTimeToJsDate(theView.startDay);</span>
<a href="#l13.8"></a><span id="l13.8">     document.getElementById(&quot;end-date-picker&quot;).value = cal.dtz.dateTimeToJsDate(theView.endDay);</span>
<a href="#l13.9"></a><span id="l13.9">   } else {</span>
<a href="#l13.10"></a><span id="l13.10">     document.getElementById(&quot;printCurrentViewRadio&quot;).setAttribute(&quot;disabled&quot;, true);</span>
<a href="#l13.11"></a><span id="l13.11">   }</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-  if (!theView || !theView.getSelectedItems({}).length) {</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+  if (!theView || !theView.getSelectedItems().length) {</span>
<a href="#l13.14"></a><span id="l13.14">     document.getElementById(&quot;selected&quot;).setAttribute(&quot;disabled&quot;, true);</span>
<a href="#l13.15"></a><span id="l13.15">   }</span>
<a href="#l13.16"></a><span id="l13.16">   document</span>
<a href="#l13.17"></a><span id="l13.17">     .getElementById(theView ? &quot;printCurrentViewRadio&quot; : &quot;custom-range&quot;)</span>
<a href="#l13.18"></a><span id="l13.18">     .setAttribute(&quot;selected&quot;, true);</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20">   // Get a list of formatters.</span>
<a href="#l13.21"></a><span id="l13.21">   // Walk the list, adding items to the layout menupopup.</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineat">@@ -96,17 +96,17 @@ function getPrintSettings(receiverFunc) </span>
<a href="#l13.23"></a><span id="l13.23">       settings.start = theView.startDay.clone();</span>
<a href="#l13.24"></a><span id="l13.24">       settings.end = theView.endDay.clone();</span>
<a href="#l13.25"></a><span id="l13.25">       settings.end.day += 1;</span>
<a href="#l13.26"></a><span id="l13.26">       settings.start.isDate = false;</span>
<a href="#l13.27"></a><span id="l13.27">       settings.end.isDate = false;</span>
<a href="#l13.28"></a><span id="l13.28">       break;</span>
<a href="#l13.29"></a><span id="l13.29">     }</span>
<a href="#l13.30"></a><span id="l13.30">     case &quot;selected&quot;: {</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-      let selectedItems = theView.getSelectedItems({});</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineplus">+      let selectedItems = theView.getSelectedItems();</span>
<a href="#l13.33"></a><span id="l13.33">       settings.eventList = selectedItems.filter(item =&gt; {</span>
<a href="#l13.34"></a><span id="l13.34">         if (cal.item.isEvent(item) &amp;&amp; !settings.printEvents) {</span>
<a href="#l13.35"></a><span id="l13.35">           return false;</span>
<a href="#l13.36"></a><span id="l13.36">         }</span>
<a href="#l13.37"></a><span id="l13.37">         if (cal.item.isToDo(item) &amp;&amp; !settings.printTasks) {</span>
<a href="#l13.38"></a><span id="l13.38">           return false;</span>
<a href="#l13.39"></a><span id="l13.39">         }</span>
<a href="#l13.40"></a><span id="l13.40">         return true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -314,17 +314,17 @@ document.addEventListener(&quot;dialogcancel&quot;</span>
<a href="#l14.4"></a><span id="l14.4">  *                                 in calIItipItem (like 'NONE')</span>
<a href="#l14.5"></a><span id="l14.5">  * @param {string} aPartStat - participation status; a PARTSTAT value</span>
<a href="#l14.6"></a><span id="l14.6">  */</span>
<a href="#l14.7"></a><span id="l14.7"> function reply(aResponseMode, aPartStat) {</span>
<a href="#l14.8"></a><span id="l14.8">   // Set participation status.</span>
<a href="#l14.9"></a><span id="l14.9">   if (window.attendee) {</span>
<a href="#l14.10"></a><span id="l14.10">     let aclEntry = window.calendarItem.calendar.aclEntry;</span>
<a href="#l14.11"></a><span id="l14.11">     if (aclEntry) {</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-      let userAddresses = aclEntry.getUserAddresses({});</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+      let userAddresses = aclEntry.getUserAddresses();</span>
<a href="#l14.14"></a><span id="l14.14">       if (</span>
<a href="#l14.15"></a><span id="l14.15">         userAddresses.length &gt; 0 &amp;&amp;</span>
<a href="#l14.16"></a><span id="l14.16">         !cal.email.attendeeMatchesAddresses(window.attendee, userAddresses)</span>
<a href="#l14.17"></a><span id="l14.17">       ) {</span>
<a href="#l14.18"></a><span id="l14.18">         window.attendee.setProperty(&quot;SENT-BY&quot;, &quot;mailto:&quot; + userAddresses[0]);</span>
<a href="#l14.19"></a><span id="l14.19">       }</span>
<a href="#l14.20"></a><span id="l14.20">     }</span>
<a href="#l14.21"></a><span id="l14.21">     window.attendee.participationStatus = aPartStat;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/base/modules/utils/calItipUtils.jsm</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/base/modules/utils/calItipUtils.jsm</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -819,17 +819,17 @@ var calitip = {</span>
<a href="#l15.4"></a><span id="l15.4"> </span>
<a href="#l15.5"></a><span id="l15.5">     let invitedAttendee = calitip.isInvitation(aItem) &amp;&amp; calitip.getInvitedAttendee(aItem);</span>
<a href="#l15.6"></a><span id="l15.6">     if (invitedAttendee) {</span>
<a href="#l15.7"></a><span id="l15.7">       // actually is an invitation copy, fix attendee list to send REPLY</span>
<a href="#l15.8"></a><span id="l15.8">       /* We check if the attendee id matches one of of the</span>
<a href="#l15.9"></a><span id="l15.9">        * userAddresses. If they aren't equal, it means that</span>
<a href="#l15.10"></a><span id="l15.10">        * someone is accepting invitations on behalf of an other user. */</span>
<a href="#l15.11"></a><span id="l15.11">       if (aItem.calendar.aclEntry) {</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-        let userAddresses = aItem.calendar.aclEntry.getUserAddresses({});</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+        let userAddresses = aItem.calendar.aclEntry.getUserAddresses();</span>
<a href="#l15.14"></a><span id="l15.14">         if (</span>
<a href="#l15.15"></a><span id="l15.15">           userAddresses.length &gt; 0 &amp;&amp;</span>
<a href="#l15.16"></a><span id="l15.16">           !cal.email.attendeeMatchesAddresses(invitedAttendee, userAddresses)</span>
<a href="#l15.17"></a><span id="l15.17">         ) {</span>
<a href="#l15.18"></a><span id="l15.18">           invitedAttendee = invitedAttendee.clone();</span>
<a href="#l15.19"></a><span id="l15.19">           invitedAttendee.setProperty(&quot;SENT-BY&quot;, &quot;mailto:&quot; + userAddresses[0]);</span>
<a href="#l15.20"></a><span id="l15.20">         }</span>
<a href="#l15.21"></a><span id="l15.21">       }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/base/modules/utils/calProviderUtils.jsm</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/base/modules/utils/calProviderUtils.jsm</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -719,17 +719,17 @@ var calprovider = {</span>
<a href="#l16.4"></a><span id="l16.4">         } else {</span>
<a href="#l16.5"></a><span id="l16.5">           return false;</span>
<a href="#l16.6"></a><span id="l16.6">         }</span>
<a href="#l16.7"></a><span id="l16.7">       }</span>
<a href="#l16.8"></a><span id="l16.8"> </span>
<a href="#l16.9"></a><span id="l16.9">       // We check if :</span>
<a href="#l16.10"></a><span id="l16.10">       // - the organizer of the event is NOT within the owner's identities of this calendar</span>
<a href="#l16.11"></a><span id="l16.11">       // - if the one of the owner's identities of this calendar is in the attendees</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-      let ownerIdentities = this.mACLEntry.getOwnerIdentities({});</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+      let ownerIdentities = this.mACLEntry.getOwnerIdentities();</span>
<a href="#l16.14"></a><span id="l16.14">       for (let i = 0; i &lt; ownerIdentities.length; i++) {</span>
<a href="#l16.15"></a><span id="l16.15">         let identity = &quot;mailto:&quot; + ownerIdentities[i].email.toLowerCase();</span>
<a href="#l16.16"></a><span id="l16.16">         if (org.id.toLowerCase() == identity) {</span>
<a href="#l16.17"></a><span id="l16.17">           return false;</span>
<a href="#l16.18"></a><span id="l16.18">         }</span>
<a href="#l16.19"></a><span id="l16.19"> </span>
<a href="#l16.20"></a><span id="l16.20">         if (aItem.getAttendeeById(identity) != null) {</span>
<a href="#l16.21"></a><span id="l16.21">           return true;</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineat">@@ -740,17 +740,17 @@ var calprovider = {</span>
<a href="#l16.23"></a><span id="l16.23">     }</span>
<a href="#l16.24"></a><span id="l16.24"> </span>
<a href="#l16.25"></a><span id="l16.25">     // calIAttendee getInvitedAttendee(in calIItemBase aItem);</span>
<a href="#l16.26"></a><span id="l16.26">     getInvitedAttendee(aItem) {</span>
<a href="#l16.27"></a><span id="l16.27">       let id = this.getProperty(&quot;organizerId&quot;);</span>
<a href="#l16.28"></a><span id="l16.28">       let attendee = id ? aItem.getAttendeeById(id) : null;</span>
<a href="#l16.29"></a><span id="l16.29"> </span>
<a href="#l16.30"></a><span id="l16.30">       if (!attendee &amp;&amp; this.mACLEntry &amp;&amp; this.mACLEntry.hasAccessControl) {</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineminus">-        let ownerIdentities = this.mACLEntry.getOwnerIdentities({});</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineplus">+        let ownerIdentities = this.mACLEntry.getOwnerIdentities();</span>
<a href="#l16.33"></a><span id="l16.33">         if (ownerIdentities.length &gt; 0) {</span>
<a href="#l16.34"></a><span id="l16.34">           let identity;</span>
<a href="#l16.35"></a><span id="l16.35">           for (let i = 0; !attendee &amp;&amp; i &lt; ownerIdentities.length; i++) {</span>
<a href="#l16.36"></a><span id="l16.36">             identity = &quot;mailto:&quot; + ownerIdentities[i].email.toLowerCase();</span>
<a href="#l16.37"></a><span id="l16.37">             attendee = aItem.getAttendeeById(identity);</span>
<a href="#l16.38"></a><span id="l16.38">           }</span>
<a href="#l16.39"></a><span id="l16.39">         }</span>
<a href="#l16.40"></a><span id="l16.40">       }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/base/public/calICalendarACLManager.idl</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/base/public/calICalendarACLManager.idl</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -45,27 +45,24 @@ interface calICalendarACLEntry : nsISupp</span>
<a href="#l17.4"></a><span id="l17.4">     /* Whether the user accessing the calendar can add items to it. */</span>
<a href="#l17.5"></a><span id="l17.5">     readonly attribute boolean userCanAddItems;</span>
<a href="#l17.6"></a><span id="l17.6"> </span>
<a href="#l17.7"></a><span id="l17.7">     /* Whether the user accessing the calendar can remove items from it. */</span>
<a href="#l17.8"></a><span id="l17.8">     readonly attribute boolean userCanDeleteItems;</span>
<a href="#l17.9"></a><span id="l17.9"> </span>
<a href="#l17.10"></a><span id="l17.10">     /* Returns the list of user ids matching the user accessing the</span>
<a href="#l17.11"></a><span id="l17.11">        calendar. */</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-    void getUserAddresses(out uint32_t aCount,</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineminus">-                          [array, size_is(aCount), retval] out wstring aAddresses);</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineplus">+    Array&lt;AString&gt; getUserAddresses();</span>
<a href="#l17.15"></a><span id="l17.15"> </span>
<a href="#l17.16"></a><span id="l17.16">     /* Returns the list of instantiated identities for the user accessing the</span>
<a href="#l17.17"></a><span id="l17.17">        calendar. */</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineminus">-    void getUserIdentities(out uint32_t aCount,</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineminus">-                           [array, size_is(aCount), retval] out nsIMsgIdentity aIdentities);</span>
<a href="#l17.20"></a><span id="l17.20" class="difflineplus">+    Array&lt;nsIMsgIdentity&gt; getUserIdentities();</span>
<a href="#l17.21"></a><span id="l17.21">     /* Returns the list of instantiated identities for the user representing</span>
<a href="#l17.22"></a><span id="l17.22">        the calendar owner. */</span>
<a href="#l17.23"></a><span id="l17.23" class="difflineminus">-    void getOwnerIdentities(out uint32_t aCount,</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineminus">-                            [array, size_is(aCount), retval] out nsIMsgIdentity aIdentities);</span>
<a href="#l17.25"></a><span id="l17.25" class="difflineplus">+    Array&lt;nsIMsgIdentity&gt; getOwnerIdentities();</span>
<a href="#l17.26"></a><span id="l17.26"> </span>
<a href="#l17.27"></a><span id="l17.27">     /* Helper method that forces a cleanup of any cache and a reload of the</span>
<a href="#l17.28"></a><span id="l17.28">        current entry.</span>
<a href="#l17.29"></a><span id="l17.29">        (TODO: should be made asynchronous one day) */</span>
<a href="#l17.30"></a><span id="l17.30">     void refresh();</span>
<a href="#l17.31"></a><span id="l17.31"> };</span>
<a href="#l17.32"></a><span id="l17.32"> </span>
<a href="#l17.33"></a><span id="l17.33"> [scriptable, uuid(4d0b7ced-8c57-4efa-87e7-8dd5b7481312)]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/base/public/calICalendarView.idl</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/base/public/calICalendarView.idl</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -150,39 +150,34 @@ interface calICalendarView : nsISupports</span>
<a href="#l18.4"></a><span id="l18.4">    */</span>
<a href="#l18.5"></a><span id="l18.5">   readonly attribute boolean hasDisjointDates;</span>
<a href="#l18.6"></a><span id="l18.6"> </span>
<a href="#l18.7"></a><span id="l18.7">   /**</span>
<a href="#l18.8"></a><span id="l18.8">    * Returns the list of dates being shown by this calendar.</span>
<a href="#l18.9"></a><span id="l18.9">    * If a date range is set, it will expand out the date range by</span>
<a href="#l18.10"></a><span id="l18.10">    * day and return the full set.</span>
<a href="#l18.11"></a><span id="l18.11">    */</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-  void getDateList(out unsigned long aCount, [array,size_is(aCount),retval] out calIDateTime aDates);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+  Array&lt;calIDateTime&gt; getDateList();</span>
<a href="#l18.14"></a><span id="l18.14"> </span>
<a href="#l18.15"></a><span id="l18.15">   /**</span>
<a href="#l18.16"></a><span id="l18.16">    * Get the items currently selected in this view.</span>
<a href="#l18.17"></a><span id="l18.17">    *</span>
<a href="#l18.18"></a><span id="l18.18" class="difflineminus">-   * @param aCount a variable to hold the number of items in this array</span>
<a href="#l18.19"></a><span id="l18.19" class="difflineminus">-   *</span>
<a href="#l18.20"></a><span id="l18.20">    * @return the array of items currently selected in this.</span>
<a href="#l18.21"></a><span id="l18.21">    */</span>
<a href="#l18.22"></a><span id="l18.22" class="difflineminus">-  void getSelectedItems(out unsigned long aCount,</span>
<a href="#l18.23"></a><span id="l18.23" class="difflineminus">-                        [array,size_is(aCount),retval] out calIItemBase aItems);</span>
<a href="#l18.24"></a><span id="l18.24" class="difflineplus">+  Array&lt;calIItemBase&gt; getSelectedItems();</span>
<a href="#l18.25"></a><span id="l18.25"> </span>
<a href="#l18.26"></a><span id="l18.26">    /**</span>
<a href="#l18.27"></a><span id="l18.27">     * Select an array of items in the view.  Items outside the view's current</span>
<a href="#l18.28"></a><span id="l18.28">     * display range will be ignored.</span>
<a href="#l18.29"></a><span id="l18.29">     *</span>
<a href="#l18.30"></a><span id="l18.30">     * @param aCount the number of items to select</span>
<a href="#l18.31"></a><span id="l18.31">     * @param aItems an array of items to select</span>
<a href="#l18.32"></a><span id="l18.32">     * @param aSuppressEvent if true, the 'itemselect' event will not be fired.</span>
<a href="#l18.33"></a><span id="l18.33">     */</span>
<a href="#l18.34"></a><span id="l18.34" class="difflineminus">-  void setSelectedItems(in unsigned long aCount,</span>
<a href="#l18.35"></a><span id="l18.35" class="difflineminus">-                        [array,size_is(aCount)] in calIItemBase aItems,</span>
<a href="#l18.36"></a><span id="l18.36" class="difflineminus">-                        in boolean aSuppressEvent);</span>
<a href="#l18.37"></a><span id="l18.37" class="difflineplus">+  void setSelectedItems(in Array&lt;calIItemBase&gt; aItems, [optional] in boolean aSuppressEvent);</span>
<a href="#l18.38"></a><span id="l18.38"> </span>
<a href="#l18.39"></a><span id="l18.39">   /**</span>
<a href="#l18.40"></a><span id="l18.40">    * Make as many of the selected items as possible are visible in the view.</span>
<a href="#l18.41"></a><span id="l18.41">    */</span>
<a href="#l18.42"></a><span id="l18.42">   void centerSelectedItems();</span>
<a href="#l18.43"></a><span id="l18.43"> </span>
<a href="#l18.44"></a><span id="l18.44">   /**</span>
<a href="#l18.45"></a><span id="l18.45">    * Get or set the selected day.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/base/public/calIDecoratedView.idl</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/base/public/calIDecoratedView.idl</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -74,21 +74,18 @@ interface calIDecoratedView : nsISupport</span>
<a href="#l19.4"></a><span id="l19.4">   /**</span>
<a href="#l19.5"></a><span id="l19.5">    * Whether or not completed tasks are shown in the calICalendarView</span>
<a href="#l19.6"></a><span id="l19.6">    */</span>
<a href="#l19.7"></a><span id="l19.7">   attribute boolean showCompleted;</span>
<a href="#l19.8"></a><span id="l19.8"> </span>
<a href="#l19.9"></a><span id="l19.9">   /**</span>
<a href="#l19.10"></a><span id="l19.10">    * See calICalendarView.idl for the description of these functions.</span>
<a href="#l19.11"></a><span id="l19.11">    */</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-  void getSelectedItems(out unsigned long aCount,</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineminus">-                        [array,size_is(aCount),retval] out calIItemBase aItems);</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineminus">-  void setSelectedItems(in unsigned long aCount,</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineminus">-                        [array,size_is(aCount)] in calIItemBase aItems,</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineminus">-                        in boolean aSuppressEvent);</span>
<a href="#l19.17"></a><span id="l19.17" class="difflineplus">+  Array&lt;calIItemBase&gt; getSelectedItems();</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineplus">+  void setSelectedItems(in Array&lt;calIItemBase&gt; aItems, [optional] in boolean aSuppressEvent);</span>
<a href="#l19.19"></a><span id="l19.19"> </span>
<a href="#l19.20"></a><span id="l19.20">   /**</span>
<a href="#l19.21"></a><span id="l19.21">    * The selectedDay in the embedded view.  Use the goToDay function to set a</span>
<a href="#l19.22"></a><span id="l19.22">    * particular day to be selected.</span>
<a href="#l19.23"></a><span id="l19.23">    */</span>
<a href="#l19.24"></a><span id="l19.24">   readonly attribute calIDateTime selectedDay;</span>
<a href="#l19.25"></a><span id="l19.25"> </span>
<a href="#l19.26"></a><span id="l19.26">   /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/base/src/calDefaultACLManager.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/base/src/calDefaultACLManager.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -50,40 +50,38 @@ calDefaultCalendarACLEntry.prototype = {</span>
<a href="#l20.4"></a><span id="l20.4">     return this.mACLManager;</span>
<a href="#l20.5"></a><span id="l20.5">   },</span>
<a href="#l20.6"></a><span id="l20.6"> </span>
<a href="#l20.7"></a><span id="l20.7">   hasAccessControl: false,</span>
<a href="#l20.8"></a><span id="l20.8">   userIsOwner: true,</span>
<a href="#l20.9"></a><span id="l20.9">   userCanAddItems: true,</span>
<a href="#l20.10"></a><span id="l20.10">   userCanDeleteItems: true,</span>
<a href="#l20.11"></a><span id="l20.11"> </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-  _getIdentities: function(aCount) {</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+  _getIdentities: function() {</span>
<a href="#l20.14"></a><span id="l20.14">     let identities = [];</span>
<a href="#l20.15"></a><span id="l20.15">     cal.email.iterateIdentities(id =&gt; identities.push(id));</span>
<a href="#l20.16"></a><span id="l20.16" class="difflineminus">-    aCount.value = identities.length;</span>
<a href="#l20.17"></a><span id="l20.17">     return identities;</span>
<a href="#l20.18"></a><span id="l20.18">   },</span>
<a href="#l20.19"></a><span id="l20.19"> </span>
<a href="#l20.20"></a><span id="l20.20" class="difflineminus">-  getUserAddresses: function(aCount) {</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineminus">-    let identities = this.getUserIdentities(aCount);</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineplus">+  getUserAddresses: function() {</span>
<a href="#l20.23"></a><span id="l20.23" class="difflineplus">+    let identities = this.getUserIdentities();</span>
<a href="#l20.24"></a><span id="l20.24">     let addresses = identities.map(id =&gt; id.email);</span>
<a href="#l20.25"></a><span id="l20.25">     return addresses;</span>
<a href="#l20.26"></a><span id="l20.26">   },</span>
<a href="#l20.27"></a><span id="l20.27"> </span>
<a href="#l20.28"></a><span id="l20.28" class="difflineminus">-  getUserIdentities: function(aCount) {</span>
<a href="#l20.29"></a><span id="l20.29" class="difflineplus">+  getUserIdentities: function() {</span>
<a href="#l20.30"></a><span id="l20.30">     let identity = cal.provider.getEmailIdentityOfCalendar(this.mCalendar);</span>
<a href="#l20.31"></a><span id="l20.31">     if (identity) {</span>
<a href="#l20.32"></a><span id="l20.32" class="difflineminus">-      aCount.value = 1;</span>
<a href="#l20.33"></a><span id="l20.33">       return [identity];</span>
<a href="#l20.34"></a><span id="l20.34">     } else {</span>
<a href="#l20.35"></a><span id="l20.35" class="difflineminus">-      return this._getIdentities(aCount);</span>
<a href="#l20.36"></a><span id="l20.36" class="difflineplus">+      return this._getIdentities();</span>
<a href="#l20.37"></a><span id="l20.37">     }</span>
<a href="#l20.38"></a><span id="l20.38">   },</span>
<a href="#l20.39"></a><span id="l20.39" class="difflineminus">-  getOwnerIdentities: function(aCount) {</span>
<a href="#l20.40"></a><span id="l20.40" class="difflineminus">-    return this._getIdentities(aCount);</span>
<a href="#l20.41"></a><span id="l20.41" class="difflineplus">+  getOwnerIdentities: function() {</span>
<a href="#l20.42"></a><span id="l20.42" class="difflineplus">+    return this._getIdentities();</span>
<a href="#l20.43"></a><span id="l20.43">   },</span>
<a href="#l20.44"></a><span id="l20.44"> </span>
<a href="#l20.45"></a><span id="l20.45">   refresh: function() {},</span>
<a href="#l20.46"></a><span id="l20.46"> };</span>
<a href="#l20.47"></a><span id="l20.47"> </span>
<a href="#l20.48"></a><span id="l20.48"> function calDefaultItemACLEntry(aCalendarEntry) {</span>
<a href="#l20.49"></a><span id="l20.49">   this.calendarEntry = aCalendarEntry;</span>
<a href="#l20.50"></a><span id="l20.50"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -3175,17 +3175,17 @@ function saveItem() {</span>
<a href="#l21.4"></a><span id="l21.4">     }</span>
<a href="#l21.5"></a><span id="l21.5">   }</span>
<a href="#l21.6"></a><span id="l21.6"> </span>
<a href="#l21.7"></a><span id="l21.7">   // We check if the organizerID is different from our</span>
<a href="#l21.8"></a><span id="l21.8">   // calendar-user-address-set. The organzerID is the owner of the calendar.</span>
<a href="#l21.9"></a><span id="l21.9">   // If it's different, that is because someone is acting on behalf of</span>
<a href="#l21.10"></a><span id="l21.10">   // the organizer.</span>
<a href="#l21.11"></a><span id="l21.11">   if (item.organizer &amp;&amp; item.calendar.aclEntry) {</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-    let userAddresses = item.calendar.aclEntry.getUserAddresses({});</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+    let userAddresses = item.calendar.aclEntry.getUserAddresses();</span>
<a href="#l21.14"></a><span id="l21.14">     if (</span>
<a href="#l21.15"></a><span id="l21.15">       userAddresses.length &gt; 0 &amp;&amp;</span>
<a href="#l21.16"></a><span id="l21.16">       !cal.email.attendeeMatchesAddresses(item.organizer, userAddresses)</span>
<a href="#l21.17"></a><span id="l21.17">     ) {</span>
<a href="#l21.18"></a><span id="l21.18">       let organizer = item.organizer.clone();</span>
<a href="#l21.19"></a><span id="l21.19">       organizer.setProperty(&quot;SENT-BY&quot;, &quot;mailto:&quot; + userAddresses[0]);</span>
<a href="#l21.20"></a><span id="l21.20">       item.organizer = organizer;</span>
<a href="#l21.21"></a><span id="l21.21">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/calendar/lightning/content/lightning-utils.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-utils.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -46,17 +46,17 @@ function ltnInitMailIdentitiesRow() {</span>
<a href="#l22.4"></a><span id="l22.4">   // creation wizard.</span>
<a href="#l22.5"></a><span id="l22.5">   while (menuPopup.hasChildNodes()) {</span>
<a href="#l22.6"></a><span id="l22.6">     menuPopup.lastChild.remove();</span>
<a href="#l22.7"></a><span id="l22.7">   }</span>
<a href="#l22.8"></a><span id="l22.8"> </span>
<a href="#l22.9"></a><span id="l22.9">   addMenuItem(menuPopup, cal.l10n.getLtnString(&quot;imipNoIdentity&quot;), &quot;none&quot;);</span>
<a href="#l22.10"></a><span id="l22.10">   let identities;</span>
<a href="#l22.11"></a><span id="l22.11">   if (gCalendar &amp;&amp; gCalendar.aclEntry &amp;&amp; gCalendar.aclEntry.hasAccessControl) {</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-    identities = gCalendar.aclEntry.getOwnerIdentities({});</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+    identities = gCalendar.aclEntry.getOwnerIdentities();</span>
<a href="#l22.14"></a><span id="l22.14">   } else {</span>
<a href="#l22.15"></a><span id="l22.15">     identities = MailServices.accounts.allIdentities;</span>
<a href="#l22.16"></a><span id="l22.16">   }</span>
<a href="#l22.17"></a><span id="l22.17">   for (let identity of fixIterator(identities, Ci.nsIMsgIdentity)) {</span>
<a href="#l22.18"></a><span id="l22.18">     addMenuItem(menuPopup, identity.identityName, identity.key);</span>
<a href="#l22.19"></a><span id="l22.19">   }</span>
<a href="#l22.20"></a><span id="l22.20">   try {</span>
<a href="#l22.21"></a><span id="l22.21">     let sel = gCalendar.getProperty(&quot;imip.identity&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/calendar/lightning/content/messenger-overlay-sidebar.xul</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/calendar/lightning/content/messenger-overlay-sidebar.xul</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -359,17 +359,17 @@</span>
<a href="#l23.4"></a><span id="l23.4">                   class=&quot;needs-calendar&quot;</span>
<a href="#l23.5"></a><span id="l23.5">                   label=&quot;&amp;calendar.context.properties.label;&quot;</span>
<a href="#l23.6"></a><span id="l23.6">                   accesskey=&quot;&amp;calendar.context.properties.accesskey;&quot;</span>
<a href="#l23.7"></a><span id="l23.7">                   command=&quot;calendar_edit_calendar_command&quot;/&gt;</span>
<a href="#l23.8"></a><span id="l23.8">       &lt;/menupopup&gt;</span>
<a href="#l23.9"></a><span id="l23.9"> </span>
<a href="#l23.10"></a><span id="l23.10">       &lt;!-- CALENDAR ITEM CONTEXT MENU --&gt;</span>
<a href="#l23.11"></a><span id="l23.11">       &lt;menupopup id=&quot;calendar-item-context-menu&quot;</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-                 onpopupshowing=&quot;return setupContextItemType(event, currentView().getSelectedItems({}));&quot;&gt;</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+                 onpopupshowing=&quot;return setupContextItemType(event, currentView().getSelectedItems());&quot;&gt;</span>
<a href="#l23.14"></a><span id="l23.14">         &lt;menuitem id=&quot;calendar-item-context-menu-modify-menuitem&quot;</span>
<a href="#l23.15"></a><span id="l23.15">                   label=&quot;&amp;calendar.context.modifyorviewitem.label;&quot;</span>
<a href="#l23.16"></a><span id="l23.16">                   accesskey=&quot;&amp;calendar.context.modifyorviewitem.accesskey;&quot;</span>
<a href="#l23.17"></a><span id="l23.17">                   command=&quot;calendar_modify_event_command&quot;/&gt;</span>
<a href="#l23.18"></a><span id="l23.18">         &lt;menuitem id=&quot;calendar-item-context-menu-newevent-menutitem&quot;</span>
<a href="#l23.19"></a><span id="l23.19">                   label=&quot;&amp;calendar.context.newevent.label;&quot;</span>
<a href="#l23.20"></a><span id="l23.20">                   accesskey=&quot;&amp;calendar.context.newevent.accesskey;&quot;</span>
<a href="#l23.21"></a><span id="l23.21">                   key=&quot;calendar-new-event-key&quot;</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineat">@@ -398,39 +398,39 @@</span>
<a href="#l23.23"></a><span id="l23.23">         &lt;menuseparator id=&quot;calendar-item-context-separator-cutcopypaste&quot;/&gt;</span>
<a href="#l23.24"></a><span id="l23.24">         &lt;menu id=&quot;calendar-item-context-menu-convert-menu&quot;</span>
<a href="#l23.25"></a><span id="l23.25">               label=&quot;&amp;calendar.context.convertmenu.label;&quot;</span>
<a href="#l23.26"></a><span id="l23.26">               accesskey=&quot;&amp;calendar.context.convertmenu.accesskey.calendar;&quot;&gt;</span>
<a href="#l23.27"></a><span id="l23.27">           &lt;menupopup id=&quot;calendar-item-context-menu-convert-menupopup&quot;&gt;</span>
<a href="#l23.28"></a><span id="l23.28">             &lt;menuitem id=&quot;calendar-view-context-menu-convert-message-menuitem&quot;</span>
<a href="#l23.29"></a><span id="l23.29">                       label=&quot;&amp;calendar.context.convertmenu.message.label;&quot;</span>
<a href="#l23.30"></a><span id="l23.30">                       accesskey=&quot;&amp;calendar.context.convertmenu.message.accesskey;&quot;</span>
<a href="#l23.31"></a><span id="l23.31" class="difflineminus">-                      oncommand=&quot;calendarMailButtonDNDObserver.onDropItems(currentView().getSelectedItems({}))&quot;/&gt;</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineplus">+                      oncommand=&quot;calendarMailButtonDNDObserver.onDropItems(currentView().getSelectedItems())&quot;/&gt;</span>
<a href="#l23.33"></a><span id="l23.33">             &lt;menuitem id=&quot;calendar-item-context-menu-convert-event-menuitem&quot;</span>
<a href="#l23.34"></a><span id="l23.34">                       class=&quot;todo-only&quot;</span>
<a href="#l23.35"></a><span id="l23.35">                       label=&quot;&amp;calendar.context.convertmenu.event.label;&quot;</span>
<a href="#l23.36"></a><span id="l23.36">                       accesskey=&quot;&amp;calendar.context.convertmenu.event.accesskey;&quot;</span>
<a href="#l23.37"></a><span id="l23.37" class="difflineminus">-                      oncommand=&quot;calendarCalendarButtonDNDObserver.onDropItems(currentView().getSelectedItems({}))&quot;/&gt;</span>
<a href="#l23.38"></a><span id="l23.38" class="difflineplus">+                      oncommand=&quot;calendarCalendarButtonDNDObserver.onDropItems(currentView().getSelectedItems())&quot;/&gt;</span>
<a href="#l23.39"></a><span id="l23.39">             &lt;menuitem id=&quot;calendar-item-context-menu-convert-task-menuitem&quot;</span>
<a href="#l23.40"></a><span id="l23.40">                       class=&quot;event-only&quot;</span>
<a href="#l23.41"></a><span id="l23.41">                       label=&quot;&amp;calendar.context.convertmenu.task.label;&quot;</span>
<a href="#l23.42"></a><span id="l23.42">                       accesskey=&quot;&amp;calendar.context.convertmenu.task.accesskey;&quot;</span>
<a href="#l23.43"></a><span id="l23.43" class="difflineminus">-                      oncommand=&quot;calendarTaskButtonDNDObserver.onDropItems(currentView().getSelectedItems({}))&quot;/&gt;</span>
<a href="#l23.44"></a><span id="l23.44" class="difflineplus">+                      oncommand=&quot;calendarTaskButtonDNDObserver.onDropItems(currentView().getSelectedItems())&quot;/&gt;</span>
<a href="#l23.45"></a><span id="l23.45">           &lt;/menupopup&gt;</span>
<a href="#l23.46"></a><span id="l23.46">         &lt;/menu&gt;</span>
<a href="#l23.47"></a><span id="l23.47">         &lt;menuseparator id=&quot;calendar-menuseparator-before-delete&quot;/&gt;</span>
<a href="#l23.48"></a><span id="l23.48">         &lt;!-- the label and accesskey of the following menuitem is set during runtime,</span>
<a href="#l23.49"></a><span id="l23.49">             and depends on whether the item is a task or an event --&gt;</span>
<a href="#l23.50"></a><span id="l23.50">         &lt;menuitem id=&quot;calendar-item-context-menu-delete-menuitem&quot;</span>
<a href="#l23.51"></a><span id="l23.51">                   key=&quot;calendar-delete-item-key&quot;</span>
<a href="#l23.52"></a><span id="l23.52">                   command=&quot;calendar_delete_event_command&quot;/&gt;</span>
<a href="#l23.53"></a><span id="l23.53">         &lt;menu id=&quot;calendar-item-context-menu-attendance-menu&quot;</span>
<a href="#l23.54"></a><span id="l23.54">               label=&quot;&amp;calendar.context.attendance.menu.label;&quot;</span>
<a href="#l23.55"></a><span id="l23.55">               accesskey=&quot;&amp;calendar.context.attendance.menu.accesskey;&quot;</span>
<a href="#l23.56"></a><span id="l23.56" class="difflineminus">-              oncommand=&quot;setContextPartstat(event.target, currentView().getSelectedItems({}))&quot;</span>
<a href="#l23.57"></a><span id="l23.57" class="difflineplus">+              oncommand=&quot;setContextPartstat(event.target, currentView().getSelectedItems())&quot;</span>
<a href="#l23.58"></a><span id="l23.58">               observes=&quot;calendar_attendance_command&quot;&gt;</span>
<a href="#l23.59"></a><span id="l23.59">           &lt;menupopup id=&quot;calendar-item-context-menu-attendance-menupopup&quot;&gt;</span>
<a href="#l23.60"></a><span id="l23.60">             &lt;label id=&quot;calendar-item-context-attendance-thisoccurrence-label&quot;</span>
<a href="#l23.61"></a><span id="l23.61">                   class=&quot;calendar-context-heading-label&quot;</span>
<a href="#l23.62"></a><span id="l23.62">                   scope=&quot;this-occurrence&quot;</span>
<a href="#l23.63"></a><span id="l23.63">                   value=&quot;&amp;calendar.context.attendance.occurrence.label;&quot;/&gt;</span>
<a href="#l23.64"></a><span id="l23.64">             &lt;menu id=&quot;calendar-item-context-menu-attendance-accepted-menu&quot;</span>
<a href="#l23.65"></a><span id="l23.65">                   label=&quot;&amp;calendar.context.attendance.occ.accepted.label;&quot;</span>
<a href="#l23.66"></a><span id="l23.66" class="difflineat">@@ -1866,17 +1866,17 @@</span>
<a href="#l23.67"></a><span id="l23.67">                 &lt;menuseparator id=&quot;calendar-today-pane-menuseparator-before-delete&quot;/&gt;</span>
<a href="#l23.68"></a><span id="l23.68">                 &lt;menuitem label=&quot;&amp;calendar.context.deleteevent.label;&quot;</span>
<a href="#l23.69"></a><span id="l23.69">                           accesskey=&quot;&amp;calendar.context.deleteevent.accesskey;&quot;</span>
<a href="#l23.70"></a><span id="l23.70">                           key=&quot;calendar-delete-item-key&quot;</span>
<a href="#l23.71"></a><span id="l23.71">                           command=&quot;agenda_delete_event_command&quot;/&gt;</span>
<a href="#l23.72"></a><span id="l23.72">                 &lt;menu id=&quot;calendar-today-pane-menu-attendance-menu&quot;</span>
<a href="#l23.73"></a><span id="l23.73">                       label=&quot;&amp;calendar.context.attendance.menu.label;&quot;</span>
<a href="#l23.74"></a><span id="l23.74">                       accesskey=&quot;&amp;calendar.context.attendance.menu.accesskey;&quot;</span>
<a href="#l23.75"></a><span id="l23.75" class="difflineminus">-                      oncommand=&quot;setContextPartstat(event.target, agendaListbox.getSelectedItems({}))&quot;</span>
<a href="#l23.76"></a><span id="l23.76" class="difflineplus">+                      oncommand=&quot;setContextPartstat(event.target, agendaListbox.getSelectedItems())&quot;</span>
<a href="#l23.77"></a><span id="l23.77">                       observes=&quot;calendar_attendance_command&quot;&gt;</span>
<a href="#l23.78"></a><span id="l23.78">                   &lt;menupopup id=&quot;agenda-context-menu-attendance-menupopup&quot;&gt;</span>
<a href="#l23.79"></a><span id="l23.79">                     &lt;label id=&quot;agenda-context-attendance-thisoccurrence-label&quot;</span>
<a href="#l23.80"></a><span id="l23.80">                            class=&quot;calendar-context-heading-label&quot;</span>
<a href="#l23.81"></a><span id="l23.81">                            scope=&quot;this-occurrence&quot;</span>
<a href="#l23.82"></a><span id="l23.82">                            value=&quot;&amp;calendar.context.attendance.occurrence.label;&quot;/&gt;</span>
<a href="#l23.83"></a><span id="l23.83">                     &lt;menu id=&quot;agenda-context-menu-attendance-accepted-menu&quot;</span>
<a href="#l23.84"></a><span id="l23.84">                           label=&quot;&amp;calendar.context.attendance.occ.accepted.label;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -1366,17 +1366,17 @@ calDavCalendar.prototype = {</span>
<a href="#l24.4"></a><span id="l24.4"> </span>
<a href="#l24.5"></a><span id="l24.5">   fillACLProperties: function() {</span>
<a href="#l24.6"></a><span id="l24.6">     let orgId = this.calendarUserAddress;</span>
<a href="#l24.7"></a><span id="l24.7">     if (orgId) {</span>
<a href="#l24.8"></a><span id="l24.8">       this.mACLProperties.organizerId = orgId;</span>
<a href="#l24.9"></a><span id="l24.9">     }</span>
<a href="#l24.10"></a><span id="l24.10"> </span>
<a href="#l24.11"></a><span id="l24.11">     if (this.mACLEntry &amp;&amp; this.mACLEntry.hasAccessControl) {</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-      let ownerIdentities = this.mACLEntry.getOwnerIdentities({});</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+      let ownerIdentities = this.mACLEntry.getOwnerIdentities();</span>
<a href="#l24.14"></a><span id="l24.14">       if (ownerIdentities.length &gt; 0) {</span>
<a href="#l24.15"></a><span id="l24.15">         let identity = ownerIdentities[0];</span>
<a href="#l24.16"></a><span id="l24.16">         this.mACLProperties.organizerId = identity.email;</span>
<a href="#l24.17"></a><span id="l24.17">         this.mACLProperties.organizerCN = identity.fullName;</span>
<a href="#l24.18"></a><span id="l24.18">         this.mACLProperties[&quot;imip.identity&quot;] = identity;</span>
<a href="#l24.19"></a><span id="l24.19">       }</span>
<a href="#l24.20"></a><span id="l24.20">     }</span>
<a href="#l24.21"></a><span id="l24.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/calendar/resources/content/publish.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/calendar/resources/content/publish.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -30,17 +30,17 @@ function publishCalendarData() {</span>
<a href="#l25.4"></a><span id="l25.4"> </span>
<a href="#l25.5"></a><span id="l25.5"> /**</span>
<a href="#l25.6"></a><span id="l25.6">  * publishCalendarDataDialogResponse</span>
<a href="#l25.7"></a><span id="l25.7">  * Callback method for publishCalendarData() that is called when the user</span>
<a href="#l25.8"></a><span id="l25.8">  * presses the OK button in the publish dialog.</span>
<a href="#l25.9"></a><span id="l25.9">  */</span>
<a href="#l25.10"></a><span id="l25.10"> function publishCalendarDataDialogResponse(CalendarPublishObject, aProgressDialog) {</span>
<a href="#l25.11"></a><span id="l25.11">   publishItemArray(</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-    currentView().getSelectedItems({}),</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+    currentView().getSelectedItems(),</span>
<a href="#l25.14"></a><span id="l25.14">     CalendarPublishObject.remotePath,</span>
<a href="#l25.15"></a><span id="l25.15">     aProgressDialog</span>
<a href="#l25.16"></a><span id="l25.16">   );</span>
<a href="#l25.17"></a><span id="l25.17"> }</span>
<a href="#l25.18"></a><span id="l25.18"> </span>
<a href="#l25.19"></a><span id="l25.19"> /**</span>
<a href="#l25.20"></a><span id="l25.20">  * publishEntireCalendar</span>
<a href="#l25.21"></a><span id="l25.21">  * Show publish dialog, ask for URL and publish all items from the calendar.</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:32Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

