<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 20089:69ec77254bf412f0fe236c10f2eb3919a62f9b9d</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 69ec77254bf412f0fe236c10f2eb3919a62f9b9d" />
<meta property="og:url" content="/comm-central/rev/69ec77254bf412f0fe236c10f2eb3919a62f9b9d" />
<meta property="og:description" content="Bug 1280898 - Set up eslint for calendar files - enable quote-props rule. r=MakeMyDay" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 69ec77254bf412f0fe236c10f2eb3919a62f9b9d 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/69ec77254bf412f0fe236c10f2eb3919a62f9b9d">shortlog</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/69ec77254bf412f0fe236c10f2eb3919a62f9b9d">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d">files</a> |
changeset |
<a href="/comm-central/raw-rev/69ec77254bf412f0fe236c10f2eb3919a62f9b9d">raw</a>  | <a href="/comm-central/archive/69ec77254bf412f0fe236c10f2eb3919a62f9b9d.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">Bug 1280898</a> - Set up eslint for calendar files - enable quote-props rule. r=MakeMyDay
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#101;&#115;&#108;&#105;&#110;&#116;&#32;&#60;&#101;&#115;&#108;&#105;&#110;&#116;&#64;&#98;&#117;&#103;&#122;&#105;&#108;&#108;&#97;&#46;&#107;&#101;&#119;&#105;&#115;&#46;&#99;&#104;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 08 Jul 2016 14:11:07 +0200</td></tr>

<tr>
 <td>changeset 20089</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/69ec77254bf412f0fe236c10f2eb3919a62f9b9d">69ec77254bf412f0fe236c10f2eb3919a62f9b9d</a></td>
</tr>



<tr>
<td>parent 20088</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/b5c1c8200552235f35285203c24784399dc993d8">b5c1c8200552235f35285203c24784399dc993d8</a>
</td>
</tr>

<tr>
<td>child 20090</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/b4abc816a8b41145788c6c8a01b0a7f8a3fe02b4">b4abc816a8b41145788c6c8a01b0a7f8a3fe02b4</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=69ec77254bf412f0fe236c10f2eb3919a62f9b9d">12311</a></td></tr>
<tr><td>push user</td><td>mozilla@kewis.ch</td></tr>
<tr><td>push date</td><td class="date age">Sat, 17 Sep 2016 23:37:54 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@0f9a99fba7f3 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0f9a99fba7f36da451ca1ccdf13dc9bb66880e80">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0f9a99fba7f36da451ca1ccdf13dc9bb66880e80&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0f9a99fba7f36da451ca1ccdf13dc9bb66880e80&newProject=comm-central&newRevision=e6a3cd0ad1e007cea30628f9cb96ba9085162329&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0f9a99fba7f36da451ca1ccdf13dc9bb66880e80&newProject=comm-central&newRevision=e6a3cd0ad1e007cea30628f9cb96ba9085162329&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0f9a99fba7f36da451ca1ccdf13dc9bb66880e80&newProject=comm-central&newRevision=e6a3cd0ad1e007cea30628f9cb96ba9085162329&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28MakeMyDay%29&revcount=50">MakeMyDay</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">1280898</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">Bug 1280898</a> - Set up eslint for calendar files - enable quote-props rule. r=MakeMyDay

MozReview-Commit-ID: C2sRXovgeiC</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/.eslintrc">calendar/.eslintrc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/.eslintrc">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/.eslintrc">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/.eslintrc">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/.eslintrc">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/.eslintrc">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-common-sets.js">calendar/base/content/calendar-common-sets.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-common-sets.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-common-sets.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-common-sets.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-common-sets.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-common-sets.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-ui-utils.js">calendar/base/content/calendar-ui-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-ui-utils.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-ui-utils.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-ui-utils.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-ui-utils.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/calendar-ui-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calEvent.js">calendar/base/src/calEvent.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calEvent.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calEvent.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calEvent.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calEvent.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calEvent.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calTodo.js">calendar/base/src/calTodo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calTodo.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calTodo.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calTodo.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calTodo.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calTodo.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calUtils.js">calendar/base/src/calUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calUtils.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calUtils.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calUtils.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calUtils.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/base/src/calUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/lightning-item-iframe.js">calendar/lightning/content/lightning-item-iframe.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/lightning-item-iframe.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/lightning-item-iframe.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/lightning-item-iframe.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/lightning-item-iframe.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/lightning-item-iframe.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/messenger-overlay-sidebar.js">calendar/lightning/content/messenger-overlay-sidebar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/messenger-overlay-sidebar.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/messenger-overlay-sidebar.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/messenger-overlay-sidebar.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/messenger-overlay-sidebar.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/lightning/content/messenger-overlay-sidebar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_alarm.js">calendar/test/unit/test_alarm.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_alarm.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_alarm.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_alarm.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_alarm.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_alarm.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_extract.js">calendar/test/unit/test_extract.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_extract.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_extract.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_extract.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_extract.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_extract.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_gdata_provider.js">calendar/test/unit/test_gdata_provider.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_gdata_provider.js">file</a> |
<a href="/comm-central/annotate/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_gdata_provider.js">annotate</a> |
<a href="/comm-central/diff/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_gdata_provider.js">diff</a> |
<a href="/comm-central/comparison/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_gdata_provider.js">comparison</a> |
<a href="/comm-central/log/69ec77254bf412f0fe236c10f2eb3919a62f9b9d/calendar/test/unit/test_gdata_provider.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/.eslintrc</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/.eslintrc</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -421,13 +421,16 @@</span>
<a href="#l1.4"></a><span id="l1.4">     &quot;no-unmodified-loop-condition&quot;: 2,</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6">     // Suggest using arrow functions as callbacks</span>
<a href="#l1.7"></a><span id="l1.7">     &quot;prefer-arrow-callback&quot;: [2, { &quot;allowNamedFunctions&quot;: true }],</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9">     // Suggest using the spread operator instead of .apply()</span>
<a href="#l1.10"></a><span id="l1.10">     &quot;prefer-spread&quot;: 2,</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+    // Quoting style for property names</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+    &quot;quote-props&quot;: [&quot;error&quot;, &quot;consistent-as-needed&quot;, { &quot;keywords&quot;: true }],</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+</span>
<a href="#l1.15"></a><span id="l1.15">     // The following rules will not be enabled currently, but are kept here for</span>
<a href="#l1.16"></a><span id="l1.16">     // easier updates in the future.</span>
<a href="#l1.17"></a><span id="l1.17">     &quot;no-else-return&quot;: 0,</span>
<a href="#l1.18"></a><span id="l1.18">   }</span>
<a href="#l1.19"></a><span id="l1.19"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/calendar-common-sets.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/calendar-common-sets.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -643,35 +643,35 @@ var calendarController = {</span>
<a href="#l2.4"></a><span id="l2.4"> /**</span>
<a href="#l2.5"></a><span id="l2.5">  * XXX This is a temporary hack so we can release 1.0b2. This will soon be</span>
<a href="#l2.6"></a><span id="l2.6">  * superceeded by a new command controller architecture.</span>
<a href="#l2.7"></a><span id="l2.7">  */</span>
<a href="#l2.8"></a><span id="l2.8"> var calendarController2 = {</span>
<a href="#l2.9"></a><span id="l2.9">     defaultController: null,</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11">     commands: {</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-        &quot;cmd_cut&quot;: true,</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-        &quot;cmd_copy&quot;: true,</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-        &quot;cmd_paste&quot;: true,</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-        &quot;cmd_undo&quot;: true,</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineminus">-        &quot;cmd_redo&quot;: true,</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-        &quot;cmd_print&quot;: true,</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-        &quot;cmd_pageSetup&quot;: true,</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineplus">+        cmd_cut: true,</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineplus">+        cmd_copy: true,</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineplus">+        cmd_paste: true,</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineplus">+        cmd_undo: true,</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineplus">+        cmd_redo: true,</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineplus">+        cmd_print: true,</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineplus">+        cmd_pageSetup: true,</span>
<a href="#l2.26"></a><span id="l2.26"> </span>
<a href="#l2.27"></a><span id="l2.27" class="difflineminus">-        &quot;cmd_printpreview&quot;: true,</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineminus">-        &quot;button_print&quot;: true,</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineminus">-        &quot;button_delete&quot;: true,</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineminus">-        &quot;cmd_delete&quot;: true,</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-        &quot;cmd_properties&quot;: true,</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-        &quot;cmd_goForward&quot;: true,</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-        &quot;cmd_goBack&quot;: true,</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-        &quot;cmd_fullZoomReduce&quot;: true,</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-        &quot;cmd_fullZoomEnlarge&quot;: true,</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-        &quot;cmd_fullZoomReset&quot;: true,</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-        &quot;cmd_showQuickFilterBar&quot;: true</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineplus">+        cmd_printpreview: true,</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineplus">+        button_print: true,</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineplus">+        button_delete: true,</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineplus">+        cmd_delete: true,</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineplus">+        cmd_properties: true,</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineplus">+        cmd_goForward: true,</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineplus">+        cmd_goBack: true,</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineplus">+        cmd_fullZoomReduce: true,</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineplus">+        cmd_fullZoomEnlarge: true,</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineplus">+        cmd_fullZoomReset: true,</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineplus">+        cmd_showQuickFilterBar: true</span>
<a href="#l2.49"></a><span id="l2.49">     },</span>
<a href="#l2.50"></a><span id="l2.50"> </span>
<a href="#l2.51"></a><span id="l2.51">     // These functions can use the same from the calendar controller for now.</span>
<a href="#l2.52"></a><span id="l2.52">     updateCommands: calendarController.updateCommands,</span>
<a href="#l2.53"></a><span id="l2.53">     supportsCommand: calendarController.supportsCommand,</span>
<a href="#l2.54"></a><span id="l2.54">     onEvent: calendarController.onEvent,</span>
<a href="#l2.55"></a><span id="l2.55"> </span>
<a href="#l2.56"></a><span id="l2.56">     isCommandEnabled: function(aCommand) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -427,20 +427,20 @@ function updateListboxDeleteButton(listb</span>
<a href="#l3.4"></a><span id="l3.4">  * @param aLength         The number to use to determine the plural form</span>
<a href="#l3.5"></a><span id="l3.5">  * @param aUnit           The unit to find the plural form of</span>
<a href="#l3.6"></a><span id="l3.6">  * @param aIncludeLength  (optional) If true, the length will be included in the</span>
<a href="#l3.7"></a><span id="l3.7">  *                          result. If false, only the pluralized unit is returned.</span>
<a href="#l3.8"></a><span id="l3.8">  * @return                A string containg the pluralized version of the unit</span>
<a href="#l3.9"></a><span id="l3.9">  */</span>
<a href="#l3.10"></a><span id="l3.10"> function unitPluralForm(aLength, aUnit, aIncludeLength=true) {</span>
<a href="#l3.11"></a><span id="l3.11">     let unitProp = {</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-        &quot;minutes&quot;: &quot;unitMinutes&quot;,</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-        &quot;hours&quot;: &quot;unitHours&quot;,</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-        &quot;days&quot;: &quot;unitDays&quot;,</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-        &quot;weeks&quot;: &quot;unitWeeks&quot;</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+        minutes: &quot;unitMinutes&quot;,</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+        hours: &quot;unitHours&quot;,</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineplus">+        days: &quot;unitDays&quot;,</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineplus">+        weeks: &quot;unitWeeks&quot;</span>
<a href="#l3.20"></a><span id="l3.20">     }[aUnit] || &quot;unitMinutes&quot;;</span>
<a href="#l3.21"></a><span id="l3.21"> </span>
<a href="#l3.22"></a><span id="l3.22">     return PluralForm.get(aLength, cal.calGetString(&quot;calendar&quot;, unitProp))</span>
<a href="#l3.23"></a><span id="l3.23">                      .replace(&quot;#1&quot;, aIncludeLength ? aLength : &quot;&quot;).trim();</span>
<a href="#l3.24"></a><span id="l3.24"> }</span>
<a href="#l3.25"></a><span id="l3.25"> </span>
<a href="#l3.26"></a><span id="l3.26"> /**</span>
<a href="#l3.27"></a><span id="l3.27">  * Update the given unit label to show the correct plural form.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -675,20 +675,20 @@</span>
<a href="#l4.4"></a><span id="l4.4">             let roleNameString = &quot;event.attendee.role.&quot; + (role in roleMap ? roleMap[role] : &quot;unknown&quot;);</span>
<a href="#l4.5"></a><span id="l4.5">             let tooltip = cal.calGetString(&quot;calendar-event-dialog-attendees&quot;,</span>
<a href="#l4.6"></a><span id="l4.6">                                            roleNameString,</span>
<a href="#l4.7"></a><span id="l4.7">                                            role in roleMap ? null : [role]);</span>
<a href="#l4.8"></a><span id="l4.8">             targetIcon.setAttribute(&quot;tooltiptext&quot;, tooltip);</span>
<a href="#l4.9"></a><span id="l4.9">         } else if (targetIcon.className == &quot;usertype-icon&quot;) {</span>
<a href="#l4.10"></a><span id="l4.10">             let cutype = targetIcon.getAttribute(&quot;cutype&quot;);</span>
<a href="#l4.11"></a><span id="l4.11">             const cutypeMap = {</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-                &quot;INDIVIDUAL&quot;: &quot;individual&quot;,</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-                &quot;GROUP&quot;: &quot;group&quot;,</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-                &quot;RESOURCE&quot;: &quot;resource&quot;,</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-                &quot;ROOM&quot;: &quot;room&quot;,</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+                INDIVIDUAL: &quot;individual&quot;,</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+                GROUP: &quot;group&quot;,</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineplus">+                RESOURCE: &quot;resource&quot;,</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+                ROOM: &quot;room&quot;,</span>
<a href="#l4.20"></a><span id="l4.20">                 // I've decided UNKNOWN will not be handled.</span>
<a href="#l4.21"></a><span id="l4.21">             };</span>
<a href="#l4.22"></a><span id="l4.22"> </span>
<a href="#l4.23"></a><span id="l4.23">             let cutypeString = &quot;event.attendee.usertype.&quot; + (cutype in cutypeMap ? cutypeMap[cutype] : &quot;unknown&quot;);</span>
<a href="#l4.24"></a><span id="l4.24">             let tooltip = cal.calGetString(&quot;calendar-event-dialog-attendees&quot;,</span>
<a href="#l4.25"></a><span id="l4.25">                                            cutypeString,</span>
<a href="#l4.26"></a><span id="l4.26">                                            cutype in cutypeMap ? null : [cutype]);</span>
<a href="#l4.27"></a><span id="l4.27">             targetIcon.setAttribute(&quot;tooltiptext&quot;, tooltip);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/src/calEvent.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/src/calEvent.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -7,18 +7,18 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l5.4"></a><span id="l5.4"> </span>
<a href="#l5.5"></a><span id="l5.5"> //</span>
<a href="#l5.6"></a><span id="l5.6"> // constructor</span>
<a href="#l5.7"></a><span id="l5.7"> //</span>
<a href="#l5.8"></a><span id="l5.8"> function calEvent() {</span>
<a href="#l5.9"></a><span id="l5.9">     this.initItemBase();</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11">     this.eventPromotedProps = {</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-        &quot;DTSTART&quot;: true,</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-        &quot;DTEND&quot;: true,</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+        DTSTART: true,</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+        DTEND: true,</span>
<a href="#l5.16"></a><span id="l5.16">         __proto__: this.itemBasePromotedProps</span>
<a href="#l5.17"></a><span id="l5.17">     };</span>
<a href="#l5.18"></a><span id="l5.18"> }</span>
<a href="#l5.19"></a><span id="l5.19"> var calEventClassID = Components.ID(&quot;{974339d5-ab86-4491-aaaf-2b2ca177c12b}&quot;);</span>
<a href="#l5.20"></a><span id="l5.20"> var calEventInterfaces = [</span>
<a href="#l5.21"></a><span id="l5.21">     Components.interfaces.calIItemBase,</span>
<a href="#l5.22"></a><span id="l5.22">     Components.interfaces.calIEvent,</span>
<a href="#l5.23"></a><span id="l5.23">     Components.interfaces.calIInternalShallowCopy</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/src/calTodo.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/src/calTodo.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -7,20 +7,20 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l6.4"></a><span id="l6.4"> </span>
<a href="#l6.5"></a><span id="l6.5"> //</span>
<a href="#l6.6"></a><span id="l6.6"> // constructor</span>
<a href="#l6.7"></a><span id="l6.7"> //</span>
<a href="#l6.8"></a><span id="l6.8"> function calTodo() {</span>
<a href="#l6.9"></a><span id="l6.9">     this.initItemBase();</span>
<a href="#l6.10"></a><span id="l6.10"> </span>
<a href="#l6.11"></a><span id="l6.11">     this.todoPromotedProps = {</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-        &quot;DTSTART&quot;: true,</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-        &quot;DTEND&quot;: true,</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-        &quot;DUE&quot;: true,</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineminus">-        &quot;COMPLETED&quot;: true,</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+        DTSTART: true,</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineplus">+        DTEND: true,</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+        DUE: true,</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineplus">+        COMPLETED: true,</span>
<a href="#l6.20"></a><span id="l6.20">         __proto__: this.itemBasePromotedProps</span>
<a href="#l6.21"></a><span id="l6.21">     };</span>
<a href="#l6.22"></a><span id="l6.22"> }</span>
<a href="#l6.23"></a><span id="l6.23"> </span>
<a href="#l6.24"></a><span id="l6.24"> var calTodoClassID = Components.ID(&quot;{7af51168-6abe-4a31-984d-6f8a3989212d}&quot;);</span>
<a href="#l6.25"></a><span id="l6.25"> var calTodoInterfaces = [</span>
<a href="#l6.26"></a><span id="l6.26">     Components.interfaces.calIItemBase,</span>
<a href="#l6.27"></a><span id="l6.27">     Components.interfaces.calITodo,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/src/calUtils.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/src/calUtils.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1697,17 +1697,17 @@ function calIterateEmailIdentities(func)</span>
<a href="#l7.4"></a><span id="l7.4">  * @return                  True, if items match.</span>
<a href="#l7.5"></a><span id="l7.5">  */</span>
<a href="#l7.6"></a><span id="l7.6"> function compareItemContent(aFirstItem, aSecondItem, aIgnoreProps, aIgnoreParams) {</span>
<a href="#l7.7"></a><span id="l7.7">     let ignoreProps = arr2hash(aIgnoreProps ||</span>
<a href="#l7.8"></a><span id="l7.8">         [&quot;X-MOZ-GENERATION&quot;, &quot;SEQUENCE&quot;, &quot;DTSTAMP&quot;,</span>
<a href="#l7.9"></a><span id="l7.9">          &quot;LAST-MODIFIED&quot;, &quot;X-MOZ-SEND-INVITATIONS&quot;]);</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11">     let ignoreParams = aIgnoreParams ||</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-        { &quot;ATTENDEE&quot;: [&quot;CN&quot;], &quot;ORGANIZER&quot;: [&quot;CN&quot;] };</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+        { ATTENDEE: [&quot;CN&quot;], ORGANIZER: [&quot;CN&quot;] };</span>
<a href="#l7.14"></a><span id="l7.14">     for (let x in ignoreParams) {</span>
<a href="#l7.15"></a><span id="l7.15">         ignoreParams[x] = arr2hash(ignoreParams[x]);</span>
<a href="#l7.16"></a><span id="l7.16">     }</span>
<a href="#l7.17"></a><span id="l7.17"> </span>
<a href="#l7.18"></a><span id="l7.18">     function arr2hash(arr) {</span>
<a href="#l7.19"></a><span id="l7.19">         let hash = {};</span>
<a href="#l7.20"></a><span id="l7.20">         for (let x of arr) {</span>
<a href="#l7.21"></a><span id="l7.21">             hash[x] = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -2365,18 +2365,18 @@ function attachmentClick(aEvent) {</span>
<a href="#l8.4"></a><span id="l8.4">  * @param aButtonset   (optional) array of button descriptions to appear on the notification</span>
<a href="#l8.5"></a><span id="l8.5">  * @param aCallback    (optional) a function to handle events from the notificationBox</span>
<a href="#l8.6"></a><span id="l8.6">  */</span>
<a href="#l8.7"></a><span id="l8.7"> function notifyUser(aMessage, aValue, aPriority, aImage, aButtonset, aCallback) {</span>
<a href="#l8.8"></a><span id="l8.8">     let notificationBox = document.getElementById(&quot;event-dialog-notifications&quot;);</span>
<a href="#l8.9"></a><span id="l8.9">     // only append, if the notification does not already exist</span>
<a href="#l8.10"></a><span id="l8.10">     if (notificationBox.getNotificationWithValue(aValue) == null) {</span>
<a href="#l8.11"></a><span id="l8.11">         const prioMap = {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-            &quot;info&quot;: notificationBox.PRIORITY_INFO_MEDIUM,</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-            &quot;critical&quot;: notificationBox.PRIORITY_CRITICAL_MEDIUM</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+            info: notificationBox.PRIORITY_INFO_MEDIUM,</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+            critical: notificationBox.PRIORITY_CRITICAL_MEDIUM</span>
<a href="#l8.16"></a><span id="l8.16">         };</span>
<a href="#l8.17"></a><span id="l8.17">         let priority = prioMap[aPriority] || notificationBox.PRIORITY_WARNING_MEDIUM;</span>
<a href="#l8.18"></a><span id="l8.18">         notificationBox.appendNotification(aMessage,</span>
<a href="#l8.19"></a><span id="l8.19">                                            aValue,</span>
<a href="#l8.20"></a><span id="l8.20">                                            aImage,</span>
<a href="#l8.21"></a><span id="l8.21">                                            priority,</span>
<a href="#l8.22"></a><span id="l8.22">                                            aButtonset,</span>
<a href="#l8.23"></a><span id="l8.23">                                            aCallback);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/lightning/content/messenger-overlay-sidebar.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/lightning/content/messenger-overlay-sidebar.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -794,20 +794,20 @@ window.addEventListener(&quot;load&quot;, ltnOnLoa</span>
<a href="#l9.4"></a><span id="l9.4"> /**</span>
<a href="#l9.5"></a><span id="l9.5">  * Get the toolbox id for the current tab type.</span>
<a href="#l9.6"></a><span id="l9.6">  *</span>
<a href="#l9.7"></a><span id="l9.7">  * @return {string}  A toolbox id or null</span>
<a href="#l9.8"></a><span id="l9.8">  */</span>
<a href="#l9.9"></a><span id="l9.9"> function getToolboxIdForCurrentTabType() {</span>
<a href="#l9.10"></a><span id="l9.10">     // A mapping from calendar tab types to toolbox ids.</span>
<a href="#l9.11"></a><span id="l9.11">     const calendarToolboxIds = {</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-        &quot;calendar&quot;: &quot;calendar-toolbox&quot;,</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-        &quot;tasks&quot;: &quot;task-toolbox&quot;,</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineminus">-        &quot;calendarEvent&quot;: &quot;event-toolbox&quot;,</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineminus">-        &quot;calendarTask&quot;: &quot;event-toolbox&quot;</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+        calendar: &quot;calendar-toolbox&quot;,</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+        tasks: &quot;task-toolbox&quot;,</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+        calendarEvent: &quot;event-toolbox&quot;,</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineplus">+        calendarTask: &quot;event-toolbox&quot;</span>
<a href="#l9.20"></a><span id="l9.20">     };</span>
<a href="#l9.21"></a><span id="l9.21">     let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l9.22"></a><span id="l9.22">     let tabType = tabmail.currentTabInfo.mode.type;</span>
<a href="#l9.23"></a><span id="l9.23"> </span>
<a href="#l9.24"></a><span id="l9.24">     return calendarToolboxIds[tabType] || &quot;mail-toolbox&quot;;</span>
<a href="#l9.25"></a><span id="l9.25"> }</span>
<a href="#l9.26"></a><span id="l9.26"> </span>
<a href="#l9.27"></a><span id="l9.27"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -40,17 +40,17 @@ var data = [{</span>
<a href="#l10.4"></a><span id="l10.4">     endtime: date3,</span>
<a href="#l10.5"></a><span id="l10.5">     repeat: &quot;daily&quot;,</span>
<a href="#l10.6"></a><span id="l10.6">     reminder: 2,</span>
<a href="#l10.7"></a><span id="l10.7">     priority: &quot;high&quot;,</span>
<a href="#l10.8"></a><span id="l10.8">     privacy: &quot;private&quot;,</span>
<a href="#l10.9"></a><span id="l10.9">     status: &quot;tentative&quot;,</span>
<a href="#l10.10"></a><span id="l10.10">     freebusy: &quot;free&quot;,</span>
<a href="#l10.11"></a><span id="l10.11">     timezone: true,</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-    attachment: { delete: &quot;mozilla.org&quot; }</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+    attachment: { &quot;delete&quot;: &quot;mozilla.org&quot; }</span>
<a href="#l10.14"></a><span id="l10.14"> }];</span>
<a href="#l10.15"></a><span id="l10.15"> var newlines = [{ title: &quot;title&quot;, description: &quot;  test spaces  &quot; },</span>
<a href="#l10.16"></a><span id="l10.16">                 { title: &quot;title&quot;, description: &quot;\ntest newline\n&quot; },</span>
<a href="#l10.17"></a><span id="l10.17">                 { title: &quot;title&quot;, description: &quot;\rtest \\r\r&quot; },</span>
<a href="#l10.18"></a><span id="l10.18">                 { title: &quot;title&quot;, description: &quot;\r\ntest \\r\\n\r\n&quot; },</span>
<a href="#l10.19"></a><span id="l10.19">                 { title: &quot;title&quot;, description: &quot;\ttest \\t\t&quot; }];</span>
<a href="#l10.20"></a><span id="l10.20"> </span>
<a href="#l10.21"></a><span id="l10.21"> var setupModule = function(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/test/unit/test_alarm.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/test/unit/test_alarm.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -360,32 +360,32 @@ function test_dates() {</span>
<a href="#l11.4"></a><span id="l11.4">     if (!passed) {</span>
<a href="#l11.5"></a><span id="l11.5">         do_throw(&quot;Setting offset when alarm is absolute should not succeed&quot;);</span>
<a href="#l11.6"></a><span id="l11.6">     }</span>
<a href="#l11.7"></a><span id="l11.7"> </span>
<a href="#l11.8"></a><span id="l11.8">     dump(&quot;Done\n&quot;);</span>
<a href="#l11.9"></a><span id="l11.9"> }</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11"> var propMap = {</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-    &quot;related&quot;: Ci.calIAlarm.ALARM_RELATED_START,</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-    &quot;repeat&quot;: 1,</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineminus">-    &quot;action&quot;: &quot;X-TEST&quot;,</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-    &quot;description&quot;: &quot;description&quot;,</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineminus">-    &quot;summary&quot;: &quot;summary&quot;,</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-    &quot;offset&quot;: createDuration(&quot;PT4M&quot;),</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineminus">-    &quot;repeatOffset&quot;: createDuration(&quot;PT1M&quot;)</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineplus">+    related: Ci.calIAlarm.ALARM_RELATED_START,</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineplus">+    repeat: 1,</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineplus">+    action: &quot;X-TEST&quot;,</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+    description: &quot;description&quot;,</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+    summary: &quot;summary&quot;,</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+    offset: createDuration(&quot;PT4M&quot;),</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineplus">+    repeatOffset: createDuration(&quot;PT1M&quot;)</span>
<a href="#l11.26"></a><span id="l11.26"> };</span>
<a href="#l11.27"></a><span id="l11.27"> var clonePropMap = {</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineminus">-    &quot;related&quot;: Ci.calIAlarm.ALARM_RELATED_END,</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineminus">-    &quot;repeat&quot;: 2,</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineminus">-    &quot;action&quot;: &quot;X-CHANGED&quot;,</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-    &quot;description&quot;: &quot;description-changed&quot;,</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineminus">-    &quot;summary&quot;: &quot;summary-changed&quot;,</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineminus">-    &quot;offset&quot;: createDuration(&quot;PT5M&quot;),</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineminus">-    &quot;repeatOffset&quot;: createDuration(&quot;PT2M&quot;)</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineplus">+    related: Ci.calIAlarm.ALARM_RELATED_END,</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineplus">+    repeat: 2,</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineplus">+    action: &quot;X-CHANGED&quot;,</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineplus">+    description: &quot;description-changed&quot;,</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineplus">+    summary: &quot;summary-changed&quot;,</span>
<a href="#l11.40"></a><span id="l11.40" class="difflineplus">+    offset: createDuration(&quot;PT5M&quot;),</span>
<a href="#l11.41"></a><span id="l11.41" class="difflineplus">+    repeatOffset: createDuration(&quot;PT2M&quot;)</span>
<a href="#l11.42"></a><span id="l11.42"> };</span>
<a href="#l11.43"></a><span id="l11.43"> </span>
<a href="#l11.44"></a><span id="l11.44"> function test_immutable() {</span>
<a href="#l11.45"></a><span id="l11.45">     dump(&quot;Testing immutable alarms...&quot;);</span>
<a href="#l11.46"></a><span id="l11.46">     let alarm = cal.createAlarm();</span>
<a href="#l11.47"></a><span id="l11.47">     // Set up each attribute</span>
<a href="#l11.48"></a><span id="l11.48">     for (let prop in propMap) {</span>
<a href="#l11.49"></a><span id="l11.49">         alarm[prop] = propMap[prop];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/test/unit/test_extract.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/test/unit/test_extract.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -172,18 +172,18 @@ function test_overrides() {</span>
<a href="#l12.4"></a><span id="l12.4">     equal(endGuess.year, undefined);</span>
<a href="#l12.5"></a><span id="l12.5">     equal(endGuess.month, undefined);</span>
<a href="#l12.6"></a><span id="l12.6">     equal(endGuess.day, undefined);</span>
<a href="#l12.7"></a><span id="l12.7">     equal(endGuess.hour, undefined);</span>
<a href="#l12.8"></a><span id="l12.8">     equal(endGuess.minute, undefined);</span>
<a href="#l12.9"></a><span id="l12.9"> </span>
<a href="#l12.10"></a><span id="l12.10">     // recognize a custom &quot;tomorrow&quot; and hour.minutes pattern</span>
<a href="#l12.11"></a><span id="l12.11">     let overrides = {</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-        &quot;from.hour.minutes&quot;: { &quot;add&quot;: &quot;#2:#1&quot;, &quot;remove&quot;: &quot;#1:#2&quot; },</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-        &quot;from.tomorrow&quot;: { &quot;add&quot;: &quot;worromot&quot; }</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+        &quot;from.hour.minutes&quot;: { add: &quot;#2:#1&quot;, remove: &quot;#1:#2&quot; },</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineplus">+        &quot;from.tomorrow&quot;: { add: &quot;worromot&quot; }</span>
<a href="#l12.16"></a><span id="l12.16">     };</span>
<a href="#l12.17"></a><span id="l12.17"> </span>
<a href="#l12.18"></a><span id="l12.18">     Preferences.set(&quot;calendar.patterns.override&quot;, JSON.stringify(overrides));</span>
<a href="#l12.19"></a><span id="l12.19"> </span>
<a href="#l12.20"></a><span id="l12.20">     collected = extractor.extract(title, content, date, undefined);</span>
<a href="#l12.21"></a><span id="l12.21">     guessed = extractor.guessStart(false);</span>
<a href="#l12.22"></a><span id="l12.22">     endGuess = extractor.guessEnd(guessed, true);</span>
<a href="#l12.23"></a><span id="l12.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/test/unit/test_gdata_provider.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/test/unit/test_gdata_provider.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -121,57 +121,57 @@ GDataServer.prototype = {</span>
<a href="#l13.4"></a><span id="l13.4">     resetRequest: function() {</span>
<a href="#l13.5"></a><span id="l13.5">         this.events = [];</span>
<a href="#l13.6"></a><span id="l13.6">         this.tasks = [];</span>
<a href="#l13.7"></a><span id="l13.7">         this.nextEtag = null;</span>
<a href="#l13.8"></a><span id="l13.8">         this.syncs = [];</span>
<a href="#l13.9"></a><span id="l13.9">         this.nextEventStatus = [];</span>
<a href="#l13.10"></a><span id="l13.10"> </span>
<a href="#l13.11"></a><span id="l13.11">         this.creator = {</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-            &quot;email&quot;: this.calendarId,</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-            &quot;self&quot;: true,</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineminus">-            &quot;displayName&quot;: &quot;Eggs P. Seashell&quot;</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+            email: this.calendarId,</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineplus">+            self: true,</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineplus">+            displayName: &quot;Eggs P. Seashell&quot;</span>
<a href="#l13.18"></a><span id="l13.18">         };</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20">         this.eventsData = {</span>
<a href="#l13.21"></a><span id="l13.21" class="difflineminus">-           &quot;kind&quot;: &quot;calendar#events&quot;,</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineminus">-           &quot;etag&quot;: &quot;\&quot;1410880601360000\&quot;&quot;,</span>
<a href="#l13.23"></a><span id="l13.23" class="difflineminus">-           &quot;nextSyncToken&quot;: generateID(),</span>
<a href="#l13.24"></a><span id="l13.24" class="difflineminus">-           &quot;updated&quot;: &quot;2014-09-16T15:16:41.360Z&quot;,</span>
<a href="#l13.25"></a><span id="l13.25" class="difflineminus">-           &quot;accessRole&quot;: &quot;owner&quot;,</span>
<a href="#l13.26"></a><span id="l13.26" class="difflineminus">-           &quot;summary&quot;: &quot;xpcshell&quot;,</span>
<a href="#l13.27"></a><span id="l13.27" class="difflineminus">-           &quot;timeZone&quot;: &quot;Europe/Berlin&quot;,</span>
<a href="#l13.28"></a><span id="l13.28" class="difflineminus">-           &quot;defaultReminders&quot;: [],</span>
<a href="#l13.29"></a><span id="l13.29" class="difflineminus">-           &quot;items&quot;: []</span>
<a href="#l13.30"></a><span id="l13.30" class="difflineplus">+           kind: &quot;calendar#events&quot;,</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineplus">+           etag: &quot;\&quot;1410880601360000\&quot;&quot;,</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineplus">+           nextSyncToken: generateID(),</span>
<a href="#l13.33"></a><span id="l13.33" class="difflineplus">+           updated: &quot;2014-09-16T15:16:41.360Z&quot;,</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineplus">+           accessRole: &quot;owner&quot;,</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineplus">+           summary: &quot;xpcshell&quot;,</span>
<a href="#l13.36"></a><span id="l13.36" class="difflineplus">+           timeZone: &quot;Europe/Berlin&quot;,</span>
<a href="#l13.37"></a><span id="l13.37" class="difflineplus">+           defaultReminders: [],</span>
<a href="#l13.38"></a><span id="l13.38" class="difflineplus">+           items: []</span>
<a href="#l13.39"></a><span id="l13.39">         };</span>
<a href="#l13.40"></a><span id="l13.40"> </span>
<a href="#l13.41"></a><span id="l13.41">         this.tasksData = {</span>
<a href="#l13.42"></a><span id="l13.42" class="difflineminus">-            &quot;kind&quot;: &quot;tasks#tasks&quot;,</span>
<a href="#l13.43"></a><span id="l13.43" class="difflineminus">-            &quot;etag&quot;: &quot;\&quot;1410880601360000\&quot;&quot;,</span>
<a href="#l13.44"></a><span id="l13.44" class="difflineminus">-            &quot;items&quot;: []</span>
<a href="#l13.45"></a><span id="l13.45" class="difflineplus">+            kind: &quot;tasks#tasks&quot;,</span>
<a href="#l13.46"></a><span id="l13.46" class="difflineplus">+            etag: &quot;\&quot;1410880601360000\&quot;&quot;,</span>
<a href="#l13.47"></a><span id="l13.47" class="difflineplus">+            items: []</span>
<a href="#l13.48"></a><span id="l13.48">         };</span>
<a href="#l13.49"></a><span id="l13.49"> </span>
<a href="#l13.50"></a><span id="l13.50">         this.calendarListData = {</span>
<a href="#l13.51"></a><span id="l13.51" class="difflineminus">-            &quot;kind&quot;: &quot;calendar#calendarListEntry&quot;,</span>
<a href="#l13.52"></a><span id="l13.52" class="difflineminus">-            &quot;etag&quot;: &quot;\&quot;1410084814736000\&quot;&quot;,</span>
<a href="#l13.53"></a><span id="l13.53" class="difflineminus">-            &quot;id&quot;: this.calendarId,</span>
<a href="#l13.54"></a><span id="l13.54" class="difflineminus">-            &quot;summary&quot;: &quot;xpcshell&quot;,</span>
<a href="#l13.55"></a><span id="l13.55" class="difflineminus">-            &quot;timeZone&quot;: &quot;Europe/Berlin&quot;,</span>
<a href="#l13.56"></a><span id="l13.56" class="difflineminus">-            &quot;colorId&quot;: &quot;17&quot;,</span>
<a href="#l13.57"></a><span id="l13.57" class="difflineminus">-            &quot;backgroundColor&quot;: &quot;#9a9cff&quot;,</span>
<a href="#l13.58"></a><span id="l13.58" class="difflineminus">-            &quot;foregroundColor&quot;: &quot;#000000&quot;,</span>
<a href="#l13.59"></a><span id="l13.59" class="difflineminus">-            &quot;primary&quot;: true,</span>
<a href="#l13.60"></a><span id="l13.60" class="difflineminus">-            &quot;selected&quot;: true,</span>
<a href="#l13.61"></a><span id="l13.61" class="difflineminus">-            &quot;accessRole&quot;: &quot;owner&quot;,</span>
<a href="#l13.62"></a><span id="l13.62" class="difflineminus">-            &quot;defaultReminders&quot;: [],</span>
<a href="#l13.63"></a><span id="l13.63" class="difflineminus">-            &quot;notificationSettings&quot;: {</span>
<a href="#l13.64"></a><span id="l13.64" class="difflineminus">-                &quot;notifications&quot;: [</span>
<a href="#l13.65"></a><span id="l13.65" class="difflineminus">-                    { &quot;type&quot;: &quot;eventCreation&quot;, &quot;method&quot;: &quot;email&quot; },</span>
<a href="#l13.66"></a><span id="l13.66" class="difflineminus">-                    { &quot;type&quot;: &quot;eventChange&quot;, &quot;method&quot;: &quot;email&quot; },</span>
<a href="#l13.67"></a><span id="l13.67" class="difflineminus">-                    { &quot;type&quot;: &quot;eventCancellation&quot;, &quot;method&quot;: &quot;email&quot; }</span>
<a href="#l13.68"></a><span id="l13.68" class="difflineplus">+            kind: &quot;calendar#calendarListEntry&quot;,</span>
<a href="#l13.69"></a><span id="l13.69" class="difflineplus">+            etag: &quot;\&quot;1410084814736000\&quot;&quot;,</span>
<a href="#l13.70"></a><span id="l13.70" class="difflineplus">+            id: this.calendarId,</span>
<a href="#l13.71"></a><span id="l13.71" class="difflineplus">+            summary: &quot;xpcshell&quot;,</span>
<a href="#l13.72"></a><span id="l13.72" class="difflineplus">+            timeZone: &quot;Europe/Berlin&quot;,</span>
<a href="#l13.73"></a><span id="l13.73" class="difflineplus">+            colorId: &quot;17&quot;,</span>
<a href="#l13.74"></a><span id="l13.74" class="difflineplus">+            backgroundColor: &quot;#9a9cff&quot;,</span>
<a href="#l13.75"></a><span id="l13.75" class="difflineplus">+            foregroundColor: &quot;#000000&quot;,</span>
<a href="#l13.76"></a><span id="l13.76" class="difflineplus">+            primary: true,</span>
<a href="#l13.77"></a><span id="l13.77" class="difflineplus">+            selected: true,</span>
<a href="#l13.78"></a><span id="l13.78" class="difflineplus">+            accessRole: &quot;owner&quot;,</span>
<a href="#l13.79"></a><span id="l13.79" class="difflineplus">+            defaultReminders: [],</span>
<a href="#l13.80"></a><span id="l13.80" class="difflineplus">+            notificationSettings: {</span>
<a href="#l13.81"></a><span id="l13.81" class="difflineplus">+                notifications: [</span>
<a href="#l13.82"></a><span id="l13.82" class="difflineplus">+                    { type: &quot;eventCreation&quot;, method: &quot;email&quot; },</span>
<a href="#l13.83"></a><span id="l13.83" class="difflineplus">+                    { type: &quot;eventChange&quot;, method: &quot;email&quot; },</span>
<a href="#l13.84"></a><span id="l13.84" class="difflineplus">+                    { type: &quot;eventCancellation&quot;, method: &quot;email&quot; }</span>
<a href="#l13.85"></a><span id="l13.85">                 ]</span>
<a href="#l13.86"></a><span id="l13.86">             }</span>
<a href="#l13.87"></a><span id="l13.87">         };</span>
<a href="#l13.88"></a><span id="l13.88">     },</span>
<a href="#l13.89"></a><span id="l13.89"> </span>
<a href="#l13.90"></a><span id="l13.90">     waitForLoad: function(aCalendar) {</span>
<a href="#l13.91"></a><span id="l13.91">         return new Promise((resolve, reject) =&gt; {</span>
<a href="#l13.92"></a><span id="l13.92">             let observer = cal.createAdapter(Components.interfaces.calIObserver, {</span>
<a href="#l13.93"></a><span id="l13.93" class="difflineat">@@ -609,157 +609,157 @@ add_task(function* test_dateToJSON() {</span>
<a href="#l13.94"></a><span id="l13.94">         let items = parser.getItems({});</span>
<a href="#l13.95"></a><span id="l13.95">         return items[0].startDate;</span>
<a href="#l13.96"></a><span id="l13.96">     }</span>
<a href="#l13.97"></a><span id="l13.97"> </span>
<a href="#l13.98"></a><span id="l13.98">     let dt;</span>
<a href="#l13.99"></a><span id="l13.99"> </span>
<a href="#l13.100"></a><span id="l13.100">     // no timezone</span>
<a href="#l13.101"></a><span id="l13.101">     dt = _createDateTime(cal.floating());</span>
<a href="#l13.102"></a><span id="l13.102" class="difflineminus">-    deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00-00:00&quot; });</span>
<a href="#l13.103"></a><span id="l13.103" class="difflineplus">+    deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00-00:00&quot; });</span>
<a href="#l13.104"></a><span id="l13.104"> </span>
<a href="#l13.105"></a><span id="l13.105">     // valid non-Olson tz name</span>
<a href="#l13.106"></a><span id="l13.106">     dt = _createDateTime(&quot;Eastern Standard Time&quot;);</span>
<a href="#l13.107"></a><span id="l13.107" class="difflineminus">-    deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00&quot;, &quot;timeZone&quot;: &quot;America/New_York&quot; });</span>
<a href="#l13.108"></a><span id="l13.108" class="difflineplus">+    deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00&quot;, timeZone: &quot;America/New_York&quot; });</span>
<a href="#l13.109"></a><span id="l13.109"> </span>
<a href="#l13.110"></a><span id="l13.110">     // valid continent/city Olson tz</span>
<a href="#l13.111"></a><span id="l13.111">     dt = _createDateTime(&quot;America/New_York&quot;);</span>
<a href="#l13.112"></a><span id="l13.112" class="difflineminus">-    deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00&quot;, &quot;timeZone&quot;: &quot;America/New_York&quot; });</span>
<a href="#l13.113"></a><span id="l13.113" class="difflineplus">+    deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00&quot;, timeZone: &quot;America/New_York&quot; });</span>
<a href="#l13.114"></a><span id="l13.114"> </span>
<a href="#l13.115"></a><span id="l13.115">     // valid continent/region/city Olson tz</span>
<a href="#l13.116"></a><span id="l13.116">     dt = _createDateTime(&quot;America/Argentina/Buenos_Aires&quot;);</span>
<a href="#l13.117"></a><span id="l13.117" class="difflineminus">-    deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00&quot;, &quot;timeZone&quot;: &quot;America/Argentina/Buenos_Aires&quot; });</span>
<a href="#l13.118"></a><span id="l13.118" class="difflineplus">+    deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00&quot;, timeZone: &quot;America/Argentina/Buenos_Aires&quot; });</span>
<a href="#l13.119"></a><span id="l13.119"> </span>
<a href="#l13.120"></a><span id="l13.120">     // ical.js and libical currently have slightly different timezone handling.</span>
<a href="#l13.121"></a><span id="l13.121">     if (Preferences.get(&quot;calendar.icaljs&quot;, false)) {</span>
<a href="#l13.122"></a><span id="l13.122">         // unknown but formal valid Olson tz. ical.js assumes floating</span>
<a href="#l13.123"></a><span id="l13.123">         dt = _createDateTime(&quot;Unknown/Olson/Timezone&quot;);</span>
<a href="#l13.124"></a><span id="l13.124" class="difflineminus">-        deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00-00:00&quot; });</span>
<a href="#l13.125"></a><span id="l13.125" class="difflineplus">+        deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00-00:00&quot; });</span>
<a href="#l13.126"></a><span id="l13.126"> </span>
<a href="#l13.127"></a><span id="l13.127">         // Etc with offset. ical.js doesn't understand third party zones and uses floating</span>
<a href="#l13.128"></a><span id="l13.128">         dt = _createDateTime(&quot;ThirdPartyZone&quot;, 5);</span>
<a href="#l13.129"></a><span id="l13.129" class="difflineminus">-        deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00-00:00&quot; });</span>
<a href="#l13.130"></a><span id="l13.130" class="difflineplus">+        deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00-00:00&quot; });</span>
<a href="#l13.131"></a><span id="l13.131"> </span>
<a href="#l13.132"></a><span id="l13.132">         // Etc with zero offset. ical.js doesn't understand third party zones and uses floating</span>
<a href="#l13.133"></a><span id="l13.133">         dt = _createDateTime(&quot;ThirdPartyZone&quot;, 0);</span>
<a href="#l13.134"></a><span id="l13.134" class="difflineminus">-        deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00-00:00&quot; });</span>
<a href="#l13.135"></a><span id="l13.135" class="difflineplus">+        deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00-00:00&quot; });</span>
<a href="#l13.136"></a><span id="l13.136">     } else {</span>
<a href="#l13.137"></a><span id="l13.137">         // This causes an assertion failure.</span>
<a href="#l13.138"></a><span id="l13.138">         if (!mozinfo.debug) {</span>
<a href="#l13.139"></a><span id="l13.139">             // unknown but formal valid Olson tz</span>
<a href="#l13.140"></a><span id="l13.140">             dt = _createDateTime(&quot;Unknown/Olson/Timezone&quot;);</span>
<a href="#l13.141"></a><span id="l13.141" class="difflineminus">-            deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00&quot;, &quot;timeZone&quot;: &quot;Unknown/Olson/Timezone&quot; });</span>
<a href="#l13.142"></a><span id="l13.142" class="difflineplus">+            deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00&quot;, timeZone: &quot;Unknown/Olson/Timezone&quot; });</span>
<a href="#l13.143"></a><span id="l13.143">         }</span>
<a href="#l13.144"></a><span id="l13.144"> </span>
<a href="#l13.145"></a><span id="l13.145">         // Etc with offset</span>
<a href="#l13.146"></a><span id="l13.146">         dt = _createDateTime(&quot;ThirdPartyZone&quot;, 5);</span>
<a href="#l13.147"></a><span id="l13.147" class="difflineminus">-        deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00&quot;, &quot;timeZone&quot;: &quot;Etc/GMT-5&quot; });</span>
<a href="#l13.148"></a><span id="l13.148" class="difflineplus">+        deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00&quot;, timeZone: &quot;Etc/GMT-5&quot; });</span>
<a href="#l13.149"></a><span id="l13.149"> </span>
<a href="#l13.150"></a><span id="l13.150">         // Etc with zero offset</span>
<a href="#l13.151"></a><span id="l13.151">         dt = _createDateTime(&quot;ThirdPartyZone&quot;, 0);</span>
<a href="#l13.152"></a><span id="l13.152" class="difflineminus">-        deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00Z&quot;, &quot;timeZone&quot;: &quot;UTC&quot; });</span>
<a href="#l13.153"></a><span id="l13.153" class="difflineplus">+        deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00Z&quot;, timeZone: &quot;UTC&quot; });</span>
<a href="#l13.154"></a><span id="l13.154">     }</span>
<a href="#l13.155"></a><span id="l13.155"> </span>
<a href="#l13.156"></a><span id="l13.156">     // This causes an assertion failure.</span>
<a href="#l13.157"></a><span id="l13.157">     if (!mozinfo.debug) {</span>
<a href="#l13.158"></a><span id="l13.158">         // invalid non-Olson tz</span>
<a href="#l13.159"></a><span id="l13.159">         dt = _createDateTime(&quot;InvalidTimeZone&quot;);</span>
<a href="#l13.160"></a><span id="l13.160" class="difflineminus">-        notEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00&quot;, &quot;timeZone&quot;: &quot;InvalidTimeZone&quot; });</span>
<a href="#l13.161"></a><span id="l13.161" class="difflineplus">+        notEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00&quot;, timeZone: &quot;InvalidTimeZone&quot; });</span>
<a href="#l13.162"></a><span id="l13.162">     }</span>
<a href="#l13.163"></a><span id="l13.163"> </span>
<a href="#l13.164"></a><span id="l13.164">     // Zone with 0 offset but not UTC</span>
<a href="#l13.165"></a><span id="l13.165">     dt = _createDateTime(&quot;Europe/London&quot;);</span>
<a href="#l13.166"></a><span id="l13.166" class="difflineminus">-    deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00&quot;, &quot;timeZone&quot;: &quot;Europe/London&quot; });</span>
<a href="#l13.167"></a><span id="l13.167" class="difflineplus">+    deepEqual(dateToJSON(dt), { dateTime: &quot;2015-01-30T12:00:00&quot;, timeZone: &quot;Europe/London&quot; });</span>
<a href="#l13.168"></a><span id="l13.168"> </span>
<a href="#l13.169"></a><span id="l13.169">     // date only</span>
<a href="#l13.170"></a><span id="l13.170">     dt.isDate = true;</span>
<a href="#l13.171"></a><span id="l13.171" class="difflineminus">-    deepEqual(dateToJSON(dt), { &quot;date&quot;: &quot;2015-01-30&quot; });</span>
<a href="#l13.172"></a><span id="l13.172" class="difflineplus">+    deepEqual(dateToJSON(dt), { date: &quot;2015-01-30&quot; });</span>
<a href="#l13.173"></a><span id="l13.173"> });</span>
<a href="#l13.174"></a><span id="l13.174"> </span>
<a href="#l13.175"></a><span id="l13.175"> add_task(function* test_JSONToDate() {</span>
<a href="#l13.176"></a><span id="l13.176">     function convert(aEntry, aTimezone=&quot;Europe/Berlin&quot;) {</span>
<a href="#l13.177"></a><span id="l13.177">         let tzs = cal.getTimezoneService();</span>
<a href="#l13.178"></a><span id="l13.178">         let calendarTz = tzs.getTimezone(aTimezone);</span>
<a href="#l13.179"></a><span id="l13.179">         let dt = JSONToDate(aEntry, calendarTz);</span>
<a href="#l13.180"></a><span id="l13.180">         return dt ? dt.icalString + &quot; in &quot; + dt.timezone.tzid : null;</span>
<a href="#l13.181"></a><span id="l13.181">     }</span>
<a href="#l13.182"></a><span id="l13.182"> </span>
<a href="#l13.183"></a><span id="l13.183">     // A date, using the passed in default timezone</span>
<a href="#l13.184"></a><span id="l13.184" class="difflineminus">-    equal(convert({ &quot;date&quot;: &quot;2015-01-02&quot; }), &quot;20150102 in Europe/Berlin&quot;);</span>
<a href="#l13.185"></a><span id="l13.185" class="difflineplus">+    equal(convert({ date: &quot;2015-01-02&quot; }), &quot;20150102 in Europe/Berlin&quot;);</span>
<a href="#l13.186"></a><span id="l13.186"> </span>
<a href="#l13.187"></a><span id="l13.187">     // A date, with a timezone that has zero offset</span>
<a href="#l13.188"></a><span id="l13.188" class="difflineminus">-    equal(convert({ &quot;date&quot;: &quot;2015-01-02&quot;, &quot;timeZone&quot;: &quot;Africa/Accra&quot; }), &quot;20150102 in Africa/Accra&quot;);</span>
<a href="#l13.189"></a><span id="l13.189" class="difflineplus">+    equal(convert({ date: &quot;2015-01-02&quot;, timeZone: &quot;Africa/Accra&quot; }), &quot;20150102 in Africa/Accra&quot;);</span>
<a href="#l13.190"></a><span id="l13.190"> </span>
<a href="#l13.191"></a><span id="l13.191">     // A date, using a timezone with a nonzero offset that is not the default timezone</span>
<a href="#l13.192"></a><span id="l13.192" class="difflineminus">-    equal(convert({ &quot;date&quot;: &quot;2015-01-02&quot;, &quot;timeZone&quot;: &quot;Asia/Baku&quot; }), &quot;20150102 in Asia/Baku&quot;);</span>
<a href="#l13.193"></a><span id="l13.193" class="difflineplus">+    equal(convert({ date: &quot;2015-01-02&quot;, timeZone: &quot;Asia/Baku&quot; }), &quot;20150102 in Asia/Baku&quot;);</span>
<a href="#l13.194"></a><span id="l13.194"> </span>
<a href="#l13.195"></a><span id="l13.195">     // UTC date with and without timezone specified, with a calendar in a timezone without DST</span>
<a href="#l13.196"></a><span id="l13.196" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-01-02T03:04:05Z&quot;, &quot;timeZone&quot;: &quot;UTC&quot; }, &quot;Africa/Accra&quot;), &quot;20150102T030405Z in UTC&quot;);</span>
<a href="#l13.197"></a><span id="l13.197" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-01-02T03:04:05Z&quot; }, &quot;Africa/Accra&quot;), &quot;20150102T030405 in Africa/Accra&quot;);</span>
<a href="#l13.198"></a><span id="l13.198" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-01-02T03:04:05Z&quot;, timeZone: &quot;UTC&quot; }, &quot;Africa/Accra&quot;), &quot;20150102T030405Z in UTC&quot;);</span>
<a href="#l13.199"></a><span id="l13.199" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-01-02T03:04:05Z&quot; }, &quot;Africa/Accra&quot;), &quot;20150102T030405 in Africa/Accra&quot;);</span>
<a href="#l13.200"></a><span id="l13.200"> </span>
<a href="#l13.201"></a><span id="l13.201">     // An America/Los_Angeles date-time viewed in Europe/Berlin</span>
<a href="#l13.202"></a><span id="l13.202" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-12-01T21:13:14+01:00&quot;, &quot;timeZone&quot;: &quot;America/Los_Angeles&quot; }), &quot;20151201T121314 in America/Los_Angeles&quot;);</span>
<a href="#l13.203"></a><span id="l13.203" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-07-01T21:13:14+02:00&quot;, &quot;timeZone&quot;: &quot;America/Los_Angeles&quot; }), &quot;20150701T121314 in America/Los_Angeles&quot;);</span>
<a href="#l13.204"></a><span id="l13.204" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-12-01T21:13:14+01:00&quot;, timeZone: &quot;America/Los_Angeles&quot; }), &quot;20151201T121314 in America/Los_Angeles&quot;);</span>
<a href="#l13.205"></a><span id="l13.205" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-07-01T21:13:14+02:00&quot;, timeZone: &quot;America/Los_Angeles&quot; }), &quot;20150701T121314 in America/Los_Angeles&quot;);</span>
<a href="#l13.206"></a><span id="l13.206"> </span>
<a href="#l13.207"></a><span id="l13.207">     // A timezone that is sometimes in GMT, get ready for: Europe/London!</span>
<a href="#l13.208"></a><span id="l13.208" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-12-01T12:13:14Z&quot;, &quot;timeZone&quot;: &quot;Europe/London&quot; }, &quot;Europe/London&quot;), &quot;20151201T121314 in Europe/London&quot;);</span>
<a href="#l13.209"></a><span id="l13.209" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-07-01T12:13:14+01:00&quot;, &quot;timeZone&quot;: &quot;Europe/London&quot; }, &quot;Europe/London&quot;), &quot;20150701T121314 in Europe/London&quot;);</span>
<a href="#l13.210"></a><span id="l13.210" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-12-01T12:13:14Z&quot;, timeZone: &quot;Europe/London&quot; }, &quot;Europe/London&quot;), &quot;20151201T121314 in Europe/London&quot;);</span>
<a href="#l13.211"></a><span id="l13.211" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-07-01T12:13:14+01:00&quot;, timeZone: &quot;Europe/London&quot; }, &quot;Europe/London&quot;), &quot;20150701T121314 in Europe/London&quot;);</span>
<a href="#l13.212"></a><span id="l13.212"> </span>
<a href="#l13.213"></a><span id="l13.213">     // An event in Los Angeles, with a calendar set to Asia/Baku</span>
<a href="#l13.214"></a><span id="l13.214" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-07-01T12:13:14+05:00&quot;, &quot;timeZone&quot;: &quot;America/Los_Angeles&quot; }, &quot;Asia/Baku&quot;), &quot;20150701T001314 in America/Los_Angeles&quot;);</span>
<a href="#l13.215"></a><span id="l13.215" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-12-01T12:13:14+04:00&quot;, &quot;timeZone&quot;: &quot;America/Los_Angeles&quot; }, &quot;Asia/Baku&quot;), &quot;20151201T001314 in America/Los_Angeles&quot;);</span>
<a href="#l13.216"></a><span id="l13.216" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-07-01T12:13:14+05:00&quot;, timeZone: &quot;America/Los_Angeles&quot; }, &quot;Asia/Baku&quot;), &quot;20150701T001314 in America/Los_Angeles&quot;);</span>
<a href="#l13.217"></a><span id="l13.217" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-12-01T12:13:14+04:00&quot;, timeZone: &quot;America/Los_Angeles&quot; }, &quot;Asia/Baku&quot;), &quot;20151201T001314 in America/Los_Angeles&quot;);</span>
<a href="#l13.218"></a><span id="l13.218"> </span>
<a href="#l13.219"></a><span id="l13.219">     // An event without specified timezone, with a calendar set to Asia/Baku</span>
<a href="#l13.220"></a><span id="l13.220" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-07-01T12:13:14+04:00&quot; }, &quot;Asia/Baku&quot;), &quot;20150701T121314 in Asia/Baku&quot;);</span>
<a href="#l13.221"></a><span id="l13.221" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-07-01T12:13:14+04:00&quot; }, &quot;Asia/Baku&quot;), &quot;20150701T121314 in Asia/Baku&quot;);</span>
<a href="#l13.222"></a><span id="l13.222"> </span>
<a href="#l13.223"></a><span id="l13.223">     // An offset matching the passed in calendar timezone. This should NOT be Africa/Algiers</span>
<a href="#l13.224"></a><span id="l13.224" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-01-02T03:04:05+01:00&quot; }), &quot;20150102T030405 in Europe/Berlin&quot;);</span>
<a href="#l13.225"></a><span id="l13.225" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-01-02T03:04:05+01:00&quot; }), &quot;20150102T030405 in Europe/Berlin&quot;);</span>
<a href="#l13.226"></a><span id="l13.226"> </span>
<a href="#l13.227"></a><span id="l13.227">     // An offset that doesn't match the calendar timezone, will use the first timezone in that offset</span>
<a href="#l13.228"></a><span id="l13.228">     do_print(&quot;The following warning is expected: 2015-01-02T03:04:05+04:00 does not match timezone offset for Europe/Berlin&quot;);</span>
<a href="#l13.229"></a><span id="l13.229" class="difflineminus">-    equal(convert({ &quot;dateTime&quot;: &quot;2015-01-02T03:04:05+05:00&quot; }), &quot;20150102T030405 in Antarctica/Mawson&quot;);</span>
<a href="#l13.230"></a><span id="l13.230" class="difflineplus">+    equal(convert({ dateTime: &quot;2015-01-02T03:04:05+05:00&quot; }), &quot;20150102T030405 in Antarctica/Mawson&quot;);</span>
<a href="#l13.231"></a><span id="l13.231"> });</span>
<a href="#l13.232"></a><span id="l13.232"> </span>
<a href="#l13.233"></a><span id="l13.233"> add_task(function* test_organizerCN() {</span>
<a href="#l13.234"></a><span id="l13.234">     gServer.events = [];</span>
<a href="#l13.235"></a><span id="l13.235">     let client = yield gServer.getClient();</span>
<a href="#l13.236"></a><span id="l13.236">     equal(client.getProperty(&quot;organizerCN&quot;), null);</span>
<a href="#l13.237"></a><span id="l13.237">     gServer.resetClient(client);</span>
<a href="#l13.238"></a><span id="l13.238"> </span>
<a href="#l13.239"></a><span id="l13.239">     gServer.events = [{</span>
<a href="#l13.240"></a><span id="l13.240" class="difflineminus">-       &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.241"></a><span id="l13.241" class="difflineminus">-       &quot;etag&quot;: &quot;\&quot;2299601498276000\&quot;&quot;,</span>
<a href="#l13.242"></a><span id="l13.242" class="difflineminus">-       &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.243"></a><span id="l13.243" class="difflineminus">-       &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.244"></a><span id="l13.244" class="difflineminus">-       &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.245"></a><span id="l13.245" class="difflineminus">-       &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.246"></a><span id="l13.246" class="difflineminus">-       &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.247"></a><span id="l13.247" class="difflineminus">-       &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.248"></a><span id="l13.248" class="difflineminus">-       &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.249"></a><span id="l13.249" class="difflineminus">-       &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.250"></a><span id="l13.250" class="difflineminus">-       &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.251"></a><span id="l13.251" class="difflineplus">+       kind: &quot;calendar#event&quot;,</span>
<a href="#l13.252"></a><span id="l13.252" class="difflineplus">+       etag: &quot;\&quot;2299601498276000\&quot;&quot;,</span>
<a href="#l13.253"></a><span id="l13.253" class="difflineplus">+       id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.254"></a><span id="l13.254" class="difflineplus">+       created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.255"></a><span id="l13.255" class="difflineplus">+       updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.256"></a><span id="l13.256" class="difflineplus">+       summary: &quot;New Event&quot;,</span>
<a href="#l13.257"></a><span id="l13.257" class="difflineplus">+       creator: gServer.creator,</span>
<a href="#l13.258"></a><span id="l13.258" class="difflineplus">+       organizer: gServer.creator,</span>
<a href="#l13.259"></a><span id="l13.259" class="difflineplus">+       start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.260"></a><span id="l13.260" class="difflineplus">+       end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.261"></a><span id="l13.261" class="difflineplus">+       iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.262"></a><span id="l13.262">     }];</span>
<a href="#l13.263"></a><span id="l13.263">     client = yield gServer.getClient();</span>
<a href="#l13.264"></a><span id="l13.264">     equal(client.getProperty(&quot;organizerCN&quot;), gServer.creator.displayName);</span>
<a href="#l13.265"></a><span id="l13.265">     gServer.resetClient(client);</span>
<a href="#l13.266"></a><span id="l13.266"> });</span>
<a href="#l13.267"></a><span id="l13.267"> </span>
<a href="#l13.268"></a><span id="l13.268"> add_task(function* test_always_readOnly() {</span>
<a href="#l13.269"></a><span id="l13.269">     gServer.events = [{</span>
<a href="#l13.270"></a><span id="l13.270" class="difflineminus">-       &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.271"></a><span id="l13.271" class="difflineminus">-       &quot;etag&quot;: &quot;\&quot;2299601498276000\&quot;&quot;,</span>
<a href="#l13.272"></a><span id="l13.272" class="difflineminus">-       &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.273"></a><span id="l13.273" class="difflineminus">-       &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.274"></a><span id="l13.274" class="difflineminus">-       &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.275"></a><span id="l13.275" class="difflineminus">-       &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.276"></a><span id="l13.276" class="difflineminus">-       &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.277"></a><span id="l13.277" class="difflineminus">-       &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.278"></a><span id="l13.278" class="difflineminus">-       &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.279"></a><span id="l13.279" class="difflineminus">-       &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.280"></a><span id="l13.280" class="difflineminus">-       &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.281"></a><span id="l13.281" class="difflineplus">+       kind: &quot;calendar#event&quot;,</span>
<a href="#l13.282"></a><span id="l13.282" class="difflineplus">+       etag: &quot;\&quot;2299601498276000\&quot;&quot;,</span>
<a href="#l13.283"></a><span id="l13.283" class="difflineplus">+       id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.284"></a><span id="l13.284" class="difflineplus">+       created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.285"></a><span id="l13.285" class="difflineplus">+       updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.286"></a><span id="l13.286" class="difflineplus">+       summary: &quot;New Event&quot;,</span>
<a href="#l13.287"></a><span id="l13.287" class="difflineplus">+       creator: gServer.creator,</span>
<a href="#l13.288"></a><span id="l13.288" class="difflineplus">+       organizer: gServer.creator,</span>
<a href="#l13.289"></a><span id="l13.289" class="difflineplus">+       start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.290"></a><span id="l13.290" class="difflineplus">+       end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.291"></a><span id="l13.291" class="difflineplus">+       iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.292"></a><span id="l13.292">     }];</span>
<a href="#l13.293"></a><span id="l13.293">     gServer.calendarListData.accessRole = &quot;freeBusyReader&quot;;</span>
<a href="#l13.294"></a><span id="l13.294">     let client = yield gServer.getClient();</span>
<a href="#l13.295"></a><span id="l13.295">     let pclient = cal.async.promisifyCalendar(client);</span>
<a href="#l13.296"></a><span id="l13.296">     ok(client.readOnly);</span>
<a href="#l13.297"></a><span id="l13.297">     client.readOnly = false;</span>
<a href="#l13.298"></a><span id="l13.298">     ok(client.readOnly);</span>
<a href="#l13.299"></a><span id="l13.299"> </span>
<a href="#l13.300"></a><span id="l13.300" class="difflineat">@@ -774,59 +774,59 @@ add_task(function* test_always_readOnly(</span>
<a href="#l13.301"></a><span id="l13.301">     client.readOnly = false;</span>
<a href="#l13.302"></a><span id="l13.302">     ok(client.readOnly);</span>
<a href="#l13.303"></a><span id="l13.303">     gServer.resetClient(client);</span>
<a href="#l13.304"></a><span id="l13.304"> });</span>
<a href="#l13.305"></a><span id="l13.305"> </span>
<a href="#l13.306"></a><span id="l13.306"> add_task(function* test_reset_sync() {</span>
<a href="#l13.307"></a><span id="l13.307">     gServer.tasks = [</span>
<a href="#l13.308"></a><span id="l13.308">        {</span>
<a href="#l13.309"></a><span id="l13.309" class="difflineminus">-        &quot;kind&quot;: &quot;tasks#task&quot;,</span>
<a href="#l13.310"></a><span id="l13.310" class="difflineminus">-        &quot;id&quot;: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.311"></a><span id="l13.311" class="difflineminus">-        &quot;etag&quot;: &quot;\&quot;Lck7VNWFJuXdzMtOmrYPx0KFV2s/LTIwNjA4MDcyNDM\&quot;&quot;,</span>
<a href="#l13.312"></a><span id="l13.312" class="difflineminus">-        &quot;title&quot;: &quot;New Task&quot;,</span>
<a href="#l13.313"></a><span id="l13.313" class="difflineminus">-        &quot;updated&quot;: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.314"></a><span id="l13.314" class="difflineminus">-        &quot;selfLink&quot;: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.315"></a><span id="l13.315" class="difflineminus">-        &quot;position&quot;: &quot;00000000000000130998&quot;,</span>
<a href="#l13.316"></a><span id="l13.316" class="difflineminus">-        &quot;status&quot;: &quot;needsAction&quot;</span>
<a href="#l13.317"></a><span id="l13.317" class="difflineplus">+        kind: &quot;tasks#task&quot;,</span>
<a href="#l13.318"></a><span id="l13.318" class="difflineplus">+        id: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.319"></a><span id="l13.319" class="difflineplus">+        etag: &quot;\&quot;Lck7VNWFJuXdzMtOmrYPx0KFV2s/LTIwNjA4MDcyNDM\&quot;&quot;,</span>
<a href="#l13.320"></a><span id="l13.320" class="difflineplus">+        title: &quot;New Task&quot;,</span>
<a href="#l13.321"></a><span id="l13.321" class="difflineplus">+        updated: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.322"></a><span id="l13.322" class="difflineplus">+        selfLink: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.323"></a><span id="l13.323" class="difflineplus">+        position: &quot;00000000000000130998&quot;,</span>
<a href="#l13.324"></a><span id="l13.324" class="difflineplus">+        status: &quot;needsAction&quot;</span>
<a href="#l13.325"></a><span id="l13.325">       }, {</span>
<a href="#l13.326"></a><span id="l13.326" class="difflineminus">-        &quot;kind&quot;: &quot;tasks#task&quot;,</span>
<a href="#l13.327"></a><span id="l13.327" class="difflineminus">-        &quot;id&quot;: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo5OTU0Mjk2MzQ&quot;,</span>
<a href="#l13.328"></a><span id="l13.328" class="difflineminus">-        &quot;etag&quot;: &quot;\&quot;Lck7VNWFJuXdzMtOmrYPx0KFV2s/LTQyNTY0MjUwOQ\&quot;&quot;,</span>
<a href="#l13.329"></a><span id="l13.329" class="difflineminus">-        &quot;title&quot;: &quot;New Task 2&quot;,</span>
<a href="#l13.330"></a><span id="l13.330" class="difflineminus">-        &quot;updated&quot;: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.331"></a><span id="l13.331" class="difflineminus">-        &quot;selfLink&quot;: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo5OTU0Mjk2MzQ&quot;,</span>
<a href="#l13.332"></a><span id="l13.332" class="difflineminus">-        &quot;position&quot;: &quot;00000000000000130993&quot;,</span>
<a href="#l13.333"></a><span id="l13.333" class="difflineminus">-        &quot;status&quot;: &quot;needsAction&quot;</span>
<a href="#l13.334"></a><span id="l13.334" class="difflineplus">+        kind: &quot;tasks#task&quot;,</span>
<a href="#l13.335"></a><span id="l13.335" class="difflineplus">+        id: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo5OTU0Mjk2MzQ&quot;,</span>
<a href="#l13.336"></a><span id="l13.336" class="difflineplus">+        etag: &quot;\&quot;Lck7VNWFJuXdzMtOmrYPx0KFV2s/LTQyNTY0MjUwOQ\&quot;&quot;,</span>
<a href="#l13.337"></a><span id="l13.337" class="difflineplus">+        title: &quot;New Task 2&quot;,</span>
<a href="#l13.338"></a><span id="l13.338" class="difflineplus">+        updated: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.339"></a><span id="l13.339" class="difflineplus">+        selfLink: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo5OTU0Mjk2MzQ&quot;,</span>
<a href="#l13.340"></a><span id="l13.340" class="difflineplus">+        position: &quot;00000000000000130993&quot;,</span>
<a href="#l13.341"></a><span id="l13.341" class="difflineplus">+        status: &quot;needsAction&quot;</span>
<a href="#l13.342"></a><span id="l13.342">       }</span>
<a href="#l13.343"></a><span id="l13.343">     ];</span>
<a href="#l13.344"></a><span id="l13.344">     gServer.events = [{</span>
<a href="#l13.345"></a><span id="l13.345" class="difflineminus">-       &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.346"></a><span id="l13.346" class="difflineminus">-       &quot;etag&quot;: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.347"></a><span id="l13.347" class="difflineminus">-       &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.348"></a><span id="l13.348" class="difflineminus">-       &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.349"></a><span id="l13.349" class="difflineminus">-       &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.350"></a><span id="l13.350" class="difflineminus">-       &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.351"></a><span id="l13.351" class="difflineminus">-       &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.352"></a><span id="l13.352" class="difflineminus">-       &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.353"></a><span id="l13.353" class="difflineminus">-       &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.354"></a><span id="l13.354" class="difflineminus">-       &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.355"></a><span id="l13.355" class="difflineminus">-       &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.356"></a><span id="l13.356" class="difflineplus">+       kind: &quot;calendar#event&quot;,</span>
<a href="#l13.357"></a><span id="l13.357" class="difflineplus">+       etag: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.358"></a><span id="l13.358" class="difflineplus">+       id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.359"></a><span id="l13.359" class="difflineplus">+       created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.360"></a><span id="l13.360" class="difflineplus">+       updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.361"></a><span id="l13.361" class="difflineplus">+       summary: &quot;New Event&quot;,</span>
<a href="#l13.362"></a><span id="l13.362" class="difflineplus">+       creator: gServer.creator,</span>
<a href="#l13.363"></a><span id="l13.363" class="difflineplus">+       organizer: gServer.creator,</span>
<a href="#l13.364"></a><span id="l13.364" class="difflineplus">+       start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.365"></a><span id="l13.365" class="difflineplus">+       end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.366"></a><span id="l13.366" class="difflineplus">+       iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.367"></a><span id="l13.367">     }, {</span>
<a href="#l13.368"></a><span id="l13.368" class="difflineminus">-       &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.369"></a><span id="l13.369" class="difflineminus">-       &quot;etag&quot;: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.370"></a><span id="l13.370" class="difflineminus">-       &quot;id&quot;: &quot;fepf8uf6n7n04w7feukucs9n8e&quot;,</span>
<a href="#l13.371"></a><span id="l13.371" class="difflineminus">-       &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.372"></a><span id="l13.372" class="difflineminus">-       &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.373"></a><span id="l13.373" class="difflineminus">-       &quot;summary&quot;: &quot;New Event 2&quot;,</span>
<a href="#l13.374"></a><span id="l13.374" class="difflineminus">-       &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.375"></a><span id="l13.375" class="difflineminus">-       &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.376"></a><span id="l13.376" class="difflineminus">-       &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.377"></a><span id="l13.377" class="difflineminus">-       &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.378"></a><span id="l13.378" class="difflineminus">-       &quot;iCalUID&quot;: &quot;fepf8uf6n7n04w7feukucs9n8e@google.com&quot;</span>
<a href="#l13.379"></a><span id="l13.379" class="difflineplus">+       kind: &quot;calendar#event&quot;,</span>
<a href="#l13.380"></a><span id="l13.380" class="difflineplus">+       etag: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.381"></a><span id="l13.381" class="difflineplus">+       id: &quot;fepf8uf6n7n04w7feukucs9n8e&quot;,</span>
<a href="#l13.382"></a><span id="l13.382" class="difflineplus">+       created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.383"></a><span id="l13.383" class="difflineplus">+       updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.384"></a><span id="l13.384" class="difflineplus">+       summary: &quot;New Event 2&quot;,</span>
<a href="#l13.385"></a><span id="l13.385" class="difflineplus">+       creator: gServer.creator,</span>
<a href="#l13.386"></a><span id="l13.386" class="difflineplus">+       organizer: gServer.creator,</span>
<a href="#l13.387"></a><span id="l13.387" class="difflineplus">+       start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.388"></a><span id="l13.388" class="difflineplus">+       end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.389"></a><span id="l13.389" class="difflineplus">+       iCalUID: &quot;fepf8uf6n7n04w7feukucs9n8e@google.com&quot;</span>
<a href="#l13.390"></a><span id="l13.390">     }];</span>
<a href="#l13.391"></a><span id="l13.391">     let client = yield gServer.getClient();</span>
<a href="#l13.392"></a><span id="l13.392">     let uncached = client.wrappedJSObject.mUncachedCalendar.wrappedJSObject;</span>
<a href="#l13.393"></a><span id="l13.393">     let pclient = cal.async.promisifyCalendar(client);</span>
<a href="#l13.394"></a><span id="l13.394"> </span>
<a href="#l13.395"></a><span id="l13.395">     let items = yield pclient.getAllItems();</span>
<a href="#l13.396"></a><span id="l13.396">     equal(items.length, 4);</span>
<a href="#l13.397"></a><span id="l13.397"> </span>
<a href="#l13.398"></a><span id="l13.398" class="difflineat">@@ -841,77 +841,77 @@ add_task(function* test_reset_sync() {</span>
<a href="#l13.399"></a><span id="l13.399">     equal(client.getProperty(&quot;lastUpdated.tasks&quot;), &quot;&quot;);</span>
<a href="#l13.400"></a><span id="l13.400"> </span>
<a href="#l13.401"></a><span id="l13.401">     gServer.resetClient(client);</span>
<a href="#l13.402"></a><span id="l13.402"> });</span>
<a href="#l13.403"></a><span id="l13.403"> </span>
<a href="#l13.404"></a><span id="l13.404"> add_task(function* test_basicItems() {</span>
<a href="#l13.405"></a><span id="l13.405">     gServer.events = [</span>
<a href="#l13.406"></a><span id="l13.406">       {</span>
<a href="#l13.407"></a><span id="l13.407" class="difflineminus">-         &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.408"></a><span id="l13.408" class="difflineminus">-         &quot;etag&quot;: &quot;\&quot;2299601498276000\&quot;&quot;,</span>
<a href="#l13.409"></a><span id="l13.409" class="difflineminus">-         &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.410"></a><span id="l13.410" class="difflineminus">-         &quot;status&quot;: &quot;confirmed&quot;,</span>
<a href="#l13.411"></a><span id="l13.411" class="difflineminus">-         &quot;htmlLink&quot;: gServer.baseUri + &quot;/calendar/event?eid=eventhash&quot;,</span>
<a href="#l13.412"></a><span id="l13.412" class="difflineminus">-         &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.413"></a><span id="l13.413" class="difflineminus">-         &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.414"></a><span id="l13.414" class="difflineminus">-         &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.415"></a><span id="l13.415" class="difflineminus">-         &quot;description&quot;: &quot;description&quot;,</span>
<a href="#l13.416"></a><span id="l13.416" class="difflineminus">-         &quot;location&quot;: &quot;Hard Drive&quot;,</span>
<a href="#l13.417"></a><span id="l13.417" class="difflineminus">-         &quot;colorId&quot;: 17,</span>
<a href="#l13.418"></a><span id="l13.418" class="difflineminus">-         &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.419"></a><span id="l13.419" class="difflineminus">-         &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.420"></a><span id="l13.420" class="difflineminus">-         &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.421"></a><span id="l13.421" class="difflineminus">-         &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.422"></a><span id="l13.422" class="difflineminus">-         &quot;transparency&quot;: &quot;transparent&quot;,</span>
<a href="#l13.423"></a><span id="l13.423" class="difflineminus">-         &quot;visibility&quot;: &quot;private&quot;,</span>
<a href="#l13.424"></a><span id="l13.424" class="difflineminus">-         &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;,</span>
<a href="#l13.425"></a><span id="l13.425" class="difflineminus">-         &quot;sequence&quot;: 1,</span>
<a href="#l13.426"></a><span id="l13.426" class="difflineminus">-         &quot;reminders&quot;: {</span>
<a href="#l13.427"></a><span id="l13.427" class="difflineminus">-            &quot;useDefault&quot;: false,</span>
<a href="#l13.428"></a><span id="l13.428" class="difflineminus">-            &quot;overrides&quot;: [{</span>
<a href="#l13.429"></a><span id="l13.429" class="difflineminus">-                &quot;method&quot;: &quot;email&quot;,</span>
<a href="#l13.430"></a><span id="l13.430" class="difflineminus">-                &quot;minutes&quot;: 20</span>
<a href="#l13.431"></a><span id="l13.431" class="difflineplus">+         kind: &quot;calendar#event&quot;,</span>
<a href="#l13.432"></a><span id="l13.432" class="difflineplus">+         etag: &quot;\&quot;2299601498276000\&quot;&quot;,</span>
<a href="#l13.433"></a><span id="l13.433" class="difflineplus">+         id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.434"></a><span id="l13.434" class="difflineplus">+         status: &quot;confirmed&quot;,</span>
<a href="#l13.435"></a><span id="l13.435" class="difflineplus">+         htmlLink: gServer.baseUri + &quot;/calendar/event?eid=eventhash&quot;,</span>
<a href="#l13.436"></a><span id="l13.436" class="difflineplus">+         created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.437"></a><span id="l13.437" class="difflineplus">+         updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.438"></a><span id="l13.438" class="difflineplus">+         summary: &quot;New Event&quot;,</span>
<a href="#l13.439"></a><span id="l13.439" class="difflineplus">+         description: &quot;description&quot;,</span>
<a href="#l13.440"></a><span id="l13.440" class="difflineplus">+         location: &quot;Hard Drive&quot;,</span>
<a href="#l13.441"></a><span id="l13.441" class="difflineplus">+         colorId: 17,</span>
<a href="#l13.442"></a><span id="l13.442" class="difflineplus">+         creator: gServer.creator,</span>
<a href="#l13.443"></a><span id="l13.443" class="difflineplus">+         organizer: gServer.creator,</span>
<a href="#l13.444"></a><span id="l13.444" class="difflineplus">+         start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.445"></a><span id="l13.445" class="difflineplus">+         end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.446"></a><span id="l13.446" class="difflineplus">+         transparency: &quot;transparent&quot;,</span>
<a href="#l13.447"></a><span id="l13.447" class="difflineplus">+         visibility: &quot;private&quot;,</span>
<a href="#l13.448"></a><span id="l13.448" class="difflineplus">+         iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;,</span>
<a href="#l13.449"></a><span id="l13.449" class="difflineplus">+         sequence: 1,</span>
<a href="#l13.450"></a><span id="l13.450" class="difflineplus">+         reminders: {</span>
<a href="#l13.451"></a><span id="l13.451" class="difflineplus">+            useDefault: false,</span>
<a href="#l13.452"></a><span id="l13.452" class="difflineplus">+            overrides: [{</span>
<a href="#l13.453"></a><span id="l13.453" class="difflineplus">+                method: &quot;email&quot;,</span>
<a href="#l13.454"></a><span id="l13.454" class="difflineplus">+                minutes: 20</span>
<a href="#l13.455"></a><span id="l13.455">              }]</span>
<a href="#l13.456"></a><span id="l13.456">          },</span>
<a href="#l13.457"></a><span id="l13.457" class="difflineminus">-         &quot;attendees&quot;: [{</span>
<a href="#l13.458"></a><span id="l13.458" class="difflineminus">-            &quot;displayName&quot;: &quot;attendee name&quot;,</span>
<a href="#l13.459"></a><span id="l13.459" class="difflineminus">-            &quot;email&quot;: &quot;attendee@example.com&quot;,</span>
<a href="#l13.460"></a><span id="l13.460" class="difflineminus">-            &quot;optional&quot;: true,</span>
<a href="#l13.461"></a><span id="l13.461" class="difflineminus">-            &quot;responseStatus&quot;: &quot;tentative&quot;</span>
<a href="#l13.462"></a><span id="l13.462" class="difflineplus">+         attendees: [{</span>
<a href="#l13.463"></a><span id="l13.463" class="difflineplus">+            displayName: &quot;attendee name&quot;,</span>
<a href="#l13.464"></a><span id="l13.464" class="difflineplus">+            email: &quot;attendee@example.com&quot;,</span>
<a href="#l13.465"></a><span id="l13.465" class="difflineplus">+            optional: true,</span>
<a href="#l13.466"></a><span id="l13.466" class="difflineplus">+            responseStatus: &quot;tentative&quot;</span>
<a href="#l13.467"></a><span id="l13.467">         }],</span>
<a href="#l13.468"></a><span id="l13.468"> </span>
<a href="#l13.469"></a><span id="l13.469" class="difflineminus">-        &quot;extendedProperties&quot;: {</span>
<a href="#l13.470"></a><span id="l13.470" class="difflineplus">+        extendedProperties: {</span>
<a href="#l13.471"></a><span id="l13.471">           &quot;shared&quot;: { &quot;X-MOZ-CATEGORIES&quot;: &quot;foo,bar&quot; },</span>
<a href="#l13.472"></a><span id="l13.472">           &quot;private&quot;: {</span>
<a href="#l13.473"></a><span id="l13.473">             &quot;X-MOZ-LASTACK&quot;: &quot;2014-01-01T01:01:01Z&quot;,</span>
<a href="#l13.474"></a><span id="l13.474">             &quot;X-MOZ-SNOOZE-TIME&quot;: &quot;2014-01-01T02:02:02Z&quot;</span>
<a href="#l13.475"></a><span id="l13.475">           }</span>
<a href="#l13.476"></a><span id="l13.476">         }</span>
<a href="#l13.477"></a><span id="l13.477">       }</span>
<a href="#l13.478"></a><span id="l13.478">     ];</span>
<a href="#l13.479"></a><span id="l13.479"> </span>
<a href="#l13.480"></a><span id="l13.480">     gServer.tasks = [</span>
<a href="#l13.481"></a><span id="l13.481">        {</span>
<a href="#l13.482"></a><span id="l13.482" class="difflineminus">-        &quot;kind&quot;: &quot;tasks#task&quot;,</span>
<a href="#l13.483"></a><span id="l13.483" class="difflineminus">-        &quot;id&quot;: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.484"></a><span id="l13.484" class="difflineminus">-        &quot;etag&quot;: &quot;\&quot;Lck7VNWFJuXdzMtOmrYPx0KFV2s/LTIwNjA4MDcyNDM\&quot;&quot;,</span>
<a href="#l13.485"></a><span id="l13.485" class="difflineminus">-        &quot;title&quot;: &quot;New Task&quot;,</span>
<a href="#l13.486"></a><span id="l13.486" class="difflineminus">-        &quot;updated&quot;: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.487"></a><span id="l13.487" class="difflineminus">-        &quot;selfLink&quot;: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.488"></a><span id="l13.488" class="difflineminus">-        &quot;position&quot;: &quot;00000000000000130998&quot;,</span>
<a href="#l13.489"></a><span id="l13.489" class="difflineminus">-        &quot;status&quot;: &quot;completed&quot;,</span>
<a href="#l13.490"></a><span id="l13.490" class="difflineminus">-        &quot;due&quot;: &quot;2014-09-04T00:00:00.000Z&quot;,</span>
<a href="#l13.491"></a><span id="l13.491" class="difflineminus">-        &quot;completed&quot;: &quot;2014-09-01T17:00:00.000Z&quot;,</span>
<a href="#l13.492"></a><span id="l13.492" class="difflineminus">-        &quot;notes&quot;: &quot;description&quot;,</span>
<a href="#l13.493"></a><span id="l13.493" class="difflineminus">-        &quot;parent&quot;: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo4MDIzOTU2NDc&quot;,</span>
<a href="#l13.494"></a><span id="l13.494" class="difflineminus">-        &quot;links&quot;: [{</span>
<a href="#l13.495"></a><span id="l13.495" class="difflineminus">-          &quot;link&quot;: &quot;mailto:something@example.com&quot;,</span>
<a href="#l13.496"></a><span id="l13.496" class="difflineminus">-          &quot;description&quot;: &quot;link description&quot;,</span>
<a href="#l13.497"></a><span id="l13.497" class="difflineminus">-          &quot;type&quot;: &quot;email&quot;</span>
<a href="#l13.498"></a><span id="l13.498" class="difflineplus">+        kind: &quot;tasks#task&quot;,</span>
<a href="#l13.499"></a><span id="l13.499" class="difflineplus">+        id: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.500"></a><span id="l13.500" class="difflineplus">+        etag: &quot;\&quot;Lck7VNWFJuXdzMtOmrYPx0KFV2s/LTIwNjA4MDcyNDM\&quot;&quot;,</span>
<a href="#l13.501"></a><span id="l13.501" class="difflineplus">+        title: &quot;New Task&quot;,</span>
<a href="#l13.502"></a><span id="l13.502" class="difflineplus">+        updated: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.503"></a><span id="l13.503" class="difflineplus">+        selfLink: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.504"></a><span id="l13.504" class="difflineplus">+        position: &quot;00000000000000130998&quot;,</span>
<a href="#l13.505"></a><span id="l13.505" class="difflineplus">+        status: &quot;completed&quot;,</span>
<a href="#l13.506"></a><span id="l13.506" class="difflineplus">+        due: &quot;2014-09-04T00:00:00.000Z&quot;,</span>
<a href="#l13.507"></a><span id="l13.507" class="difflineplus">+        completed: &quot;2014-09-01T17:00:00.000Z&quot;,</span>
<a href="#l13.508"></a><span id="l13.508" class="difflineplus">+        notes: &quot;description&quot;,</span>
<a href="#l13.509"></a><span id="l13.509" class="difflineplus">+        parent: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo4MDIzOTU2NDc&quot;,</span>
<a href="#l13.510"></a><span id="l13.510" class="difflineplus">+        links: [{</span>
<a href="#l13.511"></a><span id="l13.511" class="difflineplus">+          link: &quot;mailto:something@example.com&quot;,</span>
<a href="#l13.512"></a><span id="l13.512" class="difflineplus">+          description: &quot;link description&quot;,</span>
<a href="#l13.513"></a><span id="l13.513" class="difflineplus">+          type: &quot;email&quot;</span>
<a href="#l13.514"></a><span id="l13.514">         }]</span>
<a href="#l13.515"></a><span id="l13.515">       }</span>
<a href="#l13.516"></a><span id="l13.516">     ];</span>
<a href="#l13.517"></a><span id="l13.517"> </span>
<a href="#l13.518"></a><span id="l13.518">     let client = yield gServer.getClient();</span>
<a href="#l13.519"></a><span id="l13.519">     let pclient = cal.async.promisifyCalendar(client);</span>
<a href="#l13.520"></a><span id="l13.520"> </span>
<a href="#l13.521"></a><span id="l13.521">     let items = yield pclient.getAllItems();</span>
<a href="#l13.522"></a><span id="l13.522" class="difflineat">@@ -1124,54 +1124,54 @@ add_task(function* test_recurring_event(</span>
<a href="#l13.523"></a><span id="l13.523"> </span>
<a href="#l13.524"></a><span id="l13.524">     gServer.resetClient(client);</span>
<a href="#l13.525"></a><span id="l13.525"> });</span>
<a href="#l13.526"></a><span id="l13.526"> </span>
<a href="#l13.527"></a><span id="l13.527"> add_task(function* test_recurring_exception() {</span>
<a href="#l13.528"></a><span id="l13.528">     gServer.syncs = [{</span>
<a href="#l13.529"></a><span id="l13.529">         token: &quot;1&quot;,</span>
<a href="#l13.530"></a><span id="l13.530">         events: [{</span>
<a href="#l13.531"></a><span id="l13.531" class="difflineminus">-            &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.532"></a><span id="l13.532" class="difflineminus">-            &quot;etag&quot;: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.533"></a><span id="l13.533" class="difflineminus">-            &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.534"></a><span id="l13.534" class="difflineminus">-            &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.535"></a><span id="l13.535" class="difflineminus">-            &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.536"></a><span id="l13.536" class="difflineminus">-            &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.537"></a><span id="l13.537" class="difflineminus">-            &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.538"></a><span id="l13.538" class="difflineminus">-            &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.539"></a><span id="l13.539" class="difflineminus">-            &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.540"></a><span id="l13.540" class="difflineminus">-            &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.541"></a><span id="l13.541" class="difflineminus">-            &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;,</span>
<a href="#l13.542"></a><span id="l13.542" class="difflineminus">-            &quot;recurrence&quot;: [</span>
<a href="#l13.543"></a><span id="l13.543" class="difflineplus">+            kind: &quot;calendar#event&quot;,</span>
<a href="#l13.544"></a><span id="l13.544" class="difflineplus">+            etag: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.545"></a><span id="l13.545" class="difflineplus">+            id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.546"></a><span id="l13.546" class="difflineplus">+            created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.547"></a><span id="l13.547" class="difflineplus">+            updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.548"></a><span id="l13.548" class="difflineplus">+            summary: &quot;New Event&quot;,</span>
<a href="#l13.549"></a><span id="l13.549" class="difflineplus">+            creator: gServer.creator,</span>
<a href="#l13.550"></a><span id="l13.550" class="difflineplus">+            organizer: gServer.creator,</span>
<a href="#l13.551"></a><span id="l13.551" class="difflineplus">+            start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.552"></a><span id="l13.552" class="difflineplus">+            end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.553"></a><span id="l13.553" class="difflineplus">+            iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;,</span>
<a href="#l13.554"></a><span id="l13.554" class="difflineplus">+            recurrence: [</span>
<a href="#l13.555"></a><span id="l13.555">                 &quot;RRULE:FREQ=WEEKLY&quot;</span>
<a href="#l13.556"></a><span id="l13.556">             ]</span>
<a href="#l13.557"></a><span id="l13.557">         }, {</span>
<a href="#l13.558"></a><span id="l13.558" class="difflineminus">-            &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.559"></a><span id="l13.559" class="difflineminus">-            &quot;etag&quot;: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.560"></a><span id="l13.560" class="difflineminus">-            &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo_20060617T160000Z&quot;,</span>
<a href="#l13.561"></a><span id="l13.561" class="difflineminus">-            &quot;summary&quot;: &quot;New Event changed&quot;,</span>
<a href="#l13.562"></a><span id="l13.562" class="difflineminus">-            &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T18:00:00+02:00&quot; },</span>
<a href="#l13.563"></a><span id="l13.563" class="difflineminus">-            &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T20:00:00+02:00&quot; },</span>
<a href="#l13.564"></a><span id="l13.564" class="difflineminus">-            &quot;recurringEventId&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.565"></a><span id="l13.565" class="difflineminus">-            &quot;originalStartTime&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T18:00:00+02:00&quot; }</span>
<a href="#l13.566"></a><span id="l13.566" class="difflineplus">+            kind: &quot;calendar#event&quot;,</span>
<a href="#l13.567"></a><span id="l13.567" class="difflineplus">+            etag: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.568"></a><span id="l13.568" class="difflineplus">+            id: &quot;go6ijb0b46hlpbu4eeu92njevo_20060617T160000Z&quot;,</span>
<a href="#l13.569"></a><span id="l13.569" class="difflineplus">+            summary: &quot;New Event changed&quot;,</span>
<a href="#l13.570"></a><span id="l13.570" class="difflineplus">+            start: { dateTime: &quot;2006-06-17T18:00:00+02:00&quot; },</span>
<a href="#l13.571"></a><span id="l13.571" class="difflineplus">+            end: { dateTime: &quot;2006-06-17T20:00:00+02:00&quot; },</span>
<a href="#l13.572"></a><span id="l13.572" class="difflineplus">+            recurringEventId: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.573"></a><span id="l13.573" class="difflineplus">+            originalStartTime: { dateTime: &quot;2006-06-17T18:00:00+02:00&quot; }</span>
<a href="#l13.574"></a><span id="l13.574">         }]</span>
<a href="#l13.575"></a><span id="l13.575">     }, {</span>
<a href="#l13.576"></a><span id="l13.576">         // This sync run tests an exception where the master item is not part</span>
<a href="#l13.577"></a><span id="l13.577">         // of the item stream.</span>
<a href="#l13.578"></a><span id="l13.578">         token: &quot;2&quot;,</span>
<a href="#l13.579"></a><span id="l13.579">         events: [{</span>
<a href="#l13.580"></a><span id="l13.580" class="difflineminus">-            &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.581"></a><span id="l13.581" class="difflineminus">-            &quot;etag&quot;: &quot;\&quot;3\&quot;&quot;,</span>
<a href="#l13.582"></a><span id="l13.582" class="difflineminus">-            &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo_20060617T160000Z&quot;,</span>
<a href="#l13.583"></a><span id="l13.583" class="difflineminus">-            &quot;summary&quot;: &quot;New Event changed&quot;,</span>
<a href="#l13.584"></a><span id="l13.584" class="difflineminus">-            &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T18:00:00+02:00&quot; },</span>
<a href="#l13.585"></a><span id="l13.585" class="difflineminus">-            &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T20:00:00+02:00&quot; },</span>
<a href="#l13.586"></a><span id="l13.586" class="difflineminus">-            &quot;status&quot;: &quot;cancelled&quot;,</span>
<a href="#l13.587"></a><span id="l13.587" class="difflineminus">-            &quot;recurringEventId&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.588"></a><span id="l13.588" class="difflineminus">-            &quot;originalStartTime&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T18:00:00+02:00&quot; }</span>
<a href="#l13.589"></a><span id="l13.589" class="difflineplus">+            kind: &quot;calendar#event&quot;,</span>
<a href="#l13.590"></a><span id="l13.590" class="difflineplus">+            etag: &quot;\&quot;3\&quot;&quot;,</span>
<a href="#l13.591"></a><span id="l13.591" class="difflineplus">+            id: &quot;go6ijb0b46hlpbu4eeu92njevo_20060617T160000Z&quot;,</span>
<a href="#l13.592"></a><span id="l13.592" class="difflineplus">+            summary: &quot;New Event changed&quot;,</span>
<a href="#l13.593"></a><span id="l13.593" class="difflineplus">+            start: { dateTime: &quot;2006-06-17T18:00:00+02:00&quot; },</span>
<a href="#l13.594"></a><span id="l13.594" class="difflineplus">+            end: { dateTime: &quot;2006-06-17T20:00:00+02:00&quot; },</span>
<a href="#l13.595"></a><span id="l13.595" class="difflineplus">+            status: &quot;cancelled&quot;,</span>
<a href="#l13.596"></a><span id="l13.596" class="difflineplus">+            recurringEventId: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.597"></a><span id="l13.597" class="difflineplus">+            originalStartTime: { dateTime: &quot;2006-06-17T18:00:00+02:00&quot; }</span>
<a href="#l13.598"></a><span id="l13.598">         }]</span>
<a href="#l13.599"></a><span id="l13.599">     }];</span>
<a href="#l13.600"></a><span id="l13.600"> </span>
<a href="#l13.601"></a><span id="l13.601">     let client = yield gServer.getClient();</span>
<a href="#l13.602"></a><span id="l13.602">     let pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l13.603"></a><span id="l13.603"> </span>
<a href="#l13.604"></a><span id="l13.604">     let items = yield pclient.getAllItems();</span>
<a href="#l13.605"></a><span id="l13.605">     equal(items.length, 1);</span>
<a href="#l13.606"></a><span id="l13.606" class="difflineat">@@ -1193,27 +1193,27 @@ add_task(function* test_recurring_except</span>
<a href="#l13.607"></a><span id="l13.607"> </span>
<a href="#l13.608"></a><span id="l13.608">     gServer.resetClient(client);</span>
<a href="#l13.609"></a><span id="l13.609"> });</span>
<a href="#l13.610"></a><span id="l13.610"> </span>
<a href="#l13.611"></a><span id="l13.611"> add_task(function* test_recurring_cancelled_exception() {</span>
<a href="#l13.612"></a><span id="l13.612">     gServer.syncs = [{</span>
<a href="#l13.613"></a><span id="l13.613">         token: &quot;1&quot;,</span>
<a href="#l13.614"></a><span id="l13.614">         events: [{</span>
<a href="#l13.615"></a><span id="l13.615" class="difflineminus">-            &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.616"></a><span id="l13.616" class="difflineminus">-            &quot;etag&quot;: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.617"></a><span id="l13.617" class="difflineminus">-            &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.618"></a><span id="l13.618" class="difflineminus">-            &quot;status&quot;: &quot;cancelled&quot;,</span>
<a href="#l13.619"></a><span id="l13.619" class="difflineplus">+            kind: &quot;calendar#event&quot;,</span>
<a href="#l13.620"></a><span id="l13.620" class="difflineplus">+            etag: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.621"></a><span id="l13.621" class="difflineplus">+            id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.622"></a><span id="l13.622" class="difflineplus">+            status: &quot;cancelled&quot;,</span>
<a href="#l13.623"></a><span id="l13.623">         }, {</span>
<a href="#l13.624"></a><span id="l13.624" class="difflineminus">-            &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.625"></a><span id="l13.625" class="difflineminus">-            &quot;etag&quot;: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.626"></a><span id="l13.626" class="difflineminus">-            &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo_20060617T160000Z&quot;,</span>
<a href="#l13.627"></a><span id="l13.627" class="difflineminus">-            &quot;status&quot;: &quot;cancelled&quot;,</span>
<a href="#l13.628"></a><span id="l13.628" class="difflineminus">-            &quot;recurringEventId&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.629"></a><span id="l13.629" class="difflineminus">-            &quot;originalStartTime&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T18:00:00+02:00&quot; }</span>
<a href="#l13.630"></a><span id="l13.630" class="difflineplus">+            kind: &quot;calendar#event&quot;,</span>
<a href="#l13.631"></a><span id="l13.631" class="difflineplus">+            etag: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.632"></a><span id="l13.632" class="difflineplus">+            id: &quot;go6ijb0b46hlpbu4eeu92njevo_20060617T160000Z&quot;,</span>
<a href="#l13.633"></a><span id="l13.633" class="difflineplus">+            status: &quot;cancelled&quot;,</span>
<a href="#l13.634"></a><span id="l13.634" class="difflineplus">+            recurringEventId: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.635"></a><span id="l13.635" class="difflineplus">+            originalStartTime: { dateTime: &quot;2006-06-17T18:00:00+02:00&quot; }</span>
<a href="#l13.636"></a><span id="l13.636">         }]</span>
<a href="#l13.637"></a><span id="l13.637">     }];</span>
<a href="#l13.638"></a><span id="l13.638"> </span>
<a href="#l13.639"></a><span id="l13.639">     let client = yield gServer.getClient();</span>
<a href="#l13.640"></a><span id="l13.640">     let pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l13.641"></a><span id="l13.641"> </span>
<a href="#l13.642"></a><span id="l13.642">     let items = yield pclient.getAllItems();</span>
<a href="#l13.643"></a><span id="l13.643">     equal(items.length, 0);</span>
<a href="#l13.644"></a><span id="l13.644" class="difflineat">@@ -1249,46 +1249,46 @@ add_task(function* test_import_invitatio</span>
<a href="#l13.645"></a><span id="l13.645">     equal(addedItem.icalString, event.icalString);</span>
<a href="#l13.646"></a><span id="l13.646">     gServer.resetClient(client);</span>
<a href="#l13.647"></a><span id="l13.647">     Preferences.set(&quot;calendar.google.enableAttendees&quot;, false);</span>
<a href="#l13.648"></a><span id="l13.648"> });</span>
<a href="#l13.649"></a><span id="l13.649"> </span>
<a href="#l13.650"></a><span id="l13.650"> add_task(function* test_modify_invitation() {</span>
<a href="#l13.651"></a><span id="l13.651">     Preferences.set(&quot;calendar.google.enableAttendees&quot;, true);</span>
<a href="#l13.652"></a><span id="l13.652">     let organizer = {</span>
<a href="#l13.653"></a><span id="l13.653" class="difflineminus">-        &quot;displayName&quot;: &quot;organizer name&quot;,</span>
<a href="#l13.654"></a><span id="l13.654" class="difflineminus">-        &quot;email&quot;: &quot;organizer@example.com&quot;,</span>
<a href="#l13.655"></a><span id="l13.655" class="difflineminus">-        &quot;organizer&quot;: true,</span>
<a href="#l13.656"></a><span id="l13.656" class="difflineminus">-        &quot;responseStatus&quot;: &quot;tentative&quot;</span>
<a href="#l13.657"></a><span id="l13.657" class="difflineplus">+        displayName: &quot;organizer name&quot;,</span>
<a href="#l13.658"></a><span id="l13.658" class="difflineplus">+        email: &quot;organizer@example.com&quot;,</span>
<a href="#l13.659"></a><span id="l13.659" class="difflineplus">+        organizer: true,</span>
<a href="#l13.660"></a><span id="l13.660" class="difflineplus">+        responseStatus: &quot;tentative&quot;</span>
<a href="#l13.661"></a><span id="l13.661">     };</span>
<a href="#l13.662"></a><span id="l13.662">     let attendee = Object.assign({}, gServer.creator);</span>
<a href="#l13.663"></a><span id="l13.663">     attendee.responseStatus = &quot;needsAction&quot;;</span>
<a href="#l13.664"></a><span id="l13.664"> </span>
<a href="#l13.665"></a><span id="l13.665">     gServer.events = [</span>
<a href="#l13.666"></a><span id="l13.666">       {</span>
<a href="#l13.667"></a><span id="l13.667" class="difflineminus">-         &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.668"></a><span id="l13.668" class="difflineminus">-         &quot;etag&quot;: &quot;\&quot;2299601498276000\&quot;&quot;,</span>
<a href="#l13.669"></a><span id="l13.669" class="difflineminus">-         &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.670"></a><span id="l13.670" class="difflineminus">-         &quot;status&quot;: &quot;confirmed&quot;,</span>
<a href="#l13.671"></a><span id="l13.671" class="difflineminus">-         &quot;htmlLink&quot;: gServer.baseUri + &quot;/calendar/event?eid=eventhash&quot;,</span>
<a href="#l13.672"></a><span id="l13.672" class="difflineminus">-         &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.673"></a><span id="l13.673" class="difflineminus">-         &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.674"></a><span id="l13.674" class="difflineminus">-         &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.675"></a><span id="l13.675" class="difflineminus">-         &quot;description&quot;: &quot;description&quot;,</span>
<a href="#l13.676"></a><span id="l13.676" class="difflineminus">-         &quot;location&quot;: &quot;Hard Drive&quot;,</span>
<a href="#l13.677"></a><span id="l13.677" class="difflineminus">-         &quot;colorId&quot;: 17,</span>
<a href="#l13.678"></a><span id="l13.678" class="difflineminus">-         &quot;creator&quot;: organizer,</span>
<a href="#l13.679"></a><span id="l13.679" class="difflineminus">-         &quot;organizer&quot;: organizer,</span>
<a href="#l13.680"></a><span id="l13.680" class="difflineminus">-         &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.681"></a><span id="l13.681" class="difflineminus">-         &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.682"></a><span id="l13.682" class="difflineminus">-         &quot;transparency&quot;: &quot;transparent&quot;,</span>
<a href="#l13.683"></a><span id="l13.683" class="difflineminus">-         &quot;visibility&quot;: &quot;private&quot;,</span>
<a href="#l13.684"></a><span id="l13.684" class="difflineminus">-         &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;,</span>
<a href="#l13.685"></a><span id="l13.685" class="difflineminus">-         &quot;sequence&quot;: 1,</span>
<a href="#l13.686"></a><span id="l13.686" class="difflineminus">-         &quot;attendees&quot;: [organizer, attendee],</span>
<a href="#l13.687"></a><span id="l13.687" class="difflineplus">+         kind: &quot;calendar#event&quot;,</span>
<a href="#l13.688"></a><span id="l13.688" class="difflineplus">+         etag: &quot;\&quot;2299601498276000\&quot;&quot;,</span>
<a href="#l13.689"></a><span id="l13.689" class="difflineplus">+         id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.690"></a><span id="l13.690" class="difflineplus">+         status: &quot;confirmed&quot;,</span>
<a href="#l13.691"></a><span id="l13.691" class="difflineplus">+         htmlLink: gServer.baseUri + &quot;/calendar/event?eid=eventhash&quot;,</span>
<a href="#l13.692"></a><span id="l13.692" class="difflineplus">+         created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.693"></a><span id="l13.693" class="difflineplus">+         updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.694"></a><span id="l13.694" class="difflineplus">+         summary: &quot;New Event&quot;,</span>
<a href="#l13.695"></a><span id="l13.695" class="difflineplus">+         description: &quot;description&quot;,</span>
<a href="#l13.696"></a><span id="l13.696" class="difflineplus">+         location: &quot;Hard Drive&quot;,</span>
<a href="#l13.697"></a><span id="l13.697" class="difflineplus">+         colorId: 17,</span>
<a href="#l13.698"></a><span id="l13.698" class="difflineplus">+         creator: organizer,</span>
<a href="#l13.699"></a><span id="l13.699" class="difflineplus">+         organizer: organizer,</span>
<a href="#l13.700"></a><span id="l13.700" class="difflineplus">+         start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.701"></a><span id="l13.701" class="difflineplus">+         end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.702"></a><span id="l13.702" class="difflineplus">+         transparency: &quot;transparent&quot;,</span>
<a href="#l13.703"></a><span id="l13.703" class="difflineplus">+         visibility: &quot;private&quot;,</span>
<a href="#l13.704"></a><span id="l13.704" class="difflineplus">+         iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;,</span>
<a href="#l13.705"></a><span id="l13.705" class="difflineplus">+         sequence: 1,</span>
<a href="#l13.706"></a><span id="l13.706" class="difflineplus">+         attendees: [organizer, attendee],</span>
<a href="#l13.707"></a><span id="l13.707">       }</span>
<a href="#l13.708"></a><span id="l13.708">     ];</span>
<a href="#l13.709"></a><span id="l13.709"> </span>
<a href="#l13.710"></a><span id="l13.710">     // Case #1: User is attendee</span>
<a href="#l13.711"></a><span id="l13.711">     let client = yield gServer.getClient();</span>
<a href="#l13.712"></a><span id="l13.712">     let pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l13.713"></a><span id="l13.713"> </span>
<a href="#l13.714"></a><span id="l13.714">     let items = yield pclient.getAllItems();</span>
<a href="#l13.715"></a><span id="l13.715" class="difflineat">@@ -1314,19 +1314,19 @@ add_task(function* test_modify_invitatio</span>
<a href="#l13.716"></a><span id="l13.716">     let events = gServer.events;</span>
<a href="#l13.717"></a><span id="l13.717">     gServer.resetClient(client);</span>
<a href="#l13.718"></a><span id="l13.718">     gServer.events = events;</span>
<a href="#l13.719"></a><span id="l13.719"> </span>
<a href="#l13.720"></a><span id="l13.720">     organizer = Object.assign({}, gServer.creator);</span>
<a href="#l13.721"></a><span id="l13.721">     organizer.responseStatus = &quot;accepted&quot;;</span>
<a href="#l13.722"></a><span id="l13.722">     organizer.organizer = true;</span>
<a href="#l13.723"></a><span id="l13.723">     attendee = {</span>
<a href="#l13.724"></a><span id="l13.724" class="difflineminus">-        &quot;displayName&quot;: &quot;attendee name&quot;,</span>
<a href="#l13.725"></a><span id="l13.725" class="difflineminus">-        &quot;email&quot;: &quot;attendee@example.com&quot;,</span>
<a href="#l13.726"></a><span id="l13.726" class="difflineminus">-        &quot;responseStatus&quot;: &quot;tentative&quot;</span>
<a href="#l13.727"></a><span id="l13.727" class="difflineplus">+        displayName: &quot;attendee name&quot;,</span>
<a href="#l13.728"></a><span id="l13.728" class="difflineplus">+        email: &quot;attendee@example.com&quot;,</span>
<a href="#l13.729"></a><span id="l13.729" class="difflineplus">+        responseStatus: &quot;tentative&quot;</span>
<a href="#l13.730"></a><span id="l13.730">     };</span>
<a href="#l13.731"></a><span id="l13.731"> </span>
<a href="#l13.732"></a><span id="l13.732">     gServer.events[0].organizer = gServer.creator;</span>
<a href="#l13.733"></a><span id="l13.733">     gServer.events[0].creator = gServer.creator;</span>
<a href="#l13.734"></a><span id="l13.734">     gServer.events[0].attendees = [organizer, attendee];</span>
<a href="#l13.735"></a><span id="l13.735"> </span>
<a href="#l13.736"></a><span id="l13.736">     client = yield gServer.getClient();</span>
<a href="#l13.737"></a><span id="l13.737">     pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l13.738"></a><span id="l13.738" class="difflineat">@@ -1350,36 +1350,36 @@ add_task(function* test_modify_invitatio</span>
<a href="#l13.739"></a><span id="l13.739">     modifiedItem = yield pclient.modifyItem(newItem, items[0]);</span>
<a href="#l13.740"></a><span id="l13.740">     equal(gServer.lastMethod, &quot;PUT&quot;);</span>
<a href="#l13.741"></a><span id="l13.741"> </span>
<a href="#l13.742"></a><span id="l13.742">     gServer.resetClient(client);</span>
<a href="#l13.743"></a><span id="l13.743"> });</span>
<a href="#l13.744"></a><span id="l13.744"> </span>
<a href="#l13.745"></a><span id="l13.745"> add_task(function* test_metadata() {</span>
<a href="#l13.746"></a><span id="l13.746">     gServer.events = [{</span>
<a href="#l13.747"></a><span id="l13.747" class="difflineminus">-        &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.748"></a><span id="l13.748" class="difflineminus">-        &quot;etag&quot;: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.749"></a><span id="l13.749" class="difflineminus">-        &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.750"></a><span id="l13.750" class="difflineminus">-        &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.751"></a><span id="l13.751" class="difflineminus">-        &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.752"></a><span id="l13.752" class="difflineminus">-        &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.753"></a><span id="l13.753" class="difflineminus">-        &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.754"></a><span id="l13.754" class="difflineminus">-        &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.755"></a><span id="l13.755" class="difflineminus">-        &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.756"></a><span id="l13.756" class="difflineminus">-        &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.757"></a><span id="l13.757" class="difflineminus">-        &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.758"></a><span id="l13.758" class="difflineplus">+        kind: &quot;calendar#event&quot;,</span>
<a href="#l13.759"></a><span id="l13.759" class="difflineplus">+        etag: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.760"></a><span id="l13.760" class="difflineplus">+        id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.761"></a><span id="l13.761" class="difflineplus">+        created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.762"></a><span id="l13.762" class="difflineplus">+        updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.763"></a><span id="l13.763" class="difflineplus">+        summary: &quot;New Event&quot;,</span>
<a href="#l13.764"></a><span id="l13.764" class="difflineplus">+        creator: gServer.creator,</span>
<a href="#l13.765"></a><span id="l13.765" class="difflineplus">+        organizer: gServer.creator,</span>
<a href="#l13.766"></a><span id="l13.766" class="difflineplus">+        start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.767"></a><span id="l13.767" class="difflineplus">+        end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.768"></a><span id="l13.768" class="difflineplus">+        iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.769"></a><span id="l13.769">     }];</span>
<a href="#l13.770"></a><span id="l13.770">     gServer.tasks = [{</span>
<a href="#l13.771"></a><span id="l13.771" class="difflineminus">-        &quot;kind&quot;: &quot;tasks#task&quot;,</span>
<a href="#l13.772"></a><span id="l13.772" class="difflineminus">-        &quot;id&quot;: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.773"></a><span id="l13.773" class="difflineminus">-        &quot;etag&quot;: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.774"></a><span id="l13.774" class="difflineminus">-        &quot;title&quot;: &quot;New Task&quot;,</span>
<a href="#l13.775"></a><span id="l13.775" class="difflineminus">-        &quot;updated&quot;: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.776"></a><span id="l13.776" class="difflineminus">-        &quot;selfLink&quot;: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.777"></a><span id="l13.777" class="difflineminus">-        &quot;notes&quot;: &quot;description&quot;</span>
<a href="#l13.778"></a><span id="l13.778" class="difflineplus">+        kind: &quot;tasks#task&quot;,</span>
<a href="#l13.779"></a><span id="l13.779" class="difflineplus">+        id: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.780"></a><span id="l13.780" class="difflineplus">+        etag: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.781"></a><span id="l13.781" class="difflineplus">+        title: &quot;New Task&quot;,</span>
<a href="#l13.782"></a><span id="l13.782" class="difflineplus">+        updated: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.783"></a><span id="l13.783" class="difflineplus">+        selfLink: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.784"></a><span id="l13.784" class="difflineplus">+        notes: &quot;description&quot;</span>
<a href="#l13.785"></a><span id="l13.785">     }];</span>
<a href="#l13.786"></a><span id="l13.786"> </span>
<a href="#l13.787"></a><span id="l13.787">     let client = yield gServer.getClient();</span>
<a href="#l13.788"></a><span id="l13.788">     let offline = client.wrappedJSObject.mCachedCalendar;</span>
<a href="#l13.789"></a><span id="l13.789">     let pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l13.790"></a><span id="l13.790"> </span>
<a href="#l13.791"></a><span id="l13.791">     // Check initial metadata</span>
<a href="#l13.792"></a><span id="l13.792">     let items = yield pclient.getAllItems();</span>
<a href="#l13.793"></a><span id="l13.793" class="difflineat">@@ -1448,48 +1448,48 @@ add_task(function* test_metadata() {</span>
<a href="#l13.794"></a><span id="l13.794">     equal(meta.get(newEvent.hashId), ['&quot;6&quot;', gServer.events[0].id, false].join(&quot;\u001A&quot;));</span>
<a href="#l13.795"></a><span id="l13.795">     equal(meta.get(newTask.hashId), ['&quot;7&quot;', gServer.tasks[0].id, false].join(&quot;\u001A&quot;));</span>
<a href="#l13.796"></a><span id="l13.796"> </span>
<a href="#l13.797"></a><span id="l13.797">     gServer.resetClient(client);</span>
<a href="#l13.798"></a><span id="l13.798"> });</span>
<a href="#l13.799"></a><span id="l13.799"> </span>
<a href="#l13.800"></a><span id="l13.800"> add_task(function* test_metadata_recurring() {</span>
<a href="#l13.801"></a><span id="l13.801">     gServer.events = [{</span>
<a href="#l13.802"></a><span id="l13.802" class="difflineminus">-        &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.803"></a><span id="l13.803" class="difflineminus">-        &quot;etag&quot;: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.804"></a><span id="l13.804" class="difflineminus">-        &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.805"></a><span id="l13.805" class="difflineminus">-        &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.806"></a><span id="l13.806" class="difflineminus">-        &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.807"></a><span id="l13.807" class="difflineminus">-        &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.808"></a><span id="l13.808" class="difflineminus">-        &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.809"></a><span id="l13.809" class="difflineminus">-        &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.810"></a><span id="l13.810" class="difflineminus">-        &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.811"></a><span id="l13.811" class="difflineminus">-        &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.812"></a><span id="l13.812" class="difflineminus">-        &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;,</span>
<a href="#l13.813"></a><span id="l13.813" class="difflineminus">-        &quot;recurrence&quot;: [</span>
<a href="#l13.814"></a><span id="l13.814" class="difflineplus">+        kind: &quot;calendar#event&quot;,</span>
<a href="#l13.815"></a><span id="l13.815" class="difflineplus">+        etag: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.816"></a><span id="l13.816" class="difflineplus">+        id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.817"></a><span id="l13.817" class="difflineplus">+        created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.818"></a><span id="l13.818" class="difflineplus">+        updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.819"></a><span id="l13.819" class="difflineplus">+        summary: &quot;New Event&quot;,</span>
<a href="#l13.820"></a><span id="l13.820" class="difflineplus">+        creator: gServer.creator,</span>
<a href="#l13.821"></a><span id="l13.821" class="difflineplus">+        organizer: gServer.creator,</span>
<a href="#l13.822"></a><span id="l13.822" class="difflineplus">+        start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.823"></a><span id="l13.823" class="difflineplus">+        end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.824"></a><span id="l13.824" class="difflineplus">+        iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;,</span>
<a href="#l13.825"></a><span id="l13.825" class="difflineplus">+        recurrence: [</span>
<a href="#l13.826"></a><span id="l13.826">             &quot;RRULE:FREQ=WEEKLY&quot;</span>
<a href="#l13.827"></a><span id="l13.827">         ]</span>
<a href="#l13.828"></a><span id="l13.828">     }, {</span>
<a href="#l13.829"></a><span id="l13.829" class="difflineminus">-        &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.830"></a><span id="l13.830" class="difflineminus">-        &quot;etag&quot;: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.831"></a><span id="l13.831" class="difflineminus">-        &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo_20060610T160000Z&quot;,</span>
<a href="#l13.832"></a><span id="l13.832" class="difflineminus">-        &quot;summary&quot;: &quot;New Event changed&quot;,</span>
<a href="#l13.833"></a><span id="l13.833" class="difflineminus">-        &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.834"></a><span id="l13.834" class="difflineminus">-        &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.835"></a><span id="l13.835" class="difflineminus">-        &quot;recurringEventId&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.836"></a><span id="l13.836" class="difflineminus">-        &quot;originalStartTime&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; }</span>
<a href="#l13.837"></a><span id="l13.837" class="difflineplus">+        kind: &quot;calendar#event&quot;,</span>
<a href="#l13.838"></a><span id="l13.838" class="difflineplus">+        etag: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.839"></a><span id="l13.839" class="difflineplus">+        id: &quot;go6ijb0b46hlpbu4eeu92njevo_20060610T160000Z&quot;,</span>
<a href="#l13.840"></a><span id="l13.840" class="difflineplus">+        summary: &quot;New Event changed&quot;,</span>
<a href="#l13.841"></a><span id="l13.841" class="difflineplus">+        start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.842"></a><span id="l13.842" class="difflineplus">+        end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.843"></a><span id="l13.843" class="difflineplus">+        recurringEventId: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.844"></a><span id="l13.844" class="difflineplus">+        originalStartTime: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; }</span>
<a href="#l13.845"></a><span id="l13.845">     }, {</span>
<a href="#l13.846"></a><span id="l13.846" class="difflineminus">-        &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.847"></a><span id="l13.847" class="difflineminus">-        &quot;etag&quot;: &quot;\&quot;3\&quot;&quot;,</span>
<a href="#l13.848"></a><span id="l13.848" class="difflineminus">-        &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo_20060617T160000Z&quot;,</span>
<a href="#l13.849"></a><span id="l13.849" class="difflineminus">-        &quot;summary&quot;: &quot;New Event next week&quot;,</span>
<a href="#l13.850"></a><span id="l13.850" class="difflineminus">-        &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T18:00:00+02:00&quot; },</span>
<a href="#l13.851"></a><span id="l13.851" class="difflineminus">-        &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T20:00:00+02:00&quot; },</span>
<a href="#l13.852"></a><span id="l13.852" class="difflineminus">-        &quot;recurringEventId&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.853"></a><span id="l13.853" class="difflineminus">-        &quot;originalStartTime&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T18:00:00+02:00&quot; }</span>
<a href="#l13.854"></a><span id="l13.854" class="difflineplus">+        kind: &quot;calendar#event&quot;,</span>
<a href="#l13.855"></a><span id="l13.855" class="difflineplus">+        etag: &quot;\&quot;3\&quot;&quot;,</span>
<a href="#l13.856"></a><span id="l13.856" class="difflineplus">+        id: &quot;go6ijb0b46hlpbu4eeu92njevo_20060617T160000Z&quot;,</span>
<a href="#l13.857"></a><span id="l13.857" class="difflineplus">+        summary: &quot;New Event next week&quot;,</span>
<a href="#l13.858"></a><span id="l13.858" class="difflineplus">+        start: { dateTime: &quot;2006-06-17T18:00:00+02:00&quot; },</span>
<a href="#l13.859"></a><span id="l13.859" class="difflineplus">+        end: { dateTime: &quot;2006-06-17T20:00:00+02:00&quot; },</span>
<a href="#l13.860"></a><span id="l13.860" class="difflineplus">+        recurringEventId: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.861"></a><span id="l13.861" class="difflineplus">+        originalStartTime: { dateTime: &quot;2006-06-17T18:00:00+02:00&quot; }</span>
<a href="#l13.862"></a><span id="l13.862">     }];</span>
<a href="#l13.863"></a><span id="l13.863"> </span>
<a href="#l13.864"></a><span id="l13.864">     let client = yield gServer.getClient();</span>
<a href="#l13.865"></a><span id="l13.865">     let offline = client.wrappedJSObject.mCachedCalendar;</span>
<a href="#l13.866"></a><span id="l13.866">     let pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l13.867"></a><span id="l13.867">     let items = yield pclient.getAllItems();</span>
<a href="#l13.868"></a><span id="l13.868"> </span>
<a href="#l13.869"></a><span id="l13.869">     let meta = getAllMeta(offline);</span>
<a href="#l13.870"></a><span id="l13.870" class="difflineat">@@ -1527,27 +1527,27 @@ add_task(function* test_metadata_recurri</span>
<a href="#l13.871"></a><span id="l13.871">     gServer.resetClient(client);</span>
<a href="#l13.872"></a><span id="l13.872"> });</span>
<a href="#l13.873"></a><span id="l13.873"> </span>
<a href="#l13.874"></a><span id="l13.874"> add_task(function* test_conflict_modify() {</span>
<a href="#l13.875"></a><span id="l13.875">     // TODO task/event conflicts are handled in the same way so I'm going to</span>
<a href="#l13.876"></a><span id="l13.876">     // skip adding tests for tasks here, but it probably wouldn't hurt to</span>
<a href="#l13.877"></a><span id="l13.877">     // create them at some point.</span>
<a href="#l13.878"></a><span id="l13.878">     gServer.events = [{</span>
<a href="#l13.879"></a><span id="l13.879" class="difflineminus">-       &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.880"></a><span id="l13.880" class="difflineminus">-       &quot;etag&quot;: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.881"></a><span id="l13.881" class="difflineminus">-       &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.882"></a><span id="l13.882" class="difflineminus">-       &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.883"></a><span id="l13.883" class="difflineminus">-       &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.884"></a><span id="l13.884" class="difflineminus">-       &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.885"></a><span id="l13.885" class="difflineminus">-       &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.886"></a><span id="l13.886" class="difflineminus">-       &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.887"></a><span id="l13.887" class="difflineminus">-       &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.888"></a><span id="l13.888" class="difflineminus">-       &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.889"></a><span id="l13.889" class="difflineminus">-       &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.890"></a><span id="l13.890" class="difflineplus">+       kind: &quot;calendar#event&quot;,</span>
<a href="#l13.891"></a><span id="l13.891" class="difflineplus">+       etag: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.892"></a><span id="l13.892" class="difflineplus">+       id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.893"></a><span id="l13.893" class="difflineplus">+       created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.894"></a><span id="l13.894" class="difflineplus">+       updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.895"></a><span id="l13.895" class="difflineplus">+       summary: &quot;New Event&quot;,</span>
<a href="#l13.896"></a><span id="l13.896" class="difflineplus">+       creator: gServer.creator,</span>
<a href="#l13.897"></a><span id="l13.897" class="difflineplus">+       organizer: gServer.creator,</span>
<a href="#l13.898"></a><span id="l13.898" class="difflineplus">+       start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.899"></a><span id="l13.899" class="difflineplus">+       end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.900"></a><span id="l13.900" class="difflineplus">+       iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.901"></a><span id="l13.901">     }];</span>
<a href="#l13.902"></a><span id="l13.902">     let client = yield gServer.getClient();</span>
<a href="#l13.903"></a><span id="l13.903">     let pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l13.904"></a><span id="l13.904">     let item = (yield pclient.getAllItems())[0];</span>
<a href="#l13.905"></a><span id="l13.905"> </span>
<a href="#l13.906"></a><span id="l13.906">     // Case #1: Modified on server, modify locally, overwrite conflict</span>
<a href="#l13.907"></a><span id="l13.907">     MockConflictPrompt.overwrite = true;</span>
<a href="#l13.908"></a><span id="l13.908">     let newItem = item.clone();</span>
<a href="#l13.909"></a><span id="l13.909" class="difflineat">@@ -1615,27 +1615,27 @@ add_task(function* test_conflict_modify(</span>
<a href="#l13.910"></a><span id="l13.910">     gServer.resetClient(client);</span>
<a href="#l13.911"></a><span id="l13.911"> });</span>
<a href="#l13.912"></a><span id="l13.912"> </span>
<a href="#l13.913"></a><span id="l13.913"> add_task(function* test_conflict_delete() {</span>
<a href="#l13.914"></a><span id="l13.914">     // TODO task/event conflicts are handled in the same way so I'm going to</span>
<a href="#l13.915"></a><span id="l13.915">     // skip adding tests for tasks here, but it probably wouldn't hurt to</span>
<a href="#l13.916"></a><span id="l13.916">     // create them at some point.</span>
<a href="#l13.917"></a><span id="l13.917">     let coreEvent = {</span>
<a href="#l13.918"></a><span id="l13.918" class="difflineminus">-       &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.919"></a><span id="l13.919" class="difflineminus">-       &quot;etag&quot;: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.920"></a><span id="l13.920" class="difflineminus">-       &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.921"></a><span id="l13.921" class="difflineminus">-       &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.922"></a><span id="l13.922" class="difflineminus">-       &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.923"></a><span id="l13.923" class="difflineminus">-       &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.924"></a><span id="l13.924" class="difflineminus">-       &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.925"></a><span id="l13.925" class="difflineminus">-       &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.926"></a><span id="l13.926" class="difflineminus">-       &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.927"></a><span id="l13.927" class="difflineminus">-       &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.928"></a><span id="l13.928" class="difflineminus">-       &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.929"></a><span id="l13.929" class="difflineplus">+       kind: &quot;calendar#event&quot;,</span>
<a href="#l13.930"></a><span id="l13.930" class="difflineplus">+       etag: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.931"></a><span id="l13.931" class="difflineplus">+       id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.932"></a><span id="l13.932" class="difflineplus">+       created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.933"></a><span id="l13.933" class="difflineplus">+       updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.934"></a><span id="l13.934" class="difflineplus">+       summary: &quot;New Event&quot;,</span>
<a href="#l13.935"></a><span id="l13.935" class="difflineplus">+       creator: gServer.creator,</span>
<a href="#l13.936"></a><span id="l13.936" class="difflineplus">+       organizer: gServer.creator,</span>
<a href="#l13.937"></a><span id="l13.937" class="difflineplus">+       start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.938"></a><span id="l13.938" class="difflineplus">+       end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.939"></a><span id="l13.939" class="difflineplus">+       iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.940"></a><span id="l13.940">     };</span>
<a href="#l13.941"></a><span id="l13.941"> </span>
<a href="#l13.942"></a><span id="l13.942">     // Load intial event to server</span>
<a href="#l13.943"></a><span id="l13.943">     gServer.events = [coreEvent];</span>
<a href="#l13.944"></a><span id="l13.944">     let client = yield gServer.getClient();</span>
<a href="#l13.945"></a><span id="l13.945">     let pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l13.946"></a><span id="l13.946">     let item = (yield pclient.getAllItems())[0];</span>
<a href="#l13.947"></a><span id="l13.947"> </span>
<a href="#l13.948"></a><span id="l13.948" class="difflineat">@@ -1721,28 +1721,28 @@ add_task(function* test_conflict_delete(</span>
<a href="#l13.949"></a><span id="l13.949"> add_task(function* test_default_alarms() {</span>
<a href="#l13.950"></a><span id="l13.950">     let defaultReminders = [</span>
<a href="#l13.951"></a><span id="l13.951">         { method: &quot;popup&quot;, minutes: 10 },</span>
<a href="#l13.952"></a><span id="l13.952">         { method: &quot;email&quot;, minutes: 20 },</span>
<a href="#l13.953"></a><span id="l13.953">     ];</span>
<a href="#l13.954"></a><span id="l13.954">     gServer.calendarListData.defaultReminders = defaultReminders;</span>
<a href="#l13.955"></a><span id="l13.955">     gServer.eventsData.defaultReminders = defaultReminders;</span>
<a href="#l13.956"></a><span id="l13.956">     gServer.events = [{</span>
<a href="#l13.957"></a><span id="l13.957" class="difflineminus">-       &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.958"></a><span id="l13.958" class="difflineminus">-       &quot;etag&quot;: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.959"></a><span id="l13.959" class="difflineminus">-       &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.960"></a><span id="l13.960" class="difflineminus">-       &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.961"></a><span id="l13.961" class="difflineminus">-       &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.962"></a><span id="l13.962" class="difflineminus">-       &quot;summary&quot;: &quot;Default Reminder&quot;,</span>
<a href="#l13.963"></a><span id="l13.963" class="difflineminus">-       &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.964"></a><span id="l13.964" class="difflineminus">-       &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.965"></a><span id="l13.965" class="difflineminus">-       &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.966"></a><span id="l13.966" class="difflineminus">-       &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.967"></a><span id="l13.967" class="difflineminus">-       &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;,</span>
<a href="#l13.968"></a><span id="l13.968" class="difflineminus">-       &quot;reminders&quot;: { &quot;useDefault&quot;: true }</span>
<a href="#l13.969"></a><span id="l13.969" class="difflineplus">+       kind: &quot;calendar#event&quot;,</span>
<a href="#l13.970"></a><span id="l13.970" class="difflineplus">+       etag: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.971"></a><span id="l13.971" class="difflineplus">+       id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.972"></a><span id="l13.972" class="difflineplus">+       created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.973"></a><span id="l13.973" class="difflineplus">+       updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.974"></a><span id="l13.974" class="difflineplus">+       summary: &quot;Default Reminder&quot;,</span>
<a href="#l13.975"></a><span id="l13.975" class="difflineplus">+       creator: gServer.creator,</span>
<a href="#l13.976"></a><span id="l13.976" class="difflineplus">+       organizer: gServer.creator,</span>
<a href="#l13.977"></a><span id="l13.977" class="difflineplus">+       start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.978"></a><span id="l13.978" class="difflineplus">+       end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.979"></a><span id="l13.979" class="difflineplus">+       iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;,</span>
<a href="#l13.980"></a><span id="l13.980" class="difflineplus">+       reminders: { useDefault: true }</span>
<a href="#l13.981"></a><span id="l13.981">     }];</span>
<a href="#l13.982"></a><span id="l13.982"> </span>
<a href="#l13.983"></a><span id="l13.983">     // Case #1: read default alarms from event stream</span>
<a href="#l13.984"></a><span id="l13.984">     let client = yield gServer.getClient();</span>
<a href="#l13.985"></a><span id="l13.985">     let pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l13.986"></a><span id="l13.986">     equal(client.getProperty(&quot;settings.defaultReminders&quot;), JSON.stringify(defaultReminders));</span>
<a href="#l13.987"></a><span id="l13.987"> </span>
<a href="#l13.988"></a><span id="l13.988">     let item = (yield pclient.getAllItems())[0];</span>
<a href="#l13.989"></a><span id="l13.989" class="difflineat">@@ -1831,60 +1831,60 @@ add_task(function* test_default_alarms()</span>
<a href="#l13.990"></a><span id="l13.990">     item = (yield pclient.getAllItems())[0];</span>
<a href="#l13.991"></a><span id="l13.991">     equal(item.getProperty(&quot;X-DEFAULT-ALARM&quot;), &quot;TRUE&quot;);</span>
<a href="#l13.992"></a><span id="l13.992"> </span>
<a href="#l13.993"></a><span id="l13.993">     gServer.resetClient(client);</span>
<a href="#l13.994"></a><span id="l13.994"> });</span>
<a href="#l13.995"></a><span id="l13.995"> </span>
<a href="#l13.996"></a><span id="l13.996"> add_task(function* test_paginate() {</span>
<a href="#l13.997"></a><span id="l13.997">     gServer.events = [{</span>
<a href="#l13.998"></a><span id="l13.998" class="difflineminus">-       &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.999"></a><span id="l13.999" class="difflineminus">-       &quot;etag&quot;: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.1000"></a><span id="l13.1000" class="difflineminus">-       &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.1001"></a><span id="l13.1001" class="difflineminus">-       &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.1002"></a><span id="l13.1002" class="difflineminus">-       &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.1003"></a><span id="l13.1003" class="difflineminus">-       &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.1004"></a><span id="l13.1004" class="difflineminus">-       &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.1005"></a><span id="l13.1005" class="difflineminus">-       &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.1006"></a><span id="l13.1006" class="difflineminus">-       &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.1007"></a><span id="l13.1007" class="difflineminus">-       &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.1008"></a><span id="l13.1008" class="difflineminus">-       &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.1009"></a><span id="l13.1009" class="difflineplus">+       kind: &quot;calendar#event&quot;,</span>
<a href="#l13.1010"></a><span id="l13.1010" class="difflineplus">+       etag: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.1011"></a><span id="l13.1011" class="difflineplus">+       id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.1012"></a><span id="l13.1012" class="difflineplus">+       created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.1013"></a><span id="l13.1013" class="difflineplus">+       updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.1014"></a><span id="l13.1014" class="difflineplus">+       summary: &quot;New Event&quot;,</span>
<a href="#l13.1015"></a><span id="l13.1015" class="difflineplus">+       creator: gServer.creator,</span>
<a href="#l13.1016"></a><span id="l13.1016" class="difflineplus">+       organizer: gServer.creator,</span>
<a href="#l13.1017"></a><span id="l13.1017" class="difflineplus">+       start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.1018"></a><span id="l13.1018" class="difflineplus">+       end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.1019"></a><span id="l13.1019" class="difflineplus">+       iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.1020"></a><span id="l13.1020">     }, {</span>
<a href="#l13.1021"></a><span id="l13.1021" class="difflineminus">-       &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.1022"></a><span id="l13.1022" class="difflineminus">-       &quot;etag&quot;: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.1023"></a><span id="l13.1023" class="difflineminus">-       &quot;id&quot;: &quot;fepf8uf6n7n04w7feukucs9n8e&quot;,</span>
<a href="#l13.1024"></a><span id="l13.1024" class="difflineminus">-       &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.1025"></a><span id="l13.1025" class="difflineminus">-       &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.1026"></a><span id="l13.1026" class="difflineminus">-       &quot;summary&quot;: &quot;New Event 2&quot;,</span>
<a href="#l13.1027"></a><span id="l13.1027" class="difflineminus">-       &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.1028"></a><span id="l13.1028" class="difflineminus">-       &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.1029"></a><span id="l13.1029" class="difflineminus">-       &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.1030"></a><span id="l13.1030" class="difflineminus">-       &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.1031"></a><span id="l13.1031" class="difflineminus">-       &quot;iCalUID&quot;: &quot;fepf8uf6n7n04w7feukucs9n8e@google.com&quot;</span>
<a href="#l13.1032"></a><span id="l13.1032" class="difflineplus">+       kind: &quot;calendar#event&quot;,</span>
<a href="#l13.1033"></a><span id="l13.1033" class="difflineplus">+       etag: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.1034"></a><span id="l13.1034" class="difflineplus">+       id: &quot;fepf8uf6n7n04w7feukucs9n8e&quot;,</span>
<a href="#l13.1035"></a><span id="l13.1035" class="difflineplus">+       created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.1036"></a><span id="l13.1036" class="difflineplus">+       updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.1037"></a><span id="l13.1037" class="difflineplus">+       summary: &quot;New Event 2&quot;,</span>
<a href="#l13.1038"></a><span id="l13.1038" class="difflineplus">+       creator: gServer.creator,</span>
<a href="#l13.1039"></a><span id="l13.1039" class="difflineplus">+       organizer: gServer.creator,</span>
<a href="#l13.1040"></a><span id="l13.1040" class="difflineplus">+       start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.1041"></a><span id="l13.1041" class="difflineplus">+       end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.1042"></a><span id="l13.1042" class="difflineplus">+       iCalUID: &quot;fepf8uf6n7n04w7feukucs9n8e@google.com&quot;</span>
<a href="#l13.1043"></a><span id="l13.1043">     }];</span>
<a href="#l13.1044"></a><span id="l13.1044"> </span>
<a href="#l13.1045"></a><span id="l13.1045">     gServer.tasks = [</span>
<a href="#l13.1046"></a><span id="l13.1046">        {</span>
<a href="#l13.1047"></a><span id="l13.1047" class="difflineminus">-        &quot;kind&quot;: &quot;tasks#task&quot;,</span>
<a href="#l13.1048"></a><span id="l13.1048" class="difflineminus">-        &quot;id&quot;: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.1049"></a><span id="l13.1049" class="difflineminus">-        &quot;etag&quot;: &quot;\&quot;Lck7VNWFJuXdzMtOmrYPx0KFV2s/LTIwNjA4MDcyNDM\&quot;&quot;,</span>
<a href="#l13.1050"></a><span id="l13.1050" class="difflineminus">-        &quot;title&quot;: &quot;New Task&quot;,</span>
<a href="#l13.1051"></a><span id="l13.1051" class="difflineminus">-        &quot;updated&quot;: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.1052"></a><span id="l13.1052" class="difflineminus">-        &quot;selfLink&quot;: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.1053"></a><span id="l13.1053" class="difflineminus">-        &quot;position&quot;: &quot;00000000000000130998&quot;,</span>
<a href="#l13.1054"></a><span id="l13.1054" class="difflineminus">-        &quot;status&quot;: &quot;needsAction&quot;</span>
<a href="#l13.1055"></a><span id="l13.1055" class="difflineplus">+        kind: &quot;tasks#task&quot;,</span>
<a href="#l13.1056"></a><span id="l13.1056" class="difflineplus">+        id: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.1057"></a><span id="l13.1057" class="difflineplus">+        etag: &quot;\&quot;Lck7VNWFJuXdzMtOmrYPx0KFV2s/LTIwNjA4MDcyNDM\&quot;&quot;,</span>
<a href="#l13.1058"></a><span id="l13.1058" class="difflineplus">+        title: &quot;New Task&quot;,</span>
<a href="#l13.1059"></a><span id="l13.1059" class="difflineplus">+        updated: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.1060"></a><span id="l13.1060" class="difflineplus">+        selfLink: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l13.1061"></a><span id="l13.1061" class="difflineplus">+        position: &quot;00000000000000130998&quot;,</span>
<a href="#l13.1062"></a><span id="l13.1062" class="difflineplus">+        status: &quot;needsAction&quot;</span>
<a href="#l13.1063"></a><span id="l13.1063">       }, {</span>
<a href="#l13.1064"></a><span id="l13.1064" class="difflineminus">-        &quot;kind&quot;: &quot;tasks#task&quot;,</span>
<a href="#l13.1065"></a><span id="l13.1065" class="difflineminus">-        &quot;id&quot;: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo5OTU0Mjk2MzQ&quot;,</span>
<a href="#l13.1066"></a><span id="l13.1066" class="difflineminus">-        &quot;etag&quot;: &quot;\&quot;Lck7VNWFJuXdzMtOmrYPx0KFV2s/LTQyNTY0MjUwOQ\&quot;&quot;,</span>
<a href="#l13.1067"></a><span id="l13.1067" class="difflineminus">-        &quot;title&quot;: &quot;New Task 2&quot;,</span>
<a href="#l13.1068"></a><span id="l13.1068" class="difflineminus">-        &quot;updated&quot;: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.1069"></a><span id="l13.1069" class="difflineminus">-        &quot;selfLink&quot;: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo5OTU0Mjk2MzQ&quot;,</span>
<a href="#l13.1070"></a><span id="l13.1070" class="difflineminus">-        &quot;position&quot;: &quot;00000000000000130993&quot;,</span>
<a href="#l13.1071"></a><span id="l13.1071" class="difflineminus">-        &quot;status&quot;: &quot;needsAction&quot;</span>
<a href="#l13.1072"></a><span id="l13.1072" class="difflineplus">+        kind: &quot;tasks#task&quot;,</span>
<a href="#l13.1073"></a><span id="l13.1073" class="difflineplus">+        id: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo5OTU0Mjk2MzQ&quot;,</span>
<a href="#l13.1074"></a><span id="l13.1074" class="difflineplus">+        etag: &quot;\&quot;Lck7VNWFJuXdzMtOmrYPx0KFV2s/LTQyNTY0MjUwOQ\&quot;&quot;,</span>
<a href="#l13.1075"></a><span id="l13.1075" class="difflineplus">+        title: &quot;New Task 2&quot;,</span>
<a href="#l13.1076"></a><span id="l13.1076" class="difflineplus">+        updated: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l13.1077"></a><span id="l13.1077" class="difflineplus">+        selfLink: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo5OTU0Mjk2MzQ&quot;,</span>
<a href="#l13.1078"></a><span id="l13.1078" class="difflineplus">+        position: &quot;00000000000000130993&quot;,</span>
<a href="#l13.1079"></a><span id="l13.1079" class="difflineplus">+        status: &quot;needsAction&quot;</span>
<a href="#l13.1080"></a><span id="l13.1080">       }</span>
<a href="#l13.1081"></a><span id="l13.1081">     ];</span>
<a href="#l13.1082"></a><span id="l13.1082"> </span>
<a href="#l13.1083"></a><span id="l13.1083">     Preferences.set(&quot;calendar.google.maxResultsPerRequest&quot;, 1);</span>
<a href="#l13.1084"></a><span id="l13.1084"> </span>
<a href="#l13.1085"></a><span id="l13.1085">     let client = yield gServer.getClient();</span>
<a href="#l13.1086"></a><span id="l13.1086">     let pclient = cal.async.promisifyCalendar(client);</span>
<a href="#l13.1087"></a><span id="l13.1087"> </span>
<a href="#l13.1088"></a><span id="l13.1088" class="difflineat">@@ -1902,45 +1902,45 @@ add_task(function* test_paginate() {</span>
<a href="#l13.1089"></a><span id="l13.1089">     Preferences.reset(&quot;calendar.google.maxResultsPerRequest&quot;);</span>
<a href="#l13.1090"></a><span id="l13.1090">     gServer.resetClient(client);</span>
<a href="#l13.1091"></a><span id="l13.1091"> });</span>
<a href="#l13.1092"></a><span id="l13.1092"> </span>
<a href="#l13.1093"></a><span id="l13.1093"> add_task(function* test_incremental_reset() {</span>
<a href="#l13.1094"></a><span id="l13.1094">     gServer.syncs = [{</span>
<a href="#l13.1095"></a><span id="l13.1095">         token: &quot;1&quot;,</span>
<a href="#l13.1096"></a><span id="l13.1096">         events: [{</span>
<a href="#l13.1097"></a><span id="l13.1097" class="difflineminus">-            &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.1098"></a><span id="l13.1098" class="difflineminus">-            &quot;etag&quot;: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.1099"></a><span id="l13.1099" class="difflineminus">-            &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.1100"></a><span id="l13.1100" class="difflineminus">-            &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.1101"></a><span id="l13.1101" class="difflineminus">-            &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.1102"></a><span id="l13.1102" class="difflineminus">-            &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l13.1103"></a><span id="l13.1103" class="difflineminus">-            &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.1104"></a><span id="l13.1104" class="difflineminus">-            &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.1105"></a><span id="l13.1105" class="difflineminus">-            &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.1106"></a><span id="l13.1106" class="difflineminus">-            &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.1107"></a><span id="l13.1107" class="difflineminus">-            &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.1108"></a><span id="l13.1108" class="difflineplus">+            kind: &quot;calendar#event&quot;,</span>
<a href="#l13.1109"></a><span id="l13.1109" class="difflineplus">+            etag: &quot;\&quot;1\&quot;&quot;,</span>
<a href="#l13.1110"></a><span id="l13.1110" class="difflineplus">+            id: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l13.1111"></a><span id="l13.1111" class="difflineplus">+            created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.1112"></a><span id="l13.1112" class="difflineplus">+            updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.1113"></a><span id="l13.1113" class="difflineplus">+            summary: &quot;New Event&quot;,</span>
<a href="#l13.1114"></a><span id="l13.1114" class="difflineplus">+            creator: gServer.creator,</span>
<a href="#l13.1115"></a><span id="l13.1115" class="difflineplus">+            organizer: gServer.creator,</span>
<a href="#l13.1116"></a><span id="l13.1116" class="difflineplus">+            start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.1117"></a><span id="l13.1117" class="difflineplus">+            end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.1118"></a><span id="l13.1118" class="difflineplus">+            iCalUID: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l13.1119"></a><span id="l13.1119">         }]</span>
<a href="#l13.1120"></a><span id="l13.1120">     }, {</span>
<a href="#l13.1121"></a><span id="l13.1121">         token: &quot;2&quot;,</span>
<a href="#l13.1122"></a><span id="l13.1122">         reset: true</span>
<a href="#l13.1123"></a><span id="l13.1123">     }, {</span>
<a href="#l13.1124"></a><span id="l13.1124">         token: &quot;3&quot;,</span>
<a href="#l13.1125"></a><span id="l13.1125">         events: [{</span>
<a href="#l13.1126"></a><span id="l13.1126" class="difflineminus">-            &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l13.1127"></a><span id="l13.1127" class="difflineminus">-            &quot;etag&quot;: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.1128"></a><span id="l13.1128" class="difflineminus">-            &quot;id&quot;: &quot;fepf8uf6n7n04w7feukucs9n8e&quot;,</span>
<a href="#l13.1129"></a><span id="l13.1129" class="difflineminus">-            &quot;created&quot;: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.1130"></a><span id="l13.1130" class="difflineminus">-            &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.1131"></a><span id="l13.1131" class="difflineminus">-            &quot;summary&quot;: &quot;New Event 2&quot;,</span>
<a href="#l13.1132"></a><span id="l13.1132" class="difflineminus">-            &quot;creator&quot;: gServer.creator,</span>
<a href="#l13.1133"></a><span id="l13.1133" class="difflineminus">-            &quot;organizer&quot;: gServer.creator,</span>
<a href="#l13.1134"></a><span id="l13.1134" class="difflineminus">-            &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.1135"></a><span id="l13.1135" class="difflineminus">-            &quot;end&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.1136"></a><span id="l13.1136" class="difflineminus">-            &quot;iCalUID&quot;: &quot;fepf8uf6n7n04w7feukucs9n8e@google.com&quot;</span>
<a href="#l13.1137"></a><span id="l13.1137" class="difflineplus">+            kind: &quot;calendar#event&quot;,</span>
<a href="#l13.1138"></a><span id="l13.1138" class="difflineplus">+            etag: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l13.1139"></a><span id="l13.1139" class="difflineplus">+            id: &quot;fepf8uf6n7n04w7feukucs9n8e&quot;,</span>
<a href="#l13.1140"></a><span id="l13.1140" class="difflineplus">+            created: &quot;2006-06-08T21:04:52.000Z&quot;,</span>
<a href="#l13.1141"></a><span id="l13.1141" class="difflineplus">+            updated: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l13.1142"></a><span id="l13.1142" class="difflineplus">+            summary: &quot;New Event 2&quot;,</span>
<a href="#l13.1143"></a><span id="l13.1143" class="difflineplus">+            creator: gServer.creator,</span>
<a href="#l13.1144"></a><span id="l13.1144" class="difflineplus">+            organizer: gServer.creator,</span>
<a href="#l13.1145"></a><span id="l13.1145" class="difflineplus">+            start: { dateTime: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l13.1146"></a><span id="l13.1146" class="difflineplus">+            end: { dateTime: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l13.1147"></a><span id="l13.1147" class="difflineplus">+            iCalUID: &quot;fepf8uf6n7n04w7feukucs9n8e@google.com&quot;</span>
<a href="#l13.1148"></a><span id="l13.1148">         }]</span>
<a href="#l13.1149"></a><span id="l13.1149">     }];</span>
<a href="#l13.1150"></a><span id="l13.1150">     let client = yield gServer.getClient();</span>
<a href="#l13.1151"></a><span id="l13.1151">     let pclient = cal.async.promisifyCalendar(client);</span>
<a href="#l13.1152"></a><span id="l13.1152"> </span>
<a href="#l13.1153"></a><span id="l13.1153">     let items = yield pclient.getAllItems();</span>
<a href="#l13.1154"></a><span id="l13.1154">     equal(items.length, 1);</span>
<a href="#l13.1155"></a><span id="l13.1155">     equal(items[0].title, &quot;New Event&quot;);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

