<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 5925:01e6d9b3049c7e2a3d6add039ba5f4ef46010d57</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 01e6d9b3049c7e2a3d6add039ba5f4ef46010d57" />
<meta property="og:url" content="/comm-central/rev/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57" />
<meta property="og:description" content="CLOSED TREE bug 575740, r/sr=standard8 adapt to component mgr changes" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 01e6d9b3049c7e2a3d6add039ba5f4ef46010d57 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57">shortlog</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57">files</a> |
changeset |
<a href="/comm-central/raw-rev/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57">raw</a>  | <a href="/comm-central/archive/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
CLOSED TREE <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=575740">bug 575740</a>, r/sr=standard8 adapt to component mgr changes
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#68;&#97;&#118;&#105;&#100;&#32;&#66;&#105;&#101;&#110;&#118;&#101;&#110;&#117;&#32;&#60;&#98;&#105;&#101;&#110;&#118;&#101;&#110;&#117;&#64;&#110;&#118;&#101;&#110;&#116;&#117;&#114;&#101;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 04 Jul 2010 07:37:32 -0700</td></tr>

<tr>
 <td>changeset 5925</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57">01e6d9b3049c7e2a3d6add039ba5f4ef46010d57</a></td>
</tr>



<tr>
<td>parent 5924</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/0a4a9ee1fd80563c1a7673c79894f8c6a76dbf4d">0a4a9ee1fd80563c1a7673c79894f8c6a76dbf4d</a>
</td>
</tr>

<tr>
<td>child 5926</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/7bd310926d2ec741ee44a7ad987d9fdca3e049cc">7bd310926d2ec741ee44a7ad987d9fdca3e049cc</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=01e6d9b3049c7e2a3d6add039ba5f4ef46010d57">4586</a></td></tr>
<tr><td>push user</td><td>bienvenu@nventure.com</td></tr>
<tr><td>push date</td><td class="date age">Sun, 04 Jul 2010 14:35:56 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@01e6d9b3049c [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=01e6d9b3049c7e2a3d6add039ba5f4ef46010d57">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=01e6d9b3049c7e2a3d6add039ba5f4ef46010d57&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=01e6d9b3049c7e2a3d6add039ba5f4ef46010d57&newProject=comm-central&newRevision=01e6d9b3049c7e2a3d6add039ba5f4ef46010d57&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=01e6d9b3049c7e2a3d6add039ba5f4ef46010d57&newProject=comm-central&newRevision=01e6d9b3049c7e2a3d6add039ba5f4ef46010d57&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=01e6d9b3049c7e2a3d6add039ba5f4ef46010d57&newProject=comm-central&newRevision=01e6d9b3049c7e2a3d6add039ba5f4ef46010d57&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>

<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=575740">575740</a></td></tr>




</table></div>

<div class="page_body description">CLOSED TREE <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=575740">bug 575740</a>, r/sr=standard8 adapt to component mgr changes</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/addrbook/build/nsAbFactory.cpp">mailnews/addrbook/build/nsAbFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/addrbook/build/nsAbFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/addrbook/build/nsAbFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/addrbook/build/nsAbFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/addrbook/build/nsAbFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/addrbook/build/nsAbFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/build/nsMsgFactory.cpp">mailnews/base/build/nsMsgFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/build/nsMsgFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/build/nsMsgFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/build/nsMsgFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/build/nsMsgFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/build/nsMsgFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/util/nsStopwatch.cpp">mailnews/base/util/nsStopwatch.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/util/nsStopwatch.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/util/nsStopwatch.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/util/nsStopwatch.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/util/nsStopwatch.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/base/util/nsStopwatch.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/build/nsMsgCompFactory.cpp">mailnews/compose/build/nsMsgCompFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/build/nsMsgCompFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/build/nsMsgCompFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/build/nsMsgCompFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/build/nsMsgCompFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/build/nsMsgCompFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/src/nsMsgQuote.cpp">mailnews/compose/src/nsMsgQuote.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/src/nsMsgQuote.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/src/nsMsgQuote.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/src/nsMsgQuote.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/src/nsMsgQuote.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/compose/src/nsMsgQuote.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">mailnews/db/msgdb/build/nsMsgDBFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/bayesian-spam-filter/build/nsBayesianFilterFactory.cpp">mailnews/extensions/bayesian-spam-filter/build/nsBayesianFilterFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/bayesian-spam-filter/build/nsBayesianFilterFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/bayesian-spam-filter/build/nsBayesianFilterFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/bayesian-spam-filter/build/nsBayesianFilterFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/bayesian-spam-filter/build/nsBayesianFilterFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/bayesian-spam-filter/build/nsBayesianFilterFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/fts3/build/nsFts3TokenizerFactory.cpp">mailnews/extensions/fts3/build/nsFts3TokenizerFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/fts3/build/nsFts3TokenizerFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/fts3/build/nsFts3TokenizerFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/fts3/build/nsFts3TokenizerFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/fts3/build/nsFts3TokenizerFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/fts3/build/nsFts3TokenizerFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mailviews/build/nsMsgMailViewsFactory.cpp">mailnews/extensions/mailviews/build/nsMsgMailViewsFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mailviews/build/nsMsgMailViewsFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mailviews/build/nsMsgMailViewsFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mailviews/build/nsMsgMailViewsFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mailviews/build/nsMsgMailViewsFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mailviews/build/nsMsgMailViewsFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mdn/build/nsMsgMdnFactory.cpp">mailnews/extensions/mdn/build/nsMsgMdnFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mdn/build/nsMsgMdnFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mdn/build/nsMsgMdnFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mdn/build/nsMsgMdnFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mdn/build/nsMsgMdnFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/mdn/build/nsMsgMdnFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/smime/build/nsMsgSMIMEFactory.cpp">mailnews/extensions/smime/build/nsMsgSMIMEFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/smime/build/nsMsgSMIMEFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/smime/build/nsMsgSMIMEFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/smime/build/nsMsgSMIMEFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/smime/build/nsMsgSMIMEFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/extensions/smime/build/nsMsgSMIMEFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/imap/build/nsImapFactory.cpp">mailnews/imap/build/nsImapFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/imap/build/nsImapFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/imap/build/nsImapFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/imap/build/nsImapFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/imap/build/nsImapFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/imap/build/nsImapFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/local/build/nsMsgLocalFactory.cpp">mailnews/local/build/nsMsgLocalFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/local/build/nsMsgLocalFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/local/build/nsMsgLocalFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/local/build/nsMsgLocalFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/local/build/nsMsgLocalFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/local/build/nsMsgLocalFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mapi/mapihook/src/msgMapiSupport.cpp">mailnews/mapi/mapihook/src/msgMapiSupport.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mapi/mapihook/src/msgMapiSupport.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mapi/mapihook/src/msgMapiSupport.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mapi/mapihook/src/msgMapiSupport.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mapi/mapihook/src/msgMapiSupport.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mapi/mapihook/src/msgMapiSupport.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/build/nsMimeModule.cpp">mailnews/mime/build/nsMimeModule.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/build/nsMimeModule.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/build/nsMimeModule.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/build/nsMimeModule.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/build/nsMimeModule.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/build/nsMimeModule.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/cthandlers/vcard/nsVCardFactory.cpp">mailnews/mime/cthandlers/vcard/nsVCardFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/cthandlers/vcard/nsVCardFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/cthandlers/vcard/nsVCardFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/cthandlers/vcard/nsVCardFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/cthandlers/vcard/nsVCardFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/cthandlers/vcard/nsVCardFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/emitters/build/nsEmitterFactory.cpp">mailnews/mime/emitters/build/nsEmitterFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/emitters/build/nsEmitterFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/emitters/build/nsEmitterFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/emitters/build/nsEmitterFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/emitters/build/nsEmitterFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/emitters/build/nsEmitterFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/public/nsMsgMimeCID.h">mailnews/mime/public/nsMsgMimeCID.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/public/nsMsgMimeCID.h">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/public/nsMsgMimeCID.h">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/public/nsMsgMimeCID.h">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/public/nsMsgMimeCID.h">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/mime/public/nsMsgMimeCID.h">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/news/build/nsMsgNewsFactory.cpp">mailnews/news/build/nsMsgNewsFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/news/build/nsMsgNewsFactory.cpp">file</a> |
<a href="/comm-central/annotate/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/news/build/nsMsgNewsFactory.cpp">annotate</a> |
<a href="/comm-central/diff/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/news/build/nsMsgNewsFactory.cpp">diff</a> |
<a href="/comm-central/comparison/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/news/build/nsMsgNewsFactory.cpp">comparison</a> |
<a href="/comm-central/log/01e6d9b3049c7e2a3d6add039ba5f4ef46010d57/mailnews/news/build/nsMsgNewsFactory.cpp">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mailnews/addrbook/build/nsAbFactory.cpp</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mailnews/addrbook/build/nsAbFactory.cpp</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -295,17 +295,17 @@ msgAbModuleDtor()</span>
<a href="#l1.4"></a><span id="l1.4"> {</span>
<a href="#l1.5"></a><span id="l1.5">   nsAddrDatabase::CleanupCache();</span>
<a href="#l1.6"></a><span id="l1.6"> }</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> static const mozilla::Module kAddressBookModule = {</span>
<a href="#l1.9"></a><span id="l1.9">   mozilla::Module::kVersion,</span>
<a href="#l1.10"></a><span id="l1.10">   kAddressBookCIDs,</span>
<a href="#l1.11"></a><span id="l1.11">   kAddressBookContracts,</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-  NULL,</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+  kAddressBookCategories,</span>
<a href="#l1.14"></a><span id="l1.14">   NULL,</span>
<a href="#l1.15"></a><span id="l1.15">   NULL,</span>
<a href="#l1.16"></a><span id="l1.16">   msgAbModuleDtor</span>
<a href="#l1.17"></a><span id="l1.17"> };</span>
<a href="#l1.18"></a><span id="l1.18"> </span>
<a href="#l1.19"></a><span id="l1.19"> NSMODULE_DEFN(addressbook) = &amp;kAddressBookModule;</span>
<a href="#l1.20"></a><span id="l1.20"> </span>
<a href="#l1.21"></a><span id="l1.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mailnews/base/build/nsMsgFactory.cpp</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mailnews/base/build/nsMsgFactory.cpp</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -58,21 +58,21 @@</span>
<a href="#l2.4"></a><span id="l2.4">  * </span>
<a href="#l2.5"></a><span id="l2.5">  * ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION!</span>
<a href="#l2.6"></a><span id="l2.6">  * ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION!</span>
<a href="#l2.7"></a><span id="l2.7">  * </span>
<a href="#l2.8"></a><span id="l2.8">  * ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION!</span>
<a href="#l2.9"></a><span id="l2.9">  * ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION! ATTENTION!</span>
<a href="#l2.10"></a><span id="l2.10">  * ****************************************************************************/</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l2.13"></a><span id="l2.13"> #include &quot;nsIFactory.h&quot;</span>
<a href="#l2.14"></a><span id="l2.14"> #include &quot;nsISupports.h&quot;</span>
<a href="#l2.15"></a><span id="l2.15"> #include &quot;msgCore.h&quot;</span>
<a href="#l2.16"></a><span id="l2.16"> #include &quot;nsIModule.h&quot;</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l2.18"></a><span id="l2.18"> #include &quot;nsMsgBaseCID.h&quot;</span>
<a href="#l2.19"></a><span id="l2.19"> #include &quot;pratom.h&quot;</span>
<a href="#l2.20"></a><span id="l2.20"> #include &quot;nsICategoryManager.h&quot;</span>
<a href="#l2.21"></a><span id="l2.21"> #include &quot;nsIComponentManager.h&quot;</span>
<a href="#l2.22"></a><span id="l2.22"> #include &quot;nsIServiceManager.h&quot;</span>
<a href="#l2.23"></a><span id="l2.23"> #include &quot;rdf.h&quot;</span>
<a href="#l2.24"></a><span id="l2.24"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l2.25"></a><span id="l2.25"> </span>
<a href="#l2.26"></a><span id="l2.26" class="difflineat">@@ -207,307 +207,220 @@ NS_GENERIC_FACTORY_CONSTRUCTOR_INIT(nsMe</span>
<a href="#l2.27"></a><span id="l2.27"> NS_GENERIC_FACTORY_CONSTRUCTOR_INIT(nsMessengerUnixIntegration, Init)</span>
<a href="#l2.28"></a><span id="l2.28"> #endif</span>
<a href="#l2.29"></a><span id="l2.29"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMessengerContentHandler)</span>
<a href="#l2.30"></a><span id="l2.30"> NS_GENERIC_FACTORY_CONSTRUCTOR_INIT(nsMsgContentPolicy, Init)</span>
<a href="#l2.31"></a><span id="l2.31"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMailDirProvider)</span>
<a href="#l2.32"></a><span id="l2.32"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgShutdownService)</span>
<a href="#l2.33"></a><span id="l2.33"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsStopwatch)</span>
<a href="#l2.34"></a><span id="l2.34"> </span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-static NS_METHOD</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-RegisterMailnewsContentPolicy(nsIComponentManager *aCompMgr, nsIFile *aPath,</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-                              const char *registryLocation, const char *componentType,</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineminus">-                              const nsModuleComponentInfo *info)</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineminus">-{</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineminus">-  nsresult rv;</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineminus">-  nsCOMPtr&lt;nsICategoryManager&gt; catman =</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineminus">-      do_GetService(NS_CATEGORYMANAGER_CONTRACTID, &amp;rv);</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineminus">-  if (NS_FAILED(rv)) return rv;</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineminus">-  nsCString previous;</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineminus">-  return catman-&gt;AddCategoryEntry(&quot;content-policy&quot;,</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineminus">-                                  NS_MSGCONTENTPOLICY_CONTRACTID,</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineminus">-                                  NS_MSGCONTENTPOLICY_CONTRACTID,</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineminus">-                                  PR_TRUE, PR_TRUE, getter_Copies(previous));</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineminus">-}</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineminus">-static NS_METHOD</span>
<a href="#l2.52"></a><span id="l2.52" class="difflineminus">-UnregisterMailnewsContentPolicy(nsIComponentManager *aCompMgr, nsIFile *aPath,</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineminus">-                        const char *registryLocation,</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineminus">-                        const nsModuleComponentInfo *info)</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineminus">-{</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineminus">-  nsresult rv;</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineminus">-  nsCOMPtr&lt;nsICategoryManager&gt; catman =</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineminus">-      do_GetService(NS_CATEGORYMANAGER_CONTRACTID, &amp;rv);</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineminus">-  if (NS_FAILED(rv)) return rv;</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineminus">-</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-  return catman-&gt;DeleteCategoryEntry(&quot;content-policy&quot;,</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineminus">-                                     NS_MSGCONTENTPOLICY_CONTRACTID,</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineminus">-                                     PR_TRUE);</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineminus">-}</span>
<a href="#l2.65"></a><span id="l2.65" class="difflineminus">-</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineminus">-#ifdef XP_MACOSX</span>
<a href="#l2.67"></a><span id="l2.67" class="difflineminus">-static NS_METHOD RegisterOSXIntegration(nsIComponentManager *aCompMgr,</span>
<a href="#l2.68"></a><span id="l2.68" class="difflineminus">-                                        nsIFile *aPath,</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineminus">-                                        const char *registryLocation,</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineminus">-                                        const char *componentType,</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineminus">-                                        const nsModuleComponentInfo *info)</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineminus">-{</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineminus">-  nsresult rv;</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineminus">-  nsCOMPtr&lt;nsICategoryManager&gt; catman =</span>
<a href="#l2.75"></a><span id="l2.75" class="difflineminus">-    do_GetService(NS_CATEGORYMANAGER_CONTRACTID, &amp;rv);</span>
<a href="#l2.76"></a><span id="l2.76" class="difflineminus">-  NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l2.77"></a><span id="l2.77" class="difflineminus">-</span>
<a href="#l2.78"></a><span id="l2.78" class="difflineminus">-  nsCString previous;</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineminus">-  return catman-&gt;AddCategoryEntry(&quot;app-startup&quot;,</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineminus">-                                  NS_MESSENGEROSINTEGRATION_CONTRACTID,</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineminus">-                                  &quot;service,&quot; NS_MESSENGEROSINTEGRATION_CONTRACTID,</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineminus">-                                  PR_TRUE, PR_TRUE, getter_Copies(previous));</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineminus">-}</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineminus">-</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineminus">-static NS_METHOD UnregisterOSXIntegration(nsIComponentManager *aCompMgr,</span>
<a href="#l2.86"></a><span id="l2.86" class="difflineminus">-                                          nsIFile *aPath,</span>
<a href="#l2.87"></a><span id="l2.87" class="difflineminus">-                                          const char *registryLocation,</span>
<a href="#l2.88"></a><span id="l2.88" class="difflineminus">-                                          const nsModuleComponentInfo *info)</span>
<a href="#l2.89"></a><span id="l2.89" class="difflineminus">-{</span>
<a href="#l2.90"></a><span id="l2.90" class="difflineminus">-  nsresult rv;</span>
<a href="#l2.91"></a><span id="l2.91" class="difflineminus">-  nsCOMPtr&lt;nsICategoryManager&gt; catman =</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineminus">-    do_GetService(NS_CATEGORYMANAGER_CONTRACTID, &amp;rv);</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineminus">-  NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l2.94"></a><span id="l2.94" class="difflineminus">-</span>
<a href="#l2.95"></a><span id="l2.95" class="difflineminus">-  return catman-&gt;DeleteCategoryEntry(&quot;app-startup&quot;,</span>
<a href="#l2.96"></a><span id="l2.96" class="difflineminus">-                                     NS_MESSENGEROSINTEGRATION_CONTRACTID,</span>
<a href="#l2.97"></a><span id="l2.97" class="difflineminus">-                                     PR_TRUE);</span>
<a href="#l2.98"></a><span id="l2.98" class="difflineminus">-}</span>
<a href="#l2.99"></a><span id="l2.99" class="difflineminus">-#endif</span>
<a href="#l2.100"></a><span id="l2.100" class="difflineminus">-</span>
<a href="#l2.101"></a><span id="l2.101" class="difflineminus">-// The list of components we register</span>
<a href="#l2.102"></a><span id="l2.102" class="difflineminus">-static const nsModuleComponentInfo gComponents[] = {</span>
<a href="#l2.103"></a><span id="l2.103" class="difflineminus">-    { &quot;Netscape Messenger Bootstrapper&quot;, NS_MESSENGERBOOTSTRAP_CID,</span>
<a href="#l2.104"></a><span id="l2.104" class="difflineminus">-      NS_MESSENGERBOOTSTRAP_CONTRACTID,</span>
<a href="#l2.105"></a><span id="l2.105" class="difflineminus">-      nsMessengerBootstrapConstructor,</span>
<a href="#l2.106"></a><span id="l2.106" class="difflineminus">-    },</span>
<a href="#l2.107"></a><span id="l2.107" class="difflineminus">-    { &quot;Netscape Messenger Window Service&quot;, NS_MESSENGERWINDOWSERVICE_CID,</span>
<a href="#l2.108"></a><span id="l2.108" class="difflineminus">-      NS_MESSENGERWINDOWSERVICE_CONTRACTID,</span>
<a href="#l2.109"></a><span id="l2.109" class="difflineminus">-      nsMessengerBootstrapConstructor,</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineminus">-    },</span>
<a href="#l2.111"></a><span id="l2.111" class="difflineminus">-    { &quot;Mail Session&quot;, NS_MSGMAILSESSION_CID,</span>
<a href="#l2.112"></a><span id="l2.112" class="difflineminus">-      NS_MSGMAILSESSION_CONTRACTID,</span>
<a href="#l2.113"></a><span id="l2.113" class="difflineminus">-      nsMsgMailSessionConstructor,</span>
<a href="#l2.114"></a><span id="l2.114" class="difflineminus">-    },</span>
<a href="#l2.115"></a><span id="l2.115" class="difflineminus">-    { &quot;Messenger DOM interaction object&quot;, NS_MESSENGER_CID,</span>
<a href="#l2.116"></a><span id="l2.116" class="difflineminus">-      NS_MESSENGER_CONTRACTID,</span>
<a href="#l2.117"></a><span id="l2.117" class="difflineminus">-      nsMessengerConstructor,</span>
<a href="#l2.118"></a><span id="l2.118" class="difflineminus">-    },</span>
<a href="#l2.119"></a><span id="l2.119" class="difflineminus">-    { &quot;Messenger Account Manager&quot;, NS_MSGACCOUNTMANAGER_CID,</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineminus">-      NS_MSGACCOUNTMANAGER_CONTRACTID,</span>
<a href="#l2.121"></a><span id="l2.121" class="difflineminus">-      nsMsgAccountManagerConstructor,</span>
<a href="#l2.122"></a><span id="l2.122" class="difflineminus">-    },</span>
<a href="#l2.123"></a><span id="l2.123" class="difflineminus">-    { &quot;Messenger User Account&quot;, NS_MSGACCOUNT_CID,</span>
<a href="#l2.124"></a><span id="l2.124" class="difflineminus">-      NS_MSGACCOUNT_CONTRACTID,</span>
<a href="#l2.125"></a><span id="l2.125" class="difflineminus">-      nsMsgAccountConstructor,</span>
<a href="#l2.126"></a><span id="l2.126" class="difflineminus">-    },</span>
<a href="#l2.127"></a><span id="l2.127" class="difflineminus">-    { &quot;Messenger User Identity&quot;, NS_MSGIDENTITY_CID,</span>
<a href="#l2.128"></a><span id="l2.128" class="difflineminus">-      NS_MSGIDENTITY_CONTRACTID,</span>
<a href="#l2.129"></a><span id="l2.129" class="difflineminus">-      nsMsgIdentityConstructor,</span>
<a href="#l2.130"></a><span id="l2.130" class="difflineminus">-    },</span>
<a href="#l2.131"></a><span id="l2.131" class="difflineminus">-    { &quot;Mail/News Folder Data Source&quot;, NS_MAILNEWSFOLDERDATASOURCE_CID,</span>
<a href="#l2.132"></a><span id="l2.132" class="difflineminus">-      NS_MAILNEWSFOLDERDATASOURCE_CONTRACTID,</span>
<a href="#l2.133"></a><span id="l2.133" class="difflineminus">-      nsMsgFolderDataSourceConstructor,</span>
<a href="#l2.134"></a><span id="l2.134" class="difflineminus">-    },</span>
<a href="#l2.135"></a><span id="l2.135" class="difflineminus">-    { &quot;Mail/News Unread Folder Data Source&quot;, NS_MAILNEWSUNREADFOLDERDATASOURCE_CID,</span>
<a href="#l2.136"></a><span id="l2.136" class="difflineminus">-      NS_MAILNEWSUNREADFOLDERDATASOURCE_CONTRACTID,</span>
<a href="#l2.137"></a><span id="l2.137" class="difflineminus">-      nsMsgUnreadFoldersDataSourceConstructor,</span>
<a href="#l2.138"></a><span id="l2.138" class="difflineminus">-    },</span>
<a href="#l2.139"></a><span id="l2.139" class="difflineminus">-    { &quot;Mail/News Favorite Folder Data Source&quot;, NS_MAILNEWSFAVORITEFOLDERDATASOURCE_CID,</span>
<a href="#l2.140"></a><span id="l2.140" class="difflineminus">-      NS_MAILNEWSFAVORITEFOLDERDATASOURCE_CONTRACTID,</span>
<a href="#l2.141"></a><span id="l2.141" class="difflineminus">-      nsMsgFavoriteFoldersDataSourceConstructor,</span>
<a href="#l2.142"></a><span id="l2.142" class="difflineminus">-    },</span>
<a href="#l2.143"></a><span id="l2.143" class="difflineminus">-    { &quot;Mail/News Recent Folder Data Source&quot;, NS_MAILNEWSRECENTFOLDERDATASOURCE_CID,</span>
<a href="#l2.144"></a><span id="l2.144" class="difflineminus">-      NS_MAILNEWSRECENTFOLDERDATASOURCE_CONTRACTID,</span>
<a href="#l2.145"></a><span id="l2.145" class="difflineminus">-      nsMsgRecentFoldersDataSourceConstructor,</span>
<a href="#l2.146"></a><span id="l2.146" class="difflineminus">-    },</span>
<a href="#l2.147"></a><span id="l2.147" class="difflineminus">-    { &quot;Mail/News Account Manager Data Source&quot;, NS_MSGACCOUNTMANAGERDATASOURCE_CID,</span>
<a href="#l2.148"></a><span id="l2.148" class="difflineminus">-      NS_RDF_DATASOURCE_CONTRACTID_PREFIX &quot;msgaccountmanager&quot;,</span>
<a href="#l2.149"></a><span id="l2.149" class="difflineminus">-      nsMsgAccountManagerDataSourceConstructor,</span>
<a href="#l2.150"></a><span id="l2.150" class="difflineminus">-    },</span>
<a href="#l2.151"></a><span id="l2.151" class="difflineminus">-    { &quot;Message Filter Service&quot;, NS_MSGFILTERSERVICE_CID,</span>
<a href="#l2.152"></a><span id="l2.152" class="difflineminus">-      NS_MSGFILTERSERVICE_CONTRACTID,</span>
<a href="#l2.153"></a><span id="l2.153" class="difflineminus">-      nsMsgFilterServiceConstructor,</span>
<a href="#l2.154"></a><span id="l2.154" class="difflineminus">-    },</span>
<a href="#l2.155"></a><span id="l2.155" class="difflineminus">-    { &quot;Message Search Session&quot;, NS_MSGSEARCHSESSION_CID,</span>
<a href="#l2.156"></a><span id="l2.156" class="difflineminus">-      NS_MSGSEARCHSESSION_CONTRACTID,</span>
<a href="#l2.157"></a><span id="l2.157" class="difflineminus">-      nsMsgSearchSessionConstructor</span>
<a href="#l2.158"></a><span id="l2.158" class="difflineminus">-    },</span>
<a href="#l2.159"></a><span id="l2.159" class="difflineminus">-    { &quot;Message Search Term&quot;, NS_MSGSEARCHTERM_CID,</span>
<a href="#l2.160"></a><span id="l2.160" class="difflineminus">-      NS_MSGSEARCHTERM_CONTRACTID,</span>
<a href="#l2.161"></a><span id="l2.161" class="difflineminus">-      nsMsgSearchTermConstructor</span>
<a href="#l2.162"></a><span id="l2.162" class="difflineminus">-    },</span>
<a href="#l2.163"></a><span id="l2.163" class="difflineminus">-    { &quot;Message Search Validity Manager&quot;, NS_MSGSEARCHVALIDITYMANAGER_CID,</span>
<a href="#l2.164"></a><span id="l2.164" class="difflineminus">-        NS_MSGSEARCHVALIDITYMANAGER_CONTRACTID,</span>
<a href="#l2.165"></a><span id="l2.165" class="difflineminus">-        nsMsgSearchValidityManagerConstructor,</span>
<a href="#l2.166"></a><span id="l2.166" class="difflineminus">-    },</span>
<a href="#l2.167"></a><span id="l2.167" class="difflineminus">-    { &quot;Messenger Biff Manager&quot;, NS_MSGBIFFMANAGER_CID,</span>
<a href="#l2.168"></a><span id="l2.168" class="difflineminus">-      NS_MSGBIFFMANAGER_CONTRACTID,</span>
<a href="#l2.169"></a><span id="l2.169" class="difflineminus">-      nsMsgBiffManagerConstructor,</span>
<a href="#l2.170"></a><span id="l2.170" class="difflineminus">-    },</span>
<a href="#l2.171"></a><span id="l2.171" class="difflineminus">-    { &quot;Messenger Purge Service&quot;, NS_MSGPURGESERVICE_CID,</span>
<a href="#l2.172"></a><span id="l2.172" class="difflineminus">-      NS_MSGPURGESERVICE_CONTRACTID,</span>
<a href="#l2.173"></a><span id="l2.173" class="difflineminus">-      nsMsgPurgeServiceConstructor,</span>
<a href="#l2.174"></a><span id="l2.174" class="difflineminus">-    },</span>
<a href="#l2.175"></a><span id="l2.175" class="difflineminus">-    { &quot;Status Bar Biff Manager&quot;, NS_STATUSBARBIFFMANAGER_CID,</span>
<a href="#l2.176"></a><span id="l2.176" class="difflineminus">-      NS_STATUSBARBIFFMANAGER_CONTRACTID,</span>
<a href="#l2.177"></a><span id="l2.177" class="difflineminus">-      nsStatusBarBiffManagerConstructor,</span>
<a href="#l2.178"></a><span id="l2.178" class="difflineminus">-    },</span>
<a href="#l2.179"></a><span id="l2.179" class="difflineminus">-    { &quot;Mail/News CopyMessage Stream Listener&quot;, NS_COPYMESSAGESTREAMLISTENER_CID,</span>
<a href="#l2.180"></a><span id="l2.180" class="difflineminus">-      NS_COPYMESSAGESTREAMLISTENER_CONTRACTID,</span>
<a href="#l2.181"></a><span id="l2.181" class="difflineminus">-      nsCopyMessageStreamListenerConstructor,</span>
<a href="#l2.182"></a><span id="l2.182" class="difflineminus">-    },</span>
<a href="#l2.183"></a><span id="l2.183" class="difflineminus">-    { &quot;Mail/News Message Copy Service&quot;, NS_MSGCOPYSERVICE_CID,</span>
<a href="#l2.184"></a><span id="l2.184" class="difflineminus">-      NS_MSGCOPYSERVICE_CONTRACTID,</span>
<a href="#l2.185"></a><span id="l2.185" class="difflineminus">-      nsMsgCopyServiceConstructor,</span>
<a href="#l2.186"></a><span id="l2.186" class="difflineminus">-    },</span>
<a href="#l2.187"></a><span id="l2.187" class="difflineminus">-    { &quot;Mail/News Folder Cache&quot;, NS_MSGFOLDERCACHE_CID,</span>
<a href="#l2.188"></a><span id="l2.188" class="difflineminus">-      NS_MSGFOLDERCACHE_CONTRACTID,</span>
<a href="#l2.189"></a><span id="l2.189" class="difflineminus">-      nsMsgFolderCacheConstructor,</span>
<a href="#l2.190"></a><span id="l2.190" class="difflineminus">-    },</span>
<a href="#l2.191"></a><span id="l2.191" class="difflineminus">-    { &quot;Mail/News Status Feedback&quot;, NS_MSGSTATUSFEEDBACK_CID,</span>
<a href="#l2.192"></a><span id="l2.192" class="difflineminus">-      NS_MSGSTATUSFEEDBACK_CONTRACTID,</span>
<a href="#l2.193"></a><span id="l2.193" class="difflineminus">-      nsMsgStatusFeedbackConstructor,</span>
<a href="#l2.194"></a><span id="l2.194" class="difflineminus">-    },</span>
<a href="#l2.195"></a><span id="l2.195" class="difflineminus">-    { &quot;Mail/News MsgWindow&quot;, NS_MSGWINDOW_CID,</span>
<a href="#l2.196"></a><span id="l2.196" class="difflineminus">-      NS_MSGWINDOW_CONTRACTID,</span>
<a href="#l2.197"></a><span id="l2.197" class="difflineminus">-      nsMsgWindowConstructor,</span>
<a href="#l2.198"></a><span id="l2.198" class="difflineminus">-    },</span>
<a href="#l2.199"></a><span id="l2.199" class="difflineminus">-    { &quot;Mail/News Print Engine&quot;, NS_MSG_PRINTENGINE_CID,</span>
<a href="#l2.200"></a><span id="l2.200" class="difflineminus">-      NS_MSGPRINTENGINE_CONTRACTID,</span>
<a href="#l2.201"></a><span id="l2.201" class="difflineminus">-      nsMsgPrintEngineConstructor,</span>
<a href="#l2.202"></a><span id="l2.202" class="difflineminus">-    },</span>
<a href="#l2.203"></a><span id="l2.203" class="difflineminus">-    { &quot;Mail/News Service Provider Service&quot;, NS_MSGSERVICEPROVIDERSERVICE_CID,</span>
<a href="#l2.204"></a><span id="l2.204" class="difflineminus">-      NS_MSGSERVICEPROVIDERSERVICE_CONTRACTID,</span>
<a href="#l2.205"></a><span id="l2.205" class="difflineminus">-      nsMsgServiceProviderServiceConstructor,</span>
<a href="#l2.206"></a><span id="l2.206" class="difflineminus">-    },</span>
<a href="#l2.207"></a><span id="l2.207" class="difflineminus">-    { &quot;Mail/News Subscribe Data Source&quot;, NS_SUBSCRIBEDATASOURCE_CID,</span>
<a href="#l2.208"></a><span id="l2.208" class="difflineminus">-      NS_SUBSCRIBEDATASOURCE_CONTRACTID,</span>
<a href="#l2.209"></a><span id="l2.209" class="difflineminus">-      nsSubscribeDataSourceConstructor,</span>
<a href="#l2.210"></a><span id="l2.210" class="difflineminus">-    },</span>
<a href="#l2.211"></a><span id="l2.211" class="difflineminus">-    { &quot;Mail/News Subscribable Server&quot;, NS_SUBSCRIBABLESERVER_CID,</span>
<a href="#l2.212"></a><span id="l2.212" class="difflineminus">-      NS_SUBSCRIBABLESERVER_CONTRACTID,</span>
<a href="#l2.213"></a><span id="l2.213" class="difflineminus">-      nsSubscribableServerConstructor,</span>
<a href="#l2.214"></a><span id="l2.214" class="difflineminus">-    },</span>
<a href="#l2.215"></a><span id="l2.215" class="difflineminus">-    { &quot;Local folder compactor&quot;, NS_MSGLOCALFOLDERCOMPACTOR_CID,</span>
<a href="#l2.216"></a><span id="l2.216" class="difflineminus">-      NS_MSGLOCALFOLDERCOMPACTOR_CONTRACTID,</span>
<a href="#l2.217"></a><span id="l2.217" class="difflineminus">-      nsFolderCompactStateConstructor,</span>
<a href="#l2.218"></a><span id="l2.218" class="difflineminus">-    },</span>
<a href="#l2.219"></a><span id="l2.219" class="difflineminus">-    { &quot;offline store compactor&quot;, NS_MSG_OFFLINESTORECOMPACTOR_CID,</span>
<a href="#l2.220"></a><span id="l2.220" class="difflineminus">-      NS_MSGOFFLINESTORECOMPACTOR_CONTRACTID,</span>
<a href="#l2.221"></a><span id="l2.221" class="difflineminus">-      nsOfflineStoreCompactStateConstructor,</span>
<a href="#l2.222"></a><span id="l2.222" class="difflineminus">-    },</span>
<a href="#l2.223"></a><span id="l2.223" class="difflineminus">-    { &quot;threaded db view&quot;, NS_MSGTHREADEDDBVIEW_CID,</span>
<a href="#l2.224"></a><span id="l2.224" class="difflineminus">-      NS_MSGTHREADEDDBVIEW_CONTRACTID,</span>
<a href="#l2.225"></a><span id="l2.225" class="difflineminus">-      nsMsgThreadedDBViewConstructor,</span>
<a href="#l2.226"></a><span id="l2.226" class="difflineminus">-    },</span>
<a href="#l2.227"></a><span id="l2.227" class="difflineminus">-    { &quot;threads with unread db view&quot;, NS_MSGTHREADSWITHUNREADDBVIEW_CID,</span>
<a href="#l2.228"></a><span id="l2.228" class="difflineminus">-      NS_MSGTHREADSWITHUNREADDBVIEW_CONTRACTID,</span>
<a href="#l2.229"></a><span id="l2.229" class="difflineminus">-      nsMsgThreadsWithUnreadDBViewConstructor,</span>
<a href="#l2.230"></a><span id="l2.230" class="difflineminus">-    },</span>
<a href="#l2.231"></a><span id="l2.231" class="difflineminus">-    { &quot;watched threads with unread db view&quot;, NS_MSGWATCHEDTHREADSWITHUNREADDBVIEW_CID,</span>
<a href="#l2.232"></a><span id="l2.232" class="difflineminus">-      NS_MSGWATCHEDTHREADSWITHUNREADDBVIEW_CONTRACTID,</span>
<a href="#l2.233"></a><span id="l2.233" class="difflineminus">-      nsMsgWatchedThreadsWithUnreadDBViewConstructor,</span>
<a href="#l2.234"></a><span id="l2.234" class="difflineminus">-    },</span>
<a href="#l2.235"></a><span id="l2.235" class="difflineminus">-    { &quot;search db view&quot;, NS_MSGSEARCHDBVIEW_CID,</span>
<a href="#l2.236"></a><span id="l2.236" class="difflineminus">-      NS_MSGSEARCHDBVIEW_CONTRACTID,</span>
<a href="#l2.237"></a><span id="l2.237" class="difflineminus">-      nsMsgSearchDBViewConstructor,</span>
<a href="#l2.238"></a><span id="l2.238" class="difflineminus">-    },</span>
<a href="#l2.239"></a><span id="l2.239" class="difflineminus">-    { &quot;quick search db view&quot;, NS_MSGQUICKSEARCHDBVIEW_CID,</span>
<a href="#l2.240"></a><span id="l2.240" class="difflineminus">-      NS_MSGQUICKSEARCHDBVIEW_CONTRACTID,</span>
<a href="#l2.241"></a><span id="l2.241" class="difflineminus">-      nsMsgQuickSearchDBViewConstructor,</span>
<a href="#l2.242"></a><span id="l2.242" class="difflineminus">-    },</span>
<a href="#l2.243"></a><span id="l2.243" class="difflineminus">-    { &quot;cross folder virtual folder db view&quot;, NS_MSG_XFVFDBVIEW_CID,</span>
<a href="#l2.244"></a><span id="l2.244" class="difflineminus">-       NS_MSGXFVFDBVIEW_CONTRACTID,</span>
<a href="#l2.245"></a><span id="l2.245" class="difflineminus">-       nsMsgXFVirtualFolderDBViewConstructor,</span>
<a href="#l2.246"></a><span id="l2.246" class="difflineminus">-    },</span>
<a href="#l2.247"></a><span id="l2.247" class="difflineminus">-    { &quot;grouped view&quot;, NS_MSG_GROUPDBVIEW_CID,</span>
<a href="#l2.248"></a><span id="l2.248" class="difflineminus">-       NS_MSGGROUPDBVIEW_CONTRACTID,</span>
<a href="#l2.249"></a><span id="l2.249" class="difflineminus">-       nsMsgGroupViewConstructor,</span>
<a href="#l2.250"></a><span id="l2.250" class="difflineminus">-    },</span>
<a href="#l2.251"></a><span id="l2.251" class="difflineminus">-    { &quot;Messenger Offline Manager&quot;, NS_MSGOFFLINEMANAGER_CID,</span>
<a href="#l2.252"></a><span id="l2.252" class="difflineminus">-      NS_MSGOFFLINEMANAGER_CONTRACTID,</span>
<a href="#l2.253"></a><span id="l2.253" class="difflineminus">-      nsMsgOfflineManagerConstructor,</span>
<a href="#l2.254"></a><span id="l2.254" class="difflineminus">-    },</span>
<a href="#l2.255"></a><span id="l2.255" class="difflineminus">-    { &quot;Messenger Progress Manager&quot;, NS_MSGPROGRESS_CID,</span>
<a href="#l2.256"></a><span id="l2.256" class="difflineminus">-      NS_MSGPROGRESS_CONTRACTID,</span>
<a href="#l2.257"></a><span id="l2.257" class="difflineminus">-      nsMsgProgressConstructor,</span>
<a href="#l2.258"></a><span id="l2.258" class="difflineminus">-    },</span>
<a href="#l2.259"></a><span id="l2.259" class="difflineminus">-    { &quot;Spam Settings&quot;, NS_SPAMSETTINGS_CID,</span>
<a href="#l2.260"></a><span id="l2.260" class="difflineminus">-      NS_SPAMSETTINGS_CONTRACTID,</span>
<a href="#l2.261"></a><span id="l2.261" class="difflineminus">-      nsSpamSettingsConstructor,</span>
<a href="#l2.262"></a><span id="l2.262" class="difflineminus">-    },</span>
<a href="#l2.263"></a><span id="l2.263" class="difflineminus">-    { &quot;cid protocol&quot;, NS_CIDPROTOCOL_CID,</span>
<a href="#l2.264"></a><span id="l2.264" class="difflineminus">-      NS_CIDPROTOCOLHANDLER_CONTRACTID,</span>
<a href="#l2.265"></a><span id="l2.265" class="difflineminus">-      nsCidProtocolHandlerConstructor,</span>
<a href="#l2.266"></a><span id="l2.266" class="difflineminus">-    },</span>
<a href="#l2.267"></a><span id="l2.267" class="difflineminus">-    { &quot;Tag Service&quot;, NS_MSGTAGSERVICE_CID,</span>
<a href="#l2.268"></a><span id="l2.268" class="difflineminus">-      NS_MSGTAGSERVICE_CONTRACTID,</span>
<a href="#l2.269"></a><span id="l2.269" class="difflineminus">-      nsMsgTagServiceConstructor,</span>
<a href="#l2.270"></a><span id="l2.270" class="difflineminus">-    },</span>
<a href="#l2.271"></a><span id="l2.271" class="difflineminus">-    { &quot;Msg Notification Service&quot;, NS_MSGNOTIFICATIONSERVICE_CID,</span>
<a href="#l2.272"></a><span id="l2.272" class="difflineminus">-      NS_MSGNOTIFICATIONSERVICE_CONTRACTID,</span>
<a href="#l2.273"></a><span id="l2.273" class="difflineminus">-      nsMsgFolderNotificationServiceConstructor,</span>
<a href="#l2.274"></a><span id="l2.274" class="difflineminus">-    },</span>
<a href="#l2.275"></a><span id="l2.275" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MESSENGERBOOTSTRAP_CID);</span>
<a href="#l2.276"></a><span id="l2.276" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MESSENGERWINDOWSERVICE_CID);</span>
<a href="#l2.277"></a><span id="l2.277" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGMAILSESSION_CID);</span>
<a href="#l2.278"></a><span id="l2.278" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MESSENGER_CID);</span>
<a href="#l2.279"></a><span id="l2.279" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGACCOUNTMANAGER_CID);</span>
<a href="#l2.280"></a><span id="l2.280" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGACCOUNT_CID);</span>
<a href="#l2.281"></a><span id="l2.281" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGIDENTITY_CID);</span>
<a href="#l2.282"></a><span id="l2.282" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MAILNEWSFOLDERDATASOURCE_CID);</span>
<a href="#l2.283"></a><span id="l2.283" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MAILNEWSUNREADFOLDERDATASOURCE_CID);</span>
<a href="#l2.284"></a><span id="l2.284" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MAILNEWSFAVORITEFOLDERDATASOURCE_CID);</span>
<a href="#l2.285"></a><span id="l2.285" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MAILNEWSRECENTFOLDERDATASOURCE_CID);</span>
<a href="#l2.286"></a><span id="l2.286" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGACCOUNTMANAGERDATASOURCE_CID);</span>
<a href="#l2.287"></a><span id="l2.287" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGFILTERSERVICE_CID);</span>
<a href="#l2.288"></a><span id="l2.288" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGSEARCHSESSION_CID);</span>
<a href="#l2.289"></a><span id="l2.289" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGSEARCHTERM_CID);</span>
<a href="#l2.290"></a><span id="l2.290" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGSEARCHVALIDITYMANAGER_CID);</span>
<a href="#l2.291"></a><span id="l2.291" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGBIFFMANAGER_CID);</span>
<a href="#l2.292"></a><span id="l2.292" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGPURGESERVICE_CID);</span>
<a href="#l2.293"></a><span id="l2.293" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_STATUSBARBIFFMANAGER_CID);</span>
<a href="#l2.294"></a><span id="l2.294" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_COPYMESSAGESTREAMLISTENER_CID);</span>
<a href="#l2.295"></a><span id="l2.295" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCOPYSERVICE_CID);</span>
<a href="#l2.296"></a><span id="l2.296" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGFOLDERCACHE_CID);</span>
<a href="#l2.297"></a><span id="l2.297" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGSTATUSFEEDBACK_CID);</span>
<a href="#l2.298"></a><span id="l2.298" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGWINDOW_CID);</span>
<a href="#l2.299"></a><span id="l2.299" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSG_PRINTENGINE_CID);</span>
<a href="#l2.300"></a><span id="l2.300" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGSERVICEPROVIDERSERVICE_CID);</span>
<a href="#l2.301"></a><span id="l2.301" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_SUBSCRIBEDATASOURCE_CID);</span>
<a href="#l2.302"></a><span id="l2.302" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_SUBSCRIBABLESERVER_CID);</span>
<a href="#l2.303"></a><span id="l2.303" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGLOCALFOLDERCOMPACTOR_CID);</span>
<a href="#l2.304"></a><span id="l2.304" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSG_OFFLINESTORECOMPACTOR_CID);</span>
<a href="#l2.305"></a><span id="l2.305" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGTHREADEDDBVIEW_CID);</span>
<a href="#l2.306"></a><span id="l2.306" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGTHREADSWITHUNREADDBVIEW_CID);</span>
<a href="#l2.307"></a><span id="l2.307" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGWATCHEDTHREADSWITHUNREADDBVIEW_CID);</span>
<a href="#l2.308"></a><span id="l2.308" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGSEARCHDBVIEW_CID);</span>
<a href="#l2.309"></a><span id="l2.309" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGQUICKSEARCHDBVIEW_CID);</span>
<a href="#l2.310"></a><span id="l2.310" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSG_XFVFDBVIEW_CID);</span>
<a href="#l2.311"></a><span id="l2.311" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSG_GROUPDBVIEW_CID);</span>
<a href="#l2.312"></a><span id="l2.312" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGOFFLINEMANAGER_CID);</span>
<a href="#l2.313"></a><span id="l2.313" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGPROGRESS_CID);</span>
<a href="#l2.314"></a><span id="l2.314" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_SPAMSETTINGS_CID);</span>
<a href="#l2.315"></a><span id="l2.315" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_CIDPROTOCOL_CID);</span>
<a href="#l2.316"></a><span id="l2.316" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGTAGSERVICE_CID);</span>
<a href="#l2.317"></a><span id="l2.317" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGNOTIFICATIONSERVICE_CID);</span>
<a href="#l2.318"></a><span id="l2.318"> #ifdef XP_WIN</span>
<a href="#l2.319"></a><span id="l2.319" class="difflineminus">-    { &quot;Windows OS Integration&quot;, NS_MESSENGERWININTEGRATION_CID,</span>
<a href="#l2.320"></a><span id="l2.320" class="difflineminus">-      NS_MESSENGEROSINTEGRATION_CONTRACTID,</span>
<a href="#l2.321"></a><span id="l2.321" class="difflineminus">-      nsMessengerWinIntegrationConstructor,</span>
<a href="#l2.322"></a><span id="l2.322" class="difflineminus">-    },</span>
<a href="#l2.323"></a><span id="l2.323" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MESSENGERWININTEGRATION_CID);</span>
<a href="#l2.324"></a><span id="l2.324"> #endif</span>
<a href="#l2.325"></a><span id="l2.325"> #ifdef XP_OS2</span>
<a href="#l2.326"></a><span id="l2.326" class="difflineminus">-    { &quot;OS/2 OS Integration&quot;, NS_MESSENGEROS2INTEGRATION_CID,</span>
<a href="#l2.327"></a><span id="l2.327" class="difflineminus">-      NS_MESSENGEROSINTEGRATION_CONTRACTID,</span>
<a href="#l2.328"></a><span id="l2.328" class="difflineminus">-      nsMessengerOS2IntegrationConstructor,</span>
<a href="#l2.329"></a><span id="l2.329" class="difflineminus">-    },</span>
<a href="#l2.330"></a><span id="l2.330" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MESSENGEROS2INTEGRATION_CID);</span>
<a href="#l2.331"></a><span id="l2.331"> #endif</span>
<a href="#l2.332"></a><span id="l2.332"> #ifdef XP_MACOSX</span>
<a href="#l2.333"></a><span id="l2.333" class="difflineminus">-    { &quot;OSX OS Integration&quot;, NS_MESSENGEROSXINTEGRATION_CID,</span>
<a href="#l2.334"></a><span id="l2.334" class="difflineminus">-      NS_MESSENGEROSINTEGRATION_CONTRACTID,</span>
<a href="#l2.335"></a><span id="l2.335" class="difflineminus">-      nsMessengerOSXIntegrationConstructor,</span>
<a href="#l2.336"></a><span id="l2.336" class="difflineminus">-      RegisterOSXIntegration,</span>
<a href="#l2.337"></a><span id="l2.337" class="difflineminus">-      UnregisterOSXIntegration,</span>
<a href="#l2.338"></a><span id="l2.338" class="difflineminus">-    },</span>
<a href="#l2.339"></a><span id="l2.339" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MESSENGEROSXINTEGRATION_CID);</span>
<a href="#l2.340"></a><span id="l2.340" class="difflineplus">+#endif</span>
<a href="#l2.341"></a><span id="l2.341" class="difflineplus">+#if defined(MOZ_WIDGET_GTK) || defined(MOZ_WIDGET_GTK2)</span>
<a href="#l2.342"></a><span id="l2.342" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MESSENGERUNIXINTEGRATION_CID);</span>
<a href="#l2.343"></a><span id="l2.343" class="difflineplus">+#endif</span>
<a href="#l2.344"></a><span id="l2.344" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MESSENGERCONTENTHANDLER_CID);</span>
<a href="#l2.345"></a><span id="l2.345" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCONTENTPOLICY_CID);</span>
<a href="#l2.346"></a><span id="l2.346" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGSHUTDOWNSERVICE_CID);</span>
<a href="#l2.347"></a><span id="l2.347" class="difflineplus">+NS_DEFINE_NAMED_CID(MAILDIRPROVIDER_CID);</span>
<a href="#l2.348"></a><span id="l2.348" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_STOPWATCH_CID);</span>
<a href="#l2.349"></a><span id="l2.349" class="difflineplus">+</span>
<a href="#l2.350"></a><span id="l2.350" class="difflineplus">+const mozilla::Module::CIDEntry kMailNewsBaseCIDs[] = {</span>
<a href="#l2.351"></a><span id="l2.351" class="difflineplus">+  { &amp;kNS_MESSENGERBOOTSTRAP_CID, false, NULL, nsMessengerBootstrapConstructor },</span>
<a href="#l2.352"></a><span id="l2.352" class="difflineplus">+  { &amp;kNS_MESSENGERWINDOWSERVICE_CID, false, NULL, nsMessengerBootstrapConstructor},</span>
<a href="#l2.353"></a><span id="l2.353" class="difflineplus">+  { &amp;kNS_MSGMAILSESSION_CID, false, NULL, nsMsgMailSessionConstructor},</span>
<a href="#l2.354"></a><span id="l2.354" class="difflineplus">+  { &amp;kNS_MESSENGER_CID, false, NULL,nsMessengerConstructor},</span>
<a href="#l2.355"></a><span id="l2.355" class="difflineplus">+  { &amp;kNS_MSGACCOUNTMANAGER_CID, false, NULL, nsMsgAccountManagerConstructor},</span>
<a href="#l2.356"></a><span id="l2.356" class="difflineplus">+  { &amp;kNS_MSGACCOUNT_CID, false, NULL, nsMsgAccountConstructor},</span>
<a href="#l2.357"></a><span id="l2.357" class="difflineplus">+  { &amp;kNS_MSGIDENTITY_CID, false, NULL, nsMsgIdentityConstructor},</span>
<a href="#l2.358"></a><span id="l2.358" class="difflineplus">+  { &amp;kNS_MAILNEWSFOLDERDATASOURCE_CID, false, NULL, nsMsgFolderDataSourceConstructor},</span>
<a href="#l2.359"></a><span id="l2.359" class="difflineplus">+  { &amp;kNS_MAILNEWSUNREADFOLDERDATASOURCE_CID, false, NULL, nsMsgUnreadFoldersDataSourceConstructor},</span>
<a href="#l2.360"></a><span id="l2.360" class="difflineplus">+  { &amp;kNS_MAILNEWSFAVORITEFOLDERDATASOURCE_CID, false, NULL, nsMsgFavoriteFoldersDataSourceConstructor},</span>
<a href="#l2.361"></a><span id="l2.361" class="difflineplus">+  { &amp;kNS_MAILNEWSRECENTFOLDERDATASOURCE_CID, false, NULL, nsMsgRecentFoldersDataSourceConstructor},</span>
<a href="#l2.362"></a><span id="l2.362" class="difflineplus">+  { &amp;kNS_MSGACCOUNTMANAGERDATASOURCE_CID, false, NULL, nsMsgAccountManagerDataSourceConstructor},</span>
<a href="#l2.363"></a><span id="l2.363" class="difflineplus">+  { &amp;kNS_MSGFILTERSERVICE_CID, false, NULL, nsMsgFilterServiceConstructor},</span>
<a href="#l2.364"></a><span id="l2.364" class="difflineplus">+  { &amp;kNS_MSGSEARCHSESSION_CID, false, NULL, nsMsgSearchSessionConstructor},</span>
<a href="#l2.365"></a><span id="l2.365" class="difflineplus">+  { &amp;kNS_MSGSEARCHTERM_CID, false, NULL, nsMsgSearchTermConstructor},</span>
<a href="#l2.366"></a><span id="l2.366" class="difflineplus">+  { &amp;kNS_MSGSEARCHVALIDITYMANAGER_CID, false, NULL, nsMsgSearchValidityManagerConstructor},</span>
<a href="#l2.367"></a><span id="l2.367" class="difflineplus">+  { &amp;kNS_MSGBIFFMANAGER_CID, false, NULL, nsMsgBiffManagerConstructor},</span>
<a href="#l2.368"></a><span id="l2.368" class="difflineplus">+  { &amp;kNS_MSGPURGESERVICE_CID, false, NULL, nsMsgPurgeServiceConstructor},</span>
<a href="#l2.369"></a><span id="l2.369" class="difflineplus">+  { &amp;kNS_STATUSBARBIFFMANAGER_CID, false, NULL, nsStatusBarBiffManagerConstructor},</span>
<a href="#l2.370"></a><span id="l2.370" class="difflineplus">+  { &amp;kNS_COPYMESSAGESTREAMLISTENER_CID, false, NULL, nsCopyMessageStreamListenerConstructor},</span>
<a href="#l2.371"></a><span id="l2.371" class="difflineplus">+  { &amp;kNS_MSGCOPYSERVICE_CID, false, NULL, nsMsgCopyServiceConstructor},</span>
<a href="#l2.372"></a><span id="l2.372" class="difflineplus">+  { &amp;kNS_MSGFOLDERCACHE_CID, false, NULL, nsMsgFolderCacheConstructor},</span>
<a href="#l2.373"></a><span id="l2.373" class="difflineplus">+  { &amp;kNS_MSGSTATUSFEEDBACK_CID, false, NULL, nsMsgStatusFeedbackConstructor},</span>
<a href="#l2.374"></a><span id="l2.374" class="difflineplus">+  { &amp;kNS_MSGWINDOW_CID, false, NULL, nsMsgWindowConstructor},</span>
<a href="#l2.375"></a><span id="l2.375" class="difflineplus">+  { &amp;kNS_MSG_PRINTENGINE_CID, false, NULL, nsMsgPrintEngineConstructor},</span>
<a href="#l2.376"></a><span id="l2.376" class="difflineplus">+  { &amp;kNS_MSGSERVICEPROVIDERSERVICE_CID, false, NULL, nsMsgServiceProviderServiceConstructor},</span>
<a href="#l2.377"></a><span id="l2.377" class="difflineplus">+  { &amp;kNS_SUBSCRIBEDATASOURCE_CID, false, NULL, nsSubscribeDataSourceConstructor},</span>
<a href="#l2.378"></a><span id="l2.378" class="difflineplus">+  { &amp;kNS_SUBSCRIBABLESERVER_CID, false, NULL, nsSubscribableServerConstructor},</span>
<a href="#l2.379"></a><span id="l2.379" class="difflineplus">+  { &amp;kNS_MSGLOCALFOLDERCOMPACTOR_CID, false, NULL, nsFolderCompactStateConstructor},</span>
<a href="#l2.380"></a><span id="l2.380" class="difflineplus">+  { &amp;kNS_MSG_OFFLINESTORECOMPACTOR_CID, false, NULL, nsOfflineStoreCompactStateConstructor},</span>
<a href="#l2.381"></a><span id="l2.381" class="difflineplus">+  { &amp;kNS_MSGTHREADEDDBVIEW_CID, false, NULL, nsMsgThreadedDBViewConstructor},</span>
<a href="#l2.382"></a><span id="l2.382" class="difflineplus">+  { &amp;kNS_MSGTHREADSWITHUNREADDBVIEW_CID, false, NULL, nsMsgThreadsWithUnreadDBViewConstructor},</span>
<a href="#l2.383"></a><span id="l2.383" class="difflineplus">+  { &amp;kNS_MSGWATCHEDTHREADSWITHUNREADDBVIEW_CID, false, NULL, nsMsgWatchedThreadsWithUnreadDBViewConstructor},</span>
<a href="#l2.384"></a><span id="l2.384" class="difflineplus">+  { &amp;kNS_MSGSEARCHDBVIEW_CID, false, NULL, nsMsgSearchDBViewConstructor},</span>
<a href="#l2.385"></a><span id="l2.385" class="difflineplus">+  { &amp;kNS_MSGQUICKSEARCHDBVIEW_CID, false, NULL, nsMsgQuickSearchDBViewConstructor},</span>
<a href="#l2.386"></a><span id="l2.386" class="difflineplus">+  { &amp;kNS_MSG_XFVFDBVIEW_CID, false, NULL, nsMsgXFVirtualFolderDBViewConstructor},</span>
<a href="#l2.387"></a><span id="l2.387" class="difflineplus">+  { &amp;kNS_MSG_GROUPDBVIEW_CID, false, NULL, nsMsgGroupViewConstructor},</span>
<a href="#l2.388"></a><span id="l2.388" class="difflineplus">+  { &amp;kNS_MSGOFFLINEMANAGER_CID, false, NULL, nsMsgOfflineManagerConstructor},</span>
<a href="#l2.389"></a><span id="l2.389" class="difflineplus">+  { &amp;kNS_MSGPROGRESS_CID, false, NULL, nsMsgProgressConstructor},</span>
<a href="#l2.390"></a><span id="l2.390" class="difflineplus">+  { &amp;kNS_SPAMSETTINGS_CID, false, NULL, nsSpamSettingsConstructor},</span>
<a href="#l2.391"></a><span id="l2.391" class="difflineplus">+  { &amp;kNS_CIDPROTOCOL_CID, false, NULL, nsCidProtocolHandlerConstructor},</span>
<a href="#l2.392"></a><span id="l2.392" class="difflineplus">+  { &amp;kNS_MSGTAGSERVICE_CID, false, NULL, nsMsgTagServiceConstructor},</span>
<a href="#l2.393"></a><span id="l2.393" class="difflineplus">+  { &amp;kNS_MSGNOTIFICATIONSERVICE_CID, false, NULL, nsMsgFolderNotificationServiceConstructor},</span>
<a href="#l2.394"></a><span id="l2.394" class="difflineplus">+#ifdef XP_WIN</span>
<a href="#l2.395"></a><span id="l2.395" class="difflineplus">+  { &amp;kNS_MESSENGERWININTEGRATION_CID, false, NULL, nsMessengerWinIntegrationConstructor},</span>
<a href="#l2.396"></a><span id="l2.396" class="difflineplus">+#endif</span>
<a href="#l2.397"></a><span id="l2.397" class="difflineplus">+#ifdef XP_OS2</span>
<a href="#l2.398"></a><span id="l2.398" class="difflineplus">+  { &amp;kNS_MESSENGEROS2INTEGRATION_CID, false, NULL, nsMessengerOS2IntegrationConstructor},</span>
<a href="#l2.399"></a><span id="l2.399" class="difflineplus">+#endif</span>
<a href="#l2.400"></a><span id="l2.400" class="difflineplus">+#ifdef XP_MACOSX</span>
<a href="#l2.401"></a><span id="l2.401" class="difflineplus">+  { &amp;kNS_MESSENGEROSXINTEGRATION_CID, false, NULL, nsMessengerOSXIntegrationConstructor},</span>
<a href="#l2.402"></a><span id="l2.402" class="difflineplus">+//      RegisterOSXIntegration,</span>
<a href="#l2.403"></a><span id="l2.403" class="difflineplus">+//      UnregisterOSXIntegration,</span>
<a href="#l2.404"></a><span id="l2.404"> #endif</span>
<a href="#l2.405"></a><span id="l2.405"> #if defined(MOZ_WIDGET_GTK) || defined(MOZ_WIDGET_GTK2)</span>
<a href="#l2.406"></a><span id="l2.406" class="difflineminus">-    { &quot;Unix OS Integration&quot;, NS_MESSENGERUNIXINTEGRATION_CID,</span>
<a href="#l2.407"></a><span id="l2.407" class="difflineminus">-      NS_MESSENGEROSINTEGRATION_CONTRACTID,</span>
<a href="#l2.408"></a><span id="l2.408" class="difflineminus">-      nsMessengerUnixIntegrationConstructor,</span>
<a href="#l2.409"></a><span id="l2.409" class="difflineminus">-    },</span>
<a href="#l2.410"></a><span id="l2.410" class="difflineplus">+  { &amp;kNS_MESSENGERUNIXINTEGRATION_CID, false, NULL, nsMessengerUnixIntegrationConstructor},</span>
<a href="#l2.411"></a><span id="l2.411"> #endif</span>
<a href="#l2.412"></a><span id="l2.412" class="difflineminus">-    { &quot;application/x-message-display content handler&quot;,</span>
<a href="#l2.413"></a><span id="l2.413" class="difflineminus">-       NS_MESSENGERCONTENTHANDLER_CID,</span>
<a href="#l2.414"></a><span id="l2.414" class="difflineminus">-       NS_MESSENGERCONTENTHANDLER_CONTRACTID,</span>
<a href="#l2.415"></a><span id="l2.415" class="difflineminus">-       nsMessengerContentHandlerConstructor</span>
<a href="#l2.416"></a><span id="l2.416" class="difflineminus">-    },</span>
<a href="#l2.417"></a><span id="l2.417" class="difflineminus">-    { &quot;mail content policy enforcer&quot;,</span>
<a href="#l2.418"></a><span id="l2.418" class="difflineminus">-      NS_MSGCONTENTPOLICY_CID,</span>
<a href="#l2.419"></a><span id="l2.419" class="difflineminus">-      NS_MSGCONTENTPOLICY_CONTRACTID,</span>
<a href="#l2.420"></a><span id="l2.420" class="difflineminus">-      nsMsgContentPolicyConstructor,</span>
<a href="#l2.421"></a><span id="l2.421" class="difflineminus">-      RegisterMailnewsContentPolicy, UnregisterMailnewsContentPolicy</span>
<a href="#l2.422"></a><span id="l2.422" class="difflineminus">-    },</span>
<a href="#l2.423"></a><span id="l2.423" class="difflineminus">-    { &quot;msg shutdown service&quot;,</span>
<a href="#l2.424"></a><span id="l2.424" class="difflineminus">-       NS_MSGSHUTDOWNSERVICE_CID,</span>
<a href="#l2.425"></a><span id="l2.425" class="difflineminus">-       NS_MSGSHUTDOWNSERVICE_CONTRACTID,</span>
<a href="#l2.426"></a><span id="l2.426" class="difflineminus">-       nsMsgShutdownServiceConstructor</span>
<a href="#l2.427"></a><span id="l2.427" class="difflineminus">-    },</span>
<a href="#l2.428"></a><span id="l2.428" class="difflineminus">-    {</span>
<a href="#l2.429"></a><span id="l2.429" class="difflineminus">-      &quot;mail director provider&quot;,</span>
<a href="#l2.430"></a><span id="l2.430" class="difflineminus">-      MAILDIRPROVIDER_CID,</span>
<a href="#l2.431"></a><span id="l2.431" class="difflineminus">-      NS_MAILDIRPROVIDER_CONTRACTID,</span>
<a href="#l2.432"></a><span id="l2.432" class="difflineminus">-      nsMailDirProviderConstructor,</span>
<a href="#l2.433"></a><span id="l2.433" class="difflineminus">-      nsMailDirProvider::Register,</span>
<a href="#l2.434"></a><span id="l2.434" class="difflineminus">-      nsMailDirProvider::Unregister</span>
<a href="#l2.435"></a><span id="l2.435" class="difflineminus">-    },</span>
<a href="#l2.436"></a><span id="l2.436" class="difflineminus">-    {</span>
<a href="#l2.437"></a><span id="l2.437" class="difflineminus">-      &quot;stopwatch&quot;, NS_STOPWATCH_CID,</span>
<a href="#l2.438"></a><span id="l2.438" class="difflineminus">-      NS_STOPWATCH_CONTRACTID,</span>
<a href="#l2.439"></a><span id="l2.439" class="difflineminus">-      nsStopwatchConstructor</span>
<a href="#l2.440"></a><span id="l2.440" class="difflineminus">-    }</span>
<a href="#l2.441"></a><span id="l2.441" class="difflineplus">+  { &amp;kNS_MESSENGERCONTENTHANDLER_CID, false, NULL, nsMessengerContentHandlerConstructor},</span>
<a href="#l2.442"></a><span id="l2.442" class="difflineplus">+  { &amp;kNS_MSGCONTENTPOLICY_CID, false, NULL, nsMsgContentPolicyConstructor},</span>
<a href="#l2.443"></a><span id="l2.443" class="difflineplus">+//      RegisterMailnewsContentPolicy, UnregisterMailnewsContentPolicy</span>
<a href="#l2.444"></a><span id="l2.444" class="difflineplus">+  { &amp;kNS_MSGSHUTDOWNSERVICE_CID, false, NULL, nsMsgShutdownServiceConstructor},</span>
<a href="#l2.445"></a><span id="l2.445" class="difflineplus">+  { &amp;kMAILDIRPROVIDER_CID, false, NULL, nsMailDirProviderConstructor},</span>
<a href="#l2.446"></a><span id="l2.446" class="difflineplus">+//      nsMailDirProvider::Register,</span>
<a href="#l2.447"></a><span id="l2.447" class="difflineplus">+//      nsMailDirProvider::Unregister</span>
<a href="#l2.448"></a><span id="l2.448" class="difflineplus">+  {&amp;kNS_STOPWATCH_CID, false, NULL, nsStopwatchConstructor},</span>
<a href="#l2.449"></a><span id="l2.449" class="difflineplus">+  {NULL}</span>
<a href="#l2.450"></a><span id="l2.450"> };</span>
<a href="#l2.451"></a><span id="l2.451"> </span>
<a href="#l2.452"></a><span id="l2.452" class="difflineminus">-NS_IMPL_NSGETMODULE(nsMsgBaseModule, gComponents)</span>
<a href="#l2.453"></a><span id="l2.453" class="difflineminus">-  </span>
<a href="#l2.454"></a><span id="l2.454" class="difflineplus">+const mozilla::Module::ContractIDEntry kMailNewsBaseContracts[] = {</span>
<a href="#l2.455"></a><span id="l2.455" class="difflineplus">+  { NS_MESSENGERBOOTSTRAP_CONTRACTID, &amp;kNS_MESSENGERBOOTSTRAP_CID },</span>
<a href="#l2.456"></a><span id="l2.456" class="difflineplus">+  { NS_MESSENGERWINDOWSERVICE_CONTRACTID, &amp;kNS_MESSENGERWINDOWSERVICE_CID },</span>
<a href="#l2.457"></a><span id="l2.457" class="difflineplus">+  { NS_MSGMAILSESSION_CONTRACTID, &amp;kNS_MSGMAILSESSION_CID },</span>
<a href="#l2.458"></a><span id="l2.458" class="difflineplus">+  { NS_MESSENGER_CONTRACTID, &amp;kNS_MESSENGER_CID },</span>
<a href="#l2.459"></a><span id="l2.459" class="difflineplus">+  { NS_MSGACCOUNTMANAGER_CONTRACTID, &amp;kNS_MSGACCOUNTMANAGER_CID },</span>
<a href="#l2.460"></a><span id="l2.460" class="difflineplus">+  { NS_MSGACCOUNT_CONTRACTID, &amp;kNS_MSGACCOUNT_CID },</span>
<a href="#l2.461"></a><span id="l2.461" class="difflineplus">+  { NS_MSGIDENTITY_CONTRACTID, &amp;kNS_MSGIDENTITY_CID },</span>
<a href="#l2.462"></a><span id="l2.462" class="difflineplus">+  { NS_MAILNEWSFOLDERDATASOURCE_CONTRACTID, &amp;kNS_MAILNEWSFOLDERDATASOURCE_CID },</span>
<a href="#l2.463"></a><span id="l2.463" class="difflineplus">+  { NS_MAILNEWSUNREADFOLDERDATASOURCE_CONTRACTID, &amp;kNS_MAILNEWSUNREADFOLDERDATASOURCE_CID },</span>
<a href="#l2.464"></a><span id="l2.464" class="difflineplus">+  { NS_MAILNEWSFAVORITEFOLDERDATASOURCE_CONTRACTID, &amp;kNS_MAILNEWSFAVORITEFOLDERDATASOURCE_CID },</span>
<a href="#l2.465"></a><span id="l2.465" class="difflineplus">+  { NS_MAILNEWSRECENTFOLDERDATASOURCE_CONTRACTID, &amp;kNS_MAILNEWSRECENTFOLDERDATASOURCE_CID },</span>
<a href="#l2.466"></a><span id="l2.466" class="difflineplus">+  { NS_RDF_DATASOURCE_CONTRACTID_PREFIX &quot;msgaccountmanager&quot;, &amp;kNS_MSGACCOUNTMANAGERDATASOURCE_CID },</span>
<a href="#l2.467"></a><span id="l2.467" class="difflineplus">+  { NS_MSGFILTERSERVICE_CONTRACTID, &amp;kNS_MSGFILTERSERVICE_CID },</span>
<a href="#l2.468"></a><span id="l2.468" class="difflineplus">+  { NS_MSGSEARCHSESSION_CONTRACTID, &amp;kNS_MSGSEARCHSESSION_CID },</span>
<a href="#l2.469"></a><span id="l2.469" class="difflineplus">+  { NS_MSGSEARCHTERM_CONTRACTID, &amp;kNS_MSGSEARCHTERM_CID },</span>
<a href="#l2.470"></a><span id="l2.470" class="difflineplus">+  { NS_MSGSEARCHVALIDITYMANAGER_CONTRACTID, &amp;kNS_MSGSEARCHVALIDITYMANAGER_CID },</span>
<a href="#l2.471"></a><span id="l2.471" class="difflineplus">+  { NS_MSGBIFFMANAGER_CONTRACTID, &amp;kNS_MSGBIFFMANAGER_CID },</span>
<a href="#l2.472"></a><span id="l2.472" class="difflineplus">+  { NS_MSGPURGESERVICE_CONTRACTID, &amp;kNS_MSGPURGESERVICE_CID },</span>
<a href="#l2.473"></a><span id="l2.473" class="difflineplus">+  { NS_STATUSBARBIFFMANAGER_CONTRACTID, &amp;kNS_STATUSBARBIFFMANAGER_CID },</span>
<a href="#l2.474"></a><span id="l2.474" class="difflineplus">+  { NS_COPYMESSAGESTREAMLISTENER_CONTRACTID, &amp;kNS_COPYMESSAGESTREAMLISTENER_CID },</span>
<a href="#l2.475"></a><span id="l2.475" class="difflineplus">+  { NS_MSGCOPYSERVICE_CONTRACTID, &amp;kNS_MSGCOPYSERVICE_CID },</span>
<a href="#l2.476"></a><span id="l2.476" class="difflineplus">+  { NS_MSGFOLDERCACHE_CONTRACTID, &amp;kNS_MSGFOLDERCACHE_CID },</span>
<a href="#l2.477"></a><span id="l2.477" class="difflineplus">+  { NS_MSGSTATUSFEEDBACK_CONTRACTID, &amp;kNS_MSGSTATUSFEEDBACK_CID },</span>
<a href="#l2.478"></a><span id="l2.478" class="difflineplus">+  { NS_MSGWINDOW_CONTRACTID, &amp;kNS_MSGWINDOW_CID },</span>
<a href="#l2.479"></a><span id="l2.479" class="difflineplus">+  { NS_MSGPRINTENGINE_CONTRACTID, &amp;kNS_MSG_PRINTENGINE_CID },</span>
<a href="#l2.480"></a><span id="l2.480" class="difflineplus">+  { NS_MSGSERVICEPROVIDERSERVICE_CONTRACTID, &amp;kNS_MSGSERVICEPROVIDERSERVICE_CID },</span>
<a href="#l2.481"></a><span id="l2.481" class="difflineplus">+  { NS_SUBSCRIBEDATASOURCE_CONTRACTID, &amp;kNS_SUBSCRIBEDATASOURCE_CID },</span>
<a href="#l2.482"></a><span id="l2.482" class="difflineplus">+  { NS_SUBSCRIBABLESERVER_CONTRACTID, &amp;kNS_SUBSCRIBABLESERVER_CID },</span>
<a href="#l2.483"></a><span id="l2.483" class="difflineplus">+  { NS_MSGLOCALFOLDERCOMPACTOR_CONTRACTID, &amp;kNS_MSGLOCALFOLDERCOMPACTOR_CID },</span>
<a href="#l2.484"></a><span id="l2.484" class="difflineplus">+  { NS_MSGOFFLINESTORECOMPACTOR_CONTRACTID, &amp;kNS_MSG_OFFLINESTORECOMPACTOR_CID },</span>
<a href="#l2.485"></a><span id="l2.485" class="difflineplus">+  { NS_MSGTHREADEDDBVIEW_CONTRACTID, &amp;kNS_MSGTHREADEDDBVIEW_CID },</span>
<a href="#l2.486"></a><span id="l2.486" class="difflineplus">+  { NS_MSGTHREADSWITHUNREADDBVIEW_CONTRACTID, &amp;kNS_MSGTHREADSWITHUNREADDBVIEW_CID },</span>
<a href="#l2.487"></a><span id="l2.487" class="difflineplus">+  { NS_MSGWATCHEDTHREADSWITHUNREADDBVIEW_CONTRACTID, &amp;kNS_MSGWATCHEDTHREADSWITHUNREADDBVIEW_CID },</span>
<a href="#l2.488"></a><span id="l2.488" class="difflineplus">+  { NS_MSGSEARCHDBVIEW_CONTRACTID, &amp;kNS_MSGSEARCHDBVIEW_CID },</span>
<a href="#l2.489"></a><span id="l2.489" class="difflineplus">+  { NS_MSGQUICKSEARCHDBVIEW_CONTRACTID, &amp;kNS_MSGQUICKSEARCHDBVIEW_CID },</span>
<a href="#l2.490"></a><span id="l2.490" class="difflineplus">+  { NS_MSGXFVFDBVIEW_CONTRACTID, &amp;kNS_MSG_XFVFDBVIEW_CID },</span>
<a href="#l2.491"></a><span id="l2.491" class="difflineplus">+  { NS_MSGGROUPDBVIEW_CONTRACTID, &amp;kNS_MSG_GROUPDBVIEW_CID },</span>
<a href="#l2.492"></a><span id="l2.492" class="difflineplus">+  { NS_MSGOFFLINEMANAGER_CONTRACTID, &amp;kNS_MSGOFFLINEMANAGER_CID },</span>
<a href="#l2.493"></a><span id="l2.493" class="difflineplus">+  { NS_MSGPROGRESS_CONTRACTID, &amp;kNS_MSGPROGRESS_CID },</span>
<a href="#l2.494"></a><span id="l2.494" class="difflineplus">+  { NS_SPAMSETTINGS_CONTRACTID, &amp;kNS_SPAMSETTINGS_CID },</span>
<a href="#l2.495"></a><span id="l2.495" class="difflineplus">+  { NS_CIDPROTOCOLHANDLER_CONTRACTID, &amp;kNS_CIDPROTOCOL_CID },</span>
<a href="#l2.496"></a><span id="l2.496" class="difflineplus">+  { NS_MSGTAGSERVICE_CONTRACTID, &amp;kNS_MSGTAGSERVICE_CID },</span>
<a href="#l2.497"></a><span id="l2.497" class="difflineplus">+  { NS_MSGNOTIFICATIONSERVICE_CONTRACTID, &amp;kNS_MSGNOTIFICATIONSERVICE_CID },</span>
<a href="#l2.498"></a><span id="l2.498" class="difflineplus">+#ifdef XP_WIN</span>
<a href="#l2.499"></a><span id="l2.499" class="difflineplus">+  { NS_MESSENGEROSINTEGRATION_CONTRACTID, &amp;kNS_MESSENGERWININTEGRATION_CID },</span>
<a href="#l2.500"></a><span id="l2.500" class="difflineplus">+#endif</span>
<a href="#l2.501"></a><span id="l2.501" class="difflineplus">+#ifdef XP_OS2</span>
<a href="#l2.502"></a><span id="l2.502" class="difflineplus">+  { NS_MESSENGEROSINTEGRATION_CONTRACTID, &amp;kNS_MESSENGEROS2INTEGRATION_CID },</span>
<a href="#l2.503"></a><span id="l2.503" class="difflineplus">+#endif</span>
<a href="#l2.504"></a><span id="l2.504" class="difflineplus">+#ifdef XP_MACOSX</span>
<a href="#l2.505"></a><span id="l2.505" class="difflineplus">+  { NS_MESSENGEROSINTEGRATION_CONTRACTID, &amp;kNS_MESSENGEROSXINTEGRATION_CID },</span>
<a href="#l2.506"></a><span id="l2.506" class="difflineplus">+#endif</span>
<a href="#l2.507"></a><span id="l2.507" class="difflineplus">+#if defined(MOZ_WIDGET_GTK) || defined(MOZ_WIDGET_GTK2)</span>
<a href="#l2.508"></a><span id="l2.508" class="difflineplus">+  { NS_MESSENGEROSINTEGRATION_CONTRACTID, &amp;kNS_MESSENGERUNIXINTEGRATION_CID },</span>
<a href="#l2.509"></a><span id="l2.509" class="difflineplus">+#endif</span>
<a href="#l2.510"></a><span id="l2.510" class="difflineplus">+  { NS_MESSENGERCONTENTHANDLER_CONTRACTID, &amp;kNS_MESSENGERCONTENTHANDLER_CID },</span>
<a href="#l2.511"></a><span id="l2.511" class="difflineplus">+  { NS_MSGCONTENTPOLICY_CONTRACTID, &amp;kNS_MSGCONTENTPOLICY_CID },</span>
<a href="#l2.512"></a><span id="l2.512" class="difflineplus">+  { NS_MSGSHUTDOWNSERVICE_CONTRACTID, &amp;kNS_MSGSHUTDOWNSERVICE_CID },</span>
<a href="#l2.513"></a><span id="l2.513" class="difflineplus">+  { NS_MAILDIRPROVIDER_CONTRACTID, &amp;kMAILDIRPROVIDER_CID },</span>
<a href="#l2.514"></a><span id="l2.514" class="difflineplus">+  { NS_STOPWATCH_CONTRACTID, &amp;kNS_STOPWATCH_CID },</span>
<a href="#l2.515"></a><span id="l2.515" class="difflineplus">+  { NULL }</span>
<a href="#l2.516"></a><span id="l2.516" class="difflineplus">+};</span>
<a href="#l2.517"></a><span id="l2.517" class="difflineplus">+</span>
<a href="#l2.518"></a><span id="l2.518" class="difflineplus">+static const mozilla::Module::CategoryEntry kMailNewsBaseCategories[] = {</span>
<a href="#l2.519"></a><span id="l2.519" class="difflineplus">+    { XPCOM_DIRECTORY_PROVIDER_CATEGORY, &quot;mail-directory-provider&quot;, NS_MAILDIRPROVIDER_CONTRACTID },</span>
<a href="#l2.520"></a><span id="l2.520" class="difflineplus">+    { &quot;content-policy&quot;, NS_MSGCONTENTPOLICY_CONTRACTID, NS_MSGCONTENTPOLICY_CONTRACTID},</span>
<a href="#l2.521"></a><span id="l2.521" class="difflineplus">+#ifdef XP_MACOSX</span>
<a href="#l2.522"></a><span id="l2.522" class="difflineplus">+    { &quot;app-startup&quot;, NS_MESSENGEROSINTEGRATION_CONTRACTID, &quot;service,&quot; NS_MESSENGEROSINTEGRATION_CONTRACTID},</span>
<a href="#l2.523"></a><span id="l2.523" class="difflineplus">+#endif</span>
<a href="#l2.524"></a><span id="l2.524" class="difflineplus">+    { NULL }</span>
<a href="#l2.525"></a><span id="l2.525" class="difflineplus">+};</span>
<a href="#l2.526"></a><span id="l2.526" class="difflineplus">+</span>
<a href="#l2.527"></a><span id="l2.527" class="difflineplus">+static const mozilla::Module kMailNewsBaseModule = {</span>
<a href="#l2.528"></a><span id="l2.528" class="difflineplus">+  mozilla::Module::kVersion,</span>
<a href="#l2.529"></a><span id="l2.529" class="difflineplus">+  kMailNewsBaseCIDs,</span>
<a href="#l2.530"></a><span id="l2.530" class="difflineplus">+  kMailNewsBaseContracts,</span>
<a href="#l2.531"></a><span id="l2.531" class="difflineplus">+  kMailNewsBaseCategories</span>
<a href="#l2.532"></a><span id="l2.532" class="difflineplus">+};</span>
<a href="#l2.533"></a><span id="l2.533" class="difflineplus">+</span>
<a href="#l2.534"></a><span id="l2.534" class="difflineplus">+NSMODULE_DEFN(mailnewsbase_provider) = &amp;kMailNewsBaseModule;</span>
<a href="#l2.535"></a><span id="l2.535" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mailnews/base/util/nsStopwatch.cpp</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mailnews/base/util/nsStopwatch.cpp</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -5,35 +5,32 @@</span>
<a href="#l3.4"></a><span id="l3.4"> #include &lt;sys/times.h&gt;</span>
<a href="#l3.5"></a><span id="l3.5"> #include &lt;sys/time.h&gt;</span>
<a href="#l3.6"></a><span id="l3.6"> #include &lt;errno.h&gt;</span>
<a href="#l3.7"></a><span id="l3.7"> #endif</span>
<a href="#l3.8"></a><span id="l3.8"> #ifdef XP_WIN</span>
<a href="#l3.9"></a><span id="l3.9"> #include &quot;windows.h&quot;</span>
<a href="#l3.10"></a><span id="l3.10"> #endif</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-#include &quot;nsIClassInfoImpl.h&quot;</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-</span>
<a href="#l3.14"></a><span id="l3.14"> #include &quot;nsStopwatch.h&quot;</span>
<a href="#l3.15"></a><span id="l3.15"> #include &quot;nsMemory.h&quot;</span>
<a href="#l3.16"></a><span id="l3.16"> </span>
<a href="#l3.17"></a><span id="l3.17"> /*</span>
<a href="#l3.18"></a><span id="l3.18">  * This basis for the logic in this file comes from (will used to come from):</span>
<a href="#l3.19"></a><span id="l3.19">  *  (mozilla/)modules/libutil/public/stopwatch.cpp.</span>
<a href="#l3.20"></a><span id="l3.20">  *  </span>
<a href="#l3.21"></a><span id="l3.21">  * It was no longer used in the mozilla tree, and is being migrated to</span>
<a href="#l3.22"></a><span id="l3.22">  * comm-central where we actually have a need for it.  (&quot;Being&quot; in the sense</span>
<a href="#l3.23"></a><span id="l3.23">  * that it will not be removed immediately from mozilla-central.)</span>
<a href="#l3.24"></a><span id="l3.24">  * </span>
<a href="#l3.25"></a><span id="l3.25">  * Simplification and general clean-up has been performed and the fix for</span>
<a href="#l3.26"></a><span id="l3.26">  * bug 96669 has been integrated.</span>
<a href="#l3.27"></a><span id="l3.27">  */</span>
<a href="#l3.28"></a><span id="l3.28"> </span>
<a href="#l3.29"></a><span id="l3.29" class="difflineminus">-NS_DECL_CLASSINFO(nsStopwatch)</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-NS_IMPL_ISUPPORTS1_CI(nsStopwatch, nsIStopwatch)</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineplus">+NS_IMPL_ISUPPORTS1(nsStopwatch, nsIStopwatch)</span>
<a href="#l3.32"></a><span id="l3.32"> </span>
<a href="#l3.33"></a><span id="l3.33"> #ifdef WINCE</span>
<a href="#l3.34"></a><span id="l3.34"> #error &quot;WINCE apparently does not provide the clock support we require.&quot;</span>
<a href="#l3.35"></a><span id="l3.35"> #endif</span>
<a href="#l3.36"></a><span id="l3.36"> </span>
<a href="#l3.37"></a><span id="l3.37"> #if defined(XP_UNIX) || defined(XP_OS2)</span>
<a href="#l3.38"></a><span id="l3.38"> /** the number of ticks per second */</span>
<a href="#l3.39"></a><span id="l3.39"> static double gTicks = 0;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mailnews/compose/build/nsMsgCompFactory.cpp</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mailnews/compose/build/nsMsgCompFactory.cpp</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -30,24 +30,24 @@</span>
<a href="#l4.4"></a><span id="l4.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l4.5"></a><span id="l4.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l4.6"></a><span id="l4.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l4.7"></a><span id="l4.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l4.8"></a><span id="l4.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l4.9"></a><span id="l4.9">  *</span>
<a href="#l4.10"></a><span id="l4.10">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l4.13"></a><span id="l4.13"> #include &quot;msgCore.h&quot;</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15"> #include &quot;nsISupports.h&quot;</span>
<a href="#l4.16"></a><span id="l4.16"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l4.17"></a><span id="l4.17"> </span>
<a href="#l4.18"></a><span id="l4.18"> #include &quot;nsIFactory.h&quot;</span>
<a href="#l4.19"></a><span id="l4.19"> #include &quot;nsICategoryManager.h&quot;</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l4.21"></a><span id="l4.21"> #include &quot;nsIServiceManager.h&quot;</span>
<a href="#l4.22"></a><span id="l4.22"> #include &quot;nsServiceManagerUtils.h&quot;</span>
<a href="#l4.23"></a><span id="l4.23"> #include &quot;nsIModule.h&quot;</span>
<a href="#l4.24"></a><span id="l4.24"> </span>
<a href="#l4.25"></a><span id="l4.25"> #include &quot;pratom.h&quot;</span>
<a href="#l4.26"></a><span id="l4.26"> #include &quot;nsMsgCompCID.h&quot;</span>
<a href="#l4.27"></a><span id="l4.27"> </span>
<a href="#l4.28"></a><span id="l4.28"> /* Include all of the interfaces our factory can generate components for */</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineat">@@ -81,127 +81,91 @@ NS_GENERIC_FACTORY_CONSTRUCTOR_INIT(nsMs</span>
<a href="#l4.30"></a><span id="l4.30"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgComposeContentHandler)</span>
<a href="#l4.31"></a><span id="l4.31"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgQuote)</span>
<a href="#l4.32"></a><span id="l4.32"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgQuoteListener)</span>
<a href="#l4.33"></a><span id="l4.33"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsSmtpUrl)</span>
<a href="#l4.34"></a><span id="l4.34"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMailtoUrl)</span>
<a href="#l4.35"></a><span id="l4.35"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsURLFetcher)</span>
<a href="#l4.36"></a><span id="l4.36"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgCompUtils)</span>
<a href="#l4.37"></a><span id="l4.37"> </span>
<a href="#l4.38"></a><span id="l4.38" class="difflineminus">-static NS_METHOD</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-RegisterCommandLineHandler(nsIComponentManager* compMgr, nsIFile* path,</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-                           const char *location, const char *type,</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineminus">-                           const nsModuleComponentInfo *info)</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineminus">-{</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineminus">-  nsCOMPtr&lt;nsICategoryManager&gt; catMan (do_GetService(NS_CATEGORYMANAGER_CONTRACTID));</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineminus">-  NS_ENSURE_TRUE(catMan, NS_ERROR_FAILURE);</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineminus">-</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineminus">-  return catMan-&gt;AddCategoryEntry(&quot;command-line-handler&quot;, &quot;m-compose&quot;,</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineminus">-                                  NS_MSGCOMPOSESTARTUPHANDLER_CONTRACTID,</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineminus">-                                  PR_TRUE, PR_TRUE, nsnull);</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineminus">-}</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineminus">-</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineminus">-static NS_METHOD</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineminus">-UnregisterCommandLineHandler(nsIComponentManager* compMgr, nsIFile* path,</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineminus">-                             const char *location,</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineminus">-                             const nsModuleComponentInfo *info)</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineminus">-{</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineminus">-  nsCOMPtr&lt;nsICategoryManager&gt; catMan (do_GetService(NS_CATEGORYMANAGER_CONTRACTID));</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineminus">-  NS_ENSURE_TRUE(catMan, NS_ERROR_FAILURE);</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineminus">-</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineminus">-  catMan-&gt;DeleteCategoryEntry(&quot;command-line-handler&quot;, &quot;m-compose&quot;,</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineminus">-                              PR_TRUE);</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineminus">-</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineminus">-  return NS_OK;</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-}</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineminus">-</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineminus">-////////////////////////////////////////////////////////////</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineminus">-//</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineminus">-////////////////////////////////////////////////////////////</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCOMPOSE_CID);</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCOMPOSESERVICE_CID);</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCOMPOSECONTENTHANDLER_CID);</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCOMPOSEPARAMS_CID);</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCOMPOSESENDLISTENER_CID);</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCOMPOSEPROGRESSPARAMS_CID);</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCOMPFIELDS_CID);</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGATTACHMENT_CID);</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGSEND_CID);</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGSENDLATER_CID);</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_SMTPSERVICE_CID);</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_SMTPSERVER_CID);</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_SMTPURL_CID);</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MAILTOURL_CID);</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGQUOTE_CID);</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGQUOTELISTENER_CID);</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_URLFETCHER_CID);</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCOMPUTILS_CID);</span>
<a href="#l4.86"></a><span id="l4.86"> </span>
<a href="#l4.87"></a><span id="l4.87" class="difflineminus">-static const nsModuleComponentInfo components[] =</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineminus">-{</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineminus">-  { &quot;Msg Compose&quot;,</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineminus">-    NS_MSGCOMPOSE_CID,</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineminus">-    NS_MSGCOMPOSE_CONTRACTID,</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineminus">-    nsMsgComposeConstructor },</span>
<a href="#l4.93"></a><span id="l4.93" class="difflineminus">-  { &quot;Msg Compose Service&quot;,</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineminus">-    NS_MSGCOMPOSESERVICE_CID,</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineminus">-    NS_MSGCOMPOSESERVICE_CONTRACTID,</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineminus">-    nsMsgComposeServiceConstructor },</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineminus">-  { &quot;Msg Compose Startup Handler&quot;,</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineminus">-    NS_MSGCOMPOSESERVICE_CID,</span>
<a href="#l4.99"></a><span id="l4.99" class="difflineminus">-    NS_MSGCOMPOSESTARTUPHANDLER_CONTRACTID,</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineminus">-    nsMsgComposeServiceConstructor,</span>
<a href="#l4.101"></a><span id="l4.101" class="difflineminus">-    RegisterCommandLineHandler,</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineminus">-    UnregisterCommandLineHandler },</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineminus">-  { &quot;mailto content handler&quot;,</span>
<a href="#l4.104"></a><span id="l4.104" class="difflineminus">-     NS_MSGCOMPOSECONTENTHANDLER_CID,</span>
<a href="#l4.105"></a><span id="l4.105" class="difflineminus">-     NS_MSGCOMPOSECONTENTHANDLER_CONTRACTID,</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineminus">-     nsMsgComposeContentHandlerConstructor },</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineminus">-  { &quot;Msg Compose Parameters&quot;,</span>
<a href="#l4.108"></a><span id="l4.108" class="difflineminus">-    NS_MSGCOMPOSEPARAMS_CID,</span>
<a href="#l4.109"></a><span id="l4.109" class="difflineminus">-    NS_MSGCOMPOSEPARAMS_CONTRACTID,</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineminus">-    nsMsgComposeParamsConstructor },</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineminus">-  { &quot;Msg Compose Send Listener&quot;,</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineminus">-    NS_MSGCOMPOSESENDLISTENER_CID,</span>
<a href="#l4.113"></a><span id="l4.113" class="difflineminus">-    NS_MSGCOMPOSESENDLISTENER_CONTRACTID,</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineminus">-    nsMsgComposeSendListenerConstructor },</span>
<a href="#l4.115"></a><span id="l4.115" class="difflineminus">-  { &quot;Msg Compose Progress Parameters&quot;,</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineminus">-    NS_MSGCOMPOSEPROGRESSPARAMS_CID,</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineminus">-    NS_MSGCOMPOSEPROGRESSPARAMS_CONTRACTID,</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineminus">-    nsMsgComposeProgressParamsConstructor },</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineminus">-  { &quot;Msg Compose Fields&quot;,</span>
<a href="#l4.120"></a><span id="l4.120" class="difflineminus">-    NS_MSGCOMPFIELDS_CID,</span>
<a href="#l4.121"></a><span id="l4.121" class="difflineminus">-    NS_MSGCOMPFIELDS_CONTRACTID,</span>
<a href="#l4.122"></a><span id="l4.122" class="difflineminus">-    nsMsgCompFieldsConstructor },</span>
<a href="#l4.123"></a><span id="l4.123" class="difflineminus">-  { &quot;Msg Compose Attachment&quot;,</span>
<a href="#l4.124"></a><span id="l4.124" class="difflineminus">-    NS_MSGATTACHMENT_CID,</span>
<a href="#l4.125"></a><span id="l4.125" class="difflineminus">-    NS_MSGATTACHMENT_CONTRACTID,</span>
<a href="#l4.126"></a><span id="l4.126" class="difflineminus">-    nsMsgAttachmentConstructor },</span>
<a href="#l4.127"></a><span id="l4.127" class="difflineminus">-  { &quot;Msg Send&quot;,</span>
<a href="#l4.128"></a><span id="l4.128" class="difflineminus">-    NS_MSGSEND_CID,</span>
<a href="#l4.129"></a><span id="l4.129" class="difflineminus">-    NS_MSGSEND_CONTRACTID,</span>
<a href="#l4.130"></a><span id="l4.130" class="difflineminus">-    nsMsgComposeAndSendConstructor },</span>
<a href="#l4.131"></a><span id="l4.131" class="difflineminus">-  { &quot;Msg Send Later&quot;,</span>
<a href="#l4.132"></a><span id="l4.132" class="difflineminus">-    NS_MSGSENDLATER_CID,</span>
<a href="#l4.133"></a><span id="l4.133" class="difflineminus">-    NS_MSGSENDLATER_CONTRACTID,</span>
<a href="#l4.134"></a><span id="l4.134" class="difflineminus">-    nsMsgSendLaterConstructor },</span>
<a href="#l4.135"></a><span id="l4.135" class="difflineminus">-  { &quot;SMTP Service&quot;,</span>
<a href="#l4.136"></a><span id="l4.136" class="difflineminus">-    NS_SMTPSERVICE_CID,</span>
<a href="#l4.137"></a><span id="l4.137" class="difflineminus">-    NS_SMTPSERVICE_CONTRACTID,</span>
<a href="#l4.138"></a><span id="l4.138" class="difflineminus">-    nsSmtpServiceConstructor },</span>
<a href="#l4.139"></a><span id="l4.139" class="difflineminus">-  { &quot;SMTP Service&quot;,</span>
<a href="#l4.140"></a><span id="l4.140" class="difflineminus">-    NS_SMTPSERVICE_CID,</span>
<a href="#l4.141"></a><span id="l4.141" class="difflineminus">-    NS_MAILTOHANDLER_CONTRACTID,</span>
<a href="#l4.142"></a><span id="l4.142" class="difflineminus">-    nsSmtpServiceConstructor },</span>
<a href="#l4.143"></a><span id="l4.143" class="difflineminus">-  { &quot;SMTP Server&quot;,</span>
<a href="#l4.144"></a><span id="l4.144" class="difflineminus">-    NS_SMTPSERVER_CID,</span>
<a href="#l4.145"></a><span id="l4.145" class="difflineminus">-    NS_SMTPSERVER_CONTRACTID,</span>
<a href="#l4.146"></a><span id="l4.146" class="difflineminus">-    nsSmtpServerConstructor },</span>
<a href="#l4.147"></a><span id="l4.147" class="difflineminus">-  { &quot;SMTP URL&quot;,</span>
<a href="#l4.148"></a><span id="l4.148" class="difflineminus">-    NS_SMTPURL_CID,</span>
<a href="#l4.149"></a><span id="l4.149" class="difflineminus">-    NS_SMTPURL_CONTRACTID,</span>
<a href="#l4.150"></a><span id="l4.150" class="difflineminus">-    nsSmtpUrlConstructor },</span>
<a href="#l4.151"></a><span id="l4.151" class="difflineminus">-  { &quot;MAILTO URL&quot;,</span>
<a href="#l4.152"></a><span id="l4.152" class="difflineminus">-    NS_MAILTOURL_CID,</span>
<a href="#l4.153"></a><span id="l4.153" class="difflineminus">-    NS_MAILTOURL_CONTRACTID,</span>
<a href="#l4.154"></a><span id="l4.154" class="difflineminus">-    nsMailtoUrlConstructor },</span>
<a href="#l4.155"></a><span id="l4.155" class="difflineminus">-  { &quot;Msg Quote&quot;,</span>
<a href="#l4.156"></a><span id="l4.156" class="difflineminus">-    NS_MSGQUOTE_CID,</span>
<a href="#l4.157"></a><span id="l4.157" class="difflineminus">-    NS_MSGQUOTE_CONTRACTID,</span>
<a href="#l4.158"></a><span id="l4.158" class="difflineminus">-    nsMsgQuoteConstructor },</span>
<a href="#l4.159"></a><span id="l4.159" class="difflineminus">-  { &quot;Msg Quote Listener&quot;,</span>
<a href="#l4.160"></a><span id="l4.160" class="difflineminus">-    NS_MSGQUOTELISTENER_CID,</span>
<a href="#l4.161"></a><span id="l4.161" class="difflineminus">-    NS_MSGQUOTELISTENER_CONTRACTID,</span>
<a href="#l4.162"></a><span id="l4.162" class="difflineminus">-    nsMsgQuoteListenerConstructor },</span>
<a href="#l4.163"></a><span id="l4.163" class="difflineminus">-  { &quot;URL Fetcher&quot;,</span>
<a href="#l4.164"></a><span id="l4.164" class="difflineminus">-    NS_URLFETCHER_CID,</span>
<a href="#l4.165"></a><span id="l4.165" class="difflineminus">-    NS_URLFETCHER_CONTRACTID,</span>
<a href="#l4.166"></a><span id="l4.166" class="difflineminus">-    nsURLFetcherConstructor },</span>
<a href="#l4.167"></a><span id="l4.167" class="difflineminus">-  { &quot;Msg Compose Utils&quot;,</span>
<a href="#l4.168"></a><span id="l4.168" class="difflineminus">-    NS_MSGCOMPUTILS_CID,</span>
<a href="#l4.169"></a><span id="l4.169" class="difflineminus">-    NS_MSGCOMPUTILS_CONTRACTID,</span>
<a href="#l4.170"></a><span id="l4.170" class="difflineminus">-    nsMsgCompUtilsConstructor },</span>
<a href="#l4.171"></a><span id="l4.171" class="difflineplus">+const mozilla::Module::CIDEntry kMsgComposeCIDs[] = {</span>
<a href="#l4.172"></a><span id="l4.172" class="difflineplus">+  { &amp;kNS_MSGCOMPOSE_CID, false, NULL, nsMsgComposeConstructor},</span>
<a href="#l4.173"></a><span id="l4.173" class="difflineplus">+  { &amp;kNS_MSGCOMPOSESERVICE_CID, false, NULL, nsMsgComposeServiceConstructor},</span>
<a href="#l4.174"></a><span id="l4.174" class="difflineplus">+  { &amp;kNS_MSGCOMPOSECONTENTHANDLER_CID, false, NULL, nsMsgComposeContentHandlerConstructor},</span>
<a href="#l4.175"></a><span id="l4.175" class="difflineplus">+  { &amp;kNS_MSGCOMPOSEPARAMS_CID, false, NULL, nsMsgComposeParamsConstructor},</span>
<a href="#l4.176"></a><span id="l4.176" class="difflineplus">+  { &amp;kNS_MSGCOMPOSESENDLISTENER_CID, false, NULL, nsMsgComposeSendListenerConstructor},</span>
<a href="#l4.177"></a><span id="l4.177" class="difflineplus">+  { &amp;kNS_MSGCOMPOSEPROGRESSPARAMS_CID, false, NULL, nsMsgComposeProgressParamsConstructor},</span>
<a href="#l4.178"></a><span id="l4.178" class="difflineplus">+  { &amp;kNS_MSGCOMPFIELDS_CID, false, NULL, nsMsgCompFieldsConstructor},</span>
<a href="#l4.179"></a><span id="l4.179" class="difflineplus">+  { &amp;kNS_MSGATTACHMENT_CID, false, NULL, nsMsgAttachmentConstructor},</span>
<a href="#l4.180"></a><span id="l4.180" class="difflineplus">+  { &amp;kNS_MSGSEND_CID, false, NULL, nsMsgComposeAndSendConstructor},</span>
<a href="#l4.181"></a><span id="l4.181" class="difflineplus">+  { &amp;kNS_MSGSENDLATER_CID, false, NULL, nsMsgSendLaterConstructor},</span>
<a href="#l4.182"></a><span id="l4.182" class="difflineplus">+  { &amp;kNS_SMTPSERVICE_CID, false, NULL, nsSmtpServiceConstructor},</span>
<a href="#l4.183"></a><span id="l4.183" class="difflineplus">+  { &amp;kNS_SMTPSERVER_CID, false, NULL, nsSmtpServerConstructor},</span>
<a href="#l4.184"></a><span id="l4.184" class="difflineplus">+  { &amp;kNS_SMTPURL_CID, false, NULL, nsSmtpUrlConstructor},</span>
<a href="#l4.185"></a><span id="l4.185" class="difflineplus">+  { &amp;kNS_MAILTOURL_CID, false, NULL, nsMailtoUrlConstructor},</span>
<a href="#l4.186"></a><span id="l4.186" class="difflineplus">+  { &amp;kNS_MSGQUOTE_CID, false, NULL, nsMsgQuoteConstructor},</span>
<a href="#l4.187"></a><span id="l4.187" class="difflineplus">+  { &amp;kNS_MSGQUOTELISTENER_CID, false, NULL, nsMsgQuoteListenerConstructor},</span>
<a href="#l4.188"></a><span id="l4.188" class="difflineplus">+  { &amp;kNS_URLFETCHER_CID, false, NULL, nsURLFetcherConstructor},</span>
<a href="#l4.189"></a><span id="l4.189" class="difflineplus">+  { &amp;kNS_MSGCOMPUTILS_CID, false, NULL, nsMsgCompUtilsConstructor},</span>
<a href="#l4.190"></a><span id="l4.190" class="difflineplus">+  { NULL}</span>
<a href="#l4.191"></a><span id="l4.191"> };</span>
<a href="#l4.192"></a><span id="l4.192"> </span>
<a href="#l4.193"></a><span id="l4.193" class="difflineminus">-  </span>
<a href="#l4.194"></a><span id="l4.194" class="difflineminus">-NS_IMPL_NSGETMODULE(nsMsgComposeModule, components)</span>
<a href="#l4.195"></a><span id="l4.195" class="difflineplus">+const mozilla::Module::ContractIDEntry kMsgComposeContracts[] = {</span>
<a href="#l4.196"></a><span id="l4.196" class="difflineplus">+  { NS_MSGCOMPOSE_CONTRACTID, &amp;kNS_MSGCOMPOSE_CID},</span>
<a href="#l4.197"></a><span id="l4.197" class="difflineplus">+  { NS_MSGCOMPOSESERVICE_CONTRACTID, &amp;kNS_MSGCOMPOSESERVICE_CID},</span>
<a href="#l4.198"></a><span id="l4.198" class="difflineplus">+  { NS_MSGCOMPOSESTARTUPHANDLER_CONTRACTID, &amp;kNS_MSGCOMPOSESERVICE_CID},</span>
<a href="#l4.199"></a><span id="l4.199" class="difflineplus">+  { NS_MSGCOMPOSECONTENTHANDLER_CONTRACTID, &amp;kNS_MSGCOMPOSECONTENTHANDLER_CID},</span>
<a href="#l4.200"></a><span id="l4.200" class="difflineplus">+  { NS_MSGCOMPOSEPARAMS_CONTRACTID, &amp;kNS_MSGCOMPOSEPARAMS_CID},</span>
<a href="#l4.201"></a><span id="l4.201" class="difflineplus">+  { NS_MSGCOMPOSESENDLISTENER_CONTRACTID, &amp;kNS_MSGCOMPOSESENDLISTENER_CID},</span>
<a href="#l4.202"></a><span id="l4.202" class="difflineplus">+  { NS_MSGCOMPOSEPROGRESSPARAMS_CONTRACTID, &amp;kNS_MSGCOMPOSEPROGRESSPARAMS_CID},</span>
<a href="#l4.203"></a><span id="l4.203" class="difflineplus">+  { NS_MSGCOMPFIELDS_CONTRACTID, &amp;kNS_MSGCOMPFIELDS_CID},</span>
<a href="#l4.204"></a><span id="l4.204" class="difflineplus">+  { NS_MSGATTACHMENT_CONTRACTID, &amp;kNS_MSGATTACHMENT_CID},</span>
<a href="#l4.205"></a><span id="l4.205" class="difflineplus">+  { NS_MSGSEND_CONTRACTID, &amp;kNS_MSGSEND_CID},</span>
<a href="#l4.206"></a><span id="l4.206" class="difflineplus">+  { NS_MSGSENDLATER_CONTRACTID, &amp;kNS_MSGSENDLATER_CID},</span>
<a href="#l4.207"></a><span id="l4.207" class="difflineplus">+  { NS_SMTPSERVICE_CONTRACTID, &amp;kNS_SMTPSERVICE_CID},</span>
<a href="#l4.208"></a><span id="l4.208" class="difflineplus">+  { NS_MAILTOHANDLER_CONTRACTID, &amp;kNS_SMTPSERVICE_CID},</span>
<a href="#l4.209"></a><span id="l4.209" class="difflineplus">+  { NS_SMTPSERVER_CONTRACTID, &amp;kNS_SMTPSERVER_CID},</span>
<a href="#l4.210"></a><span id="l4.210" class="difflineplus">+  { NS_SMTPURL_CONTRACTID, &amp;kNS_SMTPURL_CID},</span>
<a href="#l4.211"></a><span id="l4.211" class="difflineplus">+  { NS_MAILTOURL_CONTRACTID, &amp;kNS_MAILTOURL_CID},</span>
<a href="#l4.212"></a><span id="l4.212" class="difflineplus">+  { NS_MSGQUOTE_CONTRACTID, &amp;kNS_MSGQUOTE_CID},</span>
<a href="#l4.213"></a><span id="l4.213" class="difflineplus">+  { NS_MSGQUOTELISTENER_CONTRACTID, &amp;kNS_MSGQUOTELISTENER_CID},</span>
<a href="#l4.214"></a><span id="l4.214" class="difflineplus">+  { NS_URLFETCHER_CONTRACTID, &amp;kNS_URLFETCHER_CID},</span>
<a href="#l4.215"></a><span id="l4.215" class="difflineplus">+  { NS_MSGCOMPUTILS_CONTRACTID, &amp;kNS_MSGCOMPUTILS_CID},</span>
<a href="#l4.216"></a><span id="l4.216" class="difflineplus">+  { NULL }</span>
<a href="#l4.217"></a><span id="l4.217" class="difflineplus">+};</span>
<a href="#l4.218"></a><span id="l4.218" class="difflineplus">+</span>
<a href="#l4.219"></a><span id="l4.219" class="difflineplus">+static const mozilla::Module::CategoryEntry kMsgComposeCategories[] = {</span>
<a href="#l4.220"></a><span id="l4.220" class="difflineplus">+  { &quot;command-line-handler&quot;, &quot;m-compose&quot;,</span>
<a href="#l4.221"></a><span id="l4.221" class="difflineplus">+                                  NS_MSGCOMPOSESTARTUPHANDLER_CONTRACTID},</span>
<a href="#l4.222"></a><span id="l4.222" class="difflineplus">+  { NULL }</span>
<a href="#l4.223"></a><span id="l4.223" class="difflineplus">+};</span>
<a href="#l4.224"></a><span id="l4.224" class="difflineplus">+</span>
<a href="#l4.225"></a><span id="l4.225" class="difflineplus">+static const mozilla::Module kMsgComposeModule = {</span>
<a href="#l4.226"></a><span id="l4.226" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l4.227"></a><span id="l4.227" class="difflineplus">+    kMsgComposeCIDs,</span>
<a href="#l4.228"></a><span id="l4.228" class="difflineplus">+    kMsgComposeContracts,</span>
<a href="#l4.229"></a><span id="l4.229" class="difflineplus">+    kMsgComposeCategories,</span>
<a href="#l4.230"></a><span id="l4.230" class="difflineplus">+    NULL,</span>
<a href="#l4.231"></a><span id="l4.231" class="difflineplus">+    NULL,</span>
<a href="#l4.232"></a><span id="l4.232" class="difflineplus">+    NULL</span>
<a href="#l4.233"></a><span id="l4.233" class="difflineplus">+};</span>
<a href="#l4.234"></a><span id="l4.234" class="difflineplus">+</span>
<a href="#l4.235"></a><span id="l4.235" class="difflineplus">+NSMODULE_DEFN(msg_compose) = &amp;kMsgComposeModule;</span>
<a href="#l4.236"></a><span id="l4.236" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mailnews/compose/src/nsMsgQuote.cpp</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mailnews/compose/src/nsMsgQuote.cpp</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -34,17 +34,16 @@</span>
<a href="#l5.4"></a><span id="l5.4">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l5.5"></a><span id="l5.5">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l5.6"></a><span id="l5.6">  *</span>
<a href="#l5.7"></a><span id="l5.7">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9"> #include &quot;nsIURL.h&quot;</span>
<a href="#l5.10"></a><span id="l5.10"> #include &quot;nsIInputStream.h&quot;</span>
<a href="#l5.11"></a><span id="l5.11"> #include &quot;nsIOutputStream.h&quot;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l5.13"></a><span id="l5.13"> #include &quot;nsIServiceManager.h&quot;</span>
<a href="#l5.14"></a><span id="l5.14"> #include &quot;nsIStreamListener.h&quot;</span>
<a href="#l5.15"></a><span id="l5.15"> #include &quot;nsIStreamConverter.h&quot;</span>
<a href="#l5.16"></a><span id="l5.16"> #include &quot;nsIStreamConverterService.h&quot;</span>
<a href="#l5.17"></a><span id="l5.17"> #include &quot;nsIMimeStreamConverter.h&quot;</span>
<a href="#l5.18"></a><span id="l5.18"> #include &quot;nsMimeTypes.h&quot;</span>
<a href="#l5.19"></a><span id="l5.19"> #include &quot;nsICharsetConverterManager.h&quot;</span>
<a href="#l5.20"></a><span id="l5.20"> #include &quot;prprf.h&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mailnews/db/msgdb/build/nsMsgDBFactory.cpp</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mailnews/db/msgdb/build/nsMsgDBFactory.cpp</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -31,48 +31,71 @@</span>
<a href="#l6.4"></a><span id="l6.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l6.5"></a><span id="l6.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l6.6"></a><span id="l6.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l6.7"></a><span id="l6.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l6.8"></a><span id="l6.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l6.9"></a><span id="l6.9">  *</span>
<a href="#l6.10"></a><span id="l6.10">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l6.13"></a><span id="l6.13"> #include &quot;msgCore.h&quot; // for pre-compiled headers...</span>
<a href="#l6.14"></a><span id="l6.14"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l6.15"></a><span id="l6.15"> #include &quot;nsIModule.h&quot;</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l6.17"></a><span id="l6.17"> #include &quot;nsMsgDBCID.h&quot;</span>
<a href="#l6.18"></a><span id="l6.18"> </span>
<a href="#l6.19"></a><span id="l6.19"> // include files for components this factory creates...</span>
<a href="#l6.20"></a><span id="l6.20"> #include &quot;nsMailDatabase.h&quot;</span>
<a href="#l6.21"></a><span id="l6.21"> #include &quot;nsNewsDatabase.h&quot;</span>
<a href="#l6.22"></a><span id="l6.22"> #include &quot;nsImapMailDatabase.h&quot;</span>
<a href="#l6.23"></a><span id="l6.23"> </span>
<a href="#l6.24"></a><span id="l6.24"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMailDatabase)</span>
<a href="#l6.25"></a><span id="l6.25"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsNewsDatabase)</span>
<a href="#l6.26"></a><span id="l6.26"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsImapMailDatabase)</span>
<a href="#l6.27"></a><span id="l6.27"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgRetentionSettings)</span>
<a href="#l6.28"></a><span id="l6.28"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgDownloadSettings)</span>
<a href="#l6.29"></a><span id="l6.29"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgDBService)</span>
<a href="#l6.30"></a><span id="l6.30"> </span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-// The list of components we register</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineminus">-static const nsModuleComponentInfo msgDB_components[] = {</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineminus">-    { &quot;Mail DB&quot;, NS_MAILDB_CID, NS_MAILBOXDB_CONTRACTID, nsMailDatabaseConstructor },</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-    { &quot;News DB&quot;, NS_NEWSDB_CID, NS_NEWSDB_CONTRACTID, nsNewsDatabaseConstructor },</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineminus">-    { &quot;Imap DB&quot;, NS_IMAPDB_CID, NS_IMAPDB_CONTRACTID, nsImapMailDatabaseConstructor },</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineminus">-    { &quot;Msg Retention Settings&quot;, NS_MSG_RETENTIONSETTINGS_CID,</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineminus">-      NS_MSG_RETENTIONSETTINGS_CONTRACTID, nsMsgRetentionSettingsConstructor },</span>
<a href="#l6.38"></a><span id="l6.38" class="difflineminus">-    { &quot;Msg Download Settings&quot;, NS_MSG_DOWNLOADSETTINGS_CID,</span>
<a href="#l6.39"></a><span id="l6.39" class="difflineminus">-      NS_MSG_DOWNLOADSETTINGS_CONTRACTID, nsMsgDownloadSettingsConstructor },</span>
<a href="#l6.40"></a><span id="l6.40" class="difflineminus">-   { &quot;Msg DB Service&quot;, NS_MSGDB_SERVICE_CID, NS_MSGDB_SERVICE_CONTRACTID, nsMsgDBServiceConstructor }</span>
<a href="#l6.41"></a><span id="l6.41" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MAILDB_CID);</span>
<a href="#l6.42"></a><span id="l6.42" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NEWSDB_CID);</span>
<a href="#l6.43"></a><span id="l6.43" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_IMAPDB_CID);</span>
<a href="#l6.44"></a><span id="l6.44" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSG_RETENTIONSETTINGS_CID);</span>
<a href="#l6.45"></a><span id="l6.45" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSG_DOWNLOADSETTINGS_CID);</span>
<a href="#l6.46"></a><span id="l6.46" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGDB_SERVICE_CID);</span>
<a href="#l6.47"></a><span id="l6.47" class="difflineplus">+</span>
<a href="#l6.48"></a><span id="l6.48" class="difflineplus">+const mozilla::Module::CIDEntry kMsgDBCIDs[] = {</span>
<a href="#l6.49"></a><span id="l6.49" class="difflineplus">+  { &amp;kNS_MAILDB_CID, false, NULL, nsMailDatabaseConstructor },</span>
<a href="#l6.50"></a><span id="l6.50" class="difflineplus">+  { &amp;kNS_NEWSDB_CID, false, NULL, nsNewsDatabaseConstructor },</span>
<a href="#l6.51"></a><span id="l6.51" class="difflineplus">+  { &amp;kNS_IMAPDB_CID, false, NULL, nsImapMailDatabaseConstructor },</span>
<a href="#l6.52"></a><span id="l6.52" class="difflineplus">+  { &amp;kNS_MSG_RETENTIONSETTINGS_CID, false, NULL, nsMsgRetentionSettingsConstructor },</span>
<a href="#l6.53"></a><span id="l6.53" class="difflineplus">+  { &amp;kNS_MSG_DOWNLOADSETTINGS_CID, false, NULL, nsMsgDownloadSettingsConstructor },</span>
<a href="#l6.54"></a><span id="l6.54" class="difflineplus">+  { &amp;kNS_MSGDB_SERVICE_CID, false, NULL, nsMsgDBServiceConstructor },</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineplus">+  { NULL }</span>
<a href="#l6.56"></a><span id="l6.56" class="difflineplus">+};</span>
<a href="#l6.57"></a><span id="l6.57" class="difflineplus">+</span>
<a href="#l6.58"></a><span id="l6.58" class="difflineplus">+const mozilla::Module::ContractIDEntry kMsgDBContracts[] = {</span>
<a href="#l6.59"></a><span id="l6.59" class="difflineplus">+  { NS_MAILBOXDB_CONTRACTID, &amp;kNS_MAILDB_CID },</span>
<a href="#l6.60"></a><span id="l6.60" class="difflineplus">+  { NS_NEWSDB_CONTRACTID, &amp;kNS_NEWSDB_CID },</span>
<a href="#l6.61"></a><span id="l6.61" class="difflineplus">+  { NS_IMAPDB_CONTRACTID, &amp;kNS_IMAPDB_CID },</span>
<a href="#l6.62"></a><span id="l6.62" class="difflineplus">+  { NS_MSG_RETENTIONSETTINGS_CONTRACTID, &amp;kNS_MSG_RETENTIONSETTINGS_CID },</span>
<a href="#l6.63"></a><span id="l6.63" class="difflineplus">+  { NS_MSG_DOWNLOADSETTINGS_CONTRACTID, &amp;kNS_MSG_DOWNLOADSETTINGS_CID },</span>
<a href="#l6.64"></a><span id="l6.64" class="difflineplus">+  { NS_MSGDB_SERVICE_CONTRACTID, &amp;kNS_MSGDB_SERVICE_CID },</span>
<a href="#l6.65"></a><span id="l6.65" class="difflineplus">+  { NULL }</span>
<a href="#l6.66"></a><span id="l6.66"> };</span>
<a href="#l6.67"></a><span id="l6.67"> </span>
<a href="#l6.68"></a><span id="l6.68"> static void</span>
<a href="#l6.69"></a><span id="l6.69" class="difflineminus">-msgDBModuleDtor(nsIModule* self)</span>
<a href="#l6.70"></a><span id="l6.70" class="difflineplus">+msgDBModuleDtor()</span>
<a href="#l6.71"></a><span id="l6.71"> {</span>
<a href="#l6.72"></a><span id="l6.72">   nsMsgDatabase::CleanupCache();</span>
<a href="#l6.73"></a><span id="l6.73"> }</span>
<a href="#l6.74"></a><span id="l6.74"> </span>
<a href="#l6.75"></a><span id="l6.75" class="difflineminus">-NS_IMPL_NSGETMODULE_WITH_DTOR(nsMsgDBModule, msgDB_components, msgDBModuleDtor)</span>
<a href="#l6.76"></a><span id="l6.76" class="difflineplus">+static const mozilla::Module kMsgDBModule = {</span>
<a href="#l6.77"></a><span id="l6.77" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l6.78"></a><span id="l6.78" class="difflineplus">+    kMsgDBCIDs,</span>
<a href="#l6.79"></a><span id="l6.79" class="difflineplus">+    kMsgDBContracts,</span>
<a href="#l6.80"></a><span id="l6.80" class="difflineplus">+    NULL,</span>
<a href="#l6.81"></a><span id="l6.81" class="difflineplus">+    NULL,</span>
<a href="#l6.82"></a><span id="l6.82" class="difflineplus">+    NULL,</span>
<a href="#l6.83"></a><span id="l6.83" class="difflineplus">+    msgDBModuleDtor</span>
<a href="#l6.84"></a><span id="l6.84" class="difflineplus">+};</span>
<a href="#l6.85"></a><span id="l6.85"> </span>
<a href="#l6.86"></a><span id="l6.86" class="difflineplus">+NSMODULE_DEFN(msgdb) = &amp;kMsgDBModule;</span>
<a href="#l6.87"></a><span id="l6.87"> </span>
<a href="#l6.88"></a><span id="l6.88" class="difflineminus">-</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/build/nsBayesianFilterFactory.cpp</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/build/nsBayesianFilterFactory.cpp</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -31,36 +31,46 @@</span>
<a href="#l7.4"></a><span id="l7.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l7.5"></a><span id="l7.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l7.6"></a><span id="l7.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l7.7"></a><span id="l7.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l7.8"></a><span id="l7.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l7.9"></a><span id="l7.9">  *</span>
<a href="#l7.10"></a><span id="l7.10">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l7.13"></a><span id="l7.13"> #include &quot;nsISupports.h&quot;</span>
<a href="#l7.14"></a><span id="l7.14"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l7.15"></a><span id="l7.15"> </span>
<a href="#l7.16"></a><span id="l7.16"> #include &quot;nsIFactory.h&quot;</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l7.18"></a><span id="l7.18"> #include &quot;nsIServiceManager.h&quot;</span>
<a href="#l7.19"></a><span id="l7.19"> #include &quot;nsIModule.h&quot;</span>
<a href="#l7.20"></a><span id="l7.20"> </span>
<a href="#l7.21"></a><span id="l7.21"> #include &quot;nsBayesianFilterCID.h&quot;</span>
<a href="#l7.22"></a><span id="l7.22"> </span>
<a href="#l7.23"></a><span id="l7.23"> /* Include all of the interfaces our factory can generate components for */</span>
<a href="#l7.24"></a><span id="l7.24"> #include &quot;nsBayesianFilter.h&quot;</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsBayesianFilter)</span>
<a href="#l7.27"></a><span id="l7.27"> </span>
<a href="#l7.28"></a><span id="l7.28" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_BAYESIANFILTER_CID);</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineplus">+</span>
<a href="#l7.30"></a><span id="l7.30" class="difflineplus">+const mozilla::Module::CIDEntry kBayesianFilterCIDs[] = {</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineplus">+  { &amp;kNS_BAYESIANFILTER_CID, false, NULL, nsBayesianFilterConstructor },</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+  { NULL }</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineplus">+};</span>
<a href="#l7.34"></a><span id="l7.34" class="difflineplus">+</span>
<a href="#l7.35"></a><span id="l7.35" class="difflineplus">+const mozilla::Module::ContractIDEntry kBayesianFilterContracts[] = {</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineplus">+  { NS_BAYESIANFILTER_CONTRACTID, &amp;kNS_BAYESIANFILTER_CID },</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineplus">+  { NULL }</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineplus">+};</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineplus">+</span>
<a href="#l7.40"></a><span id="l7.40"> /////////////////////////////////////////////////////////////////////////////</span>
<a href="#l7.41"></a><span id="l7.41"> //</span>
<a href="#l7.42"></a><span id="l7.42"> /////////////////////////////////////////////////////////////////////////////</span>
<a href="#l7.43"></a><span id="l7.43"> </span>
<a href="#l7.44"></a><span id="l7.44" class="difflineminus">-static const nsModuleComponentInfo components[] =</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineminus">-{</span>
<a href="#l7.46"></a><span id="l7.46" class="difflineminus">-    {&quot;Bayesian Filter&quot;,</span>
<a href="#l7.47"></a><span id="l7.47" class="difflineminus">-     NS_BAYESIANFILTER_CID,</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineminus">-     NS_BAYESIANFILTER_CONTRACTID,</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineminus">-     nsBayesianFilterConstructor}</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineplus">+static const mozilla::Module kBayesianFilterModule = {</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineplus">+    kBayesianFilterCIDs,</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineplus">+    kBayesianFilterContracts</span>
<a href="#l7.54"></a><span id="l7.54"> };</span>
<a href="#l7.55"></a><span id="l7.55"> </span>
<a href="#l7.56"></a><span id="l7.56" class="difflineminus">-NS_IMPL_NSGETMODULE(nsBayesianFilterModule, components)</span>
<a href="#l7.57"></a><span id="l7.57" class="difflineplus">+NSMODULE_DEFN(bayesianfilter) = &amp;kBayesianFilterModule;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mailnews/extensions/fts3/build/nsFts3TokenizerFactory.cpp</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mailnews/extensions/fts3/build/nsFts3TokenizerFactory.cpp</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -31,31 +31,45 @@</span>
<a href="#l8.4"></a><span id="l8.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l8.5"></a><span id="l8.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l8.6"></a><span id="l8.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l8.7"></a><span id="l8.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l8.8"></a><span id="l8.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l8.9"></a><span id="l8.9">  *</span>
<a href="#l8.10"></a><span id="l8.10">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l8.13"></a><span id="l8.13"> #include &quot;nsISupports.h&quot;</span>
<a href="#l8.14"></a><span id="l8.14"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l8.15"></a><span id="l8.15"> </span>
<a href="#l8.16"></a><span id="l8.16"> #include &quot;nsIFactory.h&quot;</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l8.18"></a><span id="l8.18"> #include &quot;nsIServiceManager.h&quot;</span>
<a href="#l8.19"></a><span id="l8.19"> #include &quot;nsIModule.h&quot;</span>
<a href="#l8.20"></a><span id="l8.20"> </span>
<a href="#l8.21"></a><span id="l8.21"> #include &quot;nsFts3TokenizerCID.h&quot;</span>
<a href="#l8.22"></a><span id="l8.22"> </span>
<a href="#l8.23"></a><span id="l8.23"> #include &quot;nsFts3Tokenizer.h&quot;</span>
<a href="#l8.24"></a><span id="l8.24"> </span>
<a href="#l8.25"></a><span id="l8.25"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsFts3Tokenizer)</span>
<a href="#l8.26"></a><span id="l8.26"> </span>
<a href="#l8.27"></a><span id="l8.27" class="difflineminus">-static const nsModuleComponentInfo components[] =</span>
<a href="#l8.28"></a><span id="l8.28" class="difflineminus">-{</span>
<a href="#l8.29"></a><span id="l8.29" class="difflineminus">-    {&quot;FTS3 Tokenizer&quot;,</span>
<a href="#l8.30"></a><span id="l8.30" class="difflineminus">-     NS_FTS3TOKENIZER_CID,</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-     NS_FTS3TOKENIZER_CONTRACTID,</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineminus">-     nsFts3TokenizerConstructor}</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_FTS3TOKENIZER_CID);</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineplus">+</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineplus">+const mozilla::Module::CIDEntry kFts3TokenizerCIDs[] = {</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineplus">+  { &amp;kNS_FTS3TOKENIZER_CID, false, NULL, nsFts3TokenizerConstructor },</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineplus">+  { NULL }</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineplus">+};</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineplus">+</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineplus">+const mozilla::Module::ContractIDEntry kFts3TokenizerContracts[] = {</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineplus">+  { NS_FTS3TOKENIZER_CONTRACTID, &amp;kNS_FTS3TOKENIZER_CID },</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineplus">+  { NULL }</span>
<a href="#l8.43"></a><span id="l8.43"> };</span>
<a href="#l8.44"></a><span id="l8.44"> </span>
<a href="#l8.45"></a><span id="l8.45" class="difflineminus">-NS_IMPL_NSGETMODULE(nsFts3TokenizerModule, components)</span>
<a href="#l8.46"></a><span id="l8.46" class="difflineplus">+/////////////////////////////////////////////////////////////////////////////</span>
<a href="#l8.47"></a><span id="l8.47" class="difflineplus">+//</span>
<a href="#l8.48"></a><span id="l8.48" class="difflineplus">+/////////////////////////////////////////////////////////////////////////////</span>
<a href="#l8.49"></a><span id="l8.49" class="difflineplus">+</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineplus">+static const mozilla::Module kFts3TokenizerModule = {</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l8.52"></a><span id="l8.52" class="difflineplus">+    kFts3TokenizerCIDs,</span>
<a href="#l8.53"></a><span id="l8.53" class="difflineplus">+    kFts3TokenizerContracts</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineplus">+};</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineplus">+</span>
<a href="#l8.56"></a><span id="l8.56" class="difflineplus">+NSMODULE_DEFN(fts3tokenizer) = &amp;kFts3TokenizerModule;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mailnews/extensions/mailviews/build/nsMsgMailViewsFactory.cpp</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mailnews/extensions/mailviews/build/nsMsgMailViewsFactory.cpp</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -31,36 +31,46 @@</span>
<a href="#l9.4"></a><span id="l9.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l9.5"></a><span id="l9.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l9.6"></a><span id="l9.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l9.7"></a><span id="l9.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l9.8"></a><span id="l9.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l9.9"></a><span id="l9.9">  *</span>
<a href="#l9.10"></a><span id="l9.10">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l9.11"></a><span id="l9.11"> </span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l9.13"></a><span id="l9.13"> #include &quot;nsISupports.h&quot;</span>
<a href="#l9.14"></a><span id="l9.14"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l9.15"></a><span id="l9.15"> </span>
<a href="#l9.16"></a><span id="l9.16"> #include &quot;nsIFactory.h&quot;</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l9.18"></a><span id="l9.18"> #include &quot;nsIServiceManager.h&quot;</span>
<a href="#l9.19"></a><span id="l9.19"> #include &quot;nsIModule.h&quot;</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21"> #include &quot;nsMsgMailViewsCID.h&quot;</span>
<a href="#l9.22"></a><span id="l9.22"> </span>
<a href="#l9.23"></a><span id="l9.23"> /* Include all of the interfaces our factory can generate components for */</span>
<a href="#l9.24"></a><span id="l9.24"> #include &quot;nsMsgMailViewList.h&quot;</span>
<a href="#l9.25"></a><span id="l9.25"> </span>
<a href="#l9.26"></a><span id="l9.26"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgMailViewList)</span>
<a href="#l9.27"></a><span id="l9.27"> </span>
<a href="#l9.28"></a><span id="l9.28" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGMAILVIEWLIST_CID);</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineplus">+</span>
<a href="#l9.30"></a><span id="l9.30" class="difflineplus">+const mozilla::Module::CIDEntry kMsgMailViewListCIDs[] = {</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineplus">+  { &amp;kNS_MSGMAILVIEWLIST_CID, false, NULL, nsMsgMailViewListConstructor },</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+  { NULL }</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+};</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+</span>
<a href="#l9.35"></a><span id="l9.35" class="difflineplus">+const mozilla::Module::ContractIDEntry kMsgMailViewListContracts[] = {</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineplus">+  { NS_MSGMAILVIEWLIST_CONTRACTID, &amp;kNS_MSGMAILVIEWLIST_CID },</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineplus">+  { NULL }</span>
<a href="#l9.38"></a><span id="l9.38" class="difflineplus">+};</span>
<a href="#l9.39"></a><span id="l9.39" class="difflineplus">+</span>
<a href="#l9.40"></a><span id="l9.40"> /////////////////////////////////////////////////////////////////////////////</span>
<a href="#l9.41"></a><span id="l9.41"> //</span>
<a href="#l9.42"></a><span id="l9.42"> /////////////////////////////////////////////////////////////////////////////</span>
<a href="#l9.43"></a><span id="l9.43"> </span>
<a href="#l9.44"></a><span id="l9.44" class="difflineminus">-static const nsModuleComponentInfo components[] =</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineminus">-{</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineminus">-    {&quot;Default Mail List View&quot;,</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineminus">-     NS_MSGMAILVIEWLIST_CID,</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineminus">-     NS_MSGMAILVIEWLIST_CONTRACTID,</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineminus">-     nsMsgMailViewListConstructor}</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineplus">+static const mozilla::Module kMsgMailViewListModule = {</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineplus">+    kMsgMailViewListCIDs,</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+    kMsgMailViewListContracts</span>
<a href="#l9.54"></a><span id="l9.54"> };</span>
<a href="#l9.55"></a><span id="l9.55"> </span>
<a href="#l9.56"></a><span id="l9.56" class="difflineminus">-NS_IMPL_NSGETMODULE(nsMsgMailViewModule, components)</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineplus">+NSMODULE_DEFN(msgmailviewlist) = &amp;kMsgMailViewListModule;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mailnews/extensions/mdn/build/nsMsgMdnFactory.cpp</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mailnews/extensions/mdn/build/nsMsgMdnFactory.cpp</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -31,36 +31,47 @@</span>
<a href="#l10.4"></a><span id="l10.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l10.5"></a><span id="l10.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l10.6"></a><span id="l10.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l10.7"></a><span id="l10.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l10.8"></a><span id="l10.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l10.9"></a><span id="l10.9">  *</span>
<a href="#l10.10"></a><span id="l10.10">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l10.11"></a><span id="l10.11"> </span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l10.13"></a><span id="l10.13"> #include &quot;nsISupports.h&quot;</span>
<a href="#l10.14"></a><span id="l10.14"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l10.15"></a><span id="l10.15"> </span>
<a href="#l10.16"></a><span id="l10.16"> #include &quot;nsIFactory.h&quot;</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l10.18"></a><span id="l10.18"> #include &quot;nsIServiceManager.h&quot;</span>
<a href="#l10.19"></a><span id="l10.19"> #include &quot;nsIModule.h&quot;</span>
<a href="#l10.20"></a><span id="l10.20"> </span>
<a href="#l10.21"></a><span id="l10.21"> #include &quot;nsMsgMdnCID.h&quot;</span>
<a href="#l10.22"></a><span id="l10.22"> </span>
<a href="#l10.23"></a><span id="l10.23"> /* Include all of the interfaces our factory can generate components for */</span>
<a href="#l10.24"></a><span id="l10.24"> #include &quot;nsMsgMdnGenerator.h&quot;</span>
<a href="#l10.25"></a><span id="l10.25"> </span>
<a href="#l10.26"></a><span id="l10.26"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgMdnGenerator)</span>
<a href="#l10.27"></a><span id="l10.27"> </span>
<a href="#l10.28"></a><span id="l10.28" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGMDNGENERATOR_CID);</span>
<a href="#l10.29"></a><span id="l10.29" class="difflineplus">+</span>
<a href="#l10.30"></a><span id="l10.30" class="difflineplus">+const mozilla::Module::CIDEntry kMdnGeneratorCIDs[] = {</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineplus">+  { &amp;kNS_MSGMDNGENERATOR_CID, false, NULL, nsMsgMdnGeneratorConstructor },</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+  { NULL }</span>
<a href="#l10.33"></a><span id="l10.33" class="difflineplus">+};</span>
<a href="#l10.34"></a><span id="l10.34" class="difflineplus">+</span>
<a href="#l10.35"></a><span id="l10.35" class="difflineplus">+const mozilla::Module::ContractIDEntry kMdnGeneratorContracts[] = {</span>
<a href="#l10.36"></a><span id="l10.36" class="difflineplus">+  { NS_MSGMDNGENERATOR_CONTRACTID, &amp;kNS_MSGMDNGENERATOR_CID },</span>
<a href="#l10.37"></a><span id="l10.37" class="difflineplus">+  { NULL }</span>
<a href="#l10.38"></a><span id="l10.38" class="difflineplus">+};</span>
<a href="#l10.39"></a><span id="l10.39" class="difflineplus">+</span>
<a href="#l10.40"></a><span id="l10.40"> /////////////////////////////////////////////////////////////////////////////</span>
<a href="#l10.41"></a><span id="l10.41"> //</span>
<a href="#l10.42"></a><span id="l10.42"> /////////////////////////////////////////////////////////////////////////////</span>
<a href="#l10.43"></a><span id="l10.43"> </span>
<a href="#l10.44"></a><span id="l10.44" class="difflineminus">-static const nsModuleComponentInfo components[] =</span>
<a href="#l10.45"></a><span id="l10.45" class="difflineminus">-{</span>
<a href="#l10.46"></a><span id="l10.46" class="difflineminus">-    {&quot;Msg Mdn Generator&quot;,</span>
<a href="#l10.47"></a><span id="l10.47" class="difflineminus">-     NS_MSGMDNGENERATOR_CID,</span>
<a href="#l10.48"></a><span id="l10.48" class="difflineminus">-     NS_MSGMDNGENERATOR_CONTRACTID,</span>
<a href="#l10.49"></a><span id="l10.49" class="difflineminus">-     nsMsgMdnGeneratorConstructor}</span>
<a href="#l10.50"></a><span id="l10.50" class="difflineplus">+static const mozilla::Module kMdnGeneratorModule = {</span>
<a href="#l10.51"></a><span id="l10.51" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l10.52"></a><span id="l10.52" class="difflineplus">+    kMdnGeneratorCIDs,</span>
<a href="#l10.53"></a><span id="l10.53" class="difflineplus">+    kMdnGeneratorContracts</span>
<a href="#l10.54"></a><span id="l10.54"> };</span>
<a href="#l10.55"></a><span id="l10.55"> </span>
<a href="#l10.56"></a><span id="l10.56" class="difflineminus">-NS_IMPL_NSGETMODULE(nsMsgMdnModule, components)</span>
<a href="#l10.57"></a><span id="l10.57" class="difflineplus">+NSMODULE_DEFN(mdngenerator) = &amp;kMdnGeneratorModule;</span>
<a href="#l10.58"></a><span id="l10.58" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mailnews/extensions/smime/build/nsMsgSMIMEFactory.cpp</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mailnews/extensions/smime/build/nsMsgSMIMEFactory.cpp</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -31,21 +31,21 @@</span>
<a href="#l11.4"></a><span id="l11.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l11.5"></a><span id="l11.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l11.6"></a><span id="l11.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l11.7"></a><span id="l11.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l11.8"></a><span id="l11.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l11.9"></a><span id="l11.9">  *</span>
<a href="#l11.10"></a><span id="l11.10">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l11.11"></a><span id="l11.11"> </span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l11.13"></a><span id="l11.13"> #include &quot;nsISupports.h&quot;</span>
<a href="#l11.14"></a><span id="l11.14"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l11.15"></a><span id="l11.15"> </span>
<a href="#l11.16"></a><span id="l11.16"> #include &quot;nsIFactory.h&quot;</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l11.18"></a><span id="l11.18"> #include &quot;nsIServiceManager.h&quot;</span>
<a href="#l11.19"></a><span id="l11.19"> #include &quot;nsIModule.h&quot;</span>
<a href="#l11.20"></a><span id="l11.20"> </span>
<a href="#l11.21"></a><span id="l11.21"> #include &quot;pratom.h&quot;</span>
<a href="#l11.22"></a><span id="l11.22"> #include &quot;nsMsgSMIMECID.h&quot;</span>
<a href="#l11.23"></a><span id="l11.23"> #include &quot;nsMsgCompCID.h&quot;</span>
<a href="#l11.24"></a><span id="l11.24"> </span>
<a href="#l11.25"></a><span id="l11.25"> /* Include all of the interfaces our factory can generate components for */</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineat">@@ -53,34 +53,40 @@</span>
<a href="#l11.27"></a><span id="l11.27"> #include &quot;nsSMimeJSHelper.h&quot;</span>
<a href="#l11.28"></a><span id="l11.28"> #include &quot;nsEncryptedSMIMEURIsService.h&quot;</span>
<a href="#l11.29"></a><span id="l11.29"> </span>
<a href="#l11.30"></a><span id="l11.30"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgComposeSecure)</span>
<a href="#l11.31"></a><span id="l11.31"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgSMIMEComposeFields)</span>
<a href="#l11.32"></a><span id="l11.32"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsSMimeJSHelper)</span>
<a href="#l11.33"></a><span id="l11.33"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsEncryptedSMIMEURIsService)</span>
<a href="#l11.34"></a><span id="l11.34"> </span>
<a href="#l11.35"></a><span id="l11.35" class="difflineminus">-////////////////////////////////////////////////////////////</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineminus">-//</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineminus">-////////////////////////////////////////////////////////////</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGCOMPOSESECURE_CID);</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGSMIMECOMPFIELDS_CID);</span>
<a href="#l11.40"></a><span id="l11.40" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_SMIMEJSJELPER_CID);</span>
<a href="#l11.41"></a><span id="l11.41" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_SMIMEENCRYPTURISERVICE_CID);</span>
<a href="#l11.42"></a><span id="l11.42"> </span>
<a href="#l11.43"></a><span id="l11.43" class="difflineminus">-static const nsModuleComponentInfo components[] =</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineminus">-{</span>
<a href="#l11.45"></a><span id="l11.45" class="difflineminus">-  { &quot;Msg Compose Secure&quot;,</span>
<a href="#l11.46"></a><span id="l11.46" class="difflineminus">-    NS_MSGCOMPOSESECURE_CID,</span>
<a href="#l11.47"></a><span id="l11.47" class="difflineminus">-    NS_MSGCOMPOSESECURE_CONTRACTID,</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineminus">-    nsMsgComposeSecureConstructor },</span>
<a href="#l11.49"></a><span id="l11.49" class="difflineminus">-  { &quot;Msg SMIME Compose Fields&quot;,</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineminus">-    NS_MSGSMIMECOMPFIELDS_CID,</span>
<a href="#l11.51"></a><span id="l11.51" class="difflineminus">-    NS_MSGSMIMECOMPFIELDS_CONTRACTID,</span>
<a href="#l11.52"></a><span id="l11.52" class="difflineminus">-    nsMsgSMIMEComposeFieldsConstructor },</span>
<a href="#l11.53"></a><span id="l11.53" class="difflineminus">-  { &quot;SMIME JS Helper&quot;,</span>
<a href="#l11.54"></a><span id="l11.54" class="difflineminus">-    NS_SMIMEJSJELPER_CID,</span>
<a href="#l11.55"></a><span id="l11.55" class="difflineminus">-    NS_SMIMEJSHELPER_CONTRACTID,</span>
<a href="#l11.56"></a><span id="l11.56" class="difflineminus">-    nsSMimeJSHelperConstructor },</span>
<a href="#l11.57"></a><span id="l11.57" class="difflineminus">-  { &quot;SMIME Encrypted URI Cache Service&quot;,</span>
<a href="#l11.58"></a><span id="l11.58" class="difflineminus">-    NS_SMIMEENCRYPTURISERVICE_CID,</span>
<a href="#l11.59"></a><span id="l11.59" class="difflineminus">-    NS_SMIMEENCRYPTURISERVICE_CONTRACTID,</span>
<a href="#l11.60"></a><span id="l11.60" class="difflineminus">-    nsEncryptedSMIMEURIsServiceConstructor }</span>
<a href="#l11.61"></a><span id="l11.61" class="difflineplus">+const mozilla::Module::CIDEntry kMsgSMIMECIDs[] = {</span>
<a href="#l11.62"></a><span id="l11.62" class="difflineplus">+  { &amp;kNS_MSGCOMPOSESECURE_CID, false, NULL, nsMsgComposeSecureConstructor },</span>
<a href="#l11.63"></a><span id="l11.63" class="difflineplus">+  { &amp;kNS_MSGSMIMECOMPFIELDS_CID, false, NULL, nsMsgSMIMEComposeFieldsConstructor },</span>
<a href="#l11.64"></a><span id="l11.64" class="difflineplus">+  { &amp;kNS_SMIMEJSJELPER_CID, false, NULL, nsSMimeJSHelperConstructor },</span>
<a href="#l11.65"></a><span id="l11.65" class="difflineplus">+  { &amp;kNS_SMIMEENCRYPTURISERVICE_CID, false, NULL, nsEncryptedSMIMEURIsServiceConstructor },</span>
<a href="#l11.66"></a><span id="l11.66" class="difflineplus">+  { NULL }</span>
<a href="#l11.67"></a><span id="l11.67"> };</span>
<a href="#l11.68"></a><span id="l11.68"> </span>
<a href="#l11.69"></a><span id="l11.69" class="difflineminus">-  </span>
<a href="#l11.70"></a><span id="l11.70" class="difflineminus">-NS_IMPL_NSGETMODULE(nsMsgSMIMEModule, components)</span>
<a href="#l11.71"></a><span id="l11.71" class="difflineplus">+const mozilla::Module::ContractIDEntry kMsgSMIMEContracts[] = {</span>
<a href="#l11.72"></a><span id="l11.72" class="difflineplus">+  { NS_MSGCOMPOSESECURE_CONTRACTID, &amp;kNS_MSGCOMPOSESECURE_CID },</span>
<a href="#l11.73"></a><span id="l11.73" class="difflineplus">+  { NS_MSGSMIMECOMPFIELDS_CONTRACTID, &amp;kNS_MSGSMIMECOMPFIELDS_CID },</span>
<a href="#l11.74"></a><span id="l11.74" class="difflineplus">+  { NS_SMIMEJSHELPER_CONTRACTID, &amp;kNS_SMIMEJSJELPER_CID },</span>
<a href="#l11.75"></a><span id="l11.75" class="difflineplus">+  { NS_SMIMEENCRYPTURISERVICE_CONTRACTID, &amp;kNS_SMIMEENCRYPTURISERVICE_CID },</span>
<a href="#l11.76"></a><span id="l11.76" class="difflineplus">+  { NULL }</span>
<a href="#l11.77"></a><span id="l11.77" class="difflineplus">+};</span>
<a href="#l11.78"></a><span id="l11.78" class="difflineplus">+</span>
<a href="#l11.79"></a><span id="l11.79" class="difflineplus">+/////////////////////////////////////////////////////////////////////////////</span>
<a href="#l11.80"></a><span id="l11.80" class="difflineplus">+//</span>
<a href="#l11.81"></a><span id="l11.81" class="difflineplus">+/////////////////////////////////////////////////////////////////////////////</span>
<a href="#l11.82"></a><span id="l11.82" class="difflineplus">+</span>
<a href="#l11.83"></a><span id="l11.83" class="difflineplus">+static const mozilla::Module kMsgSMIMEModule = {</span>
<a href="#l11.84"></a><span id="l11.84" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l11.85"></a><span id="l11.85" class="difflineplus">+    kMsgSMIMECIDs,</span>
<a href="#l11.86"></a><span id="l11.86" class="difflineplus">+    kMsgSMIMEContracts</span>
<a href="#l11.87"></a><span id="l11.87" class="difflineplus">+};</span>
<a href="#l11.88"></a><span id="l11.88" class="difflineplus">+</span>
<a href="#l11.89"></a><span id="l11.89" class="difflineplus">+NSMODULE_DEFN(msgsmime) = &amp;kMsgSMIMEModule;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mailnews/imap/build/nsImapFactory.cpp</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mailnews/imap/build/nsImapFactory.cpp</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -33,18 +33,17 @@</span>
<a href="#l12.4"></a><span id="l12.4">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l12.5"></a><span id="l12.5">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l12.6"></a><span id="l12.6">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l12.7"></a><span id="l12.7">  *</span>
<a href="#l12.8"></a><span id="l12.8">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l12.9"></a><span id="l12.9"> </span>
<a href="#l12.10"></a><span id="l12.10"> #include &quot;msgCore.h&quot; // for pre-compiled headers...</span>
<a href="#l12.11"></a><span id="l12.11"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-#include &quot;nsIModule.h&quot;</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l12.15"></a><span id="l12.15"> </span>
<a href="#l12.16"></a><span id="l12.16"> #include &quot;nsIMAPHostSessionList.h&quot;</span>
<a href="#l12.17"></a><span id="l12.17"> #include &quot;nsImapIncomingServer.h&quot;</span>
<a href="#l12.18"></a><span id="l12.18"> #include &quot;nsImapService.h&quot;</span>
<a href="#l12.19"></a><span id="l12.19"> #include &quot;nsImapMailFolder.h&quot;</span>
<a href="#l12.20"></a><span id="l12.20"> #include &quot;nsImapUrl.h&quot;</span>
<a href="#l12.21"></a><span id="l12.21"> #include &quot;nsImapProtocol.h&quot;</span>
<a href="#l12.22"></a><span id="l12.22"> #include &quot;nsMsgImapCID.h&quot;</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineat">@@ -56,58 +55,53 @@ NS_GENERIC_FACTORY_CONSTRUCTOR(nsImapUrl</span>
<a href="#l12.24"></a><span id="l12.24"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsImapProtocol)</span>
<a href="#l12.25"></a><span id="l12.25"> NS_GENERIC_FACTORY_CONSTRUCTOR_INIT(nsIMAPHostSessionList, Init)</span>
<a href="#l12.26"></a><span id="l12.26"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsImapIncomingServer)</span>
<a href="#l12.27"></a><span id="l12.27"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsImapService)</span>
<a href="#l12.28"></a><span id="l12.28"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsImapMailFolder)</span>
<a href="#l12.29"></a><span id="l12.29"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsImapMockChannel)</span>
<a href="#l12.30"></a><span id="l12.30"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsAutoSyncManager)</span>
<a href="#l12.31"></a><span id="l12.31"> </span>
<a href="#l12.32"></a><span id="l12.32" class="difflineminus">-// The list of components we register</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineminus">-static const nsModuleComponentInfo gComponents[] = {</span>
<a href="#l12.34"></a><span id="l12.34" class="difflineminus">-    { &quot;IMAP URL&quot;, NS_IMAPURL_CID,</span>
<a href="#l12.35"></a><span id="l12.35" class="difflineminus">-      nsnull, nsImapUrlConstructor },</span>
<a href="#l12.36"></a><span id="l12.36" class="difflineminus">-</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineminus">-    { &quot;IMAP Protocol Channel&quot;, NS_IMAPPROTOCOL_CID,</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineminus">-      nsnull, nsImapProtocolConstructor },    </span>
<a href="#l12.39"></a><span id="l12.39" class="difflineminus">-</span>
<a href="#l12.40"></a><span id="l12.40" class="difflineminus">-    { &quot;IMAP Mock Channel&quot;, NS_IMAPMOCKCHANNEL_CID,</span>
<a href="#l12.41"></a><span id="l12.41" class="difflineminus">-      nsnull, nsImapMockChannelConstructor },</span>
<a href="#l12.42"></a><span id="l12.42" class="difflineminus">-</span>
<a href="#l12.43"></a><span id="l12.43" class="difflineminus">-    { &quot;IMAP Host Session List&quot;, NS_IIMAPHOSTSESSIONLIST_CID,</span>
<a href="#l12.44"></a><span id="l12.44" class="difflineminus">-      nsnull, nsIMAPHostSessionListConstructor },</span>
<a href="#l12.45"></a><span id="l12.45" class="difflineminus">-</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineminus">-    { &quot;IMAP Incoming Server&quot;, NS_IMAPINCOMINGSERVER_CID,</span>
<a href="#l12.47"></a><span id="l12.47" class="difflineminus">-      NS_IMAPINCOMINGSERVER_CONTRACTID, nsImapIncomingServerConstructor },</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineminus">-</span>
<a href="#l12.49"></a><span id="l12.49" class="difflineminus">-    { &quot;Mail/News IMAP Resource Factory&quot;, NS_IMAPRESOURCE_CID,</span>
<a href="#l12.50"></a><span id="l12.50" class="difflineminus">-      NS_RDF_RESOURCE_FACTORY_CONTRACTID_PREFIX &quot;imap&quot;, </span>
<a href="#l12.51"></a><span id="l12.51" class="difflineminus">-      nsImapMailFolderConstructor },</span>
<a href="#l12.52"></a><span id="l12.52" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_IMAPURL_CID);</span>
<a href="#l12.53"></a><span id="l12.53" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_IMAPPROTOCOL_CID);</span>
<a href="#l12.54"></a><span id="l12.54" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_IMAPMOCKCHANNEL_CID);</span>
<a href="#l12.55"></a><span id="l12.55" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_IIMAPHOSTSESSIONLIST_CID);</span>
<a href="#l12.56"></a><span id="l12.56" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_IMAPINCOMINGSERVER_CID);</span>
<a href="#l12.57"></a><span id="l12.57" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_IMAPRESOURCE_CID);</span>
<a href="#l12.58"></a><span id="l12.58" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_IMAPSERVICE_CID);</span>
<a href="#l12.59"></a><span id="l12.59" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_AUTOSYNCMANAGER_CID);</span>
<a href="#l12.60"></a><span id="l12.60"> </span>
<a href="#l12.61"></a><span id="l12.61" class="difflineminus">-    { &quot;IMAP Service&quot;, NS_IMAPSERVICE_CID,</span>
<a href="#l12.62"></a><span id="l12.62" class="difflineminus">-      &quot;@mozilla.org/messenger/messageservice;1?type=imap-message&quot;,</span>
<a href="#l12.63"></a><span id="l12.63" class="difflineminus">-      nsImapServiceConstructor },</span>
<a href="#l12.64"></a><span id="l12.64" class="difflineminus">-</span>
<a href="#l12.65"></a><span id="l12.65" class="difflineminus">-    { &quot;IMAP Service&quot;, NS_IMAPSERVICE_CID,</span>
<a href="#l12.66"></a><span id="l12.66" class="difflineminus">-      &quot;@mozilla.org/messenger/messageservice;1?type=imap&quot;,</span>
<a href="#l12.67"></a><span id="l12.67" class="difflineminus">-      nsImapServiceConstructor },</span>
<a href="#l12.68"></a><span id="l12.68" class="difflineminus">-</span>
<a href="#l12.69"></a><span id="l12.69" class="difflineminus">-    { &quot;IMAP Service&quot;, NS_IMAPSERVICE_CID,</span>
<a href="#l12.70"></a><span id="l12.70" class="difflineminus">-      NS_IMAPSERVICE_CONTRACTID,</span>
<a href="#l12.71"></a><span id="l12.71" class="difflineminus">-      nsImapServiceConstructor },</span>
<a href="#l12.72"></a><span id="l12.72" class="difflineminus">-</span>
<a href="#l12.73"></a><span id="l12.73" class="difflineminus">-    { &quot;IMAP Protocol Handler&quot;, NS_IMAPSERVICE_CID,</span>
<a href="#l12.74"></a><span id="l12.74" class="difflineminus">-      NS_NETWORK_PROTOCOL_CONTRACTID_PREFIX &quot;imap&quot;, nsImapServiceConstructor},</span>
<a href="#l12.75"></a><span id="l12.75" class="difflineminus">-</span>
<a href="#l12.76"></a><span id="l12.76" class="difflineminus">-    { &quot;IMAP Protocol Handler&quot;, NS_IMAPSERVICE_CID,</span>
<a href="#l12.77"></a><span id="l12.77" class="difflineminus">-      NS_IMAPPROTOCOLINFO_CONTRACTID, nsImapServiceConstructor },</span>
<a href="#l12.78"></a><span id="l12.78" class="difflineminus">-      </span>
<a href="#l12.79"></a><span id="l12.79" class="difflineminus">-    { &quot;imap folder content handler&quot;,</span>
<a href="#l12.80"></a><span id="l12.80" class="difflineminus">-      NS_IMAPSERVICE_CID,</span>
<a href="#l12.81"></a><span id="l12.81" class="difflineminus">-      NS_CONTENT_HANDLER_CONTRACTID_PREFIX&quot;x-application-imapfolder&quot;,</span>
<a href="#l12.82"></a><span id="l12.82" class="difflineminus">-      nsImapServiceConstructor },</span>
<a href="#l12.83"></a><span id="l12.83" class="difflineminus">-    </span>
<a href="#l12.84"></a><span id="l12.84" class="difflineminus">-    { &quot;Auto-Sync Manager&quot;, NS_AUTOSYNCMANAGER_CID,</span>
<a href="#l12.85"></a><span id="l12.85" class="difflineminus">-      NS_AUTOSYNCMANAGER_CONTRACTID, </span>
<a href="#l12.86"></a><span id="l12.86" class="difflineminus">-      nsAutoSyncManagerConstructor }</span>
<a href="#l12.87"></a><span id="l12.87" class="difflineplus">+const mozilla::Module::CIDEntry kIMAPCIDs[] = {</span>
<a href="#l12.88"></a><span id="l12.88" class="difflineplus">+  { &amp;kNS_IMAPURL_CID, false, NULL, nsImapUrlConstructor },</span>
<a href="#l12.89"></a><span id="l12.89" class="difflineplus">+  { &amp;kNS_IMAPPROTOCOL_CID, false, nsnull, nsImapProtocolConstructor },</span>
<a href="#l12.90"></a><span id="l12.90" class="difflineplus">+  { &amp;kNS_IMAPMOCKCHANNEL_CID, false, nsnull, nsImapMockChannelConstructor },</span>
<a href="#l12.91"></a><span id="l12.91" class="difflineplus">+  { &amp;kNS_IIMAPHOSTSESSIONLIST_CID, false, nsnull, nsIMAPHostSessionListConstructor },</span>
<a href="#l12.92"></a><span id="l12.92" class="difflineplus">+  { &amp;kNS_IMAPINCOMINGSERVER_CID, false, nsnull, nsImapIncomingServerConstructor },</span>
<a href="#l12.93"></a><span id="l12.93" class="difflineplus">+  { &amp;kNS_IMAPRESOURCE_CID, false, nsnull, nsImapMailFolderConstructor },</span>
<a href="#l12.94"></a><span id="l12.94" class="difflineplus">+  { &amp;kNS_IMAPSERVICE_CID, false, nsnull, nsImapServiceConstructor },</span>
<a href="#l12.95"></a><span id="l12.95" class="difflineplus">+  { &amp;kNS_AUTOSYNCMANAGER_CID, false, nsnull, nsAutoSyncManagerConstructor },</span>
<a href="#l12.96"></a><span id="l12.96" class="difflineplus">+  { NULL }</span>
<a href="#l12.97"></a><span id="l12.97"> };</span>
<a href="#l12.98"></a><span id="l12.98"> </span>
<a href="#l12.99"></a><span id="l12.99" class="difflineminus">-NS_IMPL_NSGETMODULE(IMAP_factory, gComponents)</span>
<a href="#l12.100"></a><span id="l12.100" class="difflineplus">+const mozilla::Module::ContractIDEntry kIMAPContracts[] = {</span>
<a href="#l12.101"></a><span id="l12.101" class="difflineplus">+  { NS_IMAPINCOMINGSERVER_CONTRACTID, &amp;kNS_IMAPINCOMINGSERVER_CID},</span>
<a href="#l12.102"></a><span id="l12.102" class="difflineplus">+  { NS_RDF_RESOURCE_FACTORY_CONTRACTID_PREFIX &quot;imap&quot;, &amp;kNS_IMAPRESOURCE_CID},</span>
<a href="#l12.103"></a><span id="l12.103" class="difflineplus">+  { &quot;@mozilla.org/messenger/messageservice;1?type=imap-message&quot;, &amp;kNS_IMAPSERVICE_CID},</span>
<a href="#l12.104"></a><span id="l12.104" class="difflineplus">+  { &quot;@mozilla.org/messenger/messageservice;1?type=imap&quot;, &amp;kNS_IMAPSERVICE_CID},</span>
<a href="#l12.105"></a><span id="l12.105" class="difflineplus">+  { NS_IMAPSERVICE_CONTRACTID, &amp;kNS_IMAPSERVICE_CID},</span>
<a href="#l12.106"></a><span id="l12.106" class="difflineplus">+  { NS_NETWORK_PROTOCOL_CONTRACTID_PREFIX &quot;imap&quot;, &amp;kNS_IMAPSERVICE_CID},</span>
<a href="#l12.107"></a><span id="l12.107" class="difflineplus">+  { NS_IMAPPROTOCOLINFO_CONTRACTID, &amp;kNS_IMAPSERVICE_CID},</span>
<a href="#l12.108"></a><span id="l12.108" class="difflineplus">+  { NS_CONTENT_HANDLER_CONTRACTID_PREFIX&quot;x-application-imapfolder&quot;, &amp;kNS_IMAPSERVICE_CID},</span>
<a href="#l12.109"></a><span id="l12.109" class="difflineplus">+  { NS_AUTOSYNCMANAGER_CONTRACTID, &amp;kNS_AUTOSYNCMANAGER_CID},</span>
<a href="#l12.110"></a><span id="l12.110" class="difflineplus">+  { NULL }</span>
<a href="#l12.111"></a><span id="l12.111" class="difflineplus">+};</span>
<a href="#l12.112"></a><span id="l12.112" class="difflineplus">+</span>
<a href="#l12.113"></a><span id="l12.113" class="difflineplus">+/////////////////////////////////////////////////////////////////////////////</span>
<a href="#l12.114"></a><span id="l12.114" class="difflineplus">+//</span>
<a href="#l12.115"></a><span id="l12.115" class="difflineplus">+/////////////////////////////////////////////////////////////////////////////</span>
<a href="#l12.116"></a><span id="l12.116" class="difflineplus">+</span>
<a href="#l12.117"></a><span id="l12.117" class="difflineplus">+static const mozilla::Module kIMAPModule = {</span>
<a href="#l12.118"></a><span id="l12.118" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l12.119"></a><span id="l12.119" class="difflineplus">+    kIMAPCIDs,</span>
<a href="#l12.120"></a><span id="l12.120" class="difflineplus">+    kIMAPContracts</span>
<a href="#l12.121"></a><span id="l12.121" class="difflineplus">+};</span>
<a href="#l12.122"></a><span id="l12.122" class="difflineplus">+</span>
<a href="#l12.123"></a><span id="l12.123" class="difflineplus">+NSMODULE_DEFN(imap) = &amp;kIMAPModule;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mailnews/local/build/nsMsgLocalFactory.cpp</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mailnews/local/build/nsMsgLocalFactory.cpp</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -34,18 +34,17 @@</span>
<a href="#l13.4"></a><span id="l13.4">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l13.5"></a><span id="l13.5">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l13.6"></a><span id="l13.6">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l13.7"></a><span id="l13.7">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l13.8"></a><span id="l13.8">  *</span>
<a href="#l13.9"></a><span id="l13.9">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l13.10"></a><span id="l13.10"> </span>
<a href="#l13.11"></a><span id="l13.11"> #include &quot;msgCore.h&quot; // for pre-compiled headers...</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-#include &quot;nsIModule.h&quot;</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l13.15"></a><span id="l13.15"> #include &quot;nsMsgLocalCID.h&quot;</span>
<a href="#l13.16"></a><span id="l13.16"> </span>
<a href="#l13.17"></a><span id="l13.17"> // include files for components this factory creates...</span>
<a href="#l13.18"></a><span id="l13.18"> #include &quot;nsMailboxUrl.h&quot;</span>
<a href="#l13.19"></a><span id="l13.19"> #include &quot;nsPop3URL.h&quot;</span>
<a href="#l13.20"></a><span id="l13.20"> #include &quot;nsMailboxService.h&quot;</span>
<a href="#l13.21"></a><span id="l13.21"> #include &quot;nsLocalMailFolder.h&quot;</span>
<a href="#l13.22"></a><span id="l13.22"> #include &quot;nsParseMailbox.h&quot;</span>
<a href="#l13.23"></a><span id="l13.23" class="difflineat">@@ -77,85 +76,88 @@ NS_GENERIC_FACTORY_CONSTRUCTOR(nsParseMa</span>
<a href="#l13.24"></a><span id="l13.24"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsPop3IncomingServer)</span>
<a href="#l13.25"></a><span id="l13.25"> #ifdef HAVE_MOVEMAIL</span>
<a href="#l13.26"></a><span id="l13.26"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMovemailIncomingServer)</span>
<a href="#l13.27"></a><span id="l13.27"> #endif /* HAVE_MOVEMAIL */</span>
<a href="#l13.28"></a><span id="l13.28"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsNoIncomingServer)</span>
<a href="#l13.29"></a><span id="l13.29"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsRssService)</span>
<a href="#l13.30"></a><span id="l13.30"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsRssIncomingServer)</span>
<a href="#l13.31"></a><span id="l13.31"> </span>
<a href="#l13.32"></a><span id="l13.32" class="difflineminus">-// The list of components we register</span>
<a href="#l13.33"></a><span id="l13.33" class="difflineminus">-static const nsModuleComponentInfo gComponents[] = {</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineminus">-    { &quot;Mailbox URL&quot;, NS_MAILBOXURL_CID,</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineminus">-      NS_MAILBOXURL_CONTRACTID, nsMailboxUrlConstructor },</span>
<a href="#l13.36"></a><span id="l13.36" class="difflineminus">-</span>
<a href="#l13.37"></a><span id="l13.37" class="difflineminus">-    { &quot;Mailbox Service&quot;, NS_MAILBOXSERVICE_CID,</span>
<a href="#l13.38"></a><span id="l13.38" class="difflineminus">-      NS_MAILBOXSERVICE_CONTRACTID1, nsMailboxServiceConstructor },</span>
<a href="#l13.39"></a><span id="l13.39" class="difflineminus">-</span>
<a href="#l13.40"></a><span id="l13.40" class="difflineminus">-    { &quot;Mailbox Service&quot;, NS_MAILBOXSERVICE_CID,</span>
<a href="#l13.41"></a><span id="l13.41" class="difflineminus">-      NS_MAILBOXSERVICE_CONTRACTID2, nsMailboxServiceConstructor },</span>
<a href="#l13.42"></a><span id="l13.42" class="difflineminus">-</span>
<a href="#l13.43"></a><span id="l13.43" class="difflineminus">-    { &quot;Mailbox Service&quot;, NS_MAILBOXSERVICE_CID,</span>
<a href="#l13.44"></a><span id="l13.44" class="difflineminus">-      NS_MAILBOXSERVICE_CONTRACTID3, nsMailboxServiceConstructor },</span>
<a href="#l13.45"></a><span id="l13.45" class="difflineminus">-</span>
<a href="#l13.46"></a><span id="l13.46" class="difflineminus">-    { &quot;Mailbox Protocol Handler&quot;, NS_MAILBOXSERVICE_CID,</span>
<a href="#l13.47"></a><span id="l13.47" class="difflineminus">-      NS_MAILBOXSERVICE_CONTRACTID4, nsMailboxServiceConstructor },</span>
<a href="#l13.48"></a><span id="l13.48" class="difflineminus">-</span>
<a href="#l13.49"></a><span id="l13.49" class="difflineminus">-    { &quot;Mailbox Parser&quot;, NS_MAILBOXPARSER_CID,</span>
<a href="#l13.50"></a><span id="l13.50" class="difflineminus">-      NS_MAILBOXPARSER_CONTRACTID, nsMsgMailboxParserConstructor },</span>
<a href="#l13.51"></a><span id="l13.51" class="difflineminus">-</span>
<a href="#l13.52"></a><span id="l13.52" class="difflineminus">-    { &quot;Pop3 URL&quot;, NS_POP3URL_CID,</span>
<a href="#l13.53"></a><span id="l13.53" class="difflineminus">-      NS_POP3URL_CONTRACTID, nsPop3URLConstructor },</span>
<a href="#l13.54"></a><span id="l13.54" class="difflineminus">-</span>
<a href="#l13.55"></a><span id="l13.55" class="difflineminus">-    { &quot;Pop3 Service&quot;, NS_POP3SERVICE_CID,</span>
<a href="#l13.56"></a><span id="l13.56" class="difflineminus">-      NS_POP3SERVICE_CONTRACTID1, nsPop3ServiceConstructor },</span>
<a href="#l13.57"></a><span id="l13.57" class="difflineminus">-</span>
<a href="#l13.58"></a><span id="l13.58" class="difflineminus">-    { &quot;POP Protocol Handler&quot;, NS_POP3SERVICE_CID,</span>
<a href="#l13.59"></a><span id="l13.59" class="difflineminus">-      NS_POP3SERVICE_CONTRACTID2, nsPop3ServiceConstructor },</span>
<a href="#l13.60"></a><span id="l13.60" class="difflineminus">-</span>
<a href="#l13.61"></a><span id="l13.61" class="difflineminus">-    { &quot;None Service&quot;, NS_NONESERVICE_CID,</span>
<a href="#l13.62"></a><span id="l13.62" class="difflineminus">-      NS_NONESERVICE_CONTRACTID, nsNoneServiceConstructor },</span>
<a href="#l13.63"></a><span id="l13.63" class="difflineminus">-</span>
<a href="#l13.64"></a><span id="l13.64" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MAILBOXURL_CID);</span>
<a href="#l13.65"></a><span id="l13.65" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MAILBOXSERVICE_CID);</span>
<a href="#l13.66"></a><span id="l13.66" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MAILBOXPARSER_CID);</span>
<a href="#l13.67"></a><span id="l13.67" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_POP3URL_CID);</span>
<a href="#l13.68"></a><span id="l13.68" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_POP3SERVICE_CID);</span>
<a href="#l13.69"></a><span id="l13.69" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NONESERVICE_CID);</span>
<a href="#l13.70"></a><span id="l13.70"> #ifdef HAVE_MOVEMAIL</span>
<a href="#l13.71"></a><span id="l13.71" class="difflineminus">-    { &quot;Movemail Service&quot;, NS_MOVEMAILSERVICE_CID,</span>
<a href="#l13.72"></a><span id="l13.72" class="difflineminus">-      NS_MOVEMAILSERVICE_CONTRACTID, nsMovemailServiceConstructor },</span>
<a href="#l13.73"></a><span id="l13.73" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MOVEMAILSERVICE_CID);</span>
<a href="#l13.74"></a><span id="l13.74"> #endif /* HAVE_MOVEMAIL */</span>
<a href="#l13.75"></a><span id="l13.75" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_LOCALMAILFOLDERRESOURCE_CID);</span>
<a href="#l13.76"></a><span id="l13.76" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_POP3INCOMINGSERVER_CID);</span>
<a href="#l13.77"></a><span id="l13.77" class="difflineplus">+#ifdef HAVE_MOVEMAIL</span>
<a href="#l13.78"></a><span id="l13.78" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MOVEMAILINCOMINGSERVER_CID);</span>
<a href="#l13.79"></a><span id="l13.79" class="difflineplus">+#endif /* HAVE_MOVEMAIL */</span>
<a href="#l13.80"></a><span id="l13.80" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NOINCOMINGSERVER_CID);</span>
<a href="#l13.81"></a><span id="l13.81" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_PARSEMAILMSGSTATE_CID);</span>
<a href="#l13.82"></a><span id="l13.82" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_RSSSERVICE_CID);</span>
<a href="#l13.83"></a><span id="l13.83" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_RSSINCOMINGSERVER_CID);</span>
<a href="#l13.84"></a><span id="l13.84"> </span>
<a href="#l13.85"></a><span id="l13.85" class="difflineminus">-    { &quot;pop3 Protocol Information&quot;, NS_POP3SERVICE_CID,</span>
<a href="#l13.86"></a><span id="l13.86" class="difflineminus">-      NS_POP3PROTOCOLINFO_CONTRACTID, nsPop3ServiceConstructor },</span>
<a href="#l13.87"></a><span id="l13.87" class="difflineminus">-</span>
<a href="#l13.88"></a><span id="l13.88" class="difflineminus">-    { &quot;none Protocol Information&quot;, NS_NONESERVICE_CID,</span>
<a href="#l13.89"></a><span id="l13.89" class="difflineminus">-      NS_NONEPROTOCOLINFO_CONTRACTID, nsNoneServiceConstructor },</span>
<a href="#l13.90"></a><span id="l13.90" class="difflineminus">-</span>
<a href="#l13.91"></a><span id="l13.91" class="difflineminus">-#ifdef HAVE_MOVEMAIL</span>
<a href="#l13.92"></a><span id="l13.92" class="difflineminus">-    { &quot;movemail Protocol Information&quot;, NS_MOVEMAILSERVICE_CID,</span>
<a href="#l13.93"></a><span id="l13.93" class="difflineminus">-      NS_MOVEMAILPROTOCOLINFO_CONTRACTID, nsMovemailServiceConstructor },</span>
<a href="#l13.94"></a><span id="l13.94" class="difflineminus">-#endif /* HAVE_MOVEMAIL */</span>
<a href="#l13.95"></a><span id="l13.95" class="difflineminus">-</span>
<a href="#l13.96"></a><span id="l13.96" class="difflineminus">-    { &quot;Local Mail Folder Resource Factory&quot;, NS_LOCALMAILFOLDERRESOURCE_CID,</span>
<a href="#l13.97"></a><span id="l13.97" class="difflineminus">-      NS_LOCALMAILFOLDERRESOURCE_CONTRACTID, nsMsgLocalMailFolderConstructor },</span>
<a href="#l13.98"></a><span id="l13.98" class="difflineminus">-</span>
<a href="#l13.99"></a><span id="l13.99" class="difflineminus">-    { &quot;Pop3 Incoming Server&quot;, NS_POP3INCOMINGSERVER_CID,</span>
<a href="#l13.100"></a><span id="l13.100" class="difflineminus">-      NS_POP3INCOMINGSERVER_CONTRACTID, nsPop3IncomingServerConstructor },</span>
<a href="#l13.101"></a><span id="l13.101" class="difflineminus">-</span>
<a href="#l13.102"></a><span id="l13.102" class="difflineplus">+const mozilla::Module::CIDEntry kMsgLocalCIDs[] = {</span>
<a href="#l13.103"></a><span id="l13.103" class="difflineplus">+  { &amp;kNS_MAILBOXURL_CID, false, NULL, nsMailboxUrlConstructor },</span>
<a href="#l13.104"></a><span id="l13.104" class="difflineplus">+  { &amp;kNS_MAILBOXSERVICE_CID, false, NULL, nsMailboxServiceConstructor },</span>
<a href="#l13.105"></a><span id="l13.105" class="difflineplus">+  { &amp;kNS_MAILBOXPARSER_CID, false, NULL, nsMsgMailboxParserConstructor },</span>
<a href="#l13.106"></a><span id="l13.106" class="difflineplus">+  { &amp;kNS_POP3URL_CID, false, NULL, nsPop3URLConstructor },</span>
<a href="#l13.107"></a><span id="l13.107" class="difflineplus">+  { &amp;kNS_POP3SERVICE_CID, false, NULL, nsPop3ServiceConstructor },</span>
<a href="#l13.108"></a><span id="l13.108" class="difflineplus">+  { &amp;kNS_NONESERVICE_CID, false, NULL, nsNoneServiceConstructor },</span>
<a href="#l13.109"></a><span id="l13.109"> #ifdef HAVE_MOVEMAIL</span>
<a href="#l13.110"></a><span id="l13.110" class="difflineminus">-    { &quot;Movemail Incoming Server&quot;, NS_MOVEMAILINCOMINGSERVER_CID,</span>
<a href="#l13.111"></a><span id="l13.111" class="difflineminus">-      NS_MOVEMAILINCOMINGSERVER_CONTRACTID, nsMovemailIncomingServerConstructor },</span>
<a href="#l13.112"></a><span id="l13.112" class="difflineplus">+  { &amp;kNS_MOVEMAILSERVICE_CID, false, NULL, nsMovemailServiceConstructor },</span>
<a href="#l13.113"></a><span id="l13.113"> #endif /* HAVE_MOVEMAIL */</span>
<a href="#l13.114"></a><span id="l13.114" class="difflineminus">-</span>
<a href="#l13.115"></a><span id="l13.115" class="difflineminus">-    { &quot;No Incoming Server&quot;, NS_NOINCOMINGSERVER_CID,</span>
<a href="#l13.116"></a><span id="l13.116" class="difflineminus">-      NS_NOINCOMINGSERVER_CONTRACTID, nsNoIncomingServerConstructor },</span>
<a href="#l13.117"></a><span id="l13.117" class="difflineminus">-</span>
<a href="#l13.118"></a><span id="l13.118" class="difflineminus">-    { &quot;Parse MailMessage State&quot;, NS_PARSEMAILMSGSTATE_CID,</span>
<a href="#l13.119"></a><span id="l13.119" class="difflineminus">-      NS_PARSEMAILMSGSTATE_CONTRACTID, nsParseMailMessageStateConstructor },</span>
<a href="#l13.120"></a><span id="l13.120" class="difflineminus">-</span>
<a href="#l13.121"></a><span id="l13.121" class="difflineminus">-    { &quot;RSS Service&quot;, NS_RSSSERVICE_CID,</span>
<a href="#l13.122"></a><span id="l13.122" class="difflineminus">-      NS_RSSSERVICE_CONTRACTID, nsRssServiceConstructor },</span>
<a href="#l13.123"></a><span id="l13.123" class="difflineminus">-</span>
<a href="#l13.124"></a><span id="l13.124" class="difflineminus">-    { &quot;RSS Protocol Information&quot;, NS_RSSSERVICE_CID,</span>
<a href="#l13.125"></a><span id="l13.125" class="difflineminus">-      NS_RSSPROTOCOLINFO_CONTRACTID, nsRssServiceConstructor },</span>
<a href="#l13.126"></a><span id="l13.126" class="difflineminus">-</span>
<a href="#l13.127"></a><span id="l13.127" class="difflineminus">-    { &quot;RSS Incoming Server&quot;, NS_RSSINCOMINGSERVER_CID,</span>
<a href="#l13.128"></a><span id="l13.128" class="difflineminus">-      NS_RSSINCOMINGSERVER_CONTRACTID, nsRssIncomingServerConstructor },</span>
<a href="#l13.129"></a><span id="l13.129" class="difflineplus">+  { &amp;kNS_LOCALMAILFOLDERRESOURCE_CID, false, NULL, nsMsgLocalMailFolderConstructor },</span>
<a href="#l13.130"></a><span id="l13.130" class="difflineplus">+  { &amp;kNS_POP3INCOMINGSERVER_CID, false, NULL, nsPop3IncomingServerConstructor },</span>
<a href="#l13.131"></a><span id="l13.131" class="difflineplus">+#ifdef HAVE_MOVEMAIL</span>
<a href="#l13.132"></a><span id="l13.132" class="difflineplus">+  { &amp;kNS_MOVEMAILINCOMINGSERVER_CID, false, NULL, nsMovemailIncomingServerConstructor },</span>
<a href="#l13.133"></a><span id="l13.133" class="difflineplus">+#endif /* HAVE_MOVEMAIL */</span>
<a href="#l13.134"></a><span id="l13.134" class="difflineplus">+  { &amp;kNS_NOINCOMINGSERVER_CID, false, NULL, nsNoIncomingServerConstructor },</span>
<a href="#l13.135"></a><span id="l13.135" class="difflineplus">+  { &amp;kNS_PARSEMAILMSGSTATE_CID, false, NULL, nsParseMailMessageStateConstructor },</span>
<a href="#l13.136"></a><span id="l13.136" class="difflineplus">+  { &amp;kNS_RSSSERVICE_CID, false, NULL, nsRssServiceConstructor },</span>
<a href="#l13.137"></a><span id="l13.137" class="difflineplus">+  { &amp;kNS_RSSINCOMINGSERVER_CID, false, NULL, nsRssIncomingServerConstructor },</span>
<a href="#l13.138"></a><span id="l13.138" class="difflineplus">+  { NULL }</span>
<a href="#l13.139"></a><span id="l13.139"> };</span>
<a href="#l13.140"></a><span id="l13.140"> </span>
<a href="#l13.141"></a><span id="l13.141" class="difflineminus">-NS_IMPL_NSGETMODULE(local_mail_services, gComponents)</span>
<a href="#l13.142"></a><span id="l13.142" class="difflineplus">+const mozilla::Module::ContractIDEntry kMsgLocalContracts[] = {</span>
<a href="#l13.143"></a><span id="l13.143" class="difflineplus">+  { NS_MAILBOXURL_CONTRACTID, &amp;kNS_MAILBOXURL_CID},</span>
<a href="#l13.144"></a><span id="l13.144" class="difflineplus">+  { NS_MAILBOXSERVICE_CONTRACTID1, &amp;kNS_MAILBOXSERVICE_CID},</span>
<a href="#l13.145"></a><span id="l13.145" class="difflineplus">+  { NS_MAILBOXSERVICE_CONTRACTID2, &amp;kNS_MAILBOXSERVICE_CID},</span>
<a href="#l13.146"></a><span id="l13.146" class="difflineplus">+  { NS_MAILBOXSERVICE_CONTRACTID3, &amp;kNS_MAILBOXSERVICE_CID},</span>
<a href="#l13.147"></a><span id="l13.147" class="difflineplus">+  { NS_MAILBOXSERVICE_CONTRACTID4, &amp;kNS_MAILBOXSERVICE_CID},</span>
<a href="#l13.148"></a><span id="l13.148" class="difflineplus">+  { NS_MAILBOXPARSER_CONTRACTID, &amp;kNS_MAILBOXPARSER_CID },</span>
<a href="#l13.149"></a><span id="l13.149" class="difflineplus">+  { NS_POP3URL_CONTRACTID, &amp;kNS_POP3URL_CID},</span>
<a href="#l13.150"></a><span id="l13.150" class="difflineplus">+  { NS_POP3SERVICE_CONTRACTID1, &amp;kNS_POP3SERVICE_CID},</span>
<a href="#l13.151"></a><span id="l13.151" class="difflineplus">+  { NS_POP3SERVICE_CONTRACTID2, &amp;kNS_POP3SERVICE_CID},</span>
<a href="#l13.152"></a><span id="l13.152" class="difflineplus">+  { NS_NONESERVICE_CONTRACTID, &amp;kNS_NONESERVICE_CID},</span>
<a href="#l13.153"></a><span id="l13.153" class="difflineplus">+#ifdef HAVE_MOVEMAIL</span>
<a href="#l13.154"></a><span id="l13.154" class="difflineplus">+  { NS_MOVEMAILSERVICE_CONTRACTID, &amp;kNS_MOVEMAILSERVICE_CID},</span>
<a href="#l13.155"></a><span id="l13.155" class="difflineplus">+#endif /* HAVE_MOVEMAIL */</span>
<a href="#l13.156"></a><span id="l13.156" class="difflineplus">+  { NS_POP3PROTOCOLINFO_CONTRACTID, &amp;kNS_POP3SERVICE_CID},</span>
<a href="#l13.157"></a><span id="l13.157" class="difflineplus">+  { NS_NONEPROTOCOLINFO_CONTRACTID, &amp;kNS_NONESERVICE_CID},</span>
<a href="#l13.158"></a><span id="l13.158" class="difflineplus">+#ifdef HAVE_MOVEMAIL</span>
<a href="#l13.159"></a><span id="l13.159" class="difflineplus">+  { NS_MOVEMAILPROTOCOLINFO_CONTRACTID, &amp;kNS_MOVEMAILSERVICE_CID},</span>
<a href="#l13.160"></a><span id="l13.160" class="difflineplus">+#endif /* HAVE_MOVEMAIL */</span>
<a href="#l13.161"></a><span id="l13.161" class="difflineplus">+  { NS_LOCALMAILFOLDERRESOURCE_CONTRACTID, &amp;kNS_LOCALMAILFOLDERRESOURCE_CID},</span>
<a href="#l13.162"></a><span id="l13.162" class="difflineplus">+  { NS_POP3INCOMINGSERVER_CONTRACTID, &amp;kNS_POP3INCOMINGSERVER_CID},</span>
<a href="#l13.163"></a><span id="l13.163" class="difflineplus">+#ifdef HAVE_MOVEMAIL</span>
<a href="#l13.164"></a><span id="l13.164" class="difflineplus">+  { NS_MOVEMAILINCOMINGSERVER_CONTRACTID, &amp;kNS_MOVEMAILINCOMINGSERVER_CID},</span>
<a href="#l13.165"></a><span id="l13.165" class="difflineplus">+#endif /* HAVE_MOVEMAIL */</span>
<a href="#l13.166"></a><span id="l13.166" class="difflineplus">+  { NS_NOINCOMINGSERVER_CONTRACTID, &amp;kNS_NOINCOMINGSERVER_CID},</span>
<a href="#l13.167"></a><span id="l13.167" class="difflineplus">+  { NS_PARSEMAILMSGSTATE_CONTRACTID, &amp;kNS_PARSEMAILMSGSTATE_CID},</span>
<a href="#l13.168"></a><span id="l13.168" class="difflineplus">+  { NS_RSSSERVICE_CONTRACTID, &amp;kNS_RSSSERVICE_CID},</span>
<a href="#l13.169"></a><span id="l13.169" class="difflineplus">+  { NS_RSSPROTOCOLINFO_CONTRACTID, &amp;kNS_RSSSERVICE_CID},</span>
<a href="#l13.170"></a><span id="l13.170" class="difflineplus">+  { NS_RSSINCOMINGSERVER_CONTRACTID, &amp;kNS_RSSINCOMINGSERVER_CID},</span>
<a href="#l13.171"></a><span id="l13.171" class="difflineplus">+  {NULL }</span>
<a href="#l13.172"></a><span id="l13.172" class="difflineplus">+};</span>
<a href="#l13.173"></a><span id="l13.173"> </span>
<a href="#l13.174"></a><span id="l13.174" class="difflineplus">+static const mozilla::Module kMsgLocalModule = {</span>
<a href="#l13.175"></a><span id="l13.175" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l13.176"></a><span id="l13.176" class="difflineplus">+    kMsgLocalCIDs,</span>
<a href="#l13.177"></a><span id="l13.177" class="difflineplus">+    kMsgLocalContracts,</span>
<a href="#l13.178"></a><span id="l13.178" class="difflineplus">+};</span>
<a href="#l13.179"></a><span id="l13.179" class="difflineplus">+</span>
<a href="#l13.180"></a><span id="l13.180" class="difflineplus">+NSMODULE_DEFN(msglocal) = &amp;kMsgLocalModule;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mailnews/mapi/mapihook/src/msgMapiSupport.cpp</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mailnews/mapi/mapihook/src/msgMapiSupport.cpp</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -33,49 +33,33 @@</span>
<a href="#l14.4"></a><span id="l14.4">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l14.5"></a><span id="l14.5">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l14.6"></a><span id="l14.6">  *</span>
<a href="#l14.7"></a><span id="l14.7">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l14.8"></a><span id="l14.8"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l14.9"></a><span id="l14.9"> #include &quot;objbase.h&quot;</span>
<a href="#l14.10"></a><span id="l14.10"> #include &quot;nsISupports.h&quot;</span>
<a href="#l14.11"></a><span id="l14.11"> </span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l14.14"></a><span id="l14.14"> #include &quot;nsIObserverService.h&quot;</span>
<a href="#l14.15"></a><span id="l14.15"> #include &quot;nsIAppStartupNotifier.h&quot;</span>
<a href="#l14.16"></a><span id="l14.16"> #include &quot;nsIServiceManager.h&quot;</span>
<a href="#l14.17"></a><span id="l14.17"> #include &quot;nsIComponentManager.h&quot;</span>
<a href="#l14.18"></a><span id="l14.18"> #include &quot;nsICategoryManager.h&quot;</span>
<a href="#l14.19"></a><span id="l14.19"> #include &quot;Registry.h&quot;</span>
<a href="#l14.20"></a><span id="l14.20"> #include &quot;msgMapiSupport.h&quot;</span>
<a href="#l14.21"></a><span id="l14.21"> </span>
<a href="#l14.22"></a><span id="l14.22"> #include &quot;msgMapiImp.h&quot;</span>
<a href="#l14.23"></a><span id="l14.23"> </span>
<a href="#l14.24"></a><span id="l14.24"> /** Implementation of the nsIMapiSupport interface.</span>
<a href="#l14.25"></a><span id="l14.25">  *  Use standard implementation of nsISupports stuff.</span>
<a href="#l14.26"></a><span id="l14.26">  */</span>
<a href="#l14.27"></a><span id="l14.27"> </span>
<a href="#l14.28"></a><span id="l14.28"> NS_IMPL_THREADSAFE_ISUPPORTS2(nsMapiSupport, nsIMapiSupport, nsIObserver)</span>
<a href="#l14.29"></a><span id="l14.29"> </span>
<a href="#l14.30"></a><span id="l14.30" class="difflineminus">-static NS_METHOD nsMapiRegistrationProc(nsIComponentManager *aCompMgr,</span>
<a href="#l14.31"></a><span id="l14.31" class="difflineminus">-                   nsIFile *aPath, const char *registryLocation, const char *componentType,</span>
<a href="#l14.32"></a><span id="l14.32" class="difflineminus">-                   const nsModuleComponentInfo *info)</span>
<a href="#l14.33"></a><span id="l14.33" class="difflineminus">-{</span>
<a href="#l14.34"></a><span id="l14.34" class="difflineminus">-    </span>
<a href="#l14.35"></a><span id="l14.35" class="difflineminus">-  nsresult rv;</span>
<a href="#l14.36"></a><span id="l14.36" class="difflineminus">-</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineminus">-  nsCOMPtr&lt;nsICategoryManager&gt; categoryManager(do_GetService(NS_CATEGORYMANAGER_CONTRACTID, &amp;rv));</span>
<a href="#l14.38"></a><span id="l14.38" class="difflineminus">-  if (NS_SUCCEEDED(rv)) </span>
<a href="#l14.39"></a><span id="l14.39" class="difflineminus">-      rv = categoryManager-&gt;AddCategoryEntry(APPSTARTUP_CATEGORY, &quot;Mapi Support&quot;, </span>
<a href="#l14.40"></a><span id="l14.40" class="difflineminus">-                  &quot;service,&quot; NS_IMAPISUPPORT_CONTRACTID, PR_TRUE, PR_TRUE, nsnull);</span>
<a href="#l14.41"></a><span id="l14.41" class="difflineminus">- </span>
<a href="#l14.42"></a><span id="l14.42" class="difflineminus">-  return rv ;</span>
<a href="#l14.43"></a><span id="l14.43" class="difflineminus">-</span>
<a href="#l14.44"></a><span id="l14.44" class="difflineminus">-}</span>
<a href="#l14.45"></a><span id="l14.45" class="difflineminus">-</span>
<a href="#l14.46"></a><span id="l14.46"> NS_IMETHODIMP</span>
<a href="#l14.47"></a><span id="l14.47"> nsMapiSupport::Observe(nsISupports *aSubject, const char *aTopic, const PRUnichar *aData)</span>
<a href="#l14.48"></a><span id="l14.48"> {</span>
<a href="#l14.49"></a><span id="l14.49">     nsresult rv = NS_OK ;</span>
<a href="#l14.50"></a><span id="l14.50"> </span>
<a href="#l14.51"></a><span id="l14.51">     if (!strcmp(aTopic, &quot;profile-after-change&quot;))</span>
<a href="#l14.52"></a><span id="l14.52">         return InitializeMAPISupport();</span>
<a href="#l14.53"></a><span id="l14.53"> </span>
<a href="#l14.54"></a><span id="l14.54" class="difflineat">@@ -162,25 +146,37 @@ nsMapiSupport::RegisterServer()</span>
<a href="#l14.55"></a><span id="l14.55"> NS_IMETHODIMP</span>
<a href="#l14.56"></a><span id="l14.56"> nsMapiSupport::UnRegisterServer()</span>
<a href="#l14.57"></a><span id="l14.57"> {</span>
<a href="#l14.58"></a><span id="l14.58">   // TODO: Figure out what kind of error propogation to pass back</span>
<a href="#l14.59"></a><span id="l14.59">   ::UnregisterServer(CLSID_CMapiImp, &quot;MozillaMapi&quot;, &quot;MozillaMapi.1&quot;);</span>
<a href="#l14.60"></a><span id="l14.60">   return NS_OK;</span>
<a href="#l14.61"></a><span id="l14.61"> }</span>
<a href="#l14.62"></a><span id="l14.62"> </span>
<a href="#l14.63"></a><span id="l14.63" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_IMAPISUPPORT_CID);</span>
<a href="#l14.64"></a><span id="l14.64" class="difflineplus">+</span>
<a href="#l14.65"></a><span id="l14.65"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMapiSupport)</span>
<a href="#l14.66"></a><span id="l14.66"> </span>
<a href="#l14.67"></a><span id="l14.67" class="difflineminus">-// The list of components we register</span>
<a href="#l14.68"></a><span id="l14.68" class="difflineminus">-static const nsModuleComponentInfo components[] = </span>
<a href="#l14.69"></a><span id="l14.69" class="difflineminus">-{</span>
<a href="#l14.70"></a><span id="l14.70" class="difflineminus">-  {</span>
<a href="#l14.71"></a><span id="l14.71" class="difflineminus">-    NS_IMAPISUPPORT_CLASSNAME,</span>
<a href="#l14.72"></a><span id="l14.72" class="difflineminus">-    NS_IMAPISUPPORT_CID,</span>
<a href="#l14.73"></a><span id="l14.73" class="difflineminus">-    NS_IMAPISUPPORT_CONTRACTID,</span>
<a href="#l14.74"></a><span id="l14.74" class="difflineminus">-    nsMapiSupportConstructor,</span>
<a href="#l14.75"></a><span id="l14.75" class="difflineminus">-    nsMapiRegistrationProc,</span>
<a href="#l14.76"></a><span id="l14.76" class="difflineminus">-    nsnull</span>
<a href="#l14.77"></a><span id="l14.77" class="difflineminus">-  }</span>
<a href="#l14.78"></a><span id="l14.78" class="difflineplus">+static const mozilla::Module::CategoryEntry kMAPICategories[] = {</span>
<a href="#l14.79"></a><span id="l14.79" class="difflineplus">+  { APPSTARTUP_CATEGORY, &quot;Mapi Support&quot;, &quot;service,&quot; NS_IMAPISUPPORT_CONTRACTID, },</span>
<a href="#l14.80"></a><span id="l14.80" class="difflineplus">+  { NULL }</span>
<a href="#l14.81"></a><span id="l14.81" class="difflineplus">+};</span>
<a href="#l14.82"></a><span id="l14.82" class="difflineplus">+</span>
<a href="#l14.83"></a><span id="l14.83" class="difflineplus">+const mozilla::Module::CIDEntry kMAPICIDs[] = {</span>
<a href="#l14.84"></a><span id="l14.84" class="difflineplus">+  { &amp;kNS_IMAPISUPPORT_CID, false, NULL, nsMapiSupportConstructor },</span>
<a href="#l14.85"></a><span id="l14.85" class="difflineplus">+  { NULL }</span>
<a href="#l14.86"></a><span id="l14.86"> };</span>
<a href="#l14.87"></a><span id="l14.87"> </span>
<a href="#l14.88"></a><span id="l14.88" class="difflineminus">-NS_IMPL_NSGETMODULE(msgMapiModule, components)</span>
<a href="#l14.89"></a><span id="l14.89" class="difflineplus">+const mozilla::Module::ContractIDEntry kMAPIContracts[] = {</span>
<a href="#l14.90"></a><span id="l14.90" class="difflineplus">+  { NS_IMAPISUPPORT_CONTRACTID, &amp;kNS_IMAPISUPPORT_CID },</span>
<a href="#l14.91"></a><span id="l14.91" class="difflineplus">+  { NULL }</span>
<a href="#l14.92"></a><span id="l14.92" class="difflineplus">+};</span>
<a href="#l14.93"></a><span id="l14.93"> </span>
<a href="#l14.94"></a><span id="l14.94" class="difflineplus">+static const mozilla::Module kMAPIModule = {</span>
<a href="#l14.95"></a><span id="l14.95" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l14.96"></a><span id="l14.96" class="difflineplus">+    kMAPICIDs,</span>
<a href="#l14.97"></a><span id="l14.97" class="difflineplus">+    kMAPIContracts,</span>
<a href="#l14.98"></a><span id="l14.98" class="difflineplus">+    kMAPICategories</span>
<a href="#l14.99"></a><span id="l14.99" class="difflineplus">+};</span>
<a href="#l14.100"></a><span id="l14.100" class="difflineplus">+</span>
<a href="#l14.101"></a><span id="l14.101" class="difflineplus">+NSMODULE_DEFN(mapi) = &amp;kMAPIModule;</span>
<a href="#l14.102"></a><span id="l14.102" class="difflineplus">+</span>
<a href="#l14.103"></a><span id="l14.103" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mailnews/mime/build/nsMimeModule.cpp</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mailnews/mime/build/nsMimeModule.cpp</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -31,18 +31,17 @@</span>
<a href="#l15.4"></a><span id="l15.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l15.5"></a><span id="l15.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l15.6"></a><span id="l15.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l15.7"></a><span id="l15.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l15.8"></a><span id="l15.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l15.9"></a><span id="l15.9">  *</span>
<a href="#l15.10"></a><span id="l15.10">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-#include &quot;nsIModule.h&quot;</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l15.15"></a><span id="l15.15"> #include &quot;nsMsgMimeCID.h&quot;</span>
<a href="#l15.16"></a><span id="l15.16"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l15.17"></a><span id="l15.17"> </span>
<a href="#l15.18"></a><span id="l15.18"> // include files for components this factory creates...</span>
<a href="#l15.19"></a><span id="l15.19"> #include &quot;nsStreamConverter.h&quot;</span>
<a href="#l15.20"></a><span id="l15.20"> #include &quot;nsMimeObjectClassAccess.h&quot;</span>
<a href="#l15.21"></a><span id="l15.21"> #include &quot;nsMimeConverter.h&quot;</span>
<a href="#l15.22"></a><span id="l15.22"> #include &quot;nsMsgHeaderParser.h&quot;</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineat">@@ -51,42 +50,41 @@</span>
<a href="#l15.24"></a><span id="l15.24"> // private factory declarations for each component we know how to produce</span>
<a href="#l15.25"></a><span id="l15.25"> </span>
<a href="#l15.26"></a><span id="l15.26"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMimeObjectClassAccess)</span>
<a href="#l15.27"></a><span id="l15.27"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMimeConverter)</span>
<a href="#l15.28"></a><span id="l15.28"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsStreamConverter)</span>
<a href="#l15.29"></a><span id="l15.29"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgHeaderParser)</span>
<a href="#l15.30"></a><span id="l15.30"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMimeHeaders)</span>
<a href="#l15.31"></a><span id="l15.31"> </span>
<a href="#l15.32"></a><span id="l15.32" class="difflineminus">-// Destructor for stream converter</span>
<a href="#l15.33"></a><span id="l15.33" class="difflineminus">-static NS_IMETHODIMP streamConverterDestructor()</span>
<a href="#l15.34"></a><span id="l15.34" class="difflineminus">-{</span>
<a href="#l15.35"></a><span id="l15.35" class="difflineminus">-  return NS_OK;</span>
<a href="#l15.36"></a><span id="l15.36" class="difflineminus">-}</span>
<a href="#l15.37"></a><span id="l15.37" class="difflineminus">-</span>
<a href="#l15.38"></a><span id="l15.38" class="difflineminus">-// The list of components we register</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineminus">-static const nsModuleComponentInfo gComponents[] = {</span>
<a href="#l15.40"></a><span id="l15.40" class="difflineminus">-    { &quot;MimeObjectClassAccess&quot;, NS_MIME_OBJECT_CLASS_ACCESS_CID,</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineminus">-      nsnull, nsMimeObjectClassAccessConstructor },</span>
<a href="#l15.42"></a><span id="l15.42" class="difflineminus">-</span>
<a href="#l15.43"></a><span id="l15.43" class="difflineminus">-    { &quot;Mime Converter&quot;, NS_MIME_CONVERTER_CID,</span>
<a href="#l15.44"></a><span id="l15.44" class="difflineminus">-      NS_MIME_CONVERTER_CONTRACTID, nsMimeConverterConstructor },</span>
<a href="#l15.45"></a><span id="l15.45" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MIME_OBJECT_CLASS_ACCESS_CID);</span>
<a href="#l15.46"></a><span id="l15.46" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MIME_CONVERTER_CID);</span>
<a href="#l15.47"></a><span id="l15.47" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MSGHEADERPARSER_CID);</span>
<a href="#l15.48"></a><span id="l15.48" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_MAILNEWS_MIME_STREAM_CONVERTER_CID);</span>
<a href="#l15.49"></a><span id="l15.49" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_IMIMEHEADERS_CID);</span>
<a href="#l15.50"></a><span id="l15.50"> </span>
<a href="#l15.51"></a><span id="l15.51" class="difflineminus">-    { &quot;Msg Header Parser&quot;, NS_MSGHEADERPARSER_CID,</span>
<a href="#l15.52"></a><span id="l15.52" class="difflineminus">-      NS_MAILNEWS_MIME_HEADER_PARSER_CONTRACTID, nsMsgHeaderParserConstructor },</span>
<a href="#l15.53"></a><span id="l15.53" class="difflineminus">-</span>
<a href="#l15.54"></a><span id="l15.54" class="difflineminus">-    { &quot;Mailnews Mime Stream Converter&quot;, NS_MAILNEWS_MIME_STREAM_CONVERTER_CID,</span>
<a href="#l15.55"></a><span id="l15.55" class="difflineminus">-      NS_MAILNEWS_MIME_STREAM_CONVERTER_CONTRACTID,</span>
<a href="#l15.56"></a><span id="l15.56" class="difflineminus">-      nsStreamConverterConstructor, 0, 0, streamConverterDestructor },</span>
<a href="#l15.57"></a><span id="l15.57" class="difflineminus">-</span>
<a href="#l15.58"></a><span id="l15.58" class="difflineminus">-    { &quot;Mailnews Mime Stream Converter&quot;, NS_MAILNEWS_MIME_STREAM_CONVERTER_CID,</span>
<a href="#l15.59"></a><span id="l15.59" class="difflineminus">-      NS_MAILNEWS_MIME_STREAM_CONVERTER_CONTRACTID1,</span>
<a href="#l15.60"></a><span id="l15.60" class="difflineminus">-      nsStreamConverterConstructor, 0, 0, streamConverterDestructor },</span>
<a href="#l15.61"></a><span id="l15.61" class="difflineminus">-</span>
<a href="#l15.62"></a><span id="l15.62" class="difflineminus">-    { &quot;Mailnews Mime Stream Converter&quot;, NS_MAILNEWS_MIME_STREAM_CONVERTER_CID,</span>
<a href="#l15.63"></a><span id="l15.63" class="difflineminus">-      NS_MAILNEWS_MIME_STREAM_CONVERTER_CONTRACTID2,</span>
<a href="#l15.64"></a><span id="l15.64" class="difflineminus">-      nsStreamConverterConstructor, 0, 0, streamConverterDestructor },</span>
<a href="#l15.65"></a><span id="l15.65" class="difflineminus">-</span>
<a href="#l15.66"></a><span id="l15.66" class="difflineminus">-    { &quot;Mime Headers&quot;, NS_IMIMEHEADERS_CID,</span>
<a href="#l15.67"></a><span id="l15.67" class="difflineminus">-      NS_IMIMEHEADERS_CONTRACTID, nsMimeHeadersConstructor }</span>
<a href="#l15.68"></a><span id="l15.68" class="difflineplus">+const mozilla::Module::CIDEntry kMimeCIDs[] = {</span>
<a href="#l15.69"></a><span id="l15.69" class="difflineplus">+  { &amp;kNS_MIME_OBJECT_CLASS_ACCESS_CID, false, NULL, nsMimeObjectClassAccessConstructor },</span>
<a href="#l15.70"></a><span id="l15.70" class="difflineplus">+  { &amp;kNS_MIME_CONVERTER_CID, false, NULL, nsMimeConverterConstructor },</span>
<a href="#l15.71"></a><span id="l15.71" class="difflineplus">+  { &amp;kNS_MSGHEADERPARSER_CID, false, NULL, nsMsgHeaderParserConstructor },</span>
<a href="#l15.72"></a><span id="l15.72" class="difflineplus">+  { &amp;kNS_MAILNEWS_MIME_STREAM_CONVERTER_CID, false, NULL, nsStreamConverterConstructor },</span>
<a href="#l15.73"></a><span id="l15.73" class="difflineplus">+  { &amp;kNS_IMIMEHEADERS_CID, false, NULL, nsMimeHeadersConstructor },</span>
<a href="#l15.74"></a><span id="l15.74" class="difflineplus">+  { NULL }</span>
<a href="#l15.75"></a><span id="l15.75"> };</span>
<a href="#l15.76"></a><span id="l15.76"> </span>
<a href="#l15.77"></a><span id="l15.77" class="difflineminus">-NS_IMPL_NSGETMODULE(mime_services, gComponents)</span>
<a href="#l15.78"></a><span id="l15.78" class="difflineplus">+const mozilla::Module::ContractIDEntry kMimeContracts[] = {</span>
<a href="#l15.79"></a><span id="l15.79" class="difflineplus">+  { NS_MIME_OBJECT_CONTRACTID, &amp;kNS_MIME_OBJECT_CLASS_ACCESS_CID},</span>
<a href="#l15.80"></a><span id="l15.80" class="difflineplus">+  { NS_MIME_CONVERTER_CONTRACTID, &amp;kNS_MIME_CONVERTER_CID},</span>
<a href="#l15.81"></a><span id="l15.81" class="difflineplus">+  { NS_MAILNEWS_MIME_HEADER_PARSER_CONTRACTID, &amp;kNS_MSGHEADERPARSER_CID},</span>
<a href="#l15.82"></a><span id="l15.82" class="difflineplus">+  { NS_MAILNEWS_MIME_STREAM_CONVERTER_CONTRACTID, &amp;kNS_MAILNEWS_MIME_STREAM_CONVERTER_CID},</span>
<a href="#l15.83"></a><span id="l15.83" class="difflineplus">+  { NS_MAILNEWS_MIME_STREAM_CONVERTER_CONTRACTID1, &amp;kNS_MAILNEWS_MIME_STREAM_CONVERTER_CID},</span>
<a href="#l15.84"></a><span id="l15.84" class="difflineplus">+  { NS_MAILNEWS_MIME_STREAM_CONVERTER_CONTRACTID2, &amp;kNS_MAILNEWS_MIME_STREAM_CONVERTER_CID},</span>
<a href="#l15.85"></a><span id="l15.85" class="difflineplus">+  { NS_IMIMEHEADERS_CONTRACTID, &amp;kNS_IMIMEHEADERS_CID},</span>
<a href="#l15.86"></a><span id="l15.86" class="difflineplus">+  { NULL }</span>
<a href="#l15.87"></a><span id="l15.87" class="difflineplus">+};</span>
<a href="#l15.88"></a><span id="l15.88" class="difflineplus">+</span>
<a href="#l15.89"></a><span id="l15.89" class="difflineplus">+static const mozilla::Module kMimeModule = {</span>
<a href="#l15.90"></a><span id="l15.90" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l15.91"></a><span id="l15.91" class="difflineplus">+    kMimeCIDs,</span>
<a href="#l15.92"></a><span id="l15.92" class="difflineplus">+    kMimeContracts</span>
<a href="#l15.93"></a><span id="l15.93" class="difflineplus">+};</span>
<a href="#l15.94"></a><span id="l15.94" class="difflineplus">+</span>
<a href="#l15.95"></a><span id="l15.95" class="difflineplus">+NSMODULE_DEFN(mime) = &amp;kMimeModule;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mailnews/mime/cthandlers/vcard/nsVCardFactory.cpp</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mailnews/mime/cthandlers/vcard/nsVCardFactory.cpp</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -30,42 +30,44 @@</span>
<a href="#l16.4"></a><span id="l16.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l16.5"></a><span id="l16.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l16.6"></a><span id="l16.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l16.7"></a><span id="l16.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l16.8"></a><span id="l16.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l16.9"></a><span id="l16.9">  *</span>
<a href="#l16.10"></a><span id="l16.10">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l16.11"></a><span id="l16.11"> </span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l16.14"></a><span id="l16.14"> </span>
<a href="#l16.15"></a><span id="l16.15"> /* Include all of the interfaces our factory can generate components for */</span>
<a href="#l16.16"></a><span id="l16.16"> #include &quot;nsMimeContentTypeHandler.h&quot;</span>
<a href="#l16.17"></a><span id="l16.17"> </span>
<a href="#l16.18"></a><span id="l16.18"> /*</span>
<a href="#l16.19"></a><span id="l16.19">  * These functions are the public interface for this content type</span>
<a href="#l16.20"></a><span id="l16.20">  * handler and will be called in by the mime component.</span>
<a href="#l16.21"></a><span id="l16.21">  */</span>
<a href="#l16.22"></a><span id="l16.22"> #define      VCARD_CONTENT_TYPE  &quot;text/x-vcard&quot;</span>
<a href="#l16.23"></a><span id="l16.23"> </span>
<a href="#l16.24"></a><span id="l16.24" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_VCARD_CONTENT_TYPE_HANDLER_CID);</span>
<a href="#l16.25"></a><span id="l16.25" class="difflineplus">+</span>
<a href="#l16.26"></a><span id="l16.26"> ////////////////////////////////////////////////////////////////////////</span>
<a href="#l16.27"></a><span id="l16.27"> // Define the contructor function for the CID</span>
<a href="#l16.28"></a><span id="l16.28"> //</span>
<a href="#l16.29"></a><span id="l16.29"> // What this does is defines a function nsMimeContentTypeHandlerConstructor</span>
<a href="#l16.30"></a><span id="l16.30"> // which we will specific in the nsModuleComponentInfo table. This function will</span>
<a href="#l16.31"></a><span id="l16.31"> // be used by the generic factory to create an instance.</span>
<a href="#l16.32"></a><span id="l16.32"> //</span>
<a href="#l16.33"></a><span id="l16.33"> // NOTE: This creates an instance by using the default constructor</span>
<a href="#l16.34"></a><span id="l16.34"> //</span>
<a href="#l16.35"></a><span id="l16.35"> //NS_GENERIC_FACTORY_CONSTRUCTOR(nsMimeContentTypeHandler) </span>
<a href="#l16.36"></a><span id="l16.36"> extern &quot;C&quot; MimeObjectClass *</span>
<a href="#l16.37"></a><span id="l16.37"> MIME_VCardCreateContentTypeHandlerClass(const char *content_type, </span>
<a href="#l16.38"></a><span id="l16.38">                                         contentTypeHandlerInitStruct *initStruct);</span>
<a href="#l16.39"></a><span id="l16.39"> </span>
<a href="#l16.40"></a><span id="l16.40" class="difflineminus">-static NS_IMETHODIMP</span>
<a href="#l16.41"></a><span id="l16.41" class="difflineplus">+static nsresult</span>
<a href="#l16.42"></a><span id="l16.42"> nsVCardMimeContentTypeHandlerConstructor(nsISupports *aOuter,</span>
<a href="#l16.43"></a><span id="l16.43">                                          REFNSIID aIID,</span>
<a href="#l16.44"></a><span id="l16.44">                                          void **aResult)</span>
<a href="#l16.45"></a><span id="l16.45"> {</span>
<a href="#l16.46"></a><span id="l16.46">   nsresult rv;</span>
<a href="#l16.47"></a><span id="l16.47">   nsMimeContentTypeHandler *inst = nsnull;</span>
<a href="#l16.48"></a><span id="l16.48"> </span>
<a href="#l16.49"></a><span id="l16.49">   if (NULL == aResult) {</span>
<a href="#l16.50"></a><span id="l16.50" class="difflineat">@@ -84,25 +86,30 @@ nsVCardMimeContentTypeHandlerConstructor</span>
<a href="#l16.51"></a><span id="l16.51">   }</span>
<a href="#l16.52"></a><span id="l16.52">   NS_ADDREF(inst);</span>
<a href="#l16.53"></a><span id="l16.53">   rv = inst-&gt;QueryInterface(aIID,aResult);</span>
<a href="#l16.54"></a><span id="l16.54">   NS_RELEASE(inst);</span>
<a href="#l16.55"></a><span id="l16.55"> </span>
<a href="#l16.56"></a><span id="l16.56">   return rv;</span>
<a href="#l16.57"></a><span id="l16.57"> }</span>
<a href="#l16.58"></a><span id="l16.58"> </span>
<a href="#l16.59"></a><span id="l16.59" class="difflineminus">-////////////////////////////////////////////////////////////////////////</span>
<a href="#l16.60"></a><span id="l16.60" class="difflineminus">-// Define a table of CIDs implemented by this module along with other</span>
<a href="#l16.61"></a><span id="l16.61" class="difflineminus">-// information like the function to create an instance, contractid, and</span>
<a href="#l16.62"></a><span id="l16.62" class="difflineminus">-// class name.</span>
<a href="#l16.63"></a><span id="l16.63" class="difflineminus">-//</span>
<a href="#l16.64"></a><span id="l16.64" class="difflineminus">-static const nsModuleComponentInfo components[] =</span>
<a href="#l16.65"></a><span id="l16.65" class="difflineminus">-{</span>
<a href="#l16.66"></a><span id="l16.66" class="difflineminus">-  { &quot;MIME VCard Handler&quot;, NS_VCARD_CONTENT_TYPE_HANDLER_CID, &quot;@mozilla.org/mimecth;1?type=text/x-vcard&quot;,</span>
<a href="#l16.67"></a><span id="l16.67" class="difflineminus">-    nsVCardMimeContentTypeHandlerConstructor, }</span>
<a href="#l16.68"></a><span id="l16.68" class="difflineplus">+const mozilla::Module::CIDEntry kVCardCIDs[] = {</span>
<a href="#l16.69"></a><span id="l16.69" class="difflineplus">+  { &amp;kNS_VCARD_CONTENT_TYPE_HANDLER_CID, false, NULL, nsVCardMimeContentTypeHandlerConstructor},</span>
<a href="#l16.70"></a><span id="l16.70" class="difflineplus">+  { NULL }</span>
<a href="#l16.71"></a><span id="l16.71" class="difflineplus">+};</span>
<a href="#l16.72"></a><span id="l16.72" class="difflineplus">+</span>
<a href="#l16.73"></a><span id="l16.73" class="difflineplus">+const mozilla::Module::ContractIDEntry kVCardContracts[] = {</span>
<a href="#l16.74"></a><span id="l16.74" class="difflineplus">+  { &quot;@mozilla.org/mimecth;1?type=text/x-vcard&quot;, &amp;kNS_VCARD_CONTENT_TYPE_HANDLER_CID},</span>
<a href="#l16.75"></a><span id="l16.75" class="difflineplus">+  { NULL }</span>
<a href="#l16.76"></a><span id="l16.76"> };</span>
<a href="#l16.77"></a><span id="l16.77"> </span>
<a href="#l16.78"></a><span id="l16.78" class="difflineminus">-////////////////////////////////////////////////////////////////////////</span>
<a href="#l16.79"></a><span id="l16.79" class="difflineminus">-// Implement the NSGetModule() exported function for your module</span>
<a href="#l16.80"></a><span id="l16.80" class="difflineminus">-// and the entire implementation of the module object.</span>
<a href="#l16.81"></a><span id="l16.81" class="difflineminus">-//</span>
<a href="#l16.82"></a><span id="l16.82" class="difflineminus">-NS_IMPL_NSGETMODULE(nsVCardModule, components)</span>
<a href="#l16.83"></a><span id="l16.83" class="difflineplus">+static const mozilla::Module kVCardModule = {</span>
<a href="#l16.84"></a><span id="l16.84" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l16.85"></a><span id="l16.85" class="difflineplus">+    kVCardCIDs,</span>
<a href="#l16.86"></a><span id="l16.86" class="difflineplus">+    kVCardContracts,</span>
<a href="#l16.87"></a><span id="l16.87" class="difflineplus">+    NULL,</span>
<a href="#l16.88"></a><span id="l16.88" class="difflineplus">+    NULL,</span>
<a href="#l16.89"></a><span id="l16.89" class="difflineplus">+    NULL,</span>
<a href="#l16.90"></a><span id="l16.90" class="difflineplus">+    NULL</span>
<a href="#l16.91"></a><span id="l16.91" class="difflineplus">+};</span>
<a href="#l16.92"></a><span id="l16.92"> </span>
<a href="#l16.93"></a><span id="l16.93" class="difflineplus">+NSMODULE_DEFN(vcard) = &amp;kVCardModule;</span>
<a href="#l16.94"></a><span id="l16.94" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mailnews/mime/emitters/build/nsEmitterFactory.cpp</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mailnews/mime/emitters/build/nsEmitterFactory.cpp</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -36,80 +36,60 @@</span>
<a href="#l17.4"></a><span id="l17.4">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l17.5"></a><span id="l17.5"> </span>
<a href="#l17.6"></a><span id="l17.6"> #include &quot;nsIFactory.h&quot;</span>
<a href="#l17.7"></a><span id="l17.7"> #include &quot;nsISupports.h&quot;</span>
<a href="#l17.8"></a><span id="l17.8"> #include &quot;msgCore.h&quot;</span>
<a href="#l17.9"></a><span id="l17.9"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l17.10"></a><span id="l17.10"> #include &quot;pratom.h&quot;</span>
<a href="#l17.11"></a><span id="l17.11"> #include &quot;nsServiceManagerUtils.h&quot;</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineminus">-#include &quot;nsIModule.h&quot;</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineminus">-#include &quot;nsICategoryManager.h&quot;</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l17.16"></a><span id="l17.16"> </span>
<a href="#l17.17"></a><span id="l17.17"> /* Include all of the interfaces our factory can generate components for */</span>
<a href="#l17.18"></a><span id="l17.18"> #include &quot;nsMimeEmitterCID.h&quot;</span>
<a href="#l17.19"></a><span id="l17.19"> #include &quot;nsIMimeEmitter.h&quot;</span>
<a href="#l17.20"></a><span id="l17.20"> #include &quot;nsMimeHtmlEmitter.h&quot;</span>
<a href="#l17.21"></a><span id="l17.21"> #include &quot;nsMimeRawEmitter.h&quot;</span>
<a href="#l17.22"></a><span id="l17.22"> #include &quot;nsMimeXmlEmitter.h&quot;</span>
<a href="#l17.23"></a><span id="l17.23"> #include &quot;nsMimePlainEmitter.h&quot;</span>
<a href="#l17.24"></a><span id="l17.24"> </span>
<a href="#l17.25"></a><span id="l17.25"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMimeRawEmitter)</span>
<a href="#l17.26"></a><span id="l17.26"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMimeXmlEmitter)</span>
<a href="#l17.27"></a><span id="l17.27"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMimePlainEmitter)</span>
<a href="#l17.28"></a><span id="l17.28"> NS_GENERIC_FACTORY_CONSTRUCTOR_INIT(nsMimeHtmlDisplayEmitter, Init)</span>
<a href="#l17.29"></a><span id="l17.29"> </span>
<a href="#l17.30"></a><span id="l17.30" class="difflineminus">-</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-static NS_METHOD RegisterMimeEmitter(nsIComponentManager *aCompMgr, nsIFile *aPath, const char *registryLocation, </span>
<a href="#l17.32"></a><span id="l17.32" class="difflineminus">-                                       const char *componentType, const nsModuleComponentInfo *info)</span>
<a href="#l17.33"></a><span id="l17.33" class="difflineminus">-{</span>
<a href="#l17.34"></a><span id="l17.34" class="difflineminus">-  nsresult rv;</span>
<a href="#l17.35"></a><span id="l17.35" class="difflineminus">-  nsCOMPtr&lt;nsICategoryManager&gt; catman = do_GetService(NS_CATEGORYMANAGER_CONTRACTID, &amp;rv);</span>
<a href="#l17.36"></a><span id="l17.36" class="difflineminus">-  if (NS_FAILED(rv)) return rv;</span>
<a href="#l17.37"></a><span id="l17.37" class="difflineminus">-  nsCString previous;</span>
<a href="#l17.38"></a><span id="l17.38" class="difflineminus">-  </span>
<a href="#l17.39"></a><span id="l17.39" class="difflineminus">-  return catman-&gt;AddCategoryEntry(&quot;mime-emitter&quot;, info-&gt;mContractID, info-&gt;mContractID,</span>
<a href="#l17.40"></a><span id="l17.40" class="difflineminus">-                                  PR_TRUE, PR_TRUE, getter_Copies(previous));</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineminus">-}</span>
<a href="#l17.42"></a><span id="l17.42" class="difflineminus">-</span>
<a href="#l17.43"></a><span id="l17.43" class="difflineminus">-static NS_METHOD UnRegisterMimeEmitter(nsIComponentManager *aCompMgr,</span>
<a href="#l17.44"></a><span id="l17.44" class="difflineminus">-                                            nsIFile *aPath,</span>
<a href="#l17.45"></a><span id="l17.45" class="difflineminus">-                                            const char *registryLocation,</span>
<a href="#l17.46"></a><span id="l17.46" class="difflineminus">-                                            const nsModuleComponentInfo *info)</span>
<a href="#l17.47"></a><span id="l17.47" class="difflineminus">-{</span>
<a href="#l17.48"></a><span id="l17.48" class="difflineminus">-  // do we need to unregister our category entries??</span>
<a href="#l17.49"></a><span id="l17.49" class="difflineminus">-  return NS_OK;</span>
<a href="#l17.50"></a><span id="l17.50" class="difflineminus">-}</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_HTML_MIME_EMITTER_CID);</span>
<a href="#l17.52"></a><span id="l17.52" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_XML_MIME_EMITTER_CID);</span>
<a href="#l17.53"></a><span id="l17.53" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_PLAIN_MIME_EMITTER_CID);</span>
<a href="#l17.54"></a><span id="l17.54" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_RAW_MIME_EMITTER_CID);</span>
<a href="#l17.55"></a><span id="l17.55"> </span>
<a href="#l17.56"></a><span id="l17.56" class="difflineminus">-static const nsModuleComponentInfo components[] =</span>
<a href="#l17.57"></a><span id="l17.57" class="difflineminus">-{</span>
<a href="#l17.58"></a><span id="l17.58" class="difflineminus">-  { &quot;HTML MIME Emitter&quot;,</span>
<a href="#l17.59"></a><span id="l17.59" class="difflineminus">-    NS_HTML_MIME_EMITTER_CID,</span>
<a href="#l17.60"></a><span id="l17.60" class="difflineminus">-    NS_HTML_MIME_EMITTER_CONTRACTID,</span>
<a href="#l17.61"></a><span id="l17.61" class="difflineminus">-    nsMimeHtmlDisplayEmitterConstructor,</span>
<a href="#l17.62"></a><span id="l17.62" class="difflineminus">-    RegisterMimeEmitter,</span>
<a href="#l17.63"></a><span id="l17.63" class="difflineminus">-    UnRegisterMimeEmitter</span>
<a href="#l17.64"></a><span id="l17.64" class="difflineminus">-  },</span>
<a href="#l17.65"></a><span id="l17.65" class="difflineminus">-  { &quot;XML MIME Emitter&quot;,</span>
<a href="#l17.66"></a><span id="l17.66" class="difflineminus">-    NS_XML_MIME_EMITTER_CID,</span>
<a href="#l17.67"></a><span id="l17.67" class="difflineminus">-    NS_XML_MIME_EMITTER_CONTRACTID,</span>
<a href="#l17.68"></a><span id="l17.68" class="difflineminus">-    nsMimeXmlEmitterConstructor,</span>
<a href="#l17.69"></a><span id="l17.69" class="difflineminus">-    RegisterMimeEmitter,</span>
<a href="#l17.70"></a><span id="l17.70" class="difflineminus">-    UnRegisterMimeEmitter</span>
<a href="#l17.71"></a><span id="l17.71" class="difflineminus">-  },</span>
<a href="#l17.72"></a><span id="l17.72" class="difflineminus">-  { &quot;PLAIN MIME Emitter&quot;,</span>
<a href="#l17.73"></a><span id="l17.73" class="difflineminus">-    NS_PLAIN_MIME_EMITTER_CID,</span>
<a href="#l17.74"></a><span id="l17.74" class="difflineminus">-    NS_PLAIN_MIME_EMITTER_CONTRACTID,</span>
<a href="#l17.75"></a><span id="l17.75" class="difflineminus">-    nsMimePlainEmitterConstructor,</span>
<a href="#l17.76"></a><span id="l17.76" class="difflineminus">-    RegisterMimeEmitter,</span>
<a href="#l17.77"></a><span id="l17.77" class="difflineminus">-    UnRegisterMimeEmitter</span>
<a href="#l17.78"></a><span id="l17.78" class="difflineminus">-  },</span>
<a href="#l17.79"></a><span id="l17.79" class="difflineminus">-  { &quot;RAW MIME Emitter&quot;,</span>
<a href="#l17.80"></a><span id="l17.80" class="difflineminus">-    NS_RAW_MIME_EMITTER_CID,</span>
<a href="#l17.81"></a><span id="l17.81" class="difflineminus">-    NS_RAW_MIME_EMITTER_CONTRACTID,</span>
<a href="#l17.82"></a><span id="l17.82" class="difflineminus">-    nsMimeRawEmitterConstructor,</span>
<a href="#l17.83"></a><span id="l17.83" class="difflineminus">-    RegisterMimeEmitter,</span>
<a href="#l17.84"></a><span id="l17.84" class="difflineminus">-    UnRegisterMimeEmitter</span>
<a href="#l17.85"></a><span id="l17.85" class="difflineminus">-  }</span>
<a href="#l17.86"></a><span id="l17.86" class="difflineplus">+static const mozilla::Module::CategoryEntry kMimeEmitterCategories[] = {</span>
<a href="#l17.87"></a><span id="l17.87" class="difflineplus">+  { &quot;mime-emitter&quot;, NS_HTML_MIME_EMITTER_CONTRACTID, NS_HTML_MIME_EMITTER_CONTRACTID},</span>
<a href="#l17.88"></a><span id="l17.88" class="difflineplus">+  { &quot;mime-emitter&quot;, NS_XML_MIME_EMITTER_CONTRACTID, NS_XML_MIME_EMITTER_CONTRACTID},</span>
<a href="#l17.89"></a><span id="l17.89" class="difflineplus">+  { &quot;mime-emitter&quot;, NS_PLAIN_MIME_EMITTER_CONTRACTID, NS_PLAIN_MIME_EMITTER_CONTRACTID},</span>
<a href="#l17.90"></a><span id="l17.90" class="difflineplus">+  { &quot;mime-emitter&quot;, NS_RAW_MIME_EMITTER_CONTRACTID, NS_RAW_MIME_EMITTER_CONTRACTID},</span>
<a href="#l17.91"></a><span id="l17.91" class="difflineplus">+  { NULL }</span>
<a href="#l17.92"></a><span id="l17.92"> };</span>
<a href="#l17.93"></a><span id="l17.93"> </span>
<a href="#l17.94"></a><span id="l17.94" class="difflineminus">-NS_IMPL_NSGETMODULE(nsMimeEmitterModule, components)</span>
<a href="#l17.95"></a><span id="l17.95" class="difflineplus">+const mozilla::Module::CIDEntry kMimeEmitterCIDs[] = {</span>
<a href="#l17.96"></a><span id="l17.96" class="difflineplus">+  { &amp;kNS_HTML_MIME_EMITTER_CID, false, NULL, nsMimeHtmlDisplayEmitterConstructor},</span>
<a href="#l17.97"></a><span id="l17.97" class="difflineplus">+  { &amp;kNS_XML_MIME_EMITTER_CID, false, NULL, nsMimeXmlEmitterConstructor},</span>
<a href="#l17.98"></a><span id="l17.98" class="difflineplus">+  { &amp;kNS_PLAIN_MIME_EMITTER_CID, false, NULL, nsMimePlainEmitterConstructor},</span>
<a href="#l17.99"></a><span id="l17.99" class="difflineplus">+  { &amp;kNS_RAW_MIME_EMITTER_CID, false, NULL, nsMimeRawEmitterConstructor},</span>
<a href="#l17.100"></a><span id="l17.100" class="difflineplus">+  { NULL }</span>
<a href="#l17.101"></a><span id="l17.101" class="difflineplus">+};</span>
<a href="#l17.102"></a><span id="l17.102" class="difflineplus">+</span>
<a href="#l17.103"></a><span id="l17.103" class="difflineplus">+const mozilla::Module::ContractIDEntry kMimeEmitterContracts[] = {</span>
<a href="#l17.104"></a><span id="l17.104" class="difflineplus">+  { NS_HTML_MIME_EMITTER_CONTRACTID, &amp;kNS_HTML_MIME_EMITTER_CID},</span>
<a href="#l17.105"></a><span id="l17.105" class="difflineplus">+  { NS_XML_MIME_EMITTER_CONTRACTID, &amp;kNS_XML_MIME_EMITTER_CID},</span>
<a href="#l17.106"></a><span id="l17.106" class="difflineplus">+  { NS_PLAIN_MIME_EMITTER_CONTRACTID, &amp;kNS_PLAIN_MIME_EMITTER_CID},</span>
<a href="#l17.107"></a><span id="l17.107" class="difflineplus">+  { NS_RAW_MIME_EMITTER_CONTRACTID, &amp;kNS_RAW_MIME_EMITTER_CID},</span>
<a href="#l17.108"></a><span id="l17.108" class="difflineplus">+  { NULL }</span>
<a href="#l17.109"></a><span id="l17.109" class="difflineplus">+};</span>
<a href="#l17.110"></a><span id="l17.110" class="difflineplus">+</span>
<a href="#l17.111"></a><span id="l17.111" class="difflineplus">+static const mozilla::Module kMimeEmitterModule = {</span>
<a href="#l17.112"></a><span id="l17.112" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l17.113"></a><span id="l17.113" class="difflineplus">+    kMimeEmitterCIDs,</span>
<a href="#l17.114"></a><span id="l17.114" class="difflineplus">+    kMimeEmitterContracts,</span>
<a href="#l17.115"></a><span id="l17.115" class="difflineplus">+    kMimeEmitterCategories</span>
<a href="#l17.116"></a><span id="l17.116" class="difflineplus">+};</span>
<a href="#l17.117"></a><span id="l17.117" class="difflineplus">+</span>
<a href="#l17.118"></a><span id="l17.118" class="difflineplus">+NSMODULE_DEFN(mimeemitter) = &amp;kMimeEmitterModule;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mailnews/mime/public/nsMsgMimeCID.h</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mailnews/mime/public/nsMsgMimeCID.h</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -59,14 +59,17 @@</span>
<a href="#l18.4"></a><span id="l18.4">         { 0x866a1e11, 0xd0b9, 0x11d2,         \</span>
<a href="#l18.5"></a><span id="l18.5">         { 0xb3, 0x73, 0x52, 0x54, 0x0, 0xe2, 0xd6, 0x3a } }</span>
<a href="#l18.6"></a><span id="l18.6"> </span>
<a href="#l18.7"></a><span id="l18.7"> // {403B0540-B7C3-11d2-B35E-525400E2D63A}</span>
<a href="#l18.8"></a><span id="l18.8"> #define NS_MIME_OBJECT_CLASS_ACCESS_CID   \</span>
<a href="#l18.9"></a><span id="l18.9">         { 0x403b0540, 0xb7c3, 0x11d2,         \</span>
<a href="#l18.10"></a><span id="l18.10">         { 0xb3, 0x5e, 0x52, 0x54, 0x0, 0xe2, 0xd6, 0x3a } }</span>
<a href="#l18.11"></a><span id="l18.11"> </span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+#define NS_MIME_OBJECT_CONTRACTID \</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+  &quot;@mozilla.org/messenger/mimeobject;1&quot;</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+</span>
<a href="#l18.15"></a><span id="l18.15"> // {932C53A5-F398-11d2-82B7-444553540002}</span>
<a href="#l18.16"></a><span id="l18.16"> #define NS_MSGHEADERPARSER_CID \</span>
<a href="#l18.17"></a><span id="l18.17">         { 0x932c53a5, 0xf398, 0x11d2, \</span>
<a href="#l18.18"></a><span id="l18.18">         { 0x82, 0xb7, 0x44, 0x45, 0x53, 0x54, 0x0, 0x2 } }</span>
<a href="#l18.19"></a><span id="l18.19"> </span>
<a href="#l18.20"></a><span id="l18.20"> #endif // nsMessageMimeCID_h__</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mailnews/news/build/nsMsgNewsFactory.cpp</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mailnews/news/build/nsMsgNewsFactory.cpp</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -31,19 +31,17 @@</span>
<a href="#l19.4"></a><span id="l19.4">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l19.5"></a><span id="l19.5">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l19.6"></a><span id="l19.6">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l19.7"></a><span id="l19.7">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l19.8"></a><span id="l19.8">  *</span>
<a href="#l19.9"></a><span id="l19.9">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l19.10"></a><span id="l19.10"> </span>
<a href="#l19.11"></a><span id="l19.11"> #include &quot;nsISupports.h&quot;</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-#include &quot;nsIFactory.h&quot;</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineminus">-#include &quot;nsIModule.h&quot;</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineminus">-#include &quot;nsIGenericFactory.h&quot;</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+#include &quot;mozilla/ModuleUtils.h&quot;</span>
<a href="#l19.16"></a><span id="l19.16"> </span>
<a href="#l19.17"></a><span id="l19.17"> #include &quot;msgCore.h&quot;</span>
<a href="#l19.18"></a><span id="l19.18"> #include &quot;pratom.h&quot;</span>
<a href="#l19.19"></a><span id="l19.19"> #include &quot;nsICategoryManager.h&quot;</span>
<a href="#l19.20"></a><span id="l19.20"> #include &quot;nsIComponentManager.h&quot;</span>
<a href="#l19.21"></a><span id="l19.21"> #include &quot;nsIServiceManager.h&quot;</span>
<a href="#l19.22"></a><span id="l19.22"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l19.23"></a><span id="l19.23"> </span>
<a href="#l19.24"></a><span id="l19.24" class="difflineat">@@ -65,112 +63,64 @@ NS_GENERIC_FACTORY_CONSTRUCTOR(nsNntpUrl</span>
<a href="#l19.25"></a><span id="l19.25"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsNntpService)</span>
<a href="#l19.26"></a><span id="l19.26"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsNntpIncomingServer)</span>
<a href="#l19.27"></a><span id="l19.27"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsNNTPArticleList)</span>
<a href="#l19.28"></a><span id="l19.28"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsNNTPNewsgroupPost)</span>
<a href="#l19.29"></a><span id="l19.29"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsNNTPNewsgroupList)</span>
<a href="#l19.30"></a><span id="l19.30"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsMsgNewsFolder)</span>
<a href="#l19.31"></a><span id="l19.31"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsNewsDownloadDialogArgs)</span>
<a href="#l19.32"></a><span id="l19.32"> </span>
<a href="#l19.33"></a><span id="l19.33" class="difflineminus">-static NS_METHOD</span>
<a href="#l19.34"></a><span id="l19.34" class="difflineminus">-RegisterCommandLineHandler(nsIComponentManager* compMgr, nsIFile* path,</span>
<a href="#l19.35"></a><span id="l19.35" class="difflineminus">-                           const char *location, const char *type,</span>
<a href="#l19.36"></a><span id="l19.36" class="difflineminus">-                           const nsModuleComponentInfo *info)</span>
<a href="#l19.37"></a><span id="l19.37" class="difflineminus">-{</span>
<a href="#l19.38"></a><span id="l19.38" class="difflineminus">-  nsCOMPtr&lt;nsICategoryManager&gt; catMan (do_GetService(NS_CATEGORYMANAGER_CONTRACTID));</span>
<a href="#l19.39"></a><span id="l19.39" class="difflineminus">-  NS_ENSURE_TRUE(catMan, NS_ERROR_FAILURE);</span>
<a href="#l19.40"></a><span id="l19.40" class="difflineminus">-</span>
<a href="#l19.41"></a><span id="l19.41" class="difflineminus">-  return catMan-&gt;AddCategoryEntry(&quot;command-line-handler&quot;, &quot;m-news&quot;,</span>
<a href="#l19.42"></a><span id="l19.42" class="difflineminus">-                                  NS_NEWSSTARTUPHANDLER_CONTRACTID,</span>
<a href="#l19.43"></a><span id="l19.43" class="difflineminus">-                                  PR_TRUE, PR_TRUE, nsnull);</span>
<a href="#l19.44"></a><span id="l19.44" class="difflineminus">-}</span>
<a href="#l19.45"></a><span id="l19.45" class="difflineminus">-</span>
<a href="#l19.46"></a><span id="l19.46" class="difflineminus">-static NS_METHOD</span>
<a href="#l19.47"></a><span id="l19.47" class="difflineminus">-UnregisterCommandLineHandler(nsIComponentManager* compMgr, nsIFile* path,</span>
<a href="#l19.48"></a><span id="l19.48" class="difflineminus">-                             const char *location,</span>
<a href="#l19.49"></a><span id="l19.49" class="difflineminus">-                             const nsModuleComponentInfo *info)</span>
<a href="#l19.50"></a><span id="l19.50" class="difflineminus">-{</span>
<a href="#l19.51"></a><span id="l19.51" class="difflineminus">-  nsCOMPtr&lt;nsICategoryManager&gt; catMan (do_GetService(NS_CATEGORYMANAGER_CONTRACTID));</span>
<a href="#l19.52"></a><span id="l19.52" class="difflineminus">-  NS_ENSURE_TRUE(catMan, NS_ERROR_FAILURE);</span>
<a href="#l19.53"></a><span id="l19.53" class="difflineminus">-</span>
<a href="#l19.54"></a><span id="l19.54" class="difflineminus">-  catMan-&gt;DeleteCategoryEntry(&quot;command-line-handler&quot;, &quot;m-news&quot;,</span>
<a href="#l19.55"></a><span id="l19.55" class="difflineminus">-                              PR_TRUE);</span>
<a href="#l19.56"></a><span id="l19.56" class="difflineminus">-</span>
<a href="#l19.57"></a><span id="l19.57" class="difflineminus">-  return NS_OK;</span>
<a href="#l19.58"></a><span id="l19.58" class="difflineminus">-}</span>
<a href="#l19.59"></a><span id="l19.59" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NNTPSERVICE_CID);</span>
<a href="#l19.60"></a><span id="l19.60" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NNTPURL_CID);</span>
<a href="#l19.61"></a><span id="l19.61" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NEWSFOLDERRESOURCE_CID);</span>
<a href="#l19.62"></a><span id="l19.62" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NNTPINCOMINGSERVER_CID);</span>
<a href="#l19.63"></a><span id="l19.63" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NNTPNEWSGROUPPOST_CID);</span>
<a href="#l19.64"></a><span id="l19.64" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NNTPNEWSGROUPLIST_CID);</span>
<a href="#l19.65"></a><span id="l19.65" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NNTPARTICLELIST_CID);</span>
<a href="#l19.66"></a><span id="l19.66" class="difflineplus">+NS_DEFINE_NAMED_CID(NS_NEWSDOWNLOADDIALOGARGS_CID);</span>
<a href="#l19.67"></a><span id="l19.67"> </span>
<a href="#l19.68"></a><span id="l19.68" class="difflineminus">-static const nsModuleComponentInfo components[] =</span>
<a href="#l19.69"></a><span id="l19.69" class="difflineminus">-{</span>
<a href="#l19.70"></a><span id="l19.70" class="difflineminus">-  { &quot;NNTP URL&quot;,</span>
<a href="#l19.71"></a><span id="l19.71" class="difflineminus">-    NS_NNTPURL_CID,</span>
<a href="#l19.72"></a><span id="l19.72" class="difflineminus">-    NS_NNTPURL_CONTRACTID,</span>
<a href="#l19.73"></a><span id="l19.73" class="difflineminus">-    nsNntpUrlConstructor },</span>
<a href="#l19.74"></a><span id="l19.74" class="difflineminus">-  { &quot;NNTP Service&quot;,</span>
<a href="#l19.75"></a><span id="l19.75" class="difflineminus">-    NS_NNTPSERVICE_CID,</span>
<a href="#l19.76"></a><span id="l19.76" class="difflineminus">-    NS_NNTPSERVICE_CONTRACTID,</span>
<a href="#l19.77"></a><span id="l19.77" class="difflineminus">-    nsNntpServiceConstructor },</span>
<a href="#l19.78"></a><span id="l19.78" class="difflineminus">-  { &quot;News Startup Handler&quot;,</span>
<a href="#l19.79"></a><span id="l19.79" class="difflineminus">-    NS_NNTPSERVICE_CID,</span>
<a href="#l19.80"></a><span id="l19.80" class="difflineminus">-    NS_NEWSSTARTUPHANDLER_CONTRACTID,</span>
<a href="#l19.81"></a><span id="l19.81" class="difflineminus">-    nsNntpServiceConstructor,</span>
<a href="#l19.82"></a><span id="l19.82" class="difflineminus">-    RegisterCommandLineHandler, </span>
<a href="#l19.83"></a><span id="l19.83" class="difflineminus">-    UnregisterCommandLineHandler },</span>
<a href="#l19.84"></a><span id="l19.84" class="difflineminus">-  { &quot;NNTP Protocol Info&quot;,</span>
<a href="#l19.85"></a><span id="l19.85" class="difflineminus">-    NS_NNTPSERVICE_CID,</span>
<a href="#l19.86"></a><span id="l19.86" class="difflineminus">-    NS_NNTPPROTOCOLINFO_CONTRACTID,</span>
<a href="#l19.87"></a><span id="l19.87" class="difflineminus">-    nsNntpServiceConstructor },</span>
<a href="#l19.88"></a><span id="l19.88" class="difflineminus">-  { &quot;NNTP Message Service&quot;,</span>
<a href="#l19.89"></a><span id="l19.89" class="difflineminus">-    NS_NNTPSERVICE_CID,</span>
<a href="#l19.90"></a><span id="l19.90" class="difflineminus">-    NS_NNTPMESSAGESERVICE_CONTRACTID,</span>
<a href="#l19.91"></a><span id="l19.91" class="difflineminus">-    nsNntpServiceConstructor },</span>
<a href="#l19.92"></a><span id="l19.92" class="difflineminus">-  { &quot;News Message Service&quot;,</span>
<a href="#l19.93"></a><span id="l19.93" class="difflineminus">-    NS_NNTPSERVICE_CID,</span>
<a href="#l19.94"></a><span id="l19.94" class="difflineminus">-    NS_NEWSMESSAGESERVICE_CONTRACTID,</span>
<a href="#l19.95"></a><span id="l19.95" class="difflineminus">-    nsNntpServiceConstructor },</span>
<a href="#l19.96"></a><span id="l19.96" class="difflineminus">-  { &quot;News Protocol Handler&quot;,</span>
<a href="#l19.97"></a><span id="l19.97" class="difflineminus">-    NS_NNTPSERVICE_CID,</span>
<a href="#l19.98"></a><span id="l19.98" class="difflineminus">-    NS_NEWSPROTOCOLHANDLER_CONTRACTID,</span>
<a href="#l19.99"></a><span id="l19.99" class="difflineminus">-    nsNntpServiceConstructor },</span>
<a href="#l19.100"></a><span id="l19.100" class="difflineminus">-  { &quot;Secure News Protocol Handler&quot;,</span>
<a href="#l19.101"></a><span id="l19.101" class="difflineminus">-    NS_NNTPSERVICE_CID,</span>
<a href="#l19.102"></a><span id="l19.102" class="difflineminus">-    NS_SNEWSPROTOCOLHANDLER_CONTRACTID,</span>
<a href="#l19.103"></a><span id="l19.103" class="difflineminus">-    nsNntpServiceConstructor },</span>
<a href="#l19.104"></a><span id="l19.104" class="difflineminus">-  { &quot;NNTP Protocol Handler&quot;,</span>
<a href="#l19.105"></a><span id="l19.105" class="difflineminus">-    NS_NNTPSERVICE_CID,</span>
<a href="#l19.106"></a><span id="l19.106" class="difflineminus">-    NS_NNTPPROTOCOLHANDLER_CONTRACTID,</span>
<a href="#l19.107"></a><span id="l19.107" class="difflineminus">-    nsNntpServiceConstructor },</span>
<a href="#l19.108"></a><span id="l19.108" class="difflineminus">-  { &quot;newsgroup content handler&quot;,</span>
<a href="#l19.109"></a><span id="l19.109" class="difflineminus">-    NS_NNTPSERVICE_CID,</span>
<a href="#l19.110"></a><span id="l19.110" class="difflineminus">-    NS_CONTENT_HANDLER_CONTRACTID_PREFIX&quot;x-application-newsgroup&quot;,</span>
<a href="#l19.111"></a><span id="l19.111" class="difflineminus">-    nsNntpServiceConstructor },</span>
<a href="#l19.112"></a><span id="l19.112" class="difflineminus">-  { &quot;newsgroup listids content handler&quot;,</span>
<a href="#l19.113"></a><span id="l19.113" class="difflineminus">-    NS_NNTPSERVICE_CID,</span>
<a href="#l19.114"></a><span id="l19.114" class="difflineminus">-    NS_CONTENT_HANDLER_CONTRACTID_PREFIX&quot;x-application-newsgroup-listids&quot;,</span>
<a href="#l19.115"></a><span id="l19.115" class="difflineminus">-    nsNntpServiceConstructor },</span>
<a href="#l19.116"></a><span id="l19.116" class="difflineminus">-  { &quot;News Folder Resource&quot;,</span>
<a href="#l19.117"></a><span id="l19.117" class="difflineminus">-    NS_NEWSFOLDERRESOURCE_CID,</span>
<a href="#l19.118"></a><span id="l19.118" class="difflineminus">-    NS_NEWSFOLDERRESOURCE_CONTRACTID,</span>
<a href="#l19.119"></a><span id="l19.119" class="difflineminus">-    nsMsgNewsFolderConstructor },</span>
<a href="#l19.120"></a><span id="l19.120" class="difflineminus">-  { &quot;NNTP Incoming Servier&quot;,</span>
<a href="#l19.121"></a><span id="l19.121" class="difflineminus">-    NS_NNTPINCOMINGSERVER_CID,</span>
<a href="#l19.122"></a><span id="l19.122" class="difflineminus">-    NS_NNTPINCOMINGSERVER_CONTRACTID,</span>
<a href="#l19.123"></a><span id="l19.123" class="difflineminus">-    nsNntpIncomingServerConstructor },</span>
<a href="#l19.124"></a><span id="l19.124" class="difflineminus">-  { &quot;NNTP Newsgroup Post&quot;,</span>
<a href="#l19.125"></a><span id="l19.125" class="difflineminus">-    NS_NNTPNEWSGROUPPOST_CID,</span>
<a href="#l19.126"></a><span id="l19.126" class="difflineminus">-    NS_NNTPNEWSGROUPPOST_CONTRACTID,</span>
<a href="#l19.127"></a><span id="l19.127" class="difflineminus">-    nsNNTPNewsgroupPostConstructor },</span>
<a href="#l19.128"></a><span id="l19.128" class="difflineminus">-  { &quot;NNTP Newsgroup List&quot;,</span>
<a href="#l19.129"></a><span id="l19.129" class="difflineminus">-    NS_NNTPNEWSGROUPLIST_CID,</span>
<a href="#l19.130"></a><span id="l19.130" class="difflineminus">-    NS_NNTPNEWSGROUPLIST_CONTRACTID,</span>
<a href="#l19.131"></a><span id="l19.131" class="difflineminus">-    nsNNTPNewsgroupListConstructor },</span>
<a href="#l19.132"></a><span id="l19.132" class="difflineminus">-  { &quot;NNTP Article List&quot;,</span>
<a href="#l19.133"></a><span id="l19.133" class="difflineminus">-    NS_NNTPARTICLELIST_CID,</span>
<a href="#l19.134"></a><span id="l19.134" class="difflineminus">-    NS_NNTPARTICLELIST_CONTRACTID,</span>
<a href="#l19.135"></a><span id="l19.135" class="difflineminus">-    nsNNTPArticleListConstructor },</span>
<a href="#l19.136"></a><span id="l19.136" class="difflineminus">-  { &quot;News download dialog args&quot;,</span>
<a href="#l19.137"></a><span id="l19.137" class="difflineminus">-    NS_NEWSDOWNLOADDIALOGARGS_CID,</span>
<a href="#l19.138"></a><span id="l19.138" class="difflineminus">-    NS_NEWSDOWNLOADDIALOGARGS_CONTRACTID,</span>
<a href="#l19.139"></a><span id="l19.139" class="difflineminus">-    nsNewsDownloadDialogArgsConstructor }</span>
<a href="#l19.140"></a><span id="l19.140" class="difflineplus">+static const mozilla::Module::CategoryEntry kMsgNewsCategories[] = {</span>
<a href="#l19.141"></a><span id="l19.141" class="difflineplus">+  { &quot;command-line-handler&quot;, &quot;m-news&quot;, NS_NEWSSTARTUPHANDLER_CONTRACTID },</span>
<a href="#l19.142"></a><span id="l19.142" class="difflineplus">+  { NULL }</span>
<a href="#l19.143"></a><span id="l19.143" class="difflineplus">+};</span>
<a href="#l19.144"></a><span id="l19.144" class="difflineplus">+</span>
<a href="#l19.145"></a><span id="l19.145" class="difflineplus">+const mozilla::Module::CIDEntry kMsgNewsCIDs[] = {</span>
<a href="#l19.146"></a><span id="l19.146" class="difflineplus">+  { &amp;kNS_NNTPURL_CID, false, NULL, nsNntpUrlConstructor },</span>
<a href="#l19.147"></a><span id="l19.147" class="difflineplus">+  { &amp;kNS_NNTPSERVICE_CID, false, NULL, nsNntpServiceConstructor },</span>
<a href="#l19.148"></a><span id="l19.148" class="difflineplus">+  { &amp;kNS_NEWSFOLDERRESOURCE_CID, false, NULL, nsMsgNewsFolderConstructor },</span>
<a href="#l19.149"></a><span id="l19.149" class="difflineplus">+  { &amp;kNS_NNTPINCOMINGSERVER_CID, false, NULL, nsNntpIncomingServerConstructor },</span>
<a href="#l19.150"></a><span id="l19.150" class="difflineplus">+  { &amp;kNS_NNTPNEWSGROUPPOST_CID, false, NULL, nsNNTPNewsgroupPostConstructor },</span>
<a href="#l19.151"></a><span id="l19.151" class="difflineplus">+  { &amp;kNS_NNTPNEWSGROUPLIST_CID, false, NULL, nsNNTPNewsgroupListConstructor },</span>
<a href="#l19.152"></a><span id="l19.152" class="difflineplus">+  { &amp;kNS_NNTPARTICLELIST_CID, false, NULL, nsNNTPArticleListConstructor },</span>
<a href="#l19.153"></a><span id="l19.153" class="difflineplus">+  { &amp;kNS_NEWSDOWNLOADDIALOGARGS_CID, false, NULL, nsNewsDownloadDialogArgsConstructor },</span>
<a href="#l19.154"></a><span id="l19.154" class="difflineplus">+  { NULL }</span>
<a href="#l19.155"></a><span id="l19.155"> };</span>
<a href="#l19.156"></a><span id="l19.156"> </span>
<a href="#l19.157"></a><span id="l19.157" class="difflineminus">-NS_IMPL_NSGETMODULE(nsMsgNewsModule, components)</span>
<a href="#l19.158"></a><span id="l19.158" class="difflineplus">+const mozilla::Module::ContractIDEntry kMsgNewsContracts[] = {</span>
<a href="#l19.159"></a><span id="l19.159" class="difflineplus">+  { NS_NNTPURL_CONTRACTID, &amp;kNS_NNTPURL_CID },</span>
<a href="#l19.160"></a><span id="l19.160" class="difflineplus">+  { NS_NNTPSERVICE_CONTRACTID, &amp;kNS_NNTPSERVICE_CID },</span>
<a href="#l19.161"></a><span id="l19.161" class="difflineplus">+  { NS_NEWSSTARTUPHANDLER_CONTRACTID, &amp;kNS_NNTPSERVICE_CID },</span>
<a href="#l19.162"></a><span id="l19.162" class="difflineplus">+  { NS_NNTPPROTOCOLINFO_CONTRACTID, &amp;kNS_NNTPSERVICE_CID },</span>
<a href="#l19.163"></a><span id="l19.163" class="difflineplus">+  { NS_NNTPMESSAGESERVICE_CONTRACTID, &amp;kNS_NNTPSERVICE_CID },</span>
<a href="#l19.164"></a><span id="l19.164" class="difflineplus">+  { NS_NEWSMESSAGESERVICE_CONTRACTID, &amp;kNS_NNTPSERVICE_CID },</span>
<a href="#l19.165"></a><span id="l19.165" class="difflineplus">+  { NS_NEWSPROTOCOLHANDLER_CONTRACTID, &amp;kNS_NNTPSERVICE_CID },</span>
<a href="#l19.166"></a><span id="l19.166" class="difflineplus">+  { NS_SNEWSPROTOCOLHANDLER_CONTRACTID, &amp;kNS_NNTPSERVICE_CID },</span>
<a href="#l19.167"></a><span id="l19.167" class="difflineplus">+  { NS_NNTPPROTOCOLHANDLER_CONTRACTID, &amp;kNS_NNTPSERVICE_CID },</span>
<a href="#l19.168"></a><span id="l19.168" class="difflineplus">+  { NS_CONTENT_HANDLER_CONTRACTID_PREFIX&quot;x-application-newsgroup&quot;, &amp;kNS_NNTPSERVICE_CID },</span>
<a href="#l19.169"></a><span id="l19.169" class="difflineplus">+  { NS_CONTENT_HANDLER_CONTRACTID_PREFIX&quot;x-application-newsgroup-listids&quot;, &amp;kNS_NNTPSERVICE_CID },</span>
<a href="#l19.170"></a><span id="l19.170" class="difflineplus">+  { NS_NEWSFOLDERRESOURCE_CONTRACTID, &amp;kNS_NEWSFOLDERRESOURCE_CID },</span>
<a href="#l19.171"></a><span id="l19.171" class="difflineplus">+  { NS_NNTPINCOMINGSERVER_CONTRACTID, &amp;kNS_NNTPINCOMINGSERVER_CID },</span>
<a href="#l19.172"></a><span id="l19.172" class="difflineplus">+  { NS_NNTPNEWSGROUPPOST_CONTRACTID, &amp;kNS_NNTPNEWSGROUPPOST_CID },</span>
<a href="#l19.173"></a><span id="l19.173" class="difflineplus">+  { NS_NNTPNEWSGROUPLIST_CONTRACTID, &amp;kNS_NNTPNEWSGROUPLIST_CID },</span>
<a href="#l19.174"></a><span id="l19.174" class="difflineplus">+  { NS_NNTPARTICLELIST_CONTRACTID, &amp;kNS_NNTPARTICLELIST_CID },</span>
<a href="#l19.175"></a><span id="l19.175" class="difflineplus">+  { NS_NEWSDOWNLOADDIALOGARGS_CONTRACTID, &amp;kNS_NEWSDOWNLOADDIALOGARGS_CID },</span>
<a href="#l19.176"></a><span id="l19.176" class="difflineplus">+  { NULL }</span>
<a href="#l19.177"></a><span id="l19.177" class="difflineplus">+};</span>
<a href="#l19.178"></a><span id="l19.178"> </span>
<a href="#l19.179"></a><span id="l19.179" class="difflineplus">+static const mozilla::Module kMsgNewsModule = {</span>
<a href="#l19.180"></a><span id="l19.180" class="difflineplus">+    mozilla::Module::kVersion,</span>
<a href="#l19.181"></a><span id="l19.181" class="difflineplus">+    kMsgNewsCIDs,</span>
<a href="#l19.182"></a><span id="l19.182" class="difflineplus">+    kMsgNewsContracts,</span>
<a href="#l19.183"></a><span id="l19.183" class="difflineplus">+    kMsgNewsCategories</span>
<a href="#l19.184"></a><span id="l19.184" class="difflineplus">+};</span>
<a href="#l19.185"></a><span id="l19.185"> </span>
<a href="#l19.186"></a><span id="l19.186" class="difflineplus">+NSMODULE_DEFN(msgnews) = &amp;kMsgNewsModule;</span>
<a href="#l19.187"></a><span id="l19.187" class="difflineplus">+</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

