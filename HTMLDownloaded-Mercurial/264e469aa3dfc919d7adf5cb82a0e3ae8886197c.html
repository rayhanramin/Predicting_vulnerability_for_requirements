<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 26095:264e469aa3dfc919d7adf5cb82a0e3ae8886197c</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 264e469aa3dfc919d7adf5cb82a0e3ae8886197c" />
<meta property="og:url" content="/comm-central/rev/264e469aa3dfc919d7adf5cb82a0e3ae8886197c" />
<meta property="og:description" content="Bug 1534155 - Stop ignoring no-undef linter rule in calendar; r=Fallen" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 264e469aa3dfc919d7adf5cb82a0e3ae8886197c 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/264e469aa3dfc919d7adf5cb82a0e3ae8886197c">shortlog</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/264e469aa3dfc919d7adf5cb82a0e3ae8886197c">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c">files</a> |
changeset |
<a href="/comm-central/raw-rev/264e469aa3dfc919d7adf5cb82a0e3ae8886197c">raw</a>  | <a href="/comm-central/archive/264e469aa3dfc919d7adf5cb82a0e3ae8886197c.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1534155">Bug 1534155</a> - Stop ignoring no-undef linter rule in calendar; r=Fallen
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#71;&#101;&#111;&#102;&#102;&#32;&#76;&#97;&#110;&#107;&#111;&#119;&#32;&#60;&#103;&#101;&#111;&#102;&#102;&#64;&#100;&#97;&#114;&#107;&#116;&#114;&#111;&#106;&#97;&#110;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 15 Mar 2019 11:03:39 +1300</td></tr>

<tr>
 <td>changeset 26095</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/264e469aa3dfc919d7adf5cb82a0e3ae8886197c">264e469aa3dfc919d7adf5cb82a0e3ae8886197c</a></td>
</tr>



<tr>
<td>parent 26094</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/af3e3d4899f591b74926f9ff8e74b9d8c69295b7">af3e3d4899f591b74926f9ff8e74b9d8c69295b7</a>
</td>
</tr>

<tr>
<td>child 26096</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/a8263af5473c7b8e88d0f86486bb3aefa8afb9ef">a8263af5473c7b8e88d0f86486bb3aefa8afb9ef</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=264e469aa3dfc919d7adf5cb82a0e3ae8886197c">15666</a></td></tr>
<tr><td>push user</td><td>geoff@darktrojan.net</td></tr>
<tr><td>push date</td><td class="date age">Thu, 14 Mar 2019 22:07:07 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@a8263af5473c [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=a8263af5473c7b8e88d0f86486bb3aefa8afb9ef">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=a8263af5473c7b8e88d0f86486bb3aefa8afb9ef&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=a8263af5473c7b8e88d0f86486bb3aefa8afb9ef&newProject=comm-central&newRevision=af3e3d4899f591b74926f9ff8e74b9d8c69295b7&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=a8263af5473c7b8e88d0f86486bb3aefa8afb9ef&newProject=comm-central&newRevision=af3e3d4899f591b74926f9ff8e74b9d8c69295b7&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=a8263af5473c7b8e88d0f86486bb3aefa8afb9ef&newProject=comm-central&newRevision=af3e3d4899f591b74926f9ff8e74b9d8c69295b7&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Fallen%29&revcount=50">Fallen</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1534155">1534155</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1534155">Bug 1534155</a> - Stop ignoring no-undef linter rule in calendar; r=Fallen</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/.eslintignore">.eslintignore</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/.eslintignore">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/.eslintignore">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/.eslintignore">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/.eslintignore">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/.eslintignore">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/.eslintrc.js">calendar/.eslintrc.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/.eslintrc.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/.eslintrc.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/.eslintrc.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/.eslintrc.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/.eslintrc.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/calBackendLoader.js">calendar/base/backend/calBackendLoader.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/calBackendLoader.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/calBackendLoader.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/calBackendLoader.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/calBackendLoader.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/calBackendLoader.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calDateTime.js">calendar/base/backend/icaljs/calDateTime.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calDateTime.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calDateTime.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calDateTime.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calDateTime.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calDateTime.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICALJSComponents.js">calendar/base/backend/icaljs/calICALJSComponents.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICALJSComponents.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICALJSComponents.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICALJSComponents.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICALJSComponents.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICALJSComponents.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService-worker.js">calendar/base/backend/icaljs/calICSService-worker.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService-worker.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService-worker.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService-worker.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService-worker.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService-worker.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService.js">calendar/base/backend/icaljs/calICSService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calICSService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calPeriod.js">calendar/base/backend/icaljs/calPeriod.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calPeriod.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calPeriod.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calPeriod.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calPeriod.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calPeriod.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calRecurrenceRule.js">calendar/base/backend/icaljs/calRecurrenceRule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calRecurrenceRule.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calRecurrenceRule.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calRecurrenceRule.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calRecurrenceRule.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/backend/icaljs/calRecurrenceRule.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.js">calendar/base/content/agenda-listbox.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.xml">calendar/base/content/agenda-listbox.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/agenda-listbox.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-base-view.xml">calendar/base/content/calendar-base-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-base-view.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-base-view.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-base-view.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-base-view.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-base-view.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-chrome-startup.js">calendar/base/content/calendar-chrome-startup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-chrome-startup.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-chrome-startup.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-chrome-startup.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-chrome-startup.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-chrome-startup.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-clipboard.js">calendar/base/content/calendar-clipboard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-clipboard.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-clipboard.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-clipboard.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-clipboard.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-clipboard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-common-sets.js">calendar/base/content/calendar-common-sets.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-common-sets.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-common-sets.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-common-sets.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-common-sets.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-common-sets.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-dnd-listener.js">calendar/base/content/calendar-dnd-listener.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-dnd-listener.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-dnd-listener.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-dnd-listener.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-dnd-listener.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-dnd-listener.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-extract.js">calendar/base/content/calendar-extract.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-extract.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-extract.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-extract.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-extract.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-extract.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-bindings.xml">calendar/base/content/calendar-item-bindings.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-bindings.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-bindings.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-bindings.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-bindings.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-bindings.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-editing.js">calendar/base/content/calendar-item-editing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-editing.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-editing.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-editing.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-editing.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-item-editing.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-management.js">calendar/base/content/calendar-management.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-management.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-management.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-management.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-management.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-management.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-menus.xml">calendar/base/content/calendar-menus.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-menus.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-menus.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-menus.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-menus.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-menus.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-month-view.xml">calendar/base/content/calendar-month-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-month-view.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-month-view.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-month-view.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-month-view.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-month-view.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-multiday-view.xml">calendar/base/content/calendar-multiday-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-multiday-view.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-multiday-view.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-multiday-view.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-multiday-view.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-multiday-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-editing.js">calendar/base/content/calendar-task-editing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-editing.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-editing.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-editing.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-editing.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-editing.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.js">calendar/base/content/calendar-task-tree.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.xml">calendar/base/content/calendar-task-tree.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-tree.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-view.js">calendar/base/content/calendar-task-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-view.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-view.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-view.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-view.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-task-view.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-ui-utils.js">calendar/base/content/calendar-ui-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-ui-utils.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-ui-utils.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-ui-utils.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-ui-utils.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-ui-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder-todo.js">calendar/base/content/calendar-unifinder-todo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder-todo.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder-todo.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder-todo.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder-todo.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder-todo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder.js">calendar/base/content/calendar-unifinder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-unifinder.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-view-core.xml">calendar/base/content/calendar-view-core.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-view-core.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-view-core.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-view-core.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-view-core.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-view-core.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.js">calendar/base/content/calendar-views.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.xml">calendar/base/content/calendar-views.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/calendar-views.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-alarm-dialog.js">calendar/base/content/dialogs/calendar-alarm-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-alarm-dialog.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-alarm-dialog.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-alarm-dialog.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-alarm-dialog.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-alarm-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-creation.js">calendar/base/content/dialogs/calendar-creation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-creation.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-creation.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-creation.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-creation.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-creation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-dialog-utils.js">calendar/base/content/dialogs/calendar-dialog-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-dialog-utils.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-dialog-utils.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-dialog-utils.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-dialog-utils.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-dialog-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">calendar/base/content/dialogs/calendar-event-dialog-attendees.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">calendar/base/content/dialogs/calendar-event-dialog-reminder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">calendar/base/content/dialogs/calendar-event-dialog-timezone.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-dialog.js">calendar/base/content/dialogs/calendar-invitations-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-dialog.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-dialog.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-dialog.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-dialog.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-list.xml">calendar/base/content/dialogs/calendar-invitations-list.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-list.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-list.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-list.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-list.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-invitations-list.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-migration-dialog.js">calendar/base/content/dialogs/calendar-migration-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-migration-dialog.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-migration-dialog.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-migration-dialog.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-migration-dialog.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-migration-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-print-dialog.js">calendar/base/content/dialogs/calendar-print-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-print-dialog.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-print-dialog.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-print-dialog.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-print-dialog.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-print-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-properties-dialog.js">calendar/base/content/dialogs/calendar-properties-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-properties-dialog.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-properties-dialog.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-properties-dialog.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-properties-dialog.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-properties-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-summary-dialog.js">calendar/base/content/dialogs/calendar-summary-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-summary-dialog.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-summary-dialog.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-summary-dialog.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-summary-dialog.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/calendar-summary-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/chooseCalendarDialog.js">calendar/base/content/dialogs/chooseCalendarDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/chooseCalendarDialog.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/chooseCalendarDialog.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/chooseCalendarDialog.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/chooseCalendarDialog.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/dialogs/chooseCalendarDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/import-export.js">calendar/base/content/import-export.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/import-export.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/import-export.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/import-export.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/import-export.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/import-export.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/alarms.js">calendar/base/content/preferences/alarms.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/alarms.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/alarms.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/alarms.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/alarms.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/alarms.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/categories.js">calendar/base/content/preferences/categories.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/categories.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/categories.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/categories.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/categories.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/categories.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/general.js">calendar/base/content/preferences/general.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/general.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/general.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/general.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/general.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/general.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/views.js">calendar/base/content/preferences/views.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/views.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/views.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/views.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/views.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/preferences/views.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/today-pane.js">calendar/base/content/today-pane.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/today-pane.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/today-pane.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/today-pane.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/today-pane.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/today-pane.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-alarm-widget.xml">calendar/base/content/widgets/calendar-alarm-widget.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-alarm-widget.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-alarm-widget.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-alarm-widget.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-alarm-widget.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-alarm-widget.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-list-tree.xml">calendar/base/content/widgets/calendar-list-tree.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-list-tree.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-list-tree.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-list-tree.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-list-tree.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-list-tree.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-widgets.xml">calendar/base/content/widgets/calendar-widgets.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-widgets.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-widgets.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-widgets.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-widgets.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/calendar-widgets.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/minimonth.xml">calendar/base/content/widgets/minimonth.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/minimonth.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/minimonth.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/minimonth.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/minimonth.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/content/widgets/minimonth.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/calUtils.jsm">calendar/base/modules/calUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/calUtils.jsm">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/calUtils.jsm">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/calUtils.jsm">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/calUtils.jsm">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/calUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/utils/calACLUtils.jsm">calendar/base/modules/utils/calACLUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/utils/calACLUtils.jsm">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/utils/calACLUtils.jsm">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/utils/calACLUtils.jsm">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/utils/calACLUtils.jsm">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/modules/utils/calACLUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calCalendarManager.js">calendar/base/src/calCalendarManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calCalendarManager.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calCalendarManager.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calCalendarManager.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calCalendarManager.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calCalendarManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calEvent.js">calendar/base/src/calEvent.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calEvent.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calEvent.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calEvent.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calEvent.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calEvent.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calFilter.js">calendar/base/src/calFilter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calFilter.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calFilter.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calFilter.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calFilter.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calFilter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calIcsParser.js">calendar/base/src/calIcsParser.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calIcsParser.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calIcsParser.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calIcsParser.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calIcsParser.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calIcsParser.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemBase.js">calendar/base/src/calItemBase.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemBase.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemBase.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemBase.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemBase.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemBase.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemModule.js">calendar/base/src/calItemModule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemModule.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemModule.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemModule.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemModule.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calItemModule.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTimezoneService.js">calendar/base/src/calTimezoneService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTimezoneService.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTimezoneService.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTimezoneService.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTimezoneService.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTimezoneService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTodo.js">calendar/base/src/calTodo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTodo.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTodo.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTodo.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTodo.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/base/src/calTodo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calImportExportModule.js">calendar/import-export/calImportExportModule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calImportExportModule.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calImportExportModule.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calImportExportModule.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calImportExportModule.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calImportExportModule.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calMonthGridPrinter.js">calendar/import-export/calMonthGridPrinter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calMonthGridPrinter.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calMonthGridPrinter.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calMonthGridPrinter.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calMonthGridPrinter.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/import-export/calMonthGridPrinter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/itip/calItipEmailTransport.js">calendar/itip/calItipEmailTransport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/itip/calItipEmailTransport.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/itip/calItipEmailTransport.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/itip/calItipEmailTransport.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/itip/calItipEmailTransport.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/itip/calItipEmailTransport.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/html-item-editing/react-code.js">calendar/lightning/content/html-item-editing/react-code.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/html-item-editing/react-code.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/html-item-editing/react-code.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/html-item-editing/react-code.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/html-item-editing/react-code.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/html-item-editing/react-code.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/imip-bar.js">calendar/lightning/content/imip-bar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/imip-bar.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/imip-bar.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/imip-bar.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/imip-bar.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/imip-bar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-creation.js">calendar/lightning/content/lightning-calendar-creation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-creation.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-creation.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-creation.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-creation.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-creation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-properties.js">calendar/lightning/content/lightning-calendar-properties.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-properties.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-properties.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-properties.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-properties.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-calendar-properties.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-iframe.js">calendar/lightning/content/lightning-item-iframe.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-iframe.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-iframe.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-iframe.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-iframe.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-iframe.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-panel.js">calendar/lightning/content/lightning-item-panel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-panel.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-panel.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-panel.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-panel.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-item-panel.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-utils.js">calendar/lightning/content/lightning-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-utils.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-utils.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-utils.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-utils.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/lightning-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-preferences.js">calendar/lightning/content/messenger-overlay-preferences.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-preferences.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-preferences.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-preferences.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-preferences.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-preferences.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-sidebar.js">calendar/lightning/content/messenger-overlay-sidebar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-sidebar.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-sidebar.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-sidebar.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-sidebar.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/messenger-overlay-sidebar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/suite-overlay-sidebar.js">calendar/lightning/content/suite-overlay-sidebar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/suite-overlay-sidebar.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/suite-overlay-sidebar.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/suite-overlay-sidebar.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/suite-overlay-sidebar.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/lightning/content/suite-overlay-sidebar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavCalendar.js">calendar/providers/caldav/calDavCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavCalendar.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavCalendar.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavCalendar.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavCalendar.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavRequestHandlers.js">calendar/providers/caldav/calDavRequestHandlers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavRequestHandlers.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavRequestHandlers.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavRequestHandlers.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavRequestHandlers.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/calDavRequestHandlers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-creation.js">calendar/providers/caldav/content/caldav-lightning-calendar-creation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-creation.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-creation.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-creation.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-creation.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-creation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-properties.js">calendar/providers/caldav/content/caldav-lightning-calendar-properties.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-properties.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-properties.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-properties.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-properties.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-calendar-properties.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-utils.js">calendar/providers/caldav/content/caldav-lightning-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-utils.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-utils.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-utils.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-utils.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/caldav/content/caldav-lightning-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/composite/calCompositeCalendar.js">calendar/providers/composite/calCompositeCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/composite/calCompositeCalendar.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/composite/calCompositeCalendar.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/composite/calCompositeCalendar.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/composite/calCompositeCalendar.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/composite/calCompositeCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-creation.js">calendar/providers/gdata/content/gdata-calendar-creation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-creation.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-creation.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-creation.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-creation.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-creation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-properties.js">calendar/providers/gdata/content/gdata-calendar-properties.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-properties.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-properties.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-properties.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-properties.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-calendar-properties.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">calendar/providers/gdata/content/gdata-event-dialog-reminder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">calendar/providers/gdata/content/gdata-lightning-item-iframe.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-list-tree.xml">calendar/providers/gdata/content/gdata-list-tree.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-list-tree.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-list-tree.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-list-tree.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-list-tree.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-list-tree.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-migration.js">calendar/providers/gdata/content/gdata-migration.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-migration.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-migration.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-migration.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-migration.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/content/gdata-migration.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataRequest.jsm">calendar/providers/gdata/modules/gdataRequest.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataRequest.jsm">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataRequest.jsm">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataRequest.jsm">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataRequest.jsm">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataRequest.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataSession.jsm">calendar/providers/gdata/modules/gdataSession.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataSession.jsm">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataSession.jsm">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataSession.jsm">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataSession.jsm">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataSession.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataUtils.jsm">calendar/providers/gdata/modules/gdataUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataUtils.jsm">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataUtils.jsm">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataUtils.jsm">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataUtils.jsm">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/gdata/modules/gdataUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/ics/calICSCalendar.js">calendar/providers/ics/calICSCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/ics/calICSCalendar.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/ics/calICSCalendar.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/ics/calICSCalendar.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/ics/calICSCalendar.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/ics/calICSCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/memory/calMemoryCalendar.js">calendar/providers/memory/calMemoryCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/memory/calMemoryCalendar.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/memory/calMemoryCalendar.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/memory/calMemoryCalendar.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/memory/calMemoryCalendar.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/memory/calMemoryCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/storage/calStorageCalendar.js">calendar/providers/storage/calStorageCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/storage/calStorageCalendar.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/storage/calStorageCalendar.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/storage/calStorageCalendar.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/storage/calStorageCalendar.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/storage/calStorageCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendar.js">calendar/providers/wcap/calWcapCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendar.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendar.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendar.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendar.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarItems.js">calendar/providers/wcap/calWcapCalendarItems.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarItems.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarItems.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarItems.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarItems.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarItems.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarModule.js">calendar/providers/wcap/calWcapCalendarModule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarModule.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarModule.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarModule.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarModule.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapCalendarModule.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapErrors.js">calendar/providers/wcap/calWcapErrors.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapErrors.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapErrors.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapErrors.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapErrors.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapErrors.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapRequest.js">calendar/providers/wcap/calWcapRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapRequest.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapRequest.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapRequest.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapRequest.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapRequest.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapSession.js">calendar/providers/wcap/calWcapSession.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapSession.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapSession.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapSession.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapSession.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapSession.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapUtils.js">calendar/providers/wcap/calWcapUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapUtils.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapUtils.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapUtils.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapUtils.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/providers/wcap/calWcapUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.js">calendar/resources/content/datetimepickers/datetimepickers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.xml">calendar/resources/content/datetimepickers/datetimepickers.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.xml">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.xml">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.xml">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.xml">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/datetimepickers/datetimepickers.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/mouseoverPreviews.js">calendar/resources/content/mouseoverPreviews.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/mouseoverPreviews.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/mouseoverPreviews.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/mouseoverPreviews.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/mouseoverPreviews.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/mouseoverPreviews.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publish.js">calendar/resources/content/publish.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publish.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publish.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publish.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publish.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publish.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publishDialog.js">calendar/resources/content/publishDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publishDialog.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publishDialog.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publishDialog.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publishDialog.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/resources/content/publishDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/.eslintrc.js">calendar/test/mozmill/.eslintrc.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/.eslintrc.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/.eslintrc.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/.eslintrc.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/.eslintrc.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/.eslintrc.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/eventDialog/testEventDialog.js">calendar/test/mozmill/eventDialog/testEventDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/eventDialog/testEventDialog.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/eventDialog/testEventDialog.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/eventDialog/testEventDialog.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/eventDialog/testEventDialog.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/eventDialog/testEventDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/invitations/test-imip-bar-eml.js">calendar/test/mozmill/invitations/test-imip-bar-eml.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/invitations/test-imip-bar-eml.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/invitations/test-imip-bar-eml.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/invitations/test-imip-bar-eml.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/invitations/test-imip-bar-eml.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/invitations/test-imip-bar-eml.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-calendar-utils.js">calendar/test/mozmill/shared-modules/test-calendar-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-calendar-utils.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-calendar-utils.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-calendar-utils.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-calendar-utils.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-calendar-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">calendar/test/mozmill/shared-modules/test-item-editing-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/testAlarmDefaultValue.js">calendar/test/mozmill/testAlarmDefaultValue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/testAlarmDefaultValue.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/testAlarmDefaultValue.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/testAlarmDefaultValue.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/testAlarmDefaultValue.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/testAlarmDefaultValue.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/views/testTaskView.js">calendar/test/mozmill/views/testTaskView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/views/testTaskView.js">file</a> |
<a href="/comm-central/annotate/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/views/testTaskView.js">annotate</a> |
<a href="/comm-central/diff/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/views/testTaskView.js">diff</a> |
<a href="/comm-central/comparison/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/views/testTaskView.js">comparison</a> |
<a href="/comm-central/log/264e469aa3dfc919d7adf5cb82a0e3ae8886197c/calendar/test/mozmill/views/testTaskView.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/.eslintignore</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/.eslintignore</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -59,11 +59,13 @@ mail/branding/thunderbird/thunderbird-br</span>
<a href="#l1.4"></a><span id="l1.4"> mail/components/im/all-im.js</span>
<a href="#l1.5"></a><span id="l1.5"> mail/locales/en-US/all-l10n.js</span>
<a href="#l1.6"></a><span id="l1.6"> mail/test/mozmill/**</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> # calendar/ exclusions</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10"> # prefs files</span>
<a href="#l1.11"></a><span id="l1.11"> calendar/lightning/content/lightning.js</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+calendar/providers/gdata/defaults/preferences.js</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+calendar/timezones/preferences.js</span>
<a href="#l1.14"></a><span id="l1.14"> </span>
<a href="#l1.15"></a><span id="l1.15"> # third party library</span>
<a href="#l1.16"></a><span id="l1.16"> calendar/base/modules/ical.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/.eslintrc.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/.eslintrc.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -290,19 +290,16 @@ module.exports = {</span>
<a href="#l2.4"></a><span id="l2.4">         &quot;no-multi-str&quot;: 2,</span>
<a href="#l2.5"></a><span id="l2.5"> </span>
<a href="#l2.6"></a><span id="l2.6">         // Disallow Symbol Constructor</span>
<a href="#l2.7"></a><span id="l2.7">         &quot;no-new-symbol&quot;: 2,</span>
<a href="#l2.8"></a><span id="l2.8"> </span>
<a href="#l2.9"></a><span id="l2.9">         // Disallow Initializing to undefined</span>
<a href="#l2.10"></a><span id="l2.10">         &quot;no-undef-init&quot;: 2,</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-        // Don't Disallow Undeclared Variables (for now)</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-        &quot;no-undef&quot;: 0,</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-</span>
<a href="#l2.15"></a><span id="l2.15">         // Disallow control flow statements in finally blocks</span>
<a href="#l2.16"></a><span id="l2.16">         &quot;no-unsafe-finally&quot;: 2,</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18">         // Disallow Unused Labels</span>
<a href="#l2.19"></a><span id="l2.19">         &quot;no-unused-labels&quot;: 2,</span>
<a href="#l2.20"></a><span id="l2.20"> </span>
<a href="#l2.21"></a><span id="l2.21">         // Disallow unnecessary computed property keys on objects</span>
<a href="#l2.22"></a><span id="l2.22">         &quot;no-useless-computed-key&quot;: 2,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/backend/calBackendLoader.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/backend/calBackendLoader.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -63,14 +63,14 @@ calBackendLoader.prototype = {</span>
<a href="#l3.4"></a><span id="l3.4"> function lazyFactoryFor(backendScope, classID) {</span>
<a href="#l3.5"></a><span id="l3.5">     return {</span>
<a href="#l3.6"></a><span id="l3.6">         createInstance: function(aOuter, aIID) {</span>
<a href="#l3.7"></a><span id="l3.7">             let realFactory = backendScope.NSGetFactory(classID);</span>
<a href="#l3.8"></a><span id="l3.8">             return realFactory.createInstance(aOuter, aIID);</span>
<a href="#l3.9"></a><span id="l3.9">         },</span>
<a href="#l3.10"></a><span id="l3.10">         lockFactory: function(lock) {</span>
<a href="#l3.11"></a><span id="l3.11">             let realFactory = backendScope.NSGetFactory(classID);</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-            return realFactory.lockFactory(aOuter, aIID);</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+            return realFactory.lockFactory(lock);</span>
<a href="#l3.14"></a><span id="l3.14">         }</span>
<a href="#l3.15"></a><span id="l3.15">     };</span>
<a href="#l3.16"></a><span id="l3.16"> }</span>
<a href="#l3.17"></a><span id="l3.17"> </span>
<a href="#l3.18"></a><span id="l3.18"> this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calBackendLoader]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calDateTime.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calDateTime.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l4.4"></a><span id="l4.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.5"></a><span id="l4.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.6"></a><span id="l4.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8" class="difflineplus">+/* import-globals-from calICALJSComponents.js */</span>
<a href="#l4.9"></a><span id="l4.9" class="difflineplus">+</span>
<a href="#l4.10"></a><span id="l4.10"> var { ICAL, unwrap, unwrapSetter } = ChromeUtils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12"> var UNIX_TIME_TO_PRTIME = 1000000;</span>
<a href="#l4.13"></a><span id="l4.13"> </span>
<a href="#l4.14"></a><span id="l4.14"> function calDateTime(innerObject) {</span>
<a href="#l4.15"></a><span id="l4.15">     this.wrappedJSObject = this;</span>
<a href="#l4.16"></a><span id="l4.16">     this.innerObject = innerObject || ICAL.Time.epochTime.clone();</span>
<a href="#l4.17"></a><span id="l4.17"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calICALJSComponents.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calICALJSComponents.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,12 +1,19 @@</span>
<a href="#l5.4"></a><span id="l5.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.5"></a><span id="l5.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.6"></a><span id="l5.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8" class="difflineplus">+/* import-globals-from ../../src/calTimezone.js */</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineplus">+/* import-globals-from calDateTime.js */</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineplus">+/* import-globals-from calDuration.js */</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineplus">+/* import-globals-from calICSService.js */</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+/* import-globals-from calPeriod.js */</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+/* import-globals-from calRecurrenceRule.js */</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+</span>
<a href="#l5.15"></a><span id="l5.15"> var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l5.16"></a><span id="l5.16"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l5.17"></a><span id="l5.17"> </span>
<a href="#l5.18"></a><span id="l5.18"> this.NSGetFactory = (cid) =&gt; {</span>
<a href="#l5.19"></a><span id="l5.19">     let scriptLoadOrder = [</span>
<a href="#l5.20"></a><span id="l5.20">         &quot;resource://calendar/calendar-js/calTimezone.js&quot;,</span>
<a href="#l5.21"></a><span id="l5.21">         &quot;resource://calendar/calendar-js/calDateTime.js&quot;,</span>
<a href="#l5.22"></a><span id="l5.22">         &quot;resource://calendar/calendar-js/calDuration.js&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calICSService-worker.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calICSService-worker.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1,19 +1,23 @@</span>
<a href="#l6.4"></a><span id="l6.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.5"></a><span id="l6.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.6"></a><span id="l6.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8"> /**</span>
<a href="#l6.9"></a><span id="l6.9">  * ChromeWorker for parseICSAsync method in calICSService.js</span>
<a href="#l6.10"></a><span id="l6.10">  */</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+/* eslint-env worker */</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+/* import-globals-from ../../modules/ical.js */</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+</span>
<a href="#l6.15"></a><span id="l6.15"> var NS_OK = 0;</span>
<a href="#l6.16"></a><span id="l6.16"> var NS_ERROR_FAILURE = 2147500037;</span>
<a href="#l6.17"></a><span id="l6.17"> </span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+// eslint-disable-next-line no-unused-vars</span>
<a href="#l6.19"></a><span id="l6.19"> importScripts(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l6.20"></a><span id="l6.20"> </span>
<a href="#l6.21"></a><span id="l6.21"> onmessage = function(event) {</span>
<a href="#l6.22"></a><span id="l6.22">     try {</span>
<a href="#l6.23"></a><span id="l6.23">         let comp = ICAL.parse(event.data);</span>
<a href="#l6.24"></a><span id="l6.24">         postMessage({ rc: NS_OK, data: comp });</span>
<a href="#l6.25"></a><span id="l6.25">     } catch (e) {</span>
<a href="#l6.26"></a><span id="l6.26">         postMessage({ rc: NS_ERROR_FAILURE, data: &quot;Exception occurred: &quot; + e });</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calICSService.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calICSService.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l7.4"></a><span id="l7.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.5"></a><span id="l7.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.6"></a><span id="l7.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8" class="difflineplus">+/* import-globals-from calICALJSComponents.js */</span>
<a href="#l7.9"></a><span id="l7.9" class="difflineplus">+</span>
<a href="#l7.10"></a><span id="l7.10"> var { ICAL, unwrapSetter, unwrapSingle, wrapGetter } = ChromeUtils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l7.11"></a><span id="l7.11"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l7.12"></a><span id="l7.12"> </span>
<a href="#l7.13"></a><span id="l7.13"> function calIcalProperty(innerObject) {</span>
<a href="#l7.14"></a><span id="l7.14">     this.innerObject = innerObject || new ICAL.Property();</span>
<a href="#l7.15"></a><span id="l7.15">     this.wrappedJSObject = this;</span>
<a href="#l7.16"></a><span id="l7.16"> }</span>
<a href="#l7.17"></a><span id="l7.17"> </span>
<a href="#l7.18"></a><span id="l7.18" class="difflineat">@@ -456,17 +458,17 @@ calICSService.prototype = {</span>
<a href="#l7.19"></a><span id="l7.19">             let worker = new ChromeWorker(&quot;resource://calendar/calendar-js/calICSService-worker.js&quot;);</span>
<a href="#l7.20"></a><span id="l7.20">             worker.onmessage = function(event) {</span>
<a href="#l7.21"></a><span id="l7.21">                 let rc = Cr.NS_ERROR_FAILURE;</span>
<a href="#l7.22"></a><span id="l7.22">                 let icalComp = null;</span>
<a href="#l7.23"></a><span id="l7.23">                 try {</span>
<a href="#l7.24"></a><span id="l7.24">                     rc = event.data.rc;</span>
<a href="#l7.25"></a><span id="l7.25">                     icalComp = new calIcalComponent(new ICAL.Component(event.data.data));</span>
<a href="#l7.26"></a><span id="l7.26">                     if (!Components.isSuccessCode(rc)) {</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineminus">-                        cal.ERROR(&quot;[calICSService] Error in parser worker: &quot; + data);</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineplus">+                        cal.ERROR(&quot;[calICSService] Error in parser worker: &quot; + event.data);</span>
<a href="#l7.29"></a><span id="l7.29">                     }</span>
<a href="#l7.30"></a><span id="l7.30">                 } catch (e) {</span>
<a href="#l7.31"></a><span id="l7.31">                     cal.ERROR(&quot;[calICSService] Exception parsing item: &quot; + e);</span>
<a href="#l7.32"></a><span id="l7.32">                 }</span>
<a href="#l7.33"></a><span id="l7.33"> </span>
<a href="#l7.34"></a><span id="l7.34">                 listener.onParsingComplete(rc, icalComp);</span>
<a href="#l7.35"></a><span id="l7.35">             };</span>
<a href="#l7.36"></a><span id="l7.36">             worker.onerror = function(event) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calPeriod.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calPeriod.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l8.4"></a><span id="l8.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.5"></a><span id="l8.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.6"></a><span id="l8.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8" class="difflineplus">+/* import-globals-from calICALJSComponents.js */</span>
<a href="#l8.9"></a><span id="l8.9" class="difflineplus">+</span>
<a href="#l8.10"></a><span id="l8.10"> var { ICAL, unwrapSetter, wrapGetter } = ChromeUtils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12"> function calPeriod(innerObject) {</span>
<a href="#l8.13"></a><span id="l8.13">     this.innerObject = innerObject || new ICAL.Period({});</span>
<a href="#l8.14"></a><span id="l8.14">     this.wrappedJSObject = this;</span>
<a href="#l8.15"></a><span id="l8.15"> }</span>
<a href="#l8.16"></a><span id="l8.16"> </span>
<a href="#l8.17"></a><span id="l8.17"> calPeriod.prototype = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calRecurrenceRule.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calRecurrenceRule.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l9.4"></a><span id="l9.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.5"></a><span id="l9.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.6"></a><span id="l9.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8" class="difflineplus">+/* import-globals-from calICALJSComponents.js */</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineplus">+</span>
<a href="#l9.10"></a><span id="l9.10"> var { ICAL, unwrapSetter, unwrapSingle, wrapGetter } = ChromeUtils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l9.11"></a><span id="l9.11"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l9.12"></a><span id="l9.12"> </span>
<a href="#l9.13"></a><span id="l9.13"> function calRecurrenceRule(innerObject) {</span>
<a href="#l9.14"></a><span id="l9.14">     this.innerObject = innerObject || new ICAL.Recur();</span>
<a href="#l9.15"></a><span id="l9.15">     this.wrappedJSObject = this;</span>
<a href="#l9.16"></a><span id="l9.16"> }</span>
<a href="#l9.17"></a><span id="l9.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/agenda-listbox.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/agenda-listbox.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,12 +1,18 @@</span>
<a href="#l10.4"></a><span id="l10.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.5"></a><span id="l10.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.6"></a><span id="l10.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.7"></a><span id="l10.7"> </span>
<a href="#l10.8"></a><span id="l10.8" class="difflineplus">+/* import-globals-from calendar-common-sets.js */</span>
<a href="#l10.9"></a><span id="l10.9" class="difflineplus">+/* import-globals-from calendar-item-editing.js */</span>
<a href="#l10.10"></a><span id="l10.10" class="difflineplus">+/* import-globals-from calendar-management.js */</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineplus">+/* import-globals-from calendar-ui-utils.js */</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+/* import-globals-from calendar-views.js */</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+</span>
<a href="#l10.14"></a><span id="l10.14"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l10.15"></a><span id="l10.15"> </span>
<a href="#l10.16"></a><span id="l10.16"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l10.17"></a><span id="l10.17"> </span>
<a href="#l10.18"></a><span id="l10.18"> function Synthetic(aHeader, aDuration, aMultiday) {</span>
<a href="#l10.19"></a><span id="l10.19">     this.open = aHeader.getAttribute(&quot;checked&quot;) == &quot;true&quot;;</span>
<a href="#l10.20"></a><span id="l10.20">     this.duration = aDuration;</span>
<a href="#l10.21"></a><span id="l10.21">     this.multiday = aMultiday;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/content/agenda-listbox.xml</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/content/agenda-listbox.xml</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1,13 +1,17 @@</span>
<a href="#l11.4"></a><span id="l11.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l11.5"></a><span id="l11.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.6"></a><span id="l11.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.7"></a><span id="l11.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l11.8"></a><span id="l11.8"> </span>
<a href="#l11.9"></a><span id="l11.9" class="difflineplus">+&lt;!-- import-globals-from ../../resources/content/mouseoverPreviews.js --&gt;</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineplus">+&lt;!-- import-globals-from agenda-listbox.js --&gt;</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineplus">+&lt;!-- import-globals-from calendar-dnd-listener.js --&gt;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+</span>
<a href="#l11.13"></a><span id="l11.13"> &lt;bindings id=&quot;agenda-list-bindings&quot;</span>
<a href="#l11.14"></a><span id="l11.14">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l11.15"></a><span id="l11.15">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l11.16"></a><span id="l11.16">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l11.17"></a><span id="l11.17"> </span>
<a href="#l11.18"></a><span id="l11.18">   &lt;binding id=&quot;agenda-base-richlist-item&quot;</span>
<a href="#l11.19"></a><span id="l11.19">            extends=&quot;chrome://global/content/bindings/richlistbox.xml#richlistitem&quot;&gt;</span>
<a href="#l11.20"></a><span id="l11.20">     &lt;implementation&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/content/calendar-base-view.xml</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/content/calendar-base-view.xml</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l12.4"></a><span id="l12.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l12.5"></a><span id="l12.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.6"></a><span id="l12.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.7"></a><span id="l12.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l12.8"></a><span id="l12.8"> </span>
<a href="#l12.9"></a><span id="l12.9" class="difflineplus">+&lt;!-- import-globals-from calendar-views.js --&gt;</span>
<a href="#l12.10"></a><span id="l12.10" class="difflineplus">+</span>
<a href="#l12.11"></a><span id="l12.11"> &lt;bindings id=&quot;calendar-multiday-view-bindings&quot;</span>
<a href="#l12.12"></a><span id="l12.12">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l12.13"></a><span id="l12.13">           xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l12.14"></a><span id="l12.14">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l12.15"></a><span id="l12.15">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l12.16"></a><span id="l12.16"> </span>
<a href="#l12.17"></a><span id="l12.17">   &lt;binding id=&quot;calendar-base-view&quot;&gt;</span>
<a href="#l12.18"></a><span id="l12.18">     &lt;implementation&gt;</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineat">@@ -733,16 +735,17 @@</span>
<a href="#l12.20"></a><span id="l12.20">         ]]&gt;&lt;/body&gt;</span>
<a href="#l12.21"></a><span id="l12.21">       &lt;/method&gt;</span>
<a href="#l12.22"></a><span id="l12.22"> </span>
<a href="#l12.23"></a><span id="l12.23">       &lt;method name=&quot;getDateList&quot;&gt;</span>
<a href="#l12.24"></a><span id="l12.24">         &lt;parameter name=&quot;aCount&quot;/&gt;</span>
<a href="#l12.25"></a><span id="l12.25">         &lt;parameter name=&quot;aDates&quot;/&gt;</span>
<a href="#l12.26"></a><span id="l12.26">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.27"></a><span id="l12.27">             let start = this.startDate.clone();</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineplus">+            let dates = [];</span>
<a href="#l12.29"></a><span id="l12.29">             while (start.compare(this.endDate) &lt;= 0) {</span>
<a href="#l12.30"></a><span id="l12.30">                 dates.push(start);</span>
<a href="#l12.31"></a><span id="l12.31">                 start.day++;</span>
<a href="#l12.32"></a><span id="l12.32">             }</span>
<a href="#l12.33"></a><span id="l12.33">             aCount.value = dates.length;</span>
<a href="#l12.34"></a><span id="l12.34">             return dates;</span>
<a href="#l12.35"></a><span id="l12.35">         ]]&gt;&lt;/body&gt;</span>
<a href="#l12.36"></a><span id="l12.36">       &lt;/method&gt;</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineat">@@ -783,16 +786,17 @@</span>
<a href="#l12.38"></a><span id="l12.38">               case &quot;PageDown&quot;:</span>
<a href="#l12.39"></a><span id="l12.39">                   this.moveView(1);</span>
<a href="#l12.40"></a><span id="l12.40">                   break;</span>
<a href="#l12.41"></a><span id="l12.41">           }</span>
<a href="#l12.42"></a><span id="l12.42">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l12.43"></a><span id="l12.43">       &lt;handler event=&quot;wheel&quot;&gt;&lt;![CDATA[</span>
<a href="#l12.44"></a><span id="l12.44">           const pixelThreshold = 150;</span>
<a href="#l12.45"></a><span id="l12.45">           if (event.shiftKey &amp;&amp; Services.prefs.getBoolPref(&quot;calendar.view.mousescroll&quot;, true)) {</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineplus">+              let deltaView = 0;</span>
<a href="#l12.47"></a><span id="l12.47">               if (event.deltaMode == event.DOM_DELTA_LINE) {</span>
<a href="#l12.48"></a><span id="l12.48">                   if (event.deltaY != 0) {</span>
<a href="#l12.49"></a><span id="l12.49">                       deltaView = event.deltaY &lt; 0 ? -1 : 1;</span>
<a href="#l12.50"></a><span id="l12.50">                   }</span>
<a href="#l12.51"></a><span id="l12.51">               } else if (event.deltaMode == event.DOM_DELTA_PIXEL) {</span>
<a href="#l12.52"></a><span id="l12.52">                   this.mPixelScrollDelta += event.deltaY;</span>
<a href="#l12.53"></a><span id="l12.53">                   if (this.mPixelScrollDelta &gt; pixelThreshold) {</span>
<a href="#l12.54"></a><span id="l12.54">                       deltaView = 1;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/base/content/calendar-chrome-startup.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/base/content/calendar-chrome-startup.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -1,12 +1,19 @@</span>
<a href="#l13.4"></a><span id="l13.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l13.5"></a><span id="l13.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l13.6"></a><span id="l13.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8" class="difflineplus">+/* import-globals-from ../../lightning/content/messenger-overlay-sidebar.js */</span>
<a href="#l13.9"></a><span id="l13.9" class="difflineplus">+/* import-globals-from calendar-common-sets.js */</span>
<a href="#l13.10"></a><span id="l13.10" class="difflineplus">+/* import-globals-from calendar-management.js */</span>
<a href="#l13.11"></a><span id="l13.11" class="difflineplus">+/* import-globals-from calendar-unifinder-todo.js */</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+/* import-globals-from calendar-ui-utils.js */</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+/* import-globals-from calendar-views.js */</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+</span>
<a href="#l13.15"></a><span id="l13.15"> var { fixIterator } = ChromeUtils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l13.16"></a><span id="l13.16"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l13.17"></a><span id="l13.17"> var { AppConstants } = ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l13.18"></a><span id="l13.18"> </span>
<a href="#l13.19"></a><span id="l13.19"> /* exported commonInitCalendar, commonFinishCalendar */</span>
<a href="#l13.20"></a><span id="l13.20"> </span>
<a href="#l13.21"></a><span id="l13.21"> /**</span>
<a href="#l13.22"></a><span id="l13.22">  * Common initialization steps for calendar chrome windows.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/base/content/calendar-clipboard.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/base/content/calendar-clipboard.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -1,12 +1,17 @@</span>
<a href="#l14.4"></a><span id="l14.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.5"></a><span id="l14.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.6"></a><span id="l14.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8" class="difflineplus">+/* import-globals-from calendar-common-sets.js */</span>
<a href="#l14.9"></a><span id="l14.9" class="difflineplus">+/* import-globals-from calendar-item-editing.js */</span>
<a href="#l14.10"></a><span id="l14.10" class="difflineplus">+/* import-globals-from calendar-management.js */</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineplus">+/* import-globals-from calendar-views.js */</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+</span>
<a href="#l14.13"></a><span id="l14.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l14.14"></a><span id="l14.14"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l14.15"></a><span id="l14.15"> </span>
<a href="#l14.16"></a><span id="l14.16"> /* exported cutToClipboard, pasteFromClipboard */</span>
<a href="#l14.17"></a><span id="l14.17"> </span>
<a href="#l14.18"></a><span id="l14.18"> /**</span>
<a href="#l14.19"></a><span id="l14.19">  * Test if a writable calendar is selected, and if the clipboard has items that</span>
<a href="#l14.20"></a><span id="l14.20">  * can be pasted into Calendar. The data must be of type &quot;text/calendar&quot; or</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/base/content/calendar-common-sets.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/base/content/calendar-common-sets.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -1,12 +1,24 @@</span>
<a href="#l15.4"></a><span id="l15.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l15.5"></a><span id="l15.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l15.6"></a><span id="l15.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8" class="difflineplus">+/* import-globals-from ../../../../toolkit/content/globalOverlay.js */</span>
<a href="#l15.9"></a><span id="l15.9" class="difflineplus">+/* import-globals-from ../../lightning/content/messenger-overlay-sidebar.js */</span>
<a href="#l15.10"></a><span id="l15.10" class="difflineplus">+/* import-globals-from ../../resources/content/publish.js */</span>
<a href="#l15.11"></a><span id="l15.11" class="difflineplus">+/* import-globals-from agenda-listbox.js */</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+/* import-globals-from calendar-clipboard.js */</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+/* import-globals-from calendar-management.js */</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+/* import-globals-from calendar-task-tree.js */</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineplus">+/* import-globals-from calendar-ui-utils.js */</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineplus">+/* import-globals-from calendar-unifinder.js */</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineplus">+/* import-globals-from calendar-views.js */</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineplus">+/* import-globals-from import-export.js */</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineplus">+</span>
<a href="#l15.20"></a><span id="l15.20"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l15.21"></a><span id="l15.21"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l15.22"></a><span id="l15.22"> </span>
<a href="#l15.23"></a><span id="l15.23"> /* exported injectCalendarCommandController, removeCalendarCommandController,</span>
<a href="#l15.24"></a><span id="l15.24">  *          setupContextItemType, minimonthPick, getSelectedItems,</span>
<a href="#l15.25"></a><span id="l15.25">  *          deleteSelectedItems, calendarUpdateNewItemsCommand</span>
<a href="#l15.26"></a><span id="l15.26">  */</span>
<a href="#l15.27"></a><span id="l15.27"> </span>
<a href="#l15.28"></a><span id="l15.28" class="difflineat">@@ -444,17 +456,17 @@ var calendarController = {</span>
<a href="#l15.29"></a><span id="l15.29"> </span>
<a href="#l15.30"></a><span id="l15.30">     isCalendarInForeground: function() {</span>
<a href="#l15.31"></a><span id="l15.31">         return gCurrentMode &amp;&amp; gCurrentMode != &quot;mail&quot;;</span>
<a href="#l15.32"></a><span id="l15.32">     },</span>
<a href="#l15.33"></a><span id="l15.33"> </span>
<a href="#l15.34"></a><span id="l15.34">     isInMode: function(mode) {</span>
<a href="#l15.35"></a><span id="l15.35">         switch (mode) {</span>
<a href="#l15.36"></a><span id="l15.36">             case &quot;mail&quot;:</span>
<a href="#l15.37"></a><span id="l15.37" class="difflineminus">-                return !isCalendarInForeground();</span>
<a href="#l15.38"></a><span id="l15.38" class="difflineplus">+                return !this.isCalendarInForeground();</span>
<a href="#l15.39"></a><span id="l15.39">             case &quot;calendar&quot;:</span>
<a href="#l15.40"></a><span id="l15.40">                 return gCurrentMode &amp;&amp; gCurrentMode == &quot;calendar&quot;;</span>
<a href="#l15.41"></a><span id="l15.41">             case &quot;task&quot;:</span>
<a href="#l15.42"></a><span id="l15.42">                 return gCurrentMode &amp;&amp; gCurrentMode == &quot;task&quot;;</span>
<a href="#l15.43"></a><span id="l15.43">         }</span>
<a href="#l15.44"></a><span id="l15.44">         return false;</span>
<a href="#l15.45"></a><span id="l15.45">     },</span>
<a href="#l15.46"></a><span id="l15.46"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/base/content/calendar-dnd-listener.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/base/content/calendar-dnd-listener.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -1,12 +1,17 @@</span>
<a href="#l16.4"></a><span id="l16.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.5"></a><span id="l16.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.6"></a><span id="l16.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l16.7"></a><span id="l16.7"> </span>
<a href="#l16.8"></a><span id="l16.8" class="difflineplus">+/* import-globals-from ../../../mail/base/content/nsDragAndDrop.js */</span>
<a href="#l16.9"></a><span id="l16.9" class="difflineplus">+/* import-globals-from calendar-item-editing.js */</span>
<a href="#l16.10"></a><span id="l16.10" class="difflineplus">+/* import-globals-from calendar-management.js */</span>
<a href="#l16.11"></a><span id="l16.11" class="difflineplus">+/* import-globals-from import-export.js */</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+</span>
<a href="#l16.13"></a><span id="l16.13"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l16.14"></a><span id="l16.14"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l16.15"></a><span id="l16.15"> var { AppConstants } = ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l16.16"></a><span id="l16.16"> </span>
<a href="#l16.17"></a><span id="l16.17"> /* exported invokeEventDragSession, calendarViewDNDObserver,</span>
<a href="#l16.18"></a><span id="l16.18">  *          calendarMailButtonDNDObserver, calendarCalendarButtonDNDObserver,</span>
<a href="#l16.19"></a><span id="l16.19">  *          calendarTaskButtonDNDObserver</span>
<a href="#l16.20"></a><span id="l16.20">  */</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineat">@@ -319,19 +324,21 @@ calDNDBaseObserver.prototype = {</span>
<a href="#l16.22"></a><span id="l16.22">                 try {</span>
<a href="#l16.23"></a><span id="l16.23">                     loader.init(listener);</span>
<a href="#l16.24"></a><span id="l16.24">                     channel.asyncOpen(loader);</span>
<a href="#l16.25"></a><span id="l16.25">                 } catch (e) {</span>
<a href="#l16.26"></a><span id="l16.26">                     cal.ERROR(e);</span>
<a href="#l16.27"></a><span id="l16.27">                 }</span>
<a href="#l16.28"></a><span id="l16.28">                 break;</span>
<a href="#l16.29"></a><span id="l16.29">             }</span>
<a href="#l16.30"></a><span id="l16.30" class="difflineminus">-            case &quot;text/x-moz-message&quot;:</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineplus">+            case &quot;text/x-moz-message&quot;: {</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineplus">+                let messenger = Cc[&quot;@mozilla.org/messenger;1&quot;].createInstance(Ci.nsIMessenger);</span>
<a href="#l16.33"></a><span id="l16.33">                 this.onDropMessage(messenger.msgHdrFromURI(data));</span>
<a href="#l16.34"></a><span id="l16.34">                 break;</span>
<a href="#l16.35"></a><span id="l16.35" class="difflineplus">+            }</span>
<a href="#l16.36"></a><span id="l16.36">             default:</span>
<a href="#l16.37"></a><span id="l16.37">                 cal.ASSERT(false, &quot;unknown data flavour:&quot; + bestFlavor.value+&quot;\n&quot;);</span>
<a href="#l16.38"></a><span id="l16.38">                 break;</span>
<a href="#l16.39"></a><span id="l16.39">         }</span>
<a href="#l16.40"></a><span id="l16.40">     },</span>
<a href="#l16.41"></a><span id="l16.41"> </span>
<a href="#l16.42"></a><span id="l16.42">     onDragStart: function(aEvent, aTransferData, aDragAction) {},</span>
<a href="#l16.43"></a><span id="l16.43">     onDragOver: function(aEvent, aFlavor, aDragSession) {},</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/base/content/calendar-extract.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/base/content/calendar-extract.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -1,12 +1,15 @@</span>
<a href="#l17.4"></a><span id="l17.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.5"></a><span id="l17.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.6"></a><span id="l17.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l17.7"></a><span id="l17.7"> </span>
<a href="#l17.8"></a><span id="l17.8" class="difflineplus">+/* import-globals-from ../../../mail/base/content/msgMail3PaneWindow.js */</span>
<a href="#l17.9"></a><span id="l17.9" class="difflineplus">+/* import-globals-from calendar-item-editing.js */</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineplus">+</span>
<a href="#l17.11"></a><span id="l17.11"> var { Extractor } = ChromeUtils.import(&quot;resource://calendar/modules/calExtract.jsm&quot;);</span>
<a href="#l17.12"></a><span id="l17.12"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l17.13"></a><span id="l17.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l17.14"></a><span id="l17.14"> </span>
<a href="#l17.15"></a><span id="l17.15"> var calendarExtract = {</span>
<a href="#l17.16"></a><span id="l17.16">     onShowLocaleMenu: function(target) {</span>
<a href="#l17.17"></a><span id="l17.17">         let localeList = document.getElementById(target.id);</span>
<a href="#l17.18"></a><span id="l17.18">         let langs = [];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/base/content/calendar-item-bindings.xml</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/base/content/calendar-item-bindings.xml</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l18.4"></a><span id="l18.4"> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l18.5"></a><span id="l18.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l18.6"></a><span id="l18.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l18.7"></a><span id="l18.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l18.8"></a><span id="l18.8"> </span>
<a href="#l18.9"></a><span id="l18.9" class="difflineplus">+&lt;!-- globals cal --&gt;</span>
<a href="#l18.10"></a><span id="l18.10" class="difflineplus">+</span>
<a href="#l18.11"></a><span id="l18.11"> &lt;!DOCTYPE bindings SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot;&gt;</span>
<a href="#l18.12"></a><span id="l18.12"> </span>
<a href="#l18.13"></a><span id="l18.13"> &lt;bindings id=&quot;calendar-item-bindings&quot;</span>
<a href="#l18.14"></a><span id="l18.14">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l18.15"></a><span id="l18.15">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l18.16"></a><span id="l18.16">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l18.17"></a><span id="l18.17"> </span>
<a href="#l18.18"></a><span id="l18.18">   &lt;binding id=&quot;item-date-row&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/base/content/calendar-item-editing.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/base/content/calendar-item-editing.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,12 +1,15 @@</span>
<a href="#l19.4"></a><span id="l19.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.5"></a><span id="l19.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.6"></a><span id="l19.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8" class="difflineplus">+/* import-globals-from calendar-management.js */</span>
<a href="#l19.9"></a><span id="l19.9" class="difflineplus">+/* import-globals-from calendar-views.js */</span>
<a href="#l19.10"></a><span id="l19.10" class="difflineplus">+</span>
<a href="#l19.11"></a><span id="l19.11"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l19.12"></a><span id="l19.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l19.13"></a><span id="l19.13"> </span>
<a href="#l19.14"></a><span id="l19.14"> /* exported modifyEventWithDialog, undo, redo, setContextPartstat */</span>
<a href="#l19.15"></a><span id="l19.15"> </span>
<a href="#l19.16"></a><span id="l19.16"> /**</span>
<a href="#l19.17"></a><span id="l19.17">  * Takes a job and makes sure the dispose function on it is called. If there is</span>
<a href="#l19.18"></a><span id="l19.18">  * no dispose function or the job is null, ignore it.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/base/content/calendar-management.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/base/content/calendar-management.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -4,16 +4,20 @@</span>
<a href="#l20.4"></a><span id="l20.4"> </span>
<a href="#l20.5"></a><span id="l20.5"> /* exported promptDeleteCalendar, loadCalendarManager, unloadCalendarManager,</span>
<a href="#l20.6"></a><span id="l20.6">  *         updateSortOrderPref, calendarListTooltipShowing,</span>
<a href="#l20.7"></a><span id="l20.7">  *         calendarListSetupContextMenu, ensureCalendarVisible, toggleCalendarVisible,</span>
<a href="#l20.8"></a><span id="l20.8">  *         showAllCalendars, showOnlyCalendar, openCalendarSubscriptionsDialog,</span>
<a href="#l20.9"></a><span id="l20.9">  *         calendarOfflineManager</span>
<a href="#l20.10"></a><span id="l20.10">  */</span>
<a href="#l20.11"></a><span id="l20.11"> </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+/* import-globals-from dialogs/calendar-migration-dialog.js */</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+/* import-globals-from calendar-common-sets.js */</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+/* import-globals-from calendar-ui-utils.js */</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+</span>
<a href="#l20.16"></a><span id="l20.16"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l20.17"></a><span id="l20.17"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l20.18"></a><span id="l20.18"> </span>
<a href="#l20.19"></a><span id="l20.19"> /**</span>
<a href="#l20.20"></a><span id="l20.20">  * Get this window's currently selected calendar.</span>
<a href="#l20.21"></a><span id="l20.21">  *</span>
<a href="#l20.22"></a><span id="l20.22">  * @return      The currently selected calendar.</span>
<a href="#l20.23"></a><span id="l20.23">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/calendar/base/content/calendar-menus.xml</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/calendar/base/content/calendar-menus.xml</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l21.4"></a><span id="l21.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l21.5"></a><span id="l21.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l21.6"></a><span id="l21.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l21.7"></a><span id="l21.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l21.8"></a><span id="l21.8"> </span>
<a href="#l21.9"></a><span id="l21.9" class="difflineplus">+&lt;!-- import-globals-from calendar-task-tree.js --&gt;</span>
<a href="#l21.10"></a><span id="l21.10" class="difflineplus">+</span>
<a href="#l21.11"></a><span id="l21.11"> &lt;!DOCTYPE bindings SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot;&gt;</span>
<a href="#l21.12"></a><span id="l21.12"> </span>
<a href="#l21.13"></a><span id="l21.13"> &lt;bindings id=&quot;calendar-menu-bindings&quot;</span>
<a href="#l21.14"></a><span id="l21.14">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l21.15"></a><span id="l21.15">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l21.16"></a><span id="l21.16">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l21.17"></a><span id="l21.17"> </span>
<a href="#l21.18"></a><span id="l21.18">   &lt;binding id=&quot;task-menupopup&quot;&gt;</span>
<a href="#l21.19"></a><span id="l21.19" class="difflineat">@@ -39,19 +41,20 @@</span>
<a href="#l21.20"></a><span id="l21.20">                 let commandName = item.getAttribute(&quot;command&quot;);</span>
<a href="#l21.21"></a><span id="l21.21">                 let command = document.getElementById(commandName);</span>
<a href="#l21.22"></a><span id="l21.22">                 if (command) {</span>
<a href="#l21.23"></a><span id="l21.23">                     command.setAttribute(&quot;checked&quot;, &quot;false&quot;);</span>
<a href="#l21.24"></a><span id="l21.24">                     item.setAttribute(&quot;checked&quot;, &quot;false&quot;);</span>
<a href="#l21.25"></a><span id="l21.25">                 }</span>
<a href="#l21.26"></a><span id="l21.26">             }</span>
<a href="#l21.27"></a><span id="l21.27">             let propertyValue;</span>
<a href="#l21.28"></a><span id="l21.28" class="difflineplus">+            // eslint-disable-next-line no-undef</span>
<a href="#l21.29"></a><span id="l21.29">             if (gTabmail &amp;&amp; gTabmail.currentTabInfo.mode.type == &quot;calendarTask&quot;) {</span>
<a href="#l21.30"></a><span id="l21.30">                 // We are in a task tab (editing a single task).</span>
<a href="#l21.31"></a><span id="l21.31" class="difflineminus">-                propertyValue = gConfig[this.mType];</span>
<a href="#l21.32"></a><span id="l21.32" class="difflineplus">+                propertyValue = gConfig[this.mType]; // eslint-disable-line no-undef</span>
<a href="#l21.33"></a><span id="l21.33">             } else {</span>
<a href="#l21.34"></a><span id="l21.34">                 // We are in the Tasks tab.</span>
<a href="#l21.35"></a><span id="l21.35">                 let tasks = getSelectedTasks();</span>
<a href="#l21.36"></a><span id="l21.36">                 let tasksSelected = (tasks != null) &amp;&amp; (tasks.length &gt; 0);</span>
<a href="#l21.37"></a><span id="l21.37">                 if (tasksSelected) {</span>
<a href="#l21.38"></a><span id="l21.38">                     if (tasks.every(task =&gt; task[this.mType] == tasks[0][this.mType])) {</span>
<a href="#l21.39"></a><span id="l21.39">                         propertyValue = tasks[0][this.mType];</span>
<a href="#l21.40"></a><span id="l21.40">                     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/calendar/base/content/calendar-month-view.xml</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/calendar/base/content/calendar-month-view.xml</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l22.4"></a><span id="l22.4"> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l22.5"></a><span id="l22.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l22.6"></a><span id="l22.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l22.7"></a><span id="l22.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l22.8"></a><span id="l22.8"> </span>
<a href="#l22.9"></a><span id="l22.9" class="difflineplus">+&lt;!-- import-globals-from calendar-views.js --&gt;</span>
<a href="#l22.10"></a><span id="l22.10" class="difflineplus">+</span>
<a href="#l22.11"></a><span id="l22.11"> &lt;!DOCTYPE bindings SYSTEM &quot;chrome://global/locale/global.dtd&quot; &gt;</span>
<a href="#l22.12"></a><span id="l22.12"> </span>
<a href="#l22.13"></a><span id="l22.13"> &lt;bindings id=&quot;calendar-month-view-bindings&quot;</span>
<a href="#l22.14"></a><span id="l22.14">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l22.15"></a><span id="l22.15">           xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l22.16"></a><span id="l22.16">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l22.17"></a><span id="l22.17">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l22.18"></a><span id="l22.18"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -1,13 +1,18 @@</span>
<a href="#l23.4"></a><span id="l23.4"> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l23.5"></a><span id="l23.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.6"></a><span id="l23.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.7"></a><span id="l23.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l23.8"></a><span id="l23.8"> </span>
<a href="#l23.9"></a><span id="l23.9" class="difflineplus">+&lt;!-- import-globals-from ../../resources/content/mouseoverPreviews.js --&gt;</span>
<a href="#l23.10"></a><span id="l23.10" class="difflineplus">+&lt;!-- import-globals-from calendar-dnd-listener.js --&gt;</span>
<a href="#l23.11"></a><span id="l23.11" class="difflineplus">+&lt;!-- import-globals-from calendar-ui-utils.js --&gt;</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineplus">+&lt;!-- import-globals-from calendar-views.js --&gt;</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+</span>
<a href="#l23.14"></a><span id="l23.14"> &lt;!DOCTYPE bindings SYSTEM &quot;chrome://global/locale/global.dtd&quot; &gt;</span>
<a href="#l23.15"></a><span id="l23.15"> </span>
<a href="#l23.16"></a><span id="l23.16"> &lt;bindings id=&quot;calendar-multiday-view-bindings&quot;</span>
<a href="#l23.17"></a><span id="l23.17">   xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l23.18"></a><span id="l23.18">   xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l23.19"></a><span id="l23.19">   xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l23.20"></a><span id="l23.20">   xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l23.21"></a><span id="l23.21"> </span>
<a href="#l23.22"></a><span id="l23.22" class="difflineat">@@ -1459,16 +1464,18 @@</span>
<a href="#l23.23"></a><span id="l23.23">                 }</span>
<a href="#l23.24"></a><span id="l23.24"> </span>
<a href="#l23.25"></a><span id="l23.25">                 window.removeEventListener(&quot;mousemove&quot;, col.onEventSweepMouseMove);</span>
<a href="#l23.26"></a><span id="l23.26">                 window.removeEventListener(&quot;mouseup&quot;, col.onEventSweepMouseUp);</span>
<a href="#l23.27"></a><span id="l23.27">                 window.removeEventListener(&quot;keypress&quot;, col.onEventSweepKeypress);</span>
<a href="#l23.28"></a><span id="l23.28">                 document.calendarEventColumnDragging = null;</span>
<a href="#l23.29"></a><span id="l23.29">                 col.mDragState = null;</span>
<a href="#l23.30"></a><span id="l23.30"> </span>
<a href="#l23.31"></a><span id="l23.31" class="difflineplus">+                var item = dragState.dragOccurrence;</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineplus">+</span>
<a href="#l23.33"></a><span id="l23.33">                 // the multiday view currently exhibits a less than optimal strategy</span>
<a href="#l23.34"></a><span id="l23.34">                 // in terms of item selection. items don't get automatically selected</span>
<a href="#l23.35"></a><span id="l23.35">                 // when clicked and dragged, as to differentiate inline editing from</span>
<a href="#l23.36"></a><span id="l23.36">                 // the act of selecting an event. but the application internal drop</span>
<a href="#l23.37"></a><span id="l23.37">                 // targets will ask for selected items in order to pull the data from</span>
<a href="#l23.38"></a><span id="l23.38">                 // the packets. that's why we need to make sure at least the currently</span>
<a href="#l23.39"></a><span id="l23.39">                 // dragged event is contained in the set of selected items.</span>
<a href="#l23.40"></a><span id="l23.40">                 let selectedItems = this.getSelectedItems({});</span>
<a href="#l23.41"></a><span id="l23.41" class="difflineat">@@ -2017,30 +2024,30 @@</span>
<a href="#l23.42"></a><span id="l23.42">             return newStart;</span>
<a href="#l23.43"></a><span id="l23.43">         ]]&gt;&lt;/body&gt;</span>
<a href="#l23.44"></a><span id="l23.44">       &lt;/method&gt;</span>
<a href="#l23.45"></a><span id="l23.45">     &lt;/implementation&gt;</span>
<a href="#l23.46"></a><span id="l23.46"> </span>
<a href="#l23.47"></a><span id="l23.47">     &lt;handlers&gt;</span>
<a href="#l23.48"></a><span id="l23.48">       &lt;handler event=&quot;dblclick&quot; button=&quot;0&quot;&gt;&lt;![CDATA[</span>
<a href="#l23.49"></a><span id="l23.49">           if (this.calendarView.controller) {</span>
<a href="#l23.50"></a><span id="l23.50" class="difflineminus">-              let newStart = getClickedDateTime(event);</span>
<a href="#l23.51"></a><span id="l23.51" class="difflineplus">+              let newStart = this.getClickedDateTime(event);</span>
<a href="#l23.52"></a><span id="l23.52">               this.calendarView.controller.createNewEvent(null, newStart, null);</span>
<a href="#l23.53"></a><span id="l23.53">           }</span>
<a href="#l23.54"></a><span id="l23.54">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l23.55"></a><span id="l23.55"> </span>
<a href="#l23.56"></a><span id="l23.56">       &lt;handler event=&quot;click&quot; button=&quot;0&quot;&gt;&lt;![CDATA[</span>
<a href="#l23.57"></a><span id="l23.57">           if (!(event.ctrlKey || event.metaKey)) {</span>
<a href="#l23.58"></a><span id="l23.58">               this.calendarView.setSelectedItems(0, []);</span>
<a href="#l23.59"></a><span id="l23.59">               this.focus();</span>
<a href="#l23.60"></a><span id="l23.60">           }</span>
<a href="#l23.61"></a><span id="l23.61">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l23.62"></a><span id="l23.62"> </span>
<a href="#l23.63"></a><span id="l23.63">       &lt;handler event=&quot;click&quot; button=&quot;2&quot;&gt;&lt;![CDATA[</span>
<a href="#l23.64"></a><span id="l23.64" class="difflineminus">-          let newStart = getClickedDateTime(event);</span>
<a href="#l23.65"></a><span id="l23.65" class="difflineplus">+          let newStart = this.getClickedDateTime(event);</span>
<a href="#l23.66"></a><span id="l23.66">           this.calendarView.selectedDateTime = newStart;</span>
<a href="#l23.67"></a><span id="l23.67">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l23.68"></a><span id="l23.68"> </span>
<a href="#l23.69"></a><span id="l23.69">       &lt;!-- mouse down handler, in empty event column regions.  Starts sweeping out a new</span>
<a href="#l23.70"></a><span id="l23.70">          - event.</span>
<a href="#l23.71"></a><span id="l23.71">         --&gt;</span>
<a href="#l23.72"></a><span id="l23.72">       &lt;handler event=&quot;mousedown&quot;&gt;&lt;![CDATA[</span>
<a href="#l23.73"></a><span id="l23.73">           // select this column</span>
<a href="#l23.74"></a><span id="l23.74" class="difflineat">@@ -2313,21 +2320,21 @@</span>
<a href="#l23.75"></a><span id="l23.75">                 }</span>
<a href="#l23.76"></a><span id="l23.76">             }</span>
<a href="#l23.77"></a><span id="l23.77"> </span>
<a href="#l23.78"></a><span id="l23.78">             // this should be done using lookupMethod(), see bug 286629</span>
<a href="#l23.79"></a><span id="l23.79">             let ret = XULElement.prototype.setAttribute.call(this, aAttr, aVal);</span>
<a href="#l23.80"></a><span id="l23.80"> </span>
<a href="#l23.81"></a><span id="l23.81">             if (needsrelayout) {</span>
<a href="#l23.82"></a><span id="l23.82">                 let eventbox = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;eventbox&quot;);</span>
<a href="#l23.83"></a><span id="l23.83" class="difflineminus">-                eventbox.setAttribute(&quot;orient&quot;, val);</span>
<a href="#l23.84"></a><span id="l23.84" class="difflineplus">+                eventbox.setAttribute(&quot;orient&quot;, aVal);</span>
<a href="#l23.85"></a><span id="l23.85">                 let gb1 = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;gripbar1&quot;);</span>
<a href="#l23.86"></a><span id="l23.86" class="difflineminus">-                gb1.parentorient = val;</span>
<a href="#l23.87"></a><span id="l23.87" class="difflineplus">+                gb1.parentorient = aVal;</span>
<a href="#l23.88"></a><span id="l23.88">                 let gb2 = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;gripbar2&quot;);</span>
<a href="#l23.89"></a><span id="l23.89" class="difflineminus">-                gb2.parentorient = val;</span>
<a href="#l23.90"></a><span id="l23.90" class="difflineplus">+                gb2.parentorient = aVal;</span>
<a href="#l23.91"></a><span id="l23.91">             }</span>
<a href="#l23.92"></a><span id="l23.92"> </span>
<a href="#l23.93"></a><span id="l23.93">             return ret;</span>
<a href="#l23.94"></a><span id="l23.94">         ]]&gt;&lt;/body&gt;</span>
<a href="#l23.95"></a><span id="l23.95">       &lt;/method&gt;</span>
<a href="#l23.96"></a><span id="l23.96"> </span>
<a href="#l23.97"></a><span id="l23.97">       &lt;method name=&quot;getOptimalMinSize&quot;&gt;</span>
<a href="#l23.98"></a><span id="l23.98">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l23.99"></a><span id="l23.99" class="difflineat">@@ -2898,17 +2905,17 @@</span>
<a href="#l23.100"></a><span id="l23.100"> </span>
<a href="#l23.101"></a><span id="l23.101">       &lt;method name=&quot;getDateList&quot;&gt;</span>
<a href="#l23.102"></a><span id="l23.102">         &lt;parameter name=&quot;aCount&quot;/&gt;</span>
<a href="#l23.103"></a><span id="l23.103">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l23.104"></a><span id="l23.104">             let dates = [];</span>
<a href="#l23.105"></a><span id="l23.105">             if (this.mStartDate &amp;&amp; this.mEndDate) {</span>
<a href="#l23.106"></a><span id="l23.106">                 let date = this.mStartDate.clone();</span>
<a href="#l23.107"></a><span id="l23.107">                 while (date.compare(this.mEndDate) &lt;= 0) {</span>
<a href="#l23.108"></a><span id="l23.108" class="difflineminus">-                    dates.push(d.clone());</span>
<a href="#l23.109"></a><span id="l23.109" class="difflineplus">+                    dates.push(date.clone());</span>
<a href="#l23.110"></a><span id="l23.110">                     date.day += 1;</span>
<a href="#l23.111"></a><span id="l23.111">                 }</span>
<a href="#l23.112"></a><span id="l23.112">             } else if (this.mDateList) {</span>
<a href="#l23.113"></a><span id="l23.113">                 for (let date of this.mDateList) {</span>
<a href="#l23.114"></a><span id="l23.114">                     dates.push(date.clone());</span>
<a href="#l23.115"></a><span id="l23.115">                 }</span>
<a href="#l23.116"></a><span id="l23.116">             }</span>
<a href="#l23.117"></a><span id="l23.117"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/calendar/base/content/calendar-task-editing.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-editing.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -1,12 +1,16 @@</span>
<a href="#l24.4"></a><span id="l24.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l24.5"></a><span id="l24.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l24.6"></a><span id="l24.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l24.7"></a><span id="l24.7"> </span>
<a href="#l24.8"></a><span id="l24.8" class="difflineplus">+/* import-globals-from calendar-item-editing.js */</span>
<a href="#l24.9"></a><span id="l24.9" class="difflineplus">+/* import-globals-from calendar-management.js */</span>
<a href="#l24.10"></a><span id="l24.10" class="difflineplus">+/* import-globals-from calendar-ui-utils.js */</span>
<a href="#l24.11"></a><span id="l24.11" class="difflineplus">+</span>
<a href="#l24.12"></a><span id="l24.12"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l24.13"></a><span id="l24.13"> </span>
<a href="#l24.14"></a><span id="l24.14"> /**</span>
<a href="#l24.15"></a><span id="l24.15">  * Used by the &quot;quick add&quot; feature for tasks, for example in the task view or</span>
<a href="#l24.16"></a><span id="l24.16">  * the uniinder-todo.</span>
<a href="#l24.17"></a><span id="l24.17">  *</span>
<a href="#l24.18"></a><span id="l24.18">  * NOTE: many of the following methods are called without taskEdit being the</span>
<a href="#l24.19"></a><span id="l24.19">  * |this| object.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/calendar/base/content/calendar-task-tree.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-tree.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -3,16 +3,19 @@</span>
<a href="#l25.4"></a><span id="l25.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l25.5"></a><span id="l25.5"> </span>
<a href="#l25.6"></a><span id="l25.6"> /* exported addCalendarNames, calendars, changeContextMenuForTask,</span>
<a href="#l25.7"></a><span id="l25.7">  *          contextChangeTaskCalendar, contextChangeTaskPriority,</span>
<a href="#l25.8"></a><span id="l25.8">  *          contextPostponeTask, modifyTaskFromContext, deleteToDoCommand,</span>
<a href="#l25.9"></a><span id="l25.9">  *          tasksToMail, tasksToEvents, toggleCompleted,</span>
<a href="#l25.10"></a><span id="l25.10">  */</span>
<a href="#l25.11"></a><span id="l25.11"> </span>
<a href="#l25.12"></a><span id="l25.12" class="difflineplus">+/* import-globals-from calendar-common-sets.js */</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+/* import-globals-from calendar-dnd-listener.js */</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineplus">+</span>
<a href="#l25.15"></a><span id="l25.15"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l25.16"></a><span id="l25.16"> </span>
<a href="#l25.17"></a><span id="l25.17"> /**</span>
<a href="#l25.18"></a><span id="l25.18">  * Add registered calendars to the given menupopup. Removes all previous</span>
<a href="#l25.19"></a><span id="l25.19">  * children.</span>
<a href="#l25.20"></a><span id="l25.20">  *</span>
<a href="#l25.21"></a><span id="l25.21">  * XXX Either replace the existing items using replaceNode, or use helper</span>
<a href="#l25.22"></a><span id="l25.22">  * functions (cal.removeChildren).</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/calendar/base/content/calendar-task-tree.xml</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-tree.xml</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1,13 +1,18 @@</span>
<a href="#l26.4"></a><span id="l26.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l26.5"></a><span id="l26.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l26.6"></a><span id="l26.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l26.7"></a><span id="l26.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l26.8"></a><span id="l26.8"> </span>
<a href="#l26.9"></a><span id="l26.9" class="difflineplus">+&lt;!-- import-globals-from agenda-listbox.js --&gt;</span>
<a href="#l26.10"></a><span id="l26.10" class="difflineplus">+&lt;!-- import-globals-from calendar-common-sets.js --&gt;</span>
<a href="#l26.11"></a><span id="l26.11" class="difflineplus">+&lt;!-- import-globals-from calendar-dnd-listener.js --&gt;</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineplus">+&lt;!-- import-globals-from calendar-task-tree.js --&gt;</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+</span>
<a href="#l26.14"></a><span id="l26.14"> &lt;!DOCTYPE dialog [</span>
<a href="#l26.15"></a><span id="l26.15">   &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l26.16"></a><span id="l26.16">   &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd2;</span>
<a href="#l26.17"></a><span id="l26.17"> ]&gt;</span>
<a href="#l26.18"></a><span id="l26.18"> </span>
<a href="#l26.19"></a><span id="l26.19"> &lt;bindings id=&quot;calendar-task-tree-bindings&quot;</span>
<a href="#l26.20"></a><span id="l26.20">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l26.21"></a><span id="l26.21">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/calendar/base/content/calendar-task-view.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-view.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -1,14 +1,18 @@</span>
<a href="#l27.4"></a><span id="l27.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l27.5"></a><span id="l27.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l27.6"></a><span id="l27.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l27.7"></a><span id="l27.7"> </span>
<a href="#l27.8"></a><span id="l27.8"> /* exported taskDetailsView, sendMailToOrganizer, taskViewCopyLink */</span>
<a href="#l27.9"></a><span id="l27.9"> </span>
<a href="#l27.10"></a><span id="l27.10" class="difflineplus">+/* import-globals-from ../../../mail/base/content/mailCore.js */</span>
<a href="#l27.11"></a><span id="l27.11" class="difflineplus">+/* import-globals-from calendar-item-editing.js */</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineplus">+/* import-globals-from calendar-ui-utils.js */</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineplus">+</span>
<a href="#l27.14"></a><span id="l27.14"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l27.15"></a><span id="l27.15"> var { recurrenceRule2String } = ChromeUtils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l27.16"></a><span id="l27.16"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l27.17"></a><span id="l27.17"> var { AppConstants } = ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l27.18"></a><span id="l27.18"> </span>
<a href="#l27.19"></a><span id="l27.19"> var taskDetailsView = {</span>
<a href="#l27.20"></a><span id="l27.20"> </span>
<a href="#l27.21"></a><span id="l27.21">     /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -7,18 +7,21 @@</span>
<a href="#l28.4"></a><span id="l28.4">  *          enableElementWithLock, uncheckChildNodes, removeChildren,</span>
<a href="#l28.5"></a><span id="l28.5">  *          appendCalendarItems, setAttributeToChildren, checkRadioControl,</span>
<a href="#l28.6"></a><span id="l28.6">  *          processEnableCheckbox, updateListboxDeleteButton,</span>
<a href="#l28.7"></a><span id="l28.7">  *          updateUnitLabelPlural, updateMenuLabelsPlural, menuListSelectItem,</span>
<a href="#l28.8"></a><span id="l28.8">  *          getOptimalMinimumWidth, getOptimalMinimumHeight,</span>
<a href="#l28.9"></a><span id="l28.9">  *          getOtherOrientation, updateSelectedLabel, setupAttendanceMenu</span>
<a href="#l28.10"></a><span id="l28.10">  */</span>
<a href="#l28.11"></a><span id="l28.11"> </span>
<a href="#l28.12"></a><span id="l28.12" class="difflineplus">+/* import-globals-from ../../../../toolkit/content/globalOverlay.js */</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+</span>
<a href="#l28.14"></a><span id="l28.14"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l28.15"></a><span id="l28.15"> var { PluralForm } = ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l28.16"></a><span id="l28.16" class="difflineplus">+var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l28.17"></a><span id="l28.17"> </span>
<a href="#l28.18"></a><span id="l28.18"> /**</span>
<a href="#l28.19"></a><span id="l28.19">  * Helper function for filling the form,</span>
<a href="#l28.20"></a><span id="l28.20">  * Set the value of a property of a XUL element</span>
<a href="#l28.21"></a><span id="l28.21">  *</span>
<a href="#l28.22"></a><span id="l28.22">  * @param aElement      ID of XUL element to set, or the element node itself</span>
<a href="#l28.23"></a><span id="l28.23">  * @param aNewValue     value to set property to ( if undefined no change is made )</span>
<a href="#l28.24"></a><span id="l28.24">  * @param aPropertyName OPTIONAL name of property to set, default is &quot;value&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/calendar/base/content/calendar-unifinder-todo.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/calendar/base/content/calendar-unifinder-todo.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l29.4"></a><span id="l29.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l29.5"></a><span id="l29.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l29.6"></a><span id="l29.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l29.7"></a><span id="l29.7"> </span>
<a href="#l29.8"></a><span id="l29.8"> /* exported prepareCalendarToDoUnifinder, finishCalendarToDoUnifinder */</span>
<a href="#l29.9"></a><span id="l29.9"> </span>
<a href="#l29.10"></a><span id="l29.10" class="difflineplus">+/* import-globals-from calendar-views.js */</span>
<a href="#l29.11"></a><span id="l29.11" class="difflineplus">+</span>
<a href="#l29.12"></a><span id="l29.12"> /**</span>
<a href="#l29.13"></a><span id="l29.13">  * Called when the window is loaded to set up the unifinder-todo.</span>
<a href="#l29.14"></a><span id="l29.14">  */</span>
<a href="#l29.15"></a><span id="l29.15"> function prepareCalendarToDoUnifinder() {</span>
<a href="#l29.16"></a><span id="l29.16">     // add listener to update the date filters</span>
<a href="#l29.17"></a><span id="l29.17">     getViewDeck().addEventListener(&quot;dayselect&quot;, updateCalendarToDoUnifinder);</span>
<a href="#l29.18"></a><span id="l29.18"> </span>
<a href="#l29.19"></a><span id="l29.19">     updateCalendarToDoUnifinder();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/calendar/base/content/calendar-unifinder.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/calendar/base/content/calendar-unifinder.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -1,16 +1,22 @@</span>
<a href="#l30.4"></a><span id="l30.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l30.5"></a><span id="l30.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l30.6"></a><span id="l30.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l30.7"></a><span id="l30.7"> </span>
<a href="#l30.8"></a><span id="l30.8"> /* exported gCalendarEventTreeClicked, unifinderDoubleClick, unifinderKeyPress,</span>
<a href="#l30.9"></a><span id="l30.9">  *          focusSearch, toggleUnifinder</span>
<a href="#l30.10"></a><span id="l30.10">  */</span>
<a href="#l30.11"></a><span id="l30.11"> </span>
<a href="#l30.12"></a><span id="l30.12" class="difflineplus">+/* import-globals-from ../../../mail/base/content/utilityOverlay.js */</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineplus">+/* import-globals-from ../../resources/content/mouseoverPreviews.js */</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineplus">+/* import-globals-from ../src/calFilter.js */</span>
<a href="#l30.15"></a><span id="l30.15" class="difflineplus">+/* import-globals-from calendar-common-sets.js */</span>
<a href="#l30.16"></a><span id="l30.16" class="difflineplus">+/* import-globals-from calendar-views.js */</span>
<a href="#l30.17"></a><span id="l30.17" class="difflineplus">+</span>
<a href="#l30.18"></a><span id="l30.18"> /**</span>
<a href="#l30.19"></a><span id="l30.19">  * U N I F I N D E R</span>
<a href="#l30.20"></a><span id="l30.20">  *</span>
<a href="#l30.21"></a><span id="l30.21">  * This is a hacked in interface to the unifinder. We will need to</span>
<a href="#l30.22"></a><span id="l30.22">  * improve this to make it usable in general.</span>
<a href="#l30.23"></a><span id="l30.23">  *</span>
<a href="#l30.24"></a><span id="l30.24">  * NOTE: Including this file will cause a load handler to be added to the</span>
<a href="#l30.25"></a><span id="l30.25">  * window.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/calendar/base/content/calendar-view-core.xml</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/calendar/base/content/calendar-view-core.xml</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -1,13 +1,17 @@</span>
<a href="#l31.4"></a><span id="l31.4"> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l31.5"></a><span id="l31.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l31.6"></a><span id="l31.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l31.7"></a><span id="l31.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l31.8"></a><span id="l31.8"> </span>
<a href="#l31.9"></a><span id="l31.9" class="difflineplus">+&lt;!-- import-globals-from ../../resources/content/mouseoverPreviews.js --&gt;</span>
<a href="#l31.10"></a><span id="l31.10" class="difflineplus">+&lt;!-- import-globals-from calendar-dnd-listener.js --&gt;</span>
<a href="#l31.11"></a><span id="l31.11" class="difflineplus">+&lt;!-- import-globals-from calendar-views.js --&gt;</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineplus">+</span>
<a href="#l31.13"></a><span id="l31.13"> &lt;bindings id=&quot;calendar-core-view-bindings&quot;</span>
<a href="#l31.14"></a><span id="l31.14">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l31.15"></a><span id="l31.15">           xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l31.16"></a><span id="l31.16">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l31.17"></a><span id="l31.17">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l31.18"></a><span id="l31.18"> </span>
<a href="#l31.19"></a><span id="l31.19">   &lt;binding id=&quot;calendar-editable-item&quot;&gt;</span>
<a href="#l31.20"></a><span id="l31.20">     &lt;content mousethrough=&quot;never&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/calendar/base/content/calendar-views.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/calendar/base/content/calendar-views.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -4,16 +4,19 @@</span>
<a href="#l32.4"></a><span id="l32.4"> </span>
<a href="#l32.5"></a><span id="l32.5"> /* exported switchToView, getSelectedDay, scheduleMidnightUpdate,</span>
<a href="#l32.6"></a><span id="l32.6">  *          updateStyleSheetForViews, observeViewDaySelect, toggleOrientation,</span>
<a href="#l32.7"></a><span id="l32.7">  *          toggleWorkdaysOnly, toggleTasksInView, toggleShowCompletedInView,</span>
<a href="#l32.8"></a><span id="l32.8">  *          goToDate, getLastCalendarView, deleteSelectedEvents,</span>
<a href="#l32.9"></a><span id="l32.9">  *          editSelectedEvents, selectAllEvents</span>
<a href="#l32.10"></a><span id="l32.10">  */</span>
<a href="#l32.11"></a><span id="l32.11"> </span>
<a href="#l32.12"></a><span id="l32.12" class="difflineplus">+/* import-globals-from calendar-chrome-startup.js */</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineplus">+/* import-globals-from calendar-item-editing.js */</span>
<a href="#l32.14"></a><span id="l32.14" class="difflineplus">+</span>
<a href="#l32.15"></a><span id="l32.15"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l32.16"></a><span id="l32.16"> var { countOccurrences } = ChromeUtils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l32.17"></a><span id="l32.17"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l32.18"></a><span id="l32.18"> </span>
<a href="#l32.19"></a><span id="l32.19"> /**</span>
<a href="#l32.20"></a><span id="l32.20">  * Controller for the views</span>
<a href="#l32.21"></a><span id="l32.21">  * @see calIcalendarViewController</span>
<a href="#l32.22"></a><span id="l32.22">  */</span>
<a href="#l32.23"></a><span id="l32.23" class="difflineat">@@ -147,17 +150,17 @@ var calendarViewController = {</span>
<a href="#l32.24"></a><span id="l32.24">                     // The user canceled the dialog, bail out</span>
<a href="#l32.25"></a><span id="l32.25">                     break;</span>
<a href="#l32.26"></a><span id="l32.26">                 }</span>
<a href="#l32.27"></a><span id="l32.27">                 itemToDelete = targetItem;</span>
<a href="#l32.28"></a><span id="l32.28"> </span>
<a href="#l32.29"></a><span id="l32.29">                 // if we have multiple items and the user decided already for one</span>
<a href="#l32.30"></a><span id="l32.30">                 // item whether to delete the occurrence or the entire series,</span>
<a href="#l32.31"></a><span id="l32.31">                 // we apply that decission also to subsequent items</span>
<a href="#l32.32"></a><span id="l32.32" class="difflineminus">-                previoiusResponse = response;</span>
<a href="#l32.33"></a><span id="l32.33" class="difflineplus">+                previousResponse = response;</span>
<a href="#l32.34"></a><span id="l32.34">                 promptUser = false;</span>
<a href="#l32.35"></a><span id="l32.35">             }</span>
<a href="#l32.36"></a><span id="l32.36"> </span>
<a href="#l32.37"></a><span id="l32.37">             // Now some dirty work: Make sure more than one occurrence can be</span>
<a href="#l32.38"></a><span id="l32.38">             // deleted by saving the recurring items and removing occurrences as</span>
<a href="#l32.39"></a><span id="l32.39">             // they come in. If this is not an occurrence, we can go ahead and</span>
<a href="#l32.40"></a><span id="l32.40">             // delete the whole item.</span>
<a href="#l32.41"></a><span id="l32.41">             if (itemToDelete.parentItem.hashId == itemToDelete.hashId) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/calendar/base/content/calendar-views.xml</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/calendar/base/content/calendar-views.xml</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l33.4"></a><span id="l33.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l33.5"></a><span id="l33.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l33.6"></a><span id="l33.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l33.7"></a><span id="l33.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l33.8"></a><span id="l33.8"> </span>
<a href="#l33.9"></a><span id="l33.9" class="difflineplus">+&lt;!-- import-globals-from calendar-views.js --&gt;</span>
<a href="#l33.10"></a><span id="l33.10" class="difflineplus">+</span>
<a href="#l33.11"></a><span id="l33.11"> &lt;bindings id=&quot;calendar-specific-view-bindings&quot;</span>
<a href="#l33.12"></a><span id="l33.12">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l33.13"></a><span id="l33.13">           xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l33.14"></a><span id="l33.14">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l33.15"></a><span id="l33.15">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l33.16"></a><span id="l33.16"> </span>
<a href="#l33.17"></a><span id="l33.17">   &lt;binding id=&quot;calendar-day-view&quot;</span>
<a href="#l33.18"></a><span id="l33.18">            extends=&quot;chrome://calendar/content/calendar-multiday-view.xml#calendar-multiday-view&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -1,16 +1,18 @@</span>
<a href="#l34.4"></a><span id="l34.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l34.5"></a><span id="l34.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l34.6"></a><span id="l34.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l34.7"></a><span id="l34.7"> </span>
<a href="#l34.8"></a><span id="l34.8"> /* exported onDismissAllAlarms, setupWindow, finishWindow, addWidgetFor,</span>
<a href="#l34.9"></a><span id="l34.9">  *         removeWidgetFor, onSelectAlarm, ensureCalendarVisible</span>
<a href="#l34.10"></a><span id="l34.10">  */</span>
<a href="#l34.11"></a><span id="l34.11"> </span>
<a href="#l34.12"></a><span id="l34.12" class="difflineplus">+/* import-globals-from ../calendar-item-editing.js */</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineplus">+</span>
<a href="#l34.14"></a><span id="l34.14"> var { PluralForm } = ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l34.15"></a><span id="l34.15"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l34.16"></a><span id="l34.16"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l34.17"></a><span id="l34.17"> </span>
<a href="#l34.18"></a><span id="l34.18"> addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; {</span>
<a href="#l34.19"></a><span id="l34.19">     document.getElementById(&quot;alarm-snooze-all-popup&quot;).addEventListener(&quot;snooze&quot;, (event) =&gt; {</span>
<a href="#l34.20"></a><span id="l34.20">         snoozeAllItems(event.detail);</span>
<a href="#l34.21"></a><span id="l34.21">     });</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-creation.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-creation.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -20,20 +20,20 @@ function openLocalCalendar() {</span>
<a href="#l35.4"></a><span id="l35.4">     picker.appendFilters(nsIFilePicker.filterAll);</span>
<a href="#l35.5"></a><span id="l35.5"> </span>
<a href="#l35.6"></a><span id="l35.6">     picker.open(rv =&gt; {</span>
<a href="#l35.7"></a><span id="l35.7">         if (rv != nsIFilePicker.returnOK || !picker.file) {</span>
<a href="#l35.8"></a><span id="l35.8">             return;</span>
<a href="#l35.9"></a><span id="l35.9">         }</span>
<a href="#l35.10"></a><span id="l35.10">         let calMgr = cal.getCalendarManager();</span>
<a href="#l35.11"></a><span id="l35.11">         let calendars = calMgr.getCalendars({});</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-        if (calendars.some(x =&gt; x.uri == picker.fileURL)) {</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineplus">+        let calendar = calendars.find(x =&gt; x.uri == picker.fileURL);</span>
<a href="#l35.14"></a><span id="l35.14" class="difflineplus">+        if (calendar) {</span>
<a href="#l35.15"></a><span id="l35.15">             // The calendar already exists, select it and return.</span>
<a href="#l35.16"></a><span id="l35.16" class="difflineminus">-            document.getElementById(&quot;calendar-list-tree-widget&quot;)</span>
<a href="#l35.17"></a><span id="l35.17" class="difflineminus">-                    .tree.view.selection.select(index);</span>
<a href="#l35.18"></a><span id="l35.18" class="difflineplus">+            document.getElementById(&quot;calendar-list-tree-widget&quot;).selectCalendarById(calendar.id);</span>
<a href="#l35.19"></a><span id="l35.19">             return;</span>
<a href="#l35.20"></a><span id="l35.20">         }</span>
<a href="#l35.21"></a><span id="l35.21"> </span>
<a href="#l35.22"></a><span id="l35.22">         let openCalendar = calMgr.createCalendar(&quot;ics&quot;, picker.fileURL);</span>
<a href="#l35.23"></a><span id="l35.23"> </span>
<a href="#l35.24"></a><span id="l35.24">         // Strip &quot;.ics&quot; from filename for use as calendar name, taken from</span>
<a href="#l35.25"></a><span id="l35.25">         // calendarCreation.js</span>
<a href="#l35.26"></a><span id="l35.26">         let fullPathRegex = new RegExp(&quot;([^/:]+)[.]ics$&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-dialog-utils.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-dialog-utils.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -3,16 +3,19 @@</span>
<a href="#l36.4"></a><span id="l36.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l36.5"></a><span id="l36.5"> </span>
<a href="#l36.6"></a><span id="l36.6"> /* exported gInTab, gMainWindow, gTabmail, intializeTabOrWindowVariables,</span>
<a href="#l36.7"></a><span id="l36.7">  *          dispose, setDialogId, loadReminders, saveReminder,</span>
<a href="#l36.8"></a><span id="l36.8">  *          commonUpdateReminder, updateLink, rearrangeAttendees,</span>
<a href="#l36.9"></a><span id="l36.9">  *          adaptScheduleAgent</span>
<a href="#l36.10"></a><span id="l36.10">  */</span>
<a href="#l36.11"></a><span id="l36.11"> </span>
<a href="#l36.12"></a><span id="l36.12" class="difflineplus">+/* import-globals-from ../../../lightning/content/lightning-item-iframe.js */</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineplus">+/* import-globals-from ../calendar-ui-utils.js */</span>
<a href="#l36.14"></a><span id="l36.14" class="difflineplus">+</span>
<a href="#l36.15"></a><span id="l36.15"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l36.16"></a><span id="l36.16"> </span>
<a href="#l36.17"></a><span id="l36.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l36.18"></a><span id="l36.18"> </span>
<a href="#l36.19"></a><span id="l36.19"> // Variables related to whether we are in a tab or a window dialog.</span>
<a href="#l36.20"></a><span id="l36.20"> var gInTab = false;</span>
<a href="#l36.21"></a><span id="l36.21"> var gMainWindow = null;</span>
<a href="#l36.22"></a><span id="l36.22"> var gTabmail = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -462,17 +462,17 @@ function editEndTimezone() {</span>
<a href="#l37.4"></a><span id="l37.4">     let tzStart = document.getElementById(&quot;timezone-endtime&quot;);</span>
<a href="#l37.5"></a><span id="l37.5">     if (tzStart.hasAttribute(&quot;disabled&quot;)) {</span>
<a href="#l37.6"></a><span id="l37.6">         return;</span>
<a href="#l37.7"></a><span id="l37.7">     }</span>
<a href="#l37.8"></a><span id="l37.8"> </span>
<a href="#l37.9"></a><span id="l37.9">     let self = this;</span>
<a href="#l37.10"></a><span id="l37.10">     let args = {};</span>
<a href="#l37.11"></a><span id="l37.11">     args.calendar = window.arguments[0].calendar;</span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-    args.time = gEndTime.getInTimezone(gEndTimezone);</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+    args.time = gEndDate.getInTimezone(gEndTimezone);</span>
<a href="#l37.14"></a><span id="l37.14">     args.onOk = function(datetime) {</span>
<a href="#l37.15"></a><span id="l37.15">         if (gStartTimezone &amp;&amp; gEndTimezone &amp;&amp;</span>
<a href="#l37.16"></a><span id="l37.16">             cal.data.compareObjects(gStartTimezone, gEndTimezone)) {</span>
<a href="#l37.17"></a><span id="l37.17">             gStartTimezone = datetime.timezone;</span>
<a href="#l37.18"></a><span id="l37.18">         }</span>
<a href="#l37.19"></a><span id="l37.19">         gEndTimezone = datetime.timezone;</span>
<a href="#l37.20"></a><span id="l37.20">         self.propagateDateTime();</span>
<a href="#l37.21"></a><span id="l37.21">     };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -1,13 +1,16 @@</span>
<a href="#l38.4"></a><span id="l38.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l38.5"></a><span id="l38.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l38.6"></a><span id="l38.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l38.7"></a><span id="l38.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l38.8"></a><span id="l38.8"> </span>
<a href="#l38.9"></a><span id="l38.9" class="difflineplus">+&lt;!-- import-globals-from ../calendar-ui-utils.js --&gt;</span>
<a href="#l38.10"></a><span id="l38.10" class="difflineplus">+&lt;!-- import-globals-from calendar-event-dialog-attendees.js --&gt;</span>
<a href="#l38.11"></a><span id="l38.11" class="difflineplus">+</span>
<a href="#l38.12"></a><span id="l38.12"> &lt;!DOCTYPE dialog [</span>
<a href="#l38.13"></a><span id="l38.13">   &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l38.14"></a><span id="l38.14">   &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd2;</span>
<a href="#l38.15"></a><span id="l38.15">   &lt;!ENTITY % dtd3 SYSTEM &quot;chrome://calendar/locale/calendar-event-dialog.dtd&quot;&gt; %dtd3;</span>
<a href="#l38.16"></a><span id="l38.16"> ]&gt;</span>
<a href="#l38.17"></a><span id="l38.17"> </span>
<a href="#l38.18"></a><span id="l38.18"> &lt;bindings xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l38.19"></a><span id="l38.19">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l38.20"></a><span id="l38.20" class="difflineat">@@ -1382,17 +1385,17 @@</span>
<a href="#l38.21"></a><span id="l38.21"> </span>
<a href="#l38.22"></a><span id="l38.22">       &lt;handler event=&quot;mousemove&quot;&gt;&lt;![CDATA[</span>
<a href="#l38.23"></a><span id="l38.23">           let mouseX = event.screenX;</span>
<a href="#l38.24"></a><span id="l38.24">           if (this.mDragState == 1) {</span>
<a href="#l38.25"></a><span id="l38.25">               // Move the startdate and the enddate</span>
<a href="#l38.26"></a><span id="l38.26">               let delta = mouseX - this.mMouseX;</span>
<a href="#l38.27"></a><span id="l38.27">               let newStart = this.moveTime(this.mStartDate, delta, false);</span>
<a href="#l38.28"></a><span id="l38.28">               if (newStart.compare(this.mStartDate) != 0) {</span>
<a href="#l38.29"></a><span id="l38.29" class="difflineminus">-                  newEnd = this.moveTime(this.mEndDate, delta, false);</span>
<a href="#l38.30"></a><span id="l38.30" class="difflineplus">+                  let newEnd = this.moveTime(this.mEndDate, delta, false);</span>
<a href="#l38.31"></a><span id="l38.31"> </span>
<a href="#l38.32"></a><span id="l38.32">                   // We need to adapt this date in case we're dealing with</span>
<a href="#l38.33"></a><span id="l38.33">                   // an all-day event. This is because setting 'endDate' will</span>
<a href="#l38.34"></a><span id="l38.34">                   // automatically add one day extra for all-day events.</span>
<a href="#l38.35"></a><span id="l38.35">                   if (newEnd.isDate) {</span>
<a href="#l38.36"></a><span id="l38.36">                       newEnd.day--;</span>
<a href="#l38.37"></a><span id="l38.37">                   }</span>
<a href="#l38.38"></a><span id="l38.38"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -1,13 +1,16 @@</span>
<a href="#l39.4"></a><span id="l39.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l39.5"></a><span id="l39.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l39.6"></a><span id="l39.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l39.7"></a><span id="l39.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l39.8"></a><span id="l39.8"> </span>
<a href="#l39.9"></a><span id="l39.9" class="difflineplus">+&lt;!-- import-globals-from ../calendar-ui-utils.js --&gt;</span>
<a href="#l39.10"></a><span id="l39.10" class="difflineplus">+&lt;!-- import-globals-from calendar-event-dialog-attendees.js --&gt;</span>
<a href="#l39.11"></a><span id="l39.11" class="difflineplus">+</span>
<a href="#l39.12"></a><span id="l39.12"> &lt;!DOCTYPE dialog [</span>
<a href="#l39.13"></a><span id="l39.13">   &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l39.14"></a><span id="l39.14">   &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd2;</span>
<a href="#l39.15"></a><span id="l39.15">   &lt;!ENTITY % dtd3 SYSTEM &quot;chrome://calendar/locale/calendar-event-dialog.dtd&quot; &gt; %dtd3;</span>
<a href="#l39.16"></a><span id="l39.16"> ]&gt;</span>
<a href="#l39.17"></a><span id="l39.17"> </span>
<a href="#l39.18"></a><span id="l39.18"> &lt;bindings xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l39.19"></a><span id="l39.19">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l40.4"></a><span id="l40.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l40.5"></a><span id="l40.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l40.6"></a><span id="l40.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l40.7"></a><span id="l40.7"> </span>
<a href="#l40.8"></a><span id="l40.8"> /* exported onLoad, onAccept, onCancel */</span>
<a href="#l40.9"></a><span id="l40.9"> </span>
<a href="#l40.10"></a><span id="l40.10" class="difflineplus">+/* import-globals-from ../calendar-ui-utils.js */</span>
<a href="#l40.11"></a><span id="l40.11" class="difflineplus">+</span>
<a href="#l40.12"></a><span id="l40.12"> var { splitRecurrenceRules } = ChromeUtils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l40.13"></a><span id="l40.13"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l40.14"></a><span id="l40.14"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l40.15"></a><span id="l40.15"> </span>
<a href="#l40.16"></a><span id="l40.16"> var gIsReadOnly = false;</span>
<a href="#l40.17"></a><span id="l40.17"> var gStartTime = null;</span>
<a href="#l40.18"></a><span id="l40.18"> var gEndTime = null;</span>
<a href="#l40.19"></a><span id="l40.19"> var gUntilDate = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-reminder.js</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-reminder.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -1,16 +1,18 @@</span>
<a href="#l41.4"></a><span id="l41.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l41.5"></a><span id="l41.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l41.6"></a><span id="l41.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l41.7"></a><span id="l41.7"> </span>
<a href="#l41.8"></a><span id="l41.8"> /* exported onLoad, onReminderSelected, updateReminder, onNewReminder,</span>
<a href="#l41.9"></a><span id="l41.9">  *          onRemoveReminder, onAccept, onCancel</span>
<a href="#l41.10"></a><span id="l41.10">  */</span>
<a href="#l41.11"></a><span id="l41.11"> </span>
<a href="#l41.12"></a><span id="l41.12" class="difflineplus">+/* import-globals-from ../calendar-ui-utils.js */</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineplus">+</span>
<a href="#l41.14"></a><span id="l41.14"> var { PluralForm } = ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l41.15"></a><span id="l41.15"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l41.16"></a><span id="l41.16"> </span>
<a href="#l41.17"></a><span id="l41.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l41.18"></a><span id="l41.18"> </span>
<a href="#l41.19"></a><span id="l41.19"> var allowedActionsMap = {};</span>
<a href="#l41.20"></a><span id="l41.20"> var suppressListUpdate = false;</span>
<a href="#l41.21"></a><span id="l41.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-timezone.js</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-timezone.js</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l42.4"></a><span id="l42.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l42.5"></a><span id="l42.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l42.6"></a><span id="l42.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l42.7"></a><span id="l42.7"> </span>
<a href="#l42.8"></a><span id="l42.8"> /* exported onLoad, onAccept, onCancel */</span>
<a href="#l42.9"></a><span id="l42.9"> </span>
<a href="#l42.10"></a><span id="l42.10" class="difflineplus">+/* import-globals-from ../calendar-ui-utils.js */</span>
<a href="#l42.11"></a><span id="l42.11" class="difflineplus">+</span>
<a href="#l42.12"></a><span id="l42.12"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l42.13"></a><span id="l42.13"> </span>
<a href="#l42.14"></a><span id="l42.14"> /**</span>
<a href="#l42.15"></a><span id="l42.15">  * Sets up the timezone dialog from the window arguments, also setting up all</span>
<a href="#l42.16"></a><span id="l42.16">  * dialog controls from the window's dates.</span>
<a href="#l42.17"></a><span id="l42.17">  */</span>
<a href="#l42.18"></a><span id="l42.18"> function onLoad() {</span>
<a href="#l42.19"></a><span id="l42.19">     let args = window.arguments[0];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-invitations-dialog.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-invitations-dialog.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l43.4"></a><span id="l43.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l43.5"></a><span id="l43.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l43.6"></a><span id="l43.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l43.7"></a><span id="l43.7"> </span>
<a href="#l43.8"></a><span id="l43.8"> /* exported onLoad, onUnload, onAccept, onCancel */</span>
<a href="#l43.9"></a><span id="l43.9"> </span>
<a href="#l43.10"></a><span id="l43.10" class="difflineplus">+/* globals invitationsText */// From calendar-invitations-dialog.xul.</span>
<a href="#l43.11"></a><span id="l43.11" class="difflineplus">+</span>
<a href="#l43.12"></a><span id="l43.12"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l43.13"></a><span id="l43.13"> </span>
<a href="#l43.14"></a><span id="l43.14"> /**</span>
<a href="#l43.15"></a><span id="l43.15">  * Sets up the invitations dialog from the window arguments, retrieves the</span>
<a href="#l43.16"></a><span id="l43.16">  * invitations from the invitations manager.</span>
<a href="#l43.17"></a><span id="l43.17">  */</span>
<a href="#l43.18"></a><span id="l43.18"> function onLoad() {</span>
<a href="#l43.19"></a><span id="l43.19">     let operationListener = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-invitations-list.xml</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-invitations-list.xml</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l44.4"></a><span id="l44.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l44.5"></a><span id="l44.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l44.6"></a><span id="l44.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l44.7"></a><span id="l44.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l44.8"></a><span id="l44.8"> </span>
<a href="#l44.9"></a><span id="l44.9" class="difflineplus">+&lt;!-- import-globals-from calendar-invitations-dialog.js --&gt;</span>
<a href="#l44.10"></a><span id="l44.10" class="difflineplus">+</span>
<a href="#l44.11"></a><span id="l44.11"> &lt;!DOCTYPE dialog [</span>
<a href="#l44.12"></a><span id="l44.12">   &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/calendar-invitations-dialog.dtd&quot; &gt;  %dtd1;</span>
<a href="#l44.13"></a><span id="l44.13"> ]&gt;</span>
<a href="#l44.14"></a><span id="l44.14"> </span>
<a href="#l44.15"></a><span id="l44.15"> &lt;bindings id=&quot;calendar-invitations-list-bindings&quot;</span>
<a href="#l44.16"></a><span id="l44.16">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l44.17"></a><span id="l44.17">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l44.18"></a><span id="l44.18">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-migration-dialog.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-migration-dialog.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l45.4"></a><span id="l45.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l45.5"></a><span id="l45.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l45.6"></a><span id="l45.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l45.7"></a><span id="l45.7"> </span>
<a href="#l45.8"></a><span id="l45.8" class="difflineplus">+/* import-globals-from ../import-export.js */</span>
<a href="#l45.9"></a><span id="l45.9" class="difflineplus">+</span>
<a href="#l45.10"></a><span id="l45.10"> var FIREFOX_UID = &quot;{ec8030f7-c20a-464f-9b0e-13a3a9e97384}&quot;;</span>
<a href="#l45.11"></a><span id="l45.11"> </span>
<a href="#l45.12"></a><span id="l45.12"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l45.13"></a><span id="l45.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l45.14"></a><span id="l45.14"> var { AppConstants } = ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l45.15"></a><span id="l45.15"> </span>
<a href="#l45.16"></a><span id="l45.16"> //</span>
<a href="#l45.17"></a><span id="l45.17"> // The front-end wizard bits.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-print-dialog.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-print-dialog.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -1,14 +1,18 @@</span>
<a href="#l46.4"></a><span id="l46.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l46.5"></a><span id="l46.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l46.6"></a><span id="l46.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l46.7"></a><span id="l46.7"> </span>
<a href="#l46.8"></a><span id="l46.8"> /* exported loadCalendarPrintDialog, printAndClose, onDatePick */</span>
<a href="#l46.9"></a><span id="l46.9"> </span>
<a href="#l46.10"></a><span id="l46.10" class="difflineplus">+/* import-globals-from ../../../../../toolkit/components/printing/content/printUtils.js */</span>
<a href="#l46.11"></a><span id="l46.11" class="difflineplus">+/* import-globals-from ../calendar-ui-utils.js */</span>
<a href="#l46.12"></a><span id="l46.12" class="difflineplus">+</span>
<a href="#l46.13"></a><span id="l46.13" class="difflineplus">+var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l46.14"></a><span id="l46.14"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l46.15"></a><span id="l46.15"> </span>
<a href="#l46.16"></a><span id="l46.16"> var printContent = &quot;&quot;;</span>
<a href="#l46.17"></a><span id="l46.17"> </span>
<a href="#l46.18"></a><span id="l46.18"> /**</span>
<a href="#l46.19"></a><span id="l46.19">  * Gets the calendar view from the opening window</span>
<a href="#l46.20"></a><span id="l46.20">  */</span>
<a href="#l46.21"></a><span id="l46.21"> function getCalendarView() {</span>
<a href="#l46.22"></a><span id="l46.22" class="difflineat">@@ -138,17 +142,17 @@ function getPrintSettings(receiverFunc) </span>
<a href="#l46.23"></a><span id="l46.23">         let listener = {</span>
<a href="#l46.24"></a><span id="l46.24">             QueryInterface: ChromeUtils.generateQI([Ci.calIOperationListener]),</span>
<a href="#l46.25"></a><span id="l46.25">             onOperationComplete: function(aCalendar, aStatus, aOperationType, aId, aDateTime) {</span>
<a href="#l46.26"></a><span id="l46.26">                 receiverFunc(settings);</span>
<a href="#l46.27"></a><span id="l46.27">             },</span>
<a href="#l46.28"></a><span id="l46.28">             onGetResult: function(aCalendar, aStatus, aItemType, aDetail, aCount, aItems) {</span>
<a href="#l46.29"></a><span id="l46.29">                 settings.eventList = settings.eventList.concat(aItems);</span>
<a href="#l46.30"></a><span id="l46.30">                 if (!settings.printTasksWithNoDueDate) {</span>
<a href="#l46.31"></a><span id="l46.31" class="difflineminus">-                    eventWithDueDate = [];</span>
<a href="#l46.32"></a><span id="l46.32" class="difflineplus">+                    let eventWithDueDate = [];</span>
<a href="#l46.33"></a><span id="l46.33">                     for (let item of settings.eventList) {</span>
<a href="#l46.34"></a><span id="l46.34">                         if (item.dueDate || item.endDate) {</span>
<a href="#l46.35"></a><span id="l46.35">                             eventWithDueDate.push(item);</span>
<a href="#l46.36"></a><span id="l46.36">                         }</span>
<a href="#l46.37"></a><span id="l46.37">                     }</span>
<a href="#l46.38"></a><span id="l46.38">                     settings.eventList = eventWithDueDate;</span>
<a href="#l46.39"></a><span id="l46.39">                 }</span>
<a href="#l46.40"></a><span id="l46.40">             }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-properties-dialog.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-properties-dialog.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l47.4"></a><span id="l47.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l47.5"></a><span id="l47.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l47.6"></a><span id="l47.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l47.7"></a><span id="l47.7"> </span>
<a href="#l47.8"></a><span id="l47.8"> /* exported onLoad, onAcceptDialog, unsubscribeCalendar */</span>
<a href="#l47.9"></a><span id="l47.9"> </span>
<a href="#l47.10"></a><span id="l47.10" class="difflineplus">+/* import-globals-from ../calendar-ui-utils.js */</span>
<a href="#l47.11"></a><span id="l47.11" class="difflineplus">+</span>
<a href="#l47.12"></a><span id="l47.12"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l47.13"></a><span id="l47.13"> var { PluralForm } = ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l47.14"></a><span id="l47.14"> </span>
<a href="#l47.15"></a><span id="l47.15"> /**</span>
<a href="#l47.16"></a><span id="l47.16">  * The calendar to modify, is retrieved from window.arguments[0].calendar</span>
<a href="#l47.17"></a><span id="l47.17">  */</span>
<a href="#l47.18"></a><span id="l47.18"> var gCalendar;</span>
<a href="#l47.19"></a><span id="l47.19"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -1,16 +1,19 @@</span>
<a href="#l48.4"></a><span id="l48.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l48.5"></a><span id="l48.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l48.6"></a><span id="l48.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l48.7"></a><span id="l48.7"> </span>
<a href="#l48.8"></a><span id="l48.8"> /* exported onLoad, onUnload, onAccept, onCancel, updatePartStat, browseDocument,</span>
<a href="#l48.9"></a><span id="l48.9">  *          sendMailToOrganizer, openAttachment, reply</span>
<a href="#l48.10"></a><span id="l48.10">  */</span>
<a href="#l48.11"></a><span id="l48.11"> </span>
<a href="#l48.12"></a><span id="l48.12" class="difflineplus">+/* import-globals-from ../../src/calApplicationUtils.js */</span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+/* import-globals-from calendar-dialog-utils.js */</span>
<a href="#l48.14"></a><span id="l48.14" class="difflineplus">+</span>
<a href="#l48.15"></a><span id="l48.15"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l48.16"></a><span id="l48.16"> var { recurrenceRule2String } = ChromeUtils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l48.17"></a><span id="l48.17"> </span>
<a href="#l48.18"></a><span id="l48.18"> /**</span>
<a href="#l48.19"></a><span id="l48.19">  * Sets up the summary dialog, setting all needed fields on the dialog from the</span>
<a href="#l48.20"></a><span id="l48.20">  * item received in the window arguments.</span>
<a href="#l48.21"></a><span id="l48.21">  */</span>
<a href="#l48.22"></a><span id="l48.22"> function onLoad() {</span>
<a href="#l48.23"></a><span id="l48.23" class="difflineat">@@ -224,27 +227,27 @@ function onLoad() {</span>
<a href="#l48.24"></a><span id="l48.24">     let accept = document.documentElement.getButton(&quot;accept&quot;);</span>
<a href="#l48.25"></a><span id="l48.25">     let cancel = document.documentElement.getButton(&quot;cancel&quot;);</span>
<a href="#l48.26"></a><span id="l48.26">     accept.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l48.27"></a><span id="l48.27">     cancel.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l48.28"></a><span id="l48.28">     cancel.parentNode.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l48.29"></a><span id="l48.29"> </span>
<a href="#l48.30"></a><span id="l48.30">     updateToolbar();</span>
<a href="#l48.31"></a><span id="l48.31"> </span>
<a href="#l48.32"></a><span id="l48.32" class="difflineminus">-    if (typeof ToolbarIconColor !== &quot;undefined&quot;) {</span>
<a href="#l48.33"></a><span id="l48.33" class="difflineminus">-        ToolbarIconColor.init();</span>
<a href="#l48.34"></a><span id="l48.34" class="difflineplus">+    if (typeof window.ToolbarIconColor !== &quot;undefined&quot;) {</span>
<a href="#l48.35"></a><span id="l48.35" class="difflineplus">+        window.ToolbarIconColor.init();</span>
<a href="#l48.36"></a><span id="l48.36">     }</span>
<a href="#l48.37"></a><span id="l48.37"> </span>
<a href="#l48.38"></a><span id="l48.38">     window.focus();</span>
<a href="#l48.39"></a><span id="l48.39">     opener.setCursor(&quot;auto&quot;);</span>
<a href="#l48.40"></a><span id="l48.40"> }</span>
<a href="#l48.41"></a><span id="l48.41"> </span>
<a href="#l48.42"></a><span id="l48.42"> function onUnload() {</span>
<a href="#l48.43"></a><span id="l48.43" class="difflineminus">-    if (typeof ToolbarIconColor !== &quot;undefined&quot;) {</span>
<a href="#l48.44"></a><span id="l48.44" class="difflineminus">-        ToolbarIconColor.uninit();</span>
<a href="#l48.45"></a><span id="l48.45" class="difflineplus">+    if (typeof window.ToolbarIconColor !== &quot;undefined&quot;) {</span>
<a href="#l48.46"></a><span id="l48.46" class="difflineplus">+        window.ToolbarIconColor.uninit();</span>
<a href="#l48.47"></a><span id="l48.47">     }</span>
<a href="#l48.48"></a><span id="l48.48"> }</span>
<a href="#l48.49"></a><span id="l48.49"> </span>
<a href="#l48.50"></a><span id="l48.50"> /**</span>
<a href="#l48.51"></a><span id="l48.51">  * Saves any changed information to the item.</span>
<a href="#l48.52"></a><span id="l48.52">  *</span>
<a href="#l48.53"></a><span id="l48.53">  * @return      Returns true if the dialog</span>
<a href="#l48.54"></a><span id="l48.54">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/calendar/base/content/dialogs/chooseCalendarDialog.js</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/calendar/base/content/dialogs/chooseCalendarDialog.js</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -1,13 +1,16 @@</span>
<a href="#l49.4"></a><span id="l49.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l49.5"></a><span id="l49.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l49.6"></a><span id="l49.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l49.7"></a><span id="l49.7"> </span>
<a href="#l49.8"></a><span id="l49.8"> /* exported loadCalendars, doOK, doExtra1 */</span>
<a href="#l49.9"></a><span id="l49.9" class="difflineplus">+</span>
<a href="#l49.10"></a><span id="l49.10" class="difflineplus">+/* import-globals-from ../calendar-ui-utils.js */</span>
<a href="#l49.11"></a><span id="l49.11" class="difflineplus">+</span>
<a href="#l49.12"></a><span id="l49.12"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l49.13"></a><span id="l49.13"> </span>
<a href="#l49.14"></a><span id="l49.14"> function loadCalendars() {</span>
<a href="#l49.15"></a><span id="l49.15">     const calendarManager = Cc[&quot;@mozilla.org/calendar/manager;1&quot;]</span>
<a href="#l49.16"></a><span id="l49.16">                               .getService(Ci.calICalendarManager);</span>
<a href="#l49.17"></a><span id="l49.17">     let listbox = document.getElementById(&quot;calendar-list&quot;);</span>
<a href="#l49.18"></a><span id="l49.18">     let composite = cal.view.getCompositeCalendar(window.opener);</span>
<a href="#l49.19"></a><span id="l49.19">     let selectedIndex = 0;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/calendar/base/content/import-export.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/calendar/base/content/import-export.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -1,12 +1,15 @@</span>
<a href="#l50.4"></a><span id="l50.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l50.5"></a><span id="l50.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l50.6"></a><span id="l50.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l50.7"></a><span id="l50.7"> </span>
<a href="#l50.8"></a><span id="l50.8" class="difflineplus">+/* import-globals-from calendar-item-editing.js */</span>
<a href="#l50.9"></a><span id="l50.9" class="difflineplus">+</span>
<a href="#l50.10"></a><span id="l50.10" class="difflineplus">+var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l50.11"></a><span id="l50.11"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l50.12"></a><span id="l50.12"> </span>
<a href="#l50.13"></a><span id="l50.13"> /* exported loadEventsFromFile, exportEntireCalendar */</span>
<a href="#l50.14"></a><span id="l50.14"> </span>
<a href="#l50.15"></a><span id="l50.15"> // File constants copied from file-utils.js</span>
<a href="#l50.16"></a><span id="l50.16"> var MODE_RDONLY = 0x01;</span>
<a href="#l50.17"></a><span id="l50.17"> var MODE_WRONLY = 0x02;</span>
<a href="#l50.18"></a><span id="l50.18"> var MODE_CREATE = 0x08;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/calendar/base/content/preferences/alarms.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/calendar/base/content/preferences/alarms.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l51.4"></a><span id="l51.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l51.5"></a><span id="l51.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l51.6"></a><span id="l51.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l51.7"></a><span id="l51.7"> </span>
<a href="#l51.8"></a><span id="l51.8"> /* exported gAlarmsPane */</span>
<a href="#l51.9"></a><span id="l51.9"> </span>
<a href="#l51.10"></a><span id="l51.10" class="difflineplus">+/* import-globals-from ../../../lightning/content/messenger-overlay-preferences.js */</span>
<a href="#l51.11"></a><span id="l51.11" class="difflineplus">+</span>
<a href="#l51.12"></a><span id="l51.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l51.13"></a><span id="l51.13"> </span>
<a href="#l51.14"></a><span id="l51.14"> Preferences.addAll([</span>
<a href="#l51.15"></a><span id="l51.15">     { id: &quot;calendar.alarms.playsound&quot;, type: &quot;bool&quot; },</span>
<a href="#l51.16"></a><span id="l51.16">     { id: &quot;calendar.alarms.soundURL&quot;, type: &quot;string&quot; },</span>
<a href="#l51.17"></a><span id="l51.17">     { id: &quot;calendar.alarms.show&quot;, type: &quot;bool&quot; },</span>
<a href="#l51.18"></a><span id="l51.18">     { id: &quot;calendar.alarms.showmissed&quot;, type: &quot;bool&quot; },</span>
<a href="#l51.19"></a><span id="l51.19">     { id: &quot;calendar.alarms.onforevents&quot;, type: &quot;int&quot; },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/calendar/base/content/preferences/categories.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/calendar/base/content/preferences/categories.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -1,14 +1,18 @@</span>
<a href="#l52.4"></a><span id="l52.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l52.5"></a><span id="l52.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l52.6"></a><span id="l52.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l52.7"></a><span id="l52.7"> </span>
<a href="#l52.8"></a><span id="l52.8"> /* exported gCategoriesPane */</span>
<a href="#l52.9"></a><span id="l52.9"> </span>
<a href="#l52.10"></a><span id="l52.10" class="difflineplus">+/* import-globals-from ../../../lightning/content/messenger-overlay-preferences.js */</span>
<a href="#l52.11"></a><span id="l52.11" class="difflineplus">+// From categories.xul.</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineplus">+/* globals noneLabel, newTitle, editTitle, overwrite, overwriteTitle, noBlankCategories */</span>
<a href="#l52.13"></a><span id="l52.13" class="difflineplus">+</span>
<a href="#l52.14"></a><span id="l52.14"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l52.15"></a><span id="l52.15"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l52.16"></a><span id="l52.16"> var { AppConstants } = ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l52.17"></a><span id="l52.17"> </span>
<a href="#l52.18"></a><span id="l52.18"> Preferences.add({ id: &quot;calendar.categories.names&quot;, type: &quot;string&quot; });</span>
<a href="#l52.19"></a><span id="l52.19"> </span>
<a href="#l52.20"></a><span id="l52.20"> var gCategoryList;</span>
<a href="#l52.21"></a><span id="l52.21"> var categoryPrefBranch = Services.prefs.getBranch(&quot;calendar.category.color.&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/calendar/base/content/preferences/general.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/calendar/base/content/preferences/general.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -1,14 +1,17 @@</span>
<a href="#l53.4"></a><span id="l53.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l53.5"></a><span id="l53.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l53.6"></a><span id="l53.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l53.7"></a><span id="l53.7"> </span>
<a href="#l53.8"></a><span id="l53.8"> /* exported gCalendarGeneralPane */</span>
<a href="#l53.9"></a><span id="l53.9"> </span>
<a href="#l53.10"></a><span id="l53.10" class="difflineplus">+/* import-globals-from ../../../lightning/content/messenger-overlay-preferences.js */</span>
<a href="#l53.11"></a><span id="l53.11" class="difflineplus">+/* globals labelLong, labelShort */// From general.xul.</span>
<a href="#l53.12"></a><span id="l53.12" class="difflineplus">+</span>
<a href="#l53.13"></a><span id="l53.13"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l53.14"></a><span id="l53.14"> </span>
<a href="#l53.15"></a><span id="l53.15"> Preferences.addAll([</span>
<a href="#l53.16"></a><span id="l53.16">     { id: &quot;calendar.date.format&quot;, type: &quot;int&quot; },</span>
<a href="#l53.17"></a><span id="l53.17">     { id: &quot;calendar.event.defaultlength&quot;, type: &quot;int&quot; },</span>
<a href="#l53.18"></a><span id="l53.18">     { id: &quot;calendar.timezone.local&quot;, type: &quot;string&quot; },</span>
<a href="#l53.19"></a><span id="l53.19">     { id: &quot;calendar.task.defaultstart&quot;, type: &quot;string&quot; },</span>
<a href="#l53.20"></a><span id="l53.20">     { id: &quot;calendar.task.defaultstartoffset&quot;, type: &quot;int&quot; },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/calendar/base/content/preferences/views.js</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/calendar/base/content/preferences/views.js</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l54.4"></a><span id="l54.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l54.5"></a><span id="l54.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l54.6"></a><span id="l54.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l54.7"></a><span id="l54.7"> </span>
<a href="#l54.8"></a><span id="l54.8"> /* exported gViewsPane */</span>
<a href="#l54.9"></a><span id="l54.9"> </span>
<a href="#l54.10"></a><span id="l54.10" class="difflineplus">+/* import-globals-from ../../../lightning/content/messenger-overlay-preferences.js */</span>
<a href="#l54.11"></a><span id="l54.11" class="difflineplus">+</span>
<a href="#l54.12"></a><span id="l54.12"> Preferences.addAll([</span>
<a href="#l54.13"></a><span id="l54.13">     { id: &quot;calendar.week.start&quot;, type: &quot;int&quot; },</span>
<a href="#l54.14"></a><span id="l54.14">     { id: &quot;calendar.view-minimonth.showWeekNumber&quot;, type: &quot;bool&quot; },</span>
<a href="#l54.15"></a><span id="l54.15">     { id: &quot;calendar.week.d0sundaysoff&quot;, type: &quot;bool&quot;, inverted: &quot;true&quot; },</span>
<a href="#l54.16"></a><span id="l54.16">     { id: &quot;calendar.week.d1mondaysoff&quot;, type: &quot;bool&quot;, inverted: &quot;true&quot; },</span>
<a href="#l54.17"></a><span id="l54.17">     { id: &quot;calendar.week.d2tuesdaysoff&quot;, type: &quot;bool&quot;, inverted: &quot;true&quot; },</span>
<a href="#l54.18"></a><span id="l54.18">     { id: &quot;calendar.week.d3wednesdaysoff&quot;, type: &quot;bool&quot;, inverted: &quot;true&quot; },</span>
<a href="#l54.19"></a><span id="l54.19">     { id: &quot;calendar.week.d4thursdaysoff&quot;, type: &quot;bool&quot;, inverted: &quot;true&quot; },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/calendar/base/content/today-pane.js</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/calendar/base/content/today-pane.js</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -1,12 +1,17 @@</span>
<a href="#l55.4"></a><span id="l55.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l55.5"></a><span id="l55.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l55.6"></a><span id="l55.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l55.7"></a><span id="l55.7"> </span>
<a href="#l55.8"></a><span id="l55.8" class="difflineplus">+/* import-globals-from ../../lightning/content/messenger-overlay-sidebar.js */</span>
<a href="#l55.9"></a><span id="l55.9" class="difflineplus">+/* import-globals-from agenda-listbox.js */</span>
<a href="#l55.10"></a><span id="l55.10" class="difflineplus">+/* import-globals-from calendar-chrome-startup.js */</span>
<a href="#l55.11"></a><span id="l55.11" class="difflineplus">+/* import-globals-from calendar-unifinder-todo.js */</span>
<a href="#l55.12"></a><span id="l55.12" class="difflineplus">+</span>
<a href="#l55.13"></a><span id="l55.13"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l55.14"></a><span id="l55.14"> </span>
<a href="#l55.15"></a><span id="l55.15"> /**</span>
<a href="#l55.16"></a><span id="l55.16">  * Namespace object to hold functions related to the today pane.</span>
<a href="#l55.17"></a><span id="l55.17">  */</span>
<a href="#l55.18"></a><span id="l55.18"> var TodayPane = {</span>
<a href="#l55.19"></a><span id="l55.19">     paneViews: null,</span>
<a href="#l55.20"></a><span id="l55.20">     start: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-alarm-widget.xml</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-alarm-widget.xml</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l56.4"></a><span id="l56.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l56.5"></a><span id="l56.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l56.6"></a><span id="l56.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l56.7"></a><span id="l56.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l56.8"></a><span id="l56.8"> </span>
<a href="#l56.9"></a><span id="l56.9" class="difflineplus">+&lt;!-- globals cal --&gt;</span>
<a href="#l56.10"></a><span id="l56.10" class="difflineplus">+</span>
<a href="#l56.11"></a><span id="l56.11"> &lt;!DOCTYPE bindings</span>
<a href="#l56.12"></a><span id="l56.12"> [</span>
<a href="#l56.13"></a><span id="l56.13">   &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l56.14"></a><span id="l56.14">   &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd2;</span>
<a href="#l56.15"></a><span id="l56.15"> ]&gt;</span>
<a href="#l56.16"></a><span id="l56.16"> </span>
<a href="#l56.17"></a><span id="l56.17"> &lt;bindings id=&quot;calendar-alarms&quot;</span>
<a href="#l56.18"></a><span id="l56.18">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l56.19"></a><span id="l56.19" class="difflineat">@@ -276,17 +278,17 @@</span>
<a href="#l56.20"></a><span id="l56.20">               }</span>
<a href="#l56.21"></a><span id="l56.21">           } else {</span>
<a href="#l56.22"></a><span id="l56.22">               selectedIndex = 0; // Minutes</span>
<a href="#l56.23"></a><span id="l56.23">           }</span>
<a href="#l56.24"></a><span id="l56.24"> </span>
<a href="#l56.25"></a><span id="l56.25">           unitList.selectedIndex = selectedIndex;</span>
<a href="#l56.26"></a><span id="l56.26">           unitValue.value = snoozePref;</span>
<a href="#l56.27"></a><span id="l56.27"> </span>
<a href="#l56.28"></a><span id="l56.28" class="difflineminus">-          updateAccessibleName();</span>
<a href="#l56.29"></a><span id="l56.29" class="difflineplus">+          this.updateAccessibleName();</span>
<a href="#l56.30"></a><span id="l56.30">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l56.31"></a><span id="l56.31"> </span>
<a href="#l56.32"></a><span id="l56.32">       &lt;method name=&quot;snoozeAlarm&quot;&gt;</span>
<a href="#l56.33"></a><span id="l56.33">         &lt;parameter name=&quot;minutes&quot;/&gt;</span>
<a href="#l56.34"></a><span id="l56.34">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l56.35"></a><span id="l56.35">             let snoozeEvent = document.createEvent(&quot;Events&quot;);</span>
<a href="#l56.36"></a><span id="l56.36">             snoozeEvent.initEvent(&quot;snooze&quot;, true, false);</span>
<a href="#l56.37"></a><span id="l56.37">             snoozeEvent.detail = minutes;</span>
<a href="#l56.38"></a><span id="l56.38" class="difflineat">@@ -323,16 +325,18 @@</span>
<a href="#l56.39"></a><span id="l56.39">             let unitPopup = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;snooze-unit-menupopup&quot;);</span>
<a href="#l56.40"></a><span id="l56.40">             let unitValue = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;snooze-value-textbox&quot;);</span>
<a href="#l56.41"></a><span id="l56.41">             let okButton = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;snooze-popup-ok&quot;);</span>
<a href="#l56.42"></a><span id="l56.42"> </span>
<a href="#l56.43"></a><span id="l56.43">             function unitName(list) {</span>
<a href="#l56.44"></a><span id="l56.44">                 return { 1: &quot;unitMinutes&quot;, 60: &quot;unitHours&quot;, 1440: &quot;unitDays&quot; }[list.value] || &quot;unitMinutes&quot;;</span>
<a href="#l56.45"></a><span id="l56.45">             }</span>
<a href="#l56.46"></a><span id="l56.46"> </span>
<a href="#l56.47"></a><span id="l56.47" class="difflineplus">+            let { PluralForm } = ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l56.48"></a><span id="l56.48" class="difflineplus">+</span>
<a href="#l56.49"></a><span id="l56.49">             let pluralString = cal.l10n.getCalString(unitName(unitList));</span>
<a href="#l56.50"></a><span id="l56.50">             let unitPlural = PluralForm.get(unitValue.value, pluralString)</span>
<a href="#l56.51"></a><span id="l56.51">                                        .replace(&quot;#1&quot;, unitValue.value);</span>
<a href="#l56.52"></a><span id="l56.52"> </span>
<a href="#l56.53"></a><span id="l56.53">             let accessibleString = cal.l10n.getString(&quot;calendar-alarms&quot;,</span>
<a href="#l56.54"></a><span id="l56.54">                                                       &quot;reminderSnoozeOkA11y&quot;,</span>
<a href="#l56.55"></a><span id="l56.55">                                                       [unitPlural]);</span>
<a href="#l56.56"></a><span id="l56.56">             okButton.setAttribute(&quot;aria-label&quot;, accessibleString);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-list-tree.xml</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-list-tree.xml</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -1,13 +1,16 @@</span>
<a href="#l57.4"></a><span id="l57.4"> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l57.5"></a><span id="l57.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l57.6"></a><span id="l57.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l57.7"></a><span id="l57.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l57.8"></a><span id="l57.8"> </span>
<a href="#l57.9"></a><span id="l57.9" class="difflineplus">+&lt;!-- import-globals-from ../calendar-common-sets.js --&gt;</span>
<a href="#l57.10"></a><span id="l57.10" class="difflineplus">+&lt;!-- import-globals-from ../calendar-views.js --&gt;</span>
<a href="#l57.11"></a><span id="l57.11" class="difflineplus">+</span>
<a href="#l57.12"></a><span id="l57.12"> &lt;!DOCTYPE bindings SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot;&gt;</span>
<a href="#l57.13"></a><span id="l57.13"> </span>
<a href="#l57.14"></a><span id="l57.14"> &lt;bindings id=&quot;calendar-list-tree-bindings&quot;</span>
<a href="#l57.15"></a><span id="l57.15">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l57.16"></a><span id="l57.16">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l57.17"></a><span id="l57.17">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l57.18"></a><span id="l57.18">   &lt;binding id=&quot;full-calendar-list-tree&quot; extends=&quot;#calendar-list-tree&quot;&gt;</span>
<a href="#l57.19"></a><span id="l57.19">     &lt;!--</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-widgets.xml</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-widgets.xml</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -1,12 +1,16 @@</span>
<a href="#l58.4"></a><span id="l58.4"> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l58.5"></a><span id="l58.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l58.6"></a><span id="l58.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l58.7"></a><span id="l58.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l58.8"></a><span id="l58.8" class="difflineplus">+</span>
<a href="#l58.9"></a><span id="l58.9" class="difflineplus">+&lt;!-- import-globals-from ../calendar-ui-utils.js --&gt;</span>
<a href="#l58.10"></a><span id="l58.10" class="difflineplus">+&lt;!-- import-globals-from ../calendar-views.js --&gt;</span>
<a href="#l58.11"></a><span id="l58.11" class="difflineplus">+</span>
<a href="#l58.12"></a><span id="l58.12"> &lt;!DOCTYPE dialog [</span>
<a href="#l58.13"></a><span id="l58.13">   &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://global/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l58.14"></a><span id="l58.14">   &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar-event-dialog.dtd&quot;&gt; %dtd2;</span>
<a href="#l58.15"></a><span id="l58.15"> ]&gt;</span>
<a href="#l58.16"></a><span id="l58.16"> </span>
<a href="#l58.17"></a><span id="l58.17"> &lt;bindings id=&quot;calendar-widgets&quot;</span>
<a href="#l58.18"></a><span id="l58.18">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l58.19"></a><span id="l58.19">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l58.20"></a><span id="l58.20" class="difflineat">@@ -379,18 +383,18 @@</span>
<a href="#l58.21"></a><span id="l58.21">     &lt;handlers&gt;</span>
<a href="#l58.22"></a><span id="l58.22">       &lt;handler event=&quot;dragstart&quot; phase=&quot;capturing&quot;&gt;&lt;![CDATA[</span>
<a href="#l58.23"></a><span id="l58.23">           let draggedDOMNode = event.target;</span>
<a href="#l58.24"></a><span id="l58.24">           if (!draggedDOMNode || draggedDOMNode.parentNode != this) {</span>
<a href="#l58.25"></a><span id="l58.25">               return;</span>
<a href="#l58.26"></a><span id="l58.26">           }</span>
<a href="#l58.27"></a><span id="l58.27">           let item = draggedDOMNode.occurrence.clone();</span>
<a href="#l58.28"></a><span id="l58.28">           let beginMoveDate = draggedDOMNode.mParentBox.date;</span>
<a href="#l58.29"></a><span id="l58.29" class="difflineminus">-          let itemStartDate = (item.startDate || item.entryDate || item.dueDate).getInTimezone(calendarView.mTimezone);</span>
<a href="#l58.30"></a><span id="l58.30" class="difflineminus">-          let itemEndDate = (item.endDate || item.dueDate || item.entryDate).getInTimezone(calendarView.mTimezone);</span>
<a href="#l58.31"></a><span id="l58.31" class="difflineplus">+          let itemStartDate = (item.startDate || item.entryDate || item.dueDate).getInTimezone(this.calendarView.mTimezone);</span>
<a href="#l58.32"></a><span id="l58.32" class="difflineplus">+          let itemEndDate = (item.endDate || item.dueDate || item.entryDate).getInTimezone(this.calendarView.mTimezone);</span>
<a href="#l58.33"></a><span id="l58.33">           let oneMoreDay = (itemEndDate.hour &gt; 0 || itemEndDate.minute &gt; 0);</span>
<a href="#l58.34"></a><span id="l58.34">           itemStartDate.isDate = true;</span>
<a href="#l58.35"></a><span id="l58.35">           itemEndDate.isDate = true;</span>
<a href="#l58.36"></a><span id="l58.36">           let offsetDuration = itemStartDate.subtractDate(beginMoveDate);</span>
<a href="#l58.37"></a><span id="l58.37">           let lenDuration = itemEndDate.subtractDate(itemStartDate);</span>
<a href="#l58.38"></a><span id="l58.38">           let len = lenDuration.weeks * 7 + lenDuration.days;</span>
<a href="#l58.39"></a><span id="l58.39">           this.calendarView.mShadowOffset = offsetDuration;</span>
<a href="#l58.40"></a><span id="l58.40">           this.calendarView.mDropShadowsLength = oneMoreDay ? len + 1 : len;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/calendar/base/content/widgets/minimonth.xml</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/calendar/base/content/widgets/minimonth.xml</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -22,16 +22,18 @@</span>
<a href="#l59.4"></a><span id="l59.4">    bugs that occur when minimonth is displayed in a popup (as in datepicker):</span>
<a href="#l59.5"></a><span id="l59.5">      Currently (2005.3)</span>
<a href="#l59.6"></a><span id="l59.6">        whenever a child popup is hidden, the parent popup needs to be reshown.</span>
<a href="#l59.7"></a><span id="l59.7">          Use onpopuplisthidden to reshow parent popop (hidePopup, openPopup).</span>
<a href="#l59.8"></a><span id="l59.8">        When title month or year changes, parent popup may need to be reshown.</span>
<a href="#l59.9"></a><span id="l59.9">          Use onmonthchange to reshow parent popop (hidePopup, openPopup).</span>
<a href="#l59.10"></a><span id="l59.10"> --&gt;</span>
<a href="#l59.11"></a><span id="l59.11"> </span>
<a href="#l59.12"></a><span id="l59.12" class="difflineplus">+&lt;!-- import-globals-from ../calendar-ui-utils.js --&gt;</span>
<a href="#l59.13"></a><span id="l59.13" class="difflineplus">+</span>
<a href="#l59.14"></a><span id="l59.14"> &lt;!DOCTYPE bindings</span>
<a href="#l59.15"></a><span id="l59.15"> [</span>
<a href="#l59.16"></a><span id="l59.16">     &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l59.17"></a><span id="l59.17">     &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://global/locale/global.dtd&quot; &gt; %dtd2;</span>
<a href="#l59.18"></a><span id="l59.18"> ]&gt;</span>
<a href="#l59.19"></a><span id="l59.19"> </span>
<a href="#l59.20"></a><span id="l59.20"> &lt;bindings id=&quot;xulMiniMonth&quot;</span>
<a href="#l59.21"></a><span id="l59.21">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/calendar/base/modules/calUtils.jsm</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/calendar/base/modules/calUtils.jsm</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -204,17 +204,17 @@ var cal = {</span>
<a href="#l60.4"></a><span id="l60.4">      * Generate a ClassInfo implementation for a component. The returned object</span>
<a href="#l60.5"></a><span id="l60.5">      * must be assigned to the 'classInfo' property of a JS object. The first and</span>
<a href="#l60.6"></a><span id="l60.6">      * only argument should be an object that contains a number of optional</span>
<a href="#l60.7"></a><span id="l60.7">      * properties: &quot;interfaces&quot;, &quot;contractID&quot;, &quot;classDescription&quot;, &quot;classID&quot; and</span>
<a href="#l60.8"></a><span id="l60.8">      * &quot;flags&quot;. The values of the properties will be returned as the values of the</span>
<a href="#l60.9"></a><span id="l60.9">      * various properties of the nsIClassInfo implementation.</span>
<a href="#l60.10"></a><span id="l60.10">      */</span>
<a href="#l60.11"></a><span id="l60.11">     generateCI: function(classInfo) {</span>
<a href="#l60.12"></a><span id="l60.12" class="difflineminus">-        if (QueryInterface in classInfo) {</span>
<a href="#l60.13"></a><span id="l60.13" class="difflineplus">+        if (&quot;QueryInterface&quot; in classInfo) {</span>
<a href="#l60.14"></a><span id="l60.14">             throw Error(&quot;In generateCI, don't use a component for generating classInfo&quot;);</span>
<a href="#l60.15"></a><span id="l60.15">         }</span>
<a href="#l60.16"></a><span id="l60.16">         /* Note that Ci[Ci.x] == Ci.x for all x */</span>
<a href="#l60.17"></a><span id="l60.17">         let _interfaces = [];</span>
<a href="#l60.18"></a><span id="l60.18">         for (let i = 0; i &lt; classInfo.interfaces.length; i++) {</span>
<a href="#l60.19"></a><span id="l60.19">             let iface = classInfo.interfaces[i];</span>
<a href="#l60.20"></a><span id="l60.20">             if (Ci[iface]) {</span>
<a href="#l60.21"></a><span id="l60.21">                 _interfaces.push(Ci[iface]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/calendar/base/modules/utils/calACLUtils.jsm</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/calendar/base/modules/utils/calACLUtils.jsm</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -76,11 +76,11 @@ var calacl = {</span>
<a href="#l61.4"></a><span id="l61.4">      *</span>
<a href="#l61.5"></a><span id="l61.5">      * @param aItem         The calendar item to check</span>
<a href="#l61.6"></a><span id="l61.6">      * @return              True if the invitation w.r.t. the item can be</span>
<a href="#l61.7"></a><span id="l61.7">      *                        responded to.</span>
<a href="#l61.8"></a><span id="l61.8">      */</span>
<a href="#l61.9"></a><span id="l61.9">     userCanRespondToInvitation: function(aItem) {</span>
<a href="#l61.10"></a><span id="l61.10">         let aclEntry = aItem.aclEntry;</span>
<a href="#l61.11"></a><span id="l61.11">         // TODO check if || is really wanted here</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineminus">-        return aclUtils.userCanModifyItem(aItem) || aclEntry.userCanRespond;</span>
<a href="#l61.13"></a><span id="l61.13" class="difflineplus">+        return calacl.userCanModifyItem(aItem) || aclEntry.userCanRespond;</span>
<a href="#l61.14"></a><span id="l61.14">     }</span>
<a href="#l61.15"></a><span id="l61.15"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/calendar/base/src/calCalendarManager.js</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/calendar/base/src/calCalendarManager.js</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l62.4"></a><span id="l62.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l62.5"></a><span id="l62.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l62.6"></a><span id="l62.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l62.7"></a><span id="l62.7"> </span>
<a href="#l62.8"></a><span id="l62.8" class="difflineplus">+/* import-globals-from calItemModule.js */</span>
<a href="#l62.9"></a><span id="l62.9" class="difflineplus">+</span>
<a href="#l62.10"></a><span id="l62.10"> var { AddonManager } = ChromeUtils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l62.11"></a><span id="l62.11"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l62.12"></a><span id="l62.12"> var { Preferences } = ChromeUtils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l62.13"></a><span id="l62.13"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l62.14"></a><span id="l62.14"> </span>
<a href="#l62.15"></a><span id="l62.15"> var REGISTRY_BRANCH = &quot;calendar.registry.&quot;;</span>
<a href="#l62.16"></a><span id="l62.16"> var DB_SCHEMA_VERSION = 10;</span>
<a href="#l62.17"></a><span id="l62.17"> var MAX_INT = Math.pow(2, 31) - 1;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/calendar/base/src/calEvent.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/calendar/base/src/calEvent.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l63.4"></a><span id="l63.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l63.5"></a><span id="l63.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l63.6"></a><span id="l63.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l63.7"></a><span id="l63.7"> </span>
<a href="#l63.8"></a><span id="l63.8" class="difflineplus">+/* import-globals-from calItemModule.js */</span>
<a href="#l63.9"></a><span id="l63.9" class="difflineplus">+</span>
<a href="#l63.10"></a><span id="l63.10"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l63.11"></a><span id="l63.11"> </span>
<a href="#l63.12"></a><span id="l63.12"> //</span>
<a href="#l63.13"></a><span id="l63.13"> // constructor</span>
<a href="#l63.14"></a><span id="l63.14"> //</span>
<a href="#l63.15"></a><span id="l63.15"> function calEvent() {</span>
<a href="#l63.16"></a><span id="l63.16">     this.initItemBase();</span>
<a href="#l63.17"></a><span id="l63.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1" class="difflineminus">--- a/calendar/base/src/calFilter.js</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineplus">+++ b/calendar/base/src/calFilter.js</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l64.4"></a><span id="l64.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l64.5"></a><span id="l64.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l64.6"></a><span id="l64.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l64.7"></a><span id="l64.7"> </span>
<a href="#l64.8"></a><span id="l64.8" class="difflineplus">+/* import-globals-from ../content/calendar-views.js */</span>
<a href="#l64.9"></a><span id="l64.9" class="difflineplus">+</span>
<a href="#l64.10"></a><span id="l64.10"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l64.11"></a><span id="l64.11"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l64.12"></a><span id="l64.12"> </span>
<a href="#l64.13"></a><span id="l64.13"> /**</span>
<a href="#l64.14"></a><span id="l64.14">  * Object that contains a set of filter properties that may be used by a calFilter object</span>
<a href="#l64.15"></a><span id="l64.15">  * to filter a set of items.</span>
<a href="#l64.16"></a><span id="l64.16">  * Supported filter properties:</span>
<a href="#l64.17"></a><span id="l64.17">  *   start, end:   Specifies the relative date range to use when calculating the filter date</span>
<a href="#l64.18"></a><span id="l64.18" class="difflineat">@@ -323,17 +325,17 @@ calFilter.prototype = {</span>
<a href="#l64.19"></a><span id="l64.19">      * Returns the filter name that a set of filter properties were previously defined as.</span>
<a href="#l64.20"></a><span id="l64.20">      *</span>
<a href="#l64.21"></a><span id="l64.21">      * @param aFilterProperties   The filter properties previously defined.</span>
<a href="#l64.22"></a><span id="l64.22">      * @return                    The name of the first filter name that the properties</span>
<a href="#l64.23"></a><span id="l64.23">      *                            were defined as, or null if the filter properties were</span>
<a href="#l64.24"></a><span id="l64.24">      *                            not previously defined.</span>
<a href="#l64.25"></a><span id="l64.25">      */</span>
<a href="#l64.26"></a><span id="l64.26">     getDefinedFilterName: function(aFilterProperties) {</span>
<a href="#l64.27"></a><span id="l64.27" class="difflineminus">-        for (filter in this.mDefinedFilters) {</span>
<a href="#l64.28"></a><span id="l64.28" class="difflineplus">+        for (let filter in this.mDefinedFilters) {</span>
<a href="#l64.29"></a><span id="l64.29">             if (this.mDefinedFilters[filter].equals(aFilterProperties)) {</span>
<a href="#l64.30"></a><span id="l64.30">                 return filter;</span>
<a href="#l64.31"></a><span id="l64.31">             }</span>
<a href="#l64.32"></a><span id="l64.32">         }</span>
<a href="#l64.33"></a><span id="l64.33">         return null;</span>
<a href="#l64.34"></a><span id="l64.34">     },</span>
<a href="#l64.35"></a><span id="l64.35"> </span>
<a href="#l64.36"></a><span id="l64.36">     /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1" class="difflineminus">--- a/calendar/base/src/calIcsParser.js</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineplus">+++ b/calendar/base/src/calIcsParser.js</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineat">@@ -1,14 +1,15 @@</span>
<a href="#l65.4"></a><span id="l65.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l65.5"></a><span id="l65.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l65.6"></a><span id="l65.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l65.7"></a><span id="l65.7"> </span>
<a href="#l65.8"></a><span id="l65.8"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l65.9"></a><span id="l65.9"> var { NetUtil } = ChromeUtils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l65.10"></a><span id="l65.10" class="difflineplus">+var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l65.11"></a><span id="l65.11"> </span>
<a href="#l65.12"></a><span id="l65.12"> function calIcsParser() {</span>
<a href="#l65.13"></a><span id="l65.13">     this.wrappedJSObject = this;</span>
<a href="#l65.14"></a><span id="l65.14">     this.mItems = [];</span>
<a href="#l65.15"></a><span id="l65.15">     this.mParentlessItems = [];</span>
<a href="#l65.16"></a><span id="l65.16">     this.mComponents = [];</span>
<a href="#l65.17"></a><span id="l65.17">     this.mProperties = [];</span>
<a href="#l65.18"></a><span id="l65.18"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/calendar/base/src/calItemBase.js</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/calendar/base/src/calItemBase.js</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l66.4"></a><span id="l66.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l66.5"></a><span id="l66.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l66.6"></a><span id="l66.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l66.7"></a><span id="l66.7"> </span>
<a href="#l66.8"></a><span id="l66.8" class="difflineplus">+/* import-globals-from calItemModule.js */</span>
<a href="#l66.9"></a><span id="l66.9" class="difflineplus">+</span>
<a href="#l66.10"></a><span id="l66.10"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l66.11"></a><span id="l66.11"> </span>
<a href="#l66.12"></a><span id="l66.12"> /**</span>
<a href="#l66.13"></a><span id="l66.13">  * calItemBase prototype definition</span>
<a href="#l66.14"></a><span id="l66.14">  *</span>
<a href="#l66.15"></a><span id="l66.15">  * @implements calIItemBase</span>
<a href="#l66.16"></a><span id="l66.16">  * @constructor</span>
<a href="#l66.17"></a><span id="l66.17">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1" class="difflineminus">--- a/calendar/base/src/calItemModule.js</span>
<a href="#l67.2"></a><span id="l67.2" class="difflineplus">+++ b/calendar/base/src/calItemModule.js</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineat">@@ -1,12 +1,37 @@</span>
<a href="#l67.4"></a><span id="l67.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l67.5"></a><span id="l67.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l67.6"></a><span id="l67.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l67.7"></a><span id="l67.7"> </span>
<a href="#l67.8"></a><span id="l67.8" class="difflineplus">+/* import-globals-from calItemBase.js */</span>
<a href="#l67.9"></a><span id="l67.9" class="difflineplus">+/* import-globals-from calCachedCalendar.js */</span>
<a href="#l67.10"></a><span id="l67.10" class="difflineplus">+/* import-globals-from calAlarm.js */</span>
<a href="#l67.11"></a><span id="l67.11" class="difflineplus">+/* import-globals-from calAlarmMonitor.js */</span>
<a href="#l67.12"></a><span id="l67.12" class="difflineplus">+/* import-globals-from calAlarmService.js */</span>
<a href="#l67.13"></a><span id="l67.13" class="difflineplus">+/* import-globals-from calAttendee.js */</span>
<a href="#l67.14"></a><span id="l67.14" class="difflineplus">+/* import-globals-from calAttachment.js */</span>
<a href="#l67.15"></a><span id="l67.15" class="difflineplus">+/* import-globals-from calCalendarManager.js */</span>
<a href="#l67.16"></a><span id="l67.16" class="difflineplus">+/* import-globals-from calCalendarSearchService.js */</span>
<a href="#l67.17"></a><span id="l67.17" class="difflineplus">+/* import-globals-from calDateTimeFormatter.js */</span>
<a href="#l67.18"></a><span id="l67.18" class="difflineplus">+/* import-globals-from calDeletedItems.js */</span>
<a href="#l67.19"></a><span id="l67.19" class="difflineplus">+/* import-globals-from calEvent.js */</span>
<a href="#l67.20"></a><span id="l67.20" class="difflineplus">+/* import-globals-from calFreeBusyService.js */</span>
<a href="#l67.21"></a><span id="l67.21" class="difflineplus">+/* import-globals-from calIcsParser.js */</span>
<a href="#l67.22"></a><span id="l67.22" class="difflineplus">+/* import-globals-from calIcsSerializer.js */</span>
<a href="#l67.23"></a><span id="l67.23" class="difflineplus">+/* import-globals-from calItipItem.js */</span>
<a href="#l67.24"></a><span id="l67.24" class="difflineplus">+/* import-globals-from calProtocolHandler.js */</span>
<a href="#l67.25"></a><span id="l67.25" class="difflineplus">+/* import-globals-from calRecurrenceDate.js */</span>
<a href="#l67.26"></a><span id="l67.26" class="difflineplus">+/* import-globals-from calRecurrenceInfo.js */</span>
<a href="#l67.27"></a><span id="l67.27" class="difflineplus">+/* import-globals-from calRelation.js */</span>
<a href="#l67.28"></a><span id="l67.28" class="difflineplus">+/* import-globals-from calStartupService.js */</span>
<a href="#l67.29"></a><span id="l67.29" class="difflineplus">+/* import-globals-from calTransactionManager.js */</span>
<a href="#l67.30"></a><span id="l67.30" class="difflineplus">+/* import-globals-from calTodo.js */</span>
<a href="#l67.31"></a><span id="l67.31" class="difflineplus">+/* import-globals-from calWeekInfoService.js */</span>
<a href="#l67.32"></a><span id="l67.32" class="difflineplus">+</span>
<a href="#l67.33"></a><span id="l67.33"> var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l67.34"></a><span id="l67.34"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l67.35"></a><span id="l67.35"> </span>
<a href="#l67.36"></a><span id="l67.36"> this.NSGetFactory = (cid) =&gt; {</span>
<a href="#l67.37"></a><span id="l67.37">     let scriptLoadOrder = [</span>
<a href="#l67.38"></a><span id="l67.38">         &quot;resource://calendar/calendar-js/calItemBase.js&quot;,</span>
<a href="#l67.39"></a><span id="l67.39">         &quot;resource://calendar/calendar-js/calCachedCalendar.js&quot;,</span>
<a href="#l67.40"></a><span id="l67.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1" class="difflineminus">--- a/calendar/base/src/calTimezoneService.js</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineplus">+++ b/calendar/base/src/calTimezoneService.js</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l68.4"></a><span id="l68.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l68.5"></a><span id="l68.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l68.6"></a><span id="l68.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l68.7"></a><span id="l68.7"> </span>
<a href="#l68.8"></a><span id="l68.8" class="difflineplus">+/* import-globals-from calTimezone.js */</span>
<a href="#l68.9"></a><span id="l68.9" class="difflineplus">+</span>
<a href="#l68.10"></a><span id="l68.10"> var { NetUtil } = ChromeUtils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l68.11"></a><span id="l68.11"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l68.12"></a><span id="l68.12"> var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l68.13"></a><span id="l68.13"> </span>
<a href="#l68.14"></a><span id="l68.14"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l68.15"></a><span id="l68.15"> var { ICAL, unwrapSingle } = ChromeUtils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l68.16"></a><span id="l68.16"> </span>
<a href="#l68.17"></a><span id="l68.17"> function calStringEnumerator(stringArray) {</span>
<a href="#l68.18"></a><span id="l68.18" class="difflineat">@@ -470,17 +472,17 @@ function guessSystemTimezone() {</span>
<a href="#l68.19"></a><span id="l68.19">             // Must examine UNTIL date (not next daylight start) because</span>
<a href="#l68.20"></a><span id="l68.20">             // some zones (e.g., Arizona, Hawaii) may stop using daylight</span>
<a href="#l68.21"></a><span id="l68.21">             // time, so there might not be a next daylight start.</span>
<a href="#l68.22"></a><span id="l68.22">             let rrule = period.getFirstProperty(&quot;RRULE&quot;);</span>
<a href="#l68.23"></a><span id="l68.23">             if (rrule) {</span>
<a href="#l68.24"></a><span id="l68.24">                 let match = untilRegex.exec(rrule.valueAsIcalString);</span>
<a href="#l68.25"></a><span id="l68.25">                 if (match) {</span>
<a href="#l68.26"></a><span id="l68.26">                     periodUntilCalDate.icalString = match[1];</span>
<a href="#l68.27"></a><span id="l68.27" class="difflineminus">-                    if (todayUTC.nativeTime &gt; periodUntilDate.nativeTime) {</span>
<a href="#l68.28"></a><span id="l68.28" class="difflineplus">+                    if (todayUTC.nativeTime &gt; periodUntilCalDate.nativeTime) {</span>
<a href="#l68.29"></a><span id="l68.29">                         continue; // period ends too early</span>
<a href="#l68.30"></a><span id="l68.30">                     }</span>
<a href="#l68.31"></a><span id="l68.31">                 } // else forever rule</span>
<a href="#l68.32"></a><span id="l68.32">             } // else no daylight rule</span>
<a href="#l68.33"></a><span id="l68.33"> </span>
<a href="#l68.34"></a><span id="l68.34">             // found period that covers today.</span>
<a href="#l68.35"></a><span id="l68.35">             if (!isForNextTransitionDate) {</span>
<a href="#l68.36"></a><span id="l68.36">                 return period;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1" class="difflineminus">--- a/calendar/base/src/calTodo.js</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineplus">+++ b/calendar/base/src/calTodo.js</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l69.4"></a><span id="l69.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l69.5"></a><span id="l69.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l69.6"></a><span id="l69.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l69.7"></a><span id="l69.7"> </span>
<a href="#l69.8"></a><span id="l69.8" class="difflineplus">+/* import-globals-from calItemModule.js */</span>
<a href="#l69.9"></a><span id="l69.9" class="difflineplus">+</span>
<a href="#l69.10"></a><span id="l69.10"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l69.11"></a><span id="l69.11"> </span>
<a href="#l69.12"></a><span id="l69.12"> //</span>
<a href="#l69.13"></a><span id="l69.13"> // constructor</span>
<a href="#l69.14"></a><span id="l69.14"> //</span>
<a href="#l69.15"></a><span id="l69.15"> function calTodo() {</span>
<a href="#l69.16"></a><span id="l69.16">     this.initItemBase();</span>
<a href="#l69.17"></a><span id="l69.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/calendar/import-export/calImportExportModule.js</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/calendar/import-export/calImportExportModule.js</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -1,12 +1,19 @@</span>
<a href="#l70.4"></a><span id="l70.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l70.5"></a><span id="l70.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l70.6"></a><span id="l70.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l70.7"></a><span id="l70.7"> </span>
<a href="#l70.8"></a><span id="l70.8" class="difflineplus">+/* import-globals-from calIcsImportExport.js */</span>
<a href="#l70.9"></a><span id="l70.9" class="difflineplus">+/* import-globals-from calHtmlExport.js */</span>
<a href="#l70.10"></a><span id="l70.10" class="difflineplus">+/* import-globals-from calOutlookCSVImportExport.js */</span>
<a href="#l70.11"></a><span id="l70.11" class="difflineplus">+/* import-globals-from calListFormatter.js */</span>
<a href="#l70.12"></a><span id="l70.12" class="difflineplus">+/* import-globals-from calMonthGridPrinter.js */</span>
<a href="#l70.13"></a><span id="l70.13" class="difflineplus">+/* import-globals-from calWeekPrinter.js */</span>
<a href="#l70.14"></a><span id="l70.14" class="difflineplus">+</span>
<a href="#l70.15"></a><span id="l70.15"> var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l70.16"></a><span id="l70.16"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l70.17"></a><span id="l70.17"> </span>
<a href="#l70.18"></a><span id="l70.18"> this.NSGetFactory = (cid) =&gt; {</span>
<a href="#l70.19"></a><span id="l70.19">     let scriptLoadOrder = [</span>
<a href="#l70.20"></a><span id="l70.20">         &quot;resource://calendar/calendar-js/calIcsImportExport.js&quot;,</span>
<a href="#l70.21"></a><span id="l70.21">         &quot;resource://calendar/calendar-js/calHtmlExport.js&quot;,</span>
<a href="#l70.22"></a><span id="l70.22">         &quot;resource://calendar/calendar-js/calOutlookCSVImportExport.js&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1" class="difflineminus">--- a/calendar/import-export/calMonthGridPrinter.js</span>
<a href="#l71.2"></a><span id="l71.2" class="difflineplus">+++ b/calendar/import-export/calMonthGridPrinter.js</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineat">@@ -116,17 +116,17 @@ calMonthPrinter.prototype = {</span>
<a href="#l71.4"></a><span id="l71.4">         // Copy end date, which is exclusive. For our calculations, we will</span>
<a href="#l71.5"></a><span id="l71.5">         // only be handling dates and the formatToHtml() code is much cleaner with</span>
<a href="#l71.6"></a><span id="l71.6">         // the range being inclusive.</span>
<a href="#l71.7"></a><span id="l71.7">         let endDate = aEnd.clone();</span>
<a href="#l71.8"></a><span id="l71.8">         endDate.isDate = true;</span>
<a href="#l71.9"></a><span id="l71.9"> </span>
<a href="#l71.10"></a><span id="l71.10">         // Find out if the end date is also shown in the last week of the</span>
<a href="#l71.11"></a><span id="l71.11">         // previous month. This also means we can spare a month printout.</span>
<a href="#l71.12"></a><span id="l71.12" class="difflineminus">-        lastDayOfPreviousMonth = endDate.clone();</span>
<a href="#l71.13"></a><span id="l71.13" class="difflineplus">+        let lastDayOfPreviousMonth = endDate.clone();</span>
<a href="#l71.14"></a><span id="l71.14">         lastDayOfPreviousMonth.month--;</span>
<a href="#l71.15"></a><span id="l71.15">         lastDayOfPreviousMonth = lastDayOfPreviousMonth.endOfMonth;</span>
<a href="#l71.16"></a><span id="l71.16">         if (cal.getWeekInfoService().getEndOfWeek(lastDayOfPreviousMonth).compare(endDate) &gt;= 0) {</span>
<a href="#l71.17"></a><span id="l71.17">             endDate = lastDayOfPreviousMonth;</span>
<a href="#l71.18"></a><span id="l71.18">         }</span>
<a href="#l71.19"></a><span id="l71.19"> </span>
<a href="#l71.20"></a><span id="l71.20">         return endDate;</span>
<a href="#l71.21"></a><span id="l71.21">     },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1" class="difflineminus">--- a/calendar/itip/calItipEmailTransport.js</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineplus">+++ b/calendar/itip/calItipEmailTransport.js</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineat">@@ -158,17 +158,17 @@ calItipEmailTransport.prototype = {</span>
<a href="#l72.4"></a><span id="l72.4">                 // identity.</span>
<a href="#l72.5"></a><span id="l72.5">                 let allIdentities = MailServices.accounts.allIdentities;</span>
<a href="#l72.6"></a><span id="l72.6">                 if (allIdentities.length &gt; 0) {</span>
<a href="#l72.7"></a><span id="l72.7">                     this.mDefaultIdentity = allIdentities.queryElementAt(0, Ci.nsIMsgIdentity);</span>
<a href="#l72.8"></a><span id="l72.8">                 } else {</span>
<a href="#l72.9"></a><span id="l72.9">                     // If there are no identities, then we are in the same</span>
<a href="#l72.10"></a><span id="l72.10">                     // situation as if we didn't have Xpcom Mail.</span>
<a href="#l72.11"></a><span id="l72.11">                     this.mHasXpcomMail = false;</span>
<a href="#l72.12"></a><span id="l72.12" class="difflineminus">-                    cal.LOG(&quot;initEmailService: No XPCOM Mail available: &quot; + e);</span>
<a href="#l72.13"></a><span id="l72.13" class="difflineplus">+                    cal.LOG(&quot;initEmailService: No XPCOM Mail available&quot;);</span>
<a href="#l72.14"></a><span id="l72.14">                 }</span>
<a href="#l72.15"></a><span id="l72.15">             }</span>
<a href="#l72.16"></a><span id="l72.16">         } catch (ex) {</span>
<a href="#l72.17"></a><span id="l72.17">             // Then we must resort to operating system specific means</span>
<a href="#l72.18"></a><span id="l72.18">             this.mHasXpcomMail = false;</span>
<a href="#l72.19"></a><span id="l72.19">         }</span>
<a href="#l72.20"></a><span id="l72.20">     },</span>
<a href="#l72.21"></a><span id="l72.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1" class="difflineminus">--- a/calendar/lightning/content/html-item-editing/react-code.js</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineplus">+++ b/calendar/lightning/content/html-item-editing/react-code.js</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineat">@@ -1,16 +1,19 @@</span>
<a href="#l73.4"></a><span id="l73.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l73.5"></a><span id="l73.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l73.6"></a><span id="l73.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l73.7"></a><span id="l73.7"> </span>
<a href="#l73.8"></a><span id="l73.8"> // This file contains code that uses react.js</span>
<a href="#l73.9"></a><span id="l73.9"> </span>
<a href="#l73.10"></a><span id="l73.10"> /* exported gTopComponent, DatePicker, TopComponent */</span>
<a href="#l73.11"></a><span id="l73.11"> </span>
<a href="#l73.12"></a><span id="l73.12" class="difflineplus">+/* import-globals-from ../lightning-item-iframe.js */</span>
<a href="#l73.13"></a><span id="l73.13" class="difflineplus">+/* globals React, ReactDOM */</span>
<a href="#l73.14"></a><span id="l73.14" class="difflineplus">+</span>
<a href="#l73.15"></a><span id="l73.15"> var gTopComponent = null;</span>
<a href="#l73.16"></a><span id="l73.16"> </span>
<a href="#l73.17"></a><span id="l73.17"> var Tabstrip = React.createClass({</span>
<a href="#l73.18"></a><span id="l73.18">     handleChange: function(index) {</span>
<a href="#l73.19"></a><span id="l73.19">         // The click handler will update the state with</span>
<a href="#l73.20"></a><span id="l73.20">         // the index of the focused menu entry</span>
<a href="#l73.21"></a><span id="l73.21">         this.props.onInput(this.props.keyprop, index);</span>
<a href="#l73.22"></a><span id="l73.22">     },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l74.1"></a><span id="l74.1" class="difflineminus">--- a/calendar/lightning/content/imip-bar.js</span>
<a href="#l74.2"></a><span id="l74.2" class="difflineplus">+++ b/calendar/lightning/content/imip-bar.js</span>
<a href="#l74.3"></a><span id="l74.3" class="difflineat">@@ -1,12 +1,17 @@</span>
<a href="#l74.4"></a><span id="l74.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l74.5"></a><span id="l74.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l74.6"></a><span id="l74.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l74.7"></a><span id="l74.7"> </span>
<a href="#l74.8"></a><span id="l74.8" class="difflineplus">+/* import-globals-from ../../../mail/base/content/msgHdrView.js */</span>
<a href="#l74.9"></a><span id="l74.9" class="difflineplus">+/* import-globals-from ../../base/content/calendar-item-editing.js */</span>
<a href="#l74.10"></a><span id="l74.10" class="difflineplus">+/* import-globals-from ../../base/content/calendar-ui-utils.js */</span>
<a href="#l74.11"></a><span id="l74.11" class="difflineplus">+/* globals msgWindow */</span>
<a href="#l74.12"></a><span id="l74.12" class="difflineplus">+</span>
<a href="#l74.13"></a><span id="l74.13"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l74.14"></a><span id="l74.14"> var { ltn } = ChromeUtils.import(&quot;resource://calendar/modules/ltnInvitationUtils.jsm&quot;);</span>
<a href="#l74.15"></a><span id="l74.15"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l74.16"></a><span id="l74.16"> </span>
<a href="#l74.17"></a><span id="l74.17"> /**</span>
<a href="#l74.18"></a><span id="l74.18">  * Provides shortcuts to set label and collapsed attribute of imip-bar node.</span>
<a href="#l74.19"></a><span id="l74.19">  */</span>
<a href="#l74.20"></a><span id="l74.20"> const imipBar = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l75.1"></a><span id="l75.1" class="difflineminus">--- a/calendar/lightning/content/lightning-calendar-creation.js</span>
<a href="#l75.2"></a><span id="l75.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-calendar-creation.js</span>
<a href="#l75.3"></a><span id="l75.3" class="difflineat">@@ -1,14 +1,17 @@</span>
<a href="#l75.4"></a><span id="l75.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l75.5"></a><span id="l75.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l75.6"></a><span id="l75.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l75.7"></a><span id="l75.7"> </span>
<a href="#l75.8"></a><span id="l75.8"> /* exported onChangeIdentity */</span>
<a href="#l75.9"></a><span id="l75.9"> </span>
<a href="#l75.10"></a><span id="l75.10" class="difflineplus">+/* import-globals-from ../../resources/content/calendarCreation.js */</span>
<a href="#l75.11"></a><span id="l75.11" class="difflineplus">+/* import-globals-from lightning-utils.js */</span>
<a href="#l75.12"></a><span id="l75.12" class="difflineplus">+</span>
<a href="#l75.13"></a><span id="l75.13"> var common_initCustomizePage = initCustomizePage;</span>
<a href="#l75.14"></a><span id="l75.14"> var common_doCreateCalendar = doCreateCalendar;</span>
<a href="#l75.15"></a><span id="l75.15"> </span>
<a href="#l75.16"></a><span id="l75.16"> initCustomizePage = function() {</span>
<a href="#l75.17"></a><span id="l75.17">     common_initCustomizePage();</span>
<a href="#l75.18"></a><span id="l75.18">     ltnInitMailIdentitiesRow();</span>
<a href="#l75.19"></a><span id="l75.19">     ltnNotifyOnIdentitySelection();</span>
<a href="#l75.20"></a><span id="l75.20"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l76.1"></a><span id="l76.1" class="difflineminus">--- a/calendar/lightning/content/lightning-calendar-properties.js</span>
<a href="#l76.2"></a><span id="l76.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-calendar-properties.js</span>
<a href="#l76.3"></a><span id="l76.3" class="difflineat">@@ -1,14 +1,17 @@</span>
<a href="#l76.4"></a><span id="l76.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l76.5"></a><span id="l76.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l76.6"></a><span id="l76.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l76.7"></a><span id="l76.7"> </span>
<a href="#l76.8"></a><span id="l76.8"> /* exported onChangeIdentity */</span>
<a href="#l76.9"></a><span id="l76.9"> </span>
<a href="#l76.10"></a><span id="l76.10" class="difflineplus">+/* import-globals-from ../../base/content/dialogs/calendar-properties-dialog.js */</span>
<a href="#l76.11"></a><span id="l76.11" class="difflineplus">+/* import-globals-from lightning-utils.js */</span>
<a href="#l76.12"></a><span id="l76.12" class="difflineplus">+</span>
<a href="#l76.13"></a><span id="l76.13"> var common_onLoad = onLoad;</span>
<a href="#l76.14"></a><span id="l76.14"> var common_onAcceptDialog = onAcceptDialog;</span>
<a href="#l76.15"></a><span id="l76.15"> </span>
<a href="#l76.16"></a><span id="l76.16"> onLoad = function() {</span>
<a href="#l76.17"></a><span id="l76.17">     gCalendar = window.arguments[0].calendar;</span>
<a href="#l76.18"></a><span id="l76.18">     ltnInitMailIdentitiesRow();</span>
<a href="#l76.19"></a><span id="l76.19">     ltnNotifyOnIdentitySelection();</span>
<a href="#l76.20"></a><span id="l76.20">     common_onLoad();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l77.1"></a><span id="l77.1" class="difflineminus">--- a/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l77.2"></a><span id="l77.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l77.3"></a><span id="l77.3" class="difflineat">@@ -9,16 +9,21 @@</span>
<a href="#l77.4"></a><span id="l77.4">  *          deleteAllAttachments, copyAttachment, attachmentLinkKeyPress,</span>
<a href="#l77.5"></a><span id="l77.5">  *          attachmentDblClick, attachmentClick, notifyUser,</span>
<a href="#l77.6"></a><span id="l77.6">  *          removeNotification, chooseRecentTimezone, showTimezonePopup,</span>
<a href="#l77.7"></a><span id="l77.7">  *          attendeeDblClick, attendeeClick, removeAttendee,</span>
<a href="#l77.8"></a><span id="l77.8">  *          removeAllAttendees, sendMailToUndecidedAttendees, checkUntilDate,</span>
<a href="#l77.9"></a><span id="l77.9">  *          applyValues</span>
<a href="#l77.10"></a><span id="l77.10">  */</span>
<a href="#l77.11"></a><span id="l77.11"> </span>
<a href="#l77.12"></a><span id="l77.12" class="difflineplus">+/* import-globals-from ../../base/content/calendar-ui-utils.js */</span>
<a href="#l77.13"></a><span id="l77.13" class="difflineplus">+/* import-globals-from ../../base/content/dialogs/calendar-dialog-utils.js */</span>
<a href="#l77.14"></a><span id="l77.14" class="difflineplus">+/* import-globals-from html-item-editing/react-code.js */</span>
<a href="#l77.15"></a><span id="l77.15" class="difflineplus">+/* globals gTimezonesEnabled, gShowLink */// Set by lightning-item-panel.js.</span>
<a href="#l77.16"></a><span id="l77.16" class="difflineplus">+</span>
<a href="#l77.17"></a><span id="l77.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l77.18"></a><span id="l77.18"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l77.19"></a><span id="l77.19"> var {</span>
<a href="#l77.20"></a><span id="l77.20">     recurrenceRule2String,</span>
<a href="#l77.21"></a><span id="l77.21">     splitRecurrenceRules,</span>
<a href="#l77.22"></a><span id="l77.22">     checkRecurrenceRule,</span>
<a href="#l77.23"></a><span id="l77.23">     countOccurrences</span>
<a href="#l77.24"></a><span id="l77.24"> } = ChromeUtils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l77.25"></a><span id="l77.25" class="difflineat">@@ -211,17 +216,17 @@ function receiveMessage(aEvent) {</span>
<a href="#l77.26"></a><span id="l77.26">             setElementValue(textbox, aEvent.data.value);</span>
<a href="#l77.27"></a><span id="l77.27">             updateToDoStatus(&quot;percent-changed&quot;);</span>
<a href="#l77.28"></a><span id="l77.28">             break;</span>
<a href="#l77.29"></a><span id="l77.29">         }</span>
<a href="#l77.30"></a><span id="l77.30">         case &quot;postponeTask&quot;:</span>
<a href="#l77.31"></a><span id="l77.31">             postponeTask(aEvent.data.value);</span>
<a href="#l77.32"></a><span id="l77.32">             break;</span>
<a href="#l77.33"></a><span id="l77.33">         case &quot;toggleTimezoneLinks&quot;:</span>
<a href="#l77.34"></a><span id="l77.34" class="difflineminus">-            gTimezonesEnabled = aEvent.data.checked;</span>
<a href="#l77.35"></a><span id="l77.35" class="difflineplus">+            gTimezonesEnabled = aEvent.data.checked; // eslint-disable-line</span>
<a href="#l77.36"></a><span id="l77.36">             updateDateTime();</span>
<a href="#l77.37"></a><span id="l77.37">             /*</span>
<a href="#l77.38"></a><span id="l77.38">             // Not implemented in react-code.js yet</span>
<a href="#l77.39"></a><span id="l77.39">             if (gNewItemUI) {</span>
<a href="#l77.40"></a><span id="l77.40">                 gTopComponent.importState({ timezonesEnabled: aEvent.data.checked });</span>
<a href="#l77.41"></a><span id="l77.41">             }</span>
<a href="#l77.42"></a><span id="l77.42">             */</span>
<a href="#l77.43"></a><span id="l77.43">             break;</span>
<a href="#l77.44"></a><span id="l77.44" class="difflineat">@@ -1222,20 +1227,16 @@ function dateTimeControls2State(aStartDa</span>
<a href="#l77.45"></a><span id="l77.45">         updateUntildateRecRule();</span>
<a href="#l77.46"></a><span id="l77.46"> </span>
<a href="#l77.47"></a><span id="l77.47">         // Don't allow for until date earlier than the start date.</span>
<a href="#l77.48"></a><span id="l77.48">         if (gUntilDate.compare(gStartTime) &lt; 0) {</span>
<a href="#l77.49"></a><span id="l77.49">             // We have to restore valid dates. Since the user has intentionally</span>
<a href="#l77.50"></a><span id="l77.50">             // changed the start date, it looks reasonable to restore a valid</span>
<a href="#l77.51"></a><span id="l77.51">             // until date equal to the start date.</span>
<a href="#l77.52"></a><span id="l77.52">             gUntilDate = gStartTime.clone();</span>
<a href="#l77.53"></a><span id="l77.53" class="difflineminus">-            // Update the rule.</span>
<a href="#l77.54"></a><span id="l77.54" class="difflineminus">-            let rrules = splitRecurrenceRules(window.recurrenceInfo);</span>
<a href="#l77.55"></a><span id="l77.55" class="difflineminus">-            recRule = rrules[0][0];</span>
<a href="#l77.56"></a><span id="l77.56" class="difflineminus">-            recRule.untilDate = gUntilDate.clone();</span>
<a href="#l77.57"></a><span id="l77.57">             // Update the until-date-picker. In case of &quot;custom&quot; rule, the</span>
<a href="#l77.58"></a><span id="l77.58">             // recurrence string is going to be changed by updateDateTime() below.</span>
<a href="#l77.59"></a><span id="l77.59">             let notCustomRule = document.getElementById(&quot;repeat-deck&quot;).selectedIndex == 0;</span>
<a href="#l77.60"></a><span id="l77.60">             if (notCustomRule) {</span>
<a href="#l77.61"></a><span id="l77.61">                 setElementValue(&quot;repeat-until-datepicker&quot;,</span>
<a href="#l77.62"></a><span id="l77.62">                                 cal.dtz.dateTimeToJsDate(gUntilDate.getInTimezone(cal.dtz.floating)));</span>
<a href="#l77.63"></a><span id="l77.63">             }</span>
<a href="#l77.64"></a><span id="l77.64"> </span>
<a href="#l77.65"></a><span id="l77.65" class="difflineat">@@ -3713,16 +3714,17 @@ function updateAttendees() {</span>
<a href="#l77.66"></a><span id="l77.66">     let attendeePanel = document.getElementById(&quot;event-grid-tabpanel-attendees&quot;);</span>
<a href="#l77.67"></a><span id="l77.67">     let notifyOptions = document.getElementById(&quot;notify-options&quot;);</span>
<a href="#l77.68"></a><span id="l77.68">     if (cal.item.isEvent(window.calendarItem)) {</span>
<a href="#l77.69"></a><span id="l77.69">         attendeeTab.removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l77.70"></a><span id="l77.70">         attendeePanel.removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l77.71"></a><span id="l77.71">         notifyOptions.removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l77.72"></a><span id="l77.72"> </span>
<a href="#l77.73"></a><span id="l77.73">         if (window.organizer &amp;&amp; window.organizer.id) {</span>
<a href="#l77.74"></a><span id="l77.74" class="difflineplus">+            let organizer = window.organizer;</span>
<a href="#l77.75"></a><span id="l77.75">             document.getElementById(&quot;item-organizer-row&quot;).removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l77.76"></a><span id="l77.76">             let cell = document.querySelector(&quot;.item-organizer-cell&quot;);</span>
<a href="#l77.77"></a><span id="l77.77">             let icon = cell.querySelector(&quot;img:nth-of-type(1)&quot;);</span>
<a href="#l77.78"></a><span id="l77.78">             let text = cell.querySelector(&quot;label:nth-of-type(1)&quot;);</span>
<a href="#l77.79"></a><span id="l77.79"> </span>
<a href="#l77.80"></a><span id="l77.80">             let role = organizer.role || &quot;REQ-PARTICIPANT&quot;;</span>
<a href="#l77.81"></a><span id="l77.81">             let userType = organizer.userType || &quot;INDIVIDUAL&quot;;</span>
<a href="#l77.82"></a><span id="l77.82">             let partStat = organizer.participationStatus || &quot;NEEDS-ACTION&quot;;</span>
<a href="#l77.83"></a><span id="l77.83" class="difflineat">@@ -3954,17 +3956,17 @@ function removeAllAttendees() {</span>
<a href="#l77.84"></a><span id="l77.84"> }</span>
<a href="#l77.85"></a><span id="l77.85"> </span>
<a href="#l77.86"></a><span id="l77.86"> /**</span>
<a href="#l77.87"></a><span id="l77.87">  * Send Email to all attendees that haven't responded or are tentative.</span>
<a href="#l77.88"></a><span id="l77.88">  *</span>
<a href="#l77.89"></a><span id="l77.89">  * @param aAttendees    The attendees to check.</span>
<a href="#l77.90"></a><span id="l77.90">  */</span>
<a href="#l77.91"></a><span id="l77.91"> function sendMailToUndecidedAttendees(aAttendees) {</span>
<a href="#l77.92"></a><span id="l77.92" class="difflineminus">-    let targetAttendees = attendees.filter(isAttendeeUndecided);</span>
<a href="#l77.93"></a><span id="l77.93" class="difflineplus">+    let targetAttendees = aAttendees.filter(isAttendeeUndecided);</span>
<a href="#l77.94"></a><span id="l77.94">     sendMailToAttendees(targetAttendees);</span>
<a href="#l77.95"></a><span id="l77.95"> }</span>
<a href="#l77.96"></a><span id="l77.96"> </span>
<a href="#l77.97"></a><span id="l77.97"> /**</span>
<a href="#l77.98"></a><span id="l77.98">  * Send Email to all given attendees.</span>
<a href="#l77.99"></a><span id="l77.99">  *</span>
<a href="#l77.100"></a><span id="l77.100">  * @param aAttendees    The attendees to send mail to.</span>
<a href="#l77.101"></a><span id="l77.101">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l78.1"></a><span id="l78.1" class="difflineminus">--- a/calendar/lightning/content/lightning-item-panel.js</span>
<a href="#l78.2"></a><span id="l78.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-item-panel.js</span>
<a href="#l78.3"></a><span id="l78.3" class="difflineat">@@ -6,16 +6,20 @@</span>
<a href="#l78.4"></a><span id="l78.4">  *          onCommandDeleteItem, editAttendees, editPrivacy, editPriority,</span>
<a href="#l78.5"></a><span id="l78.5">  *          editStatus, editShowTimeAs, updateShowTimeAs, editToDoStatus,</span>
<a href="#l78.6"></a><span id="l78.6">  *          postponeTask, toggleTimezoneLinks, toggleLink, attachURL,</span>
<a href="#l78.7"></a><span id="l78.7">  *          onCommandViewToolbar, onCommandCustomize, attachFileByAccountKey,</span>
<a href="#l78.8"></a><span id="l78.8">  *          onUnloadLightningItemPanel, openNewEvent, openNewTask,</span>
<a href="#l78.9"></a><span id="l78.9">  *          openNewMessage, openNewCardDialog</span>
<a href="#l78.10"></a><span id="l78.10">  */</span>
<a href="#l78.11"></a><span id="l78.11"> </span>
<a href="#l78.12"></a><span id="l78.12" class="difflineplus">+/* import-globals-from ../../../../toolkit/content/globalOverlay.js */</span>
<a href="#l78.13"></a><span id="l78.13" class="difflineplus">+/* import-globals-from ../../base/content/dialogs/calendar-dialog-utils.js */</span>
<a href="#l78.14"></a><span id="l78.14" class="difflineplus">+/* import-globals-from ../../base/content/calendar-ui-utils.js */</span>
<a href="#l78.15"></a><span id="l78.15" class="difflineplus">+</span>
<a href="#l78.16"></a><span id="l78.16"> // XXX Need to determine which of these we really need here.</span>
<a href="#l78.17"></a><span id="l78.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l78.18"></a><span id="l78.18"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l78.19"></a><span id="l78.19"> var { MailServices } = ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l78.20"></a><span id="l78.20"> </span>
<a href="#l78.21"></a><span id="l78.21"> // gTabmail is null if we are in a dialog window and not in a tab.</span>
<a href="#l78.22"></a><span id="l78.22"> var gTabmail = document.getElementById(&quot;tabmail&quot;) || null;</span>
<a href="#l78.23"></a><span id="l78.23"> </span>
<a href="#l78.24"></a><span id="l78.24" class="difflineat">@@ -245,18 +249,18 @@ function onLoadLightningItemPanel(aIfram</span>
<a href="#l78.25"></a><span id="l78.25">         // hide the ok and cancel dialog buttons</span>
<a href="#l78.26"></a><span id="l78.26">         let accept = document.documentElement.getButton(&quot;accept&quot;);</span>
<a href="#l78.27"></a><span id="l78.27">         let cancel = document.documentElement.getButton(&quot;cancel&quot;);</span>
<a href="#l78.28"></a><span id="l78.28">         accept.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l78.29"></a><span id="l78.29">         cancel.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l78.30"></a><span id="l78.30">         cancel.parentNode.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l78.31"></a><span id="l78.31"> </span>
<a href="#l78.32"></a><span id="l78.32">         // set toolbar icon color for light or dark themes</span>
<a href="#l78.33"></a><span id="l78.33" class="difflineminus">-        if (typeof ToolbarIconColor !== &quot;undefined&quot;) {</span>
<a href="#l78.34"></a><span id="l78.34" class="difflineminus">-            ToolbarIconColor.init();</span>
<a href="#l78.35"></a><span id="l78.35" class="difflineplus">+        if (typeof window.ToolbarIconColor !== &quot;undefined&quot;) {</span>
<a href="#l78.36"></a><span id="l78.36" class="difflineplus">+            window.ToolbarIconColor.init();</span>
<a href="#l78.37"></a><span id="l78.37">         }</span>
<a href="#l78.38"></a><span id="l78.38"> </span>
<a href="#l78.39"></a><span id="l78.39">         // Enlarge the dialog window so the iframe content fits, and prevent it</span>
<a href="#l78.40"></a><span id="l78.40">         // getting smaller. We don't know the minimum size of the content unless</span>
<a href="#l78.41"></a><span id="l78.41">         // it's overflowing, so don't attempt to enforce what we don't know.</span>
<a href="#l78.42"></a><span id="l78.42">         let docEl = document.documentElement;</span>
<a href="#l78.43"></a><span id="l78.43">         let overflowListener = () =&gt; {</span>
<a href="#l78.44"></a><span id="l78.44">             let { scrollWidth, scrollHeight } = iframe.contentDocument.documentElement;</span>
<a href="#l78.45"></a><span id="l78.45" class="difflineat">@@ -317,18 +321,18 @@ function onLoadLightningItemPanel(aIfram</span>
<a href="#l78.46"></a><span id="l78.46"> </span>
<a href="#l78.47"></a><span id="l78.47"> /**</span>
<a href="#l78.48"></a><span id="l78.48">  * Unload handler for the outer parent context that contains the iframe.</span>
<a href="#l78.49"></a><span id="l78.49">  * Currently only called for windows and not tabs.</span>
<a href="#l78.50"></a><span id="l78.50">  */</span>
<a href="#l78.51"></a><span id="l78.51"> function onUnloadLightningItemPanel() {</span>
<a href="#l78.52"></a><span id="l78.52">     if (!gTabmail) {</span>
<a href="#l78.53"></a><span id="l78.53">         // window dialog case</span>
<a href="#l78.54"></a><span id="l78.54" class="difflineminus">-        if (typeof ToolbarIconColor !== &quot;undefined&quot;) {</span>
<a href="#l78.55"></a><span id="l78.55" class="difflineminus">-            ToolbarIconColor.uninit();</span>
<a href="#l78.56"></a><span id="l78.56" class="difflineplus">+        if (typeof window.ToolbarIconColor !== &quot;undefined&quot;) {</span>
<a href="#l78.57"></a><span id="l78.57" class="difflineplus">+            window.ToolbarIconColor.uninit();</span>
<a href="#l78.58"></a><span id="l78.58">         }</span>
<a href="#l78.59"></a><span id="l78.59">     }</span>
<a href="#l78.60"></a><span id="l78.60"> }</span>
<a href="#l78.61"></a><span id="l78.61"> </span>
<a href="#l78.62"></a><span id="l78.62"> /**</span>
<a href="#l78.63"></a><span id="l78.63">  * Updates the UI.  Called when a user makes a change and when an</span>
<a href="#l78.64"></a><span id="l78.64">  * event/task tab is shown.  When a tab is shown aArg contains the gConfig</span>
<a href="#l78.65"></a><span id="l78.65">  * data for that event/task.  We pass the full tab state object to the</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l79.1"></a><span id="l79.1" class="difflineminus">--- a/calendar/lightning/content/lightning-utils.js</span>
<a href="#l79.2"></a><span id="l79.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-utils.js</span>
<a href="#l79.3"></a><span id="l79.3" class="difflineat">@@ -1,16 +1,19 @@</span>
<a href="#l79.4"></a><span id="l79.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l79.5"></a><span id="l79.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l79.6"></a><span id="l79.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l79.7"></a><span id="l79.7"> </span>
<a href="#l79.8"></a><span id="l79.8"> /* exported ltnInitMailIdentitiesRow, ltnGetMailIdentitySelection,</span>
<a href="#l79.9"></a><span id="l79.9">  *          ltnSaveMailIdentitySelection, ltnNotifyOnIdentitySelection</span>
<a href="#l79.10"></a><span id="l79.10">  */</span>
<a href="#l79.11"></a><span id="l79.11"> </span>
<a href="#l79.12"></a><span id="l79.12" class="difflineplus">+/* import-globals-from ../../base/content/calendar-ui-utils.js */</span>
<a href="#l79.13"></a><span id="l79.13" class="difflineplus">+/* globals gCalendar */</span>
<a href="#l79.14"></a><span id="l79.14" class="difflineplus">+</span>
<a href="#l79.15"></a><span id="l79.15"> var { fixIterator } = ChromeUtils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l79.16"></a><span id="l79.16"> var { MailServices } = ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l79.17"></a><span id="l79.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l79.18"></a><span id="l79.18"> </span>
<a href="#l79.19"></a><span id="l79.19"> /**</span>
<a href="#l79.20"></a><span id="l79.20">  * Initializing the email identity row</span>
<a href="#l79.21"></a><span id="l79.21">  * (shared between calendar creation wizard and properties dialog)</span>
<a href="#l79.22"></a><span id="l79.22">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l80.1"></a><span id="l80.1" class="difflineminus">--- a/calendar/lightning/content/messenger-overlay-preferences.js</span>
<a href="#l80.2"></a><span id="l80.2" class="difflineplus">+++ b/calendar/lightning/content/messenger-overlay-preferences.js</span>
<a href="#l80.3"></a><span id="l80.3" class="difflineat">@@ -1,14 +1,22 @@</span>
<a href="#l80.4"></a><span id="l80.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l80.5"></a><span id="l80.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l80.6"></a><span id="l80.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l80.7"></a><span id="l80.7"> </span>
<a href="#l80.8"></a><span id="l80.8"> /* exported gLightningPane */</span>
<a href="#l80.9"></a><span id="l80.9"> </span>
<a href="#l80.10"></a><span id="l80.10" class="difflineplus">+/* import-globals-from ../../../mail/components/preferences/preferences.js */</span>
<a href="#l80.11"></a><span id="l80.11" class="difflineplus">+/* import-globals-from ../../../mail/components/preferences/subdialogs.js */</span>
<a href="#l80.12"></a><span id="l80.12" class="difflineplus">+/* import-globals-from ../../base/content/calendar-ui-utils.js */</span>
<a href="#l80.13"></a><span id="l80.13" class="difflineplus">+/* import-globals-from ../../base/content/preferences/alarms.js */</span>
<a href="#l80.14"></a><span id="l80.14" class="difflineplus">+/* import-globals-from ../../base/content/preferences/categories.js */</span>
<a href="#l80.15"></a><span id="l80.15" class="difflineplus">+/* import-globals-from ../../base/content/preferences/general.js */</span>
<a href="#l80.16"></a><span id="l80.16" class="difflineplus">+/* import-globals-from ../../base/content/preferences/views.js */</span>
<a href="#l80.17"></a><span id="l80.17" class="difflineplus">+</span>
<a href="#l80.18"></a><span id="l80.18"> Preferences.add({ id: &quot;calendar.preferences.lightning.selectedTabIndex&quot;, type: &quot;int&quot; });</span>
<a href="#l80.19"></a><span id="l80.19"> </span>
<a href="#l80.20"></a><span id="l80.20"> var gLightningPane = {</span>
<a href="#l80.21"></a><span id="l80.21">     mInitialized: false,</span>
<a href="#l80.22"></a><span id="l80.22"> </span>
<a href="#l80.23"></a><span id="l80.23">     init: function() {</span>
<a href="#l80.24"></a><span id="l80.24">         let preference = Preferences.get(&quot;calendar.preferences.lightning.selectedTabIndex&quot;);</span>
<a href="#l80.25"></a><span id="l80.25">         let ltnPrefs = document.getElementById(&quot;calPreferencesTabbox&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l81.1"></a><span id="l81.1" class="difflineminus">--- a/calendar/lightning/content/messenger-overlay-sidebar.js</span>
<a href="#l81.2"></a><span id="l81.2" class="difflineplus">+++ b/calendar/lightning/content/messenger-overlay-sidebar.js</span>
<a href="#l81.3"></a><span id="l81.3" class="difflineat">@@ -3,16 +3,21 @@</span>
<a href="#l81.4"></a><span id="l81.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l81.5"></a><span id="l81.5"> </span>
<a href="#l81.6"></a><span id="l81.6"> /* exported refreshUIBits, switchCalendarView, rescheduleInvitationsUpdate,</span>
<a href="#l81.7"></a><span id="l81.7">  *          openInvitationsDialog, onToolbarsPopupShowingWithMode,</span>
<a href="#l81.8"></a><span id="l81.8">  *          InitViewCalendarPaneMenu, onToolbarsPopupShowingForTabType,</span>
<a href="#l81.9"></a><span id="l81.9">  *          customizeMailToolbarForTabType</span>
<a href="#l81.10"></a><span id="l81.10">  */</span>
<a href="#l81.11"></a><span id="l81.11"> </span>
<a href="#l81.12"></a><span id="l81.12" class="difflineplus">+/* import-globals-from ../../base/content/calendar-common-sets.js */</span>
<a href="#l81.13"></a><span id="l81.13" class="difflineplus">+/* import-globals-from ../../base/content/calendar-invitations-manager.js */</span>
<a href="#l81.14"></a><span id="l81.14" class="difflineplus">+/* import-globals-from ../../base/content/today-pane.js */</span>
<a href="#l81.15"></a><span id="l81.15" class="difflineplus">+/* import-globals-from lightning-item-panel.js */</span>
<a href="#l81.16"></a><span id="l81.16" class="difflineplus">+</span>
<a href="#l81.17"></a><span id="l81.17"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l81.18"></a><span id="l81.18"> var { AddonManager } = ChromeUtils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l81.19"></a><span id="l81.19"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l81.20"></a><span id="l81.20"> </span>
<a href="#l81.21"></a><span id="l81.21"> var gLastShownCalendarView = null;</span>
<a href="#l81.22"></a><span id="l81.22"> </span>
<a href="#l81.23"></a><span id="l81.23"> var calendarTabMonitor = {</span>
<a href="#l81.24"></a><span id="l81.24">     monitorName: &quot;lightning&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l82.1"></a><span id="l82.1" class="difflineminus">--- a/calendar/lightning/content/suite-overlay-sidebar.js</span>
<a href="#l82.2"></a><span id="l82.2" class="difflineplus">+++ b/calendar/lightning/content/suite-overlay-sidebar.js</span>
<a href="#l82.3"></a><span id="l82.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l82.4"></a><span id="l82.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l82.5"></a><span id="l82.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l82.6"></a><span id="l82.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l82.7"></a><span id="l82.7"> </span>
<a href="#l82.8"></a><span id="l82.8" class="difflineplus">+/* import-globals-from ../../../suite/base/content/utilityOverlay.js */</span>
<a href="#l82.9"></a><span id="l82.9" class="difflineplus">+</span>
<a href="#l82.10"></a><span id="l82.10"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l82.11"></a><span id="l82.11"> </span>
<a href="#l82.12"></a><span id="l82.12"> var ltnSuiteUtils = {</span>
<a href="#l82.13"></a><span id="l82.13"> </span>
<a href="#l82.14"></a><span id="l82.14">     addStartupObserver: function() {</span>
<a href="#l82.15"></a><span id="l82.15">         Services.obs.addObserver(this.startupObserver, &quot;lightning-startup-done&quot;);</span>
<a href="#l82.16"></a><span id="l82.16">         Services.obs.addObserver(this.startupObserver, &quot;calendar-taskview-startup-done&quot;);</span>
<a href="#l82.17"></a><span id="l82.17">     },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l83.1"></a><span id="l83.1" class="difflineminus">--- a/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l83.2"></a><span id="l83.2" class="difflineplus">+++ b/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l83.3"></a><span id="l83.3" class="difflineat">@@ -1,12 +1,15 @@</span>
<a href="#l83.4"></a><span id="l83.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l83.5"></a><span id="l83.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l83.6"></a><span id="l83.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l83.7"></a><span id="l83.7"> </span>
<a href="#l83.8"></a><span id="l83.8" class="difflineplus">+/* import-globals-from calDavRequestHandlers.js */</span>
<a href="#l83.9"></a><span id="l83.9" class="difflineplus">+/* globals OAUTH_BASE_URI, OAUTH_SCOPE, OAUTH_CLIENT_ID, OAUTH_HASH */</span>
<a href="#l83.10"></a><span id="l83.10" class="difflineplus">+</span>
<a href="#l83.11"></a><span id="l83.11"> var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l83.12"></a><span id="l83.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l83.13"></a><span id="l83.13"> var { setTimeout } = ChromeUtils.import(&quot;resource://gre/modules/Timer.jsm&quot;);</span>
<a href="#l83.14"></a><span id="l83.14"> </span>
<a href="#l83.15"></a><span id="l83.15"> var { OAuth2 } = ChromeUtils.import(&quot;resource:///modules/OAuth2.jsm&quot;);</span>
<a href="#l83.16"></a><span id="l83.16"> </span>
<a href="#l83.17"></a><span id="l83.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l83.18"></a><span id="l83.18"> </span>
<a href="#l83.19"></a><span id="l83.19" class="difflineat">@@ -141,21 +144,21 @@ calDavCalendar.prototype = {</span>
<a href="#l83.20"></a><span id="l83.20">         return null;</span>
<a href="#l83.21"></a><span id="l83.21">     },</span>
<a href="#l83.22"></a><span id="l83.22"> </span>
<a href="#l83.23"></a><span id="l83.23">     get displayName() {</span>
<a href="#l83.24"></a><span id="l83.24">         return cal.l10n.getCalString(&quot;caldavName&quot;);</span>
<a href="#l83.25"></a><span id="l83.25">     },</span>
<a href="#l83.26"></a><span id="l83.26"> </span>
<a href="#l83.27"></a><span id="l83.27">     createCalendar: function() {</span>
<a href="#l83.28"></a><span id="l83.28" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l83.29"></a><span id="l83.29" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l83.30"></a><span id="l83.30">     },</span>
<a href="#l83.31"></a><span id="l83.31"> </span>
<a href="#l83.32"></a><span id="l83.32">     deleteCalendar: function(_cal, listener) {</span>
<a href="#l83.33"></a><span id="l83.33" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l83.34"></a><span id="l83.34" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l83.35"></a><span id="l83.35">     },</span>
<a href="#l83.36"></a><span id="l83.36"> </span>
<a href="#l83.37"></a><span id="l83.37">     // calIChangeLog interface</span>
<a href="#l83.38"></a><span id="l83.38">     get offlineStorage() {</span>
<a href="#l83.39"></a><span id="l83.39">         return this.mOfflineStorage;</span>
<a href="#l83.40"></a><span id="l83.40">     },</span>
<a href="#l83.41"></a><span id="l83.41"> </span>
<a href="#l83.42"></a><span id="l83.42">     set offlineStorage(storage) {</span>
<a href="#l83.43"></a><span id="l83.43" class="difflineat">@@ -1897,18 +1900,17 @@ calDavCalendar.prototype = {</span>
<a href="#l83.44"></a><span id="l83.44">             self.completeCheckServerInfo(aChangeLogListener, Cr.NS_ERROR_FAILURE);</span>
<a href="#l83.45"></a><span id="l83.45">         };</span>
<a href="#l83.46"></a><span id="l83.46"> </span>
<a href="#l83.47"></a><span id="l83.47">         this.sendHttpRequest(this.makeUri(), queryXml, MIME_TEXT_XML, null, (channel) =&gt; {</span>
<a href="#l83.48"></a><span id="l83.48">             channel.setRequestHeader(&quot;Depth&quot;, &quot;0&quot;, false);</span>
<a href="#l83.49"></a><span id="l83.49">             channel.requestMethod = &quot;PROPFIND&quot;;</span>
<a href="#l83.50"></a><span id="l83.50">             return streamListener;</span>
<a href="#l83.51"></a><span id="l83.51">         }, () =&gt; {</span>
<a href="#l83.52"></a><span id="l83.52" class="difflineminus">-            notifyListener(Cr.NS_ERROR_NOT_AVAILABLE,</span>
<a href="#l83.53"></a><span id="l83.53" class="difflineminus">-                           &quot;Error preparing http channel&quot;);</span>
<a href="#l83.54"></a><span id="l83.54" class="difflineplus">+            this.completeCheckServerInfo(aChangeLogListener, Cr.NS_ERROR_NOT_AVAILABLE);</span>
<a href="#l83.55"></a><span id="l83.55">         });</span>
<a href="#l83.56"></a><span id="l83.56">     },</span>
<a href="#l83.57"></a><span id="l83.57"> </span>
<a href="#l83.58"></a><span id="l83.58">     /**</span>
<a href="#l83.59"></a><span id="l83.59">      * Checks server capabilities.</span>
<a href="#l83.60"></a><span id="l83.60">      *</span>
<a href="#l83.61"></a><span id="l83.61">      * setupAuthentication</span>
<a href="#l83.62"></a><span id="l83.62">      * checkDavResourceType</span>
<a href="#l83.63"></a><span id="l83.63" class="difflineat">@@ -1996,18 +1998,17 @@ calDavCalendar.prototype = {</span>
<a href="#l83.64"></a><span id="l83.64">                 self.completeCheckServerInfo(aChangeLogListener);</span>
<a href="#l83.65"></a><span id="l83.65">             }</span>
<a href="#l83.66"></a><span id="l83.66">         };</span>
<a href="#l83.67"></a><span id="l83.67"> </span>
<a href="#l83.68"></a><span id="l83.68">         this.sendHttpRequest(homeSet, null, null, null, (channel) =&gt; {</span>
<a href="#l83.69"></a><span id="l83.69">             channel.requestMethod = &quot;OPTIONS&quot;;</span>
<a href="#l83.70"></a><span id="l83.70">             return streamListener;</span>
<a href="#l83.71"></a><span id="l83.71">         }, () =&gt; {</span>
<a href="#l83.72"></a><span id="l83.72" class="difflineminus">-            notifyListener(Cr.NS_ERROR_NOT_AVAILABLE,</span>
<a href="#l83.73"></a><span id="l83.73" class="difflineminus">-                           &quot;Error preparing http channel&quot;);</span>
<a href="#l83.74"></a><span id="l83.74" class="difflineplus">+            this.completeCheckServerInfo(aChangeLogListener, Cr.NS_ERROR_NOT_AVAILABLE);</span>
<a href="#l83.75"></a><span id="l83.75">         });</span>
<a href="#l83.76"></a><span id="l83.76">     },</span>
<a href="#l83.77"></a><span id="l83.77"> </span>
<a href="#l83.78"></a><span id="l83.78">     /**</span>
<a href="#l83.79"></a><span id="l83.79">      * Locates the principal namespace. This function should soely be called</span>
<a href="#l83.80"></a><span id="l83.80">      * from checkServerCaps to find the principal namespace.</span>
<a href="#l83.81"></a><span id="l83.81">      *</span>
<a href="#l83.82"></a><span id="l83.82">      * setupAuthentication</span>
<a href="#l83.83"></a><span id="l83.83" class="difflineat">@@ -2076,17 +2077,17 @@ calDavCalendar.prototype = {</span>
<a href="#l83.84"></a><span id="l83.84">             self.checkPrincipalsNameSpace(nsList, aChangeLogListener);</span>
<a href="#l83.85"></a><span id="l83.85">         };</span>
<a href="#l83.86"></a><span id="l83.86"> </span>
<a href="#l83.87"></a><span id="l83.87">         this.sendHttpRequest(homeSet, queryXml, MIME_TEXT_XML, null, (channel) =&gt; {</span>
<a href="#l83.88"></a><span id="l83.88">             channel.setRequestHeader(&quot;Depth&quot;, &quot;0&quot;, false);</span>
<a href="#l83.89"></a><span id="l83.89">             channel.requestMethod = &quot;PROPFIND&quot;;</span>
<a href="#l83.90"></a><span id="l83.90">             return streamListener;</span>
<a href="#l83.91"></a><span id="l83.91">         }, () =&gt; {</span>
<a href="#l83.92"></a><span id="l83.92" class="difflineminus">-            notifyListener(Cr.NS_ERROR_NOT_AVAILABLE);</span>
<a href="#l83.93"></a><span id="l83.93" class="difflineplus">+            this.completeCheckServerInfo(aChangeLogListener, Cr.NS_ERROR_NOT_AVAILABLE);</span>
<a href="#l83.94"></a><span id="l83.94">         });</span>
<a href="#l83.95"></a><span id="l83.95">     },</span>
<a href="#l83.96"></a><span id="l83.96"> </span>
<a href="#l83.97"></a><span id="l83.97">     /**</span>
<a href="#l83.98"></a><span id="l83.98">      * Checks the principals namespace for scheduling info. This function should</span>
<a href="#l83.99"></a><span id="l83.99">      * soely be called from findPrincipalNS</span>
<a href="#l83.100"></a><span id="l83.100">      *</span>
<a href="#l83.101"></a><span id="l83.101">      * setupAuthentication</span>
<a href="#l83.102"></a><span id="l83.102" class="difflineat">@@ -2261,17 +2262,17 @@ calDavCalendar.prototype = {</span>
<a href="#l83.103"></a><span id="l83.103">             if (queryDepth == 0) {</span>
<a href="#l83.104"></a><span id="l83.104">                 // Set header, doing this for Depth: 1 is not needed since thats the</span>
<a href="#l83.105"></a><span id="l83.105">                 // default.</span>
<a href="#l83.106"></a><span id="l83.106">                 channel.setRequestHeader(&quot;Depth&quot;, &quot;0&quot;, false);</span>
<a href="#l83.107"></a><span id="l83.107">             }</span>
<a href="#l83.108"></a><span id="l83.108">             channel.requestMethod = queryMethod;</span>
<a href="#l83.109"></a><span id="l83.109">             return streamListener;</span>
<a href="#l83.110"></a><span id="l83.110">         }, () =&gt; {</span>
<a href="#l83.111"></a><span id="l83.111" class="difflineminus">-            notifyListener(Cr.NS_ERROR_NOT_AVAILABLE);</span>
<a href="#l83.112"></a><span id="l83.112" class="difflineplus">+            this.completeCheckServerInfo(aChangeLogListener, Cr.NS_ERROR_NOT_AVAILABLE);</span>
<a href="#l83.113"></a><span id="l83.113">         });</span>
<a href="#l83.114"></a><span id="l83.114">     },</span>
<a href="#l83.115"></a><span id="l83.115"> </span>
<a href="#l83.116"></a><span id="l83.116">     /**</span>
<a href="#l83.117"></a><span id="l83.117">      * This is called to complete checking the server info. It should be the</span>
<a href="#l83.118"></a><span id="l83.118">      * final call when checking server options. This will either report the</span>
<a href="#l83.119"></a><span id="l83.119">      * error or if it is a success then refresh the calendar.</span>
<a href="#l83.120"></a><span id="l83.120">      *</span>
<a href="#l83.121"></a><span id="l83.121" class="difflineat">@@ -2530,18 +2531,17 @@ calDavCalendar.prototype = {</span>
<a href="#l83.122"></a><span id="l83.122"> </span>
<a href="#l83.123"></a><span id="l83.123">         let fbUri = this.makeUri(null, this.outboxUrl);</span>
<a href="#l83.124"></a><span id="l83.124">         this.sendHttpRequest(fbUri, fbQuery, MIME_TEXT_CALENDAR, null, (channel) =&gt; {</span>
<a href="#l83.125"></a><span id="l83.125">             channel.requestMethod = &quot;POST&quot;;</span>
<a href="#l83.126"></a><span id="l83.126">             channel.setRequestHeader(&quot;Originator&quot;, organizer, false);</span>
<a href="#l83.127"></a><span id="l83.127">             channel.setRequestHeader(&quot;Recipient&quot;, mailto_aCalId, false);</span>
<a href="#l83.128"></a><span id="l83.128">             return streamListener;</span>
<a href="#l83.129"></a><span id="l83.129">         }, () =&gt; {</span>
<a href="#l83.130"></a><span id="l83.130" class="difflineminus">-            notifyListener(Cr.NS_ERROR_NOT_AVAILABLE,</span>
<a href="#l83.131"></a><span id="l83.131" class="difflineminus">-                           &quot;Error preparing http channel&quot;);</span>
<a href="#l83.132"></a><span id="l83.132" class="difflineplus">+            aListener.onResult(null, null);</span>
<a href="#l83.133"></a><span id="l83.133">         });</span>
<a href="#l83.134"></a><span id="l83.134">     },</span>
<a href="#l83.135"></a><span id="l83.135"> </span>
<a href="#l83.136"></a><span id="l83.136">     /**</span>
<a href="#l83.137"></a><span id="l83.137">      * Extract the path from the full spec, if the regexp failed, log</span>
<a href="#l83.138"></a><span id="l83.138">      * warning and return unaltered path.</span>
<a href="#l83.139"></a><span id="l83.139">      */</span>
<a href="#l83.140"></a><span id="l83.140">     extractPathFromSpec: function(aSpec) {</span>
<a href="#l83.141"></a><span id="l83.141" class="difflineat">@@ -2864,18 +2864,17 @@ calDavCalendar.prototype = {</span>
<a href="#l83.142"></a><span id="l83.142">             this.sendHttpRequest(requestUri, uploadData, MIME_TEXT_CALENDAR, null, (channel) =&gt; {</span>
<a href="#l83.143"></a><span id="l83.143">                 channel.requestMethod = &quot;POST&quot;;</span>
<a href="#l83.144"></a><span id="l83.144">                 channel.setRequestHeader(&quot;Originator&quot;, this.calendarUserAddress, false);</span>
<a href="#l83.145"></a><span id="l83.145">                 for (let recipient of aRecipients) {</span>
<a href="#l83.146"></a><span id="l83.146">                     channel.setRequestHeader(&quot;Recipient&quot;, recipient.id, true);</span>
<a href="#l83.147"></a><span id="l83.147">                 }</span>
<a href="#l83.148"></a><span id="l83.148">                 return streamListener;</span>
<a href="#l83.149"></a><span id="l83.149">             }, () =&gt; {</span>
<a href="#l83.150"></a><span id="l83.150" class="difflineminus">-                notifyListener(Cr.NS_ERROR_NOT_AVAILABLE,</span>
<a href="#l83.151"></a><span id="l83.151" class="difflineminus">-                               &quot;Error preparing http channel&quot;);</span>
<a href="#l83.152"></a><span id="l83.152" class="difflineplus">+                cal.LOG(&quot;CalDAV: Error preparing http channel&quot;);</span>
<a href="#l83.153"></a><span id="l83.153">             });</span>
<a href="#l83.154"></a><span id="l83.154">         }</span>
<a href="#l83.155"></a><span id="l83.155">         return true;</span>
<a href="#l83.156"></a><span id="l83.156">     },</span>
<a href="#l83.157"></a><span id="l83.157"> </span>
<a href="#l83.158"></a><span id="l83.158">     mVerboseLogging: undefined,</span>
<a href="#l83.159"></a><span id="l83.159">     verboseLogging: function() {</span>
<a href="#l83.160"></a><span id="l83.160">         if (this.mVerboseLogging === undefined) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l84.1"></a><span id="l84.1" class="difflineminus">--- a/calendar/providers/caldav/calDavRequestHandlers.js</span>
<a href="#l84.2"></a><span id="l84.2" class="difflineplus">+++ b/calendar/providers/caldav/calDavRequestHandlers.js</span>
<a href="#l84.3"></a><span id="l84.3" class="difflineat">@@ -1,12 +1,13 @@</span>
<a href="#l84.4"></a><span id="l84.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l84.5"></a><span id="l84.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l84.6"></a><span id="l84.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l84.7"></a><span id="l84.7"> </span>
<a href="#l84.8"></a><span id="l84.8" class="difflineplus">+var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l84.9"></a><span id="l84.9"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l84.10"></a><span id="l84.10"> var { setTimeout } = ChromeUtils.import(&quot;resource://gre/modules/Timer.jsm&quot;);</span>
<a href="#l84.11"></a><span id="l84.11"> </span>
<a href="#l84.12"></a><span id="l84.12"> var xmlHeader = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n';</span>
<a href="#l84.13"></a><span id="l84.13"> var MIME_TEXT_XML = &quot;text/xml; charset=utf-8&quot;;</span>
<a href="#l84.14"></a><span id="l84.14"> </span>
<a href="#l84.15"></a><span id="l84.15"> /**</span>
<a href="#l84.16"></a><span id="l84.16">  * This is a handler for the etag request in calDavCalendar.js' getUpdatedItem.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l85.1"></a><span id="l85.1" class="difflineminus">--- a/calendar/providers/caldav/content/caldav-lightning-calendar-creation.js</span>
<a href="#l85.2"></a><span id="l85.2" class="difflineplus">+++ b/calendar/providers/caldav/content/caldav-lightning-calendar-creation.js</span>
<a href="#l85.3"></a><span id="l85.3" class="difflineat">@@ -1,12 +1,15 @@</span>
<a href="#l85.4"></a><span id="l85.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l85.5"></a><span id="l85.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l85.6"></a><span id="l85.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l85.7"></a><span id="l85.7"> </span>
<a href="#l85.8"></a><span id="l85.8" class="difflineplus">+/* import-globals-from ../../../lightning/content/lightning-calendar-creation.js */</span>
<a href="#l85.9"></a><span id="l85.9" class="difflineplus">+/* import-globals-from caldav-lightning-utils.js */</span>
<a href="#l85.10"></a><span id="l85.10" class="difflineplus">+</span>
<a href="#l85.11"></a><span id="l85.11"> var ltn_initCustomizePage = initCustomizePage;</span>
<a href="#l85.12"></a><span id="l85.12"> var ltn_doCreateCalendar = doCreateCalendar;</span>
<a href="#l85.13"></a><span id="l85.13"> var ltn_onChangeIdentity = onChangeIdentity;</span>
<a href="#l85.14"></a><span id="l85.14"> </span>
<a href="#l85.15"></a><span id="l85.15"> initCustomizePage = function() {</span>
<a href="#l85.16"></a><span id="l85.16">     ltn_initCustomizePage();</span>
<a href="#l85.17"></a><span id="l85.17">     caldavInitForceEmailScheduling();</span>
<a href="#l85.18"></a><span id="l85.18"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l86.1"></a><span id="l86.1" class="difflineminus">--- a/calendar/providers/caldav/content/caldav-lightning-calendar-properties.js</span>
<a href="#l86.2"></a><span id="l86.2" class="difflineplus">+++ b/calendar/providers/caldav/content/caldav-lightning-calendar-properties.js</span>
<a href="#l86.3"></a><span id="l86.3" class="difflineat">@@ -1,12 +1,15 @@</span>
<a href="#l86.4"></a><span id="l86.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l86.5"></a><span id="l86.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l86.6"></a><span id="l86.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l86.7"></a><span id="l86.7"> </span>
<a href="#l86.8"></a><span id="l86.8" class="difflineplus">+/* import-globals-from ../../../lightning/content/lightning-calendar-properties.js */</span>
<a href="#l86.9"></a><span id="l86.9" class="difflineplus">+/* import-globals-from caldav-lightning-utils.js */</span>
<a href="#l86.10"></a><span id="l86.10" class="difflineplus">+</span>
<a href="#l86.11"></a><span id="l86.11"> var ltn_onChangeIdentity = onChangeIdentity;</span>
<a href="#l86.12"></a><span id="l86.12"> </span>
<a href="#l86.13"></a><span id="l86.13"> onLoad = function() {</span>
<a href="#l86.14"></a><span id="l86.14">     gCalendar = window.arguments[0].calendar;</span>
<a href="#l86.15"></a><span id="l86.15">     ltnInitMailIdentitiesRow();</span>
<a href="#l86.16"></a><span id="l86.16">     caldavInitForceEmailScheduling();</span>
<a href="#l86.17"></a><span id="l86.17">     common_onLoad();</span>
<a href="#l86.18"></a><span id="l86.18"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l87.1"></a><span id="l87.1" class="difflineminus">--- a/calendar/providers/caldav/content/caldav-lightning-utils.js</span>
<a href="#l87.2"></a><span id="l87.2" class="difflineplus">+++ b/calendar/providers/caldav/content/caldav-lightning-utils.js</span>
<a href="#l87.3"></a><span id="l87.3" class="difflineat">@@ -1,16 +1,20 @@</span>
<a href="#l87.4"></a><span id="l87.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l87.5"></a><span id="l87.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l87.6"></a><span id="l87.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l87.7"></a><span id="l87.7"> </span>
<a href="#l87.8"></a><span id="l87.8"> /* exported caldavInitForceEmailScheduling, caldavSaveForceEmailScheduling,</span>
<a href="#l87.9"></a><span id="l87.9">  *          caldavUpdateForceEmailSchedulingControl</span>
<a href="#l87.10"></a><span id="l87.10">  */</span>
<a href="#l87.11"></a><span id="l87.11"> </span>
<a href="#l87.12"></a><span id="l87.12" class="difflineplus">+/* import-globals-from ../../../base/content/calendar-ui-utils.js */</span>
<a href="#l87.13"></a><span id="l87.13" class="difflineplus">+/* import-globals-from ../../../lightning/content/lightning-utils.js */</span>
<a href="#l87.14"></a><span id="l87.14" class="difflineplus">+/* globals gCalendar */</span>
<a href="#l87.15"></a><span id="l87.15" class="difflineplus">+</span>
<a href="#l87.16"></a><span id="l87.16"> /**</span>
<a href="#l87.17"></a><span id="l87.17">  * Initializing calendar creation wizard and properties dialog to display the</span>
<a href="#l87.18"></a><span id="l87.18">  * option to enforce email scheduling for outgoing scheduling operations</span>
<a href="#l87.19"></a><span id="l87.19">  * (shared between calendar creation wizard and properties dialog)</span>
<a href="#l87.20"></a><span id="l87.20">  */</span>
<a href="#l87.21"></a><span id="l87.21"> function caldavInitForceEmailScheduling() {</span>
<a href="#l87.22"></a><span id="l87.22">     if (gCalendar &amp;&amp; gCalendar.type == &quot;caldav&quot;) {</span>
<a href="#l87.23"></a><span id="l87.23">         let checkbox = document.getElementById(&quot;force-email-scheduling&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l88.1"></a><span id="l88.1" class="difflineminus">--- a/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l88.2"></a><span id="l88.2" class="difflineplus">+++ b/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l88.3"></a><span id="l88.3" class="difflineat">@@ -93,22 +93,22 @@ calCompositeCalendar.prototype = {</span>
<a href="#l88.4"></a><span id="l88.4"> </span>
<a href="#l88.5"></a><span id="l88.5">     //</span>
<a href="#l88.6"></a><span id="l88.6">     // calICalendarProvider interface</span>
<a href="#l88.7"></a><span id="l88.7">     //</span>
<a href="#l88.8"></a><span id="l88.8">     get prefChromeOverlay() { return null; },</span>
<a href="#l88.9"></a><span id="l88.9">     get displayName() { return cal.l10n.getCalString(&quot;compositeName&quot;); },</span>
<a href="#l88.10"></a><span id="l88.10"> </span>
<a href="#l88.11"></a><span id="l88.11">     createCalendar: function() {</span>
<a href="#l88.12"></a><span id="l88.12" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l88.13"></a><span id="l88.13" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l88.14"></a><span id="l88.14">     },</span>
<a href="#l88.15"></a><span id="l88.15"> </span>
<a href="#l88.16"></a><span id="l88.16">     deleteCalendar: function(calendar, listener) {</span>
<a href="#l88.17"></a><span id="l88.17">         // You shouldn't be able to delete from the composite calendar.</span>
<a href="#l88.18"></a><span id="l88.18" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l88.19"></a><span id="l88.19" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l88.20"></a><span id="l88.20">     },</span>
<a href="#l88.21"></a><span id="l88.21"> </span>
<a href="#l88.22"></a><span id="l88.22">     //</span>
<a href="#l88.23"></a><span id="l88.23">     // calICompositeCalendar interface</span>
<a href="#l88.24"></a><span id="l88.24">     //</span>
<a href="#l88.25"></a><span id="l88.25"> </span>
<a href="#l88.26"></a><span id="l88.26">     mCalendars: null,</span>
<a href="#l88.27"></a><span id="l88.27">     mDefaultCalendar: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l89.1"></a><span id="l89.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-calendar-creation.js</span>
<a href="#l89.2"></a><span id="l89.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-calendar-creation.js</span>
<a href="#l89.3"></a><span id="l89.3" class="difflineat">@@ -1,18 +1,21 @@</span>
<a href="#l89.4"></a><span id="l89.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l89.5"></a><span id="l89.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l89.6"></a><span id="l89.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l89.7"></a><span id="l89.7"> </span>
<a href="#l89.8"></a><span id="l89.8" class="difflineplus">+/* import-globals-from ../../../lightning/content/lightning-calendar-creation.js */</span>
<a href="#l89.9"></a><span id="l89.9" class="difflineplus">+</span>
<a href="#l89.10"></a><span id="l89.10"> // Backwards compatibility with Thunderbird &lt;60.</span>
<a href="#l89.11"></a><span id="l89.11"> if (!(&quot;Cc&quot; in this)) {</span>
<a href="#l89.12"></a><span id="l89.12">     // eslint-disable-next-line mozilla/no-define-cc-etc, no-unused-vars</span>
<a href="#l89.13"></a><span id="l89.13">     const { utils: Cu } = Components;</span>
<a href="#l89.14"></a><span id="l89.14"> }</span>
<a href="#l89.15"></a><span id="l89.15"> </span>
<a href="#l89.16"></a><span id="l89.16" class="difflineplus">+var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l89.17"></a><span id="l89.17"> var { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l89.18"></a><span id="l89.18"> var { getGoogleSessionManager } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataSession.jsm&quot;);</span>
<a href="#l89.19"></a><span id="l89.19"> var { monkeyPatch } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;);</span>
<a href="#l89.20"></a><span id="l89.20"> </span>
<a href="#l89.21"></a><span id="l89.21"> (function() {</span>
<a href="#l89.22"></a><span id="l89.22">     function pageorder(anchor, ...pages) {</span>
<a href="#l89.23"></a><span id="l89.23">         let wizard = document.documentElement;</span>
<a href="#l89.24"></a><span id="l89.24">         let page = wizard.getPageById(anchor);</span>
<a href="#l89.25"></a><span id="l89.25" class="difflineat">@@ -70,16 +73,18 @@ var { monkeyPatch } = ChromeUtils.import</span>
<a href="#l89.26"></a><span id="l89.26">             return protofunc(type);</span>
<a href="#l89.27"></a><span id="l89.27">         });</span>
<a href="#l89.28"></a><span id="l89.28">     } else {</span>
<a href="#l89.29"></a><span id="l89.29">         // The exchange provider overwrites the select handler, which causes</span>
<a href="#l89.30"></a><span id="l89.30">         // our provider to fail. The exchange provider overwrites the select</span>
<a href="#l89.31"></a><span id="l89.31">         // handler, which causes our provider to fail. Given the exchange</span>
<a href="#l89.32"></a><span id="l89.32">         // provider is currently not maintained and we want them to work</span>
<a href="#l89.33"></a><span id="l89.33">         // together, here is a workaround.</span>
<a href="#l89.34"></a><span id="l89.34" class="difflineplus">+</span>
<a href="#l89.35"></a><span id="l89.35" class="difflineplus">+        // eslint-disable-next-line no-undef</span>
<a href="#l89.36"></a><span id="l89.36">         monkeyPatch(tmpCalendarCreation, &quot;doRadioExchangeCalendar&quot;, (protofunc, target) =&gt; {</span>
<a href="#l89.37"></a><span id="l89.37">             // We need to run our function first, otherwise resetting the</span>
<a href="#l89.38"></a><span id="l89.38">             // pageorder will overwrite what the exchange provider does.</span>
<a href="#l89.39"></a><span id="l89.39">             selectProvider(target.value);</span>
<a href="#l89.40"></a><span id="l89.40">             let rv = protofunc(target);</span>
<a href="#l89.41"></a><span id="l89.41"> </span>
<a href="#l89.42"></a><span id="l89.42">             // But then again, when switching to the gdata provider, the</span>
<a href="#l89.43"></a><span id="l89.43">             // exchange provider overwrites the uri we set.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l90.1"></a><span id="l90.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-calendar-properties.js</span>
<a href="#l90.2"></a><span id="l90.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-calendar-properties.js</span>
<a href="#l90.3"></a><span id="l90.3" class="difflineat">@@ -1,12 +1,16 @@</span>
<a href="#l90.4"></a><span id="l90.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l90.5"></a><span id="l90.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l90.6"></a><span id="l90.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l90.7"></a><span id="l90.7"> </span>
<a href="#l90.8"></a><span id="l90.8" class="difflineplus">+/* import-globals-from ../../../lightning/content/lightning-calendar-properties.js */</span>
<a href="#l90.9"></a><span id="l90.9" class="difflineplus">+</span>
<a href="#l90.10"></a><span id="l90.10" class="difflineplus">+var { monkeyPatch } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;);</span>
<a href="#l90.11"></a><span id="l90.11" class="difflineplus">+</span>
<a href="#l90.12"></a><span id="l90.12"> window.addEventListener(&quot;load&quot;, () =&gt; {</span>
<a href="#l90.13"></a><span id="l90.13">     if (document.getElementById(&quot;calendar-uri&quot;).value) {</span>
<a href="#l90.14"></a><span id="l90.14">         // Calendar's load function needs to be called first, and that seems to have happened.</span>
<a href="#l90.15"></a><span id="l90.15">         gdataOnLoad();</span>
<a href="#l90.16"></a><span id="l90.16">     } else {</span>
<a href="#l90.17"></a><span id="l90.17">         // onLoad has not yet been called, so we can piggyback on that function.</span>
<a href="#l90.18"></a><span id="l90.18">         monkeyPatch(window, &quot;onLoad&quot;, (protofunc, ...args) =&gt; {</span>
<a href="#l90.19"></a><span id="l90.19">             let rv = protofunc(...args);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l91.1"></a><span id="l91.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-event-dialog-reminder.js</span>
<a href="#l91.2"></a><span id="l91.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-event-dialog-reminder.js</span>
<a href="#l91.3"></a><span id="l91.3" class="difflineat">@@ -1,16 +1,21 @@</span>
<a href="#l91.4"></a><span id="l91.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l91.5"></a><span id="l91.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l91.6"></a><span id="l91.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l91.7"></a><span id="l91.7"> </span>
<a href="#l91.8"></a><span id="l91.8" class="difflineplus">+/* import-globals-from ../../../base/content/dialogs/calendar-event-dialog-reminder.js */</span>
<a href="#l91.9"></a><span id="l91.9" class="difflineplus">+</span>
<a href="#l91.10"></a><span id="l91.10"> (function() {</span>
<a href="#l91.11"></a><span id="l91.11">     const FOUR_WEEKS_BEFORE = -2419200;</span>
<a href="#l91.12"></a><span id="l91.12">     const { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l91.13"></a><span id="l91.13" class="difflineminus">-    const { monkeyPatch } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;);</span>
<a href="#l91.14"></a><span id="l91.14" class="difflineplus">+    const {</span>
<a href="#l91.15"></a><span id="l91.15" class="difflineplus">+        monkeyPatch,</span>
<a href="#l91.16"></a><span id="l91.16" class="difflineplus">+        getProviderString,</span>
<a href="#l91.17"></a><span id="l91.17" class="difflineplus">+    } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;);</span>
<a href="#l91.18"></a><span id="l91.18"> </span>
<a href="#l91.19"></a><span id="l91.19">     // NOTE: This function exits early if its not a gdata calendar</span>
<a href="#l91.20"></a><span id="l91.20">     let item = window.arguments[0].item;</span>
<a href="#l91.21"></a><span id="l91.21">     let calendar = window.arguments[0].calendar;</span>
<a href="#l91.22"></a><span id="l91.22">     if (calendar.type != &quot;gdata&quot;) {</span>
<a href="#l91.23"></a><span id="l91.23">         return;</span>
<a href="#l91.24"></a><span id="l91.24">     }</span>
<a href="#l91.25"></a><span id="l91.25"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l92.1"></a><span id="l92.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-lightning-item-iframe.js</span>
<a href="#l92.2"></a><span id="l92.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-lightning-item-iframe.js</span>
<a href="#l92.3"></a><span id="l92.3" class="difflineat">@@ -1,12 +1,15 @@</span>
<a href="#l92.4"></a><span id="l92.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l92.5"></a><span id="l92.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l92.6"></a><span id="l92.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l92.7"></a><span id="l92.7"> </span>
<a href="#l92.8"></a><span id="l92.8" class="difflineplus">+/* import-globals-from ../../../lightning/content/lightning-item-iframe.js */</span>
<a href="#l92.9"></a><span id="l92.9" class="difflineplus">+/* import-globals-from ../../../base/content/dialogs/calendar-dialog-utils.js */</span>
<a href="#l92.10"></a><span id="l92.10" class="difflineplus">+</span>
<a href="#l92.11"></a><span id="l92.11"> var { monkeyPatch } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;);</span>
<a href="#l92.12"></a><span id="l92.12"> </span>
<a href="#l92.13"></a><span id="l92.13"> var { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l92.14"></a><span id="l92.14"> </span>
<a href="#l92.15"></a><span id="l92.15"> (function() {</span>
<a href="#l92.16"></a><span id="l92.16">     monkeyPatch(window, &quot;updateCalendar&quot;, function(protofunc, ...args) {</span>
<a href="#l92.17"></a><span id="l92.17">         let rv = protofunc.apply(this, args);</span>
<a href="#l92.18"></a><span id="l92.18">         let calendar = getCurrentCalendar();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l93.1"></a><span id="l93.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-list-tree.xml</span>
<a href="#l93.2"></a><span id="l93.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-list-tree.xml</span>
<a href="#l93.3"></a><span id="l93.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l93.4"></a><span id="l93.4"> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l93.5"></a><span id="l93.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l93.6"></a><span id="l93.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l93.7"></a><span id="l93.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l93.8"></a><span id="l93.8"> </span>
<a href="#l93.9"></a><span id="l93.9" class="difflineplus">+&lt;!-- globals cal, Services --&gt;</span>
<a href="#l93.10"></a><span id="l93.10" class="difflineplus">+</span>
<a href="#l93.11"></a><span id="l93.11"> &lt;!DOCTYPE bindings SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot;&gt;</span>
<a href="#l93.12"></a><span id="l93.12"> </span>
<a href="#l93.13"></a><span id="l93.13"> &lt;bindings id=&quot;gdata-list-tree-bindings&quot;</span>
<a href="#l93.14"></a><span id="l93.14">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l93.15"></a><span id="l93.15">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l93.16"></a><span id="l93.16">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l93.17"></a><span id="l93.17"> </span>
<a href="#l93.18"></a><span id="l93.18">   &lt;binding id=&quot;gdata-list-tree&quot; extends=&quot;chrome://calendar/content/widgets/calendar-list-tree.xml#calendar-list-tree&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l94.1"></a><span id="l94.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-migration.js</span>
<a href="#l94.2"></a><span id="l94.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-migration.js</span>
<a href="#l94.3"></a><span id="l94.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l94.4"></a><span id="l94.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l94.5"></a><span id="l94.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l94.6"></a><span id="l94.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l94.7"></a><span id="l94.7"> </span>
<a href="#l94.8"></a><span id="l94.8" class="difflineplus">+/* import-globals-from ../../../base/content/calendar-ui-utils.js */</span>
<a href="#l94.9"></a><span id="l94.9" class="difflineplus">+</span>
<a href="#l94.10"></a><span id="l94.10"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l94.11"></a><span id="l94.11"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l94.12"></a><span id="l94.12"> </span>
<a href="#l94.13"></a><span id="l94.13"> /* exported migrateSelectedCalendars */</span>
<a href="#l94.14"></a><span id="l94.14"> </span>
<a href="#l94.15"></a><span id="l94.15"> /**</span>
<a href="#l94.16"></a><span id="l94.16">  * Migrate the calendar selected in the wizard from ics to gdata.</span>
<a href="#l94.17"></a><span id="l94.17">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l95.1"></a><span id="l95.1" class="difflineminus">--- a/calendar/providers/gdata/modules/gdataRequest.jsm</span>
<a href="#l95.2"></a><span id="l95.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/gdataRequest.jsm</span>
<a href="#l95.3"></a><span id="l95.3" class="difflineat">@@ -353,17 +353,17 @@ calGoogleRequest.prototype = {</span>
<a href="#l95.4"></a><span id="l95.4">         }</span>
<a href="#l95.5"></a><span id="l95.5"> </span>
<a href="#l95.6"></a><span id="l95.6">         let httpChannel = aLoader.request.QueryInterface(Ci.nsIHttpChannel);</span>
<a href="#l95.7"></a><span id="l95.7"> </span>
<a href="#l95.8"></a><span id="l95.8">         // Convert the stream, falling back to utf-8 in case its not given.</span>
<a href="#l95.9"></a><span id="l95.9">         let result = new TextDecoder(httpChannel.contentCharset || &quot;utf-8&quot;).decode(Uint8Array.from(aResult));</span>
<a href="#l95.10"></a><span id="l95.10">         if (result === null) {</span>
<a href="#l95.11"></a><span id="l95.11">             this.fail(Cr.NS_ERROR_FAILURE,</span>
<a href="#l95.12"></a><span id="l95.12" class="difflineminus">-                      &quot;Could not convert bytestream to Unicode: &quot; + e);</span>
<a href="#l95.13"></a><span id="l95.13" class="difflineplus">+                      &quot;Could not convert bytestream to Unicode&quot;);</span>
<a href="#l95.14"></a><span id="l95.14">             return;</span>
<a href="#l95.15"></a><span id="l95.15">         }</span>
<a href="#l95.16"></a><span id="l95.16"> </span>
<a href="#l95.17"></a><span id="l95.17">         let objData;</span>
<a href="#l95.18"></a><span id="l95.18">         try {</span>
<a href="#l95.19"></a><span id="l95.19">             if (result.length) {</span>
<a href="#l95.20"></a><span id="l95.20">                 objData = JSON.parse(result);</span>
<a href="#l95.21"></a><span id="l95.21">             } else {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l96.1"></a><span id="l96.1" class="difflineminus">--- a/calendar/providers/gdata/modules/gdataSession.jsm</span>
<a href="#l96.2"></a><span id="l96.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/gdataSession.jsm</span>
<a href="#l96.3"></a><span id="l96.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l96.4"></a><span id="l96.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l96.5"></a><span id="l96.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l96.6"></a><span id="l96.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l96.7"></a><span id="l96.7"> </span>
<a href="#l96.8"></a><span id="l96.8" class="difflineplus">+/* globals OAUTH_BASE_URI, OAUTH_SCOPE, OAUTH_CLIENT_ID, OAUTH_CLIENT_SECRET */</span>
<a href="#l96.9"></a><span id="l96.9" class="difflineplus">+</span>
<a href="#l96.10"></a><span id="l96.10"> // Backwards compatibility with Thunderbird &lt;60.</span>
<a href="#l96.11"></a><span id="l96.11"> if (!(&quot;Cc&quot; in this)) {</span>
<a href="#l96.12"></a><span id="l96.12">     // eslint-disable-next-line mozilla/no-define-cc-etc, no-unused-vars</span>
<a href="#l96.13"></a><span id="l96.13">     const { classes: Cc, interfaces: Ci, results: Cr } = Components;</span>
<a href="#l96.14"></a><span id="l96.14"> }</span>
<a href="#l96.15"></a><span id="l96.15"> </span>
<a href="#l96.16"></a><span id="l96.16"> var { OAuth2 } = ChromeUtils.import(&quot;resource://gdata-provider/modules/OAuth2.jsm&quot;);</span>
<a href="#l96.17"></a><span id="l96.17"> var { getProviderString } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l97.1"></a><span id="l97.1" class="difflineminus">--- a/calendar/providers/gdata/modules/gdataUtils.jsm</span>
<a href="#l97.2"></a><span id="l97.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/gdataUtils.jsm</span>
<a href="#l97.3"></a><span id="l97.3" class="difflineat">@@ -578,18 +578,18 @@ function setupRecurrence(aItem, aRecurre</span>
<a href="#l97.4"></a><span id="l97.4"> </span>
<a href="#l97.5"></a><span id="l97.5">     if (aItem.recurrenceInfo) {</span>
<a href="#l97.6"></a><span id="l97.6">         aItem.recurrenceInfo.clearRecurrenceItems();</span>
<a href="#l97.7"></a><span id="l97.7">     } else {</span>
<a href="#l97.8"></a><span id="l97.8">         aItem.recurrenceInfo = cal.createRecurrenceInfo(aItem);</span>
<a href="#l97.9"></a><span id="l97.9">     }</span>
<a href="#l97.10"></a><span id="l97.10"> </span>
<a href="#l97.11"></a><span id="l97.11">     let rootComp;</span>
<a href="#l97.12"></a><span id="l97.12" class="difflineplus">+    let vevent = &quot;BEGIN:VEVENT\r\n&quot; + aRecurrence.join(&quot;\r\n&quot;) + &quot;\r\nEND:VEVENT&quot;;</span>
<a href="#l97.13"></a><span id="l97.13">     try {</span>
<a href="#l97.14"></a><span id="l97.14" class="difflineminus">-        let vevent = &quot;BEGIN:VEVENT\r\n&quot; + aRecurrence.join(&quot;\r\n&quot;) + &quot;\r\nEND:VEVENT&quot;;</span>
<a href="#l97.15"></a><span id="l97.15">         rootComp = cal.getIcsService().parseICS(vevent, null);</span>
<a href="#l97.16"></a><span id="l97.16">     } catch (e) {</span>
<a href="#l97.17"></a><span id="l97.17">         cal.ERROR(&quot;[calGoogleCalendar] Unable to parse recurrence item: &quot; + vevent);</span>
<a href="#l97.18"></a><span id="l97.18">     }</span>
<a href="#l97.19"></a><span id="l97.19"> </span>
<a href="#l97.20"></a><span id="l97.20">     let hasRecurringRules = false;</span>
<a href="#l97.21"></a><span id="l97.21">     for (let prop = rootComp.getFirstProperty(&quot;ANY&quot;);</span>
<a href="#l97.22"></a><span id="l97.22">          prop;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l98.1"></a><span id="l98.1" class="difflineminus">--- a/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l98.2"></a><span id="l98.2" class="difflineplus">+++ b/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l98.3"></a><span id="l98.3" class="difflineat">@@ -77,21 +77,21 @@ calICSCalendar.prototype = {</span>
<a href="#l98.4"></a><span id="l98.4">         return null;</span>
<a href="#l98.5"></a><span id="l98.5">     },</span>
<a href="#l98.6"></a><span id="l98.6"> </span>
<a href="#l98.7"></a><span id="l98.7">     get displayName() {</span>
<a href="#l98.8"></a><span id="l98.8">         return cal.l10n.getCalString(&quot;icsName&quot;);</span>
<a href="#l98.9"></a><span id="l98.9">     },</span>
<a href="#l98.10"></a><span id="l98.10"> </span>
<a href="#l98.11"></a><span id="l98.11">     createCalendar: function() {</span>
<a href="#l98.12"></a><span id="l98.12" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l98.13"></a><span id="l98.13" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l98.14"></a><span id="l98.14">     },</span>
<a href="#l98.15"></a><span id="l98.15"> </span>
<a href="#l98.16"></a><span id="l98.16">     deleteCalendar: function(_cal, listener) {</span>
<a href="#l98.17"></a><span id="l98.17" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l98.18"></a><span id="l98.18" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l98.19"></a><span id="l98.19">     },</span>
<a href="#l98.20"></a><span id="l98.20"> </span>
<a href="#l98.21"></a><span id="l98.21">     //</span>
<a href="#l98.22"></a><span id="l98.22">     // calICalendar interface</span>
<a href="#l98.23"></a><span id="l98.23">     //</span>
<a href="#l98.24"></a><span id="l98.24">     get type() { return &quot;ics&quot;; },</span>
<a href="#l98.25"></a><span id="l98.25"> </span>
<a href="#l98.26"></a><span id="l98.26">     get canRefresh() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l99.1"></a><span id="l99.1" class="difflineminus">--- a/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l99.2"></a><span id="l99.2" class="difflineplus">+++ b/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l99.3"></a><span id="l99.3" class="difflineat">@@ -54,17 +54,17 @@ calMemoryCalendar.prototype = {</span>
<a href="#l99.4"></a><span id="l99.4">         return null;</span>
<a href="#l99.5"></a><span id="l99.5">     },</span>
<a href="#l99.6"></a><span id="l99.6"> </span>
<a href="#l99.7"></a><span id="l99.7">     get displayName() {</span>
<a href="#l99.8"></a><span id="l99.8">         return cal.l10n.getCalString(&quot;memoryName&quot;);</span>
<a href="#l99.9"></a><span id="l99.9">     },</span>
<a href="#l99.10"></a><span id="l99.10"> </span>
<a href="#l99.11"></a><span id="l99.11">     createCalendar: function() {</span>
<a href="#l99.12"></a><span id="l99.12" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l99.13"></a><span id="l99.13" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l99.14"></a><span id="l99.14">     },</span>
<a href="#l99.15"></a><span id="l99.15"> </span>
<a href="#l99.16"></a><span id="l99.16">     deleteCalendar: function(calendar, listener) {</span>
<a href="#l99.17"></a><span id="l99.17">         calendar = calendar.wrappedJSObject;</span>
<a href="#l99.18"></a><span id="l99.18">         calendar.mItems = {};</span>
<a href="#l99.19"></a><span id="l99.19">         calendar.mMetaData = new Map();</span>
<a href="#l99.20"></a><span id="l99.20"> </span>
<a href="#l99.21"></a><span id="l99.21">         try {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l100.1"></a><span id="l100.1" class="difflineminus">--- a/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l100.2"></a><span id="l100.2" class="difflineplus">+++ b/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l100.3"></a><span id="l100.3" class="difflineat">@@ -63,17 +63,17 @@ calStorageCalendar.prototype = {</span>
<a href="#l100.4"></a><span id="l100.4">         return null;</span>
<a href="#l100.5"></a><span id="l100.5">     },</span>
<a href="#l100.6"></a><span id="l100.6"> </span>
<a href="#l100.7"></a><span id="l100.7">     get displayName() {</span>
<a href="#l100.8"></a><span id="l100.8">         return cal.l10n.getCalString(&quot;storageName&quot;);</span>
<a href="#l100.9"></a><span id="l100.9">     },</span>
<a href="#l100.10"></a><span id="l100.10"> </span>
<a href="#l100.11"></a><span id="l100.11">     createCalendar: function() {</span>
<a href="#l100.12"></a><span id="l100.12" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l100.13"></a><span id="l100.13" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l100.14"></a><span id="l100.14">     },</span>
<a href="#l100.15"></a><span id="l100.15"> </span>
<a href="#l100.16"></a><span id="l100.16">     deleteCalendar: function(aCalendar, listener) {</span>
<a href="#l100.17"></a><span id="l100.17">         aCalendar = aCalendar.wrappedJSObject;</span>
<a href="#l100.18"></a><span id="l100.18"> </span>
<a href="#l100.19"></a><span id="l100.19">         if (this.mDeleteEventExtras) {</span>
<a href="#l100.20"></a><span id="l100.20">             for (let stmt of this.mDeleteEventExtras) {</span>
<a href="#l100.21"></a><span id="l100.21">                 try {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l101.1"></a><span id="l101.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapCalendar.js</span>
<a href="#l101.2"></a><span id="l101.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapCalendar.js</span>
<a href="#l101.3"></a><span id="l101.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l101.4"></a><span id="l101.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l101.5"></a><span id="l101.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l101.6"></a><span id="l101.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l101.7"></a><span id="l101.7"> </span>
<a href="#l101.8"></a><span id="l101.8" class="difflineplus">+/* import-globals-from calWcapCalendarModule.js */</span>
<a href="#l101.9"></a><span id="l101.9" class="difflineplus">+</span>
<a href="#l101.10"></a><span id="l101.10"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l101.11"></a><span id="l101.11"> </span>
<a href="#l101.12"></a><span id="l101.12"> /**</span>
<a href="#l101.13"></a><span id="l101.13">  * The calendar provider class for WCAP calendars. Usually instanciated through</span>
<a href="#l101.14"></a><span id="l101.14">  * the calendar manager, but may also be created by the wcap session, hence the</span>
<a href="#l101.15"></a><span id="l101.15">  * following optional parameters.</span>
<a href="#l101.16"></a><span id="l101.16">  *</span>
<a href="#l101.17"></a><span id="l101.17">  * @param session       (optional) The calWcapSession for this calendar</span>
<a href="#l101.18"></a><span id="l101.18" class="difflineat">@@ -68,23 +70,23 @@ calWcapCalendar.prototype = {</span>
<a href="#l101.19"></a><span id="l101.19">     },</span>
<a href="#l101.20"></a><span id="l101.20"> </span>
<a href="#l101.21"></a><span id="l101.21">     // calICalendarProvider:</span>
<a href="#l101.22"></a><span id="l101.22">     get prefChromeOverlay() {</span>
<a href="#l101.23"></a><span id="l101.23">         return null;</span>
<a href="#l101.24"></a><span id="l101.24">     },</span>
<a href="#l101.25"></a><span id="l101.25">     // displayName attribute already part of calIWcapCalendar</span>
<a href="#l101.26"></a><span id="l101.26">     createCalendar: function(name, url, listener) {</span>
<a href="#l101.27"></a><span id="l101.27" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l101.28"></a><span id="l101.28" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l101.29"></a><span id="l101.29">     },</span>
<a href="#l101.30"></a><span id="l101.30">     deleteCalendar: function(calendar, listener) {</span>
<a href="#l101.31"></a><span id="l101.31" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l101.32"></a><span id="l101.32" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l101.33"></a><span id="l101.33">     },</span>
<a href="#l101.34"></a><span id="l101.34">     getCalendar: function(url) {</span>
<a href="#l101.35"></a><span id="l101.35" class="difflineminus">-        throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l101.36"></a><span id="l101.36" class="difflineplus">+        throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l101.37"></a><span id="l101.37">     },</span>
<a href="#l101.38"></a><span id="l101.38"> </span>
<a href="#l101.39"></a><span id="l101.39">     // calICalendar:</span>
<a href="#l101.40"></a><span id="l101.40">     get name() {</span>
<a href="#l101.41"></a><span id="l101.41">         let name = this.getProperty(&quot;name&quot;);</span>
<a href="#l101.42"></a><span id="l101.42">         if (!name) {</span>
<a href="#l101.43"></a><span id="l101.43">             name = this.displayName;</span>
<a href="#l101.44"></a><span id="l101.44">         }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l102.1"></a><span id="l102.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapCalendarItems.js</span>
<a href="#l102.2"></a><span id="l102.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapCalendarItems.js</span>
<a href="#l102.3"></a><span id="l102.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l102.4"></a><span id="l102.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l102.5"></a><span id="l102.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l102.6"></a><span id="l102.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l102.7"></a><span id="l102.7"> </span>
<a href="#l102.8"></a><span id="l102.8" class="difflineplus">+/* import-globals-from calWcapCalendarModule.js */</span>
<a href="#l102.9"></a><span id="l102.9" class="difflineplus">+</span>
<a href="#l102.10"></a><span id="l102.10"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l102.11"></a><span id="l102.11"> </span>
<a href="#l102.12"></a><span id="l102.12"> calWcapCalendar.prototype.encodeAttendee = function(att) {</span>
<a href="#l102.13"></a><span id="l102.13">     if (LOG_LEVEL &gt; 2) {</span>
<a href="#l102.14"></a><span id="l102.14">         log(&quot;attendee.icalProperty.icalString=&quot; + att.icalProperty.icalString, this);</span>
<a href="#l102.15"></a><span id="l102.15">     }</span>
<a href="#l102.16"></a><span id="l102.16">     function encodeAttr(val, attr, params) {</span>
<a href="#l102.17"></a><span id="l102.17">         if (val &amp;&amp; val.length &gt; 0) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l103.1"></a><span id="l103.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapCalendarModule.js</span>
<a href="#l103.2"></a><span id="l103.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapCalendarModule.js</span>
<a href="#l103.3"></a><span id="l103.3" class="difflineat">@@ -6,18 +6,26 @@</span>
<a href="#l103.4"></a><span id="l103.4">  *          calIWcapCalendar, calIWcapErrors, calICalendar, calIItemBase,</span>
<a href="#l103.5"></a><span id="l103.5">  *          calIOperationListener, calIFreeBusyProvider, calIFreeBusyInterval,</span>
<a href="#l103.6"></a><span id="l103.6">  *          calICalendarSearchProvider, calIErrors, g_privateItemTitle,</span>
<a href="#l103.7"></a><span id="l103.7">  *          g_confidentialItemTitle, g_busyItemTitle,</span>
<a href="#l103.8"></a><span id="l103.8">  *          g_busyPhantomItemUuidPrefix, CACHE_LAST_RESULTS,</span>
<a href="#l103.9"></a><span id="l103.9">  *          CACHE_LAST_RESULTS_INVALIDATE, LOG_LEVEL</span>
<a href="#l103.10"></a><span id="l103.10">  */</span>
<a href="#l103.11"></a><span id="l103.11"> </span>
<a href="#l103.12"></a><span id="l103.12" class="difflineplus">+/* import-globals-from calWcapUtils.js */</span>
<a href="#l103.13"></a><span id="l103.13" class="difflineplus">+/* import-globals-from calWcapErrors.js */</span>
<a href="#l103.14"></a><span id="l103.14" class="difflineplus">+/* import-globals-from calWcapRequest.js */</span>
<a href="#l103.15"></a><span id="l103.15" class="difflineplus">+/* import-globals-from calWcapSession.js */</span>
<a href="#l103.16"></a><span id="l103.16" class="difflineplus">+/* import-globals-from calWcapCalendar.js */</span>
<a href="#l103.17"></a><span id="l103.17" class="difflineplus">+/* import-globals-from calWcapCalendarItems.js */</span>
<a href="#l103.18"></a><span id="l103.18" class="difflineplus">+</span>
<a href="#l103.19"></a><span id="l103.19"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l103.20"></a><span id="l103.20"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l103.21"></a><span id="l103.21" class="difflineplus">+var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l103.22"></a><span id="l103.22"> </span>
<a href="#l103.23"></a><span id="l103.23"> //</span>
<a href="#l103.24"></a><span id="l103.24"> // init code for globals, prefs:</span>
<a href="#l103.25"></a><span id="l103.25"> //</span>
<a href="#l103.26"></a><span id="l103.26"> </span>
<a href="#l103.27"></a><span id="l103.27"> // constants:</span>
<a href="#l103.28"></a><span id="l103.28"> var NS_OK = Cr.NS_OK;</span>
<a href="#l103.29"></a><span id="l103.29"> var NS_ERROR_UNEXPECTED = Cr.NS_ERROR_UNEXPECTED;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l104.1"></a><span id="l104.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapErrors.js</span>
<a href="#l104.2"></a><span id="l104.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapErrors.js</span>
<a href="#l104.3"></a><span id="l104.3" class="difflineat">@@ -1,16 +1,18 @@</span>
<a href="#l104.4"></a><span id="l104.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l104.5"></a><span id="l104.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l104.6"></a><span id="l104.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l104.7"></a><span id="l104.7"> </span>
<a href="#l104.8"></a><span id="l104.8"> /* exported checkErrorCode, checkWcapXmlErrno, checkWcapIcalErrno,</span>
<a href="#l104.9"></a><span id="l104.9">  *          errorToString</span>
<a href="#l104.10"></a><span id="l104.10">  */</span>
<a href="#l104.11"></a><span id="l104.11"> </span>
<a href="#l104.12"></a><span id="l104.12" class="difflineplus">+/* import-globals-from calWcapCalendarModule.js */</span>
<a href="#l104.13"></a><span id="l104.13" class="difflineplus">+</span>
<a href="#l104.14"></a><span id="l104.14"> var NS_ERROR_INVALID_ARG = Cr.NS_ERROR_INVALID_ARG;</span>
<a href="#l104.15"></a><span id="l104.15"> </span>
<a href="#l104.16"></a><span id="l104.16"> //</span>
<a href="#l104.17"></a><span id="l104.17"> // Common netwerk errors:</span>
<a href="#l104.18"></a><span id="l104.18"> //</span>
<a href="#l104.19"></a><span id="l104.19"> var NS_ERROR_MODULE_BASE_OFFSET = 0x45;</span>
<a href="#l104.20"></a><span id="l104.20"> var NS_ERROR_MODULE_NETWORK = 6;</span>
<a href="#l104.21"></a><span id="l104.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l105.1"></a><span id="l105.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapRequest.js</span>
<a href="#l105.2"></a><span id="l105.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapRequest.js</span>
<a href="#l105.3"></a><span id="l105.3" class="difflineat">@@ -14,16 +14,18 @@</span>
<a href="#l105.4"></a><span id="l105.4">    The request function itself may return either</span>
<a href="#l105.5"></a><span id="l105.5">    - a further calIOperation request object, i.e. an async continuation</span>
<a href="#l105.6"></a><span id="l105.6">    - some data (incl null/undefined) which is the result of the async function,</span>
<a href="#l105.7"></a><span id="l105.7">      indicating that there is no further continuation</span>
<a href="#l105.8"></a><span id="l105.8"> */</span>
<a href="#l105.9"></a><span id="l105.9"> </span>
<a href="#l105.10"></a><span id="l105.10"> /* exported issueNetworkRequest, getWcapRequestStatusString, stringToIcal, stringToXml */</span>
<a href="#l105.11"></a><span id="l105.11"> </span>
<a href="#l105.12"></a><span id="l105.12" class="difflineplus">+/* import-globals-from calWcapCalendarModule.js */</span>
<a href="#l105.13"></a><span id="l105.13" class="difflineplus">+</span>
<a href="#l105.14"></a><span id="l105.14"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l105.15"></a><span id="l105.15"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l105.16"></a><span id="l105.16"> </span>
<a href="#l105.17"></a><span id="l105.17"> function generateRequestId() {</span>
<a href="#l105.18"></a><span id="l105.18">     if (!generateRequestId.mRequestPrefix) {</span>
<a href="#l105.19"></a><span id="l105.19">         generateRequestId.mRequestPrefix = cal.getUUID() + &quot;-&quot;;</span>
<a href="#l105.20"></a><span id="l105.20">         generateRequestId.mRequestId = 0;</span>
<a href="#l105.21"></a><span id="l105.21">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l106.1"></a><span id="l106.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapSession.js</span>
<a href="#l106.2"></a><span id="l106.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapSession.js</span>
<a href="#l106.3"></a><span id="l106.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l106.4"></a><span id="l106.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l106.5"></a><span id="l106.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l106.6"></a><span id="l106.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l106.7"></a><span id="l106.7"> </span>
<a href="#l106.8"></a><span id="l106.8"> /* exported getWcapSessionFor */</span>
<a href="#l106.9"></a><span id="l106.9"> </span>
<a href="#l106.10"></a><span id="l106.10" class="difflineplus">+/* import-globals-from calWcapCalendarModule.js */</span>
<a href="#l106.11"></a><span id="l106.11" class="difflineplus">+</span>
<a href="#l106.12"></a><span id="l106.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l106.13"></a><span id="l106.13"> </span>
<a href="#l106.14"></a><span id="l106.14"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l106.15"></a><span id="l106.15"> </span>
<a href="#l106.16"></a><span id="l106.16"> function calWcapTimezone(tzProvider, tzid_, component_) {</span>
<a href="#l106.17"></a><span id="l106.17">     this.wrappedJSObject = this;</span>
<a href="#l106.18"></a><span id="l106.18">     this.provider = tzProvider;</span>
<a href="#l106.19"></a><span id="l106.19">     this.icalComponent = component_;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l107.1"></a><span id="l107.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapUtils.js</span>
<a href="#l107.2"></a><span id="l107.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapUtils.js</span>
<a href="#l107.3"></a><span id="l107.3" class="difflineat">@@ -1,16 +1,18 @@</span>
<a href="#l107.4"></a><span id="l107.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l107.5"></a><span id="l107.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l107.6"></a><span id="l107.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l107.7"></a><span id="l107.7"> </span>
<a href="#l107.8"></a><span id="l107.8"> /* exported getCalendarSearchService, getDomParser, isParent, filterXmlNodes,</span>
<a href="#l107.9"></a><span id="l107.9">  *          getIcalUTC, getDatetimeFromIcalProp, getWcapString</span>
<a href="#l107.10"></a><span id="l107.10">  */</span>
<a href="#l107.11"></a><span id="l107.11"> </span>
<a href="#l107.12"></a><span id="l107.12" class="difflineplus">+/* import-globals-from calWcapCalendarModule.js */</span>
<a href="#l107.13"></a><span id="l107.13" class="difflineplus">+</span>
<a href="#l107.14"></a><span id="l107.14"> var { Preferences } = ChromeUtils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l107.15"></a><span id="l107.15"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l107.16"></a><span id="l107.16"> </span>
<a href="#l107.17"></a><span id="l107.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l107.18"></a><span id="l107.18"> </span>
<a href="#l107.19"></a><span id="l107.19"> var g_bShutdown = false;</span>
<a href="#l107.20"></a><span id="l107.20"> </span>
<a href="#l107.21"></a><span id="l107.21"> function initLogging() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l108.1"></a><span id="l108.1" class="difflineminus">--- a/calendar/resources/content/datetimepickers/datetimepickers.js</span>
<a href="#l108.2"></a><span id="l108.2" class="difflineplus">+++ b/calendar/resources/content/datetimepickers/datetimepickers.js</span>
<a href="#l108.3"></a><span id="l108.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l108.4"></a><span id="l108.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l108.5"></a><span id="l108.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l108.6"></a><span id="l108.6">  * file, you can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l108.7"></a><span id="l108.7"> </span>
<a href="#l108.8"></a><span id="l108.8" class="difflineplus">+/* globals BaseControlMixin, cal, MozElementMixin, MozXULElement */</span>
<a href="#l108.9"></a><span id="l108.9" class="difflineplus">+</span>
<a href="#l108.10"></a><span id="l108.10"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l108.11"></a><span id="l108.11"> </span>
<a href="#l108.12"></a><span id="l108.12"> customElements.whenDefined(&quot;menulist-editable&quot;).then(() =&gt; {</span>
<a href="#l108.13"></a><span id="l108.13">     class MozTimepickerMinute extends MozXULElement {</span>
<a href="#l108.14"></a><span id="l108.14">         static get observedAttributes() {</span>
<a href="#l108.15"></a><span id="l108.15">             return [&quot;label&quot;, &quot;selected&quot;];</span>
<a href="#l108.16"></a><span id="l108.16">         }</span>
<a href="#l108.17"></a><span id="l108.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l109.1"></a><span id="l109.1" class="difflineminus">--- a/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l109.2"></a><span id="l109.2" class="difflineplus">+++ b/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l109.3"></a><span id="l109.3" class="difflineat">@@ -1,16 +1,18 @@</span>
<a href="#l109.4"></a><span id="l109.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l109.5"></a><span id="l109.5"> &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span>
<a href="#l109.6"></a><span id="l109.6">           &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
<a href="#l109.7"></a><span id="l109.7"> </span>
<a href="#l109.8"></a><span id="l109.8"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l109.9"></a><span id="l109.9">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l109.10"></a><span id="l109.10">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l109.11"></a><span id="l109.11"> </span>
<a href="#l109.12"></a><span id="l109.12" class="difflineplus">+&lt;!-- globals cal --&gt;</span>
<a href="#l109.13"></a><span id="l109.13" class="difflineplus">+</span>
<a href="#l109.14"></a><span id="l109.14"> &lt;!--</span>
<a href="#l109.15"></a><span id="l109.15">     This defines &lt;datepicker/&gt; &lt;timepicker/&gt; and &lt;datetimepicker/&gt;</span>
<a href="#l109.16"></a><span id="l109.16">     which all descend from datetimepicker-base to get date/time parsing</span>
<a href="#l109.17"></a><span id="l109.17">     and consistent behavior.</span>
<a href="#l109.18"></a><span id="l109.18">     It relies on &lt;minimonth/&gt; for the date picker's drop down.</span>
<a href="#l109.19"></a><span id="l109.19">     You can be notified of change event as follows:</span>
<a href="#l109.20"></a><span id="l109.20">       &lt;datepicker id=&quot;my-date-picker&quot; onchange=&quot;myDatePick(this);&quot;/&gt;</span>
<a href="#l109.21"></a><span id="l109.21">     May get/set value in javascript with</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l110.1"></a><span id="l110.1" class="difflineminus">--- a/calendar/resources/content/mouseoverPreviews.js</span>
<a href="#l110.2"></a><span id="l110.2" class="difflineplus">+++ b/calendar/resources/content/mouseoverPreviews.js</span>
<a href="#l110.3"></a><span id="l110.3" class="difflineat">@@ -9,16 +9,18 @@</span>
<a href="#l110.4"></a><span id="l110.4">  *</span>
<a href="#l110.5"></a><span id="l110.5">  *   (Portions of this code were previously in calendar.js and unifinder.js,</span>
<a href="#l110.6"></a><span id="l110.6">  *   some of it duplicated.)</span>
<a href="#l110.7"></a><span id="l110.7">  */</span>
<a href="#l110.8"></a><span id="l110.8"> </span>
<a href="#l110.9"></a><span id="l110.9"> /* exported onMouseOverItem, showToolTip, getPreviewForItem,</span>
<a href="#l110.10"></a><span id="l110.10">              getEventStatusString, getToDoStatusString */</span>
<a href="#l110.11"></a><span id="l110.11"> </span>
<a href="#l110.12"></a><span id="l110.12" class="difflineplus">+/* import-globals-from ../../base/content/calendar-ui-utils.js */</span>
<a href="#l110.13"></a><span id="l110.13" class="difflineplus">+</span>
<a href="#l110.14"></a><span id="l110.14"> /**</span>
<a href="#l110.15"></a><span id="l110.15">  * PUBLIC: This changes the mouseover preview based on the start and end dates</span>
<a href="#l110.16"></a><span id="l110.16">  * of an occurrence of a (one-time or recurring) calEvent or calToDo.</span>
<a href="#l110.17"></a><span id="l110.17">  * Used by all grid views.</span>
<a href="#l110.18"></a><span id="l110.18">  */</span>
<a href="#l110.19"></a><span id="l110.19"> </span>
<a href="#l110.20"></a><span id="l110.20"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l110.21"></a><span id="l110.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l111.1"></a><span id="l111.1" class="difflineminus">--- a/calendar/resources/content/publish.js</span>
<a href="#l111.2"></a><span id="l111.2" class="difflineplus">+++ b/calendar/resources/content/publish.js</span>
<a href="#l111.3"></a><span id="l111.3" class="difflineat">@@ -1,16 +1,18 @@</span>
<a href="#l111.4"></a><span id="l111.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l111.5"></a><span id="l111.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l111.6"></a><span id="l111.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l111.7"></a><span id="l111.7"> </span>
<a href="#l111.8"></a><span id="l111.8"> /* exported publishCalendarData, publishCalendarDataDialogResponse,</span>
<a href="#l111.9"></a><span id="l111.9">  *          publishEntireCalendar, publishEntireCalendarDialogResponse</span>
<a href="#l111.10"></a><span id="l111.10">  */</span>
<a href="#l111.11"></a><span id="l111.11"> </span>
<a href="#l111.12"></a><span id="l111.12" class="difflineplus">+/* import-globals-from ../../base/content/calendar-views.js */</span>
<a href="#l111.13"></a><span id="l111.13" class="difflineplus">+</span>
<a href="#l111.14"></a><span id="l111.14"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l111.15"></a><span id="l111.15"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l111.16"></a><span id="l111.16"> </span>
<a href="#l111.17"></a><span id="l111.17"> /**</span>
<a href="#l111.18"></a><span id="l111.18">  * publishCalendarData</span>
<a href="#l111.19"></a><span id="l111.19">  * Show publish dialog, ask for URL and publish all selected items.</span>
<a href="#l111.20"></a><span id="l111.20">  */</span>
<a href="#l111.21"></a><span id="l111.21"> function publishCalendarData() {</span>
<a href="#l111.22"></a><span id="l111.22" class="difflineat">@@ -92,17 +94,16 @@ function publishEntireCalendarDialogResp</span>
<a href="#l111.23"></a><span id="l111.23">     let itemArray = [];</span>
<a href="#l111.24"></a><span id="l111.24">     let getListener = {</span>
<a href="#l111.25"></a><span id="l111.25">         QueryInterface: ChromeUtils.generateQI([Ci.calIOperationListener]),</span>
<a href="#l111.26"></a><span id="l111.26">         onOperationComplete: function(aCalendar, aStatus, aOperationType, aId, aDetail) {</span>
<a href="#l111.27"></a><span id="l111.27">             publishItemArray(itemArray, CalendarPublishObject.remotePath, aProgressDialog);</span>
<a href="#l111.28"></a><span id="l111.28">         },</span>
<a href="#l111.29"></a><span id="l111.29">         onGetResult: function(aCalendar, aStatus, aItemType, aDetail, aCount, aItems) {</span>
<a href="#l111.30"></a><span id="l111.30">             if (!Components.isSuccessCode(aStatus)) {</span>
<a href="#l111.31"></a><span id="l111.31" class="difflineminus">-                aborted = true;</span>
<a href="#l111.32"></a><span id="l111.32">                 return;</span>
<a href="#l111.33"></a><span id="l111.33">             }</span>
<a href="#l111.34"></a><span id="l111.34">             if (aCount) {</span>
<a href="#l111.35"></a><span id="l111.35">                 for (let i = 0; i &lt; aCount; ++i) {</span>
<a href="#l111.36"></a><span id="l111.36">                     // Store a (short living) reference to the item.</span>
<a href="#l111.37"></a><span id="l111.37">                     let itemCopy = aItems[i].clone();</span>
<a href="#l111.38"></a><span id="l111.38">                     itemArray.push(itemCopy);</span>
<a href="#l111.39"></a><span id="l111.39">                 }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l112.1"></a><span id="l112.1" class="difflineminus">--- a/calendar/resources/content/publishDialog.js</span>
<a href="#l112.2"></a><span id="l112.2" class="difflineplus">+++ b/calendar/resources/content/publishDialog.js</span>
<a href="#l112.3"></a><span id="l112.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l112.4"></a><span id="l112.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l112.5"></a><span id="l112.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l112.6"></a><span id="l112.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l112.7"></a><span id="l112.7"> </span>
<a href="#l112.8"></a><span id="l112.8"> /* exported loadCalendarPublishDialog, onOKCommand, closeDialog */</span>
<a href="#l112.9"></a><span id="l112.9"> </span>
<a href="#l112.10"></a><span id="l112.10" class="difflineplus">+/* globals publishButtonLabel, closeButtonLabel */// From publishDialog.xul</span>
<a href="#l112.11"></a><span id="l112.11" class="difflineplus">+</span>
<a href="#l112.12"></a><span id="l112.12"> var gOnOkFunction;   // function to be called when user clicks OK</span>
<a href="#l112.13"></a><span id="l112.13"> var gPublishObject;</span>
<a href="#l112.14"></a><span id="l112.14"> </span>
<a href="#l112.15"></a><span id="l112.15"> /**</span>
<a href="#l112.16"></a><span id="l112.16"> *   Called when the dialog is loaded.</span>
<a href="#l112.17"></a><span id="l112.17"> */</span>
<a href="#l112.18"></a><span id="l112.18"> function loadCalendarPublishDialog() {</span>
<a href="#l112.19"></a><span id="l112.19">     // Get arguments, see description at top of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l113.1"></a><span id="l113.1" class="difflineminus">--- a/calendar/test/mozmill/.eslintrc.js</span>
<a href="#l113.2"></a><span id="l113.2" class="difflineplus">+++ b/calendar/test/mozmill/.eslintrc.js</span>
<a href="#l113.3"></a><span id="l113.3" class="difflineat">@@ -1,12 +1,13 @@</span>
<a href="#l113.4"></a><span id="l113.4"> &quot;use strict&quot;;</span>
<a href="#l113.5"></a><span id="l113.5"> </span>
<a href="#l113.6"></a><span id="l113.6"> module.exports = {</span>
<a href="#l113.7"></a><span id="l113.7">     globals: {</span>
<a href="#l113.8"></a><span id="l113.8" class="difflineplus">+        __file__: true,</span>
<a href="#l113.9"></a><span id="l113.9">         elementslib: true,</span>
<a href="#l113.10"></a><span id="l113.10">         controller: true,</span>
<a href="#l113.11"></a><span id="l113.11">         mozmill: true,</span>
<a href="#l113.12"></a><span id="l113.12">         utils: true,</span>
<a href="#l113.13"></a><span id="l113.13">         require: true,</span>
<a href="#l113.14"></a><span id="l113.14">         exports: true,</span>
<a href="#l113.15"></a><span id="l113.15">         module: true,</span>
<a href="#l113.16"></a><span id="l113.16">         registeredFunctions: true,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l114.1"></a><span id="l114.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l114.2"></a><span id="l114.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l114.3"></a><span id="l114.3" class="difflineat">@@ -169,17 +169,17 @@ function testEventDialog() {</span>
<a href="#l114.4"></a><span id="l114.4">     plan_for_modal_dialog(&quot;Calendar:AlarmWindow&quot;, alarm =&gt; {</span>
<a href="#l114.5"></a><span id="l114.5">         let { eid: alarmid } = helpersForController(alarm);</span>
<a href="#l114.6"></a><span id="l114.6">         alarm.waitThenClick(alarmid(&quot;alarm-dismiss-all-button&quot;));</span>
<a href="#l114.7"></a><span id="l114.7">     });</span>
<a href="#l114.8"></a><span id="l114.8">     wait_for_modal_dialog(&quot;Calendar:AlarmWindow&quot;, TIMEOUT_MODAL_DIALOG);</span>
<a href="#l114.9"></a><span id="l114.9"> </span>
<a href="#l114.10"></a><span id="l114.10">     // Verify event and alarm icon visible until endDate (3 full rows) and check tooltip.</span>
<a href="#l114.11"></a><span id="l114.11">     for (let row = 1; row &lt;= 3; row++) {</span>
<a href="#l114.12"></a><span id="l114.12" class="difflineminus">-        for (col = 1; col &lt;= 7; col++) {</span>
<a href="#l114.13"></a><span id="l114.13" class="difflineplus">+        for (let col = 1; col &lt;= 7; col++) {</span>
<a href="#l114.14"></a><span id="l114.14">             controller.waitForElement(lookupEventBox(&quot;month&quot;, EVENT_BOX, row, col, null, EVENTPATH));</span>
<a href="#l114.15"></a><span id="l114.15">             checkAlarmIcon(controller, &quot;month&quot;, row, col);</span>
<a href="#l114.16"></a><span id="l114.16">             checkTooltip(row, col, startTime, endTime);</span>
<a href="#l114.17"></a><span id="l114.17">         }</span>
<a href="#l114.18"></a><span id="l114.18">     }</span>
<a href="#l114.19"></a><span id="l114.19">     controller.assertNodeNotExist(lookupEventBox(&quot;month&quot;, EVENT_BOX, 4, 1, null, EVENTPATH));</span>
<a href="#l114.20"></a><span id="l114.20"> </span>
<a href="#l114.21"></a><span id="l114.21">     // Delete and verify deleted 6th col in row 1.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l115.1"></a><span id="l115.1" class="difflineminus">--- a/calendar/test/mozmill/invitations/test-imip-bar-eml.js</span>
<a href="#l115.2"></a><span id="l115.2" class="difflineplus">+++ b/calendar/test/mozmill/invitations/test-imip-bar-eml.js</span>
<a href="#l115.3"></a><span id="l115.3" class="difflineat">@@ -10,16 +10,18 @@</span>
<a href="#l115.4"></a><span id="l115.4"> </span>
<a href="#l115.5"></a><span id="l115.5"> var MODULE_NAME = &quot;testInvitations&quot;;</span>
<a href="#l115.6"></a><span id="l115.6"> </span>
<a href="#l115.7"></a><span id="l115.7"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l115.8"></a><span id="l115.8"> var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;, &quot;notificationbox-helpers&quot;];</span>
<a href="#l115.9"></a><span id="l115.9"> </span>
<a href="#l115.10"></a><span id="l115.10"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l115.11"></a><span id="l115.11"> </span>
<a href="#l115.12"></a><span id="l115.12" class="difflineplus">+/* globals open_message_from_file, close_window */</span>
<a href="#l115.13"></a><span id="l115.13" class="difflineplus">+</span>
<a href="#l115.14"></a><span id="l115.14"> function setupModule(module) {</span>
<a href="#l115.15"></a><span id="l115.15">     for (let dep of MODULE_REQUIRES) {</span>
<a href="#l115.16"></a><span id="l115.16">         collector.getModule(dep).installInto(module);</span>
<a href="#l115.17"></a><span id="l115.17">     }</span>
<a href="#l115.18"></a><span id="l115.18"> }</span>
<a href="#l115.19"></a><span id="l115.19"> </span>
<a href="#l115.20"></a><span id="l115.20"> /**</span>
<a href="#l115.21"></a><span id="l115.21">  * Test that when opening a message containing an event, the IMIP bar shows.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l116.1"></a><span id="l116.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/test-calendar-utils.js</span>
<a href="#l116.2"></a><span id="l116.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/test-calendar-utils.js</span>
<a href="#l116.3"></a><span id="l116.3" class="difflineat">@@ -115,17 +115,16 @@ function installInto(module) {</span>
<a href="#l116.4"></a><span id="l116.4">     module.EVENTPATH = EVENTPATH;</span>
<a href="#l116.5"></a><span id="l116.5">     module.ALARM_ICON_PATH = ALARM_ICON_PATH;</span>
<a href="#l116.6"></a><span id="l116.6">     module.EVENT_BOX = EVENT_BOX;</span>
<a href="#l116.7"></a><span id="l116.7">     module.CANVAS_BOX = CANVAS_BOX;</span>
<a href="#l116.8"></a><span id="l116.8">     module.ALLDAY = ALLDAY;</span>
<a href="#l116.9"></a><span id="l116.9"> </span>
<a href="#l116.10"></a><span id="l116.10">     // Now copy helper functions.</span>
<a href="#l116.11"></a><span id="l116.11">     module.helpersForController = helpersForController;</span>
<a href="#l116.12"></a><span id="l116.12" class="difflineminus">-    module.setupLightning = setupLightning;</span>
<a href="#l116.13"></a><span id="l116.13">     module.handleOccurrencePrompt = handleOccurrencePrompt;</span>
<a href="#l116.14"></a><span id="l116.14">     module.switchToView = switchToView;</span>
<a href="#l116.15"></a><span id="l116.15">     module.goToDate = goToDate;</span>
<a href="#l116.16"></a><span id="l116.16">     module.invokeEventDialog = invokeEventDialog;</span>
<a href="#l116.17"></a><span id="l116.17">     module.getEventBoxPath = getEventBoxPath;</span>
<a href="#l116.18"></a><span id="l116.18">     module.getEventDetails = getEventDetails;</span>
<a href="#l116.19"></a><span id="l116.19">     module.checkAlarmIcon = checkAlarmIcon;</span>
<a href="#l116.20"></a><span id="l116.20">     module.viewForward = viewForward;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l117.1"></a><span id="l117.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js</span>
<a href="#l117.2"></a><span id="l117.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js</span>
<a href="#l117.3"></a><span id="l117.3" class="difflineat">@@ -6,29 +6,33 @@ var MODULE_NAME = &quot;item-editing-helpers&quot;</span>
<a href="#l117.4"></a><span id="l117.4"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l117.5"></a><span id="l117.5"> var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;window-helpers&quot;];</span>
<a href="#l117.6"></a><span id="l117.6"> </span>
<a href="#l117.7"></a><span id="l117.7"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l117.8"></a><span id="l117.8"> </span>
<a href="#l117.9"></a><span id="l117.9"> var SHORT_SLEEP, TIMEOUT_MODAL_DIALOG;</span>
<a href="#l117.10"></a><span id="l117.10"> var helpersForController, menulistSelect;</span>
<a href="#l117.11"></a><span id="l117.11"> var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l117.12"></a><span id="l117.12" class="difflineplus">+var mark_failure;</span>
<a href="#l117.13"></a><span id="l117.13"> </span>
<a href="#l117.14"></a><span id="l117.14"> function setupModule(module) {</span>
<a href="#l117.15"></a><span id="l117.15">     controller = mozmill.getMail3PaneController();</span>
<a href="#l117.16"></a><span id="l117.16">     ({</span>
<a href="#l117.17"></a><span id="l117.17">         SHORT_SLEEP,</span>
<a href="#l117.18"></a><span id="l117.18">         TIMEOUT_MODAL_DIALOG,</span>
<a href="#l117.19"></a><span id="l117.19">         helpersForController,</span>
<a href="#l117.20"></a><span id="l117.20">         menulistSelect</span>
<a href="#l117.21"></a><span id="l117.21">     } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l117.22"></a><span id="l117.22">     Object.assign(module, helpersForController(controller));</span>
<a href="#l117.23"></a><span id="l117.23"> </span>
<a href="#l117.24"></a><span id="l117.24">     ({ plan_for_modal_dialog, wait_for_modal_dialog } =</span>
<a href="#l117.25"></a><span id="l117.25">         collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l117.26"></a><span id="l117.26" class="difflineplus">+</span>
<a href="#l117.27"></a><span id="l117.27" class="difflineplus">+    ({ mark_failure } =</span>
<a href="#l117.28"></a><span id="l117.28" class="difflineplus">+        collector.getModule(&quot;folder-display-helpers&quot;));</span>
<a href="#l117.29"></a><span id="l117.29"> }</span>
<a href="#l117.30"></a><span id="l117.30"> // Lookup paths and path-snippets.</span>
<a href="#l117.31"></a><span id="l117.31"> // These 5 have to be used with itemEditLookup().</span>
<a href="#l117.32"></a><span id="l117.32"> var CATEGORY_LIST = `</span>
<a href="#l117.33"></a><span id="l117.33">     id(&quot;event-grid-category-color-row&quot;)/id(&quot;event-grid-category-box&quot;)/id(&quot;item-categories&quot;)/</span>
<a href="#l117.34"></a><span id="l117.34">     id(&quot;item-categories-popup&quot;)</span>
<a href="#l117.35"></a><span id="l117.35"> `;</span>
<a href="#l117.36"></a><span id="l117.36"> var REPEAT_DETAILS = `</span>
<a href="#l117.37"></a><span id="l117.37" class="difflineat">@@ -90,17 +94,16 @@ function installInto(module) {</span>
<a href="#l117.38"></a><span id="l117.38">     module.REC_DLG_DAYS = REC_DLG_DAYS;</span>
<a href="#l117.39"></a><span id="l117.39">     module.REC_DLG_UNTIL_INPUT = REC_DLG_UNTIL_INPUT;</span>
<a href="#l117.40"></a><span id="l117.40">     // Now copy helper functions.</span>
<a href="#l117.41"></a><span id="l117.41">     module.helpersForEditUI = helpersForEditUI;</span>
<a href="#l117.42"></a><span id="l117.42">     module.setData = setData;</span>
<a href="#l117.43"></a><span id="l117.43">     module.setReminderMenulist = setReminderMenulist;</span>
<a href="#l117.44"></a><span id="l117.44">     module.setCategories = setCategories;</span>
<a href="#l117.45"></a><span id="l117.45">     module.handleAddingAttachment = handleAddingAttachment;</span>
<a href="#l117.46"></a><span id="l117.46" class="difflineminus">-    module.acceptSendingNotificationMail = acceptSendingNotificationMail;</span>
<a href="#l117.47"></a><span id="l117.47">     module.setTimezone = setTimezone;</span>
<a href="#l117.48"></a><span id="l117.48"> }</span>
<a href="#l117.49"></a><span id="l117.49"> </span>
<a href="#l117.50"></a><span id="l117.50"> function helpersForEditUI(controller) {</span>
<a href="#l117.51"></a><span id="l117.51">     function selector(sel) {</span>
<a href="#l117.52"></a><span id="l117.52">         return sel.trim().replace(/\n(\s*)/g, &quot;&quot;);</span>
<a href="#l117.53"></a><span id="l117.53">     }</span>
<a href="#l117.54"></a><span id="l117.54"> </span>
<a href="#l117.55"></a><span id="l117.55" class="difflineat">@@ -218,23 +221,23 @@ function setData(dialog, iframe, data) {</span>
<a href="#l117.56"></a><span id="l117.56">     let untilDateInput = getDateTimePicker(&quot;UNTILDATE&quot;);</span>
<a href="#l117.57"></a><span id="l117.57"> </span>
<a href="#l117.58"></a><span id="l117.58">     let dateFormatter = cal.getDateFormatter();</span>
<a href="#l117.59"></a><span id="l117.59">     // Wait for input elements' values to be populated.</span>
<a href="#l117.60"></a><span id="l117.60">     sleep();</span>
<a href="#l117.61"></a><span id="l117.61"> </span>
<a href="#l117.62"></a><span id="l117.62">     // title</span>
<a href="#l117.63"></a><span id="l117.63">     if (data.title != undefined) {</span>
<a href="#l117.64"></a><span id="l117.64" class="difflineminus">-        titleInput = iframeid(&quot;item-title&quot;);</span>
<a href="#l117.65"></a><span id="l117.65" class="difflineplus">+        let titleInput = iframeid(&quot;item-title&quot;);</span>
<a href="#l117.66"></a><span id="l117.66">         replaceText(titleInput, data.title);</span>
<a href="#l117.67"></a><span id="l117.67">     }</span>
<a href="#l117.68"></a><span id="l117.68"> </span>
<a href="#l117.69"></a><span id="l117.69">     // location</span>
<a href="#l117.70"></a><span id="l117.70">     if (data.location != undefined) {</span>
<a href="#l117.71"></a><span id="l117.71" class="difflineminus">-        locationInput = iframeid(&quot;item-location&quot;);</span>
<a href="#l117.72"></a><span id="l117.72" class="difflineplus">+        let locationInput = iframeid(&quot;item-location&quot;);</span>
<a href="#l117.73"></a><span id="l117.73">         replaceText(locationInput, data.location);</span>
<a href="#l117.74"></a><span id="l117.74">     }</span>
<a href="#l117.75"></a><span id="l117.75"> </span>
<a href="#l117.76"></a><span id="l117.76">     // categories</span>
<a href="#l117.77"></a><span id="l117.77">     if (data.categories != undefined) {</span>
<a href="#l117.78"></a><span id="l117.78">         setCategories(dialog, iframe, data.categories);</span>
<a href="#l117.79"></a><span id="l117.79">     }</span>
<a href="#l117.80"></a><span id="l117.80"> </span>
<a href="#l117.81"></a><span id="l117.81" class="difflineat">@@ -451,17 +454,17 @@ function setReminderMenulist(controller,</span>
<a href="#l117.82"></a><span id="l117.82">  */</span>
<a href="#l117.83"></a><span id="l117.83"> function setCategories(dialog, iframe, categories) {</span>
<a href="#l117.84"></a><span id="l117.84">     let { eid: iframeid } = helpersForController(iframe);</span>
<a href="#l117.85"></a><span id="l117.85">     let { iframeLookup } = helpersForEditUI(iframe);</span>
<a href="#l117.86"></a><span id="l117.86">     let categoryMenulist = iframeid(&quot;item-categories&quot;);</span>
<a href="#l117.87"></a><span id="l117.87">     let categoryList = iframeLookup(CATEGORY_LIST);</span>
<a href="#l117.88"></a><span id="l117.88">     dialog.click(categoryMenulist);</span>
<a href="#l117.89"></a><span id="l117.89">     dialog.waitFor(() =&gt; categoryMenulist.getNode().open);</span>
<a href="#l117.90"></a><span id="l117.90" class="difflineminus">-    if (categoryMenulist.itemCount &gt; -1 &amp;&amp; categoryMenulist.itemCount &lt; data.categories.length) {</span>
<a href="#l117.91"></a><span id="l117.91" class="difflineplus">+    if (categoryMenulist.itemCount &gt; -1 &amp;&amp; categoryMenulist.itemCount &lt; categories.length) {</span>
<a href="#l117.92"></a><span id="l117.92">         mark_failure([&quot;more categories than supported by current calendar&quot;]);</span>
<a href="#l117.93"></a><span id="l117.93">     } else {</span>
<a href="#l117.94"></a><span id="l117.94">         // Iterate over categories and check if needed.</span>
<a href="#l117.95"></a><span id="l117.95">         let listItems = categoryList.getNode().childNodes;</span>
<a href="#l117.96"></a><span id="l117.96">         for (let item of listItems) {</span>
<a href="#l117.97"></a><span id="l117.97">             let set = false;</span>
<a href="#l117.98"></a><span id="l117.98">             if (categories.includes(item.label)) {</span>
<a href="#l117.99"></a><span id="l117.99">                 set = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l118.1"></a><span id="l118.1" class="difflineminus">--- a/calendar/test/mozmill/testAlarmDefaultValue.js</span>
<a href="#l118.2"></a><span id="l118.2" class="difflineplus">+++ b/calendar/test/mozmill/testAlarmDefaultValue.js</span>
<a href="#l118.3"></a><span id="l118.3" class="difflineat">@@ -13,35 +13,37 @@ var MODULE_REQUIRES = [&quot;calendar-utils&quot;,</span>
<a href="#l118.4"></a><span id="l118.4"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l118.5"></a><span id="l118.5"> var { PluralForm } = ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l118.6"></a><span id="l118.6"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l118.7"></a><span id="l118.7"> </span>
<a href="#l118.8"></a><span id="l118.8"> const DEFVALUE = 43;</span>
<a href="#l118.9"></a><span id="l118.9"> </span>
<a href="#l118.10"></a><span id="l118.10"> var helpersForController, invokeEventDialog, openLightningPrefs, menulistSelect;</span>
<a href="#l118.11"></a><span id="l118.11"> var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l118.12"></a><span id="l118.12" class="difflineplus">+var content_tab_e, content_tab_eid;</span>
<a href="#l118.13"></a><span id="l118.13"> </span>
<a href="#l118.14"></a><span id="l118.14"> function setupModule(module) {</span>
<a href="#l118.15"></a><span id="l118.15">     controller = mozmill.getMail3PaneController();</span>
<a href="#l118.16"></a><span id="l118.16">     ({</span>
<a href="#l118.17"></a><span id="l118.17">         helpersForController,</span>
<a href="#l118.18"></a><span id="l118.18">         invokeEventDialog,</span>
<a href="#l118.19"></a><span id="l118.19">         openLightningPrefs,</span>
<a href="#l118.20"></a><span id="l118.20">         menulistSelect</span>
<a href="#l118.21"></a><span id="l118.21">     } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l118.22"></a><span id="l118.22">     collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l118.23"></a><span id="l118.23" class="difflineminus">-    Object.assign(module, helpersForController(controller));</span>
<a href="#l118.24"></a><span id="l118.24" class="difflineplus">+</span>
<a href="#l118.25"></a><span id="l118.25" class="difflineplus">+    ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l118.26"></a><span id="l118.26"> </span>
<a href="#l118.27"></a><span id="l118.27" class="difflineminus">-    ({ plan_for_modal_dialog, wait_for_modal_dialog } =</span>
<a href="#l118.28"></a><span id="l118.28" class="difflineminus">-        collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l118.29"></a><span id="l118.29" class="difflineminus">-</span>
<a href="#l118.30"></a><span id="l118.30" class="difflineminus">-    collector.getModule(&quot;content-tab-helpers&quot;).installInto(module);</span>
<a href="#l118.31"></a><span id="l118.31" class="difflineplus">+    ({ content_tab_e, content_tab_eid } = collector.getModule(&quot;content-tab-helpers&quot;));</span>
<a href="#l118.32"></a><span id="l118.32" class="difflineplus">+    collector.getModule(&quot;content-tab-helpers&quot;).setupModule();</span>
<a href="#l118.33"></a><span id="l118.33"> }</span>
<a href="#l118.34"></a><span id="l118.34"> </span>
<a href="#l118.35"></a><span id="l118.35"> function testDefaultAlarms() {</span>
<a href="#l118.36"></a><span id="l118.36" class="difflineplus">+    let { eid } = helpersForController(controller);</span>
<a href="#l118.37"></a><span id="l118.37" class="difflineplus">+</span>
<a href="#l118.38"></a><span id="l118.38">     let localeUnitString = cal.l10n.getCalString(&quot;unitDays&quot;);</span>
<a href="#l118.39"></a><span id="l118.39">     let unitString = PluralForm.get(DEFVALUE, localeUnitString).replace(&quot;#1&quot;, DEFVALUE);</span>
<a href="#l118.40"></a><span id="l118.40">     let alarmString = (...args) =&gt; cal.l10n.getString(&quot;calendar-alarms&quot;, ...args);</span>
<a href="#l118.41"></a><span id="l118.41">     let originStringEvent = alarmString(&quot;reminderCustomOriginBeginBeforeEvent&quot;);</span>
<a href="#l118.42"></a><span id="l118.42">     let originStringTask = alarmString(&quot;reminderCustomOriginBeginBeforeTask&quot;);</span>
<a href="#l118.43"></a><span id="l118.43">     let expectedEventReminder = alarmString(&quot;reminderCustomTitle&quot;, [unitString, originStringEvent]);</span>
<a href="#l118.44"></a><span id="l118.44">     let expectedTaskReminder = alarmString(&quot;reminderCustomTitle&quot;, [unitString, originStringTask]);</span>
<a href="#l118.45"></a><span id="l118.45"> </span>
<a href="#l118.46"></a><span id="l118.46" class="difflineat">@@ -87,16 +89,17 @@ function testDefaultAlarms() {</span>
<a href="#l118.47"></a><span id="l118.47">         wait_for_modal_dialog(&quot;Calendar:EventDialog:Reminder&quot;);</span>
<a href="#l118.48"></a><span id="l118.48"> </span>
<a href="#l118.49"></a><span id="l118.49">         // Close the task dialog.</span>
<a href="#l118.50"></a><span id="l118.50">         task.window.close();</span>
<a href="#l118.51"></a><span id="l118.51">     });</span>
<a href="#l118.52"></a><span id="l118.52"> }</span>
<a href="#l118.53"></a><span id="l118.53"> </span>
<a href="#l118.54"></a><span id="l118.54"> function handlePrefTab(tab) {</span>
<a href="#l118.55"></a><span id="l118.55" class="difflineplus">+    let { replaceText } = helpersForController(controller);</span>
<a href="#l118.56"></a><span id="l118.56">     // Click on the alarms tab.</span>
<a href="#l118.57"></a><span id="l118.57">     content_tab_e(tab, &quot;calPreferencesTabAlarms&quot;).click();</span>
<a href="#l118.58"></a><span id="l118.58"> </span>
<a href="#l118.59"></a><span id="l118.59">     // Turn on alarms for events and tasks.</span>
<a href="#l118.60"></a><span id="l118.60">     menulistSelect(content_tab_eid(tab, &quot;eventdefalarm&quot;), &quot;1&quot;, controller);</span>
<a href="#l118.61"></a><span id="l118.61">     menulistSelect(content_tab_eid(tab, &quot;tododefalarm&quot;), &quot;1&quot;, controller);</span>
<a href="#l118.62"></a><span id="l118.62"> </span>
<a href="#l118.63"></a><span id="l118.63">     // Selects &quot;days&quot; as a unit.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l119.1"></a><span id="l119.1" class="difflineminus">--- a/calendar/test/mozmill/views/testTaskView.js</span>
<a href="#l119.2"></a><span id="l119.2" class="difflineplus">+++ b/calendar/test/mozmill/views/testTaskView.js</span>
<a href="#l119.3"></a><span id="l119.3" class="difflineat">@@ -148,17 +148,16 @@ function testTaskView() {</span>
<a href="#l119.4"></a><span id="l119.4">     // Mark completed, verify.</span>
<a href="#l119.5"></a><span id="l119.5">     controller.click(eid(&quot;task-actions-markcompleted&quot;));</span>
<a href="#l119.6"></a><span id="l119.6">     sleep();</span>
<a href="#l119.7"></a><span id="l119.7"> </span>
<a href="#l119.8"></a><span id="l119.8">     toolTipNode.ownerGlobal.showToolTip(toolTipNode, taskTreeNode.getTaskAtRow(0));</span>
<a href="#l119.9"></a><span id="l119.9">     controller.assertJSProperty(toolTipStatus, &quot;textContent&quot;, &quot;Completed&quot;);</span>
<a href="#l119.10"></a><span id="l119.10"> </span>
<a href="#l119.11"></a><span id="l119.11">     // Delete task and verify.</span>
<a href="#l119.12"></a><span id="l119.12" class="difflineminus">-    countBefore = taskTreeNode.mTaskArray.length;</span>
<a href="#l119.13"></a><span id="l119.13">     controller.click(eid(&quot;calendar-delete-task-button&quot;));</span>
<a href="#l119.14"></a><span id="l119.14">     controller.waitFor(() =&gt; taskTreeNode.mTaskArray.length == 0, &quot;Task did not delete&quot;);</span>
<a href="#l119.15"></a><span id="l119.15"> }</span>
<a href="#l119.16"></a><span id="l119.16"> </span>
<a href="#l119.17"></a><span id="l119.17"> function teardownTest(module) {</span>
<a href="#l119.18"></a><span id="l119.18">     deleteCalendars(controller, CALENDARNAME);</span>
<a href="#l119.19"></a><span id="l119.19">     closeAllEventDialogs();</span>
<a href="#l119.20"></a><span id="l119.20"> }</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:31Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

