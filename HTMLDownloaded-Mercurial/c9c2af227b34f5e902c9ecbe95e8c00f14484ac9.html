<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 27697:c9c2af227b34f5e902c9ecbe95e8c00f14484ac9</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ c9c2af227b34f5e902c9ecbe95e8c00f14484ac9" />
<meta property="og:url" content="/comm-central/rev/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9" />
<meta property="og:description" content="Bug 1537729 - remove grid usage from msgHdrView.inc.xul. r=mkmelin" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / c9c2af227b34f5e902c9ecbe95e8c00f14484ac9 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9">shortlog</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9">files</a> |
changeset |
<a href="/comm-central/raw-rev/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9">raw</a>  | <a href="/comm-central/archive/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1537729">Bug 1537729</a> - remove grid usage from msgHdrView.inc.xul. r=mkmelin
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#75;&#104;&#117;&#115;&#104;&#105;&#108;&#32;&#77;&#105;&#115;&#116;&#114;&#121;&#32;&#60;&#107;&#104;&#117;&#115;&#104;&#105;&#108;&#51;&#50;&#52;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 24 Sep 2019 04:53:00 +0200</td></tr>

<tr>
 <td>changeset 27697</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9">c9c2af227b34f5e902c9ecbe95e8c00f14484ac9</a></td>
</tr>



<tr>
<td>parent 27696</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/052f6dc2469901c24b01f1bdce913d7fe26ef40c">052f6dc2469901c24b01f1bdce913d7fe26ef40c</a>
</td>
</tr>

<tr>
<td>child 27698</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/398e5adc18c37292e3237b23e7189005fb374808">398e5adc18c37292e3237b23e7189005fb374808</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=c9c2af227b34f5e902c9ecbe95e8c00f14484ac9">16452</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Tue, 24 Sep 2019 18:44:11 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@06921c904e77 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=06921c904e77816b62449d0d1c43e8bbea137851">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=06921c904e77816b62449d0d1c43e8bbea137851&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=06921c904e77816b62449d0d1c43e8bbea137851&newProject=comm-central&newRevision=052f6dc2469901c24b01f1bdce913d7fe26ef40c&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=06921c904e77816b62449d0d1c43e8bbea137851&newProject=comm-central&newRevision=052f6dc2469901c24b01f1bdce913d7fe26ef40c&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=06921c904e77816b62449d0d1c43e8bbea137851&newProject=comm-central&newRevision=052f6dc2469901c24b01f1bdce913d7fe26ef40c&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1537729">1537729</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1537729">Bug 1537729</a> - remove grid usage from msgHdrView.inc.xul. r=mkmelin</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/mailWidgets.js">mail/base/content/mailWidgets.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/mailWidgets.js">file</a> |
<a href="/comm-central/annotate/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/mailWidgets.js">annotate</a> |
<a href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/mailWidgets.js">diff</a> |
<a href="/comm-central/comparison/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/mailWidgets.js">comparison</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/mailWidgets.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messageWindow.xul">mail/base/content/messageWindow.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messageWindow.xul">file</a> |
<a href="/comm-central/annotate/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messageWindow.xul">annotate</a> |
<a href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messageWindow.xul">diff</a> |
<a href="/comm-central/comparison/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messageWindow.xul">comparison</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messageWindow.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messenger.xul">mail/base/content/messenger.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messenger.xul">file</a> |
<a href="/comm-central/annotate/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messenger.xul">annotate</a> |
<a href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messenger.xul">diff</a> |
<a href="/comm-central/comparison/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messenger.xul">comparison</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/messenger.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.inc.xul">mail/base/content/msgHdrView.inc.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.inc.xul">file</a> |
<a href="/comm-central/annotate/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.inc.xul">annotate</a> |
<a href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.inc.xul">diff</a> |
<a href="/comm-central/comparison/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.inc.xul">comparison</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.inc.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.js">mail/base/content/msgHdrView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.js">file</a> |
<a href="/comm-central/annotate/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.js">annotate</a> |
<a href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.js">diff</a> |
<a href="/comm-central/comparison/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.js">comparison</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/base/content/msgHdrView.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/test/mozmill/message-header/test-message-header.js">mail/test/mozmill/message-header/test-message-header.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/test/mozmill/message-header/test-message-header.js">file</a> |
<a href="/comm-central/annotate/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/test/mozmill/message-header/test-message-header.js">annotate</a> |
<a href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/test/mozmill/message-header/test-message-header.js">diff</a> |
<a href="/comm-central/comparison/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/test/mozmill/message-header/test-message-header.js">comparison</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/test/mozmill/message-header/test-message-header.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/linux/mail/messageHeader.css">mail/themes/linux/mail/messageHeader.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/linux/mail/messageHeader.css">file</a> |
<a href="/comm-central/annotate/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/linux/mail/messageHeader.css">annotate</a> |
<a href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/linux/mail/messageHeader.css">diff</a> |
<a href="/comm-central/comparison/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/linux/mail/messageHeader.css">comparison</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/linux/mail/messageHeader.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/osx/mail/messageHeader.css">mail/themes/osx/mail/messageHeader.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/osx/mail/messageHeader.css">file</a> |
<a href="/comm-central/annotate/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/osx/mail/messageHeader.css">annotate</a> |
<a href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/osx/mail/messageHeader.css">diff</a> |
<a href="/comm-central/comparison/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/osx/mail/messageHeader.css">comparison</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/osx/mail/messageHeader.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/shared/mail/messageHeader.css">mail/themes/shared/mail/messageHeader.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/shared/mail/messageHeader.css">file</a> |
<a href="/comm-central/annotate/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/shared/mail/messageHeader.css">annotate</a> |
<a href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/shared/mail/messageHeader.css">diff</a> |
<a href="/comm-central/comparison/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/shared/mail/messageHeader.css">comparison</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/shared/mail/messageHeader.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/windows/mail/messageHeader.css">mail/themes/windows/mail/messageHeader.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/windows/mail/messageHeader.css">file</a> |
<a href="/comm-central/annotate/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/windows/mail/messageHeader.css">annotate</a> |
<a href="/comm-central/diff/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/windows/mail/messageHeader.css">diff</a> |
<a href="/comm-central/comparison/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/windows/mail/messageHeader.css">comparison</a> |
<a href="/comm-central/log/c9c2af227b34f5e902c9ecbe95e8c00f14484ac9/mail/themes/windows/mail/messageHeader.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/base/content/mailWidgets.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/base/content/mailWidgets.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1209,22 +1209,22 @@</span>
<a href="#l1.4"></a><span id="l1.4">       // Causes different CSS selectors to be used, which allows all of the addresses to be properly</span>
<a href="#l1.5"></a><span id="l1.5">       // displayed and wrapped.</span>
<a href="#l1.6"></a><span id="l1.6">       this.longEmailAddresses.removeAttribute(&quot;singleline&quot;);</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8">       this.clearChildNodes();</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10">       // Re-render the node, this time with all the addresses.</span>
<a href="#l1.11"></a><span id="l1.11">       this._fillAddressesNode(true);</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-      // Compute height of 'expandedHeaderView' from 'expandedHeadersBox'.</span>
<a href="#l1.13"></a><span id="l1.13">       document</span>
<a href="#l1.14"></a><span id="l1.14">         .getElementById(&quot;expandedHeaderView&quot;)</span>
<a href="#l1.15"></a><span id="l1.15">         .setAttribute(</span>
<a href="#l1.16"></a><span id="l1.16">           &quot;height&quot;,</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-          document.getElementById(&quot;expandedHeadersBox&quot;).clientHeight</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+          document.getElementById(&quot;expandedHeadersTopBox&quot;).clientHeight +</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+            document.getElementById(&quot;expandedHeaders2&quot;).clientHeight</span>
<a href="#l1.20"></a><span id="l1.20">         );</span>
<a href="#l1.21"></a><span id="l1.21">       // This attribute will be reinit in the 'UpdateExpandedMessageHeaders()' method.</span>
<a href="#l1.22"></a><span id="l1.22">     }</span>
<a href="#l1.23"></a><span id="l1.23"> </span>
<a href="#l1.24"></a><span id="l1.24">     /**</span>
<a href="#l1.25"></a><span id="l1.25">      * Clears both our divs.</span>
<a href="#l1.26"></a><span id="l1.26">      */</span>
<a href="#l1.27"></a><span id="l1.27">     clearChildNodes() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/base/content/messageWindow.xul</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/base/content/messageWindow.xul</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -55,16 +55,17 @@</span>
<a href="#l2.4"></a><span id="l2.4">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l2.5"></a><span id="l2.5">         xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l2.6"></a><span id="l2.6">         icon=&quot;messengerWindow&quot;</span>
<a href="#l2.7"></a><span id="l2.7">         title=&quot;&amp;titledefault.label;@PRE_RELEASE_SUFFIX@&quot;</span>
<a href="#l2.8"></a><span id="l2.8">         titlemodifier=&quot;&amp;titledefault.label;@PRE_RELEASE_SUFFIX@&quot;</span>
<a href="#l2.9"></a><span id="l2.9">         titlemenuseparator=&quot;&amp;titleSeparator.label;&quot;</span>
<a href="#l2.10"></a><span id="l2.10">         onload=&quot;OnLoadMessageWindow()&quot;</span>
<a href="#l2.11"></a><span id="l2.11">         onunload=&quot;OnUnloadMessageWindow()&quot;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+        onresize=&quot;OnResizeExpandedHeaderView()&quot;</span>
<a href="#l2.13"></a><span id="l2.13">         persist=&quot;width height screenX screenY sizemode&quot;</span>
<a href="#l2.14"></a><span id="l2.14">         toggletoolbar=&quot;true&quot;</span>
<a href="#l2.15"></a><span id="l2.15">         windowtype=&quot;mail:messageWindow&quot;</span>
<a href="#l2.16"></a><span id="l2.16">         macanimationtype=&quot;document&quot;</span>
<a href="#l2.17"></a><span id="l2.17">         lightweightthemes=&quot;true&quot;</span>
<a href="#l2.18"></a><span id="l2.18">         fullscreenbutton=&quot;true&quot;&gt;</span>
<a href="#l2.19"></a><span id="l2.19"> </span>
<a href="#l2.20"></a><span id="l2.20">   &lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/base/content/messenger.xul</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/base/content/messenger.xul</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -71,16 +71,17 @@</span>
<a href="#l3.4"></a><span id="l3.4">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l3.5"></a><span id="l3.5">         icon=&quot;messengerWindow&quot;</span>
<a href="#l3.6"></a><span id="l3.6">         title=&quot;&amp;titledefault.label;@PRE_RELEASE_SUFFIX@&quot;</span>
<a href="#l3.7"></a><span id="l3.7">         titlemodifier=&quot;&amp;titledefault.label;@PRE_RELEASE_SUFFIX@&quot;</span>
<a href="#l3.8"></a><span id="l3.8">         titlemenuseparator=&quot;&amp;titleSeparator.label;&quot;</span>
<a href="#l3.9"></a><span id="l3.9">         defaultTabTitle=&quot;&amp;defaultTabTitle.label;&quot;</span>
<a href="#l3.10"></a><span id="l3.10">         onload=&quot;OnLoadMessenger()&quot;</span>
<a href="#l3.11"></a><span id="l3.11">         onunload=&quot;OnUnloadMessenger()&quot;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+        onresize=&quot;OnResizeExpandedHeaderView()&quot;</span>
<a href="#l3.13"></a><span id="l3.13">         screenX=&quot;10&quot; screenY=&quot;10&quot;</span>
<a href="#l3.14"></a><span id="l3.14">         persist=&quot;width height screenX screenY sizemode&quot;</span>
<a href="#l3.15"></a><span id="l3.15">         toggletoolbar=&quot;true&quot;</span>
<a href="#l3.16"></a><span id="l3.16">         windowtype=&quot;mail:3pane&quot;</span>
<a href="#l3.17"></a><span id="l3.17">         macanimationtype=&quot;document&quot;</span>
<a href="#l3.18"></a><span id="l3.18">         lightweightthemes=&quot;true&quot;</span>
<a href="#l3.19"></a><span id="l3.19">         fullscreenbutton=&quot;true&quot;&gt;</span>
<a href="#l3.20"></a><span id="l3.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/base/content/msgHdrView.inc.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/base/content/msgHdrView.inc.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -10,17 +10,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> </span>
<a href="#l4.5"></a><span id="l4.5">                             &lt;!-- a convenience box for ease of extension overlaying --&gt;</span>
<a href="#l4.6"></a><span id="l4.6">                             &lt;vbox id=&quot;expandedHeadersBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8">                               &lt;!-- This hbox has display:block set to imbue it with the HTML layout</span>
<a href="#l4.9"></a><span id="l4.9">                                    model. This lets us float the message header toolbar to the right</span>
<a href="#l4.10"></a><span id="l4.10">                                    so we don't waste space when the From field and the toolbar could</span>
<a href="#l4.11"></a><span id="l4.11">                                    fit alongside each other. --&gt;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-                              &lt;hbox id=&quot;expandedHeadersTopBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+                              &lt;hbox id=&quot;expandedHeadersTopBox&quot;&gt;</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15">                                 &lt;vbox id=&quot;header-view-toolbox&quot; class=&quot;inline-toolbox&quot;&gt;</span>
<a href="#l4.16"></a><span id="l4.16">                                   &lt;hbox id=&quot;header-view-toolbar&quot; class=&quot;toolbar&quot;&gt;</span>
<a href="#l4.17"></a><span id="l4.17">                                     &lt;!-- XXXdmose need to move these commands to a controller, either</span>
<a href="#l4.18"></a><span id="l4.18">                                          on the header view, the message pane, or the default</span>
<a href="#l4.19"></a><span id="l4.19">                                          controller --&gt;</span>
<a href="#l4.20"></a><span id="l4.20"> </span>
<a href="#l4.21"></a><span id="l4.21">                                     &lt;!-- XXXdmose need to audit our shortcut/a11y setup and make sure</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineat">@@ -216,153 +216,203 @@</span>
<a href="#l4.23"></a><span id="l4.23">                                 &lt;box id=&quot;expandedBoxSpacer&quot;/&gt;</span>
<a href="#l4.24"></a><span id="l4.24"> </span>
<a href="#l4.25"></a><span id="l4.25">                                 &lt;!-- Theoretically, we should be able to replace this grid with just</span>
<a href="#l4.26"></a><span id="l4.26">                                      an hbox.  Unfortunately, doing that makes it very hard to sync</span>
<a href="#l4.27"></a><span id="l4.27">                                      the column sizes between the name columns, because for currently</span>
<a href="#l4.28"></a><span id="l4.28">                                      unclear reasons, the .clientWidth of a column is wider than the</span>
<a href="#l4.29"></a><span id="l4.29">                                      .clientWidth of its largest contained child by an unspecified</span>
<a href="#l4.30"></a><span id="l4.30">                                      amount. --&gt;</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">-                                &lt;grid id=&quot;expandedHeaders&quot;&gt;</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineminus">-</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineminus">-                                  &lt;columns id=&quot;expandedHeadersColumns&quot;&gt;</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineminus">-                                    &lt;column id=&quot;expandedHeadersNameColumn&quot;/&gt;</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">-                                    &lt;column id=&quot;expandedHeadersValueColumn&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineminus">-                                  &lt;/columns&gt;</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineminus">-</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineminus">-                                  &lt;rows id=&quot;expandedHeaderRows&quot;&gt;</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-                                    &lt;row id=&quot;expandedfromRow&quot;&gt;</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineplus">+                                &lt;html:table id=&quot;expandedHeaders&quot;&gt;</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedfromRow&quot;&gt;</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineplus">+                                    &lt;html:th id=&quot;expandedfromTableHeader&quot;&gt;</span>
<a href="#l4.43"></a><span id="l4.43">                                       &lt;label id=&quot;expandedfromLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.44"></a><span id="l4.44">                                              value=&quot;&amp;fromField4.label;&quot;</span>
<a href="#l4.45"></a><span id="l4.45">                                              valueFrom=&quot;&amp;fromField4.label;&quot; valueAuthor=&quot;&amp;author.label;&quot;</span>
<a href="#l4.46"></a><span id="l4.46">                                              control=&quot;expandedfromBox&quot;/&gt;</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineminus">-                                      &lt;mail-multi-emailheaderfield id=&quot;expandedfromBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineminus">-                                  &lt;/rows&gt;</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineminus">-                                &lt;/grid&gt;</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineplus">+                                      &lt;mail-multi-emailheaderfield id=&quot;expandedfromBox&quot;/&gt;</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineplus">+                                &lt;/html:table&gt;</span>
<a href="#l4.57"></a><span id="l4.57">                               &lt;/hbox&gt;</span>
<a href="#l4.58"></a><span id="l4.58"> </span>
<a href="#l4.59"></a><span id="l4.59">                               &lt;hbox id=&quot;expandedHeadersBottomBox&quot;&gt;</span>
<a href="#l4.60"></a><span id="l4.60"> </span>
<a href="#l4.61"></a><span id="l4.61">                                 &lt;!-- The grid that contains all headers except the first one,</span>
<a href="#l4.62"></a><span id="l4.62">                                       including any headers created dynamically from JavaScript --&gt;</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-                                &lt;grid id=&quot;expandedHeaders2&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineminus">-</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineminus">-                                  &lt;columns id=&quot;expandedHeaders2Columns&quot;&gt;</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineminus">-                                    &lt;column id=&quot;expandedHeaders2NameColumn&quot;/&gt;</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineminus">-                                    &lt;column id=&quot;expandedHeaders2ValueColumn&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineminus">-                                  &lt;/columns&gt;</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineminus">-</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineminus">-                                  &lt;rows id=&quot;expandedHeader2Rows&quot;&gt;</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineminus">-</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineplus">+                                &lt;html:table id=&quot;expandedHeaders2&quot;&gt;</span>
<a href="#l4.73"></a><span id="l4.73">                                     &lt;!-- Commonly used rows are pre-specified in the XUL to avoid the</span>
<a href="#l4.74"></a><span id="l4.74">                                          performance hit of creating them dynamically. --&gt;</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineminus">-                                    &lt;row id=&quot;expandedsubjectRow&quot;&gt;</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedsubjectRow&quot;&gt;</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineplus">+                                    &lt;html:th id=&quot;expandedsubjectTableHeader&quot;&gt;</span>
<a href="#l4.78"></a><span id="l4.78">                                       &lt;label id=&quot;expandedsubjectLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.79"></a><span id="l4.79">                                              value=&quot;&amp;subjectField4.label;&quot;</span>
<a href="#l4.80"></a><span id="l4.80">                                              control=&quot;expandedsubjectBox&quot;/&gt;</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineminus">-                                      &lt;mail-headerfield id=&quot;expandedsubjectBox&quot; flex=&quot;1&quot;</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineplus">+                                      &lt;mail-headerfield id=&quot;expandedsubjectBox&quot;</span>
<a href="#l4.85"></a><span id="l4.85">                                                         headerName=&quot;subject&quot;/&gt;</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineminus">-                                    &lt;row id=&quot;expandedorganizationRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedorganizationRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.92"></a><span id="l4.92">                                       &lt;label id=&quot;expandedorganizationLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.93"></a><span id="l4.93">                                              value=&quot;&amp;organizationField4.label;&quot;</span>
<a href="#l4.94"></a><span id="l4.94">                                              control=&quot;expandedorganizationBox&quot;/&gt;</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.97"></a><span id="l4.97">                                       &lt;mail-headerfield id=&quot;expandedorganizationBox&quot;/&gt;</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.99"></a><span id="l4.99" class="difflineminus">-                                    &lt;row id=&quot;expandedsenderRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.101"></a><span id="l4.101" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedsenderRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.104"></a><span id="l4.104">                                       &lt;label id=&quot;expandedsenderLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.105"></a><span id="l4.105">                                              value=&quot;&amp;senderField4.label;&quot; control=&quot;expandedsenderBox&quot;/&gt;</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.108"></a><span id="l4.108">                                       &lt;mail-emailheaderfield id=&quot;expandedsenderBox&quot;/&gt;</span>
<a href="#l4.109"></a><span id="l4.109" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineminus">-                                    &lt;row id=&quot;expandedreply-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.113"></a><span id="l4.113" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedreply-toRow&quot;&gt;</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.115"></a><span id="l4.115">                                       &lt;label id=&quot;expandedreply-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.116"></a><span id="l4.116">                                              value=&quot;&amp;replyToField4.label;&quot;</span>
<a href="#l4.117"></a><span id="l4.117">                                              control=&quot;expandedreply-toBox&quot;/&gt;</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.120"></a><span id="l4.120">                                       &lt;mail-multi-emailheaderfield id=&quot;expandedreply-toBox&quot;/&gt;</span>
<a href="#l4.121"></a><span id="l4.121" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.122"></a><span id="l4.122" class="difflineminus">-                                    &lt;row id=&quot;expandedtoRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.123"></a><span id="l4.123" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.124"></a><span id="l4.124" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.125"></a><span id="l4.125" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedtoRow&quot;&gt;</span>
<a href="#l4.126"></a><span id="l4.126" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.127"></a><span id="l4.127">                                       &lt;label id=&quot;expandedtoLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.128"></a><span id="l4.128">                                              value=&quot;&amp;toField4.label;&quot; control=&quot;expandedtoBox&quot;/&gt;</span>
<a href="#l4.129"></a><span id="l4.129" class="difflineminus">-                                      &lt;mail-multi-emailheaderfield id=&quot;expandedtoBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.130"></a><span id="l4.130" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.131"></a><span id="l4.131" class="difflineminus">-                                    &lt;row id=&quot;expandedccRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.132"></a><span id="l4.132" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.133"></a><span id="l4.133" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.134"></a><span id="l4.134" class="difflineplus">+                                      &lt;mail-multi-emailheaderfield id=&quot;expandedtoBox&quot;/&gt;</span>
<a href="#l4.135"></a><span id="l4.135" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.136"></a><span id="l4.136" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.137"></a><span id="l4.137" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedccRow&quot;&gt;</span>
<a href="#l4.138"></a><span id="l4.138" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.139"></a><span id="l4.139">                                       &lt;label id=&quot;expandedccLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.140"></a><span id="l4.140">                                              value=&quot;&amp;ccField4.label;&quot; control=&quot;expandedccBox&quot;/&gt;</span>
<a href="#l4.141"></a><span id="l4.141" class="difflineminus">-                                      &lt;mail-multi-emailheaderfield id=&quot;expandedccBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.142"></a><span id="l4.142" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.143"></a><span id="l4.143" class="difflineminus">-                                    &lt;row id=&quot;expandedbccRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.144"></a><span id="l4.144" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.145"></a><span id="l4.145" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.146"></a><span id="l4.146" class="difflineplus">+                                      &lt;mail-multi-emailheaderfield id=&quot;expandedccBox&quot;/&gt;</span>
<a href="#l4.147"></a><span id="l4.147" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.148"></a><span id="l4.148" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.149"></a><span id="l4.149" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedbccRow&quot;&gt;</span>
<a href="#l4.150"></a><span id="l4.150" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.151"></a><span id="l4.151">                                       &lt;label id=&quot;expandedbccLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.152"></a><span id="l4.152">                                              value=&quot;&amp;bccField4.label;&quot; control=&quot;expandedbccBox&quot;/&gt;</span>
<a href="#l4.153"></a><span id="l4.153" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.154"></a><span id="l4.154" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.155"></a><span id="l4.155">                                       &lt;mail-multi-emailheaderfield id=&quot;expandedbccBox&quot;/&gt;</span>
<a href="#l4.156"></a><span id="l4.156" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.157"></a><span id="l4.157" class="difflineminus">-                                    &lt;row id=&quot;expandednewsgroupsRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.158"></a><span id="l4.158" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.159"></a><span id="l4.159" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.160"></a><span id="l4.160" class="difflineplus">+                                  &lt;html:tr id=&quot;expandednewsgroupsRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.161"></a><span id="l4.161" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.162"></a><span id="l4.162">                                       &lt;label id=&quot;expandednewsgroupsLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.163"></a><span id="l4.163">                                              value=&quot;&amp;newsgroupsField4.label;&quot;</span>
<a href="#l4.164"></a><span id="l4.164">                                              control=&quot;expandednewsgroupsBox&quot;/&gt;</span>
<a href="#l4.165"></a><span id="l4.165" class="difflineminus">-                                      &lt;mail-newsgroups-headerfield id=&quot;expandednewsgroupsBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.166"></a><span id="l4.166" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.167"></a><span id="l4.167" class="difflineminus">-                                    &lt;row id=&quot;expandedfollowup-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.168"></a><span id="l4.168" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.169"></a><span id="l4.169" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.170"></a><span id="l4.170" class="difflineplus">+                                      &lt;mail-newsgroups-headerfield id=&quot;expandednewsgroupsBox&quot;/&gt;</span>
<a href="#l4.171"></a><span id="l4.171" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.172"></a><span id="l4.172" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.173"></a><span id="l4.173" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedfollowup-toRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.174"></a><span id="l4.174" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.175"></a><span id="l4.175">                                       &lt;label id=&quot;expandedfollowup-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.176"></a><span id="l4.176">                                              value=&quot;&amp;followupToField4.label;&quot;</span>
<a href="#l4.177"></a><span id="l4.177">                                              control=&quot;expandedfollowup-toBox&quot;/&gt;</span>
<a href="#l4.178"></a><span id="l4.178" class="difflineminus">-                                      &lt;mail-newsgroups-headerfield id=&quot;expandedfollowup-toBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.179"></a><span id="l4.179" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.180"></a><span id="l4.180" class="difflineminus">-                                    &lt;row id=&quot;expandeddateRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.181"></a><span id="l4.181" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.182"></a><span id="l4.182" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.183"></a><span id="l4.183" class="difflineplus">+                                      &lt;mail-newsgroups-headerfield id=&quot;expandedfollowup-toBox&quot;/&gt;</span>
<a href="#l4.184"></a><span id="l4.184" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.185"></a><span id="l4.185" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.186"></a><span id="l4.186" class="difflineplus">+                                  &lt;html:tr id=&quot;expandeddateRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.187"></a><span id="l4.187" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.188"></a><span id="l4.188">                                       &lt;label id=&quot;expandeddateLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.189"></a><span id="l4.189">                                              value=&quot;&amp;dateField4.label;&quot; control=&quot;expandeddateBox&quot;/&gt;</span>
<a href="#l4.190"></a><span id="l4.190" class="difflineminus">-                                      &lt;mail-headerfield id=&quot;expandeddateBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.191"></a><span id="l4.191" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.192"></a><span id="l4.192" class="difflineminus">-                                    &lt;row id=&quot;expandedmessage-idRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.193"></a><span id="l4.193" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.194"></a><span id="l4.194" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.195"></a><span id="l4.195" class="difflineplus">+                                      &lt;mail-headerfield id=&quot;expandeddateBox&quot;/&gt;</span>
<a href="#l4.196"></a><span id="l4.196" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.197"></a><span id="l4.197" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.198"></a><span id="l4.198" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedmessage-idRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.199"></a><span id="l4.199" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.200"></a><span id="l4.200">                                       &lt;label id=&quot;expandedmessage-idLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.201"></a><span id="l4.201">                                              value=&quot;&amp;messageIdField4.label;&quot;</span>
<a href="#l4.202"></a><span id="l4.202">                                              control=&quot;expandedmessage-idBox&quot;/&gt;</span>
<a href="#l4.203"></a><span id="l4.203" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.204"></a><span id="l4.204" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.205"></a><span id="l4.205">                                       &lt;mail-messageids-headerfield id=&quot;expandedmessage-idBox&quot;/&gt;</span>
<a href="#l4.206"></a><span id="l4.206" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.207"></a><span id="l4.207" class="difflineminus">-                                    &lt;row id=&quot;expandedin-reply-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.208"></a><span id="l4.208" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.209"></a><span id="l4.209" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.210"></a><span id="l4.210" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedin-reply-toRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.211"></a><span id="l4.211" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.212"></a><span id="l4.212">                                       &lt;label id=&quot;expandedin-reply-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.213"></a><span id="l4.213">                                              value=&quot;&amp;inReplyToField4.label;&quot;</span>
<a href="#l4.214"></a><span id="l4.214">                                              control=&quot;expandedin-reply-toBox&quot;/&gt;</span>
<a href="#l4.215"></a><span id="l4.215" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.216"></a><span id="l4.216" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.217"></a><span id="l4.217">                                       &lt;mail-messageids-headerfield id=&quot;expandedin-reply-toBox&quot;/&gt;</span>
<a href="#l4.218"></a><span id="l4.218" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.219"></a><span id="l4.219" class="difflineminus">-                                    &lt;row id=&quot;expandedreferencesRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.220"></a><span id="l4.220" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.221"></a><span id="l4.221" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.222"></a><span id="l4.222" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedreferencesRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.223"></a><span id="l4.223" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.224"></a><span id="l4.224">                                       &lt;label id=&quot;expandedreferencesLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.225"></a><span id="l4.225">                                              value=&quot;&amp;referencesField4.label;&quot;</span>
<a href="#l4.226"></a><span id="l4.226">                                              control=&quot;expandedreferencesBox&quot;/&gt;</span>
<a href="#l4.227"></a><span id="l4.227" class="difflineminus">-                                      &lt;mail-messageids-headerfield id=&quot;expandedreferencesBox&quot;</span>
<a href="#l4.228"></a><span id="l4.228" class="difflineminus">-                                                                   flex=&quot;1&quot;/&gt;</span>
<a href="#l4.229"></a><span id="l4.229" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.230"></a><span id="l4.230" class="difflineminus">-                                    &lt;row id=&quot;expandedtagsRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.231"></a><span id="l4.231" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.232"></a><span id="l4.232" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.233"></a><span id="l4.233" class="difflineplus">+                                      &lt;mail-messageids-headerfield id=&quot;expandedreferencesBox&quot;/&gt;</span>
<a href="#l4.234"></a><span id="l4.234" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.235"></a><span id="l4.235" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.236"></a><span id="l4.236" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedtagsRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.237"></a><span id="l4.237" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.238"></a><span id="l4.238">                                       &lt;label id=&quot;expandedtagsLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.239"></a><span id="l4.239">                                              value=&quot;&amp;tagsHdr4.label;&quot; control=&quot;expandedtagsBox&quot;/&gt;</span>
<a href="#l4.240"></a><span id="l4.240" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.241"></a><span id="l4.241" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.242"></a><span id="l4.242">                                       &lt;mail-tagfield id=&quot;expandedtagsBox&quot;/&gt;</span>
<a href="#l4.243"></a><span id="l4.243" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.244"></a><span id="l4.244" class="difflineminus">-                                    &lt;row id=&quot;expandedcontent-baseRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.245"></a><span id="l4.245" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.246"></a><span id="l4.246" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.247"></a><span id="l4.247" class="difflineplus">+                                  &lt;html:tr id=&quot;expandedcontent-baseRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.248"></a><span id="l4.248" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.249"></a><span id="l4.249">                                       &lt;label id=&quot;expandedcontent-baseLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.250"></a><span id="l4.250">                                              value=&quot;&amp;originalWebsite4.label;&quot;</span>
<a href="#l4.251"></a><span id="l4.251">                                              control=&quot;expandedcontent-baseBox&quot;/&gt;</span>
<a href="#l4.252"></a><span id="l4.252" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.253"></a><span id="l4.253" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.254"></a><span id="l4.254">                                       &lt;mail-urlfield id=&quot;expandedcontent-baseBox&quot;/&gt;</span>
<a href="#l4.255"></a><span id="l4.255" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.256"></a><span id="l4.256" class="difflineminus">-                                    &lt;row id=&quot;expandeduser-agentRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.257"></a><span id="l4.257" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.258"></a><span id="l4.258" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.259"></a><span id="l4.259" class="difflineplus">+                                  &lt;html:tr id=&quot;expandeduser-agentRow&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l4.260"></a><span id="l4.260" class="difflineplus">+                                    &lt;html:th&gt;</span>
<a href="#l4.261"></a><span id="l4.261">                                       &lt;label id=&quot;expandeduser-agentLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l4.262"></a><span id="l4.262">                                              value=&quot;&amp;userAgentField4.label;&quot;</span>
<a href="#l4.263"></a><span id="l4.263">                                              control=&quot;expandeduser-agentBox&quot;/&gt;</span>
<a href="#l4.264"></a><span id="l4.264" class="difflineminus">-                                      &lt;mail-headerfield id=&quot;expandeduser-agentBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.265"></a><span id="l4.265" class="difflineminus">-                                    &lt;/row&gt;</span>
<a href="#l4.266"></a><span id="l4.266" class="difflineminus">-                                  &lt;/rows&gt;</span>
<a href="#l4.267"></a><span id="l4.267" class="difflineminus">-                                &lt;/grid&gt;</span>
<a href="#l4.268"></a><span id="l4.268" class="difflineplus">+                                    &lt;/html:th&gt;</span>
<a href="#l4.269"></a><span id="l4.269" class="difflineplus">+                                    &lt;html:td&gt;</span>
<a href="#l4.270"></a><span id="l4.270" class="difflineplus">+                                      &lt;mail-headerfield id=&quot;expandeduser-agentBox&quot;/&gt;</span>
<a href="#l4.271"></a><span id="l4.271" class="difflineplus">+                                    &lt;/html:td&gt;</span>
<a href="#l4.272"></a><span id="l4.272" class="difflineplus">+                                  &lt;/html:tr&gt;</span>
<a href="#l4.273"></a><span id="l4.273" class="difflineplus">+                                &lt;/html:table&gt;</span>
<a href="#l4.274"></a><span id="l4.274"> </span>
<a href="#l4.275"></a><span id="l4.275">                                 &lt;!-- perhaps this should be a customizable toolbar too --&gt;</span>
<a href="#l4.276"></a><span id="l4.276">                                 &lt;vbox id=&quot;otherActionsBox&quot; align=&quot;end&quot;&gt;</span>
<a href="#l4.277"></a><span id="l4.277">                                   &lt;hbox id=&quot;dateValueBox&quot; align=&quot;top&quot; flex=&quot;1&quot;&gt;  &lt;!--For extensions--&gt;</span>
<a href="#l4.278"></a><span id="l4.278">                                     &lt;hbox id=&quot;smimeBox&quot; insertbefore=&quot;dateLabel&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l4.279"></a><span id="l4.279">                                       &lt;image id=&quot;signedHdrIcon&quot;</span>
<a href="#l4.280"></a><span id="l4.280" class="difflineminus">-                                            onclick=&quot;showMessageReadSecurityInfo();&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l4.281"></a><span id="l4.281" class="difflineplus">+                                             onclick=&quot;showMessageReadSecurityInfo();&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l4.282"></a><span id="l4.282">                                       &lt;image id=&quot;encryptedHdrIcon&quot;</span>
<a href="#l4.283"></a><span id="l4.283" class="difflineminus">-                                            onclick=&quot;showMessageReadSecurityInfo();&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l4.284"></a><span id="l4.284" class="difflineplus">+                                             onclick=&quot;showMessageReadSecurityInfo();&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l4.285"></a><span id="l4.285">                                     &lt;/hbox&gt;</span>
<a href="#l4.286"></a><span id="l4.286">                                     &lt;label id=&quot;dateLabel&quot; class=&quot;dateLabel&quot; flex=&quot;1&quot; role=&quot;textbox&quot;</span>
<a href="#l4.287"></a><span id="l4.287">                                            aria-readonly=&quot;true&quot;/&gt;</span>
<a href="#l4.288"></a><span id="l4.288">                                   &lt;/hbox&gt;</span>
<a href="#l4.289"></a><span id="l4.289">                                 &lt;/vbox&gt;</span>
<a href="#l4.290"></a><span id="l4.290">                               &lt;/hbox&gt;</span>
<a href="#l4.291"></a><span id="l4.291">                             &lt;/vbox&gt;</span>
<a href="#l4.292"></a><span id="l4.292">                           &lt;/vbox&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/base/content/msgHdrView.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/base/content/msgHdrView.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -333,16 +333,28 @@ function OnUnloadMsgHeaderPane() {</span>
<a href="#l5.4"></a><span id="l5.4">   // dispatch an event letting any listeners know that we have unloaded</span>
<a href="#l5.5"></a><span id="l5.5">   // the message pane</span>
<a href="#l5.6"></a><span id="l5.6">   var headerViewElement = document.getElementById(&quot;msgHeaderView&quot;);</span>
<a href="#l5.7"></a><span id="l5.7">   headerViewElement.dispatchEvent(</span>
<a href="#l5.8"></a><span id="l5.8">     new Event(&quot;messagepane-unloaded&quot;, { bubbles: false, cancelable: true })</span>
<a href="#l5.9"></a><span id="l5.9">   );</span>
<a href="#l5.10"></a><span id="l5.10"> }</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+function OnResizeExpandedHeaderView() {</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+  if (document.getElementById(&quot;expandedHeaderView&quot;)) {</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+    document</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+      .getElementById(&quot;expandedHeaderView&quot;)</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+      .setAttribute(</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+        &quot;height&quot;,</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+        document.getElementById(&quot;expandedHeadersTopBox&quot;).clientHeight +</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+          document.getElementById(&quot;expandedHeaders2&quot;).clientHeight</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+      );</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+  }</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+}</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineplus">+</span>
<a href="#l5.24"></a><span id="l5.24"> var MsgHdrViewObserver = {</span>
<a href="#l5.25"></a><span id="l5.25">   observe(subject, topic, prefName) {</span>
<a href="#l5.26"></a><span id="l5.26">     // verify that we're changing the mail pane config pref</span>
<a href="#l5.27"></a><span id="l5.27">     if (topic == &quot;nsPref:changed&quot;) {</span>
<a href="#l5.28"></a><span id="l5.28">       if (prefName == &quot;mail.showCondensedAddresses&quot;) {</span>
<a href="#l5.29"></a><span id="l5.29">         gShowCondensedEmailAddresses = Services.prefs.getBoolPref(</span>
<a href="#l5.30"></a><span id="l5.30">           &quot;mail.showCondensedAddresses&quot;</span>
<a href="#l5.31"></a><span id="l5.31">         );</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineat">@@ -892,17 +904,17 @@ function OnTagsChange() {</span>
<a href="#l5.33"></a><span id="l5.33">       if (headerEntry.valid) {</span>
<a href="#l5.34"></a><span id="l5.34">         headerEntry.outputFunction(</span>
<a href="#l5.35"></a><span id="l5.35">           headerEntry,</span>
<a href="#l5.36"></a><span id="l5.36">           currentHeaderData.tags.headerValue</span>
<a href="#l5.37"></a><span id="l5.37">         );</span>
<a href="#l5.38"></a><span id="l5.38">       }</span>
<a href="#l5.39"></a><span id="l5.39"> </span>
<a href="#l5.40"></a><span id="l5.40">       // we may need to collapse or show the tag header row...</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineminus">-      headerEntry.enclosingRow.collapsed = !headerEntry.valid;</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+      headerEntry.enclosingRow.toggleAttribute(&quot;hidden&quot;, !headerEntry.valid);</span>
<a href="#l5.43"></a><span id="l5.43">       // ... and ensure that all headers remain correctly aligned</span>
<a href="#l5.44"></a><span id="l5.44">       syncGridColumnWidths();</span>
<a href="#l5.45"></a><span id="l5.45">     }</span>
<a href="#l5.46"></a><span id="l5.46">   }</span>
<a href="#l5.47"></a><span id="l5.47"> }</span>
<a href="#l5.48"></a><span id="l5.48"> </span>
<a href="#l5.49"></a><span id="l5.49"> /**</span>
<a href="#l5.50"></a><span id="l5.50">  * Flush out any local state being held by a header entry for a given table.</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineat">@@ -923,34 +935,29 @@ function ClearHeaderView(aHeaderTable) {</span>
<a href="#l5.52"></a><span id="l5.52"> /**</span>
<a href="#l5.53"></a><span id="l5.53">  * Make sure that any valid header entry in the table is collapsed.</span>
<a href="#l5.54"></a><span id="l5.54">  *</span>
<a href="#l5.55"></a><span id="l5.55">  * @param aHeaderTable Table of header entries</span>
<a href="#l5.56"></a><span id="l5.56">  */</span>
<a href="#l5.57"></a><span id="l5.57"> function hideHeaderView(aHeaderTable) {</span>
<a href="#l5.58"></a><span id="l5.58">   for (let name in aHeaderTable) {</span>
<a href="#l5.59"></a><span id="l5.59">     let headerEntry = aHeaderTable[name];</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineminus">-    headerEntry.enclosingRow.collapsed = true;</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineplus">+    headerEntry.enclosingRow.setAttribute(&quot;hidden&quot;, &quot;hidden&quot;);</span>
<a href="#l5.62"></a><span id="l5.62">   }</span>
<a href="#l5.63"></a><span id="l5.63"> }</span>
<a href="#l5.64"></a><span id="l5.64"> </span>
<a href="#l5.65"></a><span id="l5.65"> /**</span>
<a href="#l5.66"></a><span id="l5.66">  * Make sure that any valid header entry in the table specified is visible.</span>
<a href="#l5.67"></a><span id="l5.67">  *</span>
<a href="#l5.68"></a><span id="l5.68">  * @param aHeaderTable Table of header entries</span>
<a href="#l5.69"></a><span id="l5.69">  */</span>
<a href="#l5.70"></a><span id="l5.70"> function showHeaderView(aHeaderTable) {</span>
<a href="#l5.71"></a><span id="l5.71">   for (let name in aHeaderTable) {</span>
<a href="#l5.72"></a><span id="l5.72">     let headerEntry = aHeaderTable[name];</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineminus">-    if (headerEntry.valid) {</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineminus">-      headerEntry.enclosingRow.collapsed = false;</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineminus">-    } else {</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineminus">-      // if the entry is invalid, always make sure it's collapsed</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineminus">-      headerEntry.enclosingRow.collapsed = true;</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineminus">-    }</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineplus">+    headerEntry.enclosingRow.toggleAttribute(&quot;hidden&quot;, !headerEntry.valid);</span>
<a href="#l5.80"></a><span id="l5.80">   }</span>
<a href="#l5.81"></a><span id="l5.81"> }</span>
<a href="#l5.82"></a><span id="l5.82"> </span>
<a href="#l5.83"></a><span id="l5.83"> /**</span>
<a href="#l5.84"></a><span id="l5.84">  * Enumerate through the list of headers and find the number that are visible</span>
<a href="#l5.85"></a><span id="l5.85">  * add empty entries if we don't have the minimum number of rows.</span>
<a href="#l5.86"></a><span id="l5.86">  */</span>
<a href="#l5.87"></a><span id="l5.87"> function EnsureMinimumNumberOfHeaders(headerTable) {</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineat">@@ -1025,29 +1032,31 @@ function updateExpandedView() {</span>
<a href="#l5.89"></a><span id="l5.89"> }</span>
<a href="#l5.90"></a><span id="l5.90"> </span>
<a href="#l5.91"></a><span id="l5.91"> /**</span>
<a href="#l5.92"></a><span id="l5.92">  * Ensure that the name columns in both grids are the same size, since the only</span>
<a href="#l5.93"></a><span id="l5.93">  * reason that we're using two grids at all is to workaround the XUL box</span>
<a href="#l5.94"></a><span id="l5.94">  * model's inability to float elements.</span>
<a href="#l5.95"></a><span id="l5.95">  */</span>
<a href="#l5.96"></a><span id="l5.96"> function syncGridColumnWidths() {</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineminus">-  let nameColumn = document.getElementById(&quot;expandedHeadersNameColumn&quot;);</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineminus">-  let nameColumn2 = document.getElementById(&quot;expandedHeaders2NameColumn&quot;);</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineplus">+  let fromTH = document.getElementById(&quot;expandedfromTableHeader&quot;);</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineplus">+  let subjectTH = document.getElementById(&quot;expandedsubjectTableHeader&quot;);</span>
<a href="#l5.101"></a><span id="l5.101"> </span>
<a href="#l5.102"></a><span id="l5.102">   // Reset the minimum widths to 0 so that clientWidth will return the</span>
<a href="#l5.103"></a><span id="l5.103">   // preferred intrinsic width of each column.</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineminus">-  nameColumn.minWidth = nameColumn2.minWidth = 0;</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineplus">+  fromTH.style.minWidth = subjectTH.style.minWidth = &quot;0px&quot;;</span>
<a href="#l5.106"></a><span id="l5.106"> </span>
<a href="#l5.107"></a><span id="l5.107">   // Set minWidth on the smaller of the two columns to be the width of the</span>
<a href="#l5.108"></a><span id="l5.108">   // larger of the two.</span>
<a href="#l5.109"></a><span id="l5.109" class="difflineminus">-  if (nameColumn.clientWidth &gt; nameColumn2.clientWidth) {</span>
<a href="#l5.110"></a><span id="l5.110" class="difflineminus">-    nameColumn2.minWidth = nameColumn.clientWidth;</span>
<a href="#l5.111"></a><span id="l5.111" class="difflineminus">-  } else if (nameColumn.clientWidth &lt; nameColumn2.clientWidth) {</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineminus">-    nameColumn.minWidth = nameColumn2.clientWidth;</span>
<a href="#l5.113"></a><span id="l5.113" class="difflineplus">+  if (fromTH.clientWidth &gt; subjectTH.clientWidth) {</span>
<a href="#l5.114"></a><span id="l5.114" class="difflineplus">+    subjectTH.style.minWidth = fromTH.clientWidth + &quot;px&quot;;</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineplus">+    fromTH.style.minWidth = subjectTH.style.minWidth;</span>
<a href="#l5.116"></a><span id="l5.116" class="difflineplus">+  } else if (fromTH.clientWidth &lt; subjectTH.clientWidth) {</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineplus">+    fromTH.style.minWidth = subjectTH.clientWidth + &quot;px&quot;;</span>
<a href="#l5.118"></a><span id="l5.118" class="difflineplus">+    subjectTH.style.minWidth = fromTH.style.minWidth;</span>
<a href="#l5.119"></a><span id="l5.119">   }</span>
<a href="#l5.120"></a><span id="l5.120"> }</span>
<a href="#l5.121"></a><span id="l5.121"> </span>
<a href="#l5.122"></a><span id="l5.122"> /**</span>
<a href="#l5.123"></a><span id="l5.123">  * Default method for updating a header value into a header entry</span>
<a href="#l5.124"></a><span id="l5.124">  *</span>
<a href="#l5.125"></a><span id="l5.125">  * @param aHeaderEntry  A single header from currentHeaderData</span>
<a href="#l5.126"></a><span id="l5.126">  * @param aHeaderValue  The new value for headerEntry</span>
<a href="#l5.127"></a><span id="l5.127" class="difflineat">@@ -1068,37 +1077,47 @@ function HeaderView(headerName, label) {</span>
<a href="#l5.128"></a><span id="l5.128">   headerName = headerName.toLowerCase();</span>
<a href="#l5.129"></a><span id="l5.129">   let rowId = &quot;expanded&quot; + headerName + &quot;Row&quot;;</span>
<a href="#l5.130"></a><span id="l5.130">   let idName = &quot;expanded&quot; + headerName + &quot;Box&quot;;</span>
<a href="#l5.131"></a><span id="l5.131">   let newHeaderNode;</span>
<a href="#l5.132"></a><span id="l5.132">   // If a row for this header already exists, do not create another one.</span>
<a href="#l5.133"></a><span id="l5.133">   let newRowNode = document.getElementById(rowId);</span>
<a href="#l5.134"></a><span id="l5.134">   if (!newRowNode) {</span>
<a href="#l5.135"></a><span id="l5.135">     // Create new collapsed row.</span>
<a href="#l5.136"></a><span id="l5.136" class="difflineminus">-    newRowNode = document.createXULElement(&quot;row&quot;);</span>
<a href="#l5.137"></a><span id="l5.137" class="difflineplus">+    newRowNode = document.createElementNS(&quot;http://www.w3.org/1999/xhtml&quot;, &quot;tr&quot;);</span>
<a href="#l5.138"></a><span id="l5.138">     newRowNode.setAttribute(&quot;id&quot;, rowId);</span>
<a href="#l5.139"></a><span id="l5.139" class="difflineminus">-    newRowNode.collapsed = true;</span>
<a href="#l5.140"></a><span id="l5.140" class="difflineplus">+    newRowNode.setAttribute(&quot;hidden&quot;, &quot;hidden&quot;);</span>
<a href="#l5.141"></a><span id="l5.141"> </span>
<a href="#l5.142"></a><span id="l5.142">     // Create and append the label which contains the header name.</span>
<a href="#l5.143"></a><span id="l5.143">     let newLabelNode = document.createXULElement(&quot;label&quot;);</span>
<a href="#l5.144"></a><span id="l5.144">     newLabelNode.setAttribute(&quot;id&quot;, &quot;expanded&quot; + headerName + &quot;Label&quot;);</span>
<a href="#l5.145"></a><span id="l5.145">     newLabelNode.setAttribute(&quot;value&quot;, label);</span>
<a href="#l5.146"></a><span id="l5.146">     newLabelNode.setAttribute(&quot;class&quot;, &quot;headerName&quot;);</span>
<a href="#l5.147"></a><span id="l5.147">     newLabelNode.setAttribute(&quot;control&quot;, idName);</span>
<a href="#l5.148"></a><span id="l5.148" class="difflineminus">-    newRowNode.appendChild(newLabelNode);</span>
<a href="#l5.149"></a><span id="l5.149" class="difflineplus">+    let newTHNode = document.createElementNS(</span>
<a href="#l5.150"></a><span id="l5.150" class="difflineplus">+      &quot;http://www.w3.org/1999/xhtml&quot;,</span>
<a href="#l5.151"></a><span id="l5.151" class="difflineplus">+      &quot;th&quot;</span>
<a href="#l5.152"></a><span id="l5.152" class="difflineplus">+    );</span>
<a href="#l5.153"></a><span id="l5.153" class="difflineplus">+    newTHNode.appendChild(newLabelNode);</span>
<a href="#l5.154"></a><span id="l5.154" class="difflineplus">+    newRowNode.appendChild(newTHNode);</span>
<a href="#l5.155"></a><span id="l5.155"> </span>
<a href="#l5.156"></a><span id="l5.156">     // Create and append the new header value.</span>
<a href="#l5.157"></a><span id="l5.157">     newHeaderNode = document.createXULElement(&quot;mail-headerfield&quot;);</span>
<a href="#l5.158"></a><span id="l5.158">     newHeaderNode.setAttribute(&quot;id&quot;, idName);</span>
<a href="#l5.159"></a><span id="l5.159">     newHeaderNode.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l5.160"></a><span id="l5.160" class="difflineminus">-</span>
<a href="#l5.161"></a><span id="l5.161" class="difflineminus">-    newRowNode.appendChild(newHeaderNode);</span>
<a href="#l5.162"></a><span id="l5.162" class="difflineplus">+    let newTDNode = document.createElementNS(</span>
<a href="#l5.163"></a><span id="l5.163" class="difflineplus">+      &quot;http://www.w3.org/1999/xhtml&quot;,</span>
<a href="#l5.164"></a><span id="l5.164" class="difflineplus">+      &quot;td&quot;</span>
<a href="#l5.165"></a><span id="l5.165" class="difflineplus">+    );</span>
<a href="#l5.166"></a><span id="l5.166" class="difflineplus">+    newTDNode.appendChild(newHeaderNode);</span>
<a href="#l5.167"></a><span id="l5.167" class="difflineplus">+</span>
<a href="#l5.168"></a><span id="l5.168" class="difflineplus">+    newRowNode.appendChild(newTDNode);</span>
<a href="#l5.169"></a><span id="l5.169"> </span>
<a href="#l5.170"></a><span id="l5.170">     // This new element needs to be inserted into the view...</span>
<a href="#l5.171"></a><span id="l5.171" class="difflineminus">-    let topViewNode = document.getElementById(&quot;expandedHeader2Rows&quot;);</span>
<a href="#l5.172"></a><span id="l5.172" class="difflineplus">+    let topViewNode = document.getElementById(&quot;expandedHeaders2&quot;);</span>
<a href="#l5.173"></a><span id="l5.173">     topViewNode.appendChild(newRowNode);</span>
<a href="#l5.174"></a><span id="l5.174">     this.isNewHeader = true;</span>
<a href="#l5.175"></a><span id="l5.175">   } else {</span>
<a href="#l5.176"></a><span id="l5.176">     newHeaderNode = document.getElementById(idName);</span>
<a href="#l5.177"></a><span id="l5.177">     this.isNewHeader = false;</span>
<a href="#l5.178"></a><span id="l5.178">   }</span>
<a href="#l5.179"></a><span id="l5.179"> </span>
<a href="#l5.180"></a><span id="l5.180">   this.enclosingBox = newHeaderNode;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/test/mozmill/message-header/test-message-header.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/test/mozmill/message-header/test-message-header.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -125,18 +125,18 @@ function get_last_visible_address(aAddrs</span>
<a href="#l6.4"></a><span id="l6.4"> function test_add_tag_with_really_long_label() {</span>
<a href="#l6.5"></a><span id="l6.5">   be_in_folder(folder);</span>
<a href="#l6.6"></a><span id="l6.6"> </span>
<a href="#l6.7"></a><span id="l6.7">   // select the first message, which will display it</span>
<a href="#l6.8"></a><span id="l6.8">   let curMessage = select_click_row(0);</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10">   assert_selected_and_displayed(mc, curMessage);</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-  let topColumn = mc.eid(&quot;expandedHeadersNameColumn&quot;).node;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-  let bottomColumn = mc.eid(&quot;expandedHeaders2NameColumn&quot;).node;</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+  let topColumn = mc.eid(&quot;expandedfromTableHeader&quot;).node;</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+  let bottomColumn = mc.eid(&quot;expandedsubjectTableHeader&quot;).node;</span>
<a href="#l6.16"></a><span id="l6.16"> </span>
<a href="#l6.17"></a><span id="l6.17">   if (topColumn.clientWidth != bottomColumn.clientWidth) {</span>
<a href="#l6.18"></a><span id="l6.18">     throw new Error(</span>
<a href="#l6.19"></a><span id="l6.19">       &quot;Header columns have different widths!  &quot; +</span>
<a href="#l6.20"></a><span id="l6.20">         topColumn.clientWidth +</span>
<a href="#l6.21"></a><span id="l6.21">         &quot; != &quot; +</span>
<a href="#l6.22"></a><span id="l6.22">         bottomColumn.clientWidth</span>
<a href="#l6.23"></a><span id="l6.23">     );</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineat">@@ -163,18 +163,17 @@ function test_add_tag_with_really_long_l</span>
<a href="#l6.25"></a><span id="l6.25">       &quot;Header columns changed width!  &quot; +</span>
<a href="#l6.26"></a><span id="l6.26">         topColumn.clientWidth +</span>
<a href="#l6.27"></a><span id="l6.27">         &quot; != &quot; +</span>
<a href="#l6.28"></a><span id="l6.28">         defaultWidth</span>
<a href="#l6.29"></a><span id="l6.29">     );</span>
<a href="#l6.30"></a><span id="l6.30">   }</span>
<a href="#l6.31"></a><span id="l6.31"> </span>
<a href="#l6.32"></a><span id="l6.32">   // Add the first tag, and make sure that the label are the same length.</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineminus">-  mc.keypress(mc.eid(&quot;expandedHeadersNameColumn&quot;), &quot;1&quot;, {});</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+  mc.keypress(mc.eid(&quot;expandedfromTableHeader&quot;), &quot;1&quot;, {});</span>
<a href="#l6.36"></a><span id="l6.36">   if (topColumn.clientWidth != bottomColumn.clientWidth) {</span>
<a href="#l6.37"></a><span id="l6.37">     tagsLabel.value = oldTagsValue;</span>
<a href="#l6.38"></a><span id="l6.38">     throw new Error(</span>
<a href="#l6.39"></a><span id="l6.39">       &quot;Header columns have different widths!  &quot; +</span>
<a href="#l6.40"></a><span id="l6.40">         topColumn.clientWidth +</span>
<a href="#l6.41"></a><span id="l6.41">         &quot; != &quot; +</span>
<a href="#l6.42"></a><span id="l6.42">         bottomColumn.clientWidth</span>
<a href="#l6.43"></a><span id="l6.43">     );</span>
<a href="#l6.44"></a><span id="l6.44" class="difflineat">@@ -187,18 +186,18 @@ function test_add_tag_with_really_long_l</span>
<a href="#l6.45"></a><span id="l6.45">         &quot; == &quot; +</span>
<a href="#l6.46"></a><span id="l6.46">         defaultWidth</span>
<a href="#l6.47"></a><span id="l6.47">     );</span>
<a href="#l6.48"></a><span id="l6.48">   }</span>
<a href="#l6.49"></a><span id="l6.49"> </span>
<a href="#l6.50"></a><span id="l6.50">   // Remove the tag and put it back so that the a11y label gets regenerated</span>
<a href="#l6.51"></a><span id="l6.51">   // with the normal value rather than &quot;taaaaaaaags&quot;</span>
<a href="#l6.52"></a><span id="l6.52">   tagsLabel.value = oldTagsValue;</span>
<a href="#l6.53"></a><span id="l6.53" class="difflineminus">-  mc.keypress(mc.eid(&quot;expandedHeadersNameColumn&quot;), &quot;1&quot;, {});</span>
<a href="#l6.54"></a><span id="l6.54" class="difflineminus">-  mc.keypress(mc.eid(&quot;expandedHeadersNameColumn&quot;), &quot;1&quot;, {});</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineplus">+  mc.keypress(mc.eid(&quot;expandedfromTableHeader&quot;), &quot;1&quot;, {});</span>
<a href="#l6.56"></a><span id="l6.56" class="difflineplus">+  mc.keypress(mc.eid(&quot;expandedfromTableHeader&quot;), &quot;1&quot;, {});</span>
<a href="#l6.57"></a><span id="l6.57"> }</span>
<a href="#l6.58"></a><span id="l6.58"> </span>
<a href="#l6.59"></a><span id="l6.59"> /**</span>
<a href="#l6.60"></a><span id="l6.60">  * @param headerName used for pretty-printing in exceptions</span>
<a href="#l6.61"></a><span id="l6.61">  * @param headerValueElement  Function returning the DOM element</span>
<a href="#l6.62"></a><span id="l6.62">  *                            with the data.</span>
<a href="#l6.63"></a><span id="l6.63">  * @param expectedName  Function returning the expected value of</span>
<a href="#l6.64"></a><span id="l6.64">  *                      nsIAccessible.name for the DOM element in question</span>
<a href="#l6.65"></a><span id="l6.65" class="difflineat">@@ -444,18 +443,17 @@ function test_more_button_with_many_reci</span>
<a href="#l6.66"></a><span id="l6.66">   assert_selected_and_displayed(mc, curMessage);</span>
<a href="#l6.67"></a><span id="l6.67"> </span>
<a href="#l6.68"></a><span id="l6.68">   // Check the mode of the header.</span>
<a href="#l6.69"></a><span id="l6.69">   let headerBox = mc.eid(&quot;expandedHeaderView&quot;);</span>
<a href="#l6.70"></a><span id="l6.70">   let previousHeaderMode = headerBox.node.getAttribute(&quot;show_header_mode&quot;);</span>
<a href="#l6.71"></a><span id="l6.71"> </span>
<a href="#l6.72"></a><span id="l6.72">   // Click the &quot;more&quot; button.</span>
<a href="#l6.73"></a><span id="l6.73">   let moreIndicator = mc.window.document.getElementById(&quot;expandedccBox&quot;).more;</span>
<a href="#l6.74"></a><span id="l6.74" class="difflineminus">-  moreIndicator = new elementslib.Elem(moreIndicator);</span>
<a href="#l6.75"></a><span id="l6.75" class="difflineminus">-  mc.click(moreIndicator);</span>
<a href="#l6.76"></a><span id="l6.76" class="difflineplus">+  moreIndicator.click();</span>
<a href="#l6.77"></a><span id="l6.77"> </span>
<a href="#l6.78"></a><span id="l6.78">   // Check the new mode of the header.</span>
<a href="#l6.79"></a><span id="l6.79">   if (headerBox.node.getAttribute(&quot;show_header_mode&quot;) != &quot;all&quot;) {</span>
<a href="#l6.80"></a><span id="l6.80">     throw new Error(</span>
<a href="#l6.81"></a><span id="l6.81">       &quot;Header Mode didn't change to 'all'!  old=&quot; +</span>
<a href="#l6.82"></a><span id="l6.82">         previousHeaderMode +</span>
<a href="#l6.83"></a><span id="l6.83">         &quot;, new=&quot; +</span>
<a href="#l6.84"></a><span id="l6.84">         headerBox.node.getAttribute(&quot;show_header_mode&quot;)</span>
<a href="#l6.85"></a><span id="l6.85" class="difflineat">@@ -756,17 +754,17 @@ function test_that_msg_without_date_clea</span>
<a href="#l6.86"></a><span id="l6.86">   wait_for_message_display_completion(mc);</span>
<a href="#l6.87"></a><span id="l6.87">   assert_selected_and_displayed(mc, curMessage);</span>
<a href="#l6.88"></a><span id="l6.88"> </span>
<a href="#l6.89"></a><span id="l6.89">   // Since we didn't give create_message an argument that would create a</span>
<a href="#l6.90"></a><span id="l6.90">   // Newsgroups header, the newsgroups &lt;row&gt; element should be collapsed.</span>
<a href="#l6.91"></a><span id="l6.91">   // However, since the previously displayed message _did_ have such a header,</span>
<a href="#l6.92"></a><span id="l6.92">   // certain bugs in the display of this header could cause the collapse</span>
<a href="#l6.93"></a><span id="l6.93">   // never to have happened.</span>
<a href="#l6.94"></a><span id="l6.94" class="difflineminus">-  if (!mc.e(&quot;expandednewsgroupsRow&quot;).collapsed) {</span>
<a href="#l6.95"></a><span id="l6.95" class="difflineplus">+  if (!mc.e(&quot;expandednewsgroupsRow&quot;).hasAttribute(&quot;hidden&quot;)) {</span>
<a href="#l6.96"></a><span id="l6.96">     throw new Error(</span>
<a href="#l6.97"></a><span id="l6.97">       &quot;Expected &lt;row&gt; element for Newsgroups header to be &quot; +</span>
<a href="#l6.98"></a><span id="l6.98">         &quot;collapsed, but it wasn't\n!&quot;</span>
<a href="#l6.99"></a><span id="l6.99">     );</span>
<a href="#l6.100"></a><span id="l6.100">   }</span>
<a href="#l6.101"></a><span id="l6.101"> }</span>
<a href="#l6.102"></a><span id="l6.102"> </span>
<a href="#l6.103"></a><span id="l6.103"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/themes/linux/mail/messageHeader.css</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/themes/linux/mail/messageHeader.css</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -190,25 +190,24 @@</span>
<a href="#l7.4"></a><span id="l7.4">   list-style-image: url(&quot;chrome://messenger/skin/icons/save.svg&quot;);</span>
<a href="#l7.5"></a><span id="l7.5"> }</span>
<a href="#l7.6"></a><span id="l7.6"> </span>
<a href="#l7.7"></a><span id="l7.7"> .headerName {</span>
<a href="#l7.8"></a><span id="l7.8">   color: #888a85; /* lower contrast */</span>
<a href="#l7.9"></a><span id="l7.9">   text-align: right;</span>
<a href="#l7.10"></a><span id="l7.10">   background-color: transparent;</span>
<a href="#l7.11"></a><span id="l7.11">   padding: 0px;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-  margin-top: 0;</span>
<a href="#l7.13"></a><span id="l7.13">   margin-inline-end: 3px;</span>
<a href="#l7.14"></a><span id="l7.14"> }</span>
<a href="#l7.15"></a><span id="l7.15"> </span>
<a href="#l7.16"></a><span id="l7.16"> .headerValue {</span>
<a href="#l7.17"></a><span id="l7.17">   min-width: 50px;</span>
<a href="#l7.18"></a><span id="l7.18">   white-space: normal;</span>
<a href="#l7.19"></a><span id="l7.19">   color: WindowText;</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-  line-height: 1.5em;</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineplus">+  line-height: 1.4em;</span>
<a href="#l7.22"></a><span id="l7.22">   -moz-appearance: none !important;</span>
<a href="#l7.23"></a><span id="l7.23">   padding: .1em 0px !important;</span>
<a href="#l7.24"></a><span id="l7.24">   margin: 0px !important;</span>
<a href="#l7.25"></a><span id="l7.25">   margin-bottom: 3px !important;</span>
<a href="#l7.26"></a><span id="l7.26">   margin-inline-start: 3px !important;</span>
<a href="#l7.27"></a><span id="l7.27">   border: none !important;</span>
<a href="#l7.28"></a><span id="l7.28">   background-color: transparent;</span>
<a href="#l7.29"></a><span id="l7.29"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/themes/osx/mail/messageHeader.css</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/themes/osx/mail/messageHeader.css</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -255,17 +255,17 @@</span>
<a href="#l8.4"></a><span id="l8.4">   padding: 0px;</span>
<a href="#l8.5"></a><span id="l8.5">   margin-top: 0;</span>
<a href="#l8.6"></a><span id="l8.6">   margin-inline-end: 3px;</span>
<a href="#l8.7"></a><span id="l8.7"> }</span>
<a href="#l8.8"></a><span id="l8.8"> </span>
<a href="#l8.9"></a><span id="l8.9"> .headerValue {</span>
<a href="#l8.10"></a><span id="l8.10">   min-width: 50px;</span>
<a href="#l8.11"></a><span id="l8.11">   white-space: normal;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-  line-height: 1.5em;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+  line-height: 1.4em;</span>
<a href="#l8.14"></a><span id="l8.14">   -moz-appearance: none !important;</span>
<a href="#l8.15"></a><span id="l8.15">   padding: .1em 0px !important;</span>
<a href="#l8.16"></a><span id="l8.16">   margin: 0px !important;</span>
<a href="#l8.17"></a><span id="l8.17">   margin-bottom: 3px !important;</span>
<a href="#l8.18"></a><span id="l8.18"> </span>
<a href="#l8.19"></a><span id="l8.19"> </span>
<a href="#l8.20"></a><span id="l8.20">   /* 1px plus 2px of border-radius matches the 3px at the beginning of</span>
<a href="#l8.21"></a><span id="l8.21">     .emailDisplayButton, making email address header values and plain text</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/themes/shared/mail/messageHeader.css</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/themes/shared/mail/messageHeader.css</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1,13 +1,14 @@</span>
<a href="#l9.4"></a><span id="l9.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.5"></a><span id="l9.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.6"></a><span id="l9.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineplus">+@namespace html url(&quot;http://www.w3.org/1999/xhtml&quot;);</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> :root[lwt-default-theme-in-dark-mode] #headers-box,</span>
<a href="#l9.12"></a><span id="l9.12"> :root[lwt-default-theme-in-dark-mode] #msgHeaderView {</span>
<a href="#l9.13"></a><span id="l9.13">   background-color: var(--toolbar-bgcolor) !important;</span>
<a href="#l9.14"></a><span id="l9.14">   background-image: none !important;</span>
<a href="#l9.15"></a><span id="l9.15">   color: var(--lwt-text-color);</span>
<a href="#l9.16"></a><span id="l9.16"> }</span>
<a href="#l9.17"></a><span id="l9.17"> </span>
<a href="#l9.18"></a><span id="l9.18" class="difflineat">@@ -40,22 +41,16 @@</span>
<a href="#l9.19"></a><span id="l9.19"> }</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21"> .msgHeaderView-button[type=&quot;menu-button&quot;] &gt; toolbarbutton {</span>
<a href="#l9.22"></a><span id="l9.22">   -moz-box-orient: horizontal;</span>
<a href="#l9.23"></a><span id="l9.23"> }</span>
<a href="#l9.24"></a><span id="l9.24"> </span>
<a href="#l9.25"></a><span id="l9.25"> /* ::::: msg header toolbars ::::: */</span>
<a href="#l9.26"></a><span id="l9.26"> </span>
<a href="#l9.27"></a><span id="l9.27" class="difflineminus">-#expandedHeaderRows &gt; row,</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineminus">-#expandedHeader2Rows &gt; row {</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineminus">-  /* Ensure that the header names and values are aligned with each other. */</span>
<a href="#l9.30"></a><span id="l9.30" class="difflineminus">-  -moz-box-align: baseline;</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineminus">-}</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineminus">-</span>
<a href="#l9.33"></a><span id="l9.33"> #expandedHeadersTopBox {</span>
<a href="#l9.34"></a><span id="l9.34">   /* Use the HTML layout model to allow the message header toolbar to float to</span>
<a href="#l9.35"></a><span id="l9.35">      the right of the From field. */</span>
<a href="#l9.36"></a><span id="l9.36">   display: block;</span>
<a href="#l9.37"></a><span id="l9.37"> }</span>
<a href="#l9.38"></a><span id="l9.38"> </span>
<a href="#l9.39"></a><span id="l9.39"> #header-view-toolbox {</span>
<a href="#l9.40"></a><span id="l9.40">   float: right;</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineat">@@ -105,19 +100,56 @@</span>
<a href="#l9.42"></a><span id="l9.42">   display: block;</span>
<a href="#l9.43"></a><span id="l9.43"> }</span>
<a href="#l9.44"></a><span id="l9.44"> </span>
<a href="#l9.45"></a><span id="l9.45"> .headerValue[containsEmail=&quot;true&quot;] {</span>
<a href="#l9.46"></a><span id="l9.46">   margin-inline-start: 0px !important;</span>
<a href="#l9.47"></a><span id="l9.47"> }</span>
<a href="#l9.48"></a><span id="l9.48"> </span>
<a href="#l9.49"></a><span id="l9.49"> #otherActionsBox {</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineplus">+  white-space: nowrap;</span>
<a href="#l9.51"></a><span id="l9.51">   margin-inline-start: 8px;</span>
<a href="#l9.52"></a><span id="l9.52"> }</span>
<a href="#l9.53"></a><span id="l9.53"> </span>
<a href="#l9.54"></a><span id="l9.54" class="difflineplus">+html|table#expandedHeaders {</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineplus">+  display: inline-grid;</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineplus">+  vertical-align: baseline;</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineplus">+}</span>
<a href="#l9.58"></a><span id="l9.58" class="difflineplus">+</span>
<a href="#l9.59"></a><span id="l9.59" class="difflineplus">+html|table#expandedHeaders,</span>
<a href="#l9.60"></a><span id="l9.60" class="difflineplus">+html|table#expandedHeaders2 {</span>
<a href="#l9.61"></a><span id="l9.61" class="difflineplus">+  border-spacing: 0;</span>
<a href="#l9.62"></a><span id="l9.62" class="difflineplus">+}</span>
<a href="#l9.63"></a><span id="l9.63" class="difflineplus">+</span>
<a href="#l9.64"></a><span id="l9.64" class="difflineplus">+#expandedHeadersBottomBox {</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineplus">+  display: flex;</span>
<a href="#l9.66"></a><span id="l9.66" class="difflineplus">+}</span>
<a href="#l9.67"></a><span id="l9.67" class="difflineplus">+</span>
<a href="#l9.68"></a><span id="l9.68" class="difflineplus">+#expandedHeadersTopBox html|th,</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineplus">+#expandedHeadersBottomBox html|th {</span>
<a href="#l9.70"></a><span id="l9.70" class="difflineplus">+  font-weight: normal !important;</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineplus">+  vertical-align: top;</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineplus">+  text-align: right;</span>
<a href="#l9.73"></a><span id="l9.73" class="difflineplus">+  padding-top: 2px !important;</span>
<a href="#l9.74"></a><span id="l9.74" class="difflineplus">+}</span>
<a href="#l9.75"></a><span id="l9.75" class="difflineplus">+</span>
<a href="#l9.76"></a><span id="l9.76" class="difflineplus">+#expandedHeadersTopBox html|td,</span>
<a href="#l9.77"></a><span id="l9.77" class="difflineplus">+#expandedHeadersBottomBox html|td,</span>
<a href="#l9.78"></a><span id="l9.78" class="difflineplus">+mail-multi-emailheaderfield {</span>
<a href="#l9.79"></a><span id="l9.79" class="difflineplus">+  width: 100%;</span>
<a href="#l9.80"></a><span id="l9.80" class="difflineplus">+}</span>
<a href="#l9.81"></a><span id="l9.81" class="difflineplus">+</span>
<a href="#l9.82"></a><span id="l9.82" class="difflineplus">+#expandedHeadersTopBox html|th,</span>
<a href="#l9.83"></a><span id="l9.83" class="difflineplus">+#expandedHeadersBottomBox html|th,</span>
<a href="#l9.84"></a><span id="l9.84" class="difflineplus">+#expandedHeadersTopBox html|td,</span>
<a href="#l9.85"></a><span id="l9.85" class="difflineplus">+#expandedHeadersBottomBox html|td {</span>
<a href="#l9.86"></a><span id="l9.86" class="difflineplus">+  margin: 0;</span>
<a href="#l9.87"></a><span id="l9.87" class="difflineplus">+  padding: 0;</span>
<a href="#l9.88"></a><span id="l9.88" class="difflineplus">+}</span>
<a href="#l9.89"></a><span id="l9.89" class="difflineplus">+</span>
<a href="#l9.90"></a><span id="l9.90"> .headerValueBox {</span>
<a href="#l9.91"></a><span id="l9.91">   overflow: visible;</span>
<a href="#l9.92"></a><span id="l9.92"> }</span>
<a href="#l9.93"></a><span id="l9.93"> </span>
<a href="#l9.94"></a><span id="l9.94"> mail-newsgroups-headerfield.headerValueBox {</span>
<a href="#l9.95"></a><span id="l9.95">   padding: .1em 0;</span>
<a href="#l9.96"></a><span id="l9.96">   margin-bottom: 4px;</span>
<a href="#l9.97"></a><span id="l9.97"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/themes/windows/mail/messageHeader.css</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/themes/windows/mail/messageHeader.css</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -116,17 +116,17 @@</span>
<a href="#l10.4"></a><span id="l10.4">   margin-top: 0;</span>
<a href="#l10.5"></a><span id="l10.5">   margin-inline-end: 3px;</span>
<a href="#l10.6"></a><span id="l10.6"> }</span>
<a href="#l10.7"></a><span id="l10.7"> </span>
<a href="#l10.8"></a><span id="l10.8"> .headerValue {</span>
<a href="#l10.9"></a><span id="l10.9">   min-width: 50px;</span>
<a href="#l10.10"></a><span id="l10.10">   white-space: normal;</span>
<a href="#l10.11"></a><span id="l10.11">   color: WindowText;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-  line-height: 1.5em;</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+  line-height: 1.4em;</span>
<a href="#l10.14"></a><span id="l10.14">   -moz-appearance: none;</span>
<a href="#l10.15"></a><span id="l10.15">   padding: .1em 0;</span>
<a href="#l10.16"></a><span id="l10.16">   margin: 0;</span>
<a href="#l10.17"></a><span id="l10.17">   margin-bottom: 3px !important;</span>
<a href="#l10.18"></a><span id="l10.18">   margin-inline-start: 3px;</span>
<a href="#l10.19"></a><span id="l10.19">   border-width: 0;</span>
<a href="#l10.20"></a><span id="l10.20">   background-color: transparent;</span>
<a href="#l10.21"></a><span id="l10.21"> }</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:32Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

