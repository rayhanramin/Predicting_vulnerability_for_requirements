<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 23620:f466d0abed9f578f55e5921b7cc88e38a2778b61</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ f466d0abed9f578f55e5921b7cc88e38a2778b61" />
<meta property="og:url" content="/comm-central/rev/f466d0abed9f578f55e5921b7cc88e38a2778b61" />
<meta property="og:description" content="Bug 1448946 - remove trailing spaces in editor. rs=white-space-only" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / f466d0abed9f578f55e5921b7cc88e38a2778b61 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/f466d0abed9f578f55e5921b7cc88e38a2778b61">shortlog</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/f466d0abed9f578f55e5921b7cc88e38a2778b61">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61">files</a> |
changeset |
<a href="/comm-central/raw-rev/f466d0abed9f578f55e5921b7cc88e38a2778b61">raw</a>  | <a href="/comm-central/archive/f466d0abed9f578f55e5921b7cc88e38a2778b61.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1448946">Bug 1448946</a> - remove trailing spaces in editor. rs=white-space-only
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#74;&#111;&#114;&#103;&#32;&#75;&#32;&#60;&#106;&#111;&#114;&#103;&#107;&#64;&#106;&#111;&#114;&#103;&#107;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Sat, 31 Mar 2018 12:50:02 +0200</td></tr>

<tr>
 <td>changeset 23620</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/f466d0abed9f578f55e5921b7cc88e38a2778b61">f466d0abed9f578f55e5921b7cc88e38a2778b61</a></td>
</tr>



<tr>
<td>parent 23619</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/2283e76717f9c6b58dc3c6270089bf996e5deff5">2283e76717f9c6b58dc3c6270089bf996e5deff5</a>
</td>
</tr>

<tr>
<td>child 23621</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/1ff14a05b2a11739c1bc68ccee89f2804ba233f8">1ff14a05b2a11739c1bc68ccee89f2804ba233f8</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=f466d0abed9f578f55e5921b7cc88e38a2778b61">14258</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Sat, 31 Mar 2018 10:50:39 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@f466d0abed9f [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f466d0abed9f578f55e5921b7cc88e38a2778b61">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f466d0abed9f578f55e5921b7cc88e38a2778b61&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f466d0abed9f578f55e5921b7cc88e38a2778b61&newProject=comm-central&newRevision=f466d0abed9f578f55e5921b7cc88e38a2778b61&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f466d0abed9f578f55e5921b7cc88e38a2778b61&newProject=comm-central&newRevision=f466d0abed9f578f55e5921b7cc88e38a2778b61&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f466d0abed9f578f55e5921b7cc88e38a2778b61&newProject=comm-central&newRevision=f466d0abed9f578f55e5921b7cc88e38a2778b61&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28white-space-only%29&revcount=50">white-space-only</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1448946">1448946</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1448946">Bug 1448946</a> - remove trailing spaces in editor. rs=white-space-only
[skip-blame]</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer.js">editor/ui/composer.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorAllTags.css">editor/ui/composer/content/EditorAllTags.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorAllTags.css">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorAllTags.css">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorAllTags.css">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorAllTags.css">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorAllTags.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContent.css">editor/ui/composer/content/EditorContent.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContent.css">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContent.css">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContent.css">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContent.css">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContent.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContextMenu.js">editor/ui/composer/content/EditorContextMenu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContextMenu.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContextMenu.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContextMenu.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContextMenu.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/EditorContextMenu.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/composerOverlay.xul">editor/ui/composer/content/composerOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/composerOverlay.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/composerOverlay.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/composerOverlay.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/composerOverlay.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/composerOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editor.js">editor/ui/composer/content/editor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editor.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editor.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editor.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editor.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editor.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorApplicationOverlay.js">editor/ui/composer/content/editorApplicationOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorApplicationOverlay.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorApplicationOverlay.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorApplicationOverlay.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorApplicationOverlay.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorApplicationOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorMailOverlay.xul">editor/ui/composer/content/editorMailOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorMailOverlay.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorMailOverlay.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorMailOverlay.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorMailOverlay.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorMailOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorNavigatorOverlay.xul">editor/ui/composer/content/editorNavigatorOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorNavigatorOverlay.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorNavigatorOverlay.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorNavigatorOverlay.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorNavigatorOverlay.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorNavigatorOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorPrefsOverlay.xul">editor/ui/composer/content/editorPrefsOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorPrefsOverlay.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorPrefsOverlay.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorPrefsOverlay.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorPrefsOverlay.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorPrefsOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorSmileyOverlay.xul">editor/ui/composer/content/editorSmileyOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorSmileyOverlay.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorSmileyOverlay.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorSmileyOverlay.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorSmileyOverlay.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorSmileyOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorTasksOverlay.xul">editor/ui/composer/content/editorTasksOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorTasksOverlay.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorTasksOverlay.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorTasksOverlay.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorTasksOverlay.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/editorTasksOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.js">editor/ui/composer/content/pref-editing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.xul">editor/ui/composer/content/pref-editing.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-editing.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-toolbars.xul">editor/ui/composer/content/pref-toolbars.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-toolbars.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-toolbars.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-toolbars.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-toolbars.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/pref-toolbars.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/publishprefs.js">editor/ui/composer/content/publishprefs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/publishprefs.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/publishprefs.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/publishprefs.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/publishprefs.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/composer/content/publishprefs.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEAttributes.js">editor/ui/dialogs/content/EdAEAttributes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEAttributes.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEAttributes.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEAttributes.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEAttributes.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEAttributes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAECSSAttributes.js">editor/ui/dialogs/content/EdAECSSAttributes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAECSSAttributes.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAECSSAttributes.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAECSSAttributes.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAECSSAttributes.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAECSSAttributes.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEHTMLAttributes.js">editor/ui/dialogs/content/EdAEHTMLAttributes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEHTMLAttributes.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEHTMLAttributes.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEHTMLAttributes.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEHTMLAttributes.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEHTMLAttributes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEJSEAttributes.js">editor/ui/dialogs/content/EdAEJSEAttributes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEJSEAttributes.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEJSEAttributes.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEJSEAttributes.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEJSEAttributes.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAEJSEAttributes.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.js">editor/ui/dialogs/content/EdAdvancedEdit.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.xul">editor/ui/dialogs/content/EdAdvancedEdit.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdAdvancedEdit.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdButtonProps.xul">editor/ui/dialogs/content/EdButtonProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdButtonProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdButtonProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdButtonProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdButtonProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdButtonProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.js">editor/ui/dialogs/content/EdColorPicker.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.xul">editor/ui/dialogs/content/EdColorPicker.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorPicker.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.js">editor/ui/dialogs/content/EdColorProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.xul">editor/ui/dialogs/content/EdColorProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdColorProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.js">editor/ui/dialogs/content/EdConvertToTable.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.xul">editor/ui/dialogs/content/EdConvertToTable.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdConvertToTable.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogCommon.js">editor/ui/dialogs/content/EdDialogCommon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogCommon.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogCommon.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogCommon.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogCommon.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogCommon.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.js">editor/ui/dialogs/content/EdDialogTemplate.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.xul">editor/ui/dialogs/content/EdDialogTemplate.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDialogTemplate.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.js">editor/ui/dialogs/content/EdDictionary.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.xul">editor/ui/dialogs/content/EdDictionary.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdDictionary.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.js">editor/ui/dialogs/content/EdFieldSetProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.xul">editor/ui/dialogs/content/EdFieldSetProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFieldSetProps.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFormProps.xul">editor/ui/dialogs/content/EdFormProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFormProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFormProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFormProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFormProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdFormProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdHLineProps.js">editor/ui/dialogs/content/EdHLineProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdHLineProps.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdHLineProps.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdHLineProps.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdHLineProps.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdHLineProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdImageOverlay.xul">editor/ui/dialogs/content/EdImageOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdImageOverlay.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdImageOverlay.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdImageOverlay.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdImageOverlay.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdImageOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputImage.xul">editor/ui/dialogs/content/EdInputImage.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputImage.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputImage.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputImage.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputImage.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputImage.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputProps.xul">editor/ui/dialogs/content/EdInputProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInputProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsSrc.xul">editor/ui/dialogs/content/EdInsSrc.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsSrc.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsSrc.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsSrc.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsSrc.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsSrc.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.js">editor/ui/dialogs/content/EdInsertChars.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.xul">editor/ui/dialogs/content/EdInsertChars.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertChars.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertMath.xul">editor/ui/dialogs/content/EdInsertMath.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertMath.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertMath.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertMath.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertMath.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertMath.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTOC.js">editor/ui/dialogs/content/EdInsertTOC.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTOC.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTOC.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTOC.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTOC.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTOC.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.js">editor/ui/dialogs/content/EdInsertTable.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.xul">editor/ui/dialogs/content/EdInsertTable.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdInsertTable.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLabelProps.xul">editor/ui/dialogs/content/EdLabelProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLabelProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLabelProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLabelProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLabelProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLabelProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.js">editor/ui/dialogs/content/EdLinkChecker.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.xul">editor/ui/dialogs/content/EdLinkChecker.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkChecker.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkProps.js">editor/ui/dialogs/content/EdLinkProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkProps.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkProps.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkProps.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkProps.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdLinkProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.js">editor/ui/dialogs/content/EdListProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.xul">editor/ui/dialogs/content/EdListProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdListProps.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.js">editor/ui/dialogs/content/EdNamedAnchorProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.xul">editor/ui/dialogs/content/EdNamedAnchorProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdNamedAnchorProps.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.js">editor/ui/dialogs/content/EdPageProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.xul">editor/ui/dialogs/content/EdPageProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdPageProps.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdReplace.js">editor/ui/dialogs/content/EdReplace.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdReplace.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdReplace.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdReplace.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdReplace.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdReplace.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSelectProps.xul">editor/ui/dialogs/content/EdSelectProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSelectProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSelectProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSelectProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSelectProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSelectProps.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.js">editor/ui/dialogs/content/EdSpellCheck.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.xul">editor/ui/dialogs/content/EdSpellCheck.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdSpellCheck.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.js">editor/ui/dialogs/content/EdTableProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.xul">editor/ui/dialogs/content/EdTableProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTableProps.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.js">editor/ui/dialogs/content/EdTextAreaProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.xul">editor/ui/dialogs/content/EdTextAreaProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EdTextAreaProps.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.js">editor/ui/dialogs/content/EditConflict.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.xul">editor/ui/dialogs/content/EditConflict.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditConflict.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.js">editor/ui/dialogs/content/EditorPublish.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.xul">editor/ui/dialogs/content/EditorPublish.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublish.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishOverlay.xul">editor/ui/dialogs/content/EditorPublishOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishOverlay.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishOverlay.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishOverlay.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishOverlay.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.js">editor/ui/dialogs/content/EditorPublishProgress.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.xul">editor/ui/dialogs/content/EditorPublishProgress.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishProgress.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.js">editor/ui/dialogs/content/EditorPublishSettings.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.xul">editor/ui/dialogs/content/EditorPublishSettings.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.xul">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.xul">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.xul">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.xul">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorPublishSettings.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorSaveAsCharset.js">editor/ui/dialogs/content/EditorSaveAsCharset.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorSaveAsCharset.js">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorSaveAsCharset.js">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorSaveAsCharset.js">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorSaveAsCharset.js">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/dialogs/content/EditorSaveAsCharset.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/jar.mn">editor/ui/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/jar.mn">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/jar.mn">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/jar.mn">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/jar.mn">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.dtd">editor/ui/locales/en-US/chrome/composer/editor.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.dtd">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.dtd">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.dtd">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.dtd">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.properties">editor/ui/locales/en-US/chrome/composer/editor.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.properties">file</a> |
<a href="/comm-central/annotate/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.properties">annotate</a> |
<a href="/comm-central/diff/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.properties">diff</a> |
<a href="/comm-central/comparison/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.properties">comparison</a> |
<a href="/comm-central/log/f466d0abed9f578f55e5921b7cc88e38a2778b61/editor/ui/locales/en-US/chrome/composer/editor.properties">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/editor/ui/composer.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/editor/ui/composer.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -73,17 +73,17 @@ pref(&quot;editor.save_associated_files&quot;,    </span>
<a href="#l1.4"></a><span id="l1.4"> pref(&quot;editor.always_show_publish_dialog&quot;,    false);</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6"> /*</span>
<a href="#l1.7"></a><span id="l1.7">  * What are the entities that you want Mozilla to save using mnemonic</span>
<a href="#l1.8"></a><span id="l1.8">  * names rather than numeric codes? E.g. If set, we'll output &amp;nbsp;</span>
<a href="#l1.9"></a><span id="l1.9">  * otherwise, we may output 0xa0 depending on the charset.</span>
<a href="#l1.10"></a><span id="l1.10">  *</span>
<a href="#l1.11"></a><span id="l1.11">  * &quot;none&quot;   : don't use any entity names; only use numeric codes.</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">- * &quot;basic&quot;  : use entity names just for &amp;nbsp; &amp;amp; &amp;lt; &amp;gt; &amp;quot; for </span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+ * &quot;basic&quot;  : use entity names just for &amp;nbsp; &amp;amp; &amp;lt; &amp;gt; &amp;quot; for</span>
<a href="#l1.14"></a><span id="l1.14">  *            interoperability/exchange with products that don't support more</span>
<a href="#l1.15"></a><span id="l1.15">  *            than that.</span>
<a href="#l1.16"></a><span id="l1.16">  * &quot;latin1&quot; : use entity names for 8bit accented letters and other special</span>
<a href="#l1.17"></a><span id="l1.17">  *            symbols between 128 and 255.</span>
<a href="#l1.18"></a><span id="l1.18">  * &quot;html&quot;   : use entity names for 8bit accented letters, greek letters, and</span>
<a href="#l1.19"></a><span id="l1.19">  *            other special markup symbols as defined in HTML4.</span>
<a href="#l1.20"></a><span id="l1.20">  */</span>
<a href="#l1.21"></a><span id="l1.21"> //pref(&quot;editor.encode_entity&quot;,                 &quot;html&quot;);</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineat">@@ -92,11 +92,11 @@ pref(&quot;editor.always_show_publish_dialog&quot;</span>
<a href="#l1.23"></a><span id="l1.23"> #ifdef XP_UNIX</span>
<a href="#l1.24"></a><span id="l1.24"> pref(&quot;editor.disable_spell_checker&quot;, false);</span>
<a href="#l1.25"></a><span id="l1.25"> pref(&quot;editor.dont_lock_spell_files&quot;, true);</span>
<a href="#l1.26"></a><span id="l1.26"> #endif</span>
<a href="#l1.27"></a><span id="l1.27"> #endif</span>
<a href="#l1.28"></a><span id="l1.28"> </span>
<a href="#l1.29"></a><span id="l1.29"> pref(&quot;editor.CR_creates_new_p&quot;, false);</span>
<a href="#l1.30"></a><span id="l1.30"> </span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-// Pasting images from the clipboard, order of encoding preference: </span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+// Pasting images from the clipboard, order of encoding preference:</span>
<a href="#l1.33"></a><span id="l1.33"> // JPEG-PNG-GIF=0, PNG-JPEG-GIF=1, GIF-JPEG-PNG=2</span>
<a href="#l1.34"></a><span id="l1.34"> pref(&quot;clipboard.paste_image_type&quot;, 1);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/editor/ui/composer/content/EditorAllTags.css</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/editor/ui/composer/content/EditorAllTags.css</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -1,802 +1,802 @@</span>
<a href="#l2.4"></a><span id="l2.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.5"></a><span id="l2.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.6"></a><span id="l2.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8" class="difflineminus">-/* Styles to alter look of things in the Editor content window </span>
<a href="#l2.9"></a><span id="l2.9" class="difflineplus">+/* Styles to alter look of things in the Editor content window</span>
<a href="#l2.10"></a><span id="l2.10">  *  for the &quot;All Tags Edit Mode&quot; Every HTML tag shows up as an icon.</span>
<a href="#l2.11"></a><span id="l2.11"> */</span>
<a href="#l2.12"></a><span id="l2.12"> </span>
<a href="#l2.13"></a><span id="l2.13"> /* For &quot;userdefined&quot; or &quot;unknown&quot; tags</span>
<a href="#l2.14"></a><span id="l2.14">    (Note that &quot;_&quot; must be escaped)</span>
<a href="#l2.15"></a><span id="l2.15"> */</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17"> *:not(a):not(abbr):not(acronym):not(address):not(applet):not(area):not(b):not(base):not(basefont):not(bdo):not(bgsound):not(big):not(blink):not(blockquote):not(body):not(br):not(button):not(canvas):not(caption):not(center):not(cite):not(code):not(col):not(colgroup):not(dd):not(del):not(dfn):not(dir):not(div):not(dl):not(dt):not(em):not(embed):not(fieldset):not(font):not(form):not(frame):not(frameset):not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(head):not(hr):not(html):not(i):not(iframe):not(image):not(img):not(input):not(ins):not(isindex):not(kbd):not(keygen):not(label):not(legend):not(li):not(link):not(listing):not(map):not(marquee):not(menu):not(meta):not(multicol):not(nobr):not(noembed):not(noframes):not(noscript):not(object):not(ol):not(optgroup):not(option):not(p):not(param):not(plaintext):not(pre):not(q):not(s):not(samp):not(script):not(select):not(server):not(small):not(sound):not(spacer):not(span):not(strike):not(strong):not(style):not(sub):not(sup):not(table):not(tbody):not(td):not(textarea):not(tfoot):not(th):not(thead):not(title):not(tr):not(tt):not(u):not(ul):not(var):not(wbr):not(xmp) {</span>
<a href="#l2.18"></a><span id="l2.18">   display: inline;</span>
<a href="#l2.19"></a><span id="l2.19">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-  padding-left: 16px; </span>
<a href="#l2.21"></a><span id="l2.21" class="difflineplus">+  padding-left: 16px;</span>
<a href="#l2.22"></a><span id="l2.22">   background-image: url(chrome://editor/content/images/tag-userdefined.gif);</span>
<a href="#l2.23"></a><span id="l2.23">   background-repeat: no-repeat;</span>
<a href="#l2.24"></a><span id="l2.24">   background-position: top left;</span>
<a href="#l2.25"></a><span id="l2.25"> }</span>
<a href="#l2.26"></a><span id="l2.26"> </span>
<a href="#l2.27"></a><span id="l2.27"> a:not([\_moz_anonclass]) {</span>
<a href="#l2.28"></a><span id="l2.28">   min-height: 16px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineminus">-  padding-left: 20px; </span>
<a href="#l2.30"></a><span id="l2.30" class="difflineplus">+  padding-left: 20px;</span>
<a href="#l2.31"></a><span id="l2.31">   background-image: url(chrome://editor/content/images/tag-a.gif);</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.33"></a><span id="l2.33" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.34"></a><span id="l2.34">   background-position: top left;</span>
<a href="#l2.35"></a><span id="l2.35"> }</span>
<a href="#l2.36"></a><span id="l2.36"> </span>
<a href="#l2.37"></a><span id="l2.37"> abbr {</span>
<a href="#l2.38"></a><span id="l2.38">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineminus">-  padding-left: 35px; </span>
<a href="#l2.40"></a><span id="l2.40" class="difflineplus">+  padding-left: 35px;</span>
<a href="#l2.41"></a><span id="l2.41">   background-image: url(chrome://editor/content/images/tag-abr.gif);</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.43"></a><span id="l2.43" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.44"></a><span id="l2.44">   background-position: top left;</span>
<a href="#l2.45"></a><span id="l2.45"> }</span>
<a href="#l2.46"></a><span id="l2.46"> </span>
<a href="#l2.47"></a><span id="l2.47"> </span>
<a href="#l2.48"></a><span id="l2.48"> acronym {</span>
<a href="#l2.49"></a><span id="l2.49">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-  padding-left: 57px; </span>
<a href="#l2.51"></a><span id="l2.51" class="difflineplus">+  padding-left: 57px;</span>
<a href="#l2.52"></a><span id="l2.52">   background-image: url(chrome://editor/content/images/tag-acr.gif);</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.54"></a><span id="l2.54" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.55"></a><span id="l2.55">   background-position: top left;</span>
<a href="#l2.56"></a><span id="l2.56"> }</span>
<a href="#l2.57"></a><span id="l2.57"> </span>
<a href="#l2.58"></a><span id="l2.58"> address {</span>
<a href="#l2.59"></a><span id="l2.59">   min-height: 44px; margin-top: 2px;</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.61"></a><span id="l2.61" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.62"></a><span id="l2.62">   background-image: url(chrome://editor/content/images/tag-adr.gif);</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.64"></a><span id="l2.64" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.65"></a><span id="l2.65">   background-position: top left;</span>
<a href="#l2.66"></a><span id="l2.66"> }</span>
<a href="#l2.67"></a><span id="l2.67"> </span>
<a href="#l2.68"></a><span id="l2.68"> applet {</span>
<a href="#l2.69"></a><span id="l2.69">   min-height: 35px; margin-top: 2px;</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineminus">-  padding-left: 47px; </span>
<a href="#l2.71"></a><span id="l2.71" class="difflineplus">+  padding-left: 47px;</span>
<a href="#l2.72"></a><span id="l2.72">   background-image: url(chrome://editor/content/images/tag-app.gif);</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.74"></a><span id="l2.74" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.75"></a><span id="l2.75">   background-position: top left;</span>
<a href="#l2.76"></a><span id="l2.76"> }</span>
<a href="#l2.77"></a><span id="l2.77"> </span>
<a href="#l2.78"></a><span id="l2.78"> area {</span>
<a href="#l2.79"></a><span id="l2.79">   min-height: 35px; margin-top: 2px;</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineminus">-  padding-left: 39px; </span>
<a href="#l2.81"></a><span id="l2.81" class="difflineplus">+  padding-left: 39px;</span>
<a href="#l2.82"></a><span id="l2.82">   background-image: url(chrome://editor/content/images/tag-ara.gif);</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.84"></a><span id="l2.84" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.85"></a><span id="l2.85">   background-position: top left;</span>
<a href="#l2.86"></a><span id="l2.86"> }</span>
<a href="#l2.87"></a><span id="l2.87"> </span>
<a href="#l2.88"></a><span id="l2.88"> b {</span>
<a href="#l2.89"></a><span id="l2.89">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.90"></a><span id="l2.90" class="difflineminus">-  padding-left: 20px; </span>
<a href="#l2.91"></a><span id="l2.91" class="difflineplus">+  padding-left: 20px;</span>
<a href="#l2.92"></a><span id="l2.92">   background-image: url(chrome://editor/content/images/tag-b.gif);</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.94"></a><span id="l2.94" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.95"></a><span id="l2.95">   background-position: top left;</span>
<a href="#l2.96"></a><span id="l2.96"> }</span>
<a href="#l2.97"></a><span id="l2.97"> </span>
<a href="#l2.98"></a><span id="l2.98"> basefont {</span>
<a href="#l2.99"></a><span id="l2.99">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.100"></a><span id="l2.100" class="difflineminus">-  padding-left: 57px; </span>
<a href="#l2.101"></a><span id="l2.101" class="difflineplus">+  padding-left: 57px;</span>
<a href="#l2.102"></a><span id="l2.102">   background-image: url(chrome://editor/content/images/tag-bsf.gif);</span>
<a href="#l2.103"></a><span id="l2.103" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.104"></a><span id="l2.104" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.105"></a><span id="l2.105">   background-position: top left;</span>
<a href="#l2.106"></a><span id="l2.106"> }</span>
<a href="#l2.107"></a><span id="l2.107"> </span>
<a href="#l2.108"></a><span id="l2.108"> bdo {</span>
<a href="#l2.109"></a><span id="l2.109">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.111"></a><span id="l2.111" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.112"></a><span id="l2.112">   background-image: url(chrome://editor/content/images/tag-bdo.gif);</span>
<a href="#l2.113"></a><span id="l2.113" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.114"></a><span id="l2.114" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.115"></a><span id="l2.115">   background-position: top left;</span>
<a href="#l2.116"></a><span id="l2.116"> }</span>
<a href="#l2.117"></a><span id="l2.117"> </span>
<a href="#l2.118"></a><span id="l2.118"> big {</span>
<a href="#l2.119"></a><span id="l2.119">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.121"></a><span id="l2.121" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.122"></a><span id="l2.122">   background-image: url(chrome://editor/content/images/tag-big.gif);</span>
<a href="#l2.123"></a><span id="l2.123" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.124"></a><span id="l2.124" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.125"></a><span id="l2.125">   background-position: top left;</span>
<a href="#l2.126"></a><span id="l2.126"> }</span>
<a href="#l2.127"></a><span id="l2.127"> </span>
<a href="#l2.128"></a><span id="l2.128"> blockquote {</span>
<a href="#l2.129"></a><span id="l2.129">   min-height: 44px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.130"></a><span id="l2.130" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.131"></a><span id="l2.131" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.132"></a><span id="l2.132">   background-image: url(chrome://editor/content/images/tag-blq.gif);</span>
<a href="#l2.133"></a><span id="l2.133" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.134"></a><span id="l2.134" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.135"></a><span id="l2.135">   background-position: top left;</span>
<a href="#l2.136"></a><span id="l2.136"> }</span>
<a href="#l2.137"></a><span id="l2.137"> </span>
<a href="#l2.138"></a><span id="l2.138"> body {</span>
<a href="#l2.139"></a><span id="l2.139">   min-height: 36px; margin-left: 2px;</span>
<a href="#l2.140"></a><span id="l2.140" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.141"></a><span id="l2.141" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.142"></a><span id="l2.142">   background-image: url(chrome://editor/content/images/tag-body.gif);</span>
<a href="#l2.143"></a><span id="l2.143" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.144"></a><span id="l2.144" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.145"></a><span id="l2.145">   background-position: top left;</span>
<a href="#l2.146"></a><span id="l2.146"> }</span>
<a href="#l2.147"></a><span id="l2.147"> </span>
<a href="#l2.148"></a><span id="l2.148"> br {</span>
<a href="#l2.149"></a><span id="l2.149">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.150"></a><span id="l2.150" class="difflineminus">-  padding-left: 23px; </span>
<a href="#l2.151"></a><span id="l2.151" class="difflineplus">+  padding-left: 23px;</span>
<a href="#l2.152"></a><span id="l2.152">   background-image: url(chrome://editor/content/images/tag-br.gif);</span>
<a href="#l2.153"></a><span id="l2.153" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.154"></a><span id="l2.154" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.155"></a><span id="l2.155">   background-position: top left;</span>
<a href="#l2.156"></a><span id="l2.156"> }</span>
<a href="#l2.157"></a><span id="l2.157"> </span>
<a href="#l2.158"></a><span id="l2.158"> button {</span>
<a href="#l2.159"></a><span id="l2.159">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.160"></a><span id="l2.160" class="difflineminus">-  padding-left: 57px; </span>
<a href="#l2.161"></a><span id="l2.161" class="difflineplus">+  padding-left: 57px;</span>
<a href="#l2.162"></a><span id="l2.162">   background-image: url(chrome://editor/content/images/tag-btn.gif);</span>
<a href="#l2.163"></a><span id="l2.163" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.164"></a><span id="l2.164" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.165"></a><span id="l2.165">   background-position: top left;</span>
<a href="#l2.166"></a><span id="l2.166"> }</span>
<a href="#l2.167"></a><span id="l2.167"> </span>
<a href="#l2.168"></a><span id="l2.168"> caption {</span>
<a href="#l2.169"></a><span id="l2.169">   min-height: 35px; margin-top: 2px;</span>
<a href="#l2.170"></a><span id="l2.170" class="difflineminus">-  padding-left: 55px; </span>
<a href="#l2.171"></a><span id="l2.171" class="difflineplus">+  padding-left: 55px;</span>
<a href="#l2.172"></a><span id="l2.172">   background-image: url(chrome://editor/content/images/tag-cpt.gif);</span>
<a href="#l2.173"></a><span id="l2.173" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.174"></a><span id="l2.174" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.175"></a><span id="l2.175">   background-position: top left;</span>
<a href="#l2.176"></a><span id="l2.176"> }</span>
<a href="#l2.177"></a><span id="l2.177"> </span>
<a href="#l2.178"></a><span id="l2.178"> center {</span>
<a href="#l2.179"></a><span id="l2.179">   min-height: 44px; margin-top: 2px;</span>
<a href="#l2.180"></a><span id="l2.180" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.181"></a><span id="l2.181" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.182"></a><span id="l2.182">   background-image: url(chrome://editor/content/images/tag-ctr.gif);</span>
<a href="#l2.183"></a><span id="l2.183" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.184"></a><span id="l2.184" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.185"></a><span id="l2.185">   background-position: top left;</span>
<a href="#l2.186"></a><span id="l2.186"> }</span>
<a href="#l2.187"></a><span id="l2.187"> </span>
<a href="#l2.188"></a><span id="l2.188"> cite {</span>
<a href="#l2.189"></a><span id="l2.189">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.190"></a><span id="l2.190" class="difflineminus">-  padding-left: 39px; </span>
<a href="#l2.191"></a><span id="l2.191" class="difflineplus">+  padding-left: 39px;</span>
<a href="#l2.192"></a><span id="l2.192">   background-image: url(chrome://editor/content/images/tag-cit.gif);</span>
<a href="#l2.193"></a><span id="l2.193" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.194"></a><span id="l2.194" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.195"></a><span id="l2.195">   background-position: top left;</span>
<a href="#l2.196"></a><span id="l2.196"> }</span>
<a href="#l2.197"></a><span id="l2.197"> </span>
<a href="#l2.198"></a><span id="l2.198"> code {</span>
<a href="#l2.199"></a><span id="l2.199">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.200"></a><span id="l2.200" class="difflineminus">-  padding-left: 39px; </span>
<a href="#l2.201"></a><span id="l2.201" class="difflineplus">+  padding-left: 39px;</span>
<a href="#l2.202"></a><span id="l2.202">   background-image: url(chrome://editor/content/images/tag-cod.gif);</span>
<a href="#l2.203"></a><span id="l2.203" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.204"></a><span id="l2.204" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.205"></a><span id="l2.205">   background-position: top left;</span>
<a href="#l2.206"></a><span id="l2.206"> }</span>
<a href="#l2.207"></a><span id="l2.207"> </span>
<a href="#l2.208"></a><span id="l2.208"> col {</span>
<a href="#l2.209"></a><span id="l2.209">   min-height: 35px; margin-left: 2px;</span>
<a href="#l2.210"></a><span id="l2.210" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.211"></a><span id="l2.211" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.212"></a><span id="l2.212">   background-image: url(chrome://editor/content/images/tag-col.gif);</span>
<a href="#l2.213"></a><span id="l2.213" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.214"></a><span id="l2.214" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.215"></a><span id="l2.215">   background-position: top left;</span>
<a href="#l2.216"></a><span id="l2.216"> }</span>
<a href="#l2.217"></a><span id="l2.217"> </span>
<a href="#l2.218"></a><span id="l2.218"> colgroup {</span>
<a href="#l2.219"></a><span id="l2.219">   min-height: 35px; margin-left: 2px;</span>
<a href="#l2.220"></a><span id="l2.220" class="difflineminus">-  padding-left: 51px; </span>
<a href="#l2.221"></a><span id="l2.221" class="difflineplus">+  padding-left: 51px;</span>
<a href="#l2.222"></a><span id="l2.222">   background-image: url(chrome://editor/content/images/tag-clg.gif);</span>
<a href="#l2.223"></a><span id="l2.223" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.224"></a><span id="l2.224" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.225"></a><span id="l2.225">   background-position: top left;</span>
<a href="#l2.226"></a><span id="l2.226"> }</span>
<a href="#l2.227"></a><span id="l2.227"> </span>
<a href="#l2.228"></a><span id="l2.228"> dd {</span>
<a href="#l2.229"></a><span id="l2.229">   min-height: 35px; margin-top: 2px;</span>
<a href="#l2.230"></a><span id="l2.230" class="difflineminus">-  padding-left: 23px; </span>
<a href="#l2.231"></a><span id="l2.231" class="difflineplus">+  padding-left: 23px;</span>
<a href="#l2.232"></a><span id="l2.232">   background-image: url(chrome://editor/content/images/tag-dd.gif);</span>
<a href="#l2.233"></a><span id="l2.233" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.234"></a><span id="l2.234" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.235"></a><span id="l2.235">   background-position: top left;</span>
<a href="#l2.236"></a><span id="l2.236"> }</span>
<a href="#l2.237"></a><span id="l2.237"> </span>
<a href="#l2.238"></a><span id="l2.238"> del {</span>
<a href="#l2.239"></a><span id="l2.239">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.240"></a><span id="l2.240" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.241"></a><span id="l2.241" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.242"></a><span id="l2.242">   background-image: url(chrome://editor/content/images/tag-del.gif);</span>
<a href="#l2.243"></a><span id="l2.243" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.244"></a><span id="l2.244" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.245"></a><span id="l2.245">   background-position: top left;</span>
<a href="#l2.246"></a><span id="l2.246"> }</span>
<a href="#l2.247"></a><span id="l2.247"> </span>
<a href="#l2.248"></a><span id="l2.248"> dfn {</span>
<a href="#l2.249"></a><span id="l2.249">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.250"></a><span id="l2.250" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.251"></a><span id="l2.251" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.252"></a><span id="l2.252">   background-image: url(chrome://editor/content/images/tag-dfn.gif);</span>
<a href="#l2.253"></a><span id="l2.253" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.254"></a><span id="l2.254" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.255"></a><span id="l2.255">   background-position: top left;</span>
<a href="#l2.256"></a><span id="l2.256"> }</span>
<a href="#l2.257"></a><span id="l2.257"> </span>
<a href="#l2.258"></a><span id="l2.258"> dir {</span>
<a href="#l2.259"></a><span id="l2.259">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.260"></a><span id="l2.260" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.261"></a><span id="l2.261" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.262"></a><span id="l2.262">   background-image: url(chrome://editor/content/images/tag-dir.gif);</span>
<a href="#l2.263"></a><span id="l2.263" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.264"></a><span id="l2.264" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.265"></a><span id="l2.265">   background-position: top left;</span>
<a href="#l2.266"></a><span id="l2.266"> }</span>
<a href="#l2.267"></a><span id="l2.267"> </span>
<a href="#l2.268"></a><span id="l2.268"> div {</span>
<a href="#l2.269"></a><span id="l2.269">   min-height: 24px; margin-top: 2px;</span>
<a href="#l2.270"></a><span id="l2.270">   /* TEMPORARY TO COMPENSATE FOR BUG */</span>
<a href="#l2.271"></a><span id="l2.271" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.272"></a><span id="l2.272" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.273"></a><span id="l2.273">   background-image: url(chrome://editor/content/images/tag-div.gif);</span>
<a href="#l2.274"></a><span id="l2.274" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.275"></a><span id="l2.275" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.276"></a><span id="l2.276">   background-position: top left;</span>
<a href="#l2.277"></a><span id="l2.277"> }</span>
<a href="#l2.278"></a><span id="l2.278"> </span>
<a href="#l2.279"></a><span id="l2.279"> input div {</span>
<a href="#l2.280"></a><span id="l2.280">   min-height: 0px; margin-left: 0px; margin-top: 0px;</span>
<a href="#l2.281"></a><span id="l2.281" class="difflineminus">-  padding-left: 0px; </span>
<a href="#l2.282"></a><span id="l2.282" class="difflineplus">+  padding-left: 0px;</span>
<a href="#l2.283"></a><span id="l2.283">   background-image: none;</span>
<a href="#l2.284"></a><span id="l2.284"> }</span>
<a href="#l2.285"></a><span id="l2.285"> </span>
<a href="#l2.286"></a><span id="l2.286"> dl {</span>
<a href="#l2.287"></a><span id="l2.287">   min-height: 20px; margin-top: 2px;</span>
<a href="#l2.288"></a><span id="l2.288" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.289"></a><span id="l2.289" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.290"></a><span id="l2.290">   background-image: url(chrome://editor/content/images/tag-dl.gif);</span>
<a href="#l2.291"></a><span id="l2.291" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.292"></a><span id="l2.292" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.293"></a><span id="l2.293">   background-position: top left;</span>
<a href="#l2.294"></a><span id="l2.294"> }</span>
<a href="#l2.295"></a><span id="l2.295"> </span>
<a href="#l2.296"></a><span id="l2.296"> dt {</span>
<a href="#l2.297"></a><span id="l2.297">   min-height: 35px; margin-top: 2px;</span>
<a href="#l2.298"></a><span id="l2.298" class="difflineminus">-  padding-left: 23px; </span>
<a href="#l2.299"></a><span id="l2.299" class="difflineplus">+  padding-left: 23px;</span>
<a href="#l2.300"></a><span id="l2.300">   background-image: url(chrome://editor/content/images/tag-dt.gif);</span>
<a href="#l2.301"></a><span id="l2.301" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.302"></a><span id="l2.302" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.303"></a><span id="l2.303">   background-position: top left;</span>
<a href="#l2.304"></a><span id="l2.304"> }</span>
<a href="#l2.305"></a><span id="l2.305"> </span>
<a href="#l2.306"></a><span id="l2.306"> em {</span>
<a href="#l2.307"></a><span id="l2.307">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.308"></a><span id="l2.308" class="difflineminus">-  padding-left: 23px; </span>
<a href="#l2.309"></a><span id="l2.309" class="difflineplus">+  padding-left: 23px;</span>
<a href="#l2.310"></a><span id="l2.310">   background-image: url(chrome://editor/content/images/tag-em.gif);</span>
<a href="#l2.311"></a><span id="l2.311" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.312"></a><span id="l2.312" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.313"></a><span id="l2.313">   background-position: top left;</span>
<a href="#l2.314"></a><span id="l2.314"> }</span>
<a href="#l2.315"></a><span id="l2.315"> </span>
<a href="#l2.316"></a><span id="l2.316"> fieldset {</span>
<a href="#l2.317"></a><span id="l2.317">   min-height: 44px; margin-top: 2px;</span>
<a href="#l2.318"></a><span id="l2.318" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.319"></a><span id="l2.319" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.320"></a><span id="l2.320">   background-image: url(chrome://editor/content/images/tag-fld.gif);</span>
<a href="#l2.321"></a><span id="l2.321" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.322"></a><span id="l2.322" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.323"></a><span id="l2.323">   background-position: top left;</span>
<a href="#l2.324"></a><span id="l2.324"> }</span>
<a href="#l2.325"></a><span id="l2.325"> </span>
<a href="#l2.326"></a><span id="l2.326"> font {</span>
<a href="#l2.327"></a><span id="l2.327">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.328"></a><span id="l2.328" class="difflineminus">-  padding-left: 39px; </span>
<a href="#l2.329"></a><span id="l2.329" class="difflineplus">+  padding-left: 39px;</span>
<a href="#l2.330"></a><span id="l2.330">   background-image: url(chrome://editor/content/images/tag-fnt.gif);</span>
<a href="#l2.331"></a><span id="l2.331" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.332"></a><span id="l2.332" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.333"></a><span id="l2.333">   background-position: top left;</span>
<a href="#l2.334"></a><span id="l2.334"> }</span>
<a href="#l2.335"></a><span id="l2.335"> </span>
<a href="#l2.336"></a><span id="l2.336"> form {</span>
<a href="#l2.337"></a><span id="l2.337">   min-height: 36px; margin-top: 2px;</span>
<a href="#l2.338"></a><span id="l2.338" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.339"></a><span id="l2.339" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.340"></a><span id="l2.340">   background-image: url(chrome://editor/content/images/tag-for.gif);</span>
<a href="#l2.341"></a><span id="l2.341" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.342"></a><span id="l2.342" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.343"></a><span id="l2.343">   background-position: top left;</span>
<a href="#l2.344"></a><span id="l2.344"> }</span>
<a href="#l2.345"></a><span id="l2.345"> </span>
<a href="#l2.346"></a><span id="l2.346"> frame {</span>
<a href="#l2.347"></a><span id="l2.347">   min-height: 40px; margin-left: 2px;</span>
<a href="#l2.348"></a><span id="l2.348" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.349"></a><span id="l2.349" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.350"></a><span id="l2.350">   background-image: url(chrome://editor/content/images/tag-frm.gif);</span>
<a href="#l2.351"></a><span id="l2.351" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.352"></a><span id="l2.352" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.353"></a><span id="l2.353">   background-position: top left;</span>
<a href="#l2.354"></a><span id="l2.354"> }</span>
<a href="#l2.355"></a><span id="l2.355"> </span>
<a href="#l2.356"></a><span id="l2.356"> frameset {</span>
<a href="#l2.357"></a><span id="l2.357">   min-height: 44px; margin-left: 2px;</span>
<a href="#l2.358"></a><span id="l2.358" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.359"></a><span id="l2.359" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.360"></a><span id="l2.360">   background-image: url(chrome://editor/content/images/tag-fst.gif);</span>
<a href="#l2.361"></a><span id="l2.361" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.362"></a><span id="l2.362" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.363"></a><span id="l2.363">   background-position: top left;</span>
<a href="#l2.364"></a><span id="l2.364"> }</span>
<a href="#l2.365"></a><span id="l2.365"> </span>
<a href="#l2.366"></a><span id="l2.366"> h1 {</span>
<a href="#l2.367"></a><span id="l2.367">   min-height: 20px; margin-top: 2px;</span>
<a href="#l2.368"></a><span id="l2.368" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.369"></a><span id="l2.369" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.370"></a><span id="l2.370">   background-image: url(chrome://editor/content/images/tag-h1.gif);</span>
<a href="#l2.371"></a><span id="l2.371" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.372"></a><span id="l2.372" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.373"></a><span id="l2.373">   background-position: top left;</span>
<a href="#l2.374"></a><span id="l2.374"> }</span>
<a href="#l2.375"></a><span id="l2.375"> </span>
<a href="#l2.376"></a><span id="l2.376"> h2 {</span>
<a href="#l2.377"></a><span id="l2.377">   min-height: 20px; margin-top: 2px;</span>
<a href="#l2.378"></a><span id="l2.378" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.379"></a><span id="l2.379" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.380"></a><span id="l2.380">   background-image: url(chrome://editor/content/images/tag-h2.gif);</span>
<a href="#l2.381"></a><span id="l2.381" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.382"></a><span id="l2.382" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.383"></a><span id="l2.383">   background-position: top left;</span>
<a href="#l2.384"></a><span id="l2.384"> }</span>
<a href="#l2.385"></a><span id="l2.385"> </span>
<a href="#l2.386"></a><span id="l2.386"> h3 {</span>
<a href="#l2.387"></a><span id="l2.387">   min-height: 20px; margin-top: 2px;</span>
<a href="#l2.388"></a><span id="l2.388" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.389"></a><span id="l2.389" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.390"></a><span id="l2.390">   background-image: url(chrome://editor/content/images/tag-h3.gif);</span>
<a href="#l2.391"></a><span id="l2.391" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.392"></a><span id="l2.392" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.393"></a><span id="l2.393">   background-position: top left;</span>
<a href="#l2.394"></a><span id="l2.394"> }</span>
<a href="#l2.395"></a><span id="l2.395"> </span>
<a href="#l2.396"></a><span id="l2.396"> h4 {</span>
<a href="#l2.397"></a><span id="l2.397">   min-height: 20px; margin-top: 2px;</span>
<a href="#l2.398"></a><span id="l2.398" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.399"></a><span id="l2.399" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.400"></a><span id="l2.400">   background-image: url(chrome://editor/content/images/tag-h4.gif);</span>
<a href="#l2.401"></a><span id="l2.401" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.402"></a><span id="l2.402" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.403"></a><span id="l2.403">   background-position: top left;</span>
<a href="#l2.404"></a><span id="l2.404"> }</span>
<a href="#l2.405"></a><span id="l2.405"> </span>
<a href="#l2.406"></a><span id="l2.406"> h5 {</span>
<a href="#l2.407"></a><span id="l2.407">   min-height: 20px; margin-top: 2px;</span>
<a href="#l2.408"></a><span id="l2.408" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.409"></a><span id="l2.409" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.410"></a><span id="l2.410">   background-image: url(chrome://editor/content/images/tag-h5.gif);</span>
<a href="#l2.411"></a><span id="l2.411" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.412"></a><span id="l2.412" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.413"></a><span id="l2.413">   background-position: top left;</span>
<a href="#l2.414"></a><span id="l2.414"> }</span>
<a href="#l2.415"></a><span id="l2.415"> </span>
<a href="#l2.416"></a><span id="l2.416"> h6 {</span>
<a href="#l2.417"></a><span id="l2.417">   min-height: 20px; margin-top: 2px;</span>
<a href="#l2.418"></a><span id="l2.418" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.419"></a><span id="l2.419" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.420"></a><span id="l2.420">   background-image: url(chrome://editor/content/images/tag-h6.gif);</span>
<a href="#l2.421"></a><span id="l2.421" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.422"></a><span id="l2.422" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.423"></a><span id="l2.423">   background-position: top left;</span>
<a href="#l2.424"></a><span id="l2.424"> }</span>
<a href="#l2.425"></a><span id="l2.425"> </span>
<a href="#l2.426"></a><span id="l2.426"> hr {</span>
<a href="#l2.427"></a><span id="l2.427">   min-height: 20px; margin-top: 2px;</span>
<a href="#l2.428"></a><span id="l2.428" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.429"></a><span id="l2.429" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.430"></a><span id="l2.430">   background-image: url(chrome://editor/content/images/tag-hr.gif);</span>
<a href="#l2.431"></a><span id="l2.431" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.432"></a><span id="l2.432" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.433"></a><span id="l2.433">   background-position: top left;</span>
<a href="#l2.434"></a><span id="l2.434"> }</span>
<a href="#l2.435"></a><span id="l2.435"> </span>
<a href="#l2.436"></a><span id="l2.436"> i {</span>
<a href="#l2.437"></a><span id="l2.437">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.438"></a><span id="l2.438" class="difflineminus">-  padding-left: 20px; </span>
<a href="#l2.439"></a><span id="l2.439" class="difflineplus">+  padding-left: 20px;</span>
<a href="#l2.440"></a><span id="l2.440">   background-image: url(chrome://editor/content/images/tag-i.gif);</span>
<a href="#l2.441"></a><span id="l2.441" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.442"></a><span id="l2.442" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.443"></a><span id="l2.443">   background-position: top left;</span>
<a href="#l2.444"></a><span id="l2.444"> }</span>
<a href="#l2.445"></a><span id="l2.445"> </span>
<a href="#l2.446"></a><span id="l2.446"> iframe {</span>
<a href="#l2.447"></a><span id="l2.447">   min-height: 35px; margin-left: 2px;</span>
<a href="#l2.448"></a><span id="l2.448" class="difflineminus">-  padding-left: 47px; </span>
<a href="#l2.449"></a><span id="l2.449" class="difflineplus">+  padding-left: 47px;</span>
<a href="#l2.450"></a><span id="l2.450">   background-image: url(chrome://editor/content/images/tag-ifr.gif);</span>
<a href="#l2.451"></a><span id="l2.451" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.452"></a><span id="l2.452" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.453"></a><span id="l2.453">   background-position: top left;</span>
<a href="#l2.454"></a><span id="l2.454"> }</span>
<a href="#l2.455"></a><span id="l2.455"> </span>
<a href="#l2.456"></a><span id="l2.456"> img:not([\_moz_anonclass]) {</span>
<a href="#l2.457"></a><span id="l2.457">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.458"></a><span id="l2.458" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.459"></a><span id="l2.459" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.460"></a><span id="l2.460">   background-image: url(chrome://editor/content/images/tag-img.gif);</span>
<a href="#l2.461"></a><span id="l2.461" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.462"></a><span id="l2.462" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.463"></a><span id="l2.463">   background-position: top left;</span>
<a href="#l2.464"></a><span id="l2.464"> }</span>
<a href="#l2.465"></a><span id="l2.465"> </span>
<a href="#l2.466"></a><span id="l2.466"> input {</span>
<a href="#l2.467"></a><span id="l2.467">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.468"></a><span id="l2.468" class="difflineminus">-  padding-left: 39px; </span>
<a href="#l2.469"></a><span id="l2.469" class="difflineplus">+  padding-left: 39px;</span>
<a href="#l2.470"></a><span id="l2.470">   background-image: url(chrome://editor/content/images/tag-inp.gif);</span>
<a href="#l2.471"></a><span id="l2.471" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.472"></a><span id="l2.472" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.473"></a><span id="l2.473">   background-position: top left;</span>
<a href="#l2.474"></a><span id="l2.474"> }</span>
<a href="#l2.475"></a><span id="l2.475"> </span>
<a href="#l2.476"></a><span id="l2.476"> ins {</span>
<a href="#l2.477"></a><span id="l2.477">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.478"></a><span id="l2.478" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.479"></a><span id="l2.479" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.480"></a><span id="l2.480">   background-image: url(chrome://editor/content/images/tag-ins.gif);</span>
<a href="#l2.481"></a><span id="l2.481" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.482"></a><span id="l2.482" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.483"></a><span id="l2.483">   background-position: top left;</span>
<a href="#l2.484"></a><span id="l2.484"> }</span>
<a href="#l2.485"></a><span id="l2.485"> </span>
<a href="#l2.486"></a><span id="l2.486"> isindex {</span>
<a href="#l2.487"></a><span id="l2.487">   min-height: 40px; margin-left: 2px;</span>
<a href="#l2.488"></a><span id="l2.488" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.489"></a><span id="l2.489" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.490"></a><span id="l2.490">   background-image: url(chrome://editor/content/images/tag-isx.gif);</span>
<a href="#l2.491"></a><span id="l2.491" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.492"></a><span id="l2.492" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.493"></a><span id="l2.493">   background-position: top left;</span>
<a href="#l2.494"></a><span id="l2.494"> }</span>
<a href="#l2.495"></a><span id="l2.495"> </span>
<a href="#l2.496"></a><span id="l2.496"> kbd {</span>
<a href="#l2.497"></a><span id="l2.497">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.498"></a><span id="l2.498" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.499"></a><span id="l2.499" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.500"></a><span id="l2.500">   background-image: url(chrome://editor/content/images/tag-kbd.gif);</span>
<a href="#l2.501"></a><span id="l2.501" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.502"></a><span id="l2.502" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.503"></a><span id="l2.503">   background-position: top left;</span>
<a href="#l2.504"></a><span id="l2.504"> }</span>
<a href="#l2.505"></a><span id="l2.505"> </span>
<a href="#l2.506"></a><span id="l2.506"> label {</span>
<a href="#l2.507"></a><span id="l2.507">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.508"></a><span id="l2.508" class="difflineminus">-  padding-left: 39px; </span>
<a href="#l2.509"></a><span id="l2.509" class="difflineplus">+  padding-left: 39px;</span>
<a href="#l2.510"></a><span id="l2.510">   background-image: url(chrome://editor/content/images/tag-lbl.gif);</span>
<a href="#l2.511"></a><span id="l2.511" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.512"></a><span id="l2.512" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.513"></a><span id="l2.513">   background-position: top left;</span>
<a href="#l2.514"></a><span id="l2.514"> }</span>
<a href="#l2.515"></a><span id="l2.515"> </span>
<a href="#l2.516"></a><span id="l2.516"> legend {</span>
<a href="#l2.517"></a><span id="l2.517">   min-height: 35px; margin-top: 2px;</span>
<a href="#l2.518"></a><span id="l2.518" class="difflineminus">-  padding-left: 49px; </span>
<a href="#l2.519"></a><span id="l2.519" class="difflineplus">+  padding-left: 49px;</span>
<a href="#l2.520"></a><span id="l2.520">   background-image: url(chrome://editor/content/images/tag-lgn.gif);</span>
<a href="#l2.521"></a><span id="l2.521" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.522"></a><span id="l2.522" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.523"></a><span id="l2.523">   background-position: top left;</span>
<a href="#l2.524"></a><span id="l2.524"> }</span>
<a href="#l2.525"></a><span id="l2.525"> </span>
<a href="#l2.526"></a><span id="l2.526"> li {</span>
<a href="#l2.527"></a><span id="l2.527">   min-height: 35px; margin-top: 2px;</span>
<a href="#l2.528"></a><span id="l2.528" class="difflineminus">-  padding-left: 23px; </span>
<a href="#l2.529"></a><span id="l2.529" class="difflineplus">+  padding-left: 23px;</span>
<a href="#l2.530"></a><span id="l2.530">   background-image: url(chrome://editor/content/images/tag-li.gif);</span>
<a href="#l2.531"></a><span id="l2.531" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.532"></a><span id="l2.532" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.533"></a><span id="l2.533">   background-position: top left;</span>
<a href="#l2.534"></a><span id="l2.534"> }</span>
<a href="#l2.535"></a><span id="l2.535"> </span>
<a href="#l2.536"></a><span id="l2.536"> listing {</span>
<a href="#l2.537"></a><span id="l2.537">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.538"></a><span id="l2.538" class="difflineminus">-  padding-left: 57px; </span>
<a href="#l2.539"></a><span id="l2.539" class="difflineplus">+  padding-left: 57px;</span>
<a href="#l2.540"></a><span id="l2.540">   background-image: url(chrome://editor/content/images/tag-lst.gif);</span>
<a href="#l2.541"></a><span id="l2.541" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.542"></a><span id="l2.542" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.543"></a><span id="l2.543">   background-position: top left;</span>
<a href="#l2.544"></a><span id="l2.544"> }</span>
<a href="#l2.545"></a><span id="l2.545"> </span>
<a href="#l2.546"></a><span id="l2.546"> map {</span>
<a href="#l2.547"></a><span id="l2.547">   min-height: 35px; margin-left: 2px;</span>
<a href="#l2.548"></a><span id="l2.548" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.549"></a><span id="l2.549" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.550"></a><span id="l2.550">   background-image: url(chrome://editor/content/images/tag-map.gif);</span>
<a href="#l2.551"></a><span id="l2.551" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.552"></a><span id="l2.552" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.553"></a><span id="l2.553">   background-position: top left;</span>
<a href="#l2.554"></a><span id="l2.554"> }</span>
<a href="#l2.555"></a><span id="l2.555"> </span>
<a href="#l2.556"></a><span id="l2.556"> menu {</span>
<a href="#l2.557"></a><span id="l2.557">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.558"></a><span id="l2.558" class="difflineminus">-  padding-left: 39px; </span>
<a href="#l2.559"></a><span id="l2.559" class="difflineplus">+  padding-left: 39px;</span>
<a href="#l2.560"></a><span id="l2.560">   background-image: url(chrome://editor/content/images/tag-men.gif);</span>
<a href="#l2.561"></a><span id="l2.561" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.562"></a><span id="l2.562" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.563"></a><span id="l2.563">   background-position: top left;</span>
<a href="#l2.564"></a><span id="l2.564"> }</span>
<a href="#l2.565"></a><span id="l2.565"> </span>
<a href="#l2.566"></a><span id="l2.566"> nobr {</span>
<a href="#l2.567"></a><span id="l2.567">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.568"></a><span id="l2.568" class="difflineminus">-  padding-left: 39px; </span>
<a href="#l2.569"></a><span id="l2.569" class="difflineplus">+  padding-left: 39px;</span>
<a href="#l2.570"></a><span id="l2.570">   background-image: url(chrome://editor/content/images/tag-nbr.gif);</span>
<a href="#l2.571"></a><span id="l2.571" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.572"></a><span id="l2.572" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.573"></a><span id="l2.573">   background-position: top left;</span>
<a href="#l2.574"></a><span id="l2.574"> }</span>
<a href="#l2.575"></a><span id="l2.575"> </span>
<a href="#l2.576"></a><span id="l2.576"> noframes {</span>
<a href="#l2.577"></a><span id="l2.577">   min-height: 44px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.578"></a><span id="l2.578" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.579"></a><span id="l2.579" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.580"></a><span id="l2.580">   background-image: url(chrome://editor/content/images/tag-nfr.gif);</span>
<a href="#l2.581"></a><span id="l2.581" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.582"></a><span id="l2.582" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.583"></a><span id="l2.583">   background-position: top left;</span>
<a href="#l2.584"></a><span id="l2.584"> }</span>
<a href="#l2.585"></a><span id="l2.585"> </span>
<a href="#l2.586"></a><span id="l2.586"> noscript {</span>
<a href="#l2.587"></a><span id="l2.587">   min-height: 44px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.588"></a><span id="l2.588" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.589"></a><span id="l2.589" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.590"></a><span id="l2.590">   background-image: url(chrome://editor/content/images/tag-nsc.gif);</span>
<a href="#l2.591"></a><span id="l2.591" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.592"></a><span id="l2.592" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.593"></a><span id="l2.593">   background-position: top left;</span>
<a href="#l2.594"></a><span id="l2.594"> }</span>
<a href="#l2.595"></a><span id="l2.595"> </span>
<a href="#l2.596"></a><span id="l2.596"> object {</span>
<a href="#l2.597"></a><span id="l2.597">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.598"></a><span id="l2.598" class="difflineminus">-  padding-left: 49px; </span>
<a href="#l2.599"></a><span id="l2.599" class="difflineplus">+  padding-left: 49px;</span>
<a href="#l2.600"></a><span id="l2.600">   background-image: url(chrome://editor/content/images/tag-obj.gif);</span>
<a href="#l2.601"></a><span id="l2.601" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.602"></a><span id="l2.602" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.603"></a><span id="l2.603">   background-position: top left;</span>
<a href="#l2.604"></a><span id="l2.604"> }</span>
<a href="#l2.605"></a><span id="l2.605"> </span>
<a href="#l2.606"></a><span id="l2.606"> ol {</span>
<a href="#l2.607"></a><span id="l2.607">   min-height: 38px;</span>
<a href="#l2.608"></a><span id="l2.608" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.609"></a><span id="l2.609" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.610"></a><span id="l2.610">   background-image: url(chrome://editor/content/images/tag-ol.gif);</span>
<a href="#l2.611"></a><span id="l2.611" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.612"></a><span id="l2.612" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.613"></a><span id="l2.613">   background-position: top left;</span>
<a href="#l2.614"></a><span id="l2.614"> }</span>
<a href="#l2.615"></a><span id="l2.615"> </span>
<a href="#l2.616"></a><span id="l2.616"> optgroup {</span>
<a href="#l2.617"></a><span id="l2.617">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.618"></a><span id="l2.618" class="difflineminus">-  padding-left: 51px; </span>
<a href="#l2.619"></a><span id="l2.619" class="difflineplus">+  padding-left: 51px;</span>
<a href="#l2.620"></a><span id="l2.620">   background-image: url(chrome://editor/content/images/tag-opg.gif);</span>
<a href="#l2.621"></a><span id="l2.621" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.622"></a><span id="l2.622" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.623"></a><span id="l2.623">   background-position: top left;</span>
<a href="#l2.624"></a><span id="l2.624"> }</span>
<a href="#l2.625"></a><span id="l2.625"> </span>
<a href="#l2.626"></a><span id="l2.626"> option {</span>
<a href="#l2.627"></a><span id="l2.627">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.628"></a><span id="l2.628" class="difflineminus">-  padding-left: 47px; </span>
<a href="#l2.629"></a><span id="l2.629" class="difflineplus">+  padding-left: 47px;</span>
<a href="#l2.630"></a><span id="l2.630">   background-image: url(chrome://editor/content/images/tag-opt.gif);</span>
<a href="#l2.631"></a><span id="l2.631" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.632"></a><span id="l2.632" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.633"></a><span id="l2.633">   background-position: top left;</span>
<a href="#l2.634"></a><span id="l2.634"> }</span>
<a href="#l2.635"></a><span id="l2.635"> </span>
<a href="#l2.636"></a><span id="l2.636"> p {</span>
<a href="#l2.637"></a><span id="l2.637">   min-height: 38px; margin-top: 2px;</span>
<a href="#l2.638"></a><span id="l2.638" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.639"></a><span id="l2.639" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.640"></a><span id="l2.640">   background-image: url(chrome://editor/content/images/tag-p.gif);</span>
<a href="#l2.641"></a><span id="l2.641" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.642"></a><span id="l2.642" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.643"></a><span id="l2.643">   background-position: top left;</span>
<a href="#l2.644"></a><span id="l2.644"> }</span>
<a href="#l2.645"></a><span id="l2.645"> </span>
<a href="#l2.646"></a><span id="l2.646"> param {</span>
<a href="#l2.647"></a><span id="l2.647">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.648"></a><span id="l2.648" class="difflineminus">-  padding-left: 43px; </span>
<a href="#l2.649"></a><span id="l2.649" class="difflineplus">+  padding-left: 43px;</span>
<a href="#l2.650"></a><span id="l2.650">   background-image: url(chrome://editor/content/images/tag-prm.gif);</span>
<a href="#l2.651"></a><span id="l2.651" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.652"></a><span id="l2.652" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.653"></a><span id="l2.653">   background-position: top left;</span>
<a href="#l2.654"></a><span id="l2.654"> }</span>
<a href="#l2.655"></a><span id="l2.655"> </span>
<a href="#l2.656"></a><span id="l2.656"> plaintext {</span>
<a href="#l2.657"></a><span id="l2.657">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.658"></a><span id="l2.658" class="difflineminus">-  padding-left: 57px; </span>
<a href="#l2.659"></a><span id="l2.659" class="difflineplus">+  padding-left: 57px;</span>
<a href="#l2.660"></a><span id="l2.660">   background-image: url(chrome://editor/content/images/tag-pln.gif);</span>
<a href="#l2.661"></a><span id="l2.661" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.662"></a><span id="l2.662" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.663"></a><span id="l2.663">   background-position: top left;</span>
<a href="#l2.664"></a><span id="l2.664"> }</span>
<a href="#l2.665"></a><span id="l2.665"> </span>
<a href="#l2.666"></a><span id="l2.666"> pre {</span>
<a href="#l2.667"></a><span id="l2.667">   min-height: 24px; margin-top: 2px;</span>
<a href="#l2.668"></a><span id="l2.668" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.669"></a><span id="l2.669" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.670"></a><span id="l2.670">   background-image: url(chrome://editor/content/images/tag-pre.gif);</span>
<a href="#l2.671"></a><span id="l2.671" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.672"></a><span id="l2.672" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.673"></a><span id="l2.673">   background-position: top left;</span>
<a href="#l2.674"></a><span id="l2.674"> }</span>
<a href="#l2.675"></a><span id="l2.675"> </span>
<a href="#l2.676"></a><span id="l2.676"> q {</span>
<a href="#l2.677"></a><span id="l2.677">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.678"></a><span id="l2.678" class="difflineminus">-  padding-left: 20px; </span>
<a href="#l2.679"></a><span id="l2.679" class="difflineplus">+  padding-left: 20px;</span>
<a href="#l2.680"></a><span id="l2.680">   background-image: url(chrome://editor/content/images/tag-q.gif);</span>
<a href="#l2.681"></a><span id="l2.681" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.682"></a><span id="l2.682" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.683"></a><span id="l2.683">   background-position: top left;</span>
<a href="#l2.684"></a><span id="l2.684"> }</span>
<a href="#l2.685"></a><span id="l2.685"> </span>
<a href="#l2.686"></a><span id="l2.686"> s {</span>
<a href="#l2.687"></a><span id="l2.687">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.688"></a><span id="l2.688" class="difflineminus">-  padding-left: 20px; </span>
<a href="#l2.689"></a><span id="l2.689" class="difflineplus">+  padding-left: 20px;</span>
<a href="#l2.690"></a><span id="l2.690">   background-image: url(chrome://editor/content/images/tag-s.gif);</span>
<a href="#l2.691"></a><span id="l2.691" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.692"></a><span id="l2.692" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.693"></a><span id="l2.693">   background-position: top left;</span>
<a href="#l2.694"></a><span id="l2.694"> }</span>
<a href="#l2.695"></a><span id="l2.695"> </span>
<a href="#l2.696"></a><span id="l2.696"> samp {</span>
<a href="#l2.697"></a><span id="l2.697">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.698"></a><span id="l2.698" class="difflineminus">-  padding-left: 39px; </span>
<a href="#l2.699"></a><span id="l2.699" class="difflineplus">+  padding-left: 39px;</span>
<a href="#l2.700"></a><span id="l2.700">   background-image: url(chrome://editor/content/images/tag-smp.gif);</span>
<a href="#l2.701"></a><span id="l2.701" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.702"></a><span id="l2.702" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.703"></a><span id="l2.703">   background-position: top left;</span>
<a href="#l2.704"></a><span id="l2.704"> }</span>
<a href="#l2.705"></a><span id="l2.705"> </span>
<a href="#l2.706"></a><span id="l2.706"> script {</span>
<a href="#l2.707"></a><span id="l2.707">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.708"></a><span id="l2.708" class="difflineminus">-  padding-left: 45px; </span>
<a href="#l2.709"></a><span id="l2.709" class="difflineplus">+  padding-left: 45px;</span>
<a href="#l2.710"></a><span id="l2.710">   background-image: url(chrome://editor/content/images/tag-scr.gif);</span>
<a href="#l2.711"></a><span id="l2.711" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.712"></a><span id="l2.712" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.713"></a><span id="l2.713">   background-position: top left;</span>
<a href="#l2.714"></a><span id="l2.714"> }</span>
<a href="#l2.715"></a><span id="l2.715"> </span>
<a href="#l2.716"></a><span id="l2.716"> select {</span>
<a href="#l2.717"></a><span id="l2.717">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.718"></a><span id="l2.718" class="difflineminus">-  padding-left: 47px; </span>
<a href="#l2.719"></a><span id="l2.719" class="difflineplus">+  padding-left: 47px;</span>
<a href="#l2.720"></a><span id="l2.720">   background-image: url(chrome://editor/content/images/tag-slc.gif);</span>
<a href="#l2.721"></a><span id="l2.721" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.722"></a><span id="l2.722" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.723"></a><span id="l2.723">   background-position: top left;</span>
<a href="#l2.724"></a><span id="l2.724"> }</span>
<a href="#l2.725"></a><span id="l2.725"> </span>
<a href="#l2.726"></a><span id="l2.726"> small {</span>
<a href="#l2.727"></a><span id="l2.727">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.728"></a><span id="l2.728" class="difflineminus">-  padding-left: 41px; </span>
<a href="#l2.729"></a><span id="l2.729" class="difflineplus">+  padding-left: 41px;</span>
<a href="#l2.730"></a><span id="l2.730">   background-image: url(chrome://editor/content/images/tag-sml.gif);</span>
<a href="#l2.731"></a><span id="l2.731" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.732"></a><span id="l2.732" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.733"></a><span id="l2.733">   background-position: top left;</span>
<a href="#l2.734"></a><span id="l2.734"> }</span>
<a href="#l2.735"></a><span id="l2.735"> </span>
<a href="#l2.736"></a><span id="l2.736"> span:not([\_moz_anonclass]) {</span>
<a href="#l2.737"></a><span id="l2.737">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.738"></a><span id="l2.738">   /* TEMPORARY TO COMPENSATE FOR BUG */</span>
<a href="#l2.739"></a><span id="l2.739" class="difflineminus">-  padding-left: 39px; </span>
<a href="#l2.740"></a><span id="l2.740" class="difflineplus">+  padding-left: 39px;</span>
<a href="#l2.741"></a><span id="l2.741">   background-image: url(chrome://editor/content/images/tag-spn.gif);</span>
<a href="#l2.742"></a><span id="l2.742" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.743"></a><span id="l2.743" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.744"></a><span id="l2.744">   background-position: top left;</span>
<a href="#l2.745"></a><span id="l2.745"> }</span>
<a href="#l2.746"></a><span id="l2.746"> </span>
<a href="#l2.747"></a><span id="l2.747"> strike {</span>
<a href="#l2.748"></a><span id="l2.748">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.749"></a><span id="l2.749" class="difflineminus">-  padding-left: 45px; </span>
<a href="#l2.750"></a><span id="l2.750" class="difflineplus">+  padding-left: 45px;</span>
<a href="#l2.751"></a><span id="l2.751">   background-image: url(chrome://editor/content/images/tag-stk.gif);</span>
<a href="#l2.752"></a><span id="l2.752" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.753"></a><span id="l2.753" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.754"></a><span id="l2.754">   background-position: top left;</span>
<a href="#l2.755"></a><span id="l2.755"> }</span>
<a href="#l2.756"></a><span id="l2.756"> </span>
<a href="#l2.757"></a><span id="l2.757"> strong {</span>
<a href="#l2.758"></a><span id="l2.758">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.759"></a><span id="l2.759" class="difflineminus">-  padding-left: 51px; </span>
<a href="#l2.760"></a><span id="l2.760" class="difflineplus">+  padding-left: 51px;</span>
<a href="#l2.761"></a><span id="l2.761">   background-image: url(chrome://editor/content/images/tag-stn.gif);</span>
<a href="#l2.762"></a><span id="l2.762" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.763"></a><span id="l2.763" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.764"></a><span id="l2.764">   background-position: top left;</span>
<a href="#l2.765"></a><span id="l2.765"> }</span>
<a href="#l2.766"></a><span id="l2.766"> </span>
<a href="#l2.767"></a><span id="l2.767"> sub {</span>
<a href="#l2.768"></a><span id="l2.768">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.769"></a><span id="l2.769" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.770"></a><span id="l2.770" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.771"></a><span id="l2.771">   background-image: url(chrome://editor/content/images/tag-sub.gif);</span>
<a href="#l2.772"></a><span id="l2.772" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.773"></a><span id="l2.773" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.774"></a><span id="l2.774">   background-position: top left;</span>
<a href="#l2.775"></a><span id="l2.775"> }</span>
<a href="#l2.776"></a><span id="l2.776"> </span>
<a href="#l2.777"></a><span id="l2.777"> sup {</span>
<a href="#l2.778"></a><span id="l2.778">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.779"></a><span id="l2.779" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.780"></a><span id="l2.780" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.781"></a><span id="l2.781">   background-image: url(chrome://editor/content/images/tag-sup.gif);</span>
<a href="#l2.782"></a><span id="l2.782" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.783"></a><span id="l2.783" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.784"></a><span id="l2.784">   background-position: top left;</span>
<a href="#l2.785"></a><span id="l2.785"> }</span>
<a href="#l2.786"></a><span id="l2.786"> </span>
<a href="#l2.787"></a><span id="l2.787" class="difflineminus">-/* The background image technique is not working for </span>
<a href="#l2.788"></a><span id="l2.788" class="difflineplus">+/* The background image technique is not working for</span>
<a href="#l2.789"></a><span id="l2.789">    some table elements. Trying the &quot;before&quot; strategy</span>
<a href="#l2.790"></a><span id="l2.790"> */</span>
<a href="#l2.791"></a><span id="l2.791"> </span>
<a href="#l2.792"></a><span id="l2.792"> table {</span>
<a href="#l2.793"></a><span id="l2.793">   min-height: 40px;</span>
<a href="#l2.794"></a><span id="l2.794" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.795"></a><span id="l2.795" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.796"></a><span id="l2.796">   background-image: url(chrome://editor/content/images/tag-tbl.gif);</span>
<a href="#l2.797"></a><span id="l2.797" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.798"></a><span id="l2.798" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.799"></a><span id="l2.799">   background-position: top left;</span>
<a href="#l2.800"></a><span id="l2.800"> }</span>
<a href="#l2.801"></a><span id="l2.801"> </span>
<a href="#l2.802"></a><span id="l2.802"> tbody {</span>
<a href="#l2.803"></a><span id="l2.803">   min-height: 42px; margin-left: 2px; margin-top: 1px;</span>
<a href="#l2.804"></a><span id="l2.804" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.805"></a><span id="l2.805" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.806"></a><span id="l2.806">   content: url(chrome://editor/content/images/tag-tbd.gif);</span>
<a href="#l2.807"></a><span id="l2.807" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.808"></a><span id="l2.808" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.809"></a><span id="l2.809">   background-position: top left;</span>
<a href="#l2.810"></a><span id="l2.810"> }</span>
<a href="#l2.811"></a><span id="l2.811"> </span>
<a href="#l2.812"></a><span id="l2.812"> td {</span>
<a href="#l2.813"></a><span id="l2.813">   min-height: 22px; margin-left: 2px;</span>
<a href="#l2.814"></a><span id="l2.814" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.815"></a><span id="l2.815" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.816"></a><span id="l2.816">   background-image: url(chrome://editor/content/images/tag-td.gif);</span>
<a href="#l2.817"></a><span id="l2.817"> </span>
<a href="#l2.818"></a><span id="l2.818">   background-repeat: no-repeat;</span>
<a href="#l2.819"></a><span id="l2.819">   background-position: top left;</span>
<a href="#l2.820"></a><span id="l2.820"> }</span>
<a href="#l2.821"></a><span id="l2.821"> </span>
<a href="#l2.822"></a><span id="l2.822"> textarea {</span>
<a href="#l2.823"></a><span id="l2.823">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.824"></a><span id="l2.824" class="difflineminus">-  padding-left: 59px; </span>
<a href="#l2.825"></a><span id="l2.825" class="difflineplus">+  padding-left: 59px;</span>
<a href="#l2.826"></a><span id="l2.826">   background-image: url(chrome://editor/content/images/tag-txt.gif);</span>
<a href="#l2.827"></a><span id="l2.827" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.828"></a><span id="l2.828" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.829"></a><span id="l2.829">   background-position: top left;</span>
<a href="#l2.830"></a><span id="l2.830"> }</span>
<a href="#l2.831"></a><span id="l2.831"> </span>
<a href="#l2.832"></a><span id="l2.832"> tfoot {</span>
<a href="#l2.833"></a><span id="l2.833">   min-height: 42px; margin-left: 2px; margin-top: 1px;</span>
<a href="#l2.834"></a><span id="l2.834" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.835"></a><span id="l2.835" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.836"></a><span id="l2.836">   content: url(chrome://editor/content/images/tag-tft.gif);</span>
<a href="#l2.837"></a><span id="l2.837" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.838"></a><span id="l2.838" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.839"></a><span id="l2.839">   background-position: top left;</span>
<a href="#l2.840"></a><span id="l2.840"> }</span>
<a href="#l2.841"></a><span id="l2.841"> </span>
<a href="#l2.842"></a><span id="l2.842"> th {</span>
<a href="#l2.843"></a><span id="l2.843">   min-height: 22px; margin-left: 2px;</span>
<a href="#l2.844"></a><span id="l2.844" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.845"></a><span id="l2.845" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.846"></a><span id="l2.846">   background-image: url(chrome://editor/content/images/tag-th.gif);</span>
<a href="#l2.847"></a><span id="l2.847" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.848"></a><span id="l2.848" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.849"></a><span id="l2.849">   background-position: top left;</span>
<a href="#l2.850"></a><span id="l2.850"> }</span>
<a href="#l2.851"></a><span id="l2.851"> </span>
<a href="#l2.852"></a><span id="l2.852"> thead {</span>
<a href="#l2.853"></a><span id="l2.853">   min-height: 42px; margin-left: 2px; margin-top: 1px;</span>
<a href="#l2.854"></a><span id="l2.854" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.855"></a><span id="l2.855" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.856"></a><span id="l2.856">   content: url(chrome://editor/content/images/tag-thd.gif);</span>
<a href="#l2.857"></a><span id="l2.857" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.858"></a><span id="l2.858" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.859"></a><span id="l2.859">   background-position: top left;</span>
<a href="#l2.860"></a><span id="l2.860"> }</span>
<a href="#l2.861"></a><span id="l2.861"> </span>
<a href="#l2.862"></a><span id="l2.862"> tr {</span>
<a href="#l2.863"></a><span id="l2.863">   min-height: 22px; margin-left: 2px;</span>
<a href="#l2.864"></a><span id="l2.864" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.865"></a><span id="l2.865" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.866"></a><span id="l2.866">   background-image: url(chrome://editor/content/images/tag-tr.gif);</span>
<a href="#l2.867"></a><span id="l2.867" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.868"></a><span id="l2.868" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.869"></a><span id="l2.869">   background-position: top left;</span>
<a href="#l2.870"></a><span id="l2.870"> }</span>
<a href="#l2.871"></a><span id="l2.871"> </span>
<a href="#l2.872"></a><span id="l2.872"> tt {</span>
<a href="#l2.873"></a><span id="l2.873">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.874"></a><span id="l2.874" class="difflineminus">-  padding-left: 23px; </span>
<a href="#l2.875"></a><span id="l2.875" class="difflineplus">+  padding-left: 23px;</span>
<a href="#l2.876"></a><span id="l2.876">   background-image: url(chrome://editor/content/images/tag-tt.gif);</span>
<a href="#l2.877"></a><span id="l2.877" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.878"></a><span id="l2.878" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.879"></a><span id="l2.879">   background-position: top left;</span>
<a href="#l2.880"></a><span id="l2.880"> }</span>
<a href="#l2.881"></a><span id="l2.881"> </span>
<a href="#l2.882"></a><span id="l2.882"> u {</span>
<a href="#l2.883"></a><span id="l2.883">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.884"></a><span id="l2.884" class="difflineminus">-  padding-left: 23px; </span>
<a href="#l2.885"></a><span id="l2.885" class="difflineplus">+  padding-left: 23px;</span>
<a href="#l2.886"></a><span id="l2.886">   background-image: url(chrome://editor/content/images/tag-u.gif);</span>
<a href="#l2.887"></a><span id="l2.887" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.888"></a><span id="l2.888" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.889"></a><span id="l2.889">   background-position: top left;</span>
<a href="#l2.890"></a><span id="l2.890"> }</span>
<a href="#l2.891"></a><span id="l2.891"> </span>
<a href="#l2.892"></a><span id="l2.892"> ul {</span>
<a href="#l2.893"></a><span id="l2.893">   min-height: 20px;</span>
<a href="#l2.894"></a><span id="l2.894" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.895"></a><span id="l2.895" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.896"></a><span id="l2.896">   background-image: url(chrome://editor/content/images/tag-ul.gif);</span>
<a href="#l2.897"></a><span id="l2.897" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.898"></a><span id="l2.898" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.899"></a><span id="l2.899">   background-position: top left;</span>
<a href="#l2.900"></a><span id="l2.900"> }</span>
<a href="#l2.901"></a><span id="l2.901"> </span>
<a href="#l2.902"></a><span id="l2.902"> var {</span>
<a href="#l2.903"></a><span id="l2.903">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.904"></a><span id="l2.904" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.905"></a><span id="l2.905" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.906"></a><span id="l2.906">   background-image: url(chrome://editor/content/images/tag-var.gif);</span>
<a href="#l2.907"></a><span id="l2.907" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.908"></a><span id="l2.908" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.909"></a><span id="l2.909">   background-position: top left;</span>
<a href="#l2.910"></a><span id="l2.910"> }</span>
<a href="#l2.911"></a><span id="l2.911"> </span>
<a href="#l2.912"></a><span id="l2.912"> xmp {</span>
<a href="#l2.913"></a><span id="l2.913">   min-height: 35px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.914"></a><span id="l2.914" class="difflineminus">-  padding-left: 31px; </span>
<a href="#l2.915"></a><span id="l2.915" class="difflineplus">+  padding-left: 31px;</span>
<a href="#l2.916"></a><span id="l2.916">   background-image: url(chrome://editor/content/images/tag-xmp.gif);</span>
<a href="#l2.917"></a><span id="l2.917" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.918"></a><span id="l2.918" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.919"></a><span id="l2.919">   background-position: top left;</span>
<a href="#l2.920"></a><span id="l2.920"> }</span>
<a href="#l2.921"></a><span id="l2.921"> </span>
<a href="#l2.922"></a><span id="l2.922"> </span>
<a href="#l2.923"></a><span id="l2.923"> /* These are tags that we DON'T want to show icons for.</span>
<a href="#l2.924"></a><span id="l2.924">    We have images for them in case we want to utilize them</span>
<a href="#l2.925"></a><span id="l2.925">    for some other purpose than the &quot;All Tags&quot; editor mode</span>
<a href="#l2.926"></a><span id="l2.926"> </span>
<a href="#l2.927"></a><span id="l2.927"> html {</span>
<a href="#l2.928"></a><span id="l2.928">   min-height: 36px; margin-left: 2px;</span>
<a href="#l2.929"></a><span id="l2.929" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.930"></a><span id="l2.930" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.931"></a><span id="l2.931">   background-image: url(chrome://editor/content/images/tag-html.gif);</span>
<a href="#l2.932"></a><span id="l2.932" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.933"></a><span id="l2.933" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.934"></a><span id="l2.934">   background-position: top left;</span>
<a href="#l2.935"></a><span id="l2.935"> }</span>
<a href="#l2.936"></a><span id="l2.936"> </span>
<a href="#l2.937"></a><span id="l2.937"> head {</span>
<a href="#l2.938"></a><span id="l2.938">   min-height: 36px; margin-left: 2px;</span>
<a href="#l2.939"></a><span id="l2.939" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.940"></a><span id="l2.940" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.941"></a><span id="l2.941">   background-image: url(chrome://editor/content/images/tag-hed.gif);</span>
<a href="#l2.942"></a><span id="l2.942" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.943"></a><span id="l2.943" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.944"></a><span id="l2.944">   background-position: top left;</span>
<a href="#l2.945"></a><span id="l2.945"> }</span>
<a href="#l2.946"></a><span id="l2.946"> </span>
<a href="#l2.947"></a><span id="l2.947"> These are tags that are ONLY allowed as children of HEAD:</span>
<a href="#l2.948"></a><span id="l2.948"> </span>
<a href="#l2.949"></a><span id="l2.949"> title {</span>
<a href="#l2.950"></a><span id="l2.950">   min-height: 40px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.951"></a><span id="l2.951" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.952"></a><span id="l2.952" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.953"></a><span id="l2.953">   background-image: url(chrome://editor/content/images/tag-ttl.gif);</span>
<a href="#l2.954"></a><span id="l2.954" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.955"></a><span id="l2.955" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.956"></a><span id="l2.956">   background-position: top left;</span>
<a href="#l2.957"></a><span id="l2.957"> }</span>
<a href="#l2.958"></a><span id="l2.958"> </span>
<a href="#l2.959"></a><span id="l2.959"> base {</span>
<a href="#l2.960"></a><span id="l2.960">   min-height: 36px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.961"></a><span id="l2.961" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.962"></a><span id="l2.962" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.963"></a><span id="l2.963">   background-image: url(chrome://editor/content/images/tag-bas.gif);</span>
<a href="#l2.964"></a><span id="l2.964" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.965"></a><span id="l2.965" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.966"></a><span id="l2.966">   background-position: top left;</span>
<a href="#l2.967"></a><span id="l2.967"> }</span>
<a href="#l2.968"></a><span id="l2.968"> </span>
<a href="#l2.969"></a><span id="l2.969"> style {</span>
<a href="#l2.970"></a><span id="l2.970">   min-height: 40px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.971"></a><span id="l2.971" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.972"></a><span id="l2.972" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.973"></a><span id="l2.973">   background-image: url(chrome://editor/content/images/tag-stl.gif);</span>
<a href="#l2.974"></a><span id="l2.974" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.975"></a><span id="l2.975" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.976"></a><span id="l2.976">   background-position: top left;</span>
<a href="#l2.977"></a><span id="l2.977"> }</span>
<a href="#l2.978"></a><span id="l2.978"> </span>
<a href="#l2.979"></a><span id="l2.979"> meta {</span>
<a href="#l2.980"></a><span id="l2.980">   min-height: 36px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.981"></a><span id="l2.981" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.982"></a><span id="l2.982" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.983"></a><span id="l2.983">   background-image: url(chrome://editor/content/images/tag-met.gif);</span>
<a href="#l2.984"></a><span id="l2.984" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.985"></a><span id="l2.985" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.986"></a><span id="l2.986">   background-position: top left;</span>
<a href="#l2.987"></a><span id="l2.987"> }</span>
<a href="#l2.988"></a><span id="l2.988"> </span>
<a href="#l2.989"></a><span id="l2.989"> link {</span>
<a href="#l2.990"></a><span id="l2.990">   min-height: 30px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l2.991"></a><span id="l2.991" class="difflineminus">-  padding-left: 17px; </span>
<a href="#l2.992"></a><span id="l2.992" class="difflineplus">+  padding-left: 17px;</span>
<a href="#l2.993"></a><span id="l2.993">   background-image: url(chrome://editor/content/images/tag-lnk.gif);</span>
<a href="#l2.994"></a><span id="l2.994" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l2.995"></a><span id="l2.995" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l2.996"></a><span id="l2.996">   background-position: top left;</span>
<a href="#l2.997"></a><span id="l2.997"> }</span>
<a href="#l2.998"></a><span id="l2.998"> */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/editor/ui/composer/content/EditorContent.css</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/editor/ui/composer/content/EditorContent.css</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,30 +1,30 @@</span>
<a href="#l3.4"></a><span id="l3.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.5"></a><span id="l3.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.6"></a><span id="l3.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8" class="difflineminus">-/* Styles to alter look of things in the Editor content window </span>
<a href="#l3.9"></a><span id="l3.9" class="difflineplus">+/* Styles to alter look of things in the Editor content window</span>
<a href="#l3.10"></a><span id="l3.10">  *  for the &quot;Normal Edit Mode&quot; These settings will be removed</span>
<a href="#l3.11"></a><span id="l3.11">  *  when we display in completely WYSIWYG &quot;Edit Preview&quot; mode</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">- *  Anything that should never change, like cursors, should be </span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+ *  Anything that should never change, like cursors, should be</span>
<a href="#l3.14"></a><span id="l3.14">  *  place in EditorOverride.css, instead of here.</span>
<a href="#l3.15"></a><span id="l3.15"> */</span>
<a href="#l3.16"></a><span id="l3.16"> </span>
<a href="#l3.17"></a><span id="l3.17"> @import url(chrome://communicator/skin/smileys.css);</span>
<a href="#l3.18"></a><span id="l3.18"> </span>
<a href="#l3.19"></a><span id="l3.19"> a[name] {</span>
<a href="#l3.20"></a><span id="l3.20">   min-height: 17px; margin-left: 2px; margin-top: 2px;</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">-  padding-left: 20px; </span>
<a href="#l3.22"></a><span id="l3.22" class="difflineplus">+  padding-left: 20px;</span>
<a href="#l3.23"></a><span id="l3.23">   background-image: url(chrome://editor/content/images/tag-anchor.gif);</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineminus">-  background-repeat: no-repeat; </span>
<a href="#l3.25"></a><span id="l3.25" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l3.26"></a><span id="l3.26">   background-position: top left;</span>
<a href="#l3.27"></a><span id="l3.27"> }</span>
<a href="#l3.28"></a><span id="l3.28"> </span>
<a href="#l3.29"></a><span id="l3.29" class="difflineminus">-/* Force border display for empty cells </span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+/* Force border display for empty cells</span>
<a href="#l3.31"></a><span id="l3.31">    and tables with 0 border</span>
<a href="#l3.32"></a><span id="l3.32"> */</span>
<a href="#l3.33"></a><span id="l3.33"> table {</span>
<a href="#l3.34"></a><span id="l3.34">   empty-cells: show;</span>
<a href="#l3.35"></a><span id="l3.35"> }</span>
<a href="#l3.36"></a><span id="l3.36"> </span>
<a href="#l3.37"></a><span id="l3.37"> /* give a red dotted border to tables and cells with no border</span>
<a href="#l3.38"></a><span id="l3.38">    otherwise they are invisible</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/editor/ui/composer/content/EditorContextMenu.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/editor/ui/composer/content/EditorContextMenu.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -57,17 +57,17 @@ nsContextMenu.prototype.initEditorItems </span>
<a href="#l4.4"></a><span id="l4.4">     goUpdateTableMenuItems(document.getElementById(&quot;composerTableMenuItems&quot;));</span>
<a href="#l4.5"></a><span id="l4.5"> </span>
<a href="#l4.6"></a><span id="l4.6">     this.hideDisabledItem(&quot;context-undo&quot;, true);</span>
<a href="#l4.7"></a><span id="l4.7">     this.hideDisabledItem(&quot;context-redo&quot;, true);</span>
<a href="#l4.8"></a><span id="l4.8">     this.hideDisabledItem(&quot;context-cut&quot;, true);</span>
<a href="#l4.9"></a><span id="l4.9">     this.hideDisabledItem(&quot;context-copy&quot;, true);</span>
<a href="#l4.10"></a><span id="l4.10">     this.hideDisabledItem(&quot;context-paste&quot;, true);</span>
<a href="#l4.11"></a><span id="l4.11">     this.hideDisabledItem(&quot;context-delete&quot;, true);</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    </span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+</span>
<a href="#l4.14"></a><span id="l4.14">     this.showItem(&quot;context-sep-undo&quot;,</span>
<a href="#l4.15"></a><span id="l4.15">                   this.shouldShowSeparator(&quot;context-sep-undo&quot;));</span>
<a href="#l4.16"></a><span id="l4.16">     this.showItem(&quot;context-sep-paste&quot;,</span>
<a href="#l4.17"></a><span id="l4.17">                   this.shouldShowSeparator(&quot;context-sep-paste&quot;));</span>
<a href="#l4.18"></a><span id="l4.18">   }</span>
<a href="#l4.19"></a><span id="l4.19"> </span>
<a href="#l4.20"></a><span id="l4.20">   this.hideDisabledItem(&quot;objectProperties_cm&quot;, aShow);</span>
<a href="#l4.21"></a><span id="l4.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/editor/ui/composer/content/composerOverlay.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/editor/ui/composer/content/composerOverlay.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,9 +1,9 @@</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt; </span>
<a href="#l5.5"></a><span id="l5.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l5.6"></a><span id="l5.6"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.7"></a><span id="l5.7">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.8"></a><span id="l5.8">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l5.9"></a><span id="l5.9"> </span>
<a href="#l5.10"></a><span id="l5.10"> &lt;!DOCTYPE overlay [</span>
<a href="#l5.11"></a><span id="l5.11"> &lt;!ENTITY % editorDTD SYSTEM &quot;chrome://editor/locale/editor.dtd&quot;&gt;</span>
<a href="#l5.12"></a><span id="l5.12"> %editorDTD;</span>
<a href="#l5.13"></a><span id="l5.13"> ]&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/editor/ui/composer/content/editor.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/editor/ui/composer/content/editor.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -92,17 +92,17 @@ function ShowHideToolbarButtons()</span>
<a href="#l6.4"></a><span id="l6.4">     let button = document.getElementById(id + &quot;Button&quot;) ||</span>
<a href="#l6.5"></a><span id="l6.5">                  document.getElementById(id + &quot;-button&quot;);</span>
<a href="#l6.6"></a><span id="l6.6">     if (button)</span>
<a href="#l6.7"></a><span id="l6.7">       button.hidden = !Services.prefs.getBoolPref(prefName);</span>
<a href="#l6.8"></a><span id="l6.8">   }</span>
<a href="#l6.9"></a><span id="l6.9">   ShowHideToolbarSeparators(document.getElementById(&quot;EditToolbar&quot;));</span>
<a href="#l6.10"></a><span id="l6.10">   ShowHideToolbarSeparators(document.getElementById(&quot;FormatToolbar&quot;));</span>
<a href="#l6.11"></a><span id="l6.11"> }</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-  </span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+</span>
<a href="#l6.14"></a><span id="l6.14"> function nsPrefListener(prefName)</span>
<a href="#l6.15"></a><span id="l6.15"> {</span>
<a href="#l6.16"></a><span id="l6.16">   this.startup(prefName);</span>
<a href="#l6.17"></a><span id="l6.17"> }</span>
<a href="#l6.18"></a><span id="l6.18"> </span>
<a href="#l6.19"></a><span id="l6.19"> // implements nsIObserver</span>
<a href="#l6.20"></a><span id="l6.20"> nsPrefListener.prototype =</span>
<a href="#l6.21"></a><span id="l6.21"> {</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineat">@@ -126,30 +126,30 @@ nsPrefListener.prototype =</span>
<a href="#l6.23"></a><span id="l6.23">   },</span>
<a href="#l6.24"></a><span id="l6.24">   observe: function(subject, topic, prefName)</span>
<a href="#l6.25"></a><span id="l6.25">   {</span>
<a href="#l6.26"></a><span id="l6.26">     if (!IsHTMLEditor())</span>
<a href="#l6.27"></a><span id="l6.27">       return;</span>
<a href="#l6.28"></a><span id="l6.28">     // verify that we're changing a button pref</span>
<a href="#l6.29"></a><span id="l6.29">     if (topic != &quot;nsPref:changed&quot;)</span>
<a href="#l6.30"></a><span id="l6.30">       return;</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-    </span>
<a href="#l6.32"></a><span id="l6.32" class="difflineplus">+</span>
<a href="#l6.33"></a><span id="l6.33">     let editor = GetCurrentEditor();</span>
<a href="#l6.34"></a><span id="l6.34">     if (prefName == kUseCssPref)</span>
<a href="#l6.35"></a><span id="l6.35">     {</span>
<a href="#l6.36"></a><span id="l6.36">       let cmd = document.getElementById(&quot;cmd_highlight&quot;);</span>
<a href="#l6.37"></a><span id="l6.37">       if (cmd) {</span>
<a href="#l6.38"></a><span id="l6.38">         let useCSS = Services.prefs.getBoolPref(prefName);</span>
<a href="#l6.39"></a><span id="l6.39"> </span>
<a href="#l6.40"></a><span id="l6.40">         if (useCSS &amp;&amp; editor) {</span>
<a href="#l6.41"></a><span id="l6.41">           let mixedObj = {};</span>
<a href="#l6.42"></a><span id="l6.42">           let state = editor.getHighlightColorState(mixedObj);</span>
<a href="#l6.43"></a><span id="l6.43">           cmd.setAttribute(&quot;state&quot;, state);</span>
<a href="#l6.44"></a><span id="l6.44">           cmd.collapsed = false;</span>
<a href="#l6.45"></a><span id="l6.45" class="difflineminus">-        }      </span>
<a href="#l6.46"></a><span id="l6.46" class="difflineplus">+        }</span>
<a href="#l6.47"></a><span id="l6.47">         else {</span>
<a href="#l6.48"></a><span id="l6.48">           cmd.setAttribute(&quot;state&quot;, &quot;transparent&quot;);</span>
<a href="#l6.49"></a><span id="l6.49">           cmd.collapsed = true;</span>
<a href="#l6.50"></a><span id="l6.50">         }</span>
<a href="#l6.51"></a><span id="l6.51"> </span>
<a href="#l6.52"></a><span id="l6.52">         if (editor)</span>
<a href="#l6.53"></a><span id="l6.53">           editor.isCSSEnabled = useCSS;</span>
<a href="#l6.54"></a><span id="l6.54">       }</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineat">@@ -211,17 +211,17 @@ var DocumentReloadListener =</span>
<a href="#l6.56"></a><span id="l6.56">       editor.documentCharacterSet = charset;</span>
<a href="#l6.57"></a><span id="l6.57"> </span>
<a href="#l6.58"></a><span id="l6.58">     } catch (e) {}</span>
<a href="#l6.59"></a><span id="l6.59">   }</span>
<a href="#l6.60"></a><span id="l6.60"> };</span>
<a href="#l6.61"></a><span id="l6.61"> </span>
<a href="#l6.62"></a><span id="l6.62"> // implements nsIObserver</span>
<a href="#l6.63"></a><span id="l6.63"> var gEditorDocumentObserver =</span>
<a href="#l6.64"></a><span id="l6.64" class="difflineminus">-{ </span>
<a href="#l6.65"></a><span id="l6.65" class="difflineplus">+{</span>
<a href="#l6.66"></a><span id="l6.66">   observe: function(aSubject, aTopic, aData)</span>
<a href="#l6.67"></a><span id="l6.67">   {</span>
<a href="#l6.68"></a><span id="l6.68">     // Should we allow this even if NOT the focused editor?</span>
<a href="#l6.69"></a><span id="l6.69">     var commandManager = GetCurrentCommandManager();</span>
<a href="#l6.70"></a><span id="l6.70">     if (commandManager != aSubject)</span>
<a href="#l6.71"></a><span id="l6.71">       return;</span>
<a href="#l6.72"></a><span id="l6.72"> </span>
<a href="#l6.73"></a><span id="l6.73">     var editor = GetCurrentEditor();</span>
<a href="#l6.74"></a><span id="l6.74" class="difflineat">@@ -252,27 +252,27 @@ var gEditorDocumentObserver =</span>
<a href="#l6.75"></a><span id="l6.75">               errorStringId = &quot;CantEditFramesetMsg&quot;;</span>
<a href="#l6.76"></a><span id="l6.76">               break;</span>
<a href="#l6.77"></a><span id="l6.77">             case nsIEditingSession.eEditorErrorCantEditMimeType:</span>
<a href="#l6.78"></a><span id="l6.78">               errorStringId = &quot;CantEditMimeTypeMsg&quot;;</span>
<a href="#l6.79"></a><span id="l6.79">               break;</span>
<a href="#l6.80"></a><span id="l6.80">             case nsIEditingSession.eEditorErrorUnknown:</span>
<a href="#l6.81"></a><span id="l6.81">               errorStringId = &quot;CantEditDocumentMsg&quot;;</span>
<a href="#l6.82"></a><span id="l6.82">               break;</span>
<a href="#l6.83"></a><span id="l6.83" class="difflineminus">-            // Note that for &quot;eEditorErrorFileNotFound, </span>
<a href="#l6.84"></a><span id="l6.84" class="difflineplus">+            // Note that for &quot;eEditorErrorFileNotFound,</span>
<a href="#l6.85"></a><span id="l6.85">             // network code popped up an alert dialog, so we don't need to</span>
<a href="#l6.86"></a><span id="l6.86">           }</span>
<a href="#l6.87"></a><span id="l6.87">           if (errorStringId)</span>
<a href="#l6.88"></a><span id="l6.88">             Services.prompt.alert(window, &quot;&quot;, GetString(errorStringId));</span>
<a href="#l6.89"></a><span id="l6.89">         } catch(e) { dump(&quot;EXCEPTION GETTING obs_documentCreated state &quot;+e+&quot;\n&quot;); }</span>
<a href="#l6.90"></a><span id="l6.90"> </span>
<a href="#l6.91"></a><span id="l6.91">         // We have a bad editor -- nsIEditingSession will rebuild an editor</span>
<a href="#l6.92"></a><span id="l6.92">         //   with a blank page, so simply abort here</span>
<a href="#l6.93"></a><span id="l6.93">         if (editorStatus)</span>
<a href="#l6.94"></a><span id="l6.94" class="difflineminus">-          return; </span>
<a href="#l6.95"></a><span id="l6.95" class="difflineplus">+          return;</span>
<a href="#l6.96"></a><span id="l6.96"> </span>
<a href="#l6.97"></a><span id="l6.97">         if (!(&quot;InsertCharWindow&quot; in window))</span>
<a href="#l6.98"></a><span id="l6.98">           window.InsertCharWindow = null;</span>
<a href="#l6.99"></a><span id="l6.99"> </span>
<a href="#l6.100"></a><span id="l6.100">         try {</span>
<a href="#l6.101"></a><span id="l6.101">           editor.QueryInterface(nsIEditorStyleSheets);</span>
<a href="#l6.102"></a><span id="l6.102"> </span>
<a href="#l6.103"></a><span id="l6.103">           //  and extra styles for showing anchors, table borders, smileys, etc</span>
<a href="#l6.104"></a><span id="l6.104" class="difflineat">@@ -326,17 +326,17 @@ var gEditorDocumentObserver =</span>
<a href="#l6.105"></a><span id="l6.105">             HideItem(&quot;tableButton&quot;);</span>
<a href="#l6.106"></a><span id="l6.106"> </span>
<a href="#l6.107"></a><span id="l6.107">             HideItem(&quot;fileExportToText&quot;);</span>
<a href="#l6.108"></a><span id="l6.108">             HideItem(&quot;previewInBrowser&quot;);</span>
<a href="#l6.109"></a><span id="l6.109"> </span>
<a href="#l6.110"></a><span id="l6.110"> /* XXX When paste actually converts formatted rich text to pretty formatted plain text</span>
<a href="#l6.111"></a><span id="l6.111">        and pasteNoFormatting is fixed to paste the text without formatting (what paste</span>
<a href="#l6.112"></a><span id="l6.112">        currently does), then this item shouldn't be hidden: */</span>
<a href="#l6.113"></a><span id="l6.113" class="difflineminus">-            HideItem(&quot;menu_pasteNoFormatting&quot;); </span>
<a href="#l6.114"></a><span id="l6.114" class="difflineplus">+            HideItem(&quot;menu_pasteNoFormatting&quot;);</span>
<a href="#l6.115"></a><span id="l6.115"> </span>
<a href="#l6.116"></a><span id="l6.116">             HideItem(&quot;cmd_viewFormatToolbar&quot;);</span>
<a href="#l6.117"></a><span id="l6.117">             HideItem(&quot;cmd_viewEditModeToolbar&quot;);</span>
<a href="#l6.118"></a><span id="l6.118"> </span>
<a href="#l6.119"></a><span id="l6.119">             HideItem(&quot;viewSep1&quot;);</span>
<a href="#l6.120"></a><span id="l6.120">             HideItem(&quot;viewNormalMode&quot;);</span>
<a href="#l6.121"></a><span id="l6.121">             HideItem(&quot;viewAllTagsMode&quot;);</span>
<a href="#l6.122"></a><span id="l6.122">             HideItem(&quot;viewSourceMode&quot;);</span>
<a href="#l6.123"></a><span id="l6.123" class="difflineat">@@ -344,17 +344,17 @@ var gEditorDocumentObserver =</span>
<a href="#l6.124"></a><span id="l6.124"> </span>
<a href="#l6.125"></a><span id="l6.125">             HideItem(&quot;structSpacer&quot;);</span>
<a href="#l6.126"></a><span id="l6.126"> </span>
<a href="#l6.127"></a><span id="l6.127">             // Hide everything in &quot;Insert&quot; except for &quot;Symbols&quot;</span>
<a href="#l6.128"></a><span id="l6.128">             let menuPopupChildren = document.querySelectorAll('[id=&quot;insertMenuPopup&quot;] &gt; :not(#insertChars)');</span>
<a href="#l6.129"></a><span id="l6.129">             for (let i = 0; i &lt; menuPopupChildren.length; i++)</span>
<a href="#l6.130"></a><span id="l6.130">               menuPopupChildren.item(i).hidden = true;</span>
<a href="#l6.131"></a><span id="l6.131">           }</span>
<a href="#l6.132"></a><span id="l6.132" class="difflineminus">-    </span>
<a href="#l6.133"></a><span id="l6.133" class="difflineplus">+</span>
<a href="#l6.134"></a><span id="l6.134">           // Set window title</span>
<a href="#l6.135"></a><span id="l6.135">           UpdateWindowTitle();</span>
<a href="#l6.136"></a><span id="l6.136"> </span>
<a href="#l6.137"></a><span id="l6.137">           // We must wait until document is created to get proper Url</span>
<a href="#l6.138"></a><span id="l6.138">           // (Windows may load with local file paths)</span>
<a href="#l6.139"></a><span id="l6.139">           SetSaveAndPublishUI(GetDocumentUrl());</span>
<a href="#l6.140"></a><span id="l6.140"> </span>
<a href="#l6.141"></a><span id="l6.141">           // Start in &quot;Normal&quot; edit mode</span>
<a href="#l6.142"></a><span id="l6.142" class="difflineat">@@ -425,17 +425,17 @@ function EditorSharedStartup()</span>
<a href="#l6.143"></a><span id="l6.143">   GetCurrentEditorElement().docShell.allowDNSPrefetch = false;</span>
<a href="#l6.144"></a><span id="l6.144"> </span>
<a href="#l6.145"></a><span id="l6.145">   // Set up the mime type and register the commands.</span>
<a href="#l6.146"></a><span id="l6.146">   if (IsHTMLEditor())</span>
<a href="#l6.147"></a><span id="l6.147">     SetupHTMLEditorCommands();</span>
<a href="#l6.148"></a><span id="l6.148">   else</span>
<a href="#l6.149"></a><span id="l6.149">     SetupTextEditorCommands();</span>
<a href="#l6.150"></a><span id="l6.150"> </span>
<a href="#l6.151"></a><span id="l6.151" class="difflineminus">-  // add observer to be called when document is really done loading </span>
<a href="#l6.152"></a><span id="l6.152" class="difflineplus">+  // add observer to be called when document is really done loading</span>
<a href="#l6.153"></a><span id="l6.153">   // and is modified</span>
<a href="#l6.154"></a><span id="l6.154">   // Note: We're really screwed if we fail to install this observer!</span>
<a href="#l6.155"></a><span id="l6.155">   try {</span>
<a href="#l6.156"></a><span id="l6.156">     var commandManager = GetCurrentCommandManager();</span>
<a href="#l6.157"></a><span id="l6.157">     commandManager.addCommandObserver(gEditorDocumentObserver, &quot;obs_documentCreated&quot;);</span>
<a href="#l6.158"></a><span id="l6.158">     commandManager.addCommandObserver(gEditorDocumentObserver, &quot;cmd_setDocumentModified&quot;);</span>
<a href="#l6.159"></a><span id="l6.159">     commandManager.addCommandObserver(gEditorDocumentObserver, &quot;obs_documentWillBeDestroyed&quot;);</span>
<a href="#l6.160"></a><span id="l6.160">     commandManager.addCommandObserver(gEditorDocumentObserver, &quot;obs_documentLocationChanged&quot;);</span>
<a href="#l6.161"></a><span id="l6.161" class="difflineat">@@ -516,17 +516,17 @@ async function CheckAndSaveDocument(comm</span>
<a href="#l6.162"></a><span id="l6.162">       return true;</span>
<a href="#l6.163"></a><span id="l6.163">   } catch (e) { return true; }</span>
<a href="#l6.164"></a><span id="l6.164"> </span>
<a href="#l6.165"></a><span id="l6.165">   if (!IsDocumentModified() &amp;&amp; !IsHTMLSourceChanged())</span>
<a href="#l6.166"></a><span id="l6.166">     return true;</span>
<a href="#l6.167"></a><span id="l6.167"> </span>
<a href="#l6.168"></a><span id="l6.168">   // call window.focus, since we need to pop up a dialog</span>
<a href="#l6.169"></a><span id="l6.169">   // and therefore need to be visible (to prevent user confusion)</span>
<a href="#l6.170"></a><span id="l6.170" class="difflineminus">-  top.document.commandDispatcher.focusedWindow.focus();  </span>
<a href="#l6.171"></a><span id="l6.171" class="difflineplus">+  top.document.commandDispatcher.focusedWindow.focus();</span>
<a href="#l6.172"></a><span id="l6.172"> </span>
<a href="#l6.173"></a><span id="l6.173">   var scheme = GetScheme(GetDocumentUrl());</span>
<a href="#l6.174"></a><span id="l6.174">   var doPublish = (scheme &amp;&amp; scheme != &quot;file&quot;);</span>
<a href="#l6.175"></a><span id="l6.175"> </span>
<a href="#l6.176"></a><span id="l6.176">   var strID;</span>
<a href="#l6.177"></a><span id="l6.177">   switch (command)</span>
<a href="#l6.178"></a><span id="l6.178">   {</span>
<a href="#l6.179"></a><span id="l6.179">     case &quot;cmd_close&quot;:</span>
<a href="#l6.180"></a><span id="l6.180" class="difflineat">@@ -537,17 +537,17 @@ async function CheckAndSaveDocument(comm</span>
<a href="#l6.181"></a><span id="l6.181">       break;</span>
<a href="#l6.182"></a><span id="l6.182">     case &quot;cmd_editSendPage&quot;:</span>
<a href="#l6.183"></a><span id="l6.183">       strID = &quot;SendPageReason&quot;;</span>
<a href="#l6.184"></a><span id="l6.184">       break;</span>
<a href="#l6.185"></a><span id="l6.185">     case &quot;cmd_validate&quot;:</span>
<a href="#l6.186"></a><span id="l6.186">       strID = &quot;BeforeValidate&quot;;</span>
<a href="#l6.187"></a><span id="l6.187">       break;</span>
<a href="#l6.188"></a><span id="l6.188">   }</span>
<a href="#l6.189"></a><span id="l6.189" class="difflineminus">-    </span>
<a href="#l6.190"></a><span id="l6.190" class="difflineplus">+</span>
<a href="#l6.191"></a><span id="l6.191">   var reasonToSave = strID ? GetString(strID) : &quot;&quot;;</span>
<a href="#l6.192"></a><span id="l6.192"> </span>
<a href="#l6.193"></a><span id="l6.193">   var title = document.title || GetString(&quot;untitledDefaultFilename&quot;);</span>
<a href="#l6.194"></a><span id="l6.194"> </span>
<a href="#l6.195"></a><span id="l6.195">   var dialogTitle = GetString(doPublish ? &quot;PublishPage&quot; : &quot;SaveDocument&quot;);</span>
<a href="#l6.196"></a><span id="l6.196">   var dialogMsg = GetString(doPublish ? &quot;PublishPrompt&quot; : &quot;SaveFilePrompt&quot;);</span>
<a href="#l6.197"></a><span id="l6.197">   dialogMsg = (dialogMsg.replace(/%title%/,title)).replace(/%reason%/,reasonToSave);</span>
<a href="#l6.198"></a><span id="l6.198"> </span>
<a href="#l6.199"></a><span id="l6.199" class="difflineat">@@ -555,29 +555,29 @@ async function CheckAndSaveDocument(comm</span>
<a href="#l6.200"></a><span id="l6.200">   let promptFlags = Services.prompt.BUTTON_TITLE_CANCEL * Services.prompt.BUTTON_POS_1;</span>
<a href="#l6.201"></a><span id="l6.201">   let button1Title = null;</span>
<a href="#l6.202"></a><span id="l6.202">   let button3Title = null;</span>
<a href="#l6.203"></a><span id="l6.203"> </span>
<a href="#l6.204"></a><span id="l6.204">   if (doPublish)</span>
<a href="#l6.205"></a><span id="l6.205">   {</span>
<a href="#l6.206"></a><span id="l6.206">     promptFlags += Services.prompt.BUTTON_TITLE_IS_STRING * Services.prompt.BUTTON_POS_0;</span>
<a href="#l6.207"></a><span id="l6.207">     button1Title = GetString(&quot;Publish&quot;);</span>
<a href="#l6.208"></a><span id="l6.208" class="difflineminus">-    button3Title = GetString(&quot;DontPublish&quot;);    </span>
<a href="#l6.209"></a><span id="l6.209" class="difflineplus">+    button3Title = GetString(&quot;DontPublish&quot;);</span>
<a href="#l6.210"></a><span id="l6.210">   }</span>
<a href="#l6.211"></a><span id="l6.211">   else</span>
<a href="#l6.212"></a><span id="l6.212">   {</span>
<a href="#l6.213"></a><span id="l6.213">     promptFlags += Services.prompt.BUTTON_TITLE_SAVE * Services.prompt.BUTTON_POS_0;</span>
<a href="#l6.214"></a><span id="l6.214">   }</span>
<a href="#l6.215"></a><span id="l6.215"> </span>
<a href="#l6.216"></a><span id="l6.216">   // If allowing &quot;Don't...&quot; button, add that</span>
<a href="#l6.217"></a><span id="l6.217">   if (allowDontSave)</span>
<a href="#l6.218"></a><span id="l6.218">     promptFlags += doPublish ?</span>
<a href="#l6.219"></a><span id="l6.219">         (Services.prompt.BUTTON_TITLE_IS_STRING * Services.prompt.BUTTON_POS_2)</span>
<a href="#l6.220"></a><span id="l6.220">         : (Services.prompt.BUTTON_TITLE_DONT_SAVE * Services.prompt.BUTTON_POS_2);</span>
<a href="#l6.221"></a><span id="l6.221" class="difflineminus">-  </span>
<a href="#l6.222"></a><span id="l6.222" class="difflineplus">+</span>
<a href="#l6.223"></a><span id="l6.223">   result = Services.prompt.confirmEx(window, dialogTitle, dialogMsg, promptFlags,</span>
<a href="#l6.224"></a><span id="l6.224">                           button1Title, null, button3Title, null, {value:0});</span>
<a href="#l6.225"></a><span id="l6.225"> </span>
<a href="#l6.226"></a><span id="l6.226">   if (result == 0)</span>
<a href="#l6.227"></a><span id="l6.227">   {</span>
<a href="#l6.228"></a><span id="l6.228">     // Save, but first finish HTML source mode</span>
<a href="#l6.229"></a><span id="l6.229">     SetEditMode(gPreviousNonSourceDisplayMode);</span>
<a href="#l6.230"></a><span id="l6.230">     if (doPublish)</span>
<a href="#l6.231"></a><span id="l6.231" class="difflineat">@@ -607,17 +607,17 @@ function EditorSetCharacterSet(aEvent)</span>
<a href="#l6.232"></a><span id="l6.232"> {</span>
<a href="#l6.233"></a><span id="l6.233">   try {</span>
<a href="#l6.234"></a><span id="l6.234">     var editor = GetCurrentEditor();</span>
<a href="#l6.235"></a><span id="l6.235">     if (aEvent.target.hasAttribute(&quot;charset&quot;))</span>
<a href="#l6.236"></a><span id="l6.236">       editor.documentCharacterSet = aEvent.target.getAttribute(&quot;charset&quot;);</span>
<a href="#l6.237"></a><span id="l6.237">     var docUrl = GetDocumentUrl();</span>
<a href="#l6.238"></a><span id="l6.238">     if( !IsUrlAboutBlank(docUrl))</span>
<a href="#l6.239"></a><span id="l6.239">     {</span>
<a href="#l6.240"></a><span id="l6.240" class="difflineminus">-      // reloading the document will reverse any changes to the META charset, </span>
<a href="#l6.241"></a><span id="l6.241" class="difflineplus">+      // reloading the document will reverse any changes to the META charset,</span>
<a href="#l6.242"></a><span id="l6.242">       // we need to put them back in, which is achieved by a dedicated listener</span>
<a href="#l6.243"></a><span id="l6.243">       editor.addDocumentStateListener( DocumentReloadListener );</span>
<a href="#l6.244"></a><span id="l6.244">       EditorLoadUrl(docUrl);</span>
<a href="#l6.245"></a><span id="l6.245">     }</span>
<a href="#l6.246"></a><span id="l6.246">   } catch (e) {}</span>
<a href="#l6.247"></a><span id="l6.247"> }</span>
<a href="#l6.248"></a><span id="l6.248"> </span>
<a href="#l6.249"></a><span id="l6.249"> // --------------------------- Text style ---------------------------</span>
<a href="#l6.250"></a><span id="l6.250" class="difflineat">@@ -1026,17 +1026,17 @@ function initFontFaceMenu(menuPopup)</span>
<a href="#l6.251"></a><span id="l6.251"> // ==separator</span>
<a href="#l6.252"></a><span id="l6.252"> const kFixedFontFaceMenuItems = 8;</span>
<a href="#l6.253"></a><span id="l6.253"> </span>
<a href="#l6.254"></a><span id="l6.254"> function initLocalFontFaceMenu(menuPopup)</span>
<a href="#l6.255"></a><span id="l6.255"> {</span>
<a href="#l6.256"></a><span id="l6.256">   if (!gLocalFonts)</span>
<a href="#l6.257"></a><span id="l6.257">   {</span>
<a href="#l6.258"></a><span id="l6.258">     // Build list of all local fonts once per editor</span>
<a href="#l6.259"></a><span id="l6.259" class="difflineminus">-    try </span>
<a href="#l6.260"></a><span id="l6.260" class="difflineplus">+    try</span>
<a href="#l6.261"></a><span id="l6.261">     {</span>
<a href="#l6.262"></a><span id="l6.262">       var enumerator = Cc[&quot;@mozilla.org/gfx/fontenumerator;1&quot;]</span>
<a href="#l6.263"></a><span id="l6.263">                          .getService(Ci.nsIFontEnumerator);</span>
<a href="#l6.264"></a><span id="l6.264">       var localFontCount = { value: 0 }</span>
<a href="#l6.265"></a><span id="l6.265">       gLocalFonts = enumerator.EnumerateAllFonts(localFontCount);</span>
<a href="#l6.266"></a><span id="l6.266">     }</span>
<a href="#l6.267"></a><span id="l6.267">     catch(e) { }</span>
<a href="#l6.268"></a><span id="l6.268">   }</span>
<a href="#l6.269"></a><span id="l6.269" class="difflineat">@@ -1605,17 +1605,17 @@ function EditorDblClick(event)</span>
<a href="#l6.270"></a><span id="l6.270"> </span>
<a href="#l6.271"></a><span id="l6.271">     // Don't fire for body/p and other block elements.</span>
<a href="#l6.272"></a><span id="l6.272">     // It's common that people try to double-click</span>
<a href="#l6.273"></a><span id="l6.273">     // to select a word, but the click hits an empty area.</span>
<a href="#l6.274"></a><span id="l6.274">     if (element &amp;&amp;</span>
<a href="#l6.275"></a><span id="l6.275">         ![&quot;body&quot;,&quot;p&quot;,&quot;h1&quot;,&quot;h2&quot;,&quot;h3&quot;,&quot;h4&quot;,&quot;h5&quot;,&quot;h6&quot;,&quot;blockquote&quot;,&quot;div&quot;,&quot;pre&quot;]</span>
<a href="#l6.276"></a><span id="l6.276">          .includes(element.nodeName.toLowerCase()))</span>
<a href="#l6.277"></a><span id="l6.277">     {</span>
<a href="#l6.278"></a><span id="l6.278" class="difflineminus">-      goDoCommand(&quot;cmd_objectProperties&quot;);  </span>
<a href="#l6.279"></a><span id="l6.279" class="difflineplus">+      goDoCommand(&quot;cmd_objectProperties&quot;);</span>
<a href="#l6.280"></a><span id="l6.280">       event.preventDefault();</span>
<a href="#l6.281"></a><span id="l6.281">     }</span>
<a href="#l6.282"></a><span id="l6.282">   }</span>
<a href="#l6.283"></a><span id="l6.283"> }</span>
<a href="#l6.284"></a><span id="l6.284"> </span>
<a href="#l6.285"></a><span id="l6.285"> function EditorClick(event)</span>
<a href="#l6.286"></a><span id="l6.286"> {</span>
<a href="#l6.287"></a><span id="l6.287">   // For Web Composer: In Show All Tags Mode,</span>
<a href="#l6.288"></a><span id="l6.288" class="difflineat">@@ -1626,17 +1626,17 @@ function EditorClick(event)</span>
<a href="#l6.289"></a><span id="l6.289">     try</span>
<a href="#l6.290"></a><span id="l6.290">     {</span>
<a href="#l6.291"></a><span id="l6.291">       // We check event.explicitOriginalTarget here because .target will never</span>
<a href="#l6.292"></a><span id="l6.292">       // be a textnode (bug 193689)</span>
<a href="#l6.293"></a><span id="l6.293">       var element = event.explicitOriginalTarget.QueryInterface(</span>
<a href="#l6.294"></a><span id="l6.294">                         Ci.nsIDOMElement);</span>
<a href="#l6.295"></a><span id="l6.295">       var name = element.localName;</span>
<a href="#l6.296"></a><span id="l6.296">       if (![&quot;body&quot;, &quot;caption&quot;, &quot;table&quot;, &quot;td&quot;, &quot;th&quot;, &quot;tr&quot;].includes(name))</span>
<a href="#l6.297"></a><span id="l6.297" class="difflineminus">-      {          </span>
<a href="#l6.298"></a><span id="l6.298" class="difflineplus">+      {</span>
<a href="#l6.299"></a><span id="l6.299">         GetCurrentEditor().selectElement(event.explicitOriginalTarget);</span>
<a href="#l6.300"></a><span id="l6.300">         event.preventDefault();</span>
<a href="#l6.301"></a><span id="l6.301">       }</span>
<a href="#l6.302"></a><span id="l6.302">     } catch (e) {}</span>
<a href="#l6.303"></a><span id="l6.303">   }</span>
<a href="#l6.304"></a><span id="l6.304"> }</span>
<a href="#l6.305"></a><span id="l6.305"> </span>
<a href="#l6.306"></a><span id="l6.306"> /*TODO: We need an oncreate hook to do enabling/disabling for the</span>
<a href="#l6.307"></a><span id="l6.307" class="difflineat">@@ -1753,17 +1753,17 @@ function SetEditMode(mode)</span>
<a href="#l6.308"></a><span id="l6.308">           doctypeNode.collapsed = true;</span>
<a href="#l6.309"></a><span id="l6.309">       }</span>
<a href="#l6.310"></a><span id="l6.310">     }</span>
<a href="#l6.311"></a><span id="l6.311">     // Get the entire document's source string</span>
<a href="#l6.312"></a><span id="l6.312"> </span>
<a href="#l6.313"></a><span id="l6.313">     var flags = (editor.documentCharacterSet == &quot;ISO-8859-1&quot;)</span>
<a href="#l6.314"></a><span id="l6.314">       ? kOutputEncodeLatin1Entities</span>
<a href="#l6.315"></a><span id="l6.315">       : kOutputEncodeBasicEntities;</span>
<a href="#l6.316"></a><span id="l6.316" class="difflineminus">-    try { </span>
<a href="#l6.317"></a><span id="l6.317" class="difflineplus">+    try {</span>
<a href="#l6.318"></a><span id="l6.318">       let encodeEntity = Services.prefs.getCharPref(&quot;editor.encode_entity&quot;);</span>
<a href="#l6.319"></a><span id="l6.319">       switch (encodeEntity) {</span>
<a href="#l6.320"></a><span id="l6.320">         case &quot;basic&quot;  : flags = kOutputEncodeBasicEntities; break;</span>
<a href="#l6.321"></a><span id="l6.321">         case &quot;latin1&quot; : flags = kOutputEncodeLatin1Entities; break;</span>
<a href="#l6.322"></a><span id="l6.322">         case &quot;html&quot;   : flags = kOutputEncodeHTMLEntities; break;</span>
<a href="#l6.323"></a><span id="l6.323">         case &quot;none&quot;   : flags = 0;     break;</span>
<a href="#l6.324"></a><span id="l6.324">       }</span>
<a href="#l6.325"></a><span id="l6.325">     } catch (e) { }</span>
<a href="#l6.326"></a><span id="l6.326" class="difflineat">@@ -1788,17 +1788,17 @@ function SetEditMode(mode)</span>
<a href="#l6.327"></a><span id="l6.327">     // Only rebuild document if a change was made in source window</span>
<a href="#l6.328"></a><span id="l6.328">     if (IsHTMLSourceChanged())</span>
<a href="#l6.329"></a><span id="l6.329">     {</span>
<a href="#l6.330"></a><span id="l6.330">       // Disable spell checking when rebuilding source</span>
<a href="#l6.331"></a><span id="l6.331">       InlineSpellCheckerUI.enabled = false;</span>
<a href="#l6.332"></a><span id="l6.332">       inlineSpellCheckItem.removeAttribute('checked');</span>
<a href="#l6.333"></a><span id="l6.333"> </span>
<a href="#l6.334"></a><span id="l6.334">       // Reduce the undo count so we don't use too much memory</span>
<a href="#l6.335"></a><span id="l6.335" class="difflineminus">-      //   during multiple uses of source window </span>
<a href="#l6.336"></a><span id="l6.336" class="difflineplus">+      //   during multiple uses of source window</span>
<a href="#l6.337"></a><span id="l6.337">       //   (reinserting entire doc caches all nodes)</span>
<a href="#l6.338"></a><span id="l6.338">       try {</span>
<a href="#l6.339"></a><span id="l6.339">         editor.transactionManager.maxTransactionCount = 1;</span>
<a href="#l6.340"></a><span id="l6.340">       } catch (e) {}</span>
<a href="#l6.341"></a><span id="l6.341"> </span>
<a href="#l6.342"></a><span id="l6.342">       editor.beginTransaction();</span>
<a href="#l6.343"></a><span id="l6.343">       try {</span>
<a href="#l6.344"></a><span id="l6.344">         // We are coming from edit source mode,</span>
<a href="#l6.345"></a><span id="l6.345" class="difflineat">@@ -1900,17 +1900,17 @@ function SetDisplayMode(mode)</span>
<a href="#l6.346"></a><span id="l6.346">     try {</span>
<a href="#l6.347"></a><span id="l6.347">       var editor = GetCurrentEditor();</span>
<a href="#l6.348"></a><span id="l6.348">       editor.QueryInterface(nsIEditorStyleSheets);</span>
<a href="#l6.349"></a><span id="l6.349">       editor instanceof Ci.nsIHTMLObjectResizer;</span>
<a href="#l6.350"></a><span id="l6.350"> </span>
<a href="#l6.351"></a><span id="l6.351">       switch (mode)</span>
<a href="#l6.352"></a><span id="l6.352">       {</span>
<a href="#l6.353"></a><span id="l6.353">         case kDisplayModePreview:</span>
<a href="#l6.354"></a><span id="l6.354" class="difflineminus">-          // Disable all extra &quot;edit mode&quot; style sheets </span>
<a href="#l6.355"></a><span id="l6.355" class="difflineplus">+          // Disable all extra &quot;edit mode&quot; style sheets</span>
<a href="#l6.356"></a><span id="l6.356">           editor.enableStyleSheet(kNormalStyleSheet, false);</span>
<a href="#l6.357"></a><span id="l6.357">           editor.enableStyleSheet(kAllTagsStyleSheet, false);</span>
<a href="#l6.358"></a><span id="l6.358">           editor.objectResizingEnabled = true;</span>
<a href="#l6.359"></a><span id="l6.359">           break;</span>
<a href="#l6.360"></a><span id="l6.360"> </span>
<a href="#l6.361"></a><span id="l6.361">         case kDisplayModeNormal:</span>
<a href="#l6.362"></a><span id="l6.362">           editor.addOverrideStyleSheet(kNormalStyleSheet);</span>
<a href="#l6.363"></a><span id="l6.363">           // Disable ShowAllTags mode</span>
<a href="#l6.364"></a><span id="l6.364" class="difflineat">@@ -1947,17 +1947,17 @@ function SetDisplayMode(mode)</span>
<a href="#l6.365"></a><span id="l6.365">   // Set the selected tab at bottom of window:</span>
<a href="#l6.366"></a><span id="l6.366">   // (Note: Setting &quot;selectedIndex = mode&quot; won't redraw tabs when menu is used.)</span>
<a href="#l6.367"></a><span id="l6.367">   document.getElementById(&quot;EditModeTabs&quot;).selectedItem = document.getElementById(kDisplayModeTabIDS[mode]);</span>
<a href="#l6.368"></a><span id="l6.368"> </span>
<a href="#l6.369"></a><span id="l6.369">   // Uncheck previous menuitem and set new check since toolbar may have been used</span>
<a href="#l6.370"></a><span id="l6.370">   if (previousMode &gt;= 0)</span>
<a href="#l6.371"></a><span id="l6.371">     document.getElementById(kDisplayModeMenuIDs[previousMode]).setAttribute(&quot;checked&quot;,&quot;false&quot;);</span>
<a href="#l6.372"></a><span id="l6.372">   document.getElementById(kDisplayModeMenuIDs[mode]).setAttribute(&quot;checked&quot;,&quot;true&quot;);</span>
<a href="#l6.373"></a><span id="l6.373" class="difflineminus">-  </span>
<a href="#l6.374"></a><span id="l6.374" class="difflineplus">+</span>
<a href="#l6.375"></a><span id="l6.375"> </span>
<a href="#l6.376"></a><span id="l6.376">   return true;</span>
<a href="#l6.377"></a><span id="l6.377"> }</span>
<a href="#l6.378"></a><span id="l6.378"> </span>
<a href="#l6.379"></a><span id="l6.379"> function UpdateWindowTitle()</span>
<a href="#l6.380"></a><span id="l6.380"> {</span>
<a href="#l6.381"></a><span id="l6.381">   try {</span>
<a href="#l6.382"></a><span id="l6.382">     var filename = &quot;&quot;;</span>
<a href="#l6.383"></a><span id="l6.383" class="difflineat">@@ -1978,17 +1978,17 @@ function UpdateWindowTitle()</span>
<a href="#l6.384"></a><span id="l6.384">       SaveRecentFilesPrefs(title, fileType);</span>
<a href="#l6.385"></a><span id="l6.385">     }</span>
<a href="#l6.386"></a><span id="l6.386"> </span>
<a href="#l6.387"></a><span id="l6.387">     // Set window title with &quot; - Composer&quot; or &quot; - Text Editor&quot; appended.</span>
<a href="#l6.388"></a><span id="l6.388">     var xulWin = document.documentElement;</span>
<a href="#l6.389"></a><span id="l6.389"> </span>
<a href="#l6.390"></a><span id="l6.390">     document.title = (title || filename || gUntitledString) +</span>
<a href="#l6.391"></a><span id="l6.391">                      windowTitle +</span>
<a href="#l6.392"></a><span id="l6.392" class="difflineminus">-                     xulWin.getAttribute(&quot;titlemenuseparator&quot;) + </span>
<a href="#l6.393"></a><span id="l6.393" class="difflineplus">+                     xulWin.getAttribute(&quot;titlemenuseparator&quot;) +</span>
<a href="#l6.394"></a><span id="l6.394">                      xulWin.getAttribute(&quot;titlemodifier&quot;);</span>
<a href="#l6.395"></a><span id="l6.395">   } catch (e) { dump(e); }</span>
<a href="#l6.396"></a><span id="l6.396"> }</span>
<a href="#l6.397"></a><span id="l6.397"> </span>
<a href="#l6.398"></a><span id="l6.398"> function SaveRecentFilesPrefs(aTitle, aFileType)</span>
<a href="#l6.399"></a><span id="l6.399"> {</span>
<a href="#l6.400"></a><span id="l6.400">   var curUrl = StripPassword(GetDocumentUrl());</span>
<a href="#l6.401"></a><span id="l6.401">   var historyCount = Services.prefs.getIntPref(&quot;editor.history.url_maximum&quot;);</span>
<a href="#l6.402"></a><span id="l6.402" class="difflineat">@@ -2003,17 +2003,17 @@ function SaveRecentFilesPrefs(aTitle, aF</span>
<a href="#l6.403"></a><span id="l6.403">     urlArray.push(curUrl);</span>
<a href="#l6.404"></a><span id="l6.404">     typeArray.push(aFileType);</span>
<a href="#l6.405"></a><span id="l6.405">   }</span>
<a href="#l6.406"></a><span id="l6.406"> </span>
<a href="#l6.407"></a><span id="l6.407">   for (let i = 0; i &lt; historyCount &amp;&amp; urlArray.length &lt; historyCount; i++)</span>
<a href="#l6.408"></a><span id="l6.408">   {</span>
<a href="#l6.409"></a><span id="l6.409">     let url = GetStringPref(&quot;editor.history_url_&quot; + i);</span>
<a href="#l6.410"></a><span id="l6.410"> </span>
<a href="#l6.411"></a><span id="l6.411" class="difflineminus">-    // Continue if URL pref is missing because </span>
<a href="#l6.412"></a><span id="l6.412" class="difflineplus">+    // Continue if URL pref is missing because</span>
<a href="#l6.413"></a><span id="l6.413">     //  a URL not found during loading may have been removed</span>
<a href="#l6.414"></a><span id="l6.414"> </span>
<a href="#l6.415"></a><span id="l6.415">     // Skip over current an &quot;data&quot; URLs</span>
<a href="#l6.416"></a><span id="l6.416">     if (url &amp;&amp; url != curUrl &amp;&amp; GetScheme(url) != &quot;data&quot;)</span>
<a href="#l6.417"></a><span id="l6.417">     {</span>
<a href="#l6.418"></a><span id="l6.418">       let title = GetStringPref(&quot;editor.history_title_&quot; + i);</span>
<a href="#l6.419"></a><span id="l6.419">       let fileType = GetStringPref(&quot;editor.history_type_&quot; + i);</span>
<a href="#l6.420"></a><span id="l6.420">       titleArray.push(title);</span>
<a href="#l6.421"></a><span id="l6.421" class="difflineat">@@ -2069,17 +2069,17 @@ function InitObjectPropertiesMenuitem()</span>
<a href="#l6.422"></a><span id="l6.422">         {</span>
<a href="#l6.423"></a><span id="l6.423">           if (GetCurrentEditor().getElementOrParentByTagName(&quot;href&quot;, element))</span>
<a href="#l6.424"></a><span id="l6.424">           {</span>
<a href="#l6.425"></a><span id="l6.425">             objStr = GetString(&quot;ImageAndLink&quot;);</span>
<a href="#l6.426"></a><span id="l6.426">             // Return &quot;href&quot; so it is detected as a link.</span>
<a href="#l6.427"></a><span id="l6.427">             name = &quot;href&quot;;</span>
<a href="#l6.428"></a><span id="l6.428">           }</span>
<a href="#l6.429"></a><span id="l6.429">         } catch(e) {}</span>
<a href="#l6.430"></a><span id="l6.430" class="difflineminus">-        </span>
<a href="#l6.431"></a><span id="l6.431" class="difflineplus">+</span>
<a href="#l6.432"></a><span id="l6.432">         if (objStr == &quot;&quot;)</span>
<a href="#l6.433"></a><span id="l6.433">           objStr = GetString(&quot;Image&quot;);</span>
<a href="#l6.434"></a><span id="l6.434">         break;</span>
<a href="#l6.435"></a><span id="l6.435">       case &quot;hr&quot;:</span>
<a href="#l6.436"></a><span id="l6.436">         objStr = GetString(&quot;HLine&quot;);</span>
<a href="#l6.437"></a><span id="l6.437">         break;</span>
<a href="#l6.438"></a><span id="l6.438">       case &quot;table&quot;:</span>
<a href="#l6.439"></a><span id="l6.439">         objStr = GetString(&quot;Table&quot;);</span>
<a href="#l6.440"></a><span id="l6.440" class="difflineat">@@ -2268,34 +2268,34 @@ function InitAlignMenu()</span>
<a href="#l6.441"></a><span id="l6.441">     menuItem.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l6.442"></a><span id="l6.442"> }</span>
<a href="#l6.443"></a><span id="l6.443"> </span>
<a href="#l6.444"></a><span id="l6.444"> function EditorSetDefaultPrefsAndDoctype()</span>
<a href="#l6.445"></a><span id="l6.445"> {</span>
<a href="#l6.446"></a><span id="l6.446">   var editor = GetCurrentEditor();</span>
<a href="#l6.447"></a><span id="l6.447"> </span>
<a href="#l6.448"></a><span id="l6.448">   var domdoc;</span>
<a href="#l6.449"></a><span id="l6.449" class="difflineminus">-  try { </span>
<a href="#l6.450"></a><span id="l6.450" class="difflineplus">+  try {</span>
<a href="#l6.451"></a><span id="l6.451">     domdoc = editor.document;</span>
<a href="#l6.452"></a><span id="l6.452">   } catch (e) { dump( e + &quot;\n&quot;); }</span>
<a href="#l6.453"></a><span id="l6.453">   if ( !domdoc )</span>
<a href="#l6.454"></a><span id="l6.454">   {</span>
<a href="#l6.455"></a><span id="l6.455">     dump(&quot;EditorSetDefaultPrefsAndDoctype: EDITOR DOCUMENT NOT FOUND\n&quot;);</span>
<a href="#l6.456"></a><span id="l6.456">     return;</span>
<a href="#l6.457"></a><span id="l6.457">   }</span>
<a href="#l6.458"></a><span id="l6.458"> </span>
<a href="#l6.459"></a><span id="l6.459" class="difflineminus">-  // Insert a doctype element </span>
<a href="#l6.460"></a><span id="l6.460" class="difflineplus">+  // Insert a doctype element</span>
<a href="#l6.461"></a><span id="l6.461">   // if it is missing from existing doc</span>
<a href="#l6.462"></a><span id="l6.462">   if (!domdoc.doctype)</span>
<a href="#l6.463"></a><span id="l6.463">   {</span>
<a href="#l6.464"></a><span id="l6.464">     var newdoctype = domdoc.implementation.createDocumentType(&quot;HTML&quot;, &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;,&quot;&quot;);</span>
<a href="#l6.465"></a><span id="l6.465">     if (newdoctype)</span>
<a href="#l6.466"></a><span id="l6.466">       domdoc.insertBefore(newdoctype, domdoc.firstChild);</span>
<a href="#l6.467"></a><span id="l6.467">   }</span>
<a href="#l6.468"></a><span id="l6.468" class="difflineminus">-  </span>
<a href="#l6.469"></a><span id="l6.469" class="difflineplus">+</span>
<a href="#l6.470"></a><span id="l6.470">   // search for head; we'll need this for meta tag additions</span>
<a href="#l6.471"></a><span id="l6.471">   let headelement = domdoc.querySelector(&quot;head&quot;);</span>
<a href="#l6.472"></a><span id="l6.472">   if (!headelement)</span>
<a href="#l6.473"></a><span id="l6.473">   {</span>
<a href="#l6.474"></a><span id="l6.474">     headelement = domdoc.createElement(&quot;head&quot;);</span>
<a href="#l6.475"></a><span id="l6.475">     if (headelement)</span>
<a href="#l6.476"></a><span id="l6.476">       domdoc.insertAfter(headelement, domdoc.firstChild);</span>
<a href="#l6.477"></a><span id="l6.477">   }</span>
<a href="#l6.478"></a><span id="l6.478" class="difflineat">@@ -2577,17 +2577,17 @@ function InitJoinCellMenuitem(id)</span>
<a href="#l6.479"></a><span id="l6.479">   //       included in the selection?</span>
<a href="#l6.480"></a><span id="l6.480">   var menuText;</span>
<a href="#l6.481"></a><span id="l6.481">   var menuItem = document.getElementById(id);</span>
<a href="#l6.482"></a><span id="l6.482">   if (!menuItem) return;</span>
<a href="#l6.483"></a><span id="l6.483"> </span>
<a href="#l6.484"></a><span id="l6.484">   // Use &quot;Join selected cells if there's more than 1 cell selected</span>
<a href="#l6.485"></a><span id="l6.485">   var numSelected;</span>
<a href="#l6.486"></a><span id="l6.486">   var foundElement;</span>
<a href="#l6.487"></a><span id="l6.487" class="difflineminus">-  </span>
<a href="#l6.488"></a><span id="l6.488" class="difflineplus">+</span>
<a href="#l6.489"></a><span id="l6.489">   try {</span>
<a href="#l6.490"></a><span id="l6.490">     var tagNameObj = {};</span>
<a href="#l6.491"></a><span id="l6.491">     var countObj = {value:0}</span>
<a href="#l6.492"></a><span id="l6.492">     foundElement = GetCurrentTableEditor().getSelectedOrParentTableElement(tagNameObj, countObj);</span>
<a href="#l6.493"></a><span id="l6.493">     numSelected = countObj.value</span>
<a href="#l6.494"></a><span id="l6.494">   }</span>
<a href="#l6.495"></a><span id="l6.495">   catch(e) {}</span>
<a href="#l6.496"></a><span id="l6.496">   if (foundElement &amp;&amp; numSelected &gt; 1)</span>
<a href="#l6.497"></a><span id="l6.497" class="difflineat">@@ -2621,17 +2621,17 @@ function InitRemoveStylesMenuitems(remov</span>
<a href="#l6.498"></a><span id="l6.498">     linkItem.setAttribute(&quot;accesskey&quot;, GetString(&quot;RemoveLinksAccesskey&quot;));</span>
<a href="#l6.499"></a><span id="l6.499">     // Note: disabling text style is a pain since there are so many - forget it!</span>
<a href="#l6.500"></a><span id="l6.500"> </span>
<a href="#l6.501"></a><span id="l6.501">     // Disable if not in a link, but always allow &quot;Remove&quot;</span>
<a href="#l6.502"></a><span id="l6.502">     //  if selection isn't collapsed since we only look at anchor node</span>
<a href="#l6.503"></a><span id="l6.503">     try {</span>
<a href="#l6.504"></a><span id="l6.504">       SetElementEnabled(linkItem, !isCollapsed ||</span>
<a href="#l6.505"></a><span id="l6.505">                       editor.getElementOrParentByTagName(&quot;href&quot;, null));</span>
<a href="#l6.506"></a><span id="l6.506" class="difflineminus">-    } catch(e) {}      </span>
<a href="#l6.507"></a><span id="l6.507" class="difflineplus">+    } catch(e) {}</span>
<a href="#l6.508"></a><span id="l6.508">   }</span>
<a href="#l6.509"></a><span id="l6.509">   // Disable if selection is collapsed</span>
<a href="#l6.510"></a><span id="l6.510">   SetElementEnabledById(removeNamedAnchorsId, !isCollapsed);</span>
<a href="#l6.511"></a><span id="l6.511"> }</span>
<a href="#l6.512"></a><span id="l6.512"> </span>
<a href="#l6.513"></a><span id="l6.513"> function goUpdateTableMenuItems(commandset)</span>
<a href="#l6.514"></a><span id="l6.514"> {</span>
<a href="#l6.515"></a><span id="l6.515">   var editor = GetCurrentTableEditor();</span>
<a href="#l6.516"></a><span id="l6.516" class="difflineat">@@ -2711,17 +2711,17 @@ function IsInTable()</span>
<a href="#l6.517"></a><span id="l6.517"> }</span>
<a href="#l6.518"></a><span id="l6.518"> </span>
<a href="#l6.519"></a><span id="l6.519"> function IsInTableCell()</span>
<a href="#l6.520"></a><span id="l6.520"> {</span>
<a href="#l6.521"></a><span id="l6.521">   try {</span>
<a href="#l6.522"></a><span id="l6.522">     var editor = GetCurrentEditor();</span>
<a href="#l6.523"></a><span id="l6.523">     var flags = editor.flags;</span>
<a href="#l6.524"></a><span id="l6.524">     return (IsHTMLEditor() &amp;&amp;</span>
<a href="#l6.525"></a><span id="l6.525" class="difflineminus">-            !(flags &amp; nsIPlaintextEditor.eEditorReadonlyMask) &amp;&amp; </span>
<a href="#l6.526"></a><span id="l6.526" class="difflineplus">+            !(flags &amp; nsIPlaintextEditor.eEditorReadonlyMask) &amp;&amp;</span>
<a href="#l6.527"></a><span id="l6.527">             IsEditingRenderedHTML() &amp;&amp;</span>
<a href="#l6.528"></a><span id="l6.528">             null != editor.getElementOrParentByTagName(&quot;td&quot;, null));</span>
<a href="#l6.529"></a><span id="l6.529">   } catch (e) {}</span>
<a href="#l6.530"></a><span id="l6.530">   return false;</span>
<a href="#l6.531"></a><span id="l6.531"> </span>
<a href="#l6.532"></a><span id="l6.532"> }</span>
<a href="#l6.533"></a><span id="l6.533"> </span>
<a href="#l6.534"></a><span id="l6.534"> function IsSelectionInOneCell()</span>
<a href="#l6.535"></a><span id="l6.535" class="difflineat">@@ -2752,17 +2752,17 @@ function IsSelectionInOneCell()</span>
<a href="#l6.536"></a><span id="l6.536"> //   else use false to do nothing if not in a table</span>
<a href="#l6.537"></a><span id="l6.537"> function EditorInsertOrEditTable(insertAllowed)</span>
<a href="#l6.538"></a><span id="l6.538"> {</span>
<a href="#l6.539"></a><span id="l6.539">   if (IsInTable())</span>
<a href="#l6.540"></a><span id="l6.540">   {</span>
<a href="#l6.541"></a><span id="l6.541">     // Edit properties of existing table</span>
<a href="#l6.542"></a><span id="l6.542">     window.openDialog(&quot;chrome://editor/content/EdTableProps.xul&quot;, &quot;_blank&quot;, &quot;chrome,close,titlebar,modal&quot;, &quot;&quot;,&quot;TablePanel&quot;);</span>
<a href="#l6.543"></a><span id="l6.543">     gContentWindow.focus();</span>
<a href="#l6.544"></a><span id="l6.544" class="difflineminus">-  } </span>
<a href="#l6.545"></a><span id="l6.545" class="difflineplus">+  }</span>
<a href="#l6.546"></a><span id="l6.546">   else if (insertAllowed)</span>
<a href="#l6.547"></a><span id="l6.547">   {</span>
<a href="#l6.548"></a><span id="l6.548">     try {</span>
<a href="#l6.549"></a><span id="l6.549">       if (GetCurrentEditor().selection.isCollapsed)</span>
<a href="#l6.550"></a><span id="l6.550">         // If we have a caret, insert a blank table...</span>
<a href="#l6.551"></a><span id="l6.551">         EditorInsertTable();</span>
<a href="#l6.552"></a><span id="l6.552">       else</span>
<a href="#l6.553"></a><span id="l6.553">         // else convert the selection into a table</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/editor/ui/composer/content/editorApplicationOverlay.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/editor/ui/composer/content/editorApplicationOverlay.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -5,45 +5,45 @@</span>
<a href="#l7.4"></a><span id="l7.4"> </span>
<a href="#l7.5"></a><span id="l7.5"> /* Implementations of nsIControllerCommand for composer commands */</span>
<a href="#l7.6"></a><span id="l7.6"> </span>
<a href="#l7.7"></a><span id="l7.7"> function initEditorContextMenuItems(aEvent)</span>
<a href="#l7.8"></a><span id="l7.8"> {</span>
<a href="#l7.9"></a><span id="l7.9">   var shouldShowEditPage = !gContextMenu.onImage &amp;&amp; !gContextMenu.onLink &amp;&amp; !gContextMenu.onTextInput &amp;&amp; !gContextMenu.inDirList;</span>
<a href="#l7.10"></a><span id="l7.10">   gContextMenu.showItem( &quot;context-editpage&quot;, shouldShowEditPage );</span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-  var shouldShowEditLink = gContextMenu.onSaveableLink; </span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+  var shouldShowEditLink = gContextMenu.onSaveableLink;</span>
<a href="#l7.14"></a><span id="l7.14">   gContextMenu.showItem( &quot;context-editlink&quot;, shouldShowEditLink );</span>
<a href="#l7.15"></a><span id="l7.15"> </span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-  // Hide the applications separator if there's no add-on apps present. </span>
<a href="#l7.17"></a><span id="l7.17" class="difflineplus">+  // Hide the applications separator if there's no add-on apps present.</span>
<a href="#l7.18"></a><span id="l7.18">   gContextMenu.showItem(&quot;context-sep-apps&quot;, gContextMenu.shouldShowSeparator(&quot;context-sep-apps&quot;));</span>
<a href="#l7.19"></a><span id="l7.19"> }</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-  </span>
<a href="#l7.21"></a><span id="l7.21" class="difflineplus">+</span>
<a href="#l7.22"></a><span id="l7.22"> function initEditorContextMenuListener(aEvent)</span>
<a href="#l7.23"></a><span id="l7.23"> {</span>
<a href="#l7.24"></a><span id="l7.24">   var popup = document.getElementById(&quot;contentAreaContextMenu&quot;);</span>
<a href="#l7.25"></a><span id="l7.25">   if (popup)</span>
<a href="#l7.26"></a><span id="l7.26">     popup.addEventListener(&quot;popupshowing&quot;, initEditorContextMenuItems);</span>
<a href="#l7.27"></a><span id="l7.27"> }</span>
<a href="#l7.28"></a><span id="l7.28"> </span>
<a href="#l7.29"></a><span id="l7.29"> addEventListener(&quot;load&quot;, initEditorContextMenuListener, false);</span>
<a href="#l7.30"></a><span id="l7.30"> </span>
<a href="#l7.31"></a><span id="l7.31" class="difflineminus">-function editDocument(aDocument)      </span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+function editDocument(aDocument)</span>
<a href="#l7.33"></a><span id="l7.33"> {</span>
<a href="#l7.34"></a><span id="l7.34">   if (!aDocument)</span>
<a href="#l7.35"></a><span id="l7.35">     aDocument = window.content.document;</span>
<a href="#l7.36"></a><span id="l7.36"> </span>
<a href="#l7.37"></a><span id="l7.37" class="difflineminus">-  editPage(aDocument.URL); </span>
<a href="#l7.38"></a><span id="l7.38" class="difflineplus">+  editPage(aDocument.URL);</span>
<a href="#l7.39"></a><span id="l7.39"> }</span>
<a href="#l7.40"></a><span id="l7.40"> </span>
<a href="#l7.41"></a><span id="l7.41"> function editPageOrFrame()</span>
<a href="#l7.42"></a><span id="l7.42"> {</span>
<a href="#l7.43"></a><span id="l7.43">   var focusedWindow = document.commandDispatcher.focusedWindow;</span>
<a href="#l7.44"></a><span id="l7.44"> </span>
<a href="#l7.45"></a><span id="l7.45" class="difflineminus">-  // if the uri is a specific frame, grab it, else use the frameset uri </span>
<a href="#l7.46"></a><span id="l7.46" class="difflineplus">+  // if the uri is a specific frame, grab it, else use the frameset uri</span>
<a href="#l7.47"></a><span id="l7.47">   // and let Composer handle error if necessary</span>
<a href="#l7.48"></a><span id="l7.48">   editPage(getContentFrameURI(focusedWindow));</span>
<a href="#l7.49"></a><span id="l7.49"> }</span>
<a href="#l7.50"></a><span id="l7.50"> </span>
<a href="#l7.51"></a><span id="l7.51"> function getContentFrameURI(aFocusedWindow)</span>
<a href="#l7.52"></a><span id="l7.52"> {</span>
<a href="#l7.53"></a><span id="l7.53">   let isContentFrame = aFocusedWindow ?</span>
<a href="#l7.54"></a><span id="l7.54">                          (aFocusedWindow.top == window.content) : false;</span>
<a href="#l7.55"></a><span id="l7.55" class="difflineat">@@ -60,17 +60,17 @@ function getContentFrameURI(aFocusedWind</span>
<a href="#l7.56"></a><span id="l7.56"> function editPage(url, aFileType)</span>
<a href="#l7.57"></a><span id="l7.57"> {</span>
<a href="#l7.58"></a><span id="l7.58">   // aFileType is optional and needs to default to html.</span>
<a href="#l7.59"></a><span id="l7.59">   aFileType = aFileType || &quot;html&quot;;</span>
<a href="#l7.60"></a><span id="l7.60"> </span>
<a href="#l7.61"></a><span id="l7.61">   // Always strip off &quot;view-source:&quot; and #anchors</span>
<a href="#l7.62"></a><span id="l7.62">   url = url.replace(/^view-source:/, &quot;&quot;).replace(/#.*/, &quot;&quot;);</span>
<a href="#l7.63"></a><span id="l7.63"> </span>
<a href="#l7.64"></a><span id="l7.64" class="difflineminus">-  // if the current window is a browser window, then extract the current charset menu setting from the current </span>
<a href="#l7.65"></a><span id="l7.65" class="difflineplus">+  // if the current window is a browser window, then extract the current charset menu setting from the current</span>
<a href="#l7.66"></a><span id="l7.66">   // document and use it to initialize the new composer window...</span>
<a href="#l7.67"></a><span id="l7.67"> </span>
<a href="#l7.68"></a><span id="l7.68">   var wintype = document.documentElement.getAttribute('windowtype');</span>
<a href="#l7.69"></a><span id="l7.69">   var charsetArg;</span>
<a href="#l7.70"></a><span id="l7.70"> </span>
<a href="#l7.71"></a><span id="l7.71">   if (wintype == &quot;navigator:browser&quot; &amp;&amp; content.document)</span>
<a href="#l7.72"></a><span id="l7.72">     charsetArg = &quot;charset=&quot; + content.document.characterSet;</span>
<a href="#l7.73"></a><span id="l7.73"> </span>
<a href="#l7.74"></a><span id="l7.74" class="difflineat">@@ -126,17 +126,17 @@ function createURI(urlstring)</span>
<a href="#l7.75"></a><span id="l7.75">   return null;</span>
<a href="#l7.76"></a><span id="l7.76"> }</span>
<a href="#l7.77"></a><span id="l7.77"> </span>
<a href="#l7.78"></a><span id="l7.78"> function CheckOpenWindowForURIMatch(uri, win)</span>
<a href="#l7.79"></a><span id="l7.79"> {</span>
<a href="#l7.80"></a><span id="l7.80">   try {</span>
<a href="#l7.81"></a><span id="l7.81">     return createURI(win.content.document.URL).equals(uri);</span>
<a href="#l7.82"></a><span id="l7.82">   } catch (e) {}</span>
<a href="#l7.83"></a><span id="l7.83" class="difflineminus">-  </span>
<a href="#l7.84"></a><span id="l7.84" class="difflineplus">+</span>
<a href="#l7.85"></a><span id="l7.85">   return false;</span>
<a href="#l7.86"></a><span id="l7.86"> }</span>
<a href="#l7.87"></a><span id="l7.87"> </span>
<a href="#l7.88"></a><span id="l7.88"> function toEditor()</span>
<a href="#l7.89"></a><span id="l7.89"> {</span>
<a href="#l7.90"></a><span id="l7.90">   if (!CycleWindow(&quot;composer:html&quot;))</span>
<a href="#l7.91"></a><span id="l7.91">     NewEditorWindow();</span>
<a href="#l7.92"></a><span id="l7.92"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/editor/ui/composer/content/editorMailOverlay.xul</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/editor/ui/composer/content/editorMailOverlay.xul</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -9,17 +9,17 @@</span>
<a href="#l8.4"></a><span id="l8.4"> </span>
<a href="#l8.5"></a><span id="l8.5"> &lt;overlay id=&quot;editorMailOverlay&quot;</span>
<a href="#l8.6"></a><span id="l8.6">          xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8">   &lt;!-- navigator specific commands --&gt;</span>
<a href="#l8.9"></a><span id="l8.9">   &lt;commandset id=&quot;tasksCommands&quot;&gt;</span>
<a href="#l8.10"></a><span id="l8.10">     &lt;!-- XXX insert commands here --&gt;</span>
<a href="#l8.11"></a><span id="l8.11">   &lt;/commandset&gt;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-         </span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+</span>
<a href="#l8.14"></a><span id="l8.14">   &lt;!-- navigator specific UI items --&gt;</span>
<a href="#l8.15"></a><span id="l8.15">   &lt;menupopup id=&quot;menu_NewPopup&quot;&gt;</span>
<a href="#l8.16"></a><span id="l8.16">     &lt;!-- XXX insert File-&gt;New Menu add-ins here --&gt;</span>
<a href="#l8.17"></a><span id="l8.17">   &lt;/menupopup&gt;</span>
<a href="#l8.18"></a><span id="l8.18"> </span>
<a href="#l8.19"></a><span id="l8.19">   &lt;menupopup id=&quot;menu_FilePopup&quot;&gt;</span>
<a href="#l8.20"></a><span id="l8.20">     &lt;!-- XXX insert File Menu add-ins here --&gt;</span>
<a href="#l8.21"></a><span id="l8.21">   &lt;/menupopup&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/editor/ui/composer/content/editorNavigatorOverlay.xul</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/editor/ui/composer/content/editorNavigatorOverlay.xul</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -9,19 +9,19 @@</span>
<a href="#l9.4"></a><span id="l9.4"> </span>
<a href="#l9.5"></a><span id="l9.5"> &lt;overlay id=&quot;editorNavigatorOverlay&quot;</span>
<a href="#l9.6"></a><span id="l9.6">          xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8">   &lt;!-- navigator specific commands --&gt;</span>
<a href="#l9.9"></a><span id="l9.9">   &lt;commandset id=&quot;tasksCommands&quot;&gt;</span>
<a href="#l9.10"></a><span id="l9.10">     &lt;!-- XXX insert commands here --&gt;</span>
<a href="#l9.11"></a><span id="l9.11">   &lt;/commandset&gt;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-         </span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+</span>
<a href="#l9.14"></a><span id="l9.14">   &lt;!-- navigator specific UI items --&gt;</span>
<a href="#l9.15"></a><span id="l9.15">   &lt;menupopup id=&quot;menu_NewPopup&quot;&gt;</span>
<a href="#l9.16"></a><span id="l9.16">     &lt;!-- XXX insert File-&gt;New Menu add-ins here --&gt;</span>
<a href="#l9.17"></a><span id="l9.17">   &lt;/menupopup&gt;</span>
<a href="#l9.18"></a><span id="l9.18"> </span>
<a href="#l9.19"></a><span id="l9.19">   &lt;menupopup id=&quot;menu_FilePopup&quot;&gt;</span>
<a href="#l9.20"></a><span id="l9.20">     &lt;!-- XXX insert File Menu add-ins here --&gt;</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineminus">-  &lt;/menupopup&gt; </span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l9.23"></a><span id="l9.23"> &lt;/overlay&gt;</span>
<a href="#l9.24"></a><span id="l9.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/editor/ui/composer/content/editorPrefsOverlay.xul</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/editor/ui/composer/content/editorPrefsOverlay.xul</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -47,9 +47,9 @@</span>
<a href="#l10.4"></a><span id="l10.4">                   label=&quot;&amp;toolbars.label;&quot;</span>
<a href="#l10.5"></a><span id="l10.5">                   prefpane=&quot;toolbars_pane&quot;</span>
<a href="#l10.6"></a><span id="l10.6">                   url=&quot;chrome://editor/content/pref-toolbars.xul&quot;</span>
<a href="#l10.7"></a><span id="l10.7">                   helpTopic=&quot;composer_prefs_toolbars&quot;/&gt;</span>
<a href="#l10.8"></a><span id="l10.8">       &lt;/treechildren&gt;</span>
<a href="#l10.9"></a><span id="l10.9">     &lt;/treeitem&gt;</span>
<a href="#l10.10"></a><span id="l10.10">   &lt;/treechildren&gt;</span>
<a href="#l10.11"></a><span id="l10.11"> </span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-&lt;/overlay&gt;         </span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+&lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/editor/ui/composer/content/editorSmileyOverlay.xul</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/editor/ui/composer/content/editorSmileyOverlay.xul</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1,108 +1,108 @@</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt; </span>
<a href="#l11.5"></a><span id="l11.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l11.6"></a><span id="l11.6"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.7"></a><span id="l11.7">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.8"></a><span id="l11.8">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10"> &lt;!DOCTYPE overlay SYSTEM &quot;chrome://editor/locale/editorSmileyOverlay.dtd&quot;&gt;</span>
<a href="#l11.11"></a><span id="l11.11"> </span>
<a href="#l11.12"></a><span id="l11.12"> &lt;overlay xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l11.13"></a><span id="l11.13">   &lt;!-- smiley menu --&gt;</span>
<a href="#l11.14"></a><span id="l11.14">   &lt;toolbarbutton id=&quot;smileButtonMenu&quot;</span>
<a href="#l11.15"></a><span id="l11.15">                  class=&quot;formatting-button&quot;</span>
<a href="#l11.16"></a><span id="l11.16">                  tooltiptext=&quot;&amp;SmileButton.tooltip;&quot;</span>
<a href="#l11.17"></a><span id="l11.17">                  type=&quot;menu&quot;</span>
<a href="#l11.18"></a><span id="l11.18">                  observes=&quot;cmd_smiley&quot;&gt;</span>
<a href="#l11.19"></a><span id="l11.19">     &lt;menupopup id=&quot;smilyPopup&quot;&gt;</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineminus">-      &lt;menuitem class=&quot;smiley insert-smile menuitem-iconic&quot;       label=&quot;&amp;smiley1Cmd.label;&quot; </span>
<a href="#l11.21"></a><span id="l11.21" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-)'  )&quot;  </span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+      &lt;menuitem class=&quot;smiley insert-smile menuitem-iconic&quot;       label=&quot;&amp;smiley1Cmd.label;&quot;</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-)'  )&quot;</span>
<a href="#l11.24"></a><span id="l11.24">                 tooltiptext=&quot;&amp;smiley1Cmd.tooltip;&quot;  /&gt;</span>
<a href="#l11.25"></a><span id="l11.25">       &lt;menuitem class=&quot;smiley insert-frown menuitem-iconic&quot;       label=&quot;&amp;smiley2Cmd.label;&quot;</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-('  )&quot; </span>
<a href="#l11.27"></a><span id="l11.27" class="difflineminus">-                tooltiptext=&quot;&amp;smiley2Cmd.tooltip;&quot;  /&gt;                                              </span>
<a href="#l11.28"></a><span id="l11.28" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-('  )&quot;</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineplus">+                tooltiptext=&quot;&amp;smiley2Cmd.tooltip;&quot;  /&gt;</span>
<a href="#l11.30"></a><span id="l11.30">       &lt;menuitem class=&quot;smiley insert-wink menuitem-iconic&quot;        label=&quot;&amp;smiley3Cmd.label;&quot;</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', ';-)'  )&quot;  </span>
<a href="#l11.32"></a><span id="l11.32" class="difflineminus">-                tooltiptext=&quot;&amp;smiley3Cmd.tooltip;&quot;  /&gt;                       </span>
<a href="#l11.33"></a><span id="l11.33" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', ';-)'  )&quot;</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineplus">+                tooltiptext=&quot;&amp;smiley3Cmd.tooltip;&quot;  /&gt;</span>
<a href="#l11.35"></a><span id="l11.35">       &lt;menuitem class=&quot;smiley insert-tongue menuitem-iconic&quot;      label=&quot;&amp;smiley4Cmd.label;&quot;</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-P'  )&quot; </span>
<a href="#l11.37"></a><span id="l11.37" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-P'  )&quot;</span>
<a href="#l11.38"></a><span id="l11.38">                 tooltiptext=&quot;&amp;smiley4Cmd.tooltip;&quot;  /&gt;</span>
<a href="#l11.39"></a><span id="l11.39">       &lt;menuitem class=&quot;smiley insert-laughing menuitem-iconic&quot;    label=&quot;&amp;smiley5Cmd.label;&quot;</span>
<a href="#l11.40"></a><span id="l11.40" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-D'  )&quot; </span>
<a href="#l11.41"></a><span id="l11.41" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-D'  )&quot;</span>
<a href="#l11.42"></a><span id="l11.42">                 tooltiptext=&quot;&amp;smiley5Cmd.tooltip;&quot;  /&gt;</span>
<a href="#l11.43"></a><span id="l11.43">       &lt;menuitem class=&quot;smiley insert-embarrassed menuitem-iconic&quot; label=&quot;&amp;smiley6Cmd.label;&quot;</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-['  )&quot; </span>
<a href="#l11.45"></a><span id="l11.45" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-['  )&quot;</span>
<a href="#l11.46"></a><span id="l11.46">                 tooltiptext=&quot;&amp;smiley6Cmd.tooltip;&quot;  /&gt;</span>
<a href="#l11.47"></a><span id="l11.47">       &lt;menuitem class=&quot;smiley insert-undecided menuitem-iconic&quot;   label=&quot;&amp;smiley7Cmd.label;&quot;</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-\\' )&quot; </span>
<a href="#l11.49"></a><span id="l11.49" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-\\' )&quot;</span>
<a href="#l11.50"></a><span id="l11.50">                 tooltiptext=&quot;&amp;smiley7Cmd.tooltip;&quot;  /&gt;</span>
<a href="#l11.51"></a><span id="l11.51">       &lt;menuitem class=&quot;smiley insert-surprise menuitem-iconic&quot;   label=&quot;&amp;smiley8Cmd.label;&quot;</span>
<a href="#l11.52"></a><span id="l11.52" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', '=-O' )&quot; </span>
<a href="#l11.53"></a><span id="l11.53" class="difflineminus">-                tooltiptext=&quot;&amp;smiley8Cmd.tooltip;&quot;  /&gt;           </span>
<a href="#l11.54"></a><span id="l11.54" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', '=-O' )&quot;</span>
<a href="#l11.55"></a><span id="l11.55" class="difflineplus">+                tooltiptext=&quot;&amp;smiley8Cmd.tooltip;&quot;  /&gt;</span>
<a href="#l11.56"></a><span id="l11.56">       &lt;menuitem class=&quot;smiley insert-kiss menuitem-iconic&quot;   label=&quot;&amp;smiley9Cmd.label;&quot;</span>
<a href="#l11.57"></a><span id="l11.57" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-*' )&quot; </span>
<a href="#l11.58"></a><span id="l11.58" class="difflineminus">-                tooltiptext=&quot;&amp;smiley9Cmd.tooltip;&quot;  /&gt;           </span>
<a href="#l11.59"></a><span id="l11.59" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-*' )&quot;</span>
<a href="#l11.60"></a><span id="l11.60" class="difflineplus">+                tooltiptext=&quot;&amp;smiley9Cmd.tooltip;&quot;  /&gt;</span>
<a href="#l11.61"></a><span id="l11.61">       &lt;menuitem class=&quot;smiley insert-yell menuitem-iconic&quot;   label=&quot;&amp;smiley10Cmd.label;&quot;</span>
<a href="#l11.62"></a><span id="l11.62" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', '&gt;:o' )&quot; </span>
<a href="#l11.63"></a><span id="l11.63" class="difflineminus">-                tooltiptext=&quot;&amp;smiley10Cmd.tooltip;&quot; /&gt;           </span>
<a href="#l11.64"></a><span id="l11.64" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', '&gt;:o' )&quot;</span>
<a href="#l11.65"></a><span id="l11.65" class="difflineplus">+                tooltiptext=&quot;&amp;smiley10Cmd.tooltip;&quot; /&gt;</span>
<a href="#l11.66"></a><span id="l11.66">       &lt;menuitem class=&quot;smiley insert-cool menuitem-iconic&quot;   label=&quot;&amp;smiley11Cmd.label;&quot;</span>
<a href="#l11.67"></a><span id="l11.67" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', '8-)' )&quot; </span>
<a href="#l11.68"></a><span id="l11.68" class="difflineminus">-                tooltiptext=&quot;&amp;smiley11Cmd.tooltip;&quot; /&gt;           </span>
<a href="#l11.69"></a><span id="l11.69" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', '8-)' )&quot;</span>
<a href="#l11.70"></a><span id="l11.70" class="difflineplus">+                tooltiptext=&quot;&amp;smiley11Cmd.tooltip;&quot; /&gt;</span>
<a href="#l11.71"></a><span id="l11.71">       &lt;menuitem class=&quot;smiley insert-money menuitem-iconic&quot;   label=&quot;&amp;smiley12Cmd.label;&quot;</span>
<a href="#l11.72"></a><span id="l11.72" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-$' )&quot; </span>
<a href="#l11.73"></a><span id="l11.73" class="difflineminus">-                tooltiptext=&quot;&amp;smiley12Cmd.tooltip;&quot; /&gt;           </span>
<a href="#l11.74"></a><span id="l11.74" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-$' )&quot;</span>
<a href="#l11.75"></a><span id="l11.75" class="difflineplus">+                tooltiptext=&quot;&amp;smiley12Cmd.tooltip;&quot; /&gt;</span>
<a href="#l11.76"></a><span id="l11.76">       &lt;menuitem class=&quot;smiley insert-foot menuitem-iconic&quot;   label=&quot;&amp;smiley13Cmd.label;&quot;</span>
<a href="#l11.77"></a><span id="l11.77" class="difflineminus">-                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-!' )&quot; </span>
<a href="#l11.78"></a><span id="l11.78" class="difflineminus">-                tooltiptext=&quot;&amp;smiley13Cmd.tooltip;&quot; /&gt;           </span>
<a href="#l11.79"></a><span id="l11.79" class="difflineplus">+                oncommand=&quot;doStatefulCommand('cmd_smiley', ':-!' )&quot;</span>
<a href="#l11.80"></a><span id="l11.80" class="difflineplus">+                tooltiptext=&quot;&amp;smiley13Cmd.tooltip;&quot; /&gt;</span>
<a href="#l11.81"></a><span id="l11.81">       &lt;menuitem class=&quot;smiley insert-innocent menuitem-iconic&quot;   label=&quot;&amp;smiley14Cmd.label;&quot;</span>
<a href="#l11.82"></a><span id="l11.82">                 oncommand=&quot;doStatefulCommand('cmd_smiley', 'O:-)' )&quot;</span>
<a href="#l11.83"></a><span id="l11.83" class="difflineminus">-                tooltiptext=&quot;&amp;smiley14Cmd.tooltip;&quot; /&gt;           </span>
<a href="#l11.84"></a><span id="l11.84" class="difflineplus">+                tooltiptext=&quot;&amp;smiley14Cmd.tooltip;&quot; /&gt;</span>
<a href="#l11.85"></a><span id="l11.85">       &lt;menuitem class=&quot;smiley insert-cry menuitem-iconic&quot;   label=&quot;&amp;smiley15Cmd.label;&quot;</span>
<a href="#l11.86"></a><span id="l11.86">                 oncommand=&quot;doStatefulCommand('cmd_smiley', ':\'(' )&quot;</span>
<a href="#l11.87"></a><span id="l11.87">                 tooltiptext=&quot;&amp;smiley15Cmd.tooltip;&quot; /&gt;</span>
<a href="#l11.88"></a><span id="l11.88">       &lt;menuitem class=&quot;smiley insert-sealed menuitem-iconic&quot;   label=&quot;&amp;smiley16Cmd.label;&quot;</span>
<a href="#l11.89"></a><span id="l11.89">                 oncommand=&quot;doStatefulCommand('cmd_smiley', ':-X' )&quot;</span>
<a href="#l11.90"></a><span id="l11.90" class="difflineminus">-                tooltiptext=&quot;&amp;smiley16Cmd.tooltip;&quot; /&gt;           </span>
<a href="#l11.91"></a><span id="l11.91" class="difflineminus">-          </span>
<a href="#l11.92"></a><span id="l11.92" class="difflineplus">+                tooltiptext=&quot;&amp;smiley16Cmd.tooltip;&quot; /&gt;</span>
<a href="#l11.93"></a><span id="l11.93" class="difflineplus">+</span>
<a href="#l11.94"></a><span id="l11.94">     &lt;/menupopup&gt;</span>
<a href="#l11.95"></a><span id="l11.95">   &lt;/toolbarbutton&gt;</span>
<a href="#l11.96"></a><span id="l11.96"> </span>
<a href="#l11.97"></a><span id="l11.97">   &lt;menu id=&quot;insertMenu&quot;&gt;</span>
<a href="#l11.98"></a><span id="l11.98">     &lt;menupopup id=&quot;insertMenuPopup&quot;&gt;</span>
<a href="#l11.99"></a><span id="l11.99">       &lt;menu id=&quot;insertSmiley&quot; label=&quot;&amp;insertSmiley.label;&quot; accesskey=&quot;&amp;insertSmiley.accesskey;&quot; insertbefore=&quot;insertMenuSeparator&quot;&gt;</span>
<a href="#l11.100"></a><span id="l11.100">         &lt;menupopup id=&quot;smilyMenuPopup&quot;&gt;</span>
<a href="#l11.101"></a><span id="l11.101" class="difflineminus">-          &lt;menuitem class=&quot;smiley insert-smile menuitem-iconic&quot;       label=&quot;&amp;smiley1Cmd.label;&quot; </span>
<a href="#l11.102"></a><span id="l11.102" class="difflineplus">+          &lt;menuitem class=&quot;smiley insert-smile menuitem-iconic&quot;       label=&quot;&amp;smiley1Cmd.label;&quot;</span>
<a href="#l11.103"></a><span id="l11.103">                     oncommand=&quot;doStatefulCommand('cmd_smiley', ':-)'  )&quot; accesskey=&quot;&amp;smiley1Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.104"></a><span id="l11.104">           &lt;menuitem class=&quot;smiley insert-frown menuitem-iconic&quot;       label=&quot;&amp;smiley2Cmd.label;&quot;</span>
<a href="#l11.105"></a><span id="l11.105" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':-('  )&quot; accesskey=&quot;&amp;smiley2Cmd.accesskey;&quot;/&gt;                                              </span>
<a href="#l11.106"></a><span id="l11.106" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':-('  )&quot; accesskey=&quot;&amp;smiley2Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.107"></a><span id="l11.107">           &lt;menuitem class=&quot;smiley insert-wink menuitem-iconic&quot;        label=&quot;&amp;smiley3Cmd.label;&quot;</span>
<a href="#l11.108"></a><span id="l11.108" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', ';-)'  )&quot; accesskey=&quot;&amp;smiley3Cmd.accesskey;&quot;/&gt;                       </span>
<a href="#l11.109"></a><span id="l11.109" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', ';-)'  )&quot; accesskey=&quot;&amp;smiley3Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.110"></a><span id="l11.110">           &lt;menuitem class=&quot;smiley insert-tongue menuitem-iconic&quot;      label=&quot;&amp;smiley4Cmd.label;&quot;</span>
<a href="#l11.111"></a><span id="l11.111">                     oncommand=&quot;doStatefulCommand('cmd_smiley', ':-P'  )&quot; accesskey=&quot;&amp;smiley4Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.112"></a><span id="l11.112">           &lt;menuitem class=&quot;smiley insert-laughing menuitem-iconic&quot;    label=&quot;&amp;smiley5Cmd.label;&quot;</span>
<a href="#l11.113"></a><span id="l11.113">                     oncommand=&quot;doStatefulCommand('cmd_smiley', ':-D'  )&quot; accesskey=&quot;&amp;smiley5Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.114"></a><span id="l11.114">           &lt;menuitem class=&quot;smiley insert-embarrassed menuitem-iconic&quot; label=&quot;&amp;smiley6Cmd.label;&quot;</span>
<a href="#l11.115"></a><span id="l11.115">                     oncommand=&quot;doStatefulCommand('cmd_smiley', ':-['  )&quot; accesskey=&quot;&amp;smiley6Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.116"></a><span id="l11.116">           &lt;menuitem class=&quot;smiley insert-undecided menuitem-iconic&quot;   label=&quot;&amp;smiley7Cmd.label;&quot;</span>
<a href="#l11.117"></a><span id="l11.117">                     oncommand=&quot;doStatefulCommand('cmd_smiley', ':-\\' )&quot; accesskey=&quot;&amp;smiley7Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.118"></a><span id="l11.118">           &lt;menuitem class=&quot;smiley insert-surprise menuitem-iconic&quot;   label=&quot;&amp;smiley8Cmd.label;&quot;</span>
<a href="#l11.119"></a><span id="l11.119" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', '=-O' )&quot; accesskey=&quot;&amp;smiley8Cmd.accesskey;&quot;/&gt;           </span>
<a href="#l11.120"></a><span id="l11.120" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', '=-O' )&quot; accesskey=&quot;&amp;smiley8Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.121"></a><span id="l11.121">           &lt;menuitem class=&quot;smiley insert-kiss menuitem-iconic&quot;   label=&quot;&amp;smiley9Cmd.label;&quot;</span>
<a href="#l11.122"></a><span id="l11.122" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':-*' )&quot; accesskey=&quot;&amp;smiley9Cmd.accesskey;&quot;/&gt;           </span>
<a href="#l11.123"></a><span id="l11.123" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':-*' )&quot; accesskey=&quot;&amp;smiley9Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.124"></a><span id="l11.124">           &lt;menuitem class=&quot;smiley insert-yell menuitem-iconic&quot;   label=&quot;&amp;smiley10Cmd.label;&quot;</span>
<a href="#l11.125"></a><span id="l11.125" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', '&gt;:o' )&quot; accesskey=&quot;&amp;smiley10Cmd.accesskey;&quot;/&gt;           </span>
<a href="#l11.126"></a><span id="l11.126" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', '&gt;:o' )&quot; accesskey=&quot;&amp;smiley10Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.127"></a><span id="l11.127">           &lt;menuitem class=&quot;smiley insert-cool menuitem-iconic&quot;   label=&quot;&amp;smiley11Cmd.label;&quot;</span>
<a href="#l11.128"></a><span id="l11.128" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', '8-)' )&quot; accesskey=&quot;&amp;smiley11Cmd.accesskey;&quot;/&gt;           </span>
<a href="#l11.129"></a><span id="l11.129" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', '8-)' )&quot; accesskey=&quot;&amp;smiley11Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.130"></a><span id="l11.130">           &lt;menuitem class=&quot;smiley insert-money menuitem-iconic&quot;   label=&quot;&amp;smiley12Cmd.label;&quot;</span>
<a href="#l11.131"></a><span id="l11.131" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':-$' )&quot; accesskey=&quot;&amp;smiley12Cmd.accesskey;&quot;/&gt;           </span>
<a href="#l11.132"></a><span id="l11.132" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':-$' )&quot; accesskey=&quot;&amp;smiley12Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.133"></a><span id="l11.133">           &lt;menuitem class=&quot;smiley insert-foot menuitem-iconic&quot;   label=&quot;&amp;smiley13Cmd.label;&quot;</span>
<a href="#l11.134"></a><span id="l11.134" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':-!' )&quot; accesskey=&quot;&amp;smiley13Cmd.accesskey;&quot;/&gt;           </span>
<a href="#l11.135"></a><span id="l11.135" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':-!' )&quot; accesskey=&quot;&amp;smiley13Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.136"></a><span id="l11.136">           &lt;menuitem class=&quot;smiley insert-innocent menuitem-iconic&quot;   label=&quot;&amp;smiley14Cmd.label;&quot;</span>
<a href="#l11.137"></a><span id="l11.137" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', 'O:-)' )&quot; accesskey=&quot;&amp;smiley14Cmd.accesskey;&quot;/&gt;           </span>
<a href="#l11.138"></a><span id="l11.138" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', 'O:-)' )&quot; accesskey=&quot;&amp;smiley14Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.139"></a><span id="l11.139">           &lt;menuitem class=&quot;smiley insert-cry menuitem-iconic&quot;   label=&quot;&amp;smiley15Cmd.label;&quot;</span>
<a href="#l11.140"></a><span id="l11.140" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':\'(' )&quot; accesskey=&quot;&amp;smiley15Cmd.accesskey;&quot;/&gt;           </span>
<a href="#l11.141"></a><span id="l11.141" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':\'(' )&quot; accesskey=&quot;&amp;smiley15Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.142"></a><span id="l11.142">           &lt;menuitem class=&quot;smiley insert-sealed menuitem-iconic&quot;   label=&quot;&amp;smiley16Cmd.label;&quot;</span>
<a href="#l11.143"></a><span id="l11.143" class="difflineminus">-                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':-X' )&quot; accesskey=&quot;&amp;smiley16Cmd.accesskey;&quot;/&gt;            </span>
<a href="#l11.144"></a><span id="l11.144" class="difflineplus">+                    oncommand=&quot;doStatefulCommand('cmd_smiley', ':-X' )&quot; accesskey=&quot;&amp;smiley16Cmd.accesskey;&quot;/&gt;</span>
<a href="#l11.145"></a><span id="l11.145">         &lt;/menupopup&gt;</span>
<a href="#l11.146"></a><span id="l11.146" class="difflineminus">-      &lt;/menu&gt;           </span>
<a href="#l11.147"></a><span id="l11.147" class="difflineplus">+      &lt;/menu&gt;</span>
<a href="#l11.148"></a><span id="l11.148">     &lt;/menupopup&gt;</span>
<a href="#l11.149"></a><span id="l11.149">   &lt;/menu&gt;</span>
<a href="#l11.150"></a><span id="l11.150"> &lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/editor/ui/composer/content/editorTasksOverlay.xul</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/editor/ui/composer/content/editorTasksOverlay.xul</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -15,18 +15,18 @@</span>
<a href="#l12.4"></a><span id="l12.4">     &lt;key id=&quot;key_editor&quot; key=&quot;&amp;editorCmd.commandkey;&quot; command=&quot;Tasks:Editor&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l12.5"></a><span id="l12.5">   &lt;/keyset&gt;</span>
<a href="#l12.6"></a><span id="l12.6"> </span>
<a href="#l12.7"></a><span id="l12.7">   &lt;commandset id=&quot;tasksCommands&quot;&gt;</span>
<a href="#l12.8"></a><span id="l12.8">     &lt;command id=&quot;Tasks:Editor&quot; oncommand=&quot;toEditor();&quot;/&gt;</span>
<a href="#l12.9"></a><span id="l12.9">   &lt;/commandset&gt;</span>
<a href="#l12.10"></a><span id="l12.10"> </span>
<a href="#l12.11"></a><span id="l12.11">   &lt;statusbarpanel id=&quot;component-bar&quot;&gt;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-    &lt;toolbarbutton class=&quot;taskbutton&quot; id=&quot;mini-comp&quot; command=&quot;Tasks:Editor&quot; </span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+    &lt;toolbarbutton class=&quot;taskbutton&quot; id=&quot;mini-comp&quot; command=&quot;Tasks:Editor&quot;</span>
<a href="#l12.14"></a><span id="l12.14">                    tooltiptext=&quot;&amp;taskComposer.tooltip;&quot; insertafter=&quot;mini-nav&quot;/&gt;</span>
<a href="#l12.15"></a><span id="l12.15">   &lt;/statusbarpanel&gt;</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineminus">-  </span>
<a href="#l12.17"></a><span id="l12.17" class="difflineplus">+</span>
<a href="#l12.18"></a><span id="l12.18">   &lt;menupopup id=&quot;windowPopup&quot;&gt;</span>
<a href="#l12.19"></a><span id="l12.19">     &lt;menuitem label=&quot;&amp;editorCmd.label;&quot; accesskey=&quot;&amp;editorCmd.accesskey;&quot; key=&quot;key_editor&quot; command=&quot;Tasks:Editor&quot; id=&quot;tasksMenuEditor&quot; insertafter=&quot;IMMenuItem,tasksMenuNavigator&quot; class=&quot;menuitem-iconic icon-composer16 menu-iconic&quot;/&gt;</span>
<a href="#l12.20"></a><span id="l12.20">   &lt;/menupopup&gt;</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineminus">-  </span>
<a href="#l12.22"></a><span id="l12.22" class="difflineminus">-&lt;/overlay&gt;         </span>
<a href="#l12.23"></a><span id="l12.23"> </span>
<a href="#l12.24"></a><span id="l12.24" class="difflineplus">+&lt;/overlay&gt;</span>
<a href="#l12.25"></a><span id="l12.25" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/editor/ui/composer/content/pref-editing.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/editor/ui/composer/content/pref-editing.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -86,17 +86,17 @@ function UpdateDependent(aCustomEnabled)</span>
<a href="#l13.4"></a><span id="l13.4">     SetColorPreview(&quot;activeLinkText&quot;, Services.prefs.getCharPref(&quot;browser.active_color&quot;));</span>
<a href="#l13.5"></a><span id="l13.5">     SetColorPreview(&quot;visitedLinkText&quot;, Services.prefs.getCharPref(&quot;browser.visited_color&quot;));</span>
<a href="#l13.6"></a><span id="l13.6">   }</span>
<a href="#l13.7"></a><span id="l13.7"> }</span>
<a href="#l13.8"></a><span id="l13.8"> </span>
<a href="#l13.9"></a><span id="l13.9"> function ToggleElements(aCustomEnabled)</span>
<a href="#l13.10"></a><span id="l13.10"> {</span>
<a href="#l13.11"></a><span id="l13.11">   var buttons = document.getElementById(&quot;color-rows&quot;).getElementsByTagName(&quot;button&quot;);</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-  </span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+</span>
<a href="#l13.14"></a><span id="l13.14">   for (var i = 0; i &lt; buttons.length; i++)</span>
<a href="#l13.15"></a><span id="l13.15">   {</span>
<a href="#l13.16"></a><span id="l13.16">     let isLocked = CheckLocked(buttons[i].id);</span>
<a href="#l13.17"></a><span id="l13.17">     buttons[i].disabled = !aCustomEnabled || isLocked;</span>
<a href="#l13.18"></a><span id="l13.18">     buttons[i].previousSibling.disabled = !aCustomEnabled || isLocked;</span>
<a href="#l13.19"></a><span id="l13.19">     buttons[i].firstChild.setAttribute(&quot;default&quot;, !aCustomEnabled || isLocked);</span>
<a href="#l13.20"></a><span id="l13.20">   }</span>
<a href="#l13.21"></a><span id="l13.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/editor/ui/composer/content/pref-editing.xul</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/editor/ui/composer/content/pref-editing.xul</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -1,9 +1,9 @@</span>
<a href="#l14.4"></a><span id="l14.4" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt; </span>
<a href="#l14.5"></a><span id="l14.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l14.6"></a><span id="l14.6"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.7"></a><span id="l14.7">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.8"></a><span id="l14.8">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l14.9"></a><span id="l14.9"> </span>
<a href="#l14.10"></a><span id="l14.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.11"></a><span id="l14.11"> </span>
<a href="#l14.12"></a><span id="l14.12"> &lt;!DOCTYPE overlay SYSTEM &quot;chrome://editor/locale/pref-editing.dtd&quot;&gt;</span>
<a href="#l14.13"></a><span id="l14.13"> </span>
<a href="#l14.14"></a><span id="l14.14" class="difflineat">@@ -45,81 +45,81 @@</span>
<a href="#l14.15"></a><span id="l14.15">                   type=&quot;string&quot;</span>
<a href="#l14.16"></a><span id="l14.16">                   onchange=&quot;UpdateBgImagePreview(this.value);&quot;/&gt;</span>
<a href="#l14.17"></a><span id="l14.17">     &lt;/preferences&gt;</span>
<a href="#l14.18"></a><span id="l14.18"> </span>
<a href="#l14.19"></a><span id="l14.19">     &lt;stringbundle id=&quot;bundle_editor&quot;</span>
<a href="#l14.20"></a><span id="l14.20">                   src=&quot;chrome://editor/locale/editor.properties&quot;/&gt;</span>
<a href="#l14.21"></a><span id="l14.21"> </span>
<a href="#l14.22"></a><span id="l14.22">     &lt;vbox&gt;</span>
<a href="#l14.23"></a><span id="l14.23" class="difflineminus">-      &lt;label value=&quot;&amp;authorName.label;&quot; </span>
<a href="#l14.24"></a><span id="l14.24" class="difflineplus">+      &lt;label value=&quot;&amp;authorName.label;&quot;</span>
<a href="#l14.25"></a><span id="l14.25">              accesskey=&quot;&amp;authorName.accesskey;&quot;</span>
<a href="#l14.26"></a><span id="l14.26">              control=&quot;editorAuthor&quot;&gt;</span>
<a href="#l14.27"></a><span id="l14.27">       &lt;/label&gt;</span>
<a href="#l14.28"></a><span id="l14.28">       &lt;hbox&gt;</span>
<a href="#l14.29"></a><span id="l14.29">         &lt;textbox id=&quot;editorAuthor&quot;</span>
<a href="#l14.30"></a><span id="l14.30">                  flex=&quot;1&quot;</span>
<a href="#l14.31"></a><span id="l14.31">                  preference=&quot;editor.author&quot;/&gt;</span>
<a href="#l14.32"></a><span id="l14.32">         &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l14.33"></a><span id="l14.33">       &lt;/hbox&gt;</span>
<a href="#l14.34"></a><span id="l14.34">     &lt;/vbox&gt;</span>
<a href="#l14.35"></a><span id="l14.35">     &lt;spacer class=&quot;smallspacer&quot;/&gt;</span>
<a href="#l14.36"></a><span id="l14.36">     &lt;groupbox align=&quot;start&quot;&gt;</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineminus">-      &lt;caption label=&quot;&amp;pageColorHeader;&quot;/&gt; </span>
<a href="#l14.38"></a><span id="l14.38" class="difflineplus">+      &lt;caption label=&quot;&amp;pageColorHeader;&quot;/&gt;</span>
<a href="#l14.39"></a><span id="l14.39">       &lt;radiogroup id=&quot;useCustomColors&quot;</span>
<a href="#l14.40"></a><span id="l14.40">                   preference=&quot;editor.use_custom_colors&quot;&gt;</span>
<a href="#l14.41"></a><span id="l14.41">         &lt;radio id=&quot;defaultColorsRadio&quot;</span>
<a href="#l14.42"></a><span id="l14.42" class="difflineminus">-               value=&quot;false&quot; </span>
<a href="#l14.43"></a><span id="l14.43" class="difflineplus">+               value=&quot;false&quot;</span>
<a href="#l14.44"></a><span id="l14.44">                label=&quot;&amp;defaultColors.label;&quot;</span>
<a href="#l14.45"></a><span id="l14.45">                accesskey=&quot;&amp;defaultColors.accesskey;&quot;/&gt;</span>
<a href="#l14.46"></a><span id="l14.46" class="difflineminus">-        &lt;radio id=&quot;customColorsRadio&quot; </span>
<a href="#l14.47"></a><span id="l14.47" class="difflineplus">+        &lt;radio id=&quot;customColorsRadio&quot;</span>
<a href="#l14.48"></a><span id="l14.48">                value=&quot;true&quot;</span>
<a href="#l14.49"></a><span id="l14.49">                label=&quot;&amp;customColors.label;&quot;</span>
<a href="#l14.50"></a><span id="l14.50">                accesskey=&quot;&amp;customColors.accesskey;&quot;/&gt;</span>
<a href="#l14.51"></a><span id="l14.51">       &lt;/radiogroup&gt;</span>
<a href="#l14.52"></a><span id="l14.52">       &lt;hbox class=&quot;indent&quot;&gt;</span>
<a href="#l14.53"></a><span id="l14.53">         &lt;grid&gt;</span>
<a href="#l14.54"></a><span id="l14.54">           &lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l14.55"></a><span id="l14.55">           &lt;rows id=&quot;color-rows&quot;&gt;</span>
<a href="#l14.56"></a><span id="l14.56">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l14.57"></a><span id="l14.57">               &lt;label id=&quot;textLabel&quot;</span>
<a href="#l14.58"></a><span id="l14.58" class="difflineminus">-                     value=&quot;&amp;normalText.label;&amp;colon.character;&quot; </span>
<a href="#l14.59"></a><span id="l14.59" class="difflineplus">+                     value=&quot;&amp;normalText.label;&amp;colon.character;&quot;</span>
<a href="#l14.60"></a><span id="l14.60">                      accesskey=&quot;&amp;normalText.accesskey;&quot;</span>
<a href="#l14.61"></a><span id="l14.61">                      control=&quot;text&quot;/&gt;</span>
<a href="#l14.62"></a><span id="l14.62">               &lt;button id=&quot;text&quot;</span>
<a href="#l14.63"></a><span id="l14.63">                       class=&quot;color-button&quot;</span>
<a href="#l14.64"></a><span id="l14.64">                       oncommand=&quot;GetColorAndUpdatePref('Text', 'text');&quot;&gt;</span>
<a href="#l14.65"></a><span id="l14.65">                 &lt;spacer id=&quot;textCW&quot; class=&quot;color-well&quot;/&gt;</span>
<a href="#l14.66"></a><span id="l14.66">               &lt;/button&gt;</span>
<a href="#l14.67"></a><span id="l14.67">             &lt;/row&gt;</span>
<a href="#l14.68"></a><span id="l14.68">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l14.69"></a><span id="l14.69">               &lt;label id=&quot;linkLabel&quot;</span>
<a href="#l14.70"></a><span id="l14.70" class="difflineminus">-                     value=&quot;&amp;linkText.label;&amp;colon.character;&quot; </span>
<a href="#l14.71"></a><span id="l14.71" class="difflineplus">+                     value=&quot;&amp;linkText.label;&amp;colon.character;&quot;</span>
<a href="#l14.72"></a><span id="l14.72">                      accesskey=&quot;&amp;linkText.accesskey;&quot;</span>
<a href="#l14.73"></a><span id="l14.73">                      control=&quot;link&quot;/&gt;</span>
<a href="#l14.74"></a><span id="l14.74">               &lt;button id=&quot;link&quot;</span>
<a href="#l14.75"></a><span id="l14.75">                       class=&quot;color-button&quot;</span>
<a href="#l14.76"></a><span id="l14.76">                       oncommand=&quot;GetColorAndUpdatePref('Link', 'link');&quot;&gt;</span>
<a href="#l14.77"></a><span id="l14.77">                 &lt;spacer id=&quot;linkCW&quot; class=&quot;color-well&quot;/&gt;</span>
<a href="#l14.78"></a><span id="l14.78">               &lt;/button&gt;</span>
<a href="#l14.79"></a><span id="l14.79">             &lt;/row&gt;</span>
<a href="#l14.80"></a><span id="l14.80">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l14.81"></a><span id="l14.81">               &lt;label id=&quot;activeLinkLabel&quot;</span>
<a href="#l14.82"></a><span id="l14.82" class="difflineminus">-                     value=&quot;&amp;activeLinkText.label;&amp;colon.character;&quot; </span>
<a href="#l14.83"></a><span id="l14.83" class="difflineplus">+                     value=&quot;&amp;activeLinkText.label;&amp;colon.character;&quot;</span>
<a href="#l14.84"></a><span id="l14.84">                      accesskey=&quot;&amp;activeLinkText.accesskey;&quot;</span>
<a href="#l14.85"></a><span id="l14.85">                      control=&quot;active_link&quot;/&gt;</span>
<a href="#l14.86"></a><span id="l14.86">               &lt;button id=&quot;active_link&quot;</span>
<a href="#l14.87"></a><span id="l14.87">                       class=&quot;color-button&quot;</span>
<a href="#l14.88"></a><span id="l14.88">                       oncommand=&quot;GetColorAndUpdatePref('ActiveLink', 'active_link');&quot;&gt;</span>
<a href="#l14.89"></a><span id="l14.89">                 &lt;spacer id=&quot;activeCW&quot; class=&quot;color-well&quot;/&gt;</span>
<a href="#l14.90"></a><span id="l14.90">               &lt;/button&gt;</span>
<a href="#l14.91"></a><span id="l14.91">             &lt;/row&gt;</span>
<a href="#l14.92"></a><span id="l14.92">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l14.93"></a><span id="l14.93">               &lt;label id=&quot;visitedLinkLabel&quot;</span>
<a href="#l14.94"></a><span id="l14.94" class="difflineminus">-                     value =&quot;&amp;visitedLinkText.label;&amp;colon.character;&quot; </span>
<a href="#l14.95"></a><span id="l14.95" class="difflineplus">+                     value =&quot;&amp;visitedLinkText.label;&amp;colon.character;&quot;</span>
<a href="#l14.96"></a><span id="l14.96">                      accesskey=&quot;&amp;visitedLinkText.accesskey;&quot;</span>
<a href="#l14.97"></a><span id="l14.97">                      control=&quot;followed_link&quot;/&gt;</span>
<a href="#l14.98"></a><span id="l14.98">               &lt;button id=&quot;followed_link&quot;</span>
<a href="#l14.99"></a><span id="l14.99">                       class=&quot;color-button&quot;</span>
<a href="#l14.100"></a><span id="l14.100">                       oncommand=&quot;GetColorAndUpdatePref('VisitedLink', 'followed_link');&quot;&gt;</span>
<a href="#l14.101"></a><span id="l14.101">                 &lt;spacer id=&quot;visitedCW&quot; class=&quot;color-well&quot;/&gt;</span>
<a href="#l14.102"></a><span id="l14.102">               &lt;/button&gt;</span>
<a href="#l14.103"></a><span id="l14.103">             &lt;/row&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/editor/ui/composer/content/pref-toolbars.xul</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/editor/ui/composer/content/pref-toolbars.xul</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -106,17 +106,17 @@</span>
<a href="#l15.4"></a><span id="l15.4">                   preference=&quot;editor.toolbars.showbutton.open&quot;/&gt;</span>
<a href="#l15.5"></a><span id="l15.5">         &lt;checkbox id=&quot;showSave&quot;</span>
<a href="#l15.6"></a><span id="l15.6">                   label=&quot;&amp;save.label;&quot;</span>
<a href="#l15.7"></a><span id="l15.7">                   preference=&quot;editor.toolbars.showbutton.save&quot;/&gt;</span>
<a href="#l15.8"></a><span id="l15.8">         &lt;checkbox id=&quot;showPublish&quot;</span>
<a href="#l15.9"></a><span id="l15.9">                   label=&quot;&amp;publish.label;&quot;</span>
<a href="#l15.10"></a><span id="l15.10">                   preference=&quot;editor.toolbars.showbutton.publish&quot;/&gt;</span>
<a href="#l15.11"></a><span id="l15.11">         &lt;checkbox id=&quot;showPreview&quot;</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-                  label=&quot;&amp;preview.label;&quot;   </span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+                  label=&quot;&amp;preview.label;&quot;</span>
<a href="#l15.14"></a><span id="l15.14">                   preference=&quot;editor.toolbars.showbutton.preview&quot;/&gt;</span>
<a href="#l15.15"></a><span id="l15.15">       &lt;/vbox&gt;</span>
<a href="#l15.16"></a><span id="l15.16">       &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l15.17"></a><span id="l15.17">         &lt;checkbox id=&quot;showCut&quot;</span>
<a href="#l15.18"></a><span id="l15.18">                   label=&quot;&amp;cut.label;&quot;</span>
<a href="#l15.19"></a><span id="l15.19">                   preference=&quot;editor.toolbars.showbutton.cut&quot;/&gt;</span>
<a href="#l15.20"></a><span id="l15.20">         &lt;checkbox id=&quot;showCopy&quot;</span>
<a href="#l15.21"></a><span id="l15.21">                   label=&quot;&amp;copy.label;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/editor/ui/composer/content/publishprefs.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/editor/ui/composer/content/publishprefs.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -54,17 +54,17 @@ function GetPublishSiteData()</span>
<a href="#l16.4"></a><span id="l16.4"> </span>
<a href="#l16.5"></a><span id="l16.5"> </span>
<a href="#l16.6"></a><span id="l16.6">   return siteArray;</span>
<a href="#l16.7"></a><span id="l16.7"> }</span>
<a href="#l16.8"></a><span id="l16.8"> </span>
<a href="#l16.9"></a><span id="l16.9"> function GetDefaultPublishSiteName()</span>
<a href="#l16.10"></a><span id="l16.10"> {</span>
<a href="#l16.11"></a><span id="l16.11">   var publishBranch = GetPublishPrefsBranch();</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-  var name = &quot;&quot;;  </span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+  var name = &quot;&quot;;</span>
<a href="#l16.14"></a><span id="l16.14">   if (publishBranch)</span>
<a href="#l16.15"></a><span id="l16.15">     name = GetPublishStringPref(publishBranch, &quot;default_site&quot;);</span>
<a href="#l16.16"></a><span id="l16.16"> </span>
<a href="#l16.17"></a><span id="l16.17">   return name;</span>
<a href="#l16.18"></a><span id="l16.18"> }</span>
<a href="#l16.19"></a><span id="l16.19"> </span>
<a href="#l16.20"></a><span id="l16.20"> // Return object with all info needed to publish</span>
<a href="#l16.21"></a><span id="l16.21"> //   from database of sites previously published to.</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineat">@@ -79,17 +79,17 @@ function CreatePublishDataFromUrl(docUrl</span>
<a href="#l16.23"></a><span id="l16.23">     var dirObj = {};</span>
<a href="#l16.24"></a><span id="l16.24">     var index = FindSiteIndexAndDocDir(pubSiteData, docUrl, dirObj);</span>
<a href="#l16.25"></a><span id="l16.25">     var publishData;</span>
<a href="#l16.26"></a><span id="l16.26">     if (index != -1)</span>
<a href="#l16.27"></a><span id="l16.27">     {</span>
<a href="#l16.28"></a><span id="l16.28">       publishData = pubSiteData[index];</span>
<a href="#l16.29"></a><span id="l16.29">       publishData.docDir = FormatDirForPublishing(dirObj.value)</span>
<a href="#l16.30"></a><span id="l16.30"> </span>
<a href="#l16.31"></a><span id="l16.31" class="difflineminus">-      //XXX Problem: OtherDir: How do we decide when to use the dir in </span>
<a href="#l16.32"></a><span id="l16.32" class="difflineplus">+      //XXX Problem: OtherDir: How do we decide when to use the dir in</span>
<a href="#l16.33"></a><span id="l16.33">       //    publishSiteData (default DocDir) or docDir from current filepath?</span>
<a href="#l16.34"></a><span id="l16.34">       publishData.otherDir = FormatDirForPublishing(pubSiteData[index].otherDir);</span>
<a href="#l16.35"></a><span id="l16.35"> </span>
<a href="#l16.36"></a><span id="l16.36">       publishData.filename = GetFilename(docUrl);</span>
<a href="#l16.37"></a><span id="l16.37">       publishData.notInSiteData = false;</span>
<a href="#l16.38"></a><span id="l16.38">       return publishData;</span>
<a href="#l16.39"></a><span id="l16.39">     }</span>
<a href="#l16.40"></a><span id="l16.40">   }</span>
<a href="#l16.41"></a><span id="l16.41" class="difflineat">@@ -104,17 +104,17 @@ function CreatePublishDataFromUrl(docUrl</span>
<a href="#l16.42"></a><span id="l16.42"> </span>
<a href="#l16.43"></a><span id="l16.43">   // Strip off filename</span>
<a href="#l16.44"></a><span id="l16.44">   var lastSlash = pubUrl.lastIndexOf(&quot;\/&quot;);</span>
<a href="#l16.45"></a><span id="l16.45">   //XXX Look for &quot;?&quot;, &quot;=&quot;, and &quot;&amp;&quot; ?</span>
<a href="#l16.46"></a><span id="l16.46">   pubUrl = pubUrl.slice(0, lastSlash+1);</span>
<a href="#l16.47"></a><span id="l16.47"> </span>
<a href="#l16.48"></a><span id="l16.48">   var siteName = CreateSiteNameFromUrl(pubUrl, pubSiteData);</span>
<a href="#l16.49"></a><span id="l16.49"> </span>
<a href="#l16.50"></a><span id="l16.50" class="difflineminus">-  publishData = { </span>
<a href="#l16.51"></a><span id="l16.51" class="difflineplus">+  publishData = {</span>
<a href="#l16.52"></a><span id="l16.52">     siteName : siteName,</span>
<a href="#l16.53"></a><span id="l16.53">     previousSiteName : siteName,</span>
<a href="#l16.54"></a><span id="l16.54">     filename : GetFilename(docUrl),</span>
<a href="#l16.55"></a><span id="l16.55">     username : userObj.value,</span>
<a href="#l16.56"></a><span id="l16.56">     password : passObj.value,</span>
<a href="#l16.57"></a><span id="l16.57">     savePassword : false,</span>
<a href="#l16.58"></a><span id="l16.58">     publishUrl : pubUrl,</span>
<a href="#l16.59"></a><span id="l16.59">     browseUrl  : pubUrl,</span>
<a href="#l16.60"></a><span id="l16.60" class="difflineat">@@ -136,17 +136,17 @@ function CreateSiteNameFromUrl(url, publ</span>
<a href="#l16.61"></a><span id="l16.61">   var siteName = host + schemePostfix;</span>
<a href="#l16.62"></a><span id="l16.62"> </span>
<a href="#l16.63"></a><span id="l16.63">   if (publishSiteData)</span>
<a href="#l16.64"></a><span id="l16.64">   {</span>
<a href="#l16.65"></a><span id="l16.65">     // Look for duplicates. Append &quot;-1&quot;  etc until unique name found</span>
<a href="#l16.66"></a><span id="l16.66">     var i = 1;</span>
<a href="#l16.67"></a><span id="l16.67">     var exists = false;</span>
<a href="#l16.68"></a><span id="l16.68">     do {</span>
<a href="#l16.69"></a><span id="l16.69" class="difflineminus">-      exists = PublishSiteNameExists(siteName, publishSiteData, -1)  </span>
<a href="#l16.70"></a><span id="l16.70" class="difflineplus">+      exists = PublishSiteNameExists(siteName, publishSiteData, -1)</span>
<a href="#l16.71"></a><span id="l16.71">       if (exists)</span>
<a href="#l16.72"></a><span id="l16.72">         siteName = host + &quot;-&quot; + i + schemePostfix;</span>
<a href="#l16.73"></a><span id="l16.73">       i++;</span>
<a href="#l16.74"></a><span id="l16.74">     }</span>
<a href="#l16.75"></a><span id="l16.75">     while (exists);</span>
<a href="#l16.76"></a><span id="l16.76">   }</span>
<a href="#l16.77"></a><span id="l16.77">   return siteName;</span>
<a href="#l16.78"></a><span id="l16.78"> }</span>
<a href="#l16.79"></a><span id="l16.79" class="difflineat">@@ -197,30 +197,30 @@ function GetDefaultPublishData()</span>
<a href="#l16.80"></a><span id="l16.80"> function GetPublishData_internal(publishBranch, siteName)</span>
<a href="#l16.81"></a><span id="l16.81"> {</span>
<a href="#l16.82"></a><span id="l16.82">   if (!publishBranch || !siteName)</span>
<a href="#l16.83"></a><span id="l16.83">     return null;</span>
<a href="#l16.84"></a><span id="l16.84"> </span>
<a href="#l16.85"></a><span id="l16.85">   var prefPrefix = &quot;site_data.&quot; + siteName + &quot;.&quot;;</span>
<a href="#l16.86"></a><span id="l16.86"> </span>
<a href="#l16.87"></a><span id="l16.87">   // We must have a publish url, else we ignore this site</span>
<a href="#l16.88"></a><span id="l16.88" class="difflineminus">-  // (siteData and siteNames for sites with incomplete data </span>
<a href="#l16.89"></a><span id="l16.89" class="difflineplus">+  // (siteData and siteNames for sites with incomplete data</span>
<a href="#l16.90"></a><span id="l16.90">   //  will get deleted by SavePublishSiteDataToPrefs)</span>
<a href="#l16.91"></a><span id="l16.91">   var publishUrl = GetPublishStringPref(publishBranch, prefPrefix+&quot;url&quot;);</span>
<a href="#l16.92"></a><span id="l16.92">   if (!publishUrl)</span>
<a href="#l16.93"></a><span id="l16.93">     return null;</span>
<a href="#l16.94"></a><span id="l16.94"> </span>
<a href="#l16.95"></a><span id="l16.95">   var savePassword = false;</span>
<a href="#l16.96"></a><span id="l16.96">   var publishOtherFiles = true;</span>
<a href="#l16.97"></a><span id="l16.97">   try {</span>
<a href="#l16.98"></a><span id="l16.98">     savePassword = publishBranch.getBoolPref(prefPrefix+&quot;save_password&quot;);</span>
<a href="#l16.99"></a><span id="l16.99">     publishOtherFiles = publishBranch.getBoolPref(prefPrefix+&quot;publish_other_files&quot;);</span>
<a href="#l16.100"></a><span id="l16.100">   } catch (e) {}</span>
<a href="#l16.101"></a><span id="l16.101"> </span>
<a href="#l16.102"></a><span id="l16.102" class="difflineminus">-  var publishData = { </span>
<a href="#l16.103"></a><span id="l16.103" class="difflineplus">+  var publishData = {</span>
<a href="#l16.104"></a><span id="l16.104">     siteName : siteName,</span>
<a href="#l16.105"></a><span id="l16.105">     previousSiteName : siteName,</span>
<a href="#l16.106"></a><span id="l16.106">     filename : &quot;&quot;,</span>
<a href="#l16.107"></a><span id="l16.107">     username : GetPublishStringPref(publishBranch, prefPrefix+&quot;username&quot;),</span>
<a href="#l16.108"></a><span id="l16.108">     savePassword : savePassword,</span>
<a href="#l16.109"></a><span id="l16.109">     publishUrl : publishUrl,</span>
<a href="#l16.110"></a><span id="l16.110">     browseUrl  : GetPublishStringPref(publishBranch, prefPrefix+&quot;browse_url&quot;),</span>
<a href="#l16.111"></a><span id="l16.111">     docDir     : FormatDirForPublishing(GetPublishStringPref(publishBranch, prefPrefix+&quot;doc_dir&quot;)),</span>
<a href="#l16.112"></a><span id="l16.112" class="difflineat">@@ -240,18 +240,18 @@ function GetPublishData_internal(publish</span>
<a href="#l16.113"></a><span id="l16.113">     {</span>
<a href="#l16.114"></a><span id="l16.114">       try {</span>
<a href="#l16.115"></a><span id="l16.115">         publishPrefsBranch.setBoolPref(prefPrefix+&quot;save_password&quot;, true);</span>
<a href="#l16.116"></a><span id="l16.116">       } catch (e) {}</span>
<a href="#l16.117"></a><span id="l16.117">     }</span>
<a href="#l16.118"></a><span id="l16.118">     publishData.savePassword = true;</span>
<a href="#l16.119"></a><span id="l16.119">   }</span>
<a href="#l16.120"></a><span id="l16.120"> </span>
<a href="#l16.121"></a><span id="l16.121" class="difflineminus">-  // Build history list of directories </span>
<a href="#l16.122"></a><span id="l16.122" class="difflineminus">-  // Always supply the root dir </span>
<a href="#l16.123"></a><span id="l16.123" class="difflineplus">+  // Build history list of directories</span>
<a href="#l16.124"></a><span id="l16.124" class="difflineplus">+  // Always supply the root dir</span>
<a href="#l16.125"></a><span id="l16.125">   publishData.dirList = [&quot;&quot;];</span>
<a href="#l16.126"></a><span id="l16.126"> </span>
<a href="#l16.127"></a><span id="l16.127">   // Get the rest from prefs</span>
<a href="#l16.128"></a><span id="l16.128">   var dirCount = {value:0};</span>
<a href="#l16.129"></a><span id="l16.129">   var dirPrefs;</span>
<a href="#l16.130"></a><span id="l16.130">   try {</span>
<a href="#l16.131"></a><span id="l16.131">     dirPrefs = publishBranch.getChildList(prefPrefix+&quot;dir.&quot;, dirCount);</span>
<a href="#l16.132"></a><span id="l16.132">   } catch (e) {}</span>
<a href="#l16.133"></a><span id="l16.133" class="difflineat">@@ -298,17 +298,17 @@ function SavePublishSiteDataToPrefs(site</span>
<a href="#l16.134"></a><span id="l16.134">       }</span>
<a href="#l16.135"></a><span id="l16.135">       // Assure that we have a default name</span>
<a href="#l16.136"></a><span id="l16.136">       if (siteArray.length &amp;&amp; !defaultFound)</span>
<a href="#l16.137"></a><span id="l16.137">         defaultName = siteArray[0].siteName;</span>
<a href="#l16.138"></a><span id="l16.138">     }</span>
<a href="#l16.139"></a><span id="l16.139"> </span>
<a href="#l16.140"></a><span id="l16.140">     // Save default site name</span>
<a href="#l16.141"></a><span id="l16.141">     SetPublishStringPref(publishBranch, &quot;default_site&quot;, defaultName);</span>
<a href="#l16.142"></a><span id="l16.142" class="difflineminus">-  </span>
<a href="#l16.143"></a><span id="l16.143" class="difflineplus">+</span>
<a href="#l16.144"></a><span id="l16.144">     // Force saving to file so next page edited finds these values</span>
<a href="#l16.145"></a><span id="l16.145">     SavePrefFile();</span>
<a href="#l16.146"></a><span id="l16.146">   }</span>
<a href="#l16.147"></a><span id="l16.147">   catch (ex) { return false; }</span>
<a href="#l16.148"></a><span id="l16.148"> </span>
<a href="#l16.149"></a><span id="l16.149">   return true;</span>
<a href="#l16.150"></a><span id="l16.150"> }</span>
<a href="#l16.151"></a><span id="l16.151"> </span>
<a href="#l16.152"></a><span id="l16.152" class="difflineat">@@ -336,17 +336,17 @@ function SavePublishDataToPrefs(publishD</span>
<a href="#l16.153"></a><span id="l16.153">   if (!siteNamePrefs || siteCount.value == 0)</span>
<a href="#l16.154"></a><span id="l16.154">   {</span>
<a href="#l16.155"></a><span id="l16.155">     // We currently have no site prefs, so create them</span>
<a href="#l16.156"></a><span id="l16.156">     var siteData = [publishData];</span>
<a href="#l16.157"></a><span id="l16.157">     return SavePublishSiteDataToPrefs(siteData, publishData.siteName);</span>
<a href="#l16.158"></a><span id="l16.158">   }</span>
<a href="#l16.159"></a><span id="l16.159"> </span>
<a href="#l16.160"></a><span id="l16.160">   // Use &quot;previous&quot; name if available in case it was changed</span>
<a href="#l16.161"></a><span id="l16.161" class="difflineminus">-  var previousSiteName =  (&quot;previousSiteName&quot; in publishData &amp;&amp; publishData.previousSiteName) ? </span>
<a href="#l16.162"></a><span id="l16.162" class="difflineplus">+  var previousSiteName =  (&quot;previousSiteName&quot; in publishData &amp;&amp; publishData.previousSiteName) ?</span>
<a href="#l16.163"></a><span id="l16.163">                             publishData.previousSiteName : publishData.siteName;</span>
<a href="#l16.164"></a><span id="l16.164"> </span>
<a href="#l16.165"></a><span id="l16.165">   // Find site number of existing site or fall through at next available one</span>
<a href="#l16.166"></a><span id="l16.166">   // (Number is arbitrary; needed to construct unique &quot;site_name.x&quot; pref string)</span>
<a href="#l16.167"></a><span id="l16.167">   for (var i = 0; i &lt; siteCount.value; i++)</span>
<a href="#l16.168"></a><span id="l16.168">   {</span>
<a href="#l16.169"></a><span id="l16.169">     var siteName = GetPublishStringPref(publishBranch, &quot;site_name.&quot;+i);</span>
<a href="#l16.170"></a><span id="l16.170"> </span>
<a href="#l16.171"></a><span id="l16.171" class="difflineat">@@ -363,17 +363,17 @@ function SavePublishDataToPrefs(publishD</span>
<a href="#l16.172"></a><span id="l16.172">   // We've taken care of finding old duplicate, so be sure 'previous name' is current</span>
<a href="#l16.173"></a><span id="l16.173">   publishData.previousSiteName = publishData.siteName;</span>
<a href="#l16.174"></a><span id="l16.174"> </span>
<a href="#l16.175"></a><span id="l16.175">   var ret = SavePublishData_Internal(publishBranch, publishData, i);</span>
<a href="#l16.176"></a><span id="l16.176">   if (ret)</span>
<a href="#l16.177"></a><span id="l16.177">   {</span>
<a href="#l16.178"></a><span id="l16.178">     // Check if siteName was the default and we need to update that</span>
<a href="#l16.179"></a><span id="l16.179">     var defaultSiteName = GetPublishStringPref(publishBranch, &quot;default_site&quot;);</span>
<a href="#l16.180"></a><span id="l16.180" class="difflineminus">-    if (previousSiteName == defaultSiteName </span>
<a href="#l16.181"></a><span id="l16.181" class="difflineplus">+    if (previousSiteName == defaultSiteName</span>
<a href="#l16.182"></a><span id="l16.182">         &amp;&amp; publishData.siteName != defaultSiteName)</span>
<a href="#l16.183"></a><span id="l16.183">       SetPublishStringPref(publishBranch, &quot;default_site&quot;, publishData.siteName);</span>
<a href="#l16.184"></a><span id="l16.184"> </span>
<a href="#l16.185"></a><span id="l16.185">     SavePrefFile();</span>
<a href="#l16.186"></a><span id="l16.186"> </span>
<a href="#l16.187"></a><span id="l16.187">     // Clear signal to save these data</span>
<a href="#l16.188"></a><span id="l16.188">     if (&quot;notInSiteData&quot; in publishData &amp;&amp; publishData.notInSiteData)</span>
<a href="#l16.189"></a><span id="l16.189">       publishData.notInSiteData = false;</span>
<a href="#l16.190"></a><span id="l16.190" class="difflineat">@@ -391,39 +391,39 @@ function SavePublishData_Internal(publis</span>
<a href="#l16.191"></a><span id="l16.191"> </span>
<a href="#l16.192"></a><span id="l16.192">   FixupUsernamePasswordInPublishData(publishData);</span>
<a href="#l16.193"></a><span id="l16.193"> </span>
<a href="#l16.194"></a><span id="l16.194">   var prefPrefix = &quot;site_data.&quot; + publishData.siteName + &quot;.&quot;</span>
<a href="#l16.195"></a><span id="l16.195"> </span>
<a href="#l16.196"></a><span id="l16.196">   SetPublishStringPref(publishPrefsBranch, prefPrefix+&quot;url&quot;, publishData.publishUrl);</span>
<a href="#l16.197"></a><span id="l16.197">   SetPublishStringPref(publishPrefsBranch, prefPrefix+&quot;browse_url&quot;, publishData.browseUrl);</span>
<a href="#l16.198"></a><span id="l16.198">   SetPublishStringPref(publishPrefsBranch, prefPrefix+&quot;username&quot;, publishData.username);</span>
<a href="#l16.199"></a><span id="l16.199" class="difflineminus">-  </span>
<a href="#l16.200"></a><span id="l16.200" class="difflineplus">+</span>
<a href="#l16.201"></a><span id="l16.201">   try {</span>
<a href="#l16.202"></a><span id="l16.202">     publishPrefsBranch.setBoolPref(prefPrefix+&quot;save_password&quot;, publishData.savePassword);</span>
<a href="#l16.203"></a><span id="l16.203">     publishPrefsBranch.setBoolPref(prefPrefix+&quot;publish_other_files&quot;, publishData.publishOtherFiles);</span>
<a href="#l16.204"></a><span id="l16.204">   } catch (e) {}</span>
<a href="#l16.205"></a><span id="l16.205"> </span>
<a href="#l16.206"></a><span id="l16.206" class="difflineminus">-  // Save password using PasswordManager </span>
<a href="#l16.207"></a><span id="l16.207" class="difflineplus">+  // Save password using PasswordManager</span>
<a href="#l16.208"></a><span id="l16.208">   // (If publishData.savePassword = false, this clears existing password)</span>
<a href="#l16.209"></a><span id="l16.209">   SavePassword(publishData);</span>
<a href="#l16.210"></a><span id="l16.210"> </span>
<a href="#l16.211"></a><span id="l16.211" class="difflineminus">-  SetPublishStringPref(publishPrefsBranch, prefPrefix+&quot;doc_dir&quot;, </span>
<a href="#l16.212"></a><span id="l16.212" class="difflineplus">+  SetPublishStringPref(publishPrefsBranch, prefPrefix+&quot;doc_dir&quot;,</span>
<a href="#l16.213"></a><span id="l16.213">                        FormatDirForPublishing(publishData.docDir));</span>
<a href="#l16.214"></a><span id="l16.214"> </span>
<a href="#l16.215"></a><span id="l16.215">   if (publishData.publishOtherFiles &amp;&amp; publishData.otherDir)</span>
<a href="#l16.216"></a><span id="l16.216">     SetPublishStringPref(publishPrefsBranch, prefPrefix+&quot;other_dir&quot;,</span>
<a href="#l16.217"></a><span id="l16.217">                          FormatDirForPublishing(publishData.otherDir));</span>
<a href="#l16.218"></a><span id="l16.218"> </span>
<a href="#l16.219"></a><span id="l16.219">   if (&quot;saveDirs&quot; in publishData &amp;&amp; publishData.saveDirs)</span>
<a href="#l16.220"></a><span id="l16.220">   {</span>
<a href="#l16.221"></a><span id="l16.221">     if (publishData.docDir)</span>
<a href="#l16.222"></a><span id="l16.222">       AppendNewDirToList(publishData, publishData.docDir);</span>
<a href="#l16.223"></a><span id="l16.223"> </span>
<a href="#l16.224"></a><span id="l16.224" class="difflineminus">-    if (publishData.publishOtherFiles &amp;&amp; publishData.otherDir </span>
<a href="#l16.225"></a><span id="l16.225" class="difflineplus">+    if (publishData.publishOtherFiles &amp;&amp; publishData.otherDir</span>
<a href="#l16.226"></a><span id="l16.226">         &amp;&amp; publishData.otherDir != publishData.docDir)</span>
<a href="#l16.227"></a><span id="l16.227">       AppendNewDirToList(publishData, publishData.otherDir);</span>
<a href="#l16.228"></a><span id="l16.228">   }</span>
<a href="#l16.229"></a><span id="l16.229"> </span>
<a href="#l16.230"></a><span id="l16.230">   // Save array of subdirectories with site</span>
<a href="#l16.231"></a><span id="l16.231">   if (publishData.dirList.length)</span>
<a href="#l16.232"></a><span id="l16.232">   {</span>
<a href="#l16.233"></a><span id="l16.233">     publishData.dirList.sort();</span>
<a href="#l16.234"></a><span id="l16.234" class="difflineat">@@ -624,32 +624,32 @@ function PublishSiteNameExists(name, pub</span>
<a href="#l16.235"></a><span id="l16.235">       return true;</span>
<a href="#l16.236"></a><span id="l16.236">   }</span>
<a href="#l16.237"></a><span id="l16.237">   return false;</span>
<a href="#l16.238"></a><span id="l16.238"> }</span>
<a href="#l16.239"></a><span id="l16.239"> </span>
<a href="#l16.240"></a><span id="l16.240"> // Find index of a site record in supplied publish site database</span>
<a href="#l16.241"></a><span id="l16.241"> // docUrl: Document URL with or without filename</span>
<a href="#l16.242"></a><span id="l16.242"> //         (Must end in &quot;/&quot; if no filename)</span>
<a href="#l16.243"></a><span id="l16.243" class="difflineminus">-// dirObj.value =  the directory of the document URL </span>
<a href="#l16.244"></a><span id="l16.244" class="difflineplus">+// dirObj.value =  the directory of the document URL</span>
<a href="#l16.245"></a><span id="l16.245"> //      relative to the base publishing URL, using &quot;&quot; if none</span>
<a href="#l16.246"></a><span id="l16.246"> //</span>
<a href="#l16.247"></a><span id="l16.247"> // XXX: Currently finds the site with the longest-matching url;</span>
<a href="#l16.248"></a><span id="l16.248"> //      should we look for the shortest instead? Or match just the host portion?</span>
<a href="#l16.249"></a><span id="l16.249"> function FindSiteIndexAndDocDir(publishSiteData, docUrl, dirObj)</span>
<a href="#l16.250"></a><span id="l16.250"> {</span>
<a href="#l16.251"></a><span id="l16.251">   if (dirObj)</span>
<a href="#l16.252"></a><span id="l16.252">     dirObj.value = &quot;&quot;;</span>
<a href="#l16.253"></a><span id="l16.253"> </span>
<a href="#l16.254"></a><span id="l16.254">   if (!publishSiteData || !docUrl || GetScheme(docUrl) == &quot;file&quot;)</span>
<a href="#l16.255"></a><span id="l16.255">     return -1;</span>
<a href="#l16.256"></a><span id="l16.256"> </span>
<a href="#l16.257"></a><span id="l16.257">   var siteIndex = -1;</span>
<a href="#l16.258"></a><span id="l16.258">   var siteUrlLen = 0;</span>
<a href="#l16.259"></a><span id="l16.259" class="difflineminus">-  </span>
<a href="#l16.260"></a><span id="l16.260" class="difflineplus">+</span>
<a href="#l16.261"></a><span id="l16.261">   for (var i = 0; i &lt; publishSiteData.length; i++)</span>
<a href="#l16.262"></a><span id="l16.262">   {</span>
<a href="#l16.263"></a><span id="l16.263">     // Site publish or browse url needs to be contained in document URL,</span>
<a href="#l16.264"></a><span id="l16.264">     //  but that may also have a directory after the site base URL</span>
<a href="#l16.265"></a><span id="l16.265">     //  So we must examine all records to find the site URL that best</span>
<a href="#l16.266"></a><span id="l16.266">     //    matches the document URL: the longest-matching substring (XXX is this right?)</span>
<a href="#l16.267"></a><span id="l16.267">     var lenObj = {value:0};</span>
<a href="#l16.268"></a><span id="l16.268">     var tempData = Clone(publishSiteData[i]);</span>
<a href="#l16.269"></a><span id="l16.269" class="difflineat">@@ -669,45 +669,45 @@ function FindSiteIndexAndDocDir(publishS</span>
<a href="#l16.270"></a><span id="l16.270">   }</span>
<a href="#l16.271"></a><span id="l16.271">   return siteIndex;</span>
<a href="#l16.272"></a><span id="l16.272"> }</span>
<a href="#l16.273"></a><span id="l16.273"> </span>
<a href="#l16.274"></a><span id="l16.274"> // Look for a matching publish url within the document url</span>
<a href="#l16.275"></a><span id="l16.275"> // (We need to look at both &quot;publishUrl&quot; and &quot;browseUrl&quot; in case we are editing</span>
<a href="#l16.276"></a><span id="l16.276"> //  an http: document but using ftp: to publish.)</span>
<a href="#l16.277"></a><span id="l16.277"> // If match is found:</span>
<a href="#l16.278"></a><span id="l16.278" class="difflineminus">-//    Fill in the filename and subirectory based on the docUrl and </span>
<a href="#l16.279"></a><span id="l16.279" class="difflineplus">+//    Fill in the filename and subirectory based on the docUrl and</span>
<a href="#l16.280"></a><span id="l16.280"> //    return the length of the docUrl with username+password stripped out</span>
<a href="#l16.281"></a><span id="l16.281"> function FillInMatchingPublishData(publishData, docUrl)</span>
<a href="#l16.282"></a><span id="l16.282"> {</span>
<a href="#l16.283"></a><span id="l16.283">   if (!publishData || !docUrl)</span>
<a href="#l16.284"></a><span id="l16.284">     return 0;</span>
<a href="#l16.285"></a><span id="l16.285"> </span>
<a href="#l16.286"></a><span id="l16.286">   // Separate docUrl into the base url and filename</span>
<a href="#l16.287"></a><span id="l16.287">   var lastSlash = docUrl.lastIndexOf(&quot;\/&quot;);</span>
<a href="#l16.288"></a><span id="l16.288">   var baseUrl = docUrl.slice(0, lastSlash+1);</span>
<a href="#l16.289"></a><span id="l16.289">   var filename = docUrl.slice(lastSlash+1);</span>
<a href="#l16.290"></a><span id="l16.290" class="difflineminus">-    </span>
<a href="#l16.291"></a><span id="l16.291" class="difflineplus">+</span>
<a href="#l16.292"></a><span id="l16.292">   // Strip username+password from docUrl because these</span>
<a href="#l16.293"></a><span id="l16.293">   //  are stored separately in publishData, never embedded in the publishUrl</span>
<a href="#l16.294"></a><span id="l16.294">   // If both docUrl and publishData contain usernames,</span>
<a href="#l16.295"></a><span id="l16.295">   //   we must match that as well as the url</span>
<a href="#l16.296"></a><span id="l16.296">   var username = {value:&quot;&quot;};</span>
<a href="#l16.297"></a><span id="l16.297" class="difflineminus">-  baseUrl = StripUsernamePassword(baseUrl, username); </span>
<a href="#l16.298"></a><span id="l16.298" class="difflineplus">+  baseUrl = StripUsernamePassword(baseUrl, username);</span>
<a href="#l16.299"></a><span id="l16.299">   username = username.value;</span>
<a href="#l16.300"></a><span id="l16.300"> </span>
<a href="#l16.301"></a><span id="l16.301">   var matchedLength = 0;</span>
<a href="#l16.302"></a><span id="l16.302">   let pubUrlFound = publishData.publishUrl &amp;&amp; baseUrl.startsWith(publishData.publishUrl);</span>
<a href="#l16.303"></a><span id="l16.303">   let browseUrlFound = publishData.browseUrl &amp;&amp; baseUrl.startsWith(publishData.browseUrl);</span>
<a href="#l16.304"></a><span id="l16.304"> </span>
<a href="#l16.305"></a><span id="l16.305" class="difflineminus">-  if ((pubUrlFound || browseUrlFound) </span>
<a href="#l16.306"></a><span id="l16.306" class="difflineplus">+  if ((pubUrlFound || browseUrlFound)</span>
<a href="#l16.307"></a><span id="l16.307">       &amp;&amp; (!username || !publishData.username || username == publishData.username))</span>
<a href="#l16.308"></a><span id="l16.308">   {</span>
<a href="#l16.309"></a><span id="l16.309">     // We found a match</span>
<a href="#l16.310"></a><span id="l16.310" class="difflineminus">-    matchedLength = pubUrlFound ? publishData.publishUrl.length </span>
<a href="#l16.311"></a><span id="l16.311" class="difflineplus">+    matchedLength = pubUrlFound ? publishData.publishUrl.length</span>
<a href="#l16.312"></a><span id="l16.312">                             : publishData.browseUrl.length;</span>
<a href="#l16.313"></a><span id="l16.313"> </span>
<a href="#l16.314"></a><span id="l16.314">     if (matchedLength &gt; 0)</span>
<a href="#l16.315"></a><span id="l16.315">     {</span>
<a href="#l16.316"></a><span id="l16.316">       publishData.filename = filename;</span>
<a href="#l16.317"></a><span id="l16.317"> </span>
<a href="#l16.318"></a><span id="l16.318">       // Subdirectory within the site is what's left in baseUrl after the matched portion</span>
<a href="#l16.319"></a><span id="l16.319">       publishData.docDir = FormatDirForPublishing(baseUrl.slice(matchedLength));</span>
<a href="#l16.320"></a><span id="l16.320" class="difflineat">@@ -750,17 +750,17 @@ function FormatUrlForPublishing(url)</span>
<a href="#l16.321"></a><span id="l16.321">     var lastChar = url.charAt(url.length-1);</span>
<a href="#l16.322"></a><span id="l16.322">     if (lastChar != &quot;/&quot; &amp;&amp; lastChar != &quot;=&quot; &amp;&amp; lastChar != &quot;&amp;&quot; &amp;&amp; lastChar  != &quot;?&quot;)</span>
<a href="#l16.323"></a><span id="l16.323">       return (url + &quot;/&quot;);</span>
<a href="#l16.324"></a><span id="l16.324">   }</span>
<a href="#l16.325"></a><span id="l16.325">   return url;</span>
<a href="#l16.326"></a><span id="l16.326"> }</span>
<a href="#l16.327"></a><span id="l16.327"> </span>
<a href="#l16.328"></a><span id="l16.328"> // Username and password present in publish url are</span>
<a href="#l16.329"></a><span id="l16.329" class="difflineminus">-//  extracted into the separate &quot;username&quot; and &quot;password&quot; fields </span>
<a href="#l16.330"></a><span id="l16.330" class="difflineplus">+//  extracted into the separate &quot;username&quot; and &quot;password&quot; fields</span>
<a href="#l16.331"></a><span id="l16.331"> //  of the publishData object</span>
<a href="#l16.332"></a><span id="l16.332"> // Returns true if we did change the publishData</span>
<a href="#l16.333"></a><span id="l16.333"> function FixupUsernamePasswordInPublishData(publishData)</span>
<a href="#l16.334"></a><span id="l16.334"> {</span>
<a href="#l16.335"></a><span id="l16.335">   var ret = false;</span>
<a href="#l16.336"></a><span id="l16.336">   if (publishData &amp;&amp; publishData.publishUrl)</span>
<a href="#l16.337"></a><span id="l16.337">   {</span>
<a href="#l16.338"></a><span id="l16.338">     var userObj = {value:&quot;&quot;};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdAEAttributes.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdAEAttributes.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -116,17 +116,17 @@ var gTarget =</span>
<a href="#l17.4"></a><span id="l17.4">     &quot;!&quot;  Allow only one character</span>
<a href="#l17.5"></a><span id="l17.5">     &quot;^&quot;  The first character can be only be A-Z, a-z, hyphen, underscore, colon or period</span>
<a href="#l17.6"></a><span id="l17.6">     &quot;$&quot;  is an attribute required by HTML DTD</span>
<a href="#l17.7"></a><span id="l17.7"> */</span>
<a href="#l17.8"></a><span id="l17.8"> </span>
<a href="#l17.9"></a><span id="l17.9"> /*</span>
<a href="#l17.10"></a><span id="l17.10">    Most elements have the &quot;dir&quot; attribute,</span>
<a href="#l17.11"></a><span id="l17.11">    so we use this value array</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-   for all elements instead of specifying  </span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+   for all elements instead of specifying</span>
<a href="#l17.14"></a><span id="l17.14">    separately for each element</span>
<a href="#l17.15"></a><span id="l17.15"> */</span>
<a href="#l17.16"></a><span id="l17.16"> gHTMLAttr.all_dir =</span>
<a href="#l17.17"></a><span id="l17.17"> [</span>
<a href="#l17.18"></a><span id="l17.18">   &quot;ltr&quot;,</span>
<a href="#l17.19"></a><span id="l17.19">   &quot;rtl&quot;</span>
<a href="#l17.20"></a><span id="l17.20"> ];</span>
<a href="#l17.21"></a><span id="l17.21"> </span>
<a href="#l17.22"></a><span id="l17.22" class="difflineat">@@ -302,17 +302,17 @@ gHTMLAttr.base_target = gTarget;</span>
<a href="#l17.23"></a><span id="l17.23"> // this is deprecated //</span>
<a href="#l17.24"></a><span id="l17.24"> gHTMLAttr.basefont =</span>
<a href="#l17.25"></a><span id="l17.25"> [</span>
<a href="#l17.26"></a><span id="l17.26">   &quot;^id&quot;,</span>
<a href="#l17.27"></a><span id="l17.27">   &quot;$size&quot;,</span>
<a href="#l17.28"></a><span id="l17.28">   &quot;color&quot;,</span>
<a href="#l17.29"></a><span id="l17.29">   &quot;face&quot;</span>
<a href="#l17.30"></a><span id="l17.30"> ];</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">- </span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+</span>
<a href="#l17.33"></a><span id="l17.33"> gHTMLAttr.basefont_color = gHTMLColors;</span>
<a href="#l17.34"></a><span id="l17.34"> </span>
<a href="#l17.35"></a><span id="l17.35"> gHTMLAttr.bdo =</span>
<a href="#l17.36"></a><span id="l17.36"> [</span>
<a href="#l17.37"></a><span id="l17.37">   &quot;_core&quot;,</span>
<a href="#l17.38"></a><span id="l17.38">   &quot;-&quot;,</span>
<a href="#l17.39"></a><span id="l17.39">   &quot;^lang&quot;,</span>
<a href="#l17.40"></a><span id="l17.40">   &quot;$dir&quot;</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineat">@@ -326,17 +326,17 @@ gHTMLAttr.bdo_dir =</span>
<a href="#l17.42"></a><span id="l17.42"> </span>
<a href="#l17.43"></a><span id="l17.43"> gHTMLAttr.big =</span>
<a href="#l17.44"></a><span id="l17.44"> [</span>
<a href="#l17.45"></a><span id="l17.45">   &quot;_core&quot;,</span>
<a href="#l17.46"></a><span id="l17.46">   &quot;-&quot;,</span>
<a href="#l17.47"></a><span id="l17.47">   &quot;^lang&quot;,</span>
<a href="#l17.48"></a><span id="l17.48">   &quot;dir&quot;</span>
<a href="#l17.49"></a><span id="l17.49"> ];</span>
<a href="#l17.50"></a><span id="l17.50" class="difflineminus">- </span>
<a href="#l17.51"></a><span id="l17.51" class="difflineplus">+</span>
<a href="#l17.52"></a><span id="l17.52"> gHTMLAttr.blockquote =</span>
<a href="#l17.53"></a><span id="l17.53"> [</span>
<a href="#l17.54"></a><span id="l17.54">   &quot;cite&quot;,</span>
<a href="#l17.55"></a><span id="l17.55">   &quot;-&quot;,</span>
<a href="#l17.56"></a><span id="l17.56">   &quot;_core&quot;,</span>
<a href="#l17.57"></a><span id="l17.57">   &quot;-&quot;,</span>
<a href="#l17.58"></a><span id="l17.58">   &quot;^lang&quot;,</span>
<a href="#l17.59"></a><span id="l17.59">   &quot;dir&quot;</span>
<a href="#l17.60"></a><span id="l17.60" class="difflineat">@@ -783,17 +783,17 @@ gHTMLAttr.hr =</span>
<a href="#l17.61"></a><span id="l17.61">   &quot;_core&quot;,</span>
<a href="#l17.62"></a><span id="l17.62">   &quot;-&quot;,</span>
<a href="#l17.63"></a><span id="l17.63">   &quot;^lang&quot;,</span>
<a href="#l17.64"></a><span id="l17.64">   &quot;dir&quot;</span>
<a href="#l17.65"></a><span id="l17.65"> ];</span>
<a href="#l17.66"></a><span id="l17.66"> </span>
<a href="#l17.67"></a><span id="l17.67"> gHTMLAttr.hr_align = gHAlign;</span>
<a href="#l17.68"></a><span id="l17.68"> </span>
<a href="#l17.69"></a><span id="l17.69" class="difflineminus">-gHTMLAttr.hr_noshade = </span>
<a href="#l17.70"></a><span id="l17.70" class="difflineplus">+gHTMLAttr.hr_noshade =</span>
<a href="#l17.71"></a><span id="l17.71"> [</span>
<a href="#l17.72"></a><span id="l17.72">   &quot;noshade&quot;</span>
<a href="#l17.73"></a><span id="l17.73"> ];</span>
<a href="#l17.74"></a><span id="l17.74"> </span>
<a href="#l17.75"></a><span id="l17.75"> </span>
<a href="#l17.76"></a><span id="l17.76"> gHTMLAttr.html =</span>
<a href="#l17.77"></a><span id="l17.77"> [</span>
<a href="#l17.78"></a><span id="l17.78">   &quot;version&quot;,</span>
<a href="#l17.79"></a><span id="l17.79" class="difflineat">@@ -1197,17 +1197,17 @@ gHTMLAttr.ol =</span>
<a href="#l17.80"></a><span id="l17.80">   &quot;dir&quot;</span>
<a href="#l17.81"></a><span id="l17.81"> ];</span>
<a href="#l17.82"></a><span id="l17.82"> </span>
<a href="#l17.83"></a><span id="l17.83"> gHTMLAttr.ol_type =</span>
<a href="#l17.84"></a><span id="l17.84"> [</span>
<a href="#l17.85"></a><span id="l17.85">   &quot;1&quot;,</span>
<a href="#l17.86"></a><span id="l17.86">   &quot;a&quot;,</span>
<a href="#l17.87"></a><span id="l17.87">   &quot;A&quot;,</span>
<a href="#l17.88"></a><span id="l17.88" class="difflineminus">-  &quot;i&quot;,     </span>
<a href="#l17.89"></a><span id="l17.89" class="difflineplus">+  &quot;i&quot;,</span>
<a href="#l17.90"></a><span id="l17.90">   &quot;I&quot;</span>
<a href="#l17.91"></a><span id="l17.91"> ];</span>
<a href="#l17.92"></a><span id="l17.92"> </span>
<a href="#l17.93"></a><span id="l17.93"> gHTMLAttr.ol_compact =</span>
<a href="#l17.94"></a><span id="l17.94"> [</span>
<a href="#l17.95"></a><span id="l17.95">   &quot;compact&quot;</span>
<a href="#l17.96"></a><span id="l17.96"> ];</span>
<a href="#l17.97"></a><span id="l17.97"> </span>
<a href="#l17.98"></a><span id="l17.98" class="difflineat">@@ -1713,18 +1713,18 @@ gHTMLAttr._var =</span>
<a href="#l17.99"></a><span id="l17.99"> [</span>
<a href="#l17.100"></a><span id="l17.100">   &quot;_core&quot;,</span>
<a href="#l17.101"></a><span id="l17.101">   &quot;-&quot;,</span>
<a href="#l17.102"></a><span id="l17.102">   &quot;^lang&quot;,</span>
<a href="#l17.103"></a><span id="l17.103">   &quot;dir&quot;</span>
<a href="#l17.104"></a><span id="l17.104"> ];</span>
<a href="#l17.105"></a><span id="l17.105"> </span>
<a href="#l17.106"></a><span id="l17.106"> // ================ JS Attributes ================ //</span>
<a href="#l17.107"></a><span id="l17.107" class="difflineminus">-// These are element specific even handlers. </span>
<a href="#l17.108"></a><span id="l17.108" class="difflineminus">-/* Most all elements use gCoreJSEvents, so those </span>
<a href="#l17.109"></a><span id="l17.109" class="difflineplus">+// These are element specific even handlers.</span>
<a href="#l17.110"></a><span id="l17.110" class="difflineplus">+/* Most all elements use gCoreJSEvents, so those</span>
<a href="#l17.111"></a><span id="l17.111">    are assumed except for those listed here with &quot;noEvents&quot;</span>
<a href="#l17.112"></a><span id="l17.112"> */</span>
<a href="#l17.113"></a><span id="l17.113"> </span>
<a href="#l17.114"></a><span id="l17.114"> gJSAttr.a =</span>
<a href="#l17.115"></a><span id="l17.115"> [</span>
<a href="#l17.116"></a><span id="l17.116">   &quot;onfocus&quot;,</span>
<a href="#l17.117"></a><span id="l17.117">   &quot;onblur&quot;</span>
<a href="#l17.118"></a><span id="l17.118"> ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdAECSSAttributes.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdAECSSAttributes.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -110,29 +110,29 @@ function UpdateCSSAttributes()</span>
<a href="#l18.4"></a><span id="l18.4">     else</span>
<a href="#l18.5"></a><span id="l18.5">       styleString += name + &quot;: &quot; + value + &quot;; &quot;;</span>
<a href="#l18.6"></a><span id="l18.6">   }</span>
<a href="#l18.7"></a><span id="l18.7">   if (styleString)</span>
<a href="#l18.8"></a><span id="l18.8">   {</span>
<a href="#l18.9"></a><span id="l18.9">     // Use editor transactions if modifying the element directly in the document</span>
<a href="#l18.10"></a><span id="l18.10">     doRemoveAttribute(&quot;style&quot;);</span>
<a href="#l18.11"></a><span id="l18.11">     doSetAttribute(&quot;style&quot;, styleString);  // NOTE BUG 18894!!!</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-  } </span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+  }</span>
<a href="#l18.14"></a><span id="l18.14">   else if (gElement.getAttribute(&quot;style&quot;))</span>
<a href="#l18.15"></a><span id="l18.15">     doRemoveAttribute(&quot;style&quot;);</span>
<a href="#l18.16"></a><span id="l18.16"> }</span>
<a href="#l18.17"></a><span id="l18.17"> </span>
<a href="#l18.18"></a><span id="l18.18"> function RemoveCSSAttribute()</span>
<a href="#l18.19"></a><span id="l18.19"> {</span>
<a href="#l18.20"></a><span id="l18.20">   // We only allow 1 selected item</span>
<a href="#l18.21"></a><span id="l18.21">   if (gDialog.AddCSSAttributeTree.view.selection.count)</span>
<a href="#l18.22"></a><span id="l18.22">   {</span>
<a href="#l18.23"></a><span id="l18.23">     // Remove the item from the tree</span>
<a href="#l18.24"></a><span id="l18.24">     // We always rebuild complete &quot;style&quot; string,</span>
<a href="#l18.25"></a><span id="l18.25" class="difflineminus">-    //  so no list of &quot;removed&quot; items </span>
<a href="#l18.26"></a><span id="l18.26" class="difflineplus">+    //  so no list of &quot;removed&quot; items</span>
<a href="#l18.27"></a><span id="l18.27">     getSelectedItem(gDialog.AddCSSAttributeTree).remove();</span>
<a href="#l18.28"></a><span id="l18.28"> </span>
<a href="#l18.29"></a><span id="l18.29">     ClearCSSInputWidgets();</span>
<a href="#l18.30"></a><span id="l18.30">   }</span>
<a href="#l18.31"></a><span id="l18.31"> }</span>
<a href="#l18.32"></a><span id="l18.32"> </span>
<a href="#l18.33"></a><span id="l18.33"> function SelectCSSTree( index )</span>
<a href="#l18.34"></a><span id="l18.34"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdAEHTMLAttributes.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdAEHTMLAttributes.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l19.4"></a><span id="l19.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.5"></a><span id="l19.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.6"></a><span id="l19.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8"> function BuildHTMLAttributeNameList()</span>
<a href="#l19.9"></a><span id="l19.9"> {</span>
<a href="#l19.10"></a><span id="l19.10">   gDialog.AddHTMLAttributeNameInput.removeAllItems();</span>
<a href="#l19.11"></a><span id="l19.11" class="difflineminus">-  </span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+</span>
<a href="#l19.13"></a><span id="l19.13">   var elementName = gElement.localName;</span>
<a href="#l19.14"></a><span id="l19.14">   var attNames = gHTMLAttr[elementName];</span>
<a href="#l19.15"></a><span id="l19.15"> </span>
<a href="#l19.16"></a><span id="l19.16">   if (attNames &amp;&amp; attNames.length)</span>
<a href="#l19.17"></a><span id="l19.17">   {</span>
<a href="#l19.18"></a><span id="l19.18">     var menuitem;</span>
<a href="#l19.19"></a><span id="l19.19"> </span>
<a href="#l19.20"></a><span id="l19.20">     for (var i = 0; i &lt; attNames.length; i++)</span>
<a href="#l19.21"></a><span id="l19.21" class="difflineat">@@ -39,17 +39,17 @@ function BuildHTMLAttributeNameList()</span>
<a href="#l19.22"></a><span id="l19.22">       {</span>
<a href="#l19.23"></a><span id="l19.23">         // Signal for separator</span>
<a href="#l19.24"></a><span id="l19.24">         var popup = gDialog.AddHTMLAttributeNameInput.firstChild;</span>
<a href="#l19.25"></a><span id="l19.25">         if (popup)</span>
<a href="#l19.26"></a><span id="l19.26">         {</span>
<a href="#l19.27"></a><span id="l19.27">           var sep = document.createElementNS(XUL_NS, &quot;menuseparator&quot;);</span>
<a href="#l19.28"></a><span id="l19.28">           if (sep)</span>
<a href="#l19.29"></a><span id="l19.29">             popup.appendChild(sep);</span>
<a href="#l19.30"></a><span id="l19.30" class="difflineminus">-        }        </span>
<a href="#l19.31"></a><span id="l19.31" class="difflineplus">+        }</span>
<a href="#l19.32"></a><span id="l19.32">       }</span>
<a href="#l19.33"></a><span id="l19.33">       else</span>
<a href="#l19.34"></a><span id="l19.34">       {</span>
<a href="#l19.35"></a><span id="l19.35">         // Get information about value filtering</span>
<a href="#l19.36"></a><span id="l19.36">         let forceOneChar = name.includes(&quot;!&quot;);</span>
<a href="#l19.37"></a><span id="l19.37">         let forceInteger = name.includes(&quot;#&quot;);</span>
<a href="#l19.38"></a><span id="l19.38">         let forceSignedInteger = name.includes(&quot;+&quot;);</span>
<a href="#l19.39"></a><span id="l19.39">         let forceIntOrPercent = name.includes(&quot;%&quot;);</span>
<a href="#l19.40"></a><span id="l19.40" class="difflineat">@@ -85,17 +85,17 @@ function BuildHTMLAttributeNameList()</span>
<a href="#l19.41"></a><span id="l19.41">   }</span>
<a href="#l19.42"></a><span id="l19.42"> }</span>
<a href="#l19.43"></a><span id="l19.43"> </span>
<a href="#l19.44"></a><span id="l19.44"> // build attribute list in tree form from element attributes</span>
<a href="#l19.45"></a><span id="l19.45"> function BuildHTMLAttributeTable()</span>
<a href="#l19.46"></a><span id="l19.46"> {</span>
<a href="#l19.47"></a><span id="l19.47">   var nodeMap = gElement.attributes;</span>
<a href="#l19.48"></a><span id="l19.48">   var i;</span>
<a href="#l19.49"></a><span id="l19.49" class="difflineminus">-  if (nodeMap.length &gt; 0) </span>
<a href="#l19.50"></a><span id="l19.50" class="difflineplus">+  if (nodeMap.length &gt; 0)</span>
<a href="#l19.51"></a><span id="l19.51">   {</span>
<a href="#l19.52"></a><span id="l19.52">     var added = false;</span>
<a href="#l19.53"></a><span id="l19.53">     for(i = 0; i &lt; nodeMap.length; i++)</span>
<a href="#l19.54"></a><span id="l19.54">     {</span>
<a href="#l19.55"></a><span id="l19.55">       let name = nodeMap[i].name.trim().toLowerCase();</span>
<a href="#l19.56"></a><span id="l19.56">       if ( CheckAttributeNameSimilarity( nodeMap[i].nodeName, HTMLAttrs ) ||</span>
<a href="#l19.57"></a><span id="l19.57">            name.startsWith(&quot;on&quot;) || name == &quot;style&quot; ) {</span>
<a href="#l19.58"></a><span id="l19.58">         continue;   // repeated or non-HTML attribute, ignore this one and go to next</span>
<a href="#l19.59"></a><span id="l19.59" class="difflineat">@@ -149,17 +149,17 @@ function onSelectHTMLTreeItem()</span>
<a href="#l19.60"></a><span id="l19.60"> </span>
<a href="#l19.61"></a><span id="l19.61"> function onInputHTMLAttributeName()</span>
<a href="#l19.62"></a><span id="l19.62"> {</span>
<a href="#l19.63"></a><span id="l19.63">   let attName = gDialog.AddHTMLAttributeNameInput.value.toLowerCase().trim();</span>
<a href="#l19.64"></a><span id="l19.64"> </span>
<a href="#l19.65"></a><span id="l19.65">   // Clear value widget, but prevent triggering update in tree</span>
<a href="#l19.66"></a><span id="l19.66">   gUpdateTreeValue = false;</span>
<a href="#l19.67"></a><span id="l19.67">   gDialog.AddHTMLAttributeValueInput.value = &quot;&quot;;</span>
<a href="#l19.68"></a><span id="l19.68" class="difflineminus">-  gUpdateTreeValue = true; </span>
<a href="#l19.69"></a><span id="l19.69" class="difflineplus">+  gUpdateTreeValue = true;</span>
<a href="#l19.70"></a><span id="l19.70"> </span>
<a href="#l19.71"></a><span id="l19.71">   if (attName)</span>
<a href="#l19.72"></a><span id="l19.72">   {</span>
<a href="#l19.73"></a><span id="l19.73">     // Get value list for current attribute name</span>
<a href="#l19.74"></a><span id="l19.74">     var valueListName;</span>
<a href="#l19.75"></a><span id="l19.75"> </span>
<a href="#l19.76"></a><span id="l19.76">     // Most elements have the &quot;dir&quot; attribute,</span>
<a href="#l19.77"></a><span id="l19.77">     //   so we have just one array for the allowed values instead</span>
<a href="#l19.78"></a><span id="l19.78" class="difflineat">@@ -182,17 +182,17 @@ function onInputHTMLAttributeName()</span>
<a href="#l19.79"></a><span id="l19.79">     if (valueListName in gHTMLAttr)</span>
<a href="#l19.80"></a><span id="l19.80">     {</span>
<a href="#l19.81"></a><span id="l19.81">       var valueList = gHTMLAttr[valueListName];</span>
<a href="#l19.82"></a><span id="l19.82"> </span>
<a href="#l19.83"></a><span id="l19.83">       listLen = valueList.length;</span>
<a href="#l19.84"></a><span id="l19.84">       if (listLen == 1)</span>
<a href="#l19.85"></a><span id="l19.85">         newValue = valueList[0];</span>
<a href="#l19.86"></a><span id="l19.86"> </span>
<a href="#l19.87"></a><span id="l19.87" class="difflineminus">-      // Note: For case where &quot;value list&quot; is actually just </span>
<a href="#l19.88"></a><span id="l19.88" class="difflineplus">+      // Note: For case where &quot;value list&quot; is actually just</span>
<a href="#l19.89"></a><span id="l19.89">       // one (default) item, don't use menulist for that</span>
<a href="#l19.90"></a><span id="l19.90">       if (listLen &gt; 1)</span>
<a href="#l19.91"></a><span id="l19.91">       {</span>
<a href="#l19.92"></a><span id="l19.92">         gDialog.AddHTMLAttributeValueMenulist.removeAllItems();</span>
<a href="#l19.93"></a><span id="l19.93"> </span>
<a href="#l19.94"></a><span id="l19.94">         if (deckIndex != &quot;1&quot;)</span>
<a href="#l19.95"></a><span id="l19.95">         {</span>
<a href="#l19.96"></a><span id="l19.96">           // Switch to using editable menulist</span>
<a href="#l19.97"></a><span id="l19.97" class="difflineat">@@ -206,37 +206,37 @@ function onInputHTMLAttributeName()</span>
<a href="#l19.98"></a><span id="l19.98">           {</span>
<a href="#l19.99"></a><span id="l19.99">             // Signal for separator</span>
<a href="#l19.100"></a><span id="l19.100">             var popup = gDialog.AddHTMLAttributeValueInput.firstChild;</span>
<a href="#l19.101"></a><span id="l19.101">             if (popup)</span>
<a href="#l19.102"></a><span id="l19.102">             {</span>
<a href="#l19.103"></a><span id="l19.103">               var sep = document.createElementNS(XUL_NS, &quot;menuseparator&quot;);</span>
<a href="#l19.104"></a><span id="l19.104">               if (sep)</span>
<a href="#l19.105"></a><span id="l19.105">                 popup.appendChild(sep);</span>
<a href="#l19.106"></a><span id="l19.106" class="difflineminus">-            }        </span>
<a href="#l19.107"></a><span id="l19.107" class="difflineplus">+            }</span>
<a href="#l19.108"></a><span id="l19.108">           } else {</span>
<a href="#l19.109"></a><span id="l19.109">             gDialog.AddHTMLAttributeValueMenulist.appendItem(valueList[i]);</span>
<a href="#l19.110"></a><span id="l19.110">           }</span>
<a href="#l19.111"></a><span id="l19.111">         }</span>
<a href="#l19.112"></a><span id="l19.112">       }</span>
<a href="#l19.113"></a><span id="l19.113">     }</span>
<a href="#l19.114"></a><span id="l19.114" class="difflineminus">-    </span>
<a href="#l19.115"></a><span id="l19.115" class="difflineplus">+</span>
<a href="#l19.116"></a><span id="l19.116">     if (listLen &lt;= 1 &amp;&amp; deckIndex != &quot;0&quot;)</span>
<a href="#l19.117"></a><span id="l19.117">     {</span>
<a href="#l19.118"></a><span id="l19.118">       // No list: Use textbox for input instead</span>
<a href="#l19.119"></a><span id="l19.119">       gDialog.AddHTMLAttributeValueInput = gDialog.AddHTMLAttributeValueTextbox;</span>
<a href="#l19.120"></a><span id="l19.120">       gDialog.AddHTMLAttributeValueDeck.setAttribute(&quot;selectedIndex&quot;, &quot;0&quot;);</span>
<a href="#l19.121"></a><span id="l19.121">     }</span>
<a href="#l19.122"></a><span id="l19.122"> </span>
<a href="#l19.123"></a><span id="l19.123">     // If attribute already exists in tree, use associated value,</span>
<a href="#l19.124"></a><span id="l19.124">     //  else use default found above</span>
<a href="#l19.125"></a><span id="l19.125">     var existingValue = GetAndSelectExistingAttributeValue(attName, &quot;HTMLAList&quot;);</span>
<a href="#l19.126"></a><span id="l19.126">     if (existingValue)</span>
<a href="#l19.127"></a><span id="l19.127">       newValue = existingValue;</span>
<a href="#l19.128"></a><span id="l19.128" class="difflineminus">-      </span>
<a href="#l19.129"></a><span id="l19.129" class="difflineplus">+</span>
<a href="#l19.130"></a><span id="l19.130">     gDialog.AddHTMLAttributeValueInput.value = newValue;</span>
<a href="#l19.131"></a><span id="l19.131"> </span>
<a href="#l19.132"></a><span id="l19.132">     if (!existingValue)</span>
<a href="#l19.133"></a><span id="l19.133">       onInputHTMLAttributeValue();</span>
<a href="#l19.134"></a><span id="l19.134">   }</span>
<a href="#l19.135"></a><span id="l19.135"> }</span>
<a href="#l19.136"></a><span id="l19.136"> </span>
<a href="#l19.137"></a><span id="l19.137"> function onInputHTMLAttributeValue()</span>
<a href="#l19.138"></a><span id="l19.138" class="difflineat">@@ -279,21 +279,21 @@ function onInputHTMLAttributeValue()</span>
<a href="#l19.139"></a><span id="l19.139">       else if ( selectedItem.getAttribute(&quot;forceSignedInteger&quot;) == &quot;true&quot; )</span>
<a href="#l19.140"></a><span id="l19.140">       {</span>
<a href="#l19.141"></a><span id="l19.141">         // Allow integer with optional &quot;+&quot; or &quot;-&quot; as first character</span>
<a href="#l19.142"></a><span id="l19.142">         var sign = value[0];</span>
<a href="#l19.143"></a><span id="l19.143">         value = value.replace(/\D+/g,&quot;&quot;);</span>
<a href="#l19.144"></a><span id="l19.144">         if (sign == &quot;+&quot; || sign == &quot;-&quot;)</span>
<a href="#l19.145"></a><span id="l19.145">           value = sign + value;</span>
<a href="#l19.146"></a><span id="l19.146">       }</span>
<a href="#l19.147"></a><span id="l19.147" class="difflineminus">-      </span>
<a href="#l19.148"></a><span id="l19.148" class="difflineminus">-      // Special case attributes </span>
<a href="#l19.149"></a><span id="l19.149" class="difflineplus">+</span>
<a href="#l19.150"></a><span id="l19.150" class="difflineplus">+      // Special case attributes</span>
<a href="#l19.151"></a><span id="l19.151">       if (selectedItem.getAttribute(&quot;limitFirstChar&quot;) == &quot;true&quot;)</span>
<a href="#l19.152"></a><span id="l19.152">       {</span>
<a href="#l19.153"></a><span id="l19.153" class="difflineminus">-        // Limit first character to letter, and all others to </span>
<a href="#l19.154"></a><span id="l19.154" class="difflineplus">+        // Limit first character to letter, and all others to</span>
<a href="#l19.155"></a><span id="l19.155">         //  letters, numbers, and a few others</span>
<a href="#l19.156"></a><span id="l19.156">         value = value.replace(/^[^a-zA-Z\u0080-\uFFFF]/, &quot;&quot;).replace(/[^a-zA-Z0-9_\.\-\:\u0080-\uFFFF]+/g,'');</span>
<a href="#l19.157"></a><span id="l19.157">       }</span>
<a href="#l19.158"></a><span id="l19.158"> </span>
<a href="#l19.159"></a><span id="l19.159">       // Update once only if it changed</span>
<a href="#l19.160"></a><span id="l19.160">       if (value != gDialog.AddHTMLAttributeValueInput.value)</span>
<a href="#l19.161"></a><span id="l19.161">         gDialog.AddHTMLAttributeValueInput.value = value;</span>
<a href="#l19.162"></a><span id="l19.162">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdAEJSEAttributes.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdAEJSEAttributes.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l20.4"></a><span id="l20.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.5"></a><span id="l20.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.6"></a><span id="l20.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.7"></a><span id="l20.7"> </span>
<a href="#l20.8"></a><span id="l20.8"> function BuildJSEAttributeNameList()</span>
<a href="#l20.9"></a><span id="l20.9"> {</span>
<a href="#l20.10"></a><span id="l20.10">   gDialog.AddJSEAttributeNameList.removeAllItems();</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineminus">-  </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+</span>
<a href="#l20.13"></a><span id="l20.13">   // Get events specific to current element</span>
<a href="#l20.14"></a><span id="l20.14">   var elementName = gElement.localName;</span>
<a href="#l20.15"></a><span id="l20.15">   if (elementName in gJSAttr)</span>
<a href="#l20.16"></a><span id="l20.16">   {</span>
<a href="#l20.17"></a><span id="l20.17">     var attNames = gJSAttr[elementName];</span>
<a href="#l20.18"></a><span id="l20.18">     var i;</span>
<a href="#l20.19"></a><span id="l20.19">     var popup;</span>
<a href="#l20.20"></a><span id="l20.20">     var sep;</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineat">@@ -32,17 +32,17 @@ function BuildJSEAttributeNameList()</span>
<a href="#l20.22"></a><span id="l20.22">         gDialog.AddJSEAttributeNameList.appendItem(attNames[i], attNames[i]);</span>
<a href="#l20.23"></a><span id="l20.23"> </span>
<a href="#l20.24"></a><span id="l20.24">       popup = gDialog.AddJSEAttributeNameList.firstChild;</span>
<a href="#l20.25"></a><span id="l20.25">       if (popup)</span>
<a href="#l20.26"></a><span id="l20.26">       {</span>
<a href="#l20.27"></a><span id="l20.27">         sep = document.createElementNS(XUL_NS, &quot;menuseparator&quot;);</span>
<a href="#l20.28"></a><span id="l20.28">         if (sep)</span>
<a href="#l20.29"></a><span id="l20.29">           popup.appendChild(sep);</span>
<a href="#l20.30"></a><span id="l20.30" class="difflineminus">-      }        </span>
<a href="#l20.31"></a><span id="l20.31" class="difflineplus">+      }</span>
<a href="#l20.32"></a><span id="l20.32">     }</span>
<a href="#l20.33"></a><span id="l20.33">   }</span>
<a href="#l20.34"></a><span id="l20.34"> </span>
<a href="#l20.35"></a><span id="l20.35">   // Always add core JS events unless we aborted above</span>
<a href="#l20.36"></a><span id="l20.36">   for (i = 0; i &lt; gCoreJSEvents.length; i++)</span>
<a href="#l20.37"></a><span id="l20.37">   {</span>
<a href="#l20.38"></a><span id="l20.38">     if (gCoreJSEvents[i] == &quot;-&quot;)</span>
<a href="#l20.39"></a><span id="l20.39">     {</span>
<a href="#l20.40"></a><span id="l20.40" class="difflineat">@@ -52,17 +52,17 @@ function BuildJSEAttributeNameList()</span>
<a href="#l20.41"></a><span id="l20.41">       sep = document.createElementNS(XUL_NS, &quot;menuseparator&quot;);</span>
<a href="#l20.42"></a><span id="l20.42"> </span>
<a href="#l20.43"></a><span id="l20.43">       if (popup &amp;&amp; sep)</span>
<a href="#l20.44"></a><span id="l20.44">         popup.appendChild(sep);</span>
<a href="#l20.45"></a><span id="l20.45">     }</span>
<a href="#l20.46"></a><span id="l20.46">     else</span>
<a href="#l20.47"></a><span id="l20.47">       gDialog.AddJSEAttributeNameList.appendItem(gCoreJSEvents[i], gCoreJSEvents[i]);</span>
<a href="#l20.48"></a><span id="l20.48">   }</span>
<a href="#l20.49"></a><span id="l20.49" class="difflineminus">-  </span>
<a href="#l20.50"></a><span id="l20.50" class="difflineplus">+</span>
<a href="#l20.51"></a><span id="l20.51">   gDialog.AddJSEAttributeNameList.selectedIndex = 0;</span>
<a href="#l20.52"></a><span id="l20.52"> </span>
<a href="#l20.53"></a><span id="l20.53">   // Use current name and value of first tree item if it exists</span>
<a href="#l20.54"></a><span id="l20.54">   onSelectJSETreeItem();</span>
<a href="#l20.55"></a><span id="l20.55"> }</span>
<a href="#l20.56"></a><span id="l20.56"> </span>
<a href="#l20.57"></a><span id="l20.57"> // build attribute list in tree form from element attributes</span>
<a href="#l20.58"></a><span id="l20.58"> function BuildJSEAttributeTable()</span>
<a href="#l20.59"></a><span id="l20.59" class="difflineat">@@ -89,17 +89,17 @@ function BuildJSEAttributeTable()</span>
<a href="#l20.60"></a><span id="l20.60">   }</span>
<a href="#l20.61"></a><span id="l20.61"> }</span>
<a href="#l20.62"></a><span id="l20.62"> </span>
<a href="#l20.63"></a><span id="l20.63"> function onSelectJSEAttribute()</span>
<a href="#l20.64"></a><span id="l20.64"> {</span>
<a href="#l20.65"></a><span id="l20.65">   if(!gDoOnSelectTree)</span>
<a href="#l20.66"></a><span id="l20.66">     return;</span>
<a href="#l20.67"></a><span id="l20.67"> </span>
<a href="#l20.68"></a><span id="l20.68" class="difflineminus">-  gDialog.AddJSEAttributeValueInput.value = </span>
<a href="#l20.69"></a><span id="l20.69" class="difflineplus">+  gDialog.AddJSEAttributeValueInput.value =</span>
<a href="#l20.70"></a><span id="l20.70">       GetAndSelectExistingAttributeValue(gDialog.AddJSEAttributeNameList.label, &quot;JSEAList&quot;);</span>
<a href="#l20.71"></a><span id="l20.71"> }</span>
<a href="#l20.72"></a><span id="l20.72"> </span>
<a href="#l20.73"></a><span id="l20.73"> function onSelectJSETreeItem()</span>
<a href="#l20.74"></a><span id="l20.74"> {</span>
<a href="#l20.75"></a><span id="l20.75">   var tree = gDialog.AddJSEAttributeTree;</span>
<a href="#l20.76"></a><span id="l20.76">   if (tree &amp;&amp; tree.view.selection.count)</span>
<a href="#l20.77"></a><span id="l20.77">   {</span>
<a href="#l20.78"></a><span id="l20.78" class="difflineat">@@ -117,17 +117,17 @@ function onInputJSEAttributeValue()</span>
<a href="#l20.79"></a><span id="l20.79"> {</span>
<a href="#l20.80"></a><span id="l20.80">   if (gUpdateTreeValue)</span>
<a href="#l20.81"></a><span id="l20.81">   {</span>
<a href="#l20.82"></a><span id="l20.82"> </span>
<a href="#l20.83"></a><span id="l20.83">     var name = TrimString(gDialog.AddJSEAttributeNameList.label);</span>
<a href="#l20.84"></a><span id="l20.84">     var value = TrimString(gDialog.AddJSEAttributeValueInput.value);</span>
<a href="#l20.85"></a><span id="l20.85"> </span>
<a href="#l20.86"></a><span id="l20.86">     // Update value in the tree list</span>
<a href="#l20.87"></a><span id="l20.87" class="difflineminus">-    // Since we have a non-editable menulist, </span>
<a href="#l20.88"></a><span id="l20.88" class="difflineplus">+    // Since we have a non-editable menulist,</span>
<a href="#l20.89"></a><span id="l20.89">     //   we MUST automatically add the event attribute if it doesn't exist</span>
<a href="#l20.90"></a><span id="l20.90">     if (!UpdateExistingAttribute( name, value, &quot;JSEAList&quot; ) &amp;&amp; value)</span>
<a href="#l20.91"></a><span id="l20.91">       AddTreeItem( name, value, &quot;JSEAList&quot;, JSEAttrs );</span>
<a href="#l20.92"></a><span id="l20.92">   }</span>
<a href="#l20.93"></a><span id="l20.93"> }</span>
<a href="#l20.94"></a><span id="l20.94"> </span>
<a href="#l20.95"></a><span id="l20.95"> function editJSEAttributeValue(targetCell)</span>
<a href="#l20.96"></a><span id="l20.96"> {</span>
<a href="#l20.97"></a><span id="l20.97" class="difflineat">@@ -156,17 +156,17 @@ function UpdateJSEAttributes()</span>
<a href="#l20.98"></a><span id="l20.98"> </span>
<a href="#l20.99"></a><span id="l20.99">     // set the event handler</span>
<a href="#l20.100"></a><span id="l20.100">     doSetAttribute( GetTreeItemAttributeStr(item), GetTreeItemValueStr(item) );</span>
<a href="#l20.101"></a><span id="l20.101">   }</span>
<a href="#l20.102"></a><span id="l20.102"> }</span>
<a href="#l20.103"></a><span id="l20.103"> </span>
<a href="#l20.104"></a><span id="l20.104"> function RemoveJSEAttribute()</span>
<a href="#l20.105"></a><span id="l20.105"> {</span>
<a href="#l20.106"></a><span id="l20.106" class="difflineminus">-  // This differs from HTML and CSS panels: </span>
<a href="#l20.107"></a><span id="l20.107" class="difflineplus">+  // This differs from HTML and CSS panels:</span>
<a href="#l20.108"></a><span id="l20.108">   // We reselect after removing, because there is not</span>
<a href="#l20.109"></a><span id="l20.109">   //  editable attribute name input, so we can't clear that</span>
<a href="#l20.110"></a><span id="l20.110">   //  like we do in other panels</span>
<a href="#l20.111"></a><span id="l20.111">   var newIndex = gDialog.AddJSEAttributeTree.selectedIndex;</span>
<a href="#l20.112"></a><span id="l20.112"> </span>
<a href="#l20.113"></a><span id="l20.113">   // We only allow 1 selected item</span>
<a href="#l20.114"></a><span id="l20.114">   if (gDialog.AddJSEAttributeTree.view.selection.count)</span>
<a href="#l20.115"></a><span id="l20.115">   {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdAdvancedEdit.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdAdvancedEdit.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -65,17 +65,17 @@ function Startup()</span>
<a href="#l21.4"></a><span id="l21.4">   gDialog.AddJSEAttributeValueInput     = document.getElementById(&quot;AddJSEAttributeValueInput&quot;);</span>
<a href="#l21.5"></a><span id="l21.5">   gDialog.AddJSEAttributeTree           = document.getElementById(&quot;JSEATree&quot;);</span>
<a href="#l21.6"></a><span id="l21.6">   gDialog.okButton                      = document.documentElement.getButton(&quot;accept&quot;);</span>
<a href="#l21.7"></a><span id="l21.7"> </span>
<a href="#l21.8"></a><span id="l21.8">   // build the attribute trees</span>
<a href="#l21.9"></a><span id="l21.9">   BuildHTMLAttributeTable();</span>
<a href="#l21.10"></a><span id="l21.10">   BuildCSSAttributeTable();</span>
<a href="#l21.11"></a><span id="l21.11">   BuildJSEAttributeTable();</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-  </span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+</span>
<a href="#l21.14"></a><span id="l21.14">   // Build attribute name arrays for menulists</span>
<a href="#l21.15"></a><span id="l21.15">   BuildJSEAttributeNameList();</span>
<a href="#l21.16"></a><span id="l21.16">   BuildHTMLAttributeNameList();</span>
<a href="#l21.17"></a><span id="l21.17">   // No menulists for CSS panel (yet)</span>
<a href="#l21.18"></a><span id="l21.18"> </span>
<a href="#l21.19"></a><span id="l21.19">   // Set focus to Name editable menulist in HTML panel</span>
<a href="#l21.20"></a><span id="l21.20">   SetTextboxFocus(gDialog.AddHTMLAttributeNameInput);</span>
<a href="#l21.21"></a><span id="l21.21"> </span>
<a href="#l21.22"></a><span id="l21.22" class="difflineat">@@ -175,17 +175,17 @@ function UpdateExistingAttribute( attNam</span>
<a href="#l21.23"></a><span id="l21.23">   {</span>
<a href="#l21.24"></a><span id="l21.24">     var item = treeChildren.childNodes[i];</span>
<a href="#l21.25"></a><span id="l21.25">     name = GetTreeItemAttributeStr(item);</span>
<a href="#l21.26"></a><span id="l21.26">     if (name.toLowerCase() == attName)</span>
<a href="#l21.27"></a><span id="l21.27">     {</span>
<a href="#l21.28"></a><span id="l21.28">       // Set the text in the &quot;value' column treecell</span>
<a href="#l21.29"></a><span id="l21.29">       SetTreeItemValueStr(item, attValue);</span>
<a href="#l21.30"></a><span id="l21.30"> </span>
<a href="#l21.31"></a><span id="l21.31" class="difflineminus">-      // Select item just changed, </span>
<a href="#l21.32"></a><span id="l21.32" class="difflineplus">+      // Select item just changed,</span>
<a href="#l21.33"></a><span id="l21.33">       //  but don't trigger the tree's onSelect handler</span>
<a href="#l21.34"></a><span id="l21.34">       gDoOnSelectTree = false;</span>
<a href="#l21.35"></a><span id="l21.35">       try {</span>
<a href="#l21.36"></a><span id="l21.36">         selectTreeItem(treeChildren, item);</span>
<a href="#l21.37"></a><span id="l21.37">       } catch (e) {}</span>
<a href="#l21.38"></a><span id="l21.38">       gDoOnSelectTree = true;</span>
<a href="#l21.39"></a><span id="l21.39"> </span>
<a href="#l21.40"></a><span id="l21.40">       return true;</span>
<a href="#l21.41"></a><span id="l21.41" class="difflineat">@@ -232,17 +232,17 @@ function GetAndSelectExistingAttributeVa</span>
<a href="#l21.42"></a><span id="l21.42">   try {</span>
<a href="#l21.43"></a><span id="l21.43">     treeChildren.parentNode.view.selection.clearSelection();</span>
<a href="#l21.44"></a><span id="l21.44">   } catch (e) {}</span>
<a href="#l21.45"></a><span id="l21.45">   gDoOnSelectTree = true;</span>
<a href="#l21.46"></a><span id="l21.46"> </span>
<a href="#l21.47"></a><span id="l21.47">   return &quot;&quot;;</span>
<a href="#l21.48"></a><span id="l21.48"> }</span>
<a href="#l21.49"></a><span id="l21.49"> </span>
<a href="#l21.50"></a><span id="l21.50" class="difflineminus">-/* Tree structure: </span>
<a href="#l21.51"></a><span id="l21.51" class="difflineplus">+/* Tree structure:</span>
<a href="#l21.52"></a><span id="l21.52">   &lt;treeItem&gt;</span>
<a href="#l21.53"></a><span id="l21.53">     &lt;treeRow&gt;</span>
<a href="#l21.54"></a><span id="l21.54">       &lt;treeCell&gt; // Name Cell</span>
<a href="#l21.55"></a><span id="l21.55">       &lt;treeCell  // Value Cell</span>
<a href="#l21.56"></a><span id="l21.56"> */</span>
<a href="#l21.57"></a><span id="l21.57"> function GetTreeItemAttributeStr(treeItem)</span>
<a href="#l21.58"></a><span id="l21.58"> {</span>
<a href="#l21.59"></a><span id="l21.59">   if (treeItem)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdAdvancedEdit.xul</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdAdvancedEdit.xul</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -34,19 +34,19 @@</span>
<a href="#l22.4"></a><span id="l22.4">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/EdAdvancedEdit.js&quot;/&gt;</span>
<a href="#l22.5"></a><span id="l22.5"> </span>
<a href="#l22.6"></a><span id="l22.6">   &lt;broadcaster id=&quot;args&quot; value=&quot;&quot;/&gt;</span>
<a href="#l22.7"></a><span id="l22.7"> </span>
<a href="#l22.8"></a><span id="l22.8">   &lt;hbox&gt;</span>
<a href="#l22.9"></a><span id="l22.9">     &lt;label value=&quot;&amp;currentattributesfor.label;&quot;/&gt;</span>
<a href="#l22.10"></a><span id="l22.10">     &lt;label class=&quot;header&quot; id=&quot;tagLabel&quot;/&gt;</span>
<a href="#l22.11"></a><span id="l22.11">   &lt;/hbox&gt;</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-  </span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+</span>
<a href="#l22.14"></a><span id="l22.14">   &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l22.15"></a><span id="l22.15" class="difflineminus">-  </span>
<a href="#l22.16"></a><span id="l22.16" class="difflineplus">+</span>
<a href="#l22.17"></a><span id="l22.17">   &lt;tabbox flex=&quot;1&quot;&gt;</span>
<a href="#l22.18"></a><span id="l22.18">     &lt;tabs&gt;</span>
<a href="#l22.19"></a><span id="l22.19">       &lt;tab label=&quot;&amp;tabHTML.label;&quot;/&gt;</span>
<a href="#l22.20"></a><span id="l22.20">       &lt;tab label=&quot;&amp;tabCSS.label;&quot;/&gt;</span>
<a href="#l22.21"></a><span id="l22.21">       &lt;tab label=&quot;&amp;tabJSE.label;&quot; id=&quot;tabJSE&quot;/&gt;</span>
<a href="#l22.22"></a><span id="l22.22">     &lt;/tabs&gt;</span>
<a href="#l22.23"></a><span id="l22.23">     &lt;tabpanels flex=&quot;1&quot;&gt;</span>
<a href="#l22.24"></a><span id="l22.24">       &lt;!-- ============================================================== --&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdButtonProps.xul</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdButtonProps.xul</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l23.4"></a><span id="l23.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l23.5"></a><span id="l23.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.6"></a><span id="l23.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.7"></a><span id="l23.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l23.8"></a><span id="l23.8"> </span>
<a href="#l23.9"></a><span id="l23.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l23.10"></a><span id="l23.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l23.11"></a><span id="l23.11"> </span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l23.14"></a><span id="l23.14"> </span>
<a href="#l23.15"></a><span id="l23.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorButtonProperties.dtd&quot;&gt;</span>
<a href="#l23.16"></a><span id="l23.16"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l23.17"></a><span id="l23.17">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l23.18"></a><span id="l23.18">         onload=&quot;Startup();&quot;</span>
<a href="#l23.19"></a><span id="l23.19">         buttons=&quot;accept,cancel&quot;</span>
<a href="#l23.20"></a><span id="l23.20">         ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l23.21"></a><span id="l23.21">         ondialogcancel=&quot;return onCancel();&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdColorPicker.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdColorPicker.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -14,17 +14,17 @@ var TextType = false;</span>
<a href="#l24.4"></a><span id="l24.4"> var HighlightType = false;</span>
<a href="#l24.5"></a><span id="l24.5"> var TableOrCell = false;</span>
<a href="#l24.6"></a><span id="l24.6"> var LastPickedIsDefault = true;</span>
<a href="#l24.7"></a><span id="l24.7"> var NoDefault = false;</span>
<a href="#l24.8"></a><span id="l24.8"> var gColorObj;</span>
<a href="#l24.9"></a><span id="l24.9"> </span>
<a href="#l24.10"></a><span id="l24.10"> // dialog initialization code</span>
<a href="#l24.11"></a><span id="l24.11"> function Startup()</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-{ </span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+{</span>
<a href="#l24.14"></a><span id="l24.14">   if (!window.arguments[1])</span>
<a href="#l24.15"></a><span id="l24.15">   {</span>
<a href="#l24.16"></a><span id="l24.16">     dump(&quot;EdColorPicker: Missing color object param\n&quot;);</span>
<a href="#l24.17"></a><span id="l24.17">     return;</span>
<a href="#l24.18"></a><span id="l24.18">   }</span>
<a href="#l24.19"></a><span id="l24.19"> </span>
<a href="#l24.20"></a><span id="l24.20">   // window.arguments[1] is object to get initial values and return color data</span>
<a href="#l24.21"></a><span id="l24.21">   gColorObj = window.arguments[1];</span>
<a href="#l24.22"></a><span id="l24.22" class="difflineat">@@ -35,23 +35,23 @@ function Startup()</span>
<a href="#l24.23"></a><span id="l24.23">   gDialog.LastPickedButton = document.getElementById(&quot;LastPickedButton&quot;);</span>
<a href="#l24.24"></a><span id="l24.24">   gDialog.LastPickedColor  = document.getElementById(&quot;LastPickedColor&quot;);</span>
<a href="#l24.25"></a><span id="l24.25">   gDialog.CellOrTableGroup = document.getElementById(&quot;CellOrTableGroup&quot;);</span>
<a href="#l24.26"></a><span id="l24.26">   gDialog.TableRadio       = document.getElementById(&quot;TableRadio&quot;);</span>
<a href="#l24.27"></a><span id="l24.27">   gDialog.CellRadio        = document.getElementById(&quot;CellRadio&quot;);</span>
<a href="#l24.28"></a><span id="l24.28">   gDialog.ColorSwatch      = document.getElementById(&quot;ColorPickerSwatch&quot;);</span>
<a href="#l24.29"></a><span id="l24.29">   gDialog.Ok               = document.documentElement.getButton(&quot;accept&quot;);</span>
<a href="#l24.30"></a><span id="l24.30"> </span>
<a href="#l24.31"></a><span id="l24.31" class="difflineminus">-  // The type of color we are setting: </span>
<a href="#l24.32"></a><span id="l24.32" class="difflineminus">-  //  text: Text, Link, ActiveLink, VisitedLink, </span>
<a href="#l24.33"></a><span id="l24.33" class="difflineplus">+  // The type of color we are setting:</span>
<a href="#l24.34"></a><span id="l24.34" class="difflineplus">+  //  text: Text, Link, ActiveLink, VisitedLink,</span>
<a href="#l24.35"></a><span id="l24.35">   //  or background: Page, Table, or Cell</span>
<a href="#l24.36"></a><span id="l24.36">   if (gColorObj.Type)</span>
<a href="#l24.37"></a><span id="l24.37">   {</span>
<a href="#l24.38"></a><span id="l24.38">     ColorType = gColorObj.Type;</span>
<a href="#l24.39"></a><span id="l24.39" class="difflineminus">-    // Get string for dialog title from passed-in type </span>
<a href="#l24.40"></a><span id="l24.40" class="difflineplus">+    // Get string for dialog title from passed-in type</span>
<a href="#l24.41"></a><span id="l24.41">     //   (note constraint on editor.properties string name)</span>
<a href="#l24.42"></a><span id="l24.42">     let IsCSSPrefChecked = Services.prefs.getBoolPref(&quot;editor.use_css&quot;);</span>
<a href="#l24.43"></a><span id="l24.43"> </span>
<a href="#l24.44"></a><span id="l24.44">     if (GetCurrentEditor())</span>
<a href="#l24.45"></a><span id="l24.45">     {</span>
<a href="#l24.46"></a><span id="l24.46">       if (ColorType == &quot;Page&quot; &amp;&amp; IsCSSPrefChecked &amp;&amp; IsHTMLEditor())</span>
<a href="#l24.47"></a><span id="l24.47">         document.title = GetString(&quot;BlockColor&quot;);</span>
<a href="#l24.48"></a><span id="l24.48">       else</span>
<a href="#l24.49"></a><span id="l24.49" class="difflineat">@@ -237,26 +237,26 @@ function SetDefaultToOk()</span>
<a href="#l24.50"></a><span id="l24.50"> }</span>
<a href="#l24.51"></a><span id="l24.51"> </span>
<a href="#l24.52"></a><span id="l24.52"> function ValidateData()</span>
<a href="#l24.53"></a><span id="l24.53"> {</span>
<a href="#l24.54"></a><span id="l24.54">   if (LastPickedIsDefault)</span>
<a href="#l24.55"></a><span id="l24.55">     gColor = LastPickedColor;</span>
<a href="#l24.56"></a><span id="l24.56">   else</span>
<a href="#l24.57"></a><span id="l24.57">     gColor = gDialog.ColorInput.value;</span>
<a href="#l24.58"></a><span id="l24.58" class="difflineminus">-  </span>
<a href="#l24.59"></a><span id="l24.59" class="difflineplus">+</span>
<a href="#l24.60"></a><span id="l24.60">   gColor = TrimString(gColor).toLowerCase();</span>
<a href="#l24.61"></a><span id="l24.61"> </span>
<a href="#l24.62"></a><span id="l24.62">   // TODO: Validate the color string!</span>
<a href="#l24.63"></a><span id="l24.63"> </span>
<a href="#l24.64"></a><span id="l24.64">   if (NoDefault &amp;&amp; !gColor)</span>
<a href="#l24.65"></a><span id="l24.65">   {</span>
<a href="#l24.66"></a><span id="l24.66">     ShowInputErrorMessage(GetString(&quot;NoColorError&quot;));</span>
<a href="#l24.67"></a><span id="l24.67">     SetTextboxFocus(gDialog.ColorInput);</span>
<a href="#l24.68"></a><span id="l24.68" class="difflineminus">-    return false;   </span>
<a href="#l24.69"></a><span id="l24.69" class="difflineplus">+    return false;</span>
<a href="#l24.70"></a><span id="l24.70">   }</span>
<a href="#l24.71"></a><span id="l24.71">   return true;</span>
<a href="#l24.72"></a><span id="l24.72"> }</span>
<a href="#l24.73"></a><span id="l24.73"> </span>
<a href="#l24.74"></a><span id="l24.74"> function onAccept()</span>
<a href="#l24.75"></a><span id="l24.75"> {</span>
<a href="#l24.76"></a><span id="l24.76">   if (!ValidateData())</span>
<a href="#l24.77"></a><span id="l24.77">     return false;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdColorPicker.xul</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdColorPicker.xul</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l25.4"></a><span id="l25.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l25.5"></a><span id="l25.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l25.6"></a><span id="l25.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l25.7"></a><span id="l25.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l25.8"></a><span id="l25.8"> </span>
<a href="#l25.9"></a><span id="l25.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l25.10"></a><span id="l25.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l25.11"></a><span id="l25.11"> </span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l25.14"></a><span id="l25.14"> </span>
<a href="#l25.15"></a><span id="l25.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EdColorPicker.dtd&quot;&gt;</span>
<a href="#l25.16"></a><span id="l25.16"> </span>
<a href="#l25.17"></a><span id="l25.17"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l25.18"></a><span id="l25.18">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l25.19"></a><span id="l25.19">     onload=&quot;Startup()&quot;</span>
<a href="#l25.20"></a><span id="l25.20">     ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l25.21"></a><span id="l25.21">     ondialogcancel=&quot;return onCancelColor();&quot;&gt;</span>
<a href="#l25.22"></a><span id="l25.22" class="difflineat">@@ -25,17 +25,17 @@</span>
<a href="#l25.23"></a><span id="l25.23"> </span>
<a href="#l25.24"></a><span id="l25.24">   &lt;hbox id=&quot;TableOrCellGroup&quot; align=&quot;center&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l25.25"></a><span id="l25.25">     &lt;label control=&quot;CellOrTableGroup&quot; value=&quot;&amp;background.label;&quot; accesskey=&quot;&amp;background.accessKey;&quot;/&gt;</span>
<a href="#l25.26"></a><span id="l25.26">     &lt;radiogroup id=&quot;CellOrTableGroup&quot; orient=&quot;horizontal&quot;&gt;</span>
<a href="#l25.27"></a><span id="l25.27">       &lt;radio id=&quot;TableRadio&quot; label=&quot;&amp;table.label;&quot; accesskey=&quot;&amp;table.accessKey;&quot;/&gt;</span>
<a href="#l25.28"></a><span id="l25.28">       &lt;radio id=&quot;CellRadio&quot;  label=&quot;&amp;cell.label;&quot;  accesskey=&quot;&amp;cell.accessKey;&quot;/&gt;</span>
<a href="#l25.29"></a><span id="l25.29">   &lt;/radiogroup&gt;</span>
<a href="#l25.30"></a><span id="l25.30">   &lt;/hbox&gt;</span>
<a href="#l25.31"></a><span id="l25.31" class="difflineminus">-  &lt;colorpicker id=&quot;ColorPicker&quot; palettename=&quot;standard&quot; </span>
<a href="#l25.32"></a><span id="l25.32" class="difflineplus">+  &lt;colorpicker id=&quot;ColorPicker&quot; palettename=&quot;standard&quot;</span>
<a href="#l25.33"></a><span id="l25.33">     persist=&quot;palettename&quot;</span>
<a href="#l25.34"></a><span id="l25.34">     onclick=&quot;SetDefaultToOk();&quot;</span>
<a href="#l25.35"></a><span id="l25.35">     ondblclick=&quot;if (onAccept()) window.close();&quot;</span>
<a href="#l25.36"></a><span id="l25.36">     onkeypress=&quot;SelectColorByKeypress(event);&quot;</span>
<a href="#l25.37"></a><span id="l25.37">     onselect=&quot;SelectColor();&quot;/&gt;</span>
<a href="#l25.38"></a><span id="l25.38"> &lt;!-- Web palette is not implemented???</span>
<a href="#l25.39"></a><span id="l25.39">   &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l25.40"></a><span id="l25.40">     &lt;label value=&quot;&amp;palette.label;&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdColorProps.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdColorProps.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -119,17 +119,17 @@ function InitDialog()</span>
<a href="#l26.4"></a><span id="l26.4">   customTextColor        = GetHTMLOrCSSStyleValue(globalElement, textStr, cssColorStr);</span>
<a href="#l26.5"></a><span id="l26.5">   customTextColor        = ConvertRGBColorIntoHEXColor(customTextColor);</span>
<a href="#l26.6"></a><span id="l26.6">   customLinkColor        = globalElement.getAttribute(linkStr);</span>
<a href="#l26.7"></a><span id="l26.7">   customActiveColor      = globalElement.getAttribute(alinkStr);</span>
<a href="#l26.8"></a><span id="l26.8">   customVisitedColor     = globalElement.getAttribute(vlinkStr);</span>
<a href="#l26.9"></a><span id="l26.9">   customBackgroundColor  = GetHTMLOrCSSStyleValue(globalElement, bgcolorStr, cssBackgroundColorStr);</span>
<a href="#l26.10"></a><span id="l26.10">   customBackgroundColor  = ConvertRGBColorIntoHEXColor(customBackgroundColor);</span>
<a href="#l26.11"></a><span id="l26.11"> </span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-  var haveCustomColor = </span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+  var haveCustomColor =</span>
<a href="#l26.14"></a><span id="l26.14">         customTextColor       ||</span>
<a href="#l26.15"></a><span id="l26.15">         customLinkColor       ||</span>
<a href="#l26.16"></a><span id="l26.16">         customVisitedColor    ||</span>
<a href="#l26.17"></a><span id="l26.17">         customActiveColor     ||</span>
<a href="#l26.18"></a><span id="l26.18">         customBackgroundColor;</span>
<a href="#l26.19"></a><span id="l26.19"> </span>
<a href="#l26.20"></a><span id="l26.20">   // Set default color explicitly for any that are missing</span>
<a href="#l26.21"></a><span id="l26.21">   // PROBLEM: We are using &quot;windowtext&quot; and &quot;window&quot; for the Windows OS</span>
<a href="#l26.22"></a><span id="l26.22" class="difflineat">@@ -143,17 +143,17 @@ function InitDialog()</span>
<a href="#l26.23"></a><span id="l26.23">   if (!customBackgroundColor) customBackgroundColor = defaultBackgroundColor;</span>
<a href="#l26.24"></a><span id="l26.24"> </span>
<a href="#l26.25"></a><span id="l26.25">   if (haveCustomColor)</span>
<a href="#l26.26"></a><span id="l26.26">   {</span>
<a href="#l26.27"></a><span id="l26.27">     // If any colors are set, then check the &quot;Custom&quot; radio button</span>
<a href="#l26.28"></a><span id="l26.28">     gDialog.PageColorGroup.selectedItem = gDialog.CustomColorsRadio;</span>
<a href="#l26.29"></a><span id="l26.29">     UseCustomColors();</span>
<a href="#l26.30"></a><span id="l26.30">   }</span>
<a href="#l26.31"></a><span id="l26.31" class="difflineminus">-  else </span>
<a href="#l26.32"></a><span id="l26.32" class="difflineplus">+  else</span>
<a href="#l26.33"></a><span id="l26.33">   {</span>
<a href="#l26.34"></a><span id="l26.34">     gDialog.PageColorGroup.selectedItem = gDialog.DefaultColorsRadio;</span>
<a href="#l26.35"></a><span id="l26.35">     UseDefaultColors();</span>
<a href="#l26.36"></a><span id="l26.36">   }</span>
<a href="#l26.37"></a><span id="l26.37"> }</span>
<a href="#l26.38"></a><span id="l26.38"> </span>
<a href="#l26.39"></a><span id="l26.39"> function GetColorAndUpdate(ColorWellID)</span>
<a href="#l26.40"></a><span id="l26.40"> {</span>
<a href="#l26.41"></a><span id="l26.41" class="difflineat">@@ -211,17 +211,17 @@ function GetColorAndUpdate(ColorWellID)</span>
<a href="#l26.42"></a><span id="l26.42">     case &quot;visitedCW&quot;:</span>
<a href="#l26.43"></a><span id="l26.43">       color = customVisitedColor = colorObj.TextColor;</span>
<a href="#l26.44"></a><span id="l26.44">       break;</span>
<a href="#l26.45"></a><span id="l26.45">     case &quot;backgroundCW&quot;:</span>
<a href="#l26.46"></a><span id="l26.46">       color = customBackgroundColor = colorObj.BackgroundColor;</span>
<a href="#l26.47"></a><span id="l26.47">       break;</span>
<a href="#l26.48"></a><span id="l26.48">   }</span>
<a href="#l26.49"></a><span id="l26.49"> </span>
<a href="#l26.50"></a><span id="l26.50" class="difflineminus">-  setColorWell(ColorWellID, color); </span>
<a href="#l26.51"></a><span id="l26.51" class="difflineplus">+  setColorWell(ColorWellID, color);</span>
<a href="#l26.52"></a><span id="l26.52">   SetColorPreview(ColorWellID, color);</span>
<a href="#l26.53"></a><span id="l26.53"> }</span>
<a href="#l26.54"></a><span id="l26.54"> </span>
<a href="#l26.55"></a><span id="l26.55"> function SetColorPreview(ColorWellID, color)</span>
<a href="#l26.56"></a><span id="l26.56"> {</span>
<a href="#l26.57"></a><span id="l26.57">   switch( ColorWellID )</span>
<a href="#l26.58"></a><span id="l26.58">   {</span>
<a href="#l26.59"></a><span id="l26.59">     case &quot;textCW&quot;:</span>
<a href="#l26.60"></a><span id="l26.60" class="difflineat">@@ -397,19 +397,19 @@ function ValidateData()</span>
<a href="#l26.61"></a><span id="l26.61"> </span>
<a href="#l26.62"></a><span id="l26.62">     if (ValidateAndPreviewImage(true))</span>
<a href="#l26.63"></a><span id="l26.63">     {</span>
<a href="#l26.64"></a><span id="l26.64">       // A valid image may be null for no image</span>
<a href="#l26.65"></a><span id="l26.65">       if (gBackgroundImage)</span>
<a href="#l26.66"></a><span id="l26.66">         globalElement.setAttribute(backgroundStr, gBackgroundImage);</span>
<a href="#l26.67"></a><span id="l26.67">       else</span>
<a href="#l26.68"></a><span id="l26.68">         editor.removeAttributeOrEquivalent(globalElement, backgroundStr, true);</span>
<a href="#l26.69"></a><span id="l26.69" class="difflineminus">-  </span>
<a href="#l26.70"></a><span id="l26.70" class="difflineplus">+</span>
<a href="#l26.71"></a><span id="l26.71">       return true;</span>
<a href="#l26.72"></a><span id="l26.72" class="difflineminus">-    }  </span>
<a href="#l26.73"></a><span id="l26.73" class="difflineplus">+    }</span>
<a href="#l26.74"></a><span id="l26.74">   } catch (e) {}</span>
<a href="#l26.75"></a><span id="l26.75">   return false;</span>
<a href="#l26.76"></a><span id="l26.76"> }</span>
<a href="#l26.77"></a><span id="l26.77"> </span>
<a href="#l26.78"></a><span id="l26.78"> function onAccept()</span>
<a href="#l26.79"></a><span id="l26.79"> {</span>
<a href="#l26.80"></a><span id="l26.80">   if (ValidateData())</span>
<a href="#l26.81"></a><span id="l26.81">   {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdColorProps.xul</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdColorProps.xul</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l27.4"></a><span id="l27.4"> </span>
<a href="#l27.5"></a><span id="l27.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l27.6"></a><span id="l27.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l27.7"></a><span id="l27.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l27.8"></a><span id="l27.8"> </span>
<a href="#l27.9"></a><span id="l27.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l27.10"></a><span id="l27.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l27.11"></a><span id="l27.11"> </span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l27.13"></a><span id="l27.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l27.14"></a><span id="l27.14"> </span>
<a href="#l27.15"></a><span id="l27.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorColorProperties.dtd&quot;&gt;</span>
<a href="#l27.16"></a><span id="l27.16"> </span>
<a href="#l27.17"></a><span id="l27.17"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l27.18"></a><span id="l27.18">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l27.19"></a><span id="l27.19">     onload=&quot;Startup()&quot;</span>
<a href="#l27.20"></a><span id="l27.20">     ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l27.21"></a><span id="l27.21">     ondialogcancel=&quot;return onCancel();&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdConvertToTable.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdConvertToTable.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -97,17 +97,17 @@ function onAccept()</span>
<a href="#l28.4"></a><span id="l28.4"> </span>
<a href="#l28.5"></a><span id="l28.5">   // Replace nbsp with spaces:</span>
<a href="#l28.6"></a><span id="l28.6">   str = str.replace(/\u00a0/g, &quot; &quot;);</span>
<a href="#l28.7"></a><span id="l28.7"> </span>
<a href="#l28.8"></a><span id="l28.8">   // Strip out &lt;/p&gt; completely</span>
<a href="#l28.9"></a><span id="l28.9">   str = str.replace(/\s*&lt;\/p&gt;\s*/g, &quot;&quot;);</span>
<a href="#l28.10"></a><span id="l28.10"> </span>
<a href="#l28.11"></a><span id="l28.11">   // Trim whitespace adjacent to &lt;p&gt; and &lt;br&gt; tags</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-  //  and replace &lt;p&gt; with &lt;br&gt; </span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+  //  and replace &lt;p&gt; with &lt;br&gt;</span>
<a href="#l28.14"></a><span id="l28.14">   //  (which will be replaced with &lt;/tr&gt; below)</span>
<a href="#l28.15"></a><span id="l28.15">   str = str.replace(/\s*&lt;p&gt;\s*|\s*&lt;br&gt;\s*/g, &quot;&lt;br&gt;&quot;);</span>
<a href="#l28.16"></a><span id="l28.16"> </span>
<a href="#l28.17"></a><span id="l28.17">   // Trim leading &lt;br&gt;s</span>
<a href="#l28.18"></a><span id="l28.18">   str = str.replace(/^(&lt;br&gt;)+/, &quot;&quot;);</span>
<a href="#l28.19"></a><span id="l28.19"> </span>
<a href="#l28.20"></a><span id="l28.20">   // Trim trailing &lt;br&gt;s</span>
<a href="#l28.21"></a><span id="l28.21">   str = str.replace(/(&lt;br&gt;)+$/, &quot;&quot;);</span>
<a href="#l28.22"></a><span id="l28.22" class="difflineat">@@ -137,22 +137,22 @@ function onAccept()</span>
<a href="#l28.23"></a><span id="l28.23">     {</span>
<a href="#l28.24"></a><span id="l28.24">       end = str.indexOf(&quot;&gt;&quot;, start+1);</span>
<a href="#l28.25"></a><span id="l28.25">       if (end &gt; start)</span>
<a href="#l28.26"></a><span id="l28.26">       {</span>
<a href="#l28.27"></a><span id="l28.27">         let tagContent = str.slice(start + 1, end).trim();</span>
<a href="#l28.28"></a><span id="l28.28"> </span>
<a href="#l28.29"></a><span id="l28.29">         if (/^ol|^ul|^dl/.test(tagContent))</span>
<a href="#l28.30"></a><span id="l28.30">         {</span>
<a href="#l28.31"></a><span id="l28.31" class="difflineminus">-          //  Replace list tag with &lt;BR&gt; to start new row </span>
<a href="#l28.32"></a><span id="l28.32" class="difflineplus">+          //  Replace list tag with &lt;BR&gt; to start new row</span>
<a href="#l28.33"></a><span id="l28.33">           //   at beginning of second or greater list tag</span>
<a href="#l28.34"></a><span id="l28.34">           str = str.slice(0, start) + listSeparator + str.slice(end+1);</span>
<a href="#l28.35"></a><span id="l28.35">           if (listSeparator == &quot;&quot;)</span>
<a href="#l28.36"></a><span id="l28.36">             listSeparator = &quot;&lt;br&gt;&quot;;</span>
<a href="#l28.37"></a><span id="l28.37" class="difflineminus">-          </span>
<a href="#l28.38"></a><span id="l28.38" class="difflineplus">+</span>
<a href="#l28.39"></a><span id="l28.39">           // Reset for list item separation into cells</span>
<a href="#l28.40"></a><span id="l28.40">           listItemSeparator = &quot;&quot;;</span>
<a href="#l28.41"></a><span id="l28.41">         }</span>
<a href="#l28.42"></a><span id="l28.42">         else if (/^li|^dt|^dd/.test(tagContent))</span>
<a href="#l28.43"></a><span id="l28.43">         {</span>
<a href="#l28.44"></a><span id="l28.44">           // Start a new row if this is first item after the ending the last list</span>
<a href="#l28.45"></a><span id="l28.45">           if (endList)</span>
<a href="#l28.46"></a><span id="l28.46">             listItemSeparator = &quot;&lt;br&gt;&quot;;</span>
<a href="#l28.47"></a><span id="l28.47" class="difflineat">@@ -160,65 +160,65 @@ function onAccept()</span>
<a href="#l28.48"></a><span id="l28.48">           // Start new cell at beginning of second or greater list items</span>
<a href="#l28.49"></a><span id="l28.49">           str = str.slice(0, start) + listItemSeparator + str.slice(end+1);</span>
<a href="#l28.50"></a><span id="l28.50"> </span>
<a href="#l28.51"></a><span id="l28.51">           if (endList || listItemSeparator == &quot;&quot;)</span>
<a href="#l28.52"></a><span id="l28.52">             listItemSeparator = sepCharacter;</span>
<a href="#l28.53"></a><span id="l28.53"> </span>
<a href="#l28.54"></a><span id="l28.54">           endList = false;</span>
<a href="#l28.55"></a><span id="l28.55">         }</span>
<a href="#l28.56"></a><span id="l28.56" class="difflineminus">-        else </span>
<a href="#l28.57"></a><span id="l28.57" class="difflineplus">+        else</span>
<a href="#l28.58"></a><span id="l28.58">         {</span>
<a href="#l28.59"></a><span id="l28.59">           // Find end tags</span>
<a href="#l28.60"></a><span id="l28.60">           endList = /^\/ol|^\/ul|^\/dl/.test(tagContent);</span>
<a href="#l28.61"></a><span id="l28.61">           if (endList || /^\/li|^\/dt|^\/dd/.test(tagContent))</span>
<a href="#l28.62"></a><span id="l28.62">           {</span>
<a href="#l28.63"></a><span id="l28.63">             // Strip out tag</span>
<a href="#l28.64"></a><span id="l28.64">             str = str.slice(0, start) + str.slice(end+1);</span>
<a href="#l28.65"></a><span id="l28.65">           }</span>
<a href="#l28.66"></a><span id="l28.66">           else</span>
<a href="#l28.67"></a><span id="l28.67">           {</span>
<a href="#l28.68"></a><span id="l28.68">             // Not a list-related tag: Store tag contents in an array</span>
<a href="#l28.69"></a><span id="l28.69">             stack.push(tagContent);</span>
<a href="#l28.70"></a><span id="l28.70" class="difflineminus">-           </span>
<a href="#l28.71"></a><span id="l28.71" class="difflineplus">+</span>
<a href="#l28.72"></a><span id="l28.72">             // Keep the &quot;&lt;&quot; and &quot;&gt;&quot; while removing from source string</span>
<a href="#l28.73"></a><span id="l28.73">             start++;</span>
<a href="#l28.74"></a><span id="l28.74">             str = str.slice(0, start) + str.slice(end);</span>
<a href="#l28.75"></a><span id="l28.75">           }</span>
<a href="#l28.76"></a><span id="l28.76">         }</span>
<a href="#l28.77"></a><span id="l28.77">       }</span>
<a href="#l28.78"></a><span id="l28.78">       searchStart = start + 1;</span>
<a href="#l28.79"></a><span id="l28.79">     }</span>
<a href="#l28.80"></a><span id="l28.80">   } while (start &gt;= 0);</span>
<a href="#l28.81"></a><span id="l28.81"> </span>
<a href="#l28.82"></a><span id="l28.82">   // Replace separator characters with table cells</span>
<a href="#l28.83"></a><span id="l28.83">   var replaceString;</span>
<a href="#l28.84"></a><span id="l28.84">   if (gDialog.deleteSepCharacter.checked)</span>
<a href="#l28.85"></a><span id="l28.85">   {</span>
<a href="#l28.86"></a><span id="l28.86">     replaceString = &quot;&quot;;</span>
<a href="#l28.87"></a><span id="l28.87" class="difflineminus">-  }  </span>
<a href="#l28.88"></a><span id="l28.88" class="difflineplus">+  }</span>
<a href="#l28.89"></a><span id="l28.89">   else</span>
<a href="#l28.90"></a><span id="l28.90">   {</span>
<a href="#l28.91"></a><span id="l28.91">     // Don't delete separator character,</span>
<a href="#l28.92"></a><span id="l28.92">     //  so include it at start of string to replace</span>
<a href="#l28.93"></a><span id="l28.93">     replaceString = sepCharacter;</span>
<a href="#l28.94"></a><span id="l28.94">   }</span>
<a href="#l28.95"></a><span id="l28.95"> </span>
<a href="#l28.96"></a><span id="l28.96" class="difflineminus">-  replaceString += &quot;&lt;td&gt;&quot;; </span>
<a href="#l28.97"></a><span id="l28.97" class="difflineplus">+  replaceString += &quot;&lt;td&gt;&quot;;</span>
<a href="#l28.98"></a><span id="l28.98"> </span>
<a href="#l28.99"></a><span id="l28.99">   if (sepCharacter.length &gt; 0)</span>
<a href="#l28.100"></a><span id="l28.100">   {</span>
<a href="#l28.101"></a><span id="l28.101">     var tempStr = sepCharacter;</span>
<a href="#l28.102"></a><span id="l28.102">     var regExpChars = &quot;.!@#$%^&amp;*-+[]{}()\|\\\/&quot;;</span>
<a href="#l28.103"></a><span id="l28.103">     if (regExpChars.includes(sepCharacter))</span>
<a href="#l28.104"></a><span id="l28.104">       tempStr = &quot;\\&quot; + sepCharacter;</span>
<a href="#l28.105"></a><span id="l28.105"> </span>
<a href="#l28.106"></a><span id="l28.106">     if (gIndex == gSpaceIndex)</span>
<a href="#l28.107"></a><span id="l28.107">     {</span>
<a href="#l28.108"></a><span id="l28.108" class="difflineminus">-      // If checkbox is checked, </span>
<a href="#l28.109"></a><span id="l28.109" class="difflineplus">+      // If checkbox is checked,</span>
<a href="#l28.110"></a><span id="l28.110">       //   one or more adjacent spaces are one separator</span>
<a href="#l28.111"></a><span id="l28.111">       if (gDialog.collapseSpaces.checked)</span>
<a href="#l28.112"></a><span id="l28.112">           tempStr = &quot;\\s+&quot;</span>
<a href="#l28.113"></a><span id="l28.113">         else</span>
<a href="#l28.114"></a><span id="l28.114">           tempStr = &quot;\\s&quot;;</span>
<a href="#l28.115"></a><span id="l28.115">     }</span>
<a href="#l28.116"></a><span id="l28.116">     var pattern = new RegExp(tempStr, &quot;g&quot;);</span>
<a href="#l28.117"></a><span id="l28.117">     str = str.replace(pattern, replaceString);</span>
<a href="#l28.118"></a><span id="l28.118" class="difflineat">@@ -243,40 +243,40 @@ function onAccept()</span>
<a href="#l28.119"></a><span id="l28.119">   str = str.replace(/\s*&lt;br&gt;\s*/g, &quot;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;&quot;);</span>
<a href="#l28.120"></a><span id="l28.120"> </span>
<a href="#l28.121"></a><span id="l28.121">   // Add the table tags and the opening and closing tr/td tags</span>
<a href="#l28.122"></a><span id="l28.122">   // Default table attributes should be same as those used in nsHTMLEditor::CreateElementWithDefaults()</span>
<a href="#l28.123"></a><span id="l28.123">   // (Default width=&quot;100%&quot; is used in EdInsertTable.js)</span>
<a href="#l28.124"></a><span id="l28.124">   str = &quot;&lt;table border=\&quot;1\&quot; width=\&quot;100%\&quot; cellpadding=\&quot;2\&quot; cellspacing=\&quot;2\&quot;&gt;\n&lt;tr&gt;&lt;td&gt;&quot; + str + &quot;&lt;/tr&gt;\n&lt;/table&gt;\n&quot;;</span>
<a href="#l28.125"></a><span id="l28.125"> </span>
<a href="#l28.126"></a><span id="l28.126">   editor.beginTransaction();</span>
<a href="#l28.127"></a><span id="l28.127" class="difflineminus">-  </span>
<a href="#l28.128"></a><span id="l28.128" class="difflineplus">+</span>
<a href="#l28.129"></a><span id="l28.129">   // Delete the selection -- makes it easier to find where table will insert</span>
<a href="#l28.130"></a><span id="l28.130">   var nodeBeforeTable = null;</span>
<a href="#l28.131"></a><span id="l28.131">   var nodeAfterTable = null;</span>
<a href="#l28.132"></a><span id="l28.132">   try {</span>
<a href="#l28.133"></a><span id="l28.133">     editor.deleteSelection(editor.eNone, editor.eStrip);</span>
<a href="#l28.134"></a><span id="l28.134"> </span>
<a href="#l28.135"></a><span id="l28.135">     var anchorNodeBeforeInsert = editor.selection.anchorNode;</span>
<a href="#l28.136"></a><span id="l28.136">     var offset = editor.selection.anchorOffset;</span>
<a href="#l28.137"></a><span id="l28.137">     if (anchorNodeBeforeInsert.nodeType == Node.TEXT_NODE)</span>
<a href="#l28.138"></a><span id="l28.138">     {</span>
<a href="#l28.139"></a><span id="l28.139" class="difflineminus">-      // Text was split. Table should be right after the first or before </span>
<a href="#l28.140"></a><span id="l28.140" class="difflineplus">+      // Text was split. Table should be right after the first or before</span>
<a href="#l28.141"></a><span id="l28.141">       nodeBeforeTable = anchorNodeBeforeInsert.previousSibling;</span>
<a href="#l28.142"></a><span id="l28.142">       nodeAfterTable = anchorNodeBeforeInsert;</span>
<a href="#l28.143"></a><span id="l28.143">     }</span>
<a href="#l28.144"></a><span id="l28.144">     else</span>
<a href="#l28.145"></a><span id="l28.145">     {</span>
<a href="#l28.146"></a><span id="l28.146">       // Table should be inserted right after node pointed to by selection</span>
<a href="#l28.147"></a><span id="l28.147">       if (offset &gt; 0)</span>
<a href="#l28.148"></a><span id="l28.148">         nodeBeforeTable = anchorNodeBeforeInsert.childNodes.item(offset - 1);</span>
<a href="#l28.149"></a><span id="l28.149"> </span>
<a href="#l28.150"></a><span id="l28.150">       nodeAfterTable = anchorNodeBeforeInsert.childNodes.item(offset);</span>
<a href="#l28.151"></a><span id="l28.151">     }</span>
<a href="#l28.152"></a><span id="l28.152" class="difflineminus">-  </span>
<a href="#l28.153"></a><span id="l28.153" class="difflineplus">+</span>
<a href="#l28.154"></a><span id="l28.154">     editor.insertHTML(str);</span>
<a href="#l28.155"></a><span id="l28.155">   } catch (e) {}</span>
<a href="#l28.156"></a><span id="l28.156"> </span>
<a href="#l28.157"></a><span id="l28.157">   var table = null;</span>
<a href="#l28.158"></a><span id="l28.158">   if (nodeAfterTable)</span>
<a href="#l28.159"></a><span id="l28.159">   {</span>
<a href="#l28.160"></a><span id="l28.160">     var previous = nodeAfterTable.previousSibling;</span>
<a href="#l28.161"></a><span id="l28.161">     if (previous &amp;&amp; previous.nodeName.toLowerCase() == &quot;table&quot;)</span>
<a href="#l28.162"></a><span id="l28.162" class="difflineat">@@ -303,17 +303,17 @@ function onAccept()</span>
<a href="#l28.163"></a><span id="l28.163">     // Put caret in first cell</span>
<a href="#l28.164"></a><span id="l28.164">     if (firstRow)</span>
<a href="#l28.165"></a><span id="l28.165">     {</span>
<a href="#l28.166"></a><span id="l28.166">       var node2 = firstRow.firstChild;</span>
<a href="#l28.167"></a><span id="l28.167">       do {</span>
<a href="#l28.168"></a><span id="l28.168">         if (node2.nodeName.toLowerCase() == &quot;td&quot; ||</span>
<a href="#l28.169"></a><span id="l28.169">             node2.nodeName.toLowerCase() == &quot;th&quot;)</span>
<a href="#l28.170"></a><span id="l28.170">         {</span>
<a href="#l28.171"></a><span id="l28.171" class="difflineminus">-          try { </span>
<a href="#l28.172"></a><span id="l28.172" class="difflineplus">+          try {</span>
<a href="#l28.173"></a><span id="l28.173">             editor.selection.collapse(node2, 0);</span>
<a href="#l28.174"></a><span id="l28.174">           } catch(e) {}</span>
<a href="#l28.175"></a><span id="l28.175">           break;</span>
<a href="#l28.176"></a><span id="l28.176">         }</span>
<a href="#l28.177"></a><span id="l28.177">         node2 = node.nextSibling;</span>
<a href="#l28.178"></a><span id="l28.178">       } while (node2);</span>
<a href="#l28.179"></a><span id="l28.179">     }</span>
<a href="#l28.180"></a><span id="l28.180">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdConvertToTable.xul</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdConvertToTable.xul</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l29.4"></a><span id="l29.4"> </span>
<a href="#l29.5"></a><span id="l29.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l29.6"></a><span id="l29.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l29.7"></a><span id="l29.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l29.8"></a><span id="l29.8"> </span>
<a href="#l29.9"></a><span id="l29.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l29.10"></a><span id="l29.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l29.11"></a><span id="l29.11"> </span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l29.14"></a><span id="l29.14"> </span>
<a href="#l29.15"></a><span id="l29.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EdConvertToTable.dtd&quot;&gt;</span>
<a href="#l29.16"></a><span id="l29.16"> </span>
<a href="#l29.17"></a><span id="l29.17"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l29.18"></a><span id="l29.18">    xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l29.19"></a><span id="l29.19">    onload = &quot;Startup()&quot;</span>
<a href="#l29.20"></a><span id="l29.20">    ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l29.21"></a><span id="l29.21">    ondialogcancel=&quot;return onCancel();&quot;</span>
<a href="#l29.22"></a><span id="l29.22" class="difflineat">@@ -35,13 +35,13 @@</span>
<a href="#l29.23"></a><span id="l29.23">       &lt;checkbox id=&quot;CollapseSpaces&quot; label=&quot;&amp;collapseSpaces.label;&quot;</span>
<a href="#l29.24"></a><span id="l29.24">                 checked=&quot;true&quot; persist=&quot;checked&quot;</span>
<a href="#l29.25"></a><span id="l29.25">                 tooltiptext=&quot;&amp;collapseSpaces.tooltip;&quot;/&gt;</span>
<a href="#l29.26"></a><span id="l29.26">     &lt;/hbox&gt;</span>
<a href="#l29.27"></a><span id="l29.27">     &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l29.28"></a><span id="l29.28">       &lt;radio id=&quot;other&quot; label=&quot;&amp;otherRadio.label;&quot; oncommand=&quot;SelectCharacter('2');&quot;/&gt;</span>
<a href="#l29.29"></a><span id="l29.29">       &lt;textbox class=&quot;narrow&quot; id=&quot;SepCharacterInput&quot; oninput=&quot;InputSepCharacter()&quot;/&gt;</span>
<a href="#l29.30"></a><span id="l29.30">     &lt;/hbox&gt;</span>
<a href="#l29.31"></a><span id="l29.31" class="difflineminus">-  &lt;/radiogroup&gt; </span>
<a href="#l29.32"></a><span id="l29.32" class="difflineplus">+  &lt;/radiogroup&gt;</span>
<a href="#l29.33"></a><span id="l29.33">   &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l29.34"></a><span id="l29.34">   &lt;checkbox id=&quot;DeleteSepCharacter&quot; label=&quot;&amp;deleteCharCheck.label;&quot; persist=&quot;checked&quot;/&gt;</span>
<a href="#l29.35"></a><span id="l29.35">   &lt;separator class=&quot;groove&quot;/&gt;</span>
<a href="#l29.36"></a><span id="l29.36"> &lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdDialogCommon.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdDialogCommon.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -25,31 +25,31 @@ var SeeMore = false;</span>
<a href="#l30.4"></a><span id="l30.4"> </span>
<a href="#l30.5"></a><span id="l30.5"> // A XUL element with id=&quot;location&quot; for managing</span>
<a href="#l30.6"></a><span id="l30.6"> // dialog location relative to parent window</span>
<a href="#l30.7"></a><span id="l30.7"> var gLocation;</span>
<a href="#l30.8"></a><span id="l30.8"> </span>
<a href="#l30.9"></a><span id="l30.9"> // The element being edited - so AdvancedEdit can have access to it</span>
<a href="#l30.10"></a><span id="l30.10"> var globalElement;</span>
<a href="#l30.11"></a><span id="l30.11"> </span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-/* Validate contents of an input field </span>
<a href="#l30.13"></a><span id="l30.13" class="difflineplus">+/* Validate contents of an input field</span>
<a href="#l30.14"></a><span id="l30.14">  *</span>
<a href="#l30.15"></a><span id="l30.15">  *  inputWidget    The 'textbox' XUL element for text input of the attribute's value</span>
<a href="#l30.16"></a><span id="l30.16">  *  listWidget     The 'menulist' XUL element for choosing &quot;pixel&quot; or &quot;percent&quot;</span>
<a href="#l30.17"></a><span id="l30.17">  *                  May be null when no pixel/percent is used.</span>
<a href="#l30.18"></a><span id="l30.18">  *  minVal         minimum allowed for input widget's value</span>
<a href="#l30.19"></a><span id="l30.19">  *  maxVal         maximum allowed for input widget's value</span>
<a href="#l30.20"></a><span id="l30.20">  *                 (when &quot;listWidget&quot; is used, maxVal is used for &quot;pixel&quot; maximum,</span>
<a href="#l30.21"></a><span id="l30.21">  *                  100% is assumed if &quot;percent&quot; is the user's choice)</span>
<a href="#l30.22"></a><span id="l30.22">  *  element        The DOM element that we set the attribute on. May be null.</span>
<a href="#l30.23"></a><span id="l30.23">  *  attName        Name of the attribute to set.  May be null or ignored if &quot;element&quot; is null</span>
<a href="#l30.24"></a><span id="l30.24">  *  mustHaveValue  If true, error dialog is displayed if &quot;value&quot; is empty string</span>
<a href="#l30.25"></a><span id="l30.25">  *</span>
<a href="#l30.26"></a><span id="l30.26" class="difflineminus">- *  This calls &quot;ValidateNumberRange()&quot;, which puts up an error dialog to inform the user. </span>
<a href="#l30.27"></a><span id="l30.27" class="difflineminus">- *    If error, we also: </span>
<a href="#l30.28"></a><span id="l30.28" class="difflineplus">+ *  This calls &quot;ValidateNumberRange()&quot;, which puts up an error dialog to inform the user.</span>
<a href="#l30.29"></a><span id="l30.29" class="difflineplus">+ *    If error, we also:</span>
<a href="#l30.30"></a><span id="l30.30">  *      Shift focus and select contents of the inputWidget,</span>
<a href="#l30.31"></a><span id="l30.31">  *      Switch to appropriate panel of tabbed dialog if user implements &quot;SwitchToValidate()&quot;,</span>
<a href="#l30.32"></a><span id="l30.32">  *      and/or will expand the dialog to full size if &quot;More / Fewer&quot; feature is implemented</span>
<a href="#l30.33"></a><span id="l30.33">  *</span>
<a href="#l30.34"></a><span id="l30.34">  *  Returns the &quot;value&quot; as a string, or &quot;&quot; if error or input contents are empty</span>
<a href="#l30.35"></a><span id="l30.35">  *  The global &quot;gValidationError&quot; variable is set true if error was found</span>
<a href="#l30.36"></a><span id="l30.36">  */</span>
<a href="#l30.37"></a><span id="l30.37"> function ValidateNumber(inputWidget, listWidget, minVal, maxVal, element, attName, mustHaveValue, mustShowMoreSection)</span>
<a href="#l30.38"></a><span id="l30.38" class="difflineat">@@ -76,17 +76,17 @@ function ValidateNumber(inputWidget, lis</span>
<a href="#l30.39"></a><span id="l30.39">     // This method puts up the error message</span>
<a href="#l30.40"></a><span id="l30.40">     numString = ValidateNumberRange(numString, minVal, maxLimit, mustHaveValue);</span>
<a href="#l30.41"></a><span id="l30.41">     if(!numString)</span>
<a href="#l30.42"></a><span id="l30.42">     {</span>
<a href="#l30.43"></a><span id="l30.43">       // Switch to appropriate panel for error reporting</span>
<a href="#l30.44"></a><span id="l30.44">       SwitchToValidatePanel();</span>
<a href="#l30.45"></a><span id="l30.45"> </span>
<a href="#l30.46"></a><span id="l30.46">       // or expand dialog for users of &quot;More / Fewer&quot; button</span>
<a href="#l30.47"></a><span id="l30.47" class="difflineminus">-      if (&quot;dialog&quot; in window &amp;&amp; dialog &amp;&amp; </span>
<a href="#l30.48"></a><span id="l30.48" class="difflineplus">+      if (&quot;dialog&quot; in window &amp;&amp; dialog &amp;&amp;</span>
<a href="#l30.49"></a><span id="l30.49">            &quot;MoreSection&quot; in gDialog &amp;&amp; gDialog.MoreSection)</span>
<a href="#l30.50"></a><span id="l30.50">       {</span>
<a href="#l30.51"></a><span id="l30.51">         if ( !SeeMore )</span>
<a href="#l30.52"></a><span id="l30.52">           onMoreFewer();</span>
<a href="#l30.53"></a><span id="l30.53">       }</span>
<a href="#l30.54"></a><span id="l30.54"> </span>
<a href="#l30.55"></a><span id="l30.55">       // Error - shift to offending input widget</span>
<a href="#l30.56"></a><span id="l30.56">       SetTextboxFocus(inputWidget);</span>
<a href="#l30.57"></a><span id="l30.57" class="difflineat">@@ -100,17 +100,17 @@ function ValidateNumber(inputWidget, lis</span>
<a href="#l30.58"></a><span id="l30.58">         GetCurrentEditor().setAttributeOrEquivalent(element, attName, numString, true);</span>
<a href="#l30.59"></a><span id="l30.59">     }</span>
<a href="#l30.60"></a><span id="l30.60">   } else if (element) {</span>
<a href="#l30.61"></a><span id="l30.61">     GetCurrentEditor().removeAttributeOrEquivalent(element, attName, true)</span>
<a href="#l30.62"></a><span id="l30.62">   }</span>
<a href="#l30.63"></a><span id="l30.63">   return numString;</span>
<a href="#l30.64"></a><span id="l30.64"> }</span>
<a href="#l30.65"></a><span id="l30.65"> </span>
<a href="#l30.66"></a><span id="l30.66" class="difflineminus">-/* Validate contents of an input field </span>
<a href="#l30.67"></a><span id="l30.67" class="difflineplus">+/* Validate contents of an input field</span>
<a href="#l30.68"></a><span id="l30.68">  *</span>
<a href="#l30.69"></a><span id="l30.69">  *  value          number to validate</span>
<a href="#l30.70"></a><span id="l30.70">  *  minVal         minimum allowed for input widget's value</span>
<a href="#l30.71"></a><span id="l30.71">  *  maxVal         maximum allowed for input widget's value</span>
<a href="#l30.72"></a><span id="l30.72">  *                 (when &quot;listWidget&quot; is used, maxVal is used for &quot;pixel&quot; maximum,</span>
<a href="#l30.73"></a><span id="l30.73">  *                  100% is assumed if &quot;percent&quot; is the user's choice)</span>
<a href="#l30.74"></a><span id="l30.74">  *  mustHaveValue  If true, error dialog is displayed if &quot;value&quot; is empty string</span>
<a href="#l30.75"></a><span id="l30.75">  *</span>
<a href="#l30.76"></a><span id="l30.76" class="difflineat">@@ -417,17 +417,17 @@ function GetLocalFileURL(filterType)</span>
<a href="#l30.77"></a><span id="l30.77">       fp.appendFilters(nsIFilePicker.filterImages);</span>
<a href="#l30.78"></a><span id="l30.78"> </span>
<a href="#l30.79"></a><span id="l30.79">   }</span>
<a href="#l30.80"></a><span id="l30.80">   // Default or last filter is &quot;All Files&quot;</span>
<a href="#l30.81"></a><span id="l30.81">   fp.appendFilters(nsIFilePicker.filterAll);</span>
<a href="#l30.82"></a><span id="l30.82"> </span>
<a href="#l30.83"></a><span id="l30.83">   // set the file picker's current directory to last-opened location saved in prefs</span>
<a href="#l30.84"></a><span id="l30.84">   SetFilePickerDirectory(fp, fileType);</span>
<a href="#l30.85"></a><span id="l30.85" class="difflineminus">-  </span>
<a href="#l30.86"></a><span id="l30.86" class="difflineplus">+</span>
<a href="#l30.87"></a><span id="l30.87">   return new Promise(resolve =&gt; {</span>
<a href="#l30.88"></a><span id="l30.88">     fp.open(rv =&gt; {</span>
<a href="#l30.89"></a><span id="l30.89">       if (rv != nsIFilePicker.returnOK || !fp.file) {</span>
<a href="#l30.90"></a><span id="l30.90">         resolve(null);</span>
<a href="#l30.91"></a><span id="l30.91">         return;</span>
<a href="#l30.92"></a><span id="l30.92">       }</span>
<a href="#l30.93"></a><span id="l30.93">       SaveFilePickerDirectory(fp, fileType);</span>
<a href="#l30.94"></a><span id="l30.94">       resolve(fp.fileURL.spec);</span>
<a href="#l30.95"></a><span id="l30.95" class="difflineat">@@ -614,17 +614,17 @@ function SetRelativeCheckbox(checkbox)</span>
<a href="#l30.96"></a><span id="l30.96">       //  but we don't want to allow a malformed URL)</span>
<a href="#l30.97"></a><span id="l30.97">       if (url[0] == &quot;#&quot;)</span>
<a href="#l30.98"></a><span id="l30.98">       {</span>
<a href="#l30.99"></a><span id="l30.99">         var docFilename = GetFilename(docUrl);</span>
<a href="#l30.100"></a><span id="l30.100">         enable = docFilename.length &gt; 0;</span>
<a href="#l30.101"></a><span id="l30.101">       }</span>
<a href="#l30.102"></a><span id="l30.102">       else</span>
<a href="#l30.103"></a><span id="l30.103">       {</span>
<a href="#l30.104"></a><span id="l30.104" class="difflineminus">-        // Any other url is assumed </span>
<a href="#l30.105"></a><span id="l30.105" class="difflineplus">+        // Any other url is assumed</span>
<a href="#l30.106"></a><span id="l30.106">         //  to be ok to try to make absolute</span>
<a href="#l30.107"></a><span id="l30.107">         enable = true;</span>
<a href="#l30.108"></a><span id="l30.108">       }</span>
<a href="#l30.109"></a><span id="l30.109">     }</span>
<a href="#l30.110"></a><span id="l30.110">   }</span>
<a href="#l30.111"></a><span id="l30.111"> </span>
<a href="#l30.112"></a><span id="l30.112">   SetElementEnabled(checkbox, enable);</span>
<a href="#l30.113"></a><span id="l30.113"> }</span>
<a href="#l30.114"></a><span id="l30.114" class="difflineat">@@ -639,17 +639,17 @@ function MakeInputValueRelativeOrAbsolut</span>
<a href="#l30.115"></a><span id="l30.115">   var docUrl = GetDocumentBaseUrl();</span>
<a href="#l30.116"></a><span id="l30.116">   if (!docUrl)</span>
<a href="#l30.117"></a><span id="l30.117">   {</span>
<a href="#l30.118"></a><span id="l30.118">     // Checkbox should be disabled if not saved,</span>
<a href="#l30.119"></a><span id="l30.119">     //  but keep this error message in case we change that</span>
<a href="#l30.120"></a><span id="l30.120">     Services.prompt.alert(window, &quot;&quot;, GetString(&quot;SaveToUseRelativeUrl&quot;));</span>
<a href="#l30.121"></a><span id="l30.121">     window.focus();</span>
<a href="#l30.122"></a><span id="l30.122">   }</span>
<a href="#l30.123"></a><span id="l30.123" class="difflineminus">-  else </span>
<a href="#l30.124"></a><span id="l30.124" class="difflineplus">+  else</span>
<a href="#l30.125"></a><span id="l30.125">   {</span>
<a href="#l30.126"></a><span id="l30.126">     // Note that &quot;checked&quot; is opposite of its last state,</span>
<a href="#l30.127"></a><span id="l30.127">     //  which determines what we want to do here</span>
<a href="#l30.128"></a><span id="l30.128">     if (checkbox.checked)</span>
<a href="#l30.129"></a><span id="l30.129">       input.value = MakeRelativeUrl(input.value);</span>
<a href="#l30.130"></a><span id="l30.130">     else</span>
<a href="#l30.131"></a><span id="l30.131">       input.value = MakeAbsoluteUrl(input.value);</span>
<a href="#l30.132"></a><span id="l30.132"> </span>
<a href="#l30.133"></a><span id="l30.133" class="difflineat">@@ -906,17 +906,17 @@ function FillLinkMenulist(linkMenulist, </span>
<a href="#l30.134"></a><span id="l30.134">       {</span>
<a href="#l30.135"></a><span id="l30.135">         anchor = '#' + element.name;</span>
<a href="#l30.136"></a><span id="l30.136">         if (!(anchor in anchorMap))</span>
<a href="#l30.137"></a><span id="l30.137">         {</span>
<a href="#l30.138"></a><span id="l30.138">           anchorList.push({anchor: anchor, sortkey: anchor.toLowerCase()});</span>
<a href="#l30.139"></a><span id="l30.139">           anchorMap[anchor] = true;</span>
<a href="#l30.140"></a><span id="l30.140">         }</span>
<a href="#l30.141"></a><span id="l30.141">       }</span>
<a href="#l30.142"></a><span id="l30.142" class="difflineminus">-      </span>
<a href="#l30.143"></a><span id="l30.143" class="difflineplus">+</span>
<a href="#l30.144"></a><span id="l30.144">       // grab IDs</span>
<a href="#l30.145"></a><span id="l30.145">       if (element.id)</span>
<a href="#l30.146"></a><span id="l30.146">       {</span>
<a href="#l30.147"></a><span id="l30.147">         anchor = '#' + element.id;</span>
<a href="#l30.148"></a><span id="l30.148">         if (!(anchor in anchorMap))</span>
<a href="#l30.149"></a><span id="l30.149">         {</span>
<a href="#l30.150"></a><span id="l30.150">           anchorList.push({anchor: anchor, sortkey: anchor.toLowerCase()});</span>
<a href="#l30.151"></a><span id="l30.151">           anchorMap[anchor] = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdDialogTemplate.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdDialogTemplate.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -15,30 +15,30 @@ function Startup()</span>
<a href="#l31.4"></a><span id="l31.4">     window.close();</span>
<a href="#l31.5"></a><span id="l31.5">     return;</span>
<a href="#l31.6"></a><span id="l31.6">   }</span>
<a href="#l31.7"></a><span id="l31.7">   // gDialog is declared in EdDialogCommon.js</span>
<a href="#l31.8"></a><span id="l31.8">   // Set commonly-used widgets like this:</span>
<a href="#l31.9"></a><span id="l31.9">   gDialog.fooButton = document.getElementById(&quot;fooButton&quot;);</span>
<a href="#l31.10"></a><span id="l31.10"> </span>
<a href="#l31.11"></a><span id="l31.11">   initDialog();</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-  </span>
<a href="#l31.13"></a><span id="l31.13" class="difflineplus">+</span>
<a href="#l31.14"></a><span id="l31.14">   // Set window location relative to parent window (based on persisted attributes)</span>
<a href="#l31.15"></a><span id="l31.15">   SetWindowLocation();</span>
<a href="#l31.16"></a><span id="l31.16"> </span>
<a href="#l31.17"></a><span id="l31.17">   // Set focus to first widget in dialog, e.g.:</span>
<a href="#l31.18"></a><span id="l31.18">   SetTextboxFocus(gDialog.fooButton);</span>
<a href="#l31.19"></a><span id="l31.19"> }</span>
<a href="#l31.20"></a><span id="l31.20"> </span>
<a href="#l31.21"></a><span id="l31.21" class="difflineminus">-function InitDialog() </span>
<a href="#l31.22"></a><span id="l31.22" class="difflineplus">+function InitDialog()</span>
<a href="#l31.23"></a><span id="l31.23"> {</span>
<a href="#l31.24"></a><span id="l31.24">   // Initialize all dialog widgets here,</span>
<a href="#l31.25"></a><span id="l31.25">   // e.g., get attributes from an element for property dialog</span>
<a href="#l31.26"></a><span id="l31.26"> }</span>
<a href="#l31.27"></a><span id="l31.27"> </span>
<a href="#l31.28"></a><span id="l31.28"> function onAccept()</span>
<a href="#l31.29"></a><span id="l31.29"> {</span>
<a href="#l31.30"></a><span id="l31.30">   // Validate all user data and set attributes and possibly insert new element here</span>
<a href="#l31.31"></a><span id="l31.31">   // If there's an error the user must correct, return false to keep dialog open.</span>
<a href="#l31.32"></a><span id="l31.32" class="difflineminus">-  </span>
<a href="#l31.33"></a><span id="l31.33" class="difflineplus">+</span>
<a href="#l31.34"></a><span id="l31.34">   SaveWindowLocation();</span>
<a href="#l31.35"></a><span id="l31.35">   return true; // do close the window</span>
<a href="#l31.36"></a><span id="l31.36"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdDialogTemplate.xul</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdDialogTemplate.xul</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l32.4"></a><span id="l32.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l32.5"></a><span id="l32.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l32.6"></a><span id="l32.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l32.7"></a><span id="l32.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l32.8"></a><span id="l32.8"> </span>
<a href="#l32.9"></a><span id="l32.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l32.10"></a><span id="l32.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l32.11"></a><span id="l32.11"> </span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l32.13"></a><span id="l32.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l32.14"></a><span id="l32.14"> </span>
<a href="#l32.15"></a><span id="l32.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/Ed?????????.dtd&quot;&gt;</span>
<a href="#l32.16"></a><span id="l32.16"> &lt;!-- dialog containing a control requiring initial setup --&gt;</span>
<a href="#l32.17"></a><span id="l32.17"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l32.18"></a><span id="l32.18">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l32.19"></a><span id="l32.19">     onload=&quot;Startup()&quot;</span>
<a href="#l32.20"></a><span id="l32.20">     ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l32.21"></a><span id="l32.21">     ondialogcancel=&quot;return onCancel();&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdDictionary.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdDictionary.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -20,20 +20,20 @@ function Startup()</span>
<a href="#l33.4"></a><span id="l33.4">   if (!gSpellChecker)</span>
<a href="#l33.5"></a><span id="l33.5">   {</span>
<a href="#l33.6"></a><span id="l33.6">     dump(&quot;SpellChecker not found!!!\n&quot;);</span>
<a href="#l33.7"></a><span id="l33.7">     window.close();</span>
<a href="#l33.8"></a><span id="l33.8">     return;</span>
<a href="#l33.9"></a><span id="l33.9">   }</span>
<a href="#l33.10"></a><span id="l33.10">   // The word to add word is passed as the 2nd extra parameter in window.openDialog()</span>
<a href="#l33.11"></a><span id="l33.11">   gWordToAdd = window.arguments[1];</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-  </span>
<a href="#l33.13"></a><span id="l33.13" class="difflineplus">+</span>
<a href="#l33.14"></a><span id="l33.14">   gDialog.WordInput = document.getElementById(&quot;WordInput&quot;);</span>
<a href="#l33.15"></a><span id="l33.15">   gDialog.DictionaryList = document.getElementById(&quot;DictionaryList&quot;);</span>
<a href="#l33.16"></a><span id="l33.16" class="difflineminus">-  </span>
<a href="#l33.17"></a><span id="l33.17" class="difflineplus">+</span>
<a href="#l33.18"></a><span id="l33.18">   gDialog.WordInput.value = gWordToAdd;</span>
<a href="#l33.19"></a><span id="l33.19">   FillDictionaryList();</span>
<a href="#l33.20"></a><span id="l33.20"> </span>
<a href="#l33.21"></a><span id="l33.21">   // Select the supplied word if it is already in the list</span>
<a href="#l33.22"></a><span id="l33.22">   SelectWordToAddInList();</span>
<a href="#l33.23"></a><span id="l33.23">   SetTextboxFocus(gDialog.WordInput);</span>
<a href="#l33.24"></a><span id="l33.24"> }</span>
<a href="#l33.25"></a><span id="l33.25"> </span>
<a href="#l33.26"></a><span id="l33.26" class="difflineat">@@ -41,17 +41,17 @@ function ValidateWordToAdd()</span>
<a href="#l33.27"></a><span id="l33.27"> {</span>
<a href="#l33.28"></a><span id="l33.28">   gWordToAdd = TrimString(gDialog.WordInput.value);</span>
<a href="#l33.29"></a><span id="l33.29">   if (gWordToAdd.length &gt; 0)</span>
<a href="#l33.30"></a><span id="l33.30">   {</span>
<a href="#l33.31"></a><span id="l33.31">     return true;</span>
<a href="#l33.32"></a><span id="l33.32">   } else {</span>
<a href="#l33.33"></a><span id="l33.33">     return false;</span>
<a href="#l33.34"></a><span id="l33.34">   }</span>
<a href="#l33.35"></a><span id="l33.35" class="difflineminus">-}    </span>
<a href="#l33.36"></a><span id="l33.36" class="difflineplus">+}</span>
<a href="#l33.37"></a><span id="l33.37"> </span>
<a href="#l33.38"></a><span id="l33.38"> function SelectWordToAddInList()</span>
<a href="#l33.39"></a><span id="l33.39"> {</span>
<a href="#l33.40"></a><span id="l33.40">   for (var i = 0; i &lt; gDialog.DictionaryList.getRowCount(); i++)</span>
<a href="#l33.41"></a><span id="l33.41">   {</span>
<a href="#l33.42"></a><span id="l33.42"> </span>
<a href="#l33.43"></a><span id="l33.43">     var wordInList = gDialog.DictionaryList.getItemAtIndex(i);</span>
<a href="#l33.44"></a><span id="l33.44">     if (wordInList &amp;&amp; gWordToAdd == wordInList.label)</span>
<a href="#l33.45"></a><span id="l33.45" class="difflineat">@@ -93,17 +93,17 @@ function ReplaceWord()</span>
<a href="#l33.46"></a><span id="l33.46">       } catch (e) {}</span>
<a href="#l33.47"></a><span id="l33.47"> </span>
<a href="#l33.48"></a><span id="l33.48">       try {</span>
<a href="#l33.49"></a><span id="l33.49">         // Add to the dictionary list</span>
<a href="#l33.50"></a><span id="l33.50">         gSpellChecker.AddWordToDictionary(gWordToAdd);</span>
<a href="#l33.51"></a><span id="l33.51"> </span>
<a href="#l33.52"></a><span id="l33.52">         // Just change the text on the selected item</span>
<a href="#l33.53"></a><span id="l33.53">         //  instead of rebuilding the list</span>
<a href="#l33.54"></a><span id="l33.54" class="difflineminus">-        selItem.label = gWordToAdd; </span>
<a href="#l33.55"></a><span id="l33.55" class="difflineplus">+        selItem.label = gWordToAdd;</span>
<a href="#l33.56"></a><span id="l33.56">       } catch (e) {</span>
<a href="#l33.57"></a><span id="l33.57">         // Rebuild list and select the word - it was probably already in the list</span>
<a href="#l33.58"></a><span id="l33.58">         dump(&quot;Exception occurred adding word in ReplaceWord\n&quot;);</span>
<a href="#l33.59"></a><span id="l33.59">         FillDictionaryList();</span>
<a href="#l33.60"></a><span id="l33.60">         SelectWordToAddInList();</span>
<a href="#l33.61"></a><span id="l33.61">       }</span>
<a href="#l33.62"></a><span id="l33.62">     }</span>
<a href="#l33.63"></a><span id="l33.63">   }</span>
<a href="#l33.64"></a><span id="l33.64" class="difflineat">@@ -149,32 +149,32 @@ function FillDictionaryList()</span>
<a href="#l33.65"></a><span id="l33.65">   do {</span>
<a href="#l33.66"></a><span id="l33.66">     var word = gSpellChecker.GetPersonalDictionaryWord();</span>
<a href="#l33.67"></a><span id="l33.67">     if (word != &quot;&quot;)</span>
<a href="#l33.68"></a><span id="l33.68">     {</span>
<a href="#l33.69"></a><span id="l33.69">       gDialog.DictionaryList.appendItem(word, &quot;&quot;);</span>
<a href="#l33.70"></a><span id="l33.70">       haveList = true;</span>
<a href="#l33.71"></a><span id="l33.71">     }</span>
<a href="#l33.72"></a><span id="l33.72">   } while (word != &quot;&quot;);</span>
<a href="#l33.73"></a><span id="l33.73" class="difflineminus">-  </span>
<a href="#l33.74"></a><span id="l33.74" class="difflineplus">+</span>
<a href="#l33.75"></a><span id="l33.75">   //XXX: BUG 74467: If list is empty, it doesn't layout to full height correctly</span>
<a href="#l33.76"></a><span id="l33.76">   //     (ignores &quot;rows&quot; attribute) (bug is latered, so we are fixing here for now)</span>
<a href="#l33.77"></a><span id="l33.77">   if (!haveList)</span>
<a href="#l33.78"></a><span id="l33.78">       gDialog.DictionaryList.appendItem(&quot;&quot;, &quot;&quot;);</span>
<a href="#l33.79"></a><span id="l33.79"> </span>
<a href="#l33.80"></a><span id="l33.80">   ResetSelectedItem(selIndex);</span>
<a href="#l33.81"></a><span id="l33.81"> }</span>
<a href="#l33.82"></a><span id="l33.82"> </span>
<a href="#l33.83"></a><span id="l33.83"> function ResetSelectedItem(index)</span>
<a href="#l33.84"></a><span id="l33.84"> {</span>
<a href="#l33.85"></a><span id="l33.85">   var lastIndex = gDialog.DictionaryList.getRowCount() - 1;</span>
<a href="#l33.86"></a><span id="l33.86">   if (index &gt; lastIndex)</span>
<a href="#l33.87"></a><span id="l33.87">     index = lastIndex;</span>
<a href="#l33.88"></a><span id="l33.88"> </span>
<a href="#l33.89"></a><span id="l33.89" class="difflineminus">-  // If we didn't have a selected item, </span>
<a href="#l33.90"></a><span id="l33.90" class="difflineplus">+  // If we didn't have a selected item,</span>
<a href="#l33.91"></a><span id="l33.91">   //  set it to the first item</span>
<a href="#l33.92"></a><span id="l33.92">   if (index == -1 &amp;&amp; lastIndex &gt;= 0)</span>
<a href="#l33.93"></a><span id="l33.93">     index = 0;</span>
<a href="#l33.94"></a><span id="l33.94"> </span>
<a href="#l33.95"></a><span id="l33.95">   gDialog.DictionaryList.selectedIndex = index;</span>
<a href="#l33.96"></a><span id="l33.96"> }</span>
<a href="#l33.97"></a><span id="l33.97"> </span>
<a href="#l33.98"></a><span id="l33.98"> function onClose()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdDictionary.xul</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdDictionary.xul</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -11,17 +11,17 @@</span>
<a href="#l34.4"></a><span id="l34.4">     persist=&quot;screenX screenY&quot;</span>
<a href="#l34.5"></a><span id="l34.5">     onload = &quot;Startup()&quot;</span>
<a href="#l34.6"></a><span id="l34.6">     ondialogcancel=&quot;return onClose();&quot;&gt;</span>
<a href="#l34.7"></a><span id="l34.7"> </span>
<a href="#l34.8"></a><span id="l34.8">   &lt;!-- Methods common to all editor dialogs --&gt;</span>
<a href="#l34.9"></a><span id="l34.9">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/editorUtilities.js&quot;/&gt;</span>
<a href="#l34.10"></a><span id="l34.10">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l34.11"></a><span id="l34.11">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/EdDictionary.js&quot;/&gt;</span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-  </span>
<a href="#l34.13"></a><span id="l34.13" class="difflineplus">+</span>
<a href="#l34.14"></a><span id="l34.14">   &lt;broadcaster id=&quot;args&quot; value=&quot;&quot;/&gt;</span>
<a href="#l34.15"></a><span id="l34.15">   &lt;grid&gt;</span>
<a href="#l34.16"></a><span id="l34.16">     &lt;columns&gt;&lt;column style=&quot;width: 15em&quot; flex=&quot;1&quot;/&gt;&lt;column flex=&quot;1&quot;/&gt;&lt;/columns&gt;</span>
<a href="#l34.17"></a><span id="l34.17">     &lt;rows&gt;</span>
<a href="#l34.18"></a><span id="l34.18">       &lt;row&gt;</span>
<a href="#l34.19"></a><span id="l34.19">         &lt;label value=&quot;&amp;wordEditField.label;&quot;</span>
<a href="#l34.20"></a><span id="l34.20">                control=&quot;WordInput&quot;</span>
<a href="#l34.21"></a><span id="l34.21">                accesskey=&quot;&amp;wordEditField.accessKey;&quot;/&gt;</span>
<a href="#l34.22"></a><span id="l34.22" class="difflineat">@@ -43,16 +43,16 @@</span>
<a href="#l34.23"></a><span id="l34.23">         &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l34.24"></a><span id="l34.24">           &lt;button  id=&quot;ReplaceWord&quot; oncommand=&quot;ReplaceWord()&quot; label=&quot;&amp;ReplaceButton.label;&quot;</span>
<a href="#l34.25"></a><span id="l34.25">                    accesskey=&quot;&amp;ReplaceButton.accessKey;&quot;/&gt;</span>
<a href="#l34.26"></a><span id="l34.26">           &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l34.27"></a><span id="l34.27">           &lt;button  id=&quot;RemoveWord&quot; oncommand=&quot;RemoveWord()&quot; label=&quot;&amp;RemoveButton.label;&quot;</span>
<a href="#l34.28"></a><span id="l34.28">                    accesskey=&quot;&amp;RemoveButton.accessKey;&quot;/&gt;</span>
<a href="#l34.29"></a><span id="l34.29">           &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l34.30"></a><span id="l34.30">           &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l34.31"></a><span id="l34.31" class="difflineminus">-          &lt;button dlgtype=&quot;cancel&quot; class=&quot;exit-dialog&quot; id=&quot;close&quot; label=&quot;&amp;CloseButton.label;&quot; </span>
<a href="#l34.32"></a><span id="l34.32" class="difflineplus">+          &lt;button dlgtype=&quot;cancel&quot; class=&quot;exit-dialog&quot; id=&quot;close&quot; label=&quot;&amp;CloseButton.label;&quot;</span>
<a href="#l34.33"></a><span id="l34.33">                   default=&quot;true&quot; oncommand=&quot;onClose();&quot;</span>
<a href="#l34.34"></a><span id="l34.34">                   accesskey=&quot;&amp;CloseButton.accessKey;&quot;/&gt;</span>
<a href="#l34.35"></a><span id="l34.35">         &lt;/vbox&gt;</span>
<a href="#l34.36"></a><span id="l34.36">       &lt;/row&gt;</span>
<a href="#l34.37"></a><span id="l34.37">     &lt;/rows&gt;</span>
<a href="#l34.38"></a><span id="l34.38">   &lt;/grid&gt;</span>
<a href="#l34.39"></a><span id="l34.39"> &lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdFieldSetProps.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdFieldSetProps.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -138,17 +138,17 @@ function onAccept()</span>
<a href="#l35.4"></a><span id="l35.4">   ValidateData();</span>
<a href="#l35.5"></a><span id="l35.5"> </span>
<a href="#l35.6"></a><span id="l35.6">   var editor = GetCurrentEditor();</span>
<a href="#l35.7"></a><span id="l35.7"> </span>
<a href="#l35.8"></a><span id="l35.8">   editor.beginTransaction();</span>
<a href="#l35.9"></a><span id="l35.9"> </span>
<a href="#l35.10"></a><span id="l35.10">   try {</span>
<a href="#l35.11"></a><span id="l35.11">     editor.cloneAttributes(legendElement, globalElement);</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">- </span>
<a href="#l35.13"></a><span id="l35.13" class="difflineplus">+</span>
<a href="#l35.14"></a><span id="l35.14">     if (insertNew)</span>
<a href="#l35.15"></a><span id="l35.15">     {</span>
<a href="#l35.16"></a><span id="l35.16">       if (gDialog.legendText.value)</span>
<a href="#l35.17"></a><span id="l35.17">       {</span>
<a href="#l35.18"></a><span id="l35.18">         fieldsetElement.appendChild(legendElement);</span>
<a href="#l35.19"></a><span id="l35.19">         legendElement.appendChild(editor.document.createTextNode(gDialog.legendText.value));</span>
<a href="#l35.20"></a><span id="l35.20">       }</span>
<a href="#l35.21"></a><span id="l35.21">       InsertElementAroundSelection(fieldsetElement);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdFieldSetProps.xul</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdFieldSetProps.xul</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l36.4"></a><span id="l36.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l36.5"></a><span id="l36.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l36.6"></a><span id="l36.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l36.7"></a><span id="l36.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l36.8"></a><span id="l36.8"> </span>
<a href="#l36.9"></a><span id="l36.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l36.10"></a><span id="l36.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l36.11"></a><span id="l36.11"> </span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l36.13"></a><span id="l36.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l36.14"></a><span id="l36.14"> </span>
<a href="#l36.15"></a><span id="l36.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorFieldSetProperties.dtd&quot;&gt;</span>
<a href="#l36.16"></a><span id="l36.16"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l36.17"></a><span id="l36.17">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l36.18"></a><span id="l36.18">         onload=&quot;Startup();&quot;</span>
<a href="#l36.19"></a><span id="l36.19">         buttons=&quot;accept,cancel&quot;</span>
<a href="#l36.20"></a><span id="l36.20">         ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l36.21"></a><span id="l36.21">         ondialogcancel=&quot;return onCancel();&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdFormProps.xul</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdFormProps.xul</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l37.4"></a><span id="l37.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l37.5"></a><span id="l37.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l37.6"></a><span id="l37.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l37.7"></a><span id="l37.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l37.8"></a><span id="l37.8"> </span>
<a href="#l37.9"></a><span id="l37.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l37.10"></a><span id="l37.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l37.11"></a><span id="l37.11"> </span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l37.14"></a><span id="l37.14"> </span>
<a href="#l37.15"></a><span id="l37.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorFormProperties.dtd&quot;&gt;</span>
<a href="#l37.16"></a><span id="l37.16"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l37.17"></a><span id="l37.17">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l37.18"></a><span id="l37.18">         onload=&quot;Startup();&quot;</span>
<a href="#l37.19"></a><span id="l37.19">         buttons=&quot;accept,cancel&quot;</span>
<a href="#l37.20"></a><span id="l37.20">         ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l37.21"></a><span id="l37.21">         ondialogcancel=&quot;return onCancel();&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdHLineProps.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdHLineProps.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -147,17 +147,17 @@ function onSaveDefault()</span>
<a href="#l38.4"></a><span id="l38.4"> function ValidateData()</span>
<a href="#l38.5"></a><span id="l38.5"> {</span>
<a href="#l38.6"></a><span id="l38.6">   // Height is always pixels</span>
<a href="#l38.7"></a><span id="l38.7">   height = ValidateNumber(gDialog.heightInput, null, 1, gMaxHRSize,</span>
<a href="#l38.8"></a><span id="l38.8">                           globalElement, &quot;size&quot;, false);</span>
<a href="#l38.9"></a><span id="l38.9">   if (gValidationError)</span>
<a href="#l38.10"></a><span id="l38.10">     return false;</span>
<a href="#l38.11"></a><span id="l38.11"> </span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-  width = ValidateNumber(gDialog.widthInput, gDialog.pixelOrPercentMenulist, 1, gMaxPixels, </span>
<a href="#l38.13"></a><span id="l38.13" class="difflineplus">+  width = ValidateNumber(gDialog.widthInput, gDialog.pixelOrPercentMenulist, 1, gMaxPixels,</span>
<a href="#l38.14"></a><span id="l38.14">                          globalElement, &quot;width&quot;, false);</span>
<a href="#l38.15"></a><span id="l38.15">   if (gValidationError)</span>
<a href="#l38.16"></a><span id="l38.16">     return false;</span>
<a href="#l38.17"></a><span id="l38.17"> </span>
<a href="#l38.18"></a><span id="l38.18">   align = &quot;left&quot;;</span>
<a href="#l38.19"></a><span id="l38.19">   if (gDialog.centerAlign.selected) {</span>
<a href="#l38.20"></a><span id="l38.20">     // Don't write out default attribute</span>
<a href="#l38.21"></a><span id="l38.21">     align = &quot;&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdImageOverlay.xul</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdImageOverlay.xul</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -11,75 +11,75 @@</span>
<a href="#l39.4"></a><span id="l39.4">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/EdImageOverlay.js&quot;/&gt;</span>
<a href="#l39.5"></a><span id="l39.5"> </span>
<a href="#l39.6"></a><span id="l39.6">   &lt;tab id=&quot;imageInputTab&quot; label=&quot;&amp;imageInputTab.label;&quot;/&gt;</span>
<a href="#l39.7"></a><span id="l39.7">   &lt;tab id=&quot;imageLocationTab&quot; label=&quot;&amp;imageLocationTab.label;&quot;/&gt;</span>
<a href="#l39.8"></a><span id="l39.8">   &lt;tab id=&quot;imageDimensionsTab&quot; label=&quot;&amp;imageDimensionsTab.label;&quot;/&gt;</span>
<a href="#l39.9"></a><span id="l39.9">   &lt;tab id=&quot;imageAppearanceTab&quot; label=&quot;&amp;imageAppearanceTab.label;&quot;/&gt;</span>
<a href="#l39.10"></a><span id="l39.10">   &lt;tab id=&quot;imageLinkTab&quot; label=&quot;&amp;imageLinkTab.label;&quot;/&gt;</span>
<a href="#l39.11"></a><span id="l39.11"> </span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-  &lt;vbox id=&quot;imageLocation&quot;&gt; </span>
<a href="#l39.13"></a><span id="l39.13" class="difflineplus">+  &lt;vbox id=&quot;imageLocation&quot;&gt;</span>
<a href="#l39.14"></a><span id="l39.14">     &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l39.15"></a><span id="l39.15">     &lt;label control = &quot;srcInput&quot;</span>
<a href="#l39.16"></a><span id="l39.16">       value = &quot;&amp;locationEditField.label;&quot;</span>
<a href="#l39.17"></a><span id="l39.17">       accesskey=&quot;&amp;locationEditField.accessKey;&quot;</span>
<a href="#l39.18"></a><span id="l39.18">       tooltiptext=&quot;&amp;locationEditField.tooltip;&quot;</span>
<a href="#l39.19"></a><span id="l39.19">       /&gt;</span>
<a href="#l39.20"></a><span id="l39.20">     &lt;tooltip id=&quot;shortenedDataURI&quot;&gt;</span>
<a href="#l39.21"></a><span id="l39.21">       &lt;label value=&quot;&amp;locationEditField.shortenedDataURI;&quot;/&gt;</span>
<a href="#l39.22"></a><span id="l39.22">     &lt;/tooltip&gt;</span>
<a href="#l39.23"></a><span id="l39.23">     &lt;textbox id=&quot;srcInput&quot; oninput=&quot;ChangeImageSrc();&quot; tabindex=&quot;1&quot; class=&quot;uri-element&quot;</span>
<a href="#l39.24"></a><span id="l39.24">              tooltiptext=&quot;&amp;locationEditField.tooltip;&quot;/&gt;</span>
<a href="#l39.25"></a><span id="l39.25">     &lt;hbox id=&quot;MakeRelativeHbox&quot;&gt;</span>
<a href="#l39.26"></a><span id="l39.26" class="difflineminus">-      &lt;checkbox </span>
<a href="#l39.27"></a><span id="l39.27" class="difflineplus">+      &lt;checkbox</span>
<a href="#l39.28"></a><span id="l39.28">         id  = &quot;MakeRelativeCheckbox&quot;</span>
<a href="#l39.29"></a><span id="l39.29">         for = &quot;srcInput&quot;</span>
<a href="#l39.30"></a><span id="l39.30">         tabindex=&quot;2&quot;/&gt;</span>
<a href="#l39.31"></a><span id="l39.31">       &lt;!-- mail compose will insert custom item here defined in mailComposeEditorOverlay.xul --&gt;</span>
<a href="#l39.32"></a><span id="l39.32">       &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l39.33"></a><span id="l39.33">       &lt;!-- from EdDialogOverlay.xul --&gt;</span>
<a href="#l39.34"></a><span id="l39.34">       &lt;button id=&quot;ChooseFile&quot;  tabindex=&quot;3&quot;/&gt;</span>
<a href="#l39.35"></a><span id="l39.35">     &lt;/hbox&gt;</span>
<a href="#l39.36"></a><span id="l39.36">     &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l39.37"></a><span id="l39.37">     &lt;radiogroup id=&quot;altTextRadioGroup&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l39.38"></a><span id="l39.38">       &lt;grid&gt;</span>
<a href="#l39.39"></a><span id="l39.39">         &lt;columns&gt;&lt;column/&gt;&lt;column flex=&quot;1&quot;/&gt;&lt;/columns&gt;</span>
<a href="#l39.40"></a><span id="l39.40">         &lt;rows&gt;</span>
<a href="#l39.41"></a><span id="l39.41">           &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l39.42"></a><span id="l39.42" class="difflineminus">-            &lt;label </span>
<a href="#l39.43"></a><span id="l39.43" class="difflineplus">+            &lt;label</span>
<a href="#l39.44"></a><span id="l39.44">               style   = &quot;margin-left: 26px&quot;</span>
<a href="#l39.45"></a><span id="l39.45">               control = &quot;titleInput&quot;</span>
<a href="#l39.46"></a><span id="l39.46">               accesskey = &quot;&amp;title.accessKey;&quot;</span>
<a href="#l39.47"></a><span id="l39.47">               value   =&quot;&amp;title.label;&quot;</span>
<a href="#l39.48"></a><span id="l39.48">               tooltiptext=&quot;&amp;title.tooltip;&quot;</span>
<a href="#l39.49"></a><span id="l39.49">               for     = &quot;titleInput&quot;/&gt;</span>
<a href="#l39.50"></a><span id="l39.50">             &lt;textbox flex=&quot;1&quot;</span>
<a href="#l39.51"></a><span id="l39.51">               id      = &quot;titleInput&quot;</span>
<a href="#l39.52"></a><span id="l39.52">               class   = &quot;MinWidth20em&quot;</span>
<a href="#l39.53"></a><span id="l39.53">               tooltiptext=&quot;&amp;title.tooltip;&quot;</span>
<a href="#l39.54"></a><span id="l39.54">               tabindex=&quot;4&quot;/&gt;</span>
<a href="#l39.55"></a><span id="l39.55">           &lt;/row&gt;</span>
<a href="#l39.56"></a><span id="l39.56">           &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l39.57"></a><span id="l39.57" class="difflineminus">-            &lt;radio id = &quot;altTextRadio&quot; </span>
<a href="#l39.58"></a><span id="l39.58" class="difflineplus">+            &lt;radio id = &quot;altTextRadio&quot;</span>
<a href="#l39.59"></a><span id="l39.59">               label   = &quot;&amp;altText.label;&quot;</span>
<a href="#l39.60"></a><span id="l39.60">               accesskey = &quot;&amp;altText.accessKey;&quot;</span>
<a href="#l39.61"></a><span id="l39.61">               tooltiptext=&quot;&amp;altTextEditField.tooltip;&quot;</span>
<a href="#l39.62"></a><span id="l39.62">               oncommand = &quot;SetAltTextDisabled(false);&quot;</span>
<a href="#l39.63"></a><span id="l39.63">               tabindex=&quot;5&quot;/&gt;</span>
<a href="#l39.64"></a><span id="l39.64">             &lt;textbox flex=&quot;1&quot;</span>
<a href="#l39.65"></a><span id="l39.65">               id      = &quot;altTextInput&quot;</span>
<a href="#l39.66"></a><span id="l39.66">               class   = &quot;MinWidth20em&quot;</span>
<a href="#l39.67"></a><span id="l39.67">               tooltiptext=&quot;&amp;altTextEditField.tooltip;&quot;</span>
<a href="#l39.68"></a><span id="l39.68">               oninput = &quot;SetAltTextDisabled(false);&quot;</span>
<a href="#l39.69"></a><span id="l39.69">               tabindex=&quot;6&quot;/&gt;</span>
<a href="#l39.70"></a><span id="l39.70">           &lt;/row&gt;</span>
<a href="#l39.71"></a><span id="l39.71">         &lt;/rows&gt;</span>
<a href="#l39.72"></a><span id="l39.72">       &lt;/grid&gt;</span>
<a href="#l39.73"></a><span id="l39.73"> </span>
<a href="#l39.74"></a><span id="l39.74" class="difflineminus">-      &lt;radio id = &quot;noAltTextRadio&quot; </span>
<a href="#l39.75"></a><span id="l39.75" class="difflineplus">+      &lt;radio id = &quot;noAltTextRadio&quot;</span>
<a href="#l39.76"></a><span id="l39.76">         label   = &quot;&amp;noAltText.label;&quot;</span>
<a href="#l39.77"></a><span id="l39.77">         accesskey = &quot;&amp;noAltText.accessKey;&quot;</span>
<a href="#l39.78"></a><span id="l39.78">         oncommand = &quot;SetAltTextDisabled(true);&quot;/&gt;</span>
<a href="#l39.79"></a><span id="l39.79">     &lt;/radiogroup&gt;</span>
<a href="#l39.80"></a><span id="l39.80">   &lt;/vbox&gt;</span>
<a href="#l39.81"></a><span id="l39.81"> </span>
<a href="#l39.82"></a><span id="l39.82">   &lt;groupbox id=&quot;imagePreview&quot; orient=&quot;horizontal&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l39.83"></a><span id="l39.83">     &lt;caption label=&quot;&amp;previewBox.label;&quot;/&gt;</span>
<a href="#l39.84"></a><span id="l39.84" class="difflineat">@@ -105,23 +105,23 @@</span>
<a href="#l39.85"></a><span id="l39.85">     &lt;/vbox&gt;</span>
<a href="#l39.86"></a><span id="l39.86">   &lt;/groupbox&gt;</span>
<a href="#l39.87"></a><span id="l39.87"> </span>
<a href="#l39.88"></a><span id="l39.88">   &lt;vbox id=&quot;imageDimensions&quot; align=&quot;start&quot;&gt;</span>
<a href="#l39.89"></a><span id="l39.89">     &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l39.90"></a><span id="l39.90">     &lt;hbox&gt;</span>
<a href="#l39.91"></a><span id="l39.91">       &lt;radiogroup id=&quot;imgSizeGroup&quot;&gt;</span>
<a href="#l39.92"></a><span id="l39.92">         &lt;radio</span>
<a href="#l39.93"></a><span id="l39.93" class="difflineminus">-          id      = &quot;actualSizeRadio&quot; </span>
<a href="#l39.94"></a><span id="l39.94" class="difflineplus">+          id      = &quot;actualSizeRadio&quot;</span>
<a href="#l39.95"></a><span id="l39.95">           label   = &quot;&amp;actualSizeRadio.label;&quot;</span>
<a href="#l39.96"></a><span id="l39.96">           accesskey = &quot;&amp;actualSizeRadio.accessKey;&quot;</span>
<a href="#l39.97"></a><span id="l39.97">           tooltiptext=&quot;&amp;actualSizeRadio.tooltip;&quot;</span>
<a href="#l39.98"></a><span id="l39.98">           oncommand = &quot;SetActualSize()&quot;/&gt;</span>
<a href="#l39.99"></a><span id="l39.99">         &lt;radio</span>
<a href="#l39.100"></a><span id="l39.100" class="difflineminus">-          id      = &quot;customSizeRadio&quot; </span>
<a href="#l39.101"></a><span id="l39.101" class="difflineplus">+          id      = &quot;customSizeRadio&quot;</span>
<a href="#l39.102"></a><span id="l39.102">           label   = &quot;&amp;customSizeRadio.label;&quot;</span>
<a href="#l39.103"></a><span id="l39.103">           selected = &quot;true&quot;</span>
<a href="#l39.104"></a><span id="l39.104">           accesskey = &quot;&amp;customSizeRadio.accessKey;&quot;</span>
<a href="#l39.105"></a><span id="l39.105">           tooltiptext=&quot;&amp;customSizeRadio.tooltip;&quot;</span>
<a href="#l39.106"></a><span id="l39.106">           oncommand = &quot;doDimensionEnabling();&quot; /&gt;</span>
<a href="#l39.107"></a><span id="l39.107">       &lt;/radiogroup&gt;</span>
<a href="#l39.108"></a><span id="l39.108">       &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l39.109"></a><span id="l39.109">       &lt;vbox&gt;</span>
<a href="#l39.110"></a><span id="l39.110" class="difflineat">@@ -138,90 +138,90 @@</span>
<a href="#l39.111"></a><span id="l39.111">       &lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;column flex=&quot;1&quot;/&gt;&lt;/columns&gt;</span>
<a href="#l39.112"></a><span id="l39.112">       &lt;rows&gt;</span>
<a href="#l39.113"></a><span id="l39.113">         &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l39.114"></a><span id="l39.114">           &lt;label id    = &quot;widthLabel&quot;</span>
<a href="#l39.115"></a><span id="l39.115">             control   = &quot;widthInput&quot;</span>
<a href="#l39.116"></a><span id="l39.116">             accesskey = &quot;&amp;widthEditField.accessKey;&quot;</span>
<a href="#l39.117"></a><span id="l39.117">             value = &quot;&amp;widthEditField.label;&quot; /&gt;</span>
<a href="#l39.118"></a><span id="l39.118">           &lt;textbox</span>
<a href="#l39.119"></a><span id="l39.119" class="difflineminus">-            id       = &quot;widthInput&quot; </span>
<a href="#l39.120"></a><span id="l39.120" class="difflineplus">+            id       = &quot;widthInput&quot;</span>
<a href="#l39.121"></a><span id="l39.121">             class    = &quot;narrow&quot;</span>
<a href="#l39.122"></a><span id="l39.122">             oninput  = &quot;constrainProportions(this.id, 'heightInput')&quot;/&gt;</span>
<a href="#l39.123"></a><span id="l39.123">           &lt;menulist id = &quot;widthUnitsMenulist&quot;</span>
<a href="#l39.124"></a><span id="l39.124">             oncommand = &quot;doDimensionEnabling();&quot; /&gt;</span>
<a href="#l39.125"></a><span id="l39.125">           &lt;!-- contents are appended by JS --&gt;</span>
<a href="#l39.126"></a><span id="l39.126">         &lt;/row&gt;</span>
<a href="#l39.127"></a><span id="l39.127">         &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l39.128"></a><span id="l39.128">           &lt;label id    = &quot;heightLabel&quot;</span>
<a href="#l39.129"></a><span id="l39.129">             control   = &quot;heightInput&quot;</span>
<a href="#l39.130"></a><span id="l39.130">             accesskey = &quot;&amp;heightEditField.accessKey;&quot;</span>
<a href="#l39.131"></a><span id="l39.131">             value = &quot;&amp;heightEditField.label;&quot; /&gt;</span>
<a href="#l39.132"></a><span id="l39.132">           &lt;textbox</span>
<a href="#l39.133"></a><span id="l39.133" class="difflineminus">-            id       = &quot;heightInput&quot; </span>
<a href="#l39.134"></a><span id="l39.134" class="difflineplus">+            id       = &quot;heightInput&quot;</span>
<a href="#l39.135"></a><span id="l39.135">             class    = &quot;narrow&quot;</span>
<a href="#l39.136"></a><span id="l39.136">             oninput  = &quot;constrainProportions(this.id, 'widthInput')&quot;/&gt;</span>
<a href="#l39.137"></a><span id="l39.137">           &lt;menulist id = &quot;heightUnitsMenulist&quot;</span>
<a href="#l39.138"></a><span id="l39.138">             oncommand = &quot;doDimensionEnabling();&quot; /&gt;</span>
<a href="#l39.139"></a><span id="l39.139">           &lt;!-- contents are appended by JS --&gt;</span>
<a href="#l39.140"></a><span id="l39.140">         &lt;/row&gt;</span>
<a href="#l39.141"></a><span id="l39.141" class="difflineminus">-      &lt;/rows&gt;          </span>
<a href="#l39.142"></a><span id="l39.142" class="difflineplus">+      &lt;/rows&gt;</span>
<a href="#l39.143"></a><span id="l39.143">     &lt;/grid&gt;</span>
<a href="#l39.144"></a><span id="l39.144">     &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l39.145"></a><span id="l39.145">   &lt;/vbox&gt;</span>
<a href="#l39.146"></a><span id="l39.146"> </span>
<a href="#l39.147"></a><span id="l39.147">   &lt;hbox id=&quot;imageAppearance&quot;&gt;</span>
<a href="#l39.148"></a><span id="l39.148">     &lt;groupbox&gt;</span>
<a href="#l39.149"></a><span id="l39.149">       &lt;caption id=&quot;spacingLabel&quot; label=&quot;&amp;spacingBox.label;&quot;/&gt;</span>
<a href="#l39.150"></a><span id="l39.150">       &lt;grid&gt;</span>
<a href="#l39.151"></a><span id="l39.151">         &lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l39.152"></a><span id="l39.152">         &lt;rows&gt;</span>
<a href="#l39.153"></a><span id="l39.153">           &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l39.154"></a><span id="l39.154" class="difflineminus">-            &lt;label </span>
<a href="#l39.155"></a><span id="l39.155" class="difflineminus">-              class = &quot;align-right&quot; </span>
<a href="#l39.156"></a><span id="l39.156" class="difflineplus">+            &lt;label</span>
<a href="#l39.157"></a><span id="l39.157" class="difflineplus">+              class = &quot;align-right&quot;</span>
<a href="#l39.158"></a><span id="l39.158">               id    = &quot;leftrightLabel&quot;</span>
<a href="#l39.159"></a><span id="l39.159">               control = &quot;imageleftrightInput&quot;</span>
<a href="#l39.160"></a><span id="l39.160">               accesskey = &quot;&amp;leftRightEditField.accessKey;&quot;</span>
<a href="#l39.161"></a><span id="l39.161">               value = &quot;&amp;leftRightEditField.label;&quot;/&gt;</span>
<a href="#l39.162"></a><span id="l39.162">             &lt;textbox</span>
<a href="#l39.163"></a><span id="l39.163">               class     = &quot;narrow&quot;</span>
<a href="#l39.164"></a><span id="l39.164" class="difflineminus">-              id        = &quot;imageleftrightInput&quot; </span>
<a href="#l39.165"></a><span id="l39.165" class="difflineplus">+              id        = &quot;imageleftrightInput&quot;</span>
<a href="#l39.166"></a><span id="l39.166">               oninput   = &quot;forceInteger(this.id)&quot;/&gt;</span>
<a href="#l39.167"></a><span id="l39.167" class="difflineminus">-            &lt;label </span>
<a href="#l39.168"></a><span id="l39.168" class="difflineplus">+            &lt;label</span>
<a href="#l39.169"></a><span id="l39.169">               id    = &quot;leftrighttypeLabel&quot;</span>
<a href="#l39.170"></a><span id="l39.170">               value = &quot;&amp;pixelsPopup.value;&quot; /&gt;</span>
<a href="#l39.171"></a><span id="l39.171">           &lt;/row&gt;</span>
<a href="#l39.172"></a><span id="l39.172">           &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l39.173"></a><span id="l39.173">           &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l39.174"></a><span id="l39.174" class="difflineminus">-            &lt;label </span>
<a href="#l39.175"></a><span id="l39.175" class="difflineminus">-              class = &quot;align-right&quot; </span>
<a href="#l39.176"></a><span id="l39.176" class="difflineplus">+            &lt;label</span>
<a href="#l39.177"></a><span id="l39.177" class="difflineplus">+              class = &quot;align-right&quot;</span>
<a href="#l39.178"></a><span id="l39.178">               id    = &quot;topbottomLabel&quot;</span>
<a href="#l39.179"></a><span id="l39.179">               control = &quot;imagetopbottomInput&quot;</span>
<a href="#l39.180"></a><span id="l39.180">               accesskey = &quot;&amp;topBottomEditField.accessKey;&quot;</span>
<a href="#l39.181"></a><span id="l39.181">               value = &quot;&amp;topBottomEditField.label;&quot;/&gt;</span>
<a href="#l39.182"></a><span id="l39.182">             &lt;textbox</span>
<a href="#l39.183"></a><span id="l39.183">               class     = &quot;narrow&quot;</span>
<a href="#l39.184"></a><span id="l39.184" class="difflineminus">-              id        = &quot;imagetopbottomInput&quot; </span>
<a href="#l39.185"></a><span id="l39.185" class="difflineplus">+              id        = &quot;imagetopbottomInput&quot;</span>
<a href="#l39.186"></a><span id="l39.186">               oninput   = &quot;forceInteger(this.id)&quot;/&gt;</span>
<a href="#l39.187"></a><span id="l39.187">             &lt;label</span>
<a href="#l39.188"></a><span id="l39.188">               id    = &quot;topbottomtypeLabel&quot;</span>
<a href="#l39.189"></a><span id="l39.189">               value = &quot;&amp;pixelsPopup.value;&quot; /&gt;</span>
<a href="#l39.190"></a><span id="l39.190">           &lt;/row&gt;</span>
<a href="#l39.191"></a><span id="l39.191">           &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l39.192"></a><span id="l39.192">           &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l39.193"></a><span id="l39.193" class="difflineminus">-            &lt;label class = &quot;align-right&quot; </span>
<a href="#l39.194"></a><span id="l39.194" class="difflineplus">+            &lt;label class = &quot;align-right&quot;</span>
<a href="#l39.195"></a><span id="l39.195">               id    = &quot;borderLabel&quot;</span>
<a href="#l39.196"></a><span id="l39.196">               control = &quot;border&quot;</span>
<a href="#l39.197"></a><span id="l39.197">               accesskey = &quot;&amp;borderEditField.accessKey;&quot;</span>
<a href="#l39.198"></a><span id="l39.198">               value = &quot;&amp;borderEditField.label;&quot;/&gt;</span>
<a href="#l39.199"></a><span id="l39.199">             &lt;textbox</span>
<a href="#l39.200"></a><span id="l39.200">               class     = &quot;narrow&quot;</span>
<a href="#l39.201"></a><span id="l39.201" class="difflineminus">-              id        = &quot;border&quot; </span>
<a href="#l39.202"></a><span id="l39.202" class="difflineplus">+              id        = &quot;border&quot;</span>
<a href="#l39.203"></a><span id="l39.203">               oninput   = &quot;forceInteger(this.id)&quot;/&gt;</span>
<a href="#l39.204"></a><span id="l39.204" class="difflineminus">-            &lt;label </span>
<a href="#l39.205"></a><span id="l39.205" class="difflineplus">+            &lt;label</span>
<a href="#l39.206"></a><span id="l39.206">               id    = &quot;bordertypeLabel&quot;</span>
<a href="#l39.207"></a><span id="l39.207">               value = &quot;&amp;pixelsPopup.value;&quot; /&gt;</span>
<a href="#l39.208"></a><span id="l39.208">           &lt;/row&gt;</span>
<a href="#l39.209"></a><span id="l39.209">         &lt;/rows&gt;</span>
<a href="#l39.210"></a><span id="l39.210">       &lt;/grid&gt;</span>
<a href="#l39.211"></a><span id="l39.211">     &lt;/groupbox&gt;</span>
<a href="#l39.212"></a><span id="l39.212"> </span>
<a href="#l39.213"></a><span id="l39.213">     &lt;vbox&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdInputImage.xul</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdInputImage.xul</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l40.4"></a><span id="l40.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l40.5"></a><span id="l40.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l40.6"></a><span id="l40.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l40.7"></a><span id="l40.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l40.8"></a><span id="l40.8"> </span>
<a href="#l40.9"></a><span id="l40.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l40.10"></a><span id="l40.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l40.11"></a><span id="l40.11"> </span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdImageOverlay.xul&quot;?&gt; </span>
<a href="#l40.13"></a><span id="l40.13" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l40.14"></a><span id="l40.14" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdImageOverlay.xul&quot;?&gt;</span>
<a href="#l40.15"></a><span id="l40.15" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l40.16"></a><span id="l40.16"> </span>
<a href="#l40.17"></a><span id="l40.17"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorInputProperties.dtd&quot;&gt;</span>
<a href="#l40.18"></a><span id="l40.18"> &lt;dialog title=&quot;&amp;windowTitleImage.label;&quot;</span>
<a href="#l40.19"></a><span id="l40.19">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l40.20"></a><span id="l40.20">         onload=&quot;Startup();&quot;</span>
<a href="#l40.21"></a><span id="l40.21">         ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l40.22"></a><span id="l40.22">         ondialogcancel=&quot;return onCancel();&quot;&gt;</span>
<a href="#l40.23"></a><span id="l40.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdInputProps.xul</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdInputProps.xul</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l41.4"></a><span id="l41.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l41.5"></a><span id="l41.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l41.6"></a><span id="l41.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l41.7"></a><span id="l41.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l41.8"></a><span id="l41.8"> </span>
<a href="#l41.9"></a><span id="l41.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l41.10"></a><span id="l41.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l41.11"></a><span id="l41.11"> </span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l41.13"></a><span id="l41.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l41.14"></a><span id="l41.14"> </span>
<a href="#l41.15"></a><span id="l41.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorInputProperties.dtd&quot;&gt;</span>
<a href="#l41.16"></a><span id="l41.16"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l41.17"></a><span id="l41.17">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l41.18"></a><span id="l41.18">         onload=&quot;Startup();&quot;</span>
<a href="#l41.19"></a><span id="l41.19">         buttons=&quot;accept,cancel&quot;</span>
<a href="#l41.20"></a><span id="l41.20">         ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l41.21"></a><span id="l41.21">         ondialogcancel=&quot;return onCancel();&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdInsSrc.xul</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdInsSrc.xul</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l42.4"></a><span id="l42.4"> </span>
<a href="#l42.5"></a><span id="l42.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l42.6"></a><span id="l42.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l42.7"></a><span id="l42.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l42.8"></a><span id="l42.8"> </span>
<a href="#l42.9"></a><span id="l42.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l42.10"></a><span id="l42.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l42.11"></a><span id="l42.11"> </span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l42.13"></a><span id="l42.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l42.14"></a><span id="l42.14"> </span>
<a href="#l42.15"></a><span id="l42.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorInsertSource.dtd&quot;&gt;</span>
<a href="#l42.16"></a><span id="l42.16"> </span>
<a href="#l42.17"></a><span id="l42.17"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l42.18"></a><span id="l42.18">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l42.19"></a><span id="l42.19">     onload = &quot;Startup()&quot;</span>
<a href="#l42.20"></a><span id="l42.20">     buttonlabelaccept=&quot;&amp;insertButton.label;&quot;</span>
<a href="#l42.21"></a><span id="l42.21">     buttonaccesskeyaccept=&quot;&amp;insertButton.accesskey;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdInsertChars.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdInsertChars.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -40,17 +40,17 @@ function onAccept()</span>
<a href="#l43.4"></a><span id="l43.4">     GetCurrentEditor().insertText(LatinM.label);</span>
<a href="#l43.5"></a><span id="l43.5">   } catch(e) {}</span>
<a href="#l43.6"></a><span id="l43.6"> </span>
<a href="#l43.7"></a><span id="l43.7">   // Set persistent attributes to save</span>
<a href="#l43.8"></a><span id="l43.8">   //  which category, letter, and character modifier was used</span>
<a href="#l43.9"></a><span id="l43.9">   CategoryGroup.setAttribute(&quot;category&quot;, category);</span>
<a href="#l43.10"></a><span id="l43.10">   CategoryGroup.setAttribute(&quot;letter_index&quot;, indexL);</span>
<a href="#l43.11"></a><span id="l43.11">   CategoryGroup.setAttribute(&quot;char_index&quot;, indexM);</span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-  </span>
<a href="#l43.13"></a><span id="l43.13" class="difflineplus">+</span>
<a href="#l43.14"></a><span id="l43.14">   // Don't close the dialog</span>
<a href="#l43.15"></a><span id="l43.15">   return false;</span>
<a href="#l43.16"></a><span id="l43.16"> }</span>
<a href="#l43.17"></a><span id="l43.17"> </span>
<a href="#l43.18"></a><span id="l43.18"> // Don't allow inserting in HTML Source Mode</span>
<a href="#l43.19"></a><span id="l43.19"> function onFocus()</span>
<a href="#l43.20"></a><span id="l43.20"> {</span>
<a href="#l43.21"></a><span id="l43.21">   var enable = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdInsertChars.xul</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdInsertChars.xul</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l44.4"></a><span id="l44.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l44.5"></a><span id="l44.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l44.6"></a><span id="l44.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l44.7"></a><span id="l44.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l44.8"></a><span id="l44.8"> </span>
<a href="#l44.9"></a><span id="l44.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l44.10"></a><span id="l44.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l44.11"></a><span id="l44.11"> </span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l44.13"></a><span id="l44.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l44.14"></a><span id="l44.14"> </span>
<a href="#l44.15"></a><span id="l44.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorInsertChars.dtd&quot;&gt;</span>
<a href="#l44.16"></a><span id="l44.16"> </span>
<a href="#l44.17"></a><span id="l44.17"> &lt;dialog id=&quot;insertCharsDlg&quot; title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l44.18"></a><span id="l44.18">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l44.19"></a><span id="l44.19">         onload = &quot;Startup()&quot;</span>
<a href="#l44.20"></a><span id="l44.20">         onfocus = &quot;onFocus()&quot;</span>
<a href="#l44.21"></a><span id="l44.21">         buttonlabelaccept=&quot;&amp;insertButton.label;&quot;</span>
<a href="#l44.22"></a><span id="l44.22" class="difflineat">@@ -30,17 +30,17 @@</span>
<a href="#l44.23"></a><span id="l44.23"> </span>
<a href="#l44.24"></a><span id="l44.24">   &lt;groupbox&gt;&lt;caption label=&quot;&amp;category.label;&quot;/&gt;</span>
<a href="#l44.25"></a><span id="l44.25">     &lt;radiogroup id=&quot;CatGrp&quot; persist=&quot;category letter_index char_index&quot;&gt;</span>
<a href="#l44.26"></a><span id="l44.26">       &lt;radio id=&quot;AccentUpper&quot; label=&quot;&amp;accentUpper.label;&quot;   oncommand=&quot;ChangeCategory(this.id)&quot;/&gt;</span>
<a href="#l44.27"></a><span id="l44.27">       &lt;radio id=&quot;AccentLower&quot; label=&quot;&amp;accentLower.label;&quot;   oncommand=&quot;ChangeCategory(this.id)&quot;/&gt;</span>
<a href="#l44.28"></a><span id="l44.28">       &lt;radio id=&quot;Upper&quot;       label=&quot;&amp;otherUpper.label;&quot;    oncommand=&quot;ChangeCategory(this.id)&quot;/&gt;</span>
<a href="#l44.29"></a><span id="l44.29">       &lt;radio id=&quot;Lower&quot;       label=&quot;&amp;otherLower.label;&quot;    oncommand=&quot;ChangeCategory(this.id)&quot;/&gt;</span>
<a href="#l44.30"></a><span id="l44.30">       &lt;radio id=&quot;Symbol&quot;      label=&quot;&amp;commonSymbols.label;&quot; oncommand=&quot;ChangeCategory(this.id)&quot;/&gt;</span>
<a href="#l44.31"></a><span id="l44.31" class="difflineminus">-    &lt;/radiogroup&gt; </span>
<a href="#l44.32"></a><span id="l44.32" class="difflineplus">+    &lt;/radiogroup&gt;</span>
<a href="#l44.33"></a><span id="l44.33">     &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l44.34"></a><span id="l44.34">   &lt;/groupbox&gt;</span>
<a href="#l44.35"></a><span id="l44.35">   &lt;hbox equalsize=&quot;always&quot;&gt;</span>
<a href="#l44.36"></a><span id="l44.36">     &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l44.37"></a><span id="l44.37">       &lt;!-- value is set in JS from editor.properties strings --&gt;</span>
<a href="#l44.38"></a><span id="l44.38">       &lt;label id=&quot;LatinL_Label&quot; control=&quot;LatinL&quot; value=&quot;&amp;letter.label;&quot; accesskey=&quot;&amp;letter.accessKey;&quot;/&gt;</span>
<a href="#l44.39"></a><span id="l44.39">       &lt;menulist class=&quot;larger&quot; flex=&quot;1&quot; id=&quot;LatinL&quot; oncommand=&quot;SelectLatinLetter()&quot;&gt;</span>
<a href="#l44.40"></a><span id="l44.40">         &lt;menupopup/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdInsertMath.xul</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdInsertMath.xul</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l45.4"></a><span id="l45.4"> </span>
<a href="#l45.5"></a><span id="l45.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l45.6"></a><span id="l45.6"> - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l45.7"></a><span id="l45.7"> - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l45.8"></a><span id="l45.8"> </span>
<a href="#l45.9"></a><span id="l45.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l45.10"></a><span id="l45.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l45.11"></a><span id="l45.11"> </span>
<a href="#l45.12"></a><span id="l45.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l45.13"></a><span id="l45.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l45.14"></a><span id="l45.14"> </span>
<a href="#l45.15"></a><span id="l45.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorInsertMath.dtd&quot;&gt;</span>
<a href="#l45.16"></a><span id="l45.16"> </span>
<a href="#l45.17"></a><span id="l45.17"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l45.18"></a><span id="l45.18">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l45.19"></a><span id="l45.19">         onload=&quot;Startup();&quot;</span>
<a href="#l45.20"></a><span id="l45.20">         buttonlabelaccept=&quot;&amp;insertButton.label;&quot;</span>
<a href="#l45.21"></a><span id="l45.21">         buttonaccesskeyaccept=&quot;&amp;insertButton.accesskey;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdInsertTOC.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdInsertTOC.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -257,17 +257,17 @@ function BuildTOC(update)</span>
<a href="#l46.4"></a><span id="l46.4">           toc.parentNode.insertBefore(newToc, toc);</span>
<a href="#l46.5"></a><span id="l46.5">           // and remove the old one</span>
<a href="#l46.6"></a><span id="l46.6">           toc.remove();</span>
<a href="#l46.7"></a><span id="l46.7">           toc = newToc;</span>
<a href="#l46.8"></a><span id="l46.8">           toc.setAttribute(&quot;id&quot;, kMozToc);</span>
<a href="#l46.9"></a><span id="l46.9">         }</span>
<a href="#l46.10"></a><span id="l46.10">         else {</span>
<a href="#l46.11"></a><span id="l46.11">           // we can keep the list itself but let's get rid of the TOC entries</span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-          while (toc.hasChildNodes()) </span>
<a href="#l46.13"></a><span id="l46.13" class="difflineplus">+          while (toc.hasChildNodes())</span>
<a href="#l46.14"></a><span id="l46.14">             toc.lastChild.remove();</span>
<a href="#l46.15"></a><span id="l46.15">         }</span>
<a href="#l46.16"></a><span id="l46.16">       }</span>
<a href="#l46.17"></a><span id="l46.17">       var commentText = &quot;mozToc &quot;;</span>
<a href="#l46.18"></a><span id="l46.18">       for (var j = 0; j &lt; 6; j++) {</span>
<a href="#l46.19"></a><span id="l46.19">         if (tocHeadersArray[j][0] != &quot;&quot;) {</span>
<a href="#l46.20"></a><span id="l46.20">           commentText += tocHeadersArray[j][0];</span>
<a href="#l46.21"></a><span id="l46.21">           if (tocHeadersArray[j][1] != &quot;&quot;) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdInsertTable.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdInsertTable.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -49,17 +49,17 @@ function Startup()</span>
<a href="#l47.4"></a><span id="l47.4">   } catch (e) {}</span>
<a href="#l47.5"></a><span id="l47.5"> </span>
<a href="#l47.6"></a><span id="l47.6">   // Initialize all widgets with image attributes</span>
<a href="#l47.7"></a><span id="l47.7">   InitDialog();</span>
<a href="#l47.8"></a><span id="l47.8"> </span>
<a href="#l47.9"></a><span id="l47.9">   // Set initial number to 2 rows, 2 columns:</span>
<a href="#l47.10"></a><span id="l47.10">   // Note, these are not attributes on the table,</span>
<a href="#l47.11"></a><span id="l47.11">   //  so don't put them in InitDialog(),</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineminus">-  //  else the user's values will be trashed when they use </span>
<a href="#l47.13"></a><span id="l47.13" class="difflineplus">+  //  else the user's values will be trashed when they use</span>
<a href="#l47.14"></a><span id="l47.14">   //  the Advanced Edit dialog</span>
<a href="#l47.15"></a><span id="l47.15">   gDialog.rowsInput.value = 2;</span>
<a href="#l47.16"></a><span id="l47.16">   gDialog.columnsInput.value = 2;</span>
<a href="#l47.17"></a><span id="l47.17"> </span>
<a href="#l47.18"></a><span id="l47.18">   // If no default value on the width, set to 100%</span>
<a href="#l47.19"></a><span id="l47.19">   if (gDialog.widthInput.value.length == 0)</span>
<a href="#l47.20"></a><span id="l47.20">   {</span>
<a href="#l47.21"></a><span id="l47.21">     gDialog.widthInput.value = &quot;100&quot;;</span>
<a href="#l47.22"></a><span id="l47.22" class="difflineat">@@ -70,32 +70,32 @@ function Startup()</span>
<a href="#l47.23"></a><span id="l47.23"> </span>
<a href="#l47.24"></a><span id="l47.24">   SetWindowLocation();</span>
<a href="#l47.25"></a><span id="l47.25"> }</span>
<a href="#l47.26"></a><span id="l47.26"> </span>
<a href="#l47.27"></a><span id="l47.27"> // Set dialog widgets with attribute data</span>
<a href="#l47.28"></a><span id="l47.28"> // We get them from globalElement copy so this can be used</span>
<a href="#l47.29"></a><span id="l47.29"> //   by AdvancedEdit(), which is shared by all property dialogs</span>
<a href="#l47.30"></a><span id="l47.30"> function InitDialog()</span>
<a href="#l47.31"></a><span id="l47.31" class="difflineminus">-{  </span>
<a href="#l47.32"></a><span id="l47.32" class="difflineplus">+{</span>
<a href="#l47.33"></a><span id="l47.33">   // Get default attributes set on the created table:</span>
<a href="#l47.34"></a><span id="l47.34">   // Get the width attribute of the element, stripping out &quot;%&quot;</span>
<a href="#l47.35"></a><span id="l47.35">   // This sets contents of menu combobox list</span>
<a href="#l47.36"></a><span id="l47.36">   // 2nd param = null: Use current selection to find if parent is table cell or window</span>
<a href="#l47.37"></a><span id="l47.37">   gDialog.widthInput.value = InitPixelOrPercentMenulist(globalElement, null, &quot;width&quot;, &quot;widthPixelOrPercentMenulist&quot;, gPercent);</span>
<a href="#l47.38"></a><span id="l47.38">   gDialog.borderInput.value = globalElement.getAttribute(&quot;border&quot;);</span>
<a href="#l47.39"></a><span id="l47.39"> }</span>
<a href="#l47.40"></a><span id="l47.40"> </span>
<a href="#l47.41"></a><span id="l47.41"> function ChangeRowOrColumn(id)</span>
<a href="#l47.42"></a><span id="l47.42"> {</span>
<a href="#l47.43"></a><span id="l47.43">   // Allow only integers</span>
<a href="#l47.44"></a><span id="l47.44">   forceInteger(id);</span>
<a href="#l47.45"></a><span id="l47.45"> </span>
<a href="#l47.46"></a><span id="l47.46">   // Enable OK only if both rows and columns have a value &gt; 0</span>
<a href="#l47.47"></a><span id="l47.47" class="difflineminus">-  var enable = gDialog.rowsInput.value.length &gt; 0 &amp;&amp; </span>
<a href="#l47.48"></a><span id="l47.48" class="difflineplus">+  var enable = gDialog.rowsInput.value.length &gt; 0 &amp;&amp;</span>
<a href="#l47.49"></a><span id="l47.49">                               gDialog.rowsInput.value &gt; 0 &amp;&amp;</span>
<a href="#l47.50"></a><span id="l47.50">                               gDialog.columnsInput.value.length &gt; 0 &amp;&amp;</span>
<a href="#l47.51"></a><span id="l47.51">                               gDialog.columnsInput.value &gt; 0;</span>
<a href="#l47.52"></a><span id="l47.52"> </span>
<a href="#l47.53"></a><span id="l47.53">   SetElementEnabled(gDialog.OkButton, enable);</span>
<a href="#l47.54"></a><span id="l47.54">   SetElementEnabledById(&quot;AdvancedEditButton1&quot;, enable);</span>
<a href="#l47.55"></a><span id="l47.55"> }</span>
<a href="#l47.56"></a><span id="l47.56"> </span>
<a href="#l47.57"></a><span id="l47.57" class="difflineat">@@ -175,29 +175,29 @@ function onAccept()</span>
<a href="#l47.58"></a><span id="l47.58">         if (countObj.value &gt;= 1)</span>
<a href="#l47.59"></a><span id="l47.59">         {</span>
<a href="#l47.60"></a><span id="l47.60">           if (countObj.value &gt; 1)</span>
<a href="#l47.61"></a><span id="l47.61">           {</span>
<a href="#l47.62"></a><span id="l47.62">             // Assume user wants to replace a block of</span>
<a href="#l47.63"></a><span id="l47.63">             //  contiguous cells with a table, so</span>
<a href="#l47.64"></a><span id="l47.64">             //  join the selected cells</span>
<a href="#l47.65"></a><span id="l47.65">             gActiveEditor.joinTableCells(false);</span>
<a href="#l47.66"></a><span id="l47.66" class="difflineminus">-          </span>
<a href="#l47.67"></a><span id="l47.67" class="difflineplus">+</span>
<a href="#l47.68"></a><span id="l47.68">             // Get the cell everything was merged into</span>
<a href="#l47.69"></a><span id="l47.69">             element = gActiveEditor.getFirstSelectedCell();</span>
<a href="#l47.70"></a><span id="l47.70" class="difflineminus">-          </span>
<a href="#l47.71"></a><span id="l47.71" class="difflineplus">+</span>
<a href="#l47.72"></a><span id="l47.72">             // Collapse selection into just that cell</span>
<a href="#l47.73"></a><span id="l47.73">             gActiveEditor.selection.collapse(element,0);</span>
<a href="#l47.74"></a><span id="l47.74">           }</span>
<a href="#l47.75"></a><span id="l47.75"> </span>
<a href="#l47.76"></a><span id="l47.76">           if (element)</span>
<a href="#l47.77"></a><span id="l47.77">           {</span>
<a href="#l47.78"></a><span id="l47.78">             // Empty just the contents of the cell</span>
<a href="#l47.79"></a><span id="l47.79">             gActiveEditor.deleteTableCellContents();</span>
<a href="#l47.80"></a><span id="l47.80" class="difflineminus">-          </span>
<a href="#l47.81"></a><span id="l47.81" class="difflineplus">+</span>
<a href="#l47.82"></a><span id="l47.82">             // Collapse selection to start of empty cell...</span>
<a href="#l47.83"></a><span id="l47.83">             gActiveEditor.selection.collapse(element,0);</span>
<a href="#l47.84"></a><span id="l47.84">             // ...but it will contain a &lt;br&gt; placeholder</span>
<a href="#l47.85"></a><span id="l47.85">             deletePlaceholder = true;</span>
<a href="#l47.86"></a><span id="l47.86">           }</span>
<a href="#l47.87"></a><span id="l47.87">         }</span>
<a href="#l47.88"></a><span id="l47.88">       }</span>
<a href="#l47.89"></a><span id="l47.89"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdInsertTable.xul</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdInsertTable.xul</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l48.4"></a><span id="l48.4"> </span>
<a href="#l48.5"></a><span id="l48.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l48.6"></a><span id="l48.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l48.7"></a><span id="l48.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l48.8"></a><span id="l48.8"> </span>
<a href="#l48.9"></a><span id="l48.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l48.10"></a><span id="l48.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l48.11"></a><span id="l48.11"> </span>
<a href="#l48.12"></a><span id="l48.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l48.14"></a><span id="l48.14"> </span>
<a href="#l48.15"></a><span id="l48.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorInsertTable.dtd&quot;&gt;</span>
<a href="#l48.16"></a><span id="l48.16"> </span>
<a href="#l48.17"></a><span id="l48.17"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l48.18"></a><span id="l48.18">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l48.19"></a><span id="l48.19">     onload = &quot;Startup()&quot;</span>
<a href="#l48.20"></a><span id="l48.20">     ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l48.21"></a><span id="l48.21">     ondialogcancel=&quot;return onCancel();&quot;&gt;</span>
<a href="#l48.22"></a><span id="l48.22" class="difflineat">@@ -60,13 +60,13 @@</span>
<a href="#l48.23"></a><span id="l48.23">   &lt;/groupbox&gt;</span>
<a href="#l48.24"></a><span id="l48.24">   &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l48.25"></a><span id="l48.25">   &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l48.26"></a><span id="l48.26">     &lt;label control=&quot;borderInput&quot; class=&quot;align-right&quot;</span>
<a href="#l48.27"></a><span id="l48.27">         value=&quot;&amp;borderEditField.label;&quot;</span>
<a href="#l48.28"></a><span id="l48.28">         accesskey=&quot;&amp;borderEditField.accessKey;&quot;</span>
<a href="#l48.29"></a><span id="l48.29">         tooltiptext=&quot;&amp;borderEditField.tooltip;&quot; /&gt;</span>
<a href="#l48.30"></a><span id="l48.30">     &lt;textbox class=&quot;narrow&quot; id=&quot;borderInput&quot; oninput=&quot;forceInteger(this.id)&quot; /&gt;</span>
<a href="#l48.31"></a><span id="l48.31" class="difflineminus">-    &lt;label value=&quot;&amp;pixels.label;&quot;/&gt;  </span>
<a href="#l48.32"></a><span id="l48.32" class="difflineplus">+    &lt;label value=&quot;&amp;pixels.label;&quot;/&gt;</span>
<a href="#l48.33"></a><span id="l48.33">   &lt;/hbox&gt;</span>
<a href="#l48.34"></a><span id="l48.34">   &lt;!-- from EdDialogOverlay --&gt;</span>
<a href="#l48.35"></a><span id="l48.35">   &lt;vbox id=&quot;AdvancedEdit&quot;/&gt;</span>
<a href="#l48.36"></a><span id="l48.36"> &lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdLabelProps.xul</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdLabelProps.xul</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l49.4"></a><span id="l49.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l49.5"></a><span id="l49.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l49.6"></a><span id="l49.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l49.7"></a><span id="l49.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l49.8"></a><span id="l49.8"> </span>
<a href="#l49.9"></a><span id="l49.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l49.10"></a><span id="l49.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l49.11"></a><span id="l49.11"> </span>
<a href="#l49.12"></a><span id="l49.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l49.13"></a><span id="l49.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l49.14"></a><span id="l49.14"> </span>
<a href="#l49.15"></a><span id="l49.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorLabelProperties.dtd&quot;&gt;</span>
<a href="#l49.16"></a><span id="l49.16"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l49.17"></a><span id="l49.17">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l49.18"></a><span id="l49.18">         onload=&quot;Startup();&quot;</span>
<a href="#l49.19"></a><span id="l49.19">         buttons=&quot;accept,cancel&quot;</span>
<a href="#l49.20"></a><span id="l49.20">         ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l49.21"></a><span id="l49.21">         ondialogcancel=&quot;return onCancel();&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdLinkChecker.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdLinkChecker.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -148,18 +148,18 @@ function LinkCheckTimeOut()</span>
<a href="#l50.4"></a><span id="l50.4"> function SetItemStatus(url, status)</span>
<a href="#l50.5"></a><span id="l50.5"> {</span>
<a href="#l50.6"></a><span id="l50.6">   if (!url)</span>
<a href="#l50.7"></a><span id="l50.7">     return false;</span>
<a href="#l50.8"></a><span id="l50.8"> </span>
<a href="#l50.9"></a><span id="l50.9">   if (!status)</span>
<a href="#l50.10"></a><span id="l50.10">     status = &quot;busy&quot;;</span>
<a href="#l50.11"></a><span id="l50.11"> </span>
<a href="#l50.12"></a><span id="l50.12" class="difflineminus">-  // Just set attribute for status icon </span>
<a href="#l50.13"></a><span id="l50.13" class="difflineminus">-  // if we already have this url </span>
<a href="#l50.14"></a><span id="l50.14" class="difflineplus">+  // Just set attribute for status icon</span>
<a href="#l50.15"></a><span id="l50.15" class="difflineplus">+  // if we already have this url</span>
<a href="#l50.16"></a><span id="l50.16">   let listitem = document.querySelector('listitem[label=&quot;' + url + '&quot;]');</span>
<a href="#l50.17"></a><span id="l50.17">   if (listitem)</span>
<a href="#l50.18"></a><span id="l50.18">   {</span>
<a href="#l50.19"></a><span id="l50.19">     listitem.setAttribute(&quot;progress&quot;, status);</span>
<a href="#l50.20"></a><span id="l50.20">     return true;</span>
<a href="#l50.21"></a><span id="l50.21">   }</span>
<a href="#l50.22"></a><span id="l50.22"> </span>
<a href="#l50.23"></a><span id="l50.23">   // We're adding a new item to list</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdLinkChecker.xul</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdLinkChecker.xul</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l51.4"></a><span id="l51.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l51.5"></a><span id="l51.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l51.6"></a><span id="l51.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l51.7"></a><span id="l51.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l51.8"></a><span id="l51.8"> </span>
<a href="#l51.9"></a><span id="l51.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l51.10"></a><span id="l51.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l51.11"></a><span id="l51.11"> </span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l51.13"></a><span id="l51.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l51.14"></a><span id="l51.14"> </span>
<a href="#l51.15"></a><span id="l51.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EdLinkChecker.dtd&quot;&gt;</span>
<a href="#l51.16"></a><span id="l51.16"> &lt;!-- dialog containing a control requiring initial setup --&gt;</span>
<a href="#l51.17"></a><span id="l51.17"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l51.18"></a><span id="l51.18">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l51.19"></a><span id="l51.19">     onload=&quot;Startup()&quot;</span>
<a href="#l51.20"></a><span id="l51.20">     buttonlabelcancel=&quot;&amp;closeButton.label;&quot;</span>
<a href="#l51.21"></a><span id="l51.21">     ondialogaccept=&quot;return onAccept();&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdLinkProps.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdLinkProps.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -72,17 +72,17 @@ function Startup()</span>
<a href="#l52.4"></a><span id="l52.4">       gActiveEditor.selectElement(anchorElement);</span>
<a href="#l52.5"></a><span id="l52.5">     }</span>
<a href="#l52.6"></a><span id="l52.6">     else</span>
<a href="#l52.7"></a><span id="l52.7">     {</span>
<a href="#l52.8"></a><span id="l52.8">       // If selection starts in a link, but extends beyond it,</span>
<a href="#l52.9"></a><span id="l52.9">       //   the user probably wants to extend existing link to new selection,</span>
<a href="#l52.10"></a><span id="l52.10">       //   so check if either end of selection is within a link</span>
<a href="#l52.11"></a><span id="l52.11">       // POTENTIAL PROBLEM: This prevents user from selecting text in an existing</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineminus">-      //   link and making 2 links. </span>
<a href="#l52.13"></a><span id="l52.13" class="difflineplus">+      //   link and making 2 links.</span>
<a href="#l52.14"></a><span id="l52.14">       // Note that this isn't a problem with images, handled above</span>
<a href="#l52.15"></a><span id="l52.15"> </span>
<a href="#l52.16"></a><span id="l52.16">       anchorElement = gActiveEditor.getElementOrParentByTagName(&quot;href&quot;, gActiveEditor.selection.anchorNode);</span>
<a href="#l52.17"></a><span id="l52.17">       if (!anchorElement)</span>
<a href="#l52.18"></a><span id="l52.18">         anchorElement = gActiveEditor.getElementOrParentByTagName(&quot;href&quot;, gActiveEditor.selection.focusNode);</span>
<a href="#l52.19"></a><span id="l52.19"> </span>
<a href="#l52.20"></a><span id="l52.20">       if (anchorElement)</span>
<a href="#l52.21"></a><span id="l52.21">       {</span>
<a href="#l52.22"></a><span id="l52.22" class="difflineat">@@ -103,21 +103,21 @@ function Startup()</span>
<a href="#l52.23"></a><span id="l52.23">     // Hide message about removing existing link</span>
<a href="#l52.24"></a><span id="l52.24">     //document.getElementById(&quot;RemoveLinkMsg&quot;).hidden = true;</span>
<a href="#l52.25"></a><span id="l52.25">   }</span>
<a href="#l52.26"></a><span id="l52.26">   if(!anchorElement)</span>
<a href="#l52.27"></a><span id="l52.27">   {</span>
<a href="#l52.28"></a><span id="l52.28">     dump(&quot;Failed to get selected element or create a new one!\n&quot;);</span>
<a href="#l52.29"></a><span id="l52.29">     window.close();</span>
<a href="#l52.30"></a><span id="l52.30">     return;</span>
<a href="#l52.31"></a><span id="l52.31" class="difflineminus">-  } </span>
<a href="#l52.32"></a><span id="l52.32" class="difflineplus">+  }</span>
<a href="#l52.33"></a><span id="l52.33"> </span>
<a href="#l52.34"></a><span id="l52.34">   // We insert at caret only when nothing is selected</span>
<a href="#l52.35"></a><span id="l52.35">   insertLinkAtCaret = gActiveEditor.selection.isCollapsed;</span>
<a href="#l52.36"></a><span id="l52.36" class="difflineminus">-  </span>
<a href="#l52.37"></a><span id="l52.37" class="difflineplus">+</span>
<a href="#l52.38"></a><span id="l52.38">   var selectedText;</span>
<a href="#l52.39"></a><span id="l52.39">   if (insertLinkAtCaret)</span>
<a href="#l52.40"></a><span id="l52.40">   {</span>
<a href="#l52.41"></a><span id="l52.41">     // Groupbox caption:</span>
<a href="#l52.42"></a><span id="l52.42">     gDialog.linkTextCaption.setAttribute(&quot;label&quot;, GetString(&quot;LinkText&quot;));</span>
<a href="#l52.43"></a><span id="l52.43"> </span>
<a href="#l52.44"></a><span id="l52.44">     // Message above input field:</span>
<a href="#l52.45"></a><span id="l52.45">     gDialog.linkTextMessage.setAttribute(&quot;value&quot;, GetString(&quot;EnterLinkText&quot;));</span>
<a href="#l52.46"></a><span id="l52.46" class="difflineat">@@ -125,23 +125,23 @@ function Startup()</span>
<a href="#l52.47"></a><span id="l52.47">   }</span>
<a href="#l52.48"></a><span id="l52.48">   else</span>
<a href="#l52.49"></a><span id="l52.49">   {</span>
<a href="#l52.50"></a><span id="l52.50">     if (!imageElement)</span>
<a href="#l52.51"></a><span id="l52.51">     {</span>
<a href="#l52.52"></a><span id="l52.52">       // We get here if selection is exactly around a link node</span>
<a href="#l52.53"></a><span id="l52.53">       // Check if selection has some text - use that first</span>
<a href="#l52.54"></a><span id="l52.54">       selectedText = GetSelectionAsText();</span>
<a href="#l52.55"></a><span id="l52.55" class="difflineminus">-      if (!selectedText) </span>
<a href="#l52.56"></a><span id="l52.56" class="difflineplus">+      if (!selectedText)</span>
<a href="#l52.57"></a><span id="l52.57">       {</span>
<a href="#l52.58"></a><span id="l52.58">         // No text, look for first image in the selection</span>
<a href="#l52.59"></a><span id="l52.59">         var children = anchorElement.childNodes;</span>
<a href="#l52.60"></a><span id="l52.60">         if (children)</span>
<a href="#l52.61"></a><span id="l52.61">         {</span>
<a href="#l52.62"></a><span id="l52.62" class="difflineminus">-          for(var i=0; i &lt; children.length; i++) </span>
<a href="#l52.63"></a><span id="l52.63" class="difflineplus">+          for(var i=0; i &lt; children.length; i++)</span>
<a href="#l52.64"></a><span id="l52.64">           {</span>
<a href="#l52.65"></a><span id="l52.65">             var nodeName = children.item(i).nodeName.toLowerCase();</span>
<a href="#l52.66"></a><span id="l52.66">             if (nodeName == &quot;img&quot;)</span>
<a href="#l52.67"></a><span id="l52.67">             {</span>
<a href="#l52.68"></a><span id="l52.68">               imageElement = children.item(i);</span>
<a href="#l52.69"></a><span id="l52.69">               break;</span>
<a href="#l52.70"></a><span id="l52.70">             }</span>
<a href="#l52.71"></a><span id="l52.71">           }</span>
<a href="#l52.72"></a><span id="l52.72" class="difflineat">@@ -152,17 +152,17 @@ function Startup()</span>
<a href="#l52.73"></a><span id="l52.73">     if (imageElement)</span>
<a href="#l52.74"></a><span id="l52.74">     {</span>
<a href="#l52.75"></a><span id="l52.75">       gDialog.linkTextCaption.setAttribute(&quot;label&quot;, GetString(&quot;LinkImage&quot;));</span>
<a href="#l52.76"></a><span id="l52.76">       // Link source string is the source URL of image</span>
<a href="#l52.77"></a><span id="l52.77">       // TODO: THIS DOESN'T HANDLE MULTIPLE SELECTED IMAGES!</span>
<a href="#l52.78"></a><span id="l52.78">       gDialog.linkTextMessage.setAttribute(&quot;value&quot;, imageElement.src);</span>
<a href="#l52.79"></a><span id="l52.79">     } else {</span>
<a href="#l52.80"></a><span id="l52.80">       gDialog.linkTextCaption.setAttribute(&quot;label&quot;, GetString(&quot;LinkText&quot;));</span>
<a href="#l52.81"></a><span id="l52.81" class="difflineminus">-      if (selectedText) </span>
<a href="#l52.82"></a><span id="l52.82" class="difflineplus">+      if (selectedText)</span>
<a href="#l52.83"></a><span id="l52.83">       {</span>
<a href="#l52.84"></a><span id="l52.84">         // Use just the first 60 characters and add &quot;...&quot;</span>
<a href="#l52.85"></a><span id="l52.85">         gDialog.linkTextMessage.setAttribute(&quot;value&quot;, TruncateStringAtWordEnd(ReplaceWhitespace(selectedText, &quot; &quot;), 60, true));</span>
<a href="#l52.86"></a><span id="l52.86">       } else {</span>
<a href="#l52.87"></a><span id="l52.87">         gDialog.linkTextMessage.setAttribute(&quot;value&quot;, GetString(&quot;MixedSelection&quot;));</span>
<a href="#l52.88"></a><span id="l52.88">       }</span>
<a href="#l52.89"></a><span id="l52.89">     }</span>
<a href="#l52.90"></a><span id="l52.90">   }</span>
<a href="#l52.91"></a><span id="l52.91" class="difflineat">@@ -173,59 +173,59 @@ function Startup()</span>
<a href="#l52.92"></a><span id="l52.92">   // Get the list of existing named anchors and headings</span>
<a href="#l52.93"></a><span id="l52.93">   FillLinkMenulist(gDialog.hrefInput, gHNodeArray);</span>
<a href="#l52.94"></a><span id="l52.94"> </span>
<a href="#l52.95"></a><span id="l52.95">   // We only need to test for this once per dialog load</span>
<a href="#l52.96"></a><span id="l52.96">   gHaveDocumentUrl = GetDocumentBaseUrl();</span>
<a href="#l52.97"></a><span id="l52.97"> </span>
<a href="#l52.98"></a><span id="l52.98">   // Set data for the dialog controls</span>
<a href="#l52.99"></a><span id="l52.99">   InitDialog();</span>
<a href="#l52.100"></a><span id="l52.100" class="difflineminus">-  </span>
<a href="#l52.101"></a><span id="l52.101" class="difflineplus">+</span>
<a href="#l52.102"></a><span id="l52.102">   // Search for a URI pattern in the selected text</span>
<a href="#l52.103"></a><span id="l52.103">   //  as candidate href</span>
<a href="#l52.104"></a><span id="l52.104" class="difflineminus">-  selectedText = TrimString(selectedText); </span>
<a href="#l52.105"></a><span id="l52.105" class="difflineplus">+  selectedText = TrimString(selectedText);</span>
<a href="#l52.106"></a><span id="l52.106">   if (!gDialog.hrefInput.value &amp;&amp; TextIsURI(selectedText))</span>
<a href="#l52.107"></a><span id="l52.107">       gDialog.hrefInput.value = selectedText;</span>
<a href="#l52.108"></a><span id="l52.108"> </span>
<a href="#l52.109"></a><span id="l52.109">   // Set initial focus</span>
<a href="#l52.110"></a><span id="l52.110">   if (insertLinkAtCaret) {</span>
<a href="#l52.111"></a><span id="l52.111">     // We will be using the HREF inputbox, so text message</span>
<a href="#l52.112"></a><span id="l52.112">     SetTextboxFocus(gDialog.linkTextInput);</span>
<a href="#l52.113"></a><span id="l52.113">   } else {</span>
<a href="#l52.114"></a><span id="l52.114">     SetTextboxFocus(gDialog.hrefInput);</span>
<a href="#l52.115"></a><span id="l52.115"> </span>
<a href="#l52.116"></a><span id="l52.116">     // We will not insert a new link at caret, so remove link text input field</span>
<a href="#l52.117"></a><span id="l52.117">     gDialog.linkTextInput.hidden = true;</span>
<a href="#l52.118"></a><span id="l52.118">     gDialog.linkTextInput = null;</span>
<a href="#l52.119"></a><span id="l52.119">   }</span>
<a href="#l52.120"></a><span id="l52.120" class="difflineminus">-    </span>
<a href="#l52.121"></a><span id="l52.121" class="difflineplus">+</span>
<a href="#l52.122"></a><span id="l52.122">   // This sets enable state on OK button</span>
<a href="#l52.123"></a><span id="l52.123">   doEnabling();</span>
<a href="#l52.124"></a><span id="l52.124"> </span>
<a href="#l52.125"></a><span id="l52.125">   SetWindowLocation();</span>
<a href="#l52.126"></a><span id="l52.126"> }</span>
<a href="#l52.127"></a><span id="l52.127"> </span>
<a href="#l52.128"></a><span id="l52.128"> // Set dialog widgets with attribute data</span>
<a href="#l52.129"></a><span id="l52.129"> // We get them from globalElement copy so this can be used</span>
<a href="#l52.130"></a><span id="l52.130"> //   by AdvancedEdit(), which is shared by all property dialogs</span>
<a href="#l52.131"></a><span id="l52.131"> function InitDialog()</span>
<a href="#l52.132"></a><span id="l52.132"> {</span>
<a href="#l52.133"></a><span id="l52.133" class="difflineminus">-  // Must use getAttribute, not &quot;globalElement.href&quot;, </span>
<a href="#l52.134"></a><span id="l52.134" class="difflineplus">+  // Must use getAttribute, not &quot;globalElement.href&quot;,</span>
<a href="#l52.135"></a><span id="l52.135">   //  or foreign chars aren't converted correctly!</span>
<a href="#l52.136"></a><span id="l52.136">   gDialog.hrefInput.value = globalElement.getAttribute(&quot;href&quot;);</span>
<a href="#l52.137"></a><span id="l52.137"> </span>
<a href="#l52.138"></a><span id="l52.138">   // Set &quot;Relativize&quot; checkbox according to current URL state</span>
<a href="#l52.139"></a><span id="l52.139">   SetRelativeCheckbox(gDialog.makeRelativeLink);</span>
<a href="#l52.140"></a><span id="l52.140"> }</span>
<a href="#l52.141"></a><span id="l52.141"> </span>
<a href="#l52.142"></a><span id="l52.142"> function doEnabling()</span>
<a href="#l52.143"></a><span id="l52.143"> {</span>
<a href="#l52.144"></a><span id="l52.144">   // We disable Ok button when there's no href text only if inserting a new link</span>
<a href="#l52.145"></a><span id="l52.145">   var enable = insertNew ? (TrimString(gDialog.hrefInput.value).length &gt; 0) : true;</span>
<a href="#l52.146"></a><span id="l52.146" class="difflineminus">-  </span>
<a href="#l52.147"></a><span id="l52.147" class="difflineplus">+</span>
<a href="#l52.148"></a><span id="l52.148">   // anon. content, so can't use SetElementEnabledById here</span>
<a href="#l52.149"></a><span id="l52.149">   var dialogNode = document.getElementById(&quot;linkDlg&quot;);</span>
<a href="#l52.150"></a><span id="l52.150">   dialogNode.getButton(&quot;accept&quot;).disabled = !enable;</span>
<a href="#l52.151"></a><span id="l52.151"> </span>
<a href="#l52.152"></a><span id="l52.152">   SetElementEnabledById( &quot;AdvancedEditButton1&quot;, enable);</span>
<a href="#l52.153"></a><span id="l52.153"> }</span>
<a href="#l52.154"></a><span id="l52.154"> </span>
<a href="#l52.155"></a><span id="l52.155"> function ChangeLinkLocation()</span>
<a href="#l52.156"></a><span id="l52.156" class="difflineat">@@ -283,17 +283,17 @@ function onAccept()</span>
<a href="#l52.157"></a><span id="l52.157">       gActiveEditor.cloneAttributes(anchorElement, globalElement);</span>
<a href="#l52.158"></a><span id="l52.158"> </span>
<a href="#l52.159"></a><span id="l52.159">       // Coalesce into one undo transaction</span>
<a href="#l52.160"></a><span id="l52.160">       gActiveEditor.beginTransaction();</span>
<a href="#l52.161"></a><span id="l52.161"> </span>
<a href="#l52.162"></a><span id="l52.162">       // Get text to use for a new link</span>
<a href="#l52.163"></a><span id="l52.163">       if (insertLinkAtCaret)</span>
<a href="#l52.164"></a><span id="l52.164">       {</span>
<a href="#l52.165"></a><span id="l52.165" class="difflineminus">-        // Append the link text as the last child node </span>
<a href="#l52.166"></a><span id="l52.166" class="difflineplus">+        // Append the link text as the last child node</span>
<a href="#l52.167"></a><span id="l52.167">         //   of the anchor node</span>
<a href="#l52.168"></a><span id="l52.168">         var textNode = gActiveEditor.document.createTextNode(newLinkText);</span>
<a href="#l52.169"></a><span id="l52.169">         if (textNode)</span>
<a href="#l52.170"></a><span id="l52.170">           anchorElement.appendChild(textNode);</span>
<a href="#l52.171"></a><span id="l52.171">         try {</span>
<a href="#l52.172"></a><span id="l52.172">           gActiveEditor.insertElementAtSelection(anchorElement, false);</span>
<a href="#l52.173"></a><span id="l52.173">         } catch (e) {</span>
<a href="#l52.174"></a><span id="l52.174">           dump(&quot;Exception occurred in InsertElementAtSelection\n&quot;);</span>
<a href="#l52.175"></a><span id="l52.175" class="difflineat">@@ -306,33 +306,33 @@ function onAccept()</span>
<a href="#l52.176"></a><span id="l52.176">         //  (may be text, image, or other inline content)</span>
<a href="#l52.177"></a><span id="l52.177">         try {</span>
<a href="#l52.178"></a><span id="l52.178">           gActiveEditor.insertLinkAroundSelection(anchorElement);</span>
<a href="#l52.179"></a><span id="l52.179">         } catch (e) {</span>
<a href="#l52.180"></a><span id="l52.180">           dump(&quot;Exception occurred in InsertElementAtSelection\n&quot;);</span>
<a href="#l52.181"></a><span id="l52.181">           return true;</span>
<a href="#l52.182"></a><span id="l52.182">         }</span>
<a href="#l52.183"></a><span id="l52.183">       }</span>
<a href="#l52.184"></a><span id="l52.184" class="difflineminus">-      // Check if the link was to a heading </span>
<a href="#l52.185"></a><span id="l52.185" class="difflineplus">+      // Check if the link was to a heading</span>
<a href="#l52.186"></a><span id="l52.186">       if (href in gHNodeArray)</span>
<a href="#l52.187"></a><span id="l52.187">       {</span>
<a href="#l52.188"></a><span id="l52.188">         var anchorNode = gActiveEditor.createElementWithDefaults(&quot;a&quot;);</span>
<a href="#l52.189"></a><span id="l52.189">         if (anchorNode)</span>
<a href="#l52.190"></a><span id="l52.190">         {</span>
<a href="#l52.191"></a><span id="l52.191">           anchorNode.name = href.substr(1);</span>
<a href="#l52.192"></a><span id="l52.192"> </span>
<a href="#l52.193"></a><span id="l52.193" class="difflineminus">-          // Insert the anchor into the document, </span>
<a href="#l52.194"></a><span id="l52.194" class="difflineplus">+          // Insert the anchor into the document,</span>
<a href="#l52.195"></a><span id="l52.195">           //  but don't let the transaction change the selection</span>
<a href="#l52.196"></a><span id="l52.196">           gActiveEditor.setShouldTxnSetSelection(false);</span>
<a href="#l52.197"></a><span id="l52.197">           gActiveEditor.insertNode(anchorNode, gHNodeArray[href], 0);</span>
<a href="#l52.198"></a><span id="l52.198">           gActiveEditor.setShouldTxnSetSelection(true);</span>
<a href="#l52.199"></a><span id="l52.199">         }</span>
<a href="#l52.200"></a><span id="l52.200">       }</span>
<a href="#l52.201"></a><span id="l52.201">       gActiveEditor.endTransaction();</span>
<a href="#l52.202"></a><span id="l52.202" class="difflineminus">-    } </span>
<a href="#l52.203"></a><span id="l52.203" class="difflineplus">+    }</span>
<a href="#l52.204"></a><span id="l52.204">     else if (!insertNew)</span>
<a href="#l52.205"></a><span id="l52.205">     {</span>
<a href="#l52.206"></a><span id="l52.206">       // We already had a link, but empty HREF means remove it</span>
<a href="#l52.207"></a><span id="l52.207">       EditorRemoveTextProperty(&quot;href&quot;, &quot;&quot;);</span>
<a href="#l52.208"></a><span id="l52.208">     }</span>
<a href="#l52.209"></a><span id="l52.209">     SaveWindowLocation();</span>
<a href="#l52.210"></a><span id="l52.210">     return true;</span>
<a href="#l52.211"></a><span id="l52.211">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdListProps.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdListProps.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -41,17 +41,17 @@ function Startup()</span>
<a href="#l53.4"></a><span id="l53.4">   gDialog.BulletStyleList = document.getElementById(&quot;BulletStyle&quot;);</span>
<a href="#l53.5"></a><span id="l53.5">   gDialog.BulletStyleLabel = document.getElementById(&quot;BulletStyleLabel&quot;);</span>
<a href="#l53.6"></a><span id="l53.6">   gDialog.StartingNumberInput = document.getElementById(&quot;StartingNumber&quot;);</span>
<a href="#l53.7"></a><span id="l53.7">   gDialog.StartingNumberLabel = document.getElementById(&quot;StartingNumberLabel&quot;);</span>
<a href="#l53.8"></a><span id="l53.8">   gDialog.AdvancedEditButton = document.getElementById(&quot;AdvancedEditButton1&quot;);</span>
<a href="#l53.9"></a><span id="l53.9">   gDialog.RadioGroup = document.getElementById(&quot;RadioGroup&quot;);</span>
<a href="#l53.10"></a><span id="l53.10">   gDialog.ChangeAllRadio = document.getElementById(&quot;ChangeAll&quot;);</span>
<a href="#l53.11"></a><span id="l53.11">   gDialog.ChangeSelectedRadio = document.getElementById(&quot;ChangeSelected&quot;);</span>
<a href="#l53.12"></a><span id="l53.12" class="difflineminus">-  </span>
<a href="#l53.13"></a><span id="l53.13" class="difflineplus">+</span>
<a href="#l53.14"></a><span id="l53.14">   // Try to get an existing list(s)</span>
<a href="#l53.15"></a><span id="l53.15">   var mixedObj = { value: null };</span>
<a href="#l53.16"></a><span id="l53.16">   try {</span>
<a href="#l53.17"></a><span id="l53.17">     gListType = editor.getListState(mixedObj, {}, {}, {} );</span>
<a href="#l53.18"></a><span id="l53.18"> </span>
<a href="#l53.19"></a><span id="l53.19">     // We may have mixed list and non-list, or &gt; 1 list type in selection</span>
<a href="#l53.20"></a><span id="l53.20">     gMixedListSelection = mixedObj.value;</span>
<a href="#l53.21"></a><span id="l53.21"> </span>
<a href="#l53.22"></a><span id="l53.22" class="difflineat">@@ -80,27 +80,27 @@ function Startup()</span>
<a href="#l53.23"></a><span id="l53.23"> </span>
<a href="#l53.24"></a><span id="l53.24">   gDialog.ListTypeList.focus();</span>
<a href="#l53.25"></a><span id="l53.25"> </span>
<a href="#l53.26"></a><span id="l53.26">   SetWindowLocation();</span>
<a href="#l53.27"></a><span id="l53.27"> }</span>
<a href="#l53.28"></a><span id="l53.28"> </span>
<a href="#l53.29"></a><span id="l53.29"> function InitDialog()</span>
<a href="#l53.30"></a><span id="l53.30"> {</span>
<a href="#l53.31"></a><span id="l53.31" class="difflineminus">-  // Note that if mixed, we we pay attention </span>
<a href="#l53.32"></a><span id="l53.32" class="difflineplus">+  // Note that if mixed, we we pay attention</span>
<a href="#l53.33"></a><span id="l53.33">   //   only to the anchor node's list type</span>
<a href="#l53.34"></a><span id="l53.34">   // (i.e., don't confuse user with &quot;mixed&quot; designation)</span>
<a href="#l53.35"></a><span id="l53.35">   if (gListElement)</span>
<a href="#l53.36"></a><span id="l53.36">     gListType = gListElement.nodeName.toLowerCase();</span>
<a href="#l53.37"></a><span id="l53.37">   else</span>
<a href="#l53.38"></a><span id="l53.38">     gListType = &quot;&quot;;</span>
<a href="#l53.39"></a><span id="l53.39" class="difflineminus">-  </span>
<a href="#l53.40"></a><span id="l53.40" class="difflineplus">+</span>
<a href="#l53.41"></a><span id="l53.41">   gDialog.ListTypeList.value = gListType;</span>
<a href="#l53.42"></a><span id="l53.42">   gDialog.StartingNumberInput.value = &quot;&quot;;</span>
<a href="#l53.43"></a><span id="l53.43" class="difflineminus">-  </span>
<a href="#l53.44"></a><span id="l53.44" class="difflineplus">+</span>
<a href="#l53.45"></a><span id="l53.45">   // Last param = true means attribute value is case-sensitive</span>
<a href="#l53.46"></a><span id="l53.46">   var type = globalElement ? GetHTMLOrCSSStyleValue(globalElement, &quot;type&quot;, &quot;list-style-type&quot;) : null;</span>
<a href="#l53.47"></a><span id="l53.47"> </span>
<a href="#l53.48"></a><span id="l53.48">   var index = 0;</span>
<a href="#l53.49"></a><span id="l53.49">   if (gListType == &quot;ul&quot;)</span>
<a href="#l53.50"></a><span id="l53.50">   {</span>
<a href="#l53.51"></a><span id="l53.51">     if (type)</span>
<a href="#l53.52"></a><span id="l53.52">     {</span>
<a href="#l53.53"></a><span id="l53.53" class="difflineat">@@ -132,17 +132,17 @@ function InitDialog()</span>
<a href="#l53.54"></a><span id="l53.54">     }</span>
<a href="#l53.55"></a><span id="l53.55">     if (type)</span>
<a href="#l53.56"></a><span id="l53.56">     {</span>
<a href="#l53.57"></a><span id="l53.57">       gNumberStyleType = type;</span>
<a href="#l53.58"></a><span id="l53.58">       gOriginalStyleType = type;</span>
<a href="#l53.59"></a><span id="l53.59">     }</span>
<a href="#l53.60"></a><span id="l53.60"> </span>
<a href="#l53.61"></a><span id="l53.61">     // Convert attribute number to appropriate letter or roman numeral</span>
<a href="#l53.62"></a><span id="l53.62" class="difflineminus">-    gDialog.StartingNumberInput.value = </span>
<a href="#l53.63"></a><span id="l53.63" class="difflineplus">+    gDialog.StartingNumberInput.value =</span>
<a href="#l53.64"></a><span id="l53.64">       ConvertStartAttrToUserString(globalElement.getAttribute(&quot;start&quot;), type);</span>
<a href="#l53.65"></a><span id="l53.65">   }</span>
<a href="#l53.66"></a><span id="l53.66">   BuildBulletStyleList();</span>
<a href="#l53.67"></a><span id="l53.67"> }</span>
<a href="#l53.68"></a><span id="l53.68"> </span>
<a href="#l53.69"></a><span id="l53.69"> // Convert attribute number to appropriate letter or roman numeral</span>
<a href="#l53.70"></a><span id="l53.70"> function ConvertStartAttrToUserString(startAttr, type)</span>
<a href="#l53.71"></a><span id="l53.71"> {</span>
<a href="#l53.72"></a><span id="l53.72" class="difflineat">@@ -196,25 +196,25 @@ function BuildBulletStyleList()</span>
<a href="#l53.73"></a><span id="l53.73">     gDialog.BulletStyleList.appendItem(GetString(&quot;Automatic&quot;), &quot;&quot;);</span>
<a href="#l53.74"></a><span id="l53.74">     gDialog.BulletStyleList.appendItem(GetString(&quot;Style_1&quot;), gArabic);</span>
<a href="#l53.75"></a><span id="l53.75">     gDialog.BulletStyleList.appendItem(GetString(&quot;Style_I&quot;), gUpperRoman);</span>
<a href="#l53.76"></a><span id="l53.76">     gDialog.BulletStyleList.appendItem(GetString(&quot;Style_i&quot;), gLowerRoman);</span>
<a href="#l53.77"></a><span id="l53.77">     gDialog.BulletStyleList.appendItem(GetString(&quot;Style_A&quot;), gUpperLetters);</span>
<a href="#l53.78"></a><span id="l53.78">     gDialog.BulletStyleList.appendItem(GetString(&quot;Style_a&quot;), gLowerLetters);</span>
<a href="#l53.79"></a><span id="l53.79"> </span>
<a href="#l53.80"></a><span id="l53.80">     gDialog.BulletStyleList.value = gNumberStyleType;</span>
<a href="#l53.81"></a><span id="l53.81" class="difflineminus">-  } </span>
<a href="#l53.82"></a><span id="l53.82" class="difflineminus">-  else </span>
<a href="#l53.83"></a><span id="l53.83" class="difflineplus">+  }</span>
<a href="#l53.84"></a><span id="l53.84" class="difflineplus">+  else</span>
<a href="#l53.85"></a><span id="l53.85">   {</span>
<a href="#l53.86"></a><span id="l53.86">     gDialog.BulletStyleList.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l53.87"></a><span id="l53.87">     gDialog.BulletStyleLabel.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l53.88"></a><span id="l53.88">     gDialog.StartingNumberInput.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l53.89"></a><span id="l53.89">     gDialog.StartingNumberLabel.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l53.90"></a><span id="l53.90">   }</span>
<a href="#l53.91"></a><span id="l53.91" class="difflineminus">-  </span>
<a href="#l53.92"></a><span id="l53.92" class="difflineplus">+</span>
<a href="#l53.93"></a><span id="l53.93">   // Disable advanced edit button if changing to &quot;normal&quot;</span>
<a href="#l53.94"></a><span id="l53.94">   if (gListType)</span>
<a href="#l53.95"></a><span id="l53.95">     gDialog.AdvancedEditButton.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l53.96"></a><span id="l53.96">   else</span>
<a href="#l53.97"></a><span id="l53.97">     gDialog.AdvancedEditButton.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l53.98"></a><span id="l53.98"> </span>
<a href="#l53.99"></a><span id="l53.99">   if (label)</span>
<a href="#l53.100"></a><span id="l53.100">     gDialog.BulletStyleLabel.setAttribute(&quot;label&quot;,label);</span>
<a href="#l53.101"></a><span id="l53.101" class="difflineat">@@ -226,17 +226,17 @@ function SelectListType()</span>
<a href="#l53.102"></a><span id="l53.102">   var NewType = gDialog.ListTypeList.value;</span>
<a href="#l53.103"></a><span id="l53.103"> </span>
<a href="#l53.104"></a><span id="l53.104">   if (NewType == &quot;ol&quot;)</span>
<a href="#l53.105"></a><span id="l53.105">     SetTextboxFocus(gDialog.StartingNumberInput);</span>
<a href="#l53.106"></a><span id="l53.106"> </span>
<a href="#l53.107"></a><span id="l53.107">   if (gListType != NewType)</span>
<a href="#l53.108"></a><span id="l53.108">   {</span>
<a href="#l53.109"></a><span id="l53.109">     gListType = NewType;</span>
<a href="#l53.110"></a><span id="l53.110" class="difflineminus">-    </span>
<a href="#l53.111"></a><span id="l53.111" class="difflineplus">+</span>
<a href="#l53.112"></a><span id="l53.112">     // Create a newlist object for Advanced Editing</span>
<a href="#l53.113"></a><span id="l53.113">     try {</span>
<a href="#l53.114"></a><span id="l53.114">       if (gListType)</span>
<a href="#l53.115"></a><span id="l53.115">         globalElement = GetCurrentEditor().createElementWithDefaults(gListType);</span>
<a href="#l53.116"></a><span id="l53.116">     } catch (e) {}</span>
<a href="#l53.117"></a><span id="l53.117"> </span>
<a href="#l53.118"></a><span id="l53.118">     BuildBulletStyleList();</span>
<a href="#l53.119"></a><span id="l53.119">   }</span>
<a href="#l53.120"></a><span id="l53.120" class="difflineat">@@ -251,52 +251,52 @@ function SelectBulletStyle()</span>
<a href="#l53.121"></a><span id="l53.121">     gBulletStyleType = gDialog.BulletStyleList.value;</span>
<a href="#l53.122"></a><span id="l53.122">   else if (gListType == &quot;ol&quot;)</span>
<a href="#l53.123"></a><span id="l53.123">   {</span>
<a href="#l53.124"></a><span id="l53.124">     var type = gDialog.BulletStyleList.value;</span>
<a href="#l53.125"></a><span id="l53.125">     if (gNumberStyleType != type)</span>
<a href="#l53.126"></a><span id="l53.126">     {</span>
<a href="#l53.127"></a><span id="l53.127">       // Convert existing input value to attr number first,</span>
<a href="#l53.128"></a><span id="l53.128">       //   then convert to the appropriate format for the newly-selected</span>
<a href="#l53.129"></a><span id="l53.129" class="difflineminus">-      gDialog.StartingNumberInput.value = </span>
<a href="#l53.130"></a><span id="l53.130" class="difflineplus">+      gDialog.StartingNumberInput.value =</span>
<a href="#l53.131"></a><span id="l53.131">         ConvertStartAttrToUserString( ConvertUserStringToStartAttr(gNumberStyleType), type);</span>
<a href="#l53.132"></a><span id="l53.132"> </span>
<a href="#l53.133"></a><span id="l53.133">       gNumberStyleType = type;</span>
<a href="#l53.134"></a><span id="l53.134">       SetTextboxFocus(gDialog.StartingNumberInput);</span>
<a href="#l53.135"></a><span id="l53.135">     }</span>
<a href="#l53.136"></a><span id="l53.136">   }</span>
<a href="#l53.137"></a><span id="l53.137"> }</span>
<a href="#l53.138"></a><span id="l53.138"> </span>
<a href="#l53.139"></a><span id="l53.139"> function ValidateData()</span>
<a href="#l53.140"></a><span id="l53.140"> {</span>
<a href="#l53.141"></a><span id="l53.141">   gBulletStyleType = gDialog.BulletStyleList.value;</span>
<a href="#l53.142"></a><span id="l53.142" class="difflineminus">-  // globalElement should already be of the correct type </span>
<a href="#l53.143"></a><span id="l53.143" class="difflineplus">+  // globalElement should already be of the correct type</span>
<a href="#l53.144"></a><span id="l53.144"> </span>
<a href="#l53.145"></a><span id="l53.145">   if (globalElement)</span>
<a href="#l53.146"></a><span id="l53.146">   {</span>
<a href="#l53.147"></a><span id="l53.147">     var editor = GetCurrentEditor();</span>
<a href="#l53.148"></a><span id="l53.148">     if (gListType == &quot;ul&quot;)</span>
<a href="#l53.149"></a><span id="l53.149">     {</span>
<a href="#l53.150"></a><span id="l53.150">       if (gBulletStyleType &amp;&amp; gDialog.ChangeAllRadio.selected)</span>
<a href="#l53.151"></a><span id="l53.151">         globalElement.setAttribute(&quot;type&quot;, gBulletStyleType);</span>
<a href="#l53.152"></a><span id="l53.152">       else</span>
<a href="#l53.153"></a><span id="l53.153">         try {</span>
<a href="#l53.154"></a><span id="l53.154">           editor.removeAttributeOrEquivalent(globalElement, &quot;type&quot;, true);</span>
<a href="#l53.155"></a><span id="l53.155">         } catch (e) {}</span>
<a href="#l53.156"></a><span id="l53.156"> </span>
<a href="#l53.157"></a><span id="l53.157" class="difflineminus">-    } </span>
<a href="#l53.158"></a><span id="l53.158" class="difflineplus">+    }</span>
<a href="#l53.159"></a><span id="l53.159">     else if (gListType == &quot;ol&quot;)</span>
<a href="#l53.160"></a><span id="l53.160">     {</span>
<a href="#l53.161"></a><span id="l53.161">       if (gBulletStyleType)</span>
<a href="#l53.162"></a><span id="l53.162">         globalElement.setAttribute(&quot;type&quot;, gBulletStyleType);</span>
<a href="#l53.163"></a><span id="l53.163">       else</span>
<a href="#l53.164"></a><span id="l53.164">         try {</span>
<a href="#l53.165"></a><span id="l53.165">           editor.removeAttributeOrEquivalent(globalElement, &quot;type&quot;, true);</span>
<a href="#l53.166"></a><span id="l53.166">         } catch (e) {}</span>
<a href="#l53.167"></a><span id="l53.167" class="difflineminus">-      </span>
<a href="#l53.168"></a><span id="l53.168" class="difflineplus">+</span>
<a href="#l53.169"></a><span id="l53.169">       var startingNumber = ConvertUserStringToStartAttr(gBulletStyleType);</span>
<a href="#l53.170"></a><span id="l53.170">       if (startingNumber)</span>
<a href="#l53.171"></a><span id="l53.171">         globalElement.setAttribute(&quot;start&quot;, startingNumber);</span>
<a href="#l53.172"></a><span id="l53.172">       else</span>
<a href="#l53.173"></a><span id="l53.173">         globalElement.removeAttribute(&quot;start&quot;);</span>
<a href="#l53.174"></a><span id="l53.174">     }</span>
<a href="#l53.175"></a><span id="l53.175">   }</span>
<a href="#l53.176"></a><span id="l53.176">   return true;</span>
<a href="#l53.177"></a><span id="l53.177" class="difflineat">@@ -398,17 +398,17 @@ function onAccept()</span>
<a href="#l53.178"></a><span id="l53.178">       gDialog.RadioGroup.setAttribute(&quot;index&quot;, changeEntireList ? &quot;0&quot; : &quot;1&quot;);</span>
<a href="#l53.179"></a><span id="l53.179"> </span>
<a href="#l53.180"></a><span id="l53.180">     var changeList;</span>
<a href="#l53.181"></a><span id="l53.181">     if (gListElement &amp;&amp; gDialog.ChangeAllRadio.selected)</span>
<a href="#l53.182"></a><span id="l53.182">     {</span>
<a href="#l53.183"></a><span id="l53.183">       changeList = true;</span>
<a href="#l53.184"></a><span id="l53.184">     }</span>
<a href="#l53.185"></a><span id="l53.185">     else</span>
<a href="#l53.186"></a><span id="l53.186" class="difflineminus">-      changeList = gMixedListSelection || gListType != gOriginalListType || </span>
<a href="#l53.187"></a><span id="l53.187" class="difflineplus">+      changeList = gMixedListSelection || gListType != gOriginalListType ||</span>
<a href="#l53.188"></a><span id="l53.188">                    gBulletStyleType != gOriginalStyleType;</span>
<a href="#l53.189"></a><span id="l53.189">     if (changeList)</span>
<a href="#l53.190"></a><span id="l53.190">     {</span>
<a href="#l53.191"></a><span id="l53.191">       try {</span>
<a href="#l53.192"></a><span id="l53.192">         if (gListType)</span>
<a href="#l53.193"></a><span id="l53.193">         {</span>
<a href="#l53.194"></a><span id="l53.194">           editor.makeOrChangeList(gListType, changeEntireList,</span>
<a href="#l53.195"></a><span id="l53.195">                      (gBulletStyleType != gOriginalStyleType) ? gBulletStyleType : null);</span>
<a href="#l53.196"></a><span id="l53.196" class="difflineat">@@ -427,15 +427,15 @@ function onAccept()</span>
<a href="#l53.197"></a><span id="l53.197">           editor.removeList(&quot;ol&quot;);</span>
<a href="#l53.198"></a><span id="l53.198">           editor.removeList(&quot;ul&quot;);</span>
<a href="#l53.199"></a><span id="l53.199">           editor.removeList(&quot;dl&quot;);</span>
<a href="#l53.200"></a><span id="l53.200">         }</span>
<a href="#l53.201"></a><span id="l53.201">       } catch (e) {}</span>
<a href="#l53.202"></a><span id="l53.202">     }</span>
<a href="#l53.203"></a><span id="l53.203"> </span>
<a href="#l53.204"></a><span id="l53.204">     editor.endTransaction();</span>
<a href="#l53.205"></a><span id="l53.205" class="difflineminus">-    </span>
<a href="#l53.206"></a><span id="l53.206" class="difflineplus">+</span>
<a href="#l53.207"></a><span id="l53.207">     SaveWindowLocation();</span>
<a href="#l53.208"></a><span id="l53.208"> </span>
<a href="#l53.209"></a><span id="l53.209">     return true;</span>
<a href="#l53.210"></a><span id="l53.210">   }</span>
<a href="#l53.211"></a><span id="l53.211">   return false;</span>
<a href="#l53.212"></a><span id="l53.212"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdListProps.xul</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdListProps.xul</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l54.4"></a><span id="l54.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l54.5"></a><span id="l54.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l54.6"></a><span id="l54.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l54.7"></a><span id="l54.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l54.8"></a><span id="l54.8"> </span>
<a href="#l54.9"></a><span id="l54.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l54.10"></a><span id="l54.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l54.11"></a><span id="l54.11"> </span>
<a href="#l54.12"></a><span id="l54.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l54.13"></a><span id="l54.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l54.14"></a><span id="l54.14"> </span>
<a href="#l54.15"></a><span id="l54.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorListProperties.dtd&quot;&gt;</span>
<a href="#l54.16"></a><span id="l54.16"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l54.17"></a><span id="l54.17">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l54.18"></a><span id="l54.18">     onload = &quot;Startup()&quot;</span>
<a href="#l54.19"></a><span id="l54.19">     ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l54.20"></a><span id="l54.20">     ondialogcancel=&quot;return onCancel();&quot;&gt;</span>
<a href="#l54.21"></a><span id="l54.21"> </span>
<a href="#l54.22"></a><span id="l54.22" class="difflineat">@@ -30,18 +30,18 @@</span>
<a href="#l54.23"></a><span id="l54.23">         &lt;menuitem value=&quot;ul&quot; label=&quot;&amp;bulletList.value;&quot;/&gt;</span>
<a href="#l54.24"></a><span id="l54.24">         &lt;menuitem value=&quot;ol&quot; label=&quot;&amp;numberList.value;&quot;/&gt;</span>
<a href="#l54.25"></a><span id="l54.25">         &lt;menuitem value=&quot;dl&quot; label=&quot;&amp;definitionList.value;&quot;/&gt;</span>
<a href="#l54.26"></a><span id="l54.26">       &lt;/menupopup&gt;</span>
<a href="#l54.27"></a><span id="l54.27">     &lt;/menulist&gt;</span>
<a href="#l54.28"></a><span id="l54.28">   &lt;/groupbox&gt;</span>
<a href="#l54.29"></a><span id="l54.29">   &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l54.30"></a><span id="l54.30"> </span>
<a href="#l54.31"></a><span id="l54.31" class="difflineminus">-  &lt;!-- message text and list items are set in JS </span>
<a href="#l54.32"></a><span id="l54.32" class="difflineminus">-       text value should be identical to string with id=BulletStyle in editor.properties </span>
<a href="#l54.33"></a><span id="l54.33" class="difflineplus">+  &lt;!-- message text and list items are set in JS</span>
<a href="#l54.34"></a><span id="l54.34" class="difflineplus">+       text value should be identical to string with id=BulletStyle in editor.properties</span>
<a href="#l54.35"></a><span id="l54.35">   --&gt;</span>
<a href="#l54.36"></a><span id="l54.36">   &lt;groupbox flex=&quot;1&quot;&gt;&lt;caption id=&quot;BulletStyleLabel&quot; label=&quot;&amp;bulletStyle.label;&quot;/&gt;</span>
<a href="#l54.37"></a><span id="l54.37">     &lt;menulist class=&quot;MinWidth10em&quot; id=&quot;BulletStyle&quot; oncommand=&quot;SelectBulletStyle()&quot;&gt;</span>
<a href="#l54.38"></a><span id="l54.38">       &lt;menupopup/&gt;</span>
<a href="#l54.39"></a><span id="l54.39">     &lt;/menulist&gt;</span>
<a href="#l54.40"></a><span id="l54.40">     &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l54.41"></a><span id="l54.41">     &lt;hbox&gt;</span>
<a href="#l54.42"></a><span id="l54.42">       &lt;label id=&quot;StartingNumberLabel&quot; control=&quot;StartingNumber&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdNamedAnchorProps.js</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdNamedAnchorProps.js</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -27,17 +27,17 @@ function Startup()</span>
<a href="#l55.4"></a><span id="l55.4">     // We found an element and don't need to insert one</span>
<a href="#l55.5"></a><span id="l55.5">     gInsertNew = false;</span>
<a href="#l55.6"></a><span id="l55.6"> </span>
<a href="#l55.7"></a><span id="l55.7">     // Make a copy to use for AdvancedEdit</span>
<a href="#l55.8"></a><span id="l55.8">     globalElement = gAnchorElement.cloneNode(false);</span>
<a href="#l55.9"></a><span id="l55.9">     gOriginalName = ConvertToCDATAString(gAnchorElement.name);</span>
<a href="#l55.10"></a><span id="l55.10">   } else {</span>
<a href="#l55.11"></a><span id="l55.11">     gInsertNew = true;</span>
<a href="#l55.12"></a><span id="l55.12" class="difflineminus">-    // We don't have an element selected, </span>
<a href="#l55.13"></a><span id="l55.13" class="difflineplus">+    // We don't have an element selected,</span>
<a href="#l55.14"></a><span id="l55.14">     //  so create one with default attributes</span>
<a href="#l55.15"></a><span id="l55.15">     gAnchorElement = editor.createElementWithDefaults(kTagName);</span>
<a href="#l55.16"></a><span id="l55.16">     if (gAnchorElement) {</span>
<a href="#l55.17"></a><span id="l55.17">       // Use the current selection as suggested name</span>
<a href="#l55.18"></a><span id="l55.18">       var name = GetSelectionAsText();</span>
<a href="#l55.19"></a><span id="l55.19">       // Get 40 characters of the selected text and don't add &quot;...&quot;,</span>
<a href="#l55.20"></a><span id="l55.20">       //  replace whitespace with &quot;_&quot; and strip non-word characters</span>
<a href="#l55.21"></a><span id="l55.21">       name = ConvertToCDATAString(TruncateStringAtWordEnd(name, 40, false));</span>
<a href="#l55.22"></a><span id="l55.22" class="difflineat">@@ -53,17 +53,17 @@ function Startup()</span>
<a href="#l55.23"></a><span id="l55.23">   if(!gAnchorElement)</span>
<a href="#l55.24"></a><span id="l55.24">   {</span>
<a href="#l55.25"></a><span id="l55.25">     dump(&quot;Failed to get selected element or create a new one!\n&quot;);</span>
<a href="#l55.26"></a><span id="l55.26">     window.close();</span>
<a href="#l55.27"></a><span id="l55.27">     return;</span>
<a href="#l55.28"></a><span id="l55.28">   }</span>
<a href="#l55.29"></a><span id="l55.29"> </span>
<a href="#l55.30"></a><span id="l55.30">   InitDialog();</span>
<a href="#l55.31"></a><span id="l55.31" class="difflineminus">-  </span>
<a href="#l55.32"></a><span id="l55.32" class="difflineplus">+</span>
<a href="#l55.33"></a><span id="l55.33">   DoEnabling();</span>
<a href="#l55.34"></a><span id="l55.34">   SetTextboxFocus(gDialog.NameInput);</span>
<a href="#l55.35"></a><span id="l55.35">   SetWindowLocation();</span>
<a href="#l55.36"></a><span id="l55.36"> }</span>
<a href="#l55.37"></a><span id="l55.37"> </span>
<a href="#l55.38"></a><span id="l55.38"> function InitDialog()</span>
<a href="#l55.39"></a><span id="l55.39"> {</span>
<a href="#l55.40"></a><span id="l55.40">   gDialog.NameInput.value = globalElement.getAttribute(&quot;name&quot;);</span>
<a href="#l55.41"></a><span id="l55.41" class="difflineat">@@ -117,17 +117,17 @@ function ValidateData()</span>
<a href="#l55.42"></a><span id="l55.42">   } else {</span>
<a href="#l55.43"></a><span id="l55.43">     // Replace spaces with &quot;_&quot; and strip other characters</span>
<a href="#l55.44"></a><span id="l55.44">     // Note: we could use ConvertAndEscape, but then we'd</span>
<a href="#l55.45"></a><span id="l55.45">     //  have to UnConverAndEscape beforehand - too messy!</span>
<a href="#l55.46"></a><span id="l55.46">     name = ConvertToCDATAString(name);</span>
<a href="#l55.47"></a><span id="l55.47"> </span>
<a href="#l55.48"></a><span id="l55.48">     if (gOriginalName != name &amp;&amp; AnchorNameExists(name))</span>
<a href="#l55.49"></a><span id="l55.49">     {</span>
<a href="#l55.50"></a><span id="l55.50" class="difflineminus">-      ShowInputErrorMessage(GetString(&quot;DuplicateAnchorNameError&quot;).replace(/%name%/,name));            </span>
<a href="#l55.51"></a><span id="l55.51" class="difflineplus">+      ShowInputErrorMessage(GetString(&quot;DuplicateAnchorNameError&quot;).replace(/%name%/,name));</span>
<a href="#l55.52"></a><span id="l55.52">       SetTextboxFocus(gDialog.NameInput);</span>
<a href="#l55.53"></a><span id="l55.53">       return false;</span>
<a href="#l55.54"></a><span id="l55.54">     }</span>
<a href="#l55.55"></a><span id="l55.55">     globalElement.name = name;</span>
<a href="#l55.56"></a><span id="l55.56">   }</span>
<a href="#l55.57"></a><span id="l55.57">   return true;</span>
<a href="#l55.58"></a><span id="l55.58"> }</span>
<a href="#l55.59"></a><span id="l55.59"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdNamedAnchorProps.xul</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdNamedAnchorProps.xul</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l56.4"></a><span id="l56.4"> </span>
<a href="#l56.5"></a><span id="l56.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l56.6"></a><span id="l56.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l56.7"></a><span id="l56.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l56.8"></a><span id="l56.8"> </span>
<a href="#l56.9"></a><span id="l56.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l56.10"></a><span id="l56.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l56.11"></a><span id="l56.11"> </span>
<a href="#l56.12"></a><span id="l56.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l56.13"></a><span id="l56.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l56.14"></a><span id="l56.14"> </span>
<a href="#l56.15"></a><span id="l56.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EdNamedAnchorProperties.dtd&quot;&gt;</span>
<a href="#l56.16"></a><span id="l56.16"> </span>
<a href="#l56.17"></a><span id="l56.17"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l56.18"></a><span id="l56.18">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l56.19"></a><span id="l56.19">     onload = &quot;Startup()&quot;</span>
<a href="#l56.20"></a><span id="l56.20">     ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l56.21"></a><span id="l56.21">     ondialogcancel=&quot;return onCancel();&quot;&gt;</span>
<a href="#l56.22"></a><span id="l56.22" class="difflineat">@@ -22,14 +22,14 @@</span>
<a href="#l56.23"></a><span id="l56.23">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l56.24"></a><span id="l56.24">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/EdNamedAnchorProps.js&quot;/&gt;</span>
<a href="#l56.25"></a><span id="l56.25"> </span>
<a href="#l56.26"></a><span id="l56.26">   &lt;spacer id=&quot;location&quot; offsetY=&quot;50&quot; persist=&quot;offsetX offsetY&quot;/&gt;</span>
<a href="#l56.27"></a><span id="l56.27"> </span>
<a href="#l56.28"></a><span id="l56.28">   &lt;label control=&quot;nameInput&quot;</span>
<a href="#l56.29"></a><span id="l56.29">          value=&quot;&amp;anchorNameEditField.label;&quot;</span>
<a href="#l56.30"></a><span id="l56.30">          accesskey=&quot;&amp;anchorNameEditField.accessKey;&quot;/&gt;</span>
<a href="#l56.31"></a><span id="l56.31" class="difflineminus">-  &lt;textbox class=&quot;MinWidth20em&quot; id=&quot;nameInput&quot; oninput=&quot;ChangeName()&quot; </span>
<a href="#l56.32"></a><span id="l56.32" class="difflineplus">+  &lt;textbox class=&quot;MinWidth20em&quot; id=&quot;nameInput&quot; oninput=&quot;ChangeName()&quot;</span>
<a href="#l56.33"></a><span id="l56.33">              tooltiptext=&quot;&amp;nameInput.tooltip;&quot;/&gt;</span>
<a href="#l56.34"></a><span id="l56.34">   &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l56.35"></a><span id="l56.35">   &lt;!-- from EdDialogOverlay --&gt;</span>
<a href="#l56.36"></a><span id="l56.36">   &lt;vbox id=&quot;AdvancedEdit&quot;/&gt;</span>
<a href="#l56.37"></a><span id="l56.37"> &lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdPageProps.js</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdPageProps.js</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -24,17 +24,17 @@ function Startup()</span>
<a href="#l57.4"></a><span id="l57.4">     return;</span>
<a href="#l57.5"></a><span id="l57.5">   }</span>
<a href="#l57.6"></a><span id="l57.6"> </span>
<a href="#l57.7"></a><span id="l57.7">   gDialog.PageLocation     = document.getElementById(&quot;PageLocation&quot;);</span>
<a href="#l57.8"></a><span id="l57.8">   gDialog.PageModDate      = document.getElementById(&quot;PageModDate&quot;);</span>
<a href="#l57.9"></a><span id="l57.9">   gDialog.TitleInput       = document.getElementById(&quot;TitleInput&quot;);</span>
<a href="#l57.10"></a><span id="l57.10">   gDialog.AuthorInput      = document.getElementById(&quot;AuthorInput&quot;);</span>
<a href="#l57.11"></a><span id="l57.11">   gDialog.DescriptionInput = document.getElementById(&quot;DescriptionInput&quot;);</span>
<a href="#l57.12"></a><span id="l57.12" class="difflineminus">-  </span>
<a href="#l57.13"></a><span id="l57.13" class="difflineplus">+</span>
<a href="#l57.14"></a><span id="l57.14">   // Default string for new page is set from DTD string in XUL,</span>
<a href="#l57.15"></a><span id="l57.15">   //   so set only if not new doc URL</span>
<a href="#l57.16"></a><span id="l57.16">   var location = GetDocumentUrl();</span>
<a href="#l57.17"></a><span id="l57.17">   var lastmodString = GetString(&quot;Unknown&quot;);</span>
<a href="#l57.18"></a><span id="l57.18"> </span>
<a href="#l57.19"></a><span id="l57.19">   if (!IsUrlAboutBlank(location))</span>
<a href="#l57.20"></a><span id="l57.20">   {</span>
<a href="#l57.21"></a><span id="l57.21">     // NEVER show username and password in clear text</span>
<a href="#l57.22"></a><span id="l57.22" class="difflineat">@@ -78,17 +78,17 @@ function Startup()</span>
<a href="#l57.23"></a><span id="l57.23">   if (!gDescriptionElement)</span>
<a href="#l57.24"></a><span id="l57.24">   {</span>
<a href="#l57.25"></a><span id="l57.25">     gDescriptionElement = CreateMetaElementWithAttribute(&quot;name&quot;, &quot;description&quot;);</span>
<a href="#l57.26"></a><span id="l57.26">     if (!gDescriptionElement)</span>
<a href="#l57.27"></a><span id="l57.27">       window.close();</span>
<a href="#l57.28"></a><span id="l57.28"> </span>
<a href="#l57.29"></a><span id="l57.29">     gInsertNewDescription = true;</span>
<a href="#l57.30"></a><span id="l57.30">   }</span>
<a href="#l57.31"></a><span id="l57.31" class="difflineminus">-  </span>
<a href="#l57.32"></a><span id="l57.32" class="difflineplus">+</span>
<a href="#l57.33"></a><span id="l57.33">   InitDialog();</span>
<a href="#l57.34"></a><span id="l57.34"> </span>
<a href="#l57.35"></a><span id="l57.35">   SetTextboxFocus(gDialog.TitleInput);</span>
<a href="#l57.36"></a><span id="l57.36"> </span>
<a href="#l57.37"></a><span id="l57.37">   SetWindowLocation();</span>
<a href="#l57.38"></a><span id="l57.38"> }</span>
<a href="#l57.39"></a><span id="l57.39"> </span>
<a href="#l57.40"></a><span id="l57.40"> function InitDialog()</span>
<a href="#l57.41"></a><span id="l57.41" class="difflineat">@@ -135,17 +135,17 @@ function onAccept()</span>
<a href="#l57.42"></a><span id="l57.42">   {</span>
<a href="#l57.43"></a><span id="l57.43">     var editor = GetCurrentEditor();</span>
<a href="#l57.44"></a><span id="l57.44">     editor.beginTransaction();</span>
<a href="#l57.45"></a><span id="l57.45"> </span>
<a href="#l57.46"></a><span id="l57.46">     // Set title contents even if string is empty</span>
<a href="#l57.47"></a><span id="l57.47">     //  because TITLE is a required HTML element</span>
<a href="#l57.48"></a><span id="l57.48">     if (gTitleWasEdited)</span>
<a href="#l57.49"></a><span id="l57.49">       SetDocumentTitle(gNewTitle);</span>
<a href="#l57.50"></a><span id="l57.50" class="difflineminus">-    </span>
<a href="#l57.51"></a><span id="l57.51" class="difflineplus">+</span>
<a href="#l57.52"></a><span id="l57.52">     if (gAuthorWasEdited)</span>
<a href="#l57.53"></a><span id="l57.53">       SetMetaElementContent(gAuthorElement, gAuthor, gInsertNewAuthor, false);</span>
<a href="#l57.54"></a><span id="l57.54"> </span>
<a href="#l57.55"></a><span id="l57.55">     if (gDescWasEdited)</span>
<a href="#l57.56"></a><span id="l57.56">       SetMetaElementContent(gDescriptionElement, gDescription, gInsertNewDescription, false);</span>
<a href="#l57.57"></a><span id="l57.57"> </span>
<a href="#l57.58"></a><span id="l57.58">     editor.endTransaction();</span>
<a href="#l57.59"></a><span id="l57.59"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdPageProps.xul</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdPageProps.xul</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l58.4"></a><span id="l58.4"> </span>
<a href="#l58.5"></a><span id="l58.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l58.6"></a><span id="l58.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l58.7"></a><span id="l58.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l58.8"></a><span id="l58.8"> </span>
<a href="#l58.9"></a><span id="l58.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l58.10"></a><span id="l58.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l58.11"></a><span id="l58.11"> </span>
<a href="#l58.12"></a><span id="l58.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l58.13"></a><span id="l58.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l58.14"></a><span id="l58.14"> </span>
<a href="#l58.15"></a><span id="l58.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorPageProperties.dtd&quot;&gt;</span>
<a href="#l58.16"></a><span id="l58.16"> </span>
<a href="#l58.17"></a><span id="l58.17"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l58.18"></a><span id="l58.18">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l58.19"></a><span id="l58.19">         onload=&quot;Startup();&quot;</span>
<a href="#l58.20"></a><span id="l58.20">         ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l58.21"></a><span id="l58.21">         ondialogcancel=&quot;return onCancel();&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdReplace.js</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdReplace.js</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -121,17 +121,17 @@ function onFindNext()</span>
<a href="#l59.4"></a><span id="l59.4">   if (!result)</span>
<a href="#l59.5"></a><span id="l59.5">   {</span>
<a href="#l59.6"></a><span id="l59.6">     var bundle = document.getElementById(&quot;findBundle&quot;);</span>
<a href="#l59.7"></a><span id="l59.7">     Services.prompt.alert(window, GetString(&quot;Alert&quot;), bundle.getString(&quot;notFoundWarning&quot;));</span>
<a href="#l59.8"></a><span id="l59.8">     SetTextboxFocus(gReplaceDialog.findInput);</span>
<a href="#l59.9"></a><span id="l59.9">     gReplaceDialog.findInput.select();</span>
<a href="#l59.10"></a><span id="l59.10">     gReplaceDialog.findInput.focus();</span>
<a href="#l59.11"></a><span id="l59.11">     return false;</span>
<a href="#l59.12"></a><span id="l59.12" class="difflineminus">-  } </span>
<a href="#l59.13"></a><span id="l59.13" class="difflineplus">+  }</span>
<a href="#l59.14"></a><span id="l59.14">   return true;</span>
<a href="#l59.15"></a><span id="l59.15"> }</span>
<a href="#l59.16"></a><span id="l59.16"> </span>
<a href="#l59.17"></a><span id="l59.17"> function onReplace()</span>
<a href="#l59.18"></a><span id="l59.18"> {</span>
<a href="#l59.19"></a><span id="l59.19">   if (!gEditor)</span>
<a href="#l59.20"></a><span id="l59.20">     return false;</span>
<a href="#l59.21"></a><span id="l59.21"> </span>
<a href="#l59.22"></a><span id="l59.22" class="difflineat">@@ -237,17 +237,17 @@ function onReplaceAll()</span>
<a href="#l59.23"></a><span id="l59.23">   finder.findBackwards = gReplaceDialog.searchBackwards.checked;</span>
<a href="#l59.24"></a><span id="l59.24"> </span>
<a href="#l59.25"></a><span id="l59.25">   // We want the whole operation to be undoable in one swell foop,</span>
<a href="#l59.26"></a><span id="l59.26">   // so start a transaction:</span>
<a href="#l59.27"></a><span id="l59.27">   gEditor.beginTransaction();</span>
<a href="#l59.28"></a><span id="l59.28"> </span>
<a href="#l59.29"></a><span id="l59.29">   // and to make sure we close the transaction, guard against exceptions:</span>
<a href="#l59.30"></a><span id="l59.30">   try {</span>
<a href="#l59.31"></a><span id="l59.31" class="difflineminus">-    // Make a range containing the current selection, </span>
<a href="#l59.32"></a><span id="l59.32" class="difflineplus">+    // Make a range containing the current selection,</span>
<a href="#l59.33"></a><span id="l59.33">     // so we don't go past it when we wrap.</span>
<a href="#l59.34"></a><span id="l59.34">     var selection = gEditor.selection;</span>
<a href="#l59.35"></a><span id="l59.35">     var selecRange;</span>
<a href="#l59.36"></a><span id="l59.36">     if (selection.rangeCount &gt; 0)</span>
<a href="#l59.37"></a><span id="l59.37">       selecRange = selection.getRangeAt(0);</span>
<a href="#l59.38"></a><span id="l59.38">     var origRange = selecRange.cloneRange();</span>
<a href="#l59.39"></a><span id="l59.39"> </span>
<a href="#l59.40"></a><span id="l59.40">     // We'll need a range for the whole document:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdSelectProps.xul</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdSelectProps.xul</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l60.4"></a><span id="l60.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l60.5"></a><span id="l60.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l60.6"></a><span id="l60.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l60.7"></a><span id="l60.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l60.8"></a><span id="l60.8"> </span>
<a href="#l60.9"></a><span id="l60.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l60.10"></a><span id="l60.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l60.11"></a><span id="l60.11"> </span>
<a href="#l60.12"></a><span id="l60.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l60.13"></a><span id="l60.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l60.14"></a><span id="l60.14"> </span>
<a href="#l60.15"></a><span id="l60.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorSelectProperties.dtd&quot;&gt;</span>
<a href="#l60.16"></a><span id="l60.16"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l60.17"></a><span id="l60.17">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l60.18"></a><span id="l60.18">         onload=&quot;Startup();&quot;</span>
<a href="#l60.19"></a><span id="l60.19">         buttons=&quot;accept,cancel&quot;</span>
<a href="#l60.20"></a><span id="l60.20">         ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l60.21"></a><span id="l60.21">         ondialogcancel=&quot;return onCancel();&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdSpellCheck.js</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdSpellCheck.js</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -72,22 +72,22 @@ function spellCheckStarted() {</span>
<a href="#l61.4"></a><span id="l61.4"> </span>
<a href="#l61.5"></a><span id="l61.5">   try {</span>
<a href="#l61.6"></a><span id="l61.6">     curLang = gSpellChecker.GetCurrentDictionary();</span>
<a href="#l61.7"></a><span id="l61.7">   } catch(ex) {</span>
<a href="#l61.8"></a><span id="l61.8">     curLang = &quot;&quot;;</span>
<a href="#l61.9"></a><span id="l61.9">   }</span>
<a href="#l61.10"></a><span id="l61.10"> </span>
<a href="#l61.11"></a><span id="l61.11">   InitLanguageMenu(curLang);</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineminus">-  </span>
<a href="#l61.13"></a><span id="l61.13" class="difflineplus">+</span>
<a href="#l61.14"></a><span id="l61.14">   // Get the first misspelled word and setup all UI</span>
<a href="#l61.15"></a><span id="l61.15">   NextWord();</span>
<a href="#l61.16"></a><span id="l61.16"> </span>
<a href="#l61.17"></a><span id="l61.17" class="difflineminus">-  // When startup param is true, setup different UI when spell checking </span>
<a href="#l61.18"></a><span id="l61.18" class="difflineminus">-  //   just before sending mail message  </span>
<a href="#l61.19"></a><span id="l61.19" class="difflineplus">+  // When startup param is true, setup different UI when spell checking</span>
<a href="#l61.20"></a><span id="l61.20" class="difflineplus">+  //   just before sending mail message</span>
<a href="#l61.21"></a><span id="l61.21">   if (window.arguments[0])</span>
<a href="#l61.22"></a><span id="l61.22">   {</span>
<a href="#l61.23"></a><span id="l61.23">     // If no misspelled words found, simply close dialog and send message</span>
<a href="#l61.24"></a><span id="l61.24">     if (!gMisspelledWord)</span>
<a href="#l61.25"></a><span id="l61.25">     {</span>
<a href="#l61.26"></a><span id="l61.26">       onClose();</span>
<a href="#l61.27"></a><span id="l61.27">       return;</span>
<a href="#l61.28"></a><span id="l61.28">     }</span>
<a href="#l61.29"></a><span id="l61.29" class="difflineat">@@ -231,24 +231,24 @@ function SetWidgetsForMisspelledWord()</span>
<a href="#l61.30"></a><span id="l61.30"> </span>
<a href="#l61.31"></a><span id="l61.31">   if (gMisspelledWord)</span>
<a href="#l61.32"></a><span id="l61.32">     SetTextboxFocus(gDialog.ReplaceWordInput);</span>
<a href="#l61.33"></a><span id="l61.33"> }</span>
<a href="#l61.34"></a><span id="l61.34"> </span>
<a href="#l61.35"></a><span id="l61.35"> function CheckWord()</span>
<a href="#l61.36"></a><span id="l61.36"> {</span>
<a href="#l61.37"></a><span id="l61.37">   var word = gDialog.ReplaceWordInput.value;</span>
<a href="#l61.38"></a><span id="l61.38" class="difflineminus">-  if (word) </span>
<a href="#l61.39"></a><span id="l61.39" class="difflineplus">+  if (word)</span>
<a href="#l61.40"></a><span id="l61.40">   {</span>
<a href="#l61.41"></a><span id="l61.41">     if (gSpellChecker.CheckCurrentWord(word))</span>
<a href="#l61.42"></a><span id="l61.42">     {</span>
<a href="#l61.43"></a><span id="l61.43">       FillSuggestedList(word);</span>
<a href="#l61.44"></a><span id="l61.44">       SetReplaceEnable();</span>
<a href="#l61.45"></a><span id="l61.45" class="difflineminus">-    } </span>
<a href="#l61.46"></a><span id="l61.46" class="difflineminus">-    else </span>
<a href="#l61.47"></a><span id="l61.47" class="difflineplus">+    }</span>
<a href="#l61.48"></a><span id="l61.48" class="difflineplus">+    else</span>
<a href="#l61.49"></a><span id="l61.49">     {</span>
<a href="#l61.50"></a><span id="l61.50">       ClearListbox(gDialog.SuggestedList);</span>
<a href="#l61.51"></a><span id="l61.51">       var item = gDialog.SuggestedList.appendItem(GetString(&quot;CorrectSpelling&quot;), &quot;&quot;);</span>
<a href="#l61.52"></a><span id="l61.52">       if (item) item.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l61.53"></a><span id="l61.53">       // Suppress being able to select the message text</span>
<a href="#l61.54"></a><span id="l61.54">       gAllowSelectWord = false;</span>
<a href="#l61.55"></a><span id="l61.55">     }</span>
<a href="#l61.56"></a><span id="l61.56">   }</span>
<a href="#l61.57"></a><span id="l61.57" class="difflineat">@@ -444,17 +444,17 @@ function FillSuggestedList(misspelledWor</span>
<a href="#l61.58"></a><span id="l61.58">       item = list.appendItem(GetString(&quot;NoSuggestedWords&quot;));</span>
<a href="#l61.59"></a><span id="l61.59">       if (item) item.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l61.60"></a><span id="l61.60">       gAllowSelectWord = false;</span>
<a href="#l61.61"></a><span id="l61.61">     } else {</span>
<a href="#l61.62"></a><span id="l61.62">       gAllowSelectWord = true;</span>
<a href="#l61.63"></a><span id="l61.63">       // Initialize with first suggested list by selecting it</span>
<a href="#l61.64"></a><span id="l61.64">       gDialog.SuggestedList.selectedIndex = 0;</span>
<a href="#l61.65"></a><span id="l61.65">     }</span>
<a href="#l61.66"></a><span id="l61.66" class="difflineminus">-  } </span>
<a href="#l61.67"></a><span id="l61.67" class="difflineplus">+  }</span>
<a href="#l61.68"></a><span id="l61.68">   else</span>
<a href="#l61.69"></a><span id="l61.69">   {</span>
<a href="#l61.70"></a><span id="l61.70">     item = list.appendItem(&quot;&quot;, &quot;&quot;);</span>
<a href="#l61.71"></a><span id="l61.71">     if (item)</span>
<a href="#l61.72"></a><span id="l61.72">       item.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l61.73"></a><span id="l61.73">   }</span>
<a href="#l61.74"></a><span id="l61.74"> }</span>
<a href="#l61.75"></a><span id="l61.75"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdSpellCheck.xul</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdSpellCheck.xul</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l62.4"></a><span id="l62.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l62.5"></a><span id="l62.5"> </span>
<a href="#l62.6"></a><span id="l62.6"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l62.7"></a><span id="l62.7">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l62.8"></a><span id="l62.8">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l62.9"></a><span id="l62.9"> </span>
<a href="#l62.10"></a><span id="l62.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt; </span>
<a href="#l62.11"></a><span id="l62.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt; </span>
<a href="#l62.12"></a><span id="l62.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l62.13"></a><span id="l62.13" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l62.14"></a><span id="l62.14"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorSpellCheck.dtd&quot;&gt;</span>
<a href="#l62.15"></a><span id="l62.15"> </span>
<a href="#l62.16"></a><span id="l62.16"> &lt;!-- dialog containing a control requiring initial setup --&gt;</span>
<a href="#l62.17"></a><span id="l62.17"> &lt;dialog id=&quot;spellCheckDlg&quot; buttons=&quot;cancel&quot; title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l62.18"></a><span id="l62.18">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l62.19"></a><span id="l62.19">     persist=&quot;screenX screenY&quot;</span>
<a href="#l62.20"></a><span id="l62.20">     onload = &quot;Startup()&quot;</span>
<a href="#l62.21"></a><span id="l62.21">     ondialogaccept=&quot;return doDefault();&quot;</span>
<a href="#l62.22"></a><span id="l62.22" class="difflineat">@@ -72,17 +72,17 @@</span>
<a href="#l62.23"></a><span id="l62.23">                         accesskey=&quot;&amp;ignoreButton.accessKey;&quot;/&gt;</span>
<a href="#l62.24"></a><span id="l62.24">               &lt;/row&gt;</span>
<a href="#l62.25"></a><span id="l62.25">               &lt;row&gt;</span>
<a href="#l62.26"></a><span id="l62.26">                 &lt;button id=&quot;ReplaceAll&quot; oncommand=&quot;ReplaceAll();&quot; label=&quot;&amp;replaceAllButton.label;&quot;</span>
<a href="#l62.27"></a><span id="l62.27">                         accesskey=&quot;&amp;replaceAllButton.accessKey;&quot;/&gt;</span>
<a href="#l62.28"></a><span id="l62.28">                 &lt;button id=&quot;IgnoreAll&quot;  oncommand=&quot;IgnoreAll();&quot; label=&quot;&amp;ignoreAllButton.label;&quot;</span>
<a href="#l62.29"></a><span id="l62.29">                         accesskey=&quot;&amp;ignoreAllButton.accessKey;&quot;/&gt;</span>
<a href="#l62.30"></a><span id="l62.30">               &lt;/row&gt;</span>
<a href="#l62.31"></a><span id="l62.31" class="difflineminus">-            &lt;/rows&gt; </span>
<a href="#l62.32"></a><span id="l62.32" class="difflineplus">+            &lt;/rows&gt;</span>
<a href="#l62.33"></a><span id="l62.33">           &lt;/grid&gt;</span>
<a href="#l62.34"></a><span id="l62.34">           &lt;separator/&gt;</span>
<a href="#l62.35"></a><span id="l62.35">           &lt;label value=&quot;&amp;userDictionary.label;&quot;/&gt;</span>
<a href="#l62.36"></a><span id="l62.36">           &lt;hbox align=&quot;start&quot;&gt;</span>
<a href="#l62.37"></a><span id="l62.37">             &lt;button class=&quot;spell-check&quot; id=&quot;AddToDictionary&quot; oncommand=&quot;AddToDictionary()&quot; label=&quot;&amp;addToUserDictionaryButton.label;&quot;</span>
<a href="#l62.38"></a><span id="l62.38">                     accesskey=&quot;&amp;addToUserDictionaryButton.accessKey;&quot;/&gt;</span>
<a href="#l62.39"></a><span id="l62.39">             &lt;button class=&quot;spell-check&quot; id=&quot;EditDictionary&quot;  oncommand=&quot;EditDictionary()&quot; label=&quot;&amp;editUserDictionaryButton.label;&quot;</span>
<a href="#l62.40"></a><span id="l62.40">                     accesskey=&quot;&amp;editUserDictionaryButton.accessKey;&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdTableProps.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdTableProps.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -710,17 +710,17 @@ function DoCellSelection()</span>
<a href="#l63.4"></a><span id="l63.4">     gSelectedCellCount = countObj.value;</span>
<a href="#l63.5"></a><span id="l63.5">   else</span>
<a href="#l63.6"></a><span id="l63.6">     gSelectedCellCount = 0;</span>
<a href="#l63.7"></a><span id="l63.7"> </span>
<a href="#l63.8"></a><span id="l63.8">   // Currently, we can only allow advanced editing on ONE cell element at a time</span>
<a href="#l63.9"></a><span id="l63.9">   //   else we ignore CSS, JS, and HTML attributes not already in dialog</span>
<a href="#l63.10"></a><span id="l63.10">   SetElementEnabled(gDialog.AdvancedEditCell, gSelectedCellCount == 1);</span>
<a href="#l63.11"></a><span id="l63.11"> </span>
<a href="#l63.12"></a><span id="l63.12" class="difflineminus">-  gDialog.AdvancedEditCell.setAttribute(&quot;tooltiptext&quot;, </span>
<a href="#l63.13"></a><span id="l63.13" class="difflineplus">+  gDialog.AdvancedEditCell.setAttribute(&quot;tooltiptext&quot;,</span>
<a href="#l63.14"></a><span id="l63.14">     gSelectedCellCount &gt; 1 ? GetString(&quot;AdvancedEditForCellMsg&quot;) :</span>
<a href="#l63.15"></a><span id="l63.15">                              gDialog.AdvancedEditCellToolTipText);</span>
<a href="#l63.16"></a><span id="l63.16"> }</span>
<a href="#l63.17"></a><span id="l63.17"> </span>
<a href="#l63.18"></a><span id="l63.18"> function SetSelectionButtons()</span>
<a href="#l63.19"></a><span id="l63.19"> {</span>
<a href="#l63.20"></a><span id="l63.20">   if (gSelectedCellsType == SELECT_ROW)</span>
<a href="#l63.21"></a><span id="l63.21">   {</span>
<a href="#l63.22"></a><span id="l63.22" class="difflineat">@@ -776,19 +776,19 @@ function ValidateTableData()</span>
<a href="#l63.23"></a><span id="l63.23"> </span>
<a href="#l63.24"></a><span id="l63.24">   gNewColCount = Number(ValidateNumber(gDialog.TableColumnsInput, null, 1, gMaxColumns, null, true, true));</span>
<a href="#l63.25"></a><span id="l63.25">   if (gValidationError) return false;</span>
<a href="#l63.26"></a><span id="l63.26"> </span>
<a href="#l63.27"></a><span id="l63.27">   // If user is deleting any cells, get confirmation</span>
<a href="#l63.28"></a><span id="l63.28">   // (This is a global to the dialog and we ask only once per dialog session)</span>
<a href="#l63.29"></a><span id="l63.29">   if ( !gCanDelete &amp;&amp;</span>
<a href="#l63.30"></a><span id="l63.30">         (gNewRowCount &lt; gRowCount ||</span>
<a href="#l63.31"></a><span id="l63.31" class="difflineminus">-         gNewColCount &lt; gColCount) ) </span>
<a href="#l63.32"></a><span id="l63.32" class="difflineplus">+         gNewColCount &lt; gColCount) )</span>
<a href="#l63.33"></a><span id="l63.33">   {</span>
<a href="#l63.34"></a><span id="l63.34" class="difflineminus">-    if (ConfirmWithTitle(GetString(&quot;DeleteTableTitle&quot;), </span>
<a href="#l63.35"></a><span id="l63.35" class="difflineplus">+    if (ConfirmWithTitle(GetString(&quot;DeleteTableTitle&quot;),</span>
<a href="#l63.36"></a><span id="l63.36">                          GetString(&quot;DeleteTableMsg&quot;),</span>
<a href="#l63.37"></a><span id="l63.37">                          GetString(&quot;DeleteCells&quot;)) )</span>
<a href="#l63.38"></a><span id="l63.38">     {</span>
<a href="#l63.39"></a><span id="l63.39">       gCanDelete = true;</span>
<a href="#l63.40"></a><span id="l63.40">     }</span>
<a href="#l63.41"></a><span id="l63.41">     else</span>
<a href="#l63.42"></a><span id="l63.42">     {</span>
<a href="#l63.43"></a><span id="l63.43">       SetTextboxFocus(gNewRowCount &lt; gRowCount ? gDialog.TableRowsInput : gDialog.TableColumnsInput);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdTableProps.xul</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdTableProps.xul</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l64.4"></a><span id="l64.4"> </span>
<a href="#l64.5"></a><span id="l64.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l64.6"></a><span id="l64.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l64.7"></a><span id="l64.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l64.8"></a><span id="l64.8"> </span>
<a href="#l64.9"></a><span id="l64.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l64.10"></a><span id="l64.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l64.11"></a><span id="l64.11"> </span>
<a href="#l64.12"></a><span id="l64.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l64.13"></a><span id="l64.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l64.14"></a><span id="l64.14"> </span>
<a href="#l64.15"></a><span id="l64.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorTableProperties.dtd&quot;&gt;</span>
<a href="#l64.16"></a><span id="l64.16"> </span>
<a href="#l64.17"></a><span id="l64.17"> &lt;dialog title=&quot;&amp;tableWindow.title;&quot;</span>
<a href="#l64.18"></a><span id="l64.18">     id=&quot;tableDlg&quot;</span>
<a href="#l64.19"></a><span id="l64.19">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l64.20"></a><span id="l64.20">     onload=&quot;Startup()&quot;</span>
<a href="#l64.21"></a><span id="l64.21">     buttons=&quot;accept,extra1,cancel&quot;</span>
<a href="#l64.22"></a><span id="l64.22" class="difflineat">@@ -166,17 +166,17 @@</span>
<a href="#l64.23"></a><span id="l64.23">                 &lt;image/&gt;</span>
<a href="#l64.24"></a><span id="l64.24">                 &lt;label value=&quot;&amp;cellSelectNext.label;&quot;</span>
<a href="#l64.25"></a><span id="l64.25">                        accesskey=&quot;&amp;cellSelectNext.accessKey;&quot;</span>
<a href="#l64.26"></a><span id="l64.26">                        control=&quot;NextButton&quot;/&gt;</span>
<a href="#l64.27"></a><span id="l64.27">               &lt;/button&gt;</span>
<a href="#l64.28"></a><span id="l64.28">             &lt;/hbox&gt;</span>
<a href="#l64.29"></a><span id="l64.29">           &lt;/vbox&gt;</span>
<a href="#l64.30"></a><span id="l64.30">           &lt;spacer class=&quot;bigspacer&quot;/&gt;</span>
<a href="#l64.31"></a><span id="l64.31" class="difflineminus">-            &lt;description class=&quot;wrap&quot; flex=&quot;1&quot;&gt;&amp;applyBeforeChange.label;&lt;/description&gt; </span>
<a href="#l64.32"></a><span id="l64.32" class="difflineplus">+            &lt;description class=&quot;wrap&quot; flex=&quot;1&quot;&gt;&amp;applyBeforeChange.label;&lt;/description&gt;</span>
<a href="#l64.33"></a><span id="l64.33">         &lt;/groupbox&gt;</span>
<a href="#l64.34"></a><span id="l64.34">         &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l64.35"></a><span id="l64.35">           &lt;!-- cell size groupbox --&gt;</span>
<a href="#l64.36"></a><span id="l64.36">           &lt;groupbox&gt;&lt;caption label=&quot;&amp;size.label;&quot;/&gt;</span>
<a href="#l64.37"></a><span id="l64.37">             &lt;grid&gt;</span>
<a href="#l64.38"></a><span id="l64.38">               &lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;column flex=&quot;1&quot;/&gt;&lt;/columns&gt;</span>
<a href="#l64.39"></a><span id="l64.39">               &lt;rows&gt;</span>
<a href="#l64.40"></a><span id="l64.40">                 &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l64.41"></a><span id="l64.41" class="difflineat">@@ -255,12 +255,12 @@</span>
<a href="#l64.42"></a><span id="l64.42">         &lt;separator class=&quot;groove&quot;/&gt;</span>
<a href="#l64.43"></a><span id="l64.43">         &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l64.44"></a><span id="l64.44">           &lt;description class=&quot;wrap&quot; flex=&quot;1&quot; style=&quot;width: 1em&quot;&gt;&amp;cellUseCheckboxHelp.label;&lt;/description&gt;</span>
<a href="#l64.45"></a><span id="l64.45">           &lt;!-- From EdDialogOvlerlay.xul --&gt;</span>
<a href="#l64.46"></a><span id="l64.46">           &lt;button id=&quot;AdvancedEditButton2&quot;/&gt;</span>
<a href="#l64.47"></a><span id="l64.47">         &lt;/hbox&gt;</span>
<a href="#l64.48"></a><span id="l64.48">         &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l64.49"></a><span id="l64.49">       &lt;/vbox&gt;&lt;!-- Cell Panel --&gt;</span>
<a href="#l64.50"></a><span id="l64.50" class="difflineminus">-    &lt;/tabpanels&gt; </span>
<a href="#l64.51"></a><span id="l64.51" class="difflineplus">+    &lt;/tabpanels&gt;</span>
<a href="#l64.52"></a><span id="l64.52">   &lt;/tabbox&gt;</span>
<a href="#l64.53"></a><span id="l64.53">   &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l64.54"></a><span id="l64.54"> &lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdTextAreaProps.js</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdTextAreaProps.js</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineat">@@ -67,17 +67,17 @@ function Startup()</span>
<a href="#l65.4"></a><span id="l65.4">   // Make a copy to use for AdvancedEdit</span>
<a href="#l65.5"></a><span id="l65.5">   globalElement = textareaElement.cloneNode(false);</span>
<a href="#l65.6"></a><span id="l65.6"> </span>
<a href="#l65.7"></a><span id="l65.7">   InitDialog();</span>
<a href="#l65.8"></a><span id="l65.8"> </span>
<a href="#l65.9"></a><span id="l65.9">   InitMoreFewer();</span>
<a href="#l65.10"></a><span id="l65.10"> </span>
<a href="#l65.11"></a><span id="l65.11">   SetTextboxFocus(gDialog.textareaName);</span>
<a href="#l65.12"></a><span id="l65.12" class="difflineminus">-  </span>
<a href="#l65.13"></a><span id="l65.13" class="difflineplus">+</span>
<a href="#l65.14"></a><span id="l65.14">   SetWindowLocation();</span>
<a href="#l65.15"></a><span id="l65.15"> }</span>
<a href="#l65.16"></a><span id="l65.16"> </span>
<a href="#l65.17"></a><span id="l65.17"> function InitDialog()</span>
<a href="#l65.18"></a><span id="l65.18"> {</span>
<a href="#l65.19"></a><span id="l65.19">   gDialog.textareaName.value = globalElement.getAttribute(&quot;name&quot;);</span>
<a href="#l65.20"></a><span id="l65.20">   gDialog.textareaRows.value = globalElement.getAttribute(&quot;rows&quot;);</span>
<a href="#l65.21"></a><span id="l65.21">   gDialog.textareaCols.value = globalElement.getAttribute(&quot;cols&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdTextAreaProps.xul</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdTextAreaProps.xul</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l66.4"></a><span id="l66.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l66.5"></a><span id="l66.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l66.6"></a><span id="l66.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l66.7"></a><span id="l66.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l66.8"></a><span id="l66.8"> </span>
<a href="#l66.9"></a><span id="l66.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l66.10"></a><span id="l66.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l66.11"></a><span id="l66.11"> </span>
<a href="#l66.12"></a><span id="l66.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l66.13"></a><span id="l66.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l66.14"></a><span id="l66.14"> </span>
<a href="#l66.15"></a><span id="l66.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorTextAreaProperties.dtd&quot;&gt;</span>
<a href="#l66.16"></a><span id="l66.16"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l66.17"></a><span id="l66.17">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l66.18"></a><span id="l66.18">         onload=&quot;Startup();&quot;</span>
<a href="#l66.19"></a><span id="l66.19">         buttons=&quot;accept,cancel&quot;</span>
<a href="#l66.20"></a><span id="l66.20">         ondialogaccept=&quot;return onAccept();&quot;</span>
<a href="#l66.21"></a><span id="l66.21">         ondialogcancel=&quot;return onCancel();&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditConflict.js</span>
<a href="#l67.2"></a><span id="l67.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditConflict.js</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineat">@@ -5,17 +5,17 @@</span>
<a href="#l67.4"></a><span id="l67.4"> // dialog initialization code</span>
<a href="#l67.5"></a><span id="l67.5"> function Startup()</span>
<a href="#l67.6"></a><span id="l67.6"> {</span>
<a href="#l67.7"></a><span id="l67.7">   if (!GetCurrentEditor())</span>
<a href="#l67.8"></a><span id="l67.8">   {</span>
<a href="#l67.9"></a><span id="l67.9">     window.close();</span>
<a href="#l67.10"></a><span id="l67.10">     return;</span>
<a href="#l67.11"></a><span id="l67.11">   }</span>
<a href="#l67.12"></a><span id="l67.12" class="difflineminus">-  </span>
<a href="#l67.13"></a><span id="l67.13" class="difflineplus">+</span>
<a href="#l67.14"></a><span id="l67.14">   SetWindowLocation();</span>
<a href="#l67.15"></a><span id="l67.15"> }</span>
<a href="#l67.16"></a><span id="l67.16"> </span>
<a href="#l67.17"></a><span id="l67.17"> function KeepCurrentPage()</span>
<a href="#l67.18"></a><span id="l67.18"> {</span>
<a href="#l67.19"></a><span id="l67.19">   // Simply close dialog and don't change current page</span>
<a href="#l67.20"></a><span id="l67.20">   //TODO: Should we force saving of the current page?</span>
<a href="#l67.21"></a><span id="l67.21">   SaveWindowLocation();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditConflict.xul</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditConflict.xul</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineat">@@ -2,32 +2,32 @@</span>
<a href="#l68.4"></a><span id="l68.4"> </span>
<a href="#l68.5"></a><span id="l68.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l68.6"></a><span id="l68.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l68.7"></a><span id="l68.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l68.8"></a><span id="l68.8"> </span>
<a href="#l68.9"></a><span id="l68.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l68.10"></a><span id="l68.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l68.11"></a><span id="l68.11"> </span>
<a href="#l68.12"></a><span id="l68.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l68.13"></a><span id="l68.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l68.14"></a><span id="l68.14"> </span>
<a href="#l68.15"></a><span id="l68.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditConflict.dtd&quot;&gt;</span>
<a href="#l68.16"></a><span id="l68.16"> </span>
<a href="#l68.17"></a><span id="l68.17"> &lt;dialog buttons=&quot;cancel&quot; title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l68.18"></a><span id="l68.18">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l68.19"></a><span id="l68.19">     onload = &quot;Startup()&quot;</span>
<a href="#l68.20"></a><span id="l68.20">     ondialogcancel=&quot;return onClose();&quot;&gt;</span>
<a href="#l68.21"></a><span id="l68.21"> </span>
<a href="#l68.22"></a><span id="l68.22">   &lt;!-- Methods common to all editor dialogs --&gt;</span>
<a href="#l68.23"></a><span id="l68.23">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/editorUtilities.js&quot;/&gt;</span>
<a href="#l68.24"></a><span id="l68.24">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l68.25"></a><span id="l68.25">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/EditConflict.js&quot;/&gt;</span>
<a href="#l68.26"></a><span id="l68.26"> </span>
<a href="#l68.27"></a><span id="l68.27">   &lt;spacer id=&quot;location&quot; offsetY=&quot;50&quot; persist=&quot;offsetX offsetY&quot;/&gt;</span>
<a href="#l68.28"></a><span id="l68.28" class="difflineminus">-  </span>
<a href="#l68.29"></a><span id="l68.29" class="difflineplus">+</span>
<a href="#l68.30"></a><span id="l68.30">   &lt;label value =&quot;&amp;conflictWarning.label;&quot;/&gt;</span>
<a href="#l68.31"></a><span id="l68.31">   &lt;spacer class=&quot;bigspacer&quot;/&gt;</span>
<a href="#l68.32"></a><span id="l68.32">   &lt;label value =&quot;&amp;conflictResolve.label;&quot;/&gt;</span>
<a href="#l68.33"></a><span id="l68.33">   &lt;spacer class=&quot;bigspacer&quot;/&gt;</span>
<a href="#l68.34"></a><span id="l68.34">   &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l68.35"></a><span id="l68.35">     &lt;spacer class=&quot;bigspacer&quot;/&gt;</span>
<a href="#l68.36"></a><span id="l68.36">     &lt;button label=&quot;&amp;keepCurrentPageButton.label;&quot;</span>
<a href="#l68.37"></a><span id="l68.37">             oncommand=&quot;KeepCurrentPage()&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditorPublish.js</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditorPublish.js</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineat">@@ -101,17 +101,17 @@ function Startup()</span>
<a href="#l69.4"></a><span id="l69.4">           gPublishSiteData[siteIndex].docDir = docDir;</span>
<a href="#l69.5"></a><span id="l69.5"> </span>
<a href="#l69.6"></a><span id="l69.6">           //XXX HOW DO WE DECIDE WHAT &quot;OTHER&quot; DIR TO USE?</span>
<a href="#l69.7"></a><span id="l69.7">           //gPublishSiteData[siteIndex].otherDir = docDir;</span>
<a href="#l69.8"></a><span id="l69.8">         }</span>
<a href="#l69.9"></a><span id="l69.9">       }</span>
<a href="#l69.10"></a><span id="l69.10">       if (!siteFound)</span>
<a href="#l69.11"></a><span id="l69.11">       {</span>
<a href="#l69.12"></a><span id="l69.12" class="difflineminus">-        // Not found in site database </span>
<a href="#l69.13"></a><span id="l69.13" class="difflineplus">+        // Not found in site database</span>
<a href="#l69.14"></a><span id="l69.14">         // Setup for a new site and use data from a remote URL</span>
<a href="#l69.15"></a><span id="l69.15">         if (!addNewSite)</span>
<a href="#l69.16"></a><span id="l69.16">           AddNewSite();</span>
<a href="#l69.17"></a><span id="l69.17"> </span>
<a href="#l69.18"></a><span id="l69.18">         addNewSite = true;</span>
<a href="#l69.19"></a><span id="l69.19"> </span>
<a href="#l69.20"></a><span id="l69.20">         var publishData = CreatePublishDataFromUrl(docUrl);</span>
<a href="#l69.21"></a><span id="l69.21">         if (publishData)</span>
<a href="#l69.22"></a><span id="l69.22" class="difflineat">@@ -128,34 +128,34 @@ function Startup()</span>
<a href="#l69.23"></a><span id="l69.23">     }</span>
<a href="#l69.24"></a><span id="l69.24">   }</span>
<a href="#l69.25"></a><span id="l69.25">   try {</span>
<a href="#l69.26"></a><span id="l69.26">     gPreviousTitle = GetDocumentTitle();</span>
<a href="#l69.27"></a><span id="l69.27">   } catch (e) {}</span>
<a href="#l69.28"></a><span id="l69.28"> </span>
<a href="#l69.29"></a><span id="l69.29">   gDialog.PageTitleInput.value = gPreviousTitle;</span>
<a href="#l69.30"></a><span id="l69.30">   gDialog.FilenameInput.value = decodeURIComponent(filename);</span>
<a href="#l69.31"></a><span id="l69.31" class="difflineminus">-  </span>
<a href="#l69.32"></a><span id="l69.32" class="difflineplus">+</span>
<a href="#l69.33"></a><span id="l69.33">   if (!addNewSite)</span>
<a href="#l69.34"></a><span id="l69.34">   {</span>
<a href="#l69.35"></a><span id="l69.35">     // If not adding a site and we haven't selected a site -- use initial or default site</span>
<a href="#l69.36"></a><span id="l69.36">     if (gDialog.SiteList.selectedIndex == -1)</span>
<a href="#l69.37"></a><span id="l69.37">       gDialog.SiteList.selectedIndex = (gInitialSiteIndex != -1) ? gInitialSiteIndex : gDefaultSiteIndex;</span>
<a href="#l69.38"></a><span id="l69.38"> </span>
<a href="#l69.39"></a><span id="l69.39">     // Fill in  all the site data for currently-selected site</span>
<a href="#l69.40"></a><span id="l69.40">     SelectSiteList();</span>
<a href="#l69.41"></a><span id="l69.41">     SetTextboxFocus(gDialog.PageTitleInput);</span>
<a href="#l69.42"></a><span id="l69.42">   }</span>
<a href="#l69.43"></a><span id="l69.43"> </span>
<a href="#l69.44"></a><span id="l69.44">   if (gDialog.SiteList.selectedIndex == -1)</span>
<a href="#l69.45"></a><span id="l69.45">   {</span>
<a href="#l69.46"></a><span id="l69.46">     // No selected site -- assume same directory</span>
<a href="#l69.47"></a><span id="l69.47">     gDialog.OtherDirRadiogroup.selectedItem = gDialog.SameLocationRadio;</span>
<a href="#l69.48"></a><span id="l69.48">   }</span>
<a href="#l69.49"></a><span id="l69.49" class="difflineminus">-  else if (gPublishSiteData[gDialog.SiteList.selectedIndex].docDir == </span>
<a href="#l69.50"></a><span id="l69.50" class="difflineplus">+  else if (gPublishSiteData[gDialog.SiteList.selectedIndex].docDir ==</span>
<a href="#l69.51"></a><span id="l69.51">         gPublishSiteData[gDialog.SiteList.selectedIndex].otherDir)</span>
<a href="#l69.52"></a><span id="l69.52">   {</span>
<a href="#l69.53"></a><span id="l69.53">     // For now, check &quot;same location&quot; if dirs are already set to same directory</span>
<a href="#l69.54"></a><span id="l69.54">     gDialog.OtherDirRadiogroup.selectedItem = gDialog.SameLocationRadio;</span>
<a href="#l69.55"></a><span id="l69.55">   }</span>
<a href="#l69.56"></a><span id="l69.56">   else</span>
<a href="#l69.57"></a><span id="l69.57">   {</span>
<a href="#l69.58"></a><span id="l69.58">     gDialog.OtherDirRadiogroup.selectedItem = gDialog.UseSubdirRadio;</span>
<a href="#l69.59"></a><span id="l69.59" class="difflineat">@@ -200,17 +200,17 @@ function doEnabling()</span>
<a href="#l69.60"></a><span id="l69.60">   var disableOther = !gDialog.OtherDirCheckbox.checked;</span>
<a href="#l69.61"></a><span id="l69.61">   gDialog.SameLocationRadio.disabled = disableOther;</span>
<a href="#l69.62"></a><span id="l69.62">   gDialog.UseSubdirRadio.disabled = disableOther;</span>
<a href="#l69.63"></a><span id="l69.63">   gDialog.OtherDirList.disabled = (disableOther || gDialog.SameLocationRadio.selected);</span>
<a href="#l69.64"></a><span id="l69.64"> }</span>
<a href="#l69.65"></a><span id="l69.65"> </span>
<a href="#l69.66"></a><span id="l69.66"> function SelectSiteList()</span>
<a href="#l69.67"></a><span id="l69.67"> {</span>
<a href="#l69.68"></a><span id="l69.68" class="difflineminus">-  var selectedSiteIndex = gDialog.SiteList.selectedIndex;  </span>
<a href="#l69.69"></a><span id="l69.69" class="difflineplus">+  var selectedSiteIndex = gDialog.SiteList.selectedIndex;</span>
<a href="#l69.70"></a><span id="l69.70"> </span>
<a href="#l69.71"></a><span id="l69.71">   var siteName = &quot;&quot;;</span>
<a href="#l69.72"></a><span id="l69.72">   var publishUrl = &quot;&quot;;</span>
<a href="#l69.73"></a><span id="l69.73">   var browseUrl = &quot;&quot;;</span>
<a href="#l69.74"></a><span id="l69.74">   var username = &quot;&quot;;</span>
<a href="#l69.75"></a><span id="l69.75">   var password = &quot;&quot;;</span>
<a href="#l69.76"></a><span id="l69.76">   var savePassword = false;</span>
<a href="#l69.77"></a><span id="l69.77">   var publishOtherFiles = true;</span>
<a href="#l69.78"></a><span id="l69.78" class="difflineat">@@ -260,21 +260,21 @@ function SelectSiteList()</span>
<a href="#l69.79"></a><span id="l69.79"> }</span>
<a href="#l69.80"></a><span id="l69.80"> </span>
<a href="#l69.81"></a><span id="l69.81"> function AddNewSite()</span>
<a href="#l69.82"></a><span id="l69.82"> {</span>
<a href="#l69.83"></a><span id="l69.83">   // Button in Publish panel allows user</span>
<a href="#l69.84"></a><span id="l69.84">   //  to automatically switch to &quot;Settings&quot; panel</span>
<a href="#l69.85"></a><span id="l69.85">   //  to enter data for new site</span>
<a href="#l69.86"></a><span id="l69.86">   SwitchPanel(gDialog.SettingsTab);</span>
<a href="#l69.87"></a><span id="l69.87" class="difflineminus">-  </span>
<a href="#l69.88"></a><span id="l69.88" class="difflineplus">+</span>
<a href="#l69.89"></a><span id="l69.89">   gDialog.SiteList.selectedIndex = -1;</span>
<a href="#l69.90"></a><span id="l69.90"> </span>
<a href="#l69.91"></a><span id="l69.91">   SelectSiteList();</span>
<a href="#l69.92"></a><span id="l69.92" class="difflineminus">-  </span>
<a href="#l69.93"></a><span id="l69.93" class="difflineplus">+</span>
<a href="#l69.94"></a><span id="l69.94">   gSettingsChanged = true;</span>
<a href="#l69.95"></a><span id="l69.95"> </span>
<a href="#l69.96"></a><span id="l69.96">   SetTextboxFocus(gDialog.SiteNameInput);</span>
<a href="#l69.97"></a><span id="l69.97"> }</span>
<a href="#l69.98"></a><span id="l69.98"> </span>
<a href="#l69.99"></a><span id="l69.99"> function SelectPublishTab()</span>
<a href="#l69.100"></a><span id="l69.100"> {</span>
<a href="#l69.101"></a><span id="l69.101">   if (gSettingsChanged &amp;&amp; !ValidateSettings())</span>
<a href="#l69.102"></a><span id="l69.102" class="difflineat">@@ -324,80 +324,80 @@ function GetDocDirInput()</span>
<a href="#l69.103"></a><span id="l69.103"> function GetOtherDirInput()</span>
<a href="#l69.104"></a><span id="l69.104"> {</span>
<a href="#l69.105"></a><span id="l69.105">   gDialog.OtherDirList.value = FormatDirForPublishing(gDialog.OtherDirList.value);</span>
<a href="#l69.106"></a><span id="l69.106">   return gDialog.OtherDirList.value;</span>
<a href="#l69.107"></a><span id="l69.107"> }</span>
<a href="#l69.108"></a><span id="l69.108"> </span>
<a href="#l69.109"></a><span id="l69.109"> function ChooseDir(menulist)</span>
<a href="#l69.110"></a><span id="l69.110"> {</span>
<a href="#l69.111"></a><span id="l69.111" class="difflineminus">-  //TODO: For FTP publish destinations, get file listing of just dirs </span>
<a href="#l69.112"></a><span id="l69.112" class="difflineplus">+  //TODO: For FTP publish destinations, get file listing of just dirs</span>
<a href="#l69.113"></a><span id="l69.113">   //  and build a tree to let user select dir</span>
<a href="#l69.114"></a><span id="l69.114"> }</span>
<a href="#l69.115"></a><span id="l69.115"> </span>
<a href="#l69.116"></a><span id="l69.116"> function ValidateSettings()</span>
<a href="#l69.117"></a><span id="l69.117"> {</span>
<a href="#l69.118"></a><span id="l69.118">   var siteName = TrimString(gDialog.SiteNameInput.value);</span>
<a href="#l69.119"></a><span id="l69.119">   if (!siteName)</span>
<a href="#l69.120"></a><span id="l69.120">   {</span>
<a href="#l69.121"></a><span id="l69.121">     ShowErrorInPanel(gDialog.SettingsTab, &quot;MissingSiteNameError&quot;, gDialog.SiteNameInput);</span>
<a href="#l69.122"></a><span id="l69.122">     return false;</span>
<a href="#l69.123"></a><span id="l69.123">   }</span>
<a href="#l69.124"></a><span id="l69.124">   if (PublishSiteNameExists(siteName, gPublishSiteData, gDialog.SiteList.selectedIndex))</span>
<a href="#l69.125"></a><span id="l69.125">   {</span>
<a href="#l69.126"></a><span id="l69.126">     SwitchPanel(gDialog.SettingsTab);</span>
<a href="#l69.127"></a><span id="l69.127" class="difflineminus">-    ShowInputErrorMessage(GetString(&quot;DuplicateSiteNameError&quot;).replace(/%name%/, siteName));            </span>
<a href="#l69.128"></a><span id="l69.128" class="difflineplus">+    ShowInputErrorMessage(GetString(&quot;DuplicateSiteNameError&quot;).replace(/%name%/, siteName));</span>
<a href="#l69.129"></a><span id="l69.129">     SetTextboxFocus(gDialog.SiteNameInput);</span>
<a href="#l69.130"></a><span id="l69.130">     return false;</span>
<a href="#l69.131"></a><span id="l69.131">   }</span>
<a href="#l69.132"></a><span id="l69.132"> </span>
<a href="#l69.133"></a><span id="l69.133">   // Extract username and password while removing them from publishingUrl</span>
<a href="#l69.134"></a><span id="l69.134">   var urlUserObj = {};</span>
<a href="#l69.135"></a><span id="l69.135">   var urlPassObj = {};</span>
<a href="#l69.136"></a><span id="l69.136">   var publishUrl = StripUsernamePassword(gDialog.PublishUrlInput.value, urlUserObj, urlPassObj);</span>
<a href="#l69.137"></a><span id="l69.137">   if (publishUrl)</span>
<a href="#l69.138"></a><span id="l69.138">   {</span>
<a href="#l69.139"></a><span id="l69.139">     publishUrl = FormatUrlForPublishing(publishUrl);</span>
<a href="#l69.140"></a><span id="l69.140"> </span>
<a href="#l69.141"></a><span id="l69.141">     // Assume scheme = &quot;ftp://&quot; if missing</span>
<a href="#l69.142"></a><span id="l69.142">     // This compensates when user enters hostname w/o scheme (as most ISPs provide)</span>
<a href="#l69.143"></a><span id="l69.143">     if (!GetScheme(publishUrl))</span>
<a href="#l69.144"></a><span id="l69.144" class="difflineminus">-      publishUrl = &quot;ftp://&quot; + publishUrl; </span>
<a href="#l69.145"></a><span id="l69.145" class="difflineplus">+      publishUrl = &quot;ftp://&quot; + publishUrl;</span>
<a href="#l69.146"></a><span id="l69.146"> </span>
<a href="#l69.147"></a><span id="l69.147">     gDialog.PublishUrlInput.value = publishUrl;</span>
<a href="#l69.148"></a><span id="l69.148">   }</span>
<a href="#l69.149"></a><span id="l69.149">   else</span>
<a href="#l69.150"></a><span id="l69.150">   {</span>
<a href="#l69.151"></a><span id="l69.151">     ShowErrorInPanel(gDialog.SettingsTab, &quot;MissingPublishUrlError&quot;, gDialog.PublishUrlInput);</span>
<a href="#l69.152"></a><span id="l69.152">     return false;</span>
<a href="#l69.153"></a><span id="l69.153">   }</span>
<a href="#l69.154"></a><span id="l69.154">   var browseUrl = GetBrowseUrlInput();</span>
<a href="#l69.155"></a><span id="l69.155"> </span>
<a href="#l69.156"></a><span id="l69.156">   var username = TrimString(gDialog.UsernameInput.value);</span>
<a href="#l69.157"></a><span id="l69.157">   var savePassword = gDialog.SavePassword.checked;</span>
<a href="#l69.158"></a><span id="l69.158">   var password = gDialog.PasswordInput.value;</span>
<a href="#l69.159"></a><span id="l69.159">   var publishOtherFiles = gDialog.OtherDirCheckbox.checked;</span>
<a href="#l69.160"></a><span id="l69.160" class="difflineminus">-  </span>
<a href="#l69.161"></a><span id="l69.161" class="difflineminus">-  //XXX If there was a username and/or password in the publishUrl </span>
<a href="#l69.162"></a><span id="l69.162" class="difflineplus">+</span>
<a href="#l69.163"></a><span id="l69.163" class="difflineplus">+  //XXX If there was a username and/or password in the publishUrl</span>
<a href="#l69.164"></a><span id="l69.164">   //    AND in the input field, which do we use?</span>
<a href="#l69.165"></a><span id="l69.165" class="difflineminus">-  //    Let's use those in url only if input is empty </span>
<a href="#l69.166"></a><span id="l69.166" class="difflineplus">+  //    Let's use those in url only if input is empty</span>
<a href="#l69.167"></a><span id="l69.167">   if (!username)</span>
<a href="#l69.168"></a><span id="l69.168">   {</span>
<a href="#l69.169"></a><span id="l69.169">     username = urlUserObj.value;</span>
<a href="#l69.170"></a><span id="l69.170">     gDialog.UsernameInput.value = username;</span>
<a href="#l69.171"></a><span id="l69.171">     gSettingsChanged = true;</span>
<a href="#l69.172"></a><span id="l69.172">   }</span>
<a href="#l69.173"></a><span id="l69.173">   if (!password)</span>
<a href="#l69.174"></a><span id="l69.174">   {</span>
<a href="#l69.175"></a><span id="l69.175">     password = urlPassObj.value;</span>
<a href="#l69.176"></a><span id="l69.176">     gDialog.PasswordInput.value = password;</span>
<a href="#l69.177"></a><span id="l69.177">     gSettingsChanged = true;</span>
<a href="#l69.178"></a><span id="l69.178">   }</span>
<a href="#l69.179"></a><span id="l69.179"> </span>
<a href="#l69.180"></a><span id="l69.180" class="difflineminus">-  // Update or add data for a site </span>
<a href="#l69.181"></a><span id="l69.181" class="difflineplus">+  // Update or add data for a site</span>
<a href="#l69.182"></a><span id="l69.182">   var siteIndex = gDialog.SiteList.selectedIndex;</span>
<a href="#l69.183"></a><span id="l69.183">   var newSite = false;</span>
<a href="#l69.184"></a><span id="l69.184"> </span>
<a href="#l69.185"></a><span id="l69.185">   if (siteIndex == -1)</span>
<a href="#l69.186"></a><span id="l69.186">   {</span>
<a href="#l69.187"></a><span id="l69.187">     // No site is selected, add a new site at the end</span>
<a href="#l69.188"></a><span id="l69.188">     if (gPublishSiteData)</span>
<a href="#l69.189"></a><span id="l69.189">     {</span>
<a href="#l69.190"></a><span id="l69.190" class="difflineat">@@ -405,17 +405,17 @@ function ValidateSettings()</span>
<a href="#l69.191"></a><span id="l69.191">     }</span>
<a href="#l69.192"></a><span id="l69.192">     else</span>
<a href="#l69.193"></a><span id="l69.193">     {</span>
<a href="#l69.194"></a><span id="l69.194">       // First time: start entire site array</span>
<a href="#l69.195"></a><span id="l69.195">       gPublishSiteData = new Array(1);</span>
<a href="#l69.196"></a><span id="l69.196">       siteIndex = 0;</span>
<a href="#l69.197"></a><span id="l69.197">       gDefaultSiteIndex = 0;</span>
<a href="#l69.198"></a><span id="l69.198">       gDefaultSiteName = siteName;</span>
<a href="#l69.199"></a><span id="l69.199" class="difflineminus">-    }    </span>
<a href="#l69.200"></a><span id="l69.200" class="difflineplus">+    }</span>
<a href="#l69.201"></a><span id="l69.201">     gPublishSiteData[siteIndex] = {};</span>
<a href="#l69.202"></a><span id="l69.202">     gPublishSiteData[siteIndex].docDir = &quot;&quot;;</span>
<a href="#l69.203"></a><span id="l69.203">     gPublishSiteData[siteIndex].otherDir = &quot;&quot;;</span>
<a href="#l69.204"></a><span id="l69.204">     gPublishSiteData[siteIndex].dirList = [&quot;&quot;];</span>
<a href="#l69.205"></a><span id="l69.205">     gPublishSiteData[siteIndex].publishOtherFiles = true;</span>
<a href="#l69.206"></a><span id="l69.206">     gPublishSiteData[siteIndex].previousSiteName = siteName;</span>
<a href="#l69.207"></a><span id="l69.207">     newSite = true;</span>
<a href="#l69.208"></a><span id="l69.208">   }</span>
<a href="#l69.209"></a><span id="l69.209" class="difflineat">@@ -446,32 +446,32 @@ function ValidateSettings()</span>
<a href="#l69.210"></a><span id="l69.210">   // Rebuild the site menulist if we added a new site</span>
<a href="#l69.211"></a><span id="l69.211">   if (newSite)</span>
<a href="#l69.212"></a><span id="l69.212">   {</span>
<a href="#l69.213"></a><span id="l69.213">     FillSiteList();</span>
<a href="#l69.214"></a><span id="l69.214">     gDialog.SiteList.selectedIndex = siteIndex;</span>
<a href="#l69.215"></a><span id="l69.215">   }</span>
<a href="#l69.216"></a><span id="l69.216">   else</span>
<a href="#l69.217"></a><span id="l69.217">   {</span>
<a href="#l69.218"></a><span id="l69.218" class="difflineminus">-    // Update selected item if sitename changed </span>
<a href="#l69.219"></a><span id="l69.219" class="difflineplus">+    // Update selected item if sitename changed</span>
<a href="#l69.220"></a><span id="l69.220">     var selectedItem = gDialog.SiteList.selectedItem;</span>
<a href="#l69.221"></a><span id="l69.221">     if (selectedItem)</span>
<a href="#l69.222"></a><span id="l69.222">     {</span>
<a href="#l69.223"></a><span id="l69.223">       var oldName = selectedItem.getAttribute(&quot;label&quot;);</span>
<a href="#l69.224"></a><span id="l69.224">       if (oldName != siteName)</span>
<a href="#l69.225"></a><span id="l69.225">       {</span>
<a href="#l69.226"></a><span id="l69.226">         selectedItem.setAttribute(&quot;label&quot;, siteName);</span>
<a href="#l69.227"></a><span id="l69.227">         gDialog.SiteList.setAttribute(&quot;label&quot;, siteName);</span>
<a href="#l69.228"></a><span id="l69.228">         gSettingsChanged = true;</span>
<a href="#l69.229"></a><span id="l69.229">         if (oldName == gDefaultSiteName)</span>
<a href="#l69.230"></a><span id="l69.230">           gDefaultSiteName = siteName;</span>
<a href="#l69.231"></a><span id="l69.231">       }</span>
<a href="#l69.232"></a><span id="l69.232">     }</span>
<a href="#l69.233"></a><span id="l69.233">   }</span>
<a href="#l69.234"></a><span id="l69.234" class="difflineminus">-  </span>
<a href="#l69.235"></a><span id="l69.235" class="difflineplus">+</span>
<a href="#l69.236"></a><span id="l69.236">   // Get the directory name in site to publish to</span>
<a href="#l69.237"></a><span id="l69.237">   var docDir = GetDocDirInput();</span>
<a href="#l69.238"></a><span id="l69.238"> </span>
<a href="#l69.239"></a><span id="l69.239">   gPublishSiteData[siteIndex].docDir = docDir;</span>
<a href="#l69.240"></a><span id="l69.240"> </span>
<a href="#l69.241"></a><span id="l69.241">   // And directory for images and other files</span>
<a href="#l69.242"></a><span id="l69.242">   var otherDir = GetOtherDirInput();</span>
<a href="#l69.243"></a><span id="l69.243">   if (gDialog.SameLocationRadio.selected)</span>
<a href="#l69.244"></a><span id="l69.244" class="difflineat">@@ -482,17 +482,17 @@ function ValidateSettings()</span>
<a href="#l69.245"></a><span id="l69.245">   gPublishSiteData[siteIndex].otherDir = otherDir;</span>
<a href="#l69.246"></a><span id="l69.246"> </span>
<a href="#l69.247"></a><span id="l69.247">   // Fill return data object</span>
<a href="#l69.248"></a><span id="l69.248">   gReturnData.siteName = siteName;</span>
<a href="#l69.249"></a><span id="l69.249">   gReturnData.previousSiteName = gPublishSiteData[siteIndex].previousSiteName;</span>
<a href="#l69.250"></a><span id="l69.250">   gReturnData.publishUrl = publishUrl;</span>
<a href="#l69.251"></a><span id="l69.251">   gReturnData.browseUrl = browseUrl;</span>
<a href="#l69.252"></a><span id="l69.252">   gReturnData.username = username;</span>
<a href="#l69.253"></a><span id="l69.253" class="difflineminus">-  // Note that we use the password for the next publish action </span>
<a href="#l69.254"></a><span id="l69.254" class="difflineplus">+  // Note that we use the password for the next publish action</span>
<a href="#l69.255"></a><span id="l69.255">   // even if savePassword is false; but we won't save it in PasswordManager database</span>
<a href="#l69.256"></a><span id="l69.256">   gReturnData.password = password;</span>
<a href="#l69.257"></a><span id="l69.257">   gReturnData.savePassword = savePassword;</span>
<a href="#l69.258"></a><span id="l69.258">   gReturnData.docDir = gPublishSiteData[siteIndex].docDir;</span>
<a href="#l69.259"></a><span id="l69.259">   gReturnData.otherDir = gPublishSiteData[siteIndex].otherDir;</span>
<a href="#l69.260"></a><span id="l69.260">   gReturnData.publishOtherFiles = publishOtherFiles;</span>
<a href="#l69.261"></a><span id="l69.261">   gReturnData.dirList = gPublishSiteData[siteIndex].dirList;</span>
<a href="#l69.262"></a><span id="l69.262">   return true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditorPublish.xul</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditorPublish.xul</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l70.4"></a><span id="l70.4"> </span>
<a href="#l70.5"></a><span id="l70.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l70.6"></a><span id="l70.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l70.7"></a><span id="l70.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l70.8"></a><span id="l70.8"> </span>
<a href="#l70.9"></a><span id="l70.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l70.10"></a><span id="l70.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l70.11"></a><span id="l70.11"> </span>
<a href="#l70.12"></a><span id="l70.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l70.13"></a><span id="l70.13" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EditorPublishOverlay.xul&quot;?&gt; </span>
<a href="#l70.14"></a><span id="l70.14" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l70.15"></a><span id="l70.15" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EditorPublishOverlay.xul&quot;?&gt;</span>
<a href="#l70.16"></a><span id="l70.16"> </span>
<a href="#l70.17"></a><span id="l70.17"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorPublish.dtd&quot;&gt;</span>
<a href="#l70.18"></a><span id="l70.18"> </span>
<a href="#l70.19"></a><span id="l70.19"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l70.20"></a><span id="l70.20">         id=&quot;publishDlg&quot;</span>
<a href="#l70.21"></a><span id="l70.21">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l70.22"></a><span id="l70.22">         onload=&quot;Startup()&quot;</span>
<a href="#l70.23"></a><span id="l70.23">         buttons=&quot;accept,cancel&quot;</span>
<a href="#l70.24"></a><span id="l70.24" class="difflineat">@@ -42,32 +42,32 @@</span>
<a href="#l70.25"></a><span id="l70.25">         &lt;grid pack=&quot;start&quot;&gt;</span>
<a href="#l70.26"></a><span id="l70.26">           &lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l70.27"></a><span id="l70.27">           &lt;rows&gt;</span>
<a href="#l70.28"></a><span id="l70.28">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l70.29"></a><span id="l70.29">               &lt;label value=&quot;&amp;siteList.label;&quot;</span>
<a href="#l70.30"></a><span id="l70.30">                      accesskey=&quot;&amp;siteList.accesskey;&quot;</span>
<a href="#l70.31"></a><span id="l70.31">                      control=&quot;SiteList&quot;/&gt;</span>
<a href="#l70.32"></a><span id="l70.32">               &lt;!-- Contents filled in at runtime --&gt;</span>
<a href="#l70.33"></a><span id="l70.33" class="difflineminus">-              &lt;menulist id=&quot;SiteList&quot; </span>
<a href="#l70.34"></a><span id="l70.34" class="difflineplus">+              &lt;menulist id=&quot;SiteList&quot;</span>
<a href="#l70.35"></a><span id="l70.35">                 style=&quot;min-width:18em; max-width:18em;&quot; crop=&quot;right&quot;</span>
<a href="#l70.36"></a><span id="l70.36">                 tooltiptext=&quot;&amp;siteList.tooltip;&quot;</span>
<a href="#l70.37"></a><span id="l70.37">                 oncommand=&quot;SelectSiteList();&quot;/&gt;</span>
<a href="#l70.38"></a><span id="l70.38">               &lt;hbox&gt;</span>
<a href="#l70.39"></a><span id="l70.39">                 &lt;button label=&quot;&amp;newSiteButton.label;&quot;</span>
<a href="#l70.40"></a><span id="l70.40">                         accesskey=&quot;&amp;newSiteButton.accesskey;&quot;</span>
<a href="#l70.41"></a><span id="l70.41">                         oncommand=&quot;AddNewSite();&quot;/&gt;</span>
<a href="#l70.42"></a><span id="l70.42">                 &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l70.43"></a><span id="l70.43">               &lt;/hbox&gt;</span>
<a href="#l70.44"></a><span id="l70.44">             &lt;/row&gt;</span>
<a href="#l70.45"></a><span id="l70.45">             &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l70.46"></a><span id="l70.46">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l70.47"></a><span id="l70.47">               &lt;label value=&quot;&amp;pageTitle.label;&quot; accesskey=&quot;&amp;pageTitle.accesskey;&quot;</span>
<a href="#l70.48"></a><span id="l70.48">                      control=&quot;PageTitleInput&quot;/&gt;</span>
<a href="#l70.49"></a><span id="l70.49" class="difflineminus">-              &lt;textbox id=&quot;PageTitleInput&quot; </span>
<a href="#l70.50"></a><span id="l70.50" class="difflineplus">+              &lt;textbox id=&quot;PageTitleInput&quot;</span>
<a href="#l70.51"></a><span id="l70.51">                 tooltiptext=&quot;&amp;pageTitle.tooltip;&quot; class=&quot;minWidth15&quot;/&gt;</span>
<a href="#l70.52"></a><span id="l70.52">               &lt;label value=&quot;&amp;pageTitleExample.label;&quot;/&gt;</span>
<a href="#l70.53"></a><span id="l70.53">             &lt;/row&gt;</span>
<a href="#l70.54"></a><span id="l70.54">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l70.55"></a><span id="l70.55">               &lt;label value=&quot;&amp;filename.label;&quot; accesskey=&quot;&amp;filename.accesskey;&quot;</span>
<a href="#l70.56"></a><span id="l70.56">                      control=&quot;FilenameInput&quot;/&gt;</span>
<a href="#l70.57"></a><span id="l70.57">               &lt;textbox id=&quot;FilenameInput&quot;</span>
<a href="#l70.58"></a><span id="l70.58">                 tooltiptext=&quot;&amp;filename.tooltip;&quot; class=&quot;minWidth15 uri-element&quot;/&gt;</span>
<a href="#l70.59"></a><span id="l70.59" class="difflineat">@@ -82,17 +82,17 @@</span>
<a href="#l70.60"></a><span id="l70.60">         &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l70.61"></a><span id="l70.61">           &lt;!-- Contents filled in at runtime --&gt;</span>
<a href="#l70.62"></a><span id="l70.62">           &lt;menulist id=&quot;DocDirList&quot; class=&quot;minWidth20 uri-element&quot; editable=&quot;true&quot;  flex=&quot;1&quot;</span>
<a href="#l70.63"></a><span id="l70.63">                     tooltiptext=&quot;&amp;docDirList.tooltip;&quot; oninput=&quot;onInputSettings();&quot;/&gt;</span>
<a href="#l70.64"></a><span id="l70.64">         &lt;/hbox&gt;</span>
<a href="#l70.65"></a><span id="l70.65">         &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l70.66"></a><span id="l70.66">         &lt;groupbox&gt;</span>
<a href="#l70.67"></a><span id="l70.67">           &lt;caption&gt;</span>
<a href="#l70.68"></a><span id="l70.68" class="difflineminus">-            &lt;checkbox id=&quot;OtherDirCheckbox&quot; label=&quot;&amp;publishImgCheckbox.label;&quot; </span>
<a href="#l70.69"></a><span id="l70.69" class="difflineplus">+            &lt;checkbox id=&quot;OtherDirCheckbox&quot; label=&quot;&amp;publishImgCheckbox.label;&quot;</span>
<a href="#l70.70"></a><span id="l70.70">                       accesskey=&quot;&amp;publishImgCheckbox.accesskey;&quot;</span>
<a href="#l70.71"></a><span id="l70.71">                       tooltiptext=&quot;&amp;publishImgCheckbox.tooltip;&quot;</span>
<a href="#l70.72"></a><span id="l70.72">                       oncommand=&quot;doEnabling();&quot;/&gt;</span>
<a href="#l70.73"></a><span id="l70.73">           &lt;/caption&gt;</span>
<a href="#l70.74"></a><span id="l70.74">           &lt;vbox&gt;</span>
<a href="#l70.75"></a><span id="l70.75">           &lt;radiogroup id=&quot;OtherDirRadiogroup&quot;&gt;</span>
<a href="#l70.76"></a><span id="l70.76">             &lt;hbox&gt;</span>
<a href="#l70.77"></a><span id="l70.77">               &lt;spacer class=&quot;checkbox-spacer&quot;/&gt;</span>
<a href="#l70.78"></a><span id="l70.78" class="difflineat">@@ -122,11 +122,11 @@</span>
<a href="#l70.79"></a><span id="l70.79">         &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l70.80"></a><span id="l70.80">       &lt;/vbox&gt;&lt;!-- Publish Panel --&gt;</span>
<a href="#l70.81"></a><span id="l70.81"> </span>
<a href="#l70.82"></a><span id="l70.82">       &lt;!-- SETTINGS PANEL --&gt;</span>
<a href="#l70.83"></a><span id="l70.83">       &lt;hbox id=&quot;SettingsPanel&quot;&gt;</span>
<a href="#l70.84"></a><span id="l70.84">         &lt;!-- from EditorPublishOverlay.xul --&gt;</span>
<a href="#l70.85"></a><span id="l70.85">         &lt;vbox id=&quot;PublishSettingsInputs&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l70.86"></a><span id="l70.86">       &lt;/hbox&gt;&lt;!-- Settings Panel --&gt;</span>
<a href="#l70.87"></a><span id="l70.87" class="difflineminus">-    &lt;/tabpanels&gt; </span>
<a href="#l70.88"></a><span id="l70.88" class="difflineplus">+    &lt;/tabpanels&gt;</span>
<a href="#l70.89"></a><span id="l70.89">   &lt;/tabbox&gt;</span>
<a href="#l70.90"></a><span id="l70.90"> &lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditorPublishOverlay.xul</span>
<a href="#l71.2"></a><span id="l71.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditorPublishOverlay.xul</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineat">@@ -24,17 +24,17 @@</span>
<a href="#l71.4"></a><span id="l71.4">     &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l71.5"></a><span id="l71.5">     &lt;label value=&quot;&amp;siteUrl.label;&quot; accesskey=&quot;&amp;siteUrl.accesskey;&quot;</span>
<a href="#l71.6"></a><span id="l71.6">            control=&quot;PublishUrlInput&quot;/&gt;</span>
<a href="#l71.7"></a><span id="l71.7">     &lt;textbox id=&quot;PublishUrlInput&quot; class=&quot;MinWidth20em uri-element&quot;</span>
<a href="#l71.8"></a><span id="l71.8">              tooltiptext=&quot;&amp;siteUrl.tooltip;&quot; oninput=&quot;onInputSettings();&quot;/&gt;</span>
<a href="#l71.9"></a><span id="l71.9">     &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l71.10"></a><span id="l71.10">     &lt;label value=&quot;&amp;browseUrl.label;&quot; accesskey=&quot;&amp;browseUrl.accesskey;&quot;</span>
<a href="#l71.11"></a><span id="l71.11">            control=&quot;BrowseUrlInput&quot;/&gt;</span>
<a href="#l71.12"></a><span id="l71.12" class="difflineminus">-    &lt;textbox id=&quot;BrowseUrlInput&quot; class=&quot;MinWidth20em uri-element&quot; </span>
<a href="#l71.13"></a><span id="l71.13" class="difflineplus">+    &lt;textbox id=&quot;BrowseUrlInput&quot; class=&quot;MinWidth20em uri-element&quot;</span>
<a href="#l71.14"></a><span id="l71.14">              tooltiptext=&quot;&amp;browseUrl.tooltip;&quot; oninput=&quot;onInputSettings();&quot;/&gt;</span>
<a href="#l71.15"></a><span id="l71.15">     &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l71.16"></a><span id="l71.16">   &lt;/groupbox&gt;</span>
<a href="#l71.17"></a><span id="l71.17">   &lt;groupbox id=&quot;LoginSettingsBox&quot;&gt;</span>
<a href="#l71.18"></a><span id="l71.18">     &lt;caption label=&quot;&amp;loginInfo.label;&quot;/&gt;</span>
<a href="#l71.19"></a><span id="l71.19">     &lt;grid&gt;</span>
<a href="#l71.20"></a><span id="l71.20">       &lt;columns&gt;&lt;column flex=&quot;1&quot;/&gt;&lt;column flex=&quot;3&quot;/&gt;&lt;/columns&gt;</span>
<a href="#l71.21"></a><span id="l71.21">       &lt;rows&gt;</span>
<a href="#l71.22"></a><span id="l71.22" class="difflineat">@@ -43,21 +43,21 @@</span>
<a href="#l71.23"></a><span id="l71.23">                  control=&quot;UsernameInput&quot;/&gt;</span>
<a href="#l71.24"></a><span id="l71.24">           &lt;textbox id=&quot;UsernameInput&quot; class=&quot;MinWidth10em&quot; flex=&quot;1&quot;</span>
<a href="#l71.25"></a><span id="l71.25">                    tooltiptext=&quot;&amp;username.tooltip;&quot; oninput=&quot;onInputSettings();&quot;/&gt;</span>
<a href="#l71.26"></a><span id="l71.26">         &lt;/row&gt;</span>
<a href="#l71.27"></a><span id="l71.27">         &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l71.28"></a><span id="l71.28">           &lt;label value=&quot;&amp;password.label;&quot; accesskey=&quot;&amp;password.accesskey;&quot;</span>
<a href="#l71.29"></a><span id="l71.29">                  control=&quot;PasswordInput&quot;/&gt;</span>
<a href="#l71.30"></a><span id="l71.30">           &lt;hbox&gt;</span>
<a href="#l71.31"></a><span id="l71.31" class="difflineminus">-            &lt;textbox id=&quot;PasswordInput&quot; type=&quot;password&quot; class=&quot;MinWidth5em&quot; </span>
<a href="#l71.32"></a><span id="l71.32" class="difflineplus">+            &lt;textbox id=&quot;PasswordInput&quot; type=&quot;password&quot; class=&quot;MinWidth5em&quot;</span>
<a href="#l71.33"></a><span id="l71.33">                      oninput=&quot;onInputSettings();&quot;</span>
<a href="#l71.34"></a><span id="l71.34">                      tooltiptext=&quot;&amp;password.tooltip;&quot;/&gt;</span>
<a href="#l71.35"></a><span id="l71.35">             &lt;checkbox id=&quot;SavePassword&quot; label=&quot;&amp;savePassword.label;&quot;</span>
<a href="#l71.36"></a><span id="l71.36" class="difflineminus">-                      accesskey=&quot;&amp;savePassword.accesskey;&quot; </span>
<a href="#l71.37"></a><span id="l71.37" class="difflineplus">+                      accesskey=&quot;&amp;savePassword.accesskey;&quot;</span>
<a href="#l71.38"></a><span id="l71.38">                       tooltiptext=&quot;&amp;savePassword.tooltip;&quot;</span>
<a href="#l71.39"></a><span id="l71.39">                       oncommand=&quot;onInputSettings();&quot;/&gt;</span>
<a href="#l71.40"></a><span id="l71.40">           &lt;/hbox&gt;</span>
<a href="#l71.41"></a><span id="l71.41">         &lt;/row&gt;</span>
<a href="#l71.42"></a><span id="l71.42">       &lt;/rows&gt;</span>
<a href="#l71.43"></a><span id="l71.43">     &lt;/grid&gt;</span>
<a href="#l71.44"></a><span id="l71.44">     &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l71.45"></a><span id="l71.45">   &lt;/groupbox&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditorPublishProgress.js</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditorPublishProgress.js</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineat">@@ -74,30 +74,30 @@ function Startup()</span>
<a href="#l72.4"></a><span id="l72.4">   gDialog.Close              = document.documentElement.getButton(&quot;cancel&quot;);</span>
<a href="#l72.5"></a><span id="l72.5"> </span>
<a href="#l72.6"></a><span id="l72.6">   SetWindowLocation();</span>
<a href="#l72.7"></a><span id="l72.7">   var title = GetDocumentTitle();</span>
<a href="#l72.8"></a><span id="l72.8">   if (!title)</span>
<a href="#l72.9"></a><span id="l72.9">     title = &quot;(&quot; + opener.gUntitledString + &quot;)&quot;;</span>
<a href="#l72.10"></a><span id="l72.10">   document.title = GetString(&quot;PublishProgressCaption&quot;).replace(/%title%/, title);</span>
<a href="#l72.11"></a><span id="l72.11"> </span>
<a href="#l72.12"></a><span id="l72.12" class="difflineminus">-  document.getElementById(&quot;PublishToSite&quot;).value = </span>
<a href="#l72.13"></a><span id="l72.13" class="difflineminus">-    GetString(&quot;PublishToSite&quot;).replace(/%title%/, TruncateStringAtWordEnd(gPublishData.siteName, 25)); </span>
<a href="#l72.14"></a><span id="l72.14" class="difflineplus">+  document.getElementById(&quot;PublishToSite&quot;).value =</span>
<a href="#l72.15"></a><span id="l72.15" class="difflineplus">+    GetString(&quot;PublishToSite&quot;).replace(/%title%/, TruncateStringAtWordEnd(gPublishData.siteName, 25));</span>
<a href="#l72.16"></a><span id="l72.16"> </span>
<a href="#l72.17"></a><span id="l72.17">   // Show publishing destination URL</span>
<a href="#l72.18"></a><span id="l72.18">   document.getElementById(&quot;PublishUrl&quot;).value = gPublishData.publishUrl;</span>
<a href="#l72.19"></a><span id="l72.19" class="difflineminus">-  </span>
<a href="#l72.20"></a><span id="l72.20" class="difflineplus">+</span>
<a href="#l72.21"></a><span id="l72.21">   // Show subdirectories only if not empty</span>
<a href="#l72.22"></a><span id="l72.22">   if (gPublishData.docDir || gPublishData.otherDir)</span>
<a href="#l72.23"></a><span id="l72.23">   {</span>
<a href="#l72.24"></a><span id="l72.24">     if (gPublishData.docDir)</span>
<a href="#l72.25"></a><span id="l72.25">       document.getElementById(&quot;docDir&quot;).value = gPublishData.docDir;</span>
<a href="#l72.26"></a><span id="l72.26">     else</span>
<a href="#l72.27"></a><span id="l72.27">       document.getElementById(&quot;DocSubdir&quot;).hidden = true;</span>
<a href="#l72.28"></a><span id="l72.28" class="difflineminus">-      </span>
<a href="#l72.29"></a><span id="l72.29" class="difflineplus">+</span>
<a href="#l72.30"></a><span id="l72.30">     if (gPublishData.publishOtherFiles &amp;&amp; gPublishData.otherDir)</span>
<a href="#l72.31"></a><span id="l72.31">       document.getElementById(&quot;otherDir&quot;).value = gPublishData.otherDir;</span>
<a href="#l72.32"></a><span id="l72.32">     else</span>
<a href="#l72.33"></a><span id="l72.33">       document.getElementById(&quot;OtherSubdir&quot;).hidden = true;</span>
<a href="#l72.34"></a><span id="l72.34">   }</span>
<a href="#l72.35"></a><span id="l72.35">   else</span>
<a href="#l72.36"></a><span id="l72.36">     document.getElementById(&quot;Subdirectories&quot;).hidden = true;</span>
<a href="#l72.37"></a><span id="l72.37"> </span>
<a href="#l72.38"></a><span id="l72.38" class="difflineat">@@ -192,31 +192,31 @@ function SetProgressFinished(filename, n</span>
<a href="#l72.39"></a><span id="l72.39">     {</span>
<a href="#l72.40"></a><span id="l72.40">       case kFileNotFound:</span>
<a href="#l72.41"></a><span id="l72.41">         gFileNotFound = true;</span>
<a href="#l72.42"></a><span id="l72.42">         if (filename)</span>
<a href="#l72.43"></a><span id="l72.43">           gStatusMessage = GetString(&quot;FileNotFound&quot;).replace(/%file%/, filename);</span>
<a href="#l72.44"></a><span id="l72.44">         break;</span>
<a href="#l72.45"></a><span id="l72.45">       case kNetReset:</span>
<a href="#l72.46"></a><span id="l72.46">         // We get this when subdir doesn't exist AND</span>
<a href="#l72.47"></a><span id="l72.47" class="difflineminus">-        //   if filename used is same as an existing subdir </span>
<a href="#l72.48"></a><span id="l72.48" class="difflineminus">-        var dir = (gPublishData.filename == filename) ? </span>
<a href="#l72.49"></a><span id="l72.49" class="difflineplus">+        //   if filename used is same as an existing subdir</span>
<a href="#l72.50"></a><span id="l72.50" class="difflineplus">+        var dir = (gPublishData.filename == filename) ?</span>
<a href="#l72.51"></a><span id="l72.51">                      gPublishData.docDir : gPublishData.otherDir;</span>
<a href="#l72.52"></a><span id="l72.52"> </span>
<a href="#l72.53"></a><span id="l72.53">         if (dir)</span>
<a href="#l72.54"></a><span id="l72.54">         {</span>
<a href="#l72.55"></a><span id="l72.55">           // This is the ambiguous case when we can't tell if subdir or filename is bad</span>
<a href="#l72.56"></a><span id="l72.56">           // Remove terminal &quot;/&quot; from dir string and insert into message</span>
<a href="#l72.57"></a><span id="l72.57">           gStatusMessage = GetString(&quot;SubdirDoesNotExist&quot;).replace(/%dir%/, dir.slice(0, dir.length-1));</span>
<a href="#l72.58"></a><span id="l72.58">           gStatusMessage = gStatusMessage.replace(/%file%/, filename);</span>
<a href="#l72.59"></a><span id="l72.59"> </span>
<a href="#l72.60"></a><span id="l72.60">           // Remove directory from saved prefs</span>
<a href="#l72.61"></a><span id="l72.61" class="difflineminus">-          // XXX Note that if subdir is good, </span>
<a href="#l72.62"></a><span id="l72.62" class="difflineminus">-          //     but filename = next level subdirectory name, </span>
<a href="#l72.63"></a><span id="l72.63" class="difflineminus">-          //     we really shouldn't remove subdirectory, </span>
<a href="#l72.64"></a><span id="l72.64" class="difflineplus">+          // XXX Note that if subdir is good,</span>
<a href="#l72.65"></a><span id="l72.65" class="difflineplus">+          //     but filename = next level subdirectory name,</span>
<a href="#l72.66"></a><span id="l72.66" class="difflineplus">+          //     we really shouldn't remove subdirectory,</span>
<a href="#l72.67"></a><span id="l72.67">           //     but it's impossible to differentiate this case!</span>
<a href="#l72.68"></a><span id="l72.68">           RemovePublishSubdirectoryFromPrefs(gPublishData, dir);</span>
<a href="#l72.69"></a><span id="l72.69">         }</span>
<a href="#l72.70"></a><span id="l72.70">         else if (filename)</span>
<a href="#l72.71"></a><span id="l72.71">           gStatusMessage = GetString(&quot;FilenameIsSubdir&quot;).replace(/%file%/, filename);</span>
<a href="#l72.72"></a><span id="l72.72"> </span>
<a href="#l72.73"></a><span id="l72.73">         break;</span>
<a href="#l72.74"></a><span id="l72.74">       case kNotConnected:</span>
<a href="#l72.75"></a><span id="l72.75" class="difflineat">@@ -335,30 +335,30 @@ function onEnterKey()</span>
<a href="#l72.76"></a><span id="l72.76"> </span>
<a href="#l72.77"></a><span id="l72.77"> function RequestCloseDialog()</span>
<a href="#l72.78"></a><span id="l72.78"> {</span>
<a href="#l72.79"></a><span id="l72.79">   // Finish progress messages, settings buttons etc.</span>
<a href="#l72.80"></a><span id="l72.80">   SetProgressFinished(null, 0);</span>
<a href="#l72.81"></a><span id="l72.81"> </span>
<a href="#l72.82"></a><span id="l72.82">   if (!gDialog.KeepOpen.checked)</span>
<a href="#l72.83"></a><span id="l72.83">   {</span>
<a href="#l72.84"></a><span id="l72.84" class="difflineminus">-    // Leave window open a minimum amount of time </span>
<a href="#l72.85"></a><span id="l72.85" class="difflineplus">+    // Leave window open a minimum amount of time</span>
<a href="#l72.86"></a><span id="l72.86">     gTimerID = setTimeout(CloseDialog, 3000);</span>
<a href="#l72.87"></a><span id="l72.87">   }</span>
<a href="#l72.88"></a><span id="l72.88"> </span>
<a href="#l72.89"></a><span id="l72.89">   // Set &quot;completed&quot; message if we succeeded</span>
<a href="#l72.90"></a><span id="l72.90">   // (Some image files may have failed,</span>
<a href="#l72.91"></a><span id="l72.91">   //  but we don't abort publishing for that)</span>
<a href="#l72.92"></a><span id="l72.92">   if (!gPublishingFailed)</span>
<a href="#l72.93"></a><span id="l72.93">   {</span>
<a href="#l72.94"></a><span id="l72.94">     gDialog.FinalStatusMessage.value = GetString(&quot;PublishCompleted&quot;);</span>
<a href="#l72.95"></a><span id="l72.95">     if (gFileNotFound &amp;&amp; gTotalFileCount-gSucceededCount)</span>
<a href="#l72.96"></a><span id="l72.96">     {</span>
<a href="#l72.97"></a><span id="l72.97">       // Show number of files that failed to upload</span>
<a href="#l72.98"></a><span id="l72.98" class="difflineminus">-      gStatusMessage = </span>
<a href="#l72.99"></a><span id="l72.99" class="difflineplus">+      gStatusMessage =</span>
<a href="#l72.100"></a><span id="l72.100">         (GetString(&quot;FailedFileMsg&quot;).replace(/%x%/,(gTotalFileCount-gSucceededCount)))</span>
<a href="#l72.101"></a><span id="l72.101">           .replace(/%total%/,gTotalFileCount);</span>
<a href="#l72.102"></a><span id="l72.102"> </span>
<a href="#l72.103"></a><span id="l72.103">       SetStatusMessage(gStatusMessage);</span>
<a href="#l72.104"></a><span id="l72.104">     }</span>
<a href="#l72.105"></a><span id="l72.105">   }</span>
<a href="#l72.106"></a><span id="l72.106"> }</span>
<a href="#l72.107"></a><span id="l72.107"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditorPublishProgress.xul</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditorPublishProgress.xul</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l73.4"></a><span id="l73.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l73.5"></a><span id="l73.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l73.6"></a><span id="l73.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l73.7"></a><span id="l73.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l73.8"></a><span id="l73.8"> </span>
<a href="#l73.9"></a><span id="l73.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l73.10"></a><span id="l73.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l73.11"></a><span id="l73.11"> </span>
<a href="#l73.12"></a><span id="l73.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l73.13"></a><span id="l73.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l73.14"></a><span id="l73.14"> </span>
<a href="#l73.15"></a><span id="l73.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorPublishProgress.dtd&quot;&gt;</span>
<a href="#l73.16"></a><span id="l73.16"> &lt;!-- dialog containing a control requiring initial setup --&gt;</span>
<a href="#l73.17"></a><span id="l73.17"> &lt;dialog title=&quot;&quot;</span>
<a href="#l73.18"></a><span id="l73.18">     id=&quot;publishProgressDlg&quot;</span>
<a href="#l73.19"></a><span id="l73.19">     xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l73.20"></a><span id="l73.20">     buttons=&quot;cancel&quot;</span>
<a href="#l73.21"></a><span id="l73.21">     buttonlabelclose=&quot;&amp;closeButton.label;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l74.1"></a><span id="l74.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditorPublishSettings.js</span>
<a href="#l74.2"></a><span id="l74.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditorPublishSettings.js</span>
<a href="#l74.3"></a><span id="l74.3" class="difflineat">@@ -148,17 +148,17 @@ function SetDefault()</span>
<a href="#l74.4"></a><span id="l74.4">   if (!gPublishSiteData)</span>
<a href="#l74.5"></a><span id="l74.5">     return;</span>
<a href="#l74.6"></a><span id="l74.6"> </span>
<a href="#l74.7"></a><span id="l74.7">   var index = gDialog.SiteList.selectedIndex;</span>
<a href="#l74.8"></a><span id="l74.8">   if (index != -1)</span>
<a href="#l74.9"></a><span id="l74.9">   {</span>
<a href="#l74.10"></a><span id="l74.10">     gDefaultSiteIndex = index;</span>
<a href="#l74.11"></a><span id="l74.11">     gDefaultSiteName = gPublishSiteData[index].siteName;</span>
<a href="#l74.12"></a><span id="l74.12" class="difflineminus">-    </span>
<a href="#l74.13"></a><span id="l74.13" class="difflineplus">+</span>
<a href="#l74.14"></a><span id="l74.14">     // Set bold style on new default</span>
<a href="#l74.15"></a><span id="l74.15">     var item = gDialog.SiteList.firstChild;</span>
<a href="#l74.16"></a><span id="l74.16">     while (item)</span>
<a href="#l74.17"></a><span id="l74.17">     {</span>
<a href="#l74.18"></a><span id="l74.18">       SetPublishItemStyle(item);</span>
<a href="#l74.19"></a><span id="l74.19">       item = item.nextSibling;</span>
<a href="#l74.20"></a><span id="l74.20">     }</span>
<a href="#l74.21"></a><span id="l74.21">   }</span>
<a href="#l74.22"></a><span id="l74.22" class="difflineat">@@ -189,20 +189,20 @@ function SelectSiteList()</span>
<a href="#l74.23"></a><span id="l74.23"> function SetSelectedSiteIndex(index)</span>
<a href="#l74.24"></a><span id="l74.24"> {</span>
<a href="#l74.25"></a><span id="l74.25">   gIsSelecting = true;</span>
<a href="#l74.26"></a><span id="l74.26">   gDialog.SiteList.selectedIndex = index;</span>
<a href="#l74.27"></a><span id="l74.27">   gIsSelecting = false;</span>
<a href="#l74.28"></a><span id="l74.28"> }</span>
<a href="#l74.29"></a><span id="l74.29"> </span>
<a href="#l74.30"></a><span id="l74.30"> function InitSiteSettings(selectedSiteIndex)</span>
<a href="#l74.31"></a><span id="l74.31" class="difflineminus">-{  </span>
<a href="#l74.32"></a><span id="l74.32" class="difflineplus">+{</span>
<a href="#l74.33"></a><span id="l74.33">   // Index to the site we will need to update if settings changed</span>
<a href="#l74.34"></a><span id="l74.34">   gCurrentSiteIndex = selectedSiteIndex;</span>
<a href="#l74.35"></a><span id="l74.35" class="difflineminus">-  </span>
<a href="#l74.36"></a><span id="l74.36" class="difflineplus">+</span>
<a href="#l74.37"></a><span id="l74.37">   SetSelectedSiteIndex(selectedSiteIndex);</span>
<a href="#l74.38"></a><span id="l74.38">   var haveData = (gPublishSiteData &amp;&amp; selectedSiteIndex != -1);</span>
<a href="#l74.39"></a><span id="l74.39"> </span>
<a href="#l74.40"></a><span id="l74.40">   gDialog.SiteNameInput.value = haveData ? gPublishSiteData[selectedSiteIndex].siteName : &quot;&quot;;</span>
<a href="#l74.41"></a><span id="l74.41">   gDialog.PublishUrlInput.value = haveData ? gPublishSiteData[selectedSiteIndex].publishUrl : &quot;&quot;;</span>
<a href="#l74.42"></a><span id="l74.42">   gDialog.BrowseUrlInput.value = haveData ? gPublishSiteData[selectedSiteIndex].browseUrl : &quot;&quot;;</span>
<a href="#l74.43"></a><span id="l74.43">   gDialog.UsernameInput.value = haveData ? gPublishSiteData[selectedSiteIndex].username : &quot;&quot;;</span>
<a href="#l74.44"></a><span id="l74.44"> </span>
<a href="#l74.45"></a><span id="l74.45" class="difflineat">@@ -239,17 +239,17 @@ function UpdateSettings()</span>
<a href="#l74.46"></a><span id="l74.46">   var newName = TrimString(gDialog.SiteNameInput.value);</span>
<a href="#l74.47"></a><span id="l74.47">   if (!newName)</span>
<a href="#l74.48"></a><span id="l74.48">   {</span>
<a href="#l74.49"></a><span id="l74.49">     ShowInputErrorMessage(GetString(&quot;MissingSiteNameError&quot;), gDialog.SiteNameInput);</span>
<a href="#l74.50"></a><span id="l74.50">     return false;</span>
<a href="#l74.51"></a><span id="l74.51">   }</span>
<a href="#l74.52"></a><span id="l74.52">   if (PublishSiteNameExists(newName, gPublishSiteData, gCurrentSiteIndex))</span>
<a href="#l74.53"></a><span id="l74.53">   {</span>
<a href="#l74.54"></a><span id="l74.54" class="difflineminus">-    ShowInputErrorMessage(GetString(&quot;DuplicateSiteNameError&quot;).replace(/%name%/, newName));            </span>
<a href="#l74.55"></a><span id="l74.55" class="difflineplus">+    ShowInputErrorMessage(GetString(&quot;DuplicateSiteNameError&quot;).replace(/%name%/, newName));</span>
<a href="#l74.56"></a><span id="l74.56">     SetTextboxFocus(gDialog.SiteNameInput);</span>
<a href="#l74.57"></a><span id="l74.57">     return false;</span>
<a href="#l74.58"></a><span id="l74.58">   }</span>
<a href="#l74.59"></a><span id="l74.59"> </span>
<a href="#l74.60"></a><span id="l74.60">   var newUrl = FormatUrlForPublishing(gDialog.PublishUrlInput.value);</span>
<a href="#l74.61"></a><span id="l74.61">   if (!newUrl)</span>
<a href="#l74.62"></a><span id="l74.62">   {</span>
<a href="#l74.63"></a><span id="l74.63">     ShowInputErrorMessage(GetString(&quot;MissingPublishUrlError&quot;), gDialog.PublishUrlInput);</span>
<a href="#l74.64"></a><span id="l74.64" class="difflineat">@@ -269,17 +269,17 @@ function UpdateSettings()</span>
<a href="#l74.65"></a><span id="l74.65">   else if (gCurrentSiteIndex == -1)</span>
<a href="#l74.66"></a><span id="l74.66">   {</span>
<a href="#l74.67"></a><span id="l74.67">     // No currently-selected site,</span>
<a href="#l74.68"></a><span id="l74.68">     //  must be adding a new site</span>
<a href="#l74.69"></a><span id="l74.69">     // Add new data at the end of list</span>
<a href="#l74.70"></a><span id="l74.70">     gCurrentSiteIndex = gPublishSiteData.length;</span>
<a href="#l74.71"></a><span id="l74.71">     newSiteData = true;</span>
<a href="#l74.72"></a><span id="l74.72">   }</span>
<a href="#l74.73"></a><span id="l74.73" class="difflineminus">-    </span>
<a href="#l74.74"></a><span id="l74.74" class="difflineplus">+</span>
<a href="#l74.75"></a><span id="l74.75">   if (newSiteData)</span>
<a href="#l74.76"></a><span id="l74.76">   {</span>
<a href="#l74.77"></a><span id="l74.77">     // Init new site profile</span>
<a href="#l74.78"></a><span id="l74.78">     gPublishSiteData[gCurrentSiteIndex] = {};</span>
<a href="#l74.79"></a><span id="l74.79">     gPublishSiteData[gCurrentSiteIndex].docDir = &quot;&quot;;</span>
<a href="#l74.80"></a><span id="l74.80">     gPublishSiteData[gCurrentSiteIndex].otherDir = &quot;&quot;;</span>
<a href="#l74.81"></a><span id="l74.81">     gPublishSiteData[gCurrentSiteIndex].dirList = [&quot;&quot;];</span>
<a href="#l74.82"></a><span id="l74.82">     gPublishSiteData[gCurrentSiteIndex].previousSiteName = newName;</span>
<a href="#l74.83"></a><span id="l74.83" class="difflineat">@@ -299,22 +299,22 @@ function UpdateSettings()</span>
<a href="#l74.84"></a><span id="l74.84">   if (gPublishSiteData.length == 1 &amp;&amp; !gDefaultSiteName)</span>
<a href="#l74.85"></a><span id="l74.85">   {</span>
<a href="#l74.86"></a><span id="l74.86">     gDefaultSiteName = gPublishSiteData[0].siteName;</span>
<a href="#l74.87"></a><span id="l74.87">     gDefaultSiteIndex = 0;</span>
<a href="#l74.88"></a><span id="l74.88">   }</span>
<a href="#l74.89"></a><span id="l74.89"> </span>
<a href="#l74.90"></a><span id="l74.90">   FillSiteList();</span>
<a href="#l74.91"></a><span id="l74.91"> </span>
<a href="#l74.92"></a><span id="l74.92" class="difflineminus">-  // Select current site in list  </span>
<a href="#l74.93"></a><span id="l74.93" class="difflineplus">+  // Select current site in list</span>
<a href="#l74.94"></a><span id="l74.94">   SetSelectedSiteIndex(gCurrentSiteIndex);</span>
<a href="#l74.95"></a><span id="l74.95"> </span>
<a href="#l74.96"></a><span id="l74.96">   // Signal saving data to prefs</span>
<a href="#l74.97"></a><span id="l74.97">   gSiteDataChanged = true;</span>
<a href="#l74.98"></a><span id="l74.98" class="difflineminus">-  </span>
<a href="#l74.99"></a><span id="l74.99" class="difflineplus">+</span>
<a href="#l74.100"></a><span id="l74.100">   // Clear current site flags</span>
<a href="#l74.101"></a><span id="l74.101">   gSettingsChanged = false;</span>
<a href="#l74.102"></a><span id="l74.102">   gAddNewSite = false;</span>
<a href="#l74.103"></a><span id="l74.103"> </span>
<a href="#l74.104"></a><span id="l74.104">   return true;</span>
<a href="#l74.105"></a><span id="l74.105"> }</span>
<a href="#l74.106"></a><span id="l74.106"> </span>
<a href="#l74.107"></a><span id="l74.107"> function onAccept()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l75.1"></a><span id="l75.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditorPublishSettings.xul</span>
<a href="#l75.2"></a><span id="l75.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditorPublishSettings.xul</span>
<a href="#l75.3"></a><span id="l75.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l75.4"></a><span id="l75.4"> </span>
<a href="#l75.5"></a><span id="l75.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l75.6"></a><span id="l75.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l75.7"></a><span id="l75.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l75.8"></a><span id="l75.8"> </span>
<a href="#l75.9"></a><span id="l75.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l75.10"></a><span id="l75.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l75.11"></a><span id="l75.11"> </span>
<a href="#l75.12"></a><span id="l75.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt; </span>
<a href="#l75.13"></a><span id="l75.13" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://editor/content/EditorPublishOverlay.xul&quot;?&gt; </span>
<a href="#l75.14"></a><span id="l75.14" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EdDialogOverlay.xul&quot;?&gt;</span>
<a href="#l75.15"></a><span id="l75.15" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://editor/content/EditorPublishOverlay.xul&quot;?&gt;</span>
<a href="#l75.16"></a><span id="l75.16"> </span>
<a href="#l75.17"></a><span id="l75.17"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorPublish.dtd&quot;&gt;</span>
<a href="#l75.18"></a><span id="l75.18"> </span>
<a href="#l75.19"></a><span id="l75.19"> &lt;dialog title=&quot;&amp;windowTitleSettings.label;&quot;</span>
<a href="#l75.20"></a><span id="l75.20">         id=&quot;publishSettingsDlg&quot;</span>
<a href="#l75.21"></a><span id="l75.21">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l75.22"></a><span id="l75.22">         onload=&quot;Startup()&quot;</span>
<a href="#l75.23"></a><span id="l75.23">         buttons=&quot;accept,cancel&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l76.1"></a><span id="l76.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditorSaveAsCharset.js</span>
<a href="#l76.2"></a><span id="l76.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditorSaveAsCharset.js</span>
<a href="#l76.3"></a><span id="l76.3" class="difflineat">@@ -49,24 +49,24 @@ function Startup()</span>
<a href="#l76.4"></a><span id="l76.4">   var editor = GetCurrentEditor();</span>
<a href="#l76.5"></a><span id="l76.5">   if (!editor)</span>
<a href="#l76.6"></a><span id="l76.6">   {</span>
<a href="#l76.7"></a><span id="l76.7">     window.close();</span>
<a href="#l76.8"></a><span id="l76.8">     return;</span>
<a href="#l76.9"></a><span id="l76.9">   }</span>
<a href="#l76.10"></a><span id="l76.10"> </span>
<a href="#l76.11"></a><span id="l76.11">   gDialog.TitleInput    = document.getElementById(&quot;TitleInput&quot;);</span>
<a href="#l76.12"></a><span id="l76.12" class="difflineminus">-  gDialog.charsetTree   = document.getElementById('CharsetTree'); </span>
<a href="#l76.13"></a><span id="l76.13" class="difflineplus">+  gDialog.charsetTree   = document.getElementById('CharsetTree');</span>
<a href="#l76.14"></a><span id="l76.14">   gDialog.exportToText  = document.getElementById('ExportToText');</span>
<a href="#l76.15"></a><span id="l76.15"> </span>
<a href="#l76.16"></a><span id="l76.16">   gContenttypeElement = GetMetaElementByAttribute(&quot;http-equiv&quot;, &quot;content-type&quot;);</span>
<a href="#l76.17"></a><span id="l76.17" class="difflineminus">-  if (!gContenttypeElement &amp;&amp; (editor.contentsMIMEType != 'text/plain')) </span>
<a href="#l76.18"></a><span id="l76.18" class="difflineplus">+  if (!gContenttypeElement &amp;&amp; (editor.contentsMIMEType != 'text/plain'))</span>
<a href="#l76.19"></a><span id="l76.19">   {</span>
<a href="#l76.20"></a><span id="l76.20">     gContenttypeElement = CreateMetaElementWithAttribute(&quot;http-equiv&quot;, &quot;content-type&quot;);</span>
<a href="#l76.21"></a><span id="l76.21" class="difflineminus">-    if (!gContenttypeElement ) </span>
<a href="#l76.22"></a><span id="l76.22" class="difflineplus">+    if (!gContenttypeElement )</span>
<a href="#l76.23"></a><span id="l76.23"> 	{</span>
<a href="#l76.24"></a><span id="l76.24">       window.close();</span>
<a href="#l76.25"></a><span id="l76.25">       return;</span>
<a href="#l76.26"></a><span id="l76.26">     }</span>
<a href="#l76.27"></a><span id="l76.27">     gInsertNewContentType = true;</span>
<a href="#l76.28"></a><span id="l76.28">   }</span>
<a href="#l76.29"></a><span id="l76.29"> </span>
<a href="#l76.30"></a><span id="l76.30">   try {</span>
<a href="#l76.31"></a><span id="l76.31" class="difflineat">@@ -82,27 +82,27 @@ function Startup()</span>
<a href="#l76.32"></a><span id="l76.32"> </span>
<a href="#l76.33"></a><span id="l76.33">   // Use the same text as the messagebox for getting title by regular &quot;Save&quot;</span>
<a href="#l76.34"></a><span id="l76.34">   document.getElementById(&quot;EnterTitleLabel&quot;).setAttribute(&quot;value&quot;,GetString(&quot;NeedDocTitle&quot;));</span>
<a href="#l76.35"></a><span id="l76.35">   // This is an &lt;HTML&gt; element so it wraps -- append a child textnode</span>
<a href="#l76.36"></a><span id="l76.36">   var helpTextParent = document.getElementById(&quot;TitleHelp&quot;);</span>
<a href="#l76.37"></a><span id="l76.37">   var helpText = document.createTextNode(GetString(&quot;DocTitleHelp&quot;));</span>
<a href="#l76.38"></a><span id="l76.38">   if (helpTextParent)</span>
<a href="#l76.39"></a><span id="l76.39">     helpTextParent.appendChild(helpText);</span>
<a href="#l76.40"></a><span id="l76.40" class="difflineminus">-  </span>
<a href="#l76.41"></a><span id="l76.41" class="difflineplus">+</span>
<a href="#l76.42"></a><span id="l76.42">   // SET FOCUS TO FIRST CONTROL</span>
<a href="#l76.43"></a><span id="l76.43">   SetTextboxFocus(gDialog.TitleInput);</span>
<a href="#l76.44"></a><span id="l76.44" class="difflineminus">-  </span>
<a href="#l76.45"></a><span id="l76.45" class="difflineplus">+</span>
<a href="#l76.46"></a><span id="l76.46">   gInitDone = true;</span>
<a href="#l76.47"></a><span id="l76.47" class="difflineminus">-  </span>
<a href="#l76.48"></a><span id="l76.48" class="difflineplus">+</span>
<a href="#l76.49"></a><span id="l76.49">   SetWindowLocation();</span>
<a href="#l76.50"></a><span id="l76.50"> }</span>
<a href="#l76.51"></a><span id="l76.51"> </span>
<a href="#l76.52"></a><span id="l76.52" class="difflineminus">-  </span>
<a href="#l76.53"></a><span id="l76.53" class="difflineminus">-function InitDialog() </span>
<a href="#l76.54"></a><span id="l76.54" class="difflineplus">+</span>
<a href="#l76.55"></a><span id="l76.55" class="difflineplus">+function InitDialog()</span>
<a href="#l76.56"></a><span id="l76.56"> {</span>
<a href="#l76.57"></a><span id="l76.57">   gDialog.TitleInput.value = GetDocumentTitle();</span>
<a href="#l76.58"></a><span id="l76.58"> </span>
<a href="#l76.59"></a><span id="l76.59">   var tree = gDialog.charsetTree;</span>
<a href="#l76.60"></a><span id="l76.60">   var index = gCharsetInfo.map(info =&gt; info.value).indexOf(gCharset);</span>
<a href="#l76.61"></a><span id="l76.61">   if (index &gt;= 0) {</span>
<a href="#l76.62"></a><span id="l76.62">     tree.view.selection.select(index);</span>
<a href="#l76.63"></a><span id="l76.63">     tree.treeBoxObject.ensureRowIsVisible(index);</span>
<a href="#l76.64"></a><span id="l76.64" class="difflineat">@@ -110,47 +110,47 @@ function InitDialog()</span>
<a href="#l76.65"></a><span id="l76.65"> }</span>
<a href="#l76.66"></a><span id="l76.66"> </span>
<a href="#l76.67"></a><span id="l76.67"> </span>
<a href="#l76.68"></a><span id="l76.68"> function onAccept()</span>
<a href="#l76.69"></a><span id="l76.69"> {</span>
<a href="#l76.70"></a><span id="l76.70">   var editor = GetCurrentEditor();</span>
<a href="#l76.71"></a><span id="l76.71">   editor.beginTransaction();</span>
<a href="#l76.72"></a><span id="l76.72"> </span>
<a href="#l76.73"></a><span id="l76.73" class="difflineminus">-  if(gCharsetWasChanged) </span>
<a href="#l76.74"></a><span id="l76.74" class="difflineplus">+  if(gCharsetWasChanged)</span>
<a href="#l76.75"></a><span id="l76.75">   {</span>
<a href="#l76.76"></a><span id="l76.76">      try {</span>
<a href="#l76.77"></a><span id="l76.77" class="difflineminus">-       SetMetaElementContent(gContenttypeElement, &quot;text/html; charset=&quot; + gCharset, gInsertNewContentType, true);     </span>
<a href="#l76.78"></a><span id="l76.78" class="difflineplus">+       SetMetaElementContent(gContenttypeElement, &quot;text/html; charset=&quot; + gCharset, gInsertNewContentType, true);</span>
<a href="#l76.79"></a><span id="l76.79">       editor.documentCharacterSet = gCharset;</span>
<a href="#l76.80"></a><span id="l76.80">     } catch (e) {}</span>
<a href="#l76.81"></a><span id="l76.81">   }</span>
<a href="#l76.82"></a><span id="l76.82"> </span>
<a href="#l76.83"></a><span id="l76.83">   editor.endTransaction();</span>
<a href="#l76.84"></a><span id="l76.84"> </span>
<a href="#l76.85"></a><span id="l76.85" class="difflineminus">-  if(gTitleWasEdited) </span>
<a href="#l76.86"></a><span id="l76.86" class="difflineplus">+  if(gTitleWasEdited)</span>
<a href="#l76.87"></a><span id="l76.87">     SetDocumentTitle(TrimString(gDialog.TitleInput.value));</span>
<a href="#l76.88"></a><span id="l76.88"> </span>
<a href="#l76.89"></a><span id="l76.89">   window.opener.ok = true;</span>
<a href="#l76.90"></a><span id="l76.90">   window.opener.exportToText = gDialog.exportToText.checked;</span>
<a href="#l76.91"></a><span id="l76.91">   SaveWindowLocation();</span>
<a href="#l76.92"></a><span id="l76.92">   return true;</span>
<a href="#l76.93"></a><span id="l76.93"> }</span>
<a href="#l76.94"></a><span id="l76.94"> </span>
<a href="#l76.95"></a><span id="l76.95"> </span>
<a href="#l76.96"></a><span id="l76.96"> function SelectCharset()</span>
<a href="#l76.97"></a><span id="l76.97"> {</span>
<a href="#l76.98"></a><span id="l76.98" class="difflineminus">-  if(gInitDone) </span>
<a href="#l76.99"></a><span id="l76.99" class="difflineplus">+  if(gInitDone)</span>
<a href="#l76.100"></a><span id="l76.100">   {</span>
<a href="#l76.101"></a><span id="l76.101" class="difflineminus">-    try </span>
<a href="#l76.102"></a><span id="l76.102" class="difflineplus">+    try</span>
<a href="#l76.103"></a><span id="l76.103">     {</span>
<a href="#l76.104"></a><span id="l76.104">       gCharset = gCharsetInfo[gDialog.charsetTree.currentIndex].value;</span>
<a href="#l76.105"></a><span id="l76.105">       if (gCharset)</span>
<a href="#l76.106"></a><span id="l76.106">         gCharsetWasChanged = true;</span>
<a href="#l76.107"></a><span id="l76.107">     }</span>
<a href="#l76.108"></a><span id="l76.108">     catch(e) {}</span>
<a href="#l76.109"></a><span id="l76.109">   }</span>
<a href="#l76.110"></a><span id="l76.110"> }</span>
<a href="#l76.111"></a><span id="l76.111"> </span>
<a href="#l76.112"></a><span id="l76.112"> </span>
<a href="#l76.113"></a><span id="l76.113"> function TitleChanged()</span>
<a href="#l76.114"></a><span id="l76.114"> {</span>
<a href="#l76.115"></a><span id="l76.115" class="difflineminus">-  gTitleWasEdited = true; </span>
<a href="#l76.116"></a><span id="l76.116" class="difflineplus">+  gTitleWasEdited = true;</span>
<a href="#l76.117"></a><span id="l76.117"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l77.1"></a><span id="l77.1" class="difflineminus">--- a/editor/ui/jar.mn</span>
<a href="#l77.2"></a><span id="l77.2" class="difflineplus">+++ b/editor/ui/jar.mn</span>
<a href="#l77.3"></a><span id="l77.3" class="difflineat">@@ -7,96 +7,96 @@ comm.jar:</span>
<a href="#l77.4"></a><span id="l77.4"> #ifdef MOZ_SUITE</span>
<a href="#l77.5"></a><span id="l77.5"> % overlay chrome://communicator/content/tasksOverlay.xul chrome://editor/content/editorTasksOverlay.xul</span>
<a href="#l77.6"></a><span id="l77.6"> % overlay chrome://messenger/content/mailWindowOverlay.xul chrome://editor/content/editorMailOverlay.xul</span>
<a href="#l77.7"></a><span id="l77.7"> % overlay chrome://communicator/content/pref/preferences.xul chrome://editor/content/editorPrefsOverlay.xul</span>
<a href="#l77.8"></a><span id="l77.8"> % overlay chrome://communicator/content/pref/pref-appearance.xul chrome://editor/content/editorPrefsOverlay.xul</span>
<a href="#l77.9"></a><span id="l77.9"> % overlay chrome://navigator/content/navigatorOverlay.xul chrome://editor/content/editorNavigatorOverlay.xul</span>
<a href="#l77.10"></a><span id="l77.10"> % content editor-region %content/editor-region/</span>
<a href="#l77.11"></a><span id="l77.11"> #endif</span>
<a href="#l77.12"></a><span id="l77.12" class="difflineminus">-      content/editor/editor.js                                 (composer/content/editor.js) </span>
<a href="#l77.13"></a><span id="l77.13" class="difflineminus">-      content/editor/editorUtilities.js                        (composer/content/editorUtilities.js) </span>
<a href="#l77.14"></a><span id="l77.14" class="difflineminus">-      content/editor/ComposerCommands.js                       (composer/content/ComposerCommands.js) </span>
<a href="#l77.15"></a><span id="l77.15" class="difflineminus">-      content/editor/EditorContent.css                         (composer/content/EditorContent.css)  </span>
<a href="#l77.16"></a><span id="l77.16" class="difflineminus">-      content/editor/editorSmileyOverlay.xul                   (composer/content/editorSmileyOverlay.xul) </span>
<a href="#l77.17"></a><span id="l77.17" class="difflineminus">-      content/editor/editorApplicationOverlay.js               (composer/content/editorApplicationOverlay.js) </span>
<a href="#l77.18"></a><span id="l77.18" class="difflineplus">+      content/editor/editor.js                                 (composer/content/editor.js)</span>
<a href="#l77.19"></a><span id="l77.19" class="difflineplus">+      content/editor/editorUtilities.js                        (composer/content/editorUtilities.js)</span>
<a href="#l77.20"></a><span id="l77.20" class="difflineplus">+      content/editor/ComposerCommands.js                       (composer/content/ComposerCommands.js)</span>
<a href="#l77.21"></a><span id="l77.21" class="difflineplus">+      content/editor/EditorContent.css                         (composer/content/EditorContent.css)</span>
<a href="#l77.22"></a><span id="l77.22" class="difflineplus">+      content/editor/editorSmileyOverlay.xul                   (composer/content/editorSmileyOverlay.xul)</span>
<a href="#l77.23"></a><span id="l77.23" class="difflineplus">+      content/editor/editorApplicationOverlay.js               (composer/content/editorApplicationOverlay.js)</span>
<a href="#l77.24"></a><span id="l77.24">       content/editor/images/tag-anchor.gif                     (composer/content/images/tag-anchor.gif)</span>
<a href="#l77.25"></a><span id="l77.25" class="difflineminus">-      content/editor/EdDialogCommon.js                         (dialogs/content/EdDialogCommon.js) </span>
<a href="#l77.26"></a><span id="l77.26" class="difflineminus">-      content/editor/EdLinkProps.xul                           (dialogs/content/EdLinkProps.xul) </span>
<a href="#l77.27"></a><span id="l77.27" class="difflineminus">-      content/editor/EdLinkProps.js                            (dialogs/content/EdLinkProps.js) </span>
<a href="#l77.28"></a><span id="l77.28" class="difflineminus">-      content/editor/EdImageProps.xul                          (dialogs/content/EdImageProps.xul) </span>
<a href="#l77.29"></a><span id="l77.29" class="difflineminus">-      content/editor/EdImageProps.js                           (dialogs/content/EdImageProps.js) </span>
<a href="#l77.30"></a><span id="l77.30" class="difflineminus">-      content/editor/EdImageOverlay.xul                        (dialogs/content/EdImageOverlay.xul) </span>
<a href="#l77.31"></a><span id="l77.31" class="difflineminus">-      content/editor/EdImageOverlay.js                         (dialogs/content/EdImageOverlay.js) </span>
<a href="#l77.32"></a><span id="l77.32" class="difflineminus">-      content/editor/EdHLineProps.xul                          (dialogs/content/EdHLineProps.xul) </span>
<a href="#l77.33"></a><span id="l77.33" class="difflineminus">-      content/editor/EdHLineProps.js                           (dialogs/content/EdHLineProps.js) </span>
<a href="#l77.34"></a><span id="l77.34" class="difflineminus">-      content/editor/EdReplace.xul                             (dialogs/content/EdReplace.xul) </span>
<a href="#l77.35"></a><span id="l77.35" class="difflineminus">-      content/editor/EdReplace.js                              (dialogs/content/EdReplace.js) </span>
<a href="#l77.36"></a><span id="l77.36" class="difflineminus">-      content/editor/EdSpellCheck.xul                          (dialogs/content/EdSpellCheck.xul) </span>
<a href="#l77.37"></a><span id="l77.37" class="difflineminus">-      content/editor/EdSpellCheck.js                           (dialogs/content/EdSpellCheck.js) </span>
<a href="#l77.38"></a><span id="l77.38" class="difflineminus">-      content/editor/EdDictionary.xul                          (dialogs/content/EdDictionary.xul) </span>
<a href="#l77.39"></a><span id="l77.39" class="difflineminus">-      content/editor/EdDictionary.js                           (dialogs/content/EdDictionary.js) </span>
<a href="#l77.40"></a><span id="l77.40" class="difflineminus">-      content/editor/EdNamedAnchorProps.xul                    (dialogs/content/EdNamedAnchorProps.xul) </span>
<a href="#l77.41"></a><span id="l77.41" class="difflineminus">-      content/editor/EdNamedAnchorProps.js                     (dialogs/content/EdNamedAnchorProps.js) </span>
<a href="#l77.42"></a><span id="l77.42" class="difflineminus">-      content/editor/EdInsertTOC.xul                           (dialogs/content/EdInsertTOC.xul) </span>
<a href="#l77.43"></a><span id="l77.43" class="difflineminus">-      content/editor/EdInsertTOC.js                            (dialogs/content/EdInsertTOC.js) </span>
<a href="#l77.44"></a><span id="l77.44" class="difflineminus">-      content/editor/EdInsertTable.xul                         (dialogs/content/EdInsertTable.xul) </span>
<a href="#l77.45"></a><span id="l77.45" class="difflineminus">-      content/editor/EdInsertTable.js                          (dialogs/content/EdInsertTable.js) </span>
<a href="#l77.46"></a><span id="l77.46" class="difflineminus">-      content/editor/EdInsertMath.xul                          (dialogs/content/EdInsertMath.xul) </span>
<a href="#l77.47"></a><span id="l77.47" class="difflineminus">-      content/editor/EdInsertMath.js                           (dialogs/content/EdInsertMath.js) </span>
<a href="#l77.48"></a><span id="l77.48" class="difflineminus">-      content/editor/EdTableProps.xul                          (dialogs/content/EdTableProps.xul) </span>
<a href="#l77.49"></a><span id="l77.49" class="difflineminus">-      content/editor/EdTableProps.js                           (dialogs/content/EdTableProps.js) </span>
<a href="#l77.50"></a><span id="l77.50" class="difflineminus">-      content/editor/EdFormProps.xul                           (dialogs/content/EdFormProps.xul) </span>
<a href="#l77.51"></a><span id="l77.51" class="difflineminus">-      content/editor/EdFormProps.js                            (dialogs/content/EdFormProps.js) </span>
<a href="#l77.52"></a><span id="l77.52" class="difflineminus">-      content/editor/EdInputProps.xul                          (dialogs/content/EdInputProps.xul) </span>
<a href="#l77.53"></a><span id="l77.53" class="difflineminus">-      content/editor/EdInputProps.js                           (dialogs/content/EdInputProps.js) </span>
<a href="#l77.54"></a><span id="l77.54" class="difflineminus">-      content/editor/EdInputImage.xul                          (dialogs/content/EdInputImage.xul) </span>
<a href="#l77.55"></a><span id="l77.55" class="difflineminus">-      content/editor/EdInputImage.js                           (dialogs/content/EdInputImage.js) </span>
<a href="#l77.56"></a><span id="l77.56" class="difflineminus">-      content/editor/EdTextAreaProps.xul                       (dialogs/content/EdTextAreaProps.xul) </span>
<a href="#l77.57"></a><span id="l77.57" class="difflineminus">-      content/editor/EdTextAreaProps.js                        (dialogs/content/EdTextAreaProps.js) </span>
<a href="#l77.58"></a><span id="l77.58" class="difflineminus">-      content/editor/EdSelectProps.xul                         (dialogs/content/EdSelectProps.xul) </span>
<a href="#l77.59"></a><span id="l77.59" class="difflineminus">-      content/editor/EdSelectProps.js                          (dialogs/content/EdSelectProps.js) </span>
<a href="#l77.60"></a><span id="l77.60" class="difflineminus">-      content/editor/EdButtonProps.xul                         (dialogs/content/EdButtonProps.xul) </span>
<a href="#l77.61"></a><span id="l77.61" class="difflineminus">-      content/editor/EdButtonProps.js                          (dialogs/content/EdButtonProps.js) </span>
<a href="#l77.62"></a><span id="l77.62" class="difflineminus">-      content/editor/EdLabelProps.xul                          (dialogs/content/EdLabelProps.xul) </span>
<a href="#l77.63"></a><span id="l77.63" class="difflineminus">-      content/editor/EdLabelProps.js                           (dialogs/content/EdLabelProps.js) </span>
<a href="#l77.64"></a><span id="l77.64" class="difflineminus">-      content/editor/EdFieldSetProps.xul                       (dialogs/content/EdFieldSetProps.xul) </span>
<a href="#l77.65"></a><span id="l77.65" class="difflineminus">-      content/editor/EdFieldSetProps.js                        (dialogs/content/EdFieldSetProps.js) </span>
<a href="#l77.66"></a><span id="l77.66" class="difflineminus">-      content/editor/EdInsSrc.xul                              (dialogs/content/EdInsSrc.xul) </span>
<a href="#l77.67"></a><span id="l77.67" class="difflineminus">-      content/editor/EdInsSrc.js                               (dialogs/content/EdInsSrc.js) </span>
<a href="#l77.68"></a><span id="l77.68" class="difflineminus">-      content/editor/EdInsertChars.xul                         (dialogs/content/EdInsertChars.xul) </span>
<a href="#l77.69"></a><span id="l77.69" class="difflineminus">-      content/editor/EdInsertChars.js                          (dialogs/content/EdInsertChars.js) </span>
<a href="#l77.70"></a><span id="l77.70" class="difflineminus">-      content/editor/EdDialogOverlay.xul                       (dialogs/content/EdDialogOverlay.xul) </span>
<a href="#l77.71"></a><span id="l77.71" class="difflineminus">-      content/editor/EdAdvancedEdit.xul                        (dialogs/content/EdAdvancedEdit.xul) </span>
<a href="#l77.72"></a><span id="l77.72" class="difflineminus">-      content/editor/EdAdvancedEdit.js                         (dialogs/content/EdAdvancedEdit.js) </span>
<a href="#l77.73"></a><span id="l77.73" class="difflineminus">-      content/editor/EdListProps.xul                           (dialogs/content/EdListProps.xul) </span>
<a href="#l77.74"></a><span id="l77.74" class="difflineminus">-      content/editor/EdListProps.js                            (dialogs/content/EdListProps.js) </span>
<a href="#l77.75"></a><span id="l77.75" class="difflineminus">-      content/editor/EdPageProps.xul                           (dialogs/content/EdPageProps.xul) </span>
<a href="#l77.76"></a><span id="l77.76" class="difflineminus">-      content/editor/EdPageProps.js                            (dialogs/content/EdPageProps.js) </span>
<a href="#l77.77"></a><span id="l77.77" class="difflineminus">-      content/editor/EdColorProps.xul                          (dialogs/content/EdColorProps.xul) </span>
<a href="#l77.78"></a><span id="l77.78" class="difflineminus">-      content/editor/EdColorProps.js                           (dialogs/content/EdColorProps.js) </span>
<a href="#l77.79"></a><span id="l77.79" class="difflineminus">-      content/editor/EdColorPicker.xul                         (dialogs/content/EdColorPicker.xul) </span>
<a href="#l77.80"></a><span id="l77.80" class="difflineminus">-      content/editor/EdColorPicker.js                          (dialogs/content/EdColorPicker.js) </span>
<a href="#l77.81"></a><span id="l77.81" class="difflineminus">-      content/editor/EdAECSSAttributes.js                      (dialogs/content/EdAECSSAttributes.js) </span>
<a href="#l77.82"></a><span id="l77.82" class="difflineminus">-      content/editor/EdAEHTMLAttributes.js                     (dialogs/content/EdAEHTMLAttributes.js) </span>
<a href="#l77.83"></a><span id="l77.83" class="difflineminus">-      content/editor/EdAEJSEAttributes.js                      (dialogs/content/EdAEJSEAttributes.js) </span>
<a href="#l77.84"></a><span id="l77.84" class="difflineminus">-      content/editor/EdAEAttributes.js                         (dialogs/content/EdAEAttributes.js) </span>
<a href="#l77.85"></a><span id="l77.85" class="difflineminus">-      content/editor/EdConvertToTable.xul                      (dialogs/content/EdConvertToTable.xul) </span>
<a href="#l77.86"></a><span id="l77.86" class="difflineminus">-      content/editor/EdConvertToTable.js                       (dialogs/content/EdConvertToTable.js) </span>
<a href="#l77.87"></a><span id="l77.87" class="difflineplus">+      content/editor/EdDialogCommon.js                         (dialogs/content/EdDialogCommon.js)</span>
<a href="#l77.88"></a><span id="l77.88" class="difflineplus">+      content/editor/EdLinkProps.xul                           (dialogs/content/EdLinkProps.xul)</span>
<a href="#l77.89"></a><span id="l77.89" class="difflineplus">+      content/editor/EdLinkProps.js                            (dialogs/content/EdLinkProps.js)</span>
<a href="#l77.90"></a><span id="l77.90" class="difflineplus">+      content/editor/EdImageProps.xul                          (dialogs/content/EdImageProps.xul)</span>
<a href="#l77.91"></a><span id="l77.91" class="difflineplus">+      content/editor/EdImageProps.js                           (dialogs/content/EdImageProps.js)</span>
<a href="#l77.92"></a><span id="l77.92" class="difflineplus">+      content/editor/EdImageOverlay.xul                        (dialogs/content/EdImageOverlay.xul)</span>
<a href="#l77.93"></a><span id="l77.93" class="difflineplus">+      content/editor/EdImageOverlay.js                         (dialogs/content/EdImageOverlay.js)</span>
<a href="#l77.94"></a><span id="l77.94" class="difflineplus">+      content/editor/EdHLineProps.xul                          (dialogs/content/EdHLineProps.xul)</span>
<a href="#l77.95"></a><span id="l77.95" class="difflineplus">+      content/editor/EdHLineProps.js                           (dialogs/content/EdHLineProps.js)</span>
<a href="#l77.96"></a><span id="l77.96" class="difflineplus">+      content/editor/EdReplace.xul                             (dialogs/content/EdReplace.xul)</span>
<a href="#l77.97"></a><span id="l77.97" class="difflineplus">+      content/editor/EdReplace.js                              (dialogs/content/EdReplace.js)</span>
<a href="#l77.98"></a><span id="l77.98" class="difflineplus">+      content/editor/EdSpellCheck.xul                          (dialogs/content/EdSpellCheck.xul)</span>
<a href="#l77.99"></a><span id="l77.99" class="difflineplus">+      content/editor/EdSpellCheck.js                           (dialogs/content/EdSpellCheck.js)</span>
<a href="#l77.100"></a><span id="l77.100" class="difflineplus">+      content/editor/EdDictionary.xul                          (dialogs/content/EdDictionary.xul)</span>
<a href="#l77.101"></a><span id="l77.101" class="difflineplus">+      content/editor/EdDictionary.js                           (dialogs/content/EdDictionary.js)</span>
<a href="#l77.102"></a><span id="l77.102" class="difflineplus">+      content/editor/EdNamedAnchorProps.xul                    (dialogs/content/EdNamedAnchorProps.xul)</span>
<a href="#l77.103"></a><span id="l77.103" class="difflineplus">+      content/editor/EdNamedAnchorProps.js                     (dialogs/content/EdNamedAnchorProps.js)</span>
<a href="#l77.104"></a><span id="l77.104" class="difflineplus">+      content/editor/EdInsertTOC.xul                           (dialogs/content/EdInsertTOC.xul)</span>
<a href="#l77.105"></a><span id="l77.105" class="difflineplus">+      content/editor/EdInsertTOC.js                            (dialogs/content/EdInsertTOC.js)</span>
<a href="#l77.106"></a><span id="l77.106" class="difflineplus">+      content/editor/EdInsertTable.xul                         (dialogs/content/EdInsertTable.xul)</span>
<a href="#l77.107"></a><span id="l77.107" class="difflineplus">+      content/editor/EdInsertTable.js                          (dialogs/content/EdInsertTable.js)</span>
<a href="#l77.108"></a><span id="l77.108" class="difflineplus">+      content/editor/EdInsertMath.xul                          (dialogs/content/EdInsertMath.xul)</span>
<a href="#l77.109"></a><span id="l77.109" class="difflineplus">+      content/editor/EdInsertMath.js                           (dialogs/content/EdInsertMath.js)</span>
<a href="#l77.110"></a><span id="l77.110" class="difflineplus">+      content/editor/EdTableProps.xul                          (dialogs/content/EdTableProps.xul)</span>
<a href="#l77.111"></a><span id="l77.111" class="difflineplus">+      content/editor/EdTableProps.js                           (dialogs/content/EdTableProps.js)</span>
<a href="#l77.112"></a><span id="l77.112" class="difflineplus">+      content/editor/EdFormProps.xul                           (dialogs/content/EdFormProps.xul)</span>
<a href="#l77.113"></a><span id="l77.113" class="difflineplus">+      content/editor/EdFormProps.js                            (dialogs/content/EdFormProps.js)</span>
<a href="#l77.114"></a><span id="l77.114" class="difflineplus">+      content/editor/EdInputProps.xul                          (dialogs/content/EdInputProps.xul)</span>
<a href="#l77.115"></a><span id="l77.115" class="difflineplus">+      content/editor/EdInputProps.js                           (dialogs/content/EdInputProps.js)</span>
<a href="#l77.116"></a><span id="l77.116" class="difflineplus">+      content/editor/EdInputImage.xul                          (dialogs/content/EdInputImage.xul)</span>
<a href="#l77.117"></a><span id="l77.117" class="difflineplus">+      content/editor/EdInputImage.js                           (dialogs/content/EdInputImage.js)</span>
<a href="#l77.118"></a><span id="l77.118" class="difflineplus">+      content/editor/EdTextAreaProps.xul                       (dialogs/content/EdTextAreaProps.xul)</span>
<a href="#l77.119"></a><span id="l77.119" class="difflineplus">+      content/editor/EdTextAreaProps.js                        (dialogs/content/EdTextAreaProps.js)</span>
<a href="#l77.120"></a><span id="l77.120" class="difflineplus">+      content/editor/EdSelectProps.xul                         (dialogs/content/EdSelectProps.xul)</span>
<a href="#l77.121"></a><span id="l77.121" class="difflineplus">+      content/editor/EdSelectProps.js                          (dialogs/content/EdSelectProps.js)</span>
<a href="#l77.122"></a><span id="l77.122" class="difflineplus">+      content/editor/EdButtonProps.xul                         (dialogs/content/EdButtonProps.xul)</span>
<a href="#l77.123"></a><span id="l77.123" class="difflineplus">+      content/editor/EdButtonProps.js                          (dialogs/content/EdButtonProps.js)</span>
<a href="#l77.124"></a><span id="l77.124" class="difflineplus">+      content/editor/EdLabelProps.xul                          (dialogs/content/EdLabelProps.xul)</span>
<a href="#l77.125"></a><span id="l77.125" class="difflineplus">+      content/editor/EdLabelProps.js                           (dialogs/content/EdLabelProps.js)</span>
<a href="#l77.126"></a><span id="l77.126" class="difflineplus">+      content/editor/EdFieldSetProps.xul                       (dialogs/content/EdFieldSetProps.xul)</span>
<a href="#l77.127"></a><span id="l77.127" class="difflineplus">+      content/editor/EdFieldSetProps.js                        (dialogs/content/EdFieldSetProps.js)</span>
<a href="#l77.128"></a><span id="l77.128" class="difflineplus">+      content/editor/EdInsSrc.xul                              (dialogs/content/EdInsSrc.xul)</span>
<a href="#l77.129"></a><span id="l77.129" class="difflineplus">+      content/editor/EdInsSrc.js                               (dialogs/content/EdInsSrc.js)</span>
<a href="#l77.130"></a><span id="l77.130" class="difflineplus">+      content/editor/EdInsertChars.xul                         (dialogs/content/EdInsertChars.xul)</span>
<a href="#l77.131"></a><span id="l77.131" class="difflineplus">+      content/editor/EdInsertChars.js                          (dialogs/content/EdInsertChars.js)</span>
<a href="#l77.132"></a><span id="l77.132" class="difflineplus">+      content/editor/EdDialogOverlay.xul                       (dialogs/content/EdDialogOverlay.xul)</span>
<a href="#l77.133"></a><span id="l77.133" class="difflineplus">+      content/editor/EdAdvancedEdit.xul                        (dialogs/content/EdAdvancedEdit.xul)</span>
<a href="#l77.134"></a><span id="l77.134" class="difflineplus">+      content/editor/EdAdvancedEdit.js                         (dialogs/content/EdAdvancedEdit.js)</span>
<a href="#l77.135"></a><span id="l77.135" class="difflineplus">+      content/editor/EdListProps.xul                           (dialogs/content/EdListProps.xul)</span>
<a href="#l77.136"></a><span id="l77.136" class="difflineplus">+      content/editor/EdListProps.js                            (dialogs/content/EdListProps.js)</span>
<a href="#l77.137"></a><span id="l77.137" class="difflineplus">+      content/editor/EdPageProps.xul                           (dialogs/content/EdPageProps.xul)</span>
<a href="#l77.138"></a><span id="l77.138" class="difflineplus">+      content/editor/EdPageProps.js                            (dialogs/content/EdPageProps.js)</span>
<a href="#l77.139"></a><span id="l77.139" class="difflineplus">+      content/editor/EdColorProps.xul                          (dialogs/content/EdColorProps.xul)</span>
<a href="#l77.140"></a><span id="l77.140" class="difflineplus">+      content/editor/EdColorProps.js                           (dialogs/content/EdColorProps.js)</span>
<a href="#l77.141"></a><span id="l77.141" class="difflineplus">+      content/editor/EdColorPicker.xul                         (dialogs/content/EdColorPicker.xul)</span>
<a href="#l77.142"></a><span id="l77.142" class="difflineplus">+      content/editor/EdColorPicker.js                          (dialogs/content/EdColorPicker.js)</span>
<a href="#l77.143"></a><span id="l77.143" class="difflineplus">+      content/editor/EdAECSSAttributes.js                      (dialogs/content/EdAECSSAttributes.js)</span>
<a href="#l77.144"></a><span id="l77.144" class="difflineplus">+      content/editor/EdAEHTMLAttributes.js                     (dialogs/content/EdAEHTMLAttributes.js)</span>
<a href="#l77.145"></a><span id="l77.145" class="difflineplus">+      content/editor/EdAEJSEAttributes.js                      (dialogs/content/EdAEJSEAttributes.js)</span>
<a href="#l77.146"></a><span id="l77.146" class="difflineplus">+      content/editor/EdAEAttributes.js                         (dialogs/content/EdAEAttributes.js)</span>
<a href="#l77.147"></a><span id="l77.147" class="difflineplus">+      content/editor/EdConvertToTable.xul                      (dialogs/content/EdConvertToTable.xul)</span>
<a href="#l77.148"></a><span id="l77.148" class="difflineplus">+      content/editor/EdConvertToTable.js                       (dialogs/content/EdConvertToTable.js)</span>
<a href="#l77.149"></a><span id="l77.149"> #ifdef MOZ_SUITE</span>
<a href="#l77.150"></a><span id="l77.150">       content/editor/editor.xul                                (composer/content/editor.xul)</span>
<a href="#l77.151"></a><span id="l77.151">       content/editor/editingOverlay.js                         (composer/content/editingOverlay.js)</span>
<a href="#l77.152"></a><span id="l77.152">       content/editor/publishprefs.js                           (composer/content/publishprefs.js)</span>
<a href="#l77.153"></a><span id="l77.153">       content/editor/EditorContextMenu.js                      (composer/content/EditorContextMenu.js)</span>
<a href="#l77.154"></a><span id="l77.154">       content/editor/EditorContextMenuOverlay.xul              (composer/content/EditorContextMenuOverlay.xul)</span>
<a href="#l77.155"></a><span id="l77.155">       content/editor/EditorAllTags.css                         (composer/content/EditorAllTags.css)</span>
<a href="#l77.156"></a><span id="l77.156" class="difflineminus">-      content/editor/editorNavigatorOverlay.xul                (composer/content/editorNavigatorOverlay.xul) </span>
<a href="#l77.157"></a><span id="l77.157" class="difflineminus">-      content/editor/editorMailOverlay.xul                     (composer/content/editorMailOverlay.xul) </span>
<a href="#l77.158"></a><span id="l77.158" class="difflineminus">-      content/editor/editorTasksOverlay.xul                    (composer/content/editorTasksOverlay.xul) </span>
<a href="#l77.159"></a><span id="l77.159" class="difflineminus">-      content/editor/editorOverlay.xul                         (composer/content/editorOverlay.xul) </span>
<a href="#l77.160"></a><span id="l77.160" class="difflineplus">+      content/editor/editorNavigatorOverlay.xul                (composer/content/editorNavigatorOverlay.xul)</span>
<a href="#l77.161"></a><span id="l77.161" class="difflineplus">+      content/editor/editorMailOverlay.xul                     (composer/content/editorMailOverlay.xul)</span>
<a href="#l77.162"></a><span id="l77.162" class="difflineplus">+      content/editor/editorTasksOverlay.xul                    (composer/content/editorTasksOverlay.xul)</span>
<a href="#l77.163"></a><span id="l77.163" class="difflineplus">+      content/editor/editorOverlay.xul                         (composer/content/editorOverlay.xul)</span>
<a href="#l77.164"></a><span id="l77.164">       content/editor/editingOverlay.xul                        (composer/content/editingOverlay.xul)</span>
<a href="#l77.165"></a><span id="l77.165">       content/editor/composerOverlay.xul                       (composer/content/composerOverlay.xul)</span>
<a href="#l77.166"></a><span id="l77.166">       content/editor/pref-toolbars.xul                         (composer/content/pref-toolbars.xul)</span>
<a href="#l77.167"></a><span id="l77.167">       content/editor/pref-editing.xul                          (composer/content/pref-editing.xul)</span>
<a href="#l77.168"></a><span id="l77.168">       content/editor/pref-editing.js                           (composer/content/pref-editing.js)</span>
<a href="#l77.169"></a><span id="l77.169">       content/editor/pref-composer.xul                         (composer/content/pref-composer.xul)</span>
<a href="#l77.170"></a><span id="l77.170">       content/editor/editorPrefsOverlay.xul                    (composer/content/editorPrefsOverlay.xul)</span>
<a href="#l77.171"></a><span id="l77.171">       content/editor/StructBarContextMenu.js                   (composer/content/StructBarContextMenu.js)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l78.1"></a><span id="l78.1" class="difflineminus">--- a/editor/ui/locales/en-US/chrome/composer/editor.dtd</span>
<a href="#l78.2"></a><span id="l78.2" class="difflineplus">+++ b/editor/ui/locales/en-US/chrome/composer/editor.dtd</span>
<a href="#l78.3"></a><span id="l78.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l78.4"></a><span id="l78.4"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l78.5"></a><span id="l78.5">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l78.6"></a><span id="l78.6">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l78.7"></a><span id="l78.7"> </span>
<a href="#l78.8"></a><span id="l78.8"> &lt;!-- Window title --&gt;</span>
<a href="#l78.9"></a><span id="l78.9"> &lt;!-- LOCALIZATION NOTE  (editorWindow.titlemodifier): DONT_TRANSLATE --&gt;</span>
<a href="#l78.10"></a><span id="l78.10" class="difflineminus">-&lt;!ENTITY editorWindow.titlemodifier &quot;Composer&quot;&gt; </span>
<a href="#l78.11"></a><span id="l78.11" class="difflineplus">+&lt;!ENTITY editorWindow.titlemodifier &quot;Composer&quot;&gt;</span>
<a href="#l78.12"></a><span id="l78.12"> &lt;!ENTITY editorWindow.titlemodifiermenuseparator &quot; - &quot;&gt;</span>
<a href="#l78.13"></a><span id="l78.13"> </span>
<a href="#l78.14"></a><span id="l78.14"> &lt;!-- Menu items:  the . means that the menu item isn't implemented yet --&gt;</span>
<a href="#l78.15"></a><span id="l78.15"> </span>
<a href="#l78.16"></a><span id="l78.16"> &lt;!-- Toolbar-only items --&gt;</span>
<a href="#l78.17"></a><span id="l78.17"> &lt;!ENTITY compositionToolbar.tooltip &quot;Composition Toolbar&quot;&gt;</span>
<a href="#l78.18"></a><span id="l78.18"> &lt;!ENTITY previewToolbarCmd.label &quot;Browse&quot;&gt;</span>
<a href="#l78.19"></a><span id="l78.19"> &lt;!ENTITY previewToolbarCmd.tooltip &quot;Load this page in the browser&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l79.1"></a><span id="l79.1" class="difflineminus">--- a/editor/ui/locales/en-US/chrome/composer/editor.properties</span>
<a href="#l79.2"></a><span id="l79.2" class="difflineplus">+++ b/editor/ui/locales/en-US/chrome/composer/editor.properties</span>
<a href="#l79.3"></a><span id="l79.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l79.4"></a><span id="l79.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l79.5"></a><span id="l79.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l79.6"></a><span id="l79.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l79.7"></a><span id="l79.7"> </span>
<a href="#l79.8"></a><span id="l79.8"> # LOCALIZATION NOTE FILE: embedded &quot;\n&quot; represent HTML breaks (&lt;br&gt;)</span>
<a href="#l79.9"></a><span id="l79.9"> # Don't translate embedded &quot;\n&quot;.</span>
<a href="#l79.10"></a><span id="l79.10" class="difflineminus">-# Don't translate strings like this: %variable% </span>
<a href="#l79.11"></a><span id="l79.11" class="difflineplus">+# Don't translate strings like this: %variable%</span>
<a href="#l79.12"></a><span id="l79.12"> #  as they will be replaced using JavaScript</span>
<a href="#l79.13"></a><span id="l79.13"> #</span>
<a href="#l79.14"></a><span id="l79.14"> No=No</span>
<a href="#l79.15"></a><span id="l79.15"> Save=Save</span>
<a href="#l79.16"></a><span id="l79.16"> More=More</span>
<a href="#l79.17"></a><span id="l79.17"> Less=Less</span>
<a href="#l79.18"></a><span id="l79.18"> MoreProperties=More Properties</span>
<a href="#l79.19"></a><span id="l79.19"> FewerProperties=Fewer Properties</span>
<a href="#l79.20"></a><span id="l79.20" class="difflineat">@@ -37,18 +37,18 @@ InputError=Error</span>
<a href="#l79.21"></a><span id="l79.21"> Alert=Alert</span>
<a href="#l79.22"></a><span id="l79.22"> CantEditFramesetMsg=Composer cannot edit HTML framesets, or pages with inline frames. For framesets, try editing the page for each frame separately. For pages with iframes, save a copy of the page and remove the &lt;iframe&gt; tag.</span>
<a href="#l79.23"></a><span id="l79.23"> CantEditMimeTypeMsg=This type of page can't be edited.</span>
<a href="#l79.24"></a><span id="l79.24"> CantEditDocumentMsg=This page can't be edited for an unknown reason.</span>
<a href="#l79.25"></a><span id="l79.25"> BeforeClosing=before closing</span>
<a href="#l79.26"></a><span id="l79.26"> BeforePreview=before viewing in the browser</span>
<a href="#l79.27"></a><span id="l79.27"> BeforeValidate=before validating the document</span>
<a href="#l79.28"></a><span id="l79.28"> # LOCALIZATION NOTE (SaveFilePrompt, PublishPrompt): Don't translate %title% and %reason% (this is the reason for asking user to close, such as &quot;before closing&quot;)</span>
<a href="#l79.29"></a><span id="l79.29" class="difflineminus">-SaveFilePrompt=Save changes to &quot;%title%&quot; %reason%? </span>
<a href="#l79.30"></a><span id="l79.30" class="difflineminus">-PublishPrompt=Save changes to &quot;%title%&quot; %reason%? </span>
<a href="#l79.31"></a><span id="l79.31" class="difflineplus">+SaveFilePrompt=Save changes to &quot;%title%&quot; %reason%?</span>
<a href="#l79.32"></a><span id="l79.32" class="difflineplus">+PublishPrompt=Save changes to &quot;%title%&quot; %reason%?</span>
<a href="#l79.33"></a><span id="l79.33"> SaveFileFailed=Saving file failed!</span>
<a href="#l79.34"></a><span id="l79.34"> </span>
<a href="#l79.35"></a><span id="l79.35"> # Publishing error strings:</span>
<a href="#l79.36"></a><span id="l79.36"> # LOCALIZATION NOTE Don't translate %dir% or %file% in the Publishing error strings:</span>
<a href="#l79.37"></a><span id="l79.37"> FileNotFound=%file% not found.</span>
<a href="#l79.38"></a><span id="l79.38"> SubdirDoesNotExist=The subdirectory &quot;%dir%&quot; doesn't exist on this site or the filename &quot;%file%&quot; is already in use by another subdirectory.</span>
<a href="#l79.39"></a><span id="l79.39"> FilenameIsSubdir=The filename &quot;%file%&quot; is already in use by another subdirectory.</span>
<a href="#l79.40"></a><span id="l79.40"> ServerNotAvailable=The server is not available. Check your connection and try again later.</span>
<a href="#l79.41"></a><span id="l79.41" class="difflineat">@@ -59,17 +59,17 @@ AccessDenied=You do not have permission </span>
<a href="#l79.42"></a><span id="l79.42"> UnknownPublishError=Unknown publishing error occurred.</span>
<a href="#l79.43"></a><span id="l79.43"> PublishFailed=Publishing failed.</span>
<a href="#l79.44"></a><span id="l79.44"> PublishCompleted=Publishing completed.</span>
<a href="#l79.45"></a><span id="l79.45"> AllFilesPublished=All files published</span>
<a href="#l79.46"></a><span id="l79.46"> # LOCALIZATION NOTE Don't translate %x% or %total%</span>
<a href="#l79.47"></a><span id="l79.47"> FailedFileMsg=%x% of %total% files failed to publish.</span>
<a href="#l79.48"></a><span id="l79.48"> # End-Publishing error strings</span>
<a href="#l79.49"></a><span id="l79.49"> Prompt=Prompt</span>
<a href="#l79.50"></a><span id="l79.50" class="difflineminus">-# LOCALIZATION NOTE (PromptFTPUsernamePassword): Don't translate %host% </span>
<a href="#l79.51"></a><span id="l79.51" class="difflineplus">+# LOCALIZATION NOTE (PromptFTPUsernamePassword): Don't translate %host%</span>
<a href="#l79.52"></a><span id="l79.52"> PromptFTPUsernamePassword=Enter username and password for FTP server at %host%</span>
<a href="#l79.53"></a><span id="l79.53"> RevertCaption=Revert To Last Saved</span>
<a href="#l79.54"></a><span id="l79.54"> Revert=Revert</span>
<a href="#l79.55"></a><span id="l79.55"> SendPageReason=before sending this page</span>
<a href="#l79.56"></a><span id="l79.56"> Send=Send</span>
<a href="#l79.57"></a><span id="l79.57"> ## LOCALIZATION NOTE (PublishProgressCaption, PublishToSite, AbandonChanges): Don't translate %title%</span>
<a href="#l79.58"></a><span id="l79.58"> PublishProgressCaption=Publishing: %title%</span>
<a href="#l79.59"></a><span id="l79.59"> PublishToSite=Publishing to Site: %title%</span>
<a href="#l79.60"></a><span id="l79.60" class="difflineat">@@ -116,17 +116,17 @@ Percent=percent</span>
<a href="#l79.61"></a><span id="l79.61"> PercentOfCell=% of cell</span>
<a href="#l79.62"></a><span id="l79.62"> PercentOfWindow=% of window</span>
<a href="#l79.63"></a><span id="l79.63"> PercentOfTable=% of table</span>
<a href="#l79.64"></a><span id="l79.64"> #LOCALIZATION NOTE (untitledTitle): %S is the window #.  No plural handling needed.</span>
<a href="#l79.65"></a><span id="l79.65"> untitledTitle=untitled-%S</span>
<a href="#l79.66"></a><span id="l79.66"> untitledDefaultFilename=untitled</span>
<a href="#l79.67"></a><span id="l79.67"> ShowToolbar=Show Toolbar</span>
<a href="#l79.68"></a><span id="l79.68"> HideToolbar=Hide Toolbar</span>
<a href="#l79.69"></a><span id="l79.69" class="difflineminus">-ImapError=Unable to load image </span>
<a href="#l79.70"></a><span id="l79.70" class="difflineplus">+ImapError=Unable to load image</span>
<a href="#l79.71"></a><span id="l79.71"> ImapCheck=\nPlease select a new location (URL) and try again.</span>
<a href="#l79.72"></a><span id="l79.72"> SaveToUseRelativeUrl=Relative URLs can only be used on pages which have been saved</span>
<a href="#l79.73"></a><span id="l79.73"> NoNamedAnchorsOrHeadings=(No named anchors or headings in this page)</span>
<a href="#l79.74"></a><span id="l79.74"> TextColor=Text Color</span>
<a href="#l79.75"></a><span id="l79.75"> HighlightColor=Highlight Color</span>
<a href="#l79.76"></a><span id="l79.76"> PageColor=Page Background Color</span>
<a href="#l79.77"></a><span id="l79.77"> BlockColor=Block Background Color</span>
<a href="#l79.78"></a><span id="l79.78"> TableColor=Table Background Color</span>
<a href="#l79.79"></a><span id="l79.79" class="difflineat">@@ -161,20 +161,20 @@ MissingPublishFilename=Please enter a fi</span>
<a href="#l79.80"></a><span id="l79.80"> #LOCALIZATION NOTE (DuplicateSiteNameError): Don't translate %name%</span>
<a href="#l79.81"></a><span id="l79.81"> DuplicateSiteNameError=&quot;%name%&quot; already exists. Please enter a different site name.</span>
<a href="#l79.82"></a><span id="l79.82"> AdvancedProperties=Advanced Properties</span>
<a href="#l79.83"></a><span id="l79.83"> AdvancedEditForCellMsg=Advanced Edit is unavailable when multiple cells are selected</span>
<a href="#l79.84"></a><span id="l79.84"> # LOCALIZATION NOTE (ObjectProperties):Don't translate &quot;%obj%&quot; it will be replaced with one of above object nouns</span>
<a href="#l79.85"></a><span id="l79.85"> ObjectProperties=%obj% Properties</span>
<a href="#l79.86"></a><span id="l79.86"> # LOCALIZATION NOTE This character must be in the above string and not conflict with other accesskeys in Format menu</span>
<a href="#l79.87"></a><span id="l79.87"> ObjectPropertiesAccessKey=o</span>
<a href="#l79.88"></a><span id="l79.88" class="difflineminus">-# LOCALIZATION NOTE (JoinSelectedCells): This variable should contain the &quot;tableJoinCells.accesskey&quot; </span>
<a href="#l79.89"></a><span id="l79.89" class="difflineplus">+# LOCALIZATION NOTE (JoinSelectedCells): This variable should contain the &quot;tableJoinCells.accesskey&quot;</span>
<a href="#l79.90"></a><span id="l79.90"> # letter as defined in editorOverlay.dtd</span>
<a href="#l79.91"></a><span id="l79.91"> JoinSelectedCells=Join Selected Cells</span>
<a href="#l79.92"></a><span id="l79.92" class="difflineminus">-# LOCALIZATION NOTE (JoinCellToRight): This variable should contain the &quot;tableJoinCells.accesskey&quot; </span>
<a href="#l79.93"></a><span id="l79.93" class="difflineplus">+# LOCALIZATION NOTE (JoinCellToRight): This variable should contain the &quot;tableJoinCells.accesskey&quot;</span>
<a href="#l79.94"></a><span id="l79.94"> # letter as defined in editorOverlay.dtd</span>
<a href="#l79.95"></a><span id="l79.95"> JoinCellToRight=Join with Cell to the Right</span>
<a href="#l79.96"></a><span id="l79.96"> JoinCellAccesskey=j</span>
<a href="#l79.97"></a><span id="l79.97"> # LOCALIZATION NOTE (TableSelectKey): Ctrl key on a keyboard</span>
<a href="#l79.98"></a><span id="l79.98"> TableSelectKey=Ctrl+</span>
<a href="#l79.99"></a><span id="l79.99"> # LOCALIZATION NOTE (XulKeyMac): Command key on a Mac keyboard</span>
<a href="#l79.100"></a><span id="l79.100"> XulKeyMac=Cmd+</span>
<a href="#l79.101"></a><span id="l79.101"> # LOCALIZATION NOTE (Del): Del key on a keyboard</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

