<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 20052:377282fc615d97ac51cdc94ed1f52f8e7cc702f1</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 377282fc615d97ac51cdc94ed1f52f8e7cc702f1" />
<meta property="og:url" content="/comm-central/rev/377282fc615d97ac51cdc94ed1f52f8e7cc702f1" />
<meta property="og:description" content="Bug 1280898 - Set up eslint for calendar files - enable no-unused-vars rule. r=MakeMyDay" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 377282fc615d97ac51cdc94ed1f52f8e7cc702f1 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/377282fc615d97ac51cdc94ed1f52f8e7cc702f1">shortlog</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/377282fc615d97ac51cdc94ed1f52f8e7cc702f1">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1">files</a> |
changeset |
<a href="/comm-central/raw-rev/377282fc615d97ac51cdc94ed1f52f8e7cc702f1">raw</a>  | <a href="/comm-central/archive/377282fc615d97ac51cdc94ed1f52f8e7cc702f1.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">Bug 1280898</a> - Set up eslint for calendar files - enable no-unused-vars rule. r=MakeMyDay
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#101;&#115;&#108;&#105;&#110;&#116;&#32;&#60;&#101;&#115;&#108;&#105;&#110;&#116;&#64;&#98;&#117;&#103;&#122;&#105;&#108;&#108;&#97;&#46;&#107;&#101;&#119;&#105;&#115;&#46;&#99;&#104;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 08 Jul 2016 11:19:31 +0200</td></tr>

<tr>
 <td>changeset 20052</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/377282fc615d97ac51cdc94ed1f52f8e7cc702f1">377282fc615d97ac51cdc94ed1f52f8e7cc702f1</a></td>
</tr>



<tr>
<td>parent 20051</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/7063147fed66249f88739ba93466bd58a7ff032f">7063147fed66249f88739ba93466bd58a7ff032f</a>
</td>
</tr>

<tr>
<td>child 20053</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/096b191f8462122f21500bd9343d7a66aabe5ab7">096b191f8462122f21500bd9343d7a66aabe5ab7</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=377282fc615d97ac51cdc94ed1f52f8e7cc702f1">12300</a></td></tr>
<tr><td>push user</td><td>mozilla@kewis.ch</td></tr>
<tr><td>push date</td><td class="date age">Fri, 16 Sep 2016 20:36:34 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@377282fc615d [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=377282fc615d97ac51cdc94ed1f52f8e7cc702f1">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=377282fc615d97ac51cdc94ed1f52f8e7cc702f1&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=377282fc615d97ac51cdc94ed1f52f8e7cc702f1&newProject=comm-central&newRevision=377282fc615d97ac51cdc94ed1f52f8e7cc702f1&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=377282fc615d97ac51cdc94ed1f52f8e7cc702f1&newProject=comm-central&newRevision=377282fc615d97ac51cdc94ed1f52f8e7cc702f1&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=377282fc615d97ac51cdc94ed1f52f8e7cc702f1&newProject=comm-central&newRevision=377282fc615d97ac51cdc94ed1f52f8e7cc702f1&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28MakeMyDay%29&revcount=50">MakeMyDay</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">1280898</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">Bug 1280898</a> - Set up eslint for calendar files - enable no-unused-vars rule. r=MakeMyDay

MozReview-Commit-ID: 5RE9QCjTKpf</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/.eslintrc">calendar/.eslintrc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/.eslintrc">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/.eslintrc">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/.eslintrc">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/.eslintrc">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/.eslintrc">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/calBackendLoader.js">calendar/base/backend/calBackendLoader.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/calBackendLoader.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/calBackendLoader.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/calBackendLoader.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/calBackendLoader.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/calBackendLoader.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICALJSComponents.js">calendar/base/backend/icaljs/calICALJSComponents.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICALJSComponents.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICALJSComponents.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICALJSComponents.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICALJSComponents.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICALJSComponents.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService-worker.js">calendar/base/backend/icaljs/calICSService-worker.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService-worker.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService-worker.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService-worker.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService-worker.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService-worker.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService.js">calendar/base/backend/icaljs/calICSService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/backend/icaljs/calICSService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/agenda-listbox.js">calendar/base/content/agenda-listbox.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/agenda-listbox.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/agenda-listbox.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/agenda-listbox.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/agenda-listbox.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/agenda-listbox.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-base-view.xml">calendar/base/content/calendar-base-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-base-view.xml">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-base-view.xml">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-base-view.xml">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-base-view.xml">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-base-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-chrome-startup.js">calendar/base/content/calendar-chrome-startup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-chrome-startup.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-chrome-startup.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-chrome-startup.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-chrome-startup.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-chrome-startup.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-clipboard.js">calendar/base/content/calendar-clipboard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-clipboard.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-clipboard.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-clipboard.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-clipboard.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-clipboard.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-common-sets.js">calendar/base/content/calendar-common-sets.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-common-sets.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-common-sets.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-common-sets.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-common-sets.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-common-sets.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-extract.js">calendar/base/content/calendar-extract.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-extract.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-extract.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-extract.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-extract.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-extract.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-invitations-manager.js">calendar/base/content/calendar-invitations-manager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-invitations-manager.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-invitations-manager.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-invitations-manager.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-invitations-manager.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-invitations-manager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-item-editing.js">calendar/base/content/calendar-item-editing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-item-editing.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-item-editing.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-item-editing.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-item-editing.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-item-editing.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-management.js">calendar/base/content/calendar-management.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-management.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-management.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-management.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-management.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-management.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-multiday-view.xml">calendar/base/content/calendar-multiday-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-multiday-view.xml">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-multiday-view.xml">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-multiday-view.xml">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-multiday-view.xml">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-multiday-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-statusbar.js">calendar/base/content/calendar-statusbar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-statusbar.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-statusbar.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-statusbar.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-statusbar.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-statusbar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.js">calendar/base/content/calendar-task-tree.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.xml">calendar/base/content/calendar-task-tree.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.xml">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.xml">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.xml">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.xml">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-tree.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-view.js">calendar/base/content/calendar-task-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-view.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-view.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-view.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-view.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-task-view.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-ui-utils.js">calendar/base/content/calendar-ui-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-ui-utils.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-ui-utils.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-ui-utils.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-ui-utils.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-ui-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder-todo.js">calendar/base/content/calendar-unifinder-todo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder-todo.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder-todo.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder-todo.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder-todo.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder-todo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder.js">calendar/base/content/calendar-unifinder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-unifinder.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-views.js">calendar/base/content/calendar-views.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-views.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-views.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-views.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-views.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/calendar-views.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-alarm-dialog.js">calendar/base/content/dialogs/calendar-alarm-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-alarm-dialog.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-alarm-dialog.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-alarm-dialog.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-alarm-dialog.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-alarm-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-creation.js">calendar/base/content/dialogs/calendar-creation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-creation.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-creation.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-creation.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-creation.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-creation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-dialog-utils.js">calendar/base/content/dialogs/calendar-dialog-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-dialog-utils.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-dialog-utils.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-dialog-utils.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-dialog-utils.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-dialog-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">calendar/base/content/dialogs/calendar-event-dialog-attendees.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">calendar/base/content/dialogs/calendar-event-dialog-reminder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">calendar/base/content/dialogs/calendar-event-dialog-timezone.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-event-dialog-timezone.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-invitations-dialog.js">calendar/base/content/dialogs/calendar-invitations-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-invitations-dialog.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-invitations-dialog.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-invitations-dialog.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-invitations-dialog.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-invitations-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-print-dialog.js">calendar/base/content/dialogs/calendar-print-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-print-dialog.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-print-dialog.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-print-dialog.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-print-dialog.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-print-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-properties-dialog.js">calendar/base/content/dialogs/calendar-properties-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-properties-dialog.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-properties-dialog.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-properties-dialog.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-properties-dialog.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-properties-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-providerUninstall-dialog.js">calendar/base/content/dialogs/calendar-providerUninstall-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-providerUninstall-dialog.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-providerUninstall-dialog.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-providerUninstall-dialog.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-providerUninstall-dialog.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-providerUninstall-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">calendar/base/content/dialogs/calendar-subscriptions-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-summary-dialog.js">calendar/base/content/dialogs/calendar-summary-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-summary-dialog.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-summary-dialog.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-summary-dialog.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-summary-dialog.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/dialogs/calendar-summary-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/import-export.js">calendar/base/content/import-export.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/import-export.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/import-export.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/import-export.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/import-export.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/import-export.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/alarms.js">calendar/base/content/preferences/alarms.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/alarms.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/alarms.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/alarms.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/alarms.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/alarms.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/categories.js">calendar/base/content/preferences/categories.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/categories.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/categories.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/categories.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/categories.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/categories.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/editCategory.js">calendar/base/content/preferences/editCategory.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/editCategory.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/editCategory.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/editCategory.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/editCategory.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/editCategory.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/general.js">calendar/base/content/preferences/general.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/general.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/general.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/general.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/general.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/general.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/views.js">calendar/base/content/preferences/views.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/views.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/views.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/views.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/views.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/preferences/views.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-alarm-widget.xml">calendar/base/content/widgets/calendar-alarm-widget.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-alarm-widget.xml">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-alarm-widget.xml">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-alarm-widget.xml">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-alarm-widget.xml">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-alarm-widget.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-list-tree.xml">calendar/base/content/widgets/calendar-list-tree.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-list-tree.xml">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-list-tree.xml">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-list-tree.xml">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-list-tree.xml">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-list-tree.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-widgets.xml">calendar/base/content/widgets/calendar-widgets.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-widgets.xml">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-widgets.xml">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-widgets.xml">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-widgets.xml">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/content/widgets/calendar-widgets.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calExtract.jsm">calendar/base/modules/calExtract.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calExtract.jsm">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calExtract.jsm">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calExtract.jsm">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calExtract.jsm">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calExtract.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calRecurrenceUtils.jsm">calendar/base/modules/calRecurrenceUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calRecurrenceUtils.jsm">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calRecurrenceUtils.jsm">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calRecurrenceUtils.jsm">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calRecurrenceUtils.jsm">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/modules/calRecurrenceUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarm.js">calendar/base/src/calAlarm.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarm.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarm.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarm.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarm.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarm.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarmService.js">calendar/base/src/calAlarmService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarmService.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarmService.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarmService.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarmService.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calAlarmService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calApplicationUtils.js">calendar/base/src/calApplicationUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calApplicationUtils.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calApplicationUtils.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calApplicationUtils.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calApplicationUtils.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calApplicationUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calCalendarManager.js">calendar/base/src/calCalendarManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calCalendarManager.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calCalendarManager.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calCalendarManager.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calCalendarManager.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calCalendarManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calDefaultACLManager.js">calendar/base/src/calDefaultACLManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calDefaultACLManager.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calDefaultACLManager.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calDefaultACLManager.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calDefaultACLManager.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calDefaultACLManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calIcsParser.js">calendar/base/src/calIcsParser.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calIcsParser.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calIcsParser.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calIcsParser.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calIcsParser.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calIcsParser.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemBase.js">calendar/base/src/calItemBase.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemBase.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemBase.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemBase.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemBase.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemBase.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemModule.js">calendar/base/src/calItemModule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemModule.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemModule.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemModule.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemModule.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calItemModule.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calRecurrenceInfo.js">calendar/base/src/calRecurrenceInfo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calRecurrenceInfo.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calRecurrenceInfo.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calRecurrenceInfo.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calRecurrenceInfo.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calRecurrenceInfo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calSleepMonitor.js">calendar/base/src/calSleepMonitor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calSleepMonitor.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calSleepMonitor.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calSleepMonitor.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calSleepMonitor.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calSleepMonitor.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calTimezoneService.js">calendar/base/src/calTimezoneService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calTimezoneService.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calTimezoneService.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calTimezoneService.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calTimezoneService.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calTimezoneService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calUtils.js">calendar/base/src/calUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calUtils.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calUtils.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calUtils.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calUtils.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/base/src/calUtils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calImportExportModule.js">calendar/import-export/calImportExportModule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calImportExportModule.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calImportExportModule.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calImportExportModule.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calImportExportModule.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calImportExportModule.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calOutlookCSVImportExport.js">calendar/import-export/calOutlookCSVImportExport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calOutlookCSVImportExport.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calOutlookCSVImportExport.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calOutlookCSVImportExport.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calOutlookCSVImportExport.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/import-export/calOutlookCSVImportExport.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/itip/calItipEmailTransport.js">calendar/itip/calItipEmailTransport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/itip/calItipEmailTransport.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/itip/calItipEmailTransport.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/itip/calItipEmailTransport.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/itip/calItipEmailTransport.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/itip/calItipEmailTransport.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/calItipProtocolHandler.js">calendar/lightning/components/calItipProtocolHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/calItipProtocolHandler.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/calItipProtocolHandler.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/calItipProtocolHandler.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/calItipProtocolHandler.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/calItipProtocolHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/lightningTextCalendarConverter.js">calendar/lightning/components/lightningTextCalendarConverter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/lightningTextCalendarConverter.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/lightningTextCalendarConverter.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/lightningTextCalendarConverter.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/lightningTextCalendarConverter.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/components/lightningTextCalendarConverter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/html-item-editing/react-code.js">calendar/lightning/content/html-item-editing/react-code.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/html-item-editing/react-code.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/html-item-editing/react-code.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/html-item-editing/react-code.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/html-item-editing/react-code.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/html-item-editing/react-code.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-iframe.js">calendar/lightning/content/lightning-item-iframe.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-iframe.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-iframe.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-iframe.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-iframe.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-iframe.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-panel.js">calendar/lightning/content/lightning-item-panel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-panel.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-panel.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-panel.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-panel.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-item-panel.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-utils.js">calendar/lightning/content/lightning-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-utils.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-utils.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-utils.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-utils.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/lightning-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-preferences.js">calendar/lightning/content/messenger-overlay-preferences.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-preferences.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-preferences.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-preferences.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-preferences.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-preferences.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-sidebar.js">calendar/lightning/content/messenger-overlay-sidebar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-sidebar.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-sidebar.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-sidebar.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-sidebar.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/content/messenger-overlay-sidebar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/modules/ltnUtils.jsm">calendar/lightning/modules/ltnUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/modules/ltnUtils.jsm">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/modules/ltnUtils.jsm">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/modules/ltnUtils.jsm">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/modules/ltnUtils.jsm">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/lightning/modules/ltnUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/caldav/calDavCalendar.js">calendar/providers/caldav/calDavCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/caldav/calDavCalendar.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/caldav/calDavCalendar.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/caldav/calDavCalendar.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/caldav/calDavCalendar.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/caldav/calDavCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/composite/calCompositeCalendar.js">calendar/providers/composite/calCompositeCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/composite/calCompositeCalendar.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/composite/calCompositeCalendar.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/composite/calCompositeCalendar.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/composite/calCompositeCalendar.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/composite/calCompositeCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/ics/calICSCalendar.js">calendar/providers/ics/calICSCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/ics/calICSCalendar.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/ics/calICSCalendar.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/ics/calICSCalendar.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/ics/calICSCalendar.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/ics/calICSCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/memory/calMemoryCalendar.js">calendar/providers/memory/calMemoryCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/memory/calMemoryCalendar.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/memory/calMemoryCalendar.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/memory/calMemoryCalendar.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/memory/calMemoryCalendar.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/memory/calMemoryCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageCalendar.js">calendar/providers/storage/calStorageCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageCalendar.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageCalendar.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageCalendar.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageCalendar.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageHelpers.jsm">calendar/providers/storage/calStorageHelpers.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageHelpers.jsm">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageHelpers.jsm">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageHelpers.jsm">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageHelpers.jsm">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageHelpers.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageUpgrade.jsm">calendar/providers/storage/calStorageUpgrade.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageUpgrade.jsm">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageUpgrade.jsm">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageUpgrade.jsm">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageUpgrade.jsm">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/storage/calStorageUpgrade.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarItems.js">calendar/providers/wcap/calWcapCalendarItems.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarItems.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarItems.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarItems.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarItems.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarItems.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarModule.js">calendar/providers/wcap/calWcapCalendarModule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarModule.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarModule.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarModule.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarModule.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapCalendarModule.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapErrors.js">calendar/providers/wcap/calWcapErrors.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapErrors.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapErrors.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapErrors.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapErrors.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapErrors.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapRequest.js">calendar/providers/wcap/calWcapRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapRequest.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapRequest.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapRequest.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapRequest.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapRequest.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapSession.js">calendar/providers/wcap/calWcapSession.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapSession.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapSession.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapSession.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapSession.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapSession.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapUtils.js">calendar/providers/wcap/calWcapUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapUtils.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapUtils.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapUtils.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapUtils.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/providers/wcap/calWcapUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/calendarCreation.js">calendar/resources/content/calendarCreation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/calendarCreation.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/calendarCreation.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/calendarCreation.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/calendarCreation.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/calendarCreation.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/datetimepickers/datetimepickers.xml">calendar/resources/content/datetimepickers/datetimepickers.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/datetimepickers/datetimepickers.xml">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/datetimepickers/datetimepickers.xml">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/datetimepickers/datetimepickers.xml">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/datetimepickers/datetimepickers.xml">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/datetimepickers/datetimepickers.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/mouseoverPreviews.js">calendar/resources/content/mouseoverPreviews.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/mouseoverPreviews.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/mouseoverPreviews.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/mouseoverPreviews.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/mouseoverPreviews.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/mouseoverPreviews.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publish.js">calendar/resources/content/publish.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publish.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publish.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publish.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publish.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publish.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publishDialog.js">calendar/resources/content/publishDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publishDialog.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publishDialog.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publishDialog.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publishDialog.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/resources/content/publishDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/.eslintrc">calendar/test/mozmill/.eslintrc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/.eslintrc">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/.eslintrc">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/.eslintrc">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/.eslintrc">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/.eslintrc">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialog.js">calendar/test/mozmill/eventDialog/testEventDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialog.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialog.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialog.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialog.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/shared-modules/timezone-utils.js">calendar/test/mozmill/shared-modules/timezone-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/shared-modules/timezone-utils.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/shared-modules/timezone-utils.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/shared-modules/timezone-utils.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/shared-modules/timezone-utils.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/shared-modules/timezone-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test10.js">calendar/test/mozmill/timezoneTests/test10.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test10.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test10.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test10.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test10.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test10.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test2.js">calendar/test/mozmill/timezoneTests/test2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test2.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test2.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test2.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test2.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test3.js">calendar/test/mozmill/timezoneTests/test3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test3.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test3.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test3.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test3.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test4.js">calendar/test/mozmill/timezoneTests/test4.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test4.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test4.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test4.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test4.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test4.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test5.js">calendar/test/mozmill/timezoneTests/test5.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test5.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test5.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test5.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test5.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test5.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test6.js">calendar/test/mozmill/timezoneTests/test6.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test6.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test6.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test6.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test6.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test6.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test7.js">calendar/test/mozmill/timezoneTests/test7.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test7.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test7.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test7.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test7.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test7.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test8.js">calendar/test/mozmill/timezoneTests/test8.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test8.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test8.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test8.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test8.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test8.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test9.js">calendar/test/mozmill/timezoneTests/test9.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test9.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test9.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test9.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test9.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/mozmill/timezoneTests/test9.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/.eslintrc">calendar/test/unit/.eslintrc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/.eslintrc">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/.eslintrc">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/.eslintrc">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/.eslintrc">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/.eslintrc">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/head_consts.js">calendar/test/unit/head_consts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/head_consts.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/head_consts.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/head_consts.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/head_consts.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/head_consts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_alarm.js">calendar/test/unit/test_alarm.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_alarm.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_alarm.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_alarm.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_alarm.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_alarm.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_attendee.js">calendar/test/unit/test_attendee.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_attendee.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_attendee.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_attendee.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_attendee.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_attendee.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug1209399.js">calendar/test/unit/test_bug1209399.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug1209399.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug1209399.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug1209399.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug1209399.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug1209399.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug494140.js">calendar/test/unit/test_bug494140.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug494140.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug494140.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug494140.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug494140.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_bug494140.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_calmgr.js">calendar/test/unit/test_calmgr.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_calmgr.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_calmgr.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_calmgr.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_calmgr.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_calmgr.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_extract.js">calendar/test/unit/test_extract.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_extract.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_extract.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_extract.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_extract.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_extract.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_freebusy_service.js">calendar/test/unit/test_freebusy_service.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_freebusy_service.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_freebusy_service.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_freebusy_service.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_freebusy_service.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_freebusy_service.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_gdata_provider.js">calendar/test/unit/test_gdata_provider.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_gdata_provider.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_gdata_provider.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_gdata_provider.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_gdata_provider.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_gdata_provider.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_hashedarray.js">calendar/test/unit/test_hashedarray.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_hashedarray.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_hashedarray.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_hashedarray.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_hashedarray.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_hashedarray.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ics_service.js">calendar/test/unit/test_ics_service.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ics_service.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ics_service.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ics_service.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ics_service.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ics_service.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ltninvitationutils.js">calendar/test/unit/test_ltninvitationutils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ltninvitationutils.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ltninvitationutils.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ltninvitationutils.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ltninvitationutils.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_ltninvitationutils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_recur.js">calendar/test/unit/test_recur.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_recur.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_recur.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_recur.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_recur.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_recur.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_search_service.js">calendar/test/unit/test_search_service.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_search_service.js">file</a> |
<a href="/comm-central/annotate/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_search_service.js">annotate</a> |
<a href="/comm-central/diff/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_search_service.js">diff</a> |
<a href="/comm-central/comparison/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_search_service.js">comparison</a> |
<a href="/comm-central/log/377282fc615d97ac51cdc94ed1f52f8e7cc702f1/calendar/test/unit/test_search_service.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/.eslintrc</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/.eslintrc</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -200,16 +200,21 @@</span>
<a href="#l1.4"></a><span id="l1.4">     // confused.</span>
<a href="#l1.5"></a><span id="l1.5">     &quot;no-shadow&quot;: 2,</span>
<a href="#l1.6"></a><span id="l1.6"> </span>
<a href="#l1.7"></a><span id="l1.7">     // We use var-only-at-top-level instead of no-var as we allow top level</span>
<a href="#l1.8"></a><span id="l1.8">     // vars.</span>
<a href="#l1.9"></a><span id="l1.9">     &quot;no-var&quot;: 0,</span>
<a href="#l1.10"></a><span id="l1.10">     &quot;mozilla/var-only-at-top-level&quot;: 1,</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+    // Disallow global and local variables that aren't used, but allow unused function arguments.</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+    &quot;no-unused-vars&quot;: [2, {&quot;vars&quot;: &quot;all&quot;, &quot;args&quot;: &quot;none&quot;, &quot;varsIgnorePattern&quot;: &quot;EXPORTED_SYMBOLS&quot;}],</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+    &quot;mozilla/mark-test-function-used&quot;: 1,</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+</span>
<a href="#l1.17"></a><span id="l1.17">     // Will enable these rules later</span>
<a href="#l1.18"></a><span id="l1.18">     &quot;block-spacing&quot;: 0,</span>
<a href="#l1.19"></a><span id="l1.19">     &quot;no-lonely-if&quot;: 0,</span>
<a href="#l1.20"></a><span id="l1.20">     &quot;space-before-blocks&quot;: 0,</span>
<a href="#l1.21"></a><span id="l1.21">     &quot;computed-property-spacing&quot;: 0,</span>
<a href="#l1.22"></a><span id="l1.22">     &quot;consistent-return&quot;: 0,</span>
<a href="#l1.23"></a><span id="l1.23"> </span>
<a href="#l1.24"></a><span id="l1.24">     // The following rules will not be enabled currently, but are kept here for</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/backend/calBackendLoader.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/backend/calBackendLoader.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -53,9 +53,9 @@ calBackendLoader.prototype = {</span>
<a href="#l2.4"></a><span id="l2.4"> </span>
<a href="#l2.5"></a><span id="l2.5">         Components.manager.QueryInterface(Components.interfaces.nsIComponentRegistrar)</span>
<a href="#l2.6"></a><span id="l2.6">                   .autoRegister(file);</span>
<a href="#l2.7"></a><span id="l2.7">         dump(&quot;[calBackendLoader] Using &quot; + backend + &quot; backend at &quot; + file.path + &quot;\n&quot;);</span>
<a href="#l2.8"></a><span id="l2.8">         this.loaded = true;</span>
<a href="#l2.9"></a><span id="l2.9">     }</span>
<a href="#l2.10"></a><span id="l2.10"> };</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-var NSGetFactory = XPCOMUtils.generateNSGetFactory([calBackendLoader]);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calBackendLoader]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calICALJSComponents.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calICALJSComponents.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -20,9 +20,9 @@ function getComponents() {</span>
<a href="#l3.4"></a><span id="l3.4">         calIcalComponent,</span>
<a href="#l3.5"></a><span id="l3.5">         calIcalProperty,</span>
<a href="#l3.6"></a><span id="l3.6">         calICSService,</span>
<a href="#l3.7"></a><span id="l3.7">         calPeriod,</span>
<a href="#l3.8"></a><span id="l3.8">         calRecurrenceRule,</span>
<a href="#l3.9"></a><span id="l3.9">     ];</span>
<a href="#l3.10"></a><span id="l3.10"> }</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-var NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, getComponents, this);</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+this.NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, getComponents, this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calICSService-worker.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calICSService-worker.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -3,17 +3,16 @@</span>
<a href="#l4.4"></a><span id="l4.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.5"></a><span id="l4.5"> </span>
<a href="#l4.6"></a><span id="l4.6"> /**</span>
<a href="#l4.7"></a><span id="l4.7">  * ChromeWorker for parseICSAsync method in calICSService.js</span>
<a href="#l4.8"></a><span id="l4.8">  */</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10"> var NS_OK = 0;</span>
<a href="#l4.11"></a><span id="l4.11"> var NS_ERROR_FAILURE = 2147500037;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-var ICS_ERROR_BASE = 2152333568;</span>
<a href="#l4.13"></a><span id="l4.13"> </span>
<a href="#l4.14"></a><span id="l4.14"> importScripts(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l4.15"></a><span id="l4.15"> </span>
<a href="#l4.16"></a><span id="l4.16"> onmessage = function onmessage(event) {</span>
<a href="#l4.17"></a><span id="l4.17">     try {</span>
<a href="#l4.18"></a><span id="l4.18">         let comp = ICAL.parse(event.data);</span>
<a href="#l4.19"></a><span id="l4.19">         postMessage({ rc: NS_OK, data: comp });</span>
<a href="#l4.20"></a><span id="l4.20">     } catch (e) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calICSService.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calICSService.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -97,17 +97,16 @@ calIcalProperty.prototype = {</span>
<a href="#l5.4"></a><span id="l5.4">     },</span>
<a href="#l5.5"></a><span id="l5.5"> </span>
<a href="#l5.6"></a><span id="l5.6">     get propertyName() { return this.innerObject.name.toUpperCase(); },</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8">     getParameter: function(name) {</span>
<a href="#l5.9"></a><span id="l5.9">         // Unfortuantely getting the &quot;VALUE&quot; parameter won't work, since in</span>
<a href="#l5.10"></a><span id="l5.10">         // jCal it has been translated to the value type id.</span>
<a href="#l5.11"></a><span id="l5.11">         if (name == &quot;VALUE&quot;) {</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-            let propname = this.innerObject.name.toLowerCase();</span>
<a href="#l5.13"></a><span id="l5.13">             let defaultType = this.innerObject.getDefaultType();</span>
<a href="#l5.14"></a><span id="l5.14">             if (this.innerObject.type != defaultType) {</span>
<a href="#l5.15"></a><span id="l5.15">                 // Default type doesn't match object type, so we have a VALUE</span>
<a href="#l5.16"></a><span id="l5.16">                 // parameter</span>
<a href="#l5.17"></a><span id="l5.17">                 return this.innerObject.type.toUpperCase();</span>
<a href="#l5.18"></a><span id="l5.18">             }</span>
<a href="#l5.19"></a><span id="l5.19">         }</span>
<a href="#l5.20"></a><span id="l5.20"> </span>
<a href="#l5.21"></a><span id="l5.21" class="difflineat">@@ -176,17 +175,16 @@ calIcalProperty.prototype = {</span>
<a href="#l5.22"></a><span id="l5.22">         cal.WARN(&quot;calIICSService::clearXParameters is no longer implemented, &quot; +</span>
<a href="#l5.23"></a><span id="l5.23">                  &quot;please use removeParameter&quot;);</span>
<a href="#l5.24"></a><span id="l5.24">     },</span>
<a href="#l5.25"></a><span id="l5.25"> </span>
<a href="#l5.26"></a><span id="l5.26">     paramIterator: null,</span>
<a href="#l5.27"></a><span id="l5.27">     getFirstParameterName: function() {</span>
<a href="#l5.28"></a><span id="l5.28">         let innerObject = this.innerObject;</span>
<a href="#l5.29"></a><span id="l5.29">         this.paramIterator = (function* () {</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineminus">-            let propname = innerObject.name.toLowerCase();</span>
<a href="#l5.31"></a><span id="l5.31">             let defaultType = innerObject.getDefaultType();</span>
<a href="#l5.32"></a><span id="l5.32">             if (defaultType != innerObject.type) {</span>
<a href="#l5.33"></a><span id="l5.33">                 yield &quot;VALUE&quot;;</span>
<a href="#l5.34"></a><span id="l5.34">             }</span>
<a href="#l5.35"></a><span id="l5.35"> </span>
<a href="#l5.36"></a><span id="l5.36">             let paramNames = Object.keys(innerObject.jCal[1] || {});</span>
<a href="#l5.37"></a><span id="l5.37">             for (let name of paramNames) {</span>
<a href="#l5.38"></a><span id="l5.38">                 yield name.toUpperCase();</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineat">@@ -475,17 +473,16 @@ calICSService.prototype = {</span>
<a href="#l5.40"></a><span id="l5.40">         let comp = ICAL.parse(serialized);</span>
<a href="#l5.41"></a><span id="l5.41">         return new calIcalComponent(new ICAL.Component(comp));</span>
<a href="#l5.42"></a><span id="l5.42">     },</span>
<a href="#l5.43"></a><span id="l5.43"> </span>
<a href="#l5.44"></a><span id="l5.44">     parseICSAsync: function parseICSAsync(serialized, tzProvider, listener) {</span>
<a href="#l5.45"></a><span id="l5.45">         // There are way too many error checking messages here, but I had so</span>
<a href="#l5.46"></a><span id="l5.46">         // much pain with this method that I don't want it to break again.</span>
<a href="#l5.47"></a><span id="l5.47">         try {</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineminus">-            let self = this;</span>
<a href="#l5.49"></a><span id="l5.49">             let worker = new ChromeWorker(&quot;resource://calendar/calendar-js/calICSService-worker.js&quot;);</span>
<a href="#l5.50"></a><span id="l5.50">             worker.onmessage = function(event) {</span>
<a href="#l5.51"></a><span id="l5.51">                 let rc = Components.results.NS_ERROR_FAILURE;</span>
<a href="#l5.52"></a><span id="l5.52">                 let icalComp = null;</span>
<a href="#l5.53"></a><span id="l5.53">                 try {</span>
<a href="#l5.54"></a><span id="l5.54">                     rc = event.data.rc;</span>
<a href="#l5.55"></a><span id="l5.55">                     icalComp = new calIcalComponent(new ICAL.Component(event.data.data));</span>
<a href="#l5.56"></a><span id="l5.56">                     if (!Components.isSuccessCode(rc)) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/agenda-listbox.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/agenda-listbox.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -163,17 +163,16 @@ function onSelect(aListItem) {</span>
<a href="#l6.4"></a><span id="l6.4">     calendarController.onSelectionChanged({detail: agendaListbox.getSelectedItems()});</span>
<a href="#l6.5"></a><span id="l6.5"> };</span>
<a href="#l6.6"></a><span id="l6.6"> </span>
<a href="#l6.7"></a><span id="l6.7"> /**</span>
<a href="#l6.8"></a><span id="l6.8">  * Handler function called when the agenda listbox becomes focused</span>
<a href="#l6.9"></a><span id="l6.9">  */</span>
<a href="#l6.10"></a><span id="l6.10"> agendaListbox.onFocus =</span>
<a href="#l6.11"></a><span id="l6.11"> function onFocus() {</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-    let listbox = document.getElementById(&quot;agenda-listbox&quot;);</span>
<a href="#l6.13"></a><span id="l6.13">     calendarController.onSelectionChanged({detail: agendaListbox.getSelectedItems()});</span>
<a href="#l6.14"></a><span id="l6.14"> };</span>
<a href="#l6.15"></a><span id="l6.15"> </span>
<a href="#l6.16"></a><span id="l6.16"> /**</span>
<a href="#l6.17"></a><span id="l6.17">  * Handler function called when the agenda listbox loses focus.</span>
<a href="#l6.18"></a><span id="l6.18">  */</span>
<a href="#l6.19"></a><span id="l6.19"> agendaListbox.onBlur =</span>
<a href="#l6.20"></a><span id="l6.20"> function onBlur() {</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineat">@@ -797,33 +796,31 @@ function showsToday(aStartDate) {</span>
<a href="#l6.22"></a><span id="l6.22"> };</span>
<a href="#l6.23"></a><span id="l6.23"> </span>
<a href="#l6.24"></a><span id="l6.24"> /**</span>
<a href="#l6.25"></a><span id="l6.25">  * Moves the selection. Moves down unless the next item is a period item, in</span>
<a href="#l6.26"></a><span id="l6.26">  * which case the selection moves up.</span>
<a href="#l6.27"></a><span id="l6.27">  */</span>
<a href="#l6.28"></a><span id="l6.28"> agendaListbox.moveSelection =</span>
<a href="#l6.29"></a><span id="l6.29"> function moveSelection() {</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineminus">-    let selindex = this.agendaListboxControl.selectedIndex;</span>
<a href="#l6.31"></a><span id="l6.31">     if (!this.isEventListItem(this.agendaListboxControl.selectedItem.nextSibling)) {</span>
<a href="#l6.32"></a><span id="l6.32">         this.agendaListboxControl.goUp();</span>
<a href="#l6.33"></a><span id="l6.33">     } else {</span>
<a href="#l6.34"></a><span id="l6.34">         this.agendaListboxControl.goDown();</span>
<a href="#l6.35"></a><span id="l6.35">     }</span>
<a href="#l6.36"></a><span id="l6.36"> };</span>
<a href="#l6.37"></a><span id="l6.37"> </span>
<a href="#l6.38"></a><span id="l6.38"> /**</span>
<a href="#l6.39"></a><span id="l6.39">  * Gets an array of selected items. If a period node is selected, it is not</span>
<a href="#l6.40"></a><span id="l6.40">  * included.</span>
<a href="#l6.41"></a><span id="l6.41">  *</span>
<a href="#l6.42"></a><span id="l6.42">  * @return      An array with all selected items.</span>
<a href="#l6.43"></a><span id="l6.43">  */</span>
<a href="#l6.44"></a><span id="l6.44"> agendaListbox.getSelectedItems =</span>
<a href="#l6.45"></a><span id="l6.45"> function getSelectedItems() {</span>
<a href="#l6.46"></a><span id="l6.46" class="difflineminus">-    let selindex = this.agendaListboxControl.selectedIndex;</span>
<a href="#l6.47"></a><span id="l6.47">     let items = [];</span>
<a href="#l6.48"></a><span id="l6.48">     if (this.isEventListItem(this.agendaListboxControl.selectedItem)) {</span>
<a href="#l6.49"></a><span id="l6.49">         // If at some point we support selecting multiple items, this array can</span>
<a href="#l6.50"></a><span id="l6.50">         // be expanded.</span>
<a href="#l6.51"></a><span id="l6.51">         items = [this.agendaListboxControl.selectedItem.occurrence];</span>
<a href="#l6.52"></a><span id="l6.52">     }</span>
<a href="#l6.53"></a><span id="l6.53">     return items;</span>
<a href="#l6.54"></a><span id="l6.54"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/calendar-base-view.xml</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/calendar-base-view.xml</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -660,17 +660,17 @@</span>
<a href="#l7.4"></a><span id="l7.4">             const weekPrefix = &quot;calendar.week.&quot;;</span>
<a href="#l7.5"></a><span id="l7.5">             const prefNames = [&quot;d0sundaysoff&quot;, &quot;d1mondaysoff&quot;, &quot;d2tuesdaysoff&quot;,</span>
<a href="#l7.6"></a><span id="l7.6">                                &quot;d3wednesdaysoff&quot;, &quot;d4thursdaysoff&quot;,</span>
<a href="#l7.7"></a><span id="l7.7">                                &quot;d5fridaysoff&quot;, &quot;d6saturdaysoff&quot;];</span>
<a href="#l7.8"></a><span id="l7.8">             const defaults = [&quot;true&quot;, &quot;false&quot;, &quot;false&quot;, &quot;false&quot;,</span>
<a href="#l7.9"></a><span id="l7.9">                               &quot;false&quot;, &quot;false&quot;, &quot;true&quot;];</span>
<a href="#l7.10"></a><span id="l7.10">             let daysOff = [];</span>
<a href="#l7.11"></a><span id="l7.11">             for (let i in prefNames) {</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-                if (Preferences.get(weekPrefix + prefNames[i])) {</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+                if (Preferences.get(weekPrefix + prefNames[i], defaults[i])) {</span>
<a href="#l7.14"></a><span id="l7.14">                     daysOff.push(Number(i));</span>
<a href="#l7.15"></a><span id="l7.15">                 }</span>
<a href="#l7.16"></a><span id="l7.16">             }</span>
<a href="#l7.17"></a><span id="l7.17">             this.daysOffArray = daysOff;</span>
<a href="#l7.18"></a><span id="l7.18">         ]]&gt;&lt;/body&gt;</span>
<a href="#l7.19"></a><span id="l7.19">       &lt;/method&gt;</span>
<a href="#l7.20"></a><span id="l7.20"> </span>
<a href="#l7.21"></a><span id="l7.21">       &lt;method name=&quot;refreshView&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/content/calendar-chrome-startup.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/content/calendar-chrome-startup.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,16 +1,18 @@</span>
<a href="#l8.4"></a><span id="l8.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.5"></a><span id="l8.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.6"></a><span id="l8.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> Components.utils.import(&quot;resource://gre/modules/iteratorUtils.jsm&quot;);</span>
<a href="#l8.9"></a><span id="l8.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l8.10"></a><span id="l8.10"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+/* exported commonInitCalendar, commonFinishCalendar */</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+</span>
<a href="#l8.14"></a><span id="l8.14"> /**</span>
<a href="#l8.15"></a><span id="l8.15">  * Common initialization steps for calendar chrome windows.</span>
<a href="#l8.16"></a><span id="l8.16">  */</span>
<a href="#l8.17"></a><span id="l8.17"> function commonInitCalendar() {</span>
<a href="#l8.18"></a><span id="l8.18">     // Move around toolbarbuttons and whatever is needed in the UI.</span>
<a href="#l8.19"></a><span id="l8.19">     migrateCalendarUI();</span>
<a href="#l8.20"></a><span id="l8.20"> </span>
<a href="#l8.21"></a><span id="l8.21">     // Load the Calendar Manager</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/calendar-clipboard.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/calendar-clipboard.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1,15 +1,17 @@</span>
<a href="#l9.4"></a><span id="l9.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.5"></a><span id="l9.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.6"></a><span id="l9.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l9.9"></a><span id="l9.9"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11" class="difflineplus">+/* exported cutToClipboard, pasteFromClipboard */</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+</span>
<a href="#l9.13"></a><span id="l9.13"> /**</span>
<a href="#l9.14"></a><span id="l9.14">  * Test if a writable calendar is selected, and if the clipboard has items that</span>
<a href="#l9.15"></a><span id="l9.15">  * can be pasted into Calendar. The data must be of type &quot;text/calendar&quot; or</span>
<a href="#l9.16"></a><span id="l9.16">  * &quot;text/unicode&quot;.</span>
<a href="#l9.17"></a><span id="l9.17">  *</span>
<a href="#l9.18"></a><span id="l9.18">  * @return          If true, pasting is currently possible.</span>
<a href="#l9.19"></a><span id="l9.19">  */</span>
<a href="#l9.20"></a><span id="l9.20"> function canPaste() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/calendar-common-sets.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/calendar-common-sets.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,14 +1,19 @@</span>
<a href="#l10.4"></a><span id="l10.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.5"></a><span id="l10.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.6"></a><span id="l10.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.7"></a><span id="l10.7"> </span>
<a href="#l10.8"></a><span id="l10.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10" class="difflineplus">+/* exported injectCalendarCommandController, removeCalendarCommandController,</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineplus">+ *          setupContextItemType, minimonthPick, getSelectedItems,</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+ *          deleteSelectedItems, calendarUpdateNewItemsCommand</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+ */</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+</span>
<a href="#l10.15"></a><span id="l10.15"> var CalendarDeleteCommandEnabled = false;</span>
<a href="#l10.16"></a><span id="l10.16"> var CalendarNewEventsCommandEnabled = false;</span>
<a href="#l10.17"></a><span id="l10.17"> var CalendarNewTasksCommandEnabled = false;</span>
<a href="#l10.18"></a><span id="l10.18"> </span>
<a href="#l10.19"></a><span id="l10.19"> /**</span>
<a href="#l10.20"></a><span id="l10.20">  * Command controller to execute calendar specific commands</span>
<a href="#l10.21"></a><span id="l10.21">  * @see nsICommandController</span>
<a href="#l10.22"></a><span id="l10.22">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/content/calendar-extract.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/content/calendar-extract.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -231,17 +231,16 @@ var calendarExtract = {</span>
<a href="#l11.4"></a><span id="l11.4">         let taskButton = document.getElementById(&quot;extractTaskButton&quot;);</span>
<a href="#l11.5"></a><span id="l11.5">         let hdrEventButton = document.getElementById(&quot;hdrExtractEventButton&quot;);</span>
<a href="#l11.6"></a><span id="l11.6">         let hdrTaskButton = document.getElementById(&quot;hdrExtractTaskButton&quot;);</span>
<a href="#l11.7"></a><span id="l11.7">         let contextMenu = document.getElementById(&quot;mailContext-calendar-convert-menu&quot;);</span>
<a href="#l11.8"></a><span id="l11.8">         let contextMenuEvent = document.getElementById(&quot;mailContext-calendar-convert-event-menuitem&quot;);</span>
<a href="#l11.9"></a><span id="l11.9">         let contextMenuTask = document.getElementById(&quot;mailContext-calendar-convert-task-menuitem&quot;);</span>
<a href="#l11.10"></a><span id="l11.10">         let eventDisabled = (gFolderDisplay.selectedCount == 0);</span>
<a href="#l11.11"></a><span id="l11.11">         let taskDisabled = (gFolderDisplay.selectedCount == 0);</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-        let contextDisabled = false;</span>
<a href="#l11.13"></a><span id="l11.13">         let contextEventDisabled = false;</span>
<a href="#l11.14"></a><span id="l11.14">         let contextTaskDisabled = false;</span>
<a href="#l11.15"></a><span id="l11.15">         let newEvent = document.getElementById(&quot;calendar_new_event_command&quot;);</span>
<a href="#l11.16"></a><span id="l11.16">         let newTask = document.getElementById(&quot;calendar_new_todo_command&quot;);</span>
<a href="#l11.17"></a><span id="l11.17"> </span>
<a href="#l11.18"></a><span id="l11.18">         if (newEvent.getAttribute(&quot;disabled&quot;) == &quot;true&quot;) {</span>
<a href="#l11.19"></a><span id="l11.19">             eventDisabled = true;</span>
<a href="#l11.20"></a><span id="l11.20">             contextEventDisabled = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/content/calendar-invitations-manager.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/content/calendar-invitations-manager.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -2,16 +2,18 @@</span>
<a href="#l12.4"></a><span id="l12.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.5"></a><span id="l12.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l12.6"></a><span id="l12.6"> </span>
<a href="#l12.7"></a><span id="l12.7"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l12.8"></a><span id="l12.8"> Components.utils.import(&quot;resource://calendar/modules/calItipUtils.jsm&quot;);</span>
<a href="#l12.9"></a><span id="l12.9"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l12.10"></a><span id="l12.10"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l12.11"></a><span id="l12.11"> </span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+/* exported getInvitationsManager */</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+</span>
<a href="#l12.14"></a><span id="l12.14"> /**</span>
<a href="#l12.15"></a><span id="l12.15">  * This object contains functions to take care of manipulating requests.</span>
<a href="#l12.16"></a><span id="l12.16">  */</span>
<a href="#l12.17"></a><span id="l12.17"> var gInvitationsRequestManager = {</span>
<a href="#l12.18"></a><span id="l12.18">     mRequestStatusList: {},</span>
<a href="#l12.19"></a><span id="l12.19"> </span>
<a href="#l12.20"></a><span id="l12.20">     /**</span>
<a href="#l12.21"></a><span id="l12.21">      * Add a request to the request manager.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/base/content/calendar-item-editing.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/base/content/calendar-item-editing.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -2,16 +2,18 @@</span>
<a href="#l13.4"></a><span id="l13.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l13.5"></a><span id="l13.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l13.6"></a><span id="l13.6"> </span>
<a href="#l13.7"></a><span id="l13.7"> Components.utils.import(&quot;resource://calendar/modules/calAlarmUtils.jsm&quot;);</span>
<a href="#l13.8"></a><span id="l13.8"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l13.9"></a><span id="l13.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l13.10"></a><span id="l13.10"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+/* exported modifyEventWithDialog, undo, redo, setContextPartstat */</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+</span>
<a href="#l13.14"></a><span id="l13.14"> /**</span>
<a href="#l13.15"></a><span id="l13.15">  * Takes a job and makes sure the dispose function on it is called. If there is</span>
<a href="#l13.16"></a><span id="l13.16">  * no dispose function or the job is null, ignore it.</span>
<a href="#l13.17"></a><span id="l13.17">  *</span>
<a href="#l13.18"></a><span id="l13.18">  * @param job       The job to dispose.</span>
<a href="#l13.19"></a><span id="l13.19">  */</span>
<a href="#l13.20"></a><span id="l13.20"> function disposeJob(job) {</span>
<a href="#l13.21"></a><span id="l13.21">     if (job &amp;&amp; job.dispose) {</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineat">@@ -220,18 +222,16 @@ function setDefaultItemValues(aItem, aCa</span>
<a href="#l13.23"></a><span id="l13.23">  * @param startDate     (optional) The event's start date.</span>
<a href="#l13.24"></a><span id="l13.24">  * @param endDate       (optional) The event's end date.</span>
<a href="#l13.25"></a><span id="l13.25">  * @param summary       (optional) The event's title.</span>
<a href="#l13.26"></a><span id="l13.26">  * @param event         (optional) A template event to show in the dialog</span>
<a href="#l13.27"></a><span id="l13.27">  * @param aForceAllDay  (optional) Make sure the event shown in the dialog is an</span>
<a href="#l13.28"></a><span id="l13.28">  *                                   allday event.</span>
<a href="#l13.29"></a><span id="l13.29">  */</span>
<a href="#l13.30"></a><span id="l13.30"> function createEventWithDialog(calendar, startDate, endDate, summary, event, aForceAllday) {</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-    const kDefaultTimezone = calendarDefaultTimezone();</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineminus">-</span>
<a href="#l13.33"></a><span id="l13.33">     let onNewEvent = function(item, opcalendar, originalItem, listener) {</span>
<a href="#l13.34"></a><span id="l13.34">         if (item.id) {</span>
<a href="#l13.35"></a><span id="l13.35">             // If the item already has an id, then this is the result of</span>
<a href="#l13.36"></a><span id="l13.36">             // saving the item without closing, and then saving again.</span>
<a href="#l13.37"></a><span id="l13.37">             doTransaction('modify', item, opcalendar, originalItem, listener);</span>
<a href="#l13.38"></a><span id="l13.38">         } else {</span>
<a href="#l13.39"></a><span id="l13.39">             // Otherwise, this is an addition</span>
<a href="#l13.40"></a><span id="l13.40">             doTransaction('add', item, opcalendar, null, listener);</span>
<a href="#l13.41"></a><span id="l13.41" class="difflineat">@@ -277,18 +277,16 @@ function createEventWithDialog(calendar,</span>
<a href="#l13.42"></a><span id="l13.42">  *</span>
<a href="#l13.43"></a><span id="l13.43">  * @param calendar      (optional) The calendar to create the task in</span>
<a href="#l13.44"></a><span id="l13.44">  * @param dueDate       (optional) The task's due date.</span>
<a href="#l13.45"></a><span id="l13.45">  * @param summary       (optional) The task's title.</span>
<a href="#l13.46"></a><span id="l13.46">  * @param todo          (optional) A template task to show in the dialog.</span>
<a href="#l13.47"></a><span id="l13.47">  * @param initialDate   (optional) The initial date for new task datepickers</span>
<a href="#l13.48"></a><span id="l13.48">  */</span>
<a href="#l13.49"></a><span id="l13.49"> function createTodoWithDialog(calendar, dueDate, summary, todo, initialDate) {</span>
<a href="#l13.50"></a><span id="l13.50" class="difflineminus">-    const kDefaultTimezone = calendarDefaultTimezone();</span>
<a href="#l13.51"></a><span id="l13.51" class="difflineminus">-</span>
<a href="#l13.52"></a><span id="l13.52">     let onNewItem = function(item, opcalendar, originalItem, listener) {</span>
<a href="#l13.53"></a><span id="l13.53">         if (item.id) {</span>
<a href="#l13.54"></a><span id="l13.54">             // If the item already has an id, then this is the result of</span>
<a href="#l13.55"></a><span id="l13.55">             // saving the item without closing, and then saving again.</span>
<a href="#l13.56"></a><span id="l13.56">             doTransaction('modify', item, opcalendar, originalItem, listener);</span>
<a href="#l13.57"></a><span id="l13.57">         } else {</span>
<a href="#l13.58"></a><span id="l13.58">             // Otherwise, this is an addition</span>
<a href="#l13.59"></a><span id="l13.59">             doTransaction('add', item, opcalendar, null, listener);</span>
<a href="#l13.60"></a><span id="l13.60" class="difflineat">@@ -339,19 +337,19 @@ function modifyEventWithDialog(aItem, jo</span>
<a href="#l13.61"></a><span id="l13.61">         return;</span>
<a href="#l13.62"></a><span id="l13.62">     }</span>
<a href="#l13.63"></a><span id="l13.63"> </span>
<a href="#l13.64"></a><span id="l13.64">     let onModifyItem = function(item, calendar, originalItem, listener) {</span>
<a href="#l13.65"></a><span id="l13.65">         doTransaction('modify', item, calendar, originalItem, listener);</span>
<a href="#l13.66"></a><span id="l13.66">     };</span>
<a href="#l13.67"></a><span id="l13.67"> </span>
<a href="#l13.68"></a><span id="l13.68">     let item = aItem;</span>
<a href="#l13.69"></a><span id="l13.69" class="difflineminus">-    let futureItem, response;</span>
<a href="#l13.70"></a><span id="l13.70" class="difflineplus">+    let response;</span>
<a href="#l13.71"></a><span id="l13.71">     if (aPromptOccurrence !== false) {</span>
<a href="#l13.72"></a><span id="l13.72" class="difflineminus">-        [item, futureItem, response] = promptOccurrenceModification(aItem, true, &quot;edit&quot;);</span>
<a href="#l13.73"></a><span id="l13.73" class="difflineplus">+        [item, , response] = promptOccurrenceModification(aItem, true, &quot;edit&quot;);</span>
<a href="#l13.74"></a><span id="l13.74">     }</span>
<a href="#l13.75"></a><span id="l13.75"> </span>
<a href="#l13.76"></a><span id="l13.76">     if (item &amp;&amp; (response || response === undefined)) {</span>
<a href="#l13.77"></a><span id="l13.77">         openEventDialog(item, item.calendar, &quot;modify&quot;, onModifyItem, job, initialDate);</span>
<a href="#l13.78"></a><span id="l13.78">     } else {</span>
<a href="#l13.79"></a><span id="l13.79">         disposeJob(job);</span>
<a href="#l13.80"></a><span id="l13.80">     }</span>
<a href="#l13.81"></a><span id="l13.81"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/base/content/calendar-management.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/base/content/calendar-management.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -1,12 +1,19 @@</span>
<a href="#l14.4"></a><span id="l14.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.5"></a><span id="l14.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.6"></a><span id="l14.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8" class="difflineplus">+/* exported promptDeleteCalendar, loadCalendarManager, unloadCalendarManager,</span>
<a href="#l14.9"></a><span id="l14.9" class="difflineplus">+ *         updateSortOrderPref, calendarListTooltipShowing,</span>
<a href="#l14.10"></a><span id="l14.10" class="difflineplus">+ *         calendarListSetupContextMenu, ensureCalendarVisible, toggleCalendarVisible,</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineplus">+ *         showAllCalendars, showOnlyCalendar, openCalendarSubscriptionsDialog,</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+ *         calendarOfflineManager</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+ */</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+</span>
<a href="#l14.15"></a><span id="l14.15"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l14.16"></a><span id="l14.16"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l14.17"></a><span id="l14.17"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l14.18"></a><span id="l14.18"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l14.19"></a><span id="l14.19"> </span>
<a href="#l14.20"></a><span id="l14.20"> /**</span>
<a href="#l14.21"></a><span id="l14.21">  * Get this window's currently selected calendar.</span>
<a href="#l14.22"></a><span id="l14.22">  *</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -92,18 +92,16 @@</span>
<a href="#l15.4"></a><span id="l15.4">       &lt;property name=&quot;pixelsPerMinute&quot;</span>
<a href="#l15.5"></a><span id="l15.5">         onget=&quot;return this.mPixPerMin&quot;</span>
<a href="#l15.6"></a><span id="l15.6">         onset=&quot;if (this.mPixPerMin != val) { this.mPixPerMin = val; this.relayout(); } return val;&quot;/&gt;</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8">       &lt;method name=&quot;relayout&quot;&gt;</span>
<a href="#l15.9"></a><span id="l15.9">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l15.10"></a><span id="l15.10">           let topbox = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;topbox&quot;);</span>
<a href="#l15.11"></a><span id="l15.11">           let orient = topbox.getAttribute(&quot;orient&quot;);</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-          let otherorient = getOtherOrientation(orient);</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineminus">-</span>
<a href="#l15.14"></a><span id="l15.14"> </span>
<a href="#l15.15"></a><span id="l15.15">           function makeTimeBox(timestr, size) {</span>
<a href="#l15.16"></a><span id="l15.16">               let box = createXULElement(&quot;box&quot;);</span>
<a href="#l15.17"></a><span id="l15.17">               box.setAttribute(&quot;orient&quot;, orient);</span>
<a href="#l15.18"></a><span id="l15.18"> </span>
<a href="#l15.19"></a><span id="l15.19">               if (orient == &quot;horizontal&quot;) {</span>
<a href="#l15.20"></a><span id="l15.20">                   box.setAttribute(&quot;width&quot;, size);</span>
<a href="#l15.21"></a><span id="l15.21">               } else {</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineat">@@ -959,27 +957,25 @@</span>
<a href="#l15.23"></a><span id="l15.23">               //       |      |      |</span>
<a href="#l15.24"></a><span id="l15.24">               //       |OPEN! |      |&lt;--Our item's start time might be here</span>
<a href="#l15.25"></a><span id="l15.25">               //       |      |______|</span>
<a href="#l15.26"></a><span id="l15.26">               //       |      |      |</span>
<a href="#l15.27"></a><span id="l15.27">               //</span>
<a href="#l15.28"></a><span id="l15.28">               // Remember that any time we're starting a new blob, colEndArray</span>
<a href="#l15.29"></a><span id="l15.29">               // will be empty, but that's ok.</span>
<a href="#l15.30"></a><span id="l15.30">               for (let ii = 0; ii &lt; colEndArray.length; ++ii) {</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-                  let colStart = colEndArray[ii].layoutStart;</span>
<a href="#l15.32"></a><span id="l15.32">                   let colEnd = colEndArray[ii].layoutEnd;</span>
<a href="#l15.33"></a><span id="l15.33">                   if (colEnd.compare(curItemInfo.layoutStart) != 1) {</span>
<a href="#l15.34"></a><span id="l15.34">                       // Yay, we can jump into this column</span>
<a href="#l15.35"></a><span id="l15.35">                       colEndArray[ii] = curItemInfo;</span>
<a href="#l15.36"></a><span id="l15.36"> </span>
<a href="#l15.37"></a><span id="l15.37">                       // Check and see if there are any adjacent columns we can</span>
<a href="#l15.38"></a><span id="l15.38">                       // jump into as well.</span>
<a href="#l15.39"></a><span id="l15.39">                       let lastCol = Number(ii) + 1;</span>
<a href="#l15.40"></a><span id="l15.40">                       while (lastCol &lt; colEndArray.length) {</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineminus">-                          let nextColStart = colEndArray[lastCol].layoutStart;</span>
<a href="#l15.42"></a><span id="l15.42">                           let nextColEnd = colEndArray[lastCol].layoutEnd;</span>
<a href="#l15.43"></a><span id="l15.43">                           // If the next column's item ends after we start, we</span>
<a href="#l15.44"></a><span id="l15.44">                           // can't expand any further</span>
<a href="#l15.45"></a><span id="l15.45">                           if (nextColEnd.compare(curItemInfo.layoutStart) == 1) {</span>
<a href="#l15.46"></a><span id="l15.46">                               break;</span>
<a href="#l15.47"></a><span id="l15.47">                           }</span>
<a href="#l15.48"></a><span id="l15.48">                           colEndArray[lastCol] = curItemInfo;</span>
<a href="#l15.49"></a><span id="l15.49">                           lastCol++;</span>
<a href="#l15.50"></a><span id="l15.50" class="difflineat">@@ -1067,17 +1063,16 @@</span>
<a href="#l15.51"></a><span id="l15.51">               // conflicts with the item we're trying to place, need to have</span>
<a href="#l15.52"></a><span id="l15.52">               // their span extended by 1, since we're adding the new column</span>
<a href="#l15.53"></a><span id="l15.53">               //</span>
<a href="#l15.54"></a><span id="l15.54">               // * Note that there can only be one, because we sorted our</span>
<a href="#l15.55"></a><span id="l15.55">               //   events by start time, so this event must start later than</span>
<a href="#l15.56"></a><span id="l15.56">               //   the start of any possible conflicts.</span>
<a href="#l15.57"></a><span id="l15.57">               let lastColNum = colEndArray.length;</span>
<a href="#l15.58"></a><span id="l15.58">               for (let mm in currentBlob) {</span>
<a href="#l15.59"></a><span id="l15.59" class="difflineminus">-                  let mmStart = currentBlob[mm].itemInfo.layoutStart;</span>
<a href="#l15.60"></a><span id="l15.60">                   let mmEnd = currentBlob[mm].itemInfo.layoutEnd;</span>
<a href="#l15.61"></a><span id="l15.61">                   if (currentBlob[mm].startCol + currentBlob[mm].colSpan == lastColNum &amp;&amp;</span>
<a href="#l15.62"></a><span id="l15.62">                       mmEnd.compare(curItemInfo.layoutStart) != 1) {</span>
<a href="#l15.63"></a><span id="l15.63">                       currentBlob[mm] = {itemInfo: currentBlob[mm].itemInfo,</span>
<a href="#l15.64"></a><span id="l15.64">                                          startCol: currentBlob[mm].startCol,</span>
<a href="#l15.65"></a><span id="l15.65">                                          colSpan: currentBlob[mm].colSpan + 1};</span>
<a href="#l15.66"></a><span id="l15.66">                   }</span>
<a href="#l15.67"></a><span id="l15.67">               }</span>
<a href="#l15.68"></a><span id="l15.68" class="difflineat">@@ -2319,17 +2314,16 @@</span>
<a href="#l15.69"></a><span id="l15.69">                   needsrelayout = true;</span>
<a href="#l15.70"></a><span id="l15.70">               }</span>
<a href="#l15.71"></a><span id="l15.71">           }</span>
<a href="#l15.72"></a><span id="l15.72"> </span>
<a href="#l15.73"></a><span id="l15.73">           // this should be done using lookupMethod(), see bug 286629</span>
<a href="#l15.74"></a><span id="l15.74">           let ret = XULElement.prototype.setAttribute.call(this, aAttr, aVal);</span>
<a href="#l15.75"></a><span id="l15.75"> </span>
<a href="#l15.76"></a><span id="l15.76">           if (needsrelayout) {</span>
<a href="#l15.77"></a><span id="l15.77" class="difflineminus">-              let otherorient = (val == &quot;vertical&quot; ? &quot;horizontal&quot; : &quot;vertical&quot;);</span>
<a href="#l15.78"></a><span id="l15.78">               let eventbox = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;eventbox&quot;);</span>
<a href="#l15.79"></a><span id="l15.79">               eventbox.setAttribute(&quot;orient&quot;, val);</span>
<a href="#l15.80"></a><span id="l15.80">               let gb1 = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;gripbar1&quot;);</span>
<a href="#l15.81"></a><span id="l15.81">               gb1.parentorient = val;</span>
<a href="#l15.82"></a><span id="l15.82">               let gb2 = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;gripbar2&quot;);</span>
<a href="#l15.83"></a><span id="l15.83">               gb2.parentorient = val;</span>
<a href="#l15.84"></a><span id="l15.84">           }</span>
<a href="#l15.85"></a><span id="l15.85"> </span>
<a href="#l15.86"></a><span id="l15.86" class="difflineat">@@ -2527,17 +2521,16 @@</span>
<a href="#l15.87"></a><span id="l15.87"> </span>
<a href="#l15.88"></a><span id="l15.88">         // initially scroll to the day start hour in the view</span>
<a href="#l15.89"></a><span id="l15.89">         this.scrollToMinute(this.mDayStartMin);</span>
<a href="#l15.90"></a><span id="l15.90"> </span>
<a href="#l15.91"></a><span id="l15.91">         // get visible hours from prefs and set on the view</span>
<a href="#l15.92"></a><span id="l15.92">         let visibleMinutes = Preferences.get(&quot;calendar.view.visiblehours&quot;, 9) * 60;</span>
<a href="#l15.93"></a><span id="l15.93">         this.setVisibleMinutes(visibleMinutes);</span>
<a href="#l15.94"></a><span id="l15.94"> </span>
<a href="#l15.95"></a><span id="l15.95" class="difflineminus">-        let self = this;</span>
<a href="#l15.96"></a><span id="l15.96">         // set the flex attribute at the scrollbox-innerbox</span>
<a href="#l15.97"></a><span id="l15.97">         // (this can be removed, after Bug 343555 is fixed)</span>
<a href="#l15.98"></a><span id="l15.98">         let scrollbox = document.getAnonymousElementByAttribute(</span>
<a href="#l15.99"></a><span id="l15.99">                        this, &quot;anonid&quot;, &quot;scrollbox&quot;);</span>
<a href="#l15.100"></a><span id="l15.100">         document.getAnonymousElementByAttribute(</span>
<a href="#l15.101"></a><span id="l15.101">             scrollbox, &quot;class&quot;, &quot;box-inherit scrollbox-innerbox&quot;).flex = &quot;1&quot;;</span>
<a href="#l15.102"></a><span id="l15.102"> </span>
<a href="#l15.103"></a><span id="l15.103">         // set the time interval for the time indicator timer</span>
<a href="#l15.104"></a><span id="l15.104" class="difflineat">@@ -2970,17 +2963,16 @@</span>
<a href="#l15.105"></a><span id="l15.105">             if (this.mSelectedDayCol) {</span>
<a href="#l15.106"></a><span id="l15.106">               this.mSelectedDay = this.mSelectedDayCol.date;</span>
<a href="#l15.107"></a><span id="l15.107">               this.mSelectedDayCol.column.selected = true;</span>
<a href="#l15.108"></a><span id="l15.108">               this.mSelectedDayCol.header.setAttribute(&quot;selected&quot;, &quot;true&quot;);</span>
<a href="#l15.109"></a><span id="l15.109">             } else {</span>
<a href="#l15.110"></a><span id="l15.110">               this.mSelectedDay = val;</span>
<a href="#l15.111"></a><span id="l15.111">             }</span>
<a href="#l15.112"></a><span id="l15.112">           }</span>
<a href="#l15.113"></a><span id="l15.113" class="difflineminus">-          let headerColLabel = this.selectColumnHeader(val);</span>
<a href="#l15.114"></a><span id="l15.114">           this.fireEvent(&quot;dayselect&quot;, val);</span>
<a href="#l15.115"></a><span id="l15.115">           return val;</span>
<a href="#l15.116"></a><span id="l15.116">         ]]&gt;&lt;/setter&gt;</span>
<a href="#l15.117"></a><span id="l15.117">       &lt;/property&gt;</span>
<a href="#l15.118"></a><span id="l15.118"> </span>
<a href="#l15.119"></a><span id="l15.119">       &lt;method name=&quot;getSelectedItems&quot;&gt;</span>
<a href="#l15.120"></a><span id="l15.120">         &lt;parameter name=&quot;aCount&quot;/&gt;</span>
<a href="#l15.121"></a><span id="l15.121">         &lt;body&gt;&lt;![CDATA[</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/base/content/calendar-statusbar.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/base/content/calendar-statusbar.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l16.4"></a><span id="l16.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.5"></a><span id="l16.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.6"></a><span id="l16.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l16.7"></a><span id="l16.7"> </span>
<a href="#l16.8"></a><span id="l16.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l16.9"></a><span id="l16.9"> </span>
<a href="#l16.10"></a><span id="l16.10" class="difflineplus">+/* exported gCalendarStatusFeedback */</span>
<a href="#l16.11"></a><span id="l16.11" class="difflineplus">+</span>
<a href="#l16.12"></a><span id="l16.12"> /**</span>
<a href="#l16.13"></a><span id="l16.13">  * This code might change soon if we support Thunderbird's activity manager.</span>
<a href="#l16.14"></a><span id="l16.14">  * NOTE: The naming &quot;Meteors&quot; is historical.</span>
<a href="#l16.15"></a><span id="l16.15">  */</span>
<a href="#l16.16"></a><span id="l16.16">  let gCalendarStatusFeedback = {</span>
<a href="#l16.17"></a><span id="l16.17">      mCalendarStep: 0,</span>
<a href="#l16.18"></a><span id="l16.18">      mCalendarCount: 0,</span>
<a href="#l16.19"></a><span id="l16.19">      mWindow: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/base/content/calendar-task-tree.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-tree.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -1,24 +1,29 @@</span>
<a href="#l17.4"></a><span id="l17.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.5"></a><span id="l17.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.6"></a><span id="l17.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l17.7"></a><span id="l17.7"> </span>
<a href="#l17.8"></a><span id="l17.8" class="difflineplus">+/* exported addCalendarNames, calendars, changeContextMenuForTask,</span>
<a href="#l17.9"></a><span id="l17.9" class="difflineplus">+ *          contextChangeTaskCalendar, contextChangeTaskPriority,</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineplus">+ *          contextPostponeTask, modifyTaskFromContext, deleteToDoCommand,</span>
<a href="#l17.11"></a><span id="l17.11" class="difflineplus">+ *          tasksToMail, tasksToEvents, toggleCompleted,</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+ */</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+</span>
<a href="#l17.14"></a><span id="l17.14"> /**</span>
<a href="#l17.15"></a><span id="l17.15">  * Add registered calendars to the given menupopup. Removes all previous</span>
<a href="#l17.16"></a><span id="l17.16">  * children.</span>
<a href="#l17.17"></a><span id="l17.17">  *</span>
<a href="#l17.18"></a><span id="l17.18">  * XXX Either replace the existing items using replaceNode, or use helper</span>
<a href="#l17.19"></a><span id="l17.19">  * functions (cal.removeChildren).</span>
<a href="#l17.20"></a><span id="l17.20">  *</span>
<a href="#l17.21"></a><span id="l17.21">  * @param aEvent    The popupshowing event of the opening menu</span>
<a href="#l17.22"></a><span id="l17.22">  */</span>
<a href="#l17.23"></a><span id="l17.23"> function addCalendarNames(aEvent) {</span>
<a href="#l17.24"></a><span id="l17.24">     let calendarMenuPopup = aEvent.target;</span>
<a href="#l17.25"></a><span id="l17.25" class="difflineminus">-    let calendars = getCalendarManager().getCalendars({});</span>
<a href="#l17.26"></a><span id="l17.26">     while (calendarMenuPopup.hasChildNodes()) {</span>
<a href="#l17.27"></a><span id="l17.27">         calendarMenuPopup.lastChild.remove();</span>
<a href="#l17.28"></a><span id="l17.28">     }</span>
<a href="#l17.29"></a><span id="l17.29">     let tasks = getSelectedTasks(aEvent);</span>
<a href="#l17.30"></a><span id="l17.30">     let tasksSelected = (tasks.length &gt; 0);</span>
<a href="#l17.31"></a><span id="l17.31">     if (tasksSelected) {</span>
<a href="#l17.32"></a><span id="l17.32">         let selIndex = appendCalendarItems(tasks[0], calendarMenuPopup, null, &quot;contextChangeTaskCalendar(event);&quot;);</span>
<a href="#l17.33"></a><span id="l17.33">         if (isPropertyValueSame(tasks, &quot;calendar&quot;) &amp;&amp; (selIndex &gt; -1)) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/base/content/calendar-task-tree.xml</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-tree.xml</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -113,17 +113,16 @@</span>
<a href="#l18.4"></a><span id="l18.4">     &lt;/content&gt;</span>
<a href="#l18.5"></a><span id="l18.5"> </span>
<a href="#l18.6"></a><span id="l18.6">     &lt;implementation implements=&quot;nsIObserver&quot;&gt;</span>
<a href="#l18.7"></a><span id="l18.7">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l18.8"></a><span id="l18.8">         Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l18.9"></a><span id="l18.9">         Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l18.10"></a><span id="l18.10">         Components.utils.import(&quot;resource://calendar/modules/calItemUtils.jsm&quot;);</span>
<a href="#l18.11"></a><span id="l18.11">         Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-        let self = this;</span>
<a href="#l18.13"></a><span id="l18.13"> </span>
<a href="#l18.14"></a><span id="l18.14">         // set up the tree filter</span>
<a href="#l18.15"></a><span id="l18.15">         this.mFilter = new calFilter();</span>
<a href="#l18.16"></a><span id="l18.16"> </span>
<a href="#l18.17"></a><span id="l18.17">         // set up the custom tree view</span>
<a href="#l18.18"></a><span id="l18.18">         let tree = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;calendar-task-tree&quot;);</span>
<a href="#l18.19"></a><span id="l18.19">         this.mTreeView.tree = tree;</span>
<a href="#l18.20"></a><span id="l18.20">         tree.view = this.mTreeView;</span>
<a href="#l18.21"></a><span id="l18.21" class="difflineat">@@ -392,17 +391,16 @@</span>
<a href="#l18.22"></a><span id="l18.22">           // they match the currently applied filter.</span>
<a href="#l18.23"></a><span id="l18.23">           modifyItems: function tTV_modifyItems(aNewItems, aOldItems, aDontSort, aSelectNew) {</span>
<a href="#l18.24"></a><span id="l18.24">               let selItem = this.binding.currentTask;</span>
<a href="#l18.25"></a><span id="l18.25">               let selIndex = this.tree.currentIndex;</span>
<a href="#l18.26"></a><span id="l18.26">               let firstHash = null;</span>
<a href="#l18.27"></a><span id="l18.27">               let remIndexes = [];</span>
<a href="#l18.28"></a><span id="l18.28">               aNewItems = aNewItems || [];</span>
<a href="#l18.29"></a><span id="l18.29">               aOldItems = aOldItems || [];</span>
<a href="#l18.30"></a><span id="l18.30" class="difflineminus">-              let _this = this;</span>
<a href="#l18.31"></a><span id="l18.31"> </span>
<a href="#l18.32"></a><span id="l18.32">               this.treebox.beginUpdateBatch();</span>
<a href="#l18.33"></a><span id="l18.33"> </span>
<a href="#l18.34"></a><span id="l18.34">               let idiff = new itemDiff();</span>
<a href="#l18.35"></a><span id="l18.35">               idiff.load(aOldItems);</span>
<a href="#l18.36"></a><span id="l18.36">               idiff.difference(aNewItems);</span>
<a href="#l18.37"></a><span id="l18.37">               idiff.complete();</span>
<a href="#l18.38"></a><span id="l18.38">               let delItems = idiff.deletedItems;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/base/content/calendar-task-view.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-view.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l19.4"></a><span id="l19.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.5"></a><span id="l19.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.6"></a><span id="l19.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8" class="difflineplus">+/* exported taskDetailsView, sendMailToOrganizer, taskViewCopyLink */</span>
<a href="#l19.9"></a><span id="l19.9" class="difflineplus">+</span>
<a href="#l19.10"></a><span id="l19.10"> Components.utils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l19.11"></a><span id="l19.11"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l19.12"></a><span id="l19.12"> Components.utils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l19.13"></a><span id="l19.13"> </span>
<a href="#l19.14"></a><span id="l19.14"> var taskDetailsView = {</span>
<a href="#l19.15"></a><span id="l19.15"> </span>
<a href="#l19.16"></a><span id="l19.16">     /**</span>
<a href="#l19.17"></a><span id="l19.17">      * Task Details Events</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -1,12 +1,21 @@</span>
<a href="#l20.4"></a><span id="l20.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.5"></a><span id="l20.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.6"></a><span id="l20.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.7"></a><span id="l20.7"> </span>
<a href="#l20.8"></a><span id="l20.8" class="difflineplus">+/* exported getElementValue, setBooleanAttribute, showElement, hideElement,</span>
<a href="#l20.9"></a><span id="l20.9" class="difflineplus">+ *          uncollapseElement, collapseElement, disableElementWithLock,</span>
<a href="#l20.10"></a><span id="l20.10" class="difflineplus">+ *          enableElementWithLock, uncheckChildNodes, removeChildren,</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineplus">+ *          appendCalendarItems, setAttributeToChildren, checkRadioControl,</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+ *          processEnableCheckbox, updateListboxDeleteButton,</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+ *          updateUnitLabelPlural, updateMenuLabelsPlural, menuListSelectItem,</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+ *          getOptimalMinimumWidth, getOptimalMinimumHeight,</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+ *          getOtherOrientation, updateSelectedLabel, setupAttendanceMenu</span>
<a href="#l20.16"></a><span id="l20.16" class="difflineplus">+ */</span>
<a href="#l20.17"></a><span id="l20.17"> </span>
<a href="#l20.18"></a><span id="l20.18"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l20.19"></a><span id="l20.19"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l20.20"></a><span id="l20.20"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l20.21"></a><span id="l20.21"> </span>
<a href="#l20.22"></a><span id="l20.22"> /**</span>
<a href="#l20.23"></a><span id="l20.23">  * Helper function for filling the form,</span>
<a href="#l20.24"></a><span id="l20.24">  * Set the value of a property of a XUL element</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/calendar/base/content/calendar-unifinder-todo.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/calendar/base/content/calendar-unifinder-todo.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l21.4"></a><span id="l21.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l21.5"></a><span id="l21.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l21.6"></a><span id="l21.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l21.7"></a><span id="l21.7"> </span>
<a href="#l21.8"></a><span id="l21.8" class="difflineplus">+/* exported prepareCalendarToDoUnifinder, finishCalendarToDoUnifinder */</span>
<a href="#l21.9"></a><span id="l21.9" class="difflineplus">+</span>
<a href="#l21.10"></a><span id="l21.10"> /**</span>
<a href="#l21.11"></a><span id="l21.11">  * Called when the window is loaded to set up the unifinder-todo.</span>
<a href="#l21.12"></a><span id="l21.12">  */</span>
<a href="#l21.13"></a><span id="l21.13"> function prepareCalendarToDoUnifinder() {</span>
<a href="#l21.14"></a><span id="l21.14">     // add listener to update the date filters</span>
<a href="#l21.15"></a><span id="l21.15">     getViewDeck().addEventListener(&quot;dayselect&quot;, updateCalendarToDoUnifinder, false);</span>
<a href="#l21.16"></a><span id="l21.16"> </span>
<a href="#l21.17"></a><span id="l21.17">     updateCalendarToDoUnifinder();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/calendar/base/content/calendar-unifinder.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/calendar/base/content/calendar-unifinder.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -1,12 +1,16 @@</span>
<a href="#l22.4"></a><span id="l22.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l22.5"></a><span id="l22.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l22.6"></a><span id="l22.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l22.7"></a><span id="l22.7"> </span>
<a href="#l22.8"></a><span id="l22.8" class="difflineplus">+/* exported gCalendarEventTreeClicked, unifinderDoubleClick, unifinderKeyPress,</span>
<a href="#l22.9"></a><span id="l22.9" class="difflineplus">+ *          focusSearch, toggleUnifinder</span>
<a href="#l22.10"></a><span id="l22.10" class="difflineplus">+ */</span>
<a href="#l22.11"></a><span id="l22.11" class="difflineplus">+</span>
<a href="#l22.12"></a><span id="l22.12"> /**</span>
<a href="#l22.13"></a><span id="l22.13">  * U N I F I N D E R</span>
<a href="#l22.14"></a><span id="l22.14">  *</span>
<a href="#l22.15"></a><span id="l22.15">  * This is a hacked in interface to the unifinder. We will need to</span>
<a href="#l22.16"></a><span id="l22.16">  * improve this to make it usable in general.</span>
<a href="#l22.17"></a><span id="l22.17">  *</span>
<a href="#l22.18"></a><span id="l22.18">  * NOTE: Including this file will cause a load handler to be added to the</span>
<a href="#l22.19"></a><span id="l22.19">  * window.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/calendar/base/content/calendar-views.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/calendar/base/content/calendar-views.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -1,12 +1,19 @@</span>
<a href="#l23.4"></a><span id="l23.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.5"></a><span id="l23.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.6"></a><span id="l23.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l23.7"></a><span id="l23.7"> </span>
<a href="#l23.8"></a><span id="l23.8" class="difflineplus">+/* exported switchToView, getSelectedDay, scheduleMidnightUpdate,</span>
<a href="#l23.9"></a><span id="l23.9" class="difflineplus">+ *          updateStyleSheetForViews, observeViewDaySelect, toggleOrientation,</span>
<a href="#l23.10"></a><span id="l23.10" class="difflineplus">+ *          toggleWorkdaysOnly, toggleTasksInView, toggleShowCompletedInView,</span>
<a href="#l23.11"></a><span id="l23.11" class="difflineplus">+ *          goToDate, getLastCalendarView, deleteSelectedEvents,</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineplus">+ *          editSelectedEvents, selectAllEvents</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+ */</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineplus">+</span>
<a href="#l23.15"></a><span id="l23.15"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l23.16"></a><span id="l23.16"> Components.utils.import(&quot;resource://calendar/modules/calAlarmUtils.jsm&quot;);</span>
<a href="#l23.17"></a><span id="l23.17"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l23.18"></a><span id="l23.18"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l23.19"></a><span id="l23.19"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l23.20"></a><span id="l23.20"> </span>
<a href="#l23.21"></a><span id="l23.21"> /**</span>
<a href="#l23.22"></a><span id="l23.22">  * Controller for the views</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineat">@@ -120,17 +127,17 @@ var calendarViewController = {</span>
<a href="#l23.24"></a><span id="l23.24">                 // Usually happens when ctrl-click is used. In that case we</span>
<a href="#l23.25"></a><span id="l23.25">                 // don't need to ask the user if he wants to delete an</span>
<a href="#l23.26"></a><span id="l23.26">                 // occurrence or not.</span>
<a href="#l23.27"></a><span id="l23.27">                 itemToDelete = itemToDelete.parentItem;</span>
<a href="#l23.28"></a><span id="l23.28">             } else if (!aDoNotConfirm &amp;&amp; occurrences.length == 1) {</span>
<a href="#l23.29"></a><span id="l23.29">                 // Only give the user the selection if only one occurrence is</span>
<a href="#l23.30"></a><span id="l23.30">                 // selected. Otherwise he will get a dialog for each occurrence</span>
<a href="#l23.31"></a><span id="l23.31">                 // he deletes.</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineminus">-                let [targetItem, hasFutureItem, response] = promptOccurrenceModification(itemToDelete, false, &quot;delete&quot;);</span>
<a href="#l23.33"></a><span id="l23.33" class="difflineplus">+                let [targetItem, , response] = promptOccurrenceModification(itemToDelete, false, &quot;delete&quot;);</span>
<a href="#l23.34"></a><span id="l23.34">                 if (!response) {</span>
<a href="#l23.35"></a><span id="l23.35">                     // The user canceled the dialog, bail out</span>
<a href="#l23.36"></a><span id="l23.36">                     break;</span>
<a href="#l23.37"></a><span id="l23.37">                 }</span>
<a href="#l23.38"></a><span id="l23.38"> </span>
<a href="#l23.39"></a><span id="l23.39">                 itemToDelete = targetItem;</span>
<a href="#l23.40"></a><span id="l23.40">             }</span>
<a href="#l23.41"></a><span id="l23.41"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -1,12 +1,16 @@</span>
<a href="#l24.4"></a><span id="l24.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l24.5"></a><span id="l24.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l24.6"></a><span id="l24.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l24.7"></a><span id="l24.7"> </span>
<a href="#l24.8"></a><span id="l24.8" class="difflineplus">+/* exported onDismissAllAlarms, setupWindow, finishWindow, addWidgetFor,</span>
<a href="#l24.9"></a><span id="l24.9" class="difflineplus">+ *         removeWidgetFor, onSelectAlarm, ensureCalendarVisible</span>
<a href="#l24.10"></a><span id="l24.10" class="difflineplus">+ */</span>
<a href="#l24.11"></a><span id="l24.11" class="difflineplus">+</span>
<a href="#l24.12"></a><span id="l24.12"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l24.13"></a><span id="l24.13"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l24.14"></a><span id="l24.14"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l24.15"></a><span id="l24.15"> </span>
<a href="#l24.16"></a><span id="l24.16"> /**</span>
<a href="#l24.17"></a><span id="l24.17">  * Helper function to get the alarm service and cache it.</span>
<a href="#l24.18"></a><span id="l24.18">  *</span>
<a href="#l24.19"></a><span id="l24.19">  * @return The alarm service component</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-creation.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-creation.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l25.4"></a><span id="l25.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l25.5"></a><span id="l25.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l25.6"></a><span id="l25.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l25.7"></a><span id="l25.7"> </span>
<a href="#l25.8"></a><span id="l25.8" class="difflineplus">+/* exported openLocalCalendar */</span>
<a href="#l25.9"></a><span id="l25.9" class="difflineplus">+</span>
<a href="#l25.10"></a><span id="l25.10"> /**</span>
<a href="#l25.11"></a><span id="l25.11">  * Shows the filepicker and creates a new calendar with a local file using the ICS</span>
<a href="#l25.12"></a><span id="l25.12">  * provider.</span>
<a href="#l25.13"></a><span id="l25.13">  */</span>
<a href="#l25.14"></a><span id="l25.14"> function openLocalCalendar() {</span>
<a href="#l25.15"></a><span id="l25.15">     const nsIFilePicker = Components.interfaces.nsIFilePicker;</span>
<a href="#l25.16"></a><span id="l25.16">     let fp = Components.classes[&quot;@mozilla.org/filepicker;1&quot;].createInstance(nsIFilePicker);</span>
<a href="#l25.17"></a><span id="l25.17">     fp.init(window, calGetString(&quot;calendar&quot;, &quot;Open&quot;), nsIFilePicker.modeOpen);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-dialog-utils.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-dialog-utils.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1,12 +1,17 @@</span>
<a href="#l26.4"></a><span id="l26.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l26.5"></a><span id="l26.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l26.6"></a><span id="l26.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l26.7"></a><span id="l26.7"> </span>
<a href="#l26.8"></a><span id="l26.8" class="difflineplus">+/* exported gInTab, gMainWindow, gTabmail, intializeTabOrWindowVariables,</span>
<a href="#l26.9"></a><span id="l26.9" class="difflineplus">+ *          dispose, setDialogId, loadReminders, saveReminder,</span>
<a href="#l26.10"></a><span id="l26.10" class="difflineplus">+ *          commonUpdateReminder, updateLink, rearrangeAttendees</span>
<a href="#l26.11"></a><span id="l26.11" class="difflineplus">+ */</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineplus">+</span>
<a href="#l26.13"></a><span id="l26.13"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l26.14"></a><span id="l26.14"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l26.15"></a><span id="l26.15"> Components.utils.import(&quot;resource://gre/modules/iteratorUtils.jsm&quot;);</span>
<a href="#l26.16"></a><span id="l26.16"> </span>
<a href="#l26.17"></a><span id="l26.17"> Components.utils.import(&quot;resource://calendar/modules/calAlarmUtils.jsm&quot;);</span>
<a href="#l26.18"></a><span id="l26.18"> Components.utils.import(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;);</span>
<a href="#l26.19"></a><span id="l26.19"> Components.utils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l26.20"></a><span id="l26.20"> </span>
<a href="#l26.21"></a><span id="l26.21" class="difflineat">@@ -132,17 +137,16 @@ function editReminder() {</span>
<a href="#l26.22"></a><span id="l26.22">     let args = {};</span>
<a href="#l26.23"></a><span id="l26.23">     args.reminders = customItem.reminders;</span>
<a href="#l26.24"></a><span id="l26.24">     args.item = window.calendarItem;</span>
<a href="#l26.25"></a><span id="l26.25">     args.timezone = (window.gStartTimezone ||</span>
<a href="#l26.26"></a><span id="l26.26">                      window.gEndTimezone ||</span>
<a href="#l26.27"></a><span id="l26.27">                      calendarDefaultTimezone());</span>
<a href="#l26.28"></a><span id="l26.28"> </span>
<a href="#l26.29"></a><span id="l26.29">     args.calendar = getCurrentCalendar();</span>
<a href="#l26.30"></a><span id="l26.30" class="difflineminus">-    let savedWindow = window;</span>
<a href="#l26.31"></a><span id="l26.31"> </span>
<a href="#l26.32"></a><span id="l26.32">     // While these are &quot;just&quot; callbacks, the dialog is opened modally, so aside</span>
<a href="#l26.33"></a><span id="l26.33">     // from whats needed to set up the reminders, nothing else needs to be done.</span>
<a href="#l26.34"></a><span id="l26.34">     args.onOk = function(reminders) {</span>
<a href="#l26.35"></a><span id="l26.35">         customItem.reminders = reminders;</span>
<a href="#l26.36"></a><span id="l26.36">     };</span>
<a href="#l26.37"></a><span id="l26.37">     args.onCancel = function() {</span>
<a href="#l26.38"></a><span id="l26.38">         document.getElementById(&quot;item-alarm&quot;).selectedIndex = gLastAlarmSelection;</span>
<a href="#l26.39"></a><span id="l26.39" class="difflineat">@@ -264,17 +268,16 @@ function matchCustomReminderToMenuitem(r</span>
<a href="#l26.40"></a><span id="l26.40"> /**</span>
<a href="#l26.41"></a><span id="l26.41">  * Load an item's reminders into the dialog</span>
<a href="#l26.42"></a><span id="l26.42">  *</span>
<a href="#l26.43"></a><span id="l26.43">  * @param reminders     An array of calIAlarms to load.</span>
<a href="#l26.44"></a><span id="l26.44">  */</span>
<a href="#l26.45"></a><span id="l26.45"> function loadReminders(reminders) {</span>
<a href="#l26.46"></a><span id="l26.46">     // select 'no reminder' by default</span>
<a href="#l26.47"></a><span id="l26.47">     let reminderList = document.getElementById(&quot;item-alarm&quot;);</span>
<a href="#l26.48"></a><span id="l26.48" class="difflineminus">-    let reminderPopup = reminderList.firstChild;</span>
<a href="#l26.49"></a><span id="l26.49">     let customItem = document.getElementById(&quot;reminder-custom-menuitem&quot;);</span>
<a href="#l26.50"></a><span id="l26.50">     reminderList.selectedIndex = 0;</span>
<a href="#l26.51"></a><span id="l26.51">     gLastAlarmSelection = 0;</span>
<a href="#l26.52"></a><span id="l26.52"> </span>
<a href="#l26.53"></a><span id="l26.53">     if (!reminders || !reminders.length) {</span>
<a href="#l26.54"></a><span id="l26.54">         // No reminders selected, we are done</span>
<a href="#l26.55"></a><span id="l26.55">         return;</span>
<a href="#l26.56"></a><span id="l26.56">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -1,12 +1,17 @@</span>
<a href="#l27.4"></a><span id="l27.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l27.5"></a><span id="l27.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l27.6"></a><span id="l27.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l27.7"></a><span id="l27.7"> </span>
<a href="#l27.8"></a><span id="l27.8" class="difflineplus">+/* exported onLoad, onAccept, onCancel, zoomWithButtons, updateStartTime,</span>
<a href="#l27.9"></a><span id="l27.9" class="difflineplus">+ *          endWidget, updateEndTime, editStartTimezone, editEndTimezone,</span>
<a href="#l27.10"></a><span id="l27.10" class="difflineplus">+ *          changeAllDay, onNextSlot, onPreviousSlot</span>
<a href="#l27.11"></a><span id="l27.11" class="difflineplus">+ */</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineplus">+</span>
<a href="#l27.13"></a><span id="l27.13"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l27.14"></a><span id="l27.14"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l27.15"></a><span id="l27.15"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l27.16"></a><span id="l27.16"> </span>
<a href="#l27.17"></a><span id="l27.17"> var gStartDate = null;</span>
<a href="#l27.18"></a><span id="l27.18"> var gEndDate = null;</span>
<a href="#l27.19"></a><span id="l27.19"> var gStartTimezone = null;</span>
<a href="#l27.20"></a><span id="l27.20"> var gEndTimezone = null;</span>
<a href="#l27.21"></a><span id="l27.21" class="difflineat">@@ -340,20 +345,18 @@ function updateTimezone() {</span>
<a href="#l27.22"></a><span id="l27.22">  * Updates gStartDate from the start time picker &quot;event-starttime&quot;</span>
<a href="#l27.23"></a><span id="l27.23">  */</span>
<a href="#l27.24"></a><span id="l27.24"> function updateStartTime() {</span>
<a href="#l27.25"></a><span id="l27.25">     if (gIgnoreUpdate) {</span>
<a href="#l27.26"></a><span id="l27.26">         return;</span>
<a href="#l27.27"></a><span id="l27.27">     }</span>
<a href="#l27.28"></a><span id="l27.28"> </span>
<a href="#l27.29"></a><span id="l27.29">     let startWidgetId = &quot;event-starttime&quot;;</span>
<a href="#l27.30"></a><span id="l27.30" class="difflineminus">-    let endWidgetId = &quot;event-endtime&quot;;</span>
<a href="#l27.31"></a><span id="l27.31"> </span>
<a href="#l27.32"></a><span id="l27.32">     let startWidget = document.getElementById(startWidgetId);</span>
<a href="#l27.33"></a><span id="l27.33" class="difflineminus">-    let endWidget = document.getElementById(endWidgetId);</span>
<a href="#l27.34"></a><span id="l27.34"> </span>
<a href="#l27.35"></a><span id="l27.35">     // jsDate is always in OS timezone, thus we create a calIDateTime</span>
<a href="#l27.36"></a><span id="l27.36">     // object from the jsDate representation and simply set the new</span>
<a href="#l27.37"></a><span id="l27.37">     // timezone instead of converting.</span>
<a href="#l27.38"></a><span id="l27.38">     let timezone = gDisplayTimezone ? gStartTimezone : calendarDefaultTimezone();</span>
<a href="#l27.39"></a><span id="l27.39">     let start = cal.jsDateToDateTime(startWidget.value, timezone);</span>
<a href="#l27.40"></a><span id="l27.40"> </span>
<a href="#l27.41"></a><span id="l27.41">     gStartDate = start.clone();</span>
<a href="#l27.42"></a><span id="l27.42" class="difflineat">@@ -609,17 +612,16 @@ function onResize() {</span>
<a href="#l27.43"></a><span id="l27.43"> </span>
<a href="#l27.44"></a><span id="l27.44"> /**</span>
<a href="#l27.45"></a><span id="l27.45">  * Handler function to call when changing the calendar used in this dialog.</span>
<a href="#l27.46"></a><span id="l27.46">  *</span>
<a href="#l27.47"></a><span id="l27.47">  * @param calendar      The calendar to change to.</span>
<a href="#l27.48"></a><span id="l27.48">  */</span>
<a href="#l27.49"></a><span id="l27.49"> function onChangeCalendar(calendar) {</span>
<a href="#l27.50"></a><span id="l27.50">     let args = window.arguments[0];</span>
<a href="#l27.51"></a><span id="l27.51" class="difflineminus">-    let organizer = args.organizer;</span>
<a href="#l27.52"></a><span id="l27.52"> </span>
<a href="#l27.53"></a><span id="l27.53">     // set 'mIsReadOnly' if the calendar is read-only</span>
<a href="#l27.54"></a><span id="l27.54">     if (calendar &amp;&amp; calendar.readOnly) {</span>
<a href="#l27.55"></a><span id="l27.55">         gIsReadOnly = true;</span>
<a href="#l27.56"></a><span id="l27.56">     }</span>
<a href="#l27.57"></a><span id="l27.57"> </span>
<a href="#l27.58"></a><span id="l27.58">     // assume we're the organizer [in case that the calendar</span>
<a href="#l27.59"></a><span id="l27.59">     // does not support the concept of identities].</span>
<a href="#l27.60"></a><span id="l27.60" class="difflineat">@@ -703,17 +705,16 @@ function onPreviousSlot() {</span>
<a href="#l27.61"></a><span id="l27.61">     // In case the new starttime happens to be scheduled</span>
<a href="#l27.62"></a><span id="l27.62">     // on a different day, we also need to update the</span>
<a href="#l27.63"></a><span id="l27.63">     // complete freebusy informations and appropriate</span>
<a href="#l27.64"></a><span id="l27.64">     // underlying arrays holding the information.</span>
<a href="#l27.65"></a><span id="l27.65">     let refresh = previousSlot.startTime.day != gStartDate.day;</span>
<a href="#l27.66"></a><span id="l27.66"> </span>
<a href="#l27.67"></a><span id="l27.67">     gStartDate = previousSlot.startTime.clone();</span>
<a href="#l27.68"></a><span id="l27.68">     gEndDate = previousSlot.endTime.clone();</span>
<a href="#l27.69"></a><span id="l27.69" class="difflineminus">-    let endDate = gEndDate.clone();</span>
<a href="#l27.70"></a><span id="l27.70"> </span>
<a href="#l27.71"></a><span id="l27.71">     propagateDateTime();</span>
<a href="#l27.72"></a><span id="l27.72"> </span>
<a href="#l27.73"></a><span id="l27.73">     // scroll the grid/timebar such that the current time is visible</span>
<a href="#l27.74"></a><span id="l27.74">     scrollToCurrentTime();</span>
<a href="#l27.75"></a><span id="l27.75"> </span>
<a href="#l27.76"></a><span id="l27.76">     updateButtons();</span>
<a href="#l27.77"></a><span id="l27.77"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -75,23 +75,16 @@</span>
<a href="#l28.4"></a><span id="l28.4">         let load = function loadHandler() {</span>
<a href="#l28.5"></a><span id="l28.5">             self.onLoad();</span>
<a href="#l28.6"></a><span id="l28.6">         };</span>
<a href="#l28.7"></a><span id="l28.7">         window.addEventListener(&quot;load&quot;, load, true);</span>
<a href="#l28.8"></a><span id="l28.8">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l28.9"></a><span id="l28.9"> </span>
<a href="#l28.10"></a><span id="l28.10">       &lt;method name=&quot;onLoad&quot;&gt;</span>
<a href="#l28.11"></a><span id="l28.11">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-          let listbox =</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineminus">-              document.getAnonymousElementByAttribute(</span>
<a href="#l28.14"></a><span id="l28.14" class="difflineminus">-                  this, &quot;anonid&quot;, &quot;listbox&quot;);</span>
<a href="#l28.15"></a><span id="l28.15" class="difflineminus">-          let template =</span>
<a href="#l28.16"></a><span id="l28.16" class="difflineminus">-              document.getAnonymousElementByAttribute(</span>
<a href="#l28.17"></a><span id="l28.17" class="difflineminus">-                  this, &quot;anonid&quot;, &quot;item&quot;);</span>
<a href="#l28.18"></a><span id="l28.18" class="difflineminus">-</span>
<a href="#l28.19"></a><span id="l28.19">           this.onInitialize();</span>
<a href="#l28.20"></a><span id="l28.20"> </span>
<a href="#l28.21"></a><span id="l28.21">           // this trigger the continous update chain, which</span>
<a href="#l28.22"></a><span id="l28.22">           // effectively calls this.onModify() on predefined</span>
<a href="#l28.23"></a><span id="l28.23">           // time intervals [each second].</span>
<a href="#l28.24"></a><span id="l28.24">           let self = this;</span>
<a href="#l28.25"></a><span id="l28.25">           let callback = function() {</span>
<a href="#l28.26"></a><span id="l28.26">               setTimeout(callback, 1000);</span>
<a href="#l28.27"></a><span id="l28.27" class="difflineat">@@ -696,17 +689,18 @@</span>
<a href="#l28.28"></a><span id="l28.28">                 &quot;RESOURCE&quot;: &quot;resource&quot;,</span>
<a href="#l28.29"></a><span id="l28.29">                 &quot;ROOM&quot;: &quot;room&quot;,</span>
<a href="#l28.30"></a><span id="l28.30">                 // I've decided UNKNOWN will not be handled.</span>
<a href="#l28.31"></a><span id="l28.31">             };</span>
<a href="#l28.32"></a><span id="l28.32"> </span>
<a href="#l28.33"></a><span id="l28.33">             let cutypeString = &quot;event.attendee.usertype.&quot; + (cutype in cutypeMap ? cutypeMap[cutype] : &quot;unknown&quot;);</span>
<a href="#l28.34"></a><span id="l28.34">             let tooltip = cal.calGetString(&quot;calendar-event-dialog-attendees&quot;,</span>
<a href="#l28.35"></a><span id="l28.35">                                            cutypeString,</span>
<a href="#l28.36"></a><span id="l28.36" class="difflineminus">-                                           (cutypeString in cutypeMap ? null : [cutype]));</span>
<a href="#l28.37"></a><span id="l28.37" class="difflineplus">+                                           (cutype in cutypeMap ? null : [cutype]));</span>
<a href="#l28.38"></a><span id="l28.38" class="difflineplus">+            targetIcon.setAttribute(&quot;tooltiptext&quot;, tooltip);</span>
<a href="#l28.39"></a><span id="l28.39">         }</span>
<a href="#l28.40"></a><span id="l28.40">       ]]&gt;&lt;/body&gt;</span>
<a href="#l28.41"></a><span id="l28.41">       &lt;/method&gt;</span>
<a href="#l28.42"></a><span id="l28.42"> </span>
<a href="#l28.43"></a><span id="l28.43">       &lt;property name=&quot;documentSize&quot;&gt;</span>
<a href="#l28.44"></a><span id="l28.44">         &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l28.45"></a><span id="l28.45">             return this.mRowHeight * this.mMaxAttendees;</span>
<a href="#l28.46"></a><span id="l28.46">         ]]&gt;&lt;/getter&gt;</span>
<a href="#l28.47"></a><span id="l28.47" class="difflineat">@@ -1069,19 +1063,16 @@</span>
<a href="#l28.48"></a><span id="l28.48">               }</span>
<a href="#l28.49"></a><span id="l28.49">           }</span>
<a href="#l28.50"></a><span id="l28.50">         ]]&gt;&lt;/body&gt;</span>
<a href="#l28.51"></a><span id="l28.51">       &lt;/method&gt;</span>
<a href="#l28.52"></a><span id="l28.52"> </span>
<a href="#l28.53"></a><span id="l28.53">       &lt;method name=&quot;removeRow&quot;&gt;</span>
<a href="#l28.54"></a><span id="l28.54">         &lt;parameter name=&quot;aRow&quot;/&gt;</span>
<a href="#l28.55"></a><span id="l28.55">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l28.56"></a><span id="l28.56" class="difflineminus">-          let listbox =</span>
<a href="#l28.57"></a><span id="l28.57" class="difflineminus">-              document.getAnonymousElementByAttribute(</span>
<a href="#l28.58"></a><span id="l28.58" class="difflineminus">-                  this, &quot;anonid&quot;, &quot;listbox&quot;);</span>
<a href="#l28.59"></a><span id="l28.59">           this.getListItem(aRow).remove();</span>
<a href="#l28.60"></a><span id="l28.60">           this.fitDummyRows();</span>
<a href="#l28.61"></a><span id="l28.61">           this.mMaxAttendees--;</span>
<a href="#l28.62"></a><span id="l28.62">         ]]&gt;&lt;/body&gt;</span>
<a href="#l28.63"></a><span id="l28.63">       &lt;/method&gt;</span>
<a href="#l28.64"></a><span id="l28.64">     &lt;/implementation&gt;</span>
<a href="#l28.65"></a><span id="l28.65"> </span>
<a href="#l28.66"></a><span id="l28.66">     &lt;handlers&gt;</span>
<a href="#l28.67"></a><span id="l28.67" class="difflineat">@@ -1403,17 +1394,16 @@</span>
<a href="#l28.68"></a><span id="l28.68">       &lt;method name=&quot;update&quot;&gt;</span>
<a href="#l28.69"></a><span id="l28.69">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l28.70"></a><span id="l28.70">           if (!this.mStartDate || !this.mEndDate) {</span>
<a href="#l28.71"></a><span id="l28.71">               return;</span>
<a href="#l28.72"></a><span id="l28.72">           }</span>
<a href="#l28.73"></a><span id="l28.73"> </span>
<a href="#l28.74"></a><span id="l28.74">           // Calculate the relation of startdate/basedate and enddate/startdate.</span>
<a href="#l28.75"></a><span id="l28.75">           let offset = this.mStartDate.subtractDate(this.mBaseDate);</span>
<a href="#l28.76"></a><span id="l28.76" class="difflineminus">-          let duration = this.mEndDate.subtractDate(this.mStartDate);</span>
<a href="#l28.77"></a><span id="l28.77"> </span>
<a href="#l28.78"></a><span id="l28.78">           // Calculate how much pixels a single hour and a single day take up.</span>
<a href="#l28.79"></a><span id="l28.79">           let num_hours = this.mEndHour - this.mStartHour;</span>
<a href="#l28.80"></a><span id="l28.80">           let hour_width = this.mContentWidth / num_hours;</span>
<a href="#l28.81"></a><span id="l28.81"> </span>
<a href="#l28.82"></a><span id="l28.82">           // Calculate the offset in fractional hours that corrospond</span>
<a href="#l28.83"></a><span id="l28.83">           // to our start- and end-time.</span>
<a href="#l28.84"></a><span id="l28.84">           let start_offset_in_hours = this.date2offset(this.mStartDate);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -469,17 +469,16 @@</span>
<a href="#l29.4"></a><span id="l29.4">         ]]&gt;&lt;/body&gt;</span>
<a href="#l29.5"></a><span id="l29.5">       &lt;/method&gt;</span>
<a href="#l29.6"></a><span id="l29.6"> </span>
<a href="#l29.7"></a><span id="l29.7">       &lt;method name=&quot;initialize&quot;&gt;</span>
<a href="#l29.8"></a><span id="l29.8">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l29.9"></a><span id="l29.9">           let args = window.arguments[0];</span>
<a href="#l29.10"></a><span id="l29.10">           let startTime = args.startTime;</span>
<a href="#l29.11"></a><span id="l29.11">           let endTime = args.endTime;</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-          let calendar = args.calendar;</span>
<a href="#l29.13"></a><span id="l29.13"> </span>
<a href="#l29.14"></a><span id="l29.14">           let kDefaultTimezone = calendarDefaultTimezone();</span>
<a href="#l29.15"></a><span id="l29.15">           this.startDate = startTime.getInTimezone(kDefaultTimezone);</span>
<a href="#l29.16"></a><span id="l29.16">           this.endDate = endTime.getInTimezone(kDefaultTimezone);</span>
<a href="#l29.17"></a><span id="l29.17"> </span>
<a href="#l29.18"></a><span id="l29.18">           // Set the number of 'freebusy-day'-elements</span>
<a href="#l29.19"></a><span id="l29.19">           // we need to fill up the content box.</span>
<a href="#l29.20"></a><span id="l29.20">           // TODO: hardcoded value</span>
<a href="#l29.21"></a><span id="l29.21" class="difflineat">@@ -697,17 +696,16 @@</span>
<a href="#l29.22"></a><span id="l29.22">           let step_in_minutes = Math.floor(60 * this.mZoomFactor / 100);</span>
<a href="#l29.23"></a><span id="l29.23">           let formatter = Components.classes[</span>
<a href="#l29.24"></a><span id="l29.24">               &quot;@mozilla.org/calendar/datetime-formatter;1&quot;]</span>
<a href="#l29.25"></a><span id="l29.25">                   .getService(</span>
<a href="#l29.26"></a><span id="l29.26">                       Components.interfaces.calIDateTimeFormatter);</span>
<a href="#l29.27"></a><span id="l29.27">           let date = cal.jsDateToDateTime(new Date());</span>
<a href="#l29.28"></a><span id="l29.28">           date.hour = this.mStartHour;</span>
<a href="#l29.29"></a><span id="l29.29">           date.minute = 0;</span>
<a href="#l29.30"></a><span id="l29.30" class="difflineminus">-          let height = this.parentNode.parentNode.boxObject.height - 1;</span>
<a href="#l29.31"></a><span id="l29.31">           let hours =</span>
<a href="#l29.32"></a><span id="l29.32">               document.getAnonymousElementByAttribute(</span>
<a href="#l29.33"></a><span id="l29.33">                   this, &quot;anonid&quot;, &quot;hours&quot;);</span>
<a href="#l29.34"></a><span id="l29.34">           if (hours.childNodes.length &lt;= 0) {</span>
<a href="#l29.35"></a><span id="l29.35">               let template = createXULElement(&quot;text&quot;);</span>
<a href="#l29.36"></a><span id="l29.36">               template.className = &quot;freebusy-grid&quot;;</span>
<a href="#l29.37"></a><span id="l29.37">               // TODO: hardcoded value</span>
<a href="#l29.38"></a><span id="l29.38">               let num_days = Math.max(2, 4 * this.mZoomFactor / 100);</span>
<a href="#l29.39"></a><span id="l29.39" class="difflineat">@@ -1063,18 +1061,16 @@</span>
<a href="#l29.40"></a><span id="l29.40">           listbox.scrollToIndex(Math.floor(rowcount * val));</span>
<a href="#l29.41"></a><span id="l29.41">           return val;</span>
<a href="#l29.42"></a><span id="l29.42">         ]]&gt;&lt;/setter&gt;</span>
<a href="#l29.43"></a><span id="l29.43">       &lt;/property&gt;</span>
<a href="#l29.44"></a><span id="l29.44"> </span>
<a href="#l29.45"></a><span id="l29.45">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l29.46"></a><span id="l29.46">         Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l29.47"></a><span id="l29.47"> </span>
<a href="#l29.48"></a><span id="l29.48" class="difflineminus">-        let args = window.arguments[0];</span>
<a href="#l29.49"></a><span id="l29.49" class="difflineminus">-</span>
<a href="#l29.50"></a><span id="l29.50">         this.initTimeRange();</span>
<a href="#l29.51"></a><span id="l29.51"> </span>
<a href="#l29.52"></a><span id="l29.52">         this.mRange = Number(this.getAttribute(&quot;range&quot;));</span>
<a href="#l29.53"></a><span id="l29.53"> </span>
<a href="#l29.54"></a><span id="l29.54">         this.mMaxFreeBusy = 0;</span>
<a href="#l29.55"></a><span id="l29.55">         this.mPendingRequests = [];</span>
<a href="#l29.56"></a><span id="l29.56"> </span>
<a href="#l29.57"></a><span id="l29.57">         let self = this;</span>
<a href="#l29.58"></a><span id="l29.58" class="difflineat">@@ -1139,17 +1135,16 @@</span>
<a href="#l29.59"></a><span id="l29.59">         ]]&gt;&lt;/body&gt;</span>
<a href="#l29.60"></a><span id="l29.60">       &lt;/method&gt;</span>
<a href="#l29.61"></a><span id="l29.61"> </span>
<a href="#l29.62"></a><span id="l29.62">       &lt;method name=&quot;onInitialize&quot;&gt;</span>
<a href="#l29.63"></a><span id="l29.63">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l29.64"></a><span id="l29.64">           let args = window.arguments[0];</span>
<a href="#l29.65"></a><span id="l29.65">           let startTime = args.startTime;</span>
<a href="#l29.66"></a><span id="l29.66">           let endTime = args.endTime;</span>
<a href="#l29.67"></a><span id="l29.67" class="difflineminus">-          let calendar = args.calendar;</span>
<a href="#l29.68"></a><span id="l29.68"> </span>
<a href="#l29.69"></a><span id="l29.69">           let kDefaultTimezone = calendarDefaultTimezone();</span>
<a href="#l29.70"></a><span id="l29.70">           this.startDate = startTime.getInTimezone(kDefaultTimezone);</span>
<a href="#l29.71"></a><span id="l29.71">           this.endDate = endTime.getInTimezone(kDefaultTimezone);</span>
<a href="#l29.72"></a><span id="l29.72"> </span>
<a href="#l29.73"></a><span id="l29.73">           let listbox =</span>
<a href="#l29.74"></a><span id="l29.74">               document.getAnonymousElementByAttribute(</span>
<a href="#l29.75"></a><span id="l29.75">                   this, &quot;anonid&quot;, &quot;listbox&quot;);</span>
<a href="#l29.76"></a><span id="l29.76" class="difflineat">@@ -1465,19 +1460,16 @@</span>
<a href="#l29.77"></a><span id="l29.77">               }</span>
<a href="#l29.78"></a><span id="l29.78">           }</span>
<a href="#l29.79"></a><span id="l29.79">         ]]&gt;&lt;/body&gt;</span>
<a href="#l29.80"></a><span id="l29.80">       &lt;/method&gt;</span>
<a href="#l29.81"></a><span id="l29.81"> </span>
<a href="#l29.82"></a><span id="l29.82">       &lt;method name=&quot;removeRow&quot;&gt;</span>
<a href="#l29.83"></a><span id="l29.83">         &lt;parameter name=&quot;aRow&quot;/&gt;</span>
<a href="#l29.84"></a><span id="l29.84">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l29.85"></a><span id="l29.85" class="difflineminus">-          let listbox =</span>
<a href="#l29.86"></a><span id="l29.86" class="difflineminus">-              document.getAnonymousElementByAttribute(</span>
<a href="#l29.87"></a><span id="l29.87" class="difflineminus">-                  this, &quot;anonid&quot;, &quot;listbox&quot;);</span>
<a href="#l29.88"></a><span id="l29.88">           this.getListItem(aRow).remove();</span>
<a href="#l29.89"></a><span id="l29.89">           this.fitDummyRows();</span>
<a href="#l29.90"></a><span id="l29.90">           this.mMaxFreeBusy--;</span>
<a href="#l29.91"></a><span id="l29.91">         ]]&gt;&lt;/body&gt;</span>
<a href="#l29.92"></a><span id="l29.92">       &lt;/method&gt;</span>
<a href="#l29.93"></a><span id="l29.93"> </span>
<a href="#l29.94"></a><span id="l29.94">       &lt;!-- gets the next row from the top down --&gt;</span>
<a href="#l29.95"></a><span id="l29.95">       &lt;method name=&quot;getNextDummyRow&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -57,19 +57,16 @@</span>
<a href="#l30.4"></a><span id="l30.4">             if (this.mDateTime == null) {</span>
<a href="#l30.5"></a><span id="l30.5">                 this.mDateTime = now();</span>
<a href="#l30.6"></a><span id="l30.6">             }</span>
<a href="#l30.7"></a><span id="l30.7">             return this.mDateTime;</span>
<a href="#l30.8"></a><span id="l30.8">         ]]&gt;&lt;/getter&gt;</span>
<a href="#l30.9"></a><span id="l30.9">       &lt;/property&gt;</span>
<a href="#l30.10"></a><span id="l30.10">       &lt;method name=&quot;onResize&quot;&gt;</span>
<a href="#l30.11"></a><span id="l30.11">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-          let mainbox =</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineminus">-              document.getAnonymousElementByAttribute(</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineminus">-                  this, &quot;anonid&quot;, &quot;mainbox&quot;);</span>
<a href="#l30.15"></a><span id="l30.15">           let minimonth =</span>
<a href="#l30.16"></a><span id="l30.16">               document.getAnonymousElementByAttribute(</span>
<a href="#l30.17"></a><span id="l30.17">                   this, &quot;anonid&quot;, &quot;minimonth&quot;);</span>
<a href="#l30.18"></a><span id="l30.18"> </span>
<a href="#l30.19"></a><span id="l30.19">           let row =</span>
<a href="#l30.20"></a><span id="l30.20">               document.getAnonymousElementByAttribute(</span>
<a href="#l30.21"></a><span id="l30.21">                   this, &quot;anonid&quot;, &quot;row&quot;);</span>
<a href="#l30.22"></a><span id="l30.22">           let rows = row.parentNode;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l31.4"></a><span id="l31.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l31.5"></a><span id="l31.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l31.6"></a><span id="l31.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l31.7"></a><span id="l31.7"> </span>
<a href="#l31.8"></a><span id="l31.8" class="difflineplus">+/* exported onLoad, onAccept, onCancel */</span>
<a href="#l31.9"></a><span id="l31.9" class="difflineplus">+</span>
<a href="#l31.10"></a><span id="l31.10"> Components.utils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l31.11"></a><span id="l31.11"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l31.12"></a><span id="l31.12"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l31.13"></a><span id="l31.13"> </span>
<a href="#l31.14"></a><span id="l31.14"> var gIsReadOnly = false;</span>
<a href="#l31.15"></a><span id="l31.15"> var gStartTime = null;</span>
<a href="#l31.16"></a><span id="l31.16"> var gEndTime = null;</span>
<a href="#l31.17"></a><span id="l31.17"> var gUntilDate = null;</span>
<a href="#l31.18"></a><span id="l31.18" class="difflineat">@@ -39,17 +41,16 @@ function onLoad() {</span>
<a href="#l31.19"></a><span id="l31.19">         item = item.parentItem;</span>
<a href="#l31.20"></a><span id="l31.20">     }</span>
<a href="#l31.21"></a><span id="l31.21">     let rule = null;</span>
<a href="#l31.22"></a><span id="l31.22">     if (recinfo) {</span>
<a href="#l31.23"></a><span id="l31.23">         // Split out rules and exceptions</span>
<a href="#l31.24"></a><span id="l31.24">         try {</span>
<a href="#l31.25"></a><span id="l31.25">             let rrules = splitRecurrenceRules(recinfo);</span>
<a href="#l31.26"></a><span id="l31.26">             let rules = rrules[0];</span>
<a href="#l31.27"></a><span id="l31.27" class="difflineminus">-            let exceptions = rrules[1];</span>
<a href="#l31.28"></a><span id="l31.28">             // Deal with the rules</span>
<a href="#l31.29"></a><span id="l31.29">             if (rules.length &gt; 0) {</span>
<a href="#l31.30"></a><span id="l31.30">                 // We only handle 1 rule currently</span>
<a href="#l31.31"></a><span id="l31.31">                 rule = cal.wrapInstance(rules[0], Components.interfaces.calIRecurrenceRule);</span>
<a href="#l31.32"></a><span id="l31.32">             }</span>
<a href="#l31.33"></a><span id="l31.33">         } catch (ex) {</span>
<a href="#l31.34"></a><span id="l31.34">             Components.utils.reportError(ex);</span>
<a href="#l31.35"></a><span id="l31.35">         }</span>
<a href="#l31.36"></a><span id="l31.36" class="difflineat">@@ -550,18 +551,16 @@ function updateRecurrenceRange() {</span>
<a href="#l31.37"></a><span id="l31.37">         document.getElementById(&quot;recurrence-range-until&quot;);</span>
<a href="#l31.38"></a><span id="l31.38">     let rangeTimesCount =</span>
<a href="#l31.39"></a><span id="l31.39">         document.getElementById(&quot;repeat-ntimes-count&quot;);</span>
<a href="#l31.40"></a><span id="l31.40">     let rangeUntilDate =</span>
<a href="#l31.41"></a><span id="l31.41">         document.getElementById(&quot;repeat-until-date&quot;);</span>
<a href="#l31.42"></a><span id="l31.42">     let rangeAppointmentsLabel =</span>
<a href="#l31.43"></a><span id="l31.43">         document.getElementById(&quot;repeat-appointments-label&quot;);</span>
<a href="#l31.44"></a><span id="l31.44"> </span>
<a href="#l31.45"></a><span id="l31.45" class="difflineminus">-    let deckNumber = Number(getElementValue(&quot;period-list&quot;));</span>
<a href="#l31.46"></a><span id="l31.46" class="difflineminus">-</span>
<a href="#l31.47"></a><span id="l31.47">     radioRangeForever.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l31.48"></a><span id="l31.48">     radioRangeFor.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l31.49"></a><span id="l31.49">     radioRangeUntil.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l31.50"></a><span id="l31.50">     rangeAppointmentsLabel.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l31.51"></a><span id="l31.51"> </span>
<a href="#l31.52"></a><span id="l31.52">     let durationSelection = document.getElementById(&quot;recurrence-duration&quot;)</span>
<a href="#l31.53"></a><span id="l31.53">                                     .selectedItem.value;</span>
<a href="#l31.54"></a><span id="l31.54"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-reminder.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-reminder.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -1,12 +1,16 @@</span>
<a href="#l32.4"></a><span id="l32.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l32.5"></a><span id="l32.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l32.6"></a><span id="l32.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l32.7"></a><span id="l32.7"> </span>
<a href="#l32.8"></a><span id="l32.8" class="difflineplus">+/* exported onLoad, onReminderSelected, updateReminder, onNewReminder,</span>
<a href="#l32.9"></a><span id="l32.9" class="difflineplus">+ *          onRemoveReminder, onAccept, onCancel</span>
<a href="#l32.10"></a><span id="l32.10" class="difflineplus">+ */</span>
<a href="#l32.11"></a><span id="l32.11" class="difflineplus">+</span>
<a href="#l32.12"></a><span id="l32.12"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l32.13"></a><span id="l32.13"> Components.utils.import(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;);</span>
<a href="#l32.14"></a><span id="l32.14"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l32.15"></a><span id="l32.15"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l32.16"></a><span id="l32.16"> </span>
<a href="#l32.17"></a><span id="l32.17"> var allowedActionsMap = {};</span>
<a href="#l32.18"></a><span id="l32.18"> </span>
<a href="#l32.19"></a><span id="l32.19"> /**</span>
<a href="#l32.20"></a><span id="l32.20" class="difflineat">@@ -309,17 +313,16 @@ function updateReminder(event) {</span>
<a href="#l32.21"></a><span id="l32.21">     let relationOrigin = document.getElementById(&quot;reminder-relation-origin&quot;);</span>
<a href="#l32.22"></a><span id="l32.22">     let [relation, origin] = relationOrigin.value.split(&quot;-&quot;);</span>
<a href="#l32.23"></a><span id="l32.23">     let absDate = document.getElementById(&quot;reminder-absolute-date&quot;);</span>
<a href="#l32.24"></a><span id="l32.24">     let action = document.getElementById(&quot;reminder-actions-menulist&quot;).selectedItem.value;</span>
<a href="#l32.25"></a><span id="l32.25"> </span>
<a href="#l32.26"></a><span id="l32.26">     // Action</span>
<a href="#l32.27"></a><span id="l32.27">     reminder.action = action;</span>
<a href="#l32.28"></a><span id="l32.28"> </span>
<a href="#l32.29"></a><span id="l32.29" class="difflineminus">-    let relationType;</span>
<a href="#l32.30"></a><span id="l32.30">     if (relationItem.value == &quot;relative&quot;) {</span>
<a href="#l32.31"></a><span id="l32.31">         if (origin == &quot;START&quot;) {</span>
<a href="#l32.32"></a><span id="l32.32">             reminder.related = Components.interfaces.calIAlarm.ALARM_RELATED_START;</span>
<a href="#l32.33"></a><span id="l32.33">         } else if (origin == &quot;END&quot;) {</span>
<a href="#l32.34"></a><span id="l32.34">             reminder.related = Components.interfaces.calIAlarm.ALARM_RELATED_END;</span>
<a href="#l32.35"></a><span id="l32.35">         }</span>
<a href="#l32.36"></a><span id="l32.36"> </span>
<a href="#l32.37"></a><span id="l32.37">         // Set up offset, taking units and before/after into account</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-timezone.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-timezone.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l33.4"></a><span id="l33.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l33.5"></a><span id="l33.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l33.6"></a><span id="l33.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l33.7"></a><span id="l33.7"> </span>
<a href="#l33.8"></a><span id="l33.8" class="difflineplus">+/* exported onLoad, onAccept, onCancel */</span>
<a href="#l33.9"></a><span id="l33.9" class="difflineplus">+</span>
<a href="#l33.10"></a><span id="l33.10"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l33.11"></a><span id="l33.11"> </span>
<a href="#l33.12"></a><span id="l33.12"> /**</span>
<a href="#l33.13"></a><span id="l33.13">  * Sets up the timezone dialog from the window arguments, also setting up all</span>
<a href="#l33.14"></a><span id="l33.14">  * dialog controls from the window's dates.</span>
<a href="#l33.15"></a><span id="l33.15">  */</span>
<a href="#l33.16"></a><span id="l33.16"> function onLoad() {</span>
<a href="#l33.17"></a><span id="l33.17">     let args = window.arguments[0];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-invitations-dialog.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-invitations-dialog.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l34.4"></a><span id="l34.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l34.5"></a><span id="l34.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l34.6"></a><span id="l34.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l34.7"></a><span id="l34.7"> </span>
<a href="#l34.8"></a><span id="l34.8" class="difflineplus">+/* exported onLoad, onUnload, onAccept, onCancel */</span>
<a href="#l34.9"></a><span id="l34.9" class="difflineplus">+</span>
<a href="#l34.10"></a><span id="l34.10"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l34.11"></a><span id="l34.11"> Components.utils.import(&quot;resource://calendar/modules/calAlarmUtils.jsm&quot;);</span>
<a href="#l34.12"></a><span id="l34.12"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l34.13"></a><span id="l34.13"> </span>
<a href="#l34.14"></a><span id="l34.14"> /**</span>
<a href="#l34.15"></a><span id="l34.15">  * Sets up the invitations dialog from the window arguments, retrieves the</span>
<a href="#l34.16"></a><span id="l34.16">  * invitations from the invitations manager.</span>
<a href="#l34.17"></a><span id="l34.17">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-print-dialog.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-print-dialog.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l35.4"></a><span id="l35.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l35.5"></a><span id="l35.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l35.6"></a><span id="l35.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l35.7"></a><span id="l35.7"> </span>
<a href="#l35.8"></a><span id="l35.8" class="difflineplus">+/* exported loadCalendarPrintDialog, printAndClose, onDatePick */</span>
<a href="#l35.9"></a><span id="l35.9" class="difflineplus">+</span>
<a href="#l35.10"></a><span id="l35.10"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l35.11"></a><span id="l35.11"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l35.12"></a><span id="l35.12"> </span>
<a href="#l35.13"></a><span id="l35.13"> /**</span>
<a href="#l35.14"></a><span id="l35.14">  * Gets the calendar view from the opening window</span>
<a href="#l35.15"></a><span id="l35.15">  */</span>
<a href="#l35.16"></a><span id="l35.16"> function getCalendarView() {</span>
<a href="#l35.17"></a><span id="l35.17">     let theView = window.opener.currentView();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-properties-dialog.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-properties-dialog.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l36.4"></a><span id="l36.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l36.5"></a><span id="l36.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l36.6"></a><span id="l36.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l36.7"></a><span id="l36.7"> </span>
<a href="#l36.8"></a><span id="l36.8" class="difflineplus">+/* exported onLoad, onAcceptDialog, unsubscribeCalendar */</span>
<a href="#l36.9"></a><span id="l36.9" class="difflineplus">+</span>
<a href="#l36.10"></a><span id="l36.10"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l36.11"></a><span id="l36.11"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l36.12"></a><span id="l36.12"> </span>
<a href="#l36.13"></a><span id="l36.13"> /**</span>
<a href="#l36.14"></a><span id="l36.14">  * The calendar to modify, is retrieved from window.arguments[0].calendar</span>
<a href="#l36.15"></a><span id="l36.15">  */</span>
<a href="#l36.16"></a><span id="l36.16"> var gCalendar;</span>
<a href="#l36.17"></a><span id="l36.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-providerUninstall-dialog.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-providerUninstall-dialog.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l37.4"></a><span id="l37.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l37.5"></a><span id="l37.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l37.6"></a><span id="l37.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l37.7"></a><span id="l37.7"> </span>
<a href="#l37.8"></a><span id="l37.8" class="difflineplus">+/* exported onLoad, onAccept, onCancel */</span>
<a href="#l37.9"></a><span id="l37.9" class="difflineplus">+</span>
<a href="#l37.10"></a><span id="l37.10"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l37.11"></a><span id="l37.11"> </span>
<a href="#l37.12"></a><span id="l37.12"> function onLoad() {</span>
<a href="#l37.13"></a><span id="l37.13">     let extension = window.arguments[0].extension;</span>
<a href="#l37.14"></a><span id="l37.14">     document.getElementById(&quot;provider-name-label&quot;).value = extension.name;</span>
<a href="#l37.15"></a><span id="l37.15"> </span>
<a href="#l37.16"></a><span id="l37.16">     let calendars = cal.getCalendarManager().getCalendars({})</span>
<a href="#l37.17"></a><span id="l37.17">                        .filter(x =&gt; x.providerID == extension.id);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-subscriptions-dialog.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-subscriptions-dialog.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -1,12 +1,16 @@</span>
<a href="#l38.4"></a><span id="l38.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l38.5"></a><span id="l38.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l38.6"></a><span id="l38.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l38.7"></a><span id="l38.7"> </span>
<a href="#l38.8"></a><span id="l38.8" class="difflineplus">+/* exported onLoad, onUnload, onKeyPress, onTextBoxKeyPress, onAccept,</span>
<a href="#l38.9"></a><span id="l38.9" class="difflineplus">+ *          onCancel, onSubscribe, onUnsubscribe</span>
<a href="#l38.10"></a><span id="l38.10" class="difflineplus">+ */</span>
<a href="#l38.11"></a><span id="l38.11" class="difflineplus">+</span>
<a href="#l38.12"></a><span id="l38.12"> /**</span>
<a href="#l38.13"></a><span id="l38.13">  * Cancels any pending search operations.</span>
<a href="#l38.14"></a><span id="l38.14">  */</span>
<a href="#l38.15"></a><span id="l38.15"> var gCurrentSearchOperation = null;</span>
<a href="#l38.16"></a><span id="l38.16"> function cancelPendingSearchOperation() {</span>
<a href="#l38.17"></a><span id="l38.17">     if (gCurrentSearchOperation &amp;&amp; gCurrentSearchOperation.isPending) {</span>
<a href="#l38.18"></a><span id="l38.18">         gCurrentSearchOperation.cancel(Components.interfaces.calIErrors.OPERATION_CANCELLED);</span>
<a href="#l38.19"></a><span id="l38.19">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -1,12 +1,16 @@</span>
<a href="#l39.4"></a><span id="l39.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l39.5"></a><span id="l39.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l39.6"></a><span id="l39.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l39.7"></a><span id="l39.7"> </span>
<a href="#l39.8"></a><span id="l39.8" class="difflineplus">+/* exported onLoad, onAccept, onCancel, updatePartStat, browseDocument,</span>
<a href="#l39.9"></a><span id="l39.9" class="difflineplus">+ *          sendMailToOrganizer</span>
<a href="#l39.10"></a><span id="l39.10" class="difflineplus">+ */</span>
<a href="#l39.11"></a><span id="l39.11" class="difflineplus">+</span>
<a href="#l39.12"></a><span id="l39.12"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l39.13"></a><span id="l39.13"> Components.utils.import(&quot;resource://calendar/modules/calItipUtils.jsm&quot;);</span>
<a href="#l39.14"></a><span id="l39.14"> Components.utils.import(&quot;resource://calendar/modules/calAlarmUtils.jsm&quot;);</span>
<a href="#l39.15"></a><span id="l39.15"> Components.utils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l39.16"></a><span id="l39.16"> </span>
<a href="#l39.17"></a><span id="l39.17"> /**</span>
<a href="#l39.18"></a><span id="l39.18">  * Sets up the summary dialog, setting all needed fields on the dialog from the</span>
<a href="#l39.19"></a><span id="l39.19">  * item received in the window arguments.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/calendar/base/content/import-export.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/calendar/base/content/import-export.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -1,23 +1,21 @@</span>
<a href="#l40.4"></a><span id="l40.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l40.5"></a><span id="l40.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l40.6"></a><span id="l40.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l40.7"></a><span id="l40.7"> </span>
<a href="#l40.8"></a><span id="l40.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l40.9"></a><span id="l40.9"> </span>
<a href="#l40.10"></a><span id="l40.10" class="difflineplus">+/* exported loadEventsFromFile, exportEntireCalendar */</span>
<a href="#l40.11"></a><span id="l40.11" class="difflineplus">+</span>
<a href="#l40.12"></a><span id="l40.12"> // File constants copied from file-utils.js</span>
<a href="#l40.13"></a><span id="l40.13"> var MODE_RDONLY = 0x01;</span>
<a href="#l40.14"></a><span id="l40.14"> var MODE_WRONLY = 0x02;</span>
<a href="#l40.15"></a><span id="l40.15" class="difflineminus">-var MODE_RDWR = 0x04;</span>
<a href="#l40.16"></a><span id="l40.16"> var MODE_CREATE = 0x08;</span>
<a href="#l40.17"></a><span id="l40.17" class="difflineminus">-var MODE_APPEND = 0x10;</span>
<a href="#l40.18"></a><span id="l40.18"> var MODE_TRUNCATE = 0x20;</span>
<a href="#l40.19"></a><span id="l40.19" class="difflineminus">-var MODE_SYNC = 0x40;</span>
<a href="#l40.20"></a><span id="l40.20" class="difflineminus">-var MODE_EXCL = 0x80;</span>
<a href="#l40.21"></a><span id="l40.21"> </span>
<a href="#l40.22"></a><span id="l40.22"> /**</span>
<a href="#l40.23"></a><span id="l40.23">  * Shows a file dialog, reads the selected file(s) and tries to parse events from it.</span>
<a href="#l40.24"></a><span id="l40.24">  *</span>
<a href="#l40.25"></a><span id="l40.25">  * @param aCalendar  (optional) If specified, the items will be imported directly</span>
<a href="#l40.26"></a><span id="l40.26">  *                              into the calendar</span>
<a href="#l40.27"></a><span id="l40.27">  */</span>
<a href="#l40.28"></a><span id="l40.28"> function loadEventsFromFile(aCalendar) {</span>
<a href="#l40.29"></a><span id="l40.29" class="difflineat">@@ -71,17 +69,16 @@ function loadEventsFromFile(aCalendar) {</span>
<a href="#l40.30"></a><span id="l40.30">             filterIndex = defaultCIDIndex;</span>
<a href="#l40.31"></a><span id="l40.31">         }</span>
<a href="#l40.32"></a><span id="l40.32"> </span>
<a href="#l40.33"></a><span id="l40.33">         let filePath = fp.file.path;</span>
<a href="#l40.34"></a><span id="l40.34">         let importer = Components.classes[contractids[filterIndex]]</span>
<a href="#l40.35"></a><span id="l40.35">                                  .getService(Components.interfaces.calIImporter);</span>
<a href="#l40.36"></a><span id="l40.36"> </span>
<a href="#l40.37"></a><span id="l40.37">         const nsIFileInputStream = Components.interfaces.nsIFileInputStream;</span>
<a href="#l40.38"></a><span id="l40.38" class="difflineminus">-        const nsIScriptableInputStream = Components.interfaces.nsIScriptableInputStream;</span>
<a href="#l40.39"></a><span id="l40.39"> </span>
<a href="#l40.40"></a><span id="l40.40">         let inputStream = Components.classes[&quot;@mozilla.org/network/file-input-stream;1&quot;]</span>
<a href="#l40.41"></a><span id="l40.41">                                     .createInstance(nsIFileInputStream);</span>
<a href="#l40.42"></a><span id="l40.42">         let items = [];</span>
<a href="#l40.43"></a><span id="l40.43"> </span>
<a href="#l40.44"></a><span id="l40.44">         try {</span>
<a href="#l40.45"></a><span id="l40.45">             inputStream.init(fp.file, MODE_RDONLY, parseInt(&quot;0444&quot;, 8), {});</span>
<a href="#l40.46"></a><span id="l40.46">             items = importer.importFromStream(inputStream, {});</span>
<a href="#l40.47"></a><span id="l40.47" class="difflineat">@@ -256,23 +253,17 @@ function saveEventsToFile(calendarEventA</span>
<a href="#l40.48"></a><span id="l40.48">             contractids.push(contractid);</span>
<a href="#l40.49"></a><span id="l40.49">             currentListLength++;</span>
<a href="#l40.50"></a><span id="l40.50">         }</span>
<a href="#l40.51"></a><span id="l40.51">     }</span>
<a href="#l40.52"></a><span id="l40.52"> </span>
<a href="#l40.53"></a><span id="l40.53">     let rv = fp.show();</span>
<a href="#l40.54"></a><span id="l40.54"> </span>
<a href="#l40.55"></a><span id="l40.55">     // Now find out as what to save, convert the events and save to file.</span>
<a href="#l40.56"></a><span id="l40.56" class="difflineminus">-    if (rv != nsIFilePicker.returnCancel &amp;&amp;</span>
<a href="#l40.57"></a><span id="l40.57" class="difflineminus">-        fp.file &amp;&amp; fp.file.path.length &gt; 0) {</span>
<a href="#l40.58"></a><span id="l40.58" class="difflineminus">-        const UTF8 = &quot;UTF-8&quot;;</span>
<a href="#l40.59"></a><span id="l40.59" class="difflineminus">-        let aDataStream;</span>
<a href="#l40.60"></a><span id="l40.60" class="difflineminus">-        let extension;</span>
<a href="#l40.61"></a><span id="l40.61" class="difflineminus">-        let charset;</span>
<a href="#l40.62"></a><span id="l40.62" class="difflineminus">-</span>
<a href="#l40.63"></a><span id="l40.63" class="difflineplus">+    if (rv != nsIFilePicker.returnCancel &amp;&amp; fp.file &amp;&amp; fp.file.path.length &gt; 0) {</span>
<a href="#l40.64"></a><span id="l40.64">         let filterIndex = fp.filterIndex;</span>
<a href="#l40.65"></a><span id="l40.65">         if (fp.filterIndex &lt; 0 || fp.filterIndex &gt; contractids.length) {</span>
<a href="#l40.66"></a><span id="l40.66">             // For some reason the wrong filter was selected, assume default extension</span>
<a href="#l40.67"></a><span id="l40.67">             filterIndex = defaultCIDIndex;</span>
<a href="#l40.68"></a><span id="l40.68">         }</span>
<a href="#l40.69"></a><span id="l40.69"> </span>
<a href="#l40.70"></a><span id="l40.70">         let exporter = Components.classes[contractids[filterIndex]]</span>
<a href="#l40.71"></a><span id="l40.71">                                  .getService(Components.interfaces.calIExporter);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/calendar/base/content/preferences/alarms.js</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/calendar/base/content/preferences/alarms.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -1,13 +1,14 @@</span>
<a href="#l41.4"></a><span id="l41.4" class="difflineminus">-/**</span>
<a href="#l41.5"></a><span id="l41.5" class="difflineminus">- * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l41.6"></a><span id="l41.6" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l41.7"></a><span id="l41.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l41.8"></a><span id="l41.8" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l41.9"></a><span id="l41.9" class="difflineminus">- */</span>
<a href="#l41.10"></a><span id="l41.10" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l41.11"></a><span id="l41.11" class="difflineplus">+</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineplus">+/* exported gAlarmsPane */</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineplus">+</span>
<a href="#l41.14"></a><span id="l41.14"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l41.15"></a><span id="l41.15"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l41.16"></a><span id="l41.16"> </span>
<a href="#l41.17"></a><span id="l41.17"> /**</span>
<a href="#l41.18"></a><span id="l41.18">  * Global Object to hold methods for the alarms pref pane</span>
<a href="#l41.19"></a><span id="l41.19">  */</span>
<a href="#l41.20"></a><span id="l41.20"> var gAlarmsPane = {</span>
<a href="#l41.21"></a><span id="l41.21">     /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/calendar/base/content/preferences/categories.js</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/calendar/base/content/preferences/categories.js</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -1,13 +1,14 @@</span>
<a href="#l42.4"></a><span id="l42.4" class="difflineminus">-/**</span>
<a href="#l42.5"></a><span id="l42.5" class="difflineminus">- * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l42.6"></a><span id="l42.6" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l42.7"></a><span id="l42.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l42.8"></a><span id="l42.8" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l42.9"></a><span id="l42.9" class="difflineminus">- */</span>
<a href="#l42.10"></a><span id="l42.10" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l42.11"></a><span id="l42.11" class="difflineplus">+</span>
<a href="#l42.12"></a><span id="l42.12" class="difflineplus">+/* exported gCategoriesPane */</span>
<a href="#l42.13"></a><span id="l42.13" class="difflineplus">+</span>
<a href="#l42.14"></a><span id="l42.14"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l42.15"></a><span id="l42.15"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l42.16"></a><span id="l42.16"> Components.utils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l42.17"></a><span id="l42.17"> </span>
<a href="#l42.18"></a><span id="l42.18"> var gCategoryList;</span>
<a href="#l42.19"></a><span id="l42.19"> var categoryPrefBranch = Services.prefs.getBranch(&quot;calendar.category.color.&quot;);</span>
<a href="#l42.20"></a><span id="l42.20"> </span>
<a href="#l42.21"></a><span id="l42.21"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/calendar/base/content/preferences/editCategory.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/calendar/base/content/preferences/editCategory.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l43.4"></a><span id="l43.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l43.5"></a><span id="l43.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l43.6"></a><span id="l43.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l43.7"></a><span id="l43.7"> </span>
<a href="#l43.8"></a><span id="l43.8" class="difflineplus">+/* exported editCategoryLoad, doOK, categoryNameChanged, clickColor, delay */</span>
<a href="#l43.9"></a><span id="l43.9" class="difflineplus">+</span>
<a href="#l43.10"></a><span id="l43.10"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l43.11"></a><span id="l43.11"> </span>
<a href="#l43.12"></a><span id="l43.12"> // Global variable, set to true if the user has picked a custom color.</span>
<a href="#l43.13"></a><span id="l43.13"> var customColorSelected = false;</span>
<a href="#l43.14"></a><span id="l43.14"> </span>
<a href="#l43.15"></a><span id="l43.15"> /**</span>
<a href="#l43.16"></a><span id="l43.16">  * Load Handler, called when the edit category dialog is loaded</span>
<a href="#l43.17"></a><span id="l43.17">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/calendar/base/content/preferences/general.js</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/calendar/base/content/preferences/general.js</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l44.4"></a><span id="l44.4" class="difflineminus">-/**</span>
<a href="#l44.5"></a><span id="l44.5" class="difflineminus">- * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l44.6"></a><span id="l44.6" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l44.7"></a><span id="l44.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l44.8"></a><span id="l44.8" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l44.9"></a><span id="l44.9" class="difflineminus">- */</span>
<a href="#l44.10"></a><span id="l44.10" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l44.11"></a><span id="l44.11" class="difflineplus">+</span>
<a href="#l44.12"></a><span id="l44.12" class="difflineplus">+/* exported gCalendarGeneralPane */</span>
<a href="#l44.13"></a><span id="l44.13"> </span>
<a href="#l44.14"></a><span id="l44.14"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l44.15"></a><span id="l44.15"> </span>
<a href="#l44.16"></a><span id="l44.16"> /**</span>
<a href="#l44.17"></a><span id="l44.17">  * Global Object to hold methods for the general pref pane</span>
<a href="#l44.18"></a><span id="l44.18">  */</span>
<a href="#l44.19"></a><span id="l44.19"> var gCalendarGeneralPane = {</span>
<a href="#l44.20"></a><span id="l44.20">     /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/calendar/base/content/preferences/views.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/calendar/base/content/preferences/views.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l45.4"></a><span id="l45.4" class="difflineminus">-/**</span>
<a href="#l45.5"></a><span id="l45.5" class="difflineminus">- * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l45.6"></a><span id="l45.6" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l45.7"></a><span id="l45.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l45.8"></a><span id="l45.8" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l45.9"></a><span id="l45.9" class="difflineminus">- */</span>
<a href="#l45.10"></a><span id="l45.10" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l45.11"></a><span id="l45.11" class="difflineplus">+</span>
<a href="#l45.12"></a><span id="l45.12" class="difflineplus">+/* exported gViewsPane */</span>
<a href="#l45.13"></a><span id="l45.13"> </span>
<a href="#l45.14"></a><span id="l45.14"> /**</span>
<a href="#l45.15"></a><span id="l45.15">  * Global Object to hold methods for the views pref pane</span>
<a href="#l45.16"></a><span id="l45.16">  */</span>
<a href="#l45.17"></a><span id="l45.17"> var gViewsPane = {</span>
<a href="#l45.18"></a><span id="l45.18">     /**</span>
<a href="#l45.19"></a><span id="l45.19">      * Initialize the views pref pane. Sets up dialog controls to match the</span>
<a href="#l45.20"></a><span id="l45.20">      * values set in prefs.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-alarm-widget.xml</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-alarm-widget.xml</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -80,19 +80,16 @@</span>
<a href="#l46.4"></a><span id="l46.4">           }</span>
<a href="#l46.5"></a><span id="l46.5"> </span>
<a href="#l46.6"></a><span id="l46.6">           let formatter = cal.getDateFormatter();</span>
<a href="#l46.7"></a><span id="l46.7">           let titleLabel = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;alarm-title-label&quot;);</span>
<a href="#l46.8"></a><span id="l46.8">           let locationDescription = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;alarm-location-description&quot;);</span>
<a href="#l46.9"></a><span id="l46.9">           let dateLabel = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;alarm-date-label&quot;);</span>
<a href="#l46.10"></a><span id="l46.10"> </span>
<a href="#l46.11"></a><span id="l46.11">           // Dates</span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-          let startString = {};</span>
<a href="#l46.13"></a><span id="l46.13" class="difflineminus">-          let endString = {};</span>
<a href="#l46.14"></a><span id="l46.14" class="difflineminus">-</span>
<a href="#l46.15"></a><span id="l46.15">           if (cal.isEvent(this.mItem)) {</span>
<a href="#l46.16"></a><span id="l46.16">               dateLabel.textContent = formatter.formatItemInterval(this.mItem);</span>
<a href="#l46.17"></a><span id="l46.17">           } else if (cal.isToDo(this.mItem)) {</span>
<a href="#l46.18"></a><span id="l46.18">               let startDate = this.mItem.entryDate || this.mItem.dueDate;</span>
<a href="#l46.19"></a><span id="l46.19">               if (startDate) {</span>
<a href="#l46.20"></a><span id="l46.20">                   // A Task with a start or due date, show with label</span>
<a href="#l46.21"></a><span id="l46.21">                   startDate = startDate.getInTimezone(cal.calendarDefaultTimezone());</span>
<a href="#l46.22"></a><span id="l46.22">                   dateLabel.textContent = calGetString(&quot;calendar&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-list-tree.xml</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-list-tree.xml</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -914,18 +914,16 @@</span>
<a href="#l47.4"></a><span id="l47.4">           return null;</span>
<a href="#l47.5"></a><span id="l47.5">         ]]&gt;&lt;/body&gt;</span>
<a href="#l47.6"></a><span id="l47.6">       &lt;/method&gt;</span>
<a href="#l47.7"></a><span id="l47.7"> </span>
<a href="#l47.8"></a><span id="l47.8">       &lt;method name=&quot;getCellText&quot;&gt;</span>
<a href="#l47.9"></a><span id="l47.9">         &lt;parameter name=&quot;aRow&quot;/&gt;</span>
<a href="#l47.10"></a><span id="l47.10">         &lt;parameter name=&quot;aCol&quot;/&gt;</span>
<a href="#l47.11"></a><span id="l47.11">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineminus">-          let calendar = this.getCalendar(aRow);</span>
<a href="#l47.13"></a><span id="l47.13" class="difflineminus">-</span>
<a href="#l47.14"></a><span id="l47.14">           switch (aCol.element.getAttribute(&quot;anonid&quot;)) {</span>
<a href="#l47.15"></a><span id="l47.15">               case &quot;calendarname-treecol&quot;:</span>
<a href="#l47.16"></a><span id="l47.16">                   return this.getCalendar(aRow).name;</span>
<a href="#l47.17"></a><span id="l47.17">           }</span>
<a href="#l47.18"></a><span id="l47.18">           return &quot;&quot;;</span>
<a href="#l47.19"></a><span id="l47.19">         ]]&gt;&lt;/body&gt;</span>
<a href="#l47.20"></a><span id="l47.20">       &lt;/method&gt;</span>
<a href="#l47.21"></a><span id="l47.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-widgets.xml</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-widgets.xml</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -490,17 +490,17 @@</span>
<a href="#l48.4"></a><span id="l48.4">                   binding: this,</span>
<a href="#l48.5"></a><span id="l48.5">                   handleEvent: function(aEvent, aHandled) {</span>
<a href="#l48.6"></a><span id="l48.6">                       return this.binding.onModeModified(aEvent, this.binding);</span>
<a href="#l48.7"></a><span id="l48.7">                   }</span>
<a href="#l48.8"></a><span id="l48.8">               };</span>
<a href="#l48.9"></a><span id="l48.9">               this.mBroadcaster.addEventListener(&quot;DOMAttrModified&quot;, this.mModHandler, true);</span>
<a href="#l48.10"></a><span id="l48.10">             }</span>
<a href="#l48.11"></a><span id="l48.11">           }</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineminus">-          let ret = XULElement.prototype.setAttribute.call(this, aAttr, aVal);</span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+          return XULElement.prototype.setAttribute.call(this, aAttr, aVal);</span>
<a href="#l48.14"></a><span id="l48.14">         ]]&gt;&lt;/body&gt;</span>
<a href="#l48.15"></a><span id="l48.15">       &lt;/method&gt;</span>
<a href="#l48.16"></a><span id="l48.16">     &lt;/implementation&gt;</span>
<a href="#l48.17"></a><span id="l48.17">   &lt;/binding&gt;</span>
<a href="#l48.18"></a><span id="l48.18"> </span>
<a href="#l48.19"></a><span id="l48.19"> &lt;!-- This binding may server as a droptarget container for arbitrary items</span>
<a href="#l48.20"></a><span id="l48.20">      it contains methods to add DropShadows. This binding is meant to be used</span>
<a href="#l48.21"></a><span id="l48.21">      as a parent binding. The methods may be overwritten.</span>
<a href="#l48.22"></a><span id="l48.22" class="difflineat">@@ -675,24 +675,18 @@</span>
<a href="#l48.23"></a><span id="l48.23"> </span>
<a href="#l48.24"></a><span id="l48.24">          if (isEvent(item)) {</span>
<a href="#l48.25"></a><span id="l48.25">              transfer.addDataFlavor(&quot;application/x-moz-cal-event&quot;);</span>
<a href="#l48.26"></a><span id="l48.26">          } else {</span>
<a href="#l48.27"></a><span id="l48.27">              transfer.addDataFlavor(&quot;application/x-moz-cal-task&quot;);</span>
<a href="#l48.28"></a><span id="l48.28">          }</span>
<a href="#l48.29"></a><span id="l48.29"> </span>
<a href="#l48.30"></a><span id="l48.30">          session.getData(transfer, 0);</span>
<a href="#l48.31"></a><span id="l48.31" class="difflineminus">-         let flavor = {};</span>
<a href="#l48.32"></a><span id="l48.32" class="difflineminus">-         let data = {};</span>
<a href="#l48.33"></a><span id="l48.33" class="difflineminus">-         // nsITransferable sucks when it comes to trying to add extra flavors.</span>
<a href="#l48.34"></a><span id="l48.34" class="difflineminus">-         // This will throw NS_ERROR_FAILURE, so as a workaround, we use the</span>
<a href="#l48.35"></a><span id="l48.35" class="difflineminus">-         // sourceNode property and get the event that way</span>
<a href="#l48.36"></a><span id="l48.36" class="difflineminus">-         //   transfer.getAnyTransferData(flavor, data, {});</span>
<a href="#l48.37"></a><span id="l48.37" class="difflineplus">+         item = session.sourceNode.sourceObject;</span>
<a href="#l48.38"></a><span id="l48.38"> </span>
<a href="#l48.39"></a><span id="l48.39" class="difflineminus">-         item = session.sourceNode.sourceObject;</span>
<a href="#l48.40"></a><span id="l48.40">          let newItem = this.onDropItem(item).clone();</span>
<a href="#l48.41"></a><span id="l48.41">          let newStart = newItem.startDate || newItem.entryDate || newItem.dueDate;</span>
<a href="#l48.42"></a><span id="l48.42">          let newEnd = newItem.endDate || newItem.dueDate || newItem.entryDate;</span>
<a href="#l48.43"></a><span id="l48.43">          let offset = this.calendarView.mShadowOffset;</span>
<a href="#l48.44"></a><span id="l48.44">          newStart.addDuration(offset);</span>
<a href="#l48.45"></a><span id="l48.45">          newEnd.addDuration(offset);</span>
<a href="#l48.46"></a><span id="l48.46">          this.calendarView.controller.modifyOccurrence(item, newStart, newEnd);</span>
<a href="#l48.47"></a><span id="l48.47"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/calendar/base/modules/calExtract.jsm</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/calendar/base/modules/calExtract.jsm</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -803,17 +803,16 @@ Extractor.prototype = {</span>
<a href="#l49.4"></a><span id="l49.4">             return guess;</span>
<a href="#l49.5"></a><span id="l49.5">         }</span>
<a href="#l49.6"></a><span id="l49.6"> </span>
<a href="#l49.7"></a><span id="l49.7">         let wDay = startTimes.filter(val =&gt; val.day != null &amp;&amp; val.start !== undefined);</span>
<a href="#l49.8"></a><span id="l49.8">         let wDayNA = wDay.filter(val =&gt; val.ambiguous === undefined);</span>
<a href="#l49.9"></a><span id="l49.9"> </span>
<a href="#l49.10"></a><span id="l49.10">         let wMinute = startTimes.filter(val =&gt; val.minute != null &amp;&amp; val.start !== undefined);</span>
<a href="#l49.11"></a><span id="l49.11">         let wMinuteNA = wMinute.filter(val =&gt; val.ambiguous === undefined);</span>
<a href="#l49.12"></a><span id="l49.12" class="difflineminus">-        let wMinuteInit = startTimes.filter(val =&gt; val.minute != null &amp;&amp; val.start === undefined);</span>
<a href="#l49.13"></a><span id="l49.13"> </span>
<a href="#l49.14"></a><span id="l49.14">         if (wMinuteNA.length != 0) {</span>
<a href="#l49.15"></a><span id="l49.15">             guess.hour = wMinuteNA[0].hour;</span>
<a href="#l49.16"></a><span id="l49.16">             guess.minute = wMinuteNA[0].minute;</span>
<a href="#l49.17"></a><span id="l49.17">         } else if (wMinute.length != 0) {</span>
<a href="#l49.18"></a><span id="l49.18">             guess.hour = wMinute[0].hour;</span>
<a href="#l49.19"></a><span id="l49.19">             guess.minute = wMinute[0].minute;</span>
<a href="#l49.20"></a><span id="l49.20">         }</span>
<a href="#l49.21"></a><span id="l49.21" class="difflineat">@@ -1072,20 +1071,18 @@ Extractor.prototype = {</span>
<a href="#l49.22"></a><span id="l49.22">                         cal.LOG(&quot;[calExtract] Removed &quot; + removals[pattern] + &quot; from &quot; + name);</span>
<a href="#l49.23"></a><span id="l49.23">                     }</span>
<a href="#l49.24"></a><span id="l49.24">                 }</span>
<a href="#l49.25"></a><span id="l49.25">             }</span>
<a href="#l49.26"></a><span id="l49.26"> </span>
<a href="#l49.27"></a><span id="l49.27">             vals.sort(function(one, two) {return two.length - one.length;});</span>
<a href="#l49.28"></a><span id="l49.28">             for (let val in vals) {</span>
<a href="#l49.29"></a><span id="l49.29">                 let pattern = vals[val];</span>
<a href="#l49.30"></a><span id="l49.30" class="difflineminus">-                let cnt = 1;</span>
<a href="#l49.31"></a><span id="l49.31" class="difflineminus">-                for (let replaceable in replaceables) {</span>
<a href="#l49.32"></a><span id="l49.32" class="difflineplus">+                for (let cnt = 1; cnt &lt;= replaceables.length; cnt++) {</span>
<a href="#l49.33"></a><span id="l49.33">                     pattern = pattern.split(&quot;#&quot; + cnt).join(replaceables[cnt - 1]);</span>
<a href="#l49.34"></a><span id="l49.34" class="difflineminus">-                    cnt++;</span>
<a href="#l49.35"></a><span id="l49.35">                 }</span>
<a href="#l49.36"></a><span id="l49.36">                 patterns.push(pattern);</span>
<a href="#l49.37"></a><span id="l49.37">             }</span>
<a href="#l49.38"></a><span id="l49.38"> </span>
<a href="#l49.39"></a><span id="l49.39">             for (let val in vals) {</span>
<a href="#l49.40"></a><span id="l49.40">                 let positions = [];</span>
<a href="#l49.41"></a><span id="l49.41">                 if (replaceables.length == 1) {</span>
<a href="#l49.42"></a><span id="l49.42">                     positions[1] = 1;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/calendar/base/modules/calRecurrenceUtils.jsm</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/calendar/base/modules/calRecurrenceUtils.jsm</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -1,14 +1,17 @@</span>
<a href="#l50.4"></a><span id="l50.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l50.5"></a><span id="l50.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l50.6"></a><span id="l50.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l50.7"></a><span id="l50.7"> </span>
<a href="#l50.8"></a><span id="l50.8" class="difflineplus">+/* exported recurrenceRule2String, splitRecurrenceRules, checkRecurrenceRule */</span>
<a href="#l50.9"></a><span id="l50.9" class="difflineplus">+</span>
<a href="#l50.10"></a><span id="l50.10"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l50.11"></a><span id="l50.11"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l50.12"></a><span id="l50.12" class="difflineplus">+</span>
<a href="#l50.13"></a><span id="l50.13"> this.EXPORTED_SYMBOLS = [&quot;recurrenceRule2String&quot;, &quot;splitRecurrenceRules&quot;, &quot;checkRecurrenceRule&quot;];</span>
<a href="#l50.14"></a><span id="l50.14"> </span>
<a href="#l50.15"></a><span id="l50.15"> /**</span>
<a href="#l50.16"></a><span id="l50.16">  * This function takes the recurrence info passed as argument and creates a</span>
<a href="#l50.17"></a><span id="l50.17">  * literal string representing the repeat pattern in natural language.</span>
<a href="#l50.18"></a><span id="l50.18">  *</span>
<a href="#l50.19"></a><span id="l50.19">  * @param recurrenceInfo    An item's recurrence info to parse.</span>
<a href="#l50.20"></a><span id="l50.20">  * @param startDate         The start date to base rules on.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/calendar/base/src/calAlarm.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/calendar/base/src/calAlarm.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -74,17 +74,16 @@ calAlarm.prototype = {</span>
<a href="#l51.4"></a><span id="l51.4">                 this[member].makeImmutable();</span>
<a href="#l51.5"></a><span id="l51.5">             }</span>
<a href="#l51.6"></a><span id="l51.6">         }</span>
<a href="#l51.7"></a><span id="l51.7"> </span>
<a href="#l51.8"></a><span id="l51.8">         // Properties</span>
<a href="#l51.9"></a><span id="l51.9">         let e = this.mProperties.enumerator;</span>
<a href="#l51.10"></a><span id="l51.10">         while (e.hasMoreElements()) {</span>
<a href="#l51.11"></a><span id="l51.11">             let prop = e.getNext();</span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-            let val = prop.value;</span>
<a href="#l51.13"></a><span id="l51.13"> </span>
<a href="#l51.14"></a><span id="l51.14">             if (prop.value instanceof Components.interfaces.calIDateTime) {</span>
<a href="#l51.15"></a><span id="l51.15">                 if (prop.value.isMutable) {</span>
<a href="#l51.16"></a><span id="l51.16">                     prop.value.makeImmutable();</span>
<a href="#l51.17"></a><span id="l51.17">                 }</span>
<a href="#l51.18"></a><span id="l51.18">             }</span>
<a href="#l51.19"></a><span id="l51.19">         }</span>
<a href="#l51.20"></a><span id="l51.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/calendar/base/src/calAlarmService.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/calendar/base/src/calAlarmService.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -6,18 +6,16 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l52.4"></a><span id="l52.4"> Components.utils.import(&quot;resource://calendar/modules/calAlarmUtils.jsm&quot;);</span>
<a href="#l52.5"></a><span id="l52.5"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l52.6"></a><span id="l52.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l52.7"></a><span id="l52.7"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l52.8"></a><span id="l52.8"> Components.utils.import(&quot;resource://gre/modules/Promise.jsm&quot;);</span>
<a href="#l52.9"></a><span id="l52.9"> Components.utils.import(&quot;resource://gre/modules/PromiseUtils.jsm&quot;);</span>
<a href="#l52.10"></a><span id="l52.10"> </span>
<a href="#l52.11"></a><span id="l52.11"> var kHoursBetweenUpdates = 6;</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineminus">-var kSleepMonitorInterval = 60000;</span>
<a href="#l52.13"></a><span id="l52.13" class="difflineminus">-var kSleepMonitorTolerance = 1000;</span>
<a href="#l52.14"></a><span id="l52.14"> </span>
<a href="#l52.15"></a><span id="l52.15"> function nowUTC() {</span>
<a href="#l52.16"></a><span id="l52.16">     return cal.jsDateToDateTime(new Date()).getInTimezone(cal.UTC());</span>
<a href="#l52.17"></a><span id="l52.17"> }</span>
<a href="#l52.18"></a><span id="l52.18"> </span>
<a href="#l52.19"></a><span id="l52.19"> function newTimerWithCallback(aCallback, aDelay, aRepeating) {</span>
<a href="#l52.20"></a><span id="l52.20">     let timer = Components.classes[&quot;@mozilla.org/timer;1&quot;]</span>
<a href="#l52.21"></a><span id="l52.21">                           .createInstance(Components.interfaces.nsITimer);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/calendar/base/src/calApplicationUtils.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/calendar/base/src/calApplicationUtils.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -1,13 +1,14 @@</span>
<a href="#l53.4"></a><span id="l53.4" class="difflineminus">-/* -*- Mode: javascript; tab-width: 20; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l53.5"></a><span id="l53.5" class="difflineminus">- * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l53.6"></a><span id="l53.6" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l53.7"></a><span id="l53.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l53.8"></a><span id="l53.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l53.9"></a><span id="l53.9"> </span>
<a href="#l53.10"></a><span id="l53.10" class="difflineplus">+/* exported launchBrowser */</span>
<a href="#l53.11"></a><span id="l53.11" class="difflineplus">+</span>
<a href="#l53.12"></a><span id="l53.12"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l53.13"></a><span id="l53.13"> </span>
<a href="#l53.14"></a><span id="l53.14"> /**</span>
<a href="#l53.15"></a><span id="l53.15">  * Launch the given url (string) in the external browser. If an event is passed,</span>
<a href="#l53.16"></a><span id="l53.16">  * then this is only done on left click and the event propagation is stopped.</span>
<a href="#l53.17"></a><span id="l53.17">  *</span>
<a href="#l53.18"></a><span id="l53.18">  * @param url       The URL to open, as a string</span>
<a href="#l53.19"></a><span id="l53.19">  * @param event     (optional) The event that caused the URL to open</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/calendar/base/src/calCalendarManager.js</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/calendar/base/src/calCalendarManager.js</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -174,21 +174,16 @@ calCalendarManager.prototype = {</span>
<a href="#l54.4"></a><span id="l54.4">         }</span>
<a href="#l54.5"></a><span id="l54.5">     },</span>
<a href="#l54.6"></a><span id="l54.6"> </span>
<a href="#l54.7"></a><span id="l54.7">     //</span>
<a href="#l54.8"></a><span id="l54.8">     // DB migration code begins here</span>
<a href="#l54.9"></a><span id="l54.9">     //</span>
<a href="#l54.10"></a><span id="l54.10"> </span>
<a href="#l54.11"></a><span id="l54.11">     upgradeDB: function(oldVersion, db) {</span>
<a href="#l54.12"></a><span id="l54.12" class="difflineminus">-        // some common helpers</span>
<a href="#l54.13"></a><span id="l54.13" class="difflineminus">-        function addColumn(db_, tableName, colName, colType) {</span>
<a href="#l54.14"></a><span id="l54.14" class="difflineminus">-            db_.executeSimpleSQL(&quot;ALTER TABLE &quot; + tableName + &quot; ADD COLUMN &quot; + colName + &quot; &quot; + colType);</span>
<a href="#l54.15"></a><span id="l54.15" class="difflineminus">-        }</span>
<a href="#l54.16"></a><span id="l54.16" class="difflineminus">-</span>
<a href="#l54.17"></a><span id="l54.17">         if (oldVersion &lt; 6) {</span>
<a href="#l54.18"></a><span id="l54.18">             dump(&quot;**** Upgrading calCalendarManager schema to 6\n&quot;);</span>
<a href="#l54.19"></a><span id="l54.19"> </span>
<a href="#l54.20"></a><span id="l54.20">             // Schema changes in v6:</span>
<a href="#l54.21"></a><span id="l54.21">             //</span>
<a href="#l54.22"></a><span id="l54.22">             // - Change all STRING columns to TEXT to avoid SQLite's</span>
<a href="#l54.23"></a><span id="l54.23">             //   &quot;feature&quot; where it will automatically convert strings to</span>
<a href="#l54.24"></a><span id="l54.24">             //   numbers (ex: 10e4 -&gt; 10000). See bug 333688.</span>
<a href="#l54.25"></a><span id="l54.25" class="difflineat">@@ -412,25 +407,25 @@ calCalendarManager.prototype = {</span>
<a href="#l54.26"></a><span id="l54.26">         let errorBoxButtonLabel = calGetString(&quot;calendar&quot;, &quot;tooNewSchemaButtonRestart&quot;, [hostAppName]);</span>
<a href="#l54.27"></a><span id="l54.27"> </span>
<a href="#l54.28"></a><span id="l54.28">         let promptSvc = Services.prompt;</span>
<a href="#l54.29"></a><span id="l54.29"> </span>
<a href="#l54.30"></a><span id="l54.30">         let errorBoxButtonFlags = (promptSvc.BUTTON_POS_0 *</span>
<a href="#l54.31"></a><span id="l54.31">                                    promptSvc.BUTTON_TITLE_IS_STRING +</span>
<a href="#l54.32"></a><span id="l54.32">                                    promptSvc.BUTTON_POS_0_DEFAULT);</span>
<a href="#l54.33"></a><span id="l54.33"> </span>
<a href="#l54.34"></a><span id="l54.34" class="difflineminus">-        let choice = promptSvc.confirmEx(null,</span>
<a href="#l54.35"></a><span id="l54.35" class="difflineminus">-                                         errorBoxTitle,</span>
<a href="#l54.36"></a><span id="l54.36" class="difflineminus">-                                         errorBoxText,</span>
<a href="#l54.37"></a><span id="l54.37" class="difflineminus">-                                         errorBoxButtonFlags,</span>
<a href="#l54.38"></a><span id="l54.38" class="difflineminus">-                                         errorBoxButtonLabel,</span>
<a href="#l54.39"></a><span id="l54.39" class="difflineminus">-                                         null, // No second button text</span>
<a href="#l54.40"></a><span id="l54.40" class="difflineminus">-                                         null, // No third button text</span>
<a href="#l54.41"></a><span id="l54.41" class="difflineminus">-                                         null, // No checkbox</span>
<a href="#l54.42"></a><span id="l54.42" class="difflineminus">-                                         { value: false }); // Unnecessary checkbox state</span>
<a href="#l54.43"></a><span id="l54.43" class="difflineplus">+        promptSvc.confirmEx(null,</span>
<a href="#l54.44"></a><span id="l54.44" class="difflineplus">+                            errorBoxTitle,</span>
<a href="#l54.45"></a><span id="l54.45" class="difflineplus">+                            errorBoxText,</span>
<a href="#l54.46"></a><span id="l54.46" class="difflineplus">+                            errorBoxButtonFlags,</span>
<a href="#l54.47"></a><span id="l54.47" class="difflineplus">+                            errorBoxButtonLabel,</span>
<a href="#l54.48"></a><span id="l54.48" class="difflineplus">+                            null, // No second button text</span>
<a href="#l54.49"></a><span id="l54.49" class="difflineplus">+                            null, // No third button text</span>
<a href="#l54.50"></a><span id="l54.50" class="difflineplus">+                            null, // No checkbox</span>
<a href="#l54.51"></a><span id="l54.51" class="difflineplus">+                            { value: false }); // Unnecessary checkbox state</span>
<a href="#l54.52"></a><span id="l54.52"> </span>
<a href="#l54.53"></a><span id="l54.53">         // Disable Lightning</span>
<a href="#l54.54"></a><span id="l54.54">         AddonManager.getAddonByID(&quot;{e2fda1a4-762b-4020-b5ad-a41df1933103}&quot;, function getLightningExt(aAddon) {</span>
<a href="#l54.55"></a><span id="l54.55">             aAddon.userDisabled = true;</span>
<a href="#l54.56"></a><span id="l54.56">             Services.startup.quit(Components.interfaces.nsIAppStartup.eRestart |</span>
<a href="#l54.57"></a><span id="l54.57">                 Components.interfaces.nsIAppStartup.eForceQuit);</span>
<a href="#l54.58"></a><span id="l54.58">         });</span>
<a href="#l54.59"></a><span id="l54.59">     },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/calendar/base/src/calDefaultACLManager.js</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/calendar/base/src/calDefaultACLManager.js</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -114,9 +114,9 @@ calDefaultItemACLEntry.prototype = {</span>
<a href="#l55.4"></a><span id="l55.4">     calendarEntry: null,</span>
<a href="#l55.5"></a><span id="l55.5">     userCanModify: true,</span>
<a href="#l55.6"></a><span id="l55.6">     userCanRespond: true,</span>
<a href="#l55.7"></a><span id="l55.7">     userCanViewAll: true,</span>
<a href="#l55.8"></a><span id="l55.8">     userCanViewDateAndTime: true,</span>
<a href="#l55.9"></a><span id="l55.9"> };</span>
<a href="#l55.10"></a><span id="l55.10"> </span>
<a href="#l55.11"></a><span id="l55.11"> /** Module Registration */</span>
<a href="#l55.12"></a><span id="l55.12" class="difflineminus">-var NSGetFactory = XPCOMUtils.generateNSGetFactory([calDefaultACLManager]);</span>
<a href="#l55.13"></a><span id="l55.13" class="difflineplus">+this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calDefaultACLManager]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/calendar/base/src/calIcsParser.js</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/calendar/base/src/calIcsParser.js</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -114,18 +114,16 @@ calIcsParser.prototype = {</span>
<a href="#l56.4"></a><span id="l56.4">             }</span>
<a href="#l56.5"></a><span id="l56.5">         });</span>
<a href="#l56.6"></a><span id="l56.6">     },</span>
<a href="#l56.7"></a><span id="l56.7"> </span>
<a href="#l56.8"></a><span id="l56.8">     parseString: function ip_parseString(aICSString, aTzProvider, aAsyncParsing) {</span>
<a href="#l56.9"></a><span id="l56.9">         if (aAsyncParsing) {</span>
<a href="#l56.10"></a><span id="l56.10">             let self = this;</span>
<a href="#l56.11"></a><span id="l56.11"> </span>
<a href="#l56.12"></a><span id="l56.12" class="difflineminus">-            let start = new Date();</span>
<a href="#l56.13"></a><span id="l56.13" class="difflineminus">-</span>
<a href="#l56.14"></a><span id="l56.14">             // We are using two types of very similar listeners here:</span>
<a href="#l56.15"></a><span id="l56.15">             // aAsyncParsing is a calIcsParsingListener that returns the ics</span>
<a href="#l56.16"></a><span id="l56.16">             //   parser containing the processed items.</span>
<a href="#l56.17"></a><span id="l56.17">             // The listener passed to parseICSAsync is a calICsComponentParsingListener</span>
<a href="#l56.18"></a><span id="l56.18">             //   required by the ics service, that receives the parsed root component.</span>
<a href="#l56.19"></a><span id="l56.19">             cal.getIcsService().parseICSAsync(aICSString, aTzProvider, {</span>
<a href="#l56.20"></a><span id="l56.20">                 onParsingComplete: function(rc, rootComp) {</span>
<a href="#l56.21"></a><span id="l56.21">                     if (Components.isSuccessCode(rc)) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/calendar/base/src/calItemBase.js</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/calendar/base/src/calItemBase.js</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -201,17 +201,17 @@ calItemBase.prototype = {</span>
<a href="#l57.4"></a><span id="l57.4">             this.mOrganizer.makeImmutable();</span>
<a href="#l57.5"></a><span id="l57.5">         }</span>
<a href="#l57.6"></a><span id="l57.6">         if (this.mAttendees) {</span>
<a href="#l57.7"></a><span id="l57.7">             for (let att of this.mAttendees) {</span>
<a href="#l57.8"></a><span id="l57.8">                 att.makeImmutable();</span>
<a href="#l57.9"></a><span id="l57.9">             }</span>
<a href="#l57.10"></a><span id="l57.10">         }</span>
<a href="#l57.11"></a><span id="l57.11"> </span>
<a href="#l57.12"></a><span id="l57.12" class="difflineminus">-        for (let [propKey, propValue] of this.mProperties) {</span>
<a href="#l57.13"></a><span id="l57.13" class="difflineplus">+        for (let [, propValue] of this.mProperties) {</span>
<a href="#l57.14"></a><span id="l57.14">             if (propValue instanceof Components.interfaces.calIDateTime &amp;&amp;</span>
<a href="#l57.15"></a><span id="l57.15">                 propValue.isMutable) {</span>
<a href="#l57.16"></a><span id="l57.16">                 propValue.makeImmutable();</span>
<a href="#l57.17"></a><span id="l57.17">             }</span>
<a href="#l57.18"></a><span id="l57.18">         }</span>
<a href="#l57.19"></a><span id="l57.19"> </span>
<a href="#l57.20"></a><span id="l57.20">         if (this.mAlarms) {</span>
<a href="#l57.21"></a><span id="l57.21">             for (let alarm of this.mAlarms) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/calendar/base/src/calItemModule.js</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/calendar/base/src/calItemModule.js</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -59,9 +59,9 @@ function getComponents() {</span>
<a href="#l58.4"></a><span id="l58.4">         calStartupService,</span>
<a href="#l58.5"></a><span id="l58.5">         calTransaction,</span>
<a href="#l58.6"></a><span id="l58.6">         calTransactionManager,</span>
<a href="#l58.7"></a><span id="l58.7">         calTodo,</span>
<a href="#l58.8"></a><span id="l58.8">         calWeekInfoService,</span>
<a href="#l58.9"></a><span id="l58.9">     ];</span>
<a href="#l58.10"></a><span id="l58.10"> }</span>
<a href="#l58.11"></a><span id="l58.11"> </span>
<a href="#l58.12"></a><span id="l58.12" class="difflineminus">-var NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, getComponents, this);</span>
<a href="#l58.13"></a><span id="l58.13" class="difflineplus">+this.NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, getComponents, this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/calendar/base/src/calRecurrenceInfo.js</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/calendar/base/src/calRecurrenceInfo.js</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -254,18 +254,16 @@ calRecurrenceInfo.prototype = {</span>
<a href="#l59.4"></a><span id="l59.4">     /*</span>
<a href="#l59.5"></a><span id="l59.5">      * calculations</span>
<a href="#l59.6"></a><span id="l59.6">      */</span>
<a href="#l59.7"></a><span id="l59.7">     getNextOccurrence: function cRI_getNextOccurrence(aTime) {</span>
<a href="#l59.8"></a><span id="l59.8">         this.ensureBaseItem();</span>
<a href="#l59.9"></a><span id="l59.9">         this.ensureSortedRecurrenceRules();</span>
<a href="#l59.10"></a><span id="l59.10"> </span>
<a href="#l59.11"></a><span id="l59.11">         let startDate = this.mBaseItem.recurrenceStartDate;</span>
<a href="#l59.12"></a><span id="l59.12" class="difflineminus">-        let dates = [];</span>
<a href="#l59.13"></a><span id="l59.13" class="difflineminus">-</span>
<a href="#l59.14"></a><span id="l59.14">         let nextOccurrences = [];</span>
<a href="#l59.15"></a><span id="l59.15">         let invalidOccurrences;</span>
<a href="#l59.16"></a><span id="l59.16">         let negMap = {};</span>
<a href="#l59.17"></a><span id="l59.17">         let minOccRid;</span>
<a href="#l59.18"></a><span id="l59.18"> </span>
<a href="#l59.19"></a><span id="l59.19">         // Go through all negative rules to create a map of occurrences that</span>
<a href="#l59.20"></a><span id="l59.20">         // should be skipped when going through occurrences.</span>
<a href="#l59.21"></a><span id="l59.21">         for (let ritem of this.mNegativeRules) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/calendar/base/src/calSleepMonitor.js</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/calendar/base/src/calSleepMonitor.js</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -63,9 +63,9 @@ calSleepMonitor.prototype = {</span>
<a href="#l60.4"></a><span id="l60.4">             Services.obs.addObserver(this, &quot;quit-application&quot;, false);</span>
<a href="#l60.5"></a><span id="l60.5">         } else if (aTopic == &quot;quit-application&quot;) {</span>
<a href="#l60.6"></a><span id="l60.6">             cal.LOG(&quot;[calSleepMonitor] Stopping sleep monitor.&quot;);</span>
<a href="#l60.7"></a><span id="l60.7">             this.stop();</span>
<a href="#l60.8"></a><span id="l60.8">         }</span>
<a href="#l60.9"></a><span id="l60.9">     }</span>
<a href="#l60.10"></a><span id="l60.10"> };</span>
<a href="#l60.11"></a><span id="l60.11"> </span>
<a href="#l60.12"></a><span id="l60.12" class="difflineminus">-var NSGetFactory = XPCOMUtils.generateNSGetFactory([calSleepMonitor]);</span>
<a href="#l60.13"></a><span id="l60.13" class="difflineplus">+this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calSleepMonitor]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/calendar/base/src/calTimezoneService.js</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/calendar/base/src/calTimezoneService.js</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -7,16 +7,20 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l61.4"></a><span id="l61.4"> Components.utils.import(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;);</span>
<a href="#l61.5"></a><span id="l61.5"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l61.6"></a><span id="l61.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l61.7"></a><span id="l61.7"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l61.8"></a><span id="l61.8"> Components.utils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l61.9"></a><span id="l61.9"> Components.utils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l61.10"></a><span id="l61.10"> Components.utils.import(&quot;resource://gre/modules/Promise.jsm&quot;);</span>
<a href="#l61.11"></a><span id="l61.11"> </span>
<a href="#l61.12"></a><span id="l61.12" class="difflineplus">+/* exported g_stringBundle */</span>
<a href="#l61.13"></a><span id="l61.13" class="difflineplus">+</span>
<a href="#l61.14"></a><span id="l61.14" class="difflineplus">+var g_stringBundle = null;</span>
<a href="#l61.15"></a><span id="l61.15" class="difflineplus">+</span>
<a href="#l61.16"></a><span id="l61.16"> function calStringEnumerator(stringArray) {</span>
<a href="#l61.17"></a><span id="l61.17">     this.mIndex = 0;</span>
<a href="#l61.18"></a><span id="l61.18">     this.mStringArray = stringArray;</span>
<a href="#l61.19"></a><span id="l61.19"> }</span>
<a href="#l61.20"></a><span id="l61.20"> calStringEnumerator.prototype = {</span>
<a href="#l61.21"></a><span id="l61.21">     // nsIUTF8StringEnumerator:</span>
<a href="#l61.22"></a><span id="l61.22">     hasMore: function calStringEnumerator_hasMore() {</span>
<a href="#l61.23"></a><span id="l61.23">         return (this.mIndex &lt; this.mStringArray.length);</span>
<a href="#l61.24"></a><span id="l61.24" class="difflineat">@@ -24,18 +28,16 @@ calStringEnumerator.prototype = {</span>
<a href="#l61.25"></a><span id="l61.25">     getNext: function calStringEnumerator_getNext() {</span>
<a href="#l61.26"></a><span id="l61.26">         if (!this.hasMore()) {</span>
<a href="#l61.27"></a><span id="l61.27">             throw Components.results.NS_ERROR_UNEXPECTED;</span>
<a href="#l61.28"></a><span id="l61.28">         }</span>
<a href="#l61.29"></a><span id="l61.29">         return this.mStringArray[this.mIndex++];</span>
<a href="#l61.30"></a><span id="l61.30">     }</span>
<a href="#l61.31"></a><span id="l61.31"> };</span>
<a href="#l61.32"></a><span id="l61.32"> </span>
<a href="#l61.33"></a><span id="l61.33" class="difflineminus">-var g_stringBundle = null;</span>
<a href="#l61.34"></a><span id="l61.34" class="difflineminus">-</span>
<a href="#l61.35"></a><span id="l61.35"> function calTimezoneService() {</span>
<a href="#l61.36"></a><span id="l61.36">     this.wrappedJSObject = this;</span>
<a href="#l61.37"></a><span id="l61.37"> </span>
<a href="#l61.38"></a><span id="l61.38">     this.mZones = new Map();</span>
<a href="#l61.39"></a><span id="l61.39"> </span>
<a href="#l61.40"></a><span id="l61.40">     ICAL.TimezoneService = this.wrappedJSObject;</span>
<a href="#l61.41"></a><span id="l61.41"> }</span>
<a href="#l61.42"></a><span id="l61.42"> var calTimezoneServiceClassID = Components.ID(&quot;{e736f2bd-7640-4715-ab35-887dc866c587}&quot;);</span>
<a href="#l61.43"></a><span id="l61.43" class="difflineat">@@ -809,9 +811,9 @@ function guessSystemTimezone() {</span>
<a href="#l61.44"></a><span id="l61.44">     } catch (ex) { // don't abort if error occurs warning user</span>
<a href="#l61.45"></a><span id="l61.45">         Components.utils.reportError(ex);</span>
<a href="#l61.46"></a><span id="l61.46">     }</span>
<a href="#l61.47"></a><span id="l61.47"> </span>
<a href="#l61.48"></a><span id="l61.48">     // return the guessed timezone</span>
<a href="#l61.49"></a><span id="l61.49">     return probableTZId;</span>
<a href="#l61.50"></a><span id="l61.50"> }</span>
<a href="#l61.51"></a><span id="l61.51"> </span>
<a href="#l61.52"></a><span id="l61.52" class="difflineminus">-var NSGetFactory = cal.loadingNSGetFactory([&quot;calTimezone.js&quot;], [calTimezoneService], this);</span>
<a href="#l61.53"></a><span id="l61.53" class="difflineplus">+this.NSGetFactory = cal.loadingNSGetFactory([&quot;calTimezone.js&quot;], [calTimezoneService], this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/calendar/base/src/calUtils.js</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/calendar/base/src/calUtils.js</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -2,16 +2,40 @@</span>
<a href="#l62.4"></a><span id="l62.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l62.5"></a><span id="l62.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l62.6"></a><span id="l62.6"> </span>
<a href="#l62.7"></a><span id="l62.7"> /* This file contains commonly used functions in a centralized place so that</span>
<a href="#l62.8"></a><span id="l62.8">  * various components (and other js scopes) don't need to replicate them. Note</span>
<a href="#l62.9"></a><span id="l62.9">  * that loading this file twice in the same scope will throw errors.</span>
<a href="#l62.10"></a><span id="l62.10">  */</span>
<a href="#l62.11"></a><span id="l62.11"> </span>
<a href="#l62.12"></a><span id="l62.12" class="difflineplus">+</span>
<a href="#l62.13"></a><span id="l62.13" class="difflineplus">+/* exported createEvent, createTodo, createDateTime, createDuration, createAttendee,</span>
<a href="#l62.14"></a><span id="l62.14" class="difflineplus">+ *          createAttachment, createAlarm, createRelation,</span>
<a href="#l62.15"></a><span id="l62.15" class="difflineplus">+ *          createRecurrenceDate, createRecurrenceRule, createRecurrenceInfo,</span>
<a href="#l62.16"></a><span id="l62.16" class="difflineplus">+ *          getCalendarManager, getIcsService, getCalendarSearchService,</span>
<a href="#l62.17"></a><span id="l62.17" class="difflineplus">+ *          getFreeBusyService, getWeekInfoService, getDateFormatter, UTC,</span>
<a href="#l62.18"></a><span id="l62.18" class="difflineplus">+ *          floating, saveRecentTimezone, getCalendarDirectory,</span>
<a href="#l62.19"></a><span id="l62.19" class="difflineplus">+ *          isCalendarWritable, userCanAddItemsToCalendar,</span>
<a href="#l62.20"></a><span id="l62.20" class="difflineplus">+ *          userCanDeleteItemsFromCalendar, attendeeMatchesAddresses,</span>
<a href="#l62.21"></a><span id="l62.21" class="difflineplus">+ *          userCanRespondToInvitation, openCalendarWizard,</span>
<a href="#l62.22"></a><span id="l62.22" class="difflineplus">+ *          openCalendarProperties, calPrint, makeURL, calRadioGroupSelectItem,</span>
<a href="#l62.23"></a><span id="l62.23" class="difflineplus">+ *          isItemSupported, calInstanceOf, getPrefSafe, setPref,</span>
<a href="#l62.24"></a><span id="l62.24" class="difflineplus">+ *          setLocalizedPref, getLocalizedPref, getPrefCategoriesArray,</span>
<a href="#l62.25"></a><span id="l62.25" class="difflineplus">+ *          setPrefCategoriesFromArray, compareItems, calTryWrappedJSObject,</span>
<a href="#l62.26"></a><span id="l62.26" class="difflineplus">+ *          compareArrays, doQueryInterface, setDefaultStartEndHour, LOG, WARN,</span>
<a href="#l62.27"></a><span id="l62.27" class="difflineplus">+ *          ERROR, showError, getContrastingTextColor, calGetEndDateProp,</span>
<a href="#l62.28"></a><span id="l62.28" class="difflineplus">+ *          checkIfInRange, getProgressAtom, sendMailTo, sameDay,</span>
<a href="#l62.29"></a><span id="l62.29" class="difflineplus">+ *          calSetProdidVersion, applyAttributeToMenuChildren,</span>
<a href="#l62.30"></a><span id="l62.30" class="difflineplus">+ *          isPropertyValueSame, getParentNodeOrThis,</span>
<a href="#l62.31"></a><span id="l62.31" class="difflineplus">+ *          getParentNodeOrThisByAttribute, setItemProperty,</span>
<a href="#l62.32"></a><span id="l62.32" class="difflineplus">+ *          calIterateEmailIdentities, compareItemContent, binaryInsert,</span>
<a href="#l62.33"></a><span id="l62.33" class="difflineplus">+ *          getCompositeCalendar, findItemWindow</span>
<a href="#l62.34"></a><span id="l62.34" class="difflineplus">+ */</span>
<a href="#l62.35"></a><span id="l62.35" class="difflineplus">+</span>
<a href="#l62.36"></a><span id="l62.36"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l62.37"></a><span id="l62.37"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l62.38"></a><span id="l62.38"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l62.39"></a><span id="l62.39"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l62.40"></a><span id="l62.40"> Components.utils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l62.41"></a><span id="l62.41"> </span>
<a href="#l62.42"></a><span id="l62.42"> function _calIcalCreator(cid, iid) {</span>
<a href="#l62.43"></a><span id="l62.43">     return function(icalString) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/calendar/import-export/calImportExportModule.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/calendar/import-export/calImportExportModule.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -23,9 +23,9 @@ function getComponents() {</span>
<a href="#l63.4"></a><span id="l63.4">         calOutlookCSVExporter,</span>
<a href="#l63.5"></a><span id="l63.5"> </span>
<a href="#l63.6"></a><span id="l63.6">         calListFormatter,</span>
<a href="#l63.7"></a><span id="l63.7">         calMonthPrinter,</span>
<a href="#l63.8"></a><span id="l63.8">         calWeekPrinter</span>
<a href="#l63.9"></a><span id="l63.9">     ];</span>
<a href="#l63.10"></a><span id="l63.10"> }</span>
<a href="#l63.11"></a><span id="l63.11"> </span>
<a href="#l63.12"></a><span id="l63.12" class="difflineminus">-var NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, getComponents, this);</span>
<a href="#l63.13"></a><span id="l63.13" class="difflineplus">+this.NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, getComponents, this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1" class="difflineminus">--- a/calendar/import-export/calOutlookCSVImportExport.js</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineplus">+++ b/calendar/import-export/calOutlookCSVImportExport.js</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineat">@@ -217,17 +217,16 @@ calOutlookCSVImporter.prototype = {</span>
<a href="#l64.4"></a><span id="l64.4">         if (eventFields == null) {</span>
<a href="#l64.5"></a><span id="l64.5">             aCount.value = 0;</span>
<a href="#l64.6"></a><span id="l64.6">             return [];</span>
<a href="#l64.7"></a><span id="l64.7">         }</span>
<a href="#l64.8"></a><span id="l64.8"> </span>
<a href="#l64.9"></a><span id="l64.9">         args.boolStr = localeEn.valueTrue;</span>
<a href="#l64.10"></a><span id="l64.10">         args.boolIsTrue = true;</span>
<a href="#l64.11"></a><span id="l64.11"> </span>
<a href="#l64.12"></a><span id="l64.12" class="difflineminus">-        let dateParseConfirmed = false;</span>
<a href="#l64.13"></a><span id="l64.13">         let eventArray = [];</span>
<a href="#l64.14"></a><span id="l64.14">         do {</span>
<a href="#l64.15"></a><span id="l64.15">             // At this point eventFields contains following fields. Position</span>
<a href="#l64.16"></a><span id="l64.16">             // of fields is in args.[fieldname]Index.</span>
<a href="#l64.17"></a><span id="l64.17">             //    subject, start date, start time, end date, end time,</span>
<a href="#l64.18"></a><span id="l64.18">             //    all day, alarm on, alarm date, alarm time,</span>
<a href="#l64.19"></a><span id="l64.19">             //    Description, Categories, Location, Private</span>
<a href="#l64.20"></a><span id="l64.20">             // Unused fields (could maybe be copied to Description):</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1" class="difflineminus">--- a/calendar/itip/calItipEmailTransport.js</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineplus">+++ b/calendar/itip/calItipEmailTransport.js</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineat">@@ -4,23 +4,16 @@</span>
<a href="#l65.4"></a><span id="l65.4"> </span>
<a href="#l65.5"></a><span id="l65.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l65.6"></a><span id="l65.6"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l65.7"></a><span id="l65.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l65.8"></a><span id="l65.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l65.9"></a><span id="l65.9"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l65.10"></a><span id="l65.10"> Components.utils.import(&quot;resource://calendar/modules/ltnInvitationUtils.jsm&quot;);</span>
<a href="#l65.11"></a><span id="l65.11"> </span>
<a href="#l65.12"></a><span id="l65.12" class="difflineminus">-function convertFromUnicode(aCharset, aSrc) {</span>
<a href="#l65.13"></a><span id="l65.13" class="difflineminus">-    let unicodeConverter = Components.classes[&quot;@mozilla.org/intl/scriptableunicodeconverter&quot;]</span>
<a href="#l65.14"></a><span id="l65.14" class="difflineminus">-                                     .createInstance(Components.interfaces.nsIScriptableUnicodeConverter);</span>
<a href="#l65.15"></a><span id="l65.15" class="difflineminus">-    unicodeConverter.charset = aCharset;</span>
<a href="#l65.16"></a><span id="l65.16" class="difflineminus">-    return unicodeConverter.ConvertFromUnicode(aSrc);</span>
<a href="#l65.17"></a><span id="l65.17" class="difflineminus">-}</span>
<a href="#l65.18"></a><span id="l65.18" class="difflineminus">-</span>
<a href="#l65.19"></a><span id="l65.19"> /**</span>
<a href="#l65.20"></a><span id="l65.20">  * Constructor of calItipEmailTransport object</span>
<a href="#l65.21"></a><span id="l65.21">  */</span>
<a href="#l65.22"></a><span id="l65.22"> function calItipEmailTransport() {</span>
<a href="#l65.23"></a><span id="l65.23">     this.wrappedJSObject = this;</span>
<a href="#l65.24"></a><span id="l65.24">     this._initEmailTransport();</span>
<a href="#l65.25"></a><span id="l65.25"> }</span>
<a href="#l65.26"></a><span id="l65.26"> var calItipEmailTransportClassID = Components.ID(&quot;{d4d7b59e-c9e0-4a7a-b5e8-5958f85515f0}&quot;);</span>
<a href="#l65.27"></a><span id="l65.27" class="difflineat">@@ -418,9 +411,9 @@ calItipEmailTransport.prototype = {</span>
<a href="#l65.28"></a><span id="l65.28">             return tempFile;</span>
<a href="#l65.29"></a><span id="l65.29">         } catch (exc) {</span>
<a href="#l65.30"></a><span id="l65.30">             cal.ASSERT(false, exc);</span>
<a href="#l65.31"></a><span id="l65.31">             return null;</span>
<a href="#l65.32"></a><span id="l65.32">         }</span>
<a href="#l65.33"></a><span id="l65.33">     }</span>
<a href="#l65.34"></a><span id="l65.34"> };</span>
<a href="#l65.35"></a><span id="l65.35"> </span>
<a href="#l65.36"></a><span id="l65.36" class="difflineminus">-var NSGetFactory = XPCOMUtils.generateNSGetFactory([calItipEmailTransport]);</span>
<a href="#l65.37"></a><span id="l65.37" class="difflineplus">+this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calItipEmailTransport]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/calendar/lightning/components/calItipProtocolHandler.js</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/calendar/lightning/components/calItipProtocolHandler.js</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -129,9 +129,9 @@ ItipContentHandler.prototype = {</span>
<a href="#l66.4"></a><span id="l66.4">             event.organizer.id + &quot; (&quot; + event.id + &quot;)\n&quot;);</span>
<a href="#l66.5"></a><span id="l66.5">         let calMgr = cal.getCalendarManager();</span>
<a href="#l66.6"></a><span id="l66.6">         let cals = calMgr.getCalendars({});</span>
<a href="#l66.7"></a><span id="l66.7">         cals[0].addItem(event, null);</span>
<a href="#l66.8"></a><span id="l66.8">     }</span>
<a href="#l66.9"></a><span id="l66.9"> };</span>
<a href="#l66.10"></a><span id="l66.10"> </span>
<a href="#l66.11"></a><span id="l66.11"> var components = [ItipChannel, ItipProtocolHandler, ItipContentHandler];</span>
<a href="#l66.12"></a><span id="l66.12" class="difflineminus">-var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l66.13"></a><span id="l66.13" class="difflineplus">+this.NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1" class="difflineminus">--- a/calendar/lightning/components/lightningTextCalendarConverter.js</span>
<a href="#l67.2"></a><span id="l67.2" class="difflineplus">+++ b/calendar/lightning/components/lightningTextCalendarConverter.js</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineat">@@ -86,9 +86,9 @@ ltnMimeConverter.prototype = {</span>
<a href="#l67.4"></a><span id="l67.4">             cal.ERROR(&quot;[ltnMimeConverter] convertToHTML: &quot; + e);</span>
<a href="#l67.5"></a><span id="l67.5">         }</span>
<a href="#l67.6"></a><span id="l67.6"> </span>
<a href="#l67.7"></a><span id="l67.7">         // Create the HTML string for display</span>
<a href="#l67.8"></a><span id="l67.8">         return msgOverlay;</span>
<a href="#l67.9"></a><span id="l67.9">     }</span>
<a href="#l67.10"></a><span id="l67.10"> };</span>
<a href="#l67.11"></a><span id="l67.11"> </span>
<a href="#l67.12"></a><span id="l67.12" class="difflineminus">-var NSGetFactory = XPCOMUtils.generateNSGetFactory([ltnMimeConverter]);</span>
<a href="#l67.13"></a><span id="l67.13" class="difflineplus">+this.NSGetFactory = XPCOMUtils.generateNSGetFactory([ltnMimeConverter]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1" class="difflineminus">--- a/calendar/lightning/content/html-item-editing/react-code.js</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineplus">+++ b/calendar/lightning/content/html-item-editing/react-code.js</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l68.4"></a><span id="l68.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l68.5"></a><span id="l68.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l68.6"></a><span id="l68.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l68.7"></a><span id="l68.7"> </span>
<a href="#l68.8"></a><span id="l68.8"> // This file contains code that uses react.js</span>
<a href="#l68.9"></a><span id="l68.9"> </span>
<a href="#l68.10"></a><span id="l68.10" class="difflineplus">+/* exported gTopComponent, DatePicker, TopComponent */</span>
<a href="#l68.11"></a><span id="l68.11" class="difflineplus">+</span>
<a href="#l68.12"></a><span id="l68.12"> var gTopComponent = null;</span>
<a href="#l68.13"></a><span id="l68.13"> </span>
<a href="#l68.14"></a><span id="l68.14"> var Tabstrip = React.createClass({</span>
<a href="#l68.15"></a><span id="l68.15">     handleChange: function(index) {</span>
<a href="#l68.16"></a><span id="l68.16">         // The click handler will update the state with</span>
<a href="#l68.17"></a><span id="l68.17">         // the index of the focused menu entry</span>
<a href="#l68.18"></a><span id="l68.18">         this.props.onInput(this.props.keyprop, index);</span>
<a href="#l68.19"></a><span id="l68.19">     },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1" class="difflineminus">--- a/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineat">@@ -1,12 +1,22 @@</span>
<a href="#l69.4"></a><span id="l69.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l69.5"></a><span id="l69.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l69.6"></a><span id="l69.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l69.7"></a><span id="l69.7"> </span>
<a href="#l69.8"></a><span id="l69.8" class="difflineplus">+/* exported onEventDialogUnload, changeUndiscloseCheckboxStatus,</span>
<a href="#l69.9"></a><span id="l69.9" class="difflineplus">+ *          toggleKeepDuration, dateTimeControls2State, onUpdateAllDay,</span>
<a href="#l69.10"></a><span id="l69.10" class="difflineplus">+ *          openNewEvent, openNewTask, openNewMessage, openNewCardDialog,</span>
<a href="#l69.11"></a><span id="l69.11" class="difflineplus">+ *          deleteAllAttachments, copyAttachment, attachmentLinkKeyPress,</span>
<a href="#l69.12"></a><span id="l69.12" class="difflineplus">+ *          attachmentDblClick, attachmentClick, notifyUser,</span>
<a href="#l69.13"></a><span id="l69.13" class="difflineplus">+ *          removeNotification, chooseRecentTimezone, showTimezonePopup,</span>
<a href="#l69.14"></a><span id="l69.14" class="difflineplus">+ *          attendeeDblClick, attendeeClick, removeAttendee,</span>
<a href="#l69.15"></a><span id="l69.15" class="difflineplus">+ *          removeAllAttendees, sendMailToUndecidedAttendees, checkUntilDate</span>
<a href="#l69.16"></a><span id="l69.16" class="difflineplus">+ */</span>
<a href="#l69.17"></a><span id="l69.17" class="difflineplus">+</span>
<a href="#l69.18"></a><span id="l69.18"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l69.19"></a><span id="l69.19"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l69.20"></a><span id="l69.20"> Components.utils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l69.21"></a><span id="l69.21"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l69.22"></a><span id="l69.22"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l69.23"></a><span id="l69.23"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l69.24"></a><span id="l69.24"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l69.25"></a><span id="l69.25"> </span>
<a href="#l69.26"></a><span id="l69.26" class="difflineat">@@ -1455,18 +1465,16 @@ function saveDialog(item) {</span>
<a href="#l69.27"></a><span id="l69.27"> }</span>
<a href="#l69.28"></a><span id="l69.28"> </span>
<a href="#l69.29"></a><span id="l69.29"> /**</span>
<a href="#l69.30"></a><span id="l69.30">  * Save date and time related values from the dialog to the passed item.</span>
<a href="#l69.31"></a><span id="l69.31">  *</span>
<a href="#l69.32"></a><span id="l69.32">  * @param item    The item to save to.</span>
<a href="#l69.33"></a><span id="l69.33">  */</span>
<a href="#l69.34"></a><span id="l69.34"> function saveDateTime(item) {</span>
<a href="#l69.35"></a><span id="l69.35" class="difflineminus">-    let kDefaultTimezone = calendarDefaultTimezone();</span>
<a href="#l69.36"></a><span id="l69.36" class="difflineminus">-</span>
<a href="#l69.37"></a><span id="l69.37">     // Changes to the start date don't have to change the until date.</span>
<a href="#l69.38"></a><span id="l69.38">     untilDateCompensation(item);</span>
<a href="#l69.39"></a><span id="l69.39"> </span>
<a href="#l69.40"></a><span id="l69.40">     if (isEvent(item)) {</span>
<a href="#l69.41"></a><span id="l69.41">         let startTime = gStartTime.getInTimezone(gStartTimezone);</span>
<a href="#l69.42"></a><span id="l69.42">         let endTime = gEndTime.getInTimezone(gEndTimezone);</span>
<a href="#l69.43"></a><span id="l69.43">         let isAllDay = getElementValue(&quot;event-all-day&quot;, &quot;checked&quot;);</span>
<a href="#l69.44"></a><span id="l69.44">         if (isAllDay) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/calendar/lightning/content/lightning-item-panel.js</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-item-panel.js</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -1,12 +1,20 @@</span>
<a href="#l70.4"></a><span id="l70.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l70.5"></a><span id="l70.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l70.6"></a><span id="l70.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l70.7"></a><span id="l70.7"> </span>
<a href="#l70.8"></a><span id="l70.8" class="difflineplus">+/* exported onLoadLightningItemPanel, onAccept, onCancel, onCommandSave,</span>
<a href="#l70.9"></a><span id="l70.9" class="difflineplus">+ *          onCommandDeleteItem, editAttendees, rotatePrivacy, editPrivacy,</span>
<a href="#l70.10"></a><span id="l70.10" class="difflineplus">+ *          rotatePriority, editPriority, rotateStatus, editStatus,</span>
<a href="#l70.11"></a><span id="l70.11" class="difflineplus">+ *          rotateShowTimeAs, editShowTimeAs, updateShowTimeAs, editToDoStatus,</span>
<a href="#l70.12"></a><span id="l70.12" class="difflineplus">+ *          postponeTask, toggleTimezoneLinks, toggleLink, attachURL,</span>
<a href="#l70.13"></a><span id="l70.13" class="difflineplus">+ *          onCommandViewToolbar, onCommandCustomize, attachFileByAccountKey,</span>
<a href="#l70.14"></a><span id="l70.14" class="difflineplus">+ */</span>
<a href="#l70.15"></a><span id="l70.15" class="difflineplus">+</span>
<a href="#l70.16"></a><span id="l70.16"> // XXX Need to determine which of these we really need here.</span>
<a href="#l70.17"></a><span id="l70.17"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l70.18"></a><span id="l70.18"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l70.19"></a><span id="l70.19"> Components.utils.import(&quot;resource://calendar/modules/calRecurrenceUtils.jsm&quot;);</span>
<a href="#l70.20"></a><span id="l70.20"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l70.21"></a><span id="l70.21"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l70.22"></a><span id="l70.22"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l70.23"></a><span id="l70.23"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l70.24"></a><span id="l70.24" class="difflineat">@@ -435,18 +443,16 @@ function editPrivacy(aTarget, aEvent) {</span>
<a href="#l70.25"></a><span id="l70.25">  * @param {Object}    aArg                Contains privacy properties</span>
<a href="#l70.26"></a><span id="l70.26">  * @param {string}    aArg.privacy        The new privacy value</span>
<a href="#l70.27"></a><span id="l70.27">  * @param {boolean}   aArg.hasPrivacy     Whether privacy is supported</span>
<a href="#l70.28"></a><span id="l70.28">  * @param {string}    aArg.calendarType   The type of calendar</span>
<a href="#l70.29"></a><span id="l70.29">  * @param {string[]}  aArg.privacyValues  The possible privacy values</span>
<a href="#l70.30"></a><span id="l70.30">  */</span>
<a href="#l70.31"></a><span id="l70.31"> function updatePrivacy(aArg) {</span>
<a href="#l70.32"></a><span id="l70.32">     if (aArg.hasPrivacy) {</span>
<a href="#l70.33"></a><span id="l70.33" class="difflineminus">-        let numChilds;</span>
<a href="#l70.34"></a><span id="l70.34" class="difflineminus">-</span>
<a href="#l70.35"></a><span id="l70.35">         // Update privacy capabilities (toolbar)</span>
<a href="#l70.36"></a><span id="l70.36">         let menupopup = document.getElementById(&quot;event-privacy-menupopup&quot;);</span>
<a href="#l70.37"></a><span id="l70.37">         if (menupopup) {</span>
<a href="#l70.38"></a><span id="l70.38">             // Only update the toolbar if the button is actually there</span>
<a href="#l70.39"></a><span id="l70.39">             for (let node of menupopup.childNodes) {</span>
<a href="#l70.40"></a><span id="l70.40">                 let currentProvider = node.getAttribute(&quot;provider&quot;);</span>
<a href="#l70.41"></a><span id="l70.41">                 if (node.hasAttribute(&quot;privacy&quot;)) {</span>
<a href="#l70.42"></a><span id="l70.42">                     let currentPrivacyValue = node.getAttribute(&quot;privacy&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1" class="difflineminus">--- a/calendar/lightning/content/lightning-utils.js</span>
<a href="#l71.2"></a><span id="l71.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-utils.js</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l71.4"></a><span id="l71.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l71.5"></a><span id="l71.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l71.6"></a><span id="l71.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l71.7"></a><span id="l71.7"> </span>
<a href="#l71.8"></a><span id="l71.8" class="difflineplus">+/* exported ltnInitMailIdentitiesRow, ltnSaveMailIdentitySelection */</span>
<a href="#l71.9"></a><span id="l71.9" class="difflineplus">+</span>
<a href="#l71.10"></a><span id="l71.10"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l71.11"></a><span id="l71.11"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l71.12"></a><span id="l71.12"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l71.13"></a><span id="l71.13"> </span>
<a href="#l71.14"></a><span id="l71.14"> /**</span>
<a href="#l71.15"></a><span id="l71.15">  * Gets the value of a string in a .properties file from the lightning bundle</span>
<a href="#l71.16"></a><span id="l71.16">  *</span>
<a href="#l71.17"></a><span id="l71.17">  * @param aBundleName  the name of the properties file.  It is assumed that the</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1" class="difflineminus">--- a/calendar/lightning/content/messenger-overlay-preferences.js</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineplus">+++ b/calendar/lightning/content/messenger-overlay-preferences.js</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l72.4"></a><span id="l72.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l72.5"></a><span id="l72.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l72.6"></a><span id="l72.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l72.7"></a><span id="l72.7"> </span>
<a href="#l72.8"></a><span id="l72.8" class="difflineplus">+/* exported gLightningPane */</span>
<a href="#l72.9"></a><span id="l72.9" class="difflineplus">+</span>
<a href="#l72.10"></a><span id="l72.10"> var gLightningPane = {</span>
<a href="#l72.11"></a><span id="l72.11">     mInitialized: false,</span>
<a href="#l72.12"></a><span id="l72.12"> </span>
<a href="#l72.13"></a><span id="l72.13">     init: function lnPaneInit() {</span>
<a href="#l72.14"></a><span id="l72.14">         let preference = document.getElementById(&quot;calendar.preferences.lightning.selectedTabIndex&quot;);</span>
<a href="#l72.15"></a><span id="l72.15">         if (preference.value) {</span>
<a href="#l72.16"></a><span id="l72.16">             let ltnPrefs = document.getElementById(&quot;calPreferencesTabbox&quot;);</span>
<a href="#l72.17"></a><span id="l72.17">             ltnPrefs.selectedIndex = preference.value;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1" class="difflineminus">--- a/calendar/lightning/content/messenger-overlay-sidebar.js</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineplus">+++ b/calendar/lightning/content/messenger-overlay-sidebar.js</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineat">@@ -1,12 +1,18 @@</span>
<a href="#l73.4"></a><span id="l73.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l73.5"></a><span id="l73.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l73.6"></a><span id="l73.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l73.7"></a><span id="l73.7"> </span>
<a href="#l73.8"></a><span id="l73.8" class="difflineplus">+/* exported refreshUIBits, switchCalendarView, rescheduleInvitationsUpdate,</span>
<a href="#l73.9"></a><span id="l73.9" class="difflineplus">+ *          openInvitationsDialog, onToolbarsPopupShowingWithMode,</span>
<a href="#l73.10"></a><span id="l73.10" class="difflineplus">+ *          InitViewCalendarPaneMenu, onToolbarsPopupShowingForTabType,</span>
<a href="#l73.11"></a><span id="l73.11" class="difflineplus">+ *          customizeMailToolbarForTabType</span>
<a href="#l73.12"></a><span id="l73.12" class="difflineplus">+ */</span>
<a href="#l73.13"></a><span id="l73.13" class="difflineplus">+</span>
<a href="#l73.14"></a><span id="l73.14"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l73.15"></a><span id="l73.15"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l73.16"></a><span id="l73.16"> Components.utils.import(&quot;resource://gre/modules/Promise.jsm&quot;);</span>
<a href="#l73.17"></a><span id="l73.17"> Components.utils.import(&quot;resource://gre/modules/Task.jsm&quot;);</span>
<a href="#l73.18"></a><span id="l73.18"> Components.utils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l73.19"></a><span id="l73.19"> Components.utils.import(&quot;resource://calendar/modules/calAsyncUtils.jsm&quot;);</span>
<a href="#l73.20"></a><span id="l73.20"> </span>
<a href="#l73.21"></a><span id="l73.21"> var gLastShownCalendarView = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l74.1"></a><span id="l74.1" class="difflineminus">--- a/calendar/lightning/modules/ltnUtils.jsm</span>
<a href="#l74.2"></a><span id="l74.2" class="difflineplus">+++ b/calendar/lightning/modules/ltnUtils.jsm</span>
<a href="#l74.3"></a><span id="l74.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l74.4"></a><span id="l74.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l74.5"></a><span id="l74.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l74.6"></a><span id="l74.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l74.7"></a><span id="l74.7"> </span>
<a href="#l74.8"></a><span id="l74.8" class="difflineplus">+/* exported ltn */</span>
<a href="#l74.9"></a><span id="l74.9" class="difflineplus">+</span>
<a href="#l74.10"></a><span id="l74.10"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l74.11"></a><span id="l74.11"> </span>
<a href="#l74.12"></a><span id="l74.12"> this.EXPORTED_SYMBOLS = [&quot;ltn&quot;];</span>
<a href="#l74.13"></a><span id="l74.13"> var ltn = {</span>
<a href="#l74.14"></a><span id="l74.14">     /**</span>
<a href="#l74.15"></a><span id="l74.15">      * Gets the value of a string in a .properties file from the lightning bundle</span>
<a href="#l74.16"></a><span id="l74.16">      *</span>
<a href="#l74.17"></a><span id="l74.17">      * @param {String} aBundleName  the name of the properties file. It is assumed that the</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l75.1"></a><span id="l75.1" class="difflineminus">--- a/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l75.2"></a><span id="l75.2" class="difflineplus">+++ b/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l75.3"></a><span id="l75.3" class="difflineat">@@ -25,17 +25,16 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l75.4"></a><span id="l75.4"> var xmlHeader = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n';</span>
<a href="#l75.5"></a><span id="l75.5"> </span>
<a href="#l75.6"></a><span id="l75.6"> var davNS = &quot;DAV:&quot;;</span>
<a href="#l75.7"></a><span id="l75.7"> var caldavNS = &quot;urn:ietf:params:xml:ns:caldav&quot;;</span>
<a href="#l75.8"></a><span id="l75.8"> var calservNS = &quot;http://calendarserver.org/ns/&quot;;</span>
<a href="#l75.9"></a><span id="l75.9"> var MIME_TEXT_CALENDAR = &quot;text/calendar; charset=utf-8&quot;;</span>
<a href="#l75.10"></a><span id="l75.10"> var MIME_TEXT_XML = &quot;text/xml; charset=utf-8&quot;;</span>
<a href="#l75.11"></a><span id="l75.11"> </span>
<a href="#l75.12"></a><span id="l75.12" class="difflineminus">-var cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l75.13"></a><span id="l75.13"> var cIOL = Components.interfaces.calIOperationListener;</span>
<a href="#l75.14"></a><span id="l75.14"> </span>
<a href="#l75.15"></a><span id="l75.15"> function caldavNSResolver(prefix) {</span>
<a href="#l75.16"></a><span id="l75.16">     const ns = {</span>
<a href="#l75.17"></a><span id="l75.17">         D: davNS,</span>
<a href="#l75.18"></a><span id="l75.18">         C: caldavNS,</span>
<a href="#l75.19"></a><span id="l75.19">         CS: calservNS</span>
<a href="#l75.20"></a><span id="l75.20">     };</span>
<a href="#l75.21"></a><span id="l75.21" class="difflineat">@@ -999,17 +998,17 @@ calDavCalendar.prototype = {</span>
<a href="#l75.22"></a><span id="l75.22">                     // The item still exists. We need to ask the user if he</span>
<a href="#l75.23"></a><span id="l75.23">                     // really wants to delete the item. Remember, we only</span>
<a href="#l75.24"></a><span id="l75.24">                     // made this request since the actual delete gave 409/412</span>
<a href="#l75.25"></a><span id="l75.25">                     thisCalendar.promptOverwrite(CALDAV_DELETE_ITEM, aItem, aListener, null);</span>
<a href="#l75.26"></a><span id="l75.26">                     return;</span>
<a href="#l75.27"></a><span id="l75.27">                 }</span>
<a href="#l75.28"></a><span id="l75.28"> </span>
<a href="#l75.29"></a><span id="l75.29">                 // Finally, notify listener.</span>
<a href="#l75.30"></a><span id="l75.30" class="difflineminus">-                notifyListener(listenerstatus, listenerDetail, true);</span>
<a href="#l75.31"></a><span id="l75.31" class="difflineplus">+                notifyListener(listenerStatus, listenerDetail, true);</span>
<a href="#l75.32"></a><span id="l75.32">             }</span>
<a href="#l75.33"></a><span id="l75.33">         };</span>
<a href="#l75.34"></a><span id="l75.34"> </span>
<a href="#l75.35"></a><span id="l75.35">         if (this.verboseLogging()) {</span>
<a href="#l75.36"></a><span id="l75.36">             cal.LOG(&quot;CalDAV: Deleting &quot; + eventUri.spec);</span>
<a href="#l75.37"></a><span id="l75.37">         }</span>
<a href="#l75.38"></a><span id="l75.38"> </span>
<a href="#l75.39"></a><span id="l75.39">         this.sendHttpRequest(eventUri, null, null, null, (channel) =&gt; {</span>
<a href="#l75.40"></a><span id="l75.40" class="difflineat">@@ -3008,9 +3007,9 @@ calDavObserver.prototype = {</span>
<a href="#l75.41"></a><span id="l75.41"> };</span>
<a href="#l75.42"></a><span id="l75.42"> </span>
<a href="#l75.43"></a><span id="l75.43"> /** Module Registration */</span>
<a href="#l75.44"></a><span id="l75.44"> var scriptLoadOrder = [</span>
<a href="#l75.45"></a><span id="l75.45">     &quot;calUtils.js&quot;,</span>
<a href="#l75.46"></a><span id="l75.46">     &quot;calDavRequestHandlers.js&quot;</span>
<a href="#l75.47"></a><span id="l75.47"> ];</span>
<a href="#l75.48"></a><span id="l75.48"> </span>
<a href="#l75.49"></a><span id="l75.49" class="difflineminus">-var NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, [calDavCalendar], this);</span>
<a href="#l75.50"></a><span id="l75.50" class="difflineplus">+this.NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, [calDavCalendar], this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l76.1"></a><span id="l76.1" class="difflineminus">--- a/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l76.2"></a><span id="l76.2" class="difflineplus">+++ b/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l76.3"></a><span id="l76.3" class="difflineat">@@ -533,9 +533,9 @@ calCompositeGetListenerHelper.prototype </span>
<a href="#l76.4"></a><span id="l76.4">         // send GetResults to the real listener</span>
<a href="#l76.5"></a><span id="l76.5">         this.mRealListener.onGetResult(aCalendar, aStatus, aItemType, aDetail, aCount, aItems);</span>
<a href="#l76.6"></a><span id="l76.6">         this.mItemsReceived += aCount;</span>
<a href="#l76.7"></a><span id="l76.7">     }</span>
<a href="#l76.8"></a><span id="l76.8"> </span>
<a href="#l76.9"></a><span id="l76.9"> };</span>
<a href="#l76.10"></a><span id="l76.10"> </span>
<a href="#l76.11"></a><span id="l76.11"> /** Module Registration */</span>
<a href="#l76.12"></a><span id="l76.12" class="difflineminus">-var NSGetFactory = XPCOMUtils.generateNSGetFactory([calCompositeCalendar]);</span>
<a href="#l76.13"></a><span id="l76.13" class="difflineplus">+this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calCompositeCalendar]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l77.1"></a><span id="l77.1" class="difflineminus">--- a/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l77.2"></a><span id="l77.2" class="difflineplus">+++ b/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l77.3"></a><span id="l77.3" class="difflineat">@@ -15,31 +15,27 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l77.4"></a><span id="l77.4"> //</span>
<a href="#l77.5"></a><span id="l77.5"> // This is a non-sync ics file. It reads the file pointer to by uri when set,</span>
<a href="#l77.6"></a><span id="l77.6"> // then writes it on updates. External changes to the file will be</span>
<a href="#l77.7"></a><span id="l77.7"> // ignored and overwritten.</span>
<a href="#l77.8"></a><span id="l77.8"> //</span>
<a href="#l77.9"></a><span id="l77.9"> // XXX Should do locks, so that external changes are not overwritten.</span>
<a href="#l77.10"></a><span id="l77.10"> </span>
<a href="#l77.11"></a><span id="l77.11"> var CI = Components.interfaces;</span>
<a href="#l77.12"></a><span id="l77.12" class="difflineminus">-var calIOperationListener = Components.interfaces.calIOperationListener;</span>
<a href="#l77.13"></a><span id="l77.13"> var calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l77.14"></a><span id="l77.14"> var calIErrors = Components.interfaces.calIErrors;</span>
<a href="#l77.15"></a><span id="l77.15"> </span>
<a href="#l77.16"></a><span id="l77.16"> function icsNSResolver(prefix) {</span>
<a href="#l77.17"></a><span id="l77.17">     const ns = {</span>
<a href="#l77.18"></a><span id="l77.18">         D: &quot;DAV:&quot;</span>
<a href="#l77.19"></a><span id="l77.19">     };</span>
<a href="#l77.20"></a><span id="l77.20"> </span>
<a href="#l77.21"></a><span id="l77.21">     return ns[prefix] || null;</span>
<a href="#l77.22"></a><span id="l77.22"> }</span>
<a href="#l77.23"></a><span id="l77.23"> </span>
<a href="#l77.24"></a><span id="l77.24" class="difflineminus">-function icsXPath(aNode, aExpr, aType) {</span>
<a href="#l77.25"></a><span id="l77.25" class="difflineminus">-    return cal.xml.evalXPath(aNode, aExpr, icsNSResolver, aType);</span>
<a href="#l77.26"></a><span id="l77.26" class="difflineminus">-}</span>
<a href="#l77.27"></a><span id="l77.27"> function icsXPathFirst(aNode, aExpr, aType) {</span>
<a href="#l77.28"></a><span id="l77.28">     return cal.xml.evalXPathFirst(aNode, aExpr, icsNSResolver, aType);</span>
<a href="#l77.29"></a><span id="l77.29"> }</span>
<a href="#l77.30"></a><span id="l77.30"> </span>
<a href="#l77.31"></a><span id="l77.31"> function calICSCalendar() {</span>
<a href="#l77.32"></a><span id="l77.32">     this.initProviderBase();</span>
<a href="#l77.33"></a><span id="l77.33">     this.initICSCalendar();</span>
<a href="#l77.34"></a><span id="l77.34"> </span>
<a href="#l77.35"></a><span id="l77.35" class="difflineat">@@ -1110,9 +1106,9 @@ fileHooks.prototype = {</span>
<a href="#l77.36"></a><span id="l77.36">     }</span>
<a href="#l77.37"></a><span id="l77.37"> };</span>
<a href="#l77.38"></a><span id="l77.38"> </span>
<a href="#l77.39"></a><span id="l77.39"> /** Module Registration */</span>
<a href="#l77.40"></a><span id="l77.40"> var scriptLoadOrder = [</span>
<a href="#l77.41"></a><span id="l77.41">     &quot;calUtils.js&quot;,</span>
<a href="#l77.42"></a><span id="l77.42"> ];</span>
<a href="#l77.43"></a><span id="l77.43"> </span>
<a href="#l77.44"></a><span id="l77.44" class="difflineminus">-var NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, [calICSCalendar], this);</span>
<a href="#l77.45"></a><span id="l77.45" class="difflineplus">+this.NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, [calICSCalendar], this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l78.1"></a><span id="l78.1" class="difflineminus">--- a/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l78.2"></a><span id="l78.2" class="difflineplus">+++ b/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l78.3"></a><span id="l78.3" class="difflineat">@@ -8,18 +8,16 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l78.4"></a><span id="l78.4"> Components.utils.import(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;);</span>
<a href="#l78.5"></a><span id="l78.5"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l78.6"></a><span id="l78.6"> Components.utils.import(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;);</span>
<a href="#l78.7"></a><span id="l78.7"> </span>
<a href="#l78.8"></a><span id="l78.8"> //</span>
<a href="#l78.9"></a><span id="l78.9"> // calMemoryCalendar.js</span>
<a href="#l78.10"></a><span id="l78.10"> //</span>
<a href="#l78.11"></a><span id="l78.11"> </span>
<a href="#l78.12"></a><span id="l78.12" class="difflineminus">-var calCalendarManagerContractID = &quot;@mozilla.org/calendar/manager;1&quot;;</span>
<a href="#l78.13"></a><span id="l78.13" class="difflineminus">-var calICalendarManager = Components.interfaces.calICalendarManager;</span>
<a href="#l78.14"></a><span id="l78.14"> var cICL = Components.interfaces.calIChangeLog;</span>
<a href="#l78.15"></a><span id="l78.15"> </span>
<a href="#l78.16"></a><span id="l78.16"> function calMemoryCalendar() {</span>
<a href="#l78.17"></a><span id="l78.17">     this.initProviderBase();</span>
<a href="#l78.18"></a><span id="l78.18">     this.initMemoryCalendar();</span>
<a href="#l78.19"></a><span id="l78.19"> }</span>
<a href="#l78.20"></a><span id="l78.20"> var calMemoryCalendarClassID = Components.ID(&quot;{bda0dd7f-0a2f-4fcf-ba08-5517e6fbf133}&quot;);</span>
<a href="#l78.21"></a><span id="l78.21"> var calMemoryCalendarInterfaces = [</span>
<a href="#l78.22"></a><span id="l78.22" class="difflineat">@@ -361,17 +359,16 @@ calMemoryCalendar.prototype = {</span>
<a href="#l78.23"></a><span id="l78.23">     },</span>
<a href="#l78.24"></a><span id="l78.24">     getItems_: function(aItemFilter, aCount,</span>
<a href="#l78.25"></a><span id="l78.25">                          aRangeStart, aRangeEnd, aListener) {</span>
<a href="#l78.26"></a><span id="l78.26">         if (!aListener) {</span>
<a href="#l78.27"></a><span id="l78.27">             return;</span>
<a href="#l78.28"></a><span id="l78.28">         }</span>
<a href="#l78.29"></a><span id="l78.29"> </span>
<a href="#l78.30"></a><span id="l78.30">         const calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l78.31"></a><span id="l78.31" class="difflineminus">-        const calIRecurrenceInfo = Components.interfaces.calIRecurrenceInfo;</span>
<a href="#l78.32"></a><span id="l78.32"> </span>
<a href="#l78.33"></a><span id="l78.33">         let itemsFound = [];</span>
<a href="#l78.34"></a><span id="l78.34"> </span>
<a href="#l78.35"></a><span id="l78.35">         //</span>
<a href="#l78.36"></a><span id="l78.36">         // filters</span>
<a href="#l78.37"></a><span id="l78.37">         //</span>
<a href="#l78.38"></a><span id="l78.38"> </span>
<a href="#l78.39"></a><span id="l78.39">         let wantUnrespondedInvitations = ((aItemFilter &amp; calICalendar.ITEM_FILTER_REQUEST_NEEDS_ACTION) != 0);</span>
<a href="#l78.40"></a><span id="l78.40" class="difflineat">@@ -566,9 +563,9 @@ calMemoryCalendar.prototype = {</span>
<a href="#l78.41"></a><span id="l78.41">                                                    out_ids,</span>
<a href="#l78.42"></a><span id="l78.42">                                                    out_values) {</span>
<a href="#l78.43"></a><span id="l78.43">         this.mMetaData.getAllProperties(out_ids, out_values);</span>
<a href="#l78.44"></a><span id="l78.44">         out_count.value = out_ids.value.length;</span>
<a href="#l78.45"></a><span id="l78.45">     }</span>
<a href="#l78.46"></a><span id="l78.46"> };</span>
<a href="#l78.47"></a><span id="l78.47"> </span>
<a href="#l78.48"></a><span id="l78.48"> /** Module Registration */</span>
<a href="#l78.49"></a><span id="l78.49" class="difflineminus">-var NSGetFactory = XPCOMUtils.generateNSGetFactory([calMemoryCalendar]);</span>
<a href="#l78.50"></a><span id="l78.50" class="difflineplus">+this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calMemoryCalendar]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l79.1"></a><span id="l79.1" class="difflineminus">--- a/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l79.2"></a><span id="l79.2" class="difflineplus">+++ b/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l79.3"></a><span id="l79.3" class="difflineat">@@ -669,17 +669,16 @@ calStorageCalendar.prototype = {</span>
<a href="#l79.4"></a><span id="l79.4">     getItems_: function cSC_getItems_(aItemFilter, aCount,</span>
<a href="#l79.5"></a><span id="l79.5">                                       aRangeStart, aRangeEnd, aListener) {</span>
<a href="#l79.6"></a><span id="l79.6">         if (!aListener) {</span>
<a href="#l79.7"></a><span id="l79.7">             return;</span>
<a href="#l79.8"></a><span id="l79.8">         }</span>
<a href="#l79.9"></a><span id="l79.9"> </span>
<a href="#l79.10"></a><span id="l79.10">         let self = this;</span>
<a href="#l79.11"></a><span id="l79.11"> </span>
<a href="#l79.12"></a><span id="l79.12" class="difflineminus">-        let itemsFound = [];</span>
<a href="#l79.13"></a><span id="l79.13">         let startTime = -0x7fffffffffffffff;</span>
<a href="#l79.14"></a><span id="l79.14">         // endTime needs to be the max value a PRTime can be</span>
<a href="#l79.15"></a><span id="l79.15">         let endTime = 0x7fffffffffffffff;</span>
<a href="#l79.16"></a><span id="l79.16">         let count = 0;</span>
<a href="#l79.17"></a><span id="l79.17">         if (aRangeStart) {</span>
<a href="#l79.18"></a><span id="l79.18">             startTime = aRangeStart.nativeTime;</span>
<a href="#l79.19"></a><span id="l79.19">         }</span>
<a href="#l79.20"></a><span id="l79.20">         if (aRangeEnd) {</span>
<a href="#l79.21"></a><span id="l79.21" class="difflineat">@@ -1046,17 +1045,16 @@ calStorageCalendar.prototype = {</span>
<a href="#l79.22"></a><span id="l79.22">     deleteOfflineItem: function(aItem, aListener) {</span>
<a href="#l79.23"></a><span id="l79.23">         let this_ = this;</span>
<a href="#l79.24"></a><span id="l79.24">         let opListener = {</span>
<a href="#l79.25"></a><span id="l79.25">             QueryInterface: XPCOMUtils.generateQI([Components.interfaces.calIOperationListener]),</span>
<a href="#l79.26"></a><span id="l79.26">             onGetResult: function(calendar, status, itemType, detail, count, items) {</span>
<a href="#l79.27"></a><span id="l79.27"> </span>
<a href="#l79.28"></a><span id="l79.28">             },</span>
<a href="#l79.29"></a><span id="l79.29">             onOperationComplete: function(calendar, status, opType, id, oldOfflineJournalFlag) {</span>
<a href="#l79.30"></a><span id="l79.30" class="difflineminus">-                let newOfflineJournalFlag = cICL.OFFLINE_FLAG_DELETED_RECORD;</span>
<a href="#l79.31"></a><span id="l79.31">                 if (oldOfflineJournalFlag) {</span>
<a href="#l79.32"></a><span id="l79.32">                     // Delete item if flag is c</span>
<a href="#l79.33"></a><span id="l79.33">                     if (oldOfflineJournalFlag == cICL.OFFLINE_FLAG_CREATED_RECORD) {</span>
<a href="#l79.34"></a><span id="l79.34">                         this_.deleteItemById(aItem.id);</span>
<a href="#l79.35"></a><span id="l79.35">                     } else if (oldOfflineJournalFlag == cICL.OFFLINE_FLAG_MODIFIED_RECORD) {</span>
<a href="#l79.36"></a><span id="l79.36">                         this_.setOfflineJournalFlag(aItem, cICL.OFFLINE_FLAG_DELETED_RECORD);</span>
<a href="#l79.37"></a><span id="l79.37">                     }</span>
<a href="#l79.38"></a><span id="l79.38">                 } else {</span>
<a href="#l79.39"></a><span id="l79.39" class="difflineat">@@ -1558,32 +1556,30 @@ calStorageCalendar.prototype = {</span>
<a href="#l79.40"></a><span id="l79.40">             return;</span>
<a href="#l79.41"></a><span id="l79.41">         }</span>
<a href="#l79.42"></a><span id="l79.42">         // build up recurring event and todo cache with its offline flags,</span>
<a href="#l79.43"></a><span id="l79.43">         // because we need that on every query: for recurring items, we need to</span>
<a href="#l79.44"></a><span id="l79.44">         // query database-wide.. yuck</span>
<a href="#l79.45"></a><span id="l79.45"> </span>
<a href="#l79.46"></a><span id="l79.46">         try {</span>
<a href="#l79.47"></a><span id="l79.47">             this.prepareStatement(this.mSelectEventsWithRecurrence);</span>
<a href="#l79.48"></a><span id="l79.48" class="difflineminus">-            let sp = this.mSelectEventsWithRecurrence.params;</span>
<a href="#l79.49"></a><span id="l79.49">             while (this.mSelectEventsWithRecurrence.executeStep()) {</span>
<a href="#l79.50"></a><span id="l79.50">                 let row = this.mSelectEventsWithRecurrence.row;</span>
<a href="#l79.51"></a><span id="l79.51">                 let item = this.getEventFromRow(row, {});</span>
<a href="#l79.52"></a><span id="l79.52">                 this.mRecEventCache[item.id] = item;</span>
<a href="#l79.53"></a><span id="l79.53">                 this.mRecEventCacheOfflineFlags[item.id] = row.offline_journal || null;</span>
<a href="#l79.54"></a><span id="l79.54">             }</span>
<a href="#l79.55"></a><span id="l79.55">         } catch (e) {</span>
<a href="#l79.56"></a><span id="l79.56">             this.logError(&quot;Error selecting events with recurrence!&quot;, e);</span>
<a href="#l79.57"></a><span id="l79.57">         } finally {</span>
<a href="#l79.58"></a><span id="l79.58">             this.mSelectEventsWithRecurrence.reset();</span>
<a href="#l79.59"></a><span id="l79.59">         }</span>
<a href="#l79.60"></a><span id="l79.60"> </span>
<a href="#l79.61"></a><span id="l79.61">         try {</span>
<a href="#l79.62"></a><span id="l79.62">             this.prepareStatement(this.mSelectTodosWithRecurrence);</span>
<a href="#l79.63"></a><span id="l79.63" class="difflineminus">-            let sp = this.mSelectTodosWithRecurrence.params;</span>
<a href="#l79.64"></a><span id="l79.64">             while (this.mSelectTodosWithRecurrence.executeStep()) {</span>
<a href="#l79.65"></a><span id="l79.65">                 let row = this.mSelectTodosWithRecurrence.row;</span>
<a href="#l79.66"></a><span id="l79.66">                 let item = this.getTodoFromRow(row, {});</span>
<a href="#l79.67"></a><span id="l79.67">                 this.mRecTodoCache[item.id] = item;</span>
<a href="#l79.68"></a><span id="l79.68">                 this.mRecTodoCacheOfflineFlags[item.id] = row.offline_journal || null;</span>
<a href="#l79.69"></a><span id="l79.69">             }</span>
<a href="#l79.70"></a><span id="l79.70">         } catch (e) {</span>
<a href="#l79.71"></a><span id="l79.71">             this.logError(&quot;Error selecting todos with recurrence!&quot;, e);</span>
<a href="#l79.72"></a><span id="l79.72" class="difflineat">@@ -1744,17 +1740,16 @@ calStorageCalendar.prototype = {</span>
<a href="#l79.73"></a><span id="l79.73">             } catch (e) {</span>
<a href="#l79.74"></a><span id="l79.74">                 this.logError(&quot;Error getting extra properties for item '&quot; +</span>
<a href="#l79.75"></a><span id="l79.75">                               item.title + &quot;' (&quot; + item.id + &quot;)!&quot;, e);</span>
<a href="#l79.76"></a><span id="l79.76">             } finally {</span>
<a href="#l79.77"></a><span id="l79.77">                 selectItem.reset();</span>
<a href="#l79.78"></a><span id="l79.78">             }</span>
<a href="#l79.79"></a><span id="l79.79">         }</span>
<a href="#l79.80"></a><span id="l79.80"> </span>
<a href="#l79.81"></a><span id="l79.81" class="difflineminus">-        let i;</span>
<a href="#l79.82"></a><span id="l79.82">         if (flags &amp; CAL_ITEM_FLAG.HAS_RECURRENCE) {</span>
<a href="#l79.83"></a><span id="l79.83">             if (item.recurrenceId) {</span>
<a href="#l79.84"></a><span id="l79.84">                 throw Components.results.NS_ERROR_UNEXPECTED;</span>
<a href="#l79.85"></a><span id="l79.85">             }</span>
<a href="#l79.86"></a><span id="l79.86"> </span>
<a href="#l79.87"></a><span id="l79.87">             let recInfo = cal.createRecurrenceInfo(item);</span>
<a href="#l79.88"></a><span id="l79.88">             item.recurrenceInfo = recInfo;</span>
<a href="#l79.89"></a><span id="l79.89"> </span>
<a href="#l79.90"></a><span id="l79.90" class="difflineat">@@ -2473,9 +2468,9 @@ calStorageCalendar.prototype = {</span>
<a href="#l79.91"></a><span id="l79.91">     }</span>
<a href="#l79.92"></a><span id="l79.92"> };</span>
<a href="#l79.93"></a><span id="l79.93"> </span>
<a href="#l79.94"></a><span id="l79.94"> /** Module Registration */</span>
<a href="#l79.95"></a><span id="l79.95"> var scriptLoadOrder = [</span>
<a href="#l79.96"></a><span id="l79.96">     &quot;calUtils.js&quot;,</span>
<a href="#l79.97"></a><span id="l79.97"> ];</span>
<a href="#l79.98"></a><span id="l79.98"> </span>
<a href="#l79.99"></a><span id="l79.99" class="difflineminus">-var NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, [calStorageCalendar], this);</span>
<a href="#l79.100"></a><span id="l79.100" class="difflineplus">+this.NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, [calStorageCalendar], this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l80.1"></a><span id="l80.1" class="difflineminus">--- a/calendar/providers/storage/calStorageHelpers.jsm</span>
<a href="#l80.2"></a><span id="l80.2" class="difflineplus">+++ b/calendar/providers/storage/calStorageHelpers.jsm</span>
<a href="#l80.3"></a><span id="l80.3" class="difflineat">@@ -1,15 +1,19 @@</span>
<a href="#l80.4"></a><span id="l80.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l80.5"></a><span id="l80.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l80.6"></a><span id="l80.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l80.7"></a><span id="l80.7"> </span>
<a href="#l80.8"></a><span id="l80.8"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l80.9"></a><span id="l80.9"> </span>
<a href="#l80.10"></a><span id="l80.10" class="difflineminus">-var EXPORTED_SYMBOLS = [</span>
<a href="#l80.11"></a><span id="l80.11" class="difflineplus">+/* exported CAL_ITEM_FLAG, getInUtcOrKeepFloating, dateToText, textToDate,</span>
<a href="#l80.12"></a><span id="l80.12" class="difflineplus">+ *          calStorageTimezone, getTimezone, newDateTime</span>
<a href="#l80.13"></a><span id="l80.13" class="difflineplus">+ */</span>
<a href="#l80.14"></a><span id="l80.14" class="difflineplus">+</span>
<a href="#l80.15"></a><span id="l80.15" class="difflineplus">+this.EXPORTED_SYMBOLS = [</span>
<a href="#l80.16"></a><span id="l80.16">     &quot;CAL_ITEM_FLAG&quot;,</span>
<a href="#l80.17"></a><span id="l80.17">     &quot;getInUtcOrKeepFloating&quot;,</span>
<a href="#l80.18"></a><span id="l80.18">     &quot;dateToText&quot;,</span>
<a href="#l80.19"></a><span id="l80.19">     &quot;textToDate&quot;,</span>
<a href="#l80.20"></a><span id="l80.20">     &quot;calStorageTimezone&quot;,</span>
<a href="#l80.21"></a><span id="l80.21">     &quot;getTimezone&quot;,</span>
<a href="#l80.22"></a><span id="l80.22">     &quot;newDateTime&quot;</span>
<a href="#l80.23"></a><span id="l80.23"> ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l81.1"></a><span id="l81.1" class="difflineminus">--- a/calendar/providers/storage/calStorageUpgrade.jsm</span>
<a href="#l81.2"></a><span id="l81.2" class="difflineplus">+++ b/calendar/providers/storage/calStorageUpgrade.jsm</span>
<a href="#l81.3"></a><span id="l81.3" class="difflineat">@@ -61,16 +61,18 @@</span>
<a href="#l81.4"></a><span id="l81.4">  *     version (setDbVersionAndCommit also commits the transaction)</span>
<a href="#l81.5"></a><span id="l81.5">  * - If something fails, throw reportErrorAndRollback(db, e) to report the</span>
<a href="#l81.6"></a><span id="l81.6">  *     failure and roll back the transaction.</span>
<a href="#l81.7"></a><span id="l81.7">  *</span>
<a href="#l81.8"></a><span id="l81.8">  * If this documentation isn't sufficient to make upgrading understandable,</span>
<a href="#l81.9"></a><span id="l81.9">  * please file a bug.</span>
<a href="#l81.10"></a><span id="l81.10">  */</span>
<a href="#l81.11"></a><span id="l81.11"> </span>
<a href="#l81.12"></a><span id="l81.12" class="difflineplus">+/* exported upgradeDB */</span>
<a href="#l81.13"></a><span id="l81.13" class="difflineplus">+</span>
<a href="#l81.14"></a><span id="l81.14"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l81.15"></a><span id="l81.15"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l81.16"></a><span id="l81.16"> Components.utils.import(&quot;resource://calendar/modules/calStorageHelpers.jsm&quot;);</span>
<a href="#l81.17"></a><span id="l81.17"> </span>
<a href="#l81.18"></a><span id="l81.18"> // The current database version. Be sure to increment this when you create a new</span>
<a href="#l81.19"></a><span id="l81.19"> // updater.</span>
<a href="#l81.20"></a><span id="l81.20"> var DB_SCHEMA_VERSION = 22;</span>
<a href="#l81.21"></a><span id="l81.21"> </span>
<a href="#l81.22"></a><span id="l81.22" class="difflineat">@@ -1405,17 +1407,16 @@ upgrade.v21 = function upgrade_v21(db, v</span>
<a href="#l81.23"></a><span id="l81.23">                             '   AND dates != &quot;&quot;';</span>
<a href="#l81.24"></a><span id="l81.24"> </span>
<a href="#l81.25"></a><span id="l81.25">             // Create the statements</span>
<a href="#l81.26"></a><span id="l81.26">             let insertStmt = createStatement(db, insertSQL);</span>
<a href="#l81.27"></a><span id="l81.27">             let updateStmt = createStatement(db, updateSQL);</span>
<a href="#l81.28"></a><span id="l81.28"> </span>
<a href="#l81.29"></a><span id="l81.29">             // Repeat these two statements until the update affects 0 rows</span>
<a href="#l81.30"></a><span id="l81.30">             // (because the dates field on all x-datesets is empty)</span>
<a href="#l81.31"></a><span id="l81.31" class="difflineminus">-            let insertedRows = 0;</span>
<a href="#l81.32"></a><span id="l81.32">             do {</span>
<a href="#l81.33"></a><span id="l81.33">                 insertStmt.execute();</span>
<a href="#l81.34"></a><span id="l81.34">                 updateStmt.execute();</span>
<a href="#l81.35"></a><span id="l81.35">             } while (db.affectedRows &gt; 0);</span>
<a href="#l81.36"></a><span id="l81.36"> </span>
<a href="#l81.37"></a><span id="l81.37">             // Finally we can delete the x-dateset rows. Note this will leave</span>
<a href="#l81.38"></a><span id="l81.38">             // gaps in recur_index, but thats ok since its only used for</span>
<a href="#l81.39"></a><span id="l81.39">             // ordering anyway and will be overwritten on the next item write.</span>
<a href="#l81.40"></a><span id="l81.40" class="difflineat">@@ -1522,16 +1523,17 @@ upgrade.v22 = function upgrade_v22(db, v</span>
<a href="#l81.41"></a><span id="l81.41">                             [&quot;attendee_id&quot;, &quot;common_name&quot;, &quot;rsvp&quot;, &quot;role&quot;,</span>
<a href="#l81.42"></a><span id="l81.42">                              &quot;status&quot;, &quot;type&quot;, &quot;is_organizer&quot;, &quot;properties&quot;], db);</span>
<a href="#l81.43"></a><span id="l81.43"> </span>
<a href="#l81.44"></a><span id="l81.44">         // Update recurrence table to using icalString directly</span>
<a href="#l81.45"></a><span id="l81.45">         createFunction(db, &quot;translateRecurrence&quot;, 17, {</span>
<a href="#l81.46"></a><span id="l81.46">             onFunctionCall: function translateRecurrence(storArgs) {</span>
<a href="#l81.47"></a><span id="l81.47">                 function parseInt10(x) { return parseInt(x, 10); }</span>
<a href="#l81.48"></a><span id="l81.48">                 try {</span>
<a href="#l81.49"></a><span id="l81.49" class="difflineplus">+                    // eslint-disable-next-line no-unused-vars</span>
<a href="#l81.50"></a><span id="l81.50">                     let [aIndex, aType, aIsNegative, aDates, aCount,</span>
<a href="#l81.51"></a><span id="l81.51">                          aEndDate, aInterval, aSecond, aMinute, aHour,</span>
<a href="#l81.52"></a><span id="l81.52">                          aDay, aMonthday, aYearday, aWeekno, aMonth,</span>
<a href="#l81.53"></a><span id="l81.53">                          aSetPos, aTmpFlags] = mapStorageArgs(storArgs);</span>
<a href="#l81.54"></a><span id="l81.54"> </span>
<a href="#l81.55"></a><span id="l81.55">                     let ritem;</span>
<a href="#l81.56"></a><span id="l81.56">                     if (aType == &quot;x-date&quot;) {</span>
<a href="#l81.57"></a><span id="l81.57">                         ritem = Components.classes[&quot;@mozilla.org/calendar/recurrence-date;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l82.1"></a><span id="l82.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapCalendarItems.js</span>
<a href="#l82.2"></a><span id="l82.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapCalendarItems.js</span>
<a href="#l82.3"></a><span id="l82.3" class="difflineat">@@ -267,21 +267,23 @@ function diffProperty(newItem, oldItem, </span>
<a href="#l82.4"></a><span id="l82.4">         }</span>
<a href="#l82.5"></a><span id="l82.5">         if (val == oldVal) {</span>
<a href="#l82.6"></a><span id="l82.6">             val = null;</span>
<a href="#l82.7"></a><span id="l82.7">         }</span>
<a href="#l82.8"></a><span id="l82.8">     }</span>
<a href="#l82.9"></a><span id="l82.9">     return val;</span>
<a href="#l82.10"></a><span id="l82.10"> }</span>
<a href="#l82.11"></a><span id="l82.11"> </span>
<a href="#l82.12"></a><span id="l82.12" class="difflineplus">+/* eslint-disable no-unused-vars */</span>
<a href="#l82.13"></a><span id="l82.13"> var METHOD_PUBLISH = 1;</span>
<a href="#l82.14"></a><span id="l82.14"> var METHOD_REQUEST = 2;</span>
<a href="#l82.15"></a><span id="l82.15"> var METHOD_REPLY = 4;</span>
<a href="#l82.16"></a><span id="l82.16"> var METHOD_CANCEL = 8;</span>
<a href="#l82.17"></a><span id="l82.17"> var METHOD_UPDATE = 256;</span>
<a href="#l82.18"></a><span id="l82.18" class="difflineplus">+/* eslint-enable no-unused-vars */</span>
<a href="#l82.19"></a><span id="l82.19"> </span>
<a href="#l82.20"></a><span id="l82.20"> calWcapCalendar.prototype.storeItem =</span>
<a href="#l82.21"></a><span id="l82.21"> function calWcapCalendar_storeItem(bAddItem, item, oldItem, request) {</span>
<a href="#l82.22"></a><span id="l82.22">     function getOrgId(orgItem) {</span>
<a href="#l82.23"></a><span id="l82.23">         return (orgItem &amp;&amp; orgItem.organizer &amp;&amp; orgItem.organizer.id ? orgItem.organizer.id : null);</span>
<a href="#l82.24"></a><span id="l82.24">     }</span>
<a href="#l82.25"></a><span id="l82.25">     function encodeAttendees(atts) {</span>
<a href="#l82.26"></a><span id="l82.26">         function attendeeSort(one, two) {</span>
<a href="#l82.27"></a><span id="l82.27" class="difflineat">@@ -842,17 +844,16 @@ calWcapCalendar.prototype.parseItems = f</span>
<a href="#l82.28"></a><span id="l82.28">             break;</span>
<a href="#l82.29"></a><span id="l82.29">         case calICalendar.ITEM_FILTER_TYPE_EVENT:</span>
<a href="#l82.30"></a><span id="l82.30">             componentType = &quot;VEVENT&quot;;</span>
<a href="#l82.31"></a><span id="l82.31">             break;</span>
<a href="#l82.32"></a><span id="l82.32">     }</span>
<a href="#l82.33"></a><span id="l82.33"> </span>
<a href="#l82.34"></a><span id="l82.34">     let recurrenceBound = this.session.recurrenceBound;</span>
<a href="#l82.35"></a><span id="l82.35"> </span>
<a href="#l82.36"></a><span id="l82.36" class="difflineminus">-    let count = 0;</span>
<a href="#l82.37"></a><span id="l82.37">     for (let subComp of cal.ical.calendarComponentIterator(icalRootComp, componentType)) {</span>
<a href="#l82.38"></a><span id="l82.38">         let organizer = subComp.getFirstProperty(&quot;ORGANIZER&quot;);</span>
<a href="#l82.39"></a><span id="l82.39">         if (organizer &amp;&amp; organizer.getParameter(&quot;SENT-BY&quot;)) { // has SENT-BY</span>
<a href="#l82.40"></a><span id="l82.40">             // &amp;emailorcalid=1 sets wrong email, workaround setting calid...</span>
<a href="#l82.41"></a><span id="l82.41">             let id = organizer.getParameter(&quot;X-S1CS-CALID&quot;);</span>
<a href="#l82.42"></a><span id="l82.42">             if (id) {</span>
<a href="#l82.43"></a><span id="l82.43">                 organizer.value = id;</span>
<a href="#l82.44"></a><span id="l82.44">             }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l83.1"></a><span id="l83.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapCalendarModule.js</span>
<a href="#l83.2"></a><span id="l83.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapCalendarModule.js</span>
<a href="#l83.3"></a><span id="l83.3" class="difflineat">@@ -1,24 +1,32 @@</span>
<a href="#l83.4"></a><span id="l83.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l83.5"></a><span id="l83.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l83.6"></a><span id="l83.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l83.7"></a><span id="l83.7"> </span>
<a href="#l83.8"></a><span id="l83.8" class="difflineplus">+/* exported NS_OK, NS_ERROR_UNEXPECTED, nsIException, calIWcapSession,</span>
<a href="#l83.9"></a><span id="l83.9" class="difflineplus">+ *          calIWcapCalendar, calIWcapErrors, calICalendar, calIItemBase,</span>
<a href="#l83.10"></a><span id="l83.10" class="difflineplus">+ *          calIOperationListener, calIFreeBusyProvider, calIFreeBusyInterval,</span>
<a href="#l83.11"></a><span id="l83.11" class="difflineplus">+ *          calICalendarSearchProvider, calIErrors, g_privateItemTitle,</span>
<a href="#l83.12"></a><span id="l83.12" class="difflineplus">+ *          g_confidentialItemTitle, g_busyItemTitle,</span>
<a href="#l83.13"></a><span id="l83.13" class="difflineplus">+ *          g_busyPhantomItemUuidPrefix, CACHE_LAST_RESULTS,</span>
<a href="#l83.14"></a><span id="l83.14" class="difflineplus">+ *          CACHE_LAST_RESULTS_INVALIDATE, LOG_LEVEL</span>
<a href="#l83.15"></a><span id="l83.15" class="difflineplus">+ */</span>
<a href="#l83.16"></a><span id="l83.16" class="difflineplus">+</span>
<a href="#l83.17"></a><span id="l83.17"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l83.18"></a><span id="l83.18"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l83.19"></a><span id="l83.19"> </span>
<a href="#l83.20"></a><span id="l83.20"> //</span>
<a href="#l83.21"></a><span id="l83.21"> // init code for globals, prefs:</span>
<a href="#l83.22"></a><span id="l83.22"> //</span>
<a href="#l83.23"></a><span id="l83.23"> </span>
<a href="#l83.24"></a><span id="l83.24"> // constants:</span>
<a href="#l83.25"></a><span id="l83.25"> var NS_OK = Components.results.NS_OK;</span>
<a href="#l83.26"></a><span id="l83.26"> var NS_ERROR_UNEXPECTED = Components.results.NS_ERROR_UNEXPECTED;</span>
<a href="#l83.27"></a><span id="l83.27"> var nsIException = Components.interfaces.nsIException;</span>
<a href="#l83.28"></a><span id="l83.28" class="difflineminus">-var nsISupports = Components.interfaces.nsISupports;</span>
<a href="#l83.29"></a><span id="l83.29"> var calIWcapSession = Components.interfaces.calIWcapSession;</span>
<a href="#l83.30"></a><span id="l83.30"> var calIWcapCalendar = Components.interfaces.calIWcapCalendar;</span>
<a href="#l83.31"></a><span id="l83.31"> var calIWcapErrors = Components.interfaces.calIWcapErrors;</span>
<a href="#l83.32"></a><span id="l83.32"> var calICalendar = Components.interfaces.calICalendar;</span>
<a href="#l83.33"></a><span id="l83.33"> var calIItemBase = Components.interfaces.calIItemBase;</span>
<a href="#l83.34"></a><span id="l83.34"> var calIOperationListener = Components.interfaces.calIOperationListener;</span>
<a href="#l83.35"></a><span id="l83.35"> var calIFreeBusyProvider = Components.interfaces.calIFreeBusyProvider;</span>
<a href="#l83.36"></a><span id="l83.36"> var calIFreeBusyInterval = Components.interfaces.calIFreeBusyInterval;</span>
<a href="#l83.37"></a><span id="l83.37" class="difflineat">@@ -74,9 +82,9 @@ function getComponents() {</span>
<a href="#l83.38"></a><span id="l83.38"> </span>
<a href="#l83.39"></a><span id="l83.39">     return [</span>
<a href="#l83.40"></a><span id="l83.40">         calWcapCalendar,</span>
<a href="#l83.41"></a><span id="l83.41">         calWcapNetworkRequest,</span>
<a href="#l83.42"></a><span id="l83.42">         calWcapSession</span>
<a href="#l83.43"></a><span id="l83.43">     ];</span>
<a href="#l83.44"></a><span id="l83.44"> }</span>
<a href="#l83.45"></a><span id="l83.45"> </span>
<a href="#l83.46"></a><span id="l83.46" class="difflineminus">-var NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, getComponents, this);</span>
<a href="#l83.47"></a><span id="l83.47" class="difflineplus">+this.NSGetFactory = cal.loadingNSGetFactory(scriptLoadOrder, getComponents, this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l84.1"></a><span id="l84.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapErrors.js</span>
<a href="#l84.2"></a><span id="l84.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapErrors.js</span>
<a href="#l84.3"></a><span id="l84.3" class="difflineat">@@ -1,12 +1,16 @@</span>
<a href="#l84.4"></a><span id="l84.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l84.5"></a><span id="l84.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l84.6"></a><span id="l84.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l84.7"></a><span id="l84.7"> </span>
<a href="#l84.8"></a><span id="l84.8" class="difflineplus">+/* exported checkErrorCode, checkWcapXmlErrno, checkWcapIcalErrno,</span>
<a href="#l84.9"></a><span id="l84.9" class="difflineplus">+ *          errorToString</span>
<a href="#l84.10"></a><span id="l84.10" class="difflineplus">+ */</span>
<a href="#l84.11"></a><span id="l84.11" class="difflineplus">+</span>
<a href="#l84.12"></a><span id="l84.12"> var NS_ERROR_INVALID_ARG = Components.results.NS_ERROR_INVALID_ARG;</span>
<a href="#l84.13"></a><span id="l84.13"> </span>
<a href="#l84.14"></a><span id="l84.14"> //</span>
<a href="#l84.15"></a><span id="l84.15"> // Common netwerk errors:</span>
<a href="#l84.16"></a><span id="l84.16"> //</span>
<a href="#l84.17"></a><span id="l84.17"> var NS_ERROR_MODULE_BASE_OFFSET = 0x45;</span>
<a href="#l84.18"></a><span id="l84.18"> var NS_ERROR_MODULE_NETWORK = 6;</span>
<a href="#l84.19"></a><span id="l84.19"> </span>
<a href="#l84.20"></a><span id="l84.20" class="difflineat">@@ -46,19 +50,16 @@ function checkErrorCode(err, rcBits, mas</span>
<a href="#l84.21"></a><span id="l84.21"> // The following error codes have been adopted from</span>
<a href="#l84.22"></a><span id="l84.22"> // xpcom/base/nsError.h</span>
<a href="#l84.23"></a><span id="l84.23"> // and ought to be defined in IDL. xxx todo</span>
<a href="#l84.24"></a><span id="l84.24"> </span>
<a href="#l84.25"></a><span id="l84.25"> // The requested action could not be completed while the networking</span>
<a href="#l84.26"></a><span id="l84.26"> // is in the offline state.</span>
<a href="#l84.27"></a><span id="l84.27"> var NS_ERROR_OFFLINE = generateNetFailure(16);</span>
<a href="#l84.28"></a><span id="l84.28"> </span>
<a href="#l84.29"></a><span id="l84.29" class="difflineminus">-// The async request completed successfully.</span>
<a href="#l84.30"></a><span id="l84.30" class="difflineminus">-var NS_BINDING_SUCCEEDED = NS_OK;</span>
<a href="#l84.31"></a><span id="l84.31" class="difflineminus">-</span>
<a href="#l84.32"></a><span id="l84.32"> var NS_BINDING_FAILED = generateNetFailure(1);</span>
<a href="#l84.33"></a><span id="l84.33"> var NS_BINDING_ABORTED = generateNetFailure(2);</span>
<a href="#l84.34"></a><span id="l84.34"> var NS_BINDING_REDIRECTED = generateNetFailure(3);</span>
<a href="#l84.35"></a><span id="l84.35"> var NS_BINDING_RETARGETED = generateNetFailure(4);</span>
<a href="#l84.36"></a><span id="l84.36"> </span>
<a href="#l84.37"></a><span id="l84.37"> var g_nsNetErrorCodes = [</span>
<a href="#l84.38"></a><span id="l84.38">     NS_BINDING_FAILED,</span>
<a href="#l84.39"></a><span id="l84.39">     &quot;The async request failed for some unknown reason.&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l85.1"></a><span id="l85.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapRequest.js</span>
<a href="#l85.2"></a><span id="l85.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapRequest.js</span>
<a href="#l85.3"></a><span id="l85.3" class="difflineat">@@ -12,16 +12,18 @@</span>
<a href="#l85.4"></a><span id="l85.4">    The response function gets the ended request as first parameter to check</span>
<a href="#l85.5"></a><span id="l85.5">    whether the request has been successful and get its data.</span>
<a href="#l85.6"></a><span id="l85.6">    The request function itself may return either</span>
<a href="#l85.7"></a><span id="l85.7">    - a further calIOperation request object, i.e. an async continuation</span>
<a href="#l85.8"></a><span id="l85.8">    - some data (incl null/undefined) which is the result of the async function,</span>
<a href="#l85.9"></a><span id="l85.9">      indicating that there is no further continuation</span>
<a href="#l85.10"></a><span id="l85.10"> */</span>
<a href="#l85.11"></a><span id="l85.11"> </span>
<a href="#l85.12"></a><span id="l85.12" class="difflineplus">+/* exported issueNetworkRequest, getWcapRequestStatusString, stringToIcal, stringToXml */</span>
<a href="#l85.13"></a><span id="l85.13" class="difflineplus">+</span>
<a href="#l85.14"></a><span id="l85.14"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l85.15"></a><span id="l85.15"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l85.16"></a><span id="l85.16"> </span>
<a href="#l85.17"></a><span id="l85.17"> function generateRequestId() {</span>
<a href="#l85.18"></a><span id="l85.18">     if (!generateRequestId.mRequestPrefix) {</span>
<a href="#l85.19"></a><span id="l85.19">         generateRequestId.mRequestPrefix = (cal.getUUID() + &quot;-&quot;);</span>
<a href="#l85.20"></a><span id="l85.20">         generateRequestId.mRequestId = 0;</span>
<a href="#l85.21"></a><span id="l85.21">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l86.1"></a><span id="l86.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapSession.js</span>
<a href="#l86.2"></a><span id="l86.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapSession.js</span>
<a href="#l86.3"></a><span id="l86.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l86.4"></a><span id="l86.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l86.5"></a><span id="l86.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l86.6"></a><span id="l86.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l86.7"></a><span id="l86.7"> </span>
<a href="#l86.8"></a><span id="l86.8" class="difflineplus">+/* exported getWcapSessionFor */</span>
<a href="#l86.9"></a><span id="l86.9" class="difflineplus">+</span>
<a href="#l86.10"></a><span id="l86.10"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l86.11"></a><span id="l86.11"> Components.utils.import(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;);</span>
<a href="#l86.12"></a><span id="l86.12"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l86.13"></a><span id="l86.13"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l86.14"></a><span id="l86.14"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l86.15"></a><span id="l86.15"> </span>
<a href="#l86.16"></a><span id="l86.16"> function calWcapTimezone(tzProvider, tzid_, component_) {</span>
<a href="#l86.17"></a><span id="l86.17">     this.wrappedJSObject = this;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l87.1"></a><span id="l87.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapUtils.js</span>
<a href="#l87.2"></a><span id="l87.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapUtils.js</span>
<a href="#l87.3"></a><span id="l87.3" class="difflineat">@@ -1,12 +1,16 @@</span>
<a href="#l87.4"></a><span id="l87.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l87.5"></a><span id="l87.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l87.6"></a><span id="l87.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l87.7"></a><span id="l87.7"> </span>
<a href="#l87.8"></a><span id="l87.8" class="difflineplus">+/* exported getCalendarSearchService, getDomParser, isParent, filterXmlNodes,</span>
<a href="#l87.9"></a><span id="l87.9" class="difflineplus">+ *          getIcalUTC, getDatetimeFromIcalProp</span>
<a href="#l87.10"></a><span id="l87.10" class="difflineplus">+ */</span>
<a href="#l87.11"></a><span id="l87.11" class="difflineplus">+</span>
<a href="#l87.12"></a><span id="l87.12"> Components.utils.import(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;);</span>
<a href="#l87.13"></a><span id="l87.13"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l87.14"></a><span id="l87.14"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l87.15"></a><span id="l87.15"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l87.16"></a><span id="l87.16"> </span>
<a href="#l87.17"></a><span id="l87.17"> var g_bShutdown = false;</span>
<a href="#l87.18"></a><span id="l87.18"> </span>
<a href="#l87.19"></a><span id="l87.19"> function initLogging() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l88.1"></a><span id="l88.1" class="difflineminus">--- a/calendar/resources/content/calendarCreation.js</span>
<a href="#l88.2"></a><span id="l88.2" class="difflineplus">+++ b/calendar/resources/content/calendarCreation.js</span>
<a href="#l88.3"></a><span id="l88.3" class="difflineat">@@ -1,13 +1,17 @@</span>
<a href="#l88.4"></a><span id="l88.4"> /* -*- Mode: javascript; tab-width: 20; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l88.5"></a><span id="l88.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l88.6"></a><span id="l88.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l88.7"></a><span id="l88.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l88.8"></a><span id="l88.8"> </span>
<a href="#l88.9"></a><span id="l88.9" class="difflineplus">+/* exported initLocationPage, initCustomizePage, onSelectProvider,</span>
<a href="#l88.10"></a><span id="l88.10" class="difflineplus">+ *          onInitialAdvance, doCreateCalendar, setCanRewindFalse</span>
<a href="#l88.11"></a><span id="l88.11" class="difflineplus">+ */</span>
<a href="#l88.12"></a><span id="l88.12" class="difflineplus">+</span>
<a href="#l88.13"></a><span id="l88.13"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l88.14"></a><span id="l88.14"> </span>
<a href="#l88.15"></a><span id="l88.15"> var gCalendar;</span>
<a href="#l88.16"></a><span id="l88.16"> </span>
<a href="#l88.17"></a><span id="l88.17"> var errorConstants = {</span>
<a href="#l88.18"></a><span id="l88.18">     SUCCESS: 0,</span>
<a href="#l88.19"></a><span id="l88.19">     INVALID_URI: 1,</span>
<a href="#l88.20"></a><span id="l88.20">     ALREADY_EXISTS: 2</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l89.1"></a><span id="l89.1" class="difflineminus">--- a/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l89.2"></a><span id="l89.2" class="difflineplus">+++ b/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l89.3"></a><span id="l89.3" class="difflineat">@@ -1714,31 +1714,28 @@</span>
<a href="#l89.4"></a><span id="l89.4"> </span>
<a href="#l89.5"></a><span id="l89.5">             let time = null;</span>
<a href="#l89.6"></a><span id="l89.6">             let timePartsArray = this.parseTimeRegExp.exec(aValue);</span>
<a href="#l89.7"></a><span id="l89.7">             const PRE_INDEX = 1, HR_INDEX = 2, MIN_INDEX = 4, SEC_INDEX = 6, POST_INDEX = 8;</span>
<a href="#l89.8"></a><span id="l89.8"> </span>
<a href="#l89.9"></a><span id="l89.9">             if (timePartsArray != null) {</span>
<a href="#l89.10"></a><span id="l89.10">               let hoursString = timePartsArray[HR_INDEX];</span>
<a href="#l89.11"></a><span id="l89.11">               let hours = Number(hoursString);</span>
<a href="#l89.12"></a><span id="l89.12" class="difflineminus">-              let hoursSuffix = timePartsArray[HR_INDEX + 1];</span>
<a href="#l89.13"></a><span id="l89.13">               if (!(hours &gt;= 0 &amp;&amp; hours &lt; 24)) {</span>
<a href="#l89.14"></a><span id="l89.14">                 return null;</span>
<a href="#l89.15"></a><span id="l89.15">               }</span>
<a href="#l89.16"></a><span id="l89.16"> </span>
<a href="#l89.17"></a><span id="l89.17">               let minutesString = timePartsArray[MIN_INDEX];</span>
<a href="#l89.18"></a><span id="l89.18">               let minutes = (minutesString == null ? 0 : Number(minutesString));</span>
<a href="#l89.19"></a><span id="l89.19" class="difflineminus">-              let minutesSuffix = timePartsArray[MIN_INDEX + 1];</span>
<a href="#l89.20"></a><span id="l89.20">               if (!(minutes &gt;= 0 &amp;&amp; minutes &lt; 60)) {</span>
<a href="#l89.21"></a><span id="l89.21">                 return null;</span>
<a href="#l89.22"></a><span id="l89.22">               }</span>
<a href="#l89.23"></a><span id="l89.23"> </span>
<a href="#l89.24"></a><span id="l89.24">               let secondsString = timePartsArray[SEC_INDEX];</span>
<a href="#l89.25"></a><span id="l89.25">               let seconds = (secondsString == null ? 0 : Number(secondsString));</span>
<a href="#l89.26"></a><span id="l89.26" class="difflineminus">-              let secondsSuffix = timePartsArray[SEC_INDEX + 1];</span>
<a href="#l89.27"></a><span id="l89.27">               if (!(seconds &gt;= 0 &amp;&amp; seconds &lt; 60)) {</span>
<a href="#l89.28"></a><span id="l89.28">                 return null;</span>
<a href="#l89.29"></a><span id="l89.29">               }</span>
<a href="#l89.30"></a><span id="l89.30"> </span>
<a href="#l89.31"></a><span id="l89.31">               let ampmCode = null;</span>
<a href="#l89.32"></a><span id="l89.32">               if (timePartsArray[PRE_INDEX] || timePartsArray[POST_INDEX]) {</span>
<a href="#l89.33"></a><span id="l89.33">                 if (this.ampmIndex &amp;&amp; timePartsArray[this.ampmIndex]) {</span>
<a href="#l89.34"></a><span id="l89.34">                   // try current format order first</span>
<a href="#l89.35"></a><span id="l89.35" class="difflineat">@@ -1874,17 +1871,17 @@</span>
<a href="#l89.36"></a><span id="l89.36">             // Digits         HR       sep      MIN     sep      SEC     sep</span>
<a href="#l89.37"></a><span id="l89.37">             //   Index:       2        3        4       5        6       7</span>
<a href="#l89.38"></a><span id="l89.38">             let digitsExpr = &quot;(\\d?\\d)(\\D)?(?:(\\d\\d)(\\D)?(?:(\\d\\d)(\\D)?)?)?&quot;;</span>
<a href="#l89.39"></a><span id="l89.39">             // any letters or '.': non-digit alphanumeric, period (a.m.), or space (P M)</span>
<a href="#l89.40"></a><span id="l89.40">             let anyAmPmExpr = &quot;(?:[^\\d\\W]|[. ])+&quot;;</span>
<a href="#l89.41"></a><span id="l89.41">             // digitsExpr has 6 captures, so index of first ampmExpr is 1, of last is 8.</span>
<a href="#l89.42"></a><span id="l89.42">             let probeTimeRegExp =</span>
<a href="#l89.43"></a><span id="l89.43">               new RegExp(&quot;^(&quot; + anyAmPmExpr + &quot;)?\\s?&quot; + digitsExpr + &quot;(&quot; + anyAmPmExpr + &quot;)?\\s*$&quot;);</span>
<a href="#l89.44"></a><span id="l89.44" class="difflineminus">-            const PRE_INDEX = 1, HR_INDEX = 2, MIN_INDEX = 4, SEC_INDEX = 6, POST_INDEX = 8;</span>
<a href="#l89.45"></a><span id="l89.45" class="difflineplus">+            const PRE_INDEX = 1, HR_INDEX = 2, MIN_INDEX = 4, SEC_INDEX = 6, POST_INDEX = 8; // eslint-disable-line no-unused-vars</span>
<a href="#l89.46"></a><span id="l89.46">             let amProbeTime = new Date(2000, 0, 1, 6, 12, 34);</span>
<a href="#l89.47"></a><span id="l89.47">             let amProbeString = amProbeTime.toLocaleFormat(&quot;%X&quot;);</span>
<a href="#l89.48"></a><span id="l89.48">             let pmProbeTime = new Date(2000, 0, 1, 18, 12, 34);</span>
<a href="#l89.49"></a><span id="l89.49">             let pmProbeString = pmProbeTime.toLocaleFormat(&quot;%X&quot;);</span>
<a href="#l89.50"></a><span id="l89.50">             let amFormatExpr = null, pmFormatExpr = null;</span>
<a href="#l89.51"></a><span id="l89.51">             if (amProbeString != pmProbeString) {</span>
<a href="#l89.52"></a><span id="l89.52">               let amProbeArray = probeTimeRegExp.exec(amProbeString);</span>
<a href="#l89.53"></a><span id="l89.53">               let pmProbeArray = probeTimeRegExp.exec(pmProbeString);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l90.1"></a><span id="l90.1" class="difflineminus">--- a/calendar/resources/content/mouseoverPreviews.js</span>
<a href="#l90.2"></a><span id="l90.2" class="difflineplus">+++ b/calendar/resources/content/mouseoverPreviews.js</span>
<a href="#l90.3"></a><span id="l90.3" class="difflineat">@@ -6,16 +6,18 @@</span>
<a href="#l90.4"></a><span id="l90.4">  * Code which generates event and task (todo) preview tooltips/titletips</span>
<a href="#l90.5"></a><span id="l90.5">  *  when the mouse hovers over either the event list, the task list, or</span>
<a href="#l90.6"></a><span id="l90.6">  *  an event or task box in one of the grid views.</span>
<a href="#l90.7"></a><span id="l90.7">  *</span>
<a href="#l90.8"></a><span id="l90.8">  *   (Portions of this code were previously in calendar.js and unifinder.js,</span>
<a href="#l90.9"></a><span id="l90.9">  *   some of it duplicated.)</span>
<a href="#l90.10"></a><span id="l90.10">  */</span>
<a href="#l90.11"></a><span id="l90.11"> </span>
<a href="#l90.12"></a><span id="l90.12" class="difflineplus">+/* exported onMouseOverItem, showToolTip */</span>
<a href="#l90.13"></a><span id="l90.13" class="difflineplus">+</span>
<a href="#l90.14"></a><span id="l90.14"> /** PUBLIC</span>
<a href="#l90.15"></a><span id="l90.15">  *</span>
<a href="#l90.16"></a><span id="l90.16">  *  This changes the mouseover preview based on the start and end dates</span>
<a href="#l90.17"></a><span id="l90.17">  *  of an occurrence of a (one-time or recurring) calEvent or calToDo.</span>
<a href="#l90.18"></a><span id="l90.18">  *  Used by all grid views.</span>
<a href="#l90.19"></a><span id="l90.19">  */</span>
<a href="#l90.20"></a><span id="l90.20"> </span>
<a href="#l90.21"></a><span id="l90.21"> function onMouseOverItem(occurrenceBoxMouseEvent) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l91.1"></a><span id="l91.1" class="difflineminus">--- a/calendar/resources/content/publish.js</span>
<a href="#l91.2"></a><span id="l91.2" class="difflineplus">+++ b/calendar/resources/content/publish.js</span>
<a href="#l91.3"></a><span id="l91.3" class="difflineat">@@ -1,13 +1,16 @@</span>
<a href="#l91.4"></a><span id="l91.4" class="difflineminus">-/* -*- Mode: Java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */</span>
<a href="#l91.5"></a><span id="l91.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l91.6"></a><span id="l91.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l91.7"></a><span id="l91.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l91.8"></a><span id="l91.8"> </span>
<a href="#l91.9"></a><span id="l91.9" class="difflineplus">+/* exported publishCalendarData, publishCalendarDataDialogResponse,</span>
<a href="#l91.10"></a><span id="l91.10" class="difflineplus">+ *          publishEntireCalendar, publishEntireCalendarDialogResponse</span>
<a href="#l91.11"></a><span id="l91.11" class="difflineplus">+ */</span>
<a href="#l91.12"></a><span id="l91.12" class="difflineplus">+</span>
<a href="#l91.13"></a><span id="l91.13"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l91.14"></a><span id="l91.14"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l91.15"></a><span id="l91.15"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l91.16"></a><span id="l91.16"> </span>
<a href="#l91.17"></a><span id="l91.17"> /**</span>
<a href="#l91.18"></a><span id="l91.18">  * publishCalendarData</span>
<a href="#l91.19"></a><span id="l91.19">  * Show publish dialog, ask for URL and publish all selected items.</span>
<a href="#l91.20"></a><span id="l91.20">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l92.1"></a><span id="l92.1" class="difflineminus">--- a/calendar/resources/content/publishDialog.js</span>
<a href="#l92.2"></a><span id="l92.2" class="difflineplus">+++ b/calendar/resources/content/publishDialog.js</span>
<a href="#l92.3"></a><span id="l92.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l92.4"></a><span id="l92.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l92.5"></a><span id="l92.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l92.6"></a><span id="l92.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l92.7"></a><span id="l92.7"> </span>
<a href="#l92.8"></a><span id="l92.8" class="difflineplus">+/* exported loadCalendarPublishDialog, onOKCommand, closeDialog */</span>
<a href="#l92.9"></a><span id="l92.9" class="difflineplus">+</span>
<a href="#l92.10"></a><span id="l92.10"> var gOnOkFunction;   // function to be called when user clicks OK</span>
<a href="#l92.11"></a><span id="l92.11"> var gPublishObject;</span>
<a href="#l92.12"></a><span id="l92.12"> </span>
<a href="#l92.13"></a><span id="l92.13"> /**</span>
<a href="#l92.14"></a><span id="l92.14"> *   Called when the dialog is loaded.</span>
<a href="#l92.15"></a><span id="l92.15"> */</span>
<a href="#l92.16"></a><span id="l92.16"> function loadCalendarPublishDialog() {</span>
<a href="#l92.17"></a><span id="l92.17">    // Get arguments, see description at top of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l93.1"></a><span id="l93.1">new file mode 100644</span>
<a href="#l93.2"></a><span id="l93.2" class="difflineminus">--- /dev/null</span>
<a href="#l93.3"></a><span id="l93.3" class="difflineplus">+++ b/calendar/test/mozmill/.eslintrc</span>
<a href="#l93.4"></a><span id="l93.4" class="difflineat">@@ -0,0 +1,20 @@</span>
<a href="#l93.5"></a><span id="l93.5" class="difflineplus">+{</span>
<a href="#l93.6"></a><span id="l93.6" class="difflineplus">+  &quot;globals&quot;: {</span>
<a href="#l93.7"></a><span id="l93.7" class="difflineplus">+    &quot;elementslib&quot;: true,</span>
<a href="#l93.8"></a><span id="l93.8" class="difflineplus">+    &quot;controller&quot;: true,</span>
<a href="#l93.9"></a><span id="l93.9" class="difflineplus">+    &quot;mozmill&quot;: true,</span>
<a href="#l93.10"></a><span id="l93.10" class="difflineplus">+    &quot;utils&quot;: true,</span>
<a href="#l93.11"></a><span id="l93.11" class="difflineplus">+    &quot;require&quot;: true,</span>
<a href="#l93.12"></a><span id="l93.12" class="difflineplus">+    &quot;exports&quot;: true,</span>
<a href="#l93.13"></a><span id="l93.13" class="difflineplus">+    &quot;module&quot;: true</span>
<a href="#l93.14"></a><span id="l93.14" class="difflineplus">+  },</span>
<a href="#l93.15"></a><span id="l93.15" class="difflineplus">+  &quot;rules&quot;: {</span>
<a href="#l93.16"></a><span id="l93.16" class="difflineplus">+    // Allow mozmill test methods to be used without warning</span>
<a href="#l93.17"></a><span id="l93.17" class="difflineplus">+    &quot;no-unused-vars&quot;: [2, {</span>
<a href="#l93.18"></a><span id="l93.18" class="difflineplus">+      &quot;vars&quot;: &quot;all&quot;,</span>
<a href="#l93.19"></a><span id="l93.19" class="difflineplus">+      &quot;args&quot;: &quot;none&quot;,</span>
<a href="#l93.20"></a><span id="l93.20" class="difflineplus">+      &quot;varsIgnorePattern&quot;: &quot;(MODULE_NAME|MODULE_REQUIRES|RELATIVE_ROOT|setupModule|teardownTest|^test[A-Z].*)&quot;</span>
<a href="#l93.21"></a><span id="l93.21" class="difflineplus">+      }</span>
<a href="#l93.22"></a><span id="l93.22" class="difflineplus">+    ]</span>
<a href="#l93.23"></a><span id="l93.23" class="difflineplus">+  }</span>
<a href="#l93.24"></a><span id="l93.24" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l94.1"></a><span id="l94.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l94.2"></a><span id="l94.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l94.3"></a><span id="l94.3" class="difflineat">@@ -8,17 +8,16 @@ var utils = require(&quot;../shared-modules/u</span>
<a href="#l94.4"></a><span id="l94.4"> </span>
<a href="#l94.5"></a><span id="l94.5"> var sleep = 500;</span>
<a href="#l94.6"></a><span id="l94.6"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l94.7"></a><span id="l94.7"> var title = &quot;Event&quot;;</span>
<a href="#l94.8"></a><span id="l94.8"> var location = &quot;Location&quot;;</span>
<a href="#l94.9"></a><span id="l94.9"> var desc = &quot;Event Decription&quot;;</span>
<a href="#l94.10"></a><span id="l94.10"> var attendee = &quot;foo@bar.com&quot;;</span>
<a href="#l94.11"></a><span id="l94.11"> var url = &quot;http://mozilla.org&quot;;</span>
<a href="#l94.12"></a><span id="l94.12" class="difflineminus">-var tmp;</span>
<a href="#l94.13"></a><span id="l94.13"> </span>
<a href="#l94.14"></a><span id="l94.14"> var setupModule = function(module) {</span>
<a href="#l94.15"></a><span id="l94.15">   controller = mozmill.getMail3PaneController();</span>
<a href="#l94.16"></a><span id="l94.16">   calUtils.createCalendar(controller, calendar);</span>
<a href="#l94.17"></a><span id="l94.17"> };</span>
<a href="#l94.18"></a><span id="l94.18"> </span>
<a href="#l94.19"></a><span id="l94.19"> var testEventDialog = function() {</span>
<a href="#l94.20"></a><span id="l94.20">   // paths</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l95.1"></a><span id="l95.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l95.2"></a><span id="l95.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l95.3"></a><span id="l95.3" class="difflineat">@@ -3,19 +3,16 @@</span>
<a href="#l95.4"></a><span id="l95.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l95.5"></a><span id="l95.5"> </span>
<a href="#l95.6"></a><span id="l95.6"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l95.7"></a><span id="l95.7"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l95.8"></a><span id="l95.8"> var prefs = require(&quot;../shared-modules/prefs&quot;);</span>
<a href="#l95.9"></a><span id="l95.9"> </span>
<a href="#l95.10"></a><span id="l95.10"> var sleep = 500;</span>
<a href="#l95.11"></a><span id="l95.11"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l95.12"></a><span id="l95.12" class="difflineminus">-var title = &quot;Title&quot;;</span>
<a href="#l95.13"></a><span id="l95.13" class="difflineminus">-var location = &quot;Location&quot;;</span>
<a href="#l95.14"></a><span id="l95.14" class="difflineminus">-var description = &quot;Description\ncontinuing&quot;;</span>
<a href="#l95.15"></a><span id="l95.15"> var pass;</span>
<a href="#l95.16"></a><span id="l95.16"> var date1 = new Date(2009, 0, 1, 8, 0);</span>
<a href="#l95.17"></a><span id="l95.17"> var date2 = new Date(2009, 0, 2, 9, 0);</span>
<a href="#l95.18"></a><span id="l95.18"> var date3 = new Date(2009, 0, 3, 10, 0);</span>
<a href="#l95.19"></a><span id="l95.19"> var data = [{title: &quot;title1&quot;, location: &quot;location1&quot;, description: &quot;description1&quot;, allday: false,</span>
<a href="#l95.20"></a><span id="l95.20">              startdate: date1, starttime: date1, enddate: date2, endtime: date2, repeat: &quot;none&quot;,</span>
<a href="#l95.21"></a><span id="l95.21">              reminder: 0, priority: &quot;normal&quot;, privacy: &quot;public&quot;, status: &quot;confirmed&quot;,</span>
<a href="#l95.22"></a><span id="l95.22">              freebusy: &quot;busy&quot;, timezone: true, attachment: {add: &quot;http://mozilla.org&quot;}},</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l96.1"></a><span id="l96.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/timezone-utils.js</span>
<a href="#l96.2"></a><span id="l96.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/timezone-utils.js</span>
<a href="#l96.3"></a><span id="l96.3" class="difflineat">@@ -1,17 +1,15 @@</span>
<a href="#l96.4"></a><span id="l96.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l96.5"></a><span id="l96.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l96.6"></a><span id="l96.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l96.7"></a><span id="l96.7"> </span>
<a href="#l96.8"></a><span id="l96.8"> var calUtils = require(&quot;calendar-utils&quot;);</span>
<a href="#l96.9"></a><span id="l96.9"> var prefs = require(&quot;prefs&quot;);</span>
<a href="#l96.10"></a><span id="l96.10"> </span>
<a href="#l96.11"></a><span id="l96.11" class="difflineminus">-var sleep = 500;</span>
<a href="#l96.12"></a><span id="l96.12" class="difflineminus">-</span>
<a href="#l96.13"></a><span id="l96.13"> function switchAppTimezone(timezone) {</span>
<a href="#l96.14"></a><span id="l96.14">   // change directly as Mac has different Lookup &amp; XPath than Windows &amp; Linux, bug 536605</span>
<a href="#l96.15"></a><span id="l96.15">   prefs.preferences.setPref(&quot;calendar.timezone.local&quot;, timezone);</span>
<a href="#l96.16"></a><span id="l96.16"> }</span>
<a href="#l96.17"></a><span id="l96.17"> </span>
<a href="#l96.18"></a><span id="l96.18"> function verify(controller, dates, timezones, times) {</span>
<a href="#l96.19"></a><span id="l96.19">   let dayView = '/id(&quot;messengerWindow&quot;)/id(&quot;tabmail-container&quot;)/id(&quot;tabmail&quot;)/'</span>
<a href="#l96.20"></a><span id="l96.20">     + 'id(&quot;tabpanelcontainer&quot;)/id(&quot;calendarTabPanel&quot;)/id(&quot;calendarContent&quot;)/'</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l97.1"></a><span id="l97.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test10.js</span>
<a href="#l97.2"></a><span id="l97.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test10.js</span>
<a href="#l97.3"></a><span id="l97.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l97.4"></a><span id="l97.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l97.5"></a><span id="l97.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l97.6"></a><span id="l97.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l97.7"></a><span id="l97.7"> </span>
<a href="#l97.8"></a><span id="l97.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l97.9"></a><span id="l97.9"> var prefs = require(&quot;../shared-modules/prefs&quot;);</span>
<a href="#l97.10"></a><span id="l97.10"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l97.11"></a><span id="l97.11"> </span>
<a href="#l97.12"></a><span id="l97.12" class="difflineminus">-var sleep = 500;</span>
<a href="#l97.13"></a><span id="l97.13"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l97.14"></a><span id="l97.14"> var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l97.15"></a><span id="l97.15">              [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l97.16"></a><span id="l97.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l97.17"></a><span id="l97.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l97.18"></a><span id="l97.18"> /* rows - dates</span>
<a href="#l97.19"></a><span id="l97.19">    columns - correct time for each event */</span>
<a href="#l97.20"></a><span id="l97.20"> var times = [[[18, 30], [19, 30], [20, 30], [21, 30], [22, 30], [23, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l97.21"></a><span id="l97.21" class="difflineat">@@ -23,18 +22,16 @@ var times = [[[18, 30], [19, 30], [20, 3</span>
<a href="#l97.22"></a><span id="l97.22">              [[17, 30], [19, 30], [20, 30], [20, 30], [22, 30], [23, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l97.23"></a><span id="l97.23">              [[18, 30], [19, 30], [20, 30], [21, 30], [22, 30], [23, 30], [0, 30, +1], [1, 30, +1]]];</span>
<a href="#l97.24"></a><span id="l97.24"> </span>
<a href="#l97.25"></a><span id="l97.25"> var setupModule = function(module) {</span>
<a href="#l97.26"></a><span id="l97.26">   controller = mozmill.getMail3PaneController();</span>
<a href="#l97.27"></a><span id="l97.27"> };</span>
<a href="#l97.28"></a><span id="l97.28"> </span>
<a href="#l97.29"></a><span id="l97.29"> var testTimezones10_checkAdelaide = function() {</span>
<a href="#l97.30"></a><span id="l97.30" class="difflineminus">-  let eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l97.31"></a><span id="l97.31" class="difflineminus">-</span>
<a href="#l97.32"></a><span id="l97.32">   controller.click(new elementslib.ID(controller.window.document, &quot;calendar-tab-button&quot;));</span>
<a href="#l97.33"></a><span id="l97.33">   calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l97.34"></a><span id="l97.34">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l97.35"></a><span id="l97.35"> </span>
<a href="#l97.36"></a><span id="l97.36">   timezoneUtils.verify(controller, dates, timezones, times);</span>
<a href="#l97.37"></a><span id="l97.37"> };</span>
<a href="#l97.38"></a><span id="l97.38"> </span>
<a href="#l97.39"></a><span id="l97.39"> var teardownTest = function(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l98.1"></a><span id="l98.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test2.js</span>
<a href="#l98.2"></a><span id="l98.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test2.js</span>
<a href="#l98.3"></a><span id="l98.3" class="difflineat">@@ -2,17 +2,16 @@</span>
<a href="#l98.4"></a><span id="l98.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l98.5"></a><span id="l98.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l98.6"></a><span id="l98.6"> </span>
<a href="#l98.7"></a><span id="l98.7"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l98.8"></a><span id="l98.8"> var modalDialog = require(&quot;../shared-modules/modal-dialog&quot;);</span>
<a href="#l98.9"></a><span id="l98.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l98.10"></a><span id="l98.10"> </span>
<a href="#l98.11"></a><span id="l98.11"> var sleep = 500;</span>
<a href="#l98.12"></a><span id="l98.12" class="difflineminus">-var calendar = &quot;Mozmill&quot;;</span>
<a href="#l98.13"></a><span id="l98.13"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l98.14"></a><span id="l98.14">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l98.15"></a><span id="l98.15"> var times = [[4, 30], [4, 30], [3, 0], [3, 0], [9, 0], [14, 0], [19, 45], [1, 30]];</span>
<a href="#l98.16"></a><span id="l98.16"> var gTimezone;</span>
<a href="#l98.17"></a><span id="l98.17"> </span>
<a href="#l98.18"></a><span id="l98.18"> var setupModule = function(module) {</span>
<a href="#l98.19"></a><span id="l98.19">   controller = mozmill.getMail3PaneController();</span>
<a href="#l98.20"></a><span id="l98.20"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l99.1"></a><span id="l99.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test3.js</span>
<a href="#l99.2"></a><span id="l99.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test3.js</span>
<a href="#l99.3"></a><span id="l99.3" class="difflineat">@@ -1,17 +1,15 @@</span>
<a href="#l99.4"></a><span id="l99.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l99.5"></a><span id="l99.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l99.6"></a><span id="l99.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l99.7"></a><span id="l99.7"> </span>
<a href="#l99.8"></a><span id="l99.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l99.9"></a><span id="l99.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l99.10"></a><span id="l99.10"> </span>
<a href="#l99.11"></a><span id="l99.11" class="difflineminus">-var sleep = 500;</span>
<a href="#l99.12"></a><span id="l99.12" class="difflineminus">-var calendar = &quot;Mozmill&quot;;</span>
<a href="#l99.13"></a><span id="l99.13"> var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l99.14"></a><span id="l99.14">              [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l99.15"></a><span id="l99.15"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l99.16"></a><span id="l99.16">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l99.17"></a><span id="l99.17"> /* rows - dates</span>
<a href="#l99.18"></a><span id="l99.18">    columns - correct time for each event */</span>
<a href="#l99.19"></a><span id="l99.19"> var times = [[[4, 30], [5, 30], [6, 30], [7, 30], [8, 30], [9, 30], [10, 30], [11, 30]],</span>
<a href="#l99.20"></a><span id="l99.20">              [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [12, 30]],</span>
<a href="#l99.21"></a><span id="l99.21" class="difflineat">@@ -22,18 +20,16 @@ var times = [[[4, 30], [5, 30], [6, 30],</span>
<a href="#l99.22"></a><span id="l99.22">              [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [10, 30], [11, 30], [12, 30]],</span>
<a href="#l99.23"></a><span id="l99.23">              [[4, 30], [5, 30], [6, 30], [7, 30], [8, 30], [9, 30], [10, 30], [11, 30]]];</span>
<a href="#l99.24"></a><span id="l99.24"> </span>
<a href="#l99.25"></a><span id="l99.25"> var setupModule = function(module) {</span>
<a href="#l99.26"></a><span id="l99.26">   controller = mozmill.getMail3PaneController();</span>
<a href="#l99.27"></a><span id="l99.27"> };</span>
<a href="#l99.28"></a><span id="l99.28"> </span>
<a href="#l99.29"></a><span id="l99.29"> var testTimezones3_checkStJohns = function() {</span>
<a href="#l99.30"></a><span id="l99.30" class="difflineminus">-  let eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l99.31"></a><span id="l99.31" class="difflineminus">-</span>
<a href="#l99.32"></a><span id="l99.32">   controller.click(new elementslib.ID(controller.window.document, &quot;calendar-tab-button&quot;));</span>
<a href="#l99.33"></a><span id="l99.33">   calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l99.34"></a><span id="l99.34">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l99.35"></a><span id="l99.35"> </span>
<a href="#l99.36"></a><span id="l99.36">   timezoneUtils.verify(controller, dates, timezones, times);</span>
<a href="#l99.37"></a><span id="l99.37"> };</span>
<a href="#l99.38"></a><span id="l99.38"> </span>
<a href="#l99.39"></a><span id="l99.39"> var teardownTest = function(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l100.1"></a><span id="l100.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test4.js</span>
<a href="#l100.2"></a><span id="l100.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test4.js</span>
<a href="#l100.3"></a><span id="l100.3" class="difflineat">@@ -1,17 +1,15 @@</span>
<a href="#l100.4"></a><span id="l100.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l100.5"></a><span id="l100.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l100.6"></a><span id="l100.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l100.7"></a><span id="l100.7"> </span>
<a href="#l100.8"></a><span id="l100.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l100.9"></a><span id="l100.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l100.10"></a><span id="l100.10"> </span>
<a href="#l100.11"></a><span id="l100.11" class="difflineminus">-var sleep = 500;</span>
<a href="#l100.12"></a><span id="l100.12" class="difflineminus">-var calendar = &quot;Mozmill&quot;;</span>
<a href="#l100.13"></a><span id="l100.13"> var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l100.14"></a><span id="l100.14">              [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l100.15"></a><span id="l100.15"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l100.16"></a><span id="l100.16">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l100.17"></a><span id="l100.17"> /* rows - dates</span>
<a href="#l100.18"></a><span id="l100.18">    columns - correct time for each event */</span>
<a href="#l100.19"></a><span id="l100.19"> var times = [[[3, 30], [4, 30], [5, 30], [6, 30], [7, 30], [8, 30], [9, 30], [10, 30]],</span>
<a href="#l100.20"></a><span id="l100.20">              [[2, 30], [4, 30], [5, 30], [5, 30], [7, 30], [7, 30], [9, 30], [10, 30]],</span>
<a href="#l100.21"></a><span id="l100.21" class="difflineat">@@ -22,18 +20,16 @@ var times = [[[3, 30], [4, 30], [5, 30],</span>
<a href="#l100.22"></a><span id="l100.22">              [[2, 30], [4, 30], [5, 30], [5, 30], [7, 30], [8, 30], [9, 30], [10, 30]],</span>
<a href="#l100.23"></a><span id="l100.23">              [[3, 30], [4, 30], [5, 30], [6, 30], [7, 30], [8, 30], [9, 30], [10, 30]]];</span>
<a href="#l100.24"></a><span id="l100.24"> </span>
<a href="#l100.25"></a><span id="l100.25"> var setupModule = function(module) {</span>
<a href="#l100.26"></a><span id="l100.26">   controller = mozmill.getMail3PaneController();</span>
<a href="#l100.27"></a><span id="l100.27"> };</span>
<a href="#l100.28"></a><span id="l100.28"> </span>
<a href="#l100.29"></a><span id="l100.29"> var testTimezones4_checkCaracas = function() {</span>
<a href="#l100.30"></a><span id="l100.30" class="difflineminus">-  let eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l100.31"></a><span id="l100.31" class="difflineminus">-</span>
<a href="#l100.32"></a><span id="l100.32">   controller.click(new elementslib.ID(controller.window.document, &quot;calendar-tab-button&quot;));</span>
<a href="#l100.33"></a><span id="l100.33">   calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l100.34"></a><span id="l100.34">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l100.35"></a><span id="l100.35"> </span>
<a href="#l100.36"></a><span id="l100.36">   timezoneUtils.verify(controller, dates, timezones, times);</span>
<a href="#l100.37"></a><span id="l100.37"> };</span>
<a href="#l100.38"></a><span id="l100.38"> </span>
<a href="#l100.39"></a><span id="l100.39"> var teardownTest = function(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l101.1"></a><span id="l101.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test5.js</span>
<a href="#l101.2"></a><span id="l101.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test5.js</span>
<a href="#l101.3"></a><span id="l101.3" class="difflineat">@@ -1,17 +1,15 @@</span>
<a href="#l101.4"></a><span id="l101.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l101.5"></a><span id="l101.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l101.6"></a><span id="l101.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l101.7"></a><span id="l101.7"> </span>
<a href="#l101.8"></a><span id="l101.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l101.9"></a><span id="l101.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l101.10"></a><span id="l101.10"> </span>
<a href="#l101.11"></a><span id="l101.11" class="difflineminus">-var sleep = 500;</span>
<a href="#l101.12"></a><span id="l101.12" class="difflineminus">-var calendar = &quot;Mozmill&quot;;</span>
<a href="#l101.13"></a><span id="l101.13"> var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l101.14"></a><span id="l101.14">              [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l101.15"></a><span id="l101.15"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l101.16"></a><span id="l101.16">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l101.17"></a><span id="l101.17"> /* rows - dates</span>
<a href="#l101.18"></a><span id="l101.18">    columns - correct time for each event */</span>
<a href="#l101.19"></a><span id="l101.19"> var times = [[[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0]],</span>
<a href="#l101.20"></a><span id="l101.20">              [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [8, 0]],</span>
<a href="#l101.21"></a><span id="l101.21" class="difflineat">@@ -22,18 +20,16 @@ var times = [[[1, 0], [2, 0], [3, 0], [4</span>
<a href="#l101.22"></a><span id="l101.22">              [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [6, 0], [7, 0], [8, 0]],</span>
<a href="#l101.23"></a><span id="l101.23">              [[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0]]];</span>
<a href="#l101.24"></a><span id="l101.24"> </span>
<a href="#l101.25"></a><span id="l101.25"> var setupModule = function(module) {</span>
<a href="#l101.26"></a><span id="l101.26">   controller = mozmill.getMail3PaneController();</span>
<a href="#l101.27"></a><span id="l101.27"> };</span>
<a href="#l101.28"></a><span id="l101.28"> </span>
<a href="#l101.29"></a><span id="l101.29"> var testTimezones5_checkPhoenix = function() {</span>
<a href="#l101.30"></a><span id="l101.30" class="difflineminus">-  let eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l101.31"></a><span id="l101.31" class="difflineminus">-</span>
<a href="#l101.32"></a><span id="l101.32">   controller.click(new elementslib.ID(controller.window.document, &quot;calendar-tab-button&quot;));</span>
<a href="#l101.33"></a><span id="l101.33">   calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l101.34"></a><span id="l101.34">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l101.35"></a><span id="l101.35"> </span>
<a href="#l101.36"></a><span id="l101.36">   timezoneUtils.verify(controller, dates, timezones, times);</span>
<a href="#l101.37"></a><span id="l101.37"> };</span>
<a href="#l101.38"></a><span id="l101.38"> </span>
<a href="#l101.39"></a><span id="l101.39"> var teardownTest = function(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l102.1"></a><span id="l102.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test6.js</span>
<a href="#l102.2"></a><span id="l102.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test6.js</span>
<a href="#l102.3"></a><span id="l102.3" class="difflineat">@@ -1,17 +1,15 @@</span>
<a href="#l102.4"></a><span id="l102.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l102.5"></a><span id="l102.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l102.6"></a><span id="l102.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l102.7"></a><span id="l102.7"> </span>
<a href="#l102.8"></a><span id="l102.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l102.9"></a><span id="l102.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l102.10"></a><span id="l102.10"> </span>
<a href="#l102.11"></a><span id="l102.11" class="difflineminus">-var sleep = 500;</span>
<a href="#l102.12"></a><span id="l102.12" class="difflineminus">-var calendar = &quot;Mozmill&quot;;</span>
<a href="#l102.13"></a><span id="l102.13"> var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l102.14"></a><span id="l102.14">              [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l102.15"></a><span id="l102.15"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l102.16"></a><span id="l102.16">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l102.17"></a><span id="l102.17"> /* rows - dates</span>
<a href="#l102.18"></a><span id="l102.18">    columns - correct time for each event */</span>
<a href="#l102.19"></a><span id="l102.19"> var times = [[[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0]],</span>
<a href="#l102.20"></a><span id="l102.20">              [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [8, 0]],</span>
<a href="#l102.21"></a><span id="l102.21" class="difflineat">@@ -22,18 +20,16 @@ var times = [[[0, 0], [1, 0], [2, 0], [3</span>
<a href="#l102.22"></a><span id="l102.22">              [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [6, 0], [7, 0], [8, 0]],</span>
<a href="#l102.23"></a><span id="l102.23">              [[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0]]];</span>
<a href="#l102.24"></a><span id="l102.24"> </span>
<a href="#l102.25"></a><span id="l102.25"> var setupModule = function(module) {</span>
<a href="#l102.26"></a><span id="l102.26">   controller = mozmill.getMail3PaneController();</span>
<a href="#l102.27"></a><span id="l102.27"> };</span>
<a href="#l102.28"></a><span id="l102.28"> </span>
<a href="#l102.29"></a><span id="l102.29"> var testTimezones6_checkLosAngeles = function() {</span>
<a href="#l102.30"></a><span id="l102.30" class="difflineminus">-  let eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l102.31"></a><span id="l102.31" class="difflineminus">-</span>
<a href="#l102.32"></a><span id="l102.32">   controller.click(new elementslib.ID(controller.window.document, &quot;calendar-tab-button&quot;));</span>
<a href="#l102.33"></a><span id="l102.33">   calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l102.34"></a><span id="l102.34">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l102.35"></a><span id="l102.35"> </span>
<a href="#l102.36"></a><span id="l102.36">   timezoneUtils.verify(controller, dates, timezones, times);</span>
<a href="#l102.37"></a><span id="l102.37"> };</span>
<a href="#l102.38"></a><span id="l102.38"> </span>
<a href="#l102.39"></a><span id="l102.39"> var teardownTest = function(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l103.1"></a><span id="l103.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test7.js</span>
<a href="#l103.2"></a><span id="l103.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test7.js</span>
<a href="#l103.3"></a><span id="l103.3" class="difflineat">@@ -1,17 +1,15 @@</span>
<a href="#l103.4"></a><span id="l103.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l103.5"></a><span id="l103.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l103.6"></a><span id="l103.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l103.7"></a><span id="l103.7"> </span>
<a href="#l103.8"></a><span id="l103.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l103.9"></a><span id="l103.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l103.10"></a><span id="l103.10"> </span>
<a href="#l103.11"></a><span id="l103.11" class="difflineminus">-var sleep = 500;</span>
<a href="#l103.12"></a><span id="l103.12" class="difflineminus">-var calendar = &quot;Mozmill&quot;;</span>
<a href="#l103.13"></a><span id="l103.13"> var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l103.14"></a><span id="l103.14">              [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l103.15"></a><span id="l103.15"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l103.16"></a><span id="l103.16">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l103.17"></a><span id="l103.17"> /* rows - dates</span>
<a href="#l103.18"></a><span id="l103.18">    columns - correct time for each event */</span>
<a href="#l103.19"></a><span id="l103.19"> var times = [[[5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0]],</span>
<a href="#l103.20"></a><span id="l103.20">              [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [12, 0]],</span>
<a href="#l103.21"></a><span id="l103.21" class="difflineat">@@ -22,18 +20,16 @@ var times = [[[5, 0], [6, 0], [7, 0], [8</span>
<a href="#l103.22"></a><span id="l103.22">              [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [10, 0], [11, 0], [12, 0]],</span>
<a href="#l103.23"></a><span id="l103.23">              [[5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0]]];</span>
<a href="#l103.24"></a><span id="l103.24"> </span>
<a href="#l103.25"></a><span id="l103.25"> var setupModule = function(module) {</span>
<a href="#l103.26"></a><span id="l103.26">   controller = mozmill.getMail3PaneController();</span>
<a href="#l103.27"></a><span id="l103.27"> };</span>
<a href="#l103.28"></a><span id="l103.28"> </span>
<a href="#l103.29"></a><span id="l103.29"> var testTimezones7_checkBuenosAires = function() {</span>
<a href="#l103.30"></a><span id="l103.30" class="difflineminus">-  let eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l103.31"></a><span id="l103.31" class="difflineminus">-</span>
<a href="#l103.32"></a><span id="l103.32">   controller.click(new elementslib.ID(controller.window.document, &quot;calendar-tab-button&quot;));</span>
<a href="#l103.33"></a><span id="l103.33">   calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l103.34"></a><span id="l103.34">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l103.35"></a><span id="l103.35"> </span>
<a href="#l103.36"></a><span id="l103.36">   timezoneUtils.verify(controller, dates, timezones, times);</span>
<a href="#l103.37"></a><span id="l103.37"> };</span>
<a href="#l103.38"></a><span id="l103.38"> </span>
<a href="#l103.39"></a><span id="l103.39"> var teardownTest = function(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l104.1"></a><span id="l104.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test8.js</span>
<a href="#l104.2"></a><span id="l104.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test8.js</span>
<a href="#l104.3"></a><span id="l104.3" class="difflineat">@@ -1,17 +1,15 @@</span>
<a href="#l104.4"></a><span id="l104.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l104.5"></a><span id="l104.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l104.6"></a><span id="l104.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l104.7"></a><span id="l104.7"> </span>
<a href="#l104.8"></a><span id="l104.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l104.9"></a><span id="l104.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l104.10"></a><span id="l104.10"> </span>
<a href="#l104.11"></a><span id="l104.11" class="difflineminus">-var sleep = 500;</span>
<a href="#l104.12"></a><span id="l104.12" class="difflineminus">-var calendar = &quot;Mozmill&quot;;</span>
<a href="#l104.13"></a><span id="l104.13"> var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l104.14"></a><span id="l104.14">              [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l104.15"></a><span id="l104.15"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l104.16"></a><span id="l104.16">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l104.17"></a><span id="l104.17"> /* rows - dates</span>
<a href="#l104.18"></a><span id="l104.18">    columns - correct time for each event */</span>
<a href="#l104.19"></a><span id="l104.19"> var times = [[[9, 0], [10, 0], [11, 0], [12, 0], [13, 0], [14, 0], [15, 0], [16, 0]],</span>
<a href="#l104.20"></a><span id="l104.20">              [[9, 0], [11, 0], [12, 0], [12, 0], [14, 0], [14, 0], [16, 0], [17, 0]],</span>
<a href="#l104.21"></a><span id="l104.21" class="difflineat">@@ -22,18 +20,16 @@ var times = [[[9, 0], [10, 0], [11, 0], </span>
<a href="#l104.22"></a><span id="l104.22">              [[8, 0], [10, 0], [11, 0], [11, 0], [13, 0], [14, 0], [15, 0], [16, 0]],</span>
<a href="#l104.23"></a><span id="l104.23">              [[9, 0], [10, 0], [11, 0], [12, 0], [13, 0], [14, 0], [15, 0], [16, 0]]];</span>
<a href="#l104.24"></a><span id="l104.24"> </span>
<a href="#l104.25"></a><span id="l104.25"> var setupModule = function(module) {</span>
<a href="#l104.26"></a><span id="l104.26">   controller = mozmill.getMail3PaneController();</span>
<a href="#l104.27"></a><span id="l104.27"> };</span>
<a href="#l104.28"></a><span id="l104.28"> </span>
<a href="#l104.29"></a><span id="l104.29"> var testTimezones8_checkParis = function() {</span>
<a href="#l104.30"></a><span id="l104.30" class="difflineminus">-  let eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l104.31"></a><span id="l104.31" class="difflineminus">-</span>
<a href="#l104.32"></a><span id="l104.32">   controller.click(new elementslib.ID(controller.window.document, &quot;calendar-tab-button&quot;));</span>
<a href="#l104.33"></a><span id="l104.33">   calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l104.34"></a><span id="l104.34">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l104.35"></a><span id="l104.35"> </span>
<a href="#l104.36"></a><span id="l104.36">   timezoneUtils.verify(controller, dates, timezones, times);</span>
<a href="#l104.37"></a><span id="l104.37"> };</span>
<a href="#l104.38"></a><span id="l104.38"> </span>
<a href="#l104.39"></a><span id="l104.39"> var teardownTest = function(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l105.1"></a><span id="l105.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test9.js</span>
<a href="#l105.2"></a><span id="l105.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test9.js</span>
<a href="#l105.3"></a><span id="l105.3" class="difflineat">@@ -1,17 +1,15 @@</span>
<a href="#l105.4"></a><span id="l105.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l105.5"></a><span id="l105.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l105.6"></a><span id="l105.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l105.7"></a><span id="l105.7"> </span>
<a href="#l105.8"></a><span id="l105.8"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l105.9"></a><span id="l105.9"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l105.10"></a><span id="l105.10"> </span>
<a href="#l105.11"></a><span id="l105.11" class="difflineminus">-var sleep = 500;</span>
<a href="#l105.12"></a><span id="l105.12" class="difflineminus">-var calendar = &quot;Mozmill&quot;;</span>
<a href="#l105.13"></a><span id="l105.13"> var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l105.14"></a><span id="l105.14">              [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l105.15"></a><span id="l105.15"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l105.16"></a><span id="l105.16">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l105.17"></a><span id="l105.17"> /* rows - dates</span>
<a href="#l105.18"></a><span id="l105.18">    columns - correct time for each event */</span>
<a href="#l105.19"></a><span id="l105.19"> var times = [[[13, 45], [14, 45], [15, 45], [16, 45], [17, 45], [18, 45], [19, 45], [20, 45]],</span>
<a href="#l105.20"></a><span id="l105.20">              [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [17, 45], [19, 45], [20, 45]],</span>
<a href="#l105.21"></a><span id="l105.21" class="difflineat">@@ -22,18 +20,16 @@ var times = [[[13, 45], [14, 45], [15, 4</span>
<a href="#l105.22"></a><span id="l105.22">              [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [18, 45], [19, 45], [20, 45]],</span>
<a href="#l105.23"></a><span id="l105.23">              [[13, 45], [14, 45], [15, 45], [16, 45], [17, 45], [18, 45], [19, 45], [20, 45]]];</span>
<a href="#l105.24"></a><span id="l105.24"> </span>
<a href="#l105.25"></a><span id="l105.25"> var setupModule = function(module) {</span>
<a href="#l105.26"></a><span id="l105.26">   controller = mozmill.getMail3PaneController();</span>
<a href="#l105.27"></a><span id="l105.27"> };</span>
<a href="#l105.28"></a><span id="l105.28"> </span>
<a href="#l105.29"></a><span id="l105.29"> var testTimezones9_checkKathmandu = function() {</span>
<a href="#l105.30"></a><span id="l105.30" class="difflineminus">-  let eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l105.31"></a><span id="l105.31" class="difflineminus">-</span>
<a href="#l105.32"></a><span id="l105.32">   controller.click(new elementslib.ID(controller.window.document, &quot;calendar-tab-button&quot;));</span>
<a href="#l105.33"></a><span id="l105.33">   calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l105.34"></a><span id="l105.34">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l105.35"></a><span id="l105.35"> </span>
<a href="#l105.36"></a><span id="l105.36">   timezoneUtils.verify(controller, dates, timezones, times);</span>
<a href="#l105.37"></a><span id="l105.37"> };</span>
<a href="#l105.38"></a><span id="l105.38"> </span>
<a href="#l105.39"></a><span id="l105.39"> var teardownTest = function(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l106.1"></a><span id="l106.1">new file mode 100644</span>
<a href="#l106.2"></a><span id="l106.2" class="difflineminus">--- /dev/null</span>
<a href="#l106.3"></a><span id="l106.3" class="difflineplus">+++ b/calendar/test/unit/.eslintrc</span>
<a href="#l106.4"></a><span id="l106.4" class="difflineat">@@ -0,0 +1,18 @@</span>
<a href="#l106.5"></a><span id="l106.5" class="difflineplus">+{</span>
<a href="#l106.6"></a><span id="l106.6" class="difflineplus">+  &quot;extends&quot;: [</span>
<a href="#l106.7"></a><span id="l106.7" class="difflineplus">+    &quot;../../../mozilla/testing/xpcshell/xpcshell.eslintrc&quot;</span>
<a href="#l106.8"></a><span id="l106.8" class="difflineplus">+  ],</span>
<a href="#l106.9"></a><span id="l106.9" class="difflineplus">+  &quot;rules&quot;: {</span>
<a href="#l106.10"></a><span id="l106.10" class="difflineplus">+    // Allow non-camelcase so that run_test doesn't produce a warning.</span>
<a href="#l106.11"></a><span id="l106.11" class="difflineplus">+    &quot;camelcase&quot;: 0,</span>
<a href="#l106.12"></a><span id="l106.12" class="difflineplus">+    // Allow using undefined variables so that tests can refer to functions</span>
<a href="#l106.13"></a><span id="l106.13" class="difflineplus">+    // and variables defined in head.js files, without having to maintain a</span>
<a href="#l106.14"></a><span id="l106.14" class="difflineplus">+    // list of globals in each .eslintrc file.</span>
<a href="#l106.15"></a><span id="l106.15" class="difflineplus">+    // Note that bug 1168340 will eventually help auto-registering globals</span>
<a href="#l106.16"></a><span id="l106.16" class="difflineplus">+    // from head.js files.</span>
<a href="#l106.17"></a><span id="l106.17" class="difflineplus">+    &quot;no-undef&quot;: 0,</span>
<a href="#l106.18"></a><span id="l106.18" class="difflineplus">+    &quot;block-scoped-var&quot;: 0,</span>
<a href="#l106.19"></a><span id="l106.19" class="difflineplus">+    // Allow run_test to be unused in xpcshell</span>
<a href="#l106.20"></a><span id="l106.20" class="difflineplus">+    &quot;no-unused-vars&quot;: [2, { &quot;vars&quot;: &quot;all&quot;, &quot;args&quot;: &quot;none&quot;, &quot;varsIgnorePattern&quot;: &quot;run_test&quot; }],</span>
<a href="#l106.21"></a><span id="l106.21" class="difflineplus">+  }</span>
<a href="#l106.22"></a><span id="l106.22" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l107.1"></a><span id="l107.1" class="difflineminus">--- a/calendar/test/unit/head_consts.js</span>
<a href="#l107.2"></a><span id="l107.2" class="difflineplus">+++ b/calendar/test/unit/head_consts.js</span>
<a href="#l107.3"></a><span id="l107.3" class="difflineat">@@ -1,22 +1,26 @@</span>
<a href="#l107.4"></a><span id="l107.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l107.5"></a><span id="l107.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l107.6"></a><span id="l107.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l107.7"></a><span id="l107.7"> </span>
<a href="#l107.8"></a><span id="l107.8" class="difflineplus">+/* exported do_calendar_startup, do_load_calmgr, do_load_timezoneservice,</span>
<a href="#l107.9"></a><span id="l107.9" class="difflineplus">+ *          readJSONFile, ics_unfoldline, compareItemsSpecific, getStorageCal,</span>
<a href="#l107.10"></a><span id="l107.10" class="difflineplus">+ *          getMemoryCal, createTodoFromIcalString, createEventFromIcalString,</span>
<a href="#l107.11"></a><span id="l107.11" class="difflineplus">+ *          createDate, Cc, Ci, Cr, Cu</span>
<a href="#l107.12"></a><span id="l107.12" class="difflineplus">+ */</span>
<a href="#l107.13"></a><span id="l107.13" class="difflineplus">+</span>
<a href="#l107.14"></a><span id="l107.14"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l107.15"></a><span id="l107.15"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l107.16"></a><span id="l107.16"> Components.utils.import(&quot;resource://gre/modules/FileUtils.jsm&quot;);</span>
<a href="#l107.17"></a><span id="l107.17"> </span>
<a href="#l107.18"></a><span id="l107.18"> Components.utils.import(&quot;resource://testing-common/AppInfo.jsm&quot;);</span>
<a href="#l107.19"></a><span id="l107.19"> updateAppInfo();</span>
<a href="#l107.20"></a><span id="l107.20"> </span>
<a href="#l107.21"></a><span id="l107.21" class="difflineminus">-var Cc = Components.classes;</span>
<a href="#l107.22"></a><span id="l107.22" class="difflineminus">-var Ci = Components.interfaces;</span>
<a href="#l107.23"></a><span id="l107.23" class="difflineminus">-var Cr = Components.results;</span>
<a href="#l107.24"></a><span id="l107.24" class="difflineplus">+var { classes: Cc, interfaces: Ci, results: Cr, utils: Cu } = Components;</span>
<a href="#l107.25"></a><span id="l107.25"> </span>
<a href="#l107.26"></a><span id="l107.26"> (function load_lightning_manifest() {</span>
<a href="#l107.27"></a><span id="l107.27">   let bindir = Services.dirsvc.get(&quot;CurProcD&quot;, Components.interfaces.nsIFile);</span>
<a href="#l107.28"></a><span id="l107.28">   bindir.append(&quot;extensions&quot;);</span>
<a href="#l107.29"></a><span id="l107.29">   bindir.append(&quot;{e2fda1a4-762b-4020-b5ad-a41df1933103}&quot;);</span>
<a href="#l107.30"></a><span id="l107.30">   bindir.append(&quot;chrome.manifest&quot;);</span>
<a href="#l107.31"></a><span id="l107.31">   dump(&quot;Loading&quot; + bindir.path + &quot;\n&quot;);</span>
<a href="#l107.32"></a><span id="l107.32">   Components.manager.autoRegister(bindir);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l108.1"></a><span id="l108.1" class="difflineminus">--- a/calendar/test/unit/test_alarm.js</span>
<a href="#l108.2"></a><span id="l108.2" class="difflineplus">+++ b/calendar/test/unit/test_alarm.js</span>
<a href="#l108.3"></a><span id="l108.3" class="difflineat">@@ -245,17 +245,16 @@ function test_custom_alarm() {</span>
<a href="#l108.4"></a><span id="l108.4">     alarm.clearAttachments();</span>
<a href="#l108.5"></a><span id="l108.5">     addedAttachments = alarm.getAttachments({});</span>
<a href="#l108.6"></a><span id="l108.6">     equal(addedAttachments.length, 0);</span>
<a href="#l108.7"></a><span id="l108.7"> }</span>
<a href="#l108.8"></a><span id="l108.8"> </span>
<a href="#l108.9"></a><span id="l108.9"> // Check if any combination of REPEAT and DURATION work as expected.</span>
<a href="#l108.10"></a><span id="l108.10"> function test_repeat() {</span>
<a href="#l108.11"></a><span id="l108.11">     dump(&quot;Testing REPEAT and DURATION properties...&quot;);</span>
<a href="#l108.12"></a><span id="l108.12" class="difflineminus">-    let message;</span>
<a href="#l108.13"></a><span id="l108.13">     let alarm = cal.createAlarm();</span>
<a href="#l108.14"></a><span id="l108.14"> </span>
<a href="#l108.15"></a><span id="l108.15">     // Check initial value</span>
<a href="#l108.16"></a><span id="l108.16">     equal(alarm.repeat, 0);</span>
<a href="#l108.17"></a><span id="l108.17">     equal(alarm.repeatOffset, null);</span>
<a href="#l108.18"></a><span id="l108.18">     equal(alarm.repeatDate, null);</span>
<a href="#l108.19"></a><span id="l108.19"> </span>
<a href="#l108.20"></a><span id="l108.20">     // Should not be able to get REPEAT when DURATION is not set</span>
<a href="#l108.21"></a><span id="l108.21" class="difflineat">@@ -389,17 +388,16 @@ function test_immutable() {</span>
<a href="#l108.22"></a><span id="l108.22">         alarm[prop] = propMap[prop];</span>
<a href="#l108.23"></a><span id="l108.23">     }</span>
<a href="#l108.24"></a><span id="l108.24"> </span>
<a href="#l108.25"></a><span id="l108.25">     // Set up some extra props</span>
<a href="#l108.26"></a><span id="l108.26">     alarm.setProperty(&quot;X-FOO&quot;, &quot;X-VAL&quot;);</span>
<a href="#l108.27"></a><span id="l108.27">     alarm.setProperty(&quot;X-DATEPROP&quot;, cal.createDateTime());</span>
<a href="#l108.28"></a><span id="l108.28">     alarm.addAttendee(cal.createAttendee());</span>
<a href="#l108.29"></a><span id="l108.29"> </span>
<a href="#l108.30"></a><span id="l108.30" class="difflineminus">-    let passed = false;</span>
<a href="#l108.31"></a><span id="l108.31">     // Initial checks</span>
<a href="#l108.32"></a><span id="l108.32">     ok(alarm.isMutable);</span>
<a href="#l108.33"></a><span id="l108.33">     alarm.makeImmutable();</span>
<a href="#l108.34"></a><span id="l108.34">     ok(!alarm.isMutable);</span>
<a href="#l108.35"></a><span id="l108.35">     alarm.makeImmutable();</span>
<a href="#l108.36"></a><span id="l108.36">     ok(!alarm.isMutable);</span>
<a href="#l108.37"></a><span id="l108.37"> </span>
<a href="#l108.38"></a><span id="l108.38">     // Check each attribute</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l109.1"></a><span id="l109.1" class="difflineminus">--- a/calendar/test/unit/test_attendee.js</span>
<a href="#l109.2"></a><span id="l109.2" class="difflineplus">+++ b/calendar/test/unit/test_attendee.js</span>
<a href="#l109.3"></a><span id="l109.3" class="difflineat">@@ -42,18 +42,16 @@ function test_values() {</span>
<a href="#l109.4"></a><span id="l109.4">             throws(function() {</span>
<a href="#l109.5"></a><span id="l109.5">                 a[properties[i]] = old + 1;</span>
<a href="#l109.6"></a><span id="l109.6">             }, /Can not modify immutable data container/);</span>
<a href="#l109.7"></a><span id="l109.7"> </span>
<a href="#l109.8"></a><span id="l109.8">             equal(a[properties[i]], old);</span>
<a href="#l109.9"></a><span id="l109.9">         }</span>
<a href="#l109.10"></a><span id="l109.10">     }</span>
<a href="#l109.11"></a><span id="l109.11"> </span>
<a href="#l109.12"></a><span id="l109.12" class="difflineminus">-    const cIA = Components.interfaces.calIAttendee;</span>
<a href="#l109.13"></a><span id="l109.13" class="difflineminus">-</span>
<a href="#l109.14"></a><span id="l109.14">     // Create Attendee</span>
<a href="#l109.15"></a><span id="l109.15">     let a1 = cal.createAttendee();</span>
<a href="#l109.16"></a><span id="l109.16">     // Testing attendee set/get.</span>
<a href="#l109.17"></a><span id="l109.17">     let properties = [&quot;id&quot;, &quot;commonName&quot;, &quot;rsvp&quot;, &quot;role&quot;, &quot;participationStatus&quot;,</span>
<a href="#l109.18"></a><span id="l109.18">                       &quot;userType&quot;];</span>
<a href="#l109.19"></a><span id="l109.19">     let values = [&quot;myid&quot;, &quot;mycn&quot;, &quot;TRUE&quot;, &quot;CHAIR&quot;, &quot;DECLINED&quot;, &quot;RESOURCE&quot;];</span>
<a href="#l109.20"></a><span id="l109.20">     // Make sure test is valid</span>
<a href="#l109.21"></a><span id="l109.21">     equal(properties.length, values.length);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l110.1"></a><span id="l110.1" class="difflineminus">--- a/calendar/test/unit/test_bug1209399.js</span>
<a href="#l110.2"></a><span id="l110.2" class="difflineplus">+++ b/calendar/test/unit/test_bug1209399.js</span>
<a href="#l110.3"></a><span id="l110.3" class="difflineat">@@ -84,16 +84,15 @@ function test_fromICS() {</span>
<a href="#l110.4"></a><span id="l110.4">         { id: 'mailto:user3@example.net', cn: 'Test3' },</span>
<a href="#l110.5"></a><span id="l110.5">         { id: 'mailto:user4@example.net', cn: '' },</span>
<a href="#l110.6"></a><span id="l110.6">         { id: 'mailto:user5@example.net', cn: '' },</span>
<a href="#l110.7"></a><span id="l110.7">         { id: 'mailto:user6@example.net', cn: null },</span>
<a href="#l110.8"></a><span id="l110.8">         { id: 'mailto:user7@example.net', cn: '' },</span>
<a href="#l110.9"></a><span id="l110.9">         { id: 'mailto:user8@example.net', cn: '' }</span>
<a href="#l110.10"></a><span id="l110.10">     ];</span>
<a href="#l110.11"></a><span id="l110.11">     let event = createEventFromIcalString(ics);</span>
<a href="#l110.12"></a><span id="l110.12" class="difflineminus">-    let attendees = event.getAttendees({});</span>
<a href="#l110.13"></a><span id="l110.13"> </span>
<a href="#l110.14"></a><span id="l110.14">     equal(event.getAttendees({}).length, expected.length, &quot;Check test consistency&quot;);</span>
<a href="#l110.15"></a><span id="l110.15">     for (let exp of expected) {</span>
<a href="#l110.16"></a><span id="l110.16">         let attendee = event.getAttendeeById(exp.id);</span>
<a href="#l110.17"></a><span id="l110.17">         equal(attendee.commonName, exp.cn, &quot;Test for cn matching of &quot; + exp.id);</span>
<a href="#l110.18"></a><span id="l110.18">     }</span>
<a href="#l110.19"></a><span id="l110.19"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l111.1"></a><span id="l111.1" class="difflineminus">--- a/calendar/test/unit/test_bug494140.js</span>
<a href="#l111.2"></a><span id="l111.2" class="difflineplus">+++ b/calendar/test/unit/test_bug494140.js</span>
<a href="#l111.3"></a><span id="l111.3" class="difflineat">@@ -49,12 +49,12 @@ function run_test() {</span>
<a href="#l111.4"></a><span id="l111.4">     storageCal.getItem(&quot;c1a6cfe7-7fbb-4bfb-a00d-861e07c649a5&quot;, {</span>
<a href="#l111.5"></a><span id="l111.5">         onGetResult: function onGetResult(cal, stat, type, detail, count, items) {</span>
<a href="#l111.6"></a><span id="l111.6">             retrievedItem = items[0];</span>
<a href="#l111.7"></a><span id="l111.7">         },</span>
<a href="#l111.8"></a><span id="l111.8">         onOperationComplete: function() {}</span>
<a href="#l111.9"></a><span id="l111.9">     });</span>
<a href="#l111.10"></a><span id="l111.10"> </span>
<a href="#l111.11"></a><span id="l111.11">     // There should still be one alarm, one relation and one attachment</span>
<a href="#l111.12"></a><span id="l111.12" class="difflineminus">-    equal(item.getAlarms({}).length, 1);</span>
<a href="#l111.13"></a><span id="l111.13" class="difflineminus">-    equal(item.getRelations({}).length, 1);</span>
<a href="#l111.14"></a><span id="l111.14" class="difflineminus">-    equal(item.getAttachments({}).length, 1);</span>
<a href="#l111.15"></a><span id="l111.15" class="difflineplus">+    equal(retrievedItem.getAlarms({}).length, 1);</span>
<a href="#l111.16"></a><span id="l111.16" class="difflineplus">+    equal(retrievedItem.getRelations({}).length, 1);</span>
<a href="#l111.17"></a><span id="l111.17" class="difflineplus">+    equal(retrievedItem.getAttachments({}).length, 1);</span>
<a href="#l111.18"></a><span id="l111.18"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l112.1"></a><span id="l112.1" class="difflineminus">--- a/calendar/test/unit/test_calmgr.js</span>
<a href="#l112.2"></a><span id="l112.2" class="difflineplus">+++ b/calendar/test/unit/test_calmgr.js</span>
<a href="#l112.3"></a><span id="l112.3" class="difflineat">@@ -128,24 +128,24 @@ add_test(function test_calobserver() {</span>
<a href="#l112.4"></a><span id="l112.4">     // First of all we need a local calendar to work on and some variables</span>
<a href="#l112.5"></a><span id="l112.5">     let calmgr = cal.getCalendarManager();</span>
<a href="#l112.6"></a><span id="l112.6">     let memory = calmgr.createCalendar(&quot;memory&quot;, Services.io.newURI(&quot;moz-memory-calendar://&quot;, null, null));</span>
<a href="#l112.7"></a><span id="l112.7">     let memory2 = calmgr.createCalendar(&quot;memory&quot;, Services.io.newURI(&quot;moz-memory-calendar://&quot;, null, null));</span>
<a href="#l112.8"></a><span id="l112.8">     let calcounter, allcounter;</span>
<a href="#l112.9"></a><span id="l112.9"> </span>
<a href="#l112.10"></a><span id="l112.10">     // These observers will end up counting calls which we will use later on</span>
<a href="#l112.11"></a><span id="l112.11">     let calobs = cal.createAdapter(Components.interfaces.calIObserver, {</span>
<a href="#l112.12"></a><span id="l112.12" class="difflineminus">-        onAddItem: itm =&gt; calcounter.addItem++,</span>
<a href="#l112.13"></a><span id="l112.13" class="difflineminus">-        onModifyItem: itm =&gt; calcounter.modifyItem++,</span>
<a href="#l112.14"></a><span id="l112.14" class="difflineminus">-        onDeleteItem: itm =&gt; calcounter.deleteItem++</span>
<a href="#l112.15"></a><span id="l112.15" class="difflineplus">+        onAddItem: () =&gt; calcounter.addItem++,</span>
<a href="#l112.16"></a><span id="l112.16" class="difflineplus">+        onModifyItem: () =&gt; calcounter.modifyItem++,</span>
<a href="#l112.17"></a><span id="l112.17" class="difflineplus">+        onDeleteItem: () =&gt; calcounter.deleteItem++</span>
<a href="#l112.18"></a><span id="l112.18">     });</span>
<a href="#l112.19"></a><span id="l112.19">     let allobs = cal.createAdapter(Components.interfaces.calIObserver, {</span>
<a href="#l112.20"></a><span id="l112.20" class="difflineminus">-        onAddItem: itm =&gt; allcounter.addItem++,</span>
<a href="#l112.21"></a><span id="l112.21" class="difflineminus">-        onModifyItem: itm =&gt; allcounter.modifyItem++,</span>
<a href="#l112.22"></a><span id="l112.22" class="difflineminus">-        onDeleteItem: itm =&gt; allcounter.deleteItem++</span>
<a href="#l112.23"></a><span id="l112.23" class="difflineplus">+        onAddItem: () =&gt; allcounter.addItem++,</span>
<a href="#l112.24"></a><span id="l112.24" class="difflineplus">+        onModifyItem: () =&gt; allcounter.modifyItem++,</span>
<a href="#l112.25"></a><span id="l112.25" class="difflineplus">+        onDeleteItem: () =&gt; allcounter.deleteItem++</span>
<a href="#l112.26"></a><span id="l112.26">     });</span>
<a href="#l112.27"></a><span id="l112.27"> </span>
<a href="#l112.28"></a><span id="l112.28">     // Set up counters and observers</span>
<a href="#l112.29"></a><span id="l112.29">     resetCounters();</span>
<a href="#l112.30"></a><span id="l112.30">     calmgr.registerCalendar(memory);</span>
<a href="#l112.31"></a><span id="l112.31">     calmgr.registerCalendar(memory2);</span>
<a href="#l112.32"></a><span id="l112.32">     calmgr.addCalendarObserver(allobs);</span>
<a href="#l112.33"></a><span id="l112.33">     memory.addObserver(calobs);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l113.1"></a><span id="l113.1" class="difflineminus">--- a/calendar/test/unit/test_extract.js</span>
<a href="#l113.2"></a><span id="l113.2" class="difflineplus">+++ b/calendar/test/unit/test_extract.js</span>
<a href="#l113.3"></a><span id="l113.3" class="difflineat">@@ -22,17 +22,17 @@ function run_test() {</span>
<a href="#l113.4"></a><span id="l113.4">     test_event_start_dollar_sign();</span>
<a href="#l113.5"></a><span id="l113.5"> }</span>
<a href="#l113.6"></a><span id="l113.6"> </span>
<a href="#l113.7"></a><span id="l113.7"> function test_event_start_end() {</span>
<a href="#l113.8"></a><span id="l113.8">     let date = new Date(2012, 9, 1, 9, 0);</span>
<a href="#l113.9"></a><span id="l113.9">     let title = &quot;Wednesday meetup&quot;;</span>
<a href="#l113.10"></a><span id="l113.10">     let content = &quot;We'll meet at 2 pm and discuss until 3 pm.&quot;;</span>
<a href="#l113.11"></a><span id="l113.11"> </span>
<a href="#l113.12"></a><span id="l113.12" class="difflineminus">-    let collected = extractor.extract(title, content, date, undefined);</span>
<a href="#l113.13"></a><span id="l113.13" class="difflineplus">+    extractor.extract(title, content, date, undefined);</span>
<a href="#l113.14"></a><span id="l113.14">     let guessed = extractor.guessStart();</span>
<a href="#l113.15"></a><span id="l113.15">     let endGuess = extractor.guessEnd(guessed);</span>
<a href="#l113.16"></a><span id="l113.16"> </span>
<a href="#l113.17"></a><span id="l113.17">     equal(guessed.year, 2012);</span>
<a href="#l113.18"></a><span id="l113.18">     equal(guessed.month, 10);</span>
<a href="#l113.19"></a><span id="l113.19">     equal(guessed.day, 3);</span>
<a href="#l113.20"></a><span id="l113.20">     equal(guessed.hour, 14);</span>
<a href="#l113.21"></a><span id="l113.21">     equal(guessed.minute, 0);</span>
<a href="#l113.22"></a><span id="l113.22" class="difflineat">@@ -44,17 +44,17 @@ function test_event_start_end() {</span>
<a href="#l113.23"></a><span id="l113.23">     equal(endGuess.minute, 0);</span>
<a href="#l113.24"></a><span id="l113.24"> }</span>
<a href="#l113.25"></a><span id="l113.25"> </span>
<a href="#l113.26"></a><span id="l113.26"> function test_event_start_duration() {</span>
<a href="#l113.27"></a><span id="l113.27">     let date = new Date(2012, 9, 1, 9, 0);</span>
<a href="#l113.28"></a><span id="l113.28">     let title = &quot;Wednesday meetup&quot;;</span>
<a href="#l113.29"></a><span id="l113.29">     let content = &quot;We'll meet at 2 pm and discuss for 30 minutes.&quot;;</span>
<a href="#l113.30"></a><span id="l113.30"> </span>
<a href="#l113.31"></a><span id="l113.31" class="difflineminus">-    let collected = extractor.extract(title, content, date, undefined);</span>
<a href="#l113.32"></a><span id="l113.32" class="difflineplus">+    extractor.extract(title, content, date, undefined);</span>
<a href="#l113.33"></a><span id="l113.33">     let guessed = extractor.guessStart();</span>
<a href="#l113.34"></a><span id="l113.34">     let endGuess = extractor.guessEnd(guessed);</span>
<a href="#l113.35"></a><span id="l113.35"> </span>
<a href="#l113.36"></a><span id="l113.36">     equal(guessed.year, 2012);</span>
<a href="#l113.37"></a><span id="l113.37">     equal(guessed.month, 10);</span>
<a href="#l113.38"></a><span id="l113.38">     equal(guessed.day, 3);</span>
<a href="#l113.39"></a><span id="l113.39">     equal(guessed.hour, 14);</span>
<a href="#l113.40"></a><span id="l113.40">     equal(guessed.minute, 0);</span>
<a href="#l113.41"></a><span id="l113.41" class="difflineat">@@ -66,17 +66,17 @@ function test_event_start_duration() {</span>
<a href="#l113.42"></a><span id="l113.42">     equal(endGuess.minute, 30);</span>
<a href="#l113.43"></a><span id="l113.43"> }</span>
<a href="#l113.44"></a><span id="l113.44"> </span>
<a href="#l113.45"></a><span id="l113.45"> function test_event_start_end_whitespace() {</span>
<a href="#l113.46"></a><span id="l113.46">     let date = new Date(2012, 9, 1, 9, 0);</span>
<a href="#l113.47"></a><span id="l113.47">     let title = &quot;Wednesday meetup&quot;;</span>
<a href="#l113.48"></a><span id="l113.48">     let content = &quot;We'll meet at2pm and discuss until\r\n3pm.&quot;;</span>
<a href="#l113.49"></a><span id="l113.49"> </span>
<a href="#l113.50"></a><span id="l113.50" class="difflineminus">-    let collected = extractor.extract(title, content, date, undefined);</span>
<a href="#l113.51"></a><span id="l113.51" class="difflineplus">+    extractor.extract(title, content, date, undefined);</span>
<a href="#l113.52"></a><span id="l113.52">     let guessed = extractor.guessStart();</span>
<a href="#l113.53"></a><span id="l113.53">     let endGuess = extractor.guessEnd(guessed);</span>
<a href="#l113.54"></a><span id="l113.54"> </span>
<a href="#l113.55"></a><span id="l113.55">     equal(guessed.year, 2012);</span>
<a href="#l113.56"></a><span id="l113.56">     equal(guessed.month, 10);</span>
<a href="#l113.57"></a><span id="l113.57">     equal(guessed.day, 3);</span>
<a href="#l113.58"></a><span id="l113.58">     equal(guessed.hour, 14);</span>
<a href="#l113.59"></a><span id="l113.59">     equal(guessed.minute, 0);</span>
<a href="#l113.60"></a><span id="l113.60" class="difflineat">@@ -88,17 +88,17 @@ function test_event_start_end_whitespace</span>
<a href="#l113.61"></a><span id="l113.61">     equal(endGuess.minute, 0);</span>
<a href="#l113.62"></a><span id="l113.62"> }</span>
<a href="#l113.63"></a><span id="l113.63"> </span>
<a href="#l113.64"></a><span id="l113.64"> function test_event_without_date() {</span>
<a href="#l113.65"></a><span id="l113.65">     let date = new Date(2012, 9, 1, 9, 0);</span>
<a href="#l113.66"></a><span id="l113.66">     let title = &quot;Meetup&quot;;</span>
<a href="#l113.67"></a><span id="l113.67">     let content = &quot;We'll meet at 2 pm and discuss until 3 pm.&quot;;</span>
<a href="#l113.68"></a><span id="l113.68"> </span>
<a href="#l113.69"></a><span id="l113.69" class="difflineminus">-    let collected = extractor.extract(title, content, date, undefined);</span>
<a href="#l113.70"></a><span id="l113.70" class="difflineplus">+    extractor.extract(title, content, date, undefined);</span>
<a href="#l113.71"></a><span id="l113.71">     let guessed = extractor.guessStart();</span>
<a href="#l113.72"></a><span id="l113.72">     let endGuess = extractor.guessEnd(guessed);</span>
<a href="#l113.73"></a><span id="l113.73"> </span>
<a href="#l113.74"></a><span id="l113.74">     equal(guessed.year, 2012);</span>
<a href="#l113.75"></a><span id="l113.75">     equal(guessed.month, 10);</span>
<a href="#l113.76"></a><span id="l113.76">     equal(guessed.day, 1);</span>
<a href="#l113.77"></a><span id="l113.77">     equal(guessed.hour, 14);</span>
<a href="#l113.78"></a><span id="l113.78">     equal(guessed.minute, 0);</span>
<a href="#l113.79"></a><span id="l113.79" class="difflineat">@@ -110,17 +110,17 @@ function test_event_without_date() {</span>
<a href="#l113.80"></a><span id="l113.80">     equal(endGuess.minute, 0);</span>
<a href="#l113.81"></a><span id="l113.81"> }</span>
<a href="#l113.82"></a><span id="l113.82"> </span>
<a href="#l113.83"></a><span id="l113.83"> function test_event_next_year() {</span>
<a href="#l113.84"></a><span id="l113.84">     let date = new Date(2012, 9, 1, 9, 0);</span>
<a href="#l113.85"></a><span id="l113.85">     let title = &quot;Open day&quot;;</span>
<a href="#l113.86"></a><span id="l113.86">     let content = &quot;FYI: Next open day is planned for February 5th.&quot;;</span>
<a href="#l113.87"></a><span id="l113.87"> </span>
<a href="#l113.88"></a><span id="l113.88" class="difflineminus">-    let collected = extractor.extract(title, content, date, undefined);</span>
<a href="#l113.89"></a><span id="l113.89" class="difflineplus">+    extractor.extract(title, content, date, undefined);</span>
<a href="#l113.90"></a><span id="l113.90">     let guessed = extractor.guessStart();</span>
<a href="#l113.91"></a><span id="l113.91">     let endGuess = extractor.guessEnd(guessed);</span>
<a href="#l113.92"></a><span id="l113.92"> </span>
<a href="#l113.93"></a><span id="l113.93">     equal(guessed.year, 2013);</span>
<a href="#l113.94"></a><span id="l113.94">     equal(guessed.month, 2);</span>
<a href="#l113.95"></a><span id="l113.95">     equal(guessed.day, 5);</span>
<a href="#l113.96"></a><span id="l113.96">     equal(guessed.hour, undefined);</span>
<a href="#l113.97"></a><span id="l113.97">     equal(guessed.minute, undefined);</span>
<a href="#l113.98"></a><span id="l113.98" class="difflineat">@@ -132,17 +132,17 @@ function test_event_next_year() {</span>
<a href="#l113.99"></a><span id="l113.99">     equal(endGuess.minute, undefined);</span>
<a href="#l113.100"></a><span id="l113.100"> }</span>
<a href="#l113.101"></a><span id="l113.101"> </span>
<a href="#l113.102"></a><span id="l113.102"> function test_task_due() {</span>
<a href="#l113.103"></a><span id="l113.103">     let date = new Date(2012, 9, 1, 9, 0);</span>
<a href="#l113.104"></a><span id="l113.104">     let title = &quot;Assignment deadline&quot;;</span>
<a href="#l113.105"></a><span id="l113.105">     let content = &quot;This is a reminder that all assignments must be sent in by October 5th!.&quot;;</span>
<a href="#l113.106"></a><span id="l113.106"> </span>
<a href="#l113.107"></a><span id="l113.107" class="difflineminus">-    let collected = extractor.extract(title, content, date, undefined);</span>
<a href="#l113.108"></a><span id="l113.108" class="difflineplus">+    extractor.extract(title, content, date, undefined);</span>
<a href="#l113.109"></a><span id="l113.109">     let guessed = extractor.guessStart(true);</span>
<a href="#l113.110"></a><span id="l113.110">     let endGuess = extractor.guessEnd(guessed, true);</span>
<a href="#l113.111"></a><span id="l113.111"> </span>
<a href="#l113.112"></a><span id="l113.112">     equal(guessed.year, 2012);</span>
<a href="#l113.113"></a><span id="l113.113">     equal(guessed.month, 10);</span>
<a href="#l113.114"></a><span id="l113.114">     equal(guessed.day, 1);</span>
<a href="#l113.115"></a><span id="l113.115">     equal(guessed.hour, 9);</span>
<a href="#l113.116"></a><span id="l113.116">     equal(guessed.minute, 0);</span>
<a href="#l113.117"></a><span id="l113.117" class="difflineat">@@ -154,17 +154,17 @@ function test_task_due() {</span>
<a href="#l113.118"></a><span id="l113.118">     equal(endGuess.minute, 0);</span>
<a href="#l113.119"></a><span id="l113.119"> }</span>
<a href="#l113.120"></a><span id="l113.120"> </span>
<a href="#l113.121"></a><span id="l113.121"> function test_overrides() {</span>
<a href="#l113.122"></a><span id="l113.122">     let date = new Date(2012, 9, 1, 9, 0);</span>
<a href="#l113.123"></a><span id="l113.123">     let title = &quot;Event invitation&quot;;</span>
<a href="#l113.124"></a><span id="l113.124">     let content = &quot;We'll meet 10:11 worromot&quot;;</span>
<a href="#l113.125"></a><span id="l113.125"> </span>
<a href="#l113.126"></a><span id="l113.126" class="difflineminus">-    let collected = extractor.extract(title, content, date, undefined);</span>
<a href="#l113.127"></a><span id="l113.127" class="difflineplus">+    extractor.extract(title, content, date, undefined);</span>
<a href="#l113.128"></a><span id="l113.128">     let guessed = extractor.guessStart(false);</span>
<a href="#l113.129"></a><span id="l113.129">     let endGuess = extractor.guessEnd(guessed, true);</span>
<a href="#l113.130"></a><span id="l113.130"> </span>
<a href="#l113.131"></a><span id="l113.131">     equal(guessed.year, 2012);</span>
<a href="#l113.132"></a><span id="l113.132">     equal(guessed.month, 10);</span>
<a href="#l113.133"></a><span id="l113.133">     equal(guessed.day, 1);</span>
<a href="#l113.134"></a><span id="l113.134">     equal(guessed.hour, 10);</span>
<a href="#l113.135"></a><span id="l113.135">     equal(guessed.minute, 11);</span>
<a href="#l113.136"></a><span id="l113.136" class="difflineat">@@ -199,18 +199,24 @@ function test_overrides() {</span>
<a href="#l113.137"></a><span id="l113.137">     equal(endGuess.minute, undefined);</span>
<a href="#l113.138"></a><span id="l113.138"> }</span>
<a href="#l113.139"></a><span id="l113.139"> </span>
<a href="#l113.140"></a><span id="l113.140"> function test_event_start_dollar_sign() {</span>
<a href="#l113.141"></a><span id="l113.141">     let date = new Date(2012, 9, 1, 9, 0);</span>
<a href="#l113.142"></a><span id="l113.142">     let title = &quot;Wednesday sale&quot;;</span>
<a href="#l113.143"></a><span id="l113.143">     let content = &quot;Sale starts at 3 pm and prices start at 2$.&quot;;</span>
<a href="#l113.144"></a><span id="l113.144"> </span>
<a href="#l113.145"></a><span id="l113.145" class="difflineminus">-    let collected = extractor.extract(title, content, date, undefined);</span>
<a href="#l113.146"></a><span id="l113.146" class="difflineplus">+    extractor.extract(title, content, date, undefined);</span>
<a href="#l113.147"></a><span id="l113.147">     let guessed = extractor.guessStart();</span>
<a href="#l113.148"></a><span id="l113.148">     let endGuess = extractor.guessEnd(guessed);</span>
<a href="#l113.149"></a><span id="l113.149"> </span>
<a href="#l113.150"></a><span id="l113.150">     equal(guessed.year, 2012);</span>
<a href="#l113.151"></a><span id="l113.151">     equal(guessed.month, 10);</span>
<a href="#l113.152"></a><span id="l113.152">     equal(guessed.day, 3);</span>
<a href="#l113.153"></a><span id="l113.153">     equal(guessed.hour, 15);</span>
<a href="#l113.154"></a><span id="l113.154">     equal(guessed.minute, 0);</span>
<a href="#l113.155"></a><span id="l113.155" class="difflineplus">+</span>
<a href="#l113.156"></a><span id="l113.156" class="difflineplus">+    equal(endGuess.year, undefined);</span>
<a href="#l113.157"></a><span id="l113.157" class="difflineplus">+    equal(endGuess.month, undefined);</span>
<a href="#l113.158"></a><span id="l113.158" class="difflineplus">+    equal(endGuess.day, undefined);</span>
<a href="#l113.159"></a><span id="l113.159" class="difflineplus">+    equal(endGuess.hour, undefined);</span>
<a href="#l113.160"></a><span id="l113.160" class="difflineplus">+    equal(endGuess.minute, undefined);</span>
<a href="#l113.161"></a><span id="l113.161"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l114.1"></a><span id="l114.1" class="difflineminus">--- a/calendar/test/unit/test_freebusy_service.js</span>
<a href="#l114.2"></a><span id="l114.2" class="difflineplus">+++ b/calendar/test/unit/test_freebusy_service.js</span>
<a href="#l114.3"></a><span id="l114.3" class="difflineat">@@ -93,21 +93,21 @@ function test_failure() {</span>
<a href="#l114.4"></a><span id="l114.4">             ok(provider.called);</span>
<a href="#l114.5"></a><span id="l114.5">             do_test_finished();</span>
<a href="#l114.6"></a><span id="l114.6">         }</span>
<a href="#l114.7"></a><span id="l114.7">     };</span>
<a href="#l114.8"></a><span id="l114.8"> </span>
<a href="#l114.9"></a><span id="l114.9">     freebusy.addProvider(provider);</span>
<a href="#l114.10"></a><span id="l114.10"> </span>
<a href="#l114.11"></a><span id="l114.11">     do_test_pending();</span>
<a href="#l114.12"></a><span id="l114.12" class="difflineminus">-    let op = freebusy.getFreeBusyIntervals(&quot;email&quot;,</span>
<a href="#l114.13"></a><span id="l114.13" class="difflineminus">-                                           cal.createDateTime(&quot;20120101T010101&quot;),</span>
<a href="#l114.14"></a><span id="l114.14" class="difflineminus">-                                           cal.createDateTime(&quot;20120102T010101&quot;),</span>
<a href="#l114.15"></a><span id="l114.15" class="difflineminus">-                                           cIFI.BUSY_ALL,</span>
<a href="#l114.16"></a><span id="l114.16" class="difflineminus">-                                           listener);</span>
<a href="#l114.17"></a><span id="l114.17" class="difflineplus">+    freebusy.getFreeBusyIntervals(&quot;email&quot;,</span>
<a href="#l114.18"></a><span id="l114.18" class="difflineplus">+                                  cal.createDateTime(&quot;20120101T010101&quot;),</span>
<a href="#l114.19"></a><span id="l114.19" class="difflineplus">+                                  cal.createDateTime(&quot;20120102T010101&quot;),</span>
<a href="#l114.20"></a><span id="l114.20" class="difflineplus">+                                  cIFI.BUSY_ALL,</span>
<a href="#l114.21"></a><span id="l114.21" class="difflineplus">+                                  listener);</span>
<a href="#l114.22"></a><span id="l114.22"> }</span>
<a href="#l114.23"></a><span id="l114.23"> </span>
<a href="#l114.24"></a><span id="l114.24"> function test_cancel() {</span>
<a href="#l114.25"></a><span id="l114.25">     _clearProviders();</span>
<a href="#l114.26"></a><span id="l114.26"> </span>
<a href="#l114.27"></a><span id="l114.27">     let provider = {</span>
<a href="#l114.28"></a><span id="l114.28">         QueryInterface: XPCOMUtils.generateQI([Components.interfaces.calIFreeBusyProvider, Components.interfaces.calIOperation]),</span>
<a href="#l114.29"></a><span id="l114.29">         getFreeBusyIntervals: function(aCalId, aStart, aEnd, aTypes, aListener) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l115.1"></a><span id="l115.1" class="difflineminus">--- a/calendar/test/unit/test_gdata_provider.js</span>
<a href="#l115.2"></a><span id="l115.2" class="difflineplus">+++ b/calendar/test/unit/test_gdata_provider.js</span>
<a href="#l115.3"></a><span id="l115.3" class="difflineat">@@ -346,33 +346,33 @@ GDataServer.prototype = {</span>
<a href="#l115.4"></a><span id="l115.4">             }</span>
<a href="#l115.5"></a><span id="l115.5">         } else if (matchTag == &quot;*&quot;) {</span>
<a href="#l115.6"></a><span id="l115.6">             let data = modifyFunc(body, itemId);</span>
<a href="#l115.7"></a><span id="l115.7">             items.push(data);</span>
<a href="#l115.8"></a><span id="l115.8">             response.write(JSON.stringify(data));</span>
<a href="#l115.9"></a><span id="l115.9">         } else if (body.recurringEventId) {</span>
<a href="#l115.10"></a><span id="l115.10">             // Special case for events, won't happen on tasks.  This is an</span>
<a href="#l115.11"></a><span id="l115.11">             // exception that doesn't exist yet. Allow creation in this case.</span>
<a href="#l115.12"></a><span id="l115.12" class="difflineminus">-            let [foundParentIndex, foundParent] = findKey(items, &quot;id&quot;, body.recurringEventId);</span>
<a href="#l115.13"></a><span id="l115.13" class="difflineplus">+            let [, foundParent] = findKey(items, &quot;id&quot;, body.recurringEventId);</span>
<a href="#l115.14"></a><span id="l115.14">             if (!matchTag || foundParent.etag == matchTag) {</span>
<a href="#l115.15"></a><span id="l115.15">                 let data = modifyFunc(body, itemId);</span>
<a href="#l115.16"></a><span id="l115.16">                 items.push(data);</span>
<a href="#l115.17"></a><span id="l115.17">                 response.write(JSON.stringify(data));</span>
<a href="#l115.18"></a><span id="l115.18">             } else {</span>
<a href="#l115.19"></a><span id="l115.19">                 response.setStatusLine(null, 412, &quot;Precondition Failed&quot;);</span>
<a href="#l115.20"></a><span id="l115.20">             }</span>
<a href="#l115.21"></a><span id="l115.21">         } else if (matchTag) {</span>
<a href="#l115.22"></a><span id="l115.22">             response.setStatusLine(null, 412, &quot;Precondition Failed&quot;);</span>
<a href="#l115.23"></a><span id="l115.23">         } else {</span>
<a href="#l115.24"></a><span id="l115.24">             response.setStatusLine(null, 404, &quot;Not Found&quot;);</span>
<a href="#l115.25"></a><span id="l115.25">         }</span>
<a href="#l115.26"></a><span id="l115.26">     },</span>
<a href="#l115.27"></a><span id="l115.27"> </span>
<a href="#l115.28"></a><span id="l115.28">     handleDelete: function(request, response, items, itemId) {</span>
<a href="#l115.29"></a><span id="l115.29" class="difflineminus">-        let [foundIndex, foundItem] = findKey(items, &quot;id&quot;, itemId);</span>
<a href="#l115.30"></a><span id="l115.30" class="difflineplus">+        let [foundIndex, ] = findKey(items, &quot;id&quot;, itemId);</span>
<a href="#l115.31"></a><span id="l115.31"> </span>
<a href="#l115.32"></a><span id="l115.32">         let matchTag = request.hasHeader(&quot;If-Match&quot;) ?</span>
<a href="#l115.33"></a><span id="l115.33">                        request.getHeader(&quot;If-Match&quot;) : null;</span>
<a href="#l115.34"></a><span id="l115.34"> </span>
<a href="#l115.35"></a><span id="l115.35">         if (foundIndex != -1) {</span>
<a href="#l115.36"></a><span id="l115.36">             if (!matchTag || matchTag == &quot;*&quot; || items[foundIndex].etag == matchTag) {</span>
<a href="#l115.37"></a><span id="l115.37">                 items.splice(foundIndex, 1);</span>
<a href="#l115.38"></a><span id="l115.38">                 response.setStatusLine(null, 204, &quot;No Content&quot;);</span>
<a href="#l115.39"></a><span id="l115.39" class="difflineat">@@ -600,18 +600,17 @@ add_task(function* test_dateToJSON() {</span>
<a href="#l115.40"></a><span id="l115.40"> </span>
<a href="#l115.41"></a><span id="l115.41">         let parser = Components.classes[&quot;@mozilla.org/calendar/ics-parser;1&quot;]</span>
<a href="#l115.42"></a><span id="l115.42">                                .createInstance(Components.interfaces.calIIcsParser);</span>
<a href="#l115.43"></a><span id="l115.43">         parser.parseString(ics);</span>
<a href="#l115.44"></a><span id="l115.44">         let items = parser.getItems({});</span>
<a href="#l115.45"></a><span id="l115.45">         return items[0].startDate;</span>
<a href="#l115.46"></a><span id="l115.46">     }</span>
<a href="#l115.47"></a><span id="l115.47"> </span>
<a href="#l115.48"></a><span id="l115.48" class="difflineminus">-    let tzProvider = cal.getTimezoneService();</span>
<a href="#l115.49"></a><span id="l115.49" class="difflineminus">-    let dt, vtimezone;</span>
<a href="#l115.50"></a><span id="l115.50" class="difflineplus">+    let dt;</span>
<a href="#l115.51"></a><span id="l115.51"> </span>
<a href="#l115.52"></a><span id="l115.52">     // no timezone</span>
<a href="#l115.53"></a><span id="l115.53">     dt = _createDateTime(cal.floating());</span>
<a href="#l115.54"></a><span id="l115.54">     deepEqual(dateToJSON(dt), { &quot;dateTime&quot;: &quot;2015-01-30T12:00:00-00:00&quot; });</span>
<a href="#l115.55"></a><span id="l115.55"> </span>
<a href="#l115.56"></a><span id="l115.56">     // valid non-Olson tz name</span>
<a href="#l115.57"></a><span id="l115.57">     dt = _createDateTime(&quot;Eastern Standard Time&quot;);</span>
<a href="#l115.58"></a><span id="l115.58">     deepEqual(dateToJSON(dt), {&quot;dateTime&quot;: &quot;2015-01-30T12:00:00&quot;, &quot;timeZone&quot;: &quot;America/New_York&quot;});</span>
<a href="#l115.59"></a><span id="l115.59" class="difflineat">@@ -1300,17 +1299,17 @@ add_task(function* test_modify_invitatio</span>
<a href="#l115.60"></a><span id="l115.60">     equal(att.id, &quot;mailto:&quot; + attendee.email);</span>
<a href="#l115.61"></a><span id="l115.61">     equal(att.participationStatus, &quot;NEEDS-ACTION&quot;);</span>
<a href="#l115.62"></a><span id="l115.62"> </span>
<a href="#l115.63"></a><span id="l115.63">     newItem.removeAttendee(att);</span>
<a href="#l115.64"></a><span id="l115.64">     att = att.clone();</span>
<a href="#l115.65"></a><span id="l115.65">     att.participationStatus = &quot;ACCEPTED&quot;;</span>
<a href="#l115.66"></a><span id="l115.66">     newItem.addAttendee(att);</span>
<a href="#l115.67"></a><span id="l115.67"> </span>
<a href="#l115.68"></a><span id="l115.68" class="difflineminus">-    let modifiedItem = yield pclient.modifyItem(newItem, items[0]);</span>
<a href="#l115.69"></a><span id="l115.69" class="difflineplus">+    yield pclient.modifyItem(newItem, items[0]);</span>
<a href="#l115.70"></a><span id="l115.70">     equal(gServer.lastMethod, &quot;PATCH&quot;);</span>
<a href="#l115.71"></a><span id="l115.71"> </span>
<a href="#l115.72"></a><span id="l115.72">     // Case #2: User is organizer</span>
<a href="#l115.73"></a><span id="l115.73">     let events = gServer.events;</span>
<a href="#l115.74"></a><span id="l115.74">     gServer.resetClient(client);</span>
<a href="#l115.75"></a><span id="l115.75">     gServer.events = events;</span>
<a href="#l115.76"></a><span id="l115.76"> </span>
<a href="#l115.77"></a><span id="l115.77">     organizer = Object.assign({}, gServer.creator);</span>
<a href="#l115.78"></a><span id="l115.78" class="difflineat">@@ -1370,21 +1369,16 @@ add_task(function* test_metadata() {</span>
<a href="#l115.79"></a><span id="l115.79">         &quot;id&quot;: &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l115.80"></a><span id="l115.80">         &quot;etag&quot;: &quot;\&quot;2\&quot;&quot;,</span>
<a href="#l115.81"></a><span id="l115.81">         &quot;title&quot;: &quot;New Task&quot;,</span>
<a href="#l115.82"></a><span id="l115.82">         &quot;updated&quot;: &quot;2014-09-08T16:30:27.000Z&quot;,</span>
<a href="#l115.83"></a><span id="l115.83">         &quot;selfLink&quot;: gServer.baseUri + &quot;/tasks/v1/lists/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDow/tasks/MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;,</span>
<a href="#l115.84"></a><span id="l115.84">         &quot;notes&quot;: &quot;description&quot;</span>
<a href="#l115.85"></a><span id="l115.85">     }];</span>
<a href="#l115.86"></a><span id="l115.86"> </span>
<a href="#l115.87"></a><span id="l115.87" class="difflineminus">-    let idToEtag = {</span>
<a href="#l115.88"></a><span id="l115.88" class="difflineminus">-        &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;: '&quot;1&quot;',</span>
<a href="#l115.89"></a><span id="l115.89" class="difflineminus">-        &quot;MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo0MDI1NDg2NjU&quot;: '&quot;2&quot;'</span>
<a href="#l115.90"></a><span id="l115.90" class="difflineminus">-    };</span>
<a href="#l115.91"></a><span id="l115.91" class="difflineminus">-</span>
<a href="#l115.92"></a><span id="l115.92">     let client = yield gServer.getClient();</span>
<a href="#l115.93"></a><span id="l115.93">     let offline = client.wrappedJSObject.mCachedCalendar;</span>
<a href="#l115.94"></a><span id="l115.94">     let pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l115.95"></a><span id="l115.95"> </span>
<a href="#l115.96"></a><span id="l115.96">     // Check initial metadata</span>
<a href="#l115.97"></a><span id="l115.97">     let items = yield pclient.getAllItems();</span>
<a href="#l115.98"></a><span id="l115.98">     let meta = getAllMeta(offline);</span>
<a href="#l115.99"></a><span id="l115.99">     let [event, task] = items;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l116.1"></a><span id="l116.1" class="difflineminus">--- a/calendar/test/unit/test_hashedarray.js</span>
<a href="#l116.2"></a><span id="l116.2" class="difflineplus">+++ b/calendar/test/unit/test_hashedarray.js</span>
<a href="#l116.3"></a><span id="l116.3" class="difflineat">@@ -59,26 +59,16 @@ function checkConsistancy(har, testItems</span>
<a href="#l116.4"></a><span id="l116.4">                     ti.title);</span>
<a href="#l116.5"></a><span id="l116.5">         equal(itemAccessor(har.itemById(ti.hashId)).title,</span>
<a href="#l116.6"></a><span id="l116.6">                     ti.title);</span>
<a href="#l116.7"></a><span id="l116.7">         equal(har.indexOf(testItems[idx]), idx);</span>
<a href="#l116.8"></a><span id="l116.8">     }</span>
<a href="#l116.9"></a><span id="l116.9"> }</span>
<a href="#l116.10"></a><span id="l116.10"> </span>
<a href="#l116.11"></a><span id="l116.11"> /**</span>
<a href="#l116.12"></a><span id="l116.12" class="difflineminus">- * Useful for debugging, in case this test fails. Dumps the array showing the</span>
<a href="#l116.13"></a><span id="l116.13" class="difflineminus">- * title identifications.</span>
<a href="#l116.14"></a><span id="l116.14" class="difflineminus">- *</span>
<a href="#l116.15"></a><span id="l116.15" class="difflineminus">- * @param ar        The array to dump</span>
<a href="#l116.16"></a><span id="l116.16" class="difflineminus">- */</span>
<a href="#l116.17"></a><span id="l116.17" class="difflineminus">-function dumpArray(ar) {</span>
<a href="#l116.18"></a><span id="l116.18" class="difflineminus">-    dump(&quot;ARR: &quot; + ar.map(e =&gt; e.title).toSource() + &quot;\n&quot;);</span>
<a href="#l116.19"></a><span id="l116.19" class="difflineminus">-}</span>
<a href="#l116.20"></a><span id="l116.20" class="difflineminus">-</span>
<a href="#l116.21"></a><span id="l116.21" class="difflineminus">-/**</span>
<a href="#l116.22"></a><span id="l116.22">  * Man, this function is really hard to keep general enough, I'm almost tempted</span>
<a href="#l116.23"></a><span id="l116.23">  * to duplicate the code. It checks if the remove and modify operations work for</span>
<a href="#l116.24"></a><span id="l116.24">  * the given hashed array.</span>
<a href="#l116.25"></a><span id="l116.25">  *</span>
<a href="#l116.26"></a><span id="l116.26">  * @param har               The Hashed Array</span>
<a href="#l116.27"></a><span id="l116.27">  * @param testItems         The js array with the items</span>
<a href="#l116.28"></a><span id="l116.28">  * @param postprocessFunc   (optional) The function to call after each</span>
<a href="#l116.29"></a><span id="l116.29">  *                            operation, but before checking consistancy.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l117.1"></a><span id="l117.1" class="difflineminus">--- a/calendar/test/unit/test_ics_service.js</span>
<a href="#l117.2"></a><span id="l117.2" class="difflineplus">+++ b/calendar/test/unit/test_ics_service.js</span>
<a href="#l117.3"></a><span id="l117.3" class="difflineat">@@ -151,17 +151,16 @@ function test_icalproperty() {</span>
<a href="#l117.4"></a><span id="l117.4">     equal(prop.value, &quot;A\\nB&quot;);</span>
<a href="#l117.5"></a><span id="l117.5">     equal(prop.valueAsIcalString, &quot;A\\\\nB&quot;);</span>
<a href="#l117.6"></a><span id="l117.6">     equal(prop.valueAsDatetime, null);</span>
<a href="#l117.7"></a><span id="l117.7"> }</span>
<a href="#l117.8"></a><span id="l117.8"> </span>
<a href="#l117.9"></a><span id="l117.9"> function test_icalcomponent() {</span>
<a href="#l117.10"></a><span id="l117.10">     let svc = cal.getIcsService();</span>
<a href="#l117.11"></a><span id="l117.11">     let event = svc.createIcalComponent(&quot;VEVENT&quot;);</span>
<a href="#l117.12"></a><span id="l117.12" class="difflineminus">-    let todo = svc.createIcalComponent(&quot;VTODO&quot;);</span>
<a href="#l117.13"></a><span id="l117.13">     let alarm = svc.createIcalComponent(&quot;VALARM&quot;);</span>
<a href="#l117.14"></a><span id="l117.14">     event.addSubcomponent(alarm);</span>
<a href="#l117.15"></a><span id="l117.15"> </span>
<a href="#l117.16"></a><span id="l117.16">     // Check that the parent works and does not appear on cloned instances</span>
<a href="#l117.17"></a><span id="l117.17">     let alarm2 = alarm.clone();</span>
<a href="#l117.18"></a><span id="l117.18">     equal(alarm.parent.toString(), event.toString());</span>
<a href="#l117.19"></a><span id="l117.19">     equal(alarm2.parent, null);</span>
<a href="#l117.20"></a><span id="l117.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l118.1"></a><span id="l118.1" class="difflineminus">--- a/calendar/test/unit/test_ltninvitationutils.js</span>
<a href="#l118.2"></a><span id="l118.2" class="difflineplus">+++ b/calendar/test/unit/test_ltninvitationutils.js</span>
<a href="#l118.3"></a><span id="l118.3" class="difflineat">@@ -316,17 +316,16 @@ add_task(function* createInvitationOverl</span>
<a href="#l118.4"></a><span id="l118.4"> </span>
<a href="#l118.5"></a><span id="l118.5"> add_task(function* compareInvitationOverlay_test() {</span>
<a href="#l118.6"></a><span id="l118.6">     // eventually it would make sense to set local timezone to Europe/Berlin to avoid test</span>
<a href="#l118.7"></a><span id="l118.7">     // failures when executing in a different timezone</span>
<a href="#l118.8"></a><span id="l118.8">     function getDom(aInput) {</span>
<a href="#l118.9"></a><span id="l118.9">         let item = getIcs();</span>
<a href="#l118.10"></a><span id="l118.10">         let props = [&quot;attendee&quot;, &quot;organizer&quot;, &quot;dtstart&quot;, &quot;dtend&quot;, &quot;summary&quot;, &quot;location&quot;];</span>
<a href="#l118.11"></a><span id="l118.11">         for (let prop of props) {</span>
<a href="#l118.12"></a><span id="l118.12" class="difflineminus">-            let copyItem = item;</span>
<a href="#l118.13"></a><span id="l118.13">             if (Object.keys(aInput).includes(prop)) {</span>
<a href="#l118.14"></a><span id="l118.14">                 let regex = prop.toUpperCase() +</span>
<a href="#l118.15"></a><span id="l118.15">                             ([&quot;summary&quot;, &quot;location&quot;].includes(prop) ? &quot;:&quot; : &quot;;&quot;) +</span>
<a href="#l118.16"></a><span id="l118.16">                             &quot;[^\r]+\r\n&quot;;</span>
<a href="#l118.17"></a><span id="l118.17">                 item = item.replace(new RegExp(regex), aInput[prop]);</span>
<a href="#l118.18"></a><span id="l118.18">             }</span>
<a href="#l118.19"></a><span id="l118.19">         }</span>
<a href="#l118.20"></a><span id="l118.20">         let itipItem = Components.classes[&quot;@mozilla.org/calendar/itip-item;1&quot;]</span>
<a href="#l118.21"></a><span id="l118.21" class="difflineat">@@ -549,26 +548,25 @@ add_task(function* getHeaderSection_test</span>
<a href="#l118.22"></a><span id="l118.22">                   &quot;?w6kp?=\r\n&quot; +</span>
<a href="#l118.23"></a><span id="l118.23">                   &quot;Cc: =?UTF-8?B?UmVuw6k=?= &lt;cc@example.net&gt;\r\n&quot; +</span>
<a href="#l118.24"></a><span id="l118.24">                   &quot;Bcc: =?UTF-8?B?UmVuw6k=?= &lt;bcc@example.net&gt;\r\n&quot;</span>
<a href="#l118.25"></a><span id="l118.25">     }];</span>
<a href="#l118.26"></a><span id="l118.26">     let i = 0;</span>
<a href="#l118.27"></a><span id="l118.27">     for (let test of data) {</span>
<a href="#l118.28"></a><span id="l118.28">         i++;</span>
<a href="#l118.29"></a><span id="l118.29">         let identity = MailServices.accounts.createIdentity();</span>
<a href="#l118.30"></a><span id="l118.30" class="difflineminus">-        for (let attribute of Object.keys(test.input.identity)) {</span>
<a href="#l118.31"></a><span id="l118.31" class="difflineminus">-            identity.email = test.input.identity.email || null;</span>
<a href="#l118.32"></a><span id="l118.32" class="difflineminus">-            identity.fullName = test.input.identity.fullName || null;</span>
<a href="#l118.33"></a><span id="l118.33" class="difflineminus">-            identity.replyTo = test.input.identity.replyTo || null;</span>
<a href="#l118.34"></a><span id="l118.34" class="difflineminus">-            identity.organization = test.input.identity.organization || null;</span>
<a href="#l118.35"></a><span id="l118.35" class="difflineminus">-            identity.doCc = test.input.identity.doCc || (test.input.identity.cc);</span>
<a href="#l118.36"></a><span id="l118.36" class="difflineminus">-            identity.doCcList = test.input.identity.cc || null;</span>
<a href="#l118.37"></a><span id="l118.37" class="difflineminus">-            identity.doBcc = test.input.identity.doBcc || (test.input.identity.bcc);</span>
<a href="#l118.38"></a><span id="l118.38" class="difflineminus">-            identity.doBccList = test.input.identity.bcc || null;</span>
<a href="#l118.39"></a><span id="l118.39" class="difflineminus">-        }</span>
<a href="#l118.40"></a><span id="l118.40" class="difflineplus">+        identity.email = test.input.identity.email || null;</span>
<a href="#l118.41"></a><span id="l118.41" class="difflineplus">+        identity.fullName = test.input.identity.fullName || null;</span>
<a href="#l118.42"></a><span id="l118.42" class="difflineplus">+        identity.replyTo = test.input.identity.replyTo || null;</span>
<a href="#l118.43"></a><span id="l118.43" class="difflineplus">+        identity.organization = test.input.identity.organization || null;</span>
<a href="#l118.44"></a><span id="l118.44" class="difflineplus">+        identity.doCc = test.input.identity.doCc || (test.input.identity.cc);</span>
<a href="#l118.45"></a><span id="l118.45" class="difflineplus">+        identity.doCcList = test.input.identity.cc || null;</span>
<a href="#l118.46"></a><span id="l118.46" class="difflineplus">+        identity.doBcc = test.input.identity.doBcc || (test.input.identity.bcc);</span>
<a href="#l118.47"></a><span id="l118.47" class="difflineplus">+        identity.doBccList = test.input.identity.bcc || null;</span>
<a href="#l118.48"></a><span id="l118.48" class="difflineplus">+</span>
<a href="#l118.49"></a><span id="l118.49">         let composeUtils = Components.classes[&quot;@mozilla.org/messengercompose/computils;1&quot;]</span>
<a href="#l118.50"></a><span id="l118.50">                                      .createInstance(Components.interfaces.nsIMsgCompUtils);</span>
<a href="#l118.51"></a><span id="l118.51">         let messageId = composeUtils.msgGenerateMessageId(identity);</span>
<a href="#l118.52"></a><span id="l118.52"> </span>
<a href="#l118.53"></a><span id="l118.53">         let header = ltn.invitation.getHeaderSection(messageId, identity,</span>
<a href="#l118.54"></a><span id="l118.54">                                                      test.input.toList, test.input.subject);</span>
<a href="#l118.55"></a><span id="l118.55">         // we test Date and Message-ID headers separately to avoid false positives</span>
<a href="#l118.56"></a><span id="l118.56">         ok(!!header.match(/Date\:.+(?:\n|\r\n|\r)/),</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l119.1"></a><span id="l119.1" class="difflineminus">--- a/calendar/test/unit/test_recur.js</span>
<a href="#l119.2"></a><span id="l119.2" class="difflineplus">+++ b/calendar/test/unit/test_recur.js</span>
<a href="#l119.3"></a><span id="l119.3" class="difflineat">@@ -14,16 +14,17 @@ function really_run_test() {</span>
<a href="#l119.4"></a><span id="l119.4">     test_interface();</span>
<a href="#l119.5"></a><span id="l119.5">     test_rrule_interface();</span>
<a href="#l119.6"></a><span id="l119.6">     test_rules();</span>
<a href="#l119.7"></a><span id="l119.7">     test_failures();</span>
<a href="#l119.8"></a><span id="l119.8">     test_limit();</span>
<a href="#l119.9"></a><span id="l119.9">     test_startdate_change();</span>
<a href="#l119.10"></a><span id="l119.10">     test_idchange();</span>
<a href="#l119.11"></a><span id="l119.11">     test_rrule_icalstring();</span>
<a href="#l119.12"></a><span id="l119.12" class="difflineplus">+    test_immutable();</span>
<a href="#l119.13"></a><span id="l119.13"> }</span>
<a href="#l119.14"></a><span id="l119.14"> </span>
<a href="#l119.15"></a><span id="l119.15"> function test_rules() {</span>
<a href="#l119.16"></a><span id="l119.16">     function check_recur(event, expected, ignoreNextOccCheck) {</span>
<a href="#l119.17"></a><span id="l119.17">         dump(&quot;Checking '&quot; + event.getProperty(&quot;DESCRIPTION&quot;) + &quot;'\n&quot;);</span>
<a href="#l119.18"></a><span id="l119.18">         // Get recurrence dates</span>
<a href="#l119.19"></a><span id="l119.19">         let start = createDate(1990, 0, 1);</span>
<a href="#l119.20"></a><span id="l119.20">         let end = createDate(2020, 0, 1);</span>
<a href="#l119.21"></a><span id="l119.21" class="difflineat">@@ -697,17 +698,17 @@ function test_startdate_change() {</span>
<a href="#l119.22"></a><span id="l119.22">     }</span>
<a href="#l119.23"></a><span id="l119.23"> </span>
<a href="#l119.24"></a><span id="l119.24">     function changeBy(changeItem, dur) {</span>
<a href="#l119.25"></a><span id="l119.25">         let newDate = changeItem.startDate.clone();</span>
<a href="#l119.26"></a><span id="l119.26">         newDate.addDuration(cal.createDuration(dur));</span>
<a href="#l119.27"></a><span id="l119.27">         changeItem.startDate = newDate;</span>
<a href="#l119.28"></a><span id="l119.28">     }</span>
<a href="#l119.29"></a><span id="l119.29"> </span>
<a href="#l119.30"></a><span id="l119.30" class="difflineminus">-    let dur, ritem;</span>
<a href="#l119.31"></a><span id="l119.31" class="difflineplus">+    let ritem;</span>
<a href="#l119.32"></a><span id="l119.32"> </span>
<a href="#l119.33"></a><span id="l119.33">     // Changing an existing start date for a recurring item shouldn't either</span>
<a href="#l119.34"></a><span id="l119.34">     item = makeRecEvent(&quot;RRULE:FREQ=DAILY\r\n&quot;);</span>
<a href="#l119.35"></a><span id="l119.35">     changeBy(item, &quot;PT1H&quot;);</span>
<a href="#l119.36"></a><span id="l119.36"> </span>
<a href="#l119.37"></a><span id="l119.37">     // Event with an rdate</span>
<a href="#l119.38"></a><span id="l119.38">     item = makeRecEvent(&quot;RDATE:20020403T114500Z\r\n&quot;);</span>
<a href="#l119.39"></a><span id="l119.39">     changeBy(item, &quot;PT1H&quot;);</span>
<a href="#l119.40"></a><span id="l119.40" class="difflineat">@@ -797,24 +798,24 @@ function test_failures() {</span>
<a href="#l119.41"></a><span id="l119.41"> function test_immutable() {</span>
<a href="#l119.42"></a><span id="l119.42">     item = createEventFromIcalString(&quot;BEGIN:VCALENDAR\r\n&quot; +</span>
<a href="#l119.43"></a><span id="l119.43">         &quot;BEGIN:VTODO\r\n&quot; +</span>
<a href="#l119.44"></a><span id="l119.44">         &quot;RRULE:FREQ=DAILY\r\n&quot; +</span>
<a href="#l119.45"></a><span id="l119.45">         &quot;END:VTODO\r\n&quot; +</span>
<a href="#l119.46"></a><span id="l119.46">         &quot;END:VCALENDAR\r\n&quot;</span>
<a href="#l119.47"></a><span id="l119.47">     );</span>
<a href="#l119.48"></a><span id="l119.48">     ok(item.recurrenceInfo.isMutable);</span>
<a href="#l119.49"></a><span id="l119.49" class="difflineminus">-    let rinfo2 = item.recurrenceInfo.clone();</span>
<a href="#l119.50"></a><span id="l119.50" class="difflineminus">-    rinfo2.makeImmutable();</span>
<a href="#l119.51"></a><span id="l119.51" class="difflineminus">-    rinfo2.makeImmutable(); // Doing so twice shouldn't throw</span>
<a href="#l119.52"></a><span id="l119.52" class="difflineminus">-    throws(() =&gt; rinfo2.appendRecurrenceItem(ritem), /Can not modify immutable data container/);</span>
<a href="#l119.53"></a><span id="l119.53" class="difflineminus">-    ok(!rinfo2.isMutable);</span>
<a href="#l119.54"></a><span id="l119.54" class="difflineplus">+    let rinfo = item.recurrenceInfo.clone();</span>
<a href="#l119.55"></a><span id="l119.55" class="difflineplus">+    let ritem = cal.createRecurrenceDate();</span>
<a href="#l119.56"></a><span id="l119.56" class="difflineplus">+    rinfo.makeImmutable();</span>
<a href="#l119.57"></a><span id="l119.57" class="difflineplus">+    rinfo.makeImmutable(); // Doing so twice shouldn't throw</span>
<a href="#l119.58"></a><span id="l119.58" class="difflineplus">+    throws(() =&gt; rinfo.appendRecurrenceItem(ritem), /Can not modify immutable data container/);</span>
<a href="#l119.59"></a><span id="l119.59" class="difflineplus">+    ok(!rinfo.isMutable);</span>
<a href="#l119.60"></a><span id="l119.60"> </span>
<a href="#l119.61"></a><span id="l119.61" class="difflineminus">-    let ritem = cal.createRecurrenceDate();</span>
<a href="#l119.62"></a><span id="l119.62" class="difflineminus">-    rinfo.appenRecurrenceItem(ritem);</span>
<a href="#l119.63"></a><span id="l119.63" class="difflineplus">+    item.recurrenceInfo.appendRecurrenceItem(ritem);</span>
<a href="#l119.64"></a><span id="l119.64"> }</span>
<a href="#l119.65"></a><span id="l119.65"> </span>
<a href="#l119.66"></a><span id="l119.66"> function test_rrule_icalstring() {</span>
<a href="#l119.67"></a><span id="l119.67">     let recRule = createRecurrenceRule();</span>
<a href="#l119.68"></a><span id="l119.68">     recRule.type = &quot;DAILY&quot;;</span>
<a href="#l119.69"></a><span id="l119.69">     recRule.interval = 4;</span>
<a href="#l119.70"></a><span id="l119.70">     equal(recRule.icalString, &quot;RRULE:FREQ=DAILY;INTERVAL=4\r\n&quot;);</span>
<a href="#l119.71"></a><span id="l119.71"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l120.1"></a><span id="l120.1" class="difflineminus">--- a/calendar/test/unit/test_search_service.js</span>
<a href="#l120.2"></a><span id="l120.2" class="difflineplus">+++ b/calendar/test/unit/test_search_service.js</span>
<a href="#l120.3"></a><span id="l120.3" class="difflineat">@@ -58,17 +58,17 @@ function test_found() {</span>
<a href="#l120.4"></a><span id="l120.4">             ok(!this.called);</span>
<a href="#l120.5"></a><span id="l120.5">             this.called = true;</span>
<a href="#l120.6"></a><span id="l120.6"> </span>
<a href="#l120.7"></a><span id="l120.7">             equal(result.length, 1);</span>
<a href="#l120.8"></a><span id="l120.8">             equal(result[0].id, &quot;test&quot;);</span>
<a href="#l120.9"></a><span id="l120.9">         }</span>
<a href="#l120.10"></a><span id="l120.10">     };</span>
<a href="#l120.11"></a><span id="l120.11"> </span>
<a href="#l120.12"></a><span id="l120.12" class="difflineminus">-    let op = search.searchForCalendars(&quot;str&quot;, HINT_EXACT_MATCH, 0, listener);</span>
<a href="#l120.13"></a><span id="l120.13" class="difflineplus">+    search.searchForCalendars(&quot;str&quot;, HINT_EXACT_MATCH, 0, listener);</span>
<a href="#l120.14"></a><span id="l120.14">     ok(listener.called);</span>
<a href="#l120.15"></a><span id="l120.15">     ok(provider2.called);</span>
<a href="#l120.16"></a><span id="l120.16"> }</span>
<a href="#l120.17"></a><span id="l120.17"> </span>
<a href="#l120.18"></a><span id="l120.18"> function test_failure() {</span>
<a href="#l120.19"></a><span id="l120.19">     search.getProviders({}).forEach(search.removeProvider, search);</span>
<a href="#l120.20"></a><span id="l120.20"> </span>
<a href="#l120.21"></a><span id="l120.21">     let provider = {</span>
<a href="#l120.22"></a><span id="l120.22" class="difflineat">@@ -83,17 +83,17 @@ function test_failure() {</span>
<a href="#l120.23"></a><span id="l120.23">             ok(!this.called);</span>
<a href="#l120.24"></a><span id="l120.24">             this.called = true;</span>
<a href="#l120.25"></a><span id="l120.25">             equal(result.length, 0);</span>
<a href="#l120.26"></a><span id="l120.26">         }</span>
<a href="#l120.27"></a><span id="l120.27">     };</span>
<a href="#l120.28"></a><span id="l120.28"> </span>
<a href="#l120.29"></a><span id="l120.29">     search.addProvider(provider);</span>
<a href="#l120.30"></a><span id="l120.30"> </span>
<a href="#l120.31"></a><span id="l120.31" class="difflineminus">-    let op = search.searchForCalendars(&quot;str&quot;, HINT_EXACT_MATCH, 0, listener);</span>
<a href="#l120.32"></a><span id="l120.32" class="difflineplus">+    search.searchForCalendars(&quot;str&quot;, HINT_EXACT_MATCH, 0, listener);</span>
<a href="#l120.33"></a><span id="l120.33">     ok(listener.called);</span>
<a href="#l120.34"></a><span id="l120.34"> }</span>
<a href="#l120.35"></a><span id="l120.35"> </span>
<a href="#l120.36"></a><span id="l120.36"> function test_cancel() {</span>
<a href="#l120.37"></a><span id="l120.37">     search.getProviders({}).forEach(search.removeProvider, search);</span>
<a href="#l120.38"></a><span id="l120.38"> </span>
<a href="#l120.39"></a><span id="l120.39">     let provider = {</span>
<a href="#l120.40"></a><span id="l120.40">         QueryInterface: XPCOMUtils.generateQI([Components.interfaces.calICalendarSearchProvider, Components.interfaces.calIOperation]),</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

