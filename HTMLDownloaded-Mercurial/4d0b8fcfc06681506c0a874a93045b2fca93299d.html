<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 23735:4d0b8fcfc06681506c0a874a93045b2fca93299d</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 4d0b8fcfc06681506c0a874a93045b2fca93299d" />
<meta property="og:url" content="/comm-central/rev/4d0b8fcfc06681506c0a874a93045b2fca93299d" />
<meta property="og:description" content="Bug 1440490 - Move l10n related functions into calL10NUtils.jsm - part 8 - migrate remaining calGetString instances. r=MakeMyDay" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 4d0b8fcfc06681506c0a874a93045b2fca93299d 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/4d0b8fcfc06681506c0a874a93045b2fca93299d">shortlog</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/4d0b8fcfc06681506c0a874a93045b2fca93299d">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d">files</a> |
changeset |
<a href="/comm-central/raw-rev/4d0b8fcfc06681506c0a874a93045b2fca93299d">raw</a>  | <a href="/comm-central/archive/4d0b8fcfc06681506c0a874a93045b2fca93299d.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1440490">Bug 1440490</a> - Move l10n related functions into calL10NUtils.jsm - part 8 - migrate remaining calGetString instances. r=MakeMyDay
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#80;&#104;&#105;&#108;&#105;&#112;&#112;&#32;&#75;&#101;&#119;&#105;&#115;&#99;&#104;&#32;&#60;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#107;&#101;&#119;&#105;&#115;&#46;&#99;&#104;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 22 Feb 2018 09:44:33 +0100</td></tr>

<tr>
 <td>changeset 23735</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/4d0b8fcfc06681506c0a874a93045b2fca93299d">4d0b8fcfc06681506c0a874a93045b2fca93299d</a></td>
</tr>



<tr>
<td>parent 23734</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/cb5c6db5bd6d65d5e2bab5b62f006304babeda0a">cb5c6db5bd6d65d5e2bab5b62f006304babeda0a</a>
</td>
</tr>

<tr>
<td>child 23736</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/bd7d95197814fc63104adf82a36963d6d851c7d1">bd7d95197814fc63104adf82a36963d6d851c7d1</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=4d0b8fcfc06681506c0a874a93045b2fca93299d">14318</a></td></tr>
<tr><td>push user</td><td>mozilla@kewis.ch</td></tr>
<tr><td>push date</td><td class="date age">Sat, 14 Apr 2018 20:53:18 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@56a8323d4235 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=56a8323d4235bb4edbc60b455d3590100a4af34d">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=56a8323d4235bb4edbc60b455d3590100a4af34d&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=56a8323d4235bb4edbc60b455d3590100a4af34d&newProject=comm-central&newRevision=2a4475b8555b7ca273fa96b199621a4360d510f7&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=56a8323d4235bb4edbc60b455d3590100a4af34d&newProject=comm-central&newRevision=2a4475b8555b7ca273fa96b199621a4360d510f7&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=56a8323d4235bb4edbc60b455d3590100a4af34d&newProject=comm-central&newRevision=2a4475b8555b7ca273fa96b199621a4360d510f7&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28MakeMyDay%29&revcount=50">MakeMyDay</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1440490">1440490</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1440490">Bug 1440490</a> - Move l10n related functions into calL10NUtils.jsm - part 8 - migrate remaining calGetString instances. r=MakeMyDay

MozReview-Commit-ID: AtKAYYwS0ED</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-daypicker.xml">calendar/base/content/calendar-daypicker.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-daypicker.xml">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-daypicker.xml">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-daypicker.xml">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-daypicker.xml">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-daypicker.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-extract.js">calendar/base/content/calendar-extract.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-extract.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-extract.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-extract.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-extract.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-extract.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-task-view.js">calendar/base/content/calendar-task-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-task-view.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-task-view.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-task-view.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-task-view.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-task-view.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-views.js">calendar/base/content/calendar-views.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-views.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-views.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-views.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-views.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/calendar-views.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-alarm-dialog.js">calendar/base/content/dialogs/calendar-alarm-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-alarm-dialog.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-alarm-dialog.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-alarm-dialog.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-alarm-dialog.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-alarm-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">calendar/base/content/dialogs/calendar-event-dialog-reminder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-occurrence-prompt.xul">calendar/base/content/dialogs/calendar-occurrence-prompt.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-occurrence-prompt.xul">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-occurrence-prompt.xul">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-occurrence-prompt.xul">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-occurrence-prompt.xul">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-occurrence-prompt.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-summary-dialog.js">calendar/base/content/dialogs/calendar-summary-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-summary-dialog.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-summary-dialog.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-summary-dialog.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-summary-dialog.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/dialogs/calendar-summary-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/widgets/calendar-alarm-widget.xml">calendar/base/content/widgets/calendar-alarm-widget.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/widgets/calendar-alarm-widget.xml">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/widgets/calendar-alarm-widget.xml">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/widgets/calendar-alarm-widget.xml">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/widgets/calendar-alarm-widget.xml">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/content/widgets/calendar-alarm-widget.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calAuthUtils.jsm">calendar/base/modules/calAuthUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calAuthUtils.jsm">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calAuthUtils.jsm">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calAuthUtils.jsm">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calAuthUtils.jsm">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calAuthUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calCategoryUtils.jsm">calendar/base/modules/calCategoryUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calCategoryUtils.jsm">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calCategoryUtils.jsm">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calCategoryUtils.jsm">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calCategoryUtils.jsm">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calCategoryUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calRecurrenceUtils.jsm">calendar/base/modules/calRecurrenceUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calRecurrenceUtils.jsm">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calRecurrenceUtils.jsm">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calRecurrenceUtils.jsm">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calRecurrenceUtils.jsm">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/modules/calRecurrenceUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calAlarm.js">calendar/base/src/calAlarm.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calAlarm.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calAlarm.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calAlarm.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calAlarm.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calAlarm.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calCalendarManager.js">calendar/base/src/calCalendarManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calCalendarManager.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calCalendarManager.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calCalendarManager.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calCalendarManager.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/base/src/calCalendarManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/lightning-item-iframe.js">calendar/lightning/content/lightning-item-iframe.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/lightning-item-iframe.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/lightning-item-iframe.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/lightning-item-iframe.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/lightning-item-iframe.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/lightning-item-iframe.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/messenger-overlay-sidebar.js">calendar/lightning/content/messenger-overlay-sidebar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/messenger-overlay-sidebar.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/messenger-overlay-sidebar.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/messenger-overlay-sidebar.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/messenger-overlay-sidebar.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/lightning/content/messenger-overlay-sidebar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/providers/caldav/calDavCalendar.js">calendar/providers/caldav/calDavCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/providers/caldav/calDavCalendar.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/providers/caldav/calDavCalendar.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/providers/caldav/calDavCalendar.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/providers/caldav/calDavCalendar.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/providers/caldav/calDavCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/calendarCreation.js">calendar/resources/content/calendarCreation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/calendarCreation.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/calendarCreation.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/calendarCreation.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/calendarCreation.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/calendarCreation.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/datetimepickers/datetimepickers.xml">calendar/resources/content/datetimepickers/datetimepickers.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/datetimepickers/datetimepickers.xml">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/datetimepickers/datetimepickers.xml">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/datetimepickers/datetimepickers.xml">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/datetimepickers/datetimepickers.xml">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/resources/content/datetimepickers/datetimepickers.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/test/mozmill/testAlarmDefaultValue.js">calendar/test/mozmill/testAlarmDefaultValue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/test/mozmill/testAlarmDefaultValue.js">file</a> |
<a href="/comm-central/annotate/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/test/mozmill/testAlarmDefaultValue.js">annotate</a> |
<a href="/comm-central/diff/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/test/mozmill/testAlarmDefaultValue.js">diff</a> |
<a href="/comm-central/comparison/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/test/mozmill/testAlarmDefaultValue.js">comparison</a> |
<a href="/comm-central/log/4d0b8fcfc06681506c0a874a93045b2fca93299d/calendar/test/mozmill/testAlarmDefaultValue.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/calendar-daypicker.xml</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/calendar-daypicker.xml</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -253,14 +253,14 @@</span>
<a href="#l1.4"></a><span id="l1.4">           for (let i = 0; i &lt; numRows; i++) {</span>
<a href="#l1.5"></a><span id="l1.5">               let row = mainbox.childNodes[i];</span>
<a href="#l1.6"></a><span id="l1.6">               let numChilds = row.childNodes.length;</span>
<a href="#l1.7"></a><span id="l1.7">               for (let j = 0; j &lt; numChilds; j++) {</span>
<a href="#l1.8"></a><span id="l1.8">                   child = row.childNodes[j];</span>
<a href="#l1.9"></a><span id="l1.9">                   child.calendar = this;</span>
<a href="#l1.10"></a><span id="l1.10">               }</span>
<a href="#l1.11"></a><span id="l1.11">           }</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-          let labelLastDay = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;eventRecurrenceMonthlyLastDayLabel&quot;);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+          let labelLastDay = cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;eventRecurrenceMonthlyLastDayLabel&quot;);</span>
<a href="#l1.14"></a><span id="l1.14">           child.setAttribute(&quot;label&quot;, labelLastDay);</span>
<a href="#l1.15"></a><span id="l1.15">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l1.16"></a><span id="l1.16">     &lt;/implementation&gt;</span>
<a href="#l1.17"></a><span id="l1.17">   &lt;/binding&gt;</span>
<a href="#l1.18"></a><span id="l1.18"> &lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/calendar-extract.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/calendar-extract.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -17,17 +17,17 @@ var calendarExtract = {</span>
<a href="#l2.4"></a><span id="l2.4">         let locales = chrome.getLocalesForPackage(&quot;calendar&quot;);</span>
<a href="#l2.5"></a><span id="l2.5">         let langRegex = /^(([^-]+)-*(.*))$/;</span>
<a href="#l2.6"></a><span id="l2.6"> </span>
<a href="#l2.7"></a><span id="l2.7">         while (locales.hasMore()) {</span>
<a href="#l2.8"></a><span id="l2.8">             let localeParts = langRegex.exec(locales.getNext());</span>
<a href="#l2.9"></a><span id="l2.9">             let langName = localeParts[2];</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11">             try {</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-                langName = cal.calGetString(&quot;languageNames&quot;, langName, null, &quot;global&quot;);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+                langName = cal.l10n.getAnyString(&quot;global&quot;, &quot;languageNames&quot;, langName);</span>
<a href="#l2.14"></a><span id="l2.14">             } catch (ex) {</span>
<a href="#l2.15"></a><span id="l2.15">                 // If no language name is found that is ok, keep the technical term</span>
<a href="#l2.16"></a><span id="l2.16">             }</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18">             let label = cal.l10n.getCalString(&quot;extractUsing&quot;, [langName]);</span>
<a href="#l2.19"></a><span id="l2.19">             if (localeParts[3] != &quot;&quot;) {</span>
<a href="#l2.20"></a><span id="l2.20">                 label = cal.l10n.getCalString(&quot;extractUsingRegion&quot;, [langName, localeParts[3]]);</span>
<a href="#l2.21"></a><span id="l2.21">             }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/calendar-task-view.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-view.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -213,17 +213,17 @@ function taskViewUpdate(aFilter) {</span>
<a href="#l3.4"></a><span id="l3.4">  * XXX We already have a function with this name in the event dialog. Either</span>
<a href="#l3.5"></a><span id="l3.5">  * consolidate or make name more clear.</span>
<a href="#l3.6"></a><span id="l3.6">  */</span>
<a href="#l3.7"></a><span id="l3.7"> function sendMailToOrganizer() {</span>
<a href="#l3.8"></a><span id="l3.8">     let item = document.getElementById(&quot;calendar-task-tree&quot;).currentTask;</span>
<a href="#l3.9"></a><span id="l3.9">     if (item != null) {</span>
<a href="#l3.10"></a><span id="l3.10">         let organizer = item.organizer;</span>
<a href="#l3.11"></a><span id="l3.11">         let email = cal.email.getAttendeeEmail(organizer, true);</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-        let emailSubject = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;emailSubjectReply&quot;, [item.title]);</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+        let emailSubject = cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;emailSubjectReply&quot;, [item.title]);</span>
<a href="#l3.14"></a><span id="l3.14">         let identity = item.calendar.getProperty(&quot;imip.identity&quot;);</span>
<a href="#l3.15"></a><span id="l3.15">         cal.email.sendTo(email, emailSubject, null, identity);</span>
<a href="#l3.16"></a><span id="l3.16">     }</span>
<a href="#l3.17"></a><span id="l3.17"> }</span>
<a href="#l3.18"></a><span id="l3.18"> </span>
<a href="#l3.19"></a><span id="l3.19"> /**</span>
<a href="#l3.20"></a><span id="l3.20">  * Handler function to observe changing of the calendar display deck. Updates</span>
<a href="#l3.21"></a><span id="l3.21">  * the task tree if the task view was selected.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/calendar-views.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/calendar-views.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -707,17 +707,17 @@ cal.navigationBar = {</span>
<a href="#l4.4"></a><span id="l4.4">             } else {</span>
<a href="#l4.5"></a><span id="l4.5">                 weekLabel.value = cal.l10n.getCalString(&quot;severalShortCalendarWeeks&quot;, [firstWeekNo, secondWeekNo]);</span>
<a href="#l4.6"></a><span id="l4.6">                 weekLabel.tooltipText = cal.l10n.getCalString(&quot;severalLongCalendarWeeks&quot;, [firstWeekNo, secondWeekNo]);</span>
<a href="#l4.7"></a><span id="l4.7">             }</span>
<a href="#l4.8"></a><span id="l4.8">             docTitle = intervalLabel.value;</span>
<a href="#l4.9"></a><span id="l4.9">         }</span>
<a href="#l4.10"></a><span id="l4.10">         if (document.getElementById(&quot;modeBroadcaster&quot;).getAttribute(&quot;mode&quot;) == &quot;calendar&quot;) {</span>
<a href="#l4.11"></a><span id="l4.11">             document.title = (docTitle ? docTitle + &quot; - &quot; : &quot;&quot;) +</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-                cal.calGetString(&quot;brand&quot;, &quot;brandFullName&quot;, null, &quot;branding&quot;);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+                cal.l10n.getAnyString(&quot;branding&quot;, &quot;brand&quot;, &quot;brandFullName&quot;);</span>
<a href="#l4.14"></a><span id="l4.14">         }</span>
<a href="#l4.15"></a><span id="l4.15">         let viewTabs = document.getElementById(&quot;view-tabs&quot;);</span>
<a href="#l4.16"></a><span id="l4.16">         viewTabs.selectedIndex = getViewDeck().selectedIndex;</span>
<a href="#l4.17"></a><span id="l4.17">     }</span>
<a href="#l4.18"></a><span id="l4.18"> };</span>
<a href="#l4.19"></a><span id="l4.19"> </span>
<a href="#l4.20"></a><span id="l4.20"> /*</span>
<a href="#l4.21"></a><span id="l4.21">  * Timer for the time indicator in day and week view.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -351,29 +351,28 @@ function doReadOnlyChecks() {</span>
<a href="#l5.4"></a><span id="l5.4">             countRO++;</span>
<a href="#l5.5"></a><span id="l5.5">         }</span>
<a href="#l5.6"></a><span id="l5.6">     }</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8">     // we disable the button if there are only alarms for not-writable items</span>
<a href="#l5.9"></a><span id="l5.9">     let snoozeAllButton = document.getElementById(&quot;alarm-snooze-all-button&quot;);</span>
<a href="#l5.10"></a><span id="l5.10">     snoozeAllButton.disabled = (countRO &amp;&amp; countRO == alarmRichlist.childNodes.length);</span>
<a href="#l5.11"></a><span id="l5.11">     if (snoozeAllButton.disabled) {</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-        let tooltip = cal.calGetString(&quot;calendar-alarms&quot;,</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-                                       &quot;reminderDisabledSnoozeButtonTooltip&quot;);</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+        let tooltip = cal.l10n.getString(&quot;calendar-alarms&quot;, &quot;reminderDisabledSnoozeButtonTooltip&quot;);</span>
<a href="#l5.15"></a><span id="l5.15">         snoozeAllButton.setAttribute(&quot;tooltiptext&quot;, tooltip);</span>
<a href="#l5.16"></a><span id="l5.16">     } else {</span>
<a href="#l5.17"></a><span id="l5.17">         snoozeAllButton.removeAttribute(&quot;tooltiptext&quot;);</span>
<a href="#l5.18"></a><span id="l5.18">     }</span>
<a href="#l5.19"></a><span id="l5.19"> </span>
<a href="#l5.20"></a><span id="l5.20">     let nBox = document.getElementById(&quot;readonly-notification&quot;);</span>
<a href="#l5.21"></a><span id="l5.21">     let notification = nBox.getNotificationWithValue(&quot;calendar-readonly&quot;);</span>
<a href="#l5.22"></a><span id="l5.22">     if (countRO &amp;&amp; !notification) {</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineminus">-        let message = cal.calGetString(&quot;calendar-alarms&quot;,</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineminus">-                                       &quot;reminderReadonlyNotification&quot;,</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineminus">-                                       [snoozeAllButton.label]);</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineplus">+        let message = cal.l10n.getString(&quot;calendar-alarms&quot;,</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineplus">+                                         &quot;reminderReadonlyNotification&quot;,</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineplus">+                                         [snoozeAllButton.label]);</span>
<a href="#l5.29"></a><span id="l5.29">         nBox.appendNotification(message,</span>
<a href="#l5.30"></a><span id="l5.30">                                 &quot;calendar-readonly&quot;,</span>
<a href="#l5.31"></a><span id="l5.31">                                 null,</span>
<a href="#l5.32"></a><span id="l5.32">                                 nBox.PRIORITY_WARNING_MEDIUM,</span>
<a href="#l5.33"></a><span id="l5.33">                                 null,</span>
<a href="#l5.34"></a><span id="l5.34">                                 null);</span>
<a href="#l5.35"></a><span id="l5.35">     } else if (notification &amp;&amp; !countRO) {</span>
<a href="#l5.36"></a><span id="l5.36">         nBox.removeNotification(notification);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -660,34 +660,34 @@</span>
<a href="#l6.4"></a><span id="l6.4">               const roleMap = {</span>
<a href="#l6.5"></a><span id="l6.5">                   &quot;REQ-PARTICIPANT&quot;: &quot;required&quot;,</span>
<a href="#l6.6"></a><span id="l6.6">                   &quot;OPT-PARTICIPANT&quot;: &quot;optional&quot;,</span>
<a href="#l6.7"></a><span id="l6.7">                   &quot;NON-PARTICIPANT&quot;: &quot;nonparticipant&quot;,</span>
<a href="#l6.8"></a><span id="l6.8">                   &quot;CHAIR&quot;: &quot;chair&quot;</span>
<a href="#l6.9"></a><span id="l6.9">               };</span>
<a href="#l6.10"></a><span id="l6.10"> </span>
<a href="#l6.11"></a><span id="l6.11">               let roleNameString = &quot;event.attendee.role.&quot; + (role in roleMap ? roleMap[role] : &quot;unknown&quot;);</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-              let tooltip = cal.calGetString(&quot;calendar-event-dialog-attendees&quot;,</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-                                             roleNameString,</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-                                             role in roleMap ? null : [role]);</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+              let tooltip = cal.l10n.getString(&quot;calendar-event-dialog-attendees&quot;,</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+                                               roleNameString,</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineplus">+                                               role in roleMap ? null : [role]);</span>
<a href="#l6.18"></a><span id="l6.18">               targetIcon.setAttribute(&quot;tooltiptext&quot;, tooltip);</span>
<a href="#l6.19"></a><span id="l6.19">           } else if (targetIcon.className == &quot;usertype-icon&quot;) {</span>
<a href="#l6.20"></a><span id="l6.20">               let cutype = targetIcon.getAttribute(&quot;cutype&quot;);</span>
<a href="#l6.21"></a><span id="l6.21">               const cutypeMap = {</span>
<a href="#l6.22"></a><span id="l6.22">                   INDIVIDUAL: &quot;individual&quot;,</span>
<a href="#l6.23"></a><span id="l6.23">                   GROUP: &quot;group&quot;,</span>
<a href="#l6.24"></a><span id="l6.24">                   RESOURCE: &quot;resource&quot;,</span>
<a href="#l6.25"></a><span id="l6.25">                   ROOM: &quot;room&quot;,</span>
<a href="#l6.26"></a><span id="l6.26">                   // I've decided UNKNOWN will not be handled.</span>
<a href="#l6.27"></a><span id="l6.27">               };</span>
<a href="#l6.28"></a><span id="l6.28"> </span>
<a href="#l6.29"></a><span id="l6.29">               let cutypeString = &quot;event.attendee.usertype.&quot; + (cutype in cutypeMap ? cutypeMap[cutype] : &quot;unknown&quot;);</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineminus">-              let tooltip = cal.calGetString(&quot;calendar-event-dialog-attendees&quot;,</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-                                             cutypeString,</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineminus">-                                             cutype in cutypeMap ? null : [cutype]);</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineplus">+              let tooltip = cal.l10n.getString(&quot;calendar-event-dialog-attendees&quot;,</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineplus">+                                               cutypeString,</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+                                               cutype in cutypeMap ? null : [cutype]);</span>
<a href="#l6.36"></a><span id="l6.36">               targetIcon.setAttribute(&quot;tooltiptext&quot;, tooltip);</span>
<a href="#l6.37"></a><span id="l6.37">           }</span>
<a href="#l6.38"></a><span id="l6.38">       ]]&gt;&lt;/body&gt;</span>
<a href="#l6.39"></a><span id="l6.39">       &lt;/method&gt;</span>
<a href="#l6.40"></a><span id="l6.40"> </span>
<a href="#l6.41"></a><span id="l6.41">       &lt;property name=&quot;documentSize&quot;&gt;</span>
<a href="#l6.42"></a><span id="l6.42">         &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l6.43"></a><span id="l6.43">             return this.mRowHeight * this.mMaxAttendees;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -756,21 +756,17 @@ function changeOrderForElements(aPropKey</span>
<a href="#l7.4"></a><span id="l7.4"> </span>
<a href="#l7.5"></a><span id="l7.5">     for (let key in aPropParams) {</span>
<a href="#l7.6"></a><span id="l7.6">         // Save original parents so that the nodes to reorder get appended to</span>
<a href="#l7.7"></a><span id="l7.7">         // the correct parent nodes.</span>
<a href="#l7.8"></a><span id="l7.8">         parents[key] = document.getElementById(aPropParams[key]).parentNode;</span>
<a href="#l7.9"></a><span id="l7.9">     }</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11">     try {</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-        localeOrder = cal.calGetString(&quot;calendar-event-dialog&quot;,</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-                                       aPropKey,</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-                                       aPropParams);</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-        localeOrder = localeOrder.split(&quot; &quot;);</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineplus">+        localeOrder = cal.l10n.getString(&quot;calendar-event-dialog&quot;, aPropKey, aPropParams).split(&quot; &quot;);</span>
<a href="#l7.18"></a><span id="l7.18">     } catch (ex) {</span>
<a href="#l7.19"></a><span id="l7.19">         let msg = &quot;The key &quot; + aPropKey + &quot; in calendar-event-dialog.prop&quot; +</span>
<a href="#l7.20"></a><span id="l7.20">                   &quot;erties has incorrect number of params. Expected &quot; +</span>
<a href="#l7.21"></a><span id="l7.21">                   aPropParams.length + &quot; params.&quot;;</span>
<a href="#l7.22"></a><span id="l7.22">         Components.utils.reportError(msg + &quot; &quot; + ex);</span>
<a href="#l7.23"></a><span id="l7.23">         return;</span>
<a href="#l7.24"></a><span id="l7.24">     }</span>
<a href="#l7.25"></a><span id="l7.25"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-reminder.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-reminder.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -16,17 +16,17 @@ var allowedActionsMap = {};</span>
<a href="#l8.4"></a><span id="l8.4"> /**</span>
<a href="#l8.5"></a><span id="l8.5">  * Sets up the reminder dialog.</span>
<a href="#l8.6"></a><span id="l8.6">  */</span>
<a href="#l8.7"></a><span id="l8.7"> function onLoad() {</span>
<a href="#l8.8"></a><span id="l8.8">     let calendar = window.arguments[0].calendar;</span>
<a href="#l8.9"></a><span id="l8.9"> </span>
<a href="#l8.10"></a><span id="l8.10">     // Make sure the origin menulist uses the right labels, depending on if the</span>
<a href="#l8.11"></a><span id="l8.11">     // dialog is showing an event or task.</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    function _sn(x) { return cal.calGetString(&quot;calendar-alarms&quot;, getItemBundleStringName(x)); }</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+    function _sn(x) { return cal.l10n.getString(&quot;calendar-alarms&quot;, getItemBundleStringName(x)); }</span>
<a href="#l8.14"></a><span id="l8.14"> </span>
<a href="#l8.15"></a><span id="l8.15">     setElementValue(&quot;reminder-before-start-menuitem&quot;,</span>
<a href="#l8.16"></a><span id="l8.16">                     _sn(&quot;reminderCustomOriginBeginBefore&quot;),</span>
<a href="#l8.17"></a><span id="l8.17">                     &quot;label&quot;);</span>
<a href="#l8.18"></a><span id="l8.18"> </span>
<a href="#l8.19"></a><span id="l8.19">     setElementValue(&quot;reminder-after-start-menuitem&quot;,</span>
<a href="#l8.20"></a><span id="l8.20">                     _sn(&quot;reminderCustomOriginBeginAfter&quot;),</span>
<a href="#l8.21"></a><span id="l8.21">                     &quot;label&quot;);</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineat">@@ -166,19 +166,19 @@ function setupMaxReminders() {</span>
<a href="#l8.23"></a><span id="l8.23"> </span>
<a href="#l8.24"></a><span id="l8.24">     // If we hit the maximum number of reminders, show the error box and</span>
<a href="#l8.25"></a><span id="l8.25">     // disable the new button.</span>
<a href="#l8.26"></a><span id="l8.26">     setElementValue(&quot;reminder-new-button&quot;, cond &amp;&amp; &quot;true&quot;, &quot;disabled&quot;);</span>
<a href="#l8.27"></a><span id="l8.27"> </span>
<a href="#l8.28"></a><span id="l8.28">     if (!setupMaxReminders.notification) {</span>
<a href="#l8.29"></a><span id="l8.29">         let notification = createXULElement(&quot;notification&quot;);</span>
<a href="#l8.30"></a><span id="l8.30">         let localeErrorString =</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-            cal.calGetString(&quot;calendar-alarms&quot;,</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineminus">-                             getItemBundleStringName(&quot;reminderErrorMaxCountReached&quot;),</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineminus">-                             [maxReminders]);</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineplus">+            cal.l10n.getString(&quot;calendar-alarms&quot;,</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineplus">+                               getItemBundleStringName(&quot;reminderErrorMaxCountReached&quot;),</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineplus">+                               [maxReminders]);</span>
<a href="#l8.37"></a><span id="l8.37">         let pluralErrorLabel = PluralForm.get(maxReminders, localeErrorString)</span>
<a href="#l8.38"></a><span id="l8.38">                                          .replace(&quot;#1&quot;, maxReminders);</span>
<a href="#l8.39"></a><span id="l8.39"> </span>
<a href="#l8.40"></a><span id="l8.40">         notification.setAttribute(&quot;label&quot;, pluralErrorLabel);</span>
<a href="#l8.41"></a><span id="l8.41">         notification.setAttribute(&quot;type&quot;, &quot;warning&quot;);</span>
<a href="#l8.42"></a><span id="l8.42">         notification.setAttribute(&quot;hideclose&quot;, &quot;true&quot;);</span>
<a href="#l8.43"></a><span id="l8.43">         setupMaxReminders.notification = notification;</span>
<a href="#l8.44"></a><span id="l8.44">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-occurrence-prompt.xul</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-occurrence-prompt.xul</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -23,17 +23,17 @@</span>
<a href="#l9.4"></a><span id="l9.4"> </span>
<a href="#l9.5"></a><span id="l9.5">       function exitOccurrenceDialog(aReturnValue) {</span>
<a href="#l9.6"></a><span id="l9.6">           window.arguments[0].value = aReturnValue;</span>
<a href="#l9.7"></a><span id="l9.7">           window.close();</span>
<a href="#l9.8"></a><span id="l9.8">           return true;</span>
<a href="#l9.9"></a><span id="l9.9">       }</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11">       function getDString(aKey) {</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-          return cal.calGetString(&quot;calendar-occurrence-prompt&quot;, aKey);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+          return cal.l10n.getString(&quot;calendar-occurrence-prompt&quot;, aKey);</span>
<a href="#l9.14"></a><span id="l9.14">       }</span>
<a href="#l9.15"></a><span id="l9.15"> </span>
<a href="#l9.16"></a><span id="l9.16">       function onLoad() {</span>
<a href="#l9.17"></a><span id="l9.17">           let action = window.arguments[0].action || &quot;edit&quot;;</span>
<a href="#l9.18"></a><span id="l9.18">           // the calling code prevents sending no items</span>
<a href="#l9.19"></a><span id="l9.19">           let multiple = (window.arguments[0].items.length == 1)</span>
<a href="#l9.20"></a><span id="l9.20">                        ? &quot;single&quot; : &quot;multiple&quot;;</span>
<a href="#l9.21"></a><span id="l9.21">           let itemType;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -384,17 +384,17 @@ function updateRepeatDetails() {</span>
<a href="#l10.4"></a><span id="l10.4">     let startDate = item.startDate || item.entryDate;</span>
<a href="#l10.5"></a><span id="l10.5">     let endDate = item.endDate || item.dueDate;</span>
<a href="#l10.6"></a><span id="l10.6">     startDate = startDate ? startDate.getInTimezone(kDefaultTimezone) : null;</span>
<a href="#l10.7"></a><span id="l10.7">     endDate = endDate ? endDate.getInTimezone(kDefaultTimezone) : null;</span>
<a href="#l10.8"></a><span id="l10.8">     let detailsString = recurrenceRule2String(recurrenceInfo, startDate,</span>
<a href="#l10.9"></a><span id="l10.9">                                               endDate, startDate.isDate);</span>
<a href="#l10.10"></a><span id="l10.10"> </span>
<a href="#l10.11"></a><span id="l10.11">     if (!detailsString) {</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-        detailsString = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;ruleTooComplexSummary&quot;);</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+        detailsString = cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;ruleTooComplexSummary&quot;);</span>
<a href="#l10.14"></a><span id="l10.14">     }</span>
<a href="#l10.15"></a><span id="l10.15"> </span>
<a href="#l10.16"></a><span id="l10.16">     // Now display the string...</span>
<a href="#l10.17"></a><span id="l10.17">     let lines = detailsString.split(&quot;\n&quot;);</span>
<a href="#l10.18"></a><span id="l10.18">     repeatDetails.removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l10.19"></a><span id="l10.19">     while (repeatDetails.childNodes.length &gt; lines.length) {</span>
<a href="#l10.20"></a><span id="l10.20">         repeatDetails.lastChild.remove();</span>
<a href="#l10.21"></a><span id="l10.21">     }</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineat">@@ -445,17 +445,17 @@ function browseDocument() {</span>
<a href="#l10.23"></a><span id="l10.23">  * Extracts the item's organizer and opens a compose window to send the</span>
<a href="#l10.24"></a><span id="l10.24">  * organizer an email.</span>
<a href="#l10.25"></a><span id="l10.25">  */</span>
<a href="#l10.26"></a><span id="l10.26"> function sendMailToOrganizer() {</span>
<a href="#l10.27"></a><span id="l10.27">     let args = window.arguments[0];</span>
<a href="#l10.28"></a><span id="l10.28">     let item = args.calendarEvent;</span>
<a href="#l10.29"></a><span id="l10.29">     let organizer = item.organizer;</span>
<a href="#l10.30"></a><span id="l10.30">     let email = cal.email.getAttendeeEmail(organizer, true);</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-    let emailSubject = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;emailSubjectReply&quot;, [item.title]);</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+    let emailSubject = cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;emailSubjectReply&quot;, [item.title]);</span>
<a href="#l10.33"></a><span id="l10.33">     let identity = item.calendar.getProperty(&quot;imip.identity&quot;);</span>
<a href="#l10.34"></a><span id="l10.34">     cal.email.sendTo(email, emailSubject, null, identity);</span>
<a href="#l10.35"></a><span id="l10.35"> }</span>
<a href="#l10.36"></a><span id="l10.36"> </span>
<a href="#l10.37"></a><span id="l10.37"> /**</span>
<a href="#l10.38"></a><span id="l10.38">  * Opens an attachment</span>
<a href="#l10.39"></a><span id="l10.39">  *</span>
<a href="#l10.40"></a><span id="l10.40">  * @param {AUTF8String}  aAttachmentId   The hashId of the attachment to open</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-alarm-widget.xml</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-alarm-widget.xml</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -121,17 +121,17 @@</span>
<a href="#l11.4"></a><span id="l11.4">                 &quot;anonid&quot;,</span>
<a href="#l11.5"></a><span id="l11.5">                 &quot;alarm-snooze-button&quot;</span>
<a href="#l11.6"></a><span id="l11.6">             );</span>
<a href="#l11.7"></a><span id="l11.7">             if (!cal.acl.isCalendarWritable(this.mItem.calendar) ||</span>
<a href="#l11.8"></a><span id="l11.8">                 !cal.acl.userCanModifyItem(this.mItem)) {</span>
<a href="#l11.9"></a><span id="l11.9">                 let tooltip = &quot;reminderDisabledSnoozeButtonTooltip&quot;;</span>
<a href="#l11.10"></a><span id="l11.10">                 snoozeButton.disabled = true;</span>
<a href="#l11.11"></a><span id="l11.11">                 snoozeButton.setAttribute(&quot;tooltiptext&quot;,</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-                                          cal.calGetString(&quot;calendar-alarms&quot;, tooltip));</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+                                          cal.l10n.getString(&quot;calendar-alarms&quot;, tooltip));</span>
<a href="#l11.14"></a><span id="l11.14">             } else {</span>
<a href="#l11.15"></a><span id="l11.15">                 snoozeButton.disabled = false;</span>
<a href="#l11.16"></a><span id="l11.16">                 snoozeButton.removeAttribute(&quot;tooltiptext&quot;);</span>
<a href="#l11.17"></a><span id="l11.17">             }</span>
<a href="#l11.18"></a><span id="l11.18">         ]]&gt;&lt;/body&gt;</span>
<a href="#l11.19"></a><span id="l11.19">       &lt;/method&gt;</span>
<a href="#l11.20"></a><span id="l11.20"> </span>
<a href="#l11.21"></a><span id="l11.21">       &lt;method name=&quot;updateRelativeDateLabel&quot;&gt;</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineat">@@ -350,19 +350,19 @@</span>
<a href="#l11.23"></a><span id="l11.23">             function unitName(list) {</span>
<a href="#l11.24"></a><span id="l11.24">                 return { 1: &quot;unitMinutes&quot;, 60: &quot;unitHours&quot;, 1440: &quot;unitDays&quot; }[list.value] || &quot;unitMinutes&quot;;</span>
<a href="#l11.25"></a><span id="l11.25">             }</span>
<a href="#l11.26"></a><span id="l11.26"> </span>
<a href="#l11.27"></a><span id="l11.27">             let pluralString = cal.l10n.getCalString(unitName(unitList));</span>
<a href="#l11.28"></a><span id="l11.28">             let unitPlural = PluralForm.get(unitValue.value, pluralString)</span>
<a href="#l11.29"></a><span id="l11.29">                                        .replace(&quot;#1&quot;, unitValue.value);</span>
<a href="#l11.30"></a><span id="l11.30"> </span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-            let accessibleString = cal.calGetString(&quot;calendar-alarms&quot;,</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineminus">-                                                    &quot;reminderSnoozeOkA11y&quot;,</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineminus">-                                                    [unitPlural]);</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineplus">+            let accessibleString = cal.l10n.getString(&quot;calendar-alarms&quot;,</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineplus">+                                                      &quot;reminderSnoozeOkA11y&quot;,</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineplus">+                                                      [unitPlural]);</span>
<a href="#l11.37"></a><span id="l11.37">             okButton.setAttribute(&quot;aria-label&quot;, accessibleString);</span>
<a href="#l11.38"></a><span id="l11.38"> </span>
<a href="#l11.39"></a><span id="l11.39">             let items = unitPopup.getElementsByTagName(&quot;xul:menuitem&quot;);</span>
<a href="#l11.40"></a><span id="l11.40">             for (let menuItem of items) {</span>
<a href="#l11.41"></a><span id="l11.41">                 pluralString = cal.l10n.getCalString(unitName(menuItem));</span>
<a href="#l11.42"></a><span id="l11.42">                 menuItem.label = PluralForm.get(unitValue.value, pluralString)</span>
<a href="#l11.43"></a><span id="l11.43">                                            .replace(&quot;#1&quot;, &quot;&quot;).trim();</span>
<a href="#l11.44"></a><span id="l11.44">             }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/modules/calAuthUtils.jsm</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/modules/calAuthUtils.jsm</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -40,29 +40,29 @@ cal.auth = {</span>
<a href="#l12.4"></a><span id="l12.4">             throw new Components.Exception(&quot;&quot;, Components.results.NS_ERROR_XPC_NEED_OUT_OBJECT);</span>
<a href="#l12.5"></a><span id="l12.5">         }</span>
<a href="#l12.6"></a><span id="l12.6"> </span>
<a href="#l12.7"></a><span id="l12.7">         let prompter = Services.ww.getNewPrompter(null);</span>
<a href="#l12.8"></a><span id="l12.8"> </span>
<a href="#l12.9"></a><span id="l12.9">         // Only show the save password box if we are supposed to.</span>
<a href="#l12.10"></a><span id="l12.10">         let savepassword = null;</span>
<a href="#l12.11"></a><span id="l12.11">         if (Preferences.get(&quot;signon.rememberSignons&quot;, true)) {</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-            savepassword = cal.calGetString(&quot;passwordmgr&quot;, &quot;rememberPassword&quot;, null, &quot;passwordmgr&quot;);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+            savepassword = cal.l10n.getAnyString(&quot;passwordmgr&quot;, &quot;passwordmgr&quot;, &quot;rememberPassword&quot;);</span>
<a href="#l12.14"></a><span id="l12.14">         }</span>
<a href="#l12.15"></a><span id="l12.15"> </span>
<a href="#l12.16"></a><span id="l12.16">         let aText;</span>
<a href="#l12.17"></a><span id="l12.17">         if (aFixedUsername) {</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineminus">-            aText = cal.calGetString(&quot;commonDialogs&quot;, &quot;EnterPasswordFor&quot;, [aUsername.value, aCalendarName], &quot;global&quot;);</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineplus">+            aText = cal.l10n.getAnyString(&quot;global&quot;, &quot;commonDialogs&quot;, &quot;EnterPasswordFor&quot;, [aUsername.value, aCalendarName]);</span>
<a href="#l12.20"></a><span id="l12.20">             return prompter.promptPassword(aTitle,</span>
<a href="#l12.21"></a><span id="l12.21">                                            aText,</span>
<a href="#l12.22"></a><span id="l12.22">                                            aPassword,</span>
<a href="#l12.23"></a><span id="l12.23">                                            savepassword,</span>
<a href="#l12.24"></a><span id="l12.24">                                            aSavePassword);</span>
<a href="#l12.25"></a><span id="l12.25">         } else {</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineminus">-            aText = cal.calGetString(&quot;commonDialogs&quot;, &quot;EnterUserPasswordFor2&quot;, [aCalendarName], &quot;global&quot;);</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineplus">+            aText = cal.l10n.getAnyString(&quot;global&quot;, &quot;commonDialogs&quot;, &quot;EnterUserPasswordFor2&quot;, [aCalendarName]);</span>
<a href="#l12.28"></a><span id="l12.28">             return prompter.promptUsernameAndPassword(aTitle,</span>
<a href="#l12.29"></a><span id="l12.29">                                                       aText,</span>
<a href="#l12.30"></a><span id="l12.30">                                                       aUsername,</span>
<a href="#l12.31"></a><span id="l12.31">                                                       aPassword,</span>
<a href="#l12.32"></a><span id="l12.32">                                                       savepassword,</span>
<a href="#l12.33"></a><span id="l12.33">                                                       aSavePassword);</span>
<a href="#l12.34"></a><span id="l12.34">         }</span>
<a href="#l12.35"></a><span id="l12.35">     },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/base/modules/calCategoryUtils.jsm</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/base/modules/calCategoryUtils.jsm</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -12,17 +12,17 @@ this.EXPORTED_SYMBOLS = [&quot;calcategory&quot;];</span>
<a href="#l13.4"></a><span id="l13.4"> var calcategory = {</span>
<a href="#l13.5"></a><span id="l13.5">     /**</span>
<a href="#l13.6"></a><span id="l13.6">      * Sets up the default categories from the localized string</span>
<a href="#l13.7"></a><span id="l13.7">      *</span>
<a href="#l13.8"></a><span id="l13.8">      * @return      The default set of categories as a comma separated string.</span>
<a href="#l13.9"></a><span id="l13.9">      */</span>
<a href="#l13.10"></a><span id="l13.10">     setupDefaultCategories: function() {</span>
<a href="#l13.11"></a><span id="l13.11">         // First, set up the category names</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-        let categories = cal.calGetString(&quot;categories&quot;, &quot;categories2&quot;);</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+        let categories = cal.l10n.getString(&quot;categories&quot;, &quot;categories2&quot;);</span>
<a href="#l13.14"></a><span id="l13.14">         Preferences.set(&quot;calendar.categories.names&quot;, categories);</span>
<a href="#l13.15"></a><span id="l13.15"> </span>
<a href="#l13.16"></a><span id="l13.16">         // Now, initialize the category default colors</span>
<a href="#l13.17"></a><span id="l13.17">         let categoryArray = calcategory.stringToArray(categories);</span>
<a href="#l13.18"></a><span id="l13.18">         for (let category of categoryArray) {</span>
<a href="#l13.19"></a><span id="l13.19">             let prefName = cal.view.formatStringForCSSRule(category);</span>
<a href="#l13.20"></a><span id="l13.20">             Preferences.set(&quot;calendar.category.color.&quot; + prefName,</span>
<a href="#l13.21"></a><span id="l13.21">                             cal.view.hashColor(category));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/base/modules/calRecurrenceUtils.jsm</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/base/modules/calRecurrenceUtils.jsm</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -16,17 +16,17 @@ this.EXPORTED_SYMBOLS = [&quot;recurrenceRule</span>
<a href="#l14.4"></a><span id="l14.4">  * @param recurrenceInfo    An item's recurrence info to parse.</span>
<a href="#l14.5"></a><span id="l14.5">  * @param startDate         The start date to base rules on.</span>
<a href="#l14.6"></a><span id="l14.6">  * @param endDate           The end date to base rules on.</span>
<a href="#l14.7"></a><span id="l14.7">  * @param allDay            If true, the pattern should assume an allday item.</span>
<a href="#l14.8"></a><span id="l14.8">  * @return                  A human readable string describing the recurrence.</span>
<a href="#l14.9"></a><span id="l14.9">  */</span>
<a href="#l14.10"></a><span id="l14.10"> function recurrenceRule2String(recurrenceInfo, startDate, endDate, allDay) {</span>
<a href="#l14.11"></a><span id="l14.11">     function getRString(name, args) {</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-        return cal.calGetString(&quot;calendar-event-dialog&quot;, name, args);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+        return cal.l10n.getString(&quot;calendar-event-dialog&quot;, name, args);</span>
<a href="#l14.14"></a><span id="l14.14">     }</span>
<a href="#l14.15"></a><span id="l14.15">     function day_of_week(day) {</span>
<a href="#l14.16"></a><span id="l14.16">         return Math.abs(day) % 8;</span>
<a href="#l14.17"></a><span id="l14.17">     }</span>
<a href="#l14.18"></a><span id="l14.18">     function day_position(day) {</span>
<a href="#l14.19"></a><span id="l14.19">         return (Math.abs(day) - day_of_week(day)) / 8 * (day &lt; 0 ? -1 : 1);</span>
<a href="#l14.20"></a><span id="l14.20">     }</span>
<a href="#l14.21"></a><span id="l14.21">     function nounClass(aDayString, aRuleString) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/base/src/calAlarm.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/base/src/calAlarm.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -614,17 +614,17 @@ calAlarm.prototype = {</span>
<a href="#l15.4"></a><span id="l15.4">         } else {</span>
<a href="#l15.5"></a><span id="l15.5">             this.mProperties.delete(name);</span>
<a href="#l15.6"></a><span id="l15.6">         }</span>
<a href="#l15.7"></a><span id="l15.7">     },</span>
<a href="#l15.8"></a><span id="l15.8"> </span>
<a href="#l15.9"></a><span id="l15.9">     get propertyEnumerator() { return this.mProperties.simpleEnumerator; },</span>
<a href="#l15.10"></a><span id="l15.10"> </span>
<a href="#l15.11"></a><span id="l15.11">     toString: function(aItem) {</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-        function getItemBundleStringName(aPrefix) {</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+        function alarmString(aPrefix) {</span>
<a href="#l15.14"></a><span id="l15.14">             if (!aItem || cal.item.isEvent(aItem)) {</span>
<a href="#l15.15"></a><span id="l15.15">                 return aPrefix + &quot;Event&quot;;</span>
<a href="#l15.16"></a><span id="l15.16">             } else if (cal.item.isToDo(aItem)) {</span>
<a href="#l15.17"></a><span id="l15.17">                 return aPrefix + &quot;Task&quot;;</span>
<a href="#l15.18"></a><span id="l15.18">             } else {</span>
<a href="#l15.19"></a><span id="l15.19">                 return aPrefix;</span>
<a href="#l15.20"></a><span id="l15.20">             }</span>
<a href="#l15.21"></a><span id="l15.21">         }</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineat">@@ -637,21 +637,19 @@ calAlarm.prototype = {</span>
<a href="#l15.23"></a><span id="l15.23">             return formatter.formatDateTime(formatDate);</span>
<a href="#l15.24"></a><span id="l15.24">         } else if (this.related != ALARM_RELATED_ABSOLUTE &amp;&amp; this.mOffset) {</span>
<a href="#l15.25"></a><span id="l15.25">             // Relative alarm length</span>
<a href="#l15.26"></a><span id="l15.26">             let alarmlen = Math.abs(this.mOffset.inSeconds / 60);</span>
<a href="#l15.27"></a><span id="l15.27">             if (alarmlen == 0) {</span>
<a href="#l15.28"></a><span id="l15.28">                 // No need to get the other information if the alarm is at the start</span>
<a href="#l15.29"></a><span id="l15.29">                 // of the event/task.</span>
<a href="#l15.30"></a><span id="l15.30">                 if (this.related == ALARM_RELATED_START) {</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-                    return cal.calGetString(&quot;calendar-alarms&quot;,</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineminus">-                                            getItemBundleStringName(&quot;reminderTitleAtStart&quot;));</span>
<a href="#l15.33"></a><span id="l15.33" class="difflineplus">+                    return cal.l10n.getString(&quot;calendar-alarms&quot;, alarmString(&quot;reminderTitleAtStart&quot;));</span>
<a href="#l15.34"></a><span id="l15.34">                 } else if (this.related == ALARM_RELATED_END) {</span>
<a href="#l15.35"></a><span id="l15.35" class="difflineminus">-                    return cal.calGetString(&quot;calendar-alarms&quot;,</span>
<a href="#l15.36"></a><span id="l15.36" class="difflineminus">-                                            getItemBundleStringName(&quot;reminderTitleAtEnd&quot;));</span>
<a href="#l15.37"></a><span id="l15.37" class="difflineplus">+                    return cal.l10n.getString(&quot;calendar-alarms&quot;, alarmString(&quot;reminderTitleAtEnd&quot;));</span>
<a href="#l15.38"></a><span id="l15.38">                 }</span>
<a href="#l15.39"></a><span id="l15.39">             }</span>
<a href="#l15.40"></a><span id="l15.40"> </span>
<a href="#l15.41"></a><span id="l15.41">             let unit;</span>
<a href="#l15.42"></a><span id="l15.42">             if (alarmlen % 1440 == 0) {</span>
<a href="#l15.43"></a><span id="l15.43">                 // Alarm is in days</span>
<a href="#l15.44"></a><span id="l15.44">                 unit = &quot;unitDays&quot;;</span>
<a href="#l15.45"></a><span id="l15.45">                 alarmlen /= 1440;</span>
<a href="#l15.46"></a><span id="l15.46" class="difflineat">@@ -677,20 +675,19 @@ calAlarm.prototype = {</span>
<a href="#l15.47"></a><span id="l15.47">             }</span>
<a href="#l15.48"></a><span id="l15.48"> </span>
<a href="#l15.49"></a><span id="l15.49">             if (this.offset.isNegative) {</span>
<a href="#l15.50"></a><span id="l15.50">                 originStringName += &quot;Before&quot;;</span>
<a href="#l15.51"></a><span id="l15.51">             } else {</span>
<a href="#l15.52"></a><span id="l15.52">                 originStringName += &quot;After&quot;;</span>
<a href="#l15.53"></a><span id="l15.53">             }</span>
<a href="#l15.54"></a><span id="l15.54"> </span>
<a href="#l15.55"></a><span id="l15.55" class="difflineminus">-            let originString = cal.calGetString(&quot;calendar-alarms&quot;,</span>
<a href="#l15.56"></a><span id="l15.56" class="difflineminus">-                                                getItemBundleStringName(originStringName));</span>
<a href="#l15.57"></a><span id="l15.57" class="difflineminus">-            return cal.calGetString(&quot;calendar-alarms&quot;,</span>
<a href="#l15.58"></a><span id="l15.58" class="difflineminus">-                                    &quot;reminderCustomTitle&quot;,</span>
<a href="#l15.59"></a><span id="l15.59" class="difflineminus">-                                    [unitString, originString]);</span>
<a href="#l15.60"></a><span id="l15.60" class="difflineplus">+            let originString = cal.l10n.getString(&quot;calendar-alarms&quot;, alarmString(originStringName));</span>
<a href="#l15.61"></a><span id="l15.61" class="difflineplus">+            return cal.l10n.getString(&quot;calendar-alarms&quot;,</span>
<a href="#l15.62"></a><span id="l15.62" class="difflineplus">+                                      &quot;reminderCustomTitle&quot;,</span>
<a href="#l15.63"></a><span id="l15.63" class="difflineplus">+                                      [unitString, originString]);</span>
<a href="#l15.64"></a><span id="l15.64">         } else {</span>
<a href="#l15.65"></a><span id="l15.65">             // This is an incomplete alarm, but then again we should never reach</span>
<a href="#l15.66"></a><span id="l15.66">             // this state.</span>
<a href="#l15.67"></a><span id="l15.67">             return &quot;[Incomplete calIAlarm]&quot;;</span>
<a href="#l15.68"></a><span id="l15.68">         }</span>
<a href="#l15.69"></a><span id="l15.69">     }</span>
<a href="#l15.70"></a><span id="l15.70"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/base/src/calCalendarManager.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/base/src/calCalendarManager.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -397,17 +397,17 @@ calCalendarManager.prototype = {</span>
<a href="#l16.4"></a><span id="l16.4"> </span>
<a href="#l16.5"></a><span id="l16.5">     //</span>
<a href="#l16.6"></a><span id="l16.6">     // / DB migration code ends here</span>
<a href="#l16.7"></a><span id="l16.7">     //</span>
<a href="#l16.8"></a><span id="l16.8"> </span>
<a href="#l16.9"></a><span id="l16.9">     alertAndQuit: function() {</span>
<a href="#l16.10"></a><span id="l16.10">         // We want to include the extension name in the error message rather</span>
<a href="#l16.11"></a><span id="l16.11">         // than blaming Thunderbird.</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-        let hostAppName = cal.calGetString(&quot;brand&quot;, &quot;brandShortName&quot;, null, &quot;branding&quot;);</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+        let hostAppName = cal.l10n.getAnyString(&quot;branding&quot;, &quot;brand&quot;, &quot;brandShortName&quot;);</span>
<a href="#l16.14"></a><span id="l16.14">         let calAppName = cal.l10n.getLtnString(&quot;brandShortName&quot;);</span>
<a href="#l16.15"></a><span id="l16.15">         let errorBoxTitle = cal.l10n.getCalString(&quot;tooNewSchemaErrorBoxTitle&quot;, [calAppName]);</span>
<a href="#l16.16"></a><span id="l16.16">         let errorBoxText = cal.l10n.getCalString(&quot;tooNewSchemaErrorBoxTextLightning&quot;, [calAppName, hostAppName]);</span>
<a href="#l16.17"></a><span id="l16.17">         let errorBoxButtonLabel = cal.l10n.getCalString(&quot;tooNewSchemaButtonRestart&quot;, [hostAppName]);</span>
<a href="#l16.18"></a><span id="l16.18"> </span>
<a href="#l16.19"></a><span id="l16.19">         let promptSvc = Services.prompt;</span>
<a href="#l16.20"></a><span id="l16.20"> </span>
<a href="#l16.21"></a><span id="l16.21">         let errorBoxButtonFlags = promptSvc.BUTTON_POS_0 *</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -306,17 +306,17 @@ function onLoad() {</span>
<a href="#l17.4"></a><span id="l17.4"> </span>
<a href="#l17.5"></a><span id="l17.5">     // set the iframe's top level id for event vs task</span>
<a href="#l17.6"></a><span id="l17.6">     if (!cal.item.isEvent(item)) {</span>
<a href="#l17.7"></a><span id="l17.7">         setDialogId(document.documentElement, &quot;calendar-task-dialog-inner&quot;);</span>
<a href="#l17.8"></a><span id="l17.8">     }</span>
<a href="#l17.9"></a><span id="l17.9"> </span>
<a href="#l17.10"></a><span id="l17.10">     // new items should have a non-empty title.</span>
<a href="#l17.11"></a><span id="l17.11">     if (item.isMutable &amp;&amp; (!item.title || item.title.length &lt;= 0)) {</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-        item.title = cal.calGetString(&quot;calendar-event-dialog&quot;,</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+        item.title = cal.l10n.getString(&quot;calendar-event-dialog&quot;,</span>
<a href="#l17.14"></a><span id="l17.14">                                       cal.item.isEvent(item) ? &quot;newEvent&quot; : &quot;newTask&quot;);</span>
<a href="#l17.15"></a><span id="l17.15">     }</span>
<a href="#l17.16"></a><span id="l17.16"> </span>
<a href="#l17.17"></a><span id="l17.17">     window.onAcceptCallback = args.onOk;</span>
<a href="#l17.18"></a><span id="l17.18">     window.mode = args.mode;</span>
<a href="#l17.19"></a><span id="l17.19"> </span>
<a href="#l17.20"></a><span id="l17.20">     // we store the item in the window to be able</span>
<a href="#l17.21"></a><span id="l17.21">     // to access this from any location. please note</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineat">@@ -691,20 +691,20 @@ function loadDialog(aItem) {</span>
<a href="#l17.23"></a><span id="l17.23">         }</span>
<a href="#l17.24"></a><span id="l17.24">     }</span>
<a href="#l17.25"></a><span id="l17.25"> </span>
<a href="#l17.26"></a><span id="l17.26">     // When in a window, set Item-Menu label to Event or Task</span>
<a href="#l17.27"></a><span id="l17.27">     if (!gInTab) {</span>
<a href="#l17.28"></a><span id="l17.28">         let isEvent = cal.item.isEvent(aItem);</span>
<a href="#l17.29"></a><span id="l17.29"> </span>
<a href="#l17.30"></a><span id="l17.30">         let labelString = isEvent ? &quot;itemMenuLabelEvent&quot; : &quot;itemMenuLabelTask&quot;;</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-        let label = cal.calGetString(&quot;calendar-event-dialog&quot;, labelString);</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+        let label = cal.l10n.getString(&quot;calendar-event-dialog&quot;, labelString);</span>
<a href="#l17.33"></a><span id="l17.33"> </span>
<a href="#l17.34"></a><span id="l17.34">         let accessKeyString = isEvent ? &quot;itemMenuAccesskeyEvent2&quot; : &quot;itemMenuAccesskeyTask2&quot;;</span>
<a href="#l17.35"></a><span id="l17.35" class="difflineminus">-        let accessKey = cal.calGetString(&quot;calendar-event-dialog&quot;, accessKeyString);</span>
<a href="#l17.36"></a><span id="l17.36" class="difflineplus">+        let accessKey = cal.l10n.getString(&quot;calendar-event-dialog&quot;, accessKeyString);</span>
<a href="#l17.37"></a><span id="l17.37">         sendMessage({</span>
<a href="#l17.38"></a><span id="l17.38">             command: &quot;initializeItemMenu&quot;,</span>
<a href="#l17.39"></a><span id="l17.39">             label: label,</span>
<a href="#l17.40"></a><span id="l17.40">             accessKey: accessKey</span>
<a href="#l17.41"></a><span id="l17.41">         });</span>
<a href="#l17.42"></a><span id="l17.42">     }</span>
<a href="#l17.43"></a><span id="l17.43"> </span>
<a href="#l17.44"></a><span id="l17.44">     // Repeat details</span>
<a href="#l17.45"></a><span id="l17.45" class="difflineat">@@ -1903,17 +1903,17 @@ function loadCloudProviders() {</span>
<a href="#l17.46"></a><span id="l17.46">     sendMessage(message);</span>
<a href="#l17.47"></a><span id="l17.47"> </span>
<a href="#l17.48"></a><span id="l17.48">     let itemObjects = [];</span>
<a href="#l17.49"></a><span id="l17.49"> </span>
<a href="#l17.50"></a><span id="l17.50">     for (let cloudProvider of cloudFileAccounts.accounts) {</span>
<a href="#l17.51"></a><span id="l17.51">         // Create a serializable object to pass in a message outside the iframe</span>
<a href="#l17.52"></a><span id="l17.52">         let itemObject = {};</span>
<a href="#l17.53"></a><span id="l17.53">         itemObject.displayName = cloudFileAccounts.getDisplayName(cloudProvider);</span>
<a href="#l17.54"></a><span id="l17.54" class="difflineminus">-        itemObject.label = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;attachViaFilelink&quot;, [itemObject.displayName]);</span>
<a href="#l17.55"></a><span id="l17.55" class="difflineplus">+        itemObject.label = cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;attachViaFilelink&quot;, [itemObject.displayName]);</span>
<a href="#l17.56"></a><span id="l17.56">         itemObject.cloudProviderAccountKey = cloudProvider.accountKey;</span>
<a href="#l17.57"></a><span id="l17.57">         if (cloudProvider.iconClass) {</span>
<a href="#l17.58"></a><span id="l17.58">             itemObject.class = &quot;menuitem-iconic&quot;;</span>
<a href="#l17.59"></a><span id="l17.59">             itemObject.image = cloudProvider.iconClass;</span>
<a href="#l17.60"></a><span id="l17.60">         }</span>
<a href="#l17.61"></a><span id="l17.61"> </span>
<a href="#l17.62"></a><span id="l17.62">         itemObjects.push(itemObject);</span>
<a href="#l17.63"></a><span id="l17.63"> </span>
<a href="#l17.64"></a><span id="l17.64" class="difflineat">@@ -1939,24 +1939,26 @@ function loadCloudProviders() {</span>
<a href="#l17.65"></a><span id="l17.65"> </span>
<a href="#l17.66"></a><span id="l17.66"> /**</span>
<a href="#l17.67"></a><span id="l17.67">  * Prompts the user to attach an url to this item.</span>
<a href="#l17.68"></a><span id="l17.68">  */</span>
<a href="#l17.69"></a><span id="l17.69"> function attachURL() {</span>
<a href="#l17.70"></a><span id="l17.70">     if (Services.prompt) {</span>
<a href="#l17.71"></a><span id="l17.71">         // ghost in an example...</span>
<a href="#l17.72"></a><span id="l17.72">         let result = { value: &quot;http://&quot; };</span>
<a href="#l17.73"></a><span id="l17.73" class="difflineminus">-        if (Services.prompt.prompt(window,</span>
<a href="#l17.74"></a><span id="l17.74" class="difflineminus">-                                   cal.calGetString(&quot;calendar-event-dialog&quot;,</span>
<a href="#l17.75"></a><span id="l17.75" class="difflineminus">-                                                    &quot;specifyLinkLocation&quot;),</span>
<a href="#l17.76"></a><span id="l17.76" class="difflineminus">-                                   cal.calGetString(&quot;calendar-event-dialog&quot;,</span>
<a href="#l17.77"></a><span id="l17.77" class="difflineminus">-                                                    &quot;enterLinkLocation&quot;),</span>
<a href="#l17.78"></a><span id="l17.78" class="difflineminus">-                                   result,</span>
<a href="#l17.79"></a><span id="l17.79" class="difflineminus">-                                   null,</span>
<a href="#l17.80"></a><span id="l17.80" class="difflineminus">-                                   { value: 0 })) {</span>
<a href="#l17.81"></a><span id="l17.81" class="difflineplus">+        let confirm = Services.prompt.prompt(</span>
<a href="#l17.82"></a><span id="l17.82" class="difflineplus">+            window,</span>
<a href="#l17.83"></a><span id="l17.83" class="difflineplus">+            cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;specifyLinkLocation&quot;),</span>
<a href="#l17.84"></a><span id="l17.84" class="difflineplus">+            cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;enterLinkLocation&quot;),</span>
<a href="#l17.85"></a><span id="l17.85" class="difflineplus">+            result,</span>
<a href="#l17.86"></a><span id="l17.86" class="difflineplus">+            null,</span>
<a href="#l17.87"></a><span id="l17.87" class="difflineplus">+            { value: 0 }</span>
<a href="#l17.88"></a><span id="l17.88" class="difflineplus">+        );</span>
<a href="#l17.89"></a><span id="l17.89" class="difflineplus">+</span>
<a href="#l17.90"></a><span id="l17.90" class="difflineplus">+        if (confirm) {</span>
<a href="#l17.91"></a><span id="l17.91">             try {</span>
<a href="#l17.92"></a><span id="l17.92">                 // If something bogus was entered, Services.io.newURI may fail.</span>
<a href="#l17.93"></a><span id="l17.93">                 let attachment = cal.createAttachment();</span>
<a href="#l17.94"></a><span id="l17.94">                 attachment.uri = Services.io.newURI(result.value);</span>
<a href="#l17.95"></a><span id="l17.95">                 addAttachment(attachment);</span>
<a href="#l17.96"></a><span id="l17.96">             } catch (e) {</span>
<a href="#l17.97"></a><span id="l17.97">                 // TODO We might want to show a warning instead of just not</span>
<a href="#l17.98"></a><span id="l17.98">                 // adding the file</span>
<a href="#l17.99"></a><span id="l17.99" class="difflineat">@@ -1988,17 +1990,17 @@ function attachFile(cloudProvider) {</span>
<a href="#l17.100"></a><span id="l17.100">     if (!cloudProvider) {</span>
<a href="#l17.101"></a><span id="l17.101">         cal.ERROR(&quot;[calendar-event-dialog] Could not attach file without cloud provider&quot; + cal.STACK(10));</span>
<a href="#l17.102"></a><span id="l17.102">     }</span>
<a href="#l17.103"></a><span id="l17.103"> </span>
<a href="#l17.104"></a><span id="l17.104">     const nsIFilePicker = Components.interfaces.nsIFilePicker;</span>
<a href="#l17.105"></a><span id="l17.105">     let filePicker = Components.classes[&quot;@mozilla.org/filepicker;1&quot;]</span>
<a href="#l17.106"></a><span id="l17.106">                                .createInstance(nsIFilePicker);</span>
<a href="#l17.107"></a><span id="l17.107">     filePicker.init(window,</span>
<a href="#l17.108"></a><span id="l17.108" class="difflineminus">-                    cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;selectAFile&quot;),</span>
<a href="#l17.109"></a><span id="l17.109" class="difflineplus">+                    cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;selectAFile&quot;),</span>
<a href="#l17.110"></a><span id="l17.110">                     nsIFilePicker.modeOpenMultiple);</span>
<a href="#l17.111"></a><span id="l17.111"> </span>
<a href="#l17.112"></a><span id="l17.112">     // Check for the last directory</span>
<a href="#l17.113"></a><span id="l17.113">     let lastDir = lastDirectory();</span>
<a href="#l17.114"></a><span id="l17.114">     if (lastDir) {</span>
<a href="#l17.115"></a><span id="l17.115">         filePicker.displayDirectory = lastDir;</span>
<a href="#l17.116"></a><span id="l17.116">     }</span>
<a href="#l17.117"></a><span id="l17.117"> </span>
<a href="#l17.118"></a><span id="l17.118" class="difflineat">@@ -2228,18 +2230,18 @@ function deleteAttachment() {</span>
<a href="#l17.119"></a><span id="l17.119">  * Removes all attachments from the dialog controls.</span>
<a href="#l17.120"></a><span id="l17.120">  */</span>
<a href="#l17.121"></a><span id="l17.121"> function deleteAllAttachments() {</span>
<a href="#l17.122"></a><span id="l17.122">     let documentLink = document.getElementById(&quot;attachment-link&quot;);</span>
<a href="#l17.123"></a><span id="l17.123">     let itemCount = documentLink.getRowCount();</span>
<a href="#l17.124"></a><span id="l17.124">     let canRemove = (itemCount &lt; 2);</span>
<a href="#l17.125"></a><span id="l17.125"> </span>
<a href="#l17.126"></a><span id="l17.126">     if (itemCount &gt; 1) {</span>
<a href="#l17.127"></a><span id="l17.127" class="difflineminus">-        let removeText = PluralForm.get(itemCount, cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;removeAttachmentsText&quot;));</span>
<a href="#l17.128"></a><span id="l17.128" class="difflineminus">-        let removeTitle = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;removeCalendarsTitle&quot;);</span>
<a href="#l17.129"></a><span id="l17.129" class="difflineplus">+        let removeText = PluralForm.get(itemCount, cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;removeAttachmentsText&quot;));</span>
<a href="#l17.130"></a><span id="l17.130" class="difflineplus">+        let removeTitle = cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;removeCalendarsTitle&quot;);</span>
<a href="#l17.131"></a><span id="l17.131">         canRemove = Services.prompt.confirm(window, removeTitle, removeText.replace(&quot;#1&quot;, itemCount), {});</span>
<a href="#l17.132"></a><span id="l17.132">     }</span>
<a href="#l17.133"></a><span id="l17.133"> </span>
<a href="#l17.134"></a><span id="l17.134">     if (canRemove) {</span>
<a href="#l17.135"></a><span id="l17.135">         let child;</span>
<a href="#l17.136"></a><span id="l17.136">         while (documentLink.hasChildNodes()) {</span>
<a href="#l17.137"></a><span id="l17.137">             child = documentLink.lastChild;</span>
<a href="#l17.138"></a><span id="l17.138">             child.attachment = null;</span>
<a href="#l17.139"></a><span id="l17.139" class="difflineat">@@ -3620,17 +3622,17 @@ function updateRepeatDetails() {</span>
<a href="#l17.140"></a><span id="l17.140">         startDate = cal.dtz.jsDateToDateTime(startDate, kDefaultTimezone);</span>
<a href="#l17.141"></a><span id="l17.141">         endDate = cal.dtz.jsDateToDateTime(endDate, kDefaultTimezone);</span>
<a href="#l17.142"></a><span id="l17.142"> </span>
<a href="#l17.143"></a><span id="l17.143">         let allDay = getElementValue(&quot;event-all-day&quot;, &quot;checked&quot;);</span>
<a href="#l17.144"></a><span id="l17.144">         let detailsString = recurrenceRule2String(recurrenceInfo, startDate,</span>
<a href="#l17.145"></a><span id="l17.145">                                                   endDate, allDay);</span>
<a href="#l17.146"></a><span id="l17.146"> </span>
<a href="#l17.147"></a><span id="l17.147">         if (!detailsString) {</span>
<a href="#l17.148"></a><span id="l17.148" class="difflineminus">-            detailsString = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;ruleTooComplex&quot;);</span>
<a href="#l17.149"></a><span id="l17.149" class="difflineplus">+            detailsString = cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;ruleTooComplex&quot;);</span>
<a href="#l17.150"></a><span id="l17.150">         }</span>
<a href="#l17.151"></a><span id="l17.151"> </span>
<a href="#l17.152"></a><span id="l17.152">         // Now display the string...</span>
<a href="#l17.153"></a><span id="l17.153">         let lines = detailsString.split(&quot;\n&quot;);</span>
<a href="#l17.154"></a><span id="l17.154">         repeatDetails.removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l17.155"></a><span id="l17.155">         while (repeatDetails.childNodes.length &gt; lines.length) {</span>
<a href="#l17.156"></a><span id="l17.156">             repeatDetails.lastChild.remove();</span>
<a href="#l17.157"></a><span id="l17.157">         }</span>
<a href="#l17.158"></a><span id="l17.158" class="difflineat">@@ -3766,17 +3768,17 @@ function sendMailToUndecidedAttendees(aA</span>
<a href="#l17.159"></a><span id="l17.159"> /**</span>
<a href="#l17.160"></a><span id="l17.160">  * Send Email to all given attendees.</span>
<a href="#l17.161"></a><span id="l17.161">  *</span>
<a href="#l17.162"></a><span id="l17.162">  * @param aAttendees    The attendees to send mail to.</span>
<a href="#l17.163"></a><span id="l17.163">  */</span>
<a href="#l17.164"></a><span id="l17.164"> function sendMailToAttendees(aAttendees) {</span>
<a href="#l17.165"></a><span id="l17.165">     let toList = cal.email.createRecipientList(aAttendees);</span>
<a href="#l17.166"></a><span id="l17.166">     let item = saveItem();</span>
<a href="#l17.167"></a><span id="l17.167" class="difflineminus">-    let emailSubject = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;emailSubjectReply&quot;, [item.title]);</span>
<a href="#l17.168"></a><span id="l17.168" class="difflineplus">+    let emailSubject = cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;emailSubjectReply&quot;, [item.title]);</span>
<a href="#l17.169"></a><span id="l17.169">     let identity = window.calendarItem.calendar.getProperty(&quot;imip.identity&quot;);</span>
<a href="#l17.170"></a><span id="l17.170">     cal.email.sendTo(toList, emailSubject, null, identity);</span>
<a href="#l17.171"></a><span id="l17.171"> }</span>
<a href="#l17.172"></a><span id="l17.172"> </span>
<a href="#l17.173"></a><span id="l17.173"> /**</span>
<a href="#l17.174"></a><span id="l17.174">  * Make sure all fields that may have calendar specific capabilities are updated</span>
<a href="#l17.175"></a><span id="l17.175">  */</span>
<a href="#l17.176"></a><span id="l17.176"> function updateCapabilities() {</span>
<a href="#l17.177"></a><span id="l17.177" class="difflineat">@@ -3940,17 +3942,17 @@ function displayCounterProposal() {</span>
<a href="#l17.178"></a><span id="l17.178">         cal.LOG(&quot;Unexpected partstat &quot; + partStat + &quot; detected.&quot;);</span>
<a href="#l17.179"></a><span id="l17.179">         // we simply reset partStat not display the summary text of the counter box</span>
<a href="#l17.180"></a><span id="l17.180">         // to avoid the window of death</span>
<a href="#l17.181"></a><span id="l17.181">         partStat = null;</span>
<a href="#l17.182"></a><span id="l17.182">     }</span>
<a href="#l17.183"></a><span id="l17.183"> </span>
<a href="#l17.184"></a><span id="l17.184">     if (idCounter &gt; 0) {</span>
<a href="#l17.185"></a><span id="l17.185">         if (partStat &amp;&amp; attendeeId.length) {</span>
<a href="#l17.186"></a><span id="l17.186" class="difflineminus">-            document.getElementById(&quot;counter-proposal-summary&quot;).value = cal.calGetString(</span>
<a href="#l17.187"></a><span id="l17.187" class="difflineplus">+            document.getElementById(&quot;counter-proposal-summary&quot;).value = cal.l10n.getString(</span>
<a href="#l17.188"></a><span id="l17.188">                 &quot;calendar-event-dialog&quot;,</span>
<a href="#l17.189"></a><span id="l17.189">                 partStat,</span>
<a href="#l17.190"></a><span id="l17.190">                 [attendeeId]</span>
<a href="#l17.191"></a><span id="l17.191">             );</span>
<a href="#l17.192"></a><span id="l17.192">             document.getElementById(&quot;counter-proposal-summary&quot;).removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l17.193"></a><span id="l17.193">         }</span>
<a href="#l17.194"></a><span id="l17.194">         if (comment) {</span>
<a href="#l17.195"></a><span id="l17.195">             document.getElementById(&quot;counter-proposal-comment&quot;).value = comment;</span>
<a href="#l17.196"></a><span id="l17.196" class="difflineat">@@ -3958,26 +3960,26 @@ function displayCounterProposal() {</span>
<a href="#l17.197"></a><span id="l17.197">         }</span>
<a href="#l17.198"></a><span id="l17.198">         document.getElementById(&quot;counter-proposal-box&quot;).removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l17.199"></a><span id="l17.199"> </span>
<a href="#l17.200"></a><span id="l17.200">         if (window.counterProposal.oldVersion) {</span>
<a href="#l17.201"></a><span id="l17.201">             // this is a counterproposal to a previous version of the event - we should notify the</span>
<a href="#l17.202"></a><span id="l17.202">             // user accordingly</span>
<a href="#l17.203"></a><span id="l17.203">             notifyUser(</span>
<a href="#l17.204"></a><span id="l17.204">                 &quot;counterProposalOnPreviousVersion&quot;,</span>
<a href="#l17.205"></a><span id="l17.205" class="difflineminus">-                cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;counterOnPreviousVersionNotification&quot;),</span>
<a href="#l17.206"></a><span id="l17.206" class="difflineplus">+                cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;counterOnPreviousVersionNotification&quot;),</span>
<a href="#l17.207"></a><span id="l17.207">                 &quot;warn&quot;</span>
<a href="#l17.208"></a><span id="l17.208">             );</span>
<a href="#l17.209"></a><span id="l17.209">         }</span>
<a href="#l17.210"></a><span id="l17.210">         if (window.calendarItem.getProperty(&quot;X-MICROSOFT-DISALLOW-COUNTER&quot;) == &quot;TRUE&quot;) {</span>
<a href="#l17.211"></a><span id="l17.211">             // this is a counterproposal although the user disallowed countering when sending the</span>
<a href="#l17.212"></a><span id="l17.212">             // invitation, so we notify the user accordingly</span>
<a href="#l17.213"></a><span id="l17.213">             notifyUser(</span>
<a href="#l17.214"></a><span id="l17.214">                 &quot;counterProposalOnCounteringDisallowed&quot;,</span>
<a href="#l17.215"></a><span id="l17.215" class="difflineminus">-                cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;counterOnCounterDisallowedNotification&quot;),</span>
<a href="#l17.216"></a><span id="l17.216" class="difflineplus">+                cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;counterOnCounterDisallowedNotification&quot;),</span>
<a href="#l17.217"></a><span id="l17.217">                 &quot;warn&quot;</span>
<a href="#l17.218"></a><span id="l17.218">             );</span>
<a href="#l17.219"></a><span id="l17.219">         }</span>
<a href="#l17.220"></a><span id="l17.220">     }</span>
<a href="#l17.221"></a><span id="l17.221"> }</span>
<a href="#l17.222"></a><span id="l17.222"> </span>
<a href="#l17.223"></a><span id="l17.223"> /**</span>
<a href="#l17.224"></a><span id="l17.224">  * Get the property label to display for a counterproposal based on the respective label used in</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/lightning/content/messenger-overlay-sidebar.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/lightning/content/messenger-overlay-sidebar.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -422,17 +422,17 @@ function ltnIntegrationNotification() {</span>
<a href="#l18.4"></a><span id="l18.4">     const kNotify = &quot;calendar.integration.notify&quot;; // default: true</span>
<a href="#l18.5"></a><span id="l18.5">     const kSupportUri = &quot;https://support.mozilla.org/kb/thunderbird-calendar-integration&quot;;</span>
<a href="#l18.6"></a><span id="l18.6">     const kLightningGuuid = &quot;{e2fda1a4-762b-4020-b5ad-a41df1933103}&quot;;</span>
<a href="#l18.7"></a><span id="l18.7"> </span>
<a href="#l18.8"></a><span id="l18.8">     // we fall back to messagepanebox for Seamonkey</span>
<a href="#l18.9"></a><span id="l18.9">     let notifyBox = document.getElementById(&quot;mail-notification-box&quot;) ||</span>
<a href="#l18.10"></a><span id="l18.10">                     document.getElementById(&quot;messagepanebox&quot;);</span>
<a href="#l18.11"></a><span id="l18.11"> </span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-    let appBrand = cal.calGetString(&quot;brand&quot;, &quot;brandShortName&quot;, null, &quot;branding&quot;);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+    let appBrand = cal.l10n.getAnyString(&quot;branding&quot;, &quot;brand&quot;, &quot;brandShortName&quot;);</span>
<a href="#l18.14"></a><span id="l18.14">     let ltnBrand = cal.l10n.getLtnString(&quot;brandShortName&quot;);</span>
<a href="#l18.15"></a><span id="l18.15">     let label = cal.l10n.getLtnString(&quot;integrationLabel&quot;, [appBrand, ltnBrand]);</span>
<a href="#l18.16"></a><span id="l18.16"> </span>
<a href="#l18.17"></a><span id="l18.17">     // call backs for doing/undoing Lightning removal</span>
<a href="#l18.18"></a><span id="l18.18">     let cbRemoveLightning = function(aAddon) {</span>
<a href="#l18.19"></a><span id="l18.19">         aAddon.userDisabled = true;</span>
<a href="#l18.20"></a><span id="l18.20">     };</span>
<a href="#l18.21"></a><span id="l18.21">     let cbUndoRemoveLightning = function(aAddon) {</span>
<a href="#l18.22"></a><span id="l18.22" class="difflineat">@@ -937,17 +937,17 @@ function checkCalendarBinaryComponent() </span>
<a href="#l18.23"></a><span id="l18.23">                 break;</span>
<a href="#l18.24"></a><span id="l18.24">         }</span>
<a href="#l18.25"></a><span id="l18.25"> </span>
<a href="#l18.26"></a><span id="l18.26">         let text;</span>
<a href="#l18.27"></a><span id="l18.27">         if (version &amp;&amp; version != ext.version) {</span>
<a href="#l18.28"></a><span id="l18.28">             let args = [extbrand, ext.version, version];</span>
<a href="#l18.29"></a><span id="l18.29">             text = cal.l10n.getLtnString(&quot;binaryComponentKnown&quot;, args);</span>
<a href="#l18.30"></a><span id="l18.30">         } else {</span>
<a href="#l18.31"></a><span id="l18.31" class="difflineminus">-            let brand = cal.calGetString(&quot;brand&quot;, &quot;brandShortName&quot;, null, &quot;branding&quot;);</span>
<a href="#l18.32"></a><span id="l18.32" class="difflineplus">+            let brand = cal.l10n.getAnyString(&quot;branding&quot;, &quot;brand&quot;, &quot;brandShortName&quot;);</span>
<a href="#l18.33"></a><span id="l18.33">             let args = [extbrand, brand, appversion, ext.version];</span>
<a href="#l18.34"></a><span id="l18.34">             text = cal.l10n.getLtnString(&quot;binaryComponentUnknown&quot;, args);</span>
<a href="#l18.35"></a><span id="l18.35">         }</span>
<a href="#l18.36"></a><span id="l18.36"> </span>
<a href="#l18.37"></a><span id="l18.37">         let title = cal.l10n.getLtnString(&quot;binaryComponentTitle&quot;, [extbrand]);</span>
<a href="#l18.38"></a><span id="l18.38">         openAddonsMgr(&quot;addons://detail/&quot; + encodeURIComponent(LIGHTNING_GUID));</span>
<a href="#l18.39"></a><span id="l18.39">         Services.prompt.alert(window, title, text);</span>
<a href="#l18.40"></a><span id="l18.40">     });</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1600,19 +1600,19 @@ calDavCalendar.prototype = {</span>
<a href="#l19.4"></a><span id="l19.4">             let asyncprompter = Components.classes[&quot;@mozilla.org/messenger/msgAsyncPrompter;1&quot;]</span>
<a href="#l19.5"></a><span id="l19.5">                                           .getService(Components.interfaces.nsIMsgAsyncPrompter);</span>
<a href="#l19.6"></a><span id="l19.6">             asyncprompter.queueAsyncAuthPrompt(self.uri.spec, false, promptlistener);</span>
<a href="#l19.7"></a><span id="l19.7">         }</span>
<a href="#l19.8"></a><span id="l19.8">         if (this.mUri.host == &quot;apidata.googleusercontent.com&quot;) {</span>
<a href="#l19.9"></a><span id="l19.9">             if (!this.oauth) {</span>
<a href="#l19.10"></a><span id="l19.10">                 let sessionId = this.id;</span>
<a href="#l19.11"></a><span id="l19.11">                 let pwMgrId = &quot;Google CalDAV v2&quot;;</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-                let authTitle = cal.calGetString(&quot;commonDialogs&quot;, &quot;EnterUserPasswordFor2&quot;,</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineminus">-                                                 [this.name], &quot;global&quot;);</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineminus">-</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+                let authTitle = cal.l10n.getAnyString(</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineplus">+                    &quot;global&quot;, &quot;commonDialogs&quot;, &quot;EnterUserPasswordFor2&quot;, [this.name]</span>
<a href="#l19.17"></a><span id="l19.17" class="difflineplus">+                );</span>
<a href="#l19.18"></a><span id="l19.18">                 this.oauth = new OAuth2(OAUTH_BASE_URI, OAUTH_SCOPE,</span>
<a href="#l19.19"></a><span id="l19.19">                                         OAUTH_CLIENT_ID, OAUTH_HASH);</span>
<a href="#l19.20"></a><span id="l19.20">                 this.oauth.requestWindowTitle = authTitle;</span>
<a href="#l19.21"></a><span id="l19.21">                 this.oauth.requestWindowFeatures = &quot;chrome,private,centerscreen,width=430,height=600&quot;;</span>
<a href="#l19.22"></a><span id="l19.22"> </span>
<a href="#l19.23"></a><span id="l19.23">                 Object.defineProperty(this.oauth, &quot;refreshToken&quot;, {</span>
<a href="#l19.24"></a><span id="l19.24">                     get: function() {</span>
<a href="#l19.25"></a><span id="l19.25">                         if (!this.mRefreshToken) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/resources/content/calendarCreation.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/resources/content/calendarCreation.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -15,18 +15,18 @@ var gCalendar;</span>
<a href="#l20.4"></a><span id="l20.4"> var errorConstants = {</span>
<a href="#l20.5"></a><span id="l20.5">     SUCCESS: 0,</span>
<a href="#l20.6"></a><span id="l20.6">     INVALID_URI: 1,</span>
<a href="#l20.7"></a><span id="l20.7">     ALREADY_EXISTS: 2</span>
<a href="#l20.8"></a><span id="l20.8"> };</span>
<a href="#l20.9"></a><span id="l20.9"> </span>
<a href="#l20.10"></a><span id="l20.10"> var l10nStrings = {};</span>
<a href="#l20.11"></a><span id="l20.11"> l10nStrings[errorConstants.SUCCESS] = &quot;&quot;;</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-l10nStrings[errorConstants.INVALID_URI] = cal.calGetString(&quot;calendarCreation&quot;, &quot;error.invalidUri&quot;);</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-l10nStrings[errorConstants.ALREADY_EXISTS] = cal.calGetString(&quot;calendarCreation&quot;, &quot;error.alreadyExists&quot;);</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+l10nStrings[errorConstants.INVALID_URI] = cal.l10n.getString(&quot;calendarCreation&quot;, &quot;error.invalidUri&quot;);</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+l10nStrings[errorConstants.ALREADY_EXISTS] = cal.l10n.getString(&quot;calendarCreation&quot;, &quot;error.alreadyExists&quot;);</span>
<a href="#l20.16"></a><span id="l20.16"> </span>
<a href="#l20.17"></a><span id="l20.17"> /**</span>
<a href="#l20.18"></a><span id="l20.18">  * Initialize the location page</span>
<a href="#l20.19"></a><span id="l20.19">  */</span>
<a href="#l20.20"></a><span id="l20.20"> function initLocationPage() {</span>
<a href="#l20.21"></a><span id="l20.21">     checkRequired();</span>
<a href="#l20.22"></a><span id="l20.22"> }</span>
<a href="#l20.23"></a><span id="l20.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -415,17 +415,17 @@</span>
<a href="#l21.4"></a><span id="l21.4">     &lt;/content&gt;</span>
<a href="#l21.5"></a><span id="l21.5"> </span>
<a href="#l21.6"></a><span id="l21.6">     &lt;implementation&gt;</span>
<a href="#l21.7"></a><span id="l21.7">       &lt;field name=&quot;mForeverStr&quot;&gt;null&lt;/field&gt;</span>
<a href="#l21.8"></a><span id="l21.8"> </span>
<a href="#l21.9"></a><span id="l21.9">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l21.10"></a><span id="l21.10">           ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-          this.mForeverStr = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;eventRecurrenceForeverLabel&quot;);</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+          this.mForeverStr = cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;eventRecurrenceForeverLabel&quot;);</span>
<a href="#l21.14"></a><span id="l21.14">           document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;menuitemForever&quot;)</span>
<a href="#l21.15"></a><span id="l21.15">                   .setAttribute(&quot;label&quot;, this.mForeverStr);</span>
<a href="#l21.16"></a><span id="l21.16">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l21.17"></a><span id="l21.17"> </span>
<a href="#l21.18"></a><span id="l21.18">       &lt;method name=&quot;parseTextBoxDate&quot;&gt;</span>
<a href="#l21.19"></a><span id="l21.19">         &lt;parameter name=&quot;aRefresh&quot;/&gt;</span>
<a href="#l21.20"></a><span id="l21.20">         &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l21.21"></a><span id="l21.21">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l21.22"></a><span id="l21.22" class="difflineat">@@ -1600,30 +1600,24 @@</span>
<a href="#l21.23"></a><span id="l21.23">            above/below noon      &quot;\u4e0a\u534802:34&quot;    &quot;\u4e0b\u5348 02 34&quot;</span>
<a href="#l21.24"></a><span id="l21.24">            noon before/after     &quot;\u5348\u524d02:34&quot;    &quot;\u5348\u5f8c 02 34&quot;</span>
<a href="#l21.25"></a><span id="l21.25">       --&gt;</span>
<a href="#l21.26"></a><span id="l21.26">       &lt;method name=&quot;parseTime&quot;&gt;</span>
<a href="#l21.27"></a><span id="l21.27">         &lt;parameter name=&quot;aValue&quot;/&gt;</span>
<a href="#l21.28"></a><span id="l21.28">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l21.29"></a><span id="l21.29">             let now = new Date();</span>
<a href="#l21.30"></a><span id="l21.30"> </span>
<a href="#l21.31"></a><span id="l21.31" class="difflineminus">-            try {</span>
<a href="#l21.32"></a><span id="l21.32" class="difflineminus">-                let noon = cal.l10n.getDateFmtString(&quot;noon&quot;);</span>
<a href="#l21.33"></a><span id="l21.33" class="difflineminus">-                if (aValue.toLowerCase() == noon.toLowerCase()) {</span>
<a href="#l21.34"></a><span id="l21.34" class="difflineminus">-                    return new Date(now.getFullYear(), now.getMonth(), now.getDate(), 12, 0, 0, 0);</span>
<a href="#l21.35"></a><span id="l21.35" class="difflineminus">-                }</span>
<a href="#l21.36"></a><span id="l21.36" class="difflineplus">+            let noon = cal.l10n.getDateFmtString(&quot;noon&quot;);</span>
<a href="#l21.37"></a><span id="l21.37" class="difflineplus">+            if (aValue.toLowerCase() == noon.toLowerCase()) {</span>
<a href="#l21.38"></a><span id="l21.38" class="difflineplus">+                return new Date(now.getFullYear(), now.getMonth(), now.getDate(), 12, 0, 0, 0);</span>
<a href="#l21.39"></a><span id="l21.39" class="difflineplus">+            }</span>
<a href="#l21.40"></a><span id="l21.40"> </span>
<a href="#l21.41"></a><span id="l21.41" class="difflineminus">-                let midnight = cal.l10n.getDateFmtString(&quot;midnight&quot;);</span>
<a href="#l21.42"></a><span id="l21.42" class="difflineminus">-                if (aValue.toLowerCase() == midnight.toLowerCase()) {</span>
<a href="#l21.43"></a><span id="l21.43" class="difflineminus">-                    return new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0, 0);</span>
<a href="#l21.44"></a><span id="l21.44" class="difflineminus">-                }</span>
<a href="#l21.45"></a><span id="l21.45" class="difflineminus">-            } catch (ex) {</span>
<a href="#l21.46"></a><span id="l21.46" class="difflineminus">-                // Try/catch this, since some people are apparently</span>
<a href="#l21.47"></a><span id="l21.47" class="difflineminus">-                // interested in using the datepicker in remote apps, where</span>
<a href="#l21.48"></a><span id="l21.48" class="difflineminus">-                // calGetString wouldn't exist</span>
<a href="#l21.49"></a><span id="l21.49" class="difflineplus">+            let midnight = cal.l10n.getDateFmtString(&quot;midnight&quot;);</span>
<a href="#l21.50"></a><span id="l21.50" class="difflineplus">+            if (aValue.toLowerCase() == midnight.toLowerCase()) {</span>
<a href="#l21.51"></a><span id="l21.51" class="difflineplus">+                return new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0, 0);</span>
<a href="#l21.52"></a><span id="l21.52">             }</span>
<a href="#l21.53"></a><span id="l21.53"> </span>
<a href="#l21.54"></a><span id="l21.54">             let time = null;</span>
<a href="#l21.55"></a><span id="l21.55">             let timePartsArray = this.parseTimeRegExp.exec(aValue);</span>
<a href="#l21.56"></a><span id="l21.56">             const PRE_INDEX = 1, HR_INDEX = 2, MIN_INDEX = 4, SEC_INDEX = 6, POST_INDEX = 8;</span>
<a href="#l21.57"></a><span id="l21.57"> </span>
<a href="#l21.58"></a><span id="l21.58">             if (timePartsArray != null) {</span>
<a href="#l21.59"></a><span id="l21.59">                 let hoursString = timePartsArray[HR_INDEX];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/calendar/test/mozmill/testAlarmDefaultValue.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/calendar/test/mozmill/testAlarmDefaultValue.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -28,17 +28,17 @@ function setupModule(module) {</span>
<a href="#l22.4"></a><span id="l22.4">     } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l22.5"></a><span id="l22.5">     collector.getModule(&quot;calendar-utils&quot;).setupModule();</span>
<a href="#l22.6"></a><span id="l22.6">     Object.assign(module, helpersForController(controller));</span>
<a href="#l22.7"></a><span id="l22.7"> }</span>
<a href="#l22.8"></a><span id="l22.8"> </span>
<a href="#l22.9"></a><span id="l22.9"> function testDefaultAlarms() {</span>
<a href="#l22.10"></a><span id="l22.10">     let localeUnitString = cal.l10n.getCalString(&quot;unitDays&quot;);</span>
<a href="#l22.11"></a><span id="l22.11">     let unitString = PluralForm.get(DEFVALUE, localeUnitString).replace(&quot;#1&quot;, DEFVALUE);</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-    let alarmString = (...args) =&gt; cal.calGetString(&quot;calendar-alarms&quot;, ...args);</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+    let alarmString = (...args) =&gt; cal.l10n.getString(&quot;calendar-alarms&quot;, ...args);</span>
<a href="#l22.14"></a><span id="l22.14">     let originStringEvent = alarmString(&quot;reminderCustomOriginBeginBeforeEvent&quot;);</span>
<a href="#l22.15"></a><span id="l22.15">     let originStringTask = alarmString(&quot;reminderCustomOriginBeginBeforeTask&quot;);</span>
<a href="#l22.16"></a><span id="l22.16">     let expectedEventReminder = alarmString(&quot;reminderCustomTitle&quot;, [unitString, originStringEvent]);</span>
<a href="#l22.17"></a><span id="l22.17">     let expectedTaskReminder = alarmString(&quot;reminderCustomTitle&quot;, [unitString, originStringTask]);</span>
<a href="#l22.18"></a><span id="l22.18"> </span>
<a href="#l22.19"></a><span id="l22.19">     // Configure the lightning preferences</span>
<a href="#l22.20"></a><span id="l22.20">     openLightningPrefs(handlePrefDialog, controller);</span>
<a href="#l22.21"></a><span id="l22.21"> </span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

