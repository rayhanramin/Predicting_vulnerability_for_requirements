<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 24332:6c1cd825c2b9f2cc99500012021235ce57c26aa6</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 6c1cd825c2b9f2cc99500012021235ce57c26aa6" />
<meta property="og:url" content="/comm-central/rev/6c1cd825c2b9f2cc99500012021235ce57c26aa6" />
<meta property="og:description" content="Bug 1456589 - Part 2 Port Bug 1437242 1432614 1438511 1439313 1437583 1437310 1439358 3,6 to SeaMonkey places.  r=IanN" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 6c1cd825c2b9f2cc99500012021235ce57c26aa6 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/6c1cd825c2b9f2cc99500012021235ce57c26aa6">shortlog</a> |
<a href="/comm-central/log/6c1cd825c2b9f2cc99500012021235ce57c26aa6">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/6c1cd825c2b9f2cc99500012021235ce57c26aa6">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/6c1cd825c2b9f2cc99500012021235ce57c26aa6">files</a> |
changeset |
<a href="/comm-central/raw-rev/6c1cd825c2b9f2cc99500012021235ce57c26aa6">raw</a>  | <a href="/comm-central/archive/6c1cd825c2b9f2cc99500012021235ce57c26aa6.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456589">Bug 1456589</a> - Part 2 Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1437242">Bug 1437242</a> 1432614 1438511 1439313 1437583 1437310 1439358 3,6 to SeaMonkey places.  r=IanN
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#70;&#114;&#97;&#110;&#107;&#45;&#82;&#97;&#105;&#110;&#101;&#114;&#32;&#71;&#114;&#97;&#104;&#108;&#32;&#60;&#102;&#114;&#103;&#114;&#97;&#104;&#108;&#64;&#103;&#109;&#120;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Mon, 23 Jul 2018 22:06:15 +0200</td></tr>

<tr>
 <td>changeset 24332</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/6c1cd825c2b9f2cc99500012021235ce57c26aa6">6c1cd825c2b9f2cc99500012021235ce57c26aa6</a></td>
</tr>



<tr>
<td>parent 24331</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/4b570a748f30b48fe7b425d4677eddc5d2be5154">4b570a748f30b48fe7b425d4677eddc5d2be5154</a>
</td>
</tr>

<tr>
<td>child 24333</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/769411dc58db7abe6a6e455cb9974bb0d580e53b">769411dc58db7abe6a6e455cb9974bb0d580e53b</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=6c1cd825c2b9f2cc99500012021235ce57c26aa6">14652</a></td></tr>
<tr><td>push user</td><td>frgrahl@gmx.net</td></tr>
<tr><td>push date</td><td class="date age">Mon, 23 Jul 2018 20:17:58 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@07e930aae6f2 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=07e930aae6f2e69714e5add148805bed730ea094">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=07e930aae6f2e69714e5add148805bed730ea094&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=07e930aae6f2e69714e5add148805bed730ea094&newProject=comm-central&newRevision=e9b76764d29c217810cb46d6e42de1af4acde58c&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=07e930aae6f2e69714e5add148805bed730ea094&newProject=comm-central&newRevision=e9b76764d29c217810cb46d6e42de1af4acde58c&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=07e930aae6f2e69714e5add148805bed730ea094&newProject=comm-central&newRevision=e9b76764d29c217810cb46d6e42de1af4acde58c&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28IanN%29&revcount=50">IanN</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456589">1456589</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1437242">1437242</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1432614">1432614</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1438511">1438511</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1439313">1439313</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1437583">1437583</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1437310">1437310</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1439358">1439358</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456589">Bug 1456589</a> - Part 2 Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1437242">Bug 1437242</a> 1432614 1438511 1439313 1437583 1437310 1439358 3,6 to SeaMonkey places.  r=IanN

Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1437242">Bug 1437242</a> [don't drag browser-sync.js into places.xul].
Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1432614">Bug 1432614</a> [Remove now unnecessary updating and maintenance of Places' root folder titles].
The titles for the root bookmark folders in the database will now never get updated. This
avoids doing maintenance and changing them if the locale changes.
The UI is now responsible for displaying the correct title.
WebExtensions API will get the UI visible names.

Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1438511">Bug 1438511</a> [Copy top window's uidensity attribute in sidebarUtils.js instead of forcing gUIDensity.update()].
Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1439313">Bug 1439313</a> [delay loading Places treeview.js until necessary].
Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1437583">Bug 1437583</a> [Split plural forms for Delete/Add bookmarks in separate strings].
Since the number of tabs is not actually displayed, having two separate strings from 1 vs many is preferable.

Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1437310">Bug 1437310</a> [Fix moving bookmarks across special folders].
Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1439358">Bug 1439358</a> Part 3 [Always raise ViewShowing events and don't update the &quot;current&quot; property].
The ViewShowing event is now called earlier and unconditionally, since we don't set the &quot;current&quot; attribute and call showMainView while the panel is closing anymore.
It is already the case that the ViewShowing event handlers don't depend on the &quot;current&quot; property, so we don't need to keep track of it before ViewShown events are dispatched.

Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1439358">Bug 1439358</a> Part 6 [Decouple view events from view visibility].
This stops redundant ViewHiding and late ViewShown events from being dispatched when the panel is closed during a ViewShowing event or a transition, and stops dispatching ViewHiding events when a view becomes invisible but is still open.
The panelMultiView property on &quot;panelview&quot; nodes is now set to null when the view is closed, indicating that the view can be immediately reused in a different panel. The Places view had to be updated so it doesn't rely on this property during the PanelMultiViewHidden event.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/browserPlacesViews.js">suite/components/places/content/browserPlacesViews.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/browserPlacesViews.js">file</a> |
<a href="/comm-central/annotate/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/browserPlacesViews.js">annotate</a> |
<a href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/browserPlacesViews.js">diff</a> |
<a href="/comm-central/comparison/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/browserPlacesViews.js">comparison</a> |
<a href="/comm-central/log/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/browserPlacesViews.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/controller.js">suite/components/places/content/controller.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/controller.js">file</a> |
<a href="/comm-central/annotate/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/controller.js">annotate</a> |
<a href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/controller.js">diff</a> |
<a href="/comm-central/comparison/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/controller.js">comparison</a> |
<a href="/comm-central/log/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/controller.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/editBookmarkOverlay.js">suite/components/places/content/editBookmarkOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/editBookmarkOverlay.js">file</a> |
<a href="/comm-central/annotate/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/editBookmarkOverlay.js">annotate</a> |
<a href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/editBookmarkOverlay.js">diff</a> |
<a href="/comm-central/comparison/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/editBookmarkOverlay.js">comparison</a> |
<a href="/comm-central/log/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/editBookmarkOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/places.js">suite/components/places/content/places.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/places.js">file</a> |
<a href="/comm-central/annotate/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/places.js">annotate</a> |
<a href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/places.js">diff</a> |
<a href="/comm-central/comparison/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/places.js">comparison</a> |
<a href="/comm-central/log/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/places.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/placesOverlay.xul">suite/components/places/content/placesOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/placesOverlay.xul">file</a> |
<a href="/comm-central/annotate/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/placesOverlay.xul">annotate</a> |
<a href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/placesOverlay.xul">diff</a> |
<a href="/comm-central/comparison/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/placesOverlay.xul">comparison</a> |
<a href="/comm-central/log/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/placesOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/sidebarUtils.js">suite/components/places/content/sidebarUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/sidebarUtils.js">file</a> |
<a href="/comm-central/annotate/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/sidebarUtils.js">annotate</a> |
<a href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/sidebarUtils.js">diff</a> |
<a href="/comm-central/comparison/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/sidebarUtils.js">comparison</a> |
<a href="/comm-central/log/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/content/sidebarUtils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/tests/browser/browser_library_left_pane_fixnames.js">suite/components/places/tests/browser/browser_library_left_pane_fixnames.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/tests/browser/browser_library_left_pane_fixnames.js">file</a> |
<a href="/comm-central/annotate/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/tests/browser/browser_library_left_pane_fixnames.js">annotate</a> |
<a href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/tests/browser/browser_library_left_pane_fixnames.js">diff</a> |
<a href="/comm-central/comparison/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/tests/browser/browser_library_left_pane_fixnames.js">comparison</a> |
<a href="/comm-central/log/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/components/places/tests/browser/browser_library_left_pane_fixnames.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/locales/en-US/chrome/common/places/places.properties">suite/locales/en-US/chrome/common/places/places.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/locales/en-US/chrome/common/places/places.properties">file</a> |
<a href="/comm-central/annotate/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/locales/en-US/chrome/common/places/places.properties">annotate</a> |
<a href="/comm-central/diff/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/locales/en-US/chrome/common/places/places.properties">diff</a> |
<a href="/comm-central/comparison/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/locales/en-US/chrome/common/places/places.properties">comparison</a> |
<a href="/comm-central/log/6c1cd825c2b9f2cc99500012021235ce57c26aa6/suite/locales/en-US/chrome/common/places/places.properties">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/components/places/content/browserPlacesViews.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/components/places/content/browserPlacesViews.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -2112,24 +2112,16 @@ this.PlacesPanelview = class extends Pla</span>
<a href="#l1.4"></a><span id="l1.4">   }</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6">   get events() {</span>
<a href="#l1.7"></a><span id="l1.7">     if (this._events)</span>
<a href="#l1.8"></a><span id="l1.8">       return this._events;</span>
<a href="#l1.9"></a><span id="l1.9">     return this._events = [&quot;click&quot;, &quot;command&quot;, &quot;dragend&quot;, &quot;dragstart&quot;, &quot;ViewHiding&quot;, &quot;ViewShown&quot;];</span>
<a href="#l1.10"></a><span id="l1.10">   }</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-  get panel() {</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-    return this.panelMultiView.parentNode;</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-  }</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-  get panelMultiView() {</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-    return this._viewElt.panelMultiView;</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">-  }</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-</span>
<a href="#l1.20"></a><span id="l1.20">   handleEvent(event) {</span>
<a href="#l1.21"></a><span id="l1.21">     switch (event.type) {</span>
<a href="#l1.22"></a><span id="l1.22">       case &quot;click&quot;:</span>
<a href="#l1.23"></a><span id="l1.23">         // For middle clicks, fall through to the command handler.</span>
<a href="#l1.24"></a><span id="l1.24">         if (event.button != 1) {</span>
<a href="#l1.25"></a><span id="l1.25">           break;</span>
<a href="#l1.26"></a><span id="l1.26">         }</span>
<a href="#l1.27"></a><span id="l1.27">       case &quot;command&quot;:</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineat">@@ -2191,16 +2183,17 @@ this.PlacesPanelview = class extends Pla</span>
<a href="#l1.29"></a><span id="l1.29"> </span>
<a href="#l1.30"></a><span id="l1.30">     this._controller.setDataTransfer(event);</span>
<a href="#l1.31"></a><span id="l1.31">     event.stopPropagation();</span>
<a href="#l1.32"></a><span id="l1.32">   }</span>
<a href="#l1.33"></a><span id="l1.33"> </span>
<a href="#l1.34"></a><span id="l1.34">   uninit(event) {</span>
<a href="#l1.35"></a><span id="l1.35">     this._removeEventListeners(this.panelMultiView, this.events);</span>
<a href="#l1.36"></a><span id="l1.36">     this._removeEventListeners(window, [&quot;unload&quot;]);</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineplus">+    delete this.panelMultiView;</span>
<a href="#l1.38"></a><span id="l1.38">     super.uninit(event);</span>
<a href="#l1.39"></a><span id="l1.39">   }</span>
<a href="#l1.40"></a><span id="l1.40"> </span>
<a href="#l1.41"></a><span id="l1.41">   _createDOMNodeForPlacesNode(placesNode) {</span>
<a href="#l1.42"></a><span id="l1.42">     this._domNodes.delete(placesNode);</span>
<a href="#l1.43"></a><span id="l1.43"> </span>
<a href="#l1.44"></a><span id="l1.44">     let element;</span>
<a href="#l1.45"></a><span id="l1.45">     let type = placesNode.type;</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineat">@@ -2250,20 +2243,16 @@ this.PlacesPanelview = class extends Pla</span>
<a href="#l1.47"></a><span id="l1.47">     } else {</span>
<a href="#l1.48"></a><span id="l1.48">       panelview.removeAttribute(&quot;emptyplacesresult&quot;);</span>
<a href="#l1.49"></a><span id="l1.49">       try {</span>
<a href="#l1.50"></a><span id="l1.50">         panelview.removeChild(panelview._emptyMenuitem);</span>
<a href="#l1.51"></a><span id="l1.51">       } catch (ex) {}</span>
<a href="#l1.52"></a><span id="l1.52">     }</span>
<a href="#l1.53"></a><span id="l1.53">   }</span>
<a href="#l1.54"></a><span id="l1.54"> </span>
<a href="#l1.55"></a><span id="l1.55" class="difflineminus">-  _isPopupOpen() {</span>
<a href="#l1.56"></a><span id="l1.56" class="difflineminus">-    return this.panel.state == &quot;open&quot; &amp;&amp; this.panelMultiView.current == this._viewElt;</span>
<a href="#l1.57"></a><span id="l1.57" class="difflineminus">-  }</span>
<a href="#l1.58"></a><span id="l1.58" class="difflineminus">-</span>
<a href="#l1.59"></a><span id="l1.59">   _onPopupHidden(event) {</span>
<a href="#l1.60"></a><span id="l1.60">     let panelview = event.originalTarget;</span>
<a href="#l1.61"></a><span id="l1.61">     let placesNode = panelview._placesNode;</span>
<a href="#l1.62"></a><span id="l1.62">     // Avoid handling ViewHiding of inner views</span>
<a href="#l1.63"></a><span id="l1.63">     if (placesNode &amp;&amp; PlacesUIUtils.getViewForNode(panelview) == this) {</span>
<a href="#l1.64"></a><span id="l1.64">       // UI performance: folder queries are cheap, keep the resultnode open</span>
<a href="#l1.65"></a><span id="l1.65">       // so we don't rebuild its contents whenever the popup is reopened.</span>
<a href="#l1.66"></a><span id="l1.66">       // Though, we want to always close feed containers so their expiration</span>
<a href="#l1.67"></a><span id="l1.67" class="difflineat">@@ -2275,16 +2264,17 @@ this.PlacesPanelview = class extends Pla</span>
<a href="#l1.68"></a><span id="l1.68">     }</span>
<a href="#l1.69"></a><span id="l1.69">   }</span>
<a href="#l1.70"></a><span id="l1.70"> </span>
<a href="#l1.71"></a><span id="l1.71">   _onPopupShowing(event) {</span>
<a href="#l1.72"></a><span id="l1.72">     // If the event came from the root element, this is the first time</span>
<a href="#l1.73"></a><span id="l1.73">     // we ever get here.</span>
<a href="#l1.74"></a><span id="l1.74">     if (event.originalTarget == this._rootElt) {</span>
<a href="#l1.75"></a><span id="l1.75">       // Start listening for events from all panels inside the panelmultiview.</span>
<a href="#l1.76"></a><span id="l1.76" class="difflineplus">+      this.panelMultiView = this._viewElt.panelMultiView;</span>
<a href="#l1.77"></a><span id="l1.77">       this._addEventListeners(this.panelMultiView, this.events);</span>
<a href="#l1.78"></a><span id="l1.78">     }</span>
<a href="#l1.79"></a><span id="l1.79">     super._onPopupShowing(event);</span>
<a href="#l1.80"></a><span id="l1.80">   }</span>
<a href="#l1.81"></a><span id="l1.81"> </span>
<a href="#l1.82"></a><span id="l1.82">   _onViewShown(event) {</span>
<a href="#l1.83"></a><span id="l1.83">     if (event.originalTarget != this._viewElt)</span>
<a href="#l1.84"></a><span id="l1.84">       return;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/components/places/content/controller.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/components/places/content/controller.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -615,25 +615,26 @@ PlacesController.prototype = {</span>
<a href="#l2.4"></a><span id="l2.4">             openContainerInTabsItem.disabled = true;</span>
<a href="#l2.5"></a><span id="l2.5">             // Ensure that we don't display the menu if nothing is enabled:</span>
<a href="#l2.6"></a><span id="l2.6">             usableItemCount--;</span>
<a href="#l2.7"></a><span id="l2.7">           }</span>
<a href="#l2.8"></a><span id="l2.8">         }</span>
<a href="#l2.9"></a><span id="l2.9">       }</span>
<a href="#l2.10"></a><span id="l2.10">     }</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-    // Make sure correct PluralForms are diplayed when multiple pages are selected.</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-    var deleteHistoryItem = document.getElementById(&quot;placesContext_delete_history&quot;);</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-    deleteHistoryItem.label = PlacesUIUtils.getPluralString(&quot;cmd.deletePages.label&quot;,</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-                                                            metadata.length);</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineminus">-    deleteHistoryItem.accessKey = PlacesUIUtils.getString(&quot;cmd.deletePages.accesskey&quot;);</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-    var createBookmarkItem = document.getElementById(&quot;placesContext_createBookmark&quot;);</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-    createBookmarkItem.label = PlacesUIUtils.getPluralString(&quot;cmd.bookmarkPages.label&quot;,</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-                                                             metadata.length);</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-    createBookmarkItem.accessKey = PlacesUIUtils.getString(&quot;cmd.bookmarkPages.accesskey&quot;);</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineplus">+    // Make sure to display the correct string when multiple pages are selected.</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineplus">+    let stringId = metadata.length === 1 ? &quot;SinglePage&quot; : &quot;MultiplePages&quot;;</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineplus">+</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineplus">+    let deleteHistoryItem = document.getElementById(&quot;placesContext_delete_history&quot;);</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineplus">+    deleteHistoryItem.label = PlacesUIUtils.getString(`cmd.delete${stringId}.label`);</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineplus">+    deleteHistoryItem.accessKey = PlacesUIUtils.getString(`cmd.delete${stringId}.accesskey`);</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineplus">+</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineplus">+    let createBookmarkItem = document.getElementById(&quot;placesContext_createBookmark&quot;);</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineplus">+    createBookmarkItem.label = PlacesUIUtils.getString(`cmd.bookmark${stringId}.label`);</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineplus">+    createBookmarkItem.accessKey = PlacesUIUtils.getString(`cmd.bookmark${stringId}.accesskey`);</span>
<a href="#l2.31"></a><span id="l2.31"> </span>
<a href="#l2.32"></a><span id="l2.32">     return usableItemCount &gt; 0;</span>
<a href="#l2.33"></a><span id="l2.33">   },</span>
<a href="#l2.34"></a><span id="l2.34"> </span>
<a href="#l2.35"></a><span id="l2.35">   /**</span>
<a href="#l2.36"></a><span id="l2.36">    * Select all links in the current view.</span>
<a href="#l2.37"></a><span id="l2.37">    */</span>
<a href="#l2.38"></a><span id="l2.38">   selectAll: function PC_selectAll() {</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineat">@@ -1376,29 +1377,30 @@ var PlacesControllerDragHelper = {</span>
<a href="#l2.40"></a><span id="l2.40">    *        A node unwrapped by PlacesUtils.unwrapNodes().</span>
<a href="#l2.41"></a><span id="l2.41">    * @return True if the node can be moved, false otherwise.</span>
<a href="#l2.42"></a><span id="l2.42">    */</span>
<a href="#l2.43"></a><span id="l2.43">   canMoveUnwrappedNode(unwrappedNode) {</span>
<a href="#l2.44"></a><span id="l2.44">     if ((unwrappedNode.concreteGuid &amp;&amp; PlacesUtils.isRootItem(unwrappedNode.concreteGuid)) ||</span>
<a href="#l2.45"></a><span id="l2.45">         unwrappedNode.id &lt;= 0 || PlacesUtils.isRootItem(unwrappedNode.id)) {</span>
<a href="#l2.46"></a><span id="l2.46">       return false;</span>
<a href="#l2.47"></a><span id="l2.47">     }</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineminus">-    let parentId = unwrappedNode.parent;</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineminus">-    if (parentId &lt;= 0 ||</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-        parentId == PlacesUtils.placesRootId ||</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineminus">-        parentId == PlacesUtils.tagsFolderId ||</span>
<a href="#l2.52"></a><span id="l2.52" class="difflineminus">-        unwrappedNode.grandParentId == PlacesUtils.tagsFolderId) {</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineplus">+</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineplus">+    let parentGuid = unwrappedNode.parentGuid;</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineplus">+    // If there's no parent Guid, this was likely a virtual query that returns</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineplus">+    // bookmarks, such as a tags query.</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineplus">+    if (!parentGuid ||</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineplus">+        parentGuid == PlacesUtils.bookmarks.rootGuid) {</span>
<a href="#l2.59"></a><span id="l2.59">       return false;</span>
<a href="#l2.60"></a><span id="l2.60">     }</span>
<a href="#l2.61"></a><span id="l2.61">     // leftPaneFolderId and allBookmarksFolderId are lazy getters running</span>
<a href="#l2.62"></a><span id="l2.62">     // at least a synchronous DB query. Therefore we don't want to invoke</span>
<a href="#l2.63"></a><span id="l2.63">     // them first, especially because isCommandEnabled may be called way</span>
<a href="#l2.64"></a><span id="l2.64">     // before the left pane folder is even necessary.</span>
<a href="#l2.65"></a><span id="l2.65">     if (typeof Object.getOwnPropertyDescriptor(PlacesUIUtils, &quot;leftPaneFolderId&quot;).get != &quot;function&quot; &amp;&amp;</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineminus">-        (parentId == PlacesUIUtils.leftPaneFolderId)) {</span>
<a href="#l2.67"></a><span id="l2.67" class="difflineplus">+        (unwrappedNode.parent == PlacesUIUtils.leftPaneFolderId)) {</span>
<a href="#l2.68"></a><span id="l2.68">       return false;</span>
<a href="#l2.69"></a><span id="l2.69">     }</span>
<a href="#l2.70"></a><span id="l2.70">     return true;</span>
<a href="#l2.71"></a><span id="l2.71">   },</span>
<a href="#l2.72"></a><span id="l2.72"> </span>
<a href="#l2.73"></a><span id="l2.73">   /**</span>
<a href="#l2.74"></a><span id="l2.74">    * Determines if a node can be moved.</span>
<a href="#l2.75"></a><span id="l2.75">    *</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/components/places/content/editBookmarkOverlay.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/components/places/content/editBookmarkOverlay.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -432,17 +432,20 @@ var gEditItemOverlay = {</span>
<a href="#l3.4"></a><span id="l3.4">      * folder identifier and the time at which it was last-used by this dialog</span>
<a href="#l3.5"></a><span id="l3.5">      * set. Then we sort it descendingly based on the time field.</span>
<a href="#l3.6"></a><span id="l3.6">      */</span>
<a href="#l3.7"></a><span id="l3.7">     this._recentFolders = [];</span>
<a href="#l3.8"></a><span id="l3.8">     for (let folderId of folderIds) {</span>
<a href="#l3.9"></a><span id="l3.9">       var lastUsed =</span>
<a href="#l3.10"></a><span id="l3.10">         PlacesUtils.annotations.getItemAnnotation(folderId, LAST_USED_ANNO);</span>
<a href="#l3.11"></a><span id="l3.11">       let guid = await PlacesUtils.promiseItemGuid(folderId);</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-      let title = (await PlacesUtils.bookmarks.fetch(guid)).title;</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+      let bm = await PlacesUtils.bookmarks.fetch(guid);</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+      // Since this could be a root mobile folder, we should get the proper</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+      // title.</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+      let title = PlacesUtils.bookmarks.getLocalizedTitle(bm);</span>
<a href="#l3.17"></a><span id="l3.17">       this._recentFolders.push({ folderId, guid, title, lastUsed });</span>
<a href="#l3.18"></a><span id="l3.18">     }</span>
<a href="#l3.19"></a><span id="l3.19">     this._recentFolders.sort(function(a, b) {</span>
<a href="#l3.20"></a><span id="l3.20">       if (b.lastUsed &lt; a.lastUsed)</span>
<a href="#l3.21"></a><span id="l3.21">         return -1;</span>
<a href="#l3.22"></a><span id="l3.22">       if (b.lastUsed &gt; a.lastUsed)</span>
<a href="#l3.23"></a><span id="l3.23">         return 1;</span>
<a href="#l3.24"></a><span id="l3.24">       return 0;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/components/places/content/places.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/components/places/content/places.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -157,18 +157,16 @@ var PlacesOrganizer = {</span>
<a href="#l4.4"></a><span id="l4.4"> </span>
<a href="#l4.5"></a><span id="l4.5">     window.addEventListener(&quot;AppCommand&quot;, this, true);</span>
<a href="#l4.6"></a><span id="l4.6"> </span>
<a href="#l4.7"></a><span id="l4.7">     // remove the &quot;Properties&quot; context-menu item, we've our own details pane</span>
<a href="#l4.8"></a><span id="l4.8">     document.getElementById(&quot;placesContext&quot;)</span>
<a href="#l4.9"></a><span id="l4.9">             .removeChild(document.getElementById(&quot;placesContext_show:info&quot;));</span>
<a href="#l4.10"></a><span id="l4.10"> </span>
<a href="#l4.11"></a><span id="l4.11">     ContentArea.focus();</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    // sync is currently disabled</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-    // gSync.init();</span>
<a href="#l4.14"></a><span id="l4.14">   },</span>
<a href="#l4.15"></a><span id="l4.15"> </span>
<a href="#l4.16"></a><span id="l4.16">   QueryInterface: function PO_QueryInterface(aIID) {</span>
<a href="#l4.17"></a><span id="l4.17">     if (aIID.equals(Ci.nsIDOMEventListener) ||</span>
<a href="#l4.18"></a><span id="l4.18">         aIID.equals(Ci.nsISupports))</span>
<a href="#l4.19"></a><span id="l4.19">       return this;</span>
<a href="#l4.20"></a><span id="l4.20"> </span>
<a href="#l4.21"></a><span id="l4.21">     throw Cr.NS_NOINTERFACE;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/suite/components/places/content/placesOverlay.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/suite/components/places/content/placesOverlay.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -18,21 +18,21 @@</span>
<a href="#l5.4"></a><span id="l5.4">   &lt;script type=&quot;application/javascript&quot;&gt;&lt;![CDATA[</span>
<a href="#l5.5"></a><span id="l5.5">     ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l5.6"></a><span id="l5.6">     ChromeUtils.defineModuleGetter(window,</span>
<a href="#l5.7"></a><span id="l5.7">       &quot;PlacesUtils&quot;, &quot;resource://gre/modules/PlacesUtils.jsm&quot;);</span>
<a href="#l5.8"></a><span id="l5.8">     ChromeUtils.defineModuleGetter(window,</span>
<a href="#l5.9"></a><span id="l5.9">       &quot;PlacesUIUtils&quot;, &quot;resource:///modules/PlacesUIUtils.jsm&quot;);</span>
<a href="#l5.10"></a><span id="l5.10">     ChromeUtils.defineModuleGetter(window,</span>
<a href="#l5.11"></a><span id="l5.11">       &quot;PlacesTransactions&quot;, &quot;resource://gre/modules/PlacesTransactions.jsm&quot;);</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+    XPCOMUtils.defineLazyScriptGetter(window, &quot;PlacesTreeView&quot;,</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+      &quot;chrome://communicator/content/places/treeView.js&quot;);</span>
<a href="#l5.14"></a><span id="l5.14">   ]]&gt;&lt;/script&gt;</span>
<a href="#l5.15"></a><span id="l5.15">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l5.16"></a><span id="l5.16">           src=&quot;chrome://communicator/content/places/controller.js&quot;/&gt;</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineminus">-          src=&quot;chrome://communicator/content/places/treeView.js&quot;/&gt;</span>
<a href="#l5.19"></a><span id="l5.19"> </span>
<a href="#l5.20"></a><span id="l5.20">   &lt;!-- Bookmarks and history tooltip --&gt;</span>
<a href="#l5.21"></a><span id="l5.21">   &lt;tooltip id=&quot;bhTooltip&quot; noautohide=&quot;true&quot;</span>
<a href="#l5.22"></a><span id="l5.22">            onpopupshowing=&quot;return window.top.BookmarksEventHandler.fillInBHTooltip(document, event)&quot;&gt;</span>
<a href="#l5.23"></a><span id="l5.23">     &lt;vbox id=&quot;bhTooltipTextBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l5.24"></a><span id="l5.24">       &lt;label id=&quot;bhtTitleText&quot; class=&quot;tooltip-label&quot; /&gt;</span>
<a href="#l5.25"></a><span id="l5.25">       &lt;label id=&quot;bhtUrlText&quot; crop=&quot;center&quot; class=&quot;tooltip-label uri-element&quot; /&gt;</span>
<a href="#l5.26"></a><span id="l5.26">     &lt;/vbox&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/suite/components/places/content/sidebarUtils.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/suite/components/places/content/sidebarUtils.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1,14 +1,18 @@</span>
<a href="#l6.4"></a><span id="l6.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.5"></a><span id="l6.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.6"></a><span id="l6.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8"> ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l6.9"></a><span id="l6.9" class="difflineminus">-window.top.gUIDensity.update();</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineplus">+</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineplus">+let uidensity = window.top.document.documentElement.getAttribute(&quot;uidensity&quot;);</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+if (uidensity) {</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+  document.documentElement.setAttribute(&quot;uidensity&quot;, uidensity);</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+}</span>
<a href="#l6.15"></a><span id="l6.15"> </span>
<a href="#l6.16"></a><span id="l6.16"> var SidebarUtils = {</span>
<a href="#l6.17"></a><span id="l6.17">   handleTreeClick: function SU_handleTreeClick(aTree, aEvent, aGutterSelect) {</span>
<a href="#l6.18"></a><span id="l6.18">     // right-clicks are not handled here</span>
<a href="#l6.19"></a><span id="l6.19">     if (aEvent.button == 2)</span>
<a href="#l6.20"></a><span id="l6.20">       return;</span>
<a href="#l6.21"></a><span id="l6.21"> </span>
<a href="#l6.22"></a><span id="l6.22">     var tbo = aTree.treeBoxObject;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/suite/components/places/tests/browser/browser_library_left_pane_fixnames.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/suite/components/places/tests/browser/browser_library_left_pane_fixnames.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -13,18 +13,16 @@</span>
<a href="#l7.4"></a><span id="l7.4"> // itemId: query's itemId,</span>
<a href="#l7.5"></a><span id="l7.5"> // correctTitle: original and correct query's title.</span>
<a href="#l7.6"></a><span id="l7.6"> var leftPaneQueries = [];</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8"> function onLibraryReady(organizer) {</span>
<a href="#l7.9"></a><span id="l7.9">       // Check titles have been fixed.</span>
<a href="#l7.10"></a><span id="l7.10">       for (var i = 0; i &lt; leftPaneQueries.length; i++) {</span>
<a href="#l7.11"></a><span id="l7.11">         var query = leftPaneQueries[i];</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-        is(PlacesUtils.bookmarks.getItemTitle(query.itemId),</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-           query.correctTitle, &quot;Title is correct for query &quot; + query.name);</span>
<a href="#l7.14"></a><span id="l7.14">         if (&quot;concreteId&quot; in query) {</span>
<a href="#l7.15"></a><span id="l7.15">           is(PlacesUtils.bookmarks.getItemTitle(query.concreteId),</span>
<a href="#l7.16"></a><span id="l7.16">            query.concreteTitle, &quot;Concrete title is correct for query &quot; + query.name);</span>
<a href="#l7.17"></a><span id="l7.17">         }</span>
<a href="#l7.18"></a><span id="l7.18">       }</span>
<a href="#l7.19"></a><span id="l7.19"> </span>
<a href="#l7.20"></a><span id="l7.20">       // Close Library window.</span>
<a href="#l7.21"></a><span id="l7.21">       organizer.close();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/locales/en-US/chrome/common/places/places.properties</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/places/places.properties</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -77,24 +77,29 @@ OrganizerQueryTags=Tags</span>
<a href="#l8.4"></a><span id="l8.4"> # to users with screen readers</span>
<a href="#l8.5"></a><span id="l8.5"> # See createResultLabel() in urlbarBindings.xml</span>
<a href="#l8.6"></a><span id="l8.6"> tagResultLabel=Tag</span>
<a href="#l8.7"></a><span id="l8.7"> bookmarkResultLabel=Bookmark</span>
<a href="#l8.8"></a><span id="l8.8"> switchtabResultLabel=Tab</span>
<a href="#l8.9"></a><span id="l8.9"> keywordResultLabel=Keyword</span>
<a href="#l8.10"></a><span id="l8.10"> searchengineResultLabel=Search</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-</span>
<a href="#l8.13"></a><span id="l8.13"> # LOCALIZATION NOTE (lockPrompt.text)</span>
<a href="#l8.14"></a><span id="l8.14"> # %S will be replaced with the application name.</span>
<a href="#l8.15"></a><span id="l8.15"> lockPrompt.text=The bookmarks and history system will not be functional because one of %Sâ€™s files is in use by another application. Some security software can cause this problem.</span>
<a href="#l8.16"></a><span id="l8.16"> lockPromptInfoButton.label=Learn More</span>
<a href="#l8.17"></a><span id="l8.17"> lockPromptInfoButton.accesskey=L</span>
<a href="#l8.18"></a><span id="l8.18"> </span>
<a href="#l8.19"></a><span id="l8.19" class="difflineminus">-# LOCALIZATION NOTE (deletePagesLabel): Semi-colon list of plural forms.</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineminus">-# See: http://developer.mozilla.org/en/docs/Localization_and_Plurals</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineminus">-cmd.deletePages.label=Delete Page;Delete Pages</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineminus">-cmd.deletePages.accesskey=D</span>
<a href="#l8.23"></a><span id="l8.23" class="difflineplus">+# LOCALIZATION NOTE (cmd.deleteSinglePage.accesskey,</span>
<a href="#l8.24"></a><span id="l8.24" class="difflineplus">+# cmd.deleteMultiplePages.accesskey): these accesskeys can use the same</span>
<a href="#l8.25"></a><span id="l8.25" class="difflineplus">+# character, since they're never displayed at the same time</span>
<a href="#l8.26"></a><span id="l8.26" class="difflineplus">+cmd.deleteSinglePage.label=Delete Page</span>
<a href="#l8.27"></a><span id="l8.27" class="difflineplus">+cmd.deleteSinglePage.accesskey=D</span>
<a href="#l8.28"></a><span id="l8.28" class="difflineplus">+cmd.deleteMultiplePages.label=Delete Pages</span>
<a href="#l8.29"></a><span id="l8.29" class="difflineplus">+cmd.deleteMultiplePages.accesskey=D</span>
<a href="#l8.30"></a><span id="l8.30"> </span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-# LOCALIZATION NOTE (bookmarkPagesLabel): Semi-colon list of plural forms.</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineminus">-# See: http://developer.mozilla.org/en/docs/Localization_and_Plurals</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineminus">-cmd.bookmarkPages.label=Bookmark Page;Bookmark Pages</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineminus">-cmd.bookmarkPages.accesskey=B</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineplus">+# LOCALIZATION NOTE (cmd.bookmarkSinglePage.accesskey,</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineplus">+# cmd.bookmarkMultiplePages.accesskey): these accesskeys can use the same</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineplus">+# character, since they're never displayed at the same time</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineplus">+cmd.bookmarkSinglePage.label=Bookmark Page</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineplus">+cmd.bookmarkSinglePage.accesskey=B</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineplus">+cmd.bookmarkMultiplePages.label=Bookmark Pages</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineplus">+cmd.bookmarkMultiplePages.accesskey=B</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

