<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 16595:5b95a462eb16865779250b5475cf808bfb332e46</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 5b95a462eb16865779250b5475cf808bfb332e46" />
<meta property="og:url" content="/comm-central/rev/5b95a462eb16865779250b5475cf808bfb332e46" />
<meta property="og:description" content="Bug 1043019 - &quot;Port |Bug 1036894 - Move in-tree library linkage information to moz.build| and |Bug 1041936 - Allow static library definitions to depend on shared libraries| to comm-central&quot; r=jcranmer, a=jcranmer for CLOSED TREE" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 5b95a462eb16865779250b5475cf808bfb332e46 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/5b95a462eb16865779250b5475cf808bfb332e46">shortlog</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/5b95a462eb16865779250b5475cf808bfb332e46">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46">files</a> |
changeset |
<a href="/comm-central/raw-rev/5b95a462eb16865779250b5475cf808bfb332e46">raw</a>  | <a href="/comm-central/archive/5b95a462eb16865779250b5475cf808bfb332e46.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1043019">Bug 1043019</a> - &quot;Port |<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1036894">Bug 1036894</a> - Move in-tree library linkage information to moz.build| and |<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1041936">Bug 1041936</a> - Allow static library definitions to depend on shared libraries| to comm-central&quot; r=jcranmer, a=jcranmer for CLOSED TREE
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#73;&#97;&#110;&#32;&#78;&#101;&#97;&#108;&#32;&#60;&#105;&#97;&#110;&#110;&#95;&#98;&#117;&#103;&#122;&#105;&#108;&#108;&#97;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 25 Jul 2014 11:23:28 -0500</td></tr>

<tr>
 <td>changeset 16595</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/5b95a462eb16865779250b5475cf808bfb332e46">5b95a462eb16865779250b5475cf808bfb332e46</a></td>
</tr>



<tr>
<td>parent 16594</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/88d7bd10ce427a7b81d6ca98d69e7e4dc4b0bb8a">88d7bd10ce427a7b81d6ca98d69e7e4dc4b0bb8a</a>
</td>
</tr>

<tr>
<td>child 16596</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/081763357a8f80a4b10c59312a56cf08c3f370f2">081763357a8f80a4b10c59312a56cf08c3f370f2</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=5b95a462eb16865779250b5475cf808bfb332e46">10319</a></td></tr>
<tr><td>push user</td><td>Pidgeot18@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Fri, 25 Jul 2014 16:24:00 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@5b95a462eb16 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=5b95a462eb16865779250b5475cf808bfb332e46">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=5b95a462eb16865779250b5475cf808bfb332e46&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=5b95a462eb16865779250b5475cf808bfb332e46&newProject=comm-central&newRevision=88d7bd10ce427a7b81d6ca98d69e7e4dc4b0bb8a&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=5b95a462eb16865779250b5475cf808bfb332e46&newProject=comm-central&newRevision=88d7bd10ce427a7b81d6ca98d69e7e4dc4b0bb8a&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=5b95a462eb16865779250b5475cf808bfb332e46&newProject=comm-central&newRevision=88d7bd10ce427a7b81d6ca98d69e7e4dc4b0bb8a&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28jcranmer%29&revcount=50">jcranmer</a>, <a href="/comm-central/log?rev=reviewer%28jcranmer%29&revcount=50">jcranmer</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1043019">1043019</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1036894">1036894</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1041936">1041936</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1043019">Bug 1043019</a> - &quot;Port |<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1036894">Bug 1036894</a> - Move in-tree library linkage information to moz.build| and |<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1041936">Bug 1041936</a> - Allow static library definitions to depend on shared libraries| to comm-central&quot; r=jcranmer, a=jcranmer for CLOSED TREE</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/Makefile.in">calendar/base/backend/libical/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/moz.build">calendar/base/backend/libical/build/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/calendar/base/backend/libical/build/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/config/config.mk">config/config.mk</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/config/config.mk">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/config/config.mk">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/config/config.mk">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/config/config.mk">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/config/config.mk">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/config/rules.mk">config/rules.mk</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/config/rules.mk">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/config/rules.mk">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/config/rules.mk">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/config/rules.mk">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/config/rules.mk">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/Makefile.in">db/mork/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/moz.build">db/mork/build/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/db/mork/build/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/Makefile.in">ldap/xpcom/src/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/moz.build">ldap/xpcom/src/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/ldap/xpcom/src/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/Makefile.in">mail/app/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/moz.build">mail/app/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mail/app/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/Makefile.in">mail/components/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/moz.build">mail/components/build/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/build/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/search/mdimporter/Makefile.in">mail/components/search/mdimporter/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/search/mdimporter/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/search/mdimporter/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/search/mdimporter/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/search/mdimporter/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mail/components/search/mdimporter/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/base/test/moz.build">mailnews/base/test/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/base/test/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/base/test/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/base/test/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/base/test/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/base/test/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/Makefile.in">mailnews/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/moz.build">mailnews/build/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/build/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/Makefile.in">mailnews/imap/test/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/moz.build">mailnews/imap/test/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/imap/test/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/Makefile.in">mailnews/import/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/moz.build">mailnews/import/build/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/mailnews/import/build/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/Makefile.in">suite/app/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/moz.build">suite/app/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/suite/app/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/Makefile.in">suite/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/moz.build">suite/build/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/suite/build/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/Makefile.in">suite/profile/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/Makefile.in">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/Makefile.in">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/Makefile.in">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/Makefile.in">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/moz.build">suite/profile/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/moz.build">file</a> |
<a href="/comm-central/annotate/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/moz.build">annotate</a> |
<a href="/comm-central/diff/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/moz.build">diff</a> |
<a href="/comm-central/comparison/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/moz.build">comparison</a> |
<a href="/comm-central/log/5b95a462eb16865779250b5475cf808bfb332e46/suite/profile/moz.build">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/backend/libical/build/Makefile.in</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/backend/libical/build/Makefile.in</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -9,27 +9,17 @@ srcdir    = @srcdir@</span>
<a href="#l1.4"></a><span id="l1.4"> VPATH   = @srcdir@</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> MODULE_NAME = calBaseModule</span>
<a href="#l1.9"></a><span id="l1.9"> USE_STATIC_LIBS = 1</span>
<a href="#l1.10"></a><span id="l1.10"> NO_COMPONENTS_MANIFEST = 1</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-ifdef JS_SHARED_LIBRARY </span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-EXTRA_DSO_LDOPTS += $(MOZ_JS_LIBS)</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-else</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-EXTRA_DSO_LDOPTS += $(XPCOM_LIBS)</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-endif</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-	$(LIBS_DIR) \</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineminus">-	$(NSPR_LIBS) \</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineminus">-	$(XPCOM_STATICRUNTIME_GLUE_LDOPTS) \</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineminus">-	$(NULL)</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineplus">+EXTRA_LIBS += $(NSPR_LIBS)</span>
<a href="#l1.24"></a><span id="l1.24"> </span>
<a href="#l1.25"></a><span id="l1.25"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l1.26"></a><span id="l1.26"> </span>
<a href="#l1.27"></a><span id="l1.27"> # Ensure that we don't embed a manifest referencing the CRT</span>
<a href="#l1.28"></a><span id="l1.28"> EMBED_MANIFEST_AT =</span>
<a href="#l1.29"></a><span id="l1.29"> </span>
<a href="#l1.30"></a><span id="l1.30"> BACKEND_MANIFESTS = libical.manifest</span>
<a href="#l1.31"></a><span id="l1.31"> DEFINES += -DSHARED_LIBRARY=$(SHARED_LIBRARY) -DXPIDL_MODULE=$(XPIDL_MODULE)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/backend/libical/build/moz.build</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/backend/libical/build/moz.build</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -2,16 +2,33 @@</span>
<a href="#l2.4"></a><span id="l2.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.5"></a><span id="l2.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.6"></a><span id="l2.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8"> SOURCES += [</span>
<a href="#l2.9"></a><span id="l2.9">     'calBaseModule.cpp',</span>
<a href="#l2.10"></a><span id="l2.10"> ]</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-FORCE_SHARED_LIB = True</span>
<a href="#l2.13"></a><span id="l2.13"> IS_COMPONENT = True</span>
<a href="#l2.14"></a><span id="l2.14"> </span>
<a href="#l2.15"></a><span id="l2.15"> LIBRARY_NAME = 'calbasecomps'</span>
<a href="#l2.16"></a><span id="l2.16"> LOCAL_INCLUDES += [</span>
<a href="#l2.17"></a><span id="l2.17">     '..'</span>
<a href="#l2.18"></a><span id="l2.18"> ]</span>
<a href="#l2.19"></a><span id="l2.19"> </span>
<a href="#l2.20"></a><span id="l2.20" class="difflineplus">+USE_LIBS += [</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineplus">+        'mozalloc',</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineplus">+        'xul',</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineplus">+    ]</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineplus">+</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineplus">+if CONFIG['JS_SHARED_LIBRARY']:</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineplus">+        'js',</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineplus">+    ]</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineplus">+</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineplus">+if CONFIG['OS_ARCH'] == 'WINNT':</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineplus">+        'xpcomglue_staticruntime_s',</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineplus">+    ]</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineplus">+else:</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineplus">+        'xpcomglue_s',</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineplus">+    ]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/config/config.mk</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/config/config.mk</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -35,36 +35,43 @@ endif</span>
<a href="#l3.4"></a><span id="l3.4"> # responsibility between Makefile.in and mozbuild files.</span>
<a href="#l3.5"></a><span id="l3.5"> _MOZBUILD_EXTERNAL_VARIABLES := \</span>
<a href="#l3.6"></a><span id="l3.6">   ANDROID_GENERATED_RESFILES \</span>
<a href="#l3.7"></a><span id="l3.7">   ANDROID_RESFILES \</span>
<a href="#l3.8"></a><span id="l3.8">   CMMSRCS \</span>
<a href="#l3.9"></a><span id="l3.9">   CPP_UNIT_TESTS \</span>
<a href="#l3.10"></a><span id="l3.10">   DIRS \</span>
<a href="#l3.11"></a><span id="l3.11">   DIST_SUBDIR \</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+  EXTRA_DSO_LDOPTS \</span>
<a href="#l3.13"></a><span id="l3.13">   EXTRA_PP_COMPONENTS \</span>
<a href="#l3.14"></a><span id="l3.14">   EXTRA_PP_JS_MODULES \</span>
<a href="#l3.15"></a><span id="l3.15">   FINAL_LIBRARY \</span>
<a href="#l3.16"></a><span id="l3.16">   FINAL_TARGET \</span>
<a href="#l3.17"></a><span id="l3.17">   GTEST_CMMSRCS \</span>
<a href="#l3.18"></a><span id="l3.18">   GTEST_CPPSRCS \</span>
<a href="#l3.19"></a><span id="l3.19">   GTEST_CSRCS \</span>
<a href="#l3.20"></a><span id="l3.20">   HOST_CSRCS \</span>
<a href="#l3.21"></a><span id="l3.21">   HOST_LIBRARY_NAME \</span>
<a href="#l3.22"></a><span id="l3.22">   IS_COMPONENT \</span>
<a href="#l3.23"></a><span id="l3.23">   JAR_MANIFEST \</span>
<a href="#l3.24"></a><span id="l3.24">   JS_MODULES_PATH \</span>
<a href="#l3.25"></a><span id="l3.25">   LIBRARY_NAME \</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineplus">+  LIBS \</span>
<a href="#l3.27"></a><span id="l3.27">   LIBXUL_LIBRARY \</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineplus">+  MAKE_FRAMEWORK \</span>
<a href="#l3.29"></a><span id="l3.29">   MODULE \</span>
<a href="#l3.30"></a><span id="l3.30">   MSVC_ENABLE_PGO \</span>
<a href="#l3.31"></a><span id="l3.31">   NO_DIST_INSTALL \</span>
<a href="#l3.32"></a><span id="l3.32">   PARALLEL_DIRS \</span>
<a href="#l3.33"></a><span id="l3.33">   SDK_HEADERS \</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+  SDK_LIBRARY \</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineplus">+  SHARED_LIBRARY_LIBS \</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineplus">+  SHARED_LIBRARY_NAME \</span>
<a href="#l3.37"></a><span id="l3.37">   SIMPLE_PROGRAMS \</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineplus">+  STATIC_LIBRARY_NAME \</span>
<a href="#l3.39"></a><span id="l3.39">   TEST_DIRS \</span>
<a href="#l3.40"></a><span id="l3.40">   TIERS \</span>
<a href="#l3.41"></a><span id="l3.41">   TOOL_DIRS \</span>
<a href="#l3.42"></a><span id="l3.42">   XPCSHELL_TESTS \</span>
<a href="#l3.43"></a><span id="l3.43">   XPIDL_MODULE \</span>
<a href="#l3.44"></a><span id="l3.44">   XPI_NAME \</span>
<a href="#l3.45"></a><span id="l3.45">   $(NULL)</span>
<a href="#l3.46"></a><span id="l3.46"> </span>
<a href="#l3.47"></a><span id="l3.47" class="difflineat">@@ -229,18 +236,16 @@ else</span>
<a href="#l3.48"></a><span id="l3.48">   _DEBUG_CFLAGS += $(MOZ_DEBUG_DISABLE_DEFS)</span>
<a href="#l3.49"></a><span id="l3.49">   XULPPFLAGS += $(MOZ_DEBUG_DISABLE_DEFS)</span>
<a href="#l3.50"></a><span id="l3.50">   ifdef MOZ_DEBUG_SYMBOLS</span>
<a href="#l3.51"></a><span id="l3.51">     _DEBUG_CFLAGS += $(MOZ_DEBUG_FLAGS)</span>
<a href="#l3.52"></a><span id="l3.52">     _DEBUG_LDFLAGS += $(MOZ_DEBUG_LDFLAGS)</span>
<a href="#l3.53"></a><span id="l3.53">   endif</span>
<a href="#l3.54"></a><span id="l3.54"> endif</span>
<a href="#l3.55"></a><span id="l3.55"> </span>
<a href="#l3.56"></a><span id="l3.56" class="difflineminus">-MOZALLOC_LIB = $(call EXPAND_MOZLIBNAME,mozalloc)</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineminus">-</span>
<a href="#l3.58"></a><span id="l3.58"> OS_CFLAGS += $(_DEBUG_CFLAGS)</span>
<a href="#l3.59"></a><span id="l3.59"> OS_CXXFLAGS += $(_DEBUG_CFLAGS)</span>
<a href="#l3.60"></a><span id="l3.60"> OS_LDFLAGS += $(_DEBUG_LDFLAGS)</span>
<a href="#l3.61"></a><span id="l3.61"> </span>
<a href="#l3.62"></a><span id="l3.62"> # XXX: What does this? Bug 482434 filed for better explanation.</span>
<a href="#l3.63"></a><span id="l3.63"> ifeq ($(OS_ARCH)_$(GNU_CC),WINNT_)</span>
<a href="#l3.64"></a><span id="l3.64"> ifdef MOZ_DEBUG</span>
<a href="#l3.65"></a><span id="l3.65"> ifneq (,$(MOZ_BROWSE_INFO)$(MOZ_BSCFILE))</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineat">@@ -297,43 +302,19 @@ endif</span>
<a href="#l3.67"></a><span id="l3.67"> </span>
<a href="#l3.68"></a><span id="l3.68"> ifdef LIBXUL_LIBRARY</span>
<a href="#l3.69"></a><span id="l3.69"> ifdef IS_COMPONENT</span>
<a href="#l3.70"></a><span id="l3.70"> $(error IS_COMPONENT is set, but is not compatible with LIBXUL_LIBRARY)</span>
<a href="#l3.71"></a><span id="l3.71"> endif</span>
<a href="#l3.72"></a><span id="l3.72"> ifdef MODULE_NAME</span>
<a href="#l3.73"></a><span id="l3.73"> $(error MODULE_NAME is $(MODULE_NAME) but MODULE_NAME and LIBXUL_LIBRARY are not compatible)</span>
<a href="#l3.74"></a><span id="l3.74"> endif</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineminus">-FORCE_STATIC_LIB=1</span>
<a href="#l3.76"></a><span id="l3.76"> SHORT_LIBNAME=</span>
<a href="#l3.77"></a><span id="l3.77"> endif</span>
<a href="#l3.78"></a><span id="l3.78"> </span>
<a href="#l3.79"></a><span id="l3.79" class="difflineminus">-# If we are building this component into an extension/xulapp, it cannot be</span>
<a href="#l3.80"></a><span id="l3.80" class="difflineminus">-# statically linked. In the future we may want to add a xulapp meta-component</span>
<a href="#l3.81"></a><span id="l3.81" class="difflineminus">-# build option.</span>
<a href="#l3.82"></a><span id="l3.82" class="difflineminus">-</span>
<a href="#l3.83"></a><span id="l3.83" class="difflineminus">-ifdef XPI_NAME</span>
<a href="#l3.84"></a><span id="l3.84" class="difflineminus">-ifdef IS_COMPONENT</span>
<a href="#l3.85"></a><span id="l3.85" class="difflineminus">-FORCE_STATIC_LIB=</span>
<a href="#l3.86"></a><span id="l3.86" class="difflineminus">-FORCE_SHARED_LIB=1</span>
<a href="#l3.87"></a><span id="l3.87" class="difflineminus">-endif</span>
<a href="#l3.88"></a><span id="l3.88" class="difflineminus">-endif</span>
<a href="#l3.89"></a><span id="l3.89" class="difflineminus">-</span>
<a href="#l3.90"></a><span id="l3.90" class="difflineminus">-ifndef SHARED_LIBRARY_NAME</span>
<a href="#l3.91"></a><span id="l3.91" class="difflineminus">-ifdef LIBRARY_NAME</span>
<a href="#l3.92"></a><span id="l3.92" class="difflineminus">-SHARED_LIBRARY_NAME=$(LIBRARY_NAME)</span>
<a href="#l3.93"></a><span id="l3.93" class="difflineminus">-endif</span>
<a href="#l3.94"></a><span id="l3.94" class="difflineminus">-endif</span>
<a href="#l3.95"></a><span id="l3.95" class="difflineminus">-</span>
<a href="#l3.96"></a><span id="l3.96" class="difflineminus">-ifndef STATIC_LIBRARY_NAME</span>
<a href="#l3.97"></a><span id="l3.97" class="difflineminus">-ifdef LIBRARY_NAME</span>
<a href="#l3.98"></a><span id="l3.98" class="difflineminus">-STATIC_LIBRARY_NAME=$(LIBRARY_NAME)</span>
<a href="#l3.99"></a><span id="l3.99" class="difflineminus">-endif</span>
<a href="#l3.100"></a><span id="l3.100" class="difflineminus">-endif</span>
<a href="#l3.101"></a><span id="l3.101" class="difflineminus">-</span>
<a href="#l3.102"></a><span id="l3.102"> # Enable profile-based feedback</span>
<a href="#l3.103"></a><span id="l3.103"> ifndef NO_PROFILE_GUIDED_OPTIMIZE</span>
<a href="#l3.104"></a><span id="l3.104"> ifdef MOZ_PROFILE_GENERATE</span>
<a href="#l3.105"></a><span id="l3.105"> # No sense in profiling tools</span>
<a href="#l3.106"></a><span id="l3.106"> ifndef INTERNAL_TOOLS</span>
<a href="#l3.107"></a><span id="l3.107"> OS_CFLAGS += $(PROFILE_GEN_CFLAGS)</span>
<a href="#l3.108"></a><span id="l3.108"> OS_CXXFLAGS += $(PROFILE_GEN_CFLAGS)</span>
<a href="#l3.109"></a><span id="l3.109"> OS_LDFLAGS += $(PROFILE_GEN_LDFLAGS)</span>
<a href="#l3.110"></a><span id="l3.110" class="difflineat">@@ -508,38 +489,25 @@ ifndef CROSS_COMPILE</span>
<a href="#l3.111"></a><span id="l3.111"> HOST_CFLAGS += $(RTL_FLAGS)</span>
<a href="#l3.112"></a><span id="l3.112"> endif</span>
<a href="#l3.113"></a><span id="l3.113"> </span>
<a href="#l3.114"></a><span id="l3.114"> #</span>
<a href="#l3.115"></a><span id="l3.115"> # Name of the binary code directories</span>
<a href="#l3.116"></a><span id="l3.116"> #</span>
<a href="#l3.117"></a><span id="l3.117"> # Override defaults</span>
<a href="#l3.118"></a><span id="l3.118"> </span>
<a href="#l3.119"></a><span id="l3.119" class="difflineminus">-# We need to know where to find the libraries we</span>
<a href="#l3.120"></a><span id="l3.120" class="difflineminus">-# put on the link line for binaries, and should</span>
<a href="#l3.121"></a><span id="l3.121" class="difflineminus">-# we link statically or dynamic?  Assuming dynamic for now.</span>
<a href="#l3.122"></a><span id="l3.122" class="difflineminus">-</span>
<a href="#l3.123"></a><span id="l3.123" class="difflineminus">-ifneq (WINNT_,$(OS_ARCH)_$(GNU_CC))</span>
<a href="#l3.124"></a><span id="l3.124" class="difflineminus">-LIBS_DIR	= -L$(DIST)/bin -L$(DIST)/lib</span>
<a href="#l3.125"></a><span id="l3.125" class="difflineminus">-ifdef LIBXUL_SDK</span>
<a href="#l3.126"></a><span id="l3.126" class="difflineminus">-LIBS_DIR	+= -L$(LIBXUL_SDK)/bin -L$(LIBXUL_SDK)/lib</span>
<a href="#l3.127"></a><span id="l3.127" class="difflineminus">-endif</span>
<a href="#l3.128"></a><span id="l3.128" class="difflineminus">-endif</span>
<a href="#l3.129"></a><span id="l3.129" class="difflineminus">-</span>
<a href="#l3.130"></a><span id="l3.130"> # Default location of include files</span>
<a href="#l3.131"></a><span id="l3.131"> IDL_PARSER_DIR = $(topsrcdir)/xpcom/idl-parser</span>
<a href="#l3.132"></a><span id="l3.132"> IDL_PARSER_CACHE_DIR = $(DEPTH)/xpcom/idl-parser</span>
<a href="#l3.133"></a><span id="l3.133"> </span>
<a href="#l3.134"></a><span id="l3.134"> SDK_LIB_DIR = $(DIST)/sdk/lib</span>
<a href="#l3.135"></a><span id="l3.135"> SDK_BIN_DIR = $(DIST)/sdk/bin</span>
<a href="#l3.136"></a><span id="l3.136"> </span>
<a href="#l3.137"></a><span id="l3.137"> DEPENDENCIES	= .md</span>
<a href="#l3.138"></a><span id="l3.138"> </span>
<a href="#l3.139"></a><span id="l3.139" class="difflineminus">-MOZ_COMPONENT_LIBS=$(XPCOM_LIBS) $(MOZ_COMPONENT_NSPR_LIBS)</span>
<a href="#l3.140"></a><span id="l3.140" class="difflineminus">-</span>
<a href="#l3.141"></a><span id="l3.141"> ifeq (xpconnect, $(findstring xpconnect, $(BUILD_MODULES)))</span>
<a href="#l3.142"></a><span id="l3.142"> DEFINES +=  -DXPCONNECT_STANDALONE</span>
<a href="#l3.143"></a><span id="l3.143"> endif</span>
<a href="#l3.144"></a><span id="l3.144"> </span>
<a href="#l3.145"></a><span id="l3.145"> ELF_DYNSTR_GC	= :</span>
<a href="#l3.146"></a><span id="l3.146"> </span>
<a href="#l3.147"></a><span id="l3.147"> ifeq ($(MOZ_WIDGET_TOOLKIT),qt)</span>
<a href="#l3.148"></a><span id="l3.148"> OS_LIBS += $(MOZ_QT_LIBS)</span>
<a href="#l3.149"></a><span id="l3.149" class="difflineat">@@ -769,17 +737,17 @@ EXPAND_MOZLIBNAME = $(foreach lib,$(1),$</span>
<a href="#l3.150"></a><span id="l3.150"> ifndef MOZ_SYSTEM_PLY</span>
<a href="#l3.151"></a><span id="l3.151"> PLY_INCLUDE = -I$(MOZILLA_DIR)/other-licenses/ply</span>
<a href="#l3.152"></a><span id="l3.152"> endif</span>
<a href="#l3.153"></a><span id="l3.153">  </span>
<a href="#l3.154"></a><span id="l3.154"> export CL_INCLUDES_PREFIX</span>
<a href="#l3.155"></a><span id="l3.155"> </span>
<a href="#l3.156"></a><span id="l3.156"> ifneq (,$(MOZ_LIBSTDCXX_TARGET_VERSION)$(MOZ_LIBSTDCXX_HOST_VERSION))</span>
<a href="#l3.157"></a><span id="l3.157"> ifdef MOZ_LIBSTDCXX_TARGET_VERSION</span>
<a href="#l3.158"></a><span id="l3.158" class="difflineminus">-EXTRA_LIBS += $(call EXPAND_LIBNAME_PATH,stdc++compat,$(DEPTH)/mozilla/build/unix/stdc++compat)</span>
<a href="#l3.159"></a><span id="l3.159" class="difflineplus">+OS_LIBS += $(call EXPAND_LIBNAME_PATH,stdc++compat,$(DEPTH)/mozilla/build/unix/stdc++compat)</span>
<a href="#l3.160"></a><span id="l3.160"> endif</span>
<a href="#l3.161"></a><span id="l3.161"> ifdef MOZ_LIBSTDCXX_HOST_VERSION</span>
<a href="#l3.162"></a><span id="l3.162"> HOST_EXTRA_LIBS += $(call EXPAND_LIBNAME_PATH,host_stdc++compat,$(DEPTH)/mozilla/build/unix/stdc++compat)</span>
<a href="#l3.163"></a><span id="l3.163"> endif</span>
<a href="#l3.164"></a><span id="l3.164"> endif</span>
<a href="#l3.165"></a><span id="l3.165"> </span>
<a href="#l3.166"></a><span id="l3.166"> # autoconf.mk sets OBJ_SUFFIX to an error to avoid use before including</span>
<a href="#l3.167"></a><span id="l3.167"> # this file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/config/rules.mk</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/config/rules.mk</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -81,25 +81,24 @@ ifdef ENABLE_TESTS</span>
<a href="#l4.4"></a><span id="l4.4"> </span>
<a href="#l4.5"></a><span id="l4.5"> DIRS += $(TEST_DIRS)</span>
<a href="#l4.6"></a><span id="l4.6"> </span>
<a href="#l4.7"></a><span id="l4.7"> ifdef CPP_UNIT_TESTS</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9"> # Compile the tests to $(DIST)/bin.  Make lots of niceties available by default</span>
<a href="#l4.10"></a><span id="l4.10"> # through TestHarness.h, by modifying the list of includes and the libs against</span>
<a href="#l4.11"></a><span id="l4.11"> # which stuff links.</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-CPPSRCS += $(CPP_UNIT_TESTS)</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-SIMPLE_PROGRAMS += $(CPP_UNIT_TESTS:.cpp=$(BIN_SUFFIX))</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+SIMPLE_PROGRAMS += $(CPP_UNIT_TESTS)</span>
<a href="#l4.15"></a><span id="l4.15"> INCLUDES += -I$(DIST)/include/testing</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineminus">-LIBS += $(XPCOM_GLUE_LDOPTS) $(NSPR_LIBS)</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+LIBS += $(NSPR_LIBS)</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19"> # ...and run them the usual way</span>
<a href="#l4.20"></a><span id="l4.20"> check::</span>
<a href="#l4.21"></a><span id="l4.21"> 	@$(EXIT_ON_ERROR) \</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineminus">-	  for f in $(subst .cpp,$(BIN_SUFFIX),$(CPP_UNIT_TESTS)); do \</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineplus">+	  for f in $(CPP_UNIT_TESTS); do \</span>
<a href="#l4.24"></a><span id="l4.24"> 	    XPCOM_DEBUG_BREAK=stack-and-abort $(RUN_TEST_PROGRAM) $(DIST)/bin/$$f; \</span>
<a href="#l4.25"></a><span id="l4.25"> 	  done</span>
<a href="#l4.26"></a><span id="l4.26"> </span>
<a href="#l4.27"></a><span id="l4.27"> endif # CPP_UNIT_TESTS</span>
<a href="#l4.28"></a><span id="l4.28"> </span>
<a href="#l4.29"></a><span id="l4.29"> .PHONY: check xpcshell-tests check-interactive check-one</span>
<a href="#l4.30"></a><span id="l4.30"> </span>
<a href="#l4.31"></a><span id="l4.31"> endif # ENABLE_TESTS</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineat">@@ -108,78 +107,56 @@ endif # ENABLE_TESTS</span>
<a href="#l4.33"></a><span id="l4.33"> #</span>
<a href="#l4.34"></a><span id="l4.34"> # Library rules</span>
<a href="#l4.35"></a><span id="l4.35"> #</span>
<a href="#l4.36"></a><span id="l4.36"> # If FORCE_STATIC_LIB is set, build a static library.</span>
<a href="#l4.37"></a><span id="l4.37"> # Otherwise, build a shared library.</span>
<a href="#l4.38"></a><span id="l4.38"> #</span>
<a href="#l4.39"></a><span id="l4.39"> </span>
<a href="#l4.40"></a><span id="l4.40"> ifndef LIBRARY</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineminus">-ifdef STATIC_LIBRARY_NAME</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineminus">-REAL_LIBRARY		:= $(LIB_PREFIX)$(STATIC_LIBRARY_NAME).$(LIB_SUFFIX)</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineplus">+ifdef REAL_LIBRARY</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineplus">+# Don't build actual static library if a shared library is also built</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineplus">+ifdef FORCE_SHARED_LIB</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineplus">+# ... except when we really want one</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineplus">+ifdef NO_EXPAND_LIBS</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineplus">+LIBRARY			:= $(REAL_LIBRARY) $(REAL_LIBRARY).$(LIBS_DESC_SUFFIX)</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineplus">+else</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineplus">+LIBRARY			:= $(REAL_LIBRARY).$(LIBS_DESC_SUFFIX)</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineplus">+endif</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineplus">+else</span>
<a href="#l4.53"></a><span id="l4.53"> # Only build actual library if it is installed in DIST/lib or SDK</span>
<a href="#l4.54"></a><span id="l4.54"> ifeq (,$(SDK_LIBRARY)$(DIST_INSTALL)$(NO_EXPAND_LIBS))</span>
<a href="#l4.55"></a><span id="l4.55"> LIBRARY			:= $(REAL_LIBRARY).$(LIBS_DESC_SUFFIX)</span>
<a href="#l4.56"></a><span id="l4.56"> else</span>
<a href="#l4.57"></a><span id="l4.57"> LIBRARY			:= $(REAL_LIBRARY) $(REAL_LIBRARY).$(LIBS_DESC_SUFFIX)</span>
<a href="#l4.58"></a><span id="l4.58"> endif</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineminus">-endif # STATIC_LIBRARY_NAME</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineplus">+endif</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineplus">+endif # REAL_LIBRARY</span>
<a href="#l4.62"></a><span id="l4.62"> endif # LIBRARY</span>
<a href="#l4.63"></a><span id="l4.63"> </span>
<a href="#l4.64"></a><span id="l4.64"> ifndef HOST_LIBRARY</span>
<a href="#l4.65"></a><span id="l4.65"> ifdef HOST_LIBRARY_NAME</span>
<a href="#l4.66"></a><span id="l4.66"> HOST_LIBRARY		:= $(LIB_PREFIX)$(HOST_LIBRARY_NAME).$(LIB_SUFFIX)</span>
<a href="#l4.67"></a><span id="l4.67"> endif</span>
<a href="#l4.68"></a><span id="l4.68"> endif</span>
<a href="#l4.69"></a><span id="l4.69"> </span>
<a href="#l4.70"></a><span id="l4.70"> ifdef LIBRARY</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineplus">+ifdef FORCE_SHARED_LIB</span>
<a href="#l4.72"></a><span id="l4.72"> ifdef MKSHLIB</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineminus">-ifdef FORCE_SHARED_LIB</span>
<a href="#l4.74"></a><span id="l4.74"> </span>
<a href="#l4.75"></a><span id="l4.75"> ifdef LIB_IS_C_ONLY</span>
<a href="#l4.76"></a><span id="l4.76"> MKSHLIB			= $(MKCSHLIB)</span>
<a href="#l4.77"></a><span id="l4.77"> endif</span>
<a href="#l4.78"></a><span id="l4.78"> </span>
<a href="#l4.79"></a><span id="l4.79" class="difflineminus">-ifneq (,$(filter WINNT,$(OS_ARCH)))</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineminus">-IMPORT_LIBRARY		:= $(LIB_PREFIX)$(SHARED_LIBRARY_NAME).$(IMPORT_LIB_SUFFIX)</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineminus">-endif</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineminus">-</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineminus">-ifdef MAKE_FRAMEWORK</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineminus">-SHARED_LIBRARY		:= $(SHARED_LIBRARY_NAME)</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineminus">-else</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineminus">-SHARED_LIBRARY		:= $(DLL_PREFIX)$(SHARED_LIBRARY_NAME)$(DLL_SUFFIX)</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineminus">-endif</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineminus">-</span>
<a href="#l4.89"></a><span id="l4.89"> EMBED_MANIFEST_AT=2</span>
<a href="#l4.90"></a><span id="l4.90"> </span>
<a href="#l4.91"></a><span id="l4.91" class="difflineplus">+endif # MKSHLIB</span>
<a href="#l4.92"></a><span id="l4.92"> endif # FORCE_SHARED_LIB</span>
<a href="#l4.93"></a><span id="l4.93" class="difflineminus">-</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineminus">-ifdef SONAME</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineminus">-DSO_SONAME = $(DLL_PREFIX)$(SONAME)$(DLL_SUFFIX)</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineminus">-else</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineminus">-DSO_SONAME = $(notdir $@)</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineminus">-endif</span>
<a href="#l4.99"></a><span id="l4.99" class="difflineminus">-</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineminus">-endif # MKSHLIB</span>
<a href="#l4.101"></a><span id="l4.101"> endif # LIBRARY</span>
<a href="#l4.102"></a><span id="l4.102"> </span>
<a href="#l4.103"></a><span id="l4.103" class="difflineminus">-ifdef FORCE_STATIC_LIB</span>
<a href="#l4.104"></a><span id="l4.104" class="difflineminus">-ifndef FORCE_SHARED_LIB</span>
<a href="#l4.105"></a><span id="l4.105" class="difflineminus">-SHARED_LIBRARY		:= $(NULL)</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineminus">-DEF_FILE		:= $(NULL)</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineminus">-IMPORT_LIBRARY		:= $(NULL)</span>
<a href="#l4.108"></a><span id="l4.108" class="difflineminus">-endif</span>
<a href="#l4.109"></a><span id="l4.109" class="difflineminus">-endif</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineminus">-</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineminus">-ifdef FORCE_SHARED_LIB</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineminus">-ifndef FORCE_STATIC_LIB</span>
<a href="#l4.113"></a><span id="l4.113" class="difflineminus">-LIBRARY := $(NULL)</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineminus">-endif</span>
<a href="#l4.115"></a><span id="l4.115" class="difflineminus">-endif</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineminus">-</span>
<a href="#l4.117"></a><span id="l4.117"> ifeq ($(OS_ARCH),WINNT)</span>
<a href="#l4.118"></a><span id="l4.118"> ifndef GNU_CC</span>
<a href="#l4.119"></a><span id="l4.119"> </span>
<a href="#l4.120"></a><span id="l4.120"> #</span>
<a href="#l4.121"></a><span id="l4.121"> # Unless we're building SIMPLE_PROGRAMS, all C++ files share a PDB file per</span>
<a href="#l4.122"></a><span id="l4.122"> # directory. For parallel builds, this PDB file is shared and locked by</span>
<a href="#l4.123"></a><span id="l4.123"> # MSPDBSRV.EXE, starting with MSVC8 SP1. If you're using MSVC 7.1 or MSVC8</span>
<a href="#l4.124"></a><span id="l4.124"> # without SP1, don't do parallel builds.</span>
<a href="#l4.125"></a><span id="l4.125" class="difflineat">@@ -259,17 +236,17 @@ endif</span>
<a href="#l4.126"></a><span id="l4.126"> </span>
<a href="#l4.127"></a><span id="l4.127"> LIBOBJS			:= $(addprefix \&quot;, $(OBJS))</span>
<a href="#l4.128"></a><span id="l4.128"> LIBOBJS			:= $(addsuffix \&quot;, $(LIBOBJS))</span>
<a href="#l4.129"></a><span id="l4.129"> </span>
<a href="#l4.130"></a><span id="l4.130"> ALL_TRASH = \</span>
<a href="#l4.131"></a><span id="l4.131"> 	$(GARBAGE) $(TARGETS) $(OBJS) $(PROGOBJS) LOGS TAGS a.out \</span>
<a href="#l4.132"></a><span id="l4.132"> 	$(filter-out $(ASFILES),$(OBJS:.$(OBJ_SUFFIX)=.s)) $(OBJS:.$(OBJ_SUFFIX)=.ii) \</span>
<a href="#l4.133"></a><span id="l4.133"> 	$(OBJS:.$(OBJ_SUFFIX)=.i) \</span>
<a href="#l4.134"></a><span id="l4.134" class="difflineminus">-	$(HOST_PROGOBJS) $(HOST_OBJS) $(IMPORT_LIBRARY) $(DEF_FILE)\</span>
<a href="#l4.135"></a><span id="l4.135" class="difflineplus">+	$(HOST_PROGOBJS) $(HOST_OBJS) $(IMPORT_LIBRARY) \</span>
<a href="#l4.136"></a><span id="l4.136"> 	$(EXE_DEF_FILE) so_locations _gen _stubs $(wildcard *.res) $(wildcard *.RES) \</span>
<a href="#l4.137"></a><span id="l4.137"> 	$(wildcard *.pdb) $(CODFILE) $(MAPFILE) $(IMPORT_LIBRARY) \</span>
<a href="#l4.138"></a><span id="l4.138"> 	$(SHARED_LIBRARY:$(DLL_SUFFIX)=.exp) $(wildcard *.ilk) \</span>
<a href="#l4.139"></a><span id="l4.139"> 	$(PROGRAM:$(BIN_SUFFIX)=.exp) $(SIMPLE_PROGRAMS:$(BIN_SUFFIX)=.exp) \</span>
<a href="#l4.140"></a><span id="l4.140"> 	$(PROGRAM:$(BIN_SUFFIX)=.lib) $(SIMPLE_PROGRAMS:$(BIN_SUFFIX)=.lib) \</span>
<a href="#l4.141"></a><span id="l4.141"> 	$(SIMPLE_PROGRAMS:$(BIN_SUFFIX)=.$(OBJ_SUFFIX)) \</span>
<a href="#l4.142"></a><span id="l4.142"> 	$(wildcard gts_tmp_*) $(LIBRARY:%.a=.%.timestamp)</span>
<a href="#l4.143"></a><span id="l4.143"> ALL_TRASH_DIRS = \</span>
<a href="#l4.144"></a><span id="l4.144" class="difflineat">@@ -638,17 +615,17 @@ endif</span>
<a href="#l4.145"></a><span id="l4.145"> ifneq (,$(SHARED_LIBRARY)$(PROGRAM))</span>
<a href="#l4.146"></a><span id="l4.146"> export::</span>
<a href="#l4.147"></a><span id="l4.147"> ifdef PROGRAM</span>
<a href="#l4.148"></a><span id="l4.148"> 	$(PYTHON) $(MOZILLA_SRCDIR)/build/win32/pgomerge.py \</span>
<a href="#l4.149"></a><span id="l4.149"> 	  $(PROGRAM:$(BIN_SUFFIX)=) $(DIST)/bin</span>
<a href="#l4.150"></a><span id="l4.150"> endif</span>
<a href="#l4.151"></a><span id="l4.151"> ifdef SHARED_LIBRARY</span>
<a href="#l4.152"></a><span id="l4.152"> 	$(PYTHON) $(MOZILLA_SRCDIR)/build/win32/pgomerge.py \</span>
<a href="#l4.153"></a><span id="l4.153" class="difflineminus">-	  $(SHARED_LIBRARY_NAME) $(DIST)/bin</span>
<a href="#l4.154"></a><span id="l4.154" class="difflineplus">+	  $(patsubst $(DLL_PREFIX)%$(DLL_SUFFIX),%,$(SHARED_LIBRARY)) $(DIST)/bin</span>
<a href="#l4.155"></a><span id="l4.155"> endif</span>
<a href="#l4.156"></a><span id="l4.156"> endif # SHARED_LIBRARY || PROGRAM</span>
<a href="#l4.157"></a><span id="l4.157"> endif # WINNT_</span>
<a href="#l4.158"></a><span id="l4.158"> endif # MOZ_PROFILE_GENERATE || MOZ_PROFILE_USE</span>
<a href="#l4.159"></a><span id="l4.159"> endif # NO_PROFILE_GUIDED_OPTIMIZE</span>
<a href="#l4.160"></a><span id="l4.160"> </span>
<a href="#l4.161"></a><span id="l4.161"> ##############################################</span>
<a href="#l4.162"></a><span id="l4.162"> </span>
<a href="#l4.163"></a><span id="l4.163" class="difflineat">@@ -696,17 +673,17 @@ ifdef MSMANIFEST_TOOL</span>
<a href="#l4.164"></a><span id="l4.164"> 	fi</span>
<a href="#l4.165"></a><span id="l4.165"> endif	# MSVC with manifest tool</span>
<a href="#l4.166"></a><span id="l4.166"> ifdef MOZ_PROFILE_GENERATE</span>
<a href="#l4.167"></a><span id="l4.167"> # touch it a few seconds into the future to work around FAT's</span>
<a href="#l4.168"></a><span id="l4.168"> # 2-second granularity</span>
<a href="#l4.169"></a><span id="l4.169"> 	touch -t `date +%Y%m%d%H%M.%S -d &quot;now+5seconds&quot;` pgo.relink</span>
<a href="#l4.170"></a><span id="l4.170"> endif</span>
<a href="#l4.171"></a><span id="l4.171"> else # !WINNT || GNU_CC</span>
<a href="#l4.172"></a><span id="l4.172" class="difflineminus">-	$(EXPAND_CCC) -o $@ $(CXXFLAGS) $(PROGOBJS) $(RESFILE) $(WIN32_EXE_LDFLAGS) $(LDFLAGS) $(WRAP_LDFLAGS) $(MOZ_GLUE_PROGRAM_LDFLAGS) $(LIBS_DIR) $(LIBS) $(OS_LIBS) $(EXTRA_LIBS) $(BIN_FLAGS) $(EXE_DEF_FILE)</span>
<a href="#l4.173"></a><span id="l4.173" class="difflineplus">+	$(EXPAND_CCC) -o $@ $(CXXFLAGS) $(PROGOBJS) $(RESFILE) $(WIN32_EXE_LDFLAGS) $(LDFLAGS) $(WRAP_LDFLAGS) $(LIBS) $(MOZ_GLUE_PROGRAM_LDFLAGS) $(EXTRA_LIBS) $(OS_LIBS) $(BIN_FLAGS) $(EXE_DEF_FILE) $(STLPORT_LIBS)</span>
<a href="#l4.174"></a><span id="l4.174"> endif # WINNT &amp;&amp; !GNU_CC</span>
<a href="#l4.175"></a><span id="l4.175"> </span>
<a href="#l4.176"></a><span id="l4.176"> ifdef ENABLE_STRIP</span>
<a href="#l4.177"></a><span id="l4.177"> 	$(STRIP) $@</span>
<a href="#l4.178"></a><span id="l4.178"> endif</span>
<a href="#l4.179"></a><span id="l4.179"> ifdef MOZ_POST_PROGRAM_COMMAND</span>
<a href="#l4.180"></a><span id="l4.180"> 	$(MOZ_POST_PROGRAM_COMMAND) $@</span>
<a href="#l4.181"></a><span id="l4.181"> endif</span>
<a href="#l4.182"></a><span id="l4.182" class="difflineat">@@ -749,17 +726,17 @@ ifeq (_WINNT,$(GNU_CC)_$(OS_ARCH))</span>
<a href="#l4.183"></a><span id="l4.183"> 	$(EXPAND_LD) -nologo -out:$@ -pdb:$(LINK_PDBFILE) $&lt; $(WIN32_EXE_LDFLAGS) $(LDFLAGS) $(MOZ_GLUE_PROGRAM_LDFLAGS) $(LIBS) $(EXTRA_LIBS) $(OS_LIBS)</span>
<a href="#l4.184"></a><span id="l4.184"> ifdef MSMANIFEST_TOOL</span>
<a href="#l4.185"></a><span id="l4.185"> 	@if test -f $@.manifest; then \</span>
<a href="#l4.186"></a><span id="l4.186"> 		mt.exe -NOLOGO -MANIFEST $@.manifest -OUTPUTRESOURCE:$@\;1; \</span>
<a href="#l4.187"></a><span id="l4.187"> 		rm -f $@.manifest; \</span>
<a href="#l4.188"></a><span id="l4.188"> 	fi</span>
<a href="#l4.189"></a><span id="l4.189"> endif	# MSVC with manifest tool</span>
<a href="#l4.190"></a><span id="l4.190"> else</span>
<a href="#l4.191"></a><span id="l4.191" class="difflineminus">-	$(EXPAND_CCC) $(CXXFLAGS) -o $@ $&lt; $(WIN32_EXE_LDFLAGS) $(LDFLAGS) $(MOZ_GLUE_PROGRAM_LDFLAGS) $(WRAP_LDFLAGS) $(LIBS_DIR) $(LIBS) $(OS_LIBS) $(EXTRA_LIBS) $(BIN_FLAGS)</span>
<a href="#l4.192"></a><span id="l4.192" class="difflineplus">+	$(EXPAND_CCC) $(CXXFLAGS) -o $@ $&lt; $(WIN32_EXE_LDFLAGS) $(LDFLAGS) $(WRAP_LDFLAGS) $(LIBS) $(MOZ_GLUE_PROGRAM_LDFLAGS) $(EXTRA_LIBS) $(OS_LIBS) $(BIN_FLAGS) $(STLPORT_LIBS)</span>
<a href="#l4.193"></a><span id="l4.193"> endif # WINNT &amp;&amp; !GNU_CC</span>
<a href="#l4.194"></a><span id="l4.194"> </span>
<a href="#l4.195"></a><span id="l4.195"> ifdef ENABLE_STRIP</span>
<a href="#l4.196"></a><span id="l4.196"> 	$(STRIP) $@</span>
<a href="#l4.197"></a><span id="l4.197"> endif</span>
<a href="#l4.198"></a><span id="l4.198"> ifdef MOZ_POST_PROGRAM_COMMAND</span>
<a href="#l4.199"></a><span id="l4.199"> 	$(MOZ_POST_PROGRAM_COMMAND) $@</span>
<a href="#l4.200"></a><span id="l4.200"> endif</span>
<a href="#l4.201"></a><span id="l4.201" class="difflineat">@@ -774,25 +751,25 @@ else</span>
<a href="#l4.202"></a><span id="l4.202"> 	$(HOST_CC) $(HOST_OUTOPTION)$@ $(HOST_CFLAGS) $(INCLUDES) $&lt; $(HOST_LIBS) $(HOST_EXTRA_LIBS)</span>
<a href="#l4.203"></a><span id="l4.203"> endif</span>
<a href="#l4.204"></a><span id="l4.204"> endif</span>
<a href="#l4.205"></a><span id="l4.205"> </span>
<a href="#l4.206"></a><span id="l4.206"> ifdef DTRACE_PROBE_OBJ</span>
<a href="#l4.207"></a><span id="l4.207"> EXTRA_DEPS += $(DTRACE_PROBE_OBJ)</span>
<a href="#l4.208"></a><span id="l4.208"> endif</span>
<a href="#l4.209"></a><span id="l4.209"> </span>
<a href="#l4.210"></a><span id="l4.210" class="difflineminus">-$(filter %.$(LIB_SUFFIX),$(LIBRARY)): $(OBJS) $(LOBJS) $(EXTRA_DEPS) $(GLOBAL_DEPS)</span>
<a href="#l4.211"></a><span id="l4.211" class="difflineplus">+$(filter %.$(LIB_SUFFIX),$(LIBRARY)): $(OBJS) $(EXTRA_DEPS) $(GLOBAL_DEPS)</span>
<a href="#l4.212"></a><span id="l4.212"> 	$(RM) $(LIBRARY)</span>
<a href="#l4.213"></a><span id="l4.213" class="difflineminus">-	$(EXPAND_AR) $(AR_FLAGS) $(OBJS) $(LOBJS) $(SHARED_LIBRARY_LIBS)</span>
<a href="#l4.214"></a><span id="l4.214" class="difflineplus">+	$(EXPAND_AR) $(AR_FLAGS) $(OBJS) $(SHARED_LIBRARY_LIBS) $(filter %.$(LIB_SUFFIX),$(EXTRA_LIBS))</span>
<a href="#l4.215"></a><span id="l4.215"> 	$(RANLIB) $@</span>
<a href="#l4.216"></a><span id="l4.216"> </span>
<a href="#l4.217"></a><span id="l4.217" class="difflineminus">-$(filter-out %.$(LIB_SUFFIX),$(LIBRARY)): $(filter %.$(LIB_SUFFIX),$(LIBRARY)) $(OBJS) $(LOBJS) $(EXTRA_DEPS) $(GLOBAL_DEPS)</span>
<a href="#l4.218"></a><span id="l4.218" class="difflineplus">+$(filter-out %.$(LIB_SUFFIX),$(LIBRARY)): $(filter %.$(LIB_SUFFIX),$(LIBRARY)) $(OBJS) $(EXTRA_DEPS) $(GLOBAL_DEPS)</span>
<a href="#l4.219"></a><span id="l4.219"> # When we only build a library descriptor, blow out any existing library</span>
<a href="#l4.220"></a><span id="l4.220"> 	$(if $(filter %.$(LIB_SUFFIX),$(LIBRARY)),,$(RM) $(REAL_LIBRARY))</span>
<a href="#l4.221"></a><span id="l4.221" class="difflineminus">-	$(EXPAND_LIBS_GEN) -o $@ $(OBJS) $(LOBJS) $(SHARED_LIBRARY_LIBS)</span>
<a href="#l4.222"></a><span id="l4.222" class="difflineplus">+	$(EXPAND_LIBS_GEN) -o $@ $(OBJS) $(SHARED_LIBRARY_LIBS) $(filter %.$(LIB_SUFFIX),$(EXTRA_LIBS))</span>
<a href="#l4.223"></a><span id="l4.223"> </span>
<a href="#l4.224"></a><span id="l4.224"> ifeq ($(OS_ARCH),WINNT)</span>
<a href="#l4.225"></a><span id="l4.225"> $(IMPORT_LIBRARY): $(SHARED_LIBRARY)</span>
<a href="#l4.226"></a><span id="l4.226"> endif</span>
<a href="#l4.227"></a><span id="l4.227"> </span>
<a href="#l4.228"></a><span id="l4.228"> $(HOST_LIBRARY): $(HOST_OBJS) Makefile</span>
<a href="#l4.229"></a><span id="l4.229"> 	$(RM) $@</span>
<a href="#l4.230"></a><span id="l4.230"> 	$(HOST_AR) $(HOST_AR_FLAGS) $(HOST_OBJS)</span>
<a href="#l4.231"></a><span id="l4.231" class="difflineat">@@ -809,27 +786,28 @@ endif</span>
<a href="#l4.232"></a><span id="l4.232"> endif</span>
<a href="#l4.233"></a><span id="l4.233"> endif</span>
<a href="#l4.234"></a><span id="l4.234"> </span>
<a href="#l4.235"></a><span id="l4.235"> # On Darwin (Mac OS X), dwarf2 debugging uses debug info left in .o files,</span>
<a href="#l4.236"></a><span id="l4.236"> # so instead of deleting .o files after repacking them into a dylib, we make</span>
<a href="#l4.237"></a><span id="l4.237"> # symlinks back to the originals. The symlinks are a no-op for stabs debugging,</span>
<a href="#l4.238"></a><span id="l4.238"> # so no need to conditionalize on OS version or debugging format.</span>
<a href="#l4.239"></a><span id="l4.239"> </span>
<a href="#l4.240"></a><span id="l4.240" class="difflineminus">-$(SHARED_LIBRARY): $(OBJS) $(LOBJS) $(DEF_FILE) $(RESFILE) $(LIBRARY) $(EXTRA_DEPS) $(DSO_LDOPTS_DEPS) $(GLOBAL_DEPS)</span>
<a href="#l4.241"></a><span id="l4.241" class="difflineplus">+$(SHARED_LIBRARY): $(OBJS) $(RESFILE) $(LIBRARY) $(EXTRA_DEPS) $(DSO_LDOPTS_DEPS) $(GLOBAL_DEPS)</span>
<a href="#l4.242"></a><span id="l4.242"> ifndef INCREMENTAL_LINKER</span>
<a href="#l4.243"></a><span id="l4.243" class="difflineminus">-	rm -f $@</span>
<a href="#l4.244"></a><span id="l4.244" class="difflineplus">+	$(RM) $@</span>
<a href="#l4.245"></a><span id="l4.245"> endif</span>
<a href="#l4.246"></a><span id="l4.246"> ifdef DTRACE_LIB_DEPENDENT</span>
<a href="#l4.247"></a><span id="l4.247"> ifndef XP_MACOSX</span>
<a href="#l4.248"></a><span id="l4.248"> 	dtrace -G -C -s $(MOZILLA_DTRACE_SRC) -o  $(DTRACE_PROBE_OBJ) $(shell $(EXPAND_LIBS) $(MOZILLA_PROBE_LIBS))</span>
<a href="#l4.249"></a><span id="l4.249"> endif</span>
<a href="#l4.250"></a><span id="l4.250" class="difflineminus">-	$(EXPAND_MKSHLIB) $(SHLIB_LDSTARTFILE) $(OBJS) $(LOBJS) $(SUB_SHLOBJS) $(DTRACE_PROBE_OBJ) $(MOZILLA_PROBE_LIBS) $(RESFILE) $(LDFLAGS) $(MOZ_GLUE_LDFLAGS) $(WRAP_LDFLAGS) $(SHARED_LIBRARY_LIBS) $(EXTRA_DSO_LDOPTS) $(OS_LIBS) $(EXTRA_LIBS) $(DEF_FILE) $(SHLIB_LDENDFILE)</span>
<a href="#l4.251"></a><span id="l4.251" class="difflineplus">+	$(EXPAND_MKSHLIB) $(SHLIB_LDSTARTFILE) $(OBJS) $(SUB_SHLOBJS) $(DTRACE_PROBE_OBJ) $(MOZILLA_PROBE_LIBS) $(RESFILE) $(LDFLAGS) $(WRAP_LDFLAGS) $(SHARED_LIBRARY_LIBS) $(EXTRA_DSO_LDOPTS) $(MOZ_GLUE_LDFLAGS) $(EXTRA_LIBS) $(OS_LIBS) $(SHLIB_LDENDFILE) $(if $(LIB_IS_C_ONLY),,$(STLPORT_LIBS))</span>
<a href="#l4.252"></a><span id="l4.252" class="difflineplus">+	@$(RM) $(DTRACE_PROBE_OBJ)</span>
<a href="#l4.253"></a><span id="l4.253"> else # ! DTRACE_LIB_DEPENDENT</span>
<a href="#l4.254"></a><span id="l4.254" class="difflineminus">-	$(EXPAND_MKSHLIB) $(SHLIB_LDSTARTFILE) $(OBJS) $(DTRACE_PROBE_OBJ) $(LOBJS) $(SUB_SHLOBJS) $(RESFILE) $(LDFLAGS) $(MOZ_GLUE_LDFLAGS) $(WRAP_LDFLAGS) $(SHARED_LIBRARY_LIBS) $(EXTRA_DSO_LDOPTS) $(OS_LIBS) $(EXTRA_LIBS) $(DEF_FILE) $(SHLIB_LDENDFILE)</span>
<a href="#l4.255"></a><span id="l4.255" class="difflineplus">+	$(EXPAND_MKSHLIB) $(SHLIB_LDSTARTFILE) $(OBJS) $(SUB_SHLOBJS) $(RESFILE) $(LDFLAGS) $(WRAP_LDFLAGS) $(SHARED_LIBRARY_LIBS) $(EXTRA_DSO_LDOPTS) $(MOZ_GLUE_LDFLAGS) $(EXTRA_LIBS) $(OS_LIBS) $(SHLIB_LDENDFILE) $(if $(LIB_IS_C_ONLY),,$(STLPORT_LIBS))</span>
<a href="#l4.256"></a><span id="l4.256"> endif # DTRACE_LIB_DEPENDENT</span>
<a href="#l4.257"></a><span id="l4.257"> </span>
<a href="#l4.258"></a><span id="l4.258"> ifeq (_WINNT,$(GNU_CC)_$(OS_ARCH))</span>
<a href="#l4.259"></a><span id="l4.259"> ifdef MSMANIFEST_TOOL</span>
<a href="#l4.260"></a><span id="l4.260"> ifdef EMBED_MANIFEST_AT</span>
<a href="#l4.261"></a><span id="l4.261"> 	@if test -f $@.manifest; then \</span>
<a href="#l4.262"></a><span id="l4.262"> 		mt.exe -NOLOGO -MANIFEST $@.manifest -OUTPUTRESOURCE:$@\;$(EMBED_MANIFEST_AT); \</span>
<a href="#l4.263"></a><span id="l4.263"> 		rm -f $@.manifest; \</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/db/mork/build/Makefile.in</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/db/mork/build/Makefile.in</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -8,16 +8,13 @@ topsrcdir	= @top_srcdir@</span>
<a href="#l5.4"></a><span id="l5.4"> VPATH		= @srcdir@</span>
<a href="#l5.5"></a><span id="l5.5"> srcdir		= @srcdir@</span>
<a href="#l5.6"></a><span id="l5.6"> </span>
<a href="#l5.7"></a><span id="l5.7"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9"> ifdef MOZ_INCOMPLETE_EXTERNAL_LINKAGE</span>
<a href="#l5.10"></a><span id="l5.10"> MODULE_NAME	= nsMorkModule</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-	$(XPCOM_GLUE_LDOPTS) \</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-	$(NSPR_LIBS) \</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">-	$(NULL)</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+EXTRA_LIBS += $(NSPR_LIBS)</span>
<a href="#l5.17"></a><span id="l5.17"> endif</span>
<a href="#l5.18"></a><span id="l5.18"> </span>
<a href="#l5.19"></a><span id="l5.19"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l5.20"></a><span id="l5.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/db/mork/build/moz.build</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/db/mork/build/moz.build</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -7,16 +7,23 @@ EXPORTS += [</span>
<a href="#l6.4"></a><span id="l6.4">     'nsIMdbFactoryFactory.h',</span>
<a href="#l6.5"></a><span id="l6.5">     'nsMorkCID.h',</span>
<a href="#l6.6"></a><span id="l6.6"> ]</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8"> SOURCES += [</span>
<a href="#l6.9"></a><span id="l6.9">     'nsMorkFactory.cpp',</span>
<a href="#l6.10"></a><span id="l6.10"> ]</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+USE_LIBS += [</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+    'mozalloc',</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+]</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+</span>
<a href="#l6.16"></a><span id="l6.16"> if CONFIG['MOZ_INCOMPLETE_EXTERNAL_LINKAGE']:</span>
<a href="#l6.17"></a><span id="l6.17">     IS_COMPONENT = True</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineminus">-    FORCE_SHARED_LIB = True</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineplus">+        'xpcomglue_s',</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineplus">+        'xul',</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineplus">+    ]</span>
<a href="#l6.23"></a><span id="l6.23"> else:</span>
<a href="#l6.24"></a><span id="l6.24">     FINAL_LIBRARY = 'xul'</span>
<a href="#l6.25"></a><span id="l6.25"> </span>
<a href="#l6.26"></a><span id="l6.26"> LIBRARY_NAME = 'mork'</span>
<a href="#l6.27"></a><span id="l6.27"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/ldap/xpcom/src/Makefile.in</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/ldap/xpcom/src/Makefile.in</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -13,23 +13,17 @@ include $(DEPTH)/config/autoconf.mk</span>
<a href="#l7.4"></a><span id="l7.4"> ifdef MOZ_INCOMPLETE_EXTERNAL_LINKAGE</span>
<a href="#l7.5"></a><span id="l7.5"> MODULE_NAME	= nsLDAPProtocolModule</span>
<a href="#l7.6"></a><span id="l7.6"> endif</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8"> ifdef MOZ_PREF_EXTENSIONS</span>
<a href="#l7.9"></a><span id="l7.9"> DEFINES += -DMOZ_PREF_EXTENSIONS</span>
<a href="#l7.10"></a><span id="l7.10"> endif</span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-EXTRA_DSO_LDOPTS += $(LDAP_LIBS)</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-ifndef MOZ_INCOMPLETE_EXTERNAL_LINKAGE</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-EXTRA_DSO_LDOPTS += $(MOZ_COMPONENT_LIBS)</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-else</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-	$(XPCOM_GLUE_LDOPTS) \</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineminus">-	$(MOZ_JS_LIBS) \</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineminus">-	$(NSPR_LIBS) \</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-	$(NULL)</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineplus">+EXTRA_LIBS += $(LDAP_LIBS)</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineplus">+ifdef MOZ_INCOMPLETE_EXTERNAL_LINKAGE</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineplus">+EXTRA_LIBS += $(NSPR_LIBS)</span>
<a href="#l7.24"></a><span id="l7.24"> endif</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l7.27"></a><span id="l7.27"> </span>
<a href="#l7.28"></a><span id="l7.28"> LOCAL_INCLUDES	= $(LDAP_CFLAGS)</span>
<a href="#l7.29"></a><span id="l7.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/ldap/xpcom/src/moz.build</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/ldap/xpcom/src/moz.build</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -21,16 +21,28 @@ SOURCES += [</span>
<a href="#l8.4"></a><span id="l8.4"> if CONFIG['MOZ_PREF_EXTENSIONS']:</span>
<a href="#l8.5"></a><span id="l8.5">     SOURCES += ['nsLDAPSyncQuery.cpp']</span>
<a href="#l8.6"></a><span id="l8.6"> </span>
<a href="#l8.7"></a><span id="l8.7"> EXTRA_COMPONENTS += [</span>
<a href="#l8.8"></a><span id="l8.8">     'ldapComponents.manifest',</span>
<a href="#l8.9"></a><span id="l8.9">     'nsLDAPProtocolHandler.js',</span>
<a href="#l8.10"></a><span id="l8.10"> ]</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+USE_LIBS += [</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+    'mozalloc',</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+]</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+</span>
<a href="#l8.16"></a><span id="l8.16"> if CONFIG['MOZ_INCOMPLETE_EXTERNAL_LINKAGE']:</span>
<a href="#l8.17"></a><span id="l8.17">     IS_COMPONENT = True</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineminus">-    FORCE_SHARED_LIB = True</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineplus">+        'xpcomglue_s',</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineplus">+        'xul',</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineplus">+    ]</span>
<a href="#l8.23"></a><span id="l8.23" class="difflineplus">+# js needs to come after xul for now, because it is an archive and its content</span>
<a href="#l8.24"></a><span id="l8.24" class="difflineplus">+# is discarded when it comes first.</span>
<a href="#l8.25"></a><span id="l8.25" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l8.26"></a><span id="l8.26" class="difflineplus">+        'js',</span>
<a href="#l8.27"></a><span id="l8.27" class="difflineplus">+    ]</span>
<a href="#l8.28"></a><span id="l8.28"> else:</span>
<a href="#l8.29"></a><span id="l8.29">     FINAL_LIBRARY = 'xul'</span>
<a href="#l8.30"></a><span id="l8.30"> </span>
<a href="#l8.31"></a><span id="l8.31"> LIBRARY_NAME = 'mozldap'</span>
<a href="#l8.32"></a><span id="l8.32"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/app/Makefile.in</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/app/Makefile.in</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -46,22 +46,18 @@ include $(topsrcdir)/config/rules.mk</span>
<a href="#l9.4"></a><span id="l9.4"> else</span>
<a href="#l9.5"></a><span id="l9.5"> # Build a binary bootstrapping with XRE_main</span>
<a href="#l9.6"></a><span id="l9.6"> </span>
<a href="#l9.7"></a><span id="l9.7"> DIST_FILES = application.ini</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9"> DEFINES += -DXPCOM_GLUE</span>
<a href="#l9.10"></a><span id="l9.10"> STL_FLAGS=</span>
<a href="#l9.11"></a><span id="l9.11"> </span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-LIBS += \</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-	$(XPCOM_STANDALONE_GLUE_LDOPTS) \</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineminus">-	$(NULL)</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineminus">-</span>
<a href="#l9.16"></a><span id="l9.16"> ifdef MOZ_LINKER</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineminus">-LIBS += $(MOZ_ZLIB_LIBS)</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+OS_LIBS += $(MOZ_ZLIB_LIBS)</span>
<a href="#l9.19"></a><span id="l9.19"> endif</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21"> ifndef MOZ_WINCONSOLE</span>
<a href="#l9.22"></a><span id="l9.22"> ifdef MOZ_DEBUG</span>
<a href="#l9.23"></a><span id="l9.23"> MOZ_WINCONSOLE = 1</span>
<a href="#l9.24"></a><span id="l9.24"> else</span>
<a href="#l9.25"></a><span id="l9.25"> MOZ_WINCONSOLE = 0</span>
<a href="#l9.26"></a><span id="l9.26"> endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/app/moz.build</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/app/moz.build</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -8,8 +8,12 @@ DIRS += ['profile']</span>
<a href="#l10.4"></a><span id="l10.4"> if not CONFIG['LIBXUL_SDK']:</span>
<a href="#l10.5"></a><span id="l10.5">     PROGRAM = CONFIG['MOZ_APP_NAME']</span>
<a href="#l10.6"></a><span id="l10.6">     SOURCES += ['nsMailApp.cpp']</span>
<a href="#l10.7"></a><span id="l10.7">     LOCAL_INCLUDES += [</span>
<a href="#l10.8"></a><span id="l10.8">         '/mozilla/toolkit/xre',</span>
<a href="#l10.9"></a><span id="l10.9">         '/mozilla/xpcom/base',</span>
<a href="#l10.10"></a><span id="l10.10">         '/mozilla/xpcom/build',</span>
<a href="#l10.11"></a><span id="l10.11">     ]</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+USE_LIBS += [</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+    'xpcomglue',</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineplus">+]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/components/build/Makefile.in</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/components/build/Makefile.in</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -6,21 +6,17 @@ DEPTH		= @DEPTH@</span>
<a href="#l11.4"></a><span id="l11.4"> topsrcdir	= @top_srcdir@</span>
<a href="#l11.5"></a><span id="l11.5"> srcdir		= @srcdir@</span>
<a href="#l11.6"></a><span id="l11.6"> VPATH		= @srcdir@</span>
<a href="#l11.7"></a><span id="l11.7"> </span>
<a href="#l11.8"></a><span id="l11.8"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10"> ifdef MOZ_INCOMPLETE_EXTERNAL_LINKAGE</span>
<a href="#l11.11"></a><span id="l11.11"> MODULE_NAME	= nsMailCompsModule</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-	$(XPCOM_GLUE_LDOPTS) \</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineminus">-	$(NSPR_LIBS) \</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-	$(GLIB_LIBS) \</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineminus">-	$(call EXPAND_LIBNAME_PATH,unicharutil_external_s,$(LIBXUL_DIST)/lib) \</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-	$(NULL)</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+EXTRA_LIBS += $(NSPR_LIBS)</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineplus">+OS_LIBS += $(GLIB_LIBS)</span>
<a href="#l11.20"></a><span id="l11.20"> endif</span>
<a href="#l11.21"></a><span id="l11.21"> </span>
<a href="#l11.22"></a><span id="l11.22"> ifeq ($(OS_ARCH),WINNT)</span>
<a href="#l11.23"></a><span id="l11.23"> OS_LIBS += $(call EXPAND_LIBNAME,ole32 shell32)</span>
<a href="#l11.24"></a><span id="l11.24"> endif</span>
<a href="#l11.25"></a><span id="l11.25"> </span>
<a href="#l11.26"></a><span id="l11.26"> include $(topsrcdir)/config/rules.mk</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/components/build/moz.build</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/components/build/moz.build</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -2,21 +2,29 @@</span>
<a href="#l12.4"></a><span id="l12.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.5"></a><span id="l12.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.6"></a><span id="l12.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8"> SOURCES += [</span>
<a href="#l12.9"></a><span id="l12.9">     'nsMailComps.cpp',</span>
<a href="#l12.10"></a><span id="l12.10"> ]</span>
<a href="#l12.11"></a><span id="l12.11"> </span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+USE_LIBS += [</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+    'mozalloc',</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+]</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineplus">+</span>
<a href="#l12.16"></a><span id="l12.16"> # NOTE: if we switch away from LIBXUL_LIBRARY at any stage</span>
<a href="#l12.17"></a><span id="l12.17"> # we need to clear the EMBED_MANIFEST_AT flag. (See Bug 714495)</span>
<a href="#l12.18"></a><span id="l12.18"> if CONFIG['MOZ_INCOMPLETE_EXTERNAL_LINKAGE']:</span>
<a href="#l12.19"></a><span id="l12.19">     IS_COMPONENT = True</span>
<a href="#l12.20"></a><span id="l12.20" class="difflineminus">-    FORCE_SHARED_LIB = True</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineplus">+        'unicharutil_external_s',</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineplus">+        'xpcomglue_s',</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineplus">+        'xul',</span>
<a href="#l12.25"></a><span id="l12.25" class="difflineplus">+    ]</span>
<a href="#l12.26"></a><span id="l12.26"> else:</span>
<a href="#l12.27"></a><span id="l12.27">     FINAL_LIBRARY = 'xul'</span>
<a href="#l12.28"></a><span id="l12.28"> </span>
<a href="#l12.29"></a><span id="l12.29"> LIBRARY_NAME = 'mailcomps'</span>
<a href="#l12.30"></a><span id="l12.30"> </span>
<a href="#l12.31"></a><span id="l12.31"> LOCAL_INCLUDES += [</span>
<a href="#l12.32"></a><span id="l12.32">     '../history',</span>
<a href="#l12.33"></a><span id="l12.33">     '../migration/src',</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/components/search/mdimporter/Makefile.in</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/components/search/mdimporter/Makefile.in</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -16,17 +16,17 @@ INSTALL_TARGETS += SCHEMA</span>
<a href="#l13.4"></a><span id="l13.4"> </span>
<a href="#l13.5"></a><span id="l13.5"> PLIST_FILES := Info.plist</span>
<a href="#l13.6"></a><span id="l13.6"> PLIST_DEST := $(FRAMEWORK_DIR)/Contents</span>
<a href="#l13.7"></a><span id="l13.7"> INSTALL_TARGETS += PLIST</span>
<a href="#l13.8"></a><span id="l13.8"> </span>
<a href="#l13.9"></a><span id="l13.9"> CFLAGS += -mmacosx-version-min=$(MACOSX_DEPLOYMENT_TARGET)</span>
<a href="#l13.10"></a><span id="l13.10"> # We don't need mozglue</span>
<a href="#l13.11"></a><span id="l13.11"> WRAP_LDFLAGS :=</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-LIBS += \</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+OS_LDFLAGS += \</span>
<a href="#l13.14"></a><span id="l13.14">   -framework CoreFoundation \</span>
<a href="#l13.15"></a><span id="l13.15">   -framework CoreServices \</span>
<a href="#l13.16"></a><span id="l13.16">   $(NULL)</span>
<a href="#l13.17"></a><span id="l13.17"> </span>
<a href="#l13.18"></a><span id="l13.18"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20"> # We're also a bundle.</span>
<a href="#l13.21"></a><span id="l13.21"> LDFLAGS += -bundle</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mailnews/base/test/moz.build</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mailnews/base/test/moz.build</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -1,15 +1,23 @@</span>
<a href="#l14.4"></a><span id="l14.4"> # vim: set filetype=python:</span>
<a href="#l14.5"></a><span id="l14.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.6"></a><span id="l14.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.7"></a><span id="l14.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l14.8"></a><span id="l14.8"> </span>
<a href="#l14.9"></a><span id="l14.9"> XPCSHELL_TESTS_MANIFESTS += ['unit/xpcshell.ini']</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11"> CPP_UNIT_TESTS += [</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-    'TestMailCookie.cpp',</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+    'TestMailCookie',</span>
<a href="#l14.14"></a><span id="l14.14"> ]</span>
<a href="#l14.15"></a><span id="l14.15"> </span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+SOURCES += sorted('%s.cpp' % t for t in CPP_UNIT_TESTS)</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineplus">+</span>
<a href="#l14.18"></a><span id="l14.18"> LOCAL_INCLUDES += [</span>
<a href="#l14.19"></a><span id="l14.19">     '/mozilla/netwerk/test',</span>
<a href="#l14.20"></a><span id="l14.20">     '/mozilla/xpcom/tests',</span>
<a href="#l14.21"></a><span id="l14.21"> ]</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineplus">+</span>
<a href="#l14.23"></a><span id="l14.23" class="difflineplus">+USE_LIBS += [</span>
<a href="#l14.24"></a><span id="l14.24" class="difflineplus">+    'mozalloc',</span>
<a href="#l14.25"></a><span id="l14.25" class="difflineplus">+    'xpcomglue_s',</span>
<a href="#l14.26"></a><span id="l14.26" class="difflineplus">+    'xul',</span>
<a href="#l14.27"></a><span id="l14.27" class="difflineplus">+]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mailnews/build/Makefile.in</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mailnews/build/Makefile.in</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -9,35 +9,23 @@ srcdir		= @srcdir@</span>
<a href="#l15.4"></a><span id="l15.4"> VPATH		= @srcdir@</span>
<a href="#l15.5"></a><span id="l15.5"> </span>
<a href="#l15.6"></a><span id="l15.6"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8"> ifdef MOZ_INCOMPLETE_EXTERNAL_LINKAGE</span>
<a href="#l15.9"></a><span id="l15.9"> MODULE_NAME	= nsMailModule</span>
<a href="#l15.10"></a><span id="l15.10"> endif</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-EXTRA_DSO_LDOPTS = \</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineminus">-	$(LIBS_DIR) \</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineminus">-	$(MOZ_JS_LIBS) \</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineminus">-	$(XPCOM_GLUE_LDOPTS) \</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineminus">-	$(call EXPAND_LIBNAME_PATH,unicharutil_external_s,$(LIBXUL_DIST)/lib) \</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineminus">-	$(call EXPAND_LIBNAME_PATH,rdfutil_external_s,$(LIBXUL_DIST)/lib) \</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineminus">-	$(NSPR_LIBS) \</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineminus">-	$(XPCOM_LIBS) \</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineminus">-	$(NULL)</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineplus">+EXTRA_LIBS += $(NSPR_LIBS)</span>
<a href="#l15.22"></a><span id="l15.22"> ifneq (WINNT,$(OS_ARCH))</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineminus">-	$(MOZ_ZLIB_LIBS) \</span>
<a href="#l15.25"></a><span id="l15.25" class="difflineminus">-	$(NULL)</span>
<a href="#l15.26"></a><span id="l15.26" class="difflineplus">+OS_LIBS += $(MOZ_ZLIB_LIBS)</span>
<a href="#l15.27"></a><span id="l15.27"> endif</span>
<a href="#l15.28"></a><span id="l15.28"> </span>
<a href="#l15.29"></a><span id="l15.29"> ifeq (cocoa,$(MOZ_WIDGET_TOOLKIT))</span>
<a href="#l15.30"></a><span id="l15.30" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-  $(TK_LIBS) \</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineminus">-                  -framework Cocoa \</span>
<a href="#l15.33"></a><span id="l15.33" class="difflineminus">-  $(NULL)</span>
<a href="#l15.34"></a><span id="l15.34" class="difflineplus">+OS_LIBS += $(TK_LIBS)</span>
<a href="#l15.35"></a><span id="l15.35" class="difflineplus">+OS_LDFLAGS += -framework Cocoa</span>
<a href="#l15.36"></a><span id="l15.36"> endif </span>
<a href="#l15.37"></a><span id="l15.37"> </span>
<a href="#l15.38"></a><span id="l15.38"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l15.39"></a><span id="l15.39"> </span>
<a href="#l15.40"></a><span id="l15.40"> ifeq ($(OS_ARCH),WINNT)</span>
<a href="#l15.41"></a><span id="l15.41"> OS_LIBS	+= $(call EXPAND_LIBNAME,shell32)</span>
<a href="#l15.42"></a><span id="l15.42"> endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mailnews/build/moz.build</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mailnews/build/moz.build</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -2,22 +2,37 @@</span>
<a href="#l16.4"></a><span id="l16.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.5"></a><span id="l16.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.6"></a><span id="l16.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l16.7"></a><span id="l16.7"> </span>
<a href="#l16.8"></a><span id="l16.8"> SOURCES += [</span>
<a href="#l16.9"></a><span id="l16.9">     'nsMailModule.cpp',</span>
<a href="#l16.10"></a><span id="l16.10"> ]</span>
<a href="#l16.11"></a><span id="l16.11"> </span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+USE_LIBS += [</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+    'mozalloc',</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineplus">+]</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineplus">+</span>
<a href="#l16.16"></a><span id="l16.16"> if CONFIG['MOZ_INCOMPLETE_EXTERNAL_LINKAGE']:</span>
<a href="#l16.17"></a><span id="l16.17">     IS_COMPONENT = True</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineminus">-    FORCE_SHARED_LIB = True</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineplus">+        'rdfutil_external_s',</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineplus">+        'unicharutil_external_s',</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineplus">+        'xpcomglue_s',</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineplus">+        'xul',</span>
<a href="#l16.24"></a><span id="l16.24" class="difflineplus">+    ]</span>
<a href="#l16.25"></a><span id="l16.25"> else:</span>
<a href="#l16.26"></a><span id="l16.26">     FINAL_LIBRARY = 'xul'</span>
<a href="#l16.27"></a><span id="l16.27"> </span>
<a href="#l16.28"></a><span id="l16.28" class="difflineplus">+# js needs to come after xul for now, because it is an archive and its content</span>
<a href="#l16.29"></a><span id="l16.29" class="difflineplus">+# is discarded when it comes first.</span>
<a href="#l16.30"></a><span id="l16.30" class="difflineplus">+USE_LIBS += [</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineplus">+    'js',</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineplus">+]</span>
<a href="#l16.33"></a><span id="l16.33" class="difflineplus">+</span>
<a href="#l16.34"></a><span id="l16.34"> LIBRARY_NAME = 'mail'</span>
<a href="#l16.35"></a><span id="l16.35"> </span>
<a href="#l16.36"></a><span id="l16.36"> LOCAL_INCLUDES += [</span>
<a href="#l16.37"></a><span id="l16.37">     '/mailnews/addrbook/src',</span>
<a href="#l16.38"></a><span id="l16.38">     '/mailnews/base/search/src',</span>
<a href="#l16.39"></a><span id="l16.39">     '/mailnews/base/src',</span>
<a href="#l16.40"></a><span id="l16.40">     '/mailnews/base/util',</span>
<a href="#l16.41"></a><span id="l16.41">     '/mailnews/compose/src',</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mailnews/imap/test/Makefile.in</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mailnews/imap/test/Makefile.in</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -8,17 +8,10 @@ topsrcdir	= @top_srcdir@</span>
<a href="#l17.4"></a><span id="l17.4"> srcdir		= @srcdir@</span>
<a href="#l17.5"></a><span id="l17.5"> VPATH		= @srcdir@</span>
<a href="#l17.6"></a><span id="l17.6"> relativesrcdir = @relativesrcdir@</span>
<a href="#l17.7"></a><span id="l17.7"> </span>
<a href="#l17.8"></a><span id="l17.8"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l17.9"></a><span id="l17.9"> </span>
<a href="#l17.10"></a><span id="l17.10"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-LIBS += $(XPCOM_GLUE_LDOPTS)</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineminus">-</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineminus">-LIBS += 	\</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineminus">-		../src/$(LIB_PREFIX)msgimap_s.$(LIB_SUFFIX) \</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineminus">-		../../base/util/$(LIB_PREFIX)msgbsutl_s.$(LIB_SUFFIX) \</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineminus">-		$(XPCOM_LIBS) \</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineminus">-		$(NSPR_LIBS) \</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineminus">-		$(MOZ_ZLIB_LIBS) \</span>
<a href="#l17.20"></a><span id="l17.20" class="difflineminus">-		$(NULL)</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineplus">+EXTRA_LIBS += $(NSPR_LIBS)</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineplus">+OS_LIBS += $(MOZ_ZLIB_LIBS)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mailnews/imap/test/moz.build</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mailnews/imap/test/moz.build</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -6,8 +6,15 @@</span>
<a href="#l18.4"></a><span id="l18.4"> XPCSHELL_TESTS_MANIFESTS += ['unit/xpcshell.ini']</span>
<a href="#l18.5"></a><span id="l18.5"> </span>
<a href="#l18.6"></a><span id="l18.6"> LOCAL_INCLUDES += [</span>
<a href="#l18.7"></a><span id="l18.7">    '../src',</span>
<a href="#l18.8"></a><span id="l18.8">    '/mailnews/base/util',</span>
<a href="#l18.9"></a><span id="l18.9">    '/mozilla/xpcom/tests',</span>
<a href="#l18.10"></a><span id="l18.10"> ]</span>
<a href="#l18.11"></a><span id="l18.11"> </span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+USE_LIBS += [</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+    'mozalloc',</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+    'msgbsutl_s',</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineplus">+    'msgimap_s',</span>
<a href="#l18.16"></a><span id="l18.16" class="difflineplus">+    'xpcomglue_s',</span>
<a href="#l18.17"></a><span id="l18.17" class="difflineplus">+    'xul',</span>
<a href="#l18.18"></a><span id="l18.18" class="difflineplus">+]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mailnews/import/build/Makefile.in</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mailnews/import/build/Makefile.in</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -10,38 +10,19 @@ VPATH		= @srcdir@</span>
<a href="#l19.4"></a><span id="l19.4"> </span>
<a href="#l19.5"></a><span id="l19.5"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l19.6"></a><span id="l19.6"> </span>
<a href="#l19.7"></a><span id="l19.7"> ifdef MOZ_INCOMPLETE_EXTERNAL_LINKAGE</span>
<a href="#l19.8"></a><span id="l19.8"> MODULE_NAME	= nsImportServiceModule</span>
<a href="#l19.9"></a><span id="l19.9"> SHARED_LIBRARY_LIBS = ../../base/util/$(LIB_PREFIX)msgbsutl_s.$(LIB_SUFFIX)</span>
<a href="#l19.10"></a><span id="l19.10"> endif</span>
<a href="#l19.11"></a><span id="l19.11"> </span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineminus">-	$(LIBS_DIR) \</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineminus">-	$(MOZ_JS_LIBS) \</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineminus">-	$(XPCOM_GLUE_LDOPTS) \</span>
<a href="#l19.17"></a><span id="l19.17" class="difflineminus">-	$(call EXPAND_LIBNAME_PATH,unicharutil_external_s,$(LIBXUL_DIST)/lib) \</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineminus">-	$(MOZDEPTH)/rdf/util/src/$(LIB_PREFIX)rdfutil_external_s.$(LIB_SUFFIX) \</span>
<a href="#l19.19"></a><span id="l19.19" class="difflineminus">-	$(NSPR_LIBS) \</span>
<a href="#l19.20"></a><span id="l19.20" class="difflineminus">-	$(XPCOM_LIBS) \</span>
<a href="#l19.21"></a><span id="l19.21" class="difflineminus">-	$(NULL)</span>
<a href="#l19.22"></a><span id="l19.22" class="difflineplus">+EXTRA_LIBS += $(NSPR_LIBS)</span>
<a href="#l19.23"></a><span id="l19.23"> ifneq (WINNT,$(OS_ARCH))</span>
<a href="#l19.24"></a><span id="l19.24" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l19.25"></a><span id="l19.25" class="difflineminus">-	$(MOZ_ZLIB_LIBS) \</span>
<a href="#l19.26"></a><span id="l19.26" class="difflineminus">-	$(NULL)</span>
<a href="#l19.27"></a><span id="l19.27" class="difflineplus">+OS_LIBS += $(MOZ_ZLIB_LIBS)</span>
<a href="#l19.28"></a><span id="l19.28"> endif</span>
<a href="#l19.29"></a><span id="l19.29"> </span>
<a href="#l19.30"></a><span id="l19.30"> ifeq (cocoa,$(MOZ_WIDGET_TOOLKIT))</span>
<a href="#l19.31"></a><span id="l19.31" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l19.32"></a><span id="l19.32" class="difflineminus">-	-framework Cocoa  \</span>
<a href="#l19.33"></a><span id="l19.33" class="difflineminus">-	$(TK_LIBS) \</span>
<a href="#l19.34"></a><span id="l19.34" class="difflineminus">-	$(NULL)</span>
<a href="#l19.35"></a><span id="l19.35" class="difflineminus">-endif</span>
<a href="#l19.36"></a><span id="l19.36" class="difflineminus">-</span>
<a href="#l19.37"></a><span id="l19.37" class="difflineminus">-ifeq ($(OS_ARCH),AIX)</span>
<a href="#l19.38"></a><span id="l19.38" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l19.39"></a><span id="l19.39" class="difflineminus">-	$(MOZDEPTH)/rdf/util/src/$(LIB_PREFIX)rdfutil_external_s.$(LIB_SUFFIX) \</span>
<a href="#l19.40"></a><span id="l19.40" class="difflineminus">-	$(NULL)</span>
<a href="#l19.41"></a><span id="l19.41" class="difflineplus">+OS_LIBS += $(TK_LIBS)</span>
<a href="#l19.42"></a><span id="l19.42" class="difflineplus">+OS_LDFLAGS += -framework Cocoa</span>
<a href="#l19.43"></a><span id="l19.43"> endif</span>
<a href="#l19.44"></a><span id="l19.44"> </span>
<a href="#l19.45"></a><span id="l19.45"> include $(topsrcdir)/config/rules.mk</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mailnews/import/build/moz.build</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mailnews/import/build/moz.build</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -2,22 +2,37 @@</span>
<a href="#l20.4"></a><span id="l20.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.5"></a><span id="l20.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.6"></a><span id="l20.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l20.7"></a><span id="l20.7"> </span>
<a href="#l20.8"></a><span id="l20.8"> SOURCES += [</span>
<a href="#l20.9"></a><span id="l20.9">     'nsImportModule.cpp',</span>
<a href="#l20.10"></a><span id="l20.10"> ]</span>
<a href="#l20.11"></a><span id="l20.11"> </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+USE_LIBS += [</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+    'mozalloc',</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+]</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+</span>
<a href="#l20.16"></a><span id="l20.16"> if CONFIG['MOZ_INCOMPLETE_EXTERNAL_LINKAGE']:</span>
<a href="#l20.17"></a><span id="l20.17">     IS_COMPONENT = True</span>
<a href="#l20.18"></a><span id="l20.18" class="difflineminus">-    FORCE_SHARED_LIB = True</span>
<a href="#l20.19"></a><span id="l20.19" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l20.20"></a><span id="l20.20" class="difflineplus">+        'rdfutil_external_s',</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineplus">+        'unicharutil_external_s',</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineplus">+        'xpcomglue_s',</span>
<a href="#l20.23"></a><span id="l20.23" class="difflineplus">+        'xul',</span>
<a href="#l20.24"></a><span id="l20.24" class="difflineplus">+    ]</span>
<a href="#l20.25"></a><span id="l20.25"> else:</span>
<a href="#l20.26"></a><span id="l20.26">     FINAL_LIBRARY = 'xul'</span>
<a href="#l20.27"></a><span id="l20.27"> </span>
<a href="#l20.28"></a><span id="l20.28" class="difflineplus">+# js needs to come after xul for now, because it is an archive and its content</span>
<a href="#l20.29"></a><span id="l20.29" class="difflineplus">+# is discarded when it comes first.</span>
<a href="#l20.30"></a><span id="l20.30" class="difflineplus">+USE_LIBS += [</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineplus">+    'js',</span>
<a href="#l20.32"></a><span id="l20.32" class="difflineplus">+]</span>
<a href="#l20.33"></a><span id="l20.33" class="difflineplus">+</span>
<a href="#l20.34"></a><span id="l20.34"> LIBRARY_NAME = 'import'</span>
<a href="#l20.35"></a><span id="l20.35"> </span>
<a href="#l20.36"></a><span id="l20.36"> LOCAL_INCLUDES += [</span>
<a href="#l20.37"></a><span id="l20.37">     '../src',</span>
<a href="#l20.38"></a><span id="l20.38">     '../text/src',</span>
<a href="#l20.39"></a><span id="l20.39">     '../vcard/src',</span>
<a href="#l20.40"></a><span id="l20.40"> ]</span>
<a href="#l20.41"></a><span id="l20.41"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/suite/app/Makefile.in</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/suite/app/Makefile.in</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -21,20 +21,16 @@ DEFINES += \</span>
<a href="#l21.4"></a><span id="l21.4"> ifdef LIBXUL_SDK</span>
<a href="#l21.5"></a><span id="l21.5"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l21.6"></a><span id="l21.6"> else</span>
<a href="#l21.7"></a><span id="l21.7"> # Build a binary bootstrapping with XRE_main</span>
<a href="#l21.8"></a><span id="l21.8"> </span>
<a href="#l21.9"></a><span id="l21.9"> DEFINES += -DXPCOM_GLUE</span>
<a href="#l21.10"></a><span id="l21.10"> STL_FLAGS=</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-LIBS += \</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineminus">-	$(XPCOM_STANDALONE_GLUE_LDOPTS) \</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineminus">-	$(NULL)</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineminus">-</span>
<a href="#l21.16"></a><span id="l21.16"> ifndef MOZ_WINCONSOLE</span>
<a href="#l21.17"></a><span id="l21.17"> ifdef MOZ_DEBUG</span>
<a href="#l21.18"></a><span id="l21.18"> MOZ_WINCONSOLE = 1</span>
<a href="#l21.19"></a><span id="l21.19"> else</span>
<a href="#l21.20"></a><span id="l21.20"> MOZ_WINCONSOLE = 0</span>
<a href="#l21.21"></a><span id="l21.21"> endif</span>
<a href="#l21.22"></a><span id="l21.22"> endif</span>
<a href="#l21.23"></a><span id="l21.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/suite/app/moz.build</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/suite/app/moz.build</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -7,8 +7,12 @@ if not CONFIG['LIBXUL_SDK']:</span>
<a href="#l22.4"></a><span id="l22.4">     PROGRAM = CONFIG['MOZ_APP_NAME']</span>
<a href="#l22.5"></a><span id="l22.5">     SOURCES += ['nsSuiteApp.cpp']</span>
<a href="#l22.6"></a><span id="l22.6">     LOCAL_INCLUDES += [</span>
<a href="#l22.7"></a><span id="l22.7">         '/mozilla/toolkit/xre',</span>
<a href="#l22.8"></a><span id="l22.8">         '/mozilla/xpcom/base',</span>
<a href="#l22.9"></a><span id="l22.9">         '/mozilla/xpcom/build',</span>
<a href="#l22.10"></a><span id="l22.10">     ]</span>
<a href="#l22.11"></a><span id="l22.11">     GENERATED_INCLUDES += ['/build']</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineplus">+</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+USE_LIBS += [</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineplus">+    'xpcomglue',</span>
<a href="#l22.15"></a><span id="l22.15" class="difflineplus">+]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/suite/build/Makefile.in</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/suite/build/Makefile.in</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -12,21 +12,14 @@ include $(DEPTH)/config/autoconf.mk</span>
<a href="#l23.4"></a><span id="l23.4"> MODULE_NAME	 = nsSuiteModule</span>
<a href="#l23.5"></a><span id="l23.5"> </span>
<a href="#l23.6"></a><span id="l23.6"> USE_STATIC_LIBS	 = 1</span>
<a href="#l23.7"></a><span id="l23.7"> </span>
<a href="#l23.8"></a><span id="l23.8"> ifeq ($(OS_ARCH),WINNT)</span>
<a href="#l23.9"></a><span id="l23.9"> OS_LIBS += $(call EXPAND_LIBNAME,ole32 shell32)</span>
<a href="#l23.10"></a><span id="l23.10"> endif</span>
<a href="#l23.11"></a><span id="l23.11"> </span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-EXTRA_DSO_LDOPTS += \</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineminus">-	$(LIBS_DIR) \</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineminus">-	$(call EXPAND_LIBNAME_PATH,unicharutil_external_s,$(LIBXUL_DIST)/lib) \</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineminus">-	$(MOZ_JS_LIBS) \</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineminus">-	$(XPCOM_STATICRUNTIME_GLUE_LDOPTS) \</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineminus">-	$(MOZ_COMPONENT_LIBS) \</span>
<a href="#l23.18"></a><span id="l23.18" class="difflineminus">-	$(TK_LIBS) \</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineminus">-	$(NULL)</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineplus">+OS_LIBS += $(TK_LIBS)</span>
<a href="#l23.21"></a><span id="l23.21"> </span>
<a href="#l23.22"></a><span id="l23.22"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l23.23"></a><span id="l23.23"> </span>
<a href="#l23.24"></a><span id="l23.24"> # Ensure that we don't embed a manifest referencing the CRT.</span>
<a href="#l23.25"></a><span id="l23.25"> EMBED_MANIFEST_AT =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/suite/build/moz.build</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/suite/build/moz.build</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -2,20 +2,39 @@</span>
<a href="#l24.4"></a><span id="l24.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l24.5"></a><span id="l24.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l24.6"></a><span id="l24.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l24.7"></a><span id="l24.7"> </span>
<a href="#l24.8"></a><span id="l24.8"> SOURCES += [</span>
<a href="#l24.9"></a><span id="l24.9">     'nsSuiteModule.cpp',</span>
<a href="#l24.10"></a><span id="l24.10"> ]</span>
<a href="#l24.11"></a><span id="l24.11"> </span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-FORCE_SHARED_LIB = True</span>
<a href="#l24.13"></a><span id="l24.13"> IS_COMPONENT = True</span>
<a href="#l24.14"></a><span id="l24.14"> </span>
<a href="#l24.15"></a><span id="l24.15"> LIBRARY_NAME = 'suite'</span>
<a href="#l24.16"></a><span id="l24.16"> </span>
<a href="#l24.17"></a><span id="l24.17"> LOCAL_INCLUDES += [</span>
<a href="#l24.18"></a><span id="l24.18">     '/suite/feeds/src',</span>
<a href="#l24.19"></a><span id="l24.19">     '/suite/profile',</span>
<a href="#l24.20"></a><span id="l24.20">     '/suite/profile/migration/src',</span>
<a href="#l24.21"></a><span id="l24.21">     '/suite/shell/src',</span>
<a href="#l24.22"></a><span id="l24.22"> ]</span>
<a href="#l24.23"></a><span id="l24.23"> </span>
<a href="#l24.24"></a><span id="l24.24" class="difflineplus">+USE_LIBS += [</span>
<a href="#l24.25"></a><span id="l24.25" class="difflineplus">+    'mozalloc',</span>
<a href="#l24.26"></a><span id="l24.26" class="difflineplus">+    'unicharutil_external_s',</span>
<a href="#l24.27"></a><span id="l24.27" class="difflineplus">+    'xul',</span>
<a href="#l24.28"></a><span id="l24.28" class="difflineplus">+]</span>
<a href="#l24.29"></a><span id="l24.29" class="difflineplus">+</span>
<a href="#l24.30"></a><span id="l24.30" class="difflineplus">+if CONFIG['OS_ARCH'] == 'WINNT':</span>
<a href="#l24.31"></a><span id="l24.31" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l24.32"></a><span id="l24.32" class="difflineplus">+        'xpcomglue_staticruntime_s',</span>
<a href="#l24.33"></a><span id="l24.33" class="difflineplus">+    ]</span>
<a href="#l24.34"></a><span id="l24.34" class="difflineplus">+else:</span>
<a href="#l24.35"></a><span id="l24.35" class="difflineplus">+    USE_LIBS += [</span>
<a href="#l24.36"></a><span id="l24.36" class="difflineplus">+        'xpcomglue_s',</span>
<a href="#l24.37"></a><span id="l24.37" class="difflineplus">+    ]</span>
<a href="#l24.38"></a><span id="l24.38" class="difflineplus">+</span>
<a href="#l24.39"></a><span id="l24.39" class="difflineplus">+# js needs to come after xul for now, because it is an archive and its content</span>
<a href="#l24.40"></a><span id="l24.40" class="difflineplus">+# is discarded when it comes first.</span>
<a href="#l24.41"></a><span id="l24.41" class="difflineplus">+USE_LIBS += [</span>
<a href="#l24.42"></a><span id="l24.42" class="difflineplus">+    'js',</span>
<a href="#l24.43"></a><span id="l24.43" class="difflineplus">+]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/suite/profile/Makefile.in</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/suite/profile/Makefile.in</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -4,14 +4,14 @@</span>
<a href="#l25.4"></a><span id="l25.4"> </span>
<a href="#l25.5"></a><span id="l25.5"> DEPTH		= @DEPTH@</span>
<a href="#l25.6"></a><span id="l25.6"> topsrcdir	= @top_srcdir@</span>
<a href="#l25.7"></a><span id="l25.7"> srcdir		= @srcdir@</span>
<a href="#l25.8"></a><span id="l25.8"> VPATH		= @srcdir@</span>
<a href="#l25.9"></a><span id="l25.9"> </span>
<a href="#l25.10"></a><span id="l25.10"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l25.11"></a><span id="l25.11"> </span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-EXTRA_DSO_LDOPTS = $(MOZ_COMPONENT_LIBS)</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+EXTRA_LIBS += $(NSPR_LIBS)</span>
<a href="#l25.14"></a><span id="l25.14"> </span>
<a href="#l25.15"></a><span id="l25.15"> USE_STATIC_LIBS = 1</span>
<a href="#l25.16"></a><span id="l25.16"> </span>
<a href="#l25.17"></a><span id="l25.17"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l25.18"></a><span id="l25.18"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/suite/profile/moz.build</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/suite/profile/moz.build</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -10,8 +10,13 @@ PARALLEL_DIRS += [</span>
<a href="#l26.4"></a><span id="l26.4"> </span>
<a href="#l26.5"></a><span id="l26.5"> SOURCES += [</span>
<a href="#l26.6"></a><span id="l26.6">     'nsSuiteDirectoryProvider.cpp',</span>
<a href="#l26.7"></a><span id="l26.7"> ]</span>
<a href="#l26.8"></a><span id="l26.8"> </span>
<a href="#l26.9"></a><span id="l26.9"> FINAL_LIBRARY = 'suite'</span>
<a href="#l26.10"></a><span id="l26.10"> </span>
<a href="#l26.11"></a><span id="l26.11"> JAR_MANIFESTS += ['jar.mn']</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineplus">+</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+USE_LIBS += [</span>
<a href="#l26.14"></a><span id="l26.14" class="difflineplus">+    'mozalloc',</span>
<a href="#l26.15"></a><span id="l26.15" class="difflineplus">+    'xul',</span>
<a href="#l26.16"></a><span id="l26.16" class="difflineplus">+]</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

