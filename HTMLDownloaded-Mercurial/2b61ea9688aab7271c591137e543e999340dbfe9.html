<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 26936:2b61ea9688aab7271c591137e543e999340dbfe9</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 2b61ea9688aab7271c591137e543e999340dbfe9" />
<meta property="og:url" content="/comm-central/rev/2b61ea9688aab7271c591137e543e999340dbfe9" />
<meta property="og:description" content="Bug 1096006 - Migrate the Account Manager from a standalone window to a pane in the Preferences tab. r=aceman,darktrojan; ui-r=Paenglab" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 2b61ea9688aab7271c591137e543e999340dbfe9 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/2b61ea9688aab7271c591137e543e999340dbfe9">shortlog</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/2b61ea9688aab7271c591137e543e999340dbfe9">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9">files</a> |
changeset |
<a href="/comm-central/raw-rev/2b61ea9688aab7271c591137e543e999340dbfe9">raw</a>  | <a href="/comm-central/archive/2b61ea9688aab7271c591137e543e999340dbfe9.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1096006">Bug 1096006</a> - Migrate the Account Manager from a standalone window to a pane in the Preferences tab. r=aceman,darktrojan; ui-r=Paenglab
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#105;&#99;&#104;&#97;&#114;&#100;&#32;&#77;&#97;&#114;&#116;&#105;&#32;&#60;&#114;&#105;&#99;&#104;&#97;&#114;&#100;&#46;&#109;&#97;&#114;&#116;&#105;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;&#44;&#32;&#71;&#101;&#111;&#102;&#102;&#32;&#76;&#97;&#110;&#107;&#111;&#119;&#32;&#60;&#103;&#101;&#111;&#102;&#102;&#64;&#100;&#97;&#114;&#107;&#116;&#114;&#111;&#106;&#97;&#110;&#46;&#110;&#101;&#116;&#62;&#44;&#32;&#97;&#99;&#101;&#109;&#97;&#110;&#32;&#60;&#97;&#99;&#101;&#108;&#105;&#115;&#116;&#115;&#64;&#97;&#116;&#108;&#97;&#115;&#46;&#115;&#107;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 20 Jun 2019 07:13:39 +0200</td></tr>

<tr>
 <td>changeset 26936</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/2b61ea9688aab7271c591137e543e999340dbfe9">2b61ea9688aab7271c591137e543e999340dbfe9</a></td>
</tr>



<tr>
<td>parent 26935</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/d2122e452112c2c87573d4a27e670be6076302b0">d2122e452112c2c87573d4a27e670be6076302b0</a>
</td>
</tr>

<tr>
<td>child 26937</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/b9e0333084838171ff9adb08398e14842e131244">b9e0333084838171ff9adb08398e14842e131244</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=2b61ea9688aab7271c591137e543e999340dbfe9">16073</a></td></tr>
<tr><td>push user</td><td>acelists@atlas.sk</td></tr>
<tr><td>push date</td><td class="date age">Thu, 20 Jun 2019 05:14:29 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@b9e033308483 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b9e0333084838171ff9adb08398e14842e131244">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b9e0333084838171ff9adb08398e14842e131244&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b9e0333084838171ff9adb08398e14842e131244&newProject=comm-central&newRevision=2b61ea9688aab7271c591137e543e999340dbfe9&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b9e0333084838171ff9adb08398e14842e131244&newProject=comm-central&newRevision=2b61ea9688aab7271c591137e543e999340dbfe9&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b9e0333084838171ff9adb08398e14842e131244&newProject=comm-central&newRevision=2b61ea9688aab7271c591137e543e999340dbfe9&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28aceman%29&revcount=50">aceman</a>, <a href="/comm-central/log?rev=reviewer%28darktrojan%29&revcount=50">darktrojan</a>, <a href="/comm-central/log?rev=reviewer%28Paenglab%29&revcount=50">Paenglab</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1096006">1096006</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1096006">Bug 1096006</a> - Migrate the Account Manager from a standalone window to a pane in the Preferences tab. r=aceman,darktrojan; ui-r=Paenglab</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.js">mail/components/accountcreation/content/emailWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.xul">mail/components/accountcreation/content/emailWizard.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/accountcreation/content/emailWizard.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/am-im.xul">mail/components/im/content/am-im.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/am-im.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/am-im.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/am-im.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/am-im.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/am-im.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.js">mail/components/im/content/imAccounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.xul">mail/components/im/content/imAccounts.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/im/content/imAccounts.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.js">mail/components/newmailaccount/content/accountProvisioner.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.xhtml">mail/components/newmailaccount/content/accountProvisioner.xhtml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.xhtml">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.xhtml">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.xhtml">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.xhtml">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/newmailaccount/content/accountProvisioner.xhtml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/aboutPreferences.xul">mail/components/preferences/aboutPreferences.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/aboutPreferences.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/aboutPreferences.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/aboutPreferences.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/aboutPreferences.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/aboutPreferences.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.inc.xul">mail/components/preferences/accounts.inc.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.inc.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.inc.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.inc.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.inc.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.inc.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.js">mail/components/preferences/accounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/accounts.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/advanced.inc.xul">mail/components/preferences/advanced.inc.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/advanced.inc.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/advanced.inc.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/advanced.inc.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/advanced.inc.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/advanced.inc.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/doctype.inc.xul">mail/components/preferences/doctype.inc.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/doctype.inc.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/doctype.inc.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/doctype.inc.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/doctype.inc.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/doctype.inc.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/jar.mn">mail/components/preferences/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/jar.mn">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/jar.mn">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/jar.mn">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/jar.mn">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferences.js">mail/components/preferences/preferences.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferences.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferences.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferences.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferences.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferences.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferencesTab.js">mail/components/preferences/preferencesTab.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferencesTab.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferencesTab.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferencesTab.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferencesTab.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/components/preferences/preferencesTab.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/AccountManager.dtd">mail/locales/en-US/chrome/messenger/AccountManager.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/AccountManager.dtd">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/AccountManager.dtd">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/AccountManager.dtd">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/AccountManager.dtd">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/AccountManager.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/preferences/preferences.dtd">mail/locales/en-US/chrome/messenger/preferences/preferences.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/preferences/preferences.dtd">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/preferences/preferences.dtd">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/preferences/preferences.dtd">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/preferences/preferences.dtd">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/locales/en-US/chrome/messenger/preferences/preferences.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/accountManage.css">mail/themes/linux/mail/accountManage.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/accountManage.css">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/accountManage.css">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/accountManage.css">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/accountManage.css">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/accountManage.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/preferences/aboutPreferences.css">mail/themes/linux/mail/preferences/aboutPreferences.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/preferences/aboutPreferences.css">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/preferences/aboutPreferences.css">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/preferences/aboutPreferences.css">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/preferences/aboutPreferences.css">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/linux/mail/preferences/aboutPreferences.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/accountManage.css">mail/themes/osx/mail/accountManage.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/accountManage.css">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/accountManage.css">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/accountManage.css">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/accountManage.css">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/accountManage.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/preferences/aboutPreferences.css">mail/themes/osx/mail/preferences/aboutPreferences.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/preferences/aboutPreferences.css">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/preferences/aboutPreferences.css">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/preferences/aboutPreferences.css">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/preferences/aboutPreferences.css">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/osx/mail/preferences/aboutPreferences.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/shared/mail/incontentprefs/aboutPreferences.css">mail/themes/shared/mail/incontentprefs/aboutPreferences.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/shared/mail/incontentprefs/aboutPreferences.css">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/shared/mail/incontentprefs/aboutPreferences.css">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/shared/mail/incontentprefs/aboutPreferences.css">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/shared/mail/incontentprefs/aboutPreferences.css">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/shared/mail/incontentprefs/aboutPreferences.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/accountManage.css">mail/themes/windows/mail/accountManage.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/accountManage.css">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/accountManage.css">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/accountManage.css">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/accountManage.css">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/accountManage.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/messenger.css">mail/themes/windows/mail/messenger.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/messenger.css">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/messenger.css">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/messenger.css">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/messenger.css">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mail/themes/windows/mail/messenger.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.js">mailnews/base/prefs/content/AccountManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.xul">mailnews/base/prefs/content/AccountManager.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountManager.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountWizard.js">mailnews/base/prefs/content/AccountWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountWizard.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountWizard.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountWizard.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountWizard.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/AccountWizard.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/SmtpServerEdit.xul">mailnews/base/prefs/content/SmtpServerEdit.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/SmtpServerEdit.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/SmtpServerEdit.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/SmtpServerEdit.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/SmtpServerEdit.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/SmtpServerEdit.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/accountUtils.js">mailnews/base/prefs/content/accountUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/accountUtils.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/accountUtils.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/accountUtils.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/accountUtils.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/accountUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-addressing.xul">mailnews/base/prefs/content/am-addressing.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-addressing.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-addressing.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-addressing.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-addressing.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-addressing.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-archiveoptions.xul">mailnews/base/prefs/content/am-archiveoptions.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-archiveoptions.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-archiveoptions.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-archiveoptions.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-archiveoptions.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-archiveoptions.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-copies.xul">mailnews/base/prefs/content/am-copies.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-copies.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-copies.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-copies.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-copies.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-copies.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.js">mailnews/base/prefs/content/am-identities-list.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.xul">mailnews/base/prefs/content/am-identities-list.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identities-list.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.js">mailnews/base/prefs/content/am-identity-edit.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.xul">mailnews/base/prefs/content/am-identity-edit.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-identity-edit.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-junk.xul">mailnews/base/prefs/content/am-junk.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-junk.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-junk.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-junk.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-junk.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-junk.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.js">mailnews/base/prefs/content/am-main.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.xul">mailnews/base/prefs/content/am-main.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-main.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.js">mailnews/base/prefs/content/am-offline.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.xul">mailnews/base/prefs/content/am-offline.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-offline.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server-advanced.xul">mailnews/base/prefs/content/am-server-advanced.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server-advanced.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server-advanced.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server-advanced.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server-advanced.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server-advanced.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.js">mailnews/base/prefs/content/am-server.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.xul">mailnews/base/prefs/content/am-server.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-server.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.js">mailnews/base/prefs/content/am-serverwithnoidentities.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.js">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.js">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.js">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.js">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.xul">mailnews/base/prefs/content/am-serverwithnoidentities.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-serverwithnoidentities.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-smtp.xul">mailnews/base/prefs/content/am-smtp.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-smtp.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-smtp.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-smtp.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-smtp.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/base/prefs/content/am-smtp.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/mdn/content/am-mdn.xul">mailnews/extensions/mdn/content/am-mdn.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/mdn/content/am-mdn.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/mdn/content/am-mdn.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/mdn/content/am-mdn.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/mdn/content/am-mdn.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/mdn/content/am-mdn.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/newsblog/content/am-newsblog.xul">mailnews/extensions/newsblog/content/am-newsblog.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/newsblog/content/am-newsblog.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/newsblog/content/am-newsblog.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/newsblog/content/am-newsblog.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/newsblog/content/am-newsblog.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/newsblog/content/am-newsblog.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/smime/content/am-smime.inc.xul">mailnews/extensions/smime/content/am-smime.inc.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/smime/content/am-smime.inc.xul">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/smime/content/am-smime.inc.xul">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/smime/content/am-smime.inc.xul">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/smime/content/am-smime.inc.xul">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/extensions/smime/content/am-smime.inc.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/jar.mn">mailnews/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/jar.mn">file</a> |
<a href="/comm-central/annotate/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/jar.mn">annotate</a> |
<a href="/comm-central/diff/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/jar.mn">diff</a> |
<a href="/comm-central/comparison/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/jar.mn">comparison</a> |
<a href="/comm-central/log/2b61ea9688aab7271c591137e543e999340dbfe9/mailnews/jar.mn">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/components/accountcreation/content/emailWizard.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/components/accountcreation/content/emailWizard.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1549,26 +1549,17 @@ EmailConfigWizard.prototype = {</span>
<a href="#l1.4"></a><span id="l1.4">       alertPrompt(gStringsBundle.getString(&quot;error_creating_account&quot;),</span>
<a href="#l1.5"></a><span id="l1.5">                   gStringsBundle.getString(&quot;incoming_server_exists&quot;));</span>
<a href="#l1.6"></a><span id="l1.6">       return;</span>
<a href="#l1.7"></a><span id="l1.7">     }</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9">     gEmailWizardLogger.info(&quot;creating account in backend&quot;);</span>
<a href="#l1.10"></a><span id="l1.10">     let newAccount = createAccountInBackend(configFilledIn);</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-    let existingAccountManager = Services.wm</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-        .getMostRecentWindow(&quot;mailnews:accountmanager&quot;);</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-    if (existingAccountManager) {</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-      existingAccountManager.focus();</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-    } else {</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-      window.openDialog(&quot;chrome://messenger/content/AccountManager.xul&quot;,</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">-                        &quot;AccountManager&quot;, &quot;chrome,centerscreen,modal,titlebar&quot;,</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-                        { server: newAccount.incomingServer,</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineminus">-                          selectPage: &quot;am-server.xul&quot; });</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineminus">-    }</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineplus">+    MsgAccountManager(&quot;am-server.xul&quot;, newAccount.incomingServer);</span>
<a href="#l1.23"></a><span id="l1.23">     window.close();</span>
<a href="#l1.24"></a><span id="l1.24">   },</span>
<a href="#l1.25"></a><span id="l1.25"> </span>
<a href="#l1.26"></a><span id="l1.26">   /**</span>
<a href="#l1.27"></a><span id="l1.27">    * [Re-test] button click handler.</span>
<a href="#l1.28"></a><span id="l1.28">    * Restarts the config guessing process after a person editing the server</span>
<a href="#l1.29"></a><span id="l1.29">    * fields.</span>
<a href="#l1.30"></a><span id="l1.30">    * It's called &quot;half-manual&quot;, because we take the user-entered values</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/components/accountcreation/content/emailWizard.xul</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/components/accountcreation/content/emailWizard.xul</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -40,17 +40,18 @@</span>
<a href="#l2.4"></a><span id="l2.4">   &lt;script src=&quot;chrome://messenger/content/accountcreation/fetchhttp.js&quot;/&gt;</span>
<a href="#l2.5"></a><span id="l2.5">   &lt;script src=&quot;chrome://messenger/content/accountcreation/readFromXML.js&quot;/&gt;</span>
<a href="#l2.6"></a><span id="l2.6">   &lt;script src=&quot;chrome://messenger/content/accountcreation/guessConfig.js&quot;/&gt;</span>
<a href="#l2.7"></a><span id="l2.7">   &lt;script src=&quot;chrome://messenger/content/accountcreation/verifyConfig.js&quot;/&gt;</span>
<a href="#l2.8"></a><span id="l2.8">   &lt;script src=&quot;chrome://messenger/content/accountcreation/fetchConfig.js&quot;/&gt;</span>
<a href="#l2.9"></a><span id="l2.9">   &lt;script src=&quot;chrome://messenger/content/accountcreation/exchangeAutoDiscover.js&quot;/&gt;</span>
<a href="#l2.10"></a><span id="l2.10">   &lt;script src=&quot;chrome://messenger/content/accountcreation/createInBackend.js&quot;/&gt;</span>
<a href="#l2.11"></a><span id="l2.11">   &lt;script src=&quot;chrome://messenger/content/accountcreation/MyBadCertHandler.js&quot;/&gt;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/accountUtils.js&quot; /&gt;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/accountUtils.js&quot;/&gt;</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+  &lt;script src=&quot;chrome://communicator/content/utilityOverlay.js&quot;/&gt;</span>
<a href="#l2.15"></a><span id="l2.15">   &lt;script src=&quot;chrome://messenger/content/customElements.js&quot;/&gt;</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17">   &lt;keyset id=&quot;mailKeys&quot;&gt;</span>
<a href="#l2.18"></a><span id="l2.18">     &lt;key keycode=&quot;VK_ESCAPE&quot; oncommand=&quot;window.close();&quot;/&gt;</span>
<a href="#l2.19"></a><span id="l2.19">   &lt;/keyset&gt;</span>
<a href="#l2.20"></a><span id="l2.20"> </span>
<a href="#l2.21"></a><span id="l2.21">   &lt;panel id=&quot;insecureserver-cleartext-panel&quot; class=&quot;popup-panel&quot;&gt;</span>
<a href="#l2.22"></a><span id="l2.22">     &lt;hbox&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/components/im/content/am-im.xul</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/components/im/content/am-im.xul</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l3.4"></a><span id="l3.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l3.5"></a><span id="l3.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.6"></a><span id="l3.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.7"></a><span id="l3.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l3.8"></a><span id="l3.8"> </span>
<a href="#l3.9"></a><span id="l3.9" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l3.11"></a><span id="l3.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l3.12"></a><span id="l3.12"> </span>
<a href="#l3.13"></a><span id="l3.13"> &lt;!DOCTYPE window [</span>
<a href="#l3.14"></a><span id="l3.14">   &lt;!ENTITY % imDTD SYSTEM &quot;chrome://messenger/locale/am-im.dtd&quot;&gt;</span>
<a href="#l3.15"></a><span id="l3.15">   &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l3.16"></a><span id="l3.16">   %imDTD;</span>
<a href="#l3.17"></a><span id="l3.17">   %brandDTD;</span>
<a href="#l3.18"></a><span id="l3.18"> ]&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/components/im/content/imAccounts.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/components/im/content/imAccounts.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,16 +1,18 @@</span>
<a href="#l4.4"></a><span id="l4.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.5"></a><span id="l4.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.6"></a><span id="l4.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> // mail/base/content/nsDragAndDrop.js</span>
<a href="#l4.9"></a><span id="l4.9"> /* globals FlavourSet, TransferData, MozElements */</span>
<a href="#l4.10"></a><span id="l4.10"> // imStatusSelector.js</span>
<a href="#l4.11"></a><span id="l4.11"> /* globals statusSelector */</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+// mailnews/base/prefs/content/accountUtils.js</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+/* globals MsgAccountManager */</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15"> var {Services} = ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l4.16"></a><span id="l4.16"> var {fixIterator} = ChromeUtils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l4.17"></a><span id="l4.17"> var {MailServices} = ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l4.18"></a><span id="l4.18"> var {DownloadUtils} = ChromeUtils.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l4.19"></a><span id="l4.19"> ChromeUtils.defineModuleGetter(this, &quot;PluralForm&quot;, &quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l4.20"></a><span id="l4.20"> </span>
<a href="#l4.21"></a><span id="l4.21"> // This is the list of notifications that the account manager window observes</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineat">@@ -305,26 +307,17 @@ var gAccountManager = {</span>
<a href="#l4.23"></a><span id="l4.23">       if (!incomingServer || incomingServer.type != &quot;im&quot;)</span>
<a href="#l4.24"></a><span id="l4.24">         continue;</span>
<a href="#l4.25"></a><span id="l4.25">       if (incomingServer.wrappedJSObject.imAccount.numericId == imAccountId) {</span>
<a href="#l4.26"></a><span id="l4.26">         server = incomingServer;</span>
<a href="#l4.27"></a><span id="l4.27">         break;</span>
<a href="#l4.28"></a><span id="l4.28">       }</span>
<a href="#l4.29"></a><span id="l4.29">     }</span>
<a href="#l4.30"></a><span id="l4.30"> </span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">-    let win = Services.wm.getMostRecentWindow(&quot;mailnews:accountmanager&quot;);</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineminus">-    if (win) {</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineminus">-      win.focus();</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineminus">-      win.selectServer(server);</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">-    } else {</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineminus">-      window.openDialog(&quot;chrome://messenger/content/AccountManager.xul&quot;,</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineminus">-                        &quot;AccountManager&quot;,</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineminus">-                        &quot;chrome,centerscreen,modal,titlebar,resizable&quot;,</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-                        { server, selectPage: null });</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-    }</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineplus">+    MsgAccountManager(null, server);</span>
<a href="#l4.42"></a><span id="l4.42">   },</span>
<a href="#l4.43"></a><span id="l4.43">   autologin() {</span>
<a href="#l4.44"></a><span id="l4.44">     var elt = this.accountList.selectedItem;</span>
<a href="#l4.45"></a><span id="l4.45">     elt.autoLogin = !elt.autoLogin;</span>
<a href="#l4.46"></a><span id="l4.46">   },</span>
<a href="#l4.47"></a><span id="l4.47">   close() {</span>
<a href="#l4.48"></a><span id="l4.48">     // If a modal dialog is opened, we can't close this window now</span>
<a href="#l4.49"></a><span id="l4.49">     if (this.modalDialog)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/components/im/content/imAccounts.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/components/im/content/imAccounts.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -22,16 +22,18 @@</span>
<a href="#l5.4"></a><span id="l5.4">         xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l5.5"></a><span id="l5.5">         id=&quot;accountManager&quot;</span>
<a href="#l5.6"></a><span id="l5.6">         windowtype=&quot;Messenger:Accounts&quot;</span>
<a href="#l5.7"></a><span id="l5.7">         title=&quot;&amp;accountsWindow.title;&quot;</span>
<a href="#l5.8"></a><span id="l5.8">         style=&quot;&amp;accountsWindow2.style;&quot;</span>
<a href="#l5.9"></a><span id="l5.9">         persist=&quot;width height screenX screenY&quot;&gt;</span>
<a href="#l5.10"></a><span id="l5.10">  &lt;script src=&quot;chrome://messenger/content/chat/imAccounts.js&quot;/&gt;</span>
<a href="#l5.11"></a><span id="l5.11">  &lt;script src=&quot;chrome://messenger/content/chat/imStatusSelector.js&quot;/&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+ &lt;script src=&quot;chrome://messenger/content/accountUtils.js&quot;/&gt;</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+ &lt;script src=&quot;chrome://communicator/content/utilityOverlay.js&quot;/&gt;</span>
<a href="#l5.14"></a><span id="l5.14">  &lt;script src=&quot;chrome://global/content/nsDragAndDrop.js&quot; /&gt;</span>
<a href="#l5.15"></a><span id="l5.15">  &lt;script src=&quot;chrome://global/content/nsTransferable.js&quot; /&gt;</span>
<a href="#l5.16"></a><span id="l5.16">  &lt;script src=&quot;chrome://chat/content/chat-account-richlistitem.js&quot; /&gt;</span>
<a href="#l5.17"></a><span id="l5.17">  &lt;stringbundle id=&quot;accountsBundle&quot; src=&quot;chrome://messenger/locale/imAccounts.properties&quot;/&gt;</span>
<a href="#l5.18"></a><span id="l5.18"> </span>
<a href="#l5.19"></a><span id="l5.19">  &lt;linkset&gt;</span>
<a href="#l5.20"></a><span id="l5.20">    &lt;html:link rel=&quot;localization&quot; href=&quot;security/certificates/certManager.ftl&quot;/&gt;</span>
<a href="#l5.21"></a><span id="l5.21">  &lt;/linkset&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/components/newmailaccount/content/accountProvisioner.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/components/newmailaccount/content/accountProvisioner.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1,12 +1,15 @@</span>
<a href="#l6.4"></a><span id="l6.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.5"></a><span id="l6.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.6"></a><span id="l6.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8" class="difflineplus">+// mailnews/base/prefs/content/accountUtils.js</span>
<a href="#l6.9"></a><span id="l6.9" class="difflineplus">+/* globals MsgAccountManager */</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineplus">+</span>
<a href="#l6.11"></a><span id="l6.11"> var {AppConstants} = ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l6.12"></a><span id="l6.12"> var {Services} = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l6.13"></a><span id="l6.13"> var {XPCOMUtils} = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l6.14"></a><span id="l6.14"> var {PluralForm} = ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l6.15"></a><span id="l6.15"> var {StringBundle} = ChromeUtils.import(&quot;resource:///modules/StringBundle.js&quot;);</span>
<a href="#l6.16"></a><span id="l6.16"> var {MailServices} = ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l6.17"></a><span id="l6.17"> var { Log4Moz } = ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l6.18"></a><span id="l6.18"> </span>
<a href="#l6.19"></a><span id="l6.19" class="difflineat">@@ -187,25 +190,17 @@ var EmailAccountProvisioner = {</span>
<a href="#l6.20"></a><span id="l6.20">                                              account.defaultIdentity, null);</span>
<a href="#l6.21"></a><span id="l6.21">     });</span>
<a href="#l6.22"></a><span id="l6.22"> </span>
<a href="#l6.23"></a><span id="l6.23">     document.getElementById(&quot;success-addons&quot;).addEventListener(&quot;click&quot;, function() {</span>
<a href="#l6.24"></a><span id="l6.24">       EmailAccountProvisioner.openAddonsMgr();</span>
<a href="#l6.25"></a><span id="l6.25">     });</span>
<a href="#l6.26"></a><span id="l6.26"> </span>
<a href="#l6.27"></a><span id="l6.27">     document.getElementById(&quot;success-signature&quot;).addEventListener(&quot;click&quot;, function() {</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineminus">-      var existingAccountManager =</span>
<a href="#l6.29"></a><span id="l6.29" class="difflineminus">-        Services.wm.getMostRecentWindow(&quot;mailnews:accountmanager&quot;);</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineminus">-</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-      if (existingAccountManager)</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineminus">-        existingAccountManager.focus();</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineminus">-      else</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-        window.openDialog(&quot;chrome://messenger/content/AccountManager.xul&quot;,</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineminus">-                          &quot;AccountManager&quot;, &quot;chrome,centerscreen,modal,titlebar&quot;,</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineminus">-                          {server: account.incomingServer});</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineplus">+      MsgAccountManager(null, account.incomingServer);</span>
<a href="#l6.38"></a><span id="l6.38">     });</span>
<a href="#l6.39"></a><span id="l6.39"> </span>
<a href="#l6.40"></a><span id="l6.40">     document.getElementById(&quot;window&quot;).style.display = &quot;none&quot;;</span>
<a href="#l6.41"></a><span id="l6.41">     document.getElementById(&quot;successful_account&quot;).style.display = &quot;block&quot;;</span>
<a href="#l6.42"></a><span id="l6.42">   },</span>
<a href="#l6.43"></a><span id="l6.43"> </span>
<a href="#l6.44"></a><span id="l6.44">   /**</span>
<a href="#l6.45"></a><span id="l6.45">    * Save the name inputted in the search field to localstorage, so we can</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/components/newmailaccount/content/accountProvisioner.xhtml</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/components/newmailaccount/content/accountProvisioner.xhtml</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -17,30 +17,24 @@</span>
<a href="#l7.4"></a><span id="l7.4">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l7.5"></a><span id="l7.5"> </span>
<a href="#l7.6"></a><span id="l7.6">   &lt;title&gt;&amp;window.title;&lt;/title&gt;</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8">   &lt;link rel=&quot;stylesheet&quot;</span>
<a href="#l7.9"></a><span id="l7.9">         type=&quot;text/css&quot;</span>
<a href="#l7.10"></a><span id="l7.10">         href=&quot;chrome://messenger/skin/newmailaccount/accountProvisioner.css&quot; /&gt;</span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/accountcreation/util.js&quot;&gt;</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-  &lt;/script&gt;</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/accountcreation/accountConfig.js&quot;&gt;</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-  &lt;/script&gt;</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/accountcreation/sanitizeDatatypes.js&quot;&gt;</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-  &lt;/script&gt;</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/accountcreation/readFromXML.js&quot;&gt;</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineminus">-  &lt;/script&gt;</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/accountcreation/createInBackend.js&quot;&gt;</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineminus">-  &lt;/script&gt;</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineminus">-  &lt;script src=&quot;chrome://communicator/content/utilityOverlay.js&quot;&gt;</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineminus">-  &lt;/script&gt;</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/newmailaccount/accountProvisioner.js&quot;&gt;</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineminus">-  &lt;/script&gt;</span>
<a href="#l7.26"></a><span id="l7.26" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/accountcreation/util.js&quot;/&gt;</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/accountcreation/accountConfig.js&quot;/&gt;</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/accountcreation/sanitizeDatatypes.js&quot;/&gt;</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/accountcreation/readFromXML.js&quot;/&gt;</span>
<a href="#l7.30"></a><span id="l7.30" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/accountcreation/createInBackend.js&quot;/&gt;</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineplus">+  &lt;script src=&quot;chrome://communicator/content/utilityOverlay.js&quot;/&gt;</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/accountUtils.js&quot;/&gt;</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/newmailaccount/accountProvisioner.js&quot;/&gt;</span>
<a href="#l7.34"></a><span id="l7.34"> &lt;/head&gt;</span>
<a href="#l7.35"></a><span id="l7.35"> &lt;body dir=&quot;&amp;locale.dir;&quot;&gt;</span>
<a href="#l7.36"></a><span id="l7.36">   &lt;div id=&quot;window&quot; class=&quot;vbox&quot;&gt;</span>
<a href="#l7.37"></a><span id="l7.37"> </span>
<a href="#l7.38"></a><span id="l7.38">     &lt;div id=&quot;content&quot; class=&quot;boxFlex vbox&quot;&gt;</span>
<a href="#l7.39"></a><span id="l7.39"> </span>
<a href="#l7.40"></a><span id="l7.40">       &lt;div id=&quot;upper&quot; class=&quot;contentPadded&quot;&gt;</span>
<a href="#l7.41"></a><span id="l7.41">         &lt;div class=&quot;header&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/components/preferences/aboutPreferences.xul</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/components/preferences/aboutPreferences.xul</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l8.4"></a><span id="l8.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l8.5"></a><span id="l8.5"> # -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l8.6"></a><span id="l8.6"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.7"></a><span id="l8.7"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.8"></a><span id="l8.8"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l8.9"></a><span id="l8.9"> </span>
<a href="#l8.10"></a><span id="l8.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://global/skin/global.css&quot;?&gt;</span>
<a href="#l8.11"></a><span id="l8.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/messenger.css&quot;?&gt;</span>
<a href="#l8.12"></a><span id="l8.12"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/preferences/handlers.css&quot;?&gt;</span>
<a href="#l8.13"></a><span id="l8.13"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/filefield.css&quot;?&gt;</span>
<a href="#l8.14"></a><span id="l8.14"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/applications.css&quot;?&gt;</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot;?&gt;</span>
<a href="#l8.16"></a><span id="l8.16"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l8.17"></a><span id="l8.17"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/in-content/common.css&quot;?&gt;</span>
<a href="#l8.18"></a><span id="l8.18"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/aboutPreferences.css&quot;?&gt;</span>
<a href="#l8.19"></a><span id="l8.19"> </span>
<a href="#l8.20"></a><span id="l8.20"> #include doctype.inc.xul</span>
<a href="#l8.21"></a><span id="l8.21"> </span>
<a href="#l8.22"></a><span id="l8.22"> &lt;preftab id=&quot;MailPreferences&quot; flex=&quot;1&quot;</span>
<a href="#l8.23"></a><span id="l8.23">          windowtype=&quot;Mail:Preferences&quot;</span>
<a href="#l8.24"></a><span id="l8.24" class="difflineat">@@ -67,16 +67,17 @@</span>
<a href="#l8.25"></a><span id="l8.25"> #include display.inc.xul</span>
<a href="#l8.26"></a><span id="l8.26"> #include compose.inc.xul</span>
<a href="#l8.27"></a><span id="l8.27"> #include chat.inc.xul</span>
<a href="#l8.28"></a><span id="l8.28"> #include privacy.inc.xul</span>
<a href="#l8.29"></a><span id="l8.29"> #include security.inc.xul</span>
<a href="#l8.30"></a><span id="l8.30"> #include applications.inc.xul</span>
<a href="#l8.31"></a><span id="l8.31">             &lt;prefpane id=&quot;paneLightning&quot; label=&quot;&amp;paneLightning.title;&quot;/&gt;</span>
<a href="#l8.32"></a><span id="l8.32"> #include advanced.inc.xul</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineplus">+#include accounts.inc.xul</span>
<a href="#l8.34"></a><span id="l8.34">           &lt;/hbox&gt;</span>
<a href="#l8.35"></a><span id="l8.35">         &lt;/hbox&gt;</span>
<a href="#l8.36"></a><span id="l8.36">       &lt;/hbox&gt;</span>
<a href="#l8.37"></a><span id="l8.37">     &lt;/hbox&gt;</span>
<a href="#l8.38"></a><span id="l8.38">     &lt;stack id=&quot;dialogStack&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l8.39"></a><span id="l8.39">     &lt;vbox id=&quot;dialogTemplate&quot;</span>
<a href="#l8.40"></a><span id="l8.40">           class=&quot;dialogOverlay&quot;</span>
<a href="#l8.41"></a><span id="l8.41">           align=&quot;center&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1">new file mode 100644</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineminus">--- /dev/null</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineplus">+++ b/mail/components/preferences/accounts.inc.xul</span>
<a href="#l9.4"></a><span id="l9.4" class="difflineat">@@ -0,0 +1,68 @@</span>
<a href="#l9.5"></a><span id="l9.5" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.6"></a><span id="l9.6" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.7"></a><span id="l9.7" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l9.8"></a><span id="l9.8" class="difflineplus">+</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineplus">+  &lt;prefpane id=&quot;paneAccount&quot; label=&quot;&amp;paneAccount.title;&quot;&gt;</span>
<a href="#l9.10"></a><span id="l9.10" class="difflineplus">+    &lt;script src=&quot;chrome://messenger/content/AccountManager.js&quot;/&gt;</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineplus">+    &lt;script src=&quot;chrome://messenger/content/am-prefs.js&quot;/&gt;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+    &lt;script src=&quot;chrome://messenger/content/accountUtils.js&quot;/&gt;</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+    &lt;script src=&quot;chrome://messenger/content/amUtils.js&quot;/&gt;</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+    &lt;script src=&quot;chrome://messenger/content/preferences/accounts.js&quot;/&gt;</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+    &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+    &lt;stringbundle id=&quot;bundle_prefs&quot; src=&quot;chrome://messenger/locale/prefs.properties&quot;/&gt;</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineplus">+    &lt;hbox flex=&quot;1&quot; id=&quot;accountManager&quot;&gt;</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+      &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineplus">+        &lt;tree flex=&quot;1&quot; onselect=&quot;onAccountTreeSelect(null, null);&quot; id=&quot;accounttree&quot;</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+              seltype=&quot;single&quot; hidecolumnpicker=&quot;true&quot;&gt;</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineplus">+          &lt;treecols&gt;</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineplus">+            &lt;treecol id=&quot;AccountCol&quot; flex=&quot;1&quot; primary=&quot;true&quot; hideheader=&quot;true&quot;/&gt;</span>
<a href="#l9.25"></a><span id="l9.25" class="difflineplus">+          &lt;/treecols&gt;</span>
<a href="#l9.26"></a><span id="l9.26" class="difflineplus">+          &lt;treechildren id=&quot;account-tree-children&quot;/&gt;</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineplus">+        &lt;/tree&gt;</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineplus">+</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineplus">+        &lt;button id=&quot;accountActionsButton&quot; type=&quot;menu&quot;</span>
<a href="#l9.30"></a><span id="l9.30" class="difflineplus">+                label=&quot;&amp;accountActionsButton.label;&quot;</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineplus">+                accesskey=&quot;&amp;accountActionsButton.accesskey;&quot;&gt;</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+          &lt;menupopup id=&quot;accountActionsDropdown&quot;</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+                     onpopupshowing=&quot;initAccountActionsButtons(this);&quot;&gt;</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+            &lt;menuitem id=&quot;accountActionsAddMailAccount&quot;</span>
<a href="#l9.35"></a><span id="l9.35" class="difflineplus">+                      label=&quot;&amp;addMailAccountButton.label;&quot;</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineplus">+                      accesskey=&quot;&amp;addMailAccountButton.accesskey;&quot;</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineplus">+                      prefstring=&quot;mail.disable_new_account_addition&quot;</span>
<a href="#l9.38"></a><span id="l9.38" class="difflineplus">+                      oncommand=&quot;AddMailAccount(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l9.39"></a><span id="l9.39" class="difflineplus">+            &lt;menuitem id=&quot;accountActionsAddIMAccount&quot;</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineplus">+                      label=&quot;&amp;addIMAccountButton.label;&quot;</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineplus">+                      accesskey=&quot;&amp;addIMAccountButton.accesskey;&quot;</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineplus">+                      prefstring=&quot;mail.disable_new_account_addition&quot;</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineplus">+                      oncommand=&quot;AddIMAccount(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineplus">+            &lt;menuitem id=&quot;accountActionsAddFeedAccount&quot;</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineplus">+                      label=&quot;&amp;addFeedAccountButton.label;&quot;</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineplus">+                      accesskey=&quot;&amp;addFeedAccountButton.accesskey;&quot;</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineplus">+                      prefstring=&quot;mail.disable_new_account_addition&quot;</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineplus">+                      oncommand=&quot;AddFeedAccount(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineplus">+            &lt;menuitem id=&quot;accountActionsAddOtherAccount&quot;</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineplus">+                      label=&quot;&amp;addOtherAccountButton.label;&quot;</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineplus">+                      accesskey=&quot;&amp;addOtherAccountButton.accesskey;&quot;</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineplus">+                      prefstring=&quot;mail.disable_new_account_addition&quot;</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+                      oncommand=&quot;onAddAccount(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineplus">+            &lt;menuseparator id=&quot;accountActionsDropdownSep1&quot;/&gt;</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineplus">+            &lt;menuitem id=&quot;accountActionsDropdownSetDefault&quot;</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineplus">+                      label=&quot;&amp;setDefaultButton.label;&quot;</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineplus">+                      accesskey=&quot;&amp;setDefaultButton.accesskey;&quot;</span>
<a href="#l9.58"></a><span id="l9.58" class="difflineplus">+                      prefstring=&quot;mail.disable_button.set_default_account&quot;</span>
<a href="#l9.59"></a><span id="l9.59" class="difflineplus">+                      oncommand=&quot;onSetDefault(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l9.60"></a><span id="l9.60" class="difflineplus">+            &lt;menuitem id=&quot;accountActionsDropdownRemove&quot;</span>
<a href="#l9.61"></a><span id="l9.61" class="difflineplus">+                      label=&quot;&amp;removeButton.label;&quot;</span>
<a href="#l9.62"></a><span id="l9.62" class="difflineplus">+                      accesskey=&quot;&amp;removeButton.accesskey;&quot;</span>
<a href="#l9.63"></a><span id="l9.63" class="difflineplus">+                      prefstring=&quot;mail.disable_button.delete_account&quot;</span>
<a href="#l9.64"></a><span id="l9.64" class="difflineplus">+                      oncommand=&quot;onRemoveAccount(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineplus">+          &lt;/menupopup&gt;</span>
<a href="#l9.66"></a><span id="l9.66" class="difflineplus">+        &lt;/button&gt;</span>
<a href="#l9.67"></a><span id="l9.67" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l9.68"></a><span id="l9.68" class="difflineplus">+      &lt;vbox flex=&quot;5&quot;&gt;</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineplus">+        &lt;iframe id=&quot;contentFrame&quot; name=&quot;contentFrame&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l9.70"></a><span id="l9.70" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineplus">+  &lt;/prefpane&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1">new file mode 100644</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineminus">--- /dev/null</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineplus">+++ b/mail/components/preferences/accounts.js</span>
<a href="#l10.4"></a><span id="l10.4" class="difflineat">@@ -0,0 +1,30 @@</span>
<a href="#l10.5"></a><span id="l10.5" class="difflineplus">+/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l10.6"></a><span id="l10.6" class="difflineplus">+ * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.7"></a><span id="l10.7" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.8"></a><span id="l10.8" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.9"></a><span id="l10.9" class="difflineplus">+</span>
<a href="#l10.10"></a><span id="l10.10" class="difflineplus">+&quot;use strict&quot;;</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineplus">+</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+/* import-globals-from ../../../mailnews/base/prefs/content/AccountManager.js */</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+var gAccountsPane = {</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineplus">+  paneSelectionChanged(event) {</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineplus">+    if (event.detail.newPane == &quot;paneAccount&quot;) {</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineplus">+      if (!document.getElementById(&quot;account-tree-children&quot;).hasChildNodes()) {</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineplus">+        // Only load the account tree when the pane is first shown.</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineplus">+        onLoad();</span>
<a href="#l10.20"></a><span id="l10.20" class="difflineplus">+      }</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineplus">+    }</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineplus">+    if (event.detail.oldPane == &quot;paneAccount&quot;) {</span>
<a href="#l10.23"></a><span id="l10.23" class="difflineplus">+      onAccept(false);</span>
<a href="#l10.24"></a><span id="l10.24" class="difflineplus">+    }</span>
<a href="#l10.25"></a><span id="l10.25" class="difflineplus">+  },</span>
<a href="#l10.26"></a><span id="l10.26" class="difflineplus">+</span>
<a href="#l10.27"></a><span id="l10.27" class="difflineplus">+  unload() {</span>
<a href="#l10.28"></a><span id="l10.28" class="difflineplus">+    onAccept(false);</span>
<a href="#l10.29"></a><span id="l10.29" class="difflineplus">+    onUnload();</span>
<a href="#l10.30"></a><span id="l10.30" class="difflineplus">+  },</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineplus">+};</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+</span>
<a href="#l10.33"></a><span id="l10.33" class="difflineplus">+window.addEventListener(&quot;paneSelected&quot;, gAccountsPane.paneSelectionChanged);</span>
<a href="#l10.34"></a><span id="l10.34" class="difflineplus">+window.addEventListener(&quot;unload&quot;, () =&gt; gAccountsPane.unload());</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/components/preferences/advanced.inc.xul</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/components/preferences/advanced.inc.xul</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -449,10 +449,9 @@</span>
<a href="#l11.4"></a><span id="l11.4">                     label=&quot;&amp;viewSecurityDevices.label;&quot;</span>
<a href="#l11.5"></a><span id="l11.5">                     accesskey=&quot;&amp;viewSecurityDevices.accesskey;&quot;</span>
<a href="#l11.6"></a><span id="l11.6">                     oncommand=&quot;gAdvancedPane.showSecurityDevices();&quot;</span>
<a href="#l11.7"></a><span id="l11.7">                     preference=&quot;security.disable_button.openDeviceManager&quot;/&gt;</span>
<a href="#l11.8"></a><span id="l11.8">           &lt;/hbox&gt;</span>
<a href="#l11.9"></a><span id="l11.9">         &lt;/tabpanel&gt;</span>
<a href="#l11.10"></a><span id="l11.10">       &lt;/tabpanels&gt;</span>
<a href="#l11.11"></a><span id="l11.11">     &lt;/tabbox&gt;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-    &lt;separator/&gt;</span>
<a href="#l11.13"></a><span id="l11.13">   &lt;/prefpane&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/components/preferences/doctype.inc.xul</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/components/preferences/doctype.inc.xul</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -36,9 +36,11 @@</span>
<a href="#l12.4"></a><span id="l12.4"> &lt;!ENTITY % searchIntegrationDefaultDTD SYSTEM &quot;chrome://messenger/locale/searchIntegrationDefault.dtd&quot; &gt;</span>
<a href="#l12.5"></a><span id="l12.5"> %searchIntegrationDefaultDTD;</span>
<a href="#l12.6"></a><span id="l12.6"> #endif</span>
<a href="#l12.7"></a><span id="l12.7"> #endif</span>
<a href="#l12.8"></a><span id="l12.8"> #ifdef MOZ_UPDATER</span>
<a href="#l12.9"></a><span id="l12.9"> &lt;!ENTITY % aboutDialogDTD SYSTEM &quot;chrome://messenger/locale/aboutDialog.dtd&quot; &gt;</span>
<a href="#l12.10"></a><span id="l12.10"> %aboutDialogDTD;</span>
<a href="#l12.11"></a><span id="l12.11"> #endif</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+&lt;!ENTITY % accountDTD SYSTEM &quot;chrome://messenger/locale/AccountManager.dtd&quot;&gt;</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+%accountDTD;</span>
<a href="#l12.14"></a><span id="l12.14"> ]&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/components/preferences/jar.mn</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/components/preferences/jar.mn</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -6,16 +6,17 @@ messenger.jar:</span>
<a href="#l13.4"></a><span id="l13.4"> *   content/messenger/preferences/aboutPreferences.xul</span>
<a href="#l13.5"></a><span id="l13.5">     content/messenger/preferences/preferences.js</span>
<a href="#l13.6"></a><span id="l13.6">     content/messenger/preferences/preferencesTab.js</span>
<a href="#l13.7"></a><span id="l13.7">     content/messenger/preferences/general.js</span>
<a href="#l13.8"></a><span id="l13.8"> #ifdef XP_MACOSX</span>
<a href="#l13.9"></a><span id="l13.9">     content/messenger/preferences/dockoptions.js</span>
<a href="#l13.10"></a><span id="l13.10">     content/messenger/preferences/dockoptions.xul</span>
<a href="#l13.11"></a><span id="l13.11"> #endif</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+    content/messenger/preferences/accounts.js</span>
<a href="#l13.13"></a><span id="l13.13">     content/messenger/preferences/display.js</span>
<a href="#l13.14"></a><span id="l13.14">     content/messenger/preferences/chat.js</span>
<a href="#l13.15"></a><span id="l13.15">     content/messenger/preferences/messagestyle.js</span>
<a href="#l13.16"></a><span id="l13.16">     content/messenger/preferences/messengerLanguages.js</span>
<a href="#l13.17"></a><span id="l13.17">     content/messenger/preferences/messengerLanguages.xul</span>
<a href="#l13.18"></a><span id="l13.18">     content/messenger/preferences/colors.js</span>
<a href="#l13.19"></a><span id="l13.19"> *   content/messenger/preferences/colors.xul</span>
<a href="#l13.20"></a><span id="l13.20">     content/messenger/preferences/compose.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mail/components/preferences/preferences.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mail/components/preferences/preferences.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -87,17 +87,21 @@ function showPane(paneID) {</span>
<a href="#l14.4"></a><span id="l14.4">     if (currentlySelected == pane) {</span>
<a href="#l14.5"></a><span id="l14.5">       return;</span>
<a href="#l14.6"></a><span id="l14.6">     }</span>
<a href="#l14.7"></a><span id="l14.7">     currentlySelected.removeAttribute(&quot;selected&quot;);</span>
<a href="#l14.8"></a><span id="l14.8">   }</span>
<a href="#l14.9"></a><span id="l14.9"> </span>
<a href="#l14.10"></a><span id="l14.10">   selector.value = paneID;</span>
<a href="#l14.11"></a><span id="l14.11">   pane.setAttribute(&quot;selected&quot;, &quot;true&quot;);</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-  pane.dispatchEvent(new CustomEvent(&quot;paneSelected&quot;, { bubbles: true }));</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+  pane.dispatchEvent(new CustomEvent(&quot;paneSelected&quot;,</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+    { bubbles: true,</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+      detail: { oldPane: (currentlySelected ? currentlySelected.id : null),</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+                newPane: paneID },</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineplus">+    }));</span>
<a href="#l14.18"></a><span id="l14.18"> </span>
<a href="#l14.19"></a><span id="l14.19">   document.documentElement.setAttribute(&quot;lastSelected&quot;, paneID);</span>
<a href="#l14.20"></a><span id="l14.20">   Services.xulStore.persist(document.documentElement, &quot;lastSelected&quot;);</span>
<a href="#l14.21"></a><span id="l14.21"> }</span>
<a href="#l14.22"></a><span id="l14.22"> </span>
<a href="#l14.23"></a><span id="l14.23"> /**</span>
<a href="#l14.24"></a><span id="l14.24">  * Selects the specified preferences pane</span>
<a href="#l14.25"></a><span id="l14.25">  *</span>
<a href="#l14.26"></a><span id="l14.26" class="difflineat">@@ -117,25 +121,36 @@ function selectPaneAndTab(prefWindow, pa</span>
<a href="#l14.27"></a><span id="l14.27">     }</span>
<a href="#l14.28"></a><span id="l14.28">   }</span>
<a href="#l14.29"></a><span id="l14.29"> }</span>
<a href="#l14.30"></a><span id="l14.30"> </span>
<a href="#l14.31"></a><span id="l14.31"> /**</span>
<a href="#l14.32"></a><span id="l14.32">  * Select the specified tab</span>
<a href="#l14.33"></a><span id="l14.33">  *</span>
<a href="#l14.34"></a><span id="l14.34">  * @param pane         prefpane to operate on</span>
<a href="#l14.35"></a><span id="l14.35" class="difflineminus">- * @param tabID        ID of tab to select on the prefpane</span>
<a href="#l14.36"></a><span id="l14.36" class="difflineplus">+ * @param tabID        ID of tab to select on the prefpane (or server for AM)</span>
<a href="#l14.37"></a><span id="l14.37">  * @param subdialogID  ID of button to activate, opening a subdialog</span>
<a href="#l14.38"></a><span id="l14.38">  */</span>
<a href="#l14.39"></a><span id="l14.39"> function showTab(pane, tabID, subdialogID) {</span>
<a href="#l14.40"></a><span id="l14.40" class="difflineminus">-  pane.querySelector(&quot;tabbox&quot;).selectedTab = document.getElementById(tabID);</span>
<a href="#l14.41"></a><span id="l14.41" class="difflineminus">-  if (subdialogID) {</span>
<a href="#l14.42"></a><span id="l14.42" class="difflineminus">-    setTimeout(function() {</span>
<a href="#l14.43"></a><span id="l14.43" class="difflineminus">-      document.getElementById(subdialogID).click();</span>
<a href="#l14.44"></a><span id="l14.44" class="difflineminus">-    });</span>
<a href="#l14.45"></a><span id="l14.45" class="difflineplus">+  if (pane.id != &quot;paneAccount&quot;) {</span>
<a href="#l14.46"></a><span id="l14.46" class="difflineplus">+    pane.querySelector(&quot;tabbox&quot;).selectedTab = document.getElementById(tabID);</span>
<a href="#l14.47"></a><span id="l14.47" class="difflineplus">+    if (subdialogID) {</span>
<a href="#l14.48"></a><span id="l14.48" class="difflineplus">+      setTimeout(function() {</span>
<a href="#l14.49"></a><span id="l14.49" class="difflineplus">+        document.getElementById(subdialogID).click();</span>
<a href="#l14.50"></a><span id="l14.50" class="difflineplus">+      });</span>
<a href="#l14.51"></a><span id="l14.51" class="difflineplus">+    }</span>
<a href="#l14.52"></a><span id="l14.52" class="difflineplus">+  } else {</span>
<a href="#l14.53"></a><span id="l14.53" class="difflineplus">+    // For the accounts pane, tabID is the server key, subdialogID is the settings pane.</span>
<a href="#l14.54"></a><span id="l14.54" class="difflineplus">+    let accountTree = document.getElementById(&quot;account-tree-children&quot;);</span>
<a href="#l14.55"></a><span id="l14.55" class="difflineplus">+    if (!accountTree.hasAttribute(&quot;tree-loaded&quot;)) {</span>
<a href="#l14.56"></a><span id="l14.56" class="difflineplus">+      accountTree.addEventListener(&quot;account-tree-loaded&quot;,</span>
<a href="#l14.57"></a><span id="l14.57" class="difflineplus">+        () =&gt; window.selectServerByKey(tabID, subdialogID), {once: true});</span>
<a href="#l14.58"></a><span id="l14.58" class="difflineplus">+    } else {</span>
<a href="#l14.59"></a><span id="l14.59" class="difflineplus">+      window.selectServerByKey(tabID, subdialogID);</span>
<a href="#l14.60"></a><span id="l14.60" class="difflineplus">+    }</span>
<a href="#l14.61"></a><span id="l14.61">   }</span>
<a href="#l14.62"></a><span id="l14.62"> }</span>
<a href="#l14.63"></a><span id="l14.63"> </span>
<a href="#l14.64"></a><span id="l14.64"> /**</span>
<a href="#l14.65"></a><span id="l14.65">  * Get the ID of the current pane.</span>
<a href="#l14.66"></a><span id="l14.66">  */</span>
<a href="#l14.67"></a><span id="l14.67"> function getCurrentPaneID() {</span>
<a href="#l14.68"></a><span id="l14.68">   let currentlySelected = paneDeck.querySelector(&quot;#paneDeck &gt; prefpane[selected]&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/components/preferences/preferencesTab.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/components/preferences/preferencesTab.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -124,20 +124,28 @@ var preferencesTabType = {</span>
<a href="#l15.4"></a><span id="l15.4">     gPrefTab = aTab;</span>
<a href="#l15.5"></a><span id="l15.5">     this.lastBrowserId++;</span>
<a href="#l15.6"></a><span id="l15.6">   },</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8">   persistTab(aTab) {</span>
<a href="#l15.9"></a><span id="l15.9">     if (aTab.browser.currentURI.spec == &quot;about:blank&quot;)</span>
<a href="#l15.10"></a><span id="l15.10">       return null;</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+    let currentPane = aTab.browser.contentWindow.getCurrentPaneID();</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+    let tabId;</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+    if (currentPane == &quot;paneAccount&quot;) {</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineplus">+      let account = aTab.browser.contentWindow.getCurrentAccount();</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineplus">+      tabId = (account ? account.incomingServer.key : null);</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineplus">+    } else {</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineplus">+      tabId = aTab.tabID;</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineplus">+    }</span>
<a href="#l15.20"></a><span id="l15.20">     return {</span>
<a href="#l15.21"></a><span id="l15.21">       tabURI: aTab.url,</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineminus">-      paneID: aTab.paneID,</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineminus">-      tabID: aTab.tabID,</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineplus">+      paneID: currentPane,</span>
<a href="#l15.25"></a><span id="l15.25" class="difflineplus">+      tabID: tabId,</span>
<a href="#l15.26"></a><span id="l15.26">       otherArgs: aTab.otherArgs,</span>
<a href="#l15.27"></a><span id="l15.27">     };</span>
<a href="#l15.28"></a><span id="l15.28">   },</span>
<a href="#l15.29"></a><span id="l15.29"> </span>
<a href="#l15.30"></a><span id="l15.30">   restoreTab(aTabmail, aPersistedState) {</span>
<a href="#l15.31"></a><span id="l15.31">     aTabmail.openTab(&quot;preferencesTab&quot;, {</span>
<a href="#l15.32"></a><span id="l15.32">       contentPage: aPersistedState.tabURI,</span>
<a href="#l15.33"></a><span id="l15.33">       paneID: aPersistedState.paneID,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/AccountManager.dtd</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/AccountManager.dtd</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -15,20 +15,8 @@</span>
<a href="#l16.4"></a><span id="l16.4"> &lt;!ENTITY addFeedAccountButton.label &quot;Add Feed Account…&quot;&gt;</span>
<a href="#l16.5"></a><span id="l16.5"> &lt;!ENTITY addFeedAccountButton.accesskey &quot;F&quot;&gt;</span>
<a href="#l16.6"></a><span id="l16.6"> &lt;!ENTITY addOtherAccountButton.label &quot;Add Other Account…&quot;&gt;</span>
<a href="#l16.7"></a><span id="l16.7"> &lt;!ENTITY addOtherAccountButton.accesskey &quot;O&quot;&gt;</span>
<a href="#l16.8"></a><span id="l16.8"> &lt;!ENTITY setDefaultButton.label &quot;Set as Default&quot;&gt;</span>
<a href="#l16.9"></a><span id="l16.9"> &lt;!ENTITY setDefaultButton.accesskey &quot;D&quot;&gt;</span>
<a href="#l16.10"></a><span id="l16.10"> &lt;!ENTITY removeButton.label &quot;Remove Account&quot;&gt;</span>
<a href="#l16.11"></a><span id="l16.11"> &lt;!ENTITY removeButton.accesskey &quot;R&quot;&gt;</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-&lt;!-- AccountManager.xul --&gt;</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineminus">-&lt;!-- LOCALIZATION NOTE : this is part of an inline-style attribute on the account</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineminus">-     setting dialog, which specifies the width and height in em units of the dialog.</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineminus">-     Localizers ONLY can increase these widths if they are having difficulty getting</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineminus">-     panel content to fit.</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineminus">-     1ch = The width of the &quot;0&quot; (ZERO, U+0030) glyph for the current font.</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineminus">-     1em = The height of the font.</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineminus">-     XUL/FE DEVELOPERS: DO NOT MODIFY THIS VALUE. It represents the correct size of</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineminus">-     this window for en-US. --&gt;</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineminus">-&lt;!ENTITY accountManager.size &quot;width: 105ch; height: 55em;&quot;&gt;</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineminus">-&lt;!ENTITY accountTree.width &quot;width: 32ch;&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/preferences/preferences.dtd</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/preferences/preferences.dtd</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -19,11 +19,8 @@</span>
<a href="#l17.4"></a><span id="l17.4"> &lt;!ENTITY paneAttachments.title    &quot;Attachments&quot;&gt;</span>
<a href="#l17.5"></a><span id="l17.5"> &lt;!ENTITY panePrivacy.title        &quot;Privacy&quot;&gt;</span>
<a href="#l17.6"></a><span id="l17.6"> &lt;!ENTITY paneSecurity.title       &quot;Security&quot;&gt;</span>
<a href="#l17.7"></a><span id="l17.7"> &lt;!ENTITY paneLightning.title      &quot;Calendar&quot;&gt;</span>
<a href="#l17.8"></a><span id="l17.8"> &lt;!ENTITY paneAdvanced.title       &quot;Advanced&quot;&gt;</span>
<a href="#l17.9"></a><span id="l17.9"> &lt;!ENTITY paneAccount.title        &quot;Accounts&quot;&gt;</span>
<a href="#l17.10"></a><span id="l17.10"> </span>
<a href="#l17.11"></a><span id="l17.11"> &lt;!ENTITY addonsButton.label       &quot;Extensions &amp;amp; Themes&quot;&gt;</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineminus">-&lt;!ENTITY okButton.title           &quot;OK&quot;&gt;</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineminus">-&lt;!ENTITY okButton.accesskey       &quot;O&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mail/themes/linux/mail/accountManage.css</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mail/themes/linux/mail/accountManage.css</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -2,20 +2,31 @@</span>
<a href="#l18.4"></a><span id="l18.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l18.5"></a><span id="l18.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l18.6"></a><span id="l18.6"> </span>
<a href="#l18.7"></a><span id="l18.7"> /* ===== accountManage.css ==============================================</span>
<a href="#l18.8"></a><span id="l18.8">   == Styles for the Mail Account Manager.</span>
<a href="#l18.9"></a><span id="l18.9">   ======================================================================= */</span>
<a href="#l18.10"></a><span id="l18.10"> </span>
<a href="#l18.11"></a><span id="l18.11"> @import url(&quot;chrome://messenger/skin/&quot;);</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-@import url(&quot;chrome://messenger/content/bindings.css&quot;);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+@import url(&quot;chrome://global/skin/in-content/common.css&quot;);</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+@import url(&quot;chrome://messenger/skin/preferences/aboutPreferences.css&quot;);</span>
<a href="#l18.15"></a><span id="l18.15"> </span>
<a href="#l18.16"></a><span id="l18.16"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l18.17"></a><span id="l18.17"> </span>
<a href="#l18.18"></a><span id="l18.18" class="difflineplus">+page {</span>
<a href="#l18.19"></a><span id="l18.19" class="difflineplus">+  font-size: 0.95em;</span>
<a href="#l18.20"></a><span id="l18.20" class="difflineplus">+  margin-inline-start: 4px;</span>
<a href="#l18.21"></a><span id="l18.21" class="difflineplus">+}</span>
<a href="#l18.22"></a><span id="l18.22" class="difflineplus">+</span>
<a href="#l18.23"></a><span id="l18.23" class="difflineplus">+page groupbox {</span>
<a href="#l18.24"></a><span id="l18.24" class="difflineplus">+  margin-left: 6px;</span>
<a href="#l18.25"></a><span id="l18.25" class="difflineplus">+  margin-right: 6px;</span>
<a href="#l18.26"></a><span id="l18.26" class="difflineplus">+}</span>
<a href="#l18.27"></a><span id="l18.27" class="difflineplus">+</span>
<a href="#l18.28"></a><span id="l18.28"> /* ::::: account manager :::::: */</span>
<a href="#l18.29"></a><span id="l18.29"> </span>
<a href="#l18.30"></a><span id="l18.30"> .specialFolderPickerGrid {</span>
<a href="#l18.31"></a><span id="l18.31">   margin-inline-start: 20px;</span>
<a href="#l18.32"></a><span id="l18.32"> }</span>
<a href="#l18.33"></a><span id="l18.33"> </span>
<a href="#l18.34"></a><span id="l18.34"> .fccReplyFollowsParent {</span>
<a href="#l18.35"></a><span id="l18.35">   margin-inline-start: 20px;</span>
<a href="#l18.36"></a><span id="l18.36" class="difflineat">@@ -42,53 +53,54 @@ treechildren::-moz-tree-image(folderName</span>
<a href="#l18.37"></a><span id="l18.37"> treechildren::-moz-tree-image(folderNameCol, isServer-true, serverType-im) {</span>
<a href="#l18.38"></a><span id="l18.38">   list-style-image: url(&quot;chrome://chat/skin/prpl-generic/icon.png&quot;);</span>
<a href="#l18.39"></a><span id="l18.39"> }</span>
<a href="#l18.40"></a><span id="l18.40"> </span>
<a href="#l18.41"></a><span id="l18.41"> #accounttree treechildren::-moz-tree-indentation {</span>
<a href="#l18.42"></a><span id="l18.42">   width: 1ch;</span>
<a href="#l18.43"></a><span id="l18.43"> }</span>
<a href="#l18.44"></a><span id="l18.44"> </span>
<a href="#l18.45"></a><span id="l18.45" class="difflineplus">+#accountActionsButton {</span>
<a href="#l18.46"></a><span id="l18.46" class="difflineplus">+  margin-left: 0;</span>
<a href="#l18.47"></a><span id="l18.47" class="difflineplus">+  margin-right: 0;</span>
<a href="#l18.48"></a><span id="l18.48" class="difflineplus">+}</span>
<a href="#l18.49"></a><span id="l18.49" class="difflineplus">+</span>
<a href="#l18.50"></a><span id="l18.50"> #accountActionsDropdown {</span>
<a href="#l18.51"></a><span id="l18.51">   min-width: 30ch;</span>
<a href="#l18.52"></a><span id="l18.52"> }</span>
<a href="#l18.53"></a><span id="l18.53"> </span>
<a href="#l18.54"></a><span id="l18.54"> /* ::::: SMTP Server Panel :::::: */</span>
<a href="#l18.55"></a><span id="l18.55"> </span>
<a href="#l18.56"></a><span id="l18.56" class="difflineminus">-.smtpServerListItem {</span>
<a href="#l18.57"></a><span id="l18.57" class="difflineminus">-  padding-inline-start: 3px;</span>
<a href="#l18.58"></a><span id="l18.58" class="difflineplus">+#smtpList {</span>
<a href="#l18.59"></a><span id="l18.59" class="difflineplus">+  margin-inline-start: 6px;</span>
<a href="#l18.60"></a><span id="l18.60"> }</span>
<a href="#l18.61"></a><span id="l18.61"> </span>
<a href="#l18.62"></a><span id="l18.62"> #backgroundBox {</span>
<a href="#l18.63"></a><span id="l18.63" class="difflineminus">-  background-color: #FFFFFF;</span>
<a href="#l18.64"></a><span id="l18.64" class="difflineminus">-  opacity: 0.5;</span>
<a href="#l18.65"></a><span id="l18.65" class="difflineplus">+  background-color: var(--in-content-box-background);</span>
<a href="#l18.66"></a><span id="l18.66"> }</span>
<a href="#l18.67"></a><span id="l18.67"> </span>
<a href="#l18.68"></a><span id="l18.68"> #smtpServerInfoBox {</span>
<a href="#l18.69"></a><span id="l18.69" class="difflineminus">-  border: 1px solid ThreeDShadow;</span>
<a href="#l18.70"></a><span id="l18.70" class="difflineminus">-  border-right-color: ThreeDHighlight;</span>
<a href="#l18.71"></a><span id="l18.71" class="difflineminus">-  border-bottom-color: ThreeDHighlight;</span>
<a href="#l18.72"></a><span id="l18.72" class="difflineminus">-  margin: 0 5px 5px;</span>
<a href="#l18.73"></a><span id="l18.73" class="difflineplus">+  background-color: var(--in-content-box-background);</span>
<a href="#l18.74"></a><span id="l18.74" class="difflineplus">+  margin: 0 6px 5px;</span>
<a href="#l18.75"></a><span id="l18.75" class="difflineplus">+}</span>
<a href="#l18.76"></a><span id="l18.76" class="difflineplus">+</span>
<a href="#l18.77"></a><span id="l18.77" class="difflineplus">+#smtpServerInfoBox label {</span>
<a href="#l18.78"></a><span id="l18.78" class="difflineplus">+  height: 30px;</span>
<a href="#l18.79"></a><span id="l18.79" class="difflineplus">+  padding-top: 5px;</span>
<a href="#l18.80"></a><span id="l18.80" class="difflineplus">+  margin-top: 0;</span>
<a href="#l18.81"></a><span id="l18.81" class="difflineplus">+  margin-bottom: 0;</span>
<a href="#l18.82"></a><span id="l18.82"> }</span>
<a href="#l18.83"></a><span id="l18.83"> </span>
<a href="#l18.84"></a><span id="l18.84"> #smtpServerInfoBox textbox {</span>
<a href="#l18.85"></a><span id="l18.85" class="difflineminus">-  background-color: transparent;</span>
<a href="#l18.86"></a><span id="l18.86" class="difflineminus">-}</span>
<a href="#l18.87"></a><span id="l18.87" class="difflineminus">-</span>
<a href="#l18.88"></a><span id="l18.88" class="difflineminus">-#archiveTree &gt; treechildren {</span>
<a href="#l18.89"></a><span id="l18.89" class="difflineminus">-  background-color: -moz-Field;</span>
<a href="#l18.90"></a><span id="l18.90" class="difflineplus">+  background-color: transparent !important;</span>
<a href="#l18.91"></a><span id="l18.91"> }</span>
<a href="#l18.92"></a><span id="l18.92"> </span>
<a href="#l18.93"></a><span id="l18.93"> /* ::::: dialog header ::::: */</span>
<a href="#l18.94"></a><span id="l18.94"> </span>
<a href="#l18.95"></a><span id="l18.95" class="difflineminus">-.dialogheader {</span>
<a href="#l18.96"></a><span id="l18.96" class="difflineminus">-  margin: 0 5px 5px;</span>
<a href="#l18.97"></a><span id="l18.97" class="difflineminus">-  border: 1px solid ThreeDDarkShadow;</span>
<a href="#l18.98"></a><span id="l18.98" class="difflineminus">-  padding: 5px 8px;</span>
<a href="#l18.99"></a><span id="l18.99" class="difflineminus">-  background-color: Highlight;</span>
<a href="#l18.100"></a><span id="l18.100" class="difflineminus">-  color: HighlightText;</span>
<a href="#l18.101"></a><span id="l18.101" class="difflineplus">+.dialogheader-title {</span>
<a href="#l18.102"></a><span id="l18.102" class="difflineplus">+  margin-top: 0;</span>
<a href="#l18.103"></a><span id="l18.103" class="difflineplus">+  margin-bottom: 8px;</span>
<a href="#l18.104"></a><span id="l18.104" class="difflineplus">+  margin-inline-start: 6px;</span>
<a href="#l18.105"></a><span id="l18.105" class="difflineplus">+  font-size: 1.46em;</span>
<a href="#l18.106"></a><span id="l18.106" class="difflineplus">+  font-weight: 300;</span>
<a href="#l18.107"></a><span id="l18.107" class="difflineplus">+  line-height: 1.3em;</span>
<a href="#l18.108"></a><span id="l18.108" class="difflineplus">+  color: var(--in-content-text-color);</span>
<a href="#l18.109"></a><span id="l18.109"> }</span>
<a href="#l18.110"></a><span id="l18.110" class="difflineminus">-</span>
<a href="#l18.111"></a><span id="l18.111" class="difflineminus">-.dialogheader-title {</span>
<a href="#l18.112"></a><span id="l18.112" class="difflineminus">-  margin: 0 !important;</span>
<a href="#l18.113"></a><span id="l18.113" class="difflineminus">-  font-size: larger;</span>
<a href="#l18.114"></a><span id="l18.114" class="difflineminus">-  font-weight: bold;</span>
<a href="#l18.115"></a><span id="l18.115" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mail/themes/linux/mail/preferences/aboutPreferences.css</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mail/themes/linux/mail/preferences/aboutPreferences.css</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -24,16 +24,23 @@ radio[pane] &gt; .radio-label-box {</span>
<a href="#l19.4"></a><span id="l19.4">   margin-inline-end: 8px;</span>
<a href="#l19.5"></a><span id="l19.5"> }</span>
<a href="#l19.6"></a><span id="l19.6"> </span>
<a href="#l19.7"></a><span id="l19.7"> menulist.actionsMenu &gt; .menulist-dropmarker {</span>
<a href="#l19.8"></a><span id="l19.8">   margin-top: 11px;</span>
<a href="#l19.9"></a><span id="l19.9">   margin-bottom: 11px;</span>
<a href="#l19.10"></a><span id="l19.10"> }</span>
<a href="#l19.11"></a><span id="l19.11"> </span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+button[type=&quot;menu&quot;] &gt; .button-box &gt; .button-menu-dropmarker {</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+  margin-inline-end: 4px;</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/icons/arrow-dropdown-12.svg&quot;);</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+  -moz-context-properties: fill;</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineplus">+  fill: currentColor;</span>
<a href="#l19.17"></a><span id="l19.17" class="difflineplus">+}</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineplus">+</span>
<a href="#l19.19"></a><span id="l19.19"> textbox[type=&quot;number&quot;] {</span>
<a href="#l19.20"></a><span id="l19.20">   -moz-appearance: none;</span>
<a href="#l19.21"></a><span id="l19.21">   border: 1px solid var(--in-content-box-border-color);</span>
<a href="#l19.22"></a><span id="l19.22">   background-color: var(--in-content-box-background);</span>
<a href="#l19.23"></a><span id="l19.23"> }</span>
<a href="#l19.24"></a><span id="l19.24"> </span>
<a href="#l19.25"></a><span id="l19.25"> html|input[type=&quot;number&quot;]::-moz-number-spin-up {</span>
<a href="#l19.26"></a><span id="l19.26">   min-height: 10px;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mail/themes/osx/mail/accountManage.css</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mail/themes/osx/mail/accountManage.css</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -2,20 +2,31 @@</span>
<a href="#l20.4"></a><span id="l20.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.5"></a><span id="l20.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.6"></a><span id="l20.6"> </span>
<a href="#l20.7"></a><span id="l20.7"> /* ===== accountManage.css ==============================================</span>
<a href="#l20.8"></a><span id="l20.8">   == Styles for the Mail Account Manager.</span>
<a href="#l20.9"></a><span id="l20.9">   ======================================================================= */</span>
<a href="#l20.10"></a><span id="l20.10"> </span>
<a href="#l20.11"></a><span id="l20.11"> @import url(&quot;chrome://messenger/skin/&quot;);</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-@import url(&quot;chrome://messenger/content/bindings.css&quot;);</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+@import url(&quot;chrome://global/skin/in-content/common.css&quot;);</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+@import url(&quot;chrome://messenger/skin/preferences/aboutPreferences.css&quot;);</span>
<a href="#l20.15"></a><span id="l20.15"> </span>
<a href="#l20.16"></a><span id="l20.16"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l20.17"></a><span id="l20.17"> </span>
<a href="#l20.18"></a><span id="l20.18" class="difflineplus">+page {</span>
<a href="#l20.19"></a><span id="l20.19" class="difflineplus">+  font-size: 0.95em;</span>
<a href="#l20.20"></a><span id="l20.20" class="difflineplus">+  margin-inline-start: 4px;</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineplus">+}</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineplus">+</span>
<a href="#l20.23"></a><span id="l20.23" class="difflineplus">+page groupbox {</span>
<a href="#l20.24"></a><span id="l20.24" class="difflineplus">+  margin-left: 6px;</span>
<a href="#l20.25"></a><span id="l20.25" class="difflineplus">+  margin-right: 6px;</span>
<a href="#l20.26"></a><span id="l20.26" class="difflineplus">+}</span>
<a href="#l20.27"></a><span id="l20.27" class="difflineplus">+</span>
<a href="#l20.28"></a><span id="l20.28"> /* ::::: account manager :::::: */</span>
<a href="#l20.29"></a><span id="l20.29"> </span>
<a href="#l20.30"></a><span id="l20.30"> .specialFolderPickerGrid {</span>
<a href="#l20.31"></a><span id="l20.31">   margin-inline-start: 20px;</span>
<a href="#l20.32"></a><span id="l20.32"> }</span>
<a href="#l20.33"></a><span id="l20.33"> </span>
<a href="#l20.34"></a><span id="l20.34"> .fccReplyFollowsParent {</span>
<a href="#l20.35"></a><span id="l20.35">   margin-inline-start: 20px;</span>
<a href="#l20.36"></a><span id="l20.36" class="difflineat">@@ -28,18 +39,19 @@</span>
<a href="#l20.37"></a><span id="l20.37"> #am-main-title, .dialogheader {</span>
<a href="#l20.38"></a><span id="l20.38">   display: none;</span>
<a href="#l20.39"></a><span id="l20.39"> }</span>
<a href="#l20.40"></a><span id="l20.40"> </span>
<a href="#l20.41"></a><span id="l20.41"> .dialog-button[dlgtype=&quot;help&quot;] {</span>
<a href="#l20.42"></a><span id="l20.42">   display: none;</span>
<a href="#l20.43"></a><span id="l20.43"> }</span>
<a href="#l20.44"></a><span id="l20.44"> </span>
<a href="#l20.45"></a><span id="l20.45" class="difflineminus">-#accounttree {</span>
<a href="#l20.46"></a><span id="l20.46" class="difflineminus">-  margin-inline-end: 8px;</span>
<a href="#l20.47"></a><span id="l20.47" class="difflineplus">+#accountActionsButton {</span>
<a href="#l20.48"></a><span id="l20.48" class="difflineplus">+  margin-left: 0;</span>
<a href="#l20.49"></a><span id="l20.49" class="difflineplus">+  margin-right: 0;</span>
<a href="#l20.50"></a><span id="l20.50"> }</span>
<a href="#l20.51"></a><span id="l20.51"> </span>
<a href="#l20.52"></a><span id="l20.52"> #accountActionsDropdown {</span>
<a href="#l20.53"></a><span id="l20.53">   min-width: 30ch;</span>
<a href="#l20.54"></a><span id="l20.54"> }</span>
<a href="#l20.55"></a><span id="l20.55"> </span>
<a href="#l20.56"></a><span id="l20.56"> listitem[default=&quot;true&quot;],</span>
<a href="#l20.57"></a><span id="l20.57"> #identitiesList &gt; listitem:first-child,</span>
<a href="#l20.58"></a><span id="l20.58" class="difflineat">@@ -72,40 +84,43 @@ treechildren::-moz-tree-image(folderName</span>
<a href="#l20.59"></a><span id="l20.59">     list-style-image: url(&quot;chrome://chat/skin/prpl-generic/icon32.png&quot;);</span>
<a href="#l20.60"></a><span id="l20.60">   }</span>
<a href="#l20.61"></a><span id="l20.61"> }</span>
<a href="#l20.62"></a><span id="l20.62"> </span>
<a href="#l20.63"></a><span id="l20.63"> #accounttree treechildren::-moz-tree-indentation {</span>
<a href="#l20.64"></a><span id="l20.64">   width: 1ch;</span>
<a href="#l20.65"></a><span id="l20.65"> }</span>
<a href="#l20.66"></a><span id="l20.66"> </span>
<a href="#l20.67"></a><span id="l20.67" class="difflineminus">-button:not(.dialog-button) {</span>
<a href="#l20.68"></a><span id="l20.68" class="difflineminus">-  min-height: 19px; /* aqua size for small buttons */</span>
<a href="#l20.69"></a><span id="l20.69" class="difflineminus">-}</span>
<a href="#l20.70"></a><span id="l20.70" class="difflineminus">-</span>
<a href="#l20.71"></a><span id="l20.71"> description {</span>
<a href="#l20.72"></a><span id="l20.72">   margin: 4px 4px 8px;</span>
<a href="#l20.73"></a><span id="l20.73"> }</span>
<a href="#l20.74"></a><span id="l20.74"> </span>
<a href="#l20.75"></a><span id="l20.75" class="difflineminus">-#archiveTree &gt; treechildren {</span>
<a href="#l20.76"></a><span id="l20.76" class="difflineminus">-  background-color: #FFFFFF;</span>
<a href="#l20.77"></a><span id="l20.77" class="difflineplus">+#smtpList {</span>
<a href="#l20.78"></a><span id="l20.78" class="difflineplus">+  margin-inline-start: 6px;</span>
<a href="#l20.79"></a><span id="l20.79" class="difflineplus">+}</span>
<a href="#l20.80"></a><span id="l20.80" class="difflineplus">+</span>
<a href="#l20.81"></a><span id="l20.81" class="difflineplus">+#backgroundBox {</span>
<a href="#l20.82"></a><span id="l20.82" class="difflineplus">+  background-color: var(--in-content-box-background);</span>
<a href="#l20.83"></a><span id="l20.83"> }</span>
<a href="#l20.84"></a><span id="l20.84"> </span>
<a href="#l20.85"></a><span id="l20.85"> #smtpServerInfoBox {</span>
<a href="#l20.86"></a><span id="l20.86" class="difflineminus">-  border: 1px solid ThreeDShadow;</span>
<a href="#l20.87"></a><span id="l20.87" class="difflineminus">-  border-right-color: ThreeDHighlight;</span>
<a href="#l20.88"></a><span id="l20.88" class="difflineminus">-  border-bottom-color: ThreeDHighlight;</span>
<a href="#l20.89"></a><span id="l20.89" class="difflineminus">-  margin: 0 5px 5px;</span>
<a href="#l20.90"></a><span id="l20.90" class="difflineplus">+  background-color: var(--in-content-box-background);</span>
<a href="#l20.91"></a><span id="l20.91" class="difflineplus">+  margin: 0 6px 5px;</span>
<a href="#l20.92"></a><span id="l20.92" class="difflineplus">+}</span>
<a href="#l20.93"></a><span id="l20.93" class="difflineplus">+</span>
<a href="#l20.94"></a><span id="l20.94" class="difflineplus">+#smtpServerInfoBox label {</span>
<a href="#l20.95"></a><span id="l20.95" class="difflineplus">+  height: 30px;</span>
<a href="#l20.96"></a><span id="l20.96" class="difflineplus">+  padding-top: 5px;</span>
<a href="#l20.97"></a><span id="l20.97" class="difflineplus">+  margin-top: 0;</span>
<a href="#l20.98"></a><span id="l20.98" class="difflineplus">+  margin-bottom: 0;</span>
<a href="#l20.99"></a><span id="l20.99"> }</span>
<a href="#l20.100"></a><span id="l20.100"> </span>
<a href="#l20.101"></a><span id="l20.101"> /* ::::: dialog header ::::: */</span>
<a href="#l20.102"></a><span id="l20.102"> </span>
<a href="#l20.103"></a><span id="l20.103" class="difflineminus">-.dialogheader {</span>
<a href="#l20.104"></a><span id="l20.104" class="difflineminus">-  margin: 0 5px 5px;</span>
<a href="#l20.105"></a><span id="l20.105" class="difflineminus">-  padding: 5px 8px;</span>
<a href="#l20.106"></a><span id="l20.106" class="difflineplus">+.dialogheader-title {</span>
<a href="#l20.107"></a><span id="l20.107" class="difflineplus">+  margin-top: 0;</span>
<a href="#l20.108"></a><span id="l20.108" class="difflineplus">+  margin-bottom: 8px;</span>
<a href="#l20.109"></a><span id="l20.109" class="difflineplus">+  margin-inline-start: 6px;</span>
<a href="#l20.110"></a><span id="l20.110" class="difflineplus">+  font-size: 1.46em;</span>
<a href="#l20.111"></a><span id="l20.111" class="difflineplus">+  font-weight: 300;</span>
<a href="#l20.112"></a><span id="l20.112" class="difflineplus">+  line-height: 1.3em;</span>
<a href="#l20.113"></a><span id="l20.113" class="difflineplus">+  color: var(--in-content-text-color);</span>
<a href="#l20.114"></a><span id="l20.114"> }</span>
<a href="#l20.115"></a><span id="l20.115" class="difflineminus">-</span>
<a href="#l20.116"></a><span id="l20.116" class="difflineminus">-.dialogheader-title {</span>
<a href="#l20.117"></a><span id="l20.117" class="difflineminus">-  margin: 0 !important;</span>
<a href="#l20.118"></a><span id="l20.118" class="difflineminus">-  font-size: larger;</span>
<a href="#l20.119"></a><span id="l20.119" class="difflineminus">-  font-weight: bold;</span>
<a href="#l20.120"></a><span id="l20.120" class="difflineminus">-  display: none;</span>
<a href="#l20.121"></a><span id="l20.121" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mail/themes/osx/mail/preferences/aboutPreferences.css</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mail/themes/osx/mail/preferences/aboutPreferences.css</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -60,16 +60,26 @@ radio[pane][selected] {</span>
<a href="#l21.4"></a><span id="l21.4"> }</span>
<a href="#l21.5"></a><span id="l21.5"> </span>
<a href="#l21.6"></a><span id="l21.6"> .actionsMenu &gt; .menulist-label-box &gt; .menulist-icon {</span>
<a href="#l21.7"></a><span id="l21.7">   margin-top: 2px;</span>
<a href="#l21.8"></a><span id="l21.8">   margin-inline-start: 2px;</span>
<a href="#l21.9"></a><span id="l21.9">   margin-inline-end: 8px !important;</span>
<a href="#l21.10"></a><span id="l21.10"> }</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineplus">+button[type=&quot;menu&quot;] &gt; .button-box &gt; .button-menu-dropmarker {</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineplus">+  display: -moz-box;</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/icons/arrow-dropdown-12.svg&quot;);</span>
<a href="#l21.16"></a><span id="l21.16" class="difflineplus">+  -moz-context-properties: fill;</span>
<a href="#l21.17"></a><span id="l21.17" class="difflineplus">+  fill: currentColor;</span>
<a href="#l21.18"></a><span id="l21.18" class="difflineplus">+  width: 12px;</span>
<a href="#l21.19"></a><span id="l21.19" class="difflineplus">+  height: 12px;</span>
<a href="#l21.20"></a><span id="l21.20" class="difflineplus">+}</span>
<a href="#l21.21"></a><span id="l21.21" class="difflineplus">+</span>
<a href="#l21.22"></a><span id="l21.22"> .sidebar-footer-label {</span>
<a href="#l21.23"></a><span id="l21.23">   font-size: 1.224em;</span>
<a href="#l21.24"></a><span id="l21.24"> }</span>
<a href="#l21.25"></a><span id="l21.25"> </span>
<a href="#l21.26"></a><span id="l21.26"> tab:-moz-focusring &gt; .tab-middle &gt; .tab-text {</span>
<a href="#l21.27"></a><span id="l21.27">   outline: none;</span>
<a href="#l21.28"></a><span id="l21.28"> }</span>
<a href="#l21.29"></a><span id="l21.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mail/themes/shared/mail/incontentprefs/aboutPreferences.css</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mail/themes/shared/mail/incontentprefs/aboutPreferences.css</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -1,12 +1,13 @@</span>
<a href="#l22.4"></a><span id="l22.4"> /* - This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l22.5"></a><span id="l22.5">    - License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l22.6"></a><span id="l22.6">    - You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l22.7"></a><span id="l22.7"> </span>
<a href="#l22.8"></a><span id="l22.8" class="difflineplus">+@import url(&quot;chrome://messenger/skin/folderPane.css&quot;);</span>
<a href="#l22.9"></a><span id="l22.9"> @namespace html &quot;http://www.w3.org/1999/xhtml&quot;;</span>
<a href="#l22.10"></a><span id="l22.10"> </span>
<a href="#l22.11"></a><span id="l22.11"> :root {</span>
<a href="#l22.12"></a><span id="l22.12">   --in-content-categories-background: #ebebef;</span>
<a href="#l22.13"></a><span id="l22.13">   --in-content-dialogtitle-background: #f1f1f1;</span>
<a href="#l22.14"></a><span id="l22.14">   --in-content-dialogtitle-border: #c1c1c1;</span>
<a href="#l22.15"></a><span id="l22.15">   --in-content-warning-container: var(--grey-20);</span>
<a href="#l22.16"></a><span id="l22.16"> }</span>
<a href="#l22.17"></a><span id="l22.17" class="difflineat">@@ -44,32 +45,42 @@ html|h2 {</span>
<a href="#l22.18"></a><span id="l22.18"> }</span>
<a href="#l22.19"></a><span id="l22.19"> </span>
<a href="#l22.20"></a><span id="l22.20"> html|h3 {</span>
<a href="#l22.21"></a><span id="l22.21">   font-size: 1em;</span>
<a href="#l22.22"></a><span id="l22.22">   font-weight: 600;</span>
<a href="#l22.23"></a><span id="l22.23">   margin: 4px 0 !important;</span>
<a href="#l22.24"></a><span id="l22.24"> }</span>
<a href="#l22.25"></a><span id="l22.25"> </span>
<a href="#l22.26"></a><span id="l22.26" class="difflineplus">+.header {</span>
<a href="#l22.27"></a><span id="l22.27" class="difflineplus">+  margin-bottom: 0;</span>
<a href="#l22.28"></a><span id="l22.28" class="difflineplus">+}</span>
<a href="#l22.29"></a><span id="l22.29" class="difflineplus">+</span>
<a href="#l22.30"></a><span id="l22.30"> #preferencesContainer {</span>
<a href="#l22.31"></a><span id="l22.31">   padding: 40px 28px;</span>
<a href="#l22.32"></a><span id="l22.32">   overflow: auto;</span>
<a href="#l22.33"></a><span id="l22.33"> }</span>
<a href="#l22.34"></a><span id="l22.34"> </span>
<a href="#l22.35"></a><span id="l22.35"> #MailPreferences prefpane {</span>
<a href="#l22.36"></a><span id="l22.36">   max-width: 800px;</span>
<a href="#l22.37"></a><span id="l22.37">   padding: 0;</span>
<a href="#l22.38"></a><span id="l22.38">   -moz-box-flex: 1;</span>
<a href="#l22.39"></a><span id="l22.39">   -moz-box-orient: vertical;</span>
<a href="#l22.40"></a><span id="l22.40"> }</span>
<a href="#l22.41"></a><span id="l22.41"> </span>
<a href="#l22.42"></a><span id="l22.42"> #MailPreferences prefpane:not([selected]) {</span>
<a href="#l22.43"></a><span id="l22.43">   display: none;</span>
<a href="#l22.44"></a><span id="l22.44"> }</span>
<a href="#l22.45"></a><span id="l22.45"> </span>
<a href="#l22.46"></a><span id="l22.46" class="difflineplus">+groupbox {</span>
<a href="#l22.47"></a><span id="l22.47" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l22.48"></a><span id="l22.48" class="difflineplus">+  margin: initial;</span>
<a href="#l22.49"></a><span id="l22.49" class="difflineplus">+  padding: initial;</span>
<a href="#l22.50"></a><span id="l22.50" class="difflineplus">+}</span>
<a href="#l22.51"></a><span id="l22.51" class="difflineplus">+</span>
<a href="#l22.52"></a><span id="l22.52"> tabpanel &gt; label,</span>
<a href="#l22.53"></a><span id="l22.53"> tabpanel &gt; description,</span>
<a href="#l22.54"></a><span id="l22.54"> tabpanel &gt; hbox &gt; description {</span>
<a href="#l22.55"></a><span id="l22.55">   margin-inline-start: 0;</span>
<a href="#l22.56"></a><span id="l22.56"> }</span>
<a href="#l22.57"></a><span id="l22.57"> </span>
<a href="#l22.58"></a><span id="l22.58"> textbox[type=&quot;number&quot;][size=&quot;1&quot;] {</span>
<a href="#l22.59"></a><span id="l22.59">   width: 4em;</span>
<a href="#l22.60"></a><span id="l22.60" class="difflineat">@@ -317,16 +328,59 @@ separator.groove:not([orient=&quot;vertical&quot;]</span>
<a href="#l22.61"></a><span id="l22.61"> tab:-moz-focusring {</span>
<a href="#l22.62"></a><span id="l22.62">   outline: var(--in-content-category-outline-focus);</span>
<a href="#l22.63"></a><span id="l22.63"> }</span>
<a href="#l22.64"></a><span id="l22.64"> </span>
<a href="#l22.65"></a><span id="l22.65"> tab:-moz-focusring &gt; .tab-middle {</span>
<a href="#l22.66"></a><span id="l22.66">   outline: none;</span>
<a href="#l22.67"></a><span id="l22.67"> }</span>
<a href="#l22.68"></a><span id="l22.68"> </span>
<a href="#l22.69"></a><span id="l22.69" class="difflineplus">+/* Styles for the Account Actions button */</span>
<a href="#l22.70"></a><span id="l22.70" class="difflineplus">+button[type=&quot;menu&quot;] &gt; menupopup {</span>
<a href="#l22.71"></a><span id="l22.71" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l22.72"></a><span id="l22.72" class="difflineplus">+  border: 1px solid var(--in-content-box-border-color);</span>
<a href="#l22.73"></a><span id="l22.73" class="difflineplus">+  border-radius: 2px;</span>
<a href="#l22.74"></a><span id="l22.74" class="difflineplus">+  background-color: var(--in-content-box-background);</span>
<a href="#l22.75"></a><span id="l22.75" class="difflineplus">+}</span>
<a href="#l22.76"></a><span id="l22.76" class="difflineplus">+</span>
<a href="#l22.77"></a><span id="l22.77" class="difflineplus">+button[type=&quot;menu&quot;] &gt; menupopup menuitem {</span>
<a href="#l22.78"></a><span id="l22.78" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l22.79"></a><span id="l22.79" class="difflineplus">+  font-size: 1em;</span>
<a href="#l22.80"></a><span id="l22.80" class="difflineplus">+  color: var(--in-content-text-color);</span>
<a href="#l22.81"></a><span id="l22.81" class="difflineplus">+  padding-top: 0.2em;</span>
<a href="#l22.82"></a><span id="l22.82" class="difflineplus">+  padding-bottom: 0.2em;</span>
<a href="#l22.83"></a><span id="l22.83" class="difflineplus">+  padding-inline-start: 10px;</span>
<a href="#l22.84"></a><span id="l22.84" class="difflineplus">+  padding-inline-end: 30px;</span>
<a href="#l22.85"></a><span id="l22.85" class="difflineplus">+}</span>
<a href="#l22.86"></a><span id="l22.86" class="difflineplus">+</span>
<a href="#l22.87"></a><span id="l22.87" class="difflineplus">+button[type=&quot;menu&quot;] &gt; menupopup &gt; menuitem:not([disabled=&quot;true&quot;])[_moz-menuactive=&quot;true&quot;] {</span>
<a href="#l22.88"></a><span id="l22.88" class="difflineplus">+  color: var(--in-content-text-color);</span>
<a href="#l22.89"></a><span id="l22.89" class="difflineplus">+  background-color: var(--in-content-item-hover);</span>
<a href="#l22.90"></a><span id="l22.90" class="difflineplus">+}</span>
<a href="#l22.91"></a><span id="l22.91" class="difflineplus">+</span>
<a href="#l22.92"></a><span id="l22.92" class="difflineplus">+button[type=&quot;menu&quot;] &gt; menupopup &gt; menuitem:not([disabled=&quot;true&quot;])[selected=&quot;true&quot;] {</span>
<a href="#l22.93"></a><span id="l22.93" class="difflineplus">+  color: var(--in-content-selected-text);</span>
<a href="#l22.94"></a><span id="l22.94" class="difflineplus">+  background-color: var(--in-content-item-selected);</span>
<a href="#l22.95"></a><span id="l22.95" class="difflineplus">+}</span>
<a href="#l22.96"></a><span id="l22.96" class="difflineplus">+</span>
<a href="#l22.97"></a><span id="l22.97" class="difflineplus">+button[type=&quot;menu&quot;] &gt; menupopup &gt; menuitem[disabled=&quot;true&quot;] {</span>
<a href="#l22.98"></a><span id="l22.98" class="difflineplus">+  color: #999;</span>
<a href="#l22.99"></a><span id="l22.99" class="difflineplus">+  /* override the [_moz-menuactive=&quot;true&quot;] background color from</span>
<a href="#l22.100"></a><span id="l22.100" class="difflineplus">+     global/menu.css */</span>
<a href="#l22.101"></a><span id="l22.101" class="difflineplus">+  background-color: transparent;</span>
<a href="#l22.102"></a><span id="l22.102" class="difflineplus">+}</span>
<a href="#l22.103"></a><span id="l22.103" class="difflineplus">+</span>
<a href="#l22.104"></a><span id="l22.104" class="difflineplus">+button[type=&quot;menu&quot;] &gt; menupopup menuseparator {</span>
<a href="#l22.105"></a><span id="l22.105" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l22.106"></a><span id="l22.106" class="difflineplus">+  margin: 0;</span>
<a href="#l22.107"></a><span id="l22.107" class="difflineplus">+  padding: 0;</span>
<a href="#l22.108"></a><span id="l22.108" class="difflineplus">+  border-top: 1px solid var(--in-content-box-border-color);</span>
<a href="#l22.109"></a><span id="l22.109" class="difflineplus">+  border-bottom: none;</span>
<a href="#l22.110"></a><span id="l22.110" class="difflineplus">+}</span>
<a href="#l22.111"></a><span id="l22.111" class="difflineplus">+</span>
<a href="#l22.112"></a><span id="l22.112"> #defaultWebSearchPopup &gt; menuitem &gt; .menu-iconic-left {</span>
<a href="#l22.113"></a><span id="l22.113">   display: -moz-box;</span>
<a href="#l22.114"></a><span id="l22.114"> }</span>
<a href="#l22.115"></a><span id="l22.115"> </span>
<a href="#l22.116"></a><span id="l22.116"> /* Applications Pane Styles */</span>
<a href="#l22.117"></a><span id="l22.117"> </span>
<a href="#l22.118"></a><span id="l22.118"> #applications-content {</span>
<a href="#l22.119"></a><span id="l22.119">   padding: 15px;</span>
<a href="#l22.120"></a><span id="l22.120" class="difflineat">@@ -520,17 +574,17 @@ richlistbox richlistitem {</span>
<a href="#l22.121"></a><span id="l22.121">   background-image: none;</span>
<a href="#l22.122"></a><span id="l22.122"> }</span>
<a href="#l22.123"></a><span id="l22.123"> </span>
<a href="#l22.124"></a><span id="l22.124"> richlistbox richlistitem:hover {</span>
<a href="#l22.125"></a><span id="l22.125">   background-color: var(--in-content-item-hover);</span>
<a href="#l22.126"></a><span id="l22.126"> }</span>
<a href="#l22.127"></a><span id="l22.127"> </span>
<a href="#l22.128"></a><span id="l22.128"> richlistbox:focus &gt; richlistitem[selected=&quot;true&quot;] {</span>
<a href="#l22.129"></a><span id="l22.129" class="difflineminus">-  background-color: var(--in-content-item-selected);</span>
<a href="#l22.130"></a><span id="l22.130" class="difflineplus">+  background-color: var(--in-content-item-selected) !important;</span>
<a href="#l22.131"></a><span id="l22.131">   color: var(--in-content-selected-text) !important;</span>
<a href="#l22.132"></a><span id="l22.132"> }</span>
<a href="#l22.133"></a><span id="l22.133"> </span>
<a href="#l22.134"></a><span id="l22.134"> #messengerLanguagesDialogPane {</span>
<a href="#l22.135"></a><span id="l22.135">   min-height: 360px;</span>
<a href="#l22.136"></a><span id="l22.136"> }</span>
<a href="#l22.137"></a><span id="l22.137"> </span>
<a href="#l22.138"></a><span id="l22.138"> #defaultMessengerLanguage {</span>
<a href="#l22.139"></a><span id="l22.139" class="difflineat">@@ -560,16 +614,29 @@ richlistbox:focus &gt; richlistitem[selecte</span>
<a href="#l22.140"></a><span id="l22.140">   margin-inline-start: 4px;</span>
<a href="#l22.141"></a><span id="l22.141"> }</span>
<a href="#l22.142"></a><span id="l22.142"> </span>
<a href="#l22.143"></a><span id="l22.143"> .action-button {</span>
<a href="#l22.144"></a><span id="l22.144">   margin-inline-end: 0;</span>
<a href="#l22.145"></a><span id="l22.145"> }</span>
<a href="#l22.146"></a><span id="l22.146"> </span>
<a href="#l22.147"></a><span id="l22.147"> /* Menulist styles */</span>
<a href="#l22.148"></a><span id="l22.148" class="difflineplus">+</span>
<a href="#l22.149"></a><span id="l22.149" class="difflineplus">+menulist menupopup[type=&quot;folder&quot;] {</span>
<a href="#l22.150"></a><span id="l22.150" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l22.151"></a><span id="l22.151" class="difflineplus">+  border: 1px solid var(--in-content-box-border-color);</span>
<a href="#l22.152"></a><span id="l22.152" class="difflineplus">+  border-radius: 2px;</span>
<a href="#l22.153"></a><span id="l22.153" class="difflineplus">+  background-color: var(--in-content-box-background);</span>
<a href="#l22.154"></a><span id="l22.154" class="difflineplus">+}</span>
<a href="#l22.155"></a><span id="l22.155" class="difflineplus">+</span>
<a href="#l22.156"></a><span id="l22.156" class="difflineplus">+menupopup[type=&quot;folder&quot;] &gt; .folderMenuItem[_moz-menuactive=&quot;true&quot;] {</span>
<a href="#l22.157"></a><span id="l22.157" class="difflineplus">+  color: var(--in-content-text-color);</span>
<a href="#l22.158"></a><span id="l22.158" class="difflineplus">+  background-color: var(--in-content-item-hover);</span>
<a href="#l22.159"></a><span id="l22.159" class="difflineplus">+}</span>
<a href="#l22.160"></a><span id="l22.160" class="difflineplus">+</span>
<a href="#l22.161"></a><span id="l22.161"> .label-item {</span>
<a href="#l22.162"></a><span id="l22.162">   font-size: .8em;</span>
<a href="#l22.163"></a><span id="l22.163"> }</span>
<a href="#l22.164"></a><span id="l22.164"> </span>
<a href="#l22.165"></a><span id="l22.165"> /**</span>
<a href="#l22.166"></a><span id="l22.166">  * Dialog</span>
<a href="#l22.167"></a><span id="l22.167">  */</span>
<a href="#l22.168"></a><span id="l22.168"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mail/themes/windows/mail/accountManage.css</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mail/themes/windows/mail/accountManage.css</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -2,20 +2,31 @@</span>
<a href="#l23.4"></a><span id="l23.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.5"></a><span id="l23.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l23.6"></a><span id="l23.6"> </span>
<a href="#l23.7"></a><span id="l23.7"> /* ===== accountManage.css ==============================================</span>
<a href="#l23.8"></a><span id="l23.8">   == Styles for the Mail Account Manager.</span>
<a href="#l23.9"></a><span id="l23.9">   ======================================================================= */</span>
<a href="#l23.10"></a><span id="l23.10"> </span>
<a href="#l23.11"></a><span id="l23.11"> @import url(&quot;chrome://messenger/skin/&quot;);</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-@import url(&quot;chrome://messenger/content/bindings.css&quot;);</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+@import url(&quot;chrome://global/skin/in-content/common.css&quot;);</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineplus">+@import url(&quot;chrome://messenger/skin/preferences/aboutPreferences.css&quot;);</span>
<a href="#l23.15"></a><span id="l23.15"> </span>
<a href="#l23.16"></a><span id="l23.16"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l23.17"></a><span id="l23.17"> </span>
<a href="#l23.18"></a><span id="l23.18" class="difflineplus">+page {</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineplus">+  font-size: 0.95em;</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineplus">+  margin-inline-start: 4px;</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineplus">+}</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineplus">+</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineplus">+page groupbox {</span>
<a href="#l23.24"></a><span id="l23.24" class="difflineplus">+  margin-left: 6px;</span>
<a href="#l23.25"></a><span id="l23.25" class="difflineplus">+  margin-right: 6px;</span>
<a href="#l23.26"></a><span id="l23.26" class="difflineplus">+}</span>
<a href="#l23.27"></a><span id="l23.27" class="difflineplus">+</span>
<a href="#l23.28"></a><span id="l23.28"> /* ::::: account manager :::::: */</span>
<a href="#l23.29"></a><span id="l23.29"> </span>
<a href="#l23.30"></a><span id="l23.30"> .specialFolderPickerGrid {</span>
<a href="#l23.31"></a><span id="l23.31">   margin-inline-start: 20px;</span>
<a href="#l23.32"></a><span id="l23.32"> }</span>
<a href="#l23.33"></a><span id="l23.33"> </span>
<a href="#l23.34"></a><span id="l23.34"> .fccReplyFollowsParent {</span>
<a href="#l23.35"></a><span id="l23.35">   margin-inline-start: 20px;</span>
<a href="#l23.36"></a><span id="l23.36" class="difflineat">@@ -42,53 +53,54 @@ treechildren::-moz-tree-image(folderName</span>
<a href="#l23.37"></a><span id="l23.37"> treechildren::-moz-tree-image(folderNameCol, isServer-true, serverType-im) {</span>
<a href="#l23.38"></a><span id="l23.38">   list-style-image: url(&quot;chrome://chat/skin/prpl-generic/icon.png&quot;);</span>
<a href="#l23.39"></a><span id="l23.39"> }</span>
<a href="#l23.40"></a><span id="l23.40"> </span>
<a href="#l23.41"></a><span id="l23.41"> #accounttree treechildren::-moz-tree-indentation {</span>
<a href="#l23.42"></a><span id="l23.42">   width: 1ch;</span>
<a href="#l23.43"></a><span id="l23.43"> }</span>
<a href="#l23.44"></a><span id="l23.44"> </span>
<a href="#l23.45"></a><span id="l23.45" class="difflineplus">+#accountActionsButton {</span>
<a href="#l23.46"></a><span id="l23.46" class="difflineplus">+  margin-left: 0;</span>
<a href="#l23.47"></a><span id="l23.47" class="difflineplus">+  margin-right: 0;</span>
<a href="#l23.48"></a><span id="l23.48" class="difflineplus">+}</span>
<a href="#l23.49"></a><span id="l23.49" class="difflineplus">+</span>
<a href="#l23.50"></a><span id="l23.50"> #accountActionsDropdown {</span>
<a href="#l23.51"></a><span id="l23.51">   min-width: 30ch;</span>
<a href="#l23.52"></a><span id="l23.52"> }</span>
<a href="#l23.53"></a><span id="l23.53"> </span>
<a href="#l23.54"></a><span id="l23.54"> /* ::::: SMTP Server Panel :::::: */</span>
<a href="#l23.55"></a><span id="l23.55"> </span>
<a href="#l23.56"></a><span id="l23.56" class="difflineminus">-.smtpServerListItem {</span>
<a href="#l23.57"></a><span id="l23.57" class="difflineminus">-  padding-inline-start: 3px;</span>
<a href="#l23.58"></a><span id="l23.58" class="difflineplus">+#smtpList {</span>
<a href="#l23.59"></a><span id="l23.59" class="difflineplus">+  margin-inline-start: 6px;</span>
<a href="#l23.60"></a><span id="l23.60"> }</span>
<a href="#l23.61"></a><span id="l23.61"> </span>
<a href="#l23.62"></a><span id="l23.62"> #backgroundBox {</span>
<a href="#l23.63"></a><span id="l23.63" class="difflineminus">-  background-color: #FFFFFF;</span>
<a href="#l23.64"></a><span id="l23.64" class="difflineminus">-  opacity: 0.5;</span>
<a href="#l23.65"></a><span id="l23.65" class="difflineplus">+  background-color: var(--in-content-box-background);</span>
<a href="#l23.66"></a><span id="l23.66"> }</span>
<a href="#l23.67"></a><span id="l23.67"> </span>
<a href="#l23.68"></a><span id="l23.68"> #smtpServerInfoBox {</span>
<a href="#l23.69"></a><span id="l23.69" class="difflineminus">-  border: 1px solid ThreeDShadow;</span>
<a href="#l23.70"></a><span id="l23.70" class="difflineminus">-  border-right-color: ThreeDHighlight;</span>
<a href="#l23.71"></a><span id="l23.71" class="difflineminus">-  border-bottom-color: ThreeDHighlight;</span>
<a href="#l23.72"></a><span id="l23.72" class="difflineminus">-  margin: 0 5px 5px;</span>
<a href="#l23.73"></a><span id="l23.73" class="difflineplus">+  background-color: var(--in-content-box-background);</span>
<a href="#l23.74"></a><span id="l23.74" class="difflineplus">+  margin: 0 6px 5px;</span>
<a href="#l23.75"></a><span id="l23.75" class="difflineplus">+}</span>
<a href="#l23.76"></a><span id="l23.76" class="difflineplus">+</span>
<a href="#l23.77"></a><span id="l23.77" class="difflineplus">+#smtpServerInfoBox label {</span>
<a href="#l23.78"></a><span id="l23.78" class="difflineplus">+  height: 30px;</span>
<a href="#l23.79"></a><span id="l23.79" class="difflineplus">+  padding-top: 5px;</span>
<a href="#l23.80"></a><span id="l23.80" class="difflineplus">+  margin-top: 0;</span>
<a href="#l23.81"></a><span id="l23.81" class="difflineplus">+  margin-bottom: 0;</span>
<a href="#l23.82"></a><span id="l23.82"> }</span>
<a href="#l23.83"></a><span id="l23.83"> </span>
<a href="#l23.84"></a><span id="l23.84"> #smtpServerInfoBox textbox {</span>
<a href="#l23.85"></a><span id="l23.85">   background-color: transparent;</span>
<a href="#l23.86"></a><span id="l23.86"> }</span>
<a href="#l23.87"></a><span id="l23.87"> </span>
<a href="#l23.88"></a><span id="l23.88" class="difflineminus">-#archiveTree &gt; treechildren {</span>
<a href="#l23.89"></a><span id="l23.89" class="difflineminus">-  background-color: -moz-Field;</span>
<a href="#l23.90"></a><span id="l23.90" class="difflineminus">-}</span>
<a href="#l23.91"></a><span id="l23.91" class="difflineminus">-</span>
<a href="#l23.92"></a><span id="l23.92"> /* ::::: dialog header ::::: */</span>
<a href="#l23.93"></a><span id="l23.93"> </span>
<a href="#l23.94"></a><span id="l23.94" class="difflineminus">-.dialogheader {</span>
<a href="#l23.95"></a><span id="l23.95" class="difflineminus">-  margin: 0 5px 5px;</span>
<a href="#l23.96"></a><span id="l23.96" class="difflineminus">-  border: 1px solid ThreeDDarkShadow;</span>
<a href="#l23.97"></a><span id="l23.97" class="difflineminus">-  padding: 5px 8px;</span>
<a href="#l23.98"></a><span id="l23.98" class="difflineminus">-  background-color: Highlight;</span>
<a href="#l23.99"></a><span id="l23.99" class="difflineminus">-  color: HighlightText;</span>
<a href="#l23.100"></a><span id="l23.100" class="difflineplus">+.dialogheader-title {</span>
<a href="#l23.101"></a><span id="l23.101" class="difflineplus">+  margin-top: 0;</span>
<a href="#l23.102"></a><span id="l23.102" class="difflineplus">+  margin-bottom: 8px;</span>
<a href="#l23.103"></a><span id="l23.103" class="difflineplus">+  margin-inline-start: 6px;</span>
<a href="#l23.104"></a><span id="l23.104" class="difflineplus">+  font-size: 1.46em;</span>
<a href="#l23.105"></a><span id="l23.105" class="difflineplus">+  font-weight: 300;</span>
<a href="#l23.106"></a><span id="l23.106" class="difflineplus">+  line-height: 1.3em;</span>
<a href="#l23.107"></a><span id="l23.107" class="difflineplus">+  color: var(--in-content-text-color);</span>
<a href="#l23.108"></a><span id="l23.108"> }</span>
<a href="#l23.109"></a><span id="l23.109" class="difflineminus">-</span>
<a href="#l23.110"></a><span id="l23.110" class="difflineminus">-.dialogheader-title {</span>
<a href="#l23.111"></a><span id="l23.111" class="difflineminus">-  margin: 0 !important;</span>
<a href="#l23.112"></a><span id="l23.112" class="difflineminus">-  font-size: larger;</span>
<a href="#l23.113"></a><span id="l23.113" class="difflineminus">-  font-weight: bold;</span>
<a href="#l23.114"></a><span id="l23.114" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mail/themes/windows/mail/messenger.css</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mail/themes/windows/mail/messenger.css</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -899,18 +899,16 @@ findbar {</span>
<a href="#l24.4"></a><span id="l24.4">   border-top-color: var(--chrome-content-separator-color);</span>
<a href="#l24.5"></a><span id="l24.5">   color: var(--toolbar-color);</span>
<a href="#l24.6"></a><span id="l24.6"> }</span>
<a href="#l24.7"></a><span id="l24.7"> </span>
<a href="#l24.8"></a><span id="l24.8"> /* ::::: groupbox ::::: */</span>
<a href="#l24.9"></a><span id="l24.9"> </span>
<a href="#l24.10"></a><span id="l24.10"> groupbox {</span>
<a href="#l24.11"></a><span id="l24.11">   -moz-appearance: groupbox;</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-  border: 2px groove ThreeDFace;</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineminus">-  border-radius: 3px;</span>
<a href="#l24.14"></a><span id="l24.14">   margin: 3px;</span>
<a href="#l24.15"></a><span id="l24.15">   padding: 3px 3px 6px;</span>
<a href="#l24.16"></a><span id="l24.16"> }</span>
<a href="#l24.17"></a><span id="l24.17"> </span>
<a href="#l24.18"></a><span id="l24.18"> caption {</span>
<a href="#l24.19"></a><span id="l24.19">   margin: -5px 6px 6px;</span>
<a href="#l24.20"></a><span id="l24.20">   font-weight: bold;</span>
<a href="#l24.21"></a><span id="l24.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mailnews/base/prefs/content/AccountManager.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mailnews/base/prefs/content/AccountManager.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -32,22 +32,26 @@</span>
<a href="#l25.4"></a><span id="l25.4"> var {Services} = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l25.5"></a><span id="l25.5"> var {BrowserUtils} = ChromeUtils.import(&quot;resource://gre/modules/BrowserUtils.jsm&quot;);</span>
<a href="#l25.6"></a><span id="l25.6"> var {Gloda} = ChromeUtils.import(&quot;resource:///modules/gloda/gloda.js&quot;);</span>
<a href="#l25.7"></a><span id="l25.7"> var {fixIterator} = ChromeUtils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l25.8"></a><span id="l25.8"> var {MailServices} = ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l25.9"></a><span id="l25.9"> var {allAccountsSorted} = ChromeUtils.import(&quot;resource:///modules/folderUtils.jsm&quot;);</span>
<a href="#l25.10"></a><span id="l25.10"> var {cleanUpHostName, isLegalHostNameOrIP} = ChromeUtils.import(&quot;resource:///modules/hostnameUtils.jsm&quot;);</span>
<a href="#l25.11"></a><span id="l25.11"> </span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-document.addEventListener(&quot;dialogcancel&quot;, onNotAccept);</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineminus">-document.addEventListener(&quot;dialogaccept&quot;, (event) =&gt; {</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineminus">-  if (!onAccept(true)) {</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineminus">-    event.preventDefault();</span>
<a href="#l25.16"></a><span id="l25.16" class="difflineminus">-  }</span>
<a href="#l25.17"></a><span id="l25.17" class="difflineminus">-});</span>
<a href="#l25.18"></a><span id="l25.18" class="difflineplus">+var inContent = !!document.getElementById(&quot;paneAccount&quot;);</span>
<a href="#l25.19"></a><span id="l25.19" class="difflineplus">+</span>
<a href="#l25.20"></a><span id="l25.20" class="difflineplus">+if (!inContent) {</span>
<a href="#l25.21"></a><span id="l25.21" class="difflineplus">+  document.addEventListener(&quot;dialogcancel&quot;, onNotAccept);</span>
<a href="#l25.22"></a><span id="l25.22" class="difflineplus">+  document.addEventListener(&quot;dialogaccept&quot;, (event) =&gt; {</span>
<a href="#l25.23"></a><span id="l25.23" class="difflineplus">+    if (!onAccept(true)) {</span>
<a href="#l25.24"></a><span id="l25.24" class="difflineplus">+      event.preventDefault();</span>
<a href="#l25.25"></a><span id="l25.25" class="difflineplus">+    }</span>
<a href="#l25.26"></a><span id="l25.26" class="difflineplus">+  });</span>
<a href="#l25.27"></a><span id="l25.27" class="difflineplus">+}</span>
<a href="#l25.28"></a><span id="l25.28"> </span>
<a href="#l25.29"></a><span id="l25.29"> // If Local directory has changed the app needs to restart. Once this is set</span>
<a href="#l25.30"></a><span id="l25.30"> // a restart will be attempted at each attempt to close the Account manager with OK.</span>
<a href="#l25.31"></a><span id="l25.31"> var gRestartNeeded = false;</span>
<a href="#l25.32"></a><span id="l25.32"> </span>
<a href="#l25.33"></a><span id="l25.33"> // This is a hash-map for every account we've touched in the pane. Each entry</span>
<a href="#l25.34"></a><span id="l25.34"> // has additional maps of attribute-value pairs that we're going to want to save</span>
<a href="#l25.35"></a><span id="l25.35"> // when the user hits OK.</span>
<a href="#l25.36"></a><span id="l25.36" class="difflineat">@@ -115,46 +119,79 @@ function updateElementWithKeys(account, </span>
<a href="#l25.37"></a><span id="l25.37">       if (MailServices.smtp.defaultServer)</span>
<a href="#l25.38"></a><span id="l25.38">         element.serverkey = MailServices.smtp.defaultServer.key;</span>
<a href="#l25.39"></a><span id="l25.39">       break;</span>
<a href="#l25.40"></a><span id="l25.40">     default:</span>
<a href="#l25.41"></a><span id="l25.41"> //      dump(&quot;unknown element type! &quot;+type+&quot;\n&quot;);</span>
<a href="#l25.42"></a><span id="l25.42">   }</span>
<a href="#l25.43"></a><span id="l25.43"> }</span>
<a href="#l25.44"></a><span id="l25.44"> </span>
<a href="#l25.45"></a><span id="l25.45" class="difflineplus">+</span>
<a href="#l25.46"></a><span id="l25.46" class="difflineplus">+</span>
<a href="#l25.47"></a><span id="l25.47" class="difflineplus">+</span>
<a href="#l25.48"></a><span id="l25.48"> // called when the whole document loads</span>
<a href="#l25.49"></a><span id="l25.49"> // perform initialization here</span>
<a href="#l25.50"></a><span id="l25.50"> function onLoad() {</span>
<a href="#l25.51"></a><span id="l25.51" class="difflineplus">+  accountArray = {};</span>
<a href="#l25.52"></a><span id="l25.52" class="difflineplus">+  gGenericAttributeTypes = {};</span>
<a href="#l25.53"></a><span id="l25.53" class="difflineplus">+</span>
<a href="#l25.54"></a><span id="l25.54" class="difflineplus">+  gAccountTree.load();</span>
<a href="#l25.55"></a><span id="l25.55" class="difflineplus">+</span>
<a href="#l25.56"></a><span id="l25.56" class="difflineplus">+  if (inContent) {</span>
<a href="#l25.57"></a><span id="l25.57" class="difflineplus">+    setTimeout(() =&gt; {</span>
<a href="#l25.58"></a><span id="l25.58" class="difflineplus">+      // If we are in a preferences tab, we didn't get arguments via &quot;window&quot;,</span>
<a href="#l25.59"></a><span id="l25.59" class="difflineplus">+      // select the default server first.</span>
<a href="#l25.60"></a><span id="l25.60" class="difflineplus">+      selectServer(null, null);</span>
<a href="#l25.61"></a><span id="l25.61" class="difflineplus">+      let accountTree = document.getElementById(&quot;account-tree-children&quot;);</span>
<a href="#l25.62"></a><span id="l25.62" class="difflineplus">+      accountTree.dispatchEvent(</span>
<a href="#l25.63"></a><span id="l25.63" class="difflineplus">+        new CustomEvent(&quot;account-tree-loaded&quot;, { bubbles: true, cancelable: false })</span>
<a href="#l25.64"></a><span id="l25.64" class="difflineplus">+      );</span>
<a href="#l25.65"></a><span id="l25.65" class="difflineplus">+      accountTree.setAttribute(&quot;tree-loaded&quot;, &quot;true&quot;);</span>
<a href="#l25.66"></a><span id="l25.66" class="difflineplus">+    }, 0);</span>
<a href="#l25.67"></a><span id="l25.67" class="difflineplus">+    return;</span>
<a href="#l25.68"></a><span id="l25.68" class="difflineplus">+  }</span>
<a href="#l25.69"></a><span id="l25.69" class="difflineplus">+</span>
<a href="#l25.70"></a><span id="l25.70">   var selectedServer;</span>
<a href="#l25.71"></a><span id="l25.71">   var selectPage = null;</span>
<a href="#l25.72"></a><span id="l25.72"> </span>
<a href="#l25.73"></a><span id="l25.73">   // Arguments can have two properties: (1) &quot;server,&quot; the nsIMsgIncomingServer</span>
<a href="#l25.74"></a><span id="l25.74">   // to select initially and (2) &quot;selectPage,&quot; the page for that server to that</span>
<a href="#l25.75"></a><span id="l25.75">   // should be selected.</span>
<a href="#l25.76"></a><span id="l25.76">   if (&quot;arguments&quot; in window &amp;&amp; window.arguments[0]) {</span>
<a href="#l25.77"></a><span id="l25.77">     selectedServer = window.arguments[0].server;</span>
<a href="#l25.78"></a><span id="l25.78">     selectPage = window.arguments[0].selectPage;</span>
<a href="#l25.79"></a><span id="l25.79">   }</span>
<a href="#l25.80"></a><span id="l25.80"> </span>
<a href="#l25.81"></a><span id="l25.81" class="difflineminus">-  accountArray = {};</span>
<a href="#l25.82"></a><span id="l25.82" class="difflineminus">-  gGenericAttributeTypes = {};</span>
<a href="#l25.83"></a><span id="l25.83" class="difflineminus">-</span>
<a href="#l25.84"></a><span id="l25.84" class="difflineminus">-  gAccountTree.load();</span>
<a href="#l25.85"></a><span id="l25.85" class="difflineminus">-</span>
<a href="#l25.86"></a><span id="l25.86" class="difflineminus">-  setTimeout(selectServer, 0, selectedServer, selectPage);</span>
<a href="#l25.87"></a><span id="l25.87" class="difflineminus">-</span>
<a href="#l25.88"></a><span id="l25.88">   // Make sure the account manager window fits the screen.</span>
<a href="#l25.89"></a><span id="l25.89">   document.getElementById(&quot;accountManager&quot;).style.maxHeight =</span>
<a href="#l25.90"></a><span id="l25.90">     (window.screen.availHeight - 30) + &quot;px&quot;;</span>
<a href="#l25.91"></a><span id="l25.91" class="difflineplus">+  setTimeout(selectServer, 0, selectedServer, selectPage);</span>
<a href="#l25.92"></a><span id="l25.92"> }</span>
<a href="#l25.93"></a><span id="l25.93"> </span>
<a href="#l25.94"></a><span id="l25.94"> function onUnload() {</span>
<a href="#l25.95"></a><span id="l25.95">   gAccountTree.unload();</span>
<a href="#l25.96"></a><span id="l25.96"> }</span>
<a href="#l25.97"></a><span id="l25.97"> </span>
<a href="#l25.98"></a><span id="l25.98" class="difflineplus">+/**</span>
<a href="#l25.99"></a><span id="l25.99" class="difflineplus">+ * Select a specific account in the account tree.</span>
<a href="#l25.100"></a><span id="l25.100" class="difflineplus">+ *</span>
<a href="#l25.101"></a><span id="l25.101" class="difflineplus">+ * @param serverKey     The server key of the account to select.</span>
<a href="#l25.102"></a><span id="l25.102" class="difflineplus">+ * @param selectPageId  The xul file name of a page to select (a subpanel of the account).</span>
<a href="#l25.103"></a><span id="l25.103" class="difflineplus">+ */</span>
<a href="#l25.104"></a><span id="l25.104" class="difflineplus">+function selectServerByKey(serverKey, selectPageId) {</span>
<a href="#l25.105"></a><span id="l25.105" class="difflineplus">+  let server = MailServices.accounts.getIncomingServer(serverKey);</span>
<a href="#l25.106"></a><span id="l25.106" class="difflineplus">+  selectServer(server, selectPageId);</span>
<a href="#l25.107"></a><span id="l25.107" class="difflineplus">+}</span>
<a href="#l25.108"></a><span id="l25.108" class="difflineplus">+</span>
<a href="#l25.109"></a><span id="l25.109" class="difflineplus">+/**</span>
<a href="#l25.110"></a><span id="l25.110" class="difflineplus">+ * Select a specific account in the account tree.</span>
<a href="#l25.111"></a><span id="l25.111" class="difflineplus">+ *</span>
<a href="#l25.112"></a><span id="l25.112" class="difflineplus">+ * @param server        The nsIMsgServer of the account to select.</span>
<a href="#l25.113"></a><span id="l25.113" class="difflineplus">+ * @param selectPageId  The xul file name of a page to select (a subpanel of the account).</span>
<a href="#l25.114"></a><span id="l25.114" class="difflineplus">+ */</span>
<a href="#l25.115"></a><span id="l25.115"> function selectServer(server, selectPageId) {</span>
<a href="#l25.116"></a><span id="l25.116">   let childrenNode = document.getElementById(&quot;account-tree-children&quot;);</span>
<a href="#l25.117"></a><span id="l25.117"> </span>
<a href="#l25.118"></a><span id="l25.118">   // Default to showing the first account.</span>
<a href="#l25.119"></a><span id="l25.119">   let accountNode = childrenNode.firstChild;</span>
<a href="#l25.120"></a><span id="l25.120"> </span>
<a href="#l25.121"></a><span id="l25.121">   // Find the tree-node for the account we want to select</span>
<a href="#l25.122"></a><span id="l25.122">   if (server) {</span>
<a href="#l25.123"></a><span id="l25.123" class="difflineat">@@ -218,50 +255,42 @@ function replaceWithDefaultSmtpServer(de</span>
<a href="#l25.124"></a><span id="l25.124">                                           &quot;smtpServerKey&quot;, null, false);</span>
<a href="#l25.125"></a><span id="l25.125">       if (smtpServerKey == deletedSmtpServerKey)</span>
<a href="#l25.126"></a><span id="l25.126">         setAccountValue(accountValues, &quot;identity&quot;, &quot;smtpServerKey&quot;, &quot;&quot;);</span>
<a href="#l25.127"></a><span id="l25.127">     }</span>
<a href="#l25.128"></a><span id="l25.128">   }</span>
<a href="#l25.129"></a><span id="l25.129"> }</span>
<a href="#l25.130"></a><span id="l25.130"> </span>
<a href="#l25.131"></a><span id="l25.131"> /**</span>
<a href="#l25.132"></a><span id="l25.132" class="difflineminus">- * Called when OK is clicked on the dialog.</span>
<a href="#l25.133"></a><span id="l25.133" class="difflineplus">+ * Called when all the changes should be really saved</span>
<a href="#l25.134"></a><span id="l25.134" class="difflineplus">+ * (e.g. OK was clicked in the dialog, or the Preferences tab closed).</span>
<a href="#l25.135"></a><span id="l25.135">  *</span>
<a href="#l25.136"></a><span id="l25.136" class="difflineminus">- * @param aDoChecks  If true, execute checks on data, otherwise hope they</span>
<a href="#l25.137"></a><span id="l25.137" class="difflineminus">- *                   were already done elsewhere and proceed directly to saving</span>
<a href="#l25.138"></a><span id="l25.138" class="difflineminus">- *                   the data.</span>
<a href="#l25.139"></a><span id="l25.139" class="difflineplus">+ * @param abortOnFailure  If true, return without saving if data checks didn't pass.</span>
<a href="#l25.140"></a><span id="l25.140">  */</span>
<a href="#l25.141"></a><span id="l25.141" class="difflineminus">-function onAccept(aDoChecks) {</span>
<a href="#l25.142"></a><span id="l25.142" class="difflineminus">-  if (aDoChecks) {</span>
<a href="#l25.143"></a><span id="l25.143" class="difflineminus">-    // Check if user/host have been modified correctly.</span>
<a href="#l25.144"></a><span id="l25.144" class="difflineminus">-    if (!checkUserServerChanges(true))</span>
<a href="#l25.145"></a><span id="l25.145" class="difflineminus">-      return false;</span>
<a href="#l25.146"></a><span id="l25.146" class="difflineminus">-</span>
<a href="#l25.147"></a><span id="l25.147" class="difflineminus">-    if (!checkAccountNameIsValid())</span>
<a href="#l25.148"></a><span id="l25.148" class="difflineminus">-      return false;</span>
<a href="#l25.149"></a><span id="l25.149" class="difflineminus">-  }</span>
<a href="#l25.150"></a><span id="l25.150" class="difflineminus">-</span>
<a href="#l25.151"></a><span id="l25.151" class="difflineplus">+function onAccept(abortOnFailure) {</span>
<a href="#l25.152"></a><span id="l25.152">   // Run checks as if the page was being left.</span>
<a href="#l25.153"></a><span id="l25.153" class="difflineminus">-  if (&quot;onLeave&quot; in top.frames.contentFrame) {</span>
<a href="#l25.154"></a><span id="l25.154" class="difflineminus">-    if (!top.frames.contentFrame.onLeave()) {</span>
<a href="#l25.155"></a><span id="l25.155" class="difflineplus">+  if (currentAccount &amp;&amp; (&quot;onLeave&quot; in top.frames.contentFrame)) {</span>
<a href="#l25.156"></a><span id="l25.156" class="difflineplus">+    if (!top.frames.contentFrame.onLeave(!abortOnFailure)) {</span>
<a href="#l25.157"></a><span id="l25.157">       // Prevent closing Account manager if user declined the changes.</span>
<a href="#l25.158"></a><span id="l25.158" class="difflineminus">-      return false;</span>
<a href="#l25.159"></a><span id="l25.159" class="difflineplus">+      if (abortOnFailure)</span>
<a href="#l25.160"></a><span id="l25.160" class="difflineplus">+        return false;</span>
<a href="#l25.161"></a><span id="l25.161">     }</span>
<a href="#l25.162"></a><span id="l25.162">   }</span>
<a href="#l25.163"></a><span id="l25.163"> </span>
<a href="#l25.164"></a><span id="l25.164" class="difflineminus">-  if (!onSave())</span>
<a href="#l25.165"></a><span id="l25.165" class="difflineplus">+  if (!onSave() &amp;&amp; abortOnFailure)</span>
<a href="#l25.166"></a><span id="l25.166">     return false;</span>
<a href="#l25.167"></a><span id="l25.167"> </span>
<a href="#l25.168"></a><span id="l25.168">   // hack hack - save the prefs file NOW in case we crash</span>
<a href="#l25.169"></a><span id="l25.169">   Services.prefs.savePrefFile(null);</span>
<a href="#l25.170"></a><span id="l25.170"> </span>
<a href="#l25.171"></a><span id="l25.171">   if (gRestartNeeded) {</span>
<a href="#l25.172"></a><span id="l25.172">     gRestartNeeded = !BrowserUtils.restartApplication();</span>
<a href="#l25.173"></a><span id="l25.173">     // returns false so that Account manager is not exited when restart failed</span>
<a href="#l25.174"></a><span id="l25.174" class="difflineminus">-    return !gRestartNeeded;</span>
<a href="#l25.175"></a><span id="l25.175" class="difflineplus">+    if (abortOnFailure)</span>
<a href="#l25.176"></a><span id="l25.176" class="difflineplus">+      return !gRestartNeeded;</span>
<a href="#l25.177"></a><span id="l25.177">   }</span>
<a href="#l25.178"></a><span id="l25.178"> </span>
<a href="#l25.179"></a><span id="l25.179">   return true;</span>
<a href="#l25.180"></a><span id="l25.180"> }</span>
<a href="#l25.181"></a><span id="l25.181"> </span>
<a href="#l25.182"></a><span id="l25.182"> /**</span>
<a href="#l25.183"></a><span id="l25.183">  * Runs when Cancel button is used.</span>
<a href="#l25.184"></a><span id="l25.184">  *</span>
<a href="#l25.185"></a><span id="l25.185" class="difflineat">@@ -478,21 +507,20 @@ function checkDirectoryIsUsable(aLocalPa</span>
<a href="#l25.186"></a><span id="l25.186">   }</span>
<a href="#l25.187"></a><span id="l25.187"> </span>
<a href="#l25.188"></a><span id="l25.188">   return true;</span>
<a href="#l25.189"></a><span id="l25.189"> }</span>
<a href="#l25.190"></a><span id="l25.190"> </span>
<a href="#l25.191"></a><span id="l25.191"> /**</span>
<a href="#l25.192"></a><span id="l25.192">  * Check if the user and/or host names have been changed and if so check</span>
<a href="#l25.193"></a><span id="l25.193">  * if the new names already exists for an account or are empty.</span>
<a href="#l25.194"></a><span id="l25.194" class="difflineminus">- * Also check if the Local Directory path was changed.</span>
<a href="#l25.195"></a><span id="l25.195">  *</span>
<a href="#l25.196"></a><span id="l25.196" class="difflineminus">- * @param showAlert  show and alert if a problem with the host / user name is found</span>
<a href="#l25.197"></a><span id="l25.197" class="difflineplus">+ * @param restoreValuesOnFailure  show and alert if a problem with the host / user name is found</span>
<a href="#l25.198"></a><span id="l25.198">  */</span>
<a href="#l25.199"></a><span id="l25.199" class="difflineminus">-function checkUserServerChanges(showAlert) {</span>
<a href="#l25.200"></a><span id="l25.200" class="difflineplus">+function checkUserServerChanges(restoreValuesOnFailure) {</span>
<a href="#l25.201"></a><span id="l25.201">   const prefBundle = document.getElementById(&quot;bundle_prefs&quot;);</span>
<a href="#l25.202"></a><span id="l25.202">   const alertTitle = prefBundle.getString(&quot;prefPanel-server&quot;);</span>
<a href="#l25.203"></a><span id="l25.203">   var alertText = null;</span>
<a href="#l25.204"></a><span id="l25.204"> </span>
<a href="#l25.205"></a><span id="l25.205">   var accountValues = getValueArrayFor(currentAccount);</span>
<a href="#l25.206"></a><span id="l25.206">   if (!accountValues)</span>
<a href="#l25.207"></a><span id="l25.207">     return true;</span>
<a href="#l25.208"></a><span id="l25.208"> </span>
<a href="#l25.209"></a><span id="l25.209" class="difflineat">@@ -501,31 +529,34 @@ function checkUserServerChanges(showAler</span>
<a href="#l25.210"></a><span id="l25.210">   // If this type doesn't exist (just removed) then return.</span>
<a href="#l25.211"></a><span id="l25.211">   if (!(&quot;server&quot; in accountValues) || !accountValues.server)</span>
<a href="#l25.212"></a><span id="l25.212">     return true;</span>
<a href="#l25.213"></a><span id="l25.213"> </span>
<a href="#l25.214"></a><span id="l25.214">   // Get the new username, hostname and type from the page.</span>
<a href="#l25.215"></a><span id="l25.215">   var typeElem = getPageFormElement(&quot;server.type&quot;);</span>
<a href="#l25.216"></a><span id="l25.216">   var hostElem = getPageFormElement(&quot;server.realHostName&quot;);</span>
<a href="#l25.217"></a><span id="l25.217">   var userElem = getPageFormElement(&quot;server.realUsername&quot;);</span>
<a href="#l25.218"></a><span id="l25.218" class="difflineminus">-  if (typeElem &amp;&amp; userElem &amp;&amp; hostElem) {</span>
<a href="#l25.219"></a><span id="l25.219" class="difflineplus">+  if (!typeElem || !userElem || !hostElem)</span>
<a href="#l25.220"></a><span id="l25.220" class="difflineplus">+    return true;</span>
<a href="#l25.221"></a><span id="l25.221" class="difflineplus">+</span>
<a href="#l25.222"></a><span id="l25.222">   var newType = getFormElementValue(typeElem);</span>
<a href="#l25.223"></a><span id="l25.223">   var oldHost = getAccountValue(currentAccount, accountValues, &quot;server&quot;, &quot;realHostName&quot;,</span>
<a href="#l25.224"></a><span id="l25.224">                                 null, false);</span>
<a href="#l25.225"></a><span id="l25.225">   var newHost = getFormElementValue(hostElem);</span>
<a href="#l25.226"></a><span id="l25.226">   var oldUser = getAccountValue(currentAccount, accountValues, &quot;server&quot;, &quot;realUsername&quot;,</span>
<a href="#l25.227"></a><span id="l25.227">                                 null, false);</span>
<a href="#l25.228"></a><span id="l25.228"> </span>
<a href="#l25.229"></a><span id="l25.229">   var newUser = getFormElementValue(userElem);</span>
<a href="#l25.230"></a><span id="l25.230">   var checkUser = true;</span>
<a href="#l25.231"></a><span id="l25.231">   // There is no username needed for e.g. news so reset it.</span>
<a href="#l25.232"></a><span id="l25.232">   if (currentServer &amp;&amp; !currentServer.protocolInfo.requiresUsername) {</span>
<a href="#l25.233"></a><span id="l25.233">     oldUser = newUser = &quot;&quot;;</span>
<a href="#l25.234"></a><span id="l25.234">     checkUser = false;</span>
<a href="#l25.235"></a><span id="l25.235">   }</span>
<a href="#l25.236"></a><span id="l25.236" class="difflineplus">+</span>
<a href="#l25.237"></a><span id="l25.237">   alertText = null;</span>
<a href="#l25.238"></a><span id="l25.238">   // If something is changed then check if the new user/host already exists.</span>
<a href="#l25.239"></a><span id="l25.239">   if ((oldUser != newUser) || (oldHost != newHost)) {</span>
<a href="#l25.240"></a><span id="l25.240">     newUser = newUser.trim();</span>
<a href="#l25.241"></a><span id="l25.241">     newHost = cleanUpHostName(newHost);</span>
<a href="#l25.242"></a><span id="l25.242">     if (checkUser &amp;&amp; (newUser == &quot;&quot;)) {</span>
<a href="#l25.243"></a><span id="l25.243">       alertText = prefBundle.getString(&quot;userNameEmpty&quot;);</span>
<a href="#l25.244"></a><span id="l25.244">     } else if (!isLegalHostNameOrIP(newHost)) {</span>
<a href="#l25.245"></a><span id="l25.245" class="difflineat">@@ -538,107 +569,128 @@ function checkUserServerChanges(showAler</span>
<a href="#l25.246"></a><span id="l25.246">       } else {</span>
<a href="#l25.247"></a><span id="l25.247">         // New hostname passed all checks. We may have cleaned it up so set</span>
<a href="#l25.248"></a><span id="l25.248">         // the new value back into the input element.</span>
<a href="#l25.249"></a><span id="l25.249">         setFormElementValue(hostElem, newHost);</span>
<a href="#l25.250"></a><span id="l25.250">       }</span>
<a href="#l25.251"></a><span id="l25.251">     }</span>
<a href="#l25.252"></a><span id="l25.252"> </span>
<a href="#l25.253"></a><span id="l25.253">     if (alertText) {</span>
<a href="#l25.254"></a><span id="l25.254" class="difflineminus">-      if (showAlert)</span>
<a href="#l25.255"></a><span id="l25.255" class="difflineminus">-        Services.prompt.alert(window, alertTitle, alertText);</span>
<a href="#l25.256"></a><span id="l25.256" class="difflineminus">-      // Restore the old values before return</span>
<a href="#l25.257"></a><span id="l25.257" class="difflineminus">-      if (checkUser)</span>
<a href="#l25.258"></a><span id="l25.258" class="difflineminus">-        setFormElementValue(userElem, oldUser);</span>
<a href="#l25.259"></a><span id="l25.259" class="difflineminus">-      setFormElementValue(hostElem, oldHost);</span>
<a href="#l25.260"></a><span id="l25.260" class="difflineminus">-      // If no message is shown to the user, silently revert the values</span>
<a href="#l25.261"></a><span id="l25.261" class="difflineminus">-      // and consider the check a success.</span>
<a href="#l25.262"></a><span id="l25.262" class="difflineminus">-      return !showAlert;</span>
<a href="#l25.263"></a><span id="l25.263" class="difflineplus">+      Services.prompt.alert(window, alertTitle, alertText);</span>
<a href="#l25.264"></a><span id="l25.264" class="difflineplus">+      if (restoreValuesOnFailure) {</span>
<a href="#l25.265"></a><span id="l25.265" class="difflineplus">+        // Restore the old values before return</span>
<a href="#l25.266"></a><span id="l25.266" class="difflineplus">+        if (checkUser)</span>
<a href="#l25.267"></a><span id="l25.267" class="difflineplus">+          setFormElementValue(userElem, oldUser);</span>
<a href="#l25.268"></a><span id="l25.268" class="difflineplus">+        setFormElementValue(hostElem, oldHost);</span>
<a href="#l25.269"></a><span id="l25.269" class="difflineplus">+        // If no message is shown to the user, silently revert the values</span>
<a href="#l25.270"></a><span id="l25.270" class="difflineplus">+        // and consider the check a success.</span>
<a href="#l25.271"></a><span id="l25.271" class="difflineplus">+      }</span>
<a href="#l25.272"></a><span id="l25.272" class="difflineplus">+      return false;</span>
<a href="#l25.273"></a><span id="l25.273">     }</span>
<a href="#l25.274"></a><span id="l25.274"> </span>
<a href="#l25.275"></a><span id="l25.275">     // If username is changed remind users to change Your Name and Email Address.</span>
<a href="#l25.276"></a><span id="l25.276">     // If server name is changed and has defined filters then remind users</span>
<a href="#l25.277"></a><span id="l25.277">     // to edit rules.</span>
<a href="#l25.278"></a><span id="l25.278" class="difflineminus">-    if (showAlert) {</span>
<a href="#l25.279"></a><span id="l25.279" class="difflineminus">-      let filterList;</span>
<a href="#l25.280"></a><span id="l25.280" class="difflineminus">-      if (currentServer &amp;&amp; checkUser) {</span>
<a href="#l25.281"></a><span id="l25.281" class="difflineminus">-        filterList = currentServer.getEditableFilterList(null);</span>
<a href="#l25.282"></a><span id="l25.282" class="difflineminus">-      }</span>
<a href="#l25.283"></a><span id="l25.283" class="difflineminus">-      let changeText = &quot;&quot;;</span>
<a href="#l25.284"></a><span id="l25.284" class="difflineminus">-      if ((oldHost != newHost) &amp;&amp;</span>
<a href="#l25.285"></a><span id="l25.285" class="difflineminus">-          (filterList != undefined) &amp;&amp; filterList.filterCount)</span>
<a href="#l25.286"></a><span id="l25.286" class="difflineminus">-        changeText = prefBundle.getString(&quot;serverNameChanged&quot;);</span>
<a href="#l25.287"></a><span id="l25.287" class="difflineminus">-      // In the event that oldHost == newHost or oldUser == newUser,</span>
<a href="#l25.288"></a><span id="l25.288" class="difflineminus">-      // the \n\n will be trimmed off before the message is shown.</span>
<a href="#l25.289"></a><span id="l25.289" class="difflineminus">-      if (oldUser != newUser)</span>
<a href="#l25.290"></a><span id="l25.290" class="difflineminus">-        changeText = changeText + &quot;\n\n&quot; + prefBundle.getString(&quot;userNameChanged&quot;);</span>
<a href="#l25.291"></a><span id="l25.291" class="difflineplus">+    let filterList;</span>
<a href="#l25.292"></a><span id="l25.292" class="difflineplus">+    if (currentServer &amp;&amp; checkUser) {</span>
<a href="#l25.293"></a><span id="l25.293" class="difflineplus">+      filterList = currentServer.getEditableFilterList(null);</span>
<a href="#l25.294"></a><span id="l25.294" class="difflineplus">+    }</span>
<a href="#l25.295"></a><span id="l25.295" class="difflineplus">+    let changeText = &quot;&quot;;</span>
<a href="#l25.296"></a><span id="l25.296" class="difflineplus">+    if ((oldHost != newHost) &amp;&amp;</span>
<a href="#l25.297"></a><span id="l25.297" class="difflineplus">+        (filterList != undefined) &amp;&amp; filterList.filterCount &gt; 0)</span>
<a href="#l25.298"></a><span id="l25.298" class="difflineplus">+      changeText = prefBundle.getString(&quot;serverNameChanged&quot;);</span>
<a href="#l25.299"></a><span id="l25.299" class="difflineplus">+    // In the event that oldHost == newHost or oldUser == newUser,</span>
<a href="#l25.300"></a><span id="l25.300" class="difflineplus">+    // the \n\n will be trimmed off before the message is shown.</span>
<a href="#l25.301"></a><span id="l25.301" class="difflineplus">+    if (oldUser != newUser)</span>
<a href="#l25.302"></a><span id="l25.302" class="difflineplus">+      changeText = changeText + &quot;\n\n&quot; + prefBundle.getString(&quot;userNameChanged&quot;);</span>
<a href="#l25.303"></a><span id="l25.303"> </span>
<a href="#l25.304"></a><span id="l25.304" class="difflineminus">-      if (changeText != &quot;&quot;)</span>
<a href="#l25.305"></a><span id="l25.305" class="difflineminus">-        Services.prompt.alert(window, alertTitle, changeText.trim());</span>
<a href="#l25.306"></a><span id="l25.306" class="difflineminus">-    }</span>
<a href="#l25.307"></a><span id="l25.307" class="difflineplus">+    if (changeText != &quot;&quot;)</span>
<a href="#l25.308"></a><span id="l25.308" class="difflineplus">+      Services.prompt.alert(window, alertTitle, changeText.trim());</span>
<a href="#l25.309"></a><span id="l25.309">   }</span>
<a href="#l25.310"></a><span id="l25.310" class="difflineminus">-  }</span>
<a href="#l25.311"></a><span id="l25.311" class="difflineplus">+  return true;</span>
<a href="#l25.312"></a><span id="l25.312" class="difflineplus">+}</span>
<a href="#l25.313"></a><span id="l25.313" class="difflineplus">+</span>
<a href="#l25.314"></a><span id="l25.314" class="difflineplus">+/**</span>
<a href="#l25.315"></a><span id="l25.315" class="difflineplus">+ * Check if the Local Directory path was changed.</span>
<a href="#l25.316"></a><span id="l25.316" class="difflineplus">+ */</span>
<a href="#l25.317"></a><span id="l25.317" class="difflineplus">+function checkLocalPathChanges(restoreValuesOnFailure) {</span>
<a href="#l25.318"></a><span id="l25.318" class="difflineplus">+  var accountValues = getValueArrayFor(currentAccount);</span>
<a href="#l25.319"></a><span id="l25.319" class="difflineplus">+  if (!accountValues)</span>
<a href="#l25.320"></a><span id="l25.320" class="difflineplus">+    return true;</span>
<a href="#l25.321"></a><span id="l25.321"> </span>
<a href="#l25.322"></a><span id="l25.322">   // Check the new value of the server.localPath field for validity.</span>
<a href="#l25.323"></a><span id="l25.323">   var pathElem = getPageFormElement(&quot;server.localPath&quot;);</span>
<a href="#l25.324"></a><span id="l25.324">   if (!pathElem)</span>
<a href="#l25.325"></a><span id="l25.325">     return true;</span>
<a href="#l25.326"></a><span id="l25.326"> </span>
<a href="#l25.327"></a><span id="l25.327" class="difflineplus">+  const prefBundle = document.getElementById(&quot;bundle_prefs&quot;);</span>
<a href="#l25.328"></a><span id="l25.328" class="difflineplus">+  const alertTitle = prefBundle.getString(&quot;prefPanel-server&quot;);</span>
<a href="#l25.329"></a><span id="l25.329" class="difflineplus">+</span>
<a href="#l25.330"></a><span id="l25.330">   if (!checkDirectoryIsUsable(getFormElementValue(pathElem))) {</span>
<a href="#l25.331"></a><span id="l25.331"> //          return false; // Temporarily disable this. Just show warning but do not block. See bug 921371.</span>
<a href="#l25.332"></a><span id="l25.332" class="difflineminus">-          Cu.reportError(&quot;Local directory '&quot; +</span>
<a href="#l25.333"></a><span id="l25.333" class="difflineminus">-            getFormElementValue(pathElem).path + &quot;' of account &quot; +</span>
<a href="#l25.334"></a><span id="l25.334" class="difflineminus">-            currentAccount.key + &quot; is not safe to use. Consider changing it.&quot;);</span>
<a href="#l25.335"></a><span id="l25.335" class="difflineplus">+    Cu.reportError(&quot;Local directory '&quot; +</span>
<a href="#l25.336"></a><span id="l25.336" class="difflineplus">+        getFormElementValue(pathElem).path + &quot;' of account &quot; +</span>
<a href="#l25.337"></a><span id="l25.337" class="difflineplus">+        currentAccount.key + &quot; is not safe to use. Consider changing it.&quot;);</span>
<a href="#l25.338"></a><span id="l25.338">   }</span>
<a href="#l25.339"></a><span id="l25.339"> </span>
<a href="#l25.340"></a><span id="l25.340">   // Warn if the Local directory path was changed.</span>
<a href="#l25.341"></a><span id="l25.341">   // This can be removed once bug 2654 is fixed.</span>
<a href="#l25.342"></a><span id="l25.342">   let oldLocalDir = getAccountValue(currentAccount, accountValues, &quot;server&quot;, &quot;localPath&quot;,</span>
<a href="#l25.343"></a><span id="l25.343">                                     null, false); // both return nsIFile</span>
<a href="#l25.344"></a><span id="l25.344">   let newLocalDir = getFormElementValue(pathElem);</span>
<a href="#l25.345"></a><span id="l25.345">   if (oldLocalDir &amp;&amp; newLocalDir &amp;&amp; (oldLocalDir.path != newLocalDir.path)) {</span>
<a href="#l25.346"></a><span id="l25.346">     let brandName = document.getElementById(&quot;bundle_brand&quot;).getString(&quot;brandShortName&quot;);</span>
<a href="#l25.347"></a><span id="l25.347" class="difflineminus">-    alertText = prefBundle.getFormattedString(&quot;localDirectoryChanged&quot;, [brandName]);</span>
<a href="#l25.348"></a><span id="l25.348" class="difflineplus">+    let alertText = prefBundle.getFormattedString(&quot;localDirectoryChanged&quot;, [brandName]);</span>
<a href="#l25.349"></a><span id="l25.349"> </span>
<a href="#l25.350"></a><span id="l25.350">     let cancel = Services.prompt.confirmEx(window, alertTitle, alertText,</span>
<a href="#l25.351"></a><span id="l25.351">       (Services.prompt.BUTTON_POS_0 * Services.prompt.BUTTON_TITLE_IS_STRING) +</span>
<a href="#l25.352"></a><span id="l25.352">       (Services.prompt.BUTTON_POS_1 * Services.prompt.BUTTON_TITLE_CANCEL),</span>
<a href="#l25.353"></a><span id="l25.353">       prefBundle.getString(&quot;localDirectoryRestart&quot;), null, null, null, {});</span>
<a href="#l25.354"></a><span id="l25.354">     if (cancel) {</span>
<a href="#l25.355"></a><span id="l25.355">       setFormElementValue(pathElem, oldLocalDir);</span>
<a href="#l25.356"></a><span id="l25.356" class="difflineminus">-      return false;</span>
<a href="#l25.357"></a><span id="l25.357" class="difflineplus">+      return true;</span>
<a href="#l25.358"></a><span id="l25.358">     }</span>
<a href="#l25.359"></a><span id="l25.359">     gRestartNeeded = true;</span>
<a href="#l25.360"></a><span id="l25.360">   }</span>
<a href="#l25.361"></a><span id="l25.361"> </span>
<a href="#l25.362"></a><span id="l25.362">   return true;</span>
<a href="#l25.363"></a><span id="l25.363"> }</span>
<a href="#l25.364"></a><span id="l25.364"> </span>
<a href="#l25.365"></a><span id="l25.365"> /**</span>
<a href="#l25.366"></a><span id="l25.366">  * If account name is not valid, alert the user.</span>
<a href="#l25.367"></a><span id="l25.367">  */</span>
<a href="#l25.368"></a><span id="l25.368" class="difflineminus">-function checkAccountNameIsValid() {</span>
<a href="#l25.369"></a><span id="l25.369" class="difflineplus">+function checkAccountNameIsValid(restoreValuesOnFailure) {</span>
<a href="#l25.370"></a><span id="l25.370">   if (!currentAccount)</span>
<a href="#l25.371"></a><span id="l25.371">     return true;</span>
<a href="#l25.372"></a><span id="l25.372"> </span>
<a href="#l25.373"></a><span id="l25.373" class="difflineplus">+  let accountValues = getValueArrayFor(currentAccount);</span>
<a href="#l25.374"></a><span id="l25.374" class="difflineplus">+  if (!accountValues)</span>
<a href="#l25.375"></a><span id="l25.375" class="difflineplus">+    return true;</span>
<a href="#l25.376"></a><span id="l25.376" class="difflineplus">+</span>
<a href="#l25.377"></a><span id="l25.377">   const prefBundle = document.getElementById(&quot;bundle_prefs&quot;);</span>
<a href="#l25.378"></a><span id="l25.378">   let alertText = null;</span>
<a href="#l25.379"></a><span id="l25.379"> </span>
<a href="#l25.380"></a><span id="l25.380">   let serverNameElem = getPageFormElement(&quot;server.prettyName&quot;);</span>
<a href="#l25.381"></a><span id="l25.381">   if (serverNameElem) {</span>
<a href="#l25.382"></a><span id="l25.382">     let accountName = getFormElementValue(serverNameElem);</span>
<a href="#l25.383"></a><span id="l25.383" class="difflineplus">+    let oldName = getAccountValue(currentAccount, accountValues, &quot;server&quot;, &quot;prettyName&quot;,</span>
<a href="#l25.384"></a><span id="l25.384" class="difflineplus">+                                  null, false);</span>
<a href="#l25.385"></a><span id="l25.385"> </span>
<a href="#l25.386"></a><span id="l25.386">     if (!accountName)</span>
<a href="#l25.387"></a><span id="l25.387">       alertText = prefBundle.getString(&quot;accountNameEmpty&quot;);</span>
<a href="#l25.388"></a><span id="l25.388">     else if (accountNameExists(accountName, currentAccount.key))</span>
<a href="#l25.389"></a><span id="l25.389">       alertText = prefBundle.getString(&quot;accountNameExists&quot;);</span>
<a href="#l25.390"></a><span id="l25.390"> </span>
<a href="#l25.391"></a><span id="l25.391">     if (alertText) {</span>
<a href="#l25.392"></a><span id="l25.392">       const alertTitle = prefBundle.getString(&quot;accountWizard&quot;);</span>
<a href="#l25.393"></a><span id="l25.393">       Services.prompt.alert(window, alertTitle, alertText);</span>
<a href="#l25.394"></a><span id="l25.394" class="difflineplus">+      if (restoreValuesOnFailure) {</span>
<a href="#l25.395"></a><span id="l25.395" class="difflineplus">+        // Restore the old values before return.</span>
<a href="#l25.396"></a><span id="l25.396" class="difflineplus">+        setFormElementValue(serverNameElem, oldName);</span>
<a href="#l25.397"></a><span id="l25.397" class="difflineplus">+      }</span>
<a href="#l25.398"></a><span id="l25.398">       return false;</span>
<a href="#l25.399"></a><span id="l25.399">     }</span>
<a href="#l25.400"></a><span id="l25.400">   }</span>
<a href="#l25.401"></a><span id="l25.401"> </span>
<a href="#l25.402"></a><span id="l25.402">   return true;</span>
<a href="#l25.403"></a><span id="l25.403"> }</span>
<a href="#l25.404"></a><span id="l25.404"> </span>
<a href="#l25.405"></a><span id="l25.405"> function onSave() {</span>
<a href="#l25.406"></a><span id="l25.406" class="difflineat">@@ -1016,60 +1068,48 @@ function onAccountTreeSelect(pageId, acc</span>
<a href="#l25.407"></a><span id="l25.407">   if (!changeView) {</span>
<a href="#l25.408"></a><span id="l25.408">     if (tree.view.selection.count &lt; 1)</span>
<a href="#l25.409"></a><span id="l25.409">       return false;</span>
<a href="#l25.410"></a><span id="l25.410"> </span>
<a href="#l25.411"></a><span id="l25.411">     let node = tree.view.getItemAtIndex(tree.currentIndex);</span>
<a href="#l25.412"></a><span id="l25.412">     account = (&quot;_account&quot; in node) ? node._account : null;</span>
<a href="#l25.413"></a><span id="l25.413"> </span>
<a href="#l25.414"></a><span id="l25.414">     pageId = node.getAttribute(&quot;PageTag&quot;);</span>
<a href="#l25.415"></a><span id="l25.415" class="difflineplus">+    changeView = true;</span>
<a href="#l25.416"></a><span id="l25.416">   }</span>
<a href="#l25.417"></a><span id="l25.417"> </span>
<a href="#l25.418"></a><span id="l25.418">   if (pageId == currentPageId &amp;&amp; account == currentAccount)</span>
<a href="#l25.419"></a><span id="l25.419">     return true;</span>
<a href="#l25.420"></a><span id="l25.420"> </span>
<a href="#l25.421"></a><span id="l25.421" class="difflineminus">-  if (document.getElementById(&quot;contentFrame&quot;).contentDocument.getElementById(&quot;server.localPath&quot;)) {</span>
<a href="#l25.422"></a><span id="l25.422" class="difflineminus">-    // Check if user/host names have been changed or the Local Directory is invalid.</span>
<a href="#l25.423"></a><span id="l25.423" class="difflineminus">-    if (!checkUserServerChanges(false)) {</span>
<a href="#l25.424"></a><span id="l25.424" class="difflineminus">-      changeView = true;</span>
<a href="#l25.425"></a><span id="l25.425" class="difflineminus">-      account = currentAccount;</span>
<a href="#l25.426"></a><span id="l25.426" class="difflineminus">-      pageId = currentPageId;</span>
<a href="#l25.427"></a><span id="l25.427" class="difflineminus">-    }</span>
<a href="#l25.428"></a><span id="l25.428" class="difflineminus">-</span>
<a href="#l25.429"></a><span id="l25.429" class="difflineminus">-    if (gRestartNeeded)</span>
<a href="#l25.430"></a><span id="l25.430" class="difflineminus">-      onAccept(false);</span>
<a href="#l25.431"></a><span id="l25.431" class="difflineminus">-  }</span>
<a href="#l25.432"></a><span id="l25.432" class="difflineminus">-</span>
<a href="#l25.433"></a><span id="l25.433" class="difflineminus">-  if (document.getElementById(&quot;contentFrame&quot;).contentDocument.getElementById(&quot;server.prettyName&quot;)) {</span>
<a href="#l25.434"></a><span id="l25.434" class="difflineminus">-    // Check if account name is valid.</span>
<a href="#l25.435"></a><span id="l25.435" class="difflineminus">-    if (!checkAccountNameIsValid()) {</span>
<a href="#l25.436"></a><span id="l25.436" class="difflineminus">-      changeView = true;</span>
<a href="#l25.437"></a><span id="l25.437" class="difflineminus">-      account = currentAccount;</span>
<a href="#l25.438"></a><span id="l25.438" class="difflineminus">-      pageId = currentPageId;</span>
<a href="#l25.439"></a><span id="l25.439" class="difflineminus">-    }</span>
<a href="#l25.440"></a><span id="l25.440" class="difflineminus">-  }</span>
<a href="#l25.441"></a><span id="l25.441" class="difflineminus">-</span>
<a href="#l25.442"></a><span id="l25.442">   if (currentPageId) {</span>
<a href="#l25.443"></a><span id="l25.443">     // Change focus to the account tree first so that any 'onchange' handlers</span>
<a href="#l25.444"></a><span id="l25.444">     // on elements in the current page have a chance to run before the page</span>
<a href="#l25.445"></a><span id="l25.445">     // is saved and replaced by the new one.</span>
<a href="#l25.446"></a><span id="l25.446">     tree.focus();</span>
<a href="#l25.447"></a><span id="l25.447">   }</span>
<a href="#l25.448"></a><span id="l25.448"> </span>
<a href="#l25.449"></a><span id="l25.449" class="difflineminus">-  // Provide opportunity to do cleanups or checks when the current page is being left.</span>
<a href="#l25.450"></a><span id="l25.450" class="difflineminus">-  if (&quot;onLeave&quot; in top.frames.contentFrame)</span>
<a href="#l25.451"></a><span id="l25.451" class="difflineminus">-    top.frames.contentFrame.onLeave();</span>
<a href="#l25.452"></a><span id="l25.452" class="difflineplus">+  // Provide opportunity to do cleanups and checks when the current page is being left.</span>
<a href="#l25.453"></a><span id="l25.453" class="difflineplus">+  if (currentAccount &amp;&amp; (&quot;onLeave&quot; in top.frames.contentFrame)) {</span>
<a href="#l25.454"></a><span id="l25.454" class="difflineplus">+    if (!top.frames.contentFrame.onLeave()) {</span>
<a href="#l25.455"></a><span id="l25.455" class="difflineplus">+      changeView = false;</span>
<a href="#l25.456"></a><span id="l25.456" class="difflineplus">+    }</span>
<a href="#l25.457"></a><span id="l25.457" class="difflineplus">+  }</span>
<a href="#l25.458"></a><span id="l25.458" class="difflineplus">+</span>
<a href="#l25.459"></a><span id="l25.459" class="difflineplus">+  if (!changeView) {</span>
<a href="#l25.460"></a><span id="l25.460" class="difflineplus">+    selectServer(currentAccount.incomingServer, currentPageId);</span>
<a href="#l25.461"></a><span id="l25.461" class="difflineplus">+    return true;</span>
<a href="#l25.462"></a><span id="l25.462" class="difflineplus">+  }</span>
<a href="#l25.463"></a><span id="l25.463"> </span>
<a href="#l25.464"></a><span id="l25.464">   // save the previous page</span>
<a href="#l25.465"></a><span id="l25.465">   savePage(currentAccount);</span>
<a href="#l25.466"></a><span id="l25.466"> </span>
<a href="#l25.467"></a><span id="l25.467" class="difflineminus">-  let changeAccount = (account != currentAccount);</span>
<a href="#l25.468"></a><span id="l25.468" class="difflineplus">+  if (gRestartNeeded)</span>
<a href="#l25.469"></a><span id="l25.469" class="difflineplus">+    onAccept(false);</span>
<a href="#l25.470"></a><span id="l25.470"> </span>
<a href="#l25.471"></a><span id="l25.471" class="difflineminus">-  if (changeView)</span>
<a href="#l25.472"></a><span id="l25.472" class="difflineminus">-    selectServer(account.incomingServer, pageId);</span>
<a href="#l25.473"></a><span id="l25.473" class="difflineplus">+  let changeAccount = (account != currentAccount);</span>
<a href="#l25.474"></a><span id="l25.474"> </span>
<a href="#l25.475"></a><span id="l25.475">   if (pageId != currentPageId) {</span>
<a href="#l25.476"></a><span id="l25.476">     // loading a complete different page</span>
<a href="#l25.477"></a><span id="l25.477"> </span>
<a href="#l25.478"></a><span id="l25.478">     // prevent overwriting with bad stuff</span>
<a href="#l25.479"></a><span id="l25.479">     currentAccount = currentPageId = null;</span>
<a href="#l25.480"></a><span id="l25.480"> </span>
<a href="#l25.481"></a><span id="l25.481">     pendingAccount = account;</span>
<a href="#l25.482"></a><span id="l25.482" class="difflineat">@@ -1084,20 +1124,20 @@ function onAccountTreeSelect(pageId, acc</span>
<a href="#l25.483"></a><span id="l25.483">     updateButtons(tree, account);</span>
<a href="#l25.484"></a><span id="l25.484"> </span>
<a href="#l25.485"></a><span id="l25.485">   return true;</span>
<a href="#l25.486"></a><span id="l25.486"> }</span>
<a href="#l25.487"></a><span id="l25.487"> </span>
<a href="#l25.488"></a><span id="l25.488"> // page has loaded</span>
<a href="#l25.489"></a><span id="l25.489"> function onPanelLoaded(pageId) {</span>
<a href="#l25.490"></a><span id="l25.490">   if (pageId != pendingPageId) {</span>
<a href="#l25.491"></a><span id="l25.491" class="difflineminus">-    // if we're reloading the current page, we'll assume the</span>
<a href="#l25.492"></a><span id="l25.492" class="difflineplus">+    // If we're reloading the current page, we'll assume the</span>
<a href="#l25.493"></a><span id="l25.493">     // page has asked itself to be completely reloaded from</span>
<a href="#l25.494"></a><span id="l25.494" class="difflineminus">-    // the prefs. to do this, clear out the the old entry in</span>
<a href="#l25.495"></a><span id="l25.495" class="difflineminus">-    // the account data, and then restore theh page</span>
<a href="#l25.496"></a><span id="l25.496" class="difflineplus">+    // the prefs. To do this, clear out the the old entry in</span>
<a href="#l25.497"></a><span id="l25.497" class="difflineplus">+    // the account data, and then restore the page.</span>
<a href="#l25.498"></a><span id="l25.498">     if (pageId == currentPageId) {</span>
<a href="#l25.499"></a><span id="l25.499">       var serverId = currentAccount ?</span>
<a href="#l25.500"></a><span id="l25.500">                      currentAccount.incomingServer.serverURI :</span>
<a href="#l25.501"></a><span id="l25.501">                      &quot;global&quot;;</span>
<a href="#l25.502"></a><span id="l25.502">       delete accountArray[serverId];</span>
<a href="#l25.503"></a><span id="l25.503">       restorePage(currentPageId, currentAccount);</span>
<a href="#l25.504"></a><span id="l25.504">     }</span>
<a href="#l25.505"></a><span id="l25.505">   } else {</span>
<a href="#l25.506"></a><span id="l25.506" class="difflineat">@@ -1481,16 +1521,17 @@ var gAccountTree = {</span>
<a href="#l25.507"></a><span id="l25.507">                   {string: getString(&quot;prefPanel-diskspace&quot;), src: &quot;am-offline.xul&quot;},</span>
<a href="#l25.508"></a><span id="l25.508">                   {string: getString(&quot;prefPanel-addressing&quot;), src: &quot;am-addressing.xul&quot;},</span>
<a href="#l25.509"></a><span id="l25.509">                   {string: getString(&quot;prefPanel-junk&quot;), src: &quot;am-junk.xul&quot;}];</span>
<a href="#l25.510"></a><span id="l25.510"> </span>
<a href="#l25.511"></a><span id="l25.511">     let accounts = allAccountsSorted(false);</span>
<a href="#l25.512"></a><span id="l25.512"> </span>
<a href="#l25.513"></a><span id="l25.513">     let mainTree = document.getElementById(&quot;account-tree-children&quot;);</span>
<a href="#l25.514"></a><span id="l25.514">     // Clear off all children...</span>
<a href="#l25.515"></a><span id="l25.515" class="difflineplus">+    mainTree.removeAttribute(&quot;tree-built&quot;);</span>
<a href="#l25.516"></a><span id="l25.516">     while (mainTree.hasChildNodes())</span>
<a href="#l25.517"></a><span id="l25.517">       mainTree.lastChild.remove();</span>
<a href="#l25.518"></a><span id="l25.518"> </span>
<a href="#l25.519"></a><span id="l25.519">     for (let account of accounts) {</span>
<a href="#l25.520"></a><span id="l25.520">       let accountName = null;</span>
<a href="#l25.521"></a><span id="l25.521">       let accountKey = account.key;</span>
<a href="#l25.522"></a><span id="l25.522">       let amChrome = &quot;about:blank&quot;;</span>
<a href="#l25.523"></a><span id="l25.523">       let panelsToKeep = [];</span>
<a href="#l25.524"></a><span id="l25.524" class="difflineat">@@ -1613,10 +1654,17 @@ var gAccountTree = {</span>
<a href="#l25.525"></a><span id="l25.525">     let treerow = document.createXULElement(&quot;treerow&quot;);</span>
<a href="#l25.526"></a><span id="l25.526">     treeitem.appendChild(treerow);</span>
<a href="#l25.527"></a><span id="l25.527">     let treecell = document.createXULElement(&quot;treecell&quot;);</span>
<a href="#l25.528"></a><span id="l25.528">     treerow.appendChild(treecell);</span>
<a href="#l25.529"></a><span id="l25.529">     treecell.setAttribute(&quot;label&quot;, getString(&quot;prefPanel-smtp&quot;));</span>
<a href="#l25.530"></a><span id="l25.530">     treeitem.setAttribute(&quot;PageTag&quot;, &quot;am-smtp.xul&quot;);</span>
<a href="#l25.531"></a><span id="l25.531">     treecell.setAttribute(&quot;properties&quot;,</span>
<a href="#l25.532"></a><span id="l25.532">                           &quot;folderNameCol isServer-true serverType-smtp&quot;);</span>
<a href="#l25.533"></a><span id="l25.533" class="difflineplus">+</span>
<a href="#l25.534"></a><span id="l25.534" class="difflineplus">+    mainTree.setAttribute(&quot;tree-built&quot;, &quot;true&quot;);</span>
<a href="#l25.535"></a><span id="l25.535" class="difflineplus">+    // We need to notify the caller that the account tree is built so that</span>
<a href="#l25.536"></a><span id="l25.536" class="difflineplus">+    // it can now select a specific account if needed.</span>
<a href="#l25.537"></a><span id="l25.537" class="difflineplus">+    mainTree.dispatchEvent(</span>
<a href="#l25.538"></a><span id="l25.538" class="difflineplus">+      new CustomEvent(&quot;account-tree-built&quot;, { bubbles: true, cancelable: false })</span>
<a href="#l25.539"></a><span id="l25.539" class="difflineplus">+    );</span>
<a href="#l25.540"></a><span id="l25.540">   },</span>
<a href="#l25.541"></a><span id="l25.541"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mailnews/base/prefs/content/AccountManager.xul</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mailnews/base/prefs/content/AccountManager.xul</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1,93 +1,54 @@</span>
<a href="#l26.4"></a><span id="l26.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l26.5"></a><span id="l26.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l26.6"></a><span id="l26.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l26.7"></a><span id="l26.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l26.8"></a><span id="l26.8"> </span>
<a href="#l26.9"></a><span id="l26.9" class="difflineplus">+&lt;!-- This file is only used by Seamonkey.</span>
<a href="#l26.10"></a><span id="l26.10" class="difflineplus">+     If you make a change relevant to Thunderbird too, update</span>
<a href="#l26.11"></a><span id="l26.11" class="difflineplus">+     mail/components/preferences/AccountManager.inc.xul. --&gt;</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineplus">+</span>
<a href="#l26.13"></a><span id="l26.13"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderPane.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l26.14"></a><span id="l26.14"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l26.15"></a><span id="l26.15"> </span>
<a href="#l26.16"></a><span id="l26.16"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://messenger/locale/AccountManager.dtd&quot;&gt;</span>
<a href="#l26.17"></a><span id="l26.17"> &lt;dialog id=&quot;accountManager&quot;</span>
<a href="#l26.18"></a><span id="l26.18">         windowtype=&quot;mailnews:accountmanager&quot;</span>
<a href="#l26.19"></a><span id="l26.19">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l26.20"></a><span id="l26.20">         title=&quot;&amp;accountManagerTitle.label;&quot;</span>
<a href="#l26.21"></a><span id="l26.21">         style=&quot;&amp;accountManager.size;&quot;</span>
<a href="#l26.22"></a><span id="l26.22">         persist=&quot;width height screenX screenY&quot;</span>
<a href="#l26.23"></a><span id="l26.23">         buttons=&quot;accept,cancel&quot;</span>
<a href="#l26.24"></a><span id="l26.24" class="difflineminus">-        onload=&quot;onLoad(event);&quot;</span>
<a href="#l26.25"></a><span id="l26.25" class="difflineplus">+        onload=&quot;onLoad();&quot;</span>
<a href="#l26.26"></a><span id="l26.26">         onunload=&quot;onUnload();&quot;&gt;</span>
<a href="#l26.27"></a><span id="l26.27"> &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l26.28"></a><span id="l26.28"> &lt;stringbundle id=&quot;bundle_prefs&quot; src=&quot;chrome://messenger/locale/prefs.properties&quot;/&gt;</span>
<a href="#l26.29"></a><span id="l26.29"> &lt;script src=&quot;chrome://messenger/content/accountUtils.js&quot;/&gt;</span>
<a href="#l26.30"></a><span id="l26.30"> &lt;script src=&quot;chrome://messenger/content/am-prefs.js&quot;/&gt;</span>
<a href="#l26.31"></a><span id="l26.31"> &lt;script src=&quot;chrome://messenger/content/AccountManager.js&quot;/&gt;</span>
<a href="#l26.32"></a><span id="l26.32" class="difflineminus">-#ifdef MOZ_SUITE</span>
<a href="#l26.33"></a><span id="l26.33"> &lt;script src=&quot;chrome://messenger/content/am-help.js&quot;/&gt;</span>
<a href="#l26.34"></a><span id="l26.34" class="difflineminus">-#endif</span>
<a href="#l26.35"></a><span id="l26.35"> &lt;script src=&quot;chrome://messenger/content/amUtils.js&quot;/&gt;</span>
<a href="#l26.36"></a><span id="l26.36"> </span>
<a href="#l26.37"></a><span id="l26.37">   &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l26.38"></a><span id="l26.38">     &lt;vbox style=&quot;&amp;accountTree.width;&quot;&gt;</span>
<a href="#l26.39"></a><span id="l26.39">       &lt;tree flex=&quot;1&quot; onselect=&quot;onAccountTreeSelect(null, null);&quot; id=&quot;accounttree&quot;</span>
<a href="#l26.40"></a><span id="l26.40">             seltype=&quot;single&quot; hidecolumnpicker=&quot;true&quot;&gt;</span>
<a href="#l26.41"></a><span id="l26.41">         &lt;treecols&gt;</span>
<a href="#l26.42"></a><span id="l26.42">           &lt;treecol id=&quot;AccountCol&quot; flex=&quot;1&quot; primary=&quot;true&quot; hideheader=&quot;true&quot;/&gt;</span>
<a href="#l26.43"></a><span id="l26.43">         &lt;/treecols&gt;</span>
<a href="#l26.44"></a><span id="l26.44">         &lt;treechildren id=&quot;account-tree-children&quot;/&gt;</span>
<a href="#l26.45"></a><span id="l26.45">       &lt;/tree&gt;</span>
<a href="#l26.46"></a><span id="l26.46"> </span>
<a href="#l26.47"></a><span id="l26.47" class="difflineminus">-#ifdef MOZ_THUNDERBIRD</span>
<a href="#l26.48"></a><span id="l26.48" class="difflineminus">-      &lt;button id=&quot;accountActionsButton&quot; type=&quot;menu&quot;</span>
<a href="#l26.49"></a><span id="l26.49" class="difflineminus">-              label=&quot;&amp;accountActionsButton.label;&quot;</span>
<a href="#l26.50"></a><span id="l26.50" class="difflineminus">-              accesskey=&quot;&amp;accountActionsButton.accesskey;&quot;&gt;</span>
<a href="#l26.51"></a><span id="l26.51" class="difflineminus">-        &lt;menupopup id=&quot;accountActionsDropdown&quot;</span>
<a href="#l26.52"></a><span id="l26.52" class="difflineminus">-                   onpopupshowing=&quot;initAccountActionsButtons(this);&quot;&gt;</span>
<a href="#l26.53"></a><span id="l26.53" class="difflineminus">-          &lt;menuitem id=&quot;accountActionsAddMailAccount&quot;</span>
<a href="#l26.54"></a><span id="l26.54" class="difflineminus">-                    label=&quot;&amp;addMailAccountButton.label;&quot;</span>
<a href="#l26.55"></a><span id="l26.55" class="difflineminus">-                    accesskey=&quot;&amp;addMailAccountButton.accesskey;&quot;</span>
<a href="#l26.56"></a><span id="l26.56" class="difflineminus">-                    prefstring=&quot;mail.disable_new_account_addition&quot;</span>
<a href="#l26.57"></a><span id="l26.57" class="difflineminus">-                    oncommand=&quot;AddMailAccount(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l26.58"></a><span id="l26.58" class="difflineminus">-          &lt;menuitem id=&quot;accountActionsAddIMAccount&quot;</span>
<a href="#l26.59"></a><span id="l26.59" class="difflineminus">-                    label=&quot;&amp;addIMAccountButton.label;&quot;</span>
<a href="#l26.60"></a><span id="l26.60" class="difflineminus">-                    accesskey=&quot;&amp;addIMAccountButton.accesskey;&quot;</span>
<a href="#l26.61"></a><span id="l26.61" class="difflineminus">-                    prefstring=&quot;mail.disable_new_account_addition&quot;</span>
<a href="#l26.62"></a><span id="l26.62" class="difflineminus">-                    oncommand=&quot;AddIMAccount(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l26.63"></a><span id="l26.63" class="difflineminus">-          &lt;menuitem id=&quot;accountActionsAddFeedAccount&quot;</span>
<a href="#l26.64"></a><span id="l26.64" class="difflineminus">-                    label=&quot;&amp;addFeedAccountButton.label;&quot;</span>
<a href="#l26.65"></a><span id="l26.65" class="difflineminus">-                    accesskey=&quot;&amp;addFeedAccountButton.accesskey;&quot;</span>
<a href="#l26.66"></a><span id="l26.66" class="difflineminus">-                    prefstring=&quot;mail.disable_new_account_addition&quot;</span>
<a href="#l26.67"></a><span id="l26.67" class="difflineminus">-                    oncommand=&quot;AddFeedAccount(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l26.68"></a><span id="l26.68" class="difflineminus">-          &lt;menuitem id=&quot;accountActionsAddOtherAccount&quot;</span>
<a href="#l26.69"></a><span id="l26.69" class="difflineminus">-                    label=&quot;&amp;addOtherAccountButton.label;&quot;</span>
<a href="#l26.70"></a><span id="l26.70" class="difflineminus">-                    accesskey=&quot;&amp;addOtherAccountButton.accesskey;&quot;</span>
<a href="#l26.71"></a><span id="l26.71" class="difflineminus">-                    prefstring=&quot;mail.disable_new_account_addition&quot;</span>
<a href="#l26.72"></a><span id="l26.72" class="difflineminus">-                    oncommand=&quot;onAddAccount(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l26.73"></a><span id="l26.73" class="difflineminus">-          &lt;menuseparator id=&quot;accountActionsDropdownSep1&quot;/&gt;</span>
<a href="#l26.74"></a><span id="l26.74" class="difflineminus">-          &lt;menuitem id=&quot;accountActionsDropdownSetDefault&quot;</span>
<a href="#l26.75"></a><span id="l26.75" class="difflineminus">-                    label=&quot;&amp;setDefaultButton.label;&quot;</span>
<a href="#l26.76"></a><span id="l26.76" class="difflineminus">-                    accesskey=&quot;&amp;setDefaultButton.accesskey;&quot;</span>
<a href="#l26.77"></a><span id="l26.77" class="difflineminus">-                    prefstring=&quot;mail.disable_button.set_default_account&quot;</span>
<a href="#l26.78"></a><span id="l26.78" class="difflineminus">-                    oncommand=&quot;onSetDefault(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l26.79"></a><span id="l26.79" class="difflineminus">-          &lt;menuitem id=&quot;accountActionsDropdownRemove&quot;</span>
<a href="#l26.80"></a><span id="l26.80" class="difflineminus">-                    label=&quot;&amp;removeButton.label;&quot;</span>
<a href="#l26.81"></a><span id="l26.81" class="difflineminus">-                    accesskey=&quot;&amp;removeButton.accesskey;&quot;</span>
<a href="#l26.82"></a><span id="l26.82" class="difflineminus">-                    prefstring=&quot;mail.disable_button.delete_account&quot;</span>
<a href="#l26.83"></a><span id="l26.83" class="difflineminus">-                    oncommand=&quot;onRemoveAccount(event); event.stopPropagation();&quot;/&gt;</span>
<a href="#l26.84"></a><span id="l26.84" class="difflineminus">-        &lt;/menupopup&gt;</span>
<a href="#l26.85"></a><span id="l26.85" class="difflineminus">-      &lt;/button&gt;</span>
<a href="#l26.86"></a><span id="l26.86" class="difflineminus">-#else</span>
<a href="#l26.87"></a><span id="l26.87">       &lt;button label=&quot;&amp;addAccountButton.label;&quot; oncommand=&quot;onAddAccount(event);&quot; id=&quot;addAccountButton&quot;</span>
<a href="#l26.88"></a><span id="l26.88">               prefstring=&quot;mail.disable_new_account_addition&quot;</span>
<a href="#l26.89"></a><span id="l26.89">               accesskey=&quot;&amp;addAccountButton.accesskey;&quot;/&gt;</span>
<a href="#l26.90"></a><span id="l26.90">       &lt;button label=&quot;&amp;setDefaultButton.label;&quot; oncommand=&quot;onSetDefault(event);&quot; disabled=&quot;true&quot; id=&quot;setDefaultButton&quot;</span>
<a href="#l26.91"></a><span id="l26.91">               prefstring=&quot;mail.disable_button.set_default_account&quot;</span>
<a href="#l26.92"></a><span id="l26.92">               accesskey=&quot;&amp;setDefaultButton.accesskey;&quot;/&gt;</span>
<a href="#l26.93"></a><span id="l26.93">       &lt;button disabled=&quot;true&quot; label=&quot;&amp;removeButton.label;&quot; oncommand=&quot;onRemoveAccount(event);&quot; id=&quot;removeButton&quot;</span>
<a href="#l26.94"></a><span id="l26.94">               prefstring=&quot;mail.disable_button.delete_account&quot;</span>
<a href="#l26.95"></a><span id="l26.95">               accesskey=&quot;&amp;removeButton.accesskey;&quot;/&gt;</span>
<a href="#l26.96"></a><span id="l26.96" class="difflineminus">-#endif</span>
<a href="#l26.97"></a><span id="l26.97">     &lt;/vbox&gt;</span>
<a href="#l26.98"></a><span id="l26.98"> </span>
<a href="#l26.99"></a><span id="l26.99">     &lt;iframe id=&quot;contentFrame&quot; name=&quot;contentFrame&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l26.100"></a><span id="l26.100">   &lt;/hbox&gt;</span>
<a href="#l26.101"></a><span id="l26.101"> &lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mailnews/base/prefs/content/AccountWizard.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mailnews/base/prefs/content/AccountWizard.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -47,18 +47,16 @@ var okCallback = null;</span>
<a href="#l27.4"></a><span id="l27.4"> </span>
<a href="#l27.5"></a><span id="l27.5">    where the accounttype determines which path to take</span>
<a href="#l27.6"></a><span id="l27.6">    (server vs. newsserver)</span>
<a href="#l27.7"></a><span id="l27.7"> */</span>
<a href="#l27.8"></a><span id="l27.8"> </span>
<a href="#l27.9"></a><span id="l27.9"> var {Services} = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l27.10"></a><span id="l27.10"> var {MailServices} = ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l27.11"></a><span id="l27.11"> </span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-var contentWindow;</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineminus">-</span>
<a href="#l27.14"></a><span id="l27.14"> var gPageData;</span>
<a href="#l27.15"></a><span id="l27.15"> </span>
<a href="#l27.16"></a><span id="l27.16"> var nsIMsgIdentity = Ci.nsIMsgIdentity;</span>
<a href="#l27.17"></a><span id="l27.17"> var nsIMsgIncomingServer = Ci.nsIMsgIncomingServer;</span>
<a href="#l27.18"></a><span id="l27.18"> var gPrefsBundle, gMessengerBundle;</span>
<a href="#l27.19"></a><span id="l27.19"> </span>
<a href="#l27.20"></a><span id="l27.20"> // the current nsIMsgAccount</span>
<a href="#l27.21"></a><span id="l27.21"> var gCurrentAccount;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mailnews/base/prefs/content/SmtpServerEdit.xul</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mailnews/base/prefs/content/SmtpServerEdit.xul</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l28.4"></a><span id="l28.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l28.5"></a><span id="l28.5" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l28.6"></a><span id="l28.6" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l28.7"></a><span id="l28.7" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l28.8"></a><span id="l28.8" class="difflineplus">+</span>
<a href="#l28.9"></a><span id="l28.9"> </span>
<a href="#l28.10"></a><span id="l28.10"> #ifndef MOZ_SUITE</span>
<a href="#l28.11"></a><span id="l28.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/bindings.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l28.12"></a><span id="l28.12"> #endif</span>
<a href="#l28.13"></a><span id="l28.13"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l28.14"></a><span id="l28.14" class="difflineminus">-</span>
<a href="#l28.15"></a><span id="l28.15" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l28.16"></a><span id="l28.16" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l28.17"></a><span id="l28.17" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l28.18"></a><span id="l28.18" class="difflineminus">-</span>
<a href="#l28.19"></a><span id="l28.19" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l28.20"></a><span id="l28.20"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/dialogs.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l28.21"></a><span id="l28.21"> </span>
<a href="#l28.22"></a><span id="l28.22"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://messenger/locale/smtpEditOverlay.dtd&quot;&gt;</span>
<a href="#l28.23"></a><span id="l28.23"> </span>
<a href="#l28.24"></a><span id="l28.24"> &lt;dialog title=&quot;&amp;smtpEditTitle.label;&quot;</span>
<a href="#l28.25"></a><span id="l28.25">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l28.26"></a><span id="l28.26">         onload=&quot;onLoad();&quot;&gt;</span>
<a href="#l28.27"></a><span id="l28.27">   &lt;stringbundle id=&quot;bundle_prefs&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountUtils.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountUtils.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -1,16 +1,17 @@</span>
<a href="#l29.4"></a><span id="l29.4"> /* -*- Mode: Java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */</span>
<a href="#l29.5"></a><span id="l29.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l29.6"></a><span id="l29.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l29.7"></a><span id="l29.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l29.8"></a><span id="l29.8"> </span>
<a href="#l29.9"></a><span id="l29.9"> /* import-globals-from AccountManager.js */</span>
<a href="#l29.10"></a><span id="l29.10"> /* globals SelectFolder */// From messageWindow.js or msgMail3PaneWindow.js.</span>
<a href="#l29.11"></a><span id="l29.11"> /* globals MsgGetMessage */// From mailWindowOverlay.js.</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineplus">+/* globals openPreferencesTab */// From utilityOverlay.js.</span>
<a href="#l29.13"></a><span id="l29.13"> </span>
<a href="#l29.14"></a><span id="l29.14"> var {Services} = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l29.15"></a><span id="l29.15"> var {AppConstants} = ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l29.16"></a><span id="l29.16"> var {MailServices} = ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l29.17"></a><span id="l29.17"> </span>
<a href="#l29.18"></a><span id="l29.18"> var gAnyValidIdentity = false; // If there are no valid identities for any account</span>
<a href="#l29.19"></a><span id="l29.19"> // returns the first account with an invalid server or identity</span>
<a href="#l29.20"></a><span id="l29.20"> </span>
<a href="#l29.21"></a><span id="l29.21" class="difflineat">@@ -211,45 +212,52 @@ function AddFeedAccount() {</span>
<a href="#l29.22"></a><span id="l29.22">   window.openDialog(&quot;chrome://messenger-newsblog/content/feedAccountWizard.xul&quot;,</span>
<a href="#l29.23"></a><span id="l29.23">                     &quot;&quot;, &quot;chrome,modal,titlebar,centerscreen&quot;);</span>
<a href="#l29.24"></a><span id="l29.24"> }</span>
<a href="#l29.25"></a><span id="l29.25"> </span>
<a href="#l29.26"></a><span id="l29.26"> /**</span>
<a href="#l29.27"></a><span id="l29.27">  * Opens the account settings window on the specified account</span>
<a href="#l29.28"></a><span id="l29.28">  * and page of settings. If the window is already open it is only focused.</span>
<a href="#l29.29"></a><span id="l29.29">  *</span>
<a href="#l29.30"></a><span id="l29.30" class="difflineminus">- * @param selectPage  The xul file name for the viewing page or</span>
<a href="#l29.31"></a><span id="l29.31" class="difflineminus">- *                    null for the account main page. Other pages are</span>
<a href="#l29.32"></a><span id="l29.32" class="difflineminus">- *                    'am-server.xul', 'am-copies.xul', 'am-offline.xul',</span>
<a href="#l29.33"></a><span id="l29.33" class="difflineminus">- *                    'am-addressing.xul', 'am-smtp.xul'</span>
<a href="#l29.34"></a><span id="l29.34" class="difflineminus">- * @param  aServer    The server of the account to select. Optional.</span>
<a href="#l29.35"></a><span id="l29.35" class="difflineplus">+ * @param aSelectPage  The xul file name for the viewing page or</span>
<a href="#l29.36"></a><span id="l29.36" class="difflineplus">+ *                     null for the account main page. Other pages are</span>
<a href="#l29.37"></a><span id="l29.37" class="difflineplus">+ *                     'am-server.xul', 'am-copies.xul', 'am-offline.xul',</span>
<a href="#l29.38"></a><span id="l29.38" class="difflineplus">+ *                     'am-addressing.xul', 'am-smtp.xul'</span>
<a href="#l29.39"></a><span id="l29.39" class="difflineplus">+ * @param aServer      The server of the account to select. Optional.</span>
<a href="#l29.40"></a><span id="l29.40">  */</span>
<a href="#l29.41"></a><span id="l29.41" class="difflineminus">-function MsgAccountManager(selectPage, aServer) {</span>
<a href="#l29.42"></a><span id="l29.42" class="difflineminus">-  var existingAccountManager = Services.wm.getMostRecentWindow(&quot;mailnews:accountmanager&quot;);</span>
<a href="#l29.43"></a><span id="l29.43" class="difflineplus">+function MsgAccountManager(aSelectPage, aServer) {</span>
<a href="#l29.44"></a><span id="l29.44" class="difflineplus">+  if (!aServer) {</span>
<a href="#l29.45"></a><span id="l29.45" class="difflineplus">+    if (typeof window.GetSelectedMsgFolders === &quot;function&quot;) {</span>
<a href="#l29.46"></a><span id="l29.46" class="difflineplus">+      let folders = window.GetSelectedMsgFolders();</span>
<a href="#l29.47"></a><span id="l29.47" class="difflineplus">+      if (folders.length &gt; 0)</span>
<a href="#l29.48"></a><span id="l29.48" class="difflineplus">+        aServer = folders[0].server;</span>
<a href="#l29.49"></a><span id="l29.49" class="difflineplus">+    }</span>
<a href="#l29.50"></a><span id="l29.50" class="difflineplus">+    if (!aServer &amp;&amp; (typeof window.GetDefaultAccountRootFolder === &quot;function&quot;)) {</span>
<a href="#l29.51"></a><span id="l29.51" class="difflineplus">+      let folder = window.GetDefaultAccountRootFolder();</span>
<a href="#l29.52"></a><span id="l29.52" class="difflineplus">+      if (folder instanceof Ci.nsIMsgFolder)</span>
<a href="#l29.53"></a><span id="l29.53" class="difflineplus">+        aServer = folder.server;</span>
<a href="#l29.54"></a><span id="l29.54" class="difflineplus">+    }</span>
<a href="#l29.55"></a><span id="l29.55" class="difflineplus">+  }</span>
<a href="#l29.56"></a><span id="l29.56"> </span>
<a href="#l29.57"></a><span id="l29.57" class="difflineminus">-  if (existingAccountManager) {</span>
<a href="#l29.58"></a><span id="l29.58" class="difflineminus">-    existingAccountManager.focus();</span>
<a href="#l29.59"></a><span id="l29.59" class="difflineplus">+  if (AppConstants.MOZ_APP_NAME == &quot;thunderbird&quot;) {</span>
<a href="#l29.60"></a><span id="l29.60" class="difflineplus">+    // Load the Account Manager in a tab.</span>
<a href="#l29.61"></a><span id="l29.61" class="difflineplus">+    openPreferencesTab(&quot;paneAccount&quot;, aServer ? aServer.key : null, aSelectPage);</span>
<a href="#l29.62"></a><span id="l29.62">   } else {</span>
<a href="#l29.63"></a><span id="l29.63" class="difflineminus">-    if (!aServer) {</span>
<a href="#l29.64"></a><span id="l29.64" class="difflineminus">-      if (typeof window.GetSelectedMsgFolders === &quot;function&quot;) {</span>
<a href="#l29.65"></a><span id="l29.65" class="difflineminus">-        let folders = window.GetSelectedMsgFolders();</span>
<a href="#l29.66"></a><span id="l29.66" class="difflineminus">-        if (folders.length &gt; 0)</span>
<a href="#l29.67"></a><span id="l29.67" class="difflineminus">-          aServer = folders[0].server;</span>
<a href="#l29.68"></a><span id="l29.68" class="difflineminus">-      }</span>
<a href="#l29.69"></a><span id="l29.69" class="difflineminus">-      if (!aServer &amp;&amp; (typeof window.GetDefaultAccountRootFolder === &quot;function&quot;)) {</span>
<a href="#l29.70"></a><span id="l29.70" class="difflineminus">-        let folder = window.GetDefaultAccountRootFolder();</span>
<a href="#l29.71"></a><span id="l29.71" class="difflineminus">-        if (folder instanceof Ci.nsIMsgFolder)</span>
<a href="#l29.72"></a><span id="l29.72" class="difflineminus">-          aServer = folder.server;</span>
<a href="#l29.73"></a><span id="l29.73" class="difflineminus">-      }</span>
<a href="#l29.74"></a><span id="l29.74" class="difflineplus">+    // If the Account Manager is already running, just focus the right server.</span>
<a href="#l29.75"></a><span id="l29.75" class="difflineplus">+    let existingAccountManager = Services.wm.getMostRecentWindow(&quot;mailnews:accountmanager&quot;);</span>
<a href="#l29.76"></a><span id="l29.76" class="difflineplus">+    if (existingAccountManager) {</span>
<a href="#l29.77"></a><span id="l29.77" class="difflineplus">+      existingAccountManager.focus();</span>
<a href="#l29.78"></a><span id="l29.78" class="difflineplus">+      existingAccountManager.selectServer(aServer);</span>
<a href="#l29.79"></a><span id="l29.79" class="difflineplus">+    } else {</span>
<a href="#l29.80"></a><span id="l29.80" class="difflineplus">+      // Load the Account Manager in a standalone dialog.</span>
<a href="#l29.81"></a><span id="l29.81" class="difflineplus">+      window.openDialog(&quot;chrome://messenger/content/AccountManager.xul&quot;,</span>
<a href="#l29.82"></a><span id="l29.82" class="difflineplus">+                        &quot;AccountManager&quot;,</span>
<a href="#l29.83"></a><span id="l29.83" class="difflineplus">+                        &quot;chrome,centerscreen,modal,titlebar,resizable&quot;,</span>
<a href="#l29.84"></a><span id="l29.84" class="difflineplus">+                        { server: aServer, selectPage: aSelectPage });</span>
<a href="#l29.85"></a><span id="l29.85">     }</span>
<a href="#l29.86"></a><span id="l29.86" class="difflineminus">-</span>
<a href="#l29.87"></a><span id="l29.87" class="difflineminus">-    window.openDialog(&quot;chrome://messenger/content/AccountManager.xul&quot;,</span>
<a href="#l29.88"></a><span id="l29.88" class="difflineminus">-                      &quot;AccountManager&quot;,</span>
<a href="#l29.89"></a><span id="l29.89" class="difflineminus">-                      &quot;chrome,centerscreen,modal,titlebar,resizable&quot;,</span>
<a href="#l29.90"></a><span id="l29.90" class="difflineminus">-                      { server: aServer, selectPage });</span>
<a href="#l29.91"></a><span id="l29.91">   }</span>
<a href="#l29.92"></a><span id="l29.92"> }</span>
<a href="#l29.93"></a><span id="l29.93"> </span>
<a href="#l29.94"></a><span id="l29.94"> function loadInboxForNewAccount() {</span>
<a href="#l29.95"></a><span id="l29.95">   // gNewAccountToLoad is set in the final screen of the Account Wizard if a POP account</span>
<a href="#l29.96"></a><span id="l29.96">   // was created, the download messages box is checked, and the wizard was opened from the 3pane</span>
<a href="#l29.97"></a><span id="l29.97">   if (gNewAccountToLoad) {</span>
<a href="#l29.98"></a><span id="l29.98">     var rootMsgFolder = gNewAccountToLoad.incomingServer.rootMsgFolder;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-addressing.xul</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-addressing.xul</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -1,15 +1,13 @@</span>
<a href="#l30.4"></a><span id="l30.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l30.5"></a><span id="l30.5" class="difflineminus">-</span>
<a href="#l30.6"></a><span id="l30.6"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l30.7"></a><span id="l30.7">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l30.8"></a><span id="l30.8">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l30.9"></a><span id="l30.9"> </span>
<a href="#l30.10"></a><span id="l30.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/content/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l30.11"></a><span id="l30.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l30.12"></a><span id="l30.12"> </span>
<a href="#l30.13"></a><span id="l30.13"> &lt;!DOCTYPE page SYSTEM &quot;chrome://messenger/locale/am-addressing.dtd&quot;&gt;</span>
<a href="#l30.14"></a><span id="l30.14"> </span>
<a href="#l30.15"></a><span id="l30.15"> &lt;page xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l30.16"></a><span id="l30.16">       title=&quot;&amp;addressing.label;&quot;</span>
<a href="#l30.17"></a><span id="l30.17">       onload=&quot;onLoad();&quot;&gt;</span>
<a href="#l30.18"></a><span id="l30.18"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-archiveoptions.xul</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-archiveoptions.xul</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l31.4"></a><span id="l31.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l31.5"></a><span id="l31.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l31.6"></a><span id="l31.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l31.7"></a><span id="l31.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l31.8"></a><span id="l31.8"> </span>
<a href="#l31.9"></a><span id="l31.9" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l31.10"></a><span id="l31.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l31.11"></a><span id="l31.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l31.12"></a><span id="l31.12"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderPane.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l31.13"></a><span id="l31.13"> </span>
<a href="#l31.14"></a><span id="l31.14"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://messenger/locale/am-archiveoptions.dtd&quot; &gt;</span>
<a href="#l31.15"></a><span id="l31.15"> </span>
<a href="#l31.16"></a><span id="l31.16"> &lt;dialog xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l31.17"></a><span id="l31.17">         id=&quot;archive-options&quot;</span>
<a href="#l31.18"></a><span id="l31.18">         title=&quot;&amp;dialogTitle.label;&quot;</span>
<a href="#l31.19"></a><span id="l31.19">         width=&quot;350&quot; height=&quot;350&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-copies.xul</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-copies.xul</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l32.4"></a><span id="l32.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l32.5"></a><span id="l32.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l32.6"></a><span id="l32.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l32.7"></a><span id="l32.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l32.8"></a><span id="l32.8"> </span>
<a href="#l32.9"></a><span id="l32.9" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l32.10"></a><span id="l32.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l32.11"></a><span id="l32.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l32.13"></a><span id="l32.13"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l32.14"></a><span id="l32.14"> </span>
<a href="#l32.15"></a><span id="l32.15"> &lt;!DOCTYPE page SYSTEM &quot;chrome://messenger/locale/am-copies.dtd&quot;&gt;</span>
<a href="#l32.16"></a><span id="l32.16"> </span>
<a href="#l32.17"></a><span id="l32.17"> &lt;page xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l32.18"></a><span id="l32.18">       title=&quot;&amp;copyAndFolderTitle.label;&quot;</span>
<a href="#l32.19"></a><span id="l32.19">       onload=&quot;parent.onPanelLoaded('am-copies.xul');&quot;&gt;</span>
<a href="#l32.20"></a><span id="l32.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-identities-list.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-identities-list.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -70,17 +70,21 @@ function refreshIdentityList(aSelectInde</span>
<a href="#l33.4"></a><span id="l33.4"> }</span>
<a href="#l33.5"></a><span id="l33.5"> </span>
<a href="#l33.6"></a><span id="l33.6"> /**</span>
<a href="#l33.7"></a><span id="l33.7">  * Opens the identity editor dialog.</span>
<a href="#l33.8"></a><span id="l33.8">  *</span>
<a href="#l33.9"></a><span id="l33.9">  * @param identity  the identity (if any) to load in the dialog</span>
<a href="#l33.10"></a><span id="l33.10">  */</span>
<a href="#l33.11"></a><span id="l33.11"> function openIdentityEditor(identity) {</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-  let args = { identity, account: gAccount, result: false };</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineplus">+  let args = { identity,</span>
<a href="#l33.14"></a><span id="l33.14" class="difflineplus">+               account: gAccount,</span>
<a href="#l33.15"></a><span id="l33.15" class="difflineplus">+               width: window.arguments[0].width,</span>
<a href="#l33.16"></a><span id="l33.16" class="difflineplus">+               height: window.arguments[0].height,</span>
<a href="#l33.17"></a><span id="l33.17" class="difflineplus">+               result: false };</span>
<a href="#l33.18"></a><span id="l33.18"> </span>
<a href="#l33.19"></a><span id="l33.19">   let indexToSelect = identity ? gIdentityListBox.selectedIndex :</span>
<a href="#l33.20"></a><span id="l33.20">                                  gIdentityListBox.itemCount;</span>
<a href="#l33.21"></a><span id="l33.21"> </span>
<a href="#l33.22"></a><span id="l33.22">   window.openDialog(&quot;am-identity-edit.xul&quot;, &quot;&quot;,</span>
<a href="#l33.23"></a><span id="l33.23">                     &quot;chrome,modal,resizable,centerscreen&quot;, args);</span>
<a href="#l33.24"></a><span id="l33.24"> </span>
<a href="#l33.25"></a><span id="l33.25">   if (args.result)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-identities-list.xul</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-identities-list.xul</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l34.4"></a><span id="l34.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l34.5"></a><span id="l34.5" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l34.6"></a><span id="l34.6" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l34.7"></a><span id="l34.7" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l34.8"></a><span id="l34.8"> </span>
<a href="#l34.9"></a><span id="l34.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l34.10"></a><span id="l34.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l34.11"></a><span id="l34.11"> </span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l34.14"></a><span id="l34.14" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l34.15"></a><span id="l34.15" class="difflineminus">-</span>
<a href="#l34.16"></a><span id="l34.16"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://messenger/locale/am-identities-list.dtd&quot;&gt;</span>
<a href="#l34.17"></a><span id="l34.17"> </span>
<a href="#l34.18"></a><span id="l34.18"> &lt;dialog</span>
<a href="#l34.19"></a><span id="l34.19">   xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l34.20"></a><span id="l34.20">   onload=&quot;onLoad();&quot;</span>
<a href="#l34.21"></a><span id="l34.21">   buttons=&quot;accept&quot;</span>
<a href="#l34.22"></a><span id="l34.22">   buttonlabelaccept=&quot;&amp;identitiesListClose.label;&quot;</span>
<a href="#l34.23"></a><span id="l34.23">   buttonaccesskeyaccept=&quot;&amp;identitiesListClose.accesskey;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-identity-edit.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-identity-edit.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -15,26 +15,19 @@ var gAccount = null;   // the account th</span>
<a href="#l35.4"></a><span id="l35.4"> document.addEventListener(&quot;dialogaccept&quot;, onOk);</span>
<a href="#l35.5"></a><span id="l35.5"> </span>
<a href="#l35.6"></a><span id="l35.6"> function onLoadIdentityProperties() {</span>
<a href="#l35.7"></a><span id="l35.7">   // extract the account</span>
<a href="#l35.8"></a><span id="l35.8">   gIdentity = window.arguments[0].identity;</span>
<a href="#l35.9"></a><span id="l35.9">   gAccount = window.arguments[0].account;</span>
<a href="#l35.10"></a><span id="l35.10">   let prefBundle = document.getElementById(&quot;bundle_prefs&quot;);</span>
<a href="#l35.11"></a><span id="l35.11"> </span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-  // Make the dialog the same height and 90% of the width of the main Account</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineminus">-  // manager page when the Account manager is not maximized.</span>
<a href="#l35.14"></a><span id="l35.14" class="difflineminus">-  let accountDialog = Services.wm.getMostRecentWindow(&quot;mailnews:accountmanager&quot;)</span>
<a href="#l35.15"></a><span id="l35.15" class="difflineminus">-                              .document;</span>
<a href="#l35.16"></a><span id="l35.16" class="difflineminus">-  if (accountDialog.documentElement.getAttribute(&quot;sizemode&quot;) != &quot;maximized&quot;) {</span>
<a href="#l35.17"></a><span id="l35.17" class="difflineminus">-    document.getElementById(&quot;identityDialog&quot;).style.width =</span>
<a href="#l35.18"></a><span id="l35.18" class="difflineminus">-      accountDialog.getElementById(&quot;accountManager&quot;).clientWidth * 0.9 + &quot;px&quot;;</span>
<a href="#l35.19"></a><span id="l35.19" class="difflineminus">-    document.getElementById(&quot;identityDialog&quot;).style.height =</span>
<a href="#l35.20"></a><span id="l35.20" class="difflineminus">-      accountDialog.getElementById(&quot;accountManager&quot;).clientHeight + &quot;px&quot;;</span>
<a href="#l35.21"></a><span id="l35.21" class="difflineminus">-  }</span>
<a href="#l35.22"></a><span id="l35.22" class="difflineplus">+  // Make the dialog the same height and width of the main Account manager page.</span>
<a href="#l35.23"></a><span id="l35.23" class="difflineplus">+  document.documentElement.style.width = window.arguments[0].width + &quot;px&quot;;</span>
<a href="#l35.24"></a><span id="l35.24" class="difflineplus">+  document.documentElement.style.height = window.arguments[0].height + &quot;px&quot;;</span>
<a href="#l35.25"></a><span id="l35.25"> </span>
<a href="#l35.26"></a><span id="l35.26">   if (gIdentity) {</span>
<a href="#l35.27"></a><span id="l35.27">     let listName = gIdentity.identityName;</span>
<a href="#l35.28"></a><span id="l35.28">     document.title = prefBundle</span>
<a href="#l35.29"></a><span id="l35.29">                      .getFormattedString(&quot;identityDialogTitleEdit&quot;, [listName]);</span>
<a href="#l35.30"></a><span id="l35.30">   } else {</span>
<a href="#l35.31"></a><span id="l35.31">     document.title = prefBundle.getString(&quot;identityDialogTitleAdd&quot;);</span>
<a href="#l35.32"></a><span id="l35.32">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-identity-edit.xul</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-identity-edit.xul</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l36.4"></a><span id="l36.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l36.5"></a><span id="l36.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l36.6"></a><span id="l36.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l36.7"></a><span id="l36.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l36.8"></a><span id="l36.8"> </span>
<a href="#l36.9"></a><span id="l36.9" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l36.10"></a><span id="l36.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l36.11"></a><span id="l36.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l36.12"></a><span id="l36.12"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l36.13"></a><span id="l36.13"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l36.14"></a><span id="l36.14"> </span>
<a href="#l36.15"></a><span id="l36.15"> &lt;!DOCTYPE dialog [</span>
<a href="#l36.16"></a><span id="l36.16"> &lt;!ENTITY % identityEditDTD SYSTEM &quot;chrome://messenger/locale/am-identity-edit.dtd&quot; &gt;</span>
<a href="#l36.17"></a><span id="l36.17"> %identityEditDTD;</span>
<a href="#l36.18"></a><span id="l36.18"> &lt;!ENTITY % identityDTD SYSTEM &quot;chrome://messenger/locale/am-main.dtd&quot; &gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-junk.xul</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-junk.xul</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l37.4"></a><span id="l37.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l37.5"></a><span id="l37.5" class="difflineminus">-</span>
<a href="#l37.6"></a><span id="l37.6"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l37.7"></a><span id="l37.7">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l37.8"></a><span id="l37.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l37.9"></a><span id="l37.9" class="difflineminus">---&gt;</span>
<a href="#l37.10"></a><span id="l37.10" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l37.11"></a><span id="l37.11"> </span>
<a href="#l37.12"></a><span id="l37.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l37.14"></a><span id="l37.14"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l37.15"></a><span id="l37.15" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l37.16"></a><span id="l37.16"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l37.17"></a><span id="l37.17"> </span>
<a href="#l37.18"></a><span id="l37.18"> &lt;!DOCTYPE window [</span>
<a href="#l37.19"></a><span id="l37.19"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l37.20"></a><span id="l37.20"> %brandDTD;</span>
<a href="#l37.21"></a><span id="l37.21"> &lt;!ENTITY % junkMailDTD SYSTEM &quot;chrome://messenger/locale/am-junk.dtd&quot;&gt;</span>
<a href="#l37.22"></a><span id="l37.22"> %junkMailDTD;</span>
<a href="#l37.23"></a><span id="l37.23"> ]&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-main.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-main.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -24,27 +24,35 @@ function onInit(aPageId, aServerId) {</span>
<a href="#l38.4"></a><span id="l38.4">   setupSignatureItems();</span>
<a href="#l38.5"></a><span id="l38.5"> }</span>
<a href="#l38.6"></a><span id="l38.6"> </span>
<a href="#l38.7"></a><span id="l38.7"> function onPreInit(account, accountValues) {</span>
<a href="#l38.8"></a><span id="l38.8">   gAccount = account;</span>
<a href="#l38.9"></a><span id="l38.9">   loadSMTPServerList();</span>
<a href="#l38.10"></a><span id="l38.10"> }</span>
<a href="#l38.11"></a><span id="l38.11"> </span>
<a href="#l38.12"></a><span id="l38.12" class="difflineplus">+function onLeave(restoreValuesOnFailure) {</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineplus">+  return top.checkAccountNameIsValid(restoreValuesOnFailure);</span>
<a href="#l38.14"></a><span id="l38.14" class="difflineplus">+}</span>
<a href="#l38.15"></a><span id="l38.15" class="difflineplus">+</span>
<a href="#l38.16"></a><span id="l38.16"> function manageIdentities() {</span>
<a href="#l38.17"></a><span id="l38.17">   // We want to save the current identity information before bringing up the multiple identities</span>
<a href="#l38.18"></a><span id="l38.18">   // UI. This ensures that the changes are reflected in the identity list dialog</span>
<a href="#l38.19"></a><span id="l38.19">   // onSave();</span>
<a href="#l38.20"></a><span id="l38.20"> </span>
<a href="#l38.21"></a><span id="l38.21">   if (!gAccount)</span>
<a href="#l38.22"></a><span id="l38.22">     return;</span>
<a href="#l38.23"></a><span id="l38.23"> </span>
<a href="#l38.24"></a><span id="l38.24">   var accountName = document.getElementById(&quot;server.prettyName&quot;).value;</span>
<a href="#l38.25"></a><span id="l38.25"> </span>
<a href="#l38.26"></a><span id="l38.26" class="difflineminus">-  var args = { account: gAccount, accountName, result: false };</span>
<a href="#l38.27"></a><span id="l38.27" class="difflineplus">+  var args = { account: gAccount,</span>
<a href="#l38.28"></a><span id="l38.28" class="difflineplus">+               accountName,</span>
<a href="#l38.29"></a><span id="l38.29" class="difflineplus">+               width: document.documentElement.clientWidth,</span>
<a href="#l38.30"></a><span id="l38.30" class="difflineplus">+               height: document.documentElement.clientHeight,</span>
<a href="#l38.31"></a><span id="l38.31" class="difflineplus">+               result: false };</span>
<a href="#l38.32"></a><span id="l38.32"> </span>
<a href="#l38.33"></a><span id="l38.33">   // save the current identity settings so they show up correctly</span>
<a href="#l38.34"></a><span id="l38.34">   // if the user just changed them in the manage identities dialog</span>
<a href="#l38.35"></a><span id="l38.35">   var identity = gAccount.defaultIdentity;</span>
<a href="#l38.36"></a><span id="l38.36">   saveIdentitySettings(identity);</span>
<a href="#l38.37"></a><span id="l38.37"> </span>
<a href="#l38.38"></a><span id="l38.38">   window.openDialog(&quot;am-identities-list.xul&quot;, &quot;&quot;, &quot;chrome,modal,resizable=no,centerscreen&quot;, args);</span>
<a href="#l38.39"></a><span id="l38.39"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-main.xul</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-main.xul</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -1,17 +1,18 @@</span>
<a href="#l39.4"></a><span id="l39.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l39.5"></a><span id="l39.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l39.6"></a><span id="l39.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l39.7"></a><span id="l39.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l39.8"></a><span id="l39.8"> </span>
<a href="#l39.9"></a><span id="l39.9" class="difflineminus">-</span>
<a href="#l39.10"></a><span id="l39.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l39.11"></a><span id="l39.11" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l39.12"></a><span id="l39.12"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l39.13"></a><span id="l39.13"> </span>
<a href="#l39.14"></a><span id="l39.14" class="difflineminus">-&lt;!DOCTYPE page SYSTEM &quot;chrome://messenger/locale/am-main.dtd&quot; &gt;</span>
<a href="#l39.15"></a><span id="l39.15" class="difflineplus">+&lt;!DOCTYPE page SYSTEM &quot;chrome://messenger/locale/am-main.dtd&quot;&gt;</span>
<a href="#l39.16"></a><span id="l39.16"> </span>
<a href="#l39.17"></a><span id="l39.17"> &lt;page xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l39.18"></a><span id="l39.18">       xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l39.19"></a><span id="l39.19">       onload=&quot;parent.onPanelLoaded('am-main.xul');&quot;&gt;</span>
<a href="#l39.20"></a><span id="l39.20"> </span>
<a href="#l39.21"></a><span id="l39.21">   &lt;vbox flex=&quot;1&quot; style=&quot;overflow: auto;&quot;&gt;</span>
<a href="#l39.22"></a><span id="l39.22">     &lt;stringbundle id=&quot;bundle_prefs&quot; src=&quot;chrome://messenger/locale/prefs.properties&quot;/&gt;</span>
<a href="#l39.23"></a><span id="l39.23">     &lt;stringbundle id=&quot;bundle_messenger&quot; src=&quot;chrome://messenger/locale/messenger.properties&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-offline.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-offline.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -199,17 +199,17 @@ function onCancel() {</span>
<a href="#l40.4"></a><span id="l40.4">   // restore the offline flags for all folders</span>
<a href="#l40.5"></a><span id="l40.5">   restoreOfflineFolders(gOfflineMap);</span>
<a href="#l40.6"></a><span id="l40.6">   document.getElementById(&quot;offline.folders&quot;).checked = gOfflineFolders;</span>
<a href="#l40.7"></a><span id="l40.7"> }</span>
<a href="#l40.8"></a><span id="l40.8"> </span>
<a href="#l40.9"></a><span id="l40.9"> /**</span>
<a href="#l40.10"></a><span id="l40.10">  * Prompt to avoid unexpected folder sync changes.</span>
<a href="#l40.11"></a><span id="l40.11">  */</span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-function onLeave() {</span>
<a href="#l40.13"></a><span id="l40.13" class="difflineplus">+function onLeave(restoreValuesOnFailure) {</span>
<a href="#l40.14"></a><span id="l40.14">   let changed = false;</span>
<a href="#l40.15"></a><span id="l40.15">   if (gToggleOccurred) {</span>
<a href="#l40.16"></a><span id="l40.16">     let allFolders = gIncomingServer.rootFolder.descendants;</span>
<a href="#l40.17"></a><span id="l40.17">     for (let folder of fixIterator(allFolders, Ci.nsIMsgFolder)) {</span>
<a href="#l40.18"></a><span id="l40.18">       if (gOfflineMap[folder.folderURL] !=</span>
<a href="#l40.19"></a><span id="l40.19">           folder.getFlag(Ci.nsMsgFolderFlags.Offline)) {</span>
<a href="#l40.20"></a><span id="l40.20">         // A change to the Offline flag to a folder was made.</span>
<a href="#l40.21"></a><span id="l40.21">         changed = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-offline.xul</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-offline.xul</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l41.4"></a><span id="l41.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l41.5"></a><span id="l41.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l41.6"></a><span id="l41.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l41.7"></a><span id="l41.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l41.8"></a><span id="l41.8"> </span>
<a href="#l41.9"></a><span id="l41.9" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l41.10"></a><span id="l41.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l41.11"></a><span id="l41.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l41.12"></a><span id="l41.12"> </span>
<a href="#l41.13"></a><span id="l41.13"> &lt;!DOCTYPE page SYSTEM &quot;chrome://messenger/locale/am-offline.dtd&quot;&gt;</span>
<a href="#l41.14"></a><span id="l41.14"> </span>
<a href="#l41.15"></a><span id="l41.15"> &lt;page xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l41.16"></a><span id="l41.16">       onload=&quot;parent.onPanelLoaded('am-offline.xul');&quot;&gt;</span>
<a href="#l41.17"></a><span id="l41.17"> </span>
<a href="#l41.18"></a><span id="l41.18">   &lt;vbox flex=&quot;1&quot; style=&quot;overflow: auto;&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-server-advanced.xul</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-server-advanced.xul</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -1,16 +1,17 @@</span>
<a href="#l42.4"></a><span id="l42.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l42.5"></a><span id="l42.5" class="difflineminus">-</span>
<a href="#l42.6"></a><span id="l42.6"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l42.7"></a><span id="l42.7">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l42.8"></a><span id="l42.8">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l42.9"></a><span id="l42.9"> </span>
<a href="#l42.10"></a><span id="l42.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l42.11"></a><span id="l42.11" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l42.12"></a><span id="l42.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l42.13"></a><span id="l42.13"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l42.14"></a><span id="l42.14" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l42.15"></a><span id="l42.15"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l42.16"></a><span id="l42.16"> </span>
<a href="#l42.17"></a><span id="l42.17"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://messenger/locale/am-server-advanced.dtd&quot;&gt;</span>
<a href="#l42.18"></a><span id="l42.18"> </span>
<a href="#l42.19"></a><span id="l42.19"> &lt;dialog</span>
<a href="#l42.20"></a><span id="l42.20">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l42.21"></a><span id="l42.21">         title=&quot;&amp;serverAdvanced.label;&quot;</span>
<a href="#l42.22"></a><span id="l42.22">         buttons=&quot;accept,cancel&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-server.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-server.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -115,16 +115,21 @@ function onPreInit(account, accountValue</span>
<a href="#l43.4"></a><span id="l43.4">   gServer = account.incomingServer;</span>
<a href="#l43.5"></a><span id="l43.5"> </span>
<a href="#l43.6"></a><span id="l43.6">   if (!account.incomingServer.canEmptyTrashOnExit) {</span>
<a href="#l43.7"></a><span id="l43.7">     document.getElementById(&quot;server.emptyTrashOnExit&quot;).setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l43.8"></a><span id="l43.8">     document.getElementById(&quot;imap.deleteModel.box&quot;).setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l43.9"></a><span id="l43.9">   }</span>
<a href="#l43.10"></a><span id="l43.10"> }</span>
<a href="#l43.11"></a><span id="l43.11"> </span>
<a href="#l43.12"></a><span id="l43.12" class="difflineplus">+function onLeave(restoreValuesOnFailure) {</span>
<a href="#l43.13"></a><span id="l43.13" class="difflineplus">+  return (top.checkUserServerChanges(restoreValuesOnFailure) &amp;&amp;</span>
<a href="#l43.14"></a><span id="l43.14" class="difflineplus">+          top.checkLocalPathChanges(restoreValuesOnFailure));</span>
<a href="#l43.15"></a><span id="l43.15" class="difflineplus">+}</span>
<a href="#l43.16"></a><span id="l43.16" class="difflineplus">+</span>
<a href="#l43.17"></a><span id="l43.17"> function initServerType() {</span>
<a href="#l43.18"></a><span id="l43.18">   var serverType = document.getElementById(&quot;server.type&quot;).getAttribute(&quot;value&quot;);</span>
<a href="#l43.19"></a><span id="l43.19">   var propertyName = &quot;serverType-&quot; + serverType;</span>
<a href="#l43.20"></a><span id="l43.20"> </span>
<a href="#l43.21"></a><span id="l43.21">   var messengerBundle = document.getElementById(&quot;bundle_messenger&quot;);</span>
<a href="#l43.22"></a><span id="l43.22">   var verboseName = messengerBundle.getString(propertyName);</span>
<a href="#l43.23"></a><span id="l43.23">   setDivText(&quot;servertype.verbose&quot;, verboseName);</span>
<a href="#l43.24"></a><span id="l43.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-server.xul</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-server.xul</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l44.4"></a><span id="l44.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l44.5"></a><span id="l44.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l44.6"></a><span id="l44.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l44.7"></a><span id="l44.7">    - file, You can obtain one at https://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l44.8"></a><span id="l44.8"> </span>
<a href="#l44.9"></a><span id="l44.9" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l44.10"></a><span id="l44.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l44.11"></a><span id="l44.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l44.13"></a><span id="l44.13"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l44.14"></a><span id="l44.14"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/am-server.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l44.15"></a><span id="l44.15"> </span>
<a href="#l44.16"></a><span id="l44.16"> &lt;!DOCTYPE page [</span>
<a href="#l44.17"></a><span id="l44.17"> &lt;!ENTITY % trashDTD SYSTEM &quot;chrome://messenger/locale/am-server-top.dtd&quot;&gt;</span>
<a href="#l44.18"></a><span id="l44.18"> %trashDTD;</span>
<a href="#l44.19"></a><span id="l44.19"> ]&gt;</span>
<a href="#l44.20"></a><span id="l44.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-serverwithnoidentities.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-serverwithnoidentities.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -68,16 +68,21 @@ function onInit(aPageId, aServerId) {</span>
<a href="#l45.4"></a><span id="l45.4">   // Initialise 'gOriginalStoreType' to the item that was originally selected.</span>
<a href="#l45.5"></a><span id="l45.5">   gOriginalStoreType = storeTypeElement.value;</span>
<a href="#l45.6"></a><span id="l45.6"> }</span>
<a href="#l45.7"></a><span id="l45.7"> </span>
<a href="#l45.8"></a><span id="l45.8"> function onPreInit(account, accountValues) {</span>
<a href="#l45.9"></a><span id="l45.9">   gAccount = account;</span>
<a href="#l45.10"></a><span id="l45.10"> }</span>
<a href="#l45.11"></a><span id="l45.11"> </span>
<a href="#l45.12"></a><span id="l45.12" class="difflineplus">+function onLeave(restoreValuesOnFailure) {</span>
<a href="#l45.13"></a><span id="l45.13" class="difflineplus">+  return (top.checkAccountNameIsValid(restoreValuesOnFailure) &amp;&amp;</span>
<a href="#l45.14"></a><span id="l45.14" class="difflineplus">+          top.checkLocalPathChanges(restoreValuesOnFailure));</span>
<a href="#l45.15"></a><span id="l45.15" class="difflineplus">+}</span>
<a href="#l45.16"></a><span id="l45.16" class="difflineplus">+</span>
<a href="#l45.17"></a><span id="l45.17"> function onSave() {</span>
<a href="#l45.18"></a><span id="l45.18">   let storeContractID = document.getElementById(&quot;server.storeTypeMenulist&quot;)</span>
<a href="#l45.19"></a><span id="l45.19">                                 .selectedItem</span>
<a href="#l45.20"></a><span id="l45.20">                                 .value;</span>
<a href="#l45.21"></a><span id="l45.21">   document.getElementById(&quot;server.storeContractID&quot;)</span>
<a href="#l45.22"></a><span id="l45.22">           .setAttribute(&quot;value&quot;, storeContractID);</span>
<a href="#l45.23"></a><span id="l45.23"> }</span>
<a href="#l45.24"></a><span id="l45.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-serverwithnoidentities.xul</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-serverwithnoidentities.xul</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -1,14 +1,15 @@</span>
<a href="#l46.4"></a><span id="l46.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l46.5"></a><span id="l46.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l46.6"></a><span id="l46.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l46.7"></a><span id="l46.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l46.8"></a><span id="l46.8"> </span>
<a href="#l46.9"></a><span id="l46.9" class="difflineminus">-</span>
<a href="#l46.10"></a><span id="l46.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l46.11"></a><span id="l46.11" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l46.12"></a><span id="l46.12"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l46.13"></a><span id="l46.13"> </span>
<a href="#l46.14"></a><span id="l46.14"> &lt;!DOCTYPE page [</span>
<a href="#l46.15"></a><span id="l46.15"> &lt;!ENTITY % accountNoIdentDTD SYSTEM &quot;chrome://messenger/locale/am-serverwithnoidentities.dtd&quot; &gt;%accountNoIdentDTD;</span>
<a href="#l46.16"></a><span id="l46.16"> &lt;!ENTITY % accountServerTopDTD SYSTEM &quot;chrome://messenger/locale/am-server-top.dtd&quot;&gt;%accountServerTopDTD;</span>
<a href="#l46.17"></a><span id="l46.17"> ]&gt;</span>
<a href="#l46.18"></a><span id="l46.18"> </span>
<a href="#l46.19"></a><span id="l46.19"> &lt;page xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-smtp.xul</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-smtp.xul</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -1,14 +1,15 @@</span>
<a href="#l47.4"></a><span id="l47.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l47.5"></a><span id="l47.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l47.6"></a><span id="l47.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l47.7"></a><span id="l47.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l47.8"></a><span id="l47.8"> </span>
<a href="#l47.9"></a><span id="l47.9" class="difflineminus">-</span>
<a href="#l47.10"></a><span id="l47.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l47.11"></a><span id="l47.11" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l47.12"></a><span id="l47.12"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l47.13"></a><span id="l47.13"> </span>
<a href="#l47.14"></a><span id="l47.14"> &lt;!DOCTYPE page SYSTEM &quot;chrome://messenger/locale/am-advanced.dtd&quot;&gt;</span>
<a href="#l47.15"></a><span id="l47.15"> </span>
<a href="#l47.16"></a><span id="l47.16"> &lt;page xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l47.17"></a><span id="l47.17">       title=&quot;&amp;smtpServer.label;&quot;</span>
<a href="#l47.18"></a><span id="l47.18">       onload=&quot;gSmtpServerListWindow.onLoad();&quot;&gt;</span>
<a href="#l47.19"></a><span id="l47.19">   &lt;script src=&quot;chrome://messenger/content/amUtils.js&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/mailnews/extensions/mdn/content/am-mdn.xul</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/mailnews/extensions/mdn/content/am-mdn.xul</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -1,16 +1,15 @@</span>
<a href="#l48.4"></a><span id="l48.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l48.5"></a><span id="l48.5" class="difflineminus">-</span>
<a href="#l48.6"></a><span id="l48.6" class="difflineminus">-&lt;!--</span>
<a href="#l48.7"></a><span id="l48.7" class="difflineminus">-</span>
<a href="#l48.8"></a><span id="l48.8" class="difflineminus">- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l48.9"></a><span id="l48.9" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l48.10"></a><span id="l48.10">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l48.11"></a><span id="l48.11">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l48.12"></a><span id="l48.12"> </span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l48.14"></a><span id="l48.14" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l48.15"></a><span id="l48.15"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l48.16"></a><span id="l48.16"> </span>
<a href="#l48.17"></a><span id="l48.17"> &lt;!DOCTYPE page SYSTEM &quot;chrome://messenger/locale/am-mdn.dtd&quot;&gt;</span>
<a href="#l48.18"></a><span id="l48.18"> </span>
<a href="#l48.19"></a><span id="l48.19"> &lt;page xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l48.20"></a><span id="l48.20">       title=&quot;&amp;pane.title;&quot;</span>
<a href="#l48.21"></a><span id="l48.21">       onload=&quot;parent.onPanelLoaded('am-mdn.xul');&quot;&gt;</span>
<a href="#l48.22"></a><span id="l48.22"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/mailnews/extensions/newsblog/content/am-newsblog.xul</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/mailnews/extensions/newsblog/content/am-newsblog.xul</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l49.4"></a><span id="l49.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l49.5"></a><span id="l49.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l49.6"></a><span id="l49.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l49.7"></a><span id="l49.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l49.8"></a><span id="l49.8"> </span>
<a href="#l49.9"></a><span id="l49.9" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l49.10"></a><span id="l49.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l49.11"></a><span id="l49.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l49.12"></a><span id="l49.12"> &lt;?xml-stylesheet href=&quot;chrome://messenger-newsblog/skin/feed-subscriptions.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l49.13"></a><span id="l49.13"> </span>
<a href="#l49.14"></a><span id="l49.14"> &lt;!DOCTYPE page [</span>
<a href="#l49.15"></a><span id="l49.15"> &lt;!ENTITY %         newsblogDTD SYSTEM &quot;chrome://messenger-newsblog/locale/am-newsblog.dtd&quot; &gt;</span>
<a href="#l49.16"></a><span id="l49.16"> %newsblogDTD;</span>
<a href="#l49.17"></a><span id="l49.17"> &lt;!ENTITY %             feedDTD SYSTEM &quot;chrome://messenger-newsblog/locale/feed-subscriptions.dtd&quot; &gt;</span>
<a href="#l49.18"></a><span id="l49.18"> %feedDTD;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/mailnews/extensions/smime/content/am-smime.inc.xul</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/am-smime.inc.xul</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -75,18 +75,20 @@</span>
<a href="#l50.4"></a><span id="l50.4"> </span>
<a href="#l50.5"></a><span id="l50.5">           &lt;radio id=&quot;encrypt_mail_always&quot; wsm_persist=&quot;true&quot; value=&quot;2&quot;</span>
<a href="#l50.6"></a><span id="l50.6">                  label=&quot;&amp;alwaysEncryptMessage.label;&quot;</span>
<a href="#l50.7"></a><span id="l50.7">                  accesskey=&quot;&amp;alwaysEncryptMessage.accesskey;&quot;/&gt;</span>
<a href="#l50.8"></a><span id="l50.8">         &lt;/radiogroup&gt;</span>
<a href="#l50.9"></a><span id="l50.9">       &lt;/groupbox&gt;</span>
<a href="#l50.10"></a><span id="l50.10"> </span>
<a href="#l50.11"></a><span id="l50.11">       &lt;!-- Certificate manager --&gt;</span>
<a href="#l50.12"></a><span id="l50.12" class="difflineminus">-      &lt;groupbox id=&quot;smimeCertificateManager&quot; orient=&quot;horizontal&quot;&gt;</span>
<a href="#l50.13"></a><span id="l50.13" class="difflineplus">+      &lt;groupbox id=&quot;smimeCertificateManager&quot;&gt;</span>
<a href="#l50.14"></a><span id="l50.14">         &lt;label class=&quot;header&quot;&gt;&amp;certificates.label;&lt;/label&gt;</span>
<a href="#l50.15"></a><span id="l50.15" class="difflineminus">-        &lt;button id=&quot;openCertManagerButton&quot; oncommand=&quot;openCertManager();&quot;</span>
<a href="#l50.16"></a><span id="l50.16" class="difflineminus">-                label=&quot;&amp;manageCerts2.label;&quot; accesskey=&quot;&amp;manageCerts2.accesskey;&quot;</span>
<a href="#l50.17"></a><span id="l50.17" class="difflineminus">-                prefstring=&quot;security.disable_button.openCertManager&quot;/&gt;</span>
<a href="#l50.18"></a><span id="l50.18" class="difflineminus">-        &lt;button id=&quot;openDeviceManagerButton&quot; oncommand=&quot;openDeviceManager();&quot;</span>
<a href="#l50.19"></a><span id="l50.19" class="difflineminus">-                label=&quot;&amp;manageDevices.label;&quot; accesskey=&quot;&amp;manageDevices.accesskey;&quot;</span>
<a href="#l50.20"></a><span id="l50.20" class="difflineminus">-                prefstring=&quot;security.disable_button.openDeviceManager&quot;/&gt;</span>
<a href="#l50.21"></a><span id="l50.21" class="difflineplus">+        &lt;hbox&gt;</span>
<a href="#l50.22"></a><span id="l50.22" class="difflineplus">+          &lt;button id=&quot;openCertManagerButton&quot; oncommand=&quot;openCertManager();&quot;</span>
<a href="#l50.23"></a><span id="l50.23" class="difflineplus">+                  label=&quot;&amp;manageCerts2.label;&quot; accesskey=&quot;&amp;manageCerts2.accesskey;&quot;</span>
<a href="#l50.24"></a><span id="l50.24" class="difflineplus">+                  prefstring=&quot;security.disable_button.openCertManager&quot;/&gt;</span>
<a href="#l50.25"></a><span id="l50.25" class="difflineplus">+          &lt;button id=&quot;openDeviceManagerButton&quot; oncommand=&quot;openDeviceManager();&quot;</span>
<a href="#l50.26"></a><span id="l50.26" class="difflineplus">+                  label=&quot;&amp;manageDevices.label;&quot; accesskey=&quot;&amp;manageDevices.accesskey;&quot;</span>
<a href="#l50.27"></a><span id="l50.27" class="difflineplus">+                  prefstring=&quot;security.disable_button.openDeviceManager&quot;/&gt;</span>
<a href="#l50.28"></a><span id="l50.28" class="difflineplus">+        &lt;/hbox&gt;</span>
<a href="#l50.29"></a><span id="l50.29">       &lt;/groupbox&gt;</span>
<a href="#l50.30"></a><span id="l50.30">     &lt;/vbox&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/mailnews/jar.mn</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/mailnews/jar.mn</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -10,17 +10,19 @@ messenger.jar:</span>
<a href="#l51.4"></a><span id="l51.4">     content/messenger/addressbook/abAddressBookNameDialog.js                   (addrbook/content/abAddressBookNameDialog.js)</span>
<a href="#l51.5"></a><span id="l51.5">     content/messenger/addressbook/abAddressBookNameDialog.xul                  (addrbook/content/abAddressBookNameDialog.xul)</span>
<a href="#l51.6"></a><span id="l51.6">     content/messenger/addressbook/abResultsPane.js                             (addrbook/content/abResultsPane.js)</span>
<a href="#l51.7"></a><span id="l51.7">     content/messenger/addressbook/addrbookWidgets.xml                          (addrbook/content/addrbookWidgets.xml)</span>
<a href="#l51.8"></a><span id="l51.8">     content/messenger/addressbook/abDragDrop.js                                (addrbook/content/abDragDrop.js)</span>
<a href="#l51.9"></a><span id="l51.9">     content/messenger/addressbook/abMailListDialog.js                          (addrbook/content/abMailListDialog.js)</span>
<a href="#l51.10"></a><span id="l51.10">     content/messenger/addressbook/map-list.js                                  (addrbook/content/map-list.js)</span>
<a href="#l51.11"></a><span id="l51.11">     content/messagebody/addressbook/print.css                                  (addrbook/content/print.css)</span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-*   content/messenger/AccountManager.xul                                       (base/prefs/content/AccountManager.xul)</span>
<a href="#l51.13"></a><span id="l51.13" class="difflineplus">+#ifdef MOZ_SUITE</span>
<a href="#l51.14"></a><span id="l51.14" class="difflineplus">+    content/messenger/AccountManager.xul                                       (base/prefs/content/AccountManager.xul)</span>
<a href="#l51.15"></a><span id="l51.15" class="difflineplus">+#endif</span>
<a href="#l51.16"></a><span id="l51.16">     content/messenger/AccountManager.js                                        (base/prefs/content/AccountManager.js)</span>
<a href="#l51.17"></a><span id="l51.17">     content/messenger/am-main.xul                                              (base/prefs/content/am-main.xul)</span>
<a href="#l51.18"></a><span id="l51.18">     content/messenger/am-main.js                                               (base/prefs/content/am-main.js)</span>
<a href="#l51.19"></a><span id="l51.19"> #ifdef MOZ_SUITE</span>
<a href="#l51.20"></a><span id="l51.20">     content/messenger/am-help.js                                               (base/prefs/content/am-help.js)</span>
<a href="#l51.21"></a><span id="l51.21"> #endif</span>
<a href="#l51.22"></a><span id="l51.22">     content/messenger/am-server.xul                                            (base/prefs/content/am-server.xul)</span>
<a href="#l51.23"></a><span id="l51.23">     content/messenger/am-serverwithnoidentities.xul                            (base/prefs/content/am-serverwithnoidentities.xul)</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

