<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 25223:df8923d94a7af8755f16960a6e8f56e5ce68fe11</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ df8923d94a7af8755f16960a6e8f56e5ce68fe11" />
<meta property="og:url" content="/comm-central/rev/df8923d94a7af8755f16960a6e8f56e5ce68fe11" />
<meta property="og:description" content="Bug 342632 - Adapt callers to defaultAccount being possibly null - mailnews JS. r=mkmelin" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / df8923d94a7af8755f16960a6e8f56e5ce68fe11 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/df8923d94a7af8755f16960a6e8f56e5ce68fe11">shortlog</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/df8923d94a7af8755f16960a6e8f56e5ce68fe11">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11">files</a> |
changeset |
<a href="/comm-central/raw-rev/df8923d94a7af8755f16960a6e8f56e5ce68fe11">raw</a>  | <a href="/comm-central/archive/df8923d94a7af8755f16960a6e8f56e5ce68fe11.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=342632">Bug 342632</a> - Adapt callers to defaultAccount being possibly null - mailnews JS. r=mkmelin
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#97;&#99;&#101;&#109;&#97;&#110;&#32;&#60;&#97;&#99;&#101;&#108;&#105;&#115;&#116;&#115;&#64;&#97;&#116;&#108;&#97;&#115;&#46;&#115;&#107;&#62;</td></tr>
<tr><td></td><td class="date age">Mon, 19 Nov 2018 00:56:49 +0100</td></tr>

<tr>
 <td>changeset 25223</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/df8923d94a7af8755f16960a6e8f56e5ce68fe11">df8923d94a7af8755f16960a6e8f56e5ce68fe11</a></td>
</tr>



<tr>
<td>parent 25222</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/a6f1f63789af294ace5640de1e3d4cbeb9870877">a6f1f63789af294ace5640de1e3d4cbeb9870877</a>
</td>
</tr>

<tr>
<td>child 25224</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/b5de626e716d37cb333bcd462faf6ef5f67064ec">b5de626e716d37cb333bcd462faf6ef5f67064ec</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=df8923d94a7af8755f16960a6e8f56e5ce68fe11">15139</a></td></tr>
<tr><td>push user</td><td>acelists@atlas.sk</td></tr>
<tr><td>push date</td><td class="date age">Sun, 18 Nov 2018 23:57:24 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@2dd62f4bcac3 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=2dd62f4bcac3a09938c917b53ca16790d61ea295">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=2dd62f4bcac3a09938c917b53ca16790d61ea295&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=2dd62f4bcac3a09938c917b53ca16790d61ea295&newProject=comm-central&newRevision=38c2cc49dccc59a155c9060ef557dcadc2b978d3&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=2dd62f4bcac3a09938c917b53ca16790d61ea295&newProject=comm-central&newRevision=38c2cc49dccc59a155c9060ef557dcadc2b978d3&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=2dd62f4bcac3a09938c917b53ca16790d61ea295&newProject=comm-central&newRevision=38c2cc49dccc59a155c9060ef557dcadc2b978d3&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=342632">342632</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=342632">Bug 342632</a> - Adapt callers to defaultAccount being possibly null - mailnews JS. r=mkmelin</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountManager.js">mailnews/base/prefs/content/AccountManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountManager.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountManager.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountManager.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountManager.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountWizard.js">mailnews/base/prefs/content/AccountWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountWizard.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountWizard.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountWizard.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountWizard.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/prefs/content/AccountWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/search/content/searchWidgets.xml">mailnews/base/search/content/searchWidgets.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/search/content/searchWidgets.xml">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/search/content/searchWidgets.xml">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/search/content/searchWidgets.xml">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/search/content/searchWidgets.xml">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/search/content/searchWidgets.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/test/unit/test_accountMgr.js">mailnews/base/test/unit/test_accountMgr.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/test/unit/test_accountMgr.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/test/unit/test_accountMgr.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/test/unit/test_accountMgr.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/test/unit/test_accountMgr.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/base/test/unit/test_accountMgr.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_bug474774.js">mailnews/compose/test/unit/test_bug474774.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_bug474774.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_bug474774.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_bug474774.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_bug474774.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_bug474774.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendBackground.js">mailnews/compose/test/unit/test_sendBackground.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendBackground.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendBackground.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendBackground.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendBackground.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendBackground.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater.js">mailnews/compose/test/unit/test_sendMessageLater.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater2.js">mailnews/compose/test/unit/test_sendMessageLater2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater2.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater2.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater2.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater2.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater3.js">mailnews/compose/test/unit/test_sendMessageLater3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater3.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater3.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater3.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater3.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/compose/test/unit/test_sendMessageLater3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_dontStatNoSelect.js">mailnews/imap/test/unit/test_dontStatNoSelect.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_dontStatNoSelect.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_dontStatNoSelect.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_dontStatNoSelect.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_dontStatNoSelect.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_dontStatNoSelect.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_imapHighWater.js">mailnews/imap/test/unit/test_imapHighWater.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_imapHighWater.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_imapHighWater.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_imapHighWater.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_imapHighWater.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_imapHighWater.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/test/resources/IMAPpump.js">mailnews/test/resources/IMAPpump.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/test/resources/IMAPpump.js">file</a> |
<a href="/comm-central/annotate/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/test/resources/IMAPpump.js">annotate</a> |
<a href="/comm-central/diff/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/test/resources/IMAPpump.js">diff</a> |
<a href="/comm-central/comparison/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/test/resources/IMAPpump.js">comparison</a> |
<a href="/comm-central/log/df8923d94a7af8755f16960a6e8f56e5ce68fe11/mailnews/test/resources/IMAPpump.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mailnews/base/prefs/content/AccountManager.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mailnews/base/prefs/content/AccountManager.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -750,17 +750,17 @@ function setAccountLabel(aAccountKey, aA</span>
<a href="#l1.4"></a><span id="l1.4"> /**</span>
<a href="#l1.5"></a><span id="l1.5">  * Make currentAccount (currently selected in the account tree) the default one.</span>
<a href="#l1.6"></a><span id="l1.6">  */</span>
<a href="#l1.7"></a><span id="l1.7"> function onSetDefault(event) {</span>
<a href="#l1.8"></a><span id="l1.8">   // Make sure this function was not called while the control item is disabled</span>
<a href="#l1.9"></a><span id="l1.9">   if (event.target.getAttribute(&quot;disabled&quot;) == &quot;true&quot;)</span>
<a href="#l1.10"></a><span id="l1.10">     return;</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-  let previousDefault = getDefaultAccount();</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+  let previousDefault = MailServices.accounts.defaultAccount;</span>
<a href="#l1.14"></a><span id="l1.14">   MailServices.accounts.defaultAccount = currentAccount;</span>
<a href="#l1.15"></a><span id="l1.15">   markDefaultServer(currentAccount, previousDefault);</span>
<a href="#l1.16"></a><span id="l1.16"> </span>
<a href="#l1.17"></a><span id="l1.17">   // This is only needed on Seamonkey which has this button.</span>
<a href="#l1.18"></a><span id="l1.18">   setEnabled(document.getElementById(&quot;setDefaultButton&quot;), false);</span>
<a href="#l1.19"></a><span id="l1.19"> }</span>
<a href="#l1.20"></a><span id="l1.20"> </span>
<a href="#l1.21"></a><span id="l1.21"> function onRemoveAccount(event) {</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineat">@@ -817,17 +817,17 @@ function onRemoveAccount(event) {</span>
<a href="#l1.23"></a><span id="l1.23">   }</span>
<a href="#l1.24"></a><span id="l1.24"> </span>
<a href="#l1.25"></a><span id="l1.25">   if ((serverIndex &gt;= 0) &amp;&amp; (serverIndex &lt; serverList.length))</span>
<a href="#l1.26"></a><span id="l1.26">     selectServer(serverList[serverIndex], null);</span>
<a href="#l1.27"></a><span id="l1.27"> </span>
<a href="#l1.28"></a><span id="l1.28">   // Either the default account was deleted so there is a new one</span>
<a href="#l1.29"></a><span id="l1.29">   // or the default account was not changed. Either way, there is</span>
<a href="#l1.30"></a><span id="l1.30">   // no need to unmark the old one.</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-  markDefaultServer(getDefaultAccount(), null);</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+  markDefaultServer(MailServices.accounts.defaultAccount, null);</span>
<a href="#l1.33"></a><span id="l1.33"> }</span>
<a href="#l1.34"></a><span id="l1.34"> </span>
<a href="#l1.35"></a><span id="l1.35"> function saveAccount(accountValues, account)</span>
<a href="#l1.36"></a><span id="l1.36"> {</span>
<a href="#l1.37"></a><span id="l1.37">   var identity = null;</span>
<a href="#l1.38"></a><span id="l1.38">   var server = null;</span>
<a href="#l1.39"></a><span id="l1.39"> </span>
<a href="#l1.40"></a><span id="l1.40">   if (account) {</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineat">@@ -974,17 +974,17 @@ function updateItems(tree, account, addA</span>
<a href="#l1.42"></a><span id="l1.42"> </span>
<a href="#l1.43"></a><span id="l1.43">   if (account &amp;&amp; (tree.view.selection.count &gt;= 1)) {</span>
<a href="#l1.44"></a><span id="l1.44">     // Only try to check properties if there was anything selected in the tree</span>
<a href="#l1.45"></a><span id="l1.45">     // and it belongs to an account.</span>
<a href="#l1.46"></a><span id="l1.46">     // Otherwise we have either selected a SMTP server, or there is some</span>
<a href="#l1.47"></a><span id="l1.47">     // problem. Either way, we don't want the user to act on it.</span>
<a href="#l1.48"></a><span id="l1.48">     let server = account.incomingServer;</span>
<a href="#l1.49"></a><span id="l1.49"> </span>
<a href="#l1.50"></a><span id="l1.50" class="difflineminus">-    if (account != getDefaultAccount() &amp;&amp;</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineplus">+    if (account != MailServices.accounts.defaultAccount &amp;&amp;</span>
<a href="#l1.52"></a><span id="l1.52">         server.canBeDefaultServer &amp;&amp; account.identities.length &gt; 0)</span>
<a href="#l1.53"></a><span id="l1.53">       canSetDefault = true;</span>
<a href="#l1.54"></a><span id="l1.54"> </span>
<a href="#l1.55"></a><span id="l1.55">     canDelete = server.protocolInfo.canDelete || server.canDelete;</span>
<a href="#l1.56"></a><span id="l1.56">   }</span>
<a href="#l1.57"></a><span id="l1.57"> </span>
<a href="#l1.58"></a><span id="l1.58">   setEnabled(addAccountItem, true);</span>
<a href="#l1.59"></a><span id="l1.59">   setEnabled(setDefaultItem, canSetDefault);</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineat">@@ -1430,28 +1430,16 @@ function setFormElementValue(formElement</span>
<a href="#l1.61"></a><span id="l1.61"> </span>
<a href="#l1.62"></a><span id="l1.62"> // helper routine for account manager panels to get the current account for the selected server</span>
<a href="#l1.63"></a><span id="l1.63"> function getCurrentAccount()</span>
<a href="#l1.64"></a><span id="l1.64"> {</span>
<a href="#l1.65"></a><span id="l1.65">   return currentAccount;</span>
<a href="#l1.66"></a><span id="l1.66"> }</span>
<a href="#l1.67"></a><span id="l1.67"> </span>
<a href="#l1.68"></a><span id="l1.68"> /**</span>
<a href="#l1.69"></a><span id="l1.69" class="difflineminus">- * Returns the default account without throwing exception if there is none.</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineminus">- * The account manager can be opened even if there are no account yet.</span>
<a href="#l1.71"></a><span id="l1.71" class="difflineminus">- */</span>
<a href="#l1.72"></a><span id="l1.72" class="difflineminus">-function getDefaultAccount() {</span>
<a href="#l1.73"></a><span id="l1.73" class="difflineminus">-  try {</span>
<a href="#l1.74"></a><span id="l1.74" class="difflineminus">-    return MailServices.accounts.defaultAccount;</span>
<a href="#l1.75"></a><span id="l1.75" class="difflineminus">-  } catch (e) {</span>
<a href="#l1.76"></a><span id="l1.76" class="difflineminus">-    return null; // No default account yet.</span>
<a href="#l1.77"></a><span id="l1.77" class="difflineminus">-  }</span>
<a href="#l1.78"></a><span id="l1.78" class="difflineminus">-}</span>
<a href="#l1.79"></a><span id="l1.79" class="difflineminus">-</span>
<a href="#l1.80"></a><span id="l1.80" class="difflineminus">-/**</span>
<a href="#l1.81"></a><span id="l1.81">  * Get the array of persisted form elements for the given page.</span>
<a href="#l1.82"></a><span id="l1.82">  */</span>
<a href="#l1.83"></a><span id="l1.83"> function getPageFormElements() {</span>
<a href="#l1.84"></a><span id="l1.84">   // Uses getElementsByAttribute() which returns a live NodeList which is usually</span>
<a href="#l1.85"></a><span id="l1.85">   // faster than e.g. querySelector().</span>
<a href="#l1.86"></a><span id="l1.86">   if (&quot;getElementsByAttribute&quot; in top.frames[&quot;contentFrame&quot;].document)</span>
<a href="#l1.87"></a><span id="l1.87">     return top.frames[&quot;contentFrame&quot;].document</span>
<a href="#l1.88"></a><span id="l1.88">               .getElementsByAttribute(&quot;wsm_persist&quot;, &quot;true&quot;);</span>
<a href="#l1.89"></a><span id="l1.89" class="difflineat">@@ -1654,17 +1642,17 @@ var gAccountTree = {</span>
<a href="#l1.90"></a><span id="l1.90">         treeitem.setAttribute(&quot;open&quot;, this._getAccountOpenState(accountKey));</span>
<a href="#l1.91"></a><span id="l1.91">         // Let the XULStore.json automatically save the 'open' state of the</span>
<a href="#l1.92"></a><span id="l1.92">         // account when it is changed.</span>
<a href="#l1.93"></a><span id="l1.93">         treeitem.setAttribute(&quot;persist&quot;, &quot;open&quot;);</span>
<a href="#l1.94"></a><span id="l1.94">       }</span>
<a href="#l1.95"></a><span id="l1.95">       treeitem._account = account;</span>
<a href="#l1.96"></a><span id="l1.96">     }</span>
<a href="#l1.97"></a><span id="l1.97"> </span>
<a href="#l1.98"></a><span id="l1.98" class="difflineminus">-    markDefaultServer(getDefaultAccount(), null);</span>
<a href="#l1.99"></a><span id="l1.99" class="difflineplus">+    markDefaultServer(MailServices.accounts.defaultAccount, null);</span>
<a href="#l1.100"></a><span id="l1.100"> </span>
<a href="#l1.101"></a><span id="l1.101">     // Now add the outgoing server node.</span>
<a href="#l1.102"></a><span id="l1.102">     var treeitem = document.createElement(&quot;treeitem&quot;);</span>
<a href="#l1.103"></a><span id="l1.103">     mainTree.appendChild(treeitem);</span>
<a href="#l1.104"></a><span id="l1.104">     var treerow = document.createElement(&quot;treerow&quot;);</span>
<a href="#l1.105"></a><span id="l1.105">     treeitem.appendChild(treerow);</span>
<a href="#l1.106"></a><span id="l1.106">     var treecell = document.createElement(&quot;treecell&quot;);</span>
<a href="#l1.107"></a><span id="l1.107">     treerow.appendChild(treecell);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mailnews/base/prefs/content/AccountWizard.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mailnews/base/prefs/content/AccountWizard.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -48,17 +48,19 @@ var gPageData;</span>
<a href="#l2.4"></a><span id="l2.4"> </span>
<a href="#l2.5"></a><span id="l2.5"> var nsIMsgIdentity = Ci.nsIMsgIdentity;</span>
<a href="#l2.6"></a><span id="l2.6"> var nsIMsgIncomingServer = Ci.nsIMsgIncomingServer;</span>
<a href="#l2.7"></a><span id="l2.7"> var gPrefsBundle, gMessengerBundle;</span>
<a href="#l2.8"></a><span id="l2.8"> </span>
<a href="#l2.9"></a><span id="l2.9"> // the current nsIMsgAccount</span>
<a href="#l2.10"></a><span id="l2.10"> var gCurrentAccount;</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-// default account</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+// The default account before we create a new account.</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+// We need to store this as just asking for the default account may switch</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+// it to the newly created one if there was none before.</span>
<a href="#l2.16"></a><span id="l2.16"> var gDefaultAccount;</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18"> // the current associative array that</span>
<a href="#l2.19"></a><span id="l2.19"> // will eventually be dumped into the account</span>
<a href="#l2.20"></a><span id="l2.20"> var gCurrentAccountData;</span>
<a href="#l2.21"></a><span id="l2.21"> </span>
<a href="#l2.22"></a><span id="l2.22"> // default picker mode for copies and folders</span>
<a href="#l2.23"></a><span id="l2.23"> var gDefaultSpecialFolderPickerMode = &quot;0&quot;;</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineat">@@ -80,24 +82,19 @@ function onAccountWizardLoad() {</span>
<a href="#l2.25"></a><span id="l2.25">     {</span>
<a href="#l2.26"></a><span id="l2.26">       //dump(&quot;There is okCallback&quot;);</span>
<a href="#l2.27"></a><span id="l2.27">       top.okCallback = window.arguments[0].okCallback;</span>
<a href="#l2.28"></a><span id="l2.28">     }</span>
<a href="#l2.29"></a><span id="l2.29">   }</span>
<a href="#l2.30"></a><span id="l2.30"> </span>
<a href="#l2.31"></a><span id="l2.31">   checkForInvalidAccounts();</span>
<a href="#l2.32"></a><span id="l2.32"> </span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-  try {</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-    gDefaultAccount = MailServices.accounts.defaultAccount;</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-  }</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-  catch (ex) {</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-    // no default account, this is expected the first time you launch mail</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineminus">-    // on a new profile</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineminus">-    gDefaultAccount = null;</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineminus">-  }</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineplus">+  // It is fine if there is no default account, this is expected the first</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineplus">+  // time you launch mail on a new profile.</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineplus">+  gDefaultAccount = MailServices.accounts.defaultAccount;</span>
<a href="#l2.44"></a><span id="l2.44"> </span>
<a href="#l2.45"></a><span id="l2.45">   // Set default value for global inbox checkbox</span>
<a href="#l2.46"></a><span id="l2.46">   var checkGlobalInbox = document.getElementById(&quot;deferStorage&quot;);</span>
<a href="#l2.47"></a><span id="l2.47">   try {</span>
<a href="#l2.48"></a><span id="l2.48">     checkGlobalInbox.checked = Services.prefs.getBoolPref(&quot;mail.accountwizard.deferstorage&quot;);</span>
<a href="#l2.49"></a><span id="l2.49">   } catch(e) {}</span>
<a href="#l2.50"></a><span id="l2.50"> }</span>
<a href="#l2.51"></a><span id="l2.51"> </span>
<a href="#l2.52"></a><span id="l2.52" class="difflineat">@@ -794,18 +791,17 @@ function getPreConfigDataForAccount(acco</span>
<a href="#l2.53"></a><span id="l2.53">     // (wizardSkipPanels, smtpRequiresUsername) are not defined.</span>
<a href="#l2.54"></a><span id="l2.54">   }</span>
<a href="#l2.55"></a><span id="l2.55"> </span>
<a href="#l2.56"></a><span id="l2.56">   return accountData;</span>
<a href="#l2.57"></a><span id="l2.57"> }</span>
<a href="#l2.58"></a><span id="l2.58"> </span>
<a href="#l2.59"></a><span id="l2.59"> function AccountToAccountData(account, defaultAccountData)</span>
<a href="#l2.60"></a><span id="l2.60"> {</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-  dump(&quot;AccountToAccountData(&quot; + account + &quot;, &quot; +</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineminus">-       defaultAccountData + &quot;)\n&quot;);</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineplus">+  dump(&quot;AccountToAccountData(&quot; + account + &quot;, &quot; + defaultAccountData + &quot;)\n&quot;);</span>
<a href="#l2.64"></a><span id="l2.64">   var accountData = defaultAccountData;</span>
<a href="#l2.65"></a><span id="l2.65">   if (!accountData)</span>
<a href="#l2.66"></a><span id="l2.66">     accountData = new Object;</span>
<a href="#l2.67"></a><span id="l2.67"> </span>
<a href="#l2.68"></a><span id="l2.68">   accountData.incomingServer = account.incomingServer;</span>
<a href="#l2.69"></a><span id="l2.69">   accountData.identity = account.identities.queryElementAt(0, nsIMsgIdentity);</span>
<a href="#l2.70"></a><span id="l2.70">   accountData.smtp = MailServices.smtp.defaultServer;</span>
<a href="#l2.71"></a><span id="l2.71"> </span>
<a href="#l2.72"></a><span id="l2.72" class="difflineat">@@ -961,32 +957,32 @@ function onFlush() {</span>
<a href="#l2.73"></a><span id="l2.73"> }</span>
<a href="#l2.74"></a><span id="l2.74"> </span>
<a href="#l2.75"></a><span id="l2.75"> /** If there are no default accounts..</span>
<a href="#l2.76"></a><span id="l2.76">   * this is will be the new default, so enable</span>
<a href="#l2.77"></a><span id="l2.77">   * check for mail at startup</span>
<a href="#l2.78"></a><span id="l2.78">   */</span>
<a href="#l2.79"></a><span id="l2.79"> function EnableCheckMailAtStartUpIfNeeded(newAccount)</span>
<a href="#l2.80"></a><span id="l2.80"> {</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineminus">-  // Check if default account exists and if that account is alllowed to be</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineminus">-  // a default account. If no such account, make this one as the default account</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineplus">+  // Check if default account existed.</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineplus">+  // If no such account, make this one the default account</span>
<a href="#l2.85"></a><span id="l2.85">   // and turn on the new mail check at startup for the current account</span>
<a href="#l2.86"></a><span id="l2.86" class="difflineminus">-  if (!(gDefaultAccount &amp;&amp; gDefaultAccount.incomingServer.canBeDefaultServer)) {</span>
<a href="#l2.87"></a><span id="l2.87" class="difflineplus">+  if (!gDefaultAccount) {</span>
<a href="#l2.88"></a><span id="l2.88">     MailServices.accounts.defaultAccount = newAccount;</span>
<a href="#l2.89"></a><span id="l2.89">     newAccount.incomingServer.loginAtStartUp = true;</span>
<a href="#l2.90"></a><span id="l2.90">     newAccount.incomingServer.downloadOnBiff = true;</span>
<a href="#l2.91"></a><span id="l2.91">   }</span>
<a href="#l2.92"></a><span id="l2.92"> }</span>
<a href="#l2.93"></a><span id="l2.93"> </span>
<a href="#l2.94"></a><span id="l2.94"> function SetSmtpRequiresUsernameAttribute(accountData)</span>
<a href="#l2.95"></a><span id="l2.95"> {</span>
<a href="#l2.96"></a><span id="l2.96">   // If this is the default server, time to set the smtp user name</span>
<a href="#l2.97"></a><span id="l2.97">   // Set the generic attribute for requiring user name for smtp to true.</span>
<a href="#l2.98"></a><span id="l2.98">   // ISPs can override the pref via rdf files.</span>
<a href="#l2.99"></a><span id="l2.99" class="difflineminus">-  if (!(gDefaultAccount &amp;&amp; gDefaultAccount.incomingServer.canBeDefaultServer)) {</span>
<a href="#l2.100"></a><span id="l2.100" class="difflineplus">+  if (!gDefaultAccount) {</span>
<a href="#l2.101"></a><span id="l2.101">     accountData.smtpRequiresUsername = true;</span>
<a href="#l2.102"></a><span id="l2.102">   }</span>
<a href="#l2.103"></a><span id="l2.103"> }</span>
<a href="#l2.104"></a><span id="l2.104"> </span>
<a href="#l2.105"></a><span id="l2.105"> function setNextPage(currentPageId, nextPageId) {</span>
<a href="#l2.106"></a><span id="l2.106">   var currentPage = document.getElementById(currentPageId);</span>
<a href="#l2.107"></a><span id="l2.107">   currentPage.next = nextPageId;</span>
<a href="#l2.108"></a><span id="l2.108"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mailnews/base/search/content/searchWidgets.xml</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mailnews/base/search/content/searchWidgets.xml</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -219,20 +219,22 @@</span>
<a href="#l3.4"></a><span id="l3.4">         &lt;parameter name=&quot;populateTemplateList&quot;/&gt;</span>
<a href="#l3.5"></a><span id="l3.5">         &lt;parameter name=&quot;templateMenuList&quot;/&gt;</span>
<a href="#l3.6"></a><span id="l3.6">         &lt;body&gt;</span>
<a href="#l3.7"></a><span id="l3.7">           &lt;![CDATA[</span>
<a href="#l3.8"></a><span id="l3.8">             ChromeUtils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;, this);</span>
<a href="#l3.9"></a><span id="l3.9">             let identitiesRaw = MailServices.accounts</span>
<a href="#l3.10"></a><span id="l3.10">               .getIdentitiesForServer(gFilterList.folder.server);</span>
<a href="#l3.11"></a><span id="l3.11">             let identities = Array.from(this.fixIterator(identitiesRaw,</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-                                          Ci.nsIMsgIdentity));</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+                                                         Ci.nsIMsgIdentity));</span>
<a href="#l3.14"></a><span id="l3.14"> </span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-            if (!identities.length) // typically if this is Local Folders</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-              identities.push(MailServices.accounts.defaultAccount.defaultIdentity);</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+            if (identities.length == 0) { // typically if this is Local Folders</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineplus">+              if (MailServices.accounts.defaultAccount)</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineplus">+                identities.push(MailServices.accounts.defaultAccount.defaultIdentity);</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineplus">+            }</span>
<a href="#l3.21"></a><span id="l3.21"> </span>
<a href="#l3.22"></a><span id="l3.22">             let templateFound = false;</span>
<a href="#l3.23"></a><span id="l3.23">             let foldersScanned = [];</span>
<a href="#l3.24"></a><span id="l3.24"> </span>
<a href="#l3.25"></a><span id="l3.25">             for (let identity of identities) {</span>
<a href="#l3.26"></a><span id="l3.26">               let enumerator = null;</span>
<a href="#l3.27"></a><span id="l3.27">               let msgFolder;</span>
<a href="#l3.28"></a><span id="l3.28">               try {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mailnews/base/test/unit/test_accountMgr.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_accountMgr.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -58,18 +58,17 @@ function run_test()</span>
<a href="#l4.4"></a><span id="l4.4">                &quot;account1,account4,account5&quot;);</span>
<a href="#l4.5"></a><span id="l4.5">   let server5 = MailServices.accounts.getIncomingServer(&quot;server5&quot;)</span>
<a href="#l4.6"></a><span id="l4.6">                   .QueryInterface(Ci.nsIPop3IncomingServer);</span>
<a href="#l4.7"></a><span id="l4.7">   Assert.equal(server5.deferredToAccount, &quot;account1&quot;);</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9">   // Just make sure this doesn't throw an exception, because we did remove the</span>
<a href="#l4.10"></a><span id="l4.10">   // default account.</span>
<a href="#l4.11"></a><span id="l4.11">   let defaultAccount = MailServices.accounts.defaultAccount;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-  // GetDefaultAccount should have thrown an exception for null account.</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-  Assert.notEqual(defaultAccount, null);</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+  Assert.equal(defaultAccount, null);</span>
<a href="#l4.15"></a><span id="l4.15"> </span>
<a href="#l4.16"></a><span id="l4.16">   // Remove an account, and verify that the account list pref looks OK:</span>
<a href="#l4.17"></a><span id="l4.17">   let server = MailServices.accounts.getIncomingServer(&quot;server4&quot;);</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19">   // We need to get the root folder to read from the folder cache</span>
<a href="#l4.20"></a><span id="l4.20">   // before it gets removed or else we'll assert, because we're</span>
<a href="#l4.21"></a><span id="l4.21">   // not completely initialized...</span>
<a href="#l4.22"></a><span id="l4.22">   let flags = server.rootFolder.flags;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_bug474774.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_bug474774.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -187,16 +187,17 @@ function run_test() {</span>
<a href="#l5.4"></a><span id="l5.4">   let incomingServer = MailServices.accounts.createIncomingServer(&quot;test&quot;, &quot;localhost&quot;, &quot;pop3&quot;);</span>
<a href="#l5.5"></a><span id="l5.5"> </span>
<a href="#l5.6"></a><span id="l5.6">   smtpServer = getBasicSmtpServer(0);</span>
<a href="#l5.7"></a><span id="l5.7">   identity = getSmtpIdentity(kIdentityMail, smtpServer);</span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9">   account.addIdentity(identity);</span>
<a href="#l5.10"></a><span id="l5.10">   account.defaultIdentity = identity;</span>
<a href="#l5.11"></a><span id="l5.11">   account.incomingServer = incomingServer;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+  MailServices.accounts.defaultAccount = account;</span>
<a href="#l5.13"></a><span id="l5.13"> </span>
<a href="#l5.14"></a><span id="l5.14">   sentFolder = localAccountUtils.rootFolder.createLocalSubfolder(&quot;Sent&quot;);</span>
<a href="#l5.15"></a><span id="l5.15"> </span>
<a href="#l5.16"></a><span id="l5.16">   identity.doFcc = false;</span>
<a href="#l5.17"></a><span id="l5.17"> </span>
<a href="#l5.18"></a><span id="l5.18">   // Now prepare to actually &quot;send&quot; the message later, i.e. dump it in the</span>
<a href="#l5.19"></a><span id="l5.19">   // unsent messages folder.</span>
<a href="#l5.20"></a><span id="l5.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendBackground.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendBackground.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -112,16 +112,17 @@ function run_test() {</span>
<a href="#l6.4"></a><span id="l6.4">   server = setupServerDaemon();</span>
<a href="#l6.5"></a><span id="l6.5">   server.start();</span>
<a href="#l6.6"></a><span id="l6.6">   var smtpServer = getBasicSmtpServer(server.port);</span>
<a href="#l6.7"></a><span id="l6.7">   identity = getSmtpIdentity(kIdentityMail, smtpServer);</span>
<a href="#l6.8"></a><span id="l6.8"> </span>
<a href="#l6.9"></a><span id="l6.9">   account.addIdentity(identity);</span>
<a href="#l6.10"></a><span id="l6.10">   account.defaultIdentity = identity;</span>
<a href="#l6.11"></a><span id="l6.11">   account.incomingServer = incomingServer;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+  MailServices.accounts.defaultAccount = account;</span>
<a href="#l6.13"></a><span id="l6.13"> </span>
<a href="#l6.14"></a><span id="l6.14">   sentFolder = localAccountUtils.rootFolder.createLocalSubfolder(&quot;Sent&quot;);</span>
<a href="#l6.15"></a><span id="l6.15"> </span>
<a href="#l6.16"></a><span id="l6.16">   Assert.equal(identity.doFcc, true);</span>
<a href="#l6.17"></a><span id="l6.17"> </span>
<a href="#l6.18"></a><span id="l6.18">   // Now prepare to actually &quot;send&quot; the message later, i.e. dump it in the</span>
<a href="#l6.19"></a><span id="l6.19">   // unsent messages folder.</span>
<a href="#l6.20"></a><span id="l6.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMessageLater.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMessageLater.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -193,16 +193,17 @@ function run_test() {</span>
<a href="#l7.4"></a><span id="l7.4">   let incomingServer = MailServices.accounts.createIncomingServer(&quot;test&quot;, &quot;localhost&quot;, &quot;pop3&quot;);</span>
<a href="#l7.5"></a><span id="l7.5"> </span>
<a href="#l7.6"></a><span id="l7.6">   smtpServer = getBasicSmtpServer(1);</span>
<a href="#l7.7"></a><span id="l7.7">   identity = getSmtpIdentity(kIdentityMail, smtpServer);</span>
<a href="#l7.8"></a><span id="l7.8"> </span>
<a href="#l7.9"></a><span id="l7.9">   account.addIdentity(identity);</span>
<a href="#l7.10"></a><span id="l7.10">   account.defaultIdentity = identity;</span>
<a href="#l7.11"></a><span id="l7.11">   account.incomingServer = incomingServer;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+  MailServices.accounts.defaultAccount = account;</span>
<a href="#l7.13"></a><span id="l7.13"> </span>
<a href="#l7.14"></a><span id="l7.14">   sentFolder = localAccountUtils.rootFolder.createLocalSubfolder(&quot;Sent&quot;);</span>
<a href="#l7.15"></a><span id="l7.15"> </span>
<a href="#l7.16"></a><span id="l7.16">   Assert.equal(identity.doFcc, true);</span>
<a href="#l7.17"></a><span id="l7.17"> </span>
<a href="#l7.18"></a><span id="l7.18">   // Now prepare to actually &quot;send&quot; the message later, i.e. dump it in the</span>
<a href="#l7.19"></a><span id="l7.19">   // unsent messages folder.</span>
<a href="#l7.20"></a><span id="l7.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMessageLater2.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMessageLater2.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -247,16 +247,17 @@ function run_test() {</span>
<a href="#l8.4"></a><span id="l8.4">   let incomingServer = MailServices.accounts.createIncomingServer(&quot;test&quot;, &quot;localhost&quot;, &quot;pop3&quot;);</span>
<a href="#l8.5"></a><span id="l8.5"> </span>
<a href="#l8.6"></a><span id="l8.6">   smtpServer = getBasicSmtpServer(1);</span>
<a href="#l8.7"></a><span id="l8.7">   identity = getSmtpIdentity(kIdentityMail, smtpServer);</span>
<a href="#l8.8"></a><span id="l8.8"> </span>
<a href="#l8.9"></a><span id="l8.9">   account.addIdentity(identity);</span>
<a href="#l8.10"></a><span id="l8.10">   account.defaultIdentity = identity;</span>
<a href="#l8.11"></a><span id="l8.11">   account.incomingServer = incomingServer;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+  MailServices.accounts.defaultAccount = account;</span>
<a href="#l8.13"></a><span id="l8.13"> </span>
<a href="#l8.14"></a><span id="l8.14">   localAccountUtils.rootFolder.createLocalSubfolder(&quot;Sent&quot;);</span>
<a href="#l8.15"></a><span id="l8.15"> </span>
<a href="#l8.16"></a><span id="l8.16">   gSentFolder = msgSendLater.getUnsentMessagesFolder(identity);</span>
<a href="#l8.17"></a><span id="l8.17"> </span>
<a href="#l8.18"></a><span id="l8.18">   // Don't copy messages to sent folder for this test</span>
<a href="#l8.19"></a><span id="l8.19">   identity.doFcc = false;</span>
<a href="#l8.20"></a><span id="l8.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMessageLater3.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMessageLater3.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -135,16 +135,17 @@ function run_test() {</span>
<a href="#l9.4"></a><span id="l9.4">   let incomingServer = MailServices.accounts.createIncomingServer(&quot;test&quot;, &quot;localhost&quot;, &quot;pop3&quot;);</span>
<a href="#l9.5"></a><span id="l9.5"> </span>
<a href="#l9.6"></a><span id="l9.6">   var smtpServer = getBasicSmtpServer();</span>
<a href="#l9.7"></a><span id="l9.7">   identity = getSmtpIdentity(kSender, smtpServer);</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9">   account.addIdentity(identity);</span>
<a href="#l9.10"></a><span id="l9.10">   account.defaultIdentity = identity;</span>
<a href="#l9.11"></a><span id="l9.11">   account.incomingServer = incomingServer;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+  MailServices.accounts.defaultAccount = account;</span>
<a href="#l9.13"></a><span id="l9.13"> </span>
<a href="#l9.14"></a><span id="l9.14">   sentFolder = localAccountUtils.rootFolder.createLocalSubfolder(&quot;Sent&quot;);</span>
<a href="#l9.15"></a><span id="l9.15"> </span>
<a href="#l9.16"></a><span id="l9.16">   identity.doFcc = false;</span>
<a href="#l9.17"></a><span id="l9.17"> </span>
<a href="#l9.18"></a><span id="l9.18">   // Now prepare to actually &quot;send&quot; the message later, i.e. dump it in the</span>
<a href="#l9.19"></a><span id="l9.19">   // unsent messages folder.</span>
<a href="#l9.20"></a><span id="l9.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_dontStatNoSelect.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_dontStatNoSelect.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -38,23 +38,23 @@ function run_test() {</span>
<a href="#l10.4"></a><span id="l10.4">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l10.5"></a><span id="l10.5"> </span>
<a href="#l10.6"></a><span id="l10.6">   // We need an identity so that updateFolder doesn't fail</span>
<a href="#l10.7"></a><span id="l10.7">   let localAccount = MailServices.accounts.createAccount();</span>
<a href="#l10.8"></a><span id="l10.8">   let identity = MailServices.accounts.createIdentity();</span>
<a href="#l10.9"></a><span id="l10.9">   localAccount.addIdentity(identity);</span>
<a href="#l10.10"></a><span id="l10.10">   localAccount.defaultIdentity = identity;</span>
<a href="#l10.11"></a><span id="l10.11">   localAccount.incomingServer = localAccountUtils.incomingServer;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-  MailServices.accounts.defaultAccount = localAccount;</span>
<a href="#l10.13"></a><span id="l10.13"> </span>
<a href="#l10.14"></a><span id="l10.14">   // Let's also have another account, using the same identity</span>
<a href="#l10.15"></a><span id="l10.15">   let imapAccount = MailServices.accounts.createAccount();</span>
<a href="#l10.16"></a><span id="l10.16">   imapAccount.addIdentity(identity);</span>
<a href="#l10.17"></a><span id="l10.17">   imapAccount.defaultIdentity = identity;</span>
<a href="#l10.18"></a><span id="l10.18">   imapAccount.incomingServer = gImapServer;</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineplus">+  MailServices.accounts.defaultAccount = imapAccount;</span>
<a href="#l10.20"></a><span id="l10.20"> </span>
<a href="#l10.21"></a><span id="l10.21">   // Get the folder list...</span>
<a href="#l10.22"></a><span id="l10.22">   gImapServer.performExpand(null);</span>
<a href="#l10.23"></a><span id="l10.23">   gServer.performTest(&quot;SUBSCRIBE&quot;);</span>
<a href="#l10.24"></a><span id="l10.24">   // pref tuning: one connection only, turn off notifications</span>
<a href="#l10.25"></a><span id="l10.25">   // Make sure no biff notifications happen</span>
<a href="#l10.26"></a><span id="l10.26">   Services.prefs.setBoolPref(&quot;mail.biff.play_sound&quot;, false);</span>
<a href="#l10.27"></a><span id="l10.27">   Services.prefs.setBoolPref(&quot;mail.biff.show_alert&quot;, false);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapHighWater.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapHighWater.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -43,23 +43,23 @@ function run_test()</span>
<a href="#l11.4"></a><span id="l11.4">   gIMAPIncomingServer.maximumConnectionsNumber = 1;</span>
<a href="#l11.5"></a><span id="l11.5"> </span>
<a href="#l11.6"></a><span id="l11.6">   // We need an identity so that updateFolder doesn't fail</span>
<a href="#l11.7"></a><span id="l11.7">   let localAccount = MailServices.accounts.createAccount();</span>
<a href="#l11.8"></a><span id="l11.8">   let identity = MailServices.accounts.createIdentity();</span>
<a href="#l11.9"></a><span id="l11.9">   localAccount.addIdentity(identity);</span>
<a href="#l11.10"></a><span id="l11.10">   localAccount.defaultIdentity = identity;</span>
<a href="#l11.11"></a><span id="l11.11">   localAccount.incomingServer = localAccountUtils.incomingServer;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-  MailServices.accounts.defaultAccount = localAccount;</span>
<a href="#l11.13"></a><span id="l11.13"> </span>
<a href="#l11.14"></a><span id="l11.14">   // Let's also have another account, using the same identity</span>
<a href="#l11.15"></a><span id="l11.15">   let imapAccount = MailServices.accounts.createAccount();</span>
<a href="#l11.16"></a><span id="l11.16">   imapAccount.addIdentity(identity);</span>
<a href="#l11.17"></a><span id="l11.17">   imapAccount.defaultIdentity = identity;</span>
<a href="#l11.18"></a><span id="l11.18">   imapAccount.incomingServer = gIMAPIncomingServer;</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineplus">+  MailServices.accounts.defaultAccount = imapAccount;</span>
<a href="#l11.20"></a><span id="l11.20"> </span>
<a href="#l11.21"></a><span id="l11.21">   // pref tuning: one connection only, turn off notifications</span>
<a href="#l11.22"></a><span id="l11.22">   Services.prefs.setBoolPref(&quot;mail.biff.play_sound&quot;, false);</span>
<a href="#l11.23"></a><span id="l11.23">   Services.prefs.setBoolPref(&quot;mail.biff.show_alert&quot;, false);</span>
<a href="#l11.24"></a><span id="l11.24">   Services.prefs.setBoolPref(&quot;mail.biff.show_tray_icon&quot;, false);</span>
<a href="#l11.25"></a><span id="l11.25">   Services.prefs.setBoolPref(&quot;mail.biff.animate_dock_icon&quot;, false);</span>
<a href="#l11.26"></a><span id="l11.26">   Services.prefs.setBoolPref(&quot;mail.server.default.autosync_offline_stores&quot;, false);</span>
<a href="#l11.27"></a><span id="l11.27">   // Don't prompt about offline download when going offline</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_nsIMsgFolderListenerIMAP.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -203,23 +203,23 @@ function run_test()</span>
<a href="#l12.4"></a><span id="l12.4">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l12.5"></a><span id="l12.5"> </span>
<a href="#l12.6"></a><span id="l12.6">   // We need an identity so that updateFolder doesn't fail</span>
<a href="#l12.7"></a><span id="l12.7">   let localAccount = MailServices.accounts.createAccount();</span>
<a href="#l12.8"></a><span id="l12.8">   let identity = MailServices.accounts.createIdentity();</span>
<a href="#l12.9"></a><span id="l12.9">   localAccount.addIdentity(identity);</span>
<a href="#l12.10"></a><span id="l12.10">   localAccount.defaultIdentity = identity;</span>
<a href="#l12.11"></a><span id="l12.11">   localAccount.incomingServer = localAccountUtils.incomingServer;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-  MailServices.accounts.defaultAccount = localAccount;</span>
<a href="#l12.13"></a><span id="l12.13"> </span>
<a href="#l12.14"></a><span id="l12.14">   // Let's also have another account, using the same identity</span>
<a href="#l12.15"></a><span id="l12.15">   let imapAccount = MailServices.accounts.createAccount();</span>
<a href="#l12.16"></a><span id="l12.16">   imapAccount.addIdentity(identity);</span>
<a href="#l12.17"></a><span id="l12.17">   imapAccount.defaultIdentity = identity;</span>
<a href="#l12.18"></a><span id="l12.18">   imapAccount.incomingServer = gIMAPIncomingServer;</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineplus">+  MailServices.accounts.defaultAccount = imapAccount;</span>
<a href="#l12.20"></a><span id="l12.20"> </span>
<a href="#l12.21"></a><span id="l12.21">   // The server doesn't support more than one connection</span>
<a href="#l12.22"></a><span id="l12.22">   Services.prefs.setIntPref(&quot;mail.server.server1.max_cached_connections&quot;, 1);</span>
<a href="#l12.23"></a><span id="l12.23">   // Make sure no biff notifications happen</span>
<a href="#l12.24"></a><span id="l12.24">   Services.prefs.setBoolPref(&quot;mail.biff.play_sound&quot;, false);</span>
<a href="#l12.25"></a><span id="l12.25">   Services.prefs.setBoolPref(&quot;mail.biff.show_alert&quot;, false);</span>
<a href="#l12.26"></a><span id="l12.26">   Services.prefs.setBoolPref(&quot;mail.biff.show_tray_icon&quot;, false);</span>
<a href="#l12.27"></a><span id="l12.27">   Services.prefs.setBoolPref(&quot;mail.biff.animate_dock_icon&quot;, false);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mailnews/test/resources/IMAPpump.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mailnews/test/resources/IMAPpump.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -80,23 +80,23 @@ function setupIMAPPump(extensions)</span>
<a href="#l13.4"></a><span id="l13.4">     localAccountUtils.loadLocalMailAccount();</span>
<a href="#l13.5"></a><span id="l13.5"> </span>
<a href="#l13.6"></a><span id="l13.6">   // We need an identity so that updateFolder doesn't fail</span>
<a href="#l13.7"></a><span id="l13.7">   let localAccount = MailServices.accounts.createAccount();</span>
<a href="#l13.8"></a><span id="l13.8">   let identity = MailServices.accounts.createIdentity();</span>
<a href="#l13.9"></a><span id="l13.9">   localAccount.addIdentity(identity);</span>
<a href="#l13.10"></a><span id="l13.10">   localAccount.defaultIdentity = identity;</span>
<a href="#l13.11"></a><span id="l13.11">   localAccount.incomingServer = localAccountUtils.incomingServer;</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-  MailServices.accounts.defaultAccount = localAccount;</span>
<a href="#l13.13"></a><span id="l13.13"> </span>
<a href="#l13.14"></a><span id="l13.14">   // Let's also have another account, using the same identity</span>
<a href="#l13.15"></a><span id="l13.15">   let imapAccount = MailServices.accounts.createAccount();</span>
<a href="#l13.16"></a><span id="l13.16">   imapAccount.addIdentity(identity);</span>
<a href="#l13.17"></a><span id="l13.17">   imapAccount.defaultIdentity = identity;</span>
<a href="#l13.18"></a><span id="l13.18">   imapAccount.incomingServer = IMAPPump.incomingServer;</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineplus">+  MailServices.accounts.defaultAccount = imapAccount;</span>
<a href="#l13.20"></a><span id="l13.20"> </span>
<a href="#l13.21"></a><span id="l13.21">   // The server doesn't support more than one connection</span>
<a href="#l13.22"></a><span id="l13.22">   Services.prefs.setIntPref(&quot;mail.server.default.max_cached_connections&quot;, 1);</span>
<a href="#l13.23"></a><span id="l13.23">   // We aren't interested in downloading messages automatically</span>
<a href="#l13.24"></a><span id="l13.24">   Services.prefs.setBoolPref(&quot;mail.server.default.download_on_biff&quot;, false);</span>
<a href="#l13.25"></a><span id="l13.25">   Services.prefs.setBoolPref(&quot;mail.biff.play_sound&quot;, false);</span>
<a href="#l13.26"></a><span id="l13.26">   Services.prefs.setBoolPref(&quot;mail.biff.show_alert&quot;, false);</span>
<a href="#l13.27"></a><span id="l13.27">   Services.prefs.setBoolPref(&quot;mail.biff.show_tray_icon&quot;, false);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:31Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

