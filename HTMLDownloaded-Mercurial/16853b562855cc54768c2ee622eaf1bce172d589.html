<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 6562:16853b562855cc54768c2ee622eaf1bce172d589</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 16853b562855cc54768c2ee622eaf1bce172d589" />
<meta property="og:url" content="/comm-central/rev/16853b562855cc54768c2ee622eaf1bce172d589" />
<meta property="og:description" content="Bug 601910 - Port hg:ee594fb0fa3e to comm-central (Clean up configure.in a bit); r=Callek" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 16853b562855cc54768c2ee622eaf1bce172d589 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/16853b562855cc54768c2ee622eaf1bce172d589">shortlog</a> |
<a href="/comm-central/log/16853b562855cc54768c2ee622eaf1bce172d589">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/16853b562855cc54768c2ee622eaf1bce172d589">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/16853b562855cc54768c2ee622eaf1bce172d589">files</a> |
changeset |
<a href="/comm-central/raw-rev/16853b562855cc54768c2ee622eaf1bce172d589">raw</a>  | <a href="/comm-central/archive/16853b562855cc54768c2ee622eaf1bce172d589.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=601910">Bug 601910</a> - Port hg:ee594fb0fa3e to comm-central (Clean up configure.in a bit); r=Callek
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#84;&#97;&#107;&#97;&#110;&#111;&#114;&#105;&#32;&#77;&#65;&#84;&#83;&#85;&#85;&#82;&#65;&#32;&#60;&#116;&#46;&#109;&#97;&#116;&#115;&#117;&#117;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 21 Oct 2010 12:14:14 +0100</td></tr>

<tr>
 <td>changeset 6562</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/16853b562855cc54768c2ee622eaf1bce172d589">16853b562855cc54768c2ee622eaf1bce172d589</a></td>
</tr>



<tr>
<td>parent 6561</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/3206b1b1226490eda47eb8a5df0ee6b5fa27a4f8">3206b1b1226490eda47eb8a5df0ee6b5fa27a4f8</a>
</td>
</tr>

<tr>
<td>child 6563</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/9dc286cb2905e6f039bcbc5c456038419b7f5cc2">9dc286cb2905e6f039bcbc5c456038419b7f5cc2</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=16853b562855cc54768c2ee622eaf1bce172d589">5062</a></td></tr>
<tr><td>push user</td><td>bugzilla@standard8.plus.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 21 Oct 2010 11:25:43 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@0d149474d3a1 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0d149474d3a1fc2b5f58ed399402e90487ab6f53">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0d149474d3a1fc2b5f58ed399402e90487ab6f53&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0d149474d3a1fc2b5f58ed399402e90487ab6f53&newProject=comm-central&newRevision=783e7d21df5661ab376f459a9d2ec6970d962153&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0d149474d3a1fc2b5f58ed399402e90487ab6f53&newProject=comm-central&newRevision=783e7d21df5661ab376f459a9d2ec6970d962153&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0d149474d3a1fc2b5f58ed399402e90487ab6f53&newProject=comm-central&newRevision=783e7d21df5661ab376f459a9d2ec6970d962153&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Callek%29&revcount=50">Callek</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=601910">601910</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=601910">Bug 601910</a> - Port hg:ee594fb0fa3e to comm-central (Clean up configure.in a bit); r=Callek</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/16853b562855cc54768c2ee622eaf1bce172d589/configure.in">configure.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16853b562855cc54768c2ee622eaf1bce172d589/configure.in">file</a> |
<a href="/comm-central/annotate/16853b562855cc54768c2ee622eaf1bce172d589/configure.in">annotate</a> |
<a href="/comm-central/diff/16853b562855cc54768c2ee622eaf1bce172d589/configure.in">diff</a> |
<a href="/comm-central/comparison/16853b562855cc54768c2ee622eaf1bce172d589/configure.in">comparison</a> |
<a href="/comm-central/log/16853b562855cc54768c2ee622eaf1bce172d589/configure.in">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/configure.in</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/configure.in</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -79,17 +79,17 @@ dnl (MOZILLA_SRCDIR would fit here, but </span>
<a href="#l1.4"></a><span id="l1.4"> COMM_BUILD=1</span>
<a href="#l1.5"></a><span id="l1.5"> AC_SUBST(COMM_BUILD)</span>
<a href="#l1.6"></a><span id="l1.6"> dnl export this, so the var is set for mozilla/configure</span>
<a href="#l1.7"></a><span id="l1.7"> MOZCONFIG=`$_AUTOCONF_TOOLS_DIR/mozconfig-find $topsrcdir`</span>
<a href="#l1.8"></a><span id="l1.8"> export MOZCONFIG</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10"> dnl Check for Perl first -- needed for win32 SDK checks</span>
<a href="#l1.11"></a><span id="l1.11"> MOZ_PATH_PROGS(PERL, $PERL perl5 perl)</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-if test -z &quot;$PERL&quot; || test &quot;$PERL&quot; = &quot;:&quot;; then</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+if test -z &quot;$PERL&quot; -o &quot;$PERL&quot; = &quot;:&quot;; then</span>
<a href="#l1.14"></a><span id="l1.14">     AC_MSG_ERROR([perl not found in \$PATH])</span>
<a href="#l1.15"></a><span id="l1.15"> fi</span>
<a href="#l1.16"></a><span id="l1.16"> </span>
<a href="#l1.17"></a><span id="l1.17"> </span>
<a href="#l1.18"></a><span id="l1.18"> dnl Get mozilla version from central milestone file</span>
<a href="#l1.19"></a><span id="l1.19"> MOZILLA_VERSION=`$PERL $MOZILLA_SRCDIR/config/milestone.pl -topsrcdir $MOZILLA_SRCDIR`</span>
<a href="#l1.20"></a><span id="l1.20"> </span>
<a href="#l1.21"></a><span id="l1.21"> MOZ_DEB_TIMESTAMP=`date +&quot;%a, %d  %b %Y %T %z&quot;   2&gt;&amp;1` </span>
<a href="#l1.22"></a><span id="l1.22" class="difflineat">@@ -207,20 +207,20 @@ case &quot;$target&quot; in</span>
<a href="#l1.23"></a><span id="l1.23">     if test -z &quot;$CC&quot;; then CC=cl; fi</span>
<a href="#l1.24"></a><span id="l1.24">     if test -z &quot;$CXX&quot;; then CXX=cl; fi</span>
<a href="#l1.25"></a><span id="l1.25">     if test -z &quot;$CPP&quot;; then CPP=&quot;cl -E -nologo&quot;; fi</span>
<a href="#l1.26"></a><span id="l1.26">     if test -z &quot;$CXXCPP&quot;; then CXXCPP=&quot;cl -TP -E -nologo&quot;; ac_cv_prog_CXXCPP=&quot;$CXXCPP&quot;; fi</span>
<a href="#l1.27"></a><span id="l1.27">     if test -z &quot;$LD&quot;; then LD=link; fi</span>
<a href="#l1.28"></a><span id="l1.28">     if test -z &quot;$AS&quot;; then</span>
<a href="#l1.29"></a><span id="l1.29">         case &quot;${target_cpu}&quot; in</span>
<a href="#l1.30"></a><span id="l1.30">         i*86)</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-            AS=ml</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+            AS=ml;</span>
<a href="#l1.33"></a><span id="l1.33">             ;;</span>
<a href="#l1.34"></a><span id="l1.34">         x86_64)</span>
<a href="#l1.35"></a><span id="l1.35" class="difflineminus">-            AS=ml64</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineplus">+            AS=ml64;</span>
<a href="#l1.37"></a><span id="l1.37">             ;;</span>
<a href="#l1.38"></a><span id="l1.38">         esac</span>
<a href="#l1.39"></a><span id="l1.39">     fi</span>
<a href="#l1.40"></a><span id="l1.40">     if test -z &quot;$MIDL&quot;; then MIDL=midl; fi</span>
<a href="#l1.41"></a><span id="l1.41">     ;;</span>
<a href="#l1.42"></a><span id="l1.42"> *-darwin*)</span>
<a href="#l1.43"></a><span id="l1.43">     if test -z &quot;$CC&quot;; then CC=gcc-4.2; fi</span>
<a href="#l1.44"></a><span id="l1.44">     if test -z &quot;$CXX&quot;; then CXX=g++-4.2; fi</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineat">@@ -905,22 +905,22 @@ if test -z &quot;$COMPILE_ENVIRONMENT&quot;; then</span>
<a href="#l1.46"></a><span id="l1.46">     NSINSTALL_BIN='$(PYTHON) $(MOZILLA_SRCDIR)/config/nsinstall.py'</span>
<a href="#l1.47"></a><span id="l1.47"> fi</span>
<a href="#l1.48"></a><span id="l1.48"> AC_SUBST(NSINSTALL_BIN)</span>
<a href="#l1.49"></a><span id="l1.49"> </span>
<a href="#l1.50"></a><span id="l1.50"> MOZ_PATH_PROG(DOXYGEN, doxygen, :)</span>
<a href="#l1.51"></a><span id="l1.51"> MOZ_PATH_PROG(AUTOCONF, autoconf, :)</span>
<a href="#l1.52"></a><span id="l1.52"> MOZ_PATH_PROG(UNZIP, unzip, :)</span>
<a href="#l1.53"></a><span id="l1.53"> MOZ_PATH_PROGS(ZIP, zip)</span>
<a href="#l1.54"></a><span id="l1.54" class="difflineminus">-if test -z &quot;$ZIP&quot; || test &quot;$ZIP&quot; = &quot;:&quot;; then</span>
<a href="#l1.55"></a><span id="l1.55" class="difflineplus">+if test -z &quot;$ZIP&quot; -o &quot;$ZIP&quot; = &quot;:&quot;; then</span>
<a href="#l1.56"></a><span id="l1.56">     AC_MSG_ERROR([zip not found in \$PATH])</span>
<a href="#l1.57"></a><span id="l1.57"> fi</span>
<a href="#l1.58"></a><span id="l1.58"> MOZ_PATH_PROG(SYSTEM_MAKEDEPEND, makedepend)</span>
<a href="#l1.59"></a><span id="l1.59"> MOZ_PATH_PROG(XARGS, xargs)</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineminus">-if test -z &quot;$XARGS&quot; || test &quot;$XARGS&quot; = &quot;:&quot;; then</span>
<a href="#l1.61"></a><span id="l1.61" class="difflineplus">+if test -z &quot;$XARGS&quot; -o &quot;$XARGS&quot; = &quot;:&quot;; then</span>
<a href="#l1.62"></a><span id="l1.62">     AC_MSG_ERROR([xargs not found in \$PATH .])</span>
<a href="#l1.63"></a><span id="l1.63"> fi</span>
<a href="#l1.64"></a><span id="l1.64"> </span>
<a href="#l1.65"></a><span id="l1.65"> if test &quot;$COMPILE_ENVIRONMENT&quot;; then</span>
<a href="#l1.66"></a><span id="l1.66"> </span>
<a href="#l1.67"></a><span id="l1.67"> dnl ========================================================</span>
<a href="#l1.68"></a><span id="l1.68"> dnl = Mac OS X toolchain support</span>
<a href="#l1.69"></a><span id="l1.69"> dnl ========================================================</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineat">@@ -953,17 +953,17 @@ from building Mozilla. Upgrade to Xcode </span>
<a href="#l1.71"></a><span id="l1.71">     dnl /usr/bin/g(cc|++)-$GCC_VERSION.</span>
<a href="#l1.72"></a><span id="l1.72">     MOZ_PATH_PROGS(PBBUILD, pbbuild xcodebuild pbxbuild)</span>
<a href="#l1.73"></a><span id="l1.73"> </span>
<a href="#l1.74"></a><span id="l1.74">     case &quot;$PBBUILD&quot; in</span>
<a href="#l1.75"></a><span id="l1.75">       *xcodebuild*)</span>
<a href="#l1.76"></a><span id="l1.76">         changequote(,)</span>
<a href="#l1.77"></a><span id="l1.77">         XCODEBUILD_VERSION=`$PBBUILD -version 2&gt;/dev/null | xargs | sed -e 's/.*DevToolsCore-\([0-9]*\).*/\1/'`</span>
<a href="#l1.78"></a><span id="l1.78">         changequote([,])</span>
<a href="#l1.79"></a><span id="l1.79" class="difflineminus">-        if test -n &quot;$XCODEBUILD_VERSION&quot; &amp;&amp; test &quot;$XCODEBUILD_VERSION&quot; -ge 620 ; then</span>
<a href="#l1.80"></a><span id="l1.80" class="difflineplus">+        if test -n &quot;$XCODEBUILD_VERSION&quot; -a &quot;$XCODEBUILD_VERSION&quot; -ge 620 ; then</span>
<a href="#l1.81"></a><span id="l1.81">           HAS_XCODE_2_1=1;</span>
<a href="#l1.82"></a><span id="l1.82">         fi</span>
<a href="#l1.83"></a><span id="l1.83">       ;;</span>
<a href="#l1.84"></a><span id="l1.84">     esac</span>
<a href="#l1.85"></a><span id="l1.85"> </span>
<a href="#l1.86"></a><span id="l1.86">     dnl sdp was formerly in /Developer/Tools.  As of Mac OS X 10.4 (Darwin 8),</span>
<a href="#l1.87"></a><span id="l1.87">     dnl it has moved into /usr/bin.</span>
<a href="#l1.88"></a><span id="l1.88">     MOZ_PATH_PROG(SDP, sdp, :, [$PATH:/usr/bin:/Developer/Tools])</span>
<a href="#l1.89"></a><span id="l1.89" class="difflineat">@@ -1936,22 +1936,16 @@ case &quot;$target&quot; in</span>
<a href="#l1.90"></a><span id="l1.90"> *-freebsd*)</span>
<a href="#l1.91"></a><span id="l1.91">     if test `test -x /usr/bin/objformat &amp;&amp; /usr/bin/objformat || echo elf` != &quot;elf&quot;; then</span>
<a href="#l1.92"></a><span id="l1.92"> 	DLL_SUFFIX=&quot;.so.1.0&quot;</span>
<a href="#l1.93"></a><span id="l1.93"> 	DSO_LDOPTS=&quot;-shared&quot;</span>
<a href="#l1.94"></a><span id="l1.94">     fi</span>
<a href="#l1.95"></a><span id="l1.95">     if test ! &quot;$GNU_CC&quot;; then</span>
<a href="#l1.96"></a><span id="l1.96"> 	DSO_LDOPTS=&quot;-Bshareable $DSO_LDOPTS&quot;</span>
<a href="#l1.97"></a><span id="l1.97">     fi</span>
<a href="#l1.98"></a><span id="l1.98" class="difflineminus">-# Can't have force w/o an unforce.</span>
<a href="#l1.99"></a><span id="l1.99" class="difflineminus">-#    # Hack for FreeBSD 2.2</span>
<a href="#l1.100"></a><span id="l1.100" class="difflineminus">-#    if test -z &quot;$MKSHLIB_FORCE_ALL&quot;; then</span>
<a href="#l1.101"></a><span id="l1.101" class="difflineminus">-#	MKSHLIB_FORCE_ALL='-Wl,-Bforcearchive'</span>
<a href="#l1.102"></a><span id="l1.102" class="difflineminus">-#	MKSHLIB_UNFORCE_ALL=''</span>
<a href="#l1.103"></a><span id="l1.103" class="difflineminus">-#    fi</span>
<a href="#l1.104"></a><span id="l1.104">     ;; </span>
<a href="#l1.105"></a><span id="l1.105"> </span>
<a href="#l1.106"></a><span id="l1.106"> ia64*-hpux*)</span>
<a href="#l1.107"></a><span id="l1.107">     DLL_SUFFIX=&quot;.so&quot;</span>
<a href="#l1.108"></a><span id="l1.108">     if test ! &quot;$GNU_CC&quot;; then</span>
<a href="#l1.109"></a><span id="l1.109">         DSO_LDOPTS='-b'</span>
<a href="#l1.110"></a><span id="l1.110">         DSO_CFLAGS=&quot;&quot;</span>
<a href="#l1.111"></a><span id="l1.111">         DSO_PIC_CFLAGS=</span>
<a href="#l1.112"></a><span id="l1.112" class="difflineat">@@ -2045,22 +2039,22 @@ ia64*-hpux*)</span>
<a href="#l1.113"></a><span id="l1.113">     if test -z &quot;$GNU_CXX&quot;; then</span>
<a href="#l1.114"></a><span id="l1.114">       MIPSPRO_CXX=1</span>
<a href="#l1.115"></a><span id="l1.115">     fi</span>
<a href="#l1.116"></a><span id="l1.116">     ;;</span>
<a href="#l1.117"></a><span id="l1.117"> </span>
<a href="#l1.118"></a><span id="l1.118"> *-*linux*)</span>
<a href="#l1.119"></a><span id="l1.119">     # Note: both GNU_CC and INTEL_CC are set when using Intel's C compiler.</span>
<a href="#l1.120"></a><span id="l1.120">     # Similarly for GNU_CXX and INTEL_CXX.</span>
<a href="#l1.121"></a><span id="l1.121" class="difflineminus">-    if test &quot;$INTEL_CC&quot; || test &quot;$INTEL_CXX&quot;; then</span>
<a href="#l1.122"></a><span id="l1.122" class="difflineplus">+    if test &quot;$INTEL_CC&quot; -o &quot;$INTEL_CXX&quot;; then</span>
<a href="#l1.123"></a><span id="l1.123">         # -Os has been broken on Intel's C/C++ compilers for quite a</span>
<a href="#l1.124"></a><span id="l1.124">         # while; Intel recommends against using it.</span>
<a href="#l1.125"></a><span id="l1.125">         MOZ_OPTIMIZE_FLAGS=&quot;-O2&quot;</span>
<a href="#l1.126"></a><span id="l1.126">         MOZ_DEBUG_FLAGS=&quot;-g&quot;</span>
<a href="#l1.127"></a><span id="l1.127" class="difflineminus">-    elif test &quot;$GNU_CC&quot; || test &quot;$GNU_CXX&quot;; then</span>
<a href="#l1.128"></a><span id="l1.128" class="difflineplus">+    elif test &quot;$GNU_CC&quot; -o &quot;$GNU_CXX&quot;; then</span>
<a href="#l1.129"></a><span id="l1.129">         GCC_VERSION=`$CC -v 2&gt;&amp;1 | awk '/^gcc version/ { print $3 }'`</span>
<a href="#l1.130"></a><span id="l1.130">         case $GCC_VERSION in</span>
<a href="#l1.131"></a><span id="l1.131">         4.1.*|4.2.*)</span>
<a href="#l1.132"></a><span id="l1.132">             # -Os is broken on gcc 4.1.x and 4.2.x, we need to tweak it to get good results.</span>
<a href="#l1.133"></a><span id="l1.133">             MOZ_OPTIMIZE_SIZE_TWEAK=&quot;-finline-limit=50&quot;</span>
<a href="#l1.134"></a><span id="l1.134">         esac</span>
<a href="#l1.135"></a><span id="l1.135">         MOZ_OPTIMIZE_FLAGS=&quot;-Os -freorder-blocks -fno-reorder-functions -fomit-frame-pointer $MOZ_OPTIMIZE_SIZE_TWEAK&quot;</span>
<a href="#l1.136"></a><span id="l1.136">         MOZ_DEBUG_FLAGS=&quot;-g&quot;</span>
<a href="#l1.137"></a><span id="l1.137" class="difflineat">@@ -2312,17 +2306,17 @@ ia64*-hpux*)</span>
<a href="#l1.138"></a><span id="l1.138">     case &quot;$host&quot; in</span>
<a href="#l1.139"></a><span id="l1.139">     *-mingw*|*-cygwin*|*-msvc*|*-mks*)</span>
<a href="#l1.140"></a><span id="l1.140"> </span>
<a href="#l1.141"></a><span id="l1.141">     if test -z &quot;$MOZ_TOOLS&quot;; then</span>
<a href="#l1.142"></a><span id="l1.142">         AC_MSG_ERROR([MOZ_TOOLS is not set])</span>
<a href="#l1.143"></a><span id="l1.143">     fi</span>
<a href="#l1.144"></a><span id="l1.144"> </span>
<a href="#l1.145"></a><span id="l1.145">     MOZ_TOOLS_DIR=`cd $MOZ_TOOLS &amp;&amp; pwd -W`</span>
<a href="#l1.146"></a><span id="l1.146" class="difflineminus">-    if test &quot;$?&quot; != &quot;0&quot; || test -z &quot;$MOZ_TOOLS_DIR&quot;; then</span>
<a href="#l1.147"></a><span id="l1.147" class="difflineplus">+    if test &quot;$?&quot; != &quot;0&quot; -o -z &quot;$MOZ_TOOLS_DIR&quot;; then</span>
<a href="#l1.148"></a><span id="l1.148">         AC_MSG_ERROR([cd \$MOZ_TOOLS failed. MOZ_TOOLS ==? $MOZ_TOOLS])</span>
<a href="#l1.149"></a><span id="l1.149">     fi</span>
<a href="#l1.150"></a><span id="l1.150">     MOZ_TOOLS_BIN_DIR=&quot;$(cd &quot;$MOZ_TOOLS_DIR/bin&quot; &amp;&amp; pwd)&quot;</span>
<a href="#l1.151"></a><span id="l1.151">     if test `echo ${PATH}: | grep -ic &quot;$MOZ_TOOLS_BINDIR:&quot;` = 0; then</span>
<a href="#l1.152"></a><span id="l1.152">         AC_MSG_ERROR([\$MOZ_TOOLS\\bin must be in your path.])</span>
<a href="#l1.153"></a><span id="l1.153">     fi</span>
<a href="#l1.154"></a><span id="l1.154">     MOZ_TOOLS_DIR=`$CYGPATH_W $MOZ_TOOLS_DIR | $CYGPATH_S`</span>
<a href="#l1.155"></a><span id="l1.155"> </span>
<a href="#l1.156"></a><span id="l1.156" class="difflineat">@@ -2613,17 +2607,17 @@ alpha*-*-osf*)</span>
<a href="#l1.157"></a><span id="l1.157">        LIBS=&quot;-lCrun -lCstd -lc $LIBS&quot;</span>
<a href="#l1.158"></a><span id="l1.158">        NS_USE_NATIVE=1</span>
<a href="#l1.159"></a><span id="l1.159">        AC_DEFINE(NSCAP_DISABLE_DEBUG_PTR_TYPES)</span>
<a href="#l1.160"></a><span id="l1.160">        CFLAGS=&quot;$CFLAGS -xlibmieee -xstrconst -xbuiltin=%all -D__FUNCTION__=__func__&quot;</span>
<a href="#l1.161"></a><span id="l1.161">        CXXFLAGS=&quot;$CXXFLAGS -xlibmieee -xbuiltin=%all -features=tmplife,tmplrefstatic,extensions -norunpath -D__FUNCTION__=__func__ -template=no%extdef&quot;</span>
<a href="#l1.162"></a><span id="l1.162">        _MOZ_EXCEPTIONS_FLAGS_ON='-features=except'</span>
<a href="#l1.163"></a><span id="l1.163">        _MOZ_EXCEPTIONS_FLAGS_OFF='-features=no%except'</span>
<a href="#l1.164"></a><span id="l1.164">        LDFLAGS=&quot;-xildoff $LDFLAGS&quot;</span>
<a href="#l1.165"></a><span id="l1.165" class="difflineminus">-       if test -z &quot;$CROSS_COMPILE&quot; &amp;&amp; test -f /usr/lib/ld/map.noexstk; then</span>
<a href="#l1.166"></a><span id="l1.166" class="difflineplus">+       if test -z &quot;$CROSS_COMPILE&quot; -a -f /usr/lib/ld/map.noexstk; then</span>
<a href="#l1.167"></a><span id="l1.167">            _SAVE_LDFLAGS=$LDFLAGS</span>
<a href="#l1.168"></a><span id="l1.168">            LDFLAGS=&quot;-M /usr/lib/ld/map.noexstk $LDFLAGS&quot; </span>
<a href="#l1.169"></a><span id="l1.169">            AC_TRY_LINK([#include &lt;stdio.h&gt;],</span>
<a href="#l1.170"></a><span id="l1.170">                        [printf(&quot;Hello World\n&quot;);],</span>
<a href="#l1.171"></a><span id="l1.171">                        ,</span>
<a href="#l1.172"></a><span id="l1.172">                        [LDFLAGS=$_SAVE_LDFLAGS])</span>
<a href="#l1.173"></a><span id="l1.173">        fi</span>
<a href="#l1.174"></a><span id="l1.174">        WARNINGS_AS_ERRORS='-Werror'</span>
<a href="#l1.175"></a><span id="l1.175" class="difflineat">@@ -2719,17 +2713,17 @@ dnl Any platform that doesn't have MKSHL</span>
<a href="#l1.176"></a><span id="l1.176"> dnl by now will not have any way to link most binaries (tests</span>
<a href="#l1.177"></a><span id="l1.177"> dnl as well as viewer, apprunner, etc.), because some symbols</span>
<a href="#l1.178"></a><span id="l1.178"> dnl will be left out of the &quot;composite&quot; .so's by ld as unneeded.</span>
<a href="#l1.179"></a><span id="l1.179"> dnl So, by defining NO_LD_ARCHIVE_FLAGS for these platforms,</span>
<a href="#l1.180"></a><span id="l1.180"> dnl they can link in the static libs that provide the missing</span>
<a href="#l1.181"></a><span id="l1.181"> dnl symbols.</span>
<a href="#l1.182"></a><span id="l1.182"> dnl ========================================================</span>
<a href="#l1.183"></a><span id="l1.183"> NO_LD_ARCHIVE_FLAGS=</span>
<a href="#l1.184"></a><span id="l1.184" class="difflineminus">-if test -z &quot;$MKSHLIB_FORCE_ALL&quot; || test -z &quot;$MKSHLIB_UNFORCE_ALL&quot;; then</span>
<a href="#l1.185"></a><span id="l1.185" class="difflineplus">+if test -z &quot;$MKSHLIB_FORCE_ALL&quot; -o -z &quot;$MKSHLIB_UNFORCE_ALL&quot;; then</span>
<a href="#l1.186"></a><span id="l1.186">     NO_LD_ARCHIVE_FLAGS=1</span>
<a href="#l1.187"></a><span id="l1.187"> fi</span>
<a href="#l1.188"></a><span id="l1.188"> case &quot;$target&quot; in</span>
<a href="#l1.189"></a><span id="l1.189"> *-os2*)</span>
<a href="#l1.190"></a><span id="l1.190">     NO_LD_ARCHIVE_FLAGS=</span>
<a href="#l1.191"></a><span id="l1.191">     ;;</span>
<a href="#l1.192"></a><span id="l1.192"> *-aix4.3*|*-aix5*)</span>
<a href="#l1.193"></a><span id="l1.193">     NO_LD_ARCHIVE_FLAGS=</span>
<a href="#l1.194"></a><span id="l1.194" class="difflineat">@@ -3313,17 +3307,17 @@ then</span>
<a href="#l1.195"></a><span id="l1.195"> 	dnl See if -pthread is supported.</span>
<a href="#l1.196"></a><span id="l1.196"> 	dnl</span>
<a href="#l1.197"></a><span id="l1.197"> 	rm -f conftest*</span>
<a href="#l1.198"></a><span id="l1.198"> 	ac_cv_have_dash_pthread=no</span>
<a href="#l1.199"></a><span id="l1.199"> 	AC_MSG_CHECKING(whether ${CC-cc} accepts -pthread)</span>
<a href="#l1.200"></a><span id="l1.200"> 	echo 'int main() { return 0; }' | cat &gt; conftest.c</span>
<a href="#l1.201"></a><span id="l1.201"> 	${CC-cc} -pthread -o conftest conftest.c &gt; conftest.out 2&gt;&amp;1</span>
<a href="#l1.202"></a><span id="l1.202"> 	if test $? -eq 0; then</span>
<a href="#l1.203"></a><span id="l1.203" class="difflineminus">-		if test -z &quot;`egrep -i '(unrecognize|unknown)' conftest.out | grep pthread`&quot; &amp;&amp; test -z &quot;`egrep -i '(error|incorrect)' conftest.out`&quot; ; then</span>
<a href="#l1.204"></a><span id="l1.204" class="difflineplus">+		if test -z &quot;`egrep -i '(unrecognize|unknown)' conftest.out | grep pthread`&quot; -a -z &quot;`egrep -i '(error|incorrect)' conftest.out`&quot; ; then</span>
<a href="#l1.205"></a><span id="l1.205"> 			ac_cv_have_dash_pthread=yes</span>
<a href="#l1.206"></a><span id="l1.206"> 	        case &quot;$target_os&quot; in</span>
<a href="#l1.207"></a><span id="l1.207"> 	        freebsd*)</span>
<a href="#l1.208"></a><span id="l1.208"> # Freebsd doesn't use -pthread for compiles, it uses them for linking</span>
<a href="#l1.209"></a><span id="l1.209">                 ;;</span>
<a href="#l1.210"></a><span id="l1.210"> 	        *)</span>
<a href="#l1.211"></a><span id="l1.211"> 			    CFLAGS=&quot;$CFLAGS -pthread&quot;</span>
<a href="#l1.212"></a><span id="l1.212"> 			    CXXFLAGS=&quot;$CXXFLAGS -pthread&quot;</span>
<a href="#l1.213"></a><span id="l1.213" class="difflineat">@@ -3338,17 +3332,17 @@ then</span>
<a href="#l1.214"></a><span id="l1.214"> 	dnl See if -pthreads is supported.</span>
<a href="#l1.215"></a><span id="l1.215"> 	dnl</span>
<a href="#l1.216"></a><span id="l1.216">     ac_cv_have_dash_pthreads=no</span>
<a href="#l1.217"></a><span id="l1.217">     if test &quot;$ac_cv_have_dash_pthread&quot; = &quot;no&quot;; then</span>
<a href="#l1.218"></a><span id="l1.218"> 	    AC_MSG_CHECKING(whether ${CC-cc} accepts -pthreads)</span>
<a href="#l1.219"></a><span id="l1.219">     	echo 'int main() { return 0; }' | cat &gt; conftest.c</span>
<a href="#l1.220"></a><span id="l1.220"> 	    ${CC-cc} -pthreads -o conftest conftest.c &gt; conftest.out 2&gt;&amp;1</span>
<a href="#l1.221"></a><span id="l1.221">     	if test $? -eq 0; then</span>
<a href="#l1.222"></a><span id="l1.222" class="difflineminus">-	    	if test -z &quot;`egrep -i '(unrecognize|unknown)' conftest.out | grep pthreads`&quot; &amp;&amp; test -z &quot;`egrep -i '(error|incorrect)' conftest.out`&quot; ; then</span>
<a href="#l1.223"></a><span id="l1.223" class="difflineplus">+	    	if test -z &quot;`egrep -i '(unrecognize|unknown)' conftest.out | grep pthreads`&quot; -a -z &quot;`egrep -i '(error|incorrect)' conftest.out`&quot; ; then</span>
<a href="#l1.224"></a><span id="l1.224"> 			    ac_cv_have_dash_pthreads=yes</span>
<a href="#l1.225"></a><span id="l1.225"> 			    CFLAGS=&quot;$CFLAGS -pthreads&quot;</span>
<a href="#l1.226"></a><span id="l1.226"> 			    CXXFLAGS=&quot;$CXXFLAGS -pthreads&quot;</span>
<a href="#l1.227"></a><span id="l1.227"> 		    fi</span>
<a href="#l1.228"></a><span id="l1.228"> 	    fi</span>
<a href="#l1.229"></a><span id="l1.229"> 	    rm -f conftest*</span>
<a href="#l1.230"></a><span id="l1.230">     	AC_MSG_RESULT($ac_cv_have_dash_pthreads)</span>
<a href="#l1.231"></a><span id="l1.231">     fi</span>
<a href="#l1.232"></a><span id="l1.232" class="difflineat">@@ -3458,17 +3452,17 @@ dnl ====================================</span>
<a href="#l1.233"></a><span id="l1.233"> AC_PROG_GCC_TRADITIONAL</span>
<a href="#l1.234"></a><span id="l1.234"> AC_FUNC_MEMCMP</span>
<a href="#l1.235"></a><span id="l1.235"> AC_CHECK_FUNCS(random strerror lchown fchmod snprintf statvfs memmove rint stat64 lstat64 truncate64 statvfs64)</span>
<a href="#l1.236"></a><span id="l1.236"> AC_CHECK_FUNCS(flockfile getpagesize)</span>
<a href="#l1.237"></a><span id="l1.237"> AC_CHECK_FUNCS(localtime_r strtok_r)</span>
<a href="#l1.238"></a><span id="l1.238"> </span>
<a href="#l1.239"></a><span id="l1.239"> dnl check for wcrtomb/mbrtowc</span>
<a href="#l1.240"></a><span id="l1.240"> dnl =======================================================================</span>
<a href="#l1.241"></a><span id="l1.241" class="difflineminus">-if test -z &quot;$MACOS_DEPLOYMENT_TARGET&quot; || test &quot;$MACOS_DEPLOYMENT_TARGET&quot; -ge &quot;100300&quot;; then</span>
<a href="#l1.242"></a><span id="l1.242" class="difflineplus">+if test -z &quot;$MACOS_DEPLOYMENT_TARGET&quot; -o &quot;$MACOS_DEPLOYMENT_TARGET&quot; -ge &quot;100300&quot;; then</span>
<a href="#l1.243"></a><span id="l1.243"> AC_LANG_SAVE</span>
<a href="#l1.244"></a><span id="l1.244"> AC_LANG_CPLUSPLUS</span>
<a href="#l1.245"></a><span id="l1.245"> AC_CACHE_CHECK(for wcrtomb,</span>
<a href="#l1.246"></a><span id="l1.246">     ac_cv_have_wcrtomb,</span>
<a href="#l1.247"></a><span id="l1.247">     [AC_TRY_LINK([#include &lt;wchar.h&gt;],</span>
<a href="#l1.248"></a><span id="l1.248">                  [mbstate_t ps={0};wcrtomb(0,'f',&amp;ps);],</span>
<a href="#l1.249"></a><span id="l1.249">                  ac_cv_have_wcrtomb=&quot;yes&quot;,</span>
<a href="#l1.250"></a><span id="l1.250">                  ac_cv_have_wcrtomb=&quot;no&quot;)])</span>
<a href="#l1.251"></a><span id="l1.251" class="difflineat">@@ -4201,17 +4195,17 @@ fi</span>
<a href="#l1.252"></a><span id="l1.252"> AC_SUBST(LIBXUL_DIST)</span>
<a href="#l1.253"></a><span id="l1.253"> </span>
<a href="#l1.254"></a><span id="l1.254"> SYSTEM_LIBXUL=</span>
<a href="#l1.255"></a><span id="l1.255"> </span>
<a href="#l1.256"></a><span id="l1.256"> MOZ_ARG_WITH_BOOL(system-libxul,</span>
<a href="#l1.257"></a><span id="l1.257"> [  --with-system-libxul   Use system installed libxul SDK],</span>
<a href="#l1.258"></a><span id="l1.258">     SYSTEM_LIBXUL=1)</span>
<a href="#l1.259"></a><span id="l1.259"> </span>
<a href="#l1.260"></a><span id="l1.260" class="difflineminus">-if test -n &quot;$SYSTEM_LIBXUL&quot; &amp;&amp; test -z &quot;$MOZ_ENABLE_LIBXUL&quot;; then</span>
<a href="#l1.261"></a><span id="l1.261" class="difflineplus">+if test -n &quot;$SYSTEM_LIBXUL&quot; -a -z &quot;$MOZ_ENABLE_LIBXUL&quot;; then</span>
<a href="#l1.262"></a><span id="l1.262">     AC_MSG_ERROR([--with-system-libxul needs --with-libxul-sdk])</span>
<a href="#l1.263"></a><span id="l1.263"> fi</span>
<a href="#l1.264"></a><span id="l1.264"> </span>
<a href="#l1.265"></a><span id="l1.265"> # split JS out by default to avoid VS2005 PGO crash (bug 591836).</span>
<a href="#l1.266"></a><span id="l1.266"> if test &quot;$OS_ARCH&quot; = &quot;WINNT&quot;; then</span>
<a href="#l1.267"></a><span id="l1.267">   ENABLE_SHARED_JS=1</span>
<a href="#l1.268"></a><span id="l1.268"> fi</span>
<a href="#l1.269"></a><span id="l1.269"> </span>
<a href="#l1.270"></a><span id="l1.270" class="difflineat">@@ -4292,17 +4286,17 @@ else</span>
<a href="#l1.271"></a><span id="l1.271">    NSS_CFLAGS='-I$(LIBXUL_DIST)/include/nss'</span>
<a href="#l1.272"></a><span id="l1.272">    NSS_DEP_LIBS=&quot;\</span>
<a href="#l1.273"></a><span id="l1.273">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)crmf.\$(LIB_SUFFIX) \</span>
<a href="#l1.274"></a><span id="l1.274">         \$(LIBXUL_DIST)/lib/\$(DLL_PREFIX)smime$NSS_VERSION\$(DLL_SUFFIX) \</span>
<a href="#l1.275"></a><span id="l1.275">         \$(LIBXUL_DIST)/lib/\$(DLL_PREFIX)ssl$NSS_VERSION\$(DLL_SUFFIX) \</span>
<a href="#l1.276"></a><span id="l1.276">         \$(LIBXUL_DIST)/lib/\$(DLL_PREFIX)nss$NSS_VERSION\$(DLL_SUFFIX) \</span>
<a href="#l1.277"></a><span id="l1.277">         \$(LIBXUL_DIST)/lib/\$(DLL_PREFIX)nssutil$NSS_VERSION\$(DLL_SUFFIX)&quot;</span>
<a href="#l1.278"></a><span id="l1.278"> </span>
<a href="#l1.279"></a><span id="l1.279" class="difflineminus">-   if test -z &quot;$GNU_CC&quot; &amp;&amp; test &quot;$OS_ARCH&quot; = &quot;WINNT&quot; -o &quot;$OS_ARCH&quot; = &quot;WINCE&quot; -o &quot;$OS_ARCH&quot; = &quot;OS2&quot;; then</span>
<a href="#l1.280"></a><span id="l1.280" class="difflineplus">+   if test -z &quot;$GNU_CC&quot; -a &quot;$OS_ARCH&quot; = &quot;WINNT&quot; -o &quot;$OS_ARCH&quot; = &quot;WINCE&quot; -o &quot;$OS_ARCH&quot; = &quot;OS2&quot;; then</span>
<a href="#l1.281"></a><span id="l1.281">        NSS_LIBS=&quot;\</span>
<a href="#l1.282"></a><span id="l1.282">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)crmf.\$(LIB_SUFFIX) \</span>
<a href="#l1.283"></a><span id="l1.283">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)smime$NSS_VERSION.\$(LIB_SUFFIX) \</span>
<a href="#l1.284"></a><span id="l1.284">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)ssl$NSS_VERSION.\$(LIB_SUFFIX) \</span>
<a href="#l1.285"></a><span id="l1.285">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)nss$NSS_VERSION.\$(LIB_SUFFIX) \</span>
<a href="#l1.286"></a><span id="l1.286">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)nssutil$NSS_VERSION.\$(LIB_SUFFIX)&quot;</span>
<a href="#l1.287"></a><span id="l1.287">    else</span>
<a href="#l1.288"></a><span id="l1.288">        NSS_LIBS='$(LIBS_DIR)'&quot; -lcrmf -lsmime$NSS_VERSION -lssl$NSS_VERSION -lnss$NSS_VERSION -lnssutil$NSS_VERSION&quot;</span>
<a href="#l1.289"></a><span id="l1.289" class="difflineat">@@ -5045,17 +5039,17 @@ then</span>
<a href="#l1.290"></a><span id="l1.290"> </span>
<a href="#l1.291"></a><span id="l1.291">     AC_SUBST(MOZ_ENABLE_GNOME_COMPONENT)</span>
<a href="#l1.292"></a><span id="l1.292"> fi</span>
<a href="#l1.293"></a><span id="l1.293"> </span>
<a href="#l1.294"></a><span id="l1.294"> dnl ========================================================</span>
<a href="#l1.295"></a><span id="l1.295"> dnl = dbus support</span>
<a href="#l1.296"></a><span id="l1.296"> dnl ========================================================</span>
<a href="#l1.297"></a><span id="l1.297"> </span>
<a href="#l1.298"></a><span id="l1.298" class="difflineminus">-if test &quot;$MOZ_ENABLE_GTK2&quot; || test &quot;$MOZ_ENABLE_QT&quot;</span>
<a href="#l1.299"></a><span id="l1.299" class="difflineplus">+if test &quot;$MOZ_ENABLE_GTK2&quot; -o &quot;$MOZ_ENABLE_QT&quot;</span>
<a href="#l1.300"></a><span id="l1.300"> then</span>
<a href="#l1.301"></a><span id="l1.301">     MOZ_ENABLE_DBUS=1</span>
<a href="#l1.302"></a><span id="l1.302"> </span>
<a href="#l1.303"></a><span id="l1.303">     MOZ_ARG_DISABLE_BOOL(dbus,</span>
<a href="#l1.304"></a><span id="l1.304">     [  --disable-dbus       Disable dbus support ],</span>
<a href="#l1.305"></a><span id="l1.305">         MOZ_ENABLE_DBUS=,</span>
<a href="#l1.306"></a><span id="l1.306">         MOZ_ENABLE_DBUS=1)</span>
<a href="#l1.307"></a><span id="l1.307"> </span>
<a href="#l1.308"></a><span id="l1.308" class="difflineat">@@ -5355,30 +5349,30 @@ MOZ_ARG_DISABLE_BOOL(installer,</span>
<a href="#l1.309"></a><span id="l1.309">     MOZ_INSTALLER=1 )</span>
<a href="#l1.310"></a><span id="l1.310"> if test -n &quot;$MOZ_INSTALLER&quot; -a &quot;$OS_ARCH&quot; = &quot;WINNT&quot;; then</span>
<a href="#l1.311"></a><span id="l1.311">     # Disable installer for Windows builds that use the new toolkit if the</span>
<a href="#l1.312"></a><span id="l1.312">     # required major version and minimum minor version of Unicode NSIS isn't in</span>
<a href="#l1.313"></a><span id="l1.313">     # the path.</span>
<a href="#l1.314"></a><span id="l1.314">     REQ_NSIS_MAJOR_VER=2</span>
<a href="#l1.315"></a><span id="l1.315">     MIN_NSIS_MINOR_VER=33</span>
<a href="#l1.316"></a><span id="l1.316">     MOZ_PATH_PROGS(MAKENSISU, $MAKENSISU makensisu-2.46 makensisu makensis)</span>
<a href="#l1.317"></a><span id="l1.317" class="difflineminus">-    if test -z &quot;$MAKENSISU&quot; || test &quot;$MAKENSISU&quot; = &quot;:&quot;; then</span>
<a href="#l1.318"></a><span id="l1.318" class="difflineplus">+    if test -z &quot;$MAKENSISU&quot; -o &quot;$MAKENSISU&quot; = &quot;:&quot;; then</span>
<a href="#l1.319"></a><span id="l1.319">         AC_MSG_ERROR([To build the installer you must have the latest MozillaBuild or Unicode NSIS with a major version of $REQ_NSIS_MAJOR_VER and a minimum minor version of $MIN_NSIS_MINOR_VER in your path. To build without the installer reconfigure using --disable-installer.])</span>
<a href="#l1.320"></a><span id="l1.320">     fi</span>
<a href="#l1.321"></a><span id="l1.321">     changequote(,)</span>
<a href="#l1.322"></a><span id="l1.322">     MAKENSISU_VER=`&quot;$MAKENSISU&quot; -version 2&gt;/dev/null | sed -e '/-Unicode/!s/.*//g' -e 's/^v\([0-9]\+\.[0-9]\+\)\-Unicode$/\1/g'`</span>
<a href="#l1.323"></a><span id="l1.323">     changequote([,])</span>
<a href="#l1.324"></a><span id="l1.324">     if test ! &quot;$MAKENSISU_VER&quot; == &quot;&quot;; then</span>
<a href="#l1.325"></a><span id="l1.325">         MAKENSISU_MAJOR_VER=`echo $MAKENSISU_VER | $AWK -F\. '{ print $1 }'`</span>
<a href="#l1.326"></a><span id="l1.326">         MAKENSISU_MINOR_VER=`echo $MAKENSISU_VER | $AWK -F\. '{ print $2 }'`</span>
<a href="#l1.327"></a><span id="l1.327">     fi</span>
<a href="#l1.328"></a><span id="l1.328">     AC_MSG_CHECKING([for Unicode NSIS with major version == $REQ_NSIS_MAJOR_VER and minor version &gt;= $MIN_NSIS_MINOR_VER])</span>
<a href="#l1.329"></a><span id="l1.329" class="difflineminus">-    if test &quot;$MAKENSISU_VER&quot; == &quot;&quot; ||</span>
<a href="#l1.330"></a><span id="l1.330" class="difflineminus">-       test ! &quot;$MAKENSISU_MAJOR_VER&quot; == &quot;$REQ_NSIS_MAJOR_VER&quot; ||</span>
<a href="#l1.331"></a><span id="l1.331" class="difflineminus">-       test ! &quot;$MAKENSISU_MINOR_VER&quot; -ge $MIN_NSIS_MINOR_VER; then</span>
<a href="#l1.332"></a><span id="l1.332" class="difflineplus">+    if test &quot;$MAKENSISU_VER&quot; == &quot;&quot; -o \</span>
<a href="#l1.333"></a><span id="l1.333" class="difflineplus">+       ! &quot;$MAKENSISU_MAJOR_VER&quot; == &quot;$REQ_NSIS_MAJOR_VER&quot; -o \</span>
<a href="#l1.334"></a><span id="l1.334" class="difflineplus">+       ! &quot;$MAKENSISU_MINOR_VER&quot; -ge $MIN_NSIS_MINOR_VER; then</span>
<a href="#l1.335"></a><span id="l1.335">         AC_MSG_RESULT([no])</span>
<a href="#l1.336"></a><span id="l1.336">         AC_MSG_ERROR([To build the installer you must have the latest MozillaBuild or Unicode NSIS with a major version of $REQ_NSIS_MAJOR_VER and a minimum minor version of $MIN_NSIS_MINOR_VER in your path. To build without the installer reconfigure using --disable-installer.])</span>
<a href="#l1.337"></a><span id="l1.337">     fi</span>
<a href="#l1.338"></a><span id="l1.338">     AC_MSG_RESULT([yes])</span>
<a href="#l1.339"></a><span id="l1.339">     MAKENSISU=&quot;${CYGWIN_WRAPPER} $MAKENSISU&quot;</span>
<a href="#l1.340"></a><span id="l1.340"> fi</span>
<a href="#l1.341"></a><span id="l1.341"> </span>
<a href="#l1.342"></a><span id="l1.342"> AC_SUBST(MOZ_INSTALLER)</span>
<a href="#l1.343"></a><span id="l1.343" class="difflineat">@@ -5601,38 +5595,18 @@ dnl = Debugging Options</span>
<a href="#l1.344"></a><span id="l1.344"> dnl = </span>
<a href="#l1.345"></a><span id="l1.345"> dnl ========================================================</span>
<a href="#l1.346"></a><span id="l1.346"> MOZ_ARG_HEADER(Debugging and Optimizations)</span>
<a href="#l1.347"></a><span id="l1.347"> </span>
<a href="#l1.348"></a><span id="l1.348"> dnl ========================================================</span>
<a href="#l1.349"></a><span id="l1.349"> dnl = Disable building with debug info.</span>
<a href="#l1.350"></a><span id="l1.350"> dnl = Debugging is OFF by default</span>
<a href="#l1.351"></a><span id="l1.351"> dnl ========================================================</span>
<a href="#l1.352"></a><span id="l1.352" class="difflineminus">-if test -z &quot;$MOZ_DEBUG_FLAGS&quot;</span>
<a href="#l1.353"></a><span id="l1.353" class="difflineminus">-then</span>
<a href="#l1.354"></a><span id="l1.354" class="difflineminus">-    case &quot;$target&quot; in</span>
<a href="#l1.355"></a><span id="l1.355" class="difflineminus">-    *-irix*)</span>
<a href="#l1.356"></a><span id="l1.356" class="difflineminus">-        if test &quot;$GNU_CC&quot;; then</span>
<a href="#l1.357"></a><span id="l1.357" class="difflineminus">-            GCC_VERSION=`$CC -v 2&gt;&amp;1 | awk '/version/ { print $3 }'`</span>
<a href="#l1.358"></a><span id="l1.358" class="difflineminus">-            case &quot;$GCC_VERSION&quot; in</span>
<a href="#l1.359"></a><span id="l1.359" class="difflineminus">-            2.95.*)</span>
<a href="#l1.360"></a><span id="l1.360" class="difflineminus">-                MOZ_DEBUG_FLAGS=&quot;&quot;</span>
<a href="#l1.361"></a><span id="l1.361" class="difflineminus">-                ;;</span>
<a href="#l1.362"></a><span id="l1.362" class="difflineminus">-            *)</span>
<a href="#l1.363"></a><span id="l1.363" class="difflineminus">-                MOZ_DEBUG_FLAGS=&quot;-g&quot;</span>
<a href="#l1.364"></a><span id="l1.364" class="difflineminus">-                ;;</span>
<a href="#l1.365"></a><span id="l1.365" class="difflineminus">-            esac</span>
<a href="#l1.366"></a><span id="l1.366" class="difflineminus">-        else</span>
<a href="#l1.367"></a><span id="l1.367" class="difflineminus">-            MOZ_DEBUG_FLAGS=&quot;-g&quot;</span>
<a href="#l1.368"></a><span id="l1.368" class="difflineminus">-        fi</span>
<a href="#l1.369"></a><span id="l1.369" class="difflineminus">-        ;;</span>
<a href="#l1.370"></a><span id="l1.370" class="difflineminus">-    *)</span>
<a href="#l1.371"></a><span id="l1.371" class="difflineminus">-    	MOZ_DEBUG_FLAGS=&quot;-g&quot;</span>
<a href="#l1.372"></a><span id="l1.372" class="difflineminus">-        ;;</span>
<a href="#l1.373"></a><span id="l1.373" class="difflineminus">-    esac</span>
<a href="#l1.374"></a><span id="l1.374" class="difflineplus">+if test -z &quot;$MOZ_DEBUG_FLAGS&quot;; then</span>
<a href="#l1.375"></a><span id="l1.375" class="difflineplus">+  MOZ_DEBUG_FLAGS=&quot;-g&quot;</span>
<a href="#l1.376"></a><span id="l1.376"> fi</span>
<a href="#l1.377"></a><span id="l1.377"> </span>
<a href="#l1.378"></a><span id="l1.378"> MOZ_ARG_ENABLE_STRING(debug,</span>
<a href="#l1.379"></a><span id="l1.379"> [  --enable-debug[=DBG]    Enable building with developer debug info</span>
<a href="#l1.380"></a><span id="l1.380">                            (using compiler flags DBG)],</span>
<a href="#l1.381"></a><span id="l1.381"> [ if test &quot;$enableval&quot; != &quot;no&quot;; then</span>
<a href="#l1.382"></a><span id="l1.382">     MOZ_DEBUG=1</span>
<a href="#l1.383"></a><span id="l1.383">     if test -n &quot;$enableval&quot; -a &quot;$enableval&quot; != &quot;yes&quot;; then</span>
<a href="#l1.384"></a><span id="l1.384" class="difflineat">@@ -5688,17 +5662,17 @@ if test -z &quot;$MOZ_OPTIMIZE_FLAGS&quot;; then</span>
<a href="#l1.385"></a><span id="l1.385"> 	MOZ_OPTIMIZE_FLAGS=&quot;-O&quot;</span>
<a href="#l1.386"></a><span id="l1.386"> fi</span>
<a href="#l1.387"></a><span id="l1.387"> </span>
<a href="#l1.388"></a><span id="l1.388"> MOZ_ARG_ENABLE_STRING(optimize,</span>
<a href="#l1.389"></a><span id="l1.389"> [  --disable-optimize      Disable compiler optimization</span>
<a href="#l1.390"></a><span id="l1.390">   --enable-optimize=[OPT] Specify compiler optimization flags [OPT=-O]],</span>
<a href="#l1.391"></a><span id="l1.391"> [ if test &quot;$enableval&quot; != &quot;no&quot;; then</span>
<a href="#l1.392"></a><span id="l1.392">     MOZ_OPTIMIZE=1</span>
<a href="#l1.393"></a><span id="l1.393" class="difflineminus">-    if test -n &quot;$enableval&quot; &amp;&amp; test &quot;$enableval&quot; != &quot;yes&quot;; then</span>
<a href="#l1.394"></a><span id="l1.394" class="difflineplus">+    if test -n &quot;$enableval&quot; -a &quot;$enableval&quot; != &quot;yes&quot;; then</span>
<a href="#l1.395"></a><span id="l1.395">         MOZ_OPTIMIZE_FLAGS=`echo &quot;$enableval&quot; | sed -e 's|\\\ | |g'`</span>
<a href="#l1.396"></a><span id="l1.396">         MOZ_OPTIMIZE=2</span>
<a href="#l1.397"></a><span id="l1.397">     fi</span>
<a href="#l1.398"></a><span id="l1.398"> else</span>
<a href="#l1.399"></a><span id="l1.399">     MOZ_OPTIMIZE=</span>
<a href="#l1.400"></a><span id="l1.400"> fi ], MOZ_OPTIMIZE=1)</span>
<a href="#l1.401"></a><span id="l1.401"> </span>
<a href="#l1.402"></a><span id="l1.402"> if test &quot;$COMPILE_ENVIRONMENT&quot;; then</span>
<a href="#l1.403"></a><span id="l1.403" class="difflineat">@@ -6086,17 +6060,17 @@ if test &quot;$HAVE_DEMANGLE&quot; -a &quot;$HAVE_GCC3_</span>
<a href="#l1.404"></a><span id="l1.404">     MOZ_DEMANGLE_SYMBOLS=1</span>
<a href="#l1.405"></a><span id="l1.405">     AC_DEFINE(MOZ_DEMANGLE_SYMBOLS)</span>
<a href="#l1.406"></a><span id="l1.406"> fi</span>
<a href="#l1.407"></a><span id="l1.407"> AC_SUBST(MOZ_DEMANGLE_SYMBOLS)</span>
<a href="#l1.408"></a><span id="l1.408"> </span>
<a href="#l1.409"></a><span id="l1.409"> dnl ========================================================</span>
<a href="#l1.410"></a><span id="l1.410"> dnl = Support for gcc stack unwinding (from gcc 3.3)</span>
<a href="#l1.411"></a><span id="l1.411"> dnl ========================================================</span>
<a href="#l1.412"></a><span id="l1.412" class="difflineminus">-if test &quot;$HAVE_GCC3_ABI&quot; &amp;&amp; test -z &quot;$SKIP_LIBRARY_CHECKS&quot;; then</span>
<a href="#l1.413"></a><span id="l1.413" class="difflineplus">+if test &quot;$HAVE_GCC3_ABI&quot; -a -z &quot;$SKIP_LIBRARY_CHECKS&quot;; then</span>
<a href="#l1.414"></a><span id="l1.414">     AC_CHECK_HEADER(unwind.h, AC_CHECK_FUNCS(_Unwind_Backtrace))</span>
<a href="#l1.415"></a><span id="l1.415"> fi</span>
<a href="#l1.416"></a><span id="l1.416"> </span>
<a href="#l1.417"></a><span id="l1.417"> dnl ========================================================</span>
<a href="#l1.418"></a><span id="l1.418"> dnl =</span>
<a href="#l1.419"></a><span id="l1.419"> dnl = Misc. Options</span>
<a href="#l1.420"></a><span id="l1.420"> dnl = </span>
<a href="#l1.421"></a><span id="l1.421"> dnl ========================================================</span>
<a href="#l1.422"></a><span id="l1.422" class="difflineat">@@ -6199,17 +6173,17 @@ dnl = Compiler Options</span>
<a href="#l1.423"></a><span id="l1.423"> dnl = </span>
<a href="#l1.424"></a><span id="l1.424"> dnl ========================================================</span>
<a href="#l1.425"></a><span id="l1.425"> MOZ_ARG_HEADER(Compiler Options)</span>
<a href="#l1.426"></a><span id="l1.426"> </span>
<a href="#l1.427"></a><span id="l1.427"> dnl ========================================================</span>
<a href="#l1.428"></a><span id="l1.428"> dnl Check for gcc -pipe support</span>
<a href="#l1.429"></a><span id="l1.429"> dnl ========================================================</span>
<a href="#l1.430"></a><span id="l1.430"> AC_MSG_CHECKING([for gcc -pipe support])</span>
<a href="#l1.431"></a><span id="l1.431" class="difflineminus">-if test -n &quot;$GNU_CC&quot; &amp;&amp; test -n &quot;$GNU_CXX&quot; &amp;&amp; test -n &quot;$GNU_AS&quot;; then</span>
<a href="#l1.432"></a><span id="l1.432" class="difflineplus">+if test -n &quot;$GNU_CC&quot; -a -n &quot;$GNU_CXX&quot; -a -n &quot;$GNU_AS&quot;; then</span>
<a href="#l1.433"></a><span id="l1.433">     echo '#include &lt;stdio.h&gt;' &gt; dummy-hello.c</span>
<a href="#l1.434"></a><span id="l1.434">     echo 'int main() { printf(&quot;Hello World\n&quot;); exit(0); }' &gt;&gt; dummy-hello.c</span>
<a href="#l1.435"></a><span id="l1.435">     ${CC} -S dummy-hello.c -o dummy-hello.s 2&gt;&amp;5</span>
<a href="#l1.436"></a><span id="l1.436">     cat dummy-hello.s 2&gt; /dev/null | ${AS_BIN} -o dummy-hello.S - 2&gt;&amp;5</span>
<a href="#l1.437"></a><span id="l1.437">     if test $? = 0; then</span>
<a href="#l1.438"></a><span id="l1.438">         _res_as_stdin=&quot;yes&quot;</span>
<a href="#l1.439"></a><span id="l1.439">     else</span>
<a href="#l1.440"></a><span id="l1.440">         _res_as_stdin=&quot;no&quot;</span>
<a href="#l1.441"></a><span id="l1.441" class="difflineat">@@ -6218,34 +6192,33 @@ if test -n &quot;$GNU_CC&quot; &amp;&amp; test -n &quot;$GNU_CX</span>
<a href="#l1.442"></a><span id="l1.442">         _SAVE_CFLAGS=$CFLAGS</span>
<a href="#l1.443"></a><span id="l1.443">         CFLAGS=&quot;$CFLAGS -pipe&quot;</span>
<a href="#l1.444"></a><span id="l1.444">         AC_TRY_COMPILE( [ #include &lt;stdio.h&gt; ],</span>
<a href="#l1.445"></a><span id="l1.445">             [printf(&quot;Hello World\n&quot;);],</span>
<a href="#l1.446"></a><span id="l1.446">             [_res_gcc_pipe=&quot;yes&quot;],</span>
<a href="#l1.447"></a><span id="l1.447">             [_res_gcc_pipe=&quot;no&quot;] )</span>
<a href="#l1.448"></a><span id="l1.448">         CFLAGS=$_SAVE_CFLAGS</span>
<a href="#l1.449"></a><span id="l1.449">     fi</span>
<a href="#l1.450"></a><span id="l1.450" class="difflineminus">-    if test &quot;$_res_as_stdin&quot; = &quot;yes&quot; &amp;&amp; test &quot;$_res_gcc_pipe&quot; = &quot;yes&quot;; then</span>
<a href="#l1.451"></a><span id="l1.451" class="difflineplus">+    if test &quot;$_res_as_stdin&quot; = &quot;yes&quot; -a &quot;$_res_gcc_pipe&quot; = &quot;yes&quot;; then</span>
<a href="#l1.452"></a><span id="l1.452">         _res=&quot;yes&quot;;</span>
<a href="#l1.453"></a><span id="l1.453">         CFLAGS=&quot;$CFLAGS -pipe&quot;</span>
<a href="#l1.454"></a><span id="l1.454">         CXXFLAGS=&quot;$CXXFLAGS -pipe&quot;</span>
<a href="#l1.455"></a><span id="l1.455">     else</span>
<a href="#l1.456"></a><span id="l1.456">         _res=&quot;no&quot;</span>
<a href="#l1.457"></a><span id="l1.457">     fi</span>
<a href="#l1.458"></a><span id="l1.458">     rm -f dummy-hello.c dummy-hello.s dummy-hello.S dummy-hello a.out</span>
<a href="#l1.459"></a><span id="l1.459">     AC_MSG_RESULT([$_res])</span>
<a href="#l1.460"></a><span id="l1.460"> else</span>
<a href="#l1.461"></a><span id="l1.461">     AC_MSG_RESULT([no])</span>
<a href="#l1.462"></a><span id="l1.462"> fi</span>
<a href="#l1.463"></a><span id="l1.463"> </span>
<a href="#l1.464"></a><span id="l1.464"> dnl ========================================================</span>
<a href="#l1.465"></a><span id="l1.465"> dnl Profile guided optimization</span>
<a href="#l1.466"></a><span id="l1.466"> dnl ========================================================</span>
<a href="#l1.467"></a><span id="l1.467"> dnl Test for profiling options</span>
<a href="#l1.468"></a><span id="l1.468" class="difflineminus">-dnl Under gcc 3.3, use -fprofile-arcs/-fbranch-probabilities</span>
<a href="#l1.469"></a><span id="l1.469"> dnl Under gcc 3.4+, use -fprofile-generate/-fprofile-use</span>
<a href="#l1.470"></a><span id="l1.470"> </span>
<a href="#l1.471"></a><span id="l1.471"> dnl Provide a switch to disable PGO even when called via profiledbuild.</span>
<a href="#l1.472"></a><span id="l1.472"> MOZ_ARG_DISABLE_BOOL(profile-guided-optimization,</span>
<a href="#l1.473"></a><span id="l1.473"> [  --disable-profile-guided-optimization</span>
<a href="#l1.474"></a><span id="l1.474">                            Don't build with PGO even if called via make profiledbuild],</span>
<a href="#l1.475"></a><span id="l1.475"> MOZ_PROFILE_GUIDED_OPTIMIZE_DISABLE=1,</span>
<a href="#l1.476"></a><span id="l1.476"> MOZ_PROFILE_GUIDED_OPTIMIZE_DISABLE=)</span>
<a href="#l1.477"></a><span id="l1.477" class="difflineat">@@ -6260,29 +6233,16 @@ AC_TRY_COMPILE([], [return 0;],</span>
<a href="#l1.478"></a><span id="l1.478">                [ PROFILE_GEN_CFLAGS=&quot;-fprofile-generate&quot;</span>
<a href="#l1.479"></a><span id="l1.479">                  result=&quot;yes&quot; ], result=&quot;no&quot;)</span>
<a href="#l1.480"></a><span id="l1.480"> AC_MSG_RESULT([$result])</span>
<a href="#l1.481"></a><span id="l1.481"> </span>
<a href="#l1.482"></a><span id="l1.482"> if test $result = &quot;yes&quot;; then</span>
<a href="#l1.483"></a><span id="l1.483">   PROFILE_GEN_LDFLAGS=&quot;-fprofile-generate&quot;</span>
<a href="#l1.484"></a><span id="l1.484">   PROFILE_USE_CFLAGS=&quot;-fprofile-use&quot;</span>
<a href="#l1.485"></a><span id="l1.485">   PROFILE_USE_LDFLAGS=&quot;-fprofile-use&quot;</span>
<a href="#l1.486"></a><span id="l1.486" class="difflineminus">-else</span>
<a href="#l1.487"></a><span id="l1.487" class="difflineminus">-  CFLAGS=&quot;$_SAVE_CFLAGS -fprofile-arcs&quot;</span>
<a href="#l1.488"></a><span id="l1.488" class="difflineminus">-  AC_MSG_CHECKING([whether C compiler supports -fprofile-arcs])</span>
<a href="#l1.489"></a><span id="l1.489" class="difflineminus">-  AC_TRY_COMPILE([], [return 0;],</span>
<a href="#l1.490"></a><span id="l1.490" class="difflineminus">-                 [ PROFILE_GEN_CFLAGS=&quot;-fprofile-arcs&quot;</span>
<a href="#l1.491"></a><span id="l1.491" class="difflineminus">-                   result=&quot;yes&quot; ], result=&quot;no&quot;)</span>
<a href="#l1.492"></a><span id="l1.492" class="difflineminus">-  AC_MSG_RESULT([$result])</span>
<a href="#l1.493"></a><span id="l1.493" class="difflineminus">-  if test $result = &quot;yes&quot;; then</span>
<a href="#l1.494"></a><span id="l1.494" class="difflineminus">-    PROFILE_USE_CFLAGS=&quot;-fbranch-probabilities&quot;</span>
<a href="#l1.495"></a><span id="l1.495" class="difflineminus">-  fi</span>
<a href="#l1.496"></a><span id="l1.496" class="difflineminus">-  # don't really care, this is an old GCC</span>
<a href="#l1.497"></a><span id="l1.497" class="difflineminus">-  PROFILE_GEN_LDFLAGS=</span>
<a href="#l1.498"></a><span id="l1.498" class="difflineminus">-  PROFILE_USE_LDFLAGS=</span>
<a href="#l1.499"></a><span id="l1.499"> fi</span>
<a href="#l1.500"></a><span id="l1.500"> </span>
<a href="#l1.501"></a><span id="l1.501"> CFLAGS=&quot;$_SAVE_CFLAGS&quot;</span>
<a href="#l1.502"></a><span id="l1.502"> </span>
<a href="#l1.503"></a><span id="l1.503"> if test -n &quot;$INTEL_CC&quot;; then</span>
<a href="#l1.504"></a><span id="l1.504">   PROFILE_GEN_CFLAGS=&quot;-prof-gen -prof-dir .&quot;</span>
<a href="#l1.505"></a><span id="l1.505">   PROFILE_GEN_LDFLAGS=</span>
<a href="#l1.506"></a><span id="l1.506">   PROFILE_USE_CFLAGS=&quot;-prof-use -prof-dir .&quot;</span>
<a href="#l1.507"></a><span id="l1.507" class="difflineat">@@ -6591,18 +6551,18 @@ dnl =</span>
<a href="#l1.508"></a><span id="l1.508"> dnl = Standalone module options</span>
<a href="#l1.509"></a><span id="l1.509"> dnl = </span>
<a href="#l1.510"></a><span id="l1.510"> dnl ========================================================</span>
<a href="#l1.511"></a><span id="l1.511"> MOZ_ARG_HEADER(Standalone module options (Not for building Mozilla))</span>
<a href="#l1.512"></a><span id="l1.512"> </span>
<a href="#l1.513"></a><span id="l1.513"> dnl Check for GLib.</span>
<a href="#l1.514"></a><span id="l1.514"> dnl ========================================================</span>
<a href="#l1.515"></a><span id="l1.515"> if test -z &quot;$SKIP_PATH_CHECKS&quot;; then</span>
<a href="#l1.516"></a><span id="l1.516" class="difflineminus">-if test -z &quot;${GLIB_CFLAGS}&quot; || test -z &quot;${GLIB_LIBS}&quot; ; then</span>
<a href="#l1.517"></a><span id="l1.517" class="difflineminus">-    if test &quot;$MOZ_ENABLE_GTK2&quot; || test &quot;$USE_ELF_DYNSTR_GC&quot; ; then</span>
<a href="#l1.518"></a><span id="l1.518" class="difflineplus">+if test -z &quot;${GLIB_CFLAGS}&quot; -o -z &quot;${GLIB_LIBS}&quot; ; then</span>
<a href="#l1.519"></a><span id="l1.519" class="difflineplus">+    if test &quot;$MOZ_ENABLE_GTK2&quot; -o &quot;$USE_ELF_DYNSTR_GC&quot; ; then</span>
<a href="#l1.520"></a><span id="l1.520">         PKG_CHECK_MODULES(GLIB, glib-2.0 &gt;= 1.3.7 gobject-2.0)</span>
<a href="#l1.521"></a><span id="l1.521">     else</span>
<a href="#l1.522"></a><span id="l1.522">         AM_PATH_GLIB(${GLIB_VERSION})</span>
<a href="#l1.523"></a><span id="l1.523">     fi</span>
<a href="#l1.524"></a><span id="l1.524"> fi</span>
<a href="#l1.525"></a><span id="l1.525"> fi</span>
<a href="#l1.526"></a><span id="l1.526"> </span>
<a href="#l1.527"></a><span id="l1.527"> if test -z &quot;${GLIB_GMODULE_LIBS}&quot; -a -n &quot;${GLIB_CONFIG}&quot;; then</span>
<a href="#l1.528"></a><span id="l1.528" class="difflineat">@@ -6734,17 +6694,17 @@ if test &quot;$MOZ_MORKREADER&quot;; then</span>
<a href="#l1.529"></a><span id="l1.529"> fi</span>
<a href="#l1.530"></a><span id="l1.530"> </span>
<a href="#l1.531"></a><span id="l1.531"> AC_SUBST(MOZ_PLACES)</span>
<a href="#l1.532"></a><span id="l1.532"> if test &quot;$MOZ_PLACES&quot;; then</span>
<a href="#l1.533"></a><span id="l1.533">   AC_DEFINE(MOZ_PLACES)</span>
<a href="#l1.534"></a><span id="l1.534"> fi</span>
<a href="#l1.535"></a><span id="l1.535"> </span>
<a href="#l1.536"></a><span id="l1.536"> dnl ========================================================</span>
<a href="#l1.537"></a><span id="l1.537" class="difflineminus">-if test &quot;$MOZ_DEBUG&quot; || test &quot;$NS_TRACE_MALLOC&quot;; then</span>
<a href="#l1.538"></a><span id="l1.538" class="difflineplus">+if test &quot;$MOZ_DEBUG&quot; -o &quot;$NS_TRACE_MALLOC&quot;; then</span>
<a href="#l1.539"></a><span id="l1.539">     MOZ_COMPONENTS_VERSION_SCRIPT_LDFLAGS=</span>
<a href="#l1.540"></a><span id="l1.540"> fi</span>
<a href="#l1.541"></a><span id="l1.541"> </span>
<a href="#l1.542"></a><span id="l1.542"> if test &quot;$MOZ_LDAP_XPCOM&quot;; then</span>
<a href="#l1.543"></a><span id="l1.543">     LDAP_CFLAGS='-I${DIST}/public/ldap'</span>
<a href="#l1.544"></a><span id="l1.544">     if test &quot;$OS_ARCH&quot; = &quot;WINNT&quot;; then</span>
<a href="#l1.545"></a><span id="l1.545">         if test -n &quot;$GNU_CC&quot;; then</span>
<a href="#l1.546"></a><span id="l1.546">             LDAP_LIBS='-L$(DIST)/lib -lnsldap32v60 -lnsldappr32v60 -lnsldif32v60'</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

