<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 15167:a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed" />
<meta property="og:url" content="/comm-central/rev/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed" />
<meta property="og:description" content="Bug 955173 - Add Odnoklassniki protocol, r=clokep." />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed">shortlog</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed">files</a> |
changeset |
<a href="/comm-central/raw-rev/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed">raw</a>  | <a href="/comm-central/archive/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=955173">Bug 955173</a> - Add Odnoklassniki protocol, r=clokep.
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#65;&#108;&#101;&#120;&#97;&#110;&#100;&#101;&#114;&#32;&#76;&#46;&#32;&#83;&#108;&#111;&#118;&#101;&#115;&#110;&#105;&#107;&#32;&#60;&#117;&#110;&#103;&#104;&#111;&#115;&#116;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 02 Nov 2012 23:57:16 +0100</td></tr>

<tr>
 <td>changeset 15167</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed">a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed</a></td>
</tr>



<tr>
<td>parent 15166</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/5444ede3acefca80b1ef99bcce9e2207e9d2c873">5444ede3acefca80b1ef99bcce9e2207e9d2c873</a>
</td>
</tr>

<tr>
<td>child 15168</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/9a76093e1312e627c8aa928db4271d51f32cfddd">9a76093e1312e627c8aa928db4271d51f32cfddd</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed">9778</a></td></tr>
<tr><td>push user</td><td>florian@queze.net</td></tr>
<tr><td>push date</td><td class="date age">Sun, 12 Jan 2014 18:25:45 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@f81a23bfefcd [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&newProject=comm-central&newRevision=279a7aa9624ffb41326b021ff7d8bc68b9b89551&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&newProject=comm-central&newRevision=279a7aa9624ffb41326b021ff7d8bc68b9b89551&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&newProject=comm-central&newRevision=279a7aa9624ffb41326b021ff7d8bc68b9b89551&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28clokep%29&revcount=50">clokep</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=955173">955173</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=955173">Bug 955173</a> - Add Odnoklassniki protocol, r=clokep.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/Makefile.in">chat/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/Makefile.in">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/Makefile.in">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/Makefile.in">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/Makefile.in">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/locales/en-US/xmpp.properties">chat/locales/en-US/xmpp.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/locales/en-US/xmpp.properties">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/locales/en-US/xmpp.properties">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/locales/en-US/xmpp.properties">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/locales/en-US/xmpp.properties">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/locales/en-US/xmpp.properties">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/makefiles.sh">chat/makefiles.sh</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/makefiles.sh">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/makefiles.sh">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/makefiles.sh">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/makefiles.sh">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/makefiles.sh">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/Makefile.in">chat/protocols/odnoklassniki/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/Makefile.in">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/Makefile.in">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/Makefile.in">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/Makefile.in">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-32.png">chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-32.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-32.png">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-32.png">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-32.png">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-32.png">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-32.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-48.png">chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-48.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-48.png">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-48.png">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-48.png">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-48.png">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki-48.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki.png">chat/protocols/odnoklassniki/icons/prpl-odnoklassniki.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki.png">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki.png">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki.png">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki.png">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/icons/prpl-odnoklassniki.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/jar.mn">chat/protocols/odnoklassniki/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/jar.mn">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/jar.mn">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/jar.mn">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/jar.mn">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.js">chat/protocols/odnoklassniki/odnoklassniki.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.js">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.js">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.js">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.js">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.manifest">chat/protocols/odnoklassniki/odnoklassniki.manifest</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.manifest">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.manifest">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.manifest">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.manifest">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/chat/protocols/odnoklassniki/odnoklassniki.manifest">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/im/installer/package-manifest.in">im/installer/package-manifest.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/im/installer/package-manifest.in">file</a> |
<a href="/comm-central/annotate/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/im/installer/package-manifest.in">annotate</a> |
<a href="/comm-central/diff/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/im/installer/package-manifest.in">diff</a> |
<a href="/comm-central/comparison/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/im/installer/package-manifest.in">comparison</a> |
<a href="/comm-central/log/a973d8fba7ba0e3ddfd9005b1e8c422f771f58ed/im/installer/package-manifest.in">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/chat/Makefile.in</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/chat/Makefile.in</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -8,16 +8,17 @@ srcdir		= @srcdir@</span>
<a href="#l1.4"></a><span id="l1.4"> VPATH		= @srcdir@</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> PROTOCOLS = \</span>
<a href="#l1.9"></a><span id="l1.9"> 		facebook \</span>
<a href="#l1.10"></a><span id="l1.10"> 		gtalk \</span>
<a href="#l1.11"></a><span id="l1.11"> 		irc \</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+		odnoklassniki \</span>
<a href="#l1.13"></a><span id="l1.13"> 		twitter \</span>
<a href="#l1.14"></a><span id="l1.14"> 		vkontakte \</span>
<a href="#l1.15"></a><span id="l1.15"> 		xmpp \</span>
<a href="#l1.16"></a><span id="l1.16"> 		$(NULL)</span>
<a href="#l1.17"></a><span id="l1.17"> </span>
<a href="#l1.18"></a><span id="l1.18"> ifdef MOZ_DEBUG</span>
<a href="#l1.19"></a><span id="l1.19"> PROTOCOLS += jsTest</span>
<a href="#l1.20"></a><span id="l1.20"> endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/chat/locales/en-US/xmpp.properties</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/chat/locales/en-US/xmpp.properties</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -77,8 +77,14 @@ options.connectPort=Port</span>
<a href="#l2.4"></a><span id="l2.4"> #  configuring a Google Talk account.</span>
<a href="#l2.5"></a><span id="l2.5"> gtalk.usernameHint=email address</span>
<a href="#l2.6"></a><span id="l2.6"> </span>
<a href="#l2.7"></a><span id="l2.7"> # LOCALIZATION NOTE (vkontakte.usernameHint):</span>
<a href="#l2.8"></a><span id="l2.8"> #  This is displayed inside the accountUsernameInfoWithDescription</span>
<a href="#l2.9"></a><span id="l2.9"> #  string defined in imAccounts.properties when the user is</span>
<a href="#l2.10"></a><span id="l2.10"> #  configuring a Vkontakte account.</span>
<a href="#l2.11"></a><span id="l2.11"> vkontakte.usernameHint=Profile ID</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+# LOCALIZATION NOTE (odnoklassniki.usernameHint):</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+#  This is displayed inside the accountUsernameInfoWithDescription</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+#  string defined in imAccounts.properties when the user is</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+#  configuring a Odnoklassniki account.</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+odnoklassniki.usernameHint=Profile ID</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/chat/makefiles.sh</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/chat/makefiles.sh</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -8,13 +8,14 @@ chat/components/public/Makefile</span>
<a href="#l3.4"></a><span id="l3.4"> chat/components/src/Makefile</span>
<a href="#l3.5"></a><span id="l3.5"> chat/content/Makefile</span>
<a href="#l3.6"></a><span id="l3.6"> chat/locales/Makefile</span>
<a href="#l3.7"></a><span id="l3.7"> chat/modules/Makefile</span>
<a href="#l3.8"></a><span id="l3.8"> chat/protocols/facebook/Makefile</span>
<a href="#l3.9"></a><span id="l3.9"> chat/protocols/gtalk/Makefile</span>
<a href="#l3.10"></a><span id="l3.10"> chat/protocols/irc/Makefile</span>
<a href="#l3.11"></a><span id="l3.11"> chat/protocols/jsTest/Makefile</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+chat/protocols/odnoklassniki/Makefile</span>
<a href="#l3.13"></a><span id="l3.13"> chat/protocols/twitter/Makefile</span>
<a href="#l3.14"></a><span id="l3.14"> chat/protocols/vkontakte/Makefile</span>
<a href="#l3.15"></a><span id="l3.15"> chat/protocols/xmpp/Makefile</span>
<a href="#l3.16"></a><span id="l3.16"> chat/themes/Makefile</span>
<a href="#l3.17"></a><span id="l3.17"> &quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">new file mode 100644</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineminus">--- /dev/null</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineplus">+++ b/chat/protocols/odnoklassniki/Makefile.in</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineat">@@ -0,0 +1,17 @@</span>
<a href="#l4.5"></a><span id="l4.5" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.6"></a><span id="l4.6" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.7"></a><span id="l4.7" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l4.8"></a><span id="l4.8" class="difflineplus">+</span>
<a href="#l4.9"></a><span id="l4.9" class="difflineplus">+DEPTH		= ../../..</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineplus">+topsrcdir	= @top_srcdir@</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+srcdir		= @srcdir@</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+VPATH		= @srcdir@</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+include $(DEPTH)/config/autoconf.mk</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+EXTRA_COMPONENTS = \</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+		odnoklassniki.js \</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineplus">+		odnoklassniki.manifest \</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+		$(NULL)</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineplus">+include $(topsrcdir)/config/rules.mk</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">new file mode 100644</span>
<a href="#l5.2"></a><span id="l5.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..5057ef77bfab5895bb253783611ef75c29086ad7</span>
<a href="#l5.3"></a><span id="l5.3">GIT binary patch
literal 2165
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/span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">new file mode 100644</span>
<a href="#l6.2"></a><span id="l6.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..63e2517ffdc28ed1ace358d8c50c415ce5c1d618</span>
<a href="#l6.3"></a><span id="l6.3">GIT binary patch
literal 2649
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
Hu0mjf{EP`x</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1">new file mode 100644</span>
<a href="#l7.2"></a><span id="l7.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..89043973336057c970bf3e10ab326ea1a0a3b3e5</span>
<a href="#l7.3"></a><span id="l7.3">GIT binary patch
literal 753
zc$@+80uKF&amp;P)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV00006VoOIv0RI60
z0RN!9r;`8x010qNS#tmY3ljhU3ljkVnw%H_000McNliru+zJ~F7!C&gt;hn8pAA0)9zE
zK~y-)rISraRB;r=&amp;-uTZc{&lt;~aMQKTb4G~!pg^L2AqG;EqWfm&lt;e+C))n3rdJ6+XPV?
z``84zXc+}&lt;3Tn|ehKL18N@X@`&amp;ggSy-kbOSr^Wcy+Pl7&amp;`#a~{3oNq;0N$fh`!(^c
zlaoXHKtP}rg$9s?2tW&gt;&lt;cti*S$c9a?xUTJZ&gt;d^J?F#yn?!7K7|n&lt;0UqAVF^W2V*tw
z=)|C4b|?H|GYA2KriQmGkvRw8JON;)t0j_DT`n2bWInqq8!oGH%R5cwVE&amp;Hn3c{%_
zl&amp;80mw2~#&lt;G}4`ej+xUTLy8jR#C^KS2T#5P{iUJz7yOB#&amp;gbLmW8A$j6Z0WaFp@tl
z05DZ6L_h#Q8plTz{b*~+G_#cNU}g63*2ctI8%85E#s^6fqKOdzVoUra2q_9vh$nWe
zZ%E!P*EC&amp;&gt;{7RH&lt;TK&amp;r#^$yC9QUpZOXl^RDFg%Z7L!y{J;f&lt;SV)~$ZbbP}@@xuYn}
z9H)&amp;~ZCy-ofj|N%5%J`2)UD}7CD&gt;RVFWhj`B_h&amp;aW}13c7(IeYajk@TfTa=^l=y%%
z5alOcq)*;*?bvsOuO9|-QU?IzL-V_&lt;W&amp;U%36oT0-in(j?*7n1dk&amp;$5=l!wilY=^wj
zs|dUnkd_2VYLP&amp;)VD-*KV`&lt;#41U{KcZYM-o;R8)#P&amp;Dm?B}8j&amp;xJY10N*0jFm|Kuj
z+hY;;!~Un;;lQ(Qx%IwGqK8hRP`z`Dc-@L69wb+NM7gj9p&lt;j#8Pch7&amp;*3Y*Y74xkC
zfWW&amp;$8%`q%Qi3GMEl&lt;wW-&amp;=^H^z!Bg`&gt;XGa9e#5bfhPb)fWW!TBvBwpi$oG8yZd(7
jy!TT5o@0gOelz|7p4CNJZga;E00000NkvXXu0mjfItfjo</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1">new file mode 100644</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineminus">--- /dev/null</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineplus">+++ b/chat/protocols/odnoklassniki/jar.mn</span>
<a href="#l8.4"></a><span id="l8.4" class="difflineat">@@ -0,0 +1,9 @@</span>
<a href="#l8.5"></a><span id="l8.5" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.6"></a><span id="l8.6" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.7"></a><span id="l8.7" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l8.8"></a><span id="l8.8" class="difflineplus">+</span>
<a href="#l8.9"></a><span id="l8.9" class="difflineplus">+chat.jar:</span>
<a href="#l8.10"></a><span id="l8.10" class="difflineplus">+% skin prpl-odnoklassniki classic/1.0 %skin/classic/prpl/odnoklassniki/</span>
<a href="#l8.11"></a><span id="l8.11" class="difflineplus">+	skin/classic/prpl/odnoklassniki/icon32.png	(icons/prpl-odnoklassniki-32.png)</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+	skin/classic/prpl/odnoklassniki/icon48.png	(icons/prpl-odnoklassniki-48.png)</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+	skin/classic/prpl/odnoklassniki/icon.png	(icons/prpl-odnoklassniki.png)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1">new file mode 100644</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineminus">--- /dev/null</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineplus">+++ b/chat/protocols/odnoklassniki/odnoklassniki.js</span>
<a href="#l9.4"></a><span id="l9.4" class="difflineat">@@ -0,0 +1,56 @@</span>
<a href="#l9.5"></a><span id="l9.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.6"></a><span id="l9.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.7"></a><span id="l9.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.8"></a><span id="l9.8" class="difflineplus">+</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineplus">+const {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l9.10"></a><span id="l9.10" class="difflineplus">+</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineplus">+Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+Cu.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+Cu.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, function()</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+  l10nHelper(&quot;chrome://chat/locale/xmpp.properties&quot;)</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+);</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineplus">+</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+function OdnoklassnikiAccount(aProtoInstance, aImAccount) {</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineplus">+  this._init(aProtoInstance, aImAccount);</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+}</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineplus">+OdnoklassnikiAccount.prototype = {</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineplus">+  __proto__: XMPPAccountPrototype,</span>
<a href="#l9.25"></a><span id="l9.25" class="difflineplus">+  get canJoinChat() false,</span>
<a href="#l9.26"></a><span id="l9.26" class="difflineplus">+  connect: function() {</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineplus">+    if (this.name.indexOf(&quot;@&quot;) == -1) {</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineplus">+      let jid = this.name + &quot;@odnoklassniki.ru/&quot; + XMPPDefaultResource;</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineplus">+      this._jid = this._parseJID(jid);</span>
<a href="#l9.30"></a><span id="l9.30" class="difflineplus">+    }</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineplus">+    else {</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+      this._jid = this._parseJID(this.name);</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+      if (this._jid.domain != &quot;odnoklassniki.ru&quot;) {</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+        // We can't use this.onError because this._connection doesn't exist.</span>
<a href="#l9.35"></a><span id="l9.35" class="difflineplus">+        this.reportDisconnecting(Ci.prplIAccount.ERROR_INVALID_USERNAME,</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineplus">+                                 _(&quot;connection.error.invalidUsername&quot;));</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineplus">+        this.reportDisconnected();</span>
<a href="#l9.38"></a><span id="l9.38" class="difflineplus">+        return;</span>
<a href="#l9.39"></a><span id="l9.39" class="difflineplus">+      }</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineplus">+    }</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineplus">+</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineplus">+    this._connection = new XMPPSession(&quot;odnoklassniki.ru&quot;, 5222,</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineplus">+                                       &quot;require_tls&quot;, this._jid,</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineplus">+                                       this.imAccount.password, this);</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineplus">+  }</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineplus">+};</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineplus">+</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineplus">+function OdnoklassnikiProtocol() {</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineplus">+}</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineplus">+OdnoklassnikiProtocol.prototype = {</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineplus">+  __proto__: GenericProtocolPrototype,</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineplus">+  get normalizedName() &quot;odnoklassniki&quot;,</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+  get name() &quot;Odnoklassniki&quot;,</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineplus">+  get iconBaseURI() &quot;chrome://prpl-odnoklassniki/skin/&quot;,</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineplus">+  get usernameEmptyText() _(&quot;odnoklassniki.usernameHint&quot;),</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineplus">+  getAccount: function(aImAccount) new OdnoklassnikiAccount(this, aImAccount),</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineplus">+  classID: Components.ID(&quot;{29b09a83-81c1-2032-11e2-6d9bc4f8e969}&quot;)</span>
<a href="#l9.58"></a><span id="l9.58" class="difflineplus">+};</span>
<a href="#l9.59"></a><span id="l9.59" class="difflineplus">+</span>
<a href="#l9.60"></a><span id="l9.60" class="difflineplus">+const NSGetFactory = XPCOMUtils.generateNSGetFactory([OdnoklassnikiProtocol]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1">new file mode 100644</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineminus">--- /dev/null</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineplus">+++ b/chat/protocols/odnoklassniki/odnoklassniki.manifest</span>
<a href="#l10.4"></a><span id="l10.4" class="difflineat">@@ -0,0 +1,3 @@</span>
<a href="#l10.5"></a><span id="l10.5" class="difflineplus">+component {29b09a83-81c1-2032-11e2-6d9bc4f8e969} odnoklassniki.js</span>
<a href="#l10.6"></a><span id="l10.6" class="difflineplus">+contract @mozilla.org/chat/odnoklassniki;1 {29b09a83-81c1-2032-11e2-6d9bc4f8e969}</span>
<a href="#l10.7"></a><span id="l10.7" class="difflineplus">+category im-protocol-plugin prpl-odnoklassniki @mozilla.org/chat/odnoklassniki;1</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/im/installer/package-manifest.in</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/im/installer/package-manifest.in</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -452,16 +452,18 @@</span>
<a href="#l11.4"></a><span id="l11.4"> @BINPATH@/components/ibStatusCommandLineHandler.js</span>
<a href="#l11.5"></a><span id="l11.5"> @BINPATH@/components/ibStatusCommandLineHandler.manifest</span>
<a href="#l11.6"></a><span id="l11.6"> @BINPATH@/components/irc.js</span>
<a href="#l11.7"></a><span id="l11.7"> @BINPATH@/components/irc.manifest</span>
<a href="#l11.8"></a><span id="l11.8"> @BINPATH@/components/facebook.js</span>
<a href="#l11.9"></a><span id="l11.9"> @BINPATH@/components/facebook.manifest</span>
<a href="#l11.10"></a><span id="l11.10"> @BINPATH@/components/gtalk.js</span>
<a href="#l11.11"></a><span id="l11.11"> @BINPATH@/components/gtalk.manifest</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+@BINPATH@/components/odnoklassniki.js</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+@BINPATH@/components/odnoklassniki.manifest</span>
<a href="#l11.14"></a><span id="l11.14"> @BINPATH@/components/twitter.js</span>
<a href="#l11.15"></a><span id="l11.15"> @BINPATH@/components/twitter.manifest</span>
<a href="#l11.16"></a><span id="l11.16"> @BINPATH@/components/vkontakte.js</span>
<a href="#l11.17"></a><span id="l11.17"> @BINPATH@/components/vkontakte.manifest</span>
<a href="#l11.18"></a><span id="l11.18"> @BINPATH@/components/xmpp.js</span>
<a href="#l11.19"></a><span id="l11.19"> @BINPATH@/components/xmpp.manifest</span>
<a href="#l11.20"></a><span id="l11.20"> @BINPATH@/components/smileProtocolHandler.js</span>
<a href="#l11.21"></a><span id="l11.21"> @BINPATH@/components/smileProtocolHandler.manifest</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

