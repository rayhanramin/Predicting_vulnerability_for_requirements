<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 29275:b1ac2173d7c89f15582e1a80fba1a5886e3bcf51</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ b1ac2173d7c89f15582e1a80fba1a5886e3bcf51" />
<meta property="og:url" content="/comm-central/rev/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51" />
<meta property="og:description" content="Bug 1624429 - Fix lintpref failures by removing duplicates. r=mkmelin" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / b1ac2173d7c89f15582e1a80fba1a5886e3bcf51 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51">shortlog</a> |
<a href="/comm-central/log/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51">files</a> |
changeset |
<a href="/comm-central/raw-rev/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51">raw</a>  | <a href="/comm-central/archive/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1624429">Bug 1624429</a> - Fix lintpref failures by removing duplicates. r=mkmelin
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#111;&#98;&#32;&#76;&#101;&#109;&#108;&#101;&#121;&#32;&#60;&#114;&#111;&#98;&#64;&#116;&#104;&#117;&#110;&#100;&#101;&#114;&#98;&#105;&#114;&#100;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 02 Apr 2020 16:23:51 -0400</td></tr>

<tr>
 <td>changeset 29275</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51">b1ac2173d7c89f15582e1a80fba1a5886e3bcf51</a></td>
</tr>



<tr>
<td>parent 29274</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/aa50c4d9d57a311bdb01d0f0ce3db310f9c96a76">aa50c4d9d57a311bdb01d0f0ce3db310f9c96a76</a>
</td>
</tr>

<tr>
<td>child 29276</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/809ba28e36f4e6f0c823950f0370bac913fcfc7c">809ba28e36f4e6f0c823950f0370bac913fcfc7c</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=b1ac2173d7c89f15582e1a80fba1a5886e3bcf51">17286</a></td></tr>
<tr><td>push user</td><td>thunderbird@calypsoblue.org</td></tr>
<tr><td>push date</td><td class="date age">Tue, 14 Apr 2020 02:00:32 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@b1ac2173d7c8 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b1ac2173d7c89f15582e1a80fba1a5886e3bcf51">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b1ac2173d7c89f15582e1a80fba1a5886e3bcf51&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b1ac2173d7c89f15582e1a80fba1a5886e3bcf51&newProject=comm-central&newRevision=1cd5d14b2f8386707f91cc0a25544299a845b9f8&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b1ac2173d7c89f15582e1a80fba1a5886e3bcf51&newProject=comm-central&newRevision=1cd5d14b2f8386707f91cc0a25544299a845b9f8&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b1ac2173d7c89f15582e1a80fba1a5886e3bcf51&newProject=comm-central&newRevision=1cd5d14b2f8386707f91cc0a25544299a845b9f8&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1624429">1624429</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1624429">Bug 1624429</a> - Fix lintpref failures by removing duplicates. r=mkmelin

This check compares the js files to modules/libpref/init/StaticPrefList.yaml
which states that prefs listed in it should not be included in js data files
unless the value is overridden.
These duplicated prefs do not have different values in all-thunderbird.js.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51/mail/app/profile/all-thunderbird.js">mail/app/profile/all-thunderbird.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51/mail/app/profile/all-thunderbird.js">file</a> |
<a href="/comm-central/annotate/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51/mail/app/profile/all-thunderbird.js">annotate</a> |
<a href="/comm-central/diff/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51/mail/app/profile/all-thunderbird.js">diff</a> |
<a href="/comm-central/comparison/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51/mail/app/profile/all-thunderbird.js">comparison</a> |
<a href="/comm-central/log/b1ac2173d7c89f15582e1a80fba1a5886e3bcf51/mail/app/profile/all-thunderbird.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/app/profile/all-thunderbird.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/app/profile/all-thunderbird.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -183,17 +183,16 @@ pref(&quot;extensions.dss.switchPending&quot;, fal</span>
<a href="#l1.4"></a><span id="l1.4"> // Don't show recommendations on the extension and theme list views.</span>
<a href="#l1.5"></a><span id="l1.5"> pref(&quot;extensions.htmlaboutaddons.recommendations.enabled&quot;, false);</span>
<a href="#l1.6"></a><span id="l1.6"> </span>
<a href="#l1.7"></a><span id="l1.7"> pref(&quot;lightweightThemes.update.enabled&quot;, true);</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9"> // Built-in default permissions.</span>
<a href="#l1.10"></a><span id="l1.10"> pref(&quot;permissions.manager.defaultsUrl&quot;, &quot;resource://app/defaults/permissions&quot;);</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-pref(&quot;general.smoothScroll&quot;, true);</span>
<a href="#l1.13"></a><span id="l1.13"> #ifdef UNIX_BUT_NOT_MAC</span>
<a href="#l1.14"></a><span id="l1.14"> pref(&quot;general.autoScroll&quot;, false);</span>
<a href="#l1.15"></a><span id="l1.15"> #else</span>
<a href="#l1.16"></a><span id="l1.16"> pref(&quot;general.autoScroll&quot;, true);</span>
<a href="#l1.17"></a><span id="l1.17"> #endif</span>
<a href="#l1.18"></a><span id="l1.18"> </span>
<a href="#l1.19"></a><span id="l1.19"> pref(&quot;mail.shell.checkDefaultClient&quot;, true);</span>
<a href="#l1.20"></a><span id="l1.20"> pref(&quot;mail.spellcheck.inline&quot;, true);</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineat">@@ -271,20 +270,16 @@ pref(&quot;mail.warn_on_shift_delete&quot;, true);</span>
<a href="#l1.22"></a><span id="l1.22"> // at least this percentage of the thread pane visible above / below the</span>
<a href="#l1.23"></a><span id="l1.23"> // selected message.</span>
<a href="#l1.24"></a><span id="l1.24"> pref(&quot;mail.threadpane.padding.top_percent&quot;, 10);</span>
<a href="#l1.25"></a><span id="l1.25"> pref(&quot;mail.threadpane.padding.bottom_percent&quot;, 10);</span>
<a href="#l1.26"></a><span id="l1.26"> </span>
<a href="#l1.27"></a><span id="l1.27"> // Use correspondents column instead of from/recipient columns.</span>
<a href="#l1.28"></a><span id="l1.28"> pref(&quot;mail.threadpane.use_correspondents&quot;, true);</span>
<a href="#l1.29"></a><span id="l1.29"> </span>
<a href="#l1.30"></a><span id="l1.30" class="difflineminus">-// only affects cookies from RSS articles</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-// 0-Accept, 1-dontAcceptForeign, 2-dontUse</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineminus">-pref(&quot;network.cookie.cookieBehavior&quot;, 0);</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineminus">-</span>
<a href="#l1.34"></a><span id="l1.34"> // To allow images to be inserted into a composition with an auth prompt, we</span>
<a href="#l1.35"></a><span id="l1.35"> // need the following two.</span>
<a href="#l1.36"></a><span id="l1.36"> pref(&quot;network.auth.subresource-img-cross-origin-http-auth-allow&quot;, true);</span>
<a href="#l1.37"></a><span id="l1.37"> pref(&quot;network.auth.non-web-content-triggered-resources-http-auth-allow&quot;, true);</span>
<a href="#l1.38"></a><span id="l1.38"> </span>
<a href="#l1.39"></a><span id="l1.39"> // clear the SeaMonkey pref, so we don't hear about how we don't have a chrome</span>
<a href="#l1.40"></a><span id="l1.40"> // package registered for editor-region while opening about:config</span>
<a href="#l1.41"></a><span id="l1.41"> pref(&quot;editor.throbber.url&quot;, &quot;&quot;);</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineat">@@ -381,17 +376,16 @@ pref(&quot;view_source.syntax_highlight&quot;, fal</span>
<a href="#l1.43"></a><span id="l1.43"> // End core all.js pref overrides</span>
<a href="#l1.44"></a><span id="l1.44"> /////////////////////////////////////////////////////////////////</span>
<a href="#l1.45"></a><span id="l1.45"> </span>
<a href="#l1.46"></a><span id="l1.46"> /////////////////////////////////////////////////////////////////</span>
<a href="#l1.47"></a><span id="l1.47"> // Generic browser related prefs.</span>
<a href="#l1.48"></a><span id="l1.48"> /////////////////////////////////////////////////////////////////</span>
<a href="#l1.49"></a><span id="l1.49"> pref(&quot;browser.send_pings&quot;, false);</span>
<a href="#l1.50"></a><span id="l1.50"> pref(&quot;browser.chrome.toolbar_tips&quot;,         true);</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineminus">-pref(&quot;browser.xul.error_pages.enabled&quot;, true);</span>
<a href="#l1.52"></a><span id="l1.52"> pref(&quot;browser.xul.error_pages.expert_bad_cert&quot;, false);</span>
<a href="#l1.53"></a><span id="l1.53"> </span>
<a href="#l1.54"></a><span id="l1.54"> // Attachment download manager settings</span>
<a href="#l1.55"></a><span id="l1.55"> pref(&quot;browser.download.useDownloadDir&quot;, false);</span>
<a href="#l1.56"></a><span id="l1.56"> pref(&quot;browser.download.folderList&quot;, 0);</span>
<a href="#l1.57"></a><span id="l1.57"> pref(&quot;browser.download.manager.showAlertOnComplete&quot;, false);</span>
<a href="#l1.58"></a><span id="l1.58"> pref(&quot;browser.download.manager.showAlertInterval&quot;, 2000);</span>
<a href="#l1.59"></a><span id="l1.59"> pref(&quot;browser.download.manager.retention&quot;, 1);</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineat">@@ -751,25 +745,16 @@ pref(&quot;privacy.userContext.enabled&quot;, fals</span>
<a href="#l1.61"></a><span id="l1.61"> // If set to true, Thunderbird will collapse the main menu for new profiles</span>
<a href="#l1.62"></a><span id="l1.62"> // (or, more precisely, profiles that start with no accounts created).</span>
<a href="#l1.63"></a><span id="l1.63"> pref(&quot;mail.main_menu.collapse_by_default&quot;, true);</span>
<a href="#l1.64"></a><span id="l1.64"> </span>
<a href="#l1.65"></a><span id="l1.65"> // If set to true, when saving a message to a file, use underscore</span>
<a href="#l1.66"></a><span id="l1.66"> // instead of space in the file name.</span>
<a href="#l1.67"></a><span id="l1.67"> pref(&quot;mail.save_msg_filename_underscores_for_space&quot;, false);</span>
<a href="#l1.68"></a><span id="l1.68"> </span>
<a href="#l1.69"></a><span id="l1.69" class="difflineminus">-#ifdef MOZ_SANDBOX</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineminus">-// This controls the strength of the Windows content process sandbox for testing</span>
<a href="#l1.71"></a><span id="l1.71" class="difflineminus">-// purposes. This will require a restart.</span>
<a href="#l1.72"></a><span id="l1.72" class="difflineminus">-// On windows these levels are:</span>
<a href="#l1.73"></a><span id="l1.73" class="difflineminus">-// See - security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp</span>
<a href="#l1.74"></a><span id="l1.74" class="difflineminus">-// SetSecurityLevelForContentProcess() for what the different settings mean.</span>
<a href="#l1.75"></a><span id="l1.75" class="difflineminus">-pref(&quot;security.sandbox.content.level&quot;, 0);</span>
<a href="#l1.76"></a><span id="l1.76" class="difflineminus">-#endif</span>
<a href="#l1.77"></a><span id="l1.77" class="difflineminus">-</span>
<a href="#l1.78"></a><span id="l1.78"> #ifdef NIGHTLY_BUILD</span>
<a href="#l1.79"></a><span id="l1.79"> // See bug 1572568 for details. Disallow eval() with system principal.</span>
<a href="#l1.80"></a><span id="l1.80"> pref(&quot;security.allow_eval_with_system_principal&quot;, false);</span>
<a href="#l1.81"></a><span id="l1.81"> #endif</span>
<a href="#l1.82"></a><span id="l1.82"> </span>
<a href="#l1.83"></a><span id="l1.83"> // Enable FIDO U2F</span>
<a href="#l1.84"></a><span id="l1.84"> pref(&quot;security.webauth.u2f&quot;, true);</span>
<a href="#l1.85"></a><span id="l1.85"> </span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

