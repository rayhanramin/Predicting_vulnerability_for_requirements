<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 29770:b7ff2f88b6a93189076911e08eec0bf84a0be66b</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ b7ff2f88b6a93189076911e08eec0bf84a0be66b" />
<meta property="og:url" content="/comm-central/rev/b7ff2f88b6a93189076911e08eec0bf84a0be66b" />
<meta property="og:description" content="Bug 1642635 - Let text wrap in item summary table and improve alignment. r=darktrojan" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / b7ff2f88b6a93189076911e08eec0bf84a0be66b 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/b7ff2f88b6a93189076911e08eec0bf84a0be66b">shortlog</a> |
<a href="/comm-central/log/b7ff2f88b6a93189076911e08eec0bf84a0be66b">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/b7ff2f88b6a93189076911e08eec0bf84a0be66b">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/b7ff2f88b6a93189076911e08eec0bf84a0be66b">files</a> |
changeset |
<a href="/comm-central/raw-rev/b7ff2f88b6a93189076911e08eec0bf84a0be66b">raw</a>  | <a href="/comm-central/archive/b7ff2f88b6a93189076911e08eec0bf84a0be66b.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1642635">Bug 1642635</a> - Let text wrap in item summary table and improve alignment. r=darktrojan
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#80;&#97;&#117;&#108;&#32;&#77;&#111;&#114;&#114;&#105;&#115;&#32;&#60;&#112;&#97;&#117;&#108;&#64;&#116;&#104;&#117;&#110;&#100;&#101;&#114;&#98;&#105;&#114;&#100;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 03 Jun 2020 13:07:17 +0000</td></tr>

<tr>
 <td>changeset 29770</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/b7ff2f88b6a93189076911e08eec0bf84a0be66b">b7ff2f88b6a93189076911e08eec0bf84a0be66b</a></td>
</tr>



<tr>
<td>parent 29769</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/06ee3df59f65bceda691781832a6926d3ba76fc5">06ee3df59f65bceda691781832a6926d3ba76fc5</a>
</td>
</tr>

<tr>
<td>child 29771</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/bcc6a5540e043d02044f6a1108193beab6763ca1">bcc6a5540e043d02044f6a1108193beab6763ca1</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=b7ff2f88b6a93189076911e08eec0bf84a0be66b">17524</a></td></tr>
<tr><td>push user</td><td>geoff@darktrojan.net</td></tr>
<tr><td>push date</td><td class="date age">Wed, 03 Jun 2020 23:27:35 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@43f7fed980d9 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=43f7fed980d96d053acd104884b20924d32b0679">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=43f7fed980d96d053acd104884b20924d32b0679&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=43f7fed980d96d053acd104884b20924d32b0679&newProject=comm-central&newRevision=84a25e6535b4cf99825f6e1ebaa82ff3d4bce937&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=43f7fed980d96d053acd104884b20924d32b0679&newProject=comm-central&newRevision=84a25e6535b4cf99825f6e1ebaa82ff3d4bce937&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=43f7fed980d96d053acd104884b20924d32b0679&newProject=comm-central&newRevision=84a25e6535b4cf99825f6e1ebaa82ff3d4bce937&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28darktrojan%29&revcount=50">darktrojan</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1642635">1642635</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1642635">Bug 1642635</a> - Let text wrap in item summary table and improve alignment. r=darktrojan

For lengthy content like dates with timezones we want the content
to wrap, not disappear on the right side of dialogs. Removing the
HTML input elements allows us to do that.

Differential Revision: <a href="https://phabricator.services.mozilla.com/D77976">https://phabricator.services.mozilla.com/D77976</a></div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.css">calendar/base/content/widgets/calendar-item-summary.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.css">file</a> |
<a href="/comm-central/annotate/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.css">annotate</a> |
<a href="/comm-central/diff/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.css">diff</a> |
<a href="/comm-central/comparison/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.css">comparison</a> |
<a href="/comm-central/log/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.js">calendar/base/content/widgets/calendar-item-summary.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.js">file</a> |
<a href="/comm-central/annotate/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.js">annotate</a> |
<a href="/comm-central/diff/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.js">diff</a> |
<a href="/comm-central/comparison/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.js">comparison</a> |
<a href="/comm-central/log/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/content/widgets/calendar-item-summary.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/themes/common/dialogs/calendar-event-dialog.css">calendar/base/themes/common/dialogs/calendar-event-dialog.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/themes/common/dialogs/calendar-event-dialog.css">file</a> |
<a href="/comm-central/annotate/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/themes/common/dialogs/calendar-event-dialog.css">annotate</a> |
<a href="/comm-central/diff/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/themes/common/dialogs/calendar-event-dialog.css">diff</a> |
<a href="/comm-central/comparison/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/themes/common/dialogs/calendar-event-dialog.css">comparison</a> |
<a href="/comm-central/log/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/base/themes/common/dialogs/calendar-event-dialog.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/test/browser/browser_import.js">calendar/test/browser/browser_import.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/test/browser/browser_import.js">file</a> |
<a href="/comm-central/annotate/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/test/browser/browser_import.js">annotate</a> |
<a href="/comm-central/diff/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/test/browser/browser_import.js">diff</a> |
<a href="/comm-central/comparison/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/test/browser/browser_import.js">comparison</a> |
<a href="/comm-central/log/b7ff2f88b6a93189076911e08eec0bf84a0be66b/calendar/test/browser/browser_import.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-item-summary.css</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-item-summary.css</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,44 +1,45 @@</span>
<a href="#l1.4"></a><span id="l1.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l1.5"></a><span id="l1.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.6"></a><span id="l1.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8" class="difflineminus">-th {</span>
<a href="#l1.9"></a><span id="l1.9" class="difflineminus">-  text-align: right;</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineminus">-  padding-inline-end: 5px;</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineminus">-  font-weight: normal;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-}</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-td {</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-  width: 100%;</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-  padding-top: 0;</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-}</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">-</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-.calendar-summary-box {</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineminus">-  display: flex;</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineminus">-}</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineminus">-</span>
<a href="#l1.23"></a><span id="l1.23"> .calendar-summary-table {</span>
<a href="#l1.24"></a><span id="l1.24">   width: 100%;</span>
<a href="#l1.25"></a><span id="l1.25"> }</span>
<a href="#l1.26"></a><span id="l1.26"> </span>
<a href="#l1.27"></a><span id="l1.27" class="difflineminus">-.calendar-summary-table input {</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineplus">+.calendar-summary-table th {</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineplus">+  -moz-user-select: text;</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+  font-weight: normal;</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineplus">+  padding-inline-end: 5px;</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+  text-align: right;</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineplus">+  vertical-align: baseline;</span>
<a href="#l1.34"></a><span id="l1.34" class="difflineplus">+  white-space: nowrap;</span>
<a href="#l1.35"></a><span id="l1.35" class="difflineplus">+}</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineplus">+</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineplus">+.calendar-summary-table td {</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineplus">+  -moz-user-select: text;</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineplus">+  padding-top: 0;</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineplus">+  vertical-align: baseline;</span>
<a href="#l1.41"></a><span id="l1.41">   width: 100%;</span>
<a href="#l1.42"></a><span id="l1.42"> }</span>
<a href="#l1.43"></a><span id="l1.43"> </span>
<a href="#l1.44"></a><span id="l1.44"> .repeat-row &gt; th {</span>
<a href="#l1.45"></a><span id="l1.45">   vertical-align: top;</span>
<a href="#l1.46"></a><span id="l1.46">   padding-top: 2px;</span>
<a href="#l1.47"></a><span id="l1.47"> }</span>
<a href="#l1.48"></a><span id="l1.48"> </span>
<a href="#l1.49"></a><span id="l1.49"> .repeat-details {</span>
<a href="#l1.50"></a><span id="l1.50">   width: 100%;</span>
<a href="#l1.51"></a><span id="l1.51"> }</span>
<a href="#l1.52"></a><span id="l1.52"> </span>
<a href="#l1.53"></a><span id="l1.53" class="difflineminus">-.calendar-summary-table &gt; tr &gt; th &gt; label {</span>
<a href="#l1.54"></a><span id="l1.54" class="difflineminus">-  margin-inline-end: 0;</span>
<a href="#l1.55"></a><span id="l1.55" class="difflineplus">+.calendar-summary-table .item-location-link &gt; label {</span>
<a href="#l1.56"></a><span id="l1.56" class="difflineplus">+  margin-inline: 0;</span>
<a href="#l1.57"></a><span id="l1.57"> }</span>
<a href="#l1.58"></a><span id="l1.58"> </span>
<a href="#l1.59"></a><span id="l1.59" class="difflineminus">-.calendar-summary-table &gt; tr &gt; td &gt; label {</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineminus">-  margin-top: 2px;</span>
<a href="#l1.61"></a><span id="l1.61" class="difflineminus">-  margin-inline-start: 4px;</span>
<a href="#l1.62"></a><span id="l1.62" class="difflineplus">+.calendar-summary-table .item-organizer-cell {</span>
<a href="#l1.63"></a><span id="l1.63" class="difflineplus">+  margin-inline: 0px;</span>
<a href="#l1.64"></a><span id="l1.64"> }</span>
<a href="#l1.65"></a><span id="l1.65" class="difflineplus">+</span>
<a href="#l1.66"></a><span id="l1.66" class="difflineplus">+.calendar-summary-table .organizer-label,</span>
<a href="#l1.67"></a><span id="l1.67" class="difflineplus">+.calendar-summary-table .attachments-label {</span>
<a href="#l1.68"></a><span id="l1.68" class="difflineplus">+  vertical-align: top;</span>
<a href="#l1.69"></a><span id="l1.69" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-item-summary.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-item-summary.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -36,115 +36,100 @@</span>
<a href="#l2.4"></a><span id="l2.4">       let itemDescriptionId = id + &quot;-item-description&quot;;</span>
<a href="#l2.5"></a><span id="l2.5">       let urlLinkId = id + &quot;-url-link&quot;;</span>
<a href="#l2.6"></a><span id="l2.6"> </span>
<a href="#l2.7"></a><span id="l2.7">       this.appendChild(</span>
<a href="#l2.8"></a><span id="l2.8">         MozXULElement.parseXULToFragment(</span>
<a href="#l2.9"></a><span id="l2.9">           `</span>
<a href="#l2.10"></a><span id="l2.10">           &lt;vbox class=&quot;item-summary-box&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l2.11"></a><span id="l2.11">             &lt;!-- General --&gt;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-            &lt;box orient=&quot;vertical&quot;&gt;</span>
<a href="#l2.13"></a><span id="l2.13">             &lt;hbox class=&quot;calendar-caption&quot; align=&quot;center&quot;&gt;</span>
<a href="#l2.14"></a><span id="l2.14">               &lt;label value=&quot;&amp;read.only.general.label;&quot; class=&quot;header&quot;/&gt;</span>
<a href="#l2.15"></a><span id="l2.15">               &lt;separator class=&quot;groove&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l2.16"></a><span id="l2.16">             &lt;/hbox&gt;</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-            &lt;hbox flex=&quot;1&quot; class=&quot;calendar-summary-box&quot;&gt;</span>
<a href="#l2.18"></a><span id="l2.18">             &lt;html:table class=&quot;calendar-summary-table&quot;&gt;</span>
<a href="#l2.19"></a><span id="l2.19">               &lt;html:tr&gt;</span>
<a href="#l2.20"></a><span id="l2.20">                 &lt;html:th&gt;</span>
<a href="#l2.21"></a><span id="l2.21">                   &amp;read.only.title.label;</span>
<a href="#l2.22"></a><span id="l2.22">                 &lt;/html:th&gt;</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineminus">-                &lt;html:td&gt;</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-                  &lt;html:input class=&quot;item-title selectable-label plain input-inline&quot;</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineminus">-                              readonly=&quot;readonly&quot;/&gt;</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineplus">+                &lt;html:td class=&quot;item-title&quot;&gt;</span>
<a href="#l2.27"></a><span id="l2.27">                 &lt;/html:td&gt;</span>
<a href="#l2.28"></a><span id="l2.28">               &lt;/html:tr&gt;</span>
<a href="#l2.29"></a><span id="l2.29">               &lt;html:tr class=&quot;calendar-row&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l2.30"></a><span id="l2.30">                 &lt;html:th&gt;</span>
<a href="#l2.31"></a><span id="l2.31">                   &amp;read.only.calendar.label;</span>
<a href="#l2.32"></a><span id="l2.32">                 &lt;/html:th&gt;</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-                &lt;html:td&gt;</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-                  &lt;html:input class=&quot;item-calendar selectable-label plain input-inline&quot;</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-                              readonly=&quot;readonly&quot;/&gt;</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineplus">+                &lt;html:td class=&quot;item-calendar&quot;&gt;</span>
<a href="#l2.37"></a><span id="l2.37">                 &lt;/html:td&gt;</span>
<a href="#l2.38"></a><span id="l2.38">               &lt;/html:tr&gt;</span>
<a href="#l2.39"></a><span id="l2.39">               &lt;html:tr class=&quot;item-date-row&quot;&gt;</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineminus">-                &lt;html:th&gt;</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineminus">-                  &lt;label class=&quot;item-start-row-label&quot;</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineplus">+                &lt;html:th class=&quot;item-start-row-label&quot;</span>
<a href="#l2.43"></a><span id="l2.43">                          taskStartLabel=&quot;&amp;read.only.task.start.label;&quot;</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineminus">-                         eventStartLabel=&quot;&amp;read.only.event.start.label;&quot;/&gt;</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineplus">+                         eventStartLabel=&quot;&amp;read.only.event.start.label;&quot;&gt;</span>
<a href="#l2.46"></a><span id="l2.46">                 &lt;/html:th&gt;</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineminus">-                &lt;html:td&gt;</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineminus">-                  &lt;html:input class=&quot;item-date-row-start-date selectable-label plain input-inline&quot;</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineminus">-                              readonly=&quot;readonly&quot;/&gt;</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineplus">+                &lt;html:td class=&quot;item-date-row-start-date&quot;&gt;</span>
<a href="#l2.51"></a><span id="l2.51">                 &lt;/html:td&gt;</span>
<a href="#l2.52"></a><span id="l2.52">               &lt;/html:tr&gt;</span>
<a href="#l2.53"></a><span id="l2.53">               &lt;html:tr class=&quot;item-date-row&quot;&gt;</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineminus">-                &lt;html:th&gt;</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineminus">-                  &lt;label class=&quot;item-due-row-label&quot;</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineplus">+                &lt;html:th class=&quot;item-due-row-label&quot;</span>
<a href="#l2.57"></a><span id="l2.57">                          taskDueLabel=&quot;&amp;read.only.task.due.label;&quot;</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineminus">-                         eventEndLabel=&quot;&amp;read.only.event.end.label;&quot;/&gt;</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineplus">+                         eventEndLabel=&quot;&amp;read.only.event.end.label;&quot;&gt;</span>
<a href="#l2.60"></a><span id="l2.60">                 &lt;/html:th&gt;</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-                &lt;html:td&gt;</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineminus">-                  &lt;html:input class=&quot;item-date-row-end-date selectable-label plain input-inline&quot;</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineminus">-                              readonly=&quot;readonly&quot;/&gt;</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineplus">+                &lt;html:td class=&quot;item-date-row-end-date&quot;&gt;</span>
<a href="#l2.65"></a><span id="l2.65">                 &lt;/html:td&gt;</span>
<a href="#l2.66"></a><span id="l2.66">               &lt;/html:tr&gt;</span>
<a href="#l2.67"></a><span id="l2.67">               &lt;html:tr class=&quot;repeat-row&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l2.68"></a><span id="l2.68">                 &lt;html:th&gt;</span>
<a href="#l2.69"></a><span id="l2.69">                   &amp;read.only.repeat.label;</span>
<a href="#l2.70"></a><span id="l2.70">                 &lt;/html:th&gt;</span>
<a href="#l2.71"></a><span id="l2.71">                 &lt;html:td&gt;</span>
<a href="#l2.72"></a><span id="l2.72">                   &lt;box class=&quot;repeat-details&quot; orient=&quot;vertical&quot;&gt;</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineminus">-                    &lt;html:input readonly=&quot;readonly&quot; class=&quot;selectable-label plain input-inline&quot;/&gt;</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineplus">+                    &lt;html:div/&gt;</span>
<a href="#l2.75"></a><span id="l2.75">                   &lt;/box&gt;</span>
<a href="#l2.76"></a><span id="l2.76">                 &lt;/html:td&gt;</span>
<a href="#l2.77"></a><span id="l2.77">               &lt;/html:tr&gt;</span>
<a href="#l2.78"></a><span id="l2.78">               &lt;html:tr class=&quot;location-row&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l2.79"></a><span id="l2.79">                 &lt;html:th&gt;</span>
<a href="#l2.80"></a><span id="l2.80">                   &amp;read.only.location.label;</span>
<a href="#l2.81"></a><span id="l2.81">                 &lt;/html:th&gt;</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineminus">-                &lt;html:td&gt;</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineminus">-                  &lt;html:input class=&quot;item-location selectable-label plain input-inline&quot;</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineminus">-                              readonly=&quot;readonly&quot;/&gt;</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineplus">+                &lt;html:td class=&quot;item-location&quot;&gt;</span>
<a href="#l2.86"></a><span id="l2.86">                 &lt;/html:td&gt;</span>
<a href="#l2.87"></a><span id="l2.87">               &lt;/html:tr&gt;</span>
<a href="#l2.88"></a><span id="l2.88">               &lt;html:tr class=&quot;category-row&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l2.89"></a><span id="l2.89">                 &lt;html:th&gt;</span>
<a href="#l2.90"></a><span id="l2.90">                   &amp;read.only.category.label;</span>
<a href="#l2.91"></a><span id="l2.91">                 &lt;/html:th&gt;</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineminus">-                &lt;html:td&gt;</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineminus">-                  &lt;label class=&quot;item-category&quot;/&gt;</span>
<a href="#l2.94"></a><span id="l2.94" class="difflineplus">+                &lt;html:td class=&quot;item-category&quot;&gt;</span>
<a href="#l2.95"></a><span id="l2.95">                 &lt;/html:td&gt;</span>
<a href="#l2.96"></a><span id="l2.96">               &lt;/html:tr&gt;</span>
<a href="#l2.97"></a><span id="l2.97">               &lt;html:tr class=&quot;organizer-row item-attendees-row&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l2.98"></a><span id="l2.98" class="difflineminus">-                &lt;html:th&gt;</span>
<a href="#l2.99"></a><span id="l2.99" class="difflineplus">+                &lt;html:th class=&quot;organizer-label&quot;&gt;</span>
<a href="#l2.100"></a><span id="l2.100">                   &amp;read.only.organizer.label;</span>
<a href="#l2.101"></a><span id="l2.101">                 &lt;/html:th&gt;</span>
<a href="#l2.102"></a><span id="l2.102">                 &lt;html:td&gt;</span>
<a href="#l2.103"></a><span id="l2.103">                   &lt;hbox class=&quot;item-organizer-cell&quot;&gt;</span>
<a href="#l2.104"></a><span id="l2.104">                     &lt;img class=&quot;itip-icon&quot;/&gt;</span>
<a href="#l2.105"></a><span id="l2.105">                     &lt;label class=&quot;item-organizer-label text-link item-attendees-cell-label&quot;</span>
<a href="#l2.106"></a><span id="l2.106">                            crop=&quot;end&quot;/&gt;</span>
<a href="#l2.107"></a><span id="l2.107">                     &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l2.108"></a><span id="l2.108">                   &lt;/hbox&gt;</span>
<a href="#l2.109"></a><span id="l2.109">                 &lt;/html:td&gt;</span>
<a href="#l2.110"></a><span id="l2.110">               &lt;/html:tr&gt;</span>
<a href="#l2.111"></a><span id="l2.111">               &lt;html:tr class=&quot;status-row&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l2.112"></a><span id="l2.112">                 &lt;html:th&gt;</span>
<a href="#l2.113"></a><span id="l2.113">                   &amp;task.status.label;</span>
<a href="#l2.114"></a><span id="l2.114">                 &lt;/html:th&gt;</span>
<a href="#l2.115"></a><span id="l2.115">                 &lt;html:td class=&quot;status-row-td&quot;&gt;</span>
<a href="#l2.116"></a><span id="l2.116" class="difflineminus">-                  &lt;label value=&quot;&amp;newevent.status.tentative.label;&quot; hidden=&quot;true&quot; status=&quot;TENTATIVE&quot;/&gt;</span>
<a href="#l2.117"></a><span id="l2.117" class="difflineminus">-                  &lt;label value=&quot;&amp;newevent.status.confirmed.label;&quot; hidden=&quot;true&quot; status=&quot;CONFIRMED&quot;/&gt;</span>
<a href="#l2.118"></a><span id="l2.118" class="difflineminus">-                  &lt;label value=&quot;&amp;newevent.eventStatus.cancelled.label;&quot; hidden=&quot;true&quot; status=&quot;CANCELLED&quot;/&gt;</span>
<a href="#l2.119"></a><span id="l2.119" class="difflineminus">-                  &lt;label value=&quot;&amp;newevent.todoStatus.cancelled.label;&quot; hidden=&quot;true&quot; status=&quot;CANCELLED&quot;/&gt;</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineminus">-                  &lt;label value=&quot;&amp;newevent.status.needsaction.label;&quot; hidden=&quot;true&quot; status=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l2.121"></a><span id="l2.121" class="difflineminus">-                  &lt;label value=&quot;&amp;newevent.status.inprogress.label;&quot; hidden=&quot;true&quot; status=&quot;IN-PROCESS&quot;/&gt;</span>
<a href="#l2.122"></a><span id="l2.122" class="difflineminus">-                  &lt;label value=&quot;&amp;newevent.status.completed.label;&quot; hidden=&quot;true&quot; status=&quot;COMPLETED&quot;/&gt;</span>
<a href="#l2.123"></a><span id="l2.123" class="difflineplus">+                  &lt;html:div hidden=&quot;true&quot; status=&quot;TENTATIVE&quot;&gt;&amp;newevent.status.tentative.label;&lt;/html:div&gt;</span>
<a href="#l2.124"></a><span id="l2.124" class="difflineplus">+                  &lt;html:div hidden=&quot;true&quot; status=&quot;CONFIRMED&quot;&gt;&amp;newevent.status.confirmed.label;&lt;/html:div&gt;</span>
<a href="#l2.125"></a><span id="l2.125" class="difflineplus">+                  &lt;html:div hidden=&quot;true&quot; status=&quot;CANCELLED&quot;&gt;&amp;newevent.eventStatus.cancelled.label;&lt;/html:div&gt;</span>
<a href="#l2.126"></a><span id="l2.126" class="difflineplus">+                  &lt;html:div hidden=&quot;true&quot; status=&quot;CANCELLED&quot;&gt;&amp;newevent.todoStatus.cancelled.label;&lt;/html:div&gt;</span>
<a href="#l2.127"></a><span id="l2.127" class="difflineplus">+                  &lt;html:div hidden=&quot;true&quot; status=&quot;NEEDS-ACTION&quot;&gt;&amp;newevent.status.needsaction.label;&lt;/html:div&gt;</span>
<a href="#l2.128"></a><span id="l2.128" class="difflineplus">+                  &lt;html:div hidden=&quot;true&quot; status=&quot;IN-PROCESS&quot;&gt;&amp;newevent.status.inprogress.label;&lt;/html:div&gt;</span>
<a href="#l2.129"></a><span id="l2.129" class="difflineplus">+                  &lt;html:div hidden=&quot;true&quot; status=&quot;COMPLETED&quot;&gt;&amp;newevent.status.completed.label;&lt;/html:div&gt;</span>
<a href="#l2.130"></a><span id="l2.130">                 &lt;/html:td&gt;</span>
<a href="#l2.131"></a><span id="l2.131">               &lt;/html:tr&gt;</span>
<a href="#l2.132"></a><span id="l2.132">               &lt;separator class=&quot;groove&quot; flex=&quot;1&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l2.133"></a><span id="l2.133">               &lt;html:tr class=&quot;reminder-row&quot; hidden=&quot;hidden&quot;&gt;</span>
<a href="#l2.134"></a><span id="l2.134">                 &lt;html:th&gt;</span>
<a href="#l2.135"></a><span id="l2.135">                   &amp;read.only.reminder.label;</span>
<a href="#l2.136"></a><span id="l2.136">                 &lt;/html:th&gt;</span>
<a href="#l2.137"></a><span id="l2.137">                 &lt;html:td&gt;</span>
<a href="#l2.138"></a><span id="l2.138" class="difflineat">@@ -229,17 +214,17 @@</span>
<a href="#l2.139"></a><span id="l2.139">                              disable-on-readonly=&quot;true&quot;</span>
<a href="#l2.140"></a><span id="l2.140">                              flex=&quot;1&quot;</span>
<a href="#l2.141"></a><span id="l2.141">                              hyperlink=&quot;true&quot;/&gt;</span>
<a href="#l2.142"></a><span id="l2.142">                     &lt;/hbox&gt;</span>
<a href="#l2.143"></a><span id="l2.143">                   &lt;/hbox&gt;</span>
<a href="#l2.144"></a><span id="l2.144">                 &lt;/html:td&gt;</span>
<a href="#l2.145"></a><span id="l2.145">               &lt;/html:tr&gt;</span>
<a href="#l2.146"></a><span id="l2.146">               &lt;html:tr class=&quot;attachments-row item-attachments-row&quot; hidden=&quot;hidden&quot; &gt;</span>
<a href="#l2.147"></a><span id="l2.147" class="difflineminus">-                &lt;html:th&gt;</span>
<a href="#l2.148"></a><span id="l2.148" class="difflineplus">+                &lt;html:th class=&quot;attachments-label&quot;&gt;</span>
<a href="#l2.149"></a><span id="l2.149">                   &amp;read.only.attachments.label;</span>
<a href="#l2.150"></a><span id="l2.150">                 &lt;/html:th&gt;</span>
<a href="#l2.151"></a><span id="l2.151">                 &lt;html:td&gt;</span>
<a href="#l2.152"></a><span id="l2.152">                   &lt;vbox class=&quot;item-attachment-cell&quot;&gt;</span>
<a href="#l2.153"></a><span id="l2.153">                     &lt;!-- attachment box template --&gt;</span>
<a href="#l2.154"></a><span id="l2.154">                     &lt;hbox class=&quot;attachment-template&quot;</span>
<a href="#l2.155"></a><span id="l2.155">                           hidden=&quot;true&quot;</span>
<a href="#l2.156"></a><span id="l2.156">                           align=&quot;center&quot;</span>
<a href="#l2.157"></a><span id="l2.157" class="difflineat">@@ -248,18 +233,16 @@</span>
<a href="#l2.158"></a><span id="l2.158">                       &lt;label class=&quot;text-link item-attachment-cell-label&quot;</span>
<a href="#l2.159"></a><span id="l2.159">                              crop=&quot;end&quot;</span>
<a href="#l2.160"></a><span id="l2.160">                              flex=&quot;1&quot; /&gt;</span>
<a href="#l2.161"></a><span id="l2.161">                     &lt;/hbox&gt;</span>
<a href="#l2.162"></a><span id="l2.162">                   &lt;/vbox&gt;</span>
<a href="#l2.163"></a><span id="l2.163">                 &lt;/html:td&gt;</span>
<a href="#l2.164"></a><span id="l2.164">               &lt;/html:tr&gt;</span>
<a href="#l2.165"></a><span id="l2.165">             &lt;/html:table&gt;</span>
<a href="#l2.166"></a><span id="l2.166" class="difflineminus">-            &lt;/hbox&gt;</span>
<a href="#l2.167"></a><span id="l2.167" class="difflineminus">-            &lt;/box&gt;</span>
<a href="#l2.168"></a><span id="l2.168"> </span>
<a href="#l2.169"></a><span id="l2.169">             &lt;!-- attendee box template --&gt;</span>
<a href="#l2.170"></a><span id="l2.170">             &lt;vbox class=&quot;item-attendees-box-template&quot;&gt;</span>
<a href="#l2.171"></a><span id="l2.171">               &lt;hbox flex=&quot;1&quot; class=&quot;item-attendees-row&quot; equalsize=&quot;always&quot; hidden=&quot;true&quot;&gt;</span>
<a href="#l2.172"></a><span id="l2.172">                 &lt;box class=&quot;item-attendees-cell&quot; hidden=&quot;true&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l2.173"></a><span id="l2.173">                   &lt;img class=&quot;itip-icon&quot;/&gt;</span>
<a href="#l2.174"></a><span id="l2.174">                   &lt;label class=&quot;item-attendees-cell-label&quot; crop=&quot;end&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l2.175"></a><span id="l2.175">                 &lt;/box&gt;</span>
<a href="#l2.176"></a><span id="l2.176" class="difflineat">@@ -394,55 +377,53 @@</span>
<a href="#l2.177"></a><span id="l2.177">     updateItemDetails() {</span>
<a href="#l2.178"></a><span id="l2.178">       if (!this.item) {</span>
<a href="#l2.179"></a><span id="l2.179">         // Setup not complete, do nothing for now.</span>
<a href="#l2.180"></a><span id="l2.180">         return;</span>
<a href="#l2.181"></a><span id="l2.181">       }</span>
<a href="#l2.182"></a><span id="l2.182">       let item = this.item;</span>
<a href="#l2.183"></a><span id="l2.183">       let isToDoItem = this.mIsToDoItem;</span>
<a href="#l2.184"></a><span id="l2.184"> </span>
<a href="#l2.185"></a><span id="l2.185" class="difflineminus">-      this.querySelector(&quot;.item-title&quot;).value = item.title;</span>
<a href="#l2.186"></a><span id="l2.186" class="difflineplus">+      this.querySelector(&quot;.item-title&quot;).textContent = item.title;</span>
<a href="#l2.187"></a><span id="l2.187"> </span>
<a href="#l2.188"></a><span id="l2.188">       if (this.calendar) {</span>
<a href="#l2.189"></a><span id="l2.189">         this.querySelector(&quot;.calendar-row&quot;).removeAttribute(&quot;hidden&quot;);</span>
<a href="#l2.190"></a><span id="l2.190" class="difflineminus">-        this.querySelector(&quot;.item-calendar&quot;).value = this.calendar.name;</span>
<a href="#l2.191"></a><span id="l2.191" class="difflineplus">+        this.querySelector(&quot;.item-calendar&quot;).textContent = this.calendar.name;</span>
<a href="#l2.192"></a><span id="l2.192">       }</span>
<a href="#l2.193"></a><span id="l2.193"> </span>
<a href="#l2.194"></a><span id="l2.194">       // Show start date.</span>
<a href="#l2.195"></a><span id="l2.195">       let itemStartDate = item[cal.dtz.startDateProp(item)];</span>
<a href="#l2.196"></a><span id="l2.196"> </span>
<a href="#l2.197"></a><span id="l2.197">       let itemStartRowLabel = this.querySelector(&quot;.item-start-row-label&quot;);</span>
<a href="#l2.198"></a><span id="l2.198">       let itemDateRowStartDate = this.querySelector(&quot;.item-date-row-start-date&quot;);</span>
<a href="#l2.199"></a><span id="l2.199"> </span>
<a href="#l2.200"></a><span id="l2.200">       itemStartRowLabel.style.visibility = itemStartDate ? &quot;visible&quot; : &quot;collapse&quot;;</span>
<a href="#l2.201"></a><span id="l2.201">       itemDateRowStartDate.style.visibility = itemStartDate ? &quot;visible&quot; : &quot;collapse&quot;;</span>
<a href="#l2.202"></a><span id="l2.202"> </span>
<a href="#l2.203"></a><span id="l2.203">       if (itemStartDate) {</span>
<a href="#l2.204"></a><span id="l2.204" class="difflineminus">-        let itemStartLabelValue = itemStartRowLabel.getAttribute(</span>
<a href="#l2.205"></a><span id="l2.205" class="difflineplus">+        itemStartRowLabel.textContent = itemStartRowLabel.getAttribute(</span>
<a href="#l2.206"></a><span id="l2.206">           isToDoItem ? &quot;taskStartLabel&quot; : &quot;eventStartLabel&quot;</span>
<a href="#l2.207"></a><span id="l2.207">         );</span>
<a href="#l2.208"></a><span id="l2.208" class="difflineminus">-        itemStartRowLabel.setAttribute(&quot;value&quot;, itemStartLabelValue);</span>
<a href="#l2.209"></a><span id="l2.209" class="difflineminus">-        itemDateRowStartDate.value = cal.dtz.getStringForDateTime(itemStartDate);</span>
<a href="#l2.210"></a><span id="l2.210" class="difflineplus">+        itemDateRowStartDate.textContent = cal.dtz.getStringForDateTime(itemStartDate);</span>
<a href="#l2.211"></a><span id="l2.211">       }</span>
<a href="#l2.212"></a><span id="l2.212"> </span>
<a href="#l2.213"></a><span id="l2.213">       // Show due date / end date.</span>
<a href="#l2.214"></a><span id="l2.214">       let itemDueDate = item[cal.dtz.endDateProp(item)];</span>
<a href="#l2.215"></a><span id="l2.215"> </span>
<a href="#l2.216"></a><span id="l2.216">       let itemDueRowLabel = this.querySelector(&quot;.item-due-row-label&quot;);</span>
<a href="#l2.217"></a><span id="l2.217">       let itemDateRowEndDate = this.querySelector(&quot;.item-date-row-end-date&quot;);</span>
<a href="#l2.218"></a><span id="l2.218"> </span>
<a href="#l2.219"></a><span id="l2.219">       itemDueRowLabel.style.visibility = itemDueDate ? &quot;visible&quot; : &quot;collapse&quot;;</span>
<a href="#l2.220"></a><span id="l2.220">       itemDateRowEndDate.style.visibility = itemDueDate ? &quot;visible&quot; : &quot;collapse&quot;;</span>
<a href="#l2.221"></a><span id="l2.221"> </span>
<a href="#l2.222"></a><span id="l2.222">       if (itemDueDate) {</span>
<a href="#l2.223"></a><span id="l2.223" class="difflineminus">-        let itemDueLabelValue = itemDueRowLabel.getAttribute(</span>
<a href="#l2.224"></a><span id="l2.224" class="difflineplus">+        itemDueRowLabel.textContent = itemDueRowLabel.getAttribute(</span>
<a href="#l2.225"></a><span id="l2.225">           isToDoItem ? &quot;taskDueLabel&quot; : &quot;eventEndLabel&quot;</span>
<a href="#l2.226"></a><span id="l2.226">         );</span>
<a href="#l2.227"></a><span id="l2.227" class="difflineminus">-        itemDueRowLabel.setAttribute(&quot;value&quot;, itemDueLabelValue);</span>
<a href="#l2.228"></a><span id="l2.228" class="difflineminus">-        itemDateRowEndDate.value = cal.dtz.getStringForDateTime(itemDueDate);</span>
<a href="#l2.229"></a><span id="l2.229" class="difflineplus">+        itemDateRowEndDate.textContent = cal.dtz.getStringForDateTime(itemDueDate);</span>
<a href="#l2.230"></a><span id="l2.230">       }</span>
<a href="#l2.231"></a><span id="l2.231"> </span>
<a href="#l2.232"></a><span id="l2.232">       // Show reminder if this item is *not* readonly.</span>
<a href="#l2.233"></a><span id="l2.233">       // This case happens for example if this is an invitation.</span>
<a href="#l2.234"></a><span id="l2.234">       if (!this.readOnly) {</span>
<a href="#l2.235"></a><span id="l2.235">         let argCalendar = item.calendar;</span>
<a href="#l2.236"></a><span id="l2.236"> </span>
<a href="#l2.237"></a><span id="l2.237">         let supportsReminders =</span>
<a href="#l2.238"></a><span id="l2.238" class="difflineat">@@ -472,17 +453,17 @@</span>
<a href="#l2.239"></a><span id="l2.239">       if (location) {</span>
<a href="#l2.240"></a><span id="l2.240">         this.updateLocation(location);</span>
<a href="#l2.241"></a><span id="l2.241">       }</span>
<a href="#l2.242"></a><span id="l2.242"> </span>
<a href="#l2.243"></a><span id="l2.243">       let categories = item.getCategories();</span>
<a href="#l2.244"></a><span id="l2.244">       if (categories.length &gt; 0) {</span>
<a href="#l2.245"></a><span id="l2.245">         this.querySelector(&quot;.category-row&quot;).removeAttribute(&quot;hidden&quot;);</span>
<a href="#l2.246"></a><span id="l2.246">         // TODO: this join is unfriendly for l10n (categories.join(&quot;, &quot;)).</span>
<a href="#l2.247"></a><span id="l2.247" class="difflineminus">-        this.querySelector(&quot;.item-category&quot;).value = categories.join(&quot;, &quot;);</span>
<a href="#l2.248"></a><span id="l2.248" class="difflineplus">+        this.querySelector(&quot;.item-category&quot;).textContent = categories.join(&quot;, &quot;);</span>
<a href="#l2.249"></a><span id="l2.249">       }</span>
<a href="#l2.250"></a><span id="l2.250"> </span>
<a href="#l2.251"></a><span id="l2.251">       if (item.organizer &amp;&amp; item.organizer.id) {</span>
<a href="#l2.252"></a><span id="l2.252">         this.updateOrganizer(item.organizer);</span>
<a href="#l2.253"></a><span id="l2.253">       }</span>
<a href="#l2.254"></a><span id="l2.254"> </span>
<a href="#l2.255"></a><span id="l2.255">       let status = item.getProperty(&quot;STATUS&quot;);</span>
<a href="#l2.256"></a><span id="l2.256">       if (status &amp;&amp; status.length) {</span>
<a href="#l2.257"></a><span id="l2.257" class="difflineat">@@ -547,17 +528,17 @@</span>
<a href="#l2.258"></a><span id="l2.258"> </span>
<a href="#l2.259"></a><span id="l2.259">       while (repeatDetails.children.length &gt; lines.length) {</span>
<a href="#l2.260"></a><span id="l2.260">         repeatDetails.lastChild.remove();</span>
<a href="#l2.261"></a><span id="l2.261">       }</span>
<a href="#l2.262"></a><span id="l2.262">       while (repeatDetails.children.length &lt; lines.length) {</span>
<a href="#l2.263"></a><span id="l2.263">         repeatDetails.appendChild(repeatDetails.firstElementChild.cloneNode(true));</span>
<a href="#l2.264"></a><span id="l2.264">       }</span>
<a href="#l2.265"></a><span id="l2.265">       for (let i = 0; i &lt; lines.length; i++) {</span>
<a href="#l2.266"></a><span id="l2.266" class="difflineminus">-        repeatDetails.children[i].value = lines[i];</span>
<a href="#l2.267"></a><span id="l2.267" class="difflineplus">+        repeatDetails.children[i].textContent = lines[i];</span>
<a href="#l2.268"></a><span id="l2.268">         repeatDetails.children[i].setAttribute(&quot;tooltiptext&quot;, details);</span>
<a href="#l2.269"></a><span id="l2.269">       }</span>
<a href="#l2.270"></a><span id="l2.270">     }</span>
<a href="#l2.271"></a><span id="l2.271"> </span>
<a href="#l2.272"></a><span id="l2.272">     /**</span>
<a href="#l2.273"></a><span id="l2.273">      * Updates the attendee listbox, displaying all attendees invited to the item.</span>
<a href="#l2.274"></a><span id="l2.274">      */</span>
<a href="#l2.275"></a><span id="l2.275">     updateAttendees(item) {</span>
<a href="#l2.276"></a><span id="l2.276" class="difflineat">@@ -596,17 +577,17 @@</span>
<a href="#l2.277"></a><span id="l2.277"> </span>
<a href="#l2.278"></a><span id="l2.278">         let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l2.279"></a><span id="l2.279">         label.setAttribute(&quot;context&quot;, &quot;location-link-context-menu&quot;);</span>
<a href="#l2.280"></a><span id="l2.280">         label.textContent = location;</span>
<a href="#l2.281"></a><span id="l2.281">         link.appendChild(label);</span>
<a href="#l2.282"></a><span id="l2.282"> </span>
<a href="#l2.283"></a><span id="l2.283">         itemLocation.replaceWith(link);</span>
<a href="#l2.284"></a><span id="l2.284">       } else {</span>
<a href="#l2.285"></a><span id="l2.285" class="difflineminus">-        itemLocation.value = location;</span>
<a href="#l2.286"></a><span id="l2.286" class="difflineplus">+        itemLocation.textContent = location;</span>
<a href="#l2.287"></a><span id="l2.287">       }</span>
<a href="#l2.288"></a><span id="l2.288">     }</span>
<a href="#l2.289"></a><span id="l2.289"> </span>
<a href="#l2.290"></a><span id="l2.290">     /**</span>
<a href="#l2.291"></a><span id="l2.291">      * Handle window resize event. Rearrange attendees.</span>
<a href="#l2.292"></a><span id="l2.292">      */</span>
<a href="#l2.293"></a><span id="l2.293">     onWindowResize() {</span>
<a href="#l2.294"></a><span id="l2.294">       let { attendeesInRow, maxLabelWidth } = rearrangeAttendees(</span>
<a href="#l2.295"></a><span id="l2.295" class="difflineat">@@ -668,17 +649,17 @@</span>
<a href="#l2.296"></a><span id="l2.296">       let statusRow = this.querySelector(&quot;.status-row&quot;);</span>
<a href="#l2.297"></a><span id="l2.297">       let statusRowData = this.querySelector(&quot;.status-row-td&quot;);</span>
<a href="#l2.298"></a><span id="l2.298"> </span>
<a href="#l2.299"></a><span id="l2.299">       for (let i = 0; i &lt; statusRowData.children.length; i++) {</span>
<a href="#l2.300"></a><span id="l2.300">         if (statusRowData.children[i].getAttribute(&quot;status&quot;) == status) {</span>
<a href="#l2.301"></a><span id="l2.301">           statusRow.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l2.302"></a><span id="l2.302"> </span>
<a href="#l2.303"></a><span id="l2.303">           if (status == &quot;CANCELLED&quot; &amp;&amp; isToDoItem) {</span>
<a href="#l2.304"></a><span id="l2.304" class="difflineminus">-            // There are two labels for CANCELLED, the second one is for</span>
<a href="#l2.305"></a><span id="l2.305" class="difflineplus">+            // There are two status elements for CANCELLED, the second one is for</span>
<a href="#l2.306"></a><span id="l2.306">             // todo items. Increment the counter here.</span>
<a href="#l2.307"></a><span id="l2.307">             i++;</span>
<a href="#l2.308"></a><span id="l2.308">           }</span>
<a href="#l2.309"></a><span id="l2.309">           statusRowData.children[i].removeAttribute(&quot;hidden&quot;);</span>
<a href="#l2.310"></a><span id="l2.310">           break;</span>
<a href="#l2.311"></a><span id="l2.311">         }</span>
<a href="#l2.312"></a><span id="l2.312">       }</span>
<a href="#l2.313"></a><span id="l2.313">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/themes/common/dialogs/calendar-event-dialog.css</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/themes/common/dialogs/calendar-event-dialog.css</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -210,17 +210,17 @@ label.label {</span>
<a href="#l3.4"></a><span id="l3.4">   margin-inline-start: 0;</span>
<a href="#l3.5"></a><span id="l3.5">   padding-inline-start: 4px;</span>
<a href="#l3.6"></a><span id="l3.6"> }</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> .item-location-link {</span>
<a href="#l3.9"></a><span id="l3.9">   padding-inline-start: 0;</span>
<a href="#l3.10"></a><span id="l3.10"> }</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-.item-location-link &gt; label{</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+.item-location-link &gt; label {</span>
<a href="#l3.14"></a><span id="l3.14">   cursor: pointer;</span>
<a href="#l3.15"></a><span id="l3.15"> }</span>
<a href="#l3.16"></a><span id="l3.16"> </span>
<a href="#l3.17"></a><span id="l3.17"> #todo-status,</span>
<a href="#l3.18"></a><span id="l3.18"> #item-repeat,</span>
<a href="#l3.19"></a><span id="l3.19"> .item-alarm {</span>
<a href="#l3.20"></a><span id="l3.20">   margin: 0;</span>
<a href="#l3.21"></a><span id="l3.21"> }</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineat">@@ -814,28 +814,39 @@ calendar-event-freebusy-day &gt; box {</span>
<a href="#l3.23"></a><span id="l3.23"> </span>
<a href="#l3.24"></a><span id="l3.24"> #calendar-summary-dialog,</span>
<a href="#l3.25"></a><span id="l3.25"> #calendar-event-summary-dialog,</span>
<a href="#l3.26"></a><span id="l3.26"> #calendar-task-summary-dialog,</span>
<a href="#l3.27"></a><span id="l3.27"> #calendar-ics-file-dialog {</span>
<a href="#l3.28"></a><span id="l3.28">   min-width: 35em;</span>
<a href="#l3.29"></a><span id="l3.29"> }</span>
<a href="#l3.30"></a><span id="l3.30"> </span>
<a href="#l3.31"></a><span id="l3.31" class="difflineplus">+#calendar-summary-dialog .item-location,</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+#calendar-summary-dialog .item-title,</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineplus">+#calendar-event-summary-dialog .item-location,</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+#calendar-event-summary-dialog .item-title,</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineplus">+#calendar-task-summary-dialog .item-location,</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineplus">+#calendar-task-summary-dialog .item-title,</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineplus">+#calendar-ics-file-dialog .item-location,</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineplus">+#calendar-ics-file-dialog .item-title {</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineplus">+  padding-inline-start: 1px;</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineplus">+}</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineplus">+</span>
<a href="#l3.42"></a><span id="l3.42"> #calendar-summary-dialog .item-attachment-cell,</span>
<a href="#l3.43"></a><span id="l3.43"> #calendar-event-summary-dialog .item-attachment-cell,</span>
<a href="#l3.44"></a><span id="l3.44"> #calendar-task-summary-dialog .item-attachment-cell,</span>
<a href="#l3.45"></a><span id="l3.45"> #calendar-ics-file-dialog .item-attachment-cell {</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineminus">-  margin-left: 6px;</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineplus">+  margin-left: 0px;</span>
<a href="#l3.48"></a><span id="l3.48"> }</span>
<a href="#l3.49"></a><span id="l3.49"> </span>
<a href="#l3.50"></a><span id="l3.50"> #calendar-summary-dialog .item-attachment-cell-label,</span>
<a href="#l3.51"></a><span id="l3.51"> #calendar-event-summary-dialog .item-attachment-cell-label,</span>
<a href="#l3.52"></a><span id="l3.52"> #calendar-task-summary-dialog .item-attachment-cell-label,</span>
<a href="#l3.53"></a><span id="l3.53"> #calendar-ics-file-dialog .item-attachment-cell-label {</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineminus">-  margin-left: 3px;</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineplus">+  margin-left: 0px;</span>
<a href="#l3.56"></a><span id="l3.56"> }</span>
<a href="#l3.57"></a><span id="l3.57"> </span>
<a href="#l3.58"></a><span id="l3.58"> #calendar-summary-dialog .item-description-wrapper,</span>
<a href="#l3.59"></a><span id="l3.59"> #calendar-event-summary-dialog .item-description-wrapper,</span>
<a href="#l3.60"></a><span id="l3.60"> #calendar-task-summary-dialog .item-description-wrapper,</span>
<a href="#l3.61"></a><span id="l3.61"> #calendar-ics-file-dialog .item-description-wrapper {</span>
<a href="#l3.62"></a><span id="l3.62">   display: flex;</span>
<a href="#l3.63"></a><span id="l3.63"> }</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineat">@@ -845,24 +856,16 @@ calendar-event-freebusy-day &gt; box {</span>
<a href="#l3.65"></a><span id="l3.65"> #calendar-task-summary-dialog .item-description,</span>
<a href="#l3.66"></a><span id="l3.66"> #calendar-ics-file-dialog .item-description {</span>
<a href="#l3.67"></a><span id="l3.67">   width: 100%;</span>
<a href="#l3.68"></a><span id="l3.68">   box-sizing: border-box;</span>
<a href="#l3.69"></a><span id="l3.69">   min-height: 54px;</span>
<a href="#l3.70"></a><span id="l3.70">   margin: 2px 4px 0;</span>
<a href="#l3.71"></a><span id="l3.71"> }</span>
<a href="#l3.72"></a><span id="l3.72"> </span>
<a href="#l3.73"></a><span id="l3.73" class="difflineminus">-#calendar-summary-dialog .selectable-label,</span>
<a href="#l3.74"></a><span id="l3.74" class="difflineminus">-#calendar-event-summary-dialog .selectable-label,</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineminus">-#calendar-task-summary-dialog .selectable-label,</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineminus">-#calendar-ics-file-dialog .selectable-label {</span>
<a href="#l3.77"></a><span id="l3.77" class="difflineminus">-  background-color: inherit;</span>
<a href="#l3.78"></a><span id="l3.78" class="difflineminus">-  color: inherit;</span>
<a href="#l3.79"></a><span id="l3.79" class="difflineminus">-}</span>
<a href="#l3.80"></a><span id="l3.80" class="difflineminus">-</span>
<a href="#l3.81"></a><span id="l3.81"> #calendar-summary-dialog #item-start-row .headline,</span>
<a href="#l3.82"></a><span id="l3.82"> #calendar-event-summary-dialog #item-start-row .headline,</span>
<a href="#l3.83"></a><span id="l3.83"> #calendar-task-summary-dialog #item-start-row .headline,</span>
<a href="#l3.84"></a><span id="l3.84"> #calendar-ics-file-dialog #item-start-row .headline,</span>
<a href="#l3.85"></a><span id="l3.85"> #calendar-summary-dialog #item-end-row .headline,</span>
<a href="#l3.86"></a><span id="l3.86"> #calendar-event-summary-dialog #item-end-row .headline,</span>
<a href="#l3.87"></a><span id="l3.87"> #calendar-task-summary-dialog #item-end-row .headline,</span>
<a href="#l3.88"></a><span id="l3.88"> #calendar-ics-file-dialog #item-end-row .headline {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/test/browser/browser_import.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/test/browser/browser_import.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -57,73 +57,89 @@ add_task(async () =&gt; {</span>
<a href="#l4.4"></a><span id="l4.4">       let calendarMenu = doc.querySelector(&quot;#calendar-ics-file-dialog-calendar-menu&quot;);</span>
<a href="#l4.5"></a><span id="l4.5">       let calendarMenuItems = calendarMenu.querySelectorAll(&quot;menuitem&quot;);</span>
<a href="#l4.6"></a><span id="l4.6">       is(calendarMenu.value, &quot;Mozmill&quot;, &quot;correct calendar name is selected&quot;);</span>
<a href="#l4.7"></a><span id="l4.7">       is(calendarMenuItems.length, 1, &quot;exactly one calendar is in the calendars menu&quot;);</span>
<a href="#l4.8"></a><span id="l4.8">       is(calendarMenuItems[0].selected, true, &quot;calendar menu item is selected&quot;);</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10">       let items = doc.querySelectorAll(&quot;.calendar-ics-file-dialog-item-frame&quot;);</span>
<a href="#l4.11"></a><span id="l4.11">       is(items.length, 4, &quot;four calendar items are displayed&quot;);</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-      is(items[0].querySelector(&quot;.item-title&quot;).value, &quot;Event One&quot;, &quot;event 1 title is correct&quot;);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-      is(items[1].querySelector(&quot;.item-title&quot;).value, &quot;Event Two&quot;, &quot;event 2 title is correct&quot;);</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-      is(items[2].querySelector(&quot;.item-title&quot;).value, &quot;Event Three&quot;, &quot;event 3 title is correct&quot;);</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-      is(items[3].querySelector(&quot;.item-title&quot;).value, &quot;Event Four&quot;, &quot;event 4 title is correct&quot;);</span>
<a href="#l4.16"></a><span id="l4.16">       is(</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineminus">-        items[0].querySelector(&quot;.item-date-row-start-date&quot;).value,</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineminus">-        cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T150000&quot;)),</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineminus">-        &quot;event 1 start date is correct&quot;</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+        items[0].querySelector(&quot;.item-title&quot;).textContent,</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineplus">+        &quot;Event One&quot;,</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineplus">+        &quot;event 1 title should be correct&quot;</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineplus">+      );</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineplus">+      is(</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineplus">+        items[1].querySelector(&quot;.item-title&quot;).textContent,</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineplus">+        &quot;Event Two&quot;,</span>
<a href="#l4.27"></a><span id="l4.27" class="difflineplus">+        &quot;event 2 title should be correct&quot;</span>
<a href="#l4.28"></a><span id="l4.28">       );</span>
<a href="#l4.29"></a><span id="l4.29">       is(</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineminus">-        items[0].querySelector(&quot;.item-date-row-end-date&quot;).value,</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">-        cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T160000&quot;)),</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineminus">-        &quot;event 1 end date is correct&quot;</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineplus">+        items[2].querySelector(&quot;.item-title&quot;).textContent,</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineplus">+        &quot;Event Three&quot;,</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineplus">+        &quot;event 3 title should be correct&quot;</span>
<a href="#l4.36"></a><span id="l4.36">       );</span>
<a href="#l4.37"></a><span id="l4.37">       is(</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineminus">-        items[1].querySelector(&quot;.item-date-row-start-date&quot;).value,</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-        cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T160000&quot;)),</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-        &quot;event 2 start date is correct&quot;</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineplus">+        items[3].querySelector(&quot;.item-title&quot;).textContent,</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineplus">+        &quot;Event Four&quot;,</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineplus">+        &quot;event 4 title should be correct&quot;</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineplus">+      );</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineplus">+      is(</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineplus">+        items[0].querySelector(&quot;.item-date-row-start-date&quot;).textContent,</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineplus">+        cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T150000&quot;)),</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineplus">+        &quot;event 1 start date should be correct&quot;</span>
<a href="#l4.49"></a><span id="l4.49">       );</span>
<a href="#l4.50"></a><span id="l4.50">       is(</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineminus">-        items[1].querySelector(&quot;.item-date-row-end-date&quot;).value,</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineminus">-        cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T170000&quot;)),</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineminus">-        &quot;event 2 end date is correct&quot;</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineplus">+        items[0].querySelector(&quot;.item-date-row-end-date&quot;).textContent,</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineplus">+        cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T160000&quot;)),</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineplus">+        &quot;event 1 end date should be correct&quot;</span>
<a href="#l4.57"></a><span id="l4.57">       );</span>
<a href="#l4.58"></a><span id="l4.58">       is(</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineminus">-        items[2].querySelector(&quot;.item-date-row-start-date&quot;).value,</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineplus">+        items[1].querySelector(&quot;.item-date-row-start-date&quot;).textContent,</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineplus">+        cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T160000&quot;)),</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineplus">+        &quot;event 2 start date should be correct&quot;</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineplus">+      );</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineplus">+      is(</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineplus">+        items[1].querySelector(&quot;.item-date-row-end-date&quot;).textContent,</span>
<a href="#l4.66"></a><span id="l4.66">         cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T170000&quot;)),</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineminus">-        &quot;event 3 start date is correct&quot;</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineplus">+        &quot;event 2 end date should be correct&quot;</span>
<a href="#l4.69"></a><span id="l4.69">       );</span>
<a href="#l4.70"></a><span id="l4.70">       is(</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineminus">-        items[2].querySelector(&quot;.item-date-row-end-date&quot;).value,</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineminus">-        cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T180000&quot;)),</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineminus">-        &quot;event 3 end date is correct&quot;</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineplus">+        items[2].querySelector(&quot;.item-date-row-start-date&quot;).textContent,</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineplus">+        cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T170000&quot;)),</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineplus">+        &quot;event 3 start date should be correct&quot;</span>
<a href="#l4.77"></a><span id="l4.77">       );</span>
<a href="#l4.78"></a><span id="l4.78">       is(</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineminus">-        items[3].querySelector(&quot;.item-date-row-start-date&quot;).value,</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineplus">+        items[2].querySelector(&quot;.item-date-row-end-date&quot;).textContent,</span>
<a href="#l4.81"></a><span id="l4.81">         cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T180000&quot;)),</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineminus">-        &quot;event 4 start date is correct&quot;</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineplus">+        &quot;event 3 end date should be correct&quot;</span>
<a href="#l4.84"></a><span id="l4.84">       );</span>
<a href="#l4.85"></a><span id="l4.85">       is(</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineminus">-        items[3].querySelector(&quot;.item-date-row-end-date&quot;).value,</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineplus">+        items[3].querySelector(&quot;.item-date-row-start-date&quot;).textContent,</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineplus">+        cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T180000&quot;)),</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineplus">+        &quot;event 4 start date should be correct&quot;</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineplus">+      );</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineplus">+      is(</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineplus">+        items[3].querySelector(&quot;.item-date-row-end-date&quot;).textContent,</span>
<a href="#l4.93"></a><span id="l4.93">         cal.dtz.formatter.formatDateTime(cal.createDateTime(&quot;20190101T190000&quot;)),</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineminus">-        &quot;event 4 end date is correct&quot;</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineplus">+        &quot;event 4 end date should be correct&quot;</span>
<a href="#l4.96"></a><span id="l4.96">       );</span>
<a href="#l4.97"></a><span id="l4.97"> </span>
<a href="#l4.98"></a><span id="l4.98">       // Import just the first item, and check that the correct number of items remains.</span>
<a href="#l4.99"></a><span id="l4.99">       let firstItemImportButton = items[0].querySelector(</span>
<a href="#l4.100"></a><span id="l4.100">         &quot;.calendar-ics-file-dialog-item-import-button&quot;</span>
<a href="#l4.101"></a><span id="l4.101">       );</span>
<a href="#l4.102"></a><span id="l4.102">       EventUtils.synthesizeMouseAtCenter(firstItemImportButton, { clickCount: 1 }, dialogWindow);</span>
<a href="#l4.103"></a><span id="l4.103"> </span>
<a href="#l4.104"></a><span id="l4.104">       let remainingItems = doc.querySelectorAll(&quot;.calendar-ics-file-dialog-item-frame&quot;);</span>
<a href="#l4.105"></a><span id="l4.105">       is(remainingItems.length, 3, &quot;three items remain after importing the first item&quot;);</span>
<a href="#l4.106"></a><span id="l4.106">       is(</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineminus">-        remainingItems[0].querySelector(&quot;.item-title&quot;).value,</span>
<a href="#l4.108"></a><span id="l4.108" class="difflineplus">+        remainingItems[0].querySelector(&quot;.item-title&quot;).textContent,</span>
<a href="#l4.109"></a><span id="l4.109">         &quot;Event Two&quot;,</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineminus">-        &quot;'Event Two' is now in the first item in the dialog&quot;</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineplus">+        &quot;'Event Two' should now be the first item in the dialog&quot;</span>
<a href="#l4.112"></a><span id="l4.112">       );</span>
<a href="#l4.113"></a><span id="l4.113"> </span>
<a href="#l4.114"></a><span id="l4.114">       let messageElement = doc.querySelector(&quot;#calendar-ics-file-dialog-message&quot;);</span>
<a href="#l4.115"></a><span id="l4.115"> </span>
<a href="#l4.116"></a><span id="l4.116">       // Set up an observer to wait for the import success message to appear,</span>
<a href="#l4.117"></a><span id="l4.117">       // before clicking the accept button again to close the dialog window.</span>
<a href="#l4.118"></a><span id="l4.118">       let observer = new MutationObserver(mutationList =&gt; {</span>
<a href="#l4.119"></a><span id="l4.119">         mutationList.forEach(async mutation =&gt; {</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

