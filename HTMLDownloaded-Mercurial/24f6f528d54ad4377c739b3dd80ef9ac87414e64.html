<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 8770:24f6f528d54ad4377c739b3dd80ef9ac87414e64</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 24f6f528d54ad4377c739b3dd80ef9ac87414e64" />
<meta property="og:url" content="/comm-central/rev/24f6f528d54ad4377c739b3dd80ef9ac87414e64" />
<meta property="og:description" content="Bug 684537 - Port Bug 626949 |Sync UI: Style generic change dialogs like the setup and Add a Device wizards| to suite. r=InvisibleSmiley. ui-r=Neil" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 24f6f528d54ad4377c739b3dd80ef9ac87414e64 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/24f6f528d54ad4377c739b3dd80ef9ac87414e64">shortlog</a> |
<a href="/comm-central/log/24f6f528d54ad4377c739b3dd80ef9ac87414e64">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/24f6f528d54ad4377c739b3dd80ef9ac87414e64">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/24f6f528d54ad4377c739b3dd80ef9ac87414e64">files</a> |
changeset |
<a href="/comm-central/raw-rev/24f6f528d54ad4377c739b3dd80ef9ac87414e64">raw</a>  | <a href="/comm-central/archive/24f6f528d54ad4377c739b3dd80ef9ac87414e64.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=684537">Bug 684537</a> - Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=626949">Bug 626949</a> |Sync UI: Style generic change dialogs like the setup and Add a Device wizards| to suite. r=InvisibleSmiley. ui-r=Neil
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#74;&#117;&#115;&#116;&#105;&#110;&#32;&#87;&#111;&#111;&#100;&#32;&#60;&#67;&#97;&#108;&#108;&#101;&#107;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 14 Oct 2011 00:53:00 -0400</td></tr>

<tr>
 <td>changeset 8770</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/24f6f528d54ad4377c739b3dd80ef9ac87414e64">24f6f528d54ad4377c739b3dd80ef9ac87414e64</a></td>
</tr>



<tr>
<td>parent 8769</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/391c1e8fc7c3362c9632a80f6dd1b14527393ddf">391c1e8fc7c3362c9632a80f6dd1b14527393ddf</a>
</td>
</tr>

<tr>
<td>child 8771</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/88df002aa48a65c7f8fcada76cfb6d0064e570ca">88df002aa48a65c7f8fcada76cfb6d0064e570ca</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=24f6f528d54ad4377c739b3dd80ef9ac87414e64">6742</a></td></tr>
<tr><td>push user</td><td>jh@junetz.de</td></tr>
<tr><td>push date</td><td class="date age">Fri, 04 Nov 2011 22:50:38 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@806affdb379c [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=806affdb379c0aa9493387d140664ea216cbed5e">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=806affdb379c0aa9493387d140664ea216cbed5e&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=806affdb379c0aa9493387d140664ea216cbed5e&newProject=comm-central&newRevision=24f6f528d54ad4377c739b3dd80ef9ac87414e64&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=806affdb379c0aa9493387d140664ea216cbed5e&newProject=comm-central&newRevision=24f6f528d54ad4377c739b3dd80ef9ac87414e64&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=806affdb379c0aa9493387d140664ea216cbed5e&newProject=comm-central&newRevision=24f6f528d54ad4377c739b3dd80ef9ac87414e64&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28InvisibleSmiley%29&revcount=50">InvisibleSmiley</a>, <a href="/comm-central/log?rev=reviewer%28Neil%29&revcount=50">Neil</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=684537">684537</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=626949">626949</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=684537">Bug 684537</a> - Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=626949">Bug 626949</a> |Sync UI: Style generic change dialogs like the setup and Add a Device wizards| to suite. r=InvisibleSmiley. ui-r=Neil</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.js">suite/common/sync/syncGenericChange.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.js">file</a> |
<a href="/comm-central/annotate/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.js">annotate</a> |
<a href="/comm-central/diff/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.js">diff</a> |
<a href="/comm-central/comparison/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.js">comparison</a> |
<a href="/comm-central/log/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.xul">suite/common/sync/syncGenericChange.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.xul">file</a> |
<a href="/comm-central/annotate/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.xul">annotate</a> |
<a href="/comm-central/diff/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.xul">diff</a> |
<a href="/comm-central/comparison/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.xul">comparison</a> |
<a href="/comm-central/log/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncGenericChange.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncUtils.js">suite/common/sync/syncUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncUtils.js">file</a> |
<a href="/comm-central/annotate/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncUtils.js">annotate</a> |
<a href="/comm-central/diff/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncUtils.js">diff</a> |
<a href="/comm-central/comparison/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncUtils.js">comparison</a> |
<a href="/comm-central/log/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/common/sync/syncUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncGenericChange.properties">suite/locales/en-US/chrome/common/sync/syncGenericChange.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncGenericChange.properties">file</a> |
<a href="/comm-central/annotate/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncGenericChange.properties">annotate</a> |
<a href="/comm-central/diff/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncGenericChange.properties">diff</a> |
<a href="/comm-central/comparison/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncGenericChange.properties">comparison</a> |
<a href="/comm-central/log/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncGenericChange.properties">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncSetup.dtd">suite/locales/en-US/chrome/common/sync/syncSetup.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncSetup.dtd">file</a> |
<a href="/comm-central/annotate/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncSetup.dtd">annotate</a> |
<a href="/comm-central/diff/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncSetup.dtd">diff</a> |
<a href="/comm-central/comparison/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncSetup.dtd">comparison</a> |
<a href="/comm-central/log/24f6f528d54ad4377c739b3dd80ef9ac87414e64/suite/locales/en-US/chrome/common/sync/syncSetup.dtd">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/common/sync/syncGenericChange.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/common/sync/syncGenericChange.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -58,87 +58,94 @@ let Change = {</span>
<a href="#l1.4"></a><span id="l1.4"> </span>
<a href="#l1.5"></a><span id="l1.5">   get _updatingPassphrase() {</span>
<a href="#l1.6"></a><span id="l1.6">     return this._dialogType == &quot;UpdatePassphrase&quot;;</span>
<a href="#l1.7"></a><span id="l1.7">   },</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9">   onLoad: function Change_onLoad() {</span>
<a href="#l1.10"></a><span id="l1.10">     /* Load labels */</span>
<a href="#l1.11"></a><span id="l1.11">     let introText = document.getElementById(&quot;introText&quot;);</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-    let introText2 = document.getElementById(&quot;introText2&quot;);</span>
<a href="#l1.13"></a><span id="l1.13">     let warningText = document.getElementById(&quot;warningText&quot;);</span>
<a href="#l1.14"></a><span id="l1.14"> </span>
<a href="#l1.15"></a><span id="l1.15">     // load some other elements &amp; info from the window</span>
<a href="#l1.16"></a><span id="l1.16">     this._dialog = document.getElementById(&quot;change-dialog&quot;);</span>
<a href="#l1.17"></a><span id="l1.17">     this._dialogType = window.arguments[0];</span>
<a href="#l1.18"></a><span id="l1.18">     this._duringSetup = window.arguments[1];</span>
<a href="#l1.19"></a><span id="l1.19">     this._status = document.getElementById(&quot;status&quot;);</span>
<a href="#l1.20"></a><span id="l1.20">     this._statusIcon = document.getElementById(&quot;statusIcon&quot;);</span>
<a href="#l1.21"></a><span id="l1.21">     this._statusRow = document.getElementById(&quot;statusRow&quot;);</span>
<a href="#l1.22"></a><span id="l1.22">     this._firstBox = document.getElementById(&quot;textBox1&quot;);</span>
<a href="#l1.23"></a><span id="l1.23">     this._secondBox = document.getElementById(&quot;textBox2&quot;);</span>
<a href="#l1.24"></a><span id="l1.24">     this._passphraseBox = document.getElementById(&quot;passphraseBox&quot;);</span>
<a href="#l1.25"></a><span id="l1.25"> </span>
<a href="#l1.26"></a><span id="l1.26" class="difflineplus">+    this._dialog.getButton(&quot;finish&quot;).disabled = true;</span>
<a href="#l1.27"></a><span id="l1.27" class="difflineplus">+    this._dialog.getButton(&quot;back&quot;).hidden = true;</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineplus">+</span>
<a href="#l1.29"></a><span id="l1.29">     this._stringBundle =</span>
<a href="#l1.30"></a><span id="l1.30">       Services.strings.createBundle(&quot;chrome://communicator/locale/sync/syncGenericChange.properties&quot;);</span>
<a href="#l1.31"></a><span id="l1.31"> </span>
<a href="#l1.32"></a><span id="l1.32">     switch (this._dialogType) {</span>
<a href="#l1.33"></a><span id="l1.33">       case &quot;UpdatePassphrase&quot;:</span>
<a href="#l1.34"></a><span id="l1.34">       case &quot;ResetPassphrase&quot;:</span>
<a href="#l1.35"></a><span id="l1.35">         document.getElementById(&quot;textBox1Row&quot;).hidden = true;</span>
<a href="#l1.36"></a><span id="l1.36">         document.getElementById(&quot;textBox2Row&quot;).hidden = true;</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineminus">-        let passphraseLabel = document.getElementById(&quot;passphraseLabel&quot;);</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineminus">-        passphraseLabel.value = this._str(&quot;new.recoverykey.label&quot;);</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineplus">+        document.getElementById(&quot;passphraseLabel&quot;).value</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineplus">+          = this._str(&quot;new.recoverykey.label&quot;);</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineplus">+        document.getElementById(&quot;passphraseSpacer&quot;).hidden = false;</span>
<a href="#l1.42"></a><span id="l1.42"> </span>
<a href="#l1.43"></a><span id="l1.43">         if (this._updatingPassphrase) {</span>
<a href="#l1.44"></a><span id="l1.44" class="difflineminus">-          document.getElementById(&quot;passphraseBackupButtons&quot;).hidden = true;</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineminus">-          document.getElementById(&quot;generatePassphraseButton&quot;).hidden = true;</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineplus">+          document.getElementById(&quot;passphraseHelpBox&quot;).hidden = false;</span>
<a href="#l1.47"></a><span id="l1.47">           document.title = this._str(&quot;new.recoverykey.title&quot;);</span>
<a href="#l1.48"></a><span id="l1.48">           introText.textContent = this._str(&quot;new.recoverykey.introText&quot;);</span>
<a href="#l1.49"></a><span id="l1.49" class="difflineminus">-          this._dialog.getButton(&quot;accept&quot;).label</span>
<a href="#l1.50"></a><span id="l1.50" class="difflineplus">+          this._dialog.getButton(&quot;finish&quot;).label</span>
<a href="#l1.51"></a><span id="l1.51">             = this._str(&quot;new.recoverykey.acceptButton&quot;);</span>
<a href="#l1.52"></a><span id="l1.52">         }</span>
<a href="#l1.53"></a><span id="l1.53">         else {</span>
<a href="#l1.54"></a><span id="l1.54" class="difflineplus">+          document.getElementById(&quot;generatePassphraseButton&quot;).hidden = false;</span>
<a href="#l1.55"></a><span id="l1.55" class="difflineplus">+          document.getElementById(&quot;passphraseBackupButtons&quot;).hidden = false;</span>
<a href="#l1.56"></a><span id="l1.56">           this._passphraseBox.readOnly = true;</span>
<a href="#l1.57"></a><span id="l1.57">           let pp = Weave.Service.passphrase;</span>
<a href="#l1.58"></a><span id="l1.58">           if (Weave.Utils.isPassphrase(pp))</span>
<a href="#l1.59"></a><span id="l1.59">             pp = Weave.Utils.hyphenatePassphrase(pp);</span>
<a href="#l1.60"></a><span id="l1.60">           this._passphraseBox.value = pp;</span>
<a href="#l1.61"></a><span id="l1.61" class="difflineplus">+          this._passphraseBox.focus();</span>
<a href="#l1.62"></a><span id="l1.62">           document.title = this._str(&quot;change.recoverykey.title&quot;);</span>
<a href="#l1.63"></a><span id="l1.63" class="difflineminus">-          introText.textContent = this._str(&quot;change.recoverykey.introText&quot;);</span>
<a href="#l1.64"></a><span id="l1.64" class="difflineminus">-          introText2.textContent = this._str(&quot;change.recoverykey.introText2&quot;);</span>
<a href="#l1.65"></a><span id="l1.65" class="difflineplus">+          introText.textContent = this._str(&quot;change.recoverykey.introText2&quot;);</span>
<a href="#l1.66"></a><span id="l1.66">           warningText.textContent = this._str(&quot;change.recoverykey.warningText&quot;);</span>
<a href="#l1.67"></a><span id="l1.67" class="difflineminus">-          this._dialog.getButton(&quot;accept&quot;).label</span>
<a href="#l1.68"></a><span id="l1.68" class="difflineplus">+          this._dialog.getButton(&quot;finish&quot;).label</span>
<a href="#l1.69"></a><span id="l1.69">             = this._str(&quot;change.recoverykey.acceptButton&quot;);</span>
<a href="#l1.70"></a><span id="l1.70">           if (this._duringSetup)</span>
<a href="#l1.71"></a><span id="l1.71" class="difflineminus">-            this._dialog.getButton(&quot;accept&quot;).disabled = false;</span>
<a href="#l1.72"></a><span id="l1.72" class="difflineplus">+            this._dialog.getButton(&quot;finish&quot;).disabled = false;</span>
<a href="#l1.73"></a><span id="l1.73">         }</span>
<a href="#l1.74"></a><span id="l1.74">         break;</span>
<a href="#l1.75"></a><span id="l1.75">       case &quot;ChangePassword&quot;:</span>
<a href="#l1.76"></a><span id="l1.76">         document.getElementById(&quot;passphraseRow&quot;).hidden = true;</span>
<a href="#l1.77"></a><span id="l1.77" class="difflineminus">-        document.getElementById(&quot;passphraseBackupButtons&quot;).hidden = true;</span>
<a href="#l1.78"></a><span id="l1.78">         let box1label = document.getElementById(&quot;textBox1Label&quot;);</span>
<a href="#l1.79"></a><span id="l1.79">         let box2label = document.getElementById(&quot;textBox2Label&quot;);</span>
<a href="#l1.80"></a><span id="l1.80">         box1label.value = this._str(&quot;new.password.label&quot;);</span>
<a href="#l1.81"></a><span id="l1.81"> </span>
<a href="#l1.82"></a><span id="l1.82">         if (this._currentPasswordInvalid) {</span>
<a href="#l1.83"></a><span id="l1.83">           document.title = this._str(&quot;new.password.title&quot;);</span>
<a href="#l1.84"></a><span id="l1.84">           introText.textContent = this._str(&quot;new.password.introText&quot;);</span>
<a href="#l1.85"></a><span id="l1.85" class="difflineminus">-          this._dialog.getButton(&quot;accept&quot;).label = this._str(&quot;new.password.acceptButton&quot;);</span>
<a href="#l1.86"></a><span id="l1.86" class="difflineplus">+          this._dialog.getButton(&quot;finish&quot;).label</span>
<a href="#l1.87"></a><span id="l1.87" class="difflineplus">+            = this._str(&quot;new.password.acceptButton&quot;);</span>
<a href="#l1.88"></a><span id="l1.88">           document.getElementById(&quot;textBox2Row&quot;).hidden = true;</span>
<a href="#l1.89"></a><span id="l1.89">         }</span>
<a href="#l1.90"></a><span id="l1.90">         else {</span>
<a href="#l1.91"></a><span id="l1.91">           document.title = this._str(&quot;change.password.title&quot;);</span>
<a href="#l1.92"></a><span id="l1.92">           box2label.value = this._str(&quot;new.password.confirm&quot;);</span>
<a href="#l1.93"></a><span id="l1.93">           introText.textContent = this._str(&quot;change.password3.introText&quot;);</span>
<a href="#l1.94"></a><span id="l1.94">           warningText.textContent = this._str(&quot;change.password.warningText&quot;);</span>
<a href="#l1.95"></a><span id="l1.95" class="difflineminus">-          this._dialog.getButton(&quot;accept&quot;).label = this._str(&quot;change.password.acceptButton&quot;);</span>
<a href="#l1.96"></a><span id="l1.96" class="difflineplus">+          this._dialog.getButton(&quot;finish&quot;).label</span>
<a href="#l1.97"></a><span id="l1.97" class="difflineplus">+            = this._str(&quot;change.password.acceptButton&quot;);</span>
<a href="#l1.98"></a><span id="l1.98">         }</span>
<a href="#l1.99"></a><span id="l1.99">         break;</span>
<a href="#l1.100"></a><span id="l1.100">     }</span>
<a href="#l1.101"></a><span id="l1.101" class="difflineplus">+    document.getElementById(&quot;change-page&quot;)</span>
<a href="#l1.102"></a><span id="l1.102" class="difflineplus">+            .setAttribute(&quot;label&quot;, document.title);</span>
<a href="#l1.103"></a><span id="l1.103">   },</span>
<a href="#l1.104"></a><span id="l1.104"> </span>
<a href="#l1.105"></a><span id="l1.105">   _clearStatus: function _clearStatus() {</span>
<a href="#l1.106"></a><span id="l1.106">     this._status.value = &quot;&quot;;</span>
<a href="#l1.107"></a><span id="l1.107">     this._statusIcon.removeAttribute(&quot;status&quot;);</span>
<a href="#l1.108"></a><span id="l1.108">   },</span>
<a href="#l1.109"></a><span id="l1.109"> </span>
<a href="#l1.110"></a><span id="l1.110">   _updateStatus: function Change__updateStatus(str, state) {</span>
<a href="#l1.111"></a><span id="l1.111" class="difflineat">@@ -147,17 +154,17 @@ let Change = {</span>
<a href="#l1.112"></a><span id="l1.112"> </span>
<a href="#l1.113"></a><span id="l1.113">   _updateStatusWithString: function Change__updateStatusWithString(string, state) {</span>
<a href="#l1.114"></a><span id="l1.114">     this._statusRow.hidden = false;</span>
<a href="#l1.115"></a><span id="l1.115">     this._status.value = string;</span>
<a href="#l1.116"></a><span id="l1.116">     this._statusIcon.setAttribute(&quot;status&quot;, state);</span>
<a href="#l1.117"></a><span id="l1.117"> </span>
<a href="#l1.118"></a><span id="l1.118">     let error = state == &quot;error&quot;;</span>
<a href="#l1.119"></a><span id="l1.119">     this._dialog.getButton(&quot;cancel&quot;).disabled = !error;</span>
<a href="#l1.120"></a><span id="l1.120" class="difflineminus">-    this._dialog.getButton(&quot;accept&quot;).disabled = !error;</span>
<a href="#l1.121"></a><span id="l1.121" class="difflineplus">+    this._dialog.getButton(&quot;finish&quot;).disabled = !error;</span>
<a href="#l1.122"></a><span id="l1.122">     document.getElementById(&quot;printSyncKeyButton&quot;).disabled = !error;</span>
<a href="#l1.123"></a><span id="l1.123">     document.getElementById(&quot;saveSyncKeyButton&quot;).disabled = !error;</span>
<a href="#l1.124"></a><span id="l1.124"> </span>
<a href="#l1.125"></a><span id="l1.125">     if (state == &quot;success&quot;)</span>
<a href="#l1.126"></a><span id="l1.126">       window.setTimeout(window.close, 1500);</span>
<a href="#l1.127"></a><span id="l1.127">   },</span>
<a href="#l1.128"></a><span id="l1.128"> </span>
<a href="#l1.129"></a><span id="l1.129">   onDialogAccept: function() {</span>
<a href="#l1.130"></a><span id="l1.130" class="difflineat">@@ -171,17 +178,17 @@ let Change = {</span>
<a href="#l1.131"></a><span id="l1.131">         break;</span>
<a href="#l1.132"></a><span id="l1.132">     }</span>
<a href="#l1.133"></a><span id="l1.133">   },</span>
<a href="#l1.134"></a><span id="l1.134"> </span>
<a href="#l1.135"></a><span id="l1.135">   doGeneratePassphrase: function () {</span>
<a href="#l1.136"></a><span id="l1.136">     let passphrase = Weave.Utils.generatePassphrase();</span>
<a href="#l1.137"></a><span id="l1.137">     this._passphraseBox.value = Weave.Utils.hyphenatePassphrase(passphrase);</span>
<a href="#l1.138"></a><span id="l1.138">     this._clearStatus();</span>
<a href="#l1.139"></a><span id="l1.139" class="difflineminus">-    this._dialog.getButton(&quot;accept&quot;).disabled = false;</span>
<a href="#l1.140"></a><span id="l1.140" class="difflineplus">+    this._dialog.getButton(&quot;finish&quot;).disabled = false;</span>
<a href="#l1.141"></a><span id="l1.141">   },</span>
<a href="#l1.142"></a><span id="l1.142"> </span>
<a href="#l1.143"></a><span id="l1.143">   doChangePassphrase: function Change_doChangePassphrase() {</span>
<a href="#l1.144"></a><span id="l1.144">     let pp = Weave.Utils.normalizePassphrase(this._passphraseBox.value);</span>
<a href="#l1.145"></a><span id="l1.145">     if (this._updatingPassphrase) {</span>
<a href="#l1.146"></a><span id="l1.146">       Weave.Service.passphrase = pp;</span>
<a href="#l1.147"></a><span id="l1.147">       if (Weave.Service.login()) {</span>
<a href="#l1.148"></a><span id="l1.148">         this._updateStatus(&quot;change.recoverykey.success&quot;, &quot;success&quot;);</span>
<a href="#l1.149"></a><span id="l1.149" class="difflineat">@@ -244,15 +251,15 @@ let Change = {</span>
<a href="#l1.150"></a><span id="l1.150">     }</span>
<a href="#l1.151"></a><span id="l1.151"> </span>
<a href="#l1.152"></a><span id="l1.152">     if (errorString == &quot;&quot;)</span>
<a href="#l1.153"></a><span id="l1.153">       this._clearStatus();</span>
<a href="#l1.154"></a><span id="l1.154">     else</span>
<a href="#l1.155"></a><span id="l1.155">       this._updateStatusWithString(errorString, &quot;error&quot;);</span>
<a href="#l1.156"></a><span id="l1.156"> </span>
<a href="#l1.157"></a><span id="l1.157">     this._statusRow.hidden = valid;</span>
<a href="#l1.158"></a><span id="l1.158" class="difflineminus">-    this._dialog.getButton(&quot;accept&quot;).disabled = !valid;</span>
<a href="#l1.159"></a><span id="l1.159" class="difflineplus">+    this._dialog.getButton(&quot;finish&quot;).disabled = !valid;</span>
<a href="#l1.160"></a><span id="l1.160">   },</span>
<a href="#l1.161"></a><span id="l1.161"> </span>
<a href="#l1.162"></a><span id="l1.162">   _str: function Change__string(str) {</span>
<a href="#l1.163"></a><span id="l1.163">     return this._stringBundle.GetStringFromName(str);</span>
<a href="#l1.164"></a><span id="l1.164">   }</span>
<a href="#l1.165"></a><span id="l1.165"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/common/sync/syncGenericChange.xul</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/common/sync/syncGenericChange.xul</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -35,97 +35,119 @@</span>
<a href="#l2.4"></a><span id="l2.4">    - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l2.5"></a><span id="l2.5">    - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l2.6"></a><span id="l2.6">    - the provisions above, a recipient may use your version of this file under</span>
<a href="#l2.7"></a><span id="l2.7">    - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l2.8"></a><span id="l2.8">    -</span>
<a href="#l2.9"></a><span id="l2.9">    - ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://communicator/skin/sync/syncSetup.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.13"></a><span id="l2.13"> &lt;?xml-stylesheet href=&quot;chrome://communicator/skin/sync/syncCommon.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.14"></a><span id="l2.14"> </span>
<a href="#l2.15"></a><span id="l2.15"> &lt;!DOCTYPE window [</span>
<a href="#l2.16"></a><span id="l2.16"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l2.17"></a><span id="l2.17"> &lt;!ENTITY % syncBrandDTD SYSTEM &quot;chrome://communicator/locale/sync/syncBrand.dtd&quot;&gt;</span>
<a href="#l2.18"></a><span id="l2.18"> &lt;!ENTITY % syncSetupDTD SYSTEM &quot;chrome://communicator/locale/sync/syncSetup.dtd&quot;&gt;</span>
<a href="#l2.19"></a><span id="l2.19"> %brandDTD;</span>
<a href="#l2.20"></a><span id="l2.20"> %syncBrandDTD;</span>
<a href="#l2.21"></a><span id="l2.21"> %syncSetupDTD;</span>
<a href="#l2.22"></a><span id="l2.22"> ]&gt;</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineminus">-&lt;dialog xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineplus">+&lt;wizard xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l2.25"></a><span id="l2.25">         xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l2.26"></a><span id="l2.26">         id=&quot;change-dialog&quot;</span>
<a href="#l2.27"></a><span id="l2.27">         windowtype=&quot;Weave:ChangeSomething&quot;</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineminus">-        buttons=&quot;accept,cancel&quot;</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineminus">-        onload=&quot;Change.onLoad();&quot;</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineminus">-        buttondisabledaccept=&quot;true&quot;</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-        ondialogaccept=&quot;return Change.onDialogAccept();&quot;</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-        defaultButton=&quot;accept&quot;&gt;</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineplus">+        onwizardnext=&quot;Change.onLoad();&quot;</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineplus">+        onwizardfinish=&quot;return Change.onDialogAccept();&quot;&gt;</span>
<a href="#l2.35"></a><span id="l2.35"> </span>
<a href="#l2.36"></a><span id="l2.36">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l2.37"></a><span id="l2.37">           src=&quot;chrome://communicator/content/sync/syncGenericChange.js&quot;/&gt;</span>
<a href="#l2.38"></a><span id="l2.38">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l2.39"></a><span id="l2.39">           src=&quot;chrome://communicator/content/sync/syncUtils.js&quot;/&gt;</span>
<a href="#l2.40"></a><span id="l2.40">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l2.41"></a><span id="l2.41">           src=&quot;chrome://global/content/printUtils.js&quot;/&gt;</span>
<a href="#l2.42"></a><span id="l2.42"> </span>
<a href="#l2.43"></a><span id="l2.43" class="difflineminus">-  &lt;hbox align=&quot;start&quot;&gt;</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineminus">-    &lt;image id=&quot;syncIcon&quot;/&gt;</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineminus">-    &lt;spacer style=&quot;width: 1em&quot;/&gt;</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineminus">-    &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineminus">-      &lt;description id=&quot;introText&quot;/&gt;</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineminus">-      &lt;description id=&quot;introText2&quot;/&gt;</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineminus">-  &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l2.52"></a><span id="l2.52" class="difflineminus">-  &lt;vbox&gt;</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineminus">-    &lt;grid&gt;</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineminus">-      &lt;columns&gt;</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineminus">-        &lt;column/&gt;</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineminus">-        &lt;column flex=&quot;3&quot;/&gt;</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineminus">-        &lt;column flex=&quot;1&quot;/&gt;</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineminus">-      &lt;/columns&gt;</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineminus">-        &lt;row id=&quot;textBox1Row&quot; align=&quot;center&quot;&gt;</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-          &lt;label id=&quot;textBox1Label&quot; control=&quot;textBox1&quot;/&gt;</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineminus">-          &lt;textbox id=&quot;textBox1&quot; type=&quot;password&quot; oninput=&quot;Change.validate();&quot;/&gt;</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineminus">-          &lt;spacer/&gt;</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l2.65"></a><span id="l2.65" class="difflineminus">-        &lt;row id=&quot;textBox2Row&quot; align=&quot;center&quot;&gt;</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineminus">-          &lt;label id=&quot;textBox2Label&quot; control=&quot;textBox2&quot;/&gt;</span>
<a href="#l2.67"></a><span id="l2.67" class="difflineminus">-          &lt;textbox id=&quot;textBox2&quot; type=&quot;password&quot; oninput=&quot;Change.validate();&quot;/&gt;</span>
<a href="#l2.68"></a><span id="l2.68" class="difflineminus">-          &lt;spacer/&gt;</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineminus">-        &lt;row id=&quot;passphraseRow&quot; align=&quot;center&quot;&gt;</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineplus">+  &lt;wizardpage id=&quot;change-page&quot;</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineplus">+              label=&quot;&quot;&gt;</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineplus">+</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineplus">+    &lt;description id=&quot;introText&quot;/&gt;</span>
<a href="#l2.75"></a><span id="l2.75" class="difflineplus">+</span>
<a href="#l2.76"></a><span id="l2.76" class="difflineplus">+    &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l2.77"></a><span id="l2.77" class="difflineplus">+</span>
<a href="#l2.78"></a><span id="l2.78" class="difflineplus">+    &lt;groupbox&gt;</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineplus">+      &lt;grid&gt;</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineplus">+        &lt;columns&gt;</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineplus">+          &lt;column align=&quot;right&quot;/&gt;</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineplus">+          &lt;column flex=&quot;3&quot;/&gt;</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineplus">+          &lt;column flex=&quot;1&quot;/&gt;</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineplus">+        &lt;/columns&gt;</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineplus">+        &lt;rows&gt;</span>
<a href="#l2.86"></a><span id="l2.86" class="difflineplus">+          &lt;row id=&quot;textBox1Row&quot; align=&quot;center&quot;&gt;</span>
<a href="#l2.87"></a><span id="l2.87" class="difflineplus">+            &lt;label id=&quot;textBox1Label&quot; control=&quot;textBox1&quot;/&gt;</span>
<a href="#l2.88"></a><span id="l2.88" class="difflineplus">+            &lt;textbox id=&quot;textBox1&quot; type=&quot;password&quot; oninput=&quot;Change.validate();&quot;/&gt;</span>
<a href="#l2.89"></a><span id="l2.89" class="difflineplus">+            &lt;spacer/&gt;</span>
<a href="#l2.90"></a><span id="l2.90" class="difflineplus">+          &lt;/row&gt;</span>
<a href="#l2.91"></a><span id="l2.91" class="difflineplus">+          &lt;row id=&quot;textBox2Row&quot; align=&quot;center&quot;&gt;</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineplus">+            &lt;label id=&quot;textBox2Label&quot; control=&quot;textBox2&quot;/&gt;</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineplus">+            &lt;textbox id=&quot;textBox2&quot; type=&quot;password&quot; oninput=&quot;Change.validate();&quot;/&gt;</span>
<a href="#l2.94"></a><span id="l2.94" class="difflineplus">+            &lt;spacer/&gt;</span>
<a href="#l2.95"></a><span id="l2.95" class="difflineplus">+          &lt;/row&gt;</span>
<a href="#l2.96"></a><span id="l2.96" class="difflineplus">+        &lt;/rows&gt;</span>
<a href="#l2.97"></a><span id="l2.97" class="difflineplus">+      &lt;/grid&gt;</span>
<a href="#l2.98"></a><span id="l2.98" class="difflineplus">+</span>
<a href="#l2.99"></a><span id="l2.99" class="difflineplus">+      &lt;vbox id=&quot;passphraseRow&quot;&gt;</span>
<a href="#l2.100"></a><span id="l2.100" class="difflineplus">+        &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l2.101"></a><span id="l2.101">           &lt;label id=&quot;passphraseLabel&quot; control=&quot;passphraseBox&quot;/&gt;</span>
<a href="#l2.102"></a><span id="l2.102" class="difflineminus">-          &lt;textbox id=&quot;passphraseBox&quot;</span>
<a href="#l2.103"></a><span id="l2.103" class="difflineminus">-                   onfocus=&quot;this.select();&quot;</span>
<a href="#l2.104"></a><span id="l2.104" class="difflineminus">-                   oninput=&quot;Change.validate();&quot;/&gt;</span>
<a href="#l2.105"></a><span id="l2.105" class="difflineminus">-          &lt;button id=&quot;generatePassphraseButton&quot;</span>
<a href="#l2.106"></a><span id="l2.106" class="difflineminus">-                  label=&quot;&amp;recoveryKeyGenerate.label;&quot;</span>
<a href="#l2.107"></a><span id="l2.107" class="difflineminus">-                  accesskey=&quot;&amp;recoveryKeyGenerate.accesskey;&quot;</span>
<a href="#l2.108"></a><span id="l2.108" class="difflineminus">-                  oncommand=&quot;event.stopPropagation();</span>
<a href="#l2.109"></a><span id="l2.109" class="difflineminus">-                             Change.doGeneratePassphrase();&quot;/&gt;</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l2.111"></a><span id="l2.111" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l2.112"></a><span id="l2.112" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l2.113"></a><span id="l2.113" class="difflineplus">+          &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l2.114"></a><span id="l2.114" class="difflineplus">+          &lt;label id=&quot;generatePassphraseButton&quot;</span>
<a href="#l2.115"></a><span id="l2.115" class="difflineplus">+                 hidden=&quot;true&quot;</span>
<a href="#l2.116"></a><span id="l2.116" class="difflineplus">+                 value=&quot;&amp;recoveryGenerateNewKey.label;&quot;</span>
<a href="#l2.117"></a><span id="l2.117" class="difflineplus">+                 class=&quot;text-link inline-link&quot;</span>
<a href="#l2.118"></a><span id="l2.118" class="difflineplus">+                 onclick=&quot;event.stopPropagation();</span>
<a href="#l2.119"></a><span id="l2.119" class="difflineplus">+                          Change.doGeneratePassphrase();&quot;/&gt;</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineplus">+        &lt;/hbox&gt;</span>
<a href="#l2.121"></a><span id="l2.121" class="difflineplus">+        &lt;textbox id=&quot;passphraseBox&quot;</span>
<a href="#l2.122"></a><span id="l2.122" class="difflineplus">+                 flex=&quot;1&quot;</span>
<a href="#l2.123"></a><span id="l2.123" class="difflineplus">+                 onfocus=&quot;this.select();&quot;</span>
<a href="#l2.124"></a><span id="l2.124" class="difflineplus">+                 oninput=&quot;Change.validate();&quot;/&gt;</span>
<a href="#l2.125"></a><span id="l2.125" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l2.126"></a><span id="l2.126"> </span>
<a href="#l2.127"></a><span id="l2.127" class="difflineminus">-    &lt;vbox id=&quot;feedback&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l2.128"></a><span id="l2.128" class="difflineminus">-      &lt;hbox id=&quot;statusRow&quot; align=&quot;center&quot;&gt;</span>
<a href="#l2.129"></a><span id="l2.129" class="difflineminus">-        &lt;image id=&quot;statusIcon&quot; class=&quot;statusIcon&quot;/&gt;</span>
<a href="#l2.130"></a><span id="l2.130" class="difflineminus">-        &lt;label id=&quot;status&quot; class=&quot;status&quot; value=&quot; &quot;/&gt;</span>
<a href="#l2.131"></a><span id="l2.131" class="difflineminus">-      &lt;/hbox&gt;</span>
<a href="#l2.132"></a><span id="l2.132" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l2.133"></a><span id="l2.133" class="difflineplus">+      &lt;vbox id=&quot;feedback&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l2.134"></a><span id="l2.134" class="difflineplus">+        &lt;hbox id=&quot;statusRow&quot; align=&quot;center&quot;&gt;</span>
<a href="#l2.135"></a><span id="l2.135" class="difflineplus">+          &lt;image id=&quot;statusIcon&quot; class=&quot;statusIcon&quot;/&gt;</span>
<a href="#l2.136"></a><span id="l2.136" class="difflineplus">+          &lt;label id=&quot;status&quot; class=&quot;status&quot; value=&quot; &quot;/&gt;</span>
<a href="#l2.137"></a><span id="l2.137" class="difflineplus">+        &lt;/hbox&gt;</span>
<a href="#l2.138"></a><span id="l2.138" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l2.139"></a><span id="l2.139" class="difflineplus">+    &lt;/groupbox&gt;</span>
<a href="#l2.140"></a><span id="l2.140"> </span>
<a href="#l2.141"></a><span id="l2.141" class="difflineminus">-    &lt;hbox id=&quot;passphraseBackupButtons&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l2.142"></a><span id="l2.142" class="difflineplus">+    &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l2.143"></a><span id="l2.143" class="difflineplus">+</span>
<a href="#l2.144"></a><span id="l2.144" class="difflineplus">+    &lt;hbox id=&quot;passphraseBackupButtons&quot;</span>
<a href="#l2.145"></a><span id="l2.145" class="difflineplus">+          hidden=&quot;true&quot;</span>
<a href="#l2.146"></a><span id="l2.146" class="difflineplus">+          pack=&quot;center&quot;&gt;</span>
<a href="#l2.147"></a><span id="l2.147">       &lt;button id=&quot;printSyncKeyButton&quot;</span>
<a href="#l2.148"></a><span id="l2.148">               label=&quot;&amp;button.syncKeyBackup.print.label;&quot;</span>
<a href="#l2.149"></a><span id="l2.149">               accesskey=&quot;&amp;button.syncKeyBackup.print.accesskey;&quot;</span>
<a href="#l2.150"></a><span id="l2.150">               oncommand=&quot;gSyncUtils.passphrasePrint('passphraseBox');&quot;/&gt;</span>
<a href="#l2.151"></a><span id="l2.151">       &lt;button id=&quot;saveSyncKeyButton&quot;</span>
<a href="#l2.152"></a><span id="l2.152">               label=&quot;&amp;button.syncKeyBackup.save.label;&quot;</span>
<a href="#l2.153"></a><span id="l2.153">               accesskey=&quot;&amp;button.syncKeyBackup.save.accesskey;&quot;</span>
<a href="#l2.154"></a><span id="l2.154">               oncommand=&quot;gSyncUtils.passphraseSave('passphraseBox');&quot;/&gt;</span>
<a href="#l2.155"></a><span id="l2.155">     &lt;/hbox&gt;</span>
<a href="#l2.156"></a><span id="l2.156"> </span>
<a href="#l2.157"></a><span id="l2.157" class="difflineminus">-    &lt;description class=&quot;data&quot; id=&quot;warningText&quot;/&gt;</span>
<a href="#l2.158"></a><span id="l2.158" class="difflineminus">-  &lt;/vbox&gt;</span>
<a href="#l2.159"></a><span id="l2.159" class="difflineminus">-&lt;/dialog&gt;</span>
<a href="#l2.160"></a><span id="l2.160" class="difflineplus">+    &lt;vbox id=&quot;passphraseHelpBox&quot;</span>
<a href="#l2.161"></a><span id="l2.161" class="difflineplus">+          hidden=&quot;true&quot;&gt;</span>
<a href="#l2.162"></a><span id="l2.162" class="difflineplus">+      &lt;description&gt;</span>
<a href="#l2.163"></a><span id="l2.163" class="difflineplus">+        &amp;existingRecoveryKey.description;</span>
<a href="#l2.164"></a><span id="l2.164" class="difflineplus">+        &lt;label class=&quot;text-link&quot;</span>
<a href="#l2.165"></a><span id="l2.165" class="difflineplus">+               href=&quot;https://services.mozilla.com/sync/help/manual-setup&quot;&gt;</span>
<a href="#l2.166"></a><span id="l2.166" class="difflineplus">+          &amp;addDevice.showMeHow.label;</span>
<a href="#l2.167"></a><span id="l2.167" class="difflineplus">+        &lt;/label&gt;</span>
<a href="#l2.168"></a><span id="l2.168" class="difflineplus">+      &lt;/description&gt;</span>
<a href="#l2.169"></a><span id="l2.169" class="difflineplus">+    &lt;/vbox&gt;</span>
<a href="#l2.170"></a><span id="l2.170" class="difflineplus">+</span>
<a href="#l2.171"></a><span id="l2.171" class="difflineplus">+    &lt;spacer id=&quot;passphraseSpacer&quot; flex=&quot;1&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l2.172"></a><span id="l2.172" class="difflineplus">+</span>
<a href="#l2.173"></a><span id="l2.173" class="difflineplus">+    &lt;description id=&quot;warningText&quot; class=&quot;data&quot;/&gt;</span>
<a href="#l2.174"></a><span id="l2.174" class="difflineplus">+</span>
<a href="#l2.175"></a><span id="l2.175" class="difflineplus">+    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l2.176"></a><span id="l2.176" class="difflineplus">+  &lt;/wizardpage&gt;</span>
<a href="#l2.177"></a><span id="l2.177" class="difflineplus">+&lt;/wizard&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/common/sync/syncUtils.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/common/sync/syncUtils.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -59,17 +59,17 @@ let gSyncUtils = {</span>
<a href="#l3.4"></a><span id="l3.4">     let openedDialog = Services.wm.getMostRecentWindow(&quot;Sync:&quot; + type);</span>
<a href="#l3.5"></a><span id="l3.5">     if (openedDialog != null) {</span>
<a href="#l3.6"></a><span id="l3.6">       openedDialog.focus();</span>
<a href="#l3.7"></a><span id="l3.7">       return;</span>
<a href="#l3.8"></a><span id="l3.8">     }</span>
<a href="#l3.9"></a><span id="l3.9"> </span>
<a href="#l3.10"></a><span id="l3.10">     // Open up the change dialog</span>
<a href="#l3.11"></a><span id="l3.11">     let changeXUL = &quot;chrome://communicator/content/sync/syncGenericChange.xul&quot;;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-    let changeOpt = &quot;centerscreen,chrome,dialog,modal,resizable=no&quot;;</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+    let changeOpt = &quot;centerscreen,chrome,resizable=no&quot;;</span>
<a href="#l3.14"></a><span id="l3.14">     Services.ww.activeWindow.openDialog(changeXUL, &quot;&quot;, changeOpt,</span>
<a href="#l3.15"></a><span id="l3.15">                                         type, duringSetup);</span>
<a href="#l3.16"></a><span id="l3.16">   },</span>
<a href="#l3.17"></a><span id="l3.17"> </span>
<a href="#l3.18"></a><span id="l3.18">   changePassword: function () {</span>
<a href="#l3.19"></a><span id="l3.19">     if (Weave.Utils.ensureMPUnlocked())</span>
<a href="#l3.20"></a><span id="l3.20">       this.openChange(&quot;ChangePassword&quot;);</span>
<a href="#l3.21"></a><span id="l3.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/locales/en-US/chrome/common/sync/syncGenericChange.properties</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/sync/syncGenericChange.properties</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -9,17 +9,16 @@ change.password.status.error   = There w</span>
<a href="#l4.4"></a><span id="l4.4"> change.password3.introText  = Your password must be at least 8 characters long.  It cannot be the same as either your user name or your Recovery Key.</span>
<a href="#l4.5"></a><span id="l4.5"> change.password.warningText = Note: All of your other devices will be unable to connect to your account once you change this password.</span>
<a href="#l4.6"></a><span id="l4.6"> </span>
<a href="#l4.7"></a><span id="l4.7"> change.recoverykey.title        = Change your Recovery Key</span>
<a href="#l4.8"></a><span id="l4.8"> change.recoverykey.acceptButton = Change Recovery Key</span>
<a href="#l4.9"></a><span id="l4.9"> change.recoverykey.label        = Changing Recovery Key and uploading local data, please wait</span>
<a href="#l4.10"></a><span id="l4.10"> change.recoverykey.error        = There was an error while changing your Recovery Key!</span>
<a href="#l4.11"></a><span id="l4.11"> change.recoverykey.success      = Your Recovery Key was successfully changed!</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-change.recoverykey.introText    = SeaMonkey Cares About Your Privacy</span>
<a href="#l4.13"></a><span id="l4.13"> change.recoverykey.introText2   = To ensure your total privacy, all of your data is encrypted prior to being uploaded. The key to decrypt your data is not uploaded.</span>
<a href="#l4.14"></a><span id="l4.14"> change.recoverykey.warningText  = Note: Changing this will erase all data stored on the Sync server and upload new data secured by this Recovery Key. Your other devices will not sync until the new Recovery Key is entered for that device.</span>
<a href="#l4.15"></a><span id="l4.15"> </span>
<a href="#l4.16"></a><span id="l4.16"> new.recoverykey.label = Your Recovery Key</span>
<a href="#l4.17"></a><span id="l4.17"> </span>
<a href="#l4.18"></a><span id="l4.18"> # LOCALIZATION NOTE (new.password.title): This (and associated new.password/passphrase) are used on a second computer when it detects that your password or passphrase has been changed on a different device.</span>
<a href="#l4.19"></a><span id="l4.19"> new.password.title            = Update Password</span>
<a href="#l4.20"></a><span id="l4.20"> new.password.introText        = Your password was rejected by the server, please update your password.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/suite/locales/en-US/chrome/common/sync/syncSetup.dtd</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/sync/syncSetup.dtd</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -39,18 +39,17 @@</span>
<a href="#l5.4"></a><span id="l5.4"> &lt;!ENTITY setup.tosAgree3.label      &quot;&quot;&gt;</span>
<a href="#l5.5"></a><span id="l5.5"> &lt;!ENTITY setup.tosAgree2.accesskey  &quot;&quot;&gt;</span>
<a href="#l5.6"></a><span id="l5.6"> </span>
<a href="#l5.7"></a><span id="l5.7"> &lt;!-- New Account Page 2: Recovery Key --&gt;</span>
<a href="#l5.8"></a><span id="l5.8"> &lt;!ENTITY setup.newRecoveryKeyPage.title.label &quot;&amp;brandShortName; Cares About Your Privacy&quot;&gt;</span>
<a href="#l5.9"></a><span id="l5.9"> &lt;!ENTITY setup.newRecoveryKeyPage.description.label &quot;To ensure your total privacy, all of your data is encrypted prior to being uploaded. The Recovery Key which is necessary to decrypt your data is not uploaded.&quot;&gt;</span>
<a href="#l5.10"></a><span id="l5.10"> &lt;!ENTITY recoveryKeyEntry.label        &quot;Your Recovery Key&quot;&gt;</span>
<a href="#l5.11"></a><span id="l5.11"> &lt;!ENTITY recoveryKeyEntry.accesskey    &quot;K&quot;&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-&lt;!ENTITY recoveryKeyGenerate.label     &quot;Generate&quot;&gt;</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-&lt;!ENTITY recoveryKeyGenerate.accesskey &quot;G&quot;&gt;</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+&lt;!ENTITY recoveryGenerateNewKey.label  &quot;Generate a new key&quot;&gt;</span>
<a href="#l5.15"></a><span id="l5.15"> &lt;!ENTITY recoveryKeyBackup.description &quot;Your Recovery Key is required to access &amp;syncBrand.fullName.label; on other machines. Please create a backup copy. We cannot help you recover your Recovery Key.&quot;&gt;</span>
<a href="#l5.16"></a><span id="l5.16"> </span>
<a href="#l5.17"></a><span id="l5.17"> &lt;!ENTITY button.syncKeyBackup.print.label     &quot;Print&quot;&gt;</span>
<a href="#l5.18"></a><span id="l5.18"> &lt;!ENTITY button.syncKeyBackup.print.accesskey &quot;P&quot;&gt;</span>
<a href="#l5.19"></a><span id="l5.19"> &lt;!ENTITY button.syncKeyBackup.save.label      &quot;Save&quot;&gt;</span>
<a href="#l5.20"></a><span id="l5.20"> &lt;!ENTITY button.syncKeyBackup.save.accesskey  &quot;S&quot;&gt;</span>
<a href="#l5.21"></a><span id="l5.21"> </span>
<a href="#l5.22"></a><span id="l5.22"> &lt;!-- New Account Page 3: Captcha --&gt;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

