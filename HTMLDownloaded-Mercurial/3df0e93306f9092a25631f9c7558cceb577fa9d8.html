<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 25420:3df0e93306f9092a25631f9c7558cceb577fa9d8</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 3df0e93306f9092a25631f9c7558cceb577fa9d8" />
<meta property="og:url" content="/comm-central/rev/3df0e93306f9092a25631f9c7558cceb577fa9d8" />
<meta property="og:description" content="Bug 1515176 - Restrict access to APIs where a manifest key is required; r=mkmelin" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 3df0e93306f9092a25631f9c7558cceb577fa9d8 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/3df0e93306f9092a25631f9c7558cceb577fa9d8">shortlog</a> |
<a href="/comm-central/log/3df0e93306f9092a25631f9c7558cceb577fa9d8">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/3df0e93306f9092a25631f9c7558cceb577fa9d8">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/3df0e93306f9092a25631f9c7558cceb577fa9d8">files</a> |
changeset |
<a href="/comm-central/raw-rev/3df0e93306f9092a25631f9c7558cceb577fa9d8">raw</a>  | <a href="/comm-central/archive/3df0e93306f9092a25631f9c7558cceb577fa9d8.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1515176">Bug 1515176</a> - Restrict access to APIs where a manifest key is required; r=mkmelin
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#71;&#101;&#111;&#102;&#102;&#32;&#76;&#97;&#110;&#107;&#111;&#119;&#32;&#60;&#103;&#101;&#111;&#102;&#102;&#64;&#100;&#97;&#114;&#107;&#116;&#114;&#111;&#106;&#97;&#110;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 20 Dec 2018 20:18:05 +1300</td></tr>

<tr>
 <td>changeset 25420</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/3df0e93306f9092a25631f9c7558cceb577fa9d8">3df0e93306f9092a25631f9c7558cceb577fa9d8</a></td>
</tr>



<tr>
<td>parent 25419</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/40783ac10e72f52d2febe0c8aa52db77403a4f41">40783ac10e72f52d2febe0c8aa52db77403a4f41</a>
</td>
</tr>

<tr>
<td>child 25421</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/66eedcaff9fac89a318dd866d42b3777e32e58c4">66eedcaff9fac89a318dd866d42b3777e32e58c4</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=3df0e93306f9092a25631f9c7558cceb577fa9d8">15257</a></td></tr>
<tr><td>push user</td><td>geoff@darktrojan.net</td></tr>
<tr><td>push date</td><td class="date age">Thu, 20 Dec 2018 07:20:59 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@66eedcaff9fa [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=66eedcaff9fac89a318dd866d42b3777e32e58c4">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=66eedcaff9fac89a318dd866d42b3777e32e58c4&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=66eedcaff9fac89a318dd866d42b3777e32e58c4&newProject=comm-central&newRevision=3df0e93306f9092a25631f9c7558cceb577fa9d8&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=66eedcaff9fac89a318dd866d42b3777e32e58c4&newProject=comm-central&newRevision=3df0e93306f9092a25631f9c7558cceb577fa9d8&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=66eedcaff9fac89a318dd866d42b3777e32e58c4&newProject=comm-central&newRevision=3df0e93306f9092a25631f9c7558cceb577fa9d8&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1515176">1515176</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1515176">Bug 1515176</a> - Restrict access to APIs where a manifest key is required; r=mkmelin</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/browserAction.json">mail/components/extensions/schemas/browserAction.json</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/browserAction.json">file</a> |
<a href="/comm-central/annotate/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/browserAction.json">annotate</a> |
<a href="/comm-central/diff/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/browserAction.json">diff</a> |
<a href="/comm-central/comparison/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/browserAction.json">comparison</a> |
<a href="/comm-central/log/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/browserAction.json">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/cloudFile.json">mail/components/extensions/schemas/cloudFile.json</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/cloudFile.json">file</a> |
<a href="/comm-central/annotate/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/cloudFile.json">annotate</a> |
<a href="/comm-central/diff/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/cloudFile.json">diff</a> |
<a href="/comm-central/comparison/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/cloudFile.json">comparison</a> |
<a href="/comm-central/log/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/cloudFile.json">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/composeAction.json">mail/components/extensions/schemas/composeAction.json</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/composeAction.json">file</a> |
<a href="/comm-central/annotate/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/composeAction.json">annotate</a> |
<a href="/comm-central/diff/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/composeAction.json">diff</a> |
<a href="/comm-central/comparison/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/composeAction.json">comparison</a> |
<a href="/comm-central/log/3df0e93306f9092a25631f9c7558cceb577fa9d8/mail/components/extensions/schemas/composeAction.json">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/components/extensions/schemas/browserAction.json</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/components/extensions/schemas/browserAction.json</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -46,16 +46,17 @@</span>
<a href="#l1.4"></a><span id="l1.4">           }</span>
<a href="#l1.5"></a><span id="l1.5">         }</span>
<a href="#l1.6"></a><span id="l1.6">       }</span>
<a href="#l1.7"></a><span id="l1.7">     ]</span>
<a href="#l1.8"></a><span id="l1.8">   },</span>
<a href="#l1.9"></a><span id="l1.9">   {</span>
<a href="#l1.10"></a><span id="l1.10">     &quot;namespace&quot;: &quot;browserAction&quot;,</span>
<a href="#l1.11"></a><span id="l1.11">     &quot;description&quot;: &quot;Use toolbar actions to put icons in the mail window toolbar. In addition to its icon, a toolbar action can also have a tooltip, a badge, and a popup. This namespace is called browserAction for compatibility with browser WebExtensions.&quot;,</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+    &quot;permissions&quot;: [&quot;manifest:browser_action&quot;],</span>
<a href="#l1.13"></a><span id="l1.13">     &quot;types&quot;: [</span>
<a href="#l1.14"></a><span id="l1.14">       {</span>
<a href="#l1.15"></a><span id="l1.15">         &quot;id&quot;: &quot;Details&quot;,</span>
<a href="#l1.16"></a><span id="l1.16">         &quot;type&quot;: &quot;object&quot;,</span>
<a href="#l1.17"></a><span id="l1.17">         &quot;description&quot;: &quot;Specifies to which tab or window the value should be set, or from which one it should be retrieved. If no tab nor window is specified, the global value is set or retrieved.&quot;,</span>
<a href="#l1.18"></a><span id="l1.18">         &quot;properties&quot;: {</span>
<a href="#l1.19"></a><span id="l1.19">           &quot;tabId&quot;: {</span>
<a href="#l1.20"></a><span id="l1.20">             &quot;type&quot;: &quot;integer&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/components/extensions/schemas/cloudFile.json</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/components/extensions/schemas/cloudFile.json</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -37,16 +37,17 @@</span>
<a href="#l2.4"></a><span id="l2.4">             &quot;optional&quot;: true</span>
<a href="#l2.5"></a><span id="l2.5">           }</span>
<a href="#l2.6"></a><span id="l2.6">         }</span>
<a href="#l2.7"></a><span id="l2.7">       }</span>
<a href="#l2.8"></a><span id="l2.8">     ]</span>
<a href="#l2.9"></a><span id="l2.9">   },</span>
<a href="#l2.10"></a><span id="l2.10">   {</span>
<a href="#l2.11"></a><span id="l2.11">     &quot;namespace&quot;: &quot;cloudFile&quot;,</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+    &quot;permissions&quot;: [&quot;manifest:cloud_file&quot;],</span>
<a href="#l2.13"></a><span id="l2.13">     &quot;allowedContexts&quot;: [&quot;content&quot;],</span>
<a href="#l2.14"></a><span id="l2.14">     &quot;events&quot;: [</span>
<a href="#l2.15"></a><span id="l2.15">       {</span>
<a href="#l2.16"></a><span id="l2.16">         &quot;name&quot;: &quot;onFileUpload&quot;,</span>
<a href="#l2.17"></a><span id="l2.17">         &quot;type&quot;: &quot;function&quot;,</span>
<a href="#l2.18"></a><span id="l2.18">         &quot;description&quot;: &quot;Fired when a file should be uploaded to the cloud file provider&quot;,</span>
<a href="#l2.19"></a><span id="l2.19">         &quot;parameters&quot;: [</span>
<a href="#l2.20"></a><span id="l2.20">           {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/components/extensions/schemas/composeAction.json</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/components/extensions/schemas/composeAction.json</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -47,16 +47,17 @@</span>
<a href="#l3.4"></a><span id="l3.4">           }</span>
<a href="#l3.5"></a><span id="l3.5">         }</span>
<a href="#l3.6"></a><span id="l3.6">       }</span>
<a href="#l3.7"></a><span id="l3.7">     ]</span>
<a href="#l3.8"></a><span id="l3.8">   },</span>
<a href="#l3.9"></a><span id="l3.9">   {</span>
<a href="#l3.10"></a><span id="l3.10">     &quot;namespace&quot;: &quot;composeAction&quot;,</span>
<a href="#l3.11"></a><span id="l3.11">     &quot;description&quot;: &quot;Use toolbar actions to put icons in the message composition toolbars. In addition to its icon, a toolbar action can also have a tooltip, a badge, and a popup.&quot;,</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+    &quot;permissions&quot;: [&quot;manifest:compose_action&quot;],</span>
<a href="#l3.13"></a><span id="l3.13">     &quot;types&quot;: [</span>
<a href="#l3.14"></a><span id="l3.14">       {</span>
<a href="#l3.15"></a><span id="l3.15">         &quot;id&quot;: &quot;Details&quot;,</span>
<a href="#l3.16"></a><span id="l3.16">         &quot;type&quot;: &quot;object&quot;,</span>
<a href="#l3.17"></a><span id="l3.17">         &quot;description&quot;: &quot;Specifies to which tab or window the value should be set, or from which one it should be retrieved. If no tab nor window is specified, the global value is set or retrieved.&quot;,</span>
<a href="#l3.18"></a><span id="l3.18">         &quot;properties&quot;: {</span>
<a href="#l3.19"></a><span id="l3.19">           &quot;tabId&quot;: {</span>
<a href="#l3.20"></a><span id="l3.20">             &quot;type&quot;: &quot;integer&quot;,</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:31Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

