<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 20022:8a5d2bba2e62d48cd9d728ee36e55156a5284f90</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 8a5d2bba2e62d48cd9d728ee36e55156a5284f90" />
<meta property="og:url" content="/comm-central/rev/8a5d2bba2e62d48cd9d728ee36e55156a5284f90" />
<meta property="og:description" content="Bug 1280898 - Set up eslint for calendar files - enable new-parens,no-array-constructor rule. r=MakeMyDay" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 8a5d2bba2e62d48cd9d728ee36e55156a5284f90 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/8a5d2bba2e62d48cd9d728ee36e55156a5284f90">shortlog</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/8a5d2bba2e62d48cd9d728ee36e55156a5284f90">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90">files</a> |
changeset |
<a href="/comm-central/raw-rev/8a5d2bba2e62d48cd9d728ee36e55156a5284f90">raw</a>  | <a href="/comm-central/archive/8a5d2bba2e62d48cd9d728ee36e55156a5284f90.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">Bug 1280898</a> - Set up eslint for calendar files - enable new-parens,no-array-constructor rule. r=MakeMyDay
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#101;&#115;&#108;&#105;&#110;&#116;&#32;&#60;&#101;&#115;&#108;&#105;&#110;&#116;&#64;&#98;&#117;&#103;&#122;&#105;&#108;&#108;&#97;&#46;&#107;&#101;&#119;&#105;&#115;&#46;&#99;&#104;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 08 Jul 2016 11:17:54 +0200</td></tr>

<tr>
 <td>changeset 20022</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/8a5d2bba2e62d48cd9d728ee36e55156a5284f90">8a5d2bba2e62d48cd9d728ee36e55156a5284f90</a></td>
</tr>



<tr>
<td>parent 20021</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/4d3dd4462739e7233fe2e5bc6fe8403f871c04f6">4d3dd4462739e7233fe2e5bc6fe8403f871c04f6</a>
</td>
</tr>

<tr>
<td>child 20023</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/4c4b09ab1abac2056a570412081aad755b24a855">4c4b09ab1abac2056a570412081aad755b24a855</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=8a5d2bba2e62d48cd9d728ee36e55156a5284f90">12289</a></td></tr>
<tr><td>push user</td><td>mozilla@kewis.ch</td></tr>
<tr><td>push date</td><td class="date age">Thu, 15 Sep 2016 22:59:22 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@239f769da6b3 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=239f769da6b375beb31a149046382429f59af6ae">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=239f769da6b375beb31a149046382429f59af6ae&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=239f769da6b375beb31a149046382429f59af6ae&newProject=comm-central&newRevision=505ce0057efd730944a3b6e815d39177c6baf59f&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=239f769da6b375beb31a149046382429f59af6ae&newProject=comm-central&newRevision=505ce0057efd730944a3b6e815d39177c6baf59f&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=239f769da6b375beb31a149046382429f59af6ae&newProject=comm-central&newRevision=505ce0057efd730944a3b6e815d39177c6baf59f&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28MakeMyDay%29&revcount=50">MakeMyDay</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">1280898</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">Bug 1280898</a> - Set up eslint for calendar files - enable new-parens,no-array-constructor rule. r=MakeMyDay

MozReview-Commit-ID: F4uBFfsjxm</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/.eslintrc">calendar/.eslintrc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/.eslintrc">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/.eslintrc">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/.eslintrc">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/.eslintrc">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/.eslintrc">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/agenda-listbox.js">calendar/base/content/agenda-listbox.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/agenda-listbox.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/agenda-listbox.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/agenda-listbox.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/agenda-listbox.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/agenda-listbox.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-base-view.xml">calendar/base/content/calendar-base-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-base-view.xml">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-base-view.xml">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-base-view.xml">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-base-view.xml">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-base-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-extract.js">calendar/base/content/calendar-extract.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-extract.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-extract.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-extract.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-extract.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-extract.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-invitations-manager.js">calendar/base/content/calendar-invitations-manager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-invitations-manager.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-invitations-manager.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-invitations-manager.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-invitations-manager.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-invitations-manager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-month-view.xml">calendar/base/content/calendar-month-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-month-view.xml">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-month-view.xml">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-month-view.xml">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-month-view.xml">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-month-view.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-multiday-view.xml">calendar/base/content/calendar-multiday-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-multiday-view.xml">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-multiday-view.xml">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-multiday-view.xml">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-multiday-view.xml">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/calendar-multiday-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/import-export.js">calendar/base/content/import-export.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/import-export.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/import-export.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/import-export.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/import-export.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/import-export.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/widgets/calendar-widgets.xml">calendar/base/content/widgets/calendar-widgets.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/widgets/calendar-widgets.xml">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/widgets/calendar-widgets.xml">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/widgets/calendar-widgets.xml">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/widgets/calendar-widgets.xml">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/content/widgets/calendar-widgets.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calExtract.jsm">calendar/base/modules/calExtract.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calExtract.jsm">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calExtract.jsm">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calExtract.jsm">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calExtract.jsm">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calExtract.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calItipUtils.jsm">calendar/base/modules/calItipUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calItipUtils.jsm">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calItipUtils.jsm">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calItipUtils.jsm">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calItipUtils.jsm">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/modules/calItipUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/src/calIcsParser.js">calendar/base/src/calIcsParser.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/src/calIcsParser.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/src/calIcsParser.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/src/calIcsParser.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/src/calIcsParser.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/base/src/calIcsParser.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/import-export/calOutlookCSVImportExport.js">calendar/import-export/calOutlookCSVImportExport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/import-export/calOutlookCSVImportExport.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/import-export/calOutlookCSVImportExport.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/import-export/calOutlookCSVImportExport.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/import-export/calOutlookCSVImportExport.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/import-export/calOutlookCSVImportExport.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/lightning/modules/ltnInvitationUtils.jsm">calendar/lightning/modules/ltnInvitationUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/lightning/modules/ltnInvitationUtils.jsm">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/lightning/modules/ltnInvitationUtils.jsm">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/lightning/modules/ltnInvitationUtils.jsm">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/lightning/modules/ltnInvitationUtils.jsm">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/lightning/modules/ltnInvitationUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/composite/calCompositeCalendar.js">calendar/providers/composite/calCompositeCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/composite/calCompositeCalendar.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/composite/calCompositeCalendar.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/composite/calCompositeCalendar.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/composite/calCompositeCalendar.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/composite/calCompositeCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/ics/calICSCalendar.js">calendar/providers/ics/calICSCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/ics/calICSCalendar.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/ics/calICSCalendar.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/ics/calICSCalendar.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/ics/calICSCalendar.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/ics/calICSCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/storage/calStorageCalendar.js">calendar/providers/storage/calStorageCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/storage/calStorageCalendar.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/storage/calStorageCalendar.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/storage/calStorageCalendar.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/storage/calStorageCalendar.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/providers/storage/calStorageCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/mozmill/shared-modules/timezone-utils.js">calendar/test/mozmill/shared-modules/timezone-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/mozmill/shared-modules/timezone-utils.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/mozmill/shared-modules/timezone-utils.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/mozmill/shared-modules/timezone-utils.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/mozmill/shared-modules/timezone-utils.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/mozmill/shared-modules/timezone-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/unit/test_calutils.js">calendar/test/unit/test_calutils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/unit/test_calutils.js">file</a> |
<a href="/comm-central/annotate/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/unit/test_calutils.js">annotate</a> |
<a href="/comm-central/diff/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/unit/test_calutils.js">diff</a> |
<a href="/comm-central/comparison/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/unit/test_calutils.js">comparison</a> |
<a href="/comm-central/log/8a5d2bba2e62d48cd9d728ee36e55156a5284f90/calendar/test/unit/test_calutils.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/.eslintrc</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/.eslintrc</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -23,16 +23,23 @@</span>
<a href="#l1.4"></a><span id="l1.4">     &quot;curly&quot;: 2,</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6">     // Enforce the spacing around the * in generator functions.</span>
<a href="#l1.7"></a><span id="l1.7">     &quot;generator-star-spacing&quot;: [2, &quot;after&quot;],</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9">     // Enforces spacing between keys and values in object literal properties.</span>
<a href="#l1.10"></a><span id="l1.10">     &quot;key-spacing&quot;: [2, {&quot;beforeColon&quot;: false, &quot;afterColon&quot;: true, &quot;mode&quot;: &quot;minimum&quot;}],</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+    // Disallow the omission of parentheses when invoking a constructor with no</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+    // arguments.</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+    &quot;new-parens&quot;: 2,</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+    // Disallow use of the Array constructor.</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+    &quot;no-array-constructor&quot;: 2,</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+</span>
<a href="#l1.19"></a><span id="l1.19">     // Disallow deletion of variables (deleting properties is fine).</span>
<a href="#l1.20"></a><span id="l1.20">     &quot;no-delete-var&quot;: 2,</span>
<a href="#l1.21"></a><span id="l1.21"> </span>
<a href="#l1.22"></a><span id="l1.22">     // Disallow duplicate arguments in functions.</span>
<a href="#l1.23"></a><span id="l1.23">     &quot;no-dupe-args&quot;: 2,</span>
<a href="#l1.24"></a><span id="l1.24"> </span>
<a href="#l1.25"></a><span id="l1.25">     // Disallow duplicate keys when creating object literals.</span>
<a href="#l1.26"></a><span id="l1.26">     &quot;no-dupe-keys&quot;: 2,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/agenda-listbox.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/agenda-listbox.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -453,17 +453,17 @@ function comparisonDate(aItem, aPeriod) </span>
<a href="#l2.4"></a><span id="l2.4">  * Gets the listitems for a given item, possibly in a given period.</span>
<a href="#l2.5"></a><span id="l2.5">  *</span>
<a href="#l2.6"></a><span id="l2.6">  * @param aItem         The item to get the list items for.</span>
<a href="#l2.7"></a><span id="l2.7">  * @param aPeriod       (optional) the period to search in.</span>
<a href="#l2.8"></a><span id="l2.8">  * @return              An array of list items for the given item.</span>
<a href="#l2.9"></a><span id="l2.9">  */</span>
<a href="#l2.10"></a><span id="l2.10"> agendaListbox.getListItems =</span>
<a href="#l2.11"></a><span id="l2.11"> function getListItems(aItem, aPeriod) {</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-    var retlistItems = new Array();</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+    var retlistItems = [];</span>
<a href="#l2.14"></a><span id="l2.14">     var periods = [aPeriod];</span>
<a href="#l2.15"></a><span id="l2.15">     if (!aPeriod) {</span>
<a href="#l2.16"></a><span id="l2.16">         periods = this.findPeriodsForItem(aItem);</span>
<a href="#l2.17"></a><span id="l2.17">     }</span>
<a href="#l2.18"></a><span id="l2.18">     if (periods.length &gt; 0) {</span>
<a href="#l2.19"></a><span id="l2.19">         for (var i = 0; i &lt; periods.length; i++) {</span>
<a href="#l2.20"></a><span id="l2.20">             let period = periods[i];</span>
<a href="#l2.21"></a><span id="l2.21">             let complistItem = period.listItem;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/calendar-base-view.xml</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/calendar-base-view.xml</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -659,17 +659,17 @@</span>
<a href="#l3.4"></a><span id="l3.4">       &lt;method name=&quot;updateDaysOffPrefs&quot;&gt;</span>
<a href="#l3.5"></a><span id="l3.5">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l3.6"></a><span id="l3.6">             const weekPrefix = &quot;calendar.week.&quot;;</span>
<a href="#l3.7"></a><span id="l3.7">             const prefNames = [&quot;d0sundaysoff&quot;, &quot;d1mondaysoff&quot;, &quot;d2tuesdaysoff&quot;,</span>
<a href="#l3.8"></a><span id="l3.8">                                &quot;d3wednesdaysoff&quot;, &quot;d4thursdaysoff&quot;,</span>
<a href="#l3.9"></a><span id="l3.9">                                &quot;d5fridaysoff&quot;, &quot;d6saturdaysoff&quot;];</span>
<a href="#l3.10"></a><span id="l3.10">             const defaults = [&quot;true&quot;, &quot;false&quot;, &quot;false&quot;, &quot;false&quot;,</span>
<a href="#l3.11"></a><span id="l3.11">                               &quot;false&quot;, &quot;false&quot;, &quot;true&quot;];</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-            let daysOff = new Array();</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+            let daysOff = [];</span>
<a href="#l3.14"></a><span id="l3.14">             for (let i in prefNames) {</span>
<a href="#l3.15"></a><span id="l3.15">                 if (Preferences.get(weekPrefix+prefNames[i])) {</span>
<a href="#l3.16"></a><span id="l3.16">                     daysOff.push(Number(i));</span>
<a href="#l3.17"></a><span id="l3.17">                 }</span>
<a href="#l3.18"></a><span id="l3.18">             }</span>
<a href="#l3.19"></a><span id="l3.19">             this.daysOffArray = daysOff;</span>
<a href="#l3.20"></a><span id="l3.20">         ]]&gt;&lt;/body&gt;</span>
<a href="#l3.21"></a><span id="l3.21">       &lt;/method&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/calendar-extract.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/calendar-extract.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> </span>
<a href="#l4.5"></a><span id="l4.5"> Components.utils.import(&quot;resource://calendar/modules/calExtract.jsm&quot;);</span>
<a href="#l4.6"></a><span id="l4.6"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l4.7"></a><span id="l4.7"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9"> var calendarExtract = {</span>
<a href="#l4.10"></a><span id="l4.10">     onShowLocaleMenu: function onShowLocaleMenu(target) {</span>
<a href="#l4.11"></a><span id="l4.11">         let localeList = document.getElementById(target.id);</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-        let langs = new Array();</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+        let langs = [];</span>
<a href="#l4.14"></a><span id="l4.14">         let chrome = Components.classes[&quot;@mozilla.org/chrome/chrome-registry;1&quot;]</span>
<a href="#l4.15"></a><span id="l4.15">                                .getService(Components.interfaces.nsIXULChromeRegistry);</span>
<a href="#l4.16"></a><span id="l4.16">         chrome.QueryInterface(Components.interfaces.nsIToolkitChromeRegistry);</span>
<a href="#l4.17"></a><span id="l4.17">         let locales = chrome.getLocalesForPackage(&quot;calendar&quot;);</span>
<a href="#l4.18"></a><span id="l4.18">         let langRegex = /^(([^-]+)-*(.*))$/;</span>
<a href="#l4.19"></a><span id="l4.19"> </span>
<a href="#l4.20"></a><span id="l4.20">         while (locales.hasMore()) {</span>
<a href="#l4.21"></a><span id="l4.21">             let localeParts = langRegex.exec(locales.getNext());</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/calendar-invitations-manager.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/calendar-invitations-manager.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -56,17 +56,17 @@ function getInvitationsManager() {</span>
<a href="#l5.4"></a><span id="l5.4"> /**</span>
<a href="#l5.5"></a><span id="l5.5">  * The invitations manager class constructor</span>
<a href="#l5.6"></a><span id="l5.6">  *</span>
<a href="#l5.7"></a><span id="l5.7">  * XXX do we really need this to be an instance?</span>
<a href="#l5.8"></a><span id="l5.8">  *</span>
<a href="#l5.9"></a><span id="l5.9">  * @constructor</span>
<a href="#l5.10"></a><span id="l5.10">  */</span>
<a href="#l5.11"></a><span id="l5.11"> function InvitationsManager() {</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-    this.mItemList = new Array();</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+    this.mItemList = [];</span>
<a href="#l5.14"></a><span id="l5.14">     this.mStartDate = null;</span>
<a href="#l5.15"></a><span id="l5.15">     this.mJobsPending = 0;</span>
<a href="#l5.16"></a><span id="l5.16">     this.mTimer = null;</span>
<a href="#l5.17"></a><span id="l5.17"> </span>
<a href="#l5.18"></a><span id="l5.18">     var self = this;</span>
<a href="#l5.19"></a><span id="l5.19">     window.addEventListener(&quot;unload&quot;, function() {</span>
<a href="#l5.20"></a><span id="l5.20">         // Unload handlers get removed automatically</span>
<a href="#l5.21"></a><span id="l5.21">         self.cancelInvitationsUpdate();</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineat">@@ -237,17 +237,17 @@ InvitationsManager.prototype = {</span>
<a href="#l5.23"></a><span id="l5.23">      *                                    to this.getInvitations().</span>
<a href="#l5.24"></a><span id="l5.24">      * @param finishedCallBack          A callback function to call when the</span>
<a href="#l5.25"></a><span id="l5.25">      *                                    dialog has completed.</span>
<a href="#l5.26"></a><span id="l5.26">      */</span>
<a href="#l5.27"></a><span id="l5.27">     openInvitationsDialog: function IM_openInvitationsDialog(onLoadOpListener,</span>
<a href="#l5.28"></a><span id="l5.28">                                                              finishedCallBack) {</span>
<a href="#l5.29"></a><span id="l5.29">         var args = new Object();</span>
<a href="#l5.30"></a><span id="l5.30">         args.onLoadOperationListener = onLoadOpListener;</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineminus">-        args.queue = new Array();</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+        args.queue = [];</span>
<a href="#l5.33"></a><span id="l5.33">         args.finishedCallBack = finishedCallBack;</span>
<a href="#l5.34"></a><span id="l5.34">         args.requestManager = gInvitationsRequestManager;</span>
<a href="#l5.35"></a><span id="l5.35">         args.invitationsManager = this;</span>
<a href="#l5.36"></a><span id="l5.36">         // the dialog will reset this to auto when it is done loading</span>
<a href="#l5.37"></a><span id="l5.37">         window.setCursor(&quot;wait&quot;);</span>
<a href="#l5.38"></a><span id="l5.38">         // open the dialog</span>
<a href="#l5.39"></a><span id="l5.39">         window.openDialog(</span>
<a href="#l5.40"></a><span id="l5.40">             &quot;chrome://calendar/content/calendar-invitations-dialog.xul&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/calendar-month-view.xml</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/calendar-month-view.xml</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -948,17 +948,17 @@</span>
<a href="#l6.4"></a><span id="l6.4">         ]]&gt;&lt;/body&gt;</span>
<a href="#l6.5"></a><span id="l6.5">       &lt;/method&gt;</span>
<a href="#l6.6"></a><span id="l6.6"> </span>
<a href="#l6.7"></a><span id="l6.7">       &lt;method name=&quot;findDayBoxesForItem&quot;&gt;</span>
<a href="#l6.8"></a><span id="l6.8">         &lt;parameter name=&quot;aItem&quot;/&gt;</span>
<a href="#l6.9"></a><span id="l6.9">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l6.10"></a><span id="l6.10">           var targetDate = null;</span>
<a href="#l6.11"></a><span id="l6.11">           var finishDate = null;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-          var boxes = new Array();</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+          var boxes = [];</span>
<a href="#l6.14"></a><span id="l6.14"> </span>
<a href="#l6.15"></a><span id="l6.15">           // All our boxes are in default tz, so we need these times in them too.</span>
<a href="#l6.16"></a><span id="l6.16">           if (cal.isEvent(aItem)) {</span>
<a href="#l6.17"></a><span id="l6.17">               targetDate = aItem.startDate.getInTimezone(this.mTimezone);</span>
<a href="#l6.18"></a><span id="l6.18">               finishDate = aItem.endDate.getInTimezone(this.mTimezone);</span>
<a href="#l6.19"></a><span id="l6.19">           } else if (cal.isToDo(aItem)) {</span>
<a href="#l6.20"></a><span id="l6.20">               // Consider tasks without entry OR due date.</span>
<a href="#l6.21"></a><span id="l6.21">               if (aItem.entryDate || aItem.dueDate) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -246,17 +246,17 @@</span>
<a href="#l7.4"></a><span id="l7.4">           &lt;xul:label anonid=&quot;fgdragbox-endlabel&quot; class=&quot;fgdragbox-label&quot;/&gt;</span>
<a href="#l7.5"></a><span id="l7.5">         &lt;/xul:box&gt;</span>
<a href="#l7.6"></a><span id="l7.6">       &lt;/xul:stack&gt;</span>
<a href="#l7.7"></a><span id="l7.7">       &lt;xul:calendar-event-box anonid=&quot;config-box&quot; hidden=&quot;true&quot; xbl:inherits=&quot;orient&quot;/&gt;</span>
<a href="#l7.8"></a><span id="l7.8">     &lt;/content&gt;</span>
<a href="#l7.9"></a><span id="l7.9"> </span>
<a href="#l7.10"></a><span id="l7.10">     &lt;implementation&gt;</span>
<a href="#l7.11"></a><span id="l7.11">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-        this.mEventInfos = Array();</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+        this.mEventInfos = [];</span>
<a href="#l7.14"></a><span id="l7.14">         this.mTimezone = UTC();</span>
<a href="#l7.15"></a><span id="l7.15">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17">       &lt;!-- fields --&gt;</span>
<a href="#l7.18"></a><span id="l7.18">       &lt;field name=&quot;mPixPerMin&quot;&gt;0.6&lt;/field&gt;</span>
<a href="#l7.19"></a><span id="l7.19">       &lt;field name=&quot;mStartMin&quot;&gt;0*60&lt;/field&gt;</span>
<a href="#l7.20"></a><span id="l7.20">       &lt;field name=&quot;mEndMin&quot;&gt;24*60&lt;/field&gt;</span>
<a href="#l7.21"></a><span id="l7.21">       &lt;field name=&quot;mDayStartMin&quot;&gt;8*60&lt;/field&gt;</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineat">@@ -264,30 +264,30 @@</span>
<a href="#l7.23"></a><span id="l7.23">       &lt;!--an array of objects that contain information about the events that are to be</span>
<a href="#l7.24"></a><span id="l7.24">       displayed. The contained fields are:</span>
<a href="#l7.25"></a><span id="l7.25">       event:        The event that is to be displayed in a 'calendar-event-box'</span>
<a href="#l7.26"></a><span id="l7.26">       layoutStart:  The 'start'-datetime object of the event in the timezone of the view</span>
<a href="#l7.27"></a><span id="l7.27">       layoutEnd:    The 'end'-datetime object of the event in the timezone of the view.</span>
<a href="#l7.28"></a><span id="l7.28">                     The 'layoutEnd' may be different from the real 'end' time of the</span>
<a href="#l7.29"></a><span id="l7.29">                     event because it considers a certain minimum duration of the event</span>
<a href="#l7.30"></a><span id="l7.30">                     that is basically dependent of the font-size of the event-box label --&gt;</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineminus">-      &lt;field name=&quot;mEventInfos&quot;&gt;new Array()&lt;/field&gt;</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+      &lt;field name=&quot;mEventInfos&quot;&gt;[]&lt;/field&gt;</span>
<a href="#l7.33"></a><span id="l7.33">       &lt;field name=&quot;mEventMap&quot;&gt;null&lt;/field&gt;</span>
<a href="#l7.34"></a><span id="l7.34">       &lt;field name=&quot;mCalendarView&quot;&gt;null&lt;/field&gt;</span>
<a href="#l7.35"></a><span id="l7.35">       &lt;field name=&quot;mDate&quot;&gt;null&lt;/field&gt;</span>
<a href="#l7.36"></a><span id="l7.36">       &lt;field name=&quot;mTimezone&quot;&gt;null&lt;/field&gt;</span>
<a href="#l7.37"></a><span id="l7.37">       &lt;field name=&quot;mDragState&quot;&gt;null&lt;/field&gt;</span>
<a href="#l7.38"></a><span id="l7.38">       &lt;field name=&quot;mLayoutBatchCount&quot;&gt;0&lt;/field&gt;</span>
<a href="#l7.39"></a><span id="l7.39">       &lt;!-- Since we'll often be getting many events in rapid succession, this</span>
<a href="#l7.40"></a><span id="l7.40">            timer helps ensure that we don't re-compute the event map too many</span>
<a href="#l7.41"></a><span id="l7.41">            times in a short interval, and therefore improves performance.--&gt;</span>
<a href="#l7.42"></a><span id="l7.42">       &lt;field name=&quot;mEventMapTimeout&quot;&gt;null&lt;/field&gt;</span>
<a href="#l7.43"></a><span id="l7.43">       &lt;!-- Sometimes we need to add resize handlers for columns with special</span>
<a href="#l7.44"></a><span id="l7.44">            widths.  When we relayout, we need to cancel those handlers --&gt;</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineminus">-      &lt;field name=&quot;mHandlersToRemove&quot;&gt;new Array()&lt;/field&gt;</span>
<a href="#l7.46"></a><span id="l7.46" class="difflineplus">+      &lt;field name=&quot;mHandlersToRemove&quot;&gt;[]&lt;/field&gt;</span>
<a href="#l7.47"></a><span id="l7.47"> </span>
<a href="#l7.48"></a><span id="l7.48">       &lt;!-- Set this true so that we know in our onAddItem listener to start</span>
<a href="#l7.49"></a><span id="l7.49">          - modifying an event when it comes back to us as created</span>
<a href="#l7.50"></a><span id="l7.50">         --&gt;</span>
<a href="#l7.51"></a><span id="l7.51">       &lt;field name=&quot;mCreatedNewEvent&quot;&gt;false&lt;/field&gt;</span>
<a href="#l7.52"></a><span id="l7.52">       &lt;field name=&quot;mEventToEdit&quot;&gt;null&lt;/field&gt;</span>
<a href="#l7.53"></a><span id="l7.53">       &lt;field name=&quot;mSelectedItemIds&quot;&gt;new Object()&lt;/field&gt;</span>
<a href="#l7.54"></a><span id="l7.54"> </span>
<a href="#l7.55"></a><span id="l7.55" class="difflineat">@@ -705,17 +705,17 @@</span>
<a href="#l7.56"></a><span id="l7.56">           document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;fgdragspacer&quot;).setAttribute(&quot;orient&quot;, orient);</span>
<a href="#l7.57"></a><span id="l7.57"> </span>
<a href="#l7.58"></a><span id="l7.58">           // this one is set to otherorient, since it will contain</span>
<a href="#l7.59"></a><span id="l7.59">           // child boxes set to &quot;orient&quot; (one for each set of</span>
<a href="#l7.60"></a><span id="l7.60">           // overlapping event areas)</span>
<a href="#l7.61"></a><span id="l7.61">           this.topbox.setAttribute(&quot;orient&quot;, otherorient);</span>
<a href="#l7.62"></a><span id="l7.62"> </span>
<a href="#l7.63"></a><span id="l7.63">           this.mEventMap = this.computeEventMap();</span>
<a href="#l7.64"></a><span id="l7.64" class="difflineminus">-          this.mEventBoxes = new Array();</span>
<a href="#l7.65"></a><span id="l7.65" class="difflineplus">+          this.mEventBoxes = [];</span>
<a href="#l7.66"></a><span id="l7.66"> </span>
<a href="#l7.67"></a><span id="l7.67">           if (!this.mEventMap.length) {</span>
<a href="#l7.68"></a><span id="l7.68">               return;</span>
<a href="#l7.69"></a><span id="l7.69">           }</span>
<a href="#l7.70"></a><span id="l7.70"> </span>
<a href="#l7.71"></a><span id="l7.71">           // First of all we create a xul:stack which</span>
<a href="#l7.72"></a><span id="l7.72">           // will hold all events for this event column.</span>
<a href="#l7.73"></a><span id="l7.73">           // The stack will be grouped below .../calendar-event-column/stack/topbox.</span>
<a href="#l7.74"></a><span id="l7.74" class="difflineat">@@ -875,18 +875,18 @@</span>
<a href="#l7.75"></a><span id="l7.75">            *</span>
<a href="#l7.76"></a><span id="l7.76">            * Each blob will be an array of objects with the following properties:</span>
<a href="#l7.77"></a><span id="l7.77">            *    item:     the event/task</span>
<a href="#l7.78"></a><span id="l7.78">            *    startCol: the starting column to display the event in (0-indexed)</span>
<a href="#l7.79"></a><span id="l7.79">            *    colSpan:  the number of columns the item spans</span>
<a href="#l7.80"></a><span id="l7.80">            *</span>
<a href="#l7.81"></a><span id="l7.81">            * An item with no conflicts will have startCol: 0 and colSpan: 1.</span>
<a href="#l7.82"></a><span id="l7.82">            */</span>
<a href="#l7.83"></a><span id="l7.83" class="difflineminus">-          var blobs = new Array();</span>
<a href="#l7.84"></a><span id="l7.84" class="difflineminus">-          var currentBlob = new Array();</span>
<a href="#l7.85"></a><span id="l7.85" class="difflineplus">+          var blobs = [];</span>
<a href="#l7.86"></a><span id="l7.86" class="difflineplus">+          var currentBlob = [];</span>
<a href="#l7.87"></a><span id="l7.87">           function sortByStart(aEventInfo, bEventInfo) {</span>
<a href="#l7.88"></a><span id="l7.88">               // If you pass in tasks without both entry and due dates, I will</span>
<a href="#l7.89"></a><span id="l7.89">               // kill you</span>
<a href="#l7.90"></a><span id="l7.90">               var startComparison = aEventInfo.layoutStart.compare(bEventInfo.layoutStart);</span>
<a href="#l7.91"></a><span id="l7.91">               if (startComparison != 0) {</span>
<a href="#l7.92"></a><span id="l7.92">                   return startComparison;</span>
<a href="#l7.93"></a><span id="l7.93">               } else {</span>
<a href="#l7.94"></a><span id="l7.94">                   // If the items start at the same time, return the longer one</span>
<a href="#l7.95"></a><span id="l7.95" class="difflineat">@@ -915,17 +915,17 @@</span>
<a href="#l7.96"></a><span id="l7.96"> </span>
<a href="#l7.97"></a><span id="l7.97">           // The end time of the last ending event in the entire blob</span>
<a href="#l7.98"></a><span id="l7.98">           var latestItemEnd;</span>
<a href="#l7.99"></a><span id="l7.99"> </span>
<a href="#l7.100"></a><span id="l7.100">           // This array keeps track of the last (latest ending) item in each of</span>
<a href="#l7.101"></a><span id="l7.101">           // the columns of the current blob. We could reconstruct this data at</span>
<a href="#l7.102"></a><span id="l7.102">           // any time by looking at the items in the blob, but that would hurt</span>
<a href="#l7.103"></a><span id="l7.103">           // perf.</span>
<a href="#l7.104"></a><span id="l7.104" class="difflineminus">-          var colEndArray = new Array();</span>
<a href="#l7.105"></a><span id="l7.105" class="difflineplus">+          var colEndArray = [];</span>
<a href="#l7.106"></a><span id="l7.106"> </span>
<a href="#l7.107"></a><span id="l7.107">           /* Go through a 3 step process to try and place each item.</span>
<a href="#l7.108"></a><span id="l7.108">            * Step 1: Look for an existing column with room for the item.</span>
<a href="#l7.109"></a><span id="l7.109">            * Step 2: Look for a previously placed item that can be shrunk in</span>
<a href="#l7.110"></a><span id="l7.110">            *         width to make room for the item.</span>
<a href="#l7.111"></a><span id="l7.111">            * Step 3: Give up and create a new column for the item.</span>
<a href="#l7.112"></a><span id="l7.112">            *</span>
<a href="#l7.113"></a><span id="l7.113">            * (The steps are explained in more detail as we come to them)</span>
<a href="#l7.114"></a><span id="l7.114" class="difflineat">@@ -939,18 +939,18 @@</span>
<a href="#l7.115"></a><span id="l7.115">               }</span>
<a href="#l7.116"></a><span id="l7.116">               if (currentBlob.length &amp;&amp; latestItemEnd &amp;&amp;</span>
<a href="#l7.117"></a><span id="l7.117">                   curItemInfo.layoutStart.compare(latestItemEnd) != -1) {</span>
<a href="#l7.118"></a><span id="l7.118">                   // We're done with this current blob because item starts</span>
<a href="#l7.119"></a><span id="l7.119">                   // after the last event in the current blob ended.</span>
<a href="#l7.120"></a><span id="l7.120">                   blobs.push({blob: currentBlob, totalCols: colEndArray.length});</span>
<a href="#l7.121"></a><span id="l7.121"> </span>
<a href="#l7.122"></a><span id="l7.122">                   // Reset our variables</span>
<a href="#l7.123"></a><span id="l7.123" class="difflineminus">-                  currentBlob = new Array();</span>
<a href="#l7.124"></a><span id="l7.124" class="difflineminus">-                  colEndArray = new Array();</span>
<a href="#l7.125"></a><span id="l7.125" class="difflineplus">+                  currentBlob = [];</span>
<a href="#l7.126"></a><span id="l7.126" class="difflineplus">+                  colEndArray = [];</span>
<a href="#l7.127"></a><span id="l7.127">               }</span>
<a href="#l7.128"></a><span id="l7.128"> </span>
<a href="#l7.129"></a><span id="l7.129">               // Place the item in its correct place in the blob</span>
<a href="#l7.130"></a><span id="l7.130">               var placedItem = false;</span>
<a href="#l7.131"></a><span id="l7.131"> </span>
<a href="#l7.132"></a><span id="l7.132">               // Step 1</span>
<a href="#l7.133"></a><span id="l7.133">               // Look for a possible column in the blob that has been left open. This</span>
<a href="#l7.134"></a><span id="l7.134">               // would happen if we already have multiple columns but some of</span>
<a href="#l7.135"></a><span id="l7.135" class="difflineat">@@ -2112,17 +2112,17 @@</span>
<a href="#l7.136"></a><span id="l7.136">   &lt;binding id=&quot;calendar-header-container&quot; extends=&quot;chrome://calendar/content/widgets/calendar-widgets.xml#dragndropContainer&quot;&gt;</span>
<a href="#l7.137"></a><span id="l7.137">     &lt;content xbl:inherits=&quot;selected&quot; flex=&quot;1&quot; class=&quot;calendar-event-column-header&quot;&gt;</span>
<a href="#l7.138"></a><span id="l7.138">         &lt;children/&gt;</span>
<a href="#l7.139"></a><span id="l7.139">     &lt;/content&gt;</span>
<a href="#l7.140"></a><span id="l7.140"> </span>
<a href="#l7.141"></a><span id="l7.141">     &lt;implementation&gt;</span>
<a href="#l7.142"></a><span id="l7.142">       &lt;field name=&quot;mItemBoxes&quot;&gt;null&lt;/field&gt;</span>
<a href="#l7.143"></a><span id="l7.143">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l7.144"></a><span id="l7.144" class="difflineminus">-        this.mItemBoxes = new Array();</span>
<a href="#l7.145"></a><span id="l7.145" class="difflineplus">+        this.mItemBoxes = [];</span>
<a href="#l7.146"></a><span id="l7.146">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l7.147"></a><span id="l7.147"> </span>
<a href="#l7.148"></a><span id="l7.148">       &lt;property name=&quot;date&quot;&gt;</span>
<a href="#l7.149"></a><span id="l7.149">         &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l7.150"></a><span id="l7.150">           return this.mDate;</span>
<a href="#l7.151"></a><span id="l7.151">         ]]&gt;&lt;/getter&gt;</span>
<a href="#l7.152"></a><span id="l7.152">         &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l7.153"></a><span id="l7.153">           this.mDate = val;</span>
<a href="#l7.154"></a><span id="l7.154" class="difflineat">@@ -2923,17 +2923,17 @@</span>
<a href="#l7.155"></a><span id="l7.155">           }</span>
<a href="#l7.156"></a><span id="l7.156"> </span>
<a href="#l7.157"></a><span id="l7.157">         ]]&gt;&lt;/body&gt;</span>
<a href="#l7.158"></a><span id="l7.158">       &lt;/method&gt;</span>
<a href="#l7.159"></a><span id="l7.159"> </span>
<a href="#l7.160"></a><span id="l7.160">       &lt;method name=&quot;getDateList&quot;&gt;</span>
<a href="#l7.161"></a><span id="l7.161">         &lt;parameter name=&quot;aCount&quot;/&gt;</span>
<a href="#l7.162"></a><span id="l7.162">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l7.163"></a><span id="l7.163" class="difflineminus">-           let dates = new Array();</span>
<a href="#l7.164"></a><span id="l7.164" class="difflineplus">+           let dates = [];</span>
<a href="#l7.165"></a><span id="l7.165">            if (this.mStartDate &amp;&amp; this.mEndDate) {</span>
<a href="#l7.166"></a><span id="l7.166">                let d = this.mStartDate.clone();</span>
<a href="#l7.167"></a><span id="l7.167">                while (d.compare(this.mEndDate) &lt;= 0) {</span>
<a href="#l7.168"></a><span id="l7.168">                    dates.push(d.clone());</span>
<a href="#l7.169"></a><span id="l7.169">                    d.day += 1;</span>
<a href="#l7.170"></a><span id="l7.170">                }</span>
<a href="#l7.171"></a><span id="l7.171">            } else if (this.mDateList) {</span>
<a href="#l7.172"></a><span id="l7.172">                for (let d of this.mDateList) {</span>
<a href="#l7.173"></a><span id="l7.173" class="difflineat">@@ -3291,17 +3291,17 @@</span>
<a href="#l7.174"></a><span id="l7.174">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l7.175"></a><span id="l7.175">           if (!this.mStartDate || !this.mEndDate) {</span>
<a href="#l7.176"></a><span id="l7.176">               return;</span>
<a href="#l7.177"></a><span id="l7.177">           }</span>
<a href="#l7.178"></a><span id="l7.178"> </span>
<a href="#l7.179"></a><span id="l7.179">           let orient = this.getAttribute(&quot;orient&quot;) || &quot;horizontal&quot;;</span>
<a href="#l7.180"></a><span id="l7.180">           let otherorient = getOtherOrientation(orient);</span>
<a href="#l7.181"></a><span id="l7.181"> </span>
<a href="#l7.182"></a><span id="l7.182" class="difflineminus">-          let computedDateList = new Array();</span>
<a href="#l7.183"></a><span id="l7.183" class="difflineplus">+          let computedDateList = [];</span>
<a href="#l7.184"></a><span id="l7.184">           let startDate = this.mStartDate.clone();</span>
<a href="#l7.185"></a><span id="l7.185">           while (startDate.compare(this.mEndDate) &lt;= 0) {</span>
<a href="#l7.186"></a><span id="l7.186">               let workday = startDate.clone();</span>
<a href="#l7.187"></a><span id="l7.187">               workday.makeImmutable();</span>
<a href="#l7.188"></a><span id="l7.188">               if (this.mDisplayDaysOff) {</span>
<a href="#l7.189"></a><span id="l7.189">                   computedDateList.push(workday);</span>
<a href="#l7.190"></a><span id="l7.190">               } else if (!this.mDaysOffArray.includes(startDate.weekday)) {</span>
<a href="#l7.191"></a><span id="l7.191">                   computedDateList.push(workday);</span>
<a href="#l7.192"></a><span id="l7.192" class="difflineat">@@ -3337,33 +3337,33 @@</span>
<a href="#l7.193"></a><span id="l7.193">               aDayBox.calendarView = calView;</span>
<a href="#l7.194"></a><span id="l7.194">               aDayBox.setAttribute(&quot;orient&quot;, &quot;vertical&quot;);</span>
<a href="#l7.195"></a><span id="l7.195">               // Since the calendar-header-container boxes have the same vertical</span>
<a href="#l7.196"></a><span id="l7.196">               // orientation for normal and rotated views, it needs an attribute</span>
<a href="#l7.197"></a><span id="l7.197">               // &quot;rotated&quot; in order to have different css rules.</span>
<a href="#l7.198"></a><span id="l7.198">               setBooleanAttribute(aDayBox, &quot;rotated&quot;, orient == &quot;horizontal&quot;);</span>
<a href="#l7.199"></a><span id="l7.199">           }</span>
<a href="#l7.200"></a><span id="l7.200"> </span>
<a href="#l7.201"></a><span id="l7.201" class="difflineminus">-          this.mDateColumns = new Array();</span>
<a href="#l7.202"></a><span id="l7.202" class="difflineplus">+          this.mDateColumns = [];</span>
<a href="#l7.203"></a><span id="l7.203"> </span>
<a href="#l7.204"></a><span id="l7.204"> </span>
<a href="#l7.205"></a><span id="l7.205">           // get today's date</span>
<a href="#l7.206"></a><span id="l7.206">           var today = this.today();</span>
<a href="#l7.207"></a><span id="l7.207">           var counter = 0;</span>
<a href="#l7.208"></a><span id="l7.208">           var dayboxkids = daybox.childNodes;</span>
<a href="#l7.209"></a><span id="l7.209">           var headerboxkids = headerdaybox.childNodes;</span>
<a href="#l7.210"></a><span id="l7.210">           let labelboxkids = this.labeldaybox.childNodes;</span>
<a href="#l7.211"></a><span id="l7.211">           let updateTimeIndicator = false;</span>
<a href="#l7.212"></a><span id="l7.212"> </span>
<a href="#l7.213"></a><span id="l7.213">           for (var d of computedDateList) {</span>
<a href="#l7.214"></a><span id="l7.214">               var dayEventsBox;</span>
<a href="#l7.215"></a><span id="l7.215">               if (counter &lt; dayboxkids.length) {</span>
<a href="#l7.216"></a><span id="l7.216">                   dayEventsBox = dayboxkids[counter];</span>
<a href="#l7.217"></a><span id="l7.217">                   dayEventsBox.removeAttribute(&quot;relation&quot;);</span>
<a href="#l7.218"></a><span id="l7.218" class="difflineminus">-                  dayEventsBox.mEventInfos = new Array();</span>
<a href="#l7.219"></a><span id="l7.219" class="difflineplus">+                  dayEventsBox.mEventInfos = [];</span>
<a href="#l7.220"></a><span id="l7.220">               } else {</span>
<a href="#l7.221"></a><span id="l7.221">                   dayEventsBox = createXULElement(&quot;calendar-event-column&quot;);</span>
<a href="#l7.222"></a><span id="l7.222">                   dayEventsBox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l7.223"></a><span id="l7.223">                   daybox.appendChild(dayEventsBox);</span>
<a href="#l7.224"></a><span id="l7.224">               }</span>
<a href="#l7.225"></a><span id="l7.225">               setUpDayEventsBox(dayEventsBox, d);</span>
<a href="#l7.226"></a><span id="l7.226"> </span>
<a href="#l7.227"></a><span id="l7.227">               var dayHeaderBox;</span>
<a href="#l7.228"></a><span id="l7.228" class="difflineat">@@ -3553,17 +3553,17 @@</span>
<a href="#l7.229"></a><span id="l7.229">               return (col.date.day in occMap);</span>
<a href="#l7.230"></a><span id="l7.230">           });</span>
<a href="#l7.231"></a><span id="l7.231">         ]]&gt;&lt;/body&gt;</span>
<a href="#l7.232"></a><span id="l7.232">       &lt;/method&gt;</span>
<a href="#l7.233"></a><span id="l7.233"> </span>
<a href="#l7.234"></a><span id="l7.234">       &lt;method name=&quot;findColumnsForItem&quot;&gt;</span>
<a href="#l7.235"></a><span id="l7.235">         &lt;parameter name=&quot;aItem&quot;/&gt;</span>
<a href="#l7.236"></a><span id="l7.236">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l7.237"></a><span id="l7.237" class="difflineminus">-          let columns = new Array();</span>
<a href="#l7.238"></a><span id="l7.238" class="difflineplus">+          let columns = [];</span>
<a href="#l7.239"></a><span id="l7.239"> </span>
<a href="#l7.240"></a><span id="l7.240">           if (!this.mDateColumns) {</span>
<a href="#l7.241"></a><span id="l7.241">             return columns;</span>
<a href="#l7.242"></a><span id="l7.242">           }</span>
<a href="#l7.243"></a><span id="l7.243"> </span>
<a href="#l7.244"></a><span id="l7.244">           // Note that these may be dates or datetimes</span>
<a href="#l7.245"></a><span id="l7.245">           let startDate = aItem.startDate || aItem.entryDate || aItem.dueDate;</span>
<a href="#l7.246"></a><span id="l7.246">           if (!startDate) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/content/import-export.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/content/import-export.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -26,17 +26,17 @@ function loadEventsFromFile(aCalendar) {</span>
<a href="#l8.4"></a><span id="l8.4">     let fp = Components.classes[&quot;@mozilla.org/filepicker;1&quot;]</span>
<a href="#l8.5"></a><span id="l8.5">                        .createInstance(nsIFilePicker);</span>
<a href="#l8.6"></a><span id="l8.6">     fp.init(window,</span>
<a href="#l8.7"></a><span id="l8.7">             calGetString(&quot;calendar&quot;, &quot;filepickerTitleImport&quot;),</span>
<a href="#l8.8"></a><span id="l8.8">             nsIFilePicker.modeOpen);</span>
<a href="#l8.9"></a><span id="l8.9">     fp.defaultExtension = &quot;ics&quot;;</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11">     // Get a list of importers</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    let contractids = new Array();</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+    let contractids = [];</span>
<a href="#l8.14"></a><span id="l8.14">     let catman = Components.classes[&quot;@mozilla.org/categorymanager;1&quot;]</span>
<a href="#l8.15"></a><span id="l8.15">                            .getService(Components.interfaces.nsICategoryManager);</span>
<a href="#l8.16"></a><span id="l8.16">     let catenum = catman.enumerateCategory('cal-importers');</span>
<a href="#l8.17"></a><span id="l8.17">     let currentListLength = 0;</span>
<a href="#l8.18"></a><span id="l8.18">     let defaultCIDIndex = 0;</span>
<a href="#l8.19"></a><span id="l8.19">     while (catenum.hasMoreElements()) {</span>
<a href="#l8.20"></a><span id="l8.20">         let entry = catenum.getNext();</span>
<a href="#l8.21"></a><span id="l8.21">         entry = entry.QueryInterface(Components.interfaces.nsISupportsCString);</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineat">@@ -224,17 +224,17 @@ function saveEventsToFile(calendarEventA</span>
<a href="#l8.23"></a><span id="l8.23">         fp.defaultString = calendarEventArray[0].title;</span>
<a href="#l8.24"></a><span id="l8.24">     } else {</span>
<a href="#l8.25"></a><span id="l8.25">         fp.defaultString = calGetString(&quot;calendar&quot;, &quot;defaultFileName&quot;);</span>
<a href="#l8.26"></a><span id="l8.26">     }</span>
<a href="#l8.27"></a><span id="l8.27"> </span>
<a href="#l8.28"></a><span id="l8.28">     fp.defaultExtension = &quot;ics&quot;;</span>
<a href="#l8.29"></a><span id="l8.29"> </span>
<a href="#l8.30"></a><span id="l8.30">     // Get a list of exporters</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-    let contractids = new Array();</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineplus">+    let contractids = [];</span>
<a href="#l8.33"></a><span id="l8.33">     let catman = Components.classes[&quot;@mozilla.org/categorymanager;1&quot;]</span>
<a href="#l8.34"></a><span id="l8.34">                            .getService(Components.interfaces.nsICategoryManager);</span>
<a href="#l8.35"></a><span id="l8.35">     let catenum = catman.enumerateCategory('cal-exporters');</span>
<a href="#l8.36"></a><span id="l8.36">     let currentListLength = 0;</span>
<a href="#l8.37"></a><span id="l8.37">     let defaultCIDIndex = 0;</span>
<a href="#l8.38"></a><span id="l8.38">     while (catenum.hasMoreElements()) {</span>
<a href="#l8.39"></a><span id="l8.39">         let entry = catenum.getNext();</span>
<a href="#l8.40"></a><span id="l8.40">         entry = entry.QueryInterface(Components.interfaces.nsISupportsCString);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-widgets.xml</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-widgets.xml</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -433,17 +433,17 @@</span>
<a href="#l9.4"></a><span id="l9.4">         ]]&gt;&lt;/body&gt;</span>
<a href="#l9.5"></a><span id="l9.5">       &lt;/method&gt;</span>
<a href="#l9.6"></a><span id="l9.6"> </span>
<a href="#l9.7"></a><span id="l9.7">       &lt;method name=&quot;isVisibleInMode&quot;&gt;</span>
<a href="#l9.8"></a><span id="l9.8">         &lt;parameter name=&quot;aMode&quot;/&gt;</span>
<a href="#l9.9"></a><span id="l9.9">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l9.10"></a><span id="l9.10">             var lMode = aMode || this.currentMode;</span>
<a href="#l9.11"></a><span id="l9.11">             var display = true;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-            var lModes = new Array();</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+            var lModes = [];</span>
<a href="#l9.14"></a><span id="l9.14">             if (this.hasAttribute(&quot;mode&quot;)) {</span>
<a href="#l9.15"></a><span id="l9.15">                 var modeString = this.getAttribute(&quot;mode&quot;);</span>
<a href="#l9.16"></a><span id="l9.16">                 lModes = modeString.split(&quot;,&quot;);</span>
<a href="#l9.17"></a><span id="l9.17">             }</span>
<a href="#l9.18"></a><span id="l9.18">             if (lModes &amp;&amp; lModes.length &gt; 0) {</span>
<a href="#l9.19"></a><span id="l9.19">                 display = lModes.includes(lMode);</span>
<a href="#l9.20"></a><span id="l9.20">             }</span>
<a href="#l9.21"></a><span id="l9.21">             return display;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/modules/calExtract.jsm</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/modules/calExtract.jsm</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1029,18 +1029,18 @@ Extractor.prototype = {</span>
<a href="#l10.4"></a><span id="l10.4">             cal.LOG(&quot;[calExtract] Pattern not found: &quot; + name);</span>
<a href="#l10.5"></a><span id="l10.5"> </span>
<a href="#l10.6"></a><span id="l10.6">             // fake a value to avoid empty regexes creating endless loops</span>
<a href="#l10.7"></a><span id="l10.7">             return this.defPattern;</span>
<a href="#l10.8"></a><span id="l10.8">         }</span>
<a href="#l10.9"></a><span id="l10.9">     },</span>
<a href="#l10.10"></a><span id="l10.10"> </span>
<a href="#l10.11"></a><span id="l10.11">     getRepPatterns: function getRepPatterns(name, replaceables) {</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-        let alts = new Array();</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">-        let patterns = new Array();</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+        let alts = [];</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineplus">+        let patterns = [];</span>
<a href="#l10.16"></a><span id="l10.16"> </span>
<a href="#l10.17"></a><span id="l10.17">         try {</span>
<a href="#l10.18"></a><span id="l10.18">             let value = this.bundle.GetStringFromName(name);</span>
<a href="#l10.19"></a><span id="l10.19">             if (value.trim() == &quot;&quot;) {</span>
<a href="#l10.20"></a><span id="l10.20">                 cal.LOG(&quot;[calExtract] Pattern empty: &quot; + name);</span>
<a href="#l10.21"></a><span id="l10.21">                 return alts;</span>
<a href="#l10.22"></a><span id="l10.22">             }</span>
<a href="#l10.23"></a><span id="l10.23"> </span>
<a href="#l10.24"></a><span id="l10.24" class="difflineat">@@ -1083,32 +1083,32 @@ Extractor.prototype = {</span>
<a href="#l10.25"></a><span id="l10.25">                 for (let replaceable in replaceables) {</span>
<a href="#l10.26"></a><span id="l10.26">                     pattern = pattern.split(&quot;#&quot; + cnt).join(replaceables[cnt - 1]);</span>
<a href="#l10.27"></a><span id="l10.27">                     cnt++;</span>
<a href="#l10.28"></a><span id="l10.28">                 }</span>
<a href="#l10.29"></a><span id="l10.29">                 patterns.push(pattern);</span>
<a href="#l10.30"></a><span id="l10.30">             }</span>
<a href="#l10.31"></a><span id="l10.31"> </span>
<a href="#l10.32"></a><span id="l10.32">             for (let val in vals) {</span>
<a href="#l10.33"></a><span id="l10.33" class="difflineminus">-                let positions = new Array();</span>
<a href="#l10.34"></a><span id="l10.34" class="difflineplus">+                let positions = [];</span>
<a href="#l10.35"></a><span id="l10.35">                 if (replaceables.length == 1) {</span>
<a href="#l10.36"></a><span id="l10.36">                     positions[1] = 1;</span>
<a href="#l10.37"></a><span id="l10.37">                 } else {</span>
<a href="#l10.38"></a><span id="l10.38">                     positions = this.getPositionsFor(vals[val], name, replaceables.length);</span>
<a href="#l10.39"></a><span id="l10.39">                 }</span>
<a href="#l10.40"></a><span id="l10.40">                 alts[val] = {pattern: patterns[val], positions: positions};</span>
<a href="#l10.41"></a><span id="l10.41">             }</span>
<a href="#l10.42"></a><span id="l10.42">         } catch (ex) {</span>
<a href="#l10.43"></a><span id="l10.43">             cal.LOG(&quot;[calExtract] Pattern not found: &quot; + name);</span>
<a href="#l10.44"></a><span id="l10.44">         }</span>
<a href="#l10.45"></a><span id="l10.45">         return alts;</span>
<a href="#l10.46"></a><span id="l10.46">     },</span>
<a href="#l10.47"></a><span id="l10.47"> </span>
<a href="#l10.48"></a><span id="l10.48">     getPositionsFor: function getPositionsFor(s, name, count) {</span>
<a href="#l10.49"></a><span id="l10.49" class="difflineminus">-        let positions = new Array();</span>
<a href="#l10.50"></a><span id="l10.50" class="difflineplus">+        let positions = [];</span>
<a href="#l10.51"></a><span id="l10.51">         let re = /#(\d)/g;</span>
<a href="#l10.52"></a><span id="l10.52">         let match;</span>
<a href="#l10.53"></a><span id="l10.53">         let i = 0;</span>
<a href="#l10.54"></a><span id="l10.54">         while ((match = re.exec(s))) {</span>
<a href="#l10.55"></a><span id="l10.55">             i++;</span>
<a href="#l10.56"></a><span id="l10.56">             positions[parseInt(match[1], 10)] = i;</span>
<a href="#l10.57"></a><span id="l10.57">         }</span>
<a href="#l10.58"></a><span id="l10.58"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/modules/calItipUtils.jsm</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/modules/calItipUtils.jsm</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -630,17 +630,17 @@ cal.itip = {</span>
<a href="#l11.4"></a><span id="l11.4">                     aItem.addAttendee(invitedAttendee);</span>
<a href="#l11.5"></a><span id="l11.5">                     // we remove X-MS-OLK-SENDER to avoid confusing Outlook 2007+ (w/o Exchange)</span>
<a href="#l11.6"></a><span id="l11.6">                     // about the notification sender (see bug 603933)</span>
<a href="#l11.7"></a><span id="l11.7">                     if (aItem.hasProperty(&quot;X-MS-OLK-SENDER&quot;)) {</span>
<a href="#l11.8"></a><span id="l11.8">                         aItem.deleteProperty(&quot;X-MS-OLK-SENDER&quot;);</span>
<a href="#l11.9"></a><span id="l11.9">                     }</span>
<a href="#l11.10"></a><span id="l11.10">                     // if the event was delegated to the replying attendee, we may also notify also</span>
<a href="#l11.11"></a><span id="l11.11">                     // the delegator due to chapter 3.2.2.3. of RfC 5546</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-                    let replyTo = new Array;</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+                    let replyTo = [];</span>
<a href="#l11.14"></a><span id="l11.14">                     let delegatorIds = invitedAttendee.getProperty(&quot;DELEGATED-FROM&quot;);</span>
<a href="#l11.15"></a><span id="l11.15">                     if (delegatorIds &amp;&amp;</span>
<a href="#l11.16"></a><span id="l11.16">                         Preferences.get(&quot;calendar.itip.notifyDelegatorOnReply&quot;, false)) {</span>
<a href="#l11.17"></a><span id="l11.17">                         let getDelegator = function (aDelegatorId) {</span>
<a href="#l11.18"></a><span id="l11.18">                             let delegator = aOriginalItem.getAttendeeById(aDelegatorId);</span>
<a href="#l11.19"></a><span id="l11.19">                             if (delegator) {</span>
<a href="#l11.20"></a><span id="l11.20">                                 replyTo.push(delegator);</span>
<a href="#l11.21"></a><span id="l11.21">                             }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/src/calIcsParser.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/src/calIcsParser.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -3,20 +3,20 @@</span>
<a href="#l12.4"></a><span id="l12.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l12.5"></a><span id="l12.5"> </span>
<a href="#l12.6"></a><span id="l12.6"> Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l12.7"></a><span id="l12.7"> Components.utils.import(&quot;resource://calendar/modules/calIteratorUtils.jsm&quot;);</span>
<a href="#l12.8"></a><span id="l12.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l12.9"></a><span id="l12.9"> </span>
<a href="#l12.10"></a><span id="l12.10"> function calIcsParser() {</span>
<a href="#l12.11"></a><span id="l12.11">     this.wrappedJSObject = this;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-    this.mItems = new Array();</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-    this.mParentlessItems = new Array();</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-    this.mComponents = new Array();</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineminus">-    this.mProperties = new Array();</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineplus">+    this.mItems = [];</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineplus">+    this.mParentlessItems = [];</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineplus">+    this.mComponents = [];</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineplus">+    this.mProperties = [];</span>
<a href="#l12.20"></a><span id="l12.20"> }</span>
<a href="#l12.21"></a><span id="l12.21"> var calIcsParserClassID = Components.ID(&quot;{6fe88047-75b6-4874-80e8-5f5800f14984}&quot;);</span>
<a href="#l12.22"></a><span id="l12.22"> var calIcsParserInterfaces = [Components.interfaces.calIIcsParser];</span>
<a href="#l12.23"></a><span id="l12.23"> calIcsParser.prototype = {</span>
<a href="#l12.24"></a><span id="l12.24">     classID: calIcsParserClassID,</span>
<a href="#l12.25"></a><span id="l12.25">     QueryInterface: XPCOMUtils.generateQI(calIcsParserInterfaces),</span>
<a href="#l12.26"></a><span id="l12.26">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l12.27"></a><span id="l12.27">         classID: calIcsParserClassID,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/import-export/calOutlookCSVImportExport.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/import-export/calOutlookCSVImportExport.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -221,17 +221,17 @@ calOutlookCSVImporter.prototype = {</span>
<a href="#l13.4"></a><span id="l13.4">             aCount.value = 0;</span>
<a href="#l13.5"></a><span id="l13.5">             return [];</span>
<a href="#l13.6"></a><span id="l13.6">         }</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8">         args.boolStr = localeEn.valueTrue;</span>
<a href="#l13.9"></a><span id="l13.9">         args.boolIsTrue = true;</span>
<a href="#l13.10"></a><span id="l13.10"> </span>
<a href="#l13.11"></a><span id="l13.11">         let dateParseConfirmed = false;</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-        let eventArray = new Array();</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+        let eventArray = [];</span>
<a href="#l13.14"></a><span id="l13.14">         do {</span>
<a href="#l13.15"></a><span id="l13.15">             // At this point eventFields contains following fields. Position</span>
<a href="#l13.16"></a><span id="l13.16">             // of fields is in args.[fieldname]Index.</span>
<a href="#l13.17"></a><span id="l13.17">             //    subject, start date, start time, end date, end time,</span>
<a href="#l13.18"></a><span id="l13.18">             //    all day, alarm on, alarm date, alarm time,</span>
<a href="#l13.19"></a><span id="l13.19">             //    Description, Categories, Location, Private</span>
<a href="#l13.20"></a><span id="l13.20">             // Unused fields (could maybe be copied to Description):</span>
<a href="#l13.21"></a><span id="l13.21">             //    Meeting Organizer, Required Attendees, Optional Attendees,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/lightning/modules/ltnInvitationUtils.jsm</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/lightning/modules/ltnInvitationUtils.jsm</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -188,17 +188,17 @@ ltn.invitation = {</span>
<a href="#l14.4"></a><span id="l14.4">                                     /* Remove the useless &quot;Outlookism&quot; squiggle. */</span>
<a href="#l14.5"></a><span id="l14.5">                                     .replace(&quot;*~*~*~*~*~*~*~*~*~*&quot;, &quot;&quot;);</span>
<a href="#l14.6"></a><span id="l14.6">         field(&quot;description&quot;, eventDescription, true);</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8">         // URL</span>
<a href="#l14.9"></a><span id="l14.9">         field(&quot;url&quot;, aEvent.getProperty(&quot;URL&quot;), true);</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11">         // ATTACH - we only display URI but no BINARY type attachments here</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-        let links = new Array();</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+        let links = [];</span>
<a href="#l14.14"></a><span id="l14.14">         let attachments = aEvent.getAttachments({});</span>
<a href="#l14.15"></a><span id="l14.15">         for (let attachment of attachments) {</span>
<a href="#l14.16"></a><span id="l14.16">             if (attachment.uri) {</span>
<a href="#l14.17"></a><span id="l14.17">                 links.push(attachment.uri.spec);</span>
<a href="#l14.18"></a><span id="l14.18">             }</span>
<a href="#l14.19"></a><span id="l14.19">         }</span>
<a href="#l14.20"></a><span id="l14.20">         field(&quot;attachments&quot;, links.join(&quot;&lt;br&gt;&quot;), true);</span>
<a href="#l14.21"></a><span id="l14.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -69,17 +69,17 @@ calCompositeCalendarObserverHelper.proto</span>
<a href="#l15.4"></a><span id="l15.4">         this.compCalendar.mObservers.notify(&quot;onPropertyDeleting&quot;, arguments);</span>
<a href="#l15.5"></a><span id="l15.5">     }</span>
<a href="#l15.6"></a><span id="l15.6"> };</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8"> function calCompositeCalendar () {</span>
<a href="#l15.9"></a><span id="l15.9">     this.mObserverHelper = new calCompositeCalendarObserverHelper(this);</span>
<a href="#l15.10"></a><span id="l15.10">     this.wrappedJSObject = this;</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-    this.mCalendars = new Array();</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+    this.mCalendars = [];</span>
<a href="#l15.14"></a><span id="l15.14">     this.mCompositeObservers = new cal.ObserverBag(Components.interfaces.calICompositeObserver);</span>
<a href="#l15.15"></a><span id="l15.15">     this.mObservers = new cal.ObserverBag(Components.interfaces.calIObserver);</span>
<a href="#l15.16"></a><span id="l15.16">     this.mDefaultCalendar = null;</span>
<a href="#l15.17"></a><span id="l15.17">     this.mStatusObserver = null;</span>
<a href="#l15.18"></a><span id="l15.18"> }</span>
<a href="#l15.19"></a><span id="l15.19"> </span>
<a href="#l15.20"></a><span id="l15.20"> var calCompositeCalendarClassID = Components.ID(&quot;{aeff788d-63b0-4996-91fb-40a7654c6224}&quot;);</span>
<a href="#l15.21"></a><span id="l15.21"> var calCompositeCalendarInterfaces = [</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -40,17 +40,17 @@ function icsXPathFirst(aNode, aExpr, aTy</span>
<a href="#l16.4"></a><span id="l16.4"> }</span>
<a href="#l16.5"></a><span id="l16.5"> </span>
<a href="#l16.6"></a><span id="l16.6"> function calICSCalendar() {</span>
<a href="#l16.7"></a><span id="l16.7">     this.initProviderBase();</span>
<a href="#l16.8"></a><span id="l16.8">     this.initICSCalendar();</span>
<a href="#l16.9"></a><span id="l16.9"> </span>
<a href="#l16.10"></a><span id="l16.10">     this.unmappedComponents = [];</span>
<a href="#l16.11"></a><span id="l16.11">     this.unmappedProperties = [];</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-    this.queue = new Array();</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+    this.queue = [];</span>
<a href="#l16.14"></a><span id="l16.14">     this.mModificationActions = [];</span>
<a href="#l16.15"></a><span id="l16.15"> }</span>
<a href="#l16.16"></a><span id="l16.16"> var calICSCalendarClassID = Components.ID(&quot;{f8438bff-a3c9-4ed5-b23f-2663b5469abf}&quot;);</span>
<a href="#l16.17"></a><span id="l16.17"> var calICSCalendarInterfaces = [</span>
<a href="#l16.18"></a><span id="l16.18">     Components.interfaces.calICalendarProvider,</span>
<a href="#l16.19"></a><span id="l16.19">     Components.interfaces.calICalendar,</span>
<a href="#l16.20"></a><span id="l16.20">     Components.interfaces.calISchedulingSupport,</span>
<a href="#l16.21"></a><span id="l16.21">     Components.interfaces.nsIStreamListener,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -672,17 +672,17 @@ calStorageCalendar.prototype = {</span>
<a href="#l17.4"></a><span id="l17.4">     {</span>
<a href="#l17.5"></a><span id="l17.5">         //var profStartTime = Date.now();</span>
<a href="#l17.6"></a><span id="l17.6">         if (!aListener) {</span>
<a href="#l17.7"></a><span id="l17.7">             return;</span>
<a href="#l17.8"></a><span id="l17.8">         }</span>
<a href="#l17.9"></a><span id="l17.9"> </span>
<a href="#l17.10"></a><span id="l17.10">         let self = this;</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-        let itemsFound = Array();</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+        let itemsFound = [];</span>
<a href="#l17.14"></a><span id="l17.14">         let startTime = -0x7fffffffffffffff;</span>
<a href="#l17.15"></a><span id="l17.15">         // endTime needs to be the max value a PRTime can be</span>
<a href="#l17.16"></a><span id="l17.16">         let endTime = 0x7fffffffffffffff;</span>
<a href="#l17.17"></a><span id="l17.17">         let count = 0;</span>
<a href="#l17.18"></a><span id="l17.18">         if (aRangeStart) {</span>
<a href="#l17.19"></a><span id="l17.19">             startTime = aRangeStart.nativeTime;</span>
<a href="#l17.20"></a><span id="l17.20">         }</span>
<a href="#l17.21"></a><span id="l17.21">         if (aRangeEnd) {</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineat">@@ -1405,18 +1405,18 @@ calStorageCalendar.prototype = {</span>
<a href="#l17.23"></a><span id="l17.23">                 );</span>
<a href="#l17.24"></a><span id="l17.24"> </span>
<a href="#l17.25"></a><span id="l17.25">             // These are only used when deleting an entire calendar</span>
<a href="#l17.26"></a><span id="l17.26">             var extrasTables = [ &quot;cal_attendees&quot;, &quot;cal_properties&quot;,</span>
<a href="#l17.27"></a><span id="l17.27">                                  &quot;cal_recurrence&quot;, &quot;cal_attachments&quot;,</span>
<a href="#l17.28"></a><span id="l17.28">                                  &quot;cal_metadata&quot;, &quot;cal_relations&quot;,</span>
<a href="#l17.29"></a><span id="l17.29">                                  &quot;cal_alarms&quot;];</span>
<a href="#l17.30"></a><span id="l17.30"> </span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-            this.mDeleteEventExtras = new Array();</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineminus">-            this.mDeleteTodoExtras = new Array();</span>
<a href="#l17.33"></a><span id="l17.33" class="difflineplus">+            this.mDeleteEventExtras = [];</span>
<a href="#l17.34"></a><span id="l17.34" class="difflineplus">+            this.mDeleteTodoExtras = [];</span>
<a href="#l17.35"></a><span id="l17.35"> </span>
<a href="#l17.36"></a><span id="l17.36">             for (var table in extrasTables) {</span>
<a href="#l17.37"></a><span id="l17.37">                 this.mDeleteEventExtras[table] = this.mDB.createStatement(</span>
<a href="#l17.38"></a><span id="l17.38">                     &quot;DELETE FROM &quot; + extrasTables[table] + &quot; WHERE item_id IN&quot; +</span>
<a href="#l17.39"></a><span id="l17.39">                     &quot;  (SELECT id FROM cal_events WHERE cal_id = :cal_id)&quot; +</span>
<a href="#l17.40"></a><span id="l17.40">                     &quot; AND cal_id = :cal_id&quot;</span>
<a href="#l17.41"></a><span id="l17.41">                     );</span>
<a href="#l17.42"></a><span id="l17.42">                 this.mDeleteTodoExtras[table] = this.mDB.createStatement(</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/timezone-utils.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/timezone-utils.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -41,17 +41,17 @@ function verify(controller, dates, timez</span>
<a href="#l18.4"></a><span id="l18.4">       let day = times[date][tz][2];</span>
<a href="#l18.5"></a><span id="l18.5"> </span>
<a href="#l18.6"></a><span id="l18.6">       let timeNode = (new elementslib.Lookup(controller.window.document,</span>
<a href="#l18.7"></a><span id="l18.7">                                              timeLine + '[' + correctHour + ']')).getNode();</span>
<a href="#l18.8"></a><span id="l18.8">       let timeY = timeNode.boxObject.y;</span>
<a href="#l18.9"></a><span id="l18.9">       timeY += timeNode.boxObject.height * (minutes / 60);</span>
<a href="#l18.10"></a><span id="l18.10"> </span>
<a href="#l18.11"></a><span id="l18.11">       let stackNode;</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-      let eventNodes = new Array();</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+      let eventNodes = [];</span>
<a href="#l18.14"></a><span id="l18.14"> </span>
<a href="#l18.15"></a><span id="l18.15">       // same day</span>
<a href="#l18.16"></a><span id="l18.16">       if(day == undefined) {</span>
<a href="#l18.17"></a><span id="l18.17">         stackNode = (new elementslib.Lookup(controller.window.document, dayStack)).getNode();</span>
<a href="#l18.18"></a><span id="l18.18">       }</span>
<a href="#l18.19"></a><span id="l18.19"> </span>
<a href="#l18.20"></a><span id="l18.20">       // following day</span>
<a href="#l18.21"></a><span id="l18.21">       if(day != undefined &amp;&amp; day == 1) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/test/unit/test_calutils.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/test/unit/test_calutils.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -90,17 +90,17 @@ function getRecipientList_test() {</span>
<a href="#l19.4"></a><span id="l19.4">                 {id: &quot;urn:uuid:second.example.net&quot;, cn: &quot;second&quot;},</span>
<a href="#l19.5"></a><span id="l19.5">                 {id: &quot;mailto:third@example.net&quot;, cn: &quot;third&quot;}],</span>
<a href="#l19.6"></a><span id="l19.6">         expected: &quot;first &lt;first@example.net&gt;, third &lt;third@example.net&gt;&quot;</span>
<a href="#l19.7"></a><span id="l19.7">     }];</span>
<a href="#l19.8"></a><span id="l19.8"> </span>
<a href="#l19.9"></a><span id="l19.9">     let i = 0;</span>
<a href="#l19.10"></a><span id="l19.10">     for (let test of data) {</span>
<a href="#l19.11"></a><span id="l19.11">         i++;</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-        let attendees = new Array();</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+        let attendees = [];</span>
<a href="#l19.14"></a><span id="l19.14">         for (let att of test.input) {</span>
<a href="#l19.15"></a><span id="l19.15">             let attendee = cal.createAttendee();</span>
<a href="#l19.16"></a><span id="l19.16">             attendee.id = att.id;</span>
<a href="#l19.17"></a><span id="l19.17">             if (att.cn) {</span>
<a href="#l19.18"></a><span id="l19.18">                 attendee.commonName = att.cn;</span>
<a href="#l19.19"></a><span id="l19.19">             }</span>
<a href="#l19.20"></a><span id="l19.20">             attendees.push(attendee);</span>
<a href="#l19.21"></a><span id="l19.21">         }</span>
<a href="#l19.22"></a><span id="l19.22" class="difflineat">@@ -213,17 +213,17 @@ function resolveDelegation_test() {</span>
<a href="#l19.23"></a><span id="l19.23">         expected: {</span>
<a href="#l19.24"></a><span id="l19.24">             delegatees: 'attendee3@example.net',</span>
<a href="#l19.25"></a><span id="l19.25">             delegators: 'attendee2@example.net'</span>
<a href="#l19.26"></a><span id="l19.26">         }</span>
<a href="#l19.27"></a><span id="l19.27">     }];</span>
<a href="#l19.28"></a><span id="l19.28">     let i = 0;</span>
<a href="#l19.29"></a><span id="l19.29">     for (let test of data) {</span>
<a href="#l19.30"></a><span id="l19.30">         i++;</span>
<a href="#l19.31"></a><span id="l19.31" class="difflineminus">-        let attendees = new Array();</span>
<a href="#l19.32"></a><span id="l19.32" class="difflineplus">+        let attendees = [];</span>
<a href="#l19.33"></a><span id="l19.33">         for (let att of test.input.attendees) {</span>
<a href="#l19.34"></a><span id="l19.34">             let attendee = cal.createAttendee();</span>
<a href="#l19.35"></a><span id="l19.35">             attendee.icalString = att;</span>
<a href="#l19.36"></a><span id="l19.36">             attendees.push(attendee);</span>
<a href="#l19.37"></a><span id="l19.37">         }</span>
<a href="#l19.38"></a><span id="l19.38">         let attendee = cal.createAttendee();</span>
<a href="#l19.39"></a><span id="l19.39">         attendee.icalString = test.input.attendee;</span>
<a href="#l19.40"></a><span id="l19.40">         let result = cal.resolveDelegation(attendee, attendees);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

