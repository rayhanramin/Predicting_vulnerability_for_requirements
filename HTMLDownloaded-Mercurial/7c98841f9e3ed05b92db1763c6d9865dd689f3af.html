<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 13785:7c98841f9e3ed05b92db1763c6d9865dd689f3af</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 7c98841f9e3ed05b92db1763c6d9865dd689f3af" />
<meta property="og:url" content="/comm-central/rev/7c98841f9e3ed05b92db1763c6d9865dd689f3af" />
<meta property="og:description" content="Bug 953521 - Display a list of participants of chat rooms." />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 7c98841f9e3ed05b92db1763c6d9865dd689f3af 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/7c98841f9e3ed05b92db1763c6d9865dd689f3af">shortlog</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/7c98841f9e3ed05b92db1763c6d9865dd689f3af">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af">files</a> |
changeset |
<a href="/comm-central/raw-rev/7c98841f9e3ed05b92db1763c6d9865dd689f3af">raw</a>  | <a href="/comm-central/archive/7c98841f9e3ed05b92db1763c6d9865dd689f3af.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=953521">Bug 953521</a> - Display a list of participants of chat rooms.
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#70;&#108;&#111;&#114;&#105;&#97;&#110;&#32;&#81;&#117;&#232;&#122;&#101;&#32;&#60;&#102;&#108;&#111;&#114;&#105;&#97;&#110;&#64;&#105;&#110;&#115;&#116;&#97;&#110;&#116;&#98;&#105;&#114;&#100;&#46;&#111;&#114;&#103;&#62;</td></tr>
<tr><td></td><td class="date age">Sat, 06 Sep 2008 03:27:22 +0200</td></tr>

<tr>
 <td>changeset 13785</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/7c98841f9e3ed05b92db1763c6d9865dd689f3af">7c98841f9e3ed05b92db1763c6d9865dd689f3af</a></td>
</tr>



<tr>
<td>parent 13784</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/d06b90de21e38765857f06a9c5beff0e257fb000">d06b90de21e38765857f06a9c5beff0e257fb000</a>
</td>
</tr>

<tr>
<td>child 13786</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/e8d41fb11c04b12953b365ce2aa2cddedaf25e9a">e8d41fb11c04b12953b365ce2aa2cddedaf25e9a</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=7c98841f9e3ed05b92db1763c6d9865dd689f3af">9778</a></td></tr>
<tr><td>push user</td><td>florian@queze.net</td></tr>
<tr><td>push date</td><td class="date age">Sun, 12 Jan 2014 18:25:45 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@f81a23bfefcd [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&newProject=comm-central&newRevision=279a7aa9624ffb41326b021ff7d8bc68b9b89551&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&newProject=comm-central&newRevision=279a7aa9624ffb41326b021ff7d8bc68b9b89551&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&newProject=comm-central&newRevision=279a7aa9624ffb41326b021ff7d8bc68b9b89551&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>

<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=953521">953521</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=953521">Bug 953521</a> - Display a list of participants of chat rooms.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/conversation.xml">im/base/content/instantbird/conversation.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/conversation.xml">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/conversation.xml">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/conversation.xml">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/conversation.xml">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/conversation.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/instantbird.js">im/base/content/instantbird/instantbird.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/instantbird.js">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/instantbird.js">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/instantbird.js">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/instantbird.js">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/instantbird.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/sound.js">im/base/content/instantbird/sound.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/sound.js">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/sound.js">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/sound.js">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/sound.js">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/base/content/instantbird/sound.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/locales/en-US/chrome/instantbird/instantbird.dtd">im/locales/en-US/chrome/instantbird/instantbird.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/locales/en-US/chrome/instantbird/instantbird.dtd">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/locales/en-US/chrome/instantbird/instantbird.dtd">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/locales/en-US/chrome/instantbird/instantbird.dtd">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/locales/en-US/chrome/instantbird/instantbird.dtd">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/locales/en-US/chrome/instantbird/instantbird.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/founder.png">im/themes/winstripe/instantbird/founder.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/founder.png">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/founder.png">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/founder.png">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/founder.png">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/founder.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/half-operator.png">im/themes/winstripe/instantbird/half-operator.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/half-operator.png">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/half-operator.png">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/half-operator.png">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/half-operator.png">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/half-operator.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/instantbird.css">im/themes/winstripe/instantbird/instantbird.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/instantbird.css">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/instantbird.css">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/instantbird.css">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/instantbird.css">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/instantbird.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/jar.mn">im/themes/winstripe/instantbird/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/jar.mn">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/jar.mn">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/jar.mn">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/jar.mn">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/operator.png">im/themes/winstripe/instantbird/operator.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/operator.png">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/operator.png">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/operator.png">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/operator.png">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/operator.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/voice.png">im/themes/winstripe/instantbird/voice.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/voice.png">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/voice.png">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/voice.png">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/voice.png">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/im/themes/winstripe/instantbird/voice.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/purple/purplexpcom/public/purpleIConversation.idl">purple/purplexpcom/public/purpleIConversation.idl</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7c98841f9e3ed05b92db1763c6d9865dd689f3af/purple/purplexpcom/public/purpleIConversation.idl">file</a> |
<a href="/comm-central/annotate/7c98841f9e3ed05b92db1763c6d9865dd689f3af/purple/purplexpcom/public/purpleIConversation.idl">annotate</a> |
<a href="/comm-central/diff/7c98841f9e3ed05b92db1763c6d9865dd689f3af/purple/purplexpcom/public/purpleIConversation.idl">diff</a> |
<a href="/comm-central/comparison/7c98841f9e3ed05b92db1763c6d9865dd689f3af/purple/purplexpcom/public/purpleIConversation.idl">comparison</a> |
<a href="/comm-central/log/7c98841f9e3ed05b92db1763c6d9865dd689f3af/purple/purplexpcom/public/purpleIConversation.idl">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/im/base/content/instantbird/conversation.xml</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/im/base/content/instantbird/conversation.xml</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -48,32 +48,44 @@</span>
<a href="#l1.4"></a><span id="l1.4">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6">   &lt;binding id=&quot;conversation&quot;&gt;</span>
<a href="#l1.7"></a><span id="l1.7">     &lt;resources&gt;</span>
<a href="#l1.8"></a><span id="l1.8">       &lt;stylesheet src=&quot;chrome://instantbird/skin/instantbird.css&quot;/&gt;</span>
<a href="#l1.9"></a><span id="l1.9">     &lt;/resources&gt;</span>
<a href="#l1.10"></a><span id="l1.10">     &lt;content&gt;</span>
<a href="#l1.11"></a><span id="l1.11">       &lt;xul:vbox class=&quot;convBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-        &lt;xul:browser flex=&quot;1&quot; class=&quot;browser&quot; anonid=&quot;browser&quot; type=&quot;content&quot;/&gt;</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-        &lt;xul:splitter anonid=&quot;splitter&quot; class=&quot;splitter&quot;/&gt;</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+        &lt;xul:hbox class=&quot;topPart&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+          &lt;xul:browser flex=&quot;5&quot; class=&quot;browser&quot; anonid=&quot;browser&quot; type=&quot;content&quot;/&gt;</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+          &lt;xul:splitter anonid=&quot;splitter&quot; collapse=&quot;after&quot; class=&quot;splitter chatOnly&quot;&gt;</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+            &lt;xul:grippy/&gt;</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+          &lt;/xul:splitter&gt;</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+          &lt;xul:vbox class=&quot;chatOnly&quot; width=&quot;150&quot;&gt;</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+            &lt;xul:hbox&gt;</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+              &lt;xul:label class=&quot;header&quot; value=&quot;&amp;chat.participants;&quot;/&gt;</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineplus">+              &lt;xul:textbox flex=&quot;1&quot; readonly=&quot;true&quot; class=&quot;plain&quot; anonid=&quot;participantCount&quot;/&gt;</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineplus">+            &lt;/xul:hbox&gt;</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineplus">+            &lt;xul:listbox flex=&quot;1&quot; anonid=&quot;nicklist&quot;/&gt;</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineplus">+          &lt;/xul:vbox&gt;</span>
<a href="#l1.26"></a><span id="l1.26" class="difflineplus">+        &lt;/xul:hbox&gt;</span>
<a href="#l1.27"></a><span id="l1.27" class="difflineplus">+        &lt;xul:splitter class=&quot;splitter&quot;/&gt;</span>
<a href="#l1.28"></a><span id="l1.28">         &lt;xul:deck anonid=&quot;conv-bottom&quot; class=&quot;conv-bottom&quot; selectedIndex=&quot;1&quot;&gt;</span>
<a href="#l1.29"></a><span id="l1.29">           &lt;xul:vbox&gt;</span>
<a href="#l1.30"></a><span id="l1.30">             &lt;xul:toolbar anonid=&quot;conv-toolbar&quot;&gt;</span>
<a href="#l1.31"></a><span id="l1.31">               &lt;xul:toolbarbutton label=&quot;Bold&quot; oncommand=&quot;this.editorDoCommand('bold');&quot;/&gt;</span>
<a href="#l1.32"></a><span id="l1.32">               &lt;xul:toolbarbutton label=&quot;Italic&quot; oncommand=&quot;this.editorDoCommand('italic');&quot;/&gt;</span>
<a href="#l1.33"></a><span id="l1.33">               &lt;xul:toolbarbutton label=&quot;Underline&quot; oncommand=&quot;this.editorDoCommand('underline');&quot;/&gt;</span>
<a href="#l1.34"></a><span id="l1.34">             &lt;/xul:toolbar&gt;</span>
<a href="#l1.35"></a><span id="l1.35">             &lt;xul:editor anonid=&quot;editor&quot; editortype=&quot;html&quot; src=&quot;about:blank&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l1.36"></a><span id="l1.36">           &lt;/xul:vbox&gt;</span>
<a href="#l1.37"></a><span id="l1.37">           &lt;xul:textbox anonid=&quot;input&quot; multiline=&quot;true&quot; spellcheck=&quot;true&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l1.38"></a><span id="l1.38">         &lt;/xul:deck&gt;</span>
<a href="#l1.39"></a><span id="l1.39">       &lt;/xul:vbox&gt;</span>
<a href="#l1.40"></a><span id="l1.40">     &lt;/content&gt;</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineminus">-    &lt;implementation implements=&quot;nsIWebProgressListener&quot;&gt;</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineplus">+    &lt;implementation implements=&quot;nsIWebProgressListener,nsIObserver&quot;&gt;</span>
<a href="#l1.43"></a><span id="l1.43">      &lt;constructor&gt;</span>
<a href="#l1.44"></a><span id="l1.44">       &lt;![CDATA[</span>
<a href="#l1.45"></a><span id="l1.45">        document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;input&quot;)</span>
<a href="#l1.46"></a><span id="l1.46">                .addEventListener(&quot;keypress&quot;, this.onSendMsg, false);</span>
<a href="#l1.47"></a><span id="l1.47"> </span>
<a href="#l1.48"></a><span id="l1.48">        var browser = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;browser&quot;);</span>
<a href="#l1.49"></a><span id="l1.49">        browser.addEventListener(&quot;keypress&quot;, this.browserKeyPress, false);</span>
<a href="#l1.50"></a><span id="l1.50"> </span>
<a href="#l1.51"></a><span id="l1.51" class="difflineat">@@ -105,16 +117,17 @@</span>
<a href="#l1.52"></a><span id="l1.52">        //editor.contentDocument.designMode = &quot;on&quot;;</span>
<a href="#l1.53"></a><span id="l1.53">        //setTimeout(function() { editor.contentWindow.focus(); }, 100);</span>
<a href="#l1.54"></a><span id="l1.54">       ]]&gt;</span>
<a href="#l1.55"></a><span id="l1.55">      &lt;/constructor&gt;</span>
<a href="#l1.56"></a><span id="l1.56"> </span>
<a href="#l1.57"></a><span id="l1.57">      &lt;destructor&gt;</span>
<a href="#l1.58"></a><span id="l1.58">       &lt;![CDATA[</span>
<a href="#l1.59"></a><span id="l1.59">         this._conv.close();</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineplus">+        this._conv.removeObserver(this);</span>
<a href="#l1.61"></a><span id="l1.61">       ]]&gt;</span>
<a href="#l1.62"></a><span id="l1.62">      &lt;/destructor&gt;</span>
<a href="#l1.63"></a><span id="l1.63"> </span>
<a href="#l1.64"></a><span id="l1.64">      &lt;field name=&quot;loaded&quot;&gt;false&lt;/field&gt;</span>
<a href="#l1.65"></a><span id="l1.65">      &lt;field name=&quot;messageQueue&quot;&gt;[]&lt;/field&gt;</span>
<a href="#l1.66"></a><span id="l1.66"> </span>
<a href="#l1.67"></a><span id="l1.67">      &lt;method name=&quot;addMsg&quot;&gt;</span>
<a href="#l1.68"></a><span id="l1.68">       &lt;parameter name=&quot;aMsg&quot;/&gt;</span>
<a href="#l1.69"></a><span id="l1.69" class="difflineat">@@ -136,41 +149,16 @@</span>
<a href="#l1.70"></a><span id="l1.70">         if (!conv) {</span>
<a href="#l1.71"></a><span id="l1.71">           // The conversation has already been destroyed,</span>
<a href="#l1.72"></a><span id="l1.72">           // probably because the window was closed.</span>
<a href="#l1.73"></a><span id="l1.73">           // Return without doing anything.</span>
<a href="#l1.74"></a><span id="l1.74">           return;</span>
<a href="#l1.75"></a><span id="l1.75">         }</span>
<a href="#l1.76"></a><span id="l1.76">         var time = aMsg.time;</span>
<a href="#l1.77"></a><span id="l1.77">         var name = aMsg.alias ||aMsg.who;</span>
<a href="#l1.78"></a><span id="l1.78" class="difflineminus">-        var pseudoClass = &quot;pseudo&quot;;</span>
<a href="#l1.79"></a><span id="l1.79" class="difflineminus">-        var color = &quot;&quot;;</span>
<a href="#l1.80"></a><span id="l1.80" class="difflineminus">-        if (aMsg.incoming) {</span>
<a href="#l1.81"></a><span id="l1.81" class="difflineminus">-          var nick = conv.isChat &amp;&amp; name.match(/[a-zA-Z0-9]+/);</span>
<a href="#l1.82"></a><span id="l1.82" class="difflineminus">-          if (nick) {</span>
<a href="#l1.83"></a><span id="l1.83" class="difflineminus">-            nick = nick[0].toLowerCase();</span>
<a href="#l1.84"></a><span id="l1.84" class="difflineminus">-            var weight = 10;</span>
<a href="#l1.85"></a><span id="l1.85" class="difflineminus">-            var res = 0;</span>
<a href="#l1.86"></a><span id="l1.86" class="difflineminus">-            for (var i = 0; i &lt; nick.length; ++i) {</span>
<a href="#l1.87"></a><span id="l1.87" class="difflineminus">-               var char = nick.charCodeAt(i) - 47;</span>
<a href="#l1.88"></a><span id="l1.88" class="difflineminus">-               if (char &gt; 10)</span>
<a href="#l1.89"></a><span id="l1.89" class="difflineminus">-                 char -= 39;</span>
<a href="#l1.90"></a><span id="l1.90" class="difflineminus">-               // now char contains a value between 1 and 36</span>
<a href="#l1.91"></a><span id="l1.91" class="difflineminus">-               res += char * weight;</span>
<a href="#l1.92"></a><span id="l1.92" class="difflineminus">-               weight *= 0.52; //arbitrary</span>
<a href="#l1.93"></a><span id="l1.93" class="difflineminus">-            }</span>
<a href="#l1.94"></a><span id="l1.94" class="difflineminus">-            res = Math.round(res) % 360;</span>
<a href="#l1.95"></a><span id="l1.95" class="difflineminus">-            color = &quot; style=\&quot;color: hsl(&quot; + res + &quot;, 100%, 50%)\&quot;&quot;;</span>
<a href="#l1.96"></a><span id="l1.96" class="difflineminus">-          }</span>
<a href="#l1.97"></a><span id="l1.97" class="difflineminus">-          else</span>
<a href="#l1.98"></a><span id="l1.98" class="difflineminus">-            pseudoClass += &quot; incoming&quot;;</span>
<a href="#l1.99"></a><span id="l1.99" class="difflineminus">-        }</span>
<a href="#l1.100"></a><span id="l1.100" class="difflineminus">-        else</span>
<a href="#l1.101"></a><span id="l1.101" class="difflineminus">-          if (aMsg.outgoing)</span>
<a href="#l1.102"></a><span id="l1.102" class="difflineminus">-            pseudoClass += &quot; outgoing&quot;;</span>
<a href="#l1.103"></a><span id="l1.103"> </span>
<a href="#l1.104"></a><span id="l1.104">         var msgClass = [];</span>
<a href="#l1.105"></a><span id="l1.105">         if (aMsg.system)</span>
<a href="#l1.106"></a><span id="l1.106">           msgClass.push(&quot;system&quot;);</span>
<a href="#l1.107"></a><span id="l1.107">         if (aMsg.containsNick)</span>
<a href="#l1.108"></a><span id="l1.108">           msgClass.push(&quot;nick&quot;);</span>
<a href="#l1.109"></a><span id="l1.109">         var txt = '&lt;span class=&quot;date&quot;&gt;' + time + '&lt;/span&gt; ';</span>
<a href="#l1.110"></a><span id="l1.110"> </span>
<a href="#l1.111"></a><span id="l1.111" class="difflineat">@@ -178,27 +166,40 @@</span>
<a href="#l1.112"></a><span id="l1.112">         if (!aMsg.noLinkification) {</span>
<a href="#l1.113"></a><span id="l1.113">           msg = Components.classes[&quot;@mozilla.org/txttohtmlconv;1&quot;]</span>
<a href="#l1.114"></a><span id="l1.114">                           .getService(Ci.mozITXTToHTMLConv)</span>
<a href="#l1.115"></a><span id="l1.115">                           .scanHTML(msg, 2)</span>
<a href="#l1.116"></a><span id="l1.116">                           .replace(/&amp;amp;(apos|quot);/g, &quot;&amp;$1;&quot;);</span>
<a href="#l1.117"></a><span id="l1.117">         }</span>
<a href="#l1.118"></a><span id="l1.118"> </span>
<a href="#l1.119"></a><span id="l1.119">         var me = msg.match(&quot;^/me(.*)&quot;);</span>
<a href="#l1.120"></a><span id="l1.120" class="difflineminus">-        if (!aMsg.system)</span>
<a href="#l1.121"></a><span id="l1.121" class="difflineplus">+        if (!aMsg.system) {</span>
<a href="#l1.122"></a><span id="l1.122" class="difflineplus">+          var pseudoClass = &quot;pseudo&quot;;</span>
<a href="#l1.123"></a><span id="l1.123" class="difflineplus">+          var color = &quot;&quot;;</span>
<a href="#l1.124"></a><span id="l1.124" class="difflineplus">+          if (aMsg.incoming) {</span>
<a href="#l1.125"></a><span id="l1.125" class="difflineplus">+            if (conv instanceof Ci.purpleIConvChat)</span>
<a href="#l1.126"></a><span id="l1.126" class="difflineplus">+              color = &quot; style=\&quot;color: hsl(&quot; + this.buddies[name].color + &quot;, 100%, 50%)\&quot;&quot;;</span>
<a href="#l1.127"></a><span id="l1.127" class="difflineplus">+            else</span>
<a href="#l1.128"></a><span id="l1.128" class="difflineplus">+              pseudoClass += &quot; incoming&quot;;</span>
<a href="#l1.129"></a><span id="l1.129" class="difflineplus">+          }</span>
<a href="#l1.130"></a><span id="l1.130" class="difflineplus">+          else</span>
<a href="#l1.131"></a><span id="l1.131" class="difflineplus">+            if (aMsg.outgoing)</span>
<a href="#l1.132"></a><span id="l1.132" class="difflineplus">+              pseudoClass += &quot; outgoing&quot;;</span>
<a href="#l1.133"></a><span id="l1.133" class="difflineplus">+</span>
<a href="#l1.134"></a><span id="l1.134">           txt += '&lt;span class=&quot;' + pseudoClass + '&quot;' + color + '&gt;' + name  + (me ? &quot;&lt;/span&gt; &quot; : &quot;:&lt;/span&gt; &quot;);</span>
<a href="#l1.135"></a><span id="l1.135" class="difflineminus">-      </span>
<a href="#l1.136"></a><span id="l1.136" class="difflineplus">+        }</span>
<a href="#l1.137"></a><span id="l1.137" class="difflineplus">+</span>
<a href="#l1.138"></a><span id="l1.138">         txt += (me ? me[1] : msg).replace(/\n/g, &quot;&lt;br/&gt;&quot;);</span>
<a href="#l1.139"></a><span id="l1.139">         if (me)</span>
<a href="#l1.140"></a><span id="l1.140">           msgClass.push(&quot;me&quot;);</span>
<a href="#l1.141"></a><span id="l1.141"> </span>
<a href="#l1.142"></a><span id="l1.142">         this._addTxt(txt, msgClass.join(&quot; &quot;));</span>
<a href="#l1.143"></a><span id="l1.143"> </span>
<a href="#l1.144"></a><span id="l1.144">         if (this.tab &amp;&amp; !this.tab.selected &amp;&amp; aMsg.incoming &amp;&amp; !aMsg.system) {</span>
<a href="#l1.145"></a><span id="l1.145" class="difflineminus">-          if (conv.isChat &amp;&amp; aMsg.containsNick)</span>
<a href="#l1.146"></a><span id="l1.146" class="difflineplus">+          if (conv instanceof Ci.purpleIConvChat &amp;&amp; aMsg.containsNick)</span>
<a href="#l1.147"></a><span id="l1.147">             this.tab.setAttribute(&quot;attention&quot;, &quot;true&quot;);</span>
<a href="#l1.148"></a><span id="l1.148">           else</span>
<a href="#l1.149"></a><span id="l1.149">             this.tab.setAttribute(&quot;unread&quot;, &quot;true&quot;);</span>
<a href="#l1.150"></a><span id="l1.150">         }</span>
<a href="#l1.151"></a><span id="l1.151">       ]]&gt;</span>
<a href="#l1.152"></a><span id="l1.152">       &lt;/body&gt;</span>
<a href="#l1.153"></a><span id="l1.153">      &lt;/method&gt;</span>
<a href="#l1.154"></a><span id="l1.154"> </span>
<a href="#l1.155"></a><span id="l1.155" class="difflineat">@@ -397,16 +398,167 @@</span>
<a href="#l1.156"></a><span id="l1.156"> </span>
<a href="#l1.157"></a><span id="l1.157">          editor.value = editor.value.substr(0, editor.selectionStart) + aString +</span>
<a href="#l1.158"></a><span id="l1.158">                         editor.value.substr(editor.selectionEnd);</span>
<a href="#l1.159"></a><span id="l1.159">          editor.selectionStart = editor.selectionEnd = cursorPosition;</span>
<a href="#l1.160"></a><span id="l1.160">        ]]&gt;</span>
<a href="#l1.161"></a><span id="l1.161">        &lt;/body&gt;</span>
<a href="#l1.162"></a><span id="l1.162">      &lt;/method&gt;</span>
<a href="#l1.163"></a><span id="l1.163"> </span>
<a href="#l1.164"></a><span id="l1.164" class="difflineplus">+     &lt;!-- Update the participant count of a chat conversation --&gt;</span>
<a href="#l1.165"></a><span id="l1.165" class="difflineplus">+     &lt;method name=&quot;updateParticipantCount&quot;&gt;</span>
<a href="#l1.166"></a><span id="l1.166" class="difflineplus">+       &lt;body&gt;</span>
<a href="#l1.167"></a><span id="l1.167" class="difflineplus">+       &lt;![CDATA[</span>
<a href="#l1.168"></a><span id="l1.168" class="difflineplus">+         document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;participantCount&quot;).value =</span>
<a href="#l1.169"></a><span id="l1.169" class="difflineplus">+           this.buddies.__count__;</span>
<a href="#l1.170"></a><span id="l1.170" class="difflineplus">+       ]]&gt;</span>
<a href="#l1.171"></a><span id="l1.171" class="difflineplus">+       &lt;/body&gt;</span>
<a href="#l1.172"></a><span id="l1.172" class="difflineplus">+     &lt;/method&gt;</span>
<a href="#l1.173"></a><span id="l1.173" class="difflineplus">+</span>
<a href="#l1.174"></a><span id="l1.174" class="difflineplus">+     &lt;!-- Set the attributes (flags) of a chat buddy --&gt;</span>
<a href="#l1.175"></a><span id="l1.175" class="difflineplus">+     &lt;method name=&quot;setBuddyAttributes&quot;&gt;</span>
<a href="#l1.176"></a><span id="l1.176" class="difflineplus">+       &lt;parameter name=&quot;aItem&quot;/&gt;</span>
<a href="#l1.177"></a><span id="l1.177" class="difflineplus">+       &lt;body&gt;</span>
<a href="#l1.178"></a><span id="l1.178" class="difflineplus">+       &lt;![CDATA[</span>
<a href="#l1.179"></a><span id="l1.179" class="difflineplus">+         var buddy = aItem.chatBuddy;</span>
<a href="#l1.180"></a><span id="l1.180" class="difflineplus">+         var image;</span>
<a href="#l1.181"></a><span id="l1.181" class="difflineplus">+         if (!buddy.noFlags) {</span>
<a href="#l1.182"></a><span id="l1.182" class="difflineplus">+           if (buddy.op)</span>
<a href="#l1.183"></a><span id="l1.183" class="difflineplus">+             image = &quot;operator&quot;;</span>
<a href="#l1.184"></a><span id="l1.184" class="difflineplus">+           else if (buddy.halfOp)</span>
<a href="#l1.185"></a><span id="l1.185" class="difflineplus">+             image = &quot;half-operator&quot;;</span>
<a href="#l1.186"></a><span id="l1.186" class="difflineplus">+           else if (buddy.voiced)</span>
<a href="#l1.187"></a><span id="l1.187" class="difflineplus">+             image = &quot;voice&quot;;</span>
<a href="#l1.188"></a><span id="l1.188" class="difflineplus">+           else if (buddy.founder)</span>
<a href="#l1.189"></a><span id="l1.189" class="difflineplus">+             image = &quot;founder&quot;;</span>
<a href="#l1.190"></a><span id="l1.190" class="difflineplus">+         }</span>
<a href="#l1.191"></a><span id="l1.191" class="difflineplus">+         if (image)</span>
<a href="#l1.192"></a><span id="l1.192" class="difflineplus">+           aItem.setAttribute(&quot;image&quot;, &quot;chrome://instantbird/skin/&quot; + image + &quot;.png&quot;);</span>
<a href="#l1.193"></a><span id="l1.193" class="difflineplus">+         else</span>
<a href="#l1.194"></a><span id="l1.194" class="difflineplus">+           aItem.removeAttribute(&quot;image&quot;);</span>
<a href="#l1.195"></a><span id="l1.195" class="difflineplus">+       ]]&gt;</span>
<a href="#l1.196"></a><span id="l1.196" class="difflineplus">+       &lt;/body&gt;</span>
<a href="#l1.197"></a><span id="l1.197" class="difflineplus">+     &lt;/method&gt;</span>
<a href="#l1.198"></a><span id="l1.198" class="difflineplus">+</span>
<a href="#l1.199"></a><span id="l1.199" class="difflineplus">+     &lt;!-- Add a buddy in the visible list of participants --&gt;</span>
<a href="#l1.200"></a><span id="l1.200" class="difflineplus">+     &lt;method name=&quot;addBuddy&quot;&gt;</span>
<a href="#l1.201"></a><span id="l1.201" class="difflineplus">+       &lt;parameter name=&quot;aBuddy&quot;/&gt;</span>
<a href="#l1.202"></a><span id="l1.202" class="difflineplus">+       &lt;body&gt;</span>
<a href="#l1.203"></a><span id="l1.203" class="difflineplus">+       &lt;![CDATA[</span>
<a href="#l1.204"></a><span id="l1.204" class="difflineplus">+         var name = aBuddy.name;</span>
<a href="#l1.205"></a><span id="l1.205" class="difflineplus">+         if (this.buddies.hasOwnProperty(name))</span>
<a href="#l1.206"></a><span id="l1.206" class="difflineplus">+           throw &quot;Adding a chat buddy twice?!&quot;;</span>
<a href="#l1.207"></a><span id="l1.207" class="difflineplus">+         var item = document.createElement(&quot;listitem&quot;);</span>
<a href="#l1.208"></a><span id="l1.208" class="difflineplus">+         item.chatBuddy = aBuddy;</span>
<a href="#l1.209"></a><span id="l1.209" class="difflineplus">+         item.setAttribute(&quot;class&quot;, &quot;listitem-iconic&quot;);</span>
<a href="#l1.210"></a><span id="l1.210" class="difflineplus">+         item.setAttribute(&quot;label&quot;, name);</span>
<a href="#l1.211"></a><span id="l1.211" class="difflineplus">+         this.setBuddyAttributes(item);</span>
<a href="#l1.212"></a><span id="l1.212" class="difflineplus">+</span>
<a href="#l1.213"></a><span id="l1.213" class="difflineplus">+         // Compute the color based on the nick</span>
<a href="#l1.214"></a><span id="l1.214" class="difflineplus">+         var nick = name.match(/[a-zA-Z0-9]+/)[0].toLowerCase();</span>
<a href="#l1.215"></a><span id="l1.215" class="difflineplus">+         var weight = 10;</span>
<a href="#l1.216"></a><span id="l1.216" class="difflineplus">+         var res = 0;</span>
<a href="#l1.217"></a><span id="l1.217" class="difflineplus">+         for (var i = 0; i &lt; nick.length; ++i) {</span>
<a href="#l1.218"></a><span id="l1.218" class="difflineplus">+           var char = nick.charCodeAt(i) - 47;</span>
<a href="#l1.219"></a><span id="l1.219" class="difflineplus">+           if (char &gt; 10)</span>
<a href="#l1.220"></a><span id="l1.220" class="difflineplus">+             char -= 39;</span>
<a href="#l1.221"></a><span id="l1.221" class="difflineplus">+           // now char contains a value between 1 and 36</span>
<a href="#l1.222"></a><span id="l1.222" class="difflineplus">+           res += char * weight;</span>
<a href="#l1.223"></a><span id="l1.223" class="difflineplus">+           weight *= 0.52; //arbitrary</span>
<a href="#l1.224"></a><span id="l1.224" class="difflineplus">+         }</span>
<a href="#l1.225"></a><span id="l1.225" class="difflineplus">+         res = Math.round(res) % 360;</span>
<a href="#l1.226"></a><span id="l1.226" class="difflineplus">+         var style = &quot;color: hsl(&quot; + res + &quot;, 100%, 50%);&quot;;</span>
<a href="#l1.227"></a><span id="l1.227" class="difflineplus">+         item.setAttribute(&quot;style&quot;, style);</span>
<a href="#l1.228"></a><span id="l1.228" class="difflineplus">+         item.color = res;</span>
<a href="#l1.229"></a><span id="l1.229" class="difflineplus">+</span>
<a href="#l1.230"></a><span id="l1.230" class="difflineplus">+         this.buddies[name] = item;</span>
<a href="#l1.231"></a><span id="l1.231" class="difflineplus">+         var nicklist = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;nicklist&quot;);</span>
<a href="#l1.232"></a><span id="l1.232" class="difflineplus">+         nicklist.appendChild(item); //FIXME insert at the right position</span>
<a href="#l1.233"></a><span id="l1.233" class="difflineplus">+         this.updateParticipantCount();</span>
<a href="#l1.234"></a><span id="l1.234" class="difflineplus">+       ]]&gt;</span>
<a href="#l1.235"></a><span id="l1.235" class="difflineplus">+       &lt;/body&gt;</span>
<a href="#l1.236"></a><span id="l1.236" class="difflineplus">+     &lt;/method&gt;</span>
<a href="#l1.237"></a><span id="l1.237" class="difflineplus">+</span>
<a href="#l1.238"></a><span id="l1.238" class="difflineplus">+     &lt;!-- Update a buddy in the visible list of participants --&gt;</span>
<a href="#l1.239"></a><span id="l1.239" class="difflineplus">+     &lt;method name=&quot;updateBuddy&quot;&gt;</span>
<a href="#l1.240"></a><span id="l1.240" class="difflineplus">+       &lt;parameter name=&quot;aBuddy&quot;/&gt;</span>
<a href="#l1.241"></a><span id="l1.241" class="difflineplus">+       &lt;parameter name=&quot;aOldName&quot;/&gt;</span>
<a href="#l1.242"></a><span id="l1.242" class="difflineplus">+       &lt;body&gt;</span>
<a href="#l1.243"></a><span id="l1.243" class="difflineplus">+       &lt;![CDATA[</span>
<a href="#l1.244"></a><span id="l1.244" class="difflineplus">+         var name = aBuddy.name;</span>
<a href="#l1.245"></a><span id="l1.245" class="difflineplus">+         if (!aOldName) {</span>
<a href="#l1.246"></a><span id="l1.246" class="difflineplus">+           // If aOldName is null, we are changing the flags of the buddy</span>
<a href="#l1.247"></a><span id="l1.247" class="difflineplus">+           var item = this.buddies[name];</span>
<a href="#l1.248"></a><span id="l1.248" class="difflineplus">+           item.chatBuddy = aBuddy;</span>
<a href="#l1.249"></a><span id="l1.249" class="difflineplus">+           this.setBuddyAttributes(item);</span>
<a href="#l1.250"></a><span id="l1.250" class="difflineplus">+           return;</span>
<a href="#l1.251"></a><span id="l1.251" class="difflineplus">+         }</span>
<a href="#l1.252"></a><span id="l1.252" class="difflineplus">+</span>
<a href="#l1.253"></a><span id="l1.253" class="difflineplus">+         // Is aOldName is not null, then we are renaming the buddy</span>
<a href="#l1.254"></a><span id="l1.254" class="difflineplus">+         if (!this.buddies.hasOwnProperty(aOldName))</span>
<a href="#l1.255"></a><span id="l1.255" class="difflineplus">+           throw &quot;Updating a chat buddy that does not exist?!&quot;;</span>
<a href="#l1.256"></a><span id="l1.256" class="difflineplus">+</span>
<a href="#l1.257"></a><span id="l1.257" class="difflineplus">+         if (this.buddies.hasOwnProperty(name))</span>
<a href="#l1.258"></a><span id="l1.258" class="difflineplus">+           throw &quot;Updating a chat buddy to an already existing one?!&quot;;</span>
<a href="#l1.259"></a><span id="l1.259" class="difflineplus">+</span>
<a href="#l1.260"></a><span id="l1.260" class="difflineplus">+         var item = this.buddies[aOldName];</span>
<a href="#l1.261"></a><span id="l1.261" class="difflineplus">+         item.chatBuddy = aBuddy;</span>
<a href="#l1.262"></a><span id="l1.262" class="difflineplus">+         delete this.buddies[aOldName];</span>
<a href="#l1.263"></a><span id="l1.263" class="difflineplus">+         this.buddies[name] = item;</span>
<a href="#l1.264"></a><span id="l1.264" class="difflineplus">+         item.setAttribute(&quot;label&quot;, name);</span>
<a href="#l1.265"></a><span id="l1.265" class="difflineplus">+</span>
<a href="#l1.266"></a><span id="l1.266" class="difflineplus">+         // FIXME: move this item to the right position if its name changed</span>
<a href="#l1.267"></a><span id="l1.267" class="difflineplus">+       ]]&gt;</span>
<a href="#l1.268"></a><span id="l1.268" class="difflineplus">+       &lt;/body&gt;</span>
<a href="#l1.269"></a><span id="l1.269" class="difflineplus">+     &lt;/method&gt;</span>
<a href="#l1.270"></a><span id="l1.270" class="difflineplus">+     &lt;method name=&quot;removeBuddy&quot;&gt;</span>
<a href="#l1.271"></a><span id="l1.271" class="difflineplus">+       &lt;parameter name=&quot;aName&quot;/&gt;</span>
<a href="#l1.272"></a><span id="l1.272" class="difflineplus">+       &lt;body&gt;</span>
<a href="#l1.273"></a><span id="l1.273" class="difflineplus">+       &lt;![CDATA[</span>
<a href="#l1.274"></a><span id="l1.274" class="difflineplus">+         if (!this.buddies.hasOwnProperty(aName))</span>
<a href="#l1.275"></a><span id="l1.275" class="difflineplus">+           throw &quot;Cannot remove a buddy that was not in the room&quot;;</span>
<a href="#l1.276"></a><span id="l1.276" class="difflineplus">+         var item = this.buddies[aName];</span>
<a href="#l1.277"></a><span id="l1.277" class="difflineplus">+         item.parentNode.removeChild(item);</span>
<a href="#l1.278"></a><span id="l1.278" class="difflineplus">+         delete this.buddies[aName];</span>
<a href="#l1.279"></a><span id="l1.279" class="difflineplus">+         this.updateParticipantCount();</span>
<a href="#l1.280"></a><span id="l1.280" class="difflineplus">+       ]]&gt;</span>
<a href="#l1.281"></a><span id="l1.281" class="difflineplus">+       &lt;/body&gt;</span>
<a href="#l1.282"></a><span id="l1.282" class="difflineplus">+     &lt;/method&gt;</span>
<a href="#l1.283"></a><span id="l1.283" class="difflineplus">+</span>
<a href="#l1.284"></a><span id="l1.284" class="difflineplus">+     &lt;!-- nsIObserver implementation --&gt;</span>
<a href="#l1.285"></a><span id="l1.285" class="difflineplus">+     &lt;method name=&quot;observe&quot;&gt;</span>
<a href="#l1.286"></a><span id="l1.286" class="difflineplus">+       &lt;parameter name=&quot;aSubject&quot;/&gt;</span>
<a href="#l1.287"></a><span id="l1.287" class="difflineplus">+       &lt;parameter name=&quot;aTopic&quot;/&gt;</span>
<a href="#l1.288"></a><span id="l1.288" class="difflineplus">+       &lt;parameter name=&quot;aData&quot;/&gt;</span>
<a href="#l1.289"></a><span id="l1.289" class="difflineplus">+       &lt;body&gt;</span>
<a href="#l1.290"></a><span id="l1.290" class="difflineplus">+       &lt;![CDATA[</span>
<a href="#l1.291"></a><span id="l1.291" class="difflineplus">+         if (!this.loaded)</span>
<a href="#l1.292"></a><span id="l1.292" class="difflineplus">+           return;</span>
<a href="#l1.293"></a><span id="l1.293" class="difflineplus">+</span>
<a href="#l1.294"></a><span id="l1.294" class="difflineplus">+         switch(aTopic) {</span>
<a href="#l1.295"></a><span id="l1.295" class="difflineplus">+         case &quot;new-text&quot;:</span>
<a href="#l1.296"></a><span id="l1.296" class="difflineplus">+           this._addMsg(aSubject.QueryInterface(Ci.purpleIMessage));</span>
<a href="#l1.297"></a><span id="l1.297" class="difflineplus">+           break;</span>
<a href="#l1.298"></a><span id="l1.298" class="difflineplus">+</span>
<a href="#l1.299"></a><span id="l1.299" class="difflineplus">+         case &quot;chat-buddy-add&quot;:</span>
<a href="#l1.300"></a><span id="l1.300" class="difflineplus">+           this.addBuddy(aSubject.QueryInterface(Ci.purpleIConvChatBuddy));</span>
<a href="#l1.301"></a><span id="l1.301" class="difflineplus">+           break;</span>
<a href="#l1.302"></a><span id="l1.302" class="difflineplus">+</span>
<a href="#l1.303"></a><span id="l1.303" class="difflineplus">+         case &quot;chat-buddy-remove&quot;:</span>
<a href="#l1.304"></a><span id="l1.304" class="difflineplus">+           this.removeBuddy(aData);</span>
<a href="#l1.305"></a><span id="l1.305" class="difflineplus">+           break;</span>
<a href="#l1.306"></a><span id="l1.306" class="difflineplus">+</span>
<a href="#l1.307"></a><span id="l1.307" class="difflineplus">+         case &quot;chat-buddy-update&quot;:</span>
<a href="#l1.308"></a><span id="l1.308" class="difflineplus">+           this.updateBuddy(aSubject.QueryInterface(Ci.purpleIConvChatBuddy), aData);</span>
<a href="#l1.309"></a><span id="l1.309" class="difflineplus">+           break;</span>
<a href="#l1.310"></a><span id="l1.310" class="difflineplus">+         }</span>
<a href="#l1.311"></a><span id="l1.311" class="difflineplus">+       ]]&gt;</span>
<a href="#l1.312"></a><span id="l1.312" class="difflineplus">+       &lt;/body&gt;</span>
<a href="#l1.313"></a><span id="l1.313" class="difflineplus">+     &lt;/method&gt;</span>
<a href="#l1.314"></a><span id="l1.314" class="difflineplus">+</span>
<a href="#l1.315"></a><span id="l1.315">      &lt;!-- nsIWebProgressListener implementation --&gt;</span>
<a href="#l1.316"></a><span id="l1.316">      &lt;method name=&quot;onStateChange&quot;&gt;</span>
<a href="#l1.317"></a><span id="l1.317">       &lt;parameter name=&quot;aProgress&quot;/&gt;</span>
<a href="#l1.318"></a><span id="l1.318">       &lt;parameter name=&quot;aRequest&quot;/&gt;</span>
<a href="#l1.319"></a><span id="l1.319">       &lt;parameter name=&quot;aStateFlags&quot;/&gt;</span>
<a href="#l1.320"></a><span id="l1.320">       &lt;parameter name=&quot;aStatus&quot;/&gt;</span>
<a href="#l1.321"></a><span id="l1.321">       &lt;body&gt;</span>
<a href="#l1.322"></a><span id="l1.322">       &lt;![CDATA[</span>
<a href="#l1.323"></a><span id="l1.323" class="difflineat">@@ -414,16 +566,24 @@</span>
<a href="#l1.324"></a><span id="l1.324">         if ((aStateFlags &amp; WPL.STATE_IS_DOCUMENT) &amp;&amp;</span>
<a href="#l1.325"></a><span id="l1.325">             (aStateFlags &amp; WPL.STATE_STOP)) {</span>
<a href="#l1.326"></a><span id="l1.326">           var browser = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;browser&quot;);</span>
<a href="#l1.327"></a><span id="l1.327">           browser.removeProgressListener(this);</span>
<a href="#l1.328"></a><span id="l1.328">           this.loaded = true;</span>
<a href="#l1.329"></a><span id="l1.329">           for (var i = 0; i &lt; this.messageQueue.length; ++i)</span>
<a href="#l1.330"></a><span id="l1.330">             this._addMsg(this.messageQueue[i]);</span>
<a href="#l1.331"></a><span id="l1.331">           this.messageQueue = null;</span>
<a href="#l1.332"></a><span id="l1.332" class="difflineplus">+</span>
<a href="#l1.333"></a><span id="l1.333" class="difflineplus">+          if (this._conv instanceof Components.interfaces.purpleIConvChat) {</span>
<a href="#l1.334"></a><span id="l1.334" class="difflineplus">+            this.setAttribute(&quot;chat&quot;, &quot;true&quot;);</span>
<a href="#l1.335"></a><span id="l1.335" class="difflineplus">+            this.buddies = {};</span>
<a href="#l1.336"></a><span id="l1.336" class="difflineplus">+            var nicks = getIter(this.conv.getParticipants, Ci.purpleIConvChatBuddy);</span>
<a href="#l1.337"></a><span id="l1.337" class="difflineplus">+            for (n in nicks)</span>
<a href="#l1.338"></a><span id="l1.338" class="difflineplus">+              this.addBuddy(n);</span>
<a href="#l1.339"></a><span id="l1.339" class="difflineplus">+          }</span>
<a href="#l1.340"></a><span id="l1.340">         }</span>
<a href="#l1.341"></a><span id="l1.341">       ]]&gt;</span>
<a href="#l1.342"></a><span id="l1.342">       &lt;/body&gt;</span>
<a href="#l1.343"></a><span id="l1.343">      &lt;/method&gt;</span>
<a href="#l1.344"></a><span id="l1.344"> </span>
<a href="#l1.345"></a><span id="l1.345">      &lt;method name=&quot;onProgressChange&quot;&gt;</span>
<a href="#l1.346"></a><span id="l1.346">       &lt;parameter name=&quot;aProgress&quot;/&gt;</span>
<a href="#l1.347"></a><span id="l1.347">       &lt;parameter name=&quot;aRequest&quot;/&gt;</span>
<a href="#l1.348"></a><span id="l1.348" class="difflineat">@@ -463,17 +623,20 @@</span>
<a href="#l1.349"></a><span id="l1.349">      &lt;property name=&quot;conv&quot;&gt;</span>
<a href="#l1.350"></a><span id="l1.350">        &lt;getter&gt;</span>
<a href="#l1.351"></a><span id="l1.351">          &lt;![CDATA[</span>
<a href="#l1.352"></a><span id="l1.352">            return this._conv;</span>
<a href="#l1.353"></a><span id="l1.353">          ]]&gt;</span>
<a href="#l1.354"></a><span id="l1.354">        &lt;/getter&gt;</span>
<a href="#l1.355"></a><span id="l1.355">        &lt;setter&gt;</span>
<a href="#l1.356"></a><span id="l1.356">          &lt;![CDATA[</span>
<a href="#l1.357"></a><span id="l1.357" class="difflineplus">+           if (this._conv)</span>
<a href="#l1.358"></a><span id="l1.358" class="difflineplus">+             throw(&quot;Already initialized&quot;);</span>
<a href="#l1.359"></a><span id="l1.359">            this._conv = val;</span>
<a href="#l1.360"></a><span id="l1.360" class="difflineplus">+           this._conv.addObserver(this);</span>
<a href="#l1.361"></a><span id="l1.361">            return val;</span>
<a href="#l1.362"></a><span id="l1.362">          ]]&gt;</span>
<a href="#l1.363"></a><span id="l1.363">        &lt;/setter&gt;</span>
<a href="#l1.364"></a><span id="l1.364">      &lt;/property&gt;</span>
<a href="#l1.365"></a><span id="l1.365"> </span>
<a href="#l1.366"></a><span id="l1.366">      &lt;property name=&quot;isHtmlMode&quot;&gt;</span>
<a href="#l1.367"></a><span id="l1.367">        &lt;getter&gt;</span>
<a href="#l1.368"></a><span id="l1.368">          &lt;![CDATA[</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/im/base/content/instantbird/instantbird.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/im/base/content/instantbird/instantbird.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -47,20 +47,22 @@ var msgObserver = {</span>
<a href="#l2.4"></a><span id="l2.4">     case &quot;purple-quit&quot;:</span>
<a href="#l2.5"></a><span id="l2.5">       window.close();</span>
<a href="#l2.6"></a><span id="l2.6">       break;</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8">     case &quot;new-text&quot;:</span>
<a href="#l2.9"></a><span id="l2.9">       aObject.QueryInterface(Ci.purpleIMessage);</span>
<a href="#l2.10"></a><span id="l2.10">       var conv = aObject.conversation;</span>
<a href="#l2.11"></a><span id="l2.11">       var tab = this.convs[conv.id] || this.addConvTab(conv, conv.name);</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-      tab.addMsg(aObject);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+      if (!tab.loaded) // until we can load all messages from a conversation</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+        tab.addMsg(aObject);</span>
<a href="#l2.15"></a><span id="l2.15"> </span>
<a href="#l2.16"></a><span id="l2.16">       if (aObject.incoming &amp;&amp; !aObject.system &amp;&amp;</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-          (!aObject.conversation.isChat || aObject.containsNick))</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineplus">+          (!aObject.conversation instanceof Ci.purpleIConvChat ||</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineplus">+           aObject.containsNick))</span>
<a href="#l2.20"></a><span id="l2.20">         window.getAttention();</span>
<a href="#l2.21"></a><span id="l2.21">       break;</span>
<a href="#l2.22"></a><span id="l2.22"> </span>
<a href="#l2.23"></a><span id="l2.23">     case &quot;new-conversation&quot;:</span>
<a href="#l2.24"></a><span id="l2.24">       aObject.QueryInterface(Ci.purpleIConversation);</span>
<a href="#l2.25"></a><span id="l2.25">       this.addConvTab(aObject, aObject.name);</span>
<a href="#l2.26"></a><span id="l2.26">       break;</span>
<a href="#l2.27"></a><span id="l2.27"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/im/base/content/instantbird/sound.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/im/base/content/instantbird/sound.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -108,17 +108,18 @@ var soundObserver = {</span>
<a href="#l3.4"></a><span id="l3.4"> </span>
<a href="#l3.5"></a><span id="l3.5">     case &quot;buddy-signed-off&quot;:</span>
<a href="#l3.6"></a><span id="l3.6">       soundHelper.play(&quot;logout&quot;);</span>
<a href="#l3.7"></a><span id="l3.7">       break;</span>
<a href="#l3.8"></a><span id="l3.8"> </span>
<a href="#l3.9"></a><span id="l3.9">     case &quot;new-text&quot;:</span>
<a href="#l3.10"></a><span id="l3.10">       aObject.QueryInterface(Ci.purpleIMessage);</span>
<a href="#l3.11"></a><span id="l3.11">       if (aObject.incoming &amp;&amp; !aObject.system) {</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-        if (!aObject.conversation.isChat || aObject.containsNick)</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+        if (!aObject.conversation instanceof Ci.purpleIConvChat ||</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+            aObject.containsNick)</span>
<a href="#l3.15"></a><span id="l3.15">           soundHelper.play(&quot;incoming&quot;);</span>
<a href="#l3.16"></a><span id="l3.16">       }</span>
<a href="#l3.17"></a><span id="l3.17">       else</span>
<a href="#l3.18"></a><span id="l3.18">         if (aObject.outgoing)</span>
<a href="#l3.19"></a><span id="l3.19">           soundHelper.play(&quot;outgoing&quot;);</span>
<a href="#l3.20"></a><span id="l3.20">       break;</span>
<a href="#l3.21"></a><span id="l3.21"> </span>
<a href="#l3.22"></a><span id="l3.22">     case &quot;nsPref:changed&quot;:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/im/locales/en-US/chrome/instantbird/instantbird.dtd</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/im/locales/en-US/chrome/instantbird/instantbird.dtd</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -11,16 +11,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> &lt;!ENTITY account.commandkey &quot;a&quot;&gt;</span>
<a href="#l4.5"></a><span id="l4.5"> &lt;!ENTITY account.accesskey  &quot;A&quot;&gt;</span>
<a href="#l4.6"></a><span id="l4.6"> &lt;!ENTITY sounds             &quot;Sounds&quot;&gt;</span>
<a href="#l4.7"></a><span id="l4.7"> &lt;!ENTITY addonManager       &quot;Add-ons&quot;&gt;</span>
<a href="#l4.8"></a><span id="l4.8"> &lt;!ENTITY help.menu          &quot;?&quot;&gt;</span>
<a href="#l4.9"></a><span id="l4.9"> &lt;!ENTITY about.menu         &quot;About &amp;brandShortName;&quot;&gt;</span>
<a href="#l4.10"></a><span id="l4.10"> &lt;!ENTITY about.accesskey    &quot;A&quot;&gt;</span>
<a href="#l4.11"></a><span id="l4.11"> &lt;!ENTITY conversation.contextMenu.close &quot;Close Tab&quot;&gt;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+&lt;!ENTITY chat.participants  &quot;Participants:&quot;&gt;</span>
<a href="#l4.13"></a><span id="l4.13"> </span>
<a href="#l4.14"></a><span id="l4.14"> &lt;!ENTITY textEnlarge.commandkey &quot;+&quot;&gt;</span>
<a href="#l4.15"></a><span id="l4.15"> &lt;!ENTITY textEnlarge.commandkey2 &quot;=&quot;&gt;</span>
<a href="#l4.16"></a><span id="l4.16"> &lt;!ENTITY textEnlarge.commandkey3 &quot;&quot;&gt;</span>
<a href="#l4.17"></a><span id="l4.17"> &lt;!ENTITY textReduce.commandkey &quot;-&quot;&gt;</span>
<a href="#l4.18"></a><span id="l4.18"> &lt;!ENTITY textReduce.commandkey2 &quot;&quot;&gt;</span>
<a href="#l4.19"></a><span id="l4.19"> &lt;!ENTITY textReset.commandkey &quot;0&quot;&gt;</span>
<a href="#l4.20"></a><span id="l4.20"> &lt;!ENTITY textReset.commandkey2 &quot;&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">new file mode 100644</span>
<a href="#l5.2"></a><span id="l5.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..295958fd8807fc26c155b9f9c87ee402a25d3c2c</span>
<a href="#l5.3"></a><span id="l5.3">GIT binary patch
literal 628
zc$@)r0*n2LP)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV00004b3#c}2nYxW
zd&lt;bNS00009a7bBm000fw000fw0YWI7cmMzZ8FWQhbW?9;ba!ELWdL_~cP?peYja~^
zaAhuUa%Y?FJQ@H10r5#hK~y-6m65?qR8bhkfA_uT=zC%jAwdLco2gv1sK||*$O?2L
zL&lt;G~$MVkm(L_@SF3R3J3kai`6Eo!AfT7+1Jiy(@~+zew;VMT&amp;7Z+!3Fd%qUbOilwf
zeQ=iN$2sRy^W)xCu_h}b&amp;46(|?|x4v$&lt;W}b7k8Xu`rzSU%eL*r(K@eZpV-B3on1Gc
zon2`NFhA~IF}CTtLZhu&gt;;p2W8TR3U|WfTzySXUy#$mmVo*LTd#Tzks-p%b*V`kNSG
zwU{t=cP0!=r3)TFDG}~XFChZ1qgY$F2vTQufYxT0$FpyuD30fHliAx2K#)?LI?{ns
z0E$&gt;!qPSk3&gt;#&amp;$x;r)l@&amp;}ef8!28_?t#xG&lt;Vr?&lt;DHbHZfix|y=$(JQ-?djZ9_Inio
zV2r7&gt;Br((h{1m)f`Xq_AuX0n_&gt;5a7j&amp;{Y7$Mu-wyqhh4#PVZ8wCig&amp;B|M2m@0aB?T
zP&amp;R3)(a)kGGK#^09^ZAHiLU&lt;P_L&gt;Byx&amp;bIaDOIP&gt;s|o3jcJ`(_1J83OsvCqcJbeDO
zJf^Yi*%{QmaN`~A-IvPczx3=L7&amp;+$w1SuFiw1c^~KjhZfBekjf&amp;jrA!M&gt;(zmyrEt~
zV{G@Oi&lt;k2aLdq3dT3Tk5QlanrZG}Ri(5SfzP&gt;PY|{PI&gt;oion|c0Db|BI{&gt;5?^KD1~
O0000&lt;MNUMnLSTZcSsQWy</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">new file mode 100644</span>
<a href="#l6.2"></a><span id="l6.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..9bac49928a92d54c2cffa7b01c3a70add463aefe</span>
<a href="#l6.3"></a><span id="l6.3">GIT binary patch
literal 695
zc$@*Z0!aOdP)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV00004b3#c}2nYxW
zd&lt;bNS0000PbVXQnQ*UN;cVTj60C#tHE@^ISb7Ns}WiD@WXPfRk8UO$SNl8ROR5*&gt;5
zlTAoeVHAen`!{#yI+-?COpB}i&amp;_-HT{t&gt;unGplIPHVbAS)XJTUBm@nMXfY`MfH2Y|
z7D(YD&amp;8&amp;zrLM$&lt;o)FGY8(HX|u-0Sy!_q1{$d5sPnIB;H`#X0W_B7$EJCx%WQv?n6S
z@Tte6iCR@vKaM1aYyC6;`~g}(k5^V%rHZP@{~Iv=;%U^3R5Uf$H^`=GHYG&lt;BQ9pq6
zWNgHe6=gAOl;|~9Ez-Zza9tM{&amp;R&gt;KF86bhF$&gt;(q!2f`EJT!3-zk`QOEUyH4Ph%ovr
z*`C?Rav~zn^Qd6kw6wfTpXa~OkJS_vwrwi9oNR~Dt9S36zQMlsJxBC7@A$efmt$OD
zv*2PSm4c&gt;+P&lt;`A2R2}QtO{{MG#%6vSOW)?VNbrt5H@I^7s+(T_**ZNlRg}m@Nw^ed
z`4Jon1rZ8`5eyoLgcW@H@VY4YPV7c&amp;%-sd3y9474jB`km3QY^ZVFD5WE(n1@5Rhar
z&amp;cTKF`wIg@y*lR&lt;uRD7#lq(W6O#@&gt;Bw#y;Q5&gt;!P&amp;!4YU^YzYaE;twD7=z9Q6cx~0z
z&gt;9P{Tz_Ew{J)k3?DKK;ux+=jVz%mU~nTK)WR9zVtUfV7}sjM&lt;B&amp;l8DUHXU4Cn1c`u
zQ&lt;D&gt;@I9h`pQjyQ+Fg`YnV$nuAlfmrlTUBsTKl5gKu&amp;J&gt;*zpuZ09&amp;|_hhX(BLYkBG&amp;
z?6&lt;q_bw&gt;TNAQ92N4(qz#JyBL((Xy4zyu5w$)+IkD`euQ&lt;PHba6RS?XL`Dp;)z^LBs
dyz|dE{{gZTlb@;G&lt;mLbX002ovPDHLkV1mNSGoAnd</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/im/themes/winstripe/instantbird/instantbird.css</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/im/themes/winstripe/instantbird/instantbird.css</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -124,8 +124,21 @@ convtab &gt; .tab-image-middle {</span>
<a href="#l7.4"></a><span id="l7.4"> convtab:not([selected=&quot;true&quot;]) &gt; .tab-image-middle {</span>
<a href="#l7.5"></a><span id="l7.5">   background: url(&quot;chrome://instantbird/skin/tabbrowser/tab-middle-bkgnd.png&quot;);</span>
<a href="#l7.6"></a><span id="l7.6">   margin-bottom: 1px;</span>
<a href="#l7.7"></a><span id="l7.7"> }</span>
<a href="#l7.8"></a><span id="l7.8"> </span>
<a href="#l7.9"></a><span id="l7.9"> convtab:hover:not([selected=&quot;true&quot;]) &gt; .tab-image-middle {</span>
<a href="#l7.10"></a><span id="l7.10">   background: url(&quot;chrome://instantbird/skin/tabbrowser/tab-middle-hover.png&quot;);</span>
<a href="#l7.11"></a><span id="l7.11"> }</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+conversation:not([chat=&quot;true&quot;]) .chatOnly {</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+  display: none;</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+}</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineplus">+</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineplus">+conversation listbox .listcell-icon {</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineplus">+  min-width: 16px;</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineplus">+  -moz-margin-end: 0px;</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineplus">+}</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineplus">+</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineplus">+conversation listbox .listcell-label {</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineplus">+  font-weight: bold;</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/im/themes/winstripe/instantbird/jar.mn</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/im/themes/winstripe/instantbird/jar.mn</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,16 +1,20 @@</span>
<a href="#l8.4"></a><span id="l8.4"> classic.jar:</span>
<a href="#l8.5"></a><span id="l8.5"> % skin instantbird classic/1.0 %skin/winstripe/instantbird/</span>
<a href="#l8.6"></a><span id="l8.6"> 	skin/winstripe/instantbird/account.css</span>
<a href="#l8.7"></a><span id="l8.7"> 	skin/winstripe/instantbird/accountError.png</span>
<a href="#l8.8"></a><span id="l8.8"> 	skin/winstripe/instantbird/accounts.css</span>
<a href="#l8.9"></a><span id="l8.9"> *	skin/winstripe/instantbird/accountWizard.css</span>
<a href="#l8.10"></a><span id="l8.10"> 	skin/winstripe/instantbird/away-16.png</span>
<a href="#l8.11"></a><span id="l8.11"> 	skin/winstripe/instantbird/away.png</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+	skin/winstripe/instantbird/founder.png</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+	skin/winstripe/instantbird/operator.png</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+	skin/winstripe/instantbird/half-operator.png</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+	skin/winstripe/instantbird/voice.png</span>
<a href="#l8.16"></a><span id="l8.16"> 	skin/winstripe/instantbird/blist.css</span>
<a href="#l8.17"></a><span id="l8.17"> 	skin/winstripe/instantbird/conv.css</span>
<a href="#l8.18"></a><span id="l8.18"> 	skin/winstripe/instantbird/instantbird.css</span>
<a href="#l8.19"></a><span id="l8.19"> 	skin/winstripe/instantbird/instantbird.png</span>
<a href="#l8.20"></a><span id="l8.20"> 	skin/winstripe/instantbird/prpl/prpl-aim-32.png		(prpl/prpl-aim-32.png)</span>
<a href="#l8.21"></a><span id="l8.21"> 	skin/winstripe/instantbird/prpl/prpl-aim-48.png		(prpl/prpl-aim-48.png)</span>
<a href="#l8.22"></a><span id="l8.22"> 	skin/winstripe/instantbird/prpl/prpl-aim.png		(prpl/prpl-aim.png)</span>
<a href="#l8.23"></a><span id="l8.23"> 	skin/winstripe/instantbird/prpl/prpl-bilboed-netsoul-32.png	(prpl/prpl-bilboed-netsoul-32.png)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1">new file mode 100644</span>
<a href="#l9.2"></a><span id="l9.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..3758af17f189a640eb5d57bb57b5ecdadcdaa403</span>
<a href="#l9.3"></a><span id="l9.3">GIT binary patch
literal 732
zc$@*;0wev2P)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV00004b3#c}2nYxW
zd&lt;bNS0000PbVXQnQ*UN;cVTj60C#tHE@^ISb7Ns}WiD@WXPfRk8UO$SZb?KzR5*&gt;D
zQ(H?^VH928H&lt;vRvQ^|CQpeE@h5;6)&gt;BZ-Paq3E$l49Oo*4-xblj2J1@FK{kVNDx63
z_&gt;f)BIZUOJL6p^KMmj}_w&gt;sy{%=uOiIf3B#&amp;&lt;C3j_F8+xUVAT)#9Cpdt9tZ=-!jux
zJ&gt;@tgQ5Mh&gt;ev2em{&lt;1uYGEYih?#-h^kkXqg#{mForYqt`(r=mRNN*{r4~Vu%O=I1z
zV?&amp;74?5@)XL|X|n(~-E5)GRX{i35Pp6F$4SBd@)&gt;yB)Rlo%k^|h@$fojVCjZ(uHyr
z#_k_LF+UFg5JIBq&gt;@OHe&amp;1vp%0x(jMxSsG8=4XZ!Nh;;iTKvS^`y0$=y7=wGO*+fd
zRLUVqW;5MIJ&gt;f4Hsc&lt;hz2$IkTgjN}C{krqWgN&lt;%Ji`j`=sEi(k7VyJf9D!raVMCP$
z89a=UdrdhiZfohJ1K_WSEuC~0a!&lt;~^dwjym+b%*I&gt;Jh1q!Q+z%go6l#H^EbJ8XwII
z78Sco#Q@-4t*L^?8-gzoglmt3Y6*0|!ykx2dV_0j;ok^C%Bj7lMx&amp;}Q0++S$hy|$P
zG^D2r!W#pNv+#rt;^p9uRU^Pig?sgcuaM20FP219uFZn=md?^s7JiRWxfYdDB+1XC
zmr5eWNdkJpXOpCn4AM+jb86%YGj}%AS$@s@@-UsHQD$yOnSF7QU&amp;iA!k|C~Ks7(@5
zNUh&amp;U`fUhL&amp;;B!WV(Xr(qF~LmPdw|gyul_+Jnyy&amp;cCJ0P@4DF1a9KczYerJDh4l3U
zDDMR`6`UM@*h(`Mocu2@DCI^Qjt@gAH@dDD$^za{pOMsT=?(R**WeFbXw7j86}*c8
O0000&lt;MNUMnLSTYl*F;DF</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1">new file mode 100644</span>
<a href="#l10.2"></a><span id="l10.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..2c0279d083cb9150fa6e6601b919f52c6c3efe0d</span>
<a href="#l10.3"></a><span id="l10.3">GIT binary patch
literal 707
zc$@*l0zCbRP)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV00004b3#c}2nYxW
zd&lt;bNS00009a7bBm000fw000fw0YWI7cmMzZ8FWQhbW?9;ba!ELWdL_~cP?peYja~^
zaAhuUa%Y?FJQ@H10zgSbK~y-6jgv7*TTv8-zjNP{7^0w3S{F6ZN|A_CEC`~DgVtz^
zgOir7cIjBKICLrrXs0f96uM^+3z=OUA`Y&gt;FScwD#!KGLmqVK+YI{4C-($F5b!{MCo
z=kQ;CR25YvnaN5rlTFq8MlYGkrjnVg)O*9PngLq)ceO;j0Jj3E+1z8G3pjl6^xd6C
zWHdVjx*`UXn#~EY2oyYV16EyoBLS&lt;f-4ize6oAFlY)(vcPGG~&gt;WvH@Llj&gt;Q|TyCUu
zdOcAGJEzwZJ#)E{npDq1l_eX-E`b1;F~Aa#Z}M(d1+yR1_@Gf;X!T;YF3{@5tWjNv
zX?##H`%T`&gt;Dv$@34A2XdK}VfPNu9n{F&lt;XIOo$Q}quk_EaR|3B}sbaR&amp;&gt;1!ua0v)|&amp;
z==Fgf;9Oy-7MM!2Z^xTG^E?#udF0Vx7r&lt;WeV8auau30x;3%p9)cSFEA&amp;|`oO;7Z}T
zt=Sn-ZW@^=%1v9dGYZ$h70}@WM?km0Ni~qWo^Ws-kXAoj-YXt#00b^vwpP*z2hq+6
z&amp;&lt;z~&lt;KnX|!yS}k$70If)Op{H#J^u8v8=yb)J{Fkot0H85wP{t^jhK=FiolpP;hJ-1
z;xyj3gCk#a_UAX&amp;oK4`!pT_%koHG;FgloVUP?TgQ+X8$9UZ~1L&amp;of_6wq70o&amp;4a!t
zYyDy9?u+O?@Bw&amp;c%G)bfz$P#yq6OzyFB+NX{OW~&gt;7Jw;Wv%I}&gt;RS(lv&lt;mzxa|K@8W
pfoL`ie2W&lt;VjOxArh;!%f{SSzlIQMXRRE+=t002ovPDHLkV1h2#I0pa#</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1">new file mode 100644</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineminus">--- /dev/null</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineplus">+++ b/purple/purplexpcom/public/purpleIConversation.idl</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineat">@@ -0,0 +1,135 @@</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineplus">+/* ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l11.6"></a><span id="l11.6" class="difflineplus">+ * Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l11.7"></a><span id="l11.7" class="difflineplus">+ *</span>
<a href="#l11.8"></a><span id="l11.8" class="difflineplus">+ * The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineplus">+ * 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineplus">+ * the License. You may obtain a copy of the License at</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineplus">+ * http://www.mozilla.org/MPL/</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+ *</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+ * Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+ * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+ * for the specific language governing rights and limitations under the</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+ * License.</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineplus">+ *</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+ * The Original Code is the Instantbird messenging client, released</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineplus">+ * 2007.</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineplus">+ *</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineplus">+ * The Initial Developer of the Original Code is</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+ * Florian QUEZE &lt;florian@instantbird.org&gt;.</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+ * Portions created by the Initial Developer are Copyright (C) 2007</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+ * the Initial Developer. All Rights Reserved.</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineplus">+ *</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineplus">+ * Contributor(s):</span>
<a href="#l11.27"></a><span id="l11.27" class="difflineplus">+ *</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineplus">+ * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineplus">+ * either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineplus">+ * the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineplus">+ * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+ * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineplus">+ * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineplus">+ * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineplus">+ * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineplus">+ * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineplus">+ * the provisions above, a recipient may use your version of this file under</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineplus">+ * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineplus">+ *</span>
<a href="#l11.40"></a><span id="l11.40" class="difflineplus">+ * ***** END LICENSE BLOCK ***** */</span>
<a href="#l11.41"></a><span id="l11.41" class="difflineplus">+</span>
<a href="#l11.42"></a><span id="l11.42" class="difflineplus">+</span>
<a href="#l11.43"></a><span id="l11.43" class="difflineplus">+#include &quot;nsISupports.idl&quot;</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineplus">+#include &quot;nsISimpleEnumerator.idl&quot;</span>
<a href="#l11.45"></a><span id="l11.45" class="difflineplus">+#include &quot;nsIObserver.idl&quot;</span>
<a href="#l11.46"></a><span id="l11.46" class="difflineplus">+</span>
<a href="#l11.47"></a><span id="l11.47" class="difflineplus">+interface purpleIAccountBuddy;</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineplus">+interface purpleIAccount;</span>
<a href="#l11.49"></a><span id="l11.49" class="difflineplus">+</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineplus">+/* </span>
<a href="#l11.51"></a><span id="l11.51" class="difflineplus">+ * This is the XPCOM purple conversation component, a proxy for PurpleConversation.</span>
<a href="#l11.52"></a><span id="l11.52" class="difflineplus">+ */</span>
<a href="#l11.53"></a><span id="l11.53" class="difflineplus">+</span>
<a href="#l11.54"></a><span id="l11.54" class="difflineplus">+[scriptable, uuid(74fca337-b8e7-4e5d-81cd-8aba3dba9208)]</span>
<a href="#l11.55"></a><span id="l11.55" class="difflineplus">+interface purpleIConversation: nsISupports {</span>
<a href="#l11.56"></a><span id="l11.56" class="difflineplus">+</span>
<a href="#l11.57"></a><span id="l11.57" class="difflineplus">+  /* The account used for this conversation */</span>
<a href="#l11.58"></a><span id="l11.58" class="difflineplus">+  readonly attribute purpleIAccount account;</span>
<a href="#l11.59"></a><span id="l11.59" class="difflineplus">+</span>
<a href="#l11.60"></a><span id="l11.60" class="difflineplus">+  /* The name of the conversation */</span>
<a href="#l11.61"></a><span id="l11.61" class="difflineplus">+  readonly attribute AUTF8String name;</span>
<a href="#l11.62"></a><span id="l11.62" class="difflineplus">+</span>
<a href="#l11.63"></a><span id="l11.63" class="difflineplus">+  /* The 'Window' title */</span>
<a href="#l11.64"></a><span id="l11.64" class="difflineplus">+  readonly attribute AUTF8String title;</span>
<a href="#l11.65"></a><span id="l11.65" class="difflineplus">+</span>
<a href="#l11.66"></a><span id="l11.66" class="difflineplus">+  /* Unique identifier of the conversation (FIXME useless?) */</span>
<a href="#l11.67"></a><span id="l11.67" class="difflineplus">+  readonly attribute unsigned long id;</span>
<a href="#l11.68"></a><span id="l11.68" class="difflineplus">+</span>
<a href="#l11.69"></a><span id="l11.69" class="difflineplus">+  /* Send a message in the conversation */</span>
<a href="#l11.70"></a><span id="l11.70" class="difflineplus">+  void sendMsg(in AUTF8String aMsg);</span>
<a href="#l11.71"></a><span id="l11.71" class="difflineplus">+</span>
<a href="#l11.72"></a><span id="l11.72" class="difflineplus">+  /* Close the conversation */</span>
<a href="#l11.73"></a><span id="l11.73" class="difflineplus">+  void close();</span>
<a href="#l11.74"></a><span id="l11.74" class="difflineplus">+</span>
<a href="#l11.75"></a><span id="l11.75" class="difflineplus">+  /* Method to add or remove an observer */</span>
<a href="#l11.76"></a><span id="l11.76" class="difflineplus">+  void addObserver(in nsIObserver aObserver);</span>
<a href="#l11.77"></a><span id="l11.77" class="difflineplus">+  void removeObserver(in nsIObserver aObserver);</span>
<a href="#l11.78"></a><span id="l11.78" class="difflineplus">+</span>
<a href="#l11.79"></a><span id="l11.79" class="difflineplus">+  /* Observers will be all receive new-text notifications.</span>
<a href="#l11.80"></a><span id="l11.80" class="difflineplus">+     aSubject will contain the message (purpleIMessage) */</span>
<a href="#l11.81"></a><span id="l11.81" class="difflineplus">+};</span>
<a href="#l11.82"></a><span id="l11.82" class="difflineplus">+</span>
<a href="#l11.83"></a><span id="l11.83" class="difflineplus">+[scriptable, uuid(0c072a80-103a-4992-b249-8e442b5f0d46)]</span>
<a href="#l11.84"></a><span id="l11.84" class="difflineplus">+interface purpleIConvIM: purpleIConversation {</span>
<a href="#l11.85"></a><span id="l11.85" class="difflineplus">+  /* FIXME Typing notifications stuff */</span>
<a href="#l11.86"></a><span id="l11.86" class="difflineplus">+</span>
<a href="#l11.87"></a><span id="l11.87" class="difflineplus">+  /* The buddy at the remote end of the conversation */</span>
<a href="#l11.88"></a><span id="l11.88" class="difflineplus">+  readonly attribute purpleIAccountBuddy buddy;</span>
<a href="#l11.89"></a><span id="l11.89" class="difflineplus">+};</span>
<a href="#l11.90"></a><span id="l11.90" class="difflineplus">+</span>
<a href="#l11.91"></a><span id="l11.91" class="difflineplus">+[scriptable, uuid(c7f11466-f479-4f12-a581-b99713b8ecc0)]</span>
<a href="#l11.92"></a><span id="l11.92" class="difflineplus">+interface purpleIConvChat: purpleIConversation {</span>
<a href="#l11.93"></a><span id="l11.93" class="difflineplus">+</span>
<a href="#l11.94"></a><span id="l11.94" class="difflineplus">+  /* Get an nsISimpleEnumerator of purpleIConvChatBuddy objects:</span>
<a href="#l11.95"></a><span id="l11.95" class="difflineplus">+     The list of people participating in this chat */</span>
<a href="#l11.96"></a><span id="l11.96" class="difflineplus">+  nsISimpleEnumerator getParticipants();</span>
<a href="#l11.97"></a><span id="l11.97" class="difflineplus">+</span>
<a href="#l11.98"></a><span id="l11.98" class="difflineplus">+  /* The topic of this chat room  (FIXME settable?) */</span>
<a href="#l11.99"></a><span id="l11.99" class="difflineplus">+  readonly attribute AUTF8String topic;</span>
<a href="#l11.100"></a><span id="l11.100" class="difflineplus">+</span>
<a href="#l11.101"></a><span id="l11.101" class="difflineplus">+  /* The name/nick of the person who set the topic */</span>
<a href="#l11.102"></a><span id="l11.102" class="difflineplus">+  readonly attribute AUTF8String topicSetter;</span>
<a href="#l11.103"></a><span id="l11.103" class="difflineplus">+</span>
<a href="#l11.104"></a><span id="l11.104" class="difflineplus">+  /* This is true when we left the chat but kept the conversation open */</span>
<a href="#l11.105"></a><span id="l11.105" class="difflineplus">+  readonly attribute boolean left;</span>
<a href="#l11.106"></a><span id="l11.106" class="difflineplus">+</span>
<a href="#l11.107"></a><span id="l11.107" class="difflineplus">+  /* Observers will receive chat-buddy-add chat-buddy-update and</span>
<a href="#l11.108"></a><span id="l11.108" class="difflineplus">+     chat-buddy-remove notifications.</span>
<a href="#l11.109"></a><span id="l11.109" class="difflineplus">+</span>
<a href="#l11.110"></a><span id="l11.110" class="difflineplus">+     aSubject will be of type purpleIConvChatBuddy for chat-buddy-add</span>
<a href="#l11.111"></a><span id="l11.111" class="difflineplus">+     and chat-buddy-update. It will be null for chat-buddy-remove.</span>
<a href="#l11.112"></a><span id="l11.112" class="difflineplus">+</span>
<a href="#l11.113"></a><span id="l11.113" class="difflineplus">+     aData will contain the old nick for chat-buddy-update and</span>
<a href="#l11.114"></a><span id="l11.114" class="difflineplus">+     chat-buddy-remove.</span>
<a href="#l11.115"></a><span id="l11.115" class="difflineplus">+   */</span>
<a href="#l11.116"></a><span id="l11.116" class="difflineplus">+};</span>
<a href="#l11.117"></a><span id="l11.117" class="difflineplus">+</span>
<a href="#l11.118"></a><span id="l11.118" class="difflineplus">+/* This represents a participant in a chat room */</span>
<a href="#l11.119"></a><span id="l11.119" class="difflineplus">+[scriptable, uuid(33f6ef81-1d23-484e-b4e0-14fffa0c4392)]</span>
<a href="#l11.120"></a><span id="l11.120" class="difflineplus">+interface purpleIConvChatBuddy: nsISupports {</span>
<a href="#l11.121"></a><span id="l11.121" class="difflineplus">+</span>
<a href="#l11.122"></a><span id="l11.122" class="difflineplus">+  /* The name of the buddy */</span>
<a href="#l11.123"></a><span id="l11.123" class="difflineplus">+  readonly attribute AUTF8String name;</span>
<a href="#l11.124"></a><span id="l11.124" class="difflineplus">+</span>
<a href="#l11.125"></a><span id="l11.125" class="difflineplus">+  /* The alias (FIXME: can this be non-null if buddy is null?) */</span>
<a href="#l11.126"></a><span id="l11.126" class="difflineplus">+  readonly attribute AUTF8String alias;</span>
<a href="#l11.127"></a><span id="l11.127" class="difflineplus">+</span>
<a href="#l11.128"></a><span id="l11.128" class="difflineplus">+  /* The purpleIAccountBuddy of our buddy list associated with this chat buddy.</span>
<a href="#l11.129"></a><span id="l11.129" class="difflineplus">+     This can be null if the buddy is not in our buddy list */</span>
<a href="#l11.130"></a><span id="l11.130" class="difflineplus">+  readonly attribute purpleIAccountBuddy buddy;</span>
<a href="#l11.131"></a><span id="l11.131" class="difflineplus">+</span>
<a href="#l11.132"></a><span id="l11.132" class="difflineplus">+  /* PurpleConvChatBuddyFlags flags; (ops, voice etc.) */</span>
<a href="#l11.133"></a><span id="l11.133" class="difflineplus">+  readonly attribute boolean noFlags;</span>
<a href="#l11.134"></a><span id="l11.134" class="difflineplus">+  readonly attribute boolean voiced;</span>
<a href="#l11.135"></a><span id="l11.135" class="difflineplus">+  readonly attribute boolean halfOp;</span>
<a href="#l11.136"></a><span id="l11.136" class="difflineplus">+  readonly attribute boolean op;</span>
<a href="#l11.137"></a><span id="l11.137" class="difflineplus">+  readonly attribute boolean founder;</span>
<a href="#l11.138"></a><span id="l11.138" class="difflineplus">+  readonly attribute boolean typing;</span>
<a href="#l11.139"></a><span id="l11.139" class="difflineplus">+};</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

