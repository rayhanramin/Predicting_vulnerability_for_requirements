<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 10714:76efc33d143a711a6a8b4000d2dcf08f4e638803</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 76efc33d143a711a6a8b4000d2dcf08f4e638803" />
<meta property="og:url" content="/comm-central/rev/76efc33d143a711a6a8b4000d2dcf08f4e638803" />
<meta property="og:description" content="Bug 741336 - Provide UI to easily clear cookies from the menus. r=mbanner, ui-r=bwinton" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 76efc33d143a711a6a8b4000d2dcf08f4e638803 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/76efc33d143a711a6a8b4000d2dcf08f4e638803">shortlog</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/76efc33d143a711a6a8b4000d2dcf08f4e638803">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803">files</a> |
changeset |
<a href="/comm-central/raw-rev/76efc33d143a711a6a8b4000d2dcf08f4e638803">raw</a>  | <a href="/comm-central/archive/76efc33d143a711a6a8b4000d2dcf08f4e638803.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=741336">Bug 741336</a> - Provide UI to easily clear cookies from the menus. r=mbanner, ui-r=bwinton
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#65;&#110;&#100;&#114;&#101;&#119;&#32;&#74;&#111;&#104;&#110;&#115;&#116;&#111;&#110;&#32;&#60;&#97;&#119;&#106;&#111;&#104;&#110;&#115;&#116;&#111;&#110;&#49;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Mon, 23 Jul 2012 19:24:15 -0400</td></tr>

<tr>
 <td>changeset 10714</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/76efc33d143a711a6a8b4000d2dcf08f4e638803">76efc33d143a711a6a8b4000d2dcf08f4e638803</a></td>
</tr>



<tr>
<td>parent 10713</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/3b29e269e62efe27e66cbf5cd5502c06769edae6">3b29e269e62efe27e66cbf5cd5502c06769edae6</a>
</td>
</tr>

<tr>
<td>child 10715</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/f91c69072cf6e5f395ccf7916629f6d50ade9cd2">f91c69072cf6e5f395ccf7916629f6d50ade9cd2</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=76efc33d143a711a6a8b4000d2dcf08f4e638803">8077</a></td></tr>
<tr><td>push user</td><td>ryanvm@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Mon, 23 Jul 2012 23:27:28 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@f91c69072cf6 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f91c69072cf6e5f395ccf7916629f6d50ade9cd2">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f91c69072cf6e5f395ccf7916629f6d50ade9cd2&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f91c69072cf6e5f395ccf7916629f6d50ade9cd2&newProject=comm-central&newRevision=3b29e269e62efe27e66cbf5cd5502c06769edae6&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f91c69072cf6e5f395ccf7916629f6d50ade9cd2&newProject=comm-central&newRevision=3b29e269e62efe27e66cbf5cd5502c06769edae6&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f91c69072cf6e5f395ccf7916629f6d50ade9cd2&newProject=comm-central&newRevision=3b29e269e62efe27e66cbf5cd5502c06769edae6&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mbanner%29&revcount=50">mbanner</a>, <a href="/comm-central/log?rev=reviewer%28bwinton%29&revcount=50">bwinton</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=741336">741336</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=741336">Bug 741336</a> - Provide UI to easily clear cookies from the menus. r=mbanner, ui-r=bwinton</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/app/profile/all-thunderbird.js">mail/app/profile/all-thunderbird.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/app/profile/all-thunderbird.js">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/app/profile/all-thunderbird.js">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/app/profile/all-thunderbird.js">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/app/profile/all-thunderbird.js">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/app/profile/all-thunderbird.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailCore.js">mail/base/content/mailCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailCore.js">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailCore.js">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailCore.js">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailCore.js">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailCore.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailWindowOverlay.xul">mail/base/content/mailWindowOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailWindowOverlay.xul">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailWindowOverlay.xul">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailWindowOverlay.xul">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailWindowOverlay.xul">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/mailWindowOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.js">mail/base/content/sanitize.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.js">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.js">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.js">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.js">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.xul">mail/base/content/sanitize.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.xul">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.xul">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.xul">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.xul">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitize.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.css">mail/base/content/sanitizeDialog.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.css">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.css">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.css">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.css">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.js">mail/base/content/sanitizeDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.js">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.js">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.js">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.js">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/content/sanitizeDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/jar.mn">mail/base/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/jar.mn">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/jar.mn">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/jar.mn">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/jar.mn">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/base/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/Makefile.in">mail/components/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/Makefile.in">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/Makefile.in">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/Makefile.in">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/Makefile.in">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/mailGlue.js">mail/components/mailGlue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/mailGlue.js">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/mailGlue.js">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/mailGlue.js">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/mailGlue.js">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/mailGlue.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/nsIMailGlue.idl">mail/components/nsIMailGlue.idl</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/nsIMailGlue.idl">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/nsIMailGlue.idl">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/nsIMailGlue.idl">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/nsIMailGlue.idl">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/components/nsIMailGlue.idl">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.dtd">mail/locales/en-US/chrome/messenger/messenger.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.dtd">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.dtd">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.dtd">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.dtd">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.properties">mail/locales/en-US/chrome/messenger/messenger.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.properties">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.properties">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.properties">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.properties">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/messenger.properties">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/sanitize.dtd">mail/locales/en-US/chrome/messenger/sanitize.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/sanitize.dtd">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/sanitize.dtd">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/sanitize.dtd">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/sanitize.dtd">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/en-US/chrome/messenger/sanitize.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/jar.mn">mail/locales/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/jar.mn">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/jar.mn">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/jar.mn">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/jar.mn">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/locales/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/jar.mn">mail/themes/gnomestripe/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/jar.mn">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/jar.mn">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/jar.mn">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/jar.mn">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/sanitizeDialog.css">mail/themes/gnomestripe/sanitizeDialog.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/sanitizeDialog.css">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/sanitizeDialog.css">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/sanitizeDialog.css">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/sanitizeDialog.css">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/gnomestripe/sanitizeDialog.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/jar.mn">mail/themes/pinstripe/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/jar.mn">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/jar.mn">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/jar.mn">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/jar.mn">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed-active.png">mail/themes/pinstripe/places/expander-closed-active.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed-active.png">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed-active.png">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed-active.png">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed-active.png">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed-active.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed.png">mail/themes/pinstripe/places/expander-closed.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed.png">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed.png">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed.png">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed.png">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-closed.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open-active.png">mail/themes/pinstripe/places/expander-open-active.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open-active.png">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open-active.png">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open-active.png">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open-active.png">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open-active.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open.png">mail/themes/pinstripe/places/expander-open.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open.png">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open.png">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open.png">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open.png">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/places/expander-open.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/sanitizeDialog.css">mail/themes/pinstripe/sanitizeDialog.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/sanitizeDialog.css">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/sanitizeDialog.css">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/sanitizeDialog.css">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/sanitizeDialog.css">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/pinstripe/sanitizeDialog.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/jar.mn">mail/themes/qute/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/jar.mn">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/jar.mn">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/jar.mn">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/jar.mn">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/sanitizeDialog.css">mail/themes/qute/sanitizeDialog.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/sanitizeDialog.css">file</a> |
<a href="/comm-central/annotate/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/sanitizeDialog.css">annotate</a> |
<a href="/comm-central/diff/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/sanitizeDialog.css">diff</a> |
<a href="/comm-central/comparison/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/sanitizeDialog.css">comparison</a> |
<a href="/comm-central/log/76efc33d143a711a6a8b4000d2dcf08f4e638803/mail/themes/qute/sanitizeDialog.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/app/profile/all-thunderbird.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/app/profile/all-thunderbird.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -758,10 +758,22 @@ pref(&quot;mail.chat.play_notification_sound&quot;</span>
<a href="#l1.4"></a><span id="l1.4"> // Send typing notification in private conversations</span>
<a href="#l1.5"></a><span id="l1.5"> pref(&quot;purple.conversations.im.send_typing&quot;, true);</span>
<a href="#l1.6"></a><span id="l1.6"> </span>
<a href="#l1.7"></a><span id="l1.7"> // BigFiles</span>
<a href="#l1.8"></a><span id="l1.8"> pref(&quot;mail.cloud_files.enabled&quot;, true);</span>
<a href="#l1.9"></a><span id="l1.9"> pref(&quot;mail.cloud_files.inserted_urls.footer.link&quot;, &quot;http://www.getthunderbird.com&quot;);</span>
<a href="#l1.10"></a><span id="l1.10"> pref(&quot;mail.cloud_files.learn_more_url&quot;, &quot;https://support.mozillamessaging.com/kb/filelink-large-attachments&quot;);</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+// Sanitize dialog window</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+pref(&quot;privacy.cpd.cookies&quot;, true);</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+pref(&quot;privacy.cpd.cache&quot;, true);</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+// What default should we use for the time span in the sanitizer:</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+// 0 - Clear everything</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+// 1 - Last Hour</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+// 2 - Last 2 Hours</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+// 3 - Last 4 Hours</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+// 4 - Today</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineplus">+pref(&quot;privacy.sanitize.timeSpan&quot;, 1);</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineplus">+</span>
<a href="#l1.24"></a><span id="l1.24"> // PgpMime Proxy</span>
<a href="#l1.25"></a><span id="l1.25"> pref(&quot;mail.pgpmime.addon_url&quot;, &quot;https://addons.mozilla.org/thunderbird/addon/enigmail/&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/base/content/mailCore.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/base/content/mailCore.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -345,16 +345,23 @@ function showChatTab()</span>
<a href="#l2.4"></a><span id="l2.4"> }</span>
<a href="#l2.5"></a><span id="l2.5"> </span>
<a href="#l2.6"></a><span id="l2.6"> function toImport()</span>
<a href="#l2.7"></a><span id="l2.7"> {</span>
<a href="#l2.8"></a><span id="l2.8">   window.openDialog(&quot;chrome://messenger/content/importDialog.xul&quot;, &quot;importDialog&quot;,</span>
<a href="#l2.9"></a><span id="l2.9">                     &quot;chrome, modal, titlebar, centerscreen&quot;);</span>
<a href="#l2.10"></a><span id="l2.10"> }</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+function toSanitize()</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+{</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+   Components.classes[&quot;@mozilla.org/mail/mailglue;1&quot;]</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+             .getService(Components.interfaces.nsIMailGlue)</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+             .sanitize(window);</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+}</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineplus">+</span>
<a href="#l2.19"></a><span id="l2.19"> /**</span>
<a href="#l2.20"></a><span id="l2.20">  * Opens the Preferences (Options) dialog.</span>
<a href="#l2.21"></a><span id="l2.21">  *</span>
<a href="#l2.22"></a><span id="l2.22">  * @param aPaneID     ID of prefpane to select automatically.</span>
<a href="#l2.23"></a><span id="l2.23">  * @param aTabID      ID of tab to select on the prefpane.</span>
<a href="#l2.24"></a><span id="l2.24">  * @param aOtherArgs  other prefpane specific arguments</span>
<a href="#l2.25"></a><span id="l2.25">  */</span>
<a href="#l2.26"></a><span id="l2.26"> function openOptionsDialog(aPaneID, aTabID, aOtherArgs)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.xul</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.xul</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1690,16 +1690,20 @@</span>
<a href="#l3.4"></a><span id="l3.4">             label=&quot;&amp;deleteJunk.label;&quot;</span>
<a href="#l3.5"></a><span id="l3.5">             accesskey=&quot;&amp;deleteJunk.accesskey;&quot;</span>
<a href="#l3.6"></a><span id="l3.6">             command=&quot;cmd_deleteJunk&quot;/&gt;</span>
<a href="#l3.7"></a><span id="l3.7">         &lt;menuseparator id=&quot;tasksMenuAfterDeleteSeparator&quot;/&gt;</span>
<a href="#l3.8"></a><span id="l3.8">         &lt;menuitem id=&quot;menu_import&quot; label=&quot;&amp;importCmd.label;&quot;</span>
<a href="#l3.9"></a><span id="l3.9">                   accesskey=&quot;&amp;importCmd.accesskey;&quot;</span>
<a href="#l3.10"></a><span id="l3.10">                   oncommand=&quot;toImport();&quot;/&gt;</span>
<a href="#l3.11"></a><span id="l3.11">         &lt;menuitem id=&quot;javascriptConsole&quot; label=&quot;&amp;errorConsoleCmd.label;&quot; accesskey=&quot;&amp;errorConsoleCmd.accesskey;&quot; key=&quot;key_errorConsole&quot; oncommand=&quot;toJavaScriptConsole();&quot;/&gt;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+        &lt;menuitem id=&quot;sanitizeHistory&quot;</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+                  label=&quot;&amp;clearRecentHistory.label;&quot;                       </span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+                  accesskey=&quot;&amp;clearRecentHistory.accesskey;&quot;</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+                  oncommand=&quot;toSanitize();&quot;/&gt;</span>
<a href="#l3.16"></a><span id="l3.16"> #ifndef XP_UNIX</span>
<a href="#l3.17"></a><span id="l3.17">         &lt;menuseparator id=&quot;prefSep&quot;/&gt;</span>
<a href="#l3.18"></a><span id="l3.18">         &lt;menuitem id=&quot;menu_accountmgr&quot; label=&quot;&amp;accountManagerCmd.label;&quot; accesskey=&quot;&amp;accountManagerCmd.accesskey;&quot; oncommand=&quot;MsgAccountManager(null);&quot;/&gt;</span>
<a href="#l3.19"></a><span id="l3.19">         &lt;menuitem id=&quot;menu_preferences&quot; oncommand=&quot;openOptionsDialog()&quot;/&gt;</span>
<a href="#l3.20"></a><span id="l3.20"> #else</span>
<a href="#l3.21"></a><span id="l3.21"> #ifdef XP_MACOSX</span>
<a href="#l3.22"></a><span id="l3.22">         &lt;menuseparator id=&quot;prefSep&quot;/&gt;</span>
<a href="#l3.23"></a><span id="l3.23">         &lt;menuitem id=&quot;menu_accountmgr&quot; label=&quot;&amp;accountManagerCmd.label;&quot; accesskey=&quot;&amp;accountManagerCmd.accesskey;&quot; oncommand=&quot;MsgAccountManager(null);&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">new file mode 100644</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineminus">--- /dev/null</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineplus">+++ b/mail/base/content/sanitize.js</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineat">@@ -0,0 +1,250 @@</span>
<a href="#l4.5"></a><span id="l4.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.6"></a><span id="l4.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.7"></a><span id="l4.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.8"></a><span id="l4.8" class="difflineplus">+</span>
<a href="#l4.9"></a><span id="l4.9" class="difflineplus">+Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineplus">+var Application = Components.classes[&quot;@mozilla.org/steel/application;1&quot;]</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+                            .getService(Components.interfaces.steelIApplication);</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+function Sanitizer() {}</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+Sanitizer.prototype = {</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+  // warning to the caller: this one may raise an exception (e.g. bug #265028)</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+  clearItem: function (aItemName)</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+  {</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineplus">+    if (this.items[aItemName].canClear)</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+      this.items[aItemName].clear();</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+  },</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineplus">+</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineplus">+  canClearItem: function (aItemName)</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineplus">+  {</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineplus">+    return this.items[aItemName].canClear;</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineplus">+  },</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineplus">+  </span>
<a href="#l4.27"></a><span id="l4.27" class="difflineplus">+  prefDomain: &quot;&quot;,</span>
<a href="#l4.28"></a><span id="l4.28" class="difflineplus">+  </span>
<a href="#l4.29"></a><span id="l4.29" class="difflineplus">+  getNameFromPreference: function (aPreferenceName)</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineplus">+  {</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineplus">+    return aPreferenceName.substr(this.prefDomain.length);</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineplus">+  },</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineplus">+  </span>
<a href="#l4.34"></a><span id="l4.34" class="difflineplus">+  /**</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineplus">+   * Deletes privacy sensitive data in a batch, according to user preferences</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineplus">+   *</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineplus">+   * @returns  null if everything's fine;  an object in the form</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineplus">+   *           { itemName: error, ... } on (partial) failure</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineplus">+   */</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineplus">+  sanitize: function ()</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineplus">+  {</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineplus">+    var branch = Services.prefs.getBranch(this.prefDomain);</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineplus">+    var errors = null;</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineplus">+</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineplus">+    // Cache the range of times to clear</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineplus">+    if (this.ignoreTimespan)</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineplus">+      var range = null;  // If we ignore timespan, clear everything</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineplus">+    else</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineplus">+      range = this.range || Sanitizer.getClearRange();</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineplus">+      </span>
<a href="#l4.51"></a><span id="l4.51" class="difflineplus">+    for (var itemName in this.items) {</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineplus">+      var item = this.items[itemName];</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineplus">+      item.range = range;</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineplus">+      if (&quot;clear&quot; in item &amp;&amp; item.canClear &amp;&amp; branch.getBoolPref(itemName)) {</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineplus">+        // Some of these clear() may raise exceptions (see bug #265028)</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineplus">+        // to sanitize as much as possible, we catch and store them, </span>
<a href="#l4.57"></a><span id="l4.57" class="difflineplus">+        // rather than fail fast.</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineplus">+        // Callers should check returned errors and give user feedback</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineplus">+        // about items that could not be sanitized</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineplus">+        try {</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineplus">+          item.clear();</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineplus">+        } catch(er) {</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineplus">+          if (!errors) </span>
<a href="#l4.64"></a><span id="l4.64" class="difflineplus">+            errors = {};</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineplus">+          errors[itemName] = er;</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineplus">+          dump(&quot;Error sanitizing &quot; + itemName + &quot;: &quot; + er + &quot;\n&quot;);</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineplus">+        }</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineplus">+      }</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineplus">+    }</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineplus">+    return errors;</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineplus">+  },</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineplus">+  </span>
<a href="#l4.73"></a><span id="l4.73" class="difflineplus">+  // Time span only makes sense in certain cases.  Consumers who want</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineplus">+  // to only clear some private data can opt in by setting this to false,</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineplus">+  // and can optionally specify a specific range.  If timespan is not ignored,</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineplus">+  // and range is not set, sanitize() will use the value of the timespan</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineplus">+  // pref to determine a range</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineplus">+  ignoreTimespan : true,</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineplus">+  range : null,</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineplus">+  </span>
<a href="#l4.81"></a><span id="l4.81" class="difflineplus">+  items: {</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineplus">+    cache: {</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineplus">+      clear: function ()</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineplus">+      {</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineplus">+        try {</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineplus">+          // Cache doesn't consult timespan, nor does it have the</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineplus">+          // facility for timespan-based eviction.  Wipe it.</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineplus">+          Services.cache.evictEntries(Ci.nsICache.STORE_ANYWHERE);</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineplus">+        } catch(er) {}</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineplus">+</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineplus">+      },</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineplus">+      </span>
<a href="#l4.93"></a><span id="l4.93" class="difflineplus">+      get canClear()</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineplus">+      {</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineplus">+        return true;</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineplus">+      }</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineplus">+    },</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineplus">+    </span>
<a href="#l4.99"></a><span id="l4.99" class="difflineplus">+    cookies: {</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineplus">+      clear: function ()</span>
<a href="#l4.101"></a><span id="l4.101" class="difflineplus">+      {</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineplus">+        if (this.range) {</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineplus">+          // Iterate through the cookies and delete any created after our cutoff.</span>
<a href="#l4.104"></a><span id="l4.104" class="difflineplus">+          var cookiesEnum = Services.cookies.enumerator;</span>
<a href="#l4.105"></a><span id="l4.105" class="difflineplus">+          while (cookiesEnum.hasMoreElements()) {</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineplus">+            var cookie = cookiesEnum.getNext().QueryInterface(Ci.nsICookie2);</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineplus">+            </span>
<a href="#l4.108"></a><span id="l4.108" class="difflineplus">+            if (cookie.creationTime &gt; this.range[0])</span>
<a href="#l4.109"></a><span id="l4.109" class="difflineplus">+              // This cookie was created after our cutoff, clear it</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineplus">+              Services.cookies.remove(cookie.host, cookie.name, cookie.path, false);</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineplus">+          }</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineplus">+        }</span>
<a href="#l4.113"></a><span id="l4.113" class="difflineplus">+        else {</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineplus">+          // Remove everything</span>
<a href="#l4.115"></a><span id="l4.115" class="difflineplus">+          Services.cookies.removeAll();</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineplus">+        }</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineplus">+</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineplus">+        // Clear plugin data.</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineplus">+        const phInterface = Ci.nsIPluginHost;</span>
<a href="#l4.120"></a><span id="l4.120" class="difflineplus">+        const FLAG_CLEAR_ALL = phInterface.FLAG_CLEAR_ALL;</span>
<a href="#l4.121"></a><span id="l4.121" class="difflineplus">+        let ph = Cc[&quot;@mozilla.org/plugin/host;1&quot;].getService(phInterface);</span>
<a href="#l4.122"></a><span id="l4.122" class="difflineplus">+</span>
<a href="#l4.123"></a><span id="l4.123" class="difflineplus">+        // Determine age range in seconds. (-1 means clear all.) We don't know</span>
<a href="#l4.124"></a><span id="l4.124" class="difflineplus">+        // that this.range[1] is actually now, so we compute age range based</span>
<a href="#l4.125"></a><span id="l4.125" class="difflineplus">+        // on the lower bound. If this.range results in a negative age, do</span>
<a href="#l4.126"></a><span id="l4.126" class="difflineplus">+        // nothing.</span>
<a href="#l4.127"></a><span id="l4.127" class="difflineplus">+        let age = this.range ? (Date.now() / 1000 - this.range[0] / 1000000)</span>
<a href="#l4.128"></a><span id="l4.128" class="difflineplus">+                             : -1;</span>
<a href="#l4.129"></a><span id="l4.129" class="difflineplus">+        if (!this.range || age &gt;= 0) {</span>
<a href="#l4.130"></a><span id="l4.130" class="difflineplus">+          let tags = ph.getPluginTags();</span>
<a href="#l4.131"></a><span id="l4.131" class="difflineplus">+          for (let i = 0; i &lt; tags.length; i++) {</span>
<a href="#l4.132"></a><span id="l4.132" class="difflineplus">+            try {</span>
<a href="#l4.133"></a><span id="l4.133" class="difflineplus">+              ph.clearSiteData(tags[i], null, FLAG_CLEAR_ALL, age);</span>
<a href="#l4.134"></a><span id="l4.134" class="difflineplus">+            } catch (e) {</span>
<a href="#l4.135"></a><span id="l4.135" class="difflineplus">+              // If the plugin doesn't support clearing by age, clear everything.</span>
<a href="#l4.136"></a><span id="l4.136" class="difflineplus">+              if (e.result == Components.results.</span>
<a href="#l4.137"></a><span id="l4.137" class="difflineplus">+                    NS_ERROR_PLUGIN_TIME_RANGE_NOT_SUPPORTED) {</span>
<a href="#l4.138"></a><span id="l4.138" class="difflineplus">+                try {</span>
<a href="#l4.139"></a><span id="l4.139" class="difflineplus">+                  ph.clearSiteData(tags[i], null, FLAG_CLEAR_ALL, -1);</span>
<a href="#l4.140"></a><span id="l4.140" class="difflineplus">+                } catch (e) {</span>
<a href="#l4.141"></a><span id="l4.141" class="difflineplus">+                  // Ignore errors from the plugin</span>
<a href="#l4.142"></a><span id="l4.142" class="difflineplus">+                }</span>
<a href="#l4.143"></a><span id="l4.143" class="difflineplus">+              }</span>
<a href="#l4.144"></a><span id="l4.144" class="difflineplus">+            }</span>
<a href="#l4.145"></a><span id="l4.145" class="difflineplus">+          }</span>
<a href="#l4.146"></a><span id="l4.146" class="difflineplus">+        }</span>
<a href="#l4.147"></a><span id="l4.147" class="difflineplus">+</span>
<a href="#l4.148"></a><span id="l4.148" class="difflineplus">+        // clear any network geolocation provider sessions</span>
<a href="#l4.149"></a><span id="l4.149" class="difflineplus">+        try {</span>
<a href="#l4.150"></a><span id="l4.150" class="difflineplus">+            var branch = Services.prefs.getBranch(&quot;geo.wifi.access_token.&quot;);</span>
<a href="#l4.151"></a><span id="l4.151" class="difflineplus">+            branch.deleteBranch(&quot;&quot;);</span>
<a href="#l4.152"></a><span id="l4.152" class="difflineplus">+        } catch (e) {}</span>
<a href="#l4.153"></a><span id="l4.153" class="difflineplus">+</span>
<a href="#l4.154"></a><span id="l4.154" class="difflineplus">+      },</span>
<a href="#l4.155"></a><span id="l4.155" class="difflineplus">+</span>
<a href="#l4.156"></a><span id="l4.156" class="difflineplus">+      get canClear()</span>
<a href="#l4.157"></a><span id="l4.157" class="difflineplus">+      {</span>
<a href="#l4.158"></a><span id="l4.158" class="difflineplus">+        return true;</span>
<a href="#l4.159"></a><span id="l4.159" class="difflineplus">+      }</span>
<a href="#l4.160"></a><span id="l4.160" class="difflineplus">+    },</span>
<a href="#l4.161"></a><span id="l4.161" class="difflineplus">+  }</span>
<a href="#l4.162"></a><span id="l4.162" class="difflineplus">+};</span>
<a href="#l4.163"></a><span id="l4.163" class="difflineplus">+</span>
<a href="#l4.164"></a><span id="l4.164" class="difflineplus">+// &quot;Static&quot; members</span>
<a href="#l4.165"></a><span id="l4.165" class="difflineplus">+Sanitizer.prefDomain          = &quot;privacy.sanitize.&quot;;</span>
<a href="#l4.166"></a><span id="l4.166" class="difflineplus">+Sanitizer.prefShutdown        = &quot;sanitizeOnShutdown&quot;;</span>
<a href="#l4.167"></a><span id="l4.167" class="difflineplus">+Sanitizer.prefDidShutdown     = &quot;didShutdownSanitize&quot;;</span>
<a href="#l4.168"></a><span id="l4.168" class="difflineplus">+</span>
<a href="#l4.169"></a><span id="l4.169" class="difflineplus">+// Time span constants corresponding to values of the privacy.sanitize.timeSpan</span>
<a href="#l4.170"></a><span id="l4.170" class="difflineplus">+// pref.  Used to determine how much history to clear, for various items</span>
<a href="#l4.171"></a><span id="l4.171" class="difflineplus">+Sanitizer.TIMESPAN_EVERYTHING = 0;</span>
<a href="#l4.172"></a><span id="l4.172" class="difflineplus">+Sanitizer.TIMESPAN_HOUR       = 1;</span>
<a href="#l4.173"></a><span id="l4.173" class="difflineplus">+Sanitizer.TIMESPAN_2HOURS     = 2;</span>
<a href="#l4.174"></a><span id="l4.174" class="difflineplus">+Sanitizer.TIMESPAN_4HOURS     = 3;</span>
<a href="#l4.175"></a><span id="l4.175" class="difflineplus">+Sanitizer.TIMESPAN_TODAY      = 4;</span>
<a href="#l4.176"></a><span id="l4.176" class="difflineplus">+</span>
<a href="#l4.177"></a><span id="l4.177" class="difflineplus">+// Return a 2 element array representing the start and end times,</span>
<a href="#l4.178"></a><span id="l4.178" class="difflineplus">+// in the uSec-since-epoch format that PRTime likes.  If we should</span>
<a href="#l4.179"></a><span id="l4.179" class="difflineplus">+// clear everything, return null.  Use ts if it is defined; otherwise</span>
<a href="#l4.180"></a><span id="l4.180" class="difflineplus">+// use the timeSpan pref.</span>
<a href="#l4.181"></a><span id="l4.181" class="difflineplus">+Sanitizer.getClearRange = function (ts) {</span>
<a href="#l4.182"></a><span id="l4.182" class="difflineplus">+  if (ts === undefined)</span>
<a href="#l4.183"></a><span id="l4.183" class="difflineplus">+    ts = Sanitizer.prefs.getIntPref(&quot;timeSpan&quot;);</span>
<a href="#l4.184"></a><span id="l4.184" class="difflineplus">+  if (ts === Sanitizer.TIMESPAN_EVERYTHING)</span>
<a href="#l4.185"></a><span id="l4.185" class="difflineplus">+    return null;</span>
<a href="#l4.186"></a><span id="l4.186" class="difflineplus">+  </span>
<a href="#l4.187"></a><span id="l4.187" class="difflineplus">+  // PRTime is microseconds while JS time is milliseconds</span>
<a href="#l4.188"></a><span id="l4.188" class="difflineplus">+  var endDate = Date.now() * 1000;</span>
<a href="#l4.189"></a><span id="l4.189" class="difflineplus">+  switch (ts) {</span>
<a href="#l4.190"></a><span id="l4.190" class="difflineplus">+    case Sanitizer.TIMESPAN_HOUR :</span>
<a href="#l4.191"></a><span id="l4.191" class="difflineplus">+      var startDate = endDate - 3600000000; // 1*60*60*1000000</span>
<a href="#l4.192"></a><span id="l4.192" class="difflineplus">+      break;</span>
<a href="#l4.193"></a><span id="l4.193" class="difflineplus">+    case Sanitizer.TIMESPAN_2HOURS :</span>
<a href="#l4.194"></a><span id="l4.194" class="difflineplus">+      startDate = endDate - 7200000000; // 2*60*60*1000000</span>
<a href="#l4.195"></a><span id="l4.195" class="difflineplus">+      break;</span>
<a href="#l4.196"></a><span id="l4.196" class="difflineplus">+    case Sanitizer.TIMESPAN_4HOURS :</span>
<a href="#l4.197"></a><span id="l4.197" class="difflineplus">+      startDate = endDate - 14400000000; // 4*60*60*1000000</span>
<a href="#l4.198"></a><span id="l4.198" class="difflineplus">+      break;</span>
<a href="#l4.199"></a><span id="l4.199" class="difflineplus">+    case Sanitizer.TIMESPAN_TODAY :</span>
<a href="#l4.200"></a><span id="l4.200" class="difflineplus">+      var d = new Date();  // Start with today</span>
<a href="#l4.201"></a><span id="l4.201" class="difflineplus">+      d.setHours(0);      // zero us back to midnight...</span>
<a href="#l4.202"></a><span id="l4.202" class="difflineplus">+      d.setMinutes(0);</span>
<a href="#l4.203"></a><span id="l4.203" class="difflineplus">+      d.setSeconds(0);</span>
<a href="#l4.204"></a><span id="l4.204" class="difflineplus">+      startDate = d.valueOf() * 1000; // convert to epoch usec</span>
<a href="#l4.205"></a><span id="l4.205" class="difflineplus">+      break;</span>
<a href="#l4.206"></a><span id="l4.206" class="difflineplus">+    default:</span>
<a href="#l4.207"></a><span id="l4.207" class="difflineplus">+      throw &quot;Invalid time span for clear private data: &quot; + ts;</span>
<a href="#l4.208"></a><span id="l4.208" class="difflineplus">+  }</span>
<a href="#l4.209"></a><span id="l4.209" class="difflineplus">+  return [startDate, endDate];</span>
<a href="#l4.210"></a><span id="l4.210" class="difflineplus">+};</span>
<a href="#l4.211"></a><span id="l4.211" class="difflineplus">+</span>
<a href="#l4.212"></a><span id="l4.212" class="difflineplus">+Sanitizer._prefs = null;</span>
<a href="#l4.213"></a><span id="l4.213" class="difflineplus">+Sanitizer.__defineGetter__(&quot;prefs&quot;, function() </span>
<a href="#l4.214"></a><span id="l4.214" class="difflineplus">+{</span>
<a href="#l4.215"></a><span id="l4.215" class="difflineplus">+  return Sanitizer._prefs ? Sanitizer._prefs</span>
<a href="#l4.216"></a><span id="l4.216" class="difflineplus">+    : Sanitizer._prefs = Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l4.217"></a><span id="l4.217" class="difflineplus">+                         .getService(Components.interfaces.nsIPrefService)</span>
<a href="#l4.218"></a><span id="l4.218" class="difflineplus">+                         .getBranch(Sanitizer.prefDomain);</span>
<a href="#l4.219"></a><span id="l4.219" class="difflineplus">+});</span>
<a href="#l4.220"></a><span id="l4.220" class="difflineplus">+</span>
<a href="#l4.221"></a><span id="l4.221" class="difflineplus">+// Shows sanitization UI</span>
<a href="#l4.222"></a><span id="l4.222" class="difflineplus">+Sanitizer.showUI = function(aParentWindow) </span>
<a href="#l4.223"></a><span id="l4.223" class="difflineplus">+{</span>
<a href="#l4.224"></a><span id="l4.224" class="difflineplus">+Services.ww.openWindow(Application.platformIsMac ? null : aParentWindow,</span>
<a href="#l4.225"></a><span id="l4.225" class="difflineplus">+&quot;chrome://messenger/content/sanitize.xul&quot;,</span>
<a href="#l4.226"></a><span id="l4.226" class="difflineplus">+                &quot;Sanitize&quot;,</span>
<a href="#l4.227"></a><span id="l4.227" class="difflineplus">+                &quot;chrome,titlebar,dialog,centerscreen,modal&quot;,</span>
<a href="#l4.228"></a><span id="l4.228" class="difflineplus">+                null);                </span>
<a href="#l4.229"></a><span id="l4.229" class="difflineplus">+};</span>
<a href="#l4.230"></a><span id="l4.230" class="difflineplus">+</span>
<a href="#l4.231"></a><span id="l4.231" class="difflineplus">+/** </span>
<a href="#l4.232"></a><span id="l4.232" class="difflineplus">+ * Deletes privacy sensitive data in a batch, optionally showing the </span>
<a href="#l4.233"></a><span id="l4.233" class="difflineplus">+ * sanitize UI, according to user preferences</span>
<a href="#l4.234"></a><span id="l4.234" class="difflineplus">+ */</span>
<a href="#l4.235"></a><span id="l4.235" class="difflineplus">+Sanitizer.sanitize = function(aParentWindow) </span>
<a href="#l4.236"></a><span id="l4.236" class="difflineplus">+{</span>
<a href="#l4.237"></a><span id="l4.237" class="difflineplus">+  Sanitizer.showUI(aParentWindow);</span>
<a href="#l4.238"></a><span id="l4.238" class="difflineplus">+};</span>
<a href="#l4.239"></a><span id="l4.239" class="difflineplus">+</span>
<a href="#l4.240"></a><span id="l4.240" class="difflineplus">+// this is called on startup and shutdown, to perform pending sanitizations</span>
<a href="#l4.241"></a><span id="l4.241" class="difflineplus">+Sanitizer._checkAndSanitize = function() </span>
<a href="#l4.242"></a><span id="l4.242" class="difflineplus">+{</span>
<a href="#l4.243"></a><span id="l4.243" class="difflineplus">+  const prefs = Sanitizer.prefs;</span>
<a href="#l4.244"></a><span id="l4.244" class="difflineplus">+  if (prefs.getBoolPref(Sanitizer.prefShutdown) &amp;&amp; </span>
<a href="#l4.245"></a><span id="l4.245" class="difflineplus">+      !prefs.prefHasUserValue(Sanitizer.prefDidShutdown)) {</span>
<a href="#l4.246"></a><span id="l4.246" class="difflineplus">+    // this is a shutdown or a startup after an unclean exit</span>
<a href="#l4.247"></a><span id="l4.247" class="difflineplus">+    var s = new Sanitizer();</span>
<a href="#l4.248"></a><span id="l4.248" class="difflineplus">+    s.prefDomain = &quot;privacy.clearOnShutdown.&quot;;</span>
<a href="#l4.249"></a><span id="l4.249" class="difflineplus">+    s.sanitize() || // sanitize() returns null on full success</span>
<a href="#l4.250"></a><span id="l4.250" class="difflineplus">+      prefs.setBoolPref(Sanitizer.prefDidShutdown, true);</span>
<a href="#l4.251"></a><span id="l4.251" class="difflineplus">+  }</span>
<a href="#l4.252"></a><span id="l4.252" class="difflineplus">+};</span>
<a href="#l4.253"></a><span id="l4.253" class="difflineplus">+</span>
<a href="#l4.254"></a><span id="l4.254" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">new file mode 100644</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineminus">--- /dev/null</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineplus">+++ b/mail/base/content/sanitize.xul</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineat">@@ -0,0 +1,111 @@</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l5.6"></a><span id="l5.6" class="difflineplus">+</span>
<a href="#l5.7"></a><span id="l5.7" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.8"></a><span id="l5.8" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineplus">+</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot;?&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/sanitizeDialog.css&quot;?&gt;</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+ </span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/content/sanitizeDialog.css&quot;?&gt;</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+&lt;!DOCTYPE prefwindow [</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+  &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+  &lt;!ENTITY % sanitizeDTD SYSTEM &quot;chrome://messenger/locale/sanitize.dtd&quot;&gt;</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+  %brandDTD;</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+  %sanitizeDTD;</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+]&gt;</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineplus">+&lt;prefwindow id=&quot;SanitizeDialog&quot; type=&quot;child&quot;</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineplus">+            xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineplus">+            dlgbuttons=&quot;accept,cancel&quot;</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineplus">+            title=&quot;&amp;sanitizeDialog2.title;&quot;</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineplus">+            noneverythingtitle=&quot;&amp;sanitizeDialog2.title;&quot;</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineplus">+            style=&quot;width: &amp;dialog.width;&quot;</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineplus">+            ondialogaccept=&quot;gSanitizePromptDialog.sanitize();&quot;&gt;</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineplus">+</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineplus">+  &lt;prefpane id=&quot;SanitizeDialogPane&quot; onpaneload=&quot;gSanitizePromptDialog.init();&quot;&gt;</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+	&lt;stringbundle id=&quot;bundleBrowser&quot;</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+            src=&quot;chrome://messenger/locale/messenger.properties&quot;/&gt;</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineplus">+</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineplus">+    &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineplus">+            src=&quot;chrome://messenger/content/sanitize.js&quot;/&gt;</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineplus">+    &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineplus">+            src=&quot;chrome://messenger/content/sanitizeDialog.js&quot;/&gt;</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineplus">+</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+    &lt;preferences id=&quot;sanitizePreferences&quot;&gt;</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+      &lt;preference id=&quot;privacy.cpd.cookies&quot; name=&quot;privacy.cpd.cookies&quot; type=&quot;bool&quot;/&gt;</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+      &lt;preference id=&quot;privacy.cpd.cache&quot;   name=&quot;privacy.cpd.cache&quot;   type=&quot;bool&quot;/&gt;</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+    &lt;/preferences&gt;</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineplus">+    </span>
<a href="#l5.46"></a><span id="l5.46" class="difflineplus">+    &lt;preferences id=&quot;nonItemPreferences&quot;&gt;</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineplus">+      &lt;preference id=&quot;privacy.sanitize.timeSpan&quot;</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineplus">+                  name=&quot;privacy.sanitize.timeSpan&quot;</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineplus">+                  type=&quot;int&quot;/&gt;</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+    &lt;/preferences&gt;</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+    &lt;hbox id=&quot;SanitizeDurationBox&quot; align=&quot;center&quot;&gt;</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+      &lt;label value=&quot;&amp;clearTimeDuration.label;&quot;</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+             accesskey=&quot;&amp;clearTimeDuration.accesskey;&quot;</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+             control=&quot;sanitizeDurationChoice&quot;</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+             id=&quot;sanitizeDurationLabel&quot;/&gt;</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineplus">+      &lt;menulist id=&quot;sanitizeDurationChoice&quot;</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+                preference=&quot;privacy.sanitize.timeSpan&quot;</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineplus">+                onselect=&quot;gSanitizePromptDialog.selectByTimespan();&quot;</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineplus">+                flex=&quot;1&quot;&gt;</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineplus">+        &lt;menupopup id=&quot;sanitizeDurationPopup&quot;&gt;</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineplus">+          &lt;menuitem label=&quot;&amp;clearTimeDuration.lastHour;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineplus">+          &lt;menuitem label=&quot;&amp;clearTimeDuration.last2Hours;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineplus">+          &lt;menuitem label=&quot;&amp;clearTimeDuration.last4Hours;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineplus">+          &lt;menuitem label=&quot;&amp;clearTimeDuration.today;&quot; value=&quot;4&quot;/&gt;</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineplus">+          &lt;menuseparator/&gt;</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineplus">+          &lt;menuitem label=&quot;&amp;clearTimeDuration.everything;&quot; value=&quot;0&quot;/&gt;</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineplus">+        &lt;/menupopup&gt;</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineplus">+      &lt;/menulist&gt;</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineplus">+      &lt;label id=&quot;sanitizeDurationSuffixLabel&quot;</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineplus">+             value=&quot;&amp;clearTimeDuration.suffix;&quot;/&gt;</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineplus">+</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineplus">+    &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineplus">+</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineplus">+      &lt;vbox id=&quot;sanitizeEverythingWarningBox&quot;&gt;</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineplus">+        &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineplus">+        &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineplus">+          &lt;image id=&quot;sanitizeEverythingWarningIcon&quot;/&gt;</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineplus">+          &lt;vbox id=&quot;sanitizeEverythingWarningDescBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineplus">+            &lt;description id=&quot;sanitizeEverythingWarning&quot;/&gt;</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineplus">+            &lt;description id=&quot;sanitizeEverythingUndoWarning&quot;&gt;&amp;sanitizeEverythingUndoWarning;&lt;/description&gt;</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineplus">+          &lt;/vbox&gt;</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineplus">+        &lt;/hbox&gt;</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineplus">+        &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineplus">+</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineplus">+    &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineplus">+    &lt;hbox id=&quot;detailsExpanderWrapper&quot; align=&quot;center&quot;&gt;</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineplus">+      &lt;button type=&quot;image&quot;</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineplus">+              id=&quot;detailsExpander&quot;</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineplus">+              class=&quot;expander-down&quot;</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineplus">+              persist=&quot;class&quot;</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineplus">+              oncommand=&quot;gSanitizePromptDialog.toggleItemList();&quot;/&gt;</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineplus">+      &lt;label id=&quot;detailsExpanderLabel&quot;</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineplus">+             value=&quot;&amp;detailsProgressiveDisclosure.label;&quot;</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineplus">+             accesskey=&quot;&amp;detailsProgressiveDisclosure.accesskey;&quot;</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineplus">+             control=&quot;detailsExpander&quot;/&gt;</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineplus">+    &lt;listbox id=&quot;itemList&quot; rows=&quot;2&quot; collapsed=&quot;true&quot; persist=&quot;collapsed&quot;&gt;</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineplus">+      &lt;listitem label=&quot;&amp;itemCookies.label;&quot;</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineplus">+                type=&quot;checkbox&quot;</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineplus">+                accesskey=&quot;&amp;itemCookies.accesskey;&quot;</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineplus">+                preference=&quot;privacy.cpd.cookies&quot;</span>
<a href="#l5.106"></a><span id="l5.106" class="difflineplus">+                onsyncfrompreference=&quot;return gSanitizePromptDialog.onReadGeneric();&quot;/&gt;</span>
<a href="#l5.107"></a><span id="l5.107" class="difflineplus">+      &lt;listitem label=&quot;&amp;itemCache.label;&quot;</span>
<a href="#l5.108"></a><span id="l5.108" class="difflineplus">+                type=&quot;checkbox&quot;</span>
<a href="#l5.109"></a><span id="l5.109" class="difflineplus">+                accesskey=&quot;&amp;itemCache.accesskey;&quot;</span>
<a href="#l5.110"></a><span id="l5.110" class="difflineplus">+                preference=&quot;privacy.cpd.cache&quot;</span>
<a href="#l5.111"></a><span id="l5.111" class="difflineplus">+                onsyncfrompreference=&quot;return gSanitizePromptDialog.onReadGeneric();&quot;/&gt;</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineplus">+    &lt;/listbox&gt;</span>
<a href="#l5.113"></a><span id="l5.113" class="difflineplus">+</span>
<a href="#l5.114"></a><span id="l5.114" class="difflineplus">+  &lt;/prefpane&gt;</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineplus">+&lt;/prefwindow&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">new file mode 100644</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineminus">--- /dev/null</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineplus">+++ b/mail/base/content/sanitizeDialog.css</span>
<a href="#l6.4"></a><span id="l6.4" class="difflineat">@@ -0,0 +1,23 @@</span>
<a href="#l6.5"></a><span id="l6.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.6"></a><span id="l6.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.7"></a><span id="l6.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l6.8"></a><span id="l6.8" class="difflineplus">+</span>
<a href="#l6.9"></a><span id="l6.9" class="difflineplus">+/* Places tree */</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineplus">+</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineplus">+#placesTreechildren {</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+  -moz-user-focus: normal;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+}</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+#placesTreechildren::-moz-tree-cell(grippyRow),</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+#placesTreechildren::-moz-tree-cell-text(grippyRow),</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineplus">+#placesTreechildren::-moz-tree-image(grippyRow) {</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+  cursor: -moz-grab;</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineplus">+}</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineplus">+</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineplus">+</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineplus">+/* Sanitize everything warnings */</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineplus">+</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineplus">+#sanitizeEverythingWarning,</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineplus">+#sanitizeEverythingUndoWarning {</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineplus">+  white-space: pre-wrap;</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1">new file mode 100644</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineminus">--- /dev/null</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineplus">+++ b/mail/base/content/sanitizeDialog.js</span>
<a href="#l7.4"></a><span id="l7.4" class="difflineat">@@ -0,0 +1,251 @@</span>
<a href="#l7.5"></a><span id="l7.5" class="difflineplus">+/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l7.6"></a><span id="l7.6" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.7"></a><span id="l7.7" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.8"></a><span id="l7.8" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l7.9"></a><span id="l7.9" class="difflineplus">+</span>
<a href="#l7.10"></a><span id="l7.10" class="difflineplus">+const Cc = Components.classes;</span>
<a href="#l7.11"></a><span id="l7.11" class="difflineplus">+const Ci = Components.interfaces;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+var gSanitizePromptDialog = {</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+  get bundleBrowser()</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineplus">+  {</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineplus">+    if (!this._bundleBrowser)</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineplus">+      this._bundleBrowser = document.getElementById(&quot;bundleBrowser&quot;);</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineplus">+    return this._bundleBrowser;</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineplus">+  },</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineplus">+</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineplus">+  get selectedTimespan()</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineplus">+  {</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineplus">+    var durList = document.getElementById(&quot;sanitizeDurationChoice&quot;);</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineplus">+    return parseInt(durList.value);</span>
<a href="#l7.26"></a><span id="l7.26" class="difflineplus">+  },</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineplus">+</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineplus">+  get sanitizePreferences()</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineplus">+  {</span>
<a href="#l7.30"></a><span id="l7.30" class="difflineplus">+    if (!this._sanitizePreferences) {</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineplus">+      this._sanitizePreferences =</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+        document.getElementById(&quot;sanitizePreferences&quot;);</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineplus">+    }</span>
<a href="#l7.34"></a><span id="l7.34" class="difflineplus">+    return this._sanitizePreferences;</span>
<a href="#l7.35"></a><span id="l7.35" class="difflineplus">+  },</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineplus">+</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineplus">+  get warningBox()</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineplus">+  {</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineplus">+    return document.getElementById(&quot;sanitizeEverythingWarningBox&quot;);</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineplus">+  },</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineplus">+</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineplus">+  init: function ()</span>
<a href="#l7.43"></a><span id="l7.43" class="difflineplus">+  {</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineplus">+    // This is used by selectByTimespan() to determine if the window has loaded.</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineplus">+    this._inited = true;</span>
<a href="#l7.46"></a><span id="l7.46" class="difflineplus">+</span>
<a href="#l7.47"></a><span id="l7.47" class="difflineplus">+    var s = new Sanitizer();</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineplus">+    s.prefDomain = &quot;privacy.cpd.&quot;;</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineplus">+</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineplus">+    let sanitizeItemList = document.querySelectorAll(&quot;#itemList &gt; [preference]&quot;);</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineplus">+    for (let i = 0; i &lt; sanitizeItemList.length; i++) {</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineplus">+      let prefItem = sanitizeItemList[i];</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineplus">+      let name = s.getNameFromPreference(prefItem.getAttribute(&quot;preference&quot;));</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineplus">+      if (!s.canClearItem(name)) {</span>
<a href="#l7.55"></a><span id="l7.55" class="difflineplus">+        prefItem.preference = null;</span>
<a href="#l7.56"></a><span id="l7.56" class="difflineplus">+        prefItem.checked = false;</span>
<a href="#l7.57"></a><span id="l7.57" class="difflineplus">+        prefItem.disabled = true;</span>
<a href="#l7.58"></a><span id="l7.58" class="difflineplus">+      }</span>
<a href="#l7.59"></a><span id="l7.59" class="difflineplus">+    }</span>
<a href="#l7.60"></a><span id="l7.60" class="difflineplus">+</span>
<a href="#l7.61"></a><span id="l7.61" class="difflineplus">+    document.documentElement.getButton(&quot;accept&quot;).label =</span>
<a href="#l7.62"></a><span id="l7.62" class="difflineplus">+      this.bundleBrowser.getString(&quot;sanitizeButtonOK&quot;);</span>
<a href="#l7.63"></a><span id="l7.63" class="difflineplus">+</span>
<a href="#l7.64"></a><span id="l7.64" class="difflineplus">+    if (this.selectedTimespan === Sanitizer.TIMESPAN_EVERYTHING) {</span>
<a href="#l7.65"></a><span id="l7.65" class="difflineplus">+      this.prepareWarning();</span>
<a href="#l7.66"></a><span id="l7.66" class="difflineplus">+      this.warningBox.hidden = false;</span>
<a href="#l7.67"></a><span id="l7.67" class="difflineplus">+      document.title =</span>
<a href="#l7.68"></a><span id="l7.68" class="difflineplus">+        this.bundleBrowser.getString(&quot;sanitizeDialog2.everything.title&quot;);</span>
<a href="#l7.69"></a><span id="l7.69" class="difflineplus">+    }</span>
<a href="#l7.70"></a><span id="l7.70" class="difflineplus">+    else</span>
<a href="#l7.71"></a><span id="l7.71" class="difflineplus">+      this.warningBox.hidden = true;</span>
<a href="#l7.72"></a><span id="l7.72" class="difflineplus">+  },</span>
<a href="#l7.73"></a><span id="l7.73" class="difflineplus">+</span>
<a href="#l7.74"></a><span id="l7.74" class="difflineplus">+  selectByTimespan: function ()</span>
<a href="#l7.75"></a><span id="l7.75" class="difflineplus">+  {</span>
<a href="#l7.76"></a><span id="l7.76" class="difflineplus">+    // This method is the onselect handler for the duration dropdown.  As a</span>
<a href="#l7.77"></a><span id="l7.77" class="difflineplus">+    // result it's called a couple of times before onload calls init().</span>
<a href="#l7.78"></a><span id="l7.78" class="difflineplus">+    if (!this._inited)</span>
<a href="#l7.79"></a><span id="l7.79" class="difflineplus">+      return;</span>
<a href="#l7.80"></a><span id="l7.80" class="difflineplus">+</span>
<a href="#l7.81"></a><span id="l7.81" class="difflineplus">+    var warningBox = this.warningBox;</span>
<a href="#l7.82"></a><span id="l7.82" class="difflineplus">+</span>
<a href="#l7.83"></a><span id="l7.83" class="difflineplus">+    // If clearing everything</span>
<a href="#l7.84"></a><span id="l7.84" class="difflineplus">+    if (this.selectedTimespan === Sanitizer.TIMESPAN_EVERYTHING) {</span>
<a href="#l7.85"></a><span id="l7.85" class="difflineplus">+      this.prepareWarning();</span>
<a href="#l7.86"></a><span id="l7.86" class="difflineplus">+      if (warningBox.hidden) {</span>
<a href="#l7.87"></a><span id="l7.87" class="difflineplus">+        warningBox.hidden = false;</span>
<a href="#l7.88"></a><span id="l7.88" class="difflineplus">+        window.resizeBy(0, warningBox.boxObject.height);</span>
<a href="#l7.89"></a><span id="l7.89" class="difflineplus">+      }</span>
<a href="#l7.90"></a><span id="l7.90" class="difflineplus">+      window.document.title =</span>
<a href="#l7.91"></a><span id="l7.91" class="difflineplus">+        this.bundleBrowser.getString(&quot;sanitizeDialog2.everything.title&quot;);</span>
<a href="#l7.92"></a><span id="l7.92" class="difflineplus">+      return;</span>
<a href="#l7.93"></a><span id="l7.93" class="difflineplus">+    }</span>
<a href="#l7.94"></a><span id="l7.94" class="difflineplus">+</span>
<a href="#l7.95"></a><span id="l7.95" class="difflineplus">+    // If clearing a specific time range</span>
<a href="#l7.96"></a><span id="l7.96" class="difflineplus">+    if (!warningBox.hidden) {</span>
<a href="#l7.97"></a><span id="l7.97" class="difflineplus">+      window.resizeBy(0, -warningBox.boxObject.height);</span>
<a href="#l7.98"></a><span id="l7.98" class="difflineplus">+      warningBox.hidden = true;</span>
<a href="#l7.99"></a><span id="l7.99" class="difflineplus">+    }</span>
<a href="#l7.100"></a><span id="l7.100" class="difflineplus">+    window.document.title =</span>
<a href="#l7.101"></a><span id="l7.101" class="difflineplus">+      window.document.documentElement.getAttribute(&quot;noneverythingtitle&quot;);</span>
<a href="#l7.102"></a><span id="l7.102" class="difflineplus">+  },</span>
<a href="#l7.103"></a><span id="l7.103" class="difflineplus">+</span>
<a href="#l7.104"></a><span id="l7.104" class="difflineplus">+  sanitize: function ()</span>
<a href="#l7.105"></a><span id="l7.105" class="difflineplus">+  {</span>
<a href="#l7.106"></a><span id="l7.106" class="difflineplus">+    // Update pref values before handing off to the sanitizer (bug 453440)</span>
<a href="#l7.107"></a><span id="l7.107" class="difflineplus">+    this.updatePrefs();</span>
<a href="#l7.108"></a><span id="l7.108" class="difflineplus">+    var s = new Sanitizer();</span>
<a href="#l7.109"></a><span id="l7.109" class="difflineplus">+    s.prefDomain = &quot;privacy.cpd.&quot;;</span>
<a href="#l7.110"></a><span id="l7.110" class="difflineplus">+</span>
<a href="#l7.111"></a><span id="l7.111" class="difflineplus">+    s.range = Sanitizer.getClearRange(this.selectedTimespan);</span>
<a href="#l7.112"></a><span id="l7.112" class="difflineplus">+    s.ignoreTimespan = !s.range;</span>
<a href="#l7.113"></a><span id="l7.113" class="difflineplus">+</span>
<a href="#l7.114"></a><span id="l7.114" class="difflineplus">+    try {</span>
<a href="#l7.115"></a><span id="l7.115" class="difflineplus">+      s.sanitize();</span>
<a href="#l7.116"></a><span id="l7.116" class="difflineplus">+    } catch (er) {</span>
<a href="#l7.117"></a><span id="l7.117" class="difflineplus">+      Components.utils.reportError(&quot;Exception during sanitize: &quot; + er);</span>
<a href="#l7.118"></a><span id="l7.118" class="difflineplus">+    }</span>
<a href="#l7.119"></a><span id="l7.119" class="difflineplus">+    return true;</span>
<a href="#l7.120"></a><span id="l7.120" class="difflineplus">+  },</span>
<a href="#l7.121"></a><span id="l7.121" class="difflineplus">+</span>
<a href="#l7.122"></a><span id="l7.122" class="difflineplus">+  /**</span>
<a href="#l7.123"></a><span id="l7.123" class="difflineplus">+   * If the panel that displays a warning when the duration is &quot;Everything&quot; is</span>
<a href="#l7.124"></a><span id="l7.124" class="difflineplus">+   * not set up, sets it up.  Otherwise does nothing.</span>
<a href="#l7.125"></a><span id="l7.125" class="difflineplus">+   *</span>
<a href="#l7.126"></a><span id="l7.126" class="difflineplus">+   * @param aDontShowItemList Whether only the warning message should be updated.</span>
<a href="#l7.127"></a><span id="l7.127" class="difflineplus">+   *                          True means the item list visibility status should not</span>
<a href="#l7.128"></a><span id="l7.128" class="difflineplus">+   *                          be changed.</span>
<a href="#l7.129"></a><span id="l7.129" class="difflineplus">+   */</span>
<a href="#l7.130"></a><span id="l7.130" class="difflineplus">+  prepareWarning: function (aDontShowItemList) {</span>
<a href="#l7.131"></a><span id="l7.131" class="difflineplus">+    // If the date and time-aware locale warning string is ever used again,</span>
<a href="#l7.132"></a><span id="l7.132" class="difflineplus">+    // initialize it here.  Currently we use the no-visits warning string,</span>
<a href="#l7.133"></a><span id="l7.133" class="difflineplus">+    // which does not include date and time.  See bug 480169 comment 48.</span>
<a href="#l7.134"></a><span id="l7.134" class="difflineplus">+</span>
<a href="#l7.135"></a><span id="l7.135" class="difflineplus">+    var warningStringID;</span>
<a href="#l7.136"></a><span id="l7.136" class="difflineplus">+    if (this.hasNonSelectedItems()) {</span>
<a href="#l7.137"></a><span id="l7.137" class="difflineplus">+      warningStringID = &quot;sanitizeSelectedWarning&quot;;</span>
<a href="#l7.138"></a><span id="l7.138" class="difflineplus">+      if (!aDontShowItemList)</span>
<a href="#l7.139"></a><span id="l7.139" class="difflineplus">+        this.showItemList();</span>
<a href="#l7.140"></a><span id="l7.140" class="difflineplus">+    }</span>
<a href="#l7.141"></a><span id="l7.141" class="difflineplus">+    else {</span>
<a href="#l7.142"></a><span id="l7.142" class="difflineplus">+      warningStringID = &quot;sanitizeEverythingWarning2&quot;;</span>
<a href="#l7.143"></a><span id="l7.143" class="difflineplus">+    }</span>
<a href="#l7.144"></a><span id="l7.144" class="difflineplus">+</span>
<a href="#l7.145"></a><span id="l7.145" class="difflineplus">+    var warningDesc = document.getElementById(&quot;sanitizeEverythingWarning&quot;);</span>
<a href="#l7.146"></a><span id="l7.146" class="difflineplus">+    warningDesc.textContent =</span>
<a href="#l7.147"></a><span id="l7.147" class="difflineplus">+      this.bundleBrowser.getString(warningStringID);</span>
<a href="#l7.148"></a><span id="l7.148" class="difflineplus">+  },</span>
<a href="#l7.149"></a><span id="l7.149" class="difflineplus">+</span>
<a href="#l7.150"></a><span id="l7.150" class="difflineplus">+  /**</span>
<a href="#l7.151"></a><span id="l7.151" class="difflineplus">+   * Called when the value of a preference element is synced from the actual</span>
<a href="#l7.152"></a><span id="l7.152" class="difflineplus">+   * pref.  Enables or disables the OK button appropriately.</span>
<a href="#l7.153"></a><span id="l7.153" class="difflineplus">+   */</span>
<a href="#l7.154"></a><span id="l7.154" class="difflineplus">+  onReadGeneric: function ()</span>
<a href="#l7.155"></a><span id="l7.155" class="difflineplus">+  {</span>
<a href="#l7.156"></a><span id="l7.156" class="difflineplus">+    var found = false;</span>
<a href="#l7.157"></a><span id="l7.157" class="difflineplus">+</span>
<a href="#l7.158"></a><span id="l7.158" class="difflineplus">+    // Find any other pref that's checked and enabled.</span>
<a href="#l7.159"></a><span id="l7.159" class="difflineplus">+    var i = 0;</span>
<a href="#l7.160"></a><span id="l7.160" class="difflineplus">+    while (!found &amp;&amp; i &lt; this.sanitizePreferences.childNodes.length) {</span>
<a href="#l7.161"></a><span id="l7.161" class="difflineplus">+      var preference = this.sanitizePreferences.childNodes[i];</span>
<a href="#l7.162"></a><span id="l7.162" class="difflineplus">+</span>
<a href="#l7.163"></a><span id="l7.163" class="difflineplus">+      found = !!preference.value &amp;&amp;</span>
<a href="#l7.164"></a><span id="l7.164" class="difflineplus">+              !preference.disabled;</span>
<a href="#l7.165"></a><span id="l7.165" class="difflineplus">+      i++;</span>
<a href="#l7.166"></a><span id="l7.166" class="difflineplus">+    }</span>
<a href="#l7.167"></a><span id="l7.167" class="difflineplus">+</span>
<a href="#l7.168"></a><span id="l7.168" class="difflineplus">+    try {</span>
<a href="#l7.169"></a><span id="l7.169" class="difflineplus">+      document.documentElement.getButton(&quot;accept&quot;).disabled = !found;</span>
<a href="#l7.170"></a><span id="l7.170" class="difflineplus">+    }</span>
<a href="#l7.171"></a><span id="l7.171" class="difflineplus">+    catch (e) { }</span>
<a href="#l7.172"></a><span id="l7.172" class="difflineplus">+</span>
<a href="#l7.173"></a><span id="l7.173" class="difflineplus">+    // Update the warning prompt if needed</span>
<a href="#l7.174"></a><span id="l7.174" class="difflineplus">+    this.prepareWarning(true);</span>
<a href="#l7.175"></a><span id="l7.175" class="difflineplus">+</span>
<a href="#l7.176"></a><span id="l7.176" class="difflineplus">+    return undefined;</span>
<a href="#l7.177"></a><span id="l7.177" class="difflineplus">+  },</span>
<a href="#l7.178"></a><span id="l7.178" class="difflineplus">+</span>
<a href="#l7.179"></a><span id="l7.179" class="difflineplus">+  /**</span>
<a href="#l7.180"></a><span id="l7.180" class="difflineplus">+   * Sanitizer.prototype.sanitize() requires the prefs to be up-to-date.</span>
<a href="#l7.181"></a><span id="l7.181" class="difflineplus">+   * Because the type of this prefwindow is &quot;child&quot; -- and that's needed because</span>
<a href="#l7.182"></a><span id="l7.182" class="difflineplus">+   * without it the dialog has no OK and Cancel buttons -- the prefs are not</span>
<a href="#l7.183"></a><span id="l7.183" class="difflineplus">+   * updated on dialogaccept on platforms that don't support instant-apply</span>
<a href="#l7.184"></a><span id="l7.184" class="difflineplus">+   * (i.e., Windows).  We must therefore manually set the prefs from their</span>
<a href="#l7.185"></a><span id="l7.185" class="difflineplus">+   * corresponding preference elements.</span>
<a href="#l7.186"></a><span id="l7.186" class="difflineplus">+   */</span>
<a href="#l7.187"></a><span id="l7.187" class="difflineplus">+  updatePrefs : function ()</span>
<a href="#l7.188"></a><span id="l7.188" class="difflineplus">+  {</span>
<a href="#l7.189"></a><span id="l7.189" class="difflineplus">+    var tsPref = document.getElementById(&quot;privacy.sanitize.timeSpan&quot;);</span>
<a href="#l7.190"></a><span id="l7.190" class="difflineplus">+    Sanitizer.prefs.setIntPref(&quot;timeSpan&quot;, this.selectedTimespan);</span>
<a href="#l7.191"></a><span id="l7.191" class="difflineplus">+</span>
<a href="#l7.192"></a><span id="l7.192" class="difflineplus">+    // Now manually set the prefs from their corresponding preference</span>
<a href="#l7.193"></a><span id="l7.193" class="difflineplus">+    // elements.</span>
<a href="#l7.194"></a><span id="l7.194" class="difflineplus">+    var prefs = this.sanitizePreferences.rootBranch;</span>
<a href="#l7.195"></a><span id="l7.195" class="difflineplus">+    for (let i = 0; i &lt; this.sanitizePreferences.childNodes.length; ++i) {</span>
<a href="#l7.196"></a><span id="l7.196" class="difflineplus">+      var p = this.sanitizePreferences.childNodes[i];</span>
<a href="#l7.197"></a><span id="l7.197" class="difflineplus">+      prefs.setBoolPref(p.name, p.value);</span>
<a href="#l7.198"></a><span id="l7.198" class="difflineplus">+    }</span>
<a href="#l7.199"></a><span id="l7.199" class="difflineplus">+  },</span>
<a href="#l7.200"></a><span id="l7.200" class="difflineplus">+</span>
<a href="#l7.201"></a><span id="l7.201" class="difflineplus">+  /**</span>
<a href="#l7.202"></a><span id="l7.202" class="difflineplus">+   * Check if all of the history items have been selected like the default status.</span>
<a href="#l7.203"></a><span id="l7.203" class="difflineplus">+   */</span>
<a href="#l7.204"></a><span id="l7.204" class="difflineplus">+  hasNonSelectedItems: function () {</span>
<a href="#l7.205"></a><span id="l7.205" class="difflineplus">+    let checkboxes = document.querySelectorAll(&quot;#itemList &gt; [preference]&quot;);</span>
<a href="#l7.206"></a><span id="l7.206" class="difflineplus">+    for (let i = 0; i &lt; checkboxes.length; ++i) {</span>
<a href="#l7.207"></a><span id="l7.207" class="difflineplus">+      let pref = document.getElementById(checkboxes[i].getAttribute(&quot;preference&quot;));</span>
<a href="#l7.208"></a><span id="l7.208" class="difflineplus">+      if (!pref.value)</span>
<a href="#l7.209"></a><span id="l7.209" class="difflineplus">+        return true;</span>
<a href="#l7.210"></a><span id="l7.210" class="difflineplus">+    }</span>
<a href="#l7.211"></a><span id="l7.211" class="difflineplus">+    return false;</span>
<a href="#l7.212"></a><span id="l7.212" class="difflineplus">+  },</span>
<a href="#l7.213"></a><span id="l7.213" class="difflineplus">+</span>
<a href="#l7.214"></a><span id="l7.214" class="difflineplus">+  /**</span>
<a href="#l7.215"></a><span id="l7.215" class="difflineplus">+   * Show the history items list.</span>
<a href="#l7.216"></a><span id="l7.216" class="difflineplus">+   */</span>
<a href="#l7.217"></a><span id="l7.217" class="difflineplus">+  showItemList: function () {</span>
<a href="#l7.218"></a><span id="l7.218" class="difflineplus">+    var itemList = document.getElementById(&quot;itemList&quot;);</span>
<a href="#l7.219"></a><span id="l7.219" class="difflineplus">+    var expanderButton = document.getElementById(&quot;detailsExpander&quot;);</span>
<a href="#l7.220"></a><span id="l7.220" class="difflineplus">+</span>
<a href="#l7.221"></a><span id="l7.221" class="difflineplus">+    if (itemList.collapsed) {</span>
<a href="#l7.222"></a><span id="l7.222" class="difflineplus">+      expanderButton.className = &quot;expander-up&quot;;</span>
<a href="#l7.223"></a><span id="l7.223" class="difflineplus">+      itemList.setAttribute(&quot;collapsed&quot;, &quot;false&quot;);</span>
<a href="#l7.224"></a><span id="l7.224" class="difflineplus">+      if (document.documentElement.boxObject.height)</span>
<a href="#l7.225"></a><span id="l7.225" class="difflineplus">+        window.resizeBy(0, itemList.boxObject.height);</span>
<a href="#l7.226"></a><span id="l7.226" class="difflineplus">+    }</span>
<a href="#l7.227"></a><span id="l7.227" class="difflineplus">+  },</span>
<a href="#l7.228"></a><span id="l7.228" class="difflineplus">+</span>
<a href="#l7.229"></a><span id="l7.229" class="difflineplus">+  /**</span>
<a href="#l7.230"></a><span id="l7.230" class="difflineplus">+   * Hide the history items list.</span>
<a href="#l7.231"></a><span id="l7.231" class="difflineplus">+   */</span>
<a href="#l7.232"></a><span id="l7.232" class="difflineplus">+  hideItemList: function () {</span>
<a href="#l7.233"></a><span id="l7.233" class="difflineplus">+    var itemList = document.getElementById(&quot;itemList&quot;);</span>
<a href="#l7.234"></a><span id="l7.234" class="difflineplus">+    var expanderButton = document.getElementById(&quot;detailsExpander&quot;);</span>
<a href="#l7.235"></a><span id="l7.235" class="difflineplus">+</span>
<a href="#l7.236"></a><span id="l7.236" class="difflineplus">+    if (!itemList.collapsed) {</span>
<a href="#l7.237"></a><span id="l7.237" class="difflineplus">+      expanderButton.className = &quot;expander-down&quot;;</span>
<a href="#l7.238"></a><span id="l7.238" class="difflineplus">+      window.resizeBy(0, -itemList.boxObject.height);</span>
<a href="#l7.239"></a><span id="l7.239" class="difflineplus">+      itemList.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l7.240"></a><span id="l7.240" class="difflineplus">+    }</span>
<a href="#l7.241"></a><span id="l7.241" class="difflineplus">+  },</span>
<a href="#l7.242"></a><span id="l7.242" class="difflineplus">+</span>
<a href="#l7.243"></a><span id="l7.243" class="difflineplus">+  /**</span>
<a href="#l7.244"></a><span id="l7.244" class="difflineplus">+   * Called by the item list expander button to toggle the list's visibility.</span>
<a href="#l7.245"></a><span id="l7.245" class="difflineplus">+   */</span>
<a href="#l7.246"></a><span id="l7.246" class="difflineplus">+  toggleItemList: function ()</span>
<a href="#l7.247"></a><span id="l7.247" class="difflineplus">+  {</span>
<a href="#l7.248"></a><span id="l7.248" class="difflineplus">+    var itemList = document.getElementById(&quot;itemList&quot;);</span>
<a href="#l7.249"></a><span id="l7.249" class="difflineplus">+</span>
<a href="#l7.250"></a><span id="l7.250" class="difflineplus">+    if (itemList.collapsed)</span>
<a href="#l7.251"></a><span id="l7.251" class="difflineplus">+      this.showItemList();</span>
<a href="#l7.252"></a><span id="l7.252" class="difflineplus">+    else</span>
<a href="#l7.253"></a><span id="l7.253" class="difflineplus">+      this.hideItemList();</span>
<a href="#l7.254"></a><span id="l7.254" class="difflineplus">+  }</span>
<a href="#l7.255"></a><span id="l7.255" class="difflineplus">+};</span>
<a href="#l7.256"></a><span id="l7.256">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/base/jar.mn</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/base/jar.mn</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -102,16 +102,20 @@ messenger.jar:</span>
<a href="#l8.4"></a><span id="l8.4">     content/messenger/quickFilterBar.xul            (content/quickFilterBar.xul)</span>
<a href="#l8.5"></a><span id="l8.5">     content/messenger/quickFilterBar.js             (content/quickFilterBar.js)</span>
<a href="#l8.6"></a><span id="l8.6">     content/messenger/quickFilterBar.css            (content/quickFilterBar.css)</span>
<a href="#l8.7"></a><span id="l8.7">     content/messenger/downloadsOverlay.xul          (content/downloadsOverlay.xul)</span>
<a href="#l8.8"></a><span id="l8.8">     content/messenger/browserRequest.js             (content/browserRequest.js)</span>
<a href="#l8.9"></a><span id="l8.9">     content/messenger/browserRequest.xul            (content/browserRequest.xul)</span>
<a href="#l8.10"></a><span id="l8.10"> *   content/messenger/safeMode.xul                  (content/safeMode.xul)</span>
<a href="#l8.11"></a><span id="l8.11">     content/messenger/safeMode.js                   (content/safeMode.js)</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+	content/messenger/sanitize.xul					(content/sanitize.xul)</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+	content/messenger/sanitize.js					(content/sanitize.js)</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+	content/messenger/sanitizeDialog.css			(content/sanitizeDialog.css)</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+	content/messenger/sanitizeDialog.js				(content/sanitizeDialog.js)</span>
<a href="#l8.16"></a><span id="l8.16"> # the following files are mail-specific overrides</span>
<a href="#l8.17"></a><span id="l8.17"> *+  content/messenger/license.html                  (/mozilla/toolkit/content/license.html)</span>
<a href="#l8.18"></a><span id="l8.18"> % override chrome://global/content/license.html chrome://messenger/content/license.html</span>
<a href="#l8.19"></a><span id="l8.19"> </span>
<a href="#l8.20"></a><span id="l8.20"> comm.jar:</span>
<a href="#l8.21"></a><span id="l8.21"> % content communicator %content/communicator/</span>
<a href="#l8.22"></a><span id="l8.22">    content/communicator/contentAreaClick.js         (content/contentAreaClick.js)</span>
<a href="#l8.23"></a><span id="l8.23"> *  content/communicator/utilityOverlay.xul          (content/utilityOverlay.xul)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/components/Makefile.in</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/components/Makefile.in</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -4,16 +4,23 @@</span>
<a href="#l9.4"></a><span id="l9.4"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l9.5"></a><span id="l9.5"> </span>
<a href="#l9.6"></a><span id="l9.6"> DEPTH   = ../..</span>
<a href="#l9.7"></a><span id="l9.7"> topsrcdir = @top_srcdir@</span>
<a href="#l9.8"></a><span id="l9.8"> srcdir    = @srcdir@</span>
<a href="#l9.9"></a><span id="l9.9"> VPATH   = @srcdir@</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+MODULE = mailcomps</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+XPIDL_MODULE = mailcompsbase</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+XPIDLSRCS = \</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+      nsIMailGlue.idl \</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+      $(NULL)</span>
<a href="#l9.19"></a><span id="l9.19"> </span>
<a href="#l9.20"></a><span id="l9.20"> # Only Mac and Windows have search integration components, but we include at</span>
<a href="#l9.21"></a><span id="l9.21"> # least one module from search/ on all platforms</span>
<a href="#l9.22"></a><span id="l9.22"> DIRS    = compose cloudfile preferences addrbook migration activity search about-support wintaskbar newmailaccount im</span>
<a href="#l9.23"></a><span id="l9.23"> </span>
<a href="#l9.24"></a><span id="l9.24"> ifneq (,$(filter windows gtk2 cocoa, $(MOZ_WIDGET_TOOLKIT)))</span>
<a href="#l9.25"></a><span id="l9.25"> DIRS += shell</span>
<a href="#l9.26"></a><span id="l9.26"> endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/components/mailGlue.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/components/mailGlue.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -15,16 +15,23 @@ Cu.import(&quot;resource:///modules/mailMigra</span>
<a href="#l10.4"></a><span id="l10.4"> </span>
<a href="#l10.5"></a><span id="l10.5"> /**</span>
<a href="#l10.6"></a><span id="l10.6">  * Glue code that should be executed before any windows are opened. Any</span>
<a href="#l10.7"></a><span id="l10.7">  * window-independent helper methods (a la nsBrowserGlue.js) should go in</span>
<a href="#l10.8"></a><span id="l10.8">  * MailUtils.js instead.</span>
<a href="#l10.9"></a><span id="l10.9">  */</span>
<a href="#l10.10"></a><span id="l10.10"> </span>
<a href="#l10.11"></a><span id="l10.11"> function MailGlue() {</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+	XPCOMUtils.defineLazyGetter(this, &quot;_sanitizer&quot;,</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+		function() {</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+		let sanitizerScope = {};</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineplus">+		Services.scriptloader.loadSubScript(&quot;chrome://messenger/content/sanitize.js&quot;, sanitizerScope);</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineplus">+		return sanitizerScope.Sanitizer;</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineplus">+	});</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineplus">+</span>
<a href="#l10.19"></a><span id="l10.19">   this._init();</span>
<a href="#l10.20"></a><span id="l10.20"> }</span>
<a href="#l10.21"></a><span id="l10.21"> </span>
<a href="#l10.22"></a><span id="l10.22"> MailGlue.prototype = {</span>
<a href="#l10.23"></a><span id="l10.23">   // init (called at app startup)</span>
<a href="#l10.24"></a><span id="l10.24">   _init: function MailGlue__init() {</span>
<a href="#l10.25"></a><span id="l10.25">     Services.obs.addObserver(this, &quot;xpcom-shutdown&quot;, false);</span>
<a href="#l10.26"></a><span id="l10.26">     Services.obs.addObserver(this, &quot;final-ui-startup&quot;, false);</span>
<a href="#l10.27"></a><span id="l10.27" class="difflineat">@@ -48,16 +55,21 @@ MailGlue.prototype = {</span>
<a href="#l10.28"></a><span id="l10.28">       this._onProfileStartup();</span>
<a href="#l10.29"></a><span id="l10.29">       break;</span>
<a href="#l10.30"></a><span id="l10.30">     case &quot;mail-startup-done&quot;:</span>
<a href="#l10.31"></a><span id="l10.31">       this._onMailStartupDone();</span>
<a href="#l10.32"></a><span id="l10.32">       break;</span>
<a href="#l10.33"></a><span id="l10.33">     }</span>
<a href="#l10.34"></a><span id="l10.34">   },</span>
<a href="#l10.35"></a><span id="l10.35"> </span>
<a href="#l10.36"></a><span id="l10.36" class="difflineplus">+	//nsIMailGlue implementation</span>
<a href="#l10.37"></a><span id="l10.37" class="difflineplus">+	sanitize: function MG_sanitize(aParentWindow) {</span>
<a href="#l10.38"></a><span id="l10.38" class="difflineplus">+		this._sanitizer.sanitize(aParentWindow);</span>
<a href="#l10.39"></a><span id="l10.39" class="difflineplus">+  },</span>
<a href="#l10.40"></a><span id="l10.40" class="difflineplus">+</span>
<a href="#l10.41"></a><span id="l10.41">   _onProfileStartup: function MailGlue__onProfileStartup() {</span>
<a href="#l10.42"></a><span id="l10.42">     TBDistCustomizer.applyPrefDefaults();</span>
<a href="#l10.43"></a><span id="l10.43"> </span>
<a href="#l10.44"></a><span id="l10.44">     // handle any migration work that has to happen at profile startup</span>
<a href="#l10.45"></a><span id="l10.45">     MailMigrator.migrateAtProfileStartup();</span>
<a href="#l10.46"></a><span id="l10.46"> </span>
<a href="#l10.47"></a><span id="l10.47">     // check if we're in safe mode</span>
<a href="#l10.48"></a><span id="l10.48">     if (Services.appinfo.inSafeMode) {</span>
<a href="#l10.49"></a><span id="l10.49" class="difflineat">@@ -90,13 +102,14 @@ MailGlue.prototype = {</span>
<a href="#l10.50"></a><span id="l10.50">                         { contentPage: &quot;about:newaddon?id=&quot; + aAddon.id,</span>
<a href="#l10.51"></a><span id="l10.51">                           clickHandler: null });</span>
<a href="#l10.52"></a><span id="l10.52">       });</span>
<a href="#l10.53"></a><span id="l10.53">     });</span>
<a href="#l10.54"></a><span id="l10.54">   },</span>
<a href="#l10.55"></a><span id="l10.55"> </span>
<a href="#l10.56"></a><span id="l10.56">   // for XPCOM</span>
<a href="#l10.57"></a><span id="l10.57">   classID: Components.ID(&quot;{eb239c82-fac9-431e-98d7-11cacd0f71b8}&quot;),</span>
<a href="#l10.58"></a><span id="l10.58" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsIObserver]),</span>
<a href="#l10.59"></a><span id="l10.59" class="difflineplus">+  QueryInterface: XPCOMUtils.generateQI([Ci.nsIObserver,</span>
<a href="#l10.60"></a><span id="l10.60" class="difflineplus">+                                         Ci.nsIMailGlue]),</span>
<a href="#l10.61"></a><span id="l10.61"> };</span>
<a href="#l10.62"></a><span id="l10.62"> </span>
<a href="#l10.63"></a><span id="l10.63"> var components = [MailGlue];</span>
<a href="#l10.64"></a><span id="l10.64"> var NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1">new file mode 100644</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineminus">--- /dev/null</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineplus">+++ b/mail/components/nsIMailGlue.idl</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineat">@@ -0,0 +1,21 @@</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.6"></a><span id="l11.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.7"></a><span id="l11.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l11.8"></a><span id="l11.8" class="difflineplus">+</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineplus">+#include &quot;nsISupports.idl&quot;</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineplus">+</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineplus">+interface nsIDOMWindow;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+[scriptable, uuid(bc873177-ea0c-4714-b26c-f89c071107ce)]</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+interface nsIMailGlue : nsISupports</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+{</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+  /** </span>
<a href="#l11.17"></a><span id="l11.17" class="difflineplus">+   * Deletes privacy sensitive data according to user preferences</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+   *</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineplus">+   * @param aParentWindow an optionally null window which is the parent of the </span>
<a href="#l11.20"></a><span id="l11.20" class="difflineplus">+   *        sanitization dialog</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineplus">+   *</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+   */</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+  void sanitize(in nsIDOMWindow aParentWindow);</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineplus">+};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messenger.dtd</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/messenger.dtd</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -502,16 +502,18 @@ you can use these alternative items. Oth</span>
<a href="#l12.4"></a><span id="l12.4"> &lt;!ENTITY runJunkControls.accesskey &quot;C&quot;&gt;</span>
<a href="#l12.5"></a><span id="l12.5"> &lt;!ENTITY deleteJunk.label &quot;Delete Mail Marked as Junk in Folder&quot;&gt;</span>
<a href="#l12.6"></a><span id="l12.6"> &lt;!ENTITY deleteJunk.accesskey &quot;D&quot;&gt;</span>
<a href="#l12.7"></a><span id="l12.7"> &lt;!ENTITY importCmd.label &quot;Import&quot;&gt;</span>
<a href="#l12.8"></a><span id="l12.8"> &lt;!ENTITY importCmd.accesskey &quot;m&quot;&gt;</span>
<a href="#l12.9"></a><span id="l12.9"> &lt;!ENTITY errorConsoleCmd.label &quot;Error Console&quot;&gt;</span>
<a href="#l12.10"></a><span id="l12.10"> &lt;!ENTITY errorConsoleCmd.accesskey &quot;E&quot;&gt;</span>
<a href="#l12.11"></a><span id="l12.11"> &lt;!ENTITY errorConsoleCmd.commandkey &quot;j&quot;&gt;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+&lt;!ENTITY clearRecentHistory.label &quot;Clear Recent History&quot;&gt;</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+&lt;!ENTITY clearRecentHistory.accesskey &quot;H&quot;&gt;</span>
<a href="#l12.14"></a><span id="l12.14"> &lt;!ENTITY accountManagerCmd.label &quot;Account Settings&quot;&gt;</span>
<a href="#l12.15"></a><span id="l12.15"> &lt;!ENTITY accountManagerCmd.accesskey &quot;S&quot;&gt;</span>
<a href="#l12.16"></a><span id="l12.16"> &lt;!-- LOCALIZATION NOTE (accountManagerCmdUnix.accesskey): belongs to accountManagerCmd.label,</span>
<a href="#l12.17"></a><span id="l12.17">         which is placed under the Edit menu on Unix systems --&gt;</span>
<a href="#l12.18"></a><span id="l12.18"> &lt;!ENTITY accountManagerCmdUnix.accesskey &quot;A&quot;&gt;</span>
<a href="#l12.19"></a><span id="l12.19"> </span>
<a href="#l12.20"></a><span id="l12.20"> &lt;!-- Mail Toolbar --&gt;</span>
<a href="#l12.21"></a><span id="l12.21"> &lt;!ENTITY getMsgButton.label &quot;Get Mail&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messenger.properties</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/messenger.properties</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -695,8 +695,23 @@ crashedpluginsMessage.title=The %S plugi</span>
<a href="#l13.4"></a><span id="l13.4"> crashedpluginsMessage.reloadButton.label=Reload page</span>
<a href="#l13.5"></a><span id="l13.5"> crashedpluginsMessage.reloadButton.accesskey=R</span>
<a href="#l13.6"></a><span id="l13.6"> crashedpluginsMessage.submitButton.label=Submit a crash report</span>
<a href="#l13.7"></a><span id="l13.7"> crashedpluginsMessage.submitButton.accesskey=S</span>
<a href="#l13.8"></a><span id="l13.8"> crashedpluginsMessage.learnMore=Learn More</span>
<a href="#l13.9"></a><span id="l13.9"> carbonFailurePluginsMessage.message=This page asks to use a plugin that can only run in 32-bit mode</span>
<a href="#l13.10"></a><span id="l13.10"> carbonFailurePluginsMessage.restartButton.label=Restart in 32-bit mode</span>
<a href="#l13.11"></a><span id="l13.11"> carbonFailurePluginsMessage.restartButton.accesskey=R</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+# Sanitize</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+# LOCALIZATION NOTE (sanitizeDialog2.everything.title): When &quot;Time range to</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+# clear&quot; is set to &quot;Everything&quot;, the Clear Recent History dialog's title is</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineplus">+# changed to this.  See UI mockup and comment 11 at bug 480169 --&gt;</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineplus">+sanitizeDialog2.everything.title=Clear All History</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineplus">+sanitizeButtonOK=Clear Now</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineplus">+# LOCALIZATION NOTE (sanitizeEverythingWarning2): Warning that appears when</span>
<a href="#l13.20"></a><span id="l13.20" class="difflineplus">+# &quot;Time range to clear&quot; is set to &quot;Everything&quot; in Clear Recent History dialog,</span>
<a href="#l13.21"></a><span id="l13.21" class="difflineplus">+# provided that the user has not modified the default set of history items to clear.</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineplus">+sanitizeEverythingWarning2=All history will be cleared.</span>
<a href="#l13.23"></a><span id="l13.23" class="difflineplus">+# LOCALIZATION NOTE (sanitizeSelectedWarning): Warning that appears when</span>
<a href="#l13.24"></a><span id="l13.24" class="difflineplus">+# &quot;Time range to clear&quot; is set to &quot;Everything&quot; in Clear Recent History dialog,</span>
<a href="#l13.25"></a><span id="l13.25" class="difflineplus">+# provided that the user has modified the default set of history items to clear.</span>
<a href="#l13.26"></a><span id="l13.26" class="difflineplus">+sanitizeSelectedWarning=All selected items will be cleared.</span>
<a href="#l13.27"></a><span id="l13.27">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1">new file mode 100644</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineminus">--- /dev/null</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/sanitize.dtd</span>
<a href="#l14.4"></a><span id="l14.4" class="difflineat">@@ -0,0 +1,50 @@</span>
<a href="#l14.5"></a><span id="l14.5" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.6"></a><span id="l14.6" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.7"></a><span id="l14.7" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l14.8"></a><span id="l14.8" class="difflineplus">+</span>
<a href="#l14.9"></a><span id="l14.9" class="difflineplus">+&lt;!ENTITY sanitizePrefs2.title          &quot;Settings for Clearing History&quot;&gt;</span>
<a href="#l14.10"></a><span id="l14.10" class="difflineplus">+&lt;!ENTITY sanitizeDialog2.title         &quot;Clear Recent History&quot;&gt;</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineplus">+</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+&lt;!ENTITY sanitizeItems.label          &quot;Clear the following items now:&quot;&gt;</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+&lt;!ENTITY clearDataSettings2.label     &quot;When I quit &amp;brandShortName;, it should automatically clear all:&quot;&gt;</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+&lt;!-- XXX rearrange entities to match physical layout when l10n isn't an issue --&gt;</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+&lt;!-- LOCALIZATION NOTE (clearTimeDuration.*): &quot;Time range to clear&quot; dropdown.</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineplus">+     See UI mockup at bug 480169 --&gt;</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineplus">+&lt;!ENTITY clearTimeDuration.label          &quot;Time range to clear: &quot;&gt;</span>
<a href="#l14.19"></a><span id="l14.19" class="difflineplus">+&lt;!ENTITY clearTimeDuration.accesskey      &quot;T&quot;&gt;</span>
<a href="#l14.20"></a><span id="l14.20" class="difflineplus">+&lt;!ENTITY clearTimeDuration.lastHour       &quot;Last Hour&quot;&gt;</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineplus">+&lt;!ENTITY clearTimeDuration.last2Hours     &quot;Last Two Hours&quot;&gt;</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineplus">+&lt;!ENTITY clearTimeDuration.last4Hours     &quot;Last Four Hours&quot;&gt;</span>
<a href="#l14.23"></a><span id="l14.23" class="difflineplus">+&lt;!ENTITY clearTimeDuration.today          &quot;Today&quot;&gt;</span>
<a href="#l14.24"></a><span id="l14.24" class="difflineplus">+&lt;!ENTITY clearTimeDuration.everything     &quot;Everything&quot;&gt;</span>
<a href="#l14.25"></a><span id="l14.25" class="difflineplus">+&lt;!-- Localization note (clearTimeDuration.suffix) - trailing entity for languages</span>
<a href="#l14.26"></a><span id="l14.26" class="difflineplus">+that require it.  --&gt;</span>
<a href="#l14.27"></a><span id="l14.27" class="difflineplus">+&lt;!ENTITY clearTimeDuration.suffix         &quot;&quot;&gt;</span>
<a href="#l14.28"></a><span id="l14.28" class="difflineplus">+&lt;!ENTITY clearTimeDuration.dateColumn     &quot;Visit Date&quot;&gt;</span>
<a href="#l14.29"></a><span id="l14.29" class="difflineplus">+&lt;!ENTITY clearTimeDuration.nameColumn     &quot;Name&quot;&gt;</span>
<a href="#l14.30"></a><span id="l14.30" class="difflineplus">+</span>
<a href="#l14.31"></a><span id="l14.31" class="difflineplus">+&lt;!-- LOCALIZATION NOTE (detailsProgressiveDisclosure.*): Labels and accesskeys</span>
<a href="#l14.32"></a><span id="l14.32" class="difflineplus">+     of the &quot;Details&quot; progressive disclosure button.  See UI mockup at bug</span>
<a href="#l14.33"></a><span id="l14.33" class="difflineplus">+     480169 --&gt;</span>
<a href="#l14.34"></a><span id="l14.34" class="difflineplus">+&lt;!ENTITY detailsProgressiveDisclosure.label     &quot;Details&quot;&gt;</span>
<a href="#l14.35"></a><span id="l14.35" class="difflineplus">+&lt;!ENTITY detailsProgressiveDisclosure.accesskey &quot;e&quot;&gt;</span>
<a href="#l14.36"></a><span id="l14.36" class="difflineplus">+</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineplus">+&lt;!ENTITY historySection.label         &quot;History&quot;&gt;</span>
<a href="#l14.38"></a><span id="l14.38" class="difflineplus">+&lt;!ENTITY dataSection.label            &quot;Data&quot;&gt;</span>
<a href="#l14.39"></a><span id="l14.39" class="difflineplus">+</span>
<a href="#l14.40"></a><span id="l14.40" class="difflineplus">+&lt;!-- LOCALIZATION NOTE (item*): itemHistoryAndDownloads.* and</span>
<a href="#l14.41"></a><span id="l14.41" class="difflineplus">+     itemBrowsingHistory.* will never be used at the same time, so they can</span>
<a href="#l14.42"></a><span id="l14.42" class="difflineplus">+     have the same accesskey. --&gt;</span>
<a href="#l14.43"></a><span id="l14.43" class="difflineplus">+&lt;!ENTITY itemCookies.label                 &quot;Cookies&quot;&gt;</span>
<a href="#l14.44"></a><span id="l14.44" class="difflineplus">+&lt;!ENTITY itemCookies.accesskey             &quot;C&quot;&gt;</span>
<a href="#l14.45"></a><span id="l14.45" class="difflineplus">+&lt;!ENTITY itemCache.label                   &quot;Cache&quot;&gt;</span>
<a href="#l14.46"></a><span id="l14.46" class="difflineplus">+&lt;!ENTITY itemCache.accesskey               &quot;A&quot;&gt;</span>
<a href="#l14.47"></a><span id="l14.47" class="difflineplus">+</span>
<a href="#l14.48"></a><span id="l14.48" class="difflineplus">+&lt;!-- LOCALIZATION NOTE (sanitizeEverythingUndoWarning): Second warning paragraph</span>
<a href="#l14.49"></a><span id="l14.49" class="difflineplus">+     that appears when &quot;Time range to clear&quot; is set to &quot;Everything&quot;.  See UI</span>
<a href="#l14.50"></a><span id="l14.50" class="difflineplus">+     mockup at bug 480169 --&gt;</span>
<a href="#l14.51"></a><span id="l14.51" class="difflineplus">+&lt;!ENTITY sanitizeEverythingUndoWarning     &quot;This action cannot be undone.&quot;&gt;</span>
<a href="#l14.52"></a><span id="l14.52" class="difflineplus">+</span>
<a href="#l14.53"></a><span id="l14.53" class="difflineplus">+&lt;!ENTITY dialog.width                 &quot;28em&quot;&gt;</span>
<a href="#l14.54"></a><span id="l14.54" class="difflineplus">+&lt;!ENTITY column.width                 &quot;14em&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/locales/jar.mn</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/locales/jar.mn</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -181,16 +181,17 @@</span>
<a href="#l15.4"></a><span id="l15.4">   locale/@AB_CD@/messenger/downloadsOverlay.dtd                         (%chrome/messenger/downloadsOverlay.dtd)</span>
<a href="#l15.5"></a><span id="l15.5">   locale/@AB_CD@/messenger/chat.dtd                                     (%chrome/messenger/chat.dtd)</span>
<a href="#l15.6"></a><span id="l15.6">   locale/@AB_CD@/messenger/chat.properties                              (%chrome/messenger/chat.properties)</span>
<a href="#l15.7"></a><span id="l15.7">   locale/@AB_CD@/messenger/addbuddy.dtd                                 (%chrome/messenger/addbuddy.dtd)</span>
<a href="#l15.8"></a><span id="l15.8">   locale/@AB_CD@/messenger/joinChat.dtd                                 (%chrome/messenger/joinChat.dtd)</span>
<a href="#l15.9"></a><span id="l15.9">   locale/@AB_CD@/messenger/imAccounts.dtd                               (%chrome/messenger/imAccounts.dtd)</span>
<a href="#l15.10"></a><span id="l15.10">   locale/@AB_CD@/messenger/imAccounts.properties                        (%chrome/messenger/imAccounts.properties)</span>
<a href="#l15.11"></a><span id="l15.11">   locale/@AB_CD@/messenger/imAccountWizard.dtd                          (%chrome/messenger/imAccountWizard.dtd)</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+  locale/@AB_CD@/messenger/sanitize.dtd									(%chrome/messenger/sanitize.dtd)</span>
<a href="#l15.13"></a><span id="l15.13"> % locale messenger-mapi @AB_CD@ %locale/@AB_CD@/messenger-mapi/</span>
<a href="#l15.14"></a><span id="l15.14">   locale/@AB_CD@/messenger-mapi/mapi.properties                         (%chrome/messenger-mapi/mapi.properties)</span>
<a href="#l15.15"></a><span id="l15.15"> % locale messenger-newsblog @AB_CD@ %locale/@AB_CD@/messenger-newsblog/</span>
<a href="#l15.16"></a><span id="l15.16">   locale/@AB_CD@/messenger-newsblog/newsblog.properties                 (%chrome/messenger-newsblog/newsblog.properties)</span>
<a href="#l15.17"></a><span id="l15.17">   locale/@AB_CD@/messenger-newsblog/feed-subscriptions.dtd              (%chrome/messenger-newsblog/feed-subscriptions.dtd)</span>
<a href="#l15.18"></a><span id="l15.18">   locale/@AB_CD@/messenger-newsblog/am-newsblog.dtd                     (%chrome/messenger-newsblog/am-newsblog.dtd)</span>
<a href="#l15.19"></a><span id="l15.19"> % locale messenger-smime @AB_CD@ %locale/@AB_CD@/messenger-smime/</span>
<a href="#l15.20"></a><span id="l15.20">   locale/@AB_CD@/messenger-smime/msgCompSMIMEOverlay.dtd                (%chrome/messenger-smime/msgCompSMIMEOverlay.dtd)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/themes/gnomestripe/jar.mn</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/themes/gnomestripe/jar.mn</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -255,9 +255,10 @@ classic.jar:</span>
<a href="#l16.4"></a><span id="l16.4">   skin/classic/messenger/newmailaccount/spinner.gif                     (mail/newmailaccount/spinner.gif)</span>
<a href="#l16.5"></a><span id="l16.5">   skin/classic/messenger/newmailaccount/success-addons.png              (mail/newmailaccount/success-addons.png)</span>
<a href="#l16.6"></a><span id="l16.6">   skin/classic/messenger/newmailaccount/success-border.png              (mail/newmailaccount/success-border.png)</span>
<a href="#l16.7"></a><span id="l16.7">   skin/classic/messenger/newmailaccount/success-compose.png             (mail/newmailaccount/success-compose.png)</span>
<a href="#l16.8"></a><span id="l16.8">   skin/classic/messenger/newmailaccount/success-signature.png           (mail/newmailaccount/success-signature.png)</span>
<a href="#l16.9"></a><span id="l16.9">   skin/classic/messenger/newmailaccount/search.png                      (mail/newmailaccount/search.png)</span>
<a href="#l16.10"></a><span id="l16.10">   skin/classic/messenger/icons/ubuntuone.png                    (mail/icons/ubuntuone.png)</span>
<a href="#l16.11"></a><span id="l16.11">   skin/classic/messenger/icons/yousendit.png                  (mail/icons/yousendit.png)</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+  skin/classic/messenger/sanitizeDialog.css						      (sanitizeDialog.css)  </span>
<a href="#l16.13"></a><span id="l16.13">   skin/classic/messenger/icons/box-logo.png                   (mail/icons/box-logo.png)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1">new file mode 100644</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineminus">--- /dev/null</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineplus">+++ b/mail/themes/gnomestripe/sanitizeDialog.css</span>
<a href="#l17.4"></a><span id="l17.4" class="difflineat">@@ -0,0 +1,107 @@</span>
<a href="#l17.5"></a><span id="l17.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.6"></a><span id="l17.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.7"></a><span id="l17.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l17.8"></a><span id="l17.8" class="difflineplus">+</span>
<a href="#l17.9"></a><span id="l17.9" class="difflineplus">+#sanitizeDurationChoice {</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l17.11"></a><span id="l17.11" class="difflineplus">+}</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+/* Align the duration label with the warning box and item list */</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineplus">+#sanitizeDurationLabel {</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+  -moz-margin-start: 3px;</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineplus">+}</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineplus">+</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineplus">+</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineplus">+/* Hide the duration dropdown suffix label if it's empty.  Otherwise it</span>
<a href="#l17.20"></a><span id="l17.20" class="difflineplus">+   takes up a little space, causing the end of the dropdown to not be aligned</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineplus">+   with the warning box. */</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineplus">+#sanitizeDurationSuffixLabel[value=&quot;&quot;] {</span>
<a href="#l17.23"></a><span id="l17.23" class="difflineplus">+  display: none;</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineplus">+}</span>
<a href="#l17.25"></a><span id="l17.25" class="difflineplus">+</span>
<a href="#l17.26"></a><span id="l17.26" class="difflineplus">+</span>
<a href="#l17.27"></a><span id="l17.27" class="difflineplus">+/* Places tree */</span>
<a href="#l17.28"></a><span id="l17.28" class="difflineplus">+#placesTreechildren::-moz-tree-row(selected),</span>
<a href="#l17.29"></a><span id="l17.29" class="difflineplus">+#placesTreechildren::-moz-tree-row(grippyRow) {</span>
<a href="#l17.30"></a><span id="l17.30" class="difflineplus">+  background: #999;</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineplus">+}</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+</span>
<a href="#l17.33"></a><span id="l17.33" class="difflineplus">+#placesTreechildren::-moz-tree-cell-text(selected) {</span>
<a href="#l17.34"></a><span id="l17.34" class="difflineplus">+  color: #111;</span>
<a href="#l17.35"></a><span id="l17.35" class="difflineplus">+}</span>
<a href="#l17.36"></a><span id="l17.36" class="difflineplus">+</span>
<a href="#l17.37"></a><span id="l17.37" class="difflineplus">+</span>
<a href="#l17.38"></a><span id="l17.38" class="difflineplus">+/* Sanitize everything warning box */</span>
<a href="#l17.39"></a><span id="l17.39" class="difflineplus">+#sanitizeEverythingWarningBox {</span>
<a href="#l17.40"></a><span id="l17.40" class="difflineplus">+  background-color: Window;</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineplus">+  border: 1px solid ThreeDDarkShadow;</span>
<a href="#l17.42"></a><span id="l17.42" class="difflineplus">+  border-radius: 5px;</span>
<a href="#l17.43"></a><span id="l17.43" class="difflineplus">+  padding: 16px;</span>
<a href="#l17.44"></a><span id="l17.44" class="difflineplus">+}</span>
<a href="#l17.45"></a><span id="l17.45" class="difflineplus">+</span>
<a href="#l17.46"></a><span id="l17.46" class="difflineplus">+#sanitizeEverythingWarningIcon {</span>
<a href="#l17.47"></a><span id="l17.47" class="difflineplus">+  list-style-image: url(&quot;moz-icon://stock/gtk-dialog-warning?size=dialog&quot;);</span>
<a href="#l17.48"></a><span id="l17.48" class="difflineplus">+  padding: 0;</span>
<a href="#l17.49"></a><span id="l17.49" class="difflineplus">+  margin: 0;</span>
<a href="#l17.50"></a><span id="l17.50" class="difflineplus">+}</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineplus">+</span>
<a href="#l17.52"></a><span id="l17.52" class="difflineplus">+#sanitizeEverythingWarningDescBox {</span>
<a href="#l17.53"></a><span id="l17.53" class="difflineplus">+  padding: 0 16px;</span>
<a href="#l17.54"></a><span id="l17.54" class="difflineplus">+  margin: 0;</span>
<a href="#l17.55"></a><span id="l17.55" class="difflineplus">+}</span>
<a href="#l17.56"></a><span id="l17.56" class="difflineplus">+</span>
<a href="#l17.57"></a><span id="l17.57" class="difflineplus">+</span>
<a href="#l17.58"></a><span id="l17.58" class="difflineplus">+/* Progressive disclosure button */</span>
<a href="#l17.59"></a><span id="l17.59" class="difflineplus">+#detailsExpanderWrapper {</span>
<a href="#l17.60"></a><span id="l17.60" class="difflineplus">+  padding: 0;</span>
<a href="#l17.61"></a><span id="l17.61" class="difflineplus">+  margin-top: 6px;</span>
<a href="#l17.62"></a><span id="l17.62" class="difflineplus">+  margin-bottom: 6px;</span>
<a href="#l17.63"></a><span id="l17.63" class="difflineplus">+  -moz-margin-start: -6px;</span>
<a href="#l17.64"></a><span id="l17.64" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l17.65"></a><span id="l17.65" class="difflineplus">+}</span>
<a href="#l17.66"></a><span id="l17.66" class="difflineplus">+</span>
<a href="#l17.67"></a><span id="l17.67" class="difflineplus">+.expander-up,</span>
<a href="#l17.68"></a><span id="l17.68" class="difflineplus">+.expander-down {</span>
<a href="#l17.69"></a><span id="l17.69" class="difflineplus">+  min-width: 0;</span>
<a href="#l17.70"></a><span id="l17.70" class="difflineplus">+  padding: 2px 0;</span>
<a href="#l17.71"></a><span id="l17.71" class="difflineplus">+  -moz-padding-start: 2px;</span>
<a href="#l17.72"></a><span id="l17.72" class="difflineplus">+}</span>
<a href="#l17.73"></a><span id="l17.73" class="difflineplus">+</span>
<a href="#l17.74"></a><span id="l17.74" class="difflineplus">+.expander-up {</span>
<a href="#l17.75"></a><span id="l17.75" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/arrow/arrow-up.gif&quot;);</span>
<a href="#l17.76"></a><span id="l17.76" class="difflineplus">+}</span>
<a href="#l17.77"></a><span id="l17.77" class="difflineplus">+</span>
<a href="#l17.78"></a><span id="l17.78" class="difflineplus">+.expander-down {</span>
<a href="#l17.79"></a><span id="l17.79" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/arrow/arrow-dn.gif&quot;);</span>
<a href="#l17.80"></a><span id="l17.80" class="difflineplus">+}</span>
<a href="#l17.81"></a><span id="l17.81" class="difflineplus">+</span>
<a href="#l17.82"></a><span id="l17.82" class="difflineplus">+.expander-down:hover:active {</span>
<a href="#l17.83"></a><span id="l17.83" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/arrow/arrow-dn-hov.gif&quot;);</span>
<a href="#l17.84"></a><span id="l17.84" class="difflineplus">+}</span>
<a href="#l17.85"></a><span id="l17.85" class="difflineplus">+</span>
<a href="#l17.86"></a><span id="l17.86" class="difflineplus">+.expander-up:hover:active {</span>
<a href="#l17.87"></a><span id="l17.87" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/arrow/arrow-up-hov.gif&quot;);</span>
<a href="#l17.88"></a><span id="l17.88" class="difflineplus">+}</span>
<a href="#l17.89"></a><span id="l17.89" class="difflineplus">+</span>
<a href="#l17.90"></a><span id="l17.90" class="difflineplus">+</span>
<a href="#l17.91"></a><span id="l17.91" class="difflineplus">+/* Make the item list the same width as the warning box */</span>
<a href="#l17.92"></a><span id="l17.92" class="difflineplus">+#itemList {</span>
<a href="#l17.93"></a><span id="l17.93" class="difflineplus">+  -moz-margin-start: 0;</span>
<a href="#l17.94"></a><span id="l17.94" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l17.95"></a><span id="l17.95" class="difflineplus">+}</span>
<a href="#l17.96"></a><span id="l17.96" class="difflineplus">+</span>
<a href="#l17.97"></a><span id="l17.97" class="difflineplus">+/* Without this a useless scrollbar appears in the listbox when its rows</span>
<a href="#l17.98"></a><span id="l17.98" class="difflineplus">+   attribute is set to the total number of listitems, as it is currently.  See</span>
<a href="#l17.99"></a><span id="l17.99" class="difflineplus">+   bug 489958 comment 14 and bug 491788. */</span>
<a href="#l17.100"></a><span id="l17.100" class="difflineplus">+#itemList &gt; listitem {</span>
<a href="#l17.101"></a><span id="l17.101" class="difflineplus">+  padding: 1px 0;</span>
<a href="#l17.102"></a><span id="l17.102" class="difflineplus">+}</span>
<a href="#l17.103"></a><span id="l17.103" class="difflineplus">+</span>
<a href="#l17.104"></a><span id="l17.104" class="difflineplus">+</span>
<a href="#l17.105"></a><span id="l17.105" class="difflineplus">+/* Align the last dialog button with the end of the warning box */</span>
<a href="#l17.106"></a><span id="l17.106" class="difflineplus">+.prefWindow-dlgbuttons {</span>
<a href="#l17.107"></a><span id="l17.107" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l17.108"></a><span id="l17.108" class="difflineplus">+}</span>
<a href="#l17.109"></a><span id="l17.109" class="difflineplus">+.dialog-button[dlgtype=&quot;accept&quot;] {</span>
<a href="#l17.110"></a><span id="l17.110" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l17.111"></a><span id="l17.111" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mail/themes/pinstripe/jar.mn</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mail/themes/pinstripe/jar.mn</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -299,11 +299,16 @@ classic.jar:</span>
<a href="#l18.4"></a><span id="l18.4">   skin/classic/messenger/newmailaccount/accountProvisioner.css          (mail/newmailaccount/accountProvisioner.css)</span>
<a href="#l18.5"></a><span id="l18.5">   skin/classic/messenger/newmailaccount/search.gif                      (mail/newmailaccount/search.gif)</span>
<a href="#l18.6"></a><span id="l18.6">   skin/classic/messenger/newmailaccount/spinner.gif                     (mail/newmailaccount/spinner.gif)</span>
<a href="#l18.7"></a><span id="l18.7">   skin/classic/messenger/newmailaccount/success-addons.png              (mail/newmailaccount/success-addons.png)</span>
<a href="#l18.8"></a><span id="l18.8">   skin/classic/messenger/newmailaccount/success-border.png              (mail/newmailaccount/success-border.png)</span>
<a href="#l18.9"></a><span id="l18.9">   skin/classic/messenger/newmailaccount/success-compose.png             (mail/newmailaccount/success-compose.png)</span>
<a href="#l18.10"></a><span id="l18.10">   skin/classic/messenger/newmailaccount/success-signature.png           (mail/newmailaccount/success-signature.png)</span>
<a href="#l18.11"></a><span id="l18.11">   skin/classic/messenger/newmailaccount/search.png                      (mail/newmailaccount/search.png)</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-  skin/classic/messenger/icons/ubuntuone.png                    (mail/icons/ubuntuone.png)</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineminus">-  skin/classic/messenger/icons/yousendit.png                  (mail/icons/yousendit.png)</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+  skin/classic/messenger/icons/ubuntuone.png							(mail/icons/ubuntuone.png)</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineplus">+  skin/classic/messenger/icons/yousendit.png							(mail/icons/yousendit.png)</span>
<a href="#l18.16"></a><span id="l18.16" class="difflineplus">+  skin/classic/messenger/places/expander-closed.png							(places/expander-closed.png)						</span>
<a href="#l18.17"></a><span id="l18.17" class="difflineplus">+  skin/classic/messenger/places/expander-closed-active.png					(places/expander-closed-active.png)</span>
<a href="#l18.18"></a><span id="l18.18" class="difflineplus">+  skin/classic/messenger/places/expander-open.png							(places/expander-open.png)</span>
<a href="#l18.19"></a><span id="l18.19" class="difflineplus">+  skin/classic/messenger/places/expander-open-active.png					(places/expander-open-active.png)</span>
<a href="#l18.20"></a><span id="l18.20" class="difflineplus">+  skin/classic/messenger/sanitizeDialog.css									(sanitizeDialog.css)  </span>
<a href="#l18.21"></a><span id="l18.21">   skin/classic/messenger/icons/box-logo.png                      (mail/icons/box-logo.png)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1">new file mode 100644</span>
<a href="#l19.2"></a><span id="l19.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..7ef5f04f9ea9aec76eb9bee7af5aaa2c74a3fb01</span>
<a href="#l19.3"></a><span id="l19.3">GIT binary patch
literal 1329
zc$@(-1&lt;v}3P)&lt;h;3K|Lk000e1NJLTq000;O000*V1^@s65h0H)00004XF*Lt007q5
z)K6G40000PbVXQnQ*UN;cVTj606}DLVr3vnZDD6+Qe|Oed2z{QJOBU$!%0LzRCwBA
zWB&gt;w}q%Qvd{}~Q`d;d)L|NnnX3`l^H0YCVU#AasU_{k+CyLtEQ+;AZG-+!Q?009Kj
z&amp;+L-izfW6N*UrPqih-St1;b!QMu&lt;U-$Oit$wCK&amp;dPYhdj9{lt8;k{Y=7nJ4#E%*lz
zKp@jNzJGjf&gt;FJWq@E2&amp;~g(rU*K7IdB&amp;&lt;DuoGXWKe@Gvo`iSskqSQ@h|yn4nPC|m@@
zKLG*=WC8o1-#=K{SQ!~ELJenx&gt;SBc2zz88woc|vt075|g&gt;hnJakmp4Nxf%Zc`^^KC
zWCK|M5I~^tW&amp;x@C3uJu!4l&lt;YtVmL5d7@2_&gt;&lt;UD4GFe8WtV@5C=EDywBF97k2&amp;;J=%
z5HZLMA^-vi9^hbC0!;xM05lw|jtLP=|DihmqX*qTARDCaKO@+YXi&gt;ue5I`(2#Y{jK
zFad)J&lt;QPU6h6W82vVn|{Ac2|&lt;&lt;U=?hF^~foncx8m1^@vBw%|WV5hKLwNIqsbvUW1V
zqid&amp;tmNR3-_P@V&gt;8D!Lr80^Cffr$fX#y^OKjEtyC0Rjl&gt;ga6&lt;#X9oEK5(QvyE9zS@
zTs^W8XC6@0vt(dm0qO&gt;Z%|B37{exJ*z=*H|Ab^-)sRCpmNHH@Iv#&gt;#EMO{+{+t5rz
zkRf3U-*^UP11p9&lt;fBrN428PeKAHWp&amp;^Do2C-~SkX{QC6|W&amp;uC|K_VIGKak5=SRko|
znF$gnpfI)Y3S)S7`#i(FOD7oqfr8=Re+FS0O$G_0Fowr3z5|ma16UlChd@E~o%;{N
z&amp;u&gt;5BaSaea5Far82PZdXRtN_9gq4+n;SbQT_n-bS==$U{FtZDQUCYGE!C)Ct0+eTB
zU;$z_C}v@0W?%)TQD!F8NB{^Rco2caK|TN_nQuS-F+6+oi{a(F-(WU3pAdt6bQ#!J
z=KkpnLK3nJY-|vNS=k_tVg+FqMo4NziUWWEVu2?(purzL{bl(2^)EOt038H0gb^Ix
zpp+%AW5S^C9KxVw;|Vqdl;A-@^6wu=&amp;3|wN|Ai$`MnrA^2q3TpfByVq`10i+!`JWs
zz%F57W&lt;&lt;mVG&gt;?E1flX)z+&amp;!R@k_ni(fJG()Gf@3+P_+L24^QGS01!Z63w{EF0VKx8
z0?GOygIRz+V1X46j1WIFLbLQgpbJ5zIy0z&lt;`O657Xof$KOa{tJ|B-?SAb_An#Xqn?
zps-{C&lt;p-cBE64}1G6&lt;xQ1&gt;r1E&amp;@lXi1`iX=aG)MgNHhKi=PMWh2q1V-0SXpTZYGA0
ze;|glLJbF5!ieT=W&gt;C;DgK{%a{2xUBA0S%{REGX$L@BBO0tjpY3oFMTpf_1mg%}y`
ze+H)IKM;dKK4F5CfuJH6QDOu6e}QWLGC&gt;RmdYnO!6PUC485pkJ{0#Ih&gt;ra&gt;k009Kj
z_lKQZ;&gt;w2Y+YN%e-57L4SRgKk8jS3ECTKwi3xL1&gt;AbfBJ1kx|xeqcCs?BpL-R&lt;7e9
zX^&lt;L#00L&gt;{7L-)clvFd&gt;_T%$&amp;k-xuxFd|A*c-g{$Tv7jnRcZg&gt;6xbp*PX2$KJW|&amp;$
z?p@#q6nY9wX+Hr1h!I-M3jnbc5DPLOLW5KQvIi72Z-DqY5Pt#H$p8Vwh!j+upz4zW
n)v=@kV9YT5fMRf~0wBNu(gkh+k|I`&lt;00000NkvXXu0mjf(9$K;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1">new file mode 100644</span>
<a href="#l20.2"></a><span id="l20.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..7850c9e9510b196e7b34398d2c028a457c901418</span>
<a href="#l20.3"></a><span id="l20.3">GIT binary patch
literal 837
zc$@)61G@Z)P)&lt;h;3K|Lk000e1NJLTq000;O000*V1^@s65h0H)00004XF*Lt007q5
z)K6G40000PbVXQnQ*UN;cVTj606}DLVr3vnZDD6+Qe|Oed2z{QJOBU!*GWV{RCwBA
zWB`Jmo*n@{KE5Mw-n`NL_wOGQ1DSx0jqR7HsOYxD#Kd4A_uv2j{}})R2qextXU?3X
z$B!TX|NHmv|CE5wpFjWKzJ2?jsZ*!U0Gi7LvH&amp;1}Sbz+Uw{PE?nwy)0UGe?&lt;cLtzE
zB)guSot=S)hljzyz&lt;~Mk&lt;;&amp;hcAyy#%2@pUa3)p}C`o+q~$Vj%~An^0&amp;PX&gt;?~TwGiX
zK=ZgjAqEl#2q2IJEHFiX{`&gt;(eA{PJ+2I~jLBRJ?m1V8|R4TlOaz#@fQfTSPJ00&lt;x!
zWC==Kk8H``zklI;fB&lt;5_=kn&gt;(r!$;BeVT!pnHfV4WQd`mAwzC%E&lt;T?y00a&lt;&lt;1x!q+
zS-`@=f?&gt;;+EjV2Zl1JAAibrG%00M{!J&amp;2I8iHQkAYHBK0!((D%7|hJfz^M*|zkT}#
z#?Ykx2c`}nfS8aY85;-=4rVYlH3d5Yqz)7`ii(O1&amp;d$yZuU@@kc=zrd7y~mI7=zS&amp;
z`SJyx)&amp;T+t#R6p4gS-y%E&gt;JN;e0)4O6M+l|76%NOnVH~t0jWX9PykOY00D#&amp;fFOfG
zF8%T22iR2~K70VP1q1{bva_?n^0Be83{p~3SPchZ^ppq?KrFBn0RmsYeg)@dxa~+0
z2rL2^e0_bvL4zK#=qU&amp;}k^uq;ZUIOTl-==Z1_c$7c&gt;(SXfB&lt;5Fl_S`aDK!8&lt;0KxMC
zEMh4EApOuFg8Kj&lt;fKW0Ts3ZhMD!G80n;V`NU;rS1SfDol1X{ulQUJ0HR4S4RI5;&gt;M
zI5{~PUcP(@;=)}C5I`Uc{s1jFyL0DGD;F0R23}rXvVHLB(&lt;cUC&amp;G;LbXbytX4oD0j
zfIwlzEh8hNVQg%?5tu}!fDul1kqQjr-$0*SSigRK1d#g_7#cqT0*Db&gt;F$e&amp;$6c7tS
zeMOEXpojz|$2UOy9EiUFE%*lzK#WL1#R;lD(Q`M6;14wXf52K5009O7Gh2ejfzj5Q
P00000NkvXXu0mjfLdQsv</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1">new file mode 100644</span>
<a href="#l21.2"></a><span id="l21.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..673ead568d21bf9fb2d3ff1d729d8326541740e6</span>
<a href="#l21.3"></a><span id="l21.3">GIT binary patch
literal 1329
zc$@(-1&lt;v}3P)&lt;h;3K|Lk000e1NJLTq000;O000*V1^@s65h0H)00004XF*Lt007q5
z)K6G40000PbVXQnQ*UN;cVTj606}DLVr3vnZDD6+Qe|Oed2z{QJOBU$!%0LzRCwBA
zWB&gt;w}q%Qvd{}~Q`d;d)L|NnnX3`l^H0YCVU#AasU_{k+CyLtEQ+;AZG-+!Q?009Kj
z&amp;+L-izfW6N*UrPqih-St1;b!QMu&lt;U-$Oit$wCK&amp;dPYhdj9{lt8;k{Y=7nJ4#E%*lz
zKp@jNzJGjf&gt;FJWq@E2&amp;~g(rU*K7IdB&amp;&lt;DuoGXWKe@Gvo`iSskqSQ@h|yn4nPC|m@@
zKLG*=WC8o1-#=K{SQ!~ELJenx&gt;SBc2zz88woc|vt075|g&gt;hnJakmp4Nxf%Zc`^^KC
zWCK|M5I~^tW&amp;x@C3uJu!4l&lt;YtVmL5d7@2_&gt;&lt;UD4GFe8WtV@5C=EDywBF97k2&amp;;J=%
z5HZLMA^-vi9^hbC0!;xM05lw|jtLP=|DihmqX*qTARDCaKO@+YXi&gt;ue5I{^Y#Y{jK
zFad*!3F&lt;0F79bmJArk{L5VHdDsjYK&gt;V*kN&gt;7G{VXNIgssGt|e7NcIB+5ZHqMjQ_zx
zOi)EEFbwn`D-eU|XLrvsTspX#;nwNx3@ogmBncD;dWi+-C}tLjKCnfMs0jlgfS^A3
z4-Ru?CPsvdKt5oBuz!4i&amp;#-q%CpZ9(Z&lt;xvO`Q1|nW~jknHB3++FhVR~U_{sf5I{_@
zQ~?S{kYbP~7B;A&gt;Kp1Gy{-r$(-#@&lt;tYySP~JHy_^oj?~ueEjFne}&gt;&lt;{Wc2L^Fa`en
z%kcB}KZYN_e*J@401!ZsNdEs1oJv4J0iv0iAaMeU)N^}RF+99_3heKH|3LUZ!^4|b
z8MZE&amp;%b?&gt;F4NQ^{aZn!m3k&gt;P++&lt;zE;e)|cJYk&amp;ZP_y8DjU@x*lFvusYz;M2M&lt;rKr-
zWz)f~`t|ES*tP$lZo9UBDZ|S&lt;rx@5+nZTHZl^GacOyFQfjs$=JVu1w_NF3w?kp6Gq
z|1o_1{)gex@gode0utcV!ibiO{{d}!aqAR=ysjm~A87jg_ZONPk&gt;UU#fLP#(8R(Y}
zpZ+p@{rVT27l008unErvhdVPPYJPy(0tyn4j~IcekQo$AumsA8$PEAi1h(MMpMMNr
zzJOf)4;VC%BnpoUXdYoiE@S_JiU**tftd?fWP+3EZ;;pj{)c61H~&lt;JBumwMV`~zFe
z#sW=lOwcqAD;^jjerAMv;UCb2pi-R~RK)yc1V=Q(9|mwH1EsA0NI?V;K+vM%AJ`yJ
z1hath11N)md;lwhKnht9&amp;ieZw;){R(pg#KpDK1z+A&lt;g(7oUdR2Ab?n4VG9ZtQEn!N
zkAEPBvqB9AS;C0sZDvr=Fhe8tA4ESWqQyXE=x;`pq6#2@z!tEua{K{$lSNgCk&gt;UPl
zU|RkIF&amp;N|%CP*0wDsmB#4CMa&gt;s`&lt;+VF&amp;OA^20=~+21R~g^1b;P=v&amp;sGFbe&lt;z2&amp;C^1
zJGaD@4coUH1bMqL=!mdDTn;rD+4Ug$|9?bE`uh*U2WLPa{qpSxhC|0r{$XY1Iu4Qs
zsR0NekXCL%Nfk{=HIr&gt;WK0g=v`}+qYxWIy?I7r#TfR&gt;0Lw)}@vV2ju|`Tue9NL|0U
zcYz;J=qWIz{R9XgMrbiF0K`&amp;2EXaTe4N?Kf9#GJ{0pjOC`~_4e0|XEwQc!V%s!s+~
n$C3(wF~jf!iovZ4fB*vk{nvi;!|I_m00000NkvXXu0mjfixE5#</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1">new file mode 100644</span>
<a href="#l22.2"></a><span id="l22.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..76553571d9744faf08b3ca6548eb1ee429fa9cc8</span>
<a href="#l22.3"></a><span id="l22.3">GIT binary patch
literal 818
zc$@(;1I_%2P)&lt;h;3K|Lk000e1NJLTq000;O000*V1^@s65h0H)00004XF*Lt007q5
z)K6G40000PbVXQnQ*UN;cVTj606}DLVr3vnZDD6+Qe|Oed2z{QJOBU!#7RU!RCwBA
zWB`Jmo*n@{KE5Mw-n`NL_wOGQ1DSx0jqR7HsOYxD#Kd4A_uv2j{}})R2qextXU?3X
z$B!TX|NHmv|CE5wpFjWKzJ2?jsZ*!U0Gi7LvH&amp;1}Sbz+Uw{PE?nwy)0UGe?&lt;cLtzE
zB)guSot=S)hljzyz&lt;~Mk&lt;;&amp;hcAyy#%2@pUa3)p}C`o+q~$Vj%~An^0&amp;PX&gt;?~TwGiX
zK=ZgjAqEl#2q2IJEHFiX{`&gt;(eA{PJ+2I~jLBRJ?m1V8|R4TlOaz#@fQfTSPJ00&lt;x^
zWC@V%`0%`W^T3Y5rv?Q6{{0KL6d-_@h;{k-^XD1XuV2rwYu7GPe8K&lt;_KqwY4F)?Aq
zA3uI%=&lt;V$VtD8G_F2nQZ&amp;vB{+sX?{?Ab^MpqW=DVhWGE^!;&gt;+{GMGM4ssrI~-@bt{
zRLvil1pooWgdEA(z}mHI8BU)*4K@s&lt;4ivt?bj~ns+BAk&amp;uU;{{d-o2Eftd`9L2ABy
z`2tVt00D$z0kW$&gt;-aU2d6vK=eGr%qcC1H@^AhjUN)~#Cyju-SGf&amp;zG22M8b*WY@yd
zFeuZ2g5tn|0}Q~j1z95;fYe&gt;MaDl&lt;p)RY0;3}gThKrG0~&gt;g(69V1r&gt;GB_)Ndynr0Z
z009KI03--&lt;IX2glVF}zD00G1TD@S0-l-d9wfLLJOf&lt;-JP04X29eE&lt;+ZEXer)R1*I9
z@q=s&amp;xVgFEc&gt;x9h0*D1_^G~29&gt;&gt;vdo%Rr?fseprngMpKili}sdmmn_Ol&gt;h+*vfvNU
zg0nk!?zD1oabe))&lt;t5t(pFVwJ0M?AZfr;iIDD8m600IaUR@^c&amp;G8)Fl#v6f2R0&lt;g3
zWLF5lApQ;X$pv7c7y;xy1%}2?fB&lt;5IRty3_ECs}ZP+yT_2`C~#$?**kKL_G3Knwl&gt;
w1P~)qP;r8)PgwCmCinvl{~xec1weoS0A&gt;@TalLnur2qf`07*qoM6N&lt;$f)Wy5t^fc4</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1">new file mode 100644</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineminus">--- /dev/null</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineplus">+++ b/mail/themes/pinstripe/sanitizeDialog.css</span>
<a href="#l23.4"></a><span id="l23.4" class="difflineat">@@ -0,0 +1,104 @@</span>
<a href="#l23.5"></a><span id="l23.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.6"></a><span id="l23.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.7"></a><span id="l23.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l23.8"></a><span id="l23.8" class="difflineplus">+</span>
<a href="#l23.9"></a><span id="l23.9" class="difflineplus">+/* Align the duration label with the warning box and item list */</span>
<a href="#l23.10"></a><span id="l23.10" class="difflineplus">+#sanitizeDurationLabel {</span>
<a href="#l23.11"></a><span id="l23.11" class="difflineplus">+  -moz-margin-start: 1px;</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineplus">+}</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineplus">+</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineplus">+/* Hide the duration dropdown suffix label if it's empty.  Otherwise it</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineplus">+   takes up a little space, causing the end of the dropdown to not be aligned</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineplus">+   with the warning box. */</span>
<a href="#l23.18"></a><span id="l23.18" class="difflineplus">+#sanitizeDurationSuffixLabel[value=&quot;&quot;] {</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineplus">+  display: none;</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineplus">+}</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineplus">+</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineplus">+</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineplus">+/* Places tree */</span>
<a href="#l23.24"></a><span id="l23.24" class="difflineplus">+#placesTreechildren::-moz-tree-row(selected),</span>
<a href="#l23.25"></a><span id="l23.25" class="difflineplus">+#placesTreechildren::-moz-tree-row(grippyRow) {</span>
<a href="#l23.26"></a><span id="l23.26" class="difflineplus">+  background: #999;</span>
<a href="#l23.27"></a><span id="l23.27" class="difflineplus">+}</span>
<a href="#l23.28"></a><span id="l23.28" class="difflineplus">+</span>
<a href="#l23.29"></a><span id="l23.29" class="difflineplus">+#placesTreechildren::-moz-tree-cell-text(selected) {</span>
<a href="#l23.30"></a><span id="l23.30" class="difflineplus">+  color: #111;</span>
<a href="#l23.31"></a><span id="l23.31" class="difflineplus">+}</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineplus">+</span>
<a href="#l23.33"></a><span id="l23.33" class="difflineplus">+</span>
<a href="#l23.34"></a><span id="l23.34" class="difflineplus">+/* Sanitize everything warning box */</span>
<a href="#l23.35"></a><span id="l23.35" class="difflineplus">+#sanitizeEverythingWarningBox {</span>
<a href="#l23.36"></a><span id="l23.36" class="difflineplus">+  background-color: Window;</span>
<a href="#l23.37"></a><span id="l23.37" class="difflineplus">+  border: 1px solid ThreeDDarkShadow;</span>
<a href="#l23.38"></a><span id="l23.38" class="difflineplus">+  border-radius: 5px;</span>
<a href="#l23.39"></a><span id="l23.39" class="difflineplus">+  padding: 16px;</span>
<a href="#l23.40"></a><span id="l23.40" class="difflineplus">+}</span>
<a href="#l23.41"></a><span id="l23.41" class="difflineplus">+</span>
<a href="#l23.42"></a><span id="l23.42" class="difflineplus">+#sanitizeEverythingWarningIcon {</span>
<a href="#l23.43"></a><span id="l23.43" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/icons/warning-large.png&quot;);</span>
<a href="#l23.44"></a><span id="l23.44" class="difflineplus">+  padding: 0;</span>
<a href="#l23.45"></a><span id="l23.45" class="difflineplus">+  margin: 0;</span>
<a href="#l23.46"></a><span id="l23.46" class="difflineplus">+}</span>
<a href="#l23.47"></a><span id="l23.47" class="difflineplus">+</span>
<a href="#l23.48"></a><span id="l23.48" class="difflineplus">+#sanitizeEverythingWarningDescBox {</span>
<a href="#l23.49"></a><span id="l23.49" class="difflineplus">+  padding: 0 16px;</span>
<a href="#l23.50"></a><span id="l23.50" class="difflineplus">+  margin: 0;</span>
<a href="#l23.51"></a><span id="l23.51" class="difflineplus">+}</span>
<a href="#l23.52"></a><span id="l23.52" class="difflineplus">+</span>
<a href="#l23.53"></a><span id="l23.53" class="difflineplus">+</span>
<a href="#l23.54"></a><span id="l23.54" class="difflineplus">+/* Progressive disclosure button */</span>
<a href="#l23.55"></a><span id="l23.55" class="difflineplus">+#detailsExpanderWrapper {</span>
<a href="#l23.56"></a><span id="l23.56" class="difflineplus">+  padding: 0;</span>
<a href="#l23.57"></a><span id="l23.57" class="difflineplus">+  margin-top: 6px;</span>
<a href="#l23.58"></a><span id="l23.58" class="difflineplus">+  margin-bottom: 6px;</span>
<a href="#l23.59"></a><span id="l23.59" class="difflineplus">+  -moz-margin-start: -2px;</span>
<a href="#l23.60"></a><span id="l23.60" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l23.61"></a><span id="l23.61" class="difflineplus">+}</span>
<a href="#l23.62"></a><span id="l23.62" class="difflineplus">+</span>
<a href="#l23.63"></a><span id="l23.63" class="difflineplus">+.expander-up,</span>
<a href="#l23.64"></a><span id="l23.64" class="difflineplus">+.expander-down {</span>
<a href="#l23.65"></a><span id="l23.65" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l23.66"></a><span id="l23.66" class="difflineplus">+  min-width: 0;</span>
<a href="#l23.67"></a><span id="l23.67" class="difflineplus">+  padding: 0;</span>
<a href="#l23.68"></a><span id="l23.68" class="difflineplus">+  margin: 0;</span>
<a href="#l23.69"></a><span id="l23.69" class="difflineplus">+}</span>
<a href="#l23.70"></a><span id="l23.70" class="difflineplus">+</span>
<a href="#l23.71"></a><span id="l23.71" class="difflineplus">+.expander-up {</span>
<a href="#l23.72"></a><span id="l23.72" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/places/expander-open.png&quot;);</span>
<a href="#l23.73"></a><span id="l23.73" class="difflineplus">+}</span>
<a href="#l23.74"></a><span id="l23.74" class="difflineplus">+</span>
<a href="#l23.75"></a><span id="l23.75" class="difflineplus">+.expander-up:hover:active {</span>
<a href="#l23.76"></a><span id="l23.76" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/places/expander-open-active.png&quot;);</span>
<a href="#l23.77"></a><span id="l23.77" class="difflineplus">+}</span>
<a href="#l23.78"></a><span id="l23.78" class="difflineplus">+</span>
<a href="#l23.79"></a><span id="l23.79" class="difflineplus">+.expander-down {</span>
<a href="#l23.80"></a><span id="l23.80" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/places/expander-closed.png&quot;);</span>
<a href="#l23.81"></a><span id="l23.81" class="difflineplus">+}</span>
<a href="#l23.82"></a><span id="l23.82" class="difflineplus">+</span>
<a href="#l23.83"></a><span id="l23.83" class="difflineplus">+.expander-down:hover:active {</span>
<a href="#l23.84"></a><span id="l23.84" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/places/expander-closed-active.png&quot;);</span>
<a href="#l23.85"></a><span id="l23.85" class="difflineplus">+}</span>
<a href="#l23.86"></a><span id="l23.86" class="difflineplus">+</span>
<a href="#l23.87"></a><span id="l23.87" class="difflineplus">+</span>
<a href="#l23.88"></a><span id="l23.88" class="difflineplus">+/* Make the item list the same width as the warning box */</span>
<a href="#l23.89"></a><span id="l23.89" class="difflineplus">+#itemList {</span>
<a href="#l23.90"></a><span id="l23.90" class="difflineplus">+  -moz-margin-start: 0;</span>
<a href="#l23.91"></a><span id="l23.91" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l23.92"></a><span id="l23.92" class="difflineplus">+}</span>
<a href="#l23.93"></a><span id="l23.93" class="difflineplus">+</span>
<a href="#l23.94"></a><span id="l23.94" class="difflineplus">+/* Without this a useless scrollbar appears in the listbox when its rows</span>
<a href="#l23.95"></a><span id="l23.95" class="difflineplus">+   attribute is set to the total number of listitems, as it is currently.  See</span>
<a href="#l23.96"></a><span id="l23.96" class="difflineplus">+   bug 489958 comment 14 and bug 491788. */</span>
<a href="#l23.97"></a><span id="l23.97" class="difflineplus">+#itemList &gt; listitem {</span>
<a href="#l23.98"></a><span id="l23.98" class="difflineplus">+  padding: 1px 0;</span>
<a href="#l23.99"></a><span id="l23.99" class="difflineplus">+}</span>
<a href="#l23.100"></a><span id="l23.100" class="difflineplus">+</span>
<a href="#l23.101"></a><span id="l23.101" class="difflineplus">+</span>
<a href="#l23.102"></a><span id="l23.102" class="difflineplus">+/* Align the last dialog button with the end of the warning box */</span>
<a href="#l23.103"></a><span id="l23.103" class="difflineplus">+.prefWindow-dlgbuttons {</span>
<a href="#l23.104"></a><span id="l23.104" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l23.105"></a><span id="l23.105" class="difflineplus">+}</span>
<a href="#l23.106"></a><span id="l23.106" class="difflineplus">+.dialog-button[dlgtype=&quot;accept&quot;] {</span>
<a href="#l23.107"></a><span id="l23.107" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l23.108"></a><span id="l23.108" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mail/themes/qute/jar.mn</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mail/themes/qute/jar.mn</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -267,16 +267,17 @@ classic.jar:</span>
<a href="#l24.4"></a><span id="l24.4">   skin/classic/messenger/newmailaccount/accountProvisioner.css          (mail/newmailaccount/accountProvisioner.css)</span>
<a href="#l24.5"></a><span id="l24.5">   skin/classic/messenger/newmailaccount/search.gif                      (mail/newmailaccount/search.gif)</span>
<a href="#l24.6"></a><span id="l24.6">   skin/classic/messenger/newmailaccount/spinner.gif                     (mail/newmailaccount/spinner.gif)</span>
<a href="#l24.7"></a><span id="l24.7">   skin/classic/messenger/newmailaccount/success-addons.png              (mail/newmailaccount/success-addons.png)</span>
<a href="#l24.8"></a><span id="l24.8">   skin/classic/messenger/newmailaccount/success-border.png              (mail/newmailaccount/success-border.png)</span>
<a href="#l24.9"></a><span id="l24.9">   skin/classic/messenger/newmailaccount/success-compose.png             (mail/newmailaccount/success-compose.png)</span>
<a href="#l24.10"></a><span id="l24.10">   skin/classic/messenger/newmailaccount/success-signature.png           (mail/newmailaccount/success-signature.png)</span>
<a href="#l24.11"></a><span id="l24.11">   skin/classic/messenger/newmailaccount/search.png                      (mail/newmailaccount/search.png)</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineplus">+  skin/classic/messenger/sanitizeDialog.css					  (sanitizeDialog.css)</span>
<a href="#l24.13"></a><span id="l24.13">  skin/classic/messenger/icons/ubuntuone.png                    (mail/icons/ubuntuone.png)</span>
<a href="#l24.14"></a><span id="l24.14">  skin/classic/messenger/icons/yousendit.png                  (mail/icons/yousendit.png)</span>
<a href="#l24.15"></a><span id="l24.15">   skin/classic/messenger/icons/box-logo.png                  (mail/icons/box-logo.png)</span>
<a href="#l24.16"></a><span id="l24.16"> #ifdef XP_WIN</span>
<a href="#l24.17"></a><span id="l24.17"> % skin communicator classic/1.0 %skin/classic/aero/communicator/ os=WINNT osversion&gt;=6</span>
<a href="#l24.18"></a><span id="l24.18">   skin/classic/aero/communicator/communicator.css                       (mail/communicator.css)</span>
<a href="#l24.19"></a><span id="l24.19">   skin/classic/aero/communicator/smileys.css                            (mail/smileys.css)</span>
<a href="#l24.20"></a><span id="l24.20">   skin/classic/aero/communicator/icons/smileys/smiley-smile.png         (mail/icons/smiley-smile-aero.png)</span>
<a href="#l24.21"></a><span id="l24.21" class="difflineat">@@ -528,10 +529,11 @@ classic.jar:</span>
<a href="#l24.22"></a><span id="l24.22">   skin/classic/aero/messenger/newmailaccount/spinner.gif                     (mail/newmailaccount/spinner.gif)</span>
<a href="#l24.23"></a><span id="l24.23">   skin/classic/aero/messenger/newmailaccount/success-addons.png              (mail/newmailaccount/success-addons.png)</span>
<a href="#l24.24"></a><span id="l24.24">   skin/classic/aero/messenger/newmailaccount/success-border.png              (mail/newmailaccount/success-border.png)</span>
<a href="#l24.25"></a><span id="l24.25">   skin/classic/aero/messenger/newmailaccount/success-compose.png             (mail/newmailaccount/success-compose.png)</span>
<a href="#l24.26"></a><span id="l24.26">   skin/classic/aero/messenger/newmailaccount/success-signature.png           (mail/newmailaccount/success-signature.png)</span>
<a href="#l24.27"></a><span id="l24.27">   skin/classic/aero/messenger/newmailaccount/search.png                      (mail/newmailaccount/search.png)</span>
<a href="#l24.28"></a><span id="l24.28">   skin/classic/aero/messenger/icons/ubuntuone.png                    (mail/icons/ubuntuone.png)</span>
<a href="#l24.29"></a><span id="l24.29">   skin/classic/aero/messenger/icons/yousendit.png                  (mail/icons/yousendit.png)</span>
<a href="#l24.30"></a><span id="l24.30" class="difflineplus">+  skin/classic/aero/messenger/sanitizeDialog.css						 (sanitizeDialog.css)</span>
<a href="#l24.31"></a><span id="l24.31">   skin/classic/aero/messenger/icons/box-logo.png                   (mail/icons/box-logo.png)</span>
<a href="#l24.32"></a><span id="l24.32"> #endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1">new file mode 100644</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineminus">--- /dev/null</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineplus">+++ b/mail/themes/qute/sanitizeDialog.css</span>
<a href="#l25.4"></a><span id="l25.4" class="difflineat">@@ -0,0 +1,93 @@</span>
<a href="#l25.5"></a><span id="l25.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l25.6"></a><span id="l25.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l25.7"></a><span id="l25.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l25.8"></a><span id="l25.8" class="difflineplus">+</span>
<a href="#l25.9"></a><span id="l25.9" class="difflineplus">+#sanitizeDurationChoice {</span>
<a href="#l25.10"></a><span id="l25.10" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l25.11"></a><span id="l25.11" class="difflineplus">+}</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineplus">+</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+/* Align the duration label with the warning box and item list */</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineplus">+#sanitizeDurationLabel {</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineplus">+  -moz-margin-start: 3px;</span>
<a href="#l25.16"></a><span id="l25.16" class="difflineplus">+}</span>
<a href="#l25.17"></a><span id="l25.17" class="difflineplus">+</span>
<a href="#l25.18"></a><span id="l25.18" class="difflineplus">+</span>
<a href="#l25.19"></a><span id="l25.19" class="difflineplus">+/* Hide the duration dropdown suffix label if it's empty.  Otherwise it</span>
<a href="#l25.20"></a><span id="l25.20" class="difflineplus">+   takes up a little space, causing the end of the dropdown to not be aligned</span>
<a href="#l25.21"></a><span id="l25.21" class="difflineplus">+   with the warning box. */</span>
<a href="#l25.22"></a><span id="l25.22" class="difflineplus">+#sanitizeDurationSuffixLabel[value=&quot;&quot;] {</span>
<a href="#l25.23"></a><span id="l25.23" class="difflineplus">+  display: none;</span>
<a href="#l25.24"></a><span id="l25.24" class="difflineplus">+}</span>
<a href="#l25.25"></a><span id="l25.25" class="difflineplus">+</span>
<a href="#l25.26"></a><span id="l25.26" class="difflineplus">+</span>
<a href="#l25.27"></a><span id="l25.27" class="difflineplus">+/* Places tree */</span>
<a href="#l25.28"></a><span id="l25.28" class="difflineplus">+#placesTreechildren::-moz-tree-row(selected),</span>
<a href="#l25.29"></a><span id="l25.29" class="difflineplus">+#placesTreechildren::-moz-tree-row(grippyRow) {</span>
<a href="#l25.30"></a><span id="l25.30" class="difflineplus">+  background: #999;</span>
<a href="#l25.31"></a><span id="l25.31" class="difflineplus">+}</span>
<a href="#l25.32"></a><span id="l25.32" class="difflineplus">+</span>
<a href="#l25.33"></a><span id="l25.33" class="difflineplus">+#placesTreechildren::-moz-tree-cell-text(selected) {</span>
<a href="#l25.34"></a><span id="l25.34" class="difflineplus">+  color: #111;</span>
<a href="#l25.35"></a><span id="l25.35" class="difflineplus">+}</span>
<a href="#l25.36"></a><span id="l25.36" class="difflineplus">+</span>
<a href="#l25.37"></a><span id="l25.37" class="difflineplus">+</span>
<a href="#l25.38"></a><span id="l25.38" class="difflineplus">+/* Sanitize everything warning box */</span>
<a href="#l25.39"></a><span id="l25.39" class="difflineplus">+#sanitizeEverythingWarningBox {</span>
<a href="#l25.40"></a><span id="l25.40" class="difflineplus">+  background-color: Window;</span>
<a href="#l25.41"></a><span id="l25.41" class="difflineplus">+  border: 1px solid ThreeDDarkShadow;</span>
<a href="#l25.42"></a><span id="l25.42" class="difflineplus">+  border-radius: 5px;</span>
<a href="#l25.43"></a><span id="l25.43" class="difflineplus">+  padding: 16px;</span>
<a href="#l25.44"></a><span id="l25.44" class="difflineplus">+}</span>
<a href="#l25.45"></a><span id="l25.45" class="difflineplus">+</span>
<a href="#l25.46"></a><span id="l25.46" class="difflineplus">+#sanitizeEverythingWarningIcon {</span>
<a href="#l25.47"></a><span id="l25.47" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/icons/warning-large.png&quot;);</span>
<a href="#l25.48"></a><span id="l25.48" class="difflineplus">+  padding: 0;</span>
<a href="#l25.49"></a><span id="l25.49" class="difflineplus">+  margin: 0;</span>
<a href="#l25.50"></a><span id="l25.50" class="difflineplus">+}</span>
<a href="#l25.51"></a><span id="l25.51" class="difflineplus">+</span>
<a href="#l25.52"></a><span id="l25.52" class="difflineplus">+#sanitizeEverythingWarningDescBox {</span>
<a href="#l25.53"></a><span id="l25.53" class="difflineplus">+  padding: 0 16px;</span>
<a href="#l25.54"></a><span id="l25.54" class="difflineplus">+  margin: 0;</span>
<a href="#l25.55"></a><span id="l25.55" class="difflineplus">+}</span>
<a href="#l25.56"></a><span id="l25.56" class="difflineplus">+</span>
<a href="#l25.57"></a><span id="l25.57" class="difflineplus">+</span>
<a href="#l25.58"></a><span id="l25.58" class="difflineplus">+/* Progressive disclosure button */</span>
<a href="#l25.59"></a><span id="l25.59" class="difflineplus">+#detailsExpanderWrapper {</span>
<a href="#l25.60"></a><span id="l25.60" class="difflineplus">+  padding: 0;</span>
<a href="#l25.61"></a><span id="l25.61" class="difflineplus">+  margin: 6px 0;</span>
<a href="#l25.62"></a><span id="l25.62" class="difflineplus">+}</span>
<a href="#l25.63"></a><span id="l25.63" class="difflineplus">+</span>
<a href="#l25.64"></a><span id="l25.64" class="difflineplus">+.expander-up,</span>
<a href="#l25.65"></a><span id="l25.65" class="difflineplus">+.expander-down {</span>
<a href="#l25.66"></a><span id="l25.66" class="difflineplus">+  min-width: 0;</span>
<a href="#l25.67"></a><span id="l25.67" class="difflineplus">+  margin: 0;</span>
<a href="#l25.68"></a><span id="l25.68" class="difflineplus">+}</span>
<a href="#l25.69"></a><span id="l25.69" class="difflineplus">+</span>
<a href="#l25.70"></a><span id="l25.70" class="difflineplus">+.expander-up &gt; .button-box,</span>
<a href="#l25.71"></a><span id="l25.71" class="difflineplus">+.expander-down &gt; .button-box {</span>
<a href="#l25.72"></a><span id="l25.72" class="difflineplus">+  padding: 0;</span>
<a href="#l25.73"></a><span id="l25.73" class="difflineplus">+}</span>
<a href="#l25.74"></a><span id="l25.74" class="difflineplus">+</span>
<a href="#l25.75"></a><span id="l25.75" class="difflineplus">+.expander-up {</span>
<a href="#l25.76"></a><span id="l25.76" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/icons/collapse.png&quot;);</span>
<a href="#l25.77"></a><span id="l25.77" class="difflineplus">+}</span>
<a href="#l25.78"></a><span id="l25.78" class="difflineplus">+</span>
<a href="#l25.79"></a><span id="l25.79" class="difflineplus">+.expander-down {</span>
<a href="#l25.80"></a><span id="l25.80" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/icons/expand.png&quot;);</span>
<a href="#l25.81"></a><span id="l25.81" class="difflineplus">+}</span>
<a href="#l25.82"></a><span id="l25.82" class="difflineplus">+</span>
<a href="#l25.83"></a><span id="l25.83" class="difflineplus">+</span>
<a href="#l25.84"></a><span id="l25.84" class="difflineplus">+/* Make the item list the same width as the warning box */</span>
<a href="#l25.85"></a><span id="l25.85" class="difflineplus">+#itemList {</span>
<a href="#l25.86"></a><span id="l25.86" class="difflineplus">+  -moz-margin-start: 0;</span>
<a href="#l25.87"></a><span id="l25.87" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l25.88"></a><span id="l25.88" class="difflineplus">+}</span>
<a href="#l25.89"></a><span id="l25.89" class="difflineplus">+</span>
<a href="#l25.90"></a><span id="l25.90" class="difflineplus">+</span>
<a href="#l25.91"></a><span id="l25.91" class="difflineplus">+/* Align the last dialog button with the end of the warning box */</span>
<a href="#l25.92"></a><span id="l25.92" class="difflineplus">+.prefWindow-dlgbuttons {</span>
<a href="#l25.93"></a><span id="l25.93" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l25.94"></a><span id="l25.94" class="difflineplus">+}</span>
<a href="#l25.95"></a><span id="l25.95" class="difflineplus">+.dialog-button[dlgtype=&quot;cancel&quot;] {</span>
<a href="#l25.96"></a><span id="l25.96" class="difflineplus">+  -moz-margin-end: 0;</span>
<a href="#l25.97"></a><span id="l25.97" class="difflineplus">+}</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

