<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 2:c087100cf4cf306023db268640ada54ebb0d4e82</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ c087100cf4cf306023db268640ada54ebb0d4e82" />
<meta property="og:url" content="/comm-central/rev/c087100cf4cf306023db268640ada54ebb0d4e82" />
<meta property="og:description" content="bug 444686 - create/adapt build system for comm-central, mailnews changes, r=Standard8 r=Callek" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / c087100cf4cf306023db268640ada54ebb0d4e82 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/c087100cf4cf306023db268640ada54ebb0d4e82">shortlog</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/c087100cf4cf306023db268640ada54ebb0d4e82">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82">files</a> |
changeset |
<a href="/comm-central/raw-rev/c087100cf4cf306023db268640ada54ebb0d4e82">raw</a>  | <a href="/comm-central/archive/c087100cf4cf306023db268640ada54ebb0d4e82.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=444686">bug 444686</a> - create/adapt build system for comm-central, mailnews changes, r=Standard8 r=Callek
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#111;&#98;&#101;&#114;&#116;&#32;&#75;&#97;&#105;&#115;&#101;&#114;&#32;&#60;&#107;&#97;&#105;&#114;&#111;&#64;&#107;&#97;&#105;&#114;&#111;&#46;&#97;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 22 Jul 2008 14:28:40 +0200</td></tr>

<tr>
 <td>changeset 2</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/c087100cf4cf306023db268640ada54ebb0d4e82">c087100cf4cf306023db268640ada54ebb0d4e82</a></td>
</tr>



<tr>
<td>parent 1</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/66c9c3ea3cbed9214b524d4631cf7bc900e34b8b">66c9c3ea3cbed9214b524d4631cf7bc900e34b8b</a>
</td>
</tr>

<tr>
<td>child 3</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/451a80b01ba21724df0abd0171b43a82ca81befc">451a80b01ba21724df0abd0171b43a82ca81befc</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=c087100cf4cf306023db268640ada54ebb0d4e82">2</a></td></tr>
<tr><td>push user</td><td>kairo@kairo.at</td></tr>
<tr><td>push date</td><td class="date age">Tue, 22 Jul 2008 12:32:18 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@201855946b54 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=201855946b54aa8dd10e5a289b12c622f44d372d">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=201855946b54aa8dd10e5a289b12c622f44d372d&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=201855946b54aa8dd10e5a289b12c622f44d372d&newProject=comm-central&newRevision=66c9c3ea3cbed9214b524d4631cf7bc900e34b8b&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=201855946b54aa8dd10e5a289b12c622f44d372d&newProject=comm-central&newRevision=66c9c3ea3cbed9214b524d4631cf7bc900e34b8b&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=201855946b54aa8dd10e5a289b12c622f44d372d&newProject=comm-central&newRevision=66c9c3ea3cbed9214b524d4631cf7bc900e34b8b&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Standard8%29&revcount=50">Standard8</a>, <a href="/comm-central/log?rev=reviewer%28Callek%29&revcount=50">Callek</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=444686">444686</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=444686">bug 444686</a> - create/adapt build system for comm-central, mailnews changes, r=Standard8 r=Callek</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/directory/makefiles.sh">directory/makefiles.sh</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/directory/makefiles.sh">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/directory/makefiles.sh">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/directory/makefiles.sh">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/directory/makefiles.sh">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/directory/makefiles.sh">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/build/Makefile.in">mailnews/addrbook/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/head_addrbook.js">mailnews/addrbook/test/unit/head_addrbook.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/head_addrbook.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/head_addrbook.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/head_addrbook.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/head_addrbook.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/head_addrbook.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_cardForEmail.js">mailnews/addrbook/test/unit/test_cardForEmail.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_cardForEmail.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_cardForEmail.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_cardForEmail.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_cardForEmail.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_cardForEmail.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_mailList1.js">mailnews/addrbook/test/unit/test_mailList1.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_mailList1.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_mailList1.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_mailList1.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_mailList1.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_mailList1.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsIAbCard.js">mailnews/addrbook/test/unit/test_nsIAbCard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsIAbCard.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsIAbCard.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsIAbCard.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsIAbCard.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/addrbook/test/unit/test_nsIAbCard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/build/Makefile.in">mailnews/base/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/head_mailbase.js">mailnews/base/test/unit/head_mailbase.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/head_mailbase.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/head_mailbase.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/head_mailbase.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/head_mailbase.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/head_mailbase.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug366491.js">mailnews/base/test/unit/test_bug366491.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug366491.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug366491.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug366491.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug366491.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug366491.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug428427.js">mailnews/base/test/unit/test_bug428427.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug428427.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug428427.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug428427.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug428427.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_bug428427.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchAddressInAb.js">mailnews/base/test/unit/test_searchAddressInAb.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchAddressInAb.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchAddressInAb.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchAddressInAb.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchAddressInAb.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchAddressInAb.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchJunk.js">mailnews/base/test/unit/test_searchJunk.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchJunk.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchJunk.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchJunk.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchJunk.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchJunk.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchTag.js">mailnews/base/test/unit/test_searchTag.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchTag.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchTag.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchTag.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchTag.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/test/unit/test_searchTag.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/util/Makefile.in">mailnews/base/util/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/util/Makefile.in">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/util/Makefile.in">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/util/Makefile.in">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/util/Makefile.in">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/base/util/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/build/Makefile.in">mailnews/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/build/Makefile.in">mailnews/compose/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/head_compose.js">mailnews/compose/test/unit/head_compose.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/head_compose.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/head_compose.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/head_compose.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/head_compose.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/head_compose.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_nsMsgCompose1.js">mailnews/compose/test/unit/test_nsMsgCompose1.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_nsMsgCompose1.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_nsMsgCompose1.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_nsMsgCompose1.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_nsMsgCompose1.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_nsMsgCompose1.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_sendMailMessage.js">mailnews/compose/test/unit/test_sendMailMessage.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_sendMailMessage.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_sendMailMessage.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_sendMailMessage.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_sendMailMessage.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/compose/test/unit/test_sendMailMessage.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/head_maildb.js">mailnews/db/msgdb/test/unit/head_maildb.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/head_maildb.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/head_maildb.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/head_maildb.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/head_maildb.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/head_maildb.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/test_maildb.js">mailnews/db/msgdb/test/unit/test_maildb.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/test_maildb.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/test_maildb.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/test_maildb.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/test_maildb.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/db/msgdb/test/unit/test_maildb.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/build/Makefile.in">mailnews/imap/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/test/Makefile.in">mailnews/imap/test/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/test/Makefile.in">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/test/Makefile.in">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/test/Makefile.in">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/test/Makefile.in">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/imap/test/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/build/Makefile.in">mailnews/import/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/head_import.js">mailnews/import/test/unit/head_import.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/head_import.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/head_import.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/head_import.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/head_import.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/head_import.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/test_bug_437556.js">mailnews/import/test/unit/test_bug_437556.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/test_bug_437556.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/test_bug_437556.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/test_bug_437556.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/test_bug_437556.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/import/test/unit/test_bug_437556.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/build/Makefile.in">mailnews/local/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/test/unit/head_maillocal.js">mailnews/local/test/unit/head_maillocal.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/test/unit/head_maillocal.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/test/unit/head_maillocal.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/test/unit/head_maillocal.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/test/unit/head_maillocal.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/local/test/unit/head_maillocal.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/build/Makefile.in">mailnews/news/build/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/build/Makefile.in">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/build/Makefile.in">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/build/Makefile.in">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/build/Makefile.in">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/build/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/head_server_setup.js">mailnews/news/test/unit/head_server_setup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/head_server_setup.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/head_server_setup.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/head_server_setup.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/head_server_setup.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/head_server_setup.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/test_server.js">mailnews/news/test/unit/test_server.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/test_server.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/test_server.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/test_server.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/test_server.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/news/test/unit/test_server.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/test/fakeserver/pop3d.js">mailnews/test/fakeserver/pop3d.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/test/fakeserver/pop3d.js">file</a> |
<a href="/comm-central/annotate/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/test/fakeserver/pop3d.js">annotate</a> |
<a href="/comm-central/diff/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/test/fakeserver/pop3d.js">diff</a> |
<a href="/comm-central/comparison/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/test/fakeserver/pop3d.js">comparison</a> |
<a href="/comm-central/log/c087100cf4cf306023db268640ada54ebb0d4e82/mailnews/test/fakeserver/pop3d.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1">new file mode 100644</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineminus">--- /dev/null</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineplus">+++ b/directory/makefiles.sh</span>
<a href="#l1.4"></a><span id="l1.4" class="difflineat">@@ -0,0 +1,44 @@</span>
<a href="#l1.5"></a><span id="l1.5" class="difflineplus">+#! /bin/sh</span>
<a href="#l1.6"></a><span id="l1.6" class="difflineplus">+# ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l1.7"></a><span id="l1.7" class="difflineplus">+# Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l1.8"></a><span id="l1.8" class="difflineplus">+#</span>
<a href="#l1.9"></a><span id="l1.9" class="difflineplus">+# The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineplus">+# 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineplus">+# the License. You may obtain a copy of the License at</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+# http://www.mozilla.org/MPL/</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+#</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+# Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+# for the specific language governing rights and limitations under the</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+# License.</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+#</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+# The Original Code is the the Mozilla build system</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+#</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+# The Initial Developer of the Original Code is</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineplus">+# Ben Turner &lt;mozilla@songbirdnest.com&gt;</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineplus">+#</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineplus">+# Portions created by the Initial Developer are Copyright (C) 2007</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineplus">+# the Initial Developer. All Rights Reserved.</span>
<a href="#l1.26"></a><span id="l1.26" class="difflineplus">+#</span>
<a href="#l1.27"></a><span id="l1.27" class="difflineplus">+# Contributor(s):</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineplus">+#</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineplus">+# Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+# either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineplus">+# the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+# in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineplus">+# of those above. If you wish to allow use of your version of this file only</span>
<a href="#l1.34"></a><span id="l1.34" class="difflineplus">+# under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l1.35"></a><span id="l1.35" class="difflineplus">+# use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineplus">+# decision by deleting the provisions above and replace them with the notice</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineplus">+# and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineplus">+# the provisions above, a recipient may use your version of this file under</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineplus">+# the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineplus">+#</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineplus">+# ***** END LICENSE BLOCK *****</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineplus">+</span>
<a href="#l1.43"></a><span id="l1.43" class="difflineplus">+add_makefiles &quot;</span>
<a href="#l1.44"></a><span id="l1.44" class="difflineplus">+directory/xpcom/Makefile</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineplus">+directory/xpcom/base/Makefile</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineplus">+directory/xpcom/base/public/Makefile</span>
<a href="#l1.47"></a><span id="l1.47" class="difflineplus">+directory/xpcom/base/src/Makefile</span>
<a href="#l1.48"></a><span id="l1.48" class="difflineplus">+&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mailnews/addrbook/build/Makefile.in</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mailnews/addrbook/build/Makefile.in</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -88,17 +88,17 @@ SHARED_LIBRARY_LIBS = \</span>
<a href="#l2.4"></a><span id="l2.4"> ifeq ($(USE_SHORT_LIBNAME),1)</span>
<a href="#l2.5"></a><span id="l2.5"> EXTRA_DSO_LIBS += msgbsutl</span>
<a href="#l2.6"></a><span id="l2.6"> else</span>
<a href="#l2.7"></a><span id="l2.7"> EXTRA_DSO_LIBS += msgbaseutil</span>
<a href="#l2.8"></a><span id="l2.8"> endif</span>
<a href="#l2.9"></a><span id="l2.9"> </span>
<a href="#l2.10"></a><span id="l2.10"> EXTRA_DSO_LDOPTS = \</span>
<a href="#l2.11"></a><span id="l2.11"> 	$(LIBS_DIR) \</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-	$(DEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+	$(MOZDEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l2.14"></a><span id="l2.14"> 	$(EXTRA_DSO_LIBS) \</span>
<a href="#l2.15"></a><span id="l2.15"> 	$(MOZ_UNICHARUTIL_LIBS) \</span>
<a href="#l2.16"></a><span id="l2.16"> 	$(MOZ_COMPONENT_LIBS) \</span>
<a href="#l2.17"></a><span id="l2.17"> 	$(NULL)</span>
<a href="#l2.18"></a><span id="l2.18"> </span>
<a href="#l2.19"></a><span id="l2.19"> ifeq ($(OS_ARCH),Darwin)</span>
<a href="#l2.20"></a><span id="l2.20"> EXTRA_DSO_LDOPTS += \</span>
<a href="#l2.21"></a><span id="l2.21">     $(TK_LIBS) \</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/head_addrbook.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/head_addrbook.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,5 +1,5 @@</span>
<a href="#l3.4"></a><span id="l3.4"> // Import the main scripts that mailnews tests need to set up and tear down</span>
<a href="#l3.5"></a><span id="l3.5" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l3.6"></a><span id="l3.6" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> // Import the required setup scripts.</span>
<a href="#l3.9"></a><span id="l3.9" class="difflineminus">-do_import_script(&quot;mailnews/addrbook/test/resources/abSetup.js&quot;);</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineplus">+do_import_script(&quot;../mailnews/addrbook/test/resources/abSetup.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_cardForEmail.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_cardForEmail.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -5,17 +5,17 @@</span>
<a href="#l4.4"></a><span id="l4.4">  * - checks correct return when no matching email address supplied</span>
<a href="#l4.5"></a><span id="l4.5">  * - checks correct return when matching email address supplied.</span>
<a href="#l4.6"></a><span id="l4.6">  *</span>
<a href="#l4.7"></a><span id="l4.7">  * Uses: cardForEmail.mab</span>
<a href="#l4.8"></a><span id="l4.8">  */</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10"> function run_test() {</span>
<a href="#l4.11"></a><span id="l4.11">   // Test setup - copy the data file into place</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-  var testAB = do_get_file(&quot;mailnews/addrbook/test/unit/data/cardForEmail.mab&quot;);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+  var testAB = do_get_file(&quot;../mailnews/addrbook/test/unit/data/cardForEmail.mab&quot;);</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15">   // Copy the file to the profile directory for a PAB</span>
<a href="#l4.16"></a><span id="l4.16">   testAB.copyTo(gProfileDir, kPABData.fileName);</span>
<a href="#l4.17"></a><span id="l4.17"> </span>
<a href="#l4.18"></a><span id="l4.18">   // Test - Get the directory</span>
<a href="#l4.19"></a><span id="l4.19">   var abManager = Components.classes[&quot;@mozilla.org/abmanager;1&quot;]</span>
<a href="#l4.20"></a><span id="l4.20">                             .getService(Components.interfaces.nsIAbManager);</span>
<a href="#l4.21"></a><span id="l4.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_mailList1.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_mailList1.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -27,17 +27,17 @@ function checkLists(childNodes, number) </span>
<a href="#l5.4"></a><span id="l5.4">   }</span>
<a href="#l5.5"></a><span id="l5.5"> </span>
<a href="#l5.6"></a><span id="l5.6">   mailListArray.forEach(function (value) { do_check_neq(value, null); });</span>
<a href="#l5.7"></a><span id="l5.7"> }</span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9"> function run_test() {</span>
<a href="#l5.10"></a><span id="l5.10">   // Create a new card</span>
<a href="#l5.11"></a><span id="l5.11">   // Test setup - copy the data file into place</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-  var testAB = do_get_file(&quot;mailnews/addrbook/test/resources/abLists1.mab&quot;);</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+  var testAB = do_get_file(&quot;../mailnews/addrbook/test/resources/abLists1.mab&quot;);</span>
<a href="#l5.14"></a><span id="l5.14"> </span>
<a href="#l5.15"></a><span id="l5.15">   // Copy the file to the profile directory for a PAB</span>
<a href="#l5.16"></a><span id="l5.16">   testAB.copyTo(gProfileDir, kPABData.fileName);</span>
<a href="#l5.17"></a><span id="l5.17"> </span>
<a href="#l5.18"></a><span id="l5.18">   // Test - Get the directory.</span>
<a href="#l5.19"></a><span id="l5.19"> </span>
<a href="#l5.20"></a><span id="l5.20">   var abManager = Components.classes[&quot;@mozilla.org/abmanager;1&quot;]</span>
<a href="#l5.21"></a><span id="l5.21">                             .getService(Components.interfaces.nsIAbManager);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch1.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -86,21 +86,21 @@ acObserver.prototype = {</span>
<a href="#l6.4"></a><span id="l6.4">   onSearchResult: function (aSearch, aResult) {</span>
<a href="#l6.5"></a><span id="l6.5">     this._search = aSearch;</span>
<a href="#l6.6"></a><span id="l6.6">     this._result = aResult;</span>
<a href="#l6.7"></a><span id="l6.7">   }</span>
<a href="#l6.8"></a><span id="l6.8"> };</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10"> function run_test() {</span>
<a href="#l6.11"></a><span id="l6.11">   // Copy the data files into place</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-  var testAB = do_get_file(&quot;mailnews/addrbook/test/unit/data/autocomplete.mab&quot;);</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+  var testAB = do_get_file(&quot;../mailnews/addrbook/test/unit/data/autocomplete.mab&quot;);</span>
<a href="#l6.14"></a><span id="l6.14"> </span>
<a href="#l6.15"></a><span id="l6.15">   testAB.copyTo(gProfileDir, kPABData.fileName);</span>
<a href="#l6.16"></a><span id="l6.16"> </span>
<a href="#l6.17"></a><span id="l6.17" class="difflineminus">-  testAB = do_get_file(&quot;mailnews/addrbook/test/unit/data/cardForEmail.mab&quot;);</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+  testAB = do_get_file(&quot;../mailnews/addrbook/test/unit/data/cardForEmail.mab&quot;);</span>
<a href="#l6.19"></a><span id="l6.19"> </span>
<a href="#l6.20"></a><span id="l6.20">   testAB.copyTo(gProfileDir, kCABData.fileName);</span>
<a href="#l6.21"></a><span id="l6.21"> </span>
<a href="#l6.22"></a><span id="l6.22">   // Test - Create a new search component</span>
<a href="#l6.23"></a><span id="l6.23"> </span>
<a href="#l6.24"></a><span id="l6.24">   var acs = Components.classes[&quot;@mozilla.org/autocomplete/search;1?name=addrbook&quot;]</span>
<a href="#l6.25"></a><span id="l6.25">     .getService(Components.interfaces.nsIAutoCompleteSearch);</span>
<a href="#l6.26"></a><span id="l6.26"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsAbAutoCompleteSearch2.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l7.4"></a><span id="l7.4">  * a previous search.</span>
<a href="#l7.5"></a><span id="l7.5">  *</span>
<a href="#l7.6"></a><span id="l7.6">  * We run this test without address books, constructing manually ourselves,</span>
<a href="#l7.7"></a><span id="l7.7">  * so that we can ensure that we're not getting the data out of the address</span>
<a href="#l7.8"></a><span id="l7.8">  * books.</span>
<a href="#l7.9"></a><span id="l7.9">  */</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11"> // We import this to allow us to reuse the code of the results object.</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-do_import_script(&quot;mailnews/addrbook/src/nsAbAutoCompleteSearch.js&quot;);</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+do_import_script(&quot;../mailnews/addrbook/src/nsAbAutoCompleteSearch.js&quot;);</span>
<a href="#l7.14"></a><span id="l7.14"> </span>
<a href="#l7.15"></a><span id="l7.15"> function createCard(chars, popularity) {</span>
<a href="#l7.16"></a><span id="l7.16">   var card = Components.classes[&quot;@mozilla.org/addressbook/cardproperty;1&quot;]</span>
<a href="#l7.17"></a><span id="l7.17">                        .createInstance(Components.interfaces.nsIAbCard);</span>
<a href="#l7.18"></a><span id="l7.18"> </span>
<a href="#l7.19"></a><span id="l7.19">   card.firstName = &quot;firstName&quot;.slice(0, chars);</span>
<a href="#l7.20"></a><span id="l7.20">   card.lastName = &quot;lastName&quot;.slice(0, chars);</span>
<a href="#l7.21"></a><span id="l7.21">   card.displayName = &quot;displayName&quot;.slice(0, chars);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mailnews/addrbook/test/unit/test_nsIAbCard.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mailnews/addrbook/test/unit/test_nsIAbCard.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l8.4"></a><span id="l8.4">  * up all the parameters correctly. We'll have to extend them as we develop</span>
<a href="#l8.5"></a><span id="l8.5">  * the address book more, especially looking towards standards etc.</span>
<a href="#l8.6"></a><span id="l8.6">  */</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> // Main function for the this test so we can check both personal and</span>
<a href="#l8.9"></a><span id="l8.9"> // collected books work correctly in an easy manner.</span>
<a href="#l8.10"></a><span id="l8.10"> function run_test() {</span>
<a href="#l8.11"></a><span id="l8.11">   // Test setup - copy the data file into place</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-  var testAB = do_get_file(&quot;mailnews/addrbook/test/unit/data/cardForEmail.mab&quot;);</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+  var testAB = do_get_file(&quot;../mailnews/addrbook/test/unit/data/cardForEmail.mab&quot;);</span>
<a href="#l8.14"></a><span id="l8.14"> </span>
<a href="#l8.15"></a><span id="l8.15">   // Copy the file to the profile directory for a PAB</span>
<a href="#l8.16"></a><span id="l8.16">   testAB.copyTo(gProfileDir, kPABData.fileName);</span>
<a href="#l8.17"></a><span id="l8.17"> </span>
<a href="#l8.18"></a><span id="l8.18">   // Test - Get the directory</span>
<a href="#l8.19"></a><span id="l8.19">   var abManager = Components.classes[&quot;@mozilla.org/abmanager;1&quot;]</span>
<a href="#l8.20"></a><span id="l8.20">                             .getService(Components.interfaces.nsIAbManager);</span>
<a href="#l8.21"></a><span id="l8.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mailnews/base/build/Makefile.in</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mailnews/base/build/Makefile.in</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -94,17 +94,17 @@ SHARED_LIBRARY_LIBS = \</span>
<a href="#l9.4"></a><span id="l9.4"> </span>
<a href="#l9.5"></a><span id="l9.5"> ifeq ($(USE_SHORT_LIBNAME),1)</span>
<a href="#l9.6"></a><span id="l9.6"> EXTRA_DSO_LIBS = msgbsutl</span>
<a href="#l9.7"></a><span id="l9.7"> else</span>
<a href="#l9.8"></a><span id="l9.8"> EXTRA_DSO_LIBS = msgbaseutil</span>
<a href="#l9.9"></a><span id="l9.9"> endif</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> EXTRA_DSO_LDOPTS = \</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-		$(DEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+		$(MOZDEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l9.14"></a><span id="l9.14"> 		$(LIBS_DIR) \</span>
<a href="#l9.15"></a><span id="l9.15"> 		$(EXTRA_DSO_LIBS) \</span>
<a href="#l9.16"></a><span id="l9.16"> 		$(MOZ_JS_LIBS) \</span>
<a href="#l9.17"></a><span id="l9.17"> 		$(MOZ_UNICHARUTIL_LIBS) \</span>
<a href="#l9.18"></a><span id="l9.18"> 		$(MOZ_COMPONENT_LIBS) \</span>
<a href="#l9.19"></a><span id="l9.19"> 		$(NULL)</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21"> LOCAL_INCLUDES += -I$(srcdir) \</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mailnews/base/test/unit/head_mailbase.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mailnews/base/test/unit/head_mailbase.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,3 +1,3 @@</span>
<a href="#l10.4"></a><span id="l10.4"> // Import the main scripts that mailnews tests need to set up and tear down</span>
<a href="#l10.5"></a><span id="l10.5" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l10.6"></a><span id="l10.6" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailTestUtils.js&quot;);</span>
<a href="#l10.7"></a><span id="l10.7" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l10.8"></a><span id="l10.8" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailTestUtils.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mailnews/base/test/unit/test_bug366491.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_bug366491.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -118,13 +118,13 @@ var doTestingListener =</span>
<a href="#l11.4"></a><span id="l11.4">       do_test_finished();</span>
<a href="#l11.5"></a><span id="l11.5">   }</span>
<a href="#l11.6"></a><span id="l11.6"> };</span>
<a href="#l11.7"></a><span id="l11.7"> </span>
<a href="#l11.8"></a><span id="l11.8"> // helper functions</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10"> function getSpec(aFileName)</span>
<a href="#l11.11"></a><span id="l11.11"> {</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-  var file = do_get_file(&quot;mailnews/extensions/bayesian-spam-filter/test/resources/&quot; + aFileName);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+  var file = do_get_file(&quot;../mailnews/extensions/bayesian-spam-filter/test/resources/&quot; + aFileName);</span>
<a href="#l11.14"></a><span id="l11.14">   var uri = nsIIOService.newFileURI(file).QueryInterface(Ci.nsIURL);</span>
<a href="#l11.15"></a><span id="l11.15">   uri.query = &quot;type=application/x-message-display&quot;;</span>
<a href="#l11.16"></a><span id="l11.16">   return uri.spec;</span>
<a href="#l11.17"></a><span id="l11.17"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mailnews/base/test/unit/test_bug428427.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_bug428427.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -37,17 +37,17 @@</span>
<a href="#l12.4"></a><span id="l12.4"> // Test of message count changes in virtual folder views</span>
<a href="#l12.5"></a><span id="l12.5"> </span>
<a href="#l12.6"></a><span id="l12.6"> const copyService = Cc[&quot;@mozilla.org/messenger/messagecopyservice;1&quot;]</span>
<a href="#l12.7"></a><span id="l12.7">                       .getService(Ci.nsIMsgCopyService);</span>
<a href="#l12.8"></a><span id="l12.8"> const tagService = Cc[&quot;@mozilla.org/messenger/tagservice;1&quot;]</span>
<a href="#l12.9"></a><span id="l12.9">                      .getService(Ci.nsIMsgTagService);</span>
<a href="#l12.10"></a><span id="l12.10"> const dbviewContractId = &quot;@mozilla.org/messenger/msgdbview;1?type=&quot; + &quot;quicksearch&quot;;</span>
<a href="#l12.11"></a><span id="l12.11"> const dbView = Cc[dbviewContractId].createInstance(Ci.nsIMsgDBView);</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-const bugmail1 = do_get_file(&quot;mailnews/test/data/bugmail1&quot;);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+const bugmail1 = do_get_file(&quot;../mailnews/test/data/bugmail1&quot;);</span>
<a href="#l12.14"></a><span id="l12.14"> // I'm only loading msgDBService to help load symbols for debugging</span>
<a href="#l12.15"></a><span id="l12.15"> //const msgDBService = Cc[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span>
<a href="#l12.16"></a><span id="l12.16"> //                     .getService(Ci.nsIMsgDBService);</span>
<a href="#l12.17"></a><span id="l12.17">                      </span>
<a href="#l12.18"></a><span id="l12.18"> // main test</span>
<a href="#l12.19"></a><span id="l12.19"> </span>
<a href="#l12.20"></a><span id="l12.20"> // the headers for the test messages. All messages are identical, but</span>
<a href="#l12.21"></a><span id="l12.21"> // have different properties set on them.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_nsIMsgFolderListenerLocal.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -13,17 +13,17 @@</span>
<a href="#l13.4"></a><span id="l13.4">   * Currently tested:</span>
<a href="#l13.5"></a><span id="l13.5">   * - Copy messages from files into the db</span>
<a href="#l13.6"></a><span id="l13.6">   * - Moving and copying one or more messages from one local folder to another</span>
<a href="#l13.7"></a><span id="l13.7">   * - Moving folders, with and without subfolders</span>
<a href="#l13.8"></a><span id="l13.8">   * - Renaming folders</span>
<a href="#l13.9"></a><span id="l13.9">   * - Deleting messages and folders, to trash and from trash (permanently)</span>
<a href="#l13.10"></a><span id="l13.10">   */</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-do_import_script(&quot;mailnews/base/test/resources/msgFolderListenerSetup.js&quot;);</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+do_import_script(&quot;../mailnews/base/test/resources/msgFolderListenerSetup.js&quot;);</span>
<a href="#l13.14"></a><span id="l13.14"> </span>
<a href="#l13.15"></a><span id="l13.15"> // Globals</span>
<a href="#l13.16"></a><span id="l13.16"> var gMsgFile1, gMsgFile2, gMsgFile3;</span>
<a href="#l13.17"></a><span id="l13.17"> var gLocalFolder2;</span>
<a href="#l13.18"></a><span id="l13.18"> var gLocalFolder3;</span>
<a href="#l13.19"></a><span id="l13.19"> var gLocalTrashFolder;</span>
<a href="#l13.20"></a><span id="l13.20"> </span>
<a href="#l13.21"></a><span id="l13.21"> function copyFileMessage(file, destFolder, isDraftOrTemplate)</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineat">@@ -185,19 +185,19 @@ const gTestArray =</span>
<a href="#l13.23"></a><span id="l13.23"> function run_test()</span>
<a href="#l13.24"></a><span id="l13.24"> {</span>
<a href="#l13.25"></a><span id="l13.25">   // Add a listener.</span>
<a href="#l13.26"></a><span id="l13.26">   gMFNService.addListener(gMFListener);</span>
<a href="#l13.27"></a><span id="l13.27"> </span>
<a href="#l13.28"></a><span id="l13.28">   loadLocalMailAccount();</span>
<a href="#l13.29"></a><span id="l13.29"> </span>
<a href="#l13.30"></a><span id="l13.30">   // Load up some messages so that we can copy them in later.</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-  gMsgFile1 = do_get_file(&quot;mailnews/test/data/bugmail10&quot;);</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineminus">-  gMsgFile2 = do_get_file(&quot;mailnews/test/data/bugmail11&quot;);</span>
<a href="#l13.33"></a><span id="l13.33" class="difflineminus">-  gMsgFile3 = do_get_file(&quot;mailnews/test/data/draft1&quot;);</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineplus">+  gMsgFile1 = do_get_file(&quot;../mailnews/test/data/bugmail10&quot;);</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineplus">+  gMsgFile2 = do_get_file(&quot;../mailnews/test/data/bugmail11&quot;);</span>
<a href="#l13.36"></a><span id="l13.36" class="difflineplus">+  gMsgFile3 = do_get_file(&quot;../mailnews/test/data/draft1&quot;);</span>
<a href="#l13.37"></a><span id="l13.37"> </span>
<a href="#l13.38"></a><span id="l13.38">   // Create another folder to move and copy messages around, and force initialization.</span>
<a href="#l13.39"></a><span id="l13.39">   var rootFolder = gLocalIncomingServer.rootMsgFolder;</span>
<a href="#l13.40"></a><span id="l13.40">   gLocalFolder2 = rootFolder.addSubfolder(&quot;folder2&quot;);</span>
<a href="#l13.41"></a><span id="l13.41">   var folderName = gLocalFolder2.prettiestName;</span>
<a href="#l13.42"></a><span id="l13.42"> </span>
<a href="#l13.43"></a><span id="l13.43">   // Create a third folder for more testing.</span>
<a href="#l13.44"></a><span id="l13.44">   gLocalFolder3 = rootFolder.addSubfolder(&quot;folder3&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchAddressInAb.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchAddressInAb.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -31,20 +31,20 @@</span>
<a href="#l14.4"></a><span id="l14.4">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l14.5"></a><span id="l14.5">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l14.6"></a><span id="l14.6">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l14.7"></a><span id="l14.7">  *</span>
<a href="#l14.8"></a><span id="l14.8">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l14.9"></a><span id="l14.9"> </span>
<a href="#l14.10"></a><span id="l14.10"> // Testing of to, cc, toorcc in addressbook search features added in bug 187768</span>
<a href="#l14.11"></a><span id="l14.11"> </span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/searchTestUtils.js&quot;);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/searchTestUtils.js&quot;);</span>
<a href="#l14.14"></a><span id="l14.14"> </span>
<a href="#l14.15"></a><span id="l14.15"> // add address book setup</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineminus">-do_import_script(&quot;mailnews/addrbook/test/resources/abSetup.js&quot;);</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineplus">+do_import_script(&quot;../mailnews/addrbook/test/resources/abSetup.js&quot;);</span>
<a href="#l14.18"></a><span id="l14.18"> </span>
<a href="#l14.19"></a><span id="l14.19"> const ABUri = kPABData.URI;</span>
<a href="#l14.20"></a><span id="l14.20"> </span>
<a href="#l14.21"></a><span id="l14.21"> const copyService = Cc[&quot;@mozilla.org/messenger/messagecopyservice;1&quot;].</span>
<a href="#l14.22"></a><span id="l14.22">                       getService(Ci.nsIMsgCopyService);</span>
<a href="#l14.23"></a><span id="l14.23"> </span>
<a href="#l14.24"></a><span id="l14.24"> const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l14.25"></a><span id="l14.25"> const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l14.26"></a><span id="l14.26" class="difflineat">@@ -115,34 +115,34 @@ var Tests =</span>
<a href="#l14.27"></a><span id="l14.27">   { value: ABUri,</span>
<a href="#l14.28"></a><span id="l14.28">     attrib: CCopy,</span>
<a href="#l14.29"></a><span id="l14.29">     op: IsntInAB,</span>
<a href="#l14.30"></a><span id="l14.30">     count: 3 },</span>
<a href="#l14.31"></a><span id="l14.31"> ];</span>
<a href="#l14.32"></a><span id="l14.32"> </span>
<a href="#l14.33"></a><span id="l14.33"> var Files = </span>
<a href="#l14.34"></a><span id="l14.34"> [</span>
<a href="#l14.35"></a><span id="l14.35" class="difflineminus">-  &quot;mailnews/test/data/bugmail2&quot;,</span>
<a href="#l14.36"></a><span id="l14.36" class="difflineminus">-  &quot;mailnews/test/data/bugmail3&quot;,</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineminus">-  &quot;mailnews/test/data/bugmail4&quot;,</span>
<a href="#l14.38"></a><span id="l14.38" class="difflineminus">-  &quot;mailnews/test/data/bugmail5&quot;,</span>
<a href="#l14.39"></a><span id="l14.39" class="difflineminus">-  &quot;mailnews/test/data/bugmail6&quot;,</span>
<a href="#l14.40"></a><span id="l14.40" class="difflineminus">-  &quot;mailnews/test/data/bugmail7&quot;</span>
<a href="#l14.41"></a><span id="l14.41" class="difflineplus">+  &quot;../mailnews/test/data/bugmail2&quot;,</span>
<a href="#l14.42"></a><span id="l14.42" class="difflineplus">+  &quot;../mailnews/test/data/bugmail3&quot;,</span>
<a href="#l14.43"></a><span id="l14.43" class="difflineplus">+  &quot;../mailnews/test/data/bugmail4&quot;,</span>
<a href="#l14.44"></a><span id="l14.44" class="difflineplus">+  &quot;../mailnews/test/data/bugmail5&quot;,</span>
<a href="#l14.45"></a><span id="l14.45" class="difflineplus">+  &quot;../mailnews/test/data/bugmail6&quot;,</span>
<a href="#l14.46"></a><span id="l14.46" class="difflineplus">+  &quot;../mailnews/test/data/bugmail7&quot;</span>
<a href="#l14.47"></a><span id="l14.47"> ]</span>
<a href="#l14.48"></a><span id="l14.48"> </span>
<a href="#l14.49"></a><span id="l14.49"> var messageKey, hdr;</span>
<a href="#l14.50"></a><span id="l14.50"> </span>
<a href="#l14.51"></a><span id="l14.51"> function run_test()</span>
<a href="#l14.52"></a><span id="l14.52"> {</span>
<a href="#l14.53"></a><span id="l14.53">   // Setup local mail accounts.</span>
<a href="#l14.54"></a><span id="l14.54"> </span>
<a href="#l14.55"></a><span id="l14.55">   loadLocalMailAccount();</span>
<a href="#l14.56"></a><span id="l14.56">     </span>
<a href="#l14.57"></a><span id="l14.57">     // Test setup - copy the data file into place</span>
<a href="#l14.58"></a><span id="l14.58" class="difflineminus">-  var testAB = do_get_file(&quot;mailnews/addrbook/test/unit/data/cardForEmail.mab&quot;);</span>
<a href="#l14.59"></a><span id="l14.59" class="difflineplus">+  var testAB = do_get_file(&quot;../mailnews/addrbook/test/unit/data/cardForEmail.mab&quot;);</span>
<a href="#l14.60"></a><span id="l14.60"> </span>
<a href="#l14.61"></a><span id="l14.61">   // Copy the file to the profile directory for a PAB</span>
<a href="#l14.62"></a><span id="l14.62">   testAB.copyTo(gProfileDir, kPABData.fileName);</span>
<a href="#l14.63"></a><span id="l14.63"> </span>
<a href="#l14.64"></a><span id="l14.64">   // test that validity table terms are valid</span>
<a href="#l14.65"></a><span id="l14.65"> </span>
<a href="#l14.66"></a><span id="l14.66">   // offline mail table</span>
<a href="#l14.67"></a><span id="l14.67">   testValidityTable(offlineMail, IsInAB, Sender, true);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchJunk.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchJunk.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -31,17 +31,17 @@</span>
<a href="#l15.4"></a><span id="l15.4">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l15.5"></a><span id="l15.5">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l15.6"></a><span id="l15.6">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l15.7"></a><span id="l15.7">  *</span>
<a href="#l15.8"></a><span id="l15.8">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l15.9"></a><span id="l15.9"> </span>
<a href="#l15.10"></a><span id="l15.10"> // Testing of search by junk percent and junk score origin</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/searchTestUtils.js&quot;);</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/searchTestUtils.js&quot;);</span>
<a href="#l15.14"></a><span id="l15.14"> </span>
<a href="#l15.15"></a><span id="l15.15"> const copyService = Cc[&quot;@mozilla.org/messenger/messagecopyservice;1&quot;]</span>
<a href="#l15.16"></a><span id="l15.16">                       .getService(Ci.nsIMsgCopyService);</span>
<a href="#l15.17"></a><span id="l15.17"> </span>
<a href="#l15.18"></a><span id="l15.18"> const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l15.19"></a><span id="l15.19"> const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l15.20"></a><span id="l15.20"> const nsMsgSearchOp = Ci.nsMsgSearchOp;</span>
<a href="#l15.21"></a><span id="l15.21"> </span>
<a href="#l15.22"></a><span id="l15.22" class="difflineat">@@ -50,17 +50,17 @@ const IsLessThan = nsMsgSearchOp.IsLessT</span>
<a href="#l15.23"></a><span id="l15.23"> const Is = nsMsgSearchOp.Is;</span>
<a href="#l15.24"></a><span id="l15.24"> const Isnt = nsMsgSearchOp.Isnt;</span>
<a href="#l15.25"></a><span id="l15.25"> </span>
<a href="#l15.26"></a><span id="l15.26"> const offlineMail = nsMsgSearchScope.offlineMail;</span>
<a href="#l15.27"></a><span id="l15.27"> </span>
<a href="#l15.28"></a><span id="l15.28"> const JunkScoreOrigin = nsMsgSearchAttrib.JunkScoreOrigin;</span>
<a href="#l15.29"></a><span id="l15.29"> const JunkPercent = nsMsgSearchAttrib.JunkPercent;</span>
<a href="#l15.30"></a><span id="l15.30"> </span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-const fileName = &quot;mailnews/test/data/bugmail1&quot;;</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineplus">+const fileName = &quot;../mailnews/test/data/bugmail1&quot;;</span>
<a href="#l15.33"></a><span id="l15.33"> </span>
<a href="#l15.34"></a><span id="l15.34"> /*</span>
<a href="#l15.35"></a><span id="l15.35">  * The search for junkpercent is defined as the effective value,</span>
<a href="#l15.36"></a><span id="l15.36">  * while the &quot;junkpercent&quot; database term is always the result</span>
<a href="#l15.37"></a><span id="l15.37">  * from the bayes filter. This is optimized to make views that</span>
<a href="#l15.38"></a><span id="l15.38">  * rely on junk percent search work with the best value for junk</span>
<a href="#l15.39"></a><span id="l15.39">  * percent, while allowing junk percent from the bayes filter</span>
<a href="#l15.40"></a><span id="l15.40">  * to be saved for analysis.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mailnews/base/test/unit/test_searchTag.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_searchTag.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -36,17 +36,17 @@</span>
<a href="#l16.4"></a><span id="l16.4"> </span>
<a href="#l16.5"></a><span id="l16.5"> /*</span>
<a href="#l16.6"></a><span id="l16.6">  * Testing of tag search features.</span>
<a href="#l16.7"></a><span id="l16.7">  *</span>
<a href="#l16.8"></a><span id="l16.8">  * Specifically tests changes implemented in bug 217034</span>
<a href="#l16.9"></a><span id="l16.9">  * Does not do comprehensive testing.</span>
<a href="#l16.10"></a><span id="l16.10">  *</span>
<a href="#l16.11"></a><span id="l16.11">  */</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/searchTestUtils.js&quot;);</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/searchTestUtils.js&quot;);</span>
<a href="#l16.14"></a><span id="l16.14"> </span>
<a href="#l16.15"></a><span id="l16.15"> const tagService = Cc[&quot;@mozilla.org/messenger/tagservice;1&quot;]</span>
<a href="#l16.16"></a><span id="l16.16">                      .getService(Ci.nsIMsgTagService);</span>
<a href="#l16.17"></a><span id="l16.17"> const copyService = Cc[&quot;@mozilla.org/messenger/messagecopyservice;1&quot;]</span>
<a href="#l16.18"></a><span id="l16.18">                       .getService(Ci.nsIMsgCopyService);</span>
<a href="#l16.19"></a><span id="l16.19"> </span>
<a href="#l16.20"></a><span id="l16.20"> const nsMsgSearchScope = Ci.nsMsgSearchScope;</span>
<a href="#l16.21"></a><span id="l16.21"> const nsMsgSearchAttrib = Ci.nsMsgSearchAttrib;</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineat">@@ -336,17 +336,17 @@ function run_test()</span>
<a href="#l16.23"></a><span id="l16.23">     OnStartCopy: function() {},</span>
<a href="#l16.24"></a><span id="l16.24">     OnProgress: function(aProgress, aProgressMax) {},</span>
<a href="#l16.25"></a><span id="l16.25">     SetMessageKey: function(aKey) { hdr = gLocalInboxFolder.GetMessageHeader(aKey);},</span>
<a href="#l16.26"></a><span id="l16.26">     SetMessageId: function(aMessageId) {},</span>
<a href="#l16.27"></a><span id="l16.27">     OnStopCopy: function(aStatus) { testKeywordSearch();}</span>
<a href="#l16.28"></a><span id="l16.28">   };</span>
<a href="#l16.29"></a><span id="l16.29"> </span>
<a href="#l16.30"></a><span id="l16.30">   // Get a message into the local filestore. function testKeywordSearch() continues the testing after the copy.</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineminus">-  var bugmail1 = do_get_file(&quot;mailnews/test/data/bugmail1&quot;);</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineplus">+  var bugmail1 = do_get_file(&quot;../mailnews/test/data/bugmail1&quot;);</span>
<a href="#l16.33"></a><span id="l16.33">   do_test_pending();</span>
<a href="#l16.34"></a><span id="l16.34">   copyService.CopyFileMessage(bugmail1, gLocalInboxFolder, null, false, 0,</span>
<a href="#l16.35"></a><span id="l16.35">                               copyListener, null);</span>
<a href="#l16.36"></a><span id="l16.36"> }</span>
<a href="#l16.37"></a><span id="l16.37"> </span>
<a href="#l16.38"></a><span id="l16.38"> // process each test from queue, calls itself upon completion of each search</span>
<a href="#l16.39"></a><span id="l16.39"> var testObject;</span>
<a href="#l16.40"></a><span id="l16.40"> function testKeywordSearch()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mailnews/base/util/Makefile.in</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mailnews/base/util/Makefile.in</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -117,17 +117,17 @@ EXPORTS		= \</span>
<a href="#l17.4"></a><span id="l17.4"> 		nsMsgI18N.h \</span>
<a href="#l17.5"></a><span id="l17.5"> 		nsImapMoveCoalescer.h \</span>
<a href="#l17.6"></a><span id="l17.6"> 		$(NULL)</span>
<a href="#l17.7"></a><span id="l17.7"> </span>
<a href="#l17.8"></a><span id="l17.8"> ifndef MOZ_STATIC_MAIL_BUILD</span>
<a href="#l17.9"></a><span id="l17.9"> </span>
<a href="#l17.10"></a><span id="l17.10"> EXTRA_DSO_LDOPTS = \</span>
<a href="#l17.11"></a><span id="l17.11"> 	$(LIBS_DIR) \</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-	$(DEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+	$(MOZDEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l17.14"></a><span id="l17.14"> 	$(MOZ_UNICHARUTIL_LIBS) \</span>
<a href="#l17.15"></a><span id="l17.15"> 	$(MOZ_COMPONENT_LIBS) \</span>
<a href="#l17.16"></a><span id="l17.16"> 	$(NULL)</span>
<a href="#l17.17"></a><span id="l17.17"> </span>
<a href="#l17.18"></a><span id="l17.18"> else</span>
<a href="#l17.19"></a><span id="l17.19"> </span>
<a href="#l17.20"></a><span id="l17.20"> # we don't want the shared lib, but we want to force the creation of a static lib.</span>
<a href="#l17.21"></a><span id="l17.21"> FORCE_STATIC_LIB = 1</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mailnews/build/Makefile.in</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mailnews/build/Makefile.in</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -121,18 +121,18 @@ SHARED_LIBRARY_LIBS = \</span>
<a href="#l18.4"></a><span id="l18.4"> 	        ../extensions/bayesian-spam-filter/src/$(LIB_PREFIX)bayesflt_s.$(LIB_SUFFIX) \</span>
<a href="#l18.5"></a><span id="l18.5"> 	        ../extensions/mailviews/src/$(LIB_PREFIX)mailview_s.$(LIB_SUFFIX) \</span>
<a href="#l18.6"></a><span id="l18.6">                 ../extensions/mdn/src/$(LIB_PREFIX)msgmdn_s.$(LIB_SUFFIX) \</span>
<a href="#l18.7"></a><span id="l18.7">                 ../mime/cthandlers/vcard/$(LIB_PREFIX)vcard_s.$(LIB_SUFFIX) \</span>
<a href="#l18.8"></a><span id="l18.8">                 ../mime/cthandlers/glue/$(LIB_PREFIX)mimecthglue_s.$(LIB_SUFFIX) \</span>
<a href="#l18.9"></a><span id="l18.9">                 $(NULL)</span>
<a href="#l18.10"></a><span id="l18.10"> </span>
<a href="#l18.11"></a><span id="l18.11"> EXTRA_DSO_LDOPTS = \</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-		$(DEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineminus">-		$(DEPTH)/modules/libreg/src/$(LIB_PREFIX)mozreg_s.$(LIB_SUFFIX) \</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+		$(MOZDEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineplus">+		$(MOZDEPTH)/modules/libreg/src/$(LIB_PREFIX)mozreg_s.$(LIB_SUFFIX) \</span>
<a href="#l18.16"></a><span id="l18.16"> 		$(MOZ_JS_LIBS) \</span>
<a href="#l18.17"></a><span id="l18.17"> 		$(MOZ_UNICHARUTIL_LIBS) \</span>
<a href="#l18.18"></a><span id="l18.18"> 		$(MOZ_COMPONENT_LIBS) \</span>
<a href="#l18.19"></a><span id="l18.19"> 		$(NULL)</span>
<a href="#l18.20"></a><span id="l18.20"> </span>
<a href="#l18.21"></a><span id="l18.21"> ifneq (,$(filter mac cocoa,$(MOZ_WIDGET_TOOLKIT)))</span>
<a href="#l18.22"></a><span id="l18.22"> EXTRA_DSO_LDOPTS += \</span>
<a href="#l18.23"></a><span id="l18.23">   $(TK_LIBS) \</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mailnews/compose/build/Makefile.in</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mailnews/compose/build/Makefile.in</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -97,13 +97,13 @@ EXTRA_DSO_LDOPTS = \</span>
<a href="#l19.4"></a><span id="l19.4"> 		$(MOZ_JS_LIBS) \</span>
<a href="#l19.5"></a><span id="l19.5"> 		$(MOZ_UNICHARUTIL_LIBS) \</span>
<a href="#l19.6"></a><span id="l19.6"> 		$(MOZ_COMPONENT_LIBS) \</span>
<a href="#l19.7"></a><span id="l19.7"> 		$(NULL)</span>
<a href="#l19.8"></a><span id="l19.8"> </span>
<a href="#l19.9"></a><span id="l19.9"> ifneq (,$(filter cocoa mac, $(MOZ_WIDGET_TOOLKIT)))</span>
<a href="#l19.10"></a><span id="l19.10"> EXTRA_DSO_LDOPTS += $(TK_LIBS)</span>
<a href="#l19.11"></a><span id="l19.11"> SHARED_LIBRARY_LIBS += \</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-		$(DEPTH)/xpcom/MoreFiles/$(LIB_PREFIX)macmorefiles_s.$(LIB_SUFFIX)</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+		$(MOZDEPTH)/xpcom/MoreFiles/$(LIB_PREFIX)macmorefiles_s.$(LIB_SUFFIX)</span>
<a href="#l19.14"></a><span id="l19.14"> endif</span>
<a href="#l19.15"></a><span id="l19.15"> </span>
<a href="#l19.16"></a><span id="l19.16"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l19.17"></a><span id="l19.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mailnews/compose/test/unit/head_compose.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mailnews/compose/test/unit/head_compose.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l20.4"></a><span id="l20.4"> // Import the main scripts that mailnews tests need to set up and tear down</span>
<a href="#l20.5"></a><span id="l20.5" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l20.6"></a><span id="l20.6" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailTestUtils.js&quot;);</span>
<a href="#l20.7"></a><span id="l20.7" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l20.8"></a><span id="l20.8" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailTestUtils.js&quot;);</span>
<a href="#l20.9"></a><span id="l20.9"> </span>
<a href="#l20.10"></a><span id="l20.10"> // Import the smtp server scripts</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineminus">-do_import_script(&quot;mailnews/test/fakeserver/maild.js&quot;)</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-do_import_script(&quot;mailnews/test/fakeserver/smtpd.js&quot;)</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+do_import_script(&quot;../mailnews/test/fakeserver/maild.js&quot;)</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+do_import_script(&quot;../mailnews/test/fakeserver/smtpd.js&quot;)</span>
<a href="#l20.15"></a><span id="l20.15"> </span>
<a href="#l20.16"></a><span id="l20.16"> const SMTP_PORT = 1024+120;</span>
<a href="#l20.17"></a><span id="l20.17"> </span>
<a href="#l20.18"></a><span id="l20.18"> // Setup the daemon and server</span>
<a href="#l20.19"></a><span id="l20.19"> function setupServerDaemon() {</span>
<a href="#l20.20"></a><span id="l20.20">   var daemon = new smtpDaemon();</span>
<a href="#l20.21"></a><span id="l20.21">   var handler = new SMTP_RFC2822_handler(daemon);</span>
<a href="#l20.22"></a><span id="l20.22">   var server = new nsMailServer(handler);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_nsMsgCompose1.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_nsMsgCompose1.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l21.4"></a><span id="l21.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l21.5"></a><span id="l21.5"> /*</span>
<a href="#l21.6"></a><span id="l21.6">  * Test suite for nsMsgCompose functions relating to listeners.</span>
<a href="#l21.7"></a><span id="l21.7">  */</span>
<a href="#l21.8"></a><span id="l21.8"> </span>
<a href="#l21.9"></a><span id="l21.9"> // We need the address book details for this test</span>
<a href="#l21.10"></a><span id="l21.10" class="difflineminus">-do_import_script(&quot;mailnews/addrbook/test/resources/abSetup.js&quot;);</span>
<a href="#l21.11"></a><span id="l21.11" class="difflineplus">+do_import_script(&quot;../mailnews/addrbook/test/resources/abSetup.js&quot;);</span>
<a href="#l21.12"></a><span id="l21.12"> </span>
<a href="#l21.13"></a><span id="l21.13"> const MsgComposeContractID = &quot;@mozilla.org/messengercompose/compose;1&quot;;</span>
<a href="#l21.14"></a><span id="l21.14"> const MsgComposeParamsContractID = &quot;@mozilla.org/messengercompose/composeparams;1&quot;;</span>
<a href="#l21.15"></a><span id="l21.15"> const MsgComposeFieldsContractID = &quot;@mozilla.org/messengercompose/composefields;1&quot;;</span>
<a href="#l21.16"></a><span id="l21.16"> const nsIMsgCompose = Components.interfaces.nsIMsgCompose;</span>
<a href="#l21.17"></a><span id="l21.17"> const nsIMsgComposeParams = Components.interfaces.nsIMsgComposeParams;</span>
<a href="#l21.18"></a><span id="l21.18"> const nsIMsgCompFields = Components.interfaces.nsIMsgCompFields;</span>
<a href="#l21.19"></a><span id="l21.19"> const nsIAbPreferMailFormat = Components.interfaces.nsIAbPreferMailFormat;</span>
<a href="#l21.20"></a><span id="l21.20" class="difflineat">@@ -41,22 +41,22 @@ function checkPopulate(aTo, aNonHTMLReci</span>
<a href="#l21.21"></a><span id="l21.21"> </span>
<a href="#l21.22"></a><span id="l21.22">   do_check_eq(fields.to, aCheckTo);</span>
<a href="#l21.23"></a><span id="l21.23"> </span>
<a href="#l21.24"></a><span id="l21.24">   do_check_eq(nonHTMLRecipients.value, aNonHTMLRecipients);</span>
<a href="#l21.25"></a><span id="l21.25"> }</span>
<a href="#l21.26"></a><span id="l21.26"> </span>
<a href="#l21.27"></a><span id="l21.27"> function run_test() {</span>
<a href="#l21.28"></a><span id="l21.28">   // Test setup - copy the data files into place</span>
<a href="#l21.29"></a><span id="l21.29" class="difflineminus">-  var testAB = do_get_file(&quot;mailnews/addrbook/test/resources/abLists1.mab&quot;);</span>
<a href="#l21.30"></a><span id="l21.30" class="difflineplus">+  var testAB = do_get_file(&quot;../mailnews/addrbook/test/resources/abLists1.mab&quot;);</span>
<a href="#l21.31"></a><span id="l21.31"> </span>
<a href="#l21.32"></a><span id="l21.32">   // Copy the file to the profile directory for a PAB</span>
<a href="#l21.33"></a><span id="l21.33">   testAB.copyTo(gProfileDir, kPABData.fileName);</span>
<a href="#l21.34"></a><span id="l21.34"> </span>
<a href="#l21.35"></a><span id="l21.35" class="difflineminus">-  testAB = do_get_file(&quot;mailnews/addrbook/test/resources/abLists2.mab&quot;);</span>
<a href="#l21.36"></a><span id="l21.36" class="difflineplus">+  testAB = do_get_file(&quot;../mailnews/addrbook/test/resources/abLists2.mab&quot;);</span>
<a href="#l21.37"></a><span id="l21.37"> </span>
<a href="#l21.38"></a><span id="l21.38">   // Copy the file to the profile directory for a CAB</span>
<a href="#l21.39"></a><span id="l21.39">   testAB.copyTo(gProfileDir, kCABData.fileName);</span>
<a href="#l21.40"></a><span id="l21.40"> </span>
<a href="#l21.41"></a><span id="l21.41">   // Test - Check we can initalize with fewest specified</span>
<a href="#l21.42"></a><span id="l21.42">   // parameters and don't fail/crash like we did in bug 411646.</span>
<a href="#l21.43"></a><span id="l21.43"> </span>
<a href="#l21.44"></a><span id="l21.44">   var msgCompose = Components.classes[MsgComposeContractID]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMailMessage.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMailMessage.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -12,17 +12,17 @@ var server;</span>
<a href="#l22.4"></a><span id="l22.4"> </span>
<a href="#l22.5"></a><span id="l22.5"> const kSender = &quot;from@invalid.com&quot;;</span>
<a href="#l22.6"></a><span id="l22.6"> const kTo = &quot;to@invalid.com&quot;;</span>
<a href="#l22.7"></a><span id="l22.7"> </span>
<a href="#l22.8"></a><span id="l22.8"> function test_RFC2822() {</span>
<a href="#l22.9"></a><span id="l22.9">   type = &quot;RFC 2822&quot;;</span>
<a href="#l22.10"></a><span id="l22.10"> </span>
<a href="#l22.11"></a><span id="l22.11">   // Test file</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-  var testFile = do_get_file(&quot;mailnews/compose/test/unit/data/message1.eml&quot;);</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+  var testFile = do_get_file(&quot;../mailnews/compose/test/unit/data/message1.eml&quot;);</span>
<a href="#l22.14"></a><span id="l22.14"> </span>
<a href="#l22.15"></a><span id="l22.15">   // Ensure we have at least one mail account</span>
<a href="#l22.16"></a><span id="l22.16">   loadLocalMailAccount();</span>
<a href="#l22.17"></a><span id="l22.17"> </span>
<a href="#l22.18"></a><span id="l22.18">   var smtpServer = getBasicSmtpServer();</span>
<a href="#l22.19"></a><span id="l22.19">   var identity = getSmtpIdentity(kSender, smtpServer);</span>
<a href="#l22.20"></a><span id="l22.20"> </span>
<a href="#l22.21"></a><span id="l22.21">   var smtpService = Cc[&quot;@mozilla.org/messengercompose/smtp;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mailnews/db/msgdb/test/unit/head_maildb.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mailnews/db/msgdb/test/unit/head_maildb.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -1,2 +1,2 @@</span>
<a href="#l23.4"></a><span id="l23.4"> // Import the main scripts that mailnews tests need to set up and tear down</span>
<a href="#l23.5"></a><span id="l23.5" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l23.6"></a><span id="l23.6" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailDirService.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mailnews/db/msgdb/test/unit/test_maildb.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mailnews/db/msgdb/test/unit/test_maildb.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l24.4"></a><span id="l24.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l24.5"></a><span id="l24.5"> /*</span>
<a href="#l24.6"></a><span id="l24.6">  * Test suite for msg database functions.</span>
<a href="#l24.7"></a><span id="l24.7">  */</span>
<a href="#l24.8"></a><span id="l24.8"> </span>
<a href="#l24.9"></a><span id="l24.9" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailTestUtils.js&quot;);</span>
<a href="#l24.10"></a><span id="l24.10" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailTestUtils.js&quot;);</span>
<a href="#l24.11"></a><span id="l24.11"> </span>
<a href="#l24.12"></a><span id="l24.12"> function run_test() {</span>
<a href="#l24.13"></a><span id="l24.13">   loadLocalMailAccount();</span>
<a href="#l24.14"></a><span id="l24.14">   // Get the root folder</span>
<a href="#l24.15"></a><span id="l24.15">   var root = gLocalIncomingServer.rootFolder;</span>
<a href="#l24.16"></a><span id="l24.16"> </span>
<a href="#l24.17"></a><span id="l24.17">   root.createSubfolder(&quot;dbTest&quot;, null);</span>
<a href="#l24.18"></a><span id="l24.18">   var dbService = Components.classes[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -1,3 +1,3 @@</span>
<a href="#l25.4"></a><span id="l25.4"> // Import the main scripts that mailnews tests need to set up and tear down</span>
<a href="#l25.5"></a><span id="l25.5" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l25.6"></a><span id="l25.6" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailTestUtils.js&quot;);</span>
<a href="#l25.7"></a><span id="l25.7" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l25.8"></a><span id="l25.8" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailTestUtils.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/test/unit/test_bug228675.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -33,17 +33,17 @@</span>
<a href="#l26.4"></a><span id="l26.4">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l26.5"></a><span id="l26.5">  *</span>
<a href="#l26.6"></a><span id="l26.6">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l26.7"></a><span id="l26.7"> </span>
<a href="#l26.8"></a><span id="l26.8"> // tests reduction in size of training.dat</span>
<a href="#l26.9"></a><span id="l26.9"> </span>
<a href="#l26.10"></a><span id="l26.10"> // main setup</span>
<a href="#l26.11"></a><span id="l26.11"> </span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-do_import_script(&quot;mailnews/extensions/bayesian-spam-filter/test/resources/trainingfile.js&quot;);</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+do_import_script(&quot;../mailnews/extensions/bayesian-spam-filter/test/resources/trainingfile.js&quot;);</span>
<a href="#l26.14"></a><span id="l26.14"> </span>
<a href="#l26.15"></a><span id="l26.15"> const nsIPrefBranch = Cc[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l26.16"></a><span id="l26.16">                         .getService(Ci.nsIPrefBranch);</span>
<a href="#l26.17"></a><span id="l26.17"> </span>
<a href="#l26.18"></a><span id="l26.18"> // before shrink, the trained messages have 84 tokens. Force shrink.</span>
<a href="#l26.19"></a><span id="l26.19"> nsIPrefBranch.setIntPref(&quot;mailnews.bayesian_spam_filter.junk_maxtokens&quot;, 83);</span>
<a href="#l26.20"></a><span id="l26.20"> </span>
<a href="#l26.21"></a><span id="l26.21"> const nsIJunkMailPlugin = Cc[&quot;@mozilla.org/messenger/filter-plugin;1?name=bayesianfilter&quot;]</span>
<a href="#l26.22"></a><span id="l26.22" class="difflineat">@@ -147,13 +147,13 @@ function checkToken(aToken, aGoodCount, </span>
<a href="#l26.23"></a><span id="l26.23">   if (!goodCount) goodCount = 0;</span>
<a href="#l26.24"></a><span id="l26.24">   if (!junkCount) junkCount = 0;</span>
<a href="#l26.25"></a><span id="l26.25">   do_check_eq(goodCount, aGoodCount);</span>
<a href="#l26.26"></a><span id="l26.26">   do_check_eq(junkCount, aJunkCount);</span>
<a href="#l26.27"></a><span id="l26.27"> }</span>
<a href="#l26.28"></a><span id="l26.28"> </span>
<a href="#l26.29"></a><span id="l26.29"> function getSpec(aFileName)</span>
<a href="#l26.30"></a><span id="l26.30"> {</span>
<a href="#l26.31"></a><span id="l26.31" class="difflineminus">-  var file = do_get_file(&quot;mailnews/extensions/bayesian-spam-filter/test/resources/&quot; + aFileName);</span>
<a href="#l26.32"></a><span id="l26.32" class="difflineplus">+  var file = do_get_file(&quot;../mailnews/extensions/bayesian-spam-filter/test/resources/&quot; + aFileName);</span>
<a href="#l26.33"></a><span id="l26.33">   var uri = nsIIOService.newFileURI(file).QueryInterface(Ci.nsIURL);</span>
<a href="#l26.34"></a><span id="l26.34">   uri.query = &quot;type=application/x-message-display&quot;;</span>
<a href="#l26.35"></a><span id="l26.35">   return uri.spec;</span>
<a href="#l26.36"></a><span id="l26.36"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mailnews/imap/build/Makefile.in</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mailnews/imap/build/Makefile.in</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -80,16 +80,16 @@ endif</span>
<a href="#l27.4"></a><span id="l27.4"> CPPSRCS		= nsImapFactory.cpp</span>
<a href="#l27.5"></a><span id="l27.5"> </span>
<a href="#l27.6"></a><span id="l27.6"> SHARED_LIBRARY_LIBS = \</span>
<a href="#l27.7"></a><span id="l27.7"> 		../src/$(LIB_PREFIX)msgimap_s.$(LIB_SUFFIX) \</span>
<a href="#l27.8"></a><span id="l27.8"> 		$(NULL)</span>
<a href="#l27.9"></a><span id="l27.9"> </span>
<a href="#l27.10"></a><span id="l27.10"> EXTRA_DSO_LDOPTS = \</span>
<a href="#l27.11"></a><span id="l27.11"> 		$(LIBS_DIR) \</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-		$(DEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineplus">+		$(MOZDEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l27.14"></a><span id="l27.14"> 		$(EXTRA_DSO_LIBS) \</span>
<a href="#l27.15"></a><span id="l27.15"> 		$(MOZ_UNICHARUTIL_LIBS) \</span>
<a href="#l27.16"></a><span id="l27.16"> 		$(MOZ_COMPONENT_LIBS) \</span>
<a href="#l27.17"></a><span id="l27.17"> 		$(NULL)</span>
<a href="#l27.18"></a><span id="l27.18"> </span>
<a href="#l27.19"></a><span id="l27.19"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l27.20"></a><span id="l27.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mailnews/imap/test/Makefile.in</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mailnews/imap/test/Makefile.in</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -70,17 +70,17 @@ SIMPLE_PROGRAMS = $(CPPSRCS:.cpp=$(BIN_S</span>
<a href="#l28.4"></a><span id="l28.4"> </span>
<a href="#l28.5"></a><span id="l28.5"> include $(topsrcdir)/config/config.mk</span>
<a href="#l28.6"></a><span id="l28.6"> </span>
<a href="#l28.7"></a><span id="l28.7"> #XPCSHELL_TESTS = unit</span>
<a href="#l28.8"></a><span id="l28.8"> </span>
<a href="#l28.9"></a><span id="l28.9"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l28.10"></a><span id="l28.10"> </span>
<a href="#l28.11"></a><span id="l28.11"> LOCAL_INCLUDES = \</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-		-I$(topsrcdir)/xpcom/tests \</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+		-I$(MOZILLA_SRCDIR)/xpcom/tests \</span>
<a href="#l28.14"></a><span id="l28.14"> 		-I$(topsrcdir)/mailnews/base/util \</span>
<a href="#l28.15"></a><span id="l28.15"> 		-I$(srcdir)/../src \</span>
<a href="#l28.16"></a><span id="l28.16"> 		$(NULL)</span>
<a href="#l28.17"></a><span id="l28.17"> </span>
<a href="#l28.18"></a><span id="l28.18"> ifndef MOZILLA_INTERNAL_API</span>
<a href="#l28.19"></a><span id="l28.19"> LIBS += $(XPCOM_GLUE_LDOPTS)</span>
<a href="#l28.20"></a><span id="l28.20"> endif</span>
<a href="#l28.21"></a><span id="l28.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mailnews/import/build/Makefile.in</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mailnews/import/build/Makefile.in</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -125,17 +125,17 @@ else</span>
<a href="#l29.4"></a><span id="l29.4"> EXTRA_DSO_LIBS = msgbaseutil</span>
<a href="#l29.5"></a><span id="l29.5"> endif # ifeq</span>
<a href="#l29.6"></a><span id="l29.6"> endif # MOZ_STATIC_MAIL_BUILD</span>
<a href="#l29.7"></a><span id="l29.7"> </span>
<a href="#l29.8"></a><span id="l29.8"> EXTRA_DSO_LDOPTS += \</span>
<a href="#l29.9"></a><span id="l29.9"> 	$(LIBS_DIR) \</span>
<a href="#l29.10"></a><span id="l29.10"> 	$(EXTRA_DSO_LIBS) \</span>
<a href="#l29.11"></a><span id="l29.11"> 	$(MOZ_UNICHARUTIL_LIBS) \</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-	$(DEPTH)/modules/libreg/src/$(LIB_PREFIX)mozreg_s.$(LIB_SUFFIX) \</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+	$(MOZDEPTH)/modules/libreg/src/$(LIB_PREFIX)mozreg_s.$(LIB_SUFFIX) \</span>
<a href="#l29.14"></a><span id="l29.14"> 	$(MOZ_COMPONENT_LIBS) \</span>
<a href="#l29.15"></a><span id="l29.15"> 	$(NULL)</span>
<a href="#l29.16"></a><span id="l29.16"> </span>
<a href="#l29.17"></a><span id="l29.17"> ifneq (,$(filter mac cocoa,$(MOZ_WIDGET_TOOLKIT)))</span>
<a href="#l29.18"></a><span id="l29.18"> EXTRA_DSO_LDOPTS += -framework Cocoa  \</span>
<a href="#l29.19"></a><span id="l29.19"> 										$(TK_LIBS) \</span>
<a href="#l29.20"></a><span id="l29.20"> 										$(NULL)</span>
<a href="#l29.21"></a><span id="l29.21"> endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/mailnews/import/test/unit/head_import.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/mailnews/import/test/unit/head_import.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -1,4 +1,4 @@</span>
<a href="#l30.4"></a><span id="l30.4"> // Set up the profile directory for verifying the success of imports</span>
<a href="#l30.5"></a><span id="l30.5" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l30.6"></a><span id="l30.6" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l30.7"></a><span id="l30.7"> // Import the script with basic import functions</span>
<a href="#l30.8"></a><span id="l30.8" class="difflineminus">-do_import_script(&quot;mailnews/import/test/resources/import_helper.js&quot;);</span>
<a href="#l30.9"></a><span id="l30.9" class="difflineplus">+do_import_script(&quot;../mailnews/import/test/resources/import_helper.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mailnews/import/test/unit/test_bug_437556.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mailnews/import/test/unit/test_bug_437556.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l31.4"></a><span id="l31.4"> /**</span>
<a href="#l31.5"></a><span id="l31.5">  * Test for a regression of bug 437556: mailnews crashes while importing an </span>
<a href="#l31.6"></a><span id="l31.6">  * address book if a field map is required but not set</span>
<a href="#l31.7"></a><span id="l31.7">  */</span>
<a href="#l31.8"></a><span id="l31.8"> function run_test()</span>
<a href="#l31.9"></a><span id="l31.9"> {</span>
<a href="#l31.10"></a><span id="l31.10" class="difflineminus">-  var file = do_get_file(&quot;mailnews/import/test/resources/basic_addressbook.csv&quot;);</span>
<a href="#l31.11"></a><span id="l31.11" class="difflineplus">+  var file = do_get_file(&quot;../mailnews/import/test/resources/basic_addressbook.csv&quot;);</span>
<a href="#l31.12"></a><span id="l31.12">   var errorStr = Cc[&quot;@mozilla.org/supports-string;1&quot;]</span>
<a href="#l31.13"></a><span id="l31.13">                      .createInstance(Ci.nsISupportsString);</span>
<a href="#l31.14"></a><span id="l31.14">   // get the text Address Book import interface and make sure it succeeded</span>
<a href="#l31.15"></a><span id="l31.15">   var abInterface = getImportInterface(&quot;addressbook&quot;, &quot;.csv&quot;);</span>
<a href="#l31.16"></a><span id="l31.16">   do_check_neq(abInterface, null);</span>
<a href="#l31.17"></a><span id="l31.17">   abInterface.SetData(&quot;addressLocation&quot;, file);</span>
<a href="#l31.18"></a><span id="l31.18">   do_check_true(abInterface.WantsProgress());</span>
<a href="#l31.19"></a><span id="l31.19"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mailnews/local/build/Makefile.in</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mailnews/local/build/Makefile.in</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -79,17 +79,17 @@ endif</span>
<a href="#l32.4"></a><span id="l32.4"> CPPSRCS		= nsMsgLocalFactory.cpp</span>
<a href="#l32.5"></a><span id="l32.5"> </span>
<a href="#l32.6"></a><span id="l32.6"> SHARED_LIBRARY_LIBS = \</span>
<a href="#l32.7"></a><span id="l32.7"> 		../src/$(LIB_PREFIX)msglocal_s.$(LIB_SUFFIX) \</span>
<a href="#l32.8"></a><span id="l32.8"> 		$(NULL)</span>
<a href="#l32.9"></a><span id="l32.9"> </span>
<a href="#l32.10"></a><span id="l32.10"> EXTRA_DSO_LDOPTS = \</span>
<a href="#l32.11"></a><span id="l32.11"> 		$(LIBS_DIR) \</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-		$(DEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineplus">+		$(MOZDEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l32.14"></a><span id="l32.14"> 		$(EXTRA_DSO_LIBS) \</span>
<a href="#l32.15"></a><span id="l32.15"> 		$(MOZ_UNICHARUTIL_LIBS) \</span>
<a href="#l32.16"></a><span id="l32.16"> 		$(MOZ_COMPONENT_LIBS) \</span>
<a href="#l32.17"></a><span id="l32.17"> 		$(NULL)</span>
<a href="#l32.18"></a><span id="l32.18"> </span>
<a href="#l32.19"></a><span id="l32.19"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l32.20"></a><span id="l32.20"> </span>
<a href="#l32.21"></a><span id="l32.21"> ifdef MOZ_MOVEMAIL</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/mailnews/local/test/unit/head_maillocal.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/mailnews/local/test/unit/head_maillocal.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l33.4"></a><span id="l33.4"> // Import the main scripts that mailnews tests need to set up and tear down</span>
<a href="#l33.5"></a><span id="l33.5" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l33.6"></a><span id="l33.6" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailTestUtils.js&quot;);</span>
<a href="#l33.7"></a><span id="l33.7" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailDirService.js&quot;);</span>
<a href="#l33.8"></a><span id="l33.8" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailTestUtils.js&quot;);</span>
<a href="#l33.9"></a><span id="l33.9"> </span>
<a href="#l33.10"></a><span id="l33.10"> // Import the pop3 server scripts</span>
<a href="#l33.11"></a><span id="l33.11" class="difflineminus">-do_import_script(&quot;mailnews/test/fakeserver/maild.js&quot;)</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-do_import_script(&quot;mailnews/test/fakeserver/pop3d.js&quot;)</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineplus">+do_import_script(&quot;../mailnews/test/fakeserver/maild.js&quot;)</span>
<a href="#l33.14"></a><span id="l33.14" class="difflineplus">+do_import_script(&quot;../mailnews/test/fakeserver/pop3d.js&quot;)</span>
<a href="#l33.15"></a><span id="l33.15"> </span>
<a href="#l33.16"></a><span id="l33.16"> const POP3_PORT = 1024+110;</span>
<a href="#l33.17"></a><span id="l33.17"> </span>
<a href="#l33.18"></a><span id="l33.18"> // Setup the daemon and server</span>
<a href="#l33.19"></a><span id="l33.19"> function setupServerDaemon() {</span>
<a href="#l33.20"></a><span id="l33.20">   var daemon = new pop3Daemon();</span>
<a href="#l33.21"></a><span id="l33.21">   var handler = new POP3_RFC1939_handler(daemon);</span>
<a href="#l33.22"></a><span id="l33.22">   var server = new nsMailServer(handler);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/mailnews/news/build/Makefile.in</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/mailnews/news/build/Makefile.in</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -82,17 +82,17 @@ ifeq ($(USE_SHORT_LIBNAME),1)</span>
<a href="#l34.4"></a><span id="l34.4"> EXTRA_DSO_LIBS += msgbsutl</span>
<a href="#l34.5"></a><span id="l34.5"> else</span>
<a href="#l34.6"></a><span id="l34.6"> EXTRA_DSO_LIBS += msgbaseutil</span>
<a href="#l34.7"></a><span id="l34.7"> endif</span>
<a href="#l34.8"></a><span id="l34.8"> </span>
<a href="#l34.9"></a><span id="l34.9"> EXTRA_DSO_LDOPTS = \</span>
<a href="#l34.10"></a><span id="l34.10"> 		-L$(DIST)/bin \</span>
<a href="#l34.11"></a><span id="l34.11"> 		-L$(DIST)/lib \</span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-		$(DEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineplus">+		$(MOZDEPTH)/rdf/util/src/internal/$(LIB_PREFIX)rdfutil_s.$(LIB_SUFFIX) \</span>
<a href="#l34.14"></a><span id="l34.14"> 		$(EXTRA_DSO_LIBS) \</span>
<a href="#l34.15"></a><span id="l34.15"> 		$(MOZ_JS_LIBS) \</span>
<a href="#l34.16"></a><span id="l34.16"> 		$(MOZ_COMPONENT_LIBS) \</span>
<a href="#l34.17"></a><span id="l34.17"> 		$(MOZ_UNICHARUTIL_LIBS) \</span>
<a href="#l34.18"></a><span id="l34.18"> 		$(NULL)</span>
<a href="#l34.19"></a><span id="l34.19"> </span>
<a href="#l34.20"></a><span id="l34.20"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l34.21"></a><span id="l34.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/mailnews/news/test/unit/head_server_setup.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/mailnews/news/test/unit/head_server_setup.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l35.4"></a><span id="l35.4"> // Import the servers</span>
<a href="#l35.5"></a><span id="l35.5" class="difflineminus">-do_import_script(&quot;mailnews/test/fakeserver/maild.js&quot;)</span>
<a href="#l35.6"></a><span id="l35.6" class="difflineminus">-do_import_script(&quot;mailnews/test/fakeserver/nntpd.js&quot;)</span>
<a href="#l35.7"></a><span id="l35.7" class="difflineplus">+do_import_script(&quot;../mailnews/test/fakeserver/maild.js&quot;)</span>
<a href="#l35.8"></a><span id="l35.8" class="difflineplus">+do_import_script(&quot;../mailnews/test/fakeserver/nntpd.js&quot;)</span>
<a href="#l35.9"></a><span id="l35.9"> </span>
<a href="#l35.10"></a><span id="l35.10"> // Generic mailnews resource scripts</span>
<a href="#l35.11"></a><span id="l35.11" class="difflineminus">-do_import_script(&quot;mailnews/test/resources/mailDirService.js&quot;)</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineplus">+do_import_script(&quot;../mailnews/test/resources/mailDirService.js&quot;)</span>
<a href="#l35.13"></a><span id="l35.13"> </span>
<a href="#l35.14"></a><span id="l35.14"> // The groups to set up on the fake server.</span>
<a href="#l35.15"></a><span id="l35.15"> // It is an array of tuples, where the first element is the group name and the</span>
<a href="#l35.16"></a><span id="l35.16"> // second element is whether or not we should subscribe to it.</span>
<a href="#l35.17"></a><span id="l35.17"> var groups = [</span>
<a href="#l35.18"></a><span id="l35.18">   [&quot;test.empty&quot;, false],</span>
<a href="#l35.19"></a><span id="l35.19">   [&quot;test.subscribe.empty&quot;, true],</span>
<a href="#l35.20"></a><span id="l35.20">   [&quot;test.subscribe.simple&quot;, true]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/mailnews/news/test/unit/test_server.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_server.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -96,17 +96,17 @@ function testRFC977() {</span>
<a href="#l36.4"></a><span id="l36.4">     server.performTest();</span>
<a href="#l36.5"></a><span id="l36.5">     transaction = server.playTransaction();</span>
<a href="#l36.6"></a><span id="l36.6">     do_check_transaction(transaction, [&quot;MODE READER&quot;,</span>
<a href="#l36.7"></a><span id="l36.7">         &quot;LISTGROUP test.subscribe.empty&quot;]);*/</span>
<a href="#l36.8"></a><span id="l36.8"> </span>
<a href="#l36.9"></a><span id="l36.9">     // Test - posting</span>
<a href="#l36.10"></a><span id="l36.10">     test = &quot;news with post&quot;;</span>
<a href="#l36.11"></a><span id="l36.11">     server.resetTest();</span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-    var url = create_post(prefix, &quot;mailnews/news/test/postings/post1.eml&quot;);</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineplus">+    var url = create_post(prefix, &quot;../mailnews/news/test/postings/post1.eml&quot;);</span>
<a href="#l36.14"></a><span id="l36.14">     setupProtocolTest(NNTP_PORT, url);</span>
<a href="#l36.15"></a><span id="l36.15">     server.performTest();</span>
<a href="#l36.16"></a><span id="l36.16">     transaction = server.playTransaction();</span>
<a href="#l36.17"></a><span id="l36.17">     do_check_transaction(transaction, [&quot;MODE READER&quot;, &quot;POST&quot;]);</span>
<a href="#l36.18"></a><span id="l36.18">   } catch (e) {</span>
<a href="#l36.19"></a><span id="l36.19">     dump(&quot;NNTP Protocol test &quot;+test+&quot; failed for type RFC 977:\n&quot;);</span>
<a href="#l36.20"></a><span id="l36.20">     try {</span>
<a href="#l36.21"></a><span id="l36.21">       var trans = server.playTransaction();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mailnews/test/fakeserver/pop3d.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mailnews/test/fakeserver/pop3d.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l37.4"></a><span id="l37.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l37.5"></a><span id="l37.5"> // This file implements test POP3 servers</span>
<a href="#l37.6"></a><span id="l37.6"> </span>
<a href="#l37.7"></a><span id="l37.7"> function readFile(fileName) {</span>
<a href="#l37.8"></a><span id="l37.8" class="difflineminus">-  var file = do_get_file(&quot;mailnews/local/test/unit/data/&quot; + fileName);</span>
<a href="#l37.9"></a><span id="l37.9" class="difflineplus">+  var file = do_get_file(&quot;../mailnews/local/test/unit/data/&quot; + fileName);</span>
<a href="#l37.10"></a><span id="l37.10"> </span>
<a href="#l37.11"></a><span id="l37.11">   // If these fail, there is a problem with the test</span>
<a href="#l37.12"></a><span id="l37.12">   do_check_neq(file, null);</span>
<a href="#l37.13"></a><span id="l37.13">   do_check_true(file.exists());</span>
<a href="#l37.14"></a><span id="l37.14"> </span>
<a href="#l37.15"></a><span id="l37.15">   var ioService = Cc[&quot;@mozilla.org/network/io-service;1&quot;]</span>
<a href="#l37.16"></a><span id="l37.16">                     .getService(Ci.nsIIOService);</span>
<a href="#l37.17"></a><span id="l37.17"> </span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

