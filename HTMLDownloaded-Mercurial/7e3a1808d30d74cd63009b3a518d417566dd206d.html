<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 26632:7e3a1808d30d74cd63009b3a518d417566dd206d</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 7e3a1808d30d74cd63009b3a518d417566dd206d" />
<meta property="og:url" content="/comm-central/rev/7e3a1808d30d74cd63009b3a518d417566dd206d" />
<meta property="og:description" content="Bug 1546338 - Port [Bug 1551320 - In XUL documents replace all callers of createElement with createXULElement]. r=jorgk" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 7e3a1808d30d74cd63009b3a518d417566dd206d 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/7e3a1808d30d74cd63009b3a518d417566dd206d">shortlog</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/7e3a1808d30d74cd63009b3a518d417566dd206d">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d">files</a> |
changeset |
<a href="/comm-central/raw-rev/7e3a1808d30d74cd63009b3a518d417566dd206d">raw</a>  | <a href="/comm-central/archive/7e3a1808d30d74cd63009b3a518d417566dd206d.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1546338">Bug 1546338</a> - Port [<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1551320">Bug 1551320</a> - In XUL documents replace all callers of createElement with createXULElement]. r=jorgk
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#77;&#97;&#103;&#110;&#117;&#115;&#32;&#77;&#101;&#108;&#105;&#110;&#32;&#60;&#109;&#107;&#109;&#101;&#108;&#105;&#110;&#43;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#105;&#107;&#105;&#46;&#102;&#105;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 16 May 2019 15:21:51 +0300</td></tr>

<tr>
 <td>changeset 26632</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/7e3a1808d30d74cd63009b3a518d417566dd206d">7e3a1808d30d74cd63009b3a518d417566dd206d</a></td>
</tr>



<tr>
<td>parent 26631</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/88f230af325e08d0a148c8c04fb691c92b58e600">88f230af325e08d0a148c8c04fb691c92b58e600</a>
</td>
</tr>

<tr>
<td>child 26633</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/8e708fca38cc203419b6b41158bf6c2b32e64ba1">8e708fca38cc203419b6b41158bf6c2b32e64ba1</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=7e3a1808d30d74cd63009b3a518d417566dd206d">15930</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Fri, 17 May 2019 16:33:06 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@7e3a1808d30d [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=7e3a1808d30d74cd63009b3a518d417566dd206d">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=7e3a1808d30d74cd63009b3a518d417566dd206d&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=7e3a1808d30d74cd63009b3a518d417566dd206d&newProject=comm-central&newRevision=7e3a1808d30d74cd63009b3a518d417566dd206d&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=7e3a1808d30d74cd63009b3a518d417566dd206d&newProject=comm-central&newRevision=7e3a1808d30d74cd63009b3a518d417566dd206d&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=7e3a1808d30d74cd63009b3a518d417566dd206d&newProject=comm-central&newRevision=7e3a1808d30d74cd63009b3a518d417566dd206d&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28jorgk%29&revcount=50">jorgk</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1546338">1546338</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1551320">1551320</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1546338">Bug 1546338</a> - Port [<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1551320">Bug 1551320</a> - In XUL documents replace all callers of createElement with createXULElement]. r=jorgk

find . -type f -not -path &quot;*.hg/*&quot; -not -path &quot;*suite/*&quot; -not -path &quot;./chat/protocols/matrix/matrix-sdk/*&quot;
 -not -path &quot;./mail/components/about-support/*&quot; -not -path &quot;./mail/components/newmailaccount/content/*&quot;
 -not -path &quot;./mailnews/extensions/newsblog/content/*&quot; -not -path &quot;./mailnews/extensions/newsblog/content/*&quot;
 -name '*.js' -exec sed -r -i
 '/React.|(&quot;(iframe|div|hr|img|title|a|li|ol|ul|h2|h3|facet-result-message|facet-boolean|facet-boolean-filtered|
  facet-discrete|select|option|canvas|strong|td|tr|tbody|pre|span|head|meta|map|area|table|caption|p|br|b))&quot;/!
  s/createElement[(]/createXULElement(/g' {} \;</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox-utils.js">calendar/base/content/agenda-listbox-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox-utils.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox-utils.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox-utils.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox-utils.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox.js">calendar/base/content/agenda-listbox.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/agenda-listbox.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-base-view.js">calendar/base/content/calendar-base-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-base-view.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-base-view.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-base-view.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-base-view.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-base-view.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-event-gripbar.js">calendar/base/content/calendar-event-gripbar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-event-gripbar.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-event-gripbar.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-event-gripbar.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-event-gripbar.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-event-gripbar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-task-view.js">calendar/base/content/calendar-task-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-task-view.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-task-view.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-task-view.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-task-view.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-task-view.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-ui-utils.js">calendar/base/content/calendar-ui-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-ui-utils.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-ui-utils.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-ui-utils.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-ui-utils.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/calendar-ui-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-alarm-dialog.js">calendar/base/content/dialogs/calendar-alarm-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-alarm-dialog.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-alarm-dialog.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-alarm-dialog.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-alarm-dialog.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-alarm-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-event-dialog-attendees-custom-elements.js">calendar/base/content/dialogs/calendar-event-dialog-attendees-custom-elements.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-event-dialog-attendees-custom-elements.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-event-dialog-attendees-custom-elements.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-event-dialog-attendees-custom-elements.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-event-dialog-attendees-custom-elements.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-event-dialog-attendees-custom-elements.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-migration-dialog.js">calendar/base/content/dialogs/calendar-migration-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-migration-dialog.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-migration-dialog.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-migration-dialog.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-migration-dialog.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/calendar-migration-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/chooseCalendarDialog.js">calendar/base/content/dialogs/chooseCalendarDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/chooseCalendarDialog.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/chooseCalendarDialog.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/chooseCalendarDialog.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/chooseCalendarDialog.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/dialogs/chooseCalendarDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/preferences/categories.js">calendar/base/content/preferences/categories.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/preferences/categories.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/preferences/categories.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/preferences/categories.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/preferences/categories.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/base/content/preferences/categories.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/lightning/content/lightning-item-iframe.js">calendar/lightning/content/lightning-item-iframe.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/lightning/content/lightning-item-iframe.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/lightning/content/lightning-item-iframe.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/lightning/content/lightning-item-iframe.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/lightning/content/lightning-item-iframe.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/lightning/content/lightning-item-iframe.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-calendar-creation.js">calendar/providers/gdata/content/gdata-calendar-creation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-calendar-creation.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-calendar-creation.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-calendar-creation.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-calendar-creation.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-calendar-creation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-event-dialog.js">calendar/providers/gdata/content/gdata-event-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-event-dialog.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-event-dialog.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-event-dialog.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-event-dialog.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-event-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-migration.js">calendar/providers/gdata/content/gdata-migration.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-migration.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-migration.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-migration.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-migration.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/providers/gdata/content/gdata-migration.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/datetimepickers/datetimepickers.js">calendar/resources/content/datetimepickers/datetimepickers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/datetimepickers/datetimepickers.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/datetimepickers/datetimepickers.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/datetimepickers/datetimepickers.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/datetimepickers/datetimepickers.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/datetimepickers/datetimepickers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/mouseoverPreviews.js">calendar/resources/content/mouseoverPreviews.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/mouseoverPreviews.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/mouseoverPreviews.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/mouseoverPreviews.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/mouseoverPreviews.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/calendar/resources/content/mouseoverPreviews.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/conversation-browser.js">chat/content/conversation-browser.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/conversation-browser.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/conversation-browser.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/conversation-browser.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/conversation-browser.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/conversation-browser.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/imAccountOptionsHelper.js">chat/content/imAccountOptionsHelper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/imAccountOptionsHelper.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/imAccountOptionsHelper.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/imAccountOptionsHelper.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/imAccountOptionsHelper.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/chat/content/imAccountOptionsHelper.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/browser-development-helpers.js">common/src/browser-development-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/browser-development-helpers.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/browser-development-helpers.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/browser-development-helpers.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/browser-development-helpers.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/browser-development-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/viewSource.js">common/src/viewSource.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/viewSource.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/viewSource.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/viewSource.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/viewSource.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/common/src/viewSource.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/StructBarContextMenu.js">editor/ui/composer/content/StructBarContextMenu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/StructBarContextMenu.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/StructBarContextMenu.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/StructBarContextMenu.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/StructBarContextMenu.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/StructBarContextMenu.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/editingOverlay.js">editor/ui/composer/content/editingOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/editingOverlay.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/editingOverlay.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/editingOverlay.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/editingOverlay.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/composer/content/editingOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/dialogs/content/EdDialogCommon.js">editor/ui/dialogs/content/EdDialogCommon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/dialogs/content/EdDialogCommon.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/dialogs/content/EdDialogCommon.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/dialogs/content/EdDialogCommon.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/dialogs/content/EdDialogCommon.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/editor/ui/dialogs/content/EdDialogCommon.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/FilterListDialog.js">mail/base/content/FilterListDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/FilterListDialog.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/FilterListDialog.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/FilterListDialog.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/FilterListDialog.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/FilterListDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/aboutAddonsExtra.js">mail/base/content/aboutAddonsExtra.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/aboutAddonsExtra.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/aboutAddonsExtra.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/aboutAddonsExtra.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/aboutAddonsExtra.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/aboutAddonsExtra.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/folderPane.js">mail/base/content/folderPane.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/folderPane.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/folderPane.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/folderPane.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/folderPane.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/folderPane.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/foldersummary.js">mail/base/content/foldersummary.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/foldersummary.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/foldersummary.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/foldersummary.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/foldersummary.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/foldersummary.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/glodaFacet.js">mail/base/content/glodaFacet.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/glodaFacet.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/glodaFacet.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/glodaFacet.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/glodaFacet.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/glodaFacet.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailCore.js">mail/base/content/mailCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailCore.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailCore.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailCore.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailCore.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailCore.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWidgets.js">mail/base/content/mailWidgets.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWidgets.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWidgets.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWidgets.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWidgets.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWidgets.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWindowOverlay.js">mail/base/content/mailWindowOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWindowOverlay.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWindowOverlay.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWindowOverlay.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWindowOverlay.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/mailWindowOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/msgHdrView.js">mail/base/content/msgHdrView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/msgHdrView.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/msgHdrView.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/msgHdrView.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/msgHdrView.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/msgHdrView.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/specialTabs.js">mail/base/content/specialTabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/specialTabs.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/specialTabs.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/specialTabs.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/specialTabs.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/specialTabs.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/statuspanel.js">mail/base/content/statuspanel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/statuspanel.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/statuspanel.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/statuspanel.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/statuspanel.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/base/content/statuspanel.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/accountcreation/content/emailWizard.js">mail/components/accountcreation/content/emailWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/accountcreation/content/emailWizard.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/accountcreation/content/emailWizard.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/accountcreation/content/emailWizard.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/accountcreation/content/emailWizard.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/accountcreation/content/emailWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/activity/content/activity.js">mail/components/activity/content/activity.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/activity/content/activity.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/activity/content/activity.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/activity/content/activity.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/activity/content/activity.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/activity/content/activity.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCard.js">mail/components/addrbook/content/abCard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCard.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCard.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCard.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCard.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCardView.js">mail/components/addrbook/content/abCardView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCardView.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCardView.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCardView.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCardView.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/abCardView.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/menulist-addrbooks.js">mail/components/addrbook/content/menulist-addrbooks.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/menulist-addrbooks.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/menulist-addrbooks.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/menulist-addrbooks.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/menulist-addrbooks.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/addrbook/content/menulist-addrbooks.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/MsgComposeCommands.js">mail/components/compose/content/MsgComposeCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/MsgComposeCommands.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/MsgComposeCommands.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/MsgComposeCommands.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/MsgComposeCommands.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/MsgComposeCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/addressingWidgetOverlay.js">mail/components/compose/content/addressingWidgetOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/addressingWidgetOverlay.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/addressingWidgetOverlay.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/addressingWidgetOverlay.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/addressingWidgetOverlay.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/compose/content/addressingWidgetOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/downloads/content/aboutDownloads.js">mail/components/downloads/content/aboutDownloads.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/downloads/content/aboutDownloads.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/downloads/content/aboutDownloads.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/downloads/content/aboutDownloads.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/downloads/content/aboutDownloads.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/downloads/content/aboutDownloads.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-group.js">mail/components/im/content/chat-group.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-group.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-group.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-group.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-group.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-group.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-messenger.js">mail/components/im/content/chat-messenger.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-messenger.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-messenger.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-messenger.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-messenger.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/chat-messenger.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccountWizard.js">mail/components/im/content/imAccountWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccountWizard.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccountWizard.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccountWizard.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccountWizard.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccountWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccounts.js">mail/components/im/content/imAccounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccounts.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccounts.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccounts.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccounts.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imAccounts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imContextMenu.js">mail/components/im/content/imContextMenu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imContextMenu.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imContextMenu.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imContextMenu.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imContextMenu.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/imContextMenu.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/joinchat.js">mail/components/im/content/joinchat.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/joinchat.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/joinchat.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/joinchat.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/joinchat.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/im/content/joinchat.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/migration/content/migration.js">mail/components/migration/content/migration.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/migration/content/migration.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/migration/content/migration.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/migration/content/migration.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/migration/content/migration.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/migration/content/migration.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/advanced.js">mail/components/preferences/advanced.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/advanced.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/advanced.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/advanced.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/advanced.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/advanced.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applicationManager.js">mail/components/preferences/applicationManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applicationManager.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applicationManager.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applicationManager.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applicationManager.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applicationManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applications.js">mail/components/preferences/applications.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applications.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applications.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applications.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applications.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/applications.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/chat.js">mail/components/preferences/chat.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/chat.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/chat.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/chat.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/chat.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/chat.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messagestyle.js">mail/components/preferences/messagestyle.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messagestyle.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messagestyle.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messagestyle.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messagestyle.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messagestyle.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messengerLanguages.js">mail/components/preferences/messengerLanguages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messengerLanguages.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messengerLanguages.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messengerLanguages.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messengerLanguages.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/messengerLanguages.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/preferences.js">mail/components/preferences/preferences.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/preferences.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/preferences.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/preferences.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/preferences.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/preferences.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/sendoptions.js">mail/components/preferences/sendoptions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/sendoptions.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/sendoptions.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/sendoptions.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/sendoptions.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/components/preferences/sendoptions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/extensions/mailviews/content/msgViewPickerOverlay.js">mail/extensions/mailviews/content/msgViewPickerOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/extensions/mailviews/content/msgViewPickerOverlay.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/extensions/mailviews/content/msgViewPickerOverlay.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/extensions/mailviews/content/msgViewPickerOverlay.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/extensions/mailviews/content/msgViewPickerOverlay.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mail/extensions/mailviews/content/msgViewPickerOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/content/map-list.js">mailnews/addrbook/content/map-list.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/content/map-list.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/content/map-list.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/content/map-list.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/content/map-list.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/content/map-list.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/prefs/content/pref-editdirectories.js">mailnews/addrbook/prefs/content/pref-editdirectories.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/prefs/content/pref-editdirectories.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/prefs/content/pref-editdirectories.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/prefs/content/pref-editdirectories.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/prefs/content/pref-editdirectories.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/addrbook/prefs/content/pref-editdirectories.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/menulist-charsetpicker.js">mailnews/base/content/menulist-charsetpicker.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/menulist-charsetpicker.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/menulist-charsetpicker.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/menulist-charsetpicker.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/menulist-charsetpicker.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/menulist-charsetpicker.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/msgPrintEngine.js">mailnews/base/content/msgPrintEngine.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/msgPrintEngine.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/msgPrintEngine.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/msgPrintEngine.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/msgPrintEngine.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/content/msgPrintEngine.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/AccountManager.js">mailnews/base/prefs/content/AccountManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/AccountManager.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/AccountManager.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/AccountManager.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/AccountManager.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/AccountManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-identities-list.js">mailnews/base/prefs/content/am-identities-list.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-identities-list.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-identities-list.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-identities-list.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-identities-list.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-identities-list.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-junk.js">mailnews/base/prefs/content/am-junk.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-junk.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-junk.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-junk.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-junk.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-junk.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-smtp.js">mailnews/base/prefs/content/am-smtp.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-smtp.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-smtp.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-smtp.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-smtp.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/prefs/content/am-smtp.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/FilterEditor.js">mailnews/base/search/content/FilterEditor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/FilterEditor.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/FilterEditor.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/FilterEditor.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/FilterEditor.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/FilterEditor.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchTerm.js">mailnews/base/search/content/searchTerm.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchTerm.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchTerm.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchTerm.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchTerm.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchTerm.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchWidgets.js">mailnews/base/search/content/searchWidgets.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchWidgets.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchWidgets.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchWidgets.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchWidgets.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/search/content/searchWidgets.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/util/JXON.js">mailnews/base/util/JXON.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/util/JXON.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/util/JXON.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/util/JXON.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/util/JXON.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/base/util/JXON.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/db/gloda/content/autocomplete-richlistitem.js">mailnews/db/gloda/content/autocomplete-richlistitem.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/db/gloda/content/autocomplete-richlistitem.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/db/gloda/content/autocomplete-richlistitem.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/db/gloda/content/autocomplete-richlistitem.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/db/gloda/content/autocomplete-richlistitem.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/db/gloda/content/autocomplete-richlistitem.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/certpicker.js">mailnews/extensions/smime/content/certpicker.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/certpicker.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/certpicker.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/certpicker.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/certpicker.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/certpicker.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/msgCompSecurityInfo.js">mailnews/extensions/smime/content/msgCompSecurityInfo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/msgCompSecurityInfo.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/msgCompSecurityInfo.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/msgCompSecurityInfo.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/msgCompSecurityInfo.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/extensions/smime/content/msgCompSecurityInfo.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/fieldMapImport.js">mailnews/import/content/fieldMapImport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/fieldMapImport.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/fieldMapImport.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/fieldMapImport.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/fieldMapImport.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/fieldMapImport.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/importDialog.js">mailnews/import/content/importDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/importDialog.js">file</a> |
<a href="/comm-central/annotate/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/importDialog.js">annotate</a> |
<a href="/comm-central/diff/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/importDialog.js">diff</a> |
<a href="/comm-central/comparison/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/importDialog.js">comparison</a> |
<a href="/comm-central/log/7e3a1808d30d74cd63009b3a518d417566dd206d/mailnews/import/content/importDialog.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/agenda-listbox-utils.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/agenda-listbox-utils.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -282,19 +282,19 @@ agendaListbox.getEnd = function() {</span>
<a href="#l1.4"></a><span id="l1.4">  * @param aAgendaItem   The existing item to insert before.</span>
<a href="#l1.5"></a><span id="l1.5">  * @param aPeriod       The period to add the item to.</span>
<a href="#l1.6"></a><span id="l1.6">  * @param visible       If true, the item should be visible.</span>
<a href="#l1.7"></a><span id="l1.7">  * @return              The newly created XUL element.</span>
<a href="#l1.8"></a><span id="l1.8">  */</span>
<a href="#l1.9"></a><span id="l1.9"> agendaListbox.addItemBefore = function(aNewItem, aAgendaItem, aPeriod, visible) {</span>
<a href="#l1.10"></a><span id="l1.10">     let newelement = null;</span>
<a href="#l1.11"></a><span id="l1.11">     if (aNewItem.startDate.isDate) {</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-        newelement = document.createElement(&quot;richlistitem&quot;, { is: &quot;agenda-allday-richlist-item&quot; });</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+        newelement = document.createXULElement(&quot;richlistitem&quot;, { is: &quot;agenda-allday-richlist-item&quot; });</span>
<a href="#l1.14"></a><span id="l1.14">     } else {</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-        newelement = document.createElement(&quot;richlistitem&quot;, { is: &quot;agenda-richlist-item&quot; });</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+        newelement = document.createXULElement(&quot;richlistitem&quot;, { is: &quot;agenda-richlist-item&quot; });</span>
<a href="#l1.17"></a><span id="l1.17">     }</span>
<a href="#l1.18"></a><span id="l1.18">     // set the item at the richlistItem. When the duration of the period</span>
<a href="#l1.19"></a><span id="l1.19">     // is bigger than 1 (day) the starttime of the item has to include</span>
<a href="#l1.20"></a><span id="l1.20">     // information about the day of the item</span>
<a href="#l1.21"></a><span id="l1.21">     if (aAgendaItem == null) {</span>
<a href="#l1.22"></a><span id="l1.22">         this.agendaListboxControl.appendChild(newelement);</span>
<a href="#l1.23"></a><span id="l1.23">     } else {</span>
<a href="#l1.24"></a><span id="l1.24">         this.agendaListboxControl.insertBefore(newelement, aAgendaItem);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/agenda-listbox.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/agenda-listbox.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -17,17 +17,17 @@</span>
<a href="#l2.4"></a><span id="l2.4">         static get inheritedAttributes() {</span>
<a href="#l2.5"></a><span id="l2.5">             return { &quot;.agenda-checkbox&quot;: &quot;selected,label,hidden,disabled&quot; };</span>
<a href="#l2.6"></a><span id="l2.6">         }</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8">         connectedCallback() {</span>
<a href="#l2.9"></a><span id="l2.9">             if (this.delayConnectedCallback() || this.hasChildNodes()) {</span>
<a href="#l2.10"></a><span id="l2.10">                 return;</span>
<a href="#l2.11"></a><span id="l2.11">             }</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-            this.kCheckbox = document.createElement(&quot;checkbox&quot;);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+            this.kCheckbox = document.createXULElement(&quot;checkbox&quot;);</span>
<a href="#l2.14"></a><span id="l2.14">             this.kCheckbox.classList.add(&quot;agenda-checkbox&quot;, &quot;treenode-checkbox&quot;);</span>
<a href="#l2.15"></a><span id="l2.15">             this.appendChild(this.kCheckbox);</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17">             this.dispatchEvent(new CustomEvent(&quot;bindingattached&quot;, { bubbles: false }));</span>
<a href="#l2.18"></a><span id="l2.18">             this.initializeAttributeInheritance();</span>
<a href="#l2.19"></a><span id="l2.19">         }</span>
<a href="#l2.20"></a><span id="l2.20"> </span>
<a href="#l2.21"></a><span id="l2.21">         getItem() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/calendar-base-view.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/calendar-base-view.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -12,20 +12,20 @@ class MozCalendarDayLabel extends MozXUL</span>
<a href="#l3.4"></a><span id="l3.4">     connectedCallback() {</span>
<a href="#l3.5"></a><span id="l3.5">         if (this.delayConnectedCallback()) {</span>
<a href="#l3.6"></a><span id="l3.6">             return;</span>
<a href="#l3.7"></a><span id="l3.7">         }</span>
<a href="#l3.8"></a><span id="l3.8">         this.textContent = &quot;&quot;;</span>
<a href="#l3.9"></a><span id="l3.9">         this.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l3.10"></a><span id="l3.10">         this.setAttribute(&quot;pack&quot;, &quot;center&quot;);</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-        this.longWeekdayName = document.createElement(&quot;label&quot;);</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+        this.longWeekdayName = document.createXULElement(&quot;label&quot;);</span>
<a href="#l3.14"></a><span id="l3.14">         this.longWeekdayName.classList.add(&quot;calendar-day-label-name&quot;);</span>
<a href="#l3.15"></a><span id="l3.15"> </span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-        this.shortWeekdayName = document.createElement(&quot;label&quot;);</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+        this.shortWeekdayName = document.createXULElement(&quot;label&quot;);</span>
<a href="#l3.18"></a><span id="l3.18">         this.shortWeekdayName.classList.add(&quot;calendar-day-label-name&quot;);</span>
<a href="#l3.19"></a><span id="l3.19">         this.shortWeekdayName.setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l3.20"></a><span id="l3.20"> </span>
<a href="#l3.21"></a><span id="l3.21">         this.appendChild(this.longWeekdayName);</span>
<a href="#l3.22"></a><span id="l3.22">         this.appendChild(this.shortWeekdayName);</span>
<a href="#l3.23"></a><span id="l3.23"> </span>
<a href="#l3.24"></a><span id="l3.24">         this.mWeekday = -1;</span>
<a href="#l3.25"></a><span id="l3.25"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/calendar-event-gripbar.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/calendar-event-gripbar.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -36,17 +36,17 @@ class MozCalendarEventGripbar extends Mo</span>
<a href="#l4.4"></a><span id="l4.4">             }</span>
<a href="#l4.5"></a><span id="l4.5">             // parent event-column has event listner for click so</span>
<a href="#l4.6"></a><span id="l4.6">             // stopPropagation() is called.</span>
<a href="#l4.7"></a><span id="l4.7">             event.stopPropagation();</span>
<a href="#l4.8"></a><span id="l4.8">         });</span>
<a href="#l4.9"></a><span id="l4.9">     }</span>
<a href="#l4.10"></a><span id="l4.10"> </span>
<a href="#l4.11"></a><span id="l4.11">     connectedCallback() {</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-        this._image = document.createElement(&quot;image&quot;);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+        this._image = document.createXULElement(&quot;image&quot;);</span>
<a href="#l4.14"></a><span id="l4.14">         this._image.setAttribute(&quot;pack&quot;, &quot;center&quot;);</span>
<a href="#l4.15"></a><span id="l4.15"> </span>
<a href="#l4.16"></a><span id="l4.16">         this.appendChild(this._image);</span>
<a href="#l4.17"></a><span id="l4.17"> </span>
<a href="#l4.18"></a><span id="l4.18">         this.parentorient = this.getAttribute(&quot;parentorient&quot;);</span>
<a href="#l4.19"></a><span id="l4.19">     }</span>
<a href="#l4.20"></a><span id="l4.20"> </span>
<a href="#l4.21"></a><span id="l4.21">     /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/calendar-task-view.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-view.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -175,27 +175,27 @@ var taskDetailsView = {</span>
<a href="#l5.4"></a><span id="l5.4">         cal.l10n.sortArrayByLocaleCollator(categoryList);</span>
<a href="#l5.5"></a><span id="l5.5"> </span>
<a href="#l5.6"></a><span id="l5.6">         let maxCount = item.calendar.getProperty(&quot;capabilities.categories.maxCount&quot;);</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8">         while (categoryPopup.childElementCount &gt; 2) {</span>
<a href="#l5.9"></a><span id="l5.9">             categoryPopup.lastElementChild.remove();</span>
<a href="#l5.10"></a><span id="l5.10">         }</span>
<a href="#l5.11"></a><span id="l5.11">         if (maxCount == 1) {</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-            let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+            let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l5.14"></a><span id="l5.14">             menuitem.setAttribute(&quot;class&quot;, &quot;menuitem-iconic&quot;);</span>
<a href="#l5.15"></a><span id="l5.15">             menuitem.setAttribute(&quot;label&quot;, cal.l10n.getCalString(&quot;None&quot;));</span>
<a href="#l5.16"></a><span id="l5.16">             menuitem.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l5.17"></a><span id="l5.17">             if (itemCategories.length === 0) {</span>
<a href="#l5.18"></a><span id="l5.18">                 menuitem.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l5.19"></a><span id="l5.19">             }</span>
<a href="#l5.20"></a><span id="l5.20">             categoryPopup.appendChild(menuitem);</span>
<a href="#l5.21"></a><span id="l5.21">         }</span>
<a href="#l5.22"></a><span id="l5.22">         for (let cat of categoryList) {</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineminus">-            let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineplus">+            let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l5.25"></a><span id="l5.25">             menuitem.setAttribute(&quot;class&quot;, &quot;menuitem-iconic calendar-category&quot;);</span>
<a href="#l5.26"></a><span id="l5.26">             menuitem.setAttribute(&quot;label&quot;, cat);</span>
<a href="#l5.27"></a><span id="l5.27">             menuitem.setAttribute(&quot;value&quot;, cat);</span>
<a href="#l5.28"></a><span id="l5.28">             menuitem.setAttribute(&quot;type&quot;, (maxCount === null || maxCount &gt; 1) ? &quot;checkbox&quot; : &quot;radio&quot;);</span>
<a href="#l5.29"></a><span id="l5.29">             if (itemCategories.includes(cat)) {</span>
<a href="#l5.30"></a><span id="l5.30">                 menuitem.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l5.31"></a><span id="l5.31">             }</span>
<a href="#l5.32"></a><span id="l5.32">             categoryPopup.appendChild(menuitem);</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineat">@@ -286,17 +286,17 @@ var taskDetailsView = {</span>
<a href="#l5.34"></a><span id="l5.34">         } else {</span>
<a href="#l5.35"></a><span id="l5.35">             let localeCollator = cal.l10n.createLocaleCollator();</span>
<a href="#l5.36"></a><span id="l5.36">             let compare = localeCollator.compareString.bind(localeCollator, 0);</span>
<a href="#l5.37"></a><span id="l5.37">             newIndex = cal.data.binaryInsert(categories, category, compare, true);</span>
<a href="#l5.38"></a><span id="l5.38"> </span>
<a href="#l5.39"></a><span id="l5.39">             let item = document.getElementById(&quot;calendar-task-tree&quot;).currentTask;</span>
<a href="#l5.40"></a><span id="l5.40">             let maxCount = item.calendar.getProperty(&quot;capabilities.categories.maxCount&quot;);</span>
<a href="#l5.41"></a><span id="l5.41"> </span>
<a href="#l5.42"></a><span id="l5.42" class="difflineminus">-            let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+            let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l5.44"></a><span id="l5.44">             menuitem.setAttribute(&quot;class&quot;, &quot;menuitem-iconic calendar-category&quot;);</span>
<a href="#l5.45"></a><span id="l5.45">             menuitem.setAttribute(&quot;label&quot;, category);</span>
<a href="#l5.46"></a><span id="l5.46">             menuitem.setAttribute(&quot;value&quot;, category);</span>
<a href="#l5.47"></a><span id="l5.47">             menuitem.setAttribute(&quot;type&quot;, (maxCount === null || maxCount &gt; 1) ? &quot;checkbox&quot; : &quot;radio&quot;);</span>
<a href="#l5.48"></a><span id="l5.48">             menuitem.setAttribute(&quot;checked&quot;, true);</span>
<a href="#l5.49"></a><span id="l5.49">             categoryPopup.insertBefore(menuitem, categoryList[newIndex]);</span>
<a href="#l5.50"></a><span id="l5.50"> </span>
<a href="#l5.51"></a><span id="l5.51">             modified = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -720,17 +720,17 @@ function setupAttendanceMenu(aMenu, aIte</span>
<a href="#l6.4"></a><span id="l6.4">                     switch (item.nodeName) {</span>
<a href="#l6.5"></a><span id="l6.5">                         case &quot;menu&quot;: {</span>
<a href="#l6.6"></a><span id="l6.6">                             // Since menu elements cannot have checkmarks,</span>
<a href="#l6.7"></a><span id="l6.7">                             // we add a menuitem for this partstat and hide</span>
<a href="#l6.8"></a><span id="l6.8">                             // the menu element instead</span>
<a href="#l6.9"></a><span id="l6.9">                             let checkedId = &quot;checked-&quot; + item.getAttribute(&quot;id&quot;);</span>
<a href="#l6.10"></a><span id="l6.10">                             if (!document.getElementById(checkedId)) {</span>
<a href="#l6.11"></a><span id="l6.11">                                 let checked = item.ownerDocument</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-                                                  .createElement(&quot;menuitem&quot;);</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+                                                  .createXULElement(&quot;menuitem&quot;);</span>
<a href="#l6.14"></a><span id="l6.14">                                 checked.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l6.15"></a><span id="l6.15">                                 checked.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l6.16"></a><span id="l6.16">                                 checked.setAttribute(&quot;label&quot;,</span>
<a href="#l6.17"></a><span id="l6.17">                                                      item.getAttribute(&quot;label&quot;));</span>
<a href="#l6.18"></a><span id="l6.18">                                 checked.setAttribute(&quot;value&quot;,</span>
<a href="#l6.19"></a><span id="l6.19">                                                      item.getAttribute(&quot;value&quot;));</span>
<a href="#l6.20"></a><span id="l6.20">                                 checked.setAttribute(&quot;scope&quot;,</span>
<a href="#l6.21"></a><span id="l6.21">                                                      item.getAttribute(&quot;scope&quot;));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -287,17 +287,17 @@ function widgetAlarmComptor(aItem, aWidg</span>
<a href="#l7.4"></a><span id="l7.4"> </span>
<a href="#l7.5"></a><span id="l7.5"> /**</span>
<a href="#l7.6"></a><span id="l7.6">  * Add an alarm widget for the passed alarm and item.</span>
<a href="#l7.7"></a><span id="l7.7">  *</span>
<a href="#l7.8"></a><span id="l7.8">  * @param aItem       The calendar item to add a widget for.</span>
<a href="#l7.9"></a><span id="l7.9">  * @param aAlarm      The alarm to add a widget for.</span>
<a href="#l7.10"></a><span id="l7.10">  */</span>
<a href="#l7.11"></a><span id="l7.11"> function addWidgetFor(aItem, aAlarm) {</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-    let widget = document.createElement(&quot;calendar-alarm-widget&quot;);</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+    let widget = document.createXULElement(&quot;calendar-alarm-widget&quot;);</span>
<a href="#l7.14"></a><span id="l7.14">     let alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l7.15"></a><span id="l7.15"> </span>
<a href="#l7.16"></a><span id="l7.16">     // Add widgets sorted by start date ascending</span>
<a href="#l7.17"></a><span id="l7.17">     cal.data.binaryInsertNode(alarmRichlist, widget, aItem, widgetAlarmComptor, false);</span>
<a href="#l7.18"></a><span id="l7.18"> </span>
<a href="#l7.19"></a><span id="l7.19">     widget.item = aItem;</span>
<a href="#l7.20"></a><span id="l7.20">     widget.alarm = aAlarm;</span>
<a href="#l7.21"></a><span id="l7.21">     widget.addEventListener(&quot;snooze&quot;, onSnoozeAlarm);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees-custom-elements.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees-custom-elements.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1101,21 +1101,21 @@ class MozCalendarEventAttendeesList exte</span>
<a href="#l8.4"></a><span id="l8.4">     }</span>
<a href="#l8.5"></a><span id="l8.5"> </span>
<a href="#l8.6"></a><span id="l8.6">     /**</span>
<a href="#l8.7"></a><span id="l8.7">      * Creates dummy item.</span>
<a href="#l8.8"></a><span id="l8.8">      *</span>
<a href="#l8.9"></a><span id="l8.9">      * @returns {Node}       Dummy item</span>
<a href="#l8.10"></a><span id="l8.10">      */</span>
<a href="#l8.11"></a><span id="l8.11">     createDummyItem() {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-        let titem = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+        let titem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l8.14"></a><span id="l8.14">         titem.setAttribute(&quot;_isDummyRow&quot;, &quot;true&quot;);</span>
<a href="#l8.15"></a><span id="l8.15">         titem.setAttribute(&quot;class&quot;, &quot;dummy-row&quot;);</span>
<a href="#l8.16"></a><span id="l8.16">         for (let i = this.mNumColumns; i &gt; 0; i--) {</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-            let cell = document.createElement(&quot;hbox&quot;);</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineplus">+            let cell = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l8.19"></a><span id="l8.19">             cell.setAttribute(&quot;class&quot;, &quot;addressingWidgetCell dummy-row-cell&quot;);</span>
<a href="#l8.20"></a><span id="l8.20">             titem.appendChild(cell);</span>
<a href="#l8.21"></a><span id="l8.21">         }</span>
<a href="#l8.22"></a><span id="l8.22">         this.appendChild(titem);</span>
<a href="#l8.23"></a><span id="l8.23">         return titem;</span>
<a href="#l8.24"></a><span id="l8.24">     }</span>
<a href="#l8.25"></a><span id="l8.25"> </span>
<a href="#l8.26"></a><span id="l8.26">     /**</span>
<a href="#l8.27"></a><span id="l8.27" class="difflineat">@@ -1384,19 +1384,19 @@ customElements.define(&quot;calendar-event-at</span>
<a href="#l8.28"></a><span id="l8.28"> /**</span>
<a href="#l8.29"></a><span id="l8.29">  * MozCalendarEventFreebusyRow is a widget that represents a row in freebusy-grid element.</span>
<a href="#l8.30"></a><span id="l8.30">  *</span>
<a href="#l8.31"></a><span id="l8.31">  * @extends {MozXULElement}</span>
<a href="#l8.32"></a><span id="l8.32">  */</span>
<a href="#l8.33"></a><span id="l8.33"> class MozCalendarEventFreebusyRow extends MozXULElement {</span>
<a href="#l8.34"></a><span id="l8.34">     connectedCallback() {</span>
<a href="#l8.35"></a><span id="l8.35">         if (!this.hasChildNodes()) {</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineminus">-            this.containerNodeElem = document.createElement(&quot;calendar-event-scroll-container&quot;);</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineplus">+            this.containerNodeElem = document.createXULElement(&quot;calendar-event-scroll-container&quot;);</span>
<a href="#l8.38"></a><span id="l8.38">             this.containerNodeElem.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineminus">-            this.hoursNodeElem = document.createElement(&quot;box&quot;);</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineplus">+            this.hoursNodeElem = document.createXULElement(&quot;box&quot;);</span>
<a href="#l8.41"></a><span id="l8.41">             this.hoursNodeElem.setAttribute(&quot;equalsize&quot;, &quot;always&quot;);</span>
<a href="#l8.42"></a><span id="l8.42">             this.containerNodeElem.appendChild(this.hoursNodeElem);</span>
<a href="#l8.43"></a><span id="l8.43">             this.appendChild(this.containerNodeElem);</span>
<a href="#l8.44"></a><span id="l8.44">         }</span>
<a href="#l8.45"></a><span id="l8.45"> </span>
<a href="#l8.46"></a><span id="l8.46">         this.state = null;</span>
<a href="#l8.47"></a><span id="l8.47">         this.Entries = null;</span>
<a href="#l8.48"></a><span id="l8.48">         this.offset = 0;</span>
<a href="#l8.49"></a><span id="l8.49" class="difflineat">@@ -1849,24 +1849,24 @@ customElements.define(&quot;calendar-event-fr</span>
<a href="#l8.50"></a><span id="l8.50">  * MozFreebusyDay is a widget showing time slots labels - dates and a number of times instances of a</span>
<a href="#l8.51"></a><span id="l8.51">  * particular day.</span>
<a href="#l8.52"></a><span id="l8.52">  *</span>
<a href="#l8.53"></a><span id="l8.53">  * @extends {MozXULElement}</span>
<a href="#l8.54"></a><span id="l8.54">  */</span>
<a href="#l8.55"></a><span id="l8.55"> class MozCalendarEventFreebusyDay extends MozXULElement {</span>
<a href="#l8.56"></a><span id="l8.56">     connectedCallback() {</span>
<a href="#l8.57"></a><span id="l8.57">         if (!this.hasChildNodes()) {</span>
<a href="#l8.58"></a><span id="l8.58" class="difflineminus">-            const wrapper = document.createElement(&quot;box&quot;);</span>
<a href="#l8.59"></a><span id="l8.59" class="difflineplus">+            const wrapper = document.createXULElement(&quot;box&quot;);</span>
<a href="#l8.60"></a><span id="l8.60">             wrapper.setAttribute(&quot;orient&quot;, &quot;vertical&quot;);</span>
<a href="#l8.61"></a><span id="l8.61"> </span>
<a href="#l8.62"></a><span id="l8.62" class="difflineminus">-            this.text = document.createElement(&quot;text&quot;);</span>
<a href="#l8.63"></a><span id="l8.63" class="difflineplus">+            this.text = document.createXULElement(&quot;text&quot;);</span>
<a href="#l8.64"></a><span id="l8.64">             this.text.classList.add(&quot;freebusy-timebar-title&quot;);</span>
<a href="#l8.65"></a><span id="l8.65">             this.text.style.fontWeight = &quot;bold&quot;;</span>
<a href="#l8.66"></a><span id="l8.66"> </span>
<a href="#l8.67"></a><span id="l8.67" class="difflineminus">-            this.box = document.createElement(&quot;box&quot;);</span>
<a href="#l8.68"></a><span id="l8.68" class="difflineplus">+            this.box = document.createXULElement(&quot;box&quot;);</span>
<a href="#l8.69"></a><span id="l8.69">             this.box.setAttribute(&quot;equalsize&quot;, &quot;always&quot;);</span>
<a href="#l8.70"></a><span id="l8.70"> </span>
<a href="#l8.71"></a><span id="l8.71">             wrapper.appendChild(this.text);</span>
<a href="#l8.72"></a><span id="l8.72">             wrapper.appendChild(this.box);</span>
<a href="#l8.73"></a><span id="l8.73">             this.appendChild(wrapper);</span>
<a href="#l8.74"></a><span id="l8.74">         }</span>
<a href="#l8.75"></a><span id="l8.75"> </span>
<a href="#l8.76"></a><span id="l8.76">         this.mDateFormatter = null;</span>
<a href="#l8.77"></a><span id="l8.77" class="difflineat">@@ -2066,20 +2066,20 @@ class MozCalendarEventScrollContainer ex</span>
<a href="#l8.78"></a><span id="l8.78">     static get observedAttributes() {</span>
<a href="#l8.79"></a><span id="l8.79">         return [&quot;flex&quot;, &quot;orient&quot;];</span>
<a href="#l8.80"></a><span id="l8.80">     }</span>
<a href="#l8.81"></a><span id="l8.81"> </span>
<a href="#l8.82"></a><span id="l8.82">     connectedCallback() {</span>
<a href="#l8.83"></a><span id="l8.83">         if (!this.delayConnectedCallback() || !this.container || !this.content) {</span>
<a href="#l8.84"></a><span id="l8.84">             const childrenFragment = this._getChildrenFragment();</span>
<a href="#l8.85"></a><span id="l8.85"> </span>
<a href="#l8.86"></a><span id="l8.86" class="difflineminus">-            this.container = document.createElement(&quot;box&quot;);</span>
<a href="#l8.87"></a><span id="l8.87" class="difflineplus">+            this.container = document.createXULElement(&quot;box&quot;);</span>
<a href="#l8.88"></a><span id="l8.88">             this.container.classList.add(&quot;container&quot;);</span>
<a href="#l8.89"></a><span id="l8.89"> </span>
<a href="#l8.90"></a><span id="l8.90" class="difflineminus">-            this.content = document.createElement(&quot;box&quot;);</span>
<a href="#l8.91"></a><span id="l8.91" class="difflineplus">+            this.content = document.createXULElement(&quot;box&quot;);</span>
<a href="#l8.92"></a><span id="l8.92">             this.content.classList.add(&quot;content&quot;);</span>
<a href="#l8.93"></a><span id="l8.93"> </span>
<a href="#l8.94"></a><span id="l8.94">             this.content.appendChild(childrenFragment);</span>
<a href="#l8.95"></a><span id="l8.95">             this.container.appendChild(this.content);</span>
<a href="#l8.96"></a><span id="l8.96">             this.appendChild(this.container);</span>
<a href="#l8.97"></a><span id="l8.97"> </span>
<a href="#l8.98"></a><span id="l8.98">             this._updateAttributes();</span>
<a href="#l8.99"></a><span id="l8.99">         }</span>
<a href="#l8.100"></a><span id="l8.100" class="difflineat">@@ -3187,20 +3187,20 @@ class MozCalendarEventFreebusyGrid exten</span>
<a href="#l8.101"></a><span id="l8.101">     }</span>
<a href="#l8.102"></a><span id="l8.102"> </span>
<a href="#l8.103"></a><span id="l8.103">     /**</span>
<a href="#l8.104"></a><span id="l8.104">      * Returns new dummy item.</span>
<a href="#l8.105"></a><span id="l8.105">      *</span>
<a href="#l8.106"></a><span id="l8.106">      * @returns {Node}       Dummy item</span>
<a href="#l8.107"></a><span id="l8.107">      */</span>
<a href="#l8.108"></a><span id="l8.108">     createDummyItem() {</span>
<a href="#l8.109"></a><span id="l8.109" class="difflineminus">-        let item = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l8.110"></a><span id="l8.110" class="difflineplus">+        let item = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l8.111"></a><span id="l8.111">         item.setAttribute(&quot;_isDummyRow&quot;, &quot;true&quot;);</span>
<a href="#l8.112"></a><span id="l8.112">         item.setAttribute(&quot;class&quot;, &quot;dummy-row&quot;);</span>
<a href="#l8.113"></a><span id="l8.113" class="difflineminus">-        let cell = document.createElement(&quot;hbox&quot;);</span>
<a href="#l8.114"></a><span id="l8.114" class="difflineplus">+        let cell = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l8.115"></a><span id="l8.115">         cell.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l8.116"></a><span id="l8.116">         cell.setAttribute(&quot;class&quot;, &quot;addressingWidgetCell dummy-row-cell&quot;);</span>
<a href="#l8.117"></a><span id="l8.117">         item.appendChild(cell);</span>
<a href="#l8.118"></a><span id="l8.118">         this.appendChild(item);</span>
<a href="#l8.119"></a><span id="l8.119">         return item;</span>
<a href="#l8.120"></a><span id="l8.120">     }</span>
<a href="#l8.121"></a><span id="l8.121"> </span>
<a href="#l8.122"></a><span id="l8.122">     /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-migration-dialog.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-migration-dialog.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -35,17 +35,17 @@ var gMigrateWizard = {</span>
<a href="#l9.4"></a><span id="l9.4">                                                   [&quot;Lightning&quot;],</span>
<a href="#l9.5"></a><span id="l9.5">                                                   1);</span>
<a href="#l9.6"></a><span id="l9.6">         desc.textContent = props.formatStringFromName(&quot;migrationDescription&quot;,</span>
<a href="#l9.7"></a><span id="l9.7">                                                       [&quot;Lightning&quot;],</span>
<a href="#l9.8"></a><span id="l9.8">                                                       1);</span>
<a href="#l9.9"></a><span id="l9.9"> </span>
<a href="#l9.10"></a><span id="l9.10">         migLOG(&quot;migrators: &quot; + window.arguments.length);</span>
<a href="#l9.11"></a><span id="l9.11">         for (let migrator of window.arguments[0]) {</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-            let checkbox = document.createElement(&quot;checkbox&quot;);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+            let checkbox = document.createXULElement(&quot;checkbox&quot;);</span>
<a href="#l9.14"></a><span id="l9.14">             checkbox.setAttribute(&quot;checked&quot;, true);</span>
<a href="#l9.15"></a><span id="l9.15">             checkbox.setAttribute(&quot;label&quot;, migrator.title);</span>
<a href="#l9.16"></a><span id="l9.16">             checkbox.migrator = migrator;</span>
<a href="#l9.17"></a><span id="l9.17">             listbox.appendChild(checkbox);</span>
<a href="#l9.18"></a><span id="l9.18">         }</span>
<a href="#l9.19"></a><span id="l9.19">     },</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21">     /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/dialogs/chooseCalendarDialog.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/dialogs/chooseCalendarDialog.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -20,27 +20,27 @@ function loadCalendars() {</span>
<a href="#l10.4"></a><span id="l10.4">         calendars = window.arguments[0].calendars;</span>
<a href="#l10.5"></a><span id="l10.5">     } else {</span>
<a href="#l10.6"></a><span id="l10.6">         calendars = calendarManager.getCalendars({});</span>
<a href="#l10.7"></a><span id="l10.7">     }</span>
<a href="#l10.8"></a><span id="l10.8">     calendars = sortCalendarArray(calendars);</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10">     for (let i = 0; i &lt; calendars.length; i++) {</span>
<a href="#l10.11"></a><span id="l10.11">         let calendar = calendars[i];</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-        let listItem = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+        let listItem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l10.14"></a><span id="l10.14"> </span>
<a href="#l10.15"></a><span id="l10.15" class="difflineminus">-        let colorCell = document.createElement(&quot;box&quot;);</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineplus">+        let colorCell = document.createXULElement(&quot;box&quot;);</span>
<a href="#l10.17"></a><span id="l10.17">         try {</span>
<a href="#l10.18"></a><span id="l10.18">             let calColor = calendar.getProperty(&quot;color&quot;);</span>
<a href="#l10.19"></a><span id="l10.19">             colorCell.style.background = calColor || &quot;#a8c2e1&quot;;</span>
<a href="#l10.20"></a><span id="l10.20">         } catch (e) {}</span>
<a href="#l10.21"></a><span id="l10.21">         colorCell.style.width = &quot;17px&quot;;</span>
<a href="#l10.22"></a><span id="l10.22">         listItem.appendChild(colorCell);</span>
<a href="#l10.23"></a><span id="l10.23"> </span>
<a href="#l10.24"></a><span id="l10.24" class="difflineminus">-        let nameCell = document.createElement(&quot;label&quot;);</span>
<a href="#l10.25"></a><span id="l10.25" class="difflineplus">+        let nameCell = document.createXULElement(&quot;label&quot;);</span>
<a href="#l10.26"></a><span id="l10.26">         nameCell.setAttribute(&quot;value&quot;, calendar.name);</span>
<a href="#l10.27"></a><span id="l10.27">         nameCell.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l10.28"></a><span id="l10.28">         listItem.appendChild(nameCell);</span>
<a href="#l10.29"></a><span id="l10.29"> </span>
<a href="#l10.30"></a><span id="l10.30">         listItem.calendar = calendar;</span>
<a href="#l10.31"></a><span id="l10.31">         listbox.appendChild(listItem);</span>
<a href="#l10.32"></a><span id="l10.32"> </span>
<a href="#l10.33"></a><span id="l10.33">         // Select the default calendar of the opening calendar window.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/content/preferences/categories.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/content/preferences/categories.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -88,24 +88,24 @@ var gCategoriesPane = {</span>
<a href="#l11.4"></a><span id="l11.4">         this.updateButtons();</span>
<a href="#l11.5"></a><span id="l11.5"> </span>
<a href="#l11.6"></a><span id="l11.6"> </span>
<a href="#l11.7"></a><span id="l11.7">         while (listbox.lastChild) {</span>
<a href="#l11.8"></a><span id="l11.8">             listbox.lastChild.remove();</span>
<a href="#l11.9"></a><span id="l11.9">         }</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11">         for (let i = 0; i &lt; gCategoryList.length; i++) {</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-            let newListItem = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-            let categoryName = document.createElement(&quot;label&quot;);</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+            let newListItem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+            let categoryName = document.createXULElement(&quot;label&quot;);</span>
<a href="#l11.16"></a><span id="l11.16">             categoryName.setAttribute(&quot;id&quot;, gCategoryList[i]);</span>
<a href="#l11.17"></a><span id="l11.17">             categoryName.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l11.18"></a><span id="l11.18">             categoryName.setAttribute(&quot;value&quot;, gCategoryList[i]);</span>
<a href="#l11.19"></a><span id="l11.19">             let categoryNameFix = cal.view.formatStringForCSSRule(gCategoryList[i]);</span>
<a href="#l11.20"></a><span id="l11.20"> </span>
<a href="#l11.21"></a><span id="l11.21" class="difflineminus">-            let categoryColor = document.createElement(&quot;box&quot;);</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+            let categoryColor = document.createXULElement(&quot;box&quot;);</span>
<a href="#l11.23"></a><span id="l11.23">             categoryColor.setAttribute(&quot;width&quot;, &quot;150&quot;);</span>
<a href="#l11.24"></a><span id="l11.24">             try {</span>
<a href="#l11.25"></a><span id="l11.25">                 let colorCode = categoryPrefBranch.getCharPref(categoryNameFix);</span>
<a href="#l11.26"></a><span id="l11.26">                 categoryColor.setAttribute(&quot;id&quot;, colorCode);</span>
<a href="#l11.27"></a><span id="l11.27">                 categoryColor.setAttribute(&quot;style&quot;, &quot;background-color: &quot; + colorCode + &quot;;&quot;);</span>
<a href="#l11.28"></a><span id="l11.28">             } catch (ex) {</span>
<a href="#l11.29"></a><span id="l11.29">                 categoryColor.setAttribute(&quot;label&quot;, noneLabel);</span>
<a href="#l11.30"></a><span id="l11.30">             }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -870,27 +870,27 @@ function loadCategories(aItem) {</span>
<a href="#l12.4"></a><span id="l12.4">     cal.l10n.sortArrayByLocaleCollator(categoryList);</span>
<a href="#l12.5"></a><span id="l12.5"> </span>
<a href="#l12.6"></a><span id="l12.6">     // Make sure the maximum number of categories is applied to the listbox</span>
<a href="#l12.7"></a><span id="l12.7">     let calendar = getCurrentCalendar();</span>
<a href="#l12.8"></a><span id="l12.8">     let maxCount = calendar.getProperty(&quot;capabilities.categories.maxCount&quot;);</span>
<a href="#l12.9"></a><span id="l12.9"> </span>
<a href="#l12.10"></a><span id="l12.10">     let categoryPopup = document.getElementById(&quot;item-categories-popup&quot;);</span>
<a href="#l12.11"></a><span id="l12.11">     if (maxCount == 1) {</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-        let item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+        let item = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l12.14"></a><span id="l12.14">         item.setAttribute(&quot;class&quot;, &quot;menuitem-iconic&quot;);</span>
<a href="#l12.15"></a><span id="l12.15">         item.setAttribute(&quot;label&quot;, cal.l10n.getCalString(&quot;None&quot;));</span>
<a href="#l12.16"></a><span id="l12.16">         item.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l12.17"></a><span id="l12.17">         if (itemCategories.length === 0) {</span>
<a href="#l12.18"></a><span id="l12.18">             item.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l12.19"></a><span id="l12.19">         }</span>
<a href="#l12.20"></a><span id="l12.20">         categoryPopup.appendChild(item);</span>
<a href="#l12.21"></a><span id="l12.21">     }</span>
<a href="#l12.22"></a><span id="l12.22">     for (let cat of categoryList) {</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineminus">-        let item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineplus">+        let item = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l12.25"></a><span id="l12.25">         item.setAttribute(&quot;class&quot;, &quot;menuitem-iconic calendar-category&quot;);</span>
<a href="#l12.26"></a><span id="l12.26">         item.setAttribute(&quot;label&quot;, cat);</span>
<a href="#l12.27"></a><span id="l12.27">         item.setAttribute(&quot;value&quot;, cat);</span>
<a href="#l12.28"></a><span id="l12.28">         item.setAttribute(&quot;type&quot;, (maxCount === null || maxCount &gt; 1) ? &quot;checkbox&quot; : &quot;radio&quot;);</span>
<a href="#l12.29"></a><span id="l12.29">         if (itemCategories.includes(cat)) {</span>
<a href="#l12.30"></a><span id="l12.30">             item.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l12.31"></a><span id="l12.31">         }</span>
<a href="#l12.32"></a><span id="l12.32">         categoryPopup.appendChild(item);</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineat">@@ -995,17 +995,17 @@ function categoryTextboxKeypress(event) </span>
<a href="#l12.34"></a><span id="l12.34">     } else {</span>
<a href="#l12.35"></a><span id="l12.35">         let localeCollator = cal.l10n.createLocaleCollator();</span>
<a href="#l12.36"></a><span id="l12.36">         let compare = localeCollator.compareString.bind(localeCollator, 0);</span>
<a href="#l12.37"></a><span id="l12.37">         newIndex = cal.data.binaryInsert(categories, category, compare, true);</span>
<a href="#l12.38"></a><span id="l12.38"> </span>
<a href="#l12.39"></a><span id="l12.39">         let calendar = getCurrentCalendar();</span>
<a href="#l12.40"></a><span id="l12.40">         let maxCount = calendar.getProperty(&quot;capabilities.categories.maxCount&quot;);</span>
<a href="#l12.41"></a><span id="l12.41"> </span>
<a href="#l12.42"></a><span id="l12.42" class="difflineminus">-        let item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l12.43"></a><span id="l12.43" class="difflineplus">+        let item = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l12.44"></a><span id="l12.44">         item.setAttribute(&quot;class&quot;, &quot;menuitem-iconic calendar-category&quot;);</span>
<a href="#l12.45"></a><span id="l12.45">         item.setAttribute(&quot;label&quot;, category);</span>
<a href="#l12.46"></a><span id="l12.46">         item.setAttribute(&quot;value&quot;, category);</span>
<a href="#l12.47"></a><span id="l12.47">         item.setAttribute(&quot;type&quot;, (maxCount === null || maxCount &gt; 1) ? &quot;checkbox&quot; : &quot;radio&quot;);</span>
<a href="#l12.48"></a><span id="l12.48">         item.setAttribute(&quot;checked&quot;, true);</span>
<a href="#l12.49"></a><span id="l12.49">         categoryPopup.insertBefore(item, categoryList[newIndex]);</span>
<a href="#l12.50"></a><span id="l12.50">     }</span>
<a href="#l12.51"></a><span id="l12.51"> </span>
<a href="#l12.52"></a><span id="l12.52" class="difflineat">@@ -2276,19 +2276,19 @@ function addAttachment(attachment, cloud</span>
<a href="#l12.53"></a><span id="l12.53">         attachment.hashId in gAttachMap) {</span>
<a href="#l12.54"></a><span id="l12.54">         return;</span>
<a href="#l12.55"></a><span id="l12.55">     }</span>
<a href="#l12.56"></a><span id="l12.56"> </span>
<a href="#l12.57"></a><span id="l12.57">     // We currently only support uri attachments</span>
<a href="#l12.58"></a><span id="l12.58">     if (attachment.uri) {</span>
<a href="#l12.59"></a><span id="l12.59">         let documentLink = document.getElementById(&quot;attachment-link&quot;);</span>
<a href="#l12.60"></a><span id="l12.60">         let listItem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l12.61"></a><span id="l12.61" class="difflineminus">-        let image = document.createElement(&quot;image&quot;);</span>
<a href="#l12.62"></a><span id="l12.62" class="difflineplus">+        let image = document.createXULElement(&quot;image&quot;);</span>
<a href="#l12.63"></a><span id="l12.63">         listItem.appendChild(image);</span>
<a href="#l12.64"></a><span id="l12.64" class="difflineminus">-        let label = document.createElement(&quot;label&quot;);</span>
<a href="#l12.65"></a><span id="l12.65" class="difflineplus">+        let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l12.66"></a><span id="l12.66">         label.setAttribute(&quot;value&quot;, makePrettyName(attachment.uri));</span>
<a href="#l12.67"></a><span id="l12.67">         label.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l12.68"></a><span id="l12.68">         listItem.appendChild(label);</span>
<a href="#l12.69"></a><span id="l12.69">         listItem.setAttribute(&quot;tooltiptext&quot;, attachment.uri.spec);</span>
<a href="#l12.70"></a><span id="l12.70">         if (cloudFileAccount) {</span>
<a href="#l12.71"></a><span id="l12.71">             if (attachment.uri.schemeIs(&quot;file&quot;)) {</span>
<a href="#l12.72"></a><span id="l12.72">                 // Its still a local url, needs to be uploaded</span>
<a href="#l12.73"></a><span id="l12.73">                 image.setAttribute(&quot;src&quot;, &quot;chrome://messenger/skin/icons/connecting.png&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-calendar-creation.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-calendar-creation.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -137,17 +137,17 @@ var { monkeyPatch } = ChromeUtils.import</span>
<a href="#l13.4"></a><span id="l13.4">         }</span>
<a href="#l13.5"></a><span id="l13.5"> </span>
<a href="#l13.6"></a><span id="l13.6">         // forEach is needed for backwards compatibility.</span>
<a href="#l13.7"></a><span id="l13.7">         sessions.forEach((session) =&gt; {</span>
<a href="#l13.8"></a><span id="l13.8">             if (!session) {</span>
<a href="#l13.9"></a><span id="l13.9">                 return;</span>
<a href="#l13.10"></a><span id="l13.10">             }</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-            let radio = document.createElement(&quot;radio&quot;);</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+            let radio = document.createXULElement(&quot;radio&quot;);</span>
<a href="#l13.14"></a><span id="l13.14">             radio.setAttribute(&quot;value&quot;, session.id);</span>
<a href="#l13.15"></a><span id="l13.15">             radio.setAttribute(&quot;label&quot;, session.id);</span>
<a href="#l13.16"></a><span id="l13.16">             sessionContainer.insertBefore(radio, newSessionItem);</span>
<a href="#l13.17"></a><span id="l13.17">             radio.gdataSession = session;</span>
<a href="#l13.18"></a><span id="l13.18">         });</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20">         sessionContainer.value = sessionContainer.firstChild.value;</span>
<a href="#l13.21"></a><span id="l13.21">         if (sessionContainer.value == &quot;&quot;) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-event-dialog.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-event-dialog.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -26,17 +26,17 @@ window.addEventListener(&quot;message&quot;, (aEve</span>
<a href="#l14.4"></a><span id="l14.4">                     node.disabled = aEvent.data.isGoogleTask;</span>
<a href="#l14.5"></a><span id="l14.5">                 }</span>
<a href="#l14.6"></a><span id="l14.6">             }</span>
<a href="#l14.7"></a><span id="l14.7">         }</span>
<a href="#l14.8"></a><span id="l14.8">     }</span>
<a href="#l14.9"></a><span id="l14.9"> });</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11"> </span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-const gdataStatusPrivacyHbox = document.createElement(&quot;hbox&quot;);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+const gdataStatusPrivacyHbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l14.14"></a><span id="l14.14"> gdataStatusPrivacyHbox.setAttribute(&quot;id&quot;, &quot;gdata-status-privacy-default-box&quot;);</span>
<a href="#l14.15"></a><span id="l14.15"> gdataStatusPrivacyHbox.setAttribute(&quot;privacy&quot;, &quot;DEFAULT&quot;);</span>
<a href="#l14.16"></a><span id="l14.16"> gdataStatusPrivacyHbox.setAttribute(&quot;provider&quot;, &quot;gdata&quot;);</span>
<a href="#l14.17"></a><span id="l14.17"> </span>
<a href="#l14.18"></a><span id="l14.18"> const statusPrivacy = document.getElementById(&quot;status-privacy&quot;);</span>
<a href="#l14.19"></a><span id="l14.19"> statusPrivacy.insertBefore(</span>
<a href="#l14.20"></a><span id="l14.20">     gdataStatusPrivacyHbox,</span>
<a href="#l14.21"></a><span id="l14.21">     document.getElementById(&quot;status-privacy-public-box&quot;)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-migration.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-migration.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -66,17 +66,17 @@ function getMigratableCalendars() {</span>
<a href="#l15.4"></a><span id="l15.4">  * Load Handler for both the wizard and the Thunderbird main window.</span>
<a href="#l15.5"></a><span id="l15.5">  */</span>
<a href="#l15.6"></a><span id="l15.6"> function gdata_migration_loader() {</span>
<a href="#l15.7"></a><span id="l15.7">     if (document.documentElement.id == &quot;gdata-migration-wizard&quot;) {</span>
<a href="#l15.8"></a><span id="l15.8">         // This is the migration wizard, load the calendars needed.</span>
<a href="#l15.9"></a><span id="l15.9">         let listbox = document.getElementById(&quot;calendars-listbox&quot;);</span>
<a href="#l15.10"></a><span id="l15.10"> </span>
<a href="#l15.11"></a><span id="l15.11">         for (let calendar of sortCalendarArray(getMigratableCalendars())) {</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-            let item = document.createElement(&quot;checkbox&quot;);</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+            let item = document.createXULElement(&quot;checkbox&quot;);</span>
<a href="#l15.14"></a><span id="l15.14">             item.setAttribute(&quot;label&quot;, calendar.name);</span>
<a href="#l15.15"></a><span id="l15.15">             item.setAttribute(&quot;value&quot;, calendar.id);</span>
<a href="#l15.16"></a><span id="l15.16">             item.calendar = calendar;</span>
<a href="#l15.17"></a><span id="l15.17">             listbox.appendChild(item);</span>
<a href="#l15.18"></a><span id="l15.18">         }</span>
<a href="#l15.19"></a><span id="l15.19"> </span>
<a href="#l15.20"></a><span id="l15.20">         // Set up the &quot;always check&quot; field</span>
<a href="#l15.21"></a><span id="l15.21">         document.getElementById(&quot;showagain-checkbox&quot;).checked =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/resources/content/datetimepickers/datetimepickers.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/resources/content/datetimepickers/datetimepickers.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -59,27 +59,27 @@ var { Services } = ChromeUtils.import(&quot;r</span>
<a href="#l16.4"></a><span id="l16.4">             };</span>
<a href="#l16.5"></a><span id="l16.5">         }</span>
<a href="#l16.6"></a><span id="l16.6"> </span>
<a href="#l16.7"></a><span id="l16.7">         connectedCallback() {</span>
<a href="#l16.8"></a><span id="l16.8">             if (this.hasChildNodes()) {</span>
<a href="#l16.9"></a><span id="l16.9">                 return;</span>
<a href="#l16.10"></a><span id="l16.10">             }</span>
<a href="#l16.11"></a><span id="l16.11"> </span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-            const spacer = document.createElement(&quot;spacer&quot;);</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+            const spacer = document.createXULElement(&quot;spacer&quot;);</span>
<a href="#l16.14"></a><span id="l16.14">             spacer.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l16.15"></a><span id="l16.15"> </span>
<a href="#l16.16"></a><span id="l16.16" class="difflineminus">-            const minutebox = document.createElement(&quot;vbox&quot;);</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineplus">+            const minutebox = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l16.18"></a><span id="l16.18">             minutebox.addEventListener(&quot;click&quot;, () =&gt; {</span>
<a href="#l16.19"></a><span id="l16.19">                 this.clickMinute(this, this.getAttribute(&quot;value&quot;));</span>
<a href="#l16.20"></a><span id="l16.20">             });</span>
<a href="#l16.21"></a><span id="l16.21"> </span>
<a href="#l16.22"></a><span id="l16.22" class="difflineminus">-            const box = document.createElement(&quot;box&quot;);</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineplus">+            const box = document.createXULElement(&quot;box&quot;);</span>
<a href="#l16.24"></a><span id="l16.24"> </span>
<a href="#l16.25"></a><span id="l16.25" class="difflineminus">-            this.label = document.createElement(&quot;label&quot;);</span>
<a href="#l16.26"></a><span id="l16.26" class="difflineplus">+            this.label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l16.27"></a><span id="l16.27">             this.label.classList.add(&quot;time-picker-minute-label&quot;);</span>
<a href="#l16.28"></a><span id="l16.28"> </span>
<a href="#l16.29"></a><span id="l16.29">             box.appendChild(this.label);</span>
<a href="#l16.30"></a><span id="l16.30">             minutebox.appendChild(box);</span>
<a href="#l16.31"></a><span id="l16.31"> </span>
<a href="#l16.32"></a><span id="l16.32">             this.appendChild(spacer.cloneNode());</span>
<a href="#l16.33"></a><span id="l16.33">             this.appendChild(minutebox);</span>
<a href="#l16.34"></a><span id="l16.34">             this.appendChild(spacer);</span>
<a href="#l16.35"></a><span id="l16.35" class="difflineat">@@ -161,30 +161,30 @@ var { Services } = ChromeUtils.import(&quot;r</span>
<a href="#l16.36"></a><span id="l16.36">             };</span>
<a href="#l16.37"></a><span id="l16.37">         }</span>
<a href="#l16.38"></a><span id="l16.38"> </span>
<a href="#l16.39"></a><span id="l16.39">         connectedCallback() {</span>
<a href="#l16.40"></a><span id="l16.40">             if (this.hasChildNodes()) {</span>
<a href="#l16.41"></a><span id="l16.41">                 return;</span>
<a href="#l16.42"></a><span id="l16.42">             }</span>
<a href="#l16.43"></a><span id="l16.43"> </span>
<a href="#l16.44"></a><span id="l16.44" class="difflineminus">-            const spacer = document.createElement(&quot;spacer&quot;);</span>
<a href="#l16.45"></a><span id="l16.45" class="difflineplus">+            const spacer = document.createXULElement(&quot;spacer&quot;);</span>
<a href="#l16.46"></a><span id="l16.46">             spacer.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l16.47"></a><span id="l16.47"> </span>
<a href="#l16.48"></a><span id="l16.48" class="difflineminus">-            const hourbox = document.createElement(&quot;vbox&quot;);</span>
<a href="#l16.49"></a><span id="l16.49" class="difflineplus">+            const hourbox = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l16.50"></a><span id="l16.50">             hourbox.addEventListener(&quot;click&quot;, () =&gt; {</span>
<a href="#l16.51"></a><span id="l16.51">                 this.clickHour(this, this.getAttribute(&quot;value&quot;));</span>
<a href="#l16.52"></a><span id="l16.52">             });</span>
<a href="#l16.53"></a><span id="l16.53">             hourbox.addEventListener(&quot;dblclick&quot;, () =&gt; {</span>
<a href="#l16.54"></a><span id="l16.54">                 this.doubleClickHour(this, this.getAttribute(&quot;value&quot;));</span>
<a href="#l16.55"></a><span id="l16.55">             });</span>
<a href="#l16.56"></a><span id="l16.56"> </span>
<a href="#l16.57"></a><span id="l16.57" class="difflineminus">-            const box = document.createElement(&quot;box&quot;);</span>
<a href="#l16.58"></a><span id="l16.58" class="difflineplus">+            const box = document.createXULElement(&quot;box&quot;);</span>
<a href="#l16.59"></a><span id="l16.59"> </span>
<a href="#l16.60"></a><span id="l16.60" class="difflineminus">-            this.label = document.createElement(&quot;label&quot;);</span>
<a href="#l16.61"></a><span id="l16.61" class="difflineplus">+            this.label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l16.62"></a><span id="l16.62">             this.label.classList.add(&quot;time-picker-hour-label&quot;);</span>
<a href="#l16.63"></a><span id="l16.63"> </span>
<a href="#l16.64"></a><span id="l16.64">             box.appendChild(this.label);</span>
<a href="#l16.65"></a><span id="l16.65">             hourbox.appendChild(box);</span>
<a href="#l16.66"></a><span id="l16.66">             hourbox.appendChild(spacer.cloneNode());</span>
<a href="#l16.67"></a><span id="l16.67"> </span>
<a href="#l16.68"></a><span id="l16.68">             this.appendChild(spacer.cloneNode());</span>
<a href="#l16.69"></a><span id="l16.69">             this.appendChild(hourbox);</span>
<a href="#l16.70"></a><span id="l16.70" class="difflineat">@@ -748,19 +748,19 @@ var { Services } = ChromeUtils.import(&quot;r</span>
<a href="#l16.71"></a><span id="l16.71">             this._popup = this._menulist.menupopup;</span>
<a href="#l16.72"></a><span id="l16.72">             this._minimonth = this.querySelector(&quot;minimonth&quot;);</span>
<a href="#l16.73"></a><span id="l16.73"> </span>
<a href="#l16.74"></a><span id="l16.74">             if (this.getAttribute(&quot;type&quot;) == &quot;forever&quot;) {</span>
<a href="#l16.75"></a><span id="l16.75">                 this._valueIsForever = false;</span>
<a href="#l16.76"></a><span id="l16.76">                 this._foreverString =</span>
<a href="#l16.77"></a><span id="l16.77">                     cal.l10n.getString(&quot;calendar-event-dialog&quot;, &quot;eventRecurrenceForeverLabel&quot;);</span>
<a href="#l16.78"></a><span id="l16.78"> </span>
<a href="#l16.79"></a><span id="l16.79" class="difflineminus">-                this._foreverItem = document.createElement(&quot;button&quot;);</span>
<a href="#l16.80"></a><span id="l16.80" class="difflineplus">+                this._foreverItem = document.createXULElement(&quot;button&quot;);</span>
<a href="#l16.81"></a><span id="l16.81">                 this._foreverItem.setAttribute(&quot;label&quot;, this._foreverString);</span>
<a href="#l16.82"></a><span id="l16.82" class="difflineminus">-                this._popup.appendChild(document.createElement(&quot;menuseparator&quot;));</span>
<a href="#l16.83"></a><span id="l16.83" class="difflineplus">+                this._popup.appendChild(document.createXULElement(&quot;menuseparator&quot;));</span>
<a href="#l16.84"></a><span id="l16.84">                 this._popup.appendChild(this._foreverItem);</span>
<a href="#l16.85"></a><span id="l16.85"> </span>
<a href="#l16.86"></a><span id="l16.86">                 this._foreverItem.addEventListener(&quot;command&quot;, () =&gt; {</span>
<a href="#l16.87"></a><span id="l16.87">                     this._inputBoxValue = &quot;forever&quot;;</span>
<a href="#l16.88"></a><span id="l16.88">                     this._valueIsForever = true;</span>
<a href="#l16.89"></a><span id="l16.89">                     this._popup.hidePopup();</span>
<a href="#l16.90"></a><span id="l16.90">                 });</span>
<a href="#l16.91"></a><span id="l16.91">             }</span>
<a href="#l16.92"></a><span id="l16.92" class="difflineat">@@ -1063,20 +1063,20 @@ var { Services } = ChromeUtils.import(&quot;r</span>
<a href="#l16.93"></a><span id="l16.93">     ]);</span>
<a href="#l16.94"></a><span id="l16.94"> </span>
<a href="#l16.95"></a><span id="l16.95">     class CalendarDateTimePicker extends MozXULElement {</span>
<a href="#l16.96"></a><span id="l16.96">         connectedCallback() {</span>
<a href="#l16.97"></a><span id="l16.97">             if (this.delayConnectedCallback()) {</span>
<a href="#l16.98"></a><span id="l16.98">                 return;</span>
<a href="#l16.99"></a><span id="l16.99">             }</span>
<a href="#l16.100"></a><span id="l16.100"> </span>
<a href="#l16.101"></a><span id="l16.101" class="difflineminus">-            this._datepicker = document.createElement(&quot;datepicker&quot;);</span>
<a href="#l16.102"></a><span id="l16.102" class="difflineplus">+            this._datepicker = document.createXULElement(&quot;datepicker&quot;);</span>
<a href="#l16.103"></a><span id="l16.103">             this._datepicker.classList.add(&quot;datetimepicker-datepicker&quot;);</span>
<a href="#l16.104"></a><span id="l16.104">             this._datepicker.setAttribute(&quot;anonid&quot;, &quot;datepicker&quot;);</span>
<a href="#l16.105"></a><span id="l16.105" class="difflineminus">-            this._timepicker = document.createElement(&quot;timepicker&quot;);</span>
<a href="#l16.106"></a><span id="l16.106" class="difflineplus">+            this._timepicker = document.createXULElement(&quot;timepicker&quot;);</span>
<a href="#l16.107"></a><span id="l16.107">             this._timepicker.classList.add(&quot;datetimepicker-timepicker&quot;);</span>
<a href="#l16.108"></a><span id="l16.108">             this._timepicker.setAttribute(&quot;anonid&quot;, &quot;timepicker&quot;);</span>
<a href="#l16.109"></a><span id="l16.109">             this.appendChild(this._datepicker);</span>
<a href="#l16.110"></a><span id="l16.110">             this.appendChild(this._timepicker);</span>
<a href="#l16.111"></a><span id="l16.111"> </span>
<a href="#l16.112"></a><span id="l16.112">             if (this.getAttribute(&quot;value&quot;)) {</span>
<a href="#l16.113"></a><span id="l16.113">                 this._datepicker.value = this.getAttribute(&quot;value&quot;);</span>
<a href="#l16.114"></a><span id="l16.114">                 this._timepicker.value = this.getAttribute(&quot;value&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/resources/content/mouseoverPreviews.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/resources/content/mouseoverPreviews.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -124,17 +124,17 @@ function getToDoStatusString(aToDo) {</span>
<a href="#l17.4"></a><span id="l17.4">  * PRIVATE: Called when a user hovers over a todo element and the text for the</span>
<a href="#l17.5"></a><span id="l17.5">  * mouse overis changed.</span>
<a href="#l17.6"></a><span id="l17.6">  *</span>
<a href="#l17.7"></a><span id="l17.7">  * @param {calIToDo} toDoItem    the item to create the preview for</span>
<a href="#l17.8"></a><span id="l17.8">  * @param {boolean}  aIsTooltip  enabled if used for tooltip composition (default)</span>
<a href="#l17.9"></a><span id="l17.9">  */</span>
<a href="#l17.10"></a><span id="l17.10"> function getPreviewForTask(toDoItem, aIsTooltip=true) {</span>
<a href="#l17.11"></a><span id="l17.11">     if (toDoItem) {</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-        const vbox = document.createElement(&quot;vbox&quot;);</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+        const vbox = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l17.14"></a><span id="l17.14">         vbox.setAttribute(&quot;class&quot;, &quot;tooltipBox&quot;);</span>
<a href="#l17.15"></a><span id="l17.15">         if (aIsTooltip) {</span>
<a href="#l17.16"></a><span id="l17.16">             // tooltip appears above or below pointer, so may have as little as</span>
<a href="#l17.17"></a><span id="l17.17">             // one half the screen height available (avoid top going off screen).</span>
<a href="#l17.18"></a><span id="l17.18">             vbox.maxHeight = Math.floor(screen.height / 2);</span>
<a href="#l17.19"></a><span id="l17.19">         } else {</span>
<a href="#l17.20"></a><span id="l17.20">             vbox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l17.21"></a><span id="l17.21">         }</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineat">@@ -224,17 +224,17 @@ function getPreviewForTask(toDoItem, aIs</span>
<a href="#l17.23"></a><span id="l17.23">  * box (recurring or multiday events may be displayed by more than one event box</span>
<a href="#l17.24"></a><span id="l17.24">  * for different days), or null if should compute next instance from now.</span>
<a href="#l17.25"></a><span id="l17.25">  *</span>
<a href="#l17.26"></a><span id="l17.26">  * @param {calIEvent} aEvent       the item to create the preview for</span>
<a href="#l17.27"></a><span id="l17.27">  * @param {boolean}   aIsTooltip   enabled if used for tooltip composition (default)</span>
<a href="#l17.28"></a><span id="l17.28">  */</span>
<a href="#l17.29"></a><span id="l17.29"> function getPreviewForEvent(aEvent, aIsTooltip=true) {</span>
<a href="#l17.30"></a><span id="l17.30">     let event = aEvent;</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-    const vbox = document.createElement(&quot;vbox&quot;);</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+    const vbox = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l17.33"></a><span id="l17.33">     vbox.setAttribute(&quot;class&quot;, &quot;tooltipBox&quot;);</span>
<a href="#l17.34"></a><span id="l17.34">     if (aIsTooltip) {</span>
<a href="#l17.35"></a><span id="l17.35">         // tooltip appears above or below pointer, so may have as little as</span>
<a href="#l17.36"></a><span id="l17.36">         // one half the screen height available (avoid top going off screen).</span>
<a href="#l17.37"></a><span id="l17.37">         vbox.maxHeight = Math.floor(screen.height / 2);</span>
<a href="#l17.38"></a><span id="l17.38">     } else {</span>
<a href="#l17.39"></a><span id="l17.39">         vbox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l17.40"></a><span id="l17.40">     }</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineat">@@ -285,33 +285,33 @@ function getPreviewForEvent(aEvent, aIsT</span>
<a href="#l17.42"></a><span id="l17.42"> }</span>
<a href="#l17.43"></a><span id="l17.43"> </span>
<a href="#l17.44"></a><span id="l17.44"> /**</span>
<a href="#l17.45"></a><span id="l17.45">  * PRIVATE: Append a separator, a thin space between header and body.</span>
<a href="#l17.46"></a><span id="l17.46">  *</span>
<a href="#l17.47"></a><span id="l17.47">  * @param {Node}  vbox  box to which to append separator.</span>
<a href="#l17.48"></a><span id="l17.48">  */</span>
<a href="#l17.49"></a><span id="l17.49"> function boxAppendBodySeparator(vbox) {</span>
<a href="#l17.50"></a><span id="l17.50" class="difflineminus">-    const separator = document.createElement(&quot;separator&quot;);</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineplus">+    const separator = document.createXULElement(&quot;separator&quot;);</span>
<a href="#l17.52"></a><span id="l17.52">     separator.setAttribute(&quot;class&quot;, &quot;tooltipBodySeparator&quot;);</span>
<a href="#l17.53"></a><span id="l17.53">     vbox.appendChild(separator);</span>
<a href="#l17.54"></a><span id="l17.54"> }</span>
<a href="#l17.55"></a><span id="l17.55"> </span>
<a href="#l17.56"></a><span id="l17.56"> /**</span>
<a href="#l17.57"></a><span id="l17.57">  * PRIVATE: Append description to box for body text.  Text may contain</span>
<a href="#l17.58"></a><span id="l17.58">  * paragraphs; line indent and line breaks will be preserved by CSS.</span>
<a href="#l17.59"></a><span id="l17.59">  *</span>
<a href="#l17.60"></a><span id="l17.60">  * @param box           box to which to append body</span>
<a href="#l17.61"></a><span id="l17.61">  * @param textString    text of body</span>
<a href="#l17.62"></a><span id="l17.62">  * @param aIsTooltip    true for &quot;tooltip&quot; and false for &quot;conflict-dialog&quot; case</span>
<a href="#l17.63"></a><span id="l17.63">  */</span>
<a href="#l17.64"></a><span id="l17.64"> function boxAppendBody(box, textString, aIsTooltip) {</span>
<a href="#l17.65"></a><span id="l17.65">     let type = (aIsTooltip) ? &quot;description&quot;: &quot;vbox&quot;;</span>
<a href="#l17.66"></a><span id="l17.66">     let textNode = document.createTextNode(textString);</span>
<a href="#l17.67"></a><span id="l17.67" class="difflineminus">-    let xulDescription = document.createElement(type);</span>
<a href="#l17.68"></a><span id="l17.68" class="difflineplus">+    let xulDescription = document.createXULElement(type);</span>
<a href="#l17.69"></a><span id="l17.69">     xulDescription.setAttribute(&quot;class&quot;, &quot;tooltipBody&quot;);</span>
<a href="#l17.70"></a><span id="l17.70">     if (!aIsTooltip) {</span>
<a href="#l17.71"></a><span id="l17.71">         xulDescription.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l17.72"></a><span id="l17.72">     }</span>
<a href="#l17.73"></a><span id="l17.73">     xulDescription.appendChild(textNode);</span>
<a href="#l17.74"></a><span id="l17.74">     box.appendChild(xulDescription);</span>
<a href="#l17.75"></a><span id="l17.75"> }</span>
<a href="#l17.76"></a><span id="l17.76"> </span>
<a href="#l17.77"></a><span id="l17.77" class="difflineat">@@ -343,76 +343,76 @@ function boxAppendLabeledDateTimeInterva</span>
<a href="#l17.78"></a><span id="l17.78"> }</span>
<a href="#l17.79"></a><span id="l17.79"> </span>
<a href="#l17.80"></a><span id="l17.80"> /**</span>
<a href="#l17.81"></a><span id="l17.81">  * PRIVATE: create empty 2-column grid for header fields, and append it to box.</span>
<a href="#l17.82"></a><span id="l17.82">  *</span>
<a href="#l17.83"></a><span id="l17.83">  * @param  {Node}  box  The node to create a column grid for</span>
<a href="#l17.84"></a><span id="l17.84">  */</span>
<a href="#l17.85"></a><span id="l17.85"> function boxInitializeHeaderGrid(box) {</span>
<a href="#l17.86"></a><span id="l17.86" class="difflineminus">-    let grid = document.createElement(&quot;grid&quot;);</span>
<a href="#l17.87"></a><span id="l17.87" class="difflineplus">+    let grid = document.createXULElement(&quot;grid&quot;);</span>
<a href="#l17.88"></a><span id="l17.88">     grid.setAttribute(&quot;class&quot;, &quot;tooltipHeaderGrid&quot;);</span>
<a href="#l17.89"></a><span id="l17.89">     let rows;</span>
<a href="#l17.90"></a><span id="l17.90">     {</span>
<a href="#l17.91"></a><span id="l17.91" class="difflineminus">-        let columns = document.createElement(&quot;columns&quot;);</span>
<a href="#l17.92"></a><span id="l17.92" class="difflineplus">+        let columns = document.createXULElement(&quot;columns&quot;);</span>
<a href="#l17.93"></a><span id="l17.93">         {</span>
<a href="#l17.94"></a><span id="l17.94" class="difflineminus">-            let labelColumn = document.createElement(&quot;column&quot;);</span>
<a href="#l17.95"></a><span id="l17.95" class="difflineplus">+            let labelColumn = document.createXULElement(&quot;column&quot;);</span>
<a href="#l17.96"></a><span id="l17.96">             labelColumn.setAttribute(&quot;class&quot;, &quot;tooltipLabelColumn&quot;);</span>
<a href="#l17.97"></a><span id="l17.97">             columns.appendChild(labelColumn);</span>
<a href="#l17.98"></a><span id="l17.98" class="difflineminus">-            let valueColumn = document.createElement(&quot;column&quot;);</span>
<a href="#l17.99"></a><span id="l17.99" class="difflineplus">+            let valueColumn = document.createXULElement(&quot;column&quot;);</span>
<a href="#l17.100"></a><span id="l17.100">             valueColumn.setAttribute(&quot;class&quot;, &quot;tooltipValueColumn&quot;);</span>
<a href="#l17.101"></a><span id="l17.101">             columns.appendChild(valueColumn);</span>
<a href="#l17.102"></a><span id="l17.102">         }</span>
<a href="#l17.103"></a><span id="l17.103">         grid.appendChild(columns);</span>
<a href="#l17.104"></a><span id="l17.104" class="difflineminus">-        rows = document.createElement(&quot;rows&quot;);</span>
<a href="#l17.105"></a><span id="l17.105" class="difflineplus">+        rows = document.createXULElement(&quot;rows&quot;);</span>
<a href="#l17.106"></a><span id="l17.106">         grid.appendChild(rows);</span>
<a href="#l17.107"></a><span id="l17.107">     }</span>
<a href="#l17.108"></a><span id="l17.108">     box.appendChild(grid);</span>
<a href="#l17.109"></a><span id="l17.109"> }</span>
<a href="#l17.110"></a><span id="l17.110"> </span>
<a href="#l17.111"></a><span id="l17.111"> /**</span>
<a href="#l17.112"></a><span id="l17.112">  * PRIVATE: To headers grid, append a row containing Label: value, where label</span>
<a href="#l17.113"></a><span id="l17.113">  * is localized text for labelProperty.</span>
<a href="#l17.114"></a><span id="l17.114">  *</span>
<a href="#l17.115"></a><span id="l17.115">  * @param box               box containing headers grid</span>
<a href="#l17.116"></a><span id="l17.116">  * @param labelProperty     name of property for localized name of header</span>
<a href="#l17.117"></a><span id="l17.117">  * @param textString        value of header field.</span>
<a href="#l17.118"></a><span id="l17.118">  */</span>
<a href="#l17.119"></a><span id="l17.119"> function boxAppendLabeledText(box, labelProperty, textString) {</span>
<a href="#l17.120"></a><span id="l17.120">     let labelText = cal.l10n.getCalString(labelProperty);</span>
<a href="#l17.121"></a><span id="l17.121">     let rows = box.getElementsByTagNameNS(box.namespaceURI, &quot;rows&quot;)[0];</span>
<a href="#l17.122"></a><span id="l17.122" class="difflineminus">-    let row = document.createElement(&quot;row&quot;);</span>
<a href="#l17.123"></a><span id="l17.123" class="difflineplus">+    let row = document.createXULElement(&quot;row&quot;);</span>
<a href="#l17.124"></a><span id="l17.124"> </span>
<a href="#l17.125"></a><span id="l17.125">     row.appendChild(createTooltipHeaderLabel(labelText));</span>
<a href="#l17.126"></a><span id="l17.126">     row.appendChild(createTooltipHeaderDescription(textString));</span>
<a href="#l17.127"></a><span id="l17.127"> </span>
<a href="#l17.128"></a><span id="l17.128">     rows.appendChild(row);</span>
<a href="#l17.129"></a><span id="l17.129"> }</span>
<a href="#l17.130"></a><span id="l17.130"> </span>
<a href="#l17.131"></a><span id="l17.131"> /**</span>
<a href="#l17.132"></a><span id="l17.132">  * PRIVATE: Creates an element for field label (for header grid)</span>
<a href="#l17.133"></a><span id="l17.133">  *</span>
<a href="#l17.134"></a><span id="l17.134">  * @param   {String} text  The text to display in the node</span>
<a href="#l17.135"></a><span id="l17.135">  * @returns {Node}         The node</span>
<a href="#l17.136"></a><span id="l17.136">  */</span>
<a href="#l17.137"></a><span id="l17.137"> function createTooltipHeaderLabel(text) {</span>
<a href="#l17.138"></a><span id="l17.138" class="difflineminus">-    let label = document.createElement(&quot;label&quot;);</span>
<a href="#l17.139"></a><span id="l17.139" class="difflineplus">+    let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l17.140"></a><span id="l17.140">     label.setAttribute(&quot;class&quot;, &quot;tooltipHeaderLabel&quot;);</span>
<a href="#l17.141"></a><span id="l17.141">     label.appendChild(document.createTextNode(text));</span>
<a href="#l17.142"></a><span id="l17.142">     return label;</span>
<a href="#l17.143"></a><span id="l17.143"> }</span>
<a href="#l17.144"></a><span id="l17.144"> </span>
<a href="#l17.145"></a><span id="l17.145"> /**</span>
<a href="#l17.146"></a><span id="l17.146">  * PRIVATE: Creates an element for field value (for header grid)</span>
<a href="#l17.147"></a><span id="l17.147">  *</span>
<a href="#l17.148"></a><span id="l17.148">  * @param   {String} text  The text to display in the node</span>
<a href="#l17.149"></a><span id="l17.149">  * @returns {Node}         The node</span>
<a href="#l17.150"></a><span id="l17.150">  */</span>
<a href="#l17.151"></a><span id="l17.151"> function createTooltipHeaderDescription(text) {</span>
<a href="#l17.152"></a><span id="l17.152" class="difflineminus">-    let label = document.createElement(&quot;description&quot;);</span>
<a href="#l17.153"></a><span id="l17.153" class="difflineplus">+    let label = document.createXULElement(&quot;description&quot;);</span>
<a href="#l17.154"></a><span id="l17.154">     label.setAttribute(&quot;class&quot;, &quot;tooltipHeaderDescription&quot;);</span>
<a href="#l17.155"></a><span id="l17.155">     label.appendChild(document.createTextNode(text));</span>
<a href="#l17.156"></a><span id="l17.156">     return label;</span>
<a href="#l17.157"></a><span id="l17.157"> }</span>
<a href="#l17.158"></a><span id="l17.158"> </span>
<a href="#l17.159"></a><span id="l17.159"> /**</span>
<a href="#l17.160"></a><span id="l17.160">  * PRIVATE: If now is during an occurrence, return the occurrence. If now is</span>
<a href="#l17.161"></a><span id="l17.161">  * before an occurrence, return the next occurrence or otherwise the previous</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/chat/content/conversation-browser.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/chat/content/conversation-browser.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -19,17 +19,17 @@ var {smileTextNode} = ChromeUtils.import</span>
<a href="#l18.4"></a><span id="l18.4"> var {cleanupImMarkup} = ChromeUtils.import(&quot;resource:///modules/imContentSink.jsm&quot;);</span>
<a href="#l18.5"></a><span id="l18.5"> </span>
<a href="#l18.6"></a><span id="l18.6"> (function() {</span>
<a href="#l18.7"></a><span id="l18.7">   // &lt;browser&gt; is lazily set up through setElementCreationCallback,</span>
<a href="#l18.8"></a><span id="l18.8">   // i.e. put into customElements the first time it's really seen.</span>
<a href="#l18.9"></a><span id="l18.9">   // Create a fake to ensure browser exists in customElements, since otherwise</span>
<a href="#l18.10"></a><span id="l18.10">   // we can't extend it. Then make sure this fake doesn't stay around.</span>
<a href="#l18.11"></a><span id="l18.11">   if (!customElements.get(&quot;browser&quot;)) {</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-    delete document.createElement(&quot;browser&quot;);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+    delete document.createXULElement(&quot;browser&quot;);</span>
<a href="#l18.14"></a><span id="l18.14">   }</span>
<a href="#l18.15"></a><span id="l18.15"> })();</span>
<a href="#l18.16"></a><span id="l18.16"> </span>
<a href="#l18.17"></a><span id="l18.17"> /**</span>
<a href="#l18.18"></a><span id="l18.18">  * The chat conversation browser, i.e. the main content on the chat tab.</span>
<a href="#l18.19"></a><span id="l18.19">  * @augments {MozBrowser}</span>
<a href="#l18.20"></a><span id="l18.20">  */</span>
<a href="#l18.21"></a><span id="l18.21"> class MozConversationBrowser extends customElements.get(&quot;browser&quot;) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/chat/content/imAccountOptionsHelper.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/chat/content/imAccountOptionsHelper.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,58 +1,58 @@</span>
<a href="#l19.4"></a><span id="l19.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.5"></a><span id="l19.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.6"></a><span id="l19.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8"> var accountOptionsHelper = {</span>
<a href="#l19.9"></a><span id="l19.9">   createTextbox(aType, aValue, aLabel, aName) {</span>
<a href="#l19.10"></a><span id="l19.10" class="difflineminus">-    let container = document.createElement(&quot;hbox&quot;);</span>
<a href="#l19.11"></a><span id="l19.11" class="difflineplus">+    let container = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l19.12"></a><span id="l19.12">     container.setAttribute(&quot;align&quot;, &quot;baseline&quot;);</span>
<a href="#l19.13"></a><span id="l19.13">     container.setAttribute(&quot;equalsize&quot;, &quot;always&quot;);</span>
<a href="#l19.14"></a><span id="l19.14"> </span>
<a href="#l19.15"></a><span id="l19.15" class="difflineminus">-    let label = document.createElement(&quot;label&quot;);</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineplus">+    let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l19.17"></a><span id="l19.17">     label.textContent = aLabel;</span>
<a href="#l19.18"></a><span id="l19.18">     label.setAttribute(&quot;control&quot;, aName);</span>
<a href="#l19.19"></a><span id="l19.19">     label.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l19.20"></a><span id="l19.20">     container.appendChild(label);</span>
<a href="#l19.21"></a><span id="l19.21"> </span>
<a href="#l19.22"></a><span id="l19.22" class="difflineminus">-    let hbox = document.createElement(&quot;hbox&quot;);</span>
<a href="#l19.23"></a><span id="l19.23" class="difflineminus">-    let textbox = document.createElement(&quot;textbox&quot;);</span>
<a href="#l19.24"></a><span id="l19.24" class="difflineplus">+    let hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l19.25"></a><span id="l19.25" class="difflineplus">+    let textbox = document.createXULElement(&quot;textbox&quot;);</span>
<a href="#l19.26"></a><span id="l19.26">     if (aType) {</span>
<a href="#l19.27"></a><span id="l19.27">       textbox.setAttribute(&quot;type&quot;, aType);</span>
<a href="#l19.28"></a><span id="l19.28">     }</span>
<a href="#l19.29"></a><span id="l19.29">     textbox.setAttribute(&quot;value&quot;, aValue);</span>
<a href="#l19.30"></a><span id="l19.30">     textbox.setAttribute(&quot;id&quot;, aName);</span>
<a href="#l19.31"></a><span id="l19.31">     textbox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l19.32"></a><span id="l19.32">     hbox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l19.33"></a><span id="l19.33">     hbox.setAttribute(&quot;align&quot;, &quot;start&quot;);</span>
<a href="#l19.34"></a><span id="l19.34">     hbox.appendChild(textbox);</span>
<a href="#l19.35"></a><span id="l19.35"> </span>
<a href="#l19.36"></a><span id="l19.36">     container.appendChild(hbox);</span>
<a href="#l19.37"></a><span id="l19.37">     return container;</span>
<a href="#l19.38"></a><span id="l19.38">   },</span>
<a href="#l19.39"></a><span id="l19.39"> </span>
<a href="#l19.40"></a><span id="l19.40">   createMenulist(aList, aLabel, aName) {</span>
<a href="#l19.41"></a><span id="l19.41" class="difflineminus">-    let vbox = document.createElement(&quot;vbox&quot;);</span>
<a href="#l19.42"></a><span id="l19.42" class="difflineminus">-    let hbox = document.createElement(&quot;hbox&quot;);</span>
<a href="#l19.43"></a><span id="l19.43" class="difflineplus">+    let vbox = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l19.44"></a><span id="l19.44" class="difflineplus">+    let hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l19.45"></a><span id="l19.45"> </span>
<a href="#l19.46"></a><span id="l19.46" class="difflineminus">-    let label = document.createElement(&quot;label&quot;);</span>
<a href="#l19.47"></a><span id="l19.47" class="difflineplus">+    let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l19.48"></a><span id="l19.48">     label.setAttribute(&quot;value&quot;, aLabel);</span>
<a href="#l19.49"></a><span id="l19.49">     label.setAttribute(&quot;control&quot;, aName);</span>
<a href="#l19.50"></a><span id="l19.50">     hbox.appendChild(label);</span>
<a href="#l19.51"></a><span id="l19.51">     vbox.appendChild(hbox);</span>
<a href="#l19.52"></a><span id="l19.52"> </span>
<a href="#l19.53"></a><span id="l19.53">     aList.QueryInterface(Ci.nsISimpleEnumerator);</span>
<a href="#l19.54"></a><span id="l19.54" class="difflineminus">-    let menulist = document.createElement(&quot;menulist&quot;);</span>
<a href="#l19.55"></a><span id="l19.55" class="difflineplus">+    let menulist = document.createXULElement(&quot;menulist&quot;);</span>
<a href="#l19.56"></a><span id="l19.56">     menulist.setAttribute(&quot;id&quot;, aName);</span>
<a href="#l19.57"></a><span id="l19.57">     menulist.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l19.58"></a><span id="l19.58" class="difflineminus">-    let popup = menulist.appendChild(document.createElement(&quot;menupopup&quot;));</span>
<a href="#l19.59"></a><span id="l19.59" class="difflineplus">+    let popup = menulist.appendChild(document.createXULElement(&quot;menupopup&quot;));</span>
<a href="#l19.60"></a><span id="l19.60">     while (aList.hasMoreElements()) {</span>
<a href="#l19.61"></a><span id="l19.61">       let elt = aList.getNext();</span>
<a href="#l19.62"></a><span id="l19.62" class="difflineminus">-      let item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l19.63"></a><span id="l19.63" class="difflineplus">+      let item = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l19.64"></a><span id="l19.64">       item.setAttribute(&quot;label&quot;, elt.name);</span>
<a href="#l19.65"></a><span id="l19.65">       item.setAttribute(&quot;value&quot;, elt.value);</span>
<a href="#l19.66"></a><span id="l19.66">       popup.appendChild(item);</span>
<a href="#l19.67"></a><span id="l19.67">     }</span>
<a href="#l19.68"></a><span id="l19.68">     vbox.appendChild(menulist);</span>
<a href="#l19.69"></a><span id="l19.69">     return vbox;</span>
<a href="#l19.70"></a><span id="l19.70">   },</span>
<a href="#l19.71"></a><span id="l19.71"> </span>
<a href="#l19.72"></a><span id="l19.72" class="difflineat">@@ -66,18 +66,18 @@ var accountOptionsHelper = {</span>
<a href="#l19.73"></a><span id="l19.73">     }</span>
<a href="#l19.74"></a><span id="l19.74"> </span>
<a href="#l19.75"></a><span id="l19.75">     let haveOptions = false;</span>
<a href="#l19.76"></a><span id="l19.76">     for (let opt of aOptions) {</span>
<a href="#l19.77"></a><span id="l19.77">       let text = opt.label;</span>
<a href="#l19.78"></a><span id="l19.78">       let name = aIdPrefix + opt.name;</span>
<a href="#l19.79"></a><span id="l19.79">       switch (opt.type) {</span>
<a href="#l19.80"></a><span id="l19.80">         case Ci.prplIPref.typeBool:</span>
<a href="#l19.81"></a><span id="l19.81" class="difflineminus">-          let chk = document.createElement(&quot;checkbox&quot;);</span>
<a href="#l19.82"></a><span id="l19.82" class="difflineminus">-          let hbox = document.createElement(&quot;hbox&quot;);</span>
<a href="#l19.83"></a><span id="l19.83" class="difflineplus">+          let chk = document.createXULElement(&quot;checkbox&quot;);</span>
<a href="#l19.84"></a><span id="l19.84" class="difflineplus">+          let hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l19.85"></a><span id="l19.85">           hbox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l19.86"></a><span id="l19.86">           chk.setAttribute(&quot;label&quot;, text);</span>
<a href="#l19.87"></a><span id="l19.87">           chk.setAttribute(&quot;id&quot;, name);</span>
<a href="#l19.88"></a><span id="l19.88">           if (opt.getBool()) {</span>
<a href="#l19.89"></a><span id="l19.89">             chk.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l19.90"></a><span id="l19.90">           }</span>
<a href="#l19.91"></a><span id="l19.91">           hbox.appendChild(chk);</span>
<a href="#l19.92"></a><span id="l19.92">           vbox.appendChild(hbox);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/common/src/browser-development-helpers.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/common/src/browser-development-helpers.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -21,30 +21,30 @@ var DevelopmentHelpers = {</span>
<a href="#l20.4"></a><span id="l20.4">     let env = Cc[&quot;@mozilla.org/process/environment;1&quot;].</span>
<a href="#l20.5"></a><span id="l20.5">               getService(Ci.nsIEnvironment);</span>
<a href="#l20.6"></a><span id="l20.6">     env.set(&quot;MOZ_DISABLE_SAFE_MODE_KEY&quot;, &quot;1&quot;);</span>
<a href="#l20.7"></a><span id="l20.7"> </span>
<a href="#l20.8"></a><span id="l20.8">     Services.startup.quit(Ci.nsIAppStartup.eAttemptQuit | Ci.nsIAppStartup.eRestart);</span>
<a href="#l20.9"></a><span id="l20.9">   },</span>
<a href="#l20.10"></a><span id="l20.10"> </span>
<a href="#l20.11"></a><span id="l20.11">   addRestartShortcut() {</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-    let command = document.createElement(&quot;command&quot;);</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+    let command = document.createXULElement(&quot;command&quot;);</span>
<a href="#l20.14"></a><span id="l20.14">     command.setAttribute(&quot;id&quot;, &quot;cmd_quickRestart&quot;);</span>
<a href="#l20.15"></a><span id="l20.15">     command.addEventListener(&quot;command&quot;, this.quickRestart, true);</span>
<a href="#l20.16"></a><span id="l20.16">     command.setAttribute(&quot;oncommand&quot;, &quot;void 0;&quot;); // Needed - bug 371900</span>
<a href="#l20.17"></a><span id="l20.17">     document.getElementById(&quot;mainCommandSet&quot;).prepend(command);</span>
<a href="#l20.18"></a><span id="l20.18"> </span>
<a href="#l20.19"></a><span id="l20.19" class="difflineminus">-    let key = document.createElement(&quot;key&quot;);</span>
<a href="#l20.20"></a><span id="l20.20" class="difflineplus">+    let key = document.createXULElement(&quot;key&quot;);</span>
<a href="#l20.21"></a><span id="l20.21">     key.setAttribute(&quot;id&quot;, &quot;key_quickRestart&quot;);</span>
<a href="#l20.22"></a><span id="l20.22">     key.setAttribute(&quot;key&quot;, &quot;r&quot;);</span>
<a href="#l20.23"></a><span id="l20.23">     key.setAttribute(&quot;modifiers&quot;, &quot;accel,alt&quot;);</span>
<a href="#l20.24"></a><span id="l20.24">     key.setAttribute(&quot;command&quot;, &quot;cmd_quickRestart&quot;);</span>
<a href="#l20.25"></a><span id="l20.25">     key.setAttribute(&quot;oncommand&quot;, &quot;void 0;&quot;); // Needed - bug 371900</span>
<a href="#l20.26"></a><span id="l20.26">     document.getElementById(&quot;mainKeyset&quot;).prepend(key);</span>
<a href="#l20.27"></a><span id="l20.27"> </span>
<a href="#l20.28"></a><span id="l20.28" class="difflineminus">-    let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l20.29"></a><span id="l20.29" class="difflineplus">+    let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l20.30"></a><span id="l20.30">     menuitem.setAttribute(&quot;id&quot;, &quot;menu_FileRestartItem&quot;);</span>
<a href="#l20.31"></a><span id="l20.31">     menuitem.setAttribute(&quot;key&quot;, &quot;key_quickRestart&quot;);</span>
<a href="#l20.32"></a><span id="l20.32">     menuitem.setAttribute(&quot;label&quot;, &quot;Restart (Developer)&quot;);</span>
<a href="#l20.33"></a><span id="l20.33">     menuitem.addEventListener(&quot;command&quot;, this.quickRestart, true);</span>
<a href="#l20.34"></a><span id="l20.34">     document.getElementById(&quot;menu_FilePopup&quot;).appendChild(menuitem);</span>
<a href="#l20.35"></a><span id="l20.35">   },</span>
<a href="#l20.36"></a><span id="l20.36"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/common/src/viewSource.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/common/src/viewSource.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -680,17 +680,17 @@ var viewSourceChrome = new ViewSourceChr</span>
<a href="#l21.4"></a><span id="l21.4"> /**</span>
<a href="#l21.5"></a><span id="l21.5">  * PrintUtils uses this to make Print Preview work.</span>
<a href="#l21.6"></a><span id="l21.6">  */</span>
<a href="#l21.7"></a><span id="l21.7"> var PrintPreviewListener = {</span>
<a href="#l21.8"></a><span id="l21.8">   _ppBrowser: null,</span>
<a href="#l21.9"></a><span id="l21.9"> </span>
<a href="#l21.10"></a><span id="l21.10">   getPrintPreviewBrowser() {</span>
<a href="#l21.11"></a><span id="l21.11">     if (!this._ppBrowser) {</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-      this._ppBrowser = document.createElement(&quot;browser&quot;);</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+      this._ppBrowser = document.createXULElement(&quot;browser&quot;);</span>
<a href="#l21.14"></a><span id="l21.14">       this._ppBrowser.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l21.15"></a><span id="l21.15">       this._ppBrowser.setAttribute(&quot;type&quot;, &quot;content&quot;);</span>
<a href="#l21.16"></a><span id="l21.16">     }</span>
<a href="#l21.17"></a><span id="l21.17"> </span>
<a href="#l21.18"></a><span id="l21.18">     if (gBrowser.isRemoteBrowser) {</span>
<a href="#l21.19"></a><span id="l21.19">       this._ppBrowser.setAttribute(&quot;remote&quot;, &quot;true&quot;);</span>
<a href="#l21.20"></a><span id="l21.20">     } else {</span>
<a href="#l21.21"></a><span id="l21.21">       this._ppBrowser.removeAttribute(&quot;remote&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/editor/ui/composer/content/StructBarContextMenu.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/editor/ui/composer/content/StructBarContextMenu.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -146,17 +146,17 @@ function OnKeyPress(event)</span>
<a href="#l22.4"></a><span id="l22.4">     var childNodes = element.parentNode.childNodes;</span>
<a href="#l22.5"></a><span id="l22.5">     while (childNodes.item(offset) != element) {</span>
<a href="#l22.6"></a><span id="l22.6">       offset++;</span>
<a href="#l22.7"></a><span id="l22.7">     }</span>
<a href="#l22.8"></a><span id="l22.8"> </span>
<a href="#l22.9"></a><span id="l22.9">     editor.beginTransaction();</span>
<a href="#l22.10"></a><span id="l22.10"> </span>
<a href="#l22.11"></a><span id="l22.11">     try {</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-      var newElt = editor.document.createElement(newTag);</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+      var newElt = editor.document.createXULElement(newTag);</span>
<a href="#l22.14"></a><span id="l22.14">       if (newElt) {</span>
<a href="#l22.15"></a><span id="l22.15">         childNodes = element.childNodes;</span>
<a href="#l22.16"></a><span id="l22.16">         var childNodesLength = childNodes.length;</span>
<a href="#l22.17"></a><span id="l22.17">         var i;</span>
<a href="#l22.18"></a><span id="l22.18">         for (i = 0; i &lt; childNodesLength; i++) {</span>
<a href="#l22.19"></a><span id="l22.19">           var clone = childNodes.item(i).cloneNode(true);</span>
<a href="#l22.20"></a><span id="l22.20">           newElt.appendChild(clone);</span>
<a href="#l22.21"></a><span id="l22.21">         }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/editor/ui/composer/content/editingOverlay.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/editor/ui/composer/content/editingOverlay.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -127,17 +127,17 @@ function toggleAffectedChrome(aHide)</span>
<a href="#l23.4"></a><span id="l23.4">   document.getElementById(&quot;EditorToolbox&quot;).hidden = aHide;</span>
<a href="#l23.5"></a><span id="l23.5">   document.getElementById(&quot;appcontent&quot;).collapsed = aHide;</span>
<a href="#l23.6"></a><span id="l23.6"> }</span>
<a href="#l23.7"></a><span id="l23.7"> </span>
<a href="#l23.8"></a><span id="l23.8"> var PrintPreviewListener = {</span>
<a href="#l23.9"></a><span id="l23.9">   getPrintPreviewBrowser: function () {</span>
<a href="#l23.10"></a><span id="l23.10">     var browser = document.getElementById(&quot;ppBrowser&quot;);</span>
<a href="#l23.11"></a><span id="l23.11">     if (!browser) {</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-      browser = document.createElement(&quot;browser&quot;);</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+      browser = document.createXULElement(&quot;browser&quot;);</span>
<a href="#l23.14"></a><span id="l23.14">       browser.setAttribute(&quot;id&quot;, &quot;ppBrowser&quot;);</span>
<a href="#l23.15"></a><span id="l23.15">       browser.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l23.16"></a><span id="l23.16">       browser.setAttribute(&quot;disablehistory&quot;, &quot;true&quot;);</span>
<a href="#l23.17"></a><span id="l23.17">       browser.setAttribute(&quot;disablesecurity&quot;, &quot;true&quot;);</span>
<a href="#l23.18"></a><span id="l23.18">       browser.setAttribute(&quot;type&quot;, &quot;content&quot;);</span>
<a href="#l23.19"></a><span id="l23.19">       document.getElementById(&quot;sidebar-parent&quot;).</span>
<a href="#l23.20"></a><span id="l23.20">         insertBefore(browser, document.getElementById(&quot;appcontent&quot;));</span>
<a href="#l23.21"></a><span id="l23.21">     }</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineat">@@ -279,17 +279,17 @@ function BuildRecentPagesMenu()</span>
<a href="#l23.23"></a><span id="l23.23">   }</span>
<a href="#l23.24"></a><span id="l23.24"> }</span>
<a href="#l23.25"></a><span id="l23.25"> </span>
<a href="#l23.26"></a><span id="l23.26"> function AppendRecentMenuitem(aPopup, aTitle, aUrl, aFileType, aIndex)</span>
<a href="#l23.27"></a><span id="l23.27"> {</span>
<a href="#l23.28"></a><span id="l23.28">   if (!aPopup)</span>
<a href="#l23.29"></a><span id="l23.29">     return;</span>
<a href="#l23.30"></a><span id="l23.30"> </span>
<a href="#l23.31"></a><span id="l23.31" class="difflineminus">-  var menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineplus">+  var menuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l23.33"></a><span id="l23.33">   if (!menuItem)</span>
<a href="#l23.34"></a><span id="l23.34">     return;</span>
<a href="#l23.35"></a><span id="l23.35"> </span>
<a href="#l23.36"></a><span id="l23.36">   var accessKey = aIndex &lt;= 10 ? String(aIndex % 10) : &quot; &quot;;</span>
<a href="#l23.37"></a><span id="l23.37"> </span>
<a href="#l23.38"></a><span id="l23.38">   // Show &quot;title [url]&quot; or just the URL.</span>
<a href="#l23.39"></a><span id="l23.39">   var itemString = aTitle ? aTitle + &quot; [&quot; + aUrl + &quot;]&quot; : aUrl;</span>
<a href="#l23.40"></a><span id="l23.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdDialogCommon.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdDialogCommon.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -851,17 +851,17 @@ function FillLinkMenulist(linkMenulist, </span>
<a href="#l24.4"></a><span id="l24.4">       }</span>
<a href="#l24.5"></a><span id="l24.5">       var item = createMenuItem(menupopup, GetString(&quot;NoNamedAnchorsOrHeadings&quot;));</span>
<a href="#l24.6"></a><span id="l24.6">       item.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l24.7"></a><span id="l24.7">     }</span>
<a href="#l24.8"></a><span id="l24.8">   } catch (e) {}</span>
<a href="#l24.9"></a><span id="l24.9"> }</span>
<a href="#l24.10"></a><span id="l24.10"> </span>
<a href="#l24.11"></a><span id="l24.11"> function createMenuItem(aMenuPopup, aLabel) {</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-  var menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+  var menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l24.14"></a><span id="l24.14">   menuitem.setAttribute(&quot;label&quot;, aLabel);</span>
<a href="#l24.15"></a><span id="l24.15">   aMenuPopup.appendChild(menuitem);</span>
<a href="#l24.16"></a><span id="l24.16">   return menuitem;</span>
<a href="#l24.17"></a><span id="l24.17"> }</span>
<a href="#l24.18"></a><span id="l24.18"> </span>
<a href="#l24.19"></a><span id="l24.19"> // Shared by Image and Link dialogs for the &quot;Choose&quot; button for links</span>
<a href="#l24.20"></a><span id="l24.20"> function chooseLinkFile() {</span>
<a href="#l24.21"></a><span id="l24.21">   GetLocalFileURL(&quot;html, img&quot;).then(fileURL =&gt; {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mail/base/content/FilterListDialog.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mail/base/content/FilterListDialog.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -703,22 +703,22 @@ function rebuildFilterList() {</span>
<a href="#l25.4"></a><span id="l25.4">     if (listitemCount &gt; listitemIndex) {</span>
<a href="#l25.5"></a><span id="l25.5">       // If there is a free existing listitem, reuse it.</span>
<a href="#l25.6"></a><span id="l25.6">       // Use .itemChildren[] instead of .getItemAtIndex() as it is much faster.</span>
<a href="#l25.7"></a><span id="l25.7">       listitem = gFilterListbox.itemChildren[listitemIndex];</span>
<a href="#l25.8"></a><span id="l25.8">       nameCell = listitem.firstChild;</span>
<a href="#l25.9"></a><span id="l25.9">       enabledCell = nameCell.nextSibling;</span>
<a href="#l25.10"></a><span id="l25.10">     } else {</span>
<a href="#l25.11"></a><span id="l25.11">       // If there are not enough listitems in the list, create a new one.</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-      listitem = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+      listitem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l25.14"></a><span id="l25.14">       listitem.setAttribute(&quot;align&quot;, &quot;center&quot;);</span>
<a href="#l25.15"></a><span id="l25.15">       listitem.setAttribute(&quot;role&quot;, &quot;checkbox&quot;);</span>
<a href="#l25.16"></a><span id="l25.16" class="difflineminus">-      nameCell = document.createElement(&quot;label&quot;);</span>
<a href="#l25.17"></a><span id="l25.17" class="difflineplus">+      nameCell = document.createXULElement(&quot;label&quot;);</span>
<a href="#l25.18"></a><span id="l25.18">       nameCell.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l25.19"></a><span id="l25.19" class="difflineminus">-      enabledCell = document.createElement(&quot;checkbox&quot;);</span>
<a href="#l25.20"></a><span id="l25.20" class="difflineplus">+      enabledCell = document.createXULElement(&quot;checkbox&quot;);</span>
<a href="#l25.21"></a><span id="l25.21">       enabledCell.setAttribute(&quot;style&quot;, &quot;padding-inline-start: 25px;&quot;);</span>
<a href="#l25.22"></a><span id="l25.22">       enabledCell.addEventListener(&quot;CheckboxStateChange&quot;, onFilterClick, true);</span>
<a href="#l25.23"></a><span id="l25.23">       listitem.appendChild(nameCell);</span>
<a href="#l25.24"></a><span id="l25.24">       listitem.appendChild(enabledCell);</span>
<a href="#l25.25"></a><span id="l25.25">       gFilterListbox.appendChild(listitem);</span>
<a href="#l25.26"></a><span id="l25.26">       // We have to attach this listener to the listitem, even though we only care</span>
<a href="#l25.27"></a><span id="l25.27">       // about clicks on the enabledCell. However, attaching to that item doesn't</span>
<a href="#l25.28"></a><span id="l25.28">       // result in any events actually getting received.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mail/base/content/aboutAddonsExtra.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mail/base/content/aboutAddonsExtra.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -14,29 +14,29 @@ gStrings.mailExt =</span>
<a href="#l26.4"></a><span id="l26.4">   window.isCorrectlySigned = function() { return true; };</span>
<a href="#l26.5"></a><span id="l26.5"> </span>
<a href="#l26.6"></a><span id="l26.6">   let contentStylesheet = document.createProcessingInstruction(</span>
<a href="#l26.7"></a><span id="l26.7">     &quot;xml-stylesheet&quot;,</span>
<a href="#l26.8"></a><span id="l26.8">     'href=&quot;chrome://messenger/content/extensionsOverlay.css&quot; type=&quot;text/css&quot;');</span>
<a href="#l26.9"></a><span id="l26.9">   document.insertBefore(contentStylesheet, document.documentElement);</span>
<a href="#l26.10"></a><span id="l26.10"> </span>
<a href="#l26.11"></a><span id="l26.11">   // Add navigation buttons for back and forward on the addons page.</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-  let hbox = document.createElement(&quot;hbox&quot;);</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+  let hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l26.14"></a><span id="l26.14">   hbox.setAttribute(&quot;id&quot;, &quot;nav-header&quot;);</span>
<a href="#l26.15"></a><span id="l26.15">   hbox.setAttribute(&quot;align&quot;, &quot;center&quot;);</span>
<a href="#l26.16"></a><span id="l26.16">   hbox.setAttribute(&quot;pack&quot;, &quot;center&quot;);</span>
<a href="#l26.17"></a><span id="l26.17"> </span>
<a href="#l26.18"></a><span id="l26.18" class="difflineminus">-  let backButton = document.createElement(&quot;toolbarbutton&quot;);</span>
<a href="#l26.19"></a><span id="l26.19" class="difflineplus">+  let backButton = document.createXULElement(&quot;toolbarbutton&quot;);</span>
<a href="#l26.20"></a><span id="l26.20">   backButton.setAttribute(&quot;id&quot;, &quot;back-btn&quot;);</span>
<a href="#l26.21"></a><span id="l26.21">   backButton.setAttribute(&quot;class&quot;, &quot;nav-button&quot;);</span>
<a href="#l26.22"></a><span id="l26.22">   backButton.setAttribute(&quot;command&quot;, &quot;cmd_back&quot;);</span>
<a href="#l26.23"></a><span id="l26.23">   backButton.setAttribute(&quot;tooltiptext&quot;, gStrings.mailExt.GetStringFromName(&quot;cmdBackTooltip&quot;));</span>
<a href="#l26.24"></a><span id="l26.24">   backButton.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l26.25"></a><span id="l26.25"> </span>
<a href="#l26.26"></a><span id="l26.26" class="difflineminus">-  let forwardButton = document.createElement(&quot;toolbarbutton&quot;);</span>
<a href="#l26.27"></a><span id="l26.27" class="difflineplus">+  let forwardButton = document.createXULElement(&quot;toolbarbutton&quot;);</span>
<a href="#l26.28"></a><span id="l26.28">   forwardButton.setAttribute(&quot;id&quot;, &quot;forward-btn&quot;);</span>
<a href="#l26.29"></a><span id="l26.29">   forwardButton.setAttribute(&quot;class&quot;, &quot;nav-button&quot;);</span>
<a href="#l26.30"></a><span id="l26.30">   forwardButton.setAttribute(&quot;command&quot;, &quot;cmd_forward&quot;);</span>
<a href="#l26.31"></a><span id="l26.31">   forwardButton.setAttribute(&quot;tooltiptext&quot;, gStrings.mailExt.GetStringFromName(&quot;cmdForwardTooltip&quot;));</span>
<a href="#l26.32"></a><span id="l26.32">   forwardButton.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l26.33"></a><span id="l26.33">   hbox.appendChild(backButton);</span>
<a href="#l26.34"></a><span id="l26.34">   hbox.appendChild(forwardButton);</span>
<a href="#l26.35"></a><span id="l26.35"> </span>
<a href="#l26.36"></a><span id="l26.36" class="difflineat">@@ -45,30 +45,30 @@ gStrings.mailExt =</span>
<a href="#l26.37"></a><span id="l26.37"> </span>
<a href="#l26.38"></a><span id="l26.38">   // Fix the &quot;Search on addons.mozilla.org&quot; placeholder text in the searchbox.</span>
<a href="#l26.39"></a><span id="l26.39">   let textbox = document.getElementById(&quot;header-search&quot;);</span>
<a href="#l26.40"></a><span id="l26.40">   let placeholder = textbox.getAttribute(&quot;placeholder&quot;);</span>
<a href="#l26.41"></a><span id="l26.41">   placeholder = placeholder.replace(&quot;addons.mozilla.org&quot;, &quot;addons.thunderbird.net&quot;);</span>
<a href="#l26.42"></a><span id="l26.42">   textbox.setAttribute(&quot;placeholder&quot;, placeholder);</span>
<a href="#l26.43"></a><span id="l26.43"> </span>
<a href="#l26.44"></a><span id="l26.44">   // Tell the world about legacy extensions.</span>
<a href="#l26.45"></a><span id="l26.45" class="difflineminus">-  let alertContainer = document.createElement(&quot;vbox&quot;);</span>
<a href="#l26.46"></a><span id="l26.46" class="difflineplus">+  let alertContainer = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l26.47"></a><span id="l26.47">   alertContainer.id = &quot;tb-legacy-extensions-notice&quot;;</span>
<a href="#l26.48"></a><span id="l26.48">   alertContainer.className = &quot;alert-container&quot;;</span>
<a href="#l26.49"></a><span id="l26.49"> </span>
<a href="#l26.50"></a><span id="l26.50" class="difflineminus">-  let alert = document.createElement(&quot;vbox&quot;);</span>
<a href="#l26.51"></a><span id="l26.51" class="difflineplus">+  let alert = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l26.52"></a><span id="l26.52">   alert.className = &quot;alert&quot;;</span>
<a href="#l26.53"></a><span id="l26.53"> </span>
<a href="#l26.54"></a><span id="l26.54" class="difflineminus">-  let description = document.createElement(&quot;description&quot;);</span>
<a href="#l26.55"></a><span id="l26.55" class="difflineplus">+  let description = document.createXULElement(&quot;description&quot;);</span>
<a href="#l26.56"></a><span id="l26.56">   let messageString = gStrings.mailExt.GetStringFromName(&quot;legacyInfo&quot;) + &quot; &quot;;</span>
<a href="#l26.57"></a><span id="l26.57">   messageString = messageString.replace(&quot;#1&quot;, gStrings.brandShortName);</span>
<a href="#l26.58"></a><span id="l26.58">   messageString = messageString.replace(&quot;#2&quot;, Services.appinfo.version);</span>
<a href="#l26.59"></a><span id="l26.59">   description.textContent = messageString;</span>
<a href="#l26.60"></a><span id="l26.60"> </span>
<a href="#l26.61"></a><span id="l26.61" class="difflineminus">-  let label = document.createElement(&quot;label&quot;);</span>
<a href="#l26.62"></a><span id="l26.62" class="difflineplus">+  let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l26.63"></a><span id="l26.63">   label.className = &quot;text-link plain&quot;;</span>
<a href="#l26.64"></a><span id="l26.64">   label.href = &quot;https://support.mozilla.org/kb/unable-install-add-on-extension-theme-thunderbird&quot;;</span>
<a href="#l26.65"></a><span id="l26.65">   label.value = gStrings.mailExt.GetStringFromName(&quot;legacyLearnMore&quot;);</span>
<a href="#l26.66"></a><span id="l26.66"> </span>
<a href="#l26.67"></a><span id="l26.67">   description.appendChild(label);</span>
<a href="#l26.68"></a><span id="l26.68">   alert.appendChild(description);</span>
<a href="#l26.69"></a><span id="l26.69">   alertContainer.appendChild(alert);</span>
<a href="#l26.70"></a><span id="l26.70"> </span>
<a href="#l26.71"></a><span id="l26.71" class="difflineat">@@ -148,29 +148,29 @@ gDetailView.updateState = function() {</span>
<a href="#l26.72"></a><span id="l26.72">         stringName, [this._addon.name, gStrings.brandShortName], 2</span>
<a href="#l26.73"></a><span id="l26.73">       );</span>
<a href="#l26.74"></a><span id="l26.74"> </span>
<a href="#l26.75"></a><span id="l26.75">       if (version) {</span>
<a href="#l26.76"></a><span id="l26.76">         document.getElementById(&quot;detail-version&quot;).value = version;</span>
<a href="#l26.77"></a><span id="l26.77">       }</span>
<a href="#l26.78"></a><span id="l26.78"> </span>
<a href="#l26.79"></a><span id="l26.79">       if (!restartButton) {</span>
<a href="#l26.80"></a><span id="l26.80" class="difflineminus">-        restartButton = document.createElement(&quot;button&quot;);</span>
<a href="#l26.81"></a><span id="l26.81" class="difflineplus">+        restartButton = document.createXULElement(&quot;button&quot;);</span>
<a href="#l26.82"></a><span id="l26.82">         restartButton.id = &quot;restart-btn&quot;;</span>
<a href="#l26.83"></a><span id="l26.83">         restartButton.className = &quot;button-link restart-btn&quot;;</span>
<a href="#l26.84"></a><span id="l26.84">         restartButton.setAttribute(</span>
<a href="#l26.85"></a><span id="l26.85">           &quot;label&quot;, gStrings.mailExt.GetStringFromName(&quot;warnLegacyRestartButton&quot;)</span>
<a href="#l26.86"></a><span id="l26.86">         );</span>
<a href="#l26.87"></a><span id="l26.87">         restartButton.setAttribute(&quot;oncommand&quot;, &quot;BrowserUtils.restartApplication()&quot;);</span>
<a href="#l26.88"></a><span id="l26.88">         warningContainer.insertBefore(restartButton, warningContainer.lastElementChild);</span>
<a href="#l26.89"></a><span id="l26.89">       }</span>
<a href="#l26.90"></a><span id="l26.90">       restartButton.hidden = false;</span>
<a href="#l26.91"></a><span id="l26.91">       if (undoCommand) {</span>
<a href="#l26.92"></a><span id="l26.92">         if (!undoButton) {</span>
<a href="#l26.93"></a><span id="l26.93" class="difflineminus">-          undoButton = document.createElement(&quot;button&quot;);</span>
<a href="#l26.94"></a><span id="l26.94" class="difflineplus">+          undoButton = document.createXULElement(&quot;button&quot;);</span>
<a href="#l26.95"></a><span id="l26.95">           undoButton.className = &quot;button-link undo-btn&quot;;</span>
<a href="#l26.96"></a><span id="l26.96">           undoButton.setAttribute(</span>
<a href="#l26.97"></a><span id="l26.97">             &quot;label&quot;, gStrings.mailExt.GetStringFromName(&quot;warnLegacyUndoButton&quot;)</span>
<a href="#l26.98"></a><span id="l26.98">           );</span>
<a href="#l26.99"></a><span id="l26.99">           // We shouldn't really attach non-anonymous content to anonymous content, but we can.</span>
<a href="#l26.100"></a><span id="l26.100">           warningContainer.insertBefore(undoButton, warningContainer.lastElementChild);</span>
<a href="#l26.101"></a><span id="l26.101">         }</span>
<a href="#l26.102"></a><span id="l26.102">         undoButton.setAttribute(&quot;oncommand&quot;, undoCommand);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mail/base/content/folderPane.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mail/base/content/folderPane.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -502,17 +502,17 @@ var gFolderTreeView = {</span>
<a href="#l27.4"></a><span id="l27.4">       else</span>
<a href="#l27.5"></a><span id="l27.5">         item.setAttribute(&quot;checked&quot;, &quot;false&quot;);</span>
<a href="#l27.6"></a><span id="l27.6">     }</span>
<a href="#l27.7"></a><span id="l27.7"> </span>
<a href="#l27.8"></a><span id="l27.8">     for (let mode of fullModes)</span>
<a href="#l27.9"></a><span id="l27.9">       appendMode(mode);</span>
<a href="#l27.10"></a><span id="l27.10"> </span>
<a href="#l27.11"></a><span id="l27.11">     if ((fullModes.length &gt; 0) &amp;&amp; (compactModes.length &gt; 0))</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-      modeSelector.menupopup.appendChild(document.createElement(&quot;menuseparator&quot;));</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineplus">+      modeSelector.menupopup.appendChild(document.createXULElement(&quot;menuseparator&quot;));</span>
<a href="#l27.14"></a><span id="l27.14"> </span>
<a href="#l27.15"></a><span id="l27.15">     for (let mode of compactModes)</span>
<a href="#l27.16"></a><span id="l27.16">       appendMode(mode);</span>
<a href="#l27.17"></a><span id="l27.17">   },</span>
<a href="#l27.18"></a><span id="l27.18"> </span>
<a href="#l27.19"></a><span id="l27.19">   _selectModeInSelector(aMode) {</span>
<a href="#l27.20"></a><span id="l27.20">     // Show the mode in the mode selector, if it is on a toolbar.</span>
<a href="#l27.21"></a><span id="l27.21">     let modeSelector = document.getElementById(&quot;folderpane-mode-selector&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mail/base/content/foldersummary.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mail/base/content/foldersummary.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -151,35 +151,35 @@ class MozFolderSummary extends MozXULEle</span>
<a href="#l28.4"></a><span id="l28.4">         }</span>
<a href="#l28.5"></a><span id="l28.5">         this.appendChild(msgPopup);</span>
<a href="#l28.6"></a><span id="l28.6">       }</span>
<a href="#l28.7"></a><span id="l28.7">     }</span>
<a href="#l28.8"></a><span id="l28.8">     return foundNewMsg;</span>
<a href="#l28.9"></a><span id="l28.9">   }</span>
<a href="#l28.10"></a><span id="l28.10"> </span>
<a href="#l28.11"></a><span id="l28.11">   _folderSummaryMessagePopup() {</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-    let vbox = document.createElement(&quot;vbox&quot;);</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+    let vbox = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l28.14"></a><span id="l28.14">     vbox.setAttribute(&quot;class&quot;, &quot;folderSummaryMessage&quot;);</span>
<a href="#l28.15"></a><span id="l28.15"> </span>
<a href="#l28.16"></a><span id="l28.16" class="difflineminus">-    let hbox = document.createElement(&quot;hbox&quot;);</span>
<a href="#l28.17"></a><span id="l28.17" class="difflineplus">+    let hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l28.18"></a><span id="l28.18">     hbox.setAttribute(&quot;class&quot;, &quot;folderSummary-message-row&quot;);</span>
<a href="#l28.19"></a><span id="l28.19"> </span>
<a href="#l28.20"></a><span id="l28.20" class="difflineminus">-    let subject = document.createElement(&quot;label&quot;);</span>
<a href="#l28.21"></a><span id="l28.21" class="difflineplus">+    let subject = document.createXULElement(&quot;label&quot;);</span>
<a href="#l28.22"></a><span id="l28.22">     subject.setAttribute(&quot;class&quot;, &quot;folderSummary-subject&quot;);</span>
<a href="#l28.23"></a><span id="l28.23">     subject.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l28.24"></a><span id="l28.24">     subject.setAttribute(&quot;crop&quot;, &quot;right&quot;);</span>
<a href="#l28.25"></a><span id="l28.25"> </span>
<a href="#l28.26"></a><span id="l28.26" class="difflineminus">-    let sender = document.createElement(&quot;label&quot;);</span>
<a href="#l28.27"></a><span id="l28.27" class="difflineplus">+    let sender = document.createXULElement(&quot;label&quot;);</span>
<a href="#l28.28"></a><span id="l28.28">     sender.setAttribute(&quot;class&quot;, &quot;folderSummary-sender&quot;);</span>
<a href="#l28.29"></a><span id="l28.29">     sender.setAttribute(&quot;crop&quot;, &quot;right&quot;);</span>
<a href="#l28.30"></a><span id="l28.30"> </span>
<a href="#l28.31"></a><span id="l28.31">     hbox.appendChild(subject);</span>
<a href="#l28.32"></a><span id="l28.32">     hbox.appendChild(sender);</span>
<a href="#l28.33"></a><span id="l28.33"> </span>
<a href="#l28.34"></a><span id="l28.34" class="difflineminus">-    let preview = document.createElement(&quot;description&quot;);</span>
<a href="#l28.35"></a><span id="l28.35" class="difflineplus">+    let preview = document.createXULElement(&quot;description&quot;);</span>
<a href="#l28.36"></a><span id="l28.36">     preview.setAttribute(&quot;class&quot;, &quot;folderSummary-message-row folderSummary-previewText&quot;);</span>
<a href="#l28.37"></a><span id="l28.37">     preview.setAttribute(&quot;crop&quot;, &quot;right&quot;);</span>
<a href="#l28.38"></a><span id="l28.38"> </span>
<a href="#l28.39"></a><span id="l28.39">     vbox.appendChild(hbox);</span>
<a href="#l28.40"></a><span id="l28.40">     vbox.appendChild(preview);</span>
<a href="#l28.41"></a><span id="l28.41">     return vbox;</span>
<a href="#l28.42"></a><span id="l28.42">   }</span>
<a href="#l28.43"></a><span id="l28.43"> }</span>
<a href="#l28.44"></a><span id="l28.44" class="difflineat">@@ -250,17 +250,17 @@ class MozFolderTooltip extends MozFolder</span>
<a href="#l28.45"></a><span id="l28.45">   _addLocationInfo(folder, cropped, node) {</span>
<a href="#l28.46"></a><span id="l28.46">       // Display also server name for items that are on level 0 and are not</span>
<a href="#l28.47"></a><span id="l28.47">       // server names by themselves and do not have server name already appended</span>
<a href="#l28.48"></a><span id="l28.48">       // in their label.</span>
<a href="#l28.49"></a><span id="l28.49">       let folderIndex = gFolderTreeView.getIndexOfFolder(folder);</span>
<a href="#l28.50"></a><span id="l28.50">       if (!folder.isServer &amp;&amp;</span>
<a href="#l28.51"></a><span id="l28.51">           gFolderTreeView.getLevel(folderIndex) == 0 &amp;&amp;</span>
<a href="#l28.52"></a><span id="l28.52">           !gFolderTreeView.getServerNameAdded(folderIndex)) {</span>
<a href="#l28.53"></a><span id="l28.53" class="difflineminus">-        let loc = document.createElement(&quot;label&quot;);</span>
<a href="#l28.54"></a><span id="l28.54" class="difflineplus">+        let loc = document.createXULElement(&quot;label&quot;);</span>
<a href="#l28.55"></a><span id="l28.55">         let midPath = &quot;&quot;;</span>
<a href="#l28.56"></a><span id="l28.56">         let midFolder = folder.parent;</span>
<a href="#l28.57"></a><span id="l28.57">         while (folder.server.rootFolder != midFolder) {</span>
<a href="#l28.58"></a><span id="l28.58">           midPath = midFolder.name + &quot; - &quot; + midPath;</span>
<a href="#l28.59"></a><span id="l28.59">           midFolder = midFolder.parent;</span>
<a href="#l28.60"></a><span id="l28.60">         }</span>
<a href="#l28.61"></a><span id="l28.61">         loc.setAttribute(&quot;value&quot;, folder.server.prettyName + &quot; - &quot; + midPath + folder.name);</span>
<a href="#l28.62"></a><span id="l28.62">         node.appendChild(loc);</span>
<a href="#l28.63"></a><span id="l28.63" class="difflineat">@@ -268,39 +268,39 @@ class MozFolderTooltip extends MozFolder</span>
<a href="#l28.64"></a><span id="l28.64">       }</span>
<a href="#l28.65"></a><span id="l28.65"> </span>
<a href="#l28.66"></a><span id="l28.66">       // If folder name is cropped or is a newsgroup and abbreviated per</span>
<a href="#l28.67"></a><span id="l28.67">       // pref, use the full name as a tooltip.</span>
<a href="#l28.68"></a><span id="l28.68">       if (cropped ||</span>
<a href="#l28.69"></a><span id="l28.69">           ((folder.server instanceof Ci.nsINntpIncomingServer) &amp;&amp;</span>
<a href="#l28.70"></a><span id="l28.70">            !(folder.flags &amp; Ci.nsMsgFolderFlags.Virtual) &amp;&amp;</span>
<a href="#l28.71"></a><span id="l28.71">            folder.server.abbreviate) &amp;&amp; !folder.isServer) {</span>
<a href="#l28.72"></a><span id="l28.72" class="difflineminus">-        let loc = document.createElement(&quot;label&quot;);</span>
<a href="#l28.73"></a><span id="l28.73" class="difflineplus">+        let loc = document.createXULElement(&quot;label&quot;);</span>
<a href="#l28.74"></a><span id="l28.74">         loc.setAttribute(&quot;value&quot;, folder.name);</span>
<a href="#l28.75"></a><span id="l28.75">         node.appendChild(loc);</span>
<a href="#l28.76"></a><span id="l28.76">         return true;</span>
<a href="#l28.77"></a><span id="l28.77">       }</span>
<a href="#l28.78"></a><span id="l28.78">       return false;</span>
<a href="#l28.79"></a><span id="l28.79">     }</span>
<a href="#l28.80"></a><span id="l28.80"> </span>
<a href="#l28.81"></a><span id="l28.81">   /** Add information about unread messages in this folder and subfolders. */</span>
<a href="#l28.82"></a><span id="l28.82">   _addSummarizeExplain(counts, node) {</span>
<a href="#l28.83"></a><span id="l28.83">       if (!counts || !counts[1]) {</span>
<a href="#l28.84"></a><span id="l28.84">         return false;</span>
<a href="#l28.85"></a><span id="l28.85">       }</span>
<a href="#l28.86"></a><span id="l28.86" class="difflineminus">-      let expl = document.createElement(&quot;label&quot;);</span>
<a href="#l28.87"></a><span id="l28.87" class="difflineplus">+      let expl = document.createXULElement(&quot;label&quot;);</span>
<a href="#l28.88"></a><span id="l28.88">       let sumString = document.getElementById(&quot;bundle_messenger&quot;)</span>
<a href="#l28.89"></a><span id="l28.89">         .getFormattedString(&quot;subfoldersExplanation&quot;, [counts[0], counts[1]], 2);</span>
<a href="#l28.90"></a><span id="l28.90">       expl.setAttribute(&quot;value&quot;, sumString);</span>
<a href="#l28.91"></a><span id="l28.91">       node.appendChild(expl);</span>
<a href="#l28.92"></a><span id="l28.92">       return true;</span>
<a href="#l28.93"></a><span id="l28.93">     }</span>
<a href="#l28.94"></a><span id="l28.94"> </span>
<a href="#l28.95"></a><span id="l28.95">   _addCroppedText(text, node) {</span>
<a href="#l28.96"></a><span id="l28.96" class="difflineminus">-      let expl = document.createElement(&quot;label&quot;);</span>
<a href="#l28.97"></a><span id="l28.97" class="difflineplus">+      let expl = document.createXULElement(&quot;label&quot;);</span>
<a href="#l28.98"></a><span id="l28.98">       expl.setAttribute(&quot;value&quot;, text);</span>
<a href="#l28.99"></a><span id="l28.99">       node.appendChild(expl);</span>
<a href="#l28.100"></a><span id="l28.100">       return true;</span>
<a href="#l28.101"></a><span id="l28.101">     }</span>
<a href="#l28.102"></a><span id="l28.102"> }</span>
<a href="#l28.103"></a><span id="l28.103"> </span>
<a href="#l28.104"></a><span id="l28.104"> customElements.define(&quot;folder-summary&quot;, MozFolderSummary);</span>
<a href="#l28.105"></a><span id="l28.105"> customElements.define(&quot;folder-tooltip&quot;, MozFolderTooltip);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mail/base/content/glodaFacet.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mail/base/content/glodaFacet.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -258,17 +258,17 @@ class MozFacetBoolean extends HTMLElemen</span>
<a href="#l29.4"></a><span id="l29.4">       this.build(true);</span>
<a href="#l29.5"></a><span id="l29.5">     }</span>
<a href="#l29.6"></a><span id="l29.6">   }</span>
<a href="#l29.7"></a><span id="l29.7"> </span>
<a href="#l29.8"></a><span id="l29.8">   addChildren() {</span>
<a href="#l29.9"></a><span id="l29.9">     this.bubble = document.createElement(&quot;span&quot;);</span>
<a href="#l29.10"></a><span id="l29.10">     this.bubble.classList.add(&quot;facet-checkbox-bubble&quot;);</span>
<a href="#l29.11"></a><span id="l29.11"> </span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-    this.checkbox = document.createElement(&quot;input&quot;);</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+    this.checkbox = document.createXULElement(&quot;input&quot;);</span>
<a href="#l29.14"></a><span id="l29.14">     this.checkbox.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l29.15"></a><span id="l29.15"> </span>
<a href="#l29.16"></a><span id="l29.16">     this.labelNode = document.createElement(&quot;span&quot;);</span>
<a href="#l29.17"></a><span id="l29.17">     this.labelNode.classList.add(&quot;facet-checkbox-label&quot;);</span>
<a href="#l29.18"></a><span id="l29.18"> </span>
<a href="#l29.19"></a><span id="l29.19">     this.countNode = document.createElement(&quot;span&quot;);</span>
<a href="#l29.20"></a><span id="l29.20">     this.countNode.classList.add(&quot;facet-checkbox-count&quot;);</span>
<a href="#l29.21"></a><span id="l29.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/mail/base/content/mailCore.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/mail/base/content/mailCore.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -327,17 +327,17 @@ function onViewToolbarsPopupShowing(aEve</span>
<a href="#l30.4"></a><span id="l30.4"> </span>
<a href="#l30.5"></a><span id="l30.5">     for (let toolbarElement of potentialToolbars) {</span>
<a href="#l30.6"></a><span id="l30.6">       // We have to bind to toolbar because Javascript doesn't do fresh</span>
<a href="#l30.7"></a><span id="l30.7">       // let-bindings per Iteration.</span>
<a href="#l30.8"></a><span id="l30.8">       let toolbar = toolbarElement;</span>
<a href="#l30.9"></a><span id="l30.9"> </span>
<a href="#l30.10"></a><span id="l30.10">       let toolbarName = toolbar.getAttribute(&quot;toolbarname&quot;);</span>
<a href="#l30.11"></a><span id="l30.11">       if (toolbarName) {</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-        let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineplus">+        let menuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l30.14"></a><span id="l30.14">         let hidingAttribute = toolbar.getAttribute(&quot;type&quot;) == &quot;menubar&quot; ?</span>
<a href="#l30.15"></a><span id="l30.15">                               &quot;autohide&quot; : &quot;collapsed&quot;;</span>
<a href="#l30.16"></a><span id="l30.16">         menuItem.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l30.17"></a><span id="l30.17">         // Mark this menuitem with an iscollapsible attribute, so we</span>
<a href="#l30.18"></a><span id="l30.18">         // know we can wipe it out later on.</span>
<a href="#l30.19"></a><span id="l30.19">         menuItem.setAttribute(&quot;iscollapsible&quot;, true);</span>
<a href="#l30.20"></a><span id="l30.20">         menuItem.setAttribute(&quot;toolbarid&quot;, toolbar.id);</span>
<a href="#l30.21"></a><span id="l30.21">         menuItem.setAttribute(&quot;label&quot;, toolbarName);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mail/base/content/mailWidgets.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mail/base/content/mailWidgets.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -84,17 +84,17 @@ class MozMailHeaderfieldTags extends Moz</span>
<a href="#l31.4"></a><span id="l31.4"> </span>
<a href="#l31.5"></a><span id="l31.5">       let color = MailServices.tags.getColorForKey(tagsArray[i]);</span>
<a href="#l31.6"></a><span id="l31.6">       let textColor = &quot;black&quot;;</span>
<a href="#l31.7"></a><span id="l31.7">       if (!TagUtils.isColorContrastEnough(color)) {</span>
<a href="#l31.8"></a><span id="l31.8">         textColor = &quot;white&quot;;</span>
<a href="#l31.9"></a><span id="l31.9">       }</span>
<a href="#l31.10"></a><span id="l31.10"> </span>
<a href="#l31.11"></a><span id="l31.11">       // now create a label for the tag name, and set the color</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-      const label = document.createElement(&quot;label&quot;);</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineplus">+      const label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l31.14"></a><span id="l31.14">       label.setAttribute(&quot;value&quot;, tagName);</span>
<a href="#l31.15"></a><span id="l31.15">       label.className = &quot;tagvalue&quot;;</span>
<a href="#l31.16"></a><span id="l31.16">       label.setAttribute(&quot;style&quot;, &quot;color: &quot; + textColor + &quot;; background-color: &quot; + color + &quot;;&quot;);</span>
<a href="#l31.17"></a><span id="l31.17"> </span>
<a href="#l31.18"></a><span id="l31.18">       this.appendChild(label);</span>
<a href="#l31.19"></a><span id="l31.19">     }</span>
<a href="#l31.20"></a><span id="l31.20">   }</span>
<a href="#l31.21"></a><span id="l31.21"> }</span>
<a href="#l31.22"></a><span id="l31.22" class="difflineat">@@ -116,19 +116,19 @@ class MozMailNewsgroupsHeaderfield exten</span>
<a href="#l31.23"></a><span id="l31.23">   }</span>
<a href="#l31.24"></a><span id="l31.24"> </span>
<a href="#l31.25"></a><span id="l31.25">   addNewsgroupView(aNewsgroup) {</span>
<a href="#l31.26"></a><span id="l31.26">     this.mNewsgroups.push(aNewsgroup);</span>
<a href="#l31.27"></a><span id="l31.27">   }</span>
<a href="#l31.28"></a><span id="l31.28"> </span>
<a href="#l31.29"></a><span id="l31.29">   buildViews() {</span>
<a href="#l31.30"></a><span id="l31.30">     for (let i = 0; i &lt; this.mNewsgroups.length; i++) {</span>
<a href="#l31.31"></a><span id="l31.31" class="difflineminus">-      const newNode = document.createElement(&quot;mail-newsgroup&quot;);</span>
<a href="#l31.32"></a><span id="l31.32" class="difflineplus">+      const newNode = document.createXULElement(&quot;mail-newsgroup&quot;);</span>
<a href="#l31.33"></a><span id="l31.33">       if (i &gt; 0) {</span>
<a href="#l31.34"></a><span id="l31.34" class="difflineminus">-        const textNode = document.createElement(&quot;text&quot;);</span>
<a href="#l31.35"></a><span id="l31.35" class="difflineplus">+        const textNode = document.createXULElement(&quot;text&quot;);</span>
<a href="#l31.36"></a><span id="l31.36">         textNode.setAttribute(&quot;value&quot;, &quot;,&quot;);</span>
<a href="#l31.37"></a><span id="l31.37">         textNode.setAttribute(&quot;class&quot;, &quot;newsgroupSeparator&quot;);</span>
<a href="#l31.38"></a><span id="l31.38">         this.appendChild(textNode);</span>
<a href="#l31.39"></a><span id="l31.39">       }</span>
<a href="#l31.40"></a><span id="l31.40"> </span>
<a href="#l31.41"></a><span id="l31.41">       newNode.textContent = this.mNewsgroups[i];</span>
<a href="#l31.42"></a><span id="l31.42">       newNode.setAttribute(&quot;newsgroup&quot;, this.mNewsgroups[i]);</span>
<a href="#l31.43"></a><span id="l31.43">       this.appendChild(newNode);</span>
<a href="#l31.44"></a><span id="l31.44" class="difflineat">@@ -197,24 +197,24 @@ class MozMailMessageidsHeaderfield exten</span>
<a href="#l31.45"></a><span id="l31.45">       return;</span>
<a href="#l31.46"></a><span id="l31.46">     }</span>
<a href="#l31.47"></a><span id="l31.47"> </span>
<a href="#l31.48"></a><span id="l31.48">     this.setAttribute(&quot;context&quot;, &quot;messageIdsHeaderfieldContext&quot;);</span>
<a href="#l31.49"></a><span id="l31.49"> </span>
<a href="#l31.50"></a><span id="l31.50">     this.mMessageIds = [];</span>
<a href="#l31.51"></a><span id="l31.51">     this.showFullMessageIds = false;</span>
<a href="#l31.52"></a><span id="l31.52"> </span>
<a href="#l31.53"></a><span id="l31.53" class="difflineminus">-    this.toggleIcon = document.createElement(&quot;image&quot;);</span>
<a href="#l31.54"></a><span id="l31.54" class="difflineplus">+    this.toggleIcon = document.createXULElement(&quot;image&quot;);</span>
<a href="#l31.55"></a><span id="l31.55">     this.toggleIcon.classList.add(&quot;emailToggleHeaderfield&quot;);</span>
<a href="#l31.56"></a><span id="l31.56">     this.toggleIcon.addEventListener(&quot;click&quot;, () =&gt; {</span>
<a href="#l31.57"></a><span id="l31.57">       this._toggleWrap();</span>
<a href="#l31.58"></a><span id="l31.58">     });</span>
<a href="#l31.59"></a><span id="l31.59">     this.appendChild(this.toggleIcon);</span>
<a href="#l31.60"></a><span id="l31.60"> </span>
<a href="#l31.61"></a><span id="l31.61" class="difflineminus">-    this.headerValue = document.createElement(&quot;hbox&quot;);</span>
<a href="#l31.62"></a><span id="l31.62" class="difflineplus">+    this.headerValue = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l31.63"></a><span id="l31.63">     this.headerValue.classList.add(&quot;headerValue&quot;);</span>
<a href="#l31.64"></a><span id="l31.64">     this.headerValue.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l31.65"></a><span id="l31.65">     this.appendChild(this.headerValue);</span>
<a href="#l31.66"></a><span id="l31.66">   }</span>
<a href="#l31.67"></a><span id="l31.67"> </span>
<a href="#l31.68"></a><span id="l31.68">   _toggleWrap() {</span>
<a href="#l31.69"></a><span id="l31.69">     for (let i = 0; i &lt; this.headerValue.childNodes.length; i += 2) {</span>
<a href="#l31.70"></a><span id="l31.70">       if (!this.showFullMessageIds) {</span>
<a href="#l31.71"></a><span id="l31.71" class="difflineat">@@ -239,20 +239,20 @@ class MozMailMessageidsHeaderfield exten</span>
<a href="#l31.72"></a><span id="l31.72"> </span>
<a href="#l31.73"></a><span id="l31.73">     this.toggleIcon.hidden = this.mMessageIds.length &lt;= 1;</span>
<a href="#l31.74"></a><span id="l31.74"> </span>
<a href="#l31.75"></a><span id="l31.75">     for (let i = 0; i &lt; this.mMessageIds.length; i++) {</span>
<a href="#l31.76"></a><span id="l31.76">       if (i * 2 &lt;= this.headerValue.childNodes.length - 1) {</span>
<a href="#l31.77"></a><span id="l31.77">         this._updateMessageIdNode(this.headerValue.childNodes[i * 2], i + 1,</span>
<a href="#l31.78"></a><span id="l31.78">           this.mMessageIds[i], this.mMessageIds.length);</span>
<a href="#l31.79"></a><span id="l31.79">       } else {</span>
<a href="#l31.80"></a><span id="l31.80" class="difflineminus">-        let newMessageIdNode = document.createElement(&quot;mail-messageid&quot;);</span>
<a href="#l31.81"></a><span id="l31.81" class="difflineplus">+        let newMessageIdNode = document.createXULElement(&quot;mail-messageid&quot;);</span>
<a href="#l31.82"></a><span id="l31.82"> </span>
<a href="#l31.83"></a><span id="l31.83">         if (i &gt; 0) {</span>
<a href="#l31.84"></a><span id="l31.84" class="difflineminus">-          let textNode = document.createElement(&quot;text&quot;);</span>
<a href="#l31.85"></a><span id="l31.85" class="difflineplus">+          let textNode = document.createXULElement(&quot;text&quot;);</span>
<a href="#l31.86"></a><span id="l31.86">           textNode.setAttribute(&quot;value&quot;, &quot;, &quot;);</span>
<a href="#l31.87"></a><span id="l31.87">           textNode.setAttribute(&quot;class&quot;, &quot;messageIdSeparator&quot;);</span>
<a href="#l31.88"></a><span id="l31.88">           this.headerValue.appendChild(textNode);</span>
<a href="#l31.89"></a><span id="l31.89">         }</span>
<a href="#l31.90"></a><span id="l31.90">         let itemInDocument = this.headerValue.appendChild(newMessageIdNode);</span>
<a href="#l31.91"></a><span id="l31.91">         this._updateMessageIdNode(itemInDocument, i + 1,</span>
<a href="#l31.92"></a><span id="l31.92">           this.mMessageIds[i], this.mMessageIds.length);</span>
<a href="#l31.93"></a><span id="l31.93">       }</span>
<a href="#l31.94"></a><span id="l31.94" class="difflineat">@@ -301,24 +301,24 @@ class MozMailEmailaddress extends MozXUL</span>
<a href="#l31.95"></a><span id="l31.95">   connectedCallback() {</span>
<a href="#l31.96"></a><span id="l31.96">     if (this.hasChildNodes() || this.delayConnectedCallback()) {</span>
<a href="#l31.97"></a><span id="l31.97">       return;</span>
<a href="#l31.98"></a><span id="l31.98">     }</span>
<a href="#l31.99"></a><span id="l31.99">     this.classList.add(&quot;emailDisplayButton&quot;);</span>
<a href="#l31.100"></a><span id="l31.100">     this.setAttribute(&quot;context&quot;, &quot;emailAddressPopup&quot;);</span>
<a href="#l31.101"></a><span id="l31.101">     this.setAttribute(&quot;popup&quot;, &quot;emailAddressPopup&quot;);</span>
<a href="#l31.102"></a><span id="l31.102"> </span>
<a href="#l31.103"></a><span id="l31.103" class="difflineminus">-    const label = document.createElement(&quot;label&quot;);</span>
<a href="#l31.104"></a><span id="l31.104" class="difflineplus">+    const label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l31.105"></a><span id="l31.105">     label.classList.add(&quot;emaillabel&quot;);</span>
<a href="#l31.106"></a><span id="l31.106"> </span>
<a href="#l31.107"></a><span id="l31.107" class="difflineminus">-    const emailStarImage = document.createElement(&quot;image&quot;);</span>
<a href="#l31.108"></a><span id="l31.108" class="difflineplus">+    const emailStarImage = document.createXULElement(&quot;image&quot;);</span>
<a href="#l31.109"></a><span id="l31.109">     emailStarImage.classList.add(&quot;emailStar&quot;);</span>
<a href="#l31.110"></a><span id="l31.110">     emailStarImage.setAttribute(&quot;context&quot;, &quot;emailAddressPopup&quot;);</span>
<a href="#l31.111"></a><span id="l31.111"> </span>
<a href="#l31.112"></a><span id="l31.112" class="difflineminus">-    const emailPresenceImage = document.createElement(&quot;image&quot;);</span>
<a href="#l31.113"></a><span id="l31.113" class="difflineplus">+    const emailPresenceImage = document.createXULElement(&quot;image&quot;);</span>
<a href="#l31.114"></a><span id="l31.114">     emailPresenceImage.classList.add(&quot;emailPresence&quot;);</span>
<a href="#l31.115"></a><span id="l31.115"> </span>
<a href="#l31.116"></a><span id="l31.116">     this.appendChild(label);</span>
<a href="#l31.117"></a><span id="l31.117">     this.appendChild(emailStarImage);</span>
<a href="#l31.118"></a><span id="l31.118">     this.appendChild(emailPresenceImage);</span>
<a href="#l31.119"></a><span id="l31.119"> </span>
<a href="#l31.120"></a><span id="l31.120">     this._update();</span>
<a href="#l31.121"></a><span id="l31.121">     this._setupEventListeners();</span>
<a href="#l31.122"></a><span id="l31.122" class="difflineat">@@ -382,17 +382,17 @@ class MozMailEmailaddress extends MozXUL</span>
<a href="#l31.123"></a><span id="l31.123"> }</span>
<a href="#l31.124"></a><span id="l31.124"> customElements.define(&quot;mail-emailaddress&quot;, MozMailEmailaddress);</span>
<a href="#l31.125"></a><span id="l31.125"> </span>
<a href="#l31.126"></a><span id="l31.126"> class MozMailEmailheaderfield extends MozXULElement {</span>
<a href="#l31.127"></a><span id="l31.127">   connectedCallback() {</span>
<a href="#l31.128"></a><span id="l31.128">     if (this.hasChildNodes() || this.delayConnectedCallback()) {</span>
<a href="#l31.129"></a><span id="l31.129">       return;</span>
<a href="#l31.130"></a><span id="l31.130">     }</span>
<a href="#l31.131"></a><span id="l31.131" class="difflineminus">-    this._mailEmailAddress = document.createElement(&quot;mail-emailaddress&quot;);</span>
<a href="#l31.132"></a><span id="l31.132" class="difflineplus">+    this._mailEmailAddress = document.createXULElement(&quot;mail-emailaddress&quot;);</span>
<a href="#l31.133"></a><span id="l31.133">     this._mailEmailAddress.classList.add(&quot;headerValue&quot;);</span>
<a href="#l31.134"></a><span id="l31.134">     this._mailEmailAddress.setAttribute(&quot;containsEmail&quot;, &quot;true&quot;);</span>
<a href="#l31.135"></a><span id="l31.135"> </span>
<a href="#l31.136"></a><span id="l31.136">     this.appendChild(this._mailEmailAddress);</span>
<a href="#l31.137"></a><span id="l31.137">   }</span>
<a href="#l31.138"></a><span id="l31.138"> </span>
<a href="#l31.139"></a><span id="l31.139">   get emailAddressNode() {</span>
<a href="#l31.140"></a><span id="l31.140">     return this._mailEmailAddress;</span>
<a href="#l31.141"></a><span id="l31.141" class="difflineat">@@ -404,17 +404,17 @@ class MozTreecolImage extends customElem</span>
<a href="#l31.142"></a><span id="l31.142">   static get observedAttributes() {</span>
<a href="#l31.143"></a><span id="l31.143">     return [&quot;src&quot;];</span>
<a href="#l31.144"></a><span id="l31.144">   }</span>
<a href="#l31.145"></a><span id="l31.145"> </span>
<a href="#l31.146"></a><span id="l31.146">   connectedCallback() {</span>
<a href="#l31.147"></a><span id="l31.147">     if (this.hasChildNodes() || this.delayConnectedCallback()) {</span>
<a href="#l31.148"></a><span id="l31.148">       return;</span>
<a href="#l31.149"></a><span id="l31.149">     }</span>
<a href="#l31.150"></a><span id="l31.150" class="difflineminus">-    this.image = document.createElement(&quot;image&quot;);</span>
<a href="#l31.151"></a><span id="l31.151" class="difflineplus">+    this.image = document.createXULElement(&quot;image&quot;);</span>
<a href="#l31.152"></a><span id="l31.152">     this.image.classList.add(&quot;treecol-icon&quot;);</span>
<a href="#l31.153"></a><span id="l31.153"> </span>
<a href="#l31.154"></a><span id="l31.154">     this.appendChild(this.image);</span>
<a href="#l31.155"></a><span id="l31.155">     this._updateAttributes();</span>
<a href="#l31.156"></a><span id="l31.156">   }</span>
<a href="#l31.157"></a><span id="l31.157"> </span>
<a href="#l31.158"></a><span id="l31.158">   attributeChangedCallback() {</span>
<a href="#l31.159"></a><span id="l31.159">     if (!this.isConnectedAndReady) {</span>
<a href="#l31.160"></a><span id="l31.160" class="difflineat">@@ -568,17 +568,17 @@ class MozThreadPaneTreeColpicker extends</span>
<a href="#l31.161"></a><span id="l31.161">     }</span>
<a href="#l31.162"></a><span id="l31.162">   }</span>
<a href="#l31.163"></a><span id="l31.163"> }</span>
<a href="#l31.164"></a><span id="l31.164"> customElements.define(&quot;thread-pane-treecolpicker&quot;, MozThreadPaneTreeColpicker, { extends: &quot;treecolpicker&quot; });</span>
<a href="#l31.165"></a><span id="l31.165"> </span>
<a href="#l31.166"></a><span id="l31.166"> // The menulist CE is defined lazily. Create one now to get menulist defined,</span>
<a href="#l31.167"></a><span id="l31.167"> // allowing us to inherit from it.</span>
<a href="#l31.168"></a><span id="l31.168"> if (!customElements.get(&quot;menulist&quot;)) {</span>
<a href="#l31.169"></a><span id="l31.169" class="difflineminus">-  delete document.createElement(&quot;menulist&quot;);</span>
<a href="#l31.170"></a><span id="l31.170" class="difflineplus">+  delete document.createXULElement(&quot;menulist&quot;);</span>
<a href="#l31.171"></a><span id="l31.171"> }</span>
<a href="#l31.172"></a><span id="l31.172"> customElements.whenDefined(&quot;menulist&quot;).then(() =&gt; {</span>
<a href="#l31.173"></a><span id="l31.173">   /**</span>
<a href="#l31.174"></a><span id="l31.174">    * MozMenulistEditable is a menulist widget that can be made editable by setting editable=&quot;true&quot;.</span>
<a href="#l31.175"></a><span id="l31.175">    * With an additional type=&quot;description&quot; the list also contains an additional label that can hold</span>
<a href="#l31.176"></a><span id="l31.176">    * for instance, a description of a menu item.</span>
<a href="#l31.177"></a><span id="l31.177">    * It is typically used e.g. for the &quot;Custom From Address...&quot; feature to let the user chose and</span>
<a href="#l31.178"></a><span id="l31.178">    * edit the address to send from.</span>
<a href="#l31.179"></a><span id="l31.179" class="difflineat">@@ -591,17 +591,17 @@ customElements.whenDefined(&quot;menulist&quot;).t</span>
<a href="#l31.180"></a><span id="l31.180">       }</span>
<a href="#l31.181"></a><span id="l31.181"> </span>
<a href="#l31.182"></a><span id="l31.182">       this.prepend(MozMenulistEditable.fragment.cloneNode(true));</span>
<a href="#l31.183"></a><span id="l31.183">       this._inputField = this.querySelector(&quot;.menulist-input&quot;);</span>
<a href="#l31.184"></a><span id="l31.184">       this._labelBox = this.querySelector(&quot;.menulist-label-box&quot;);</span>
<a href="#l31.185"></a><span id="l31.185">       this._dropmarker = this.querySelector(&quot;.menulist-dropmarker&quot;);</span>
<a href="#l31.186"></a><span id="l31.186"> </span>
<a href="#l31.187"></a><span id="l31.187">       if (this.getAttribute(&quot;type&quot;) == &quot;description&quot;) {</span>
<a href="#l31.188"></a><span id="l31.188" class="difflineminus">-        this._description = document.createElement(&quot;label&quot;);</span>
<a href="#l31.189"></a><span id="l31.189" class="difflineplus">+        this._description = document.createXULElement(&quot;label&quot;);</span>
<a href="#l31.190"></a><span id="l31.190">         this._description.classList.add(&quot;menulist-description&quot;);</span>
<a href="#l31.191"></a><span id="l31.191">         this._description.setAttribute(&quot;crop&quot;, &quot;right&quot;);</span>
<a href="#l31.192"></a><span id="l31.192">         this._description.setAttribute(&quot;flex&quot;, &quot;10000&quot;);</span>
<a href="#l31.193"></a><span id="l31.193">         this._description.setAttribute(&quot;role&quot;, &quot;none&quot;);</span>
<a href="#l31.194"></a><span id="l31.194">         this.querySelector(&quot;.menulist-label&quot;).after(this._description);</span>
<a href="#l31.195"></a><span id="l31.195">       }</span>
<a href="#l31.196"></a><span id="l31.196"> </span>
<a href="#l31.197"></a><span id="l31.197">       this.initializeAttributeInheritance();</span>
<a href="#l31.198"></a><span id="l31.198" class="difflineat">@@ -789,30 +789,30 @@ class MozMailMultiEmailheaderfield exten</span>
<a href="#l31.199"></a><span id="l31.199">     this.addresses = [];</span>
<a href="#l31.200"></a><span id="l31.200">   }</span>
<a href="#l31.201"></a><span id="l31.201"> </span>
<a href="#l31.202"></a><span id="l31.202">   connectedCallback() {</span>
<a href="#l31.203"></a><span id="l31.203">     if (this.delayConnectedCallback() || this.hasChildNodes()) {</span>
<a href="#l31.204"></a><span id="l31.204">       return;</span>
<a href="#l31.205"></a><span id="l31.205">     }</span>
<a href="#l31.206"></a><span id="l31.206"> </span>
<a href="#l31.207"></a><span id="l31.207" class="difflineminus">-    this.longEmailAddresses = document.createElement(&quot;hbox&quot;);</span>
<a href="#l31.208"></a><span id="l31.208" class="difflineplus">+    this.longEmailAddresses = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l31.209"></a><span id="l31.209">     this.longEmailAddresses.classList.add(&quot;headerValueBox&quot;);</span>
<a href="#l31.210"></a><span id="l31.210">     this.longEmailAddresses.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l31.211"></a><span id="l31.211">     this.longEmailAddresses.setAttribute(&quot;singleline&quot;, &quot;true&quot;);</span>
<a href="#l31.212"></a><span id="l31.212">     this.longEmailAddresses.setAttribute(&quot;align&quot;, &quot;baseline&quot;);</span>
<a href="#l31.213"></a><span id="l31.213"> </span>
<a href="#l31.214"></a><span id="l31.214" class="difflineminus">-    this.emailAddresses = document.createElement(&quot;description&quot;);</span>
<a href="#l31.215"></a><span id="l31.215" class="difflineplus">+    this.emailAddresses = document.createXULElement(&quot;description&quot;);</span>
<a href="#l31.216"></a><span id="l31.216">     this.emailAddresses.classList.add(&quot;class&quot;, &quot;headerValue&quot;);</span>
<a href="#l31.217"></a><span id="l31.217">     this.emailAddresses.setAttribute(&quot;containsEmail&quot;, &quot;true&quot;);</span>
<a href="#l31.218"></a><span id="l31.218">     this.emailAddresses.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l31.219"></a><span id="l31.219">     this.emailAddresses.setAttribute(&quot;orient&quot;, &quot;vertical&quot;);</span>
<a href="#l31.220"></a><span id="l31.220">     this.emailAddresses.setAttribute(&quot;pack&quot;, &quot;start&quot;);</span>
<a href="#l31.221"></a><span id="l31.221"> </span>
<a href="#l31.222"></a><span id="l31.222" class="difflineminus">-    this.more = document.createElement(&quot;label&quot;);</span>
<a href="#l31.223"></a><span id="l31.223" class="difflineplus">+    this.more = document.createXULElement(&quot;label&quot;);</span>
<a href="#l31.224"></a><span id="l31.224">     this.more.classList.add(&quot;class&quot;, &quot;moreIndicator&quot;);</span>
<a href="#l31.225"></a><span id="l31.225">     this.more.addEventListener(&quot;click&quot;, this.toggleWrap.bind(this));</span>
<a href="#l31.226"></a><span id="l31.226">     this.more.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l31.227"></a><span id="l31.227"> </span>
<a href="#l31.228"></a><span id="l31.228">     this.longEmailAddresses.appendChild(this.emailAddresses);</span>
<a href="#l31.229"></a><span id="l31.229">     this.appendChild(this.longEmailAddresses);</span>
<a href="#l31.230"></a><span id="l31.230">     this.appendChild(this.more);</span>
<a href="#l31.231"></a><span id="l31.231">   }</span>
<a href="#l31.232"></a><span id="l31.232" class="difflineat">@@ -901,17 +901,17 @@ class MozMailMultiEmailheaderfield exten</span>
<a href="#l31.233"></a><span id="l31.233">         }</span>
<a href="#l31.234"></a><span id="l31.234">       }</span>
<a href="#l31.235"></a><span id="l31.235"> </span>
<a href="#l31.236"></a><span id="l31.236">       // Now add an email address.</span>
<a href="#l31.237"></a><span id="l31.237">       if (cached-- &gt; 0) {</span>
<a href="#l31.238"></a><span id="l31.238">         newAddressNode = this.emailAddresses.childNodes[i * 2];</span>
<a href="#l31.239"></a><span id="l31.239">         newAddressNode.hidden = false;</span>
<a href="#l31.240"></a><span id="l31.240">       } else {</span>
<a href="#l31.241"></a><span id="l31.241" class="difflineminus">-        newAddressNode = document.createElement(&quot;mail-emailaddress&quot;);</span>
<a href="#l31.242"></a><span id="l31.242" class="difflineplus">+        newAddressNode = document.createXULElement(&quot;mail-emailaddress&quot;);</span>
<a href="#l31.243"></a><span id="l31.243"> </span>
<a href="#l31.244"></a><span id="l31.244">         // Stash the headerName somewhere that UpdateEmailNodeDetails will be able to find it.</span>
<a href="#l31.245"></a><span id="l31.245">         newAddressNode.setAttribute(&quot;headerName&quot;, this.headerName);</span>
<a href="#l31.246"></a><span id="l31.246"> </span>
<a href="#l31.247"></a><span id="l31.247">         newAddressNode = this.emailAddresses.appendChild(newAddressNode);</span>
<a href="#l31.248"></a><span id="l31.248">       }</span>
<a href="#l31.249"></a><span id="l31.249">       this._updateEmailAddressNode(newAddressNode, this.addresses[i]);</span>
<a href="#l31.250"></a><span id="l31.250"> </span>
<a href="#l31.251"></a><span id="l31.251" class="difflineat">@@ -999,17 +999,17 @@ class MozMailMultiEmailheaderfield exten</span>
<a href="#l31.252"></a><span id="l31.252">   }</span>
<a href="#l31.253"></a><span id="l31.253"> </span>
<a href="#l31.254"></a><span id="l31.254">   /**</span>
<a href="#l31.255"></a><span id="l31.255">    * Append a comma after the (currently) final (email address, we hope!) node of</span>
<a href="#l31.256"></a><span id="l31.256">    * this.emailAddresses.</span>
<a href="#l31.257"></a><span id="l31.257">    */</span>
<a href="#l31.258"></a><span id="l31.258">   appendComma() {</span>
<a href="#l31.259"></a><span id="l31.259">     // Create and append a comma.</span>
<a href="#l31.260"></a><span id="l31.260" class="difflineminus">-    let commaNode = document.createElement(&quot;text&quot;);</span>
<a href="#l31.261"></a><span id="l31.261" class="difflineplus">+    let commaNode = document.createXULElement(&quot;text&quot;);</span>
<a href="#l31.262"></a><span id="l31.262">     commaNode.setAttribute(&quot;value&quot;, &quot;,&quot;);</span>
<a href="#l31.263"></a><span id="l31.263">     commaNode.setAttribute(&quot;class&quot;, &quot;emailSeparator&quot;);</span>
<a href="#l31.264"></a><span id="l31.264">     this.emailAddresses.appendChild(commaNode);</span>
<a href="#l31.265"></a><span id="l31.265">   }</span>
<a href="#l31.266"></a><span id="l31.266"> </span>
<a href="#l31.267"></a><span id="l31.267">   /**</span>
<a href="#l31.268"></a><span id="l31.268">    * Add a (N more) widget which can be clicked to reveal the rest.</span>
<a href="#l31.269"></a><span id="l31.269">    */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -986,17 +986,17 @@ function InitMessageTags(menuPopup) {</span>
<a href="#l32.4"></a><span id="l32.4"> </span>
<a href="#l32.5"></a><span id="l32.5">   for (var i = 0; i &lt; tagCount; ++i) {</span>
<a href="#l32.6"></a><span id="l32.6">     var taginfo = tagArray[i];</span>
<a href="#l32.7"></a><span id="l32.7">     let removeKey = (&quot; &quot; + curKeys + &quot; &quot;).includes(&quot; &quot; + taginfo.key + &quot; &quot;);</span>
<a href="#l32.8"></a><span id="l32.8">     if (taginfo.ordinal.includes(&quot;~AUTOTAG&quot;) &amp;&amp; !removeKey)</span>
<a href="#l32.9"></a><span id="l32.9">       continue;</span>
<a href="#l32.10"></a><span id="l32.10"> </span>
<a href="#l32.11"></a><span id="l32.11">     // TODO we want to either remove or &quot;check&quot; the tags that already exist</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-    var newMenuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineplus">+    var newMenuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l32.14"></a><span id="l32.14">     SetMessageTagLabel(newMenuItem, i + 1, taginfo.tag);</span>
<a href="#l32.15"></a><span id="l32.15">     newMenuItem.setAttribute(&quot;value&quot;, taginfo.key);</span>
<a href="#l32.16"></a><span id="l32.16">     newMenuItem.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l32.17"></a><span id="l32.17">     newMenuItem.setAttribute(&quot;checked&quot;, removeKey);</span>
<a href="#l32.18"></a><span id="l32.18">     newMenuItem.setAttribute(&quot;oncommand&quot;, &quot;ToggleMessageTagMenu(event.target);&quot;);</span>
<a href="#l32.19"></a><span id="l32.19">     var color = taginfo.color;</span>
<a href="#l32.20"></a><span id="l32.20">     if (color)</span>
<a href="#l32.21"></a><span id="l32.21">       newMenuItem.setAttribute(&quot;style&quot;, &quot;color: &quot; + color + &quot;;&quot;);</span>
<a href="#l32.22"></a><span id="l32.22" class="difflineat">@@ -1012,31 +1012,31 @@ function InitRecentlyClosedTabsPopup(men</span>
<a href="#l32.23"></a><span id="l32.23">     return false;</span>
<a href="#l32.24"></a><span id="l32.24"> </span>
<a href="#l32.25"></a><span id="l32.25">   // Clear the list before rebuilding it.</span>
<a href="#l32.26"></a><span id="l32.26">   while (menuPopup.hasChildNodes())</span>
<a href="#l32.27"></a><span id="l32.27">     menuPopup.lastChild.remove();</span>
<a href="#l32.28"></a><span id="l32.28"> </span>
<a href="#l32.29"></a><span id="l32.29">   // Rebuild the recently closed tab list</span>
<a href="#l32.30"></a><span id="l32.30">   for (let i = 0; i &lt; tabs.length; i++) {</span>
<a href="#l32.31"></a><span id="l32.31" class="difflineminus">-    let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l32.32"></a><span id="l32.32" class="difflineplus">+    let menuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l32.33"></a><span id="l32.33">     menuItem.setAttribute(&quot;label&quot;, tabs[i].title);</span>
<a href="#l32.34"></a><span id="l32.34">     menuItem.setAttribute(&quot;oncommand&quot;, `document.getElementById(&quot;tabmail&quot;).undoCloseTab(${i});`);</span>
<a href="#l32.35"></a><span id="l32.35"> </span>
<a href="#l32.36"></a><span id="l32.36">     if (i == 0)</span>
<a href="#l32.37"></a><span id="l32.37">       menuItem.setAttribute(&quot;key&quot;, &quot;key_undoCloseTab&quot;);</span>
<a href="#l32.38"></a><span id="l32.38"> </span>
<a href="#l32.39"></a><span id="l32.39">     menuPopup.appendChild(menuItem);</span>
<a href="#l32.40"></a><span id="l32.40">   }</span>
<a href="#l32.41"></a><span id="l32.41"> </span>
<a href="#l32.42"></a><span id="l32.42">   // &quot;Restore All Tabs&quot; with only one entry does not make sense</span>
<a href="#l32.43"></a><span id="l32.43">   if (tabs.length &gt; 1) {</span>
<a href="#l32.44"></a><span id="l32.44" class="difflineminus">-    menuPopup.appendChild(document.createElement(&quot;menuseparator&quot;));</span>
<a href="#l32.45"></a><span id="l32.45" class="difflineminus">-</span>
<a href="#l32.46"></a><span id="l32.46" class="difflineminus">-    let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l32.47"></a><span id="l32.47" class="difflineplus">+    menuPopup.appendChild(document.createXULElement(&quot;menuseparator&quot;));</span>
<a href="#l32.48"></a><span id="l32.48" class="difflineplus">+</span>
<a href="#l32.49"></a><span id="l32.49" class="difflineplus">+    let menuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l32.50"></a><span id="l32.50">     menuItem.setAttribute(&quot;label&quot;, document.getElementById(&quot;bundle_messenger&quot;)</span>
<a href="#l32.51"></a><span id="l32.51">                                            .getString(&quot;restoreAllTabs&quot;));</span>
<a href="#l32.52"></a><span id="l32.52">     menuItem.setAttribute(&quot;oncommand&quot;, &quot;goRestoreAllTabs();&quot;);</span>
<a href="#l32.53"></a><span id="l32.53">     menuPopup.appendChild(menuItem);</span>
<a href="#l32.54"></a><span id="l32.54">   }</span>
<a href="#l32.55"></a><span id="l32.55"> </span>
<a href="#l32.56"></a><span id="l32.56">   return true;</span>
<a href="#l32.57"></a><span id="l32.57"> }</span>
<a href="#l32.58"></a><span id="l32.58" class="difflineat">@@ -1107,17 +1107,17 @@ function populateHistoryMenu(menuPopup, </span>
<a href="#l32.59"></a><span id="l32.59">     if (msgHdr.flags &amp; Ci.nsMsgMessageFlags.HasRe)</span>
<a href="#l32.60"></a><span id="l32.60">       subject = &quot;Re: &quot;;</span>
<a href="#l32.61"></a><span id="l32.61">     if (msgHdr.mime2DecodedSubject)</span>
<a href="#l32.62"></a><span id="l32.62">       subject += msgHdr.mime2DecodedSubject;</span>
<a href="#l32.63"></a><span id="l32.63">     if (subject)</span>
<a href="#l32.64"></a><span id="l32.64">       menuText += subject + &quot; - &quot;;</span>
<a href="#l32.65"></a><span id="l32.65"> </span>
<a href="#l32.66"></a><span id="l32.66">     menuText += msgHdr.mime2DecodedAuthor;</span>
<a href="#l32.67"></a><span id="l32.67" class="difflineminus">-    newMenuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l32.68"></a><span id="l32.68" class="difflineplus">+    newMenuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l32.69"></a><span id="l32.69">     newMenuItem.setAttribute(&quot;label&quot;, menuText);</span>
<a href="#l32.70"></a><span id="l32.70">     relPos += isBackMenu ? -1 : 1;</span>
<a href="#l32.71"></a><span id="l32.71">     newMenuItem.setAttribute(&quot;value&quot;, relPos);</span>
<a href="#l32.72"></a><span id="l32.72">     newMenuItem.folder = folder;</span>
<a href="#l32.73"></a><span id="l32.73">     newMenuItem.setAttribute(&quot;oncommand&quot;, &quot;NavigateToUri(event.target); event.stopPropagation();&quot;);</span>
<a href="#l32.74"></a><span id="l32.74">     menuPopup.appendChild(newMenuItem);</span>
<a href="#l32.75"></a><span id="l32.75">     if (!(relPos % 20))</span>
<a href="#l32.76"></a><span id="l32.76">       break;</span>
<a href="#l32.77"></a><span id="l32.77" class="difflineat">@@ -2787,17 +2787,17 @@ function onRemoteContentOptionsShowing(a</span>
<a href="#l32.78"></a><span id="l32.78">       childNodes[i].remove();</span>
<a href="#l32.79"></a><span id="l32.79">   }</span>
<a href="#l32.80"></a><span id="l32.80"> </span>
<a href="#l32.81"></a><span id="l32.81"> </span>
<a href="#l32.82"></a><span id="l32.82">   let urlSepar = document.getElementById(&quot;remoteContentAllMenuSeparator&quot;);</span>
<a href="#l32.83"></a><span id="l32.83"> </span>
<a href="#l32.84"></a><span id="l32.84">   // ... and in with the new.</span>
<a href="#l32.85"></a><span id="l32.85">   for (let origin of origins) {</span>
<a href="#l32.86"></a><span id="l32.86" class="difflineminus">-    let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l32.87"></a><span id="l32.87" class="difflineplus">+    let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l32.88"></a><span id="l32.88">     menuitem.setAttribute(&quot;label&quot;,</span>
<a href="#l32.89"></a><span id="l32.89">       messengerBundle.getFormattedString(&quot;remoteAllowResource&quot;,</span>
<a href="#l32.90"></a><span id="l32.90">         [origin.replace(&quot;chrome://messenger/content/email=&quot;, &quot;&quot;)]));</span>
<a href="#l32.91"></a><span id="l32.91">     menuitem.setAttribute(&quot;value&quot;, origin);</span>
<a href="#l32.92"></a><span id="l32.92">     menuitem.setAttribute(&quot;class&quot;, &quot;allow-remote-uri&quot;);</span>
<a href="#l32.93"></a><span id="l32.93">     menuitem.setAttribute(&quot;oncommand&quot;, &quot;allowRemoteContentForURI(this.value);&quot;);</span>
<a href="#l32.94"></a><span id="l32.94">     if (origin.startsWith(&quot;chrome://messenger/content/email=&quot;))</span>
<a href="#l32.95"></a><span id="l32.95">       aEvent.target.appendChild(menuitem);</span>
<a href="#l32.96"></a><span id="l32.96" class="difflineat">@@ -3254,17 +3254,17 @@ async function initAddonPrefsMenu(aMenup</span>
<a href="#l32.97"></a><span id="l32.97">   }</span>
<a href="#l32.98"></a><span id="l32.98"> </span>
<a href="#l32.99"></a><span id="l32.99">   // Populate the menu with addon names and icons.</span>
<a href="#l32.100"></a><span id="l32.100">   // Note: Having the following code in the getAddonsByTypes() async callback</span>
<a href="#l32.101"></a><span id="l32.101">   // above works on Windows and Linux but doesn't work on Mac, see bug 1419145.</span>
<a href="#l32.102"></a><span id="l32.102">   if (addonsFound.length &gt; 0) {</span>
<a href="#l32.103"></a><span id="l32.103">     addonsFound.sort((a, b) =&gt; a.addon.name.localeCompare(b.addon.name));</span>
<a href="#l32.104"></a><span id="l32.104">     for (let { addon, optionsURL, optionsOpenInTab } of addonsFound) {</span>
<a href="#l32.105"></a><span id="l32.105" class="difflineminus">-      let newItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l32.106"></a><span id="l32.106" class="difflineplus">+      let newItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l32.107"></a><span id="l32.107">       newItem.setAttribute(&quot;label&quot;, addon.name);</span>
<a href="#l32.108"></a><span id="l32.108">       newItem.setAttribute(&quot;value&quot;, optionsURL);</span>
<a href="#l32.109"></a><span id="l32.109">       if (optionsOpenInTab) {</span>
<a href="#l32.110"></a><span id="l32.110">         newItem.setAttribute(&quot;optionsType&quot;, &quot;tab&quot;);</span>
<a href="#l32.111"></a><span id="l32.111">       }</span>
<a href="#l32.112"></a><span id="l32.112">       let iconURL = addon.iconURL || addon.icon64URL;</span>
<a href="#l32.113"></a><span id="l32.113">       if (iconURL) {</span>
<a href="#l32.114"></a><span id="l32.114">         newItem.setAttribute(&quot;class&quot;, &quot;menuitem-iconic&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/mail/base/content/msgHdrView.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/mail/base/content/msgHdrView.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -917,30 +917,30 @@ function HeaderView(headerName, label) {</span>
<a href="#l33.4"></a><span id="l33.4">   headerName = headerName.toLowerCase();</span>
<a href="#l33.5"></a><span id="l33.5">   let rowId = &quot;expanded&quot; + headerName + &quot;Row&quot;;</span>
<a href="#l33.6"></a><span id="l33.6">   let idName = &quot;expanded&quot; + headerName + &quot;Box&quot;;</span>
<a href="#l33.7"></a><span id="l33.7">   let newHeaderNode;</span>
<a href="#l33.8"></a><span id="l33.8">   // If a row for this header already exists, do not create another one.</span>
<a href="#l33.9"></a><span id="l33.9">   let newRowNode = document.getElementById(rowId);</span>
<a href="#l33.10"></a><span id="l33.10">   if (!newRowNode) {</span>
<a href="#l33.11"></a><span id="l33.11">     // Create new collapsed row.</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-    newRowNode = document.createElement(&quot;row&quot;);</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineplus">+    newRowNode = document.createXULElement(&quot;row&quot;);</span>
<a href="#l33.14"></a><span id="l33.14">     newRowNode.setAttribute(&quot;id&quot;, rowId);</span>
<a href="#l33.15"></a><span id="l33.15">     newRowNode.collapsed = true;</span>
<a href="#l33.16"></a><span id="l33.16"> </span>
<a href="#l33.17"></a><span id="l33.17">     // Create and append the label which contains the header name.</span>
<a href="#l33.18"></a><span id="l33.18" class="difflineminus">-    let newLabelNode = document.createElement(&quot;label&quot;);</span>
<a href="#l33.19"></a><span id="l33.19" class="difflineplus">+    let newLabelNode = document.createXULElement(&quot;label&quot;);</span>
<a href="#l33.20"></a><span id="l33.20">     newLabelNode.setAttribute(&quot;id&quot;, &quot;expanded&quot; + headerName + &quot;Label&quot;);</span>
<a href="#l33.21"></a><span id="l33.21">     newLabelNode.setAttribute(&quot;value&quot;, label);</span>
<a href="#l33.22"></a><span id="l33.22">     newLabelNode.setAttribute(&quot;class&quot;, &quot;headerName&quot;);</span>
<a href="#l33.23"></a><span id="l33.23">     newLabelNode.setAttribute(&quot;control&quot;, idName);</span>
<a href="#l33.24"></a><span id="l33.24">     newRowNode.appendChild(newLabelNode);</span>
<a href="#l33.25"></a><span id="l33.25"> </span>
<a href="#l33.26"></a><span id="l33.26">     // Create and append the new header value.</span>
<a href="#l33.27"></a><span id="l33.27" class="difflineminus">-    newHeaderNode = document.createElement(&quot;mail-headerfield&quot;);</span>
<a href="#l33.28"></a><span id="l33.28" class="difflineplus">+    newHeaderNode = document.createXULElement(&quot;mail-headerfield&quot;);</span>
<a href="#l33.29"></a><span id="l33.29">     newHeaderNode.setAttribute(&quot;id&quot;, idName);</span>
<a href="#l33.30"></a><span id="l33.30">     newHeaderNode.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l33.31"></a><span id="l33.31"> </span>
<a href="#l33.32"></a><span id="l33.32">     newRowNode.appendChild(newHeaderNode);</span>
<a href="#l33.33"></a><span id="l33.33"> </span>
<a href="#l33.34"></a><span id="l33.34">     // This new element needs to be inserted into the view...</span>
<a href="#l33.35"></a><span id="l33.35">     let topViewNode = document.getElementById(&quot;expandedHeader2Rows&quot;);</span>
<a href="#l33.36"></a><span id="l33.36">     topViewNode.appendChild(newRowNode);</span>
<a href="#l33.37"></a><span id="l33.37" class="difflineat">@@ -2611,17 +2611,17 @@ function ClearAttachmentMenu(popup) {</span>
<a href="#l33.38"></a><span id="l33.38">  * @param popup  the popup to add the menu to</span>
<a href="#l33.39"></a><span id="l33.39">  * @param attachment  the AttachmentInfo object to add</span>
<a href="#l33.40"></a><span id="l33.40">  * @param attachmentIndex  the index (starting at 0) of this attachment</span>
<a href="#l33.41"></a><span id="l33.41">  */</span>
<a href="#l33.42"></a><span id="l33.42"> function addAttachmentToPopup(popup, attachment, attachmentIndex) {</span>
<a href="#l33.43"></a><span id="l33.43">   if (!popup)</span>
<a href="#l33.44"></a><span id="l33.44">     return;</span>
<a href="#l33.45"></a><span id="l33.45"> </span>
<a href="#l33.46"></a><span id="l33.46" class="difflineminus">-  var item = document.createElement(&quot;menu&quot;);</span>
<a href="#l33.47"></a><span id="l33.47" class="difflineplus">+  var item = document.createXULElement(&quot;menu&quot;);</span>
<a href="#l33.48"></a><span id="l33.48">   if (!item)</span>
<a href="#l33.49"></a><span id="l33.49">     return;</span>
<a href="#l33.50"></a><span id="l33.50"> </span>
<a href="#l33.51"></a><span id="l33.51">   function getString(aName) {</span>
<a href="#l33.52"></a><span id="l33.52">     return document.getElementById(&quot;bundle_messenger&quot;).getString(aName);</span>
<a href="#l33.53"></a><span id="l33.53">   }</span>
<a href="#l33.54"></a><span id="l33.54"> </span>
<a href="#l33.55"></a><span id="l33.55">   // Insert the item just before the separator. The separator is the 2nd to</span>
<a href="#l33.56"></a><span id="l33.56" class="difflineat">@@ -2642,17 +2642,17 @@ function addAttachmentToPopup(popup, att</span>
<a href="#l33.57"></a><span id="l33.57">                       .getFormattedString(&quot;attachmentDisplayNameFormat&quot;,</span>
<a href="#l33.58"></a><span id="l33.58">                                           [attachmentIndex, displayName]);</span>
<a href="#l33.59"></a><span id="l33.59">   item.setAttribute(&quot;crop&quot;, &quot;center&quot;);</span>
<a href="#l33.60"></a><span id="l33.60">   item.setAttribute(&quot;label&quot;, label);</span>
<a href="#l33.61"></a><span id="l33.61">   item.setAttribute(&quot;accesskey&quot;, attachmentIndex % 10);</span>
<a href="#l33.62"></a><span id="l33.62"> </span>
<a href="#l33.63"></a><span id="l33.63">   // Each attachment in the list gets its own menupopup with options for</span>
<a href="#l33.64"></a><span id="l33.64">   // saving, deleting, detaching, etc.</span>
<a href="#l33.65"></a><span id="l33.65" class="difflineminus">-  var openpopup = document.createElement(&quot;menupopup&quot;);</span>
<a href="#l33.66"></a><span id="l33.66" class="difflineplus">+  var openpopup = document.createXULElement(&quot;menupopup&quot;);</span>
<a href="#l33.67"></a><span id="l33.67">   openpopup = item.appendChild(openpopup);</span>
<a href="#l33.68"></a><span id="l33.68">   openpopup.addEventListener(&quot;popupshowing&quot;, function(aEvent) {</span>
<a href="#l33.69"></a><span id="l33.69">     aEvent.stopPropagation();</span>
<a href="#l33.70"></a><span id="l33.70">   });</span>
<a href="#l33.71"></a><span id="l33.71"> </span>
<a href="#l33.72"></a><span id="l33.72">   // Due to Bug #314228, we must append our menupopup to the new attachment</span>
<a href="#l33.73"></a><span id="l33.73">   // menu item before we inserting the attachment menu into the popup. If we</span>
<a href="#l33.74"></a><span id="l33.74">   // don't, our attachment menu items will not show up.</span>
<a href="#l33.75"></a><span id="l33.75" class="difflineat">@@ -2680,60 +2680,60 @@ function addAttachmentToPopup(popup, att</span>
<a href="#l33.76"></a><span id="l33.76"> </span>
<a href="#l33.77"></a><span id="l33.77">   if (deleted) {</span>
<a href="#l33.78"></a><span id="l33.78">     // We can't do anything with a deleted attachment, so just return.</span>
<a href="#l33.79"></a><span id="l33.79">     item.disabled = true;</span>
<a href="#l33.80"></a><span id="l33.80">     return;</span>
<a href="#l33.81"></a><span id="l33.81">   }</span>
<a href="#l33.82"></a><span id="l33.82"> </span>
<a href="#l33.83"></a><span id="l33.83">   // Create the &quot;open&quot; menu item</span>
<a href="#l33.84"></a><span id="l33.84" class="difflineminus">-  var menuitementry = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l33.85"></a><span id="l33.85" class="difflineplus">+  var menuitementry = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l33.86"></a><span id="l33.86">   menuitementry.attachment = attachment;</span>
<a href="#l33.87"></a><span id="l33.87">   menuitementry.setAttribute(&quot;oncommand&quot;, &quot;this.attachment.open();&quot;);</span>
<a href="#l33.88"></a><span id="l33.88">   menuitementry.setAttribute(&quot;label&quot;, getString(&quot;openLabel&quot;));</span>
<a href="#l33.89"></a><span id="l33.89">   menuitementry.setAttribute(&quot;accesskey&quot;, getString(&quot;openLabelAccesskey&quot;));</span>
<a href="#l33.90"></a><span id="l33.90">   menuitementry.setAttribute(&quot;disabled&quot;, deleted);</span>
<a href="#l33.91"></a><span id="l33.91">   menuitementry = openpopup.appendChild(menuitementry);</span>
<a href="#l33.92"></a><span id="l33.92"> </span>
<a href="#l33.93"></a><span id="l33.93">   // Create a menuseparator</span>
<a href="#l33.94"></a><span id="l33.94" class="difflineminus">-  var menuseparator = document.createElement(&quot;menuseparator&quot;);</span>
<a href="#l33.95"></a><span id="l33.95" class="difflineplus">+  var menuseparator = document.createXULElement(&quot;menuseparator&quot;);</span>
<a href="#l33.96"></a><span id="l33.96">   openpopup.appendChild(menuseparator);</span>
<a href="#l33.97"></a><span id="l33.97"> </span>
<a href="#l33.98"></a><span id="l33.98">   // Create the &quot;save&quot; menu item</span>
<a href="#l33.99"></a><span id="l33.99" class="difflineminus">-  menuitementry = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l33.100"></a><span id="l33.100" class="difflineplus">+  menuitementry = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l33.101"></a><span id="l33.101">   menuitementry.attachment = attachment;</span>
<a href="#l33.102"></a><span id="l33.102">   menuitementry.setAttribute(&quot;oncommand&quot;, &quot;this.attachment.save();&quot;);</span>
<a href="#l33.103"></a><span id="l33.103">   menuitementry.setAttribute(&quot;label&quot;, getString(&quot;saveLabel&quot;));</span>
<a href="#l33.104"></a><span id="l33.104">   menuitementry.setAttribute(&quot;accesskey&quot;, getString(&quot;saveLabelAccesskey&quot;));</span>
<a href="#l33.105"></a><span id="l33.105">   menuitementry.setAttribute(&quot;disabled&quot;, deleted);</span>
<a href="#l33.106"></a><span id="l33.106">   menuitementry = openpopup.appendChild(menuitementry);</span>
<a href="#l33.107"></a><span id="l33.107"> </span>
<a href="#l33.108"></a><span id="l33.108">   // Create the &quot;detach&quot; menu item</span>
<a href="#l33.109"></a><span id="l33.109" class="difflineminus">-  menuitementry = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l33.110"></a><span id="l33.110" class="difflineplus">+  menuitementry = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l33.111"></a><span id="l33.111">   menuitementry.attachment = attachment;</span>
<a href="#l33.112"></a><span id="l33.112">   menuitementry.setAttribute(&quot;oncommand&quot;, &quot;this.attachment.detach(true);&quot;);</span>
<a href="#l33.113"></a><span id="l33.113">   menuitementry.setAttribute(&quot;label&quot;, getString(&quot;detachLabel&quot;));</span>
<a href="#l33.114"></a><span id="l33.114">   menuitementry.setAttribute(&quot;accesskey&quot;, getString(&quot;detachLabelAccesskey&quot;));</span>
<a href="#l33.115"></a><span id="l33.115">   menuitementry.setAttribute(&quot;disabled&quot;, !canDetach);</span>
<a href="#l33.116"></a><span id="l33.116">   menuitementry = openpopup.appendChild(menuitementry);</span>
<a href="#l33.117"></a><span id="l33.117"> </span>
<a href="#l33.118"></a><span id="l33.118">   // Create the &quot;delete&quot; menu item</span>
<a href="#l33.119"></a><span id="l33.119" class="difflineminus">-  menuitementry = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l33.120"></a><span id="l33.120" class="difflineplus">+  menuitementry = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l33.121"></a><span id="l33.121">   menuitementry.attachment = attachment;</span>
<a href="#l33.122"></a><span id="l33.122">   menuitementry.setAttribute(&quot;oncommand&quot;, &quot;this.attachment.detach(false);&quot;);</span>
<a href="#l33.123"></a><span id="l33.123">   menuitementry.setAttribute(&quot;label&quot;, getString(&quot;deleteLabel&quot;));</span>
<a href="#l33.124"></a><span id="l33.124">   menuitementry.setAttribute(&quot;accesskey&quot;, getString(&quot;deleteLabelAccesskey&quot;));</span>
<a href="#l33.125"></a><span id="l33.125">   menuitementry.setAttribute(&quot;disabled&quot;, !canDetach);</span>
<a href="#l33.126"></a><span id="l33.126">   menuitementry = openpopup.appendChild(menuitementry);</span>
<a href="#l33.127"></a><span id="l33.127"> </span>
<a href="#l33.128"></a><span id="l33.128">   // Create the &quot;open containing folder&quot; menu item, for existing detached only.</span>
<a href="#l33.129"></a><span id="l33.129">   if (attachment.isFileAttachment) {</span>
<a href="#l33.130"></a><span id="l33.130" class="difflineminus">-    let menuseparator = document.createElement(&quot;menuseparator&quot;);</span>
<a href="#l33.131"></a><span id="l33.131" class="difflineplus">+    let menuseparator = document.createXULElement(&quot;menuseparator&quot;);</span>
<a href="#l33.132"></a><span id="l33.132">     openpopup.appendChild(menuseparator);</span>
<a href="#l33.133"></a><span id="l33.133" class="difflineminus">-    menuitementry = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l33.134"></a><span id="l33.134" class="difflineplus">+    menuitementry = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l33.135"></a><span id="l33.135">     menuitementry.attachment = attachment;</span>
<a href="#l33.136"></a><span id="l33.136">     menuitementry.setAttribute(&quot;oncommand&quot;, &quot;this.attachment.openFolder();&quot;);</span>
<a href="#l33.137"></a><span id="l33.137">     menuitementry.setAttribute(&quot;label&quot;, getString(&quot;openFolderLabel&quot;));</span>
<a href="#l33.138"></a><span id="l33.138">     menuitementry.setAttribute(&quot;accesskey&quot;, getString(&quot;openFolderLabelAccesskey&quot;));</span>
<a href="#l33.139"></a><span id="l33.139">     menuitementry.setAttribute(&quot;disabled&quot;, !attachment.hasFile);</span>
<a href="#l33.140"></a><span id="l33.140">     menuitementry = openpopup.appendChild(menuitementry);</span>
<a href="#l33.141"></a><span id="l33.141">   }</span>
<a href="#l33.142"></a><span id="l33.142"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/mail/base/content/specialTabs.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/mail/base/content/specialTabs.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -714,17 +714,17 @@ var specialTabs = {</span>
<a href="#l34.4"></a><span id="l34.4">         throw new Error(&quot;contentPage must be specified&quot;);</span>
<a href="#l34.5"></a><span id="l34.5"> </span>
<a href="#l34.6"></a><span id="l34.6">       // First clone the page and set up the basics.</span>
<a href="#l34.7"></a><span id="l34.7">       let clone = document.getElementById(&quot;contentTab&quot;).firstChild.cloneNode(true);</span>
<a href="#l34.8"></a><span id="l34.8"> </span>
<a href="#l34.9"></a><span id="l34.9">       if (&quot;opener&quot; in aArgs &amp;&amp; aArgs.opener)</span>
<a href="#l34.10"></a><span id="l34.10">         clone.querySelector(&quot;browser&quot;).presetOpenerWindow(aArgs.opener);</span>
<a href="#l34.11"></a><span id="l34.11"> </span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-      const findbar = document.createElement(&quot;findbar&quot;);</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineplus">+      const findbar = document.createXULElement(&quot;findbar&quot;);</span>
<a href="#l34.14"></a><span id="l34.14">       // Adding browserid to findbar so that browser property can be set</span>
<a href="#l34.15"></a><span id="l34.15">       // in findbar custom element.</span>
<a href="#l34.16"></a><span id="l34.16">       findbar.setAttribute(&quot;browserid&quot;, &quot;dummycontentbrowser&quot;);</span>
<a href="#l34.17"></a><span id="l34.17">       clone.appendChild(findbar);</span>
<a href="#l34.18"></a><span id="l34.18"> </span>
<a href="#l34.19"></a><span id="l34.19">       clone.setAttribute(&quot;id&quot;, &quot;contentTab&quot; + this.lastBrowserId);</span>
<a href="#l34.20"></a><span id="l34.20">       clone.setAttribute(&quot;collapsed&quot;, false);</span>
<a href="#l34.21"></a><span id="l34.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/mail/base/content/statuspanel.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/mail/base/content/statuspanel.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -6,20 +6,20 @@</span>
<a href="#l35.4"></a><span id="l35.4"> /* global MozXULElement */</span>
<a href="#l35.5"></a><span id="l35.5"> </span>
<a href="#l35.6"></a><span id="l35.6"> class MozStatuspanel extends MozXULElement {</span>
<a href="#l35.7"></a><span id="l35.7">   static get observedAttributes() {</span>
<a href="#l35.8"></a><span id="l35.8">     return [&quot;label&quot;, &quot;mirror&quot;];</span>
<a href="#l35.9"></a><span id="l35.9">   }</span>
<a href="#l35.10"></a><span id="l35.10"> </span>
<a href="#l35.11"></a><span id="l35.11">   connectedCallback() {</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-    const hbox = document.createElement(&quot;hbox&quot;);</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineplus">+    const hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l35.14"></a><span id="l35.14">     hbox.classList.add(&quot;statuspanel-inner&quot;);</span>
<a href="#l35.15"></a><span id="l35.15"> </span>
<a href="#l35.16"></a><span id="l35.16" class="difflineminus">-    const label = document.createElement(&quot;label&quot;);</span>
<a href="#l35.17"></a><span id="l35.17" class="difflineplus">+    const label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l35.18"></a><span id="l35.18">     label.classList.add(&quot;statuspanel-label&quot;);</span>
<a href="#l35.19"></a><span id="l35.19">     label.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l35.20"></a><span id="l35.20">     label.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l35.21"></a><span id="l35.21"> </span>
<a href="#l35.22"></a><span id="l35.22">     hbox.appendChild(label);</span>
<a href="#l35.23"></a><span id="l35.23">     this.appendChild(hbox);</span>
<a href="#l35.24"></a><span id="l35.24"> </span>
<a href="#l35.25"></a><span id="l35.25">     this._labelElement = label;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/mail/components/accountcreation/content/emailWizard.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/mail/components/accountcreation/content/emailWizard.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -771,23 +771,23 @@ EmailConfigWizard.prototype = {</span>
<a href="#l36.4"></a><span id="l36.4">     e(&quot;status_msg&quot;).textContent = msg;</span>
<a href="#l36.5"></a><span id="l36.5">     gEmailWizardLogger.info(&quot;status msg: &quot; + msg);</span>
<a href="#l36.6"></a><span id="l36.6">   },</span>
<a href="#l36.7"></a><span id="l36.7"> </span>
<a href="#l36.8"></a><span id="l36.8">   // UI to show status updates in parallel</span>
<a href="#l36.9"></a><span id="l36.9"> </span>
<a href="#l36.10"></a><span id="l36.10">   addStatusLine(msgID, call) {</span>
<a href="#l36.11"></a><span id="l36.11">     _show(&quot;status-lines&quot;);</span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-    var statusLine = document.createElement(&quot;hbox&quot;);</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineplus">+    var statusLine = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l36.14"></a><span id="l36.14">     e(&quot;status-lines&quot;).appendChild(statusLine);</span>
<a href="#l36.15"></a><span id="l36.15">     statusLine.classList.add(&quot;status-line&quot;);</span>
<a href="#l36.16"></a><span id="l36.16" class="difflineminus">-    var statusDescr = document.createElement(&quot;description&quot;);</span>
<a href="#l36.17"></a><span id="l36.17" class="difflineplus">+    var statusDescr = document.createXULElement(&quot;description&quot;);</span>
<a href="#l36.18"></a><span id="l36.18">     statusDescr.classList.add(&quot;status_msg&quot;);</span>
<a href="#l36.19"></a><span id="l36.19">     statusLine.appendChild(statusDescr);</span>
<a href="#l36.20"></a><span id="l36.20" class="difflineminus">-    var statusImg = document.createElement(&quot;vbox&quot;);</span>
<a href="#l36.21"></a><span id="l36.21" class="difflineplus">+    var statusImg = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l36.22"></a><span id="l36.22">     statusImg.classList.add(&quot;status-img&quot;);</span>
<a href="#l36.23"></a><span id="l36.23">     statusImg.setAttribute(&quot;pack&quot;, &quot;start&quot;);</span>
<a href="#l36.24"></a><span id="l36.24">     statusLine.appendChild(statusImg);</span>
<a href="#l36.25"></a><span id="l36.25">     let msg = msgID;</span>
<a href="#l36.26"></a><span id="l36.26">     try {</span>
<a href="#l36.27"></a><span id="l36.27">       msg = gStringsBundle.getFormattedString(msgID, [gBrandShortName]);</span>
<a href="#l36.28"></a><span id="l36.28">     } catch (e) {</span>
<a href="#l36.29"></a><span id="l36.29">       console.error(e);</span>
<a href="#l36.30"></a><span id="l36.30" class="difflineat">@@ -896,20 +896,20 @@ EmailConfigWizard.prototype = {</span>
<a href="#l36.31"></a><span id="l36.31">             //     A third party addon that ...</span>
<a href="#l36.32"></a><span id="l36.32">             //   &lt;/label&gt;</span>
<a href="#l36.33"></a><span id="l36.33">             //   &lt;button</span>
<a href="#l36.34"></a><span id="l36.34">             //     class=&quot;larger-button&quot;</span>
<a href="#l36.35"></a><span id="l36.35">             //     orient=&quot;vertical&quot; crop=&quot;right&quot;</span>
<a href="#l36.36"></a><span id="l36.36">             //     label=&quot;Install&quot;</span>
<a href="#l36.37"></a><span id="l36.37">             //     oncommand=&quot;&quot; /&gt;</span>
<a href="#l36.38"></a><span id="l36.38">             // &lt;/row&gt;</span>
<a href="#l36.39"></a><span id="l36.39" class="difflineminus">-            let addonE = document.createElement(&quot;row&quot;);</span>
<a href="#l36.40"></a><span id="l36.40" class="difflineminus">-            let iconE = document.createElement(&quot;image&quot;);</span>
<a href="#l36.41"></a><span id="l36.41" class="difflineminus">-            let descrE = document.createElement(&quot;label&quot;, {is: &quot;text-link&quot;}); // must be &lt;label&gt; to be clickable</span>
<a href="#l36.42"></a><span id="l36.42" class="difflineminus">-            let buttonE = document.createElement(&quot;button&quot;);</span>
<a href="#l36.43"></a><span id="l36.43" class="difflineplus">+            let addonE = document.createXULElement(&quot;row&quot;);</span>
<a href="#l36.44"></a><span id="l36.44" class="difflineplus">+            let iconE = document.createXULElement(&quot;image&quot;);</span>
<a href="#l36.45"></a><span id="l36.45" class="difflineplus">+            let descrE = document.createXULElement(&quot;label&quot;, {is: &quot;text-link&quot;}); // must be &lt;label&gt; to be clickable</span>
<a href="#l36.46"></a><span id="l36.46" class="difflineplus">+            let buttonE = document.createXULElement(&quot;button&quot;);</span>
<a href="#l36.47"></a><span id="l36.47">             addonE.appendChild(iconE);</span>
<a href="#l36.48"></a><span id="l36.48">             addonE.appendChild(descrE);</span>
<a href="#l36.49"></a><span id="l36.49">             addonE.appendChild(buttonE);</span>
<a href="#l36.50"></a><span id="l36.50">             containerE.appendChild(addonE);</span>
<a href="#l36.51"></a><span id="l36.51">             addonE.setAttribute(&quot;align&quot;, &quot;center&quot;);</span>
<a href="#l36.52"></a><span id="l36.52">             iconE.classList.add(&quot;icon&quot;);</span>
<a href="#l36.53"></a><span id="l36.53">             if (addon.icon32) {</span>
<a href="#l36.54"></a><span id="l36.54">               iconE.setAttribute(&quot;src&quot;, addon.icon32);</span>
<a href="#l36.55"></a><span id="l36.55" class="difflineat">@@ -948,17 +948,17 @@ EmailConfigWizard.prototype = {</span>
<a href="#l36.56"></a><span id="l36.56">       let ssl = gStringsBundle.getString(sanitize.translate(server.socketType,</span>
<a href="#l36.57"></a><span id="l36.57">           { 1: &quot;resultNoEncryption&quot;, 2: &quot;resultSSL&quot;, 3: &quot;resultSTARTTLS&quot; }),</span>
<a href="#l36.58"></a><span id="l36.58">           unknownString);</span>
<a href="#l36.59"></a><span id="l36.59">       let certStatus = gStringsBundle.getString(server.badCert ?</span>
<a href="#l36.60"></a><span id="l36.60">           &quot;resultSSLCertWeak&quot; : &quot;resultSSLCertOK&quot;);</span>
<a href="#l36.61"></a><span id="l36.61">       // TODO: we should really also display authentication method here.</span>
<a href="#l36.62"></a><span id="l36.62"> </span>
<a href="#l36.63"></a><span id="l36.63">       function _addComponent(text, className) {</span>
<a href="#l36.64"></a><span id="l36.64" class="difflineminus">-        let textE = document.createElement(&quot;label&quot;);</span>
<a href="#l36.65"></a><span id="l36.65" class="difflineplus">+        let textE = document.createXULElement(&quot;label&quot;);</span>
<a href="#l36.66"></a><span id="l36.66">         textE.classList.add(className);</span>
<a href="#l36.67"></a><span id="l36.67">         textE.textContent = text;</span>
<a href="#l36.68"></a><span id="l36.68">         descrE.appendChild(textE);</span>
<a href="#l36.69"></a><span id="l36.69">       }</span>
<a href="#l36.70"></a><span id="l36.70">       removeChildNodes(descrE);</span>
<a href="#l36.71"></a><span id="l36.71">       _addComponent(type, &quot;protocolType&quot;);</span>
<a href="#l36.72"></a><span id="l36.72">       _addComponent(host, &quot;host-without-domain&quot;);</span>
<a href="#l36.73"></a><span id="l36.73">       _addComponent(domain, &quot;domain&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mail/components/activity/content/activity.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mail/components/activity/content/activity.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -21,17 +21,17 @@ var activityObject = {</span>
<a href="#l37.4"></a><span id="l37.4"> </span>
<a href="#l37.5"></a><span id="l37.5">   // Utility Functions for Activity element management</span>
<a href="#l37.6"></a><span id="l37.6"> </span>
<a href="#l37.7"></a><span id="l37.7">   /**</span>
<a href="#l37.8"></a><span id="l37.8">    * Creates the proper element for the given activity</span>
<a href="#l37.9"></a><span id="l37.9">    */</span>
<a href="#l37.10"></a><span id="l37.10">   createActivityWidget(type) {</span>
<a href="#l37.11"></a><span id="l37.11">     let builtInName = type.bindingName;</span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-    let element = document.createElement(&quot;richlistitem&quot;, { is: builtInName });</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+    let element = document.createXULElement(&quot;richlistitem&quot;, { is: builtInName });</span>
<a href="#l37.14"></a><span id="l37.14"> </span>
<a href="#l37.15"></a><span id="l37.15">     if (element) {</span>
<a href="#l37.16"></a><span id="l37.16">       element.setAttribute(&quot;actID&quot;, type.id);</span>
<a href="#l37.17"></a><span id="l37.17">     }</span>
<a href="#l37.18"></a><span id="l37.18"> </span>
<a href="#l37.19"></a><span id="l37.19">     return element;</span>
<a href="#l37.20"></a><span id="l37.20">   },</span>
<a href="#l37.21"></a><span id="l37.21"> </span>
<a href="#l37.22"></a><span id="l37.22" class="difflineat">@@ -88,17 +88,17 @@ var activityObject = {</span>
<a href="#l37.23"></a><span id="l37.23"> </span>
<a href="#l37.24"></a><span id="l37.24">       // find out if an activity group has already been created for this context</span>
<a href="#l37.25"></a><span id="l37.25">       let group = null;</span>
<a href="#l37.26"></a><span id="l37.26">       if (isGroupByContext) {</span>
<a href="#l37.27"></a><span id="l37.27">         group = this.getActivityGroupElementByContext(aActivity.contextType,</span>
<a href="#l37.28"></a><span id="l37.28">                                                  aActivity.contextObj);</span>
<a href="#l37.29"></a><span id="l37.29">         // create a group if it's not already created.</span>
<a href="#l37.30"></a><span id="l37.30">         if (!group) {</span>
<a href="#l37.31"></a><span id="l37.31" class="difflineminus">-          group = document.createElement(&quot;richlistitem&quot;, { is: &quot;activity-group&quot; });</span>
<a href="#l37.32"></a><span id="l37.32" class="difflineplus">+          group = document.createXULElement(&quot;richlistitem&quot;, { is: &quot;activity-group&quot; });</span>
<a href="#l37.33"></a><span id="l37.33">           this._activityLogger.info(&quot;created group element&quot;);</span>
<a href="#l37.34"></a><span id="l37.34">           // Set the context type and object of the newly created group</span>
<a href="#l37.35"></a><span id="l37.35">           group.contextType = aActivity.contextType;</span>
<a href="#l37.36"></a><span id="l37.36">           group.contextObj = aActivity.contextObj;</span>
<a href="#l37.37"></a><span id="l37.37">           group.contextDisplayText = aActivity.contextDisplayText;</span>
<a href="#l37.38"></a><span id="l37.38"> </span>
<a href="#l37.39"></a><span id="l37.39">           // add group into the list</span>
<a href="#l37.40"></a><span id="l37.40">           this.placeActivityElement(group);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/mail/components/addrbook/content/abCard.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCard.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -388,25 +388,25 @@ function InitPhoneticFields() {</span>
<a href="#l38.4"></a><span id="l38.4"> function InitBirthDateFields() {</span>
<a href="#l38.5"></a><span id="l38.5">   let birthMonth = document.getElementById(&quot;BirthMonth&quot;);</span>
<a href="#l38.6"></a><span id="l38.6">   let birthDay = document.getElementById(&quot;BirthDay&quot;);</span>
<a href="#l38.7"></a><span id="l38.7">   let birthYear = document.getElementById(&quot;BirthYear&quot;);</span>
<a href="#l38.8"></a><span id="l38.8"> </span>
<a href="#l38.9"></a><span id="l38.9">   if (birthMonth.menupopup.childElementCount == 1) {</span>
<a href="#l38.10"></a><span id="l38.10">     let formatter = Intl.DateTimeFormat(undefined, { month: &quot;long&quot; });</span>
<a href="#l38.11"></a><span id="l38.11">     for (let m = 1; m &lt;= 12; m++) {</span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-      let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineplus">+      let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l38.14"></a><span id="l38.14">       menuitem.setAttribute(&quot;value&quot;, m);</span>
<a href="#l38.15"></a><span id="l38.15">       menuitem.setAttribute(&quot;label&quot;, formatter.format(new Date(2000, m - 1, 2)));</span>
<a href="#l38.16"></a><span id="l38.16">       birthMonth.menupopup.appendChild(menuitem);</span>
<a href="#l38.17"></a><span id="l38.17">     }</span>
<a href="#l38.18"></a><span id="l38.18"> </span>
<a href="#l38.19"></a><span id="l38.19">     formatter = Intl.DateTimeFormat(undefined, { day: &quot;numeric&quot; });</span>
<a href="#l38.20"></a><span id="l38.20">     for (let d = 1; d &lt;= 31; d++) {</span>
<a href="#l38.21"></a><span id="l38.21" class="difflineminus">-      let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l38.22"></a><span id="l38.22" class="difflineplus">+      let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l38.23"></a><span id="l38.23">       menuitem.setAttribute(&quot;value&quot;, d);</span>
<a href="#l38.24"></a><span id="l38.24">       menuitem.setAttribute(&quot;label&quot;, formatter.format(new Date(2000, 0, d)));</span>
<a href="#l38.25"></a><span id="l38.25">       birthDay.menupopup.appendChild(menuitem);</span>
<a href="#l38.26"></a><span id="l38.26">     }</span>
<a href="#l38.27"></a><span id="l38.27">   }</span>
<a href="#l38.28"></a><span id="l38.28"> </span>
<a href="#l38.29"></a><span id="l38.29">   birthMonth.addEventListener(&quot;command&quot;, setDisabledMonthDays);</span>
<a href="#l38.30"></a><span id="l38.30">   birthYear.addEventListener(&quot;change&quot;, setDisabledMonthDays);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/mail/components/addrbook/content/abCardView.js</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCardView.js</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -475,17 +475,17 @@ function cvAddAddressNodes(node, uri) {</span>
<a href="#l39.4"></a><span id="l39.4"> </span>
<a href="#l39.5"></a><span id="l39.5">     if (addressList) {</span>
<a href="#l39.6"></a><span id="l39.6">       var total = addressList.length;</span>
<a href="#l39.7"></a><span id="l39.7">       if (total &gt; 0) {</span>
<a href="#l39.8"></a><span id="l39.8">         while (node.hasChildNodes()) {</span>
<a href="#l39.9"></a><span id="l39.9">           node.lastChild.remove();</span>
<a href="#l39.10"></a><span id="l39.10">         }</span>
<a href="#l39.11"></a><span id="l39.11">         for (let i = 0; i &lt; total; i++) {</span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-          var descNode = document.createElement(&quot;description&quot;);</span>
<a href="#l39.13"></a><span id="l39.13" class="difflineplus">+          var descNode = document.createXULElement(&quot;description&quot;);</span>
<a href="#l39.14"></a><span id="l39.14">           var card = addressList.queryElementAt(i, Ci.nsIAbCard);</span>
<a href="#l39.15"></a><span id="l39.15"> </span>
<a href="#l39.16"></a><span id="l39.16">           descNode.setAttribute(&quot;class&quot;, &quot;CardViewLink&quot;);</span>
<a href="#l39.17"></a><span id="l39.17">           node.appendChild(descNode);</span>
<a href="#l39.18"></a><span id="l39.18"> </span>
<a href="#l39.19"></a><span id="l39.19">           var linkNode = document.createElementNS(&quot;http://www.w3.org/1999/xhtml&quot;, &quot;a&quot;);</span>
<a href="#l39.20"></a><span id="l39.20">           linkNode.setAttribute(&quot;id&quot;, &quot;addr#&quot; + i);</span>
<a href="#l39.21"></a><span id="l39.21">           linkNode.setAttribute(&quot;href&quot;, &quot;mailto:&quot; + card.primaryEmail);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/mail/components/addrbook/content/menulist-addrbooks.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/mail/components/addrbook/content/menulist-addrbooks.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l40.4"></a><span id="l40.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l40.5"></a><span id="l40.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l40.6"></a><span id="l40.6">  * file, You can obtain one at https://mozilla.org/MPL/2.0/. */</span>
<a href="#l40.7"></a><span id="l40.7"> </span>
<a href="#l40.8"></a><span id="l40.8">  // The menulist CE is defined lazily. Create one now to get menulist defined,</span>
<a href="#l40.9"></a><span id="l40.9"> // allowing us to inherit from it.</span>
<a href="#l40.10"></a><span id="l40.10"> if (!customElements.get(&quot;menulist&quot;)) {</span>
<a href="#l40.11"></a><span id="l40.11" class="difflineminus">-  delete document.createElement(&quot;menulist&quot;);</span>
<a href="#l40.12"></a><span id="l40.12" class="difflineplus">+  delete document.createXULElement(&quot;menulist&quot;);</span>
<a href="#l40.13"></a><span id="l40.13"> }</span>
<a href="#l40.14"></a><span id="l40.14"> </span>
<a href="#l40.15"></a><span id="l40.15"> customElements.whenDefined(&quot;menulist&quot;).then(() =&gt; {</span>
<a href="#l40.16"></a><span id="l40.16">   const { MailServices } = ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l40.17"></a><span id="l40.17">   const { fixIterator } = ChromeUtils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l40.18"></a><span id="l40.18">   /**</span>
<a href="#l40.19"></a><span id="l40.19">    * MozMenulistAddrbooks is a menulist widget that is automatically</span>
<a href="#l40.20"></a><span id="l40.20">    * populated with the complete address book list.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -199,17 +199,17 @@ function updateEditableFields(aDisable) </span>
<a href="#l41.4"></a><span id="l41.4"> </span>
<a href="#l41.5"></a><span id="l41.5"> var PrintPreviewListener = {</span>
<a href="#l41.6"></a><span id="l41.6">   getPrintPreviewBrowser() {</span>
<a href="#l41.7"></a><span id="l41.7">     let browser = document.getElementById(&quot;cppBrowser&quot;);</span>
<a href="#l41.8"></a><span id="l41.8">     if (!gChromeState)</span>
<a href="#l41.9"></a><span id="l41.9">       gChromeState = {};</span>
<a href="#l41.10"></a><span id="l41.10">     preparePrintPreviewTitleHeader();</span>
<a href="#l41.11"></a><span id="l41.11">     if (!browser) {</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-      browser = document.createElement(&quot;browser&quot;);</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineplus">+      browser = document.createXULElement(&quot;browser&quot;);</span>
<a href="#l41.14"></a><span id="l41.14">       browser.setAttribute(&quot;id&quot;, &quot;cppBrowser&quot;);</span>
<a href="#l41.15"></a><span id="l41.15">       browser.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l41.16"></a><span id="l41.16">       browser.setAttribute(&quot;disablehistory&quot;, &quot;true&quot;);</span>
<a href="#l41.17"></a><span id="l41.17">       browser.setAttribute(&quot;type&quot;, &quot;content&quot;);</span>
<a href="#l41.18"></a><span id="l41.18">       document.getElementById(&quot;headers-parent&quot;).</span>
<a href="#l41.19"></a><span id="l41.19">         insertBefore(browser, document.getElementById(&quot;appcontent&quot;));</span>
<a href="#l41.20"></a><span id="l41.20">     }</span>
<a href="#l41.21"></a><span id="l41.21">     return browser;</span>
<a href="#l41.22"></a><span id="l41.22" class="difflineat">@@ -1444,17 +1444,17 @@ function updateSendCommands(aHaveControl</span>
<a href="#l41.23"></a><span id="l41.23">   }</span>
<a href="#l41.24"></a><span id="l41.24"> }</span>
<a href="#l41.25"></a><span id="l41.25"> </span>
<a href="#l41.26"></a><span id="l41.26"> function addAttachCloudMenuItems(aParentMenu) {</span>
<a href="#l41.27"></a><span id="l41.27">   while (aParentMenu.hasChildNodes())</span>
<a href="#l41.28"></a><span id="l41.28">     aParentMenu.lastChild.remove();</span>
<a href="#l41.29"></a><span id="l41.29"> </span>
<a href="#l41.30"></a><span id="l41.30">   for (let account of cloudFileAccounts.configuredAccounts) {</span>
<a href="#l41.31"></a><span id="l41.31" class="difflineminus">-    let item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l41.32"></a><span id="l41.32" class="difflineplus">+    let item = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l41.33"></a><span id="l41.33">     let iconURL = account.iconURL;</span>
<a href="#l41.34"></a><span id="l41.34">     item.cloudFileAccount = account;</span>
<a href="#l41.35"></a><span id="l41.35">     item.setAttribute(&quot;label&quot;, cloudFileAccounts.getDisplayName(account));</span>
<a href="#l41.36"></a><span id="l41.36"> </span>
<a href="#l41.37"></a><span id="l41.37">     if (iconURL) {</span>
<a href="#l41.38"></a><span id="l41.38">       item.setAttribute(&quot;class&quot;, &quot;menu-iconic&quot;);</span>
<a href="#l41.39"></a><span id="l41.39">       item.setAttribute(&quot;image&quot;, iconURL);</span>
<a href="#l41.40"></a><span id="l41.40">     }</span>
<a href="#l41.41"></a><span id="l41.41" class="difflineat">@@ -1469,17 +1469,17 @@ function addConvertCloudMenuItems(aParen</span>
<a href="#l41.42"></a><span id="l41.42">     afterNode.nextSibling.remove();</span>
<a href="#l41.43"></a><span id="l41.43"> </span>
<a href="#l41.44"></a><span id="l41.44">   if (!attachment.sendViaCloud) {</span>
<a href="#l41.45"></a><span id="l41.45">     let item = document.getElementById(&quot;convertCloudMenuItems_popup_convertAttachment&quot;);</span>
<a href="#l41.46"></a><span id="l41.46">     item.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l41.47"></a><span id="l41.47">   }</span>
<a href="#l41.48"></a><span id="l41.48"> </span>
<a href="#l41.49"></a><span id="l41.49">   for (let account of cloudFileAccounts.configuredAccounts) {</span>
<a href="#l41.50"></a><span id="l41.50" class="difflineminus">-    let item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l41.51"></a><span id="l41.51" class="difflineplus">+    let item = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l41.52"></a><span id="l41.52">     let iconURL = account.iconURL;</span>
<a href="#l41.53"></a><span id="l41.53">     item.cloudFileAccount = account;</span>
<a href="#l41.54"></a><span id="l41.54">     item.setAttribute(&quot;label&quot;, cloudFileAccounts.getDisplayName(account));</span>
<a href="#l41.55"></a><span id="l41.55">     item.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l41.56"></a><span id="l41.56">     item.setAttribute(&quot;name&quot;, aRadioGroup);</span>
<a href="#l41.57"></a><span id="l41.57"> </span>
<a href="#l41.58"></a><span id="l41.58">     if (attachment.cloudFileAccount &amp;&amp;</span>
<a href="#l41.59"></a><span id="l41.59">         attachment.cloudFileAccount.accountKey == account.accountKey) {</span>
<a href="#l41.60"></a><span id="l41.60" class="difflineat">@@ -2137,47 +2137,47 @@ function manageAttachmentNotification(aF</span>
<a href="#l41.61"></a><span id="l41.61">     let description = notification.querySelector(&quot;#attachmentReminderText&quot;);</span>
<a href="#l41.62"></a><span id="l41.62">     description.setAttribute(&quot;value&quot;, textValue);</span>
<a href="#l41.63"></a><span id="l41.63">     description = notification.querySelector(&quot;#attachmentKeywords&quot;);</span>
<a href="#l41.64"></a><span id="l41.64">     description.setAttribute(&quot;value&quot;, keywords);</span>
<a href="#l41.65"></a><span id="l41.65">     return;</span>
<a href="#l41.66"></a><span id="l41.66">   }</span>
<a href="#l41.67"></a><span id="l41.67"> </span>
<a href="#l41.68"></a><span id="l41.68">   // Construct the notification as we don't have one.</span>
<a href="#l41.69"></a><span id="l41.69" class="difflineminus">-  let msg = document.createElement(&quot;hbox&quot;);</span>
<a href="#l41.70"></a><span id="l41.70" class="difflineplus">+  let msg = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l41.71"></a><span id="l41.71">   msg.setAttribute(&quot;flex&quot;, &quot;100&quot;);</span>
<a href="#l41.72"></a><span id="l41.72">   msg.onclick = function(event) {</span>
<a href="#l41.73"></a><span id="l41.73">     openOptionsDialog(&quot;paneCompose&quot;, &quot;generalTab&quot;,</span>
<a href="#l41.74"></a><span id="l41.74">                       {subdialog: &quot;attachment_reminder_button&quot;});</span>
<a href="#l41.75"></a><span id="l41.75">   };</span>
<a href="#l41.76"></a><span id="l41.76"> </span>
<a href="#l41.77"></a><span id="l41.77" class="difflineminus">-  let msgText = document.createElement(&quot;label&quot;);</span>
<a href="#l41.78"></a><span id="l41.78" class="difflineplus">+  let msgText = document.createXULElement(&quot;label&quot;);</span>
<a href="#l41.79"></a><span id="l41.79">   msg.appendChild(msgText);</span>
<a href="#l41.80"></a><span id="l41.80">   msgText.id = &quot;attachmentReminderText&quot;;</span>
<a href="#l41.81"></a><span id="l41.81">   msgText.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l41.82"></a><span id="l41.82">   msgText.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l41.83"></a><span id="l41.83">   msgText.setAttribute(&quot;value&quot;, textValue);</span>
<a href="#l41.84"></a><span id="l41.84" class="difflineminus">-  let msgKeywords = document.createElement(&quot;label&quot;);</span>
<a href="#l41.85"></a><span id="l41.85" class="difflineplus">+  let msgKeywords = document.createXULElement(&quot;label&quot;);</span>
<a href="#l41.86"></a><span id="l41.86">   msg.appendChild(msgKeywords);</span>
<a href="#l41.87"></a><span id="l41.87">   msgKeywords.id = &quot;attachmentKeywords&quot;;</span>
<a href="#l41.88"></a><span id="l41.88">   msgKeywords.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l41.89"></a><span id="l41.89">   msgKeywords.setAttribute(&quot;flex&quot;, &quot;1000&quot;);</span>
<a href="#l41.90"></a><span id="l41.90">   msgKeywords.setAttribute(&quot;value&quot;, keywords);</span>
<a href="#l41.91"></a><span id="l41.91">   let addButton = {</span>
<a href="#l41.92"></a><span id="l41.92">     accessKey: getComposeBundle().getString(&quot;addAttachmentButton.accesskey&quot;),</span>
<a href="#l41.93"></a><span id="l41.93">     label: getComposeBundle().getString(&quot;addAttachmentButton&quot;),</span>
<a href="#l41.94"></a><span id="l41.94">     callback(aNotificationBar, aButton) {</span>
<a href="#l41.95"></a><span id="l41.95">       goDoCommand(&quot;cmd_attachFile&quot;);</span>
<a href="#l41.96"></a><span id="l41.96">       return true; // keep notification open (the state machine will decide on it later)</span>
<a href="#l41.97"></a><span id="l41.97">     },</span>
<a href="#l41.98"></a><span id="l41.98">   };</span>
<a href="#l41.99"></a><span id="l41.99"> </span>
<a href="#l41.100"></a><span id="l41.100" class="difflineminus">-  let remindLaterMenuPopup = document.createElement(&quot;menupopup&quot;);</span>
<a href="#l41.101"></a><span id="l41.101" class="difflineplus">+  let remindLaterMenuPopup = document.createXULElement(&quot;menupopup&quot;);</span>
<a href="#l41.102"></a><span id="l41.102">   remindLaterMenuPopup.id = &quot;reminderBarPopup&quot;;</span>
<a href="#l41.103"></a><span id="l41.103" class="difflineminus">-  let disableAttachmentReminder = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l41.104"></a><span id="l41.104" class="difflineplus">+  let disableAttachmentReminder = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l41.105"></a><span id="l41.105">   disableAttachmentReminder.id = &quot;disableReminder&quot;;</span>
<a href="#l41.106"></a><span id="l41.106">   disableAttachmentReminder.setAttribute(&quot;label&quot;,</span>
<a href="#l41.107"></a><span id="l41.107">     getComposeBundle().getString(&quot;disableAttachmentReminderButton&quot;));</span>
<a href="#l41.108"></a><span id="l41.108">   disableAttachmentReminder.setAttribute(&quot;command&quot;, &quot;cmd_doNotRemindForAttachments&quot;);</span>
<a href="#l41.109"></a><span id="l41.109">   remindLaterMenuPopup.appendChild(disableAttachmentReminder);</span>
<a href="#l41.110"></a><span id="l41.110"> </span>
<a href="#l41.111"></a><span id="l41.111">   let remindButton = {</span>
<a href="#l41.112"></a><span id="l41.112">     type: &quot;menu-button&quot;,</span>
<a href="#l41.113"></a><span id="l41.113" class="difflineat">@@ -2455,27 +2455,27 @@ function onPasteOrDrop(e) {</span>
<a href="#l41.114"></a><span id="l41.114">     });</span>
<a href="#l41.115"></a><span id="l41.115">   }</span>
<a href="#l41.116"></a><span id="l41.116"> }</span>
<a href="#l41.117"></a><span id="l41.117"> </span>
<a href="#l41.118"></a><span id="l41.118"> /* eslint-disable complexity */</span>
<a href="#l41.119"></a><span id="l41.119"> function ComposeStartup(aParams) {</span>
<a href="#l41.120"></a><span id="l41.120">   // Findbar overlay</span>
<a href="#l41.121"></a><span id="l41.121">   if (!document.getElementById(&quot;findbar-replaceButton&quot;)) {</span>
<a href="#l41.122"></a><span id="l41.122" class="difflineminus">-    let replaceButton = document.createElement(&quot;toolbarbutton&quot;);</span>
<a href="#l41.123"></a><span id="l41.123" class="difflineplus">+    let replaceButton = document.createXULElement(&quot;toolbarbutton&quot;);</span>
<a href="#l41.124"></a><span id="l41.124">     replaceButton.setAttribute(&quot;id&quot;, &quot;findbar-replaceButton&quot;);</span>
<a href="#l41.125"></a><span id="l41.125">     replaceButton.setAttribute(&quot;class&quot;, &quot;findbar-button tabbable&quot;);</span>
<a href="#l41.126"></a><span id="l41.126">     replaceButton.setAttribute(&quot;label&quot;, getComposeBundle().getString(&quot;replaceButton.label&quot;));</span>
<a href="#l41.127"></a><span id="l41.127">     replaceButton.setAttribute(&quot;accesskey&quot;, getComposeBundle().getString(&quot;replaceButton.accesskey&quot;));</span>
<a href="#l41.128"></a><span id="l41.128">     replaceButton.setAttribute(&quot;tooltiptext&quot;, getComposeBundle().getString(&quot;replaceButton.tooltip&quot;));</span>
<a href="#l41.129"></a><span id="l41.129">     replaceButton.setAttribute(&quot;oncommand&quot;, &quot;findbarFindReplace();&quot;);</span>
<a href="#l41.130"></a><span id="l41.130"> </span>
<a href="#l41.131"></a><span id="l41.131">     let findbar = document.getElementById(&quot;FindToolbar&quot;);</span>
<a href="#l41.132"></a><span id="l41.132">     let lastButton = findbar.getElement(&quot;find-entire-word&quot;);</span>
<a href="#l41.133"></a><span id="l41.133" class="difflineminus">-    let tSeparator = document.createElement(&quot;toolbarseparator&quot;);</span>
<a href="#l41.134"></a><span id="l41.134" class="difflineplus">+    let tSeparator = document.createXULElement(&quot;toolbarseparator&quot;);</span>
<a href="#l41.135"></a><span id="l41.135">     tSeparator.setAttribute(&quot;id&quot;, &quot;findbar-beforeReplaceSeparator&quot;);</span>
<a href="#l41.136"></a><span id="l41.136">     lastButton.parentNode.insertBefore(replaceButton, lastButton.nextSibling);</span>
<a href="#l41.137"></a><span id="l41.137">     lastButton.parentNode.insertBefore(tSeparator, lastButton.nextSibling);</span>
<a href="#l41.138"></a><span id="l41.138">   }</span>
<a href="#l41.139"></a><span id="l41.139"> </span>
<a href="#l41.140"></a><span id="l41.140">   var params = null; // New way to pass parameters to the compose window as a nsIMsgComposeParameters object</span>
<a href="#l41.141"></a><span id="l41.141">   var args = null;   // old way, parameters are passed as a string</span>
<a href="#l41.142"></a><span id="l41.142">   gBodyFromArgs = false;</span>
<a href="#l41.143"></a><span id="l41.143" class="difflineat">@@ -3787,17 +3787,17 @@ function InitLanguageMenu() {</span>
<a href="#l41.144"></a><span id="l41.144"> </span>
<a href="#l41.145"></a><span id="l41.145">   var sortedList = gSpellChecker.sortDictionaryList(dictList);</span>
<a href="#l41.146"></a><span id="l41.146"> </span>
<a href="#l41.147"></a><span id="l41.147">   // Remove any languages from the list.</span>
<a href="#l41.148"></a><span id="l41.148">   while (languageMenuList.hasChildNodes())</span>
<a href="#l41.149"></a><span id="l41.149">     languageMenuList.lastChild.remove();</span>
<a href="#l41.150"></a><span id="l41.150"> </span>
<a href="#l41.151"></a><span id="l41.151">   for (let i = 0; i &lt; count; i++) {</span>
<a href="#l41.152"></a><span id="l41.152" class="difflineminus">-    var item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l41.153"></a><span id="l41.153" class="difflineplus">+    var item = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l41.154"></a><span id="l41.154">     item.setAttribute(&quot;label&quot;, sortedList[i].displayName);</span>
<a href="#l41.155"></a><span id="l41.155">     item.setAttribute(&quot;value&quot;, sortedList[i].localeCode);</span>
<a href="#l41.156"></a><span id="l41.156">     item.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l41.157"></a><span id="l41.157">     languageMenuList.appendChild(item);</span>
<a href="#l41.158"></a><span id="l41.158">   }</span>
<a href="#l41.159"></a><span id="l41.159"> }</span>
<a href="#l41.160"></a><span id="l41.160"> </span>
<a href="#l41.161"></a><span id="l41.161"> function OnShowDictionaryMenu(aTarget) {</span>
<a href="#l41.162"></a><span id="l41.162" class="difflineat">@@ -3960,17 +3960,17 @@ function FillIdentityList(menulist) {</span>
<a href="#l41.163"></a><span id="l41.163"> </span>
<a href="#l41.164"></a><span id="l41.164">     let needSeparator = (identities.length &gt; 1);</span>
<a href="#l41.165"></a><span id="l41.165">     if (needSeparator || accountHadSeparator) {</span>
<a href="#l41.166"></a><span id="l41.166">       // Separate identities from this account from the previous</span>
<a href="#l41.167"></a><span id="l41.167">       // account's identities if there is more than 1 in the current</span>
<a href="#l41.168"></a><span id="l41.168">       // or previous account.</span>
<a href="#l41.169"></a><span id="l41.169">       if (!firstAccountWithIdentities) {</span>
<a href="#l41.170"></a><span id="l41.170">         // only if this is not the first account shown</span>
<a href="#l41.171"></a><span id="l41.171" class="difflineminus">-        let separator = document.createElement(&quot;menuseparator&quot;);</span>
<a href="#l41.172"></a><span id="l41.172" class="difflineplus">+        let separator = document.createXULElement(&quot;menuseparator&quot;);</span>
<a href="#l41.173"></a><span id="l41.173">         menulist.menupopup.appendChild(separator);</span>
<a href="#l41.174"></a><span id="l41.174">       }</span>
<a href="#l41.175"></a><span id="l41.175">       accountHadSeparator = needSeparator;</span>
<a href="#l41.176"></a><span id="l41.176">     }</span>
<a href="#l41.177"></a><span id="l41.177">     firstAccountWithIdentities = false;</span>
<a href="#l41.178"></a><span id="l41.178"> </span>
<a href="#l41.179"></a><span id="l41.179">     for (let i = 0; i &lt; identities.length; i++) {</span>
<a href="#l41.180"></a><span id="l41.180">       let identity = identities[i];</span>
<a href="#l41.181"></a><span id="l41.181" class="difflineat">@@ -3989,18 +3989,18 @@ function FillIdentityList(menulist) {</span>
<a href="#l41.182"></a><span id="l41.182">       desc.value = item.getAttribute(&quot;description&quot;);</span>
<a href="#l41.183"></a><span id="l41.183">       desc.classList.add(&quot;menu-description&quot;);</span>
<a href="#l41.184"></a><span id="l41.184">       desc.setAttribute(&quot;crop&quot;, &quot;right&quot;);</span>
<a href="#l41.185"></a><span id="l41.185">       desc.setAttribute(&quot;flex&quot;, &quot;10000&quot;);</span>
<a href="#l41.186"></a><span id="l41.186">       item.querySelector(&quot;label:last-child&quot;).after(desc);</span>
<a href="#l41.187"></a><span id="l41.187">     }</span>
<a href="#l41.188"></a><span id="l41.188">   }</span>
<a href="#l41.189"></a><span id="l41.189"> </span>
<a href="#l41.190"></a><span id="l41.190" class="difflineminus">-  menulist.menupopup.appendChild(document.createElement(&quot;menuseparator&quot;));</span>
<a href="#l41.191"></a><span id="l41.191" class="difflineminus">-  menulist.menupopup.appendChild(document.createElement(&quot;menuitem&quot;))</span>
<a href="#l41.192"></a><span id="l41.192" class="difflineplus">+  menulist.menupopup.appendChild(document.createXULElement(&quot;menuseparator&quot;));</span>
<a href="#l41.193"></a><span id="l41.193" class="difflineplus">+  menulist.menupopup.appendChild(document.createXULElement(&quot;menuitem&quot;))</span>
<a href="#l41.194"></a><span id="l41.194">           .setAttribute(&quot;command&quot;, &quot;cmd_customizeFromAddress&quot;);</span>
<a href="#l41.195"></a><span id="l41.195"> }</span>
<a href="#l41.196"></a><span id="l41.196"> </span>
<a href="#l41.197"></a><span id="l41.197"> function getCurrentAccountKey() {</span>
<a href="#l41.198"></a><span id="l41.198">   // Get the account's key.</span>
<a href="#l41.199"></a><span id="l41.199">   let identityList = GetMsgIdentityElement();</span>
<a href="#l41.200"></a><span id="l41.200">   return identityList.selectedItem.getAttribute(&quot;accountkey&quot;);</span>
<a href="#l41.201"></a><span id="l41.201"> }</span>
<a href="#l41.202"></a><span id="l41.202" class="difflineat">@@ -6833,17 +6833,17 @@ function onBlockedContentOptionsShowing(</span>
<a href="#l41.203"></a><span id="l41.203">   // Out with the old...</span>
<a href="#l41.204"></a><span id="l41.204">   let childNodes = aEvent.target.childNodes;</span>
<a href="#l41.205"></a><span id="l41.205">   for (let i = childNodes.length - 1; i &gt;= 0; i--) {</span>
<a href="#l41.206"></a><span id="l41.206">     childNodes[i].remove();</span>
<a href="#l41.207"></a><span id="l41.207">   }</span>
<a href="#l41.208"></a><span id="l41.208"> </span>
<a href="#l41.209"></a><span id="l41.209">   // ... and in with the new.</span>
<a href="#l41.210"></a><span id="l41.210">   for (let url of urls) {</span>
<a href="#l41.211"></a><span id="l41.211" class="difflineminus">-    let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l41.212"></a><span id="l41.212" class="difflineplus">+    let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l41.213"></a><span id="l41.213">     menuitem.setAttribute(&quot;label&quot;,</span>
<a href="#l41.214"></a><span id="l41.214">       getComposeBundle().getFormattedString(&quot;blockedAllowResource&quot;, [url]));</span>
<a href="#l41.215"></a><span id="l41.215">     menuitem.setAttribute(&quot;crop&quot;, &quot;center&quot;);</span>
<a href="#l41.216"></a><span id="l41.216">     menuitem.setAttribute(&quot;value&quot;, url);</span>
<a href="#l41.217"></a><span id="l41.217">     menuitem.setAttribute(&quot;oncommand&quot;,</span>
<a href="#l41.218"></a><span id="l41.218">                           &quot;onUnblockResource(this.value, this.parentNode);&quot;);</span>
<a href="#l41.219"></a><span id="l41.219">     aEvent.target.appendChild(menuitem);</span>
<a href="#l41.220"></a><span id="l41.220">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/mail/components/compose/content/addressingWidgetOverlay.js</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/mail/components/compose/content/addressingWidgetOverlay.js</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -904,17 +904,17 @@ function awCalcContentHeight() {</span>
<a href="#l42.4"></a><span id="l42.4">     gAWContentHeight = gAWRowHeight * items.length;</span>
<a href="#l42.5"></a><span id="l42.5">   }</span>
<a href="#l42.6"></a><span id="l42.6"> }</span>
<a href="#l42.7"></a><span id="l42.7"> </span>
<a href="#l42.8"></a><span id="l42.8"> function awCreateDummyItem(aParent) {</span>
<a href="#l42.9"></a><span id="l42.9">   var listbox = document.getElementById(&quot;addressingWidget&quot;);</span>
<a href="#l42.10"></a><span id="l42.10">   var item = listbox.getItemAtIndex(0);</span>
<a href="#l42.11"></a><span id="l42.11"> </span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-  var titem = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l42.13"></a><span id="l42.13" class="difflineplus">+  var titem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l42.14"></a><span id="l42.14">   titem.setAttribute(&quot;_isDummyRow&quot;, &quot;true&quot;);</span>
<a href="#l42.15"></a><span id="l42.15">   titem.setAttribute(&quot;class&quot;, &quot;dummy-row&quot;);</span>
<a href="#l42.16"></a><span id="l42.16">   titem.style.height = item.getBoundingClientRect().height + &quot;px&quot;;</span>
<a href="#l42.17"></a><span id="l42.17"> </span>
<a href="#l42.18"></a><span id="l42.18">   for (let i = 0; i &lt; awGetNumberOfCols(); i++) {</span>
<a href="#l42.19"></a><span id="l42.19">     let cell = awCreateDummyCell(titem);</span>
<a href="#l42.20"></a><span id="l42.20">     if (item.children[i].hasAttribute(&quot;style&quot;)) {</span>
<a href="#l42.21"></a><span id="l42.21">       cell.setAttribute(&quot;style&quot;, item.children[i].getAttribute(&quot;style&quot;));</span>
<a href="#l42.22"></a><span id="l42.22" class="difflineat">@@ -927,17 +927,17 @@ function awCreateDummyItem(aParent) {</span>
<a href="#l42.23"></a><span id="l42.23">   if (aParent) {</span>
<a href="#l42.24"></a><span id="l42.24">     aParent.appendChild(titem);</span>
<a href="#l42.25"></a><span id="l42.25">   }</span>
<a href="#l42.26"></a><span id="l42.26"> </span>
<a href="#l42.27"></a><span id="l42.27">   return titem;</span>
<a href="#l42.28"></a><span id="l42.28"> }</span>
<a href="#l42.29"></a><span id="l42.29"> </span>
<a href="#l42.30"></a><span id="l42.30"> function awCreateDummyCell(aParent) {</span>
<a href="#l42.31"></a><span id="l42.31" class="difflineminus">-  var cell = document.createElement(&quot;hbox&quot;);</span>
<a href="#l42.32"></a><span id="l42.32" class="difflineplus">+  var cell = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l42.33"></a><span id="l42.33">   cell.setAttribute(&quot;class&quot;, &quot;addressingWidgetCell dummy-row-cell&quot;);</span>
<a href="#l42.34"></a><span id="l42.34">   if (aParent)</span>
<a href="#l42.35"></a><span id="l42.35">     aParent.appendChild(cell);</span>
<a href="#l42.36"></a><span id="l42.36"> </span>
<a href="#l42.37"></a><span id="l42.37">   return cell;</span>
<a href="#l42.38"></a><span id="l42.38"> }</span>
<a href="#l42.39"></a><span id="l42.39"> </span>
<a href="#l42.40"></a><span id="l42.40"> function awGetNextDummyRow() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/mail/components/downloads/content/aboutDownloads.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/mail/components/downloads/content/aboutDownloads.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -216,45 +216,45 @@ DownloadItem.prototype = {</span>
<a href="#l43.4"></a><span id="l43.4">     }</span>
<a href="#l43.5"></a><span id="l43.5">     return false;</span>
<a href="#l43.6"></a><span id="l43.6">   },</span>
<a href="#l43.7"></a><span id="l43.7"> </span>
<a href="#l43.8"></a><span id="l43.8">   get download() { return this._download; },</span>
<a href="#l43.9"></a><span id="l43.9"> </span>
<a href="#l43.10"></a><span id="l43.10">   get element() {</span>
<a href="#l43.11"></a><span id="l43.11">     if (!this._element) {</span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-      this._element = this.createElement();</span>
<a href="#l43.13"></a><span id="l43.13" class="difflineplus">+      this._element = this.createXULElement();</span>
<a href="#l43.14"></a><span id="l43.14">     }</span>
<a href="#l43.15"></a><span id="l43.15"> </span>
<a href="#l43.16"></a><span id="l43.16">     return this._element;</span>
<a href="#l43.17"></a><span id="l43.17">   },</span>
<a href="#l43.18"></a><span id="l43.18"> </span>
<a href="#l43.19"></a><span id="l43.19" class="difflineminus">-  createElement() {</span>
<a href="#l43.20"></a><span id="l43.20" class="difflineminus">-    let element = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l43.21"></a><span id="l43.21" class="difflineplus">+  createXULElement() {</span>
<a href="#l43.22"></a><span id="l43.22" class="difflineplus">+    let element = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l43.23"></a><span id="l43.23">     element.classList.add(&quot;download&quot;);</span>
<a href="#l43.24"></a><span id="l43.24"> </span>
<a href="#l43.25"></a><span id="l43.25" class="difflineminus">-    let image = document.createElement(&quot;image&quot;);</span>
<a href="#l43.26"></a><span id="l43.26" class="difflineplus">+    let image = document.createXULElement(&quot;image&quot;);</span>
<a href="#l43.27"></a><span id="l43.27">     image.setAttribute(&quot;validate&quot;, &quot;always&quot;);</span>
<a href="#l43.28"></a><span id="l43.28">     image.classList.add(&quot;fileTypeIcon&quot;);</span>
<a href="#l43.29"></a><span id="l43.29"> </span>
<a href="#l43.30"></a><span id="l43.30" class="difflineminus">-    let vbox = document.createElement(&quot;vbox&quot;);</span>
<a href="#l43.31"></a><span id="l43.31" class="difflineplus">+    let vbox = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l43.32"></a><span id="l43.32">     vbox.setAttribute(&quot;pack&quot;, &quot;center&quot;);</span>
<a href="#l43.33"></a><span id="l43.33">     vbox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l43.34"></a><span id="l43.34"> </span>
<a href="#l43.35"></a><span id="l43.35" class="difflineminus">-    let sender = document.createElement(&quot;description&quot;);</span>
<a href="#l43.36"></a><span id="l43.36" class="difflineplus">+    let sender = document.createXULElement(&quot;description&quot;);</span>
<a href="#l43.37"></a><span id="l43.37">     sender.classList.add(&quot;sender&quot;);</span>
<a href="#l43.38"></a><span id="l43.38"> </span>
<a href="#l43.39"></a><span id="l43.39" class="difflineminus">-    let fileName = document.createElement(&quot;description&quot;);</span>
<a href="#l43.40"></a><span id="l43.40" class="difflineplus">+    let fileName = document.createXULElement(&quot;description&quot;);</span>
<a href="#l43.41"></a><span id="l43.41">     fileName.setAttribute(&quot;crop&quot;, &quot;center&quot;);</span>
<a href="#l43.42"></a><span id="l43.42">     fileName.classList.add(&quot;fileName&quot;);</span>
<a href="#l43.43"></a><span id="l43.43"> </span>
<a href="#l43.44"></a><span id="l43.44" class="difflineminus">-    let size = document.createElement(&quot;description&quot;);</span>
<a href="#l43.45"></a><span id="l43.45" class="difflineplus">+    let size = document.createXULElement(&quot;description&quot;);</span>
<a href="#l43.46"></a><span id="l43.46">     size.classList.add(&quot;size&quot;);</span>
<a href="#l43.47"></a><span id="l43.47"> </span>
<a href="#l43.48"></a><span id="l43.48" class="difflineminus">-    let startDate = document.createElement(&quot;description&quot;);</span>
<a href="#l43.49"></a><span id="l43.49" class="difflineplus">+    let startDate = document.createXULElement(&quot;description&quot;);</span>
<a href="#l43.50"></a><span id="l43.50">     startDate.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l43.51"></a><span id="l43.51">     startDate.classList.add(&quot;startDate&quot;);</span>
<a href="#l43.52"></a><span id="l43.52"> </span>
<a href="#l43.53"></a><span id="l43.53">     vbox.appendChild(fileName);</span>
<a href="#l43.54"></a><span id="l43.54">     vbox.appendChild(size);</span>
<a href="#l43.55"></a><span id="l43.55">     vbox.appendChild(startDate);</span>
<a href="#l43.56"></a><span id="l43.56"> </span>
<a href="#l43.57"></a><span id="l43.57">     element.appendChild(image);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/mail/components/im/content/chat-group.js</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/mail/components/im/content/chat-group.js</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -22,20 +22,20 @@ class MozChatGroup extends MozElements.M</span>
<a href="#l44.4"></a><span id="l44.4">   connectedCallback() {</span>
<a href="#l44.5"></a><span id="l44.5">     if (this.delayConnectedCallback() || this.hasChildNodes()) {</span>
<a href="#l44.6"></a><span id="l44.6">       return;</span>
<a href="#l44.7"></a><span id="l44.7">     }</span>
<a href="#l44.8"></a><span id="l44.8"> </span>
<a href="#l44.9"></a><span id="l44.9">     this.setAttribute(&quot;is&quot;, &quot;chat-group&quot;);</span>
<a href="#l44.10"></a><span id="l44.10">     this.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l44.11"></a><span id="l44.11"> </span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-    this._image = document.createElement(&quot;image&quot;);</span>
<a href="#l44.13"></a><span id="l44.13" class="difflineplus">+    this._image = document.createXULElement(&quot;image&quot;);</span>
<a href="#l44.14"></a><span id="l44.14">     this._image.classList.add(&quot;twisty&quot;);</span>
<a href="#l44.15"></a><span id="l44.15"> </span>
<a href="#l44.16"></a><span id="l44.16" class="difflineminus">-    this._label = document.createElement(&quot;label&quot;);</span>
<a href="#l44.17"></a><span id="l44.17" class="difflineplus">+    this._label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l44.18"></a><span id="l44.18">     this._label.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l44.19"></a><span id="l44.19">     this._label.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l44.20"></a><span id="l44.20"> </span>
<a href="#l44.21"></a><span id="l44.21">     this.appendChild(this._image);</span>
<a href="#l44.22"></a><span id="l44.22">     this.appendChild(this._label);</span>
<a href="#l44.23"></a><span id="l44.23"> </span>
<a href="#l44.24"></a><span id="l44.24">     this.contacts = [];</span>
<a href="#l44.25"></a><span id="l44.25"> </span>
<a href="#l44.26"></a><span id="l44.26" class="difflineat">@@ -83,19 +83,19 @@ class MozChatGroup extends MozElements.M</span>
<a href="#l44.27"></a><span id="l44.27"> </span>
<a href="#l44.28"></a><span id="l44.28">   addContact(contact, tagName) {</span>
<a href="#l44.29"></a><span id="l44.29">     if (this.contactsById.hasOwnProperty(contact.id)) {</span>
<a href="#l44.30"></a><span id="l44.30">       return null;</span>
<a href="#l44.31"></a><span id="l44.31">     }</span>
<a href="#l44.32"></a><span id="l44.32"> </span>
<a href="#l44.33"></a><span id="l44.33">     let contactElt;</span>
<a href="#l44.34"></a><span id="l44.34">     if (tagName) {</span>
<a href="#l44.35"></a><span id="l44.35" class="difflineminus">-      contactElt = document.createElement(&quot;richlistitem&quot;, { is: &quot;chat-imconv&quot; });</span>
<a href="#l44.36"></a><span id="l44.36" class="difflineplus">+      contactElt = document.createXULElement(&quot;richlistitem&quot;, { is: &quot;chat-imconv&quot; });</span>
<a href="#l44.37"></a><span id="l44.37">     } else {</span>
<a href="#l44.38"></a><span id="l44.38" class="difflineminus">-      contactElt = document.createElement(&quot;richlistitem&quot;, { is: &quot;chat-contact&quot; });</span>
<a href="#l44.39"></a><span id="l44.39" class="difflineplus">+      contactElt = document.createXULElement(&quot;richlistitem&quot;, { is: &quot;chat-contact&quot; });</span>
<a href="#l44.40"></a><span id="l44.40">     }</span>
<a href="#l44.41"></a><span id="l44.41">     if (this.classList.contains(&quot;closed&quot;)) {</span>
<a href="#l44.42"></a><span id="l44.42">       contactElt.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l44.43"></a><span id="l44.43">     }</span>
<a href="#l44.44"></a><span id="l44.44"> </span>
<a href="#l44.45"></a><span id="l44.45">     let end = this.contacts.length;</span>
<a href="#l44.46"></a><span id="l44.46">     // Avoid the binary search loop if the contacts were already sorted.</span>
<a href="#l44.47"></a><span id="l44.47">     if (end != 0 &amp;&amp;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/mail/components/im/content/chat-messenger.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/mail/components/im/content/chat-messenger.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -671,17 +671,17 @@ var chatHandler = {</span>
<a href="#l45.4"></a><span id="l45.4">           this._pendingSearchTerm = item.searchTerm || undefined;</span>
<a href="#l45.5"></a><span id="l45.5">           this._showLogList(aSimilarLogs, aLog);</span>
<a href="#l45.6"></a><span id="l45.6">         });</span>
<a href="#l45.7"></a><span id="l45.7">       });</span>
<a href="#l45.8"></a><span id="l45.8">     } else if (item.localName == &quot;richlistitem&quot; &amp;&amp; item.getAttribute(&quot;is&quot;) == &quot;chat-imconv&quot;) {</span>
<a href="#l45.9"></a><span id="l45.9">       let convDeck = document.getElementById(&quot;conversationsDeck&quot;);</span>
<a href="#l45.10"></a><span id="l45.10">       if (!item.convView) {</span>
<a href="#l45.11"></a><span id="l45.11">         // Create new conversation binding.</span>
<a href="#l45.12"></a><span id="l45.12" class="difflineminus">-        let conv = document.createElement(&quot;imconversation&quot;);</span>
<a href="#l45.13"></a><span id="l45.13" class="difflineplus">+        let conv = document.createXULElement(&quot;imconversation&quot;);</span>
<a href="#l45.14"></a><span id="l45.14">         convDeck.appendChild(conv);</span>
<a href="#l45.15"></a><span id="l45.15">         conv.conv = item.conv;</span>
<a href="#l45.16"></a><span id="l45.16">         conv.tab = item;</span>
<a href="#l45.17"></a><span id="l45.17">         conv.setAttribute(&quot;contentcontextmenu&quot;, &quot;chatConversationContextMenu&quot;);</span>
<a href="#l45.18"></a><span id="l45.18">         conv.setAttribute(&quot;contenttooltip&quot;, &quot;imTooltip&quot;);</span>
<a href="#l45.19"></a><span id="l45.19">         item.convView = conv;</span>
<a href="#l45.20"></a><span id="l45.20">         document.getElementById(&quot;contextSplitter&quot;).hidden = false;</span>
<a href="#l45.21"></a><span id="l45.21">         document.getElementById(&quot;contextPane&quot;).hidden = false;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/mail/components/im/content/imAccountWizard.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/mail/components/im/content/imAccountWizard.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -33,23 +33,23 @@ var accountWizard = {</span>
<a href="#l46.4"></a><span id="l46.4">     for (let proto of this.getProtocols())</span>
<a href="#l46.5"></a><span id="l46.5">       protos.push(proto);</span>
<a href="#l46.6"></a><span id="l46.6">     protos.sort((a, b) =&gt; {</span>
<a href="#l46.7"></a><span id="l46.7">       if (a.name &lt; b.name)</span>
<a href="#l46.8"></a><span id="l46.8">         return -1;</span>
<a href="#l46.9"></a><span id="l46.9">       return a.name &gt; b.name ? 1 : 0;</span>
<a href="#l46.10"></a><span id="l46.10">     });</span>
<a href="#l46.11"></a><span id="l46.11">     protos.forEach(function(proto) {</span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-      let image = document.createElement(&quot;image&quot;);</span>
<a href="#l46.13"></a><span id="l46.13" class="difflineplus">+      let image = document.createXULElement(&quot;image&quot;);</span>
<a href="#l46.14"></a><span id="l46.14">       image.setAttribute(&quot;src&quot;, proto.iconBaseURI + &quot;icon.png&quot;);</span>
<a href="#l46.15"></a><span id="l46.15"> </span>
<a href="#l46.16"></a><span id="l46.16" class="difflineminus">-      let label = document.createElement(&quot;label&quot;);</span>
<a href="#l46.17"></a><span id="l46.17" class="difflineplus">+      let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l46.18"></a><span id="l46.18">       label.setAttribute(&quot;value&quot;, proto.name);</span>
<a href="#l46.19"></a><span id="l46.19"> </span>
<a href="#l46.20"></a><span id="l46.20" class="difflineminus">-      let item = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l46.21"></a><span id="l46.21" class="difflineplus">+      let item = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l46.22"></a><span id="l46.22">       item.setAttribute(&quot;value&quot;, proto.id);</span>
<a href="#l46.23"></a><span id="l46.23">       item.appendChild(image);</span>
<a href="#l46.24"></a><span id="l46.24">       item.appendChild(label);</span>
<a href="#l46.25"></a><span id="l46.25">       protoList.appendChild(item);</span>
<a href="#l46.26"></a><span id="l46.26">     });</span>
<a href="#l46.27"></a><span id="l46.27"> </span>
<a href="#l46.28"></a><span id="l46.28">     // there is a strange selection bug without this timeout</span>
<a href="#l46.29"></a><span id="l46.29">     setTimeout(function() {</span>
<a href="#l46.30"></a><span id="l46.30" class="difflineat">@@ -97,28 +97,28 @@ var accountWizard = {</span>
<a href="#l46.31"></a><span id="l46.31">   selectProtocol() {</span>
<a href="#l46.32"></a><span id="l46.32">     var protoList = document.getElementById(&quot;protolist&quot;);</span>
<a href="#l46.33"></a><span id="l46.33">     var id = protoList.selectedItem.value;</span>
<a href="#l46.34"></a><span id="l46.34">     this.proto = Services.core.getProtocolById(id);</span>
<a href="#l46.35"></a><span id="l46.35">   },</span>
<a href="#l46.36"></a><span id="l46.36"> </span>
<a href="#l46.37"></a><span id="l46.37"> </span>
<a href="#l46.38"></a><span id="l46.38">   insertUsernameField(aName, aLabel, aParent, aDefaultValue) {</span>
<a href="#l46.39"></a><span id="l46.39" class="difflineminus">-    var hbox = document.createElement(&quot;hbox&quot;);</span>
<a href="#l46.40"></a><span id="l46.40" class="difflineplus">+    var hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l46.41"></a><span id="l46.41">     hbox.setAttribute(&quot;id&quot;, aName + &quot;-hbox&quot;);</span>
<a href="#l46.42"></a><span id="l46.42">     hbox.setAttribute(&quot;align&quot;, &quot;baseline&quot;);</span>
<a href="#l46.43"></a><span id="l46.43">     hbox.setAttribute(&quot;equalsize&quot;, &quot;always&quot;);</span>
<a href="#l46.44"></a><span id="l46.44"> </span>
<a href="#l46.45"></a><span id="l46.45" class="difflineminus">-    var label = document.createElement(&quot;label&quot;);</span>
<a href="#l46.46"></a><span id="l46.46" class="difflineplus">+    var label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l46.47"></a><span id="l46.47">     label.setAttribute(&quot;value&quot;, aLabel);</span>
<a href="#l46.48"></a><span id="l46.48">     label.setAttribute(&quot;control&quot;, aName);</span>
<a href="#l46.49"></a><span id="l46.49">     label.setAttribute(&quot;id&quot;, aName + &quot;-label&quot;);</span>
<a href="#l46.50"></a><span id="l46.50">     hbox.appendChild(label);</span>
<a href="#l46.51"></a><span id="l46.51"> </span>
<a href="#l46.52"></a><span id="l46.52" class="difflineminus">-    var textbox = document.createElement(&quot;textbox&quot;);</span>
<a href="#l46.53"></a><span id="l46.53" class="difflineplus">+    var textbox = document.createXULElement(&quot;textbox&quot;);</span>
<a href="#l46.54"></a><span id="l46.54">     textbox.setAttribute(&quot;id&quot;, aName);</span>
<a href="#l46.55"></a><span id="l46.55">     textbox.setAttribute(&quot;flex&quot;, 1);</span>
<a href="#l46.56"></a><span id="l46.56">     if (aDefaultValue)</span>
<a href="#l46.57"></a><span id="l46.57">       textbox.setAttribute(&quot;value&quot;, aDefaultValue);</span>
<a href="#l46.58"></a><span id="l46.58">     textbox.addEventListener(&quot;input&quot;, accountWizard.checkUsername);</span>
<a href="#l46.59"></a><span id="l46.59">     hbox.appendChild(textbox);</span>
<a href="#l46.60"></a><span id="l46.60"> </span>
<a href="#l46.61"></a><span id="l46.61">     aParent.appendChild(hbox);</span>
<a href="#l46.62"></a><span id="l46.62" class="difflineat">@@ -198,33 +198,33 @@ var accountWizard = {</span>
<a href="#l46.63"></a><span id="l46.63">     if (haveOptions) {</span>
<a href="#l46.64"></a><span id="l46.64">       var bundle = document.getElementById(&quot;accountsBundle&quot;);</span>
<a href="#l46.65"></a><span id="l46.65">       document.getElementById(&quot;protoSpecificCaption&quot;).label =</span>
<a href="#l46.66"></a><span id="l46.66">         bundle.getFormattedString(&quot;protoOptions&quot;, [this.proto.name]);</span>
<a href="#l46.67"></a><span id="l46.67">     }</span>
<a href="#l46.68"></a><span id="l46.68">   },</span>
<a href="#l46.69"></a><span id="l46.69"> </span>
<a href="#l46.70"></a><span id="l46.70">   createSummaryRow(aLabel, aValue) {</span>
<a href="#l46.71"></a><span id="l46.71" class="difflineminus">-    var hbox = document.createElement(&quot;hbox&quot;);</span>
<a href="#l46.72"></a><span id="l46.72" class="difflineplus">+    var hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l46.73"></a><span id="l46.73">     hbox.setAttribute(&quot;align&quot;, &quot;baseline&quot;);</span>
<a href="#l46.74"></a><span id="l46.74">     hbox.setAttribute(&quot;equalsize&quot;, &quot;always&quot;);</span>
<a href="#l46.75"></a><span id="l46.75"> </span>
<a href="#l46.76"></a><span id="l46.76" class="difflineminus">-    var label = document.createElement(&quot;label&quot;);</span>
<a href="#l46.77"></a><span id="l46.77" class="difflineplus">+    var label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l46.78"></a><span id="l46.78">     label.setAttribute(&quot;class&quot;, &quot;header&quot;);</span>
<a href="#l46.79"></a><span id="l46.79">     if (aLabel.length &gt; 20) {</span>
<a href="#l46.80"></a><span id="l46.80">       aLabel = aLabel.substring(0, 20);</span>
<a href="#l46.81"></a><span id="l46.81">       aLabel += &quot;&quot;;</span>
<a href="#l46.82"></a><span id="l46.82">     }</span>
<a href="#l46.83"></a><span id="l46.83"> </span>
<a href="#l46.84"></a><span id="l46.84">     label.setAttribute(&quot;value&quot;, aLabel);</span>
<a href="#l46.85"></a><span id="l46.85" class="difflineminus">-    var hboxWrapper = document.createElement(&quot;hbox&quot;);</span>
<a href="#l46.86"></a><span id="l46.86" class="difflineplus">+    var hboxWrapper = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l46.87"></a><span id="l46.87">     hboxWrapper.appendChild(label);</span>
<a href="#l46.88"></a><span id="l46.88">     hbox.appendChild(hboxWrapper);</span>
<a href="#l46.89"></a><span id="l46.89"> </span>
<a href="#l46.90"></a><span id="l46.90" class="difflineminus">-    var textbox = document.createElement(&quot;textbox&quot;);</span>
<a href="#l46.91"></a><span id="l46.91" class="difflineplus">+    var textbox = document.createXULElement(&quot;textbox&quot;);</span>
<a href="#l46.92"></a><span id="l46.92">     textbox.setAttribute(&quot;value&quot;, aValue);</span>
<a href="#l46.93"></a><span id="l46.93">     textbox.setAttribute(&quot;class&quot;, &quot;plain&quot;);</span>
<a href="#l46.94"></a><span id="l46.94">     textbox.setAttribute(&quot;readonly&quot;, true);</span>
<a href="#l46.95"></a><span id="l46.95">     hbox.appendChild(textbox);</span>
<a href="#l46.96"></a><span id="l46.96"> </span>
<a href="#l46.97"></a><span id="l46.97">     return hbox;</span>
<a href="#l46.98"></a><span id="l46.98">   },</span>
<a href="#l46.99"></a><span id="l46.99"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/mail/components/im/content/imAccounts.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/mail/components/im/content/imAccounts.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -50,17 +50,17 @@ var gAccountManager = {</span>
<a href="#l47.4"></a><span id="l47.4"> </span>
<a href="#l47.5"></a><span id="l47.5">   load() {</span>
<a href="#l47.6"></a><span id="l47.6">     // Wait until the password service is ready before offering anything.</span>
<a href="#l47.7"></a><span id="l47.7">     Services.logins.initializationPromise.then(() =&gt; {</span>
<a href="#l47.8"></a><span id="l47.8">       this.accountList = document.getElementById(&quot;accountlist&quot;);</span>
<a href="#l47.9"></a><span id="l47.9">       let defaultID;</span>
<a href="#l47.10"></a><span id="l47.10">       Services.core.init(); // ensure the imCore is initialized.</span>
<a href="#l47.11"></a><span id="l47.11">       for (let acc of this.getAccounts()) {</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineminus">-        let elt = document.createElement(&quot;richlistitem&quot;, { is: &quot;chat-account-richlistitem&quot; });</span>
<a href="#l47.13"></a><span id="l47.13" class="difflineplus">+        let elt = document.createXULElement(&quot;richlistitem&quot;, { is: &quot;chat-account-richlistitem&quot; });</span>
<a href="#l47.14"></a><span id="l47.14">         this.accountList.appendChild(elt);</span>
<a href="#l47.15"></a><span id="l47.15">         elt.build(acc);</span>
<a href="#l47.16"></a><span id="l47.16">         if (!defaultID &amp;&amp; acc.firstConnectionState == acc.FIRST_CONNECTION_CRASHED)</span>
<a href="#l47.17"></a><span id="l47.17">           defaultID = acc.id;</span>
<a href="#l47.18"></a><span id="l47.18">       }</span>
<a href="#l47.19"></a><span id="l47.19">       for (let event of events)</span>
<a href="#l47.20"></a><span id="l47.20">         Services.obs.addObserver(this, event);</span>
<a href="#l47.21"></a><span id="l47.21">       if (!this.accountList.getRowCount()) {</span>
<a href="#l47.22"></a><span id="l47.22" class="difflineat">@@ -144,17 +144,17 @@ var gAccountManager = {</span>
<a href="#l47.23"></a><span id="l47.23">       return;</span>
<a href="#l47.24"></a><span id="l47.24">     }</span>
<a href="#l47.25"></a><span id="l47.25"> </span>
<a href="#l47.26"></a><span id="l47.26">     // The following notification handlers need an account.</span>
<a href="#l47.27"></a><span id="l47.27">     aObject.QueryInterface(Ci.imIAccount);</span>
<a href="#l47.28"></a><span id="l47.28"> </span>
<a href="#l47.29"></a><span id="l47.29">     if (aTopic == &quot;account-added&quot;) {</span>
<a href="#l47.30"></a><span id="l47.30">       document.getElementById(&quot;accountsDesk&quot;).selectedIndex = 1;</span>
<a href="#l47.31"></a><span id="l47.31" class="difflineminus">-      let elt = document.createElement(&quot;richlistitem&quot;, { is: &quot;chat-account-richlistitem&quot; });</span>
<a href="#l47.32"></a><span id="l47.32" class="difflineplus">+      let elt = document.createXULElement(&quot;richlistitem&quot;, { is: &quot;chat-account-richlistitem&quot; });</span>
<a href="#l47.33"></a><span id="l47.33">       this.accountList.appendChild(elt);</span>
<a href="#l47.34"></a><span id="l47.34">       elt.build(aObject);</span>
<a href="#l47.35"></a><span id="l47.35">       if (this.accountList.getRowCount() == 1)</span>
<a href="#l47.36"></a><span id="l47.36">         this.accountList.selectedIndex = 0;</span>
<a href="#l47.37"></a><span id="l47.37">     } else if (aTopic == &quot;account-removed&quot;) {</span>
<a href="#l47.38"></a><span id="l47.38">       let elt = document.getElementById(aObject.id);</span>
<a href="#l47.39"></a><span id="l47.39">       elt.destroy();</span>
<a href="#l47.40"></a><span id="l47.40">       if (!elt.selected) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/mail/components/im/content/imContextMenu.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/mail/components/im/content/imContextMenu.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -86,17 +86,17 @@ imContextMenu.prototype = {</span>
<a href="#l48.4"></a><span id="l48.4"> </span>
<a href="#l48.5"></a><span id="l48.5">     // Copy link location depends on whether we're on a non-mailto link.</span>
<a href="#l48.6"></a><span id="l48.6">     this.showItem(&quot;context-copylink&quot;, this.onLink &amp;&amp; !this.onMailtoLink);</span>
<a href="#l48.7"></a><span id="l48.7">     this.showItem(&quot;context-sep-copylink&quot;, this.onLink &amp;&amp; this.isContentSelected);</span>
<a href="#l48.8"></a><span id="l48.8"> </span>
<a href="#l48.9"></a><span id="l48.9">     // Display action menu items.</span>
<a href="#l48.10"></a><span id="l48.10">     let sep = document.getElementById(&quot;context-sep-messageactions&quot;);</span>
<a href="#l48.11"></a><span id="l48.11">     for (let action of actions) {</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineminus">-      let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+      let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l48.14"></a><span id="l48.14">       menuitem.setAttribute(&quot;label&quot;, action.label);</span>
<a href="#l48.15"></a><span id="l48.15">       menuitem.setAttribute(&quot;oncommand&quot;, &quot;this.action.run();&quot;);</span>
<a href="#l48.16"></a><span id="l48.16">       menuitem.action = action;</span>
<a href="#l48.17"></a><span id="l48.17">       sep.parentNode.appendChild(menuitem);</span>
<a href="#l48.18"></a><span id="l48.18">     }</span>
<a href="#l48.19"></a><span id="l48.19">   },</span>
<a href="#l48.20"></a><span id="l48.20"> </span>
<a href="#l48.21"></a><span id="l48.21">   // Set various context menu attributes based on the state of the world.</span>
<a href="#l48.22"></a><span id="l48.22" class="difflineat">@@ -203,17 +203,17 @@ imContextMenu.prototype = {</span>
<a href="#l48.23"></a><span id="l48.23">       document.getElementById(aItemOrId) : aItemOrId;</span>
<a href="#l48.24"></a><span id="l48.24">     if (item)</span>
<a href="#l48.25"></a><span id="l48.25">       item.hidden = !aShow;</span>
<a href="#l48.26"></a><span id="l48.26">   },</span>
<a href="#l48.27"></a><span id="l48.27"> </span>
<a href="#l48.28"></a><span id="l48.28">   // Temporary workaround for DOM api not yet implemented by XUL nodes.</span>
<a href="#l48.29"></a><span id="l48.29">   cloneNode(aItem) {</span>
<a href="#l48.30"></a><span id="l48.30">     // Create another element like the one we're cloning.</span>
<a href="#l48.31"></a><span id="l48.31" class="difflineminus">-    var node = document.createElement(aItem.tagName);</span>
<a href="#l48.32"></a><span id="l48.32" class="difflineplus">+    var node = document.createXULElement(aItem.tagName);</span>
<a href="#l48.33"></a><span id="l48.33"> </span>
<a href="#l48.34"></a><span id="l48.34">     // Copy attributes from argument item to the new one.</span>
<a href="#l48.35"></a><span id="l48.35">     var attrs = aItem.attributes;</span>
<a href="#l48.36"></a><span id="l48.36">     for (var i = 0; i &lt; attrs.length; i++) {</span>
<a href="#l48.37"></a><span id="l48.37">       var attr = attrs.item(i);</span>
<a href="#l48.38"></a><span id="l48.38">       node.setAttribute(attr.nodeName, attr.nodeValue);</span>
<a href="#l48.39"></a><span id="l48.39">     }</span>
<a href="#l48.40"></a><span id="l48.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/mail/components/im/content/joinchat.js</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/mail/components/im/content/joinchat.js</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -40,30 +40,30 @@ var joinChat = {</span>
<a href="#l49.4"></a><span id="l49.4"> </span>
<a href="#l49.5"></a><span id="l49.5">     let protoId = acc.protocol.id;</span>
<a href="#l49.6"></a><span id="l49.6">     document.getElementById(&quot;autojoin&quot;).hidden =</span>
<a href="#l49.7"></a><span id="l49.7">       !(protoId == &quot;prpl-irc&quot; || protoId == &quot;prpl-jabber&quot; ||</span>
<a href="#l49.8"></a><span id="l49.8">       protoId == &quot;prpl-gtalk&quot;);</span>
<a href="#l49.9"></a><span id="l49.9"> </span>
<a href="#l49.10"></a><span id="l49.10">     for (let field of fixIterator(acc.getChatRoomFields())) {</span>
<a href="#l49.11"></a><span id="l49.11">       let div1 = document.createElementNS(&quot;http://www.w3.org/1999/xhtml&quot;, &quot;div&quot;);</span>
<a href="#l49.12"></a><span id="l49.12" class="difflineminus">-      let label = document.createElement(&quot;label&quot;);</span>
<a href="#l49.13"></a><span id="l49.13" class="difflineplus">+      let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l49.14"></a><span id="l49.14">       let text = field.label;</span>
<a href="#l49.15"></a><span id="l49.15">       let match = /_(.)/.exec(text);</span>
<a href="#l49.16"></a><span id="l49.16">       if (match) {</span>
<a href="#l49.17"></a><span id="l49.17">         label.setAttribute(&quot;accesskey&quot;, match[1]);</span>
<a href="#l49.18"></a><span id="l49.18">         text = text.replace(/_/, &quot;&quot;);</span>
<a href="#l49.19"></a><span id="l49.19">       }</span>
<a href="#l49.20"></a><span id="l49.20">       label.setAttribute(&quot;value&quot;, text);</span>
<a href="#l49.21"></a><span id="l49.21">       label.setAttribute(&quot;control&quot;, &quot;field-&quot; + field.identifier);</span>
<a href="#l49.22"></a><span id="l49.22">       div1.appendChild(label);</span>
<a href="#l49.23"></a><span id="l49.23">       joinChatGrid.appendChild(div1);</span>
<a href="#l49.24"></a><span id="l49.24"> </span>
<a href="#l49.25"></a><span id="l49.25">       let div2 = document.createElementNS(&quot;http://www.w3.org/1999/xhtml&quot;, &quot;div&quot;);</span>
<a href="#l49.26"></a><span id="l49.26" class="difflineminus">-      let textbox = document.createElement(&quot;textbox&quot;);</span>
<a href="#l49.27"></a><span id="l49.27" class="difflineplus">+      let textbox = document.createXULElement(&quot;textbox&quot;);</span>
<a href="#l49.28"></a><span id="l49.28">       textbox.setAttribute(&quot;id&quot;, &quot;field-&quot; + field.identifier);</span>
<a href="#l49.29"></a><span id="l49.29">       let val = defaultValues.getValue(field.identifier);</span>
<a href="#l49.30"></a><span id="l49.30">       if (val) {</span>
<a href="#l49.31"></a><span id="l49.31">         textbox.setAttribute(&quot;value&quot;, val);</span>
<a href="#l49.32"></a><span id="l49.32">       }</span>
<a href="#l49.33"></a><span id="l49.33">       if (field.type == Ci.prplIChatRoomField.TYPE_PASSWORD) {</span>
<a href="#l49.34"></a><span id="l49.34">         textbox.setAttribute(&quot;type&quot;, &quot;password&quot;);</span>
<a href="#l49.35"></a><span id="l49.35">       } else if (field.type == Ci.prplIChatRoomField.TYPE_INT) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/mail/components/migration/content/migration.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/mail/components/migration/content/migration.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -167,17 +167,17 @@ var MigrationWizard = {</span>
<a href="#l50.4"></a><span id="l50.4">       profiles.lastChild.remove();</span>
<a href="#l50.5"></a><span id="l50.5"> </span>
<a href="#l50.6"></a><span id="l50.6">     if (!this._migrator) {</span>
<a href="#l50.7"></a><span id="l50.7">       return;</span>
<a href="#l50.8"></a><span id="l50.8">     }</span>
<a href="#l50.9"></a><span id="l50.9">     var sourceProfiles = this._migrator.sourceProfiles;</span>
<a href="#l50.10"></a><span id="l50.10">     var count = sourceProfiles.length;</span>
<a href="#l50.11"></a><span id="l50.11">     for (var i = 0; i &lt; count; ++i) {</span>
<a href="#l50.12"></a><span id="l50.12" class="difflineminus">-      var item = document.createElement(&quot;radio&quot;);</span>
<a href="#l50.13"></a><span id="l50.13" class="difflineplus">+      var item = document.createXULElement(&quot;radio&quot;);</span>
<a href="#l50.14"></a><span id="l50.14">       item.id = sourceProfiles.queryElementAt(i, nsISupportsString).data;</span>
<a href="#l50.15"></a><span id="l50.15">       item.setAttribute(&quot;label&quot;, item.id);</span>
<a href="#l50.16"></a><span id="l50.16">       profiles.appendChild(item);</span>
<a href="#l50.17"></a><span id="l50.17">     }</span>
<a href="#l50.18"></a><span id="l50.18"> </span>
<a href="#l50.19"></a><span id="l50.19">     profiles.selectedItem = this._selectedProfile ? document.getElementById(this._selectedProfile) : profiles.firstChild;</span>
<a href="#l50.20"></a><span id="l50.20">   },</span>
<a href="#l50.21"></a><span id="l50.21"> </span>
<a href="#l50.22"></a><span id="l50.22" class="difflineat">@@ -202,17 +202,17 @@ var MigrationWizard = {</span>
<a href="#l50.23"></a><span id="l50.23">       dataSources.lastChild.remove();</span>
<a href="#l50.24"></a><span id="l50.24"> </span>
<a href="#l50.25"></a><span id="l50.25">     var bundle = document.getElementById(&quot;bundle&quot;);</span>
<a href="#l50.26"></a><span id="l50.26"> </span>
<a href="#l50.27"></a><span id="l50.27">     var items = this._migrator.getMigrateData(this._selectedProfile, this._autoMigrate);</span>
<a href="#l50.28"></a><span id="l50.28">     for (var i = 0; i &lt; 16; ++i) {</span>
<a href="#l50.29"></a><span id="l50.29">       var itemID = (items &gt;&gt; i) &amp; 0x1 ? Math.pow(2, i) : 0;</span>
<a href="#l50.30"></a><span id="l50.30">       if (itemID &gt; 0) {</span>
<a href="#l50.31"></a><span id="l50.31" class="difflineminus">-        var checkbox = document.createElement(&quot;checkbox&quot;);</span>
<a href="#l50.32"></a><span id="l50.32" class="difflineplus">+        var checkbox = document.createXULElement(&quot;checkbox&quot;);</span>
<a href="#l50.33"></a><span id="l50.33">         checkbox.id = itemID;</span>
<a href="#l50.34"></a><span id="l50.34">         checkbox.setAttribute(&quot;label&quot;, bundle.getString(itemID + &quot;_&quot; + this._source));</span>
<a href="#l50.35"></a><span id="l50.35">         dataSources.appendChild(checkbox);</span>
<a href="#l50.36"></a><span id="l50.36">         if (!this._itemsFlags || this._itemsFlags &amp; itemID)</span>
<a href="#l50.37"></a><span id="l50.37">           checkbox.checked = true;</span>
<a href="#l50.38"></a><span id="l50.38">       }</span>
<a href="#l50.39"></a><span id="l50.39">     }</span>
<a href="#l50.40"></a><span id="l50.40">   },</span>
<a href="#l50.41"></a><span id="l50.41" class="difflineat">@@ -266,17 +266,17 @@ var MigrationWizard = {</span>
<a href="#l50.42"></a><span id="l50.42">     var items = document.getElementById(aID);</span>
<a href="#l50.43"></a><span id="l50.43">     while (items.hasChildNodes())</span>
<a href="#l50.44"></a><span id="l50.44">       items.lastChild.remove();</span>
<a href="#l50.45"></a><span id="l50.45"> </span>
<a href="#l50.46"></a><span id="l50.46">     var bundle = document.getElementById(&quot;bundle&quot;);</span>
<a href="#l50.47"></a><span id="l50.47">     for (var i = 0; i &lt; 16; ++i) {</span>
<a href="#l50.48"></a><span id="l50.48">       var itemID = (this._itemsFlags &gt;&gt; i) &amp; 0x1 ? Math.pow(2, i) : 0;</span>
<a href="#l50.49"></a><span id="l50.49">       if (itemID &gt; 0) {</span>
<a href="#l50.50"></a><span id="l50.50" class="difflineminus">-        var label = document.createElement(&quot;label&quot;);</span>
<a href="#l50.51"></a><span id="l50.51" class="difflineplus">+        var label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l50.52"></a><span id="l50.52">         label.id = itemID + &quot;_migrated&quot;;</span>
<a href="#l50.53"></a><span id="l50.53">         try {</span>
<a href="#l50.54"></a><span id="l50.54">           label.setAttribute(&quot;value&quot;, &quot;- &quot; + bundle.getString(itemID + &quot;_&quot; + this._source));</span>
<a href="#l50.55"></a><span id="l50.55">           items.appendChild(label);</span>
<a href="#l50.56"></a><span id="l50.56">         } catch (e) {</span>
<a href="#l50.57"></a><span id="l50.57">           // if the block above throws, we've enumerated all the import data types we</span>
<a href="#l50.58"></a><span id="l50.58">           // currently support and are now just wasting time, break.</span>
<a href="#l50.59"></a><span id="l50.59">           break;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/mail/components/preferences/advanced.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/mail/components/preferences/advanced.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -610,17 +610,17 @@ var gAdvancedPane = {</span>
<a href="#l51.4"></a><span id="l51.4">   async setMessengerLocales(selected) {</span>
<a href="#l51.5"></a><span id="l51.5">     let available = await getAvailableLocales();</span>
<a href="#l51.6"></a><span id="l51.6">     let localeNames = Services.intl.getLocaleDisplayNames(undefined, available);</span>
<a href="#l51.7"></a><span id="l51.7">     let locales = available.map((code, i) =&gt; ({code, name: localeNames[i]}));</span>
<a href="#l51.8"></a><span id="l51.8">     locales.sort((a, b) =&gt; a.name &gt; b.name);</span>
<a href="#l51.9"></a><span id="l51.9"> </span>
<a href="#l51.10"></a><span id="l51.10">     let fragment = document.createDocumentFragment();</span>
<a href="#l51.11"></a><span id="l51.11">     for (let {code, name} of locales) {</span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-      let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l51.13"></a><span id="l51.13" class="difflineplus">+      let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l51.14"></a><span id="l51.14">       menuitem.setAttribute(&quot;value&quot;, code);</span>
<a href="#l51.15"></a><span id="l51.15">       menuitem.setAttribute(&quot;label&quot;, name);</span>
<a href="#l51.16"></a><span id="l51.16">       fragment.appendChild(menuitem);</span>
<a href="#l51.17"></a><span id="l51.17">     }</span>
<a href="#l51.18"></a><span id="l51.18"> </span>
<a href="#l51.19"></a><span id="l51.19">     // Add an option to search for more languages if downloading is supported.</span>
<a href="#l51.20"></a><span id="l51.20">     if (Services.prefs.getBoolPref(&quot;intl.multilingual.downloadEnabled&quot;)) {</span>
<a href="#l51.21"></a><span id="l51.21">       let menuitem = document.createXULElement(&quot;menuitem&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/mail/components/preferences/applicationManager.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/mail/components/preferences/applicationManager.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -29,21 +29,21 @@ var gAppManagerDialog = {</span>
<a href="#l52.4"></a><span id="l52.4">       app.QueryInterface(Ci.nsIHandlerApp);</span>
<a href="#l52.5"></a><span id="l52.5"> </span>
<a href="#l52.6"></a><span id="l52.6">       // Ensure the XBL binding is created eagerly.</span>
<a href="#l52.7"></a><span id="l52.7">       // eslint-disable-next-line no-undef</span>
<a href="#l52.8"></a><span id="l52.8">       list.appendChild(MozXULElement.parseXULToFragment(&quot;&lt;richlistitem/&gt;&quot;));</span>
<a href="#l52.9"></a><span id="l52.9">       let item = list.lastChild;</span>
<a href="#l52.10"></a><span id="l52.10">       item.app = app;</span>
<a href="#l52.11"></a><span id="l52.11"> </span>
<a href="#l52.12"></a><span id="l52.12" class="difflineminus">-      let image = document.createElement(&quot;image&quot;);</span>
<a href="#l52.13"></a><span id="l52.13" class="difflineplus">+      let image = document.createXULElement(&quot;image&quot;);</span>
<a href="#l52.14"></a><span id="l52.14">       image.setAttribute(&quot;src&quot;, gApplicationsPane._getIconURLForHandlerApp(app));</span>
<a href="#l52.15"></a><span id="l52.15">       item.appendChild(image);</span>
<a href="#l52.16"></a><span id="l52.16"> </span>
<a href="#l52.17"></a><span id="l52.17" class="difflineminus">-      let label = document.createElement(&quot;label&quot;);</span>
<a href="#l52.18"></a><span id="l52.18" class="difflineplus">+      let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l52.19"></a><span id="l52.19">       label.setAttribute(&quot;value&quot;, app.name);</span>
<a href="#l52.20"></a><span id="l52.20">       item.appendChild(label);</span>
<a href="#l52.21"></a><span id="l52.21">     }</span>
<a href="#l52.22"></a><span id="l52.22"> </span>
<a href="#l52.23"></a><span id="l52.23">     list.selectedIndex = 0;</span>
<a href="#l52.24"></a><span id="l52.24">   },</span>
<a href="#l52.25"></a><span id="l52.25"> </span>
<a href="#l52.26"></a><span id="l52.26">   onOK() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/mail/components/preferences/applications.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/mail/components/preferences/applications.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -621,68 +621,68 @@ var gCloudFileTab = {</span>
<a href="#l53.4"></a><span id="l53.4"> </span>
<a href="#l53.5"></a><span id="l53.5">     if (this._buttonContainer.childElementCount &lt; 1) {</span>
<a href="#l53.6"></a><span id="l53.6">       this._buttonContainer.hidden = false;</span>
<a href="#l53.7"></a><span id="l53.7">       this._addAccountButton.hidden = true;</span>
<a href="#l53.8"></a><span id="l53.8">     }</span>
<a href="#l53.9"></a><span id="l53.9">   },</span>
<a href="#l53.10"></a><span id="l53.10"> </span>
<a href="#l53.11"></a><span id="l53.11">   makeRichListItemForAccount(aAccount) {</span>
<a href="#l53.12"></a><span id="l53.12" class="difflineminus">-    let rli = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l53.13"></a><span id="l53.13" class="difflineplus">+    let rli = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l53.14"></a><span id="l53.14">     rli.value = aAccount.accountKey;</span>
<a href="#l53.15"></a><span id="l53.15">     rli.setAttribute(&quot;align&quot;, &quot;center&quot;);</span>
<a href="#l53.16"></a><span id="l53.16">     rli.setAttribute(&quot;class&quot;, &quot;cloudfileAccount&quot;);</span>
<a href="#l53.17"></a><span id="l53.17">     rli.setAttribute(&quot;value&quot;, aAccount.accountKey);</span>
<a href="#l53.18"></a><span id="l53.18"> </span>
<a href="#l53.19"></a><span id="l53.19">     if (aAccount.iconURL)</span>
<a href="#l53.20"></a><span id="l53.20">       rli.style.listStyleImage = &quot;url('&quot; + aAccount.iconURL + &quot;')&quot;;</span>
<a href="#l53.21"></a><span id="l53.21"> </span>
<a href="#l53.22"></a><span id="l53.22" class="difflineminus">-    let icon = document.createElement(&quot;image&quot;);</span>
<a href="#l53.23"></a><span id="l53.23" class="difflineplus">+    let icon = document.createXULElement(&quot;image&quot;);</span>
<a href="#l53.24"></a><span id="l53.24">     icon.setAttribute(&quot;class&quot;, &quot;typeIcon&quot;);</span>
<a href="#l53.25"></a><span id="l53.25">     rli.appendChild(icon);</span>
<a href="#l53.26"></a><span id="l53.26"> </span>
<a href="#l53.27"></a><span id="l53.27" class="difflineminus">-    let label = document.createElement(&quot;label&quot;);</span>
<a href="#l53.28"></a><span id="l53.28" class="difflineplus">+    let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l53.29"></a><span id="l53.29">     label.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l53.30"></a><span id="l53.30">     label.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l53.31"></a><span id="l53.31">     label.setAttribute(&quot;value&quot;, cloudFileAccounts.getDisplayName(aAccount.accountKey));</span>
<a href="#l53.32"></a><span id="l53.32">     label.addEventListener(&quot;click&quot;, this, true);</span>
<a href="#l53.33"></a><span id="l53.33">     rli.appendChild(label);</span>
<a href="#l53.34"></a><span id="l53.34"> </span>
<a href="#l53.35"></a><span id="l53.35" class="difflineminus">-    let textBox = document.createElement(&quot;textbox&quot;);</span>
<a href="#l53.36"></a><span id="l53.36" class="difflineplus">+    let textBox = document.createXULElement(&quot;textbox&quot;);</span>
<a href="#l53.37"></a><span id="l53.37">     textBox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l53.38"></a><span id="l53.38">     textBox.hidden = true;</span>
<a href="#l53.39"></a><span id="l53.39">     textBox.addEventListener(&quot;blur&quot;, this);</span>
<a href="#l53.40"></a><span id="l53.40">     textBox.addEventListener(&quot;keypress&quot;, this);</span>
<a href="#l53.41"></a><span id="l53.41">     rli.appendChild(textBox);</span>
<a href="#l53.42"></a><span id="l53.42"> </span>
<a href="#l53.43"></a><span id="l53.43" class="difflineminus">-    let warningIcon = document.createElement(&quot;image&quot;);</span>
<a href="#l53.44"></a><span id="l53.44" class="difflineplus">+    let warningIcon = document.createXULElement(&quot;image&quot;);</span>
<a href="#l53.45"></a><span id="l53.45">     warningIcon.setAttribute(&quot;class&quot;, &quot;configuredWarning typeIcon&quot;);</span>
<a href="#l53.46"></a><span id="l53.46">     warningIcon.setAttribute(&quot;src&quot;, &quot;chrome://global/skin/icons/warning.svg&quot;);</span>
<a href="#l53.47"></a><span id="l53.47">     warningIcon.setAttribute(&quot;tooltiptext&quot;, this._strings.GetStringFromName(&quot;notConfiguredYet&quot;));</span>
<a href="#l53.48"></a><span id="l53.48">     if (aAccount.configured) {</span>
<a href="#l53.49"></a><span id="l53.49">       warningIcon.hidden = true;</span>
<a href="#l53.50"></a><span id="l53.50">     }</span>
<a href="#l53.51"></a><span id="l53.51">     rli.appendChild(warningIcon);</span>
<a href="#l53.52"></a><span id="l53.52"> </span>
<a href="#l53.53"></a><span id="l53.53">     return rli;</span>
<a href="#l53.54"></a><span id="l53.54">   },</span>
<a href="#l53.55"></a><span id="l53.55"> </span>
<a href="#l53.56"></a><span id="l53.56">   makeButtonForProvider(provider) {</span>
<a href="#l53.57"></a><span id="l53.57" class="difflineminus">-    let button = document.createElement(&quot;button&quot;);</span>
<a href="#l53.58"></a><span id="l53.58" class="difflineplus">+    let button = document.createXULElement(&quot;button&quot;);</span>
<a href="#l53.59"></a><span id="l53.59">     button.setAttribute(&quot;value&quot;, provider.type);</span>
<a href="#l53.60"></a><span id="l53.60">     button.setAttribute(</span>
<a href="#l53.61"></a><span id="l53.61">       &quot;label&quot;, this._strings.formatStringFromName(&quot;addProvider&quot;, [provider.displayName], 1)</span>
<a href="#l53.62"></a><span id="l53.62">     );</span>
<a href="#l53.63"></a><span id="l53.63">     button.setAttribute(&quot;oncommand&quot;, `gCloudFileTab.addCloudFileAccount(&quot;${provider.type}&quot;)`);</span>
<a href="#l53.64"></a><span id="l53.64">     button.style.listStyleImage = `url(&quot;${provider.iconURL}&quot;)`;</span>
<a href="#l53.65"></a><span id="l53.65">     return button;</span>
<a href="#l53.66"></a><span id="l53.66">   },</span>
<a href="#l53.67"></a><span id="l53.67"> </span>
<a href="#l53.68"></a><span id="l53.68">   makeListItemForProvider(provider) {</span>
<a href="#l53.69"></a><span id="l53.69" class="difflineminus">-    let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l53.70"></a><span id="l53.70" class="difflineplus">+    let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l53.71"></a><span id="l53.71">     menuitem.classList.add(&quot;menuitem-iconic&quot;);</span>
<a href="#l53.72"></a><span id="l53.72">     menuitem.setAttribute(&quot;value&quot;, provider.type);</span>
<a href="#l53.73"></a><span id="l53.73">     menuitem.setAttribute(&quot;label&quot;, provider.displayName);</span>
<a href="#l53.74"></a><span id="l53.74">     menuitem.setAttribute(&quot;image&quot;, provider.iconURL);</span>
<a href="#l53.75"></a><span id="l53.75">     return menuitem;</span>
<a href="#l53.76"></a><span id="l53.76">   },</span>
<a href="#l53.77"></a><span id="l53.77"> </span>
<a href="#l53.78"></a><span id="l53.78">   // Sort the accounts by displayName.</span>
<a href="#l53.79"></a><span id="l53.79" class="difflineat">@@ -1150,47 +1150,47 @@ var gApplicationsPane = {</span>
<a href="#l53.80"></a><span id="l53.80">     var handlerInfo = this.selectedHandlerListItem.handlerInfoWrapper;</span>
<a href="#l53.81"></a><span id="l53.81">     var menu = typeItem.querySelector(&quot;.actionsMenu&quot;);</span>
<a href="#l53.82"></a><span id="l53.82">     var menuPopup = menu.menupopup;</span>
<a href="#l53.83"></a><span id="l53.83"> </span>
<a href="#l53.84"></a><span id="l53.84">     // Clear out existing items.</span>
<a href="#l53.85"></a><span id="l53.85">     while (menuPopup.hasChildNodes())</span>
<a href="#l53.86"></a><span id="l53.86">       menuPopup.lastChild.remove();</span>
<a href="#l53.87"></a><span id="l53.87"> </span>
<a href="#l53.88"></a><span id="l53.88" class="difflineminus">-    var askMenuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l53.89"></a><span id="l53.89" class="difflineplus">+    var askMenuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l53.90"></a><span id="l53.90">     askMenuItem.setAttribute(&quot;alwaysAsk&quot;, &quot;true&quot;);</span>
<a href="#l53.91"></a><span id="l53.91">     {</span>
<a href="#l53.92"></a><span id="l53.92">       let label = this._prefsBundle.getString(&quot;alwaysAsk&quot;);</span>
<a href="#l53.93"></a><span id="l53.93">       askMenuItem.setAttribute(&quot;label&quot;, label);</span>
<a href="#l53.94"></a><span id="l53.94">       askMenuItem.setAttribute(&quot;tooltiptext&quot;, label);</span>
<a href="#l53.95"></a><span id="l53.95">       askMenuItem.setAttribute(APP_ICON_ATTR_NAME, &quot;ask&quot;);</span>
<a href="#l53.96"></a><span id="l53.96">       menuPopup.appendChild(askMenuItem);</span>
<a href="#l53.97"></a><span id="l53.97">     }</span>
<a href="#l53.98"></a><span id="l53.98"> </span>
<a href="#l53.99"></a><span id="l53.99">     // Create a menu item for saving to disk.</span>
<a href="#l53.100"></a><span id="l53.100">     // Note: this option isn't available to protocol types, since we don't know</span>
<a href="#l53.101"></a><span id="l53.101">     // what it means to save a URL having a certain scheme to disk.</span>
<a href="#l53.102"></a><span id="l53.102">     if ((handlerInfo.wrappedHandlerInfo instanceof Ci.nsIMIMEInfo)) {</span>
<a href="#l53.103"></a><span id="l53.103" class="difflineminus">-      var saveMenuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l53.104"></a><span id="l53.104" class="difflineplus">+      var saveMenuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l53.105"></a><span id="l53.105">       saveMenuItem.setAttribute(&quot;action&quot;, Ci.nsIHandlerInfo.saveToDisk);</span>
<a href="#l53.106"></a><span id="l53.106">       let label = this._prefsBundle.getString(&quot;saveFile&quot;);</span>
<a href="#l53.107"></a><span id="l53.107">       saveMenuItem.setAttribute(&quot;label&quot;, label);</span>
<a href="#l53.108"></a><span id="l53.108">       saveMenuItem.setAttribute(&quot;tooltiptext&quot;, label);</span>
<a href="#l53.109"></a><span id="l53.109">       saveMenuItem.setAttribute(APP_ICON_ATTR_NAME, &quot;save&quot;);</span>
<a href="#l53.110"></a><span id="l53.110">       menuPopup.appendChild(saveMenuItem);</span>
<a href="#l53.111"></a><span id="l53.111">     }</span>
<a href="#l53.112"></a><span id="l53.112"> </span>
<a href="#l53.113"></a><span id="l53.113">     // Add a separator to distinguish these items from the helper app items</span>
<a href="#l53.114"></a><span id="l53.114">     // that follow them.</span>
<a href="#l53.115"></a><span id="l53.115" class="difflineminus">-    let menuItem = document.createElement(&quot;menuseparator&quot;);</span>
<a href="#l53.116"></a><span id="l53.116" class="difflineplus">+    let menuItem = document.createXULElement(&quot;menuseparator&quot;);</span>
<a href="#l53.117"></a><span id="l53.117">     menuPopup.appendChild(menuItem);</span>
<a href="#l53.118"></a><span id="l53.118"> </span>
<a href="#l53.119"></a><span id="l53.119">     // Create a menu item for the OS default application, if any.</span>
<a href="#l53.120"></a><span id="l53.120">     if (handlerInfo.hasDefaultHandler) {</span>
<a href="#l53.121"></a><span id="l53.121" class="difflineminus">-      var defaultMenuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l53.122"></a><span id="l53.122" class="difflineplus">+      var defaultMenuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l53.123"></a><span id="l53.123">       defaultMenuItem.setAttribute(&quot;action&quot;, Ci.nsIHandlerInfo.useSystemDefault);</span>
<a href="#l53.124"></a><span id="l53.124">       let label = this._prefsBundle.getFormattedString(&quot;useDefault&quot;,</span>
<a href="#l53.125"></a><span id="l53.125">                                                        [handlerInfo.defaultDescription]);</span>
<a href="#l53.126"></a><span id="l53.126">       defaultMenuItem.setAttribute(&quot;label&quot;, label);</span>
<a href="#l53.127"></a><span id="l53.127">       defaultMenuItem.setAttribute(&quot;tooltiptext&quot;, handlerInfo.defaultDescription);</span>
<a href="#l53.128"></a><span id="l53.128">       defaultMenuItem.setAttribute(&quot;image&quot;, handlerInfo.iconURLForSystemDefault);</span>
<a href="#l53.129"></a><span id="l53.129"> </span>
<a href="#l53.130"></a><span id="l53.130">       menuPopup.appendChild(defaultMenuItem);</span>
<a href="#l53.131"></a><span id="l53.131" class="difflineat">@@ -1200,17 +1200,17 @@ var gApplicationsPane = {</span>
<a href="#l53.132"></a><span id="l53.132">     let preferredApp = handlerInfo.preferredApplicationHandler;</span>
<a href="#l53.133"></a><span id="l53.133">     let possibleApps = handlerInfo.possibleApplicationHandlers.enumerate();</span>
<a href="#l53.134"></a><span id="l53.134">     var possibleAppMenuItems = [];</span>
<a href="#l53.135"></a><span id="l53.135">     while (possibleApps.hasMoreElements()) {</span>
<a href="#l53.136"></a><span id="l53.136">       let possibleApp = possibleApps.getNext();</span>
<a href="#l53.137"></a><span id="l53.137">       if (!gApplicationsPane.isValidHandlerApp(possibleApp))</span>
<a href="#l53.138"></a><span id="l53.138">         continue;</span>
<a href="#l53.139"></a><span id="l53.139"> </span>
<a href="#l53.140"></a><span id="l53.140" class="difflineminus">-      let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l53.141"></a><span id="l53.141" class="difflineplus">+      let menuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l53.142"></a><span id="l53.142">       menuItem.setAttribute(&quot;action&quot;, Ci.nsIHandlerInfo.useHelperApp);</span>
<a href="#l53.143"></a><span id="l53.143">       let label;</span>
<a href="#l53.144"></a><span id="l53.144">       if (possibleApp instanceof Ci.nsILocalHandlerApp)</span>
<a href="#l53.145"></a><span id="l53.145">         label = getDisplayNameForFile(possibleApp.executable);</span>
<a href="#l53.146"></a><span id="l53.146">       else</span>
<a href="#l53.147"></a><span id="l53.147">         label = possibleApp.name;</span>
<a href="#l53.148"></a><span id="l53.148">       label = this._prefsBundle.getFormattedString(&quot;useApp&quot;, [label]);</span>
<a href="#l53.149"></a><span id="l53.149">       menuItem.setAttribute(&quot;label&quot;, label);</span>
<a href="#l53.150"></a><span id="l53.150" class="difflineat">@@ -1234,37 +1234,37 @@ var gApplicationsPane = {</span>
<a href="#l53.151"></a><span id="l53.151">       var executableType = Cc[&quot;@mozilla.org/mime;1&quot;]</span>
<a href="#l53.152"></a><span id="l53.152">                              .getService(Ci.nsIMIMEService)</span>
<a href="#l53.153"></a><span id="l53.153">                              .getTypeFromExtension(&quot;exe&quot;);</span>
<a href="#l53.154"></a><span id="l53.154">       if (handlerInfo.type == executableType)</span>
<a href="#l53.155"></a><span id="l53.155">         createItem = false;</span>
<a href="#l53.156"></a><span id="l53.156">     }</span>
<a href="#l53.157"></a><span id="l53.157"> </span>
<a href="#l53.158"></a><span id="l53.158">     if (createItem) {</span>
<a href="#l53.159"></a><span id="l53.159" class="difflineminus">-      let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l53.160"></a><span id="l53.160" class="difflineplus">+      let menuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l53.161"></a><span id="l53.161">       menuItem.setAttribute(&quot;oncommand&quot;, &quot;gApplicationsPane.chooseApp(event)&quot;);</span>
<a href="#l53.162"></a><span id="l53.162">       let label = this._prefsBundle.getString(&quot;useOtherApp&quot;);</span>
<a href="#l53.163"></a><span id="l53.163">       menuItem.setAttribute(&quot;label&quot;, label);</span>
<a href="#l53.164"></a><span id="l53.164">       menuItem.setAttribute(&quot;tooltiptext&quot;, label);</span>
<a href="#l53.165"></a><span id="l53.165">       menuPopup.appendChild(menuItem);</span>
<a href="#l53.166"></a><span id="l53.166">     }</span>
<a href="#l53.167"></a><span id="l53.167"> </span>
<a href="#l53.168"></a><span id="l53.168">     // Create a menu item for managing applications.</span>
<a href="#l53.169"></a><span id="l53.169">     if (possibleAppMenuItems.length) {</span>
<a href="#l53.170"></a><span id="l53.170" class="difflineminus">-      let menuItem = document.createElement(&quot;menuseparator&quot;);</span>
<a href="#l53.171"></a><span id="l53.171" class="difflineplus">+      let menuItem = document.createXULElement(&quot;menuseparator&quot;);</span>
<a href="#l53.172"></a><span id="l53.172">       menuPopup.appendChild(menuItem);</span>
<a href="#l53.173"></a><span id="l53.173" class="difflineminus">-      menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l53.174"></a><span id="l53.174" class="difflineplus">+      menuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l53.175"></a><span id="l53.175">       menuItem.setAttribute(&quot;oncommand&quot;, &quot;gApplicationsPane.manageApp(event)&quot;);</span>
<a href="#l53.176"></a><span id="l53.176">       menuItem.setAttribute(&quot;label&quot;, this._prefsBundle.getString(&quot;manageApp&quot;));</span>
<a href="#l53.177"></a><span id="l53.177">       menuPopup.appendChild(menuItem);</span>
<a href="#l53.178"></a><span id="l53.178">     }</span>
<a href="#l53.179"></a><span id="l53.179"> </span>
<a href="#l53.180"></a><span id="l53.180" class="difflineminus">-    menuItem = document.createElement(&quot;menuseparator&quot;);</span>
<a href="#l53.181"></a><span id="l53.181" class="difflineplus">+    menuItem = document.createXULElement(&quot;menuseparator&quot;);</span>
<a href="#l53.182"></a><span id="l53.182">     menuPopup.appendChild(menuItem);</span>
<a href="#l53.183"></a><span id="l53.183" class="difflineminus">-    menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l53.184"></a><span id="l53.184" class="difflineplus">+    menuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l53.185"></a><span id="l53.185">     menuItem.setAttribute(&quot;oncommand&quot;, &quot;gApplicationsPane.confirmDelete(event)&quot;);</span>
<a href="#l53.186"></a><span id="l53.186">     menuItem.setAttribute(&quot;label&quot;, this._prefsBundle.getString(&quot;delete&quot;));</span>
<a href="#l53.187"></a><span id="l53.187">     menuPopup.appendChild(menuItem);</span>
<a href="#l53.188"></a><span id="l53.188"> </span>
<a href="#l53.189"></a><span id="l53.189">     // Select the item corresponding to the preferred action.  If the always</span>
<a href="#l53.190"></a><span id="l53.190">     // ask flag is set, it overrides the preferred action.  Otherwise we pick</span>
<a href="#l53.191"></a><span id="l53.191">     // the item identified by the preferred action (when the preferred action</span>
<a href="#l53.192"></a><span id="l53.192">     // is to use a helper app, we have to pick the specific helper app item).</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/mail/components/preferences/chat.js</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/mail/components/preferences/chat.js</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -73,17 +73,17 @@ var gChatPane = {</span>
<a href="#l54.4"></a><span id="l54.4">       return;</span>
<a href="#l54.5"></a><span id="l54.5">     }</span>
<a href="#l54.6"></a><span id="l54.6">     if (this.mTabBox.selectedIndex != 1) {</span>
<a href="#l54.7"></a><span id="l54.7">       return;</span>
<a href="#l54.8"></a><span id="l54.8">     }</span>
<a href="#l54.9"></a><span id="l54.9"> </span>
<a href="#l54.10"></a><span id="l54.10">     window.removeEventListener(&quot;paneSelected&quot;, this.paneSelectionChanged);</span>
<a href="#l54.11"></a><span id="l54.11"> </span>
<a href="#l54.12"></a><span id="l54.12" class="difflineminus">-    let browser = document.createElement(&quot;browser&quot;, { is: &quot;conversation-browser&quot; });</span>
<a href="#l54.13"></a><span id="l54.13" class="difflineplus">+    let browser = document.createXULElement(&quot;browser&quot;, { is: &quot;conversation-browser&quot; });</span>
<a href="#l54.14"></a><span id="l54.14">     browser.setAttribute(&quot;id&quot;, &quot;previewbrowser&quot;);</span>
<a href="#l54.15"></a><span id="l54.15">     browser.setAttribute(&quot;type&quot;, &quot;content&quot;);</span>
<a href="#l54.16"></a><span id="l54.16">     browser.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l54.17"></a><span id="l54.17">     browser.setAttribute(&quot;tooltip&quot;, &quot;aHTMLTooltip&quot;);</span>
<a href="#l54.18"></a><span id="l54.18">     previewDeck.appendChild(browser);</span>
<a href="#l54.19"></a><span id="l54.19">     previewObserver.load();</span>
<a href="#l54.20"></a><span id="l54.20">   },</span>
<a href="#l54.21"></a><span id="l54.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/mail/components/preferences/messagestyle.js</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/mail/components/preferences/messagestyle.js</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -112,41 +112,41 @@ var previewObserver = {</span>
<a href="#l55.4"></a><span id="l55.4">     } catch (e) {</span>
<a href="#l55.5"></a><span id="l55.5">       document.getElementById(&quot;previewDeck&quot;).selectedIndex = 0;</span>
<a href="#l55.6"></a><span id="l55.6">       return;</span>
<a href="#l55.7"></a><span id="l55.7">     }</span>
<a href="#l55.8"></a><span id="l55.8"> </span>
<a href="#l55.9"></a><span id="l55.9">     let menulist = document.getElementById(&quot;themevariant&quot;);</span>
<a href="#l55.10"></a><span id="l55.10">     if (menulist.menupopup)</span>
<a href="#l55.11"></a><span id="l55.11">       menulist.menupopup.remove();</span>
<a href="#l55.12"></a><span id="l55.12" class="difflineminus">-    let popup = menulist.appendChild(document.createElement(&quot;menupopup&quot;));</span>
<a href="#l55.13"></a><span id="l55.13" class="difflineplus">+    let popup = menulist.appendChild(document.createXULElement(&quot;menupopup&quot;));</span>
<a href="#l55.14"></a><span id="l55.14">     let variants = getThemeVariants(this.theme);</span>
<a href="#l55.15"></a><span id="l55.15"> </span>
<a href="#l55.16"></a><span id="l55.16">     let defaultVariant = &quot;&quot;;</span>
<a href="#l55.17"></a><span id="l55.17">     if ((&quot;DefaultVariant&quot; in this.theme.metadata) &amp;&amp;</span>
<a href="#l55.18"></a><span id="l55.18">         variants.includes(this.theme.metadata.DefaultVariant))</span>
<a href="#l55.19"></a><span id="l55.19">       defaultVariant = this.theme.metadata.DefaultVariant.replace(/_/g, &quot; &quot;);</span>
<a href="#l55.20"></a><span id="l55.20"> </span>
<a href="#l55.21"></a><span id="l55.21">     let defaultText = defaultVariant;</span>
<a href="#l55.22"></a><span id="l55.22">     if (!defaultText &amp;&amp; (&quot;DisplayNameForNoVariant&quot; in this.theme.metadata))</span>
<a href="#l55.23"></a><span id="l55.23">       defaultText = this.theme.metadata.DisplayNameForNoVariant;</span>
<a href="#l55.24"></a><span id="l55.24">     // if the name in the metadata is 'Default', use the localized version</span>
<a href="#l55.25"></a><span id="l55.25">     if (!defaultText || defaultText.toLowerCase() == &quot;default&quot;)</span>
<a href="#l55.26"></a><span id="l55.26">       defaultText = document.getElementById(&quot;themesBundle&quot;).getString(&quot;default&quot;);</span>
<a href="#l55.27"></a><span id="l55.27"> </span>
<a href="#l55.28"></a><span id="l55.28" class="difflineminus">-    let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l55.29"></a><span id="l55.29" class="difflineplus">+    let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l55.30"></a><span id="l55.30">     menuitem.setAttribute(&quot;label&quot;, defaultText);</span>
<a href="#l55.31"></a><span id="l55.31">     menuitem.setAttribute(&quot;value&quot;, &quot;default&quot;);</span>
<a href="#l55.32"></a><span id="l55.32">     popup.appendChild(menuitem);</span>
<a href="#l55.33"></a><span id="l55.33" class="difflineminus">-    popup.appendChild(document.createElement(&quot;menuseparator&quot;));</span>
<a href="#l55.34"></a><span id="l55.34" class="difflineplus">+    popup.appendChild(document.createXULElement(&quot;menuseparator&quot;));</span>
<a href="#l55.35"></a><span id="l55.35"> </span>
<a href="#l55.36"></a><span id="l55.36">     variants.sort().forEach(function(aVariantName) {</span>
<a href="#l55.37"></a><span id="l55.37">       let displayName = aVariantName.replace(/_/g, &quot; &quot;);</span>
<a href="#l55.38"></a><span id="l55.38">       if (displayName != defaultVariant) {</span>
<a href="#l55.39"></a><span id="l55.39" class="difflineminus">-        let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l55.40"></a><span id="l55.40" class="difflineplus">+        let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l55.41"></a><span id="l55.41">         menuitem.setAttribute(&quot;label&quot;, displayName);</span>
<a href="#l55.42"></a><span id="l55.42">         menuitem.setAttribute(&quot;value&quot;, aVariantName);</span>
<a href="#l55.43"></a><span id="l55.43">         popup.appendChild(menuitem);</span>
<a href="#l55.44"></a><span id="l55.44">       }</span>
<a href="#l55.45"></a><span id="l55.45">     });</span>
<a href="#l55.46"></a><span id="l55.46">     this._ignoreVariantChange = true;</span>
<a href="#l55.47"></a><span id="l55.47">     if (!this._loaded) {</span>
<a href="#l55.48"></a><span id="l55.48">       menulist.value = this.theme.variant = menulist.value;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/mail/components/preferences/messengerLanguages.js</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/mail/components/preferences/messengerLanguages.js</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -130,21 +130,21 @@ class OrderedListBox {</span>
<a href="#l56.4"></a><span id="l56.4">     }</span>
<a href="#l56.5"></a><span id="l56.5">     this.richlistbox.appendChild(frag);</span>
<a href="#l56.6"></a><span id="l56.6"> </span>
<a href="#l56.7"></a><span id="l56.7">     this.richlistbox.selectedIndex = 0;</span>
<a href="#l56.8"></a><span id="l56.8">     this.richlistbox.ensureElementIsVisible(this.richlistbox.selectedItem);</span>
<a href="#l56.9"></a><span id="l56.9">   }</span>
<a href="#l56.10"></a><span id="l56.10"> </span>
<a href="#l56.11"></a><span id="l56.11">   createItem({id, label, value}) {</span>
<a href="#l56.12"></a><span id="l56.12" class="difflineminus">-    let listitem = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l56.13"></a><span id="l56.13" class="difflineplus">+    let listitem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l56.14"></a><span id="l56.14">     listitem.id = id;</span>
<a href="#l56.15"></a><span id="l56.15">     listitem.setAttribute(&quot;value&quot;, value);</span>
<a href="#l56.16"></a><span id="l56.16"> </span>
<a href="#l56.17"></a><span id="l56.17" class="difflineminus">-    let labelEl = document.createElement(&quot;label&quot;);</span>
<a href="#l56.18"></a><span id="l56.18" class="difflineplus">+    let labelEl = document.createXULElement(&quot;label&quot;);</span>
<a href="#l56.19"></a><span id="l56.19">     labelEl.textContent = label;</span>
<a href="#l56.20"></a><span id="l56.20">     listitem.appendChild(labelEl);</span>
<a href="#l56.21"></a><span id="l56.21"> </span>
<a href="#l56.22"></a><span id="l56.22">     return listitem;</span>
<a href="#l56.23"></a><span id="l56.23">   }</span>
<a href="#l56.24"></a><span id="l56.24"> }</span>
<a href="#l56.25"></a><span id="l56.25"> </span>
<a href="#l56.26"></a><span id="l56.26"> class SortedItemSelectList {</span>
<a href="#l56.27"></a><span id="l56.27" class="difflineat">@@ -207,17 +207,17 @@ class SortedItemSelectList {</span>
<a href="#l56.28"></a><span id="l56.28">     // Find the index of the item to insert before.</span>
<a href="#l56.29"></a><span id="l56.29">     let i = items.findIndex(el =&gt; compareFn(el, item) &gt;= 0);</span>
<a href="#l56.30"></a><span id="l56.30">     items.splice(i, 0, item);</span>
<a href="#l56.31"></a><span id="l56.31">     popup.insertBefore(this.createItem(item), menulist.getItemAtIndex(i));</span>
<a href="#l56.32"></a><span id="l56.32">     menulist.disabled = menulist.itemCount == 0;</span>
<a href="#l56.33"></a><span id="l56.33">   }</span>
<a href="#l56.34"></a><span id="l56.34"> </span>
<a href="#l56.35"></a><span id="l56.35">   createItem({label, value, className, disabled}) {</span>
<a href="#l56.36"></a><span id="l56.36" class="difflineminus">-    let item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l56.37"></a><span id="l56.37" class="difflineplus">+    let item = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l56.38"></a><span id="l56.38">     item.setAttribute(&quot;label&quot;, label);</span>
<a href="#l56.39"></a><span id="l56.39">     if (value)</span>
<a href="#l56.40"></a><span id="l56.40">       item.value = value;</span>
<a href="#l56.41"></a><span id="l56.41">     if (className)</span>
<a href="#l56.42"></a><span id="l56.42">       item.classList.add(className);</span>
<a href="#l56.43"></a><span id="l56.43">     if (disabled)</span>
<a href="#l56.44"></a><span id="l56.44">       item.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l56.45"></a><span id="l56.45">     return item;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/mail/components/preferences/preferences.js</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/mail/components/preferences/preferences.js</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -20,17 +20,17 @@ var selector = document.getElementById(&quot;</span>
<a href="#l57.4"></a><span id="l57.4">     if (pane.id == &quot;paneChat&quot; &amp;&amp; !Services.prefs.getBoolPref(&quot;mail.chat.enabled&quot;)) {</span>
<a href="#l57.5"></a><span id="l57.5">       continue;</span>
<a href="#l57.6"></a><span id="l57.6">     }</span>
<a href="#l57.7"></a><span id="l57.7">     if (pane.id == &quot;paneLightning&quot; &amp;&amp;</span>
<a href="#l57.8"></a><span id="l57.8">         !ExtensionSupport.loadedLegacyExtensions.has(&quot;{e2fda1a4-762b-4020-b5ad-a41df1933103}&quot;)) {</span>
<a href="#l57.9"></a><span id="l57.9">       continue;</span>
<a href="#l57.10"></a><span id="l57.10">     }</span>
<a href="#l57.11"></a><span id="l57.11"> </span>
<a href="#l57.12"></a><span id="l57.12" class="difflineminus">-    var radio = document.createElement(&quot;radio&quot;);</span>
<a href="#l57.13"></a><span id="l57.13" class="difflineplus">+    var radio = document.createXULElement(&quot;radio&quot;);</span>
<a href="#l57.14"></a><span id="l57.14">     radio.setAttribute(&quot;pane&quot;, pane.id);</span>
<a href="#l57.15"></a><span id="l57.15">     radio.setAttribute(&quot;value&quot;, pane.id);</span>
<a href="#l57.16"></a><span id="l57.16">     radio.setAttribute(&quot;label&quot;, pane.getAttribute(&quot;label&quot;));</span>
<a href="#l57.17"></a><span id="l57.17">     radio.setAttribute(&quot;oncommand&quot;, `showPane(&quot;${pane.id}&quot;);`);</span>
<a href="#l57.18"></a><span id="l57.18">     // Expose preference group choice to accessibility APIs as an unchecked list item</span>
<a href="#l57.19"></a><span id="l57.19">     // The parent group is exposed to accessibility APIs as a list</span>
<a href="#l57.20"></a><span id="l57.20">     if (pane.image) {</span>
<a href="#l57.21"></a><span id="l57.21">       radio.setAttribute(&quot;src&quot;, pane.image);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/mail/components/preferences/sendoptions.js</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/mail/components/preferences/sendoptions.js</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -95,15 +95,15 @@ var gSendOptionsDialog = {</span>
<a href="#l58.4"></a><span id="l58.4">       Services.prompt.alert(window, this.mPrefsBundle.getString(&quot;domainNameErrorTitle&quot;),</span>
<a href="#l58.5"></a><span id="l58.5">                             this.mPrefsBundle.getFormattedString(&quot;domainDuplicationError&quot;, [aDomainName]));</span>
<a href="#l58.6"></a><span id="l58.6">     }</span>
<a href="#l58.7"></a><span id="l58.7"> </span>
<a href="#l58.8"></a><span id="l58.8">     return matchingDomains.length;</span>
<a href="#l58.9"></a><span id="l58.9">   },</span>
<a href="#l58.10"></a><span id="l58.10"> </span>
<a href="#l58.11"></a><span id="l58.11">   addItemToDomainList(aListBox, aDomainTitle) {</span>
<a href="#l58.12"></a><span id="l58.12" class="difflineminus">-    let label = document.createElement(&quot;label&quot;);</span>
<a href="#l58.13"></a><span id="l58.13" class="difflineplus">+    let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l58.14"></a><span id="l58.14">     label.setAttribute(&quot;value&quot;, aDomainTitle);</span>
<a href="#l58.15"></a><span id="l58.15" class="difflineminus">-    let item = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l58.16"></a><span id="l58.16" class="difflineplus">+    let item = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l58.17"></a><span id="l58.17">     item.appendChild(label);</span>
<a href="#l58.18"></a><span id="l58.18">     aListBox.appendChild(item);</span>
<a href="#l58.19"></a><span id="l58.19">   },</span>
<a href="#l58.20"></a><span id="l58.20"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/mail/extensions/mailviews/content/msgViewPickerOverlay.js</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/mail/extensions/mailviews/content/msgViewPickerOverlay.js</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -191,17 +191,17 @@ function RefreshCustomViewsPopup(aMenupo</span>
<a href="#l59.4"></a><span id="l59.4">   while (aMenupopup.hasChildNodes())</span>
<a href="#l59.5"></a><span id="l59.5">     aMenupopup.lastChild.remove();</span>
<a href="#l59.6"></a><span id="l59.6"> </span>
<a href="#l59.7"></a><span id="l59.7">   // now rebuild the list</span>
<a href="#l59.8"></a><span id="l59.8">   var currentView = ViewPickerBinding.currentViewValue;</span>
<a href="#l59.9"></a><span id="l59.9">   var numItems = gMailViewList.mailViewCount;</span>
<a href="#l59.10"></a><span id="l59.10">   for (var i = 0; i &lt; numItems; ++i) {</span>
<a href="#l59.11"></a><span id="l59.11">     var viewInfo = gMailViewList.getMailViewAt(i);</span>
<a href="#l59.12"></a><span id="l59.12" class="difflineminus">-    var menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l59.13"></a><span id="l59.13" class="difflineplus">+    var menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l59.14"></a><span id="l59.14">     menuitem.setAttribute(&quot;label&quot;, viewInfo.prettyName);</span>
<a href="#l59.15"></a><span id="l59.15">     menuitem.setAttribute(&quot;value&quot;, kViewItemFirstCustom + i);</span>
<a href="#l59.16"></a><span id="l59.16">     menuitem.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l59.17"></a><span id="l59.17">     if (kViewItemFirstCustom + i == currentView)</span>
<a href="#l59.18"></a><span id="l59.18">       menuitem.setAttribute(&quot;checked&quot;, true);</span>
<a href="#l59.19"></a><span id="l59.19">     aMenupopup.appendChild(menuitem);</span>
<a href="#l59.20"></a><span id="l59.20">   }</span>
<a href="#l59.21"></a><span id="l59.21"> }</span>
<a href="#l59.22"></a><span id="l59.22" class="difflineat">@@ -213,17 +213,17 @@ function RefreshTagsPopup(aMenupopup) {</span>
<a href="#l59.23"></a><span id="l59.23">     aMenupopup.lastChild.remove();</span>
<a href="#l59.24"></a><span id="l59.24"> </span>
<a href="#l59.25"></a><span id="l59.25">   // create tag menuitems</span>
<a href="#l59.26"></a><span id="l59.26">   let currentTagKey = gFolderDisplay.view.mailViewIndex == kViewItemTags ?</span>
<a href="#l59.27"></a><span id="l59.27">                         gFolderDisplay.view.mailViewData : &quot;&quot;;</span>
<a href="#l59.28"></a><span id="l59.28">   let tagArray = MailServices.tags.getAllTags({});</span>
<a href="#l59.29"></a><span id="l59.29">   for (let i = 0; i &lt; tagArray.length; ++i) {</span>
<a href="#l59.30"></a><span id="l59.30">     let tagInfo = tagArray[i];</span>
<a href="#l59.31"></a><span id="l59.31" class="difflineminus">-    let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l59.32"></a><span id="l59.32" class="difflineplus">+    let menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l59.33"></a><span id="l59.33">     menuitem.setAttribute(&quot;label&quot;, tagInfo.tag);</span>
<a href="#l59.34"></a><span id="l59.34">     menuitem.setAttribute(&quot;value&quot;, kViewTagMarker + tagInfo.key);</span>
<a href="#l59.35"></a><span id="l59.35">     menuitem.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l59.36"></a><span id="l59.36">     if (tagInfo.key == currentTagKey)</span>
<a href="#l59.37"></a><span id="l59.37">       menuitem.setAttribute(&quot;checked&quot;, true);</span>
<a href="#l59.38"></a><span id="l59.38">     let color = tagInfo.color;</span>
<a href="#l59.39"></a><span id="l59.39">     if (color)</span>
<a href="#l59.40"></a><span id="l59.40">       menuitem.setAttribute(&quot;style&quot;, &quot;color: &quot; + color + &quot;;&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/mailnews/addrbook/content/map-list.js</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/mailnews/addrbook/content/map-list.js</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -100,17 +100,17 @@</span>
<a href="#l60.4"></a><span id="l60.4">       while (mapList.hasChildNodes()) {</span>
<a href="#l60.5"></a><span id="l60.5">         mapList.lastChild.remove();</span>
<a href="#l60.6"></a><span id="l60.6">       }</span>
<a href="#l60.7"></a><span id="l60.7"> </span>
<a href="#l60.8"></a><span id="l60.8">       let defaultUrl = this._getMapURLPref();</span>
<a href="#l60.9"></a><span id="l60.9"> </span>
<a href="#l60.10"></a><span id="l60.10">       // Creates the menuitem with supplied data.</span>
<a href="#l60.11"></a><span id="l60.11">       function addMapService(url, name) {</span>
<a href="#l60.12"></a><span id="l60.12" class="difflineminus">-        let item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l60.13"></a><span id="l60.13" class="difflineplus">+        let item = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l60.14"></a><span id="l60.14">         item.setAttribute(&quot;url&quot;, url);</span>
<a href="#l60.15"></a><span id="l60.15">         item.setAttribute(&quot;label&quot;, name);</span>
<a href="#l60.16"></a><span id="l60.16">         item.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l60.17"></a><span id="l60.17">         item.setAttribute(&quot;name&quot;, &quot;mapit_service&quot;);</span>
<a href="#l60.18"></a><span id="l60.18">         if (url == defaultUrl) {</span>
<a href="#l60.19"></a><span id="l60.19">           item.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l60.20"></a><span id="l60.20">         }</span>
<a href="#l60.21"></a><span id="l60.21">         mapList.appendChild(item);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/mailnews/addrbook/prefs/content/pref-editdirectories.js</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/mailnews/addrbook/prefs/content/pref-editdirectories.js</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -66,18 +66,18 @@ function fillDirectoryList() {</span>
<a href="#l61.4"></a><span id="l61.4">     let ab = directories.getNext();</span>
<a href="#l61.5"></a><span id="l61.5">     if (ab instanceof Ci.nsIAbDirectory &amp;&amp; ab.isRemote)</span>
<a href="#l61.6"></a><span id="l61.6">       holdingArray.push(ab);</span>
<a href="#l61.7"></a><span id="l61.7">   }</span>
<a href="#l61.8"></a><span id="l61.8"> </span>
<a href="#l61.9"></a><span id="l61.9">   holdingArray.sort(function(a, b) { return a.dirName.localeCompare(b.dirName); });</span>
<a href="#l61.10"></a><span id="l61.10"> </span>
<a href="#l61.11"></a><span id="l61.11">   holdingArray.forEach(function(ab) {</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineminus">-    let item = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l61.13"></a><span id="l61.13" class="difflineminus">-    let label = document.createElement(&quot;label&quot;);</span>
<a href="#l61.14"></a><span id="l61.14" class="difflineplus">+    let item = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l61.15"></a><span id="l61.15" class="difflineplus">+    let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l61.16"></a><span id="l61.16">     label.setAttribute(&quot;value&quot;, ab.dirName);</span>
<a href="#l61.17"></a><span id="l61.17">     item.appendChild(label);</span>
<a href="#l61.18"></a><span id="l61.18">     item.setAttribute(&quot;value&quot;, ab.URI);</span>
<a href="#l61.19"></a><span id="l61.19"> </span>
<a href="#l61.20"></a><span id="l61.20">     abList.appendChild(item);</span>
<a href="#l61.21"></a><span id="l61.21">   });</span>
<a href="#l61.22"></a><span id="l61.22"> }</span>
<a href="#l61.23"></a><span id="l61.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/mailnews/base/content/menulist-charsetpicker.js</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/mailnews/base/content/menulist-charsetpicker.js</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -111,10 +111,10 @@ customElements.whenDefined(&quot;menulist&quot;).t</span>
<a href="#l62.4"></a><span id="l62.4">   customElements.define(&quot;menulist-charsetpicker-viewing&quot;,</span>
<a href="#l62.5"></a><span id="l62.5">     MozMenulistCharsetpickerViewing, { extends: &quot;menulist&quot; }</span>
<a href="#l62.6"></a><span id="l62.6">   );</span>
<a href="#l62.7"></a><span id="l62.7"> });</span>
<a href="#l62.8"></a><span id="l62.8"> </span>
<a href="#l62.9"></a><span id="l62.9"> // The menulist CE is defined lazily. Create one now to get menulist defined,</span>
<a href="#l62.10"></a><span id="l62.10"> // allowing us to inherit from it.</span>
<a href="#l62.11"></a><span id="l62.11"> if (!customElements.get(&quot;menulist&quot;)) {</span>
<a href="#l62.12"></a><span id="l62.12" class="difflineminus">-  delete document.createElement(&quot;menulist&quot;);</span>
<a href="#l62.13"></a><span id="l62.13" class="difflineplus">+  delete document.createXULElement(&quot;menulist&quot;);</span>
<a href="#l62.14"></a><span id="l62.14"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/mailnews/base/content/msgPrintEngine.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/mailnews/base/content/msgPrintEngine.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -32,17 +32,17 @@ function PrintEngineCreateGlobals() {</span>
<a href="#l63.4"></a><span id="l63.4">     printSettings.isCancelled = false;</span>
<a href="#l63.5"></a><span id="l63.5">   }</span>
<a href="#l63.6"></a><span id="l63.6"> }</span>
<a href="#l63.7"></a><span id="l63.7"> </span>
<a href="#l63.8"></a><span id="l63.8"> var PrintPreviewListener = {</span>
<a href="#l63.9"></a><span id="l63.9">   getPrintPreviewBrowser() {</span>
<a href="#l63.10"></a><span id="l63.10">     var browser = document.getElementById(&quot;ppBrowser&quot;);</span>
<a href="#l63.11"></a><span id="l63.11">     if (!browser) {</span>
<a href="#l63.12"></a><span id="l63.12" class="difflineminus">-      browser = document.createElement(&quot;browser&quot;);</span>
<a href="#l63.13"></a><span id="l63.13" class="difflineplus">+      browser = document.createXULElement(&quot;browser&quot;);</span>
<a href="#l63.14"></a><span id="l63.14">       browser.setAttribute(&quot;id&quot;, &quot;ppBrowser&quot;);</span>
<a href="#l63.15"></a><span id="l63.15">       browser.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l63.16"></a><span id="l63.16">       browser.setAttribute(&quot;disablehistory&quot;, &quot;true&quot;);</span>
<a href="#l63.17"></a><span id="l63.17">       browser.setAttribute(&quot;disablesecurity&quot;, &quot;true&quot;);</span>
<a href="#l63.18"></a><span id="l63.18">       browser.setAttribute(&quot;type&quot;, &quot;content&quot;);</span>
<a href="#l63.19"></a><span id="l63.19">       document.documentElement.appendChild(browser);</span>
<a href="#l63.20"></a><span id="l63.20">     }</span>
<a href="#l63.21"></a><span id="l63.21">     return browser;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1" class="difflineminus">--- a/mailnews/base/prefs/content/AccountManager.js</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineplus">+++ b/mailnews/base/prefs/content/AccountManager.js</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineat">@@ -1579,44 +1579,44 @@ var gAccountTree = {</span>
<a href="#l64.4"></a><span id="l64.4">         // is broken, with no child panels.</span>
<a href="#l64.5"></a><span id="l64.5">         let accountID = (accountName || accountKey);</span>
<a href="#l64.6"></a><span id="l64.6">         Cu.reportError(&quot;Error accessing account &quot; + accountID + &quot;: &quot; + e);</span>
<a href="#l64.7"></a><span id="l64.7">         accountName = &quot;Invalid account &quot; + accountID;</span>
<a href="#l64.8"></a><span id="l64.8">         panelsToKeep.length = 0;</span>
<a href="#l64.9"></a><span id="l64.9">       }</span>
<a href="#l64.10"></a><span id="l64.10"> </span>
<a href="#l64.11"></a><span id="l64.11">       // Create the top level tree-item.</span>
<a href="#l64.12"></a><span id="l64.12" class="difflineminus">-      let treeitem = document.createElement(&quot;treeitem&quot;);</span>
<a href="#l64.13"></a><span id="l64.13" class="difflineplus">+      let treeitem = document.createXULElement(&quot;treeitem&quot;);</span>
<a href="#l64.14"></a><span id="l64.14">       mainTree.appendChild(treeitem);</span>
<a href="#l64.15"></a><span id="l64.15" class="difflineminus">-      let treerow = document.createElement(&quot;treerow&quot;);</span>
<a href="#l64.16"></a><span id="l64.16" class="difflineplus">+      let treerow = document.createXULElement(&quot;treerow&quot;);</span>
<a href="#l64.17"></a><span id="l64.17">       treeitem.appendChild(treerow);</span>
<a href="#l64.18"></a><span id="l64.18" class="difflineminus">-      let treecell = document.createElement(&quot;treecell&quot;);</span>
<a href="#l64.19"></a><span id="l64.19" class="difflineplus">+      let treecell = document.createXULElement(&quot;treecell&quot;);</span>
<a href="#l64.20"></a><span id="l64.20">       treerow.appendChild(treecell);</span>
<a href="#l64.21"></a><span id="l64.21">       treecell.setAttribute(&quot;label&quot;, accountName);</span>
<a href="#l64.22"></a><span id="l64.22">       treeitem.setAttribute(&quot;PageTag&quot;, amChrome);</span>
<a href="#l64.23"></a><span id="l64.23">       // Add icons based on account type.</span>
<a href="#l64.24"></a><span id="l64.24">       if (server) {</span>
<a href="#l64.25"></a><span id="l64.25">         treecell.setAttribute(&quot;properties&quot;, &quot;folderNameCol isServer-true&quot; +</span>
<a href="#l64.26"></a><span id="l64.26">                               &quot; serverType-&quot; + server.type);</span>
<a href="#l64.27"></a><span id="l64.27">         // For IM accounts, we can try to fetch a protocol specific icon.</span>
<a href="#l64.28"></a><span id="l64.28">         if (server.type == &quot;im&quot;) {</span>
<a href="#l64.29"></a><span id="l64.29">           treecell.setAttribute(&quot;src&quot;, server.wrappedJSObject.imAccount</span>
<a href="#l64.30"></a><span id="l64.30">                                              .protocol.iconBaseURI + &quot;icon.png&quot;);</span>
<a href="#l64.31"></a><span id="l64.31">         }</span>
<a href="#l64.32"></a><span id="l64.32">       }</span>
<a href="#l64.33"></a><span id="l64.33"> </span>
<a href="#l64.34"></a><span id="l64.34">       if (panelsToKeep.length &gt; 0) {</span>
<a href="#l64.35"></a><span id="l64.35" class="difflineminus">-        var treekids = document.createElement(&quot;treechildren&quot;);</span>
<a href="#l64.36"></a><span id="l64.36" class="difflineplus">+        var treekids = document.createXULElement(&quot;treechildren&quot;);</span>
<a href="#l64.37"></a><span id="l64.37">         treeitem.appendChild(treekids);</span>
<a href="#l64.38"></a><span id="l64.38">         for (let panel of panelsToKeep) {</span>
<a href="#l64.39"></a><span id="l64.39" class="difflineminus">-          var kidtreeitem = document.createElement(&quot;treeitem&quot;);</span>
<a href="#l64.40"></a><span id="l64.40" class="difflineplus">+          var kidtreeitem = document.createXULElement(&quot;treeitem&quot;);</span>
<a href="#l64.41"></a><span id="l64.41">           treekids.appendChild(kidtreeitem);</span>
<a href="#l64.42"></a><span id="l64.42" class="difflineminus">-          var kidtreerow = document.createElement(&quot;treerow&quot;);</span>
<a href="#l64.43"></a><span id="l64.43" class="difflineplus">+          var kidtreerow = document.createXULElement(&quot;treerow&quot;);</span>
<a href="#l64.44"></a><span id="l64.44">           kidtreeitem.appendChild(kidtreerow);</span>
<a href="#l64.45"></a><span id="l64.45" class="difflineminus">-          var kidtreecell = document.createElement(&quot;treecell&quot;);</span>
<a href="#l64.46"></a><span id="l64.46" class="difflineplus">+          var kidtreecell = document.createXULElement(&quot;treecell&quot;);</span>
<a href="#l64.47"></a><span id="l64.47">           kidtreerow.appendChild(kidtreecell);</span>
<a href="#l64.48"></a><span id="l64.48">           setAccountLabel(null, kidtreecell, panel.string);</span>
<a href="#l64.49"></a><span id="l64.49">           kidtreeitem.setAttribute(&quot;PageTag&quot;, panel.src);</span>
<a href="#l64.50"></a><span id="l64.50">           kidtreeitem._account = account;</span>
<a href="#l64.51"></a><span id="l64.51">         }</span>
<a href="#l64.52"></a><span id="l64.52">         treeitem.setAttribute(&quot;container&quot;, &quot;true&quot;);</span>
<a href="#l64.53"></a><span id="l64.53">         treeitem.id = accountKey;</span>
<a href="#l64.54"></a><span id="l64.54">         // Load the 'open' state of the account from XULStore.json.</span>
<a href="#l64.55"></a><span id="l64.55" class="difflineat">@@ -1626,20 +1626,20 @@ var gAccountTree = {</span>
<a href="#l64.56"></a><span id="l64.56">         treeitem.setAttribute(&quot;persist&quot;, &quot;open&quot;);</span>
<a href="#l64.57"></a><span id="l64.57">       }</span>
<a href="#l64.58"></a><span id="l64.58">       treeitem._account = account;</span>
<a href="#l64.59"></a><span id="l64.59">     }</span>
<a href="#l64.60"></a><span id="l64.60"> </span>
<a href="#l64.61"></a><span id="l64.61">     markDefaultServer(MailServices.accounts.defaultAccount, null);</span>
<a href="#l64.62"></a><span id="l64.62"> </span>
<a href="#l64.63"></a><span id="l64.63">     // Now add the outgoing server node.</span>
<a href="#l64.64"></a><span id="l64.64" class="difflineminus">-    let treeitem = document.createElement(&quot;treeitem&quot;);</span>
<a href="#l64.65"></a><span id="l64.65" class="difflineplus">+    let treeitem = document.createXULElement(&quot;treeitem&quot;);</span>
<a href="#l64.66"></a><span id="l64.66">     mainTree.appendChild(treeitem);</span>
<a href="#l64.67"></a><span id="l64.67" class="difflineminus">-    let treerow = document.createElement(&quot;treerow&quot;);</span>
<a href="#l64.68"></a><span id="l64.68" class="difflineplus">+    let treerow = document.createXULElement(&quot;treerow&quot;);</span>
<a href="#l64.69"></a><span id="l64.69">     treeitem.appendChild(treerow);</span>
<a href="#l64.70"></a><span id="l64.70" class="difflineminus">-    let treecell = document.createElement(&quot;treecell&quot;);</span>
<a href="#l64.71"></a><span id="l64.71" class="difflineplus">+    let treecell = document.createXULElement(&quot;treecell&quot;);</span>
<a href="#l64.72"></a><span id="l64.72">     treerow.appendChild(treecell);</span>
<a href="#l64.73"></a><span id="l64.73">     treecell.setAttribute(&quot;label&quot;, getString(&quot;prefPanel-smtp&quot;));</span>
<a href="#l64.74"></a><span id="l64.74">     treeitem.setAttribute(&quot;PageTag&quot;, &quot;am-smtp.xul&quot;);</span>
<a href="#l64.75"></a><span id="l64.75">     treecell.setAttribute(&quot;properties&quot;,</span>
<a href="#l64.76"></a><span id="l64.76">                           &quot;folderNameCol isServer-true serverType-smtp&quot;);</span>
<a href="#l64.77"></a><span id="l64.77">   },</span>
<a href="#l64.78"></a><span id="l64.78"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-identities-list.js</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-identities-list.js</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineat">@@ -44,20 +44,20 @@ function refreshIdentityList(aSelectInde</span>
<a href="#l65.4"></a><span id="l65.4">   // Remove all children.</span>
<a href="#l65.5"></a><span id="l65.5">   while (gIdentityListBox.hasChildNodes())</span>
<a href="#l65.6"></a><span id="l65.6">     gIdentityListBox.lastChild.remove();</span>
<a href="#l65.7"></a><span id="l65.7"> </span>
<a href="#l65.8"></a><span id="l65.8">   // Build the list from the identities array.</span>
<a href="#l65.9"></a><span id="l65.9">   let identities = gAccount.identities;</span>
<a href="#l65.10"></a><span id="l65.10">   for (let identity of fixIterator(identities, Ci.nsIMsgIdentity)) {</span>
<a href="#l65.11"></a><span id="l65.11">     if (identity.valid) {</span>
<a href="#l65.12"></a><span id="l65.12" class="difflineminus">-      let label = document.createElement(&quot;label&quot;);</span>
<a href="#l65.13"></a><span id="l65.13" class="difflineplus">+      let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l65.14"></a><span id="l65.14">       label.setAttribute(&quot;value&quot;, identity.identityName);</span>
<a href="#l65.15"></a><span id="l65.15"> </span>
<a href="#l65.16"></a><span id="l65.16" class="difflineminus">-      let listitem = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l65.17"></a><span id="l65.17" class="difflineplus">+      let listitem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l65.18"></a><span id="l65.18">       listitem.appendChild(label);</span>
<a href="#l65.19"></a><span id="l65.19">       listitem.setAttribute(&quot;key&quot;, identity.key);</span>
<a href="#l65.20"></a><span id="l65.20">       gIdentityListBox.appendChild(listitem);</span>
<a href="#l65.21"></a><span id="l65.21">     }</span>
<a href="#l65.22"></a><span id="l65.22">   }</span>
<a href="#l65.23"></a><span id="l65.23"> </span>
<a href="#l65.24"></a><span id="l65.24">   // Ensure one identity is always selected.</span>
<a href="#l65.25"></a><span id="l65.25">   if (!aSelectIndex || aSelectIndex &lt; 0)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-junk.js</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-junk.js</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -77,21 +77,21 @@ function onInit(aPageId, aServerId) {</span>
<a href="#l66.4"></a><span id="l66.4">   // Sort the list</span>
<a href="#l66.5"></a><span id="l66.5">   function sortFunc(a, b) {</span>
<a href="#l66.6"></a><span id="l66.6">     return a.label.localeCompare(b.label);</span>
<a href="#l66.7"></a><span id="l66.7">   }</span>
<a href="#l66.8"></a><span id="l66.8">   abItems.sort(sortFunc);</span>
<a href="#l66.9"></a><span id="l66.9"> </span>
<a href="#l66.10"></a><span id="l66.10">   // And then append each item to the listbox</span>
<a href="#l66.11"></a><span id="l66.11">   for (let abItem of abItems) {</span>
<a href="#l66.12"></a><span id="l66.12" class="difflineminus">-    let checkbox = document.createElement(&quot;checkbox&quot;);</span>
<a href="#l66.13"></a><span id="l66.13" class="difflineplus">+    let checkbox = document.createXULElement(&quot;checkbox&quot;);</span>
<a href="#l66.14"></a><span id="l66.14">     checkbox.setAttribute(&quot;label&quot;, abItem.label);</span>
<a href="#l66.15"></a><span id="l66.15">     checkbox.setAttribute(&quot;checked&quot;, currentArray.includes(abItem.URI));</span>
<a href="#l66.16"></a><span id="l66.16"> </span>
<a href="#l66.17"></a><span id="l66.17" class="difflineminus">-    let item = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l66.18"></a><span id="l66.18" class="difflineplus">+    let item = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l66.19"></a><span id="l66.19">     item.appendChild(checkbox);</span>
<a href="#l66.20"></a><span id="l66.20">     item.setAttribute(&quot;value&quot;, abItem.URI);</span>
<a href="#l66.21"></a><span id="l66.21">     wList.appendChild(item);</span>
<a href="#l66.22"></a><span id="l66.22">   }</span>
<a href="#l66.23"></a><span id="l66.23"> </span>
<a href="#l66.24"></a><span id="l66.24">   // enable or disable the whitelist</span>
<a href="#l66.25"></a><span id="l66.25">   onAdaptiveJunkToggle();</span>
<a href="#l66.26"></a><span id="l66.26"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1" class="difflineminus">--- a/mailnews/base/prefs/content/am-smtp.js</span>
<a href="#l67.2"></a><span id="l67.2" class="difflineplus">+++ b/mailnews/base/prefs/content/am-smtp.js</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineat">@@ -177,32 +177,32 @@ var gSmtpServerListWindow = {</span>
<a href="#l67.4"></a><span id="l67.4"> </span>
<a href="#l67.5"></a><span id="l67.5">         var listitem = this.createSmtpListItem(server, isDefault);</span>
<a href="#l67.6"></a><span id="l67.6">         aListBox.appendChild(listitem);</span>
<a href="#l67.7"></a><span id="l67.7">       }</span>
<a href="#l67.8"></a><span id="l67.8">     }</span>
<a href="#l67.9"></a><span id="l67.9">   },</span>
<a href="#l67.10"></a><span id="l67.10"> </span>
<a href="#l67.11"></a><span id="l67.11">   createSmtpListItem(aServer, aIsDefault) {</span>
<a href="#l67.12"></a><span id="l67.12" class="difflineminus">-    var listitem = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l67.13"></a><span id="l67.13" class="difflineplus">+    var listitem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l67.14"></a><span id="l67.14">     var serverName = &quot;&quot;;</span>
<a href="#l67.15"></a><span id="l67.15"> </span>
<a href="#l67.16"></a><span id="l67.16">     if (aServer.description)</span>
<a href="#l67.17"></a><span id="l67.17">       serverName = aServer.description + &quot; - &quot;;</span>
<a href="#l67.18"></a><span id="l67.18">     else if (aServer.username)</span>
<a href="#l67.19"></a><span id="l67.19">       serverName = aServer.username + &quot; - &quot;;</span>
<a href="#l67.20"></a><span id="l67.20"> </span>
<a href="#l67.21"></a><span id="l67.21">     serverName += aServer.hostname;</span>
<a href="#l67.22"></a><span id="l67.22"> </span>
<a href="#l67.23"></a><span id="l67.23">     if (aIsDefault) {</span>
<a href="#l67.24"></a><span id="l67.24">       serverName += &quot; &quot; + this.mBundle.getString(&quot;defaultServerTag&quot;);</span>
<a href="#l67.25"></a><span id="l67.25">       listitem.setAttribute(&quot;default&quot;, &quot;true&quot;);</span>
<a href="#l67.26"></a><span id="l67.26">     }</span>
<a href="#l67.27"></a><span id="l67.27"> </span>
<a href="#l67.28"></a><span id="l67.28" class="difflineminus">-    let label = document.createElement(&quot;label&quot;);</span>
<a href="#l67.29"></a><span id="l67.29" class="difflineplus">+    let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l67.30"></a><span id="l67.30">     label.setAttribute(&quot;value&quot;, serverName);</span>
<a href="#l67.31"></a><span id="l67.31">     listitem.appendChild(label);</span>
<a href="#l67.32"></a><span id="l67.32">     listitem.setAttribute(&quot;key&quot;, aServer.key);</span>
<a href="#l67.33"></a><span id="l67.33">     listitem.setAttribute(&quot;class&quot;, &quot;smtpServerListItem&quot;);</span>
<a href="#l67.34"></a><span id="l67.34"> </span>
<a href="#l67.35"></a><span id="l67.35">     // give it some unique id</span>
<a href="#l67.36"></a><span id="l67.36">     listitem.id = &quot;smtpServer.&quot; + aServer.key;</span>
<a href="#l67.37"></a><span id="l67.37">     return listitem;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1" class="difflineminus">--- a/mailnews/base/search/content/FilterEditor.js</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineplus">+++ b/mailnews/base/search/content/FilterEditor.js</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineat">@@ -322,17 +322,17 @@ function initializeFilterTypeSelector() </span>
<a href="#l68.4"></a><span id="l68.4"> function initializeDialog(filter) {</span>
<a href="#l68.5"></a><span id="l68.5">   gFilterNameElement.value = filter.filterName;</span>
<a href="#l68.6"></a><span id="l68.6">   gFilterTypeSelector.setType(filter.filterType);</span>
<a href="#l68.7"></a><span id="l68.7"> </span>
<a href="#l68.8"></a><span id="l68.8">   let numActions = filter.actionCount;</span>
<a href="#l68.9"></a><span id="l68.9">   for (let actionIndex = 0; actionIndex &lt; numActions; actionIndex++) {</span>
<a href="#l68.10"></a><span id="l68.10">     let filterAction = filter.getActionAt(actionIndex);</span>
<a href="#l68.11"></a><span id="l68.11"> </span>
<a href="#l68.12"></a><span id="l68.12" class="difflineminus">-    let newActionRow = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l68.13"></a><span id="l68.13" class="difflineplus">+    let newActionRow = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l68.14"></a><span id="l68.14">     newActionRow.setAttribute(&quot;initialActionIndex&quot;, actionIndex);</span>
<a href="#l68.15"></a><span id="l68.15">     newActionRow.className = &quot;ruleaction&quot;;</span>
<a href="#l68.16"></a><span id="l68.16">     gFilterActionList.appendChild(newActionRow);</span>
<a href="#l68.17"></a><span id="l68.17">     newActionRow.setAttribute(&quot;value&quot;,</span>
<a href="#l68.18"></a><span id="l68.18">         filterAction.type == nsMsgFilterAction.Custom ?</span>
<a href="#l68.19"></a><span id="l68.19">         filterAction.customId : gFilterActionStrings[filterAction.type]);</span>
<a href="#l68.20"></a><span id="l68.20">     newActionRow.setAttribute(&quot;onfocus&quot;, &quot;this.storeFocus();&quot;);</span>
<a href="#l68.21"></a><span id="l68.21">   }</span>
<a href="#l68.22"></a><span id="l68.22" class="difflineat">@@ -340,17 +340,17 @@ function initializeDialog(filter) {</span>
<a href="#l68.23"></a><span id="l68.23">   var gSearchScope = getFilterScope(getScope(filter), filter.filterType, filter.filterList);</span>
<a href="#l68.24"></a><span id="l68.24">   initializeSearchRows(gSearchScope, filter.searchTerms);</span>
<a href="#l68.25"></a><span id="l68.25">   setFilterScope(filter.filterType, filter.filterList);</span>
<a href="#l68.26"></a><span id="l68.26"> }</span>
<a href="#l68.27"></a><span id="l68.27"> </span>
<a href="#l68.28"></a><span id="l68.28"> function ensureActionRow() {</span>
<a href="#l68.29"></a><span id="l68.29">   // make sure we have at least one action row visible to the user</span>
<a href="#l68.30"></a><span id="l68.30">   if (!gFilterActionList.getRowCount()) {</span>
<a href="#l68.31"></a><span id="l68.31" class="difflineminus">-    let newActionRow = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l68.32"></a><span id="l68.32" class="difflineplus">+    let newActionRow = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l68.33"></a><span id="l68.33">     newActionRow.className = &quot;ruleaction&quot;;</span>
<a href="#l68.34"></a><span id="l68.34">     gFilterActionList.appendChild(newActionRow);</span>
<a href="#l68.35"></a><span id="l68.35">     newActionRow.mRemoveButton.disabled = true;</span>
<a href="#l68.36"></a><span id="l68.36">   }</span>
<a href="#l68.37"></a><span id="l68.37"> }</span>
<a href="#l68.38"></a><span id="l68.38"> </span>
<a href="#l68.39"></a><span id="l68.39"> // move to overlay</span>
<a href="#l68.40"></a><span id="l68.40"> function saveFilter() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1" class="difflineminus">--- a/mailnews/base/search/content/searchTerm.js</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineplus">+++ b/mailnews/base/search/content/searchTerm.js</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineat">@@ -301,22 +301,22 @@ function booleanChanged(event) {</span>
<a href="#l69.4"></a><span id="l69.4">  *</span>
<a href="#l69.5"></a><span id="l69.5">  * @param index       index of the position in the menulist where to add the row</span>
<a href="#l69.6"></a><span id="l69.6">  * @param scope       a nsMsgSearchScope constant indicating scope of this search rule</span>
<a href="#l69.7"></a><span id="l69.7">  * @param searchTerm  nsIMsgSearchTerm object to hold the search term</span>
<a href="#l69.8"></a><span id="l69.8">  * @param aUserAdded  boolean indicating if the row addition was initiated by the user</span>
<a href="#l69.9"></a><span id="l69.9">  *                    (e.g. via the '+' button)</span>
<a href="#l69.10"></a><span id="l69.10">  */</span>
<a href="#l69.11"></a><span id="l69.11"> function createSearchRow(index, scope, searchTerm, aUserAdded) {</span>
<a href="#l69.12"></a><span id="l69.12" class="difflineminus">-    var searchAttr = document.createElement(&quot;search-attribute&quot;);</span>
<a href="#l69.13"></a><span id="l69.13" class="difflineminus">-    var searchOp = document.createElement(&quot;search-operator&quot;);</span>
<a href="#l69.14"></a><span id="l69.14" class="difflineminus">-    var searchVal = document.createElement(&quot;search-value&quot;);</span>
<a href="#l69.15"></a><span id="l69.15" class="difflineplus">+    var searchAttr = document.createXULElement(&quot;search-attribute&quot;);</span>
<a href="#l69.16"></a><span id="l69.16" class="difflineplus">+    var searchOp = document.createXULElement(&quot;search-operator&quot;);</span>
<a href="#l69.17"></a><span id="l69.17" class="difflineplus">+    var searchVal = document.createXULElement(&quot;search-value&quot;);</span>
<a href="#l69.18"></a><span id="l69.18"> </span>
<a href="#l69.19"></a><span id="l69.19" class="difflineminus">-    var moreButton = document.createElement(&quot;button&quot;);</span>
<a href="#l69.20"></a><span id="l69.20" class="difflineminus">-    var lessButton = document.createElement(&quot;button&quot;);</span>
<a href="#l69.21"></a><span id="l69.21" class="difflineplus">+    var moreButton = document.createXULElement(&quot;button&quot;);</span>
<a href="#l69.22"></a><span id="l69.22" class="difflineplus">+    var lessButton = document.createXULElement(&quot;button&quot;);</span>
<a href="#l69.23"></a><span id="l69.23">     moreButton.setAttribute(&quot;class&quot;, &quot;small-button&quot;);</span>
<a href="#l69.24"></a><span id="l69.24">     moreButton.setAttribute(&quot;oncommand&quot;, &quot;onMore(event);&quot;);</span>
<a href="#l69.25"></a><span id="l69.25">     moreButton.setAttribute(&quot;label&quot;, &quot;+&quot;);</span>
<a href="#l69.26"></a><span id="l69.26">     moreButton.setAttribute(&quot;tooltiptext&quot;, gMoreButtonTooltipText);</span>
<a href="#l69.27"></a><span id="l69.27">     lessButton.setAttribute(&quot;class&quot;, &quot;small-button&quot;);</span>
<a href="#l69.28"></a><span id="l69.28">     lessButton.setAttribute(&quot;oncommand&quot;, &quot;onLess(event);&quot;);</span>
<a href="#l69.29"></a><span id="l69.29">     lessButton.setAttribute(&quot;label&quot;, &quot;\u2212&quot;);</span>
<a href="#l69.30"></a><span id="l69.30">     lessButton.setAttribute(&quot;tooltiptext&quot;, gLessButtonTooltipText);</span>
<a href="#l69.31"></a><span id="l69.31" class="difflineat">@@ -402,20 +402,20 @@ function initializeTermFromIndex(index) </span>
<a href="#l69.32"></a><span id="l69.32">  * of each listcell.</span>
<a href="#l69.33"></a><span id="l69.33">  * @param aChildren  An array of XUL elements to put into the listitem.</span>
<a href="#l69.34"></a><span id="l69.34">  *                   Each array member is put into a separate listcell.</span>
<a href="#l69.35"></a><span id="l69.35">  *                   If the member itself is an array of elements,</span>
<a href="#l69.36"></a><span id="l69.36">  *                   all of them are put into the same listcell.</span>
<a href="#l69.37"></a><span id="l69.37">  */</span>
<a href="#l69.38"></a><span id="l69.38"> function constructRow(aChildren) {</span>
<a href="#l69.39"></a><span id="l69.39">     let cols = gSearchTermList.firstChild.childNodes; // treecol elements</span>
<a href="#l69.40"></a><span id="l69.40" class="difflineminus">-    let listitem = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l69.41"></a><span id="l69.41" class="difflineplus">+    let listitem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l69.42"></a><span id="l69.42">     listitem.setAttribute(&quot;allowevents&quot;, &quot;true&quot;);</span>
<a href="#l69.43"></a><span id="l69.43">     for (let i = 0; i &lt; aChildren.length; i++) {</span>
<a href="#l69.44"></a><span id="l69.44" class="difflineminus">-      let listcell = document.createElement(&quot;hbox&quot;);</span>
<a href="#l69.45"></a><span id="l69.45" class="difflineplus">+      let listcell = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l69.46"></a><span id="l69.46">       if (cols[i].hasAttribute(&quot;flex&quot;))</span>
<a href="#l69.47"></a><span id="l69.47">         listcell.setAttribute(&quot;flex&quot;, cols[i].getAttribute(&quot;flex&quot;));</span>
<a href="#l69.48"></a><span id="l69.48">       let child = aChildren[i];</span>
<a href="#l69.49"></a><span id="l69.49"> </span>
<a href="#l69.50"></a><span id="l69.50">       if (child instanceof Array) {</span>
<a href="#l69.51"></a><span id="l69.51">         for (let j = 0; j &lt; child.length; j++)</span>
<a href="#l69.52"></a><span id="l69.52">           listcell.appendChild(child[j]);</span>
<a href="#l69.53"></a><span id="l69.53">       } else {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/mailnews/base/search/content/searchWidgets.js</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/mailnews/base/search/content/searchWidgets.js</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -17,25 +17,25 @@ const updateParentNode = (parentNode) =&gt;</span>
<a href="#l70.4"></a><span id="l70.4">     let filterAction = gFilter.getActionAt(actionIndex);</span>
<a href="#l70.5"></a><span id="l70.5">     parentNode.initWithAction(filterAction);</span>
<a href="#l70.6"></a><span id="l70.6">   }</span>
<a href="#l70.7"></a><span id="l70.7">   parentNode.updateRemoveButton();</span>
<a href="#l70.8"></a><span id="l70.8"> };</span>
<a href="#l70.9"></a><span id="l70.9"> </span>
<a href="#l70.10"></a><span id="l70.10"> class MozRuleactiontargetTag extends MozXULElement {</span>
<a href="#l70.11"></a><span id="l70.11">   connectedCallback() {</span>
<a href="#l70.12"></a><span id="l70.12" class="difflineminus">-    const menulist = document.createElement(&quot;menulist&quot;);</span>
<a href="#l70.13"></a><span id="l70.13" class="difflineminus">-    const menuPopup = document.createElement(&quot;menupopup&quot;);</span>
<a href="#l70.14"></a><span id="l70.14" class="difflineplus">+    const menulist = document.createXULElement(&quot;menulist&quot;);</span>
<a href="#l70.15"></a><span id="l70.15" class="difflineplus">+    const menuPopup = document.createXULElement(&quot;menupopup&quot;);</span>
<a href="#l70.16"></a><span id="l70.16"> </span>
<a href="#l70.17"></a><span id="l70.17">     menulist.classList.add(&quot;ruleactionitem&quot;);</span>
<a href="#l70.18"></a><span id="l70.18">     menulist.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l70.19"></a><span id="l70.19">     menulist.appendChild(menuPopup);</span>
<a href="#l70.20"></a><span id="l70.20"> </span>
<a href="#l70.21"></a><span id="l70.21">     for (let taginfo of MailServices.tags.getAllTags({})) {</span>
<a href="#l70.22"></a><span id="l70.22" class="difflineminus">-      const newMenuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l70.23"></a><span id="l70.23" class="difflineplus">+      const newMenuItem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l70.24"></a><span id="l70.24">       newMenuItem.setAttribute(&quot;label&quot;, taginfo.tag);</span>
<a href="#l70.25"></a><span id="l70.25">       newMenuItem.setAttribute(&quot;value&quot;, taginfo.key);</span>
<a href="#l70.26"></a><span id="l70.26">       menuPopup.appendChild(newMenuItem);</span>
<a href="#l70.27"></a><span id="l70.27">     }</span>
<a href="#l70.28"></a><span id="l70.28"> </span>
<a href="#l70.29"></a><span id="l70.29">     this.appendChild(menulist);</span>
<a href="#l70.30"></a><span id="l70.30"> </span>
<a href="#l70.31"></a><span id="l70.31">     updateParentNode(this.closest(&quot;.ruleaction&quot;));</span>
<a href="#l70.32"></a><span id="l70.32" class="difflineat">@@ -76,18 +76,18 @@ class MozRuleactiontargetJunkscore exten</span>
<a href="#l70.33"></a><span id="l70.33">       ]));</span>
<a href="#l70.34"></a><span id="l70.34"> </span>
<a href="#l70.35"></a><span id="l70.35">     updateParentNode(this.closest(&quot;.ruleaction&quot;));</span>
<a href="#l70.36"></a><span id="l70.36">   }</span>
<a href="#l70.37"></a><span id="l70.37"> }</span>
<a href="#l70.38"></a><span id="l70.38"> </span>
<a href="#l70.39"></a><span id="l70.39"> class MozRuleactiontargetReplyto extends MozXULElement {</span>
<a href="#l70.40"></a><span id="l70.40">   connectedCallback() {</span>
<a href="#l70.41"></a><span id="l70.41" class="difflineminus">-    const menulist = document.createElement(&quot;menulist&quot;);</span>
<a href="#l70.42"></a><span id="l70.42" class="difflineminus">-    const menuPopup = document.createElement(&quot;menupopup&quot;);</span>
<a href="#l70.43"></a><span id="l70.43" class="difflineplus">+    const menulist = document.createXULElement(&quot;menulist&quot;);</span>
<a href="#l70.44"></a><span id="l70.44" class="difflineplus">+    const menuPopup = document.createXULElement(&quot;menupopup&quot;);</span>
<a href="#l70.45"></a><span id="l70.45"> </span>
<a href="#l70.46"></a><span id="l70.46">     menulist.classList.add(&quot;ruleactionitem&quot;);</span>
<a href="#l70.47"></a><span id="l70.47">     menulist.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l70.48"></a><span id="l70.48">     menulist.appendChild(menuPopup);</span>
<a href="#l70.49"></a><span id="l70.49"> </span>
<a href="#l70.50"></a><span id="l70.50">     this.appendChild(menulist);</span>
<a href="#l70.51"></a><span id="l70.51"> </span>
<a href="#l70.52"></a><span id="l70.52">     document.getAnonymousElementByAttribute(this.closest(&quot;.ruleaction&quot;), &quot;class&quot;, &quot;ruleactiontype&quot;)</span>
<a href="#l70.53"></a><span id="l70.53" class="difflineat">@@ -95,17 +95,17 @@ class MozRuleactiontargetReplyto extends</span>
<a href="#l70.54"></a><span id="l70.54"> </span>
<a href="#l70.55"></a><span id="l70.55">     updateParentNode(this.closest(&quot;.ruleaction&quot;));</span>
<a href="#l70.56"></a><span id="l70.56">   }</span>
<a href="#l70.57"></a><span id="l70.57"> }</span>
<a href="#l70.58"></a><span id="l70.58"> </span>
<a href="#l70.59"></a><span id="l70.59"> </span>
<a href="#l70.60"></a><span id="l70.60"> class MozRuleactiontargetForwardto extends MozXULElement {</span>
<a href="#l70.61"></a><span id="l70.61">   connectedCallback() {</span>
<a href="#l70.62"></a><span id="l70.62" class="difflineminus">-    const textbox = document.createElement(&quot;textbox&quot;);</span>
<a href="#l70.63"></a><span id="l70.63" class="difflineplus">+    const textbox = document.createXULElement(&quot;textbox&quot;);</span>
<a href="#l70.64"></a><span id="l70.64"> </span>
<a href="#l70.65"></a><span id="l70.65">     textbox.classList.add(&quot;ruleactionitem&quot;);</span>
<a href="#l70.66"></a><span id="l70.66">     textbox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l70.67"></a><span id="l70.67"> </span>
<a href="#l70.68"></a><span id="l70.68">     this.appendChild(textbox);</span>
<a href="#l70.69"></a><span id="l70.69"> </span>
<a href="#l70.70"></a><span id="l70.70">     updateParentNode(this.closest(&quot;.ruleaction&quot;));</span>
<a href="#l70.71"></a><span id="l70.71">   }</span>
<a href="#l70.72"></a><span id="l70.72" class="difflineat">@@ -177,17 +177,17 @@ class MozRuleactiontargetWrapper extends</span>
<a href="#l70.73"></a><span id="l70.73">       &quot;setpriorityto&quot;: &quot;ruleactiontarget-priority&quot;,</span>
<a href="#l70.74"></a><span id="l70.74">       &quot;setjunkscore&quot;: &quot;ruleactiontarget-junkscore&quot;,</span>
<a href="#l70.75"></a><span id="l70.75">       &quot;forwardmessage&quot;: &quot;ruleactiontarget-forwardto&quot;,</span>
<a href="#l70.76"></a><span id="l70.76">       &quot;replytomessage&quot;: &quot;ruleactiontarget-replyto&quot;,</span>
<a href="#l70.77"></a><span id="l70.77">       &quot;addtagtomessage&quot;: &quot;ruleactiontarget-tag&quot;,</span>
<a href="#l70.78"></a><span id="l70.78">     };</span>
<a href="#l70.79"></a><span id="l70.79">     const elementName = elementMapping[type];</span>
<a href="#l70.80"></a><span id="l70.80"> </span>
<a href="#l70.81"></a><span id="l70.81" class="difflineminus">-    return elementName ? document.createElement(elementName) : null;</span>
<a href="#l70.82"></a><span id="l70.82" class="difflineplus">+    return elementName ? document.createXULElement(elementName) : null;</span>
<a href="#l70.83"></a><span id="l70.83">   }</span>
<a href="#l70.84"></a><span id="l70.84"> </span>
<a href="#l70.85"></a><span id="l70.85">   _updateAttributes() {</span>
<a href="#l70.86"></a><span id="l70.86">     if (!this.hasAttribute(&quot;type&quot;)) {</span>
<a href="#l70.87"></a><span id="l70.87">       return;</span>
<a href="#l70.88"></a><span id="l70.88">     }</span>
<a href="#l70.89"></a><span id="l70.89"> </span>
<a href="#l70.90"></a><span id="l70.90">     const type = this.getAttribute(&quot;type&quot;);</span>
<a href="#l70.91"></a><span id="l70.91" class="difflineat">@@ -235,20 +235,20 @@ class MozSearchMenulistAbstract extends </span>
<a href="#l70.92"></a><span id="l70.92">     this.internalScope = null;</span>
<a href="#l70.93"></a><span id="l70.93">     this.internalValue = -1;</span>
<a href="#l70.94"></a><span id="l70.94">     this.validityManager = Cc[&quot;@mozilla.org/mail/search/validityManager;1&quot;]</span>
<a href="#l70.95"></a><span id="l70.95">       .getService(Ci.nsIMsgSearchValidityManager);</span>
<a href="#l70.96"></a><span id="l70.96">   }</span>
<a href="#l70.97"></a><span id="l70.97"> </span>
<a href="#l70.98"></a><span id="l70.98">   connectedCallback() {</span>
<a href="#l70.99"></a><span id="l70.99">     if (!this.hasChildNodes()) {</span>
<a href="#l70.100"></a><span id="l70.100" class="difflineminus">-      this.menulist = document.createElement(&quot;menulist&quot;);</span>
<a href="#l70.101"></a><span id="l70.101" class="difflineplus">+      this.menulist = document.createXULElement(&quot;menulist&quot;);</span>
<a href="#l70.102"></a><span id="l70.102">       this.menulist.classList.add(&quot;search-menulist&quot;);</span>
<a href="#l70.103"></a><span id="l70.103">       this.menulist.addEventListener(&quot;command&quot;, this.onSelect.bind(this));</span>
<a href="#l70.104"></a><span id="l70.104" class="difflineminus">-      this.menupopup = document.createElement(&quot;menupopup&quot;);</span>
<a href="#l70.105"></a><span id="l70.105" class="difflineplus">+      this.menupopup = document.createXULElement(&quot;menupopup&quot;);</span>
<a href="#l70.106"></a><span id="l70.106">       this.menupopup.classList.add(&quot;search-menulist-popup&quot;);</span>
<a href="#l70.107"></a><span id="l70.107">       this.menulist.appendChild(this.menupopup);</span>
<a href="#l70.108"></a><span id="l70.108">       this.appendChild(this.menulist);</span>
<a href="#l70.109"></a><span id="l70.109">     }</span>
<a href="#l70.110"></a><span id="l70.110">     this._updateAttributes();</span>
<a href="#l70.111"></a><span id="l70.111">   }</span>
<a href="#l70.112"></a><span id="l70.112"> </span>
<a href="#l70.113"></a><span id="l70.113">   attributeChangedCallback() {</span>
<a href="#l70.114"></a><span id="l70.114" class="difflineat">@@ -388,30 +388,30 @@ class MozSearchMenulistAbstract extends </span>
<a href="#l70.115"></a><span id="l70.115">     }</span>
<a href="#l70.116"></a><span id="l70.116">     let newSelection;</span>
<a href="#l70.117"></a><span id="l70.117">     let customizePos = -1;</span>
<a href="#l70.118"></a><span id="l70.118">     for (let i = 0; i &lt; menuItemIds.length; i++) {</span>
<a href="#l70.119"></a><span id="l70.119">       // create the menuitem</span>
<a href="#l70.120"></a><span id="l70.120">       if (Ci.nsMsgSearchAttrib.OtherHeader == menuItemIds[i].toString()) {</span>
<a href="#l70.121"></a><span id="l70.121">         customizePos = i;</span>
<a href="#l70.122"></a><span id="l70.122">       } else {</span>
<a href="#l70.123"></a><span id="l70.123" class="difflineminus">-        const menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l70.124"></a><span id="l70.124" class="difflineplus">+        const menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l70.125"></a><span id="l70.125">         menuitem.setAttribute(&quot;label&quot;, menuItemStrings[i]);</span>
<a href="#l70.126"></a><span id="l70.126">         menuitem.setAttribute(&quot;value&quot;, menuItemIds[i]);</span>
<a href="#l70.127"></a><span id="l70.127">         popup.appendChild(menuitem);</span>
<a href="#l70.128"></a><span id="l70.128">         // try to restore the selection</span>
<a href="#l70.129"></a><span id="l70.129">         if (!newSelection || oldData == menuItemIds[i].toString()) {</span>
<a href="#l70.130"></a><span id="l70.130">           newSelection = menuitem;</span>
<a href="#l70.131"></a><span id="l70.131">         }</span>
<a href="#l70.132"></a><span id="l70.132">       }</span>
<a href="#l70.133"></a><span id="l70.133">     }</span>
<a href="#l70.134"></a><span id="l70.134">     if (customizePos != -1) {</span>
<a href="#l70.135"></a><span id="l70.135" class="difflineminus">-      const separator = document.createElement(&quot;menuseparator&quot;);</span>
<a href="#l70.136"></a><span id="l70.136" class="difflineplus">+      const separator = document.createXULElement(&quot;menuseparator&quot;);</span>
<a href="#l70.137"></a><span id="l70.137">       popup.appendChild(separator);</span>
<a href="#l70.138"></a><span id="l70.138" class="difflineminus">-      const menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l70.139"></a><span id="l70.139" class="difflineplus">+      const menuitem = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l70.140"></a><span id="l70.140">       menuitem.setAttribute(&quot;label&quot;, menuItemStrings[customizePos]);</span>
<a href="#l70.141"></a><span id="l70.141">       menuitem.setAttribute(&quot;value&quot;, menuItemIds[customizePos]);</span>
<a href="#l70.142"></a><span id="l70.142">       popup.appendChild(menuitem);</span>
<a href="#l70.143"></a><span id="l70.143">     }</span>
<a href="#l70.144"></a><span id="l70.144"> </span>
<a href="#l70.145"></a><span id="l70.145">     // If we are either uninitialized, or if we are called because</span>
<a href="#l70.146"></a><span id="l70.146">     // of a change in our parent, update the value to the</span>
<a href="#l70.147"></a><span id="l70.147">     // default stored in newSelection.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1" class="difflineminus">--- a/mailnews/base/util/JXON.js</span>
<a href="#l71.2"></a><span id="l71.2" class="difflineplus">+++ b/mailnews/base/util/JXON.js</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineat">@@ -140,22 +140,22 @@ var JXON = new (function() {</span>
<a href="#l71.4"></a><span id="l71.4">         }</span>
<a href="#l71.5"></a><span id="l71.5">       } else if (sName === sAttributesProp) { /* verbosity level is 3 */</span>
<a href="#l71.6"></a><span id="l71.6">         for (var sAttrib in vValue)</span>
<a href="#l71.7"></a><span id="l71.7">           oParentEl.setAttribute(sAttrib, vValue[sAttrib]);</span>
<a href="#l71.8"></a><span id="l71.8">       } else if (sName.charAt(0) === sAttrPref) {</span>
<a href="#l71.9"></a><span id="l71.9">         oParentEl.setAttribute(sName.slice(1), vValue);</span>
<a href="#l71.10"></a><span id="l71.10">       } else if (vValue.constructor === Array) {</span>
<a href="#l71.11"></a><span id="l71.11">         for (var nItem = 0; nItem &lt; vValue.length; nItem++) {</span>
<a href="#l71.12"></a><span id="l71.12" class="difflineminus">-          oChild = oXMLDoc.createElement(sName);</span>
<a href="#l71.13"></a><span id="l71.13" class="difflineplus">+          oChild = oXMLDoc.createXULElement(sName);</span>
<a href="#l71.14"></a><span id="l71.14">           loadObjTree(oXMLDoc, oChild, vValue[nItem]);</span>
<a href="#l71.15"></a><span id="l71.15">           oParentEl.appendChild(oChild);</span>
<a href="#l71.16"></a><span id="l71.16">         }</span>
<a href="#l71.17"></a><span id="l71.17">       } else {</span>
<a href="#l71.18"></a><span id="l71.18" class="difflineminus">-        oChild = oXMLDoc.createElement(sName);</span>
<a href="#l71.19"></a><span id="l71.19" class="difflineplus">+        oChild = oXMLDoc.createXULElement(sName);</span>
<a href="#l71.20"></a><span id="l71.20">         if (vValue instanceof Object)</span>
<a href="#l71.21"></a><span id="l71.21">           loadObjTree(oXMLDoc, oChild, vValue);</span>
<a href="#l71.22"></a><span id="l71.22">         else if (vValue !== null &amp;&amp; vValue !== true)</span>
<a href="#l71.23"></a><span id="l71.23">           oChild.appendChild(oXMLDoc.createTextNode(vValue.toString()));</span>
<a href="#l71.24"></a><span id="l71.24">         oParentEl.appendChild(oChild);</span>
<a href="#l71.25"></a><span id="l71.25">      }</span>
<a href="#l71.26"></a><span id="l71.26">    }</span>
<a href="#l71.27"></a><span id="l71.27">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1" class="difflineminus">--- a/mailnews/db/gloda/content/autocomplete-richlistitem.js</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineplus">+++ b/mailnews/db/gloda/content/autocomplete-richlistitem.js</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineat">@@ -306,17 +306,17 @@</span>
<a href="#l72.4"></a><span id="l72.4">    * @extends MozGlodacompleteBaseRichlistitem</span>
<a href="#l72.5"></a><span id="l72.5">    */</span>
<a href="#l72.6"></a><span id="l72.6">   class MozGlodaFulltextAll extends MozGlodacompleteBaseRichlistitem {</span>
<a href="#l72.7"></a><span id="l72.7">     connectedCallback() {</span>
<a href="#l72.8"></a><span id="l72.8">       super.connectedCallback();</span>
<a href="#l72.9"></a><span id="l72.9">       if (this.delayConnectedCallback() || this.hasChildNodes()) {</span>
<a href="#l72.10"></a><span id="l72.10">         return;</span>
<a href="#l72.11"></a><span id="l72.11">       }</span>
<a href="#l72.12"></a><span id="l72.12" class="difflineminus">-      this._explanation = document.createElement(&quot;description&quot;);</span>
<a href="#l72.13"></a><span id="l72.13" class="difflineplus">+      this._explanation = document.createXULElement(&quot;description&quot;);</span>
<a href="#l72.14"></a><span id="l72.14">       this._explanation.classList.add(&quot;explanation&quot;);</span>
<a href="#l72.15"></a><span id="l72.15">       let label = gGlodaCompleteStrings.get(&quot;glodaComplete.messagesMentioningMany.label&quot;);</span>
<a href="#l72.16"></a><span id="l72.16">       this._explanation.setAttribute(&quot;value&quot;, label.replace(&quot;#1&quot;, this.row.words.join(&quot;, &quot;)));</span>
<a href="#l72.17"></a><span id="l72.17">       this.appendChild(this._explanation);</span>
<a href="#l72.18"></a><span id="l72.18">     }</span>
<a href="#l72.19"></a><span id="l72.19"> </span>
<a href="#l72.20"></a><span id="l72.20">     get label() {</span>
<a href="#l72.21"></a><span id="l72.21">       return &quot;full text search: &quot; + this.row.item; // what is this for? l10n?</span>
<a href="#l72.22"></a><span id="l72.22" class="difflineat">@@ -336,19 +336,19 @@</span>
<a href="#l72.23"></a><span id="l72.23">    * @extends MozGlodacompleteBaseRichlistitem</span>
<a href="#l72.24"></a><span id="l72.24">    */</span>
<a href="#l72.25"></a><span id="l72.25">   class MozGlodaFulltextSingle extends MozGlodacompleteBaseRichlistitem {</span>
<a href="#l72.26"></a><span id="l72.26">     connectedCallback() {</span>
<a href="#l72.27"></a><span id="l72.27">       super.connectedCallback();</span>
<a href="#l72.28"></a><span id="l72.28">       if (this.delayConnectedCallback() || this.hasChildNodes()) {</span>
<a href="#l72.29"></a><span id="l72.29">         return;</span>
<a href="#l72.30"></a><span id="l72.30">       }</span>
<a href="#l72.31"></a><span id="l72.31" class="difflineminus">-      this._explanation = document.createElement(&quot;description&quot;);</span>
<a href="#l72.32"></a><span id="l72.32" class="difflineplus">+      this._explanation = document.createXULElement(&quot;description&quot;);</span>
<a href="#l72.33"></a><span id="l72.33">       this._explanation.classList.add(&quot;explanation&quot;, &quot;gloda-fulltext-single&quot;);</span>
<a href="#l72.34"></a><span id="l72.34" class="difflineminus">-      this._parameters = document.createElement(&quot;description&quot;);</span>
<a href="#l72.35"></a><span id="l72.35" class="difflineplus">+      this._parameters = document.createXULElement(&quot;description&quot;);</span>
<a href="#l72.36"></a><span id="l72.36"> </span>
<a href="#l72.37"></a><span id="l72.37">       this.appendChild(this._explanation);</span>
<a href="#l72.38"></a><span id="l72.38">       this.appendChild(this._parameters);</span>
<a href="#l72.39"></a><span id="l72.39"> </span>
<a href="#l72.40"></a><span id="l72.40">       let label = gGlodaCompleteStrings.get(&quot;glodaComplete.messagesMentioning.label&quot;);</span>
<a href="#l72.41"></a><span id="l72.41">       this._explanation.setAttribute(&quot;value&quot;, label.replace(&quot;#1&quot;, this.row.item));</span>
<a href="#l72.42"></a><span id="l72.42">     }</span>
<a href="#l72.43"></a><span id="l72.43"> </span>
<a href="#l72.44"></a><span id="l72.44" class="difflineat">@@ -371,18 +371,18 @@</span>
<a href="#l72.45"></a><span id="l72.45">    * @extends MozGlodacompleteBaseRichlistitem</span>
<a href="#l72.46"></a><span id="l72.46">    */</span>
<a href="#l72.47"></a><span id="l72.47">   class MozGlodaMulti extends MozGlodacompleteBaseRichlistitem {</span>
<a href="#l72.48"></a><span id="l72.48">     connectedCallback() {</span>
<a href="#l72.49"></a><span id="l72.49">       super.connectedCallback();</span>
<a href="#l72.50"></a><span id="l72.50">       if (this.delayConnectedCallback() || this.hasChildNodes()) {</span>
<a href="#l72.51"></a><span id="l72.51">         return;</span>
<a href="#l72.52"></a><span id="l72.52">       }</span>
<a href="#l72.53"></a><span id="l72.53" class="difflineminus">-      this._explanation = document.createElement(&quot;description&quot;);</span>
<a href="#l72.54"></a><span id="l72.54" class="difflineminus">-      this._identityHolder = document.createElement(&quot;hbox&quot;);</span>
<a href="#l72.55"></a><span id="l72.55" class="difflineplus">+      this._explanation = document.createXULElement(&quot;description&quot;);</span>
<a href="#l72.56"></a><span id="l72.56" class="difflineplus">+      this._identityHolder = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l72.57"></a><span id="l72.57">       this._identityHolder.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l72.58"></a><span id="l72.58"> </span>
<a href="#l72.59"></a><span id="l72.59">       this.appendChild(this._explanation);</span>
<a href="#l72.60"></a><span id="l72.60">       this.appendChild(this._identityHolder);</span>
<a href="#l72.61"></a><span id="l72.61">       this._adjustAcItem();</span>
<a href="#l72.62"></a><span id="l72.62">     }</span>
<a href="#l72.63"></a><span id="l72.63"> </span>
<a href="#l72.64"></a><span id="l72.64">     get label() {</span>
<a href="#l72.65"></a><span id="l72.65" class="difflineat">@@ -539,17 +539,17 @@</span>
<a href="#l72.66"></a><span id="l72.66">    * @extends MozGlodacompleteBaseRichlistitem</span>
<a href="#l72.67"></a><span id="l72.67">    */</span>
<a href="#l72.68"></a><span id="l72.68">   class MozGlodaSingleTag extends MozGlodacompleteBaseRichlistitem {</span>
<a href="#l72.69"></a><span id="l72.69">     connectedCallback() {</span>
<a href="#l72.70"></a><span id="l72.70">       super.connectedCallback();</span>
<a href="#l72.71"></a><span id="l72.71">       if (this.delayConnectedCallback() || this.hasChildNodes()) {</span>
<a href="#l72.72"></a><span id="l72.72">         return;</span>
<a href="#l72.73"></a><span id="l72.73">       }</span>
<a href="#l72.74"></a><span id="l72.74" class="difflineminus">-      this._explanation = document.createElement(&quot;description&quot;);</span>
<a href="#l72.75"></a><span id="l72.75" class="difflineplus">+      this._explanation = document.createXULElement(&quot;description&quot;);</span>
<a href="#l72.76"></a><span id="l72.76">       this._explanation.classList.add(&quot;explanation&quot;, &quot;gloda-single&quot;);</span>
<a href="#l72.77"></a><span id="l72.77">       this.appendChild(this._explanation);</span>
<a href="#l72.78"></a><span id="l72.78">       let label = gGlodaCompleteStrings.get(&quot;glodaComplete.messagesTagged.label&quot;);</span>
<a href="#l72.79"></a><span id="l72.79">       this._explanation.setAttribute(&quot;value&quot;, label.replace(&quot;#1&quot;, this.row.item.tag));</span>
<a href="#l72.80"></a><span id="l72.80">     }</span>
<a href="#l72.81"></a><span id="l72.81"> </span>
<a href="#l72.82"></a><span id="l72.82">     get label() {</span>
<a href="#l72.83"></a><span id="l72.83">       return &quot;tag &quot; + this.row.item.tag;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1" class="difflineminus">--- a/mailnews/extensions/smime/content/certpicker.js</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/certpicker.js</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineat">@@ -19,17 +19,17 @@ function onLoad() {</span>
<a href="#l73.4"></a><span id="l73.4">   itemCount = dialogParams.GetInt(0);</span>
<a href="#l73.5"></a><span id="l73.5"> </span>
<a href="#l73.6"></a><span id="l73.6">   var selIndex = dialogParams.GetInt(1);</span>
<a href="#l73.7"></a><span id="l73.7">   if (selIndex &lt; 0) {</span>
<a href="#l73.8"></a><span id="l73.8">     selIndex = 0;</span>
<a href="#l73.9"></a><span id="l73.9">   }</span>
<a href="#l73.10"></a><span id="l73.10"> </span>
<a href="#l73.11"></a><span id="l73.11">   for (let i = 0; i &lt; itemCount; i++) {</span>
<a href="#l73.12"></a><span id="l73.12" class="difflineminus">-    let menuItemNode = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l73.13"></a><span id="l73.13" class="difflineplus">+    let menuItemNode = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l73.14"></a><span id="l73.14">     let nick = dialogParams.GetString(i);</span>
<a href="#l73.15"></a><span id="l73.15">     menuItemNode.setAttribute(&quot;value&quot;, i);</span>
<a href="#l73.16"></a><span id="l73.16">     menuItemNode.setAttribute(&quot;label&quot;, nick); // This is displayed.</span>
<a href="#l73.17"></a><span id="l73.17">     selectElement.firstChild.appendChild(menuItemNode);</span>
<a href="#l73.18"></a><span id="l73.18"> </span>
<a href="#l73.19"></a><span id="l73.19">     if (selIndex == i) {</span>
<a href="#l73.20"></a><span id="l73.20">       selectElement.selectedItem = menuItemNode;</span>
<a href="#l73.21"></a><span id="l73.21">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l74.1"></a><span id="l74.1" class="difflineminus">--- a/mailnews/extensions/smime/content/msgCompSecurityInfo.js</span>
<a href="#l74.2"></a><span id="l74.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/msgCompSecurityInfo.js</span>
<a href="#l74.3"></a><span id="l74.3" class="difflineat">@@ -124,40 +124,40 @@ function onLoad() {</span>
<a href="#l74.4"></a><span id="l74.4">     } else {</span>
<a href="#l74.5"></a><span id="l74.5">       signed_element.value = no_string;</span>
<a href="#l74.6"></a><span id="l74.6">     }</span>
<a href="#l74.7"></a><span id="l74.7">   }</span>
<a href="#l74.8"></a><span id="l74.8"> </span>
<a href="#l74.9"></a><span id="l74.9">   var imax = gCount.value;</span>
<a href="#l74.10"></a><span id="l74.10"> </span>
<a href="#l74.11"></a><span id="l74.11">   for (let i = 0; i &lt; imax; ++i) {</span>
<a href="#l74.12"></a><span id="l74.12" class="difflineminus">-    let email = document.createElement(&quot;label&quot;);</span>
<a href="#l74.13"></a><span id="l74.13" class="difflineplus">+    let email = document.createXULElement(&quot;label&quot;);</span>
<a href="#l74.14"></a><span id="l74.14">     email.setAttribute(&quot;value&quot;, gEmailAddresses.value[i]);</span>
<a href="#l74.15"></a><span id="l74.15">     email.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l74.16"></a><span id="l74.16">     email.setAttribute(&quot;style&quot;, &quot;width: var(--recipientWidth)&quot;);</span>
<a href="#l74.17"></a><span id="l74.17"> </span>
<a href="#l74.18"></a><span id="l74.18" class="difflineminus">-    let listitem = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l74.19"></a><span id="l74.19" class="difflineplus">+    let listitem = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l74.20"></a><span id="l74.20">     listitem.appendChild(email);</span>
<a href="#l74.21"></a><span id="l74.21"> </span>
<a href="#l74.22"></a><span id="l74.22">     if (!gCerts.value[i]) {</span>
<a href="#l74.23"></a><span id="l74.23" class="difflineminus">-      let notFound = document.createElement(&quot;label&quot;);</span>
<a href="#l74.24"></a><span id="l74.24" class="difflineplus">+      let notFound = document.createXULElement(&quot;label&quot;);</span>
<a href="#l74.25"></a><span id="l74.25">       notFound.setAttribute(&quot;value&quot;, gBundle.getString(&quot;StatusNotFound&quot;));</span>
<a href="#l74.26"></a><span id="l74.26">       notFound.setAttribute(&quot;style&quot;, &quot;width: var(--statusWidth)&quot;);</span>
<a href="#l74.27"></a><span id="l74.27"> </span>
<a href="#l74.28"></a><span id="l74.28">       listitem.appendChild(notFound);</span>
<a href="#l74.29"></a><span id="l74.29">     } else {</span>
<a href="#l74.30"></a><span id="l74.30" class="difflineminus">-      let status = document.createElement(&quot;label&quot;);</span>
<a href="#l74.31"></a><span id="l74.31" class="difflineplus">+      let status = document.createXULElement(&quot;label&quot;);</span>
<a href="#l74.32"></a><span id="l74.32">       status.setAttribute(&quot;value&quot;, &quot;?&quot;); // temporary placeholder</span>
<a href="#l74.33"></a><span id="l74.33">       status.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l74.34"></a><span id="l74.34">       status.setAttribute(&quot;style&quot;, &quot;width: var(--statusWidth)&quot;);</span>
<a href="#l74.35"></a><span id="l74.35" class="difflineminus">-      let issued = document.createElement(&quot;label&quot;);</span>
<a href="#l74.36"></a><span id="l74.36" class="difflineplus">+      let issued = document.createXULElement(&quot;label&quot;);</span>
<a href="#l74.37"></a><span id="l74.37">       issued.setAttribute(&quot;value&quot;, gCertIssuedInfos.value[i]);</span>
<a href="#l74.38"></a><span id="l74.38">       issued.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l74.39"></a><span id="l74.39">       issued.setAttribute(&quot;style&quot;, &quot;width: var(--issuedWidth)&quot;);</span>
<a href="#l74.40"></a><span id="l74.40" class="difflineminus">-      let expire = document.createElement(&quot;label&quot;);</span>
<a href="#l74.41"></a><span id="l74.41" class="difflineplus">+      let expire = document.createXULElement(&quot;label&quot;);</span>
<a href="#l74.42"></a><span id="l74.42">       expire.setAttribute(&quot;value&quot;, gCertExpiresInfos.value[i]);</span>
<a href="#l74.43"></a><span id="l74.43">       expire.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l74.44"></a><span id="l74.44">       expire.setAttribute(&quot;style&quot;, &quot;width: var(--expireWidth)&quot;);</span>
<a href="#l74.45"></a><span id="l74.45"> </span>
<a href="#l74.46"></a><span id="l74.46">       listitem.appendChild(status);</span>
<a href="#l74.47"></a><span id="l74.47">       listitem.appendChild(issued);</span>
<a href="#l74.48"></a><span id="l74.48">       listitem.appendChild(expire);</span>
<a href="#l74.49"></a><span id="l74.49"> </span>
<a href="#l74.50"></a><span id="l74.50" class="difflineat">@@ -267,12 +267,12 @@ function viewSelectedCert() {</span>
<a href="#l74.51"></a><span id="l74.51"> }</span>
<a href="#l74.52"></a><span id="l74.52"> </span>
<a href="#l74.53"></a><span id="l74.53"> /* globals openHelp */// Suite only.</span>
<a href="#l74.54"></a><span id="l74.54"> function doHelpButton() {</span>
<a href="#l74.55"></a><span id="l74.55">   openHelp(&quot;compose_security&quot;, &quot;chrome://communicator/locale/help/suitehelp.rdf&quot;);</span>
<a href="#l74.56"></a><span id="l74.56"> }</span>
<a href="#l74.57"></a><span id="l74.57"> </span>
<a href="#l74.58"></a><span id="l74.58"> function createCell(label) {</span>
<a href="#l74.59"></a><span id="l74.59" class="difflineminus">-  var cell = document.createElement(&quot;listcell&quot;);</span>
<a href="#l74.60"></a><span id="l74.60" class="difflineplus">+  var cell = document.createXULElement(&quot;listcell&quot;);</span>
<a href="#l74.61"></a><span id="l74.61">   cell.setAttribute(&quot;label&quot;, label);</span>
<a href="#l74.62"></a><span id="l74.62">   return cell;</span>
<a href="#l74.63"></a><span id="l74.63"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l75.1"></a><span id="l75.1" class="difflineminus">--- a/mailnews/import/content/fieldMapImport.js</span>
<a href="#l75.2"></a><span id="l75.2" class="difflineplus">+++ b/mailnews/import/content/fieldMapImport.js</span>
<a href="#l75.3"></a><span id="l75.3" class="difflineat">@@ -72,35 +72,35 @@ function ListFields() {</span>
<a href="#l75.4"></a><span id="l75.4">   count = top.fieldMap.numMozFields;</span>
<a href="#l75.5"></a><span id="l75.5">   for (let i = 0; i &lt; count; i++) {</span>
<a href="#l75.6"></a><span id="l75.6">     if (!IndexInMap(i))</span>
<a href="#l75.7"></a><span id="l75.7">       AddFieldToList(top.fieldMap.GetFieldDescription(i), i, false);</span>
<a href="#l75.8"></a><span id="l75.8">   }</span>
<a href="#l75.9"></a><span id="l75.9"> }</span>
<a href="#l75.10"></a><span id="l75.10"> </span>
<a href="#l75.11"></a><span id="l75.11"> function CreateField(name, index, on) {</span>
<a href="#l75.12"></a><span id="l75.12" class="difflineminus">-  var item = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l75.13"></a><span id="l75.13" class="difflineplus">+  var item = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l75.14"></a><span id="l75.14">   item.setAttribute(&quot;align&quot;, &quot;center&quot;);</span>
<a href="#l75.15"></a><span id="l75.15">   item.setAttribute(&quot;field-index&quot;, index);</span>
<a href="#l75.16"></a><span id="l75.16">   item.setAttribute(&quot;allowevents&quot;, &quot;true&quot;);</span>
<a href="#l75.17"></a><span id="l75.17"> </span>
<a href="#l75.18"></a><span id="l75.18" class="difflineminus">-  var checkboxCell = document.createElement(&quot;hbox&quot;);</span>
<a href="#l75.19"></a><span id="l75.19" class="difflineplus">+  var checkboxCell = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l75.20"></a><span id="l75.20">   checkboxCell.setAttribute(&quot;style&quot;, &quot;width: var(--column1width)&quot;);</span>
<a href="#l75.21"></a><span id="l75.21" class="difflineminus">-  let checkbox = document.createElement(&quot;checkbox&quot;);</span>
<a href="#l75.22"></a><span id="l75.22" class="difflineplus">+  let checkbox = document.createXULElement(&quot;checkbox&quot;);</span>
<a href="#l75.23"></a><span id="l75.23">   checkbox.addEventListener(&quot;click&quot;, cellClicked);</span>
<a href="#l75.24"></a><span id="l75.24">   if (on) {</span>
<a href="#l75.25"></a><span id="l75.25">     checkbox.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l75.26"></a><span id="l75.26">   }</span>
<a href="#l75.27"></a><span id="l75.27">   checkboxCell.appendChild(checkbox);</span>
<a href="#l75.28"></a><span id="l75.28"> </span>
<a href="#l75.29"></a><span id="l75.29" class="difflineminus">-  var firstCell = document.createElement(&quot;label&quot;);</span>
<a href="#l75.30"></a><span id="l75.30" class="difflineplus">+  var firstCell = document.createXULElement(&quot;label&quot;);</span>
<a href="#l75.31"></a><span id="l75.31">   firstCell.setAttribute(&quot;style&quot;, &quot;width: var(--column2width)&quot;);</span>
<a href="#l75.32"></a><span id="l75.32">   firstCell.setAttribute(&quot;value&quot;, name);</span>
<a href="#l75.33"></a><span id="l75.33"> </span>
<a href="#l75.34"></a><span id="l75.34" class="difflineminus">-  var secondCell = document.createElement(&quot;label&quot;);</span>
<a href="#l75.35"></a><span id="l75.35" class="difflineplus">+  var secondCell = document.createXULElement(&quot;label&quot;);</span>
<a href="#l75.36"></a><span id="l75.36">   secondCell.setAttribute(&quot;class&quot;, &quot;importsampledata&quot;);</span>
<a href="#l75.37"></a><span id="l75.37">   secondCell.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l75.38"></a><span id="l75.38"> </span>
<a href="#l75.39"></a><span id="l75.39">   item.appendChild(checkboxCell);</span>
<a href="#l75.40"></a><span id="l75.40">   item.appendChild(firstCell);</span>
<a href="#l75.41"></a><span id="l75.41">   item.appendChild(secondCell);</span>
<a href="#l75.42"></a><span id="l75.42">   return item;</span>
<a href="#l75.43"></a><span id="l75.43"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l76.1"></a><span id="l76.1" class="difflineminus">--- a/mailnews/import/content/importDialog.js</span>
<a href="#l76.2"></a><span id="l76.2" class="difflineplus">+++ b/mailnews/import/content/importDialog.js</span>
<a href="#l76.3"></a><span id="l76.3" class="difflineat">@@ -358,43 +358,43 @@ function ListModules() {</span>
<a href="#l76.4"></a><span id="l76.4">   for (i = 0; i &lt; count; i++) {</span>
<a href="#l76.5"></a><span id="l76.5">     AddModuleToList(moduleArray[i].name, moduleArray[i].index);</span>
<a href="#l76.6"></a><span id="l76.6">   }</span>
<a href="#l76.7"></a><span id="l76.7"> }</span>
<a href="#l76.8"></a><span id="l76.8"> </span>
<a href="#l76.9"></a><span id="l76.9"> function AddModuleToList(moduleName, index) {</span>
<a href="#l76.10"></a><span id="l76.10">   var body = document.getElementById(&quot;moduleList&quot;);</span>
<a href="#l76.11"></a><span id="l76.11"> </span>
<a href="#l76.12"></a><span id="l76.12" class="difflineminus">-  let item = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l76.13"></a><span id="l76.13" class="difflineminus">-  let label = document.createElement(&quot;label&quot;);</span>
<a href="#l76.14"></a><span id="l76.14" class="difflineplus">+  let item = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l76.15"></a><span id="l76.15" class="difflineplus">+  let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l76.16"></a><span id="l76.16">   label.setAttribute(&quot;value&quot;, moduleName);</span>
<a href="#l76.17"></a><span id="l76.17">   item.appendChild(label);</span>
<a href="#l76.18"></a><span id="l76.18">   item.setAttribute(&quot;list-index&quot;, index);</span>
<a href="#l76.19"></a><span id="l76.19">   body.appendChild(item);</span>
<a href="#l76.20"></a><span id="l76.20"> }</span>
<a href="#l76.21"></a><span id="l76.21"> </span>
<a href="#l76.22"></a><span id="l76.22"> function ListFeedAccounts() {</span>
<a href="#l76.23"></a><span id="l76.23">   let body = document.getElementById(&quot;moduleList&quot;);</span>
<a href="#l76.24"></a><span id="l76.24">   while (body.hasChildNodes())</span>
<a href="#l76.25"></a><span id="l76.25">     body.lastChild.remove();</span>
<a href="#l76.26"></a><span id="l76.26"> </span>
<a href="#l76.27"></a><span id="l76.27">   // Add item to allow for new account creation.</span>
<a href="#l76.28"></a><span id="l76.28" class="difflineminus">-  let item = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l76.29"></a><span id="l76.29" class="difflineminus">-  let label = document.createElement(&quot;label&quot;);</span>
<a href="#l76.30"></a><span id="l76.30" class="difflineplus">+  let item = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l76.31"></a><span id="l76.31" class="difflineplus">+  let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l76.32"></a><span id="l76.32">   label.setAttribute(&quot;value&quot;, gFeedsBundle.getString(&quot;ImportFeedsCreateNewListItem&quot;));</span>
<a href="#l76.33"></a><span id="l76.33">   item.appendChild(label);</span>
<a href="#l76.34"></a><span id="l76.34">   item.setAttribute(&quot;list-index&quot;, 0);</span>
<a href="#l76.35"></a><span id="l76.35">   body.appendChild(item);</span>
<a href="#l76.36"></a><span id="l76.36"> </span>
<a href="#l76.37"></a><span id="l76.37">   let index = 0;</span>
<a href="#l76.38"></a><span id="l76.38">   let feedRootFolders = FeedUtils.getAllRssServerRootFolders();</span>
<a href="#l76.39"></a><span id="l76.39"> </span>
<a href="#l76.40"></a><span id="l76.40">   feedRootFolders.forEach(function(rootFolder) {</span>
<a href="#l76.41"></a><span id="l76.41" class="difflineminus">-    item = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l76.42"></a><span id="l76.42" class="difflineminus">-    let label = document.createElement(&quot;label&quot;);</span>
<a href="#l76.43"></a><span id="l76.43" class="difflineplus">+    item = document.createXULElement(&quot;richlistitem&quot;);</span>
<a href="#l76.44"></a><span id="l76.44" class="difflineplus">+    let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l76.45"></a><span id="l76.45">     label.setAttribute(&quot;value&quot;, rootFolder.prettyName);</span>
<a href="#l76.46"></a><span id="l76.46">     item.appendChild(label);</span>
<a href="#l76.47"></a><span id="l76.47">     item.setAttribute(&quot;list-index&quot;, ++index);</span>
<a href="#l76.48"></a><span id="l76.48">     item.server = rootFolder.server;</span>
<a href="#l76.49"></a><span id="l76.49">     body.appendChild(item);</span>
<a href="#l76.50"></a><span id="l76.50">   }, this);</span>
<a href="#l76.51"></a><span id="l76.51"> </span>
<a href="#l76.52"></a><span id="l76.52">   if (index)</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

