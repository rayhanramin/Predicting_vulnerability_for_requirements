<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 12824:3d83e962924d8b290f05682f873621bd261fe493</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 3d83e962924d8b290f05682f873621bd261fe493" />
<meta property="og:url" content="/comm-central/rev/3d83e962924d8b290f05682f873621bd261fe493" />
<meta property="og:description" content="Part of bug 896738 Make mailTestUtils.js its own module, and move the local account functions to a separate file. r=jcranmer. Part bustage fix for CLOSED TREE" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 3d83e962924d8b290f05682f873621bd261fe493 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/3d83e962924d8b290f05682f873621bd261fe493">shortlog</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/3d83e962924d8b290f05682f873621bd261fe493">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493">files</a> |
changeset |
<a href="/comm-central/raw-rev/3d83e962924d8b290f05682f873621bd261fe493">raw</a>  | <a href="/comm-central/archive/3d83e962924d8b290f05682f873621bd261fe493.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
Part of <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=896738">bug 896738</a> Make mailTestUtils.js its own module, and move the local account functions to a separate file. r=jcranmer. Part bustage fix for CLOSED TREE
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#77;&#97;&#114;&#107;&#32;&#66;&#97;&#110;&#110;&#101;&#114;&#32;&#60;&#98;&#117;&#103;&#122;&#105;&#108;&#108;&#97;&#64;&#115;&#116;&#97;&#110;&#100;&#97;&#114;&#100;&#56;&#46;&#112;&#108;&#117;&#115;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 01 Aug 2013 21:19:00 +0100</td></tr>

<tr>
 <td>changeset 12824</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/3d83e962924d8b290f05682f873621bd261fe493">3d83e962924d8b290f05682f873621bd261fe493</a></td>
</tr>



<tr>
<td>parent 12823</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/b26a399e5ded43c3ddb0ac2ce77231f42daefa6e">b26a399e5ded43c3ddb0ac2ce77231f42daefa6e</a>
</td>
</tr>

<tr>
<td>child 12825</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/65c33aac5dfb143ebaaf9893001f948033b27cf6">65c33aac5dfb143ebaaf9893001f948033b27cf6</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=3d83e962924d8b290f05682f873621bd261fe493">9372</a></td></tr>
<tr><td>push user</td><td>bugzilla@standard8.plus.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 01 Aug 2013 20:19:37 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@65c33aac5dfb [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=65c33aac5dfb143ebaaf9893001f948033b27cf6">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=65c33aac5dfb143ebaaf9893001f948033b27cf6&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=65c33aac5dfb143ebaaf9893001f948033b27cf6&newProject=comm-central&newRevision=97c76601c333ea1cfb1f1ee3eaeb858a490a7bc4&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=65c33aac5dfb143ebaaf9893001f948033b27cf6&newProject=comm-central&newRevision=97c76601c333ea1cfb1f1ee3eaeb858a490a7bc4&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=65c33aac5dfb143ebaaf9893001f948033b27cf6&newProject=comm-central&newRevision=97c76601c333ea1cfb1f1ee3eaeb858a490a7bc4&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28jcranmer%29&revcount=50">jcranmer</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=896738">896738</a></td></tr>




</table></div>

<div class="page_body description">Part of <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=896738">bug 896738</a> Make mailTestUtils.js its own module, and move the local account functions to a separate file. r=jcranmer. Part bustage fix for CLOSED TREE</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mail/base/test/unit/head_mailbase.js">mail/base/test/unit/head_mailbase.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mail/base/test/unit/head_mailbase.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mail/base/test/unit/head_mailbase.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mail/base/test/unit/head_mailbase.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mail/base/test/unit/head_mailbase.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mail/base/test/unit/head_mailbase.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/head_mailcomponents.js">mail/components/test/unit/head_mailcomponents.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/head_mailcomponents.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/head_mailcomponents.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/head_mailcomponents.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/head_mailcomponents.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/head_mailcomponents.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/test_about_support.js">mail/components/test/unit/test_about_support.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/test_about_support.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/test_about_support.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/test_about_support.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/test_about_support.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mail/components/test/unit/test_about_support.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/Makefile.in">mailnews/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/Makefile.in">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/Makefile.in">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/Makefile.in">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/Makefile.in">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/head_mailbase.js">mailnews/base/test/unit/head_mailbase.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/head_mailbase.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/head_mailbase.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/head_mailbase.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/head_mailbase.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/head_mailbase.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/test_bug434810.js">mailnews/base/test/unit/test_bug434810.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/test_bug434810.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/test_bug434810.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/test_bug434810.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/test_bug434810.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/base/test/unit/test_bug434810.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/compose/test/unit/head_compose.js">mailnews/compose/test/unit/head_compose.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/compose/test/unit/head_compose.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/compose/test/unit/head_compose.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/compose/test/unit/head_compose.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/compose/test/unit/head_compose.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/compose/test/unit/head_compose.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/head_gloda.js">mailnews/db/gloda/test/unit/head_gloda.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/head_gloda.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/head_gloda.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/head_gloda.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/head_gloda.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/head_gloda.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">mailnews/db/gloda/test/unit/resources/glodaTestHelper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_corrupt_database.js">mailnews/db/gloda/test/unit/test_corrupt_database.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_corrupt_database.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_corrupt_database.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_corrupt_database.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_corrupt_database.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_corrupt_database.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">mailnews/db/gloda/test/unit/test_mime_attachments_size.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_attachments_size.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_emitter.js">mailnews/db/gloda/test/unit/test_mime_emitter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_emitter.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_emitter.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_emitter.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_emitter.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/gloda/test/unit/test_mime_emitter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/head_maildb.js">mailnews/db/msgdb/test/unit/head_maildb.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/head_maildb.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/head_maildb.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/head_maildb.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/head_maildb.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/head_maildb.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/test_propertyEnumerator.js">mailnews/db/msgdb/test/unit/test_propertyEnumerator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/test_propertyEnumerator.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/test_propertyEnumerator.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/test_propertyEnumerator.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/test_propertyEnumerator.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/db/msgdb/test/unit/test_propertyEnumerator.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/head_server.js">mailnews/imap/test/unit/head_server.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/head_server.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/head_server.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/head_server.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/head_server.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/head_server.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_autosync_date_constraints.js">mailnews/imap/test/unit/test_autosync_date_constraints.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_autosync_date_constraints.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_autosync_date_constraints.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_autosync_date_constraints.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_autosync_date_constraints.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_autosync_date_constraints.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bccProperty.js">mailnews/imap/test/unit/test_bccProperty.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bccProperty.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bccProperty.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bccProperty.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bccProperty.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bccProperty.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bug460636.js">mailnews/imap/test/unit/test_bug460636.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bug460636.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bug460636.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bug460636.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bug460636.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_bug460636.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_chunkLastLF.js">mailnews/imap/test/unit/test_chunkLastLF.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_chunkLastLF.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_chunkLastLF.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_chunkLastLF.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_chunkLastLF.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_chunkLastLF.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_compactOfflineStore.js">mailnews/imap/test/unit/test_compactOfflineStore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_compactOfflineStore.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_compactOfflineStore.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_compactOfflineStore.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_compactOfflineStore.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_compactOfflineStore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_copyThenMove.js">mailnews/imap/test/unit/test_copyThenMove.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_copyThenMove.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_copyThenMove.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_copyThenMove.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_copyThenMove.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_copyThenMove.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dod.js">mailnews/imap/test/unit/test_dod.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dod.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dod.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dod.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dod.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dod.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dontStatNoSelect.js">mailnews/imap/test/unit/test_dontStatNoSelect.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dontStatNoSelect.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dontStatNoSelect.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dontStatNoSelect.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dontStatNoSelect.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_dontStatNoSelect.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_downloadOffline.js">mailnews/imap/test/unit/test_downloadOffline.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_downloadOffline.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_downloadOffline.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_downloadOffline.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_downloadOffline.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_downloadOffline.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_fetchCustomAttribute.js">mailnews/imap/test/unit/test_fetchCustomAttribute.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_fetchCustomAttribute.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_fetchCustomAttribute.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_fetchCustomAttribute.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_fetchCustomAttribute.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_fetchCustomAttribute.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterCustomHeaders.js">mailnews/imap/test/unit/test_filterCustomHeaders.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterCustomHeaders.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterCustomHeaders.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterCustomHeaders.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterCustomHeaders.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterCustomHeaders.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterNeedsBody.js">mailnews/imap/test/unit/test_filterNeedsBody.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterNeedsBody.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterNeedsBody.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterNeedsBody.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterNeedsBody.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_filterNeedsBody.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_folderOfflineFlags.js">mailnews/imap/test/unit/test_folderOfflineFlags.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_folderOfflineFlags.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_folderOfflineFlags.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_folderOfflineFlags.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_folderOfflineFlags.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_folderOfflineFlags.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailAttributes.js">mailnews/imap/test/unit/test_gmailAttributes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailAttributes.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailAttributes.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailAttributes.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailAttributes.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailAttributes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">mailnews/imap/test/unit/test_gmailOfflineMsgStore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapAttachmentSaves.js">mailnews/imap/test/unit/test_imapAttachmentSaves.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapAttachmentSaves.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapAttachmentSaves.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapAttachmentSaves.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapAttachmentSaves.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapAttachmentSaves.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapChunks.js">mailnews/imap/test/unit/test_imapChunks.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapChunks.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapChunks.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapChunks.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapChunks.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapChunks.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapContentLength.js">mailnews/imap/test/unit/test_imapContentLength.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapContentLength.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapContentLength.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapContentLength.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapContentLength.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapContentLength.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapCopyTimeout.js">mailnews/imap/test/unit/test_imapCopyTimeout.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapCopyTimeout.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapCopyTimeout.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapCopyTimeout.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapCopyTimeout.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapCopyTimeout.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFlagChange.js">mailnews/imap/test/unit/test_imapFlagChange.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFlagChange.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFlagChange.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFlagChange.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFlagChange.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFlagChange.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFolderCopy.js">mailnews/imap/test/unit/test_imapFolderCopy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFolderCopy.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFolderCopy.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFolderCopy.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFolderCopy.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapFolderCopy.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrChunking.js">mailnews/imap/test/unit/test_imapHdrChunking.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrChunking.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrChunking.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrChunking.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrChunking.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrChunking.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrStreaming.js">mailnews/imap/test/unit/test_imapHdrStreaming.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrStreaming.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrStreaming.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrStreaming.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrStreaming.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHdrStreaming.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHighWater.js">mailnews/imap/test/unit/test_imapHighWater.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHighWater.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHighWater.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHighWater.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHighWater.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapHighWater.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapID.js">mailnews/imap/test/unit/test_imapID.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapID.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapID.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapID.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapID.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapID.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapMove.js">mailnews/imap/test/unit/test_imapMove.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapMove.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapMove.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapMove.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapMove.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapMove.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapSearch.js">mailnews/imap/test/unit/test_imapSearch.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapSearch.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapSearch.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapSearch.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapSearch.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapSearch.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStatusCloseDBs.js">mailnews/imap/test/unit/test_imapStatusCloseDBs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStatusCloseDBs.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStatusCloseDBs.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStatusCloseDBs.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStatusCloseDBs.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStatusCloseDBs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">mailnews/imap/test/unit/test_imapStoreMsgOffline.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapStoreMsgOffline.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapUndo.js">mailnews/imap/test/unit/test_imapUndo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapUndo.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapUndo.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapUndo.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapUndo.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_imapUndo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_largeOfflineStore.js">mailnews/imap/test/unit/test_largeOfflineStore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_largeOfflineStore.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_largeOfflineStore.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_largeOfflineStore.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_largeOfflineStore.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_largeOfflineStore.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listClosesDB.js">mailnews/imap/test/unit/test_listClosesDB.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listClosesDB.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listClosesDB.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listClosesDB.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listClosesDB.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listClosesDB.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listSubscribed.js">mailnews/imap/test/unit/test_listSubscribed.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listSubscribed.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listSubscribed.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listSubscribed.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listSubscribed.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_listSubscribed.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilter.js">mailnews/imap/test/unit/test_localToImapFilter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilter.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilter.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilter.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilter.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">mailnews/imap/test/unit/test_localToImapFilterQuarantine.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_lsub.js">mailnews/imap/test/unit/test_lsub.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_lsub.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_lsub.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_lsub.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_lsub.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_lsub.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_mailboxes.js">mailnews/imap/test/unit/test_mailboxes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_mailboxes.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_mailboxes.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_mailboxes.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_mailboxes.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_mailboxes.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineCopy.js">mailnews/imap/test/unit/test_offlineCopy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineCopy.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineCopy.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineCopy.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineCopy.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineCopy.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineDraftDataloss.js">mailnews/imap/test/unit/test_offlineDraftDataloss.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineDraftDataloss.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineDraftDataloss.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineDraftDataloss.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineDraftDataloss.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineDraftDataloss.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlinePlayback.js">mailnews/imap/test/unit/test_offlinePlayback.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlinePlayback.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlinePlayback.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlinePlayback.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlinePlayback.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlinePlayback.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineStoreLocking.js">mailnews/imap/test/unit/test_offlineStoreLocking.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineStoreLocking.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineStoreLocking.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineStoreLocking.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineStoreLocking.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_offlineStoreLocking.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_partsOnDemand.js">mailnews/imap/test/unit/test_partsOnDemand.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_partsOnDemand.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_partsOnDemand.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_partsOnDemand.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_partsOnDemand.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_partsOnDemand.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_preserveDataOnMove.js">mailnews/imap/test/unit/test_preserveDataOnMove.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_preserveDataOnMove.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_preserveDataOnMove.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_preserveDataOnMove.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_preserveDataOnMove.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_preserveDataOnMove.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveImapDraft.js">mailnews/imap/test/unit/test_saveImapDraft.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveImapDraft.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveImapDraft.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveImapDraft.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveImapDraft.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveImapDraft.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveTemplate.js">mailnews/imap/test/unit/test_saveTemplate.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveTemplate.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveTemplate.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveTemplate.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveTemplate.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_saveTemplate.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_syncChanges.js">mailnews/imap/test/unit/test_syncChanges.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_syncChanges.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_syncChanges.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_syncChanges.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_syncChanges.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_syncChanges.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_trustSpamAssassin.js">mailnews/imap/test/unit/test_trustSpamAssassin.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_trustSpamAssassin.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_trustSpamAssassin.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_trustSpamAssassin.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_trustSpamAssassin.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/imap/test/unit/test_trustSpamAssassin.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/head_maillocal.js">mailnews/local/test/unit/head_maillocal.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/head_maillocal.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/head_maillocal.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/head_maillocal.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/head_maillocal.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/head_maillocal.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_folderLoaded.js">mailnews/local/test/unit/test_folderLoaded.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_folderLoaded.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_folderLoaded.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_folderLoaded.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_folderLoaded.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_folderLoaded.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_msgIDParsing.js">mailnews/local/test/unit/test_msgIDParsing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_msgIDParsing.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_msgIDParsing.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_msgIDParsing.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_msgIDParsing.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_msgIDParsing.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_over4GBMailboxes.js">mailnews/local/test/unit/test_over4GBMailboxes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_over4GBMailboxes.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_over4GBMailboxes.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_over4GBMailboxes.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_over4GBMailboxes.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_over4GBMailboxes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure2.js">mailnews/local/test/unit/test_pop3PasswordFailure2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure2.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure2.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure2.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure2.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure3.js">mailnews/local/test/unit/test_pop3PasswordFailure3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure3.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure3.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure3.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure3.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_pop3PasswordFailure3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_saveMessage.js">mailnews/local/test/unit/test_saveMessage.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_saveMessage.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_saveMessage.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_saveMessage.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_saveMessage.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_saveMessage.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_streamHeaders.js">mailnews/local/test/unit/test_streamHeaders.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_streamHeaders.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_streamHeaders.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_streamHeaders.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_streamHeaders.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/local/test/unit/test_streamHeaders.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/head_mime.js">mailnews/mime/test/unit/head_mime.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/head_mime.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/head_mime.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/head_mime.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/head_mime.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/head_mime.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_attachment_size.js">mailnews/mime/test/unit/test_attachment_size.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_attachment_size.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_attachment_size.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_attachment_size.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_attachment_size.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_attachment_size.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_badContentType.js">mailnews/mime/test/unit/test_badContentType.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_badContentType.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_badContentType.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_badContentType.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_badContentType.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_badContentType.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_hidden_attachments.js">mailnews/mime/test/unit/test_hidden_attachments.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_hidden_attachments.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_hidden_attachments.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_hidden_attachments.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_hidden_attachments.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_hidden_attachments.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_message_attachment.js">mailnews/mime/test/unit/test_message_attachment.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_message_attachment.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_message_attachment.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_message_attachment.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_message_attachment.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_message_attachment.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_mimeStreaming.js">mailnews/mime/test/unit/test_mimeStreaming.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_mimeStreaming.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_mimeStreaming.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_mimeStreaming.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_mimeStreaming.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_mimeStreaming.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_rfc822_body.js">mailnews/mime/test/unit/test_rfc822_body.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_rfc822_body.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_rfc822_body.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_rfc822_body.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_rfc822_body.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_rfc822_body.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_text_attachment.js">mailnews/mime/test/unit/test_text_attachment.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_text_attachment.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_text_attachment.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_text_attachment.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_text_attachment.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/mime/test/unit/test_text_attachment.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/head_server_setup.js">mailnews/news/test/unit/head_server_setup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/head_server_setup.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/head_server_setup.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/head_server_setup.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/head_server_setup.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/head_server_setup.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/test_nntpPassword3.js">mailnews/news/test/unit/test_nntpPassword3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/test_nntpPassword3.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/test_nntpPassword3.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/test_nntpPassword3.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/test_nntpPassword3.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/news/test/unit/test_nntpPassword3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/IMAPpump.js">mailnews/test/resources/IMAPpump.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/IMAPpump.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/IMAPpump.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/IMAPpump.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/IMAPpump.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/IMAPpump.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/POP3pump.js">mailnews/test/resources/POP3pump.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/POP3pump.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/POP3pump.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/POP3pump.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/POP3pump.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/POP3pump.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/localAccountUtils.js">mailnews/test/resources/localAccountUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/localAccountUtils.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/localAccountUtils.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/localAccountUtils.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/localAccountUtils.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/localAccountUtils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/mailTestUtils.js">mailnews/test/resources/mailTestUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/mailTestUtils.js">file</a> |
<a href="/comm-central/annotate/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/mailTestUtils.js">annotate</a> |
<a href="/comm-central/diff/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/mailTestUtils.js">diff</a> |
<a href="/comm-central/comparison/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/mailTestUtils.js">comparison</a> |
<a href="/comm-central/log/3d83e962924d8b290f05682f873621bd261fe493/mailnews/test/resources/mailTestUtils.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/base/test/unit/head_mailbase.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/base/test/unit/head_mailbase.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,15 +1,14 @@</span>
<a href="#l1.4"></a><span id="l1.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l1.5"></a><span id="l1.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l1.6"></a><span id="l1.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l1.7"></a><span id="l1.7"> Components.utils.import(&quot;resource://testing-common/mailnews/mailDirService.js&quot;);</span>
<a href="#l1.8"></a><span id="l1.8" class="difflineplus">+Components.utils.import(&quot;resource://testing-common/mailnews/mailTestUtils.js&quot;);</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10"> var Cc = Components.classes;</span>
<a href="#l1.11"></a><span id="l1.11"> var Ci = Components.interfaces;</span>
<a href="#l1.12"></a><span id="l1.12"> var Cr = Components.results;</span>
<a href="#l1.13"></a><span id="l1.13"> var CC = Components.Constructor;</span>
<a href="#l1.14"></a><span id="l1.14"> </span>
<a href="#l1.15"></a><span id="l1.15"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l1.16"></a><span id="l1.16"> </span>
<a href="#l1.17"></a><span id="l1.17"> var gDEPTH = &quot;../../../../&quot;;</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">-</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-load(&quot;../../../../mailnews/resources/mailTestUtils.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/components/test/unit/head_mailcomponents.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/components/test/unit/head_mailcomponents.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -1,15 +1,14 @@</span>
<a href="#l2.4"></a><span id="l2.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l2.5"></a><span id="l2.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l2.6"></a><span id="l2.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l2.7"></a><span id="l2.7"> Components.utils.import(&quot;resource://testing-common/mailnews/mailDirService.js&quot;);</span>
<a href="#l2.8"></a><span id="l2.8" class="difflineplus">+Components.utils.import(&quot;resource://testing-common/mailnews/mailTestUtils.js&quot;);</span>
<a href="#l2.9"></a><span id="l2.9"> </span>
<a href="#l2.10"></a><span id="l2.10"> var Cc = Components.classes;</span>
<a href="#l2.11"></a><span id="l2.11"> var Ci = Components.interfaces;</span>
<a href="#l2.12"></a><span id="l2.12"> var Cr = Components.results;</span>
<a href="#l2.13"></a><span id="l2.13"> var CC = Components.Constructor;</span>
<a href="#l2.14"></a><span id="l2.14"> </span>
<a href="#l2.15"></a><span id="l2.15"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17"> var gDEPTH = &quot;../../../../&quot;;</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-load(&quot;../../../../mailnews/resources/mailTestUtils.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/components/test/unit/test_about_support.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/components/test/unit/test_about_support.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l3.4"></a><span id="l3.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.5"></a><span id="l3.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.6"></a><span id="l3.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8" class="difflineplus">+load(&quot;../../../../mailnews/resources/localAccountUtils.js&quot;);</span>
<a href="#l3.9"></a><span id="l3.9" class="difflineplus">+</span>
<a href="#l3.10"></a><span id="l3.10"> /*</span>
<a href="#l3.11"></a><span id="l3.11">  * Test the about:support module.</span>
<a href="#l3.12"></a><span id="l3.12">  */</span>
<a href="#l3.13"></a><span id="l3.13"> </span>
<a href="#l3.14"></a><span id="l3.14"> let gAccountList = [{</span>
<a href="#l3.15"></a><span id="l3.15">   type: &quot;pop3&quot;,</span>
<a href="#l3.16"></a><span id="l3.16">   port: 1234,</span>
<a href="#l3.17"></a><span id="l3.17">   user: &quot;pop3user&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mailnews/Makefile.in</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mailnews/Makefile.in</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -17,16 +17,17 @@ DEFINES += -DOS_ARCH=$(OS_ARCH) \</span>
<a href="#l4.4"></a><span id="l4.4">            -DNO_NSPR_10_SUPPORT \</span>
<a href="#l4.5"></a><span id="l4.5">            $(NULL)</span>
<a href="#l4.6"></a><span id="l4.6"> </span>
<a href="#l4.7"></a><span id="l4.7"> ifdef ENABLE_TESTS</span>
<a href="#l4.8"></a><span id="l4.8"> RESDIR = $(srcdir)/test/resources</span>
<a href="#l4.9"></a><span id="l4.9"> TESTING_JS_MODULE_DIR = mailnews</span>
<a href="#l4.10"></a><span id="l4.10"> TESTING_JS_MODULES += \</span>
<a href="#l4.11"></a><span id="l4.11"> 	$(RESDIR)/mailDirService.js \</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+	$(RESDIR)/mailTestUtils.js \</span>
<a href="#l4.13"></a><span id="l4.13"> 	$(NULL)</span>
<a href="#l4.14"></a><span id="l4.14"> endif</span>
<a href="#l4.15"></a><span id="l4.15"> </span>
<a href="#l4.16"></a><span id="l4.16"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l4.17"></a><span id="l4.17"> </span>
<a href="#l4.18"></a><span id="l4.18"> ifdef ENABLE_TESTS</span>
<a href="#l4.19"></a><span id="l4.19"> libs::</span>
<a href="#l4.20"></a><span id="l4.20"> 	$(INSTALL) $(wildcard $(srcdir)/test/resources/*.js) $(MOZDEPTH)/_tests/xpcshell/mailnews/resources</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mailnews/base/test/unit/head_mailbase.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mailnews/base/test/unit/head_mailbase.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l5.4"></a><span id="l5.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l5.5"></a><span id="l5.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l5.6"></a><span id="l5.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l5.7"></a><span id="l5.7"> Components.utils.import(&quot;resource://testing-common/mailnews/mailDirService.js&quot;);</span>
<a href="#l5.8"></a><span id="l5.8" class="difflineplus">+Components.utils.import(&quot;resource://testing-common/mailnews/mailTestUtils.js&quot;);</span>
<a href="#l5.9"></a><span id="l5.9"> </span>
<a href="#l5.10"></a><span id="l5.10"> var Cc = Components.classes;</span>
<a href="#l5.11"></a><span id="l5.11"> var Ci = Components.interfaces;</span>
<a href="#l5.12"></a><span id="l5.12"> var Cr = Components.results;</span>
<a href="#l5.13"></a><span id="l5.13"> var CC = Components.Constructor;</span>
<a href="#l5.14"></a><span id="l5.14"> </span>
<a href="#l5.15"></a><span id="l5.15"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l5.16"></a><span id="l5.16"> </span>
<a href="#l5.17"></a><span id="l5.17"> var gDEPTH = &quot;../../../../&quot;;</span>
<a href="#l5.18"></a><span id="l5.18"> </span>
<a href="#l5.19"></a><span id="l5.19" class="difflineminus">-load(&quot;../../../../mailnews/resources/mailTestUtils.js&quot;);</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+load(&quot;../../../../mailnews/resources/localAccountUtils.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mailnews/base/test/unit/test_bug434810.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mailnews/base/test/unit/test_bug434810.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -9,17 +9,17 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l6.4"></a><span id="l6.4"> function run_test()</span>
<a href="#l6.5"></a><span id="l6.5"> {</span>
<a href="#l6.6"></a><span id="l6.6">   loadLocalMailAccount();</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8">   var rootFolder = gLocalIncomingServer.rootFolder;</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10">   var msgProps = Services.strings.createBundle(&quot;chrome://messenger/locale/messenger.properties&quot;);</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-  var expectedFolders = [ &quot;Inbox&quot; ]; // Inbox hard-coded in mailTestUtils.js</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+  var expectedFolders = [ &quot;Inbox&quot; ]; // Inbox hard-coded in localAccountUtils.js</span>
<a href="#l6.14"></a><span id="l6.14"> </span>
<a href="#l6.15"></a><span id="l6.15">   // These two MailNews adds by default</span>
<a href="#l6.16"></a><span id="l6.16">   expectedFolders.push(msgProps.GetStringFromName(&quot;outboxFolderName&quot;));</span>
<a href="#l6.17"></a><span id="l6.17">   expectedFolders.push(msgProps.GetStringFromName(&quot;trashFolderName&quot;));</span>
<a href="#l6.18"></a><span id="l6.18"> </span>
<a href="#l6.19"></a><span id="l6.19">   do_check_eq(rootFolder.numSubFolders, expectedFolders.length);</span>
<a href="#l6.20"></a><span id="l6.20">   for (var i = 0; i &lt; expectedFolders.length; ++i)</span>
<a href="#l6.21"></a><span id="l6.21">     do_check_true(rootFolder.containsChildNamed(expectedFolders[i]));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mailnews/compose/test/unit/head_compose.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mailnews/compose/test/unit/head_compose.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1,39 +1,40 @@</span>
<a href="#l7.4"></a><span id="l7.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l7.5"></a><span id="l7.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l7.6"></a><span id="l7.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l7.7"></a><span id="l7.7"> Components.utils.import(&quot;resource://testing-common/mailnews/mailDirService.js&quot;);</span>
<a href="#l7.8"></a><span id="l7.8" class="difflineplus">+Components.utils.import(&quot;resource://testing-common/mailnews/mailTestUtils.js&quot;);</span>
<a href="#l7.9"></a><span id="l7.9"> </span>
<a href="#l7.10"></a><span id="l7.10"> var Cc = Components.classes;</span>
<a href="#l7.11"></a><span id="l7.11"> var Ci = Components.interfaces;</span>
<a href="#l7.12"></a><span id="l7.12"> var Cr = Components.results;</span>
<a href="#l7.13"></a><span id="l7.13"> var CC = Components.Constructor;</span>
<a href="#l7.14"></a><span id="l7.14"> </span>
<a href="#l7.15"></a><span id="l7.15"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineplus">+load(&quot;../../../resources/localAccountUtils.js&quot;);</span>
<a href="#l7.19"></a><span id="l7.19"> </span>
<a href="#l7.20"></a><span id="l7.20"> // Import the required setup scripts.</span>
<a href="#l7.21"></a><span id="l7.21"> load(&quot;../../../resources/abSetup.js&quot;);</span>
<a href="#l7.22"></a><span id="l7.22"> </span>
<a href="#l7.23"></a><span id="l7.23"> // Import the smtp server scripts</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineminus">-load(&quot;../../../fakeserver/maild.js&quot;)</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineminus">-load(&quot;../../../fakeserver/auth.js&quot;)</span>
<a href="#l7.26"></a><span id="l7.26" class="difflineminus">-load(&quot;../../../fakeserver/smtpd.js&quot;)</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineplus">+load(&quot;../../../fakeserver/maild.js&quot;);</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineplus">+load(&quot;../../../fakeserver/auth.js&quot;);</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineplus">+load(&quot;../../../fakeserver/smtpd.js&quot;);</span>
<a href="#l7.30"></a><span id="l7.30"> </span>
<a href="#l7.31"></a><span id="l7.31"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l7.32"></a><span id="l7.32"> </span>
<a href="#l7.33"></a><span id="l7.33"> const SMTP_PORT = 1024+120;</span>
<a href="#l7.34"></a><span id="l7.34"> var gDraftFolder;</span>
<a href="#l7.35"></a><span id="l7.35"> </span>
<a href="#l7.36"></a><span id="l7.36"> // Setup the daemon and server</span>
<a href="#l7.37"></a><span id="l7.37"> function setupServerDaemon(handler) {</span>
<a href="#l7.38"></a><span id="l7.38">   if (!handler)</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineminus">-    handler = function (d) { return new SMTP_RFC2821_handler(d); }</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineplus">+    handler = function (d) { return new SMTP_RFC2821_handler(d); };</span>
<a href="#l7.41"></a><span id="l7.41">   var server = new nsMailServer(handler, new smtpDaemon());</span>
<a href="#l7.42"></a><span id="l7.42">   return server;</span>
<a href="#l7.43"></a><span id="l7.43"> }</span>
<a href="#l7.44"></a><span id="l7.44"> </span>
<a href="#l7.45"></a><span id="l7.45"> function getBasicSmtpServer() {</span>
<a href="#l7.46"></a><span id="l7.46">   let server = create_outgoing_server(SMTP_PORT, &quot;user&quot;, &quot;password&quot;);</span>
<a href="#l7.47"></a><span id="l7.47"> </span>
<a href="#l7.48"></a><span id="l7.48">   // Override the default greeting so we get something predicitable</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/head_gloda.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/head_gloda.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,12 +1,13 @@</span>
<a href="#l8.4"></a><span id="l8.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l8.5"></a><span id="l8.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l8.6"></a><span id="l8.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l8.7"></a><span id="l8.7"> Components.utils.import(&quot;resource://testing-common/mailnews/mailDirService.js&quot;);</span>
<a href="#l8.8"></a><span id="l8.8" class="difflineplus">+Components.utils.import(&quot;resource://testing-common/mailnews/mailTestUtils.js&quot;);</span>
<a href="#l8.9"></a><span id="l8.9"> </span>
<a href="#l8.10"></a><span id="l8.10"> var Cc = Components.classes;</span>
<a href="#l8.11"></a><span id="l8.11"> var Ci = Components.interfaces;</span>
<a href="#l8.12"></a><span id="l8.12"> var Cr = Components.results;</span>
<a href="#l8.13"></a><span id="l8.13"> var CC = Components.Constructor;</span>
<a href="#l8.14"></a><span id="l8.14"> </span>
<a href="#l8.15"></a><span id="l8.15"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l8.16"></a><span id="l8.16"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/resources/glodaTestHelper.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -21,17 +21,16 @@</span>
<a href="#l9.4"></a><span id="l9.4">  */</span>
<a href="#l9.5"></a><span id="l9.5"> </span>
<a href="#l9.6"></a><span id="l9.6"> // Services</span>
<a href="#l9.7"></a><span id="l9.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l9.8"></a><span id="l9.8"> // MailServices</span>
<a href="#l9.9"></a><span id="l9.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> // Import the main scripts that mailnews tests need to set up and tear down</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-load(&quot;../../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l9.13"></a><span id="l9.13"> load(&quot;../../../../resources/abSetup.js&quot;);</span>
<a href="#l9.14"></a><span id="l9.14"> load(&quot;../../../../resources/logHelper.js&quot;);</span>
<a href="#l9.15"></a><span id="l9.15"> load(&quot;../../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l9.16"></a><span id="l9.16"> </span>
<a href="#l9.17"></a><span id="l9.17"> load(&quot;../../../../resources/messageGenerator.js&quot;);</span>
<a href="#l9.18"></a><span id="l9.18"> load(&quot;../../../../resources/messageModifier.js&quot;);</span>
<a href="#l9.19"></a><span id="l9.19"> load(&quot;../../../../resources/messageInjection.js&quot;);</span>
<a href="#l9.20"></a><span id="l9.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_corrupt_database.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_corrupt_database.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -7,17 +7,16 @@</span>
<a href="#l10.4"></a><span id="l10.4">  * 1) We need to do things as part of the test without gloda having remotely</span>
<a href="#l10.5"></a><span id="l10.5">  *    thought about opening the database.</span>
<a href="#l10.6"></a><span id="l10.6">  * 2) We expect and desire that the logger produce a warning and glodaTestHelper</span>
<a href="#l10.7"></a><span id="l10.7">  *    takes the view that warnings = death.</span>
<a href="#l10.8"></a><span id="l10.8">  *</span>
<a href="#l10.9"></a><span id="l10.9">  * We do use the rest of the test infrastructure though.</span>
<a href="#l10.10"></a><span id="l10.10">  */</span>
<a href="#l10.11"></a><span id="l10.11"> </span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-load(&quot;../../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l10.13"></a><span id="l10.13"> load(&quot;../../../../resources/logHelper.js&quot;);</span>
<a href="#l10.14"></a><span id="l10.14"> load(&quot;../../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l10.15"></a><span id="l10.15"> </span>
<a href="#l10.16"></a><span id="l10.16"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l10.17"></a><span id="l10.17"> </span>
<a href="#l10.18"></a><span id="l10.18"> // -- Do configure the gloda prefs though...</span>
<a href="#l10.19"></a><span id="l10.19"> // yes to indexing</span>
<a href="#l10.20"></a><span id="l10.20"> Services.prefs.setBoolPref(&quot;mailnews.database.global.indexer.enabled&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_mime_attachments_size.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_mime_attachments_size.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -7,17 +7,16 @@</span>
<a href="#l11.4"></a><span id="l11.4">  * is streamed to us is actually labeled with the right size.</span>
<a href="#l11.5"></a><span id="l11.5">  */</span>
<a href="#l11.6"></a><span id="l11.6"> </span>
<a href="#l11.7"></a><span id="l11.7"> /*</span>
<a href="#l11.8"></a><span id="l11.8">  * Do not include glodaTestHelper because we do not want gloda loaded and it</span>
<a href="#l11.9"></a><span id="l11.9">  *  adds a lot of runtime overhead which makes certain debugging strategies like</span>
<a href="#l11.10"></a><span id="l11.10">  *  using chronicle-recorder impractical.</span>
<a href="#l11.11"></a><span id="l11.11">  */</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-load(&quot;../../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l11.13"></a><span id="l11.13"> load(&quot;../../../../resources/logHelper.js&quot;);</span>
<a href="#l11.14"></a><span id="l11.14"> load(&quot;../../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l11.15"></a><span id="l11.15"> </span>
<a href="#l11.16"></a><span id="l11.16"> load(&quot;../../../../resources/messageGenerator.js&quot;);</span>
<a href="#l11.17"></a><span id="l11.17"> load(&quot;../../../../resources/messageModifier.js&quot;);</span>
<a href="#l11.18"></a><span id="l11.18"> load(&quot;../../../../resources/messageInjection.js&quot;);</span>
<a href="#l11.19"></a><span id="l11.19"> </span>
<a href="#l11.20"></a><span id="l11.20"> Components.utils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_mime_emitter.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_mime_emitter.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -12,17 +12,16 @@</span>
<a href="#l12.4"></a><span id="l12.4">  * - sun attachment</span>
<a href="#l12.5"></a><span id="l12.5">  */</span>
<a href="#l12.6"></a><span id="l12.6"> </span>
<a href="#l12.7"></a><span id="l12.7"> /*</span>
<a href="#l12.8"></a><span id="l12.8">  * Do not include glodaTestHelper because we do not want gloda loaded and it</span>
<a href="#l12.9"></a><span id="l12.9">  *  adds a lot of runtime overhead which makes certain debugging strategies like</span>
<a href="#l12.10"></a><span id="l12.10">  *  using chronicle-recorder impractical.</span>
<a href="#l12.11"></a><span id="l12.11">  */</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-load(&quot;../../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l12.13"></a><span id="l12.13"> load(&quot;../../../../resources/logHelper.js&quot;);</span>
<a href="#l12.14"></a><span id="l12.14"> load(&quot;../../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l12.15"></a><span id="l12.15"> </span>
<a href="#l12.16"></a><span id="l12.16"> load(&quot;../../../../resources/messageGenerator.js&quot;);</span>
<a href="#l12.17"></a><span id="l12.17"> load(&quot;../../../../resources/messageModifier.js&quot;);</span>
<a href="#l12.18"></a><span id="l12.18"> load(&quot;../../../../resources/messageInjection.js&quot;);</span>
<a href="#l12.19"></a><span id="l12.19"> </span>
<a href="#l12.20"></a><span id="l12.20"> // Create a message generator</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mailnews/db/msgdb/test/unit/head_maildb.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mailnews/db/msgdb/test/unit/head_maildb.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -1,14 +1,15 @@</span>
<a href="#l13.4"></a><span id="l13.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l13.5"></a><span id="l13.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l13.6"></a><span id="l13.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l13.7"></a><span id="l13.7"> Components.utils.import(&quot;resource://testing-common/mailnews/mailDirService.js&quot;);</span>
<a href="#l13.8"></a><span id="l13.8" class="difflineplus">+Components.utils.import(&quot;resource://testing-common/mailnews/mailTestUtils.js&quot;);</span>
<a href="#l13.9"></a><span id="l13.9"> </span>
<a href="#l13.10"></a><span id="l13.10"> var Cc = Components.classes;</span>
<a href="#l13.11"></a><span id="l13.11"> var Ci = Components.interfaces;</span>
<a href="#l13.12"></a><span id="l13.12"> var Cr = Components.results;</span>
<a href="#l13.13"></a><span id="l13.13"> var CC = Components.Constructor;</span>
<a href="#l13.14"></a><span id="l13.14"> </span>
<a href="#l13.15"></a><span id="l13.15"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l13.16"></a><span id="l13.16"> </span>
<a href="#l13.17"></a><span id="l13.17"> // Import the main scripts that mailnews tests need to set up and tear down</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineminus">-load(&quot;../../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineplus">+load(&quot;../../../../resources/localAccountUtils.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mailnews/db/msgdb/test/unit/test_propertyEnumerator.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mailnews/db/msgdb/test/unit/test_propertyEnumerator.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -1,16 +1,14 @@</span>
<a href="#l14.4"></a><span id="l14.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.5"></a><span id="l14.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.6"></a><span id="l14.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8">  // tests propertyEnumerator in nsIMsgDBHdr;</span>
<a href="#l14.9"></a><span id="l14.9"> </span>
<a href="#l14.10"></a><span id="l14.10" class="difflineminus">-load(&quot;../../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineminus">-</span>
<a href="#l14.12"></a><span id="l14.12"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l14.13"></a><span id="l14.13"> </span>
<a href="#l14.14"></a><span id="l14.14"> var gHdr;</span>
<a href="#l14.15"></a><span id="l14.15"> </span>
<a href="#l14.16"></a><span id="l14.16"> function run_test() {</span>
<a href="#l14.17"></a><span id="l14.17">   loadLocalMailAccount();</span>
<a href="#l14.18"></a><span id="l14.18">   // Get a message into the local filestore.</span>
<a href="#l14.19"></a><span id="l14.19">   // Function continue_test() continues the testing after the copy.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/test/unit/head_bayes.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -1,22 +1,23 @@</span>
<a href="#l15.4"></a><span id="l15.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l15.5"></a><span id="l15.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l15.6"></a><span id="l15.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l15.7"></a><span id="l15.7"> Components.utils.import(&quot;resource://testing-common/mailnews/mailDirService.js&quot;);</span>
<a href="#l15.8"></a><span id="l15.8" class="difflineplus">+Components.utils.import(&quot;resource://testing-common/mailnews/mailTestUtils.js&quot;);</span>
<a href="#l15.9"></a><span id="l15.9"> </span>
<a href="#l15.10"></a><span id="l15.10"> var Cc = Components.classes;</span>
<a href="#l15.11"></a><span id="l15.11"> var Ci = Components.interfaces;</span>
<a href="#l15.12"></a><span id="l15.12"> var Cr = Components.results;</span>
<a href="#l15.13"></a><span id="l15.13"> var CC = Components.Constructor;</span>
<a href="#l15.14"></a><span id="l15.14"> </span>
<a href="#l15.15"></a><span id="l15.15"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l15.16"></a><span id="l15.16"> </span>
<a href="#l15.17"></a><span id="l15.17"> // Import the main scripts that mailnews tests need to set up and tear down</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineminus">-load(&quot;../../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineplus">+load(&quot;../../../../resources/localAccountUtils.js&quot;);</span>
<a href="#l15.20"></a><span id="l15.20"> </span>
<a href="#l15.21"></a><span id="l15.21"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l15.22"></a><span id="l15.22"> </span>
<a href="#l15.23"></a><span id="l15.23"> function getSpec(aFileName)</span>
<a href="#l15.24"></a><span id="l15.24"> {</span>
<a href="#l15.25"></a><span id="l15.25">   var file = do_get_file(&quot;resources/&quot; + aFileName);</span>
<a href="#l15.26"></a><span id="l15.26">   var uri = Services.io.newFileURI(file).QueryInterface(Ci.nsIURL);</span>
<a href="#l15.27"></a><span id="l15.27">   uri.query = &quot;type=application/x-message-display&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mailnews/imap/test/unit/head_server.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mailnews/imap/test/unit/head_server.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -2,31 +2,32 @@</span>
<a href="#l16.4"></a><span id="l16.4"> // Provide gDEPTH if not already defined</span>
<a href="#l16.5"></a><span id="l16.5"> if (typeof gDEPTH == &quot;undefined&quot;)</span>
<a href="#l16.6"></a><span id="l16.6">   var gDEPTH = &quot;../../../../&quot;;</span>
<a href="#l16.7"></a><span id="l16.7"> </span>
<a href="#l16.8"></a><span id="l16.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l16.9"></a><span id="l16.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l16.10"></a><span id="l16.10"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l16.11"></a><span id="l16.11"> Components.utils.import(&quot;resource://testing-common/mailnews/mailDirService.js&quot;);</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+Components.utils.import(&quot;resource://testing-common/mailnews/mailTestUtils.js&quot;);</span>
<a href="#l16.13"></a><span id="l16.13"> </span>
<a href="#l16.14"></a><span id="l16.14"> var Cc = Components.classes;</span>
<a href="#l16.15"></a><span id="l16.15"> var Ci = Components.interfaces;</span>
<a href="#l16.16"></a><span id="l16.16"> var Cr = Components.results;</span>
<a href="#l16.17"></a><span id="l16.17"> var CC = Components.Constructor;</span>
<a href="#l16.18"></a><span id="l16.18"> </span>
<a href="#l16.19"></a><span id="l16.19"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l16.20"></a><span id="l16.20"> </span>
<a href="#l16.21"></a><span id="l16.21"> // Import fakeserver</span>
<a href="#l16.22"></a><span id="l16.22"> load(gDEPTH + &quot;mailnews/fakeserver/maild.js&quot;);</span>
<a href="#l16.23"></a><span id="l16.23"> load(gDEPTH + &quot;mailnews/fakeserver/auth.js&quot;);</span>
<a href="#l16.24"></a><span id="l16.24"> load(gDEPTH + &quot;mailnews/fakeserver/imapd.js&quot;);</span>
<a href="#l16.25"></a><span id="l16.25"> </span>
<a href="#l16.26"></a><span id="l16.26"> // And mailnews scripts</span>
<a href="#l16.27"></a><span id="l16.27" class="difflineminus">-load(gDEPTH + &quot;mailnews/resources/mailTestUtils.js&quot;);</span>
<a href="#l16.28"></a><span id="l16.28" class="difflineplus">+load(gDEPTH + &quot;mailnews/resources/localAccountUtils.js&quot;);</span>
<a href="#l16.29"></a><span id="l16.29"> </span>
<a href="#l16.30"></a><span id="l16.30"> const IMAP_PORT = 1024 + 143;</span>
<a href="#l16.31"></a><span id="l16.31"> </span>
<a href="#l16.32"></a><span id="l16.32"> function makeServer(daemon, infoString, otherProps) {</span>
<a href="#l16.33"></a><span id="l16.33">   if (infoString in configurations)</span>
<a href="#l16.34"></a><span id="l16.34">     return makeServer(daemon, configurations[infoString].join(&quot;,&quot;), otherProps);</span>
<a href="#l16.35"></a><span id="l16.35"> </span>
<a href="#l16.36"></a><span id="l16.36">   function createHandler(d) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_autosync_date_constraints.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_autosync_date_constraints.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -1,15 +1,14 @@</span>
<a href="#l17.4"></a><span id="l17.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l17.5"></a><span id="l17.5"> /*</span>
<a href="#l17.6"></a><span id="l17.6">  * Test autosync date constraints</span>
<a href="#l17.7"></a><span id="l17.7">  */</span>
<a href="#l17.8"></a><span id="l17.8"> </span>
<a href="#l17.9"></a><span id="l17.9"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l17.11"></a><span id="l17.11"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l17.12"></a><span id="l17.12"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l17.13"></a><span id="l17.13"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l17.14"></a><span id="l17.14"> </span>
<a href="#l17.15"></a><span id="l17.15"> var gRootFolder;</span>
<a href="#l17.16"></a><span id="l17.16"> var gIMAPTrashFolder, gMsgImapInboxFolder;</span>
<a href="#l17.17"></a><span id="l17.17"> var gImapInboxOfflineStoreSize;</span>
<a href="#l17.18"></a><span id="l17.18"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_bccProperty.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_bccProperty.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -3,17 +3,16 @@</span>
<a href="#l18.4"></a><span id="l18.4">  * Test to ensure that BCC gets added to message headers on IMAP download</span>
<a href="#l18.5"></a><span id="l18.5">  *</span>
<a href="#l18.6"></a><span id="l18.6">  * adapted from test_downloadOffline.js</span>
<a href="#l18.7"></a><span id="l18.7">  *</span>
<a href="#l18.8"></a><span id="l18.8">  * original author Kent James &lt;kent@caspia.com&gt;</span>
<a href="#l18.9"></a><span id="l18.9">  */</span>
<a href="#l18.10"></a><span id="l18.10"> </span>
<a href="#l18.11"></a><span id="l18.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l18.13"></a><span id="l18.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l18.14"></a><span id="l18.14"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l18.15"></a><span id="l18.15"> </span>
<a href="#l18.16"></a><span id="l18.16"> const gFileName = &quot;draft1&quot;;</span>
<a href="#l18.17"></a><span id="l18.17"> const gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l18.18"></a><span id="l18.18"> </span>
<a href="#l18.19"></a><span id="l18.19"> var tests = [</span>
<a href="#l18.20"></a><span id="l18.20">   setup,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_bug460636.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_bug460636.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,14 +1,13 @@</span>
<a href="#l19.4"></a><span id="l19.4"> /*</span>
<a href="#l19.5"></a><span id="l19.5">  * Test bug 460636 - nsMsgSaveAsListener sometimes inserts extra LF characters</span>
<a href="#l19.6"></a><span id="l19.6">  */</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l19.9"></a><span id="l19.9" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l19.10"></a><span id="l19.10"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l19.11"></a><span id="l19.11"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l19.12"></a><span id="l19.12"> </span>
<a href="#l19.13"></a><span id="l19.13"> var gSavedMsgFile;</span>
<a href="#l19.14"></a><span id="l19.14"> </span>
<a href="#l19.15"></a><span id="l19.15"> const gIMAPService = Cc[&quot;@mozilla.org/messenger/messageservice;1?type=imap&quot;]</span>
<a href="#l19.16"></a><span id="l19.16">                        .getService(Ci.nsIMsgMessageService);</span>
<a href="#l19.17"></a><span id="l19.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_chunkLastLF.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_chunkLastLF.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -8,17 +8,16 @@</span>
<a href="#l20.4"></a><span id="l20.4"> </span>
<a href="#l20.5"></a><span id="l20.5"> /*</span>
<a href="#l20.6"></a><span id="l20.6">  * Test content length for the IMAP protocol. This focuses on necko URLs</span>
<a href="#l20.7"></a><span id="l20.7">  * that are run externally.</span>
<a href="#l20.8"></a><span id="l20.8">  */</span>
<a href="#l20.9"></a><span id="l20.9"> </span>
<a href="#l20.10"></a><span id="l20.10">  // async support</span>
<a href="#l20.11"></a><span id="l20.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l20.13"></a><span id="l20.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l20.14"></a><span id="l20.14"> </span>
<a href="#l20.15"></a><span id="l20.15"> const gFile = do_get_file(&quot;../../../data/bug92111b&quot;);</span>
<a href="#l20.16"></a><span id="l20.16"> var gIMAPDaemon, gIMAPServer, gIMAPIncomingServer;</span>
<a href="#l20.17"></a><span id="l20.17"> </span>
<a href="#l20.18"></a><span id="l20.18"> // Adds some messages directly to a mailbox (eg new mail)</span>
<a href="#l20.19"></a><span id="l20.19"> function addMessageToServer(file, mailbox)</span>
<a href="#l20.20"></a><span id="l20.20"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_compactOfflineStore.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_compactOfflineStore.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -3,17 +3,16 @@</span>
<a href="#l21.4"></a><span id="l21.4">  * Test to ensure that compacting offline stores works correctly with imap folders</span>
<a href="#l21.5"></a><span id="l21.5">  * and returns success.</span>
<a href="#l21.6"></a><span id="l21.6">  */</span>
<a href="#l21.7"></a><span id="l21.7"> </span>
<a href="#l21.8"></a><span id="l21.8"> Services.prefs.setCharPref(&quot;mail.serverDefaultStoreContractID&quot;,</span>
<a href="#l21.9"></a><span id="l21.9">                            &quot;@mozilla.org/msgstore/berkeleystore;1&quot;);</span>
<a href="#l21.10"></a><span id="l21.10"> </span>
<a href="#l21.11"></a><span id="l21.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l21.13"></a><span id="l21.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l21.14"></a><span id="l21.14"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l21.15"></a><span id="l21.15"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l21.16"></a><span id="l21.16"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l21.17"></a><span id="l21.17"> </span>
<a href="#l21.18"></a><span id="l21.18"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l21.19"></a><span id="l21.19"> </span>
<a href="#l21.20"></a><span id="l21.20"> // Globals</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_copyThenMove.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_copyThenMove.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -1,16 +1,15 @@</span>
<a href="#l22.4"></a><span id="l22.4"> // This file extends test_imapFolderCopy.js to test message</span>
<a href="#l22.5"></a><span id="l22.5"> // moves from a local folder to an IMAP folder.</span>
<a href="#l22.6"></a><span id="l22.6"> //</span>
<a href="#l22.7"></a><span id="l22.7"> // Original Author: Kent James &lt;kent@caspia.com&gt;</span>
<a href="#l22.8"></a><span id="l22.8"> </span>
<a href="#l22.9"></a><span id="l22.9"> </span>
<a href="#l22.10"></a><span id="l22.10"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l22.11"></a><span id="l22.11" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l22.12"></a><span id="l22.12"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l22.13"></a><span id="l22.13"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l22.14"></a><span id="l22.14"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l22.15"></a><span id="l22.15"> </span>
<a href="#l22.16"></a><span id="l22.16"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l22.17"></a><span id="l22.17"> </span>
<a href="#l22.18"></a><span id="l22.18"> var gEmptyLocal1, gEmptyLocal2;</span>
<a href="#l22.19"></a><span id="l22.19"> var gLastKey;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_customCommandReturnsFetchResponse.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -4,17 +4,16 @@</span>
<a href="#l23.4"></a><span id="l23.4"> </span>
<a href="#l23.5"></a><span id="l23.5"> /*</span>
<a href="#l23.6"></a><span id="l23.6">  * Test to ensure that imap customCommandResult function works properly</span>
<a href="#l23.7"></a><span id="l23.7">  * Bug 778246</span>
<a href="#l23.8"></a><span id="l23.8">  */</span>
<a href="#l23.9"></a><span id="l23.9"> </span>
<a href="#l23.10"></a><span id="l23.10"> // async support</span>
<a href="#l23.11"></a><span id="l23.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l23.13"></a><span id="l23.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l23.14"></a><span id="l23.14"> </span>
<a href="#l23.15"></a><span id="l23.15"> // IMAP pump</span>
<a href="#l23.16"></a><span id="l23.16"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l23.17"></a><span id="l23.17"> </span>
<a href="#l23.18"></a><span id="l23.18"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l23.19"></a><span id="l23.19"> </span>
<a href="#l23.20"></a><span id="l23.20"> // Globals</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_dod.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_dod.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -4,17 +4,16 @@</span>
<a href="#l24.4"></a><span id="l24.4">  * To add messages to the test, place the 'markerRe' text used for testing in</span>
<a href="#l24.5"></a><span id="l24.5">  * the offending part that is displaying the problem message.</span>
<a href="#l24.6"></a><span id="l24.6">  * Prepend to the filename 'bodystructure' and save in the database</span>
<a href="#l24.7"></a><span id="l24.7">  * See current test files for examples.</span>
<a href="#l24.8"></a><span id="l24.8">  */</span>
<a href="#l24.9"></a><span id="l24.9">  </span>
<a href="#l24.10"></a><span id="l24.10">  // async support</span>
<a href="#l24.11"></a><span id="l24.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l24.13"></a><span id="l24.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l24.14"></a><span id="l24.14"> </span>
<a href="#l24.15"></a><span id="l24.15"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l24.16"></a><span id="l24.16"> </span>
<a href="#l24.17"></a><span id="l24.17"> var gServer, gIMAPIncomingServer, gIMAPDaemon;</span>
<a href="#l24.18"></a><span id="l24.18"> </span>
<a href="#l24.19"></a><span id="l24.19"> var tests = [</span>
<a href="#l24.20"></a><span id="l24.20">   streamMessages,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_dontStatNoSelect.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_dontStatNoSelect.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l25.4"></a><span id="l25.4"> // This file tests that checking folders for new mail with STATUS</span>
<a href="#l25.5"></a><span id="l25.5"> // doesn't try to STAT noselect folders.</span>
<a href="#l25.6"></a><span id="l25.6"> </span>
<a href="#l25.7"></a><span id="l25.7"> var gServer, gImapServer;</span>
<a href="#l25.8"></a><span id="l25.8"> var gIMAPInbox, gIMAPFolder1, gIMAPFolder2;</span>
<a href="#l25.9"></a><span id="l25.9"> var gFolder2Mailbox;</span>
<a href="#l25.10"></a><span id="l25.10" class="difflineplus">+var gFolder1, gFolder2;</span>
<a href="#l25.11"></a><span id="l25.11"> </span>
<a href="#l25.12"></a><span id="l25.12"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l25.13"></a><span id="l25.13"> // async support</span>
<a href="#l25.14"></a><span id="l25.14"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l25.16"></a><span id="l25.16"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l25.17"></a><span id="l25.17"> </span>
<a href="#l25.18"></a><span id="l25.18"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l25.19"></a><span id="l25.19"> </span>
<a href="#l25.20"></a><span id="l25.20"> var tests = [</span>
<a href="#l25.21"></a><span id="l25.21">   checkStatSelect,</span>
<a href="#l25.22"></a><span id="l25.22">   checkStatNoSelect,</span>
<a href="#l25.23"></a><span id="l25.23">   endTest</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_downloadOffline.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_downloadOffline.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1,16 +1,15 @@</span>
<a href="#l26.4"></a><span id="l26.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l26.5"></a><span id="l26.5"> /*</span>
<a href="#l26.6"></a><span id="l26.6">  * Test to ensure that downloadAllForOffline works correctly with imap folders</span>
<a href="#l26.7"></a><span id="l26.7">  * and returns success.</span>
<a href="#l26.8"></a><span id="l26.8">  */</span>
<a href="#l26.9"></a><span id="l26.9"> </span>
<a href="#l26.10"></a><span id="l26.10"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l26.11"></a><span id="l26.11" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l26.12"></a><span id="l26.12"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l26.13"></a><span id="l26.13"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l26.14"></a><span id="l26.14"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l26.15"></a><span id="l26.15"> </span>
<a href="#l26.16"></a><span id="l26.16"> const gFileName = &quot;bug460636&quot;;</span>
<a href="#l26.17"></a><span id="l26.17"> const gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l26.18"></a><span id="l26.18"> </span>
<a href="#l26.19"></a><span id="l26.19"> var tests = [</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_fetchCustomAttribute.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_fetchCustomAttribute.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -3,17 +3,16 @@</span>
<a href="#l27.4"></a><span id="l27.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l27.5"></a><span id="l27.5"> </span>
<a href="#l27.6"></a><span id="l27.6"> /*</span>
<a href="#l27.7"></a><span id="l27.7">  * Test to ensure that imap fetchCustomMsgAttribute function works properly</span>
<a href="#l27.8"></a><span id="l27.8">  */</span>
<a href="#l27.9"></a><span id="l27.9"> </span>
<a href="#l27.10"></a><span id="l27.10"> // async support</span>
<a href="#l27.11"></a><span id="l27.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l27.13"></a><span id="l27.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l27.14"></a><span id="l27.14"> </span>
<a href="#l27.15"></a><span id="l27.15"> // IMAP pump</span>
<a href="#l27.16"></a><span id="l27.16"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l27.17"></a><span id="l27.17"> </span>
<a href="#l27.18"></a><span id="l27.18"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l27.19"></a><span id="l27.19"> </span>
<a href="#l27.20"></a><span id="l27.20"> // Globals</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_filterCustomHeaders.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_filterCustomHeaders.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -4,17 +4,16 @@</span>
<a href="#l28.4"></a><span id="l28.4">  * See https://bugzilla.mozilla.org/show_bug.cgi?id=655578</span>
<a href="#l28.5"></a><span id="l28.5">  * for more info.</span>
<a href="#l28.6"></a><span id="l28.6">  *</span>
<a href="#l28.7"></a><span id="l28.7">  * Original author: David Bienvenu &lt;bienvenu@mozilla.com&gt;</span>
<a href="#l28.8"></a><span id="l28.8">  */</span>
<a href="#l28.9"></a><span id="l28.9"> </span>
<a href="#l28.10"></a><span id="l28.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l28.11"></a><span id="l28.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l28.13"></a><span id="l28.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l28.14"></a><span id="l28.14"> </span>
<a href="#l28.15"></a><span id="l28.15"> // IMAP pump</span>
<a href="#l28.16"></a><span id="l28.16"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l28.17"></a><span id="l28.17"> </span>
<a href="#l28.18"></a><span id="l28.18"> setupIMAPPump();</span>
<a href="#l28.19"></a><span id="l28.19"> </span>
<a href="#l28.20"></a><span id="l28.20"> // Definition of tests</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_filterNeedsBody.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_filterNeedsBody.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -2,17 +2,16 @@</span>
<a href="#l29.4"></a><span id="l29.4">  * This file tests the needsBody attribute added to a</span>
<a href="#l29.5"></a><span id="l29.5">  *  custom filter action in bug 555051.</span>
<a href="#l29.6"></a><span id="l29.6">  *</span>
<a href="#l29.7"></a><span id="l29.7">  * Original author: Kent James &lt;kent@caspia.com&gt;</span>
<a href="#l29.8"></a><span id="l29.8">  * adapted from test_imapFilterActions.js</span>
<a href="#l29.9"></a><span id="l29.9">  */</span>
<a href="#l29.10"></a><span id="l29.10"> </span>
<a href="#l29.11"></a><span id="l29.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l29.13"></a><span id="l29.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l29.14"></a><span id="l29.14"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l29.15"></a><span id="l29.15"> </span>
<a href="#l29.16"></a><span id="l29.16"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l29.17"></a><span id="l29.17"> </span>
<a href="#l29.18"></a><span id="l29.18"> // Globals</span>
<a href="#l29.19"></a><span id="l29.19"> var gFilter; // a message filter with a subject search</span>
<a href="#l29.20"></a><span id="l29.20"> var gAction; // current message action (reused)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_folderOfflineFlags.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_folderOfflineFlags.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -6,17 +6,16 @@</span>
<a href="#l30.4"></a><span id="l30.4">  * Test that the folders that should get flagged for offline use do, and that</span>
<a href="#l30.5"></a><span id="l30.5">  * those that shouldn't don't.</span>
<a href="#l30.6"></a><span id="l30.6">  */</span>
<a href="#l30.7"></a><span id="l30.7"> </span>
<a href="#l30.8"></a><span id="l30.8"> // make SOLO_FILE=&quot;test_folderOfflineFlags.js&quot; -C mailnews/imap/test check-one</span>
<a href="#l30.9"></a><span id="l30.9"> </span>
<a href="#l30.10"></a><span id="l30.10"> // async support</span>
<a href="#l30.11"></a><span id="l30.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l30.13"></a><span id="l30.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l30.14"></a><span id="l30.14"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l30.15"></a><span id="l30.15"> </span>
<a href="#l30.16"></a><span id="l30.16"> // IMAP pump</span>
<a href="#l30.17"></a><span id="l30.17"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l30.18"></a><span id="l30.18"> </span>
<a href="#l30.19"></a><span id="l30.19"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l30.20"></a><span id="l30.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_gmailAttributes.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_gmailAttributes.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -11,17 +11,16 @@</span>
<a href="#l31.4"></a><span id="l31.4">  * See https://bugzilla.mozilla.org/show_bug.cgi?id=721316</span>
<a href="#l31.5"></a><span id="l31.5">  * for more info.</span>
<a href="#l31.6"></a><span id="l31.6">  *</span>
<a href="#l31.7"></a><span id="l31.7">  * Original Author: Atul Jangra&lt;atuljangra66@gmail.com&gt;</span>
<a href="#l31.8"></a><span id="l31.8">  */</span>
<a href="#l31.9"></a><span id="l31.9"> </span>
<a href="#l31.10"></a><span id="l31.10"> // async support</span>
<a href="#l31.11"></a><span id="l31.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l31.13"></a><span id="l31.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l31.14"></a><span id="l31.14"> </span>
<a href="#l31.15"></a><span id="l31.15"> // IMAP pump</span>
<a href="#l31.16"></a><span id="l31.16"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l31.17"></a><span id="l31.17"> </span>
<a href="#l31.18"></a><span id="l31.18"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l31.19"></a><span id="l31.19"> </span>
<a href="#l31.20"></a><span id="l31.20"> // Messages to load must have CRLF line endings, that is Windows style</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_gmailOfflineMsgStore.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -15,17 +15,16 @@</span>
<a href="#l32.4"></a><span id="l32.4">  *</span>
<a href="#l32.5"></a><span id="l32.5">  * Original Author: Atul Jangra&lt;atuljangra66@gmail.com&gt;</span>
<a href="#l32.6"></a><span id="l32.6">  */</span>
<a href="#l32.7"></a><span id="l32.7"> </span>
<a href="#l32.8"></a><span id="l32.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l32.9"></a><span id="l32.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l32.10"></a><span id="l32.10"> </span>
<a href="#l32.11"></a><span id="l32.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l32.13"></a><span id="l32.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l32.14"></a><span id="l32.14"> </span>
<a href="#l32.15"></a><span id="l32.15"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l32.16"></a><span id="l32.16"> </span>
<a href="#l32.17"></a><span id="l32.17"> </span>
<a href="#l32.18"></a><span id="l32.18"> // Messages to load must have CRLF line endings, that is Windows style</span>
<a href="#l32.19"></a><span id="l32.19"> </span>
<a href="#l32.20"></a><span id="l32.20"> const gMessage1 = &quot;bugmail10&quot;; // message file used as the test message for Inbox and fooFolder</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapAttachmentSaves.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapAttachmentSaves.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -2,17 +2,16 @@</span>
<a href="#l33.4"></a><span id="l33.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l33.5"></a><span id="l33.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l33.6"></a><span id="l33.6"> </span>
<a href="#l33.7"></a><span id="l33.7"> /*</span>
<a href="#l33.8"></a><span id="l33.8">  * Tests imap save and detach attachments.</span>
<a href="#l33.9"></a><span id="l33.9">  */</span>
<a href="#l33.10"></a><span id="l33.10"> </span>
<a href="#l33.11"></a><span id="l33.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l33.13"></a><span id="l33.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l33.14"></a><span id="l33.14"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l33.15"></a><span id="l33.15"> </span>
<a href="#l33.16"></a><span id="l33.16"> // javascript mime emitter functions</span>
<a href="#l33.17"></a><span id="l33.17"> mimeMsg = {};</span>
<a href="#l33.18"></a><span id="l33.18"> Components.utils.import(&quot;resource:///modules/gloda/mimemsg.js&quot;, mimeMsg);</span>
<a href="#l33.19"></a><span id="l33.19"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l33.20"></a><span id="l33.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapChunks.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapChunks.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l34.4"></a><span id="l34.4"> /*</span>
<a href="#l34.5"></a><span id="l34.5">  * Test bug 92111 - imap download-by-chunks doesn't download complete file if the</span>
<a href="#l34.6"></a><span id="l34.6">  * server lies about rfc822.size (known to happen for Exchange and gmail)</span>
<a href="#l34.7"></a><span id="l34.7">  */</span>
<a href="#l34.8"></a><span id="l34.8"> </span>
<a href="#l34.9"></a><span id="l34.9" class="difflineplus">+Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l34.10"></a><span id="l34.10" class="difflineplus">+</span>
<a href="#l34.11"></a><span id="l34.11"> var gIMAPDaemon, gServer, gIMAPIncomingServer, gSavedMsgFile;</span>
<a href="#l34.12"></a><span id="l34.12"> </span>
<a href="#l34.13"></a><span id="l34.13"> const gIMAPService = Cc[&quot;@mozilla.org/messenger/messageservice;1?type=imap&quot;]</span>
<a href="#l34.14"></a><span id="l34.14">                        .getService(Ci.nsIMsgMessageService);</span>
<a href="#l34.15"></a><span id="l34.15"> </span>
<a href="#l34.16"></a><span id="l34.16"> const gFileName = &quot;bug92111&quot;;</span>
<a href="#l34.17"></a><span id="l34.17"> const gMsgFile = do_get_file(&quot;../../../data/&quot; + gFileName);</span>
<a href="#l34.18"></a><span id="l34.18">                      </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapContentLength.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapContentLength.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -7,17 +7,16 @@</span>
<a href="#l35.4"></a><span id="l35.4">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l35.5"></a><span id="l35.5"> </span>
<a href="#l35.6"></a><span id="l35.6"> /*</span>
<a href="#l35.7"></a><span id="l35.7">  * Test content length for the IMAP protocol. This focuses on necko URLs</span>
<a href="#l35.8"></a><span id="l35.8">  * that are run externally.</span>
<a href="#l35.9"></a><span id="l35.9">  */</span>
<a href="#l35.10"></a><span id="l35.10"> </span>
<a href="#l35.11"></a><span id="l35.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l35.13"></a><span id="l35.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l35.14"></a><span id="l35.14"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l35.15"></a><span id="l35.15"> </span>
<a href="#l35.16"></a><span id="l35.16"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l35.17"></a><span id="l35.17"> </span>
<a href="#l35.18"></a><span id="l35.18"> var gMsgHdr = null;</span>
<a href="#l35.19"></a><span id="l35.19"> </span>
<a href="#l35.20"></a><span id="l35.20"> // Take a multipart message as we're testing attachment URLs as well</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapCopyTimeout.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapCopyTimeout.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -4,17 +4,16 @@</span>
<a href="#l36.4"></a><span id="l36.4"> </span>
<a href="#l36.5"></a><span id="l36.5"> // This tests our handling of server timeouts during online move of</span>
<a href="#l36.6"></a><span id="l36.6"> // an imap message. The move is done as an offline operation and then</span>
<a href="#l36.7"></a><span id="l36.7"> // played back, to copy what the apps do.</span>
<a href="#l36.8"></a><span id="l36.8"> </span>
<a href="#l36.9"></a><span id="l36.9"> Services.prefs.setIntPref(&quot;mailnews.tcptimeout&quot;, 2);</span>
<a href="#l36.10"></a><span id="l36.10"> </span>
<a href="#l36.11"></a><span id="l36.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l36.13"></a><span id="l36.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l36.14"></a><span id="l36.14"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l36.15"></a><span id="l36.15"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l36.16"></a><span id="l36.16"> </span>
<a href="#l36.17"></a><span id="l36.17"> // IMAP pump</span>
<a href="#l36.18"></a><span id="l36.18"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l36.19"></a><span id="l36.19"> </span>
<a href="#l36.20"></a><span id="l36.20"> // Globals</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapFlagChange.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapFlagChange.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -1,16 +1,15 @@</span>
<a href="#l37.4"></a><span id="l37.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l37.5"></a><span id="l37.5"> /*</span>
<a href="#l37.6"></a><span id="l37.6">  * Test to ensure that imap flag changes made from a different profile/machine</span>
<a href="#l37.7"></a><span id="l37.7">  * are stored in db.</span>
<a href="#l37.8"></a><span id="l37.8">  */</span>
<a href="#l37.9"></a><span id="l37.9"> </span>
<a href="#l37.10"></a><span id="l37.10"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l37.11"></a><span id="l37.11" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l37.12"></a><span id="l37.12"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l37.13"></a><span id="l37.13"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l37.14"></a><span id="l37.14"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l37.15"></a><span id="l37.15"> </span>
<a href="#l37.16"></a><span id="l37.16"> var gMessage;</span>
<a href="#l37.17"></a><span id="l37.17"> var gSecondFolder;</span>
<a href="#l37.18"></a><span id="l37.18"> var gSynthMessage;</span>
<a href="#l37.19"></a><span id="l37.19"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapFolderCopy.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapFolderCopy.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -1,14 +1,13 @@</span>
<a href="#l38.4"></a><span id="l38.4"> // This file tests the folder copying with IMAP. In particular, we're</span>
<a href="#l38.5"></a><span id="l38.5"> // going to test copying local folders to imap servers, but other tests</span>
<a href="#l38.6"></a><span id="l38.6"> // could be added.</span>
<a href="#l38.7"></a><span id="l38.7"> </span>
<a href="#l38.8"></a><span id="l38.8"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l38.9"></a><span id="l38.9" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l38.10"></a><span id="l38.10"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l38.11"></a><span id="l38.11"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l38.12"></a><span id="l38.12"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l38.13"></a><span id="l38.13"> </span>
<a href="#l38.14"></a><span id="l38.14"> var gEmptyLocal1, gEmptyLocal2, gEmptyLocal3, gNotEmptyLocal4;</span>
<a href="#l38.15"></a><span id="l38.15"> </span>
<a href="#l38.16"></a><span id="l38.16"> Components.utils.import(&quot;resource:///modules/folderUtils.jsm&quot;);</span>
<a href="#l38.17"></a><span id="l38.17"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapHdrChunking.js</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapHdrChunking.js</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -2,17 +2,16 @@</span>
<a href="#l39.4"></a><span id="l39.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l39.5"></a><span id="l39.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l39.6"></a><span id="l39.6"> </span>
<a href="#l39.7"></a><span id="l39.7"> /*</span>
<a href="#l39.8"></a><span id="l39.8">  * Tests imap msg header download chunking</span>
<a href="#l39.9"></a><span id="l39.9">  */</span>
<a href="#l39.10"></a><span id="l39.10"> </span>
<a href="#l39.11"></a><span id="l39.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l39.13"></a><span id="l39.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l39.14"></a><span id="l39.14"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l39.15"></a><span id="l39.15"> </span>
<a href="#l39.16"></a><span id="l39.16"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l39.17"></a><span id="l39.17"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l39.18"></a><span id="l39.18"> // javascript mime emitter functions</span>
<a href="#l39.19"></a><span id="l39.19"> </span>
<a href="#l39.20"></a><span id="l39.20"> // IMAP pump</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapHdrStreaming.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapHdrStreaming.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -3,17 +3,16 @@</span>
<a href="#l40.4"></a><span id="l40.4">  * It checks thst streaming headers for messages stored for offline use works.</span>
<a href="#l40.5"></a><span id="l40.5">  * It doesn't test streaming messages that haven't been stored for offline use</span>
<a href="#l40.6"></a><span id="l40.6">  * because that's not implemented yet, and it's unclear if anyone will want it.</span>
<a href="#l40.7"></a><span id="l40.7">  */</span>
<a href="#l40.8"></a><span id="l40.8"> </span>
<a href="#l40.9"></a><span id="l40.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l40.10"></a><span id="l40.10"> </span>
<a href="#l40.11"></a><span id="l40.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l40.13"></a><span id="l40.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l40.14"></a><span id="l40.14"> </span>
<a href="#l40.15"></a><span id="l40.15"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l40.16"></a><span id="l40.16"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l40.17"></a><span id="l40.17"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l40.18"></a><span id="l40.18"> </span>
<a href="#l40.19"></a><span id="l40.19"> // IMAP pump</span>
<a href="#l40.20"></a><span id="l40.20"> load(&quot;../../../resources/IMAPpump.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapHighWater.js</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapHighWater.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -3,17 +3,16 @@</span>
<a href="#l41.4"></a><span id="l41.4">  * Test to ensure that offline imap moves handle extremely high highwater</span>
<a href="#l41.5"></a><span id="l41.5">  * marks.</span>
<a href="#l41.6"></a><span id="l41.6">  */</span>
<a href="#l41.7"></a><span id="l41.7"> </span>
<a href="#l41.8"></a><span id="l41.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l41.9"></a><span id="l41.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l41.10"></a><span id="l41.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l41.11"></a><span id="l41.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l41.13"></a><span id="l41.13"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l41.14"></a><span id="l41.14"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l41.15"></a><span id="l41.15"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l41.16"></a><span id="l41.16"> </span>
<a href="#l41.17"></a><span id="l41.17"> var gIMAPDaemon, gServer, gIMAPIncomingServer;</span>
<a href="#l41.18"></a><span id="l41.18"> </span>
<a href="#l41.19"></a><span id="l41.19"> var gIMAPInbox;</span>
<a href="#l41.20"></a><span id="l41.20"> var gFolder1, gRootFolder;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapID.js</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapID.js</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -1,15 +1,14 @@</span>
<a href="#l42.4"></a><span id="l42.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l42.5"></a><span id="l42.5"> /*</span>
<a href="#l42.6"></a><span id="l42.6">  * Test to ensure that we handle the RFC2197 ID command.</span>
<a href="#l42.7"></a><span id="l42.7">  */</span>
<a href="#l42.8"></a><span id="l42.8"> </span>
<a href="#l42.9"></a><span id="l42.9"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l42.10"></a><span id="l42.10" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l42.11"></a><span id="l42.11"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l42.12"></a><span id="l42.12"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l42.13"></a><span id="l42.13"> </span>
<a href="#l42.14"></a><span id="l42.14"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l42.15"></a><span id="l42.15"> </span>
<a href="#l42.16"></a><span id="l42.16"> const kIDResponse = &quot;(\&quot;name\&quot; \&quot;GImap\&quot; \&quot;vendor\&quot; \&quot;Google, Inc.\&quot; \&quot;support-url\&quot; \&quot;http://mail.google.com/support\&quot;)&quot;;</span>
<a href="#l42.17"></a><span id="l42.17"> </span>
<a href="#l42.18"></a><span id="l42.18"> var tests = [</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapMove.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapMove.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -5,17 +5,16 @@</span>
<a href="#l43.4"></a><span id="l43.4"> // This tests that we use IMAP move if the IMAP server supports it.</span>
<a href="#l43.5"></a><span id="l43.5"> </span>
<a href="#l43.6"></a><span id="l43.6"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l43.7"></a><span id="l43.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l43.8"></a><span id="l43.8"> </span>
<a href="#l43.9"></a><span id="l43.9"> var gMessages = Cc[&quot;@mozilla.org/array;1&quot;].createInstance(Ci.nsIMutableArray);</span>
<a href="#l43.10"></a><span id="l43.10"> </span>
<a href="#l43.11"></a><span id="l43.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l43.13"></a><span id="l43.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l43.14"></a><span id="l43.14"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l43.15"></a><span id="l43.15"> </span>
<a href="#l43.16"></a><span id="l43.16"> // IMAP pump</span>
<a href="#l43.17"></a><span id="l43.17"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l43.18"></a><span id="l43.18"> setupIMAPPump(&quot;CUSTOM1&quot;);</span>
<a href="#l43.19"></a><span id="l43.19"> </span>
<a href="#l43.20"></a><span id="l43.20"> var gIMAPInbox, gFolder1;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapSearch.js</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapSearch.js</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -4,17 +4,16 @@</span>
<a href="#l44.4"></a><span id="l44.4"> </span>
<a href="#l44.5"></a><span id="l44.5"> /* Tests traditional (non-gloda) search on IMAP folders.</span>
<a href="#l44.6"></a><span id="l44.6">  * Derived from a combination of test_imapPump.js and test_search.js</span>
<a href="#l44.7"></a><span id="l44.7">  * Original author: Kent James &lt;kent@caspia.com&gt;</span>
<a href="#l44.8"></a><span id="l44.8">  */</span>
<a href="#l44.9"></a><span id="l44.9"> </span>
<a href="#l44.10"></a><span id="l44.10"> // async support</span>
<a href="#l44.11"></a><span id="l44.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l44.13"></a><span id="l44.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l44.14"></a><span id="l44.14"> </span>
<a href="#l44.15"></a><span id="l44.15"> // headers we will store in db</span>
<a href="#l44.16"></a><span id="l44.16"> // set value of headers we want parsed into the db</span>
<a href="#l44.17"></a><span id="l44.17"> Services.prefs.setCharPref(&quot;mailnews.customDBHeaders&quot;,</span>
<a href="#l44.18"></a><span id="l44.18">                            &quot;x-spam-status oneliner twoliner threeliner nospace withspace&quot;);</span>
<a href="#l44.19"></a><span id="l44.19"> dump('set mailnews.customDBHeaders to ' + Services.prefs.getCharPref(&quot;mailnews.customDBHeaders&quot;) + '\n');</span>
<a href="#l44.20"></a><span id="l44.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapStatusCloseDBs.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapStatusCloseDBs.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -1,13 +1,12 @@</span>
<a href="#l45.4"></a><span id="l45.4"> // This file tests that checking folders for new mail with STATUS</span>
<a href="#l45.5"></a><span id="l45.5"> // doesn't leave db's open.</span>
<a href="#l45.6"></a><span id="l45.6"> </span>
<a href="#l45.7"></a><span id="l45.7"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l45.8"></a><span id="l45.8" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l45.9"></a><span id="l45.9"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l45.10"></a><span id="l45.10"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l45.11"></a><span id="l45.11"> </span>
<a href="#l45.12"></a><span id="l45.12"> var gFolder1, gFolder2;</span>
<a href="#l45.13"></a><span id="l45.13"> </span>
<a href="#l45.14"></a><span id="l45.14"> var tests = [</span>
<a href="#l45.15"></a><span id="l45.15">   setup,</span>
<a href="#l45.16"></a><span id="l45.16">   check,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapStoreMsgOffline.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapStoreMsgOffline.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -6,17 +6,16 @@</span>
<a href="#l46.4"></a><span id="l46.4">  *   - Message with inline attachment (e.g., image)</span>
<a href="#l46.5"></a><span id="l46.5">  *   - Message with non-inline attachment (e.g., .doc file)</span>
<a href="#l46.6"></a><span id="l46.6">  *   - Message with mix of attachment types.</span>
<a href="#l46.7"></a><span id="l46.7">  */</span>
<a href="#l46.8"></a><span id="l46.8"> </span>
<a href="#l46.9"></a><span id="l46.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l46.10"></a><span id="l46.10"> </span>
<a href="#l46.11"></a><span id="l46.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l46.13"></a><span id="l46.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l46.14"></a><span id="l46.14"> </span>
<a href="#l46.15"></a><span id="l46.15"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l46.16"></a><span id="l46.16"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l46.17"></a><span id="l46.17"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l46.18"></a><span id="l46.18"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l46.19"></a><span id="l46.19"> </span>
<a href="#l46.20"></a><span id="l46.20"> var gMessageGenerator = new MessageGenerator();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapUndo.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapUndo.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -3,17 +3,16 @@</span>
<a href="#l47.4"></a><span id="l47.4"> // 1. Normal undo</span>
<a href="#l47.5"></a><span id="l47.5"> // 2. Undo after the source folder has been compacted.</span>
<a href="#l47.6"></a><span id="l47.6"> // 2.1 Same, but the server doesn't support COPYUID (GMail case)</span>
<a href="#l47.7"></a><span id="l47.7"> //</span>
<a href="#l47.8"></a><span id="l47.8"> // Original Author: David Bienvenu &lt;bienvenu@nventure.com&gt;</span>
<a href="#l47.9"></a><span id="l47.9"> </span>
<a href="#l47.10"></a><span id="l47.10"> </span>
<a href="#l47.11"></a><span id="l47.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l47.13"></a><span id="l47.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l47.14"></a><span id="l47.14"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l47.15"></a><span id="l47.15"> </span>
<a href="#l47.16"></a><span id="l47.16"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l47.17"></a><span id="l47.17"> </span>
<a href="#l47.18"></a><span id="l47.18"> var gRootFolder;</span>
<a href="#l47.19"></a><span id="l47.19"> var gLastKey;</span>
<a href="#l47.20"></a><span id="l47.20"> var gMessages = Cc[&quot;@mozilla.org/array;1&quot;].createInstance(Ci.nsIMutableArray);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_largeOfflineStore.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_largeOfflineStore.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l48.4"></a><span id="l48.4"> /* -*- Mode: JavaScript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l48.5"></a><span id="l48.5"> /*</span>
<a href="#l48.6"></a><span id="l48.6">  * Test to ensure that downloadAllForOffline works correctly for large imap</span>
<a href="#l48.7"></a><span id="l48.7">  * stores, i.e., over 4 GiB.</span>
<a href="#l48.8"></a><span id="l48.8">  */</span>
<a href="#l48.9"></a><span id="l48.9"> </span>
<a href="#l48.10"></a><span id="l48.10"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l48.11"></a><span id="l48.11"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l48.13"></a><span id="l48.13"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l48.14"></a><span id="l48.14"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l48.15"></a><span id="l48.15"> </span>
<a href="#l48.16"></a><span id="l48.16"> Services.prefs.setCharPref(&quot;mail.serverDefaultStoreContractID&quot;,</span>
<a href="#l48.17"></a><span id="l48.17">                            &quot;@mozilla.org/msgstore/berkeleystore;1&quot;);</span>
<a href="#l48.18"></a><span id="l48.18"> </span>
<a href="#l48.19"></a><span id="l48.19"> var gOfflineStoreSize;</span>
<a href="#l48.20"></a><span id="l48.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_listClosesDB.js</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_listClosesDB.js</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -1,13 +1,12 @@</span>
<a href="#l49.4"></a><span id="l49.4"> // This file tests that listing folders on startup because we're not using</span>
<a href="#l49.5"></a><span id="l49.5"> // subscription doesn't leave db's open.</span>
<a href="#l49.6"></a><span id="l49.6"> </span>
<a href="#l49.7"></a><span id="l49.7"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l49.8"></a><span id="l49.8" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l49.9"></a><span id="l49.9"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l49.10"></a><span id="l49.10"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l49.11"></a><span id="l49.11"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l49.12"></a><span id="l49.12"> </span>
<a href="#l49.13"></a><span id="l49.13"> var gSub3;</span>
<a href="#l49.14"></a><span id="l49.14"> </span>
<a href="#l49.15"></a><span id="l49.15"> var tests = [</span>
<a href="#l49.16"></a><span id="l49.16">   setup,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_listSubscribed.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_listSubscribed.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -9,17 +9,16 @@</span>
<a href="#l50.4"></a><span id="l50.4">  * RFC 5258 - http://tools.ietf.org/html/rfc5258</span>
<a href="#l50.5"></a><span id="l50.5">  * Bug 495318</span>
<a href="#l50.6"></a><span id="l50.6">  * Bug 816028</span>
<a href="#l50.7"></a><span id="l50.7">  * http://bugzilla.zimbra.com/show_bug.cgi?id=78794</span>
<a href="#l50.8"></a><span id="l50.8">  */</span>
<a href="#l50.9"></a><span id="l50.9"> </span>
<a href="#l50.10"></a><span id="l50.10"> // async support</span>
<a href="#l50.11"></a><span id="l50.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l50.12"></a><span id="l50.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l50.13"></a><span id="l50.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l50.14"></a><span id="l50.14"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l50.15"></a><span id="l50.15"> </span>
<a href="#l50.16"></a><span id="l50.16"> // IMAP pump</span>
<a href="#l50.17"></a><span id="l50.17"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l50.18"></a><span id="l50.18"> </span>
<a href="#l50.19"></a><span id="l50.19"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l50.20"></a><span id="l50.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_localToImapFilter.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_localToImapFilter.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -3,17 +3,16 @@</span>
<a href="#l51.4"></a><span id="l51.4">  * from incoming POP3, with filter actions copying and moving</span>
<a href="#l51.5"></a><span id="l51.5">  * messages to IMAP folders. This test is adapted from</span>
<a href="#l51.6"></a><span id="l51.6">  * test_imapFolderCopy.js</span>
<a href="#l51.7"></a><span id="l51.7">  *</span>
<a href="#l51.8"></a><span id="l51.8">  * Original author: Kent James &lt;kent@caspia.com&gt;</span>
<a href="#l51.9"></a><span id="l51.9">  */</span>
<a href="#l51.10"></a><span id="l51.10"> </span>
<a href="#l51.11"></a><span id="l51.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l51.13"></a><span id="l51.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l51.14"></a><span id="l51.14"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l51.15"></a><span id="l51.15"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l51.16"></a><span id="l51.16"> Components.utils.import(&quot;resource:///modules/folderUtils.jsm&quot;);</span>
<a href="#l51.17"></a><span id="l51.17"> Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l51.18"></a><span id="l51.18"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l51.19"></a><span id="l51.19"> </span>
<a href="#l51.20"></a><span id="l51.20"> var gIMAPTrashFolder;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_localToImapFilterQuarantine.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -14,17 +14,16 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l52.4"></a><span id="l52.4"> </span>
<a href="#l52.5"></a><span id="l52.5"> Services.prefs.setCharPref(&quot;mail.serverDefaultStoreContractID&quot;,</span>
<a href="#l52.6"></a><span id="l52.6">                            &quot;@mozilla.org/msgstore/berkeleystore;1&quot;);</span>
<a href="#l52.7"></a><span id="l52.7"> </span>
<a href="#l52.8"></a><span id="l52.8"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l52.9"></a><span id="l52.9"> </span>
<a href="#l52.10"></a><span id="l52.10"> // async support</span>
<a href="#l52.11"></a><span id="l52.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l52.13"></a><span id="l52.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l52.14"></a><span id="l52.14"> </span>
<a href="#l52.15"></a><span id="l52.15"> // IMAP pump</span>
<a href="#l52.16"></a><span id="l52.16"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l52.17"></a><span id="l52.17"> </span>
<a href="#l52.18"></a><span id="l52.18"> setupIMAPPump();</span>
<a href="#l52.19"></a><span id="l52.19"> </span>
<a href="#l52.20"></a><span id="l52.20"> var gFinishedRunningURL = -1;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_lsub.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_lsub.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -4,17 +4,16 @@</span>
<a href="#l53.4"></a><span id="l53.4"> </span>
<a href="#l53.5"></a><span id="l53.5"> // Test that listing subscribed mailboxes uses LIST (SUBSCRIBED) instead of LSUB</span>
<a href="#l53.6"></a><span id="l53.6"> // for servers that have LIST-EXTENDED capability</span>
<a href="#l53.7"></a><span id="l53.7"> // see: bug 495318</span>
<a href="#l53.8"></a><span id="l53.8"> // see: RFC 5258 - http://tools.ietf.org/html/rfc5258</span>
<a href="#l53.9"></a><span id="l53.9"> </span>
<a href="#l53.10"></a><span id="l53.10"> // async support</span>
<a href="#l53.11"></a><span id="l53.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l53.12"></a><span id="l53.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l53.13"></a><span id="l53.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l53.14"></a><span id="l53.14"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l53.15"></a><span id="l53.15"> </span>
<a href="#l53.16"></a><span id="l53.16"> // IMAP pump</span>
<a href="#l53.17"></a><span id="l53.17"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l53.18"></a><span id="l53.18"> </span>
<a href="#l53.19"></a><span id="l53.19"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l53.20"></a><span id="l53.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_mailboxes.js</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_mailboxes.js</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -1,14 +1,13 @@</span>
<a href="#l54.4"></a><span id="l54.4"> /**</span>
<a href="#l54.5"></a><span id="l54.5">  * Tests basic mailbox handling of IMAP, like discovery, rename and empty folder.</span>
<a href="#l54.6"></a><span id="l54.6">  */</span>
<a href="#l54.7"></a><span id="l54.7"> </span>
<a href="#l54.8"></a><span id="l54.8"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l54.9"></a><span id="l54.9" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l54.10"></a><span id="l54.10"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l54.11"></a><span id="l54.11"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l54.12"></a><span id="l54.12"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l54.13"></a><span id="l54.13"> </span>
<a href="#l54.14"></a><span id="l54.14"> function setup() {</span>
<a href="#l54.15"></a><span id="l54.15">   setupIMAPPump();</span>
<a href="#l54.16"></a><span id="l54.16"> </span>
<a href="#l54.17"></a><span id="l54.17">   gIMAPDaemon.createMailbox(&quot;I18N box\u00E1&quot;, {subscribed : true});</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_offlineCopy.js</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_offlineCopy.js</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -9,17 +9,16 @@</span>
<a href="#l55.4"></a><span id="l55.4"> /**</span>
<a href="#l55.5"></a><span id="l55.5">  * This test checks pseudo-offline message copies (which is triggered</span>
<a href="#l55.6"></a><span id="l55.6">  * by allowUndo == true in CopyMessages).</span>
<a href="#l55.7"></a><span id="l55.7">  */</span>
<a href="#l55.8"></a><span id="l55.8"> </span>
<a href="#l55.9"></a><span id="l55.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l55.10"></a><span id="l55.10"> </span>
<a href="#l55.11"></a><span id="l55.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l55.12"></a><span id="l55.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l55.13"></a><span id="l55.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l55.14"></a><span id="l55.14"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l55.15"></a><span id="l55.15"> </span>
<a href="#l55.16"></a><span id="l55.16"> const nsMsgMessageFlags = Ci.nsMsgMessageFlags;</span>
<a href="#l55.17"></a><span id="l55.17"> </span>
<a href="#l55.18"></a><span id="l55.18"> var gMsgFile1 = do_get_file(&quot;../../../data/bugmail10&quot;);</span>
<a href="#l55.19"></a><span id="l55.19"> const gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span>
<a href="#l55.20"></a><span id="l55.20"> var gMsgFile2 = do_get_file(&quot;../../../data/image-attach-test&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_offlineDraftDataloss.js</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_offlineDraftDataloss.js</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -5,17 +5,16 @@</span>
<a href="#l56.4"></a><span id="l56.4"> /**</span>
<a href="#l56.5"></a><span id="l56.5">  * This file tests that a message saved as draft in an IMAP folder in offline</span>
<a href="#l56.6"></a><span id="l56.6">  * mode is not lost when going back online</span>
<a href="#l56.7"></a><span id="l56.7">  * See Bug 805626</span>
<a href="#l56.8"></a><span id="l56.8">  */</span>
<a href="#l56.9"></a><span id="l56.9"> </span>
<a href="#l56.10"></a><span id="l56.10"> // async support</span>
<a href="#l56.11"></a><span id="l56.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l56.12"></a><span id="l56.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l56.13"></a><span id="l56.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l56.14"></a><span id="l56.14"> </span>
<a href="#l56.15"></a><span id="l56.15"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l56.16"></a><span id="l56.16"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l56.17"></a><span id="l56.17"> </span>
<a href="#l56.18"></a><span id="l56.18"> // IMAP pump</span>
<a href="#l56.19"></a><span id="l56.19"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l56.20"></a><span id="l56.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_offlinePlayback.js</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_offlinePlayback.js</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -2,17 +2,16 @@</span>
<a href="#l57.4"></a><span id="l57.4"> /*</span>
<a href="#l57.5"></a><span id="l57.5">  * Test to ensure that changes made while offline are played back when we</span>
<a href="#l57.6"></a><span id="l57.6">  * go back online.</span>
<a href="#l57.7"></a><span id="l57.7">  */</span>
<a href="#l57.8"></a><span id="l57.8"> </span>
<a href="#l57.9"></a><span id="l57.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l57.10"></a><span id="l57.10"> </span>
<a href="#l57.11"></a><span id="l57.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l57.12"></a><span id="l57.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l57.13"></a><span id="l57.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l57.14"></a><span id="l57.14"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l57.15"></a><span id="l57.15"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l57.16"></a><span id="l57.16"> </span>
<a href="#l57.17"></a><span id="l57.17"> var gSecondFolder, gThirdFolder;</span>
<a href="#l57.18"></a><span id="l57.18"> var gSynthMessage1, gSynthMessage2;</span>
<a href="#l57.19"></a><span id="l57.19"> // the message id of bugmail10</span>
<a href="#l57.20"></a><span id="l57.20"> const gMsgId1 = &quot;200806061706.m56H6RWT004933@mrapp54.mozilla.org&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_offlineStoreLocking.js</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_offlineStoreLocking.js</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -1,16 +1,15 @@</span>
<a href="#l58.4"></a><span id="l58.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l58.5"></a><span id="l58.5"> /*</span>
<a href="#l58.6"></a><span id="l58.6">  * Test to ensure that code that writes to the imap offline store deals</span>
<a href="#l58.7"></a><span id="l58.7">  * with offline store locking correctly.</span>
<a href="#l58.8"></a><span id="l58.8">  */</span>
<a href="#l58.9"></a><span id="l58.9"> </span>
<a href="#l58.10"></a><span id="l58.10"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l58.11"></a><span id="l58.11" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l58.12"></a><span id="l58.12"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l58.13"></a><span id="l58.13"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l58.14"></a><span id="l58.14"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l58.15"></a><span id="l58.15"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l58.16"></a><span id="l58.16"> </span>
<a href="#l58.17"></a><span id="l58.17"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l58.18"></a><span id="l58.18"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l58.19"></a><span id="l58.19"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_partsOnDemand.js</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_partsOnDemand.js</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -5,17 +5,16 @@</span>
<a href="#l59.4"></a><span id="l59.4"> /*</span>
<a href="#l59.5"></a><span id="l59.5">  * Tests that you can stream a message without the attachments. Tests the</span>
<a href="#l59.6"></a><span id="l59.6">  * MsgHdrToMimeMessage API that exposes this.</span>
<a href="#l59.7"></a><span id="l59.7">  */</span>
<a href="#l59.8"></a><span id="l59.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l59.9"></a><span id="l59.9"> Services.prefs.setIntPref(&quot;mail.imap.mime_parts_on_demand_threshold&quot;, 1000);</span>
<a href="#l59.10"></a><span id="l59.10"> </span>
<a href="#l59.11"></a><span id="l59.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l59.12"></a><span id="l59.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l59.13"></a><span id="l59.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l59.14"></a><span id="l59.14"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l59.15"></a><span id="l59.15"> </span>
<a href="#l59.16"></a><span id="l59.16"> // javascript mime emitter functions</span>
<a href="#l59.17"></a><span id="l59.17"> mimeMsg = {};</span>
<a href="#l59.18"></a><span id="l59.18"> Components.utils.import(&quot;resource:///modules/gloda/mimemsg.js&quot;, mimeMsg);</span>
<a href="#l59.19"></a><span id="l59.19"> </span>
<a href="#l59.20"></a><span id="l59.20"> var gSecondMsg;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_preserveDataOnMove.js</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_preserveDataOnMove.js</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -2,17 +2,16 @@</span>
<a href="#l60.4"></a><span id="l60.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l60.5"></a><span id="l60.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l60.6"></a><span id="l60.6"> </span>
<a href="#l60.7"></a><span id="l60.7"> // This tests that arbitrary message header properties are preserved</span>
<a href="#l60.8"></a><span id="l60.8"> //  during online move of an imap message.</span>
<a href="#l60.9"></a><span id="l60.9"> </span>
<a href="#l60.10"></a><span id="l60.10"> // async support </span>
<a href="#l60.11"></a><span id="l60.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l60.12"></a><span id="l60.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l60.13"></a><span id="l60.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l60.14"></a><span id="l60.14"> </span>
<a href="#l60.15"></a><span id="l60.15"> // IMAP pump</span>
<a href="#l60.16"></a><span id="l60.16"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l60.17"></a><span id="l60.17"> </span>
<a href="#l60.18"></a><span id="l60.18"> // Globals</span>
<a href="#l60.19"></a><span id="l60.19"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l60.20"></a><span id="l60.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_saveImapDraft.js</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_saveImapDraft.js</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -4,17 +4,16 @@</span>
<a href="#l61.4"></a><span id="l61.4"> </span>
<a href="#l61.5"></a><span id="l61.5"> /*</span>
<a href="#l61.6"></a><span id="l61.6">  * This file tests that a message saved as draft in an IMAP folder is correctly</span>
<a href="#l61.7"></a><span id="l61.7">  * marked as unread.</span>
<a href="#l61.8"></a><span id="l61.8">  */</span>
<a href="#l61.9"></a><span id="l61.9"> </span>
<a href="#l61.10"></a><span id="l61.10"> // async support</span>
<a href="#l61.11"></a><span id="l61.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l61.13"></a><span id="l61.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l61.14"></a><span id="l61.14"> </span>
<a href="#l61.15"></a><span id="l61.15"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l61.16"></a><span id="l61.16"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l61.17"></a><span id="l61.17"> </span>
<a href="#l61.18"></a><span id="l61.18"> // IMAP pump</span>
<a href="#l61.19"></a><span id="l61.19"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l61.20"></a><span id="l61.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_saveTemplate.js</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_saveTemplate.js</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -7,17 +7,16 @@</span>
<a href="#l62.4"></a><span id="l62.4">  * creation of folder.</span>
<a href="#l62.5"></a><span id="l62.5">  */</span>
<a href="#l62.6"></a><span id="l62.6"> </span>
<a href="#l62.7"></a><span id="l62.7"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l62.8"></a><span id="l62.8"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l62.9"></a><span id="l62.9"> Components.utils.import(&quot;resource:///modules/MailUtils.js&quot;);</span>
<a href="#l62.10"></a><span id="l62.10"> </span>
<a href="#l62.11"></a><span id="l62.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l62.12"></a><span id="l62.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l62.13"></a><span id="l62.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l62.14"></a><span id="l62.14"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l62.15"></a><span id="l62.15"> </span>
<a href="#l62.16"></a><span id="l62.16"> // IMAP pump</span>
<a href="#l62.17"></a><span id="l62.17"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l62.18"></a><span id="l62.18"> </span>
<a href="#l62.19"></a><span id="l62.19"> setupIMAPPump();</span>
<a href="#l62.20"></a><span id="l62.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_syncChanges.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_syncChanges.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l63.4"></a><span id="l63.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l63.5"></a><span id="l63.5"> /*</span>
<a href="#l63.6"></a><span id="l63.6">  * Test to ensure that changes made from a different profile/machine</span>
<a href="#l63.7"></a><span id="l63.7">  * are synced correctly. In particular, we're checking that emptying out</span>
<a href="#l63.8"></a><span id="l63.8">  * an imap folder on the server makes us delete all the headers from our db.</span>
<a href="#l63.9"></a><span id="l63.9">  */</span>
<a href="#l63.10"></a><span id="l63.10"> </span>
<a href="#l63.11"></a><span id="l63.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l63.12"></a><span id="l63.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l63.13"></a><span id="l63.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l63.14"></a><span id="l63.14"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l63.15"></a><span id="l63.15"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l63.16"></a><span id="l63.16"> </span>
<a href="#l63.17"></a><span id="l63.17"> var gMessage;</span>
<a href="#l63.18"></a><span id="l63.18"> var gSecondFolder;</span>
<a href="#l63.19"></a><span id="l63.19"> var gSynthMessage;</span>
<a href="#l63.20"></a><span id="l63.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_trustSpamAssassin.js</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_trustSpamAssassin.js</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineat">@@ -8,17 +8,16 @@</span>
<a href="#l64.4"></a><span id="l64.4">  *  without having the message return to the junk folder,</span>
<a href="#l64.5"></a><span id="l64.5">  *  as discussed in bug 540385.</span>
<a href="#l64.6"></a><span id="l64.6">  *</span>
<a href="#l64.7"></a><span id="l64.7">  * adapted from test_filterNeedsBody.js</span>
<a href="#l64.8"></a><span id="l64.8">  */</span>
<a href="#l64.9"></a><span id="l64.9"> </span>
<a href="#l64.10"></a><span id="l64.10"> // async support </span>
<a href="#l64.11"></a><span id="l64.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l64.12"></a><span id="l64.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l64.13"></a><span id="l64.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l64.14"></a><span id="l64.14"> </span>
<a href="#l64.15"></a><span id="l64.15"> // IMAP pump</span>
<a href="#l64.16"></a><span id="l64.16"> load(&quot;../../../resources/IMAPpump.js&quot;);</span>
<a href="#l64.17"></a><span id="l64.17"> </span>
<a href="#l64.18"></a><span id="l64.18"> // Globals</span>
<a href="#l64.19"></a><span id="l64.19"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l64.20"></a><span id="l64.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1" class="difflineminus">--- a/mailnews/local/test/unit/head_maillocal.js</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineplus">+++ b/mailnews/local/test/unit/head_maillocal.js</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineat">@@ -1,24 +1,25 @@</span>
<a href="#l65.4"></a><span id="l65.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l65.5"></a><span id="l65.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l65.6"></a><span id="l65.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l65.7"></a><span id="l65.7"> Components.utils.import(&quot;resource://testing-common/mailnews/mailDirService.js&quot;);</span>
<a href="#l65.8"></a><span id="l65.8" class="difflineplus">+Components.utils.import(&quot;resource://testing-common/mailnews/mailTestUtils.js&quot;);</span>
<a href="#l65.9"></a><span id="l65.9"> </span>
<a href="#l65.10"></a><span id="l65.10"> var Cc = Components.classes;</span>
<a href="#l65.11"></a><span id="l65.11"> var Ci = Components.interfaces;</span>
<a href="#l65.12"></a><span id="l65.12"> var Cr = Components.results;</span>
<a href="#l65.13"></a><span id="l65.13"> var CC = Components.Constructor;</span>
<a href="#l65.14"></a><span id="l65.14"> </span>
<a href="#l65.15"></a><span id="l65.15"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l65.16"></a><span id="l65.16"> </span>
<a href="#l65.17"></a><span id="l65.17"> var gDEPTH = &quot;../../../../&quot;;</span>
<a href="#l65.18"></a><span id="l65.18"> </span>
<a href="#l65.19"></a><span id="l65.19"> // Import the main scripts that mailnews tests need to set up and tear down</span>
<a href="#l65.20"></a><span id="l65.20" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l65.21"></a><span id="l65.21" class="difflineplus">+load(&quot;../../../resources/localAccountUtils.js&quot;);</span>
<a href="#l65.22"></a><span id="l65.22"> </span>
<a href="#l65.23"></a><span id="l65.23"> // Import the pop3 server scripts</span>
<a href="#l65.24"></a><span id="l65.24"> load(&quot;../../../fakeserver/maild.js&quot;);</span>
<a href="#l65.25"></a><span id="l65.25"> load(&quot;../../../fakeserver/auth.js&quot;);</span>
<a href="#l65.26"></a><span id="l65.26"> load(&quot;../../../fakeserver/pop3d.js&quot;);</span>
<a href="#l65.27"></a><span id="l65.27"> </span>
<a href="#l65.28"></a><span id="l65.28"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l65.29"></a><span id="l65.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/mailnews/local/test/unit/test_folderLoaded.js</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_folderLoaded.js</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -7,25 +7,24 @@</span>
<a href="#l66.4"></a><span id="l66.4">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l66.5"></a><span id="l66.5"> </span>
<a href="#l66.6"></a><span id="l66.6">  /**</span>
<a href="#l66.7"></a><span id="l66.7">  * The intent of this file is to show a folder loaded event after a load</span>
<a href="#l66.8"></a><span id="l66.8">  * with a null database.</span>
<a href="#l66.9"></a><span id="l66.9">  *</span>
<a href="#l66.10"></a><span id="l66.10">  */</span>
<a href="#l66.11"></a><span id="l66.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l66.12"></a><span id="l66.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l66.13"></a><span id="l66.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l66.14"></a><span id="l66.14"> </span>
<a href="#l66.15"></a><span id="l66.15"> var testSubjects = [&quot;[Bug 397009] A filter will let me tag, but not untag&quot;,</span>
<a href="#l66.16"></a><span id="l66.16">                     &quot;Hello, did you receive my bugmail?&quot;];</span>
<a href="#l66.17"></a><span id="l66.17"> var gMsgFile1 = do_get_file(&quot;../../../data/bugmail1&quot;);</span>
<a href="#l66.18"></a><span id="l66.18"> var gMsgFile2 = do_get_file(&quot;../../../data/draft1&quot;);</span>
<a href="#l66.19"></a><span id="l66.19"> </span>
<a href="#l66.20"></a><span id="l66.20" class="difflineminus">-gTargetFolder = null;</span>
<a href="#l66.21"></a><span id="l66.21" class="difflineplus">+var gTargetFolder = null;</span>
<a href="#l66.22"></a><span id="l66.22"> </span>
<a href="#l66.23"></a><span id="l66.23"> var tests = [</span>
<a href="#l66.24"></a><span id="l66.24">   function setup()</span>
<a href="#l66.25"></a><span id="l66.25">   {</span>
<a href="#l66.26"></a><span id="l66.26">     do_timeout(5000, function() {</span>
<a href="#l66.27"></a><span id="l66.27">       // should be done by now</span>
<a href="#l66.28"></a><span id="l66.28">       do_check_true(false);</span>
<a href="#l66.29"></a><span id="l66.29">     });</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1" class="difflineminus">--- a/mailnews/local/test/unit/test_msgIDParsing.js</span>
<a href="#l67.2"></a><span id="l67.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_msgIDParsing.js</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineat">@@ -1,15 +1,13 @@</span>
<a href="#l67.4"></a><span id="l67.4"> /*</span>
<a href="#l67.5"></a><span id="l67.5">  * Test bug 676916 - nsParseMailbox parses multi-line message-id header incorrectly</span>
<a href="#l67.6"></a><span id="l67.6">  */</span>
<a href="#l67.7"></a><span id="l67.7"> </span>
<a href="#l67.8"></a><span id="l67.8"> </span>
<a href="#l67.9"></a><span id="l67.9" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l67.10"></a><span id="l67.10" class="difflineminus">-</span>
<a href="#l67.11"></a><span id="l67.11"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l67.12"></a><span id="l67.12"> </span>
<a href="#l67.13"></a><span id="l67.13"> var gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;].</span>
<a href="#l67.14"></a><span id="l67.14">                    createInstance(Ci.nsIMessenger);</span>
<a href="#l67.15"></a><span id="l67.15"> </span>
<a href="#l67.16"></a><span id="l67.16"> loadLocalMailAccount();</span>
<a href="#l67.17"></a><span id="l67.17"> </span>
<a href="#l67.18"></a><span id="l67.18"> let localAccount = MailServices.accounts.FindAccountForServer(gLocalIncomingServer);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1" class="difflineminus">--- a/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_nsIMsgParseMailMsgState.js</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l68.4"></a><span id="l68.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l68.5"></a><span id="l68.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l68.6"></a><span id="l68.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l68.7"></a><span id="l68.7"> </span>
<a href="#l68.8"></a><span id="l68.8" class="difflineplus">+Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l68.9"></a><span id="l68.9" class="difflineplus">+</span>
<a href="#l68.10"></a><span id="l68.10"> const MSG_LINEBREAK = &quot;\r\n&quot;;</span>
<a href="#l68.11"></a><span id="l68.11"> </span>
<a href="#l68.12"></a><span id="l68.12"> function run_test() {</span>
<a href="#l68.13"></a><span id="l68.13">   loadLocalMailAccount();</span>
<a href="#l68.14"></a><span id="l68.14"> </span>
<a href="#l68.15"></a><span id="l68.15">   test_parse_headers_without_crash(&quot;./data/mailformed_recipients.eml&quot;);</span>
<a href="#l68.16"></a><span id="l68.16">   test_parse_headers_without_crash(&quot;./data/mailformed_subject.eml&quot;);</span>
<a href="#l68.17"></a><span id="l68.17">   test_parse_headers_without_crash(&quot;./data/invalid_mozilla_keys.eml&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1" class="difflineminus">--- a/mailnews/local/test/unit/test_over4GBMailboxes.js</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_over4GBMailboxes.js</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineat">@@ -11,17 +11,16 @@</span>
<a href="#l69.4"></a><span id="l69.4">  * - downloadOver4GiB</span>
<a href="#l69.5"></a><span id="l69.5">  * - growOver4GiB</span>
<a href="#l69.6"></a><span id="l69.6">  * -  ParseListener3</span>
<a href="#l69.7"></a><span id="l69.7">  * - copyIntoOver4GiB</span>
<a href="#l69.8"></a><span id="l69.8">  * - compactUnder4GiB</span>
<a href="#l69.9"></a><span id="l69.9">  * -  CompactListener2</span>
<a href="#l69.10"></a><span id="l69.10">  */</span>
<a href="#l69.11"></a><span id="l69.11"> </span>
<a href="#l69.12"></a><span id="l69.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l69.13"></a><span id="l69.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l69.14"></a><span id="l69.14"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l69.15"></a><span id="l69.15"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l69.16"></a><span id="l69.16"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l69.17"></a><span id="l69.17"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l69.18"></a><span id="l69.18"> </span>
<a href="#l69.19"></a><span id="l69.19"> Services.prefs.setCharPref(&quot;mail.serverDefaultStoreContractID&quot;,</span>
<a href="#l69.20"></a><span id="l69.20">                            &quot;@mozilla.org/msgstore/berkeleystore;1&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3PasswordFailure2.js</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3PasswordFailure2.js</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -8,17 +8,16 @@</span>
<a href="#l70.4"></a><span id="l70.4">  *   - Re-initiate connection, this time select enter new password, check that</span>
<a href="#l70.5"></a><span id="l70.5">  *     we get a new password prompt and can enter the password.</span>
<a href="#l70.6"></a><span id="l70.6">  */</span>
<a href="#l70.7"></a><span id="l70.7"> </span>
<a href="#l70.8"></a><span id="l70.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l70.9"></a><span id="l70.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l70.10"></a><span id="l70.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l70.11"></a><span id="l70.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l70.12"></a><span id="l70.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l70.13"></a><span id="l70.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l70.14"></a><span id="l70.14"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l70.15"></a><span id="l70.15"> </span>
<a href="#l70.16"></a><span id="l70.16"> var test = null;</span>
<a href="#l70.17"></a><span id="l70.17"> var server;</span>
<a href="#l70.18"></a><span id="l70.18"> var daemon;</span>
<a href="#l70.19"></a><span id="l70.19"> var incomingServer;</span>
<a href="#l70.20"></a><span id="l70.20"> var attempt = 0;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3PasswordFailure3.js</span>
<a href="#l71.2"></a><span id="l71.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3PasswordFailure3.js</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineat">@@ -10,17 +10,16 @@</span>
<a href="#l71.4"></a><span id="l71.4">  *   - Re-initiate connection, this time select enter new password, check that</span>
<a href="#l71.5"></a><span id="l71.5">  *     we get a new password prompt and can enter the password.</span>
<a href="#l71.6"></a><span id="l71.6">  */</span>
<a href="#l71.7"></a><span id="l71.7"> </span>
<a href="#l71.8"></a><span id="l71.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l71.9"></a><span id="l71.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l71.10"></a><span id="l71.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l71.11"></a><span id="l71.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l71.12"></a><span id="l71.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l71.13"></a><span id="l71.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l71.14"></a><span id="l71.14"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l71.15"></a><span id="l71.15"> </span>
<a href="#l71.16"></a><span id="l71.16"> var test = null;</span>
<a href="#l71.17"></a><span id="l71.17"> var server;</span>
<a href="#l71.18"></a><span id="l71.18"> var daemon;</span>
<a href="#l71.19"></a><span id="l71.19"> var incomingServer;</span>
<a href="#l71.20"></a><span id="l71.20"> var attempt = 0;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1" class="difflineminus">--- a/mailnews/local/test/unit/test_saveMessage.js</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_saveMessage.js</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l72.4"></a><span id="l72.4"> /*</span>
<a href="#l72.5"></a><span id="l72.5">  * Test bug 460636 - Saving message in local folder as .EML removes starting dot in all lines, and ignores line if single dot only line.</span>
<a href="#l72.6"></a><span id="l72.6">  */</span>
<a href="#l72.7"></a><span id="l72.7"> </span>
<a href="#l72.8"></a><span id="l72.8" class="difflineplus">+Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l72.9"></a><span id="l72.9" class="difflineplus">+</span>
<a href="#l72.10"></a><span id="l72.10"> const MSG_LINEBREAK = &quot;\r\n&quot;;</span>
<a href="#l72.11"></a><span id="l72.11"> const dot = do_get_file(&quot;data/dot&quot;);</span>
<a href="#l72.12"></a><span id="l72.12"> let saveFile = Services.dirsvc.get(&quot;TmpD&quot;, Ci.nsIFile);</span>
<a href="#l72.13"></a><span id="l72.13"> saveFile.append(dot.leafName + &quot;.eml&quot;);</span>
<a href="#l72.14"></a><span id="l72.14"> saveFile.createUnique(Ci.nsIFile.NORMAL_FILE_TYPE, 0600);</span>
<a href="#l72.15"></a><span id="l72.15"> </span>
<a href="#l72.16"></a><span id="l72.16"> function run_test()</span>
<a href="#l72.17"></a><span id="l72.17"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1" class="difflineminus">--- a/mailnews/local/test/unit/test_streamHeaders.js</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_streamHeaders.js</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineat">@@ -6,17 +6,16 @@</span>
<a href="#l73.4"></a><span id="l73.4">  * This mainly tests that streamHeaders does not result in the crash</span>
<a href="#l73.5"></a><span id="l73.5">  * of bug 752768</span>
<a href="#l73.6"></a><span id="l73.6">  *</span>
<a href="#l73.7"></a><span id="l73.7">  * adapted from test_pop3Pump.js by Kent James &lt;kent@caspia.com&gt;</span>
<a href="#l73.8"></a><span id="l73.8">  */</span>
<a href="#l73.9"></a><span id="l73.9"> </span>
<a href="#l73.10"></a><span id="l73.10"> // async support</span>
<a href="#l73.11"></a><span id="l73.11"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l73.12"></a><span id="l73.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l73.13"></a><span id="l73.13"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l73.14"></a><span id="l73.14"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l73.15"></a><span id="l73.15"> </span>
<a href="#l73.16"></a><span id="l73.16"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l73.17"></a><span id="l73.17"> </span>
<a href="#l73.18"></a><span id="l73.18"> var testSubjects = [&quot;Hello, did you receive my bugmail?&quot;];</span>
<a href="#l73.19"></a><span id="l73.19"> var tests = [loadMessages,</span>
<a href="#l73.20"></a><span id="l73.20">              goodStreaming,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l74.1"></a><span id="l74.1" class="difflineminus">--- a/mailnews/mime/test/unit/head_mime.js</span>
<a href="#l74.2"></a><span id="l74.2" class="difflineplus">+++ b/mailnews/mime/test/unit/head_mime.js</span>
<a href="#l74.3"></a><span id="l74.3" class="difflineat">@@ -1,12 +1,13 @@</span>
<a href="#l74.4"></a><span id="l74.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l74.5"></a><span id="l74.5"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l74.6"></a><span id="l74.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l74.7"></a><span id="l74.7"> Components.utils.import(&quot;resource://testing-common/mailnews/mailDirService.js&quot;);</span>
<a href="#l74.8"></a><span id="l74.8" class="difflineplus">+Components.utils.import(&quot;resource://testing-common/mailnews/mailTestUtils.js&quot;);</span>
<a href="#l74.9"></a><span id="l74.9"> </span>
<a href="#l74.10"></a><span id="l74.10"> var Cc = Components.classes;</span>
<a href="#l74.11"></a><span id="l74.11"> var Ci = Components.interfaces;</span>
<a href="#l74.12"></a><span id="l74.12"> var Cr = Components.results;</span>
<a href="#l74.13"></a><span id="l74.13"> var CC = Components.Constructor;</span>
<a href="#l74.14"></a><span id="l74.14"> </span>
<a href="#l74.15"></a><span id="l74.15"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l74.16"></a><span id="l74.16"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l75.1"></a><span id="l75.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_attachment_size.js</span>
<a href="#l75.2"></a><span id="l75.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_attachment_size.js</span>
<a href="#l75.3"></a><span id="l75.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l75.4"></a><span id="l75.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l75.5"></a><span id="l75.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l75.6"></a><span id="l75.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l75.7"></a><span id="l75.7"> </span>
<a href="#l75.8"></a><span id="l75.8"> /**</span>
<a href="#l75.9"></a><span id="l75.9">  * This test creates some messages with attachments of different types and</span>
<a href="#l75.10"></a><span id="l75.10">  * checks that libmime reports the expected size for each of them.</span>
<a href="#l75.11"></a><span id="l75.11">  */</span>
<a href="#l75.12"></a><span id="l75.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l75.13"></a><span id="l75.13"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l75.14"></a><span id="l75.14"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l75.15"></a><span id="l75.15"> </span>
<a href="#l75.16"></a><span id="l75.16"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l75.17"></a><span id="l75.17"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l75.18"></a><span id="l75.18"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l75.19"></a><span id="l75.19"> </span>
<a href="#l75.20"></a><span id="l75.20"> let gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l76.1"></a><span id="l76.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_badContentType.js</span>
<a href="#l76.2"></a><span id="l76.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_badContentType.js</span>
<a href="#l76.3"></a><span id="l76.3" class="difflineat">@@ -2,17 +2,16 @@</span>
<a href="#l76.4"></a><span id="l76.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l76.5"></a><span id="l76.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l76.6"></a><span id="l76.6"> </span>
<a href="#l76.7"></a><span id="l76.7"> /**</span>
<a href="#l76.8"></a><span id="l76.8">  * This test checks handling of bad content type of the</span>
<a href="#l76.9"></a><span id="l76.9">  * type reported in bug 659355.</span>
<a href="#l76.10"></a><span id="l76.10">  * Adapted from test_attachment_size.js</span>
<a href="#l76.11"></a><span id="l76.11">  */</span>
<a href="#l76.12"></a><span id="l76.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l76.13"></a><span id="l76.13"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l76.14"></a><span id="l76.14"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l76.15"></a><span id="l76.15"> </span>
<a href="#l76.16"></a><span id="l76.16"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l76.17"></a><span id="l76.17"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l76.18"></a><span id="l76.18"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l76.19"></a><span id="l76.19"> </span>
<a href="#l76.20"></a><span id="l76.20"> let gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l77.1"></a><span id="l77.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_hidden_attachments.js</span>
<a href="#l77.2"></a><span id="l77.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_hidden_attachments.js</span>
<a href="#l77.3"></a><span id="l77.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l77.4"></a><span id="l77.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l77.5"></a><span id="l77.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l77.6"></a><span id="l77.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l77.7"></a><span id="l77.7"> </span>
<a href="#l77.8"></a><span id="l77.8"> /**</span>
<a href="#l77.9"></a><span id="l77.9">  * This test creates some messages with attachments of different types and</span>
<a href="#l77.10"></a><span id="l77.10">  * checks that libmime emits (or doesn't emit) the attachments as appropriate.</span>
<a href="#l77.11"></a><span id="l77.11">  */</span>
<a href="#l77.12"></a><span id="l77.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l77.13"></a><span id="l77.13"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l77.14"></a><span id="l77.14"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l77.15"></a><span id="l77.15"> </span>
<a href="#l77.16"></a><span id="l77.16"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l77.17"></a><span id="l77.17"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l77.18"></a><span id="l77.18"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l77.19"></a><span id="l77.19"> </span>
<a href="#l77.20"></a><span id="l77.20"> let gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l78.1"></a><span id="l78.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_message_attachment.js</span>
<a href="#l78.2"></a><span id="l78.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_message_attachment.js</span>
<a href="#l78.3"></a><span id="l78.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l78.4"></a><span id="l78.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l78.5"></a><span id="l78.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l78.6"></a><span id="l78.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l78.7"></a><span id="l78.7"> </span>
<a href="#l78.8"></a><span id="l78.8"> /**</span>
<a href="#l78.9"></a><span id="l78.9">  * This test verifies that we don't display text attachments inline</span>
<a href="#l78.10"></a><span id="l78.10">  * when mail.inline_attachments is false.</span>
<a href="#l78.11"></a><span id="l78.11">  */</span>
<a href="#l78.12"></a><span id="l78.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l78.13"></a><span id="l78.13"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l78.14"></a><span id="l78.14"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l78.15"></a><span id="l78.15"> </span>
<a href="#l78.16"></a><span id="l78.16"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l78.17"></a><span id="l78.17"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l78.18"></a><span id="l78.18"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l78.19"></a><span id="l78.19"> </span>
<a href="#l78.20"></a><span id="l78.20"> let gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l79.1"></a><span id="l79.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_mimeStreaming.js</span>
<a href="#l79.2"></a><span id="l79.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_mimeStreaming.js</span>
<a href="#l79.3"></a><span id="l79.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l79.4"></a><span id="l79.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l79.5"></a><span id="l79.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l79.6"></a><span id="l79.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l79.7"></a><span id="l79.7"> </span>
<a href="#l79.8"></a><span id="l79.8"> /**</span>
<a href="#l79.9"></a><span id="l79.9">  * This test iterates over the test files in gTestFiles, and streams</span>
<a href="#l79.10"></a><span id="l79.10">  * each as a message and makes sure the streaming doesn't assert or crash.</span>
<a href="#l79.11"></a><span id="l79.11">  */</span>
<a href="#l79.12"></a><span id="l79.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l79.13"></a><span id="l79.13"> Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l79.14"></a><span id="l79.14"> </span>
<a href="#l79.15"></a><span id="l79.15"> var gTestFiles =[ </span>
<a href="#l79.16"></a><span id="l79.16">   &quot;../../../data/bug505221&quot;,</span>
<a href="#l79.17"></a><span id="l79.17">   &quot;../../../data/bug513543&quot;,</span>
<a href="#l79.18"></a><span id="l79.18"> ];</span>
<a href="#l79.19"></a><span id="l79.19"> </span>
<a href="#l79.20"></a><span id="l79.20"> var gMsgEnumerator;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l80.1"></a><span id="l80.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_rfc822_body.js</span>
<a href="#l80.2"></a><span id="l80.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_rfc822_body.js</span>
<a href="#l80.3"></a><span id="l80.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l80.4"></a><span id="l80.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l80.5"></a><span id="l80.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l80.6"></a><span id="l80.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l80.7"></a><span id="l80.7"> </span>
<a href="#l80.8"></a><span id="l80.8"> /**</span>
<a href="#l80.9"></a><span id="l80.9">  * This test verifies that we emit a message/rfc822 body part as an attachment</span>
<a href="#l80.10"></a><span id="l80.10">  * whether or not mail.inline_attachments is true.</span>
<a href="#l80.11"></a><span id="l80.11">  */</span>
<a href="#l80.12"></a><span id="l80.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l80.13"></a><span id="l80.13"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l80.14"></a><span id="l80.14"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l80.15"></a><span id="l80.15"> </span>
<a href="#l80.16"></a><span id="l80.16"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l80.17"></a><span id="l80.17"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l80.18"></a><span id="l80.18"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l80.19"></a><span id="l80.19"> </span>
<a href="#l80.20"></a><span id="l80.20"> let gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l81.1"></a><span id="l81.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_text_attachment.js</span>
<a href="#l81.2"></a><span id="l81.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_text_attachment.js</span>
<a href="#l81.3"></a><span id="l81.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l81.4"></a><span id="l81.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l81.5"></a><span id="l81.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l81.6"></a><span id="l81.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l81.7"></a><span id="l81.7"> </span>
<a href="#l81.8"></a><span id="l81.8"> /**</span>
<a href="#l81.9"></a><span id="l81.9">  * This test verifies that we don't display text attachments inline</span>
<a href="#l81.10"></a><span id="l81.10">  * when mail.inline_attachments is false.</span>
<a href="#l81.11"></a><span id="l81.11">  */</span>
<a href="#l81.12"></a><span id="l81.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l81.13"></a><span id="l81.13"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l81.14"></a><span id="l81.14"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l81.15"></a><span id="l81.15"> </span>
<a href="#l81.16"></a><span id="l81.16"> load(&quot;../../../resources/messageGenerator.js&quot;);</span>
<a href="#l81.17"></a><span id="l81.17"> load(&quot;../../../resources/messageModifier.js&quot;);</span>
<a href="#l81.18"></a><span id="l81.18"> load(&quot;../../../resources/messageInjection.js&quot;);</span>
<a href="#l81.19"></a><span id="l81.19"> </span>
<a href="#l81.20"></a><span id="l81.20"> let gMessenger = Cc[&quot;@mozilla.org/messenger;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l82.1"></a><span id="l82.1" class="difflineminus">--- a/mailnews/news/test/unit/head_server_setup.js</span>
<a href="#l82.2"></a><span id="l82.2" class="difflineplus">+++ b/mailnews/news/test/unit/head_server_setup.js</span>
<a href="#l82.3"></a><span id="l82.3" class="difflineat">@@ -10,17 +10,17 @@ var CC = Components.Constructor;</span>
<a href="#l82.4"></a><span id="l82.4"> </span>
<a href="#l82.5"></a><span id="l82.5"> var gProfileDir = ProfileDir.initialize(do_get_profile());</span>
<a href="#l82.6"></a><span id="l82.6"> </span>
<a href="#l82.7"></a><span id="l82.7"> // Import the servers</span>
<a href="#l82.8"></a><span id="l82.8"> load(&quot;../../../fakeserver/maild.js&quot;);</span>
<a href="#l82.9"></a><span id="l82.9"> load(&quot;../../../fakeserver/nntpd.js&quot;);</span>
<a href="#l82.10"></a><span id="l82.10"> </span>
<a href="#l82.11"></a><span id="l82.11"> // Generic mailnews resource scripts</span>
<a href="#l82.12"></a><span id="l82.12" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l82.13"></a><span id="l82.13" class="difflineplus">+load(&quot;../../../resources/localAccountUtils.js&quot;);</span>
<a href="#l82.14"></a><span id="l82.14"> </span>
<a href="#l82.15"></a><span id="l82.15"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l82.16"></a><span id="l82.16"> </span>
<a href="#l82.17"></a><span id="l82.17"> const kSimpleNewsArticle =</span>
<a href="#l82.18"></a><span id="l82.18">   &quot;From: John Doe &lt;john.doe@example.com&gt;\n&quot;+</span>
<a href="#l82.19"></a><span id="l82.19">   &quot;Date: Sat, 24 Mar 1990 10:59:24 -0500\n&quot;+</span>
<a href="#l82.20"></a><span id="l82.20">   &quot;Newsgroups: test.subscribe.simple\n&quot;+</span>
<a href="#l82.21"></a><span id="l82.21">   &quot;Subject: H2G2 -- What does it mean?\n&quot;+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l83.1"></a><span id="l83.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpPassword3.js</span>
<a href="#l83.2"></a><span id="l83.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpPassword3.js</span>
<a href="#l83.3"></a><span id="l83.3" class="difflineat">@@ -1,15 +1,13 @@</span>
<a href="#l83.4"></a><span id="l83.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l83.5"></a><span id="l83.5"> /**</span>
<a href="#l83.6"></a><span id="l83.6">  * Extra tests for forgetting newsgroup usernames and passwords.</span>
<a href="#l83.7"></a><span id="l83.7">  */</span>
<a href="#l83.8"></a><span id="l83.8"> </span>
<a href="#l83.9"></a><span id="l83.9" class="difflineminus">-load(&quot;../../../resources/mailTestUtils.js&quot;);</span>
<a href="#l83.10"></a><span id="l83.10" class="difflineminus">-</span>
<a href="#l83.11"></a><span id="l83.11"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l83.12"></a><span id="l83.12"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l83.13"></a><span id="l83.13"> </span>
<a href="#l83.14"></a><span id="l83.14"> const kUsername = &quot;testnews&quot;;</span>
<a href="#l83.15"></a><span id="l83.15"> const kPassword = &quot;newstest&quot;;</span>
<a href="#l83.16"></a><span id="l83.16"> const kProtocol = &quot;nntp&quot;;</span>
<a href="#l83.17"></a><span id="l83.17"> const kHostname = &quot;localhost&quot;;</span>
<a href="#l83.18"></a><span id="l83.18"> const kServerUrl = &quot;news://&quot; + kHostname;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l84.1"></a><span id="l84.1" class="difflineminus">--- a/mailnews/test/resources/IMAPpump.js</span>
<a href="#l84.2"></a><span id="l84.2" class="difflineplus">+++ b/mailnews/test/resources/IMAPpump.js</span>
<a href="#l84.3"></a><span id="l84.3" class="difflineat">@@ -26,18 +26,18 @@ if (typeof gDEPTH == &quot;undefined&quot;)</span>
<a href="#l84.4"></a><span id="l84.4"> </span>
<a href="#l84.5"></a><span id="l84.5"> if (typeof gMaild_js__ == &quot;undefined&quot;)</span>
<a href="#l84.6"></a><span id="l84.6">   load(gDEPTH + &quot;mailnews/fakeserver/maild.js&quot;);</span>
<a href="#l84.7"></a><span id="l84.7"> if (typeof AuthPLAIN == &quot;undefined&quot;)</span>
<a href="#l84.8"></a><span id="l84.8">   load(gDEPTH + &quot;mailnews/fakeserver/auth.js&quot;);</span>
<a href="#l84.9"></a><span id="l84.9"> if (typeof imapDaemon == &quot;undefined&quot;)</span>
<a href="#l84.10"></a><span id="l84.10">   load(gDEPTH + &quot;mailnews/fakeserver/imapd.js&quot;);</span>
<a href="#l84.11"></a><span id="l84.11"> </span>
<a href="#l84.12"></a><span id="l84.12" class="difflineminus">-// Add mailTestUtils for create_incoming_server</span>
<a href="#l84.13"></a><span id="l84.13" class="difflineminus">-load(gDEPTH + &quot;mailnews/resources/mailTestUtils.js&quot;);</span>
<a href="#l84.14"></a><span id="l84.14" class="difflineplus">+// Add localAccountUtils for create_incoming_server</span>
<a href="#l84.15"></a><span id="l84.15" class="difflineplus">+load(gDEPTH + &quot;mailnews/resources/localAccountUtils.js&quot;);</span>
<a href="#l84.16"></a><span id="l84.16"> </span>
<a href="#l84.17"></a><span id="l84.17"> // define globals</span>
<a href="#l84.18"></a><span id="l84.18"> var gIMAPDaemon;         // the imap fake server daemon</span>
<a href="#l84.19"></a><span id="l84.19"> var gIMAPServer;         // the imap fake server</span>
<a href="#l84.20"></a><span id="l84.20"> var gIMAPIncomingServer; // nsIMsgIncomingServer for the imap server</span>
<a href="#l84.21"></a><span id="l84.21"> var gIMAPInbox;          // nsIMsgFolder/nsIMsgImapMailFolder for imap inbox</span>
<a href="#l84.22"></a><span id="l84.22"> var gIMAPMailbox;        // imap fake server mailbox</span>
<a href="#l84.23"></a><span id="l84.23"> var gAppInfo;            // application info</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l85.1"></a><span id="l85.1" class="difflineminus">--- a/mailnews/test/resources/POP3pump.js</span>
<a href="#l85.2"></a><span id="l85.2" class="difflineplus">+++ b/mailnews/test/resources/POP3pump.js</span>
<a href="#l85.3"></a><span id="l85.3" class="difflineat">@@ -21,22 +21,22 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l85.4"></a><span id="l85.4"> // Provide understandable error message</span>
<a href="#l85.5"></a><span id="l85.5"> if (typeof gDEPTH == &quot;undefined&quot;)</span>
<a href="#l85.6"></a><span id="l85.6">   do_throw(&quot;gDEPTH must be defined when using IMAPpump.js&quot;);</span>
<a href="#l85.7"></a><span id="l85.7"> </span>
<a href="#l85.8"></a><span id="l85.8"> // Import the pop3 server scripts</span>
<a href="#l85.9"></a><span id="l85.9"> if (typeof nsMailServer == 'undefined')</span>
<a href="#l85.10"></a><span id="l85.10">   load(gDEPTH + &quot;mailnews/fakeserver/maild.js&quot;);</span>
<a href="#l85.11"></a><span id="l85.11"> if (typeof AuthPLAIN == 'undefined')</span>
<a href="#l85.12"></a><span id="l85.12" class="difflineminus">-  load(gDEPTH + &quot;mailnews/fakeserver/auth.js&quot;)</span>
<a href="#l85.13"></a><span id="l85.13" class="difflineplus">+  load(gDEPTH + &quot;mailnews/fakeserver/auth.js&quot;);</span>
<a href="#l85.14"></a><span id="l85.14"> if (typeof pop3Daemon == 'undefined')</span>
<a href="#l85.15"></a><span id="l85.15">   load(gDEPTH + &quot;mailnews/fakeserver/pop3d.js&quot;);</span>
<a href="#l85.16"></a><span id="l85.16"> </span>
<a href="#l85.17"></a><span id="l85.17" class="difflineminus">-// Add mailTestUtils for create_incoming_server</span>
<a href="#l85.18"></a><span id="l85.18" class="difflineminus">-load(gDEPTH + &quot;mailnews/resources/mailTestUtils.js&quot;);</span>
<a href="#l85.19"></a><span id="l85.19" class="difflineplus">+// Add localAccountUtils for create_incoming_server</span>
<a href="#l85.20"></a><span id="l85.20" class="difflineplus">+load(gDEPTH + &quot;mailnews/resources/localAccountUtils.js&quot;);</span>
<a href="#l85.21"></a><span id="l85.21"> </span>
<a href="#l85.22"></a><span id="l85.22"> function POP3Pump()</span>
<a href="#l85.23"></a><span id="l85.23"> {</span>
<a href="#l85.24"></a><span id="l85.24">   // public attributes</span>
<a href="#l85.25"></a><span id="l85.25">   this.fakeServer = null;</span>
<a href="#l85.26"></a><span id="l85.26">   this.onDone = null;</span>
<a href="#l85.27"></a><span id="l85.27">   this.files = null;</span>
<a href="#l85.28"></a><span id="l85.28"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l86.1"></a><span id="l86.1">new file mode 100644</span>
<a href="#l86.2"></a><span id="l86.2" class="difflineminus">--- /dev/null</span>
<a href="#l86.3"></a><span id="l86.3" class="difflineplus">+++ b/mailnews/test/resources/localAccountUtils.js</span>
<a href="#l86.4"></a><span id="l86.4" class="difflineat">@@ -0,0 +1,116 @@</span>
<a href="#l86.5"></a><span id="l86.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l86.6"></a><span id="l86.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l86.7"></a><span id="l86.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l86.8"></a><span id="l86.8" class="difflineplus">+</span>
<a href="#l86.9"></a><span id="l86.9" class="difflineplus">+// Make sure we execute this file exactly once</span>
<a href="#l86.10"></a><span id="l86.10" class="difflineplus">+var gLocalAccountUtils_js__;</span>
<a href="#l86.11"></a><span id="l86.11" class="difflineplus">+if (!gLocalAccountUtils_js__) {</span>
<a href="#l86.12"></a><span id="l86.12" class="difflineplus">+gLocalAccountUtils_js__ = true;</span>
<a href="#l86.13"></a><span id="l86.13" class="difflineplus">+</span>
<a href="#l86.14"></a><span id="l86.14" class="difflineplus">+// Local Mail Folders. Requires prior setup of profile directory</span>
<a href="#l86.15"></a><span id="l86.15" class="difflineplus">+</span>
<a href="#l86.16"></a><span id="l86.16" class="difflineplus">+var gLocalIncomingServer;</span>
<a href="#l86.17"></a><span id="l86.17" class="difflineplus">+var gLocalRootFolder;</span>
<a href="#l86.18"></a><span id="l86.18" class="difflineplus">+var gLocalMsgAccount;</span>
<a href="#l86.19"></a><span id="l86.19" class="difflineplus">+var gLocalInboxFolder;</span>
<a href="#l86.20"></a><span id="l86.20" class="difflineplus">+var _localAccountInitialized = false;</span>
<a href="#l86.21"></a><span id="l86.21" class="difflineplus">+</span>
<a href="#l86.22"></a><span id="l86.22" class="difflineplus">+function loadLocalMailAccount()</span>
<a href="#l86.23"></a><span id="l86.23" class="difflineplus">+{</span>
<a href="#l86.24"></a><span id="l86.24" class="difflineplus">+  // This function is idempotent</span>
<a href="#l86.25"></a><span id="l86.25" class="difflineplus">+  if (_localAccountInitialized)</span>
<a href="#l86.26"></a><span id="l86.26" class="difflineplus">+    return;</span>
<a href="#l86.27"></a><span id="l86.27" class="difflineplus">+</span>
<a href="#l86.28"></a><span id="l86.28" class="difflineplus">+  MailServices.accounts.createLocalMailAccount();</span>
<a href="#l86.29"></a><span id="l86.29" class="difflineplus">+</span>
<a href="#l86.30"></a><span id="l86.30" class="difflineplus">+  gLocalIncomingServer = MailServices.accounts.localFoldersServer;</span>
<a href="#l86.31"></a><span id="l86.31" class="difflineplus">+  gLocalMsgAccount = MailServices.accounts.FindAccountForServer(</span>
<a href="#l86.32"></a><span id="l86.32" class="difflineplus">+    gLocalIncomingServer);</span>
<a href="#l86.33"></a><span id="l86.33" class="difflineplus">+</span>
<a href="#l86.34"></a><span id="l86.34" class="difflineplus">+  gLocalRootFolder = gLocalIncomingServer.rootMsgFolder</span>
<a href="#l86.35"></a><span id="l86.35" class="difflineplus">+                     .QueryInterface(Ci.nsIMsgLocalMailFolder);</span>
<a href="#l86.36"></a><span id="l86.36" class="difflineplus">+</span>
<a href="#l86.37"></a><span id="l86.37" class="difflineplus">+  // Note: Inbox is not created automatically when there is no deferred server,</span>
<a href="#l86.38"></a><span id="l86.38" class="difflineplus">+  // so we need to create it.</span>
<a href="#l86.39"></a><span id="l86.39" class="difflineplus">+  gLocalInboxFolder = gLocalRootFolder.createLocalSubfolder(&quot;Inbox&quot;)</span>
<a href="#l86.40"></a><span id="l86.40" class="difflineplus">+                       .QueryInterface(Ci.nsIMsgLocalMailFolder);</span>
<a href="#l86.41"></a><span id="l86.41" class="difflineplus">+  // a local inbox should have a Mail flag!</span>
<a href="#l86.42"></a><span id="l86.42" class="difflineplus">+  gLocalInboxFolder.setFlag(Ci.nsMsgFolderFlags.Mail);</span>
<a href="#l86.43"></a><span id="l86.43" class="difflineplus">+</span>
<a href="#l86.44"></a><span id="l86.44" class="difflineplus">+  // Force an initialization of the Inbox folder database.</span>
<a href="#l86.45"></a><span id="l86.45" class="difflineplus">+  var folderName = gLocalInboxFolder.prettiestName;</span>
<a href="#l86.46"></a><span id="l86.46" class="difflineplus">+</span>
<a href="#l86.47"></a><span id="l86.47" class="difflineplus">+  _localAccountInitialized = true;</span>
<a href="#l86.48"></a><span id="l86.48" class="difflineplus">+}</span>
<a href="#l86.49"></a><span id="l86.49" class="difflineplus">+</span>
<a href="#l86.50"></a><span id="l86.50" class="difflineplus">+/**</span>
<a href="#l86.51"></a><span id="l86.51" class="difflineplus">+ * Create an nsIMsgIncomingServer and an nsIMsgAccount to go with it.</span>
<a href="#l86.52"></a><span id="l86.52" class="difflineplus">+ *</span>
<a href="#l86.53"></a><span id="l86.53" class="difflineplus">+ * @param aType The type of the server (pop3, imap etc).</span>
<a href="#l86.54"></a><span id="l86.54" class="difflineplus">+ * @param aPort The port the server is on.</span>
<a href="#l86.55"></a><span id="l86.55" class="difflineplus">+ * @param aUsername The username for the server.</span>
<a href="#l86.56"></a><span id="l86.56" class="difflineplus">+ * @param aPassword The password for the server.</span>
<a href="#l86.57"></a><span id="l86.57" class="difflineplus">+ * @return The newly-created nsIMsgIncomingServer.</span>
<a href="#l86.58"></a><span id="l86.58" class="difflineplus">+ */</span>
<a href="#l86.59"></a><span id="l86.59" class="difflineplus">+function create_incoming_server(aType, aPort, aUsername, aPassword) {</span>
<a href="#l86.60"></a><span id="l86.60" class="difflineplus">+  let server = MailServices.accounts.createIncomingServer(aUsername, &quot;localhost&quot;,</span>
<a href="#l86.61"></a><span id="l86.61" class="difflineplus">+                                                          aType);</span>
<a href="#l86.62"></a><span id="l86.62" class="difflineplus">+  server.port = aPort;</span>
<a href="#l86.63"></a><span id="l86.63" class="difflineplus">+  if (aUsername != null)</span>
<a href="#l86.64"></a><span id="l86.64" class="difflineplus">+    server.username = aUsername;</span>
<a href="#l86.65"></a><span id="l86.65" class="difflineplus">+  if (aPassword != null)</span>
<a href="#l86.66"></a><span id="l86.66" class="difflineplus">+    server.password = aPassword;</span>
<a href="#l86.67"></a><span id="l86.67" class="difflineplus">+</span>
<a href="#l86.68"></a><span id="l86.68" class="difflineplus">+  server.valid = false;</span>
<a href="#l86.69"></a><span id="l86.69" class="difflineplus">+</span>
<a href="#l86.70"></a><span id="l86.70" class="difflineplus">+  let account = MailServices.accounts.createAccount();</span>
<a href="#l86.71"></a><span id="l86.71" class="difflineplus">+  account.incomingServer = server;</span>
<a href="#l86.72"></a><span id="l86.72" class="difflineplus">+  if (aType == &quot;pop3&quot;) {</span>
<a href="#l86.73"></a><span id="l86.73" class="difflineplus">+    // Several tests expect that mail is deferred to the local folders account,</span>
<a href="#l86.74"></a><span id="l86.74" class="difflineplus">+    // so do that.</span>
<a href="#l86.75"></a><span id="l86.75" class="difflineplus">+    loadLocalMailAccount();</span>
<a href="#l86.76"></a><span id="l86.76" class="difflineplus">+    server.QueryInterface(Ci.nsIPop3IncomingServer);</span>
<a href="#l86.77"></a><span id="l86.77" class="difflineplus">+    server.deferredToAccount = gLocalMsgAccount.key;</span>
<a href="#l86.78"></a><span id="l86.78" class="difflineplus">+  }</span>
<a href="#l86.79"></a><span id="l86.79" class="difflineplus">+  server.valid = true;</span>
<a href="#l86.80"></a><span id="l86.80" class="difflineplus">+</span>
<a href="#l86.81"></a><span id="l86.81" class="difflineplus">+  return server;</span>
<a href="#l86.82"></a><span id="l86.82" class="difflineplus">+}</span>
<a href="#l86.83"></a><span id="l86.83" class="difflineplus">+</span>
<a href="#l86.84"></a><span id="l86.84" class="difflineplus">+/**</span>
<a href="#l86.85"></a><span id="l86.85" class="difflineplus">+ * Create an outgoing nsISmtpServer with the given parameters.</span>
<a href="#l86.86"></a><span id="l86.86" class="difflineplus">+ *</span>
<a href="#l86.87"></a><span id="l86.87" class="difflineplus">+ * @param aPort The port the server is on.</span>
<a href="#l86.88"></a><span id="l86.88" class="difflineplus">+ * @param aUsername The username for the server</span>
<a href="#l86.89"></a><span id="l86.89" class="difflineplus">+ * @param aPassword The password for the server</span>
<a href="#l86.90"></a><span id="l86.90" class="difflineplus">+ * @return The newly-created nsISmtpServer.</span>
<a href="#l86.91"></a><span id="l86.91" class="difflineplus">+ */</span>
<a href="#l86.92"></a><span id="l86.92" class="difflineplus">+function create_outgoing_server(aPort, aUsername, aPassword) {</span>
<a href="#l86.93"></a><span id="l86.93" class="difflineplus">+  let server = MailServices.smtp.createServer();</span>
<a href="#l86.94"></a><span id="l86.94" class="difflineplus">+  server.hostname = &quot;localhost&quot;;</span>
<a href="#l86.95"></a><span id="l86.95" class="difflineplus">+  server.port = aPort;</span>
<a href="#l86.96"></a><span id="l86.96" class="difflineplus">+  server.authMethod = Ci.nsMsgAuthMethod.none;</span>
<a href="#l86.97"></a><span id="l86.97" class="difflineplus">+  return server;</span>
<a href="#l86.98"></a><span id="l86.98" class="difflineplus">+}</span>
<a href="#l86.99"></a><span id="l86.99" class="difflineplus">+</span>
<a href="#l86.100"></a><span id="l86.100" class="difflineplus">+/**</span>
<a href="#l86.101"></a><span id="l86.101" class="difflineplus">+ * Associate the given outgoing server with the given incoming server's account.</span>
<a href="#l86.102"></a><span id="l86.102" class="difflineplus">+ *</span>
<a href="#l86.103"></a><span id="l86.103" class="difflineplus">+ * @param aIncoming The incoming server (nsIMsgIncomingServer) or account</span>
<a href="#l86.104"></a><span id="l86.104" class="difflineplus">+ *                  (nsIMsgAccount) to associate.</span>
<a href="#l86.105"></a><span id="l86.105" class="difflineplus">+ * @param aOutgoingServer The outgoing server (nsISmtpServer) to associate.</span>
<a href="#l86.106"></a><span id="l86.106" class="difflineplus">+ * @param aSetAsDefault Whether to set the outgoing server as the default for</span>
<a href="#l86.107"></a><span id="l86.107" class="difflineplus">+ *                      the incoming server's account.</span>
<a href="#l86.108"></a><span id="l86.108" class="difflineplus">+ */</span>
<a href="#l86.109"></a><span id="l86.109" class="difflineplus">+function associate_servers(aIncoming, aOutgoingServer, aSetAsDefault) {</span>
<a href="#l86.110"></a><span id="l86.110" class="difflineplus">+  let identity = MailServices.accounts.createIdentity();</span>
<a href="#l86.111"></a><span id="l86.111" class="difflineplus">+  identity.smtpServerKey = aOutgoingServer.key;</span>
<a href="#l86.112"></a><span id="l86.112" class="difflineplus">+</span>
<a href="#l86.113"></a><span id="l86.113" class="difflineplus">+  if (aIncoming instanceof Ci.nsIMsgIncomingServer)</span>
<a href="#l86.114"></a><span id="l86.114" class="difflineplus">+    aIncoming = MailServices.accounts.FindAccountForServer(aIncoming);</span>
<a href="#l86.115"></a><span id="l86.115" class="difflineplus">+  aIncoming.addIdentity(identity);</span>
<a href="#l86.116"></a><span id="l86.116" class="difflineplus">+  if (aSetAsDefault)</span>
<a href="#l86.117"></a><span id="l86.117" class="difflineplus">+    aIncoming.defaultIdentity = identity;</span>
<a href="#l86.118"></a><span id="l86.118" class="difflineplus">+}</span>
<a href="#l86.119"></a><span id="l86.119" class="difflineplus">+</span>
<a href="#l86.120"></a><span id="l86.120" class="difflineplus">+}; // gLocalAccountUtils_js__</span>
<a href="#l86.121"></a><span id="l86.121">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l87.1"></a><span id="l87.1" class="difflineminus">--- a/mailnews/test/resources/mailTestUtils.js</span>
<a href="#l87.2"></a><span id="l87.2" class="difflineplus">+++ b/mailnews/test/resources/mailTestUtils.js</span>
<a href="#l87.3"></a><span id="l87.3" class="difflineat">@@ -1,133 +1,25 @@</span>
<a href="#l87.4"></a><span id="l87.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l87.5"></a><span id="l87.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l87.6"></a><span id="l87.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l87.7"></a><span id="l87.7"> </span>
<a href="#l87.8"></a><span id="l87.8" class="difflineminus">-// Make sure we execute this file exactly once</span>
<a href="#l87.9"></a><span id="l87.9" class="difflineminus">-var gMailTestUtils_js__;</span>
<a href="#l87.10"></a><span id="l87.10" class="difflineminus">-if (!gMailTestUtils_js__) {</span>
<a href="#l87.11"></a><span id="l87.11" class="difflineminus">-gMailTestUtils_js__ = true;</span>
<a href="#l87.12"></a><span id="l87.12" class="difflineplus">+const EXPORTED_SYMBOLS = ['mailTestUtils'];</span>
<a href="#l87.13"></a><span id="l87.13"> </span>
<a href="#l87.14"></a><span id="l87.14" class="difflineminus">-// we would like for everyone to have fixIterator and toXPComArray</span>
<a href="#l87.15"></a><span id="l87.15" class="difflineminus">-Components.utils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l87.16"></a><span id="l87.16" class="difflineminus">-// exposes component loader's btoa impl</span>
<a href="#l87.17"></a><span id="l87.17" class="difflineminus">-Components.utils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l87.18"></a><span id="l87.18"> // JS ctypes, needed for a few native functions</span>
<a href="#l87.19"></a><span id="l87.19"> Components.utils.import(&quot;resource://gre/modules/ctypes.jsm&quot;);</span>
<a href="#l87.20"></a><span id="l87.20"> // Services</span>
<a href="#l87.21"></a><span id="l87.21"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l87.22"></a><span id="l87.22"> // MailServices</span>
<a href="#l87.23"></a><span id="l87.23"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l87.24"></a><span id="l87.24"> </span>
<a href="#l87.25"></a><span id="l87.25" class="difflineminus">-// Local Mail Folders. Requires prior setup of profile directory</span>
<a href="#l87.26"></a><span id="l87.26" class="difflineminus">-</span>
<a href="#l87.27"></a><span id="l87.27" class="difflineminus">-var gLocalIncomingServer;</span>
<a href="#l87.28"></a><span id="l87.28" class="difflineminus">-var gLocalRootFolder;</span>
<a href="#l87.29"></a><span id="l87.29" class="difflineminus">-var gLocalMsgAccount;</span>
<a href="#l87.30"></a><span id="l87.30" class="difflineminus">-var gLocalInboxFolder;</span>
<a href="#l87.31"></a><span id="l87.31" class="difflineminus">-var _localAccountInitialized = false;</span>
<a href="#l87.32"></a><span id="l87.32" class="difflineminus">-</span>
<a href="#l87.33"></a><span id="l87.33" class="difflineminus">-function loadLocalMailAccount()</span>
<a href="#l87.34"></a><span id="l87.34" class="difflineminus">-{</span>
<a href="#l87.35"></a><span id="l87.35" class="difflineminus">-  // This function is idempotent</span>
<a href="#l87.36"></a><span id="l87.36" class="difflineminus">-  if (_localAccountInitialized)</span>
<a href="#l87.37"></a><span id="l87.37" class="difflineminus">-    return;</span>
<a href="#l87.38"></a><span id="l87.38" class="difflineminus">-  </span>
<a href="#l87.39"></a><span id="l87.39" class="difflineminus">-  MailServices.accounts.createLocalMailAccount();</span>
<a href="#l87.40"></a><span id="l87.40" class="difflineminus">-</span>
<a href="#l87.41"></a><span id="l87.41" class="difflineminus">-  gLocalIncomingServer = MailServices.accounts.localFoldersServer;</span>
<a href="#l87.42"></a><span id="l87.42" class="difflineminus">-  gLocalMsgAccount = MailServices.accounts.FindAccountForServer(</span>
<a href="#l87.43"></a><span id="l87.43" class="difflineminus">-    gLocalIncomingServer);</span>
<a href="#l87.44"></a><span id="l87.44" class="difflineminus">-</span>
<a href="#l87.45"></a><span id="l87.45" class="difflineminus">-  gLocalRootFolder = gLocalIncomingServer.rootMsgFolder</span>
<a href="#l87.46"></a><span id="l87.46" class="difflineminus">-                     .QueryInterface(Ci.nsIMsgLocalMailFolder);</span>
<a href="#l87.47"></a><span id="l87.47" class="difflineminus">-</span>
<a href="#l87.48"></a><span id="l87.48" class="difflineminus">-  // Note: Inbox is not created automatically when there is no deferred server,</span>
<a href="#l87.49"></a><span id="l87.49" class="difflineminus">-  // so we need to create it.</span>
<a href="#l87.50"></a><span id="l87.50" class="difflineminus">-  gLocalInboxFolder = gLocalRootFolder.createLocalSubfolder(&quot;Inbox&quot;)</span>
<a href="#l87.51"></a><span id="l87.51" class="difflineminus">-                       .QueryInterface(Ci.nsIMsgLocalMailFolder);</span>
<a href="#l87.52"></a><span id="l87.52" class="difflineminus">-  // a local inbox should have a Mail flag!</span>
<a href="#l87.53"></a><span id="l87.53" class="difflineminus">-  gLocalInboxFolder.setFlag(Ci.nsMsgFolderFlags.Mail);</span>
<a href="#l87.54"></a><span id="l87.54" class="difflineminus">-</span>
<a href="#l87.55"></a><span id="l87.55" class="difflineminus">-  // Force an initialization of the Inbox folder database.</span>
<a href="#l87.56"></a><span id="l87.56" class="difflineminus">-  var folderName = gLocalInboxFolder.prettiestName;</span>
<a href="#l87.57"></a><span id="l87.57" class="difflineminus">-</span>
<a href="#l87.58"></a><span id="l87.58" class="difflineminus">-  _localAccountInitialized = true;</span>
<a href="#l87.59"></a><span id="l87.59" class="difflineminus">-}</span>
<a href="#l87.60"></a><span id="l87.60" class="difflineminus">-</span>
<a href="#l87.61"></a><span id="l87.61" class="difflineminus">-/**</span>
<a href="#l87.62"></a><span id="l87.62" class="difflineminus">- * Create an nsIMsgIncomingServer and an nsIMsgAccount to go with it.</span>
<a href="#l87.63"></a><span id="l87.63" class="difflineminus">- *</span>
<a href="#l87.64"></a><span id="l87.64" class="difflineminus">- * @param aType The type of the server (pop3, imap etc).</span>
<a href="#l87.65"></a><span id="l87.65" class="difflineminus">- * @param aPort The port the server is on.</span>
<a href="#l87.66"></a><span id="l87.66" class="difflineminus">- * @param aUsername The username for the server.</span>
<a href="#l87.67"></a><span id="l87.67" class="difflineminus">- * @param aPassword The password for the server.</span>
<a href="#l87.68"></a><span id="l87.68" class="difflineminus">- * @return The newly-created nsIMsgIncomingServer.</span>
<a href="#l87.69"></a><span id="l87.69" class="difflineminus">- */</span>
<a href="#l87.70"></a><span id="l87.70" class="difflineminus">-function create_incoming_server(aType, aPort, aUsername, aPassword) {</span>
<a href="#l87.71"></a><span id="l87.71" class="difflineminus">-  let server = MailServices.accounts.createIncomingServer(aUsername, &quot;localhost&quot;,</span>
<a href="#l87.72"></a><span id="l87.72" class="difflineminus">-                                                          aType);</span>
<a href="#l87.73"></a><span id="l87.73" class="difflineminus">-  server.port = aPort;</span>
<a href="#l87.74"></a><span id="l87.74" class="difflineminus">-  if (aUsername != null)</span>
<a href="#l87.75"></a><span id="l87.75" class="difflineminus">-    server.username = aUsername;</span>
<a href="#l87.76"></a><span id="l87.76" class="difflineminus">-  if (aPassword != null)</span>
<a href="#l87.77"></a><span id="l87.77" class="difflineminus">-    server.password = aPassword;</span>
<a href="#l87.78"></a><span id="l87.78" class="difflineminus">-</span>
<a href="#l87.79"></a><span id="l87.79" class="difflineminus">-  server.valid = false;</span>
<a href="#l87.80"></a><span id="l87.80" class="difflineminus">-</span>
<a href="#l87.81"></a><span id="l87.81" class="difflineminus">-  let account = MailServices.accounts.createAccount();</span>
<a href="#l87.82"></a><span id="l87.82" class="difflineminus">-  account.incomingServer = server;</span>
<a href="#l87.83"></a><span id="l87.83" class="difflineminus">-  if (aType == &quot;pop3&quot;) {</span>
<a href="#l87.84"></a><span id="l87.84" class="difflineminus">-    // Several tests expect that mail is deferred to the local folders account,</span>
<a href="#l87.85"></a><span id="l87.85" class="difflineminus">-    // so do that.</span>
<a href="#l87.86"></a><span id="l87.86" class="difflineminus">-    loadLocalMailAccount();</span>
<a href="#l87.87"></a><span id="l87.87" class="difflineminus">-    server.QueryInterface(Ci.nsIPop3IncomingServer);</span>
<a href="#l87.88"></a><span id="l87.88" class="difflineminus">-    server.deferredToAccount = gLocalMsgAccount.key;</span>
<a href="#l87.89"></a><span id="l87.89" class="difflineminus">-  }</span>
<a href="#l87.90"></a><span id="l87.90" class="difflineminus">-  server.valid = true;</span>
<a href="#l87.91"></a><span id="l87.91" class="difflineminus">-</span>
<a href="#l87.92"></a><span id="l87.92" class="difflineminus">-  return server;</span>
<a href="#l87.93"></a><span id="l87.93" class="difflineminus">-}</span>
<a href="#l87.94"></a><span id="l87.94" class="difflineminus">-</span>
<a href="#l87.95"></a><span id="l87.95" class="difflineminus">-/**</span>
<a href="#l87.96"></a><span id="l87.96" class="difflineminus">- * Create an outgoing nsISmtpServer with the given parameters.</span>
<a href="#l87.97"></a><span id="l87.97" class="difflineminus">- *</span>
<a href="#l87.98"></a><span id="l87.98" class="difflineminus">- * @param aPort The port the server is on.</span>
<a href="#l87.99"></a><span id="l87.99" class="difflineminus">- * @param aUsername The username for the server</span>
<a href="#l87.100"></a><span id="l87.100" class="difflineminus">- * @param aPassword The password for the server</span>
<a href="#l87.101"></a><span id="l87.101" class="difflineminus">- * @return The newly-created nsISmtpServer.</span>
<a href="#l87.102"></a><span id="l87.102" class="difflineminus">- */</span>
<a href="#l87.103"></a><span id="l87.103" class="difflineminus">-function create_outgoing_server(aPort, aUsername, aPassword) {</span>
<a href="#l87.104"></a><span id="l87.104" class="difflineminus">-  let server = MailServices.smtp.createServer();</span>
<a href="#l87.105"></a><span id="l87.105" class="difflineminus">-  server.hostname = &quot;localhost&quot;;</span>
<a href="#l87.106"></a><span id="l87.106" class="difflineminus">-  server.port = aPort;</span>
<a href="#l87.107"></a><span id="l87.107" class="difflineminus">-  server.authMethod = Ci.nsMsgAuthMethod.none;</span>
<a href="#l87.108"></a><span id="l87.108" class="difflineminus">-  return server;</span>
<a href="#l87.109"></a><span id="l87.109" class="difflineminus">-}</span>
<a href="#l87.110"></a><span id="l87.110" class="difflineminus">-</span>
<a href="#l87.111"></a><span id="l87.111" class="difflineminus">-/**</span>
<a href="#l87.112"></a><span id="l87.112" class="difflineminus">- * Associate the given outgoing server with the given incoming server's account.</span>
<a href="#l87.113"></a><span id="l87.113" class="difflineminus">- *</span>
<a href="#l87.114"></a><span id="l87.114" class="difflineminus">- * @param aIncoming The incoming server (nsIMsgIncomingServer) or account</span>
<a href="#l87.115"></a><span id="l87.115" class="difflineminus">- *                  (nsIMsgAccount) to associate.</span>
<a href="#l87.116"></a><span id="l87.116" class="difflineminus">- * @param aOutgoingServer The outgoing server (nsISmtpServer) to associate.</span>
<a href="#l87.117"></a><span id="l87.117" class="difflineminus">- * @param aSetAsDefault Whether to set the outgoing server as the default for</span>
<a href="#l87.118"></a><span id="l87.118" class="difflineminus">- *                      the incoming server's account.</span>
<a href="#l87.119"></a><span id="l87.119" class="difflineminus">- */</span>
<a href="#l87.120"></a><span id="l87.120" class="difflineminus">-function associate_servers(aIncoming, aOutgoingServer, aSetAsDefault) {</span>
<a href="#l87.121"></a><span id="l87.121" class="difflineminus">-  let identity = MailServices.accounts.createIdentity();</span>
<a href="#l87.122"></a><span id="l87.122" class="difflineminus">-  identity.smtpServerKey = aOutgoingServer.key;</span>
<a href="#l87.123"></a><span id="l87.123" class="difflineminus">-</span>
<a href="#l87.124"></a><span id="l87.124" class="difflineminus">-  if (aIncoming instanceof Ci.nsIMsgIncomingServer)</span>
<a href="#l87.125"></a><span id="l87.125" class="difflineminus">-    aIncoming = MailServices.accounts.FindAccountForServer(aIncoming);</span>
<a href="#l87.126"></a><span id="l87.126" class="difflineminus">-  aIncoming.addIdentity(identity);</span>
<a href="#l87.127"></a><span id="l87.127" class="difflineminus">-  if (aSetAsDefault)</span>
<a href="#l87.128"></a><span id="l87.128" class="difflineminus">-    aIncoming.defaultIdentity = identity;</span>
<a href="#l87.129"></a><span id="l87.129" class="difflineminus">-}</span>
<a href="#l87.130"></a><span id="l87.130" class="difflineplus">+var Cc = Components.classes;</span>
<a href="#l87.131"></a><span id="l87.131" class="difflineplus">+var Ci = Components.interfaces;</span>
<a href="#l87.132"></a><span id="l87.132" class="difflineplus">+var Cr = Components.results;</span>
<a href="#l87.133"></a><span id="l87.133" class="difflineplus">+var CC = Components.Constructor;</span>
<a href="#l87.134"></a><span id="l87.134"> </span>
<a href="#l87.135"></a><span id="l87.135"> var mailTestUtils = {</span>
<a href="#l87.136"></a><span id="l87.136">   // Loads a file to a string</span>
<a href="#l87.137"></a><span id="l87.137">   // If aCharset is specified, treats the file as being of that charset</span>
<a href="#l87.138"></a><span id="l87.138">   loadFileToString: function(aFile, aCharset) {</span>
<a href="#l87.139"></a><span id="l87.139">     var data = &quot;&quot;;</span>
<a href="#l87.140"></a><span id="l87.140">     var fstream = Cc[&quot;@mozilla.org/network/file-input-stream;1&quot;]</span>
<a href="#l87.141"></a><span id="l87.141">                     .createInstance(Ci.nsIFileInputStream);</span>
<a href="#l87.142"></a><span id="l87.142" class="difflineat">@@ -561,10 +453,8 @@ var mailTestUtils = {</span>
<a href="#l87.143"></a><span id="l87.143">   non_strict_index_of: function(aArray, aElem) {</span>
<a href="#l87.144"></a><span id="l87.144">     for (let [i, elem] in Iterator(aArray)) {</span>
<a href="#l87.145"></a><span id="l87.145">       if (elem == aElem)</span>
<a href="#l87.146"></a><span id="l87.146">         return i;</span>
<a href="#l87.147"></a><span id="l87.147">     }</span>
<a href="#l87.148"></a><span id="l87.148">     return -1;</span>
<a href="#l87.149"></a><span id="l87.149">   }</span>
<a href="#l87.150"></a><span id="l87.150"> };</span>
<a href="#l87.151"></a><span id="l87.151" class="difflineminus">-</span>
<a href="#l87.152"></a><span id="l87.152" class="difflineminus">-} // gMailTestUtils_js__</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

