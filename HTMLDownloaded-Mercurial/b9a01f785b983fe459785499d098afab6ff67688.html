<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 24430:b9a01f785b983fe459785499d098afab6ff67688</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ b9a01f785b983fe459785499d098afab6ff67688" />
<meta property="og:url" content="/comm-central/rev/b9a01f785b983fe459785499d098afab6ff67688" />
<meta property="og:description" content="Bug 1472002 - Port bug 1470910 to TB: Migrate input-box / input-box-spell to a Custom Element. rs=jorgk" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / b9a01f785b983fe459785499d098afab6ff67688 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/b9a01f785b983fe459785499d098afab6ff67688">shortlog</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/b9a01f785b983fe459785499d098afab6ff67688">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688">files</a> |
changeset |
<a href="/comm-central/raw-rev/b9a01f785b983fe459785499d098afab6ff67688">raw</a>  | <a href="/comm-central/archive/b9a01f785b983fe459785499d098afab6ff67688.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1472002">Bug 1472002</a> - Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1470910">bug 1470910</a> to TB: Migrate input-box / input-box-spell to a Custom Element. rs=jorgk
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#105;&#99;&#104;&#97;&#114;&#100;&#32;&#77;&#97;&#114;&#116;&#105;&#32;&#60;&#114;&#105;&#99;&#104;&#97;&#114;&#100;&#46;&#109;&#97;&#114;&#116;&#105;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 03 Aug 2018 21:20:13 +0200</td></tr>

<tr>
 <td>changeset 24430</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/b9a01f785b983fe459785499d098afab6ff67688">b9a01f785b983fe459785499d098afab6ff67688</a></td>
</tr>



<tr>
<td>parent 24429</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/35ea8814dab582b7a6919fb9de7fc12013ed641d">35ea8814dab582b7a6919fb9de7fc12013ed641d</a>
</td>
</tr>

<tr>
<td>child 24431</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/dccaf0add9e363504ab5b4fa8335c60875ac9388">dccaf0add9e363504ab5b4fa8335c60875ac9388</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=b9a01f785b983fe459785499d098afab6ff67688">14700</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Fri, 03 Aug 2018 22:18:44 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@b9a01f785b98 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b9a01f785b983fe459785499d098afab6ff67688">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b9a01f785b983fe459785499d098afab6ff67688&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b9a01f785b983fe459785499d098afab6ff67688&newProject=comm-central&newRevision=35ea8814dab582b7a6919fb9de7fc12013ed641d&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b9a01f785b983fe459785499d098afab6ff67688&newProject=comm-central&newRevision=35ea8814dab582b7a6919fb9de7fc12013ed641d&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b9a01f785b983fe459785499d098afab6ff67688&newProject=comm-central&newRevision=35ea8814dab582b7a6919fb9de7fc12013ed641d&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28jorgk%29&revcount=50">jorgk</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1472002">1472002</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1470910">1470910</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1472002">Bug 1472002</a> - Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1470910">bug 1470910</a> to TB: Migrate input-box / input-box-spell to a Custom Element. rs=jorgk</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testEventDialog.js">calendar/test/mozmill/eventDialog/testEventDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testEventDialog.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testEventDialog.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testEventDialog.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testEventDialog.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testEventDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testUTF8.js">calendar/test/mozmill/eventDialog/testUTF8.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testUTF8.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testUTF8.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testUTF8.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testUTF8.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/eventDialog/testUTF8.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/shared-modules/test-calendar-utils.js">calendar/test/mozmill/shared-modules/test-calendar-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/shared-modules/test-calendar-utils.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/shared-modules/test-calendar-utils.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/shared-modules/test-calendar-utils.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/shared-modules/test-calendar-utils.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/shared-modules/test-calendar-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/testTodayPane.js">calendar/test/mozmill/testTodayPane.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/testTodayPane.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/testTodayPane.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/testTodayPane.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/testTodayPane.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/testTodayPane.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testDayView.js">calendar/test/mozmill/views/testDayView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testDayView.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testDayView.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testDayView.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testDayView.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testDayView.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMonthView.js">calendar/test/mozmill/views/testMonthView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMonthView.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMonthView.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMonthView.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMonthView.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMonthView.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMultiweekView.js">calendar/test/mozmill/views/testMultiweekView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMultiweekView.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMultiweekView.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMultiweekView.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMultiweekView.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testMultiweekView.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testTaskView.js">calendar/test/mozmill/views/testTaskView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testTaskView.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testTaskView.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testTaskView.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testTaskView.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testTaskView.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testWeekView.js">calendar/test/mozmill/views/testWeekView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testWeekView.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testWeekView.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testWeekView.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testWeekView.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/calendar/test/mozmill/views/testWeekView.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/datetimepicker.xml">common/bindings/datetimepicker.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/datetimepicker.xml">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/datetimepicker.xml">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/datetimepicker.xml">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/datetimepicker.xml">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/datetimepicker.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/numberbox.xml">common/bindings/numberbox.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/numberbox.xml">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/numberbox.xml">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/numberbox.xml">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/numberbox.xml">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/numberbox.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/textbox.xml">common/bindings/textbox.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/textbox.xml">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/textbox.xml">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/textbox.xml">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/textbox.xml">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/common/bindings/textbox.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/dnd/testDragLink.js">mail/test/resources/mozmill/test/dnd/testDragLink.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/dnd/testDragLink.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/dnd/testDragLink.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/dnd/testDragLink.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/dnd/testDragLink.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/dnd/testDragLink.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/elementLib-UnitTest.js">mail/test/resources/mozmill/test/elementLib-UnitTest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/elementLib-UnitTest.js">file</a> |
<a href="/comm-central/annotate/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/elementLib-UnitTest.js">annotate</a> |
<a href="/comm-central/diff/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/elementLib-UnitTest.js">diff</a> |
<a href="/comm-central/comparison/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/elementLib-UnitTest.js">comparison</a> |
<a href="/comm-central/log/b9a01f785b983fe459785499d098afab6ff67688/mail/test/resources/mozmill/test/elementLib-UnitTest.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -118,43 +118,43 @@ function testEventDialog() {</span>
<a href="#l1.4"></a><span id="l1.4">     invokeEventDialog(controller, null, (event, iframe) =&gt; {</span>
<a href="#l1.5"></a><span id="l1.5">         let { lookup: eventlookup, eid: eventid } = helpersForController(event);</span>
<a href="#l1.6"></a><span id="l1.6"> </span>
<a href="#l1.7"></a><span id="l1.7">         let startTimeInput = eventlookup(`</span>
<a href="#l1.8"></a><span id="l1.8">             ${eventDialog}/id(&quot;event-grid-startdate-row&quot;)/</span>
<a href="#l1.9"></a><span id="l1.9">             id(&quot;event-grid-startdate-picker-box&quot;)/id(&quot;event-starttime&quot;)/</span>
<a href="#l1.10"></a><span id="l1.10">             anon({&quot;anonid&quot;:&quot;hbox&quot;})/anon({&quot;anonid&quot;:&quot;time-picker&quot;})/</span>
<a href="#l1.11"></a><span id="l1.11">             anon({&quot;class&quot;:&quot;timepicker-box-class&quot;})/id(&quot;timepicker-text&quot;)/</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-            anon({&quot;class&quot;:&quot;menulist-editable-box textbox-input-box&quot;})/</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+            anon({&quot;class&quot;:&quot;menulist-editable-box moz-input-box&quot;})/</span>
<a href="#l1.14"></a><span id="l1.14">             anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l1.15"></a><span id="l1.15">         `);</span>
<a href="#l1.16"></a><span id="l1.16">         event.waitForElement(startTimeInput);</span>
<a href="#l1.17"></a><span id="l1.17">         event.assertValue(startTimeInput, startTime);</span>
<a href="#l1.18"></a><span id="l1.18"> </span>
<a href="#l1.19"></a><span id="l1.19">         // check selected calendar</span>
<a href="#l1.20"></a><span id="l1.20">         event.assertNode(eventlookup(`</span>
<a href="#l1.21"></a><span id="l1.21">             ${eventDialog}/id(&quot;event-grid-category-color-row&quot;)/</span>
<a href="#l1.22"></a><span id="l1.22">             id(&quot;event-grid-category-box&quot;)/id(&quot;item-calendar&quot;)/[0]/</span>
<a href="#l1.23"></a><span id="l1.23">             {&quot;selected&quot;:&quot;true&quot;,&quot;label&quot;:&quot;${CALENDARNAME}&quot;}</span>
<a href="#l1.24"></a><span id="l1.24">         `));</span>
<a href="#l1.25"></a><span id="l1.25"> </span>
<a href="#l1.26"></a><span id="l1.26">         // fill in name, location, description</span>
<a href="#l1.27"></a><span id="l1.27">         event.type(eventlookup(`</span>
<a href="#l1.28"></a><span id="l1.28">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l1.31"></a><span id="l1.31">         `), eventTitle);</span>
<a href="#l1.32"></a><span id="l1.32"> </span>
<a href="#l1.33"></a><span id="l1.33">         event.type(eventlookup(`</span>
<a href="#l1.34"></a><span id="l1.34">             ${eventDialog}/id(&quot;event-grid-location-row&quot;)/id(&quot;item-location&quot;)/</span>
<a href="#l1.35"></a><span id="l1.35" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l1.37"></a><span id="l1.37">         `), eventLocation);</span>
<a href="#l1.38"></a><span id="l1.38"> </span>
<a href="#l1.39"></a><span id="l1.39">         event.type(eventlookup(`</span>
<a href="#l1.40"></a><span id="l1.40">             ${eventDialog}/id(&quot;event-grid-description-row&quot;)/</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineminus">-            id(&quot;item-description&quot;)/anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineplus">+            id(&quot;item-description&quot;)/anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/</span>
<a href="#l1.43"></a><span id="l1.43">             anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l1.44"></a><span id="l1.44">         `), eventDescription);</span>
<a href="#l1.45"></a><span id="l1.45"> </span>
<a href="#l1.46"></a><span id="l1.46">         // set category</span>
<a href="#l1.47"></a><span id="l1.47">         let categories = utils.getProperty(&quot;chrome://calendar/locale/categories.properties&quot;, &quot;categories2&quot;);</span>
<a href="#l1.48"></a><span id="l1.48">         let category = categories.split(&quot;,&quot;)[4]; // pick 4th value in a comma-separated list</span>
<a href="#l1.49"></a><span id="l1.49">         event.select(eventid(&quot;item-categories&quot;), null, category);</span>
<a href="#l1.50"></a><span id="l1.50"> </span>
<a href="#l1.51"></a><span id="l1.51" class="difflineat">@@ -285,17 +285,17 @@ function testEventDialog() {</span>
<a href="#l1.52"></a><span id="l1.52"> }</span>
<a href="#l1.53"></a><span id="l1.53"> </span>
<a href="#l1.54"></a><span id="l1.54"> function handleAttendees(attendees) {</span>
<a href="#l1.55"></a><span id="l1.55">     let { lookup: attendeeslookup } = helpersForController(attendees);</span>
<a href="#l1.56"></a><span id="l1.56"> </span>
<a href="#l1.57"></a><span id="l1.57">     let input = attendeeslookup(`</span>
<a href="#l1.58"></a><span id="l1.58">         /id(&quot;calendar-event-dialog-attendees-v2&quot;)/[6]/[0]/id(&quot;attendees-list&quot;)/</span>
<a href="#l1.59"></a><span id="l1.59">         anon({&quot;anonid&quot;:&quot;listbox&quot;})/[1]/[1]/anon({&quot;anonid&quot;:&quot;input&quot;})/</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineminus">-        {&quot;class&quot;:&quot;textbox-input-box&quot;}/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l1.61"></a><span id="l1.61" class="difflineplus">+        {&quot;anonid&quot;:&quot;moz-input-box&quot;}/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l1.62"></a><span id="l1.62">     `);</span>
<a href="#l1.63"></a><span id="l1.63">     attendees.waitForElement(input);</span>
<a href="#l1.64"></a><span id="l1.64">     attendees.type(input, eventAttendee);</span>
<a href="#l1.65"></a><span id="l1.65">     attendees.click(attendeeslookup(`</span>
<a href="#l1.66"></a><span id="l1.66">         /id(&quot;calendar-event-dialog-attendees-v2&quot;)/anon({&quot;anonid&quot;:&quot;buttons&quot;})/</span>
<a href="#l1.67"></a><span id="l1.67">         {&quot;dlgtype&quot;:&quot;accept&quot;}</span>
<a href="#l1.68"></a><span id="l1.68">     `));</span>
<a href="#l1.69"></a><span id="l1.69"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testUTF8.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testUTF8.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -40,27 +40,27 @@ function testUTF8() {</span>
<a href="#l2.4"></a><span id="l2.4">     // create new event</span>
<a href="#l2.5"></a><span id="l2.5">     let eventBox = lookupEventBox(&quot;day&quot;, CANVAS_BOX, null, 1, 8);</span>
<a href="#l2.6"></a><span id="l2.6">     invokeEventDialog(controller, eventBox, (event, iframe) =&gt; {</span>
<a href="#l2.7"></a><span id="l2.7">         let { lookup: eventlookup, eid: eventid } = helpersForController(event);</span>
<a href="#l2.8"></a><span id="l2.8"> </span>
<a href="#l2.9"></a><span id="l2.9">         // fill in name, location, description</span>
<a href="#l2.10"></a><span id="l2.10">         let titleTextBox = eventlookup(`</span>
<a href="#l2.11"></a><span id="l2.11">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.14"></a><span id="l2.14">         `);</span>
<a href="#l2.15"></a><span id="l2.15">         event.waitForElement(titleTextBox);</span>
<a href="#l2.16"></a><span id="l2.16">         event.type(titleTextBox, UTF8STRING);</span>
<a href="#l2.17"></a><span id="l2.17">         event.type(eventlookup(`</span>
<a href="#l2.18"></a><span id="l2.18">             ${eventDialog}/id(&quot;event-grid-location-row&quot;)/id(&quot;item-location&quot;)/</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.21"></a><span id="l2.21">         `), UTF8STRING);</span>
<a href="#l2.22"></a><span id="l2.22">         event.type(eventlookup(`</span>
<a href="#l2.23"></a><span id="l2.23">             ${eventDialog}/id(&quot;event-grid-description-row&quot;)/id(&quot;item-description&quot;)/</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.26"></a><span id="l2.26">         `), UTF8STRING);</span>
<a href="#l2.27"></a><span id="l2.27"> </span>
<a href="#l2.28"></a><span id="l2.28">         // select category</span>
<a href="#l2.29"></a><span id="l2.29">         event.select(eventid(&quot;item-categories&quot;), null, UTF8STRING);</span>
<a href="#l2.30"></a><span id="l2.30"> </span>
<a href="#l2.31"></a><span id="l2.31">         // save</span>
<a href="#l2.32"></a><span id="l2.32">         event.click(eventid(&quot;button-saveandclose&quot;));</span>
<a href="#l2.33"></a><span id="l2.33">     });</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineat">@@ -69,27 +69,27 @@ function testUTF8() {</span>
<a href="#l2.35"></a><span id="l2.35">     let eventPath = `/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;${UTF8STRING.toLowerCase()}&quot;}`;</span>
<a href="#l2.36"></a><span id="l2.36">     eventBox = lookupEventBox(&quot;day&quot;, EVENT_BOX, null, 1, 8, eventPath);</span>
<a href="#l2.37"></a><span id="l2.37">     invokeEventDialog(controller, eventBox, (event, iframe) =&gt; {</span>
<a href="#l2.38"></a><span id="l2.38">         let { lookup: eventlookup, eid: eventid } = helpersForController(event);</span>
<a href="#l2.39"></a><span id="l2.39"> </span>
<a href="#l2.40"></a><span id="l2.40">         // check values</span>
<a href="#l2.41"></a><span id="l2.41">         titleTextBox = eventlookup(`</span>
<a href="#l2.42"></a><span id="l2.42">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.45"></a><span id="l2.45">         `);</span>
<a href="#l2.46"></a><span id="l2.46">         event.waitForElement(titleTextBox);</span>
<a href="#l2.47"></a><span id="l2.47">         event.assertValue(titleTextBox, UTF8STRING);</span>
<a href="#l2.48"></a><span id="l2.48">         event.assertValue(eventlookup(`</span>
<a href="#l2.49"></a><span id="l2.49">             ${eventDialog}/id(&quot;event-grid-location-row&quot;)/id(&quot;item-location&quot;)/</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.52"></a><span id="l2.52">         `), UTF8STRING);</span>
<a href="#l2.53"></a><span id="l2.53">         event.assertValue(eventlookup(`</span>
<a href="#l2.54"></a><span id="l2.54">             ${eventDialog}/id(&quot;event-grid-description-row&quot;)/id(&quot;item-description&quot;)/</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l2.57"></a><span id="l2.57">         `), UTF8STRING);</span>
<a href="#l2.58"></a><span id="l2.58">         event.assertValue(eventid(&quot;item-categories&quot;), UTF8STRING);</span>
<a href="#l2.59"></a><span id="l2.59"> </span>
<a href="#l2.60"></a><span id="l2.60">         // escape the event window</span>
<a href="#l2.61"></a><span id="l2.61">         event.keypress(null, &quot;VK_ESCAPE&quot;, {});</span>
<a href="#l2.62"></a><span id="l2.62">     });</span>
<a href="#l2.63"></a><span id="l2.63"> }</span>
<a href="#l2.64"></a><span id="l2.64"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/test-calendar-utils.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/test-calendar-utils.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -523,17 +523,17 @@ function handleNewCalendarWizard(wizard,</span>
<a href="#l3.4"></a><span id="l3.4">             let calendarFile = Services.dirsvc.get(&quot;TmpD&quot;, Ci.nsIFile);</span>
<a href="#l3.5"></a><span id="l3.5">             calendarFile.append(name + &quot;.ics&quot;);</span>
<a href="#l3.6"></a><span id="l3.6">             let fileURI = Services.io.newFileURI(calendarFile);</span>
<a href="#l3.7"></a><span id="l3.7">             data.network.location = fileURI.prePath + fileURI.pathQueryRef;</span>
<a href="#l3.8"></a><span id="l3.8">         }</span>
<a href="#l3.9"></a><span id="l3.9">         wizard.type(wizardlookup(`</span>
<a href="#l3.10"></a><span id="l3.10">             /id(&quot;calendar-wizard&quot;)/{&quot;pageid&quot;:&quot;locationPage&quot;}/[1]/[1]/</span>
<a href="#l3.11"></a><span id="l3.11">             {&quot;align&quot;:&quot;center&quot;}/id(&quot;calendar-uri&quot;)/</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l3.14"></a><span id="l3.14">         `), data.network.location);</span>
<a href="#l3.15"></a><span id="l3.15"> </span>
<a href="#l3.16"></a><span id="l3.16">         // choose offline support</span>
<a href="#l3.17"></a><span id="l3.17">         if (data.network.offline == undefined) {</span>
<a href="#l3.18"></a><span id="l3.18">             data.network.offline = true;</span>
<a href="#l3.19"></a><span id="l3.19">         }</span>
<a href="#l3.20"></a><span id="l3.20">         wizard.check(wizardId(&quot;cache&quot;), data.network.offline);</span>
<a href="#l3.21"></a><span id="l3.21">         wizard.waitFor(() =&gt; !dlgButton(&quot;next&quot;).disabled);</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineat">@@ -761,17 +761,17 @@ function setData(dialog, iframe, data) {</span>
<a href="#l3.23"></a><span id="l3.23">     if (data.reminder != undefined) {</span>
<a href="#l3.24"></a><span id="l3.24">         menulistSelect(iframeId(&quot;item-alarm&quot;), data.reminder, dialog);</span>
<a href="#l3.25"></a><span id="l3.25">     }</span>
<a href="#l3.26"></a><span id="l3.26"> </span>
<a href="#l3.27"></a><span id="l3.27">     // description</span>
<a href="#l3.28"></a><span id="l3.28">     if (data.description != undefined) {</span>
<a href="#l3.29"></a><span id="l3.29">         let descField = iframeLookup(`</span>
<a href="#l3.30"></a><span id="l3.30">             ${innerFrame}/id(&quot;event-grid-description-row&quot;)/id(&quot;item-description&quot;)/</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l3.33"></a><span id="l3.33">         `);</span>
<a href="#l3.34"></a><span id="l3.34">         descField.getNode().value = data.description;</span>
<a href="#l3.35"></a><span id="l3.35">     }</span>
<a href="#l3.36"></a><span id="l3.36"> </span>
<a href="#l3.37"></a><span id="l3.37">     // priority</span>
<a href="#l3.38"></a><span id="l3.38">     if (data.priority != undefined) {</span>
<a href="#l3.39"></a><span id="l3.39">         dialog.mainMenu.click(`#options-priority-${data.priority}-label`);</span>
<a href="#l3.40"></a><span id="l3.40">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/test/mozmill/testTodayPane.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/test/mozmill/testTodayPane.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -43,17 +43,17 @@ function testTodayPane() {</span>
<a href="#l4.4"></a><span id="l4.4">     `;</span>
<a href="#l4.5"></a><span id="l4.5">     let dayPath = `</span>
<a href="#l4.6"></a><span id="l4.6">         ${dayView}/anon({&quot;anonid&quot;:&quot;mainbox&quot;})/anon({&quot;anonid&quot;:&quot;labelbox&quot;})/</span>
<a href="#l4.7"></a><span id="l4.7">         anon({&quot;anonid&quot;:&quot;labeldaybox&quot;})/{&quot;flex&quot;:&quot;1&quot;}</span>
<a href="#l4.8"></a><span id="l4.8">     `;</span>
<a href="#l4.9"></a><span id="l4.9">     let eventName = `</span>
<a href="#l4.10"></a><span id="l4.10">         id(&quot;calendar-event-dialog-inner&quot;)/id(&quot;event-grid&quot;)/</span>
<a href="#l4.11"></a><span id="l4.11">         id(&quot;event-grid-rows&quot;)/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-        anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+        anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l4.14"></a><span id="l4.14">     `;</span>
<a href="#l4.15"></a><span id="l4.15"> </span>
<a href="#l4.16"></a><span id="l4.16">     // open calendar view</span>
<a href="#l4.17"></a><span id="l4.17">     controller.click(eid(&quot;calendar-tab-button&quot;));</span>
<a href="#l4.18"></a><span id="l4.18">     controller.waitThenClick(eid(&quot;calendar-day-view-button&quot;));</span>
<a href="#l4.19"></a><span id="l4.19"> </span>
<a href="#l4.20"></a><span id="l4.20">     // go to today and verify date</span>
<a href="#l4.21"></a><span id="l4.21">     controller.waitThenClick(lookup(`</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/test/mozmill/views/testDayView.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/test/mozmill/views/testDayView.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -115,21 +115,21 @@ function testDayView() {</span>
<a href="#l5.4"></a><span id="l5.4">             {&quot;class&quot;:&quot;datepicker-text-class&quot;}/</span>
<a href="#l5.5"></a><span id="l5.5">             anon({&quot;class&quot;:&quot;menulist-editable-box textbox-input-box&quot;})/</span>
<a href="#l5.6"></a><span id="l5.6">             anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l5.7"></a><span id="l5.7">         `), date);</span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9">         // fill in title, description and calendar</span>
<a href="#l5.10"></a><span id="l5.10">         event.type(eventlookup(`</span>
<a href="#l5.11"></a><span id="l5.11">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l5.14"></a><span id="l5.14">         `), TITLE1);</span>
<a href="#l5.15"></a><span id="l5.15">         event.type(eventlookup(`</span>
<a href="#l5.16"></a><span id="l5.16">             ${eventDialog}/id(&quot;event-grid-description-row&quot;)/id(&quot;item-description&quot;)/</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l5.19"></a><span id="l5.19">         `), DESC);</span>
<a href="#l5.20"></a><span id="l5.20">         event.select(eventid(&quot;item-calendar&quot;), null, CALENDARNAME);</span>
<a href="#l5.21"></a><span id="l5.21"> </span>
<a href="#l5.22"></a><span id="l5.22">         // save</span>
<a href="#l5.23"></a><span id="l5.23">         event.click(eventid(&quot;button-saveandclose&quot;));</span>
<a href="#l5.24"></a><span id="l5.24">     });</span>
<a href="#l5.25"></a><span id="l5.25"> </span>
<a href="#l5.26"></a><span id="l5.26">     // if it was created successfully, it can be opened</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineat">@@ -141,17 +141,17 @@ function testDayView() {</span>
<a href="#l5.28"></a><span id="l5.28">         {&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;${CALENDARNAME.toLowerCase()}&quot;}</span>
<a href="#l5.29"></a><span id="l5.29">     `);</span>
<a href="#l5.30"></a><span id="l5.30">     invokeEventDialog(controller, eventBox, (event, iframe) =&gt; {</span>
<a href="#l5.31"></a><span id="l5.31">         let { lookup: eventlookup, eid: eventid } = helpersForController(event);</span>
<a href="#l5.32"></a><span id="l5.32"> </span>
<a href="#l5.33"></a><span id="l5.33">         // change title and save changes</span>
<a href="#l5.34"></a><span id="l5.34">         let titleTextBox = eventlookup(`</span>
<a href="#l5.35"></a><span id="l5.35">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l5.38"></a><span id="l5.38">         `);</span>
<a href="#l5.39"></a><span id="l5.39">         event.waitForElement(titleTextBox);</span>
<a href="#l5.40"></a><span id="l5.40">         event.type(titleTextBox, TITLE2);</span>
<a href="#l5.41"></a><span id="l5.41">         event.click(eventid(&quot;button-saveandclose&quot;));</span>
<a href="#l5.42"></a><span id="l5.42">     });</span>
<a href="#l5.43"></a><span id="l5.43"> </span>
<a href="#l5.44"></a><span id="l5.44">     // check if name was saved</span>
<a href="#l5.45"></a><span id="l5.45">     let eventName = lookup(`</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/test/mozmill/views/testMonthView.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/test/mozmill/views/testMonthView.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -126,21 +126,21 @@ function testMonthView() {</span>
<a href="#l6.4"></a><span id="l6.4">             {&quot;class&quot;:&quot;datepicker-text-class&quot;}/</span>
<a href="#l6.5"></a><span id="l6.5">             anon({&quot;class&quot;:&quot;menulist-editable-box textbox-input-box&quot;})/</span>
<a href="#l6.6"></a><span id="l6.6">             anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l6.7"></a><span id="l6.7">         `), date);</span>
<a href="#l6.8"></a><span id="l6.8"> </span>
<a href="#l6.9"></a><span id="l6.9">         // fill in title, description and calendar</span>
<a href="#l6.10"></a><span id="l6.10">         event.type(eventlookup(`</span>
<a href="#l6.11"></a><span id="l6.11">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})'),</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})'),</span>
<a href="#l6.14"></a><span id="l6.14">         `), TITLE1);</span>
<a href="#l6.15"></a><span id="l6.15">         event.type(eventlookup(`</span>
<a href="#l6.16"></a><span id="l6.16">             ${eventDialog}/id(&quot;event-grid-description-row&quot;)/id(&quot;item-description&quot;)/</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l6.19"></a><span id="l6.19">         `), DESC);</span>
<a href="#l6.20"></a><span id="l6.20">         event.click(eventid(&quot;item-calendar&quot;));</span>
<a href="#l6.21"></a><span id="l6.21">         event.click(eventlookup(`</span>
<a href="#l6.22"></a><span id="l6.22">             ${eventDialog}/id(&quot;event-grid-category-color-row&quot;)/</span>
<a href="#l6.23"></a><span id="l6.23">             id(&quot;event-grid-category-box&quot;)/id(&quot;item-calendar&quot;)/[0]/</span>
<a href="#l6.24"></a><span id="l6.24">             {&quot;label&quot;:&quot;${CALENDARNAME}&quot;}'</span>
<a href="#l6.25"></a><span id="l6.25">         `));</span>
<a href="#l6.26"></a><span id="l6.26"> </span>
<a href="#l6.27"></a><span id="l6.27" class="difflineat">@@ -150,17 +150,17 @@ function testMonthView() {</span>
<a href="#l6.28"></a><span id="l6.28"> </span>
<a href="#l6.29"></a><span id="l6.29">     // if it was created successfully, it can be opened</span>
<a href="#l6.30"></a><span id="l6.30">     invokeEventDialog(controller, eventBox, (event, iframe) =&gt; {</span>
<a href="#l6.31"></a><span id="l6.31">         let { lookup: eventlookup, eid: eventid } = helpersForController(event);</span>
<a href="#l6.32"></a><span id="l6.32"> </span>
<a href="#l6.33"></a><span id="l6.33">         // change title and save changes</span>
<a href="#l6.34"></a><span id="l6.34">         let titleTextBox = eventlookup(`</span>
<a href="#l6.35"></a><span id="l6.35">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})'</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})'</span>
<a href="#l6.38"></a><span id="l6.38">         `);</span>
<a href="#l6.39"></a><span id="l6.39">         event.waitForElement(titleTextBox);</span>
<a href="#l6.40"></a><span id="l6.40">         event.type(titleTextBox, TITLE2);</span>
<a href="#l6.41"></a><span id="l6.41">         event.click(eventid(&quot;button-saveandclose&quot;));</span>
<a href="#l6.42"></a><span id="l6.42">     });</span>
<a href="#l6.43"></a><span id="l6.43"> </span>
<a href="#l6.44"></a><span id="l6.44">     // check if name was saved</span>
<a href="#l6.45"></a><span id="l6.45">     let eventName = lookup(eventBox + '/{&quot;flex&quot;:&quot;1&quot;}/anon({&quot;anonid&quot;:&quot;event-name&quot;})');</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/test/mozmill/views/testMultiweekView.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/test/mozmill/views/testMultiweekView.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -125,21 +125,21 @@ function testMultiWeekView() {</span>
<a href="#l7.4"></a><span id="l7.4">             {&quot;class&quot;:&quot;datepicker-text-class&quot;}/</span>
<a href="#l7.5"></a><span id="l7.5">             anon({&quot;class&quot;:&quot;menulist-editable-box textbox-input-box&quot;})/</span>
<a href="#l7.6"></a><span id="l7.6">             anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l7.7"></a><span id="l7.7">         `), date);</span>
<a href="#l7.8"></a><span id="l7.8"> </span>
<a href="#l7.9"></a><span id="l7.9">         // fill in title, description and calendar</span>
<a href="#l7.10"></a><span id="l7.10">         event.type(eventlookup(`</span>
<a href="#l7.11"></a><span id="l7.11">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l7.14"></a><span id="l7.14">         `), TITLE1);</span>
<a href="#l7.15"></a><span id="l7.15">         event.type(eventlookup(`</span>
<a href="#l7.16"></a><span id="l7.16">             ${eventDialog}/id(&quot;event-grid-description-row&quot;)/id(&quot;item-description&quot;)/</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l7.19"></a><span id="l7.19">         `), DESC);</span>
<a href="#l7.20"></a><span id="l7.20">         event.click(eventid(&quot;item-calendar&quot;));</span>
<a href="#l7.21"></a><span id="l7.21">         event.click(eventlookup(`</span>
<a href="#l7.22"></a><span id="l7.22">             ${eventDialog}/id(&quot;event-grid-category-color-row&quot;)/</span>
<a href="#l7.23"></a><span id="l7.23">             id(&quot;event-grid-category-box&quot;)/id(&quot;item-calendar&quot;)/[0]/</span>
<a href="#l7.24"></a><span id="l7.24">             {&quot;label&quot;:&quot;${CALENDARNAME}&quot;}</span>
<a href="#l7.25"></a><span id="l7.25">         `));</span>
<a href="#l7.26"></a><span id="l7.26"> </span>
<a href="#l7.27"></a><span id="l7.27" class="difflineat">@@ -149,17 +149,17 @@ function testMultiWeekView() {</span>
<a href="#l7.28"></a><span id="l7.28"> </span>
<a href="#l7.29"></a><span id="l7.29">     // if it was created successfully, it can be opened</span>
<a href="#l7.30"></a><span id="l7.30">     invokeEventDialog(controller, eventBox, (event, iframe) =&gt; {</span>
<a href="#l7.31"></a><span id="l7.31">         let { lookup: eventlookup, eid: eventid } = helpersForController(event);</span>
<a href="#l7.32"></a><span id="l7.32"> </span>
<a href="#l7.33"></a><span id="l7.33">         // change title and save changes</span>
<a href="#l7.34"></a><span id="l7.34">         let titmeTextBox = eventlookup(`</span>
<a href="#l7.35"></a><span id="l7.35">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l7.38"></a><span id="l7.38">         `);</span>
<a href="#l7.39"></a><span id="l7.39">         event.waitForElement(titmeTextBox);</span>
<a href="#l7.40"></a><span id="l7.40">         event.type(titmeTextBox, TITLE2);</span>
<a href="#l7.41"></a><span id="l7.41">         event.click(eventid(&quot;button-saveandclose&quot;));</span>
<a href="#l7.42"></a><span id="l7.42">     });</span>
<a href="#l7.43"></a><span id="l7.43"> </span>
<a href="#l7.44"></a><span id="l7.44">     // check if name was saved</span>
<a href="#l7.45"></a><span id="l7.45">     let eventName = lookup(eventBox + '/{&quot;flex&quot;:&quot;1&quot;}/anon({&quot;anonid&quot;:&quot;event-name&quot;})');</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/test/mozmill/views/testTaskView.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/test/mozmill/views/testTaskView.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -67,21 +67,21 @@ function testTaskView() {</span>
<a href="#l8.4"></a><span id="l8.4">     }</span>
<a href="#l8.5"></a><span id="l8.5"> </span>
<a href="#l8.6"></a><span id="l8.6">     let taskTreeNode = lookup(taskTree).getNode();</span>
<a href="#l8.7"></a><span id="l8.7">     let countBefore = taskTreeNode.mTaskArray.length;</span>
<a href="#l8.8"></a><span id="l8.8"> </span>
<a href="#l8.9"></a><span id="l8.9">     // add task</span>
<a href="#l8.10"></a><span id="l8.10">     controller.type(lookup(`</span>
<a href="#l8.11"></a><span id="l8.11">         ${taskView}/id(&quot;task-addition-box&quot;)/id(&quot;view-task-edit-field&quot;)/</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-        anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+        anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l8.14"></a><span id="l8.14">     `), TITLE);</span>
<a href="#l8.15"></a><span id="l8.15">     controller.keypress(lookup(`</span>
<a href="#l8.16"></a><span id="l8.16">         ${taskView}/id(&quot;task-addition-box&quot;)/id(&quot;view-task-edit-field&quot;)/</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-        anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineplus">+        anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l8.19"></a><span id="l8.19">     `), &quot;VK_RETURN&quot;, {});</span>
<a href="#l8.20"></a><span id="l8.20"> </span>
<a href="#l8.21"></a><span id="l8.21">     // verify added</span>
<a href="#l8.22"></a><span id="l8.22">     let countAfter;</span>
<a href="#l8.23"></a><span id="l8.23">     controller.waitFor(() =&gt; {</span>
<a href="#l8.24"></a><span id="l8.24">         countAfter = taskTreeNode.mTaskArray.length;</span>
<a href="#l8.25"></a><span id="l8.25">         return countBefore + 1 == countAfter;</span>
<a href="#l8.26"></a><span id="l8.26">     });</span>
<a href="#l8.27"></a><span id="l8.27" class="difflineat">@@ -101,17 +101,17 @@ function testTaskView() {</span>
<a href="#l8.28"></a><span id="l8.28">             ${taskDialog}/id(&quot;event-grid-category-color-row&quot;)/</span>
<a href="#l8.29"></a><span id="l8.29">             id(&quot;event-grid-category-box&quot;)/id(&quot;item-calendar&quot;)/[0]/</span>
<a href="#l8.30"></a><span id="l8.30">             {&quot;selected&quot;:&quot;true&quot;,&quot;label&quot;:&quot;${CALENDARNAME}&quot;}</span>
<a href="#l8.31"></a><span id="l8.31">         `));</span>
<a href="#l8.32"></a><span id="l8.32"> </span>
<a href="#l8.33"></a><span id="l8.33">         // add description, mark needs action and add percent complete</span>
<a href="#l8.34"></a><span id="l8.34">         task.type(tasklookup(`</span>
<a href="#l8.35"></a><span id="l8.35">             ${taskDialog}/id(&quot;event-grid-description-row&quot;)/id(&quot;item-description&quot;)/</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l8.38"></a><span id="l8.38">         `), DESCRIPTION);</span>
<a href="#l8.39"></a><span id="l8.39">         task.click(taskid(&quot;todo-status-needsaction-menuitem&quot;));</span>
<a href="#l8.40"></a><span id="l8.40"> </span>
<a href="#l8.41"></a><span id="l8.41">         // delete default 0 percent complete</span>
<a href="#l8.42"></a><span id="l8.42">         task.keypress(tasklookup(`</span>
<a href="#l8.43"></a><span id="l8.43">             ${taskDialog}/id(&quot;event-grid-todo-status-row&quot;)/</span>
<a href="#l8.44"></a><span id="l8.44">             id(&quot;event-grid-todo-status-picker-box&quot;)/</span>
<a href="#l8.45"></a><span id="l8.45">             id(&quot;percent-complete-textbox&quot;)/</span>
<a href="#l8.46"></a><span id="l8.46" class="difflineat">@@ -129,17 +129,17 @@ function testTaskView() {</span>
<a href="#l8.47"></a><span id="l8.47">         // save</span>
<a href="#l8.48"></a><span id="l8.48">         task.click(taskid(&quot;button-saveandclose&quot;));</span>
<a href="#l8.49"></a><span id="l8.49">     });</span>
<a href="#l8.50"></a><span id="l8.50"> </span>
<a href="#l8.51"></a><span id="l8.51">     // verify description and status in details pane</span>
<a href="#l8.52"></a><span id="l8.52">     controller.assertValue(lookup(`</span>
<a href="#l8.53"></a><span id="l8.53">         ${taskView}/{&quot;flex&quot;:&quot;1&quot;}/id(&quot;calendar-task-details-container&quot;)/</span>
<a href="#l8.54"></a><span id="l8.54">         id(&quot;calendar-task-details-description&quot;)/</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineminus">-        anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l8.56"></a><span id="l8.56" class="difflineplus">+        anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l8.57"></a><span id="l8.57">     `), DESCRIPTION);</span>
<a href="#l8.58"></a><span id="l8.58">     let status = utils.getProperty(&quot;chrome://calendar/locale/calendar.properties&quot;, &quot;taskDetailsStatusNeedsAction&quot;);</span>
<a href="#l8.59"></a><span id="l8.59">     controller.assertValue(eid(&quot;calendar-task-details-status&quot;), status);</span>
<a href="#l8.60"></a><span id="l8.60"> </span>
<a href="#l8.61"></a><span id="l8.61">     // set high priority and verify it in detail pane</span>
<a href="#l8.62"></a><span id="l8.62">     controller.click(eid(&quot;task-actions-priority&quot;));</span>
<a href="#l8.63"></a><span id="l8.63">     sleep();</span>
<a href="#l8.64"></a><span id="l8.64">     controller.click(eid(&quot;priority-1-menuitem&quot;));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/test/mozmill/views/testWeekView.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/test/mozmill/views/testWeekView.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -122,35 +122,35 @@ function testWeekView() {</span>
<a href="#l9.4"></a><span id="l9.4">             {&quot;class&quot;:&quot;datepicker-text-class&quot;}/</span>
<a href="#l9.5"></a><span id="l9.5">             anon({&quot;class&quot;:&quot;menulist-editable-box textbox-input-box&quot;})/</span>
<a href="#l9.6"></a><span id="l9.6">             anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l9.7"></a><span id="l9.7">         `), date);</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9">         // fill in title, description and calendar</span>
<a href="#l9.10"></a><span id="l9.10">         event.type(eventlookup(`</span>
<a href="#l9.11"></a><span id="l9.11">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l9.14"></a><span id="l9.14">         `), TITLE1);</span>
<a href="#l9.15"></a><span id="l9.15">         event.type(eventlookup(`</span>
<a href="#l9.16"></a><span id="l9.16">             ${eventDialog}/id(&quot;event-grid-description-row&quot;)/id(&quot;item-description&quot;)/</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l9.19"></a><span id="l9.19">         `), DESC);</span>
<a href="#l9.20"></a><span id="l9.20">         event.select(eventid(&quot;item-calendar&quot;), null, CALENDARNAME);</span>
<a href="#l9.21"></a><span id="l9.21"> </span>
<a href="#l9.22"></a><span id="l9.22">         // save</span>
<a href="#l9.23"></a><span id="l9.23">         event.click(eventid(&quot;button-saveandclose&quot;));</span>
<a href="#l9.24"></a><span id="l9.24">     });</span>
<a href="#l9.25"></a><span id="l9.25"> </span>
<a href="#l9.26"></a><span id="l9.26">     invokeEventDialog(controller, eventBox, (event, iframe) =&gt; {</span>
<a href="#l9.27"></a><span id="l9.27">         let { lookup: eventlookup, eid: eventid } = helpersForController(event);</span>
<a href="#l9.28"></a><span id="l9.28"> </span>
<a href="#l9.29"></a><span id="l9.29">         // change title and save changes</span>
<a href="#l9.30"></a><span id="l9.30">         let titleTextBox = eventlookup(`</span>
<a href="#l9.31"></a><span id="l9.31">             ${eventDialog}/id(&quot;event-grid-title-row&quot;)/id(&quot;item-title&quot;)/</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineminus">-            anon({&quot;class&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+            anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})</span>
<a href="#l9.34"></a><span id="l9.34">         `);</span>
<a href="#l9.35"></a><span id="l9.35">         event.waitForElement(titleTextBox);</span>
<a href="#l9.36"></a><span id="l9.36">         event.type(titleTextBox, TITLE2);</span>
<a href="#l9.37"></a><span id="l9.37">         event.click(eventid(&quot;button-saveandclose&quot;));</span>
<a href="#l9.38"></a><span id="l9.38">     });</span>
<a href="#l9.39"></a><span id="l9.39"> </span>
<a href="#l9.40"></a><span id="l9.40">     // check if name was saved</span>
<a href="#l9.41"></a><span id="l9.41">     let eventName = lookup(`</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/common/bindings/datetimepicker.xml</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/common/bindings/datetimepicker.xml</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -21,38 +21,42 @@</span>
<a href="#l10.4"></a><span id="l10.4">    xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l10.5"></a><span id="l10.5"> </span>
<a href="#l10.6"></a><span id="l10.6">   &lt;binding id=&quot;datetimepicker-base&quot;</span>
<a href="#l10.7"></a><span id="l10.7">            extends=&quot;chrome://global/content/bindings/general.xml#basecontrol&quot;&gt;</span>
<a href="#l10.8"></a><span id="l10.8"> </span>
<a href="#l10.9"></a><span id="l10.9">     &lt;content align=&quot;center&quot;&gt;</span>
<a href="#l10.10"></a><span id="l10.10">       &lt;xul:hbox class=&quot;datetimepicker-input-box&quot; align=&quot;center&quot;</span>
<a href="#l10.11"></a><span id="l10.11">                 xbl:inherits=&quot;context,disabled,readonly&quot;&gt;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-        &lt;xul:hbox class=&quot;textbox-input-box datetimepicker-input-subbox&quot; align=&quot;center&quot;&gt;</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+        &lt;xul:moz-input-box class=&quot;textbox-input-box datetimepicker-input-subbox&quot;</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+                           align=&quot;center&quot;&gt;</span>
<a href="#l10.15"></a><span id="l10.15">           &lt;html:input class=&quot;datetimepicker-input textbox-input&quot; anonid=&quot;input-one&quot;</span>
<a href="#l10.16"></a><span id="l10.16">                       size=&quot;2&quot; maxlength=&quot;2&quot;</span>
<a href="#l10.17"></a><span id="l10.17">                       xbl:inherits=&quot;disabled,readonly&quot;/&gt;</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineminus">-        &lt;/xul:hbox&gt;</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineplus">+        &lt;/xul:moz-input-box&gt;</span>
<a href="#l10.20"></a><span id="l10.20">         &lt;xul:label anonid=&quot;sep-first&quot; class=&quot;datetimepicker-separator&quot; value=&quot;:&quot;/&gt;</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineminus">-        &lt;xul:hbox class=&quot;textbox-input-box datetimepicker-input-subbox&quot; align=&quot;center&quot;&gt;</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineplus">+        &lt;xul:moz-input-box class=&quot;textbox-input-box datetimepicker-input-subbox&quot;</span>
<a href="#l10.23"></a><span id="l10.23" class="difflineplus">+                           align=&quot;center&quot;&gt;</span>
<a href="#l10.24"></a><span id="l10.24">           &lt;html:input class=&quot;datetimepicker-input textbox-input&quot; anonid=&quot;input-two&quot;</span>
<a href="#l10.25"></a><span id="l10.25">                       size=&quot;2&quot; maxlength=&quot;2&quot;</span>
<a href="#l10.26"></a><span id="l10.26">                       xbl:inherits=&quot;disabled,readonly&quot;/&gt;</span>
<a href="#l10.27"></a><span id="l10.27" class="difflineminus">-        &lt;/xul:hbox&gt;</span>
<a href="#l10.28"></a><span id="l10.28" class="difflineplus">+        &lt;/xul:moz-input-box&gt;</span>
<a href="#l10.29"></a><span id="l10.29">         &lt;xul:label anonid=&quot;sep-second&quot; class=&quot;datetimepicker-separator&quot; value=&quot;:&quot;/&gt;</span>
<a href="#l10.30"></a><span id="l10.30" class="difflineminus">-        &lt;xul:hbox class=&quot;textbox-input-box datetimepicker-input-subbox&quot; align=&quot;center&quot;&gt;</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineplus">+        &lt;xul:moz-input-box class=&quot;textbox-input-box datetimepicker-input-subbox&quot;</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+                           align=&quot;center&quot;&gt;</span>
<a href="#l10.33"></a><span id="l10.33">           &lt;html:input class=&quot;datetimepicker-input textbox-input&quot; anonid=&quot;input-three&quot;</span>
<a href="#l10.34"></a><span id="l10.34">                       size=&quot;2&quot; maxlength=&quot;2&quot;</span>
<a href="#l10.35"></a><span id="l10.35">                       xbl:inherits=&quot;disabled,readonly&quot;/&gt;</span>
<a href="#l10.36"></a><span id="l10.36" class="difflineminus">-        &lt;/xul:hbox&gt;</span>
<a href="#l10.37"></a><span id="l10.37" class="difflineminus">-        &lt;xul:hbox class=&quot;textbox-input-box datetimepicker-input-subbox&quot; align=&quot;center&quot;&gt;</span>
<a href="#l10.38"></a><span id="l10.38" class="difflineplus">+        &lt;/xul:moz-input-box&gt;</span>
<a href="#l10.39"></a><span id="l10.39" class="difflineplus">+        &lt;xul:moz-input-box class=&quot;textbox-input-box datetimepicker-input-subbox&quot;</span>
<a href="#l10.40"></a><span id="l10.40" class="difflineplus">+                           align=&quot;center&quot;&gt;</span>
<a href="#l10.41"></a><span id="l10.41">           &lt;html:input class=&quot;datetimepicker-input textbox-input&quot; anonid=&quot;input-ampm&quot;</span>
<a href="#l10.42"></a><span id="l10.42">                       size=&quot;2&quot; maxlength=&quot;2&quot;</span>
<a href="#l10.43"></a><span id="l10.43">                       xbl:inherits=&quot;disabled,readonly&quot;/&gt;</span>
<a href="#l10.44"></a><span id="l10.44" class="difflineminus">-        &lt;/xul:hbox&gt;</span>
<a href="#l10.45"></a><span id="l10.45" class="difflineplus">+        &lt;/xul:moz-input-box&gt;</span>
<a href="#l10.46"></a><span id="l10.46">       &lt;/xul:hbox&gt;</span>
<a href="#l10.47"></a><span id="l10.47">       &lt;xul:spinbuttons anonid=&quot;buttons&quot; xbl:inherits=&quot;disabled&quot;</span>
<a href="#l10.48"></a><span id="l10.48">                        onup=&quot;this.parentNode._increaseOrDecrease(1);&quot;</span>
<a href="#l10.49"></a><span id="l10.49">                        ondown=&quot;this.parentNode._increaseOrDecrease(-1);&quot;/&gt;</span>
<a href="#l10.50"></a><span id="l10.50">     &lt;/content&gt;</span>
<a href="#l10.51"></a><span id="l10.51"> </span>
<a href="#l10.52"></a><span id="l10.52">     &lt;implementation&gt;</span>
<a href="#l10.53"></a><span id="l10.53">       &lt;field name=&quot;_dateValue&quot;&gt;null&lt;/field&gt;</span>
<a href="#l10.54"></a><span id="l10.54" class="difflineat">@@ -1222,18 +1226,20 @@</span>
<a href="#l10.55"></a><span id="l10.55"> </span>
<a href="#l10.56"></a><span id="l10.56">   &lt;binding id=&quot;datepicker-popup&quot; display=&quot;xul:menu&quot;</span>
<a href="#l10.57"></a><span id="l10.57"> #ifdef MOZ_SUITE</span>
<a href="#l10.58"></a><span id="l10.58">            extends=&quot;chrome://communicator/content/bindings/datetimepicker.xml#datepicker&quot;&gt;</span>
<a href="#l10.59"></a><span id="l10.59"> #else</span>
<a href="#l10.60"></a><span id="l10.60">            extends=&quot;chrome://messenger/content/datetimepicker.xml#datepicker&quot;&gt;</span>
<a href="#l10.61"></a><span id="l10.61"> #endif</span>
<a href="#l10.62"></a><span id="l10.62">     &lt;content align=&quot;center&quot;&gt;</span>
<a href="#l10.63"></a><span id="l10.63" class="difflineminus">-      &lt;xul:hbox class=&quot;textbox-input-box datetimepicker-input-box&quot; align=&quot;center&quot;</span>
<a href="#l10.64"></a><span id="l10.64" class="difflineminus">-                allowevents=&quot;true&quot; xbl:inherits=&quot;context,disabled,readonly&quot;&gt;</span>
<a href="#l10.65"></a><span id="l10.65" class="difflineplus">+      &lt;xul:moz-input-box class=&quot;textbox-input-box datetimepicker-input-box&quot;</span>
<a href="#l10.66"></a><span id="l10.66" class="difflineplus">+                         align=&quot;center&quot;</span>
<a href="#l10.67"></a><span id="l10.67" class="difflineplus">+                         allowevents=&quot;true&quot;</span>
<a href="#l10.68"></a><span id="l10.68" class="difflineplus">+                         xbl:inherits=&quot;context,disabled,readonly&quot;&gt;</span>
<a href="#l10.69"></a><span id="l10.69">         &lt;xul:hbox class=&quot;datetimepicker-input-subbox&quot; align=&quot;baseline&quot;&gt;</span>
<a href="#l10.70"></a><span id="l10.70">           &lt;html:input class=&quot;datetimepicker-input textbox-input&quot; anonid=&quot;input-one&quot;</span>
<a href="#l10.71"></a><span id="l10.71">                       size=&quot;2&quot; maxlength=&quot;2&quot;</span>
<a href="#l10.72"></a><span id="l10.72">                       xbl:inherits=&quot;disabled,readonly&quot;/&gt;</span>
<a href="#l10.73"></a><span id="l10.73">         &lt;/xul:hbox&gt;</span>
<a href="#l10.74"></a><span id="l10.74">         &lt;xul:label anonid=&quot;sep-first&quot; class=&quot;datetimepicker-separator&quot; value=&quot;:&quot;/&gt;</span>
<a href="#l10.75"></a><span id="l10.75">         &lt;xul:hbox class=&quot;datetimepicker-input-subbox&quot; align=&quot;baseline&quot;&gt;</span>
<a href="#l10.76"></a><span id="l10.76">           &lt;html:input class=&quot;datetimepicker-input textbox-input&quot; anonid=&quot;input-two&quot;</span>
<a href="#l10.77"></a><span id="l10.77" class="difflineat">@@ -1246,17 +1252,17 @@</span>
<a href="#l10.78"></a><span id="l10.78">                       size=&quot;2&quot; maxlength=&quot;2&quot;</span>
<a href="#l10.79"></a><span id="l10.79">                       xbl:inherits=&quot;disabled,readonly&quot;/&gt;</span>
<a href="#l10.80"></a><span id="l10.80">         &lt;/xul:hbox&gt;</span>
<a href="#l10.81"></a><span id="l10.81">         &lt;xul:hbox class=&quot;datetimepicker-input-subbox&quot; align=&quot;center&quot;&gt;</span>
<a href="#l10.82"></a><span id="l10.82">           &lt;html:input class=&quot;datetimepicker-input textbox-input&quot; anonid=&quot;input-ampm&quot;</span>
<a href="#l10.83"></a><span id="l10.83">                       size=&quot;2&quot; maxlength=&quot;2&quot;</span>
<a href="#l10.84"></a><span id="l10.84">                       xbl:inherits=&quot;disabled,readonly&quot;/&gt;</span>
<a href="#l10.85"></a><span id="l10.85">         &lt;/xul:hbox&gt;</span>
<a href="#l10.86"></a><span id="l10.86" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l10.87"></a><span id="l10.87" class="difflineplus">+      &lt;/xul:moz-input-box&gt;</span>
<a href="#l10.88"></a><span id="l10.88">       &lt;xul:spinbuttons anonid=&quot;buttons&quot; xbl:inherits=&quot;disabled&quot; allowevents=&quot;true&quot;</span>
<a href="#l10.89"></a><span id="l10.89">                        onup=&quot;this.parentNode._increaseOrDecrease(1);&quot;</span>
<a href="#l10.90"></a><span id="l10.90">                        ondown=&quot;this.parentNode._increaseOrDecrease(-1);&quot;/&gt;</span>
<a href="#l10.91"></a><span id="l10.91">       &lt;xul:dropmarker class=&quot;datepicker-dropmarker&quot; xbl:inherits=&quot;disabled&quot;/&gt;</span>
<a href="#l10.92"></a><span id="l10.92">       &lt;xul:panel onpopupshown=&quot;this.firstChild.focus();&quot; level=&quot;top&quot;&gt;</span>
<a href="#l10.93"></a><span id="l10.93">         &lt;xul:datepicker anonid=&quot;grid&quot; type=&quot;grid&quot; class=&quot;datepicker-popupgrid&quot;</span>
<a href="#l10.94"></a><span id="l10.94">                         xbl:inherits=&quot;disabled,readonly,firstdayofweek&quot;/&gt;</span>
<a href="#l10.95"></a><span id="l10.95">       &lt;/xul:panel&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/common/bindings/numberbox.xml</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/common/bindings/numberbox.xml</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -7,20 +7,21 @@</span>
<a href="#l11.4"></a><span id="l11.4">    xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l11.5"></a><span id="l11.5">    xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l11.6"></a><span id="l11.6">    xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l11.7"></a><span id="l11.7">    xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l11.8"></a><span id="l11.8"> </span>
<a href="#l11.9"></a><span id="l11.9">   &lt;binding id=&quot;numberbox&quot; extends=&quot;chrome://messenger/content/textbox.xml#textbox&quot;&gt;</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11">     &lt;content&gt;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-      &lt;xul:hbox class=&quot;textbox-input-box numberbox-input-box&quot; flex=&quot;1&quot; xbl:inherits=&quot;context,disabled,focused&quot;&gt;</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+      &lt;xul:moz-input-box class=&quot;textbox-input-box numberbox-input-box&quot; flex=&quot;1&quot;</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+                         xbl:inherits=&quot;context,disabled,focused&quot;&gt;</span>
<a href="#l11.15"></a><span id="l11.15">         &lt;html:input class=&quot;numberbox-input textbox-input&quot; anonid=&quot;input&quot;</span>
<a href="#l11.16"></a><span id="l11.16">                     xbl:inherits=&quot;value,maxlength,disabled,size,readonly,placeholder,tabindex,accesskey&quot;/&gt;</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+      &lt;/xul:moz-input-box&gt;</span>
<a href="#l11.19"></a><span id="l11.19">       &lt;xul:spinbuttons anonid=&quot;buttons&quot; xbl:inherits=&quot;disabled,hidden=hidespinbuttons&quot;/&gt;</span>
<a href="#l11.20"></a><span id="l11.20">     &lt;/content&gt;</span>
<a href="#l11.21"></a><span id="l11.21"> </span>
<a href="#l11.22"></a><span id="l11.22">     &lt;implementation&gt;</span>
<a href="#l11.23"></a><span id="l11.23">       &lt;field name=&quot;_valueEntered&quot;&gt;false&lt;/field&gt;</span>
<a href="#l11.24"></a><span id="l11.24">       &lt;field name=&quot;_spinButtons&quot;&gt;null&lt;/field&gt;</span>
<a href="#l11.25"></a><span id="l11.25">       &lt;field name=&quot;_value&quot;&gt;0&lt;/field&gt;</span>
<a href="#l11.26"></a><span id="l11.26"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/common/bindings/textbox.xml</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/common/bindings/textbox.xml</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -16,20 +16,21 @@</span>
<a href="#l12.4"></a><span id="l12.4">    xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l12.5"></a><span id="l12.5">    xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l12.6"></a><span id="l12.6">    xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8">   &lt;binding id=&quot;textbox&quot; extends=&quot;xul:box&quot; role=&quot;xul:textbox&quot;&gt;</span>
<a href="#l12.9"></a><span id="l12.9"> </span>
<a href="#l12.10"></a><span id="l12.10">     &lt;content&gt;</span>
<a href="#l12.11"></a><span id="l12.11">       &lt;children/&gt;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-      &lt;xul:hbox class=&quot;textbox-input-box&quot; flex=&quot;1&quot; xbl:inherits=&quot;context,spellcheck&quot;&gt;</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+      &lt;xul:moz-input-box class=&quot;textbox-input-box&quot; flex=&quot;1&quot;</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+                         xbl:inherits=&quot;context,spellcheck&quot;&gt;</span>
<a href="#l12.15"></a><span id="l12.15">         &lt;html:input class=&quot;textbox-input&quot; anonid=&quot;input&quot;</span>
<a href="#l12.16"></a><span id="l12.16">                     xbl:inherits=&quot;value,type,maxlength,disabled,size,readonly,placeholder,tabindex,accesskey,noinitialfocus,mozactionhint,spellcheck&quot;/&gt;</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineplus">+      &lt;/xul:moz-input-box&gt;</span>
<a href="#l12.19"></a><span id="l12.19">     &lt;/content&gt;</span>
<a href="#l12.20"></a><span id="l12.20"> </span>
<a href="#l12.21"></a><span id="l12.21">     &lt;implementation implements=&quot;nsIDOMXULTextBoxElement, nsIDOMXULLabeledControlElement&quot;&gt;</span>
<a href="#l12.22"></a><span id="l12.22">       &lt;!-- nsIDOMXULLabeledControlElement --&gt;</span>
<a href="#l12.23"></a><span id="l12.23">       &lt;field name=&quot;crop&quot;&gt;&quot;&quot;&lt;/field&gt;</span>
<a href="#l12.24"></a><span id="l12.24">       &lt;field name=&quot;image&quot;&gt;&quot;&quot;&lt;/field&gt;</span>
<a href="#l12.25"></a><span id="l12.25">       &lt;field name=&quot;command&quot;&gt;&quot;&quot;&lt;/field&gt;</span>
<a href="#l12.26"></a><span id="l12.26">       &lt;field name=&quot;accessKey&quot;&gt;&quot;&quot;&lt;/field&gt;</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineat">@@ -239,15 +240,14 @@</span>
<a href="#l12.28"></a><span id="l12.28">         if (event.target != this)</span>
<a href="#l12.29"></a><span id="l12.29">           return;</span>
<a href="#l12.30"></a><span id="l12.30"> </span>
<a href="#l12.31"></a><span id="l12.31">         if (!event.button) // context menu opened via keyboard shortcut</span>
<a href="#l12.32"></a><span id="l12.32">           return;</span>
<a href="#l12.33"></a><span id="l12.33">         this._maybeSelectAll();</span>
<a href="#l12.34"></a><span id="l12.34">         // see bug 576135 comment 4</span>
<a href="#l12.35"></a><span id="l12.35">         let box = this.inputField.parentNode;</span>
<a href="#l12.36"></a><span id="l12.36" class="difflineminus">-        let menu = document.getAnonymousElementByAttribute(box, &quot;anonid&quot;, &quot;input-box-contextmenu&quot;);</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineminus">-        box._doPopupItemEnabling(menu);</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineplus">+        box._doPopupItemEnabling(box.menupopup);</span>
<a href="#l12.39"></a><span id="l12.39">       &lt;/handler&gt;</span>
<a href="#l12.40"></a><span id="l12.40"> #endif</span>
<a href="#l12.41"></a><span id="l12.41">     &lt;/handlers&gt;</span>
<a href="#l12.42"></a><span id="l12.42">   &lt;/binding&gt;</span>
<a href="#l12.43"></a><span id="l12.43"> &lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/test/resources/mozmill/test/dnd/testDragLink.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/test/resources/mozmill/test/dnd/testDragLink.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l13.4"></a><span id="l13.4"> var setupModule = function(module) {</span>
<a href="#l13.5"></a><span id="l13.5">   module.controller = mozmill.getBrowserController();</span>
<a href="#l13.6"></a><span id="l13.6"> }</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8"> var testFoo = function(){</span>
<a href="#l13.9"></a><span id="l13.9">   controller.open('http://www.google.com');</span>
<a href="#l13.10"></a><span id="l13.10">   controller.waitForPageLoad();</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-  var urlbar = new elementslib.Lookup(controller.window.document, '/id(&quot;main-window&quot;)/id(&quot;tab-view-deck&quot;)/{&quot;flex&quot;:&quot;1&quot;}/id(&quot;navigator-toolbox&quot;)/id(&quot;nav-bar&quot;)/id(&quot;urlbar-container&quot;)/id(&quot;urlbar&quot;)/anon({&quot;class&quot;:&quot;urlbar-frontcap-and-textbox&quot;})/anon({&quot;anonid&quot;:&quot;stack&quot;})/anon({&quot;anonid&quot;:&quot;textbox-container&quot;})/anon({&quot;anonid&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})');</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+  var urlbar = new elementslib.Lookup(controller.window.document, '/id(&quot;main-window&quot;)/id(&quot;tab-view-deck&quot;)/{&quot;flex&quot;:&quot;1&quot;}/id(&quot;navigator-toolbox&quot;)/id(&quot;nav-bar&quot;)/id(&quot;urlbar-container&quot;)/id(&quot;urlbar&quot;)/anon({&quot;class&quot;:&quot;urlbar-frontcap-and-textbox&quot;})/anon({&quot;anonid&quot;:&quot;stack&quot;})/anon({&quot;anonid&quot;:&quot;textbox-container&quot;})/anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})');</span>
<a href="#l13.14"></a><span id="l13.14">   var link = new elementslib.Link(controller.tabs.activeTab, &quot;Advanced search&quot;);</span>
<a href="#l13.15"></a><span id="l13.15"> </span>
<a href="#l13.16"></a><span id="l13.16">   controller.dragToElement(link, urlbar, 100, 20);</span>
<a href="#l13.17"></a><span id="l13.17"> </span>
<a href="#l13.18"></a><span id="l13.18">   // should visit advanced search page</span>
<a href="#l13.19"></a><span id="l13.19">   controller.waitForPageLoad();</span>
<a href="#l13.20"></a><span id="l13.20">   var advancedSearch = new elementslib.Name(controller.tabs.activeTab, &quot;as_q&quot;);</span>
<a href="#l13.21"></a><span id="l13.21">   controller.assertNode(advancedSearch);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mail/test/resources/mozmill/test/elementLib-UnitTest.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mail/test/resources/mozmill/test/elementLib-UnitTest.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -32,12 +32,12 @@ var test_foo = function(){</span>
<a href="#l14.4"></a><span id="l14.4">   controller.sleep(1000);</span>
<a href="#l14.5"></a><span id="l14.5"> </span>
<a href="#l14.6"></a><span id="l14.6">   // Test chrome drop down interaction using lookup detection - change searchbox to Yahoo</span>
<a href="#l14.7"></a><span id="l14.7">   e = new elementslib.Lookup(chrome, '/id(&quot;main-window&quot;)/id(&quot;navigator-toolbox&quot;)/id(&quot;nav-bar&quot;)/id(&quot;search-container&quot;)/id(&quot;searchbar&quot;)/anon({&quot;anonid&quot;:&quot;searchbar-textbox&quot;})/anon({&quot;anonid&quot;:&quot;searchbar-engine-button&quot;})/anon({&quot;anonid&quot;:&quot;searchbar-popup&quot;})/id(&quot;Yahoo&quot;)');</span>
<a href="#l14.8"></a><span id="l14.8">   controller.click(e);</span>
<a href="#l14.9"></a><span id="l14.9">   controller.sleep(1000);</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11">   // Type in searchbox and hit return</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-  e = new elementslib.Lookup(chrome, '/id(&quot;main-window&quot;)/id(&quot;navigator-toolbox&quot;)/id(&quot;nav-bar&quot;)/id(&quot;search-container&quot;)/id(&quot;searchbar&quot;)/anon({&quot;anonid&quot;:&quot;searchbar-textbox&quot;})/anon({&quot;anonid&quot;:&quot;textbox-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})');</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+  e = new elementslib.Lookup(chrome, '/id(&quot;main-window&quot;)/id(&quot;navigator-toolbox&quot;)/id(&quot;nav-bar&quot;)/id(&quot;search-container&quot;)/id(&quot;searchbar&quot;)/anon({&quot;anonid&quot;:&quot;searchbar-textbox&quot;})/anon({&quot;anonid&quot;:&quot;moz-input-box&quot;})/anon({&quot;anonid&quot;:&quot;input&quot;})');</span>
<a href="#l14.14"></a><span id="l14.14">   controller.type(e, &quot;mozilla&quot;);</span>
<a href="#l14.15"></a><span id="l14.15">   controller.keypress(e, 13);</span>
<a href="#l14.16"></a><span id="l14.16"> }</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

