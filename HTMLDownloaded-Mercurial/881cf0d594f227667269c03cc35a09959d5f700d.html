<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 25685:881cf0d594f227667269c03cc35a09959d5f700d</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 881cf0d594f227667269c03cc35a09959d5f700d" />
<meta property="og:url" content="/comm-central/rev/881cf0d594f227667269c03cc35a09959d5f700d" />
<meta property="og:description" content="Bug 1517664 - Tidy some linting code in mail/components; r=aceman" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 881cf0d594f227667269c03cc35a09959d5f700d 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/881cf0d594f227667269c03cc35a09959d5f700d">shortlog</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/881cf0d594f227667269c03cc35a09959d5f700d">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d">files</a> |
changeset |
<a href="/comm-central/raw-rev/881cf0d594f227667269c03cc35a09959d5f700d">raw</a>  | <a href="/comm-central/archive/881cf0d594f227667269c03cc35a09959d5f700d.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1517664">Bug 1517664</a> - Tidy some linting code in mail/components; r=aceman
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#71;&#101;&#111;&#102;&#102;&#32;&#76;&#97;&#110;&#107;&#111;&#119;&#32;&#60;&#103;&#101;&#111;&#102;&#102;&#64;&#100;&#97;&#114;&#107;&#116;&#114;&#111;&#106;&#97;&#110;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 25 Jan 2019 17:32:10 +1300</td></tr>

<tr>
 <td>changeset 25685</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/881cf0d594f227667269c03cc35a09959d5f700d">881cf0d594f227667269c03cc35a09959d5f700d</a></td>
</tr>



<tr>
<td>parent 25684</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/bd2ed7ad33c9714f381b6d8c5d9d8c5f4a1d40d8">bd2ed7ad33c9714f381b6d8c5d9d8c5f4a1d40d8</a>
</td>
</tr>

<tr>
<td>child 25686</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/0a405faf8b1dd4ed743633103fadbdaa93e9d86a">0a405faf8b1dd4ed743633103fadbdaa93e9d86a</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=881cf0d594f227667269c03cc35a09959d5f700d">15414</a></td></tr>
<tr><td>push user</td><td>geoff@darktrojan.net</td></tr>
<tr><td>push date</td><td class="date age">Fri, 25 Jan 2019 04:32:46 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@881cf0d594f2 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=881cf0d594f227667269c03cc35a09959d5f700d">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=881cf0d594f227667269c03cc35a09959d5f700d&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=881cf0d594f227667269c03cc35a09959d5f700d&newProject=comm-central&newRevision=954fd69c1e3c2ccf7b4bdd1f32b53d261b55a9ef&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=881cf0d594f227667269c03cc35a09959d5f700d&newProject=comm-central&newRevision=954fd69c1e3c2ccf7b4bdd1f32b53d261b55a9ef&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=881cf0d594f227667269c03cc35a09959d5f700d&newProject=comm-central&newRevision=954fd69c1e3c2ccf7b4bdd1f32b53d261b55a9ef&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28aceman%29&revcount=50">aceman</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1517664">1517664</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1517664">Bug 1517664</a> - Tidy some linting code in mail/components; r=aceman</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/commandglue.js">mail/base/content/commandglue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/commandglue.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/commandglue.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/commandglue.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/commandglue.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/commandglue.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/foldersummary.js">mail/base/content/foldersummary.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/foldersummary.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/foldersummary.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/foldersummary.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/foldersummary.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/foldersummary.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mail3PaneWindowCommands.js">mail/base/content/mail3PaneWindowCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mail3PaneWindowCommands.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mail3PaneWindowCommands.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mail3PaneWindowCommands.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mail3PaneWindowCommands.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mail3PaneWindowCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCommands.js">mail/base/content/mailCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCommands.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCommands.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCommands.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCommands.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCommands.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCore.js">mail/base/content/mailCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCore.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCore.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCore.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCore.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailCore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailTabs.js">mail/base/content/mailTabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailTabs.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailTabs.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailTabs.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailTabs.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailTabs.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailWindowOverlay.js">mail/base/content/mailWindowOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailWindowOverlay.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailWindowOverlay.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailWindowOverlay.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailWindowOverlay.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/mailWindowOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/nsContextMenu.js">mail/base/content/nsContextMenu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/nsContextMenu.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/nsContextMenu.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/nsContextMenu.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/nsContextMenu.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/nsContextMenu.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/selectionsummaries.js">mail/base/content/selectionsummaries.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/selectionsummaries.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/selectionsummaries.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/selectionsummaries.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/selectionsummaries.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/selectionsummaries.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/specialTabs.js">mail/base/content/specialTabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/specialTabs.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/specialTabs.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/specialTabs.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/specialTabs.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/content/specialTabs.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/modules/MailMigrator.jsm">mail/base/modules/MailMigrator.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/modules/MailMigrator.jsm">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/modules/MailMigrator.jsm">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/modules/MailMigrator.jsm">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/modules/MailMigrator.jsm">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/base/modules/MailMigrator.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/.eslintrc.js">mail/components/accountcreation/content/.eslintrc.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/.eslintrc.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/.eslintrc.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/.eslintrc.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/MyBadCertHandler.js">mail/components/accountcreation/content/MyBadCertHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/MyBadCertHandler.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/MyBadCertHandler.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/MyBadCertHandler.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/MyBadCertHandler.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/MyBadCertHandler.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/accountConfig.js">mail/components/accountcreation/content/accountConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/accountConfig.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/accountConfig.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/accountConfig.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/accountConfig.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/accountConfig.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/createInBackend.js">mail/components/accountcreation/content/createInBackend.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/createInBackend.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/createInBackend.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/createInBackend.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/createInBackend.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/createInBackend.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/emailWizard.js">mail/components/accountcreation/content/emailWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/emailWizard.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/emailWizard.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/emailWizard.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/emailWizard.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/emailWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/exchangeAutoDiscover.js">mail/components/accountcreation/content/exchangeAutoDiscover.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/exchangeAutoDiscover.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/exchangeAutoDiscover.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/exchangeAutoDiscover.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/exchangeAutoDiscover.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/exchangeAutoDiscover.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchConfig.js">mail/components/accountcreation/content/fetchConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchConfig.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchConfig.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchConfig.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchConfig.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchConfig.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchhttp.js">mail/components/accountcreation/content/fetchhttp.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchhttp.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchhttp.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchhttp.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchhttp.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/fetchhttp.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/guessConfig.js">mail/components/accountcreation/content/guessConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/guessConfig.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/guessConfig.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/guessConfig.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/guessConfig.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/guessConfig.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/readFromXML.js">mail/components/accountcreation/content/readFromXML.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/readFromXML.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/readFromXML.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/readFromXML.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/readFromXML.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/readFromXML.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/sanitizeDatatypes.js">mail/components/accountcreation/content/sanitizeDatatypes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/sanitizeDatatypes.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/sanitizeDatatypes.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/sanitizeDatatypes.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/sanitizeDatatypes.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/sanitizeDatatypes.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/util.js">mail/components/accountcreation/content/util.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/util.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/util.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/util.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/util.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/util.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/verifyConfig.js">mail/components/accountcreation/content/verifyConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/verifyConfig.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/verifyConfig.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/verifyConfig.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/verifyConfig.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/accountcreation/content/verifyConfig.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/autosync.jsm">mail/components/activity/modules/autosync.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/autosync.jsm">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/autosync.jsm">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/autosync.jsm">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/autosync.jsm">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/autosync.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/glodaIndexer.jsm">mail/components/activity/modules/glodaIndexer.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/glodaIndexer.jsm">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/glodaIndexer.jsm">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/glodaIndexer.jsm">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/glodaIndexer.jsm">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/glodaIndexer.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/moveCopy.jsm">mail/components/activity/modules/moveCopy.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/moveCopy.jsm">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/moveCopy.jsm">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/moveCopy.jsm">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/moveCopy.jsm">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/moveCopy.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/pop3Download.jsm">mail/components/activity/modules/pop3Download.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/pop3Download.jsm">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/pop3Download.jsm">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/pop3Download.jsm">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/pop3Download.jsm">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/pop3Download.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/sendLater.jsm">mail/components/activity/modules/sendLater.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/sendLater.jsm">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/sendLater.jsm">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/sendLater.jsm">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/sendLater.jsm">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/activity/modules/sendLater.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/.eslintrc.js">mail/components/addrbook/content/.eslintrc.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/.eslintrc.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/.eslintrc.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/.eslintrc.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCard.js">mail/components/addrbook/content/abCard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCard.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCard.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCard.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCard.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCard.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCardView.js">mail/components/addrbook/content/abCardView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCardView.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCardView.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCardView.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCardView.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCardView.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCommon.js">mail/components/addrbook/content/abCommon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCommon.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCommon.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCommon.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCommon.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abCommon.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abContactsPanel.js">mail/components/addrbook/content/abContactsPanel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abContactsPanel.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abContactsPanel.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abContactsPanel.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abContactsPanel.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abContactsPanel.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abTrees.js">mail/components/addrbook/content/abTrees.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abTrees.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abTrees.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abTrees.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abTrees.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/abTrees.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/addressbook.js">mail/components/addrbook/content/addressbook.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/addressbook.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/addressbook.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/addressbook.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/addressbook.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/addrbook/content/addressbook.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/appIdleManager.js">mail/components/appIdleManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/appIdleManager.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/appIdleManager.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/appIdleManager.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/appIdleManager.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/appIdleManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/.eslintrc.js">mail/components/compose/content/.eslintrc.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/.eslintrc.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/.eslintrc.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/.eslintrc.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/MsgComposeCommands.js">mail/components/compose/content/MsgComposeCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/MsgComposeCommands.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/MsgComposeCommands.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/MsgComposeCommands.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/MsgComposeCommands.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/MsgComposeCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/addressingWidgetOverlay.js">mail/components/compose/content/addressingWidgetOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/addressingWidgetOverlay.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/addressingWidgetOverlay.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/addressingWidgetOverlay.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/addressingWidgetOverlay.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/compose/content/addressingWidgetOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/.eslintrc.js">mail/components/preferences/.eslintrc.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/.eslintrc.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/.eslintrc.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/.eslintrc.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/advanced.js">mail/components/preferences/advanced.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/advanced.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/advanced.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/advanced.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/advanced.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/advanced.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/applications.js">mail/components/preferences/applications.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/applications.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/applications.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/applications.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/applications.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/applications.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/compose.js">mail/components/preferences/compose.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/compose.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/compose.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/compose.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/compose.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/compose.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/display.js">mail/components/preferences/display.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/display.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/display.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/display.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/display.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/display.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/downloads.js">mail/components/preferences/downloads.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/downloads.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/downloads.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/downloads.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/downloads.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/downloads.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/general.js">mail/components/preferences/general.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/general.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/general.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/general.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/general.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/general.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/messagestyle.js">mail/components/preferences/messagestyle.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/messagestyle.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/messagestyle.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/messagestyle.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/messagestyle.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/messagestyle.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/privacy.js">mail/components/preferences/privacy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/privacy.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/privacy.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/privacy.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/privacy.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/privacy.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/security.js">mail/components/preferences/security.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/security.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/security.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/security.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/security.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/security.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/subdialogs.js">mail/components/preferences/subdialogs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/subdialogs.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/subdialogs.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/subdialogs.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/subdialogs.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/components/preferences/subdialogs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgCompSMIMEOverlay.js">mail/extensions/smime/content/msgCompSMIMEOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgCompSMIMEOverlay.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgCompSMIMEOverlay.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgCompSMIMEOverlay.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgCompSMIMEOverlay.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgCompSMIMEOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">file</a> |
<a href="/comm-central/annotate/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">annotate</a> |
<a href="/comm-central/diff/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">diff</a> |
<a href="/comm-central/comparison/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">comparison</a> |
<a href="/comm-central/log/881cf0d594f227667269c03cc35a09959d5f700d/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/base/content/commandglue.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/base/content/commandglue.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -3,16 +3,18 @@</span>
<a href="#l1.4"></a><span id="l1.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6"> /*</span>
<a href="#l1.7"></a><span id="l1.7">  * Command-specific code. This stuff should be called by the widgets</span>
<a href="#l1.8"></a><span id="l1.8">  */</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10"> /* import-globals-from folderDisplay.js */</span>
<a href="#l1.11"></a><span id="l1.11"> /* import-globals-from folderPane.js */</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+/* import-globals-from mailWindow.js */</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+/* import-globals-from msgMail3PaneWindow.js */</span>
<a href="#l1.14"></a><span id="l1.14"> </span>
<a href="#l1.15"></a><span id="l1.15"> var { MailViewConstants } = ChromeUtils.import(&quot;resource:///modules/MailViewManager.jsm&quot;, null);</span>
<a href="#l1.16"></a><span id="l1.16"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l1.17"></a><span id="l1.17"> </span>
<a href="#l1.18"></a><span id="l1.18"> function UpdateMailToolbar(caller) {</span>
<a href="#l1.19"></a><span id="l1.19">   // If we have a transient selection, we shouldn't update the toolbar. We'll</span>
<a href="#l1.20"></a><span id="l1.20">   // update it once we've restored the original selection.</span>
<a href="#l1.21"></a><span id="l1.21">   if (&quot;gRightMouseButtonSavedSelection&quot; in window &amp;&amp;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/base/content/foldersummary.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/base/content/foldersummary.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l2.4"></a><span id="l2.4"> /**</span>
<a href="#l2.5"></a><span id="l2.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.6"></a><span id="l2.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.7"></a><span id="l2.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l2.8"></a><span id="l2.8"> </span>
<a href="#l2.9"></a><span id="l2.9"> /* globals MozXULElement */</span>
<a href="#l2.10"></a><span id="l2.10"> /* import-globals-from folderDisplay.js */</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineplus">+/* import-globals-from folderPane.js */</span>
<a href="#l2.12"></a><span id="l2.12"> /* import-globals-from ../../../mailnews/base/content/newmailalert.js */</span>
<a href="#l2.13"></a><span id="l2.13"> </span>
<a href="#l2.14"></a><span id="l2.14"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l2.15"></a><span id="l2.15"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l2.16"></a><span id="l2.16"> ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18"> /**</span>
<a href="#l2.19"></a><span id="l2.19">  * MozFolderSummary displays a listing of NEW mails for the folder in question.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/base/content/mail3PaneWindowCommands.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/base/content/mail3PaneWindowCommands.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -8,16 +8,17 @@</span>
<a href="#l3.4"></a><span id="l3.4">  */</span>
<a href="#l3.5"></a><span id="l3.5"> </span>
<a href="#l3.6"></a><span id="l3.6"> /* import-globals-from ../../components/im/content/chat-messenger.js */</span>
<a href="#l3.7"></a><span id="l3.7"> /* import-globals-from commandglue.js */</span>
<a href="#l3.8"></a><span id="l3.8"> /* import-globals-from folderDisplay.js */</span>
<a href="#l3.9"></a><span id="l3.9"> /* import-globals-from mailWindow.js */</span>
<a href="#l3.10"></a><span id="l3.10"> /* import-globals-from msgViewNavigation.js */</span>
<a href="#l3.11"></a><span id="l3.11"> /* import-globals-from threadPane.js */</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+/* import-globals-from utilityOverlay.js */</span>
<a href="#l3.13"></a><span id="l3.13"> </span>
<a href="#l3.14"></a><span id="l3.14"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l3.15"></a><span id="l3.15"> ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l3.16"></a><span id="l3.16"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l3.17"></a><span id="l3.17"> ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l3.18"></a><span id="l3.18"> </span>
<a href="#l3.19"></a><span id="l3.19"> // Controller object for folder pane</span>
<a href="#l3.20"></a><span id="l3.20"> var FolderPaneController = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/base/content/mailCommands.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/base/content/mailCommands.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,16 +1,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> /* -*- Mode: Javascript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l4.5"></a><span id="l4.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.6"></a><span id="l4.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.7"></a><span id="l4.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9"> /* import-globals-from commandglue.js */</span>
<a href="#l4.10"></a><span id="l4.10"> /* import-globals-from folderDisplay.js */</span>
<a href="#l4.11"></a><span id="l4.11"> /* import-globals-from mailWindow.js */</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+/* import-globals-from utilityOverlay.js */</span>
<a href="#l4.13"></a><span id="l4.13"> </span>
<a href="#l4.14"></a><span id="l4.14"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l4.15"></a><span id="l4.15"> ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l4.16"></a><span id="l4.16"> </span>
<a href="#l4.17"></a><span id="l4.17"> /**</span>
<a href="#l4.18"></a><span id="l4.18">  * Get the identity that most likely is the best one to use, given the hint.</span>
<a href="#l4.19"></a><span id="l4.19">  * @param identities    nsIArray&lt;nsIMsgIdentity&gt; of identities</span>
<a href="#l4.20"></a><span id="l4.20">  * @param optionalHint  string containing comma separated mailboxes</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineat">@@ -158,25 +159,25 @@ function GetMsgKeyFromURI(uri) {</span>
<a href="#l4.22"></a><span id="l4.22">   //   ex : mailbox-message://john%2Edoe@pop.isp.invalid/Drafts#123456?fetchCompleteMessage=true</span>
<a href="#l4.23"></a><span id="l4.23">   //   ex : mailbox-message://john%2Edoe@pop.isp.invalid/Drafts#12345</span>
<a href="#l4.24"></a><span id="l4.24">   // We keep only the part after '#' and before an optional '?'.</span>
<a href="#l4.25"></a><span id="l4.25">   // The regexp expects 'key' to be an integer (a series of digits) : '\d+'.</span>
<a href="#l4.26"></a><span id="l4.26">   let match = /.+#(\d+)/.exec(uri);</span>
<a href="#l4.27"></a><span id="l4.27">   return (match) ? match[1] : null;</span>
<a href="#l4.28"></a><span id="l4.28"> }</span>
<a href="#l4.29"></a><span id="l4.29"> </span>
<a href="#l4.30"></a><span id="l4.30" class="difflineplus">+/* eslint-disable complexity */</span>
<a href="#l4.31"></a><span id="l4.31"> /**</span>
<a href="#l4.32"></a><span id="l4.32">  * Compose a message.</span>
<a href="#l4.33"></a><span id="l4.33">  *</span>
<a href="#l4.34"></a><span id="l4.34">  * @param type   nsIMsgCompType    Type of composition (new message, reply, draft, etc.)</span>
<a href="#l4.35"></a><span id="l4.35">  * @param format nsIMsgCompFormat  Requested format (plain text, html, default)</span>
<a href="#l4.36"></a><span id="l4.36">  * @param folder nsIMsgFolder      Folder where the original message is stored</span>
<a href="#l4.37"></a><span id="l4.37">  * @param messageArray             Array of messages to process, often only holding one element.</span>
<a href="#l4.38"></a><span id="l4.38">  */</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-/* eslint-disable complexity */</span>
<a href="#l4.40"></a><span id="l4.40"> function ComposeMessage(type, format, folder, messageArray) {</span>
<a href="#l4.41"></a><span id="l4.41">   let msgComposeType = Ci.nsIMsgCompType;</span>
<a href="#l4.42"></a><span id="l4.42">   let ignoreQuote = false;</span>
<a href="#l4.43"></a><span id="l4.43">   let msgKey;</span>
<a href="#l4.44"></a><span id="l4.44">   if (messageArray &amp;&amp; messageArray.length == 1) {</span>
<a href="#l4.45"></a><span id="l4.45">     msgKey = GetMsgKeyFromURI(messageArray[0]);</span>
<a href="#l4.46"></a><span id="l4.46">     if (msgKey != gMessageDisplay.keyForCharsetOverride) {</span>
<a href="#l4.47"></a><span id="l4.47">       msgWindow.charsetOverride = false;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/base/content/mailCore.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/base/content/mailCore.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -11,16 +11,17 @@</span>
<a href="#l5.4"></a><span id="l5.4">  * Before adding to this file, ask yourself, is this a JS routine that is going</span>
<a href="#l5.5"></a><span id="l5.5">  * to be used by all of the main mail windows?</span>
<a href="#l5.6"></a><span id="l5.6">  */</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8"> /* import-globals-from ../../../common/src/customizeToolbar.js */</span>
<a href="#l5.9"></a><span id="l5.9"> /* import-globals-from ../../extensions/mailviews/content/msgViewPickerOverlay.js */</span>
<a href="#l5.10"></a><span id="l5.10"> /* import-globals-from commandglue.js */</span>
<a href="#l5.11"></a><span id="l5.11"> /* import-globals-from mailWindow.js */</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+/* import-globals-from utilityOverlay.js */</span>
<a href="#l5.13"></a><span id="l5.13"> </span>
<a href="#l5.14"></a><span id="l5.14"> ChromeUtils.import(&quot;resource://gre/modules/BrowserUtils.jsm&quot;);</span>
<a href="#l5.15"></a><span id="l5.15"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l5.16"></a><span id="l5.16"> ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l5.17"></a><span id="l5.17"> ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l5.18"></a><span id="l5.18"> ChromeUtils.import(&quot;resource://gre/modules/CharsetMenu.jsm&quot;);</span>
<a href="#l5.19"></a><span id="l5.19"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l5.20"></a><span id="l5.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/base/content/mailTabs.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/base/content/mailTabs.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l6.4"></a><span id="l6.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.5"></a><span id="l6.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.6"></a><span id="l6.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8"> /* import-globals-from commandglue.js */</span>
<a href="#l6.9"></a><span id="l6.9"> /* import-globals-from mail3PaneWindowCommands.js */</span>
<a href="#l6.10"></a><span id="l6.10"> /* import-globals-from mailContextMenus.js */</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineplus">+/* import-globals-from mailWindow.js */</span>
<a href="#l6.12"></a><span id="l6.12"> /* import-globals-from mailWindowOverlay.js */</span>
<a href="#l6.13"></a><span id="l6.13"> /* import-globals-from messageDisplay.js */</span>
<a href="#l6.14"></a><span id="l6.14"> /* import-globals-from msgMail3PaneWindow.js */</span>
<a href="#l6.15"></a><span id="l6.15"> </span>
<a href="#l6.16"></a><span id="l6.16"> ChromeUtils.import(&quot;resource:///modules/MsgHdrSyntheticView.jsm&quot;);</span>
<a href="#l6.17"></a><span id="l6.17"> var { logException } = ChromeUtils.import(&quot;resource:///modules/errUtils.js&quot;, null);</span>
<a href="#l6.18"></a><span id="l6.18"> ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l6.19"></a><span id="l6.19"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -8,16 +8,17 @@</span>
<a href="#l7.4"></a><span id="l7.4"> /* import-globals-from commandglue.js */</span>
<a href="#l7.5"></a><span id="l7.5"> /* import-globals-from contentAreaClick.js */</span>
<a href="#l7.6"></a><span id="l7.6"> /* import-globals-from folderDisplay.js */</span>
<a href="#l7.7"></a><span id="l7.7"> /* import-globals-from mail3PaneWindowCommands.js */</span>
<a href="#l7.8"></a><span id="l7.8"> /* import-globals-from mailCommands.js */</span>
<a href="#l7.9"></a><span id="l7.9"> /* import-globals-from mailContextMenus.js */</span>
<a href="#l7.10"></a><span id="l7.10"> /* import-globals-from mailWindow.js */</span>
<a href="#l7.11"></a><span id="l7.11"> /* import-globals-from phishingDetector.js */</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+/* import-globals-from utilityOverlay.js */</span>
<a href="#l7.13"></a><span id="l7.13"> </span>
<a href="#l7.14"></a><span id="l7.14"> ChromeUtils.import(&quot;resource:///modules/FeedUtils.jsm&quot;);</span>
<a href="#l7.15"></a><span id="l7.15"> var { GlodaSyntheticView } = ChromeUtils.import(&quot;resource:///modules/gloda/dbview.js&quot;, null);</span>
<a href="#l7.16"></a><span id="l7.16"> ChromeUtils.import(&quot;resource:///modules/MailConsts.jsm&quot;);</span>
<a href="#l7.17"></a><span id="l7.17"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l7.18"></a><span id="l7.18"> ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l7.19"></a><span id="l7.19"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l7.20"></a><span id="l7.20"> ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/base/content/nsContextMenu.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/base/content/nsContextMenu.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -2,16 +2,17 @@</span>
<a href="#l8.4"></a><span id="l8.4">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.5"></a><span id="l8.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.6"></a><span id="l8.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> /* import-globals-from folderDisplay.js */</span>
<a href="#l8.9"></a><span id="l8.9"> /* import-globals-from mailTabs.js */</span>
<a href="#l8.10"></a><span id="l8.10"> /* import-globals-from mailWindow.js */</span>
<a href="#l8.11"></a><span id="l8.11"> /* import-globals-from messageDisplay.js */</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+/* import-globals-from utilityOverlay.js */</span>
<a href="#l8.13"></a><span id="l8.13"> </span>
<a href="#l8.14"></a><span id="l8.14"> ChromeUtils.import(&quot;resource://gre/modules/InlineSpellChecker.jsm&quot;);</span>
<a href="#l8.15"></a><span id="l8.15"> ChromeUtils.import(&quot;resource://gre/modules/PlacesUtils.jsm&quot;);</span>
<a href="#l8.16"></a><span id="l8.16"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l8.17"></a><span id="l8.17"> ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l8.18"></a><span id="l8.18"> ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l8.19"></a><span id="l8.19"> ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l8.20"></a><span id="l8.20"> </span>
<a href="#l8.21"></a><span id="l8.21" class="difflineat">@@ -441,21 +442,21 @@ nsContextMenu.prototype = {</span>
<a href="#l8.22"></a><span id="l8.22">       &quot;mailContext-sep-undo&quot;, &quot;mailContext-sep-clipboard&quot;,</span>
<a href="#l8.23"></a><span id="l8.23">       &quot;mailContext-spell-suggestions-separator&quot;, &quot;mailContext-spell-separator&quot;,</span>
<a href="#l8.24"></a><span id="l8.24">     ];</span>
<a href="#l8.25"></a><span id="l8.25">     mailContextSeparators.forEach(this.hideIfAppropriate, this);</span>
<a href="#l8.26"></a><span id="l8.26"> </span>
<a href="#l8.27"></a><span id="l8.27">     this.checkLastSeparator(this.menu);</span>
<a href="#l8.28"></a><span id="l8.28">   },</span>
<a href="#l8.29"></a><span id="l8.29"> </span>
<a href="#l8.30"></a><span id="l8.30" class="difflineplus">+  /* eslint-disable complexity */</span>
<a href="#l8.31"></a><span id="l8.31">   /**</span>
<a href="#l8.32"></a><span id="l8.32">    * Set the nsContextMenu properties based on the selected node and</span>
<a href="#l8.33"></a><span id="l8.33">    * its ancestors.</span>
<a href="#l8.34"></a><span id="l8.34">    */</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineminus">-  /* eslint-disable complexity */</span>
<a href="#l8.36"></a><span id="l8.36">   setTarget(aNode) {</span>
<a href="#l8.37"></a><span id="l8.37">     // Clear any old spellchecking items from the menu, this used to</span>
<a href="#l8.38"></a><span id="l8.38">     // be in the menu hiding code but wasn't getting called in all</span>
<a href="#l8.39"></a><span id="l8.39">     // situations. Here, we can ensure it gets cleaned up any time the</span>
<a href="#l8.40"></a><span id="l8.40">     // menu is shown. Note: must be before uninit because that clears the</span>
<a href="#l8.41"></a><span id="l8.41">     // internal vars</span>
<a href="#l8.42"></a><span id="l8.42">     // We also need to do that before we possibly bail because we just clicked</span>
<a href="#l8.43"></a><span id="l8.43">     // on some XUL node. Otherwise, dictionary choices just accumulate until we</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/base/content/selectionsummaries.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/base/content/selectionsummaries.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1,13 +1,14 @@</span>
<a href="#l9.4"></a><span id="l9.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.5"></a><span id="l9.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.6"></a><span id="l9.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> /* import-globals-from commandglue.js */</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineplus">+/* import-globals-from mailWindow.js */</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> /**</span>
<a href="#l9.12"></a><span id="l9.12">  * Summarize a set of selected messages.  This can either be a single thread or</span>
<a href="#l9.13"></a><span id="l9.13">  * multiple threads.</span>
<a href="#l9.14"></a><span id="l9.14">  *</span>
<a href="#l9.15"></a><span id="l9.15">  * @param aMessageDisplay The MessageDisplayWidget object responsible for</span>
<a href="#l9.16"></a><span id="l9.16">  *                         showing messages.</span>
<a href="#l9.17"></a><span id="l9.17">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/base/content/specialTabs.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/base/content/specialTabs.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,14 +1,15 @@</span>
<a href="#l10.4"></a><span id="l10.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.5"></a><span id="l10.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.6"></a><span id="l10.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.7"></a><span id="l10.7"> </span>
<a href="#l10.8"></a><span id="l10.8"> /* import-globals-from ../../../../toolkit/components/printing/content/printUtils.js */</span>
<a href="#l10.9"></a><span id="l10.9"> /* import-globals-from mailWindow.js */</span>
<a href="#l10.10"></a><span id="l10.10" class="difflineplus">+/* import-globals-from utilityOverlay.js */</span>
<a href="#l10.11"></a><span id="l10.11"> </span>
<a href="#l10.12"></a><span id="l10.12"> ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l10.13"></a><span id="l10.13"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l10.14"></a><span id="l10.14"> ChromeUtils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l10.15"></a><span id="l10.15"> ChromeUtils.import(&quot;resource:///modules/StringBundle.js&quot;);</span>
<a href="#l10.16"></a><span id="l10.16"> ChromeUtils.import(&quot;resource://gre/modules/BrowserUtils.jsm&quot;);</span>
<a href="#l10.17"></a><span id="l10.17"> ChromeUtils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l10.18"></a><span id="l10.18"> ChromeUtils.import(&quot;resource://gre/modules/ExtensionParent.jsm&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/base/modules/MailMigrator.jsm</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/base/modules/MailMigrator.jsm</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -80,21 +80,21 @@ var MailMigrator = {</span>
<a href="#l11.4"></a><span id="l11.4">           this._switchDefaultFonts(fonts, encodings);</span>
<a href="#l11.5"></a><span id="l11.5"> </span>
<a href="#l11.6"></a><span id="l11.6">           Services.prefs.setIntPref(&quot;mail.font.windows.version&quot;, 2);</span>
<a href="#l11.7"></a><span id="l11.7">         }</span>
<a href="#l11.8"></a><span id="l11.8">       }</span>
<a href="#l11.9"></a><span id="l11.9">     }</span>
<a href="#l11.10"></a><span id="l11.10">   },</span>
<a href="#l11.11"></a><span id="l11.11"> </span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+  /* eslint-disable complexity */</span>
<a href="#l11.13"></a><span id="l11.13">   /**</span>
<a href="#l11.14"></a><span id="l11.14">    * Determine if the UI has been upgraded in a way that requires us to reset</span>
<a href="#l11.15"></a><span id="l11.15">    * some user configuration.  If so, performs the resets.</span>
<a href="#l11.16"></a><span id="l11.16">    */</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-  /* eslint-disable complexity */</span>
<a href="#l11.18"></a><span id="l11.18">   _migrateUI() {</span>
<a href="#l11.19"></a><span id="l11.19">     // The code for this was ported from</span>
<a href="#l11.20"></a><span id="l11.20">     // mozilla/browser/components/nsBrowserGlue.js</span>
<a href="#l11.21"></a><span id="l11.21">     const UI_VERSION = 17;</span>
<a href="#l11.22"></a><span id="l11.22">     const MESSENGER_DOCURL = &quot;chrome://messenger/content/messenger.xul&quot;;</span>
<a href="#l11.23"></a><span id="l11.23">     const MESSENGERCOMPOSE_DOCURL = &quot;chrome://messenger/content/messengercompose/messengercompose.xul&quot;;</span>
<a href="#l11.24"></a><span id="l11.24">     const UI_VERSION_PREF = &quot;mail.ui-rdf.version&quot;;</span>
<a href="#l11.25"></a><span id="l11.25">     let currentUIVersion = Services.prefs.getIntPref(UI_VERSION_PREF, 0);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1">deleted file mode 100644</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineminus">--- a/mail/components/accountcreation/content/.eslintrc.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineplus">+++ /dev/null</span>
<a href="#l12.4"></a><span id="l12.4" class="difflineat">@@ -1,59 +0,0 @@</span>
<a href="#l12.5"></a><span id="l12.5" class="difflineminus">-&quot;use strict&quot;;</span>
<a href="#l12.6"></a><span id="l12.6" class="difflineminus">-</span>
<a href="#l12.7"></a><span id="l12.7" class="difflineminus">-module.exports = {</span>
<a href="#l12.8"></a><span id="l12.8" class="difflineminus">-  &quot;globals&quot;: {</span>
<a href="#l12.9"></a><span id="l12.9" class="difflineminus">-    &quot;Abortable&quot;: true,</span>
<a href="#l12.10"></a><span id="l12.10" class="difflineminus">-    &quot;AccountConfig&quot;: true,</span>
<a href="#l12.11"></a><span id="l12.11" class="difflineminus">-    &quot;AddonInstaller&quot;: true,</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-    &quot;BadCertHandler&quot;: true,</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-    &quot;CancelledException&quot;: true,</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-    &quot;Exception&quot;: true,</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineminus">-    &quot;FetchHTTP&quot;: true,</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineminus">-    &quot;Log4Moz&quot;: true,</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-    &quot;MailServices&quot;: true,</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineminus">-    &quot;NewMailAccountProvisioner&quot;: true,</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineminus">-    &quot;NotReached&quot;: true,</span>
<a href="#l12.20"></a><span id="l12.20" class="difflineminus">-    &quot;PriorityOrderAbortable&quot;: true,</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineminus">-    &quot;Services&quot;: true,</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineminus">-    &quot;SuccessiveAbortable&quot;: true,</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineminus">-    &quot;TimeoutAbortable&quot;: true,</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineminus">-    &quot;UserCancelledException&quot;: true,</span>
<a href="#l12.25"></a><span id="l12.25" class="difflineminus">-    &quot;alertPrompt&quot;: true,</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineminus">-    &quot;assert&quot;: true,</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineminus">-    &quot;checkIncomingServerAlreadyExists&quot;: true,</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineminus">-    &quot;checkOutgoingServerAlreadyExists&quot;: true,</span>
<a href="#l12.29"></a><span id="l12.29" class="difflineminus">-    &quot;cleanUpHostName&quot;: true,</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineminus">-    &quot;createAccountInBackend&quot;: true,</span>
<a href="#l12.31"></a><span id="l12.31" class="difflineminus">-    &quot;ddump&quot;: true,</span>
<a href="#l12.32"></a><span id="l12.32" class="difflineminus">-    &quot;debugObject&quot;: true,</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineminus">-    &quot;deepCopy&quot;: true,</span>
<a href="#l12.34"></a><span id="l12.34" class="difflineminus">-    &quot;errorWithDebug&quot;: true,</span>
<a href="#l12.35"></a><span id="l12.35" class="difflineminus">-    &quot;fetchConfigForMX&quot;: true,</span>
<a href="#l12.36"></a><span id="l12.36" class="difflineminus">-    &quot;fetchConfigFromDB&quot;: true,</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineminus">-    &quot;fetchConfigFromDisk&quot;: true,</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineminus">-    &quot;fetchConfigFromExchange&quot;: true,</span>
<a href="#l12.39"></a><span id="l12.39" class="difflineminus">-    &quot;fetchConfigFromISP&quot;: true,</span>
<a href="#l12.40"></a><span id="l12.40" class="difflineminus">-    &quot;getStringBundle&quot;: true,</span>
<a href="#l12.41"></a><span id="l12.41" class="difflineminus">-    &quot;guessConfig&quot;: true,</span>
<a href="#l12.42"></a><span id="l12.42" class="difflineminus">-    &quot;isLegalHostName&quot;: true,</span>
<a href="#l12.43"></a><span id="l12.43" class="difflineminus">-    &quot;isLegalHostNameOrIP&quot;: true,</span>
<a href="#l12.44"></a><span id="l12.44" class="difflineminus">-    &quot;isLegalIPAddress&quot;: true,</span>
<a href="#l12.45"></a><span id="l12.45" class="difflineminus">-    &quot;isLegalIPv4Address&quot;: true,</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineminus">-    &quot;isLegalIPv6Address&quot;: true,</span>
<a href="#l12.47"></a><span id="l12.47" class="difflineminus">-    &quot;isLegalLocalIPAddress&quot;: true,</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineminus">-    &quot;kDebug&quot;: true,</span>
<a href="#l12.49"></a><span id="l12.49" class="difflineminus">-    &quot;kMaxPort&quot;: true,</span>
<a href="#l12.50"></a><span id="l12.50" class="difflineminus">-    &quot;kMinPort&quot;: true,</span>
<a href="#l12.51"></a><span id="l12.51" class="difflineminus">-    &quot;logElement&quot;: true,</span>
<a href="#l12.52"></a><span id="l12.52" class="difflineminus">-    &quot;logEvent&quot;: true,</span>
<a href="#l12.53"></a><span id="l12.53" class="difflineminus">-    &quot;logException&quot;: true,</span>
<a href="#l12.54"></a><span id="l12.54" class="difflineminus">-    &quot;logObject&quot;: true,</span>
<a href="#l12.55"></a><span id="l12.55" class="difflineminus">-    &quot;makeCallback&quot;: true,</span>
<a href="#l12.56"></a><span id="l12.56" class="difflineminus">-    &quot;readFromXML&quot;: true,</span>
<a href="#l12.57"></a><span id="l12.57" class="difflineminus">-    &quot;readURLasUTF8&quot;: true,</span>
<a href="#l12.58"></a><span id="l12.58" class="difflineminus">-    &quot;replaceVariables&quot;: true,</span>
<a href="#l12.59"></a><span id="l12.59" class="difflineminus">-    &quot;runAsync&quot;: true,</span>
<a href="#l12.60"></a><span id="l12.60" class="difflineminus">-    &quot;sanitize&quot;: true,</span>
<a href="#l12.61"></a><span id="l12.61" class="difflineminus">-    &quot;verifyConfig&quot;: true,</span>
<a href="#l12.62"></a><span id="l12.62" class="difflineminus">-  },</span>
<a href="#l12.63"></a><span id="l12.63" class="difflineminus">-};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/components/accountcreation/content/MyBadCertHandler.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/components/accountcreation/content/MyBadCertHandler.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -8,18 +8,17 @@</span>
<a href="#l13.4"></a><span id="l13.4">  * security dialogs from being shown to the user.  We call back to the</span>
<a href="#l13.5"></a><span id="l13.5">  * 'callback' object's method &quot;processCertError&quot; so that it can deal with it as</span>
<a href="#l13.6"></a><span id="l13.6">  * needed (in the case of autoconfig, setting up temporary overrides).</span>
<a href="#l13.7"></a><span id="l13.7">  */</span>
<a href="#l13.8"></a><span id="l13.8"> function BadCertHandler(callback) {</span>
<a href="#l13.9"></a><span id="l13.9">   this._init(callback);</span>
<a href="#l13.10"></a><span id="l13.10"> }</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-BadCertHandler.prototype =</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-{</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+BadCertHandler.prototype = {</span>
<a href="#l13.15"></a><span id="l13.15">   _init(callback) {</span>
<a href="#l13.16"></a><span id="l13.16">     this._callback = callback;</span>
<a href="#l13.17"></a><span id="l13.17">   },</span>
<a href="#l13.18"></a><span id="l13.18"> </span>
<a href="#l13.19"></a><span id="l13.19">   // Suppress any certificate errors</span>
<a href="#l13.20"></a><span id="l13.20">   notifyCertProblem(socketInfo, status, targetSite) {</span>
<a href="#l13.21"></a><span id="l13.21">     return this._callback.processCertError(socketInfo, status, targetSite);</span>
<a href="#l13.22"></a><span id="l13.22">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mail/components/accountcreation/content/accountConfig.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mail/components/accountcreation/content/accountConfig.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -15,33 +15,33 @@</span>
<a href="#l14.4"></a><span id="l14.4">  * new object and returns that, and the caller can copy these</span>
<a href="#l14.5"></a><span id="l14.5">  * values into the object used by the UI.</span>
<a href="#l14.6"></a><span id="l14.6">  *</span>
<a href="#l14.7"></a><span id="l14.7">  * See also</span>
<a href="#l14.8"></a><span id="l14.8">  * &lt;https://wiki.mozilla.org/Thunderbird:Autoconfiguration:ConfigFileFormat&gt;</span>
<a href="#l14.9"></a><span id="l14.9">  * for values stored.</span>
<a href="#l14.10"></a><span id="l14.10">  */</span>
<a href="#l14.11"></a><span id="l14.11"> </span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+</span>
<a href="#l14.14"></a><span id="l14.14"> function AccountConfig() {</span>
<a href="#l14.15"></a><span id="l14.15">   this.incoming = this.createNewIncoming();</span>
<a href="#l14.16"></a><span id="l14.16">   this.incomingAlternatives = [];</span>
<a href="#l14.17"></a><span id="l14.17">   this.outgoing = this.createNewOutgoing();</span>
<a href="#l14.18"></a><span id="l14.18">   this.outgoingAlternatives = [];</span>
<a href="#l14.19"></a><span id="l14.19" class="difflineminus">-  this.identity =</span>
<a href="#l14.20"></a><span id="l14.20" class="difflineminus">-  {</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineplus">+  this.identity = {</span>
<a href="#l14.22"></a><span id="l14.22">     // displayed real name of user</span>
<a href="#l14.23"></a><span id="l14.23">     realname: &quot;%REALNAME%&quot;,</span>
<a href="#l14.24"></a><span id="l14.24">     // email address of user, as shown in From of outgoing mails</span>
<a href="#l14.25"></a><span id="l14.25">     emailAddress: &quot;%EMAILADDRESS%&quot;,</span>
<a href="#l14.26"></a><span id="l14.26">   };</span>
<a href="#l14.27"></a><span id="l14.27">   this.inputFields = [];</span>
<a href="#l14.28"></a><span id="l14.28">   this.domains = [];</span>
<a href="#l14.29"></a><span id="l14.29"> }</span>
<a href="#l14.30"></a><span id="l14.30" class="difflineminus">-AccountConfig.prototype =</span>
<a href="#l14.31"></a><span id="l14.31" class="difflineminus">-{</span>
<a href="#l14.32"></a><span id="l14.32" class="difflineplus">+AccountConfig.prototype = {</span>
<a href="#l14.33"></a><span id="l14.33">   // @see createNewIncoming()</span>
<a href="#l14.34"></a><span id="l14.34">   incoming: null,</span>
<a href="#l14.35"></a><span id="l14.35">   // @see createNewOutgoing()</span>
<a href="#l14.36"></a><span id="l14.36">   outgoing: null,</span>
<a href="#l14.37"></a><span id="l14.37">   /**</span>
<a href="#l14.38"></a><span id="l14.38">    * Other servers which can be used instead of |incoming|,</span>
<a href="#l14.39"></a><span id="l14.39">    * in order of decreasing preference.</span>
<a href="#l14.40"></a><span id="l14.40">    * (|incoming| itself should not be included here.)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/components/accountcreation/content/createInBackend.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/components/accountcreation/content/createInBackend.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -1,18 +1,19 @@</span>
<a href="#l15.4"></a><span id="l15.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l15.5"></a><span id="l15.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l15.6"></a><span id="l15.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l15.7"></a><span id="l15.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l15.8"></a><span id="l15.8"> </span>
<a href="#l15.9"></a><span id="l15.9" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l15.10"></a><span id="l15.10"> </span>
<a href="#l15.11"></a><span id="l15.11"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l15.12"></a><span id="l15.12"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+</span>
<a href="#l15.14"></a><span id="l15.14"> /* eslint-disable complexity */</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineminus">-</span>
<a href="#l15.16"></a><span id="l15.16"> /**</span>
<a href="#l15.17"></a><span id="l15.17">  * Takes an |AccountConfig| JS object and creates that account in the</span>
<a href="#l15.18"></a><span id="l15.18">  * Thunderbird backend (which also writes it to prefs).</span>
<a href="#l15.19"></a><span id="l15.19">  *</span>
<a href="#l15.20"></a><span id="l15.20">  * @param {AccountConfig} config - The account to create</span>
<a href="#l15.21"></a><span id="l15.21">  * @return {nsIMsgAccount} - the newly created account</span>
<a href="#l15.22"></a><span id="l15.22">  */</span>
<a href="#l15.23"></a><span id="l15.23"> function createAccountInBackend(config) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/components/accountcreation/content/emailWizard.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/components/accountcreation/content/emailWizard.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -1,18 +1,35 @@</span>
<a href="#l16.4"></a><span id="l16.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l16.5"></a><span id="l16.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.6"></a><span id="l16.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.7"></a><span id="l16.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l16.8"></a><span id="l16.8"> </span>
<a href="#l16.9"></a><span id="l16.9" class="difflineminus">-ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l16.10"></a><span id="l16.10" class="difflineplus">+/* import-globals-from ../../../../mailnews/base/prefs/content/accountUtils.js */</span>
<a href="#l16.11"></a><span id="l16.11" class="difflineplus">+/* import-globals-from accountConfig.js */</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+/* import-globals-from createInBackend.js */</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineplus">+/* import-globals-from exchangeAutoDiscover.js */</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineplus">+/* import-globals-from fetchConfig.js */</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineplus">+/* import-globals-from fetchhttp.js */</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineplus">+/* import-globals-from guessConfig.js */</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineplus">+/* import-globals-from MyBadCertHandler.js */</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineplus">+/* import-globals-from readFromXML.js */</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineplus">+/* import-globals-from sanitizeDatatypes.js */</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineplus">+/* import-globals-from util.js */</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineplus">+/* import-globals-from verifyConfig.js */</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineplus">+</span>
<a href="#l16.24"></a><span id="l16.24"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l16.25"></a><span id="l16.25" class="difflineminus">-ChromeUtils.import(&quot;resource:///modules/hostnameUtils.jsm&quot;);</span>
<a href="#l16.26"></a><span id="l16.26" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l16.27"></a><span id="l16.27"> ChromeUtils.import(&quot;resource:///modules/OAuth2Providers.jsm&quot;);</span>
<a href="#l16.28"></a><span id="l16.28"> </span>
<a href="#l16.29"></a><span id="l16.29" class="difflineplus">+var { Log4Moz } = ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;, null);</span>
<a href="#l16.30"></a><span id="l16.30" class="difflineplus">+/* globals cleanUpHostName, isLegalHostNameOrIP, kMaxPort, kMinPort */</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/hostnameUtils.jsm&quot;, null);</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineplus">+</span>
<a href="#l16.33"></a><span id="l16.33"> /**</span>
<a href="#l16.34"></a><span id="l16.34">  * This is the dialog opened by menu File | New account | Mail... .</span>
<a href="#l16.35"></a><span id="l16.35">  *</span>
<a href="#l16.36"></a><span id="l16.36">  * It gets the user's realname, email address and password,</span>
<a href="#l16.37"></a><span id="l16.37">  * and tries to automatically configure the account from that,</span>
<a href="#l16.38"></a><span id="l16.38">  * using various mechanisms. If all fails, the user can enter/edit</span>
<a href="#l16.39"></a><span id="l16.39">  * the config, then we create the account.</span>
<a href="#l16.40"></a><span id="l16.40">  *</span>
<a href="#l16.41"></a><span id="l16.41" class="difflineat">@@ -30,17 +47,16 @@ ChromeUtils.import(&quot;resource:///modules/</span>
<a href="#l16.42"></a><span id="l16.42">  * - let user verify and maybe edit the server names and ports</span>
<a href="#l16.43"></a><span id="l16.43">  * - If user clicks OK, create the account</span>
<a href="#l16.44"></a><span id="l16.44">  */</span>
<a href="#l16.45"></a><span id="l16.45"> </span>
<a href="#l16.46"></a><span id="l16.46"> // from http://xyfer.blogspot.com/2005/01/javascript-regexp-email-validator.html</span>
<a href="#l16.47"></a><span id="l16.47"> var emailRE = /^[-_a-z0-9\'+*$^&amp;%=~!?{}]+(?:\.[-_a-z0-9\'+*$^&amp;%=~!?{}]+)*@(?:[-a-z0-9.]+\.[a-z]{2,20}|\d{1,3}(?:\.\d{1,3}){3})(?::\d+)?$/i;</span>
<a href="#l16.48"></a><span id="l16.48"> </span>
<a href="#l16.49"></a><span id="l16.49"> if (typeof gEmailWizardLogger == &quot;undefined&quot;) {</span>
<a href="#l16.50"></a><span id="l16.50" class="difflineminus">-  ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l16.51"></a><span id="l16.51">   var gEmailWizardLogger = Log4Moz.getConfiguredLogger(&quot;mail.setup&quot;);</span>
<a href="#l16.52"></a><span id="l16.52">   gEmailWizardLogger.level = Log4Moz.Level.Info;</span>
<a href="#l16.53"></a><span id="l16.53">   gEmailWizardLogger.addAppender(new Log4Moz.ConsoleAppender(new Log4Moz.BasicFormatter())); // browser console</span>
<a href="#l16.54"></a><span id="l16.54"> }</span>
<a href="#l16.55"></a><span id="l16.55"> </span>
<a href="#l16.56"></a><span id="l16.56"> var gStringsBundle;</span>
<a href="#l16.57"></a><span id="l16.57"> var gMessengerBundle;</span>
<a href="#l16.58"></a><span id="l16.58"> var gBrandShortName;</span>
<a href="#l16.59"></a><span id="l16.59" class="difflineat">@@ -119,18 +135,17 @@ function removeChildNodes(el) {</span>
<a href="#l16.60"></a><span id="l16.60">   while (el.hasChildNodes()) {</span>
<a href="#l16.61"></a><span id="l16.61">     el.lastChild.remove();</span>
<a href="#l16.62"></a><span id="l16.62">   }</span>
<a href="#l16.63"></a><span id="l16.63"> }</span>
<a href="#l16.64"></a><span id="l16.64"> </span>
<a href="#l16.65"></a><span id="l16.65"> function EmailConfigWizard() {</span>
<a href="#l16.66"></a><span id="l16.66">   this._init();</span>
<a href="#l16.67"></a><span id="l16.67"> }</span>
<a href="#l16.68"></a><span id="l16.68" class="difflineminus">-EmailConfigWizard.prototype =</span>
<a href="#l16.69"></a><span id="l16.69" class="difflineminus">-{</span>
<a href="#l16.70"></a><span id="l16.70" class="difflineplus">+EmailConfigWizard.prototype = {</span>
<a href="#l16.71"></a><span id="l16.71">   _init() {</span>
<a href="#l16.72"></a><span id="l16.72">     gEmailWizardLogger.info(&quot;Initializing setup wizard&quot;);</span>
<a href="#l16.73"></a><span id="l16.73">     this._abortable = null;</span>
<a href="#l16.74"></a><span id="l16.74">   },</span>
<a href="#l16.75"></a><span id="l16.75"> </span>
<a href="#l16.76"></a><span id="l16.76">   onLoad() {</span>
<a href="#l16.77"></a><span id="l16.77">     /**</span>
<a href="#l16.78"></a><span id="l16.78">      * this._currentConfig is the config we got either from the XML file or</span>
<a href="#l16.79"></a><span id="l16.79" class="difflineat">@@ -1807,18 +1822,17 @@ function getStandardPorts(protocolType) </span>
<a href="#l16.80"></a><span id="l16.80">  *</span>
<a href="#l16.81"></a><span id="l16.81">  * This is effectively a separate dialog, but implemented as part of</span>
<a href="#l16.82"></a><span id="l16.82">  * this dialog. It works by hiding the main dialog part and unhiding</span>
<a href="#l16.83"></a><span id="l16.83">  * the this part, and vice versa, and resizing the dialog.</span>
<a href="#l16.84"></a><span id="l16.84">  */</span>
<a href="#l16.85"></a><span id="l16.85"> function SecurityWarningDialog() {</span>
<a href="#l16.86"></a><span id="l16.86">   this._acknowledged = [];</span>
<a href="#l16.87"></a><span id="l16.87"> }</span>
<a href="#l16.88"></a><span id="l16.88" class="difflineminus">-SecurityWarningDialog.prototype =</span>
<a href="#l16.89"></a><span id="l16.89" class="difflineminus">-{</span>
<a href="#l16.90"></a><span id="l16.90" class="difflineplus">+SecurityWarningDialog.prototype = {</span>
<a href="#l16.91"></a><span id="l16.91">   /**</span>
<a href="#l16.92"></a><span id="l16.92">    * {Array of {(incoming or outgoing) server part of {AccountConfig}}</span>
<a href="#l16.93"></a><span id="l16.93">    * A list of the servers for which we already showed this dialog and the</span>
<a href="#l16.94"></a><span id="l16.94">    * user approved the configs. For those, we won't show the warning again.</span>
<a href="#l16.95"></a><span id="l16.95">    * (Make sure to store a copy in case the underlying object is changed.)</span>
<a href="#l16.96"></a><span id="l16.96">    */</span>
<a href="#l16.97"></a><span id="l16.97">   _acknowledged: null,</span>
<a href="#l16.98"></a><span id="l16.98"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mail/components/accountcreation/content/exchangeAutoDiscover.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mail/components/accountcreation/content/exchangeAutoDiscover.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -1,17 +1,18 @@</span>
<a href="#l17.4"></a><span id="l17.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l17.5"></a><span id="l17.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.6"></a><span id="l17.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.7"></a><span id="l17.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l17.8"></a><span id="l17.8"> </span>
<a href="#l17.9"></a><span id="l17.9" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineplus">+</span>
<a href="#l17.11"></a><span id="l17.11"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-ChromeUtils.import(&quot;resource:///modules/JXON.js&quot;);</span>
<a href="#l17.13"></a><span id="l17.13"> ChromeUtils.defineModuleGetter(this, &quot;AddonManager&quot;, &quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineminus">-/* eslint-disable complexity, no-lonely-if */</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+var { logException } = ChromeUtils.import(&quot;resource:///modules/errUtils.js&quot;, null);</span>
<a href="#l17.16"></a><span id="l17.16"> </span>
<a href="#l17.17"></a><span id="l17.17"> /**</span>
<a href="#l17.18"></a><span id="l17.18">  * Tries to get a configuration from an MS Exchange server</span>
<a href="#l17.19"></a><span id="l17.19">  * using Microsoft AutoDiscover protocol.</span>
<a href="#l17.20"></a><span id="l17.20">  *</span>
<a href="#l17.21"></a><span id="l17.21">  * Disclaimers:</span>
<a href="#l17.22"></a><span id="l17.22">  * - To support domain hosters, we cannot use SSL. That means we</span>
<a href="#l17.23"></a><span id="l17.23">  *   rely on insecure DNS and http, which means the results may be</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineat">@@ -145,16 +146,17 @@ function readAutoDiscoverResponse(autoDi</span>
<a href="#l17.25"></a><span id="l17.25"> </span>
<a href="#l17.26"></a><span id="l17.26">   if (config.isComplete()) {</span>
<a href="#l17.27"></a><span id="l17.27">     successCallback(config);</span>
<a href="#l17.28"></a><span id="l17.28">   } else {</span>
<a href="#l17.29"></a><span id="l17.29">     errorCallback(new Exception(&quot;No valid configs found in AutoDiscover XML&quot;));</span>
<a href="#l17.30"></a><span id="l17.30">   }</span>
<a href="#l17.31"></a><span id="l17.31"> }</span>
<a href="#l17.32"></a><span id="l17.32"> </span>
<a href="#l17.33"></a><span id="l17.33" class="difflineplus">+/* eslint-disable complexity */</span>
<a href="#l17.34"></a><span id="l17.34"> /**</span>
<a href="#l17.35"></a><span id="l17.35">  * @param {JXON} xml - The Exchange server AutoDiscover response</span>
<a href="#l17.36"></a><span id="l17.36">  * @param {string} username - (Optional) The user's login name</span>
<a href="#l17.37"></a><span id="l17.37">  *     If null, email address placeholder will be used.</span>
<a href="#l17.38"></a><span id="l17.38">  * @returns {AccountConfig} - @see accountConfig.js</span>
<a href="#l17.39"></a><span id="l17.39">  *</span>
<a href="#l17.40"></a><span id="l17.40">  * @see &lt;https://www.msxfaq.de/exchange/autodiscover/autodiscover_xml.htm&gt;</span>
<a href="#l17.41"></a><span id="l17.41">  */</span>
<a href="#l17.42"></a><span id="l17.42" class="difflineat">@@ -266,17 +268,17 @@ function readAutoDiscoverXML(autoDiscove</span>
<a href="#l17.43"></a><span id="l17.43"> </span>
<a href="#l17.44"></a><span id="l17.44">         if (type == &quot;SMTP&quot;) {</span>
<a href="#l17.45"></a><span id="l17.45">           if (!config.outgoing.hostname) {</span>
<a href="#l17.46"></a><span id="l17.46">             config.outgoing = server;</span>
<a href="#l17.47"></a><span id="l17.47">           } else {</span>
<a href="#l17.48"></a><span id="l17.48">             config.outgoingAlternatives.push(server);</span>
<a href="#l17.49"></a><span id="l17.49">           }</span>
<a href="#l17.50"></a><span id="l17.50">         } else {</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineminus">-          if (!config.incoming.hostname) {</span>
<a href="#l17.52"></a><span id="l17.52" class="difflineplus">+          if (!config.incoming.hostname) { // eslint-disable-line no-lonely-if</span>
<a href="#l17.53"></a><span id="l17.53">             config.incoming = server;</span>
<a href="#l17.54"></a><span id="l17.54">           } else {</span>
<a href="#l17.55"></a><span id="l17.55">             config.incomingAlternatives.push(server);</span>
<a href="#l17.56"></a><span id="l17.56">           }</span>
<a href="#l17.57"></a><span id="l17.57">         }</span>
<a href="#l17.58"></a><span id="l17.58">       }</span>
<a href="#l17.59"></a><span id="l17.59"> </span>
<a href="#l17.60"></a><span id="l17.60">       // else unknown or unsupported protocol</span>
<a href="#l17.61"></a><span id="l17.61" class="difflineat">@@ -289,16 +291,17 @@ function readAutoDiscoverXML(autoDiscove</span>
<a href="#l17.62"></a><span id="l17.62">     config.oauthSettings = {</span>
<a href="#l17.63"></a><span id="l17.63">       issuer: config.incoming.hostname,</span>
<a href="#l17.64"></a><span id="l17.64">       scope: config.incoming.owaURL || config.incoming.ewsURL,</span>
<a href="#l17.65"></a><span id="l17.65">     };</span>
<a href="#l17.66"></a><span id="l17.66">   }</span>
<a href="#l17.67"></a><span id="l17.67"> </span>
<a href="#l17.68"></a><span id="l17.68">   return config;</span>
<a href="#l17.69"></a><span id="l17.69"> }</span>
<a href="#l17.70"></a><span id="l17.70" class="difflineplus">+/* eslint-enable complexity */</span>
<a href="#l17.71"></a><span id="l17.71"> </span>
<a href="#l17.72"></a><span id="l17.72"> /**</span>
<a href="#l17.73"></a><span id="l17.73">  * Ask server which addons can handle this config.</span>
<a href="#l17.74"></a><span id="l17.74">  * @param {AccountConfig} config</span>
<a href="#l17.75"></a><span id="l17.75">  * @param {Function(config {AccountConfig})} successCallback</span>
<a href="#l17.76"></a><span id="l17.76">  * @returns {Abortable}</span>
<a href="#l17.77"></a><span id="l17.77">  */</span>
<a href="#l17.78"></a><span id="l17.78"> function getAddonsList(config, successCallback, errorCallback) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mail/components/accountcreation/content/fetchConfig.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mail/components/accountcreation/content/fetchConfig.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l18.4"></a><span id="l18.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l18.5"></a><span id="l18.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l18.6"></a><span id="l18.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l18.7"></a><span id="l18.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l18.8"></a><span id="l18.8"> </span>
<a href="#l18.9"></a><span id="l18.9" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l18.10"></a><span id="l18.10" class="difflineplus">+</span>
<a href="#l18.11"></a><span id="l18.11"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l18.12"></a><span id="l18.12"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l18.13"></a><span id="l18.13"> ChromeUtils.import(&quot;resource:///modules/JXON.js&quot;);</span>
<a href="#l18.14"></a><span id="l18.14"> </span>
<a href="#l18.15"></a><span id="l18.15"> /**</span>
<a href="#l18.16"></a><span id="l18.16">  * Tries to find a configuration for this ISP on the local harddisk, in the</span>
<a href="#l18.17"></a><span id="l18.17">  * application install directory's &quot;isp&quot; subdirectory.</span>
<a href="#l18.18"></a><span id="l18.18">  * Params @see fetchConfigFromISP()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mail/components/accountcreation/content/fetchhttp.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mail/components/accountcreation/content/fetchhttp.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -10,17 +10,20 @@</span>
<a href="#l19.4"></a><span id="l19.4">  *</span>
<a href="#l19.5"></a><span id="l19.5">  * It does not provide download progress, but assumes that the</span>
<a href="#l19.6"></a><span id="l19.6">  * fetched resource is so small (&lt;1 10 KB) that the roundtrip and</span>
<a href="#l19.7"></a><span id="l19.7">  * response generation is far more significant than the</span>
<a href="#l19.8"></a><span id="l19.8">  * download time of the response. In other words, it's fine for RPC,</span>
<a href="#l19.9"></a><span id="l19.9">  * but not for bigger file downloads.</span>
<a href="#l19.10"></a><span id="l19.10">  */</span>
<a href="#l19.11"></a><span id="l19.11"> </span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+</span>
<a href="#l19.14"></a><span id="l19.14"> ChromeUtils.import(&quot;resource:///modules/JXON.js&quot;);</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+var { logException } = ChromeUtils.import(&quot;resource:///modules/errUtils.js&quot;, null);</span>
<a href="#l19.16"></a><span id="l19.16"> </span>
<a href="#l19.17"></a><span id="l19.17"> /**</span>
<a href="#l19.18"></a><span id="l19.18">  * Set up a fetch.</span>
<a href="#l19.19"></a><span id="l19.19">  *</span>
<a href="#l19.20"></a><span id="l19.20">  * @param {string} url - URL of the server function.</span>
<a href="#l19.21"></a><span id="l19.21">  *    ATTENTION: The caller needs to make sure that the URL is secure to call.</span>
<a href="#l19.22"></a><span id="l19.22">  * @param {Object} args - Additional parameters as properties, see below</span>
<a href="#l19.23"></a><span id="l19.23">  *</span>
<a href="#l19.24"></a><span id="l19.24" class="difflineat">@@ -99,18 +102,17 @@ function FetchHTTP(url, args, successCal</span>
<a href="#l19.25"></a><span id="l19.25">   this._args.allowCache = &quot;allowCache&quot; in args ? sanitize.boolean(args.allowCache) : true; // default true</span>
<a href="#l19.26"></a><span id="l19.26">   this._args.allowAuthPrompt = sanitize.boolean(args.allowAuthPrompt || false); // default false</span>
<a href="#l19.27"></a><span id="l19.27">   this._args.requireSecureAuth = sanitize.boolean(args.requireSecureAuth || false); // default false</span>
<a href="#l19.28"></a><span id="l19.28">   this._successCallback = successCallback;</span>
<a href="#l19.29"></a><span id="l19.29">   this._errorCallback = errorCallback;</span>
<a href="#l19.30"></a><span id="l19.30">   this._logger = Log4Moz.getConfiguredLogger(&quot;mail.setup&quot;);</span>
<a href="#l19.31"></a><span id="l19.31">   this._logger.info(&quot;Requesting &lt;&quot; + url + &quot;&gt;&quot;);</span>
<a href="#l19.32"></a><span id="l19.32"> }</span>
<a href="#l19.33"></a><span id="l19.33" class="difflineminus">-FetchHTTP.prototype =</span>
<a href="#l19.34"></a><span id="l19.34" class="difflineminus">-{</span>
<a href="#l19.35"></a><span id="l19.35" class="difflineplus">+FetchHTTP.prototype = {</span>
<a href="#l19.36"></a><span id="l19.36">   __proto__: Abortable.prototype,</span>
<a href="#l19.37"></a><span id="l19.37">   _url: null, // URL as passed to ctor, without arguments</span>
<a href="#l19.38"></a><span id="l19.38">   _args: null,</span>
<a href="#l19.39"></a><span id="l19.39">   _successCallback: null,</span>
<a href="#l19.40"></a><span id="l19.40">   _errorCallback: null,</span>
<a href="#l19.41"></a><span id="l19.41">   _request: null, // the XMLHttpRequest object</span>
<a href="#l19.42"></a><span id="l19.42">   result: null,</span>
<a href="#l19.43"></a><span id="l19.43"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mail/components/accountcreation/content/guessConfig.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mail/components/accountcreation/content/guessConfig.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l20.4"></a><span id="l20.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l20.5"></a><span id="l20.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.6"></a><span id="l20.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.7"></a><span id="l20.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.8"></a><span id="l20.8"> </span>
<a href="#l20.9"></a><span id="l20.9" class="difflineminus">-ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l20.10"></a><span id="l20.10" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineplus">+</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+var { Log4Moz } = ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;, null);</span>
<a href="#l20.13"></a><span id="l20.13"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l20.14"></a><span id="l20.14"> </span>
<a href="#l20.15"></a><span id="l20.15"> var TIMEOUT = 10; // in seconds</span>
<a href="#l20.16"></a><span id="l20.16"> </span>
<a href="#l20.17"></a><span id="l20.17"> // This is a bit ugly - we set outgoingDone to false</span>
<a href="#l20.18"></a><span id="l20.18"> // when emailWizard.js cancels the outgoing probe because the user picked</span>
<a href="#l20.19"></a><span id="l20.19"> // an outoing server. It does this by poking the probeAbortable object,</span>
<a href="#l20.20"></a><span id="l20.20"> // so we need outgoingDone to have global scope.</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineat">@@ -279,18 +281,17 @@ var kSuccess = 3;</span>
<a href="#l20.22"></a><span id="l20.22">  * Used as |thisTry|.</span>
<a href="#l20.23"></a><span id="l20.23">  *</span>
<a href="#l20.24"></a><span id="l20.24">  * Note: The consts it uses for protocol and ssl are defined towards the end</span>
<a href="#l20.25"></a><span id="l20.25">  * of this file and not the same as those used in AccountConfig (type,</span>
<a href="#l20.26"></a><span id="l20.26">  * socketType). (fix this)</span>
<a href="#l20.27"></a><span id="l20.27">  */</span>
<a href="#l20.28"></a><span id="l20.28"> function HostTry() {</span>
<a href="#l20.29"></a><span id="l20.29"> }</span>
<a href="#l20.30"></a><span id="l20.30" class="difflineminus">-HostTry.prototype =</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineminus">-{</span>
<a href="#l20.32"></a><span id="l20.32" class="difflineplus">+HostTry.prototype = {</span>
<a href="#l20.33"></a><span id="l20.33">   // IMAP, POP or SMTP</span>
<a href="#l20.34"></a><span id="l20.34">   protocol: UNKNOWN,</span>
<a href="#l20.35"></a><span id="l20.35">   // {String}</span>
<a href="#l20.36"></a><span id="l20.36">   hostname: undefined,</span>
<a href="#l20.37"></a><span id="l20.37">   // {Integer}</span>
<a href="#l20.38"></a><span id="l20.38">   port: undefined,</span>
<a href="#l20.39"></a><span id="l20.39">   // NONE, SSL or TLS</span>
<a href="#l20.40"></a><span id="l20.40">   ssl: UNKNOWN,</span>
<a href="#l20.41"></a><span id="l20.41" class="difflineat">@@ -340,18 +341,17 @@ function HostDetector(progressCallback, </span>
<a href="#l20.42"></a><span id="l20.42">   // {Array of {HostTry}}, ordered by decreasing preference</span>
<a href="#l20.43"></a><span id="l20.43">   this._hostsToTry = [];</span>
<a href="#l20.44"></a><span id="l20.44"> </span>
<a href="#l20.45"></a><span id="l20.45">   // init logging</span>
<a href="#l20.46"></a><span id="l20.46">   this._log = Log4Moz.getConfiguredLogger(&quot;mail.wizard&quot;);</span>
<a href="#l20.47"></a><span id="l20.47">   this._log.info(&quot;created host detector&quot;);</span>
<a href="#l20.48"></a><span id="l20.48"> }</span>
<a href="#l20.49"></a><span id="l20.49"> </span>
<a href="#l20.50"></a><span id="l20.50" class="difflineminus">-HostDetector.prototype =</span>
<a href="#l20.51"></a><span id="l20.51" class="difflineminus">-{</span>
<a href="#l20.52"></a><span id="l20.52" class="difflineplus">+HostDetector.prototype = {</span>
<a href="#l20.53"></a><span id="l20.53">   cancel(ex) {</span>
<a href="#l20.54"></a><span id="l20.54">     this._cancel = true;</span>
<a href="#l20.55"></a><span id="l20.55">     // We have to actively stop the network calls, as they may result in</span>
<a href="#l20.56"></a><span id="l20.56">     // callbacks e.g. to the cert handler. If the dialog is gone by the time</span>
<a href="#l20.57"></a><span id="l20.57">     // this happens, the javascript stack is horked.</span>
<a href="#l20.58"></a><span id="l20.58">     for (let i = 0; i &lt; this._hostsToTry.length; i++) {</span>
<a href="#l20.59"></a><span id="l20.59">       let thisTry = this._hostsToTry[i]; // {HostTry}</span>
<a href="#l20.60"></a><span id="l20.60">       if (thisTry.abortable)</span>
<a href="#l20.61"></a><span id="l20.61" class="difflineat">@@ -611,18 +611,17 @@ function chooseBestAuthMethod(authMethod</span>
<a href="#l20.62"></a><span id="l20.62">     return Ci.nsMsgAuthMethod.passwordCleartext;</span>
<a href="#l20.63"></a><span id="l20.63">   return authMethods.shift(); // take first (= most preferred)</span>
<a href="#l20.64"></a><span id="l20.64"> }</span>
<a href="#l20.65"></a><span id="l20.65"> </span>
<a href="#l20.66"></a><span id="l20.66"> function IncomingHostDetector(</span>
<a href="#l20.67"></a><span id="l20.67">   progressCallback, successCallback, errorCallback) {</span>
<a href="#l20.68"></a><span id="l20.68">   HostDetector.call(this, progressCallback, successCallback, errorCallback);</span>
<a href="#l20.69"></a><span id="l20.69"> }</span>
<a href="#l20.70"></a><span id="l20.70" class="difflineminus">-IncomingHostDetector.prototype =</span>
<a href="#l20.71"></a><span id="l20.71" class="difflineminus">-{</span>
<a href="#l20.72"></a><span id="l20.72" class="difflineplus">+IncomingHostDetector.prototype = {</span>
<a href="#l20.73"></a><span id="l20.73">   __proto__: HostDetector.prototype,</span>
<a href="#l20.74"></a><span id="l20.74">   _hostnamesToTry(protocol, domain) {</span>
<a href="#l20.75"></a><span id="l20.75">     var hostnamesToTry = [];</span>
<a href="#l20.76"></a><span id="l20.76">     if (protocol != POP)</span>
<a href="#l20.77"></a><span id="l20.77">       hostnamesToTry.push(&quot;imap.&quot; + domain);</span>
<a href="#l20.78"></a><span id="l20.78">     if (protocol != IMAP) {</span>
<a href="#l20.79"></a><span id="l20.79">       hostnamesToTry.push(&quot;pop3.&quot; + domain);</span>
<a href="#l20.80"></a><span id="l20.80">       hostnamesToTry.push(&quot;pop.&quot; + domain);</span>
<a href="#l20.81"></a><span id="l20.81" class="difflineat">@@ -633,18 +632,17 @@ IncomingHostDetector.prototype =</span>
<a href="#l20.82"></a><span id="l20.82">   },</span>
<a href="#l20.83"></a><span id="l20.83">   _portsToTry: getIncomingTryOrder,</span>
<a href="#l20.84"></a><span id="l20.84"> };</span>
<a href="#l20.85"></a><span id="l20.85"> </span>
<a href="#l20.86"></a><span id="l20.86"> function OutgoingHostDetector(</span>
<a href="#l20.87"></a><span id="l20.87">   progressCallback, successCallback, errorCallback) {</span>
<a href="#l20.88"></a><span id="l20.88">   HostDetector.call(this, progressCallback, successCallback, errorCallback);</span>
<a href="#l20.89"></a><span id="l20.89"> }</span>
<a href="#l20.90"></a><span id="l20.90" class="difflineminus">-OutgoingHostDetector.prototype =</span>
<a href="#l20.91"></a><span id="l20.91" class="difflineminus">-{</span>
<a href="#l20.92"></a><span id="l20.92" class="difflineplus">+OutgoingHostDetector.prototype = {</span>
<a href="#l20.93"></a><span id="l20.93">   __proto__: HostDetector.prototype,</span>
<a href="#l20.94"></a><span id="l20.94">   _hostnamesToTry(protocol, domain) {</span>
<a href="#l20.95"></a><span id="l20.95">     var hostnamesToTry = [];</span>
<a href="#l20.96"></a><span id="l20.96">     hostnamesToTry.push(&quot;smtp.&quot; + domain);</span>
<a href="#l20.97"></a><span id="l20.97">     hostnamesToTry.push(&quot;mail.&quot; + domain);</span>
<a href="#l20.98"></a><span id="l20.98">     hostnamesToTry.push(domain);</span>
<a href="#l20.99"></a><span id="l20.99">     return hostnamesToTry;</span>
<a href="#l20.100"></a><span id="l20.100">   },</span>
<a href="#l20.101"></a><span id="l20.101" class="difflineat">@@ -848,18 +846,17 @@ function protocolToString(type) {</span>
<a href="#l20.102"></a><span id="l20.102">  */</span>
<a href="#l20.103"></a><span id="l20.103"> function SSLErrorHandler(thisTry, logger) {</span>
<a href="#l20.104"></a><span id="l20.104">   this._try = thisTry;</span>
<a href="#l20.105"></a><span id="l20.105">   this._log = logger;</span>
<a href="#l20.106"></a><span id="l20.106">   // _ gotCertError will be set to an error code (one of those defined in</span>
<a href="#l20.107"></a><span id="l20.107">   // nsICertOverrideService)</span>
<a href="#l20.108"></a><span id="l20.108">   this._gotCertError = 0;</span>
<a href="#l20.109"></a><span id="l20.109"> }</span>
<a href="#l20.110"></a><span id="l20.110" class="difflineminus">-SSLErrorHandler.prototype =</span>
<a href="#l20.111"></a><span id="l20.111" class="difflineminus">-{</span>
<a href="#l20.112"></a><span id="l20.112" class="difflineplus">+SSLErrorHandler.prototype = {</span>
<a href="#l20.113"></a><span id="l20.113">   processCertError(socketInfo, secInfo, targetSite) {</span>
<a href="#l20.114"></a><span id="l20.114">     this._log.error(&quot;Got Cert error for &quot; + targetSite);</span>
<a href="#l20.115"></a><span id="l20.115"> </span>
<a href="#l20.116"></a><span id="l20.116">     if (!status)</span>
<a href="#l20.117"></a><span id="l20.117">       return true;</span>
<a href="#l20.118"></a><span id="l20.118"> </span>
<a href="#l20.119"></a><span id="l20.119">     let cert = secInfo.serverCert;</span>
<a href="#l20.120"></a><span id="l20.120">     let flags = 0;</span>
<a href="#l20.121"></a><span id="l20.121" class="difflineat">@@ -997,18 +994,17 @@ function SocketUtil(hostname, port, ssl,</span>
<a href="#l20.122"></a><span id="l20.122">     _error(e);</span>
<a href="#l20.123"></a><span id="l20.123">   }</span>
<a href="#l20.124"></a><span id="l20.124">   var outstream = transport.openOutputStream(0, 0, 0);</span>
<a href="#l20.125"></a><span id="l20.125">   var stream = transport.openInputStream(0, 0, 0);</span>
<a href="#l20.126"></a><span id="l20.126">   var instream = Cc[&quot;@mozilla.org/scriptableinputstream;1&quot;]</span>
<a href="#l20.127"></a><span id="l20.127">       .createInstance(Ci.nsIScriptableInputStream);</span>
<a href="#l20.128"></a><span id="l20.128">   instream.init(stream);</span>
<a href="#l20.129"></a><span id="l20.129"> </span>
<a href="#l20.130"></a><span id="l20.130" class="difflineminus">-  var dataListener =</span>
<a href="#l20.131"></a><span id="l20.131" class="difflineminus">-  {</span>
<a href="#l20.132"></a><span id="l20.132" class="difflineplus">+  var dataListener = {</span>
<a href="#l20.133"></a><span id="l20.133">     data: [],</span>
<a href="#l20.134"></a><span id="l20.134">     onStartRequest(request, context) {</span>
<a href="#l20.135"></a><span id="l20.135">       try {</span>
<a href="#l20.136"></a><span id="l20.136">         initialized = true;</span>
<a href="#l20.137"></a><span id="l20.137">         if (!aborted) {</span>
<a href="#l20.138"></a><span id="l20.138">           // Send the first request</span>
<a href="#l20.139"></a><span id="l20.139">           let outputData = commands[index++];</span>
<a href="#l20.140"></a><span id="l20.140">           outstream.write(outputData, outputData.length);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mail/components/accountcreation/content/readFromXML.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mail/components/accountcreation/content/readFromXML.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -1,16 +1,18 @@</span>
<a href="#l21.4"></a><span id="l21.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l21.5"></a><span id="l21.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l21.6"></a><span id="l21.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l21.7"></a><span id="l21.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l21.8"></a><span id="l21.8"> </span>
<a href="#l21.9"></a><span id="l21.9" class="difflineminus">-ChromeUtils.import(&quot;resource:///modules/hostnameUtils.jsm&quot;);</span>
<a href="#l21.10"></a><span id="l21.10" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l21.11"></a><span id="l21.11" class="difflineplus">+</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineplus">+var { logException } = ChromeUtils.import(&quot;resource:///modules/errUtils.js&quot;, null);</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+</span>
<a href="#l21.14"></a><span id="l21.14"> /* eslint-disable complexity */</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineminus">-</span>
<a href="#l21.16"></a><span id="l21.16"> /**</span>
<a href="#l21.17"></a><span id="l21.17">  * Takes an XML snipplet (as JXON) and reads the values into</span>
<a href="#l21.18"></a><span id="l21.18">  * a new AccountConfig object.</span>
<a href="#l21.19"></a><span id="l21.19">  * It does so securely (or tries to), by trying to avoid remote execution</span>
<a href="#l21.20"></a><span id="l21.20">  * and similar holes which can appear when reading too naively.</span>
<a href="#l21.21"></a><span id="l21.21">  * Of course it cannot tell whether the actual values are correct,</span>
<a href="#l21.22"></a><span id="l21.22">  * e.g. it can't tell whether the host name is a good server.</span>
<a href="#l21.23"></a><span id="l21.23">  *</span>
<a href="#l21.24"></a><span id="l21.24" class="difflineat">@@ -207,18 +209,17 @@ function readFromXML(clientConfigXML) {</span>
<a href="#l21.25"></a><span id="l21.25">   if (!d.outgoing.hostname)</span>
<a href="#l21.26"></a><span id="l21.26">     // throw exception for last server</span>
<a href="#l21.27"></a><span id="l21.27">     throw exception ? exception : &quot;Need proper &lt;outgoingServer&gt; in XML file&quot;;</span>
<a href="#l21.28"></a><span id="l21.28">   exception = null;</span>
<a href="#l21.29"></a><span id="l21.29"> </span>
<a href="#l21.30"></a><span id="l21.30">   d.inputFields = [];</span>
<a href="#l21.31"></a><span id="l21.31">   for (let inputField of array_or_undef(xml.$inputField)) {</span>
<a href="#l21.32"></a><span id="l21.32">     try {</span>
<a href="#l21.33"></a><span id="l21.33" class="difflineminus">-      var fieldset =</span>
<a href="#l21.34"></a><span id="l21.34" class="difflineminus">-      {</span>
<a href="#l21.35"></a><span id="l21.35" class="difflineplus">+      let fieldset = {</span>
<a href="#l21.36"></a><span id="l21.36">         varname: sanitize.alphanumdash(inputField[&quot;@key&quot;]).toUpperCase(),</span>
<a href="#l21.37"></a><span id="l21.37">         displayName: sanitize.label(inputField[&quot;@label&quot;]),</span>
<a href="#l21.38"></a><span id="l21.38">         exampleValue: sanitize.label(inputField.value),</span>
<a href="#l21.39"></a><span id="l21.39">       };</span>
<a href="#l21.40"></a><span id="l21.40">       d.inputFields.push(fieldset);</span>
<a href="#l21.41"></a><span id="l21.41">     } catch (e) { logException(e); } // for now, don't throw,</span>
<a href="#l21.42"></a><span id="l21.42">         // because we don't support custom fields yet anyways.</span>
<a href="#l21.43"></a><span id="l21.43">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mail/components/accountcreation/content/sanitizeDatatypes.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mail/components/accountcreation/content/sanitizeDatatypes.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -1,30 +1,31 @@</span>
<a href="#l22.4"></a><span id="l22.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l22.5"></a><span id="l22.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l22.6"></a><span id="l22.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l22.7"></a><span id="l22.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l22.8"></a><span id="l22.8"> </span>
<a href="#l22.9"></a><span id="l22.9" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l22.10"></a><span id="l22.10" class="difflineplus">+/* globals cleanUpHostName, isLegalHostNameOrIP */</span>
<a href="#l22.11"></a><span id="l22.11" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/hostnameUtils.jsm&quot;);</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineplus">+</span>
<a href="#l22.13"></a><span id="l22.13"> /**</span>
<a href="#l22.14"></a><span id="l22.14">  * This is a generic input validation lib. Use it when you process</span>
<a href="#l22.15"></a><span id="l22.15">  * data from the network.</span>
<a href="#l22.16"></a><span id="l22.16">  *</span>
<a href="#l22.17"></a><span id="l22.17">  * Just a few functions which verify, for security purposes, that the</span>
<a href="#l22.18"></a><span id="l22.18">  * input variables (strings, if nothing else is noted) are of the expected</span>
<a href="#l22.19"></a><span id="l22.19">  * type and syntax.</span>
<a href="#l22.20"></a><span id="l22.20">  *</span>
<a href="#l22.21"></a><span id="l22.21">  * The functions take a string (unless noted otherwise) and return</span>
<a href="#l22.22"></a><span id="l22.22">  * the expected datatype in JS types. If the value is not as expected,</span>
<a href="#l22.23"></a><span id="l22.23">  * they throw exceptions.</span>
<a href="#l22.24"></a><span id="l22.24">  */</span>
<a href="#l22.25"></a><span id="l22.25"> </span>
<a href="#l22.26"></a><span id="l22.26" class="difflineminus">-ChromeUtils.import(&quot;resource:///modules/hostnameUtils.jsm&quot;);</span>
<a href="#l22.27"></a><span id="l22.27" class="difflineminus">-</span>
<a href="#l22.28"></a><span id="l22.28" class="difflineminus">-var sanitize =</span>
<a href="#l22.29"></a><span id="l22.29" class="difflineminus">-{</span>
<a href="#l22.30"></a><span id="l22.30" class="difflineplus">+var sanitize = {</span>
<a href="#l22.31"></a><span id="l22.31">   integer(unchecked) {</span>
<a href="#l22.32"></a><span id="l22.32">     if (typeof(unchecked) == &quot;number&quot; &amp;&amp; !isNaN(unchecked))</span>
<a href="#l22.33"></a><span id="l22.33">       return unchecked;</span>
<a href="#l22.34"></a><span id="l22.34"> </span>
<a href="#l22.35"></a><span id="l22.35">     var r = parseInt(unchecked);</span>
<a href="#l22.36"></a><span id="l22.36">     if (isNaN(r))</span>
<a href="#l22.37"></a><span id="l22.37">       throw new MalformedException(&quot;no_number.error&quot;, unchecked);</span>
<a href="#l22.38"></a><span id="l22.38"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mail/components/accountcreation/content/util.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mail/components/accountcreation/content/util.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -1,22 +1,22 @@</span>
<a href="#l23.4"></a><span id="l23.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l23.5"></a><span id="l23.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.6"></a><span id="l23.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.7"></a><span id="l23.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l23.8"></a><span id="l23.8"> /**</span>
<a href="#l23.9"></a><span id="l23.9">  * Some common, generic functions</span>
<a href="#l23.10"></a><span id="l23.10">  */</span>
<a href="#l23.11"></a><span id="l23.11"> </span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-ChromeUtils.import(&quot;resource:///modules/errUtils.js&quot;);</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineplus">+</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineplus">+var { logException } = ChromeUtils.import(&quot;resource:///modules/errUtils.js&quot;, null);</span>
<a href="#l23.16"></a><span id="l23.16"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineminus">-/* eslint-disable spaced-comment */</span>
<a href="#l23.18"></a><span id="l23.18"> </span>
<a href="#l23.19"></a><span id="l23.19" class="difflineminus">-</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineminus">-/////////////////////////////////////////</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineplus">+// --------------------------</span>
<a href="#l23.22"></a><span id="l23.22"> // Low level, basic functions</span>
<a href="#l23.23"></a><span id="l23.23"> </span>
<a href="#l23.24"></a><span id="l23.24"> function assert(test, errorMsg) {</span>
<a href="#l23.25"></a><span id="l23.25">   if (!test)</span>
<a href="#l23.26"></a><span id="l23.26">     throw new NotReached(errorMsg ? errorMsg :</span>
<a href="#l23.27"></a><span id="l23.27">           &quot;Programming bug. Assertion failed, see log.&quot;);</span>
<a href="#l23.28"></a><span id="l23.28"> }</span>
<a href="#l23.29"></a><span id="l23.29"> </span>
<a href="#l23.30"></a><span id="l23.30" class="difflineat">@@ -108,55 +108,51 @@ function getStringBundle(bundleURI) {</span>
<a href="#l23.31"></a><span id="l23.31">   try {</span>
<a href="#l23.32"></a><span id="l23.32">     return Services.strings.createBundle(bundleURI);</span>
<a href="#l23.33"></a><span id="l23.33">   } catch (e) {</span>
<a href="#l23.34"></a><span id="l23.34">     throw new Exception(&quot;Failed to get stringbundle URI &lt;&quot; + bundleURI +</span>
<a href="#l23.35"></a><span id="l23.35">                         &quot;&gt;. Error: &quot; + e);</span>
<a href="#l23.36"></a><span id="l23.36">   }</span>
<a href="#l23.37"></a><span id="l23.37"> }</span>
<a href="#l23.38"></a><span id="l23.38"> </span>
<a href="#l23.39"></a><span id="l23.39" class="difflineminus">-</span>
<a href="#l23.40"></a><span id="l23.40" class="difflineminus">-/////////////////////////////////////////</span>
<a href="#l23.41"></a><span id="l23.41" class="difflineplus">+// ---------</span>
<a href="#l23.42"></a><span id="l23.42"> // Exception</span>
<a href="#l23.43"></a><span id="l23.43"> </span>
<a href="#l23.44"></a><span id="l23.44"> function Exception(msg) {</span>
<a href="#l23.45"></a><span id="l23.45">   this._message = msg;</span>
<a href="#l23.46"></a><span id="l23.46">   this.stack = Components.stack.formattedStack;</span>
<a href="#l23.47"></a><span id="l23.47"> }</span>
<a href="#l23.48"></a><span id="l23.48" class="difflineminus">-Exception.prototype =</span>
<a href="#l23.49"></a><span id="l23.49" class="difflineminus">-{</span>
<a href="#l23.50"></a><span id="l23.50" class="difflineplus">+Exception.prototype = {</span>
<a href="#l23.51"></a><span id="l23.51">   get message() {</span>
<a href="#l23.52"></a><span id="l23.52">     return this._message;</span>
<a href="#l23.53"></a><span id="l23.53">   },</span>
<a href="#l23.54"></a><span id="l23.54">   toString() {</span>
<a href="#l23.55"></a><span id="l23.55">     return this._message;</span>
<a href="#l23.56"></a><span id="l23.56">   },</span>
<a href="#l23.57"></a><span id="l23.57"> };</span>
<a href="#l23.58"></a><span id="l23.58"> </span>
<a href="#l23.59"></a><span id="l23.59"> function NotReached(msg) {</span>
<a href="#l23.60"></a><span id="l23.60">   Exception.call(this, msg); // call super constructor</span>
<a href="#l23.61"></a><span id="l23.61">   logException(this);</span>
<a href="#l23.62"></a><span id="l23.62"> }</span>
<a href="#l23.63"></a><span id="l23.63"> // Make NotReached extend Exception.</span>
<a href="#l23.64"></a><span id="l23.64"> NotReached.prototype = Object.create(Exception.prototype);</span>
<a href="#l23.65"></a><span id="l23.65"> NotReached.prototype.constructor = NotReached;</span>
<a href="#l23.66"></a><span id="l23.66"> </span>
<a href="#l23.67"></a><span id="l23.67" class="difflineminus">-</span>
<a href="#l23.68"></a><span id="l23.68" class="difflineminus">-/////////////////////////////////////////</span>
<a href="#l23.69"></a><span id="l23.69" class="difflineplus">+// ---------</span>
<a href="#l23.70"></a><span id="l23.70"> // Abortable</span>
<a href="#l23.71"></a><span id="l23.71"> </span>
<a href="#l23.72"></a><span id="l23.72"> /**</span>
<a href="#l23.73"></a><span id="l23.73">  * A handle for an async function which you can cancel.</span>
<a href="#l23.74"></a><span id="l23.74">  * The async function will return an object of this type (a subtype)</span>
<a href="#l23.75"></a><span id="l23.75">  * and you can call cancel() when you feel like killing the function.</span>
<a href="#l23.76"></a><span id="l23.76">  */</span>
<a href="#l23.77"></a><span id="l23.77"> function Abortable() {</span>
<a href="#l23.78"></a><span id="l23.78"> }</span>
<a href="#l23.79"></a><span id="l23.79" class="difflineminus">-Abortable.prototype =</span>
<a href="#l23.80"></a><span id="l23.80" class="difflineminus">-{</span>
<a href="#l23.81"></a><span id="l23.81" class="difflineplus">+Abortable.prototype = {</span>
<a href="#l23.82"></a><span id="l23.82">   cancel(e) {</span>
<a href="#l23.83"></a><span id="l23.83">   },</span>
<a href="#l23.84"></a><span id="l23.84"> };</span>
<a href="#l23.85"></a><span id="l23.85"> </span>
<a href="#l23.86"></a><span id="l23.86"> function CancelledException(msg) {</span>
<a href="#l23.87"></a><span id="l23.87">   Exception.call(this, msg);</span>
<a href="#l23.88"></a><span id="l23.88"> }</span>
<a href="#l23.89"></a><span id="l23.89"> CancelledException.prototype = Object.create(Exception.prototype);</span>
<a href="#l23.90"></a><span id="l23.90" class="difflineat">@@ -429,18 +425,17 @@ PriorityOrderAbortable.prototype = Objec</span>
<a href="#l23.91"></a><span id="l23.91"> PriorityOrderAbortable.prototype.constructor = PriorityOrderAbortable;</span>
<a href="#l23.92"></a><span id="l23.92"> </span>
<a href="#l23.93"></a><span id="l23.93"> function NoLongerNeededException(msg) {</span>
<a href="#l23.94"></a><span id="l23.94">   CancelledException.call(this, msg);</span>
<a href="#l23.95"></a><span id="l23.95"> }</span>
<a href="#l23.96"></a><span id="l23.96"> NoLongerNeededException.prototype = Object.create(CancelledException.prototype);</span>
<a href="#l23.97"></a><span id="l23.97"> NoLongerNeededException.prototype.constructor = NoLongerNeededException;</span>
<a href="#l23.98"></a><span id="l23.98"> </span>
<a href="#l23.99"></a><span id="l23.99" class="difflineminus">-</span>
<a href="#l23.100"></a><span id="l23.100" class="difflineminus">-/////////////////////////////////////////</span>
<a href="#l23.101"></a><span id="l23.101" class="difflineplus">+// -------------------</span>
<a href="#l23.102"></a><span id="l23.102"> // High level features</span>
<a href="#l23.103"></a><span id="l23.103"> </span>
<a href="#l23.104"></a><span id="l23.104"> /**</span>
<a href="#l23.105"></a><span id="l23.105">  * Allows you to install an addon.</span>
<a href="#l23.106"></a><span id="l23.106">  *</span>
<a href="#l23.107"></a><span id="l23.107">  * Example:</span>
<a href="#l23.108"></a><span id="l23.108">  * var installer = new AddonInstaller({ xpiURL : &quot;https://...xpi&quot;, id: &quot;...&quot;, ...});</span>
<a href="#l23.109"></a><span id="l23.109">  * installer.install();</span>
<a href="#l23.110"></a><span id="l23.110" class="difflineat">@@ -546,17 +541,17 @@ AddonInstaller.prototype.cancel = functi</span>
<a href="#l23.111"></a><span id="l23.111">     try {</span>
<a href="#l23.112"></a><span id="l23.112">       this._installer.cancel();</span>
<a href="#l23.113"></a><span id="l23.113">     } catch (e) { // if install failed</span>
<a href="#l23.114"></a><span id="l23.114">       ddump(e);</span>
<a href="#l23.115"></a><span id="l23.115">     }</span>
<a href="#l23.116"></a><span id="l23.116">   }</span>
<a href="#l23.117"></a><span id="l23.117"> };</span>
<a href="#l23.118"></a><span id="l23.118"> </span>
<a href="#l23.119"></a><span id="l23.119" class="difflineminus">-/////////////////////////////////////////</span>
<a href="#l23.120"></a><span id="l23.120" class="difflineplus">+// ------------</span>
<a href="#l23.121"></a><span id="l23.121"> // Debug output</span>
<a href="#l23.122"></a><span id="l23.122"> </span>
<a href="#l23.123"></a><span id="l23.123"> function deepCopy(org) {</span>
<a href="#l23.124"></a><span id="l23.124">   if (typeof(org) == &quot;undefined&quot;)</span>
<a href="#l23.125"></a><span id="l23.125">     return undefined;</span>
<a href="#l23.126"></a><span id="l23.126">   if (org == null)</span>
<a href="#l23.127"></a><span id="l23.127">     return null;</span>
<a href="#l23.128"></a><span id="l23.128">   if (typeof(org) == &quot;string&quot;)</span>
<a href="#l23.129"></a><span id="l23.129" class="difflineat">@@ -580,17 +575,16 @@ function deepCopy(org) {</span>
<a href="#l23.130"></a><span id="l23.130">   return result;</span>
<a href="#l23.131"></a><span id="l23.131"> }</span>
<a href="#l23.132"></a><span id="l23.132"> </span>
<a href="#l23.133"></a><span id="l23.133"> if (typeof gEmailWizardLogger == &quot;undefined&quot;) {</span>
<a href="#l23.134"></a><span id="l23.134">   ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l23.135"></a><span id="l23.135">   var gEmailWizardLogger = Log4Moz.getConfiguredLogger(&quot;mail.setup&quot;);</span>
<a href="#l23.136"></a><span id="l23.136">   gEmailWizardLogger.level = Log4Moz.Level.Info;</span>
<a href="#l23.137"></a><span id="l23.137">   gEmailWizardLogger.addAppender(new Log4Moz.ConsoleAppender(new Log4Moz.BasicFormatter())); // browser console</span>
<a href="#l23.138"></a><span id="l23.138" class="difflineminus">-  //gEmailWizardLogger.addAppender(new Log4Moz.DumpAppender(new Log4Moz.BasicFormatter())); // stdout</span>
<a href="#l23.139"></a><span id="l23.139"> }</span>
<a href="#l23.140"></a><span id="l23.140"> </span>
<a href="#l23.141"></a><span id="l23.141"> function ddump(text) {</span>
<a href="#l23.142"></a><span id="l23.142">   gEmailWizardLogger.info(text);</span>
<a href="#l23.143"></a><span id="l23.143"> }</span>
<a href="#l23.144"></a><span id="l23.144"> </span>
<a href="#l23.145"></a><span id="l23.145"> function debugObject(obj, name, maxDepth, curDepth) {</span>
<a href="#l23.146"></a><span id="l23.146">   if (curDepth == undefined)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mail/components/accountcreation/content/verifyConfig.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mail/components/accountcreation/content/verifyConfig.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -1,15 +1,18 @@</span>
<a href="#l24.4"></a><span id="l24.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l24.5"></a><span id="l24.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l24.6"></a><span id="l24.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l24.7"></a><span id="l24.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l24.8"></a><span id="l24.8"> </span>
<a href="#l24.9"></a><span id="l24.9" class="difflineplus">+/* import-globals-from emailWizard.js */</span>
<a href="#l24.10"></a><span id="l24.10" class="difflineplus">+</span>
<a href="#l24.11"></a><span id="l24.11"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l24.12"></a><span id="l24.12"> ChromeUtils.import(&quot;resource:///modules/OAuth2Providers.jsm&quot;);</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+var { logException } = ChromeUtils.import(&quot;resource:///modules/errUtils.js&quot;, null);</span>
<a href="#l24.14"></a><span id="l24.14"> </span>
<a href="#l24.15"></a><span id="l24.15"> if (typeof gEmailWizardLogger == &quot;undefined&quot;) {</span>
<a href="#l24.16"></a><span id="l24.16">   ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l24.17"></a><span id="l24.17">   var gEmailWizardLogger = Log4Moz.getConfiguredLogger(&quot;mail.wizard&quot;);</span>
<a href="#l24.18"></a><span id="l24.18"> }</span>
<a href="#l24.19"></a><span id="l24.19"> </span>
<a href="#l24.20"></a><span id="l24.20"> /**</span>
<a href="#l24.21"></a><span id="l24.21">  * This checks a given config, by trying a real connection and login,</span>
<a href="#l24.22"></a><span id="l24.22" class="difflineat">@@ -154,18 +157,17 @@ function urlListener(config, server, alt</span>
<a href="#l24.23"></a><span id="l24.23">   this.mServer = server;</span>
<a href="#l24.24"></a><span id="l24.24">   this.mAlter = alter;</span>
<a href="#l24.25"></a><span id="l24.25">   this.mSuccessCallback = successCallback;</span>
<a href="#l24.26"></a><span id="l24.26">   this.mErrorCallback = errorCallback;</span>
<a href="#l24.27"></a><span id="l24.27">   this.mMsgWindow = msgWindow;</span>
<a href="#l24.28"></a><span id="l24.28">   this.mCertError = false;</span>
<a href="#l24.29"></a><span id="l24.29">   this._log = Log4Moz.getConfiguredLogger(&quot;mail.wizard&quot;);</span>
<a href="#l24.30"></a><span id="l24.30"> }</span>
<a href="#l24.31"></a><span id="l24.31" class="difflineminus">-urlListener.prototype =</span>
<a href="#l24.32"></a><span id="l24.32" class="difflineminus">-{</span>
<a href="#l24.33"></a><span id="l24.33" class="difflineplus">+urlListener.prototype = {</span>
<a href="#l24.34"></a><span id="l24.34">   OnStartRunningUrl(aUrl) {</span>
<a href="#l24.35"></a><span id="l24.35">     this._log.info(&quot;Starting to test username&quot;);</span>
<a href="#l24.36"></a><span id="l24.36">     this._log.info(&quot;  username=&quot; + (this.mConfig.incoming.username !=</span>
<a href="#l24.37"></a><span id="l24.37">                           this.mConfig.identity.emailAddress) +</span>
<a href="#l24.38"></a><span id="l24.38">                           &quot;, have savedUsername=&quot; +</span>
<a href="#l24.39"></a><span id="l24.39">                           (this.mConfig.usernameSaved ? &quot;true&quot; : &quot;false&quot;));</span>
<a href="#l24.40"></a><span id="l24.40">     this._log.info(&quot;  authMethod=&quot; + this.mServer.authMethod);</span>
<a href="#l24.41"></a><span id="l24.41">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mail/components/activity/modules/autosync.jsm</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mail/components/activity/modules/autosync.jsm</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -19,19 +19,17 @@ var nsIAutoSyncMgrListener = Ci.nsIAutoS</span>
<a href="#l25.4"></a><span id="l25.4">  * This code aims to mediate between the auto-sync code and the activity mgr.</span>
<a href="#l25.5"></a><span id="l25.5">  *</span>
<a href="#l25.6"></a><span id="l25.6">  * Not every auto-sync activity is directly  mapped to a process or event.</span>
<a href="#l25.7"></a><span id="l25.7">  * To prevent a possible event overflow, Auto-Sync monitor generates one</span>
<a href="#l25.8"></a><span id="l25.8">  * sync'd event per account when after all its _pending_ folders are sync'd,</span>
<a href="#l25.9"></a><span id="l25.9">  * rather than generating one event per folder sync.</span>
<a href="#l25.10"></a><span id="l25.10">  */</span>
<a href="#l25.11"></a><span id="l25.11"> </span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-var autosyncModule =</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineminus">-{</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineminus">-</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineplus">+var autosyncModule = {</span>
<a href="#l25.16"></a><span id="l25.16">   _inQFolderList: [],</span>
<a href="#l25.17"></a><span id="l25.17">   _running: false,</span>
<a href="#l25.18"></a><span id="l25.18">   _syncInfoPerFolder: new Map(),</span>
<a href="#l25.19"></a><span id="l25.19">   _syncInfoPerServer: new Map(),</span>
<a href="#l25.20"></a><span id="l25.20">   _lastMessage: new Map(),</span>
<a href="#l25.21"></a><span id="l25.21"> </span>
<a href="#l25.22"></a><span id="l25.22">   get log() {</span>
<a href="#l25.23"></a><span id="l25.23">     delete this.log;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mail/components/activity/modules/glodaIndexer.jsm</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mail/components/activity/modules/glodaIndexer.jsm</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -14,18 +14,17 @@ ChromeUtils.import(&quot;resource://gre/modul</span>
<a href="#l26.4"></a><span id="l26.4"> ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l26.5"></a><span id="l26.5"> const { Log4Moz } = ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;, null);</span>
<a href="#l26.6"></a><span id="l26.6"> const { Gloda } = ChromeUtils.import(&quot;resource:///modules/gloda/public.js&quot;, null);</span>
<a href="#l26.7"></a><span id="l26.7"> const { GlodaIndexer } = ChromeUtils.import(&quot;resource:///modules/gloda/indexer.js&quot;, null);</span>
<a href="#l26.8"></a><span id="l26.8"> </span>
<a href="#l26.9"></a><span id="l26.9"> /**</span>
<a href="#l26.10"></a><span id="l26.10">  * Gloda message indexer feedback.</span>
<a href="#l26.11"></a><span id="l26.11">  */</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-var glodaIndexerActivity =</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineminus">-{</span>
<a href="#l26.14"></a><span id="l26.14" class="difflineplus">+var glodaIndexerActivity = {</span>
<a href="#l26.15"></a><span id="l26.15">   get log() {</span>
<a href="#l26.16"></a><span id="l26.16">     delete this.log;</span>
<a href="#l26.17"></a><span id="l26.17">     return this.log = Log4Moz.getConfiguredLogger(&quot;glodaIndexerActivity&quot;);</span>
<a href="#l26.18"></a><span id="l26.18">   },</span>
<a href="#l26.19"></a><span id="l26.19"> </span>
<a href="#l26.20"></a><span id="l26.20">   get activityMgr() {</span>
<a href="#l26.21"></a><span id="l26.21">     delete this.activityMgr;</span>
<a href="#l26.22"></a><span id="l26.22">     return this.activityMgr = Cc[&quot;@mozilla.org/activity-manager;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mail/components/activity/modules/moveCopy.jsm</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mail/components/activity/modules/moveCopy.jsm</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -10,18 +10,17 @@ var nsActEvent = Components.Constructor(</span>
<a href="#l27.4"></a><span id="l27.4"> </span>
<a href="#l27.5"></a><span id="l27.5"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l27.6"></a><span id="l27.6"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l27.7"></a><span id="l27.7"> ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l27.8"></a><span id="l27.8"> const { Log4Moz } = ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;, null);</span>
<a href="#l27.9"></a><span id="l27.9"> </span>
<a href="#l27.10"></a><span id="l27.10"> // This module provides a link between the move/copy code and the activity</span>
<a href="#l27.11"></a><span id="l27.11"> // manager.</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-var moveCopyModule =</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineminus">-{</span>
<a href="#l27.14"></a><span id="l27.14" class="difflineplus">+var moveCopyModule = {</span>
<a href="#l27.15"></a><span id="l27.15">   lastMessage: {},</span>
<a href="#l27.16"></a><span id="l27.16">   lastFolder: {},</span>
<a href="#l27.17"></a><span id="l27.17"> </span>
<a href="#l27.18"></a><span id="l27.18">   get log() {</span>
<a href="#l27.19"></a><span id="l27.19">     delete this.log;</span>
<a href="#l27.20"></a><span id="l27.20">     return this.log = Log4Moz.getConfiguredLogger(&quot;moveCopyModule&quot;);</span>
<a href="#l27.21"></a><span id="l27.21">   },</span>
<a href="#l27.22"></a><span id="l27.22"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mail/components/activity/modules/pop3Download.jsm</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mail/components/activity/modules/pop3Download.jsm</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -10,18 +10,17 @@ var nsActEvent = Components.Constructor(</span>
<a href="#l28.4"></a><span id="l28.4"> </span>
<a href="#l28.5"></a><span id="l28.5"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l28.6"></a><span id="l28.6"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l28.7"></a><span id="l28.7"> ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l28.8"></a><span id="l28.8"> const { Log4Moz } = ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;, null);</span>
<a href="#l28.9"></a><span id="l28.9"> </span>
<a href="#l28.10"></a><span id="l28.10"> // This module provides a link between the pop3 service code and the activity</span>
<a href="#l28.11"></a><span id="l28.11"> // manager.</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-var pop3DownloadModule =</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineminus">-{</span>
<a href="#l28.14"></a><span id="l28.14" class="difflineplus">+var pop3DownloadModule = {</span>
<a href="#l28.15"></a><span id="l28.15">   // hash table of most recent download items per folder</span>
<a href="#l28.16"></a><span id="l28.16">   _mostRecentActivityForFolder: new Map(),</span>
<a href="#l28.17"></a><span id="l28.17">   // hash table of prev download items per folder, so we can</span>
<a href="#l28.18"></a><span id="l28.18">   // coalesce consecutive no new message events.</span>
<a href="#l28.19"></a><span id="l28.19">   _prevActivityForFolder: new Map(),</span>
<a href="#l28.20"></a><span id="l28.20"> </span>
<a href="#l28.21"></a><span id="l28.21">   get log() {</span>
<a href="#l28.22"></a><span id="l28.22">     delete this.log;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mail/components/activity/modules/sendLater.jsm</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mail/components/activity/modules/sendLater.jsm</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -38,18 +38,17 @@ var sendMsgProgressListener = {</span>
<a href="#l29.4"></a><span id="l29.4"> </span>
<a href="#l29.5"></a><span id="l29.5">   showProgress(aPercentage) {</span>
<a href="#l29.6"></a><span id="l29.6">     sendLaterModule.onMessageSendProgress(0, 0, aPercentage, 0);</span>
<a href="#l29.7"></a><span id="l29.7">   },</span>
<a href="#l29.8"></a><span id="l29.8"> };</span>
<a href="#l29.9"></a><span id="l29.9"> </span>
<a href="#l29.10"></a><span id="l29.10"> // This module provides a link between the send later service and the activity</span>
<a href="#l29.11"></a><span id="l29.11"> // manager.</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-var sendLaterModule =</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineminus">-{</span>
<a href="#l29.14"></a><span id="l29.14" class="difflineplus">+var sendLaterModule = {</span>
<a href="#l29.15"></a><span id="l29.15">   _sendProcess: null,</span>
<a href="#l29.16"></a><span id="l29.16">   _copyProcess: null,</span>
<a href="#l29.17"></a><span id="l29.17">   _identity: null,</span>
<a href="#l29.18"></a><span id="l29.18">   _subject: null,</span>
<a href="#l29.19"></a><span id="l29.19"> </span>
<a href="#l29.20"></a><span id="l29.20">   get log() {</span>
<a href="#l29.21"></a><span id="l29.21">     delete this.log;</span>
<a href="#l29.22"></a><span id="l29.22">     return this.log = Log4Moz.getConfiguredLogger(&quot;sendLaterModule&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1">deleted file mode 100644</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineminus">--- a/mail/components/addrbook/content/.eslintrc.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineplus">+++ /dev/null</span>
<a href="#l30.4"></a><span id="l30.4" class="difflineat">@@ -1,54 +0,0 @@</span>
<a href="#l30.5"></a><span id="l30.5" class="difflineminus">-&quot;use strict&quot;;</span>
<a href="#l30.6"></a><span id="l30.6" class="difflineminus">-</span>
<a href="#l30.7"></a><span id="l30.7" class="difflineminus">-module.exports = {</span>
<a href="#l30.8"></a><span id="l30.8" class="difflineminus">-  &quot;globals&quot;: {</span>
<a href="#l30.9"></a><span id="l30.9" class="difflineminus">-    // abCommon.js</span>
<a href="#l30.10"></a><span id="l30.10" class="difflineminus">-    &quot;AbEditCard&quot;: true,</span>
<a href="#l30.11"></a><span id="l30.11" class="difflineminus">-    &quot;AbNewMessage&quot;: true,</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-    &quot;ChangeDirectoryByURI&quot;: true,</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineminus">-    &quot;DirPaneController&quot;: true,</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineminus">-    &quot;GenerateAddressFromCard&quot;: true,</span>
<a href="#l30.15"></a><span id="l30.15" class="difflineminus">-    &quot;GetDirectoryFromURI&quot;: true,</span>
<a href="#l30.16"></a><span id="l30.16" class="difflineminus">-    &quot;GetParentDirectoryFromMailingListURI&quot;: true,</span>
<a href="#l30.17"></a><span id="l30.17" class="difflineminus">-    &quot;InitCommonJS&quot;: true,</span>
<a href="#l30.18"></a><span id="l30.18" class="difflineminus">-    &quot;SelectFirstAddressBook&quot;: true,</span>
<a href="#l30.19"></a><span id="l30.19" class="difflineminus">-    &quot;abList&quot;: true,</span>
<a href="#l30.20"></a><span id="l30.20" class="difflineminus">-    &quot;defaultPhotoURI&quot;: true,</span>
<a href="#l30.21"></a><span id="l30.21" class="difflineminus">-    &quot;gAbResultsTree&quot;: true,</span>
<a href="#l30.22"></a><span id="l30.22" class="difflineminus">-    &quot;gAbView&quot;: true,</span>
<a href="#l30.23"></a><span id="l30.23" class="difflineminus">-    &quot;gAddressBookBundle&quot;: true,</span>
<a href="#l30.24"></a><span id="l30.24" class="difflineminus">-    &quot;gDirTree&quot;: true,</span>
<a href="#l30.25"></a><span id="l30.25" class="difflineminus">-    &quot;gImageDownloader&quot;: true,</span>
<a href="#l30.26"></a><span id="l30.26" class="difflineminus">-    &quot;gShowAbColumnInComposeSidebar&quot;: true,</span>
<a href="#l30.27"></a><span id="l30.27" class="difflineminus">-    &quot;getPhotoURI&quot;: true,</span>
<a href="#l30.28"></a><span id="l30.28" class="difflineminus">-    &quot;getPhotosDir&quot;: true,</span>
<a href="#l30.29"></a><span id="l30.29" class="difflineminus">-    &quot;getSelectedDirectory&quot;: true,</span>
<a href="#l30.30"></a><span id="l30.30" class="difflineminus">-    &quot;getSelectedDirectoryURI&quot;: true,</span>
<a href="#l30.31"></a><span id="l30.31" class="difflineminus">-    &quot;goNewCardDialog&quot;: true,</span>
<a href="#l30.32"></a><span id="l30.32" class="difflineminus">-    &quot;goNewListDialog&quot;: true,</span>
<a href="#l30.33"></a><span id="l30.33" class="difflineminus">-    &quot;kAllDirectoryRoot&quot;: true,</span>
<a href="#l30.34"></a><span id="l30.34" class="difflineminus">-    &quot;kCollectedAddressbookURI&quot;: true,</span>
<a href="#l30.35"></a><span id="l30.35" class="difflineminus">-    &quot;kDefaultAscending&quot;: true,</span>
<a href="#l30.36"></a><span id="l30.36" class="difflineminus">-    &quot;kDefaultDescending&quot;: true,</span>
<a href="#l30.37"></a><span id="l30.37" class="difflineminus">-    &quot;kDefaultSortColumn&quot;: true,</span>
<a href="#l30.38"></a><span id="l30.38" class="difflineminus">-    &quot;kDefaultYear&quot;: true,</span>
<a href="#l30.39"></a><span id="l30.39" class="difflineminus">-    &quot;kLdapUrlPrefix&quot;: true,</span>
<a href="#l30.40"></a><span id="l30.40" class="difflineminus">-    &quot;kMaxYear&quot;: true,</span>
<a href="#l30.41"></a><span id="l30.41" class="difflineminus">-    &quot;kMinYear&quot;: true,</span>
<a href="#l30.42"></a><span id="l30.42" class="difflineminus">-    &quot;kPersonalAddressbookURI&quot;: true,</span>
<a href="#l30.43"></a><span id="l30.43" class="difflineminus">-    &quot;saneBirthYear&quot;: true,</span>
<a href="#l30.44"></a><span id="l30.44" class="difflineminus">-    &quot;selectStartupViewDirectory&quot;: true,</span>
<a href="#l30.45"></a><span id="l30.45" class="difflineminus">-</span>
<a href="#l30.46"></a><span id="l30.46" class="difflineminus">-    // mailnews/addrbook/content/abResultsPane.js</span>
<a href="#l30.47"></a><span id="l30.47" class="difflineminus">-    &quot;AbEditSelectedCard&quot;: true,</span>
<a href="#l30.48"></a><span id="l30.48" class="difflineminus">-    &quot;CloseAbView&quot;: true,</span>
<a href="#l30.49"></a><span id="l30.49" class="difflineminus">-    &quot;GetSelectedAbCards&quot;: true,</span>
<a href="#l30.50"></a><span id="l30.50" class="difflineminus">-    &quot;GetSelectedAddresses&quot;: true,</span>
<a href="#l30.51"></a><span id="l30.51" class="difflineminus">-    &quot;GetSelectedCardIndex&quot;: true,</span>
<a href="#l30.52"></a><span id="l30.52" class="difflineminus">-    &quot;GetSelectedCardTypes&quot;: true,</span>
<a href="#l30.53"></a><span id="l30.53" class="difflineminus">-    &quot;ResultsPaneController&quot;: true,</span>
<a href="#l30.54"></a><span id="l30.54" class="difflineminus">-    &quot;SelectFirstCard&quot;: true,</span>
<a href="#l30.55"></a><span id="l30.55" class="difflineminus">-    &quot;SetAbView&quot;: true,</span>
<a href="#l30.56"></a><span id="l30.56" class="difflineminus">-    &quot;SortAndUpdateIndicators&quot;: true,</span>
<a href="#l30.57"></a><span id="l30.57" class="difflineminus">-  },</span>
<a href="#l30.58"></a><span id="l30.58" class="difflineminus">-};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mail/components/addrbook/content/abCard.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCard.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l31.4"></a><span id="l31.4"> /* -*- Mode: Javascript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l31.5"></a><span id="l31.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l31.6"></a><span id="l31.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l31.7"></a><span id="l31.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l31.8"></a><span id="l31.8"> </span>
<a href="#l31.9"></a><span id="l31.9" class="difflineplus">+/* import-globals-from abCommon.js */</span>
<a href="#l31.10"></a><span id="l31.10" class="difflineplus">+</span>
<a href="#l31.11"></a><span id="l31.11"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l31.12"></a><span id="l31.12"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l31.13"></a><span id="l31.13"> </span>
<a href="#l31.14"></a><span id="l31.14"> var kNonVcardFields =</span>
<a href="#l31.15"></a><span id="l31.15">         [&quot;NickNameContainer&quot;, &quot;SecondaryEmailContainer&quot;, &quot;ScreenNameContainer&quot;,</span>
<a href="#l31.16"></a><span id="l31.16">          &quot;customFields&quot;, &quot;preferDisplayName&quot;];</span>
<a href="#l31.17"></a><span id="l31.17"> </span>
<a href="#l31.18"></a><span id="l31.18"> var kPhoneticFields =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mail/components/addrbook/content/abCardView.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCardView.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l32.4"></a><span id="l32.4"> /* -*- Mode: Javascript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l32.5"></a><span id="l32.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l32.6"></a><span id="l32.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l32.7"></a><span id="l32.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l32.8"></a><span id="l32.8"> </span>
<a href="#l32.9"></a><span id="l32.9" class="difflineplus">+/* import-globals-from abCommon.js */</span>
<a href="#l32.10"></a><span id="l32.10" class="difflineplus">+</span>
<a href="#l32.11"></a><span id="l32.11"> // NOTE: gAddressBookBundle must be defined and set or this Overlay won't work</span>
<a href="#l32.12"></a><span id="l32.12"> </span>
<a href="#l32.13"></a><span id="l32.13"> ChromeUtils.import(&quot;resource://gre/modules/PlacesUtils.jsm&quot;);</span>
<a href="#l32.14"></a><span id="l32.14"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l32.15"></a><span id="l32.15"> </span>
<a href="#l32.16"></a><span id="l32.16"> var gProfileDirURL;</span>
<a href="#l32.17"></a><span id="l32.17"> var gFileHandler = Services.io.getProtocolHandler(&quot;file&quot;)</span>
<a href="#l32.18"></a><span id="l32.18">   .QueryInterface(Ci.nsIFileProtocolHandler);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/mail/components/addrbook/content/abCommon.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCommon.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -1,27 +1,19 @@</span>
<a href="#l33.4"></a><span id="l33.4"> /* -*- Mode: javascript; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 ; js-indent-level: 2 -*- */</span>
<a href="#l33.5"></a><span id="l33.5"> /* vim: set ts=8 sts=2 et sw=2 tw=80: */</span>
<a href="#l33.6"></a><span id="l33.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l33.7"></a><span id="l33.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l33.8"></a><span id="l33.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l33.9"></a><span id="l33.9"> </span>
<a href="#l33.10"></a><span id="l33.10" class="difflineminus">-// addressbook.js</span>
<a href="#l33.11"></a><span id="l33.11" class="difflineminus">-/* globals PluralForm, ResultsPaneSelectionChanged, gPreviousDirTreeIndex, onEnterInSearchBar */</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-// abTrees.js</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineminus">-/* globals gDirectoryTreeView */</span>
<a href="#l33.14"></a><span id="l33.14" class="difflineminus">-</span>
<a href="#l33.15"></a><span id="l33.15" class="difflineminus">-// mail/base/content/utilityOverlay.js</span>
<a href="#l33.16"></a><span id="l33.16" class="difflineminus">-/* globals goSetMenuValue */</span>
<a href="#l33.17"></a><span id="l33.17" class="difflineminus">-</span>
<a href="#l33.18"></a><span id="l33.18" class="difflineminus">-// mailnews/addrbook/content/abResultsPane.js</span>
<a href="#l33.19"></a><span id="l33.19" class="difflineminus">-/* globals kCardsOnly, kListsAndCards, kMultipleListsOnly, kNothingSelected, kSingleListOnly */</span>
<a href="#l33.20"></a><span id="l33.20" class="difflineminus">-</span>
<a href="#l33.21"></a><span id="l33.21" class="difflineminus">-// toolkit/content/globalOverlay.js</span>
<a href="#l33.22"></a><span id="l33.22" class="difflineminus">-/* globals goUpdateCommand */</span>
<a href="#l33.23"></a><span id="l33.23" class="difflineplus">+/* import-globals-from ../../../../../toolkit/content/globalOverlay.js */</span>
<a href="#l33.24"></a><span id="l33.24" class="difflineplus">+/* import-globals-from ../../../../mailnews/addrbook/content/abResultsPane.js */</span>
<a href="#l33.25"></a><span id="l33.25" class="difflineplus">+/* import-globals-from ../../../base/content/utilityOverlay.js */</span>
<a href="#l33.26"></a><span id="l33.26" class="difflineplus">+/* import-globals-from abTrees.js */</span>
<a href="#l33.27"></a><span id="l33.27" class="difflineplus">+/* import-globals-from addressbook.js */</span>
<a href="#l33.28"></a><span id="l33.28"> </span>
<a href="#l33.29"></a><span id="l33.29"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l33.30"></a><span id="l33.30"> ChromeUtils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l33.31"></a><span id="l33.31"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l33.32"></a><span id="l33.32"> ChromeUtils.import(&quot;resource://gre/modules/FileUtils.jsm&quot;);</span>
<a href="#l33.33"></a><span id="l33.33"> ChromeUtils.import(&quot;resource://gre/modules/PrivateBrowsingUtils.jsm&quot;);</span>
<a href="#l33.34"></a><span id="l33.34"> </span>
<a href="#l33.35"></a><span id="l33.35"> var gDirTree;</span>
<a href="#l33.36"></a><span id="l33.36" class="difflineat">@@ -47,18 +39,17 @@ var kPersonalAddressbookURI = &quot;moz-abmdb</span>
<a href="#l33.37"></a><span id="l33.37"> var kCollectedAddressbookURI = &quot;moz-abmdbdirectory://history.mab&quot;;</span>
<a href="#l33.38"></a><span id="l33.38"> // The default, generic contact image is displayed via CSS when the photoURI is</span>
<a href="#l33.39"></a><span id="l33.39"> // blank.</span>
<a href="#l33.40"></a><span id="l33.40"> var defaultPhotoURI = &quot;&quot;;</span>
<a href="#l33.41"></a><span id="l33.41"> </span>
<a href="#l33.42"></a><span id="l33.42"> var PERMS_DIRECTORY = parseInt(&quot;0755&quot;, 8);</span>
<a href="#l33.43"></a><span id="l33.43"> </span>
<a href="#l33.44"></a><span id="l33.44"> // Controller object for Dir Pane</span>
<a href="#l33.45"></a><span id="l33.45" class="difflineminus">-var DirPaneController =</span>
<a href="#l33.46"></a><span id="l33.46" class="difflineminus">-{</span>
<a href="#l33.47"></a><span id="l33.47" class="difflineplus">+var DirPaneController = {</span>
<a href="#l33.48"></a><span id="l33.48">   supportsCommand(command) {</span>
<a href="#l33.49"></a><span id="l33.49">     switch (command) {</span>
<a href="#l33.50"></a><span id="l33.50">       case &quot;cmd_selectAll&quot;:</span>
<a href="#l33.51"></a><span id="l33.51">       case &quot;cmd_delete&quot;:</span>
<a href="#l33.52"></a><span id="l33.52">       case &quot;button_delete&quot;:</span>
<a href="#l33.53"></a><span id="l33.53">       case &quot;cmd_properties&quot;:</span>
<a href="#l33.54"></a><span id="l33.54">       case &quot;cmd_abToggleStartupDir&quot;:</span>
<a href="#l33.55"></a><span id="l33.55">       case &quot;cmd_printcard&quot;:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/mail/components/addrbook/content/abContactsPanel.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/mail/components/addrbook/content/abContactsPanel.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -1,26 +1,22 @@</span>
<a href="#l34.4"></a><span id="l34.4"> /* -*- Mode: javascript; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 ; js-indent-level: 2 -*- */</span>
<a href="#l34.5"></a><span id="l34.5"> /* vim: set ts=8 sts=2 et sw=2 tw=80: */</span>
<a href="#l34.6"></a><span id="l34.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l34.7"></a><span id="l34.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l34.8"></a><span id="l34.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l34.9"></a><span id="l34.9"> </span>
<a href="#l34.10"></a><span id="l34.10" class="difflineminus">-// addressbook.js</span>
<a href="#l34.11"></a><span id="l34.11" class="difflineminus">-/* globals gQueryURIFormat */</span>
<a href="#l34.12"></a><span id="l34.12" class="difflineplus">+/* import-globals-from ../../../../mailnews/addrbook/content/abResultsPane.js */</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineplus">+/* import-globals-from abCommon.js */</span>
<a href="#l34.14"></a><span id="l34.14"> </span>
<a href="#l34.15"></a><span id="l34.15" class="difflineminus">-// mailnews/addrbook/content/abResultsPane.js</span>
<a href="#l34.16"></a><span id="l34.16" class="difflineminus">-/* globals GetNumSelectedCards */</span>
<a href="#l34.17"></a><span id="l34.17" class="difflineminus">-// mailnews/base/util/ABQueryUtils.jsm</span>
<a href="#l34.18"></a><span id="l34.18" class="difflineminus">-/* globals getModelQuery, getSearchTokens, generateQueryURI */</span>
<a href="#l34.19"></a><span id="l34.19" class="difflineminus">-</span>
<a href="#l34.20"></a><span id="l34.20" class="difflineminus">-// toolkit/content/globalOverlay.js</span>
<a href="#l34.21"></a><span id="l34.21" class="difflineminus">-/* globals goUpdateCommand */</span>
<a href="#l34.22"></a><span id="l34.22" class="difflineminus">-</span>
<a href="#l34.23"></a><span id="l34.23" class="difflineminus">-ChromeUtils.import(&quot;resource:///modules/ABQueryUtils.jsm&quot;);</span>
<a href="#l34.24"></a><span id="l34.24" class="difflineplus">+var {</span>
<a href="#l34.25"></a><span id="l34.25" class="difflineplus">+  getSearchTokens,</span>
<a href="#l34.26"></a><span id="l34.26" class="difflineplus">+  getModelQuery,</span>
<a href="#l34.27"></a><span id="l34.27" class="difflineplus">+  generateQueryURI,</span>
<a href="#l34.28"></a><span id="l34.28" class="difflineplus">+} = ChromeUtils.import(&quot;resource:///modules/ABQueryUtils.jsm&quot;, null);</span>
<a href="#l34.29"></a><span id="l34.29"> </span>
<a href="#l34.30"></a><span id="l34.30"> function GetAbViewListener() {</span>
<a href="#l34.31"></a><span id="l34.31">   // the ab panel doesn't care if the total changes, or if the selection changes</span>
<a href="#l34.32"></a><span id="l34.32">   return null;</span>
<a href="#l34.33"></a><span id="l34.33"> }</span>
<a href="#l34.34"></a><span id="l34.34"> </span>
<a href="#l34.35"></a><span id="l34.35"> /**</span>
<a href="#l34.36"></a><span id="l34.36">  * Handle the context menu event of results tree (right-click, context menu key</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/mail/components/addrbook/content/abTrees.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/mail/components/addrbook/content/abTrees.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -1,16 +1,14 @@</span>
<a href="#l35.4"></a><span id="l35.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l35.5"></a><span id="l35.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l35.6"></a><span id="l35.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l35.7"></a><span id="l35.7"> </span>
<a href="#l35.8"></a><span id="l35.8" class="difflineminus">-// mailnews/addrbook/content/abDragDrop.js</span>
<a href="#l35.9"></a><span id="l35.9" class="difflineminus">-/* globals abDirTreeObserver */</span>
<a href="#l35.10"></a><span id="l35.10" class="difflineminus">-// mailnews/base/content/jsTreeView.js</span>
<a href="#l35.11"></a><span id="l35.11" class="difflineminus">-/* globals PROTO_TREE_VIEW */</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineplus">+/* import-globals-from ../../../../mailnews/addrbook/content/abDragDrop.js */</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineplus">+/* import-globals-from abCommon.js */</span>
<a href="#l35.14"></a><span id="l35.14"> </span>
<a href="#l35.15"></a><span id="l35.15"> /**</span>
<a href="#l35.16"></a><span id="l35.16">  * This file contains our implementation for various addressbook trees.  It</span>
<a href="#l35.17"></a><span id="l35.17">  * depends on jsTreeView.js being loaded before this script is loaded.</span>
<a href="#l35.18"></a><span id="l35.18">  */</span>
<a href="#l35.19"></a><span id="l35.19"> </span>
<a href="#l35.20"></a><span id="l35.20"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l35.21"></a><span id="l35.21"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/mail/components/addrbook/content/addressbook.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/mail/components/addrbook/content/addressbook.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -1,37 +1,27 @@</span>
<a href="#l36.4"></a><span id="l36.4"> /* -*- Mode: javascript; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 ; js-indent-level: 2 -*- */</span>
<a href="#l36.5"></a><span id="l36.5"> /* vim: set ts=8 sts=2 et sw=2 tw=80: */</span>
<a href="#l36.6"></a><span id="l36.6"> /*</span>
<a href="#l36.7"></a><span id="l36.7">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l36.8"></a><span id="l36.8">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l36.9"></a><span id="l36.9">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l36.10"></a><span id="l36.10"> </span>
<a href="#l36.11"></a><span id="l36.11" class="difflineminus">-// abCardView.js</span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-/* globals ClearCardViewPane, DisplayCardViewPane, OnLoadCardView */</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineminus">-// abTrees.js</span>
<a href="#l36.14"></a><span id="l36.14" class="difflineminus">-/* globals gDirectoryTreeView */</span>
<a href="#l36.15"></a><span id="l36.15" class="difflineminus">-</span>
<a href="#l36.16"></a><span id="l36.16" class="difflineminus">-// mail/base/content/mail-compacttheme.js</span>
<a href="#l36.17"></a><span id="l36.17" class="difflineminus">-/* globals CompactTheme */</span>
<a href="#l36.18"></a><span id="l36.18" class="difflineminus">-// mail/base/content/mailCore.js</span>
<a href="#l36.19"></a><span id="l36.19" class="difflineminus">-/* globals MailToolboxCustomizeDone */</span>
<a href="#l36.20"></a><span id="l36.20" class="difflineminus">-// mail/base/content/toolbarIconColor.js</span>
<a href="#l36.21"></a><span id="l36.21" class="difflineminus">-/* globals ToolbarIconColor */</span>
<a href="#l36.22"></a><span id="l36.22" class="difflineminus">-// mailnews/base/content/msgPrintEngine.js</span>
<a href="#l36.23"></a><span id="l36.23" class="difflineminus">-/* globals printEngineWindow */</span>
<a href="#l36.24"></a><span id="l36.24" class="difflineminus">-// mailnews/base/util/ABQueryUtils.jsm</span>
<a href="#l36.25"></a><span id="l36.25" class="difflineminus">-/* globals getModelQuery, getSearchTokens, generateQueryURI */</span>
<a href="#l36.26"></a><span id="l36.26" class="difflineminus">-</span>
<a href="#l36.27"></a><span id="l36.27" class="difflineminus">-// toolkit/content/globalOverlay.js</span>
<a href="#l36.28"></a><span id="l36.28" class="difflineminus">-/* globals goUpdateCommand */</span>
<a href="#l36.29"></a><span id="l36.29" class="difflineplus">+/* import-globals-from ../../../../mailnews/addrbook/content/abResultsPane.js */</span>
<a href="#l36.30"></a><span id="l36.30" class="difflineplus">+/* import-globals-from ../../../../mailnews/base/content/msgPrintEngine.js */</span>
<a href="#l36.31"></a><span id="l36.31" class="difflineplus">+/* import-globals-from abCardView.js */</span>
<a href="#l36.32"></a><span id="l36.32" class="difflineplus">+/* import-globals-from abCommon.js */</span>
<a href="#l36.33"></a><span id="l36.33"> </span>
<a href="#l36.34"></a><span id="l36.34"> // Ensure the activity modules are loaded for this window.</span>
<a href="#l36.35"></a><span id="l36.35"> ChromeUtils.import(&quot;resource:///modules/activity/activityModules.jsm&quot;);</span>
<a href="#l36.36"></a><span id="l36.36" class="difflineminus">-ChromeUtils.import(&quot;resource:///modules/ABQueryUtils.jsm&quot;);</span>
<a href="#l36.37"></a><span id="l36.37" class="difflineplus">+var {</span>
<a href="#l36.38"></a><span id="l36.38" class="difflineplus">+  getSearchTokens,</span>
<a href="#l36.39"></a><span id="l36.39" class="difflineplus">+  getModelQuery,</span>
<a href="#l36.40"></a><span id="l36.40" class="difflineplus">+  generateQueryURI,</span>
<a href="#l36.41"></a><span id="l36.41" class="difflineplus">+} = ChromeUtils.import(&quot;resource:///modules/ABQueryUtils.jsm&quot;, null);</span>
<a href="#l36.42"></a><span id="l36.42"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l36.43"></a><span id="l36.43"> ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l36.44"></a><span id="l36.44"> ChromeUtils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l36.45"></a><span id="l36.45"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l36.46"></a><span id="l36.46"> ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l36.47"></a><span id="l36.47"> </span>
<a href="#l36.48"></a><span id="l36.48"> XPCOMUtils.defineLazyModuleGetters(this, {</span>
<a href="#l36.49"></a><span id="l36.49">   LightweightThemeManager: &quot;resource://gre/modules/LightweightThemeManager.jsm&quot;,</span>
<a href="#l36.50"></a><span id="l36.50" class="difflineat">@@ -359,23 +349,21 @@ function AbPrintCardInternal(doPrintPrev</span>
<a href="#l36.51"></a><span id="l36.51">   for (let i = 0; i &lt; numSelected; i++) {</span>
<a href="#l36.52"></a><span id="l36.52">     let card = selectedItems[i];</span>
<a href="#l36.53"></a><span id="l36.53">     let printCardUrl = CreatePrintCardUrl(card);</span>
<a href="#l36.54"></a><span id="l36.54">     if (printCardUrl) {</span>
<a href="#l36.55"></a><span id="l36.55">       selectionArray.push(printCardUrl);</span>
<a href="#l36.56"></a><span id="l36.56">     }</span>
<a href="#l36.57"></a><span id="l36.57">   }</span>
<a href="#l36.58"></a><span id="l36.58"> </span>
<a href="#l36.59"></a><span id="l36.59" class="difflineminus">-  /* eslint-disable no-global-assign */</span>
<a href="#l36.60"></a><span id="l36.60" class="difflineminus">-  printEngineWindow = window.openDialog(&quot;chrome://messenger/content/msgPrintEngine.xul&quot;,</span>
<a href="#l36.61"></a><span id="l36.61" class="difflineminus">-                                         &quot;&quot;,</span>
<a href="#l36.62"></a><span id="l36.62" class="difflineminus">-                                         &quot;chrome,dialog=no,all&quot;,</span>
<a href="#l36.63"></a><span id="l36.63" class="difflineminus">-                                         selectionArray.length, selectionArray,</span>
<a href="#l36.64"></a><span id="l36.64" class="difflineminus">-                                         statusFeedback, doPrintPreview, msgType);</span>
<a href="#l36.65"></a><span id="l36.65" class="difflineminus">-  /* eslint-enable no-global-assign */</span>
<a href="#l36.66"></a><span id="l36.66" class="difflineplus">+  window.openDialog(&quot;chrome://messenger/content/msgPrintEngine.xul&quot;,</span>
<a href="#l36.67"></a><span id="l36.67" class="difflineplus">+                    &quot;&quot;,</span>
<a href="#l36.68"></a><span id="l36.68" class="difflineplus">+                    &quot;chrome,dialog=no,all&quot;,</span>
<a href="#l36.69"></a><span id="l36.69" class="difflineplus">+                    selectionArray.length, selectionArray,</span>
<a href="#l36.70"></a><span id="l36.70" class="difflineplus">+                    statusFeedback, doPrintPreview, msgType);</span>
<a href="#l36.71"></a><span id="l36.71"> }</span>
<a href="#l36.72"></a><span id="l36.72"> </span>
<a href="#l36.73"></a><span id="l36.73"> function AbPrintCard() {</span>
<a href="#l36.74"></a><span id="l36.74">   AbPrintCardInternal(false, Ci.nsIMsgPrintEngine.MNAB_PRINT_AB_CARD);</span>
<a href="#l36.75"></a><span id="l36.75"> }</span>
<a href="#l36.76"></a><span id="l36.76"> </span>
<a href="#l36.77"></a><span id="l36.77"> function AbPrintPreviewCard() {</span>
<a href="#l36.78"></a><span id="l36.78">   AbPrintCardInternal(true, Ci.nsIMsgPrintEngine.MNAB_PRINTPREVIEW_AB_CARD);</span>
<a href="#l36.79"></a><span id="l36.79" class="difflineat">@@ -397,22 +385,20 @@ function AbPrintAddressBookInternal(doPr</span>
<a href="#l36.80"></a><span id="l36.80">   /*</span>
<a href="#l36.81"></a><span id="l36.81">     turn &quot;moz-abmdbdirectory://abook.mab&quot; into</span>
<a href="#l36.82"></a><span id="l36.82">     &quot;addbook://moz-abmdbdirectory/abook.mab?action=print&quot;</span>
<a href="#l36.83"></a><span id="l36.83">    */</span>
<a href="#l36.84"></a><span id="l36.84"> </span>
<a href="#l36.85"></a><span id="l36.85">   var abURIArr = uri.split(&quot;://&quot;);</span>
<a href="#l36.86"></a><span id="l36.86">   var printUrl = &quot;addbook://&quot; + abURIArr[0] + &quot;/&quot; + abURIArr[1] + &quot;?action=print&quot;;</span>
<a href="#l36.87"></a><span id="l36.87"> </span>
<a href="#l36.88"></a><span id="l36.88" class="difflineminus">-  /* eslint-disable no-global-assign */</span>
<a href="#l36.89"></a><span id="l36.89" class="difflineminus">-  printEngineWindow = window.openDialog(&quot;chrome://messenger/content/msgPrintEngine.xul&quot;,</span>
<a href="#l36.90"></a><span id="l36.90" class="difflineplus">+  window.openDialog(&quot;chrome://messenger/content/msgPrintEngine.xul&quot;,</span>
<a href="#l36.91"></a><span id="l36.91">                     &quot;&quot;,</span>
<a href="#l36.92"></a><span id="l36.92">                     &quot;chrome,dialog=no,all&quot;,</span>
<a href="#l36.93"></a><span id="l36.93">                     1, [printUrl], statusFeedback, doPrintPreview, msgType);</span>
<a href="#l36.94"></a><span id="l36.94" class="difflineminus">-  /* eslint-enable no-global-assign */</span>
<a href="#l36.95"></a><span id="l36.95"> }</span>
<a href="#l36.96"></a><span id="l36.96"> </span>
<a href="#l36.97"></a><span id="l36.97"> function AbPrintAddressBook() {</span>
<a href="#l36.98"></a><span id="l36.98">   AbPrintAddressBookInternal(false, Ci.nsIMsgPrintEngine.MNAB_PRINT_ADDRBOOK);</span>
<a href="#l36.99"></a><span id="l36.99"> }</span>
<a href="#l36.100"></a><span id="l36.100"> </span>
<a href="#l36.101"></a><span id="l36.101"> function AbPrintPreviewAddressBook() {</span>
<a href="#l36.102"></a><span id="l36.102">   AbPrintAddressBookInternal(true, Ci.nsIMsgPrintEngine.MNAB_PRINTPREVIEW_ADDRBOOK);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mail/components/appIdleManager.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mail/components/appIdleManager.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -10,18 +10,17 @@ ChromeUtils.import(&quot;resource://gre/modul</span>
<a href="#l37.4"></a><span id="l37.4"> // This module provides a mechanism to turn window focus and blur events</span>
<a href="#l37.5"></a><span id="l37.5"> // into app idle notifications. If we get a blur notification that is not</span>
<a href="#l37.6"></a><span id="l37.6"> // followed by a focus notification in less than some small number of seconds,</span>
<a href="#l37.7"></a><span id="l37.7"> // then we send a begin app idle notification.</span>
<a href="#l37.8"></a><span id="l37.8"> // If we get a focus event, and we're app idle, then we send an end app idle</span>
<a href="#l37.9"></a><span id="l37.9"> // notification.</span>
<a href="#l37.10"></a><span id="l37.10"> // The notification topic is &quot;mail:appIdle&quot;, the values are &quot;idle&quot;, and &quot;back&quot;</span>
<a href="#l37.11"></a><span id="l37.11"> </span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-var appIdleManager =</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineminus">-{</span>
<a href="#l37.14"></a><span id="l37.14" class="difflineplus">+var appIdleManager = {</span>
<a href="#l37.15"></a><span id="l37.15">   _appIdle: false,</span>
<a href="#l37.16"></a><span id="l37.16">   _timerInterval: 5000, // 5 seconds ought to be plenty</span>
<a href="#l37.17"></a><span id="l37.17">   get _timer() {</span>
<a href="#l37.18"></a><span id="l37.18">     delete this._timer;</span>
<a href="#l37.19"></a><span id="l37.19">     return this._timer = Cc[&quot;@mozilla.org/timer;1&quot;].createInstance(Ci.nsITimer);</span>
<a href="#l37.20"></a><span id="l37.20">   },</span>
<a href="#l37.21"></a><span id="l37.21"> </span>
<a href="#l37.22"></a><span id="l37.22">   _timerCallback() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1">deleted file mode 100644</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineminus">--- a/mail/components/compose/content/.eslintrc.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineplus">+++ /dev/null</span>
<a href="#l38.4"></a><span id="l38.4" class="difflineat">@@ -1,56 +0,0 @@</span>
<a href="#l38.5"></a><span id="l38.5" class="difflineminus">-&quot;use strict&quot;;</span>
<a href="#l38.6"></a><span id="l38.6" class="difflineminus">-</span>
<a href="#l38.7"></a><span id="l38.7" class="difflineminus">-module.exports = {</span>
<a href="#l38.8"></a><span id="l38.8" class="difflineminus">-  globals: {</span>
<a href="#l38.9"></a><span id="l38.9" class="difflineminus">-    // editor/ui/composer/content/ComposerCommands.js</span>
<a href="#l38.10"></a><span id="l38.10" class="difflineminus">-    doStatefulCommand: true,</span>
<a href="#l38.11"></a><span id="l38.11" class="difflineminus">-    SaveDocument: true,</span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-    // editor/ui/composer/content/editor.js</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineminus">-    EditorCleanup: true,</span>
<a href="#l38.14"></a><span id="l38.14" class="difflineminus">-    EditorSetFontSize: true,</span>
<a href="#l38.15"></a><span id="l38.15" class="difflineminus">-    EditorSharedStartup: true,</span>
<a href="#l38.16"></a><span id="l38.16" class="difflineminus">-    gChromeState: true,</span>
<a href="#l38.17"></a><span id="l38.17" class="difflineminus">-    gDefaultBackgroundColor: true,</span>
<a href="#l38.18"></a><span id="l38.18" class="difflineminus">-    gDefaultTextColor: true,</span>
<a href="#l38.19"></a><span id="l38.19" class="difflineminus">-    GetBodyElement: true,</span>
<a href="#l38.20"></a><span id="l38.20" class="difflineminus">-    initLocalFontFaceMenu: true,</span>
<a href="#l38.21"></a><span id="l38.21" class="difflineminus">-    onBackgroundColorChange: true,</span>
<a href="#l38.22"></a><span id="l38.22" class="difflineminus">-    onFontColorChange: true,</span>
<a href="#l38.23"></a><span id="l38.23" class="difflineminus">-    // editor/ui/composer/content/editorUtilities.js:</span>
<a href="#l38.24"></a><span id="l38.24" class="difflineminus">-    GetCurrentCommandManager: true,</span>
<a href="#l38.25"></a><span id="l38.25" class="difflineminus">-    GetCurrentEditor: true,</span>
<a href="#l38.26"></a><span id="l38.26" class="difflineminus">-    GetCurrentEditorElement: true,</span>
<a href="#l38.27"></a><span id="l38.27" class="difflineminus">-</span>
<a href="#l38.28"></a><span id="l38.28" class="difflineminus">-    // mail/base/content/contentAreaClick.js</span>
<a href="#l38.29"></a><span id="l38.29" class="difflineminus">-    openLinkExternally: true,</span>
<a href="#l38.30"></a><span id="l38.30" class="difflineminus">-    // mail/base/content/mailCore.js</span>
<a href="#l38.31"></a><span id="l38.31" class="difflineminus">-    CreateAttachmentTransferData: true,</span>
<a href="#l38.32"></a><span id="l38.32" class="difflineminus">-    MailToolboxCustomizeDone: true,</span>
<a href="#l38.33"></a><span id="l38.33" class="difflineminus">-    openOptionsDialog: true,</span>
<a href="#l38.34"></a><span id="l38.34" class="difflineminus">-    // mail/base/content/mail-compacttheme.js</span>
<a href="#l38.35"></a><span id="l38.35" class="difflineminus">-    CompactTheme: true,</span>
<a href="#l38.36"></a><span id="l38.36" class="difflineminus">-    // mail/base/content/nsDragAndDrop.js</span>
<a href="#l38.37"></a><span id="l38.37" class="difflineminus">-    FlavourSet: true,</span>
<a href="#l38.38"></a><span id="l38.38" class="difflineminus">-    nsDragAndDrop: true,</span>
<a href="#l38.39"></a><span id="l38.39" class="difflineminus">-    // mail/base/content/toolbarIconColor.js</span>
<a href="#l38.40"></a><span id="l38.40" class="difflineminus">-    ToolbarIconColor: true,</span>
<a href="#l38.41"></a><span id="l38.41" class="difflineminus">-    // mail/base/content/utilityOverlay.js</span>
<a href="#l38.42"></a><span id="l38.42" class="difflineminus">-    goToggleToolbar: true,</span>
<a href="#l38.43"></a><span id="l38.43" class="difflineminus">-    openContentTab: true,</span>
<a href="#l38.44"></a><span id="l38.44" class="difflineminus">-</span>
<a href="#l38.45"></a><span id="l38.45" class="difflineminus">-    // mailnews/addrbook/content/abDragDrop.js</span>
<a href="#l38.46"></a><span id="l38.46" class="difflineminus">-    DragAddressOverTargetControl: true,</span>
<a href="#l38.47"></a><span id="l38.47" class="difflineminus">-    // mailnews/base/prefs/content/accountUtils.js</span>
<a href="#l38.48"></a><span id="l38.48" class="difflineminus">-    MsgAccountManager: true,</span>
<a href="#l38.49"></a><span id="l38.49" class="difflineminus">-    verifyAccounts: true,</span>
<a href="#l38.50"></a><span id="l38.50" class="difflineminus">-</span>
<a href="#l38.51"></a><span id="l38.51" class="difflineminus">-    // toolkit/components/printing/content/printUtils.js</span>
<a href="#l38.52"></a><span id="l38.52" class="difflineminus">-    PrintUtils: true,</span>
<a href="#l38.53"></a><span id="l38.53" class="difflineminus">-    // toolkit/content/globalOverlay.js</span>
<a href="#l38.54"></a><span id="l38.54" class="difflineminus">-    goDoCommand: true,</span>
<a href="#l38.55"></a><span id="l38.55" class="difflineminus">-    goSetCommandEnabled: true,</span>
<a href="#l38.56"></a><span id="l38.56" class="difflineminus">-    goUpdateCommand: true,</span>
<a href="#l38.57"></a><span id="l38.57" class="difflineminus">-    // toolkit/content/viewZoomOverlay.js</span>
<a href="#l38.58"></a><span id="l38.58" class="difflineminus">-    ZoomManager: true,</span>
<a href="#l38.59"></a><span id="l38.59" class="difflineminus">-  },</span>
<a href="#l38.60"></a><span id="l38.60" class="difflineminus">-};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -1,12 +1,18 @@</span>
<a href="#l39.4"></a><span id="l39.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l39.5"></a><span id="l39.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l39.6"></a><span id="l39.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l39.7"></a><span id="l39.7"> </span>
<a href="#l39.8"></a><span id="l39.8" class="difflineplus">+/* import-globals-from ../../../../editor/ui/composer/content/ComposerCommands.js */</span>
<a href="#l39.9"></a><span id="l39.9" class="difflineplus">+/* import-globals-from ../../../../editor/ui/composer/content/editor.js */</span>
<a href="#l39.10"></a><span id="l39.10" class="difflineplus">+/* import-globals-from ../../../../editor/ui/composer/content/editorUtilities.js */</span>
<a href="#l39.11"></a><span id="l39.11" class="difflineplus">+/* import-globals-from ../../../../mailnews/addrbook/content/abDragDrop.js */</span>
<a href="#l39.12"></a><span id="l39.12" class="difflineplus">+/* import-globals-from ../../../base/content/mailCore.js */</span>
<a href="#l39.13"></a><span id="l39.13" class="difflineplus">+/* import-globals-from ../../../base/content/utilityOverlay.js */</span>
<a href="#l39.14"></a><span id="l39.14"> /* import-globals-from addressingWidgetOverlay.js */</span>
<a href="#l39.15"></a><span id="l39.15"> </span>
<a href="#l39.16"></a><span id="l39.16"> /**</span>
<a href="#l39.17"></a><span id="l39.17">  * Commands for the message composition window.</span>
<a href="#l39.18"></a><span id="l39.18">  */</span>
<a href="#l39.19"></a><span id="l39.19"> </span>
<a href="#l39.20"></a><span id="l39.20"> // Ensure the activity modules are loaded for this window.</span>
<a href="#l39.21"></a><span id="l39.21"> ChromeUtils.import(&quot;resource:///modules/activity/activityModules.jsm&quot;);</span>
<a href="#l39.22"></a><span id="l39.22" class="difflineat">@@ -3072,21 +3078,21 @@ function GetCharsetUIString() {</span>
<a href="#l39.23"></a><span id="l39.23">   return &quot;&quot;;</span>
<a href="#l39.24"></a><span id="l39.24"> }</span>
<a href="#l39.25"></a><span id="l39.25"> </span>
<a href="#l39.26"></a><span id="l39.26"> // Add-ons can override this to customize the behavior.</span>
<a href="#l39.27"></a><span id="l39.27"> function DoSpellCheckBeforeSend() {</span>
<a href="#l39.28"></a><span id="l39.28">   return Services.prefs.getBoolPref(&quot;mail.SpellCheckBeforeSend&quot;);</span>
<a href="#l39.29"></a><span id="l39.29"> }</span>
<a href="#l39.30"></a><span id="l39.30"> </span>
<a href="#l39.31"></a><span id="l39.31" class="difflineplus">+/* eslint-disable complexity */</span>
<a href="#l39.32"></a><span id="l39.32"> /**</span>
<a href="#l39.33"></a><span id="l39.33">  * Handles message sending operations.</span>
<a href="#l39.34"></a><span id="l39.34">  * @param msgType nsIMsgCompDeliverMode of the operation.</span>
<a href="#l39.35"></a><span id="l39.35">  */</span>
<a href="#l39.36"></a><span id="l39.36" class="difflineminus">-/* eslint-disable complexity */</span>
<a href="#l39.37"></a><span id="l39.37"> function GenericSendMessage(msgType) {</span>
<a href="#l39.38"></a><span id="l39.38">   var msgCompFields = gMsgCompose.compFields;</span>
<a href="#l39.39"></a><span id="l39.39"> </span>
<a href="#l39.40"></a><span id="l39.40">   Recipients2CompFields(msgCompFields);</span>
<a href="#l39.41"></a><span id="l39.41">   let addresses = MailServices.headerParser</span>
<a href="#l39.42"></a><span id="l39.42">                               .makeFromDisplayAddress(GetMsgIdentityElement().value);</span>
<a href="#l39.43"></a><span id="l39.43">   msgCompFields.from = MailServices.headerParser.makeMimeHeader(addresses, addresses.length);</span>
<a href="#l39.44"></a><span id="l39.44">   var subject = GetMsgSubjectElement().value;</span>
<a href="#l39.45"></a><span id="l39.45" class="difflineat">@@ -4739,28 +4745,28 @@ function RenameSelectedAttachment() {</span>
<a href="#l39.46"></a><span id="l39.46">     // Hack to ensure that reorderAttachmentsPanel does not get closed as we exit.</span>
<a href="#l39.47"></a><span id="l39.47">     bucket.setAttribute(&quot;data-ignorenextblur&quot;, &quot;true&quot;);</span>
<a href="#l39.48"></a><span id="l39.48">   }</span>
<a href="#l39.49"></a><span id="l39.49">   // Update cmd_sortAttachmentsToggle because renaming may change the current</span>
<a href="#l39.50"></a><span id="l39.50">   // sort order.</span>
<a href="#l39.51"></a><span id="l39.51">   goUpdateCommand(&quot;cmd_sortAttachmentsToggle&quot;);</span>
<a href="#l39.52"></a><span id="l39.52"> }</span>
<a href="#l39.53"></a><span id="l39.53"> </span>
<a href="#l39.54"></a><span id="l39.54" class="difflineplus">+/* eslint-disable complexity */</span>
<a href="#l39.55"></a><span id="l39.55"> /**</span>
<a href="#l39.56"></a><span id="l39.56">  * Move selected attachment(s) within the attachment list.</span>
<a href="#l39.57"></a><span id="l39.57">  *</span>
<a href="#l39.58"></a><span id="l39.58">  * @param aDirection  &quot;up&quot;        : Move attachments up in the list.</span>
<a href="#l39.59"></a><span id="l39.59">  *                    &quot;down&quot;      : Move attachments down in the list.</span>
<a href="#l39.60"></a><span id="l39.60">  *                    &quot;top&quot;       : Move attachments to the top of the list.</span>
<a href="#l39.61"></a><span id="l39.61">  *                    &quot;bottom&quot;    : Move attachments to the bottom of the list.</span>
<a href="#l39.62"></a><span id="l39.62">  *                    &quot;bundleUp&quot;  : Move attachments together (upwards).</span>
<a href="#l39.63"></a><span id="l39.63">  *                    &quot;bundleDown&quot;: Move attachments together (downwards).</span>
<a href="#l39.64"></a><span id="l39.64">  *                    &quot;toggleSort&quot;: Sort attachments alphabetically (toggle).</span>
<a href="#l39.65"></a><span id="l39.65">  */</span>
<a href="#l39.66"></a><span id="l39.66" class="difflineminus">-/* eslint-disable complexity */</span>
<a href="#l39.67"></a><span id="l39.67"> function moveSelectedAttachments(aDirection) {</span>
<a href="#l39.68"></a><span id="l39.68">   // Command controllers will bail out if no or all attachments are selected,</span>
<a href="#l39.69"></a><span id="l39.69">   // or if block selections can't be moved, or if other direction-specific</span>
<a href="#l39.70"></a><span id="l39.70">   // adverse circumstances prevent the intended movement.</span>
<a href="#l39.71"></a><span id="l39.71"> </span>
<a href="#l39.72"></a><span id="l39.72">   if (!aDirection)</span>
<a href="#l39.73"></a><span id="l39.73">     return;</span>
<a href="#l39.74"></a><span id="l39.74"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/mail/components/compose/content/addressingWidgetOverlay.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/mail/components/compose/content/addressingWidgetOverlay.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -960,18 +960,17 @@ function parseAndAddAddresses(addressTex</span>
<a href="#l40.4"></a><span id="l40.4"> </span>
<a href="#l40.5"></a><span id="l40.5"> function AutomatedAutoCompleteHandler() {</span>
<a href="#l40.6"></a><span id="l40.6"> }</span>
<a href="#l40.7"></a><span id="l40.7"> </span>
<a href="#l40.8"></a><span id="l40.8"> // state driven self contained object which will autocomplete a block of addresses without any UI.</span>
<a href="#l40.9"></a><span id="l40.9"> // force picks the first match and adds it to the addressing widget, then goes on to the next</span>
<a href="#l40.10"></a><span id="l40.10"> // name to complete.</span>
<a href="#l40.11"></a><span id="l40.11"> </span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-AutomatedAutoCompleteHandler.prototype =</span>
<a href="#l40.13"></a><span id="l40.13" class="difflineminus">-{</span>
<a href="#l40.14"></a><span id="l40.14" class="difflineplus">+AutomatedAutoCompleteHandler.prototype = {</span>
<a href="#l40.15"></a><span id="l40.15">   param: this,</span>
<a href="#l40.16"></a><span id="l40.16">   sessionName: null,</span>
<a href="#l40.17"></a><span id="l40.17">   namesToComplete: null,</span>
<a href="#l40.18"></a><span id="l40.18">   numNamesToComplete: 0,</span>
<a href="#l40.19"></a><span id="l40.19">   indexIntoNames: 0,</span>
<a href="#l40.20"></a><span id="l40.20">   finalAddresses: null,</span>
<a href="#l40.21"></a><span id="l40.21"> </span>
<a href="#l40.22"></a><span id="l40.22">   numSessionsToSearch: 0,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1">deleted file mode 100644</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineminus">--- a/mail/components/preferences/.eslintrc.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineplus">+++ /dev/null</span>
<a href="#l41.4"></a><span id="l41.4" class="difflineat">@@ -1,14 +0,0 @@</span>
<a href="#l41.5"></a><span id="l41.5" class="difflineminus">-&quot;use strict&quot;;</span>
<a href="#l41.6"></a><span id="l41.6" class="difflineminus">-</span>
<a href="#l41.7"></a><span id="l41.7" class="difflineminus">-module.exports = {</span>
<a href="#l41.8"></a><span id="l41.8" class="difflineminus">-  &quot;globals&quot;: {</span>
<a href="#l41.9"></a><span id="l41.9" class="difflineminus">-    // preferences.js</span>
<a href="#l41.10"></a><span id="l41.10" class="difflineminus">-    &quot;AppConstants&quot;: true,</span>
<a href="#l41.11"></a><span id="l41.11" class="difflineminus">-    &quot;MailServices&quot;: true,</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-    &quot;Services&quot;: true,</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineminus">-    &quot;ExtensionSupport&quot;: true,</span>
<a href="#l41.14"></a><span id="l41.14" class="difflineminus">-</span>
<a href="#l41.15"></a><span id="l41.15" class="difflineminus">-    // subdialogs.js</span>
<a href="#l41.16"></a><span id="l41.16" class="difflineminus">-    &quot;gSubDialog&quot;: true,</span>
<a href="#l41.17"></a><span id="l41.17" class="difflineminus">-  },</span>
<a href="#l41.18"></a><span id="l41.18" class="difflineminus">-};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/mail/components/preferences/advanced.js</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/mail/components/preferences/advanced.js</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l42.4"></a><span id="l42.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l42.5"></a><span id="l42.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l42.6"></a><span id="l42.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l42.7"></a><span id="l42.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l42.8"></a><span id="l42.8"> </span>
<a href="#l42.9"></a><span id="l42.9" class="difflineminus">-// mail/base/content/aboutDialog-appUpdater.js</span>
<a href="#l42.10"></a><span id="l42.10" class="difflineminus">-/* globals appUpdater, gAppUpdater */</span>
<a href="#l42.11"></a><span id="l42.11" class="difflineplus">+/* import-globals-from ../../base/content/aboutDialog-appUpdater.js */</span>
<a href="#l42.12"></a><span id="l42.12" class="difflineplus">+/* import-globals-from preferences.js */</span>
<a href="#l42.13"></a><span id="l42.13" class="difflineplus">+/* import-globals-from subdialogs.js */</span>
<a href="#l42.14"></a><span id="l42.14"> </span>
<a href="#l42.15"></a><span id="l42.15"> // Load DownloadUtils module for convertByteUnits</span>
<a href="#l42.16"></a><span id="l42.16"> ChromeUtils.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l42.17"></a><span id="l42.17"> ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l42.18"></a><span id="l42.18"> ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l42.19"></a><span id="l42.19"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l42.20"></a><span id="l42.20"> ChromeUtils.import(&quot;resource://gre/modules/L10nRegistry.jsm&quot;);</span>
<a href="#l42.21"></a><span id="l42.21"> ChromeUtils.import(&quot;resource://gre/modules/Localization.jsm&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/mail/components/preferences/applications.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/mail/components/preferences/applications.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l43.4"></a><span id="l43.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l43.5"></a><span id="l43.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l43.6"></a><span id="l43.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l43.7"></a><span id="l43.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l43.8"></a><span id="l43.8"> </span>
<a href="#l43.9"></a><span id="l43.9"> /* import-globals-from preferences.js */</span>
<a href="#l43.10"></a><span id="l43.10" class="difflineplus">+/* import-globals-from subdialogs.js */</span>
<a href="#l43.11"></a><span id="l43.11" class="difflineplus">+</span>
<a href="#l43.12"></a><span id="l43.12"> // applications.inc.xul</span>
<a href="#l43.13"></a><span id="l43.13"> /* globals ICON_URL_APP */</span>
<a href="#l43.14"></a><span id="l43.14" class="difflineminus">-// mail/base/content/contentAreaClick.js</span>
<a href="#l43.15"></a><span id="l43.15" class="difflineminus">-/* globals openLinkExternally */</span>
<a href="#l43.16"></a><span id="l43.16"> </span>
<a href="#l43.17"></a><span id="l43.17"> // ------------------------------</span>
<a href="#l43.18"></a><span id="l43.18"> // Constants &amp; Enumeration Values</span>
<a href="#l43.19"></a><span id="l43.19"> </span>
<a href="#l43.20"></a><span id="l43.20"> // For CSS. Can be one of &quot;ask&quot;, &quot;save&quot;, or &quot;feed&quot;. If absent, the icon URL</span>
<a href="#l43.21"></a><span id="l43.21"> // was set by us to a custom handler icon and CSS should not try to override it.</span>
<a href="#l43.22"></a><span id="l43.22"> var APP_ICON_ATTR_NAME = &quot;appHandlerIcon&quot;;</span>
<a href="#l43.23"></a><span id="l43.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/mail/components/preferences/compose.js</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/mail/components/preferences/compose.js</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -1,13 +1,16 @@</span>
<a href="#l44.4"></a><span id="l44.4"> /* -*- Mode: Javascript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l44.5"></a><span id="l44.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l44.6"></a><span id="l44.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l44.7"></a><span id="l44.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l44.8"></a><span id="l44.8"> </span>
<a href="#l44.9"></a><span id="l44.9" class="difflineplus">+/* import-globals-from preferences.js */</span>
<a href="#l44.10"></a><span id="l44.10" class="difflineplus">+/* import-globals-from subdialogs.js */</span>
<a href="#l44.11"></a><span id="l44.11" class="difflineplus">+</span>
<a href="#l44.12"></a><span id="l44.12"> ChromeUtils.import(&quot;resource://gre/modules/InlineSpellChecker.jsm&quot;);</span>
<a href="#l44.13"></a><span id="l44.13"> </span>
<a href="#l44.14"></a><span id="l44.14"> var gComposePane = {</span>
<a href="#l44.15"></a><span id="l44.15">   mInitialized: false,</span>
<a href="#l44.16"></a><span id="l44.16">   mSpellChecker: null,</span>
<a href="#l44.17"></a><span id="l44.17">   mDictCount: 0,</span>
<a href="#l44.18"></a><span id="l44.18"> </span>
<a href="#l44.19"></a><span id="l44.19">   init() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/mail/components/preferences/display.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/mail/components/preferences/display.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l45.4"></a><span id="l45.4"> /* -*- Mode: JavaScript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l45.5"></a><span id="l45.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l45.6"></a><span id="l45.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l45.7"></a><span id="l45.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l45.8"></a><span id="l45.8"> </span>
<a href="#l45.9"></a><span id="l45.9" class="difflineminus">-// toolkit/mozapps/preferences/fontbuilder.js</span>
<a href="#l45.10"></a><span id="l45.10" class="difflineminus">-/* globals FontBuilder */</span>
<a href="#l45.11"></a><span id="l45.11" class="difflineplus">+/* import-globals-from ../../../../toolkit/mozapps/preferences/fontbuilder.js */</span>
<a href="#l45.12"></a><span id="l45.12" class="difflineplus">+/* import-globals-from preferences.js */</span>
<a href="#l45.13"></a><span id="l45.13" class="difflineplus">+/* import-globals-from subdialogs.js */</span>
<a href="#l45.14"></a><span id="l45.14"> </span>
<a href="#l45.15"></a><span id="l45.15"> var gDisplayPane = {</span>
<a href="#l45.16"></a><span id="l45.16">   mInitialized: false,</span>
<a href="#l45.17"></a><span id="l45.17">   mTagListBox:  null,</span>
<a href="#l45.18"></a><span id="l45.18"> </span>
<a href="#l45.19"></a><span id="l45.19">   init() {</span>
<a href="#l45.20"></a><span id="l45.20">     if (!((&quot;arguments&quot; in window) &amp;&amp; window.arguments[1])) {</span>
<a href="#l45.21"></a><span id="l45.21">       // If no tab was specified, select the last used tab.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/mail/components/preferences/downloads.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/mail/components/preferences/downloads.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -1,13 +1,15 @@</span>
<a href="#l46.4"></a><span id="l46.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l46.5"></a><span id="l46.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l46.6"></a><span id="l46.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l46.7"></a><span id="l46.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l46.8"></a><span id="l46.8"> </span>
<a href="#l46.9"></a><span id="l46.9" class="difflineplus">+/* import-globals-from preferences.js */</span>
<a href="#l46.10"></a><span id="l46.10" class="difflineplus">+</span>
<a href="#l46.11"></a><span id="l46.11"> ChromeUtils.import(&quot;resource://gre/modules/Downloads.jsm&quot;);</span>
<a href="#l46.12"></a><span id="l46.12"> ChromeUtils.import(&quot;resource://gre/modules/FileUtils.jsm&quot;);</span>
<a href="#l46.13"></a><span id="l46.13"> </span>
<a href="#l46.14"></a><span id="l46.14"> var gDownloadDirSection = {</span>
<a href="#l46.15"></a><span id="l46.15">   async chooseFolder() {</span>
<a href="#l46.16"></a><span id="l46.16">     var fp = Cc[&quot;@mozilla.org/filepicker;1&quot;]</span>
<a href="#l46.17"></a><span id="l46.17">                .createInstance(Ci.nsIFilePicker);</span>
<a href="#l46.18"></a><span id="l46.18">     var bundlePreferences = document.getElementById(&quot;bundlePreferences&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/mail/components/preferences/general.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/mail/components/preferences/general.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -1,13 +1,16 @@</span>
<a href="#l47.4"></a><span id="l47.4"> /* -*- Mode: JavaScript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l47.5"></a><span id="l47.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l47.6"></a><span id="l47.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l47.7"></a><span id="l47.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l47.8"></a><span id="l47.8"> </span>
<a href="#l47.9"></a><span id="l47.9" class="difflineplus">+/* import-globals-from preferences.js */</span>
<a href="#l47.10"></a><span id="l47.10" class="difflineplus">+/* import-globals-from subdialogs.js */</span>
<a href="#l47.11"></a><span id="l47.11" class="difflineplus">+</span>
<a href="#l47.12"></a><span id="l47.12"> var gGeneralPane = {</span>
<a href="#l47.13"></a><span id="l47.13">   mPane: null,</span>
<a href="#l47.14"></a><span id="l47.14">   mStartPageUrl: &quot;&quot;,</span>
<a href="#l47.15"></a><span id="l47.15"> </span>
<a href="#l47.16"></a><span id="l47.16">   init() {</span>
<a href="#l47.17"></a><span id="l47.17">     this.mPane = document.getElementById(&quot;paneGeneral&quot;);</span>
<a href="#l47.18"></a><span id="l47.18"> </span>
<a href="#l47.19"></a><span id="l47.19">     this.updateStartPage();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/mail/components/preferences/messagestyle.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/mail/components/preferences/messagestyle.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -1,15 +1,20 @@</span>
<a href="#l48.4"></a><span id="l48.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l48.5"></a><span id="l48.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l48.6"></a><span id="l48.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l48.7"></a><span id="l48.7"> </span>
<a href="#l48.8"></a><span id="l48.8" class="difflineplus">+/* import-globals-from preferences.js */</span>
<a href="#l48.9"></a><span id="l48.9" class="difflineplus">+</span>
<a href="#l48.10"></a><span id="l48.10"> var jsProtoHelper = {};</span>
<a href="#l48.11"></a><span id="l48.11"> ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;, jsProtoHelper);</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineminus">-const { getThemeByName, getThemeVariants } = ChromeUtils.import(&quot;resource:///modules/imThemes.jsm&quot;, null);</span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+const {</span>
<a href="#l48.14"></a><span id="l48.14" class="difflineplus">+  getThemeByName,</span>
<a href="#l48.15"></a><span id="l48.15" class="difflineplus">+  getThemeVariants,</span>
<a href="#l48.16"></a><span id="l48.16" class="difflineplus">+} = ChromeUtils.import(&quot;resource:///modules/imThemes.jsm&quot;, null);</span>
<a href="#l48.17"></a><span id="l48.17"> </span>
<a href="#l48.18"></a><span id="l48.18"> function Conversation(aName) {</span>
<a href="#l48.19"></a><span id="l48.19">   this._name = aName;</span>
<a href="#l48.20"></a><span id="l48.20">   this._observers = [];</span>
<a href="#l48.21"></a><span id="l48.21">   let now = new Date();</span>
<a href="#l48.22"></a><span id="l48.22">   this._date = new Date(now.getFullYear(), now.getMonth(), now.getDate(),</span>
<a href="#l48.23"></a><span id="l48.23">                         10, 42, 22) * 1000;</span>
<a href="#l48.24"></a><span id="l48.24"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/mail/components/preferences/privacy.js</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/mail/components/preferences/privacy.js</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -1,13 +1,16 @@</span>
<a href="#l49.4"></a><span id="l49.4"> /* -*- Mode: JavaScript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l49.5"></a><span id="l49.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l49.6"></a><span id="l49.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l49.7"></a><span id="l49.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l49.8"></a><span id="l49.8"> </span>
<a href="#l49.9"></a><span id="l49.9" class="difflineplus">+/* import-globals-from preferences.js */</span>
<a href="#l49.10"></a><span id="l49.10" class="difflineplus">+/* import-globals-from subdialogs.js */</span>
<a href="#l49.11"></a><span id="l49.11" class="difflineplus">+</span>
<a href="#l49.12"></a><span id="l49.12"> var gPrivacyPane = {</span>
<a href="#l49.13"></a><span id="l49.13"> </span>
<a href="#l49.14"></a><span id="l49.14">   init() {</span>
<a href="#l49.15"></a><span id="l49.15">   },</span>
<a href="#l49.16"></a><span id="l49.16"> </span>
<a href="#l49.17"></a><span id="l49.17">   /**</span>
<a href="#l49.18"></a><span id="l49.18">    * Reload the current message after a preference affecting the view</span>
<a href="#l49.19"></a><span id="l49.19">    * has been changed and we are in instantApply mode.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/mail/components/preferences/security.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/mail/components/preferences/security.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -1,13 +1,16 @@</span>
<a href="#l50.4"></a><span id="l50.4"> /* -*- Mode: JavaScript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l50.5"></a><span id="l50.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l50.6"></a><span id="l50.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l50.7"></a><span id="l50.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l50.8"></a><span id="l50.8"> </span>
<a href="#l50.9"></a><span id="l50.9" class="difflineplus">+/* import-globals-from preferences.js */</span>
<a href="#l50.10"></a><span id="l50.10" class="difflineplus">+/* import-globals-from subdialogs.js */</span>
<a href="#l50.11"></a><span id="l50.11" class="difflineplus">+</span>
<a href="#l50.12"></a><span id="l50.12"> ChromeUtils.defineModuleGetter(this, &quot;LoginHelper&quot;, &quot;resource://gre/modules/LoginHelper.jsm&quot;);</span>
<a href="#l50.13"></a><span id="l50.13"> </span>
<a href="#l50.14"></a><span id="l50.14"> var gSecurityPane = {</span>
<a href="#l50.15"></a><span id="l50.15">   mPane: null,</span>
<a href="#l50.16"></a><span id="l50.16">   mInitialized: false,</span>
<a href="#l50.17"></a><span id="l50.17"> </span>
<a href="#l50.18"></a><span id="l50.18">   init() {</span>
<a href="#l50.19"></a><span id="l50.19">     this.mPane = document.getElementById(&quot;paneSecurity&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/mail/components/preferences/subdialogs.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/mail/components/preferences/subdialogs.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -1,14 +1,16 @@</span>
<a href="#l51.4"></a><span id="l51.4"> /* - This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l51.5"></a><span id="l51.5">    - License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l51.6"></a><span id="l51.6">    - You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l51.7"></a><span id="l51.7"> </span>
<a href="#l51.8"></a><span id="l51.8"> &quot;use strict&quot;;</span>
<a href="#l51.9"></a><span id="l51.9"> </span>
<a href="#l51.10"></a><span id="l51.10" class="difflineplus">+/* import-globals-from preferences.js */</span>
<a href="#l51.11"></a><span id="l51.11" class="difflineplus">+</span>
<a href="#l51.12"></a><span id="l51.12"> /**</span>
<a href="#l51.13"></a><span id="l51.13">  * SubDialog constructor creates a new subdialog from a template and appends</span>
<a href="#l51.14"></a><span id="l51.14">  * it to the parentElement.</span>
<a href="#l51.15"></a><span id="l51.15">  * @param {DOMNode} template: The template is copied to create a new dialog.</span>
<a href="#l51.16"></a><span id="l51.16">  * @param {DOMNode} parentElement: New dialog is appended onto parentElement.</span>
<a href="#l51.17"></a><span id="l51.17">  * @param {String}  id: A unique identifier for the dialog.</span>
<a href="#l51.18"></a><span id="l51.18">  */</span>
<a href="#l51.19"></a><span id="l51.19"> function SubDialog({template, parentElement, id}) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/mail/extensions/smime/content/msgCompSMIMEOverlay.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/mail/extensions/smime/content/msgCompSMIMEOverlay.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l52.4"></a><span id="l52.4"> /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l52.5"></a><span id="l52.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l52.6"></a><span id="l52.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l52.7"></a><span id="l52.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l52.8"></a><span id="l52.8"> </span>
<a href="#l52.9"></a><span id="l52.9"> /* import-globals-from ../../../../mailnews/base/prefs/content/accountUtils.js */</span>
<a href="#l52.10"></a><span id="l52.10"> /* import-globals-from ../../../components/compose/content/MsgComposeCommands.js */</span>
<a href="#l52.11"></a><span id="l52.11" class="difflineplus">+/* import-globals-from ../../../components/compose/content/addressingWidgetOverlay.js */</span>
<a href="#l52.12"></a><span id="l52.12"> </span>
<a href="#l52.13"></a><span id="l52.13"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l52.14"></a><span id="l52.14"> ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l52.15"></a><span id="l52.15"> </span>
<a href="#l52.16"></a><span id="l52.16"> // Account encryption policy values:</span>
<a href="#l52.17"></a><span id="l52.17"> // const kEncryptionPolicy_Never = 0;</span>
<a href="#l52.18"></a><span id="l52.18"> // 'IfPossible' was used by ns4.</span>
<a href="#l52.19"></a><span id="l52.19"> // const kEncryptionPolicy_IfPossible = 1;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l53.4"></a><span id="l53.4"> /* -*- Mode: JavaScript; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l53.5"></a><span id="l53.5">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l53.6"></a><span id="l53.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l53.7"></a><span id="l53.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l53.8"></a><span id="l53.8"> </span>
<a href="#l53.9"></a><span id="l53.9"> /* import-globals-from ../../../../mailnews/extensions/smime/content/msgReadSMIMEOverlay.js */</span>
<a href="#l53.10"></a><span id="l53.10"> /* import-globals-from ../../../base/content/folderDisplay.js */</span>
<a href="#l53.11"></a><span id="l53.11" class="difflineplus">+/* import-globals-from ../../../base/content/mailWindow.js */</span>
<a href="#l53.12"></a><span id="l53.12"> /* import-globals-from ../../../base/content/msgHdrView.js */</span>
<a href="#l53.13"></a><span id="l53.13"> </span>
<a href="#l53.14"></a><span id="l53.14"> var gSignedUINode = null;</span>
<a href="#l53.15"></a><span id="l53.15"> var gEncryptedUINode = null;</span>
<a href="#l53.16"></a><span id="l53.16"> var gSMIMEContainer = null;</span>
<a href="#l53.17"></a><span id="l53.17"> var gStatusBar = null;</span>
<a href="#l53.18"></a><span id="l53.18"> </span>
<a href="#l53.19"></a><span id="l53.19"> var gEncryptedURIService = null;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:31Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

