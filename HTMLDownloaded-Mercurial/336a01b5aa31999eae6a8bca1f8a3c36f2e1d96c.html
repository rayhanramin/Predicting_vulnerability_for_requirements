<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 8863:336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c" />
<meta property="og:url" content="/comm-central/rev/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c" />
<meta property="og:description" content="Bug 695468 - Upgrade to MozMill 1.5.6 for Thunderbird. rs=Standard8" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c">shortlog</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c">files</a> |
changeset |
<a href="/comm-central/raw-rev/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c">raw</a>  | <a href="/comm-central/archive/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=695468">Bug 695468</a> - Upgrade to MozMill 1.5.6 for Thunderbird. rs=Standard8
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#83;&#105;&#100;&#100;&#104;&#97;&#114;&#116;&#104;&#32;&#65;&#103;&#97;&#114;&#119;&#97;&#108;&#32;&#60;&#115;&#105;&#100;&#46;&#98;&#117;&#103;&#122;&#105;&#108;&#108;&#97;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 17 Nov 2011 03:07:57 +0530</td></tr>

<tr>
 <td>changeset 8863</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c">336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c</a></td>
</tr>



<tr>
<td>parent 8862</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/825d9b87e96c2be0680583c1bb448e122b9f98e1">825d9b87e96c2be0680583c1bb448e122b9f98e1</a>
</td>
</tr>

<tr>
<td>child 8864</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/e4c895f1d7596ad5bfda5bf7632109c33f9890f7">e4c895f1d7596ad5bfda5bf7632109c33f9890f7</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c">6797</a></td></tr>
<tr><td>push user</td><td>sid.bugzilla@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Wed, 16 Nov 2011 21:38:08 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@336a01b5aa31 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c&newProject=comm-central&newRevision=336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c&newProject=comm-central&newRevision=336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c&newProject=comm-central&newRevision=336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Standard8%29&revcount=50">Standard8</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=695468">695468</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=695468">Bug 695468</a> - Upgrade to MozMill 1.5.6 for Thunderbird. rs=Standard8</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/install.rdf">mail/test/resources/jsbridge/jsbridge/extension/install.rdf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/install.rdf">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/install.rdf">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/install.rdf">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/install.rdf">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/install.rdf">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/setup.py">mail/test/resources/jsbridge/setup.py</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/setup.py">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/setup.py">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/setup.py">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/setup.py">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/jsbridge/setup.py">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/__init__.py">mail/test/resources/mozmill/mozmill/__init__.py</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/__init__.py">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/__init__.py">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/__init__.py">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/__init__.py">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/__init__.py">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/install.rdf">mail/test/resources/mozmill/mozmill/extension/install.rdf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/install.rdf">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/install.rdf">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/install.rdf">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/install.rdf">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/install.rdf">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/controller.js">mail/test/resources/mozmill/mozmill/extension/resource/modules/controller.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/controller.js">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/controller.js">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/controller.js">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/controller.js">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/controller.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/setup.py">mail/test/resources/mozmill/setup.py</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/setup.py">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/setup.py">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/setup.py">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/setup.py">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/setup.py">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/files/iframe.html">mail/test/resources/mozmill/test/files/iframe.html</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/files/iframe.html">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/files/iframe.html">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/files/iframe.html">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/files/iframe.html">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/files/iframe.html">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_setupmodulereporting.js">mail/test/resources/mozmill/test/test_setupmodulereporting.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_setupmodulereporting.js">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_setupmodulereporting.js">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_setupmodulereporting.js">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_setupmodulereporting.js">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_setupmodulereporting.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_waitForPageLoad.js">mail/test/resources/mozmill/test/test_waitForPageLoad.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_waitForPageLoad.js">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_waitForPageLoad.js">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_waitForPageLoad.js">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_waitForPageLoad.js">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozmill/test/test_waitForPageLoad.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/mozrunner/__init__.py">mail/test/resources/mozrunner/mozrunner/__init__.py</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/mozrunner/__init__.py">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/mozrunner/__init__.py">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/mozrunner/__init__.py">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/mozrunner/__init__.py">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/mozrunner/__init__.py">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/setup.py">mail/test/resources/mozrunner/setup.py</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/setup.py">file</a> |
<a href="/comm-central/annotate/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/setup.py">annotate</a> |
<a href="/comm-central/diff/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/setup.py">diff</a> |
<a href="/comm-central/comparison/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/setup.py">comparison</a> |
<a href="/comm-central/log/336a01b5aa31999eae6a8bca1f8a3c36f2e1d96c/mail/test/resources/mozrunner/setup.py">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/test/resources/jsbridge/jsbridge/extension/install.rdf</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/test/resources/jsbridge/jsbridge/extension/install.rdf</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,61 +1,61 @@</span>
<a href="#l1.4"></a><span id="l1.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l1.5"></a><span id="l1.5"> &lt;RDF xmlns=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span>
<a href="#l1.6"></a><span id="l1.6">      xmlns:em=&quot;http://www.mozilla.org/2004/em-rdf#&quot;&gt;</span>
<a href="#l1.7"></a><span id="l1.7">    &lt;Description about=&quot;urn:mozilla:install-manifest&quot;&gt;</span>
<a href="#l1.8"></a><span id="l1.8">      &lt;em:id&gt;jsbridge@mozilla.com&lt;/em:id&gt;</span>
<a href="#l1.9"></a><span id="l1.9">      &lt;em:name&gt;jsbridge&lt;/em:name&gt;</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineminus">-     &lt;em:version&gt;2.4.4b4&lt;/em:version&gt;</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineplus">+     &lt;em:version&gt;2.4.6&lt;/em:version&gt;</span>
<a href="#l1.12"></a><span id="l1.12">      &lt;em:creator&gt;Mikeal Rogers&lt;/em:creator&gt;</span>
<a href="#l1.13"></a><span id="l1.13">      &lt;em:description&gt;Python to JavaScript bridge&lt;/em:description&gt;</span>
<a href="#l1.14"></a><span id="l1.14">      &lt;em:unpack&gt;true&lt;/em:unpack&gt;</span>
<a href="#l1.15"></a><span id="l1.15">      &lt;em:targetApplication&gt;</span>
<a href="#l1.16"></a><span id="l1.16">        &lt;!-- Firefox --&gt;</span>
<a href="#l1.17"></a><span id="l1.17">        &lt;Description&gt;</span>
<a href="#l1.18"></a><span id="l1.18">          &lt;em:id&gt;{ec8030f7-c20a-464f-9b0e-13a3a9e97384}&lt;/em:id&gt;</span>
<a href="#l1.19"></a><span id="l1.19">          &lt;em:minVersion&gt;3.5&lt;/em:minVersion&gt;</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineminus">-         &lt;em:maxVersion&gt;7.*&lt;/em:maxVersion&gt;</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+         &lt;em:maxVersion&gt;15.*&lt;/em:maxVersion&gt;</span>
<a href="#l1.22"></a><span id="l1.22">        &lt;/Description&gt;</span>
<a href="#l1.23"></a><span id="l1.23">      &lt;/em:targetApplication&gt;</span>
<a href="#l1.24"></a><span id="l1.24">      &lt;em:targetApplication&gt;</span>
<a href="#l1.25"></a><span id="l1.25">        &lt;!-- Thunderbird --&gt;</span>
<a href="#l1.26"></a><span id="l1.26">        &lt;Description&gt;</span>
<a href="#l1.27"></a><span id="l1.27">          &lt;em:id&gt;{3550f703-e582-4d05-9a08-453d09bdfdc6}&lt;/em:id&gt;</span>
<a href="#l1.28"></a><span id="l1.28">          &lt;em:minVersion&gt;3.0a1pre&lt;/em:minVersion&gt;</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineminus">-         &lt;em:maxVersion&gt;6.*&lt;/em:maxVersion&gt;</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+         &lt;em:maxVersion&gt;15.*&lt;/em:maxVersion&gt;</span>
<a href="#l1.31"></a><span id="l1.31">        &lt;/Description&gt;</span>
<a href="#l1.32"></a><span id="l1.32">      &lt;/em:targetApplication&gt;</span>
<a href="#l1.33"></a><span id="l1.33">      &lt;em:targetApplication&gt;</span>
<a href="#l1.34"></a><span id="l1.34">        &lt;!-- Sunbird --&gt;</span>
<a href="#l1.35"></a><span id="l1.35">        &lt;Description&gt;</span>
<a href="#l1.36"></a><span id="l1.36">          &lt;em:id&gt;{718e30fb-e89b-41dd-9da7-e25a45638b28}&lt;/em:id&gt;</span>
<a href="#l1.37"></a><span id="l1.37">          &lt;em:minVersion&gt;1.0b1pre&lt;/em:minVersion&gt;</span>
<a href="#l1.38"></a><span id="l1.38">          &lt;em:maxVersion&gt;1.0pre&lt;/em:maxVersion&gt;</span>
<a href="#l1.39"></a><span id="l1.39">        &lt;/Description&gt;</span>
<a href="#l1.40"></a><span id="l1.40">      &lt;/em:targetApplication&gt;</span>
<a href="#l1.41"></a><span id="l1.41">      &lt;em:targetApplication&gt;</span>
<a href="#l1.42"></a><span id="l1.42">        &lt;!-- SeaMonkey --&gt;</span>
<a href="#l1.43"></a><span id="l1.43">        &lt;Description&gt;</span>
<a href="#l1.44"></a><span id="l1.44">          &lt;em:id&gt;{92650c4d-4b8e-4d2a-b7eb-24ecf4f6b63a}&lt;/em:id&gt;</span>
<a href="#l1.45"></a><span id="l1.45">          &lt;em:minVersion&gt;2.0a1&lt;/em:minVersion&gt;</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineminus">-         &lt;em:maxVersion&gt;3.*&lt;/em:maxVersion&gt;</span>
<a href="#l1.47"></a><span id="l1.47" class="difflineplus">+         &lt;em:maxVersion&gt;15.*&lt;/em:maxVersion&gt;</span>
<a href="#l1.48"></a><span id="l1.48">        &lt;/Description&gt;</span>
<a href="#l1.49"></a><span id="l1.49">      &lt;/em:targetApplication&gt;</span>
<a href="#l1.50"></a><span id="l1.50"> 	   &lt;em:targetApplication&gt;</span>
<a href="#l1.51"></a><span id="l1.51"> 	      &lt;!-- Songbird --&gt;</span>
<a href="#l1.52"></a><span id="l1.52"> 	      &lt;Description&gt;</span>
<a href="#l1.53"></a><span id="l1.53"> 	        &lt;em:id&gt;songbird@songbirdnest.com&lt;/em:id&gt;</span>
<a href="#l1.54"></a><span id="l1.54"> 	        &lt;em:minVersion&gt;0.3pre&lt;/em:minVersion&gt;</span>
<a href="#l1.55"></a><span id="l1.55"> 	        &lt;em:maxVersion&gt;2.*&lt;/em:maxVersion&gt;</span>
<a href="#l1.56"></a><span id="l1.56"> 	      &lt;/Description&gt;</span>
<a href="#l1.57"></a><span id="l1.57"> 	   &lt;/em:targetApplication&gt;</span>
<a href="#l1.58"></a><span id="l1.58"> 	   &lt;em:targetApplication&gt;</span>
<a href="#l1.59"></a><span id="l1.59">          &lt;Description&gt;</span>
<a href="#l1.60"></a><span id="l1.60">           &lt;em:id&gt;toolkit@mozilla.org&lt;/em:id&gt;</span>
<a href="#l1.61"></a><span id="l1.61">           &lt;em:minVersion&gt;1.9.1&lt;/em:minVersion&gt;</span>
<a href="#l1.62"></a><span id="l1.62" class="difflineminus">-          &lt;em:maxVersion&gt;2.0*&lt;/em:maxVersion&gt;</span>
<a href="#l1.63"></a><span id="l1.63" class="difflineplus">+          &lt;em:maxVersion&gt;15.*&lt;/em:maxVersion&gt;</span>
<a href="#l1.64"></a><span id="l1.64">          &lt;/Description&gt;</span>
<a href="#l1.65"></a><span id="l1.65">      &lt;/em:targetApplication&gt;</span>
<a href="#l1.66"></a><span id="l1.66">    &lt;/Description&gt;</span>
<a href="#l1.67"></a><span id="l1.67"> </span>
<a href="#l1.68"></a><span id="l1.68"> </span>
<a href="#l1.69"></a><span id="l1.69"> &lt;/RDF&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/test/resources/jsbridge/jsbridge/extension/resource/modules/server.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -45,19 +45,16 @@ const Cc = Components.classes;</span>
<a href="#l2.4"></a><span id="l2.4"> const Ci = Components.interfaces;</span>
<a href="#l2.5"></a><span id="l2.5"> const loader = Cc['@mozilla.org/moz/jssubscript-loader;1']</span>
<a href="#l2.6"></a><span id="l2.6">     .getService(Ci.mozIJSSubScriptLoader);</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8"> var hwindow = Components.classes[&quot;@mozilla.org/appshell/appShellService;1&quot;]</span>
<a href="#l2.9"></a><span id="l2.9">     .getService(Components.interfaces.nsIAppShellService)</span>
<a href="#l2.10"></a><span id="l2.10">     .hiddenDOMWindow;</span>
<a href="#l2.11"></a><span id="l2.11">     </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-var nativeJSON = Components.classes[&quot;@mozilla.org/dom/json;1&quot;]</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-    .createInstance(Components.interfaces.nsIJSON);</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-</span>
<a href="#l2.15"></a><span id="l2.15"> var json2 = Components.utils.import(&quot;resource://jsbridge/modules/json2.js&quot;);</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17"> var jsonEncode = json2.JSON.stringify;    </span>
<a href="#l2.18"></a><span id="l2.18"> </span>
<a href="#l2.19"></a><span id="l2.19"> var uuidgen = Components.classes[&quot;@mozilla.org/uuid-generator;1&quot;]</span>
<a href="#l2.20"></a><span id="l2.20">     .getService(Components.interfaces.nsIUUIDGenerator);</span>
<a href="#l2.21"></a><span id="l2.21"> </span>
<a href="#l2.22"></a><span id="l2.22"> function AsyncRead (session) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/test/resources/jsbridge/setup.py</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/test/resources/jsbridge/setup.py</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -37,19 +37,19 @@</span>
<a href="#l3.4"></a><span id="l3.4"> </span>
<a href="#l3.5"></a><span id="l3.5"> import sys</span>
<a href="#l3.6"></a><span id="l3.6"> from setuptools import setup, find_packages</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> desc = &quot;&quot;&quot;Python to JavaScript bridge interface.&quot;&quot;&quot;</span>
<a href="#l3.9"></a><span id="l3.9"> summ = &quot;&quot;&quot;A powerful and extensible Python to JavaScript bridge interface.&quot;&quot;&quot;</span>
<a href="#l3.10"></a><span id="l3.10"> </span>
<a href="#l3.11"></a><span id="l3.11"> PACKAGE_NAME = &quot;jsbridge&quot;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-PACKAGE_VERSION = &quot;2.4.4b4&quot;</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+PACKAGE_VERSION = &quot;2.4.6&quot;</span>
<a href="#l3.14"></a><span id="l3.14"> </span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-requires = ['mozrunner == 2.5.5b4']</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+requires = ['mozrunner == 2.5.7']</span>
<a href="#l3.17"></a><span id="l3.17"> </span>
<a href="#l3.18"></a><span id="l3.18"> if not sys.version.startswith('2.6'):</span>
<a href="#l3.19"></a><span id="l3.19">     requires.append('simplejson')</span>
<a href="#l3.20"></a><span id="l3.20"> </span>
<a href="#l3.21"></a><span id="l3.21"> setup(name=PACKAGE_NAME,</span>
<a href="#l3.22"></a><span id="l3.22">       version=PACKAGE_VERSION,</span>
<a href="#l3.23"></a><span id="l3.23">       description=desc,</span>
<a href="#l3.24"></a><span id="l3.24">       long_description=summ,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/__init__.py</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/__init__.py</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -66,16 +66,23 @@ import mozrunner</span>
<a href="#l4.4"></a><span id="l4.4"> from time import sleep</span>
<a href="#l4.5"></a><span id="l4.5"> </span>
<a href="#l4.6"></a><span id="l4.6"> basedir = os.path.abspath(os.path.dirname(__file__))</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> extension_path = os.path.join(basedir, 'extension')</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10"> mozmillModuleJs = &quot;Components.utils.import('resource://mozmill/modules/mozmill.js')&quot;</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+try:</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+    import pkg_resources</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+    version = pkg_resources.get_distribution('mozmill').version</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+except:</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+    # pkg_resources not available</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+    version = None</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineplus">+</span>
<a href="#l4.19"></a><span id="l4.19"> class LoggerListener(object):</span>
<a href="#l4.20"></a><span id="l4.20">     cases = {</span>
<a href="#l4.21"></a><span id="l4.21">         'mozmill.pass':   lambda string: logger.info('Step Pass: ' + string),</span>
<a href="#l4.22"></a><span id="l4.22">         'mozmill.fail':   lambda string: logger.error('Test Failure: ' + string),</span>
<a href="#l4.23"></a><span id="l4.23">         'mozmill.skip':   lambda string: logger.info('Test Skipped: ' + string)</span>
<a href="#l4.24"></a><span id="l4.24">     }</span>
<a href="#l4.25"></a><span id="l4.25">     </span>
<a href="#l4.26"></a><span id="l4.26">     class default(object):</span>
<a href="#l4.27"></a><span id="l4.27" class="difflineat">@@ -276,16 +283,20 @@ class MozMill(object):</span>
<a href="#l4.28"></a><span id="l4.28">         # Give a second for any callbacks to finish.</span>
<a href="#l4.29"></a><span id="l4.29">         sleep(1)</span>
<a href="#l4.30"></a><span id="l4.30"> </span>
<a href="#l4.31"></a><span id="l4.31">     def startTest_listener(self, test):</span>
<a href="#l4.32"></a><span id="l4.32">         self.current_test = test</span>
<a href="#l4.33"></a><span id="l4.33">         print &quot;TEST-START | %s | %s&quot; % (test['filename'], test['name'])</span>
<a href="#l4.34"></a><span id="l4.34"> </span>
<a href="#l4.35"></a><span id="l4.35">     def endTest_listener(self, test):</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineplus">+        fname = os.path.split(test['filename'])[1]</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineplus">+        if fname:</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineplus">+            test['name'] = &quot;%s::%s&quot; % (fname, test['name'])</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineplus">+</span>
<a href="#l4.40"></a><span id="l4.40">         self.alltests.append(test)</span>
<a href="#l4.41"></a><span id="l4.41">         if test.get('skipped', False):</span>
<a href="#l4.42"></a><span id="l4.42">             print &quot;WARNING | %s | (SKIP) %s&quot; % (test['name'], test.get('skipped_reason', ''))</span>
<a href="#l4.43"></a><span id="l4.43">             self.skipped.append(test)</span>
<a href="#l4.44"></a><span id="l4.44">         elif test['failed'] &gt; 0:</span>
<a href="#l4.45"></a><span id="l4.45">             print &quot;TEST-UNEXPECTED-FAIL | %s | %s&quot; % (test['filename'], test['name'])</span>
<a href="#l4.46"></a><span id="l4.46">             self.fails.append(test)</span>
<a href="#l4.47"></a><span id="l4.47">         else:</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineat">@@ -396,16 +407,17 @@ class MozMill(object):</span>
<a href="#l4.49"></a><span id="l4.49">         format = &quot;%Y-%m-%dT%H:%M:%SZ&quot;</span>
<a href="#l4.50"></a><span id="l4.50"> </span>
<a href="#l4.51"></a><span id="l4.51">         assert self.tests, 'no tests have been run!'</span>
<a href="#l4.52"></a><span id="l4.52">         assert self.starttime, 'starttime not set; have you started the tests?'</span>
<a href="#l4.53"></a><span id="l4.53">         if not self.endtime:</span>
<a href="#l4.54"></a><span id="l4.54">             self.endtime = datetime.utcnow()</span>
<a href="#l4.55"></a><span id="l4.55"> </span>
<a href="#l4.56"></a><span id="l4.56">         report = {'report_type': self.report_type,</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineplus">+                  'mozmill_version': version,</span>
<a href="#l4.58"></a><span id="l4.58">                   'time_start': self.starttime.strftime(format),</span>
<a href="#l4.59"></a><span id="l4.59">                   'time_end': self.endtime.strftime(format),</span>
<a href="#l4.60"></a><span id="l4.60">                   'time_upload': 'n/a',</span>
<a href="#l4.61"></a><span id="l4.61">                   'tests_passed': len(self.passes),</span>
<a href="#l4.62"></a><span id="l4.62">                   'tests_failed': len(self.fails),</span>
<a href="#l4.63"></a><span id="l4.63">                   'tests_skipped': len(self.skipped),</span>
<a href="#l4.64"></a><span id="l4.64">                   'results': self.alltests</span>
<a href="#l4.65"></a><span id="l4.65">                  }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/install.rdf</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/install.rdf</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,59 +1,59 @@</span>
<a href="#l5.4"></a><span id="l5.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l5.5"></a><span id="l5.5"> &lt;RDF xmlns=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span>
<a href="#l5.6"></a><span id="l5.6">      xmlns:em=&quot;http://www.mozilla.org/2004/em-rdf#&quot;&gt;</span>
<a href="#l5.7"></a><span id="l5.7">    &lt;Description about=&quot;urn:mozilla:install-manifest&quot;&gt;</span>
<a href="#l5.8"></a><span id="l5.8">      &lt;em:id&gt;mozmill@mozilla.com&lt;/em:id&gt;</span>
<a href="#l5.9"></a><span id="l5.9">      &lt;em:name&gt;MozMill&lt;/em:name&gt;</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineminus">-     &lt;em:version&gt;1.5.4b4&lt;/em:version&gt;</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineplus">+     &lt;em:version&gt;1.5.6&lt;/em:version&gt;</span>
<a href="#l5.12"></a><span id="l5.12">      &lt;em:creator&gt;Adam Christian&lt;/em:creator&gt;</span>
<a href="#l5.13"></a><span id="l5.13">      &lt;em:description&gt;A testing extension based on the Windmill Testing Framework client source&lt;/em:description&gt;</span>
<a href="#l5.14"></a><span id="l5.14">      &lt;em:unpack&gt;true&lt;/em:unpack&gt;</span>
<a href="#l5.15"></a><span id="l5.15">      &lt;em:targetApplication&gt;</span>
<a href="#l5.16"></a><span id="l5.16">        &lt;!-- Firefox --&gt;</span>
<a href="#l5.17"></a><span id="l5.17">        &lt;Description&gt;</span>
<a href="#l5.18"></a><span id="l5.18">          &lt;em:id&gt;{ec8030f7-c20a-464f-9b0e-13a3a9e97384}&lt;/em:id&gt;</span>
<a href="#l5.19"></a><span id="l5.19">          &lt;em:minVersion&gt;3.5&lt;/em:minVersion&gt;</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineminus">-         &lt;em:maxVersion&gt;7.*&lt;/em:maxVersion&gt;</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+         &lt;em:maxVersion&gt;15.*&lt;/em:maxVersion&gt;</span>
<a href="#l5.22"></a><span id="l5.22">        &lt;/Description&gt;</span>
<a href="#l5.23"></a><span id="l5.23">      &lt;/em:targetApplication&gt;</span>
<a href="#l5.24"></a><span id="l5.24">      &lt;em:targetApplication&gt;</span>
<a href="#l5.25"></a><span id="l5.25">        &lt;!-- Thunderbird --&gt;</span>
<a href="#l5.26"></a><span id="l5.26">        &lt;Description&gt;</span>
<a href="#l5.27"></a><span id="l5.27">          &lt;em:id&gt;{3550f703-e582-4d05-9a08-453d09bdfdc6}&lt;/em:id&gt;</span>
<a href="#l5.28"></a><span id="l5.28">          &lt;em:minVersion&gt;3.0a1pre&lt;/em:minVersion&gt;</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineminus">-         &lt;em:maxVersion&gt;6.*&lt;/em:maxVersion&gt;</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineplus">+         &lt;em:maxVersion&gt;15.*&lt;/em:maxVersion&gt;</span>
<a href="#l5.31"></a><span id="l5.31">        &lt;/Description&gt;</span>
<a href="#l5.32"></a><span id="l5.32">      &lt;/em:targetApplication&gt;</span>
<a href="#l5.33"></a><span id="l5.33">      &lt;em:targetApplication&gt;</span>
<a href="#l5.34"></a><span id="l5.34">        &lt;!-- Sunbird --&gt;</span>
<a href="#l5.35"></a><span id="l5.35">        &lt;Description&gt;</span>
<a href="#l5.36"></a><span id="l5.36">          &lt;em:id&gt;{718e30fb-e89b-41dd-9da7-e25a45638b28}&lt;/em:id&gt;</span>
<a href="#l5.37"></a><span id="l5.37">          &lt;em:minVersion&gt;0.6a1&lt;/em:minVersion&gt;</span>
<a href="#l5.38"></a><span id="l5.38">          &lt;em:maxVersion&gt;1.0pre&lt;/em:maxVersion&gt;</span>
<a href="#l5.39"></a><span id="l5.39">        &lt;/Description&gt;</span>
<a href="#l5.40"></a><span id="l5.40">      &lt;/em:targetApplication&gt;</span>
<a href="#l5.41"></a><span id="l5.41">      &lt;em:targetApplication&gt;</span>
<a href="#l5.42"></a><span id="l5.42">        &lt;!-- SeaMonkey --&gt;</span>
<a href="#l5.43"></a><span id="l5.43">        &lt;Description&gt;</span>
<a href="#l5.44"></a><span id="l5.44">          &lt;em:id&gt;{92650c4d-4b8e-4d2a-b7eb-24ecf4f6b63a}&lt;/em:id&gt;</span>
<a href="#l5.45"></a><span id="l5.45">          &lt;em:minVersion&gt;2.0a1&lt;/em:minVersion&gt;</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineminus">-         &lt;em:maxVersion&gt;3.*&lt;/em:maxVersion&gt;</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineplus">+         &lt;em:maxVersion&gt;15.*&lt;/em:maxVersion&gt;</span>
<a href="#l5.48"></a><span id="l5.48">        &lt;/Description&gt;</span>
<a href="#l5.49"></a><span id="l5.49">      &lt;/em:targetApplication&gt;</span>
<a href="#l5.50"></a><span id="l5.50"> 	   &lt;em:targetApplication&gt;</span>
<a href="#l5.51"></a><span id="l5.51"> 	      &lt;!-- Songbird --&gt;</span>
<a href="#l5.52"></a><span id="l5.52"> 	      &lt;Description&gt;</span>
<a href="#l5.53"></a><span id="l5.53"> 	        &lt;em:id&gt;songbird@songbirdnest.com&lt;/em:id&gt;</span>
<a href="#l5.54"></a><span id="l5.54"> 	        &lt;em:minVersion&gt;0.3pre&lt;/em:minVersion&gt;</span>
<a href="#l5.55"></a><span id="l5.55"> 	        &lt;em:maxVersion&gt;2.*&lt;/em:maxVersion&gt;</span>
<a href="#l5.56"></a><span id="l5.56"> 	      &lt;/Description&gt;</span>
<a href="#l5.57"></a><span id="l5.57"> 	   &lt;/em:targetApplication&gt;</span>
<a href="#l5.58"></a><span id="l5.58"> 	   &lt;em:targetApplication&gt;</span>
<a href="#l5.59"></a><span id="l5.59">          &lt;Description&gt;</span>
<a href="#l5.60"></a><span id="l5.60">           &lt;em:id&gt;toolkit@mozilla.org&lt;/em:id&gt;</span>
<a href="#l5.61"></a><span id="l5.61">           &lt;em:minVersion&gt;1.9.1&lt;/em:minVersion&gt;</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineminus">-          &lt;em:maxVersion&gt;2.*&lt;/em:maxVersion&gt;</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineplus">+          &lt;em:maxVersion&gt;15.*&lt;/em:maxVersion&gt;</span>
<a href="#l5.64"></a><span id="l5.64">          &lt;/Description&gt;</span>
<a href="#l5.65"></a><span id="l5.65">      &lt;/em:targetApplication&gt;</span>
<a href="#l5.66"></a><span id="l5.66">    &lt;/Description&gt;</span>
<a href="#l5.67"></a><span id="l5.67"> &lt;/RDF&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/resource/modules/controller.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/resource/modules/controller.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1263,45 +1263,38 @@ Tabs.prototype.selectTabIndex = function</span>
<a href="#l6.4"></a><span id="l6.4">   this.controller.window.gBrowser.selectTabAtIndex(i);</span>
<a href="#l6.5"></a><span id="l6.5"> }</span>
<a href="#l6.6"></a><span id="l6.6"> </span>
<a href="#l6.7"></a><span id="l6.7"> function browserAdditions (controller) {</span>
<a href="#l6.8"></a><span id="l6.8">   controller.tabs = new Tabs(controller);</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10">   controller.waitForPageLoad = function(aDocument, aTimeout, aInterval) {</span>
<a href="#l6.11"></a><span id="l6.11">     var timeout = aTimeout || 30000;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-    var owner = null;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+    var win = null;</span>
<a href="#l6.14"></a><span id="l6.14"> </span>
<a href="#l6.15"></a><span id="l6.15">     // If a user tries to do waitForPageLoad(2000), this will assign the</span>
<a href="#l6.16"></a><span id="l6.16">     // interval the first arg which is most likely what they were expecting</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineminus">-    if (typeof(aDocument) == &quot;number&quot;){</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+    if (typeof(aDocument) === &quot;number&quot;)</span>
<a href="#l6.19"></a><span id="l6.19">       timeout = aDocument;</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineminus">-    }</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineminus">-</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineminus">-    // If the document is a tab find the corresponding browser element.</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineminus">-    // Otherwise we have to handle an embedded web page.</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineminus">-    if (aDocument &amp;&amp; typeof(aDocument) == &quot;object&quot;) {</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineminus">-      owner = this.window.gBrowser.getBrowserForDocument(aDocument);</span>
<a href="#l6.26"></a><span id="l6.26"> </span>
<a href="#l6.27"></a><span id="l6.27" class="difflineminus">-      if (!owner) {</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineminus">-        // If the document doesn't belong to a tab it will be a</span>
<a href="#l6.29"></a><span id="l6.29" class="difflineminus">-        // HTMLDocument of a browser element embedded inside a tab.</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineminus">-        // In such a case use the default window of the document.</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-        owner = aDocument.defaultView;</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineminus">-      }</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineminus">-    }</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineplus">+    // If we have a real document use its default view</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+    if (aDocument &amp;&amp; (typeof(aDocument) === &quot;object&quot;) &amp;&amp;</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineplus">+        &quot;defaultView&quot; in aDocument)</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineplus">+      win = aDocument.defaultView;</span>
<a href="#l6.38"></a><span id="l6.38"> </span>
<a href="#l6.39"></a><span id="l6.39" class="difflineminus">-    // If no owner has been specified, fallback to the selected tab browser</span>
<a href="#l6.40"></a><span id="l6.40" class="difflineminus">-    owner = owner || this.window.gBrowser.selectedBrowser;</span>
<a href="#l6.41"></a><span id="l6.41" class="difflineplus">+    // If no document has been specified, fallback to the default view of the</span>
<a href="#l6.42"></a><span id="l6.42" class="difflineplus">+    // currently selected tab browser</span>
<a href="#l6.43"></a><span id="l6.43" class="difflineplus">+    win = win || this.window.gBrowser.selectedBrowser.contentWindow;</span>
<a href="#l6.44"></a><span id="l6.44"> </span>
<a href="#l6.45"></a><span id="l6.45">     // Wait until the content in the tab has been loaded</span>
<a href="#l6.46"></a><span id="l6.46">     this.waitFor(function() {</span>
<a href="#l6.47"></a><span id="l6.47" class="difflineminus">-      return this.isLoaded(owner);</span>
<a href="#l6.48"></a><span id="l6.48" class="difflineplus">+      return this.isLoaded(win);</span>
<a href="#l6.49"></a><span id="l6.49">     }, &quot;controller.waitForPageLoad(): Timeout waiting for page loaded.&quot;,</span>
<a href="#l6.50"></a><span id="l6.50" class="difflineminus">-      timeout, aInterval, this);</span>
<a href="#l6.51"></a><span id="l6.51" class="difflineplus">+       timeout, aInterval, this);</span>
<a href="#l6.52"></a><span id="l6.52" class="difflineplus">+</span>
<a href="#l6.53"></a><span id="l6.53">     frame.events.pass({'function':'controller.waitForPageLoad()'});</span>
<a href="#l6.54"></a><span id="l6.54">   }</span>
<a href="#l6.55"></a><span id="l6.55"> }</span>
<a href="#l6.56"></a><span id="l6.56"> </span>
<a href="#l6.57"></a><span id="l6.57"> controllerAdditions = {</span>
<a href="#l6.58"></a><span id="l6.58">   'Browser:Preferences':preferencesAdditions,</span>
<a href="#l6.59"></a><span id="l6.59">   'navigator:browser'  :browserAdditions,</span>
<a href="#l6.60"></a><span id="l6.60"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -112,28 +112,31 @@ var loadFile = function(path, collector)</span>
<a href="#l7.4"></a><span id="l7.4">   }</span>
<a href="#l7.5"></a><span id="l7.5">   </span>
<a href="#l7.6"></a><span id="l7.6">   if (collector != undefined) {</span>
<a href="#l7.7"></a><span id="l7.7">     collector.current_file = file;</span>
<a href="#l7.8"></a><span id="l7.8">     collector.current_path = path;</span>
<a href="#l7.9"></a><span id="l7.9">   }</span>
<a href="#l7.10"></a><span id="l7.10">   try {</span>
<a href="#l7.11"></a><span id="l7.11">     loader.loadSubScript(uri, module, &quot;UTF-8&quot;);</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-  } catch(e) {</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-    events.fail(e);</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+  } catch (e) {</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+    events.fail({'exception' : e});</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineplus">+</span>
<a href="#l7.17"></a><span id="l7.17">     var obj = {</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineminus">-      'filename':path,</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineminus">-      'passed':false,</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-      'failed':true,</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineminus">-      'passes':0,</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineminus">-      'fails' :1,</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineminus">-      'name'  :'Unknown Test',</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineplus">+      'filename': path,</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineplus">+      'passed': 0,</span>
<a href="#l7.26"></a><span id="l7.26" class="difflineplus">+      'failed': 1,</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineplus">+      'passes': [ ],</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineplus">+      'fails' : [{'exception' : {</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineplus">+                     message: e.message,</span>
<a href="#l7.30"></a><span id="l7.30" class="difflineplus">+                     filename: e.filename,</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineplus">+                     lineNumber: e.lineNumber}}],</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+      'name'  : '&lt;TOP_LEVEL&gt;'</span>
<a href="#l7.33"></a><span id="l7.33">     };</span>
<a href="#l7.34"></a><span id="l7.34">     events.fireEvent('endTest', obj);</span>
<a href="#l7.35"></a><span id="l7.35" class="difflineminus">-    Components.utils.reportError(e);</span>
<a href="#l7.36"></a><span id="l7.36">   }</span>
<a href="#l7.37"></a><span id="l7.37">   </span>
<a href="#l7.38"></a><span id="l7.38">   module.__file__ = path;</span>
<a href="#l7.39"></a><span id="l7.39">   module.__uri__ = uri;</span>
<a href="#l7.40"></a><span id="l7.40">   return module;</span>
<a href="#l7.41"></a><span id="l7.41"> }</span>
<a href="#l7.42"></a><span id="l7.42"> </span>
<a href="#l7.43"></a><span id="l7.43"> function registerFunction (name, func) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -46,69 +46,65 @@ const Cu = Components.utils;</span>
<a href="#l8.4"></a><span id="l8.4"> var mozmill = Cu.import('resource://mozmill/modules/mozmill.js');</span>
<a href="#l8.5"></a><span id="l8.5">   </span>
<a href="#l8.6"></a><span id="l8.6"> // Observer for new top level windows</span>
<a href="#l8.7"></a><span id="l8.7"> var windowObserver = {</span>
<a href="#l8.8"></a><span id="l8.8">   observe: function(subject, topic, data) {</span>
<a href="#l8.9"></a><span id="l8.9">     attachEventListeners(subject);</span>
<a href="#l8.10"></a><span id="l8.10">   }</span>
<a href="#l8.11"></a><span id="l8.11"> };</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-  </span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+</span>
<a href="#l8.14"></a><span id="l8.14"> /**</span>
<a href="#l8.15"></a><span id="l8.15">  * Attach event listeners</span>
<a href="#l8.16"></a><span id="l8.16">  */</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-function attachEventListeners(window) {</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineminus">-  window.addEventListener(&quot;load&quot;, function (event) {</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineminus">-    window.mozmillDocumentLoaded = true;</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineplus">+function attachEventListeners(aWindow) {</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineplus">+  aWindow.addEventListener(&quot;load&quot;, function (event) {</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineplus">+    aWindow.mozmillDocumentLoaded = true;</span>
<a href="#l8.23"></a><span id="l8.23">  </span>
<a href="#l8.24"></a><span id="l8.24" class="difflineminus">-    if (window.gBrowser) {</span>
<a href="#l8.25"></a><span id="l8.25" class="difflineplus">+    if (&quot;gBrowser&quot; in aWindow) {</span>
<a href="#l8.26"></a><span id="l8.26">       // Page is ready</span>
<a href="#l8.27"></a><span id="l8.27" class="difflineminus">-      window.gBrowser.addEventListener(&quot;load&quot;, function (event) {</span>
<a href="#l8.28"></a><span id="l8.28" class="difflineminus">-        // this is the content document of the loaded page.</span>
<a href="#l8.29"></a><span id="l8.29" class="difflineplus">+      aWindow.gBrowser.addEventListener(&quot;load&quot;, function (event) {</span>
<a href="#l8.30"></a><span id="l8.30">         var doc = event.originalTarget;</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-        var tab = window.gBrowser.getBrowserForDocument(doc);</span>
<a href="#l8.32"></a><span id="l8.32"> </span>
<a href="#l8.33"></a><span id="l8.33" class="difflineminus">-        if (tab) {</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineminus">-          //dump(&quot;*** Loaded tab: location=&quot; + doc.location + &quot;, baseURI=&quot; + doc.baseURI + &quot;\n&quot;);</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineminus">-          tab.mozmillDocumentLoaded = true;</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineminus">-        } else {</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineminus">-          //dump(&quot;*** Loaded HTML location=&quot; + doc.location + &quot;, baseURI=&quot; + doc.baseURI + &quot;\n&quot;);</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineplus">+        // Only update the flag if we have a document as target</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineplus">+        if (&quot;defaultView&quot; in doc) {</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineplus">+          // dump(&quot;*** Window content loaded: &quot; + doc + &quot;, &quot; + doc.location + &quot;, baseURI=&quot; + doc.baseURI + &quot;\n&quot;);</span>
<a href="#l8.41"></a><span id="l8.41">           doc.defaultView.mozmillDocumentLoaded = true;</span>
<a href="#l8.42"></a><span id="l8.42">         }</span>
<a href="#l8.43"></a><span id="l8.43">       }, true);</span>
<a href="#l8.44"></a><span id="l8.44">  </span>
<a href="#l8.45"></a><span id="l8.45">       // Note: Error pages will never fire a &quot;load&quot; event. For those we</span>
<a href="#l8.46"></a><span id="l8.46">       // have to wait for the &quot;DOMContentLoaded&quot; event. That's the final state.</span>
<a href="#l8.47"></a><span id="l8.47">       // Error pages will always have a baseURI starting with</span>
<a href="#l8.48"></a><span id="l8.48">       // &quot;about:&quot; followed by &quot;error&quot; or &quot;blocked&quot;.</span>
<a href="#l8.49"></a><span id="l8.49" class="difflineminus">-      window.gBrowser.addEventListener(&quot;DOMContentLoaded&quot;, function (event) {</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineplus">+      aWindow.gBrowser.addEventListener(&quot;DOMContentLoaded&quot;, function (event) {</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineplus">+        var doc = event.originalTarget;</span>
<a href="#l8.52"></a><span id="l8.52" class="difflineplus">+</span>
<a href="#l8.53"></a><span id="l8.53">         var errorRegex = /about:.+(error)|(blocked)\?/;</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineminus">-        if (errorRegex.exec(event.target.baseURI)) {</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineplus">+        if (errorRegex.exec(doc.baseURI)) {</span>
<a href="#l8.56"></a><span id="l8.56">           // Wait about 1s to be sure the DOM is ready</span>
<a href="#l8.57"></a><span id="l8.57">           mozmill.utils.sleep(1000);</span>
<a href="#l8.58"></a><span id="l8.58"> </span>
<a href="#l8.59"></a><span id="l8.59" class="difflineminus">-          var tab = window.gBrowser.getBrowserForDocument(event.target);</span>
<a href="#l8.60"></a><span id="l8.60" class="difflineminus">-          if (tab)</span>
<a href="#l8.61"></a><span id="l8.61" class="difflineminus">-            tab.mozmillDocumentLoaded = true;</span>
<a href="#l8.62"></a><span id="l8.62" class="difflineplus">+          // Only update the flag if we have a document as target</span>
<a href="#l8.63"></a><span id="l8.63" class="difflineplus">+          if (&quot;defaultView&quot; in doc) {</span>
<a href="#l8.64"></a><span id="l8.64" class="difflineplus">+            // dump(&quot;*** Window content loaded: &quot; + doc + &quot;, &quot; + doc.location + &quot;, baseURI=&quot; + doc.baseURI + &quot;\n&quot;);</span>
<a href="#l8.65"></a><span id="l8.65" class="difflineplus">+            doc.defaultView.mozmillDocumentLoaded = true;</span>
<a href="#l8.66"></a><span id="l8.66" class="difflineplus">+          }</span>
<a href="#l8.67"></a><span id="l8.67">         }</span>
<a href="#l8.68"></a><span id="l8.68">       }, true);</span>
<a href="#l8.69"></a><span id="l8.69">   </span>
<a href="#l8.70"></a><span id="l8.70">       // Page is about to get unloaded</span>
<a href="#l8.71"></a><span id="l8.71" class="difflineminus">-      window.gBrowser.addEventListener(&quot;beforeunload&quot;, function (event) {</span>
<a href="#l8.72"></a><span id="l8.72" class="difflineplus">+      aWindow.gBrowser.addEventListener(&quot;beforeunload&quot;, function (event) {</span>
<a href="#l8.73"></a><span id="l8.73">         var doc = event.originalTarget;</span>
<a href="#l8.74"></a><span id="l8.74" class="difflineminus">-        var tab = window.gBrowser.getBrowserForDocument(event.target);</span>
<a href="#l8.75"></a><span id="l8.75"> </span>
<a href="#l8.76"></a><span id="l8.76" class="difflineminus">-        if (tab) {</span>
<a href="#l8.77"></a><span id="l8.77" class="difflineminus">-          //dump(&quot;*** Unload tab: location=&quot; + doc.location + &quot;, baseURI=&quot; + doc.baseURI + &quot;\n&quot;);</span>
<a href="#l8.78"></a><span id="l8.78" class="difflineminus">-          tab.mozmillDocumentLoaded = false;</span>
<a href="#l8.79"></a><span id="l8.79" class="difflineminus">-        } else {</span>
<a href="#l8.80"></a><span id="l8.80" class="difflineminus">-          //dump(&quot;*** Unload HTML location=&quot; + doc.location + &quot;, baseURI=&quot; + doc.baseURI + &quot;\n&quot;);</span>
<a href="#l8.81"></a><span id="l8.81" class="difflineplus">+        // Only update the flag if we have a document as target</span>
<a href="#l8.82"></a><span id="l8.82" class="difflineplus">+        if (&quot;defaultView&quot; in doc) {</span>
<a href="#l8.83"></a><span id="l8.83" class="difflineplus">+          // dump(&quot;*** Window content unloaded: &quot; + doc + &quot;, &quot; + doc.location + &quot;, baseURI=&quot; + doc.baseURI + &quot;\n&quot;);</span>
<a href="#l8.84"></a><span id="l8.84">           doc.defaultView.mozmillDocumentLoaded = false;</span>
<a href="#l8.85"></a><span id="l8.85">         }</span>
<a href="#l8.86"></a><span id="l8.86" class="difflineminus">-</span>
<a href="#l8.87"></a><span id="l8.87">       }, true);</span>
<a href="#l8.88"></a><span id="l8.88">     }</span>
<a href="#l8.89"></a><span id="l8.89">   }, false);</span>
<a href="#l8.90"></a><span id="l8.90"> }</span>
<a href="#l8.91"></a><span id="l8.91">   </span>
<a href="#l8.92"></a><span id="l8.92"> /**</span>
<a href="#l8.93"></a><span id="l8.93">  * Initialize Mozmill</span>
<a href="#l8.94"></a><span id="l8.94">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/test/resources/mozmill/setup.py</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/test/resources/mozmill/setup.py</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -36,17 +36,17 @@</span>
<a href="#l9.4"></a><span id="l9.4"> # ***** END LICENSE BLOCK *****</span>
<a href="#l9.5"></a><span id="l9.5"> </span>
<a href="#l9.6"></a><span id="l9.6"> from setuptools import setup, find_packages</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> desc = &quot;&quot;&quot;UI Automation tool for Mozilla applications.&quot;&quot;&quot;</span>
<a href="#l9.9"></a><span id="l9.9"> summ = &quot;&quot;&quot;A tool for full UI automation of Mozilla applications.&quot;&quot;&quot;</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> PACKAGE_NAME = &quot;mozmill&quot;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-PACKAGE_VERSION = &quot;1.5.4b4&quot;</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+PACKAGE_VERSION = &quot;1.5.6&quot;</span>
<a href="#l9.14"></a><span id="l9.14"> </span>
<a href="#l9.15"></a><span id="l9.15"> setup(name=PACKAGE_NAME,</span>
<a href="#l9.16"></a><span id="l9.16">       version=PACKAGE_VERSION,</span>
<a href="#l9.17"></a><span id="l9.17">       description=desc,</span>
<a href="#l9.18"></a><span id="l9.18">       long_description=summ,</span>
<a href="#l9.19"></a><span id="l9.19">       author='Mozilla, Mikeal Rogers',</span>
<a href="#l9.20"></a><span id="l9.20">       author_email='mikeal.rogers@gmail.com',</span>
<a href="#l9.21"></a><span id="l9.21">       url='http://github.com/mozautomation/mozmill',</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineat">@@ -57,18 +57,18 @@ setup(name=PACKAGE_NAME,</span>
<a href="#l9.23"></a><span id="l9.23">       zip_safe=False,</span>
<a href="#l9.24"></a><span id="l9.24">       entry_points=&quot;&quot;&quot;</span>
<a href="#l9.25"></a><span id="l9.25">           [console_scripts]</span>
<a href="#l9.26"></a><span id="l9.26">           mozmill = mozmill:cli</span>
<a href="#l9.27"></a><span id="l9.27">           mozmill-thunderbird = mozmill:tbird_cli</span>
<a href="#l9.28"></a><span id="l9.28">           mozmill-restart = mozmill:restart_cli</span>
<a href="#l9.29"></a><span id="l9.29">         &quot;&quot;&quot;,</span>
<a href="#l9.30"></a><span id="l9.30">       platforms =['Any'],</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineminus">-      install_requires = ['jsbridge == 2.4.4b4',</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineminus">-                          'mozrunner == 2.5.5b4',</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+      install_requires = ['jsbridge == 2.4.6',</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+                          'mozrunner == 2.5.7',</span>
<a href="#l9.35"></a><span id="l9.35">                           'ManifestDestiny == 0.2.2'],</span>
<a href="#l9.36"></a><span id="l9.36">       classifiers=['Development Status :: 4 - Beta',</span>
<a href="#l9.37"></a><span id="l9.37">                    'Environment :: Console',</span>
<a href="#l9.38"></a><span id="l9.38">                    'Intended Audience :: Developers',</span>
<a href="#l9.39"></a><span id="l9.39">                    'License :: OSI Approved :: Apache Software License',</span>
<a href="#l9.40"></a><span id="l9.40">                    'Operating System :: OS Independent',</span>
<a href="#l9.41"></a><span id="l9.41">                    'Topic :: Software Development :: Libraries :: Python Modules',</span>
<a href="#l9.42"></a><span id="l9.42">                   ]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1">new file mode 100644</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineminus">--- /dev/null</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineplus">+++ b/mail/test/resources/mozmill/test/files/iframe.html</span>
<a href="#l10.4"></a><span id="l10.4" class="difflineat">@@ -0,0 +1,17 @@</span>
<a href="#l10.5"></a><span id="l10.5" class="difflineplus">+&lt;html&gt;</span>
<a href="#l10.6"></a><span id="l10.6" class="difflineplus">+&lt;head&gt;</span>
<a href="#l10.7"></a><span id="l10.7" class="difflineplus">+  &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span>
<a href="#l10.8"></a><span id="l10.8" class="difflineplus">+  &lt;title&gt;Iframe test page &lt;/title&gt;</span>
<a href="#l10.9"></a><span id="l10.9" class="difflineplus">+  &lt;script type=&quot;text/javascript&quot;&gt;</span>
<a href="#l10.10"></a><span id="l10.10" class="difflineplus">+    function loadFrame() {</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineplus">+      var frame = window.document.getElementById(&quot;iframe&quot;);</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+      frame.src = &quot;http://www.mozilla.com&quot;;</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+    }</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+  &lt;/script&gt;</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineplus">+&lt;/head&gt;</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineplus">+&lt;body&gt;</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineplus">+  &lt;h2&gt;This iframe should load&lt;/h2&gt;</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineplus">+  &lt;p id=&quot;load&quot; onclick=&quot;loadFrame()&quot;&gt;Load&lt;/p&gt;</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineplus">+  &lt;iframe id=&quot;iframe&quot;/&gt;</span>
<a href="#l10.20"></a><span id="l10.20" class="difflineplus">+&lt;/body&gt;</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineplus">+&lt;/html&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1">new file mode 100644</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineminus">--- /dev/null</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineplus">+++ b/mail/test/resources/mozmill/test/test_setupmodulereporting.js</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineat">@@ -0,0 +1,35 @@</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineplus">+var elementslib = {}; </span>
<a href="#l11.6"></a><span id="l11.6" class="difflineplus">+Components.utils.import('resource://mozmill/modules/elementslib.js', elementslib);</span>
<a href="#l11.7"></a><span id="l11.7" class="difflineplus">+var mozmill = {}; </span>
<a href="#l11.8"></a><span id="l11.8" class="difflineplus">+Components.utils.import('resource://mozmill/modules/mozmill.js', mozmill);</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineplus">+</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineplus">+var setupModule = function(){</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineplus">+  controller = mozmill.getBrowserController();</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+  controller.open(&quot;http://mozilla.org&quot;);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+}</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+var setupTest = function(){</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+  controller.open(&quot;http://mozilla.org&quot;);</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineplus">+  controller.waitForPageLoad();</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+}</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineplus">+</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineplus">+var testSetupModuleReporting = function() {</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineplus">+  // We should have mozilla.org page open</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+  var q = new elementslib.ID(controller.tabs.activeTab, &quot;q&quot;);</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+  controller.type(q, &quot;firefox&quot;);</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+  </span>
<a href="#l11.25"></a><span id="l11.25" class="difflineplus">+  var btn = new elementslib.ID(controller.tabs.activeTab, &quot;quick-search-btn&quot;);</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineplus">+  controller.click(btn);</span>
<a href="#l11.27"></a><span id="l11.27" class="difflineplus">+</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineplus">+  controller.waitForPageLoad();</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineplus">+}</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineplus">+</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineplus">+var teardownTest = function(){</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+  controller.open(&quot;http://www.google.com&quot;);</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineplus">+  controller.waitForPageLoad();</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineplus">+}</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineplus">+</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineplus">+var teardownModule = function(){</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineplus">+  controller.open(&quot;http://www.bing.com&quot;);</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineplus">+  controller.waitForPageLoad();</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/test/resources/mozmill/test/test_waitForPageLoad.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/test/resources/mozmill/test/test_waitForPageLoad.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -5,18 +5,17 @@ const LOCATIONS = [</span>
<a href="#l12.4"></a><span id="l12.4">   {url : &quot;http://addons.mozilla.org&quot;, type: &quot;id&quot;, value : &quot;search-q&quot;},</span>
<a href="#l12.5"></a><span id="l12.5"> </span>
<a href="#l12.6"></a><span id="l12.6">   // FTP pages</span>
<a href="#l12.7"></a><span id="l12.7">   {url : &quot;ftp://ftp.mozilla.org/pub/&quot;, type : &quot;link&quot;, value : &quot;firefox&quot; },</span>
<a href="#l12.8"></a><span id="l12.8"> </span>
<a href="#l12.9"></a><span id="l12.9">   // Error pages</span>
<a href="#l12.10"></a><span id="l12.10">  {url : &quot;https://mur.at&quot;, type: &quot;id&quot;, value : &quot;cert_domain_link&quot;},</span>
<a href="#l12.11"></a><span id="l12.11">  {url : &quot;http://www.mozilla.com/firefox/its-a-trap.html&quot;, type: &quot;id&quot;, value : &quot;ignoreWarningButton&quot;},</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">- {url : &quot;https://mozilla.org/&quot;, type: &quot;id&quot;, value : &quot;getMeOutOfHereButton&quot;},</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">- {url : &quot;http://people.mozilla.org/~ctalbert/testpages/iframetest.html&quot;, type: &quot;id&quot;, value: &quot;iframe&quot;}</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+ {url : &quot;https://mozilla.org/&quot;, type: &quot;id&quot;, value : &quot;getMeOutOfHereButton&quot;}</span>
<a href="#l12.15"></a><span id="l12.15"> ];</span>
<a href="#l12.16"></a><span id="l12.16"> </span>
<a href="#l12.17"></a><span id="l12.17"> </span>
<a href="#l12.18"></a><span id="l12.18"> var setupTest = function() {</span>
<a href="#l12.19"></a><span id="l12.19">   controller = mozmill.getBrowserController();</span>
<a href="#l12.20"></a><span id="l12.20"> }</span>
<a href="#l12.21"></a><span id="l12.21"> </span>
<a href="#l12.22"></a><span id="l12.22"> var testWaitForPageLoad = function() {</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineat">@@ -122,24 +121,31 @@ var testWaitForPageLoad = function() {</span>
<a href="#l12.24"></a><span id="l12.24">   controller.open(LOCATIONS[0].url);</span>
<a href="#l12.25"></a><span id="l12.25"> </span>
<a href="#l12.26"></a><span id="l12.26">   var firstTab = controller.tabs.getTab(0);</span>
<a href="#l12.27"></a><span id="l12.27">   var element = new elementslib.ID(firstTab, LOCATIONS[1].value);</span>
<a href="#l12.28"></a><span id="l12.28">   controller.waitForPageLoad(firstTab);</span>
<a href="#l12.29"></a><span id="l12.29">   controller.assertNode(element);</span>
<a href="#l12.30"></a><span id="l12.30"> </span>
<a href="#l12.31"></a><span id="l12.31">   /**</span>
<a href="#l12.32"></a><span id="l12.32" class="difflineminus">-   * PART VII - Loading an embedded web page (discovery pane)</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineplus">+   * PART VII - Loading an iFrame</span>
<a href="#l12.34"></a><span id="l12.34">    */</span>
<a href="#l12.35"></a><span id="l12.35" class="difflineminus">-  controller.open(&quot;about:addons&quot;);</span>
<a href="#l12.36"></a><span id="l12.36" class="difflineplus">+</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineplus">+  // Load the container page</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineplus">+  var page = collector.addHttpResource('./files/') + &quot;iframe.html&quot;;</span>
<a href="#l12.39"></a><span id="l12.39" class="difflineplus">+  controller.open(page);</span>
<a href="#l12.40"></a><span id="l12.40">   controller.waitForPageLoad();</span>
<a href="#l12.41"></a><span id="l12.41"> </span>
<a href="#l12.42"></a><span id="l12.42" class="difflineminus">-  var browser = new elementslib.ID(controller.tabs.activeTab, &quot;discover-browser&quot;);</span>
<a href="#l12.43"></a><span id="l12.43" class="difflineminus">-  var doc = browser.getNode().contentDocument;</span>
<a href="#l12.44"></a><span id="l12.44" class="difflineplus">+  // Get trigger element and the controller for the iFrame</span>
<a href="#l12.45"></a><span id="l12.45" class="difflineplus">+  var trigger = new elementslib.Selector(controller.tabs.activeTab, &quot;#load&quot;);</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineplus">+  var frame = new elementslib.Selector(controller.tabs.activeTab, &quot;#iframe&quot;);</span>
<a href="#l12.47"></a><span id="l12.47" class="difflineplus">+  var frameWindow = frame.getNode().contentWindow;</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineplus">+  var frameController = new mozmill.controller.MozMillController(frameWindow);</span>
<a href="#l12.49"></a><span id="l12.49"> </span>
<a href="#l12.50"></a><span id="l12.50" class="difflineminus">-  // Before the real discovery pane gets loaded a blank page is shown</span>
<a href="#l12.51"></a><span id="l12.51" class="difflineminus">-  controller.waitForPageLoad(doc, 1000);</span>
<a href="#l12.52"></a><span id="l12.52" class="difflineminus">-  controller.assert(function () {</span>
<a href="#l12.53"></a><span id="l12.53" class="difflineminus">-    return doc.location.href === &quot;about:blank&quot;;</span>
<a href="#l12.54"></a><span id="l12.54" class="difflineminus">-  }, &quot;Initial page has been loaded, got '&quot; + doc.location +</span>
<a href="#l12.55"></a><span id="l12.55" class="difflineminus">-     &quot;' - expected 'about:blank'.&quot;);</span>
<a href="#l12.56"></a><span id="l12.56" class="difflineplus">+  // Trigger the loading of the iframe from the main controller</span>
<a href="#l12.57"></a><span id="l12.57" class="difflineplus">+  controller.click(trigger);</span>
<a href="#l12.58"></a><span id="l12.58" class="difflineplus">+  controller.waitForPageLoad(frameController.window.document);</span>
<a href="#l12.59"></a><span id="l12.59" class="difflineplus">+</span>
<a href="#l12.60"></a><span id="l12.60" class="difflineplus">+  // Once the iframe has been loaded assert that the element exists</span>
<a href="#l12.61"></a><span id="l12.61" class="difflineplus">+  var home = new elementslib.Selector(frameController.window.document, &quot;#home&quot;);</span>
<a href="#l12.62"></a><span id="l12.62" class="difflineplus">+  frameController.assertNode(home);</span>
<a href="#l12.63"></a><span id="l12.63"> }</span>
<a href="#l12.64"></a><span id="l12.64"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/test/resources/mozrunner/mozrunner/__init__.py</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/test/resources/mozrunner/mozrunner/__init__.py</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -135,17 +135,20 @@ class Profile(object):</span>
<a href="#l13.4"></a><span id="l13.4"> </span>
<a href="#l13.5"></a><span id="l13.5">     def __init__(self, binary=None, profile=None, addons=None,</span>
<a href="#l13.6"></a><span id="l13.6">                  preferences=None):</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8">         self.binary = binary</span>
<a href="#l13.9"></a><span id="l13.9"> </span>
<a href="#l13.10"></a><span id="l13.10">         self.create_new = not(bool(profile))</span>
<a href="#l13.11"></a><span id="l13.11">         if profile:</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-            self.profile = profile</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+            # Ensure we have a full path to the profile</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+            self.profile = os.path.abspath(os.path.expanduser(profile))</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+            if not os.path.exists(self.profile):</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineplus">+                os.makedirs(self.profile)</span>
<a href="#l13.17"></a><span id="l13.17">         else:</span>
<a href="#l13.18"></a><span id="l13.18">             self.profile = self.create_new_profile(self.binary)</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20">         self.addons_installed = []</span>
<a href="#l13.21"></a><span id="l13.21">         self.addons = addons or []</span>
<a href="#l13.22"></a><span id="l13.22"> </span>
<a href="#l13.23"></a><span id="l13.23">         ### set preferences from class preferences</span>
<a href="#l13.24"></a><span id="l13.24">         preferences = preferences or {}</span>
<a href="#l13.25"></a><span id="l13.25" class="difflineat">@@ -307,25 +310,27 @@ class FirefoxProfile(Profile):</span>
<a href="#l13.26"></a><span id="l13.26">                    # Don't restore the last open set of tabs if the browser has crashed</span>
<a href="#l13.27"></a><span id="l13.27">                    'browser.sessionstore.resume_from_crash': False,</span>
<a href="#l13.28"></a><span id="l13.28">                    # Don't check for the default web browser</span>
<a href="#l13.29"></a><span id="l13.29">                    'browser.shell.checkDefaultBrowser' : False,</span>
<a href="#l13.30"></a><span id="l13.30">                    # Don't warn on exit when multiple tabs are open</span>
<a href="#l13.31"></a><span id="l13.31">                    'browser.tabs.warnOnClose' : False,</span>
<a href="#l13.32"></a><span id="l13.32">                    # Don't warn when exiting the browser</span>
<a href="#l13.33"></a><span id="l13.33">                    'browser.warnOnQuit': False,</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineminus">-                   # Only install add-ons from the profile</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineminus">-                   'extensions.enabledScopes' : 1,</span>
<a href="#l13.36"></a><span id="l13.36" class="difflineminus">-                   # XXX: App-wide extensions are still installed until bug 660898</span>
<a href="#l13.37"></a><span id="l13.37" class="difflineminus">-                   #      is fixed. Use a workaround for now to disable it.</span>
<a href="#l13.38"></a><span id="l13.38" class="difflineplus">+                   # Only install add-ons from the profile and the application scope</span>
<a href="#l13.39"></a><span id="l13.39" class="difflineplus">+                   # Also ensure that those are not getting disabled.</span>
<a href="#l13.40"></a><span id="l13.40" class="difflineplus">+                   # see: https://developer.mozilla.org/en/Installing_extensions</span>
<a href="#l13.41"></a><span id="l13.41" class="difflineplus">+                   'extensions.enabledScopes' : 5,</span>
<a href="#l13.42"></a><span id="l13.42" class="difflineplus">+                   'extensions.autoDisableScopes' : 10,</span>
<a href="#l13.43"></a><span id="l13.43" class="difflineplus">+                   # Don't install distribution add-ons from the app folder</span>
<a href="#l13.44"></a><span id="l13.44">                    'extensions.installDistroAddons' : False,</span>
<a href="#l13.45"></a><span id="l13.45">                    # Dont' run the add-on compatibility check during start-up</span>
<a href="#l13.46"></a><span id="l13.46">                    'extensions.showMismatchUI' : False,</span>
<a href="#l13.47"></a><span id="l13.47">                    # Don't automatically update add-ons</span>
<a href="#l13.48"></a><span id="l13.48" class="difflineminus">-                   'extensions.update.enabled'    : False,</span>
<a href="#l13.49"></a><span id="l13.49" class="difflineplus">+                   'extensions.update.enabled' : False,</span>
<a href="#l13.50"></a><span id="l13.50">                    # Don't open a dialog to show available add-on updates</span>
<a href="#l13.51"></a><span id="l13.51">                    'extensions.update.notifyUser' : False,</span>
<a href="#l13.52"></a><span id="l13.52"> </span>
<a href="#l13.53"></a><span id="l13.53">                    # Disable addon compatibility checks</span>
<a href="#l13.54"></a><span id="l13.54">                    'extensions.checkCompatibility' : False,</span>
<a href="#l13.55"></a><span id="l13.55">                    'extensions.checkCompatibility.4.0' : False,</span>
<a href="#l13.56"></a><span id="l13.56">                    'extensions.checkCompatibility.4.0b' : False,</span>
<a href="#l13.57"></a><span id="l13.57">                    'extensions.checkCompatibility.4.2' : False,</span>
<a href="#l13.58"></a><span id="l13.58" class="difflineat">@@ -335,16 +340,23 @@ class FirefoxProfile(Profile):</span>
<a href="#l13.59"></a><span id="l13.59">                    'extensions.checkCompatibility.5.0' : False,</span>
<a href="#l13.60"></a><span id="l13.60">                    'extensions.checkCompatibility.5.0a' : False,</span>
<a href="#l13.61"></a><span id="l13.61">                    'extensions.checkCompatibility.5.0b' : False,</span>
<a href="#l13.62"></a><span id="l13.62">                    'extensions.checkCompatibility.5.0pre' : False,</span>
<a href="#l13.63"></a><span id="l13.63">                    'extensions.checkCompatibility.6.0' : False,</span>
<a href="#l13.64"></a><span id="l13.64">                    'extensions.checkCompatibility.6.0a' : False,</span>
<a href="#l13.65"></a><span id="l13.65">                    'extensions.checkCompatibility.6.0b' : False,</span>
<a href="#l13.66"></a><span id="l13.66">                    'extensions.checkCompatibility.6.0pre' : False,</span>
<a href="#l13.67"></a><span id="l13.67" class="difflineplus">+                   'extensions.checkCompatibility.7.0' : False,</span>
<a href="#l13.68"></a><span id="l13.68" class="difflineplus">+                   'extensions.checkCompatibility.7.0a' : False,</span>
<a href="#l13.69"></a><span id="l13.69" class="difflineplus">+                   'extensions.checkCompatibility.8.0' : False,</span>
<a href="#l13.70"></a><span id="l13.70" class="difflineplus">+                   'extensions.checkCompatibility.8.0a' : False,</span>
<a href="#l13.71"></a><span id="l13.71" class="difflineplus">+                   'extensions.checkCompatibility.9.0' : False,</span>
<a href="#l13.72"></a><span id="l13.72" class="difflineplus">+                   'extensions.checkCompatibility.9.0a' : False,</span>
<a href="#l13.73"></a><span id="l13.73" class="difflineplus">+                   'extensions.checkCompatibility.nightly' : False,</span>
<a href="#l13.74"></a><span id="l13.74">                    }</span>
<a href="#l13.75"></a><span id="l13.75"> </span>
<a href="#l13.76"></a><span id="l13.76">     @property</span>
<a href="#l13.77"></a><span id="l13.77">     def names(self):</span>
<a href="#l13.78"></a><span id="l13.78">         if sys.platform == 'darwin':</span>
<a href="#l13.79"></a><span id="l13.79">             return ['firefox', 'minefield', 'shiretoko']</span>
<a href="#l13.80"></a><span id="l13.80">         if sys.platform.startswith('linux') or sys.platform in ('sunos5', 'solaris'):</span>
<a href="#l13.81"></a><span id="l13.81">             return ['firefox', 'mozilla-firefox', 'iceweasel']</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mail/test/resources/mozrunner/setup.py</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mail/test/resources/mozrunner/setup.py</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -36,17 +36,17 @@</span>
<a href="#l14.4"></a><span id="l14.4"> # ***** END LICENSE BLOCK *****</span>
<a href="#l14.5"></a><span id="l14.5"> </span>
<a href="#l14.6"></a><span id="l14.6"> from setuptools import setup, find_packages</span>
<a href="#l14.7"></a><span id="l14.7"> import sys</span>
<a href="#l14.8"></a><span id="l14.8"> </span>
<a href="#l14.9"></a><span id="l14.9"> desc = &quot;&quot;&quot;Reliable start/stop/configuration of Mozilla Applications (Firefox, Thunderbird, etc.)&quot;&quot;&quot;</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11"> PACKAGE_NAME = &quot;mozrunner&quot;</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-PACKAGE_VERSION = &quot;2.5.5b4&quot;</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+PACKAGE_VERSION = &quot;2.5.7&quot;</span>
<a href="#l14.14"></a><span id="l14.14"> </span>
<a href="#l14.15"></a><span id="l14.15"> deps = []</span>
<a href="#l14.16"></a><span id="l14.16"> </span>
<a href="#l14.17"></a><span id="l14.17"> # we only support python 2 right now</span>
<a href="#l14.18"></a><span id="l14.18"> assert sys.version_info[0] == 2</span>
<a href="#l14.19"></a><span id="l14.19"> </span>
<a href="#l14.20"></a><span id="l14.20"> # version-dependent dependencies</span>
<a href="#l14.21"></a><span id="l14.21"> if sys.version_info[1] &lt; 6:</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

