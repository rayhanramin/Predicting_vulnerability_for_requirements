<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 23245:1ac48db6177e9ea975af601c25770fc50db1b6dc</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 1ac48db6177e9ea975af601c25770fc50db1b6dc" />
<meta property="og:url" content="/comm-central/rev/1ac48db6177e9ea975af601c25770fc50db1b6dc" />
<meta property="og:description" content="Bug 1434737 - Move to ChromeUtils.import() - Chat part. r=florian" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 1ac48db6177e9ea975af601c25770fc50db1b6dc 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/1ac48db6177e9ea975af601c25770fc50db1b6dc">shortlog</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/1ac48db6177e9ea975af601c25770fc50db1b6dc">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc">files</a> |
changeset |
<a href="/comm-central/raw-rev/1ac48db6177e9ea975af601c25770fc50db1b6dc">raw</a>  | <a href="/comm-central/archive/1ac48db6177e9ea975af601c25770fc50db1b6dc.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1434737">Bug 1434737</a> - Move to ChromeUtils.import() - Chat part. r=florian
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#80;&#104;&#105;&#108;&#105;&#112;&#112;&#32;&#75;&#101;&#119;&#105;&#115;&#99;&#104;&#32;&#60;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#107;&#101;&#119;&#105;&#115;&#46;&#99;&#104;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 31 Jan 2018 23:25:50 +0100</td></tr>

<tr>
 <td>changeset 23245</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/1ac48db6177e9ea975af601c25770fc50db1b6dc">1ac48db6177e9ea975af601c25770fc50db1b6dc</a></td>
</tr>



<tr>
<td>parent 23244</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/ed473b3278b720c0df927d0b018cb0907d749e81">ed473b3278b720c0df927d0b018cb0907d749e81</a>
</td>
</tr>

<tr>
<td>child 23246</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/932a8eee8f8ce33bfc5923b3effc51d9cf0e0d3b">932a8eee8f8ce33bfc5923b3effc51d9cf0e0d3b</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=1ac48db6177e9ea975af601c25770fc50db1b6dc">14051</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Sun, 04 Feb 2018 23:03:45 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@8ebb03cbea92 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=8ebb03cbea92cf0f8d60745ec5b3b99140eacf07">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=8ebb03cbea92cf0f8d60745ec5b3b99140eacf07&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=8ebb03cbea92cf0f8d60745ec5b3b99140eacf07&newProject=comm-central&newRevision=ed473b3278b720c0df927d0b018cb0907d749e81&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=8ebb03cbea92cf0f8d60745ec5b3b99140eacf07&newProject=comm-central&newRevision=ed473b3278b720c0df927d0b018cb0907d749e81&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=8ebb03cbea92cf0f8d60745ec5b3b99140eacf07&newProject=comm-central&newRevision=ed473b3278b720c0df927d0b018cb0907d749e81&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28florian%29&revcount=50">florian</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1434737">1434737</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1434737">Bug 1434737</a> - Move to ChromeUtils.import() - Chat part. r=florian

MozReview-Commit-ID: 4nli30dK4Lu</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imAccounts.js">chat/components/src/imAccounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imAccounts.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imAccounts.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imAccounts.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imAccounts.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imAccounts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCommands.js">chat/components/src/imCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCommands.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCommands.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCommands.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCommands.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCommands.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imContacts.js">chat/components/src/imContacts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imContacts.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imContacts.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imContacts.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imContacts.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imContacts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imConversations.js">chat/components/src/imConversations.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imConversations.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imConversations.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imConversations.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imConversations.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imConversations.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCore.js">chat/components/src/imCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCore.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCore.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCore.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCore.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/imCore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/logger.js">chat/components/src/logger.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/logger.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/logger.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/logger.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/logger.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/logger.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/smileProtocolHandler.js">chat/components/src/smileProtocolHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/smileProtocolHandler.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/smileProtocolHandler.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/smileProtocolHandler.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/smileProtocolHandler.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/smileProtocolHandler.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_accounts.js">chat/components/src/test/test_accounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_accounts.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_accounts.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_accounts.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_accounts.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_accounts.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_commands.js">chat/components/src/test/test_commands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_commands.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_commands.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_commands.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_commands.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_commands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_conversations.js">chat/components/src/test/test_conversations.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_conversations.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_conversations.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_conversations.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_conversations.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_conversations.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_logger.js">chat/components/src/test/test_logger.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_logger.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_logger.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_logger.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_logger.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/components/src/test/test_logger.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/browserRequest.js">chat/content/browserRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/browserRequest.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/browserRequest.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/browserRequest.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/browserRequest.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/browserRequest.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/convbrowser.xml">chat/content/convbrowser.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/convbrowser.xml">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/convbrowser.xml">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/convbrowser.xml">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/convbrowser.xml">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/content/convbrowser.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/DNS.jsm">chat/modules/DNS.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/DNS.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/DNS.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/DNS.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/DNS.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/DNS.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/ToLocaleFormat.jsm">chat/modules/ToLocaleFormat.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/ToLocaleFormat.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/ToLocaleFormat.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/ToLocaleFormat.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/ToLocaleFormat.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/ToLocaleFormat.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/hiddenWindow.jsm">chat/modules/hiddenWindow.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/hiddenWindow.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/hiddenWindow.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/hiddenWindow.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/hiddenWindow.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/hiddenWindow.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imContentSink.jsm">chat/modules/imContentSink.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imContentSink.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imContentSink.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imContentSink.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imContentSink.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imContentSink.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imServices.jsm">chat/modules/imServices.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imServices.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imServices.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imServices.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imServices.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imServices.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imSmileys.jsm">chat/modules/imSmileys.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imSmileys.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imSmileys.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imSmileys.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imSmileys.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imSmileys.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imStatusUtils.jsm">chat/modules/imStatusUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imStatusUtils.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imStatusUtils.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imStatusUtils.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imStatusUtils.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imStatusUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imTextboxUtils.jsm">chat/modules/imTextboxUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imTextboxUtils.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imTextboxUtils.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imTextboxUtils.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imTextboxUtils.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imTextboxUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imThemes.jsm">chat/modules/imThemes.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imThemes.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imThemes.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imThemes.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imThemes.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imThemes.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imXPCOMUtils.jsm">chat/modules/imXPCOMUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imXPCOMUtils.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imXPCOMUtils.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imXPCOMUtils.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imXPCOMUtils.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/imXPCOMUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/jsProtoHelper.jsm">chat/modules/jsProtoHelper.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/jsProtoHelper.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/jsProtoHelper.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/jsProtoHelper.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/jsProtoHelper.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/jsProtoHelper.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/socket.jsm">chat/modules/socket.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/socket.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/socket.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/socket.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/socket.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/socket.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_ArrayBufferUtils.js">chat/modules/test/test_ArrayBufferUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_ArrayBufferUtils.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_ArrayBufferUtils.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_ArrayBufferUtils.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_ArrayBufferUtils.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_ArrayBufferUtils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_NormalizedMap.js">chat/modules/test/test_NormalizedMap.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_NormalizedMap.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_NormalizedMap.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_NormalizedMap.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_NormalizedMap.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_NormalizedMap.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_filtering.js">chat/modules/test/test_filtering.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_filtering.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_filtering.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_filtering.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_filtering.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/modules/test/test_filtering.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/facebook/facebook.js">chat/protocols/facebook/facebook.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/facebook/facebook.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/facebook/facebook.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/facebook/facebook.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/facebook/facebook.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/facebook/facebook.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/gtalk/gtalk.js">chat/protocols/gtalk/gtalk.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/gtalk/gtalk.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/gtalk/gtalk.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/gtalk/gtalk.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/gtalk/gtalk.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/gtalk/gtalk.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/irc.js">chat/protocols/irc/irc.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/irc.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/irc.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/irc.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/irc.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/irc.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircBase.jsm">chat/protocols/irc/ircBase.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircBase.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircBase.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircBase.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircBase.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircBase.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCAP.jsm">chat/protocols/irc/ircCAP.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCAP.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCAP.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCAP.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCAP.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCAP.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCTCP.jsm">chat/protocols/irc/ircCTCP.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCTCP.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCTCP.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCTCP.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCTCP.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCTCP.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCommands.jsm">chat/protocols/irc/ircCommands.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCommands.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCommands.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCommands.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCommands.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircCommands.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircDCC.jsm">chat/protocols/irc/ircDCC.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircDCC.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircDCC.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircDCC.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircDCC.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircDCC.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircHandlers.jsm">chat/protocols/irc/ircHandlers.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircHandlers.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircHandlers.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircHandlers.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircHandlers.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircHandlers.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircISUPPORT.jsm">chat/protocols/irc/ircISUPPORT.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircISUPPORT.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircISUPPORT.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircISUPPORT.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircISUPPORT.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircISUPPORT.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircMultiPrefix.jsm">chat/protocols/irc/ircMultiPrefix.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircMultiPrefix.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircMultiPrefix.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircMultiPrefix.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircMultiPrefix.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircMultiPrefix.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircNonStandard.jsm">chat/protocols/irc/ircNonStandard.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircNonStandard.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircNonStandard.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircNonStandard.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircNonStandard.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircNonStandard.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircSASL.jsm">chat/protocols/irc/ircSASL.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircSASL.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircSASL.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircSASL.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircSASL.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircSASL.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServerTime.jsm">chat/protocols/irc/ircServerTime.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServerTime.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServerTime.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServerTime.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServerTime.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServerTime.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServices.jsm">chat/protocols/irc/ircServices.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServices.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServices.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServices.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServices.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircServices.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircUtils.jsm">chat/protocols/irc/ircUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircUtils.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircUtils.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircUtils.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircUtils.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircWatchMonitor.jsm">chat/protocols/irc/ircWatchMonitor.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircWatchMonitor.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircWatchMonitor.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircWatchMonitor.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircWatchMonitor.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/ircWatchMonitor.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpColoring.js">chat/protocols/irc/test/test_ctcpColoring.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpColoring.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpColoring.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpColoring.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpColoring.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpColoring.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpDequote.js">chat/protocols/irc/test/test_ctcpDequote.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpDequote.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpDequote.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpDequote.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpDequote.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpDequote.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpFormatting.js">chat/protocols/irc/test/test_ctcpFormatting.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpFormatting.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpFormatting.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpFormatting.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpFormatting.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpFormatting.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpQuote.js">chat/protocols/irc/test/test_ctcpQuote.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpQuote.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpQuote.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpQuote.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpQuote.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ctcpQuote.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCAP.js">chat/protocols/irc/test/test_ircCAP.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCAP.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCAP.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCAP.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCAP.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCAP.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCommands.js">chat/protocols/irc/test/test_ircCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCommands.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCommands.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCommands.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCommands.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircMessage.js">chat/protocols/irc/test/test_ircMessage.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircMessage.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircMessage.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircMessage.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircMessage.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircMessage.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircNonStandard.js">chat/protocols/irc/test/test_ircNonStandard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircNonStandard.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircNonStandard.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircNonStandard.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircNonStandard.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircNonStandard.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircServerTime.js">chat/protocols/irc/test/test_ircServerTime.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircServerTime.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircServerTime.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircServerTime.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircServerTime.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_ircServerTime.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_sendBufferedCommand.js">chat/protocols/irc/test/test_sendBufferedCommand.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_sendBufferedCommand.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_sendBufferedCommand.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_sendBufferedCommand.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_sendBufferedCommand.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_sendBufferedCommand.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_setMode.js">chat/protocols/irc/test/test_setMode.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_setMode.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_setMode.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_setMode.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_setMode.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_setMode.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_splitLongMessages.js">chat/protocols/irc/test/test_splitLongMessages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_splitLongMessages.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_splitLongMessages.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_splitLongMessages.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_splitLongMessages.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_splitLongMessages.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_tryNewNick.js">chat/protocols/irc/test/test_tryNewNick.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_tryNewNick.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_tryNewNick.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_tryNewNick.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_tryNewNick.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/irc/test/test_tryNewNick.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/jsTest/jsTestProtocol.js">chat/protocols/jsTest/jsTestProtocol.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/jsTest/jsTestProtocol.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/jsTest/jsTestProtocol.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/jsTest/jsTestProtocol.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/jsTest/jsTestProtocol.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/jsTest/jsTestProtocol.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix-sdk.jsm">chat/protocols/matrix/matrix-sdk.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix-sdk.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix-sdk.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix-sdk.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix-sdk.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix-sdk.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix.js">chat/protocols/matrix/matrix.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/matrix/matrix.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/odnoklassniki/odnoklassniki.js">chat/protocols/odnoklassniki/odnoklassniki.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/odnoklassniki/odnoklassniki.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/odnoklassniki/odnoklassniki.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/odnoklassniki/odnoklassniki.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/odnoklassniki/odnoklassniki.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/odnoklassniki/odnoklassniki.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/skype.js">chat/protocols/skype/skype.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/skype.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/skype.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/skype.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/skype.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/skype.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_MagicSha256.js">chat/protocols/skype/test/test_MagicSha256.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_MagicSha256.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_MagicSha256.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_MagicSha256.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_MagicSha256.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_MagicSha256.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_contactUrlToName.js">chat/protocols/skype/test/test_contactUrlToName.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_contactUrlToName.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_contactUrlToName.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_contactUrlToName.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_contactUrlToName.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/skype/test/test_contactUrlToName.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/twitter/twitter.js">chat/protocols/twitter/twitter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/twitter/twitter.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/twitter/twitter.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/twitter/twitter.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/twitter/twitter.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/twitter/twitter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_dnsSrv.js">chat/protocols/xmpp/test/test_dnsSrv.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_dnsSrv.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_dnsSrv.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_dnsSrv.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_dnsSrv.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_dnsSrv.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">chat/protocols/xmpp/test/test_parseJidAndNormalization.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_parseJidAndNormalization.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_saslPrep.js">chat/protocols/xmpp/test/test_saslPrep.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_saslPrep.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_saslPrep.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_saslPrep.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_saslPrep.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_saslPrep.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppParser.js">chat/protocols/xmpp/test/test_xmppParser.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppParser.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppParser.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppParser.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppParser.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppParser.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppXml.js">chat/protocols/xmpp/test/test_xmppXml.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppXml.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppXml.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppXml.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppXml.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/test/test_xmppXml.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-authmechs.jsm">chat/protocols/xmpp/xmpp-authmechs.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-authmechs.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-authmechs.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-authmechs.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-authmechs.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-authmechs.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-commands.jsm">chat/protocols/xmpp/xmpp-commands.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-commands.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-commands.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-commands.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-commands.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-commands.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-session.jsm">chat/protocols/xmpp/xmpp-session.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-session.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-session.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-session.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-session.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp-session.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.js">chat/protocols/xmpp/xmpp.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.jsm">chat/protocols/xmpp/xmpp.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/xmpp/xmpp.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/yahoo/yahoo.js">chat/protocols/yahoo/yahoo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/yahoo/yahoo.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/yahoo/yahoo.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/yahoo/yahoo.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/yahoo/yahoo.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/chat/protocols/yahoo/yahoo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/contentHandler.js">im/components/contentHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/contentHandler.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/contentHandler.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/contentHandler.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/contentHandler.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/contentHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibCommandLineHandler.js">im/components/ibCommandLineHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibCommandLineHandler.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibCommandLineHandler.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibCommandLineHandler.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibCommandLineHandler.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibCommandLineHandler.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibConvStatsService.js">im/components/ibConvStatsService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibConvStatsService.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibConvStatsService.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibConvStatsService.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibConvStatsService.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibConvStatsService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibDockBadge.js">im/components/ibDockBadge.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibDockBadge.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibDockBadge.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibDockBadge.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibDockBadge.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibDockBadge.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibStatusCommandLineHandler.js">im/components/ibStatusCommandLineHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibStatusCommandLineHandler.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibStatusCommandLineHandler.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibStatusCommandLineHandler.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibStatusCommandLineHandler.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/ibStatusCommandLineHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/mintrayr/content/mintrayr.js">im/components/mintrayr/content/mintrayr.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/mintrayr/content/mintrayr.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/mintrayr/content/mintrayr.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/mintrayr/content/mintrayr.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/mintrayr/content/mintrayr.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/mintrayr/content/mintrayr.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/profileMigrator.js">im/components/profileMigrator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/profileMigrator.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/profileMigrator.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/profileMigrator.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/profileMigrator.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/components/profileMigrator.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/account.js">im/content/account.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/account.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/account.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/account.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/account.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/account.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accountWizard.js">im/content/accountWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accountWizard.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accountWizard.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accountWizard.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accountWizard.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accountWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accounts.js">im/content/accounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accounts.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accounts.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accounts.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accounts.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/accounts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/blist.js">im/content/blist.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/blist.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/blist.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/blist.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/blist.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/blist.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/buddy.xml">im/content/buddy.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/buddy.xml">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/buddy.xml">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/buddy.xml">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/buddy.xml">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/buddy.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/contact.xml">im/content/contact.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/contact.xml">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/contact.xml">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/contact.xml">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/contact.xml">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/contact.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conv.xml">im/content/conv.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conv.xml">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conv.xml">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conv.xml">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conv.xml">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conv.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conversation.xml">im/content/conversation.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conversation.xml">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conversation.xml">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conversation.xml">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conversation.xml">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/conversation.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debug/fake/fake.js">im/content/debug/fake/fake.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debug/fake/fake.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debug/fake/fake.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debug/fake/fake.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debug/fake/fake.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debug/fake/fake.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debugLogPanel.xml">im/content/debugLogPanel.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debugLogPanel.xml">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debugLogPanel.xml">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debugLogPanel.xml">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debugLogPanel.xml">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/debugLogPanel.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions-discover.js">im/content/extensions-discover.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions-discover.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions-discover.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions-discover.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions-discover.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions-discover.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions.js">im/content/extensions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/extensions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/instantbird.js">im/content/instantbird.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/instantbird.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/instantbird.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/instantbird.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/instantbird.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/instantbird.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/joinchat.js">im/content/joinchat.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/joinchat.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/joinchat.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/joinchat.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/joinchat.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/joinchat.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/menus.js">im/content/menus.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/menus.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/menus.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/menus.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/menus.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/menus.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/newtab.xml">im/content/newtab.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/newtab.xml">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/newtab.xml">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/newtab.xml">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/newtab.xml">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/newtab.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/nsContextMenu.js">im/content/nsContextMenu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/nsContextMenu.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/nsContextMenu.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/nsContextMenu.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/nsContextMenu.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/nsContextMenu.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/advanced.js">im/content/preferences/advanced.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/advanced.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/advanced.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/advanced.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/advanced.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/advanced.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/main.js">im/content/preferences/main.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/main.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/main.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/main.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/main.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/main.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/messagestyle.js">im/content/preferences/messagestyle.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/messagestyle.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/messagestyle.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/messagestyle.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/messagestyle.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/messagestyle.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/privacy.js">im/content/preferences/privacy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/privacy.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/privacy.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/privacy.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/privacy.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/privacy.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/smileys.js">im/content/preferences/smileys.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/smileys.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/smileys.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/smileys.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/smileys.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/smileys.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/themes.js">im/content/preferences/themes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/themes.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/themes.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/themes.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/themes.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/preferences/themes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/tabbrowser.xml">im/content/tabbrowser.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/tabbrowser.xml">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/tabbrowser.xml">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/tabbrowser.xml">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/tabbrowser.xml">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/tabbrowser.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/utilities.js">im/content/utilities.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/utilities.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/utilities.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/utilities.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/utilities.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/utilities.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/viewlog.js">im/content/viewlog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/viewlog.js">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/viewlog.js">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/viewlog.js">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/viewlog.js">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/content/viewlog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibCore.jsm">im/modules/ibCore.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibCore.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibCore.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibCore.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibCore.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibCore.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibNotifications.jsm">im/modules/ibNotifications.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibNotifications.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibNotifications.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibNotifications.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibNotifications.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibNotifications.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibSounds.jsm">im/modules/ibSounds.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibSounds.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibSounds.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibSounds.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibSounds.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibSounds.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibTagMenu.jsm">im/modules/ibTagMenu.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibTagMenu.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibTagMenu.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibTagMenu.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibTagMenu.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibTagMenu.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibWinJumpList.jsm">im/modules/ibWinJumpList.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibWinJumpList.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibWinJumpList.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibWinJumpList.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibWinJumpList.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/ibWinJumpList.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/imWindows.jsm">im/modules/imWindows.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/imWindows.jsm">file</a> |
<a href="/comm-central/annotate/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/imWindows.jsm">annotate</a> |
<a href="/comm-central/diff/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/imWindows.jsm">diff</a> |
<a href="/comm-central/comparison/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/imWindows.jsm">comparison</a> |
<a href="/comm-central/log/1ac48db6177e9ea975af601c25770fc50db1b6dc/im/modules/imWindows.jsm">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/chat/components/src/imAccounts.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/chat/components/src/imAccounts.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l1.4"></a><span id="l1.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l1.5"></a><span id="l1.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.6"></a><span id="l1.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l1.9"></a><span id="l1.9" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l1.15"></a><span id="l1.15"> </span>
<a href="#l1.16"></a><span id="l1.16"> var kPrefAutologinPending = &quot;messenger.accounts.autoLoginPending&quot;;</span>
<a href="#l1.17"></a><span id="l1.17"> var kPrefMessengerAccounts = &quot;messenger.accounts&quot;;</span>
<a href="#l1.18"></a><span id="l1.18"> var kPrefAccountPrefix = &quot;messenger.account.&quot;;</span>
<a href="#l1.19"></a><span id="l1.19"> var kAccountKeyPrefix = &quot;account&quot;;</span>
<a href="#l1.20"></a><span id="l1.20"> var kAccountOptionPrefPrefix = &quot;options.&quot;;</span>
<a href="#l1.21"></a><span id="l1.21"> var kPrefAccountName = &quot;name&quot;;</span>
<a href="#l1.22"></a><span id="l1.22"> var kPrefAccountPrpl = &quot;prpl&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/chat/components/src/imCommands.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/chat/components/src/imCommands.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l2.4"></a><span id="l2.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.5"></a><span id="l2.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.6"></a><span id="l2.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8"> var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l2.9"></a><span id="l2.9"> </span>
<a href="#l2.10"></a><span id="l2.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l2.14"></a><span id="l2.14"> </span>
<a href="#l2.15"></a><span id="l2.15"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l2.16"></a><span id="l2.16">   l10nHelper(&quot;chrome://chat/locale/commands.properties&quot;)</span>
<a href="#l2.17"></a><span id="l2.17"> );</span>
<a href="#l2.18"></a><span id="l2.18"> </span>
<a href="#l2.19"></a><span id="l2.19"> function CommandsService() { }</span>
<a href="#l2.20"></a><span id="l2.20"> CommandsService.prototype = {</span>
<a href="#l2.21"></a><span id="l2.21">   initCommands: function() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/chat/components/src/imContacts.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/chat/components/src/imContacts.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l3.4"></a><span id="l3.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.5"></a><span id="l3.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.6"></a><span id="l3.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l3.9"></a><span id="l3.9" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l3.13"></a><span id="l3.13"> </span>
<a href="#l3.14"></a><span id="l3.14"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l3.15"></a><span id="l3.15">   l10nHelper(&quot;chrome://chat/locale/contacts.properties&quot;)</span>
<a href="#l3.16"></a><span id="l3.16"> );</span>
<a href="#l3.17"></a><span id="l3.17"> </span>
<a href="#l3.18"></a><span id="l3.18"> var gDBConnection = null;</span>
<a href="#l3.19"></a><span id="l3.19"> </span>
<a href="#l3.20"></a><span id="l3.20"> function executeAsyncThenFinalize(statement)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/chat/components/src/imConversations.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/chat/components/src/imConversations.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.5"></a><span id="l4.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.6"></a><span id="l4.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l4.9"></a><span id="l4.9" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l4.17"></a><span id="l4.17"> </span>
<a href="#l4.18"></a><span id="l4.18"> var gLastUIConvId = 0;</span>
<a href="#l4.19"></a><span id="l4.19"> var gLastPrplConvId = 0;</span>
<a href="#l4.20"></a><span id="l4.20"> </span>
<a href="#l4.21"></a><span id="l4.21"> XPCOMUtils.defineLazyGetter(this, &quot;bundle&quot;, () =&gt;</span>
<a href="#l4.22"></a><span id="l4.22">   Services.strings.createBundle(&quot;chrome://chat/locale/conversations.properties&quot;)</span>
<a href="#l4.23"></a><span id="l4.23"> );</span>
<a href="#l4.24"></a><span id="l4.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/chat/components/src/imCore.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/chat/components/src/imCore.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l5.4"></a><span id="l5.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.5"></a><span id="l5.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.6"></a><span id="l5.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8"> var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l5.13"></a><span id="l5.13"> </span>
<a href="#l5.14"></a><span id="l5.14"> XPCOMUtils.defineLazyServiceGetter(this, &quot;categoryManager&quot;,</span>
<a href="#l5.15"></a><span id="l5.15">                                    &quot;@mozilla.org/categorymanager;1&quot;,</span>
<a href="#l5.16"></a><span id="l5.16">                                    &quot;nsICategoryManager&quot;);</span>
<a href="#l5.17"></a><span id="l5.17"> </span>
<a href="#l5.18"></a><span id="l5.18"> var kQuitApplicationGranted = &quot;quit-application-granted&quot;;</span>
<a href="#l5.19"></a><span id="l5.19"> var kProtocolPluginCategory = &quot;im-protocol-plugin&quot;;</span>
<a href="#l5.20"></a><span id="l5.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/chat/components/src/logger.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/chat/components/src/logger.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1,22 +1,22 @@</span>
<a href="#l6.4"></a><span id="l6.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.5"></a><span id="l6.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.6"></a><span id="l6.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8"> var {classes: Cc, interfaces: Ci, utils: Cu, Constructor: CC} = Components;</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10" class="difflineminus">-Cu.import(&quot;resource:///modules/hiddenWindow.jsm&quot;);</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-Cu.import(&quot;resource:///modules/ToLocaleFormat.jsm&quot;);</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/hiddenWindow.jsm&quot;);</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ToLocaleFormat.jsm&quot;);</span>
<a href="#l6.20"></a><span id="l6.20"> </span>
<a href="#l6.21"></a><span id="l6.21" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Task.jsm&quot;)</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;OS&quot;, &quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Task.jsm&quot;)</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;OS&quot;, &quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l6.25"></a><span id="l6.25"> </span>
<a href="#l6.26"></a><span id="l6.26"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l6.27"></a><span id="l6.27">   l10nHelper(&quot;chrome://chat/locale/logger.properties&quot;)</span>
<a href="#l6.28"></a><span id="l6.28"> );</span>
<a href="#l6.29"></a><span id="l6.29"> </span>
<a href="#l6.30"></a><span id="l6.30"> var kLineBreak = &quot;@mozilla.org/windows-registry-key;1&quot; in Cc ? &quot;\r\n&quot; : &quot;\n&quot;;</span>
<a href="#l6.31"></a><span id="l6.31"> </span>
<a href="#l6.32"></a><span id="l6.32"> /*</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/chat/components/src/smileProtocolHandler.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/chat/components/src/smileProtocolHandler.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l7.4"></a><span id="l7.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.5"></a><span id="l7.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.6"></a><span id="l7.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l7.9"></a><span id="l7.9"> </span>
<a href="#l7.10"></a><span id="l7.10" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l7.11"></a><span id="l7.11" class="difflineminus">-Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imSmileys.jsm&quot;);</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imSmileys.jsm&quot;);</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17"> var kSmileRegexp = /^smile:\/\//;</span>
<a href="#l7.18"></a><span id="l7.18"> </span>
<a href="#l7.19"></a><span id="l7.19"> function smileProtocolHandler() { }</span>
<a href="#l7.20"></a><span id="l7.20"> </span>
<a href="#l7.21"></a><span id="l7.21"> smileProtocolHandler.prototype = {</span>
<a href="#l7.22"></a><span id="l7.22">   scheme: &quot;smile&quot;,</span>
<a href="#l7.23"></a><span id="l7.23">   defaultPort: -1,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/chat/components/src/test/test_accounts.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/chat/components/src/test/test_accounts.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l8.4"></a><span id="l8.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.5"></a><span id="l8.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.6"></a><span id="l8.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l8.9"></a><span id="l8.9"> </span>
<a href="#l8.10"></a><span id="l8.10" class="difflineminus">-Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l8.11"></a><span id="l8.11" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-Cu.import(&quot;resource://testing-common/AppInfo.jsm&quot;);</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+ChromeUtils.import(&quot;resource://testing-common/AppInfo.jsm&quot;);</span>
<a href="#l8.16"></a><span id="l8.16"> </span>
<a href="#l8.17"></a><span id="l8.17"> function run_test() {</span>
<a href="#l8.18"></a><span id="l8.18">   do_get_profile();</span>
<a href="#l8.19"></a><span id="l8.19"> </span>
<a href="#l8.20"></a><span id="l8.20">   // Test the handling of accounts for unknown protocols.</span>
<a href="#l8.21"></a><span id="l8.21">   const kAccountName = &quot;Unknown&quot;</span>
<a href="#l8.22"></a><span id="l8.22">   const kPrplId = &quot;prpl-unknown&quot;;</span>
<a href="#l8.23"></a><span id="l8.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/chat/components/src/test/test_commands.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/chat/components/src/test/test_commands.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l9.4"></a><span id="l9.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.5"></a><span id="l9.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.6"></a><span id="l9.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l9.9"></a><span id="l9.9"> </span>
<a href="#l9.10"></a><span id="l9.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l9.12"></a><span id="l9.12"> // We don't load the command service via Services as we want to access</span>
<a href="#l9.13"></a><span id="l9.13"> // _findCommands in order to avoid having to intercept command execution.</span>
<a href="#l9.14"></a><span id="l9.14"> var imCommands = {};</span>
<a href="#l9.15"></a><span id="l9.15"> Services.scriptloader.loadSubScript(&quot;resource:///components/imCommands.js&quot;, imCommands);</span>
<a href="#l9.16"></a><span id="l9.16"> </span>
<a href="#l9.17"></a><span id="l9.17"> var kPrplId = &quot;green&quot;;</span>
<a href="#l9.18"></a><span id="l9.18"> var kPrplId2 = &quot;red&quot;;</span>
<a href="#l9.19"></a><span id="l9.19"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/chat/components/src/test/test_conversations.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/chat/components/src/test/test_conversations.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l10.4"></a><span id="l10.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l10.5"></a><span id="l10.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l10.6"></a><span id="l10.6"> </span>
<a href="#l10.7"></a><span id="l10.7"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l10.8"></a><span id="l10.8" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l10.9"></a><span id="l10.9" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l10.10"></a><span id="l10.10" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l10.12"></a><span id="l10.12"> </span>
<a href="#l10.13"></a><span id="l10.13"> var imConversations = {};</span>
<a href="#l10.14"></a><span id="l10.14"> Services.scriptloader.loadSubScript(</span>
<a href="#l10.15"></a><span id="l10.15">   &quot;resource:///components/imConversations.js&quot;, imConversations</span>
<a href="#l10.16"></a><span id="l10.16"> );</span>
<a href="#l10.17"></a><span id="l10.17"> </span>
<a href="#l10.18"></a><span id="l10.18"> // Fake prplConversation</span>
<a href="#l10.19"></a><span id="l10.19"> var _id = 0;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/chat/components/src/test/test_logger.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/chat/components/src/test/test_logger.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l11.4"></a><span id="l11.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.5"></a><span id="l11.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.6"></a><span id="l11.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l11.7"></a><span id="l11.7"> </span>
<a href="#l11.8"></a><span id="l11.8"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10"> do_get_profile();</span>
<a href="#l11.11"></a><span id="l11.11"> </span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineminus">-Cu.import(&quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Task.jsm&quot;);</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Task.jsm&quot;);</span>
<a href="#l11.20"></a><span id="l11.20"> </span>
<a href="#l11.21"></a><span id="l11.21"> var gLogger = {};</span>
<a href="#l11.22"></a><span id="l11.22"> Services.scriptloader.loadSubScript(&quot;resource:///components/logger.js&quot;, gLogger);</span>
<a href="#l11.23"></a><span id="l11.23"> </span>
<a href="#l11.24"></a><span id="l11.24"> var logDirPath = OS.Path.join(OS.Constants.Path.profileDir, &quot;logs&quot;);</span>
<a href="#l11.25"></a><span id="l11.25"> </span>
<a href="#l11.26"></a><span id="l11.26"> var dummyAccount = {</span>
<a href="#l11.27"></a><span id="l11.27">   name: &quot;dummy-account&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/chat/content/browserRequest.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/chat/content/browserRequest.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l12.4"></a><span id="l12.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.5"></a><span id="l12.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.6"></a><span id="l12.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l12.9"></a><span id="l12.9" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l12.10"></a><span id="l12.10"> </span>
<a href="#l12.11"></a><span id="l12.11"> var wpl = Components.interfaces.nsIWebProgressListener;</span>
<a href="#l12.12"></a><span id="l12.12"> </span>
<a href="#l12.13"></a><span id="l12.13"> var reporterListener = {</span>
<a href="#l12.14"></a><span id="l12.14">   _isBusy: false,</span>
<a href="#l12.15"></a><span id="l12.15">   get statusMeter() {</span>
<a href="#l12.16"></a><span id="l12.16">     delete this.statusMeter;</span>
<a href="#l12.17"></a><span id="l12.17">     return this.statusMeter = document.getElementById(&quot;statusbar-icon&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/chat/content/convbrowser.xml</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/chat/content/convbrowser.xml</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -106,17 +106,17 @@</span>
<a href="#l13.4"></a><span id="l13.4">       &lt;field name=&quot;_finder&quot;&gt;null&lt;/field&gt;</span>
<a href="#l13.5"></a><span id="l13.5"> </span>
<a href="#l13.6"></a><span id="l13.6">       &lt;property name=&quot;finder&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l13.7"></a><span id="l13.7">         &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l13.8"></a><span id="l13.8">           if (!this._finder) {</span>
<a href="#l13.9"></a><span id="l13.9">             if (!this.docShell)</span>
<a href="#l13.10"></a><span id="l13.10">               return null;</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-            let Finder = Components.utils.import(&quot;resource://gre/modules/Finder.jsm&quot;, {}).Finder;</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+            let Finder = ChromeUtils.import(&quot;resource://gre/modules/Finder.jsm&quot;, {}).Finder;</span>
<a href="#l13.14"></a><span id="l13.14">             this._finder = new Finder(this.docShell);</span>
<a href="#l13.15"></a><span id="l13.15">           }</span>
<a href="#l13.16"></a><span id="l13.16">           return this._finder;</span>
<a href="#l13.17"></a><span id="l13.17">         ]]&gt;&lt;/getter&gt;</span>
<a href="#l13.18"></a><span id="l13.18">       &lt;/property&gt;</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20">       &lt;field name=&quot;_fastFind&quot;&gt;null&lt;/field&gt;</span>
<a href="#l13.21"></a><span id="l13.21">       &lt;property name=&quot;fastFind&quot;</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineat">@@ -274,21 +274,21 @@</span>
<a href="#l13.23"></a><span id="l13.23">       &lt;field name=&quot;mDestroyed&quot;&gt;false&lt;/field&gt;</span>
<a href="#l13.24"></a><span id="l13.24"> </span>
<a href="#l13.25"></a><span id="l13.25">       &lt;constructor&gt;</span>
<a href="#l13.26"></a><span id="l13.26">         &lt;![CDATA[</span>
<a href="#l13.27"></a><span id="l13.27">           this.addEventListener(&quot;scroll&quot;, this.browserScroll);</span>
<a href="#l13.28"></a><span id="l13.28">           this.addEventListener(&quot;resize&quot;, this.browserResize);</span>
<a href="#l13.29"></a><span id="l13.29"> </span>
<a href="#l13.30"></a><span id="l13.30">           if (!(&quot;cleanupImMarkup&quot; in window))</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-            Components.utils.import(&quot;resource:///modules/imContentSink.jsm&quot;);</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineplus">+            ChromeUtils.import(&quot;resource:///modules/imContentSink.jsm&quot;);</span>
<a href="#l13.33"></a><span id="l13.33">           if (!(&quot;smileImMarkup&quot; in window))</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineminus">-            Components.utils.import(&quot;resource:///modules/imSmileys.jsm&quot;);</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineplus">+            ChromeUtils.import(&quot;resource:///modules/imSmileys.jsm&quot;);</span>
<a href="#l13.36"></a><span id="l13.36">           if (!(&quot;getCurrentTheme&quot; in window))</span>
<a href="#l13.37"></a><span id="l13.37" class="difflineminus">-            Components.utils.import(&quot;resource:///modules/imThemes.jsm&quot;);</span>
<a href="#l13.38"></a><span id="l13.38" class="difflineplus">+            ChromeUtils.import(&quot;resource:///modules/imThemes.jsm&quot;);</span>
<a href="#l13.39"></a><span id="l13.39"> </span>
<a href="#l13.40"></a><span id="l13.40">           this.onContentElementLoad = this._onContentElementLoad.bind(this);</span>
<a href="#l13.41"></a><span id="l13.41">         ]]&gt;</span>
<a href="#l13.42"></a><span id="l13.42">       &lt;/constructor&gt;</span>
<a href="#l13.43"></a><span id="l13.43"> </span>
<a href="#l13.44"></a><span id="l13.44">       &lt;destructor&gt;</span>
<a href="#l13.45"></a><span id="l13.45">         &lt;![CDATA[</span>
<a href="#l13.46"></a><span id="l13.46">           this.destroy();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/chat/modules/DNS.jsm</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/chat/modules/DNS.jsm</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l14.4"></a><span id="l14.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.5"></a><span id="l14.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.6"></a><span id="l14.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8"> // This module is responsible for performing DNS queries using ctypes for</span>
<a href="#l14.9"></a><span id="l14.9"> // loading system DNS libraries on Linux, Mac and Windows.</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11"> if (typeof Components !== &quot;undefined&quot;) {</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-  Components.utils.import(&quot;resource://gre/modules/ctypes.jsm&quot;);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineminus">-  Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineminus">-  Components.utils.import('resource://gre/modules/PromiseWorker.jsm');</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+  ChromeUtils.import(&quot;resource://gre/modules/ctypes.jsm&quot;);</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+  ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineplus">+  ChromeUtils.import('resource://gre/modules/PromiseWorker.jsm');</span>
<a href="#l14.18"></a><span id="l14.18"> }</span>
<a href="#l14.19"></a><span id="l14.19"> </span>
<a href="#l14.20"></a><span id="l14.20"> var LOCATION = &quot;resource:///modules/DNS.jsm&quot;;</span>
<a href="#l14.21"></a><span id="l14.21"> </span>
<a href="#l14.22"></a><span id="l14.22"> // These constants are luckily shared, but with different names</span>
<a href="#l14.23"></a><span id="l14.23"> var NS_T_TXT = 16; // DNS_TYPE_TXT</span>
<a href="#l14.24"></a><span id="l14.24"> var NS_T_SRV = 33; // DNS_TYPE_SRV</span>
<a href="#l14.25"></a><span id="l14.25"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/chat/modules/ToLocaleFormat.jsm</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/chat/modules/ToLocaleFormat.jsm</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l15.4"></a><span id="l15.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l15.5"></a><span id="l15.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l15.6"></a><span id="l15.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l15.9"></a><span id="l15.9" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l15.10"></a><span id="l15.10"> </span>
<a href="#l15.11"></a><span id="l15.11"> this.EXPORTED_SYMBOLS = [&quot;ToLocaleFormat&quot;];</span>
<a href="#l15.12"></a><span id="l15.12"> </span>
<a href="#l15.13"></a><span id="l15.13"> // JS implementation of the deprecated Date.toLocaleFormat.</span>
<a href="#l15.14"></a><span id="l15.14"> // aFormat follows strftime syntax,</span>
<a href="#l15.15"></a><span id="l15.15"> // http://pubs.opengroup.org/onlinepubs/007908799/xsh/strftime.html</span>
<a href="#l15.16"></a><span id="l15.16"> function ToLocaleFormat(aFormat, aDate) {</span>
<a href="#l15.17"></a><span id="l15.17">   function Day(t) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/chat/modules/hiddenWindow.jsm</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/chat/modules/hiddenWindow.jsm</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l16.4"></a><span id="l16.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.5"></a><span id="l16.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.6"></a><span id="l16.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l16.7"></a><span id="l16.7"> </span>
<a href="#l16.8"></a><span id="l16.8"> this.EXPORTED_SYMBOLS = [&quot;getHiddenHTMLWindow&quot;];</span>
<a href="#l16.9"></a><span id="l16.9"> </span>
<a href="#l16.10"></a><span id="l16.10" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l16.11"></a><span id="l16.11" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l16.14"></a><span id="l16.14"> </span>
<a href="#l16.15"></a><span id="l16.15"> XPCOMUtils.defineLazyGetter(this, &quot;hiddenWindow&quot;, () =&gt;</span>
<a href="#l16.16"></a><span id="l16.16">   Services.appShell.hiddenDOMWindow</span>
<a href="#l16.17"></a><span id="l16.17"> );</span>
<a href="#l16.18"></a><span id="l16.18"> #ifndef XP_MACOSX</span>
<a href="#l16.19"></a><span id="l16.19"> function getHiddenHTMLWindow() { return hiddenWindow; }</span>
<a href="#l16.20"></a><span id="l16.20"> #else</span>
<a href="#l16.21"></a><span id="l16.21"> function getHiddenHTMLWindow() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/chat/modules/imContentSink.jsm</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/chat/modules/imContentSink.jsm</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l17.4"></a><span id="l17.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.5"></a><span id="l17.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.6"></a><span id="l17.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l17.7"></a><span id="l17.7"> </span>
<a href="#l17.8"></a><span id="l17.8" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l17.9"></a><span id="l17.9" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l17.10"></a><span id="l17.10"> </span>
<a href="#l17.11"></a><span id="l17.11"> this.EXPORTED_SYMBOLS = [</span>
<a href="#l17.12"></a><span id="l17.12">   &quot;cleanupImMarkup&quot;, // used to clean up incoming IMs.</span>
<a href="#l17.13"></a><span id="l17.13">                      // This will use the global ruleset of acceptable stuff</span>
<a href="#l17.14"></a><span id="l17.14">                      // except if another (custom one) is provided</span>
<a href="#l17.15"></a><span id="l17.15">   &quot;createDerivedRuleset&quot;, // used to create a ruleset that inherits from the</span>
<a href="#l17.16"></a><span id="l17.16">                           // default one</span>
<a href="#l17.17"></a><span id="l17.17">                           // useful if you want to allow or forbid</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/chat/modules/imServices.jsm</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/chat/modules/imServices.jsm</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l18.4"></a><span id="l18.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l18.5"></a><span id="l18.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l18.6"></a><span id="l18.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l18.7"></a><span id="l18.7"> </span>
<a href="#l18.8"></a><span id="l18.8"> this.EXPORTED_SYMBOLS = [&quot;Services&quot;];</span>
<a href="#l18.9"></a><span id="l18.9"> </span>
<a href="#l18.10"></a><span id="l18.10" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l18.11"></a><span id="l18.11" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l18.14"></a><span id="l18.14"> </span>
<a href="#l18.15"></a><span id="l18.15"> XPCOMUtils.defineLazyServiceGetter(Services, &quot;accounts&quot;,</span>
<a href="#l18.16"></a><span id="l18.16">                                    &quot;@mozilla.org/chat/accounts-service;1&quot;,</span>
<a href="#l18.17"></a><span id="l18.17">                                    &quot;imIAccountsService&quot;);</span>
<a href="#l18.18"></a><span id="l18.18"> XPCOMUtils.defineLazyServiceGetter(Services, &quot;core&quot;,</span>
<a href="#l18.19"></a><span id="l18.19">                                    &quot;@mozilla.org/chat/core-service;1&quot;,</span>
<a href="#l18.20"></a><span id="l18.20">                                    &quot;imICoreService&quot;);</span>
<a href="#l18.21"></a><span id="l18.21"> XPCOMUtils.defineLazyServiceGetter(Services, &quot;cmd&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/chat/modules/imSmileys.jsm</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/chat/modules/imSmileys.jsm</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,21 +1,21 @@</span>
<a href="#l19.4"></a><span id="l19.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.5"></a><span id="l19.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.6"></a><span id="l19.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l19.9"></a><span id="l19.9" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l19.10"></a><span id="l19.10" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l19.11"></a><span id="l19.11" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l19.12"></a><span id="l19.12"> </span>
<a href="#l19.13"></a><span id="l19.13"> XPCOMUtils.defineLazyGetter(this, &quot;gTextDecoder&quot;, () =&gt; {</span>
<a href="#l19.14"></a><span id="l19.14">   return new TextDecoder();</span>
<a href="#l19.15"></a><span id="l19.15"> });</span>
<a href="#l19.16"></a><span id="l19.16"> </span>
<a href="#l19.17"></a><span id="l19.17" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;NetUtil&quot;,</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineminus">-                                  &quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l19.19"></a><span id="l19.19" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;NetUtil&quot;,</span>
<a href="#l19.20"></a><span id="l19.20" class="difflineplus">+                               &quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l19.21"></a><span id="l19.21"> </span>
<a href="#l19.22"></a><span id="l19.22"> this.EXPORTED_SYMBOLS = [</span>
<a href="#l19.23"></a><span id="l19.23">   &quot;smileImMarkup&quot;, // used to add smile:// img tags into IM markup.</span>
<a href="#l19.24"></a><span id="l19.24">   &quot;smileTextNode&quot;, // used to add smile:// img tags to the content of a textnode</span>
<a href="#l19.25"></a><span id="l19.25">   &quot;smileString&quot;, // used to add smile:// img tags into a string without parsing it as HTML. Be sure the string doesn't contain HTML tags.</span>
<a href="#l19.26"></a><span id="l19.26">   &quot;getSmileRealURI&quot;, // used to retrive the chrome URI for a smile:// URI</span>
<a href="#l19.27"></a><span id="l19.27">   &quot;getSmileyList&quot; // used to display a list of smileys in the UI</span>
<a href="#l19.28"></a><span id="l19.28"> ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/chat/modules/imStatusUtils.jsm</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/chat/modules/imStatusUtils.jsm</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l20.4"></a><span id="l20.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.5"></a><span id="l20.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.6"></a><span id="l20.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.7"></a><span id="l20.7"> </span>
<a href="#l20.8"></a><span id="l20.8"> this.EXPORTED_SYMBOLS = [&quot;Status&quot;];</span>
<a href="#l20.9"></a><span id="l20.9"> </span>
<a href="#l20.10"></a><span id="l20.10"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l20.11"></a><span id="l20.11"> </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l20.16"></a><span id="l20.16"> </span>
<a href="#l20.17"></a><span id="l20.17"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l20.18"></a><span id="l20.18">   l10nHelper(&quot;chrome://chat/locale/status.properties&quot;)</span>
<a href="#l20.19"></a><span id="l20.19"> );</span>
<a href="#l20.20"></a><span id="l20.20"> </span>
<a href="#l20.21"></a><span id="l20.21"> var imIStatusInfo = Ci.imIStatusInfo;</span>
<a href="#l20.22"></a><span id="l20.22"> var statusAttributes = {};</span>
<a href="#l20.23"></a><span id="l20.23"> statusAttributes[imIStatusInfo.STATUS_UNKNOWN] = &quot;unknown&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/chat/modules/imTextboxUtils.jsm</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/chat/modules/imTextboxUtils.jsm</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -3,17 +3,17 @@</span>
<a href="#l21.4"></a><span id="l21.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l21.5"></a><span id="l21.5"> </span>
<a href="#l21.6"></a><span id="l21.6"> this.EXPORTED_SYMBOLS = [</span>
<a href="#l21.7"></a><span id="l21.7">   &quot;MessageFormat&quot;,</span>
<a href="#l21.8"></a><span id="l21.8">   &quot;TextboxSize&quot;,</span>
<a href="#l21.9"></a><span id="l21.9">   &quot;TextboxSpellChecker&quot;</span>
<a href="#l21.10"></a><span id="l21.10"> ];</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l21.14"></a><span id="l21.14"> var Ci = Components.interfaces;</span>
<a href="#l21.15"></a><span id="l21.15"> </span>
<a href="#l21.16"></a><span id="l21.16"> var MessageFormat = {</span>
<a href="#l21.17"></a><span id="l21.17">   _observedPrefs: [],</span>
<a href="#l21.18"></a><span id="l21.18"> </span>
<a href="#l21.19"></a><span id="l21.19">   getValues: function mf_getValues() {</span>
<a href="#l21.20"></a><span id="l21.20">     this.unregisterObservers();</span>
<a href="#l21.21"></a><span id="l21.21">     let langGroup =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/chat/modules/imThemes.jsm</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/chat/modules/imThemes.jsm</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -11,19 +11,19 @@ this.EXPORTED_SYMBOLS = [</span>
<a href="#l22.4"></a><span id="l22.4">   &quot;insertHTMLForMessage&quot;,</span>
<a href="#l22.5"></a><span id="l22.5">   &quot;initHTMLDocument&quot;,</span>
<a href="#l22.6"></a><span id="l22.6">   &quot;getMessagesForRange&quot;,</span>
<a href="#l22.7"></a><span id="l22.7">   &quot;serializeSelection&quot;</span>
<a href="#l22.8"></a><span id="l22.8"> ];</span>
<a href="#l22.9"></a><span id="l22.9"> </span>
<a href="#l22.10"></a><span id="l22.10"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l22.11"></a><span id="l22.11"> </span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineminus">-Cu.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineminus">-Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l22.15"></a><span id="l22.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l22.16"></a><span id="l22.16" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l22.17"></a><span id="l22.17" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l22.18"></a><span id="l22.18"> </span>
<a href="#l22.19"></a><span id="l22.19"> var kMessagesStylePrefBranch = &quot;messenger.options.messagesStyle.&quot;;</span>
<a href="#l22.20"></a><span id="l22.20"> var kThemePref = &quot;theme&quot;;</span>
<a href="#l22.21"></a><span id="l22.21"> var kVariantPref = &quot;variant&quot;;</span>
<a href="#l22.22"></a><span id="l22.22"> var kShowHeaderPref = &quot;showHeader&quot;;</span>
<a href="#l22.23"></a><span id="l22.23"> var kCombineConsecutivePref = &quot;combineConsecutive&quot;;</span>
<a href="#l22.24"></a><span id="l22.24"> var kCombineConsecutiveIntervalPref = &quot;combineConsecutiveInterval&quot;;</span>
<a href="#l22.25"></a><span id="l22.25"> </span>
<a href="#l22.26"></a><span id="l22.26" class="difflineat">@@ -36,17 +36,17 @@ XPCOMUtils.defineLazyGetter(this, &quot;gPref</span>
<a href="#l22.27"></a><span id="l22.27">   Services.prefs.getBranch(kMessagesStylePrefBranch)</span>
<a href="#l22.28"></a><span id="l22.28"> );</span>
<a href="#l22.29"></a><span id="l22.29"> </span>
<a href="#l22.30"></a><span id="l22.30"> XPCOMUtils.defineLazyGetter(this, &quot;TXTToHTML&quot;, function() {</span>
<a href="#l22.31"></a><span id="l22.31">   let cs = Cc[&quot;@mozilla.org/txttohtmlconv;1&quot;].getService(Ci.mozITXTToHTMLConv);</span>
<a href="#l22.32"></a><span id="l22.32">   return aTXT =&gt; cs.scanTXT(aTXT, cs.kEntities);</span>
<a href="#l22.33"></a><span id="l22.33"> });</span>
<a href="#l22.34"></a><span id="l22.34"> </span>
<a href="#l22.35"></a><span id="l22.35" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this,</span>
<a href="#l22.36"></a><span id="l22.36" class="difflineplus">+ChromeUtils.defineModuleGetter(this,</span>
<a href="#l22.37"></a><span id="l22.37">   &quot;ToLocaleFormat&quot;, &quot;resource:///modules/ToLocaleFormat.jsm&quot;);</span>
<a href="#l22.38"></a><span id="l22.38"> </span>
<a href="#l22.39"></a><span id="l22.39"> var gCurrentTheme = null;</span>
<a href="#l22.40"></a><span id="l22.40"> </span>
<a href="#l22.41"></a><span id="l22.41"> function getChromeFile(aURI)</span>
<a href="#l22.42"></a><span id="l22.42"> {</span>
<a href="#l22.43"></a><span id="l22.43">   try {</span>
<a href="#l22.44"></a><span id="l22.44">     let channel = Services.io.newChannel2(aURI, null, null, null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/chat/modules/imXPCOMUtils.jsm</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/chat/modules/imXPCOMUtils.jsm</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -11,18 +11,18 @@ this.EXPORTED_SYMBOLS = [</span>
<a href="#l23.4"></a><span id="l23.4">   &quot;EmptyEnumerator&quot;,</span>
<a href="#l23.5"></a><span id="l23.5">   &quot;ClassInfo&quot;,</span>
<a href="#l23.6"></a><span id="l23.6">   &quot;l10nHelper&quot;,</span>
<a href="#l23.7"></a><span id="l23.7">   &quot;initLogModule&quot;</span>
<a href="#l23.8"></a><span id="l23.8"> ];</span>
<a href="#l23.9"></a><span id="l23.9"> </span>
<a href="#l23.10"></a><span id="l23.10"> var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l23.11"></a><span id="l23.11"> </span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l23.16"></a><span id="l23.16"> </span>
<a href="#l23.17"></a><span id="l23.17"> var kLogLevelPref = &quot;purple.debug.loglevel&quot;;</span>
<a href="#l23.18"></a><span id="l23.18"> </span>
<a href="#l23.19"></a><span id="l23.19"> /**</span>
<a href="#l23.20"></a><span id="l23.20">  * Creates an nsIScriptError instance and logs it.</span>
<a href="#l23.21"></a><span id="l23.21">  *</span>
<a href="#l23.22"></a><span id="l23.22">  * @param aModule</span>
<a href="#l23.23"></a><span id="l23.23">  *        string identifying the module within which the error occurred.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/chat/modules/jsProtoHelper.jsm</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/chat/modules/jsProtoHelper.jsm</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -12,18 +12,18 @@ this.EXPORTED_SYMBOLS = [</span>
<a href="#l24.4"></a><span id="l24.4">   &quot;GenericMessagePrototype&quot;,</span>
<a href="#l24.5"></a><span id="l24.5">   &quot;GenericProtocolPrototype&quot;,</span>
<a href="#l24.6"></a><span id="l24.6">   &quot;Message&quot;,</span>
<a href="#l24.7"></a><span id="l24.7">   &quot;TooltipInfo&quot;</span>
<a href="#l24.8"></a><span id="l24.8"> ];</span>
<a href="#l24.9"></a><span id="l24.9"> </span>
<a href="#l24.10"></a><span id="l24.10"> var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l24.11"></a><span id="l24.11"> </span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l24.14"></a><span id="l24.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l24.15"></a><span id="l24.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l24.16"></a><span id="l24.16"> </span>
<a href="#l24.17"></a><span id="l24.17"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l24.18"></a><span id="l24.18">   l10nHelper(&quot;chrome://chat/locale/conversations.properties&quot;)</span>
<a href="#l24.19"></a><span id="l24.19"> );</span>
<a href="#l24.20"></a><span id="l24.20"> </span>
<a href="#l24.21"></a><span id="l24.21"> var GenericAccountPrototype = {</span>
<a href="#l24.22"></a><span id="l24.22">   __proto__: ClassInfo(&quot;prplIAccount&quot;, &quot;generic account object&quot;),</span>
<a href="#l24.23"></a><span id="l24.23">   get wrappedJSObject() { return this; },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/chat/modules/socket.jsm</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/chat/modules/socket.jsm</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -74,20 +74,20 @@</span>
<a href="#l25.4"></a><span id="l25.4">  *   Add a message queue to keep from flooding a server (just an array, just</span>
<a href="#l25.5"></a><span id="l25.5">  *     keep shifting the first element off and calling as setTimeout for the</span>
<a href="#l25.6"></a><span id="l25.6">  *     desired flood time?).</span>
<a href="#l25.7"></a><span id="l25.7">  */</span>
<a href="#l25.8"></a><span id="l25.8"> </span>
<a href="#l25.9"></a><span id="l25.9"> this.EXPORTED_SYMBOLS = [&quot;Socket&quot;];</span>
<a href="#l25.10"></a><span id="l25.10"> </span>
<a href="#l25.11"></a><span id="l25.11"> var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineminus">-Cu.import(&quot;resource:///modules/hiddenWindow.jsm&quot;);</span>
<a href="#l25.16"></a><span id="l25.16" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l25.17"></a><span id="l25.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l25.18"></a><span id="l25.18" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l25.19"></a><span id="l25.19" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/hiddenWindow.jsm&quot;);</span>
<a href="#l25.20"></a><span id="l25.20"> </span>
<a href="#l25.21"></a><span id="l25.21"> // Network errors see: xpcom/base/nsError.h</span>
<a href="#l25.22"></a><span id="l25.22"> var NS_ERROR_MODULE_NETWORK = 2152398848;</span>
<a href="#l25.23"></a><span id="l25.23"> var NS_ERROR_CONNECTION_REFUSED = NS_ERROR_MODULE_NETWORK + 13;</span>
<a href="#l25.24"></a><span id="l25.24"> var NS_ERROR_NET_TIMEOUT = NS_ERROR_MODULE_NETWORK + 14;</span>
<a href="#l25.25"></a><span id="l25.25"> var NS_ERROR_NET_RESET = NS_ERROR_MODULE_NETWORK + 20;</span>
<a href="#l25.26"></a><span id="l25.26"> var NS_ERROR_UNKNOWN_HOST = NS_ERROR_MODULE_NETWORK + 30;</span>
<a href="#l25.27"></a><span id="l25.27"> var NS_ERROR_UNKNOWN_PROXY_HOST = NS_ERROR_MODULE_NETWORK + 42;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/chat/modules/test/test_ArrayBufferUtils.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/chat/modules/test/test_ArrayBufferUtils.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l26.4"></a><span id="l26.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l26.5"></a><span id="l26.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l26.6"></a><span id="l26.6"> </span>
<a href="#l26.7"></a><span id="l26.7" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l26.8"></a><span id="l26.8" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l26.9"></a><span id="l26.9"> </span>
<a href="#l26.10"></a><span id="l26.10"> function do_check_arraybuffer_eq(a, b) {</span>
<a href="#l26.11"></a><span id="l26.11">   let viewA = new Uint8Array(a);</span>
<a href="#l26.12"></a><span id="l26.12">   let viewB = new Uint8Array(b);</span>
<a href="#l26.13"></a><span id="l26.13"> </span>
<a href="#l26.14"></a><span id="l26.14">   let res = a.byteLength == b.byteLength;</span>
<a href="#l26.15"></a><span id="l26.15">   for (let i = 0; i &lt; viewA.byteLength; ++i)</span>
<a href="#l26.16"></a><span id="l26.16">     res = res &amp;&amp; viewA[i] == viewB[i];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/chat/modules/test/test_NormalizedMap.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/chat/modules/test/test_NormalizedMap.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l27.4"></a><span id="l27.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l27.5"></a><span id="l27.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l27.6"></a><span id="l27.6"> </span>
<a href="#l27.7"></a><span id="l27.7" class="difflineminus">-Components.utils.import(&quot;resource:///modules/NormalizedMap.jsm&quot;);</span>
<a href="#l27.8"></a><span id="l27.8" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/NormalizedMap.jsm&quot;);</span>
<a href="#l27.9"></a><span id="l27.9"> </span>
<a href="#l27.10"></a><span id="l27.10"> function test_setter_getter() {</span>
<a href="#l27.11"></a><span id="l27.11">   let m = new NormalizedMap(aStr =&gt; aStr.toLowerCase());</span>
<a href="#l27.12"></a><span id="l27.12">   m.set(&quot;foo&quot;, &quot;bar&quot;);</span>
<a href="#l27.13"></a><span id="l27.13">   m.set(&quot;BaZ&quot;, &quot;blah&quot;);</span>
<a href="#l27.14"></a><span id="l27.14">   Assert.equal(m.has(&quot;FOO&quot;), true);</span>
<a href="#l27.15"></a><span id="l27.15">   Assert.equal(m.has(&quot;BaZ&quot;), true);</span>
<a href="#l27.16"></a><span id="l27.16">   Assert.equal(m.get(&quot;FOO&quot;), &quot;bar&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/chat/modules/test/test_filtering.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/chat/modules/test/test_filtering.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l28.4"></a><span id="l28.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l28.5"></a><span id="l28.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l28.6"></a><span id="l28.6"> </span>
<a href="#l28.7"></a><span id="l28.7" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l28.8"></a><span id="l28.8" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imContentSink.jsm&quot;);</span>
<a href="#l28.9"></a><span id="l28.9" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l28.10"></a><span id="l28.10" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imContentSink.jsm&quot;);</span>
<a href="#l28.11"></a><span id="l28.11"> </span>
<a href="#l28.12"></a><span id="l28.12"> var kModePref = &quot;messenger.options.filterMode&quot;;</span>
<a href="#l28.13"></a><span id="l28.13"> var kStrictMode = 0, kStandardMode = 1, kPermissiveMode = 2;</span>
<a href="#l28.14"></a><span id="l28.14"> </span>
<a href="#l28.15"></a><span id="l28.15"> function run_test() {</span>
<a href="#l28.16"></a><span id="l28.16">   let defaultMode = Services.prefs.getIntPref(kModePref);</span>
<a href="#l28.17"></a><span id="l28.17"> </span>
<a href="#l28.18"></a><span id="l28.18">   add_test(test_strictMode);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/chat/protocols/facebook/facebook.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/chat/protocols/facebook/facebook.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l29.4"></a><span id="l29.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l29.5"></a><span id="l29.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l29.6"></a><span id="l29.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l29.7"></a><span id="l29.7"> </span>
<a href="#l29.8"></a><span id="l29.8"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l29.9"></a><span id="l29.9"> </span>
<a href="#l29.10"></a><span id="l29.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l29.11"></a><span id="l29.11" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l29.14"></a><span id="l29.14"> </span>
<a href="#l29.15"></a><span id="l29.15"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l29.16"></a><span id="l29.16">   l10nHelper(&quot;chrome://chat/locale/facebook.properties&quot;)</span>
<a href="#l29.17"></a><span id="l29.17"> );</span>
<a href="#l29.18"></a><span id="l29.18"> </span>
<a href="#l29.19"></a><span id="l29.19"> function FacebookAccount(aProtoInstance, aImAccount) {</span>
<a href="#l29.20"></a><span id="l29.20">   this._init(aProtoInstance, aImAccount);</span>
<a href="#l29.21"></a><span id="l29.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/chat/protocols/gtalk/gtalk.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/chat/protocols/gtalk/gtalk.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l30.4"></a><span id="l30.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l30.5"></a><span id="l30.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l30.6"></a><span id="l30.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l30.7"></a><span id="l30.7"> </span>
<a href="#l30.8"></a><span id="l30.8"> var Cu = Components.utils;</span>
<a href="#l30.9"></a><span id="l30.9"> </span>
<a href="#l30.10"></a><span id="l30.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l30.11"></a><span id="l30.11" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l30.15"></a><span id="l30.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l30.16"></a><span id="l30.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l30.17"></a><span id="l30.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l30.18"></a><span id="l30.18" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l30.19"></a><span id="l30.19" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l30.20"></a><span id="l30.20"> </span>
<a href="#l30.21"></a><span id="l30.21"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l30.22"></a><span id="l30.22">   l10nHelper(&quot;chrome://chat/locale/xmpp.properties&quot;)</span>
<a href="#l30.23"></a><span id="l30.23"> );</span>
<a href="#l30.24"></a><span id="l30.24"> </span>
<a href="#l30.25"></a><span id="l30.25"> // PlainFullBindAuth is an authentication mechanism that works like</span>
<a href="#l30.26"></a><span id="l30.26"> // the standard PLAIN mechanism but adds a client-uses-full-bind-result</span>
<a href="#l30.27"></a><span id="l30.27"> // attribute to the auth stanza to tell the Google Talk servers that we</span>
<a href="#l30.28"></a><span id="l30.28" class="difflineat">@@ -64,17 +64,17 @@ GTalkAccount.prototype = {</span>
<a href="#l30.29"></a><span id="l30.29">     this._connection =</span>
<a href="#l30.30"></a><span id="l30.30">       new XMPPSession(&quot;talk.google.com&quot;, 443,</span>
<a href="#l30.31"></a><span id="l30.31">                       &quot;require_tls&quot;, this._jid,</span>
<a href="#l30.32"></a><span id="l30.32">                       this.imAccount.password, this);</span>
<a href="#l30.33"></a><span id="l30.33">   }</span>
<a href="#l30.34"></a><span id="l30.34"> };</span>
<a href="#l30.35"></a><span id="l30.35"> </span>
<a href="#l30.36"></a><span id="l30.36"> function GTalkProtocol() {</span>
<a href="#l30.37"></a><span id="l30.37" class="difflineminus">-  Cu.import(&quot;resource:///modules/xmpp-commands.jsm&quot;, this);</span>
<a href="#l30.38"></a><span id="l30.38" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/xmpp-commands.jsm&quot;, this);</span>
<a href="#l30.39"></a><span id="l30.39">   this.registerCommands();</span>
<a href="#l30.40"></a><span id="l30.40"> }</span>
<a href="#l30.41"></a><span id="l30.41"> GTalkProtocol.prototype = {</span>
<a href="#l30.42"></a><span id="l30.42">   __proto__: GenericProtocolPrototype,</span>
<a href="#l30.43"></a><span id="l30.43">   get normalizedName() { return &quot;gtalk&quot;; },</span>
<a href="#l30.44"></a><span id="l30.44">   get name() { return _(&quot;gtalk.protocolName&quot;); },</span>
<a href="#l30.45"></a><span id="l30.45">   get iconBaseURI() { return &quot;chrome://prpl-gtalk/skin/&quot;; },</span>
<a href="#l30.46"></a><span id="l30.46">   get usernameEmptyText() { return _(&quot;gtalk.usernameHint&quot;); },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/chat/protocols/irc/irc.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/chat/protocols/irc/irc.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -1,26 +1,26 @@</span>
<a href="#l31.4"></a><span id="l31.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l31.5"></a><span id="l31.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l31.6"></a><span id="l31.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l31.7"></a><span id="l31.7"> </span>
<a href="#l31.8"></a><span id="l31.8"> var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l31.9"></a><span id="l31.9"> </span>
<a href="#l31.10"></a><span id="l31.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l31.11"></a><span id="l31.11" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l31.14"></a><span id="l31.14" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l31.15"></a><span id="l31.15" class="difflineminus">-Cu.import(&quot;resource:///modules/NormalizedMap.jsm&quot;);</span>
<a href="#l31.16"></a><span id="l31.16" class="difflineminus">-Cu.import(&quot;resource:///modules/socket.jsm&quot;);</span>
<a href="#l31.17"></a><span id="l31.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l31.18"></a><span id="l31.18" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l31.19"></a><span id="l31.19" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l31.20"></a><span id="l31.20" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l31.21"></a><span id="l31.21" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l31.22"></a><span id="l31.22" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/NormalizedMap.jsm&quot;);</span>
<a href="#l31.23"></a><span id="l31.23" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/socket.jsm&quot;);</span>
<a href="#l31.24"></a><span id="l31.24"> </span>
<a href="#l31.25"></a><span id="l31.25" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;PluralForm&quot;,</span>
<a href="#l31.26"></a><span id="l31.26" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;PluralForm&quot;,</span>
<a href="#l31.27"></a><span id="l31.27">   &quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l31.28"></a><span id="l31.28"> </span>
<a href="#l31.29"></a><span id="l31.29" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;DownloadUtils&quot;,</span>
<a href="#l31.30"></a><span id="l31.30" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;DownloadUtils&quot;,</span>
<a href="#l31.31"></a><span id="l31.31">   &quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l31.32"></a><span id="l31.32"> </span>
<a href="#l31.33"></a><span id="l31.33"> /*</span>
<a href="#l31.34"></a><span id="l31.34">  * Parses a raw IRC message into an object (see section 2.3 of RFC 2812). This</span>
<a href="#l31.35"></a><span id="l31.35">  * returns an object with the following fields:</span>
<a href="#l31.36"></a><span id="l31.36">  *   rawMessage The initial message string received without any processing.</span>
<a href="#l31.37"></a><span id="l31.37">  *   command    A string that is the command or response code.</span>
<a href="#l31.38"></a><span id="l31.38">  *   params     An array of strings for the parameters. The last parameter is</span>
<a href="#l31.39"></a><span id="l31.39" class="difflineat">@@ -1941,34 +1941,34 @@ ircAccount.prototype = {</span>
<a href="#l31.40"></a><span id="l31.40">     clearTimeout(this._isOnTimer);</span>
<a href="#l31.41"></a><span id="l31.41">     clearTimeout(this._quitTimer);</span>
<a href="#l31.42"></a><span id="l31.42">   }</span>
<a href="#l31.43"></a><span id="l31.43"> };</span>
<a href="#l31.44"></a><span id="l31.44"> </span>
<a href="#l31.45"></a><span id="l31.45"> function ircProtocol() {</span>
<a href="#l31.46"></a><span id="l31.46">   // ircCommands.jsm exports one variable: commands. Import this directly into</span>
<a href="#l31.47"></a><span id="l31.47">   // the protocol object.</span>
<a href="#l31.48"></a><span id="l31.48" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircCommands.jsm&quot;, this);</span>
<a href="#l31.49"></a><span id="l31.49" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircCommands.jsm&quot;, this);</span>
<a href="#l31.50"></a><span id="l31.50">   this.registerCommands();</span>
<a href="#l31.51"></a><span id="l31.51"> </span>
<a href="#l31.52"></a><span id="l31.52">   // Register the standard handlers.</span>
<a href="#l31.53"></a><span id="l31.53">   let tempScope = {};</span>
<a href="#l31.54"></a><span id="l31.54" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircBase.jsm&quot;, tempScope);</span>
<a href="#l31.55"></a><span id="l31.55" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircISUPPORT.jsm&quot;, tempScope);</span>
<a href="#l31.56"></a><span id="l31.56" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircCAP.jsm&quot;, tempScope);</span>
<a href="#l31.57"></a><span id="l31.57" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircCTCP.jsm&quot;, tempScope);</span>
<a href="#l31.58"></a><span id="l31.58" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircDCC.jsm&quot;, tempScope);</span>
<a href="#l31.59"></a><span id="l31.59" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircServices.jsm&quot;, tempScope);</span>
<a href="#l31.60"></a><span id="l31.60" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircBase.jsm&quot;, tempScope);</span>
<a href="#l31.61"></a><span id="l31.61" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircISUPPORT.jsm&quot;, tempScope);</span>
<a href="#l31.62"></a><span id="l31.62" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircCAP.jsm&quot;, tempScope);</span>
<a href="#l31.63"></a><span id="l31.63" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircCTCP.jsm&quot;, tempScope);</span>
<a href="#l31.64"></a><span id="l31.64" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircDCC.jsm&quot;, tempScope);</span>
<a href="#l31.65"></a><span id="l31.65" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircServices.jsm&quot;, tempScope);</span>
<a href="#l31.66"></a><span id="l31.66"> </span>
<a href="#l31.67"></a><span id="l31.67">   // Extra features.</span>
<a href="#l31.68"></a><span id="l31.68" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircMultiPrefix.jsm&quot;, tempScope);</span>
<a href="#l31.69"></a><span id="l31.69" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircNonStandard.jsm&quot;, tempScope);</span>
<a href="#l31.70"></a><span id="l31.70" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircSASL.jsm&quot;, tempScope);</span>
<a href="#l31.71"></a><span id="l31.71" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircServerTime.jsm&quot;, tempScope);</span>
<a href="#l31.72"></a><span id="l31.72" class="difflineminus">-  Cu.import(&quot;resource:///modules/ircWatchMonitor.jsm&quot;, tempScope);</span>
<a href="#l31.73"></a><span id="l31.73" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircMultiPrefix.jsm&quot;, tempScope);</span>
<a href="#l31.74"></a><span id="l31.74" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircNonStandard.jsm&quot;, tempScope);</span>
<a href="#l31.75"></a><span id="l31.75" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircSASL.jsm&quot;, tempScope);</span>
<a href="#l31.76"></a><span id="l31.76" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircServerTime.jsm&quot;, tempScope);</span>
<a href="#l31.77"></a><span id="l31.77" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ircWatchMonitor.jsm&quot;, tempScope);</span>
<a href="#l31.78"></a><span id="l31.78"> </span>
<a href="#l31.79"></a><span id="l31.79">   // Register default IRC handlers (IRC base, CTCP).</span>
<a href="#l31.80"></a><span id="l31.80">   ircHandlers.registerHandler(tempScope.ircBase);</span>
<a href="#l31.81"></a><span id="l31.81">   ircHandlers.registerHandler(tempScope.ircISUPPORT);</span>
<a href="#l31.82"></a><span id="l31.82">   ircHandlers.registerHandler(tempScope.ircCAP);</span>
<a href="#l31.83"></a><span id="l31.83">   ircHandlers.registerHandler(tempScope.ircCTCP);</span>
<a href="#l31.84"></a><span id="l31.84">   ircHandlers.registerHandler(tempScope.ircServices);</span>
<a href="#l31.85"></a><span id="l31.85">   // Register default ISUPPORT handler (ISUPPORT base).</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/chat/protocols/irc/ircBase.jsm</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/chat/protocols/irc/ircBase.jsm</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -16,21 +16,21 @@</span>
<a href="#l32.4"></a><span id="l32.4">  *     http://tools.ietf.org/html/rfc2813</span>
<a href="#l32.5"></a><span id="l32.5">  *   RFC 1459: Internet Relay Chat Protocol</span>
<a href="#l32.6"></a><span id="l32.6">  *     http://tools.ietf.org/html/rfc1459</span>
<a href="#l32.7"></a><span id="l32.7">  */</span>
<a href="#l32.8"></a><span id="l32.8"> this.EXPORTED_SYMBOLS = [&quot;ircBase&quot;];</span>
<a href="#l32.9"></a><span id="l32.9"> </span>
<a href="#l32.10"></a><span id="l32.10"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l32.11"></a><span id="l32.11"> </span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l32.14"></a><span id="l32.14" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l32.15"></a><span id="l32.15" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l32.16"></a><span id="l32.16" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l32.17"></a><span id="l32.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l32.18"></a><span id="l32.18" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l32.19"></a><span id="l32.19" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l32.20"></a><span id="l32.20" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l32.21"></a><span id="l32.21" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l32.22"></a><span id="l32.22"> </span>
<a href="#l32.23"></a><span id="l32.23"> function privmsg(aAccount, aMessage, aIsNotification) {</span>
<a href="#l32.24"></a><span id="l32.24">   let params = {incoming: true, tags: aMessage.tags};</span>
<a href="#l32.25"></a><span id="l32.25">   if (aIsNotification)</span>
<a href="#l32.26"></a><span id="l32.26">     params.notification = true;</span>
<a href="#l32.27"></a><span id="l32.27">   aAccount.getConversation(aAccount.isMUCName(aMessage.params[0]) ?</span>
<a href="#l32.28"></a><span id="l32.28">                              aMessage.params[0] : aMessage.origin)</span>
<a href="#l32.29"></a><span id="l32.29">           .writeMessage(aMessage.origin, aMessage.params[1], params);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/chat/protocols/irc/ircCAP.jsm</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/chat/protocols/irc/ircCAP.jsm</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -16,18 +16,18 @@</span>
<a href="#l33.4"></a><span id="l33.4">  * Note that this doesn't include any implementation as these RFCs do not even</span>
<a href="#l33.5"></a><span id="l33.5">  * include example parameters.</span>
<a href="#l33.6"></a><span id="l33.6">  */</span>
<a href="#l33.7"></a><span id="l33.7"> </span>
<a href="#l33.8"></a><span id="l33.8"> this.EXPORTED_SYMBOLS = [&quot;ircCAP&quot;];</span>
<a href="#l33.9"></a><span id="l33.9"> </span>
<a href="#l33.10"></a><span id="l33.10"> var Cu = Components.utils;</span>
<a href="#l33.11"></a><span id="l33.11"> </span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l33.14"></a><span id="l33.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l33.15"></a><span id="l33.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l33.16"></a><span id="l33.16"> </span>
<a href="#l33.17"></a><span id="l33.17"> /*</span>
<a href="#l33.18"></a><span id="l33.18">  * Parses a CAP message of the form:</span>
<a href="#l33.19"></a><span id="l33.19">  *   CAP &lt;subcommand&gt; [&lt;parameters&gt;]</span>
<a href="#l33.20"></a><span id="l33.20">  * The cap field is added to the message and it has the following fields:</span>
<a href="#l33.21"></a><span id="l33.21">  *   subcommand</span>
<a href="#l33.22"></a><span id="l33.22">  *   parameters A list of capabilities.</span>
<a href="#l33.23"></a><span id="l33.23">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/chat/protocols/irc/ircCTCP.jsm</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/chat/protocols/irc/ircCTCP.jsm</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -7,20 +7,20 @@</span>
<a href="#l34.4"></a><span id="l34.4">  *   REVISED AND UPDATED CTCP SPECIFICATION</span>
<a href="#l34.5"></a><span id="l34.5">  *     http://www.alien.net.au/irc/ctcp.txt</span>
<a href="#l34.6"></a><span id="l34.6">  */</span>
<a href="#l34.7"></a><span id="l34.7"> </span>
<a href="#l34.8"></a><span id="l34.8"> this.EXPORTED_SYMBOLS = [&quot;ircCTCP&quot;, &quot;ctcpBase&quot;];</span>
<a href="#l34.9"></a><span id="l34.9"> </span>
<a href="#l34.10"></a><span id="l34.10"> var Cu = Components.utils;</span>
<a href="#l34.11"></a><span id="l34.11"> </span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l34.14"></a><span id="l34.14" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l34.15"></a><span id="l34.15" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l34.16"></a><span id="l34.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l34.17"></a><span id="l34.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l34.18"></a><span id="l34.18" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l34.19"></a><span id="l34.19" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l34.20"></a><span id="l34.20"> </span>
<a href="#l34.21"></a><span id="l34.21"> // Split into a CTCP message which is a single command and a single parameter:</span>
<a href="#l34.22"></a><span id="l34.22"> //   &lt;command&gt; &quot; &quot; &lt;parameter&gt;</span>
<a href="#l34.23"></a><span id="l34.23"> // The high level dequote is to unescape \001 in the message content.</span>
<a href="#l34.24"></a><span id="l34.24"> function CTCPMessage(aMessage, aRawCTCPMessage) {</span>
<a href="#l34.25"></a><span id="l34.25">   let message = Object.assign({}, aMessage);</span>
<a href="#l34.26"></a><span id="l34.26">   message.ctcp = {};</span>
<a href="#l34.27"></a><span id="l34.27">   message.ctcp.rawMessage = aRawCTCPMessage;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/chat/protocols/irc/ircCommands.jsm</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/chat/protocols/irc/ircCommands.jsm</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -3,20 +3,19 @@</span>
<a href="#l35.4"></a><span id="l35.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l35.5"></a><span id="l35.5"> </span>
<a href="#l35.6"></a><span id="l35.6"> // This is to be exported directly onto the IRC prplIProtocol object, directly</span>
<a href="#l35.7"></a><span id="l35.7"> // implementing the commands field before we register them.</span>
<a href="#l35.8"></a><span id="l35.8"> this.EXPORTED_SYMBOLS = [&quot;commands&quot;];</span>
<a href="#l35.9"></a><span id="l35.9"> </span>
<a href="#l35.10"></a><span id="l35.10"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l35.11"></a><span id="l35.11"> </span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l35.14"></a><span id="l35.14" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;Task&quot;,</span>
<a href="#l35.15"></a><span id="l35.15" class="difflineminus">-  &quot;resource://gre/modules/Task.jsm&quot;);</span>
<a href="#l35.16"></a><span id="l35.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l35.17"></a><span id="l35.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l35.18"></a><span id="l35.18" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;Task&quot;, &quot;resource://gre/modules/Task.jsm&quot;);</span>
<a href="#l35.19"></a><span id="l35.19"> </span>
<a href="#l35.20"></a><span id="l35.20"> // Shortcut to get the JavaScript conversation object.</span>
<a href="#l35.21"></a><span id="l35.21"> function getConv(aConv) { return aConv.wrappedJSObject; }</span>
<a href="#l35.22"></a><span id="l35.22"> </span>
<a href="#l35.23"></a><span id="l35.23"> // Shortcut to get the JavaScript account object.</span>
<a href="#l35.24"></a><span id="l35.24"> function getAccount(aConv) { return getConv(aConv)._account; }</span>
<a href="#l35.25"></a><span id="l35.25"> </span>
<a href="#l35.26"></a><span id="l35.26"> // Trim leading and trailing spaces and split a string by any type of space.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/chat/protocols/irc/ircDCC.jsm</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/chat/protocols/irc/ircDCC.jsm</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -8,19 +8,19 @@</span>
<a href="#l36.4"></a><span id="l36.4">  *   A description of the DCC protocol</span>
<a href="#l36.5"></a><span id="l36.5">  *     http://www.irchelp.org/irchelp/rfc/dccspec.html</span>
<a href="#l36.6"></a><span id="l36.6">  */</span>
<a href="#l36.7"></a><span id="l36.7"> </span>
<a href="#l36.8"></a><span id="l36.8"> this.EXPORTED_SYMBOLS = [&quot;ctcpDCC&quot;/*, &quot;dccBase&quot;*/];</span>
<a href="#l36.9"></a><span id="l36.9"> </span>
<a href="#l36.10"></a><span id="l36.10"> var Cu = Components.utils;</span>
<a href="#l36.11"></a><span id="l36.11"> </span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l36.14"></a><span id="l36.14" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l36.15"></a><span id="l36.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l36.16"></a><span id="l36.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l36.17"></a><span id="l36.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l36.18"></a><span id="l36.18"> </span>
<a href="#l36.19"></a><span id="l36.19"> // Parse a CTCP message into a DCC message. A DCC message is a CTCP message of</span>
<a href="#l36.20"></a><span id="l36.20"> // the form:</span>
<a href="#l36.21"></a><span id="l36.21"> //   DCC &lt;type&gt; &lt;argument&gt; &lt;address&gt; &lt;port&gt; [&lt;size&gt;]</span>
<a href="#l36.22"></a><span id="l36.22"> function DCCMessage(aMessage, aAccount) {</span>
<a href="#l36.23"></a><span id="l36.23">   let message = aMessage;</span>
<a href="#l36.24"></a><span id="l36.24">   let params = message.ctcp.param.split(&quot; &quot;);</span>
<a href="#l36.25"></a><span id="l36.25">   if (params.length &lt; 4) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/chat/protocols/irc/ircHandlers.jsm</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/chat/protocols/irc/ircHandlers.jsm</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l37.4"></a><span id="l37.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l37.5"></a><span id="l37.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l37.6"></a><span id="l37.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l37.7"></a><span id="l37.7"> </span>
<a href="#l37.8"></a><span id="l37.8"> this.EXPORTED_SYMBOLS = [&quot;ircHandlers&quot;];</span>
<a href="#l37.9"></a><span id="l37.9"> </span>
<a href="#l37.10"></a><span id="l37.10"> var Cu = Components.utils;</span>
<a href="#l37.11"></a><span id="l37.11"> </span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l37.14"></a><span id="l37.14"> </span>
<a href="#l37.15"></a><span id="l37.15"> var ircHandlers = {</span>
<a href="#l37.16"></a><span id="l37.16">   /*</span>
<a href="#l37.17"></a><span id="l37.17">    * Object to hold the IRC handlers, each handler is an object that implements:</span>
<a href="#l37.18"></a><span id="l37.18">    *   name        The display name of the handler.</span>
<a href="#l37.19"></a><span id="l37.19">    *   priority    The priority of the handler (0 is default, positive is</span>
<a href="#l37.20"></a><span id="l37.20">    *               higher priority)</span>
<a href="#l37.21"></a><span id="l37.21">    *   isEnabled   A function where 'this' is bound to the account object. This</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/chat/protocols/irc/ircISUPPORT.jsm</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/chat/protocols/irc/ircISUPPORT.jsm</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -11,18 +11,18 @@</span>
<a href="#l38.4"></a><span id="l38.4">  *     http://tools.ietf.org/html/draft-brocklesby-irc-isupport-03</span>
<a href="#l38.5"></a><span id="l38.5">  *     http://tools.ietf.org/html/draft-hardy-irc-isupport-00</span>
<a href="#l38.6"></a><span id="l38.6">  */</span>
<a href="#l38.7"></a><span id="l38.7"> </span>
<a href="#l38.8"></a><span id="l38.8"> this.EXPORTED_SYMBOLS = [&quot;ircISUPPORT&quot;, &quot;isupportBase&quot;];</span>
<a href="#l38.9"></a><span id="l38.9"> </span>
<a href="#l38.10"></a><span id="l38.10"> var Cu = Components.utils;</span>
<a href="#l38.11"></a><span id="l38.11"> </span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l38.14"></a><span id="l38.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l38.15"></a><span id="l38.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l38.16"></a><span id="l38.16"> </span>
<a href="#l38.17"></a><span id="l38.17"> /*</span>
<a href="#l38.18"></a><span id="l38.18">  * Parses an ircMessage into an ISUPPORT message for each token of the form:</span>
<a href="#l38.19"></a><span id="l38.19">  *   &lt;parameter&gt;=&lt;value&gt; or -&lt;value&gt;</span>
<a href="#l38.20"></a><span id="l38.20">  * The isupport field is added to the message and it has the following fields:</span>
<a href="#l38.21"></a><span id="l38.21">  *   parameter  What is being configured by this ISUPPORT token.</span>
<a href="#l38.22"></a><span id="l38.22">  *   useDefault Whether this parameter should be reset to the default value, as</span>
<a href="#l38.23"></a><span id="l38.23">  *              defined by the RFC.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/chat/protocols/irc/ircMultiPrefix.jsm</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/chat/protocols/irc/ircMultiPrefix.jsm</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -12,17 +12,17 @@</span>
<a href="#l39.4"></a><span id="l39.4">  * foo knows that it has mode +h, but bar does not know foo has +h set.</span>
<a href="#l39.5"></a><span id="l39.5">  *</span>
<a href="#l39.6"></a><span id="l39.6">  *   http://wiki.inspircd.org/Modules/2.1/namesx</span>
<a href="#l39.7"></a><span id="l39.7">  *   http://ircv3.atheme.org/extensions/multi-prefix-3.1</span>
<a href="#l39.8"></a><span id="l39.8">  */</span>
<a href="#l39.9"></a><span id="l39.9"> </span>
<a href="#l39.10"></a><span id="l39.10"> this.EXPORTED_SYMBOLS = [&quot;isupportNAMESX&quot;, &quot;capMultiPrefix&quot;];</span>
<a href="#l39.11"></a><span id="l39.11"> </span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l39.13"></a><span id="l39.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l39.14"></a><span id="l39.14"> </span>
<a href="#l39.15"></a><span id="l39.15"> var isupportNAMESX = {</span>
<a href="#l39.16"></a><span id="l39.16">   name: &quot;ISUPPORT NAMESX&quot;,</span>
<a href="#l39.17"></a><span id="l39.17">   // Slightly above default ISUPPORT priority.</span>
<a href="#l39.18"></a><span id="l39.18">   priority: ircHandlers.DEFAULT_PRIORITY + 10,</span>
<a href="#l39.19"></a><span id="l39.19">   isEnabled: () =&gt; true,</span>
<a href="#l39.20"></a><span id="l39.20"> </span>
<a href="#l39.21"></a><span id="l39.21">   commands: {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/chat/protocols/irc/ircNonStandard.jsm</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/chat/protocols/irc/ircNonStandard.jsm</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -11,18 +11,18 @@</span>
<a href="#l40.4"></a><span id="l40.4">  * Resources for these commands include:</span>
<a href="#l40.5"></a><span id="l40.5">  *  https://github.com/atheme/charybdis/blob/master/include/numeric.h</span>
<a href="#l40.6"></a><span id="l40.6">  *  http://hg.unrealircd.com/hg/unreal/raw-file/tip/include/numeric.h</span>
<a href="#l40.7"></a><span id="l40.7">  */</span>
<a href="#l40.8"></a><span id="l40.8"> this.EXPORTED_SYMBOLS = [&quot;ircNonStandard&quot;];</span>
<a href="#l40.9"></a><span id="l40.9"> </span>
<a href="#l40.10"></a><span id="l40.10"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l40.11"></a><span id="l40.11"> </span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l40.13"></a><span id="l40.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l40.14"></a><span id="l40.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l40.15"></a><span id="l40.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l40.16"></a><span id="l40.16"> </span>
<a href="#l40.17"></a><span id="l40.17"> var ircNonStandard = {</span>
<a href="#l40.18"></a><span id="l40.18">   name: &quot;Non-Standard IRC Extensions&quot;,</span>
<a href="#l40.19"></a><span id="l40.19">   priority: ircHandlers.DEFAULT_PRIORITY + 1,</span>
<a href="#l40.20"></a><span id="l40.20">   isEnabled: () =&gt; true,</span>
<a href="#l40.21"></a><span id="l40.21"> </span>
<a href="#l40.22"></a><span id="l40.22">   commands: {</span>
<a href="#l40.23"></a><span id="l40.23">     &quot;NOTICE&quot;: function(aMessage) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/chat/protocols/irc/ircSASL.jsm</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/chat/protocols/irc/ircSASL.jsm</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -7,18 +7,18 @@</span>
<a href="#l41.4"></a><span id="l41.4">  *   https://raw.github.com/atheme/atheme/master/doc/SASL</span>
<a href="#l41.5"></a><span id="l41.5">  *   https://github.com/ircv3/ircv3-specifications/blob/master/extensions/sasl-3.1</span>
<a href="#l41.6"></a><span id="l41.6">  */</span>
<a href="#l41.7"></a><span id="l41.7"> </span>
<a href="#l41.8"></a><span id="l41.8"> this.EXPORTED_SYMBOLS = [&quot;ircSASL&quot;, &quot;capSASL&quot;];</span>
<a href="#l41.9"></a><span id="l41.9"> </span>
<a href="#l41.10"></a><span id="l41.10"> var Cu = Components.utils;</span>
<a href="#l41.11"></a><span id="l41.11"> </span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l41.14"></a><span id="l41.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l41.15"></a><span id="l41.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l41.16"></a><span id="l41.16"> </span>
<a href="#l41.17"></a><span id="l41.17"> var ircSASL = {</span>
<a href="#l41.18"></a><span id="l41.18">   name: &quot;SASL AUTHENTICATE&quot;,</span>
<a href="#l41.19"></a><span id="l41.19">   priority: ircHandlers.DEFAULT_PRIORITY,</span>
<a href="#l41.20"></a><span id="l41.20">   isEnabled: () =&gt; true,</span>
<a href="#l41.21"></a><span id="l41.21"> </span>
<a href="#l41.22"></a><span id="l41.22">   commands: {</span>
<a href="#l41.23"></a><span id="l41.23">     &quot;AUTHENTICATE&quot;: function(aMessage) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/chat/protocols/irc/ircServerTime.jsm</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/chat/protocols/irc/ircServerTime.jsm</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l42.4"></a><span id="l42.4">  * This implements server-time for IRC.</span>
<a href="#l42.5"></a><span id="l42.5">  *   http://ircv3.net/specs/extensions/server-time-3.2.html</span>
<a href="#l42.6"></a><span id="l42.6">  */</span>
<a href="#l42.7"></a><span id="l42.7"> </span>
<a href="#l42.8"></a><span id="l42.8"> this.EXPORTED_SYMBOLS = [&quot;capServerTime&quot;, &quot;tagServerTime&quot;];</span>
<a href="#l42.9"></a><span id="l42.9"> </span>
<a href="#l42.10"></a><span id="l42.10"> const Cu = Components.utils;</span>
<a href="#l42.11"></a><span id="l42.11"> </span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l42.13"></a><span id="l42.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l42.14"></a><span id="l42.14"> </span>
<a href="#l42.15"></a><span id="l42.15"> function handleServerTimeTag(aMsg) {</span>
<a href="#l42.16"></a><span id="l42.16">   if (aMsg.tagValue) {</span>
<a href="#l42.17"></a><span id="l42.17">     // Normalize leap seconds to the next second before it.</span>
<a href="#l42.18"></a><span id="l42.18">     const time = aMsg.tagValue.replace(/60.\d{3}(?=Z$)/, &quot;59.999&quot;);</span>
<a href="#l42.19"></a><span id="l42.19">     aMsg.message.time = Math.floor(Date.parse(time) / 1000);</span>
<a href="#l42.20"></a><span id="l42.20">     aMsg.message.delayed = true;</span>
<a href="#l42.21"></a><span id="l42.21">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/chat/protocols/irc/ircServices.jsm</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/chat/protocols/irc/ircServices.jsm</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -15,19 +15,19 @@</span>
<a href="#l43.4"></a><span id="l43.4">  * Anope</span>
<a href="#l43.5"></a><span id="l43.5">  *  http://www.anope.org/docgen/1.8/</span>
<a href="#l43.6"></a><span id="l43.6">  */</span>
<a href="#l43.7"></a><span id="l43.7"> </span>
<a href="#l43.8"></a><span id="l43.8"> this.EXPORTED_SYMBOLS = [&quot;ircServices&quot;, &quot;servicesBase&quot;];</span>
<a href="#l43.9"></a><span id="l43.9"> </span>
<a href="#l43.10"></a><span id="l43.10"> var Cu = Components.utils;</span>
<a href="#l43.11"></a><span id="l43.11"> </span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l43.13"></a><span id="l43.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l43.14"></a><span id="l43.14" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l43.15"></a><span id="l43.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l43.16"></a><span id="l43.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l43.17"></a><span id="l43.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l43.18"></a><span id="l43.18"> </span>
<a href="#l43.19"></a><span id="l43.19"> /*</span>
<a href="#l43.20"></a><span id="l43.20">  * If a service is found, an extra field (serviceName) is added with the</span>
<a href="#l43.21"></a><span id="l43.21">  * &quot;generic&quot; service name (e.g. a bot which performs NickServ like functionality</span>
<a href="#l43.22"></a><span id="l43.22">  * will be mapped to NickServ).</span>
<a href="#l43.23"></a><span id="l43.23">  */</span>
<a href="#l43.24"></a><span id="l43.24"> function ServiceMessage(aAccount, aMessage) {</span>
<a href="#l43.25"></a><span id="l43.25">   // This should be a property of the account or configurable somehow, it maps</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/chat/protocols/irc/ircUtils.jsm</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/chat/protocols/irc/ircUtils.jsm</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l44.4"></a><span id="l44.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l44.5"></a><span id="l44.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l44.6"></a><span id="l44.6"> </span>
<a href="#l44.7"></a><span id="l44.7"> this.EXPORTED_SYMBOLS = [&quot;_&quot;, &quot;_conv&quot;, &quot;ctcpFormatToText&quot;, &quot;ctcpFormatToHTML&quot;,</span>
<a href="#l44.8"></a><span id="l44.8">                           &quot;conversationErrorMessage&quot;, &quot;kListRefreshInterval&quot;];</span>
<a href="#l44.9"></a><span id="l44.9"> </span>
<a href="#l44.10"></a><span id="l44.10"> var {classes: Cc, interfaces: Ci} = Components;</span>
<a href="#l44.11"></a><span id="l44.11"> </span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l44.13"></a><span id="l44.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l44.14"></a><span id="l44.14"> </span>
<a href="#l44.15"></a><span id="l44.15"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l44.16"></a><span id="l44.16">   l10nHelper(&quot;chrome://chat/locale/irc.properties&quot;)</span>
<a href="#l44.17"></a><span id="l44.17"> );</span>
<a href="#l44.18"></a><span id="l44.18"> </span>
<a href="#l44.19"></a><span id="l44.19"> XPCOMUtils.defineLazyGetter(this, &quot;_conv&quot;, () =&gt;</span>
<a href="#l44.20"></a><span id="l44.20">   l10nHelper(&quot;chrome://chat/locale/conversations.properties&quot;)</span>
<a href="#l44.21"></a><span id="l44.21"> );</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/chat/protocols/irc/ircWatchMonitor.jsm</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/chat/protocols/irc/ircWatchMonitor.jsm</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -12,19 +12,19 @@</span>
<a href="#l45.4"></a><span id="l45.4">  *     http://www.stack.nl/~jilles/cgi-bin/hgwebdir.cgi/irc-documentation-jilles/raw-file/tip/reference/draft-meglio-irc-watch-00.txt</span>
<a href="#l45.5"></a><span id="l45.5">  */</span>
<a href="#l45.6"></a><span id="l45.6"> </span>
<a href="#l45.7"></a><span id="l45.7"> this.EXPORTED_SYMBOLS = [&quot;ircWATCH&quot;, &quot;isupportWATCH&quot;, &quot;ircMONITOR&quot;,</span>
<a href="#l45.8"></a><span id="l45.8">                           &quot;isupportMONITOR&quot;];</span>
<a href="#l45.9"></a><span id="l45.9"> </span>
<a href="#l45.10"></a><span id="l45.10"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l45.11"></a><span id="l45.11"> </span>
<a href="#l45.12"></a><span id="l45.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l45.13"></a><span id="l45.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l45.14"></a><span id="l45.14" class="difflineminus">-Cu.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l45.15"></a><span id="l45.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l45.16"></a><span id="l45.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircHandlers.jsm&quot;);</span>
<a href="#l45.17"></a><span id="l45.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l45.18"></a><span id="l45.18"> </span>
<a href="#l45.19"></a><span id="l45.19"> function setStatus(aAccount, aNick, aStatus) {</span>
<a href="#l45.20"></a><span id="l45.20">   if (!aAccount.watchEnabled &amp;&amp; !aAccount.monitorEnabled)</span>
<a href="#l45.21"></a><span id="l45.21">     return false;</span>
<a href="#l45.22"></a><span id="l45.22"> </span>
<a href="#l45.23"></a><span id="l45.23">   if (aStatus == &quot;AWAY&quot;) {</span>
<a href="#l45.24"></a><span id="l45.24">     // We need to request the away message.</span>
<a href="#l45.25"></a><span id="l45.25">     aAccount.requestCurrentWhois(aNick);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ctcpColoring.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ctcpColoring.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l46.4"></a><span id="l46.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l46.5"></a><span id="l46.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l46.6"></a><span id="l46.6"> </span>
<a href="#l46.7"></a><span id="l46.7" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l46.8"></a><span id="l46.8" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l46.9"></a><span id="l46.9"> </span>
<a href="#l46.10"></a><span id="l46.10"> var input = [</span>
<a href="#l46.11"></a><span id="l46.11">   // From http://www.mirc.com/colors.html</span>
<a href="#l46.12"></a><span id="l46.12">   &quot;\x035,12colored text and background\x03&quot;,</span>
<a href="#l46.13"></a><span id="l46.13">   &quot;\x035colored text\x03&quot;,</span>
<a href="#l46.14"></a><span id="l46.14">   &quot;\x033colored text \x035,2more colored text and background\x03&quot;,</span>
<a href="#l46.15"></a><span id="l46.15">   &quot;\x033,5colored text and background \x038other colored text but same background\x03&quot;,</span>
<a href="#l46.16"></a><span id="l46.16">   &quot;\x033,5colored text and background \x038,7other colored text and different background\x03&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ctcpDequote.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ctcpDequote.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l47.4"></a><span id="l47.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l47.5"></a><span id="l47.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l47.6"></a><span id="l47.6"> </span>
<a href="#l47.7"></a><span id="l47.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l47.8"></a><span id="l47.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l47.9"></a><span id="l47.9"> var ircCTCP = {};</span>
<a href="#l47.10"></a><span id="l47.10"> Services.scriptloader.loadSubScript(&quot;resource:///modules/ircCTCP.jsm&quot;, ircCTCP);</span>
<a href="#l47.11"></a><span id="l47.11"> </span>
<a href="#l47.12"></a><span id="l47.12"> var input = [</span>
<a href="#l47.13"></a><span id="l47.13">   &quot;ACTION&quot;,</span>
<a href="#l47.14"></a><span id="l47.14">   &quot;ACTION test&quot;,</span>
<a href="#l47.15"></a><span id="l47.15">   &quot;ACTION \x5Ctest&quot;,</span>
<a href="#l47.16"></a><span id="l47.16">   &quot;ACTION te\x5Cst&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ctcpFormatting.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ctcpFormatting.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l48.4"></a><span id="l48.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l48.5"></a><span id="l48.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l48.6"></a><span id="l48.6"> </span>
<a href="#l48.7"></a><span id="l48.7" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l48.8"></a><span id="l48.8" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircUtils.jsm&quot;);</span>
<a href="#l48.9"></a><span id="l48.9"> </span>
<a href="#l48.10"></a><span id="l48.10"> //TODO add a test for special JS characters (|, etc...)</span>
<a href="#l48.11"></a><span id="l48.11"> </span>
<a href="#l48.12"></a><span id="l48.12"> var input = [</span>
<a href="#l48.13"></a><span id="l48.13">   &quot;The quick brown fox \x02jumps\x02 over the lazy dog.&quot;,</span>
<a href="#l48.14"></a><span id="l48.14">   &quot;The quick brown fox \x02jumps\x0F over the lazy dog.&quot;,</span>
<a href="#l48.15"></a><span id="l48.15">   &quot;The quick brown \x16fox jumps\x16 over the lazy dog.&quot;,</span>
<a href="#l48.16"></a><span id="l48.16">   &quot;The quick brown \x16fox jumps\x0F over the lazy dog.&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ctcpQuote.js</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ctcpQuote.js</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l49.4"></a><span id="l49.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l49.5"></a><span id="l49.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l49.6"></a><span id="l49.6"> </span>
<a href="#l49.7"></a><span id="l49.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l49.8"></a><span id="l49.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l49.9"></a><span id="l49.9"> var irc = {};</span>
<a href="#l49.10"></a><span id="l49.10"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l49.11"></a><span id="l49.11"> </span>
<a href="#l49.12"></a><span id="l49.12"> var input = [</span>
<a href="#l49.13"></a><span id="l49.13">   undefined,</span>
<a href="#l49.14"></a><span id="l49.14">   &quot;test&quot;,</span>
<a href="#l49.15"></a><span id="l49.15">   &quot;\\test&quot;,</span>
<a href="#l49.16"></a><span id="l49.16">   &quot;te\\st&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ircCAP.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ircCAP.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l50.4"></a><span id="l50.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l50.5"></a><span id="l50.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l50.6"></a><span id="l50.6"> </span>
<a href="#l50.7"></a><span id="l50.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l50.8"></a><span id="l50.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l50.9"></a><span id="l50.9"> var cap = {};</span>
<a href="#l50.10"></a><span id="l50.10"> Services.scriptloader.loadSubScript(&quot;resource:///modules/ircCAP.jsm&quot;, cap);</span>
<a href="#l50.11"></a><span id="l50.11"> </span>
<a href="#l50.12"></a><span id="l50.12"> var testData = [</span>
<a href="#l50.13"></a><span id="l50.13">   // A normal LS from the server.</span>
<a href="#l50.14"></a><span id="l50.14">   [</span>
<a href="#l50.15"></a><span id="l50.15">     [&quot;*&quot;, &quot;LS&quot;, &quot;multi-prefix sasl userhost-in-names&quot;],</span>
<a href="#l50.16"></a><span id="l50.16">     [{</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ircCommands.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ircCommands.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l51.4"></a><span id="l51.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l51.5"></a><span id="l51.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l51.6"></a><span id="l51.6"> </span>
<a href="#l51.7"></a><span id="l51.7" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l51.8"></a><span id="l51.8" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ircCommands.jsm&quot;);</span>
<a href="#l51.9"></a><span id="l51.9" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l51.10"></a><span id="l51.10" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircCommands.jsm&quot;);</span>
<a href="#l51.11"></a><span id="l51.11"> </span>
<a href="#l51.12"></a><span id="l51.12"> var irc = {};</span>
<a href="#l51.13"></a><span id="l51.13"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l51.14"></a><span id="l51.14"> </span>
<a href="#l51.15"></a><span id="l51.15"> // Ensure the commands have been initialized.</span>
<a href="#l51.16"></a><span id="l51.16"> Services.conversations.initConversations();</span>
<a href="#l51.17"></a><span id="l51.17"> </span>
<a href="#l51.18"></a><span id="l51.18"> var fakeProto = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ircMessage.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ircMessage.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l52.4"></a><span id="l52.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l52.5"></a><span id="l52.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l52.6"></a><span id="l52.6"> </span>
<a href="#l52.7"></a><span id="l52.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l52.8"></a><span id="l52.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l52.9"></a><span id="l52.9"> var irc = {};</span>
<a href="#l52.10"></a><span id="l52.10"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l52.11"></a><span id="l52.11"> </span>
<a href="#l52.12"></a><span id="l52.12"> var testData = [</span>
<a href="#l52.13"></a><span id="l52.13">   // First off, let's test the messages from RFC 2812.</span>
<a href="#l52.14"></a><span id="l52.14">   &quot;PASS secretpasswordhere&quot;,</span>
<a href="#l52.15"></a><span id="l52.15">   &quot;NICK Wiz&quot;,</span>
<a href="#l52.16"></a><span id="l52.16">   &quot;:WiZ!jto@tolsun.oulu.fi NICK Kilroy&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ircNonStandard.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ircNonStandard.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l53.4"></a><span id="l53.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l53.5"></a><span id="l53.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l53.6"></a><span id="l53.6"> </span>
<a href="#l53.7"></a><span id="l53.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l53.8"></a><span id="l53.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l53.9"></a><span id="l53.9"> var irc = {};</span>
<a href="#l53.10"></a><span id="l53.10"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l53.11"></a><span id="l53.11" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ircNonStandard.jsm&quot;);</span>
<a href="#l53.12"></a><span id="l53.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircNonStandard.jsm&quot;);</span>
<a href="#l53.13"></a><span id="l53.13"> </span>
<a href="#l53.14"></a><span id="l53.14"> // The function that is under test here.</span>
<a href="#l53.15"></a><span id="l53.15"> var NOTICE = ircNonStandard.commands[&quot;NOTICE&quot;];</span>
<a href="#l53.16"></a><span id="l53.16"> </span>
<a href="#l53.17"></a><span id="l53.17"> function FakeConversation() {}</span>
<a href="#l53.18"></a><span id="l53.18"> FakeConversation.prototype = {</span>
<a href="#l53.19"></a><span id="l53.19">   writeMessage: function(aSender, aTarget, aOpts) {}</span>
<a href="#l53.20"></a><span id="l53.20"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ircServerTime.js</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ircServerTime.js</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l54.4"></a><span id="l54.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l54.5"></a><span id="l54.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l54.6"></a><span id="l54.6"> </span>
<a href="#l54.7"></a><span id="l54.7" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ircServerTime.jsm&quot;);</span>
<a href="#l54.8"></a><span id="l54.8" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l54.9"></a><span id="l54.9" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ircServerTime.jsm&quot;);</span>
<a href="#l54.10"></a><span id="l54.10" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l54.11"></a><span id="l54.11"> </span>
<a href="#l54.12"></a><span id="l54.12"> var irc = {};</span>
<a href="#l54.13"></a><span id="l54.13"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l54.14"></a><span id="l54.14"> </span>
<a href="#l54.15"></a><span id="l54.15"> function getTags(aRawMsg) {</span>
<a href="#l54.16"></a><span id="l54.16">   const {tags} = irc.ircMessage(aRawMsg, &quot;doesnt@matter&quot;);</span>
<a href="#l54.17"></a><span id="l54.17"> </span>
<a href="#l54.18"></a><span id="l54.18">   return tags;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/chat/protocols/irc/test/test_sendBufferedCommand.js</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_sendBufferedCommand.js</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l55.4"></a><span id="l55.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l55.5"></a><span id="l55.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l55.6"></a><span id="l55.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l55.7"></a><span id="l55.7"> </span>
<a href="#l55.8"></a><span id="l55.8" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l55.9"></a><span id="l55.9" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l55.10"></a><span id="l55.10"> var irc = {};</span>
<a href="#l55.11"></a><span id="l55.11"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l55.12"></a><span id="l55.12"> </span>
<a href="#l55.13"></a><span id="l55.13"> function FakeAccount() {</span>
<a href="#l55.14"></a><span id="l55.14">   this._commandBuffers = new Map();</span>
<a href="#l55.15"></a><span id="l55.15">   this.callbacks = [];</span>
<a href="#l55.16"></a><span id="l55.16"> }</span>
<a href="#l55.17"></a><span id="l55.17"> FakeAccount.prototype = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/chat/protocols/irc/test/test_setMode.js</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_setMode.js</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l56.4"></a><span id="l56.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l56.5"></a><span id="l56.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l56.6"></a><span id="l56.6"> </span>
<a href="#l56.7"></a><span id="l56.7" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l56.8"></a><span id="l56.8" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l56.9"></a><span id="l56.9"> var irc = {};</span>
<a href="#l56.10"></a><span id="l56.10"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l56.11"></a><span id="l56.11"> Services.conversations.initConversations();</span>
<a href="#l56.12"></a><span id="l56.12"> </span>
<a href="#l56.13"></a><span id="l56.13"> </span>
<a href="#l56.14"></a><span id="l56.14"> function FakeAccount() {</span>
<a href="#l56.15"></a><span id="l56.15">   this.normalizeNick = irc.ircAccount.prototype.normalizeNick.bind(this);</span>
<a href="#l56.16"></a><span id="l56.16"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/chat/protocols/irc/test/test_splitLongMessages.js</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_splitLongMessages.js</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l57.4"></a><span id="l57.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l57.5"></a><span id="l57.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l57.6"></a><span id="l57.6"> </span>
<a href="#l57.7"></a><span id="l57.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l57.8"></a><span id="l57.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l57.9"></a><span id="l57.9"> var irc = {};</span>
<a href="#l57.10"></a><span id="l57.10"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l57.11"></a><span id="l57.11"> </span>
<a href="#l57.12"></a><span id="l57.12"> var messages = {</span>
<a href="#l57.13"></a><span id="l57.13">   // Exactly 51 characters.</span>
<a href="#l57.14"></a><span id="l57.14">   &quot;This is a test.&quot;: [&quot;This is a test.&quot;],</span>
<a href="#l57.15"></a><span id="l57.15">   // Too long.</span>
<a href="#l57.16"></a><span id="l57.16">   &quot;This is a message that is too long.&quot;:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/chat/protocols/irc/test/test_tryNewNick.js</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_tryNewNick.js</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l58.4"></a><span id="l58.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l58.5"></a><span id="l58.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l58.6"></a><span id="l58.6"> </span>
<a href="#l58.7"></a><span id="l58.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l58.8"></a><span id="l58.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l58.9"></a><span id="l58.9"> var irc = {};</span>
<a href="#l58.10"></a><span id="l58.10"> Services.scriptloader.loadSubScript(&quot;resource:///components/irc.js&quot;, irc);</span>
<a href="#l58.11"></a><span id="l58.11"> </span>
<a href="#l58.12"></a><span id="l58.12"> var fakeProto = {</span>
<a href="#l58.13"></a><span id="l58.13">   id: &quot;fake-proto&quot;,</span>
<a href="#l58.14"></a><span id="l58.14">   options: {alternateNicks: &quot;&quot;},</span>
<a href="#l58.15"></a><span id="l58.15">   _getOptionDefault: function(aOption) { return this.options[aOption]; }</span>
<a href="#l58.16"></a><span id="l58.16"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/chat/protocols/jsTest/jsTestProtocol.js</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/chat/protocols/jsTest/jsTestProtocol.js</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l59.4"></a><span id="l59.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l59.5"></a><span id="l59.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l59.6"></a><span id="l59.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l59.7"></a><span id="l59.7"> </span>
<a href="#l59.8"></a><span id="l59.8" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l59.9"></a><span id="l59.9" class="difflineminus">-Components.utils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l59.10"></a><span id="l59.10" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l59.11"></a><span id="l59.11" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l59.12"></a><span id="l59.12"> </span>
<a href="#l59.13"></a><span id="l59.13"> function Conversation(aAccount)</span>
<a href="#l59.14"></a><span id="l59.14"> {</span>
<a href="#l59.15"></a><span id="l59.15">   this._init(aAccount);</span>
<a href="#l59.16"></a><span id="l59.16"> }</span>
<a href="#l59.17"></a><span id="l59.17"> Conversation.prototype = {</span>
<a href="#l59.18"></a><span id="l59.18">   __proto__: GenericConvIMPrototype,</span>
<a href="#l59.19"></a><span id="l59.19">   _disconnected: false,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/chat/protocols/matrix/matrix-sdk.jsm</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/chat/protocols/matrix/matrix-sdk.jsm</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l60.4"></a><span id="l60.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l60.5"></a><span id="l60.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l60.6"></a><span id="l60.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l60.7"></a><span id="l60.7"> </span>
<a href="#l60.8"></a><span id="l60.8"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l60.9"></a><span id="l60.9"> </span>
<a href="#l60.10"></a><span id="l60.10" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Console.jsm&quot;);</span>
<a href="#l60.11"></a><span id="l60.11" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l60.12"></a><span id="l60.12" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Timer.jsm&quot;);</span>
<a href="#l60.13"></a><span id="l60.13" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Console.jsm&quot;);</span>
<a href="#l60.14"></a><span id="l60.14" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l60.15"></a><span id="l60.15" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Timer.jsm&quot;);</span>
<a href="#l60.16"></a><span id="l60.16"> Cu.importGlobalProperties([&quot;XMLHttpRequest&quot;]);</span>
<a href="#l60.17"></a><span id="l60.17"> </span>
<a href="#l60.18"></a><span id="l60.18" class="difflineminus">-const { Loader, Require, Module } = Cu.import(&quot;resource://devtools/shared/base-loader.js&quot;, {});</span>
<a href="#l60.19"></a><span id="l60.19" class="difflineplus">+const { Loader, Require, Module } = ChromeUtils.import(&quot;resource://devtools/shared/base-loader.js&quot;, {});</span>
<a href="#l60.20"></a><span id="l60.20"> </span>
<a href="#l60.21"></a><span id="l60.21"> this.EXPORTED_SYMBOLS = [&quot;MatrixSDK&quot;];</span>
<a href="#l60.22"></a><span id="l60.22"> </span>
<a href="#l60.23"></a><span id="l60.23"> // Set-up loading so require works properly in CommonJS modules.</span>
<a href="#l60.24"></a><span id="l60.24"> let matrixPath = &quot;resource:///modules/matrix/&quot;;</span>
<a href="#l60.25"></a><span id="l60.25"> let loader = Loader({</span>
<a href="#l60.26"></a><span id="l60.26">   paths: {</span>
<a href="#l60.27"></a><span id="l60.27">       &quot;&quot;: matrixPath,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/chat/protocols/matrix/matrix.js</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/chat/protocols/matrix/matrix.js</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -1,24 +1,22 @@</span>
<a href="#l61.4"></a><span id="l61.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l61.5"></a><span id="l61.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l61.6"></a><span id="l61.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l61.7"></a><span id="l61.7"> </span>
<a href="#l61.8"></a><span id="l61.8"> var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l61.9"></a><span id="l61.9"> </span>
<a href="#l61.10"></a><span id="l61.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l61.11"></a><span id="l61.11" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l61.13"></a><span id="l61.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l61.14"></a><span id="l61.14"> </span>
<a href="#l61.15"></a><span id="l61.15"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l61.16"></a><span id="l61.16">   l10nHelper(&quot;chrome://chat/locale/matrix.properties&quot;)</span>
<a href="#l61.17"></a><span id="l61.17"> );</span>
<a href="#l61.18"></a><span id="l61.18"> </span>
<a href="#l61.19"></a><span id="l61.19" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;MatrixSDK&quot;,</span>
<a href="#l61.20"></a><span id="l61.20" class="difflineminus">-                                  &quot;resource:///modules/matrix-sdk.jsm&quot;</span>
<a href="#l61.21"></a><span id="l61.21" class="difflineminus">-);</span>
<a href="#l61.22"></a><span id="l61.22" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;MatrixSDK&quot;, &quot;resource:///modules/matrix-sdk.jsm&quot;);</span>
<a href="#l61.23"></a><span id="l61.23"> </span>
<a href="#l61.24"></a><span id="l61.24"> function MatrixParticipant(aRoomMember) {</span>
<a href="#l61.25"></a><span id="l61.25">   // FIXME: Should probably use aRoomMember.name, but it's not unique id?</span>
<a href="#l61.26"></a><span id="l61.26">   this._name = aRoomMember.userId;</span>
<a href="#l61.27"></a><span id="l61.27">   this._roomMember = aRoomMember;</span>
<a href="#l61.28"></a><span id="l61.28"> }</span>
<a href="#l61.29"></a><span id="l61.29"> MatrixParticipant.prototype = {</span>
<a href="#l61.30"></a><span id="l61.30">   __proto__: GenericConvChatBuddyPrototype,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/chat/protocols/odnoklassniki/odnoklassniki.js</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/chat/protocols/odnoklassniki/odnoklassniki.js</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l62.4"></a><span id="l62.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l62.5"></a><span id="l62.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l62.6"></a><span id="l62.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l62.7"></a><span id="l62.7"> </span>
<a href="#l62.8"></a><span id="l62.8"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l62.9"></a><span id="l62.9"> </span>
<a href="#l62.10"></a><span id="l62.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l62.11"></a><span id="l62.11" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l62.12"></a><span id="l62.12" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l62.13"></a><span id="l62.13" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l62.14"></a><span id="l62.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l62.15"></a><span id="l62.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l62.16"></a><span id="l62.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l62.17"></a><span id="l62.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l62.18"></a><span id="l62.18"> </span>
<a href="#l62.19"></a><span id="l62.19"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l62.20"></a><span id="l62.20">   l10nHelper(&quot;chrome://chat/locale/xmpp.properties&quot;)</span>
<a href="#l62.21"></a><span id="l62.21"> );</span>
<a href="#l62.22"></a><span id="l62.22"> </span>
<a href="#l62.23"></a><span id="l62.23"> function OdnoklassnikiAccount(aProtoInstance, aImAccount) {</span>
<a href="#l62.24"></a><span id="l62.24">   this._init(aProtoInstance, aImAccount);</span>
<a href="#l62.25"></a><span id="l62.25"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/chat/protocols/skype/skype.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/chat/protocols/skype/skype.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l63.4"></a><span id="l63.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l63.5"></a><span id="l63.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l63.6"></a><span id="l63.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l63.7"></a><span id="l63.7"> </span>
<a href="#l63.8"></a><span id="l63.8"> var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l63.9"></a><span id="l63.9"> </span>
<a href="#l63.10"></a><span id="l63.10" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l63.11"></a><span id="l63.11" class="difflineminus">-Cu.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l63.12"></a><span id="l63.12" class="difflineminus">-Cu.import(&quot;resource:///modules/BigInteger.jsm&quot;);</span>
<a href="#l63.13"></a><span id="l63.13" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l63.14"></a><span id="l63.14" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l63.15"></a><span id="l63.15" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l63.16"></a><span id="l63.16" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l63.17"></a><span id="l63.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ArrayBufferUtils.jsm&quot;);</span>
<a href="#l63.18"></a><span id="l63.18" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/BigInteger.jsm&quot;);</span>
<a href="#l63.19"></a><span id="l63.19" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l63.20"></a><span id="l63.20" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l63.21"></a><span id="l63.21" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l63.22"></a><span id="l63.22"> </span>
<a href="#l63.23"></a><span id="l63.23"> // Constants used by the login process. This emulates a captured session using</span>
<a href="#l63.24"></a><span id="l63.24"> // official means.</span>
<a href="#l63.25"></a><span id="l63.25"> var kLockAndKeyAppId = &quot;msmsgs@msnmsgr.com&quot;;</span>
<a href="#l63.26"></a><span id="l63.26"> var kLockAndKeySecret = &quot;Q1P7W2E4J9R8U3S5&quot;;</span>
<a href="#l63.27"></a><span id="l63.27"> var kClientId = &quot;578134&quot;;</span>
<a href="#l63.28"></a><span id="l63.28"> var kClientInfo = &quot;os=Windows; osVer=8.1; proc=Win32; lcid=en-us; &quot; +</span>
<a href="#l63.29"></a><span id="l63.29">   &quot;deviceType=1; country=n/a; clientName=swx-skype.com; clientVer=908/1.0.0.20&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1" class="difflineminus">--- a/chat/protocols/skype/test/test_MagicSha256.js</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineplus">+++ b/chat/protocols/skype/test/test_MagicSha256.js</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l64.4"></a><span id="l64.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l64.5"></a><span id="l64.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l64.6"></a><span id="l64.6"> </span>
<a href="#l64.7"></a><span id="l64.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l64.8"></a><span id="l64.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l64.9"></a><span id="l64.9"> var skype = {};</span>
<a href="#l64.10"></a><span id="l64.10"> Services.scriptloader.loadSubScript(&quot;resource:///components/skype.js&quot;, skype);</span>
<a href="#l64.11"></a><span id="l64.11"> </span>
<a href="#l64.12"></a><span id="l64.12"> var data = {</span>
<a href="#l64.13"></a><span id="l64.13">   &quot;1416264993&quot;: &quot;3a33ac47fe2ec1a33d569f4be5c69ddc&quot;,</span>
<a href="#l64.14"></a><span id="l64.14">   &quot;1416387358&quot;: &quot;eca9716e1eedcbe93320ba794cea3388&quot;,</span>
<a href="#l64.15"></a><span id="l64.15">   &quot;1416392361&quot;: &quot;2ed6fc80c3303caa137ae3fd4fcc7d80&quot;</span>
<a href="#l64.16"></a><span id="l64.16"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1" class="difflineminus">--- a/chat/protocols/skype/test/test_contactUrlToName.js</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineplus">+++ b/chat/protocols/skype/test/test_contactUrlToName.js</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l65.4"></a><span id="l65.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l65.5"></a><span id="l65.5">  * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l65.6"></a><span id="l65.6"> </span>
<a href="#l65.7"></a><span id="l65.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l65.8"></a><span id="l65.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l65.9"></a><span id="l65.9"> var skype = {};</span>
<a href="#l65.10"></a><span id="l65.10"> Services.scriptloader.loadSubScript(&quot;resource:///components/skype.js&quot;, skype);</span>
<a href="#l65.11"></a><span id="l65.11"> </span>
<a href="#l65.12"></a><span id="l65.12"> var data = {</span>
<a href="#l65.13"></a><span id="l65.13">   &quot;https://bay-client-s.gateway.messenger.live.com/v1/users/ME/contacts/8:clokep&quot;:</span>
<a href="#l65.14"></a><span id="l65.14">     &quot;clokep&quot;,</span>
<a href="#l65.15"></a><span id="l65.15">   &quot;https://bay-client-s.gateway.messenger.live.com/v1/users/8:clokep/presenceDocs/messagingService&quot;:</span>
<a href="#l65.16"></a><span id="l65.16">     &quot;clokep&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/chat/protocols/twitter/twitter.js</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/chat/protocols/twitter/twitter.js</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l66.4"></a><span id="l66.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l66.5"></a><span id="l66.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l66.6"></a><span id="l66.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l66.7"></a><span id="l66.7"> </span>
<a href="#l66.8"></a><span id="l66.8"> var {classes: Cc, interfaces: Ci, results: Cr, utils: Cu} = Components;</span>
<a href="#l66.9"></a><span id="l66.9"> </span>
<a href="#l66.10"></a><span id="l66.10" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l66.11"></a><span id="l66.11" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l66.12"></a><span id="l66.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l66.13"></a><span id="l66.13" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l66.14"></a><span id="l66.14" class="difflineminus">-Cu.import(&quot;resource:///modules/twitter-text.jsm&quot;);</span>
<a href="#l66.15"></a><span id="l66.15" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l66.16"></a><span id="l66.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l66.17"></a><span id="l66.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l66.18"></a><span id="l66.18" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l66.19"></a><span id="l66.19" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/twitter-text.jsm&quot;);</span>
<a href="#l66.20"></a><span id="l66.20"> </span>
<a href="#l66.21"></a><span id="l66.21"> var NS_PREFBRANCH_PREFCHANGE_TOPIC_ID = &quot;nsPref:changed&quot;;</span>
<a href="#l66.22"></a><span id="l66.22"> var kMaxMessageLength = 140;</span>
<a href="#l66.23"></a><span id="l66.23"> </span>
<a href="#l66.24"></a><span id="l66.24"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l66.25"></a><span id="l66.25">   l10nHelper(&quot;chrome://chat/locale/twitter.properties&quot;)</span>
<a href="#l66.26"></a><span id="l66.26"> );</span>
<a href="#l66.27"></a><span id="l66.27"> XPCOMUtils.defineLazyGetter(this, &quot;_lang&quot;, () =&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1" class="difflineminus">--- a/chat/protocols/xmpp/test/test_dnsSrv.js</span>
<a href="#l67.2"></a><span id="l67.2" class="difflineplus">+++ b/chat/protocols/xmpp/test/test_dnsSrv.js</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l67.4"></a><span id="l67.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l67.5"></a><span id="l67.5"> * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l67.6"></a><span id="l67.6"> </span>
<a href="#l67.7"></a><span id="l67.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l67.8"></a><span id="l67.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l67.9"></a><span id="l67.9"> </span>
<a href="#l67.10"></a><span id="l67.10"> var dns = {};</span>
<a href="#l67.11"></a><span id="l67.11"> Services.scriptloader.loadSubScript(&quot;resource:///modules/DNS.jsm&quot;, dns);</span>
<a href="#l67.12"></a><span id="l67.12"> </span>
<a href="#l67.13"></a><span id="l67.13"> var xmpp = {};</span>
<a href="#l67.14"></a><span id="l67.14"> Services.scriptloader.loadSubScript(&quot;resource:///components/xmpp.js&quot;, xmpp);</span>
<a href="#l67.15"></a><span id="l67.15"> </span>
<a href="#l67.16"></a><span id="l67.16"> var xmppSession = {};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1" class="difflineminus">--- a/chat/protocols/xmpp/test/test_parseJidAndNormalization.js</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineplus">+++ b/chat/protocols/xmpp/test/test_parseJidAndNormalization.js</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l68.4"></a><span id="l68.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l68.5"></a><span id="l68.5"> * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l68.6"></a><span id="l68.6"> </span>
<a href="#l68.7"></a><span id="l68.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l68.8"></a><span id="l68.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l68.9"></a><span id="l68.9"> </span>
<a href="#l68.10"></a><span id="l68.10"> var xmpp = {};</span>
<a href="#l68.11"></a><span id="l68.11"> Services.scriptloader.loadSubScript(&quot;resource:///components/xmpp.js&quot;, xmpp);</span>
<a href="#l68.12"></a><span id="l68.12"> </span>
<a href="#l68.13"></a><span id="l68.13"> var TEST_DATA = {</span>
<a href="#l68.14"></a><span id="l68.14">   &quot;abdelrhman@instantbird&quot;: {</span>
<a href="#l68.15"></a><span id="l68.15">     node: &quot;abdelrhman&quot;,</span>
<a href="#l68.16"></a><span id="l68.16">     domain: &quot;instantbird&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1" class="difflineminus">--- a/chat/protocols/xmpp/test/test_saslPrep.js</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineplus">+++ b/chat/protocols/xmpp/test/test_saslPrep.js</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l69.4"></a><span id="l69.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l69.5"></a><span id="l69.5"> * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l69.6"></a><span id="l69.6"> </span>
<a href="#l69.7"></a><span id="l69.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l69.8"></a><span id="l69.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l69.9"></a><span id="l69.9"> </span>
<a href="#l69.10"></a><span id="l69.10"> var xmppAuth = {};</span>
<a href="#l69.11"></a><span id="l69.11"> Services.scriptloader.loadSubScript(&quot;resource:///modules/xmpp-authmechs.jsm&quot;,</span>
<a href="#l69.12"></a><span id="l69.12">                                     xmppAuth);</span>
<a href="#l69.13"></a><span id="l69.13"> </span>
<a href="#l69.14"></a><span id="l69.14"> // RFC 4013 3.Examples</span>
<a href="#l69.15"></a><span id="l69.15"> var TEST_DATA = [</span>
<a href="#l69.16"></a><span id="l69.16">   {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/chat/protocols/xmpp/test/test_xmppParser.js</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/chat/protocols/xmpp/test/test_xmppParser.js</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l70.4"></a><span id="l70.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l70.5"></a><span id="l70.5"> * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l70.6"></a><span id="l70.6"> </span>
<a href="#l70.7"></a><span id="l70.7"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l70.8"></a><span id="l70.8" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l70.9"></a><span id="l70.9" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l70.10"></a><span id="l70.10"> </span>
<a href="#l70.11"></a><span id="l70.11"> var xmppXml = {};</span>
<a href="#l70.12"></a><span id="l70.12"> Services.scriptloader.loadSubScript(&quot;resource:///modules/xmpp-xml.jsm&quot;, xmppXml);</span>
<a href="#l70.13"></a><span id="l70.13"> </span>
<a href="#l70.14"></a><span id="l70.14"> var TEST_DATA = [</span>
<a href="#l70.15"></a><span id="l70.15">   {</span>
<a href="#l70.16"></a><span id="l70.16">     input: '&lt;message xmlns=&quot;jabber:client&quot; from=&quot;juliet@capulet.example/balcony&quot; \</span>
<a href="#l70.17"></a><span id="l70.17"> to=&quot;romeo@montague.example/garden&quot; type=&quot;chat&quot;&gt;\</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1" class="difflineminus">--- a/chat/protocols/xmpp/test/test_xmppXml.js</span>
<a href="#l71.2"></a><span id="l71.2" class="difflineplus">+++ b/chat/protocols/xmpp/test/test_xmppXml.js</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l71.4"></a><span id="l71.4"> /* Any copyright is dedicated to the Public Domain.</span>
<a href="#l71.5"></a><span id="l71.5"> * http://creativecommons.org/publicdomain/zero/1.0/ */</span>
<a href="#l71.6"></a><span id="l71.6"> </span>
<a href="#l71.7"></a><span id="l71.7" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l71.8"></a><span id="l71.8" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l71.9"></a><span id="l71.9"> </span>
<a href="#l71.10"></a><span id="l71.10"> var xmppXml = {};</span>
<a href="#l71.11"></a><span id="l71.11"> Services.scriptloader.loadSubScript(&quot;resource:///modules/xmpp-xml.jsm&quot;, xmppXml);</span>
<a href="#l71.12"></a><span id="l71.12"> </span>
<a href="#l71.13"></a><span id="l71.13"> var TEST_DATA = [</span>
<a href="#l71.14"></a><span id="l71.14">   {</span>
<a href="#l71.15"></a><span id="l71.15">     input: {</span>
<a href="#l71.16"></a><span id="l71.16">       name: &quot;message&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp-authmechs.jsm</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp-authmechs.jsm</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineat">@@ -9,18 +9,18 @@</span>
<a href="#l72.4"></a><span id="l72.4"> // detail of the XMPP implementation, but exporting it is valuable so that</span>
<a href="#l72.5"></a><span id="l72.5"> // add-ons can add support for more auth mechanisms easily by adding them</span>
<a href="#l72.6"></a><span id="l72.6"> // in XMPPAuthMechanisms without having to modify XMPPSession.</span>
<a href="#l72.7"></a><span id="l72.7"> </span>
<a href="#l72.8"></a><span id="l72.8"> this.EXPORTED_SYMBOLS = [&quot;XMPPAuthMechanisms&quot;];</span>
<a href="#l72.9"></a><span id="l72.9"> </span>
<a href="#l72.10"></a><span id="l72.10"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l72.11"></a><span id="l72.11"> </span>
<a href="#l72.12"></a><span id="l72.12" class="difflineminus">-Cu.import(&quot;resource://services-crypto/utils.js&quot;);</span>
<a href="#l72.13"></a><span id="l72.13" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l72.14"></a><span id="l72.14" class="difflineplus">+ChromeUtils.import(&quot;resource://services-crypto/utils.js&quot;);</span>
<a href="#l72.15"></a><span id="l72.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l72.16"></a><span id="l72.16"> </span>
<a href="#l72.17"></a><span id="l72.17"> // Handle PLAIN authorization mechanism.</span>
<a href="#l72.18"></a><span id="l72.18"> function* PlainAuth(aUsername, aPassword, aDomain) {</span>
<a href="#l72.19"></a><span id="l72.19">   let data = &quot;\0&quot;+ aUsername + &quot;\0&quot; + aPassword;</span>
<a href="#l72.20"></a><span id="l72.20"> </span>
<a href="#l72.21"></a><span id="l72.21">   // btoa for Unicode, see https://developer.mozilla.org/en-US/docs/DOM/window.btoa</span>
<a href="#l72.22"></a><span id="l72.22">   let base64Data = btoa(unescape(encodeURIComponent(data)));</span>
<a href="#l72.23"></a><span id="l72.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp-commands.jsm</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp-commands.jsm</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l73.4"></a><span id="l73.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l73.5"></a><span id="l73.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l73.6"></a><span id="l73.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l73.7"></a><span id="l73.7"> </span>
<a href="#l73.8"></a><span id="l73.8"> this.EXPORTED_SYMBOLS = [&quot;commands&quot;];</span>
<a href="#l73.9"></a><span id="l73.9"> </span>
<a href="#l73.10"></a><span id="l73.10"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l73.11"></a><span id="l73.11"> </span>
<a href="#l73.12"></a><span id="l73.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l73.13"></a><span id="l73.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l73.14"></a><span id="l73.14"> </span>
<a href="#l73.15"></a><span id="l73.15"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l73.16"></a><span id="l73.16">   l10nHelper(&quot;chrome://chat/locale/xmpp.properties&quot;)</span>
<a href="#l73.17"></a><span id="l73.17"> );</span>
<a href="#l73.18"></a><span id="l73.18"> </span>
<a href="#l73.19"></a><span id="l73.19"> // Get conversation object.</span>
<a href="#l73.20"></a><span id="l73.20"> function getConv(aConv) {</span>
<a href="#l73.21"></a><span id="l73.21">   return aConv.wrappedJSObject;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l74.1"></a><span id="l74.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp-session.jsm</span>
<a href="#l74.2"></a><span id="l74.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp-session.jsm</span>
<a href="#l74.3"></a><span id="l74.3" class="difflineat">@@ -1,22 +1,22 @@</span>
<a href="#l74.4"></a><span id="l74.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l74.5"></a><span id="l74.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l74.6"></a><span id="l74.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l74.7"></a><span id="l74.7"> </span>
<a href="#l74.8"></a><span id="l74.8"> this.EXPORTED_SYMBOLS = [&quot;XMPPSession&quot;, &quot;XMPPDefaultResource&quot;];</span>
<a href="#l74.9"></a><span id="l74.9"> </span>
<a href="#l74.10"></a><span id="l74.10"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l74.11"></a><span id="l74.11"> </span>
<a href="#l74.12"></a><span id="l74.12" class="difflineminus">-Cu.import(&quot;resource:///modules/DNS.jsm&quot;);</span>
<a href="#l74.13"></a><span id="l74.13" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l74.14"></a><span id="l74.14" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l74.15"></a><span id="l74.15" class="difflineminus">-Cu.import(&quot;resource:///modules/socket.jsm&quot;);</span>
<a href="#l74.16"></a><span id="l74.16" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l74.17"></a><span id="l74.17" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp-authmechs.jsm&quot;);</span>
<a href="#l74.18"></a><span id="l74.18" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/DNS.jsm&quot;);</span>
<a href="#l74.19"></a><span id="l74.19" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l74.20"></a><span id="l74.20" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l74.21"></a><span id="l74.21" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/socket.jsm&quot;);</span>
<a href="#l74.22"></a><span id="l74.22" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l74.23"></a><span id="l74.23" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp-authmechs.jsm&quot;);</span>
<a href="#l74.24"></a><span id="l74.24"> </span>
<a href="#l74.25"></a><span id="l74.25"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l74.26"></a><span id="l74.26">   l10nHelper(&quot;chrome://chat/locale/xmpp.properties&quot;)</span>
<a href="#l74.27"></a><span id="l74.27"> );</span>
<a href="#l74.28"></a><span id="l74.28"> </span>
<a href="#l74.29"></a><span id="l74.29"> // Workaround because a lazy getter can't be exported.</span>
<a href="#l74.30"></a><span id="l74.30"> XPCOMUtils.defineLazyGetter(this, &quot;_defaultResource&quot;, () =&gt;</span>
<a href="#l74.31"></a><span id="l74.31">   l10nHelper(&quot;chrome://branding/locale/brand.properties&quot;)(&quot;brandShortName&quot;)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l75.1"></a><span id="l75.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp.js</span>
<a href="#l75.2"></a><span id="l75.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp.js</span>
<a href="#l75.3"></a><span id="l75.3" class="difflineat">@@ -1,30 +1,30 @@</span>
<a href="#l75.4"></a><span id="l75.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l75.5"></a><span id="l75.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l75.6"></a><span id="l75.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l75.7"></a><span id="l75.7"> </span>
<a href="#l75.8"></a><span id="l75.8"> var Cu = Components.utils;</span>
<a href="#l75.9"></a><span id="l75.9"> </span>
<a href="#l75.10"></a><span id="l75.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l75.11"></a><span id="l75.11" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l75.12"></a><span id="l75.12" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l75.13"></a><span id="l75.13" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l75.14"></a><span id="l75.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l75.15"></a><span id="l75.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l75.16"></a><span id="l75.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp.jsm&quot;);</span>
<a href="#l75.17"></a><span id="l75.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l75.18"></a><span id="l75.18"> </span>
<a href="#l75.19"></a><span id="l75.19"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l75.20"></a><span id="l75.20">   l10nHelper(&quot;chrome://chat/locale/xmpp.properties&quot;)</span>
<a href="#l75.21"></a><span id="l75.21"> );</span>
<a href="#l75.22"></a><span id="l75.22"> </span>
<a href="#l75.23"></a><span id="l75.23"> function XMPPAccount(aProtoInstance, aImAccount) {</span>
<a href="#l75.24"></a><span id="l75.24">   this._init(aProtoInstance, aImAccount);</span>
<a href="#l75.25"></a><span id="l75.25"> }</span>
<a href="#l75.26"></a><span id="l75.26"> XMPPAccount.prototype = XMPPAccountPrototype;</span>
<a href="#l75.27"></a><span id="l75.27"> </span>
<a href="#l75.28"></a><span id="l75.28"> function XMPPProtocol() {</span>
<a href="#l75.29"></a><span id="l75.29" class="difflineminus">-  Cu.import(&quot;resource:///modules/xmpp-commands.jsm&quot;, this);</span>
<a href="#l75.30"></a><span id="l75.30" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/xmpp-commands.jsm&quot;, this);</span>
<a href="#l75.31"></a><span id="l75.31">   this.registerCommands();</span>
<a href="#l75.32"></a><span id="l75.32"> }</span>
<a href="#l75.33"></a><span id="l75.33"> XMPPProtocol.prototype = {</span>
<a href="#l75.34"></a><span id="l75.34">   __proto__: GenericProtocolPrototype,</span>
<a href="#l75.35"></a><span id="l75.35">   get normalizedName() { return &quot;jabber&quot;; },</span>
<a href="#l75.36"></a><span id="l75.36">   get name() { return &quot;XMPP&quot;; },</span>
<a href="#l75.37"></a><span id="l75.37">   get iconBaseURI() { return &quot;chrome://prpl-jabber/skin/&quot;; },</span>
<a href="#l75.38"></a><span id="l75.38">   getAccount: function(aImAccount) { return new XMPPAccount(this, aImAccount); },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l76.1"></a><span id="l76.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp.jsm</span>
<a href="#l76.2"></a><span id="l76.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp.jsm</span>
<a href="#l76.3"></a><span id="l76.3" class="difflineat">@@ -6,30 +6,30 @@ this.EXPORTED_SYMBOLS = [</span>
<a href="#l76.4"></a><span id="l76.4">   &quot;XMPPConversationPrototype&quot;,</span>
<a href="#l76.5"></a><span id="l76.5">   &quot;XMPPMUCConversationPrototype&quot;,</span>
<a href="#l76.6"></a><span id="l76.6">   &quot;XMPPAccountBuddyPrototype&quot;,</span>
<a href="#l76.7"></a><span id="l76.7">   &quot;XMPPAccountPrototype&quot;</span>
<a href="#l76.8"></a><span id="l76.8"> ];</span>
<a href="#l76.9"></a><span id="l76.9"> </span>
<a href="#l76.10"></a><span id="l76.10"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l76.11"></a><span id="l76.11"> </span>
<a href="#l76.12"></a><span id="l76.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l76.13"></a><span id="l76.13" class="difflineminus">-Cu.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l76.14"></a><span id="l76.14" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l76.15"></a><span id="l76.15" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l76.16"></a><span id="l76.16" class="difflineminus">-Cu.import(&quot;resource:///modules/NormalizedMap.jsm&quot;);</span>
<a href="#l76.17"></a><span id="l76.17" class="difflineminus">-Cu.import(&quot;resource:///modules/socket.jsm&quot;);</span>
<a href="#l76.18"></a><span id="l76.18" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l76.19"></a><span id="l76.19" class="difflineminus">-Cu.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l76.20"></a><span id="l76.20" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l76.21"></a><span id="l76.21" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l76.22"></a><span id="l76.22" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l76.23"></a><span id="l76.23" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l76.24"></a><span id="l76.24" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/NormalizedMap.jsm&quot;);</span>
<a href="#l76.25"></a><span id="l76.25" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/socket.jsm&quot;);</span>
<a href="#l76.26"></a><span id="l76.26" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp-xml.jsm&quot;);</span>
<a href="#l76.27"></a><span id="l76.27" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/xmpp-session.jsm&quot;);</span>
<a href="#l76.28"></a><span id="l76.28"> </span>
<a href="#l76.29"></a><span id="l76.29" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;DownloadUtils&quot;,</span>
<a href="#l76.30"></a><span id="l76.30" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;DownloadUtils&quot;,</span>
<a href="#l76.31"></a><span id="l76.31">   &quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l76.32"></a><span id="l76.32" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;FileUtils&quot;,</span>
<a href="#l76.33"></a><span id="l76.33" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;FileUtils&quot;,</span>
<a href="#l76.34"></a><span id="l76.34">   &quot;resource://gre/modules/FileUtils.jsm&quot;);</span>
<a href="#l76.35"></a><span id="l76.35" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;NetUtil&quot;,</span>
<a href="#l76.36"></a><span id="l76.36" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;NetUtil&quot;,</span>
<a href="#l76.37"></a><span id="l76.37">   &quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l76.38"></a><span id="l76.38"> XPCOMUtils.defineLazyServiceGetter(this, &quot;imgTools&quot;,</span>
<a href="#l76.39"></a><span id="l76.39">                                    &quot;@mozilla.org/image/tools;1&quot;,</span>
<a href="#l76.40"></a><span id="l76.40">                                    &quot;imgITools&quot;);</span>
<a href="#l76.41"></a><span id="l76.41"> XPCOMUtils.defineLazyServiceGetter(this, &quot;UuidGenerator&quot;,</span>
<a href="#l76.42"></a><span id="l76.42">                                    &quot;@mozilla.org/uuid-generator;1&quot;,</span>
<a href="#l76.43"></a><span id="l76.43">                                    &quot;nsIUUIDGenerator&quot;);</span>
<a href="#l76.44"></a><span id="l76.44"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l77.1"></a><span id="l77.1" class="difflineminus">--- a/chat/protocols/yahoo/yahoo.js</span>
<a href="#l77.2"></a><span id="l77.2" class="difflineplus">+++ b/chat/protocols/yahoo/yahoo.js</span>
<a href="#l77.3"></a><span id="l77.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l77.4"></a><span id="l77.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l77.5"></a><span id="l77.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l77.6"></a><span id="l77.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l77.7"></a><span id="l77.7"> </span>
<a href="#l77.8"></a><span id="l77.8"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l77.9"></a><span id="l77.9"> </span>
<a href="#l77.10"></a><span id="l77.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l77.11"></a><span id="l77.11" class="difflineminus">-Cu.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l77.12"></a><span id="l77.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l77.13"></a><span id="l77.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l77.14"></a><span id="l77.14"> </span>
<a href="#l77.15"></a><span id="l77.15"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l77.16"></a><span id="l77.16">   l10nHelper(&quot;chrome://chat/locale/yahoo.properties&quot;)</span>
<a href="#l77.17"></a><span id="l77.17"> );</span>
<a href="#l77.18"></a><span id="l77.18"> </span>
<a href="#l77.19"></a><span id="l77.19"> function YahooAccount(aProtoInstance, aImAccount)</span>
<a href="#l77.20"></a><span id="l77.20"> {</span>
<a href="#l77.21"></a><span id="l77.21">   this._init(aProtoInstance, aImAccount);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l78.1"></a><span id="l78.1" class="difflineminus">--- a/im/components/contentHandler.js</span>
<a href="#l78.2"></a><span id="l78.2" class="difflineplus">+++ b/im/components/contentHandler.js</span>
<a href="#l78.3"></a><span id="l78.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l78.4"></a><span id="l78.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l78.5"></a><span id="l78.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l78.6"></a><span id="l78.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l78.7"></a><span id="l78.7"> </span>
<a href="#l78.8"></a><span id="l78.8" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l78.9"></a><span id="l78.9" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l78.10"></a><span id="l78.10"> </span>
<a href="#l78.11"></a><span id="l78.11"> var Ci = Components.interfaces;</span>
<a href="#l78.12"></a><span id="l78.12"> var Cc = Components.classes;</span>
<a href="#l78.13"></a><span id="l78.13"> var Cr = Components.results;</span>
<a href="#l78.14"></a><span id="l78.14"> </span>
<a href="#l78.15"></a><span id="l78.15"> // defined in nsIContentHandler.idl.</span>
<a href="#l78.16"></a><span id="l78.16"> var NS_ERROR_WONT_HANDLE_CONTENT = 0x805d0001;</span>
<a href="#l78.17"></a><span id="l78.17"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l79.1"></a><span id="l79.1" class="difflineminus">--- a/im/components/ibCommandLineHandler.js</span>
<a href="#l79.2"></a><span id="l79.2" class="difflineplus">+++ b/im/components/ibCommandLineHandler.js</span>
<a href="#l79.3"></a><span id="l79.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l79.4"></a><span id="l79.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l79.5"></a><span id="l79.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l79.6"></a><span id="l79.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l79.7"></a><span id="l79.7"> </span>
<a href="#l79.8"></a><span id="l79.8"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l79.9"></a><span id="l79.9" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l79.10"></a><span id="l79.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l79.11"></a><span id="l79.11" class="difflineminus">-Cu.import(&quot;resource:///modules/ibCore.jsm&quot;);</span>
<a href="#l79.12"></a><span id="l79.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l79.13"></a><span id="l79.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l79.14"></a><span id="l79.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ibCore.jsm&quot;);</span>
<a href="#l79.15"></a><span id="l79.15"> </span>
<a href="#l79.16"></a><span id="l79.16"> function ibCommandLineHandler() { }</span>
<a href="#l79.17"></a><span id="l79.17"> </span>
<a href="#l79.18"></a><span id="l79.18"> ibCommandLineHandler.prototype = {</span>
<a href="#l79.19"></a><span id="l79.19">   handle: function clh_handle(cmdLine) {</span>
<a href="#l79.20"></a><span id="l79.20">     if (cmdLine.handleFlag(&quot;preferences&quot;, false)) {</span>
<a href="#l79.21"></a><span id="l79.21">       Core.showPreferences();</span>
<a href="#l79.22"></a><span id="l79.22">       cmdLine.preventDefault = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l80.1"></a><span id="l80.1" class="difflineminus">--- a/im/components/ibConvStatsService.js</span>
<a href="#l80.2"></a><span id="l80.2" class="difflineplus">+++ b/im/components/ibConvStatsService.js</span>
<a href="#l80.3"></a><span id="l80.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l80.4"></a><span id="l80.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l80.5"></a><span id="l80.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l80.6"></a><span id="l80.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l80.7"></a><span id="l80.7"> </span>
<a href="#l80.8"></a><span id="l80.8"> var {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;</span>
<a href="#l80.9"></a><span id="l80.9" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l80.10"></a><span id="l80.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l80.11"></a><span id="l80.11" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Task.jsm&quot;)</span>
<a href="#l80.12"></a><span id="l80.12" class="difflineminus">-Cu.import(&quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l80.13"></a><span id="l80.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l80.14"></a><span id="l80.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l80.15"></a><span id="l80.15" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Task.jsm&quot;)</span>
<a href="#l80.16"></a><span id="l80.16" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l80.17"></a><span id="l80.17"> </span>
<a href="#l80.18"></a><span id="l80.18"> var kNotificationsToObserve =</span>
<a href="#l80.19"></a><span id="l80.19">   [&quot;contact-added&quot;, &quot;contact-removed&quot;,&quot;contact-status-changed&quot;,</span>
<a href="#l80.20"></a><span id="l80.20">    &quot;contact-display-name-changed&quot;, &quot;contact-no-longer-dummy&quot;,</span>
<a href="#l80.21"></a><span id="l80.21">    &quot;contact-preferred-buddy-changed&quot;, &quot;contact-moved&quot;,</span>
<a href="#l80.22"></a><span id="l80.22">    &quot;account-connected&quot;, &quot;account-disconnected&quot;, &quot;new-conversation&quot;,</span>
<a href="#l80.23"></a><span id="l80.23">    &quot;new-text&quot;, &quot;conversation-closed&quot;, &quot;prpl-quit&quot;];</span>
<a href="#l80.24"></a><span id="l80.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l81.1"></a><span id="l81.1" class="difflineminus">--- a/im/components/ibDockBadge.js</span>
<a href="#l81.2"></a><span id="l81.2" class="difflineplus">+++ b/im/components/ibDockBadge.js</span>
<a href="#l81.3"></a><span id="l81.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l81.4"></a><span id="l81.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l81.5"></a><span id="l81.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l81.6"></a><span id="l81.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l81.7"></a><span id="l81.7"> </span>
<a href="#l81.8"></a><span id="l81.8"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l81.9"></a><span id="l81.9" class="difflineminus">-Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l81.10"></a><span id="l81.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l81.11"></a><span id="l81.11" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l81.12"></a><span id="l81.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l81.13"></a><span id="l81.13"> </span>
<a href="#l81.14"></a><span id="l81.14"> XPCOMUtils.defineLazyServiceGetter(this, &quot;MacDock&quot;,</span>
<a href="#l81.15"></a><span id="l81.15">                                    &quot;@mozilla.org/widget/macdocksupport;1&quot;,</span>
<a href="#l81.16"></a><span id="l81.16">                                    &quot;nsIMacDockSupport&quot;);</span>
<a href="#l81.17"></a><span id="l81.17"> </span>
<a href="#l81.18"></a><span id="l81.18"> function DockBadge() { }</span>
<a href="#l81.19"></a><span id="l81.19"> DockBadge.prototype = {</span>
<a href="#l81.20"></a><span id="l81.20">   _badgeTimer: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l82.1"></a><span id="l82.1" class="difflineminus">--- a/im/components/ibStatusCommandLineHandler.js</span>
<a href="#l82.2"></a><span id="l82.2" class="difflineplus">+++ b/im/components/ibStatusCommandLineHandler.js</span>
<a href="#l82.3"></a><span id="l82.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l82.4"></a><span id="l82.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l82.5"></a><span id="l82.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l82.6"></a><span id="l82.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l82.7"></a><span id="l82.7"> </span>
<a href="#l82.8"></a><span id="l82.8"> var {interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l82.9"></a><span id="l82.9"> </span>
<a href="#l82.10"></a><span id="l82.10" class="difflineminus">-Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l82.11"></a><span id="l82.11" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l82.12"></a><span id="l82.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l82.13"></a><span id="l82.13" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l82.14"></a><span id="l82.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l82.15"></a><span id="l82.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l82.16"></a><span id="l82.16"> </span>
<a href="#l82.17"></a><span id="l82.17"> function StatusCLH() { }</span>
<a href="#l82.18"></a><span id="l82.18"> StatusCLH.prototype = {</span>
<a href="#l82.19"></a><span id="l82.19">   classDescription: &quot;Instantbird Status Commandline Handler Component&quot;,</span>
<a href="#l82.20"></a><span id="l82.20">   classID:          Components.ID(&quot;{9da72063-b727-488d-9b3f-cc12e854ab33}&quot;),</span>
<a href="#l82.21"></a><span id="l82.21">   contractID:       &quot;@instantbird.org/status/clh;1&quot;,</span>
<a href="#l82.22"></a><span id="l82.22">   QueryInterface:   XPCOMUtils.generateQI([Ci.nsICommandLineHandler]),</span>
<a href="#l82.23"></a><span id="l82.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l83.1"></a><span id="l83.1" class="difflineminus">--- a/im/components/mintrayr/content/mintrayr.js</span>
<a href="#l83.2"></a><span id="l83.2" class="difflineplus">+++ b/im/components/mintrayr/content/mintrayr.js</span>
<a href="#l83.3"></a><span id="l83.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l83.4"></a><span id="l83.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l83.5"></a><span id="l83.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l83.6"></a><span id="l83.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l83.7"></a><span id="l83.7"> </span>
<a href="#l83.8"></a><span id="l83.8" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l83.9"></a><span id="l83.9" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l83.10"></a><span id="l83.10"> </span>
<a href="#l83.11"></a><span id="l83.11"> var gMinTrayR = {</span>
<a href="#l83.12"></a><span id="l83.12">   trayService: null,</span>
<a href="#l83.13"></a><span id="l83.13">   _prefs: null,</span>
<a href="#l83.14"></a><span id="l83.14">   get menu() { return document.getElementById(&quot;MinTrayR_context&quot;); },</span>
<a href="#l83.15"></a><span id="l83.15"> </span>
<a href="#l83.16"></a><span id="l83.16">   load: function() {</span>
<a href="#l83.17"></a><span id="l83.17">     window.addEventListener(&quot;unload&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l84.1"></a><span id="l84.1" class="difflineminus">--- a/im/components/profileMigrator.js</span>
<a href="#l84.2"></a><span id="l84.2" class="difflineplus">+++ b/im/components/profileMigrator.js</span>
<a href="#l84.3"></a><span id="l84.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l84.4"></a><span id="l84.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l84.5"></a><span id="l84.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l84.6"></a><span id="l84.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l84.7"></a><span id="l84.7"> </span>
<a href="#l84.8"></a><span id="l84.8" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l84.9"></a><span id="l84.9" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l84.10"></a><span id="l84.10"> var Cc = Components.classes;</span>
<a href="#l84.11"></a><span id="l84.11"> var Ci = Components.interfaces;</span>
<a href="#l84.12"></a><span id="l84.12"> </span>
<a href="#l84.13"></a><span id="l84.13"> function InstantbirdProfileMigrator() { }</span>
<a href="#l84.14"></a><span id="l84.14"> </span>
<a href="#l84.15"></a><span id="l84.15"> InstantbirdProfileMigrator.prototype = {</span>
<a href="#l84.16"></a><span id="l84.16">   import: function() {</span>
<a href="#l84.17"></a><span id="l84.17">     var root = Cc[&quot;@mozilla.org/file/directory_service;1&quot;].getService(Ci.nsIProperties)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l85.1"></a><span id="l85.1" class="difflineminus">--- a/im/content/account.js</span>
<a href="#l85.2"></a><span id="l85.2" class="difflineplus">+++ b/im/content/account.js</span>
<a href="#l85.3"></a><span id="l85.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l85.4"></a><span id="l85.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l85.5"></a><span id="l85.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l85.6"></a><span id="l85.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l85.7"></a><span id="l85.7"> </span>
<a href="#l85.8"></a><span id="l85.8"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l85.9"></a><span id="l85.9" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l85.10"></a><span id="l85.10" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l85.11"></a><span id="l85.11"> </span>
<a href="#l85.12"></a><span id="l85.12"> var autoJoinPref = &quot;autoJoin&quot;;</span>
<a href="#l85.13"></a><span id="l85.13"> </span>
<a href="#l85.14"></a><span id="l85.14"> var account = {</span>
<a href="#l85.15"></a><span id="l85.15">   onload: function account_onload() {</span>
<a href="#l85.16"></a><span id="l85.16">     this.account = window.arguments[0];</span>
<a href="#l85.17"></a><span id="l85.17">     this.proto = this.account.protocol;</span>
<a href="#l85.18"></a><span id="l85.18">     document.getElementById(&quot;accountName&quot;).value = this.account.name;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l86.1"></a><span id="l86.1" class="difflineminus">--- a/im/content/accountWizard.js</span>
<a href="#l86.2"></a><span id="l86.2" class="difflineplus">+++ b/im/content/accountWizard.js</span>
<a href="#l86.3"></a><span id="l86.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l86.4"></a><span id="l86.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l86.5"></a><span id="l86.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l86.6"></a><span id="l86.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l86.7"></a><span id="l86.7"> </span>
<a href="#l86.8"></a><span id="l86.8"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l86.9"></a><span id="l86.9" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l86.10"></a><span id="l86.10" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l86.11"></a><span id="l86.11"> </span>
<a href="#l86.12"></a><span id="l86.12"> var PREF_EXTENSIONS_GETMOREPROTOCOLSURL = &quot;extensions.getMoreProtocolsURL&quot;;</span>
<a href="#l86.13"></a><span id="l86.13"> </span>
<a href="#l86.14"></a><span id="l86.14"> var accountWizard = {</span>
<a href="#l86.15"></a><span id="l86.15">   onload: function aw_onload() {</span>
<a href="#l86.16"></a><span id="l86.16">     let topProtoList = document.getElementById(&quot;topprotolist&quot;);</span>
<a href="#l86.17"></a><span id="l86.17">     let bundle = document.getElementById(&quot;topProtocolsBundle&quot;);</span>
<a href="#l86.18"></a><span id="l86.18">     let topProtocols = bundle.getString(&quot;topProtocol.list&quot;).split(&quot;,&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l87.1"></a><span id="l87.1" class="difflineminus">--- a/im/content/accounts.js</span>
<a href="#l87.2"></a><span id="l87.2" class="difflineplus">+++ b/im/content/accounts.js</span>
<a href="#l87.3"></a><span id="l87.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l87.4"></a><span id="l87.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l87.5"></a><span id="l87.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l87.6"></a><span id="l87.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l87.7"></a><span id="l87.7"> </span>
<a href="#l87.8"></a><span id="l87.8"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l87.9"></a><span id="l87.9" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l87.10"></a><span id="l87.10" class="difflineminus">-Cu.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l87.11"></a><span id="l87.11" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l87.12"></a><span id="l87.12" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l87.13"></a><span id="l87.13"> </span>
<a href="#l87.14"></a><span id="l87.14"> // This is the list of notifications that the account manager window observes</span>
<a href="#l87.15"></a><span id="l87.15"> var events = [</span>
<a href="#l87.16"></a><span id="l87.16">   &quot;prpl-quit&quot;,</span>
<a href="#l87.17"></a><span id="l87.17">   &quot;account-list-updated&quot;,</span>
<a href="#l87.18"></a><span id="l87.18">   &quot;account-added&quot;,</span>
<a href="#l87.19"></a><span id="l87.19">   &quot;account-updated&quot;,</span>
<a href="#l87.20"></a><span id="l87.20">   &quot;account-removed&quot;,</span>
<a href="#l87.21"></a><span id="l87.21" class="difflineat">@@ -255,17 +255,17 @@ var gAccountManager = {</span>
<a href="#l87.22"></a><span id="l87.22">              &quot; &quot; + m.sourceName + &quot;:&quot; + m.lineNumber + &quot;)\n&quot; +</span>
<a href="#l87.23"></a><span id="l87.23">              m.errorMessage;</span>
<a href="#l87.24"></a><span id="l87.24">     }).join(&quot;\n&quot;);</span>
<a href="#l87.25"></a><span id="l87.25">     Cc[&quot;@mozilla.org/widget/clipboardhelper;1&quot;]</span>
<a href="#l87.26"></a><span id="l87.26">       .getService(Ci.nsIClipboardHelper).copyString(text);</span>
<a href="#l87.27"></a><span id="l87.27">   },</span>
<a href="#l87.28"></a><span id="l87.28">   showDebugLog: function am_showDebugLog() {</span>
<a href="#l87.29"></a><span id="l87.29">     if (!(&quot;Core&quot; in window))</span>
<a href="#l87.30"></a><span id="l87.30" class="difflineminus">-      Cu.import(&quot;resource:///modules/ibCore.jsm&quot;);</span>
<a href="#l87.31"></a><span id="l87.31" class="difflineplus">+      ChromeUtils.import(&quot;resource:///modules/ibCore.jsm&quot;);</span>
<a href="#l87.32"></a><span id="l87.32">     Core.showDebugLog(this.accountList.selectedItem.account.id);</span>
<a href="#l87.33"></a><span id="l87.33">   },</span>
<a href="#l87.34"></a><span id="l87.34">   updateConnectedLabels: function am_updateConnectedLabels() {</span>
<a href="#l87.35"></a><span id="l87.35">     for (let i = 0; i &lt; gAccountManager.accountList.itemCount; ++i) {</span>
<a href="#l87.36"></a><span id="l87.36">       let item = gAccountManager.accountList.getItemAtIndex(i);</span>
<a href="#l87.37"></a><span id="l87.37">       if (item.account.connected)</span>
<a href="#l87.38"></a><span id="l87.38">         item.refreshConnectedLabel();</span>
<a href="#l87.39"></a><span id="l87.39">     }</span>
<a href="#l87.40"></a><span id="l87.40" class="difflineat">@@ -520,17 +520,17 @@ var gAccountManager = {</span>
<a href="#l87.41"></a><span id="l87.41">         label = bundle.getString(&quot;accountsManager.notification.crash.label&quot;);</span>
<a href="#l87.42"></a><span id="l87.42">         priority = box.PRIORITY_WARNING_MEDIUM;</span>
<a href="#l87.43"></a><span id="l87.43">         break;</span>
<a href="#l87.44"></a><span id="l87.44"> </span>
<a href="#l87.45"></a><span id="l87.45">       /* One or more accounts made the application crash during their connection.</span>
<a href="#l87.46"></a><span id="l87.46">          If none, this function has already returned */</span>
<a href="#l87.47"></a><span id="l87.47">       case as.AUTOLOGIN_ENABLED:</span>
<a href="#l87.48"></a><span id="l87.48">         if (!(&quot;PluralForm&quot; in window))</span>
<a href="#l87.49"></a><span id="l87.49" class="difflineminus">-          Cu.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l87.50"></a><span id="l87.50" class="difflineplus">+          ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l87.51"></a><span id="l87.51">         label = bundle.getString(&quot;accountsManager.notification.singleCrash.label&quot;);</span>
<a href="#l87.52"></a><span id="l87.52">         label = PluralForm.get(crashCount, label).replace(&quot;#1&quot;, crashCount);</span>
<a href="#l87.53"></a><span id="l87.53">         priority = box.PRIORITY_WARNING_MEDIUM;</span>
<a href="#l87.54"></a><span id="l87.54">         connectNowButton.callback = this.processCrashedAccountsLogin;</span>
<a href="#l87.55"></a><span id="l87.55">         break;</span>
<a href="#l87.56"></a><span id="l87.56"> </span>
<a href="#l87.57"></a><span id="l87.57">       default:</span>
<a href="#l87.58"></a><span id="l87.58">         label = bundle.getString(&quot;accountsManager.notification.other.label&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l88.1"></a><span id="l88.1" class="difflineminus">--- a/im/content/blist.js</span>
<a href="#l88.2"></a><span id="l88.2" class="difflineplus">+++ b/im/content/blist.js</span>
<a href="#l88.3"></a><span id="l88.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l88.4"></a><span id="l88.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l88.5"></a><span id="l88.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l88.6"></a><span id="l88.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l88.7"></a><span id="l88.7"> </span>
<a href="#l88.8"></a><span id="l88.8"> var Cu = Components.utils;</span>
<a href="#l88.9"></a><span id="l88.9"> </span>
<a href="#l88.10"></a><span id="l88.10" class="difflineminus">-Cu.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l88.11"></a><span id="l88.11" class="difflineminus">-Cu.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l88.12"></a><span id="l88.12" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;OS&quot;, &quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l88.13"></a><span id="l88.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l88.14"></a><span id="l88.14" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l88.15"></a><span id="l88.15" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;OS&quot;, &quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l88.16"></a><span id="l88.16"> </span>
<a href="#l88.17"></a><span id="l88.17"> var events = [&quot;buddy-authorization-request&quot;,</span>
<a href="#l88.18"></a><span id="l88.18">                 &quot;buddy-authorization-request-canceled&quot;,</span>
<a href="#l88.19"></a><span id="l88.19">                 &quot;contact-availability-changed&quot;,</span>
<a href="#l88.20"></a><span id="l88.20">                 &quot;contact-added&quot;,</span>
<a href="#l88.21"></a><span id="l88.21">                 &quot;contact-tag-added&quot;,</span>
<a href="#l88.22"></a><span id="l88.22">                 &quot;contact-tag-removed&quot;,</span>
<a href="#l88.23"></a><span id="l88.23">                 &quot;showing-ui-conversation&quot;,</span>
<a href="#l88.24"></a><span id="l88.24" class="difflineat">@@ -48,17 +48,17 @@ function buddyListContextMenu(aXulMenu) </span>
<a href="#l88.25"></a><span id="l88.25">   [ &quot;context-edit-buddy-separator&quot;,</span>
<a href="#l88.26"></a><span id="l88.26">     &quot;context-alias&quot;,</span>
<a href="#l88.27"></a><span id="l88.27">     &quot;context-delete&quot;,</span>
<a href="#l88.28"></a><span id="l88.28">     &quot;context-tags&quot;</span>
<a href="#l88.29"></a><span id="l88.29">   ].forEach(function (aId) {</span>
<a href="#l88.30"></a><span id="l88.30">     document.getElementById(aId).hidden = hide;</span>
<a href="#l88.31"></a><span id="l88.31">   });</span>
<a href="#l88.32"></a><span id="l88.32">   if (!hide) {</span>
<a href="#l88.33"></a><span id="l88.33" class="difflineminus">-    Components.utils.import(&quot;resource:///modules/ibTagMenu.jsm&quot;);</span>
<a href="#l88.34"></a><span id="l88.34" class="difflineplus">+    ChromeUtils.import(&quot;resource:///modules/ibTagMenu.jsm&quot;);</span>
<a href="#l88.35"></a><span id="l88.35">     this.tagMenu = new TagMenu(this, window, &quot;context-tags&quot;,</span>
<a href="#l88.36"></a><span id="l88.36">                                this.toggleTag, this.addTag,</span>
<a href="#l88.37"></a><span id="l88.37">                                this.onBuddy ? this.target.contact : this.target);</span>
<a href="#l88.38"></a><span id="l88.38">   }</span>
<a href="#l88.39"></a><span id="l88.39"> </span>
<a href="#l88.40"></a><span id="l88.40">   document.getElementById(&quot;context-hide-tag&quot;).hidden = !this.onGroup;</span>
<a href="#l88.41"></a><span id="l88.41"> </span>
<a href="#l88.42"></a><span id="l88.42">   document.getElementById(&quot;context-visible-tags&quot;).hidden =</span>
<a href="#l88.43"></a><span id="l88.43" class="difflineat">@@ -462,17 +462,17 @@ var buddyList = {</span>
<a href="#l88.44"></a><span id="l88.44">       if (elt.hasAttribute(&quot;usingDefault&quot;)) {</span>
<a href="#l88.45"></a><span id="l88.45">         if (&quot;_statusTypeBeforeEditing&quot; in this &amp;&amp;</span>
<a href="#l88.46"></a><span id="l88.46">             this._statusTypeBeforeEditing == &quot;offline&quot;)</span>
<a href="#l88.47"></a><span id="l88.47">           elt.setAttribute(&quot;value&quot;, Services.core.globalUserStatus.statusText);</span>
<a href="#l88.48"></a><span id="l88.48">         else</span>
<a href="#l88.49"></a><span id="l88.49">           elt.removeAttribute(&quot;value&quot;);</span>
<a href="#l88.50"></a><span id="l88.50">       }</span>
<a href="#l88.51"></a><span id="l88.51">       if (!(&quot;TextboxSpellChecker&quot; in window))</span>
<a href="#l88.52"></a><span id="l88.52" class="difflineminus">-        Components.utils.import(&quot;resource:///modules/imTextboxUtils.jsm&quot;);</span>
<a href="#l88.53"></a><span id="l88.53" class="difflineplus">+        ChromeUtils.import(&quot;resource:///modules/imTextboxUtils.jsm&quot;);</span>
<a href="#l88.54"></a><span id="l88.54">       TextboxSpellChecker.registerTextbox(elt);</span>
<a href="#l88.55"></a><span id="l88.55">       // force binding attachment by forcing layout</span>
<a href="#l88.56"></a><span id="l88.56">       elt.getBoundingClientRect();</span>
<a href="#l88.57"></a><span id="l88.57">       elt.select();</span>
<a href="#l88.58"></a><span id="l88.58">     }</span>
<a href="#l88.59"></a><span id="l88.59"> </span>
<a href="#l88.60"></a><span id="l88.60">     this.statusMessageRefreshTimer();</span>
<a href="#l88.61"></a><span id="l88.61">   },</span>
<a href="#l88.62"></a><span id="l88.62" class="difflineat">@@ -853,17 +853,17 @@ var buddyList = {</span>
<a href="#l88.63"></a><span id="l88.63">     buddyList.convBox.listedConvs = {};</span>
<a href="#l88.64"></a><span id="l88.64">     buddyList.convBox._updateListConvCount = function() {</span>
<a href="#l88.65"></a><span id="l88.65">       let count = Object.keys(this.listedConvs).length;</span>
<a href="#l88.66"></a><span id="l88.66">       this.parentNode.setAttribute(&quot;listedConvCount&quot;, count);</span>
<a href="#l88.67"></a><span id="l88.67">     }.bind(buddyList.convBox);</span>
<a href="#l88.68"></a><span id="l88.68">     let convs = Services.conversations.getUIConversations();</span>
<a href="#l88.69"></a><span id="l88.69">     if (convs.length != 0) {</span>
<a href="#l88.70"></a><span id="l88.70">       if (!(&quot;Conversations&quot; in window))</span>
<a href="#l88.71"></a><span id="l88.71" class="difflineminus">-        Components.utils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l88.72"></a><span id="l88.72" class="difflineplus">+        ChromeUtils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l88.73"></a><span id="l88.73">       convs.sort((a, b) =&gt;</span>
<a href="#l88.74"></a><span id="l88.74">         a.title.toLowerCase().localeCompare(b.title.toLowerCase()));</span>
<a href="#l88.75"></a><span id="l88.75">       for (let conv of convs) {</span>
<a href="#l88.76"></a><span id="l88.76">         if (!Conversations.isUIConversationDisplayed(conv)) {</span>
<a href="#l88.77"></a><span id="l88.77">           let convElt = document.createElement(&quot;conv&quot;);</span>
<a href="#l88.78"></a><span id="l88.78">           buddyList.convBox.appendChild(convElt);</span>
<a href="#l88.79"></a><span id="l88.79">           convElt.build(conv);</span>
<a href="#l88.80"></a><span id="l88.80">         }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l89.1"></a><span id="l89.1" class="difflineminus">--- a/im/content/buddy.xml</span>
<a href="#l89.2"></a><span id="l89.2" class="difflineplus">+++ b/im/content/buddy.xml</span>
<a href="#l89.3"></a><span id="l89.3" class="difflineat">@@ -141,17 +141,17 @@</span>
<a href="#l89.4"></a><span id="l89.4">        ]]&gt;</span>
<a href="#l89.5"></a><span id="l89.5">       &lt;/body&gt;</span>
<a href="#l89.6"></a><span id="l89.6">      &lt;/method&gt;</span>
<a href="#l89.7"></a><span id="l89.7"> </span>
<a href="#l89.8"></a><span id="l89.8">      &lt;method name=&quot;openConversation&quot;&gt;</span>
<a href="#l89.9"></a><span id="l89.9">       &lt;body&gt;</span>
<a href="#l89.10"></a><span id="l89.10">        &lt;![CDATA[</span>
<a href="#l89.11"></a><span id="l89.11">          if (!(&quot;Conversations&quot; in window))</span>
<a href="#l89.12"></a><span id="l89.12" class="difflineminus">-           Components.utils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l89.13"></a><span id="l89.13" class="difflineplus">+           ChromeUtils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l89.14"></a><span id="l89.14">          Conversations.focusConversation(this.buddy.createConversation());</span>
<a href="#l89.15"></a><span id="l89.15">        ]]&gt;</span>
<a href="#l89.16"></a><span id="l89.16">       &lt;/body&gt;</span>
<a href="#l89.17"></a><span id="l89.17">      &lt;/method&gt;</span>
<a href="#l89.18"></a><span id="l89.18"> </span>
<a href="#l89.19"></a><span id="l89.19">      &lt;method name=&quot;_DragOk&quot;&gt;</span>
<a href="#l89.20"></a><span id="l89.20">       &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l89.21"></a><span id="l89.21">       &lt;body&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l90.1"></a><span id="l90.1" class="difflineminus">--- a/im/content/contact.xml</span>
<a href="#l90.2"></a><span id="l90.2" class="difflineplus">+++ b/im/content/contact.xml</span>
<a href="#l90.3"></a><span id="l90.3" class="difflineat">@@ -361,17 +361,17 @@</span>
<a href="#l90.4"></a><span id="l90.4">        ]]&gt;</span>
<a href="#l90.5"></a><span id="l90.5">       &lt;/body&gt;</span>
<a href="#l90.6"></a><span id="l90.6">      &lt;/method&gt;</span>
<a href="#l90.7"></a><span id="l90.7"> </span>
<a href="#l90.8"></a><span id="l90.8">      &lt;method name=&quot;openConversation&quot;&gt;</span>
<a href="#l90.9"></a><span id="l90.9">       &lt;body&gt;</span>
<a href="#l90.10"></a><span id="l90.10">        &lt;![CDATA[</span>
<a href="#l90.11"></a><span id="l90.11">          if (!(&quot;Conversations&quot; in window))</span>
<a href="#l90.12"></a><span id="l90.12" class="difflineminus">-           Components.utils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l90.13"></a><span id="l90.13" class="difflineplus">+           ChromeUtils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l90.14"></a><span id="l90.14">          Conversations.focusConversation(this.contact.createConversation());</span>
<a href="#l90.15"></a><span id="l90.15">        ]]&gt;</span>
<a href="#l90.16"></a><span id="l90.16">       &lt;/body&gt;</span>
<a href="#l90.17"></a><span id="l90.17">      &lt;/method&gt;</span>
<a href="#l90.18"></a><span id="l90.18"> </span>
<a href="#l90.19"></a><span id="l90.19">      &lt;method name=&quot;keyPress&quot;&gt;</span>
<a href="#l90.20"></a><span id="l90.20">       &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l90.21"></a><span id="l90.21">       &lt;body&gt;this._keyPress(aEvent);&lt;/body&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l91.1"></a><span id="l91.1" class="difflineminus">--- a/im/content/conv.xml</span>
<a href="#l91.2"></a><span id="l91.2" class="difflineplus">+++ b/im/content/conv.xml</span>
<a href="#l91.3"></a><span id="l91.3" class="difflineat">@@ -134,27 +134,27 @@</span>
<a href="#l91.4"></a><span id="l91.4">       ]]&gt;</span>
<a href="#l91.5"></a><span id="l91.5">       &lt;/body&gt;</span>
<a href="#l91.6"></a><span id="l91.6">      &lt;/method&gt;</span>
<a href="#l91.7"></a><span id="l91.7"> </span>
<a href="#l91.8"></a><span id="l91.8">      &lt;method name=&quot;openConversation&quot;&gt;</span>
<a href="#l91.9"></a><span id="l91.9">       &lt;body&gt;</span>
<a href="#l91.10"></a><span id="l91.10">        &lt;![CDATA[</span>
<a href="#l91.11"></a><span id="l91.11">          if (!(&quot;Conversations&quot; in window))</span>
<a href="#l91.12"></a><span id="l91.12" class="difflineminus">-           Components.utils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l91.13"></a><span id="l91.13" class="difflineplus">+           ChromeUtils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l91.14"></a><span id="l91.14">          Conversations.focusConversation(this.conv.target);</span>
<a href="#l91.15"></a><span id="l91.15">        ]]&gt;</span>
<a href="#l91.16"></a><span id="l91.16">       &lt;/body&gt;</span>
<a href="#l91.17"></a><span id="l91.17">      &lt;/method&gt;</span>
<a href="#l91.18"></a><span id="l91.18"> </span>
<a href="#l91.19"></a><span id="l91.19">      &lt;method name=&quot;closeConversation&quot;&gt;</span>
<a href="#l91.20"></a><span id="l91.20">       &lt;body&gt;</span>
<a href="#l91.21"></a><span id="l91.21">        &lt;![CDATA[</span>
<a href="#l91.22"></a><span id="l91.22">          if (!(&quot;Conversations&quot; in window))</span>
<a href="#l91.23"></a><span id="l91.23" class="difflineminus">-           Components.utils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l91.24"></a><span id="l91.24" class="difflineplus">+           ChromeUtils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l91.25"></a><span id="l91.25">          Conversations.forgetHiddenConversation(this.conv);</span>
<a href="#l91.26"></a><span id="l91.26">          this.conv.close();</span>
<a href="#l91.27"></a><span id="l91.27">        ]]&gt;</span>
<a href="#l91.28"></a><span id="l91.28">       &lt;/body&gt;</span>
<a href="#l91.29"></a><span id="l91.29">      &lt;/method&gt;</span>
<a href="#l91.30"></a><span id="l91.30"> </span>
<a href="#l91.31"></a><span id="l91.31">      &lt;method name=&quot;keyPress&quot;&gt;</span>
<a href="#l91.32"></a><span id="l91.32">       &lt;parameter name=&quot;aEvent&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l92.1"></a><span id="l92.1" class="difflineminus">--- a/im/content/conversation.xml</span>
<a href="#l92.2"></a><span id="l92.2" class="difflineplus">+++ b/im/content/conversation.xml</span>
<a href="#l92.3"></a><span id="l92.3" class="difflineat">@@ -481,17 +481,17 @@</span>
<a href="#l92.4"></a><span id="l92.4">       &lt;/method&gt;</span>
<a href="#l92.5"></a><span id="l92.5"> </span>
<a href="#l92.6"></a><span id="l92.6">       &lt;method name=&quot;initTextboxFormat&quot;&gt;</span>
<a href="#l92.7"></a><span id="l92.7">         &lt;body&gt;</span>
<a href="#l92.8"></a><span id="l92.8">         &lt;![CDATA[</span>
<a href="#l92.9"></a><span id="l92.9">           let textbox = this.editor;</span>
<a href="#l92.10"></a><span id="l92.10"> </span>
<a href="#l92.11"></a><span id="l92.11">           if (!(&quot;MessageFormat&quot; in window))</span>
<a href="#l92.12"></a><span id="l92.12" class="difflineminus">-            Components.utils.import(&quot;resource:///modules/imTextboxUtils.jsm&quot;);</span>
<a href="#l92.13"></a><span id="l92.13" class="difflineplus">+            ChromeUtils.import(&quot;resource:///modules/imTextboxUtils.jsm&quot;);</span>
<a href="#l92.14"></a><span id="l92.14">           MessageFormat.registerTextbox(textbox);</span>
<a href="#l92.15"></a><span id="l92.15"> </span>
<a href="#l92.16"></a><span id="l92.16">           // Init the textbox size</span>
<a href="#l92.17"></a><span id="l92.17">           this.calculateTextboxDefaultHeight();</span>
<a href="#l92.18"></a><span id="l92.18">           textbox.parentNode.height = textbox.defaultHeight +</span>
<a href="#l92.19"></a><span id="l92.19">                                       this._TEXTBOX_VERTICAL_OVERHEAD;</span>
<a href="#l92.20"></a><span id="l92.20">           textbox.inputField.style.overflowY = &quot;hidden&quot;;</span>
<a href="#l92.21"></a><span id="l92.21"> </span>
<a href="#l92.22"></a><span id="l92.22" class="difflineat">@@ -1591,17 +1591,17 @@</span>
<a href="#l92.23"></a><span id="l92.23">               let id = &quot;contextAddContact&quot;;</span>
<a href="#l92.24"></a><span id="l92.24">               menu.setAttribute(&quot;id&quot;, id)</span>
<a href="#l92.25"></a><span id="l92.25">               menu.setAttribute(&quot;label&quot;, bundle.GetStringFromName(id + &quot;.label&quot;));</span>
<a href="#l92.26"></a><span id="l92.26">               menu.setAttribute(&quot;accesskey&quot;,</span>
<a href="#l92.27"></a><span id="l92.27">                                 bundle.GetStringFromName(id + &quot;.accesskey&quot;));</span>
<a href="#l92.28"></a><span id="l92.28">               let conv = this._conv;</span>
<a href="#l92.29"></a><span id="l92.29">               let addContact = aTag =&gt; conv.account.addBuddy(aTag, conv.name);</span>
<a href="#l92.30"></a><span id="l92.30">               menu.actionOnShowing = function() {</span>
<a href="#l92.31"></a><span id="l92.31" class="difflineminus">-                Components.utils.import(&quot;resource:///modules/ibTagMenu.jsm&quot;);</span>
<a href="#l92.32"></a><span id="l92.32" class="difflineplus">+                ChromeUtils.import(&quot;resource:///modules/ibTagMenu.jsm&quot;);</span>
<a href="#l92.33"></a><span id="l92.33">                 menu.tagMenu =</span>
<a href="#l92.34"></a><span id="l92.34">                   new TagMenu(menu, window, id, addContact, addContact);</span>
<a href="#l92.35"></a><span id="l92.35">               };</span>
<a href="#l92.36"></a><span id="l92.36">               items.push(menu);</span>
<a href="#l92.37"></a><span id="l92.37">             }</span>
<a href="#l92.38"></a><span id="l92.38"> </span>
<a href="#l92.39"></a><span id="l92.39">             let showLogsItem = createMenuItem(&quot;contextShowLogs&quot;, () =&gt; conv.showLogs());</span>
<a href="#l92.40"></a><span id="l92.40">             // Start disabled, then enable if we have logs.</span>
<a href="#l92.41"></a><span id="l92.41" class="difflineat">@@ -1847,17 +1847,17 @@</span>
<a href="#l92.42"></a><span id="l92.42">           if (this.tab) {</span>
<a href="#l92.43"></a><span id="l92.43">             this.tab.setAttribute(&quot;label&quot;, this._conv.title);</span>
<a href="#l92.44"></a><span id="l92.44">             this.tab.setAttribute(&quot;tooltip&quot;, &quot;imTooltip&quot;);</span>
<a href="#l92.45"></a><span id="l92.45">           }</span>
<a href="#l92.46"></a><span id="l92.46"> </span>
<a href="#l92.47"></a><span id="l92.47">           this.findbar.browser = this.browser;</span>
<a href="#l92.48"></a><span id="l92.48"> </span>
<a href="#l92.49"></a><span id="l92.49">           if (!(&quot;Status&quot; in window))</span>
<a href="#l92.50"></a><span id="l92.50" class="difflineminus">-            Components.utils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l92.51"></a><span id="l92.51" class="difflineplus">+            ChromeUtils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l92.52"></a><span id="l92.52">           this.updateConvStatus();</span>
<a href="#l92.53"></a><span id="l92.53">           this.initTextboxFormat();</span>
<a href="#l92.54"></a><span id="l92.54">         ]]&gt;</span>
<a href="#l92.55"></a><span id="l92.55">         &lt;/body&gt;</span>
<a href="#l92.56"></a><span id="l92.56">       &lt;/method&gt;</span>
<a href="#l92.57"></a><span id="l92.57"> </span>
<a href="#l92.58"></a><span id="l92.58">       &lt;!-- nsIObserver implementation --&gt;</span>
<a href="#l92.59"></a><span id="l92.59">       &lt;method name=&quot;observe&quot;&gt;</span>
<a href="#l92.60"></a><span id="l92.60" class="difflineat">@@ -1868,17 +1868,17 @@</span>
<a href="#l92.61"></a><span id="l92.61">         &lt;![CDATA[</span>
<a href="#l92.62"></a><span id="l92.62">           if (aTopic == &quot;conversation-loaded&quot;) {</span>
<a href="#l92.63"></a><span id="l92.63">             if (aSubject != this.browser)</span>
<a href="#l92.64"></a><span id="l92.64">               return;</span>
<a href="#l92.65"></a><span id="l92.65"> </span>
<a href="#l92.66"></a><span id="l92.66">             this.browser.progressBar = this.getElt(&quot;browserProgress&quot;);</span>
<a href="#l92.67"></a><span id="l92.67"> </span>
<a href="#l92.68"></a><span id="l92.68">             if (!(&quot;Interruptions&quot; in window))</span>
<a href="#l92.69"></a><span id="l92.69" class="difflineminus">-              Components.utils.import(&quot;resource:///modules/ibInterruptions.jsm&quot;);</span>
<a href="#l92.70"></a><span id="l92.70" class="difflineplus">+              ChromeUtils.import(&quot;resource:///modules/ibInterruptions.jsm&quot;);</span>
<a href="#l92.71"></a><span id="l92.71"> </span>
<a href="#l92.72"></a><span id="l92.72">             // Display all queued messages. Use a timeout so that message text</span>
<a href="#l92.73"></a><span id="l92.73">             // modifiers can be added with observers for this notification.</span>
<a href="#l92.74"></a><span id="l92.74">             if (!this.loaded)</span>
<a href="#l92.75"></a><span id="l92.75">               setTimeout(this._showFirstMessages.bind(this), 0);</span>
<a href="#l92.76"></a><span id="l92.76"> </span>
<a href="#l92.77"></a><span id="l92.77">             Services.obs.removeObserver(this, &quot;conversation-loaded&quot;);</span>
<a href="#l92.78"></a><span id="l92.78">             return;</span>
<a href="#l92.79"></a><span id="l92.79" class="difflineat">@@ -2091,17 +2091,17 @@</span>
<a href="#l92.80"></a><span id="l92.80">               .addEventListener(&quot;click&quot;, this.startEditTopic.bind(this));</span>
<a href="#l92.81"></a><span id="l92.81">           // Cancel any ongoing edit if the binding changes.</span>
<a href="#l92.82"></a><span id="l92.82">           this.editing = false;</span>
<a href="#l92.83"></a><span id="l92.83"> </span>
<a href="#l92.84"></a><span id="l92.84">           if (navigator.platform.includes(&quot;Mac&quot;)) {</span>
<a href="#l92.85"></a><span id="l92.85">             if (&quot;draghandle&quot; in this)</span>
<a href="#l92.86"></a><span id="l92.86">               return;</span>
<a href="#l92.87"></a><span id="l92.87">             if (!(&quot;WindowDraggingElement&quot; in window))</span>
<a href="#l92.88"></a><span id="l92.88" class="difflineminus">-              Components.utils.import(&quot;resource://gre/modules/WindowDraggingUtils.jsm&quot;);</span>
<a href="#l92.89"></a><span id="l92.89" class="difflineplus">+              ChromeUtils.import(&quot;resource://gre/modules/WindowDraggingUtils.jsm&quot;);</span>
<a href="#l92.90"></a><span id="l92.90">             this.draghandle = new WindowDraggingElement(this, window);</span>
<a href="#l92.91"></a><span id="l92.91">           }</span>
<a href="#l92.92"></a><span id="l92.92">         ]]&gt;</span>
<a href="#l92.93"></a><span id="l92.93">       &lt;/constructor&gt;</span>
<a href="#l92.94"></a><span id="l92.94"> </span>
<a href="#l92.95"></a><span id="l92.95">       &lt;property name=&quot;topic&quot;&gt;</span>
<a href="#l92.96"></a><span id="l92.96">         &lt;getter&gt;</span>
<a href="#l92.97"></a><span id="l92.97">         &lt;![CDATA[</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l93.1"></a><span id="l93.1" class="difflineminus">--- a/im/content/debug/fake/fake.js</span>
<a href="#l93.2"></a><span id="l93.2" class="difflineplus">+++ b/im/content/debug/fake/fake.js</span>
<a href="#l93.3"></a><span id="l93.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l93.4"></a><span id="l93.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l93.5"></a><span id="l93.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l93.6"></a><span id="l93.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l93.7"></a><span id="l93.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l93.8"></a><span id="l93.8"> </span>
<a href="#l93.9"></a><span id="l93.9"> </span>
<a href="#l93.10"></a><span id="l93.10" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l93.11"></a><span id="l93.11" class="difflineminus">-Components.utils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l93.12"></a><span id="l93.12" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l93.13"></a><span id="l93.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;);</span>
<a href="#l93.14"></a><span id="l93.14"> </span>
<a href="#l93.15"></a><span id="l93.15"> var away = Ci.imIStatusInfo.STATUS_AWAY;</span>
<a href="#l93.16"></a><span id="l93.16"> var idle = Ci.imIStatusInfo.STATUS_IDLE;</span>
<a href="#l93.17"></a><span id="l93.17"> var mobile = Ci.imIStatusInfo.STATUS_MOBILE;</span>
<a href="#l93.18"></a><span id="l93.18"> </span>
<a href="#l93.19"></a><span id="l93.19"> var flo_img_url = 'data:image/jpeg;base64,' +</span>
<a href="#l93.20"></a><span id="l93.20">   '/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBF' +</span>
<a href="#l93.21"></a><span id="l93.21">   'RyB2NjIpLCBxdWFsaXR5ID0gOTUK/9sAQwACAQEBAQECAQEBAgICAgIEAwICAgIFBAQDBAYFBgYGBQYG' +</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l94.1"></a><span id="l94.1" class="difflineminus">--- a/im/content/debugLogPanel.xml</span>
<a href="#l94.2"></a><span id="l94.2" class="difflineplus">+++ b/im/content/debugLogPanel.xml</span>
<a href="#l94.3"></a><span id="l94.3" class="difflineat">@@ -65,17 +65,17 @@</span>
<a href="#l94.4"></a><span id="l94.4">       &lt;!-- This method populates the list of accounts and ensures the specified</span>
<a href="#l94.5"></a><span id="l94.5">            account is selected. Since the _inited flag is set here before returning,</span>
<a href="#l94.6"></a><span id="l94.6">            no debug log will be shown. --&gt;</span>
<a href="#l94.7"></a><span id="l94.7">       &lt;method name=&quot;initAccountList&quot;&gt;</span>
<a href="#l94.8"></a><span id="l94.8">         &lt;parameter name=&quot;aAccountId&quot;/&gt;</span>
<a href="#l94.9"></a><span id="l94.9">         &lt;body&gt;</span>
<a href="#l94.10"></a><span id="l94.10">         &lt;![CDATA[</span>
<a href="#l94.11"></a><span id="l94.11">           if (!(&quot;Services&quot; in window))</span>
<a href="#l94.12"></a><span id="l94.12" class="difflineminus">-            Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l94.13"></a><span id="l94.13" class="difflineplus">+            ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l94.14"></a><span id="l94.14">           let accounts = Services.accounts.getAccounts();</span>
<a href="#l94.15"></a><span id="l94.15">           while (accounts.hasMoreElements()) {</span>
<a href="#l94.16"></a><span id="l94.16">             let acc = accounts.getNext();</span>
<a href="#l94.17"></a><span id="l94.17">             var proto = acc.protocol;</span>
<a href="#l94.18"></a><span id="l94.18">             var item = this.accountList.appendItem(acc.name, acc.id, proto.name);</span>
<a href="#l94.19"></a><span id="l94.19">             item.setAttribute(&quot;image&quot;, proto.iconBaseURI + &quot;icon.png&quot;);</span>
<a href="#l94.20"></a><span id="l94.20">             item.setAttribute(&quot;class&quot;, &quot;menuitem-iconic&quot;);</span>
<a href="#l94.21"></a><span id="l94.21">             let accId = acc.id;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l95.1"></a><span id="l95.1" class="difflineminus">--- a/im/content/extensions-discover.js</span>
<a href="#l95.2"></a><span id="l95.2" class="difflineplus">+++ b/im/content/extensions-discover.js</span>
<a href="#l95.3"></a><span id="l95.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l95.4"></a><span id="l95.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l95.5"></a><span id="l95.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l95.6"></a><span id="l95.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l95.7"></a><span id="l95.7"> </span>
<a href="#l95.8"></a><span id="l95.8"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l95.9"></a><span id="l95.9"> </span>
<a href="#l95.10"></a><span id="l95.10" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l95.11"></a><span id="l95.11" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l95.12"></a><span id="l95.12"> </span>
<a href="#l95.13"></a><span id="l95.13"> var defaultOpen = window.open;</span>
<a href="#l95.14"></a><span id="l95.14"> window.open = function(aUrl) {</span>
<a href="#l95.15"></a><span id="l95.15">   let uri = Services.io.newURI(aUrl);</span>
<a href="#l95.16"></a><span id="l95.16"> </span>
<a href="#l95.17"></a><span id="l95.17">   // http and https are the only schemes that are exposed even</span>
<a href="#l95.18"></a><span id="l95.18">   // though we don't handle them internally.</span>
<a href="#l95.19"></a><span id="l95.19">   if (!uri.schemeIs(&quot;http&quot;) &amp;&amp; !uri.schemeIs(&quot;https&quot;))</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l96.1"></a><span id="l96.1" class="difflineminus">--- a/im/content/extensions.js</span>
<a href="#l96.2"></a><span id="l96.2" class="difflineplus">+++ b/im/content/extensions.js</span>
<a href="#l96.3"></a><span id="l96.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l96.4"></a><span id="l96.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l96.5"></a><span id="l96.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l96.6"></a><span id="l96.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l96.7"></a><span id="l96.7"> </span>
<a href="#l96.8"></a><span id="l96.8"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l96.9"></a><span id="l96.9"> </span>
<a href="#l96.10"></a><span id="l96.10" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l96.11"></a><span id="l96.11" class="difflineminus">-Cu.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l96.12"></a><span id="l96.12" class="difflineminus">-Cu.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l96.13"></a><span id="l96.13" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l96.14"></a><span id="l96.14" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l96.15"></a><span id="l96.15" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l96.16"></a><span id="l96.16"> </span>
<a href="#l96.17"></a><span id="l96.17"> var addonsRegister = {</span>
<a href="#l96.18"></a><span id="l96.18">   onload: function () {</span>
<a href="#l96.19"></a><span id="l96.19">     Services.obs.addObserver(addonsRegister, &quot;addon-install-disabled&quot;);</span>
<a href="#l96.20"></a><span id="l96.20">     Services.obs.addObserver(addonsRegister, &quot;addon-install-blocked&quot;);</span>
<a href="#l96.21"></a><span id="l96.21">     Services.obs.addObserver(addonsRegister, &quot;addon-install-failed&quot;);</span>
<a href="#l96.22"></a><span id="l96.22">     Services.obs.addObserver(addonsRegister, &quot;addon-install-complete&quot;);</span>
<a href="#l96.23"></a><span id="l96.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l97.1"></a><span id="l97.1" class="difflineminus">--- a/im/content/instantbird.js</span>
<a href="#l97.2"></a><span id="l97.2" class="difflineplus">+++ b/im/content/instantbird.js</span>
<a href="#l97.3"></a><span id="l97.3" class="difflineat">@@ -1,22 +1,20 @@</span>
<a href="#l97.4"></a><span id="l97.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l97.5"></a><span id="l97.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l97.6"></a><span id="l97.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l97.7"></a><span id="l97.7"> </span>
<a href="#l97.8"></a><span id="l97.8" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l97.9"></a><span id="l97.9" class="difflineminus">-</span>
<a href="#l97.10"></a><span id="l97.10" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;AppConstants&quot;,</span>
<a href="#l97.11"></a><span id="l97.11" class="difflineminus">-                                  &quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l97.12"></a><span id="l97.12" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;AppConstants&quot;,</span>
<a href="#l97.13"></a><span id="l97.13" class="difflineplus">+                               &quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l97.14"></a><span id="l97.14"> </span>
<a href="#l97.15"></a><span id="l97.15"> var TAB_DROP_TYPE = &quot;application/x-moz-tabbrowser-tab&quot;;</span>
<a href="#l97.16"></a><span id="l97.16"> </span>
<a href="#l97.17"></a><span id="l97.17"> var convWindow = {</span>
<a href="#l97.18"></a><span id="l97.18">   load: function mo_load() {</span>
<a href="#l97.19"></a><span id="l97.19" class="difflineminus">-    Components.utils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l97.20"></a><span id="l97.20" class="difflineplus">+    ChromeUtils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l97.21"></a><span id="l97.21">     Conversations.registerWindow(window);</span>
<a href="#l97.22"></a><span id="l97.22"> </span>
<a href="#l97.23"></a><span id="l97.23">     if (&quot;arguments&quot; in window) {</span>
<a href="#l97.24"></a><span id="l97.24">       while (window.arguments[0] &amp;&amp;</span>
<a href="#l97.25"></a><span id="l97.25">              window.arguments[0] instanceof XULElement) {</span>
<a href="#l97.26"></a><span id="l97.26">         // swap the given tab with the default dummy conversation tab</span>
<a href="#l97.27"></a><span id="l97.27">         // and then close the original tab in the other window.</span>
<a href="#l97.28"></a><span id="l97.28">         let tab = window.arguments.shift();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l98.1"></a><span id="l98.1" class="difflineminus">--- a/im/content/joinchat.js</span>
<a href="#l98.2"></a><span id="l98.2" class="difflineplus">+++ b/im/content/joinchat.js</span>
<a href="#l98.3"></a><span id="l98.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l98.4"></a><span id="l98.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l98.5"></a><span id="l98.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l98.6"></a><span id="l98.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l98.7"></a><span id="l98.7"> </span>
<a href="#l98.8"></a><span id="l98.8" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l98.9"></a><span id="l98.9" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l98.10"></a><span id="l98.10"> </span>
<a href="#l98.11"></a><span id="l98.11"> var autoJoinPref = &quot;autoJoin&quot;;</span>
<a href="#l98.12"></a><span id="l98.12"> </span>
<a href="#l98.13"></a><span id="l98.13"> var joinChat = {</span>
<a href="#l98.14"></a><span id="l98.14">   onload: function jc_onload() {</span>
<a href="#l98.15"></a><span id="l98.15">     var accountList = document.getElementById(&quot;accountlist&quot;);</span>
<a href="#l98.16"></a><span id="l98.16">     for (let acc of getIter(Services.accounts.getAccounts())) {</span>
<a href="#l98.17"></a><span id="l98.17">       if (!acc.connected || !acc.canJoinChat)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l99.1"></a><span id="l99.1" class="difflineminus">--- a/im/content/menus.js</span>
<a href="#l99.2"></a><span id="l99.2" class="difflineplus">+++ b/im/content/menus.js</span>
<a href="#l99.3"></a><span id="l99.3" class="difflineat">@@ -2,19 +2,19 @@</span>
<a href="#l99.4"></a><span id="l99.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l99.5"></a><span id="l99.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l99.6"></a><span id="l99.6"> </span>
<a href="#l99.7"></a><span id="l99.7"> var addBuddyWindow = &quot;chrome://instantbird/content/addbuddy.xul&quot;;</span>
<a href="#l99.8"></a><span id="l99.8"> var joinChatWindow = &quot;chrome://instantbird/content/joinchat.xul&quot;;</span>
<a href="#l99.9"></a><span id="l99.9"> var aboutWindow = &quot;chrome://instantbird/content/aboutDialog.xul&quot;;</span>
<a href="#l99.10"></a><span id="l99.10"> </span>
<a href="#l99.11"></a><span id="l99.11"> if (!(&quot;Services&quot; in window))</span>
<a href="#l99.12"></a><span id="l99.12" class="difflineminus">-  Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l99.13"></a><span id="l99.13" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l99.14"></a><span id="l99.14"> if (!(&quot;Core&quot; in window))</span>
<a href="#l99.15"></a><span id="l99.15" class="difflineminus">-  Components.utils.import(&quot;resource:///modules/ibCore.jsm&quot;);</span>
<a href="#l99.16"></a><span id="l99.16" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ibCore.jsm&quot;);</span>
<a href="#l99.17"></a><span id="l99.17"> </span>
<a href="#l99.18"></a><span id="l99.18"> var menus = {</span>
<a href="#l99.19"></a><span id="l99.19">   supportsCommand: aCmd =&gt;</span>
<a href="#l99.20"></a><span id="l99.20">     aCmd == &quot;cmd_addbuddy&quot; || aCmd == &quot;cmd_joinchat&quot; || aCmd == &quot;cmd_newtab&quot;,</span>
<a href="#l99.21"></a><span id="l99.21">   isCommandEnabled: function(aCmd) {</span>
<a href="#l99.22"></a><span id="l99.22">     let enumerator = Services.accounts.getAccounts();</span>
<a href="#l99.23"></a><span id="l99.23">     while (enumerator.hasMoreElements()) {</span>
<a href="#l99.24"></a><span id="l99.24">       let acc = enumerator.getNext();</span>
<a href="#l99.25"></a><span id="l99.25" class="difflineat">@@ -26,17 +26,17 @@ var menus = {</span>
<a href="#l99.26"></a><span id="l99.26">   },</span>
<a href="#l99.27"></a><span id="l99.27">   doCommand: function(aCmd) {</span>
<a href="#l99.28"></a><span id="l99.28">     if (aCmd == &quot;cmd_joinchat&quot;)</span>
<a href="#l99.29"></a><span id="l99.29">       this.joinChat();</span>
<a href="#l99.30"></a><span id="l99.30">     else if (aCmd == &quot;cmd_addbuddy&quot;)</span>
<a href="#l99.31"></a><span id="l99.31">       this.addBuddy();</span>
<a href="#l99.32"></a><span id="l99.32">     else if (aCmd == &quot;cmd_newtab&quot;) {</span>
<a href="#l99.33"></a><span id="l99.33">       if (!(&quot;Conversations&quot; in window))</span>
<a href="#l99.34"></a><span id="l99.34" class="difflineminus">-        Components.utils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l99.35"></a><span id="l99.35" class="difflineplus">+        ChromeUtils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l99.36"></a><span id="l99.36">       Conversations.showNewTab();</span>
<a href="#l99.37"></a><span id="l99.37">     }</span>
<a href="#l99.38"></a><span id="l99.38">   },</span>
<a href="#l99.39"></a><span id="l99.39">   onEvent: function(aEventName) {},</span>
<a href="#l99.40"></a><span id="l99.40"> </span>
<a href="#l99.41"></a><span id="l99.41">   about: function menu_about() {</span>
<a href="#l99.42"></a><span id="l99.42">     Core.showWindow(&quot;Messenger:About&quot;, aboutWindow, &quot;About&quot;,</span>
<a href="#l99.43"></a><span id="l99.43">                     &quot;chrome,resizable=no,minimizable=no,centerscreen&quot;);</span>
<a href="#l99.44"></a><span id="l99.44" class="difflineat">@@ -50,17 +50,17 @@ var menus = {</span>
<a href="#l99.45"></a><span id="l99.45">     Core.showPreferences();</span>
<a href="#l99.46"></a><span id="l99.46">   },</span>
<a href="#l99.47"></a><span id="l99.47"> </span>
<a href="#l99.48"></a><span id="l99.48">   addons: function menu_addons() {</span>
<a href="#l99.49"></a><span id="l99.49">     Core.showAddons();</span>
<a href="#l99.50"></a><span id="l99.50">   },</span>
<a href="#l99.51"></a><span id="l99.51"> </span>
<a href="#l99.52"></a><span id="l99.52">   errors: function debug_errors() {</span>
<a href="#l99.53"></a><span id="l99.53" class="difflineminus">-    let { require } = Components.utils.import(&quot;resource://devtools/shared/Loader.jsm&quot;, {});</span>
<a href="#l99.54"></a><span id="l99.54" class="difflineplus">+    let { require } = ChromeUtils.import(&quot;resource://devtools/shared/Loader.jsm&quot;, {});</span>
<a href="#l99.55"></a><span id="l99.55">     let { HUDService } = require(&quot;devtools/client/webconsole/hudservice&quot;);</span>
<a href="#l99.56"></a><span id="l99.56">     HUDService.openBrowserConsoleOrFocus();</span>
<a href="#l99.57"></a><span id="l99.57">   },</span>
<a href="#l99.58"></a><span id="l99.58"> </span>
<a href="#l99.59"></a><span id="l99.59">   updates: function menu_updates() {</span>
<a href="#l99.60"></a><span id="l99.60">     Core.showUpdates();</span>
<a href="#l99.61"></a><span id="l99.61">   },</span>
<a href="#l99.62"></a><span id="l99.62"> </span>
<a href="#l99.63"></a><span id="l99.63" class="difflineat">@@ -143,17 +143,17 @@ var menus = {</span>
<a href="#l99.64"></a><span id="l99.64">   },</span>
<a href="#l99.65"></a><span id="l99.65"> </span>
<a href="#l99.66"></a><span id="l99.66">   joinChat: function menu_joinChat() {</span>
<a href="#l99.67"></a><span id="l99.67">     this.openDialog(&quot;Messenger:JoinChat&quot;, joinChatWindow);</span>
<a href="#l99.68"></a><span id="l99.68">   },</span>
<a href="#l99.69"></a><span id="l99.69"> </span>
<a href="#l99.70"></a><span id="l99.70">   checkCurrentStatusType: function menu_checkCurrentStatusType(aItems) {</span>
<a href="#l99.71"></a><span id="l99.71">     if (!(&quot;Status&quot; in window))</span>
<a href="#l99.72"></a><span id="l99.72" class="difflineminus">-      Components.utils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l99.73"></a><span id="l99.73" class="difflineplus">+      ChromeUtils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l99.74"></a><span id="l99.74">     let status = Status.toAttribute(Services.core.globalUserStatus.statusType);</span>
<a href="#l99.75"></a><span id="l99.75">     if (status == &quot;away&quot;)</span>
<a href="#l99.76"></a><span id="l99.76">       status = &quot;unavailable&quot;;</span>
<a href="#l99.77"></a><span id="l99.77"> </span>
<a href="#l99.78"></a><span id="l99.78">     aItems.forEach(function (aId) {</span>
<a href="#l99.79"></a><span id="l99.79">       let elt = document.getElementById(aId);</span>
<a href="#l99.80"></a><span id="l99.80">       if (elt.getAttribute(&quot;status&quot;) == status)</span>
<a href="#l99.81"></a><span id="l99.81">         elt.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l100.1"></a><span id="l100.1" class="difflineminus">--- a/im/content/newtab.xml</span>
<a href="#l100.2"></a><span id="l100.2" class="difflineplus">+++ b/im/content/newtab.xml</span>
<a href="#l100.3"></a><span id="l100.3" class="difflineat">@@ -492,17 +492,17 @@</span>
<a href="#l100.4"></a><span id="l100.4">         &lt;![CDATA[</span>
<a href="#l100.5"></a><span id="l100.5">           this.target = aTarget;</span>
<a href="#l100.6"></a><span id="l100.6">           this.setAttribute(&quot;displayName&quot;, aTarget.displayName);</span>
<a href="#l100.7"></a><span id="l100.7">           let source = aTarget.source;</span>
<a href="#l100.8"></a><span id="l100.8">           this.setAttribute(&quot;source&quot;, source);</span>
<a href="#l100.9"></a><span id="l100.9">           // Could be an existing conversation or a contact.</span>
<a href="#l100.10"></a><span id="l100.10">           if (source != &quot;chat&quot;) {</span>
<a href="#l100.11"></a><span id="l100.11">             if (!(&quot;Status&quot; in window))</span>
<a href="#l100.12"></a><span id="l100.12" class="difflineminus">-              Components.utils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l100.13"></a><span id="l100.13" class="difflineplus">+              ChromeUtils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l100.14"></a><span id="l100.14">             this.setAttribute(&quot;status&quot;, Status.toAttribute(aTarget.statusType));</span>
<a href="#l100.15"></a><span id="l100.15">           }</span>
<a href="#l100.16"></a><span id="l100.16">           else</span>
<a href="#l100.17"></a><span id="l100.17">             this.removeAttribute(&quot;status&quot;);</span>
<a href="#l100.18"></a><span id="l100.18">           // Could be a new chat or an existing chat conversation.</span>
<a href="#l100.19"></a><span id="l100.19">           if (aTarget.isChat)</span>
<a href="#l100.20"></a><span id="l100.20">             this.setAttribute(&quot;chat&quot;, true);</span>
<a href="#l100.21"></a><span id="l100.21">           else</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l101.1"></a><span id="l101.1" class="difflineminus">--- a/im/content/nsContextMenu.js</span>
<a href="#l101.2"></a><span id="l101.2" class="difflineplus">+++ b/im/content/nsContextMenu.js</span>
<a href="#l101.3"></a><span id="l101.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l101.4"></a><span id="l101.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l101.5"></a><span id="l101.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l101.6"></a><span id="l101.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l101.7"></a><span id="l101.7"> </span>
<a href="#l101.8"></a><span id="l101.8" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ibTagMenu.jsm&quot;);</span>
<a href="#l101.9"></a><span id="l101.9" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ibTagMenu.jsm&quot;);</span>
<a href="#l101.10"></a><span id="l101.10"> </span>
<a href="#l101.11"></a><span id="l101.11"> var gContextMenu = null;</span>
<a href="#l101.12"></a><span id="l101.12"> </span>
<a href="#l101.13"></a><span id="l101.13"> function nsContextMenu(aXulMenu, aBrowser) {</span>
<a href="#l101.14"></a><span id="l101.14">   this.target            = null;</span>
<a href="#l101.15"></a><span id="l101.15">   this.browser           = null;</span>
<a href="#l101.16"></a><span id="l101.16">   this.conv              = null;</span>
<a href="#l101.17"></a><span id="l101.17">   this.menu              = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l102.1"></a><span id="l102.1" class="difflineminus">--- a/im/content/preferences/advanced.js</span>
<a href="#l102.2"></a><span id="l102.2" class="difflineplus">+++ b/im/content/preferences/advanced.js</span>
<a href="#l102.3"></a><span id="l102.3" class="difflineat">@@ -1,19 +1,19 @@</span>
<a href="#l102.4"></a><span id="l102.4"> # -*- indent-tabs-mode: nil; js-indent-level: 4 -*-</span>
<a href="#l102.5"></a><span id="l102.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l102.6"></a><span id="l102.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l102.7"></a><span id="l102.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l102.8"></a><span id="l102.8"> </span>
<a href="#l102.9"></a><span id="l102.9"> // Load DownloadUtils module for convertByteUnits</span>
<a href="#l102.10"></a><span id="l102.10" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l102.11"></a><span id="l102.11" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/ctypes.jsm&quot;);</span>
<a href="#l102.12"></a><span id="l102.12" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l102.13"></a><span id="l102.13" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/LoadContextInfo.jsm&quot;);</span>
<a href="#l102.14"></a><span id="l102.14" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l102.15"></a><span id="l102.15" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/DownloadUtils.jsm&quot;);</span>
<a href="#l102.16"></a><span id="l102.16" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/ctypes.jsm&quot;);</span>
<a href="#l102.17"></a><span id="l102.17" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l102.18"></a><span id="l102.18" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/LoadContextInfo.jsm&quot;);</span>
<a href="#l102.19"></a><span id="l102.19" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l102.20"></a><span id="l102.20"> </span>
<a href="#l102.21"></a><span id="l102.21"> var gAdvancedPane = {</span>
<a href="#l102.22"></a><span id="l102.22">   _inited: false,</span>
<a href="#l102.23"></a><span id="l102.23"> </span>
<a href="#l102.24"></a><span id="l102.24">   /**</span>
<a href="#l102.25"></a><span id="l102.25">    * Brings the appropriate tab to the front and initializes various bits of UI.</span>
<a href="#l102.26"></a><span id="l102.26">    */</span>
<a href="#l102.27"></a><span id="l102.27">   init: function ()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l103.1"></a><span id="l103.1" class="difflineminus">--- a/im/content/preferences/main.js</span>
<a href="#l103.2"></a><span id="l103.2" class="difflineplus">+++ b/im/content/preferences/main.js</span>
<a href="#l103.3"></a><span id="l103.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l103.4"></a><span id="l103.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l103.5"></a><span id="l103.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l103.6"></a><span id="l103.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l103.7"></a><span id="l103.7"> </span>
<a href="#l103.8"></a><span id="l103.8"> if (!(&quot;Core&quot; in window))</span>
<a href="#l103.9"></a><span id="l103.9" class="difflineminus">-  Components.utils.import(&quot;resource:///modules/ibCore.jsm&quot;);</span>
<a href="#l103.10"></a><span id="l103.10" class="difflineplus">+  ChromeUtils.import(&quot;resource:///modules/ibCore.jsm&quot;);</span>
<a href="#l103.11"></a><span id="l103.11"> </span>
<a href="#l103.12"></a><span id="l103.12"> var gMainPane = {</span>
<a href="#l103.13"></a><span id="l103.13">   _pane: null,</span>
<a href="#l103.14"></a><span id="l103.14"> </span>
<a href="#l103.15"></a><span id="l103.15">   /**</span>
<a href="#l103.16"></a><span id="l103.16">    * Initialization of this.</span>
<a href="#l103.17"></a><span id="l103.17">    */</span>
<a href="#l103.18"></a><span id="l103.18">   init: function ()</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l104.1"></a><span id="l104.1" class="difflineminus">--- a/im/content/preferences/messagestyle.js</span>
<a href="#l104.2"></a><span id="l104.2" class="difflineplus">+++ b/im/content/preferences/messagestyle.js</span>
<a href="#l104.3"></a><span id="l104.3" class="difflineat">@@ -1,14 +1,14 @@</span>
<a href="#l104.4"></a><span id="l104.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l104.5"></a><span id="l104.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l104.6"></a><span id="l104.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l104.7"></a><span id="l104.7"> </span>
<a href="#l104.8"></a><span id="l104.8"> var jsProtoHelper = {};</span>
<a href="#l104.9"></a><span id="l104.9" class="difflineminus">-Components.utils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;, jsProtoHelper);</span>
<a href="#l104.10"></a><span id="l104.10" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/jsProtoHelper.jsm&quot;, jsProtoHelper);</span>
<a href="#l104.11"></a><span id="l104.11"> </span>
<a href="#l104.12"></a><span id="l104.12"> function Conversation(aName) {</span>
<a href="#l104.13"></a><span id="l104.13">   this._name = aName;</span>
<a href="#l104.14"></a><span id="l104.14">   this._observers = [];</span>
<a href="#l104.15"></a><span id="l104.15">   let now = new Date();</span>
<a href="#l104.16"></a><span id="l104.16">   this._date = new Date(now.getFullYear(), now.getMonth(), now.getDate(),</span>
<a href="#l104.17"></a><span id="l104.17">                         10, 42, 22) * 1000;</span>
<a href="#l104.18"></a><span id="l104.18"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l105.1"></a><span id="l105.1" class="difflineminus">--- a/im/content/preferences/privacy.js</span>
<a href="#l105.2"></a><span id="l105.2" class="difflineplus">+++ b/im/content/preferences/privacy.js</span>
<a href="#l105.3"></a><span id="l105.3" class="difflineat">@@ -1,14 +1,13 @@</span>
<a href="#l105.4"></a><span id="l105.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l105.5"></a><span id="l105.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l105.6"></a><span id="l105.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l105.7"></a><span id="l105.7"> </span>
<a href="#l105.8"></a><span id="l105.8" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l105.9"></a><span id="l105.9" class="difflineminus">-XPCOMUtils.defineLazyModuleGetter(this, &quot;LoginHelper&quot;, &quot;resource://gre/modules/LoginHelper.jsm&quot;);</span>
<a href="#l105.10"></a><span id="l105.10" class="difflineplus">+ChromeUtils.defineModuleGetter(this, &quot;LoginHelper&quot;, &quot;resource://gre/modules/LoginHelper.jsm&quot;);</span>
<a href="#l105.11"></a><span id="l105.11"> </span>
<a href="#l105.12"></a><span id="l105.12"> var gPrivacyPane = {</span>
<a href="#l105.13"></a><span id="l105.13">   init: function ()</span>
<a href="#l105.14"></a><span id="l105.14">   {</span>
<a href="#l105.15"></a><span id="l105.15">     this.updateDisabledState();</span>
<a href="#l105.16"></a><span id="l105.16">     this._initMasterPasswordUI();</span>
<a href="#l105.17"></a><span id="l105.17">   },</span>
<a href="#l105.18"></a><span id="l105.18"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l106.1"></a><span id="l106.1" class="difflineminus">--- a/im/content/preferences/smileys.js</span>
<a href="#l106.2"></a><span id="l106.2" class="difflineplus">+++ b/im/content/preferences/smileys.js</span>
<a href="#l106.3"></a><span id="l106.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l106.4"></a><span id="l106.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l106.5"></a><span id="l106.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l106.6"></a><span id="l106.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l106.7"></a><span id="l106.7"> </span>
<a href="#l106.8"></a><span id="l106.8"> var smileysPreview = {</span>
<a href="#l106.9"></a><span id="l106.9">   _loaded: false,</span>
<a href="#l106.10"></a><span id="l106.10">   load: function() {</span>
<a href="#l106.11"></a><span id="l106.11" class="difflineminus">-    Components.utils.import(&quot;resource:///modules/imSmileys.jsm&quot;);</span>
<a href="#l106.12"></a><span id="l106.12" class="difflineplus">+    ChromeUtils.import(&quot;resource:///modules/imSmileys.jsm&quot;);</span>
<a href="#l106.13"></a><span id="l106.13"> </span>
<a href="#l106.14"></a><span id="l106.14">     gThemePane.buildThemeList(&quot;emoticons&quot;);</span>
<a href="#l106.15"></a><span id="l106.15">     let themeName = document.getElementById(&quot;emoticons-themename&quot;);</span>
<a href="#l106.16"></a><span id="l106.16">     // force the setter to execute again now that the menuitem exists</span>
<a href="#l106.17"></a><span id="l106.17">     themeName.value = themeName.value;</span>
<a href="#l106.18"></a><span id="l106.18">     this._loaded = true;</span>
<a href="#l106.19"></a><span id="l106.19">     this.displayCurrentTheme();</span>
<a href="#l106.20"></a><span id="l106.20">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l107.1"></a><span id="l107.1" class="difflineminus">--- a/im/content/preferences/themes.js</span>
<a href="#l107.2"></a><span id="l107.2" class="difflineplus">+++ b/im/content/preferences/themes.js</span>
<a href="#l107.3"></a><span id="l107.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l107.4"></a><span id="l107.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l107.5"></a><span id="l107.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l107.6"></a><span id="l107.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l107.7"></a><span id="l107.7"> </span>
<a href="#l107.8"></a><span id="l107.8" class="difflineminus">-Components.utils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l107.9"></a><span id="l107.9" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l107.10"></a><span id="l107.10"> </span>
<a href="#l107.11"></a><span id="l107.11"> var PREF_EXTENSIONS_GETMOREMESSAGESTYLESURL = &quot;extensions.getMoreMessageStylesURL&quot;;</span>
<a href="#l107.12"></a><span id="l107.12"> var PREF_EXTENSIONS_GETMOREEMOTICONSURL     = &quot;extensions.getMoreEmoticonsURL&quot;;</span>
<a href="#l107.13"></a><span id="l107.13"> </span>
<a href="#l107.14"></a><span id="l107.14"> var gThemePane = {</span>
<a href="#l107.15"></a><span id="l107.15">   init: function (){</span>
<a href="#l107.16"></a><span id="l107.16">     AddonManager.getAllAddons(function(aAddons) {</span>
<a href="#l107.17"></a><span id="l107.17">       gThemePane.extensionList = aAddons;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l108.1"></a><span id="l108.1" class="difflineminus">--- a/im/content/tabbrowser.xml</span>
<a href="#l108.2"></a><span id="l108.2" class="difflineplus">+++ b/im/content/tabbrowser.xml</span>
<a href="#l108.3"></a><span id="l108.3" class="difflineat">@@ -549,17 +549,17 @@</span>
<a href="#l108.4"></a><span id="l108.4">             Services.prefs.getBoolPref(&quot;messenger.conversations.alwaysClose&quot;) &amp;&amp;</span>
<a href="#l108.5"></a><span id="l108.5">             Services.prefs.getBoolPref(pref);</span>
<a href="#l108.6"></a><span id="l108.6"> </span>
<a href="#l108.7"></a><span id="l108.7">           if (shouldPrompt) {</span>
<a href="#l108.8"></a><span id="l108.8">             //default to true: if it were false, we wouldn't get this far</span>
<a href="#l108.9"></a><span id="l108.9">             var warnOnClose = { value:true };</span>
<a href="#l108.10"></a><span id="l108.10">             var bundle = this.mStringBundle;</span>
<a href="#l108.11"></a><span id="l108.11">             if (!(&quot;PluralForm&quot; in window))</span>
<a href="#l108.12"></a><span id="l108.12" class="difflineminus">-              Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l108.13"></a><span id="l108.13" class="difflineplus">+              ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l108.14"></a><span id="l108.14">             var promptMessage = PluralForm.get(unreadConvsCount, bundle.getString(&quot;tabs.closeWarningMessage&quot;))</span>
<a href="#l108.15"></a><span id="l108.15">                                           .replace(&quot;#1&quot;, unreadConvsCount);</span>
<a href="#l108.16"></a><span id="l108.16">             var closeButton = PluralForm.get(unreadConvsCount, bundle.getString(&quot;tabs.closeButton&quot;));</span>
<a href="#l108.17"></a><span id="l108.17">             // focus the window before prompting.</span>
<a href="#l108.18"></a><span id="l108.18">             // this will raise any minimized window, which will</span>
<a href="#l108.19"></a><span id="l108.19">             // make it obvious which window the prompt is for and will</span>
<a href="#l108.20"></a><span id="l108.20">             // solve the problem of windows &quot;obscuring&quot; the prompt.</span>
<a href="#l108.21"></a><span id="l108.21">             // see bug #350299 for more details</span>
<a href="#l108.22"></a><span id="l108.22" class="difflineat">@@ -1714,17 +1714,17 @@</span>
<a href="#l108.23"></a><span id="l108.23"> </span>
<a href="#l108.24"></a><span id="l108.24">           pb2.addObserver(&quot;browser.tabs.closeButtons&quot;,</span>
<a href="#l108.25"></a><span id="l108.25">                           this._prefObserver);</span>
<a href="#l108.26"></a><span id="l108.26"> </span>
<a href="#l108.27"></a><span id="l108.27">           window.addEventListener(&quot;resize&quot;, this);</span>
<a href="#l108.28"></a><span id="l108.28"> #ifdef XP_MACOSX</span>
<a href="#l108.29"></a><span id="l108.29"> </span>
<a href="#l108.30"></a><span id="l108.30">           if (!(&quot;WindowDraggingElement&quot; in window))</span>
<a href="#l108.31"></a><span id="l108.31" class="difflineminus">-            Components.utils.import(&quot;resource://gre/modules/WindowDraggingUtils.jsm&quot;);</span>
<a href="#l108.32"></a><span id="l108.32" class="difflineplus">+            ChromeUtils.import(&quot;resource://gre/modules/WindowDraggingUtils.jsm&quot;);</span>
<a href="#l108.33"></a><span id="l108.33">           let draghandle = new WindowDraggingElement(this.arrowScrollbox, window);</span>
<a href="#l108.34"></a><span id="l108.34">           draghandle.mouseDownCheck =</span>
<a href="#l108.35"></a><span id="l108.35">             aEvent =&gt; aEvent.originalTarget.localName != &quot;tab&quot;;</span>
<a href="#l108.36"></a><span id="l108.36"> #endif</span>
<a href="#l108.37"></a><span id="l108.37">         ]]&gt;</span>
<a href="#l108.38"></a><span id="l108.38">       &lt;/constructor&gt;</span>
<a href="#l108.39"></a><span id="l108.39"> </span>
<a href="#l108.40"></a><span id="l108.40">       &lt;destructor&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l109.1"></a><span id="l109.1" class="difflineminus">--- a/im/content/utilities.js</span>
<a href="#l109.2"></a><span id="l109.2" class="difflineplus">+++ b/im/content/utilities.js</span>
<a href="#l109.3"></a><span id="l109.3" class="difflineat">@@ -1,13 +1,13 @@</span>
<a href="#l109.4"></a><span id="l109.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l109.5"></a><span id="l109.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l109.6"></a><span id="l109.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l109.7"></a><span id="l109.7"> </span>
<a href="#l109.8"></a><span id="l109.8"> var Cc = Components.classes;</span>
<a href="#l109.9"></a><span id="l109.9"> var Ci = Components.interfaces;</span>
<a href="#l109.10"></a><span id="l109.10" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l109.11"></a><span id="l109.11" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l109.12"></a><span id="l109.12"> </span>
<a href="#l109.13"></a><span id="l109.13"> function* getIter(aEnumerator)</span>
<a href="#l109.14"></a><span id="l109.14"> {</span>
<a href="#l109.15"></a><span id="l109.15">   while (aEnumerator.hasMoreElements())</span>
<a href="#l109.16"></a><span id="l109.16">     yield aEnumerator.getNext();</span>
<a href="#l109.17"></a><span id="l109.17"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l110.1"></a><span id="l110.1" class="difflineminus">--- a/im/content/viewlog.js</span>
<a href="#l110.2"></a><span id="l110.2" class="difflineplus">+++ b/im/content/viewlog.js</span>
<a href="#l110.3"></a><span id="l110.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l110.4"></a><span id="l110.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l110.5"></a><span id="l110.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l110.6"></a><span id="l110.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l110.7"></a><span id="l110.7"> </span>
<a href="#l110.8"></a><span id="l110.8"> var Cu = Components.utils;</span>
<a href="#l110.9"></a><span id="l110.9"> </span>
<a href="#l110.10"></a><span id="l110.10" class="difflineminus">-Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l110.11"></a><span id="l110.11" class="difflineplus">+ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l110.12"></a><span id="l110.12"> </span>
<a href="#l110.13"></a><span id="l110.13"> // viewZoomOverlay.js and macgestures.js use this.</span>
<a href="#l110.14"></a><span id="l110.14"> function getBrowser() {</span>
<a href="#l110.15"></a><span id="l110.15">   let deck = document.getElementById(&quot;browserDeck&quot;);</span>
<a href="#l110.16"></a><span id="l110.16">   let id = (parseInt(deck.selectedIndex, 10) ? &quot;conv&quot; : &quot;text&quot;) + &quot;-browser&quot;;</span>
<a href="#l110.17"></a><span id="l110.17">   let browser = document.getElementById(id);</span>
<a href="#l110.18"></a><span id="l110.18">   browser.selectedBrowser = browser; // for macgestures.js</span>
<a href="#l110.19"></a><span id="l110.19">   return browser;</span>
<a href="#l110.20"></a><span id="l110.20" class="difflineat">@@ -170,17 +170,17 @@ var logWindow = {</span>
<a href="#l110.21"></a><span id="l110.21"> </span>
<a href="#l110.22"></a><span id="l110.22">     let elt = doc.getElementsByTagName(&quot;pre&quot;)[0].firstChild;</span>
<a href="#l110.23"></a><span id="l110.23">     if (!elt) {</span>
<a href="#l110.24"></a><span id="l110.24">       // Text log file is empty.</span>
<a href="#l110.25"></a><span id="l110.25">       document.getElementById(&quot;browserDeck&quot;).selectedIndex = 2;</span>
<a href="#l110.26"></a><span id="l110.26">       return;</span>
<a href="#l110.27"></a><span id="l110.27">     }</span>
<a href="#l110.28"></a><span id="l110.28">     if (!(&quot;smileTextNode&quot; in window))</span>
<a href="#l110.29"></a><span id="l110.29" class="difflineminus">-      Cu.import(&quot;resource:///modules/imSmileys.jsm&quot;);</span>
<a href="#l110.30"></a><span id="l110.30" class="difflineplus">+      ChromeUtils.import(&quot;resource:///modules/imSmileys.jsm&quot;);</span>
<a href="#l110.31"></a><span id="l110.31">     smileTextNode(elt);</span>
<a href="#l110.32"></a><span id="l110.32">   }</span>
<a href="#l110.33"></a><span id="l110.33"> };</span>
<a href="#l110.34"></a><span id="l110.34"> </span>
<a href="#l110.35"></a><span id="l110.35"> function chatLogTreeGroupItem(aTitle, aLogItems) {</span>
<a href="#l110.36"></a><span id="l110.36">   this._title = aTitle;</span>
<a href="#l110.37"></a><span id="l110.37">   this._children = aLogItems;</span>
<a href="#l110.38"></a><span id="l110.38">   for (let child of this._children)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l111.1"></a><span id="l111.1" class="difflineminus">--- a/im/modules/ibCore.jsm</span>
<a href="#l111.2"></a><span id="l111.2" class="difflineplus">+++ b/im/modules/ibCore.jsm</span>
<a href="#l111.3"></a><span id="l111.3" class="difflineat">@@ -1,20 +1,20 @@</span>
<a href="#l111.4"></a><span id="l111.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l111.5"></a><span id="l111.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l111.6"></a><span id="l111.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l111.7"></a><span id="l111.7"> </span>
<a href="#l111.8"></a><span id="l111.8"> this.EXPORTED_SYMBOLS = [&quot;Core&quot;];</span>
<a href="#l111.9"></a><span id="l111.9"> </span>
<a href="#l111.10"></a><span id="l111.10"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l111.11"></a><span id="l111.11" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l111.12"></a><span id="l111.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l111.13"></a><span id="l111.13" class="difflineminus">-Cu.import(&quot;resource:///modules/ibNotifications.jsm&quot;);</span>
<a href="#l111.14"></a><span id="l111.14" class="difflineminus">-Cu.import(&quot;resource:///modules/ibSounds.jsm&quot;);</span>
<a href="#l111.15"></a><span id="l111.15" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l111.16"></a><span id="l111.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l111.17"></a><span id="l111.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l111.18"></a><span id="l111.18" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ibNotifications.jsm&quot;);</span>
<a href="#l111.19"></a><span id="l111.19" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ibSounds.jsm&quot;);</span>
<a href="#l111.20"></a><span id="l111.20" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l111.21"></a><span id="l111.21"> </span>
<a href="#l111.22"></a><span id="l111.22"> var Core = {</span>
<a href="#l111.23"></a><span id="l111.23">   _events: [</span>
<a href="#l111.24"></a><span id="l111.24">     &quot;account-disconnected&quot;,</span>
<a href="#l111.25"></a><span id="l111.25">     &quot;browser-request&quot;,</span>
<a href="#l111.26"></a><span id="l111.26">     &quot;handle-xul-text-link&quot;,</span>
<a href="#l111.27"></a><span id="l111.27">     &quot;quit-application-requested&quot;,</span>
<a href="#l111.28"></a><span id="l111.28">     &quot;quit-application-granted&quot;</span>
<a href="#l111.29"></a><span id="l111.29" class="difflineat">@@ -81,17 +81,17 @@ var Core = {</span>
<a href="#l111.30"></a><span id="l111.30">     Notifications.init();</span>
<a href="#l111.31"></a><span id="l111.31">     Sounds.init();</span>
<a href="#l111.32"></a><span id="l111.32"> #ifdef XP_WIN</span>
<a href="#l111.33"></a><span id="l111.33">     // For windows seven, initialize the jump list module.</span>
<a href="#l111.34"></a><span id="l111.34">     const WINTASKBAR_CONTRACTID = &quot;@mozilla.org/windows-taskbar;1&quot;;</span>
<a href="#l111.35"></a><span id="l111.35">     if (WINTASKBAR_CONTRACTID in Cc &amp;&amp;</span>
<a href="#l111.36"></a><span id="l111.36">         Cc[WINTASKBAR_CONTRACTID].getService(Ci.nsIWinTaskbar).available) {</span>
<a href="#l111.37"></a><span id="l111.37">       let temp = {};</span>
<a href="#l111.38"></a><span id="l111.38" class="difflineminus">-      Cu.import(&quot;resource:///modules/ibWinJumpList.jsm&quot;, temp);</span>
<a href="#l111.39"></a><span id="l111.39" class="difflineplus">+      ChromeUtils.import(&quot;resource:///modules/ibWinJumpList.jsm&quot;, temp);</span>
<a href="#l111.40"></a><span id="l111.40">       temp.WinJumpList.init();</span>
<a href="#l111.41"></a><span id="l111.41">     }</span>
<a href="#l111.42"></a><span id="l111.42"> #endif</span>
<a href="#l111.43"></a><span id="l111.43"> </span>
<a href="#l111.44"></a><span id="l111.44">     this._events.forEach(function (aTopic) {</span>
<a href="#l111.45"></a><span id="l111.45">       Services.obs.addObserver(Core, aTopic);</span>
<a href="#l111.46"></a><span id="l111.46">     });</span>
<a href="#l111.47"></a><span id="l111.47"> </span>
<a href="#l111.48"></a><span id="l111.48" class="difflineat">@@ -331,17 +331,17 @@ var Core = {</span>
<a href="#l111.49"></a><span id="l111.49">     let bundle =</span>
<a href="#l111.50"></a><span id="l111.50">       Services.strings.createBundle(&quot;chrome://instantbird/locale/quitDialog.properties&quot;);</span>
<a href="#l111.51"></a><span id="l111.51">     let promptTitle    = bundle.GetStringFromName(&quot;dialogTitle&quot;);</span>
<a href="#l111.52"></a><span id="l111.52">     let promptMessage  = bundle.GetStringFromName(&quot;message&quot;);</span>
<a href="#l111.53"></a><span id="l111.53">     let promptCheckbox = bundle.GetStringFromName(&quot;checkbox&quot;);</span>
<a href="#l111.54"></a><span id="l111.54">     let action         = aQuitType == &quot;restart&quot; ? &quot;restart&quot; : &quot;quit&quot;;</span>
<a href="#l111.55"></a><span id="l111.55">     let button         = bundle.GetStringFromName(action + &quot;Button&quot;);</span>
<a href="#l111.56"></a><span id="l111.56"> </span>
<a href="#l111.57"></a><span id="l111.57" class="difflineminus">-    Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l111.58"></a><span id="l111.58" class="difflineplus">+    ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l111.59"></a><span id="l111.59">     promptMessage = PluralForm.get(unreadConvsCount, promptMessage)</span>
<a href="#l111.60"></a><span id="l111.60">                               .replace(&quot;#1&quot;, unreadConvsCount);</span>
<a href="#l111.61"></a><span id="l111.61"> </span>
<a href="#l111.62"></a><span id="l111.62">     let prompts = Services.prompt;</span>
<a href="#l111.63"></a><span id="l111.63">     let flags = prompts.BUTTON_TITLE_IS_STRING * prompts.BUTTON_POS_0 +</span>
<a href="#l111.64"></a><span id="l111.64">                 prompts.BUTTON_TITLE_CANCEL * prompts.BUTTON_POS_1 +</span>
<a href="#l111.65"></a><span id="l111.65">                 prompts.BUTTON_POS_1_DEFAULT;</span>
<a href="#l111.66"></a><span id="l111.66">     let checkbox = {value: false};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l112.1"></a><span id="l112.1" class="difflineminus">--- a/im/modules/ibNotifications.jsm</span>
<a href="#l112.2"></a><span id="l112.2" class="difflineplus">+++ b/im/modules/ibNotifications.jsm</span>
<a href="#l112.3"></a><span id="l112.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l112.4"></a><span id="l112.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l112.5"></a><span id="l112.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l112.6"></a><span id="l112.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l112.7"></a><span id="l112.7"> </span>
<a href="#l112.8"></a><span id="l112.8"> this.EXPORTED_SYMBOLS = [&quot;Notifications&quot;];</span>
<a href="#l112.9"></a><span id="l112.9"> </span>
<a href="#l112.10"></a><span id="l112.10" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l112.11"></a><span id="l112.11" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l112.12"></a><span id="l112.12" class="difflineminus">-Components.utils.import(&quot;resource:///modules/hiddenWindow.jsm&quot;);</span>
<a href="#l112.13"></a><span id="l112.13" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ibInterruptions.jsm&quot;);</span>
<a href="#l112.14"></a><span id="l112.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l112.15"></a><span id="l112.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imWindows.jsm&quot;);</span>
<a href="#l112.16"></a><span id="l112.16" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/hiddenWindow.jsm&quot;);</span>
<a href="#l112.17"></a><span id="l112.17" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ibInterruptions.jsm&quot;);</span>
<a href="#l112.18"></a><span id="l112.18"> </span>
<a href="#l112.19"></a><span id="l112.19"> var Notifications = {</span>
<a href="#l112.20"></a><span id="l112.20">   get ellipsis () {</span>
<a href="#l112.21"></a><span id="l112.21">     let ellipsis = &quot;[\u2026]&quot;;</span>
<a href="#l112.22"></a><span id="l112.22"> </span>
<a href="#l112.23"></a><span id="l112.23">     try {</span>
<a href="#l112.24"></a><span id="l112.24">       ellipsis =</span>
<a href="#l112.25"></a><span id="l112.25">         Services.prefs.getComplexValue(&quot;intl.ellipsis&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l113.1"></a><span id="l113.1" class="difflineminus">--- a/im/modules/ibSounds.jsm</span>
<a href="#l113.2"></a><span id="l113.2" class="difflineplus">+++ b/im/modules/ibSounds.jsm</span>
<a href="#l113.3"></a><span id="l113.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l113.4"></a><span id="l113.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l113.5"></a><span id="l113.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l113.6"></a><span id="l113.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l113.7"></a><span id="l113.7"> </span>
<a href="#l113.8"></a><span id="l113.8"> this.EXPORTED_SYMBOLS = [&quot;Sounds&quot;];</span>
<a href="#l113.9"></a><span id="l113.9"> </span>
<a href="#l113.10"></a><span id="l113.10" class="difflineminus">-Components.utils.import(&quot;resource:///modules/hiddenWindow.jsm&quot;);</span>
<a href="#l113.11"></a><span id="l113.11" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l113.12"></a><span id="l113.12" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ibInterruptions.jsm&quot;);</span>
<a href="#l113.13"></a><span id="l113.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/hiddenWindow.jsm&quot;);</span>
<a href="#l113.14"></a><span id="l113.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l113.15"></a><span id="l113.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ibInterruptions.jsm&quot;);</span>
<a href="#l113.16"></a><span id="l113.16"> </span>
<a href="#l113.17"></a><span id="l113.17"> var Sounds = {</span>
<a href="#l113.18"></a><span id="l113.18">   soundEvents: [&quot;contact-signed-on&quot;, &quot;contact-signed-off&quot;, &quot;new-text&quot;],</span>
<a href="#l113.19"></a><span id="l113.19">   soundFiles: {</span>
<a href="#l113.20"></a><span id="l113.20">     incoming: &quot;chrome://instantbird-sounds/skin/receive.wav&quot;,</span>
<a href="#l113.21"></a><span id="l113.21">     outgoing: &quot;chrome://instantbird-sounds/skin/send.wav&quot;,</span>
<a href="#l113.22"></a><span id="l113.22">     login: &quot;chrome://instantbird-sounds/skin/login.wav&quot;,</span>
<a href="#l113.23"></a><span id="l113.23">     logout: &quot;chrome://instantbird-sounds/skin/logout.wav&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l114.1"></a><span id="l114.1" class="difflineminus">--- a/im/modules/ibTagMenu.jsm</span>
<a href="#l114.2"></a><span id="l114.2" class="difflineplus">+++ b/im/modules/ibTagMenu.jsm</span>
<a href="#l114.3"></a><span id="l114.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l114.4"></a><span id="l114.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l114.5"></a><span id="l114.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l114.6"></a><span id="l114.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l114.7"></a><span id="l114.7"> </span>
<a href="#l114.8"></a><span id="l114.8"> this.EXPORTED_SYMBOLS = [&quot;TagMenu&quot;];</span>
<a href="#l114.9"></a><span id="l114.9"> </span>
<a href="#l114.10"></a><span id="l114.10"> var Cu = Components.utils;</span>
<a href="#l114.11"></a><span id="l114.11" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l114.12"></a><span id="l114.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l114.13"></a><span id="l114.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l114.14"></a><span id="l114.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imXPCOMUtils.jsm&quot;);</span>
<a href="#l114.15"></a><span id="l114.15"> </span>
<a href="#l114.16"></a><span id="l114.16"> XPCOMUtils.defineLazyGetter(this, &quot;_&quot;, () =&gt;</span>
<a href="#l114.17"></a><span id="l114.17">   l10nHelper(&quot;chrome://instantbird/locale/instantbird.properties&quot;)</span>
<a href="#l114.18"></a><span id="l114.18"> );</span>
<a href="#l114.19"></a><span id="l114.19"> </span>
<a href="#l114.20"></a><span id="l114.20"> // aOnTag and aOnAddTag will be called with aParent as the this value.</span>
<a href="#l114.21"></a><span id="l114.21"> // If a contact binding is given in aTarget, the menu checkmarks the existing</span>
<a href="#l114.22"></a><span id="l114.22"> // tags on this contact.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l115.1"></a><span id="l115.1" class="difflineminus">--- a/im/modules/ibWinJumpList.jsm</span>
<a href="#l115.2"></a><span id="l115.2" class="difflineplus">+++ b/im/modules/ibWinJumpList.jsm</span>
<a href="#l115.3"></a><span id="l115.3" class="difflineat">@@ -1,18 +1,18 @@</span>
<a href="#l115.4"></a><span id="l115.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l115.5"></a><span id="l115.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l115.6"></a><span id="l115.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l115.7"></a><span id="l115.7"> </span>
<a href="#l115.8"></a><span id="l115.8"> this.EXPORTED_SYMBOLS = [&quot;WinJumpList&quot;];</span>
<a href="#l115.9"></a><span id="l115.9"> </span>
<a href="#l115.10"></a><span id="l115.10"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l115.11"></a><span id="l115.11"> </span>
<a href="#l115.12"></a><span id="l115.12" class="difflineminus">-Cu.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l115.13"></a><span id="l115.13" class="difflineminus">-Cu.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l115.14"></a><span id="l115.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l115.15"></a><span id="l115.15" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imStatusUtils.jsm&quot;);</span>
<a href="#l115.16"></a><span id="l115.16"> </span>
<a href="#l115.17"></a><span id="l115.17"> var WinJumpList = {</span>
<a href="#l115.18"></a><span id="l115.18">   winJumpListBuilder: null,</span>
<a href="#l115.19"></a><span id="l115.19"> </span>
<a href="#l115.20"></a><span id="l115.20">   /*</span>
<a href="#l115.21"></a><span id="l115.21">     Jumplist entries can be of the following 'type' (required attribute):</span>
<a href="#l115.22"></a><span id="l115.22">       type: &quot;shortcut&quot;        // nsIJumpListShortcut</span>
<a href="#l115.23"></a><span id="l115.23">         label: &lt;string&gt;,      //  label shown in the jumplist</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l116.1"></a><span id="l116.1" class="difflineminus">--- a/im/modules/imWindows.jsm</span>
<a href="#l116.2"></a><span id="l116.2" class="difflineplus">+++ b/im/modules/imWindows.jsm</span>
<a href="#l116.3"></a><span id="l116.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l116.4"></a><span id="l116.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l116.5"></a><span id="l116.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l116.6"></a><span id="l116.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l116.7"></a><span id="l116.7"> </span>
<a href="#l116.8"></a><span id="l116.8"> var CONVERSATION_WINDOW_URI = &quot;chrome://instantbird/content/instantbird.xul&quot;;</span>
<a href="#l116.9"></a><span id="l116.9"> this.EXPORTED_SYMBOLS = [&quot;Conversations&quot;];</span>
<a href="#l116.10"></a><span id="l116.10"> </span>
<a href="#l116.11"></a><span id="l116.11" class="difflineminus">-Components.utils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l116.12"></a><span id="l116.12" class="difflineminus">-Components.utils.import(&quot;resource:///modules/ibInterruptions.jsm&quot;);</span>
<a href="#l116.13"></a><span id="l116.13" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/imServices.jsm&quot;);</span>
<a href="#l116.14"></a><span id="l116.14" class="difflineplus">+ChromeUtils.import(&quot;resource:///modules/ibInterruptions.jsm&quot;);</span>
<a href="#l116.15"></a><span id="l116.15"> </span>
<a href="#l116.16"></a><span id="l116.16"> var Conversations = {</span>
<a href="#l116.17"></a><span id="l116.17">   _unreadCount: 0,</span>
<a href="#l116.18"></a><span id="l116.18">   get unreadCount() { return this._unreadCount; },</span>
<a href="#l116.19"></a><span id="l116.19">   set unreadCount(val) {</span>
<a href="#l116.20"></a><span id="l116.20">     if (val == this._unreadCount)</span>
<a href="#l116.21"></a><span id="l116.21">       return val;</span>
<a href="#l116.22"></a><span id="l116.22">     Services.obs.notifyObservers(null, &quot;unread-im-count-changed&quot;, val);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

