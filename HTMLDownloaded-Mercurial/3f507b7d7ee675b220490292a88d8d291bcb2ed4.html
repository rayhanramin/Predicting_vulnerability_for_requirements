<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 9028:3f507b7d7ee675b220490292a88d8d291bcb2ed4</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 3f507b7d7ee675b220490292a88d8d291bcb2ed4" />
<meta property="og:url" content="/comm-central/rev/3f507b7d7ee675b220490292a88d8d291bcb2ed4" />
<meta property="og:description" content="Bug 644169 - Implement Tabs on Top for Thunderbird. ui-r=bwinton,r=sid0,sr=Standard8." />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 3f507b7d7ee675b220490292a88d8d291bcb2ed4 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/3f507b7d7ee675b220490292a88d8d291bcb2ed4">shortlog</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/3f507b7d7ee675b220490292a88d8d291bcb2ed4">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4">files</a> |
changeset |
<a href="/comm-central/raw-rev/3f507b7d7ee675b220490292a88d8d291bcb2ed4">raw</a>  | <a href="/comm-central/archive/3f507b7d7ee675b220490292a88d8d291bcb2ed4.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=644169">Bug 644169</a> - Implement Tabs on Top for Thunderbird. ui-r=bwinton,r=sid0,sr=Standard8.
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#77;&#105;&#107;&#101;&#32;&#67;&#111;&#110;&#108;&#101;&#121;&#32;&#60;&#109;&#99;&#111;&#110;&#108;&#101;&#121;&#64;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 20 Dec 2011 17:12:32 -0500</td></tr>

<tr>
 <td>changeset 9028</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/3f507b7d7ee675b220490292a88d8d291bcb2ed4">3f507b7d7ee675b220490292a88d8d291bcb2ed4</a></td>
</tr>



<tr>
<td>parent 9027</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/8b6248df4f243ced60000704b94894ce4fbef3d9">8b6248df4f243ced60000704b94894ce4fbef3d9</a>
</td>
</tr>

<tr>
<td>child 9029</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/c48dcb162b4c7c6550ac8fd673c449cd8431728d">c48dcb162b4c7c6550ac8fd673c449cd8431728d</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=3f507b7d7ee675b220490292a88d8d291bcb2ed4">6918</a></td></tr>
<tr><td>push user</td><td>mconley@mozilla.com</td></tr>
<tr><td>push date</td><td class="date age">Tue, 20 Dec 2011 22:24:21 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@b37a9a98d2ba [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b37a9a98d2ba0b1fa1db769e4a27bc4c9d7b42b7">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b37a9a98d2ba0b1fa1db769e4a27bc4c9d7b42b7&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b37a9a98d2ba0b1fa1db769e4a27bc4c9d7b42b7&newProject=comm-central&newRevision=3f507b7d7ee675b220490292a88d8d291bcb2ed4&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b37a9a98d2ba0b1fa1db769e4a27bc4c9d7b42b7&newProject=comm-central&newRevision=3f507b7d7ee675b220490292a88d8d291bcb2ed4&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b37a9a98d2ba0b1fa1db769e4a27bc4c9d7b42b7&newProject=comm-central&newRevision=3f507b7d7ee675b220490292a88d8d291bcb2ed4&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28bwinton%29&revcount=50">bwinton</a>, <a href="/comm-central/log?rev=reviewer%28sid0%29&revcount=50">sid0</a>, <a href="/comm-central/log?rev=reviewer%28Standard8%29&revcount=50">Standard8</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=644169">644169</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=644169">Bug 644169</a> - Implement Tabs on Top for Thunderbird. ui-r=bwinton,r=sid0,sr=Standard8.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailCore.js">mail/base/content/mailCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailCore.js">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailCore.js">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailCore.js">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailCore.js">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailCore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailTabs.js">mail/base/content/mailTabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailTabs.js">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailTabs.js">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailTabs.js">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailTabs.js">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailTabs.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailWindowOverlay.xul">mail/base/content/mailWindowOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailWindowOverlay.xul">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailWindowOverlay.xul">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailWindowOverlay.xul">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailWindowOverlay.xul">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/mailWindowOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messageWindow.xul">mail/base/content/messageWindow.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messageWindow.xul">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messageWindow.xul">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messageWindow.xul">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messageWindow.xul">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messageWindow.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messenger.xul">mail/base/content/messenger.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messenger.xul">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messenger.xul">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messenger.xul">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messenger.xul">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/messenger.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/msgHdrViewOverlay.xul">mail/base/content/msgHdrViewOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/msgHdrViewOverlay.xul">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/msgHdrViewOverlay.xul">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/msgHdrViewOverlay.xul">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/msgHdrViewOverlay.xul">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/msgHdrViewOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.js">mail/base/content/specialTabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.js">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.js">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.js">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.js">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.xul">mail/base/content/specialTabs.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.xul">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.xul">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.xul">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.xul">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/specialTabs.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.css">mail/base/content/tabmail.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.xml">mail/base/content/tabmail.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.xml">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.xml">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.xml">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.xml">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/tabmail.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/webSearchTab.xul">mail/base/content/webSearchTab.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/webSearchTab.xul">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/webSearchTab.xul">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/webSearchTab.xul">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/webSearchTab.xul">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/base/content/webSearchTab.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-customize.js">mail/test/mozmill/tabmail/test-tabmail-customize.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-customize.js">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-customize.js">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-customize.js">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-customize.js">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-customize.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">mail/test/mozmill/tabmail/test-tabmail-dragndrop.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/icons/tabDragIndicator.png">mail/themes/gnomestripe/mail/icons/tabDragIndicator.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/icons/tabDragIndicator.png">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/icons/tabDragIndicator.png">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/icons/tabDragIndicator.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/icons/tabDragIndicator.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/icons/tabDragIndicator.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messageHeader.css">mail/themes/gnomestripe/mail/messageHeader.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messageHeader.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messageHeader.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messageHeader.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messageHeader.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messageHeader.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messenger.css">mail/themes/gnomestripe/mail/messenger.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messenger.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messenger.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messenger.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messenger.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/messenger.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/tabmail.css">mail/themes/gnomestripe/mail/tabmail.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/tabmail.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/tabmail.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/tabmail.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/tabmail.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/gnomestripe/mail/tabmail.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/jar.mn">mail/themes/pinstripe/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/jar.mn">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/jar.mn">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/jar.mn">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/jar.mn">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/messageHeader.css">mail/themes/pinstripe/mail/messageHeader.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/messageHeader.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/messageHeader.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/messageHeader.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/messageHeader.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/messageHeader.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/primaryToolbar.css">mail/themes/pinstripe/mail/primaryToolbar.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/primaryToolbar.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/primaryToolbar.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/primaryToolbar.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/primaryToolbar.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/primaryToolbar.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabmail.css">mail/themes/pinstripe/mail/tabmail.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabmail.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabmail.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabmail.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabmail.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabmail.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-bkgnd.png">mail/themes/pinstripe/mail/tabs/tab-bkgnd.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-bkgnd.png">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-bkgnd.png">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-bkgnd.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-bkgnd.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-bkgnd.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-hover-active.png">mail/themes/pinstripe/mail/tabs/tab-hover-active.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-hover-active.png">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-hover-active.png">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-hover-active.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-hover-active.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-hover-active.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-normal-active.png">mail/themes/pinstripe/mail/tabs/tab-normal-active.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-normal-active.png">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-normal-active.png">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-normal-active.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-normal-active.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab-normal-active.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab.png">mail/themes/pinstripe/mail/tabs/tab.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab.png">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab.png">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/pinstripe/mail/tabs/tab.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/jar.mn">mail/themes/qute/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/jar.mn">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/jar.mn">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/jar.mn">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/jar.mn">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-left-bkgnd.png">mail/themes/qute/mail/icons/tab-left-bkgnd.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-left-bkgnd.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-left-bkgnd.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-left-bkgnd.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-left.png">mail/themes/qute/mail/icons/tab-left.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-left.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-left.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-left.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-middle-bkgnd.png">mail/themes/qute/mail/icons/tab-middle-bkgnd.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-middle-bkgnd.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-middle-bkgnd.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-middle-bkgnd.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-middle.png">mail/themes/qute/mail/icons/tab-middle.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-middle.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-middle.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-middle.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-right-bkgnd.png">mail/themes/qute/mail/icons/tab-right-bkgnd.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-right-bkgnd.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-right-bkgnd.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-right-bkgnd.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-right.png">mail/themes/qute/mail/icons/tab-right.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-right.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-right.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab-right.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab.png">mail/themes/qute/mail/icons/tab.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab.png">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab.png">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tab.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabDragIndicator.png">mail/themes/qute/mail/icons/tabDragIndicator.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabDragIndicator.png">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabDragIndicator.png">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabDragIndicator.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabDragIndicator.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabDragIndicator.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabmail-tabs-bkgnd.png">mail/themes/qute/mail/icons/tabmail-tabs-bkgnd.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabmail-tabs-bkgnd.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabmail-tabs-bkgnd.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabmail-tabs-bkgnd.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabstrip-bottom.png">mail/themes/qute/mail/icons/tabstrip-bottom.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabstrip-bottom.png">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabstrip-bottom.png">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/icons/tabstrip-bottom.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1-aero.css">mail/themes/qute/mail/mailWindow1-aero.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1-aero.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1-aero.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1-aero.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1-aero.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1-aero.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1.css">mail/themes/qute/mail/mailWindow1.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/mailWindow1.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader-aero.css">mail/themes/qute/mail/messageHeader-aero.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader-aero.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader-aero.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader-aero.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader-aero.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader-aero.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader.css">mail/themes/qute/mail/messageHeader.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messageHeader.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messenger.css">mail/themes/qute/mail/messenger.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messenger.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messenger.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messenger.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messenger.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/messenger.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar-aero.css">mail/themes/qute/mail/primaryToolbar-aero.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar-aero.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar-aero.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar-aero.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar-aero.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar-aero.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar.css">mail/themes/qute/mail/primaryToolbar.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/primaryToolbar.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/quickFilterBar.css">mail/themes/qute/mail/quickFilterBar.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/quickFilterBar.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/quickFilterBar.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/quickFilterBar.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/quickFilterBar.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/quickFilterBar.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail-aero.css">mail/themes/qute/mail/tabmail-aero.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail-aero.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail-aero.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail-aero.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail-aero.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail-aero.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail.css">mail/themes/qute/mail/tabmail.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail.css">file</a> |
<a href="/comm-central/annotate/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail.css">annotate</a> |
<a href="/comm-central/diff/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail.css">diff</a> |
<a href="/comm-central/comparison/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail.css">comparison</a> |
<a href="/comm-central/log/3f507b7d7ee675b220490292a88d8d291bcb2ed4/mail/themes/qute/mail/tabmail.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/base/content/mailCore.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/base/content/mailCore.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -255,61 +255,76 @@ function MailToolboxCustomizeDone(aEvent</span>
<a href="#l1.4"></a><span id="l1.4">       // We can't use _teardown here, because it'll remove the Get All menuitem</span>
<a href="#l1.5"></a><span id="l1.5">       let sep = toolbox.getElementsByAttribute(&quot;id&quot;, &quot;button-getAllNewMsgSeparator&quot;)[0];</span>
<a href="#l1.6"></a><span id="l1.6">       while (popup.lastChild != sep)</span>
<a href="#l1.7"></a><span id="l1.7">         popup.removeChild(popup.lastChild);</span>
<a href="#l1.8"></a><span id="l1.8">     }</span>
<a href="#l1.9"></a><span id="l1.9">   }</span>
<a href="#l1.10"></a><span id="l1.10"> }</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-function onViewToolbarCommand(aEvent, toolboxId)</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+function onViewToolbarsPopupShowing(aEvent, toolboxIds)</span>
<a href="#l1.14"></a><span id="l1.14"> {</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-  var toolbox = document.getElementById(toolboxId);</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-  var index = aEvent.originalTarget.getAttribute(&quot;toolbarindex&quot;);</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-  var toolbar = toolbox.childNodes[index];</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">-</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-  var hidingAttribute = toolbar.getAttribute(&quot;type&quot;) == &quot;menubar&quot; ?</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineminus">-                        &quot;autohide&quot; : &quot;collapsed&quot;;</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+  if (!Array.isArray(toolboxIds))</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineplus">+    toolboxIds = [toolboxIds];</span>
<a href="#l1.23"></a><span id="l1.23"> </span>
<a href="#l1.24"></a><span id="l1.24" class="difflineminus">-  toolbar.setAttribute(hidingAttribute,</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineminus">-                       aEvent.originalTarget.getAttribute(&quot;checked&quot;) != &quot;true&quot;);</span>
<a href="#l1.26"></a><span id="l1.26" class="difflineminus">-  document.persist(toolbar.id, hidingAttribute);</span>
<a href="#l1.27"></a><span id="l1.27" class="difflineminus">-}</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineminus">-</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineminus">-function onViewToolbarsPopupShowing(aEvent, toolboxId)</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineminus">-{</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-  var popup = aEvent.target;</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+  let popup = aEvent.target;</span>
<a href="#l1.33"></a><span id="l1.33"> </span>
<a href="#l1.34"></a><span id="l1.34">   // Empty the menu</span>
<a href="#l1.35"></a><span id="l1.35" class="difflineminus">-  for (var i = popup.childNodes.length-1; i &gt;= 0; --i) {</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineminus">-    var deadItem = popup.childNodes[i];</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineminus">-    if (deadItem.hasAttribute(&quot;toolbarindex&quot;))</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineplus">+  for (let i = popup.childNodes.length - 1; i &gt;= 0; --i) {</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineplus">+    let deadItem = popup.childNodes[i];</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineplus">+</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineplus">+    // Remove all of the nodes with the iscollapsible</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineplus">+    // attribute.</span>
<a href="#l1.43"></a><span id="l1.43" class="difflineplus">+    if (deadItem.hasAttribute(&quot;iscollapsible&quot;))</span>
<a href="#l1.44"></a><span id="l1.44">       popup.removeChild(deadItem);</span>
<a href="#l1.45"></a><span id="l1.45">   }</span>
<a href="#l1.46"></a><span id="l1.46"> </span>
<a href="#l1.47"></a><span id="l1.47" class="difflineminus">-  var firstMenuItem = popup.firstChild;</span>
<a href="#l1.48"></a><span id="l1.48" class="difflineplus">+  // We'll insert the menuitems before the first item in the list.</span>
<a href="#l1.49"></a><span id="l1.49" class="difflineplus">+  let firstMenuItem = popup.firstChild;</span>
<a href="#l1.50"></a><span id="l1.50" class="difflineplus">+</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineplus">+  for (let [, toolboxId] in Iterator(toolboxIds)) {</span>
<a href="#l1.52"></a><span id="l1.52" class="difflineplus">+    let toolbox = document.getElementById(toolboxId);</span>
<a href="#l1.53"></a><span id="l1.53" class="difflineplus">+</span>
<a href="#l1.54"></a><span id="l1.54" class="difflineplus">+    // We'll consider either childnodes that have a toolbarname attribute,</span>
<a href="#l1.55"></a><span id="l1.55" class="difflineplus">+    // or externalToolbars.</span>
<a href="#l1.56"></a><span id="l1.56" class="difflineplus">+    let childToolbars = Array.slice(toolbox</span>
<a href="#l1.57"></a><span id="l1.57" class="difflineplus">+                                    .getElementsByAttribute(&quot;toolbarname&quot;,</span>
<a href="#l1.58"></a><span id="l1.58" class="difflineplus">+                                                            &quot;*&quot;));</span>
<a href="#l1.59"></a><span id="l1.59" class="difflineplus">+    let potentialToolbars = childToolbars.concat(toolbox.externalToolbars);</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineplus">+</span>
<a href="#l1.61"></a><span id="l1.61" class="difflineplus">+    for (let [, toolbarElement] in Iterator(potentialToolbars)) {</span>
<a href="#l1.62"></a><span id="l1.62" class="difflineplus">+</span>
<a href="#l1.63"></a><span id="l1.63" class="difflineplus">+      // We have to bind to toolbar because Javascript doesn't do fresh</span>
<a href="#l1.64"></a><span id="l1.64" class="difflineplus">+      // let-bindings per Iteration.</span>
<a href="#l1.65"></a><span id="l1.65" class="difflineplus">+      let toolbar = toolbarElement;</span>
<a href="#l1.66"></a><span id="l1.66"> </span>
<a href="#l1.67"></a><span id="l1.67" class="difflineminus">-  var toolbox = document.getElementById(toolboxId);</span>
<a href="#l1.68"></a><span id="l1.68" class="difflineminus">-  for (var i = 0; i &lt; toolbox.childNodes.length; ++i) {</span>
<a href="#l1.69"></a><span id="l1.69" class="difflineminus">-    var toolbar = toolbox.childNodes[i];</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineminus">-    var toolbarName = toolbar.getAttribute(&quot;toolbarname&quot;);</span>
<a href="#l1.71"></a><span id="l1.71" class="difflineminus">-    if (toolbarName) {</span>
<a href="#l1.72"></a><span id="l1.72" class="difflineminus">-      let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l1.73"></a><span id="l1.73" class="difflineminus">-      let hidingAttribute = toolbar.getAttribute(&quot;type&quot;) == &quot;menubar&quot; ?</span>
<a href="#l1.74"></a><span id="l1.74" class="difflineminus">-                            &quot;autohide&quot; : &quot;collapsed&quot;;</span>
<a href="#l1.75"></a><span id="l1.75" class="difflineminus">-      menuItem.setAttribute(&quot;toolbarindex&quot;, i);</span>
<a href="#l1.76"></a><span id="l1.76" class="difflineminus">-      menuItem.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l1.77"></a><span id="l1.77" class="difflineminus">-      menuItem.setAttribute(&quot;label&quot;, toolbarName);</span>
<a href="#l1.78"></a><span id="l1.78" class="difflineminus">-      menuItem.setAttribute(&quot;accesskey&quot;, toolbar.getAttribute(&quot;accesskey&quot;));</span>
<a href="#l1.79"></a><span id="l1.79" class="difflineminus">-      menuItem.setAttribute(&quot;checked&quot;, toolbar.getAttribute(hidingAttribute) != &quot;true&quot;);</span>
<a href="#l1.80"></a><span id="l1.80" class="difflineminus">-      popup.insertBefore(menuItem, firstMenuItem);</span>
<a href="#l1.81"></a><span id="l1.81" class="difflineminus">-      menuItem.addEventListener(&quot;command&quot;,</span>
<a href="#l1.82"></a><span id="l1.82" class="difflineminus">-        function(aEvent) { onViewToolbarCommand(aEvent, toolboxId); }, false);</span>
<a href="#l1.83"></a><span id="l1.83" class="difflineplus">+      let toolbarName = toolbar.getAttribute(&quot;toolbarname&quot;);</span>
<a href="#l1.84"></a><span id="l1.84" class="difflineplus">+      if (toolbarName) {</span>
<a href="#l1.85"></a><span id="l1.85" class="difflineplus">+        let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l1.86"></a><span id="l1.86" class="difflineplus">+        let hidingAttribute = toolbar.getAttribute(&quot;type&quot;) == &quot;menubar&quot; ?</span>
<a href="#l1.87"></a><span id="l1.87" class="difflineplus">+                              &quot;autohide&quot; : &quot;collapsed&quot;;</span>
<a href="#l1.88"></a><span id="l1.88" class="difflineplus">+        menuItem.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l1.89"></a><span id="l1.89" class="difflineplus">+        // Mark this menuitem with an iscollapsible attribute, so we</span>
<a href="#l1.90"></a><span id="l1.90" class="difflineplus">+        // know we can wipe it out later on.</span>
<a href="#l1.91"></a><span id="l1.91" class="difflineplus">+        menuItem.setAttribute(&quot;iscollapsible&quot;, true);</span>
<a href="#l1.92"></a><span id="l1.92" class="difflineplus">+        menuItem.setAttribute(&quot;label&quot;, toolbarName);</span>
<a href="#l1.93"></a><span id="l1.93" class="difflineplus">+        menuItem.setAttribute(&quot;accesskey&quot;, toolbar.getAttribute(&quot;accesskey&quot;));</span>
<a href="#l1.94"></a><span id="l1.94" class="difflineplus">+        menuItem.setAttribute(&quot;checked&quot;,</span>
<a href="#l1.95"></a><span id="l1.95" class="difflineplus">+                              toolbar.getAttribute(hidingAttribute) != &quot;true&quot;);</span>
<a href="#l1.96"></a><span id="l1.96" class="difflineplus">+        popup.insertBefore(menuItem, firstMenuItem);</span>
<a href="#l1.97"></a><span id="l1.97" class="difflineplus">+</span>
<a href="#l1.98"></a><span id="l1.98" class="difflineplus">+        let onMenuItemCommand = function(aEvent) {</span>
<a href="#l1.99"></a><span id="l1.99" class="difflineplus">+          let hidden = aEvent.originalTarget.getAttribute(&quot;checked&quot;) != &quot;true&quot;;</span>
<a href="#l1.100"></a><span id="l1.100" class="difflineplus">+          toolbar.setAttribute(hidingAttribute, hidden);</span>
<a href="#l1.101"></a><span id="l1.101" class="difflineplus">+          document.persist(toolbar.id, hidingAttribute);</span>
<a href="#l1.102"></a><span id="l1.102" class="difflineplus">+        }</span>
<a href="#l1.103"></a><span id="l1.103" class="difflineplus">+</span>
<a href="#l1.104"></a><span id="l1.104" class="difflineplus">+        menuItem.addEventListener(&quot;command&quot;, onMenuItemCommand, false);</span>
<a href="#l1.105"></a><span id="l1.105" class="difflineplus">+      }</span>
<a href="#l1.106"></a><span id="l1.106">     }</span>
<a href="#l1.107"></a><span id="l1.107" class="difflineminus">-    toolbar = toolbar.nextSibling;</span>
<a href="#l1.108"></a><span id="l1.108">   }</span>
<a href="#l1.109"></a><span id="l1.109"> }</span>
<a href="#l1.110"></a><span id="l1.110"> </span>
<a href="#l1.111"></a><span id="l1.111"> function toJavaScriptConsole()</span>
<a href="#l1.112"></a><span id="l1.112"> {</span>
<a href="#l1.113"></a><span id="l1.113">     toOpenWindowByType(&quot;global:console&quot;, &quot;chrome://global/content/console.xul&quot;);</span>
<a href="#l1.114"></a><span id="l1.114"> }</span>
<a href="#l1.115"></a><span id="l1.115"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/base/content/mailTabs.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/base/content/mailTabs.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -689,16 +689,19 @@ let mailTabType = {</span>
<a href="#l2.4"></a><span id="l2.4">     // -- thread pane status bar helpers</span>
<a href="#l2.5"></a><span id="l2.5">     document.getElementById(&quot;unreadMessageCount&quot;).hidden = !aLegalStates.thread;</span>
<a href="#l2.6"></a><span id="l2.6">     document.getElementById(&quot;totalMessageCount&quot;).hidden = !aLegalStates.thread;</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8">     // -- message pane</span>
<a href="#l2.9"></a><span id="l2.9">     document.getElementById(&quot;messagepaneboxwrapper&quot;).collapsed =</span>
<a href="#l2.10"></a><span id="l2.10">       !aLegalStates.message || !aVisibleStates.message;</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+    // -- mail toolbox (collapsed mail-bar3 and any custom toolbars)</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+    document.getElementById(&quot;mail-toolbox&quot;).collapsed = !displayDeckLegal;</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+</span>
<a href="#l2.15"></a><span id="l2.15">     // we are responsible for updating the keybinding; view_init takes care of</span>
<a href="#l2.16"></a><span id="l2.16">     //  updating the menu item (on demand)</span>
<a href="#l2.17"></a><span id="l2.17">     let messagePaneToggleKey = document.getElementById(&quot;key_toggleMessagePane&quot;);</span>
<a href="#l2.18"></a><span id="l2.18">     if (aLegalStates.thread)</span>
<a href="#l2.19"></a><span id="l2.19">       messagePaneToggleKey.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l2.20"></a><span id="l2.20">     else</span>
<a href="#l2.21"></a><span id="l2.21">       messagePaneToggleKey.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l2.22"></a><span id="l2.22">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.xul</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.xul</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -945,38 +945,41 @@</span>
<a href="#l3.4"></a><span id="l3.4">              onpopupshowing=&quot;onViewToolbarsPopupShowing(event, 'mail-toolbox');&quot;&gt;</span>
<a href="#l3.5"></a><span id="l3.5">     &lt;menuseparator id=&quot;customizeMailToolbarMenuSeparator&quot;/&gt;</span>
<a href="#l3.6"></a><span id="l3.6">     &lt;menuitem id=&quot;CustomizeMailToolbar&quot;</span>
<a href="#l3.7"></a><span id="l3.7">               command=&quot;cmd_CustomizeMailToolbar&quot;</span>
<a href="#l3.8"></a><span id="l3.8">               label=&quot;&amp;customizeToolbar.label;&quot;</span>
<a href="#l3.9"></a><span id="l3.9">               accesskey=&quot;&amp;customizeToolbar.accesskey;&quot;/&gt;</span>
<a href="#l3.10"></a><span id="l3.10">   &lt;/menupopup&gt;</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-&lt;toolbox id=&quot;mail-toolbox&quot;</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-         class=&quot;toolbox-top&quot;</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-         mode=&quot;full&quot;</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-         defaultmode=&quot;full&quot;</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-#ifdef XP_MACOSX</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineminus">-         iconsize=&quot;small&quot;</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineminus">-         defaulticonsize=&quot;small&quot;</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineminus">-#endif</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">-         labelalign=&quot;end&quot;</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">-         defaultlabelalign=&quot;end&quot;&gt;</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineplus">+&lt;!-- The reason we put the menubar inside a toolbox is due to the labelalign and</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineplus">+     defaultlabelalign attributes that the toolbars might expect from their</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineplus">+     parent toolboxes.  This lets us control how toolbar buttons appear in the</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineplus">+     toolbars by default.</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineplus">+</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineplus">+     We also put the toolbars inside a toolbox named &quot;navigation-toolbox&quot; to</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineplus">+     leverage overlays, since we currently have several windows (3pane,</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineplus">+     message reader, compose, address book) that take advantage of these</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+     toolbars.</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineplus">+--&gt;</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+&lt;toolbox id=&quot;navigation-toolbox&quot; class=&quot;toolbox-top&quot;&gt;</span>
<a href="#l3.33"></a><span id="l3.33">   &lt;!-- Menu --&gt;</span>
<a href="#l3.34"></a><span id="l3.34">   &lt;toolbar type=&quot;menubar&quot; id=&quot;mail-toolbar-menubar2&quot; class=&quot;chromeclass-menubar&quot; customizable=&quot;true&quot;</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineplus">+           toolboxid=&quot;mail-toolbox&quot;</span>
<a href="#l3.36"></a><span id="l3.36"> #ifdef XP_MACOSX</span>
<a href="#l3.37"></a><span id="l3.37">            defaultset=&quot;menubar-items&quot;</span>
<a href="#l3.38"></a><span id="l3.38"> #else</span>
<a href="#l3.39"></a><span id="l3.39">           defaultset=&quot;menubar-items,spring,throbber-box&quot;</span>
<a href="#l3.40"></a><span id="l3.40"> #endif</span>
<a href="#l3.41"></a><span id="l3.41"> #ifdef XP_WIN</span>
<a href="#l3.42"></a><span id="l3.42">           toolbarname=&quot;&amp;menubarCmd.label;&quot;</span>
<a href="#l3.43"></a><span id="l3.43">           accesskey=&quot;&amp;menubarCmd.accesskey;&quot;</span>
<a href="#l3.44"></a><span id="l3.44"> #endif</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineminus">-          context=&quot;toolbar-context-menu&quot; mode=&quot;icons&quot;&gt;</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineplus">+          context=&quot;toolbar-context-menu&quot; mode=&quot;icons&quot;</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineplus">+          insertbefore=&quot;tabs-toolbar&quot;&gt;</span>
<a href="#l3.48"></a><span id="l3.48">     &lt;toolbaritem id=&quot;menubar-items&quot; align=&quot;center&quot;&gt;</span>
<a href="#l3.49"></a><span id="l3.49">       &lt;menubar id=&quot;mail-menubar&quot; style=&quot;border:0px;padding:0px;margin:0px;-moz-appearance:none&quot;&gt;</span>
<a href="#l3.50"></a><span id="l3.50">         &lt;!-- File --&gt;</span>
<a href="#l3.51"></a><span id="l3.51">         &lt;menu id=&quot;menu_File&quot;&gt;</span>
<a href="#l3.52"></a><span id="l3.52">           &lt;menupopup id=&quot;menu_FilePopup&quot; onpopupshowing=&quot;file_init();&quot;&gt;</span>
<a href="#l3.53"></a><span id="l3.53">           &lt;menu id=&quot;menu_New&quot;&gt;</span>
<a href="#l3.54"></a><span id="l3.54">             &lt;menupopup id=&quot;menu_NewPopup&quot; onpopupshowing=&quot;menu_new_init();&quot;&gt;</span>
<a href="#l3.55"></a><span id="l3.55">               &lt;menuitem id=&quot;newNewMsgCmd&quot; label=&quot;&amp;newNewMsgCmd.label;&quot;</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineat">@@ -1694,16 +1697,28 @@</span>
<a href="#l3.57"></a><span id="l3.57"> </span>
<a href="#l3.58"></a><span id="l3.58">       &lt;!-- Help --&gt;</span>
<a href="#l3.59"></a><span id="l3.59">       &lt;menu id=&quot;helpMenu&quot;/&gt;</span>
<a href="#l3.60"></a><span id="l3.60"> </span>
<a href="#l3.61"></a><span id="l3.61">       &lt;spacer id=&quot;menubar_spacer&quot; flex=&quot;100%&quot;/&gt;</span>
<a href="#l3.62"></a><span id="l3.62">       &lt;/menubar&gt;</span>
<a href="#l3.63"></a><span id="l3.63">     &lt;/toolbaritem&gt;</span>
<a href="#l3.64"></a><span id="l3.64">   &lt;/toolbar&gt;</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineplus">+&lt;/toolbox&gt;</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineplus">+</span>
<a href="#l3.67"></a><span id="l3.67" class="difflineplus">+&lt;toolbox id=&quot;mail-toolbox&quot;</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineplus">+         class=&quot;mail-toolbox&quot;</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineplus">+         mode=&quot;full&quot;</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineplus">+         defaultmode=&quot;full&quot;</span>
<a href="#l3.71"></a><span id="l3.71" class="difflineplus">+#ifdef XP_MACOSX</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineplus">+         iconsize=&quot;small&quot;</span>
<a href="#l3.73"></a><span id="l3.73" class="difflineplus">+         defaulticonsize=&quot;small&quot;</span>
<a href="#l3.74"></a><span id="l3.74" class="difflineplus">+#endif</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineplus">+         labelalign=&quot;end&quot;</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineplus">+         defaultlabelalign=&quot;end&quot;&gt;</span>
<a href="#l3.77"></a><span id="l3.77"> </span>
<a href="#l3.78"></a><span id="l3.78">   &lt;toolbarpalette id=&quot;MailToolbarPalette&quot;&gt;</span>
<a href="#l3.79"></a><span id="l3.79">     &lt;toolbarbutton id=&quot;button-getmsg&quot;</span>
<a href="#l3.80"></a><span id="l3.80">                    type=&quot;menu-button&quot;</span>
<a href="#l3.81"></a><span id="l3.81">                    class=&quot;toolbarbutton-1&quot;</span>
<a href="#l3.82"></a><span id="l3.82">                    label=&quot;&amp;getMsgButton.label;&quot;</span>
<a href="#l3.83"></a><span id="l3.83">                    tooltiptext=&quot;&amp;getMsgButton.tooltip;&quot;</span>
<a href="#l3.84"></a><span id="l3.84">                    oncommand=&quot;MsgGetMessagesForAccount(event.target._folder)&quot;</span>
<a href="#l3.85"></a><span id="l3.85" class="difflineat">@@ -1833,17 +1848,17 @@</span>
<a href="#l3.86"></a><span id="l3.86">                         tooltiptext=&quot;&amp;deleteButton.tooltip;&quot;</span>
<a href="#l3.87"></a><span id="l3.87">                         observes=&quot;button_delete&quot;</span>
<a href="#l3.88"></a><span id="l3.88">                         oncommand=&quot;goDoCommand(event.shiftKey ? 'button_shiftDelete' : 'button_delete')&quot;/&gt;</span>
<a href="#l3.89"></a><span id="l3.89">          &lt;toolbarbutton id=&quot;button-mark-undelete&quot;</span>
<a href="#l3.90"></a><span id="l3.90">                         class=&quot;toolbarbutton-1 delete-button&quot;</span>
<a href="#l3.91"></a><span id="l3.91">                         label=&quot;&amp;undeleteButton.label;&quot;</span>
<a href="#l3.92"></a><span id="l3.92">                         tooltiptext=&quot;&amp;undeleteButton.tooltip;&quot;</span>
<a href="#l3.93"></a><span id="l3.93">                         observes=&quot;button_delete&quot;</span>
<a href="#l3.94"></a><span id="l3.94" class="difflineminus">-                        oncommand=&quot;goDoCommand('button_delete')&quot;/&gt;</span>
<a href="#l3.95"></a><span id="l3.95" class="difflineplus">+                        oncommand=&quot;goDoCommand('cmd_delete')&quot;/&gt;</span>
<a href="#l3.96"></a><span id="l3.96">       &lt;/deck&gt;</span>
<a href="#l3.97"></a><span id="l3.97">     &lt;/toolbaritem&gt;</span>
<a href="#l3.98"></a><span id="l3.98"> #ifdef XP_MACOSX</span>
<a href="#l3.99"></a><span id="l3.99">     &lt;toolbarbutton id=&quot;button-print&quot;</span>
<a href="#l3.100"></a><span id="l3.100">                    class=&quot;toolbarbutton-1&quot;</span>
<a href="#l3.101"></a><span id="l3.101">                    label=&quot;&amp;printButton.label;&quot;</span>
<a href="#l3.102"></a><span id="l3.102">                    observes=&quot;button_print&quot;</span>
<a href="#l3.103"></a><span id="l3.103">                    oncommand=&quot;goDoCommand('cmd_print')&quot;</span>
<a href="#l3.104"></a><span id="l3.104" class="difflineat">@@ -1940,29 +1955,32 @@</span>
<a href="#l3.105"></a><span id="l3.105">                    tooltiptext=&quot;&amp;stopButton.tooltip;&quot;</span>
<a href="#l3.106"></a><span id="l3.106">                    command=&quot;cmd_stop&quot;/&gt;</span>
<a href="#l3.107"></a><span id="l3.107">   &lt;/toolbarpalette&gt;</span>
<a href="#l3.108"></a><span id="l3.108"> </span>
<a href="#l3.109"></a><span id="l3.109">   &lt;!-- If changes are made to the default set of toolbar buttons, you may need to rev the id</span>
<a href="#l3.110"></a><span id="l3.110">        of mail-bar in order to force the new default items to show up for users who customized their toolbar</span>
<a href="#l3.111"></a><span id="l3.111">        in earlier versions. Bumping the id means users will have to re-customize their toolbar!</span>
<a href="#l3.112"></a><span id="l3.112">   --&gt;</span>
<a href="#l3.113"></a><span id="l3.113" class="difflineminus">-  &lt;toolbar id=&quot;mail-bar3&quot; class=&quot;toolbar-primary chromeclass-toolbar&quot;</span>
<a href="#l3.114"></a><span id="l3.114" class="difflineplus">+</span>
<a href="#l3.115"></a><span id="l3.115" class="difflineplus">+  &lt;toolbar id=&quot;mail-bar3&quot;</span>
<a href="#l3.116"></a><span id="l3.116" class="difflineplus">+           class=&quot;inline-toolbar chromeclass-toolbar&quot;</span>
<a href="#l3.117"></a><span id="l3.117">            toolbarname=&quot;&amp;showMessengerToolbarCmd.label;&quot;</span>
<a href="#l3.118"></a><span id="l3.118">            accesskey=&quot;&amp;showMessengerToolbarCmd.accesskey;&quot;</span>
<a href="#l3.119"></a><span id="l3.119">            fullscreentoolbar=&quot;true&quot; mode=&quot;full&quot;</span>
<a href="#l3.120"></a><span id="l3.120">            customizable=&quot;true&quot;</span>
<a href="#l3.121"></a><span id="l3.121">            context=&quot;toolbar-context-menu&quot;</span>
<a href="#l3.122"></a><span id="l3.122"> #ifdef XP_MACOSX</span>
<a href="#l3.123"></a><span id="l3.123">            iconsize=&quot;small&quot;</span>
<a href="#l3.124"></a><span id="l3.124">            defaultset=&quot;button-getmsg,button-newmsg,button-address,spacer,button-tag,spring,gloda-search,throbber-box&quot;&gt;</span>
<a href="#l3.125"></a><span id="l3.125"> #else</span>
<a href="#l3.126"></a><span id="l3.126">            defaultset=&quot;button-getmsg,button-newmsg,button-address,separator,button-tag,spring,gloda-search&quot;&gt;</span>
<a href="#l3.127"></a><span id="l3.127"> #endif</span>
<a href="#l3.128"></a><span id="l3.128">   &lt;/toolbar&gt;</span>
<a href="#l3.129"></a><span id="l3.129" class="difflineplus">+</span>
<a href="#l3.130"></a><span id="l3.130">   &lt;toolbarset id=&quot;customToolbars&quot; context=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l3.131"></a><span id="l3.131"> &lt;/toolbox&gt;</span>
<a href="#l3.132"></a><span id="l3.132"> </span>
<a href="#l3.133"></a><span id="l3.133"> &lt;!-- The msgNotificationBar appears on top of the message and displays</span>
<a href="#l3.134"></a><span id="l3.134">      information like: junk, contains remote images, or is a suspected phishing</span>
<a href="#l3.135"></a><span id="l3.135">      URL.</span>
<a href="#l3.136"></a><span id="l3.136"> --&gt;</span>
<a href="#l3.137"></a><span id="l3.137"> &lt;deck id=&quot;msgNotificationBar&quot; selectedIndex=&quot;0&quot; collapsed=&quot;true&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/base/content/messageWindow.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/base/content/messageWindow.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -157,18 +157,21 @@</span>
<a href="#l4.4"></a><span id="l4.4"> </span>
<a href="#l4.5"></a><span id="l4.5">   &lt;menupopup id=&quot;attachmentListContext&quot;/&gt;</span>
<a href="#l4.6"></a><span id="l4.6">   &lt;menupopup id=&quot;attachmentItemContext&quot;/&gt;</span>
<a href="#l4.7"></a><span id="l4.7">   &lt;menupopup id=&quot;header-toolbar-context-menu&quot;/&gt;</span>
<a href="#l4.8"></a><span id="l4.8">   &lt;menupopup id=&quot;attachment-toolbar-context-menu&quot;/&gt;</span>
<a href="#l4.9"></a><span id="l4.9">   &lt;menupopup id=&quot;copyUrlPopup&quot;/&gt;</span>
<a href="#l4.10"></a><span id="l4.10">   &lt;menupopup id=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-  &lt;toolbox id=&quot;mail-toolbox&quot; class=&quot;toolbox-top&quot;&gt;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-  &lt;/toolbox&gt;</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+  &lt;!-- navigation-toolbox is provided by mailWindowOverlay.xul --&gt;</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+  &lt;toolbox id=&quot;navigation-toolbox&quot; class=&quot;toolbox-top&quot; /&gt;</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+  &lt;!-- mail-toolbox is provided by mailWindowOverlay.xul --&gt;</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineplus">+  &lt;toolbox id=&quot;mail-toolbox&quot; /&gt;</span>
<a href="#l4.19"></a><span id="l4.19"> </span>
<a href="#l4.20"></a><span id="l4.20">   &lt;tooltip id=&quot;aHTMLTooltip&quot; onpopupshowing=&quot;return FillInHTMLTooltip(document.tooltipNode);&quot;/&gt;</span>
<a href="#l4.21"></a><span id="l4.21"> </span>
<a href="#l4.22"></a><span id="l4.22">  &lt;!-- msg header view --&gt;</span>
<a href="#l4.23"></a><span id="l4.23">   &lt;!-- a convenience box for ease of extension overlaying --&gt;</span>
<a href="#l4.24"></a><span id="l4.24">   &lt;hbox id=&quot;messagepaneboxwrapper&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l4.25"></a><span id="l4.25">     &lt;vbox id=&quot;messagepanebox&quot; flex=&quot;3&quot;</span>
<a href="#l4.26"></a><span id="l4.26">           ondragover=&quot;nsDragAndDrop.dragOver(event, messagepaneObserver);&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/base/content/messenger.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/base/content/messenger.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -36,16 +36,20 @@</span>
<a href="#l5.4"></a><span id="l5.4"> # and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l5.5"></a><span id="l5.5"> # the provisions above, a recipient may use your version of this file under</span>
<a href="#l5.6"></a><span id="l5.6"> # the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l5.7"></a><span id="l5.7"> #</span>
<a href="#l5.8"></a><span id="l5.8"> # ***** END LICENSE BLOCK *****</span>
<a href="#l5.9"></a><span id="l5.9"> </span>
<a href="#l5.10"></a><span id="l5.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/mailWindow1.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l5.11"></a><span id="l5.11"> &lt;?xml-stylesheet href=&quot;chrome://gloda/content/glodacomplete.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/content/tabmail.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/tabmail.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+</span>
<a href="#l5.16"></a><span id="l5.16"> </span>
<a href="#l5.17"></a><span id="l5.17"> </span>
<a href="#l5.18"></a><span id="l5.18"> &lt;?xul-overlay href=&quot;chrome://communicator/content/utilityOverlay.xul&quot;?&gt;</span>
<a href="#l5.19"></a><span id="l5.19"> &lt;?xul-overlay href=&quot;chrome://messenger/content/msgHdrViewOverlay.xul&quot;?&gt;</span>
<a href="#l5.20"></a><span id="l5.20"> &lt;?xul-overlay href=&quot;chrome://messenger/content/mailWindowOverlay.xul&quot;?&gt;</span>
<a href="#l5.21"></a><span id="l5.21"> &lt;?xul-overlay href=&quot;chrome://messenger/content/extraCustomizeItems.xul&quot;?&gt;</span>
<a href="#l5.22"></a><span id="l5.22"> &lt;?xul-overlay href=&quot;chrome://messenger/content/mailOverlay.xul&quot;?&gt;</span>
<a href="#l5.23"></a><span id="l5.23"> &lt;?xul-overlay href=&quot;chrome://messenger/content/editContactOverlay.xul&quot;?&gt;</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineat">@@ -57,16 +61,18 @@</span>
<a href="#l5.25"></a><span id="l5.25"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l5.26"></a><span id="l5.26"> %brandDTD;</span>
<a href="#l5.27"></a><span id="l5.27"> &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot; &gt;</span>
<a href="#l5.28"></a><span id="l5.28"> %messengerDTD;</span>
<a href="#l5.29"></a><span id="l5.29"> &lt;!ENTITY % customizeToolbarDTD SYSTEM &quot;chrome://global/locale/customizeToolbar.dtd&quot;&gt;</span>
<a href="#l5.30"></a><span id="l5.30"> %customizeToolbarDTD;</span>
<a href="#l5.31"></a><span id="l5.31"> &lt;!ENTITY % textcontextDTD SYSTEM &quot;chrome://global/locale/textcontext.dtd&quot;&gt;</span>
<a href="#l5.32"></a><span id="l5.32"> %textcontextDTD;</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+&lt;!ENTITY % tabMailDTD SYSTEM &quot;chrome://messenger/locale/tabmail.dtd&quot; &gt;</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineplus">+%tabMailDTD;</span>
<a href="#l5.35"></a><span id="l5.35"> ]&gt;</span>
<a href="#l5.36"></a><span id="l5.36"> </span>
<a href="#l5.37"></a><span id="l5.37"> &lt;!--</span>
<a href="#l5.38"></a><span id="l5.38">   - The 'what you think of when you think of thunderbird' window;</span>
<a href="#l5.39"></a><span id="l5.39">   -  3-pane view inside of tabs.</span>
<a href="#l5.40"></a><span id="l5.40">   --&gt;</span>
<a href="#l5.41"></a><span id="l5.41"> &lt;window id=&quot;messengerWindow&quot;</span>
<a href="#l5.42"></a><span id="l5.42">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineat">@@ -238,48 +244,122 @@</span>
<a href="#l5.44"></a><span id="l5.44"> </span>
<a href="#l5.45"></a><span id="l5.45"> &lt;menupopup id=&quot;pageContextMenu&quot;</span>
<a href="#l5.46"></a><span id="l5.46">            pagemenu=&quot;end&quot;</span>
<a href="#l5.47"></a><span id="l5.47">            onpopupshowing=&quot;InitPageMenu(this, event);&quot;&gt;</span>
<a href="#l5.48"></a><span id="l5.48"> &lt;/menupopup&gt;</span>
<a href="#l5.49"></a><span id="l5.49"> </span>
<a href="#l5.50"></a><span id="l5.50"> &lt;menupopup id=&quot;messageIdContext&quot;/&gt;</span>
<a href="#l5.51"></a><span id="l5.51"> </span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+&lt;!-- We want to be able to do the following:</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+     1)  Open the tabContextMenu by right-clicking on individual tab selectors</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+     2)  Open the mail-toolbox customize context menu when right-clicking on</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+         the empty space of the tab selector.</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineplus">+</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+     In order to do that, we make the tabContextMenu available in the main</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineplus">+     document, and refer to it via the context attributes of each newly spawned</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineplus">+     tab selector.  We also make the context attribute of the tab strip default</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineplus">+     to the mail-toolbox customization popup.</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineplus">+</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineplus">+     So, when right-clicking on a tab, the tabContextMenu opens up, and stops</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineplus">+     the click event from propagating - but when the strip is right-clicked</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineplus">+     outside of any tabs, the mail-toolbox context menu opens, as desired.</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineplus">+--&gt;</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineplus">+</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineplus">+&lt;menupopup id=&quot;tabContextMenu&quot;</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineplus">+               onpopupshowing=&quot;return document.getElementById('tabmail').onTabContextMenuShowing(document.popupNode);&quot;&gt;</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineplus">+  &lt;menuitem label=&quot;&amp;moveToNewWindow.label;&quot;</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineplus">+                accesskey=&quot;&amp;moveToNewWindow.accesskey;&quot;</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineplus">+                anonid=&quot;openTabInWindow&quot;</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineplus">+                oncommand=&quot;document.getElementById('tabmail').replaceTabWithWindow(document.popupNode);&quot;/&gt;</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineplus">+  &lt;menuseparator /&gt;</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineplus">+  &lt;menuitem label=&quot;&amp;closeOtherTabsCmd2.label;&quot;</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineplus">+                accesskey=&quot;&amp;closeOtherTabsCmd2.accesskey;&quot;</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineplus">+                anonid=&quot;closeOtherTabs&quot;</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineplus">+                oncommand=&quot;document.getElementById('tabmail').closeOtherTabs(document.popupNode);&quot;/&gt;</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineplus">+  &lt;menuseparator /&gt;</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineplus">+  &lt;menu label=&quot;&amp;recentlyClosedTabsCmd.label;&quot;</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineplus">+            accesskey=&quot;&amp;recentlyClosedTabsCmd.accesskey;&quot;</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineplus">+            anonid=&quot;recentlyClosedTabs&quot; &gt;</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineplus">+    &lt;menupopup onpopupshowing=&quot;return InitRecentlyClosedTabsPopup(this);&quot; /&gt;</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineplus">+  &lt;/menu&gt;</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineplus">+  &lt;menuitem label=&quot;&amp;closeTabCmd2.label;&quot;</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineplus">+                accesskey=&quot;&amp;closeTabCmd2.accesskey;&quot;</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineplus">+                anonid=&quot;closeTab&quot;</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineplus">+                oncommand=&quot;document.getElementById('tabmail').closeTab(document.popupNode);&quot;/&gt;</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+&lt;/menupopup&gt;</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineplus">+</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineplus">+&lt;tooltip id=&quot;tabmail-tabs-tooltip&quot; onpopupshowing=&quot;document.getElementById('tabmail').createTooltip(event);&quot;/&gt;</span>
<a href="#l5.92"></a><span id="l5.92"> &lt;tooltip id=&quot;folderpopup&quot; class=&quot;folderSummaryPopup&quot;/&gt;</span>
<a href="#l5.93"></a><span id="l5.93"> </span>
<a href="#l5.94"></a><span id="l5.94"> &lt;tooltip id=&quot;aHTMLTooltip&quot; onpopupshowing=&quot;return FillInHTMLTooltip(document.tooltipNode);&quot;/&gt;</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineplus">+&lt;tooltip id=&quot;tabmail-tabs-tooltip&quot; onpopupshowing=&quot;document.getElementById('tabmail').createTooltip(event);&quot;/&gt;</span>
<a href="#l5.96"></a><span id="l5.96"> </span>
<a href="#l5.97"></a><span id="l5.97" class="difflineminus">-  &lt;toolbox id=&quot;mail-toolbox&quot; class=&quot;toolbox-top&quot;&gt;</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineplus">+  &lt;!-- navigation-toolbox is augmented by mailWindowOverlay.xul --&gt;</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineplus">+  &lt;toolbox id=&quot;navigation-toolbox&quot; class=&quot;toolbox-top&quot; labelalign=&quot;end&quot; defaultlabelalign=&quot;end&quot;&gt;</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineplus">+</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineplus">+    &lt;toolbar id=&quot;tabs-toolbar&quot; class=&quot;toolbar-primary&quot;&gt;</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineplus">+</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineplus">+      &lt;tabs flex=&quot;1&quot;</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineplus">+            id=&quot;tabcontainer&quot;</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineplus">+            align=&quot;end&quot;</span>
<a href="#l5.106"></a><span id="l5.106" class="difflineplus">+            setfocus=&quot;false&quot;</span>
<a href="#l5.107"></a><span id="l5.107" class="difflineplus">+            onclick=&quot;document.getElementById('tabmail').onTabClick(event);&quot;</span>
<a href="#l5.108"></a><span id="l5.108" class="difflineplus">+            class=&quot;tabmail-tabs&quot;</span>
<a href="#l5.109"></a><span id="l5.109" class="difflineplus">+            tooltip=&quot;tabmail-tabs-tooltip&quot;</span>
<a href="#l5.110"></a><span id="l5.110" class="difflineplus">+            alltabsbutton=&quot;alltabs-button&quot;</span>
<a href="#l5.111"></a><span id="l5.111" class="difflineplus">+            collapsetoolbar=&quot;tabs-toolbar&quot;</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineplus">+            tabtoolbar=&quot;tabbar-toolbar&quot;&gt;</span>
<a href="#l5.113"></a><span id="l5.113" class="difflineplus">+            &lt;tab selected=&quot;true&quot; validate=&quot;never&quot; type=&quot;folder&quot;</span>
<a href="#l5.114"></a><span id="l5.114" class="difflineplus">+                 maxwidth=&quot;250&quot; width=&quot;0&quot; minwidth=&quot;100&quot; flex=&quot;100&quot;</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineplus">+                 class=&quot;tabmail-tab&quot; crop=&quot;end&quot;/&gt;</span>
<a href="#l5.116"></a><span id="l5.116" class="difflineplus">+      &lt;/tabs&gt;</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineplus">+</span>
<a href="#l5.118"></a><span id="l5.118" class="difflineplus">+      &lt;!-- Use of this element for extensions is deprecated! Current</span>
<a href="#l5.119"></a><span id="l5.119" class="difflineplus">+           extensions should add to #mail-toolbox and add a toolbar item to</span>
<a href="#l5.120"></a><span id="l5.120" class="difflineplus">+           #tabbar-toolbar below. --&gt;</span>
<a href="#l5.121"></a><span id="l5.121" class="difflineplus">+      &lt;hbox id=&quot;tabmail-buttons&quot;/&gt;</span>
<a href="#l5.122"></a><span id="l5.122" class="difflineplus">+</span>
<a href="#l5.123"></a><span id="l5.123" class="difflineplus">+      &lt;toolbar id=&quot;tabbar-toolbar&quot; toolboxid=&quot;mail-toolbox&quot;</span>
<a href="#l5.124"></a><span id="l5.124" class="difflineplus">+               context=&quot;toolbar-context-menu&quot;</span>
<a href="#l5.125"></a><span id="l5.125" class="difflineplus">+               customizable=&quot;true&quot;</span>
<a href="#l5.126"></a><span id="l5.126" class="difflineplus">+               mode=&quot;icons&quot; defaultmode=&quot;icons&quot; lockmode=&quot;true&quot;</span>
<a href="#l5.127"></a><span id="l5.127" class="difflineplus">+               iconsize=&quot;small&quot; defaulticonsize=&quot;small&quot; lockiconsize=&quot;true&quot;</span>
<a href="#l5.128"></a><span id="l5.128" class="difflineplus">+               defaultset=&quot;qfb-show-filter-bar&quot;/&gt;</span>
<a href="#l5.129"></a><span id="l5.129" class="difflineplus">+</span>
<a href="#l5.130"></a><span id="l5.130" class="difflineplus">+      &lt;toolbarbutton class=&quot;tabs-alltabs-button&quot;</span>
<a href="#l5.131"></a><span id="l5.131" class="difflineplus">+                     id=&quot;alltabs-button&quot;</span>
<a href="#l5.132"></a><span id="l5.132" class="difflineplus">+                     type=&quot;menu&quot;</span>
<a href="#l5.133"></a><span id="l5.133" class="difflineplus">+                     tooltiptext=&quot;&amp;listAllTabs.label;&quot;&gt;</span>
<a href="#l5.134"></a><span id="l5.134" class="difflineplus">+        &lt;menupopup class=&quot;tabs-alltabs-popup&quot;</span>
<a href="#l5.135"></a><span id="l5.135" class="difflineplus">+                   id=&quot;alltabs-popup&quot; position=&quot;after_end&quot;</span>
<a href="#l5.136"></a><span id="l5.136" class="difflineplus">+                   tabcontainer=&quot;tabcontainer&quot;/&gt;</span>
<a href="#l5.137"></a><span id="l5.137" class="difflineplus">+      &lt;/toolbarbutton&gt;</span>
<a href="#l5.138"></a><span id="l5.138" class="difflineplus">+    &lt;/toolbar&gt;</span>
<a href="#l5.139"></a><span id="l5.139" class="difflineplus">+</span>
<a href="#l5.140"></a><span id="l5.140">   &lt;/toolbox&gt;</span>
<a href="#l5.141"></a><span id="l5.141" class="difflineplus">+</span>
<a href="#l5.142"></a><span id="l5.142">   &lt;!-- XXX This extension point (tabmail-container) is only temporary!</span>
<a href="#l5.143"></a><span id="l5.143">        Horizontal space shouldn't be wasted if it isn't absolutely critical.</span>
<a href="#l5.144"></a><span id="l5.144">        A mechanism for adding sidebar panes will be added in bug 476154. --&gt;</span>
<a href="#l5.145"></a><span id="l5.145">   &lt;hbox id=&quot;tabmail-container&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l5.146"></a><span id="l5.146" class="difflineminus">-    &lt;tabmail id=&quot;tabmail&quot; flex=&quot;1&quot; panelcontainer=&quot;tabpanelcontainer&quot;&gt;</span>
<a href="#l5.147"></a><span id="l5.147" class="difflineminus">-      &lt;hbox&gt;</span>
<a href="#l5.148"></a><span id="l5.148" class="difflineminus">-        &lt;!-- Use of this element for extensions is deprecated! Current</span>
<a href="#l5.149"></a><span id="l5.149" class="difflineminus">-             extensions should add to #mail-toolbox and add a toolbar item to</span>
<a href="#l5.150"></a><span id="l5.150" class="difflineminus">-             #tabbar-toolbar below. --&gt;</span>
<a href="#l5.151"></a><span id="l5.151" class="difflineminus">-        &lt;hbox id=&quot;tabmail-buttons&quot;/&gt;</span>
<a href="#l5.152"></a><span id="l5.152" class="difflineplus">+    &lt;tabmail id=&quot;tabmail&quot; flex=&quot;1&quot; panelcontainer=&quot;tabpanelcontainer&quot; tabcontainer=&quot;tabcontainer&quot;&gt;</span>
<a href="#l5.153"></a><span id="l5.153" class="difflineplus">+      &lt;tabpanels id=&quot;tabpanelcontainer&quot; flex=&quot;1&quot; class=&quot;plain&quot; selectedIndex=&quot;0&quot;&gt;</span>
<a href="#l5.154"></a><span id="l5.154"> </span>
<a href="#l5.155"></a><span id="l5.155" class="difflineminus">-        &lt;toolbar id=&quot;tabbar-toolbar&quot; toolboxid=&quot;mail-toolbox&quot;</span>
<a href="#l5.156"></a><span id="l5.156" class="difflineminus">-                 context=&quot;toolbar-context-menu&quot;</span>
<a href="#l5.157"></a><span id="l5.157" class="difflineminus">-                 customizable=&quot;true&quot;</span>
<a href="#l5.158"></a><span id="l5.158" class="difflineminus">-                 mode=&quot;icons&quot; defaultmode=&quot;icons&quot; lockmode=&quot;true&quot;</span>
<a href="#l5.159"></a><span id="l5.159" class="difflineminus">-                 iconsize=&quot;small&quot; defaulticonsize=&quot;small&quot; lockiconsize=&quot;true&quot;</span>
<a href="#l5.160"></a><span id="l5.160" class="difflineminus">-                 defaultset=&quot;qfb-show-filter-bar&quot;/&gt;</span>
<a href="#l5.161"></a><span id="l5.161" class="difflineminus">-      &lt;/hbox&gt;</span>
<a href="#l5.162"></a><span id="l5.162" class="difflineminus">-      &lt;tabpanels id=&quot;tabpanelcontainer&quot; flex=&quot;1&quot; class=&quot;plain&quot; selectedIndex=&quot;0&quot;&gt;</span>
<a href="#l5.163"></a><span id="l5.163">         &lt;!-- mailContent is the container used for the &quot;wide&quot; layout. Normally,</span>
<a href="#l5.164"></a><span id="l5.164">              all it contains is the &quot;messengerBox&quot; box.  However, in &quot;wide&quot; mode</span>
<a href="#l5.165"></a><span id="l5.165">              the message pane and its splitter transplant themselves into the box</span>
<a href="#l5.166"></a><span id="l5.166">              (respectively, messagepanebox and threadpane-splitter).  This gives us</span>
<a href="#l5.167"></a><span id="l5.167">              the folder pane next to the thread view, with the message pane/reader</span>
<a href="#l5.168"></a><span id="l5.168">              beneath both of them. --&gt;</span>
<a href="#l5.169"></a><span id="l5.169">         &lt;box id=&quot;mailContent&quot; orient=&quot;vertical&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l5.170"></a><span id="l5.170" class="difflineplus">+          &lt;!-- mail-toolbox is provided by mailWindowOverlay.xul --&gt;</span>
<a href="#l5.171"></a><span id="l5.171" class="difflineplus">+          &lt;toolbox id=&quot;mail-toolbox&quot; /&gt;</span>
<a href="#l5.172"></a><span id="l5.172" class="difflineplus">+</span>
<a href="#l5.173"></a><span id="l5.173">           &lt;box id=&quot;messengerBox&quot; orient=&quot;horizontal&quot; flex=&quot;1&quot; minheight=&quot;100&quot; height=&quot;100&quot; persist=&quot;height&quot;&gt;</span>
<a href="#l5.174"></a><span id="l5.174">             &lt;vbox id=&quot;folderPaneBox&quot; minwidth=&quot;125&quot; width=&quot;200&quot; persist=&quot;width&quot;&gt;</span>
<a href="#l5.175"></a><span id="l5.175">               &lt;label id=&quot;folderColumnLabel&quot; hidden=&quot;true&quot; value=&quot;&amp;folderColumn.label;&quot;/&gt;</span>
<a href="#l5.176"></a><span id="l5.176">               &lt;sidebarheader id=&quot;folderPaneHeader&quot; hidden=&quot;true&quot; align=&quot;center&quot;&gt;</span>
<a href="#l5.177"></a><span id="l5.177">                 &lt;label id=&quot;folderpane-title&quot; crop=&quot;end&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l5.178"></a><span id="l5.178">                 &lt;toolbarbutton id=&quot;folderview-cycler-prev&quot;</span>
<a href="#l5.179"></a><span id="l5.179">                                dir=&quot;prev&quot;</span>
<a href="#l5.180"></a><span id="l5.180">                                class=&quot;folderview-cycler&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/base/content/msgHdrViewOverlay.xul</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/base/content/msgHdrViewOverlay.xul</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -592,17 +592,17 @@</span>
<a href="#l6.4"></a><span id="l6.4">               &lt;menuitem id=&quot;button-deleteAllAttachments&quot;</span>
<a href="#l6.5"></a><span id="l6.5">                         oncommand=&quot;TryHandleAllAttachments('delete'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l6.6"></a><span id="l6.6">                         label=&quot;&amp;deleteAllAttachmentsCmd.label;&quot;</span>
<a href="#l6.7"></a><span id="l6.7">                         accesskey=&quot;&amp;deleteAllAttachmentsCmd.accesskey;&quot;/&gt;</span>
<a href="#l6.8"></a><span id="l6.8">             &lt;/menupopup&gt;</span>
<a href="#l6.9"></a><span id="l6.9">           &lt;/toolbarbutton&gt;</span>
<a href="#l6.10"></a><span id="l6.10">         &lt;/toolbaritem&gt;</span>
<a href="#l6.11"></a><span id="l6.11">       &lt;/toolbarpalette&gt;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-      &lt;toolbar id=&quot;attachment-view-toolbar&quot; class=&quot;inline-toolbar&quot; align=&quot;start&quot;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+      &lt;toolbar id=&quot;attachment-view-toolbar&quot; class=&quot;inline-toolbar&quot;</span>
<a href="#l6.14"></a><span id="l6.14">                customizable=&quot;true&quot; mode=&quot;full&quot;</span>
<a href="#l6.15"></a><span id="l6.15">                context=&quot;attachment-toolbar-context-menu&quot;</span>
<a href="#l6.16"></a><span id="l6.16">                defaulticonsize=&quot;small&quot; defaultmode=&quot;full&quot;</span>
<a href="#l6.17"></a><span id="l6.17">                defaultset=&quot;attachmentSaveAll&quot;/&gt;</span>
<a href="#l6.18"></a><span id="l6.18">     &lt;/toolbox&gt;</span>
<a href="#l6.19"></a><span id="l6.19">   &lt;/hbox&gt;</span>
<a href="#l6.20"></a><span id="l6.20">   &lt;attachmentlist orient=&quot;horizontal&quot; id=&quot;attachmentList&quot; flex=&quot;1&quot;</span>
<a href="#l6.21"></a><span id="l6.21">                   seltype=&quot;multiple&quot; context=&quot;attachmentListContext&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/base/content/specialTabs.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/base/content/specialTabs.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -275,16 +275,17 @@ const DOMLinkHandler = {</span>
<a href="#l7.4"></a><span id="l7.4">   }</span>
<a href="#l7.5"></a><span id="l7.5"> };</span>
<a href="#l7.6"></a><span id="l7.6"> </span>
<a href="#l7.7"></a><span id="l7.7"> const kTelemetryPrompted    = &quot;toolkit.telemetry.prompted&quot;;</span>
<a href="#l7.8"></a><span id="l7.8"> const kTelemetryEnabled     = &quot;toolkit.telemetry.enabled&quot;;</span>
<a href="#l7.9"></a><span id="l7.9"> const kTelemetryServerOwner = &quot;toolkit.telemetry.server_owner&quot;;</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11"> var contentTabBaseType = {</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+  inContentWhitelist: ['about:addons'],</span>
<a href="#l7.13"></a><span id="l7.13">   shouldSwitchTo: function onSwitchTo({contentPage: aContentPage}) {</span>
<a href="#l7.14"></a><span id="l7.14">     let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l7.15"></a><span id="l7.15">     let tabInfo = tabmail.tabInfo;</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17">     // Remove any anchors - especially for the about: pages, we just want</span>
<a href="#l7.18"></a><span id="l7.18">     // to re-use the same tab.</span>
<a href="#l7.19"></a><span id="l7.19">     let regEx = new RegExp(&quot;#.*&quot;);</span>
<a href="#l7.20"></a><span id="l7.20"> </span>
<a href="#l7.21"></a><span id="l7.21" class="difflineat">@@ -323,16 +324,41 @@ var contentTabBaseType = {</span>
<a href="#l7.22"></a><span id="l7.22">   showTab: function onShowTab(aTab) {</span>
<a href="#l7.23"></a><span id="l7.23">     aTab.browser.setAttribute(&quot;type&quot;, &quot;content-primary&quot;);</span>
<a href="#l7.24"></a><span id="l7.24">   },</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26">   getBrowser: function getBrowser(aTab) {</span>
<a href="#l7.27"></a><span id="l7.27">     return aTab.browser;</span>
<a href="#l7.28"></a><span id="l7.28">   },</span>
<a href="#l7.29"></a><span id="l7.29"> </span>
<a href="#l7.30"></a><span id="l7.30" class="difflineplus">+  hideChromeForLocation: function hideChromeForLocation(aLocation) {</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineplus">+    return this.inContentWhitelist.indexOf(aLocation) != -1;</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+  },</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineplus">+</span>
<a href="#l7.34"></a><span id="l7.34" class="difflineplus">+  /* _setUpLoadListener attaches a load listener to the tab browser that</span>
<a href="#l7.35"></a><span id="l7.35" class="difflineplus">+   * checks the loaded URL to see if it matches the inContentWhitelist.</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineplus">+   * If so, then we apply the disablechrome attribute to the contentTab</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineplus">+   * container.</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineplus">+   */</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineplus">+  _setUpLoadListener: function setUpLoadListener(aTab) {</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineplus">+    let self = this;</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineplus">+</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineplus">+    function onLoad(aEvent) {</span>
<a href="#l7.43"></a><span id="l7.43" class="difflineplus">+      let doc = aEvent.originalTarget;</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineplus">+      if (self.hideChromeForLocation(doc.defaultView.location.href)) {</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineplus">+        aTab.root.setAttribute(&quot;disablechrome&quot;, &quot;true&quot;);</span>
<a href="#l7.46"></a><span id="l7.46" class="difflineplus">+      } else {</span>
<a href="#l7.47"></a><span id="l7.47" class="difflineplus">+        doc.documentElement.removeAttribute(&quot;disablechrome&quot;);</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineplus">+      }</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineplus">+    }</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineplus">+</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineplus">+    aTab.loadListener = onLoad;</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineplus">+    aTab.browser.addEventListener(&quot;load&quot;, aTab.loadListener, true);</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineplus">+  },</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineplus">+</span>
<a href="#l7.55"></a><span id="l7.55">   // Internal function used to set up the title listener on a content tab.</span>
<a href="#l7.56"></a><span id="l7.56">   _setUpTitleListener: function setUpTitleListener(aTab) {</span>
<a href="#l7.57"></a><span id="l7.57">     function onDOMTitleChanged(aEvent) {</span>
<a href="#l7.58"></a><span id="l7.58">       aTab.title = aTab.browser.contentTitle;</span>
<a href="#l7.59"></a><span id="l7.59">       document.getElementById(&quot;tabmail&quot;).setTabTitle(aTab);</span>
<a href="#l7.60"></a><span id="l7.60">     }</span>
<a href="#l7.61"></a><span id="l7.61">     // Save the function we'll use as listener so we can remove it later.</span>
<a href="#l7.62"></a><span id="l7.62">     aTab.titleListener = onDOMTitleChanged;</span>
<a href="#l7.63"></a><span id="l7.63" class="difflineat">@@ -559,19 +585,21 @@ var specialTabs = {</span>
<a href="#l7.64"></a><span id="l7.64"> </span>
<a href="#l7.65"></a><span id="l7.65">       // First clone the page and set up the basics.</span>
<a href="#l7.66"></a><span id="l7.66">       let clone = document.getElementById(&quot;contentTab&quot;).firstChild.cloneNode(true);</span>
<a href="#l7.67"></a><span id="l7.67"> </span>
<a href="#l7.68"></a><span id="l7.68">       clone.setAttribute(&quot;id&quot;, &quot;contentTab&quot; + this.lastBrowserId);</span>
<a href="#l7.69"></a><span id="l7.69">       clone.setAttribute(&quot;collapsed&quot;, false);</span>
<a href="#l7.70"></a><span id="l7.70"> </span>
<a href="#l7.71"></a><span id="l7.71">       aTab.panel.appendChild(clone);</span>
<a href="#l7.72"></a><span id="l7.72" class="difflineplus">+      aTab.root = clone;</span>
<a href="#l7.73"></a><span id="l7.73"> </span>
<a href="#l7.74"></a><span id="l7.74">       // Start setting up the browser.</span>
<a href="#l7.75"></a><span id="l7.75">       aTab.browser = aTab.panel.getElementsByTagName(&quot;browser&quot;)[0];</span>
<a href="#l7.76"></a><span id="l7.76" class="difflineplus">+      aTab.toolbar = aTab.panel.getElementsByClassName(&quot;contentTabToolbar&quot;)[0];</span>
<a href="#l7.77"></a><span id="l7.77"> </span>
<a href="#l7.78"></a><span id="l7.78">       // As we're opening this tab, showTab may not get called, so set</span>
<a href="#l7.79"></a><span id="l7.79">       // the type according to if we're opening in background or not.</span>
<a href="#l7.80"></a><span id="l7.80">       let background = (&quot;background&quot; in aArgs) &amp;&amp; aArgs.background;</span>
<a href="#l7.81"></a><span id="l7.81">       aTab.browser.setAttribute(&quot;type&quot;, background ? &quot;content-targetable&quot; :</span>
<a href="#l7.82"></a><span id="l7.82">                                                      &quot;content-primary&quot;);</span>
<a href="#l7.83"></a><span id="l7.83"> </span>
<a href="#l7.84"></a><span id="l7.84">       aTab.browser.setAttribute(&quot;id&quot;, &quot;contentTabBrowser&quot; + this.lastBrowserId);</span>
<a href="#l7.85"></a><span id="l7.85" class="difflineat">@@ -592,18 +620,20 @@ var specialTabs = {</span>
<a href="#l7.86"></a><span id="l7.86">       aTab.findbar = aTab.panel.getElementsByTagName(&quot;findbar&quot;)[0];</span>
<a href="#l7.87"></a><span id="l7.87">       aTab.findbar.setAttribute(&quot;browserid&quot;,</span>
<a href="#l7.88"></a><span id="l7.88">                                 &quot;contentTabBrowser&quot; + this.lastBrowserId);</span>
<a href="#l7.89"></a><span id="l7.89"> </span>
<a href="#l7.90"></a><span id="l7.90">       // Default to reload being disabled.</span>
<a href="#l7.91"></a><span id="l7.91">       aTab.reloadEnabled = false;</span>
<a href="#l7.92"></a><span id="l7.92"> </span>
<a href="#l7.93"></a><span id="l7.93">       // Now set up the listeners.</span>
<a href="#l7.94"></a><span id="l7.94" class="difflineplus">+      this._setUpLoadListener(aTab);</span>
<a href="#l7.95"></a><span id="l7.95">       this._setUpTitleListener(aTab);</span>
<a href="#l7.96"></a><span id="l7.96">       this._setUpCloseWindowListener(aTab);</span>
<a href="#l7.97"></a><span id="l7.97" class="difflineplus">+</span>
<a href="#l7.98"></a><span id="l7.98">       if (&quot;onLoad&quot; in aArgs) {</span>
<a href="#l7.99"></a><span id="l7.99">         aTab.browser.addEventListener(&quot;load&quot;, function _contentTab_onLoad (event) {</span>
<a href="#l7.100"></a><span id="l7.100">           aArgs.onLoad(event, aTab.browser);</span>
<a href="#l7.101"></a><span id="l7.101">           aTab.browser.removeEventListener(&quot;load&quot;, _contentTab_onLoad, true);</span>
<a href="#l7.102"></a><span id="l7.102">         }, true);</span>
<a href="#l7.103"></a><span id="l7.103">       }</span>
<a href="#l7.104"></a><span id="l7.104"> </span>
<a href="#l7.105"></a><span id="l7.105">       // Create a filter and hook it up to our browser</span>
<a href="#l7.106"></a><span id="l7.106" class="difflineat">@@ -1013,16 +1043,17 @@ var specialTabs = {</span>
<a href="#l7.107"></a><span id="l7.107">       let docShell = aTab.browser.docShell;</span>
<a href="#l7.108"></a><span id="l7.108">       // If we have a docshell, a contentViewer, and it forbids us from closing</span>
<a href="#l7.109"></a><span id="l7.109">       // the tab, then we return false, which means, we can't close the tab. All</span>
<a href="#l7.110"></a><span id="l7.110">       // other cases return true.</span>
<a href="#l7.111"></a><span id="l7.111">       return !(docShell &amp;&amp; docShell.contentViewer</span>
<a href="#l7.112"></a><span id="l7.112">         &amp;&amp; !docShell.contentViewer.permitUnload());</span>
<a href="#l7.113"></a><span id="l7.113">     },</span>
<a href="#l7.114"></a><span id="l7.114">     closeTab: function onTabClosed(aTab) {</span>
<a href="#l7.115"></a><span id="l7.115" class="difflineplus">+      aTab.browser.removeEventListener(&quot;load&quot;, aTab.loadListener, true);</span>
<a href="#l7.116"></a><span id="l7.116">       aTab.browser.removeEventListener(&quot;DOMTitleChanged&quot;,</span>
<a href="#l7.117"></a><span id="l7.117">                                        aTab.titleListener, true);</span>
<a href="#l7.118"></a><span id="l7.118">       aTab.browser.removeEventListener(&quot;DOMWindowClose&quot;,</span>
<a href="#l7.119"></a><span id="l7.119">                                        aTab.closeListener, true);</span>
<a href="#l7.120"></a><span id="l7.120">       aTab.browser.removeEventListener(&quot;DOMLinkAdded&quot;, DOMLinkHandler, false);</span>
<a href="#l7.121"></a><span id="l7.121">       aTab.browser.destroy();</span>
<a href="#l7.122"></a><span id="l7.122">     },</span>
<a href="#l7.123"></a><span id="l7.123">     saveTabState: function onSaveTabState(aTab) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/base/content/specialTabs.xul</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/base/content/specialTabs.xul</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -40,28 +40,35 @@</span>
<a href="#l8.4"></a><span id="l8.4">          xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l8.5"></a><span id="l8.5"> </span>
<a href="#l8.6"></a><span id="l8.6">   &lt;popupset id=&quot;mainPopupSet&quot;&gt;</span>
<a href="#l8.7"></a><span id="l8.7">     &lt;!-- for search and content formfill/pw manager --&gt;</span>
<a href="#l8.8"></a><span id="l8.8">     &lt;panel type=&quot;autocomplete&quot; id=&quot;PopupAutoComplete&quot; noautofocus=&quot;true&quot;/&gt;</span>
<a href="#l8.9"></a><span id="l8.9">   &lt;/popupset&gt;</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11">   &lt;vbox id=&quot;contentTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+    &lt;vbox flex=&quot;1&quot; class=&quot;contentTabInstance&quot;&gt;</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+      &lt;toolbox id=&quot;dummycontenttoolbox&quot; class=&quot;contentTabToolbox&quot;&gt;</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+        &lt;toolbar id=&quot;dummycontenttoolbar&quot; class=&quot;contentTabToolbar&quot;&gt;</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineplus">+        &lt;/toolbar&gt;</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineplus">+      &lt;/toolbox&gt;</span>
<a href="#l8.18"></a><span id="l8.18">       &lt;notificationbox flex=&quot;1&quot;&gt;</span>
<a href="#l8.19"></a><span id="l8.19">         &lt;browser id=&quot;dummycontentbrowser&quot; type=&quot;content-targetable&quot; flex=&quot;1&quot;</span>
<a href="#l8.20"></a><span id="l8.20">                  disablehistory=&quot;true&quot; autocompletepopup=&quot;PopupAutoComplete&quot;</span>
<a href="#l8.21"></a><span id="l8.21">                  context=&quot;mailContext&quot;/&gt;</span>
<a href="#l8.22"></a><span id="l8.22">       &lt;/notificationbox&gt;</span>
<a href="#l8.23"></a><span id="l8.23">       &lt;findbar browserid=&quot;dummycontentbrowser&quot;/&gt;</span>
<a href="#l8.24"></a><span id="l8.24">     &lt;/vbox&gt;</span>
<a href="#l8.25"></a><span id="l8.25">   &lt;/vbox&gt;</span>
<a href="#l8.26"></a><span id="l8.26"> </span>
<a href="#l8.27"></a><span id="l8.27">   &lt;vbox id=&quot;chromeTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l8.28"></a><span id="l8.28" class="difflineminus">-    &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l8.29"></a><span id="l8.29" class="difflineplus">+    &lt;vbox flex=&quot;1&quot; class=&quot;chromeTabInstance&quot;&gt;</span>
<a href="#l8.30"></a><span id="l8.30" class="difflineplus">+      &lt;toolbox id=&quot;dummycontenttoolbox&quot; class=&quot;contentTabToolbox&quot;&gt;</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineplus">+        &lt;toolbar id=&quot;dummycontenttoolbar&quot; class=&quot;contentTabToolbar&quot;&gt;&lt;/toolbar&gt;</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineplus">+      &lt;/toolbox&gt;</span>
<a href="#l8.33"></a><span id="l8.33">       &lt;notificationbox flex=&quot;1&quot;&gt;</span>
<a href="#l8.34"></a><span id="l8.34">         &lt;browser id=&quot;dummychromebrowser&quot; flex=&quot;1&quot;</span>
<a href="#l8.35"></a><span id="l8.35">                  disablesecurity=&quot;true&quot; disablehistory=&quot;true&quot;</span>
<a href="#l8.36"></a><span id="l8.36">                  autocompletepopup=&quot;PopupAutoComplete&quot;/&gt;</span>
<a href="#l8.37"></a><span id="l8.37">       &lt;/notificationbox&gt;</span>
<a href="#l8.38"></a><span id="l8.38">     &lt;/vbox&gt;</span>
<a href="#l8.39"></a><span id="l8.39">   &lt;/vbox&gt;</span>
<a href="#l8.40"></a><span id="l8.40"> &lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/base/content/tabmail.css</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/base/content/tabmail.css</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -38,16 +38,20 @@</span>
<a href="#l9.4"></a><span id="l9.4"> .tabmail-tabs {</span>
<a href="#l9.5"></a><span id="l9.5">   -moz-binding: url(&quot;chrome://messenger/content/tabmail.xml#tabmail-tabs&quot;);</span>
<a href="#l9.6"></a><span id="l9.6"> }</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> .tabmail-tab {</span>
<a href="#l9.9"></a><span id="l9.9">   -moz-binding: url(&quot;chrome://messenger/content/tabmail.xml#tabmail-tab&quot;);</span>
<a href="#l9.10"></a><span id="l9.10"> }</span>
<a href="#l9.11"></a><span id="l9.11"> </span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+.tabmail-tabbox {</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+  -moz-binding: url(&quot;chrome://messenger/content/tabmail.xml#tabmail-tabbox&quot;);</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+}</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+</span>
<a href="#l9.16"></a><span id="l9.16"> .tabmail-arrowscrollbox {</span>
<a href="#l9.17"></a><span id="l9.17">   -moz-binding: url(&quot;chrome://messenger/content/tabmail.xml#tabmail-arrowscrollbox&quot;);</span>
<a href="#l9.18"></a><span id="l9.18"> }</span>
<a href="#l9.19"></a><span id="l9.19"> </span>
<a href="#l9.20"></a><span id="l9.20"> .tabs-alltabs-popup {</span>
<a href="#l9.21"></a><span id="l9.21">   -moz-binding: url(&quot;chrome://messenger/content/tabmail.xml#tabmail-alltabs-popup&quot;);</span>
<a href="#l9.22"></a><span id="l9.22"> }</span>
<a href="#l9.23"></a><span id="l9.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/base/content/tabmail.xml</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/base/content/tabmail.xml</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -289,63 +289,17 @@</span>
<a href="#l10.4"></a><span id="l10.4">     -  otherwise.</span>
<a href="#l10.5"></a><span id="l10.5">     --&gt;</span>
<a href="#l10.6"></a><span id="l10.6">   &lt;binding id=&quot;tabmail&quot;&gt;</span>
<a href="#l10.7"></a><span id="l10.7">     &lt;resources&gt;</span>
<a href="#l10.8"></a><span id="l10.8">       &lt;stylesheet src=&quot;chrome://messenger/content/tabmail.css&quot;/&gt;</span>
<a href="#l10.9"></a><span id="l10.9">       &lt;stylesheet src=&quot;chrome://messenger/skin/tabmail.css&quot;/&gt;</span>
<a href="#l10.10"></a><span id="l10.10">     &lt;/resources&gt;</span>
<a href="#l10.11"></a><span id="l10.11">     &lt;content&gt;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-      &lt;xul:tabbox anonid=&quot;tabbox&quot; flex=&quot;1&quot; eventnode=&quot;document&quot; xbl:inherits=&quot;handleCtrlPageUpDown&quot;</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">-                  onselect=&quot;if (!('updateCurrentTab' in this.parentNode) || event.target.localName != 'tabs')</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineminus">-                            return; this.parentNode.updateCurrentTab();&quot;&gt;</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineminus">-        &lt;xul:hbox class=&quot;tabmail-strip&quot; collapsed=&quot;false&quot; tooltip=&quot;_child&quot; context=&quot;_child&quot;</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineminus">-                  anonid=&quot;strip&quot;&gt;</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineminus">-          &lt;xul:tooltip onpopupshowing=&quot;return CreateToolbarTooltip(document, event);&quot;/&gt;</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineminus">-          &lt;xul:menupopup anonid=&quot;tabContextMenu&quot;</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineminus">-                onpopupshowing=&quot;</span>
<a href="#l10.20"></a><span id="l10.20" class="difflineminus">-                  var tabmail = document.getElementById('tabmail');</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineminus">-                  return tabmail.onTabContextMenuShowing(document.popupNode);&quot;&gt;</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineminus">-            </span>
<a href="#l10.23"></a><span id="l10.23" class="difflineminus">-            &lt;xul:menuitem label=&quot;&amp;moveToNewWindow.label;&quot; </span>
<a href="#l10.24"></a><span id="l10.24" class="difflineminus">-                          accesskey=&quot;&amp;moveToNewWindow.accesskey;&quot;</span>
<a href="#l10.25"></a><span id="l10.25" class="difflineminus">-                          anonid=&quot;openTabInWindow&quot;</span>
<a href="#l10.26"></a><span id="l10.26" class="difflineminus">-                          oncommand=&quot;document.getElementById('tabmail').replaceTabWithWindow(document.popupNode);&quot;/&gt;</span>
<a href="#l10.27"></a><span id="l10.27" class="difflineminus">-                                     </span>
<a href="#l10.28"></a><span id="l10.28" class="difflineminus">-            &lt;xul:menuseparator /&gt;</span>
<a href="#l10.29"></a><span id="l10.29" class="difflineminus">-            </span>
<a href="#l10.30"></a><span id="l10.30" class="difflineminus">-            &lt;xul:menuitem label=&quot;&amp;closeOtherTabsCmd2.label;&quot; </span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-                          accesskey=&quot;&amp;closeOtherTabsCmd2.accesskey;&quot;</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineminus">-                          anonid=&quot;closeOtherTabs&quot;</span>
<a href="#l10.33"></a><span id="l10.33" class="difflineminus">-                          oncommand=&quot;document.getElementById('tabmail').closeOtherTabs(document.popupNode);&quot;/&gt;</span>
<a href="#l10.34"></a><span id="l10.34" class="difflineminus">-                                                 </span>
<a href="#l10.35"></a><span id="l10.35" class="difflineminus">-            &lt;xul:menuseparator /&gt;</span>
<a href="#l10.36"></a><span id="l10.36" class="difflineminus">-            </span>
<a href="#l10.37"></a><span id="l10.37" class="difflineminus">-            &lt;xul:menu label=&quot;&amp;recentlyClosedTabsCmd.label;&quot;</span>
<a href="#l10.38"></a><span id="l10.38" class="difflineminus">-                      accesskey=&quot;&amp;recentlyClosedTabsCmd.accesskey;&quot;</span>
<a href="#l10.39"></a><span id="l10.39" class="difflineminus">-                      anonid=&quot;recentlyClosedTabs&quot; &gt;</span>
<a href="#l10.40"></a><span id="l10.40" class="difflineminus">-              &lt;xul:menupopup onpopupshowing=&quot;return InitRecentlyClosedTabsPopup(this);&quot; /&gt;</span>
<a href="#l10.41"></a><span id="l10.41" class="difflineminus">-            &lt;/xul:menu&gt;</span>
<a href="#l10.42"></a><span id="l10.42" class="difflineminus">-                                                                         </span>
<a href="#l10.43"></a><span id="l10.43" class="difflineminus">-            &lt;xul:menuitem label=&quot;&amp;closeTabCmd2.label;&quot; </span>
<a href="#l10.44"></a><span id="l10.44" class="difflineminus">-                          accesskey=&quot;&amp;closeTabCmd2.accesskey;&quot;</span>
<a href="#l10.45"></a><span id="l10.45" class="difflineminus">-                          anonid=&quot;closeTab&quot;</span>
<a href="#l10.46"></a><span id="l10.46" class="difflineminus">-                          oncommand=&quot;document.getElementById('tabmail').closeTab(document.popupNode);&quot;/&gt;</span>
<a href="#l10.47"></a><span id="l10.47" class="difflineminus">-                                                                          </span>
<a href="#l10.48"></a><span id="l10.48" class="difflineminus">-          &lt;/xul:menupopup&gt;</span>
<a href="#l10.49"></a><span id="l10.49" class="difflineminus">-          &lt;xul:tabs class=&quot;tabmail-tabs&quot; flex=&quot;1&quot;</span>
<a href="#l10.50"></a><span id="l10.50" class="difflineminus">-                    anonid=&quot;tabcontainer&quot;</span>
<a href="#l10.51"></a><span id="l10.51" class="difflineminus">-                    setfocus=&quot;false&quot;</span>
<a href="#l10.52"></a><span id="l10.52" class="difflineminus">-                    onclick=&quot;this.parentNode.parentNode.parentNode.onTabClick(event);&quot;&gt;</span>
<a href="#l10.53"></a><span id="l10.53" class="difflineminus">-            &lt;xul:tab selected=&quot;true&quot; validate=&quot;never&quot; type=&quot;folder&quot;</span>
<a href="#l10.54"></a><span id="l10.54" class="difflineminus">-                     maxwidth=&quot;250&quot; width=&quot;0&quot; minwidth=&quot;100&quot; flex=&quot;100&quot;</span>
<a href="#l10.55"></a><span id="l10.55" class="difflineminus">-                     class=&quot;tabmail-tab&quot; crop=&quot;end&quot;/&gt;</span>
<a href="#l10.56"></a><span id="l10.56" class="difflineminus">-            &lt;children/&gt;</span>
<a href="#l10.57"></a><span id="l10.57" class="difflineminus">-          &lt;/xul:tabs&gt;</span>
<a href="#l10.58"></a><span id="l10.58" class="difflineminus">-        &lt;/xul:hbox&gt;</span>
<a href="#l10.59"></a><span id="l10.59" class="difflineplus">+      &lt;xul:tabbox anonid=&quot;tabbox&quot; class=&quot;tabmail-tabbox&quot; flex=&quot;1&quot; eventnode=&quot;document&quot; xbl:inherits=&quot;handleCtrlPageUpDown&quot;&gt;</span>
<a href="#l10.60"></a><span id="l10.60">         &lt;!-- Remember, user of this binding, you need to provide tabpanels!  --&gt;</span>
<a href="#l10.61"></a><span id="l10.61">         &lt;children includes=&quot;tabpanels&quot;/&gt;</span>
<a href="#l10.62"></a><span id="l10.62">       &lt;/xul:tabbox&gt;</span>
<a href="#l10.63"></a><span id="l10.63">     &lt;/content&gt;</span>
<a href="#l10.64"></a><span id="l10.64"> </span>
<a href="#l10.65"></a><span id="l10.65">     &lt;implementation implements=&quot;nsIController&quot;&gt;</span>
<a href="#l10.66"></a><span id="l10.66">       &lt;constructor&gt;</span>
<a href="#l10.67"></a><span id="l10.67">         window.controllers.insertControllerAt(0, this);</span>
<a href="#l10.68"></a><span id="l10.68" class="difflineat">@@ -370,47 +324,59 @@</span>
<a href="#l10.69"></a><span id="l10.69">         new Object()</span>
<a href="#l10.70"></a><span id="l10.70">       &lt;/field&gt;</span>
<a href="#l10.71"></a><span id="l10.71">       &lt;field name=&quot;defaultTabMode&quot;&gt;</span>
<a href="#l10.72"></a><span id="l10.72">         null</span>
<a href="#l10.73"></a><span id="l10.73">       &lt;/field&gt;</span>
<a href="#l10.74"></a><span id="l10.74">       &lt;field name=&quot;tabInfo&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l10.75"></a><span id="l10.75">         new Array()</span>
<a href="#l10.76"></a><span id="l10.76">       &lt;/field&gt;</span>
<a href="#l10.77"></a><span id="l10.77" class="difflineminus">-      &lt;field name=&quot;tabStrip&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l10.78"></a><span id="l10.78" class="difflineminus">-        document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;strip&quot;);</span>
<a href="#l10.79"></a><span id="l10.79" class="difflineminus">-      &lt;/field&gt;</span>
<a href="#l10.80"></a><span id="l10.80">       &lt;field name=&quot;tabContainer&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l10.81"></a><span id="l10.81" class="difflineminus">-        document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;tabcontainer&quot;);</span>
<a href="#l10.82"></a><span id="l10.82" class="difflineplus">+        document.getElementById(this.getAttribute(&quot;tabcontainer&quot;));</span>
<a href="#l10.83"></a><span id="l10.83">       &lt;/field&gt;</span>
<a href="#l10.84"></a><span id="l10.84">       &lt;field name=&quot;panelContainer&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l10.85"></a><span id="l10.85">         document.getElementById(this.getAttribute(&quot;panelcontainer&quot;));</span>
<a href="#l10.86"></a><span id="l10.86">       &lt;/field&gt;</span>
<a href="#l10.87"></a><span id="l10.87">       &lt;field name=&quot;tabMonitors&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l10.88"></a><span id="l10.88">         new Array()</span>
<a href="#l10.89"></a><span id="l10.89">       &lt;/field&gt;</span>
<a href="#l10.90"></a><span id="l10.90">       &lt;field name=&quot;recentlyClosedTabs&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l10.91"></a><span id="l10.91">         new Array();</span>
<a href="#l10.92"></a><span id="l10.92" class="difflineminus">-      &lt;/field&gt;      </span>
<a href="#l10.93"></a><span id="l10.93" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l10.94"></a><span id="l10.94" class="difflineplus">+      &lt;method name=&quot;createTooltip&quot;&gt;</span>
<a href="#l10.95"></a><span id="l10.95" class="difflineplus">+        &lt;parameter name=&quot;event&quot;/&gt;</span>
<a href="#l10.96"></a><span id="l10.96" class="difflineplus">+        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l10.97"></a><span id="l10.97" class="difflineplus">+          event.stopPropagation();</span>
<a href="#l10.98"></a><span id="l10.98" class="difflineplus">+          var tab = document.tooltipNode;</span>
<a href="#l10.99"></a><span id="l10.99" class="difflineplus">+          if (tab.localName != &quot;tab&quot; || this.tabContainer.draggedTab) {</span>
<a href="#l10.100"></a><span id="l10.100" class="difflineplus">+            event.preventDefault();</span>
<a href="#l10.101"></a><span id="l10.101" class="difflineplus">+            return;</span>
<a href="#l10.102"></a><span id="l10.102" class="difflineplus">+          }</span>
<a href="#l10.103"></a><span id="l10.103" class="difflineplus">+          event.target.setAttribute(&quot;label&quot;, tab.mOverCloseButton ?</span>
<a href="#l10.104"></a><span id="l10.104" class="difflineplus">+                                             tab.getAttribute(&quot;closetabtext&quot;) :</span>
<a href="#l10.105"></a><span id="l10.105" class="difflineplus">+                                             tab.getAttribute(&quot;label&quot;));</span>
<a href="#l10.106"></a><span id="l10.106" class="difflineplus">+</span>
<a href="#l10.107"></a><span id="l10.107" class="difflineplus">+          ]]&gt;</span>
<a href="#l10.108"></a><span id="l10.108" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l10.109"></a><span id="l10.109" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l10.110"></a><span id="l10.110">       &lt;method name=&quot;registerTabType&quot;&gt;</span>
<a href="#l10.111"></a><span id="l10.111">         &lt;parameter name=&quot;aTabType&quot;/&gt;</span>
<a href="#l10.112"></a><span id="l10.112">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l10.113"></a><span id="l10.113">           if (aTabType.name in this.tabTypes)</span>
<a href="#l10.114"></a><span id="l10.114">             return;</span>
<a href="#l10.115"></a><span id="l10.115">         </span>
<a href="#l10.116"></a><span id="l10.116">           this.tabTypes[aTabType.name] = aTabType;</span>
<a href="#l10.117"></a><span id="l10.117">           for (let [modeName, modeDetails] in Iterator(aTabType.modes)) {</span>
<a href="#l10.118"></a><span id="l10.118">             modeDetails.name = modeName;</span>
<a href="#l10.119"></a><span id="l10.119">             modeDetails.tabType = aTabType;</span>
<a href="#l10.120"></a><span id="l10.120">             modeDetails.tabs = [];</span>
<a href="#l10.121"></a><span id="l10.121">             this.tabModes[modeName] = modeDetails;</span>
<a href="#l10.122"></a><span id="l10.122">             if (modeDetails.isDefault)</span>
<a href="#l10.123"></a><span id="l10.123">               this.defaultTabMode = modeDetails;</span>
<a href="#l10.124"></a><span id="l10.124">           }</span>
<a href="#l10.125"></a><span id="l10.125" class="difflineminus">-          </span>
<a href="#l10.126"></a><span id="l10.126">           aTabType.panel = document.getElementById(aTabType.panelId);</span>
<a href="#l10.127"></a><span id="l10.127">         ]]&gt;&lt;/body&gt;</span>
<a href="#l10.128"></a><span id="l10.128">       &lt;/method&gt;</span>
<a href="#l10.129"></a><span id="l10.129">       &lt;method name=&quot;registerTabMonitor&quot;&gt;</span>
<a href="#l10.130"></a><span id="l10.130">         &lt;parameter name=&quot;aTabMonitor&quot;/&gt;</span>
<a href="#l10.131"></a><span id="l10.131">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l10.132"></a><span id="l10.132">           if (this.tabMonitors.indexOf(aTabMonitor) == -1)</span>
<a href="#l10.133"></a><span id="l10.133">             this.tabMonitors.push(aTabMonitor);</span>
<a href="#l10.134"></a><span id="l10.134" class="difflineat">@@ -442,17 +408,17 @@</span>
<a href="#l10.135"></a><span id="l10.135">                     this.tabContainer.childNodes[iTab]];</span>
<a href="#l10.136"></a><span id="l10.136">           }</span>
<a href="#l10.137"></a><span id="l10.137"> </span>
<a href="#l10.138"></a><span id="l10.138">           if (typeof(aTabIndexNodeOrInfo) == &quot;number&quot;) {</span>
<a href="#l10.139"></a><span id="l10.139">             iTab = aTabIndexNodeOrInfo;</span>
<a href="#l10.140"></a><span id="l10.140">             tabNode = this.tabContainer.childNodes[iTab];</span>
<a href="#l10.141"></a><span id="l10.141">             tab = this.tabInfo[iTab];</span>
<a href="#l10.142"></a><span id="l10.142">           }</span>
<a href="#l10.143"></a><span id="l10.143" class="difflineminus">-          else if (aTabIndexNodeOrInfo.tagName == &quot;tab&quot;) {</span>
<a href="#l10.144"></a><span id="l10.144" class="difflineplus">+          else if (aTabIndexNodeOrInfo.tagName &amp;&amp; aTabIndexNodeOrInfo.tagName == &quot;tab&quot;) {</span>
<a href="#l10.145"></a><span id="l10.145">             tabNode = aTabIndexNodeOrInfo;</span>
<a href="#l10.146"></a><span id="l10.146">             iTab = this.tabContainer.getIndexOfItem(tabNode);</span>
<a href="#l10.147"></a><span id="l10.147">             tab = this.tabInfo[iTab];</span>
<a href="#l10.148"></a><span id="l10.148">           }</span>
<a href="#l10.149"></a><span id="l10.149">           else {</span>
<a href="#l10.150"></a><span id="l10.150">             tab = aTabIndexNodeOrInfo;</span>
<a href="#l10.151"></a><span id="l10.151">             iTab = this.tabInfo.indexOf(tab);</span>
<a href="#l10.152"></a><span id="l10.152">             tabNode = (iTab &gt;= 0) ? this.tabContainer.childNodes[iTab] : null;</span>
<a href="#l10.153"></a><span id="l10.153" class="difflineat">@@ -522,33 +488,34 @@</span>
<a href="#l10.154"></a><span id="l10.154">               return;</span>
<a href="#l10.155"></a><span id="l10.155">             }</span>
<a href="#l10.156"></a><span id="l10.156">           }</span>
<a href="#l10.157"></a><span id="l10.157"> </span>
<a href="#l10.158"></a><span id="l10.158">           if (!background)</span>
<a href="#l10.159"></a><span id="l10.159">             // we need to save the state before it gets corrupted</span>
<a href="#l10.160"></a><span id="l10.160">             this.saveCurrentTabState();</span>
<a href="#l10.161"></a><span id="l10.161"> </span>
<a href="#l10.162"></a><span id="l10.162" class="difflineminus">-          let tab = {mode: tabMode, busy: false, canClose: true, _ext: {}};</span>
<a href="#l10.163"></a><span id="l10.163" class="difflineplus">+          let tab = {mode: tabMode, busy: false, canClose: true,</span>
<a href="#l10.164"></a><span id="l10.164" class="difflineplus">+                     thinking: false, _ext: {}};</span>
<a href="#l10.165"></a><span id="l10.165">           tabMode.tabs.push(tab);</span>
<a href="#l10.166"></a><span id="l10.166"> </span>
<a href="#l10.167"></a><span id="l10.167">           var t = document.createElementNS(</span>
<a href="#l10.168"></a><span id="l10.168">             &quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;,</span>
<a href="#l10.169"></a><span id="l10.169">             &quot;tab&quot;);</span>
<a href="#l10.170"></a><span id="l10.170">           tab.tabNode = t;</span>
<a href="#l10.171"></a><span id="l10.171">           t.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l10.172"></a><span id="l10.172">           t.maxWidth = this.tabContainer.mTabMaxWidth;</span>
<a href="#l10.173"></a><span id="l10.173">           t.minWidth = this.tabContainer.mTabMinWidth;</span>
<a href="#l10.174"></a><span id="l10.174">           t.width = 0;</span>
<a href="#l10.175"></a><span id="l10.175">           t.setAttribute(&quot;flex&quot;, &quot;100&quot;);</span>
<a href="#l10.176"></a><span id="l10.176">           t.setAttribute(&quot;validate&quot;, &quot;never&quot;);</span>
<a href="#l10.177"></a><span id="l10.177">           t.className = &quot;tabmail-tab&quot;;</span>
<a href="#l10.178"></a><span id="l10.178">           this.tabContainer.appendChild(t);</span>
<a href="#l10.179"></a><span id="l10.179" class="difflineminus">-          if (this.tabContainer.collapsed) {</span>
<a href="#l10.180"></a><span id="l10.180" class="difflineminus">-            this.tabContainer.collapsed = false;</span>
<a href="#l10.181"></a><span id="l10.181" class="difflineplus">+          if (this.tabContainer.mCollapseToolbar.collapsed) {</span>
<a href="#l10.182"></a><span id="l10.182" class="difflineplus">+            this.tabContainer.mCollapseToolbar.collapsed = false;</span>
<a href="#l10.183"></a><span id="l10.183">             this.tabContainer.adjustTabstrip();</span>
<a href="#l10.184"></a><span id="l10.184">           }</span>
<a href="#l10.185"></a><span id="l10.185"> </span>
<a href="#l10.186"></a><span id="l10.186">           let oldTab = this._mostRecentTabInfo = this.currentTabInfo;</span>
<a href="#l10.187"></a><span id="l10.187"> </span>
<a href="#l10.188"></a><span id="l10.188">           // the order of the following statements is important</span>
<a href="#l10.189"></a><span id="l10.189">           this.tabInfo[this.tabContainer.childNodes.length - 1] = tab;</span>
<a href="#l10.190"></a><span id="l10.190">           if (!background) {</span>
<a href="#l10.191"></a><span id="l10.191" class="difflineat">@@ -759,17 +726,17 @@</span>
<a href="#l10.192"></a><span id="l10.192"> </span>
<a href="#l10.193"></a><span id="l10.193">               // Ensure current tab is still selecte and displayed in the</span>
<a href="#l10.194"></a><span id="l10.194">               // panelContainer.</span>
<a href="#l10.195"></a><span id="l10.195">               this.panelContainer.selectedPanel =</span>
<a href="#l10.196"></a><span id="l10.196">                 this.currentTabInfo.panel || this.currentTabInfo.mode.tabType.panel;</span>
<a href="#l10.197"></a><span id="l10.197">             }</span>
<a href="#l10.198"></a><span id="l10.198">             if (this.tabContainer.childNodes.length == 1 &amp;&amp;</span>
<a href="#l10.199"></a><span id="l10.199">                 this.tabContainer.mAutoHide)</span>
<a href="#l10.200"></a><span id="l10.200" class="difflineminus">-              this.tabContainer.collapsed = true;</span>
<a href="#l10.201"></a><span id="l10.201" class="difflineplus">+              this.tabContainer.mCollapseToolbar.collapsed = true;</span>
<a href="#l10.202"></a><span id="l10.202">           ]]&gt;</span>
<a href="#l10.203"></a><span id="l10.203">         &lt;/body&gt;</span>
<a href="#l10.204"></a><span id="l10.204">       &lt;/method&gt;</span>
<a href="#l10.205"></a><span id="l10.205">       &lt;method name=&quot;removeTabByNode&quot;&gt;</span>
<a href="#l10.206"></a><span id="l10.206">         &lt;parameter name=&quot;aTabNode&quot;/&gt;</span>
<a href="#l10.207"></a><span id="l10.207">         &lt;body&gt;</span>
<a href="#l10.208"></a><span id="l10.208">           &lt;![CDATA[</span>
<a href="#l10.209"></a><span id="l10.209">             this.closeTab(aTabNode);</span>
<a href="#l10.210"></a><span id="l10.210" class="difflineat">@@ -841,27 +808,27 @@</span>
<a href="#l10.211"></a><span id="l10.211">             return -1;</span>
<a href="#l10.212"></a><span id="l10.212">             </span>
<a href="#l10.213"></a><span id="l10.213">           // Cache the old tabInfo</span>
<a href="#l10.214"></a><span id="l10.214">           let tab = this.tabInfo[oldIdx];          </span>
<a href="#l10.215"></a><span id="l10.215">           </span>
<a href="#l10.216"></a><span id="l10.216">           if (!tab)</span>
<a href="#l10.217"></a><span id="l10.217">             return -1;</span>
<a href="#l10.218"></a><span id="l10.218">                      </span>
<a href="#l10.219"></a><span id="l10.219" class="difflineminus">-          // remove the entries form tabInfo, tabMode and tabStrip</span>
<a href="#l10.220"></a><span id="l10.220" class="difflineplus">+          // remove the entries form tabInfo, tabMode and the tabContainer</span>
<a href="#l10.221"></a><span id="l10.221">           this.tabInfo.splice(oldIdx, 1);</span>
<a href="#l10.222"></a><span id="l10.222">           tab.mode.tabs.splice(tab.mode.tabs.indexOf(tab), 1);</span>
<a href="#l10.223"></a><span id="l10.223">           this.tabContainer.removeChild(aTab);</span>
<a href="#l10.224"></a><span id="l10.224">           </span>
<a href="#l10.225"></a><span id="l10.225"> </span>
<a href="#l10.226"></a><span id="l10.226">           // as we removed items, we might need to update indices</span>
<a href="#l10.227"></a><span id="l10.227">           if (oldIdx &lt; aIndex)</span>
<a href="#l10.228"></a><span id="l10.228">             aIndex --;</span>
<a href="#l10.229"></a><span id="l10.229">                        </span>
<a href="#l10.230"></a><span id="l10.230" class="difflineminus">-          // Read it into tabInfo and tabStrip.</span>
<a href="#l10.231"></a><span id="l10.231" class="difflineplus">+          // Read it into tabInfo and the tabContainer</span>
<a href="#l10.232"></a><span id="l10.232">           this.tabInfo.splice(aIndex, 0, tab);</span>
<a href="#l10.233"></a><span id="l10.233">           this.tabContainer.insertBefore(aTab, this.tabContainer.childNodes[aIndex]);</span>
<a href="#l10.234"></a><span id="l10.234">           </span>
<a href="#l10.235"></a><span id="l10.235">           // Now it's getting a bit ugly, as tabModes stores redundant</span>
<a href="#l10.236"></a><span id="l10.236">           // information we need to get it in sync with tabInfo.</span>
<a href="#l10.237"></a><span id="l10.237">           //              </span>
<a href="#l10.238"></a><span id="l10.238">           // As tabModes.tabs is a subset of tabInfo, every tab can be mapped </span>
<a href="#l10.239"></a><span id="l10.239">           // to a tabInfo index. So we check for each tab in tabModes if it is </span>
<a href="#l10.240"></a><span id="l10.240" class="difflineat">@@ -1310,54 +1277,54 @@</span>
<a href="#l10.241"></a><span id="l10.241">         &lt;parameter name=&quot;aTabNode&quot;/&gt;</span>
<a href="#l10.242"></a><span id="l10.242">         &lt;body&gt;</span>
<a href="#l10.243"></a><span id="l10.243">           &lt;![CDATA[</span>
<a href="#l10.244"></a><span id="l10.244">             // this happens when the user did not actually-click on a tab but</span>
<a href="#l10.245"></a><span id="l10.245">             // instead on the strip behind it.</span>
<a href="#l10.246"></a><span id="l10.246">             if (aTabNode.localName != &quot;tab&quot;)</span>
<a href="#l10.247"></a><span id="l10.247">               return false;</span>
<a href="#l10.248"></a><span id="l10.248"> </span>
<a href="#l10.249"></a><span id="l10.249" class="difflineplus">+            let tabContextMenu = document.getElementById(&quot;tabContextMenu&quot;);</span>
<a href="#l10.250"></a><span id="l10.250" class="difflineplus">+</span>
<a href="#l10.251"></a><span id="l10.251">             let tab = this._getTabContextForTabbyThing(aTabNode, true) [1];</span>
<a href="#l10.252"></a><span id="l10.252" class="difflineminus">-             </span>
<a href="#l10.253"></a><span id="l10.253" class="difflineplus">+</span>
<a href="#l10.254"></a><span id="l10.254">             // by default &quot;close other tabs&quot; is disabled...</span>
<a href="#l10.255"></a><span id="l10.255" class="difflineminus">-            document</span>
<a href="#l10.256"></a><span id="l10.256" class="difflineminus">-              .getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;closeOtherTabs&quot;)</span>
<a href="#l10.257"></a><span id="l10.257" class="difflineminus">-              .setAttribute(&quot;disabled&quot;,&quot;true&quot;)</span>
<a href="#l10.258"></a><span id="l10.258" class="difflineminus">-                          </span>
<a href="#l10.259"></a><span id="l10.259" class="difflineplus">+            tabContextMenu</span>
<a href="#l10.260"></a><span id="l10.260" class="difflineplus">+              .querySelector('[anonid=&quot;closeOtherTabs&quot;]')</span>
<a href="#l10.261"></a><span id="l10.261" class="difflineplus">+              .setAttribute(&quot;disabled&quot;,&quot;true&quot;);</span>
<a href="#l10.262"></a><span id="l10.262" class="difflineplus">+</span>
<a href="#l10.263"></a><span id="l10.263">             // ... except if we find at least one other tab that can be closed.</span>
<a href="#l10.264"></a><span id="l10.264">             for (let i = 0; i &lt; this.tabInfo.length; i++) {</span>
<a href="#l10.265"></a><span id="l10.265" class="difflineminus">-            </span>
<a href="#l10.266"></a><span id="l10.266">               if (this.tabInfo[i].canClose &amp;&amp; this.tabInfo[i] != tab) {</span>
<a href="#l10.267"></a><span id="l10.267" class="difflineminus">-              </span>
<a href="#l10.268"></a><span id="l10.268" class="difflineminus">-                document</span>
<a href="#l10.269"></a><span id="l10.269" class="difflineminus">-                  .getAnonymousElementByAttribute(this,&quot;anonid&quot;, &quot;closeOtherTabs&quot;)</span>
<a href="#l10.270"></a><span id="l10.270" class="difflineminus">-                  .setAttribute(&quot;disabled&quot;,&quot;false&quot;)</span>
<a href="#l10.271"></a><span id="l10.271" class="difflineminus">-                  </span>
<a href="#l10.272"></a><span id="l10.272" class="difflineplus">+                tabContextMenu</span>
<a href="#l10.273"></a><span id="l10.273" class="difflineplus">+                  .querySelector('[anonid=&quot;closeOtherTabs&quot;]')</span>
<a href="#l10.274"></a><span id="l10.274" class="difflineplus">+                  .setAttribute(&quot;disabled&quot;, &quot;false&quot;);</span>
<a href="#l10.275"></a><span id="l10.275">                 break;</span>
<a href="#l10.276"></a><span id="l10.276">               }</span>
<a href="#l10.277"></a><span id="l10.277">             }</span>
<a href="#l10.278"></a><span id="l10.278" class="difflineminus">-            </span>
<a href="#l10.279"></a><span id="l10.279" class="difflineminus">-            document</span>
<a href="#l10.280"></a><span id="l10.280" class="difflineminus">-              .getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;closeTab&quot;)</span>
<a href="#l10.281"></a><span id="l10.281" class="difflineminus">-              .setAttribute(&quot;disabled&quot;, tab.canClose ? &quot;false&quot; : &quot;true&quot;);       </span>
<a href="#l10.282"></a><span id="l10.282" class="difflineminus">-            </span>
<a href="#l10.283"></a><span id="l10.283" class="difflineplus">+</span>
<a href="#l10.284"></a><span id="l10.284" class="difflineplus">+</span>
<a href="#l10.285"></a><span id="l10.285" class="difflineplus">+            tabContextMenu</span>
<a href="#l10.286"></a><span id="l10.286" class="difflineplus">+              .querySelector('[anonid=&quot;closeTab&quot;]')</span>
<a href="#l10.287"></a><span id="l10.287" class="difflineplus">+              .setAttribute(&quot;disabled&quot;, tab.canClose ? &quot;false&quot; : &quot;true&quot;);</span>
<a href="#l10.288"></a><span id="l10.288" class="difflineplus">+</span>
<a href="#l10.289"></a><span id="l10.289">             // enable &quot;Open in new Window&quot; iff tab is closable and...</span>
<a href="#l10.290"></a><span id="l10.290">             // ... it can persist its state. Other wise it would get destroyed...</span>
<a href="#l10.291"></a><span id="l10.291">             // ... while moving it to a new window.</span>
<a href="#l10.292"></a><span id="l10.292" class="difflineminus">-            document</span>
<a href="#l10.293"></a><span id="l10.293" class="difflineminus">-              .getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;openTabInWindow&quot;)</span>
<a href="#l10.294"></a><span id="l10.294" class="difflineminus">-              .setAttribute(&quot;disabled&quot;, </span>
<a href="#l10.295"></a><span id="l10.295" class="difflineminus">-                  (tab.canClose &amp;&amp; this.persistTab(tab)) ? &quot;false&quot; : &quot;true&quot;)</span>
<a href="#l10.296"></a><span id="l10.296" class="difflineplus">+            tabContextMenu</span>
<a href="#l10.297"></a><span id="l10.297" class="difflineplus">+              .querySelector('[anonid=&quot;openTabInWindow&quot;]')</span>
<a href="#l10.298"></a><span id="l10.298" class="difflineplus">+              .setAttribute(&quot;disabled&quot;,</span>
<a href="#l10.299"></a><span id="l10.299" class="difflineplus">+                            (tab.canClose &amp;&amp; this.persistTab(tab)) ? &quot;false&quot; : &quot;true&quot;);</span>
<a href="#l10.300"></a><span id="l10.300"> </span>
<a href="#l10.301"></a><span id="l10.301">             // If the tab history is empty, disable &quot;Undo Close Tab&quot;</span>
<a href="#l10.302"></a><span id="l10.302" class="difflineminus">-            document</span>
<a href="#l10.303"></a><span id="l10.303" class="difflineminus">-              .getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;recentlyClosedTabs&quot;)</span>
<a href="#l10.304"></a><span id="l10.304" class="difflineplus">+            tabContextMenu</span>
<a href="#l10.305"></a><span id="l10.305" class="difflineplus">+              .querySelector('[anonid=&quot;recentlyClosedTabs&quot;]')</span>
<a href="#l10.306"></a><span id="l10.306">               .setAttribute(&quot;disabled&quot;,</span>
<a href="#l10.307"></a><span id="l10.307" class="difflineminus">-                  (this.recentlyClosedTabs.length) ? &quot;false&quot; : &quot;true&quot;);</span>
<a href="#l10.308"></a><span id="l10.308" class="difflineminus">-                          </span>
<a href="#l10.309"></a><span id="l10.309" class="difflineplus">+                            (this.recentlyClosedTabs.length) ? &quot;false&quot; : &quot;true&quot;);</span>
<a href="#l10.310"></a><span id="l10.310" class="difflineplus">+</span>
<a href="#l10.311"></a><span id="l10.311">             return true;</span>
<a href="#l10.312"></a><span id="l10.312">           ]]&gt;</span>
<a href="#l10.313"></a><span id="l10.313">         &lt;/body&gt;</span>
<a href="#l10.314"></a><span id="l10.314">       &lt;/method&gt;</span>
<a href="#l10.315"></a><span id="l10.315">       &lt;method name=&quot;supportsCommand&quot;&gt;</span>
<a href="#l10.316"></a><span id="l10.316">         &lt;parameter name=&quot;aCommand&quot;/&gt;</span>
<a href="#l10.317"></a><span id="l10.317">         &lt;body&gt;</span>
<a href="#l10.318"></a><span id="l10.318">           &lt;![CDATA[</span>
<a href="#l10.319"></a><span id="l10.319" class="difflineat">@@ -1482,17 +1449,17 @@</span>
<a href="#l10.320"></a><span id="l10.320">           ]]&gt;</span>
<a href="#l10.321"></a><span id="l10.321">         &lt;/body&gt;</span>
<a href="#l10.322"></a><span id="l10.322">       &lt;/method&gt;</span>
<a href="#l10.323"></a><span id="l10.323">     &lt;/implementation&gt;</span>
<a href="#l10.324"></a><span id="l10.324">   &lt;/binding&gt;</span>
<a href="#l10.325"></a><span id="l10.325"> </span>
<a href="#l10.326"></a><span id="l10.326">   &lt;binding id=&quot;tabmail-tab&quot; display=&quot;xul:box&quot;</span>
<a href="#l10.327"></a><span id="l10.327">            extends=&quot;chrome://global/content/bindings/tabbox.xml#tab&quot;&gt;</span>
<a href="#l10.328"></a><span id="l10.328" class="difflineminus">-    &lt;content closetabtext=&quot;&amp;closeTab.label;&quot;&gt;</span>
<a href="#l10.329"></a><span id="l10.329" class="difflineplus">+    &lt;content closetabtext=&quot;&amp;closeTab.label;&quot; context=&quot;tabContextMenu&quot;&gt;</span>
<a href="#l10.330"></a><span id="l10.330">       &lt;xul:hbox class=&quot;tab-image-left&quot; xbl:inherits=&quot;selected&quot;/&gt;</span>
<a href="#l10.331"></a><span id="l10.331">       &lt;xul:hbox class=&quot;tab-image-middle box-inherit&quot; align=&quot;center&quot;</span>
<a href="#l10.332"></a><span id="l10.332">                 xbl:inherits=&quot;dir,pack,orient,selected&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l10.333"></a><span id="l10.333">         &lt;xul:image class=&quot;tab-throbber&quot; xbl:inherits=&quot;busy,thinking&quot;/&gt;</span>
<a href="#l10.334"></a><span id="l10.334">         &lt;xul:image class=&quot;tab-icon-image&quot; xbl:inherits=&quot;validate,src=image&quot;/&gt;</span>
<a href="#l10.335"></a><span id="l10.335">         &lt;xul:label class=&quot;tab-text&quot;</span>
<a href="#l10.336"></a><span id="l10.336">                   xbl:inherits=&quot;value=label,accesskey,crop,disabled&quot;</span>
<a href="#l10.337"></a><span id="l10.337">                   crop=&quot;right&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l10.338"></a><span id="l10.338" class="difflineat">@@ -1521,16 +1488,24 @@</span>
<a href="#l10.339"></a><span id="l10.339">       &lt;![CDATA[</span>
<a href="#l10.340"></a><span id="l10.340">         if (this.mOverCloseButton)</span>
<a href="#l10.341"></a><span id="l10.341">           event.stopPropagation();</span>
<a href="#l10.342"></a><span id="l10.342">       ]]&gt;</span>
<a href="#l10.343"></a><span id="l10.343">       &lt;/handler&gt;</span>
<a href="#l10.344"></a><span id="l10.344">     &lt;/handlers&gt;</span>
<a href="#l10.345"></a><span id="l10.345">   &lt;/binding&gt;</span>
<a href="#l10.346"></a><span id="l10.346"> </span>
<a href="#l10.347"></a><span id="l10.347" class="difflineplus">+  &lt;binding id=&quot;tabmail-tabbox&quot;</span>
<a href="#l10.348"></a><span id="l10.348" class="difflineplus">+           extends=&quot;chrome://global/content/bindings/tabbox.xml#tabbox&quot;&gt;</span>
<a href="#l10.349"></a><span id="l10.349" class="difflineplus">+    &lt;implementation&gt;</span>
<a href="#l10.350"></a><span id="l10.350" class="difflineplus">+      &lt;property name=&quot;tabs&quot; readonly=&quot;true&quot;</span>
<a href="#l10.351"></a><span id="l10.351" class="difflineplus">+                onget=&quot;return document.getBindingParent(this).tabContainer;&quot;/&gt;</span>
<a href="#l10.352"></a><span id="l10.352" class="difflineplus">+    &lt;/implementation&gt;</span>
<a href="#l10.353"></a><span id="l10.353" class="difflineplus">+  &lt;/binding&gt;</span>
<a href="#l10.354"></a><span id="l10.354" class="difflineplus">+</span>
<a href="#l10.355"></a><span id="l10.355">   &lt;binding id=&quot;tabmail-arrowscrollbox&quot; extends=&quot;chrome://global/content/bindings/scrollbox.xml#arrowscrollbox-clicktoscroll&quot;&gt;</span>
<a href="#l10.356"></a><span id="l10.356">     &lt;content&gt;</span>
<a href="#l10.357"></a><span id="l10.357">       &lt;xul:toolbarbutton class=&quot;scrollbutton-up&quot; collapsed=&quot;true&quot;</span>
<a href="#l10.358"></a><span id="l10.358">                          xbl:inherits=&quot;orient&quot;</span>
<a href="#l10.359"></a><span id="l10.359">                          anonid=&quot;scrollbutton-up&quot;</span>
<a href="#l10.360"></a><span id="l10.360">                          onmousedown=&quot;_startScroll(-1);&quot;</span>
<a href="#l10.361"></a><span id="l10.361">                          onmouseup=&quot;_stopScroll();&quot;</span>
<a href="#l10.362"></a><span id="l10.362">                          onmouseout=&quot;_stopScroll();&quot;/&gt;</span>
<a href="#l10.363"></a><span id="l10.363" class="difflineat">@@ -1601,54 +1576,40 @@</span>
<a href="#l10.364"></a><span id="l10.364">         // we need to manually set the disable state to match the</span>
<a href="#l10.365"></a><span id="l10.365">         // disable state of the toolbarbutton.</span>
<a href="#l10.366"></a><span id="l10.366">         this._scrollButtonDownBox</span>
<a href="#l10.367"></a><span id="l10.367">             .setAttribute(&quot;disabled&quot;, this._scrollButtonDown.disabled);</span>
<a href="#l10.368"></a><span id="l10.368">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l10.369"></a><span id="l10.369"> </span>
<a href="#l10.370"></a><span id="l10.370">     &lt;/handlers&gt;</span>
<a href="#l10.371"></a><span id="l10.371">   &lt;/binding&gt;</span>
<a href="#l10.372"></a><span id="l10.372" class="difflineminus">-</span>
<a href="#l10.373"></a><span id="l10.373">   &lt;binding id=&quot;tabmail-tabs&quot;</span>
<a href="#l10.374"></a><span id="l10.374">            extends=&quot;chrome://global/content/bindings/tabbox.xml#tabs&quot;&gt;</span>
<a href="#l10.375"></a><span id="l10.375" class="difflineminus">-    &lt;content&gt;</span>
<a href="#l10.376"></a><span id="l10.376" class="difflineplus">+    &lt;content context=&quot;toolbar-context-menu&quot;&gt;</span>
<a href="#l10.377"></a><span id="l10.377">       &lt;xul:stack flex=&quot;1&quot; class=&quot;tabs-stack&quot;&gt;</span>
<a href="#l10.378"></a><span id="l10.378">         &lt;xul:vbox&gt;</span>
<a href="#l10.379"></a><span id="l10.379">           &lt;xul:spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l10.380"></a><span id="l10.380">           &lt;xul:hbox class=&quot;tabs-bottom&quot; align=&quot;center&quot;/&gt;</span>
<a href="#l10.381"></a><span id="l10.381">         &lt;/xul:vbox&gt;</span>
<a href="#l10.382"></a><span id="l10.382">         &lt;xul:vbox&gt;</span>
<a href="#l10.383"></a><span id="l10.383">           &lt;xul:hbox&gt;</span>
<a href="#l10.384"></a><span id="l10.384" class="difflineminus">-            &lt;xul:hbox align=&quot;start&quot;&gt;</span>
<a href="#l10.385"></a><span id="l10.385" class="difflineplus">+            &lt;xul:hbox align=&quot;end&quot;&gt;</span>
<a href="#l10.386"></a><span id="l10.386">               &lt;xul:image class=&quot;tab-drop-indicator&quot; anonid=&quot;tab-drop-indicator&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l10.387"></a><span id="l10.387">             &lt;/xul:hbox&gt;</span>
<a href="#l10.388"></a><span id="l10.388">             &lt;xul:stack&gt;</span>
<a href="#l10.389"></a><span id="l10.389">               &lt;xul:spacer class=&quot;tabs-left&quot;/&gt;</span>
<a href="#l10.390"></a><span id="l10.390">             &lt;/xul:stack&gt;</span>
<a href="#l10.391"></a><span id="l10.391">             &lt;xul:arrowscrollbox class=&quot;tabmail-arrowscrollbox&quot;</span>
<a href="#l10.392"></a><span id="l10.392">                                 anonid=&quot;arrowscrollbox&quot;</span>
<a href="#l10.393"></a><span id="l10.393">                                 orient=&quot;horizontal&quot;</span>
<a href="#l10.394"></a><span id="l10.394">                                 flex=&quot;1&quot;</span>
<a href="#l10.395"></a><span id="l10.395">                                 style=&quot;min-width: 1px;&quot;&gt;</span>
<a href="#l10.396"></a><span id="l10.396">               &lt;children includes=&quot;tab&quot;/&gt;</span>
<a href="#l10.397"></a><span id="l10.397">             &lt;/xul:arrowscrollbox&gt;</span>
<a href="#l10.398"></a><span id="l10.398">             &lt;children/&gt;</span>
<a href="#l10.399"></a><span id="l10.399" class="difflineminus">-            &lt;xul:stack align=&quot;center&quot; pack=&quot;end&quot;&gt;</span>
<a href="#l10.400"></a><span id="l10.400" class="difflineminus">-              &lt;xul:hbox class=&quot;tabs-alltabs-box&quot; anonid=&quot;alltabs-box&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l10.401"></a><span id="l10.401" class="difflineminus">-              &lt;xul:hbox class=&quot;tabs-alltabs-box-animate&quot;</span>
<a href="#l10.402"></a><span id="l10.402" class="difflineminus">-                        anonid=&quot;alltabs-box-animate&quot;</span>
<a href="#l10.403"></a><span id="l10.403" class="difflineminus">-                        flex=&quot;1&quot;/&gt;</span>
<a href="#l10.404"></a><span id="l10.404" class="difflineminus">-              &lt;xul:toolbarbutton class=&quot;tabs-alltabs-button&quot;</span>
<a href="#l10.405"></a><span id="l10.405" class="difflineminus">-                                 anonid=&quot;alltabs-button&quot;</span>
<a href="#l10.406"></a><span id="l10.406" class="difflineminus">-                                 type=&quot;menu&quot;</span>
<a href="#l10.407"></a><span id="l10.407" class="difflineminus">-                                 tooltipstring=&quot;&amp;listAllTabs.label;&quot;&gt;</span>
<a href="#l10.408"></a><span id="l10.408" class="difflineminus">-                &lt;xul:menupopup class=&quot;tabs-alltabs-popup&quot;</span>
<a href="#l10.409"></a><span id="l10.409" class="difflineminus">-                               anonid=&quot;alltabs-popup&quot; position=&quot;after_end&quot;/&gt;</span>
<a href="#l10.410"></a><span id="l10.410" class="difflineminus">-              &lt;/xul:toolbarbutton&gt;</span>
<a href="#l10.411"></a><span id="l10.411" class="difflineminus">-            &lt;/xul:stack&gt;</span>
<a href="#l10.412"></a><span id="l10.412">             &lt;xul:hbox class=&quot;tabs-closebutton-box&quot;</span>
<a href="#l10.413"></a><span id="l10.413">                       anonid=&quot;tabstrip-closebutton&quot;</span>
<a href="#l10.414"></a><span id="l10.414">                       align=&quot;center&quot; pack=&quot;end&quot;&gt;</span>
<a href="#l10.415"></a><span id="l10.415">               &lt;xul:toolbarbutton class=&quot;close-button tabs-closebutton&quot;/&gt;</span>
<a href="#l10.416"></a><span id="l10.416">             &lt;/xul:hbox&gt;</span>
<a href="#l10.417"></a><span id="l10.417">           &lt;/xul:hbox&gt;</span>
<a href="#l10.418"></a><span id="l10.418">           &lt;xul:spacer class=&quot;tabs-bottom-spacer&quot;/&gt;</span>
<a href="#l10.419"></a><span id="l10.419">         &lt;/xul:vbox&gt;</span>
<a href="#l10.420"></a><span id="l10.420" class="difflineat">@@ -1679,17 +1640,17 @@</span>
<a href="#l10.421"></a><span id="l10.421">           } catch (e) {</span>
<a href="#l10.422"></a><span id="l10.422">           }</span>
<a href="#l10.423"></a><span id="l10.423">           try {</span>
<a href="#l10.424"></a><span id="l10.424">             this.mAutoHide = pb2.getBoolPref(&quot;mail.tabs.autoHide&quot;);</span>
<a href="#l10.425"></a><span id="l10.425">           } catch (e) {</span>
<a href="#l10.426"></a><span id="l10.426">           }</span>
<a href="#l10.427"></a><span id="l10.427"> </span>
<a href="#l10.428"></a><span id="l10.428">           if (this.mAutoHide)</span>
<a href="#l10.429"></a><span id="l10.429" class="difflineminus">-            this.collapsed = true;</span>
<a href="#l10.430"></a><span id="l10.430" class="difflineplus">+            this.mCollapseToolbar.collapsed = true;</span>
<a href="#l10.431"></a><span id="l10.431"> </span>
<a href="#l10.432"></a><span id="l10.432">           this.firstChild.minWidth = this.mTabMinWidth;</span>
<a href="#l10.433"></a><span id="l10.433">           this.firstChild.maxWidth = this.mTabMaxWidth;</span>
<a href="#l10.434"></a><span id="l10.434">           this.adjustTabstrip();</span>
<a href="#l10.435"></a><span id="l10.435"> </span>
<a href="#l10.436"></a><span id="l10.436">           pb2.addObserver(&quot;mail.tabs.&quot;, this._prefObserver, false);</span>
<a href="#l10.437"></a><span id="l10.437"> </span>
<a href="#l10.438"></a><span id="l10.438">           window.addEventListener(&quot;resize&quot;, this, false);</span>
<a href="#l10.439"></a><span id="l10.439" class="difflineat">@@ -1721,29 +1682,41 @@</span>
<a href="#l10.440"></a><span id="l10.440">           this.mTabstrip.removeEventListener(&quot;underflow&quot;, this, false);</span>
<a href="#l10.441"></a><span id="l10.441">         ]]&gt;</span>
<a href="#l10.442"></a><span id="l10.442">       &lt;/destructor&gt;</span>
<a href="#l10.443"></a><span id="l10.443"> </span>
<a href="#l10.444"></a><span id="l10.444">       &lt;field name=&quot;tabmail&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l10.445"></a><span id="l10.445">         document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l10.446"></a><span id="l10.446">       &lt;/field&gt;</span>
<a href="#l10.447"></a><span id="l10.447"> </span>
<a href="#l10.448"></a><span id="l10.448" class="difflineplus">+      &lt;field name=&quot;tabbox&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l10.449"></a><span id="l10.449" class="difflineplus">+        document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;tabbox&quot;);</span>
<a href="#l10.450"></a><span id="l10.450" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l10.451"></a><span id="l10.451" class="difflineplus">+</span>
<a href="#l10.452"></a><span id="l10.452">       &lt;field name=&quot;mTabstripWidth&quot;&gt;0&lt;/field&gt;</span>
<a href="#l10.453"></a><span id="l10.453"> </span>
<a href="#l10.454"></a><span id="l10.454">       &lt;field name=&quot;mTabstrip&quot;&gt;</span>
<a href="#l10.455"></a><span id="l10.455">         document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;arrowscrollbox&quot;);</span>
<a href="#l10.456"></a><span id="l10.456">       &lt;/field&gt;</span>
<a href="#l10.457"></a><span id="l10.457"> </span>
<a href="#l10.458"></a><span id="l10.458">       &lt;field name=&quot;mTabstripClosebutton&quot;&gt;</span>
<a href="#l10.459"></a><span id="l10.459">         document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;tabstrip-closebutton&quot;);</span>
<a href="#l10.460"></a><span id="l10.460">       &lt;/field&gt;</span>
<a href="#l10.461"></a><span id="l10.461"> </span>
<a href="#l10.462"></a><span id="l10.462" class="difflineminus">-      &lt;field name=&quot;_prefObserver&quot;&gt;({</span>
<a href="#l10.463"></a><span id="l10.463" class="difflineplus">+      &lt;field name=&quot;mToolbar&quot;&gt;</span>
<a href="#l10.464"></a><span id="l10.464" class="difflineplus">+        document.getElementById(this.getAttribute(&quot;tabtoolbar&quot;));</span>
<a href="#l10.465"></a><span id="l10.465" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l10.466"></a><span id="l10.466" class="difflineplus">+</span>
<a href="#l10.467"></a><span id="l10.467" class="difflineplus">+      &lt;field name=&quot;mCollapseToolbar&quot;&gt;</span>
<a href="#l10.468"></a><span id="l10.468" class="difflineplus">+        document.getElementById(this.getAttribute(&quot;collapsetoolbar&quot;));</span>
<a href="#l10.469"></a><span id="l10.469" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l10.470"></a><span id="l10.470" class="difflineplus">+</span>
<a href="#l10.471"></a><span id="l10.471" class="difflineplus">+     &lt;field name=&quot;_prefObserver&quot;&gt;({</span>
<a href="#l10.472"></a><span id="l10.472">         tabbox: this,</span>
<a href="#l10.473"></a><span id="l10.473" class="difflineminus">-  </span>
<a href="#l10.474"></a><span id="l10.474" class="difflineplus">+</span>
<a href="#l10.475"></a><span id="l10.475">         observe: function(subject, topic, data)</span>
<a href="#l10.476"></a><span id="l10.476">         {</span>
<a href="#l10.477"></a><span id="l10.477">           if (topic == &quot;nsPref:changed&quot;) {</span>
<a href="#l10.478"></a><span id="l10.478">             subject.QueryInterface(Components.interfaces.nsIPrefBranch);</span>
<a href="#l10.479"></a><span id="l10.479">             switch (data) {</span>
<a href="#l10.480"></a><span id="l10.480">             case &quot;mail.tabs.closeButtons&quot;:</span>
<a href="#l10.481"></a><span id="l10.481">               this.tabbox.mCloseButtons = subject.getIntPref(&quot;mail.tabs.closeButtons&quot;);</span>
<a href="#l10.482"></a><span id="l10.482">               this.tabbox.adjustTabstrip();</span>
<a href="#l10.483"></a><span id="l10.483" class="difflineat">@@ -1773,23 +1746,23 @@</span>
<a href="#l10.484"></a><span id="l10.484">       </span>
<a href="#l10.485"></a><span id="l10.485">       &lt;field name=&quot;_dragOverDelay&quot;&gt;350&lt;/field&gt;</span>
<a href="#l10.486"></a><span id="l10.486">       &lt;field name=&quot;_dragTime&quot;&gt;0&lt;/field&gt;</span>
<a href="#l10.487"></a><span id="l10.487">       </span>
<a href="#l10.488"></a><span id="l10.488">       &lt;field name=&quot;mTabMinWidth&quot;&gt;100&lt;/field&gt;</span>
<a href="#l10.489"></a><span id="l10.489">       &lt;field name=&quot;mTabMaxWidth&quot;&gt;250&lt;/field&gt;</span>
<a href="#l10.490"></a><span id="l10.490">       &lt;field name=&quot;mTabClipWidth&quot;&gt;140&lt;/field&gt;</span>
<a href="#l10.491"></a><span id="l10.491">       &lt;field name=&quot;mCloseButtons&quot;&gt;1&lt;/field&gt;</span>
<a href="#l10.492"></a><span id="l10.492" class="difflineplus">+      &lt;field name=&quot;_mAutoHide&quot;&gt;false&lt;/field&gt;</span>
<a href="#l10.493"></a><span id="l10.493"> </span>
<a href="#l10.494"></a><span id="l10.494" class="difflineminus">-      &lt;field name=&quot;_mAutoHide&quot;&gt;false&lt;/field&gt;</span>
<a href="#l10.495"></a><span id="l10.495">       &lt;property name=&quot;mAutoHide&quot; onget=&quot;return this._mAutoHide;&quot;&gt;</span>
<a href="#l10.496"></a><span id="l10.496">         &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l10.497"></a><span id="l10.497">           if (val != this._mAutoHide) {</span>
<a href="#l10.498"></a><span id="l10.498">             if (this.childNodes.length == 1)</span>
<a href="#l10.499"></a><span id="l10.499" class="difflineminus">-              this.collapsed = val;</span>
<a href="#l10.500"></a><span id="l10.500" class="difflineplus">+              this.mCollapseToolbar.collapsed = val;</span>
<a href="#l10.501"></a><span id="l10.501">             this._mAutoHide = val;</span>
<a href="#l10.502"></a><span id="l10.502">           }</span>
<a href="#l10.503"></a><span id="l10.503">           return val;</span>
<a href="#l10.504"></a><span id="l10.504">         ]]&gt;&lt;/setter&gt;</span>
<a href="#l10.505"></a><span id="l10.505">       &lt;/property&gt;</span>
<a href="#l10.506"></a><span id="l10.506"> </span>
<a href="#l10.507"></a><span id="l10.507">       &lt;method name=&quot;adjustTabstrip&quot;&gt;</span>
<a href="#l10.508"></a><span id="l10.508">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l10.509"></a><span id="l10.509" class="difflineat">@@ -1862,33 +1835,31 @@</span>
<a href="#l10.510"></a><span id="l10.510">                 this.mTabstripWidth = width;</span>
<a href="#l10.511"></a><span id="l10.511">               }</span>
<a href="#l10.512"></a><span id="l10.512">               break;</span>
<a href="#l10.513"></a><span id="l10.513">           }</span>
<a href="#l10.514"></a><span id="l10.514">         ]]&gt;&lt;/body&gt;</span>
<a href="#l10.515"></a><span id="l10.515">       &lt;/method&gt;</span>
<a href="#l10.516"></a><span id="l10.516"> </span>
<a href="#l10.517"></a><span id="l10.517">       &lt;field name=&quot;mAllTabsPopup&quot;&gt;</span>
<a href="#l10.518"></a><span id="l10.518" class="difflineminus">-        document.getAnonymousElementByAttribute(this, </span>
<a href="#l10.519"></a><span id="l10.519" class="difflineminus">-                                                &quot;anonid&quot;, &quot;alltabs-popup&quot;);</span>
<a href="#l10.520"></a><span id="l10.520" class="difflineplus">+        this.mAllTabsButton.menu;</span>
<a href="#l10.521"></a><span id="l10.521">       &lt;/field&gt;</span>
<a href="#l10.522"></a><span id="l10.522"> </span>
<a href="#l10.523"></a><span id="l10.523">       &lt;field name=&quot;mAllTabsBoxAnimate&quot;&gt;</span>
<a href="#l10.524"></a><span id="l10.524">         document.getAnonymousElementByAttribute(this, </span>
<a href="#l10.525"></a><span id="l10.525">                                                 &quot;anonid&quot;,</span>
<a href="#l10.526"></a><span id="l10.526">                                                 &quot;alltabs-box-animate&quot;);</span>
<a href="#l10.527"></a><span id="l10.527">       &lt;/field&gt;</span>
<a href="#l10.528"></a><span id="l10.528"> </span>
<a href="#l10.529"></a><span id="l10.529">       &lt;field name=&quot;mDownBoxAnimate&quot;&gt;</span>
<a href="#l10.530"></a><span id="l10.530">         this.mTabstrip._scrollButtonDownBoxAnimate;</span>
<a href="#l10.531"></a><span id="l10.531">       &lt;/field&gt;</span>
<a href="#l10.532"></a><span id="l10.532"> </span>
<a href="#l10.533"></a><span id="l10.533">       &lt;field name=&quot;mAllTabsButton&quot;&gt;</span>
<a href="#l10.534"></a><span id="l10.534" class="difflineminus">-        document.getAnonymousElementByAttribute(this, </span>
<a href="#l10.535"></a><span id="l10.535" class="difflineminus">-                                                &quot;anonid&quot;, &quot;alltabs-button&quot;);</span>
<a href="#l10.536"></a><span id="l10.536" class="difflineplus">+        document.getElementById(this.getAttribute(&quot;alltabsbutton&quot;));</span>
<a href="#l10.537"></a><span id="l10.537">       &lt;/field&gt;</span>
<a href="#l10.538"></a><span id="l10.538"> </span>
<a href="#l10.539"></a><span id="l10.539">       &lt;field name=&quot;_animateTimer&quot;&gt;null&lt;/field&gt;</span>
<a href="#l10.540"></a><span id="l10.540">       &lt;field name=&quot;_animateStep&quot;&gt;-1&lt;/field&gt;</span>
<a href="#l10.541"></a><span id="l10.541">       &lt;field name=&quot;_animateDelay&quot;&gt;25&lt;/field&gt;</span>
<a href="#l10.542"></a><span id="l10.542">       &lt;field name=&quot;_animatePercents&quot;&gt;</span>
<a href="#l10.543"></a><span id="l10.543">        [1.00, 0.85, 0.80, 0.75, 0.71, 0.68, 0.65, 0.62, 0.59, 0.57,</span>
<a href="#l10.544"></a><span id="l10.544">         0.54, 0.52, 0.50, 0.47, 0.45, 0.44, 0.42, 0.40, 0.38, 0.37,</span>
<a href="#l10.545"></a><span id="l10.545" class="difflineat">@@ -1999,36 +1970,35 @@</span>
<a href="#l10.546"></a><span id="l10.546">                 return i;         </span>
<a href="#l10.547"></a><span id="l10.547">           }          </span>
<a href="#l10.548"></a><span id="l10.548">          </span>
<a href="#l10.549"></a><span id="l10.549">            return tabs.length;           </span>
<a href="#l10.550"></a><span id="l10.550">         ]]&gt;&lt;/body&gt;</span>
<a href="#l10.551"></a><span id="l10.551">       &lt;/method&gt;        </span>
<a href="#l10.552"></a><span id="l10.552">     &lt;/implementation&gt;</span>
<a href="#l10.553"></a><span id="l10.553">     &lt;handlers&gt;</span>
<a href="#l10.554"></a><span id="l10.554" class="difflineplus">+      &lt;handler event=&quot;select&quot;&gt;&lt;![CDATA[</span>
<a href="#l10.555"></a><span id="l10.555" class="difflineplus">+          if (!('updateCurrentTab' in this.tabmail) ||</span>
<a href="#l10.556"></a><span id="l10.556" class="difflineplus">+              event.target.localName != 'tabs')</span>
<a href="#l10.557"></a><span id="l10.557" class="difflineplus">+            return;</span>
<a href="#l10.558"></a><span id="l10.558" class="difflineplus">+</span>
<a href="#l10.559"></a><span id="l10.559" class="difflineplus">+          this.tabmail.updateCurrentTab();</span>
<a href="#l10.560"></a><span id="l10.560" class="difflineplus">+      ]]&gt;&lt;/handler&gt;</span>
<a href="#l10.561"></a><span id="l10.561">       &lt;handler event=&quot;TabSelect&quot; action=&quot;this._handleTabSelect();&quot;/&gt;</span>
<a href="#l10.562"></a><span id="l10.562" class="difflineminus">-      &lt;handler event=&quot;mouseover&quot;&gt;&lt;![CDATA[</span>
<a href="#l10.563"></a><span id="l10.563" class="difflineminus">-        if (event.originalTarget == this.mAllTabsButton) {</span>
<a href="#l10.564"></a><span id="l10.564" class="difflineminus">-          this.mAllTabsButton</span>
<a href="#l10.565"></a><span id="l10.565" class="difflineminus">-              .setAttribute(&quot;tooltiptext&quot;,</span>
<a href="#l10.566"></a><span id="l10.566" class="difflineminus">-                            this.mAllTabsButton.getAttribute(&quot;tooltipstring&quot;));</span>
<a href="#l10.567"></a><span id="l10.567" class="difflineminus">-        }</span>
<a href="#l10.568"></a><span id="l10.568" class="difflineminus">-        else</span>
<a href="#l10.569"></a><span id="l10.569" class="difflineminus">-          this.mAllTabsButton.removeAttribute(&quot;tooltiptext&quot;);</span>
<a href="#l10.570"></a><span id="l10.570" class="difflineminus">-      ]]&gt;&lt;/handler&gt;</span>
<a href="#l10.571"></a><span id="l10.571">       &lt;handler event=&quot;dragstart&quot;&gt;&lt;![CDATA[          </span>
<a href="#l10.572"></a><span id="l10.572">         let draggedTab = this._getDragTargetTab(event);</span>
<a href="#l10.573"></a><span id="l10.573">         </span>
<a href="#l10.574"></a><span id="l10.574">         if (!draggedTab)</span>
<a href="#l10.575"></a><span id="l10.575">           return;  </span>
<a href="#l10.576"></a><span id="l10.576"> </span>
<a href="#l10.577"></a><span id="l10.577">         let tab = this.tabmail.selectedTab;</span>
<a href="#l10.578"></a><span id="l10.578">         </span>
<a href="#l10.579"></a><span id="l10.579">         if (!tab || !tab.canClose)</span>
<a href="#l10.580"></a><span id="l10.580">           return;</span>
<a href="#l10.581"></a><span id="l10.581" class="difflineplus">+</span>
<a href="#l10.582"></a><span id="l10.582">                                           </span>
<a href="#l10.583"></a><span id="l10.583">         let dt = event.dataTransfer;</span>
<a href="#l10.584"></a><span id="l10.584">         </span>
<a href="#l10.585"></a><span id="l10.585">         // If we drag within the same window, we use the tab directly</span>
<a href="#l10.586"></a><span id="l10.586">         dt.mozSetDataAt(&quot;application/x-moz-tabmail-tab&quot;, draggedTab, 0);</span>
<a href="#l10.587"></a><span id="l10.587">         </span>
<a href="#l10.588"></a><span id="l10.588">         // otherwise we use session restore &amp; JSON to migrate the tab.        </span>
<a href="#l10.589"></a><span id="l10.589">         let uri = this.tabmail.persistTab(tab);</span>
<a href="#l10.590"></a><span id="l10.590" class="difflineat">@@ -2070,24 +2040,42 @@</span>
<a href="#l10.591"></a><span id="l10.591"> </span>
<a href="#l10.592"></a><span id="l10.592">         var dt = event.dataTransfer;</span>
<a href="#l10.593"></a><span id="l10.593">         dt.setDragImage(thumbnail, 0, 0);        </span>
<a href="#l10.594"></a><span id="l10.594">                 </span>
<a href="#l10.595"></a><span id="l10.595">         event.stopPropagation();        </span>
<a href="#l10.596"></a><span id="l10.596">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l10.597"></a><span id="l10.597">       &lt;handler event=&quot;dragover&quot;&gt;&lt;![CDATA[</span>
<a href="#l10.598"></a><span id="l10.598">         let dt = event.dataTransfer;</span>
<a href="#l10.599"></a><span id="l10.599" class="difflineminus">-        </span>
<a href="#l10.600"></a><span id="l10.600" class="difflineplus">+</span>
<a href="#l10.601"></a><span id="l10.601">         if (dt.mozItemCount == 0)</span>
<a href="#l10.602"></a><span id="l10.602">           return;</span>
<a href="#l10.603"></a><span id="l10.603" class="difflineminus">-                </span>
<a href="#l10.604"></a><span id="l10.604" class="difflineplus">+</span>
<a href="#l10.605"></a><span id="l10.605" class="difflineplus">+        if (dt.mozGetDataAt(&quot;text/toolbarwrapper-id/messengerWindow&quot;, 0)</span>
<a href="#l10.606"></a><span id="l10.606" class="difflineplus">+            != null) {</span>
<a href="#l10.607"></a><span id="l10.607" class="difflineplus">+          event.preventDefault();</span>
<a href="#l10.608"></a><span id="l10.608" class="difflineplus">+          event.stopPropagation();</span>
<a href="#l10.609"></a><span id="l10.609" class="difflineplus">+</span>
<a href="#l10.610"></a><span id="l10.610" class="difflineplus">+          // Dispatch event to the toolbar</span>
<a href="#l10.611"></a><span id="l10.611" class="difflineplus">+          let evt = document.createEvent(&quot;DragEvents&quot;);</span>
<a href="#l10.612"></a><span id="l10.612" class="difflineplus">+          evt.initDragEvent(&quot;dragover&quot;, true, true, window, 0, 0, 0, 0, 0,</span>
<a href="#l10.613"></a><span id="l10.613" class="difflineplus">+                            false, false, false, false, 0, null,</span>
<a href="#l10.614"></a><span id="l10.614" class="difflineplus">+                            event.dataTransfer);</span>
<a href="#l10.615"></a><span id="l10.615" class="difflineplus">+</span>
<a href="#l10.616"></a><span id="l10.616" class="difflineplus">+          if (this.mToolbar.firstChild)</span>
<a href="#l10.617"></a><span id="l10.617" class="difflineplus">+            this.mToolbar.firstChild.dispatchEvent(evt);</span>
<a href="#l10.618"></a><span id="l10.618" class="difflineplus">+          else</span>
<a href="#l10.619"></a><span id="l10.619" class="difflineplus">+            this.mToolbar.dispatchEvent(evt);</span>
<a href="#l10.620"></a><span id="l10.620" class="difflineplus">+</span>
<a href="#l10.621"></a><span id="l10.621" class="difflineplus">+          return;</span>
<a href="#l10.622"></a><span id="l10.622" class="difflineplus">+        }</span>
<a href="#l10.623"></a><span id="l10.623" class="difflineplus">+</span>
<a href="#l10.624"></a><span id="l10.624">         // Bug 516247:</span>
<a href="#l10.625"></a><span id="l10.625">         // incase the user is dragging something else than a tab, and</span>
<a href="#l10.626"></a><span id="l10.626">         // keeps hovering over a tab, we assume he wants to switch to this tab. </span>
<a href="#l10.627"></a><span id="l10.627" class="difflineminus">-        </span>
<a href="#l10.628"></a><span id="l10.628">         if ((dt.mozTypesAt(0)[0] != &quot;application/x-moz-tabmail-tab&quot;)</span>
<a href="#l10.629"></a><span id="l10.629">             &amp;&amp; (dt.mozTypesAt(0)[1] != &quot;application/x-moz-tabmail-json&quot;))  {</span>
<a href="#l10.630"></a><span id="l10.630">           </span>
<a href="#l10.631"></a><span id="l10.631">           let tab = this._getDragTargetTab(event); </span>
<a href="#l10.632"></a><span id="l10.632">          </span>
<a href="#l10.633"></a><span id="l10.633">           if (!tab)</span>
<a href="#l10.634"></a><span id="l10.634">             return;</span>
<a href="#l10.635"></a><span id="l10.635">           </span>
<a href="#l10.636"></a><span id="l10.636" class="difflineat">@@ -2204,16 +2192,40 @@</span>
<a href="#l10.637"></a><span id="l10.637">         ind.style.MozMarginStart = (-ind.clientWidth) + &quot;px&quot;;</span>
<a href="#l10.638"></a><span id="l10.638">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l10.639"></a><span id="l10.639">       &lt;handler event=&quot;drop&quot;&gt;&lt;![CDATA[</span>
<a href="#l10.640"></a><span id="l10.640">         let dt = event.dataTransfer;</span>
<a href="#l10.641"></a><span id="l10.641">     </span>
<a href="#l10.642"></a><span id="l10.642">         if (dt.mozItemCount != 1)</span>
<a href="#l10.643"></a><span id="l10.643">           return;</span>
<a href="#l10.644"></a><span id="l10.644">         </span>
<a href="#l10.645"></a><span id="l10.645" class="difflineplus">+</span>
<a href="#l10.646"></a><span id="l10.646" class="difflineplus">+        /* If we're dragging a toolbar button, let's prepend the tabs toolbar</span>
<a href="#l10.647"></a><span id="l10.647" class="difflineplus">+         * with that button, and then bail out.</span>
<a href="#l10.648"></a><span id="l10.648" class="difflineplus">+         */</span>
<a href="#l10.649"></a><span id="l10.649" class="difflineplus">+        let buttonId = dt.mozGetDataAt(&quot;text/toolbarwrapper-id/messengerWindow&quot;, 0);</span>
<a href="#l10.650"></a><span id="l10.650" class="difflineplus">+</span>
<a href="#l10.651"></a><span id="l10.651" class="difflineplus">+        if (buttonId != null) {</span>
<a href="#l10.652"></a><span id="l10.652" class="difflineplus">+          event.preventDefault();</span>
<a href="#l10.653"></a><span id="l10.653" class="difflineplus">+          event.stopPropagation();</span>
<a href="#l10.654"></a><span id="l10.654" class="difflineplus">+</span>
<a href="#l10.655"></a><span id="l10.655" class="difflineplus">+          let evt = document.createEvent(&quot;DragEvents&quot;);</span>
<a href="#l10.656"></a><span id="l10.656" class="difflineplus">+          evt.initDragEvent(&quot;drop&quot;, true, true, window, 0, 0, 0, 0, 0,</span>
<a href="#l10.657"></a><span id="l10.657" class="difflineplus">+                            false, false, false, false, 0, null,</span>
<a href="#l10.658"></a><span id="l10.658" class="difflineplus">+                            event.dataTransfer);</span>
<a href="#l10.659"></a><span id="l10.659" class="difflineplus">+</span>
<a href="#l10.660"></a><span id="l10.660" class="difflineplus">+          if (this.mToolbar.firstChild)</span>
<a href="#l10.661"></a><span id="l10.661" class="difflineplus">+            this.mToolbar.firstChild.dispatchEvent(evt);</span>
<a href="#l10.662"></a><span id="l10.662" class="difflineplus">+          else</span>
<a href="#l10.663"></a><span id="l10.663" class="difflineplus">+            this.mToolbar.dispatchEvent(evt);</span>
<a href="#l10.664"></a><span id="l10.664" class="difflineplus">+</span>
<a href="#l10.665"></a><span id="l10.665" class="difflineplus">+          return;</span>
<a href="#l10.666"></a><span id="l10.666" class="difflineplus">+        }</span>
<a href="#l10.667"></a><span id="l10.667" class="difflineplus">+</span>
<a href="#l10.668"></a><span id="l10.668" class="difflineplus">+</span>
<a href="#l10.669"></a><span id="l10.669">         let draggedTab = dt.mozGetDataAt(&quot;application/x-moz-tabmail-tab&quot;,0);</span>
<a href="#l10.670"></a><span id="l10.670">         </span>
<a href="#l10.671"></a><span id="l10.671">         if (!draggedTab)</span>
<a href="#l10.672"></a><span id="l10.672">           return;</span>
<a href="#l10.673"></a><span id="l10.673">         </span>
<a href="#l10.674"></a><span id="l10.674">         event.stopPropagation();        </span>
<a href="#l10.675"></a><span id="l10.675">         this._tabDropIndicator.collapsed = true;</span>
<a href="#l10.676"></a><span id="l10.676"> </span>
<a href="#l10.677"></a><span id="l10.677" class="difflineat">@@ -2303,24 +2315,17 @@</span>
<a href="#l10.678"></a><span id="l10.678">         this._dragTime = 0;</span>
<a href="#l10.679"></a><span id="l10.679">         </span>
<a href="#l10.680"></a><span id="l10.680">         this._tabDropIndicator.collapsed = true;                </span>
<a href="#l10.681"></a><span id="l10.681">         event.stopPropagation();</span>
<a href="#l10.682"></a><span id="l10.682">         </span>
<a href="#l10.683"></a><span id="l10.683">       ]]&gt;&lt;/handler&gt;      </span>
<a href="#l10.684"></a><span id="l10.684">     &lt;/handlers&gt;</span>
<a href="#l10.685"></a><span id="l10.685">   &lt;/binding&gt;</span>
<a href="#l10.686"></a><span id="l10.686" class="difflineminus">-  </span>
<a href="#l10.687"></a><span id="l10.687" class="difflineminus">-  &lt;!-- alltabs-popup binding</span>
<a href="#l10.688"></a><span id="l10.688" class="difflineminus">-       This binding relies on the structure of the tabbrowser binding.</span>
<a href="#l10.689"></a><span id="l10.689" class="difflineminus">-       Therefore it should only be used as a child of the tabs element.</span>
<a href="#l10.690"></a><span id="l10.690" class="difflineminus">-       This binding is exposed as a pseudo-public-API so themes can customize</span>
<a href="#l10.691"></a><span id="l10.691" class="difflineminus">-       the tabbar appearance without having to be scriptable</span>
<a href="#l10.692"></a><span id="l10.692" class="difflineminus">-       (see globalBindings.xml in Pinstripe for example).</span>
<a href="#l10.693"></a><span id="l10.693" class="difflineminus">-  --&gt;</span>
<a href="#l10.694"></a><span id="l10.694" class="difflineplus">+</span>
<a href="#l10.695"></a><span id="l10.695">   &lt;binding id=&quot;tabmail-alltabs-popup&quot;</span>
<a href="#l10.696"></a><span id="l10.696">            extends=&quot;chrome://global/content/bindings/popup.xml#popup&quot;&gt;</span>
<a href="#l10.697"></a><span id="l10.697">     &lt;implementation implements=&quot;nsIDOMEventListener&quot;&gt;</span>
<a href="#l10.698"></a><span id="l10.698">       &lt;field name=&quot;_xulWindow&quot;&gt;</span>
<a href="#l10.699"></a><span id="l10.699">         null</span>
<a href="#l10.700"></a><span id="l10.700">       &lt;/field&gt;</span>
<a href="#l10.701"></a><span id="l10.701"> </span>
<a href="#l10.702"></a><span id="l10.702">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l10.703"></a><span id="l10.703" class="difflineat">@@ -2336,17 +2341,18 @@</span>
<a href="#l10.704"></a><span id="l10.704">                   .getInterface(Components.interfaces.nsIXULWindow);</span>
<a href="#l10.705"></a><span id="l10.705">         }</span>
<a href="#l10.706"></a><span id="l10.706">         catch(ex) { }</span>
<a href="#l10.707"></a><span id="l10.707">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l10.708"></a><span id="l10.708"> </span>
<a href="#l10.709"></a><span id="l10.709">       &lt;method name=&quot;_menuItemOnCommand&quot;&gt;</span>
<a href="#l10.710"></a><span id="l10.710">         &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l10.711"></a><span id="l10.711">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l10.712"></a><span id="l10.712" class="difflineminus">-          var tabcontainer = document.getBindingParent(this);</span>
<a href="#l10.713"></a><span id="l10.713" class="difflineplus">+          var tabcontainer = document.getElementById('tabmail')</span>
<a href="#l10.714"></a><span id="l10.714" class="difflineplus">+                                     .tabContainer;</span>
<a href="#l10.715"></a><span id="l10.715">           tabcontainer.selectedItem = aEvent.target.tab;</span>
<a href="#l10.716"></a><span id="l10.716">         ]]&gt;&lt;/body&gt;</span>
<a href="#l10.717"></a><span id="l10.717">       &lt;/method&gt;</span>
<a href="#l10.718"></a><span id="l10.718"> </span>
<a href="#l10.719"></a><span id="l10.719">       &lt;method name=&quot;_tabOnAttrModified&quot;&gt;</span>
<a href="#l10.720"></a><span id="l10.720">         &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l10.721"></a><span id="l10.721">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l10.722"></a><span id="l10.722">           var menuItem = aEvent.target.mCorrespondingMenuitem;</span>
<a href="#l10.723"></a><span id="l10.723" class="difflineat">@@ -2399,17 +2405,17 @@</span>
<a href="#l10.724"></a><span id="l10.724">               this._updateTabsVisibilityStatus();</span>
<a href="#l10.725"></a><span id="l10.725">               break;</span>
<a href="#l10.726"></a><span id="l10.726">           }</span>
<a href="#l10.727"></a><span id="l10.727">         ]]&gt;&lt;/body&gt;</span>
<a href="#l10.728"></a><span id="l10.728">       &lt;/method&gt;</span>
<a href="#l10.729"></a><span id="l10.729"> </span>
<a href="#l10.730"></a><span id="l10.730">       &lt;method name=&quot;_updateTabsVisibilityStatus&quot;&gt;</span>
<a href="#l10.731"></a><span id="l10.731">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l10.732"></a><span id="l10.732" class="difflineminus">-          var tabContainer = document.getBindingParent(this);</span>
<a href="#l10.733"></a><span id="l10.733" class="difflineplus">+          var tabContainer = document.getElementById('tabmail').tabContainer;</span>
<a href="#l10.734"></a><span id="l10.734">           // We don't want menu item decoration unless there is overflow.</span>
<a href="#l10.735"></a><span id="l10.735">           if (tabContainer.getAttribute(&quot;overflow&quot;) != &quot;true&quot;)</span>
<a href="#l10.736"></a><span id="l10.736">             return;</span>
<a href="#l10.737"></a><span id="l10.737"> </span>
<a href="#l10.738"></a><span id="l10.738">           var tabstripBO = tabContainer.mTabstrip.scrollBoxObject;</span>
<a href="#l10.739"></a><span id="l10.739">           for (var i = 0; i &lt; this.childNodes.length; i++) {</span>
<a href="#l10.740"></a><span id="l10.740">             var curTabBO = this.childNodes[i].tab.boxObject;</span>
<a href="#l10.741"></a><span id="l10.741">             if (curTabBO.screenX &gt;= tabstripBO.screenX &amp;&amp;</span>
<a href="#l10.742"></a><span id="l10.742" class="difflineat">@@ -2452,22 +2458,22 @@</span>
<a href="#l10.743"></a><span id="l10.743">         ]]&gt;&lt;/body&gt;</span>
<a href="#l10.744"></a><span id="l10.744">       &lt;/method&gt;</span>
<a href="#l10.745"></a><span id="l10.745">     &lt;/implementation&gt;</span>
<a href="#l10.746"></a><span id="l10.746"> </span>
<a href="#l10.747"></a><span id="l10.747">     &lt;handlers&gt;</span>
<a href="#l10.748"></a><span id="l10.748">       &lt;handler event=&quot;popupshowing&quot;&gt;</span>
<a href="#l10.749"></a><span id="l10.749">       &lt;![CDATA[</span>
<a href="#l10.750"></a><span id="l10.750">         // set up the menu popup</span>
<a href="#l10.751"></a><span id="l10.751" class="difflineminus">-        var tabcontainer = document.getBindingParent(this);</span>
<a href="#l10.752"></a><span id="l10.752" class="difflineplus">+        let tabmail = document.getElementById('tabmail');</span>
<a href="#l10.753"></a><span id="l10.753" class="difflineplus">+        var tabcontainer = tabmail.tabContainer;</span>
<a href="#l10.754"></a><span id="l10.754">         var tabs = tabcontainer.childNodes;</span>
<a href="#l10.755"></a><span id="l10.755"> </span>
<a href="#l10.756"></a><span id="l10.756">         // Listen for changes in the tab bar.</span>
<a href="#l10.757"></a><span id="l10.757" class="difflineminus">-        var tabbrowser = document.getBindingParent(tabcontainer);</span>
<a href="#l10.758"></a><span id="l10.758" class="difflineminus">-        tabbrowser.addEventListener(&quot;TabOpen&quot;, this, false);</span>
<a href="#l10.759"></a><span id="l10.759" class="difflineplus">+        tabmail.addEventListener(&quot;TabOpen&quot;, this, false);</span>
<a href="#l10.760"></a><span id="l10.760">         tabcontainer.mTabstrip.addEventListener(&quot;scroll&quot;, this, false);</span>
<a href="#l10.761"></a><span id="l10.761"> </span>
<a href="#l10.762"></a><span id="l10.762">         // if an animation is in progress and the user</span>
<a href="#l10.763"></a><span id="l10.763">         // clicks on the &quot;all tabs&quot; button, stop the animation</span>
<a href="#l10.764"></a><span id="l10.764">         tabcontainer._stopAnimation();</span>
<a href="#l10.765"></a><span id="l10.765"> </span>
<a href="#l10.766"></a><span id="l10.766">         for (var i = 0; i &lt; tabs.length; i++) {</span>
<a href="#l10.767"></a><span id="l10.767">           this._createTabMenuItem(tabs[i]);</span>
<a href="#l10.768"></a><span id="l10.768" class="difflineat">@@ -2481,37 +2487,36 @@</span>
<a href="#l10.769"></a><span id="l10.769">         while (this.hasChildNodes()) {</span>
<a href="#l10.770"></a><span id="l10.770">           var menuItem = this.lastChild;</span>
<a href="#l10.771"></a><span id="l10.771">           menuItem.removeEventListener(&quot;command&quot;, this, false);</span>
<a href="#l10.772"></a><span id="l10.772">           menuItem.tab.removeEventListener(&quot;DOMAttrModified&quot;, this, false);</span>
<a href="#l10.773"></a><span id="l10.773">           menuItem.tab.removeEventListener(&quot;TabClose&quot;, this, false);</span>
<a href="#l10.774"></a><span id="l10.774">           menuItem.tab.mCorrespondingMenuitem = null;</span>
<a href="#l10.775"></a><span id="l10.775">           this.removeChild(menuItem);</span>
<a href="#l10.776"></a><span id="l10.776">         }</span>
<a href="#l10.777"></a><span id="l10.777" class="difflineminus">-        var tabcontainer = document.getBindingParent(this);</span>
<a href="#l10.778"></a><span id="l10.778" class="difflineplus">+        var tabcontainer = document.getElementById('tabmail').tabContainer;</span>
<a href="#l10.779"></a><span id="l10.779">         tabcontainer.mTabstrip.removeEventListener(&quot;scroll&quot;, this, false);</span>
<a href="#l10.780"></a><span id="l10.780" class="difflineminus">-        document.getBindingParent(tabcontainer).removeEventListener(&quot;TabOpen&quot;, this, false);</span>
<a href="#l10.781"></a><span id="l10.781" class="difflineplus">+        tabcontainer.tabmail.removeEventListener(&quot;TabOpen&quot;, this, false);</span>
<a href="#l10.782"></a><span id="l10.782">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l10.783"></a><span id="l10.783">     &lt;/handlers&gt;</span>
<a href="#l10.784"></a><span id="l10.784">   &lt;/binding&gt;</span>
<a href="#l10.785"></a><span id="l10.785">   &lt;!-- close-tab-button binding</span>
<a href="#l10.786"></a><span id="l10.786" class="difflineminus">-       This binding relies on the structure of the tabbrowser binding.</span>
<a href="#l10.787"></a><span id="l10.787" class="difflineplus">+       This binding relies on the structure of the tabmail-tabs binding.</span>
<a href="#l10.788"></a><span id="l10.788">        Therefore it should only be used as a child of the tab or the tabs</span>
<a href="#l10.789"></a><span id="l10.789" class="difflineminus">-       element (in both cases, when they are anonymous nodes of &lt;tabbrowser&gt;).</span>
<a href="#l10.790"></a><span id="l10.790" class="difflineminus">-       This binding is exposed as a pseudo-public-API so themes can customize</span>
<a href="#l10.791"></a><span id="l10.791" class="difflineminus">-       the tabbar appearance without having to be scriptable</span>
<a href="#l10.792"></a><span id="l10.792" class="difflineplus">+       element.  This binding is exposed as a pseudo-public-API so themes</span>
<a href="#l10.793"></a><span id="l10.793" class="difflineplus">+       can customize the tabbar appearance without having to be scriptable</span>
<a href="#l10.794"></a><span id="l10.794">        (see globalBindings.xml in Pinstripe for example).</span>
<a href="#l10.795"></a><span id="l10.795">   --&gt;</span>
<a href="#l10.796"></a><span id="l10.796">   &lt;binding id=&quot;tabmail-close-tab-button&quot;</span>
<a href="#l10.797"></a><span id="l10.797">            extends=&quot;chrome://global/content/bindings/toolbarbutton.xml#toolbarbutton-image&quot;&gt;</span>
<a href="#l10.798"></a><span id="l10.798">     &lt;handlers&gt;</span>
<a href="#l10.799"></a><span id="l10.799">       &lt;handler event=&quot;click&quot; button=&quot;0&quot;&gt;&lt;![CDATA[</span>
<a href="#l10.800"></a><span id="l10.800">         var bindingParent = document.getBindingParent(this);</span>
<a href="#l10.801"></a><span id="l10.801">         if (bindingParent) {</span>
<a href="#l10.802"></a><span id="l10.802" class="difflineminus">-          var tabbedBrowser = document.getBindingParent(bindingParent);</span>
<a href="#l10.803"></a><span id="l10.803" class="difflineplus">+          var tabbedBrowser = document.getElementById('tabmail');</span>
<a href="#l10.804"></a><span id="l10.804">           if (bindingParent.localName == &quot;tab&quot;) {</span>
<a href="#l10.805"></a><span id="l10.805">             /* The only sequence in which a second click event (i.e. dblclik)</span>
<a href="#l10.806"></a><span id="l10.806">              * can be dispatched on an in-tab close button is when it is shown</span>
<a href="#l10.807"></a><span id="l10.807">              * after the first click (i.e. the first click event was dispatched</span>
<a href="#l10.808"></a><span id="l10.808">              * on the tab). This happens when we show the close button only on</span>
<a href="#l10.809"></a><span id="l10.809">              * the active tab. (bug 352021)</span>
<a href="#l10.810"></a><span id="l10.810">              * The only sequence in which a third click event can be dispatched</span>
<a href="#l10.811"></a><span id="l10.811">              * on an in-tab close button is when the tab was opened with a</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/base/content/webSearchTab.xul</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/base/content/webSearchTab.xul</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -47,28 +47,33 @@</span>
<a href="#l11.4"></a><span id="l11.4">   &lt;commandset id=&quot;webSearchItems&quot; commandupdater=&quot;true&quot;&gt;</span>
<a href="#l11.5"></a><span id="l11.5">     &lt;command id=&quot;cmd_goBackSearch&quot; oncommand=&quot;goDoCommand('cmd_goBackSearch')&quot;/&gt;</span>
<a href="#l11.6"></a><span id="l11.6">     &lt;command id=&quot;cmd_goForwardSearch&quot; oncommand=&quot;goDoCommand('cmd_goForwardSearch')&quot;/&gt;</span>
<a href="#l11.7"></a><span id="l11.7">   &lt;/commandset&gt;</span>
<a href="#l11.8"></a><span id="l11.8"> </span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10">   &lt;!--We want to enable browser history, and at least the Go menu--&gt;</span>
<a href="#l11.11"></a><span id="l11.11">   &lt;browser id=&quot;dummycontentbrowser&quot; type=&quot;content&quot; disablehistory=&quot;false&quot;/&gt;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-  &lt;tabmail id=&quot;tabmail&quot;&gt;</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+  &lt;hbox id=&quot;tabmail-container&quot;&gt;</span>
<a href="#l11.14"></a><span id="l11.14">     &lt;vbox id=&quot;webSearchTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-      &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineminus">-        &lt;vbox class=&quot;navbar&quot;&gt;</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-          &lt;vbox class=&quot;navbuttons&quot;&gt;</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineminus">-            &lt;toolbarbutton class=&quot;back&quot; command=&quot;cmd_goBackSearch&quot;/&gt;</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineminus">-            &lt;toolbarbutton class=&quot;forward&quot; command=&quot;cmd_goForwardSearch&quot;/&gt;</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineplus">+      &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineplus">+        &lt;toolbox id=&quot;dummycontenttoolbox&quot; class=&quot;contentTabToolbox&quot;&gt;</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+          &lt;toolbar id=&quot;dummycontenttoolbar&quot; class=&quot;contentTabToolbar&quot;&gt;&lt;/toolbar&gt;</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+        &lt;/toolbox&gt;</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+        &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineplus">+          &lt;vbox class=&quot;navbar&quot;&gt;</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineplus">+            &lt;vbox class=&quot;navbuttons&quot;&gt;</span>
<a href="#l11.27"></a><span id="l11.27" class="difflineplus">+              &lt;toolbarbutton class=&quot;back&quot; command=&quot;cmd_goBackSearch&quot;/&gt;</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineplus">+              &lt;toolbarbutton class=&quot;forward&quot; command=&quot;cmd_goForwardSearch&quot;/&gt;</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineplus">+            &lt;/vbox&gt;</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineplus">+            &lt;arrowscrollbox class=&quot;engines&quot; orient=&quot;vertical&quot;</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineplus">+                            flex=&quot;1&quot;/&gt;</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+            &lt;button class=&quot;defaultButton&quot; type=&quot;checkbox&quot;/&gt;</span>
<a href="#l11.33"></a><span id="l11.33">           &lt;/vbox&gt;</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineminus">-          &lt;arrowscrollbox class=&quot;engines&quot; orient=&quot;vertical&quot;</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineminus">-                          flex=&quot;1&quot;/&gt;</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineminus">-          &lt;button class=&quot;defaultButton&quot; type=&quot;checkbox&quot;/&gt;</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineminus">-        &lt;/vbox&gt;</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineminus">-        &lt;browser id=&quot;dummycontentbrowser&quot; type=&quot;content-targetable&quot; flex=&quot;1&quot;</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineminus">-                 disablehistory=&quot;true&quot; autocompletepopup=&quot;PopupAutoComplete&quot;</span>
<a href="#l11.40"></a><span id="l11.40" class="difflineminus">-                 context=&quot;mailContext&quot;/&gt;</span>
<a href="#l11.41"></a><span id="l11.41" class="difflineminus">-        &lt;findbar browserid=&quot;dummycontentbrowser&quot;/&gt;</span>
<a href="#l11.42"></a><span id="l11.42" class="difflineminus">-      &lt;/hbox&gt;</span>
<a href="#l11.43"></a><span id="l11.43" class="difflineplus">+          &lt;browser id=&quot;dummycontentbrowser&quot; type=&quot;content-targetable&quot; flex=&quot;1&quot;</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineplus">+                   disablehistory=&quot;true&quot; autocompletepopup=&quot;PopupAutoComplete&quot;</span>
<a href="#l11.45"></a><span id="l11.45" class="difflineplus">+                   context=&quot;mailContext&quot;/&gt;</span>
<a href="#l11.46"></a><span id="l11.46" class="difflineplus">+          &lt;findbar browserid=&quot;dummycontentbrowser&quot;/&gt;</span>
<a href="#l11.47"></a><span id="l11.47" class="difflineplus">+        &lt;/hbox&gt;</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l11.49"></a><span id="l11.49">     &lt;/vbox&gt;</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineminus">-  &lt;/tabmail&gt;</span>
<a href="#l11.51"></a><span id="l11.51" class="difflineplus">+  &lt;/hbox&gt;</span>
<a href="#l11.52"></a><span id="l11.52"> &lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1">new file mode 100644</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineminus">--- /dev/null</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineplus">+++ b/mail/test/mozmill/tabmail/test-tabmail-customize.js</span>
<a href="#l12.4"></a><span id="l12.4" class="difflineat">@@ -0,0 +1,184 @@</span>
<a href="#l12.5"></a><span id="l12.5" class="difflineplus">+/* ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l12.6"></a><span id="l12.6" class="difflineplus">+ * Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l12.7"></a><span id="l12.7" class="difflineplus">+ *</span>
<a href="#l12.8"></a><span id="l12.8" class="difflineplus">+ * The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l12.9"></a><span id="l12.9" class="difflineplus">+ * 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l12.10"></a><span id="l12.10" class="difflineplus">+ * the License. You may obtain a copy of the License at</span>
<a href="#l12.11"></a><span id="l12.11" class="difflineplus">+ * http://www.mozilla.org/MPL/</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+ *</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+ * Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+ * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineplus">+ * for the specific language governing rights and limitations under the</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineplus">+ * License.</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineplus">+ *</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineplus">+ * The Original Code is mozilla.org code.</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineplus">+ *</span>
<a href="#l12.20"></a><span id="l12.20" class="difflineplus">+ * The Initial Developer of the Original Code is</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineplus">+ * the Mozilla Foundation.</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineplus">+ * Portions created by the Initial Developer are Copyright (C) 2011</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineplus">+ * the Initial Developer. All Rights Reserved.</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineplus">+ *</span>
<a href="#l12.25"></a><span id="l12.25" class="difflineplus">+ * Contributor(s):</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineplus">+ *   Mike Conley &lt;mconley@mozilla.com&gt;</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineplus">+ *</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineplus">+ * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l12.29"></a><span id="l12.29" class="difflineplus">+ * either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineplus">+ * the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l12.31"></a><span id="l12.31" class="difflineplus">+ * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l12.32"></a><span id="l12.32" class="difflineplus">+ * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineplus">+ * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l12.34"></a><span id="l12.34" class="difflineplus">+ * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l12.35"></a><span id="l12.35" class="difflineplus">+ * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l12.36"></a><span id="l12.36" class="difflineplus">+ * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineplus">+ * the provisions above, a recipient may use your version of this file under</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineplus">+ * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l12.39"></a><span id="l12.39" class="difflineplus">+ *</span>
<a href="#l12.40"></a><span id="l12.40" class="difflineplus">+ * ***** END LICENSE BLOCK ***** */</span>
<a href="#l12.41"></a><span id="l12.41" class="difflineplus">+</span>
<a href="#l12.42"></a><span id="l12.42" class="difflineplus">+/*</span>
<a href="#l12.43"></a><span id="l12.43" class="difflineplus">+ * Tests customization features of the tabs toolbar.</span>
<a href="#l12.44"></a><span id="l12.44" class="difflineplus">+ */</span>
<a href="#l12.45"></a><span id="l12.45" class="difflineplus">+</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineplus">+var MODULE_NAME = &quot;test-tabmail-customize&quot;;</span>
<a href="#l12.47"></a><span id="l12.47" class="difflineplus">+</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineplus">+var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l12.49"></a><span id="l12.49" class="difflineplus">+var MODULE_REQUIRES = ['folder-display-helpers', 'mouse-event-helpers',</span>
<a href="#l12.50"></a><span id="l12.50" class="difflineplus">+                       'window-helpers'];</span>
<a href="#l12.51"></a><span id="l12.51" class="difflineplus">+</span>
<a href="#l12.52"></a><span id="l12.52" class="difflineplus">+const USE_SHEET_PREF = &quot;toolbar.customization.usesheet&quot;;</span>
<a href="#l12.53"></a><span id="l12.53" class="difflineplus">+</span>
<a href="#l12.54"></a><span id="l12.54" class="difflineplus">+let controller = {};</span>
<a href="#l12.55"></a><span id="l12.55" class="difflineplus">+Cu.import('resource://mozmill/modules/controller.js', controller);</span>
<a href="#l12.56"></a><span id="l12.56" class="difflineplus">+</span>
<a href="#l12.57"></a><span id="l12.57" class="difflineplus">+function setupModule(module) {</span>
<a href="#l12.58"></a><span id="l12.58" class="difflineplus">+  let fdh = collector.getModule('folder-display-helpers');</span>
<a href="#l12.59"></a><span id="l12.59" class="difflineplus">+  fdh.installInto(module);</span>
<a href="#l12.60"></a><span id="l12.60" class="difflineplus">+  let meh = collector.getModule('mouse-event-helpers');</span>
<a href="#l12.61"></a><span id="l12.61" class="difflineplus">+  meh.installInto(module);</span>
<a href="#l12.62"></a><span id="l12.62" class="difflineplus">+  let wh = collector.getModule('window-helpers');</span>
<a href="#l12.63"></a><span id="l12.63" class="difflineplus">+  wh.installInto(module);</span>
<a href="#l12.64"></a><span id="l12.64" class="difflineplus">+}</span>
<a href="#l12.65"></a><span id="l12.65" class="difflineplus">+</span>
<a href="#l12.66"></a><span id="l12.66" class="difflineplus">+function teardownModule(module) {</span>
<a href="#l12.67"></a><span id="l12.67" class="difflineplus">+  // Let's reset any and all of our changes to the toolbar</span>
<a href="#l12.68"></a><span id="l12.68" class="difflineplus">+  let ctw = open_mail_toolbox_customization_dialog(mc);</span>
<a href="#l12.69"></a><span id="l12.69" class="difflineplus">+  ctw.window.restoreDefaultSet();</span>
<a href="#l12.70"></a><span id="l12.70" class="difflineplus">+  close_mail_toolbox_customization_dialog(ctw);</span>
<a href="#l12.71"></a><span id="l12.71" class="difflineplus">+}</span>
<a href="#l12.72"></a><span id="l12.72" class="difflineplus">+</span>
<a href="#l12.73"></a><span id="l12.73" class="difflineplus">+/**</span>
<a href="#l12.74"></a><span id="l12.74" class="difflineplus">+ * Test that we can access the customize context menu by right</span>
<a href="#l12.75"></a><span id="l12.75" class="difflineplus">+ * clicking on the tabs toolbar.</span>
<a href="#l12.76"></a><span id="l12.76" class="difflineplus">+ */</span>
<a href="#l12.77"></a><span id="l12.77" class="difflineplus">+function test_open_context_menu() {</span>
<a href="#l12.78"></a><span id="l12.78" class="difflineplus">+  // First, ensure that the context menu is closed.</span>
<a href="#l12.79"></a><span id="l12.79" class="difflineplus">+  let contextPopup = mc.e('toolbar-context-menu');</span>
<a href="#l12.80"></a><span id="l12.80" class="difflineplus">+  assert_not_equals(contextPopup.state, &quot;open&quot;);</span>
<a href="#l12.81"></a><span id="l12.81" class="difflineplus">+</span>
<a href="#l12.82"></a><span id="l12.82" class="difflineplus">+  // Right click on the tab bar</span>
<a href="#l12.83"></a><span id="l12.83" class="difflineplus">+  mc.rightClick(mc.eid(&quot;tabcontainer&quot;));</span>
<a href="#l12.84"></a><span id="l12.84" class="difflineplus">+  // Ensure that the popup opened</span>
<a href="#l12.85"></a><span id="l12.85" class="difflineplus">+  assert_equals(contextPopup.state, &quot;open&quot;);</span>
<a href="#l12.86"></a><span id="l12.86" class="difflineplus">+}</span>
<a href="#l12.87"></a><span id="l12.87" class="difflineplus">+</span>
<a href="#l12.88"></a><span id="l12.88" class="difflineplus">+/**</span>
<a href="#l12.89"></a><span id="l12.89" class="difflineplus">+ * Test that, when customizing the toolbars, if the user drags an item onto</span>
<a href="#l12.90"></a><span id="l12.90" class="difflineplus">+ * the tab bar, they're redirected to the toolbar directly to the right of</span>
<a href="#l12.91"></a><span id="l12.91" class="difflineplus">+ * the tab bar.</span>
<a href="#l12.92"></a><span id="l12.92" class="difflineplus">+ */</span>
<a href="#l12.93"></a><span id="l12.93" class="difflineplus">+function test_redirects_toolbarbutton_drops() {</span>
<a href="#l12.94"></a><span id="l12.94" class="difflineplus">+  let tabbar = mc.e(&quot;tabcontainer&quot;);</span>
<a href="#l12.95"></a><span id="l12.95" class="difflineplus">+  let toolbar = mc.e(&quot;tabbar-toolbar&quot;);</span>
<a href="#l12.96"></a><span id="l12.96" class="difflineplus">+</span>
<a href="#l12.97"></a><span id="l12.97" class="difflineplus">+  // First, let's open up the customize toolbar window.</span>
<a href="#l12.98"></a><span id="l12.98" class="difflineplus">+  let ctw = open_mail_toolbox_customization_dialog(mc);</span>
<a href="#l12.99"></a><span id="l12.99" class="difflineplus">+</span>
<a href="#l12.100"></a><span id="l12.100" class="difflineplus">+  // Let's grab some items from the customize window, and try dropping</span>
<a href="#l12.101"></a><span id="l12.101" class="difflineplus">+  // them on the tab bar</span>
<a href="#l12.102"></a><span id="l12.102" class="difflineplus">+  [&quot;wrapper-button-replyall&quot;,</span>
<a href="#l12.103"></a><span id="l12.103" class="difflineplus">+   &quot;wrapper-button-replylist&quot;,</span>
<a href="#l12.104"></a><span id="l12.104" class="difflineplus">+   &quot;wrapper-button-forward&quot;,</span>
<a href="#l12.105"></a><span id="l12.105" class="difflineplus">+   &quot;wrapper-button-archive&quot;,</span>
<a href="#l12.106"></a><span id="l12.106" class="difflineplus">+  ].forEach(function(aButtonId) {</span>
<a href="#l12.107"></a><span id="l12.107" class="difflineplus">+    let button = ctw.e(aButtonId);</span>
<a href="#l12.108"></a><span id="l12.108" class="difflineplus">+</span>
<a href="#l12.109"></a><span id="l12.109" class="difflineplus">+    let dt = synthesize_drag_start(ctw.window, button, ctw.window);</span>
<a href="#l12.110"></a><span id="l12.110" class="difflineplus">+    assert_true(dt, &quot;Drag target was undefined&quot;);</span>
<a href="#l12.111"></a><span id="l12.111" class="difflineplus">+</span>
<a href="#l12.112"></a><span id="l12.112" class="difflineplus">+    synthesize_drag_over(mc.window, tabbar, dt);</span>
<a href="#l12.113"></a><span id="l12.113" class="difflineplus">+    synthesize_drop(mc.window, tabbar, dt);</span>
<a href="#l12.114"></a><span id="l12.114" class="difflineplus">+</span>
<a href="#l12.115"></a><span id="l12.115" class="difflineplus">+    // Now let's check to make sure that this button is now the first</span>
<a href="#l12.116"></a><span id="l12.116" class="difflineplus">+    // item in the tab bar toolbar.</span>
<a href="#l12.117"></a><span id="l12.117" class="difflineplus">+    assert_equals(toolbar.firstChild.id, aButtonId,</span>
<a href="#l12.118"></a><span id="l12.118" class="difflineplus">+                  &quot;Button was not added as first child!&quot;);</span>
<a href="#l12.119"></a><span id="l12.119" class="difflineplus">+  });</span>
<a href="#l12.120"></a><span id="l12.120" class="difflineplus">+</span>
<a href="#l12.121"></a><span id="l12.121" class="difflineplus">+  // Ok, now let's try to grab some toolbar buttons from mail-bar3, and</span>
<a href="#l12.122"></a><span id="l12.122" class="difflineplus">+  // make sure we can drop those on the tab bar too.</span>
<a href="#l12.123"></a><span id="l12.123" class="difflineplus">+  [&quot;button-getmsg&quot;,</span>
<a href="#l12.124"></a><span id="l12.124" class="difflineplus">+   &quot;button-newmsg&quot;,</span>
<a href="#l12.125"></a><span id="l12.125" class="difflineplus">+   &quot;button-address&quot;,</span>
<a href="#l12.126"></a><span id="l12.126" class="difflineplus">+   &quot;button-tag&quot;,</span>
<a href="#l12.127"></a><span id="l12.127" class="difflineplus">+  ].forEach(function(aButtonId) {</span>
<a href="#l12.128"></a><span id="l12.128" class="difflineplus">+    let button = mc.e(aButtonId);</span>
<a href="#l12.129"></a><span id="l12.129" class="difflineplus">+</span>
<a href="#l12.130"></a><span id="l12.130" class="difflineplus">+    let dt = synthesize_drag_start(mc.window, button, mc.window);</span>
<a href="#l12.131"></a><span id="l12.131" class="difflineplus">+    assert_true(dt, &quot;Drag target was undefined&quot;);</span>
<a href="#l12.132"></a><span id="l12.132" class="difflineplus">+</span>
<a href="#l12.133"></a><span id="l12.133" class="difflineplus">+    synthesize_drag_over(mc.window, tabbar, dt);</span>
<a href="#l12.134"></a><span id="l12.134" class="difflineplus">+    synthesize_drop(mc.window, tabbar, dt);</span>
<a href="#l12.135"></a><span id="l12.135" class="difflineplus">+</span>
<a href="#l12.136"></a><span id="l12.136" class="difflineplus">+    // Now let's check to make sure that this button is now the first</span>
<a href="#l12.137"></a><span id="l12.137" class="difflineplus">+    // item in the tab bar toolbar.</span>
<a href="#l12.138"></a><span id="l12.138" class="difflineplus">+    assert_equals(toolbar.firstChild.id, &quot;wrapper-&quot; + aButtonId,</span>
<a href="#l12.139"></a><span id="l12.139" class="difflineplus">+                  &quot;Button was not added as first child!&quot;);</span>
<a href="#l12.140"></a><span id="l12.140" class="difflineplus">+  });</span>
<a href="#l12.141"></a><span id="l12.141" class="difflineplus">+  </span>
<a href="#l12.142"></a><span id="l12.142" class="difflineplus">+  close_mail_toolbox_customization_dialog(ctw);</span>
<a href="#l12.143"></a><span id="l12.143" class="difflineplus">+}</span>
<a href="#l12.144"></a><span id="l12.144" class="difflineplus">+</span>
<a href="#l12.145"></a><span id="l12.145" class="difflineplus">+/**</span>
<a href="#l12.146"></a><span id="l12.146" class="difflineplus">+ * Open the mail-toolbox customization dialog.</span>
<a href="#l12.147"></a><span id="l12.147" class="difflineplus">+ */</span>
<a href="#l12.148"></a><span id="l12.148" class="difflineplus">+function open_mail_toolbox_customization_dialog(aController) {</span>
<a href="#l12.149"></a><span id="l12.149" class="difflineplus">+  // This is some hackery copied over from message-header/test-header-toolbar.js</span>
<a href="#l12.150"></a><span id="l12.150" class="difflineplus">+  // - we'll want to combine these two hacks at some point so we can eliminate</span>
<a href="#l12.151"></a><span id="l12.151" class="difflineplus">+  // them at the same time someday.</span>
<a href="#l12.152"></a><span id="l12.152" class="difflineplus">+  let ctc;</span>
<a href="#l12.153"></a><span id="l12.153" class="difflineplus">+  aController.click(aController.eid(&quot;CustomizeMailToolbar&quot;));</span>
<a href="#l12.154"></a><span id="l12.154" class="difflineplus">+  // Depending on preferences the customization dialog is</span>
<a href="#l12.155"></a><span id="l12.155" class="difflineplus">+  // either a normal window or embedded into a sheet.</span>
<a href="#l12.156"></a><span id="l12.156" class="difflineplus">+  if (Services.prefs.getBoolPref(USE_SHEET_PREF, true)) {</span>
<a href="#l12.157"></a><span id="l12.157" class="difflineplus">+    // XXX Sleep so the dialog has a chance to load. It seems that</span>
<a href="#l12.158"></a><span id="l12.158" class="difflineplus">+    // ewait(&quot;donebutton&quot;) does not work after the update to mozmill 1.5.4b4.</span>
<a href="#l12.159"></a><span id="l12.159" class="difflineplus">+    controller.sleep(1000);</span>
<a href="#l12.160"></a><span id="l12.160" class="difflineplus">+    let contentWindow = aController.eid(&quot;customizeToolbarSheetIFrame&quot;).node.contentWindow;</span>
<a href="#l12.161"></a><span id="l12.161" class="difflineplus">+    // This is taken from test-migration-helpers.js#128:</span>
<a href="#l12.162"></a><span id="l12.162" class="difflineplus">+    // XXX this is not my fault, but I'm not going to fix it. Just make it less</span>
<a href="#l12.163"></a><span id="l12.163" class="difflineplus">+    // broken:</span>
<a href="#l12.164"></a><span id="l12.164" class="difflineplus">+    // Lie to mozmill to convince it to not explode because these frames never</span>
<a href="#l12.165"></a><span id="l12.165" class="difflineplus">+    // get a mozmillDocumentLoaded attribute.</span>
<a href="#l12.166"></a><span id="l12.166" class="difflineplus">+    contentWindow.mozmillDocumentLoaded = true;</span>
<a href="#l12.167"></a><span id="l12.167" class="difflineplus">+    ctc = augment_controller(new controller.MozMillController(contentWindow));</span>
<a href="#l12.168"></a><span id="l12.168" class="difflineplus">+  }</span>
<a href="#l12.169"></a><span id="l12.169" class="difflineplus">+  else {</span>
<a href="#l12.170"></a><span id="l12.170" class="difflineplus">+    ctc = wait_for_existing_window(&quot;CustomizeToolbarWindow&quot;);</span>
<a href="#l12.171"></a><span id="l12.171" class="difflineplus">+  }</span>
<a href="#l12.172"></a><span id="l12.172" class="difflineplus">+  return ctc;</span>
<a href="#l12.173"></a><span id="l12.173" class="difflineplus">+}</span>
<a href="#l12.174"></a><span id="l12.174" class="difflineplus">+</span>
<a href="#l12.175"></a><span id="l12.175" class="difflineplus">+/**</span>
<a href="#l12.176"></a><span id="l12.176" class="difflineplus">+ * Close the mail-toolbox customization dialog.</span>
<a href="#l12.177"></a><span id="l12.177" class="difflineplus">+ */</span>
<a href="#l12.178"></a><span id="l12.178" class="difflineplus">+function close_mail_toolbox_customization_dialog(aCtc)</span>
<a href="#l12.179"></a><span id="l12.179" class="difflineplus">+{</span>
<a href="#l12.180"></a><span id="l12.180" class="difflineplus">+  // As with open_mail_toolbox_customization_dialog, this is hackery copied</span>
<a href="#l12.181"></a><span id="l12.181" class="difflineplus">+  // over from message-header/test-header-toolbar.js.</span>
<a href="#l12.182"></a><span id="l12.182" class="difflineplus">+  aCtc.click(aCtc.eid(&quot;donebutton&quot;));</span>
<a href="#l12.183"></a><span id="l12.183" class="difflineplus">+  // XXX There should be an equivalent for testing the closure of</span>
<a href="#l12.184"></a><span id="l12.184" class="difflineplus">+  // XXX the dialog embedded in a sheet, but I do not know how.</span>
<a href="#l12.185"></a><span id="l12.185" class="difflineplus">+  if (!Services.prefs.getBoolPref(USE_SHEET_PREF, true)) {</span>
<a href="#l12.186"></a><span id="l12.186" class="difflineplus">+    assert_true(aCtc.window.closed, &quot;The customization dialog is not closed.&quot;);</span>
<a href="#l12.187"></a><span id="l12.187" class="difflineplus">+  }</span>
<a href="#l12.188"></a><span id="l12.188" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -132,33 +132,34 @@ function test_tab_reorder_tabbar(){</span>
<a href="#l13.4"></a><span id="l13.4"> </span>
<a href="#l13.5"></a><span id="l13.5">   // Start dragging the first tab</span>
<a href="#l13.6"></a><span id="l13.6">   switch_tab(1);</span>
<a href="#l13.7"></a><span id="l13.7">   assert_selected_and_displayed(msgHdrsInFolder[0]);</span>
<a href="#l13.8"></a><span id="l13.8"> </span>
<a href="#l13.9"></a><span id="l13.9">   let tab1 = mc.tabmail.tabContainer.childNodes[1];</span>
<a href="#l13.10"></a><span id="l13.10">   let tab3 = mc.tabmail.tabContainer.childNodes[3];</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-  let dt = synthesize_drag_start(mc.window, tab1, mc.tabmail);</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+  let dt = synthesize_drag_start(mc.window, tab1, mc.tabmail.tabContainer);</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+  assert_true(dt, &quot;Drag target was undefined&quot;);</span>
<a href="#l13.15"></a><span id="l13.15"> </span>
<a href="#l13.16"></a><span id="l13.16">   // Drop it onto the third tab ...</span>
<a href="#l13.17"></a><span id="l13.17">   synthesize_drag_over(mc.window, tab3, dt);</span>
<a href="#l13.18"></a><span id="l13.18"> </span>
<a href="#l13.19"></a><span id="l13.19">   synthesize_drop(mc.window, tab3, dt,</span>
<a href="#l13.20"></a><span id="l13.20">       { screenX : tab3.boxObject.screenX + (tab3.boxObject.width * 0.75),</span>
<a href="#l13.21"></a><span id="l13.21">         screenY : tab3.boxObject.screenY });</span>
<a href="#l13.22"></a><span id="l13.22"> </span>
<a href="#l13.23"></a><span id="l13.23">   wait_for_message_display_completion(mc);</span>
<a href="#l13.24"></a><span id="l13.24"> </span>
<a href="#l13.25"></a><span id="l13.25">   // if every thing went well...</span>
<a href="#l13.26"></a><span id="l13.26">   assert_number_of_tabs_open(5);</span>
<a href="#l13.27"></a><span id="l13.27"> </span>
<a href="#l13.28"></a><span id="l13.28">   // ... we should find tab1 at the third position...</span>
<a href="#l13.29"></a><span id="l13.29" class="difflineminus">-  assert_true(tab1 == mc.tabmail.tabContainer.childNodes[3],</span>
<a href="#l13.30"></a><span id="l13.30" class="difflineminus">-              &quot;Moving tab1 failed&quot;);</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineplus">+  assert_equals(tab1, mc.tabmail.tabContainer.childNodes[3],</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineplus">+                &quot;Moving tab1 failed&quot;);</span>
<a href="#l13.33"></a><span id="l13.33">   switch_tab(3);</span>
<a href="#l13.34"></a><span id="l13.34">   assert_selected_and_displayed(msgHdrsInFolder[0]);</span>
<a href="#l13.35"></a><span id="l13.35"> </span>
<a href="#l13.36"></a><span id="l13.36">   // ... while tab3 moves one up and gets second.</span>
<a href="#l13.37"></a><span id="l13.37">   assert_true(tab3 == mc.tabmail.tabContainer.childNodes[2],</span>
<a href="#l13.38"></a><span id="l13.38">               &quot;Moving tab3 failed&quot;);</span>
<a href="#l13.39"></a><span id="l13.39">   switch_tab(2);</span>
<a href="#l13.40"></a><span id="l13.40">   assert_selected_and_displayed(msgHdrsInFolder[2]);</span>
<a href="#l13.41"></a><span id="l13.41" class="difflineat">@@ -220,17 +221,17 @@ function test_tab_reorder_window(){</span>
<a href="#l13.42"></a><span id="l13.42">   // Start dragging the first tab ...</span>
<a href="#l13.43"></a><span id="l13.43">   let tabA = mc.tabmail.tabContainer.childNodes[1];</span>
<a href="#l13.44"></a><span id="l13.44">   assert_true(tabA, &quot;No movable Tab&quot;);</span>
<a href="#l13.45"></a><span id="l13.45"> </span>
<a href="#l13.46"></a><span id="l13.46">   // We drop onto the Folder Tab, it is guaranteed to exist.</span>
<a href="#l13.47"></a><span id="l13.47">   let tabB = mc2.tabmail.tabContainer.childNodes[0];</span>
<a href="#l13.48"></a><span id="l13.48">   assert_true(tabB, &quot;No movable Tab&quot;);</span>
<a href="#l13.49"></a><span id="l13.49"> </span>
<a href="#l13.50"></a><span id="l13.50" class="difflineminus">-  let dt = synthesize_drag_start(mc.window,tabA,mc.tabmail);</span>
<a href="#l13.51"></a><span id="l13.51" class="difflineplus">+  let dt = synthesize_drag_start(mc.window, tabA, mc.tabmail.tabContainer);</span>
<a href="#l13.52"></a><span id="l13.52"> </span>
<a href="#l13.53"></a><span id="l13.53">   synthesize_drag_over(mc2.window, tabB,dt);</span>
<a href="#l13.54"></a><span id="l13.54"> </span>
<a href="#l13.55"></a><span id="l13.55">   synthesize_drop(mc2.window,tabB, dt,</span>
<a href="#l13.56"></a><span id="l13.56">       { screenX : tabB.boxObject.screenX + (tabB.boxObject.width * 0.75),</span>
<a href="#l13.57"></a><span id="l13.57">         screenY : tabB.boxObject.screenY });</span>
<a href="#l13.58"></a><span id="l13.58"> </span>
<a href="#l13.59"></a><span id="l13.59">   wait_for_message_display_completion(mc2);</span>
<a href="#l13.60"></a><span id="l13.60" class="difflineat">@@ -269,17 +270,17 @@ function test_tab_reorder_detach(){</span>
<a href="#l13.61"></a><span id="l13.61">   // ... now start dragging</span>
<a href="#l13.62"></a><span id="l13.62"> </span>
<a href="#l13.63"></a><span id="l13.63">   mc.tabmail.switchToTab(1);</span>
<a href="#l13.64"></a><span id="l13.64"> </span>
<a href="#l13.65"></a><span id="l13.65">   let tab1 = mc.tabmail.tabContainer.childNodes[1];</span>
<a href="#l13.66"></a><span id="l13.66">   let dropContent = mc.e(&quot;tabpanelcontainer&quot;);</span>
<a href="#l13.67"></a><span id="l13.67">   let box = dropContent.boxObject;</span>
<a href="#l13.68"></a><span id="l13.68"> </span>
<a href="#l13.69"></a><span id="l13.69" class="difflineminus">-  let dt = synthesize_drag_start(mc.window, tab1, mc.tabmail);</span>
<a href="#l13.70"></a><span id="l13.70" class="difflineplus">+  let dt = synthesize_drag_start(mc.window, tab1, mc.tabmail.tabContainer);</span>
<a href="#l13.71"></a><span id="l13.71"> </span>
<a href="#l13.72"></a><span id="l13.72">   synthesize_drag_over(mc.window, dropContent, dt);</span>
<a href="#l13.73"></a><span id="l13.73"> </span>
<a href="#l13.74"></a><span id="l13.74">   // notify tab1 drag has ended</span>
<a href="#l13.75"></a><span id="l13.75">   synthesize_drag_end(mc.window, dropContent, tab1, dt,</span>
<a href="#l13.76"></a><span id="l13.76">       { screenX : (box.screenX + box.width / 2 ),</span>
<a href="#l13.77"></a><span id="l13.77">         screenY : (box.screenY + box.height / 2 ) });</span>
<a href="#l13.78"></a><span id="l13.78"> </span>
<a href="#l13.79"></a><span id="l13.79" class="difflineat">@@ -334,36 +335,34 @@ function test_tab_undo() {</span>
<a href="#l13.80"></a><span id="l13.80">   // msgHdrsInFolder[2] won't be restorend it was closed with disabled undo.</span>
<a href="#l13.81"></a><span id="l13.81"> </span>
<a href="#l13.82"></a><span id="l13.82">   mc.tabmail.undoCloseTab();</span>
<a href="#l13.83"></a><span id="l13.83">   assert_number_of_tabs_open(5);</span>
<a href="#l13.84"></a><span id="l13.84">   assert_selected_and_displayed(mc, msgHdrsInFolder[1]);</span>
<a href="#l13.85"></a><span id="l13.85"> }</span>
<a href="#l13.86"></a><span id="l13.86"> </span>
<a href="#l13.87"></a><span id="l13.87"> function _synthesizeRecentlyClosedMenu()</span>
<a href="#l13.88"></a><span id="l13.88" class="difflineminus">-{                  </span>
<a href="#l13.89"></a><span id="l13.89" class="difflineplus">+{</span>
<a href="#l13.90"></a><span id="l13.90">   mc.rightClick(new elib.Elem(mc.tabmail.tabContainer.childNodes[1]));</span>
<a href="#l13.91"></a><span id="l13.91" class="difflineminus">-  </span>
<a href="#l13.92"></a><span id="l13.92" class="difflineminus">-  wait_for_popup_to_open(</span>
<a href="#l13.93"></a><span id="l13.93" class="difflineminus">-    mc.window.document.getAnonymousElementByAttribute(</span>
<a href="#l13.94"></a><span id="l13.94" class="difflineminus">-      mc.tabmail,&quot;anonid&quot;,&quot;tabContextMenu&quot;));</span>
<a href="#l13.95"></a><span id="l13.95" class="difflineminus">-      </span>
<a href="#l13.96"></a><span id="l13.96" class="difflineminus">-  let menu = mc.window.document.getAnonymousElementByAttribute(</span>
<a href="#l13.97"></a><span id="l13.97" class="difflineminus">-                   mc.tabmail,&quot;anonid&quot;,&quot;recentlyClosedTabs&quot;);      </span>
<a href="#l13.98"></a><span id="l13.98" class="difflineplus">+</span>
<a href="#l13.99"></a><span id="l13.99" class="difflineplus">+  let tabContextMenu = mc.window.document.getElementById(&quot;tabContextMenu&quot;);</span>
<a href="#l13.100"></a><span id="l13.100" class="difflineplus">+  wait_for_popup_to_open(tabContextMenu);</span>
<a href="#l13.101"></a><span id="l13.101"> </span>
<a href="#l13.102"></a><span id="l13.102" class="difflineminus">-  EventUtils.synthesizeMouse(menu,5, 5, {},mc.window);</span>
<a href="#l13.103"></a><span id="l13.103" class="difflineminus">-  wait_for_popup_to_open(menu.menupopup);</span>
<a href="#l13.104"></a><span id="l13.104" class="difflineminus">-  </span>
<a href="#l13.105"></a><span id="l13.105" class="difflineminus">-  return menu;</span>
<a href="#l13.106"></a><span id="l13.106" class="difflineplus">+  let recentlyClosedTabs = tabContextMenu</span>
<a href="#l13.107"></a><span id="l13.107" class="difflineplus">+                           .querySelector('[anonid=&quot;recentlyClosedTabs&quot;]');</span>
<a href="#l13.108"></a><span id="l13.108" class="difflineplus">+</span>
<a href="#l13.109"></a><span id="l13.109" class="difflineplus">+  EventUtils.synthesizeMouse(recentlyClosedTabs, 5, 5, {}, mc.window);</span>
<a href="#l13.110"></a><span id="l13.110" class="difflineplus">+  wait_for_popup_to_open(recentlyClosedTabs.menupopup);</span>
<a href="#l13.111"></a><span id="l13.111" class="difflineplus">+</span>
<a href="#l13.112"></a><span id="l13.112" class="difflineplus">+  return recentlyClosedTabs;</span>
<a href="#l13.113"></a><span id="l13.113"> }</span>
<a href="#l13.114"></a><span id="l13.114"> </span>
<a href="#l13.115"></a><span id="l13.115"> function _teardownRecentlyClosedMenu()</span>
<a href="#l13.116"></a><span id="l13.116" class="difflineminus">-{  </span>
<a href="#l13.117"></a><span id="l13.117" class="difflineminus">-  let menu = mc.window.document.getAnonymousElementByAttribute(</span>
<a href="#l13.118"></a><span id="l13.118" class="difflineminus">-            mc.tabmail,&quot;anonid&quot;,&quot;tabContextMenu&quot;)  </span>
<a href="#l13.119"></a><span id="l13.119" class="difflineplus">+{</span>
<a href="#l13.120"></a><span id="l13.120" class="difflineplus">+  let menu = mc.window.document.getElementById(&quot;tabContextMenu&quot;);</span>
<a href="#l13.121"></a><span id="l13.121">   close_popup(mc,new elib.Elem(menu));</span>
<a href="#l13.122"></a><span id="l13.122"> }</span>
<a href="#l13.123"></a><span id="l13.123"> </span>
<a href="#l13.124"></a><span id="l13.124"> /**</span>
<a href="#l13.125"></a><span id="l13.125">  * Tests the recently closed tabs menu. </span>
<a href="#l13.126"></a><span id="l13.126">  */</span>
<a href="#l13.127"></a><span id="l13.127"> function test_tab_recentlyClosed() {</span>
<a href="#l13.128"></a><span id="l13.128"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1">index 6a18e78e5e366d4bae6cbbfaac92dfdd8b01eb44..e52ca1ab6e9cbe2f624ce87678399d89b1fb80c3</span>
<a href="#l14.2"></a><span id="l14.2">GIT binary patch
literal 447
zc$@*h0YLtVP)&lt;h;3K|Lk000e1NJLTq000XB000XJ1^@s6sjPP&lt;00001b5ch_0Itp)
z=&gt;Px#24YJ`L;(K){{a7&gt;y{D4^000SaNLh0L01FcU01FcV0GgZ_00007bV*G`2ipo0
z4lxZ5L-3gZ00BQqL_t&amp;-(`}H?D+FNxhM#Y~Z+3RmT3QFEO?%oCdp70Dl&amp;g!9M1Ecf
z7nvN$O(GY60wHqX;-a`ZDrHlMa$sjyVdtCAN$qUj+uQRT-d&lt;shp+2tXr*#ws(z2Sb
z&amp;Q&gt;e+%xVzZYgz|WL!*RR2d?M0{VThkUkJ5+S(upSasP|iu}MO$-(1fx#$?y?3w$PT
zSLWv^9aT_Gf``LT7N=&amp;=I=XQ^KMx?f`&lt;C;-{o2wZuQyeQ;Q2Nnn`^?dELu7x&gt;s#BA
zlCnee_HSONlbNE?LYPP-N5=aoU6#rBWZ2!hz)979P*GI&lt;F5jv1)7kF7O@jk_CgIrF
ztpdlf!N9@su=DR5Qc4nzL}mm|%7%tpW3n-juoWr=30q&gt;R7)Hg45=bfND(1i#RE##r
pAJzA#osE+$Kp1Mi!peI+{{@aYaNqqEWy=5n002ovPDHLkV1kEOzq$Yb</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/messageHeader.css</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/messageHeader.css</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -295,25 +295,16 @@ toolbarpaletteitem &gt; #hdrReplyToSenderBu</span>
<a href="#l15.4"></a><span id="l15.4"> .hdrJunkButton {</span>
<a href="#l15.5"></a><span id="l15.5">   list-style-image: url(&quot;chrome://messenger/skin/icons/button-junk.svg&quot;);</span>
<a href="#l15.6"></a><span id="l15.6"> }</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8"> .hdrTrashButton {</span>
<a href="#l15.9"></a><span id="l15.9">   list-style-image: url(&quot;chrome://messenger/skin/icons/button-delete.svg&quot;);</span>
<a href="#l15.10"></a><span id="l15.10"> }</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-.inline-toolbar toolbarpaletteitem toolbarseparator,</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineminus">-.inline-toolbar toolbarseparator {</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineminus">-  height: 26px;</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineminus">-}</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineminus">-</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineminus">-.inline-toolbar toolbarspacer {</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineminus">-  height: 20px;</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineminus">-}</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineminus">-</span>
<a href="#l15.21"></a><span id="l15.21"> window[inlinetoolbox] #wrapper-spring {</span>
<a href="#l15.22"></a><span id="l15.22">   display: none;</span>
<a href="#l15.23"></a><span id="l15.23"> }</span>
<a href="#l15.24"></a><span id="l15.24"> </span>
<a href="#l15.25"></a><span id="l15.25"> .inline-toolbox[doCustomization] {</span>
<a href="#l15.26"></a><span id="l15.26">   background: grey;</span>
<a href="#l15.27"></a><span id="l15.27"> }</span>
<a href="#l15.28"></a><span id="l15.28"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/messenger.css</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/messenger.css</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -39,16 +39,32 @@ toolbar:not(.inline-toolbar):not(:-moz-l</span>
<a href="#l16.4"></a><span id="l16.4">  */</span>
<a href="#l16.5"></a><span id="l16.5"> .menulist-menupopup &gt; menuitem &gt; .menu-iconic-left,</span>
<a href="#l16.6"></a><span id="l16.6"> menulist &gt; menupopup &gt; menuitem &gt; .menu-iconic-left,</span>
<a href="#l16.7"></a><span id="l16.7"> .menulist-menupopup &gt; menu &gt; .menu-iconic-left,</span>
<a href="#l16.8"></a><span id="l16.8"> menulist &gt; menupopup &gt; menu &gt; .menu-iconic-left {</span>
<a href="#l16.9"></a><span id="l16.9">   display: -moz-box;</span>
<a href="#l16.10"></a><span id="l16.10"> }</span>
<a href="#l16.11"></a><span id="l16.11"> </span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+/* ::::: Mail Toolbars and Menubars ::::: */</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineplus">+#mail-toolbar-menubar2:-moz-lwtheme {</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineplus">+  background-color: rgba(255, 255, 255, 0.3);</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineplus">+}</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineplus">+</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineplus">+.mail-toolbox:not(-moz-lwtheme) {</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineplus">+  border-bottom: 1px solid threedshadow;</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0) 19px);</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineplus">+}</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineplus">+</span>
<a href="#l16.24"></a><span id="l16.24" class="difflineplus">+.mail-toolbox &gt; toolbar {</span>
<a href="#l16.25"></a><span id="l16.25" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l16.26"></a><span id="l16.26" class="difflineplus">+  background: transparent;</span>
<a href="#l16.27"></a><span id="l16.27" class="difflineplus">+}</span>
<a href="#l16.28"></a><span id="l16.28"> </span>
<a href="#l16.29"></a><span id="l16.29"> /* ::::: throbber ::::: */</span>
<a href="#l16.30"></a><span id="l16.30"> </span>
<a href="#l16.31"></a><span id="l16.31"> #throbber-box {</span>
<a href="#l16.32"></a><span id="l16.32">   width: 16px;</span>
<a href="#l16.33"></a><span id="l16.33">   min-height: 16px;</span>
<a href="#l16.34"></a><span id="l16.34">   margin: 0 3px;</span>
<a href="#l16.35"></a><span id="l16.35"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/tabmail.css</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/tabmail.css</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -33,16 +33,24 @@</span>
<a href="#l17.4"></a><span id="l17.4">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l17.5"></a><span id="l17.5">  *</span>
<a href="#l17.6"></a><span id="l17.6">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l17.7"></a><span id="l17.7"> </span>
<a href="#l17.8"></a><span id="l17.8"> /**</span>
<a href="#l17.9"></a><span id="l17.9">  * Tabmail Tabs</span>
<a href="#l17.10"></a><span id="l17.10">  */</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+#tabs-toolbar {</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+  padding: 0;</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineplus">+}</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineplus">+#tabpanelcontainer:-moz-lwtheme {</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineplus">+  color: inherit;</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineplus">+}</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineplus">+</span>
<a href="#l17.20"></a><span id="l17.20"> .tabmail-tabs:not(:-moz-lwtheme) {</span>
<a href="#l17.21"></a><span id="l17.21">   -moz-appearance: menubar;</span>
<a href="#l17.22"></a><span id="l17.22"> }</span>
<a href="#l17.23"></a><span id="l17.23"> </span>
<a href="#l17.24"></a><span id="l17.24"> .tabmail-tabs[overflow=&quot;true&quot;] {</span>
<a href="#l17.25"></a><span id="l17.25">   -moz-padding-start: 0px;</span>
<a href="#l17.26"></a><span id="l17.26"> }</span>
<a href="#l17.27"></a><span id="l17.27"> </span>
<a href="#l17.28"></a><span id="l17.28" class="difflineat">@@ -51,16 +59,17 @@</span>
<a href="#l17.29"></a><span id="l17.29"> }</span>
<a href="#l17.30"></a><span id="l17.30"> </span>
<a href="#l17.31"></a><span id="l17.31"> .tabmail-tabs &gt; .tabmail-tab:first-child &gt; .tab-close-button {</span>
<a href="#l17.32"></a><span id="l17.32">   visibility: collapse;</span>
<a href="#l17.33"></a><span id="l17.33"> }</span>
<a href="#l17.34"></a><span id="l17.34"> </span>
<a href="#l17.35"></a><span id="l17.35"> tabpanels {</span>
<a href="#l17.36"></a><span id="l17.36">   -moz-appearance: none;</span>
<a href="#l17.37"></a><span id="l17.37" class="difflineplus">+  background-color: transparent;</span>
<a href="#l17.38"></a><span id="l17.38"> }</span>
<a href="#l17.39"></a><span id="l17.39"> </span>
<a href="#l17.40"></a><span id="l17.40"> /**</span>
<a href="#l17.41"></a><span id="l17.41">  * Tab</span>
<a href="#l17.42"></a><span id="l17.42">  */</span>
<a href="#l17.43"></a><span id="l17.43"> </span>
<a href="#l17.44"></a><span id="l17.44"> .tabmail-tab {</span>
<a href="#l17.45"></a><span id="l17.45">   position: static;</span>
<a href="#l17.46"></a><span id="l17.46" class="difflineat">@@ -82,22 +91,22 @@ tabpanels {</span>
<a href="#l17.47"></a><span id="l17.47">   color: MenuText;</span>
<a href="#l17.48"></a><span id="l17.48"> }</span>
<a href="#l17.49"></a><span id="l17.49"> </span>
<a href="#l17.50"></a><span id="l17.50"> .tabmail-tab:hover {</span>
<a href="#l17.51"></a><span id="l17.51">   background-image: -moz-linear-gradient(hsla(0, 0%, 100%, .6),</span>
<a href="#l17.52"></a><span id="l17.52">                     hsla(0, 0%, 100%, .2) 2px, hsla(0, 0%, 75%, .2) 50%);</span>
<a href="#l17.53"></a><span id="l17.53"> }</span>
<a href="#l17.54"></a><span id="l17.54">  </span>
<a href="#l17.55"></a><span id="l17.55" class="difflineminus">- .tabmail-tab[selected=&quot;true&quot;] {</span>
<a href="#l17.56"></a><span id="l17.56" class="difflineplus">+.tabmail-tab[selected=&quot;true&quot;] {</span>
<a href="#l17.57"></a><span id="l17.57">   color: -moz-DialogText;</span>
<a href="#l17.58"></a><span id="l17.58">   font-weight: bold;</span>
<a href="#l17.59"></a><span id="l17.59" class="difflineminus">-  background-image: -moz-linear-gradient(rgba(255, 255, 255, .8),</span>
<a href="#l17.60"></a><span id="l17.60" class="difflineminus">-                    rgba(255, 255, 255, .5) 2px, rgba(255, 255, 255, .3) 20%,</span>
<a href="#l17.61"></a><span id="l17.61" class="difflineminus">-                    rgba(255, 255, 255, 0) 80%),</span>
<a href="#l17.62"></a><span id="l17.62" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.8) 1px,</span>
<a href="#l17.63"></a><span id="l17.63" class="difflineplus">+                    rgba(255, 255, 255, 0.5) 3px,</span>
<a href="#l17.64"></a><span id="l17.64" class="difflineplus">+                    rgba(255, 255, 255, 0.3) 32%),</span>
<a href="#l17.65"></a><span id="l17.65">                     -moz-linear-gradient(-moz-dialog, -moz-dialog);</span>
<a href="#l17.66"></a><span id="l17.66"> }</span>
<a href="#l17.67"></a><span id="l17.67"> </span>
<a href="#l17.68"></a><span id="l17.68"> .tabmail-tab[selected=&quot;true&quot;]:-moz-lwtheme {</span>
<a href="#l17.69"></a><span id="l17.69">   background-image: -moz-linear-gradient(rgba(255, 255, 255, .8),</span>
<a href="#l17.70"></a><span id="l17.70">                     rgba(255, 255, 255, .5) 2px, rgba(255, 255, 255, .3) 20%);</span>
<a href="#l17.71"></a><span id="l17.71"> }</span>
<a href="#l17.72"></a><span id="l17.72"> </span>
<a href="#l17.73"></a><span id="l17.73" class="difflineat">@@ -145,34 +154,30 @@ tabpanels {</span>
<a href="#l17.74"></a><span id="l17.74">   list-style-image: url(&quot;chrome://global/skin/icons/loading_16.png&quot;) !important;</span>
<a href="#l17.75"></a><span id="l17.75">   -moz-image-region: auto !important;</span>
<a href="#l17.76"></a><span id="l17.76"> }</span>
<a href="#l17.77"></a><span id="l17.77"> </span>
<a href="#l17.78"></a><span id="l17.78"> .tabmail-tab[type=&quot;glodaSearch&quot;] {</span>
<a href="#l17.79"></a><span id="l17.79">   list-style-image: url(moz-icon://stock/gtk-find?size=menu);</span>
<a href="#l17.80"></a><span id="l17.80"> }</span>
<a href="#l17.81"></a><span id="l17.81"> </span>
<a href="#l17.82"></a><span id="l17.82" class="difflineminus">-.tabs-bottom {</span>
<a href="#l17.83"></a><span id="l17.83" class="difflineminus">-  border-bottom: 1px solid threedshadow;</span>
<a href="#l17.84"></a><span id="l17.84" class="difflineminus">-}</span>
<a href="#l17.85"></a><span id="l17.85" class="difflineminus">-</span>
<a href="#l17.86"></a><span id="l17.86"> .tabmail-tab &gt; .tab-image-middle &gt; .tab-text {</span>
<a href="#l17.87"></a><span id="l17.87">   /* tabmail-tab focus ring */</span>
<a href="#l17.88"></a><span id="l17.88">   border: 1px dotted transparent;</span>
<a href="#l17.89"></a><span id="l17.89">   margin: -1px !important; /* let the border not consume any space, like outline */</span>
<a href="#l17.90"></a><span id="l17.90"> }</span>
<a href="#l17.91"></a><span id="l17.91"> </span>
<a href="#l17.92"></a><span id="l17.92"> .tabmail-tab[selected=&quot;true&quot;]:focus &gt; .tab-image-middle &gt; .tab-text {</span>
<a href="#l17.93"></a><span id="l17.93">   border: 1px dotted -moz-DialogText;</span>
<a href="#l17.94"></a><span id="l17.94"> }</span>
<a href="#l17.95"></a><span id="l17.95"> </span>
<a href="#l17.96"></a><span id="l17.96"> /* Tab drag and drop */</span>
<a href="#l17.97"></a><span id="l17.97"> .tab-drop-indicator {</span>
<a href="#l17.98"></a><span id="l17.98">   list-style-image: url(chrome://messenger/skin/icons/tabDragIndicator.png);</span>
<a href="#l17.99"></a><span id="l17.99" class="difflineminus">-  margin-top: -11px;</span>
<a href="#l17.100"></a><span id="l17.100" class="difflineplus">+  margin-bottom: -11px;</span>
<a href="#l17.101"></a><span id="l17.101"> }</span>
<a href="#l17.102"></a><span id="l17.102"> </span>
<a href="#l17.103"></a><span id="l17.103"> /* In-tab close button */</span>
<a href="#l17.104"></a><span id="l17.104"> .tab-close-button &gt; .toolbarbutton-icon {</span>
<a href="#l17.105"></a><span id="l17.105">   /* XXX Buttons have padding in widget/ that we don't want here but can't</span>
<a href="#l17.106"></a><span id="l17.106">      override with good CSS, so we must use evil CSS to give the</span>
<a href="#l17.107"></a><span id="l17.107">      impression of smaller content. */</span>
<a href="#l17.108"></a><span id="l17.108">   margin: -3px !important;</span>
<a href="#l17.109"></a><span id="l17.109" class="difflineat">@@ -252,8 +257,36 @@ tabpanels {</span>
<a href="#l17.110"></a><span id="l17.110"> .tabs-alltabs-button &gt; .toolbarbutton-icon {</span>
<a href="#l17.111"></a><span id="l17.111">   display: none;</span>
<a href="#l17.112"></a><span id="l17.112">   -moz-margin-end: 0;</span>
<a href="#l17.113"></a><span id="l17.113"> }</span>
<a href="#l17.114"></a><span id="l17.114"> </span>
<a href="#l17.115"></a><span id="l17.115"> .alltabs-item &gt; .menu-iconic-left {</span>
<a href="#l17.116"></a><span id="l17.116">   visibility: visible !important;</span>
<a href="#l17.117"></a><span id="l17.117"> }</span>
<a href="#l17.118"></a><span id="l17.118" class="difflineplus">+</span>
<a href="#l17.119"></a><span id="l17.119" class="difflineplus">+/* Content Tabs */</span>
<a href="#l17.120"></a><span id="l17.120" class="difflineplus">+</span>
<a href="#l17.121"></a><span id="l17.121" class="difflineplus">+.contentTabToolbox {</span>
<a href="#l17.122"></a><span id="l17.122" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l17.123"></a><span id="l17.123" class="difflineplus">+  height: 0px;</span>
<a href="#l17.124"></a><span id="l17.124" class="difflineplus">+  border: 0;</span>
<a href="#l17.125"></a><span id="l17.125" class="difflineplus">+}</span>
<a href="#l17.126"></a><span id="l17.126" class="difflineplus">+</span>
<a href="#l17.127"></a><span id="l17.127" class="difflineplus">+.contentTabInstance[disablechrome] .contentTabToolbox {</span>
<a href="#l17.128"></a><span id="l17.128" class="difflineplus">+  display: none;</span>
<a href="#l17.129"></a><span id="l17.129" class="difflineplus">+}</span>
<a href="#l17.130"></a><span id="l17.130" class="difflineplus">+</span>
<a href="#l17.131"></a><span id="l17.131" class="difflineplus">+.contentTabToolbox:not(:-moz-lwtheme) {</span>
<a href="#l17.132"></a><span id="l17.132" class="difflineplus">+  border-bottom: 1px solid rgb(105, 105, 105);</span>
<a href="#l17.133"></a><span id="l17.133" class="difflineplus">+}</span>
<a href="#l17.134"></a><span id="l17.134" class="difflineplus">+</span>
<a href="#l17.135"></a><span id="l17.135" class="difflineplus">+.contentTabToolbox:-moz-lwtheme {</span>
<a href="#l17.136"></a><span id="l17.136" class="difflineplus">+  height: 1px;</span>
<a href="#l17.137"></a><span id="l17.137" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5) 50%);</span>
<a href="#l17.138"></a><span id="l17.138" class="difflineplus">+  background-color: rgba(255, 255, 255, 0.3);</span>
<a href="#l17.139"></a><span id="l17.139" class="difflineplus">+}</span>
<a href="#l17.140"></a><span id="l17.140" class="difflineplus">+</span>
<a href="#l17.141"></a><span id="l17.141" class="difflineplus">+.contentTabToolbar {</span>
<a href="#l17.142"></a><span id="l17.142" class="difflineplus">+  height: 0px;</span>
<a href="#l17.143"></a><span id="l17.143" class="difflineplus">+  min-height: 0px;</span>
<a href="#l17.144"></a><span id="l17.144" class="difflineplus">+  padding: 0;</span>
<a href="#l17.145"></a><span id="l17.145" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mail/themes/pinstripe/jar.mn</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mail/themes/pinstripe/jar.mn</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -227,16 +227,19 @@ classic.jar:</span>
<a href="#l18.4"></a><span id="l18.4">   skin/classic/messenger/tabs/alltabs-box-bkgnd-icon.png              (mail/tabs/alltabs-box-bkgnd-icon.png)</span>
<a href="#l18.5"></a><span id="l18.5">   skin/classic/messenger/tabs/alltabs-box-overflow-bkgnd-animate.png  (mail/tabs/alltabs-box-overflow-bkgnd-animate.png)</span>
<a href="#l18.6"></a><span id="l18.6">   skin/classic/messenger/tabs/newtab.png                              (mail/tabs/newtab.png)</span>
<a href="#l18.7"></a><span id="l18.7">   skin/classic/messenger/tabs/tab-arrow-end.png                       (mail/tabs/tab-arrow-end.png)</span>
<a href="#l18.8"></a><span id="l18.8">   skin/classic/messenger/tabs/tab-arrow-start.png                     (mail/tabs/tab-arrow-start.png)</span>
<a href="#l18.9"></a><span id="l18.9">   skin/classic/messenger/tabs/tab-bkgnd.png                           (mail/tabs/tab-bkgnd.png)</span>
<a href="#l18.10"></a><span id="l18.10">   skin/classic/messenger/tabs/tabDragIndicator.png                    (mail/tabs/tabDragIndicator.png)</span>
<a href="#l18.11"></a><span id="l18.11">   skin/classic/messenger/tabs/tabbrowser-tabs-bkgnd.png               (mail/tabs/tabbrowser-tabs-bkgnd.png)</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+  skin/classic/messenger/tabs/tab.png                            (mail/tabs/tab.png)</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+  skin/classic/messenger/tabs/tab-normal-active.png              (mail/tabs/tab-normal-active.png)</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+  skin/classic/messenger/tabs/tab-hover-active.png               (mail/tabs/tab-hover-active.png)</span>
<a href="#l18.15"></a><span id="l18.15">   skin/classic/messenger/accountcentral/accountsettings.png      (mail/accountcentral/accountsettings.png)</span>
<a href="#l18.16"></a><span id="l18.16">   skin/classic/messenger/accountcentral/folder.png               (mail/accountcentral/folder.png)</span>
<a href="#l18.17"></a><span id="l18.17">   skin/classic/messenger/accountcentral/junk.png                 (mail/accountcentral/junk.png)</span>
<a href="#l18.18"></a><span id="l18.18">   skin/classic/messenger/accountcentral/mailbox.png              (mail/accountcentral/mailbox.png)</span>
<a href="#l18.19"></a><span id="l18.19">   skin/classic/messenger/accountcentral/newaccount.png           (mail/accountcentral/newaccount.png)</span>
<a href="#l18.20"></a><span id="l18.20">   skin/classic/messenger/accountcentral/offline.png              (mail/accountcentral/offline.png)</span>
<a href="#l18.21"></a><span id="l18.21">   skin/classic/messenger/accountcentral/offline.png              (mail/accountcentral/offline.png)</span>
<a href="#l18.22"></a><span id="l18.22">   skin/classic/messenger/accountcentral/search-messages.png      (mail/accountcentral/search-messages.png)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mail/themes/pinstripe/mail/messageHeader.css</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mail/themes/pinstripe/mail/messageHeader.css</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -440,25 +440,16 @@ toolbarpaletteitem &gt; #hdrReplyToSenderBu</span>
<a href="#l19.4"></a><span id="l19.4"> }</span>
<a href="#l19.5"></a><span id="l19.5"> </span>
<a href="#l19.6"></a><span id="l19.6"> .hdrTrashButton {</span>
<a href="#l19.7"></a><span id="l19.7">   /* large icons are only needed for customization dialog, so use here also small icons */</span>
<a href="#l19.8"></a><span id="l19.8">   list-style-image: url(&quot;chrome://messenger/skin/icons/message-header-toolbar.png&quot;);</span>
<a href="#l19.9"></a><span id="l19.9">   -moz-image-region: rect(0px, 80px, 16px, 64px);</span>
<a href="#l19.10"></a><span id="l19.10"> }</span>
<a href="#l19.11"></a><span id="l19.11"> </span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-.inline-toolbar toolbarpaletteitem toolbarseparator,</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineminus">-.inline-toolbar toolbarseparator {</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineminus">-  height: 26px;</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineminus">-}</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineminus">-</span>
<a href="#l19.17"></a><span id="l19.17" class="difflineminus">-.inline-toolbar toolbarspacer {</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineminus">-  height: 20px;</span>
<a href="#l19.19"></a><span id="l19.19" class="difflineminus">-}</span>
<a href="#l19.20"></a><span id="l19.20" class="difflineminus">-</span>
<a href="#l19.21"></a><span id="l19.21"> window[inlinetoolbox] #wrapper-spring {</span>
<a href="#l19.22"></a><span id="l19.22">   display: none;</span>
<a href="#l19.23"></a><span id="l19.23"> }</span>
<a href="#l19.24"></a><span id="l19.24"> </span>
<a href="#l19.25"></a><span id="l19.25"> .inline-toolbox[doCustomization] {</span>
<a href="#l19.26"></a><span id="l19.26">   background: grey;</span>
<a href="#l19.27"></a><span id="l19.27"> }</span>
<a href="#l19.28"></a><span id="l19.28"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mail/themes/pinstripe/mail/primaryToolbar.css</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mail/themes/pinstripe/mail/primaryToolbar.css</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -41,25 +41,49 @@</span>
<a href="#l20.4"></a><span id="l20.4">    == native-OS-style toolbars at the top of various windows, as well as</span>
<a href="#l20.5"></a><span id="l20.5">    == the specifically about the ones that appear on the 3-pane window and</span>
<a href="#l20.6"></a><span id="l20.6">    == the standalone message window.  The other native-OS-style toolbars</span>
<a href="#l20.7"></a><span id="l20.7">    == (addressbook and compose) are already styled elsewhere.</span>
<a href="#l20.8"></a><span id="l20.8">    ====================================================================== */</span>
<a href="#l20.9"></a><span id="l20.9"> </span>
<a href="#l20.10"></a><span id="l20.10"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l20.11"></a><span id="l20.11"> </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-/* Inactive window state */</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-#mail-toolbox &gt; toolbar:-moz-window-inactive &gt; toolbar {</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineminus">-  border-top-color: rgba(255,255,255,0.45);</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineminus">-  border-bottom-color: rgba(0,0,0,0.35);</span>
<a href="#l20.16"></a><span id="l20.16" class="difflineplus">+/* ::::: Mail Toolbars and Menubars ::::: */</span>
<a href="#l20.17"></a><span id="l20.17" class="difflineplus">+</span>
<a href="#l20.18"></a><span id="l20.18" class="difflineplus">+.mail-toolbox {</span>
<a href="#l20.19"></a><span id="l20.19" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l20.20"></a><span id="l20.20" class="difflineplus">+  border-bottom: 1px solid rgba(0, 0, 0, 0.57);</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.32), rgba(255, 255, 255, 0) 19px);</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineplus">+}</span>
<a href="#l20.23"></a><span id="l20.23" class="difflineplus">+</span>
<a href="#l20.24"></a><span id="l20.24" class="difflineplus">+.mail-toolbox:not(:-moz-lwtheme) {</span>
<a href="#l20.25"></a><span id="l20.25" class="difflineplus">+  background-color: -moz-mac-chrome-active;</span>
<a href="#l20.26"></a><span id="l20.26" class="difflineplus">+}</span>
<a href="#l20.27"></a><span id="l20.27" class="difflineplus">+</span>
<a href="#l20.28"></a><span id="l20.28" class="difflineplus">+.mail-toolbox:not(:-moz-lwtheme):-moz-window-inactive {</span>
<a href="#l20.29"></a><span id="l20.29">   background-color: -moz-mac-chrome-inactive;</span>
<a href="#l20.30"></a><span id="l20.30" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 19px);</span>
<a href="#l20.31"></a><span id="l20.31"> }</span>
<a href="#l20.32"></a><span id="l20.32"> </span>
<a href="#l20.33"></a><span id="l20.33" class="difflineminus">-#mail-bar3 {</span>
<a href="#l20.34"></a><span id="l20.34" class="difflineminus">-  padding: 0 4px;</span>
<a href="#l20.35"></a><span id="l20.35" class="difflineplus">+/* Inactive window state */</span>
<a href="#l20.36"></a><span id="l20.36" class="difflineplus">+.mail-toolbox:-moz-window-inactive {</span>
<a href="#l20.37"></a><span id="l20.37" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l20.38"></a><span id="l20.38" class="difflineplus">+  border-bottom: 1px solid rgba(0, 0, 0, 0.32);</span>
<a href="#l20.39"></a><span id="l20.39" class="difflineplus">+}</span>
<a href="#l20.40"></a><span id="l20.40" class="difflineplus">+</span>
<a href="#l20.41"></a><span id="l20.41" class="difflineplus">+.mail-toolbox:-moz-lwtheme {</span>
<a href="#l20.42"></a><span id="l20.42" class="difflineplus">+  background-color: rgba(255, 255, 255, 0.3);</span>
<a href="#l20.43"></a><span id="l20.43" class="difflineplus">+}</span>
<a href="#l20.44"></a><span id="l20.44" class="difflineplus">+</span>
<a href="#l20.45"></a><span id="l20.45" class="difflineplus">+.mail-bar3 {</span>
<a href="#l20.46"></a><span id="l20.46" class="difflineplus">+  padding: 4px 4px 0;</span>
<a href="#l20.47"></a><span id="l20.47" class="difflineplus">+}</span>
<a href="#l20.48"></a><span id="l20.48" class="difflineplus">+</span>
<a href="#l20.49"></a><span id="l20.49" class="difflineplus">+.mail-toolbox &gt; toolbar {</span>
<a href="#l20.50"></a><span id="l20.50" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l20.51"></a><span id="l20.51"> }</span>
<a href="#l20.52"></a><span id="l20.52"> </span>
<a href="#l20.53"></a><span id="l20.53"> /* ::::: primary toolbar buttons ::::: */</span>
<a href="#l20.54"></a><span id="l20.54"> </span>
<a href="#l20.55"></a><span id="l20.55"> .toolbarbutton-1 {</span>
<a href="#l20.56"></a><span id="l20.56">   -moz-box-orient: vertical;</span>
<a href="#l20.57"></a><span id="l20.57">   min-width: 0px;</span>
<a href="#l20.58"></a><span id="l20.58"> }</span>
<a href="#l20.59"></a><span id="l20.59" class="difflineat">@@ -99,21 +123,28 @@ toolbarbutton[type=&quot;menu-button&quot;] &gt; tool</span>
<a href="#l20.60"></a><span id="l20.60"> }</span>
<a href="#l20.61"></a><span id="l20.61"> </span>
<a href="#l20.62"></a><span id="l20.62"> toolbox[labelalign=&quot;end&quot;] toolbarbutton[type=&quot;menu-button&quot;] &gt; toolbarbutton,</span>
<a href="#l20.63"></a><span id="l20.63"> toolbox[labelalign=&quot;end&quot;] toolbarpaletteitem</span>
<a href="#l20.64"></a><span id="l20.64">   &gt; toolbarbutton[type=&quot;menu-button&quot;] &gt; toolbarbutton {</span>
<a href="#l20.65"></a><span id="l20.65">   -moz-box-orient: horizontal !important;</span>
<a href="#l20.66"></a><span id="l20.66"> }</span>
<a href="#l20.67"></a><span id="l20.67"> </span>
<a href="#l20.68"></a><span id="l20.68" class="difflineminus">-toolbar[mode=&quot;text&quot;] .toolbarbutton-1 &gt; .toolbarbutton-text,</span>
<a href="#l20.69"></a><span id="l20.69" class="difflineminus">-toolbar[mode=&quot;text&quot;] .toolbarbutton-menubutton-button &gt; .toolbarbutton-text {</span>
<a href="#l20.70"></a><span id="l20.70" class="difflineplus">+toolbar[mode=&quot;text&quot;] &gt; .toolbarbutton-1 &gt; .toolbarbutton-text,</span>
<a href="#l20.71"></a><span id="l20.71" class="difflineplus">+toolbar[mode=&quot;text&quot;] &gt; .toolbarbutton-menubutton-button &gt; .toolbarbutton-text {</span>
<a href="#l20.72"></a><span id="l20.72">   margin: 5px 4px 3px;</span>
<a href="#l20.73"></a><span id="l20.73"> }</span>
<a href="#l20.74"></a><span id="l20.74"> </span>
<a href="#l20.75"></a><span id="l20.75" class="difflineplus">+#tabbar-toolbar &gt; .toolbarbutton-1 {</span>
<a href="#l20.76"></a><span id="l20.76" class="difflineplus">+  margin-top: 1px;</span>
<a href="#l20.77"></a><span id="l20.77" class="difflineplus">+  margin-bottom: 1px;</span>
<a href="#l20.78"></a><span id="l20.78" class="difflineplus">+  padding-top: 0;</span>
<a href="#l20.79"></a><span id="l20.79" class="difflineplus">+  padding-bottom: 0;</span>
<a href="#l20.80"></a><span id="l20.80" class="difflineplus">+}</span>
<a href="#l20.81"></a><span id="l20.81" class="difflineplus">+</span>
<a href="#l20.82"></a><span id="l20.82"> #button-getmsg {</span>
<a href="#l20.83"></a><span id="l20.83">   list-style-image: url(&quot;chrome://messenger/skin/icons/mail-toolbar.png&quot;);</span>
<a href="#l20.84"></a><span id="l20.84">   -moz-image-region: rect(0px 32px 32px 0px);</span>
<a href="#l20.85"></a><span id="l20.85"> }</span>
<a href="#l20.86"></a><span id="l20.86"> </span>
<a href="#l20.87"></a><span id="l20.87"> #button-getmsg:hover:active,</span>
<a href="#l20.88"></a><span id="l20.88"> #button-getmsg[open] {</span>
<a href="#l20.89"></a><span id="l20.89">   -moz-image-region: rect(32px 32px 64px 0px);</span>
<a href="#l20.90"></a><span id="l20.90" class="difflineat">@@ -754,12 +785,8 @@ toolbar[iconsize=&quot;small&quot;] #button-archiv</span>
<a href="#l20.91"></a><span id="l20.91"> #mail-bar3  {</span>
<a href="#l20.92"></a><span id="l20.92">   padding-bottom: 1px;</span>
<a href="#l20.93"></a><span id="l20.93"> }</span>
<a href="#l20.94"></a><span id="l20.94"> </span>
<a href="#l20.95"></a><span id="l20.95"> #mail-bar3:-moz-lwtheme  {</span>
<a href="#l20.96"></a><span id="l20.96">   padding-bottom: 0px;</span>
<a href="#l20.97"></a><span id="l20.97"> }</span>
<a href="#l20.98"></a><span id="l20.98"> </span>
<a href="#l20.99"></a><span id="l20.99" class="difflineminus">-toolbar:-moz-lwtheme {</span>
<a href="#l20.100"></a><span id="l20.100" class="difflineminus">-  -moz-appearance: none !important;</span>
<a href="#l20.101"></a><span id="l20.101" class="difflineminus">-  background: none !important;</span>
<a href="#l20.102"></a><span id="l20.102" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mail/themes/pinstripe/mail/tabmail.css</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mail/themes/pinstripe/mail/tabmail.css</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -34,33 +34,21 @@</span>
<a href="#l21.4"></a><span id="l21.4">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l21.5"></a><span id="l21.5"> </span>
<a href="#l21.6"></a><span id="l21.6"> /* ::::: tabmail ::::: */</span>
<a href="#l21.7"></a><span id="l21.7"> </span>
<a href="#l21.8"></a><span id="l21.8"> .tabmail-tabs &gt; .tabmail-tab:first-child &gt; .tab-close-button {</span>
<a href="#l21.9"></a><span id="l21.9">   visibility: collapse;</span>
<a href="#l21.10"></a><span id="l21.10"> }</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-.tabmail-strip:-moz-window-inactive {</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineminus">-  background-color: #e2e2e2;</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineminus">-}</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineminus">-</span>
<a href="#l21.16"></a><span id="l21.16" class="difflineminus">-.tabmail-tab:-moz-window-inactive {</span>
<a href="#l21.17"></a><span id="l21.17" class="difflineminus">-  color: #575757;</span>
<a href="#l21.18"></a><span id="l21.18" class="difflineminus">-}</span>
<a href="#l21.19"></a><span id="l21.19" class="difflineminus">-</span>
<a href="#l21.20"></a><span id="l21.20" class="difflineminus">-.tabmail-tab[selected=&quot;true&quot;]:-moz-window-inactive {</span>
<a href="#l21.21"></a><span id="l21.21" class="difflineminus">-  background-color: -moz-mac-chrome-inactive;</span>
<a href="#l21.22"></a><span id="l21.22" class="difflineminus">-}</span>
<a href="#l21.23"></a><span id="l21.23" class="difflineminus">-</span>
<a href="#l21.24"></a><span id="l21.24"> .tab-icon-image,</span>
<a href="#l21.25"></a><span id="l21.25"> .tab-throbber {</span>
<a href="#l21.26"></a><span id="l21.26">   width: 16px;</span>
<a href="#l21.27"></a><span id="l21.27">   height: 16px;</span>
<a href="#l21.28"></a><span id="l21.28" class="difflineminus">-  margin-top: 2px;</span>
<a href="#l21.29"></a><span id="l21.29" class="difflineplus">+  margin-bottom: 2px;</span>
<a href="#l21.30"></a><span id="l21.30"> }</span>
<a href="#l21.31"></a><span id="l21.31"> </span>
<a href="#l21.32"></a><span id="l21.32"> .tabmail-tab {</span>
<a href="#l21.33"></a><span id="l21.33">   list-style-image: url(&quot;chrome://global/skin/tree/item.png&quot;);</span>
<a href="#l21.34"></a><span id="l21.34"> }</span>
<a href="#l21.35"></a><span id="l21.35"> </span>
<a href="#l21.36"></a><span id="l21.36"> .tab-throbber {</span>
<a href="#l21.37"></a><span id="l21.37">   list-style-image: url(&quot;chrome://global/skin/icons/loading_16.png&quot;) !important;</span>
<a href="#l21.38"></a><span id="l21.38" class="difflineat">@@ -78,130 +66,94 @@</span>
<a href="#l21.39"></a><span id="l21.39">   margin-top: 3px !important;</span>
<a href="#l21.40"></a><span id="l21.40">   margin-bottom: 0 !important;</span>
<a href="#l21.41"></a><span id="l21.41">   font: message-box;</span>
<a href="#l21.42"></a><span id="l21.42">   font-weight: bold;</span>
<a href="#l21.43"></a><span id="l21.43">   text-shadow: 0 1px 0 rgba(255, 255, 255, 0.4);</span>
<a href="#l21.44"></a><span id="l21.44"> }</span>
<a href="#l21.45"></a><span id="l21.45"> </span>
<a href="#l21.46"></a><span id="l21.46"> .tabmail-tab {</span>
<a href="#l21.47"></a><span id="l21.47" class="difflineplus">+  position: static;</span>
<a href="#l21.48"></a><span id="l21.48">   -moz-appearance: none;</span>
<a href="#l21.49"></a><span id="l21.49" class="difflineminus">-  border-radius: 0 0 6px 6px;</span>
<a href="#l21.50"></a><span id="l21.50" class="difflineminus">-  color: #222;</span>
<a href="#l21.51"></a><span id="l21.51" class="difflineminus">-  -moz-box-pack: center;</span>
<a href="#l21.52"></a><span id="l21.52" class="difflineminus">-  -moz-box-align: center;</span>
<a href="#l21.53"></a><span id="l21.53" class="difflineminus">-  margin-bottom: 1px;</span>
<a href="#l21.54"></a><span id="l21.54" class="difflineminus">-  -moz-margin-end: 1px;</span>
<a href="#l21.55"></a><span id="l21.55" class="difflineminus">-  padding: 0 5px;</span>
<a href="#l21.56"></a><span id="l21.56" class="difflineminus">-  border-style: none solid solid;</span>
<a href="#l21.57"></a><span id="l21.57" class="difflineminus">-  border-width: 3px;</span>
<a href="#l21.58"></a><span id="l21.58" class="difflineminus">-  -moz-border-right-colors: rgba(0, 0, 0, .08) rgba(0, 0, 0, .17) rgba(180, 180, 180, .29);</span>
<a href="#l21.59"></a><span id="l21.59" class="difflineminus">-  -moz-border-bottom-colors: rgba(0, 0, 0, .08) rgba(0, 0, 0, .17) rgba(180, 180, 180, .29);</span>
<a href="#l21.60"></a><span id="l21.60" class="difflineminus">-  -moz-border-left-colors: rgba(0, 0, 0, .08) rgba(0, 0, 0, .17) rgba(180, 180, 180, .29);</span>
<a href="#l21.61"></a><span id="l21.61" class="difflineminus">-  background-clip: padding-box;</span>
<a href="#l21.62"></a><span id="l21.62" class="difflineminus">-  min-width: 1px !important;</span>
<a href="#l21.63"></a><span id="l21.63" class="difflineminus">-  text-align: center;</span>
<a href="#l21.64"></a><span id="l21.64" class="difflineminus">-  height: 24px;</span>
<a href="#l21.65"></a><span id="l21.65" class="difflineplus">+  background: -moz-linear-gradient(hsla(0, 0%, 100%, .2),</span>
<a href="#l21.66"></a><span id="l21.66" class="difflineplus">+              hsla(0, 0%, 45%, .2) 1px, hsla(0, 0%, 32%, .2) 50%);</span>
<a href="#l21.67"></a><span id="l21.67" class="difflineplus">+  background-position: -5px -2px;</span>
<a href="#l21.68"></a><span id="l21.68" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l21.69"></a><span id="l21.69" class="difflineplus">+  background-size: -moz-calc(100% + 11px) -moz-calc(100% + 11px);</span>
<a href="#l21.70"></a><span id="l21.70" class="difflineplus">+  margin: 0;</span>
<a href="#l21.71"></a><span id="l21.71" class="difflineplus">+  padding: 0;</span>
<a href="#l21.72"></a><span id="l21.72" class="difflineplus">+  -moz-border-image: url(chrome://messenger/skin/tabs/tab-normal-active.png) 4 5 3 6 /</span>
<a href="#l21.73"></a><span id="l21.73" class="difflineplus">+                     4px 5px 3px 6px repeat stretch;</span>
<a href="#l21.74"></a><span id="l21.74" class="difflineplus">+  border-radius: 4px 4px 0 0;</span>
<a href="#l21.75"></a><span id="l21.75" class="difflineplus">+  min-height: 23px;</span>
<a href="#l21.76"></a><span id="l21.76" class="difflineplus">+}</span>
<a href="#l21.77"></a><span id="l21.77" class="difflineplus">+</span>
<a href="#l21.78"></a><span id="l21.78" class="difflineplus">+.tabmail-tab[selected=&quot;true&quot;] {</span>
<a href="#l21.79"></a><span id="l21.79" class="difflineplus">+  -moz-border-image: url(chrome://messenger/skin/tabs/tab.png) 4 5 3 6 /</span>
<a href="#l21.80"></a><span id="l21.80" class="difflineplus">+                     4px 5px 3px 6px repeat stretch;</span>
<a href="#l21.81"></a><span id="l21.81" class="difflineplus">+}</span>
<a href="#l21.82"></a><span id="l21.82" class="difflineplus">+</span>
<a href="#l21.83"></a><span id="l21.83" class="difflineplus">+.tabmail-tab[selected=&quot;true&quot;]:not(:-moz-lwtheme) {</span>
<a href="#l21.84"></a><span id="l21.84" class="difflineplus">+  background-color: -moz-mac-chrome-active;</span>
<a href="#l21.85"></a><span id="l21.85"> }</span>
<a href="#l21.86"></a><span id="l21.86"> </span>
<a href="#l21.87"></a><span id="l21.87"> </span>
<a href="#l21.88"></a><span id="l21.88" class="difflineminus">-.tabmail-strip:-moz-lwtheme,</span>
<a href="#l21.89"></a><span id="l21.89" class="difflineminus">-.tabmail-tabs:-moz-lwtheme {</span>
<a href="#l21.90"></a><span id="l21.90" class="difflineminus">-  background: none !important;</span>
<a href="#l21.91"></a><span id="l21.91" class="difflineplus">+.tabmail-tab[selected=&quot;true&quot;]:not(:-moz-lwtheme):-moz-window-inactive {</span>
<a href="#l21.92"></a><span id="l21.92" class="difflineplus">+  background-color: -moz-mac-chrome-inactive;</span>
<a href="#l21.93"></a><span id="l21.93"> }</span>
<a href="#l21.94"></a><span id="l21.94"> </span>
<a href="#l21.95"></a><span id="l21.95" class="difflineminus">-.tabmail-tabs:-moz-lwtheme {</span>
<a href="#l21.96"></a><span id="l21.96" class="difflineminus">-  box-shadow: inset 0 1px 0 rgba(50,50,50,.5);</span>
<a href="#l21.97"></a><span id="l21.97" class="difflineplus">+.tabmail-tab[selected=&quot;true&quot;]:-moz-lwtheme {</span>
<a href="#l21.98"></a><span id="l21.98" class="difflineplus">+  background: transparent;</span>
<a href="#l21.99"></a><span id="l21.99"> }</span>
<a href="#l21.100"></a><span id="l21.100"> </span>
<a href="#l21.101"></a><span id="l21.101" class="difflineminus">-.tabmail-tab:-moz-lwtheme[selected=&quot;true&quot;] {</span>
<a href="#l21.102"></a><span id="l21.102" class="difflineminus">-  background-color: transparent !important;</span>
<a href="#l21.103"></a><span id="l21.103" class="difflineminus">-  border-top-width: 1px;</span>
<a href="#l21.104"></a><span id="l21.104" class="difflineminus">-  border-style: solid;</span>
<a href="#l21.105"></a><span id="l21.105" class="difflineminus">-  border-color: rgba(0, 0, 0, .08);</span>
<a href="#l21.106"></a><span id="l21.106" class="difflineminus">-  height: 25px;</span>
<a href="#l21.107"></a><span id="l21.107" class="difflineplus">+.tabmail-tab:not([selected=&quot;true&quot;]):hover {</span>
<a href="#l21.108"></a><span id="l21.108" class="difflineplus">+  -moz-border-image: url(chrome://messenger/skin/tabs/tab-hover-active.png) 4 5 3 6 /</span>
<a href="#l21.109"></a><span id="l21.109" class="difflineplus">+                     4px 5px 3px 6px repeat stretch;</span>
<a href="#l21.110"></a><span id="l21.110"> }</span>
<a href="#l21.111"></a><span id="l21.111"> </span>
<a href="#l21.112"></a><span id="l21.112"> .tabmail-tab:-moz-lwtheme:not([selected=&quot;true&quot;]):not(:hover) &gt; .tab-text {</span>
<a href="#l21.113"></a><span id="l21.113">   opacity: .8;</span>
<a href="#l21.114"></a><span id="l21.114"> }</span>
<a href="#l21.115"></a><span id="l21.115"> </span>
<a href="#l21.116"></a><span id="l21.116"> .tabmail-arrowscrollbox:-moz-lwtheme &gt; .tabs-newtab-button {</span>
<a href="#l21.117"></a><span id="l21.117">   width: auto;</span>
<a href="#l21.118"></a><span id="l21.118">   -moz-box-flex: 1;</span>
<a href="#l21.119"></a><span id="l21.119">   -moz-box-pack: start;</span>
<a href="#l21.120"></a><span id="l21.120">   border-style: none;</span>
<a href="#l21.121"></a><span id="l21.121">   background: none;</span>
<a href="#l21.122"></a><span id="l21.122"> }</span>
<a href="#l21.123"></a><span id="l21.123"> </span>
<a href="#l21.124"></a><span id="l21.124"> .tabmail-tab:-moz-lwtheme-brighttext {</span>
<a href="#l21.125"></a><span id="l21.125">   -moz-border-left-colors: rgba(255,255,255,.1) rgba(255,255,255,.6) rgba(255,255,255,.2);</span>
<a href="#l21.126"></a><span id="l21.126" class="difflineminus">-  -moz-border-bottom-colors: rgba(255,255,255,.1) rgba(255,255,255,.6) rgba(255,255,255,.2);</span>
<a href="#l21.127"></a><span id="l21.127" class="difflineplus">+  -moz-border-top-colors: rgba(255,255,255,.1) rgba(255,255,255,.6) rgba(255,255,255,.2);</span>
<a href="#l21.128"></a><span id="l21.128">   -moz-border-right-colors: rgba(255,255,255,.1) rgba(255,255,255,.6) rgba(255,255,255,.2);</span>
<a href="#l21.129"></a><span id="l21.129"> }</span>
<a href="#l21.130"></a><span id="l21.130"> </span>
<a href="#l21.131"></a><span id="l21.131"> .tabmail-tab:-moz-lwtheme-brighttext[selected=&quot;true&quot;] {</span>
<a href="#l21.132"></a><span id="l21.132" class="difflineminus">-  -moz-border-left-colors: rgba(255,255,255,.6) rgba(255,255,255,.2);</span>
<a href="#l21.133"></a><span id="l21.133" class="difflineminus">-  -moz-border-bottom-colors: rgba(255,255,255,.6) rgba(255,255,255,.2);</span>
<a href="#l21.134"></a><span id="l21.134" class="difflineminus">-  -moz-border-right-colors: rgba(255,255,255,.6) rgba(255,255,255,.2);</span>
<a href="#l21.135"></a><span id="l21.135" class="difflineminus">-}</span>
<a href="#l21.136"></a><span id="l21.136" class="difflineminus">-</span>
<a href="#l21.137"></a><span id="l21.137" class="difflineminus">-.tabs-newtab-button:-moz-lwtheme-darktext,</span>
<a href="#l21.138"></a><span id="l21.138" class="difflineminus">-.tabs-alltabs-button:-moz-lwtheme-darktext,</span>
<a href="#l21.139"></a><span id="l21.139" class="difflineminus">-.tabs-container:-moz-lwtheme-darktext &gt; .tabs-closebutton,</span>
<a href="#l21.140"></a><span id="l21.140" class="difflineminus">-.tabbrowser-arrowscrollbox:-moz-lwtheme-darktext &gt; .scrollbutton-up,</span>
<a href="#l21.141"></a><span id="l21.141" class="difflineminus">-.tabmail-arrowscrollbox:-moz-lwtheme-darktext &gt; .scrollbutton-down {</span>
<a href="#l21.142"></a><span id="l21.142" class="difflineminus">-  box-shadow: inset 0 1px 0 rgba(50,50,50,.5);</span>
<a href="#l21.143"></a><span id="l21.143" class="difflineminus">-}</span>
<a href="#l21.144"></a><span id="l21.144" class="difflineminus">-</span>
<a href="#l21.145"></a><span id="l21.145" class="difflineminus">-.tabs-newtab-button:-moz-lwtheme-brighttext,</span>
<a href="#l21.146"></a><span id="l21.146" class="difflineminus">-.tabs-alltabs-button:-moz-lwtheme-brighttext,</span>
<a href="#l21.147"></a><span id="l21.147" class="difflineminus">-.tabs-container:-moz-lwtheme-brighttext &gt; .tabs-closebutton,</span>
<a href="#l21.148"></a><span id="l21.148" class="difflineminus">-.tabmail-arrowscrollbox:-moz-lwtheme-brighttext &gt; .scrollbutton-up,</span>
<a href="#l21.149"></a><span id="l21.149" class="difflineminus">-.tabmail-arrowscrollbox:-moz-lwtheme-brighttext &gt; .scrollbutton-down {</span>
<a href="#l21.150"></a><span id="l21.150" class="difflineminus">-  box-shadow: inset 0 1px 0 rgba(255,255,255,.6);</span>
<a href="#l21.151"></a><span id="l21.151" class="difflineminus">-}</span>
<a href="#l21.152"></a><span id="l21.152" class="difflineminus">-</span>
<a href="#l21.153"></a><span id="l21.153" class="difflineminus">-.tabmail-tab:not([selected=&quot;true&quot;]) {</span>
<a href="#l21.154"></a><span id="l21.154" class="difflineminus">-  background-image: url(chrome://messenger/skin/tabs/tab-bkgnd.png);</span>
<a href="#l21.155"></a><span id="l21.155" class="difflineminus">-}</span>
<a href="#l21.156"></a><span id="l21.156" class="difflineminus">-</span>
<a href="#l21.157"></a><span id="l21.157" class="difflineminus">-.tabmail-tab[selected=&quot;true&quot;] {</span>
<a href="#l21.158"></a><span id="l21.158" class="difflineminus">-  -moz-user-focus: normal;</span>
<a href="#l21.159"></a><span id="l21.159" class="difflineminus">-  padding: 0 6px 1px;</span>
<a href="#l21.160"></a><span id="l21.160" class="difflineminus">-  border-width: 2px;</span>
<a href="#l21.161"></a><span id="l21.161" class="difflineminus">-  -moz-border-left-colors: rgba(0, 0, 0, .1) rgba(0, 0, 0, .2);</span>
<a href="#l21.162"></a><span id="l21.162" class="difflineminus">-  -moz-border-bottom-colors: rgba(0, 0, 0, .1) rgba(0, 0, 0, .2);</span>
<a href="#l21.163"></a><span id="l21.163" class="difflineminus">-  -moz-border-right-colors: rgba(0, 0, 0, .1) rgba(0, 0, 0, .2);</span>
<a href="#l21.164"></a><span id="l21.164" class="difflineminus">-  background-color: -moz-mac-chrome-active;</span>
<a href="#l21.165"></a><span id="l21.165" class="difflineplus">+  -moz-border-left-colors: rgba(255,255,255,.6);</span>
<a href="#l21.166"></a><span id="l21.166" class="difflineplus">+  -moz-border-top-colors: rgba(255,255,255,.6);</span>
<a href="#l21.167"></a><span id="l21.167" class="difflineplus">+  -moz-border-right-colors: rgba(255,255,255,.6);</span>
<a href="#l21.168"></a><span id="l21.168"> }</span>
<a href="#l21.169"></a><span id="l21.169"> </span>
<a href="#l21.170"></a><span id="l21.170"> .tabmail-tab[selected=&quot;true&quot;]:focus &gt; .tab-text {</span>
<a href="#l21.171"></a><span id="l21.171">   outline: 2px solid #4F8EC9;</span>
<a href="#l21.172"></a><span id="l21.172">   outline-offset: -2px;</span>
<a href="#l21.173"></a><span id="l21.173">   -moz-outline-radius: 3px;</span>
<a href="#l21.174"></a><span id="l21.174"> }</span>
<a href="#l21.175"></a><span id="l21.175"> </span>
<a href="#l21.176"></a><span id="l21.176"> .tabmail-tab[selected=&quot;true&quot;],</span>
<a href="#l21.177"></a><span id="l21.177"> .tabmail-tab:hover {</span>
<a href="#l21.178"></a><span id="l21.178">   color: #000000;</span>
<a href="#l21.179"></a><span id="l21.179"> }</span>
<a href="#l21.180"></a><span id="l21.180"> </span>
<a href="#l21.181"></a><span id="l21.181" class="difflineminus">-.tabmail-strip {</span>
<a href="#l21.182"></a><span id="l21.182" class="difflineminus">-  margin-top: -2px;</span>
<a href="#l21.183"></a><span id="l21.183" class="difflineminus">-  border-bottom: 1px solid #404040;</span>
<a href="#l21.184"></a><span id="l21.184" class="difflineminus">-  background-color: #9B9B9B;</span>
<a href="#l21.185"></a><span id="l21.185" class="difflineminus">-}</span>
<a href="#l21.186"></a><span id="l21.186" class="difflineminus">-</span>
<a href="#l21.187"></a><span id="l21.187"> .tabmail-tabs {</span>
<a href="#l21.188"></a><span id="l21.188">   border: none;</span>
<a href="#l21.189"></a><span id="l21.189">   -moz-box-pack: center;</span>
<a href="#l21.190"></a><span id="l21.190">   -moz-box-align: center;</span>
<a href="#l21.191"></a><span id="l21.191" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/tabs/tabbrowser-tabs-bkgnd.png&quot;) repeat-x;</span>
<a href="#l21.192"></a><span id="l21.192" class="difflineminus">-  height: 25px;</span>
<a href="#l21.193"></a><span id="l21.193" class="difflineplus">+  height: 23px;</span>
<a href="#l21.194"></a><span id="l21.194">   margin-bottom: 0;</span>
<a href="#l21.195"></a><span id="l21.195"> }</span>
<a href="#l21.196"></a><span id="l21.196"> </span>
<a href="#l21.197"></a><span id="l21.197"> .tabs-left {</span>
<a href="#l21.198"></a><span id="l21.198">   display: -moz-box;</span>
<a href="#l21.199"></a><span id="l21.199">   width: 3px;</span>
<a href="#l21.200"></a><span id="l21.200"> }</span>
<a href="#l21.201"></a><span id="l21.201"> </span>
<a href="#l21.202"></a><span id="l21.202" class="difflineat">@@ -215,17 +167,17 @@ tabmail &gt; tabbox &gt; tabpanels {</span>
<a href="#l21.203"></a><span id="l21.203"> </span>
<a href="#l21.204"></a><span id="l21.204"> </span>
<a href="#l21.205"></a><span id="l21.205"> /**</span>
<a href="#l21.206"></a><span id="l21.206">  * Tab Drag and Drop</span>
<a href="#l21.207"></a><span id="l21.207">  */</span>
<a href="#l21.208"></a><span id="l21.208"> </span>
<a href="#l21.209"></a><span id="l21.209"> .tab-drop-indicator {</span>
<a href="#l21.210"></a><span id="l21.210">   list-style-image: url(chrome://messenger/skin/tabs/tabDragIndicator.png);</span>
<a href="#l21.211"></a><span id="l21.211" class="difflineminus">-  margin-top: -8px;</span>
<a href="#l21.212"></a><span id="l21.212" class="difflineplus">+  margin-bottom: -8px;</span>
<a href="#l21.213"></a><span id="l21.213"> }</span>
<a href="#l21.214"></a><span id="l21.214"> </span>
<a href="#l21.215"></a><span id="l21.215"> /**</span>
<a href="#l21.216"></a><span id="l21.216">  * In-tab close button</span>
<a href="#l21.217"></a><span id="l21.217">  */</span>
<a href="#l21.218"></a><span id="l21.218"> </span>
<a href="#l21.219"></a><span id="l21.219"> .tab-close-button &gt; .toolbarbutton-icon {</span>
<a href="#l21.220"></a><span id="l21.220">   -moz-margin-end: 0px !important;</span>
<a href="#l21.221"></a><span id="l21.221" class="difflineat">@@ -326,20 +278,16 @@ tabmail &gt; tabbox &gt; tabpanels {</span>
<a href="#l21.222"></a><span id="l21.222">  */</span>
<a href="#l21.223"></a><span id="l21.223"> </span>
<a href="#l21.224"></a><span id="l21.224"> .tabs-alltabs-box {</span>
<a href="#l21.225"></a><span id="l21.225">   margin: 0;</span>
<a href="#l21.226"></a><span id="l21.226"> }</span>
<a href="#l21.227"></a><span id="l21.227"> </span>
<a href="#l21.228"></a><span id="l21.228"> .tabs-newtab-button ,</span>
<a href="#l21.229"></a><span id="l21.229"> .tabs-alltabs-button {</span>
<a href="#l21.230"></a><span id="l21.230" class="difflineminus">-  -moz-border-start: 2px solid;</span>
<a href="#l21.231"></a><span id="l21.231" class="difflineminus">-  -moz-border-end: none;</span>
<a href="#l21.232"></a><span id="l21.232" class="difflineminus">-  -moz-border-left-colors: rgba(0,0,0,0.25) rgba(255,255,255,0.15);</span>
<a href="#l21.233"></a><span id="l21.233" class="difflineminus">-  -moz-border-right-colors: rgba(0,0,0,0.25) rgba(255,255,255,0.15);</span>
<a href="#l21.234"></a><span id="l21.234">   margin: 0;</span>
<a href="#l21.235"></a><span id="l21.235">   padding: 0 4px;</span>
<a href="#l21.236"></a><span id="l21.236"> }</span>
<a href="#l21.237"></a><span id="l21.237"> .tabs-newtab-button {</span>
<a href="#l21.238"></a><span id="l21.238">   list-style-image: url(chrome://messenger/skin/tabs/newtab.png);</span>
<a href="#l21.239"></a><span id="l21.239"> }</span>
<a href="#l21.240"></a><span id="l21.240"> .tabs-alltabs-button {</span>
<a href="#l21.241"></a><span id="l21.241">   padding-top: 2px;</span>
<a href="#l21.242"></a><span id="l21.242" class="difflineat">@@ -402,10 +350,36 @@ tabmail &gt; tabbox &gt; tabpanels {</span>
<a href="#l21.243"></a><span id="l21.243">   background-image: none !important;</span>
<a href="#l21.244"></a><span id="l21.244"> }</span>
<a href="#l21.245"></a><span id="l21.245"> </span>
<a href="#l21.246"></a><span id="l21.246"> .tabs-closebutton:hover:active {</span>
<a href="#l21.247"></a><span id="l21.247">   -moz-image-region: rect(0, 48px, 16px, 32px);</span>
<a href="#l21.248"></a><span id="l21.248"> }</span>
<a href="#l21.249"></a><span id="l21.249"> </span>
<a href="#l21.250"></a><span id="l21.250"> tabpanels.plain {</span>
<a href="#l21.251"></a><span id="l21.251" class="difflineminus">-  background-color: #fff !important;</span>
<a href="#l21.252"></a><span id="l21.252" class="difflineplus">+  background-color: transparent;</span>
<a href="#l21.253"></a><span id="l21.253" class="difflineplus">+}</span>
<a href="#l21.254"></a><span id="l21.254" class="difflineplus">+</span>
<a href="#l21.255"></a><span id="l21.255" class="difflineplus">+/* Content Tabs */</span>
<a href="#l21.256"></a><span id="l21.256" class="difflineplus">+</span>
<a href="#l21.257"></a><span id="l21.257" class="difflineplus">+.contentTabToolbox {</span>
<a href="#l21.258"></a><span id="l21.258" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l21.259"></a><span id="l21.259" class="difflineplus">+  border: 0;</span>
<a href="#l21.260"></a><span id="l21.260" class="difflineplus">+}</span>
<a href="#l21.261"></a><span id="l21.261" class="difflineplus">+</span>
<a href="#l21.262"></a><span id="l21.262" class="difflineplus">+.contentTabInstance[disablechrome] .contentTabToolbox {</span>
<a href="#l21.263"></a><span id="l21.263" class="difflineplus">+  display: none;</span>
<a href="#l21.264"></a><span id="l21.264"> }</span>
<a href="#l21.265"></a><span id="l21.265" class="difflineplus">+</span>
<a href="#l21.266"></a><span id="l21.266" class="difflineplus">+.contentTabToolbox:not(:-moz-lwtheme) {</span>
<a href="#l21.267"></a><span id="l21.267" class="difflineplus">+  border-bottom: 1px solid rgb(105, 105, 105);</span>
<a href="#l21.268"></a><span id="l21.268" class="difflineplus">+}</span>
<a href="#l21.269"></a><span id="l21.269" class="difflineplus">+</span>
<a href="#l21.270"></a><span id="l21.270" class="difflineplus">+.contentTabToolbox:-moz-lwtheme {</span>
<a href="#l21.271"></a><span id="l21.271" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5) 50%);</span>
<a href="#l21.272"></a><span id="l21.272" class="difflineplus">+  background-color: rgba(255, 255, 255, 0.3);</span>
<a href="#l21.273"></a><span id="l21.273" class="difflineplus">+}</span>
<a href="#l21.274"></a><span id="l21.274" class="difflineplus">+</span>
<a href="#l21.275"></a><span id="l21.275" class="difflineplus">+.contentTabToolbar {</span>
<a href="#l21.276"></a><span id="l21.276" class="difflineplus">+  -moz-appearance: none !important;</span>
<a href="#l21.277"></a><span id="l21.277" class="difflineplus">+  min-height: 0px;</span>
<a href="#l21.278"></a><span id="l21.278" class="difflineplus">+  padding: 0;</span>
<a href="#l21.279"></a><span id="l21.279" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1">index acf39e6e0e9236bddd226536703a50bc502aca4a..84c265b3b53e2771396c2c8f6916c97f1b9d6705</span>
<a href="#l22.2"></a><span id="l22.2">GIT binary patch
literal 104
zc%17D@N?(olHy`uVBq!ia0vp^96+qW!3HD`FW$WuNa=gJIEGZ*N{-l5v60#CjKQje
zkb^6l0$H0Q51yH6JojT_+p}kB`86{ZZrNfYAkW5Nt+Ymb^QX(oK&amp;=d(u6{1-oD!M&lt;
D6OJO6</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1">new file mode 100644</span>
<a href="#l23.2"></a><span id="l23.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..d838245d00d3f03d04d459dd8a057fb78c82385f</span>
<a href="#l23.3"></a><span id="l23.3">GIT binary patch
literal 389
zc$@)+0eb$4P)&lt;h;3K|Lk000e1NJLTq000aC000*V1^@s6KV+`I00009a7bBm000XU
z000XU0RWnu7ytkO2XskIMF-mq2m%l(zn$Ij0003bNkl&lt;ZILm#M&amp;2GXl5QM*VtWe4Y
z2~`}+`@c&gt;lP8I6CSK875-X1!OjODP&gt;%1(A&gt;e&lt;pSeF#avc2dxHN&lt;wZ^wcmNi_3-GKx
zz%TF(d}@D&lt;tWUtJ*1fwIcQ3%ci6sL@U&lt;V|3AAyUqp-S1zCbjet71qEza0I?Yx@dn?
zYz?HW{#Wk4t&gt;(Eici)=X3K)Vg0!t~&lt;v!yUYsFc;hoLxfEm?3vS);#B!AqYN`-CIJb
zzHXb*6?b7uR_WBKkOVfZ39umKj+~1)KfsSLH-dF4lx7YK0yBhb^)3iEIeRlqO)S*}
z@2F&amp;r03HN;&amp;{7?{n;~^7)Rj`*(x?pn;4DRa%)kaX%@C|2oPbT%Z9B{iZ58PN&gt;=H1!
j`x|g&gt;yi|XUvoO;iM&lt;-(|3=7KQ00000NkvXXu0mjflKz&lt;l</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1">new file mode 100644</span>
<a href="#l24.2"></a><span id="l24.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..9a80bb3b5e88893107777d647d1a63e75137348c</span>
<a href="#l24.3"></a><span id="l24.3">GIT binary patch
literal 425
zc$@*L0apHrP)&lt;h;3K|Lk000e1NJLTq000aC000*V1^@s6KV+`I00009a7bBm000XU
z000XU0RWnu7ytkO2XskIMF-mq2muuon8e%s0003&lt;Nkl&lt;ZILnQby;8$45QIPdM8QcD
zCj%{MD0mGXoYEyN1r0PVAda2J*l}c0aAJaS#@viXr@7m?-Ib&amp;O#dl~~Ms|Q6@Ia6p
zD+L40footPIY0~4z=z~sNpk|+O8!!o&lt;qbfZrtiR=OnC!772tp^aJAp&gt;tG@63@px&lt;j
zoO5%nwOOy%E1&amp;^ht?*p|&amp;vjk9uIoIJPuremvzY-(;2zLX&lt;TA^$(|L1@uIqf3WhY&lt;&gt;
z7%Kpmrs&lt;-psy_hHvJmPf+Gm@l8EpoTnmza4G94DsQMC2mhyMb4z$8gxCIANLwLA?y
z(x3)s4Ja!GdpI2aqd~&lt;9&gt;cRvyJnIYNV}v2aXr~@=DGUJm91uoa8d3^BLI8E)9&gt;OIJ
zdZPIkB?qXYDD;G_3UC(K0AaV=sR=*;HdcOHUKGXD)5w9Xm5=e5=lK++C*a`=!m4mE
TBbnI^00000NkvXXu0mjf+m@-;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1">new file mode 100644</span>
<a href="#l25.2"></a><span id="l25.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..f61385735222067937f40a69e84d83137c51552f</span>
<a href="#l25.3"></a><span id="l25.3">GIT binary patch
literal 422
zc%17D@N?(olHy`uVBq!ia0vp^JU}eY!3HGlQ`YSVQfx`y?k)^q@Y8vBJ&amp;@uo@Q5sC
zVBi)8VMc~ob0mO*&gt;?NMQuI#sYI2iN=&amp;m5g?%fP^B?CIhdVsU!vWk)ZWKmoP~@Au}(
zicV^&lt;nBBm_a!|Wsw#+%@3eNlqp$a@ZF7`6cG&lt;aOHbHhB7jPDbg7VVC|djJ3G{j0e6
z0`^AEkNaf(VG^J7e0|xz!oKwur#{#J=oY;uky6l^J;(J(tc%T(`ww-Jy=6pe4zkv{
z9+9_s8n1eLd(bKVn1|)Qvo3e+@O|Z;b4h;VsT-PYU95hSG9NF_H7aXz4PJ77(X%z~
zFM}7#o!9)BzU}Osb%rH3o_;pY-gt?@l)v1#;TFT;dWJSLu6ALr-l&lt;kD_VZ@f^4yxL
z&lt;oH{HD=Fqn8QTU~@z~)1XIr+sUB$j4ch6~!O7lSH%(r&gt;JH}o$wzO~M3Ql5F&gt;mulW_
zADOf%Qby?)pR27cc0Kzgu{ZUoYMz_7@l*31IzJ=@@2Bs&amp;vqpRAo&amp;8KZm2;OYQd}4X
O3T{tVKbLh*2~7alWT`y&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mail/themes/qute/jar.mn</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mail/themes/qute/jar.mn</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -196,25 +196,18 @@ classic.jar:</span>
<a href="#l26.4"></a><span id="l26.4">   skin/classic/messenger/icons/identity.png                   (mail/icons/identity.png)</span>
<a href="#l26.5"></a><span id="l26.5">   skin/classic/messenger/icons/tick.png                       (mail/icons/tick.png)</span>
<a href="#l26.6"></a><span id="l26.6">   skin/classic/messenger/icons/error.png                      (mail/icons/error.png)</span>
<a href="#l26.7"></a><span id="l26.7">   skin/classic/messenger/icons/cancel.png                     (mail/icons/cancel.png)</span>
<a href="#l26.8"></a><span id="l26.8">   skin/classic/messenger/icons/tab-arrow-left.png             (mail/icons/tab-arrow-left.png)</span>
<a href="#l26.9"></a><span id="l26.9">   skin/classic/messenger/icons/tab-arrow-left-inverted.png    (mail/icons/tab-arrow-left-inverted.png)</span>
<a href="#l26.10"></a><span id="l26.10">   skin/classic/messenger/icons/mainwindow-dropdown-arrow.png  (mail/icons/mainwindow-dropdown-arrow.png)</span>
<a href="#l26.11"></a><span id="l26.11">   skin/classic/messenger/icons/mainwindow-dropdown-arrow-inverted.png  (mail/icons/mainwindow-dropdown-arrow-inverted.png)</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-  skin/classic/messenger/icons/tabmail-tabs-bkgnd.png             (mail/icons/tabmail-tabs-bkgnd.png)</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineminus">-  skin/classic/messenger/icons/tabDragIndicator.png               (mail/icons/tabDragIndicator.png)</span>
<a href="#l26.14"></a><span id="l26.14" class="difflineminus">-  skin/classic/messenger/icons/tab-left.png                       (mail/icons/tab-left.png)</span>
<a href="#l26.15"></a><span id="l26.15" class="difflineminus">-  skin/classic/messenger/icons/tab-left-bkgnd.png                 (mail/icons/tab-left-bkgnd.png)</span>
<a href="#l26.16"></a><span id="l26.16" class="difflineminus">-  skin/classic/messenger/icons/tab-middle.png                     (mail/icons/tab-middle.png)</span>
<a href="#l26.17"></a><span id="l26.17" class="difflineminus">-  skin/classic/messenger/icons/tab-middle-bkgnd.png               (mail/icons/tab-middle-bkgnd.png)</span>
<a href="#l26.18"></a><span id="l26.18" class="difflineminus">-  skin/classic/messenger/icons/tab-right.png                      (mail/icons/tab-right.png)</span>
<a href="#l26.19"></a><span id="l26.19" class="difflineminus">-  skin/classic/messenger/icons/tab-right-bkgnd.png                (mail/icons/tab-right-bkgnd.png)</span>
<a href="#l26.20"></a><span id="l26.20" class="difflineminus">-  skin/classic/messenger/icons/tabstrip-bottom.png                (mail/icons/tabstrip-bottom.png)</span>
<a href="#l26.21"></a><span id="l26.21" class="difflineplus">+  skin/classic/messenger/icons/tabDragIndicator.png           (mail/icons/tabDragIndicator.png)</span>
<a href="#l26.22"></a><span id="l26.22" class="difflineplus">+  skin/classic/messenger/icons/tab.png                        (mail/icons/tab.png)</span>
<a href="#l26.23"></a><span id="l26.23">   skin/classic/messenger/accountcentral/read-messages.png     (mail/accountcentral/read-messages.png)</span>
<a href="#l26.24"></a><span id="l26.24">   skin/classic/messenger/accountcentral/write-message.png     (mail/accountcentral/write-message.png)</span>
<a href="#l26.25"></a><span id="l26.25">   skin/classic/messenger/accountcentral/create-account.png    (mail/accountcentral/create-account.png)</span>
<a href="#l26.26"></a><span id="l26.26">   skin/classic/messenger/accountcentral/account-settings.png  (mail/accountcentral/account-settings.png)</span>
<a href="#l26.27"></a><span id="l26.27">   skin/classic/messenger/accountcentral/search-messages.png   (mail/accountcentral/search-messages.png)</span>
<a href="#l26.28"></a><span id="l26.28">   skin/classic/messenger/accountcentral/manage-filters.png    (mail/accountcentral/manage-filters.png)</span>
<a href="#l26.29"></a><span id="l26.29">   skin/classic/messenger/accountcentral/offline-settings.png  (mail/accountcentral/offline-settings.png)</span>
<a href="#l26.30"></a><span id="l26.30">   skin/classic/messenger/accountcentral/manage-imap.png       (mail/accountcentral/manage-imap.png)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1">deleted file mode 100644</span>
<a href="#l27.2"></a><span id="l27.2">index 60cf0c097a1d8bc58b83e81423b43acb6f439373..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l27.3"></a><span id="l27.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1">deleted file mode 100644</span>
<a href="#l28.2"></a><span id="l28.2">index bc357cc2e257727f98ba9e3d275d324a9d4b84b4..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l28.3"></a><span id="l28.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1">deleted file mode 100644</span>
<a href="#l29.2"></a><span id="l29.2">index bc955065c33dc741e2c4f5e45693546d5edc4c67..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l29.3"></a><span id="l29.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1">deleted file mode 100644</span>
<a href="#l30.2"></a><span id="l30.2">index c63a0fdd4a8087c141b01971498a305e54b24543..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l30.3"></a><span id="l30.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1">deleted file mode 100644</span>
<a href="#l31.2"></a><span id="l31.2">index 967b59fa391051f375edcf65bb69fb798dbb6ac2..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l31.3"></a><span id="l31.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1">deleted file mode 100644</span>
<a href="#l32.2"></a><span id="l32.2">index 7a25b14669c7c452c229a0b0b58e6fc467176750..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l32.3"></a><span id="l32.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1">index d0aaf2a297286a70b941ede1476beb5eba30c70d..fb0fc676f11c54d4b5af1e284e72a8e8b5b3f684</span>
<a href="#l33.2"></a><span id="l33.2">GIT binary patch
literal 238
zc%17D@N?(olHy`uVBq!ia0vp^Ahrw#8&lt;33Ht7i?QBuiW)N`mv#O3D+9QW+dm@{&gt;{(
zJaZG%Q-e|yQz{EjrrH1%P4IMa45_%4BqBIHDJda=Au&amp;zEjjev+4|(nh39Lz?3SkUM
zb|$U!8-6ef+-ID*Bs)2G&gt;Hgf$Zs)G+&amp;$DwsreHWh#)Fsn!mA0(&amp;(Ev;`~QEuM90jA
z8H`&lt;yIf)&gt;d6E0&lt;%o}LpvzIVuT+$46Sj(uu!dK1?_#z+5oW&lt;0PD;d&gt;M9#&amp;)QoFy!Hi
hLxHU(K^y`J3|Ft%GfduRr3G{wgQu&amp;X%Q~loCIBBuRU!ZY</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1">index 6a18e78e5e366d4bae6cbbfaac92dfdd8b01eb44..e52ca1ab6e9cbe2f624ce87678399d89b1fb80c3</span>
<a href="#l34.2"></a><span id="l34.2">GIT binary patch
literal 447
zc$@*h0YLtVP)&lt;h;3K|Lk000e1NJLTq000XB000XJ1^@s6sjPP&lt;00001b5ch_0Itp)
z=&gt;Px#24YJ`L;(K){{a7&gt;y{D4^000SaNLh0L01FcU01FcV0GgZ_00007bV*G`2ipo0
z4lxZ5L-3gZ00BQqL_t&amp;-(`}H?D+FNxhM#Y~Z+3RmT3QFEO?%oCdp70Dl&amp;g!9M1Ecf
z7nvN$O(GY60wHqX;-a`ZDrHlMa$sjyVdtCAN$qUj+uQRT-d&lt;shp+2tXr*#ws(z2Sb
z&amp;Q&gt;e+%xVzZYgz|WL!*RR2d?M0{VThkUkJ5+S(upSasP|iu}MO$-(1fx#$?y?3w$PT
zSLWv^9aT_Gf``LT7N=&amp;=I=XQ^KMx?f`&lt;C;-{o2wZuQyeQ;Q2Nnn`^?dELu7x&gt;s#BA
zlCnee_HSONlbNE?LYPP-N5=aoU6#rBWZ2!hz)979P*GI&lt;F5jv1)7kF7O@jk_CgIrF
ztpdlf!N9@su=DR5Qc4nzL}mm|%7%tpW3n-juoWr=30q&gt;R7)Hg45=bfND(1i#RE##r
pAJzA#osE+$Kp1Mi!peI+{{@aYaNqqEWy=5n002ovPDHLkV1kEOzq$Yb</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1">deleted file mode 100644</span>
<a href="#l35.2"></a><span id="l35.2">index eb8e901d032983bf821f718c4e1eb5718e5b3b80..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l35.3"></a><span id="l35.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1">deleted file mode 100644</span>
<a href="#l36.2"></a><span id="l36.2">index 945f42da7c50d40398555fe91501adbdfab21012..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l36.3"></a><span id="l36.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mail/themes/qute/mail/mailWindow1-aero.css</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mail/themes/qute/mail/mailWindow1-aero.css</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -254,16 +254,22 @@ padding: 4px 0px;</span>
<a href="#l37.4"></a><span id="l37.4"> </span>
<a href="#l37.5"></a><span id="l37.5"> @media all and (-moz-windows-compositor) {</span>
<a href="#l37.6"></a><span id="l37.6">   #messengerWindow[sizemode=normal] tabpanels#tabpanelcontainer {</span>
<a href="#l37.7"></a><span id="l37.7">     border: 1px solid rgba(10%, 10%, 10%, .4);</span>
<a href="#l37.8"></a><span id="l37.8">     border-top: none;</span>
<a href="#l37.9"></a><span id="l37.9">     background-clip: padding-box;</span>
<a href="#l37.10"></a><span id="l37.10">   }</span>
<a href="#l37.11"></a><span id="l37.11"> </span>
<a href="#l37.12"></a><span id="l37.12" class="difflineplus">+  #messengerWindow[sizemode=normal] #mail-toolbar-menubar2 {</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+    border-right: 1px solid rgba(10%, 10%, 10%, .4);</span>
<a href="#l37.14"></a><span id="l37.14" class="difflineplus">+    border-left: 1px solid rgba(10%, 10%, 10%, .4);</span>
<a href="#l37.15"></a><span id="l37.15" class="difflineplus">+    background-clip: padding-box;</span>
<a href="#l37.16"></a><span id="l37.16" class="difflineplus">+  }</span>
<a href="#l37.17"></a><span id="l37.17" class="difflineplus">+</span>
<a href="#l37.18"></a><span id="l37.18">   #messengerWindow[sizemode=normal] statusbar {</span>
<a href="#l37.19"></a><span id="l37.19">     -moz-appearance: none;</span>
<a href="#l37.20"></a><span id="l37.20">     margin-top: -1px;</span>
<a href="#l37.21"></a><span id="l37.21">     border: 1px solid rgba(10%, 10%, 10%, .4);</span>
<a href="#l37.22"></a><span id="l37.22">     border-top-color: threedshadow;</span>
<a href="#l37.23"></a><span id="l37.23">     border-radius: 1px 1px 0 0;</span>
<a href="#l37.24"></a><span id="l37.24">     background-clip: padding-box;</span>
<a href="#l37.25"></a><span id="l37.25">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/mail/themes/qute/mail/mailWindow1.css</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/mail/themes/qute/mail/mailWindow1.css</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -53,17 +53,17 @@</span>
<a href="#l38.4"></a><span id="l38.4"> /* Don't use the listbox appearance as that gives us a blue-grey top border</span>
<a href="#l38.5"></a><span id="l38.5">    that collides with the primary toolbar border */</span>
<a href="#l38.6"></a><span id="l38.6"> #threadTree, #folderTree {</span>
<a href="#l38.7"></a><span id="l38.7">   -moz-appearance:  none;</span>
<a href="#l38.8"></a><span id="l38.8">   background-color: -moz-Field;</span>
<a href="#l38.9"></a><span id="l38.9">   color: -moz-FieldText;</span>
<a href="#l38.10"></a><span id="l38.10"> }</span>
<a href="#l38.11"></a><span id="l38.11"> </span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-#mailContent {</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineplus">+#messengerBox {</span>
<a href="#l38.14"></a><span id="l38.14">   -moz-appearance: toolbox;</span>
<a href="#l38.15"></a><span id="l38.15">   background-color: -moz-Dialog;</span>
<a href="#l38.16"></a><span id="l38.16"> }</span>
<a href="#l38.17"></a><span id="l38.17"> </span>
<a href="#l38.18"></a><span id="l38.18"> #tabmail:-moz-lwtheme {</span>
<a href="#l38.19"></a><span id="l38.19">   text-shadow: none;</span>
<a href="#l38.20"></a><span id="l38.20"> }</span>
<a href="#l38.21"></a><span id="l38.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/mail/themes/qute/mail/messageHeader-aero.css</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/mail/themes/qute/mail/messageHeader-aero.css</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -81,29 +81,23 @@</span>
<a href="#l39.4"></a><span id="l39.4"> </span>
<a href="#l39.5"></a><span id="l39.5"> #otherActionsButton {</span>
<a href="#l39.6"></a><span id="l39.6">   margin-bottom: .1em;</span>
<a href="#l39.7"></a><span id="l39.7">   padding-top: 0px;</span>
<a href="#l39.8"></a><span id="l39.8"> }</span>
<a href="#l39.9"></a><span id="l39.9"> </span>
<a href="#l39.10"></a><span id="l39.10"> /* ::::: expanded header pane ::::: */</span>
<a href="#l39.11"></a><span id="l39.11"> </span>
<a href="#l39.12"></a><span id="l39.12" class="difflineplus">+/* toolbars are optimized to look like OS-provided widgets; override this */</span>
<a href="#l39.13"></a><span id="l39.13"> .inline-toolbox {</span>
<a href="#l39.14"></a><span id="l39.14">   border-top-width: 0;</span>
<a href="#l39.15"></a><span id="l39.15">   -moz-appearance: none;</span>
<a href="#l39.16"></a><span id="l39.16">   background-color: transparent;</span>
<a href="#l39.17"></a><span id="l39.17"> }</span>
<a href="#l39.18"></a><span id="l39.18"> </span>
<a href="#l39.19"></a><span id="l39.19" class="difflineminus">-/* toolbars are optimized to look like OS-provided widgets; override this */</span>
<a href="#l39.20"></a><span id="l39.20" class="difflineminus">-.inline-toolbar {</span>
<a href="#l39.21"></a><span id="l39.21" class="difflineminus">-  -moz-appearance: none;</span>
<a href="#l39.22"></a><span id="l39.22" class="difflineminus">-  padding: 0;</span>
<a href="#l39.23"></a><span id="l39.23" class="difflineminus">-  border-bottom-width: 0 !important;</span>
<a href="#l39.24"></a><span id="l39.24" class="difflineminus">-}</span>
<a href="#l39.25"></a><span id="l39.25" class="difflineminus">-</span>
<a href="#l39.26"></a><span id="l39.26"> #expandedsubjectBox &gt; .headerValue {</span>
<a href="#l39.27"></a><span id="l39.27">   font-weight: bold;</span>
<a href="#l39.28"></a><span id="l39.28"> }</span>
<a href="#l39.29"></a><span id="l39.29"> </span>
<a href="#l39.30"></a><span id="l39.30"> /* ::::: edit message bar ::::: */</span>
<a href="#l39.31"></a><span id="l39.31"> </span>
<a href="#l39.32"></a><span id="l39.32"> #editMessageBox {</span>
<a href="#l39.33"></a><span id="l39.33">   min-width: 1px;</span>
<a href="#l39.34"></a><span id="l39.34" class="difflineat">@@ -366,24 +360,19 @@ toolbarpaletteitem &gt; #hdrReplyToSenderBu</span>
<a href="#l39.35"></a><span id="l39.35"> </span>
<a href="#l39.36"></a><span id="l39.36"> .hdrTrashButton {</span>
<a href="#l39.37"></a><span id="l39.37">   list-style-image: url(&quot;chrome://messenger/skin/icons/mail-toolbar.png&quot;);</span>
<a href="#l39.38"></a><span id="l39.38">   -moz-image-region: rect(0px, 144px, 18px, 126px);</span>
<a href="#l39.39"></a><span id="l39.39"> }</span>
<a href="#l39.40"></a><span id="l39.40"> </span>
<a href="#l39.41"></a><span id="l39.41"> .inline-toolbar toolbarpaletteitem toolbarseparator,</span>
<a href="#l39.42"></a><span id="l39.42"> .inline-toolbar toolbarseparator {</span>
<a href="#l39.43"></a><span id="l39.43" class="difflineminus">-  height: 30px;</span>
<a href="#l39.44"></a><span id="l39.44">   -moz-margin-start: 1px; /* make it symetrical */</span>
<a href="#l39.45"></a><span id="l39.45"> }</span>
<a href="#l39.46"></a><span id="l39.46"> </span>
<a href="#l39.47"></a><span id="l39.47" class="difflineminus">-.inline-toolbar toolbarspacer {</span>
<a href="#l39.48"></a><span id="l39.48" class="difflineminus">-  height: 24px;</span>
<a href="#l39.49"></a><span id="l39.49" class="difflineminus">-}</span>
<a href="#l39.50"></a><span id="l39.50" class="difflineminus">-</span>
<a href="#l39.51"></a><span id="l39.51"> .inline-toolbar {</span>
<a href="#l39.52"></a><span id="l39.52">   -moz-box-pack: end;</span>
<a href="#l39.53"></a><span id="l39.53"> }</span>
<a href="#l39.54"></a><span id="l39.54"> </span>
<a href="#l39.55"></a><span id="l39.55"> window[inlinetoolbox] #smallicons,</span>
<a href="#l39.56"></a><span id="l39.56"> window[inlinetoolbox] button[icon=&quot;add&quot;] {</span>
<a href="#l39.57"></a><span id="l39.57">   display: none;</span>
<a href="#l39.58"></a><span id="l39.58"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/mail/themes/qute/mail/messageHeader.css</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/mail/themes/qute/mail/messageHeader.css</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -83,29 +83,23 @@</span>
<a href="#l40.4"></a><span id="l40.4"> </span>
<a href="#l40.5"></a><span id="l40.5"> #otherActionsButton {</span>
<a href="#l40.6"></a><span id="l40.6">   margin-bottom: .1em;</span>
<a href="#l40.7"></a><span id="l40.7">   padding-top: 0px;</span>
<a href="#l40.8"></a><span id="l40.8"> }</span>
<a href="#l40.9"></a><span id="l40.9"> </span>
<a href="#l40.10"></a><span id="l40.10"> /* ::::: expanded header pane ::::: */</span>
<a href="#l40.11"></a><span id="l40.11"> </span>
<a href="#l40.12"></a><span id="l40.12" class="difflineplus">+/* toolbars are optimized to look like OS-provided widgets; override this */</span>
<a href="#l40.13"></a><span id="l40.13"> .inline-toolbox {</span>
<a href="#l40.14"></a><span id="l40.14">   border-top-width: 0;</span>
<a href="#l40.15"></a><span id="l40.15">   -moz-appearance: none;</span>
<a href="#l40.16"></a><span id="l40.16">   background-color: transparent;</span>
<a href="#l40.17"></a><span id="l40.17"> }</span>
<a href="#l40.18"></a><span id="l40.18"> </span>
<a href="#l40.19"></a><span id="l40.19" class="difflineminus">-/* toolbars are optimized to look like OS-provided widgets; override this */</span>
<a href="#l40.20"></a><span id="l40.20" class="difflineminus">-.inline-toolbar {</span>
<a href="#l40.21"></a><span id="l40.21" class="difflineminus">-  -moz-appearance: none;</span>
<a href="#l40.22"></a><span id="l40.22" class="difflineminus">-  padding: 0;</span>
<a href="#l40.23"></a><span id="l40.23" class="difflineminus">-  border-bottom-width: 0 !important;</span>
<a href="#l40.24"></a><span id="l40.24" class="difflineminus">-}</span>
<a href="#l40.25"></a><span id="l40.25" class="difflineminus">-</span>
<a href="#l40.26"></a><span id="l40.26"> #expandedsubjectBox &gt; .headerValue {</span>
<a href="#l40.27"></a><span id="l40.27">   font-weight: bold;</span>
<a href="#l40.28"></a><span id="l40.28"> }</span>
<a href="#l40.29"></a><span id="l40.29"> </span>
<a href="#l40.30"></a><span id="l40.30"> /* ::::: edit message bar ::::: */</span>
<a href="#l40.31"></a><span id="l40.31"> </span>
<a href="#l40.32"></a><span id="l40.32"> #editMessageBox {</span>
<a href="#l40.33"></a><span id="l40.33">   min-width: 1px;</span>
<a href="#l40.34"></a><span id="l40.34" class="difflineat">@@ -362,24 +356,19 @@ toolbar[iconsize=&quot;small&quot;] .hdrJunkButton</span>
<a href="#l40.35"></a><span id="l40.35"> </span>
<a href="#l40.36"></a><span id="l40.36"> toolbar[iconsize=&quot;small&quot;] .hdrTrashButton {</span>
<a href="#l40.37"></a><span id="l40.37">   list-style-image: url(&quot;chrome://messenger/skin/icons/mail-toolbar-small.png&quot;);</span>
<a href="#l40.38"></a><span id="l40.38">   -moz-image-region: rect(0px 128px 16px 112px);</span>
<a href="#l40.39"></a><span id="l40.39"> }</span>
<a href="#l40.40"></a><span id="l40.40"> </span>
<a href="#l40.41"></a><span id="l40.41"> .inline-toolbar toolbarpaletteitem toolbarseparator,</span>
<a href="#l40.42"></a><span id="l40.42"> .inline-toolbar toolbarseparator {</span>
<a href="#l40.43"></a><span id="l40.43" class="difflineminus">-  height: 30px;</span>
<a href="#l40.44"></a><span id="l40.44">   -moz-margin-start: 1px; /* make it symetrical */</span>
<a href="#l40.45"></a><span id="l40.45"> }</span>
<a href="#l40.46"></a><span id="l40.46"> </span>
<a href="#l40.47"></a><span id="l40.47" class="difflineminus">-.inline-toolbar toolbarspacer {</span>
<a href="#l40.48"></a><span id="l40.48" class="difflineminus">-  height: 24px;</span>
<a href="#l40.49"></a><span id="l40.49" class="difflineminus">-}</span>
<a href="#l40.50"></a><span id="l40.50" class="difflineminus">-</span>
<a href="#l40.51"></a><span id="l40.51"> .inline-toolbar {</span>
<a href="#l40.52"></a><span id="l40.52">   -moz-box-pack: end;</span>
<a href="#l40.53"></a><span id="l40.53"> }</span>
<a href="#l40.54"></a><span id="l40.54"> </span>
<a href="#l40.55"></a><span id="l40.55"> window[inlinetoolbox] #smallicons,</span>
<a href="#l40.56"></a><span id="l40.56"> window[inlinetoolbox] button[icon=&quot;add&quot;] {</span>
<a href="#l40.57"></a><span id="l40.57">   display: none;</span>
<a href="#l40.58"></a><span id="l40.58"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/mail/themes/qute/mail/messenger.css</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/mail/themes/qute/mail/messenger.css</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -35,16 +35,17 @@ menuitem.menuitem-iconic &gt; .menu-iconic-</span>
<a href="#l41.4"></a><span id="l41.4">   min-width: 24px;</span>
<a href="#l41.5"></a><span id="l41.5">   min-height: 10px;</span>
<a href="#l41.6"></a><span id="l41.6"> }</span>
<a href="#l41.7"></a><span id="l41.7"> </span>
<a href="#l41.8"></a><span id="l41.8"> /* ::::: menubar ::::: */</span>
<a href="#l41.9"></a><span id="l41.9"> </span>
<a href="#l41.10"></a><span id="l41.10"> #menubar-items {</span>
<a href="#l41.11"></a><span id="l41.11">   -moz-box-orient: vertical; /* for flex hack */</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineplus">+  margin-bottom: 1px;</span>
<a href="#l41.13"></a><span id="l41.13"> }</span>
<a href="#l41.14"></a><span id="l41.14"> </span>
<a href="#l41.15"></a><span id="l41.15"> #menubar-items &gt; menubar {</span>
<a href="#l41.16"></a><span id="l41.16">   -moz-box-flex: 1; /* make menu items expand to fill toolbar height */</span>
<a href="#l41.17"></a><span id="l41.17"> } </span>
<a href="#l41.18"></a><span id="l41.18"> </span>
<a href="#l41.19"></a><span id="l41.19"> /* ::::: throbber ::::: */</span>
<a href="#l41.20"></a><span id="l41.20"> </span>
<a href="#l41.21"></a><span id="l41.21" class="difflineat">@@ -135,18 +136,18 @@ sidebarheader .toolbarbutton-text:not([v</span>
<a href="#l41.22"></a><span id="l41.22">   opacity: .85;</span>
<a href="#l41.23"></a><span id="l41.23"> }</span>
<a href="#l41.24"></a><span id="l41.24"> </span>
<a href="#l41.25"></a><span id="l41.25"> #status-bar:-moz-lwtheme {</span>
<a href="#l41.26"></a><span id="l41.26">   padding-bottom: 1px;</span>
<a href="#l41.27"></a><span id="l41.27"> }</span>
<a href="#l41.28"></a><span id="l41.28"> </span>
<a href="#l41.29"></a><span id="l41.29"> #tabmail-buttons &gt; toolbarbutton {</span>
<a href="#l41.30"></a><span id="l41.30" class="difflineminus">-  margin-top: 2px;</span>
<a href="#l41.31"></a><span id="l41.31" class="difflineminus">-  margin-bottom: 4px;</span>
<a href="#l41.32"></a><span id="l41.32" class="difflineplus">+  margin-top: 1px;</span>
<a href="#l41.33"></a><span id="l41.33" class="difflineplus">+  margin-bottom: 1px;</span>
<a href="#l41.34"></a><span id="l41.34"> }</span>
<a href="#l41.35"></a><span id="l41.35"> </span>
<a href="#l41.36"></a><span id="l41.36"> treechildren::-moz-tree-cell-text {</span>
<a href="#l41.37"></a><span id="l41.37">   -moz-padding-start: 5px;</span>
<a href="#l41.38"></a><span id="l41.38"> }</span>
<a href="#l41.39"></a><span id="l41.39"> </span>
<a href="#l41.40"></a><span id="l41.40"> @media not all and (-moz-windows-default-theme) {</span>
<a href="#l41.41"></a><span id="l41.41">   treechildren::-moz-tree-cell-text {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/mail/themes/qute/mail/primaryToolbar-aero.css</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/mail/themes/qute/mail/primaryToolbar-aero.css</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -43,39 +43,67 @@</span>
<a href="#l42.4"></a><span id="l42.4">    == the standalone message window.  The other native-OS-style toolbars</span>
<a href="#l42.5"></a><span id="l42.5">    == (addressbook and compose) are already styled elsewhere.</span>
<a href="#l42.6"></a><span id="l42.6">    ====================================================================== */</span>
<a href="#l42.7"></a><span id="l42.7"> </span>
<a href="#l42.8"></a><span id="l42.8"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l42.9"></a><span id="l42.9"> </span>
<a href="#l42.10"></a><span id="l42.10"> /* :::: Toolbar :::: */</span>
<a href="#l42.11"></a><span id="l42.11"> </span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-#mail-toolbox {</span>
<a href="#l42.13"></a><span id="l42.13" class="difflineplus">+.mail-toolbox:not(:-moz-lwtheme),</span>
<a href="#l42.14"></a><span id="l42.14" class="difflineplus">+#navigation-toolbox:not(:-moz-lwtheme) {</span>
<a href="#l42.15"></a><span id="l42.15">   -moz-appearance: none;</span>
<a href="#l42.16"></a><span id="l42.16">   border-top: none;</span>
<a href="#l42.17"></a><span id="l42.17" class="difflineplus">+  background-color: -moz-Dialog;</span>
<a href="#l42.18"></a><span id="l42.18" class="difflineplus">+}</span>
<a href="#l42.19"></a><span id="l42.19" class="difflineplus">+</span>
<a href="#l42.20"></a><span id="l42.20" class="difflineplus">+.mail-toolbox {</span>
<a href="#l42.21"></a><span id="l42.21" class="difflineplus">+  border-bottom: 1px solid ThreeDShadow;</span>
<a href="#l42.22"></a><span id="l42.22" class="difflineplus">+}</span>
<a href="#l42.23"></a><span id="l42.23" class="difflineplus">+</span>
<a href="#l42.24"></a><span id="l42.24" class="difflineplus">+.mail-toolbox &gt; toolbar {</span>
<a href="#l42.25"></a><span id="l42.25" class="difflineplus">+  -moz-margin-start: 0;</span>
<a href="#l42.26"></a><span id="l42.26" class="difflineplus">+  border-bottom: none;</span>
<a href="#l42.27"></a><span id="l42.27" class="difflineplus">+}</span>
<a href="#l42.28"></a><span id="l42.28" class="difflineplus">+</span>
<a href="#l42.29"></a><span id="l42.29" class="difflineplus">+.mail-toolbox &gt; toolbar:not(:-moz-lwtheme),</span>
<a href="#l42.30"></a><span id="l42.30" class="difflineplus">+#navigation-toolbox &gt; toolbar:not(:-moz-lwtheme) {</span>
<a href="#l42.31"></a><span id="l42.31" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l42.32"></a><span id="l42.32" class="difflineplus">+  border-style: none;</span>
<a href="#l42.33"></a><span id="l42.33">   background-color: transparent;</span>
<a href="#l42.34"></a><span id="l42.34"> }</span>
<a href="#l42.35"></a><span id="l42.35"> </span>
<a href="#l42.36"></a><span id="l42.36" class="difflineminus">-#mail-toolbox &gt; toolbar:not(:-moz-lwtheme) {</span>
<a href="#l42.37"></a><span id="l42.37" class="difflineminus">-  -moz-appearance: none;</span>
<a href="#l42.38"></a><span id="l42.38" class="difflineminus">-  border-style: none;</span>
<a href="#l42.39"></a><span id="l42.39" class="difflineminus">-  background-color: -moz-Dialog;</span>
<a href="#l42.40"></a><span id="l42.40" class="difflineminus">-  background-image: -moz-linear-gradient(rgba(255, 255, 255, 0),</span>
<a href="#l42.41"></a><span id="l42.41" class="difflineminus">-                    rgba(255, 255, 255, 0));</span>
<a href="#l42.42"></a><span id="l42.42" class="difflineplus">+#navigation-toolbox #tabs-toolbar:not(:-moz-lwtheme) {</span>
<a href="#l42.43"></a><span id="l42.43" class="difflineplus">+  border-bottom: 1px solid ThreeDDarkShadow;</span>
<a href="#l42.44"></a><span id="l42.44" class="difflineplus">+}</span>
<a href="#l42.45"></a><span id="l42.45" class="difflineplus">+</span>
<a href="#l42.46"></a><span id="l42.46" class="difflineplus">+#navigation-toolbox #tabs-toolbar:-moz-lwtheme {</span>
<a href="#l42.47"></a><span id="l42.47" class="difflineplus">+  border-bottom: 1px solid transparent;</span>
<a href="#l42.48"></a><span id="l42.48" class="difflineplus">+}</span>
<a href="#l42.49"></a><span id="l42.49" class="difflineplus">+</span>
<a href="#l42.50"></a><span id="l42.50" class="difflineplus">+.mail-toolbox:-moz-lwtheme {</span>
<a href="#l42.51"></a><span id="l42.51" class="difflineplus">+  background-color: rgba(255, 255, 255, 0.3) !important;</span>
<a href="#l42.52"></a><span id="l42.52" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.5),</span>
<a href="#l42.53"></a><span id="l42.53" class="difflineplus">+                    rgba(255, 255, 255, 0) 28px) !important;</span>
<a href="#l42.54"></a><span id="l42.54" class="difflineplus">+}</span>
<a href="#l42.55"></a><span id="l42.55" class="difflineplus">+</span>
<a href="#l42.56"></a><span id="l42.56" class="difflineplus">+#mail-bar3 {</span>
<a href="#l42.57"></a><span id="l42.57" class="difflineplus">+  padding: 1px 0;</span>
<a href="#l42.58"></a><span id="l42.58"> }</span>
<a href="#l42.59"></a><span id="l42.59"> </span>
<a href="#l42.60"></a><span id="l42.60"> @media all and (-moz-windows-default-theme) {</span>
<a href="#l42.61"></a><span id="l42.61" class="difflineminus">-  #mail-toolbox &gt; toolbar:not(:-moz-lwtheme) {</span>
<a href="#l42.62"></a><span id="l42.62" class="difflineminus">-    background-color: rgb(227, 237, 246);</span>
<a href="#l42.63"></a><span id="l42.63" class="difflineplus">+  .mail-toolbox:not(:-moz-lwtheme),</span>
<a href="#l42.64"></a><span id="l42.64" class="difflineplus">+  #navigation-toolbox:not(:-moz-lwtheme) {</span>
<a href="#l42.65"></a><span id="l42.65" class="difflineplus">+    background-color: rgb(207, 219, 236);</span>
<a href="#l42.66"></a><span id="l42.66">   }</span>
<a href="#l42.67"></a><span id="l42.67"> }</span>
<a href="#l42.68"></a><span id="l42.68"> </span>
<a href="#l42.69"></a><span id="l42.69" class="difflineminus">-#mail-toolbox &gt; toolbar:first-child:not(:-moz-lwtheme) {</span>
<a href="#l42.70"></a><span id="l42.70" class="difflineplus">+.mail-toolbox:not(:-moz-lwtheme) {</span>
<a href="#l42.71"></a><span id="l42.71">   background-image: -moz-linear-gradient(rgba(255, 255, 255, .5),</span>
<a href="#l42.72"></a><span id="l42.72" class="difflineminus">-                    rgba(255, 255, 255, 0));</span>
<a href="#l42.73"></a><span id="l42.73" class="difflineplus">+                    rgba(255, 255, 255, 0) 28px);</span>
<a href="#l42.74"></a><span id="l42.74"> }</span>
<a href="#l42.75"></a><span id="l42.75"> </span>
<a href="#l42.76"></a><span id="l42.76"> /* ::::: primary toolbar buttons ::::: */</span>
<a href="#l42.77"></a><span id="l42.77"> </span>
<a href="#l42.78"></a><span id="l42.78"> .toolbarbutton-menubutton-button,</span>
<a href="#l42.79"></a><span id="l42.79"> .toolbarbutton-menubutton-dropmarker,</span>
<a href="#l42.80"></a><span id="l42.80"> .toolbarbutton-1 {</span>
<a href="#l42.81"></a><span id="l42.81">   -moz-appearance: none;</span>
<a href="#l42.82"></a><span id="l42.82" class="difflineat">@@ -254,38 +282,40 @@ toolbox[labelalign=&quot;end&quot;] &gt; toolbar[mode</span>
<a href="#l42.83"></a><span id="l42.83"> }</span>
<a href="#l42.84"></a><span id="l42.84"> </span>
<a href="#l42.85"></a><span id="l42.85"> @media all and (-moz-windows-compositor) {</span>
<a href="#l42.86"></a><span id="l42.86">   #messengerWindow {</span>
<a href="#l42.87"></a><span id="l42.87">     -moz-appearance: -moz-win-borderless-glass;</span>
<a href="#l42.88"></a><span id="l42.88">     background: transparent;</span>
<a href="#l42.89"></a><span id="l42.89">   }</span>
<a href="#l42.90"></a><span id="l42.90"> </span>
<a href="#l42.91"></a><span id="l42.91" class="difflineminus">-  #mailContent:not(:-moz-lwtheme) {</span>
<a href="#l42.92"></a><span id="l42.92" class="difflineminus">-    border-top: 1px solid ThreeDShadow;</span>
<a href="#l42.93"></a><span id="l42.93" class="difflineminus">-  }</span>
<a href="#l42.94"></a><span id="l42.94" class="difflineminus">-</span>
<a href="#l42.95"></a><span id="l42.95" class="difflineminus">-  #mail-toolbox:not(:-moz-lwtheme),</span>
<a href="#l42.96"></a><span id="l42.96" class="difflineminus">-  #mail-toolbox &gt; toolbar {</span>
<a href="#l42.97"></a><span id="l42.97" class="difflineplus">+  #navigation-toolbox:not(:-moz-lwtheme),</span>
<a href="#l42.98"></a><span id="l42.98" class="difflineplus">+  #tabs-toolbar {</span>
<a href="#l42.99"></a><span id="l42.99">     background: transparent !important;</span>
<a href="#l42.100"></a><span id="l42.100">     border-style: none;</span>
<a href="#l42.101"></a><span id="l42.101">   }</span>
<a href="#l42.102"></a><span id="l42.102"> </span>
<a href="#l42.103"></a><span id="l42.103" class="difflineminus">-  #mail-toolbox:not(:-moz-lwtheme) {</span>
<a href="#l42.104"></a><span id="l42.104" class="difflineplus">+  #mail-toolbox:not(:-moz-lwtheme),</span>
<a href="#l42.105"></a><span id="l42.105" class="difflineplus">+  #navigation-toolbox:not(:-moz-lwtheme) {</span>
<a href="#l42.106"></a><span id="l42.106">     color: black;</span>
<a href="#l42.107"></a><span id="l42.107">     text-shadow: 0 0 .7em white, 0 0 .7em white, 0 1px 0 rgba(255, 255, 255, .4);</span>
<a href="#l42.108"></a><span id="l42.108">   }</span>
<a href="#l42.109"></a><span id="l42.109"> </span>
<a href="#l42.110"></a><span id="l42.110" class="difflineminus">-  #menubar-items:not(:-moz-lwtheme) {</span>
<a href="#l42.111"></a><span id="l42.111" class="difflineminus">-    background-color: rgba(255, 255, 255, .5);</span>
<a href="#l42.112"></a><span id="l42.112" class="difflineminus">-    border-radius: 4px;</span>
<a href="#l42.113"></a><span id="l42.113" class="difflineplus">+  #mail-toolbar-menubar2 {</span>
<a href="#l42.114"></a><span id="l42.114" class="difflineplus">+    padding-bottom: 1px;</span>
<a href="#l42.115"></a><span id="l42.115" class="difflineplus">+	padding-top: 2px;</span>
<a href="#l42.116"></a><span id="l42.116">   }</span>
<a href="#l42.117"></a><span id="l42.117"> </span>
<a href="#l42.118"></a><span id="l42.118" class="difflineminus">-  menubar &gt; menu:-moz-window-inactive {</span>
<a href="#l42.119"></a><span id="l42.119" class="difflineminus">-    color: MenuText;</span>
<a href="#l42.120"></a><span id="l42.120" class="difflineplus">+  #mail-toolbar-menubar2:-moz-lwtheme {</span>
<a href="#l42.121"></a><span id="l42.121" class="difflineplus">+    background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5) 50%);</span>
<a href="#l42.122"></a><span id="l42.122" class="difflineplus">+    background-color: rgba(255, 255, 255, 0.3);</span>
<a href="#l42.123"></a><span id="l42.123" class="difflineplus">+  }</span>
<a href="#l42.124"></a><span id="l42.124" class="difflineplus">+</span>
<a href="#l42.125"></a><span id="l42.125" class="difflineplus">+  #navigation-toolbox &gt; #mail-toolbar-menubar2:not(:-moz-lwtheme) {</span>
<a href="#l42.126"></a><span id="l42.126" class="difflineplus">+  background-color: rgb(233, 239, 245);</span>
<a href="#l42.127"></a><span id="l42.127">   }</span>
<a href="#l42.128"></a><span id="l42.128"> </span>
<a href="#l42.129"></a><span id="l42.129">   /* lesser transparency on Glass background */</span>
<a href="#l42.130"></a><span id="l42.130">   .toolbarbutton-menubutton-button:not(:-moz-lwtheme),</span>
<a href="#l42.131"></a><span id="l42.131">   .toolbarbutton-menubutton-dropmarker:not(:-moz-lwtheme),</span>
<a href="#l42.132"></a><span id="l42.132">   .toolbarbutton-1:not(:-moz-lwtheme) {</span>
<a href="#l42.133"></a><span id="l42.133">     background-color: rgba(227, 237, 246, .7);</span>
<a href="#l42.134"></a><span id="l42.134">   }</span>
<a href="#l42.135"></a><span id="l42.135" class="difflineat">@@ -297,22 +327,38 @@ toolbox[labelalign=&quot;end&quot;] &gt; toolbar[mode</span>
<a href="#l42.136"></a><span id="l42.136">   .toolbarbutton-1:not(:-moz-lwtheme):not([disabled=&quot;true&quot;]):not([checked=&quot;true&quot;]):not(:active):hover {</span>
<a href="#l42.137"></a><span id="l42.137">     background-color: rgba(136, 197, 213, .85);</span>
<a href="#l42.138"></a><span id="l42.138">   }</span>
<a href="#l42.139"></a><span id="l42.139"> </span>
<a href="#l42.140"></a><span id="l42.140">   .toolbarbutton-menubutton-button[disabled=&quot;true&quot;],</span>
<a href="#l42.141"></a><span id="l42.141">   .toolbarbutton-menubutton-dropmarker[disabled=&quot;true&quot;] {</span>
<a href="#l42.142"></a><span id="l42.142">     opacity: 1 !important;</span>
<a href="#l42.143"></a><span id="l42.143">   }</span>
<a href="#l42.144"></a><span id="l42.144" class="difflineplus">+</span>
<a href="#l42.145"></a><span id="l42.145" class="difflineplus">+  #tabs-toolbar {</span>
<a href="#l42.146"></a><span id="l42.146" class="difflineplus">+    -moz-box-ordinal-group: 10;</span>
<a href="#l42.147"></a><span id="l42.147" class="difflineplus">+  }</span>
<a href="#l42.148"></a><span id="l42.148" class="difflineplus">+</span>
<a href="#l42.149"></a><span id="l42.149" class="difflineplus">+  #mail-toolbar-menubar2 {</span>
<a href="#l42.150"></a><span id="l42.150" class="difflineplus">+    -moz-box-ordinal-group: 20;</span>
<a href="#l42.151"></a><span id="l42.151" class="difflineplus">+  }</span>
<a href="#l42.152"></a><span id="l42.152"> }</span>
<a href="#l42.153"></a><span id="l42.153"> </span>
<a href="#l42.154"></a><span id="l42.154"> @media not all and (-moz-windows-compositor) {</span>
<a href="#l42.155"></a><span id="l42.155">   #print-preview-toolbar:not(:-moz-lwtheme) {</span>
<a href="#l42.156"></a><span id="l42.156">     -moz-appearance: -moz-win-browsertabbar-toolbox;</span>
<a href="#l42.157"></a><span id="l42.157">   }</span>
<a href="#l42.158"></a><span id="l42.158" class="difflineplus">+</span>
<a href="#l42.159"></a><span id="l42.159" class="difflineplus">+  #navigation-toolbox:not(:-moz-lwtheme) {</span>
<a href="#l42.160"></a><span id="l42.160" class="difflineplus">+  background-color: rgb(227, 237, 246);</span>
<a href="#l42.161"></a><span id="l42.161" class="difflineplus">+  }</span>
<a href="#l42.162"></a><span id="l42.162" class="difflineplus">+</span>
<a href="#l42.163"></a><span id="l42.163" class="difflineplus">+  .tabmail-tabs:not(:-moz-lwtheme) {</span>
<a href="#l42.164"></a><span id="l42.164" class="difflineplus">+  background-color: transparent !important;</span>
<a href="#l42.165"></a><span id="l42.165" class="difflineplus">+  }</span>
<a href="#l42.166"></a><span id="l42.166"> }</span>
<a href="#l42.167"></a><span id="l42.167"> </span>
<a href="#l42.168"></a><span id="l42.168"> #button-getmsg {</span>
<a href="#l42.169"></a><span id="l42.169">   list-style-image: url(&quot;chrome://messenger/skin/icons/mail-toolbar.png&quot;);</span>
<a href="#l42.170"></a><span id="l42.170">   -moz-image-region: rect(0px, 18px, 18px, 0px);</span>
<a href="#l42.171"></a><span id="l42.171"> }</span>
<a href="#l42.172"></a><span id="l42.172"> </span>
<a href="#l42.173"></a><span id="l42.173"> #button-newmsg {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/mail/themes/qute/mail/primaryToolbar.css</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/mail/themes/qute/mail/primaryToolbar.css</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -41,16 +41,48 @@</span>
<a href="#l43.4"></a><span id="l43.4">    == native-OS-style toolbars at the top of various windows, as well as</span>
<a href="#l43.5"></a><span id="l43.5">    == the specifically about the ones that appear on the 3-pane window and</span>
<a href="#l43.6"></a><span id="l43.6">    == the standalone message window.  The other native-OS-style toolbars</span>
<a href="#l43.7"></a><span id="l43.7">    == (addressbook and compose) are already styled elsewhere.</span>
<a href="#l43.8"></a><span id="l43.8">    ====================================================================== */</span>
<a href="#l43.9"></a><span id="l43.9"> </span>
<a href="#l43.10"></a><span id="l43.10"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l43.11"></a><span id="l43.11"> </span>
<a href="#l43.12"></a><span id="l43.12" class="difflineplus">+#navigation-toolbox #tabs-toolbar {</span>
<a href="#l43.13"></a><span id="l43.13" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l43.14"></a><span id="l43.14" class="difflineplus">+  border-bottom: 1px solid ThreeDShadow;</span>
<a href="#l43.15"></a><span id="l43.15" class="difflineplus">+}</span>
<a href="#l43.16"></a><span id="l43.16" class="difflineplus">+</span>
<a href="#l43.17"></a><span id="l43.17" class="difflineplus">+#navigation-toolbox #tabs-toolbar:-moz-lwtheme {</span>
<a href="#l43.18"></a><span id="l43.18" class="difflineplus">+  border-bottom-color: transparent;</span>
<a href="#l43.19"></a><span id="l43.19" class="difflineplus">+}</span>
<a href="#l43.20"></a><span id="l43.20" class="difflineplus">+</span>
<a href="#l43.21"></a><span id="l43.21" class="difflineplus">+#tabs-toolbar {</span>
<a href="#l43.22"></a><span id="l43.22" class="difflineplus">+  -moz-box-ordinal-group: 20;</span>
<a href="#l43.23"></a><span id="l43.23" class="difflineplus">+}</span>
<a href="#l43.24"></a><span id="l43.24" class="difflineplus">+</span>
<a href="#l43.25"></a><span id="l43.25" class="difflineplus">+#mail-toolbar-menubar2 {</span>
<a href="#l43.26"></a><span id="l43.26" class="difflineplus">+  -moz-box-ordinal-group: 10;</span>
<a href="#l43.27"></a><span id="l43.27" class="difflineplus">+}</span>
<a href="#l43.28"></a><span id="l43.28" class="difflineplus">+</span>
<a href="#l43.29"></a><span id="l43.29" class="difflineplus">+#mail-toolbox {</span>
<a href="#l43.30"></a><span id="l43.30" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l43.31"></a><span id="l43.31" class="difflineplus">+  border-top: none;</span>
<a href="#l43.32"></a><span id="l43.32" class="difflineplus">+  border-bottom: 1px solid threedshadow;</span>
<a href="#l43.33"></a><span id="l43.33" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, .5), rgba(255, 255, 255, .1) 19px);</span>
<a href="#l43.34"></a><span id="l43.34" class="difflineplus">+}</span>
<a href="#l43.35"></a><span id="l43.35" class="difflineplus">+</span>
<a href="#l43.36"></a><span id="l43.36" class="difflineplus">+#mail-toolbox &gt; toolbar:-moz-lwtheme {</span>
<a href="#l43.37"></a><span id="l43.37" class="difflineplus">+  border-top: none;</span>
<a href="#l43.38"></a><span id="l43.38" class="difflineplus">+}</span>
<a href="#l43.39"></a><span id="l43.39" class="difflineplus">+</span>
<a href="#l43.40"></a><span id="l43.40" class="difflineplus">+#mail-bar3 {</span>
<a href="#l43.41"></a><span id="l43.41" class="difflineplus">+  padding: 1px 0;</span>
<a href="#l43.42"></a><span id="l43.42" class="difflineplus">+}</span>
<a href="#l43.43"></a><span id="l43.43" class="difflineplus">+</span>
<a href="#l43.44"></a><span id="l43.44"> /* ::::: primary toolbar buttons ::::: */</span>
<a href="#l43.45"></a><span id="l43.45"> </span>
<a href="#l43.46"></a><span id="l43.46"> .toolbarbutton-1 {</span>
<a href="#l43.47"></a><span id="l43.47">   -moz-box-orient: vertical;</span>
<a href="#l43.48"></a><span id="l43.48"> }</span>
<a href="#l43.49"></a><span id="l43.49"> </span>
<a href="#l43.50"></a><span id="l43.50"> toolbox[labelalign=&quot;end&quot;] .toolbarbutton-1,</span>
<a href="#l43.51"></a><span id="l43.51"> toolbox[labelalign=&quot;end&quot;] .toolbarbutton-1[type=&quot;menu-button&quot;]</span>
<a href="#l43.52"></a><span id="l43.52" class="difflineat">@@ -622,30 +654,31 @@ toolbar[iconsize=&quot;small&quot;] #button-archiv</span>
<a href="#l43.53"></a><span id="l43.53">   -moz-image-region: rect(32px 320px 48px 304px) !important;</span>
<a href="#l43.54"></a><span id="l43.54"> }</span>
<a href="#l43.55"></a><span id="l43.55"> </span>
<a href="#l43.56"></a><span id="l43.56"> /* ::::: end small primary toolbar buttons ::::: */</span>
<a href="#l43.57"></a><span id="l43.57"> </span>
<a href="#l43.58"></a><span id="l43.58"> /* ::::: toolbar buttons on tabbar toolbar ::::: */</span>
<a href="#l43.59"></a><span id="l43.59"> </span>
<a href="#l43.60"></a><span id="l43.60"> #tabbar-toolbar .toolbarbutton-1 {</span>
<a href="#l43.61"></a><span id="l43.61" class="difflineminus">-  margin-top: 2px;</span>
<a href="#l43.62"></a><span id="l43.62" class="difflineminus">-  margin-bottom: 4px;</span>
<a href="#l43.63"></a><span id="l43.63" class="difflineminus">-  padding-bottom: 5px;</span>
<a href="#l43.64"></a><span id="l43.64" class="difflineplus">+  margin-top: 1px;</span>
<a href="#l43.65"></a><span id="l43.65" class="difflineplus">+  margin-bottom: 1px;</span>
<a href="#l43.66"></a><span id="l43.66" class="difflineplus">+  padding-top: 3px;</span>
<a href="#l43.67"></a><span id="l43.67" class="difflineplus">+  padding-bottom: 3px;</span>
<a href="#l43.68"></a><span id="l43.68"> }</span>
<a href="#l43.69"></a><span id="l43.69"> </span>
<a href="#l43.70"></a><span id="l43.70"> #tabbar-toolbar .toolbarbutton-1:hover:active:not([disabled]),</span>
<a href="#l43.71"></a><span id="l43.71"> #tabbar-toolbar .toolbarbutton-1[open=&quot;true&quot;],</span>
<a href="#l43.72"></a><span id="l43.72"> #tabbar-toolbar .toolbarbutton-menubutton-button:hover:active:not([disabled]),</span>
<a href="#l43.73"></a><span id="l43.73"> #tabbar-toolbar .toolbarbutton-menubutton-button[open=&quot;true&quot;] {</span>
<a href="#l43.74"></a><span id="l43.74" class="difflineminus">-  padding-bottom: 4px;</span>
<a href="#l43.75"></a><span id="l43.75" class="difflineplus">+  padding-bottom: 2px;</span>
<a href="#l43.76"></a><span id="l43.76"> }</span>
<a href="#l43.77"></a><span id="l43.77"> </span>
<a href="#l43.78"></a><span id="l43.78"> #tabbar-toolbar .toolbarbutton-1[checked=&quot;true&quot;] {</span>
<a href="#l43.79"></a><span id="l43.79" class="difflineminus">-  padding-bottom: 4px !important;</span>
<a href="#l43.80"></a><span id="l43.80" class="difflineplus">+  padding-bottom: 2px !important;</span>
<a href="#l43.81"></a><span id="l43.81"> }</span>
<a href="#l43.82"></a><span id="l43.82"> </span>
<a href="#l43.83"></a><span id="l43.83"> #palette-box #qfb-show-filter-bar {</span>
<a href="#l43.84"></a><span id="l43.84">   visibility: visible !important;</span>
<a href="#l43.85"></a><span id="l43.85">   list-style-image: url(&quot;chrome://messenger/skin/icons/mail-toolbar.png&quot;);</span>
<a href="#l43.86"></a><span id="l43.86">   -moz-image-region: rect(0px 504px 24px 480px);</span>
<a href="#l43.87"></a><span id="l43.87"> }</span>
<a href="#l43.88"></a><span id="l43.88"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/mail/themes/qute/mail/quickFilterBar.css</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/mail/themes/qute/mail/quickFilterBar.css</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -3,33 +3,25 @@</span>
<a href="#l44.4"></a><span id="l44.4"> /* :::: Filter Tab Bar Button :::: */</span>
<a href="#l44.5"></a><span id="l44.5"> </span>
<a href="#l44.6"></a><span id="l44.6"> #qfb-show-filter-bar {</span>
<a href="#l44.7"></a><span id="l44.7">   -moz-box-orient: vertical;</span>
<a href="#l44.8"></a><span id="l44.8">   visibility: visible !important;</span>
<a href="#l44.9"></a><span id="l44.9">   min-width: 34px;</span>
<a href="#l44.10"></a><span id="l44.10">   list-style-image: url(&quot;chrome://messenger/skin/icons/mail-toolbar-small.png&quot;);</span>
<a href="#l44.11"></a><span id="l44.11">   -moz-image-region: rect(0px 336px 16px 320px);</span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-  margin: 2px 2px 4px;</span>
<a href="#l44.13"></a><span id="l44.13" class="difflineplus">+  margin: 1px 2px;</span>
<a href="#l44.14"></a><span id="l44.14">   padding: 3px 4px;</span>
<a href="#l44.15"></a><span id="l44.15"> }</span>
<a href="#l44.16"></a><span id="l44.16"> </span>
<a href="#l44.17"></a><span id="l44.17" class="difflineminus">-#qfb-show-filter-bar:hover {</span>
<a href="#l44.18"></a><span id="l44.18" class="difflineminus">-  -moz-image-region: rect(16px 336px 32px 320px);</span>
<a href="#l44.19"></a><span id="l44.19" class="difflineminus">-}</span>
<a href="#l44.20"></a><span id="l44.20" class="difflineminus">-</span>
<a href="#l44.21"></a><span id="l44.21"> toolbar[iconsize=&quot;large&quot;] #qfb-show-filter-bar {</span>
<a href="#l44.22"></a><span id="l44.22">   list-style-image: url(&quot;chrome://messenger/skin/icons/mail-toolbar.png&quot;);</span>
<a href="#l44.23"></a><span id="l44.23">   -moz-image-region: rect(0px 504px 24px 480px);</span>
<a href="#l44.24"></a><span id="l44.24"> }</span>
<a href="#l44.25"></a><span id="l44.25"> </span>
<a href="#l44.26"></a><span id="l44.26" class="difflineminus">-toolbar[iconsize=&quot;large&quot;] #qfb-show-filter-bar:hover {</span>
<a href="#l44.27"></a><span id="l44.27" class="difflineminus">-  -moz-image-region: rect(24px 504px 48px 480px);</span>
<a href="#l44.28"></a><span id="l44.28" class="difflineminus">-}</span>
<a href="#l44.29"></a><span id="l44.29" class="difflineminus">-</span>
<a href="#l44.30"></a><span id="l44.30"> #qfb-show-filter-bar &gt; .toolbarbutton-icon {</span>
<a href="#l44.31"></a><span id="l44.31">   -moz-margin-end: 0;</span>
<a href="#l44.32"></a><span id="l44.32">   padding: 0 3px;</span>
<a href="#l44.33"></a><span id="l44.33"> }</span>
<a href="#l44.34"></a><span id="l44.34"> </span>
<a href="#l44.35"></a><span id="l44.35"> #qfb-show-filter-bar[style=&quot;visibility: hidden;&quot;] {</span>
<a href="#l44.36"></a><span id="l44.36">   -moz-appearance: none;</span>
<a href="#l44.37"></a><span id="l44.37">   -moz-user-input: none;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/mail/themes/qute/mail/tabmail-aero.css</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/mail/themes/qute/mail/tabmail-aero.css</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -30,114 +30,138 @@</span>
<a href="#l45.4"></a><span id="l45.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l45.5"></a><span id="l45.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l45.6"></a><span id="l45.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l45.7"></a><span id="l45.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l45.8"></a><span id="l45.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l45.9"></a><span id="l45.9">  *</span>
<a href="#l45.10"></a><span id="l45.10">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l45.11"></a><span id="l45.11"> </span>
<a href="#l45.12"></a><span id="l45.12" class="difflineplus">+.tabmail-arrowscrollbox {</span>
<a href="#l45.13"></a><span id="l45.13" class="difflineplus">+  margin-bottom: -1px;</span>
<a href="#l45.14"></a><span id="l45.14" class="difflineplus">+}</span>
<a href="#l45.15"></a><span id="l45.15" class="difflineplus">+</span>
<a href="#l45.16"></a><span id="l45.16"> /**</span>
<a href="#l45.17"></a><span id="l45.17"> * Tabmail Tabs</span>
<a href="#l45.18"></a><span id="l45.18"> */</span>
<a href="#l45.19"></a><span id="l45.19"> </span>
<a href="#l45.20"></a><span id="l45.20" class="difflineminus">-.tabmail-tabs:not(:-moz-lwtheme) {</span>
<a href="#l45.21"></a><span id="l45.21" class="difflineminus">-  padding-top: 0px;</span>
<a href="#l45.22"></a><span id="l45.22" class="difflineminus">-  background-image: -moz-linear-gradient(transparent, transparent 10%,</span>
<a href="#l45.23"></a><span id="l45.23" class="difflineminus">-                    rgba(0, 0, 0, .03) 50%, rgba(0, 0, 0, .1) 90%,</span>
<a href="#l45.24"></a><span id="l45.24" class="difflineminus">-                    rgba(0, 0, 0, .2));</span>
<a href="#l45.25"></a><span id="l45.25" class="difflineminus">-  background-color: -moz-Dialog;</span>
<a href="#l45.26"></a><span id="l45.26" class="difflineminus">-  -moz-padding-start: 0px;</span>
<a href="#l45.27"></a><span id="l45.27" class="difflineminus">-}</span>
<a href="#l45.28"></a><span id="l45.28" class="difflineplus">+@media all and (-moz-windows-default-theme) {</span>
<a href="#l45.29"></a><span id="l45.29" class="difflineplus">+  .tabmail-tabs {</span>
<a href="#l45.30"></a><span id="l45.30" class="difflineplus">+    padding: 0 3px;</span>
<a href="#l45.31"></a><span id="l45.31" class="difflineplus">+  }</span>
<a href="#l45.32"></a><span id="l45.32"> </span>
<a href="#l45.33"></a><span id="l45.33" class="difflineminus">-@media all and (-moz-windows-default-theme) {</span>
<a href="#l45.34"></a><span id="l45.34">   .tabmail-tabs:not(:-moz-lwtheme) {</span>
<a href="#l45.35"></a><span id="l45.35" class="difflineminus">-    padding: 0 3px;</span>
<a href="#l45.36"></a><span id="l45.36">     background-color: rgb(227, 237, 246);</span>
<a href="#l45.37"></a><span id="l45.37">   }</span>
<a href="#l45.38"></a><span id="l45.38"> }</span>
<a href="#l45.39"></a><span id="l45.39"> </span>
<a href="#l45.40"></a><span id="l45.40"> .tabmail-tabs &gt; .tabmail-tab:first-child &gt; .tab-close-button {</span>
<a href="#l45.41"></a><span id="l45.41">   visibility: collapse;</span>
<a href="#l45.42"></a><span id="l45.42"> }</span>
<a href="#l45.43"></a><span id="l45.43"> </span>
<a href="#l45.44"></a><span id="l45.44"> /**</span>
<a href="#l45.45"></a><span id="l45.45"> * Tab</span>
<a href="#l45.46"></a><span id="l45.46"> */</span>
<a href="#l45.47"></a><span id="l45.47"> </span>
<a href="#l45.48"></a><span id="l45.48"> .tabmail-tab {</span>
<a href="#l45.49"></a><span id="l45.49">   -moz-appearance: none;</span>
<a href="#l45.50"></a><span id="l45.50" class="difflineminus">-  background: -moz-linear-gradient(left, transparent, transparent 1px,</span>
<a href="#l45.51"></a><span id="l45.51" class="difflineminus">-              rgba(50%, 50%, 50%, .1) 1px, rgba(50%, 50% , 50%, .1));</span>
<a href="#l45.52"></a><span id="l45.52" class="difflineminus">-  background-position: -5px -2px;</span>
<a href="#l45.53"></a><span id="l45.53" class="difflineplus">+  background: -moz-linear-gradient(bottom, rgba(10%, 10%, 10%, .4) 1px,</span>
<a href="#l45.54"></a><span id="l45.54" class="difflineplus">+              transparent 1px), -moz-linear-gradient(transparent,</span>
<a href="#l45.55"></a><span id="l45.55" class="difflineplus">+              hsla(0, 0%, 45%, .1) 1px, hsla(0, 0%, 32%, .2) 80%,</span>
<a href="#l45.56"></a><span id="l45.56" class="difflineplus">+              hsla(0, 0%, 0%, .2)),</span>
<a href="#l45.57"></a><span id="l45.57" class="difflineplus">+              -moz-linear-gradient(-moz-dialog, -moz-dialog);</span>
<a href="#l45.58"></a><span id="l45.58" class="difflineplus">+  background-origin: border-box;</span>
<a href="#l45.59"></a><span id="l45.59" class="difflineplus">+  background-position: 1px 2px;</span>
<a href="#l45.60"></a><span id="l45.60" class="difflineplus">+  background-size: -moz-calc(100% - 2px) -moz-calc(100% - 2px);</span>
<a href="#l45.61"></a><span id="l45.61">   background-repeat: no-repeat;</span>
<a href="#l45.62"></a><span id="l45.62" class="difflineminus">-  background-size: -moz-calc(100% + 11px) -moz-calc(100% + 7px);</span>
<a href="#l45.63"></a><span id="l45.63" class="difflineminus">-  margin: 3px 0 0;</span>
<a href="#l45.64"></a><span id="l45.64" class="difflineplus">+  margin: 0;</span>
<a href="#l45.65"></a><span id="l45.65">   padding: 0;</span>
<a href="#l45.66"></a><span id="l45.66" class="difflineminus">-  -moz-border-image: url(chrome://messenger/skin/icons/tab.png) 4 5 3 6 /</span>
<a href="#l45.67"></a><span id="l45.67" class="difflineminus">-                     4px 5px 3px 6px repeat stretch;</span>
<a href="#l45.68"></a><span id="l45.68" class="difflineminus">-  height: 22px;</span>
<a href="#l45.69"></a><span id="l45.69" class="difflineminus">-  border-radius: 10px 8px 0 0;</span>
<a href="#l45.70"></a><span id="l45.70" class="difflineplus">+  -moz-border-image: url(chrome://messenger/skin/icons/tab.png) 4 3 0 /</span>
<a href="#l45.71"></a><span id="l45.71" class="difflineplus">+                     4px 3px 0 repeat stretch;</span>
<a href="#l45.72"></a><span id="l45.72" class="difflineplus">+  height: 26px;</span>
<a href="#l45.73"></a><span id="l45.73" class="difflineplus">+  border-radius: 0;</span>
<a href="#l45.74"></a><span id="l45.74"> }</span>
<a href="#l45.75"></a><span id="l45.75"> </span>
<a href="#l45.76"></a><span id="l45.76"> .tabmail-tab:hover {</span>
<a href="#l45.77"></a><span id="l45.77" class="difflineminus">-  background-image: -moz-linear-gradient(left, transparent, transparent 1px,</span>
<a href="#l45.78"></a><span id="l45.78" class="difflineminus">-                    rgba(255, 255, 255, .4) 1px, rgba(255, 255, 255, .4));</span>
<a href="#l45.79"></a><span id="l45.79" class="difflineminus">-}</span>
<a href="#l45.80"></a><span id="l45.80" class="difflineminus">-</span>
<a href="#l45.81"></a><span id="l45.81" class="difflineminus">-.tabmail-tab:-moz-lwtheme-brighttext:not([selected=&quot;true&quot;]) {</span>
<a href="#l45.82"></a><span id="l45.82" class="difflineminus">-  background-image: -moz-linear-gradient(left, transparent, transparent 1px,</span>
<a href="#l45.83"></a><span id="l45.83" class="difflineminus">-                    rgba(40%, 40%, 40%, .6) 1px, rgba(40%, 40%, 40%, .6));</span>
<a href="#l45.84"></a><span id="l45.84" class="difflineplus">+  background-image: -moz-linear-gradient(bottom, rgba(10%, 10%, 10%, .4) 1px,</span>
<a href="#l45.85"></a><span id="l45.85" class="difflineplus">+                    transparent 1px), -moz-linear-gradient(hsla(0, 0%, 100%, .3) 1px,</span>
<a href="#l45.86"></a><span id="l45.86" class="difflineplus">+                    hsla(0, 0%, 75%, .2) 80%, hsla(0, 0%, 60%, .2)),</span>
<a href="#l45.87"></a><span id="l45.87" class="difflineplus">+                    -moz-linear-gradient(-moz-dialog, -moz-dialog);</span>
<a href="#l45.88"></a><span id="l45.88"> }</span>
<a href="#l45.89"></a><span id="l45.89"> </span>
<a href="#l45.90"></a><span id="l45.90" class="difflineminus">-.tabmail-tab:-moz-lwtheme-brighttext:not([selected=&quot;true&quot;]):hover {</span>
<a href="#l45.91"></a><span id="l45.91" class="difflineminus">-  background-image: -moz-linear-gradient(left, transparent, transparent 1px,</span>
<a href="#l45.92"></a><span id="l45.92" class="difflineminus">-                    rgba(60%, 60%, 60%, .6) 1px, rgba(60%, 60%, 60%, .6));</span>
<a href="#l45.93"></a><span id="l45.93" class="difflineminus">-}</span>
<a href="#l45.94"></a><span id="l45.94" class="difflineminus">-</span>
<a href="#l45.95"></a><span id="l45.95" class="difflineminus">-.tabmail-tab:-moz-lwtheme-darktext:not([selected=&quot;true&quot;]) {</span>
<a href="#l45.96"></a><span id="l45.96" class="difflineminus">-  background-image: -moz-linear-gradient(left, transparent, transparent 1px,</span>
<a href="#l45.97"></a><span id="l45.97" class="difflineminus">-                    rgba(255, 255, 255, .4) 1px, rgba(255, 255, 255, .4));</span>
<a href="#l45.98"></a><span id="l45.98" class="difflineminus">-}</span>
<a href="#l45.99"></a><span id="l45.99" class="difflineminus">-</span>
<a href="#l45.100"></a><span id="l45.100" class="difflineminus">-.tabmail-tab:-moz-lwtheme-darktext:not([selected=&quot;true&quot;]):hover {</span>
<a href="#l45.101"></a><span id="l45.101" class="difflineminus">-  background-image: -moz-linear-gradient(left, transparent, transparent 1px,</span>
<a href="#l45.102"></a><span id="l45.102" class="difflineminus">-                    rgba(255, 255, 255, .6) 1px, rgba(255, 255, 255, .6));</span>
<a href="#l45.103"></a><span id="l45.103" class="difflineplus">+.tabmail-tab:-moz-lwtheme {</span>
<a href="#l45.104"></a><span id="l45.104" class="difflineplus">+  color: inherit;</span>
<a href="#l45.105"></a><span id="l45.105"> }</span>
<a href="#l45.106"></a><span id="l45.106"> </span>
<a href="#l45.107"></a><span id="l45.107"> .tabmail-tab[selected=&quot;true&quot;]:-moz-lwtheme {</span>
<a href="#l45.108"></a><span id="l45.108" class="difflineminus">-  background-image: -moz-linear-gradient(left, transparent, transparent 1px,</span>
<a href="#l45.109"></a><span id="l45.109" class="difflineminus">-                    rgba(255, 255, 255, .5) 1px, rgba(255, 255, 255, .5));</span>
<a href="#l45.110"></a><span id="l45.110" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, .7),</span>
<a href="#l45.111"></a><span id="l45.111" class="difflineplus">+                    rgba(255, 255, 255, .5) 50%);</span>
<a href="#l45.112"></a><span id="l45.112" class="difflineplus">+  background-color: rgba(255, 255, 255, 0.3);</span>
<a href="#l45.113"></a><span id="l45.113"> }</span>
<a href="#l45.114"></a><span id="l45.114"> </span>
<a href="#l45.115"></a><span id="l45.115"> .tabmail-tab[selected=&quot;true&quot;]:not(:-moz-lwtheme) {</span>
<a href="#l45.116"></a><span id="l45.116">   background-image: -moz-linear-gradient(rgba(255, 255, 255, .7),</span>
<a href="#l45.117"></a><span id="l45.117">                     rgba(255, 255, 255, .5) 30%),</span>
<a href="#l45.118"></a><span id="l45.118">                     -moz-linear-gradient(-moz-dialog, -moz-dialog);</span>
<a href="#l45.119"></a><span id="l45.119">   color: -moz-dialogText;</span>
<a href="#l45.120"></a><span id="l45.120"> }</span>
<a href="#l45.121"></a><span id="l45.121"> </span>
<a href="#l45.122"></a><span id="l45.122"> .tabmail-tab:not(:-moz-lwtheme):not([selected=&quot;true&quot;]) {</span>
<a href="#l45.123"></a><span id="l45.123">   background-image: -moz-linear-gradient(left, transparent, transparent 1px,</span>
<a href="#l45.124"></a><span id="l45.124">                     rgba(255, 255, 255, .4) 1px, rgba(255, 255, 255, .4));</span>
<a href="#l45.125"></a><span id="l45.125">   text-shadow: none;</span>
<a href="#l45.126"></a><span id="l45.126">   color: black;</span>
<a href="#l45.127"></a><span id="l45.127" class="difflineplus">+  background-size: -moz-calc(100% - 2px) -moz-calc(100% - 3px) !important;</span>
<a href="#l45.128"></a><span id="l45.128"> }</span>
<a href="#l45.129"></a><span id="l45.129"> </span>
<a href="#l45.130"></a><span id="l45.130"> .tabmail-tab:not(:-moz-lwtheme):not([selected=&quot;true&quot;]):hover  {</span>
<a href="#l45.131"></a><span id="l45.131">   background-image: -moz-linear-gradient(left, transparent, transparent 1px,</span>
<a href="#l45.132"></a><span id="l45.132">                     rgba(255, 255, 255, .6) 1px, rgba(255, 255, 255, .6));</span>
<a href="#l45.133"></a><span id="l45.133"> }</span>
<a href="#l45.134"></a><span id="l45.134"> </span>
<a href="#l45.135"></a><span id="l45.135" class="difflineminus">-@media all and (-moz-windows-compositor) {</span>
<a href="#l45.136"></a><span id="l45.136" class="difflineplus">+.tabmail-tab:-moz-lwtheme-brighttext:not([selected=&quot;true&quot;]) {</span>
<a href="#l45.137"></a><span id="l45.137" class="difflineplus">+  background-image: -moz-linear-gradient(hsla(0, 0%, 40%, .6),</span>
<a href="#l45.138"></a><span id="l45.138" class="difflineplus">+                    hsla(0, 0%, 30%, .6) 80%);</span>
<a href="#l45.139"></a><span id="l45.139" class="difflineplus">+}</span>
<a href="#l45.140"></a><span id="l45.140" class="difflineplus">+</span>
<a href="#l45.141"></a><span id="l45.141" class="difflineplus">+.tabmail-tab:-moz-lwtheme-brighttext:not([selected=&quot;true&quot;]):hover {</span>
<a href="#l45.142"></a><span id="l45.142" class="difflineplus">+  background-image: -moz-linear-gradient(hsla(0, 0%, 60%, .6),</span>
<a href="#l45.143"></a><span id="l45.143" class="difflineplus">+                    hsla(0, 0%, 45%, .6) 80%);</span>
<a href="#l45.144"></a><span id="l45.144" class="difflineplus">+}</span>
<a href="#l45.145"></a><span id="l45.145" class="difflineplus">+</span>
<a href="#l45.146"></a><span id="l45.146" class="difflineplus">+.tabmail-tab:-moz-lwtheme-darktext:not([selected=&quot;true&quot;]) {</span>
<a href="#l45.147"></a><span id="l45.147" class="difflineplus">+  background-image: -moz-linear-gradient(hsla(0, 0%, 60%, .5),</span>
<a href="#l45.148"></a><span id="l45.148" class="difflineplus">+                    hsla(0, 0%, 45%, .5) 80%);</span>
<a href="#l45.149"></a><span id="l45.149" class="difflineplus">+}</span>
<a href="#l45.150"></a><span id="l45.150" class="difflineplus">+</span>
<a href="#l45.151"></a><span id="l45.151" class="difflineplus">+.tabmail-tab:-moz-lwtheme-darktext:not([selected=&quot;true&quot;]):hover {</span>
<a href="#l45.152"></a><span id="l45.152" class="difflineplus">+  background-image: -moz-linear-gradient(hsla(0, 0%, 80%, .5),</span>
<a href="#l45.153"></a><span id="l45.153" class="difflineplus">+                    hsla(0, 0%, 60%, .5) 80%);</span>
<a href="#l45.154"></a><span id="l45.154" class="difflineplus">+}</span>
<a href="#l45.155"></a><span id="l45.155" class="difflineplus">+</span>
<a href="#l45.156"></a><span id="l45.156" class="difflineplus">+@media all and (-moz-windows-default-theme) {</span>
<a href="#l45.157"></a><span id="l45.157" class="difflineplus">+  .tabmail-tab:not(:-moz-lwtheme) {</span>
<a href="#l45.158"></a><span id="l45.158" class="difflineplus">+    background-image: -moz-linear-gradient(bottom, rgba(10%, 10%, 10%, .4) 1px,</span>
<a href="#l45.159"></a><span id="l45.159" class="difflineplus">+                      transparent 1px), -moz-linear-gradient(transparent,</span>
<a href="#l45.160"></a><span id="l45.160" class="difflineplus">+                      hsla(0, 0%, 45%, .1) 1px, hsla(0, 0%, 32%, .2) 80%,</span>
<a href="#l45.161"></a><span id="l45.161" class="difflineplus">+                      hsla(0, 0%, 0%, .2)),</span>
<a href="#l45.162"></a><span id="l45.162" class="difflineplus">+                      -moz-linear-gradient(hsl(214, 44%, 87%), hsl(214, 44%, 87%));</span>
<a href="#l45.163"></a><span id="l45.163" class="difflineplus">+  }</span>
<a href="#l45.164"></a><span id="l45.164" class="difflineplus">+</span>
<a href="#l45.165"></a><span id="l45.165">   .tabmail-tab:not(:-moz-lwtheme):not([selected=&quot;true&quot;]):hover {</span>
<a href="#l45.166"></a><span id="l45.166" class="difflineminus">-    background-image: -moz-linear-gradient(bottom, rgba(10%,10%,10%,.4) 1px,</span>
<a href="#l45.167"></a><span id="l45.167" class="difflineminus">-                      transparent 1px), -moz-linear-gradient(hsla(0,0%,100%,.3)</span>
<a href="#l45.168"></a><span id="l45.168" class="difflineminus">-                      1px, hsla(0,0%,75%,.2) 80%, hsla(0,0%,60%,.2)),</span>
<a href="#l45.169"></a><span id="l45.169" class="difflineminus">-                      -moz-linear-gradient(hsl(214,44%,87%), hsl(214,44%,87%));</span>
<a href="#l45.170"></a><span id="l45.170" class="difflineplus">+    background-image: -moz-linear-gradient(bottom, transparent 1px, transparent),</span>
<a href="#l45.171"></a><span id="l45.171" class="difflineplus">+                      -moz-linear-gradient(hsla(0, 0%, 100%, .3) 1px,</span>
<a href="#l45.172"></a><span id="l45.172" class="difflineplus">+                                           hsla(0, 0%, 75%, .2) 80%,</span>
<a href="#l45.173"></a><span id="l45.173" class="difflineplus">+                                           hsla(0, 0%, 60%, .2)),</span>
<a href="#l45.174"></a><span id="l45.174" class="difflineplus">+                      -moz-linear-gradient(hsl(214, 44%, 87%), hsl(214, 44%, 87%));</span>
<a href="#l45.175"></a><span id="l45.175" class="difflineplus">+  }</span>
<a href="#l45.176"></a><span id="l45.176" class="difflineplus">+</span>
<a href="#l45.177"></a><span id="l45.177" class="difflineplus">+  .tabmail-tab[selected=&quot;true&quot;]:not(:-moz-lwtheme) {</span>
<a href="#l45.178"></a><span id="l45.178" class="difflineplus">+    background-image: -moz-linear-gradient(white, rgba(255, 255, 255, .5) 50%),</span>
<a href="#l45.179"></a><span id="l45.179" class="difflineplus">+                      -moz-linear-gradient(hsl(214, 44%, 87%), hsl(214, 44%, 87%));</span>
<a href="#l45.180"></a><span id="l45.180">   }</span>
<a href="#l45.181"></a><span id="l45.181"> }</span>
<a href="#l45.182"></a><span id="l45.182"> </span>
<a href="#l45.183"></a><span id="l45.183"> .tabmail-tab[busy],</span>
<a href="#l45.184"></a><span id="l45.184"> .tabmail-tab[thinking] {</span>
<a href="#l45.185"></a><span id="l45.185">   list-style-image: url(&quot;chrome://global/skin/icons/loading_16.png&quot;) !important;</span>
<a href="#l45.186"></a><span id="l45.186">   -moz-image-region: auto !important;</span>
<a href="#l45.187"></a><span id="l45.187"> }</span>
<a href="#l45.188"></a><span id="l45.188" class="difflineat">@@ -149,106 +173,63 @@</span>
<a href="#l45.189"></a><span id="l45.189"> .tabmail-tab[selected=&quot;true&quot;] {</span>
<a href="#l45.190"></a><span id="l45.190">   font-weight: bold;</span>
<a href="#l45.191"></a><span id="l45.191"> }</span>
<a href="#l45.192"></a><span id="l45.192"> </span>
<a href="#l45.193"></a><span id="l45.193"> .tabmail-tab[selected=&quot;true&quot;] &gt; .tab-image-middle &gt; .tab-text {</span>
<a href="#l45.194"></a><span id="l45.194">   opacity: 1.0 !important;</span>
<a href="#l45.195"></a><span id="l45.195"> }</span>
<a href="#l45.196"></a><span id="l45.196"> </span>
<a href="#l45.197"></a><span id="l45.197" class="difflineminus">-.tabmail-tab:-moz-lwtheme-brighttext,</span>
<a href="#l45.198"></a><span id="l45.198" class="difflineminus">-.tabmail-arrowscrollbox &gt; .scrollbutton-up:-moz-lwtheme-brighttext,</span>
<a href="#l45.199"></a><span id="l45.199" class="difflineminus">-.tabmail-arrowscrollbox &gt; .scrollbutton-down:-moz-lwtheme-brighttext,</span>
<a href="#l45.200"></a><span id="l45.200" class="difflineminus">-.tabs-alltabs-button:-moz-lwtheme-brighttext {</span>
<a href="#l45.201"></a><span id="l45.201" class="difflineminus">-  background-color: rgba(0, 0, 0, .5);</span>
<a href="#l45.202"></a><span id="l45.202" class="difflineminus">-}</span>
<a href="#l45.203"></a><span id="l45.203" class="difflineminus">-</span>
<a href="#l45.204"></a><span id="l45.204" class="difflineminus">-.tabmail-tab:-moz-lwtheme-darktext,</span>
<a href="#l45.205"></a><span id="l45.205" class="difflineminus">-.tabmail-arrowscrollbox &gt; .scrollbutton-up:-moz-lwtheme-darktext,</span>
<a href="#l45.206"></a><span id="l45.206" class="difflineminus">-.tabmail-arrowscrollbox &gt; .scrollbutton-down:-moz-lwtheme-darktext,</span>
<a href="#l45.207"></a><span id="l45.207" class="difflineminus">-.tabs-alltabs-button:-moz-lwtheme-darktext {</span>
<a href="#l45.208"></a><span id="l45.208" class="difflineminus">-  background-color: rgba(255, 255, 255, .5);</span>
<a href="#l45.209"></a><span id="l45.209" class="difflineminus">-}</span>
<a href="#l45.210"></a><span id="l45.210" class="difflineminus">-</span>
<a href="#l45.211"></a><span id="l45.211" class="difflineminus">-.tabmail-tab:-moz-lwtheme:not([selected=&quot;true&quot;]) {</span>
<a href="#l45.212"></a><span id="l45.212" class="difflineminus">-  opacity: .85;</span>
<a href="#l45.213"></a><span id="l45.213" class="difflineminus">-}</span>
<a href="#l45.214"></a><span id="l45.214" class="difflineminus">-</span>
<a href="#l45.215"></a><span id="l45.215"> .tabmail-tab:-moz-lwtheme[selected=&quot;true&quot;] {</span>
<a href="#l45.216"></a><span id="l45.216">   text-shadow: none;</span>
<a href="#l45.217"></a><span id="l45.217"> }</span>
<a href="#l45.218"></a><span id="l45.218"> </span>
<a href="#l45.219"></a><span id="l45.219" class="difflineminus">-.tabmail-tabs:-moz-lwtheme {</span>
<a href="#l45.220"></a><span id="l45.220" class="difflineminus">-  padding-top: 1px;</span>
<a href="#l45.221"></a><span id="l45.221" class="difflineminus">-}</span>
<a href="#l45.222"></a><span id="l45.222" class="difflineminus">-</span>
<a href="#l45.223"></a><span id="l45.223"> @media all and (-moz-windows-compositor) {</span>
<a href="#l45.224"></a><span id="l45.224">   .tabmail-tabs:not(:-moz-lwtheme) {</span>
<a href="#l45.225"></a><span id="l45.225">     background: transparent;</span>
<a href="#l45.226"></a><span id="l45.226">   }</span>
<a href="#l45.227"></a><span id="l45.227" class="difflineminus">-</span>
<a href="#l45.228"></a><span id="l45.228" class="difflineminus">-  .tabmail-tabs {</span>
<a href="#l45.229"></a><span id="l45.229" class="difflineminus">-    margin-top: -3px;</span>
<a href="#l45.230"></a><span id="l45.230" class="difflineminus">-  }</span>
<a href="#l45.231"></a><span id="l45.231" class="difflineminus">-</span>
<a href="#l45.232"></a><span id="l45.232" class="difflineminus">-  .tabmail-tab:not(:-moz-lwtheme):not([selected=&quot;true&quot;]) {</span>
<a href="#l45.233"></a><span id="l45.233" class="difflineminus">-    background-image: -moz-linear-gradient(hsl(214, 15%, 80%),</span>
<a href="#l45.234"></a><span id="l45.234" class="difflineminus">-                      hsl(214, 15%, 65%) 50%);</span>
<a href="#l45.235"></a><span id="l45.235" class="difflineminus">-    color: black;</span>
<a href="#l45.236"></a><span id="l45.236" class="difflineminus">-  }</span>
<a href="#l45.237"></a><span id="l45.237" class="difflineminus">-</span>
<a href="#l45.238"></a><span id="l45.238" class="difflineminus">-  .tabmail-tab[selected=&quot;true&quot;]:not(:-moz-lwtheme) {</span>
<a href="#l45.239"></a><span id="l45.239" class="difflineminus">-    margin-bottom: -1px;</span>
<a href="#l45.240"></a><span id="l45.240" class="difflineminus">-    padding-bottom: 1px;</span>
<a href="#l45.241"></a><span id="l45.241" class="difflineminus">-  }</span>
<a href="#l45.242"></a><span id="l45.242" class="difflineminus">-</span>
<a href="#l45.243"></a><span id="l45.243" class="difflineminus">-  .tabs-bottom:not(:-moz-lwtheme) {</span>
<a href="#l45.244"></a><span id="l45.244" class="difflineminus">-    margin-right: -3px;</span>
<a href="#l45.245"></a><span id="l45.245" class="difflineminus">-    margin-left: -3px;</span>
<a href="#l45.246"></a><span id="l45.246" class="difflineminus">-    border-bottom: 1px solid ThreeDDarkShadow;</span>
<a href="#l45.247"></a><span id="l45.247" class="difflineminus">-  }</span>
<a href="#l45.248"></a><span id="l45.248"> }</span>
<a href="#l45.249"></a><span id="l45.249"> </span>
<a href="#l45.250"></a><span id="l45.250"> .tab-icon-image {</span>
<a href="#l45.251"></a><span id="l45.251" class="difflineminus">-  margin-top: 1px;</span>
<a href="#l45.252"></a><span id="l45.252" class="difflineplus">+  -moz-margin-start: 2px;</span>
<a href="#l45.253"></a><span id="l45.253">   -moz-margin-end: 3px;</span>
<a href="#l45.254"></a><span id="l45.254">   width: 16px;</span>
<a href="#l45.255"></a><span id="l45.255">   height: 16px;</span>
<a href="#l45.256"></a><span id="l45.256"> }</span>
<a href="#l45.257"></a><span id="l45.257"> </span>
<a href="#l45.258"></a><span id="l45.258"> .tabmail-tab {</span>
<a href="#l45.259"></a><span id="l45.259">   list-style-image: url(&quot;chrome://global/skin/icons/folder-item.png&quot;);</span>
<a href="#l45.260"></a><span id="l45.260">   -moz-image-region: rect(0px, 16px, 16px, 0px);</span>
<a href="#l45.261"></a><span id="l45.261"> }</span>
<a href="#l45.262"></a><span id="l45.262"> </span>
<a href="#l45.263"></a><span id="l45.263"> tabpanels {</span>
<a href="#l45.264"></a><span id="l45.264">   -moz-appearance: none;</span>
<a href="#l45.265"></a><span id="l45.265" class="difflineplus">+  background-color: transparent;</span>
<a href="#l45.266"></a><span id="l45.266"> }</span>
<a href="#l45.267"></a><span id="l45.267"> </span>
<a href="#l45.268"></a><span id="l45.268"> /* tabmail-tab focus ring */</span>
<a href="#l45.269"></a><span id="l45.269"> .tabmail-tab &gt; .tab-image-middle &gt; .tab-text {</span>
<a href="#l45.270"></a><span id="l45.270">   border: 1px dotted transparent;</span>
<a href="#l45.271"></a><span id="l45.271"> }</span>
<a href="#l45.272"></a><span id="l45.272"> </span>
<a href="#l45.273"></a><span id="l45.273"> .tabmail-tab:focus &gt; .tab-image-middle &gt; .tab-text {</span>
<a href="#l45.274"></a><span id="l45.274">   border: 1px dotted -moz-DialogText;</span>
<a href="#l45.275"></a><span id="l45.275"> }</span>
<a href="#l45.276"></a><span id="l45.276"> </span>
<a href="#l45.277"></a><span id="l45.277"> /* Tab DnD indicator */</span>
<a href="#l45.278"></a><span id="l45.278"> .tab-drop-indicator {</span>
<a href="#l45.279"></a><span id="l45.279">   list-style-image: url(chrome://messenger/skin/icons/tabDragIndicator.png);</span>
<a href="#l45.280"></a><span id="l45.280" class="difflineminus">-  margin-top: -11px;</span>
<a href="#l45.281"></a><span id="l45.281" class="difflineplus">+  margin-bottom: -11px;</span>
<a href="#l45.282"></a><span id="l45.282"> }</span>
<a href="#l45.283"></a><span id="l45.283"> </span>
<a href="#l45.284"></a><span id="l45.284"> /**</span>
<a href="#l45.285"></a><span id="l45.285"> * close buttons</span>
<a href="#l45.286"></a><span id="l45.286"> */</span>
<a href="#l45.287"></a><span id="l45.287"> .tab-close-button &gt; .toolbarbutton-icon {</span>
<a href="#l45.288"></a><span id="l45.288">   -moz-margin-end: 0px !important;</span>
<a href="#l45.289"></a><span id="l45.289" class="difflineminus">-  margin-top: 1px;</span>
<a href="#l45.290"></a><span id="l45.290"> }</span>
<a href="#l45.291"></a><span id="l45.291"> </span>
<a href="#l45.292"></a><span id="l45.292"> .tab-close-button,</span>
<a href="#l45.293"></a><span id="l45.293"> .tabs-closebutton {</span>
<a href="#l45.294"></a><span id="l45.294">   -moz-appearance: none;</span>
<a href="#l45.295"></a><span id="l45.295">   -moz-image-region: rect(0, 64px, 16px, 48px);</span>
<a href="#l45.296"></a><span id="l45.296">   height: 24px;</span>
<a href="#l45.297"></a><span id="l45.297">   border: none !important;</span>
<a href="#l45.298"></a><span id="l45.298" class="difflineat">@@ -257,25 +238,16 @@ tabpanels {</span>
<a href="#l45.299"></a><span id="l45.299">   list-style-image: url(&quot;chrome://global/skin/icons/close.png&quot;);</span>
<a href="#l45.300"></a><span id="l45.300">   background: none !important;</span>
<a href="#l45.301"></a><span id="l45.301"> }</span>
<a href="#l45.302"></a><span id="l45.302"> </span>
<a href="#l45.303"></a><span id="l45.303"> .tabs-closebutton {</span>
<a href="#l45.304"></a><span id="l45.304">   padding: 0 2px !important;</span>
<a href="#l45.305"></a><span id="l45.305"> }</span>
<a href="#l45.306"></a><span id="l45.306"> </span>
<a href="#l45.307"></a><span id="l45.307" class="difflineminus">-.tabmail-tab:not([selected=&quot;true&quot;]) &gt; .tab-close-button {</span>
<a href="#l45.308"></a><span id="l45.308" class="difflineminus">-  height: 23px;</span>
<a href="#l45.309"></a><span id="l45.309" class="difflineminus">-  margin-bottom: 1px;</span>
<a href="#l45.310"></a><span id="l45.310" class="difflineminus">-}</span>
<a href="#l45.311"></a><span id="l45.311" class="difflineminus">-</span>
<a href="#l45.312"></a><span id="l45.312" class="difflineminus">-.tabmail-tab:not([selected=&quot;true&quot;]) &gt; .tab-close-button &gt; .toolbarbutton-icon {</span>
<a href="#l45.313"></a><span id="l45.313" class="difflineminus">-  margin-top: 2px;</span>
<a href="#l45.314"></a><span id="l45.314" class="difflineminus">-}</span>
<a href="#l45.315"></a><span id="l45.315" class="difflineminus">-</span>
<a href="#l45.316"></a><span id="l45.316"> .tab-close-button:hover,</span>
<a href="#l45.317"></a><span id="l45.317"> .tabs-closebutton:hover,</span>
<a href="#l45.318"></a><span id="l45.318"> .tabmail-tab[selected=&quot;true&quot;] &gt; .tab-close-button:hover {</span>
<a href="#l45.319"></a><span id="l45.319">   -moz-image-region: rect(0, 32px, 16px, 16px);</span>
<a href="#l45.320"></a><span id="l45.320">   opacity: 1.0;</span>
<a href="#l45.321"></a><span id="l45.321"> }</span>
<a href="#l45.322"></a><span id="l45.322"> </span>
<a href="#l45.323"></a><span id="l45.323"> .tab-close-button:hover:active,</span>
<a href="#l45.324"></a><span id="l45.324" class="difflineat">@@ -384,26 +356,55 @@ tabpanels {</span>
<a href="#l45.325"></a><span id="l45.325"> .alltabs-item[busy] {</span>
<a href="#l45.326"></a><span id="l45.326">   list-style-image: url(&quot;chrome://global/skin/icons/loading_16.png&quot;) !important;</span>
<a href="#l45.327"></a><span id="l45.327"> }</span>
<a href="#l45.328"></a><span id="l45.328"> </span>
<a href="#l45.329"></a><span id="l45.329"> /**</span>
<a href="#l45.330"></a><span id="l45.330"> * Toolbarbuttons on tab bar</span>
<a href="#l45.331"></a><span id="l45.331"> */</span>
<a href="#l45.332"></a><span id="l45.332"> </span>
<a href="#l45.333"></a><span id="l45.333" class="difflineplus">+.tabs-alltabs-button,</span>
<a href="#l45.334"></a><span id="l45.334"> .tabmail-tabs toolbarbutton {</span>
<a href="#l45.335"></a><span id="l45.335">   -moz-appearance: none;</span>
<a href="#l45.336"></a><span id="l45.336">   border-style: none;</span>
<a href="#l45.337"></a><span id="l45.337">   padding: 0 3px;</span>
<a href="#l45.338"></a><span id="l45.338" class="difflineminus">-  margin-top: 3px;</span>
<a href="#l45.339"></a><span id="l45.339"> }</span>
<a href="#l45.340"></a><span id="l45.340"> </span>
<a href="#l45.341"></a><span id="l45.341" class="difflineplus">+.tabs-alltabs-button:hover,</span>
<a href="#l45.342"></a><span id="l45.342" class="difflineplus">+.tabs-alltabs-button[open],</span>
<a href="#l45.343"></a><span id="l45.343" class="difflineplus">+.tabs-alltabs-button:hover:active,</span>
<a href="#l45.344"></a><span id="l45.344"> .tabmail-tabs toolbarbutton[open],</span>
<a href="#l45.345"></a><span id="l45.345"> .tabmail-tabs toolbarbutton:hover:active,</span>
<a href="#l45.346"></a><span id="l45.346"> .tabmail-tabs toolbarbutton:not([disabled]):hover {</span>
<a href="#l45.347"></a><span id="l45.347">   background-image: -moz-linear-gradient(rgba(255, 255, 255, 0),</span>
<a href="#l45.348"></a><span id="l45.348">                     rgba(255, 255, 255, .5)),</span>
<a href="#l45.349"></a><span id="l45.349">                     -moz-linear-gradient(transparent, rgba(0, 0, 0, .25) 30%),</span>
<a href="#l45.350"></a><span id="l45.350">                     -moz-linear-gradient(transparent, rgba(0, 0, 0, .25) 30%);</span>
<a href="#l45.351"></a><span id="l45.351">   background-position: 1px -1px, 0 -1px, 100% -1px;</span>
<a href="#l45.352"></a><span id="l45.352">   background-size: -moz-calc(100% - 2px) 100%, 1px 100%, 1px 100%;</span>
<a href="#l45.353"></a><span id="l45.353">   background-repeat: no-repeat;</span>
<a href="#l45.354"></a><span id="l45.354"> }</span>
<a href="#l45.355"></a><span id="l45.355" class="difflineplus">+</span>
<a href="#l45.356"></a><span id="l45.356" class="difflineplus">+/* Content Tabs */</span>
<a href="#l45.357"></a><span id="l45.357" class="difflineplus">+.contentTabToolbox {</span>
<a href="#l45.358"></a><span id="l45.358" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l45.359"></a><span id="l45.359" class="difflineplus">+  height: 0px;</span>
<a href="#l45.360"></a><span id="l45.360" class="difflineplus">+  border: 0;</span>
<a href="#l45.361"></a><span id="l45.361" class="difflineplus">+}</span>
<a href="#l45.362"></a><span id="l45.362" class="difflineplus">+</span>
<a href="#l45.363"></a><span id="l45.363" class="difflineplus">+.contentTabInstance[disablechrome] .contentTabToolbox {</span>
<a href="#l45.364"></a><span id="l45.364" class="difflineplus">+  display: none;</span>
<a href="#l45.365"></a><span id="l45.365" class="difflineplus">+}</span>
<a href="#l45.366"></a><span id="l45.366" class="difflineplus">+</span>
<a href="#l45.367"></a><span id="l45.367" class="difflineplus">+.contentTabToolbox:not(:-moz-lwtheme) {</span>
<a href="#l45.368"></a><span id="l45.368" class="difflineplus">+  border-bottom: 1px solid rgb(105, 105, 105);</span>
<a href="#l45.369"></a><span id="l45.369" class="difflineplus">+}</span>
<a href="#l45.370"></a><span id="l45.370" class="difflineplus">+</span>
<a href="#l45.371"></a><span id="l45.371" class="difflineplus">+.contentTabToolbox:-moz-lwtheme {</span>
<a href="#l45.372"></a><span id="l45.372" class="difflineplus">+  height: 1px;</span>
<a href="#l45.373"></a><span id="l45.373" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5) 50%);</span>
<a href="#l45.374"></a><span id="l45.374" class="difflineplus">+  background-color: rgba(255, 255, 255, 0.3);</span>
<a href="#l45.375"></a><span id="l45.375" class="difflineplus">+}</span>
<a href="#l45.376"></a><span id="l45.376" class="difflineplus">+</span>
<a href="#l45.377"></a><span id="l45.377" class="difflineplus">+.contentTabToolbar {</span>
<a href="#l45.378"></a><span id="l45.378" class="difflineplus">+  height: 0px;</span>
<a href="#l45.379"></a><span id="l45.379" class="difflineplus">+  min-height: 0px;</span>
<a href="#l45.380"></a><span id="l45.380" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/mail/themes/qute/mail/tabmail.css</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/mail/themes/qute/mail/tabmail.css</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -32,186 +32,159 @@</span>
<a href="#l46.4"></a><span id="l46.4">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l46.5"></a><span id="l46.5">  *</span>
<a href="#l46.6"></a><span id="l46.6">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l46.7"></a><span id="l46.7"> </span>
<a href="#l46.8"></a><span id="l46.8"> /**</span>
<a href="#l46.9"></a><span id="l46.9">  * Tabmail Tabs</span>
<a href="#l46.10"></a><span id="l46.10">  */</span>
<a href="#l46.11"></a><span id="l46.11"> </span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-.tabmail-tabs {</span>
<a href="#l46.13"></a><span id="l46.13" class="difflineminus">-  padding-top: 0px;</span>
<a href="#l46.14"></a><span id="l46.14" class="difflineminus">-  background: -moz-dialog url(&quot;chrome://messenger/skin/icons/tabmail-tabs-bkgnd.png&quot;);</span>
<a href="#l46.15"></a><span id="l46.15" class="difflineminus">-  -moz-padding-start: 0px;</span>
<a href="#l46.16"></a><span id="l46.16" class="difflineminus">-}</span>
<a href="#l46.17"></a><span id="l46.17" class="difflineplus">+.tabmail-arrowscrollbox {</span>
<a href="#l46.18"></a><span id="l46.18" class="difflineplus">+  margin-bottom: -1px;</span>
<a href="#l46.19"></a><span id="l46.19" class="difflineplus">+ }</span>
<a href="#l46.20"></a><span id="l46.20"> </span>
<a href="#l46.21"></a><span id="l46.21"> .tabmail-tabs[overflow=&quot;true&quot;] {</span>
<a href="#l46.22"></a><span id="l46.22">   -moz-padding-start: 0px;</span>
<a href="#l46.23"></a><span id="l46.23"> }</span>
<a href="#l46.24"></a><span id="l46.24"> </span>
<a href="#l46.25"></a><span id="l46.25"> .tabmail-tabs &gt; .tabmail-tab:first-child &gt; .tab-close-button {</span>
<a href="#l46.26"></a><span id="l46.26">   visibility: collapse;</span>
<a href="#l46.27"></a><span id="l46.27"> }</span>
<a href="#l46.28"></a><span id="l46.28"> </span>
<a href="#l46.29"></a><span id="l46.29" class="difflineplus">+#tabpanelcontainer:-moz-lwtheme {</span>
<a href="#l46.30"></a><span id="l46.30" class="difflineplus">+  color: inherit;</span>
<a href="#l46.31"></a><span id="l46.31" class="difflineplus">+}</span>
<a href="#l46.32"></a><span id="l46.32" class="difflineplus">+</span>
<a href="#l46.33"></a><span id="l46.33"> /**</span>
<a href="#l46.34"></a><span id="l46.34">  * Tab</span>
<a href="#l46.35"></a><span id="l46.35">  */</span>
<a href="#l46.36"></a><span id="l46.36"> </span>
<a href="#l46.37"></a><span id="l46.37"> .tabmail-tab {</span>
<a href="#l46.38"></a><span id="l46.38" class="difflineminus">-  -moz-appearance: none !important;</span>
<a href="#l46.39"></a><span id="l46.39" class="difflineminus">-  background: transparent !important;</span>
<a href="#l46.40"></a><span id="l46.40" class="difflineminus">-  margin: 0px 0px 1px !important;</span>
<a href="#l46.41"></a><span id="l46.41" class="difflineminus">-  padding: 0px !important;</span>
<a href="#l46.42"></a><span id="l46.42" class="difflineminus">-  border: none !important;</span>
<a href="#l46.43"></a><span id="l46.43" class="difflineminus">-  height: 22px !important;</span>
<a href="#l46.44"></a><span id="l46.44" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l46.45"></a><span id="l46.45" class="difflineplus">+  background: -moz-linear-gradient(bottom, rgba(10%, 10%, 10%, .4) 1px,</span>
<a href="#l46.46"></a><span id="l46.46" class="difflineplus">+              transparent 1px), -moz-linear-gradient(transparent,</span>
<a href="#l46.47"></a><span id="l46.47" class="difflineplus">+              hsla(0, 0%, 45%, .1) 1px, hsla(0, 0%, 32%, .2) 80%,</span>
<a href="#l46.48"></a><span id="l46.48" class="difflineplus">+              hsla(0, 0%, 0%, .2)),</span>
<a href="#l46.49"></a><span id="l46.49" class="difflineplus">+              -moz-linear-gradient(-moz-dialog, -moz-dialog);</span>
<a href="#l46.50"></a><span id="l46.50" class="difflineplus">+  background-origin: border-box;</span>
<a href="#l46.51"></a><span id="l46.51" class="difflineplus">+  background-position: 1px 2px;</span>
<a href="#l46.52"></a><span id="l46.52" class="difflineplus">+  background-size: -moz-calc(100% - 2px) -moz-calc(100% - 2px);</span>
<a href="#l46.53"></a><span id="l46.53" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l46.54"></a><span id="l46.54" class="difflineplus">+  margin: 0;</span>
<a href="#l46.55"></a><span id="l46.55" class="difflineplus">+  padding: 0 0 3px;</span>
<a href="#l46.56"></a><span id="l46.56" class="difflineplus">+  -moz-border-image: url(icons/tab.png) 4 3 0 / 4px 3px 0 repeat stretch;</span>
<a href="#l46.57"></a><span id="l46.57" class="difflineplus">+  height: 26px;</span>
<a href="#l46.58"></a><span id="l46.58" class="difflineplus">+  border-radius: 0;</span>
<a href="#l46.59"></a><span id="l46.59" class="difflineplus">+}</span>
<a href="#l46.60"></a><span id="l46.60" class="difflineplus">+</span>
<a href="#l46.61"></a><span id="l46.61" class="difflineplus">+.tabmail-tab:not(:-moz-lwtheme):not([selected=&quot;true&quot;]):hover {</span>
<a href="#l46.62"></a><span id="l46.62" class="difflineplus">+  background-image: -moz-linear-gradient(bottom, rgba(10%, 10%, 10%, .4) 1px,</span>
<a href="#l46.63"></a><span id="l46.63" class="difflineplus">+                    transparent 1px), -moz-linear-gradient(hsla(0, 0%, 100%, .3) 1px,</span>
<a href="#l46.64"></a><span id="l46.64" class="difflineplus">+                    hsla(0, 0%, 75%, .2) 80%, hsla(0, 0%, 60%, .2)),</span>
<a href="#l46.65"></a><span id="l46.65" class="difflineplus">+                    -moz-linear-gradient(-moz-dialog, -moz-dialog);</span>
<a href="#l46.66"></a><span id="l46.66" class="difflineplus">+}</span>
<a href="#l46.67"></a><span id="l46.67" class="difflineplus">+</span>
<a href="#l46.68"></a><span id="l46.68" class="difflineplus">+.tabmail-tab[selected=&quot;true&quot;]:not(:-moz-lwtheme) {</span>
<a href="#l46.69"></a><span id="l46.69" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, .7),</span>
<a href="#l46.70"></a><span id="l46.70" class="difflineplus">+                    rgba(255, 255, 255, .5) 30%),</span>
<a href="#l46.71"></a><span id="l46.71" class="difflineplus">+                    -moz-linear-gradient(-moz-dialog, -moz-dialog);</span>
<a href="#l46.72"></a><span id="l46.72" class="difflineplus">+  color: -moz-dialogText;</span>
<a href="#l46.73"></a><span id="l46.73" class="difflineplus">+}</span>
<a href="#l46.74"></a><span id="l46.74" class="difflineplus">+</span>
<a href="#l46.75"></a><span id="l46.75" class="difflineplus">+.tabmail-tab:-moz-lwtheme {</span>
<a href="#l46.76"></a><span id="l46.76" class="difflineplus">+  color: inherit;</span>
<a href="#l46.77"></a><span id="l46.77" class="difflineplus">+}</span>
<a href="#l46.78"></a><span id="l46.78" class="difflineplus">+</span>
<a href="#l46.79"></a><span id="l46.79" class="difflineplus">+.tabmail-tab[selected=&quot;true&quot;]:-moz-lwtheme {</span>
<a href="#l46.80"></a><span id="l46.80" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, .7),</span>
<a href="#l46.81"></a><span id="l46.81" class="difflineplus">+                    rgba(255, 255, 255, .5) 50%);</span>
<a href="#l46.82"></a><span id="l46.82" class="difflineplus">+}</span>
<a href="#l46.83"></a><span id="l46.83" class="difflineplus">+</span>
<a href="#l46.84"></a><span id="l46.84" class="difflineplus">+.tabmail-tab:-moz-lwtheme-brighttext:not([selected=&quot;true&quot;]) {</span>
<a href="#l46.85"></a><span id="l46.85" class="difflineplus">+  background-image: -moz-linear-gradient(hsla(0, 0%, 40%, .6),</span>
<a href="#l46.86"></a><span id="l46.86" class="difflineplus">+                    hsla(0, 0%, 30%, .6) 80%);</span>
<a href="#l46.87"></a><span id="l46.87" class="difflineplus">+}</span>
<a href="#l46.88"></a><span id="l46.88" class="difflineplus">+</span>
<a href="#l46.89"></a><span id="l46.89" class="difflineplus">+.tabmail-tab:-moz-lwtheme-brighttext:not([selected=&quot;true&quot;]):hover {</span>
<a href="#l46.90"></a><span id="l46.90" class="difflineplus">+  background-image: -moz-linear-gradient(hsla(0, 0%, 60%, .6),</span>
<a href="#l46.91"></a><span id="l46.91" class="difflineplus">+                    hsla(0, 0%, 45%, .6) 80%);</span>
<a href="#l46.92"></a><span id="l46.92" class="difflineplus">+}</span>
<a href="#l46.93"></a><span id="l46.93" class="difflineplus">+</span>
<a href="#l46.94"></a><span id="l46.94" class="difflineplus">+.tabmail-tab:-moz-lwtheme-darktext:not([selected=&quot;true&quot;]) {</span>
<a href="#l46.95"></a><span id="l46.95" class="difflineplus">+  background-image: -moz-linear-gradient(hsla(0, 0%, 60%, .5),</span>
<a href="#l46.96"></a><span id="l46.96" class="difflineplus">+                    hsla(0, 0%, 45%, .5) 80%);</span>
<a href="#l46.97"></a><span id="l46.97" class="difflineplus">+}</span>
<a href="#l46.98"></a><span id="l46.98" class="difflineplus">+</span>
<a href="#l46.99"></a><span id="l46.99" class="difflineplus">+.tabmail-tab:-moz-lwtheme-darktext:not([selected=&quot;true&quot;]):hover {</span>
<a href="#l46.100"></a><span id="l46.100" class="difflineplus">+  background-image: -moz-linear-gradient(hsla(0, 0%, 80%, .5),</span>
<a href="#l46.101"></a><span id="l46.101" class="difflineplus">+                    hsla(0, 0%, 60%, .5) 80%);</span>
<a href="#l46.102"></a><span id="l46.102"> }</span>
<a href="#l46.103"></a><span id="l46.103"> </span>
<a href="#l46.104"></a><span id="l46.104"> .tabmail-tab &gt; .tab-image-middle {</span>
<a href="#l46.105"></a><span id="l46.105">   padding-top: 1px;</span>
<a href="#l46.106"></a><span id="l46.106">   -moz-padding-start: 1px;</span>
<a href="#l46.107"></a><span id="l46.107"> }</span>
<a href="#l46.108"></a><span id="l46.108"> </span>
<a href="#l46.109"></a><span id="l46.109" class="difflineminus">-.tab-throbber {</span>
<a href="#l46.110"></a><span id="l46.110" class="difflineplus">+.tabmail-tab[busy],</span>
<a href="#l46.111"></a><span id="l46.111" class="difflineplus">+.tabmail-tab[thinking] {</span>
<a href="#l46.112"></a><span id="l46.112">   list-style-image: url(&quot;chrome://global/skin/icons/loading_16.png&quot;) !important;</span>
<a href="#l46.113"></a><span id="l46.113">   -moz-image-region: auto !important;</span>
<a href="#l46.114"></a><span id="l46.114"> }</span>
<a href="#l46.115"></a><span id="l46.115"> </span>
<a href="#l46.116"></a><span id="l46.116"> .tabmail-tab[type=&quot;glodaSearch&quot;] {</span>
<a href="#l46.117"></a><span id="l46.117">   list-style-image: url(&quot;chrome://global/skin/icons/Search-glass.png&quot;);</span>
<a href="#l46.118"></a><span id="l46.118"> }</span>
<a href="#l46.119"></a><span id="l46.119"> </span>
<a href="#l46.120"></a><span id="l46.120"> .tabmail-tab[selected=&quot;true&quot;] {</span>
<a href="#l46.121"></a><span id="l46.121">   font-weight: bold;</span>
<a href="#l46.122"></a><span id="l46.122"> }</span>
<a href="#l46.123"></a><span id="l46.123"> </span>
<a href="#l46.124"></a><span id="l46.124"> .tabmail-tab[selected=&quot;true&quot;] &gt; .tab-image-middle &gt; .tab-text {</span>
<a href="#l46.125"></a><span id="l46.125">   opacity: 1.0 !important;</span>
<a href="#l46.126"></a><span id="l46.126"> }</span>
<a href="#l46.127"></a><span id="l46.127"> </span>
<a href="#l46.128"></a><span id="l46.128" class="difflineminus">-.tabmail-tab &gt; .tab-image-left {</span>
<a href="#l46.129"></a><span id="l46.129" class="difflineminus">-  width: 8px;</span>
<a href="#l46.130"></a><span id="l46.130" class="difflineminus">-  height: 24px;</span>
<a href="#l46.131"></a><span id="l46.131" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-left.png&quot;) no-repeat;</span>
<a href="#l46.132"></a><span id="l46.132" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.133"></a><span id="l46.133" class="difflineminus">-  border-top-left-radius: 4px;</span>
<a href="#l46.134"></a><span id="l46.134" class="difflineminus">-}</span>
<a href="#l46.135"></a><span id="l46.135" class="difflineminus">-</span>
<a href="#l46.136"></a><span id="l46.136" class="difflineminus">-.tabmail-tab:-moz-locale-dir(rtl) &gt; .tab-image-left {</span>
<a href="#l46.137"></a><span id="l46.137" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-right.png&quot;) no-repeat;</span>
<a href="#l46.138"></a><span id="l46.138" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.139"></a><span id="l46.139" class="difflineminus">-  border-top-left-radius: 0px;</span>
<a href="#l46.140"></a><span id="l46.140" class="difflineminus">-  border-top-right-radius: 4px;</span>
<a href="#l46.141"></a><span id="l46.141" class="difflineminus">-}</span>
<a href="#l46.142"></a><span id="l46.142" class="difflineminus">-</span>
<a href="#l46.143"></a><span id="l46.143" class="difflineminus">-.tabmail-tab:not([selected=&quot;true&quot;]):not(:hover) &gt; .tab-image-left {</span>
<a href="#l46.144"></a><span id="l46.144" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-left-bkgnd.png&quot;) no-repeat;</span>
<a href="#l46.145"></a><span id="l46.145" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.146"></a><span id="l46.146" class="difflineminus">-}</span>
<a href="#l46.147"></a><span id="l46.147" class="difflineminus">-</span>
<a href="#l46.148"></a><span id="l46.148" class="difflineminus">-.tabmail-tab:-moz-locale-dir(rtl):not([selected=&quot;true&quot;]):not(:hover) &gt; .tab-image-left {</span>
<a href="#l46.149"></a><span id="l46.149" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-right-bkgnd.png&quot;) no-repeat;</span>
<a href="#l46.150"></a><span id="l46.150" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.151"></a><span id="l46.151" class="difflineminus">-}</span>
<a href="#l46.152"></a><span id="l46.152" class="difflineminus">-</span>
<a href="#l46.153"></a><span id="l46.153" class="difflineminus">-.tabmail-tab &gt; .tab-image-middle {</span>
<a href="#l46.154"></a><span id="l46.154" class="difflineminus">-  height: 24px;</span>
<a href="#l46.155"></a><span id="l46.155" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-middle.png&quot;) repeat-x;</span>
<a href="#l46.156"></a><span id="l46.156" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.157"></a><span id="l46.157" class="difflineminus">-}</span>
<a href="#l46.158"></a><span id="l46.158" class="difflineminus">-</span>
<a href="#l46.159"></a><span id="l46.159" class="difflineminus">-.tabmail-tab:not([selected=&quot;true&quot;]):not(:hover) &gt; .tab-image-middle {</span>
<a href="#l46.160"></a><span id="l46.160" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-middle-bkgnd.png&quot;) repeat-x;</span>
<a href="#l46.161"></a><span id="l46.161" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.162"></a><span id="l46.162" class="difflineminus">-}</span>
<a href="#l46.163"></a><span id="l46.163" class="difflineminus">-</span>
<a href="#l46.164"></a><span id="l46.164" class="difflineminus">-.tabmail-tab &gt; .tab-image-right {</span>
<a href="#l46.165"></a><span id="l46.165" class="difflineminus">-  width: 8px;</span>
<a href="#l46.166"></a><span id="l46.166" class="difflineminus">-  height: 24px;</span>
<a href="#l46.167"></a><span id="l46.167" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-right.png&quot;) no-repeat;</span>
<a href="#l46.168"></a><span id="l46.168" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.169"></a><span id="l46.169" class="difflineminus">-  border-top-right-radius: 4px;</span>
<a href="#l46.170"></a><span id="l46.170" class="difflineminus">-}</span>
<a href="#l46.171"></a><span id="l46.171" class="difflineminus">-</span>
<a href="#l46.172"></a><span id="l46.172" class="difflineminus">-.tabmail-tab:-moz-locale-dir(rtl) &gt; .tab-image-right {</span>
<a href="#l46.173"></a><span id="l46.173" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-left.png&quot;) no-repeat;</span>
<a href="#l46.174"></a><span id="l46.174" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.175"></a><span id="l46.175" class="difflineminus">-  border-top-left-radius: 4px;</span>
<a href="#l46.176"></a><span id="l46.176" class="difflineminus">-  border-top-right-radius: 0px;</span>
<a href="#l46.177"></a><span id="l46.177" class="difflineminus">-}</span>
<a href="#l46.178"></a><span id="l46.178" class="difflineminus">-</span>
<a href="#l46.179"></a><span id="l46.179" class="difflineminus">-.tabmail-tab:not([selected=&quot;true&quot;]):not(:hover) &gt; .tab-image-right {</span>
<a href="#l46.180"></a><span id="l46.180" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-right-bkgnd.png&quot;) no-repeat;</span>
<a href="#l46.181"></a><span id="l46.181" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.182"></a><span id="l46.182" class="difflineminus">-}</span>
<a href="#l46.183"></a><span id="l46.183" class="difflineminus">-</span>
<a href="#l46.184"></a><span id="l46.184" class="difflineminus">-.tabmail-tab:-moz-locale-dir(rtl):not([selected=&quot;true&quot;]):not(:hover) &gt; .tab-image-right {</span>
<a href="#l46.185"></a><span id="l46.185" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-left-bkgnd.png&quot;) no-repeat;</span>
<a href="#l46.186"></a><span id="l46.186" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.187"></a><span id="l46.187" class="difflineminus">-}</span>
<a href="#l46.188"></a><span id="l46.188" class="difflineminus">-</span>
<a href="#l46.189"></a><span id="l46.189" class="difflineminus">-.tabmail-tab:not([selected=&quot;true&quot;]) &gt; .tab-image-left,</span>
<a href="#l46.190"></a><span id="l46.190" class="difflineminus">-.tabmail-tab:not([selected=&quot;true&quot;]) &gt; .tab-image-middle,</span>
<a href="#l46.191"></a><span id="l46.191" class="difflineminus">-.tabmail-tab:not([selected=&quot;true&quot;]) &gt; .tab-image-right {</span>
<a href="#l46.192"></a><span id="l46.192" class="difflineminus">-  height: 23px;</span>
<a href="#l46.193"></a><span id="l46.193" class="difflineminus">-  margin-bottom: 1px;</span>
<a href="#l46.194"></a><span id="l46.194" class="difflineminus">-}</span>
<a href="#l46.195"></a><span id="l46.195" class="difflineminus">-</span>
<a href="#l46.196"></a><span id="l46.196" class="difflineminus">-.tabmail-tab:-moz-lwtheme-brighttext,</span>
<a href="#l46.197"></a><span id="l46.197"> .tabmail-arrowscrollbox &gt; .scrollbutton-up:-moz-lwtheme-brighttext,</span>
<a href="#l46.198"></a><span id="l46.198"> .tabmail-arrowscrollbox &gt; .scrollbutton-down:-moz-lwtheme-brighttext,</span>
<a href="#l46.199"></a><span id="l46.199"> .tabs-alltabs-button:-moz-lwtheme-brighttext,</span>
<a href="#l46.200"></a><span id="l46.200"> .tabs-closebutton:-moz-lwtheme-brighttext {</span>
<a href="#l46.201"></a><span id="l46.201">   background-color: rgba(0,0,0,.5);</span>
<a href="#l46.202"></a><span id="l46.202"> }</span>
<a href="#l46.203"></a><span id="l46.203"> </span>
<a href="#l46.204"></a><span id="l46.204" class="difflineminus">-.tabmail-tab:-moz-lwtheme-darktext,</span>
<a href="#l46.205"></a><span id="l46.205"> .tabmail-arrowscrollbox &gt; .scrollbutton-up:-moz-lwtheme-darktext,</span>
<a href="#l46.206"></a><span id="l46.206"> .tabmail-arrowscrollbox &gt; .scrollbutton-down:-moz-lwtheme-darktext,</span>
<a href="#l46.207"></a><span id="l46.207"> .tabs-alltabs-button:-moz-lwtheme-darktext,</span>
<a href="#l46.208"></a><span id="l46.208"> .tabs-closebutton:-moz-lwtheme-darktext {</span>
<a href="#l46.209"></a><span id="l46.209">   background-color: rgba(255,255,255,.5);</span>
<a href="#l46.210"></a><span id="l46.210"> }</span>
<a href="#l46.211"></a><span id="l46.211"> </span>
<a href="#l46.212"></a><span id="l46.212" class="difflineminus">-.tabmail-tab:-moz-lwtheme:not([selected=&quot;true&quot;]) {</span>
<a href="#l46.213"></a><span id="l46.213" class="difflineminus">-  opacity: .85;</span>
<a href="#l46.214"></a><span id="l46.214" class="difflineminus">-}</span>
<a href="#l46.215"></a><span id="l46.215" class="difflineminus">-</span>
<a href="#l46.216"></a><span id="l46.216"> .tabmail-tab:-moz-lwtheme[selected=&quot;true&quot;] {</span>
<a href="#l46.217"></a><span id="l46.217">   text-shadow: none;</span>
<a href="#l46.218"></a><span id="l46.218"> }</span>
<a href="#l46.219"></a><span id="l46.219"> </span>
<a href="#l46.220"></a><span id="l46.220"> .tabmail-tabs:-moz-lwtheme {</span>
<a href="#l46.221"></a><span id="l46.221">   padding-top: 1px;</span>
<a href="#l46.222"></a><span id="l46.222">   background-color: transparent;</span>
<a href="#l46.223"></a><span id="l46.223">   background-image: none;</span>
<a href="#l46.224"></a><span id="l46.224"> }</span>
<a href="#l46.225"></a><span id="l46.225"> </span>
<a href="#l46.226"></a><span id="l46.226"> .tab-icon-image,</span>
<a href="#l46.227"></a><span id="l46.227"> .tab-throbber {</span>
<a href="#l46.228"></a><span id="l46.228" class="difflineminus">-  margin-top: 1px;</span>
<a href="#l46.229"></a><span id="l46.229">   -moz-margin-end: 3px;</span>
<a href="#l46.230"></a><span id="l46.230">   width: 16px;</span>
<a href="#l46.231"></a><span id="l46.231">   height: 16px;</span>
<a href="#l46.232"></a><span id="l46.232"> }</span>
<a href="#l46.233"></a><span id="l46.233"> </span>
<a href="#l46.234"></a><span id="l46.234"> .tabmail-tab {</span>
<a href="#l46.235"></a><span id="l46.235">   list-style-image: url(&quot;chrome://global/skin/icons/folder-item.png&quot;);</span>
<a href="#l46.236"></a><span id="l46.236">   -moz-image-region: rect(0px, 16px, 16px, 0px);</span>
<a href="#l46.237"></a><span id="l46.237"> }</span>
<a href="#l46.238"></a><span id="l46.238"> </span>
<a href="#l46.239"></a><span id="l46.239" class="difflineminus">-.tabs-bottom {</span>
<a href="#l46.240"></a><span id="l46.240" class="difflineminus">-  height: 4px !important;</span>
<a href="#l46.241"></a><span id="l46.241" class="difflineminus">-  margin: 0px !important;</span>
<a href="#l46.242"></a><span id="l46.242" class="difflineminus">-  background: -moz-dialog url(&quot;chrome://messenger/skin/icons/tabstrip-bottom.png&quot;) repeat !important;</span>
<a href="#l46.243"></a><span id="l46.243" class="difflineminus">-  border-top: 1px solid threedshadow;</span>
<a href="#l46.244"></a><span id="l46.244" class="difflineminus">-  border-bottom: 1px solid threedshadow;</span>
<a href="#l46.245"></a><span id="l46.245" class="difflineminus">-}</span>
<a href="#l46.246"></a><span id="l46.246" class="difflineminus">-</span>
<a href="#l46.247"></a><span id="l46.247"> tabpanels {</span>
<a href="#l46.248"></a><span id="l46.248">   -moz-appearance: none;</span>
<a href="#l46.249"></a><span id="l46.249" class="difflineplus">+  background-color: transparent;</span>
<a href="#l46.250"></a><span id="l46.250"> }</span>
<a href="#l46.251"></a><span id="l46.251"> </span>
<a href="#l46.252"></a><span id="l46.252"> .tabs-left,</span>
<a href="#l46.253"></a><span id="l46.253"> .tabs-right {</span>
<a href="#l46.254"></a><span id="l46.254">   width: 3px;</span>
<a href="#l46.255"></a><span id="l46.255">   border-bottom-width: 0px;</span>
<a href="#l46.256"></a><span id="l46.256"> }</span>
<a href="#l46.257"></a><span id="l46.257"> </span>
<a href="#l46.258"></a><span id="l46.258" class="difflineat">@@ -222,53 +195,48 @@ tabpanels {</span>
<a href="#l46.259"></a><span id="l46.259"> </span>
<a href="#l46.260"></a><span id="l46.260"> .tabmail-tab:focus &gt; .tab-image-middle &gt; .tab-text {</span>
<a href="#l46.261"></a><span id="l46.261">   border: 1px dotted -moz-DialogText;</span>
<a href="#l46.262"></a><span id="l46.262"> }</span>
<a href="#l46.263"></a><span id="l46.263"> </span>
<a href="#l46.264"></a><span id="l46.264"> /* Tab DnD indicator */</span>
<a href="#l46.265"></a><span id="l46.265"> .tab-drop-indicator {</span>
<a href="#l46.266"></a><span id="l46.266">   list-style-image: url(chrome://messenger/skin/icons/tabDragIndicator.png);</span>
<a href="#l46.267"></a><span id="l46.267" class="difflineminus">-  margin-top: -11px;</span>
<a href="#l46.268"></a><span id="l46.268" class="difflineplus">+  margin-bottom: -11px;</span>
<a href="#l46.269"></a><span id="l46.269"> }</span>
<a href="#l46.270"></a><span id="l46.270"> </span>
<a href="#l46.271"></a><span id="l46.271"> /**</span>
<a href="#l46.272"></a><span id="l46.272">  * close buttons</span>
<a href="#l46.273"></a><span id="l46.273">  */</span>
<a href="#l46.274"></a><span id="l46.274"> </span>
<a href="#l46.275"></a><span id="l46.275"> .tabs-closebutton-box {</span>
<a href="#l46.276"></a><span id="l46.276">   margin-top: 2px;</span>
<a href="#l46.277"></a><span id="l46.277">   margin-bottom: 4px;</span>
<a href="#l46.278"></a><span id="l46.278" class="difflineminus">-  height: 23px !important;</span>
<a href="#l46.279"></a><span id="l46.279" class="difflineminus">-  -moz-border-start: 1px solid ThreeDShadow;</span>
<a href="#l46.280"></a><span id="l46.280" class="difflineminus">-  background: url(&quot;chrome://messenger/skin/icons/tab-middle-bkgnd.png&quot;) repeat-x -moz-dialog;</span>
<a href="#l46.281"></a><span id="l46.281"> }</span>
<a href="#l46.282"></a><span id="l46.282"> </span>
<a href="#l46.283"></a><span id="l46.283"> .tab-close-button &gt; .toolbarbutton-icon {</span>
<a href="#l46.284"></a><span id="l46.284">   -moz-margin-end: 0px !important;</span>
<a href="#l46.285"></a><span id="l46.285">   margin-top: 1px;</span>
<a href="#l46.286"></a><span id="l46.286"> }</span>
<a href="#l46.287"></a><span id="l46.287"> </span>
<a href="#l46.288"></a><span id="l46.288"> .tab-close-button,</span>
<a href="#l46.289"></a><span id="l46.289"> .tabs-closebutton {</span>
<a href="#l46.290"></a><span id="l46.290">   -moz-appearance: none;</span>
<a href="#l46.291"></a><span id="l46.291">   -moz-image-region: rect(0, 64px, 16px, 48px);</span>
<a href="#l46.292"></a><span id="l46.292" class="difflineminus">-  height: 24px;</span>
<a href="#l46.293"></a><span id="l46.293">   border: none !important;</span>
<a href="#l46.294"></a><span id="l46.294">   padding: 0px;</span>
<a href="#l46.295"></a><span id="l46.295">   cursor: default;</span>
<a href="#l46.296"></a><span id="l46.296">   list-style-image: url(&quot;chrome://global/skin/icons/close.png&quot;);</span>
<a href="#l46.297"></a><span id="l46.297"> }</span>
<a href="#l46.298"></a><span id="l46.298"> </span>
<a href="#l46.299"></a><span id="l46.299"> .tabs-closebutton {</span>
<a href="#l46.300"></a><span id="l46.300">   padding: 0 2px;</span>
<a href="#l46.301"></a><span id="l46.301"> }</span>
<a href="#l46.302"></a><span id="l46.302"> </span>
<a href="#l46.303"></a><span id="l46.303"> .tabmail-tab:not([selected=&quot;true&quot;]) &gt; .tab-close-button {</span>
<a href="#l46.304"></a><span id="l46.304" class="difflineminus">-  height: 23px;</span>
<a href="#l46.305"></a><span id="l46.305">   margin-bottom: 1px;</span>
<a href="#l46.306"></a><span id="l46.306"> }</span>
<a href="#l46.307"></a><span id="l46.307"> </span>
<a href="#l46.308"></a><span id="l46.308"> .tabmail-tab:not([selected=&quot;true&quot;]) &gt; .tab-close-button &gt; .toolbarbutton-icon {</span>
<a href="#l46.309"></a><span id="l46.309">   margin-top: 2px;</span>
<a href="#l46.310"></a><span id="l46.310"> }</span>
<a href="#l46.311"></a><span id="l46.311"> </span>
<a href="#l46.312"></a><span id="l46.312"> .tab-close-button:hover,</span>
<a href="#l46.313"></a><span id="l46.313" class="difflineat">@@ -280,27 +248,17 @@ tabpanels {</span>
<a href="#l46.314"></a><span id="l46.314"> </span>
<a href="#l46.315"></a><span id="l46.315"> .tab-close-button:hover:active,</span>
<a href="#l46.316"></a><span id="l46.316"> .tabs-closebutton:hover:active,</span>
<a href="#l46.317"></a><span id="l46.317"> .tabmail-tab[selected=&quot;true&quot;] &gt; .tab-close-button:hover:active {</span>
<a href="#l46.318"></a><span id="l46.318">   -moz-image-region: rect(0, 48px, 16px, 32px);</span>
<a href="#l46.319"></a><span id="l46.319">   opacity: 1.0;</span>
<a href="#l46.320"></a><span id="l46.320"> }</span>
<a href="#l46.321"></a><span id="l46.321"> </span>
<a href="#l46.322"></a><span id="l46.322" class="difflineminus">-.tabmail-tab &gt; .tab-close-button {</span>
<a href="#l46.323"></a><span id="l46.323" class="difflineminus">-  background-image: url(&quot;chrome://messenger/skin/icons/tab-middle-bkgnd.png&quot;);</span>
<a href="#l46.324"></a><span id="l46.324" class="difflineminus">-  background-color: -moz-dialog;</span>
<a href="#l46.325"></a><span id="l46.325" class="difflineminus">-}</span>
<a href="#l46.326"></a><span id="l46.326" class="difflineminus">-</span>
<a href="#l46.327"></a><span id="l46.327" class="difflineminus">-.tabmail-tab:hover &gt; .tab-close-button {</span>
<a href="#l46.328"></a><span id="l46.328" class="difflineminus">-  background-image: url(&quot;chrome://messenger/skin/icons/tab-middle.png&quot;);</span>
<a href="#l46.329"></a><span id="l46.329" class="difflineminus">-}</span>
<a href="#l46.330"></a><span id="l46.330" class="difflineminus">-</span>
<a href="#l46.331"></a><span id="l46.331"> .tabmail-tab[selected=&quot;true&quot;] &gt; .tab-close-button {</span>
<a href="#l46.332"></a><span id="l46.332" class="difflineminus">-  background-image: url(&quot;chrome://messenger/skin/icons/tab-middle.png&quot;);</span>
<a href="#l46.333"></a><span id="l46.333">   -moz-image-region: rect(0px, 16px, 16px, 0px);</span>
<a href="#l46.334"></a><span id="l46.334">   /* Make this button focusable so clicking on it will not focus the tab while</span>
<a href="#l46.335"></a><span id="l46.335">      it's getting closed */</span>
<a href="#l46.336"></a><span id="l46.336">   -moz-user-focus: normal;</span>
<a href="#l46.337"></a><span id="l46.337"> }</span>
<a href="#l46.338"></a><span id="l46.338"> </span>
<a href="#l46.339"></a><span id="l46.339"> .tab-close-button:focus,</span>
<a href="#l46.340"></a><span id="l46.340"> .tabs-closebutton:focus {</span>
<a href="#l46.341"></a><span id="l46.341" class="difflineat">@@ -311,32 +269,34 @@ tabpanels {</span>
<a href="#l46.342"></a><span id="l46.342">  * Tab Scrollbox Arrow Buttons</span>
<a href="#l46.343"></a><span id="l46.343">  */</span>
<a href="#l46.344"></a><span id="l46.344"> </span>
<a href="#l46.345"></a><span id="l46.345"> .tabmail-tabs[overflow=&quot;true&quot;] .tabs-left {</span>
<a href="#l46.346"></a><span id="l46.346">   display: none;</span>
<a href="#l46.347"></a><span id="l46.347"> }</span>
<a href="#l46.348"></a><span id="l46.348"> </span>
<a href="#l46.349"></a><span id="l46.349"> .tabmail-arrowscrollbox &gt; .scrollbutton-up {</span>
<a href="#l46.350"></a><span id="l46.350" class="difflineminus">-  margin-top: 2px;</span>
<a href="#l46.351"></a><span id="l46.351" class="difflineminus">-  margin-bottom: 4px;</span>
<a href="#l46.352"></a><span id="l46.352" class="difflineplus">+  margin-top: 1px;</span>
<a href="#l46.353"></a><span id="l46.353" class="difflineplus">+  margin-bottom: 1px;</span>
<a href="#l46.354"></a><span id="l46.354">   padding: 0 0 3px;</span>
<a href="#l46.355"></a><span id="l46.355">   width: 18px;</span>
<a href="#l46.356"></a><span id="l46.356" class="difflineplus">+  height: 23px;</span>
<a href="#l46.357"></a><span id="l46.357">   -moz-margin-start: 0px;</span>
<a href="#l46.358"></a><span id="l46.358">   -moz-margin-end: 2px;</span>
<a href="#l46.359"></a><span id="l46.359">   list-style-image: url(chrome://messenger/skin/icons/tab-arrow-left.png);</span>
<a href="#l46.360"></a><span id="l46.360"> }</span>
<a href="#l46.361"></a><span id="l46.361"> </span>
<a href="#l46.362"></a><span id="l46.362"> .tabmail-arrowscrollbox &gt; .scrollbutton-up &gt; .toolbarbutton-icon {</span>
<a href="#l46.363"></a><span id="l46.363">   margin: 2px 0px 0px;</span>
<a href="#l46.364"></a><span id="l46.364"> }</span>
<a href="#l46.365"></a><span id="l46.365"> </span>
<a href="#l46.366"></a><span id="l46.366"> .tabmail-arrowscrollbox &gt; .scrollbutton-down-stack {</span>
<a href="#l46.367"></a><span id="l46.367" class="difflineminus">-  margin-top: 2px;</span>
<a href="#l46.368"></a><span id="l46.368" class="difflineminus">-  margin-bottom: 4px;</span>
<a href="#l46.369"></a><span id="l46.369" class="difflineplus">+  height: 23px;</span>
<a href="#l46.370"></a><span id="l46.370" class="difflineplus">+  margin-top: 1px;</span>
<a href="#l46.371"></a><span id="l46.371" class="difflineplus">+  margin-bottom: 1px;</span>
<a href="#l46.372"></a><span id="l46.372">   -moz-margin-start: 2px;</span>
<a href="#l46.373"></a><span id="l46.373"> }</span>
<a href="#l46.374"></a><span id="l46.374"> </span>
<a href="#l46.375"></a><span id="l46.375"> .tabmail-arrowscrollbox &gt; stack &gt; .scrollbutton-down-box {</span>
<a href="#l46.376"></a><span id="l46.376">   width: 18px;</span>
<a href="#l46.377"></a><span id="l46.377"> }</span>
<a href="#l46.378"></a><span id="l46.378"> </span>
<a href="#l46.379"></a><span id="l46.379"> .tabmail-arrowscrollbox &gt; stack &gt; .scrollbutton-down {</span>
<a href="#l46.380"></a><span id="l46.380" class="difflineat">@@ -368,18 +328,18 @@ tabpanels {</span>
<a href="#l46.381"></a><span id="l46.381">   -moz-transform: scaleX(-1);</span>
<a href="#l46.382"></a><span id="l46.382"> }</span>
<a href="#l46.383"></a><span id="l46.383"> </span>
<a href="#l46.384"></a><span id="l46.384"> /**</span>
<a href="#l46.385"></a><span id="l46.385">  * All Tabs Button</span>
<a href="#l46.386"></a><span id="l46.386">  */</span>
<a href="#l46.387"></a><span id="l46.387"> </span>
<a href="#l46.388"></a><span id="l46.388"> .tabs-alltabs-button {</span>
<a href="#l46.389"></a><span id="l46.389" class="difflineminus">-  margin-top: 2px;</span>
<a href="#l46.390"></a><span id="l46.390" class="difflineminus">-  margin-bottom: 4px;</span>
<a href="#l46.391"></a><span id="l46.391" class="difflineplus">+  margin-top: 1px;</span>
<a href="#l46.392"></a><span id="l46.392" class="difflineplus">+  margin-bottom: 1px;</span>
<a href="#l46.393"></a><span id="l46.393">   width: 18px !important;</span>
<a href="#l46.394"></a><span id="l46.394">   height: 23px !important;</span>
<a href="#l46.395"></a><span id="l46.395">   -moz-padding-start: 4px !important;</span>
<a href="#l46.396"></a><span id="l46.396">   -moz-padding-end: 4px !important;</span>
<a href="#l46.397"></a><span id="l46.397">   padding: 0px;</span>
<a href="#l46.398"></a><span id="l46.398"> }</span>
<a href="#l46.399"></a><span id="l46.399"> </span>
<a href="#l46.400"></a><span id="l46.400"> .tabs-alltabs-button &gt; .toolbarbutton-text {</span>
<a href="#l46.401"></a><span id="l46.401" class="difflineat">@@ -411,8 +371,35 @@ tabpanels {</span>
<a href="#l46.402"></a><span id="l46.402"> </span>
<a href="#l46.403"></a><span id="l46.403"> .alltabs-item[selected=&quot;true&quot;] {</span>
<a href="#l46.404"></a><span id="l46.404">   font-weight: bold;</span>
<a href="#l46.405"></a><span id="l46.405"> }</span>
<a href="#l46.406"></a><span id="l46.406"> </span>
<a href="#l46.407"></a><span id="l46.407"> .alltabs-item[busy] {</span>
<a href="#l46.408"></a><span id="l46.408">   list-style-image: url(&quot;chrome://global/skin/icons/loading_16.png&quot;) !important;</span>
<a href="#l46.409"></a><span id="l46.409"> }</span>
<a href="#l46.410"></a><span id="l46.410" class="difflineplus">+</span>
<a href="#l46.411"></a><span id="l46.411" class="difflineplus">+/* Content Tabs */</span>
<a href="#l46.412"></a><span id="l46.412" class="difflineplus">+.contentTabToolbox {</span>
<a href="#l46.413"></a><span id="l46.413" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l46.414"></a><span id="l46.414" class="difflineplus">+  height: 0px;</span>
<a href="#l46.415"></a><span id="l46.415" class="difflineplus">+  border: 0;</span>
<a href="#l46.416"></a><span id="l46.416" class="difflineplus">+}</span>
<a href="#l46.417"></a><span id="l46.417" class="difflineplus">+</span>
<a href="#l46.418"></a><span id="l46.418" class="difflineplus">+.contentTabInstance[disablechrome] .contentTabToolbox {</span>
<a href="#l46.419"></a><span id="l46.419" class="difflineplus">+  display: none;</span>
<a href="#l46.420"></a><span id="l46.420" class="difflineplus">+}</span>
<a href="#l46.421"></a><span id="l46.421" class="difflineplus">+</span>
<a href="#l46.422"></a><span id="l46.422" class="difflineplus">+.contentTabToolbox:not(:-moz-lwtheme) {</span>
<a href="#l46.423"></a><span id="l46.423" class="difflineplus">+  height: 3px;</span>
<a href="#l46.424"></a><span id="l46.424" class="difflineplus">+  border-bottom: 1px solid rgb(105, 105, 105);</span>
<a href="#l46.425"></a><span id="l46.425" class="difflineplus">+}</span>
<a href="#l46.426"></a><span id="l46.426" class="difflineplus">+</span>
<a href="#l46.427"></a><span id="l46.427" class="difflineplus">+.contentTabToolbox:-moz-lwtheme {</span>
<a href="#l46.428"></a><span id="l46.428" class="difflineplus">+  height: 1px;</span>
<a href="#l46.429"></a><span id="l46.429" class="difflineplus">+  background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5) 50%);</span>
<a href="#l46.430"></a><span id="l46.430" class="difflineplus">+  background-color: rgba(255, 255, 255, 0.3);</span>
<a href="#l46.431"></a><span id="l46.431" class="difflineplus">+}</span>
<a href="#l46.432"></a><span id="l46.432" class="difflineplus">+</span>
<a href="#l46.433"></a><span id="l46.433" class="difflineplus">+.contentTabToolbar {</span>
<a href="#l46.434"></a><span id="l46.434" class="difflineplus">+  height: 0px;</span>
<a href="#l46.435"></a><span id="l46.435" class="difflineplus">+  min-height: 0px;</span>
<a href="#l46.436"></a><span id="l46.436" class="difflineplus">+}</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

