<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 27554:1ff6192e719fb411dcdf0ee832f8c7a88ef4849a</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 1ff6192e719fb411dcdf0ee832f8c7a88ef4849a" />
<meta property="og:url" content="/comm-central/rev/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a" />
<meta property="og:description" content="Bug 1580251 - remove unnecessary files from compose directory. r=mkmelin" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 1ff6192e719fb411dcdf0ee832f8c7a88ef4849a 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a">shortlog</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a">files</a> |
changeset |
<a href="/comm-central/raw-rev/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a">raw</a>  | <a href="/comm-central/archive/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1580251">Bug 1580251</a> - remove unnecessary files from compose directory. r=mkmelin
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#75;&#104;&#117;&#115;&#104;&#105;&#108;&#32;&#77;&#105;&#115;&#116;&#114;&#121;&#32;&#60;&#107;&#104;&#117;&#115;&#104;&#105;&#108;&#51;&#50;&#52;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 11 Sep 2019 12:51:00 +0200</td></tr>

<tr>
 <td>changeset 27554</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a">1ff6192e719fb411dcdf0ee832f8c7a88ef4849a</a></td>
</tr>



<tr>
<td>parent 27553</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/35e13c4b6c0dc181adbd22a37acd1c7a112bc172">35e13c4b6c0dc181adbd22a37acd1c7a112bc172</a>
</td>
</tr>

<tr>
<td>child 27555</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/da918af75788db82c7aa0efa6eefba046445acfb">da918af75788db82c7aa0efa6eefba046445acfb</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=1ff6192e719fb411dcdf0ee832f8c7a88ef4849a">16390</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Wed, 11 Sep 2019 22:10:17 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@821c6838bcd0 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=821c6838bcd07aadb71a91cadd5d18cb80cd8768">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=821c6838bcd07aadb71a91cadd5d18cb80cd8768&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=821c6838bcd07aadb71a91cadd5d18cb80cd8768&newProject=comm-central&newRevision=3971431fe094db61e268f93635f0db68a4d8a902&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=821c6838bcd07aadb71a91cadd5d18cb80cd8768&newProject=comm-central&newRevision=3971431fe094db61e268f93635f0db68a4d8a902&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=821c6838bcd07aadb71a91cadd5d18cb80cd8768&newProject=comm-central&newRevision=3971431fe094db61e268f93635f0db68a4d8a902&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1580251">1580251</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1580251">Bug 1580251</a> - remove unnecessary files from compose directory. r=mkmelin</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/ComposerCommands.js">mail/components/compose/content/ComposerCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/ComposerCommands.js">file</a> |
<a href="/comm-central/annotate/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/ComposerCommands.js">annotate</a> |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/ComposerCommands.js">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/ComposerCommands.js">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/ComposerCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdButtonProps.js">mail/components/compose/content/dialogs/EdButtonProps.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdButtonProps.js">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdButtonProps.js">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdButtonProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdButtonProps.xul">mail/components/compose/content/dialogs/EdButtonProps.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdButtonProps.xul">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdButtonProps.xul">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdButtonProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFieldSetProps.js">mail/components/compose/content/dialogs/EdFieldSetProps.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFieldSetProps.js">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFieldSetProps.js">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFieldSetProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFieldSetProps.xul">mail/components/compose/content/dialogs/EdFieldSetProps.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFieldSetProps.xul">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFieldSetProps.xul">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFieldSetProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFormProps.js">mail/components/compose/content/dialogs/EdFormProps.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFormProps.js">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFormProps.js">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFormProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFormProps.xul">mail/components/compose/content/dialogs/EdFormProps.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFormProps.xul">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFormProps.xul">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdFormProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdInputProps.js">mail/components/compose/content/dialogs/EdInputProps.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdInputProps.js">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdInputProps.js">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdInputProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdInputProps.xul">mail/components/compose/content/dialogs/EdInputProps.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdInputProps.xul">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdInputProps.xul">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdInputProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdLabelProps.js">mail/components/compose/content/dialogs/EdLabelProps.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdLabelProps.js">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdLabelProps.js">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdLabelProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdLabelProps.xul">mail/components/compose/content/dialogs/EdLabelProps.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdLabelProps.xul">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdLabelProps.xul">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdLabelProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdPageProps.js">mail/components/compose/content/dialogs/EdPageProps.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdPageProps.js">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdPageProps.js">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdPageProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdPageProps.xul">mail/components/compose/content/dialogs/EdPageProps.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdPageProps.xul">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdPageProps.xul">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdPageProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdSelectProps.js">mail/components/compose/content/dialogs/EdSelectProps.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdSelectProps.js">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdSelectProps.js">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdSelectProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdSelectProps.xul">mail/components/compose/content/dialogs/EdSelectProps.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdSelectProps.xul">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdSelectProps.xul">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdSelectProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdTextAreaProps.js">mail/components/compose/content/dialogs/EdTextAreaProps.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdTextAreaProps.js">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdTextAreaProps.js">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdTextAreaProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdTextAreaProps.xul">mail/components/compose/content/dialogs/EdTextAreaProps.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdTextAreaProps.xul">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdTextAreaProps.xul">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/dialogs/EdTextAreaProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/messengercompose.xul">mail/components/compose/content/messengercompose.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/messengercompose.xul">file</a> |
<a href="/comm-central/annotate/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/messengercompose.xul">annotate</a> |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/messengercompose.xul">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/messengercompose.xul">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/content/messengercompose.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/jar.mn">mail/components/compose/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/jar.mn">file</a> |
<a href="/comm-central/annotate/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/jar.mn">annotate</a> |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/jar.mn">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/jar.mn">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/components/compose/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorButtonProperties.dtd">mail/locales/en-US/chrome/messenger/messengercompose/EditorButtonProperties.dtd</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorButtonProperties.dtd">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorButtonProperties.dtd">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorButtonProperties.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorFieldSetProperties.dtd">mail/locales/en-US/chrome/messenger/messengercompose/EditorFieldSetProperties.dtd</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorFieldSetProperties.dtd">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorFieldSetProperties.dtd">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorFieldSetProperties.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorFormProperties.dtd">mail/locales/en-US/chrome/messenger/messengercompose/EditorFormProperties.dtd</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorFormProperties.dtd">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorFormProperties.dtd">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorFormProperties.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorLabelProperties.dtd">mail/locales/en-US/chrome/messenger/messengercompose/EditorLabelProperties.dtd</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorLabelProperties.dtd">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorLabelProperties.dtd">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorLabelProperties.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorSelectProperties.dtd">mail/locales/en-US/chrome/messenger/messengercompose/EditorSelectProperties.dtd</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorSelectProperties.dtd">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorSelectProperties.dtd">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorSelectProperties.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorTextAreaProperties.dtd">mail/locales/en-US/chrome/messenger/messengercompose/EditorTextAreaProperties.dtd</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorTextAreaProperties.dtd">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorTextAreaProperties.dtd">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/en-US/chrome/messenger/messengercompose/EditorTextAreaProperties.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/jar.mn">mail/locales/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/jar.mn">file</a> |
<a href="/comm-central/annotate/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/jar.mn">annotate</a> |
<a href="/comm-central/diff/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/jar.mn">diff</a> |
<a href="/comm-central/comparison/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/jar.mn">comparison</a> |
<a href="/comm-central/log/1ff6192e719fb411dcdf0ee832f8c7a88ef4849a/mail/locales/jar.mn">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/components/compose/content/ComposerCommands.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/components/compose/content/ComposerCommands.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -24,20 +24,17 @@ function SetupHTMLEditorCommands() {</span>
<a href="#l1.4"></a><span id="l1.4"> </span>
<a href="#l1.5"></a><span id="l1.5">   // Include everything a text editor does</span>
<a href="#l1.6"></a><span id="l1.6">   SetupTextEditorCommands();</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8">   // dump(&quot;Registering HTML editor commands\n&quot;);</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10">   commandTable.registerCommand(&quot;cmd_renderedHTMLEnabler&quot;, nsDummyHTMLCommand);</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-  commandTable.registerCommand(&quot;cmd_grid&quot;, nsGridCommand);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-</span>
<a href="#l1.14"></a><span id="l1.14">   commandTable.registerCommand(&quot;cmd_listProperties&quot;, nsListPropertiesCommand);</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-  commandTable.registerCommand(&quot;cmd_pageProperties&quot;, nsPagePropertiesCommand);</span>
<a href="#l1.16"></a><span id="l1.16">   commandTable.registerCommand(&quot;cmd_colorProperties&quot;, nsColorPropertiesCommand);</span>
<a href="#l1.17"></a><span id="l1.17">   commandTable.registerCommand(&quot;cmd_increaseFontStep&quot;, nsIncreaseFontCommand);</span>
<a href="#l1.18"></a><span id="l1.18">   commandTable.registerCommand(&quot;cmd_decreaseFontStep&quot;, nsDecreaseFontCommand);</span>
<a href="#l1.19"></a><span id="l1.19">   commandTable.registerCommand(</span>
<a href="#l1.20"></a><span id="l1.20">     &quot;cmd_advancedProperties&quot;,</span>
<a href="#l1.21"></a><span id="l1.21">     nsAdvancedPropertiesCommand</span>
<a href="#l1.22"></a><span id="l1.22">   );</span>
<a href="#l1.23"></a><span id="l1.23">   commandTable.registerCommand(</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineat">@@ -45,24 +42,17 @@ function SetupHTMLEditorCommands() {</span>
<a href="#l1.25"></a><span id="l1.25">     nsObjectPropertiesCommand</span>
<a href="#l1.26"></a><span id="l1.26">   );</span>
<a href="#l1.27"></a><span id="l1.27">   commandTable.registerCommand(</span>
<a href="#l1.28"></a><span id="l1.28">     &quot;cmd_removeNamedAnchors&quot;,</span>
<a href="#l1.29"></a><span id="l1.29">     nsRemoveNamedAnchorsCommand</span>
<a href="#l1.30"></a><span id="l1.30">   );</span>
<a href="#l1.31"></a><span id="l1.31">   commandTable.registerCommand(&quot;cmd_editLink&quot;, nsEditLinkCommand);</span>
<a href="#l1.32"></a><span id="l1.32"> </span>
<a href="#l1.33"></a><span id="l1.33" class="difflineminus">-  commandTable.registerCommand(&quot;cmd_form&quot;, nsFormCommand);</span>
<a href="#l1.34"></a><span id="l1.34" class="difflineminus">-  commandTable.registerCommand(&quot;cmd_inputtag&quot;, nsInputTagCommand);</span>
<a href="#l1.35"></a><span id="l1.35">   commandTable.registerCommand(&quot;cmd_inputimage&quot;, nsInputImageCommand);</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineminus">-  commandTable.registerCommand(&quot;cmd_textarea&quot;, nsTextAreaCommand);</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineminus">-  commandTable.registerCommand(&quot;cmd_select&quot;, nsSelectCommand);</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineminus">-  commandTable.registerCommand(&quot;cmd_button&quot;, nsButtonCommand);</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineminus">-  commandTable.registerCommand(&quot;cmd_label&quot;, nsLabelCommand);</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineminus">-  commandTable.registerCommand(&quot;cmd_fieldset&quot;, nsFieldSetCommand);</span>
<a href="#l1.41"></a><span id="l1.41">   commandTable.registerCommand(&quot;cmd_isindex&quot;, nsIsIndexCommand);</span>
<a href="#l1.42"></a><span id="l1.42">   commandTable.registerCommand(&quot;cmd_image&quot;, nsImageCommand);</span>
<a href="#l1.43"></a><span id="l1.43">   commandTable.registerCommand(&quot;cmd_hline&quot;, nsHLineCommand);</span>
<a href="#l1.44"></a><span id="l1.44">   commandTable.registerCommand(&quot;cmd_link&quot;, nsLinkCommand);</span>
<a href="#l1.45"></a><span id="l1.45">   commandTable.registerCommand(&quot;cmd_anchor&quot;, nsAnchorCommand);</span>
<a href="#l1.46"></a><span id="l1.46">   commandTable.registerCommand(</span>
<a href="#l1.47"></a><span id="l1.47">     &quot;cmd_insertHTMLWithDialog&quot;,</span>
<a href="#l1.48"></a><span id="l1.48">     nsInsertHTMLWithDialogCommand</span>
<a href="#l1.49"></a><span id="l1.49" class="difflineat">@@ -195,20 +185,16 @@ function SetupComposerWindowCommands() {</span>
<a href="#l1.50"></a><span id="l1.50">     return;</span>
<a href="#l1.51"></a><span id="l1.51">   }</span>
<a href="#l1.52"></a><span id="l1.52"> </span>
<a href="#l1.53"></a><span id="l1.53">   // File-related commands</span>
<a href="#l1.54"></a><span id="l1.54">   commandTable.registerCommand(&quot;cmd_open&quot;, nsOpenCommand);</span>
<a href="#l1.55"></a><span id="l1.55">   commandTable.registerCommand(&quot;cmd_save&quot;, nsSaveCommand);</span>
<a href="#l1.56"></a><span id="l1.56">   commandTable.registerCommand(&quot;cmd_saveAs&quot;, nsSaveAsCommand);</span>
<a href="#l1.57"></a><span id="l1.57">   commandTable.registerCommand(&quot;cmd_exportToText&quot;, nsExportToTextCommand);</span>
<a href="#l1.58"></a><span id="l1.58" class="difflineminus">-  commandTable.registerCommand(</span>
<a href="#l1.59"></a><span id="l1.59" class="difflineminus">-    &quot;cmd_saveAndChangeEncoding&quot;,</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineminus">-    nsSaveAndChangeEncodingCommand</span>
<a href="#l1.61"></a><span id="l1.61" class="difflineminus">-  );</span>
<a href="#l1.62"></a><span id="l1.62">   commandTable.registerCommand(&quot;cmd_publish&quot;, nsPublishCommand);</span>
<a href="#l1.63"></a><span id="l1.63">   commandTable.registerCommand(&quot;cmd_publishAs&quot;, nsPublishAsCommand);</span>
<a href="#l1.64"></a><span id="l1.64">   commandTable.registerCommand(&quot;cmd_publishSettings&quot;, nsPublishSettingsCommand);</span>
<a href="#l1.65"></a><span id="l1.65">   commandTable.registerCommand(&quot;cmd_revert&quot;, nsRevertCommand);</span>
<a href="#l1.66"></a><span id="l1.66">   commandTable.registerCommand(&quot;cmd_openRemote&quot;, nsOpenRemoteCommand);</span>
<a href="#l1.67"></a><span id="l1.67">   commandTable.registerCommand(&quot;cmd_preview&quot;, nsPreviewCommand);</span>
<a href="#l1.68"></a><span id="l1.68">   commandTable.registerCommand(&quot;cmd_editSendPage&quot;, nsSendPageCommand);</span>
<a href="#l1.69"></a><span id="l1.69">   commandTable.registerCommand(&quot;cmd_print&quot;, nsPrintCommand);</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineat">@@ -631,50 +617,16 @@ var nsExportToTextCommand = {</span>
<a href="#l1.71"></a><span id="l1.71">   doCommand(aCommand) {</span>
<a href="#l1.72"></a><span id="l1.72">     if (GetCurrentEditor()) {</span>
<a href="#l1.73"></a><span id="l1.73">       SetEditMode(gPreviousNonSourceDisplayMode);</span>
<a href="#l1.74"></a><span id="l1.74">       SaveDocument(true, true, &quot;text/plain&quot;);</span>
<a href="#l1.75"></a><span id="l1.75">     }</span>
<a href="#l1.76"></a><span id="l1.76">   },</span>
<a href="#l1.77"></a><span id="l1.77"> };</span>
<a href="#l1.78"></a><span id="l1.78"> </span>
<a href="#l1.79"></a><span id="l1.79" class="difflineminus">-var nsSaveAndChangeEncodingCommand = {</span>
<a href="#l1.80"></a><span id="l1.80" class="difflineminus">-  isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.81"></a><span id="l1.81" class="difflineminus">-    return IsDocumentEditable();</span>
<a href="#l1.82"></a><span id="l1.82" class="difflineminus">-  },</span>
<a href="#l1.83"></a><span id="l1.83" class="difflineminus">-</span>
<a href="#l1.84"></a><span id="l1.84" class="difflineminus">-  getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.85"></a><span id="l1.85" class="difflineminus">-  doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.86"></a><span id="l1.86" class="difflineminus">-</span>
<a href="#l1.87"></a><span id="l1.87" class="difflineminus">-  doCommand(aCommand) {</span>
<a href="#l1.88"></a><span id="l1.88" class="difflineminus">-    SetEditMode(gPreviousNonSourceDisplayMode);</span>
<a href="#l1.89"></a><span id="l1.89" class="difflineminus">-    window.ok = false;</span>
<a href="#l1.90"></a><span id="l1.90" class="difflineminus">-    window.exportToText = false;</span>
<a href="#l1.91"></a><span id="l1.91" class="difflineminus">-    var oldTitle = GetDocumentTitle();</span>
<a href="#l1.92"></a><span id="l1.92" class="difflineminus">-    window.openDialog(</span>
<a href="#l1.93"></a><span id="l1.93" class="difflineminus">-      &quot;chrome://messenger/content/messengercompose/EditorSaveAsCharset.xul&quot;,</span>
<a href="#l1.94"></a><span id="l1.94" class="difflineminus">-      &quot;_blank&quot;,</span>
<a href="#l1.95"></a><span id="l1.95" class="difflineminus">-      &quot;chrome,close,titlebar,modal,resizable=yes&quot;</span>
<a href="#l1.96"></a><span id="l1.96" class="difflineminus">-    );</span>
<a href="#l1.97"></a><span id="l1.97" class="difflineminus">-</span>
<a href="#l1.98"></a><span id="l1.98" class="difflineminus">-    if (GetDocumentTitle() != oldTitle) {</span>
<a href="#l1.99"></a><span id="l1.99" class="difflineminus">-      UpdateWindowTitle();</span>
<a href="#l1.100"></a><span id="l1.100" class="difflineminus">-    }</span>
<a href="#l1.101"></a><span id="l1.101" class="difflineminus">-</span>
<a href="#l1.102"></a><span id="l1.102" class="difflineminus">-    if (window.ok) {</span>
<a href="#l1.103"></a><span id="l1.103" class="difflineminus">-      if (window.exportToText) {</span>
<a href="#l1.104"></a><span id="l1.104" class="difflineminus">-        SaveDocument(true, true, &quot;text/plain&quot;);</span>
<a href="#l1.105"></a><span id="l1.105" class="difflineminus">-      } else {</span>
<a href="#l1.106"></a><span id="l1.106" class="difflineminus">-        var editor = GetCurrentEditor();</span>
<a href="#l1.107"></a><span id="l1.107" class="difflineminus">-        SaveDocument(true, false, editor ? editor.contentsMIMEType : null);</span>
<a href="#l1.108"></a><span id="l1.108" class="difflineminus">-      }</span>
<a href="#l1.109"></a><span id="l1.109" class="difflineminus">-    }</span>
<a href="#l1.110"></a><span id="l1.110" class="difflineminus">-  },</span>
<a href="#l1.111"></a><span id="l1.111" class="difflineminus">-};</span>
<a href="#l1.112"></a><span id="l1.112" class="difflineminus">-</span>
<a href="#l1.113"></a><span id="l1.113"> var nsPublishCommand = {</span>
<a href="#l1.114"></a><span id="l1.114">   isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.115"></a><span id="l1.115">     if (IsDocumentEditable()) {</span>
<a href="#l1.116"></a><span id="l1.116">       // Always allow publishing when editing a local document,</span>
<a href="#l1.117"></a><span id="l1.117">       //  otherwise the document modified state would prevent that</span>
<a href="#l1.118"></a><span id="l1.118">       //  when you first open any local file.</span>
<a href="#l1.119"></a><span id="l1.119">       try {</span>
<a href="#l1.120"></a><span id="l1.120">         var docUrl = GetDocumentUrl();</span>
<a href="#l1.121"></a><span id="l1.121" class="difflineat">@@ -2680,50 +2632,16 @@ var nsValidateCommand = {</span>
<a href="#l1.122"></a><span id="l1.122">       // This does the validation, no need to wait for page loaded.</span>
<a href="#l1.123"></a><span id="l1.123">     }</span>
<a href="#l1.124"></a><span id="l1.124">   },</span>
<a href="#l1.125"></a><span id="l1.125">   validateFilePageLoaded(event) {</span>
<a href="#l1.126"></a><span id="l1.126">     event.target.forms[0].uploaded_file.value = URL2Validate;</span>
<a href="#l1.127"></a><span id="l1.127">   },</span>
<a href="#l1.128"></a><span id="l1.128"> };</span>
<a href="#l1.129"></a><span id="l1.129"> </span>
<a href="#l1.130"></a><span id="l1.130" class="difflineminus">-var nsFormCommand = {</span>
<a href="#l1.131"></a><span id="l1.131" class="difflineminus">-  isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.132"></a><span id="l1.132" class="difflineminus">-    return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.133"></a><span id="l1.133" class="difflineminus">-  },</span>
<a href="#l1.134"></a><span id="l1.134" class="difflineminus">-</span>
<a href="#l1.135"></a><span id="l1.135" class="difflineminus">-  getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.136"></a><span id="l1.136" class="difflineminus">-  doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.137"></a><span id="l1.137" class="difflineminus">-</span>
<a href="#l1.138"></a><span id="l1.138" class="difflineminus">-  doCommand(aCommand) {</span>
<a href="#l1.139"></a><span id="l1.139" class="difflineminus">-    window.openDialog(</span>
<a href="#l1.140"></a><span id="l1.140" class="difflineminus">-      &quot;chrome://messenger/content/messengercompose/EdFormProps.xul&quot;,</span>
<a href="#l1.141"></a><span id="l1.141" class="difflineminus">-      &quot;_blank&quot;,</span>
<a href="#l1.142"></a><span id="l1.142" class="difflineminus">-      &quot;chrome,close,titlebar,modal&quot;</span>
<a href="#l1.143"></a><span id="l1.143" class="difflineminus">-    );</span>
<a href="#l1.144"></a><span id="l1.144" class="difflineminus">-  },</span>
<a href="#l1.145"></a><span id="l1.145" class="difflineminus">-};</span>
<a href="#l1.146"></a><span id="l1.146" class="difflineminus">-</span>
<a href="#l1.147"></a><span id="l1.147" class="difflineminus">-var nsInputTagCommand = {</span>
<a href="#l1.148"></a><span id="l1.148" class="difflineminus">-  isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.149"></a><span id="l1.149" class="difflineminus">-    return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.150"></a><span id="l1.150" class="difflineminus">-  },</span>
<a href="#l1.151"></a><span id="l1.151" class="difflineminus">-</span>
<a href="#l1.152"></a><span id="l1.152" class="difflineminus">-  getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.153"></a><span id="l1.153" class="difflineminus">-  doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.154"></a><span id="l1.154" class="difflineminus">-</span>
<a href="#l1.155"></a><span id="l1.155" class="difflineminus">-  doCommand(aCommand) {</span>
<a href="#l1.156"></a><span id="l1.156" class="difflineminus">-    window.openDialog(</span>
<a href="#l1.157"></a><span id="l1.157" class="difflineminus">-      &quot;chrome://messenger/content/messengercompose/EdInputProps.xul&quot;,</span>
<a href="#l1.158"></a><span id="l1.158" class="difflineminus">-      &quot;_blank&quot;,</span>
<a href="#l1.159"></a><span id="l1.159" class="difflineminus">-      &quot;chrome,close,titlebar,modal&quot;</span>
<a href="#l1.160"></a><span id="l1.160" class="difflineminus">-    );</span>
<a href="#l1.161"></a><span id="l1.161" class="difflineminus">-  },</span>
<a href="#l1.162"></a><span id="l1.162" class="difflineminus">-};</span>
<a href="#l1.163"></a><span id="l1.163" class="difflineminus">-</span>
<a href="#l1.164"></a><span id="l1.164"> var nsInputImageCommand = {</span>
<a href="#l1.165"></a><span id="l1.165">   isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.166"></a><span id="l1.166">     return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.167"></a><span id="l1.167">   },</span>
<a href="#l1.168"></a><span id="l1.168"> </span>
<a href="#l1.169"></a><span id="l1.169">   getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.170"></a><span id="l1.170">   doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.171"></a><span id="l1.171"> </span>
<a href="#l1.172"></a><span id="l1.172" class="difflineat">@@ -2731,125 +2649,16 @@ var nsInputImageCommand = {</span>
<a href="#l1.173"></a><span id="l1.173">     window.openDialog(</span>
<a href="#l1.174"></a><span id="l1.174">       &quot;chrome://messenger/content/messengercompose/EdInputImage.xul&quot;,</span>
<a href="#l1.175"></a><span id="l1.175">       &quot;_blank&quot;,</span>
<a href="#l1.176"></a><span id="l1.176">       &quot;chrome,close,titlebar,modal&quot;</span>
<a href="#l1.177"></a><span id="l1.177">     );</span>
<a href="#l1.178"></a><span id="l1.178">   },</span>
<a href="#l1.179"></a><span id="l1.179"> };</span>
<a href="#l1.180"></a><span id="l1.180"> </span>
<a href="#l1.181"></a><span id="l1.181" class="difflineminus">-var nsTextAreaCommand = {</span>
<a href="#l1.182"></a><span id="l1.182" class="difflineminus">-  isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.183"></a><span id="l1.183" class="difflineminus">-    return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.184"></a><span id="l1.184" class="difflineminus">-  },</span>
<a href="#l1.185"></a><span id="l1.185" class="difflineminus">-</span>
<a href="#l1.186"></a><span id="l1.186" class="difflineminus">-  getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.187"></a><span id="l1.187" class="difflineminus">-  doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.188"></a><span id="l1.188" class="difflineminus">-</span>
<a href="#l1.189"></a><span id="l1.189" class="difflineminus">-  doCommand(aCommand) {</span>
<a href="#l1.190"></a><span id="l1.190" class="difflineminus">-    window.openDialog(</span>
<a href="#l1.191"></a><span id="l1.191" class="difflineminus">-      &quot;chrome://messenger/content/messengercompose/EdTextAreaProps.xul&quot;,</span>
<a href="#l1.192"></a><span id="l1.192" class="difflineminus">-      &quot;_blank&quot;,</span>
<a href="#l1.193"></a><span id="l1.193" class="difflineminus">-      &quot;chrome,close,titlebar,modal&quot;</span>
<a href="#l1.194"></a><span id="l1.194" class="difflineminus">-    );</span>
<a href="#l1.195"></a><span id="l1.195" class="difflineminus">-  },</span>
<a href="#l1.196"></a><span id="l1.196" class="difflineminus">-};</span>
<a href="#l1.197"></a><span id="l1.197" class="difflineminus">-</span>
<a href="#l1.198"></a><span id="l1.198" class="difflineminus">-var nsSelectCommand = {</span>
<a href="#l1.199"></a><span id="l1.199" class="difflineminus">-  isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.200"></a><span id="l1.200" class="difflineminus">-    return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.201"></a><span id="l1.201" class="difflineminus">-  },</span>
<a href="#l1.202"></a><span id="l1.202" class="difflineminus">-</span>
<a href="#l1.203"></a><span id="l1.203" class="difflineminus">-  getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.204"></a><span id="l1.204" class="difflineminus">-  doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.205"></a><span id="l1.205" class="difflineminus">-</span>
<a href="#l1.206"></a><span id="l1.206" class="difflineminus">-  doCommand(aCommand) {</span>
<a href="#l1.207"></a><span id="l1.207" class="difflineminus">-    window.openDialog(</span>
<a href="#l1.208"></a><span id="l1.208" class="difflineminus">-      &quot;chrome://messenger/content/messengercompose/EdSelectProps.xul&quot;,</span>
<a href="#l1.209"></a><span id="l1.209" class="difflineminus">-      &quot;_blank&quot;,</span>
<a href="#l1.210"></a><span id="l1.210" class="difflineminus">-      &quot;chrome,close,titlebar,modal&quot;</span>
<a href="#l1.211"></a><span id="l1.211" class="difflineminus">-    );</span>
<a href="#l1.212"></a><span id="l1.212" class="difflineminus">-  },</span>
<a href="#l1.213"></a><span id="l1.213" class="difflineminus">-};</span>
<a href="#l1.214"></a><span id="l1.214" class="difflineminus">-</span>
<a href="#l1.215"></a><span id="l1.215" class="difflineminus">-var nsButtonCommand = {</span>
<a href="#l1.216"></a><span id="l1.216" class="difflineminus">-  isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.217"></a><span id="l1.217" class="difflineminus">-    return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.218"></a><span id="l1.218" class="difflineminus">-  },</span>
<a href="#l1.219"></a><span id="l1.219" class="difflineminus">-</span>
<a href="#l1.220"></a><span id="l1.220" class="difflineminus">-  getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.221"></a><span id="l1.221" class="difflineminus">-  doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.222"></a><span id="l1.222" class="difflineminus">-</span>
<a href="#l1.223"></a><span id="l1.223" class="difflineminus">-  doCommand(aCommand) {</span>
<a href="#l1.224"></a><span id="l1.224" class="difflineminus">-    window.openDialog(</span>
<a href="#l1.225"></a><span id="l1.225" class="difflineminus">-      &quot;chrome://messenger/content/messengercompose/EdButtonProps.xul&quot;,</span>
<a href="#l1.226"></a><span id="l1.226" class="difflineminus">-      &quot;_blank&quot;,</span>
<a href="#l1.227"></a><span id="l1.227" class="difflineminus">-      &quot;chrome,close,titlebar,modal&quot;</span>
<a href="#l1.228"></a><span id="l1.228" class="difflineminus">-    );</span>
<a href="#l1.229"></a><span id="l1.229" class="difflineminus">-  },</span>
<a href="#l1.230"></a><span id="l1.230" class="difflineminus">-};</span>
<a href="#l1.231"></a><span id="l1.231" class="difflineminus">-</span>
<a href="#l1.232"></a><span id="l1.232" class="difflineminus">-var nsLabelCommand = {</span>
<a href="#l1.233"></a><span id="l1.233" class="difflineminus">-  isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.234"></a><span id="l1.234" class="difflineminus">-    return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.235"></a><span id="l1.235" class="difflineminus">-  },</span>
<a href="#l1.236"></a><span id="l1.236" class="difflineminus">-</span>
<a href="#l1.237"></a><span id="l1.237" class="difflineminus">-  getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.238"></a><span id="l1.238" class="difflineminus">-  doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.239"></a><span id="l1.239" class="difflineminus">-</span>
<a href="#l1.240"></a><span id="l1.240" class="difflineminus">-  doCommand(aCommand) {</span>
<a href="#l1.241"></a><span id="l1.241" class="difflineminus">-    var tagName = &quot;label&quot;;</span>
<a href="#l1.242"></a><span id="l1.242" class="difflineminus">-    try {</span>
<a href="#l1.243"></a><span id="l1.243" class="difflineminus">-      var editor = GetCurrentEditor();</span>
<a href="#l1.244"></a><span id="l1.244" class="difflineminus">-      // Find selected label or if start/end of selection is in label</span>
<a href="#l1.245"></a><span id="l1.245" class="difflineminus">-      var labelElement = editor.getSelectedElement(tagName);</span>
<a href="#l1.246"></a><span id="l1.246" class="difflineminus">-      if (!labelElement) {</span>
<a href="#l1.247"></a><span id="l1.247" class="difflineminus">-        labelElement = editor.getElementOrParentByTagName(</span>
<a href="#l1.248"></a><span id="l1.248" class="difflineminus">-          tagName,</span>
<a href="#l1.249"></a><span id="l1.249" class="difflineminus">-          editor.selection.anchorNode</span>
<a href="#l1.250"></a><span id="l1.250" class="difflineminus">-        );</span>
<a href="#l1.251"></a><span id="l1.251" class="difflineminus">-      }</span>
<a href="#l1.252"></a><span id="l1.252" class="difflineminus">-      if (!labelElement) {</span>
<a href="#l1.253"></a><span id="l1.253" class="difflineminus">-        labelElement = editor.getElementOrParentByTagName(</span>
<a href="#l1.254"></a><span id="l1.254" class="difflineminus">-          tagName,</span>
<a href="#l1.255"></a><span id="l1.255" class="difflineminus">-          editor.selection.focusNode</span>
<a href="#l1.256"></a><span id="l1.256" class="difflineminus">-        );</span>
<a href="#l1.257"></a><span id="l1.257" class="difflineminus">-      }</span>
<a href="#l1.258"></a><span id="l1.258" class="difflineminus">-      if (labelElement) {</span>
<a href="#l1.259"></a><span id="l1.259" class="difflineminus">-        // We only open the dialog for an existing label</span>
<a href="#l1.260"></a><span id="l1.260" class="difflineminus">-        window.openDialog(</span>
<a href="#l1.261"></a><span id="l1.261" class="difflineminus">-          &quot;chrome://messenger/content/messengercompose/EdLabelProps.xul&quot;,</span>
<a href="#l1.262"></a><span id="l1.262" class="difflineminus">-          &quot;_blank&quot;,</span>
<a href="#l1.263"></a><span id="l1.263" class="difflineminus">-          &quot;chrome,close,titlebar,modal&quot;,</span>
<a href="#l1.264"></a><span id="l1.264" class="difflineminus">-          labelElement</span>
<a href="#l1.265"></a><span id="l1.265" class="difflineminus">-        );</span>
<a href="#l1.266"></a><span id="l1.266" class="difflineminus">-      } else {</span>
<a href="#l1.267"></a><span id="l1.267" class="difflineminus">-        EditorSetTextProperty(tagName, &quot;&quot;, &quot;&quot;);</span>
<a href="#l1.268"></a><span id="l1.268" class="difflineminus">-      }</span>
<a href="#l1.269"></a><span id="l1.269" class="difflineminus">-    } catch (e) {}</span>
<a href="#l1.270"></a><span id="l1.270" class="difflineminus">-  },</span>
<a href="#l1.271"></a><span id="l1.271" class="difflineminus">-};</span>
<a href="#l1.272"></a><span id="l1.272" class="difflineminus">-</span>
<a href="#l1.273"></a><span id="l1.273" class="difflineminus">-var nsFieldSetCommand = {</span>
<a href="#l1.274"></a><span id="l1.274" class="difflineminus">-  isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.275"></a><span id="l1.275" class="difflineminus">-    return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.276"></a><span id="l1.276" class="difflineminus">-  },</span>
<a href="#l1.277"></a><span id="l1.277" class="difflineminus">-</span>
<a href="#l1.278"></a><span id="l1.278" class="difflineminus">-  getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.279"></a><span id="l1.279" class="difflineminus">-  doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.280"></a><span id="l1.280" class="difflineminus">-</span>
<a href="#l1.281"></a><span id="l1.281" class="difflineminus">-  doCommand(aCommand) {</span>
<a href="#l1.282"></a><span id="l1.282" class="difflineminus">-    window.openDialog(</span>
<a href="#l1.283"></a><span id="l1.283" class="difflineminus">-      &quot;chrome://messenger/content/messengercompose/EdFieldSetProps.xul&quot;,</span>
<a href="#l1.284"></a><span id="l1.284" class="difflineminus">-      &quot;_blank&quot;,</span>
<a href="#l1.285"></a><span id="l1.285" class="difflineminus">-      &quot;chrome,close,titlebar,modal&quot;</span>
<a href="#l1.286"></a><span id="l1.286" class="difflineminus">-    );</span>
<a href="#l1.287"></a><span id="l1.287" class="difflineminus">-  },</span>
<a href="#l1.288"></a><span id="l1.288" class="difflineminus">-};</span>
<a href="#l1.289"></a><span id="l1.289" class="difflineminus">-</span>
<a href="#l1.290"></a><span id="l1.290"> var nsIsIndexCommand = {</span>
<a href="#l1.291"></a><span id="l1.291">   isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.292"></a><span id="l1.292">     return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.293"></a><span id="l1.293">   },</span>
<a href="#l1.294"></a><span id="l1.294"> </span>
<a href="#l1.295"></a><span id="l1.295">   getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.296"></a><span id="l1.296">   doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.297"></a><span id="l1.297"> </span>
<a href="#l1.298"></a><span id="l1.298" class="difflineat">@@ -3071,33 +2880,16 @@ var nsInsertBreakAllCommand = {</span>
<a href="#l1.299"></a><span id="l1.299"> </span>
<a href="#l1.300"></a><span id="l1.300">   doCommand(aCommand) {</span>
<a href="#l1.301"></a><span id="l1.301">     try {</span>
<a href="#l1.302"></a><span id="l1.302">       GetCurrentEditor().insertHTML(&quot;&lt;br clear='all'&gt;&quot;);</span>
<a href="#l1.303"></a><span id="l1.303">     } catch (e) {}</span>
<a href="#l1.304"></a><span id="l1.304">   },</span>
<a href="#l1.305"></a><span id="l1.305"> };</span>
<a href="#l1.306"></a><span id="l1.306"> </span>
<a href="#l1.307"></a><span id="l1.307" class="difflineminus">-var nsGridCommand = {</span>
<a href="#l1.308"></a><span id="l1.308" class="difflineminus">-  isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.309"></a><span id="l1.309" class="difflineminus">-    return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.310"></a><span id="l1.310" class="difflineminus">-  },</span>
<a href="#l1.311"></a><span id="l1.311" class="difflineminus">-</span>
<a href="#l1.312"></a><span id="l1.312" class="difflineminus">-  getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.313"></a><span id="l1.313" class="difflineminus">-  doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.314"></a><span id="l1.314" class="difflineminus">-</span>
<a href="#l1.315"></a><span id="l1.315" class="difflineminus">-  doCommand(aCommand) {</span>
<a href="#l1.316"></a><span id="l1.316" class="difflineminus">-    window.openDialog(</span>
<a href="#l1.317"></a><span id="l1.317" class="difflineminus">-      &quot;chrome://messenger/content/messengercompose/EdSnapToGrid.xul&quot;,</span>
<a href="#l1.318"></a><span id="l1.318" class="difflineminus">-      &quot;_blank&quot;,</span>
<a href="#l1.319"></a><span id="l1.319" class="difflineminus">-      &quot;chrome,close,titlebar,modal&quot;</span>
<a href="#l1.320"></a><span id="l1.320" class="difflineminus">-    );</span>
<a href="#l1.321"></a><span id="l1.321" class="difflineminus">-  },</span>
<a href="#l1.322"></a><span id="l1.322" class="difflineminus">-};</span>
<a href="#l1.323"></a><span id="l1.323" class="difflineminus">-</span>
<a href="#l1.324"></a><span id="l1.324"> var nsListPropertiesCommand = {</span>
<a href="#l1.325"></a><span id="l1.325">   isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.326"></a><span id="l1.326">     return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.327"></a><span id="l1.327">   },</span>
<a href="#l1.328"></a><span id="l1.328"> </span>
<a href="#l1.329"></a><span id="l1.329">   getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.330"></a><span id="l1.330">   doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.331"></a><span id="l1.331"> </span>
<a href="#l1.332"></a><span id="l1.332" class="difflineat">@@ -3105,41 +2897,16 @@ var nsListPropertiesCommand = {</span>
<a href="#l1.333"></a><span id="l1.333">     window.openDialog(</span>
<a href="#l1.334"></a><span id="l1.334">       &quot;chrome://messenger/content/messengercompose/EdListProps.xul&quot;,</span>
<a href="#l1.335"></a><span id="l1.335">       &quot;_blank&quot;,</span>
<a href="#l1.336"></a><span id="l1.336">       &quot;chrome,close,titlebar,modal&quot;</span>
<a href="#l1.337"></a><span id="l1.337">     );</span>
<a href="#l1.338"></a><span id="l1.338">   },</span>
<a href="#l1.339"></a><span id="l1.339"> };</span>
<a href="#l1.340"></a><span id="l1.340"> </span>
<a href="#l1.341"></a><span id="l1.341" class="difflineminus">-var nsPagePropertiesCommand = {</span>
<a href="#l1.342"></a><span id="l1.342" class="difflineminus">-  isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.343"></a><span id="l1.343" class="difflineminus">-    return IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML();</span>
<a href="#l1.344"></a><span id="l1.344" class="difflineminus">-  },</span>
<a href="#l1.345"></a><span id="l1.345" class="difflineminus">-</span>
<a href="#l1.346"></a><span id="l1.346" class="difflineminus">-  getCommandStateParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.347"></a><span id="l1.347" class="difflineminus">-  doCommandParams(aCommand, aParams, aRefCon) {},</span>
<a href="#l1.348"></a><span id="l1.348" class="difflineminus">-</span>
<a href="#l1.349"></a><span id="l1.349" class="difflineminus">-  doCommand(aCommand) {</span>
<a href="#l1.350"></a><span id="l1.350" class="difflineminus">-    var oldTitle = GetDocumentTitle();</span>
<a href="#l1.351"></a><span id="l1.351" class="difflineminus">-    window.openDialog(</span>
<a href="#l1.352"></a><span id="l1.352" class="difflineminus">-      &quot;chrome://messenger/content/messengercompose/EdPageProps.xul&quot;,</span>
<a href="#l1.353"></a><span id="l1.353" class="difflineminus">-      &quot;_blank&quot;,</span>
<a href="#l1.354"></a><span id="l1.354" class="difflineminus">-      &quot;chrome,close,titlebar,modal&quot;,</span>
<a href="#l1.355"></a><span id="l1.355" class="difflineminus">-      &quot;&quot;</span>
<a href="#l1.356"></a><span id="l1.356" class="difflineminus">-    );</span>
<a href="#l1.357"></a><span id="l1.357" class="difflineminus">-</span>
<a href="#l1.358"></a><span id="l1.358" class="difflineminus">-    // Update main window title and</span>
<a href="#l1.359"></a><span id="l1.359" class="difflineminus">-    // recent menu data in prefs if doc title changed</span>
<a href="#l1.360"></a><span id="l1.360" class="difflineminus">-    if (GetDocumentTitle() != oldTitle) {</span>
<a href="#l1.361"></a><span id="l1.361" class="difflineminus">-      UpdateWindowTitle();</span>
<a href="#l1.362"></a><span id="l1.362" class="difflineminus">-    }</span>
<a href="#l1.363"></a><span id="l1.363" class="difflineminus">-  },</span>
<a href="#l1.364"></a><span id="l1.364" class="difflineminus">-};</span>
<a href="#l1.365"></a><span id="l1.365" class="difflineminus">-</span>
<a href="#l1.366"></a><span id="l1.366"> var nsObjectPropertiesCommand = {</span>
<a href="#l1.367"></a><span id="l1.367">   isCommandEnabled(aCommand, dummy) {</span>
<a href="#l1.368"></a><span id="l1.368">     var isEnabled = false;</span>
<a href="#l1.369"></a><span id="l1.369">     if (IsDocumentEditable() &amp;&amp; IsEditingRenderedHTML()) {</span>
<a href="#l1.370"></a><span id="l1.370">       isEnabled =</span>
<a href="#l1.371"></a><span id="l1.371">         GetObjectForProperties() != null ||</span>
<a href="#l1.372"></a><span id="l1.372">         GetCurrentEditor().getSelectedElement(&quot;href&quot;) != null;</span>
<a href="#l1.373"></a><span id="l1.373">     }</span>
<a href="#l1.374"></a><span id="l1.374" class="difflineat">@@ -3156,42 +2923,22 @@ var nsObjectPropertiesCommand = {</span>
<a href="#l1.375"></a><span id="l1.375">       var name = element.nodeName.toLowerCase();</span>
<a href="#l1.376"></a><span id="l1.376">       switch (name) {</span>
<a href="#l1.377"></a><span id="l1.377">         case &quot;img&quot;:</span>
<a href="#l1.378"></a><span id="l1.378">           goDoCommand(&quot;cmd_image&quot;);</span>
<a href="#l1.379"></a><span id="l1.379">           break;</span>
<a href="#l1.380"></a><span id="l1.380">         case &quot;hr&quot;:</span>
<a href="#l1.381"></a><span id="l1.381">           goDoCommand(&quot;cmd_hline&quot;);</span>
<a href="#l1.382"></a><span id="l1.382">           break;</span>
<a href="#l1.383"></a><span id="l1.383" class="difflineminus">-        case &quot;form&quot;:</span>
<a href="#l1.384"></a><span id="l1.384" class="difflineminus">-          goDoCommand(&quot;cmd_form&quot;);</span>
<a href="#l1.385"></a><span id="l1.385" class="difflineminus">-          break;</span>
<a href="#l1.386"></a><span id="l1.386">         case &quot;input&quot;:</span>
<a href="#l1.387"></a><span id="l1.387">           var type = element.getAttribute(&quot;type&quot;);</span>
<a href="#l1.388"></a><span id="l1.388">           if (type &amp;&amp; type.toLowerCase() == &quot;image&quot;) {</span>
<a href="#l1.389"></a><span id="l1.389">             goDoCommand(&quot;cmd_inputimage&quot;);</span>
<a href="#l1.390"></a><span id="l1.390" class="difflineminus">-          } else {</span>
<a href="#l1.391"></a><span id="l1.391" class="difflineminus">-            goDoCommand(&quot;cmd_inputtag&quot;);</span>
<a href="#l1.392"></a><span id="l1.392">           }</span>
<a href="#l1.393"></a><span id="l1.393">           break;</span>
<a href="#l1.394"></a><span id="l1.394" class="difflineminus">-        case &quot;textarea&quot;:</span>
<a href="#l1.395"></a><span id="l1.395" class="difflineminus">-          goDoCommand(&quot;cmd_textarea&quot;);</span>
<a href="#l1.396"></a><span id="l1.396" class="difflineminus">-          break;</span>
<a href="#l1.397"></a><span id="l1.397" class="difflineminus">-        case &quot;select&quot;:</span>
<a href="#l1.398"></a><span id="l1.398" class="difflineminus">-          goDoCommand(&quot;cmd_select&quot;);</span>
<a href="#l1.399"></a><span id="l1.399" class="difflineminus">-          break;</span>
<a href="#l1.400"></a><span id="l1.400" class="difflineminus">-        case &quot;button&quot;:</span>
<a href="#l1.401"></a><span id="l1.401" class="difflineminus">-          goDoCommand(&quot;cmd_button&quot;);</span>
<a href="#l1.402"></a><span id="l1.402" class="difflineminus">-          break;</span>
<a href="#l1.403"></a><span id="l1.403" class="difflineminus">-        case &quot;label&quot;:</span>
<a href="#l1.404"></a><span id="l1.404" class="difflineminus">-          goDoCommand(&quot;cmd_label&quot;);</span>
<a href="#l1.405"></a><span id="l1.405" class="difflineminus">-          break;</span>
<a href="#l1.406"></a><span id="l1.406" class="difflineminus">-        case &quot;fieldset&quot;:</span>
<a href="#l1.407"></a><span id="l1.407" class="difflineminus">-          goDoCommand(&quot;cmd_fieldset&quot;);</span>
<a href="#l1.408"></a><span id="l1.408" class="difflineminus">-          break;</span>
<a href="#l1.409"></a><span id="l1.409">         case &quot;table&quot;:</span>
<a href="#l1.410"></a><span id="l1.410">           EditorInsertOrEditTable(false);</span>
<a href="#l1.411"></a><span id="l1.411">           break;</span>
<a href="#l1.412"></a><span id="l1.412">         case &quot;td&quot;:</span>
<a href="#l1.413"></a><span id="l1.413">         case &quot;th&quot;:</span>
<a href="#l1.414"></a><span id="l1.414">           EditorTableCellProperties();</span>
<a href="#l1.415"></a><span id="l1.415">           break;</span>
<a href="#l1.416"></a><span id="l1.416">         case &quot;ol&quot;:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1">deleted file mode 100644</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdButtonProps.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineplus">+++ /dev/null</span>
<a href="#l2.4"></a><span id="l2.4" class="difflineat">@@ -1,146 +0,0 @@</span>
<a href="#l2.5"></a><span id="l2.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.6"></a><span id="l2.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.7"></a><span id="l2.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l2.8"></a><span id="l2.8" class="difflineminus">-</span>
<a href="#l2.9"></a><span id="l2.9" class="difflineminus">-/* import-globals-from ../editorUtilities.js */</span>
<a href="#l2.10"></a><span id="l2.10" class="difflineminus">-/* import-globals-from EdDialogCommon.js */</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineminus">-</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-var insertNew;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-var buttonElement;</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-// dialog initialization code</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineminus">-</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-document.addEventListener(&quot;dialogaccept&quot;, onAccept);</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-document.addEventListener(&quot;dialogcancel&quot;, onCancel);</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-function Startup() {</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineminus">-  if (!editor) {</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineminus">-    window.close();</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-    return;</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineminus">-  }</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineminus">-</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineminus">-  gDialog = {</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineminus">-    buttonType: document.getElementById(&quot;ButtonType&quot;),</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineminus">-    buttonName: document.getElementById(&quot;ButtonName&quot;),</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineminus">-    buttonValue: document.getElementById(&quot;ButtonValue&quot;),</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-    buttonDisabled: document.getElementById(&quot;ButtonDisabled&quot;),</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-    buttonTabIndex: document.getElementById(&quot;ButtonTabIndex&quot;),</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-    buttonAccessKey: document.getElementById(&quot;ButtonAccessKey&quot;),</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-    MoreSection: document.getElementById(&quot;MoreSection&quot;),</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-    MoreFewerButton: document.getElementById(&quot;MoreFewerButton&quot;),</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-    RemoveButton: document.getElementById(&quot;RemoveButton&quot;),</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-  };</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineminus">-</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineminus">-  // Get a single selected button element</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineminus">-  const kTagName = &quot;button&quot;;</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineminus">-  try {</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineminus">-    buttonElement = editor.getSelectedElement(kTagName);</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineminus">-  } catch (e) {}</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineminus">-</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineminus">-  if (buttonElement) {</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineminus">-    // We found an element and don't need to insert one</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineminus">-    insertNew = false;</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineminus">-  } else {</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineminus">-    insertNew = true;</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineminus">-    // We don't have an element selected,</span>
<a href="#l2.52"></a><span id="l2.52" class="difflineminus">-    //  so create one with default attributes</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineminus">-    try {</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineminus">-      buttonElement = editor.createElementWithDefaults(kTagName);</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineminus">-    } catch (e) {}</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineminus">-</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineminus">-    if (!buttonElement) {</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineminus">-      dump(&quot;Failed to get selected element or create a new one!\n&quot;);</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineminus">-      window.close();</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineminus">-      return;</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-    }</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineminus">-    // Hide button removing existing button</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineminus">-    gDialog.RemoveButton.hidden = true;</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineminus">-  }</span>
<a href="#l2.65"></a><span id="l2.65" class="difflineminus">-</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineminus">-  // Make a copy to use for AdvancedEdit</span>
<a href="#l2.67"></a><span id="l2.67" class="difflineminus">-  globalElement = buttonElement.cloneNode(false);</span>
<a href="#l2.68"></a><span id="l2.68" class="difflineminus">-</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineminus">-  InitDialog();</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineminus">-</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineminus">-  InitMoreFewer();</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineminus">-</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineminus">-  gDialog.buttonType.focus();</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineminus">-</span>
<a href="#l2.75"></a><span id="l2.75" class="difflineminus">-  SetWindowLocation();</span>
<a href="#l2.76"></a><span id="l2.76" class="difflineminus">-}</span>
<a href="#l2.77"></a><span id="l2.77" class="difflineminus">-</span>
<a href="#l2.78"></a><span id="l2.78" class="difflineminus">-function InitDialog() {</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineminus">-  var type = globalElement.getAttribute(&quot;type&quot;);</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineminus">-  var index = 0;</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineminus">-  switch (type) {</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineminus">-    case &quot;button&quot;:</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineminus">-      index = 2;</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineminus">-      break;</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineminus">-    case &quot;reset&quot;:</span>
<a href="#l2.86"></a><span id="l2.86" class="difflineminus">-      index = 1;</span>
<a href="#l2.87"></a><span id="l2.87" class="difflineminus">-      break;</span>
<a href="#l2.88"></a><span id="l2.88" class="difflineminus">-  }</span>
<a href="#l2.89"></a><span id="l2.89" class="difflineminus">-  gDialog.buttonType.selectedIndex = index;</span>
<a href="#l2.90"></a><span id="l2.90" class="difflineminus">-  gDialog.buttonName.value = globalElement.getAttribute(&quot;name&quot;);</span>
<a href="#l2.91"></a><span id="l2.91" class="difflineminus">-  gDialog.buttonValue.value = globalElement.getAttribute(&quot;value&quot;);</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineminus">-  gDialog.buttonDisabled.setAttribute(</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineminus">-    &quot;checked&quot;,</span>
<a href="#l2.94"></a><span id="l2.94" class="difflineminus">-    globalElement.hasAttribute(&quot;disabled&quot;)</span>
<a href="#l2.95"></a><span id="l2.95" class="difflineminus">-  );</span>
<a href="#l2.96"></a><span id="l2.96" class="difflineminus">-  gDialog.buttonTabIndex.value = globalElement.getAttribute(&quot;tabindex&quot;);</span>
<a href="#l2.97"></a><span id="l2.97" class="difflineminus">-  gDialog.buttonAccessKey.value = globalElement.getAttribute(&quot;accesskey&quot;);</span>
<a href="#l2.98"></a><span id="l2.98" class="difflineminus">-}</span>
<a href="#l2.99"></a><span id="l2.99" class="difflineminus">-</span>
<a href="#l2.100"></a><span id="l2.100" class="difflineminus">-function RemoveButton() {</span>
<a href="#l2.101"></a><span id="l2.101" class="difflineminus">-  RemoveContainer(buttonElement);</span>
<a href="#l2.102"></a><span id="l2.102" class="difflineminus">-  SaveWindowLocation();</span>
<a href="#l2.103"></a><span id="l2.103" class="difflineminus">-  window.close();</span>
<a href="#l2.104"></a><span id="l2.104" class="difflineminus">-}</span>
<a href="#l2.105"></a><span id="l2.105" class="difflineminus">-</span>
<a href="#l2.106"></a><span id="l2.106" class="difflineminus">-function ValidateData() {</span>
<a href="#l2.107"></a><span id="l2.107" class="difflineminus">-  var attributes = {</span>
<a href="#l2.108"></a><span id="l2.108" class="difflineminus">-    type: [&quot;&quot;, &quot;reset&quot;, &quot;button&quot;][gDialog.buttonType.selectedIndex],</span>
<a href="#l2.109"></a><span id="l2.109" class="difflineminus">-    name: gDialog.buttonName.value,</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineminus">-    value: gDialog.buttonValue.value,</span>
<a href="#l2.111"></a><span id="l2.111" class="difflineminus">-    tabindex: gDialog.buttonTabIndex.value,</span>
<a href="#l2.112"></a><span id="l2.112" class="difflineminus">-    accesskey: gDialog.buttonAccessKey.value,</span>
<a href="#l2.113"></a><span id="l2.113" class="difflineminus">-  };</span>
<a href="#l2.114"></a><span id="l2.114" class="difflineminus">-  for (var a in attributes) {</span>
<a href="#l2.115"></a><span id="l2.115" class="difflineminus">-    if (attributes[a]) {</span>
<a href="#l2.116"></a><span id="l2.116" class="difflineminus">-      globalElement.setAttribute(a, attributes[a]);</span>
<a href="#l2.117"></a><span id="l2.117" class="difflineminus">-    } else {</span>
<a href="#l2.118"></a><span id="l2.118" class="difflineminus">-      globalElement.removeAttribute(a);</span>
<a href="#l2.119"></a><span id="l2.119" class="difflineminus">-    }</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineminus">-  }</span>
<a href="#l2.121"></a><span id="l2.121" class="difflineminus">-  if (gDialog.buttonDisabled.checked) {</span>
<a href="#l2.122"></a><span id="l2.122" class="difflineminus">-    globalElement.setAttribute(&quot;disabled&quot;, &quot;&quot;);</span>
<a href="#l2.123"></a><span id="l2.123" class="difflineminus">-  } else {</span>
<a href="#l2.124"></a><span id="l2.124" class="difflineminus">-    globalElement.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l2.125"></a><span id="l2.125" class="difflineminus">-  }</span>
<a href="#l2.126"></a><span id="l2.126" class="difflineminus">-  return true;</span>
<a href="#l2.127"></a><span id="l2.127" class="difflineminus">-}</span>
<a href="#l2.128"></a><span id="l2.128" class="difflineminus">-</span>
<a href="#l2.129"></a><span id="l2.129" class="difflineminus">-function onAccept() {</span>
<a href="#l2.130"></a><span id="l2.130" class="difflineminus">-  // All values are valid - copy to actual element in doc or</span>
<a href="#l2.131"></a><span id="l2.131" class="difflineminus">-  //   element created to insert</span>
<a href="#l2.132"></a><span id="l2.132" class="difflineminus">-  ValidateData();</span>
<a href="#l2.133"></a><span id="l2.133" class="difflineminus">-</span>
<a href="#l2.134"></a><span id="l2.134" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l2.135"></a><span id="l2.135" class="difflineminus">-</span>
<a href="#l2.136"></a><span id="l2.136" class="difflineminus">-  editor.cloneAttributes(buttonElement, globalElement);</span>
<a href="#l2.137"></a><span id="l2.137" class="difflineminus">-</span>
<a href="#l2.138"></a><span id="l2.138" class="difflineminus">-  if (insertNew) {</span>
<a href="#l2.139"></a><span id="l2.139" class="difflineminus">-    if (!InsertElementAroundSelection(buttonElement)) {</span>
<a href="#l2.140"></a><span id="l2.140" class="difflineminus">-      /* eslint-disable-next-line no-unsanitized/property */</span>
<a href="#l2.141"></a><span id="l2.141" class="difflineminus">-      buttonElement.innerHTML = editor.outputToString(</span>
<a href="#l2.142"></a><span id="l2.142" class="difflineminus">-        &quot;text/html&quot;,</span>
<a href="#l2.143"></a><span id="l2.143" class="difflineminus">-        kOutputSelectionOnly</span>
<a href="#l2.144"></a><span id="l2.144" class="difflineminus">-      );</span>
<a href="#l2.145"></a><span id="l2.145" class="difflineminus">-      editor.insertElementAtSelection(buttonElement, true);</span>
<a href="#l2.146"></a><span id="l2.146" class="difflineminus">-    }</span>
<a href="#l2.147"></a><span id="l2.147" class="difflineminus">-  }</span>
<a href="#l2.148"></a><span id="l2.148" class="difflineminus">-</span>
<a href="#l2.149"></a><span id="l2.149" class="difflineminus">-  SaveWindowLocation();</span>
<a href="#l2.150"></a><span id="l2.150" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1">deleted file mode 100644</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdButtonProps.xul</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineplus">+++ /dev/null</span>
<a href="#l3.4"></a><span id="l3.4" class="difflineat">@@ -1,92 +0,0 @@</span>
<a href="#l3.5"></a><span id="l3.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l3.6"></a><span id="l3.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.7"></a><span id="l3.7" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.8"></a><span id="l3.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l3.9"></a><span id="l3.9" class="difflineminus">-</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-&lt;!DOCTYPE dialog [</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-&lt;!ENTITY % edButtonProperties SYSTEM &quot;chrome://messenger/locale/messengercompose/EditorButtonProperties.dtd&quot;&gt;</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-%edButtonProperties;</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-&lt;!ENTITY % edDialogOverlay SYSTEM &quot;chrome://messenger/locale/messengercompose/EdDialogOverlay.dtd&quot;&gt;</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineminus">-%edDialogOverlay;</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineminus">-]&gt;</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineminus">-</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">-&lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineminus">-        onload=&quot;Startup();&quot;</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineminus">-        buttons=&quot;accept,cancel&quot;&gt;</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineminus">-</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineminus">-  &lt;!-- Methods common to all editor dialogs --&gt;</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/editorUtilities.js&quot;/&gt;</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdButtonProps.js&quot;/&gt;</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineminus">-</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-  &lt;spacer id=&quot;location&quot; offsetY=&quot;50&quot; persist=&quot;offsetX offsetY&quot;/&gt;</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineminus">-  &lt;groupbox&gt;</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineminus">-    &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineminus">-      &lt;label class=&quot;header&quot;&gt;&amp;Settings.label;&lt;/label&gt;</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineminus">-    &lt;grid&gt;&lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineminus">-          &lt;label control=&quot;ButtonType&quot; value=&quot;&amp;ButtonType.label;&quot; accesskey=&quot;&amp;ButtonType.accesskey;&quot;/&gt;</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineminus">-          &lt;menulist id=&quot;ButtonType&quot;&gt;</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineminus">-            &lt;menupopup&gt;</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineminus">-              &lt;menuitem label=&quot;&amp;submit.value;&quot;/&gt;</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineminus">-              &lt;menuitem label=&quot;&amp;reset.value;&quot;/&gt;</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineminus">-              &lt;menuitem label=&quot;&amp;button.value;&quot;/&gt;</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineminus">-            &lt;/menupopup&gt;</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineminus">-          &lt;/menulist&gt;</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l3.48"></a><span id="l3.48" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineminus">-          &lt;label control=&quot;ButtonName&quot; value=&quot;&amp;ButtonName.label;&quot; accesskey=&quot;&amp;ButtonName.accesskey;&quot;/&gt;</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineminus">-          &lt;textbox id=&quot;ButtonName&quot;/&gt;</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l3.52"></a><span id="l3.52" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l3.53"></a><span id="l3.53" class="difflineminus">-          &lt;label control=&quot;ButtonValue&quot; value=&quot;&amp;ButtonValue.label;&quot; accesskey=&quot;&amp;ButtonValue.accesskey;&quot;/&gt;</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineminus">-          &lt;textbox id=&quot;ButtonValue&quot;/&gt;</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l3.58"></a><span id="l3.58" class="difflineminus">-    &lt;hbox&gt;</span>
<a href="#l3.59"></a><span id="l3.59" class="difflineminus">-      &lt;button id=&quot;MoreFewerButton&quot; oncommand=&quot;onMoreFewer();&quot; persist=&quot;more&quot;/&gt;</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l3.61"></a><span id="l3.61" class="difflineminus">-    &lt;grid id=&quot;MoreSection&quot;&gt;&lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineminus">-        &lt;row&gt;</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineminus">-          &lt;spacer/&gt;</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineminus">-          &lt;checkbox id=&quot;ButtonDisabled&quot; label=&quot;&amp;ButtonDisabled.label;&quot; accesskey=&quot;&amp;ButtonDisabled.accesskey;&quot;/&gt;</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l3.67"></a><span id="l3.67" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineminus">-          &lt;label control=&quot;ButtonTabIndex&quot; value=&quot;&amp;tabIndex.label;&quot; accesskey=&quot;&amp;tabIndex.accesskey;&quot;/&gt;</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineminus">-            &lt;textbox id=&quot;ButtonTabIndex&quot; class=&quot;narrow&quot; oninput=&quot;forceInteger(this.id);&quot;/&gt;</span>
<a href="#l3.71"></a><span id="l3.71" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l3.73"></a><span id="l3.73" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l3.74"></a><span id="l3.74" class="difflineminus">-          &lt;label control=&quot;ButtonAccessKey&quot; value=&quot;&amp;AccessKey.label;&quot; accesskey=&quot;&amp;AccessKey.accesskey;&quot;/&gt;</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineminus">-            &lt;textbox id=&quot;ButtonAccessKey&quot; class=&quot;narrow&quot;/&gt;</span>
<a href="#l3.77"></a><span id="l3.77" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l3.78"></a><span id="l3.78" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l3.79"></a><span id="l3.79" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l3.80"></a><span id="l3.80" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l3.81"></a><span id="l3.81" class="difflineminus">-  &lt;/groupbox&gt;</span>
<a href="#l3.82"></a><span id="l3.82" class="difflineminus">-</span>
<a href="#l3.83"></a><span id="l3.83" class="difflineminus">-  &lt;!-- from EdDialogOverlay --&gt;</span>
<a href="#l3.84"></a><span id="l3.84" class="difflineminus">-  &lt;hbox flex=&quot;1&quot; style=&quot;margin-top: 0.2em&quot;&gt;</span>
<a href="#l3.85"></a><span id="l3.85" class="difflineminus">-    &lt;button id=&quot;RemoveButton&quot; label=&quot;&amp;RemoveButton.label;&quot; accesskey=&quot;&amp;RemoveButton.accesskey;&quot; oncommand=&quot;RemoveButton();&quot;/&gt;</span>
<a href="#l3.86"></a><span id="l3.86" class="difflineminus">-    &lt;!-- This will right-align the button --&gt;</span>
<a href="#l3.87"></a><span id="l3.87" class="difflineminus">-    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l3.88"></a><span id="l3.88" class="difflineminus">-    &lt;button id=&quot;AdvancedEditButton&quot;</span>
<a href="#l3.89"></a><span id="l3.89" class="difflineminus">-            oncommand=&quot;onAdvancedEdit();&quot;</span>
<a href="#l3.90"></a><span id="l3.90" class="difflineminus">-            label=&quot;&amp;AdvancedEditButton.label;&quot;</span>
<a href="#l3.91"></a><span id="l3.91" class="difflineminus">-            accesskey=&quot;&amp;AdvancedEditButton.accessKey;&quot;</span>
<a href="#l3.92"></a><span id="l3.92" class="difflineminus">-            tooltiptext=&quot;&amp;AdvancedEditButton.tooltip;&quot;/&gt;</span>
<a href="#l3.93"></a><span id="l3.93" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l3.94"></a><span id="l3.94" class="difflineminus">-  &lt;separator class=&quot;groove&quot;/&gt;</span>
<a href="#l3.95"></a><span id="l3.95" class="difflineminus">-</span>
<a href="#l3.96"></a><span id="l3.96" class="difflineminus">-&lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">deleted file mode 100644</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdFieldSetProps.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineplus">+++ /dev/null</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineat">@@ -1,196 +0,0 @@</span>
<a href="#l4.5"></a><span id="l4.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.6"></a><span id="l4.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.7"></a><span id="l4.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.8"></a><span id="l4.8" class="difflineminus">-</span>
<a href="#l4.9"></a><span id="l4.9" class="difflineminus">-/* import-globals-from ../editorUtilities.js */</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineminus">-/* import-globals-from EdDialogCommon.js */</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineminus">-</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-var insertNew;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-var fieldsetElement;</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-var newLegend;</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-var legendElement;</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineminus">-</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineminus">-// dialog initialization code</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineminus">-</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineminus">-document.addEventListener(&quot;dialogaccept&quot;, onAccept);</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineminus">-document.addEventListener(&quot;dialogcancel&quot;, onCancel);</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineminus">-</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineminus">-function Startup() {</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineminus">-  if (!editor) {</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineminus">-    dump(&quot;Failed to get active editor!\n&quot;);</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineminus">-    window.close();</span>
<a href="#l4.27"></a><span id="l4.27" class="difflineminus">-    return;</span>
<a href="#l4.28"></a><span id="l4.28" class="difflineminus">-  }</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineminus">-</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineminus">-  gDialog.editText = document.getElementById(&quot;EditText&quot;);</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">-  gDialog.legendText = document.getElementById(&quot;LegendText&quot;);</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineminus">-  gDialog.legendAlign = document.getElementById(&quot;LegendAlign&quot;);</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineminus">-  gDialog.RemoveFieldSet = document.getElementById(&quot;RemoveFieldSet&quot;);</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineminus">-</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">-  // Get a single selected field set element</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineminus">-  const kTagName = &quot;fieldset&quot;;</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineminus">-  try {</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineminus">-    // Find a selected fieldset, or if one is at start or end of selection.</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-    fieldsetElement = editor.getSelectedElement(kTagName);</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-    if (!fieldsetElement) {</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineminus">-      fieldsetElement = editor.getElementOrParentByTagName(</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineminus">-        kTagName,</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineminus">-        editor.selection.anchorNode</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineminus">-      );</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineminus">-    }</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineminus">-    if (!fieldsetElement) {</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineminus">-      fieldsetElement = editor.getElementOrParentByTagName(</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineminus">-        kTagName,</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineminus">-        editor.selection.focusNode</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineminus">-      );</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineminus">-    }</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineminus">-  } catch (e) {}</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineminus">-</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineminus">-  if (fieldsetElement) {</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineminus">-    // We found an element and don't need to insert one</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineminus">-    insertNew = false;</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineminus">-  } else {</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineminus">-    insertNew = true;</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineminus">-</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineminus">-    // We don't have an element selected,</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineminus">-    //  so create one with default attributes</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineminus">-    try {</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-      fieldsetElement = editor.createElementWithDefaults(kTagName);</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineminus">-    } catch (e) {}</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineminus">-</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineminus">-    if (!fieldsetElement) {</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineminus">-      dump(&quot;Failed to get selected element or create a new one!\n&quot;);</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineminus">-      window.close();</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineminus">-      return;</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineminus">-    }</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineminus">-    // Hide button removing existing fieldset</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineminus">-    gDialog.RemoveFieldSet.hidden = true;</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineminus">-  }</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineminus">-</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineminus">-  legendElement = fieldsetElement.querySelector(&quot;legend&quot;);</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineminus">-  if (legendElement) {</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineminus">-    newLegend = false;</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineminus">-    var range = editor.document.createRange();</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineminus">-    range.selectNode(legendElement);</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineminus">-    gDialog.legendText.value = range.toString();</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineminus">-    if (legendElement.innerHTML.includes(&quot;&lt;&quot;)) {</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineminus">-      gDialog.editText.checked = false;</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineminus">-      gDialog.editText.disabled = false;</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineminus">-      gDialog.legendText.disabled = true;</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineminus">-      gDialog.editText.addEventListener(</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineminus">-        &quot;command&quot;,</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineminus">-        () =&gt;</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineminus">-          Services.prompt.alert(</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineminus">-            window,</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineminus">-            GetString(&quot;Alert&quot;),</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineminus">-            GetString(&quot;EditTextWarning&quot;)</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineminus">-          ),</span>
<a href="#l4.93"></a><span id="l4.93" class="difflineminus">-        { capture: false, once: true }</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineminus">-      );</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineminus">-      gDialog.RemoveFieldSet.focus();</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineminus">-    } else {</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineminus">-      SetTextboxFocus(gDialog.legendText);</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineminus">-    }</span>
<a href="#l4.99"></a><span id="l4.99" class="difflineminus">-  } else {</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineminus">-    newLegend = true;</span>
<a href="#l4.101"></a><span id="l4.101" class="difflineminus">-</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineminus">-    // We don't have an element selected,</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineminus">-    //  so create one with default attributes</span>
<a href="#l4.104"></a><span id="l4.104" class="difflineminus">-</span>
<a href="#l4.105"></a><span id="l4.105" class="difflineminus">-    legendElement = editor.createElementWithDefaults(&quot;legend&quot;);</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineminus">-    if (!legendElement) {</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineminus">-      dump(&quot;Failed to get selected element or create a new one!\n&quot;);</span>
<a href="#l4.108"></a><span id="l4.108" class="difflineminus">-      window.close();</span>
<a href="#l4.109"></a><span id="l4.109" class="difflineminus">-      return;</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineminus">-    }</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineminus">-    SetTextboxFocus(gDialog.legendText);</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineminus">-  }</span>
<a href="#l4.113"></a><span id="l4.113" class="difflineminus">-</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineminus">-  // Make a copy to use for AdvancedEdit</span>
<a href="#l4.115"></a><span id="l4.115" class="difflineminus">-  globalElement = legendElement.cloneNode(false);</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineminus">-</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineminus">-  InitDialog();</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineminus">-</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineminus">-  SetWindowLocation();</span>
<a href="#l4.120"></a><span id="l4.120" class="difflineminus">-}</span>
<a href="#l4.121"></a><span id="l4.121" class="difflineminus">-</span>
<a href="#l4.122"></a><span id="l4.122" class="difflineminus">-function InitDialog() {</span>
<a href="#l4.123"></a><span id="l4.123" class="difflineminus">-  gDialog.legendAlign.value = GetHTMLOrCSSStyleValue(</span>
<a href="#l4.124"></a><span id="l4.124" class="difflineminus">-    globalElement,</span>
<a href="#l4.125"></a><span id="l4.125" class="difflineminus">-    &quot;align&quot;,</span>
<a href="#l4.126"></a><span id="l4.126" class="difflineminus">-    &quot;caption-side&quot;</span>
<a href="#l4.127"></a><span id="l4.127" class="difflineminus">-  );</span>
<a href="#l4.128"></a><span id="l4.128" class="difflineminus">-}</span>
<a href="#l4.129"></a><span id="l4.129" class="difflineminus">-</span>
<a href="#l4.130"></a><span id="l4.130" class="difflineminus">-function RemoveFieldSet() {</span>
<a href="#l4.131"></a><span id="l4.131" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l4.132"></a><span id="l4.132" class="difflineminus">-  editor.beginTransaction();</span>
<a href="#l4.133"></a><span id="l4.133" class="difflineminus">-  try {</span>
<a href="#l4.134"></a><span id="l4.134" class="difflineminus">-    if (!newLegend) {</span>
<a href="#l4.135"></a><span id="l4.135" class="difflineminus">-      editor.deleteNode(legendElement);</span>
<a href="#l4.136"></a><span id="l4.136" class="difflineminus">-    }</span>
<a href="#l4.137"></a><span id="l4.137" class="difflineminus">-    RemoveBlockContainer(fieldsetElement);</span>
<a href="#l4.138"></a><span id="l4.138" class="difflineminus">-  } finally {</span>
<a href="#l4.139"></a><span id="l4.139" class="difflineminus">-    editor.endTransaction();</span>
<a href="#l4.140"></a><span id="l4.140" class="difflineminus">-  }</span>
<a href="#l4.141"></a><span id="l4.141" class="difflineminus">-  SaveWindowLocation();</span>
<a href="#l4.142"></a><span id="l4.142" class="difflineminus">-  window.close();</span>
<a href="#l4.143"></a><span id="l4.143" class="difflineminus">-}</span>
<a href="#l4.144"></a><span id="l4.144" class="difflineminus">-</span>
<a href="#l4.145"></a><span id="l4.145" class="difflineminus">-function ValidateData() {</span>
<a href="#l4.146"></a><span id="l4.146" class="difflineminus">-  if (gDialog.legendAlign.value) {</span>
<a href="#l4.147"></a><span id="l4.147" class="difflineminus">-    globalElement.setAttribute(&quot;align&quot;, gDialog.legendAlign.value);</span>
<a href="#l4.148"></a><span id="l4.148" class="difflineminus">-  } else {</span>
<a href="#l4.149"></a><span id="l4.149" class="difflineminus">-    globalElement.removeAttribute(&quot;align&quot;);</span>
<a href="#l4.150"></a><span id="l4.150" class="difflineminus">-  }</span>
<a href="#l4.151"></a><span id="l4.151" class="difflineminus">-  return true;</span>
<a href="#l4.152"></a><span id="l4.152" class="difflineminus">-}</span>
<a href="#l4.153"></a><span id="l4.153" class="difflineminus">-</span>
<a href="#l4.154"></a><span id="l4.154" class="difflineminus">-function onAccept() {</span>
<a href="#l4.155"></a><span id="l4.155" class="difflineminus">-  // All values are valid - copy to actual element in doc</span>
<a href="#l4.156"></a><span id="l4.156" class="difflineminus">-  ValidateData();</span>
<a href="#l4.157"></a><span id="l4.157" class="difflineminus">-</span>
<a href="#l4.158"></a><span id="l4.158" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l4.159"></a><span id="l4.159" class="difflineminus">-</span>
<a href="#l4.160"></a><span id="l4.160" class="difflineminus">-  editor.beginTransaction();</span>
<a href="#l4.161"></a><span id="l4.161" class="difflineminus">-</span>
<a href="#l4.162"></a><span id="l4.162" class="difflineminus">-  try {</span>
<a href="#l4.163"></a><span id="l4.163" class="difflineminus">-    editor.cloneAttributes(legendElement, globalElement);</span>
<a href="#l4.164"></a><span id="l4.164" class="difflineminus">-</span>
<a href="#l4.165"></a><span id="l4.165" class="difflineminus">-    if (insertNew) {</span>
<a href="#l4.166"></a><span id="l4.166" class="difflineminus">-      if (gDialog.legendText.value) {</span>
<a href="#l4.167"></a><span id="l4.167" class="difflineminus">-        fieldsetElement.appendChild(legendElement);</span>
<a href="#l4.168"></a><span id="l4.168" class="difflineminus">-        legendElement.appendChild(</span>
<a href="#l4.169"></a><span id="l4.169" class="difflineminus">-          editor.document.createTextNode(gDialog.legendText.value)</span>
<a href="#l4.170"></a><span id="l4.170" class="difflineminus">-        );</span>
<a href="#l4.171"></a><span id="l4.171" class="difflineminus">-      }</span>
<a href="#l4.172"></a><span id="l4.172" class="difflineminus">-      InsertElementAroundSelection(fieldsetElement);</span>
<a href="#l4.173"></a><span id="l4.173" class="difflineminus">-    } else if (gDialog.editText.checked) {</span>
<a href="#l4.174"></a><span id="l4.174" class="difflineminus">-      editor.setShouldTxnSetSelection(false);</span>
<a href="#l4.175"></a><span id="l4.175" class="difflineminus">-</span>
<a href="#l4.176"></a><span id="l4.176" class="difflineminus">-      if (gDialog.legendText.value) {</span>
<a href="#l4.177"></a><span id="l4.177" class="difflineminus">-        if (newLegend) {</span>
<a href="#l4.178"></a><span id="l4.178" class="difflineminus">-          editor.insertNode(legendElement, fieldsetElement, 0, true);</span>
<a href="#l4.179"></a><span id="l4.179" class="difflineminus">-        } else {</span>
<a href="#l4.180"></a><span id="l4.180" class="difflineminus">-          while (legendElement.firstChild) {</span>
<a href="#l4.181"></a><span id="l4.181" class="difflineminus">-            editor.deleteNode(legendElement.lastChild);</span>
<a href="#l4.182"></a><span id="l4.182" class="difflineminus">-          }</span>
<a href="#l4.183"></a><span id="l4.183" class="difflineminus">-        }</span>
<a href="#l4.184"></a><span id="l4.184" class="difflineminus">-        editor.insertNode(</span>
<a href="#l4.185"></a><span id="l4.185" class="difflineminus">-          editor.document.createTextNode(gDialog.legendText.value),</span>
<a href="#l4.186"></a><span id="l4.186" class="difflineminus">-          legendElement,</span>
<a href="#l4.187"></a><span id="l4.187" class="difflineminus">-          0</span>
<a href="#l4.188"></a><span id="l4.188" class="difflineminus">-        );</span>
<a href="#l4.189"></a><span id="l4.189" class="difflineminus">-      } else if (!newLegend) {</span>
<a href="#l4.190"></a><span id="l4.190" class="difflineminus">-        editor.deleteNode(legendElement);</span>
<a href="#l4.191"></a><span id="l4.191" class="difflineminus">-      }</span>
<a href="#l4.192"></a><span id="l4.192" class="difflineminus">-</span>
<a href="#l4.193"></a><span id="l4.193" class="difflineminus">-      editor.setShouldTxnSetSelection(true);</span>
<a href="#l4.194"></a><span id="l4.194" class="difflineminus">-    }</span>
<a href="#l4.195"></a><span id="l4.195" class="difflineminus">-  } finally {</span>
<a href="#l4.196"></a><span id="l4.196" class="difflineminus">-    editor.endTransaction();</span>
<a href="#l4.197"></a><span id="l4.197" class="difflineminus">-  }</span>
<a href="#l4.198"></a><span id="l4.198" class="difflineminus">-</span>
<a href="#l4.199"></a><span id="l4.199" class="difflineminus">-  SaveWindowLocation();</span>
<a href="#l4.200"></a><span id="l4.200" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">deleted file mode 100644</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdFieldSetProps.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineplus">+++ /dev/null</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineat">@@ -1,67 +0,0 @@</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l5.6"></a><span id="l5.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.7"></a><span id="l5.7" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.8"></a><span id="l5.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineminus">-</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-&lt;!DOCTYPE dialog [</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-&lt;!ENTITY % edFieldSetProperties SYSTEM &quot;chrome://messenger/locale/messengercompose/EditorFieldSetProperties.dtd&quot;&gt;</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">-%edFieldSetProperties;</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineminus">-&lt;!ENTITY % edDialogOverlay SYSTEM &quot;chrome://messenger/locale/messengercompose/EdDialogOverlay.dtd&quot;&gt;</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineminus">-%edDialogOverlay;</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineminus">-]&gt;</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineminus">-</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineminus">-&lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineminus">-        onload=&quot;Startup();&quot;</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineminus">-        buttons=&quot;accept,cancel&quot;&gt;</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineminus">-</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineminus">-  &lt;!-- Methods common to all editor dialogs --&gt;</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/editorUtilities.js&quot;/&gt;</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdFieldSetProps.js&quot;/&gt;</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineminus">-</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineminus">-  &lt;spacer id=&quot;location&quot; offsetY=&quot;50&quot; persist=&quot;offsetX offsetY&quot;/&gt;</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineminus">-</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineminus">-  &lt;groupbox&gt;</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineminus">-    &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineminus">-      &lt;label class=&quot;header&quot; accesskey=&quot;&amp;Legend.accesskey;&quot;&gt;&amp;Legend.label;&lt;/label&gt;</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineminus">-    &lt;grid&gt;&lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineminus">-          &lt;checkbox id=&quot;EditText&quot; label=&quot;&amp;EditLegendText.label;&quot; accesskey=&quot;&amp;EditLegendText.accesskey;&quot; checked=&quot;true&quot; disabled=&quot;true&quot;</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineminus">-            oncommand=&quot;gDialog.legendText.disabled = !gDialog.editText.checked;&quot;/&gt;</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineminus">-          &lt;textbox id=&quot;LegendText&quot; accesskey=&quot;&amp;Legend.accesskey;&quot;/&gt;</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineminus">-          &lt;label control=&quot;LegendAlign&quot; value=&quot;&amp;LegendAlign.label;&quot; accesskey=&quot;&amp;LegendAlign.accesskey;&quot;/&gt;</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineminus">-          &lt;menulist id=&quot;LegendAlign&quot;&gt;</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineminus">-            &lt;menupopup&gt;</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineminus">-              &lt;menuitem label=&quot;&amp;AlignDefault.label;&quot;/&gt;</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineminus">-              &lt;menuitem label=&quot;&amp;AlignLeft.label;&quot; value=&quot;left&quot;/&gt;</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineminus">-              &lt;menuitem label=&quot;&amp;AlignCenter.label;&quot; value=&quot;center&quot;/&gt;</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineminus">-              &lt;menuitem label=&quot;&amp;AlignRight.label;&quot; value=&quot;right&quot;/&gt;</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineminus">-            &lt;/menupopup&gt;</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineminus">-          &lt;/menulist&gt;</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineminus">-  &lt;/groupbox&gt;</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineminus">-</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineminus">-  &lt;!-- from EdDialogOverlay --&gt;</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineminus">-  &lt;hbox flex=&quot;1&quot; style=&quot;margin-top: 0.2em&quot;&gt;</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineminus">-    &lt;button id=&quot;RemoveFieldSet&quot; label=&quot;&amp;RemoveFieldSet.label;&quot; accesskey=&quot;&amp;RemoveFieldSet.accesskey;&quot; oncommand=&quot;RemoveFieldSet();&quot;/&gt;</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineminus">-    &lt;!-- This will right-align the button --&gt;</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineminus">-    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineminus">-    &lt;button id=&quot;AdvancedEditButton&quot;</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineminus">-            oncommand=&quot;onAdvancedEdit();&quot;</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineminus">-            label=&quot;&amp;AdvancedEditButton.label;&quot;</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineminus">-            accesskey=&quot;&amp;AdvancedEditButton.accessKey;&quot;</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineminus">-            tooltiptext=&quot;&amp;AdvancedEditButton.tooltip;&quot;/&gt;</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineminus">-  &lt;separator class=&quot;groove&quot;/&gt;</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineminus">-</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineminus">-&lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">deleted file mode 100644</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdFormProps.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineplus">+++ /dev/null</span>
<a href="#l6.4"></a><span id="l6.4" class="difflineat">@@ -1,136 +0,0 @@</span>
<a href="#l6.5"></a><span id="l6.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.6"></a><span id="l6.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.7"></a><span id="l6.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l6.8"></a><span id="l6.8" class="difflineminus">-</span>
<a href="#l6.9"></a><span id="l6.9" class="difflineminus">-/* import-globals-from ../editorUtilities.js */</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineminus">-/* import-globals-from EdDialogCommon.js */</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineminus">-</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-var gForm;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-var insertNew;</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-var formElement;</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineminus">-var formActionWarning;</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineminus">-</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineminus">-document.addEventListener(&quot;dialogaccept&quot;, onAccept);</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineminus">-document.addEventListener(&quot;dialogcancel&quot;, onCancel);</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineminus">-</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineminus">-function Startup() {</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineminus">-  if (!editor) {</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineminus">-    dump(&quot;Failed to get active editor!\n&quot;);</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineminus">-    window.close();</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineminus">-    return;</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineminus">-  }</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineminus">-</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineminus">-  gForm = {</span>
<a href="#l6.29"></a><span id="l6.29" class="difflineminus">-    Name: document.getElementById(&quot;FormName&quot;),</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineminus">-    Action: document.getElementById(&quot;FormAction&quot;),</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-    Method: document.getElementById(&quot;FormMethod&quot;),</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineminus">-    EncType: document.getElementById(&quot;FormEncType&quot;),</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineminus">-    Target: document.getElementById(&quot;FormTarget&quot;),</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-  };</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineminus">-  gDialog.MoreSection = document.getElementById(&quot;MoreSection&quot;);</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineminus">-  gDialog.MoreFewerButton = document.getElementById(&quot;MoreFewerButton&quot;);</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineminus">-  gDialog.RemoveForm = document.getElementById(&quot;RemoveForm&quot;);</span>
<a href="#l6.38"></a><span id="l6.38" class="difflineminus">-</span>
<a href="#l6.39"></a><span id="l6.39" class="difflineminus">-  // Get a single selected form element</span>
<a href="#l6.40"></a><span id="l6.40" class="difflineminus">-  const kTagName = &quot;form&quot;;</span>
<a href="#l6.41"></a><span id="l6.41" class="difflineminus">-  try {</span>
<a href="#l6.42"></a><span id="l6.42" class="difflineminus">-    formElement = editor.getSelectedElement(kTagName);</span>
<a href="#l6.43"></a><span id="l6.43" class="difflineminus">-    if (!formElement) {</span>
<a href="#l6.44"></a><span id="l6.44" class="difflineminus">-      formElement = editor.getElementOrParentByTagName(</span>
<a href="#l6.45"></a><span id="l6.45" class="difflineminus">-        kTagName,</span>
<a href="#l6.46"></a><span id="l6.46" class="difflineminus">-        editor.selection.anchorNode</span>
<a href="#l6.47"></a><span id="l6.47" class="difflineminus">-      );</span>
<a href="#l6.48"></a><span id="l6.48" class="difflineminus">-    }</span>
<a href="#l6.49"></a><span id="l6.49" class="difflineminus">-    if (!formElement) {</span>
<a href="#l6.50"></a><span id="l6.50" class="difflineminus">-      formElement = editor.getElementOrParentByTagName(</span>
<a href="#l6.51"></a><span id="l6.51" class="difflineminus">-        kTagName,</span>
<a href="#l6.52"></a><span id="l6.52" class="difflineminus">-        editor.selection.focusNode</span>
<a href="#l6.53"></a><span id="l6.53" class="difflineminus">-      );</span>
<a href="#l6.54"></a><span id="l6.54" class="difflineminus">-    }</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineminus">-  } catch (e) {}</span>
<a href="#l6.56"></a><span id="l6.56" class="difflineminus">-</span>
<a href="#l6.57"></a><span id="l6.57" class="difflineminus">-  if (formElement) {</span>
<a href="#l6.58"></a><span id="l6.58" class="difflineminus">-    // We found an element and don't need to insert one</span>
<a href="#l6.59"></a><span id="l6.59" class="difflineminus">-    insertNew = false;</span>
<a href="#l6.60"></a><span id="l6.60" class="difflineminus">-    formActionWarning = formElement.hasAttribute(&quot;action&quot;);</span>
<a href="#l6.61"></a><span id="l6.61" class="difflineminus">-  } else {</span>
<a href="#l6.62"></a><span id="l6.62" class="difflineminus">-    insertNew = true;</span>
<a href="#l6.63"></a><span id="l6.63" class="difflineminus">-    formActionWarning = true;</span>
<a href="#l6.64"></a><span id="l6.64" class="difflineminus">-</span>
<a href="#l6.65"></a><span id="l6.65" class="difflineminus">-    // We don't have an element selected,</span>
<a href="#l6.66"></a><span id="l6.66" class="difflineminus">-    //  so create one with default attributes</span>
<a href="#l6.67"></a><span id="l6.67" class="difflineminus">-    try {</span>
<a href="#l6.68"></a><span id="l6.68" class="difflineminus">-      formElement = editor.createElementWithDefaults(kTagName);</span>
<a href="#l6.69"></a><span id="l6.69" class="difflineminus">-    } catch (e) {}</span>
<a href="#l6.70"></a><span id="l6.70" class="difflineminus">-</span>
<a href="#l6.71"></a><span id="l6.71" class="difflineminus">-    if (!formElement) {</span>
<a href="#l6.72"></a><span id="l6.72" class="difflineminus">-      dump(&quot;Failed to get selected element or create a new one!\n&quot;);</span>
<a href="#l6.73"></a><span id="l6.73" class="difflineminus">-      window.close();</span>
<a href="#l6.74"></a><span id="l6.74" class="difflineminus">-      return;</span>
<a href="#l6.75"></a><span id="l6.75" class="difflineminus">-    }</span>
<a href="#l6.76"></a><span id="l6.76" class="difflineminus">-    // Hide button removing existing form</span>
<a href="#l6.77"></a><span id="l6.77" class="difflineminus">-    gDialog.RemoveForm.hidden = true;</span>
<a href="#l6.78"></a><span id="l6.78" class="difflineminus">-  }</span>
<a href="#l6.79"></a><span id="l6.79" class="difflineminus">-</span>
<a href="#l6.80"></a><span id="l6.80" class="difflineminus">-  // Make a copy to use for AdvancedEdit</span>
<a href="#l6.81"></a><span id="l6.81" class="difflineminus">-  globalElement = formElement.cloneNode(false);</span>
<a href="#l6.82"></a><span id="l6.82" class="difflineminus">-</span>
<a href="#l6.83"></a><span id="l6.83" class="difflineminus">-  InitDialog();</span>
<a href="#l6.84"></a><span id="l6.84" class="difflineminus">-</span>
<a href="#l6.85"></a><span id="l6.85" class="difflineminus">-  InitMoreFewer();</span>
<a href="#l6.86"></a><span id="l6.86" class="difflineminus">-</span>
<a href="#l6.87"></a><span id="l6.87" class="difflineminus">-  SetTextboxFocus(gForm.Name);</span>
<a href="#l6.88"></a><span id="l6.88" class="difflineminus">-</span>
<a href="#l6.89"></a><span id="l6.89" class="difflineminus">-  SetWindowLocation();</span>
<a href="#l6.90"></a><span id="l6.90" class="difflineminus">-}</span>
<a href="#l6.91"></a><span id="l6.91" class="difflineminus">-</span>
<a href="#l6.92"></a><span id="l6.92" class="difflineminus">-function InitDialog() {</span>
<a href="#l6.93"></a><span id="l6.93" class="difflineminus">-  for (var attribute in gForm) {</span>
<a href="#l6.94"></a><span id="l6.94" class="difflineminus">-    gForm[attribute].value = globalElement.getAttribute(attribute);</span>
<a href="#l6.95"></a><span id="l6.95" class="difflineminus">-  }</span>
<a href="#l6.96"></a><span id="l6.96" class="difflineminus">-}</span>
<a href="#l6.97"></a><span id="l6.97" class="difflineminus">-</span>
<a href="#l6.98"></a><span id="l6.98" class="difflineminus">-function RemoveForm() {</span>
<a href="#l6.99"></a><span id="l6.99" class="difflineminus">-  RemoveBlockContainer(formElement);</span>
<a href="#l6.100"></a><span id="l6.100" class="difflineminus">-  SaveWindowLocation();</span>
<a href="#l6.101"></a><span id="l6.101" class="difflineminus">-  window.close();</span>
<a href="#l6.102"></a><span id="l6.102" class="difflineminus">-}</span>
<a href="#l6.103"></a><span id="l6.103" class="difflineminus">-</span>
<a href="#l6.104"></a><span id="l6.104" class="difflineminus">-function ValidateData() {</span>
<a href="#l6.105"></a><span id="l6.105" class="difflineminus">-  for (var attribute in gForm) {</span>
<a href="#l6.106"></a><span id="l6.106" class="difflineminus">-    if (gForm[attribute].value) {</span>
<a href="#l6.107"></a><span id="l6.107" class="difflineminus">-      globalElement.setAttribute(attribute, gForm[attribute].value);</span>
<a href="#l6.108"></a><span id="l6.108" class="difflineminus">-    } else {</span>
<a href="#l6.109"></a><span id="l6.109" class="difflineminus">-      globalElement.removeAttribute(attribute);</span>
<a href="#l6.110"></a><span id="l6.110" class="difflineminus">-    }</span>
<a href="#l6.111"></a><span id="l6.111" class="difflineminus">-  }</span>
<a href="#l6.112"></a><span id="l6.112" class="difflineminus">-  return true;</span>
<a href="#l6.113"></a><span id="l6.113" class="difflineminus">-}</span>
<a href="#l6.114"></a><span id="l6.114" class="difflineminus">-</span>
<a href="#l6.115"></a><span id="l6.115" class="difflineminus">-function onAccept(event) {</span>
<a href="#l6.116"></a><span id="l6.116" class="difflineminus">-  if (formActionWarning &amp;&amp; !gForm.Action.value) {</span>
<a href="#l6.117"></a><span id="l6.117" class="difflineminus">-    Services.prompt.alert(</span>
<a href="#l6.118"></a><span id="l6.118" class="difflineminus">-      window,</span>
<a href="#l6.119"></a><span id="l6.119" class="difflineminus">-      GetString(&quot;Alert&quot;),</span>
<a href="#l6.120"></a><span id="l6.120" class="difflineminus">-      GetString(&quot;NoFormAction&quot;)</span>
<a href="#l6.121"></a><span id="l6.121" class="difflineminus">-    );</span>
<a href="#l6.122"></a><span id="l6.122" class="difflineminus">-    gForm.Action.focus();</span>
<a href="#l6.123"></a><span id="l6.123" class="difflineminus">-    formActionWarning = false;</span>
<a href="#l6.124"></a><span id="l6.124" class="difflineminus">-    event.preventDefault();</span>
<a href="#l6.125"></a><span id="l6.125" class="difflineminus">-    return;</span>
<a href="#l6.126"></a><span id="l6.126" class="difflineminus">-  }</span>
<a href="#l6.127"></a><span id="l6.127" class="difflineminus">-  // All values are valid - copy to actual element in doc or</span>
<a href="#l6.128"></a><span id="l6.128" class="difflineminus">-  //   element created to insert</span>
<a href="#l6.129"></a><span id="l6.129" class="difflineminus">-  ValidateData();</span>
<a href="#l6.130"></a><span id="l6.130" class="difflineminus">-</span>
<a href="#l6.131"></a><span id="l6.131" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l6.132"></a><span id="l6.132" class="difflineminus">-</span>
<a href="#l6.133"></a><span id="l6.133" class="difflineminus">-  editor.cloneAttributes(formElement, globalElement);</span>
<a href="#l6.134"></a><span id="l6.134" class="difflineminus">-</span>
<a href="#l6.135"></a><span id="l6.135" class="difflineminus">-  if (insertNew) {</span>
<a href="#l6.136"></a><span id="l6.136" class="difflineminus">-    InsertElementAroundSelection(formElement);</span>
<a href="#l6.137"></a><span id="l6.137" class="difflineminus">-  }</span>
<a href="#l6.138"></a><span id="l6.138" class="difflineminus">-</span>
<a href="#l6.139"></a><span id="l6.139" class="difflineminus">-  SaveWindowLocation();</span>
<a href="#l6.140"></a><span id="l6.140" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1">deleted file mode 100644</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdFormProps.xul</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineplus">+++ /dev/null</span>
<a href="#l7.4"></a><span id="l7.4" class="difflineat">@@ -1,98 +0,0 @@</span>
<a href="#l7.5"></a><span id="l7.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l7.6"></a><span id="l7.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.7"></a><span id="l7.7" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.8"></a><span id="l7.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l7.9"></a><span id="l7.9" class="difflineminus">-</span>
<a href="#l7.10"></a><span id="l7.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l7.11"></a><span id="l7.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-&lt;!DOCTYPE dialog [</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-&lt;!ENTITY % edFormProperties SYSTEM &quot;chrome://messenger/locale/messengercompose/EditorFormProperties.dtd&quot;&gt;</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-%edFormProperties;</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-&lt;!ENTITY % edDialogOverlay SYSTEM &quot;chrome://messenger/locale/messengercompose/EdDialogOverlay.dtd&quot;&gt;</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineminus">-%edDialogOverlay;</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineminus">-]&gt;</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineminus">-&lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineminus">-        onload=&quot;Startup();&quot;</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineminus">-        buttons=&quot;accept,cancel&quot;&gt;</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineminus">-</span>
<a href="#l7.26"></a><span id="l7.26" class="difflineminus">-  &lt;!-- Methods common to all editor dialogs --&gt;</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/editorUtilities.js&quot;/&gt;</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdFormProps.js&quot;/&gt;</span>
<a href="#l7.30"></a><span id="l7.30" class="difflineminus">-</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/customElements.js&quot;/&gt;</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineminus">-</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineminus">-  &lt;spacer id=&quot;location&quot; offsetY=&quot;50&quot; persist=&quot;offsetX offsetY&quot;/&gt;</span>
<a href="#l7.34"></a><span id="l7.34" class="difflineminus">-</span>
<a href="#l7.35"></a><span id="l7.35" class="difflineminus">-  &lt;groupbox&gt;</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineminus">-    &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineminus">-      &lt;label class=&quot;header&quot;&gt;&amp;Settings.label;&lt;/label&gt;</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineminus">-    &lt;grid&gt;&lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineminus">-          &lt;label control=&quot;FormName&quot; value=&quot;&amp;FormName.label;&quot; accesskey=&quot;&amp;FormName.accesskey;&quot;/&gt;</span>
<a href="#l7.43"></a><span id="l7.43" class="difflineminus">-          &lt;textbox id=&quot;FormName&quot;/&gt;</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.46"></a><span id="l7.46" class="difflineminus">-          &lt;label control=&quot;FormAction&quot; value=&quot;&amp;FormAction.label;&quot; accesskey=&quot;&amp;FormAction.accesskey;&quot;/&gt;</span>
<a href="#l7.47"></a><span id="l7.47" class="difflineminus">-          &lt;textbox id=&quot;FormAction&quot;/&gt;</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineminus">-          &lt;label control=&quot;FormMethod&quot; value=&quot;&amp;FormMethod.label;&quot; accesskey=&quot;&amp;FormMethod.accesskey;&quot;/&gt;</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineminus">-            &lt;menulist is=&quot;menulist-editable&quot; id=&quot;FormMethod&quot; editable=&quot;true&quot; autoSelectMenuitem=&quot;true&quot;&gt;</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineminus">-              &lt;menupopup&gt;</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineminus">-                &lt;menuitem label=&quot;GET&quot;/&gt;</span>
<a href="#l7.55"></a><span id="l7.55" class="difflineminus">-                &lt;menuitem label=&quot;POST&quot;/&gt;</span>
<a href="#l7.56"></a><span id="l7.56" class="difflineminus">-              &lt;/menupopup&gt;</span>
<a href="#l7.57"></a><span id="l7.57" class="difflineminus">-            &lt;/menulist&gt;</span>
<a href="#l7.58"></a><span id="l7.58" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l7.59"></a><span id="l7.59" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l7.60"></a><span id="l7.60" class="difflineminus">-        &lt;hbox&gt;</span>
<a href="#l7.61"></a><span id="l7.61" class="difflineminus">-          &lt;button id=&quot;MoreFewerButton&quot; oncommand=&quot;onMoreFewer();&quot; persist=&quot;more&quot;/&gt;</span>
<a href="#l7.62"></a><span id="l7.62" class="difflineminus">-        &lt;/hbox&gt;</span>
<a href="#l7.63"></a><span id="l7.63" class="difflineminus">-        &lt;rows id=&quot;MoreSection&quot;&gt;</span>
<a href="#l7.64"></a><span id="l7.64" class="difflineminus">-          &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.65"></a><span id="l7.65" class="difflineminus">-            &lt;label control=&quot;FormEncType&quot; value=&quot;&amp;FormEncType.label;&quot; accesskey=&quot;&amp;FormEncType.accesskey;&quot;/&gt;</span>
<a href="#l7.66"></a><span id="l7.66" class="difflineminus">-            &lt;menulist is=&quot;menulist-editable&quot; id=&quot;FormEncType&quot; editable=&quot;true&quot; autoSelectMenuitem=&quot;true&quot;&gt;</span>
<a href="#l7.67"></a><span id="l7.67" class="difflineminus">-              &lt;menupopup&gt;</span>
<a href="#l7.68"></a><span id="l7.68" class="difflineminus">-                &lt;menuitem label=&quot;application/x-www-form-urlencoded&quot;/&gt;</span>
<a href="#l7.69"></a><span id="l7.69" class="difflineminus">-                &lt;menuitem label=&quot;multipart/form-data&quot;/&gt;</span>
<a href="#l7.70"></a><span id="l7.70" class="difflineminus">-                &lt;menuitem label=&quot;text/plain&quot;/&gt;</span>
<a href="#l7.71"></a><span id="l7.71" class="difflineminus">-              &lt;/menupopup&gt;</span>
<a href="#l7.72"></a><span id="l7.72" class="difflineminus">-            &lt;/menulist&gt;</span>
<a href="#l7.73"></a><span id="l7.73" class="difflineminus">-          &lt;/row&gt;</span>
<a href="#l7.74"></a><span id="l7.74" class="difflineminus">-          &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.75"></a><span id="l7.75" class="difflineminus">-            &lt;label control=&quot;FormTarget&quot; value=&quot;&amp;FormTarget.label;&quot; accesskey=&quot;&amp;FormTarget.accesskey;&quot;/&gt;</span>
<a href="#l7.76"></a><span id="l7.76" class="difflineminus">-            &lt;menulist is=&quot;menulist-editable&quot; id=&quot;FormTarget&quot; editable=&quot;true&quot; autoSelectMenuitem=&quot;true&quot;&gt;</span>
<a href="#l7.77"></a><span id="l7.77" class="difflineminus">-              &lt;menupopup&gt;</span>
<a href="#l7.78"></a><span id="l7.78" class="difflineminus">-                &lt;menuitem label=&quot;_blank&quot;/&gt;</span>
<a href="#l7.79"></a><span id="l7.79" class="difflineminus">-                &lt;menuitem label=&quot;_self&quot;/&gt;</span>
<a href="#l7.80"></a><span id="l7.80" class="difflineminus">-                &lt;menuitem label=&quot;_parent&quot;/&gt;</span>
<a href="#l7.81"></a><span id="l7.81" class="difflineminus">-                &lt;menuitem label=&quot;_top&quot;/&gt;</span>
<a href="#l7.82"></a><span id="l7.82" class="difflineminus">-              &lt;/menupopup&gt;</span>
<a href="#l7.83"></a><span id="l7.83" class="difflineminus">-            &lt;/menulist&gt;</span>
<a href="#l7.84"></a><span id="l7.84" class="difflineminus">-          &lt;/row&gt;</span>
<a href="#l7.85"></a><span id="l7.85" class="difflineminus">-        &lt;/rows&gt;</span>
<a href="#l7.86"></a><span id="l7.86" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l7.87"></a><span id="l7.87" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l7.88"></a><span id="l7.88" class="difflineminus">-  &lt;/groupbox&gt;</span>
<a href="#l7.89"></a><span id="l7.89" class="difflineminus">-</span>
<a href="#l7.90"></a><span id="l7.90" class="difflineminus">-  &lt;!-- from EdDialogOverlay --&gt;</span>
<a href="#l7.91"></a><span id="l7.91" class="difflineminus">-  &lt;hbox flex=&quot;1&quot; style=&quot;margin-top: 0.2em&quot;&gt;</span>
<a href="#l7.92"></a><span id="l7.92" class="difflineminus">-    &lt;button id=&quot;RemoveForm&quot; label=&quot;&amp;RemoveForm.label;&quot; accesskey=&quot;&amp;RemoveForm.accesskey;&quot; oncommand=&quot;RemoveForm();&quot;/&gt;</span>
<a href="#l7.93"></a><span id="l7.93" class="difflineminus">-    &lt;!-- This will right-align the button --&gt;</span>
<a href="#l7.94"></a><span id="l7.94" class="difflineminus">-    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l7.95"></a><span id="l7.95" class="difflineminus">-    &lt;button id=&quot;AdvancedEditButton&quot;</span>
<a href="#l7.96"></a><span id="l7.96" class="difflineminus">-            oncommand=&quot;onAdvancedEdit();&quot;</span>
<a href="#l7.97"></a><span id="l7.97" class="difflineminus">-            label=&quot;&amp;AdvancedEditButton.label;&quot;</span>
<a href="#l7.98"></a><span id="l7.98" class="difflineminus">-            accesskey=&quot;&amp;AdvancedEditButton.accessKey;&quot;</span>
<a href="#l7.99"></a><span id="l7.99" class="difflineminus">-            tooltiptext=&quot;&amp;AdvancedEditButton.tooltip;&quot;/&gt;</span>
<a href="#l7.100"></a><span id="l7.100" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l7.101"></a><span id="l7.101" class="difflineminus">-  &lt;separator class=&quot;groove&quot;/&gt;</span>
<a href="#l7.102"></a><span id="l7.102" class="difflineminus">-&lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1">deleted file mode 100644</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdInputProps.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineplus">+++ /dev/null</span>
<a href="#l8.4"></a><span id="l8.4" class="difflineat">@@ -1,345 +0,0 @@</span>
<a href="#l8.5"></a><span id="l8.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.6"></a><span id="l8.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.7"></a><span id="l8.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l8.8"></a><span id="l8.8" class="difflineminus">-</span>
<a href="#l8.9"></a><span id="l8.9" class="difflineminus">-/* import-globals-from ../editorUtilities.js */</span>
<a href="#l8.10"></a><span id="l8.10" class="difflineminus">-/* import-globals-from EdDialogCommon.js */</span>
<a href="#l8.11"></a><span id="l8.11" class="difflineminus">-</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-var insertNew;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-var inputElement;</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineminus">-</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">-// dialog initialization code</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineminus">-</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-document.addEventListener(&quot;dialogaccept&quot;, onAccept);</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineminus">-document.addEventListener(&quot;dialogcancel&quot;, onCancel);</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineminus">-</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineminus">-function Startup() {</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineminus">-  if (!editor) {</span>
<a href="#l8.23"></a><span id="l8.23" class="difflineminus">-    dump(&quot;Failed to get active editor!\n&quot;);</span>
<a href="#l8.24"></a><span id="l8.24" class="difflineminus">-    window.close();</span>
<a href="#l8.25"></a><span id="l8.25" class="difflineminus">-    return;</span>
<a href="#l8.26"></a><span id="l8.26" class="difflineminus">-  }</span>
<a href="#l8.27"></a><span id="l8.27" class="difflineminus">-</span>
<a href="#l8.28"></a><span id="l8.28" class="difflineminus">-  gDialog = {</span>
<a href="#l8.29"></a><span id="l8.29" class="difflineminus">-    accept: document.documentElement.getButton(&quot;accept&quot;),</span>
<a href="#l8.30"></a><span id="l8.30" class="difflineminus">-    inputType: document.getElementById(&quot;InputType&quot;),</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-    inputNameDeck: document.getElementById(&quot;InputNameDeck&quot;),</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineminus">-    inputName: document.getElementById(&quot;InputName&quot;),</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineminus">-    inputValueDeck: document.getElementById(&quot;InputValueDeck&quot;),</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineminus">-    inputValue: document.getElementById(&quot;InputValue&quot;),</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineminus">-    inputDeck: document.getElementById(&quot;InputDeck&quot;),</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineminus">-    inputChecked: document.getElementById(&quot;InputChecked&quot;),</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineminus">-    inputSelected: document.getElementById(&quot;InputSelected&quot;),</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineminus">-    inputReadOnly: document.getElementById(&quot;InputReadOnly&quot;),</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineminus">-    inputDisabled: document.getElementById(&quot;InputDisabled&quot;),</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineminus">-    inputTabIndex: document.getElementById(&quot;InputTabIndex&quot;),</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineminus">-    inputAccessKey: document.getElementById(&quot;InputAccessKey&quot;),</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineminus">-    inputSize: document.getElementById(&quot;InputSize&quot;),</span>
<a href="#l8.43"></a><span id="l8.43" class="difflineminus">-    inputMaxLength: document.getElementById(&quot;InputMaxLength&quot;),</span>
<a href="#l8.44"></a><span id="l8.44" class="difflineminus">-    inputAccept: document.getElementById(&quot;InputAccept&quot;),</span>
<a href="#l8.45"></a><span id="l8.45" class="difflineminus">-    MoreSection: document.getElementById(&quot;MoreSection&quot;),</span>
<a href="#l8.46"></a><span id="l8.46" class="difflineminus">-    MoreFewerButton: document.getElementById(&quot;MoreFewerButton&quot;),</span>
<a href="#l8.47"></a><span id="l8.47" class="difflineminus">-    AdvancedEditButton: document.getElementById(&quot;AdvancedEditButton&quot;),</span>
<a href="#l8.48"></a><span id="l8.48" class="difflineminus">-    AdvancedEditDeck: document.getElementById(&quot;AdvancedEditDeck&quot;),</span>
<a href="#l8.49"></a><span id="l8.49" class="difflineminus">-  };</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineminus">-</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineminus">-  // Get a single selected input element</span>
<a href="#l8.52"></a><span id="l8.52" class="difflineminus">-  const kTagName = &quot;input&quot;;</span>
<a href="#l8.53"></a><span id="l8.53" class="difflineminus">-  try {</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineminus">-    inputElement = editor.getSelectedElement(kTagName);</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineminus">-  } catch (e) {}</span>
<a href="#l8.56"></a><span id="l8.56" class="difflineminus">-</span>
<a href="#l8.57"></a><span id="l8.57" class="difflineminus">-  if (inputElement) {</span>
<a href="#l8.58"></a><span id="l8.58" class="difflineminus">-    // We found an element and don't need to insert one</span>
<a href="#l8.59"></a><span id="l8.59" class="difflineminus">-    insertNew = false;</span>
<a href="#l8.60"></a><span id="l8.60" class="difflineminus">-  } else {</span>
<a href="#l8.61"></a><span id="l8.61" class="difflineminus">-    insertNew = true;</span>
<a href="#l8.62"></a><span id="l8.62" class="difflineminus">-</span>
<a href="#l8.63"></a><span id="l8.63" class="difflineminus">-    // We don't have an element selected,</span>
<a href="#l8.64"></a><span id="l8.64" class="difflineminus">-    //  so create one with default attributes</span>
<a href="#l8.65"></a><span id="l8.65" class="difflineminus">-    try {</span>
<a href="#l8.66"></a><span id="l8.66" class="difflineminus">-      inputElement = editor.createElementWithDefaults(kTagName);</span>
<a href="#l8.67"></a><span id="l8.67" class="difflineminus">-    } catch (e) {}</span>
<a href="#l8.68"></a><span id="l8.68" class="difflineminus">-</span>
<a href="#l8.69"></a><span id="l8.69" class="difflineminus">-    if (!inputElement) {</span>
<a href="#l8.70"></a><span id="l8.70" class="difflineminus">-      dump(&quot;Failed to get selected element or create a new one!\n&quot;);</span>
<a href="#l8.71"></a><span id="l8.71" class="difflineminus">-      window.close();</span>
<a href="#l8.72"></a><span id="l8.72" class="difflineminus">-      return;</span>
<a href="#l8.73"></a><span id="l8.73" class="difflineminus">-    }</span>
<a href="#l8.74"></a><span id="l8.74" class="difflineminus">-</span>
<a href="#l8.75"></a><span id="l8.75" class="difflineminus">-    var imgElement = editor.getSelectedElement(&quot;img&quot;);</span>
<a href="#l8.76"></a><span id="l8.76" class="difflineminus">-    if (imgElement) {</span>
<a href="#l8.77"></a><span id="l8.77" class="difflineminus">-      // We found an image element, convert it to an input type=&quot;image&quot;</span>
<a href="#l8.78"></a><span id="l8.78" class="difflineminus">-      inputElement.setAttribute(&quot;type&quot;, &quot;image&quot;);</span>
<a href="#l8.79"></a><span id="l8.79" class="difflineminus">-</span>
<a href="#l8.80"></a><span id="l8.80" class="difflineminus">-      var attributes = [</span>
<a href="#l8.81"></a><span id="l8.81" class="difflineminus">-        &quot;src&quot;,</span>
<a href="#l8.82"></a><span id="l8.82" class="difflineminus">-        &quot;alt&quot;,</span>
<a href="#l8.83"></a><span id="l8.83" class="difflineminus">-        &quot;width&quot;,</span>
<a href="#l8.84"></a><span id="l8.84" class="difflineminus">-        &quot;height&quot;,</span>
<a href="#l8.85"></a><span id="l8.85" class="difflineminus">-        &quot;hspace&quot;,</span>
<a href="#l8.86"></a><span id="l8.86" class="difflineminus">-        &quot;vspace&quot;,</span>
<a href="#l8.87"></a><span id="l8.87" class="difflineminus">-        &quot;border&quot;,</span>
<a href="#l8.88"></a><span id="l8.88" class="difflineminus">-        &quot;align&quot;,</span>
<a href="#l8.89"></a><span id="l8.89" class="difflineminus">-      ];</span>
<a href="#l8.90"></a><span id="l8.90" class="difflineminus">-      for (let i in attributes) {</span>
<a href="#l8.91"></a><span id="l8.91" class="difflineminus">-        inputElement.setAttribute(</span>
<a href="#l8.92"></a><span id="l8.92" class="difflineminus">-          attributes[i],</span>
<a href="#l8.93"></a><span id="l8.93" class="difflineminus">-          imgElement.getAttribute(attributes[i])</span>
<a href="#l8.94"></a><span id="l8.94" class="difflineminus">-        );</span>
<a href="#l8.95"></a><span id="l8.95" class="difflineminus">-      }</span>
<a href="#l8.96"></a><span id="l8.96" class="difflineminus">-    } else {</span>
<a href="#l8.97"></a><span id="l8.97" class="difflineminus">-      inputElement.setAttribute(&quot;value&quot;, GetSelectionAsText());</span>
<a href="#l8.98"></a><span id="l8.98" class="difflineminus">-    }</span>
<a href="#l8.99"></a><span id="l8.99" class="difflineminus">-  }</span>
<a href="#l8.100"></a><span id="l8.100" class="difflineminus">-</span>
<a href="#l8.101"></a><span id="l8.101" class="difflineminus">-  // Make a copy to use for AdvancedEdit</span>
<a href="#l8.102"></a><span id="l8.102" class="difflineminus">-  globalElement = inputElement.cloneNode(false);</span>
<a href="#l8.103"></a><span id="l8.103" class="difflineminus">-</span>
<a href="#l8.104"></a><span id="l8.104" class="difflineminus">-  InitDialog();</span>
<a href="#l8.105"></a><span id="l8.105" class="difflineminus">-</span>
<a href="#l8.106"></a><span id="l8.106" class="difflineminus">-  InitMoreFewer();</span>
<a href="#l8.107"></a><span id="l8.107" class="difflineminus">-</span>
<a href="#l8.108"></a><span id="l8.108" class="difflineminus">-  gDialog.inputType.focus();</span>
<a href="#l8.109"></a><span id="l8.109" class="difflineminus">-</span>
<a href="#l8.110"></a><span id="l8.110" class="difflineminus">-  SetWindowLocation();</span>
<a href="#l8.111"></a><span id="l8.111" class="difflineminus">-}</span>
<a href="#l8.112"></a><span id="l8.112" class="difflineminus">-</span>
<a href="#l8.113"></a><span id="l8.113" class="difflineminus">-function InitDialog() {</span>
<a href="#l8.114"></a><span id="l8.114" class="difflineminus">-  var type = globalElement.getAttribute(&quot;type&quot;);</span>
<a href="#l8.115"></a><span id="l8.115" class="difflineminus">-  var index = 0;</span>
<a href="#l8.116"></a><span id="l8.116" class="difflineminus">-  switch (type) {</span>
<a href="#l8.117"></a><span id="l8.117" class="difflineminus">-    case &quot;button&quot;:</span>
<a href="#l8.118"></a><span id="l8.118" class="difflineminus">-      index = 9;</span>
<a href="#l8.119"></a><span id="l8.119" class="difflineminus">-      break;</span>
<a href="#l8.120"></a><span id="l8.120" class="difflineminus">-    case &quot;checkbox&quot;:</span>
<a href="#l8.121"></a><span id="l8.121" class="difflineminus">-      index = 2;</span>
<a href="#l8.122"></a><span id="l8.122" class="difflineminus">-      break;</span>
<a href="#l8.123"></a><span id="l8.123" class="difflineminus">-    case &quot;file&quot;:</span>
<a href="#l8.124"></a><span id="l8.124" class="difflineminus">-      index = 6;</span>
<a href="#l8.125"></a><span id="l8.125" class="difflineminus">-      break;</span>
<a href="#l8.126"></a><span id="l8.126" class="difflineminus">-    case &quot;hidden&quot;:</span>
<a href="#l8.127"></a><span id="l8.127" class="difflineminus">-      index = 7;</span>
<a href="#l8.128"></a><span id="l8.128" class="difflineminus">-      break;</span>
<a href="#l8.129"></a><span id="l8.129" class="difflineminus">-    case &quot;image&quot;:</span>
<a href="#l8.130"></a><span id="l8.130" class="difflineminus">-      index = 8;</span>
<a href="#l8.131"></a><span id="l8.131" class="difflineminus">-      break;</span>
<a href="#l8.132"></a><span id="l8.132" class="difflineminus">-    case &quot;password&quot;:</span>
<a href="#l8.133"></a><span id="l8.133" class="difflineminus">-      index = 1;</span>
<a href="#l8.134"></a><span id="l8.134" class="difflineminus">-      break;</span>
<a href="#l8.135"></a><span id="l8.135" class="difflineminus">-    case &quot;radio&quot;:</span>
<a href="#l8.136"></a><span id="l8.136" class="difflineminus">-      index = 3;</span>
<a href="#l8.137"></a><span id="l8.137" class="difflineminus">-      break;</span>
<a href="#l8.138"></a><span id="l8.138" class="difflineminus">-    case &quot;reset&quot;:</span>
<a href="#l8.139"></a><span id="l8.139" class="difflineminus">-      index = 5;</span>
<a href="#l8.140"></a><span id="l8.140" class="difflineminus">-      break;</span>
<a href="#l8.141"></a><span id="l8.141" class="difflineminus">-    case &quot;submit&quot;:</span>
<a href="#l8.142"></a><span id="l8.142" class="difflineminus">-      index = 4;</span>
<a href="#l8.143"></a><span id="l8.143" class="difflineminus">-      break;</span>
<a href="#l8.144"></a><span id="l8.144" class="difflineminus">-  }</span>
<a href="#l8.145"></a><span id="l8.145" class="difflineminus">-  gDialog.inputType.selectedIndex = index;</span>
<a href="#l8.146"></a><span id="l8.146" class="difflineminus">-  gDialog.inputName.value = globalElement.getAttribute(&quot;name&quot;);</span>
<a href="#l8.147"></a><span id="l8.147" class="difflineminus">-  gDialog.inputValue.value = globalElement.getAttribute(&quot;value&quot;);</span>
<a href="#l8.148"></a><span id="l8.148" class="difflineminus">-  gDialog.inputChecked.setAttribute(</span>
<a href="#l8.149"></a><span id="l8.149" class="difflineminus">-    &quot;checked&quot;,</span>
<a href="#l8.150"></a><span id="l8.150" class="difflineminus">-    globalElement.hasAttribute(&quot;checked&quot;)</span>
<a href="#l8.151"></a><span id="l8.151" class="difflineminus">-  );</span>
<a href="#l8.152"></a><span id="l8.152" class="difflineminus">-  gDialog.inputSelected.setAttribute(</span>
<a href="#l8.153"></a><span id="l8.153" class="difflineminus">-    &quot;checked&quot;,</span>
<a href="#l8.154"></a><span id="l8.154" class="difflineminus">-    globalElement.hasAttribute(&quot;checked&quot;)</span>
<a href="#l8.155"></a><span id="l8.155" class="difflineminus">-  );</span>
<a href="#l8.156"></a><span id="l8.156" class="difflineminus">-  gDialog.inputReadOnly.setAttribute(</span>
<a href="#l8.157"></a><span id="l8.157" class="difflineminus">-    &quot;checked&quot;,</span>
<a href="#l8.158"></a><span id="l8.158" class="difflineminus">-    globalElement.hasAttribute(&quot;readonly&quot;)</span>
<a href="#l8.159"></a><span id="l8.159" class="difflineminus">-  );</span>
<a href="#l8.160"></a><span id="l8.160" class="difflineminus">-  gDialog.inputDisabled.setAttribute(</span>
<a href="#l8.161"></a><span id="l8.161" class="difflineminus">-    &quot;checked&quot;,</span>
<a href="#l8.162"></a><span id="l8.162" class="difflineminus">-    globalElement.hasAttribute(&quot;disabled&quot;)</span>
<a href="#l8.163"></a><span id="l8.163" class="difflineminus">-  );</span>
<a href="#l8.164"></a><span id="l8.164" class="difflineminus">-  gDialog.inputTabIndex.value = globalElement.getAttribute(&quot;tabindex&quot;);</span>
<a href="#l8.165"></a><span id="l8.165" class="difflineminus">-  gDialog.inputAccessKey.value = globalElement.getAttribute(&quot;accesskey&quot;);</span>
<a href="#l8.166"></a><span id="l8.166" class="difflineminus">-  gDialog.inputSize.value = globalElement.getAttribute(&quot;size&quot;);</span>
<a href="#l8.167"></a><span id="l8.167" class="difflineminus">-  gDialog.inputMaxLength.value = globalElement.getAttribute(&quot;maxlength&quot;);</span>
<a href="#l8.168"></a><span id="l8.168" class="difflineminus">-  gDialog.inputAccept.value = globalElement.getAttribute(&quot;accept&quot;);</span>
<a href="#l8.169"></a><span id="l8.169" class="difflineminus">-  SelectInputType();</span>
<a href="#l8.170"></a><span id="l8.170" class="difflineminus">-}</span>
<a href="#l8.171"></a><span id="l8.171" class="difflineminus">-</span>
<a href="#l8.172"></a><span id="l8.172" class="difflineminus">-function SelectInputType() {</span>
<a href="#l8.173"></a><span id="l8.173" class="difflineminus">-  var index = gDialog.inputType.selectedIndex;</span>
<a href="#l8.174"></a><span id="l8.174" class="difflineminus">-  gDialog.AdvancedEditDeck.setAttribute(&quot;selectedIndex&quot;, 0);</span>
<a href="#l8.175"></a><span id="l8.175" class="difflineminus">-  gDialog.inputNameDeck.setAttribute(&quot;selectedIndex&quot;, 0);</span>
<a href="#l8.176"></a><span id="l8.176" class="difflineminus">-  gDialog.inputValueDeck.setAttribute(&quot;selectedIndex&quot;, 0);</span>
<a href="#l8.177"></a><span id="l8.177" class="difflineminus">-  gDialog.inputValue.disabled = false;</span>
<a href="#l8.178"></a><span id="l8.178" class="difflineminus">-  gDialog.inputChecked.disabled = index != 2;</span>
<a href="#l8.179"></a><span id="l8.179" class="difflineminus">-  gDialog.inputSelected.disabled = index != 3;</span>
<a href="#l8.180"></a><span id="l8.180" class="difflineminus">-  gDialog.inputReadOnly.disabled = index &gt; 1;</span>
<a href="#l8.181"></a><span id="l8.181" class="difflineminus">-  gDialog.inputTabIndex.disabled = index == 7;</span>
<a href="#l8.182"></a><span id="l8.182" class="difflineminus">-  gDialog.inputAccessKey.disabled = index == 7;</span>
<a href="#l8.183"></a><span id="l8.183" class="difflineminus">-  gDialog.inputSize.disabled = index &gt; 1;</span>
<a href="#l8.184"></a><span id="l8.184" class="difflineminus">-  gDialog.inputMaxLength.disabled = index &gt; 1;</span>
<a href="#l8.185"></a><span id="l8.185" class="difflineminus">-  gDialog.inputAccept.disabled = index != 6;</span>
<a href="#l8.186"></a><span id="l8.186" class="difflineminus">-  switch (index) {</span>
<a href="#l8.187"></a><span id="l8.187" class="difflineminus">-    case 0:</span>
<a href="#l8.188"></a><span id="l8.188" class="difflineminus">-    case 1:</span>
<a href="#l8.189"></a><span id="l8.189" class="difflineminus">-      gDialog.inputValueDeck.setAttribute(&quot;selectedIndex&quot;, 1);</span>
<a href="#l8.190"></a><span id="l8.190" class="difflineminus">-      gDialog.inputDeck.setAttribute(&quot;selectedIndex&quot;, 2);</span>
<a href="#l8.191"></a><span id="l8.191" class="difflineminus">-      break;</span>
<a href="#l8.192"></a><span id="l8.192" class="difflineminus">-    case 2:</span>
<a href="#l8.193"></a><span id="l8.193" class="difflineminus">-      gDialog.inputDeck.setAttribute(&quot;selectedIndex&quot;, 0);</span>
<a href="#l8.194"></a><span id="l8.194" class="difflineminus">-      break;</span>
<a href="#l8.195"></a><span id="l8.195" class="difflineminus">-    case 3:</span>
<a href="#l8.196"></a><span id="l8.196" class="difflineminus">-      gDialog.inputDeck.setAttribute(&quot;selectedIndex&quot;, 1);</span>
<a href="#l8.197"></a><span id="l8.197" class="difflineminus">-      gDialog.inputNameDeck.setAttribute(&quot;selectedIndex&quot;, 1);</span>
<a href="#l8.198"></a><span id="l8.198" class="difflineminus">-      break;</span>
<a href="#l8.199"></a><span id="l8.199" class="difflineminus">-    case 6:</span>
<a href="#l8.200"></a><span id="l8.200" class="difflineminus">-      gDialog.inputValue.disabled = true;</span>
<a href="#l8.201"></a><span id="l8.201" class="difflineminus">-      gDialog.inputAccept.disabled = false;</span>
<a href="#l8.202"></a><span id="l8.202" class="difflineminus">-      break;</span>
<a href="#l8.203"></a><span id="l8.203" class="difflineminus">-    case 8:</span>
<a href="#l8.204"></a><span id="l8.204" class="difflineminus">-      gDialog.inputValue.disabled = true;</span>
<a href="#l8.205"></a><span id="l8.205" class="difflineminus">-      gDialog.AdvancedEditDeck.setAttribute(&quot;selectedIndex&quot;, 1);</span>
<a href="#l8.206"></a><span id="l8.206" class="difflineminus">-      gDialog.inputName.removeEventListener(&quot;input&quot;, onInput);</span>
<a href="#l8.207"></a><span id="l8.207" class="difflineminus">-      break;</span>
<a href="#l8.208"></a><span id="l8.208" class="difflineminus">-    case 7:</span>
<a href="#l8.209"></a><span id="l8.209" class="difflineminus">-      gDialog.inputValueDeck.setAttribute(&quot;selectedIndex&quot;, 1);</span>
<a href="#l8.210"></a><span id="l8.210" class="difflineminus">-      break;</span>
<a href="#l8.211"></a><span id="l8.211" class="difflineminus">-  }</span>
<a href="#l8.212"></a><span id="l8.212" class="difflineminus">-  onInput();</span>
<a href="#l8.213"></a><span id="l8.213" class="difflineminus">-}</span>
<a href="#l8.214"></a><span id="l8.214" class="difflineminus">-</span>
<a href="#l8.215"></a><span id="l8.215" class="difflineminus">-function onInput() {</span>
<a href="#l8.216"></a><span id="l8.216" class="difflineminus">-  var disabled = false;</span>
<a href="#l8.217"></a><span id="l8.217" class="difflineminus">-  switch (gDialog.inputType.selectedIndex) {</span>
<a href="#l8.218"></a><span id="l8.218" class="difflineminus">-    case 3:</span>
<a href="#l8.219"></a><span id="l8.219" class="difflineminus">-      disabled = disabled || !gDialog.inputValue.value;</span>
<a href="#l8.220"></a><span id="l8.220" class="difflineminus">-      break;</span>
<a href="#l8.221"></a><span id="l8.221" class="difflineminus">-    case 4:</span>
<a href="#l8.222"></a><span id="l8.222" class="difflineminus">-    case 5:</span>
<a href="#l8.223"></a><span id="l8.223" class="difflineminus">-      break;</span>
<a href="#l8.224"></a><span id="l8.224" class="difflineminus">-    case 8:</span>
<a href="#l8.225"></a><span id="l8.225" class="difflineminus">-      disabled = !globalElement.hasAttribute(&quot;src&quot;);</span>
<a href="#l8.226"></a><span id="l8.226" class="difflineminus">-      break;</span>
<a href="#l8.227"></a><span id="l8.227" class="difflineminus">-    default:</span>
<a href="#l8.228"></a><span id="l8.228" class="difflineminus">-      disabled = !gDialog.inputName.value;</span>
<a href="#l8.229"></a><span id="l8.229" class="difflineminus">-      break;</span>
<a href="#l8.230"></a><span id="l8.230" class="difflineminus">-  }</span>
<a href="#l8.231"></a><span id="l8.231" class="difflineminus">-  if (gDialog.accept.disabled != disabled) {</span>
<a href="#l8.232"></a><span id="l8.232" class="difflineminus">-    gDialog.accept.disabled = disabled;</span>
<a href="#l8.233"></a><span id="l8.233" class="difflineminus">-    gDialog.AdvancedEditButton.disabled = disabled;</span>
<a href="#l8.234"></a><span id="l8.234" class="difflineminus">-  }</span>
<a href="#l8.235"></a><span id="l8.235" class="difflineminus">-}</span>
<a href="#l8.236"></a><span id="l8.236" class="difflineminus">-</span>
<a href="#l8.237"></a><span id="l8.237" class="difflineminus">-function doImageProperties() {</span>
<a href="#l8.238"></a><span id="l8.238" class="difflineminus">-  window.openDialog(</span>
<a href="#l8.239"></a><span id="l8.239" class="difflineminus">-    &quot;chrome://messenger/content/messengercompose/EdImageProps.xul&quot;,</span>
<a href="#l8.240"></a><span id="l8.240" class="difflineminus">-    &quot;_blank&quot;,</span>
<a href="#l8.241"></a><span id="l8.241" class="difflineminus">-    &quot;chrome,close,titlebar,modal&quot;,</span>
<a href="#l8.242"></a><span id="l8.242" class="difflineminus">-    globalElement</span>
<a href="#l8.243"></a><span id="l8.243" class="difflineminus">-  );</span>
<a href="#l8.244"></a><span id="l8.244" class="difflineminus">-  window.focus();</span>
<a href="#l8.245"></a><span id="l8.245" class="difflineminus">-  onInput();</span>
<a href="#l8.246"></a><span id="l8.246" class="difflineminus">-}</span>
<a href="#l8.247"></a><span id="l8.247" class="difflineminus">-</span>
<a href="#l8.248"></a><span id="l8.248" class="difflineminus">-function ValidateData() {</span>
<a href="#l8.249"></a><span id="l8.249" class="difflineminus">-  var attributes = {</span>
<a href="#l8.250"></a><span id="l8.250" class="difflineminus">-    type: &quot;&quot;,</span>
<a href="#l8.251"></a><span id="l8.251" class="difflineminus">-    name: gDialog.inputName.value,</span>
<a href="#l8.252"></a><span id="l8.252" class="difflineminus">-    value: gDialog.inputValue.value,</span>
<a href="#l8.253"></a><span id="l8.253" class="difflineminus">-    tabindex: gDialog.inputTabIndex.value,</span>
<a href="#l8.254"></a><span id="l8.254" class="difflineminus">-    accesskey: &quot;&quot;,</span>
<a href="#l8.255"></a><span id="l8.255" class="difflineminus">-    size: &quot;&quot;,</span>
<a href="#l8.256"></a><span id="l8.256" class="difflineminus">-    maxlength: &quot;&quot;,</span>
<a href="#l8.257"></a><span id="l8.257" class="difflineminus">-    accept: &quot;&quot;,</span>
<a href="#l8.258"></a><span id="l8.258" class="difflineminus">-  };</span>
<a href="#l8.259"></a><span id="l8.259" class="difflineminus">-  var index = gDialog.inputType.selectedIndex;</span>
<a href="#l8.260"></a><span id="l8.260" class="difflineminus">-  var flags = {</span>
<a href="#l8.261"></a><span id="l8.261" class="difflineminus">-    checked: false,</span>
<a href="#l8.262"></a><span id="l8.262" class="difflineminus">-    readonly: false,</span>
<a href="#l8.263"></a><span id="l8.263" class="difflineminus">-    disabled: gDialog.inputDisabled.checked,</span>
<a href="#l8.264"></a><span id="l8.264" class="difflineminus">-  };</span>
<a href="#l8.265"></a><span id="l8.265" class="difflineminus">-  switch (index) {</span>
<a href="#l8.266"></a><span id="l8.266" class="difflineminus">-    case 1:</span>
<a href="#l8.267"></a><span id="l8.267" class="difflineminus">-      attributes.type = &quot;password&quot;;</span>
<a href="#l8.268"></a><span id="l8.268" class="difflineminus">-    // Falls through</span>
<a href="#l8.269"></a><span id="l8.269" class="difflineminus">-    case 0:</span>
<a href="#l8.270"></a><span id="l8.270" class="difflineminus">-      flags.readonly = gDialog.inputReadOnly.checked;</span>
<a href="#l8.271"></a><span id="l8.271" class="difflineminus">-      attributes.size = gDialog.inputSize.value;</span>
<a href="#l8.272"></a><span id="l8.272" class="difflineminus">-      attributes.maxlength = gDialog.inputMaxLength.value;</span>
<a href="#l8.273"></a><span id="l8.273" class="difflineminus">-      break;</span>
<a href="#l8.274"></a><span id="l8.274" class="difflineminus">-    case 2:</span>
<a href="#l8.275"></a><span id="l8.275" class="difflineminus">-      attributes.type = &quot;checkbox&quot;;</span>
<a href="#l8.276"></a><span id="l8.276" class="difflineminus">-      flags.checked = gDialog.inputChecked.checked;</span>
<a href="#l8.277"></a><span id="l8.277" class="difflineminus">-      break;</span>
<a href="#l8.278"></a><span id="l8.278" class="difflineminus">-    case 3:</span>
<a href="#l8.279"></a><span id="l8.279" class="difflineminus">-      attributes.type = &quot;radio&quot;;</span>
<a href="#l8.280"></a><span id="l8.280" class="difflineminus">-      flags.checked = gDialog.inputSelected.checked;</span>
<a href="#l8.281"></a><span id="l8.281" class="difflineminus">-      break;</span>
<a href="#l8.282"></a><span id="l8.282" class="difflineminus">-    case 4:</span>
<a href="#l8.283"></a><span id="l8.283" class="difflineminus">-      attributes.type = &quot;submit&quot;;</span>
<a href="#l8.284"></a><span id="l8.284" class="difflineminus">-      attributes.accesskey = gDialog.inputAccessKey.value;</span>
<a href="#l8.285"></a><span id="l8.285" class="difflineminus">-      break;</span>
<a href="#l8.286"></a><span id="l8.286" class="difflineminus">-    case 5:</span>
<a href="#l8.287"></a><span id="l8.287" class="difflineminus">-      attributes.type = &quot;reset&quot;;</span>
<a href="#l8.288"></a><span id="l8.288" class="difflineminus">-      attributes.accesskey = gDialog.inputAccessKey.value;</span>
<a href="#l8.289"></a><span id="l8.289" class="difflineminus">-      break;</span>
<a href="#l8.290"></a><span id="l8.290" class="difflineminus">-    case 6:</span>
<a href="#l8.291"></a><span id="l8.291" class="difflineminus">-      attributes.type = &quot;file&quot;;</span>
<a href="#l8.292"></a><span id="l8.292" class="difflineminus">-      attributes.accept = gDialog.inputAccept.value;</span>
<a href="#l8.293"></a><span id="l8.293" class="difflineminus">-      attributes.value = &quot;&quot;;</span>
<a href="#l8.294"></a><span id="l8.294" class="difflineminus">-      break;</span>
<a href="#l8.295"></a><span id="l8.295" class="difflineminus">-    case 7:</span>
<a href="#l8.296"></a><span id="l8.296" class="difflineminus">-      attributes.type = &quot;hidden&quot;;</span>
<a href="#l8.297"></a><span id="l8.297" class="difflineminus">-      attributes.tabindex = &quot;&quot;;</span>
<a href="#l8.298"></a><span id="l8.298" class="difflineminus">-      break;</span>
<a href="#l8.299"></a><span id="l8.299" class="difflineminus">-    case 8:</span>
<a href="#l8.300"></a><span id="l8.300" class="difflineminus">-      attributes.type = &quot;image&quot;;</span>
<a href="#l8.301"></a><span id="l8.301" class="difflineminus">-      attributes.value = &quot;&quot;;</span>
<a href="#l8.302"></a><span id="l8.302" class="difflineminus">-      break;</span>
<a href="#l8.303"></a><span id="l8.303" class="difflineminus">-    case 9:</span>
<a href="#l8.304"></a><span id="l8.304" class="difflineminus">-      attributes.type = &quot;button&quot;;</span>
<a href="#l8.305"></a><span id="l8.305" class="difflineminus">-      attributes.accesskey = gDialog.inputAccessKey.value;</span>
<a href="#l8.306"></a><span id="l8.306" class="difflineminus">-      break;</span>
<a href="#l8.307"></a><span id="l8.307" class="difflineminus">-  }</span>
<a href="#l8.308"></a><span id="l8.308" class="difflineminus">-  for (var a in attributes) {</span>
<a href="#l8.309"></a><span id="l8.309" class="difflineminus">-    if (attributes[a]) {</span>
<a href="#l8.310"></a><span id="l8.310" class="difflineminus">-      globalElement.setAttribute(a, attributes[a]);</span>
<a href="#l8.311"></a><span id="l8.311" class="difflineminus">-    } else {</span>
<a href="#l8.312"></a><span id="l8.312" class="difflineminus">-      globalElement.removeAttribute(a);</span>
<a href="#l8.313"></a><span id="l8.313" class="difflineminus">-    }</span>
<a href="#l8.314"></a><span id="l8.314" class="difflineminus">-  }</span>
<a href="#l8.315"></a><span id="l8.315" class="difflineminus">-  for (var f in flags) {</span>
<a href="#l8.316"></a><span id="l8.316" class="difflineminus">-    if (flags[f]) {</span>
<a href="#l8.317"></a><span id="l8.317" class="difflineminus">-      globalElement.setAttribute(f, &quot;&quot;);</span>
<a href="#l8.318"></a><span id="l8.318" class="difflineminus">-    } else {</span>
<a href="#l8.319"></a><span id="l8.319" class="difflineminus">-      globalElement.removeAttribute(f);</span>
<a href="#l8.320"></a><span id="l8.320" class="difflineminus">-    }</span>
<a href="#l8.321"></a><span id="l8.321" class="difflineminus">-  }</span>
<a href="#l8.322"></a><span id="l8.322" class="difflineminus">-  return true;</span>
<a href="#l8.323"></a><span id="l8.323" class="difflineminus">-}</span>
<a href="#l8.324"></a><span id="l8.324" class="difflineminus">-</span>
<a href="#l8.325"></a><span id="l8.325" class="difflineminus">-function onAccept(event) {</span>
<a href="#l8.326"></a><span id="l8.326" class="difflineminus">-  if (ValidateData()) {</span>
<a href="#l8.327"></a><span id="l8.327" class="difflineminus">-    // All values are valid - copy to actual element in doc or</span>
<a href="#l8.328"></a><span id="l8.328" class="difflineminus">-    //   element created to insert</span>
<a href="#l8.329"></a><span id="l8.329" class="difflineminus">-</span>
<a href="#l8.330"></a><span id="l8.330" class="difflineminus">-    var editor = GetCurrentEditor();</span>
<a href="#l8.331"></a><span id="l8.331" class="difflineminus">-</span>
<a href="#l8.332"></a><span id="l8.332" class="difflineminus">-    editor.cloneAttributes(inputElement, globalElement);</span>
<a href="#l8.333"></a><span id="l8.333" class="difflineminus">-</span>
<a href="#l8.334"></a><span id="l8.334" class="difflineminus">-    if (insertNew) {</span>
<a href="#l8.335"></a><span id="l8.335" class="difflineminus">-      try {</span>
<a href="#l8.336"></a><span id="l8.336" class="difflineminus">-        // 'true' means delete the selection before inserting</span>
<a href="#l8.337"></a><span id="l8.337" class="difflineminus">-        // in case were are converting an image to an input type=&quot;image&quot;</span>
<a href="#l8.338"></a><span id="l8.338" class="difflineminus">-        editor.insertElementAtSelection(inputElement, true);</span>
<a href="#l8.339"></a><span id="l8.339" class="difflineminus">-      } catch (e) {</span>
<a href="#l8.340"></a><span id="l8.340" class="difflineminus">-        dump(e);</span>
<a href="#l8.341"></a><span id="l8.341" class="difflineminus">-      }</span>
<a href="#l8.342"></a><span id="l8.342" class="difflineminus">-    }</span>
<a href="#l8.343"></a><span id="l8.343" class="difflineminus">-</span>
<a href="#l8.344"></a><span id="l8.344" class="difflineminus">-    SaveWindowLocation();</span>
<a href="#l8.345"></a><span id="l8.345" class="difflineminus">-</span>
<a href="#l8.346"></a><span id="l8.346" class="difflineminus">-    return;</span>
<a href="#l8.347"></a><span id="l8.347" class="difflineminus">-  }</span>
<a href="#l8.348"></a><span id="l8.348" class="difflineminus">-  event.preventDefault();</span>
<a href="#l8.349"></a><span id="l8.349" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1">deleted file mode 100644</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdInputProps.xul</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineplus">+++ /dev/null</span>
<a href="#l9.4"></a><span id="l9.4" class="difflineat">@@ -1,135 +0,0 @@</span>
<a href="#l9.5"></a><span id="l9.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l9.6"></a><span id="l9.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.7"></a><span id="l9.7" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.8"></a><span id="l9.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineminus">-</span>
<a href="#l9.10"></a><span id="l9.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-&lt;!DOCTYPE dialog [</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineminus">-&lt;!ENTITY % edInputProperties SYSTEM &quot;chrome://messenger/locale/messengercompose/EditorInputProperties.dtd&quot;&gt;</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineminus">-%edInputProperties;</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineminus">-&lt;!ENTITY % edDialogOverlay SYSTEM &quot;chrome://messenger/locale/messengercompose/EdDialogOverlay.dtd&quot;&gt;</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineminus">-%edDialogOverlay;</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineminus">-]&gt;</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineminus">-</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineminus">-&lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineminus">-        onload=&quot;Startup();&quot;</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineminus">-        buttons=&quot;accept,cancel&quot;&gt;</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineminus">-</span>
<a href="#l9.25"></a><span id="l9.25" class="difflineminus">-  &lt;!-- Methods common to all editor dialogs --&gt;</span>
<a href="#l9.26"></a><span id="l9.26" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/editorUtilities.js&quot;/&gt;</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdInputProps.js&quot;/&gt;</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineminus">-</span>
<a href="#l9.30"></a><span id="l9.30" class="difflineminus">-  &lt;spacer id=&quot;location&quot; offsetY=&quot;50&quot; persist=&quot;offsetX offsetY&quot;/&gt;</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineminus">-</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineminus">-  &lt;groupbox&gt;</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineminus">-    &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineminus">-      &lt;label class=&quot;header&quot; control=&quot;InputType&quot; accesskey=&quot;&amp;InputType.accesskey;&quot;&gt;&amp;InputType.label;&lt;/label&gt;</span>
<a href="#l9.35"></a><span id="l9.35" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineminus">-    &lt;menulist id=&quot;InputType&quot; oncommand=&quot;SelectInputType();&quot;&gt;</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineminus">-      &lt;menupopup&gt;</span>
<a href="#l9.38"></a><span id="l9.38" class="difflineminus">-        &lt;menuitem label=&quot;&amp;text.value;&quot;/&gt;</span>
<a href="#l9.39"></a><span id="l9.39" class="difflineminus">-        &lt;menuitem label=&quot;&amp;password.value;&quot;/&gt;</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineminus">-        &lt;menuitem label=&quot;&amp;checkbox.value;&quot;/&gt;</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineminus">-        &lt;menuitem label=&quot;&amp;radio.value;&quot;/&gt;</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineminus">-        &lt;menuitem label=&quot;&amp;submit.value;&quot;/&gt;</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineminus">-        &lt;menuitem label=&quot;&amp;reset.value;&quot;/&gt;</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineminus">-        &lt;menuitem label=&quot;&amp;file.value;&quot;/&gt;</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineminus">-        &lt;menuitem label=&quot;&amp;hidden.value;&quot;/&gt;</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineminus">-        &lt;menuitem label=&quot;&amp;image.value;&quot;/&gt;</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineminus">-        &lt;menuitem label=&quot;&amp;button.value;&quot;/&gt;</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineminus">-      &lt;/menupopup&gt;</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineminus">-    &lt;/menulist&gt;</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineminus">-  &lt;/groupbox&gt;</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineminus">-</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineminus">-  &lt;groupbox&gt;</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineminus">-    &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineminus">-      &lt;label class=&quot;header&quot;&gt;&amp;InputSettings.label;&lt;/label&gt;</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineminus">-    &lt;grid&gt;&lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l9.58"></a><span id="l9.58" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.59"></a><span id="l9.59" class="difflineminus">-          &lt;deck id=&quot;InputNameDeck&quot;&gt;</span>
<a href="#l9.60"></a><span id="l9.60" class="difflineminus">-            &lt;label control=&quot;InputName&quot; value=&quot;&amp;InputName.label;&quot; accesskey=&quot;&amp;InputName.accesskey;&quot;/&gt;</span>
<a href="#l9.61"></a><span id="l9.61" class="difflineminus">-            &lt;label control=&quot;InputName&quot; value=&quot;&amp;GroupName.label;&quot; accesskey=&quot;&amp;GroupName.accesskey;&quot;/&gt;</span>
<a href="#l9.62"></a><span id="l9.62" class="difflineminus">-          &lt;/deck&gt;</span>
<a href="#l9.63"></a><span id="l9.63" class="difflineminus">-          &lt;textbox id=&quot;InputName&quot; oninput=&quot;onInput();&quot;/&gt;</span>
<a href="#l9.64"></a><span id="l9.64" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.66"></a><span id="l9.66" class="difflineminus">-          &lt;deck id=&quot;InputValueDeck&quot;&gt;</span>
<a href="#l9.67"></a><span id="l9.67" class="difflineminus">-            &lt;label control=&quot;InputValue&quot; value=&quot;&amp;InputValue.label;&quot; accesskey=&quot;&amp;InputValue.accesskey;&quot;/&gt;</span>
<a href="#l9.68"></a><span id="l9.68" class="difflineminus">-            &lt;label control=&quot;InputValue&quot; value=&quot;&amp;InitialValue.label;&quot; accesskey=&quot;&amp;InitialValue.accesskey;&quot;/&gt;</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineminus">-          &lt;/deck&gt;</span>
<a href="#l9.70"></a><span id="l9.70" class="difflineminus">-          &lt;textbox id=&quot;InputValue&quot; oninput=&quot;onInput();&quot;/&gt;</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineminus">-        &lt;row&gt;</span>
<a href="#l9.73"></a><span id="l9.73" class="difflineminus">-          &lt;spacer/&gt;</span>
<a href="#l9.74"></a><span id="l9.74" class="difflineminus">-          &lt;deck id=&quot;InputDeck&quot; persist=&quot;index&quot;&gt;</span>
<a href="#l9.75"></a><span id="l9.75" class="difflineminus">-            &lt;checkbox id=&quot;InputChecked&quot; label=&quot;&amp;InputChecked.label;&quot; accesskey=&quot;&amp;InputChecked.accesskey;&quot;/&gt;</span>
<a href="#l9.76"></a><span id="l9.76" class="difflineminus">-            &lt;checkbox id=&quot;InputSelected&quot; label=&quot;&amp;InputSelected.label;&quot; accesskey=&quot;&amp;InputSelected.accesskey;&quot;/&gt;</span>
<a href="#l9.77"></a><span id="l9.77" class="difflineminus">-            &lt;checkbox id=&quot;InputReadOnly&quot; label=&quot;&amp;InputReadOnly.label;&quot; accesskey=&quot;&amp;InputReadOnly.accesskey;&quot;/&gt;</span>
<a href="#l9.78"></a><span id="l9.78" class="difflineminus">-          &lt;/deck&gt;</span>
<a href="#l9.79"></a><span id="l9.79" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l9.80"></a><span id="l9.80" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l9.81"></a><span id="l9.81" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l9.82"></a><span id="l9.82" class="difflineminus">-    &lt;hbox&gt;</span>
<a href="#l9.83"></a><span id="l9.83" class="difflineminus">-      &lt;button id=&quot;MoreFewerButton&quot; oncommand=&quot;onMoreFewer();&quot; persist=&quot;more&quot;/&gt;</span>
<a href="#l9.84"></a><span id="l9.84" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l9.85"></a><span id="l9.85" class="difflineminus">-    &lt;grid id=&quot;MoreSection&quot; align=&quot;start&quot;&gt;</span>
<a href="#l9.86"></a><span id="l9.86" class="difflineminus">-      &lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l9.87"></a><span id="l9.87" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l9.88"></a><span id="l9.88" class="difflineminus">-        &lt;row&gt;</span>
<a href="#l9.89"></a><span id="l9.89" class="difflineminus">-          &lt;spacer/&gt;</span>
<a href="#l9.90"></a><span id="l9.90" class="difflineminus">-          &lt;checkbox id=&quot;InputDisabled&quot; label=&quot;&amp;InputDisabled.label;&quot; accesskey=&quot;&amp;InputDisabled.accesskey;&quot;/&gt;</span>
<a href="#l9.91"></a><span id="l9.91" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l9.92"></a><span id="l9.92" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.93"></a><span id="l9.93" class="difflineminus">-          &lt;label control=&quot;InputTabIndex&quot; value=&quot;&amp;tabIndex.label;&quot; accesskey=&quot;&amp;tabIndex.accesskey;&quot;/&gt;</span>
<a href="#l9.94"></a><span id="l9.94" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l9.95"></a><span id="l9.95" class="difflineminus">-            &lt;textbox id=&quot;InputTabIndex&quot; class=&quot;narrow&quot; oninput=&quot;forceInteger(this.id);&quot;/&gt;</span>
<a href="#l9.96"></a><span id="l9.96" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l9.97"></a><span id="l9.97" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l9.98"></a><span id="l9.98" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.99"></a><span id="l9.99" class="difflineminus">-          &lt;label control=&quot;InputAccessKey&quot; value=&quot;&amp;AccessKey.label;&quot; accesskey=&quot;&amp;AccessKey.accesskey;&quot;/&gt;</span>
<a href="#l9.100"></a><span id="l9.100" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l9.101"></a><span id="l9.101" class="difflineminus">-            &lt;textbox id=&quot;InputAccessKey&quot; class=&quot;narrow&quot;/&gt;</span>
<a href="#l9.102"></a><span id="l9.102" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l9.103"></a><span id="l9.103" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l9.104"></a><span id="l9.104" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.105"></a><span id="l9.105" class="difflineminus">-          &lt;label control=&quot;InputSize&quot; value=&quot;&amp;TextSize.label;&quot; accesskey=&quot;&amp;TextSize.accesskey;&quot;/&gt;</span>
<a href="#l9.106"></a><span id="l9.106" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l9.107"></a><span id="l9.107" class="difflineminus">-            &lt;textbox id=&quot;InputSize&quot; class=&quot;narrow&quot; oninput=&quot;forceInteger(this.id);&quot;/&gt;</span>
<a href="#l9.108"></a><span id="l9.108" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l9.109"></a><span id="l9.109" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l9.110"></a><span id="l9.110" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.111"></a><span id="l9.111" class="difflineminus">-          &lt;label control=&quot;InputMaxLength&quot; value=&quot;&amp;TextLength.label;&quot; accesskey=&quot;&amp;TextLength.accesskey;&quot;/&gt;</span>
<a href="#l9.112"></a><span id="l9.112" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l9.113"></a><span id="l9.113" class="difflineminus">-            &lt;textbox id=&quot;InputMaxLength&quot; class=&quot;narrow&quot; oninput=&quot;forceInteger(this.id);&quot;/&gt;</span>
<a href="#l9.114"></a><span id="l9.114" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l9.115"></a><span id="l9.115" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l9.116"></a><span id="l9.116" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.117"></a><span id="l9.117" class="difflineminus">-          &lt;label control=&quot;InputAccept&quot; value=&quot;&amp;Accept.label;&quot; accesskey=&quot;&amp;Accept.accesskey;&quot;/&gt;</span>
<a href="#l9.118"></a><span id="l9.118" class="difflineminus">-          &lt;textbox id=&quot;InputAccept&quot;/&gt;</span>
<a href="#l9.119"></a><span id="l9.119" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l9.120"></a><span id="l9.120" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l9.121"></a><span id="l9.121" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l9.122"></a><span id="l9.122" class="difflineminus">-  &lt;/groupbox&gt;</span>
<a href="#l9.123"></a><span id="l9.123" class="difflineminus">-</span>
<a href="#l9.124"></a><span id="l9.124" class="difflineminus">-  &lt;!-- from EdDialogOverlay --&gt;</span>
<a href="#l9.125"></a><span id="l9.125" class="difflineminus">-  &lt;hbox flex=&quot;1&quot; style=&quot;margin-top: 0.2em&quot;&gt;</span>
<a href="#l9.126"></a><span id="l9.126" class="difflineminus">-    &lt;!-- This will right-align the button --&gt;</span>
<a href="#l9.127"></a><span id="l9.127" class="difflineminus">-    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l9.128"></a><span id="l9.128" class="difflineminus">-    &lt;deck id=&quot;AdvancedEditDeck&quot;&gt;</span>
<a href="#l9.129"></a><span id="l9.129" class="difflineminus">-      &lt;button id=&quot;AdvancedEditButton&quot;</span>
<a href="#l9.130"></a><span id="l9.130" class="difflineminus">-        oncommand=&quot;onAdvancedEdit();&quot;</span>
<a href="#l9.131"></a><span id="l9.131" class="difflineminus">-        label=&quot;&amp;AdvancedEditButton.label;&quot;</span>
<a href="#l9.132"></a><span id="l9.132" class="difflineminus">-        accesskey=&quot;&amp;AdvancedEditButton.accessKey;&quot;</span>
<a href="#l9.133"></a><span id="l9.133" class="difflineminus">-        tooltiptext=&quot;&amp;AdvancedEditButton.tooltip;&quot;/&gt;</span>
<a href="#l9.134"></a><span id="l9.134" class="difflineminus">-      &lt;button label=&quot;&amp;ImageProperties.label;&quot; accesskey=&quot;&amp;ImageProperties.accesskey;&quot; oncommand=&quot;doImageProperties();&quot;/&gt;</span>
<a href="#l9.135"></a><span id="l9.135" class="difflineminus">-    &lt;/deck&gt;</span>
<a href="#l9.136"></a><span id="l9.136" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l9.137"></a><span id="l9.137" class="difflineminus">-  &lt;separator class=&quot;groove&quot;/&gt;</span>
<a href="#l9.138"></a><span id="l9.138" class="difflineminus">-</span>
<a href="#l9.139"></a><span id="l9.139" class="difflineminus">-&lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1">deleted file mode 100644</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdLabelProps.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineplus">+++ /dev/null</span>
<a href="#l10.4"></a><span id="l10.4" class="difflineat">@@ -1,118 +0,0 @@</span>
<a href="#l10.5"></a><span id="l10.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.6"></a><span id="l10.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.7"></a><span id="l10.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.8"></a><span id="l10.8" class="difflineminus">-</span>
<a href="#l10.9"></a><span id="l10.9" class="difflineminus">-/* import-globals-from ../editorUtilities.js */</span>
<a href="#l10.10"></a><span id="l10.10" class="difflineminus">-/* import-globals-from EdDialogCommon.js */</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineminus">-</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-var labelElement;</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">-</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineminus">-// dialog initialization code</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineminus">-</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineminus">-document.addEventListener(&quot;dialogaccept&quot;, onAccept);</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineminus">-document.addEventListener(&quot;dialogcancel&quot;, onCancel);</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineminus">-</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineminus">-function Startup() {</span>
<a href="#l10.20"></a><span id="l10.20" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineminus">-  if (!editor) {</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineminus">-    dump(&quot;Failed to get active editor!\n&quot;);</span>
<a href="#l10.23"></a><span id="l10.23" class="difflineminus">-    window.close();</span>
<a href="#l10.24"></a><span id="l10.24" class="difflineminus">-    return;</span>
<a href="#l10.25"></a><span id="l10.25" class="difflineminus">-  }</span>
<a href="#l10.26"></a><span id="l10.26" class="difflineminus">-</span>
<a href="#l10.27"></a><span id="l10.27" class="difflineminus">-  gDialog.editText = document.getElementById(&quot;EditText&quot;);</span>
<a href="#l10.28"></a><span id="l10.28" class="difflineminus">-  gDialog.labelText = document.getElementById(&quot;LabelText&quot;);</span>
<a href="#l10.29"></a><span id="l10.29" class="difflineminus">-  gDialog.labelFor = document.getElementById(&quot;LabelFor&quot;);</span>
<a href="#l10.30"></a><span id="l10.30" class="difflineminus">-  gDialog.labelAccessKey = document.getElementById(&quot;LabelAccessKey&quot;);</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineminus">-  labelElement = window.arguments[0];</span>
<a href="#l10.33"></a><span id="l10.33" class="difflineminus">-</span>
<a href="#l10.34"></a><span id="l10.34" class="difflineminus">-  // Make a copy to use for AdvancedEdit</span>
<a href="#l10.35"></a><span id="l10.35" class="difflineminus">-  globalElement = labelElement.cloneNode(false);</span>
<a href="#l10.36"></a><span id="l10.36" class="difflineminus">-</span>
<a href="#l10.37"></a><span id="l10.37" class="difflineminus">-  InitDialog();</span>
<a href="#l10.38"></a><span id="l10.38" class="difflineminus">-</span>
<a href="#l10.39"></a><span id="l10.39" class="difflineminus">-  var range = editor.document.createRange();</span>
<a href="#l10.40"></a><span id="l10.40" class="difflineminus">-  range.selectNode(labelElement);</span>
<a href="#l10.41"></a><span id="l10.41" class="difflineminus">-  gDialog.labelText.value = range.toString();</span>
<a href="#l10.42"></a><span id="l10.42" class="difflineminus">-</span>
<a href="#l10.43"></a><span id="l10.43" class="difflineminus">-  if (labelElement.innerHTML.includes(&quot;&lt;&quot;)) {</span>
<a href="#l10.44"></a><span id="l10.44" class="difflineminus">-    gDialog.editText.checked = false;</span>
<a href="#l10.45"></a><span id="l10.45" class="difflineminus">-    gDialog.editText.disabled = false;</span>
<a href="#l10.46"></a><span id="l10.46" class="difflineminus">-    gDialog.labelText.disabled = true;</span>
<a href="#l10.47"></a><span id="l10.47" class="difflineminus">-    gDialog.editText.addEventListener(</span>
<a href="#l10.48"></a><span id="l10.48" class="difflineminus">-      &quot;command&quot;,</span>
<a href="#l10.49"></a><span id="l10.49" class="difflineminus">-      () =&gt;</span>
<a href="#l10.50"></a><span id="l10.50" class="difflineminus">-        Services.prompt.alert(</span>
<a href="#l10.51"></a><span id="l10.51" class="difflineminus">-          window,</span>
<a href="#l10.52"></a><span id="l10.52" class="difflineminus">-          GetString(&quot;Alert&quot;),</span>
<a href="#l10.53"></a><span id="l10.53" class="difflineminus">-          GetString(&quot;EditTextWarning&quot;)</span>
<a href="#l10.54"></a><span id="l10.54" class="difflineminus">-        ),</span>
<a href="#l10.55"></a><span id="l10.55" class="difflineminus">-      { capture: false, once: true }</span>
<a href="#l10.56"></a><span id="l10.56" class="difflineminus">-    );</span>
<a href="#l10.57"></a><span id="l10.57" class="difflineminus">-    SetTextboxFocus(gDialog.labelFor);</span>
<a href="#l10.58"></a><span id="l10.58" class="difflineminus">-  } else {</span>
<a href="#l10.59"></a><span id="l10.59" class="difflineminus">-    SetTextboxFocus(gDialog.labelText);</span>
<a href="#l10.60"></a><span id="l10.60" class="difflineminus">-  }</span>
<a href="#l10.61"></a><span id="l10.61" class="difflineminus">-</span>
<a href="#l10.62"></a><span id="l10.62" class="difflineminus">-  SetWindowLocation();</span>
<a href="#l10.63"></a><span id="l10.63" class="difflineminus">-}</span>
<a href="#l10.64"></a><span id="l10.64" class="difflineminus">-</span>
<a href="#l10.65"></a><span id="l10.65" class="difflineminus">-function InitDialog() {</span>
<a href="#l10.66"></a><span id="l10.66" class="difflineminus">-  gDialog.labelFor.value = globalElement.getAttribute(&quot;for&quot;);</span>
<a href="#l10.67"></a><span id="l10.67" class="difflineminus">-  gDialog.labelAccessKey.value = globalElement.getAttribute(&quot;accesskey&quot;);</span>
<a href="#l10.68"></a><span id="l10.68" class="difflineminus">-}</span>
<a href="#l10.69"></a><span id="l10.69" class="difflineminus">-</span>
<a href="#l10.70"></a><span id="l10.70" class="difflineminus">-function RemoveLabel() {</span>
<a href="#l10.71"></a><span id="l10.71" class="difflineminus">-  RemoveContainer(labelElement);</span>
<a href="#l10.72"></a><span id="l10.72" class="difflineminus">-  SaveWindowLocation();</span>
<a href="#l10.73"></a><span id="l10.73" class="difflineminus">-  window.close();</span>
<a href="#l10.74"></a><span id="l10.74" class="difflineminus">-}</span>
<a href="#l10.75"></a><span id="l10.75" class="difflineminus">-</span>
<a href="#l10.76"></a><span id="l10.76" class="difflineminus">-function ValidateData() {</span>
<a href="#l10.77"></a><span id="l10.77" class="difflineminus">-  if (gDialog.labelFor.value) {</span>
<a href="#l10.78"></a><span id="l10.78" class="difflineminus">-    globalElement.setAttribute(&quot;for&quot;, gDialog.labelFor.value);</span>
<a href="#l10.79"></a><span id="l10.79" class="difflineminus">-  } else {</span>
<a href="#l10.80"></a><span id="l10.80" class="difflineminus">-    globalElement.removeAttribute(&quot;for&quot;);</span>
<a href="#l10.81"></a><span id="l10.81" class="difflineminus">-  }</span>
<a href="#l10.82"></a><span id="l10.82" class="difflineminus">-  if (gDialog.labelAccessKey.value) {</span>
<a href="#l10.83"></a><span id="l10.83" class="difflineminus">-    globalElement.setAttribute(&quot;accesskey&quot;, gDialog.labelAccessKey.value);</span>
<a href="#l10.84"></a><span id="l10.84" class="difflineminus">-  } else {</span>
<a href="#l10.85"></a><span id="l10.85" class="difflineminus">-    globalElement.removeAttribute(&quot;accesskey&quot;);</span>
<a href="#l10.86"></a><span id="l10.86" class="difflineminus">-  }</span>
<a href="#l10.87"></a><span id="l10.87" class="difflineminus">-  return true;</span>
<a href="#l10.88"></a><span id="l10.88" class="difflineminus">-}</span>
<a href="#l10.89"></a><span id="l10.89" class="difflineminus">-</span>
<a href="#l10.90"></a><span id="l10.90" class="difflineminus">-function onAccept() {</span>
<a href="#l10.91"></a><span id="l10.91" class="difflineminus">-  // All values are valid - copy to actual element in doc</span>
<a href="#l10.92"></a><span id="l10.92" class="difflineminus">-  ValidateData();</span>
<a href="#l10.93"></a><span id="l10.93" class="difflineminus">-</span>
<a href="#l10.94"></a><span id="l10.94" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l10.95"></a><span id="l10.95" class="difflineminus">-</span>
<a href="#l10.96"></a><span id="l10.96" class="difflineminus">-  editor.beginTransaction();</span>
<a href="#l10.97"></a><span id="l10.97" class="difflineminus">-</span>
<a href="#l10.98"></a><span id="l10.98" class="difflineminus">-  try {</span>
<a href="#l10.99"></a><span id="l10.99" class="difflineminus">-    if (gDialog.editText.checked) {</span>
<a href="#l10.100"></a><span id="l10.100" class="difflineminus">-      editor.setShouldTxnSetSelection(false);</span>
<a href="#l10.101"></a><span id="l10.101" class="difflineminus">-</span>
<a href="#l10.102"></a><span id="l10.102" class="difflineminus">-      while (labelElement.firstChild) {</span>
<a href="#l10.103"></a><span id="l10.103" class="difflineminus">-        editor.deleteNode(labelElement.firstChild);</span>
<a href="#l10.104"></a><span id="l10.104" class="difflineminus">-      }</span>
<a href="#l10.105"></a><span id="l10.105" class="difflineminus">-      if (gDialog.labelText.value) {</span>
<a href="#l10.106"></a><span id="l10.106" class="difflineminus">-        editor.insertNode(</span>
<a href="#l10.107"></a><span id="l10.107" class="difflineminus">-          editor.document.createTextNode(gDialog.labelText.value),</span>
<a href="#l10.108"></a><span id="l10.108" class="difflineminus">-          labelElement,</span>
<a href="#l10.109"></a><span id="l10.109" class="difflineminus">-          0</span>
<a href="#l10.110"></a><span id="l10.110" class="difflineminus">-        );</span>
<a href="#l10.111"></a><span id="l10.111" class="difflineminus">-      }</span>
<a href="#l10.112"></a><span id="l10.112" class="difflineminus">-</span>
<a href="#l10.113"></a><span id="l10.113" class="difflineminus">-      editor.setShouldTxnSetSelection(true);</span>
<a href="#l10.114"></a><span id="l10.114" class="difflineminus">-    }</span>
<a href="#l10.115"></a><span id="l10.115" class="difflineminus">-</span>
<a href="#l10.116"></a><span id="l10.116" class="difflineminus">-    editor.cloneAttributes(labelElement, globalElement);</span>
<a href="#l10.117"></a><span id="l10.117" class="difflineminus">-  } catch (e) {}</span>
<a href="#l10.118"></a><span id="l10.118" class="difflineminus">-</span>
<a href="#l10.119"></a><span id="l10.119" class="difflineminus">-  editor.endTransaction();</span>
<a href="#l10.120"></a><span id="l10.120" class="difflineminus">-</span>
<a href="#l10.121"></a><span id="l10.121" class="difflineminus">-  SaveWindowLocation();</span>
<a href="#l10.122"></a><span id="l10.122" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1">deleted file mode 100644</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdLabelProps.xul</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineplus">+++ /dev/null</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineat">@@ -1,66 +0,0 @@</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l11.6"></a><span id="l11.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.7"></a><span id="l11.7" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.8"></a><span id="l11.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineminus">-</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-&lt;!DOCTYPE dialog [</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineminus">-&lt;!ENTITY % edLabelProperties SYSTEM &quot;chrome://messenger/locale/messengercompose/EditorLabelProperties.dtd&quot;&gt;</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-%edLabelProperties;</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineminus">-&lt;!ENTITY % edDialogOverlay SYSTEM &quot;chrome://messenger/locale/messengercompose/EdDialogOverlay.dtd&quot;&gt;</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-%edDialogOverlay;</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineminus">-]&gt;</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineminus">-</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineminus">-&lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineminus">-        onload=&quot;Startup();&quot;</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineminus">-        buttons=&quot;accept,cancel&quot;&gt;</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineminus">-</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineminus">-  &lt;!-- Methods common to all editor dialogs --&gt;</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/editorUtilities.js&quot;/&gt;</span>
<a href="#l11.27"></a><span id="l11.27" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdLabelProps.js&quot;/&gt;</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineminus">-</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineminus">-  &lt;spacer id=&quot;location&quot; offsetY=&quot;50&quot; persist=&quot;offsetX offsetY&quot;/&gt;</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineminus">-  &lt;groupbox&gt;</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineminus">-    &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineminus">-      &lt;label class=&quot;header&quot; accesskey=&quot;&amp;Settings.accesskey;&quot;&gt;&amp;Settings.label;&lt;/label&gt;</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineminus">-    &lt;grid&gt;&lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineminus">-          &lt;checkbox id=&quot;EditText&quot; label=&quot;&amp;EditLabelText.label;&quot; accesskey=&quot;&amp;EditLabelText.accesskey;&quot; checked=&quot;true&quot; disabled=&quot;true&quot;</span>
<a href="#l11.40"></a><span id="l11.40" class="difflineminus">-            oncommand=&quot;gDialog.labelText.disabled = !gDialog.editText.checked;&quot;/&gt;</span>
<a href="#l11.41"></a><span id="l11.41" class="difflineminus">-          &lt;textbox id=&quot;LabelText&quot; accesskey=&quot;&amp;Settings.accesskey;&quot;/&gt;</span>
<a href="#l11.42"></a><span id="l11.42" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l11.43"></a><span id="l11.43" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineminus">-          &lt;label control=&quot;LabelFor&quot; value=&quot;&amp;LabelFor.label;&quot; accesskey=&quot;&amp;LabelFor.accesskey;&quot;/&gt;</span>
<a href="#l11.45"></a><span id="l11.45" class="difflineminus">-          &lt;textbox id=&quot;LabelFor&quot;/&gt;</span>
<a href="#l11.46"></a><span id="l11.46" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l11.47"></a><span id="l11.47" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineminus">-          &lt;label control=&quot;LabelAccessKey&quot; value=&quot;&amp;AccessKey.label;&quot; accesskey=&quot;&amp;AccessKey.accesskey;&quot;/&gt;</span>
<a href="#l11.49"></a><span id="l11.49" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineminus">-            &lt;textbox id=&quot;LabelAccessKey&quot; class=&quot;narrow&quot;/&gt;</span>
<a href="#l11.51"></a><span id="l11.51" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l11.52"></a><span id="l11.52" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l11.53"></a><span id="l11.53" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l11.54"></a><span id="l11.54" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l11.55"></a><span id="l11.55" class="difflineminus">-  &lt;/groupbox&gt;</span>
<a href="#l11.56"></a><span id="l11.56" class="difflineminus">-</span>
<a href="#l11.57"></a><span id="l11.57" class="difflineminus">-  &lt;!-- from EdDialogOverlay --&gt;</span>
<a href="#l11.58"></a><span id="l11.58" class="difflineminus">-  &lt;hbox flex=&quot;1&quot; style=&quot;margin-top: 0.2em&quot;&gt;</span>
<a href="#l11.59"></a><span id="l11.59" class="difflineminus">-    &lt;button id=&quot;RemoveLabel&quot; label=&quot;&amp;RemoveLabel.label;&quot; accesskey=&quot;&amp;RemoveLabel.accesskey;&quot; oncommand=&quot;RemoveLabel();&quot;/&gt;</span>
<a href="#l11.60"></a><span id="l11.60" class="difflineminus">-    &lt;!-- This will right-align the button --&gt;</span>
<a href="#l11.61"></a><span id="l11.61" class="difflineminus">-    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l11.62"></a><span id="l11.62" class="difflineminus">-    &lt;button id=&quot;AdvancedEditButton&quot;</span>
<a href="#l11.63"></a><span id="l11.63" class="difflineminus">-            oncommand=&quot;onAdvancedEdit();&quot;</span>
<a href="#l11.64"></a><span id="l11.64" class="difflineminus">-            label=&quot;&amp;AdvancedEditButton.label;&quot;</span>
<a href="#l11.65"></a><span id="l11.65" class="difflineminus">-            accesskey=&quot;&amp;AdvancedEditButton.accessKey;&quot;</span>
<a href="#l11.66"></a><span id="l11.66" class="difflineminus">-            tooltiptext=&quot;&amp;AdvancedEditButton.tooltip;&quot;/&gt;</span>
<a href="#l11.67"></a><span id="l11.67" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l11.68"></a><span id="l11.68" class="difflineminus">-  &lt;separator class=&quot;groove&quot;/&gt;</span>
<a href="#l11.69"></a><span id="l11.69" class="difflineminus">-</span>
<a href="#l11.70"></a><span id="l11.70" class="difflineminus">-&lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1">deleted file mode 100644</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdPageProps.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineplus">+++ /dev/null</span>
<a href="#l12.4"></a><span id="l12.4" class="difflineat">@@ -1,159 +0,0 @@</span>
<a href="#l12.5"></a><span id="l12.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.6"></a><span id="l12.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.7"></a><span id="l12.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l12.8"></a><span id="l12.8" class="difflineminus">-</span>
<a href="#l12.9"></a><span id="l12.9" class="difflineminus">-/* import-globals-from ../editorUtilities.js */</span>
<a href="#l12.10"></a><span id="l12.10" class="difflineminus">-/* import-globals-from EdDialogCommon.js */</span>
<a href="#l12.11"></a><span id="l12.11" class="difflineminus">-</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-var gNewTitle = &quot;&quot;;</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-var gAuthor = &quot;&quot;;</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-var gDescription = &quot;&quot;;</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineminus">-var gAuthorElement;</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineminus">-var gDescriptionElement;</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-var gInsertNewAuthor = false;</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineminus">-var gInsertNewDescription = false;</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineminus">-var gTitleWasEdited = false;</span>
<a href="#l12.20"></a><span id="l12.20" class="difflineminus">-var gAuthorWasEdited = false;</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineminus">-var gDescWasEdited = false;</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineminus">-</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineminus">-// Cancel() is in EdDialogCommon.js</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineminus">-// dialog initialization code</span>
<a href="#l12.25"></a><span id="l12.25" class="difflineminus">-</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineminus">-document.addEventListener(&quot;dialogaccept&quot;, onAccept);</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineminus">-document.addEventListener(&quot;dialogcancel&quot;, onCancel);</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineminus">-</span>
<a href="#l12.29"></a><span id="l12.29" class="difflineminus">-function Startup() {</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l12.31"></a><span id="l12.31" class="difflineminus">-  if (!editor) {</span>
<a href="#l12.32"></a><span id="l12.32" class="difflineminus">-    window.close();</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineminus">-    return;</span>
<a href="#l12.34"></a><span id="l12.34" class="difflineminus">-  }</span>
<a href="#l12.35"></a><span id="l12.35" class="difflineminus">-</span>
<a href="#l12.36"></a><span id="l12.36" class="difflineminus">-  gDialog.PageLocation = document.getElementById(&quot;PageLocation&quot;);</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineminus">-  gDialog.PageModDate = document.getElementById(&quot;PageModDate&quot;);</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineminus">-  gDialog.TitleInput = document.getElementById(&quot;TitleInput&quot;);</span>
<a href="#l12.39"></a><span id="l12.39" class="difflineminus">-  gDialog.AuthorInput = document.getElementById(&quot;AuthorInput&quot;);</span>
<a href="#l12.40"></a><span id="l12.40" class="difflineminus">-  gDialog.DescriptionInput = document.getElementById(&quot;DescriptionInput&quot;);</span>
<a href="#l12.41"></a><span id="l12.41" class="difflineminus">-</span>
<a href="#l12.42"></a><span id="l12.42" class="difflineminus">-  // Default string for new page is set from DTD string in XUL,</span>
<a href="#l12.43"></a><span id="l12.43" class="difflineminus">-  //   so set only if not new doc URL</span>
<a href="#l12.44"></a><span id="l12.44" class="difflineminus">-  var location = GetDocumentUrl();</span>
<a href="#l12.45"></a><span id="l12.45" class="difflineminus">-  var lastmodString = GetString(&quot;Unknown&quot;);</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineminus">-</span>
<a href="#l12.47"></a><span id="l12.47" class="difflineminus">-  if (!IsUrlAboutBlank(location)) {</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineminus">-    // NEVER show username and password in clear text</span>
<a href="#l12.49"></a><span id="l12.49" class="difflineminus">-    gDialog.PageLocation.setAttribute(&quot;value&quot;, StripPassword(location));</span>
<a href="#l12.50"></a><span id="l12.50" class="difflineminus">-</span>
<a href="#l12.51"></a><span id="l12.51" class="difflineminus">-    // Get last-modified file date+time</span>
<a href="#l12.52"></a><span id="l12.52" class="difflineminus">-    // TODO: Convert this to local time?</span>
<a href="#l12.53"></a><span id="l12.53" class="difflineminus">-    var lastmod;</span>
<a href="#l12.54"></a><span id="l12.54" class="difflineminus">-    try {</span>
<a href="#l12.55"></a><span id="l12.55" class="difflineminus">-      lastmod = editor.document.lastModified; // get string of last modified date</span>
<a href="#l12.56"></a><span id="l12.56" class="difflineminus">-    } catch (e) {}</span>
<a href="#l12.57"></a><span id="l12.57" class="difflineminus">-    // Convert modified string to date (0 = unknown date or January 1, 1970 GMT)</span>
<a href="#l12.58"></a><span id="l12.58" class="difflineminus">-    if (Date.parse(lastmod)) {</span>
<a href="#l12.59"></a><span id="l12.59" class="difflineminus">-      try {</span>
<a href="#l12.60"></a><span id="l12.60" class="difflineminus">-        const dateTimeFormatter = new Services.intl.DateTimeFormat(undefined, {</span>
<a href="#l12.61"></a><span id="l12.61" class="difflineminus">-          dateStyle: &quot;long&quot;,</span>
<a href="#l12.62"></a><span id="l12.62" class="difflineminus">-          timeStyle: &quot;short&quot;,</span>
<a href="#l12.63"></a><span id="l12.63" class="difflineminus">-        });</span>
<a href="#l12.64"></a><span id="l12.64" class="difflineminus">-</span>
<a href="#l12.65"></a><span id="l12.65" class="difflineminus">-        var lastModDate = new Date();</span>
<a href="#l12.66"></a><span id="l12.66" class="difflineminus">-        lastModDate.setTime(Date.parse(lastmod));</span>
<a href="#l12.67"></a><span id="l12.67" class="difflineminus">-        lastmodString = dateTimeFormatter.format(lastModDate);</span>
<a href="#l12.68"></a><span id="l12.68" class="difflineminus">-      } catch (e) {}</span>
<a href="#l12.69"></a><span id="l12.69" class="difflineminus">-    }</span>
<a href="#l12.70"></a><span id="l12.70" class="difflineminus">-  }</span>
<a href="#l12.71"></a><span id="l12.71" class="difflineminus">-  gDialog.PageModDate.value = lastmodString;</span>
<a href="#l12.72"></a><span id="l12.72" class="difflineminus">-</span>
<a href="#l12.73"></a><span id="l12.73" class="difflineminus">-  gAuthorElement = GetMetaElementByAttribute(&quot;name&quot;, &quot;author&quot;);</span>
<a href="#l12.74"></a><span id="l12.74" class="difflineminus">-  if (!gAuthorElement) {</span>
<a href="#l12.75"></a><span id="l12.75" class="difflineminus">-    gAuthorElement = CreateMetaElementWithAttribute(&quot;name&quot;, &quot;author&quot;);</span>
<a href="#l12.76"></a><span id="l12.76" class="difflineminus">-    if (!gAuthorElement) {</span>
<a href="#l12.77"></a><span id="l12.77" class="difflineminus">-      window.close();</span>
<a href="#l12.78"></a><span id="l12.78" class="difflineminus">-      return;</span>
<a href="#l12.79"></a><span id="l12.79" class="difflineminus">-    }</span>
<a href="#l12.80"></a><span id="l12.80" class="difflineminus">-    gInsertNewAuthor = true;</span>
<a href="#l12.81"></a><span id="l12.81" class="difflineminus">-  }</span>
<a href="#l12.82"></a><span id="l12.82" class="difflineminus">-</span>
<a href="#l12.83"></a><span id="l12.83" class="difflineminus">-  gDescriptionElement = GetMetaElementByAttribute(&quot;name&quot;, &quot;description&quot;);</span>
<a href="#l12.84"></a><span id="l12.84" class="difflineminus">-  if (!gDescriptionElement) {</span>
<a href="#l12.85"></a><span id="l12.85" class="difflineminus">-    gDescriptionElement = CreateMetaElementWithAttribute(&quot;name&quot;, &quot;description&quot;);</span>
<a href="#l12.86"></a><span id="l12.86" class="difflineminus">-    if (!gDescriptionElement) {</span>
<a href="#l12.87"></a><span id="l12.87" class="difflineminus">-      window.close();</span>
<a href="#l12.88"></a><span id="l12.88" class="difflineminus">-    }</span>
<a href="#l12.89"></a><span id="l12.89" class="difflineminus">-</span>
<a href="#l12.90"></a><span id="l12.90" class="difflineminus">-    gInsertNewDescription = true;</span>
<a href="#l12.91"></a><span id="l12.91" class="difflineminus">-  }</span>
<a href="#l12.92"></a><span id="l12.92" class="difflineminus">-</span>
<a href="#l12.93"></a><span id="l12.93" class="difflineminus">-  InitDialog();</span>
<a href="#l12.94"></a><span id="l12.94" class="difflineminus">-</span>
<a href="#l12.95"></a><span id="l12.95" class="difflineminus">-  SetTextboxFocus(gDialog.TitleInput);</span>
<a href="#l12.96"></a><span id="l12.96" class="difflineminus">-</span>
<a href="#l12.97"></a><span id="l12.97" class="difflineminus">-  SetWindowLocation();</span>
<a href="#l12.98"></a><span id="l12.98" class="difflineminus">-}</span>
<a href="#l12.99"></a><span id="l12.99" class="difflineminus">-</span>
<a href="#l12.100"></a><span id="l12.100" class="difflineminus">-function InitDialog() {</span>
<a href="#l12.101"></a><span id="l12.101" class="difflineminus">-  gDialog.TitleInput.value = GetDocumentTitle();</span>
<a href="#l12.102"></a><span id="l12.102" class="difflineminus">-</span>
<a href="#l12.103"></a><span id="l12.103" class="difflineminus">-  var gAuthor = TrimString(gAuthorElement.getAttribute(&quot;content&quot;));</span>
<a href="#l12.104"></a><span id="l12.104" class="difflineminus">-  if (!gAuthor) {</span>
<a href="#l12.105"></a><span id="l12.105" class="difflineminus">-    // Fill in with value from editor prefs</span>
<a href="#l12.106"></a><span id="l12.106" class="difflineminus">-    gAuthor = Services.prefs.getCharPref(&quot;editor.author&quot;);</span>
<a href="#l12.107"></a><span id="l12.107" class="difflineminus">-  }</span>
<a href="#l12.108"></a><span id="l12.108" class="difflineminus">-  gDialog.AuthorInput.value = gAuthor;</span>
<a href="#l12.109"></a><span id="l12.109" class="difflineminus">-  gDialog.DescriptionInput.value = gDescriptionElement.getAttribute(&quot;content&quot;);</span>
<a href="#l12.110"></a><span id="l12.110" class="difflineminus">-}</span>
<a href="#l12.111"></a><span id="l12.111" class="difflineminus">-</span>
<a href="#l12.112"></a><span id="l12.112" class="difflineminus">-function TextboxChanged(ID) {</span>
<a href="#l12.113"></a><span id="l12.113" class="difflineminus">-  switch (ID) {</span>
<a href="#l12.114"></a><span id="l12.114" class="difflineminus">-    case &quot;TitleInput&quot;:</span>
<a href="#l12.115"></a><span id="l12.115" class="difflineminus">-      gTitleWasEdited = true;</span>
<a href="#l12.116"></a><span id="l12.116" class="difflineminus">-      break;</span>
<a href="#l12.117"></a><span id="l12.117" class="difflineminus">-    case &quot;AuthorInput&quot;:</span>
<a href="#l12.118"></a><span id="l12.118" class="difflineminus">-      gAuthorWasEdited = true;</span>
<a href="#l12.119"></a><span id="l12.119" class="difflineminus">-      break;</span>
<a href="#l12.120"></a><span id="l12.120" class="difflineminus">-    case &quot;DescriptionInput&quot;:</span>
<a href="#l12.121"></a><span id="l12.121" class="difflineminus">-      gDescWasEdited = true;</span>
<a href="#l12.122"></a><span id="l12.122" class="difflineminus">-      break;</span>
<a href="#l12.123"></a><span id="l12.123" class="difflineminus">-  }</span>
<a href="#l12.124"></a><span id="l12.124" class="difflineminus">-}</span>
<a href="#l12.125"></a><span id="l12.125" class="difflineminus">-</span>
<a href="#l12.126"></a><span id="l12.126" class="difflineminus">-function ValidateData() {</span>
<a href="#l12.127"></a><span id="l12.127" class="difflineminus">-  gNewTitle = TrimString(gDialog.TitleInput.value);</span>
<a href="#l12.128"></a><span id="l12.128" class="difflineminus">-  gAuthor = TrimString(gDialog.AuthorInput.value);</span>
<a href="#l12.129"></a><span id="l12.129" class="difflineminus">-  gDescription = TrimString(gDialog.DescriptionInput.value);</span>
<a href="#l12.130"></a><span id="l12.130" class="difflineminus">-  return true;</span>
<a href="#l12.131"></a><span id="l12.131" class="difflineminus">-}</span>
<a href="#l12.132"></a><span id="l12.132" class="difflineminus">-</span>
<a href="#l12.133"></a><span id="l12.133" class="difflineminus">-function onAccept(event) {</span>
<a href="#l12.134"></a><span id="l12.134" class="difflineminus">-  if (ValidateData()) {</span>
<a href="#l12.135"></a><span id="l12.135" class="difflineminus">-    var editor = GetCurrentEditor();</span>
<a href="#l12.136"></a><span id="l12.136" class="difflineminus">-    editor.beginTransaction();</span>
<a href="#l12.137"></a><span id="l12.137" class="difflineminus">-</span>
<a href="#l12.138"></a><span id="l12.138" class="difflineminus">-    // Set title contents even if string is empty</span>
<a href="#l12.139"></a><span id="l12.139" class="difflineminus">-    //  because TITLE is a required HTML element</span>
<a href="#l12.140"></a><span id="l12.140" class="difflineminus">-    if (gTitleWasEdited) {</span>
<a href="#l12.141"></a><span id="l12.141" class="difflineminus">-      SetDocumentTitle(gNewTitle);</span>
<a href="#l12.142"></a><span id="l12.142" class="difflineminus">-    }</span>
<a href="#l12.143"></a><span id="l12.143" class="difflineminus">-</span>
<a href="#l12.144"></a><span id="l12.144" class="difflineminus">-    if (gAuthorWasEdited) {</span>
<a href="#l12.145"></a><span id="l12.145" class="difflineminus">-      SetMetaElementContent(gAuthorElement, gAuthor, gInsertNewAuthor, false);</span>
<a href="#l12.146"></a><span id="l12.146" class="difflineminus">-    }</span>
<a href="#l12.147"></a><span id="l12.147" class="difflineminus">-</span>
<a href="#l12.148"></a><span id="l12.148" class="difflineminus">-    if (gDescWasEdited) {</span>
<a href="#l12.149"></a><span id="l12.149" class="difflineminus">-      SetMetaElementContent(</span>
<a href="#l12.150"></a><span id="l12.150" class="difflineminus">-        gDescriptionElement,</span>
<a href="#l12.151"></a><span id="l12.151" class="difflineminus">-        gDescription,</span>
<a href="#l12.152"></a><span id="l12.152" class="difflineminus">-        gInsertNewDescription,</span>
<a href="#l12.153"></a><span id="l12.153" class="difflineminus">-        false</span>
<a href="#l12.154"></a><span id="l12.154" class="difflineminus">-      );</span>
<a href="#l12.155"></a><span id="l12.155" class="difflineminus">-    }</span>
<a href="#l12.156"></a><span id="l12.156" class="difflineminus">-</span>
<a href="#l12.157"></a><span id="l12.157" class="difflineminus">-    editor.endTransaction();</span>
<a href="#l12.158"></a><span id="l12.158" class="difflineminus">-</span>
<a href="#l12.159"></a><span id="l12.159" class="difflineminus">-    SaveWindowLocation();</span>
<a href="#l12.160"></a><span id="l12.160" class="difflineminus">-    return; // do close the window</span>
<a href="#l12.161"></a><span id="l12.161" class="difflineminus">-  }</span>
<a href="#l12.162"></a><span id="l12.162" class="difflineminus">-  event.preventDefault();</span>
<a href="#l12.163"></a><span id="l12.163" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1">deleted file mode 100644</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdPageProps.xul</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineplus">+++ /dev/null</span>
<a href="#l13.4"></a><span id="l13.4" class="difflineat">@@ -1,50 +0,0 @@</span>
<a href="#l13.5"></a><span id="l13.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l13.6"></a><span id="l13.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l13.7"></a><span id="l13.7" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l13.8"></a><span id="l13.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l13.9"></a><span id="l13.9" class="difflineminus">-</span>
<a href="#l13.10"></a><span id="l13.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l13.11"></a><span id="l13.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-&lt;!DOCTYPE dialog SYSTEM &quot;chrome://messenger/locale/messengercompose/EditorPageProperties.dtd&quot;&gt;</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineminus">-</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineminus">-&lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineminus">-        onload=&quot;Startup();&quot;&gt;</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineminus">-</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/editorUtilities.js&quot;/&gt;</span>
<a href="#l13.20"></a><span id="l13.20" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l13.21"></a><span id="l13.21" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdPageProps.js&quot;/&gt;</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineminus">-</span>
<a href="#l13.23"></a><span id="l13.23" class="difflineminus">-  &lt;spacer id=&quot;location&quot; offsetY=&quot;50&quot; persist=&quot;offsetX offsetY&quot;/&gt;</span>
<a href="#l13.24"></a><span id="l13.24" class="difflineminus">-  &lt;grid&gt;</span>
<a href="#l13.25"></a><span id="l13.25" class="difflineminus">-    &lt;columns&gt;&lt;column flex=&quot;1&quot;/&gt;&lt;column flex=&quot;2&quot;/&gt;&lt;/columns&gt;</span>
<a href="#l13.26"></a><span id="l13.26" class="difflineminus">-    &lt;rows&gt;</span>
<a href="#l13.27"></a><span id="l13.27" class="difflineminus">-      &lt;row&gt;</span>
<a href="#l13.28"></a><span id="l13.28" class="difflineminus">-        &lt;label value=&quot;&amp;location.label;&quot;/&gt;</span>
<a href="#l13.29"></a><span id="l13.29" class="difflineminus">-        &lt;label value=&quot;&amp;locationNewPage.label;&quot; id=&quot;PageLocation&quot;/&gt;</span>
<a href="#l13.30"></a><span id="l13.30" class="difflineminus">-      &lt;/row&gt;</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-      &lt;row&gt;</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineminus">-        &lt;label value=&quot;&amp;lastModified.label;&quot;/&gt;</span>
<a href="#l13.33"></a><span id="l13.33" class="difflineminus">-        &lt;label id=&quot;PageModDate&quot;/&gt;</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineminus">-      &lt;/row&gt;</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineminus">-      &lt;spacer class=&quot;spacer&quot;/&gt;</span>
<a href="#l13.36"></a><span id="l13.36" class="difflineminus">-      &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l13.37"></a><span id="l13.37" class="difflineminus">-        &lt;label value=&quot;&amp;titleInput.label;&quot; accesskey=&quot;&amp;titleInput.accessKey;&quot; control=&quot;TitleInput&quot;/&gt;</span>
<a href="#l13.38"></a><span id="l13.38" class="difflineminus">-        &lt;textbox class=&quot;MinWidth20em&quot; id=&quot;TitleInput&quot; oninput=&quot;TextboxChanged(this.id)&quot;/&gt;</span>
<a href="#l13.39"></a><span id="l13.39" class="difflineminus">-      &lt;/row&gt;</span>
<a href="#l13.40"></a><span id="l13.40" class="difflineminus">-      &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l13.41"></a><span id="l13.41" class="difflineminus">-        &lt;label value=&quot;&amp;authorInput.label;&quot; accesskey=&quot;&amp;authorInput.accessKey;&quot; control=&quot;AuthorInput&quot;/&gt;</span>
<a href="#l13.42"></a><span id="l13.42" class="difflineminus">-        &lt;textbox class=&quot;MinWidth20em&quot; id=&quot;AuthorInput&quot; oninput=&quot;TextboxChanged(this.id)&quot;/&gt;</span>
<a href="#l13.43"></a><span id="l13.43" class="difflineminus">-      &lt;/row&gt;</span>
<a href="#l13.44"></a><span id="l13.44" class="difflineminus">-      &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l13.45"></a><span id="l13.45" class="difflineminus">-        &lt;label value=&quot;&amp;descriptionInput.label;&quot; accesskey=&quot;&amp;descriptionInput.accessKey;&quot; control=&quot;DescriptionInput&quot;/&gt;</span>
<a href="#l13.46"></a><span id="l13.46" class="difflineminus">-        &lt;textbox class=&quot;MinWidth20em&quot; id=&quot;DescriptionInput&quot; oninput=&quot;TextboxChanged(this.id)&quot;/&gt;</span>
<a href="#l13.47"></a><span id="l13.47" class="difflineminus">-      &lt;/row&gt;</span>
<a href="#l13.48"></a><span id="l13.48" class="difflineminus">-    &lt;/rows&gt;</span>
<a href="#l13.49"></a><span id="l13.49" class="difflineminus">-  &lt;/grid&gt;</span>
<a href="#l13.50"></a><span id="l13.50" class="difflineminus">-  &lt;spacer class=&quot;bigspacer&quot;/&gt;</span>
<a href="#l13.51"></a><span id="l13.51" class="difflineminus">-  &lt;label value=&quot;&amp;EditHEADSource1.label;&quot;/&gt;</span>
<a href="#l13.52"></a><span id="l13.52" class="difflineminus">-  &lt;description class=&quot;wrap&quot; flex=&quot;1&quot;&gt;&amp;EditHEADSource2.label;&lt;/description&gt;</span>
<a href="#l13.53"></a><span id="l13.53" class="difflineminus">-  &lt;separator class=&quot;groove&quot;/&gt;</span>
<a href="#l13.54"></a><span id="l13.54" class="difflineminus">-&lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1">deleted file mode 100644</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdSelectProps.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineplus">+++ /dev/null</span>
<a href="#l14.4"></a><span id="l14.4" class="difflineat">@@ -1,770 +0,0 @@</span>
<a href="#l14.5"></a><span id="l14.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.6"></a><span id="l14.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.7"></a><span id="l14.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.8"></a><span id="l14.8" class="difflineminus">-</span>
<a href="#l14.9"></a><span id="l14.9" class="difflineminus">-/* import-globals-from ../editorUtilities.js */</span>
<a href="#l14.10"></a><span id="l14.10" class="difflineminus">-/* import-globals-from EdDialogCommon.js */</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineminus">-</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-// Global variables</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineminus">-</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineminus">-var hasValue;</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineminus">-var oldValue;</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineminus">-var insertNew;</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineminus">-var itemArray;</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineminus">-var theTree;</span>
<a href="#l14.19"></a><span id="l14.19" class="difflineminus">-var treeSelection;</span>
<a href="#l14.20"></a><span id="l14.20" class="difflineminus">-var selectElement;</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineminus">-var currentItem = null;</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineminus">-var selectedOption = null;</span>
<a href="#l14.23"></a><span id="l14.23" class="difflineminus">-var selectedOptionCount = 0;</span>
<a href="#l14.24"></a><span id="l14.24" class="difflineminus">-</span>
<a href="#l14.25"></a><span id="l14.25" class="difflineminus">-document.addEventListener(&quot;dialogaccept&quot;, onAccept);</span>
<a href="#l14.26"></a><span id="l14.26" class="difflineminus">-document.addEventListener(&quot;dialogcancel&quot;, onCancel);</span>
<a href="#l14.27"></a><span id="l14.27" class="difflineminus">-</span>
<a href="#l14.28"></a><span id="l14.28" class="difflineminus">-// Utility functions</span>
<a href="#l14.29"></a><span id="l14.29" class="difflineminus">-</span>
<a href="#l14.30"></a><span id="l14.30" class="difflineminus">-function getParentIndex(index) {</span>
<a href="#l14.31"></a><span id="l14.31" class="difflineminus">-  switch (itemArray[index].level) {</span>
<a href="#l14.32"></a><span id="l14.32" class="difflineminus">-    case 0:</span>
<a href="#l14.33"></a><span id="l14.33" class="difflineminus">-      return -1;</span>
<a href="#l14.34"></a><span id="l14.34" class="difflineminus">-    case 1:</span>
<a href="#l14.35"></a><span id="l14.35" class="difflineminus">-      return 0;</span>
<a href="#l14.36"></a><span id="l14.36" class="difflineminus">-  }</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineminus">-  // eslint-disable-next-line curly</span>
<a href="#l14.38"></a><span id="l14.38" class="difflineminus">-  while (itemArray[--index].level &gt; 1);</span>
<a href="#l14.39"></a><span id="l14.39" class="difflineminus">-  return index;</span>
<a href="#l14.40"></a><span id="l14.40" class="difflineminus">-}</span>
<a href="#l14.41"></a><span id="l14.41" class="difflineminus">-</span>
<a href="#l14.42"></a><span id="l14.42" class="difflineminus">-function UpdateSelectMultiple() {</span>
<a href="#l14.43"></a><span id="l14.43" class="difflineminus">-  if (selectedOptionCount &gt; 1) {</span>
<a href="#l14.44"></a><span id="l14.44" class="difflineminus">-    gDialog.selectMultiple.checked = true;</span>
<a href="#l14.45"></a><span id="l14.45" class="difflineminus">-    gDialog.selectMultiple.disabled = true;</span>
<a href="#l14.46"></a><span id="l14.46" class="difflineminus">-  } else {</span>
<a href="#l14.47"></a><span id="l14.47" class="difflineminus">-    gDialog.selectMultiple.disabled = false;</span>
<a href="#l14.48"></a><span id="l14.48" class="difflineminus">-  }</span>
<a href="#l14.49"></a><span id="l14.49" class="difflineminus">-}</span>
<a href="#l14.50"></a><span id="l14.50" class="difflineminus">-</span>
<a href="#l14.51"></a><span id="l14.51" class="difflineminus">-/* wrapper objects:</span>
<a href="#l14.52"></a><span id="l14.52" class="difflineminus">- * readonly attribute Node element; // DOM node (select/optgroup/option)</span>
<a href="#l14.53"></a><span id="l14.53" class="difflineminus">- * readonly attribute int level; // tree depth</span>
<a href="#l14.54"></a><span id="l14.54" class="difflineminus">- * readonly attribute boolean container; // can contain options</span>
<a href="#l14.55"></a><span id="l14.55" class="difflineminus">- * string getCellText(string col); // tree view helper</span>
<a href="#l14.56"></a><span id="l14.56" class="difflineminus">- * string cycleCell(int currentIndex); // tree view helper</span>
<a href="#l14.57"></a><span id="l14.57" class="difflineminus">- * void onFocus(); // load data into deck</span>
<a href="#l14.58"></a><span id="l14.58" class="difflineminus">- * void onBlur(); // save data from deck</span>
<a href="#l14.59"></a><span id="l14.59" class="difflineminus">- * boolean canDestroy(boolean prompt); // NB prompt not used</span>
<a href="#l14.60"></a><span id="l14.60" class="difflineminus">- * void destroy(); // post remove callback</span>
<a href="#l14.61"></a><span id="l14.61" class="difflineminus">- * void moveUp();</span>
<a href="#l14.62"></a><span id="l14.62" class="difflineminus">- * boolean canMoveDown();</span>
<a href="#l14.63"></a><span id="l14.63" class="difflineminus">- * void moveDown();</span>
<a href="#l14.64"></a><span id="l14.64" class="difflineminus">- * void appendOption(newElement, currentIndex);</span>
<a href="#l14.65"></a><span id="l14.65" class="difflineminus">- */</span>
<a href="#l14.66"></a><span id="l14.66" class="difflineminus">-</span>
<a href="#l14.67"></a><span id="l14.67" class="difflineminus">-// OPTION element wrapper object</span>
<a href="#l14.68"></a><span id="l14.68" class="difflineminus">-</span>
<a href="#l14.69"></a><span id="l14.69" class="difflineminus">-// Create a wrapper for the given element at the given level</span>
<a href="#l14.70"></a><span id="l14.70" class="difflineminus">-function optionObject(option, level) {</span>
<a href="#l14.71"></a><span id="l14.71" class="difflineminus">-  // select an added option (when loading from document)</span>
<a href="#l14.72"></a><span id="l14.72" class="difflineminus">-  if (option.hasAttribute(&quot;selected&quot;)) {</span>
<a href="#l14.73"></a><span id="l14.73" class="difflineminus">-    selectedOptionCount++;</span>
<a href="#l14.74"></a><span id="l14.74" class="difflineminus">-  }</span>
<a href="#l14.75"></a><span id="l14.75" class="difflineminus">-  this.level = level;</span>
<a href="#l14.76"></a><span id="l14.76" class="difflineminus">-  this.element = option;</span>
<a href="#l14.77"></a><span id="l14.77" class="difflineminus">-}</span>
<a href="#l14.78"></a><span id="l14.78" class="difflineminus">-</span>
<a href="#l14.79"></a><span id="l14.79" class="difflineminus">-optionObject.prototype.container = false;</span>
<a href="#l14.80"></a><span id="l14.80" class="difflineminus">-</span>
<a href="#l14.81"></a><span id="l14.81" class="difflineminus">-optionObject.prototype.getCellText = function(column) {</span>
<a href="#l14.82"></a><span id="l14.82" class="difflineminus">-  if (column.id == &quot;SelectSelCol&quot;) {</span>
<a href="#l14.83"></a><span id="l14.83" class="difflineminus">-    return &quot;&quot;;</span>
<a href="#l14.84"></a><span id="l14.84" class="difflineminus">-  }</span>
<a href="#l14.85"></a><span id="l14.85" class="difflineminus">-  if (column.id == &quot;SelectValCol&quot; &amp;&amp; this.element.hasAttribute(&quot;value&quot;)) {</span>
<a href="#l14.86"></a><span id="l14.86" class="difflineminus">-    return this.element.getAttribute(&quot;value&quot;);</span>
<a href="#l14.87"></a><span id="l14.87" class="difflineminus">-  }</span>
<a href="#l14.88"></a><span id="l14.88" class="difflineminus">-  return this.element.text;</span>
<a href="#l14.89"></a><span id="l14.89" class="difflineminus">-};</span>
<a href="#l14.90"></a><span id="l14.90" class="difflineminus">-</span>
<a href="#l14.91"></a><span id="l14.91" class="difflineminus">-optionObject.prototype.cycleCell = function(index) {</span>
<a href="#l14.92"></a><span id="l14.92" class="difflineminus">-  if (this.element.hasAttribute(&quot;selected&quot;)) {</span>
<a href="#l14.93"></a><span id="l14.93" class="difflineminus">-    this.element.removeAttribute(&quot;selected&quot;);</span>
<a href="#l14.94"></a><span id="l14.94" class="difflineminus">-    selectedOptionCount--;</span>
<a href="#l14.95"></a><span id="l14.95" class="difflineminus">-    selectedOption = null;</span>
<a href="#l14.96"></a><span id="l14.96" class="difflineminus">-  } else {</span>
<a href="#l14.97"></a><span id="l14.97" class="difflineminus">-    // Different handling for multiselect lists</span>
<a href="#l14.98"></a><span id="l14.98" class="difflineminus">-    if (gDialog.selectMultiple.checked || !selectedOption) {</span>
<a href="#l14.99"></a><span id="l14.99" class="difflineminus">-      selectedOptionCount++;</span>
<a href="#l14.100"></a><span id="l14.100" class="difflineminus">-    } else if (selectedOption) {</span>
<a href="#l14.101"></a><span id="l14.101" class="difflineminus">-      selectedOption.removeAttribute(&quot;selected&quot;);</span>
<a href="#l14.102"></a><span id="l14.102" class="difflineminus">-      let column = theTree.columns.SelectSelCol;</span>
<a href="#l14.103"></a><span id="l14.103" class="difflineminus">-      theTree.invalidateColumn(column);</span>
<a href="#l14.104"></a><span id="l14.104" class="difflineminus">-      selectedOption = null;</span>
<a href="#l14.105"></a><span id="l14.105" class="difflineminus">-    }</span>
<a href="#l14.106"></a><span id="l14.106" class="difflineminus">-    this.element.setAttribute(&quot;selected&quot;, &quot;&quot;);</span>
<a href="#l14.107"></a><span id="l14.107" class="difflineminus">-    selectedOption = this.element;</span>
<a href="#l14.108"></a><span id="l14.108" class="difflineminus">-    let column = theTree.columns.SelectSelCol;</span>
<a href="#l14.109"></a><span id="l14.109" class="difflineminus">-    theTree.invalidateCell(index, column);</span>
<a href="#l14.110"></a><span id="l14.110" class="difflineminus">-  }</span>
<a href="#l14.111"></a><span id="l14.111" class="difflineminus">-  if (currentItem == this) {</span>
<a href="#l14.112"></a><span id="l14.112" class="difflineminus">-    // Also update the deck</span>
<a href="#l14.113"></a><span id="l14.113" class="difflineminus">-    gDialog.optionSelected.setAttribute(</span>
<a href="#l14.114"></a><span id="l14.114" class="difflineminus">-      &quot;checked&quot;,</span>
<a href="#l14.115"></a><span id="l14.115" class="difflineminus">-      this.element.hasAttribute(&quot;selected&quot;)</span>
<a href="#l14.116"></a><span id="l14.116" class="difflineminus">-    );</span>
<a href="#l14.117"></a><span id="l14.117" class="difflineminus">-  }</span>
<a href="#l14.118"></a><span id="l14.118" class="difflineminus">-  UpdateSelectMultiple();</span>
<a href="#l14.119"></a><span id="l14.119" class="difflineminus">-};</span>
<a href="#l14.120"></a><span id="l14.120" class="difflineminus">-</span>
<a href="#l14.121"></a><span id="l14.121" class="difflineminus">-optionObject.prototype.onFocus = function() {</span>
<a href="#l14.122"></a><span id="l14.122" class="difflineminus">-  gDialog.optionText.value = this.element.text;</span>
<a href="#l14.123"></a><span id="l14.123" class="difflineminus">-  hasValue = this.element.hasAttribute(&quot;value&quot;);</span>
<a href="#l14.124"></a><span id="l14.124" class="difflineminus">-  oldValue = this.element.value;</span>
<a href="#l14.125"></a><span id="l14.125" class="difflineminus">-  gDialog.optionHasValue.checked = hasValue;</span>
<a href="#l14.126"></a><span id="l14.126" class="difflineminus">-  gDialog.optionValue.value = hasValue ? this.element.value : this.element.text;</span>
<a href="#l14.127"></a><span id="l14.127" class="difflineminus">-  gDialog.optionSelected.checked = this.element.hasAttribute(&quot;selected&quot;);</span>
<a href="#l14.128"></a><span id="l14.128" class="difflineminus">-  gDialog.optionDisabled.checked = this.element.hasAttribute(&quot;disabled&quot;);</span>
<a href="#l14.129"></a><span id="l14.129" class="difflineminus">-  gDialog.selectDeck.setAttribute(&quot;selectedIndex&quot;, &quot;2&quot;);</span>
<a href="#l14.130"></a><span id="l14.130" class="difflineminus">-};</span>
<a href="#l14.131"></a><span id="l14.131" class="difflineminus">-</span>
<a href="#l14.132"></a><span id="l14.132" class="difflineminus">-optionObject.prototype.onBlur = function() {</span>
<a href="#l14.133"></a><span id="l14.133" class="difflineminus">-  this.element.text = gDialog.optionText.value;</span>
<a href="#l14.134"></a><span id="l14.134" class="difflineminus">-  if (gDialog.optionHasValue.checked) {</span>
<a href="#l14.135"></a><span id="l14.135" class="difflineminus">-    this.element.value = gDialog.optionValue.value;</span>
<a href="#l14.136"></a><span id="l14.136" class="difflineminus">-  } else {</span>
<a href="#l14.137"></a><span id="l14.137" class="difflineminus">-    this.element.removeAttribute(&quot;value&quot;);</span>
<a href="#l14.138"></a><span id="l14.138" class="difflineminus">-  }</span>
<a href="#l14.139"></a><span id="l14.139" class="difflineminus">-  if (gDialog.optionSelected.checked) {</span>
<a href="#l14.140"></a><span id="l14.140" class="difflineminus">-    this.element.setAttribute(&quot;selected&quot;, &quot;&quot;);</span>
<a href="#l14.141"></a><span id="l14.141" class="difflineminus">-  } else {</span>
<a href="#l14.142"></a><span id="l14.142" class="difflineminus">-    this.element.removeAttribute(&quot;selected&quot;);</span>
<a href="#l14.143"></a><span id="l14.143" class="difflineminus">-  }</span>
<a href="#l14.144"></a><span id="l14.144" class="difflineminus">-  if (gDialog.optionDisabled.checked) {</span>
<a href="#l14.145"></a><span id="l14.145" class="difflineminus">-    this.element.setAttribute(&quot;disabled&quot;, &quot;&quot;);</span>
<a href="#l14.146"></a><span id="l14.146" class="difflineminus">-  } else {</span>
<a href="#l14.147"></a><span id="l14.147" class="difflineminus">-    this.element.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l14.148"></a><span id="l14.148" class="difflineminus">-  }</span>
<a href="#l14.149"></a><span id="l14.149" class="difflineminus">-};</span>
<a href="#l14.150"></a><span id="l14.150" class="difflineminus">-</span>
<a href="#l14.151"></a><span id="l14.151" class="difflineminus">-optionObject.prototype.canDestroy = function(prompt) {</span>
<a href="#l14.152"></a><span id="l14.152" class="difflineminus">-  return true;</span>
<a href="#l14.153"></a><span id="l14.153" class="difflineminus">-  /* return !prompt ||</span>
<a href="#l14.154"></a><span id="l14.154" class="difflineminus">-    ConfirmWithTitle(GetString(&quot;DeleteOption&quot;),</span>
<a href="#l14.155"></a><span id="l14.155" class="difflineminus">-                     GetString(&quot;DeleteOptionMsg&quot;),</span>
<a href="#l14.156"></a><span id="l14.156" class="difflineminus">-                     GetString(&quot;DeleteOption&quot;));*/</span>
<a href="#l14.157"></a><span id="l14.157" class="difflineminus">-};</span>
<a href="#l14.158"></a><span id="l14.158" class="difflineminus">-</span>
<a href="#l14.159"></a><span id="l14.159" class="difflineminus">-optionObject.prototype.destroy = function() {</span>
<a href="#l14.160"></a><span id="l14.160" class="difflineminus">-  // Deselect a removed option</span>
<a href="#l14.161"></a><span id="l14.161" class="difflineminus">-  if (this.element.hasAttribute(&quot;selected&quot;)) {</span>
<a href="#l14.162"></a><span id="l14.162" class="difflineminus">-    selectedOptionCount--;</span>
<a href="#l14.163"></a><span id="l14.163" class="difflineminus">-    selectedOption = null;</span>
<a href="#l14.164"></a><span id="l14.164" class="difflineminus">-    UpdateSelectMultiple();</span>
<a href="#l14.165"></a><span id="l14.165" class="difflineminus">-  }</span>
<a href="#l14.166"></a><span id="l14.166" class="difflineminus">-};</span>
<a href="#l14.167"></a><span id="l14.167" class="difflineminus">-</span>
<a href="#l14.168"></a><span id="l14.168" class="difflineminus">-/* 4 cases:</span>
<a href="#l14.169"></a><span id="l14.169" class="difflineminus">- * a) optgroup -&gt; optgroup</span>
<a href="#l14.170"></a><span id="l14.170" class="difflineminus">- *      ...         ...</span>
<a href="#l14.171"></a><span id="l14.171" class="difflineminus">- *    option        option</span>
<a href="#l14.172"></a><span id="l14.172" class="difflineminus">- * b) optgroup -&gt; option</span>
<a href="#l14.173"></a><span id="l14.173" class="difflineminus">- *      option    optgroup</span>
<a href="#l14.174"></a><span id="l14.174" class="difflineminus">- *      ...         ...</span>
<a href="#l14.175"></a><span id="l14.175" class="difflineminus">- * c) option</span>
<a href="#l14.176"></a><span id="l14.176" class="difflineminus">- *    option</span>
<a href="#l14.177"></a><span id="l14.177" class="difflineminus">- * d)   option</span>
<a href="#l14.178"></a><span id="l14.178" class="difflineminus">- *      option</span>
<a href="#l14.179"></a><span id="l14.179" class="difflineminus">- */</span>
<a href="#l14.180"></a><span id="l14.180" class="difflineminus">-</span>
<a href="#l14.181"></a><span id="l14.181" class="difflineminus">-optionObject.prototype.moveUp = function() {</span>
<a href="#l14.182"></a><span id="l14.182" class="difflineminus">-  var index = treeSelection.currentIndex;</span>
<a href="#l14.183"></a><span id="l14.183" class="difflineminus">-  if (</span>
<a href="#l14.184"></a><span id="l14.184" class="difflineminus">-    itemArray[index].level &lt;</span>
<a href="#l14.185"></a><span id="l14.185" class="difflineminus">-    itemArray[index - 1].level + itemArray[index - 1].container</span>
<a href="#l14.186"></a><span id="l14.186" class="difflineminus">-  ) {</span>
<a href="#l14.187"></a><span id="l14.187" class="difflineminus">-    // we need to repaint the tree's lines</span>
<a href="#l14.188"></a><span id="l14.188" class="difflineminus">-    theTree.invalidateRange(getParentIndex(index), index);</span>
<a href="#l14.189"></a><span id="l14.189" class="difflineminus">-    // a) option is just after an optgroup, so it becomes the last child</span>
<a href="#l14.190"></a><span id="l14.190" class="difflineminus">-    itemArray[index].level = 2;</span>
<a href="#l14.191"></a><span id="l14.191" class="difflineminus">-    theTree.view.selectionChanged();</span>
<a href="#l14.192"></a><span id="l14.192" class="difflineminus">-  } else {</span>
<a href="#l14.193"></a><span id="l14.193" class="difflineminus">-    // otherwise new option level is now the same as the previous item</span>
<a href="#l14.194"></a><span id="l14.194" class="difflineminus">-    itemArray[index].level = itemArray[index - 1].level;</span>
<a href="#l14.195"></a><span id="l14.195" class="difflineminus">-    // swap the option with the previous item</span>
<a href="#l14.196"></a><span id="l14.196" class="difflineminus">-    itemArray.splice(index, 0, itemArray.splice(--index, 1)[0]);</span>
<a href="#l14.197"></a><span id="l14.197" class="difflineminus">-  }</span>
<a href="#l14.198"></a><span id="l14.198" class="difflineminus">-  selectTreeIndex(index, true);</span>
<a href="#l14.199"></a><span id="l14.199" class="difflineminus">-};</span>
<a href="#l14.200"></a><span id="l14.200" class="difflineminus">-</span>
<a href="#l14.201"></a><span id="l14.201" class="difflineminus">-optionObject.prototype.canMoveDown = function() {</span>
<a href="#l14.202"></a><span id="l14.202" class="difflineminus">-  // move down is not allowed on the last option if its level is 1</span>
<a href="#l14.203"></a><span id="l14.203" class="difflineminus">-  return this.level &gt; 1 || itemArray.length - treeSelection.currentIndex &gt; 1;</span>
<a href="#l14.204"></a><span id="l14.204" class="difflineminus">-};</span>
<a href="#l14.205"></a><span id="l14.205" class="difflineminus">-</span>
<a href="#l14.206"></a><span id="l14.206" class="difflineminus">-optionObject.prototype.moveDown = function() {</span>
<a href="#l14.207"></a><span id="l14.207" class="difflineminus">-  var index = treeSelection.currentIndex;</span>
<a href="#l14.208"></a><span id="l14.208" class="difflineminus">-  if (</span>
<a href="#l14.209"></a><span id="l14.209" class="difflineminus">-    index + 1 == itemArray.length ||</span>
<a href="#l14.210"></a><span id="l14.210" class="difflineminus">-    itemArray[index].level &gt; itemArray[index + 1].level</span>
<a href="#l14.211"></a><span id="l14.211" class="difflineminus">-  ) {</span>
<a href="#l14.212"></a><span id="l14.212" class="difflineminus">-    // we need to repaint the tree's lines</span>
<a href="#l14.213"></a><span id="l14.213" class="difflineminus">-    theTree.invalidateRange(getParentIndex(index), index);</span>
<a href="#l14.214"></a><span id="l14.214" class="difflineminus">-    // a) option is last child of an optgroup, so it moves just after</span>
<a href="#l14.215"></a><span id="l14.215" class="difflineminus">-    itemArray[index].level = 1;</span>
<a href="#l14.216"></a><span id="l14.216" class="difflineminus">-    theTree.view.selectionChanged();</span>
<a href="#l14.217"></a><span id="l14.217" class="difflineminus">-  } else {</span>
<a href="#l14.218"></a><span id="l14.218" class="difflineminus">-    // level increases if the option was preceding an optgroup</span>
<a href="#l14.219"></a><span id="l14.219" class="difflineminus">-    itemArray[index].level += itemArray[index + 1].container;</span>
<a href="#l14.220"></a><span id="l14.220" class="difflineminus">-    // swap the option with the next item</span>
<a href="#l14.221"></a><span id="l14.221" class="difflineminus">-    itemArray.splice(index, 0, itemArray.splice(++index, 1)[0]);</span>
<a href="#l14.222"></a><span id="l14.222" class="difflineminus">-  }</span>
<a href="#l14.223"></a><span id="l14.223" class="difflineminus">-  selectTreeIndex(index, true);</span>
<a href="#l14.224"></a><span id="l14.224" class="difflineminus">-};</span>
<a href="#l14.225"></a><span id="l14.225" class="difflineminus">-</span>
<a href="#l14.226"></a><span id="l14.226" class="difflineminus">-optionObject.prototype.appendOption = function(child, parent) {</span>
<a href="#l14.227"></a><span id="l14.227" class="difflineminus">-  // special case quick check</span>
<a href="#l14.228"></a><span id="l14.228" class="difflineminus">-  if (this.level == 1) {</span>
<a href="#l14.229"></a><span id="l14.229" class="difflineminus">-    return gDialog.appendOption(child, 0);</span>
<a href="#l14.230"></a><span id="l14.230" class="difflineminus">-  }</span>
<a href="#l14.231"></a><span id="l14.231" class="difflineminus">-</span>
<a href="#l14.232"></a><span id="l14.232" class="difflineminus">-  // append the option to the parent element</span>
<a href="#l14.233"></a><span id="l14.233" class="difflineminus">-  parent = getParentIndex(parent);</span>
<a href="#l14.234"></a><span id="l14.234" class="difflineminus">-  return itemArray[parent].appendOption(child, parent);</span>
<a href="#l14.235"></a><span id="l14.235" class="difflineminus">-};</span>
<a href="#l14.236"></a><span id="l14.236" class="difflineminus">-</span>
<a href="#l14.237"></a><span id="l14.237" class="difflineminus">-// OPTGROUP element wrapper object</span>
<a href="#l14.238"></a><span id="l14.238" class="difflineminus">-</span>
<a href="#l14.239"></a><span id="l14.239" class="difflineminus">-function optgroupObject(optgroup) {</span>
<a href="#l14.240"></a><span id="l14.240" class="difflineminus">-  this.element = optgroup;</span>
<a href="#l14.241"></a><span id="l14.241" class="difflineminus">-}</span>
<a href="#l14.242"></a><span id="l14.242" class="difflineminus">-</span>
<a href="#l14.243"></a><span id="l14.243" class="difflineminus">-optgroupObject.prototype.level = 1;</span>
<a href="#l14.244"></a><span id="l14.244" class="difflineminus">-</span>
<a href="#l14.245"></a><span id="l14.245" class="difflineminus">-optgroupObject.prototype.container = true;</span>
<a href="#l14.246"></a><span id="l14.246" class="difflineminus">-</span>
<a href="#l14.247"></a><span id="l14.247" class="difflineminus">-optgroupObject.prototype.getCellText = function(column) {</span>
<a href="#l14.248"></a><span id="l14.248" class="difflineminus">-  return column.id == &quot;SelectTextCol&quot; ? this.element.label : &quot;&quot;;</span>
<a href="#l14.249"></a><span id="l14.249" class="difflineminus">-};</span>
<a href="#l14.250"></a><span id="l14.250" class="difflineminus">-</span>
<a href="#l14.251"></a><span id="l14.251" class="difflineminus">-optgroupObject.prototype.cycleCell = function(index) {};</span>
<a href="#l14.252"></a><span id="l14.252" class="difflineminus">-</span>
<a href="#l14.253"></a><span id="l14.253" class="difflineminus">-optgroupObject.prototype.onFocus = function() {</span>
<a href="#l14.254"></a><span id="l14.254" class="difflineminus">-  gDialog.optgroupLabel.value = this.element.label;</span>
<a href="#l14.255"></a><span id="l14.255" class="difflineminus">-  gDialog.optgroupDisabled.checked = this.element.disabled;</span>
<a href="#l14.256"></a><span id="l14.256" class="difflineminus">-  gDialog.selectDeck.setAttribute(&quot;selectedIndex&quot;, &quot;1&quot;);</span>
<a href="#l14.257"></a><span id="l14.257" class="difflineminus">-};</span>
<a href="#l14.258"></a><span id="l14.258" class="difflineminus">-</span>
<a href="#l14.259"></a><span id="l14.259" class="difflineminus">-optgroupObject.prototype.onBlur = function() {</span>
<a href="#l14.260"></a><span id="l14.260" class="difflineminus">-  this.element.label = gDialog.optgroupLabel.value;</span>
<a href="#l14.261"></a><span id="l14.261" class="difflineminus">-  this.element.disabled = gDialog.optgroupDisabled.checked;</span>
<a href="#l14.262"></a><span id="l14.262" class="difflineminus">-};</span>
<a href="#l14.263"></a><span id="l14.263" class="difflineminus">-</span>
<a href="#l14.264"></a><span id="l14.264" class="difflineminus">-optgroupObject.prototype.canDestroy = function(prompt) {</span>
<a href="#l14.265"></a><span id="l14.265" class="difflineminus">-  // Only removing empty option groups for now</span>
<a href="#l14.266"></a><span id="l14.266" class="difflineminus">-  return (</span>
<a href="#l14.267"></a><span id="l14.267" class="difflineminus">-    gDialog.nextChild(treeSelection.currentIndex) -</span>
<a href="#l14.268"></a><span id="l14.268" class="difflineminus">-      treeSelection.currentIndex ==</span>
<a href="#l14.269"></a><span id="l14.269" class="difflineminus">-    1</span>
<a href="#l14.270"></a><span id="l14.270" class="difflineminus">-  );</span>
<a href="#l14.271"></a><span id="l14.271" class="difflineminus">-  /* &amp;&amp; (!prompt ||</span>
<a href="#l14.272"></a><span id="l14.272" class="difflineminus">-    ConfirmWithTitle(GetString(&quot;DeleteOptGroup&quot;),</span>
<a href="#l14.273"></a><span id="l14.273" class="difflineminus">-                     GetString(&quot;DeleteOptGroupMsg&quot;),</span>
<a href="#l14.274"></a><span id="l14.274" class="difflineminus">-                     GetString(&quot;DeleteOptGroup&quot;)));</span>
<a href="#l14.275"></a><span id="l14.275" class="difflineminus">-*/</span>
<a href="#l14.276"></a><span id="l14.276" class="difflineminus">-};</span>
<a href="#l14.277"></a><span id="l14.277" class="difflineminus">-</span>
<a href="#l14.278"></a><span id="l14.278" class="difflineminus">-optgroupObject.prototype.destroy = function() {};</span>
<a href="#l14.279"></a><span id="l14.279" class="difflineminus">-</span>
<a href="#l14.280"></a><span id="l14.280" class="difflineminus">-optgroupObject.prototype.moveUp = function() {</span>
<a href="#l14.281"></a><span id="l14.281" class="difflineminus">-  // Find the index of the previous and next elements at the same level</span>
<a href="#l14.282"></a><span id="l14.282" class="difflineminus">-  var index = treeSelection.currentIndex;</span>
<a href="#l14.283"></a><span id="l14.283" class="difflineminus">-  var i = index;</span>
<a href="#l14.284"></a><span id="l14.284" class="difflineminus">-  // eslint-disable-next-line curly</span>
<a href="#l14.285"></a><span id="l14.285" class="difflineminus">-  while (itemArray[--index].level &gt; 1);</span>
<a href="#l14.286"></a><span id="l14.286" class="difflineminus">-  var j = gDialog.nextChild(i);</span>
<a href="#l14.287"></a><span id="l14.287" class="difflineminus">-  // Cut out the element, cut the array in two, then join together</span>
<a href="#l14.288"></a><span id="l14.288" class="difflineminus">-  var movedItems = itemArray.splice(i, j - i);</span>
<a href="#l14.289"></a><span id="l14.289" class="difflineminus">-  var endItems = itemArray.splice(index);</span>
<a href="#l14.290"></a><span id="l14.290" class="difflineminus">-  itemArray = itemArray.concat(movedItems).concat(endItems);</span>
<a href="#l14.291"></a><span id="l14.291" class="difflineminus">-  // Repaint the lot</span>
<a href="#l14.292"></a><span id="l14.292" class="difflineminus">-  theTree.invalidateRange(index, j);</span>
<a href="#l14.293"></a><span id="l14.293" class="difflineminus">-  selectTreeIndex(index, true);</span>
<a href="#l14.294"></a><span id="l14.294" class="difflineminus">-};</span>
<a href="#l14.295"></a><span id="l14.295" class="difflineminus">-</span>
<a href="#l14.296"></a><span id="l14.296" class="difflineminus">-optgroupObject.prototype.canMoveDown = function() {</span>
<a href="#l14.297"></a><span id="l14.297" class="difflineminus">-  return gDialog.lastChild() &gt; treeSelection.currentIndex;</span>
<a href="#l14.298"></a><span id="l14.298" class="difflineminus">-};</span>
<a href="#l14.299"></a><span id="l14.299" class="difflineminus">-</span>
<a href="#l14.300"></a><span id="l14.300" class="difflineminus">-optgroupObject.prototype.moveDown = function() {</span>
<a href="#l14.301"></a><span id="l14.301" class="difflineminus">-  // Find the index of the next two elements at the same level</span>
<a href="#l14.302"></a><span id="l14.302" class="difflineminus">-  var index = treeSelection.currentIndex;</span>
<a href="#l14.303"></a><span id="l14.303" class="difflineminus">-  var i = gDialog.nextChild(index);</span>
<a href="#l14.304"></a><span id="l14.304" class="difflineminus">-  var j = gDialog.nextChild(i);</span>
<a href="#l14.305"></a><span id="l14.305" class="difflineminus">-  // Cut out the element, cut the array in two, then join together</span>
<a href="#l14.306"></a><span id="l14.306" class="difflineminus">-  var movedItems = itemArray.splice(i, j - 1);</span>
<a href="#l14.307"></a><span id="l14.307" class="difflineminus">-  var endItems = itemArray.splice(index);</span>
<a href="#l14.308"></a><span id="l14.308" class="difflineminus">-  itemArray = itemArray.concat(movedItems).concat(endItems);</span>
<a href="#l14.309"></a><span id="l14.309" class="difflineminus">-  // Repaint the lot</span>
<a href="#l14.310"></a><span id="l14.310" class="difflineminus">-  theTree.invalidateRange(index, j);</span>
<a href="#l14.311"></a><span id="l14.311" class="difflineminus">-  index += j - i;</span>
<a href="#l14.312"></a><span id="l14.312" class="difflineminus">-  selectTreeIndex(index, true);</span>
<a href="#l14.313"></a><span id="l14.313" class="difflineminus">-};</span>
<a href="#l14.314"></a><span id="l14.314" class="difflineminus">-</span>
<a href="#l14.315"></a><span id="l14.315" class="difflineminus">-optgroupObject.prototype.appendOption = function(child, parent) {</span>
<a href="#l14.316"></a><span id="l14.316" class="difflineminus">-  var index = gDialog.nextChild(parent);</span>
<a href="#l14.317"></a><span id="l14.317" class="difflineminus">-  // XXX need to repaint the lines, tree won't do this</span>
<a href="#l14.318"></a><span id="l14.318" class="difflineminus">-  var primaryCol = theTree.columns.getPrimaryColumn();</span>
<a href="#l14.319"></a><span id="l14.319" class="difflineminus">-  theTree.invalidateCell(index - 1, primaryCol);</span>
<a href="#l14.320"></a><span id="l14.320" class="difflineminus">-  // insert the wrapped object as the last child</span>
<a href="#l14.321"></a><span id="l14.321" class="difflineminus">-  itemArray.splice(index, 0, new optionObject(child, 2));</span>
<a href="#l14.322"></a><span id="l14.322" class="difflineminus">-  theTree.rowCountChanged(index, 1);</span>
<a href="#l14.323"></a><span id="l14.323" class="difflineminus">-  selectTreeIndex(index, false);</span>
<a href="#l14.324"></a><span id="l14.324" class="difflineminus">-};</span>
<a href="#l14.325"></a><span id="l14.325" class="difflineminus">-</span>
<a href="#l14.326"></a><span id="l14.326" class="difflineminus">-// dialog initialization code</span>
<a href="#l14.327"></a><span id="l14.327" class="difflineminus">-</span>
<a href="#l14.328"></a><span id="l14.328" class="difflineminus">-function Startup() {</span>
<a href="#l14.329"></a><span id="l14.329" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l14.330"></a><span id="l14.330" class="difflineminus">-  if (!editor) {</span>
<a href="#l14.331"></a><span id="l14.331" class="difflineminus">-    dump(&quot;Failed to get active editor!\n&quot;);</span>
<a href="#l14.332"></a><span id="l14.332" class="difflineminus">-    window.close();</span>
<a href="#l14.333"></a><span id="l14.333" class="difflineminus">-    return;</span>
<a href="#l14.334"></a><span id="l14.334" class="difflineminus">-  }</span>
<a href="#l14.335"></a><span id="l14.335" class="difflineminus">-</span>
<a href="#l14.336"></a><span id="l14.336" class="difflineminus">-  // Get a single selected select element</span>
<a href="#l14.337"></a><span id="l14.337" class="difflineminus">-  const kTagName = &quot;select&quot;;</span>
<a href="#l14.338"></a><span id="l14.338" class="difflineminus">-  try {</span>
<a href="#l14.339"></a><span id="l14.339" class="difflineminus">-    selectElement = editor.getSelectedElement(kTagName);</span>
<a href="#l14.340"></a><span id="l14.340" class="difflineminus">-  } catch (e) {}</span>
<a href="#l14.341"></a><span id="l14.341" class="difflineminus">-</span>
<a href="#l14.342"></a><span id="l14.342" class="difflineminus">-  if (selectElement) {</span>
<a href="#l14.343"></a><span id="l14.343" class="difflineminus">-    // We found an element and don't need to insert one</span>
<a href="#l14.344"></a><span id="l14.344" class="difflineminus">-    insertNew = false;</span>
<a href="#l14.345"></a><span id="l14.345" class="difflineminus">-  } else {</span>
<a href="#l14.346"></a><span id="l14.346" class="difflineminus">-    insertNew = true;</span>
<a href="#l14.347"></a><span id="l14.347" class="difflineminus">-</span>
<a href="#l14.348"></a><span id="l14.348" class="difflineminus">-    // We don't have an element selected,</span>
<a href="#l14.349"></a><span id="l14.349" class="difflineminus">-    //  so create one with default attributes</span>
<a href="#l14.350"></a><span id="l14.350" class="difflineminus">-    try {</span>
<a href="#l14.351"></a><span id="l14.351" class="difflineminus">-      selectElement = editor.createElementWithDefaults(kTagName);</span>
<a href="#l14.352"></a><span id="l14.352" class="difflineminus">-    } catch (e) {}</span>
<a href="#l14.353"></a><span id="l14.353" class="difflineminus">-</span>
<a href="#l14.354"></a><span id="l14.354" class="difflineminus">-    if (!selectElement) {</span>
<a href="#l14.355"></a><span id="l14.355" class="difflineminus">-      dump(&quot;Failed to get selected element or create a new one!\n&quot;);</span>
<a href="#l14.356"></a><span id="l14.356" class="difflineminus">-      window.close();</span>
<a href="#l14.357"></a><span id="l14.357" class="difflineminus">-      return;</span>
<a href="#l14.358"></a><span id="l14.358" class="difflineminus">-    }</span>
<a href="#l14.359"></a><span id="l14.359" class="difflineminus">-  }</span>
<a href="#l14.360"></a><span id="l14.360" class="difflineminus">-</span>
<a href="#l14.361"></a><span id="l14.361" class="difflineminus">-  // SELECT element wrapper object</span>
<a href="#l14.362"></a><span id="l14.362" class="difflineminus">-  gDialog = {</span>
<a href="#l14.363"></a><span id="l14.363" class="difflineminus">-    // useful elements</span>
<a href="#l14.364"></a><span id="l14.364" class="difflineminus">-    accept: document.documentElement.getButton(&quot;accept&quot;),</span>
<a href="#l14.365"></a><span id="l14.365" class="difflineminus">-    selectDeck: document.getElementById(&quot;SelectDeck&quot;),</span>
<a href="#l14.366"></a><span id="l14.366" class="difflineminus">-    selectName: document.getElementById(&quot;SelectName&quot;),</span>
<a href="#l14.367"></a><span id="l14.367" class="difflineminus">-    selectSize: document.getElementById(&quot;SelectSize&quot;),</span>
<a href="#l14.368"></a><span id="l14.368" class="difflineminus">-    selectMultiple: document.getElementById(&quot;SelectMultiple&quot;),</span>
<a href="#l14.369"></a><span id="l14.369" class="difflineminus">-    selectDisabled: document.getElementById(&quot;SelectDisabled&quot;),</span>
<a href="#l14.370"></a><span id="l14.370" class="difflineminus">-    selectTabIndex: document.getElementById(&quot;SelectTabIndex&quot;),</span>
<a href="#l14.371"></a><span id="l14.371" class="difflineminus">-    optgroupLabel: document.getElementById(&quot;OptGroupLabel&quot;),</span>
<a href="#l14.372"></a><span id="l14.372" class="difflineminus">-    optgroupDisabled: document.getElementById(&quot;OptGroupDisabled&quot;),</span>
<a href="#l14.373"></a><span id="l14.373" class="difflineminus">-    optionText: document.getElementById(&quot;OptionText&quot;),</span>
<a href="#l14.374"></a><span id="l14.374" class="difflineminus">-    optionHasValue: document.getElementById(&quot;OptionHasValue&quot;),</span>
<a href="#l14.375"></a><span id="l14.375" class="difflineminus">-    optionValue: document.getElementById(&quot;OptionValue&quot;),</span>
<a href="#l14.376"></a><span id="l14.376" class="difflineminus">-    optionSelected: document.getElementById(&quot;OptionSelected&quot;),</span>
<a href="#l14.377"></a><span id="l14.377" class="difflineminus">-    optionDisabled: document.getElementById(&quot;OptionDisabled&quot;),</span>
<a href="#l14.378"></a><span id="l14.378" class="difflineminus">-    removeButton: document.getElementById(&quot;RemoveButton&quot;),</span>
<a href="#l14.379"></a><span id="l14.379" class="difflineminus">-    previousButton: document.getElementById(&quot;PreviousButton&quot;),</span>
<a href="#l14.380"></a><span id="l14.380" class="difflineminus">-    nextButton: document.getElementById(&quot;NextButton&quot;),</span>
<a href="#l14.381"></a><span id="l14.381" class="difflineminus">-    tree: document.getElementById(&quot;SelectTree&quot;),</span>
<a href="#l14.382"></a><span id="l14.382" class="difflineminus">-    // wrapper methods (except MoveUp and MoveDown)</span>
<a href="#l14.383"></a><span id="l14.383" class="difflineminus">-    element: selectElement.cloneNode(false),</span>
<a href="#l14.384"></a><span id="l14.384" class="difflineminus">-    level: 0,</span>
<a href="#l14.385"></a><span id="l14.385" class="difflineminus">-    container: true,</span>
<a href="#l14.386"></a><span id="l14.386" class="difflineminus">-    getCellText(column) {</span>
<a href="#l14.387"></a><span id="l14.387" class="difflineminus">-      return column.id == &quot;SelectTextCol&quot;</span>
<a href="#l14.388"></a><span id="l14.388" class="difflineminus">-        ? this.element.getAttribute(&quot;name&quot;)</span>
<a href="#l14.389"></a><span id="l14.389" class="difflineminus">-        : &quot;&quot;;</span>
<a href="#l14.390"></a><span id="l14.390" class="difflineminus">-    },</span>
<a href="#l14.391"></a><span id="l14.391" class="difflineminus">-    cycleCell(index) {},</span>
<a href="#l14.392"></a><span id="l14.392" class="difflineminus">-    onFocus() {</span>
<a href="#l14.393"></a><span id="l14.393" class="difflineminus">-      gDialog.selectName.value = this.element.getAttribute(&quot;name&quot;);</span>
<a href="#l14.394"></a><span id="l14.394" class="difflineminus">-      gDialog.selectSize.value = this.element.getAttribute(&quot;size&quot;);</span>
<a href="#l14.395"></a><span id="l14.395" class="difflineminus">-      gDialog.selectMultiple.checked = this.element.hasAttribute(&quot;multiple&quot;);</span>
<a href="#l14.396"></a><span id="l14.396" class="difflineminus">-      gDialog.selectDisabled.checked = this.element.hasAttribute(&quot;disabled&quot;);</span>
<a href="#l14.397"></a><span id="l14.397" class="difflineminus">-      gDialog.selectTabIndex.value = this.element.getAttribute(&quot;tabindex&quot;);</span>
<a href="#l14.398"></a><span id="l14.398" class="difflineminus">-      this.selectDeck.setAttribute(&quot;selectedIndex&quot;, &quot;0&quot;);</span>
<a href="#l14.399"></a><span id="l14.399" class="difflineminus">-      onNameInput();</span>
<a href="#l14.400"></a><span id="l14.400" class="difflineminus">-    },</span>
<a href="#l14.401"></a><span id="l14.401" class="difflineminus">-    onBlur() {</span>
<a href="#l14.402"></a><span id="l14.402" class="difflineminus">-      this.element.setAttribute(&quot;name&quot;, gDialog.selectName.value);</span>
<a href="#l14.403"></a><span id="l14.403" class="difflineminus">-      if (gDialog.selectSize.value) {</span>
<a href="#l14.404"></a><span id="l14.404" class="difflineminus">-        this.element.setAttribute(&quot;size&quot;, gDialog.selectSize.value);</span>
<a href="#l14.405"></a><span id="l14.405" class="difflineminus">-      } else {</span>
<a href="#l14.406"></a><span id="l14.406" class="difflineminus">-        this.element.removeAttribute(&quot;size&quot;);</span>
<a href="#l14.407"></a><span id="l14.407" class="difflineminus">-      }</span>
<a href="#l14.408"></a><span id="l14.408" class="difflineminus">-      if (gDialog.selectMultiple.checked) {</span>
<a href="#l14.409"></a><span id="l14.409" class="difflineminus">-        this.element.setAttribute(&quot;multiple&quot;, &quot;&quot;);</span>
<a href="#l14.410"></a><span id="l14.410" class="difflineminus">-      } else {</span>
<a href="#l14.411"></a><span id="l14.411" class="difflineminus">-        this.element.removeAttribute(&quot;multiple&quot;);</span>
<a href="#l14.412"></a><span id="l14.412" class="difflineminus">-      }</span>
<a href="#l14.413"></a><span id="l14.413" class="difflineminus">-      if (gDialog.selectDisabled.checked) {</span>
<a href="#l14.414"></a><span id="l14.414" class="difflineminus">-        this.element.setAttribute(&quot;disabled&quot;, &quot;&quot;);</span>
<a href="#l14.415"></a><span id="l14.415" class="difflineminus">-      } else {</span>
<a href="#l14.416"></a><span id="l14.416" class="difflineminus">-        this.element.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l14.417"></a><span id="l14.417" class="difflineminus">-      }</span>
<a href="#l14.418"></a><span id="l14.418" class="difflineminus">-      if (gDialog.selectTabIndex.value) {</span>
<a href="#l14.419"></a><span id="l14.419" class="difflineminus">-        this.element.setAttribute(&quot;tabindex&quot;, gDialog.selectTabIndex.value);</span>
<a href="#l14.420"></a><span id="l14.420" class="difflineminus">-      } else {</span>
<a href="#l14.421"></a><span id="l14.421" class="difflineminus">-        this.element.removeAttribute(&quot;tabindex&quot;);</span>
<a href="#l14.422"></a><span id="l14.422" class="difflineminus">-      }</span>
<a href="#l14.423"></a><span id="l14.423" class="difflineminus">-    },</span>
<a href="#l14.424"></a><span id="l14.424" class="difflineminus">-    appendOption(child, parent) {</span>
<a href="#l14.425"></a><span id="l14.425" class="difflineminus">-      var index = itemArray.length;</span>
<a href="#l14.426"></a><span id="l14.426" class="difflineminus">-      // XXX need to repaint the lines, tree won't do this</span>
<a href="#l14.427"></a><span id="l14.427" class="difflineminus">-      theTree.invalidateRange(this.lastChild(), index);</span>
<a href="#l14.428"></a><span id="l14.428" class="difflineminus">-      // append the wrapped object</span>
<a href="#l14.429"></a><span id="l14.429" class="difflineminus">-      itemArray.push(new optionObject(child, 1));</span>
<a href="#l14.430"></a><span id="l14.430" class="difflineminus">-      theTree.rowCountChanged(index, 1);</span>
<a href="#l14.431"></a><span id="l14.431" class="difflineminus">-      selectTreeIndex(index, false);</span>
<a href="#l14.432"></a><span id="l14.432" class="difflineminus">-    },</span>
<a href="#l14.433"></a><span id="l14.433" class="difflineminus">-    canDestroy(prompt) {</span>
<a href="#l14.434"></a><span id="l14.434" class="difflineminus">-      return false;</span>
<a href="#l14.435"></a><span id="l14.435" class="difflineminus">-    },</span>
<a href="#l14.436"></a><span id="l14.436" class="difflineminus">-    canMoveDown() {</span>
<a href="#l14.437"></a><span id="l14.437" class="difflineminus">-      return false;</span>
<a href="#l14.438"></a><span id="l14.438" class="difflineminus">-    },</span>
<a href="#l14.439"></a><span id="l14.439" class="difflineminus">-    // helper methods</span>
<a href="#l14.440"></a><span id="l14.440" class="difflineminus">-    // Find the index of the next immediate child of the select</span>
<a href="#l14.441"></a><span id="l14.441" class="difflineminus">-    nextChild(index) {</span>
<a href="#l14.442"></a><span id="l14.442" class="difflineminus">-      // eslint-disable-next-line curly</span>
<a href="#l14.443"></a><span id="l14.443" class="difflineminus">-      while (++index &lt; itemArray.length &amp;&amp; itemArray[index].level &gt; 1);</span>
<a href="#l14.444"></a><span id="l14.444" class="difflineminus">-      return index;</span>
<a href="#l14.445"></a><span id="l14.445" class="difflineminus">-    },</span>
<a href="#l14.446"></a><span id="l14.446" class="difflineminus">-    // Find the index of the last immediate child of the select</span>
<a href="#l14.447"></a><span id="l14.447" class="difflineminus">-    lastChild() {</span>
<a href="#l14.448"></a><span id="l14.448" class="difflineminus">-      var index = itemArray.length;</span>
<a href="#l14.449"></a><span id="l14.449" class="difflineminus">-      // eslint-disable-next-line curly</span>
<a href="#l14.450"></a><span id="l14.450" class="difflineminus">-      while (itemArray[--index].level &gt; 1);</span>
<a href="#l14.451"></a><span id="l14.451" class="difflineminus">-      return index;</span>
<a href="#l14.452"></a><span id="l14.452" class="difflineminus">-    },</span>
<a href="#l14.453"></a><span id="l14.453" class="difflineminus">-  };</span>
<a href="#l14.454"></a><span id="l14.454" class="difflineminus">-  // Start with the &lt;select&gt; wrapper</span>
<a href="#l14.455"></a><span id="l14.455" class="difflineminus">-  itemArray = [gDialog];</span>
<a href="#l14.456"></a><span id="l14.456" class="difflineminus">-</span>
<a href="#l14.457"></a><span id="l14.457" class="difflineminus">-  // We modify the actual option and optgroup elements so clone them first</span>
<a href="#l14.458"></a><span id="l14.458" class="difflineminus">-  for (var child = selectElement.firstChild; child; child = child.nextSibling) {</span>
<a href="#l14.459"></a><span id="l14.459" class="difflineminus">-    if (child.tagName == &quot;OPTION&quot;) {</span>
<a href="#l14.460"></a><span id="l14.460" class="difflineminus">-      itemArray.push(new optionObject(child.cloneNode(true), 1));</span>
<a href="#l14.461"></a><span id="l14.461" class="difflineminus">-    } else if (child.tagName == &quot;OPTGROUP&quot;) {</span>
<a href="#l14.462"></a><span id="l14.462" class="difflineminus">-      itemArray.push(new optgroupObject(child.cloneNode(false)));</span>
<a href="#l14.463"></a><span id="l14.463" class="difflineminus">-      for (</span>
<a href="#l14.464"></a><span id="l14.464" class="difflineminus">-        var grandchild = child.firstChild;</span>
<a href="#l14.465"></a><span id="l14.465" class="difflineminus">-        grandchild;</span>
<a href="#l14.466"></a><span id="l14.466" class="difflineminus">-        grandchild = grandchild.nextSibling</span>
<a href="#l14.467"></a><span id="l14.467" class="difflineminus">-      ) {</span>
<a href="#l14.468"></a><span id="l14.468" class="difflineminus">-        if (grandchild.tagName == &quot;OPTION&quot;) {</span>
<a href="#l14.469"></a><span id="l14.469" class="difflineminus">-          itemArray.push(new optionObject(grandchild.cloneNode(true), 2));</span>
<a href="#l14.470"></a><span id="l14.470" class="difflineminus">-        }</span>
<a href="#l14.471"></a><span id="l14.471" class="difflineminus">-      }</span>
<a href="#l14.472"></a><span id="l14.472" class="difflineminus">-    }</span>
<a href="#l14.473"></a><span id="l14.473" class="difflineminus">-  }</span>
<a href="#l14.474"></a><span id="l14.474" class="difflineminus">-</span>
<a href="#l14.475"></a><span id="l14.475" class="difflineminus">-  UpdateSelectMultiple();</span>
<a href="#l14.476"></a><span id="l14.476" class="difflineminus">-</span>
<a href="#l14.477"></a><span id="l14.477" class="difflineminus">-  // Define a custom view for the tree</span>
<a href="#l14.478"></a><span id="l14.478" class="difflineminus">-  theTree = gDialog.tree;</span>
<a href="#l14.479"></a><span id="l14.479" class="difflineminus">-  theTree.view = {</span>
<a href="#l14.480"></a><span id="l14.480" class="difflineminus">-    QueryInterface: ChromeUtils.generateQI([</span>
<a href="#l14.481"></a><span id="l14.481" class="difflineminus">-      &quot;nsITreeView&quot;,</span>
<a href="#l14.482"></a><span id="l14.482" class="difflineminus">-      &quot;nsISupportsWeakReference&quot;,</span>
<a href="#l14.483"></a><span id="l14.483" class="difflineminus">-    ]),</span>
<a href="#l14.484"></a><span id="l14.484" class="difflineminus">-    // useful for debugging</span>
<a href="#l14.485"></a><span id="l14.485" class="difflineminus">-    get wrappedJSObject() {</span>
<a href="#l14.486"></a><span id="l14.486" class="difflineminus">-      return this;</span>
<a href="#l14.487"></a><span id="l14.487" class="difflineminus">-    },</span>
<a href="#l14.488"></a><span id="l14.488" class="difflineminus">-    get rowCount() {</span>
<a href="#l14.489"></a><span id="l14.489" class="difflineminus">-      return itemArray.length;</span>
<a href="#l14.490"></a><span id="l14.490" class="difflineminus">-    },</span>
<a href="#l14.491"></a><span id="l14.491" class="difflineminus">-    get selection() {</span>
<a href="#l14.492"></a><span id="l14.492" class="difflineminus">-      return treeSelection;</span>
<a href="#l14.493"></a><span id="l14.493" class="difflineminus">-    },</span>
<a href="#l14.494"></a><span id="l14.494" class="difflineminus">-    set selection(selection) {</span>
<a href="#l14.495"></a><span id="l14.495" class="difflineminus">-      return (treeSelection = selection);</span>
<a href="#l14.496"></a><span id="l14.496" class="difflineminus">-    },</span>
<a href="#l14.497"></a><span id="l14.497" class="difflineminus">-    getRowProperties(index) {</span>
<a href="#l14.498"></a><span id="l14.498" class="difflineminus">-      return &quot;&quot;;</span>
<a href="#l14.499"></a><span id="l14.499" class="difflineminus">-    },</span>
<a href="#l14.500"></a><span id="l14.500" class="difflineminus">-    // could have used a wrapper for this</span>
<a href="#l14.501"></a><span id="l14.501" class="difflineminus">-    getCellProperties(index, column) {</span>
<a href="#l14.502"></a><span id="l14.502" class="difflineminus">-      if (column.id == &quot;SelectSelCol&quot; &amp;&amp; !itemArray[index].container) {</span>
<a href="#l14.503"></a><span id="l14.503" class="difflineminus">-        return &quot;checked-&quot; + itemArray[index].element.hasAttribute(&quot;selected&quot;);</span>
<a href="#l14.504"></a><span id="l14.504" class="difflineminus">-      }</span>
<a href="#l14.505"></a><span id="l14.505" class="difflineminus">-      return &quot;&quot;;</span>
<a href="#l14.506"></a><span id="l14.506" class="difflineminus">-    },</span>
<a href="#l14.507"></a><span id="l14.507" class="difflineminus">-    getColumnProperties(column) {</span>
<a href="#l14.508"></a><span id="l14.508" class="difflineminus">-      return &quot;&quot;;</span>
<a href="#l14.509"></a><span id="l14.509" class="difflineminus">-    },</span>
<a href="#l14.510"></a><span id="l14.510" class="difflineminus">-    // get info from wrapper</span>
<a href="#l14.511"></a><span id="l14.511" class="difflineminus">-    isContainer(index) {</span>
<a href="#l14.512"></a><span id="l14.512" class="difflineminus">-      return itemArray[index].container;</span>
<a href="#l14.513"></a><span id="l14.513" class="difflineminus">-    },</span>
<a href="#l14.514"></a><span id="l14.514" class="difflineminus">-    isContainerOpen(index) {</span>
<a href="#l14.515"></a><span id="l14.515" class="difflineminus">-      return true;</span>
<a href="#l14.516"></a><span id="l14.516" class="difflineminus">-    },</span>
<a href="#l14.517"></a><span id="l14.517" class="difflineminus">-    isContainerEmpty(index) {</span>
<a href="#l14.518"></a><span id="l14.518" class="difflineminus">-      return true;</span>
<a href="#l14.519"></a><span id="l14.519" class="difflineminus">-    },</span>
<a href="#l14.520"></a><span id="l14.520" class="difflineminus">-    isSeparator(index) {</span>
<a href="#l14.521"></a><span id="l14.521" class="difflineminus">-      return false;</span>
<a href="#l14.522"></a><span id="l14.522" class="difflineminus">-    },</span>
<a href="#l14.523"></a><span id="l14.523" class="difflineminus">-    isSorted() {</span>
<a href="#l14.524"></a><span id="l14.524" class="difflineminus">-      return false;</span>
<a href="#l14.525"></a><span id="l14.525" class="difflineminus">-    },</span>
<a href="#l14.526"></a><span id="l14.526" class="difflineminus">-    // d&amp;d not implemented yet!</span>
<a href="#l14.527"></a><span id="l14.527" class="difflineminus">-    canDrop(index, orientation) {</span>
<a href="#l14.528"></a><span id="l14.528" class="difflineminus">-      return false;</span>
<a href="#l14.529"></a><span id="l14.529" class="difflineminus">-    },</span>
<a href="#l14.530"></a><span id="l14.530" class="difflineminus">-    drop(index, orientation) {</span>
<a href="#l14.531"></a><span id="l14.531" class="difflineminus">-      alert(&quot;drop:&quot; + index + &quot;,&quot; + orientation);</span>
<a href="#l14.532"></a><span id="l14.532" class="difflineminus">-    },</span>
<a href="#l14.533"></a><span id="l14.533" class="difflineminus">-    // same as the global helper</span>
<a href="#l14.534"></a><span id="l14.534" class="difflineminus">-    getParentIndex,</span>
<a href="#l14.535"></a><span id="l14.535" class="difflineminus">-    // tree needs to know when to paint lines</span>
<a href="#l14.536"></a><span id="l14.536" class="difflineminus">-    hasNextSibling(index, after) {</span>
<a href="#l14.537"></a><span id="l14.537" class="difflineminus">-      if (!index) {</span>
<a href="#l14.538"></a><span id="l14.538" class="difflineminus">-        return false;</span>
<a href="#l14.539"></a><span id="l14.539" class="difflineminus">-      }</span>
<a href="#l14.540"></a><span id="l14.540" class="difflineminus">-      var level = itemArray[index].level;</span>
<a href="#l14.541"></a><span id="l14.541" class="difflineminus">-      while (++after &lt; itemArray.length) {</span>
<a href="#l14.542"></a><span id="l14.542" class="difflineminus">-        switch (level - itemArray[after].level) {</span>
<a href="#l14.543"></a><span id="l14.543" class="difflineminus">-          case 1:</span>
<a href="#l14.544"></a><span id="l14.544" class="difflineminus">-            return false;</span>
<a href="#l14.545"></a><span id="l14.545" class="difflineminus">-          case 0:</span>
<a href="#l14.546"></a><span id="l14.546" class="difflineminus">-            return true;</span>
<a href="#l14.547"></a><span id="l14.547" class="difflineminus">-        }</span>
<a href="#l14.548"></a><span id="l14.548" class="difflineminus">-      }</span>
<a href="#l14.549"></a><span id="l14.549" class="difflineminus">-      return false;</span>
<a href="#l14.550"></a><span id="l14.550" class="difflineminus">-    },</span>
<a href="#l14.551"></a><span id="l14.551" class="difflineminus">-    getLevel(index) {</span>
<a href="#l14.552"></a><span id="l14.552" class="difflineminus">-      return itemArray[index].level;</span>
<a href="#l14.553"></a><span id="l14.553" class="difflineminus">-    },</span>
<a href="#l14.554"></a><span id="l14.554" class="difflineminus">-    getImageSrc(index, column) {},</span>
<a href="#l14.555"></a><span id="l14.555" class="difflineminus">-    getProgressMode(index, column) {},</span>
<a href="#l14.556"></a><span id="l14.556" class="difflineminus">-    getCellValue(index, column) {},</span>
<a href="#l14.557"></a><span id="l14.557" class="difflineminus">-    getCellText(index, column) {</span>
<a href="#l14.558"></a><span id="l14.558" class="difflineminus">-      return itemArray[index].getCellText(column);</span>
<a href="#l14.559"></a><span id="l14.559" class="difflineminus">-    },</span>
<a href="#l14.560"></a><span id="l14.560" class="difflineminus">-    setTree(tree) {</span>
<a href="#l14.561"></a><span id="l14.561" class="difflineminus">-      this.tree = tree;</span>
<a href="#l14.562"></a><span id="l14.562" class="difflineminus">-    },</span>
<a href="#l14.563"></a><span id="l14.563" class="difflineminus">-    toggleOpenState(index) {},</span>
<a href="#l14.564"></a><span id="l14.564" class="difflineminus">-    cycleHeader(col) {},</span>
<a href="#l14.565"></a><span id="l14.565" class="difflineminus">-    selectionChanged() {</span>
<a href="#l14.566"></a><span id="l14.566" class="difflineminus">-      // Save current values and update buttons and deck</span>
<a href="#l14.567"></a><span id="l14.567" class="difflineminus">-      if (currentItem) {</span>
<a href="#l14.568"></a><span id="l14.568" class="difflineminus">-        currentItem.onBlur();</span>
<a href="#l14.569"></a><span id="l14.569" class="difflineminus">-      }</span>
<a href="#l14.570"></a><span id="l14.570" class="difflineminus">-      var currentIndex = treeSelection.currentIndex;</span>
<a href="#l14.571"></a><span id="l14.571" class="difflineminus">-      currentItem = itemArray[currentIndex];</span>
<a href="#l14.572"></a><span id="l14.572" class="difflineminus">-      gDialog.removeButton.disabled = !currentItem.canDestroy();</span>
<a href="#l14.573"></a><span id="l14.573" class="difflineminus">-      gDialog.previousButton.disabled = currentIndex &lt; 2;</span>
<a href="#l14.574"></a><span id="l14.574" class="difflineminus">-      gDialog.nextButton.disabled = !currentItem.canMoveDown();</span>
<a href="#l14.575"></a><span id="l14.575" class="difflineminus">-      // For Advanced Edit</span>
<a href="#l14.576"></a><span id="l14.576" class="difflineminus">-      globalElement = currentItem.element;</span>
<a href="#l14.577"></a><span id="l14.577" class="difflineminus">-      currentItem.onFocus();</span>
<a href="#l14.578"></a><span id="l14.578" class="difflineminus">-    },</span>
<a href="#l14.579"></a><span id="l14.579" class="difflineminus">-    cycleCell(index, column) {</span>
<a href="#l14.580"></a><span id="l14.580" class="difflineminus">-      itemArray[index].cycleCell(index);</span>
<a href="#l14.581"></a><span id="l14.581" class="difflineminus">-    },</span>
<a href="#l14.582"></a><span id="l14.582" class="difflineminus">-    isEditable(index, column) {</span>
<a href="#l14.583"></a><span id="l14.583" class="difflineminus">-      return false;</span>
<a href="#l14.584"></a><span id="l14.584" class="difflineminus">-    },</span>
<a href="#l14.585"></a><span id="l14.585" class="difflineminus">-  };</span>
<a href="#l14.586"></a><span id="l14.586" class="difflineminus">-  treeSelection.select(0);</span>
<a href="#l14.587"></a><span id="l14.587" class="difflineminus">-  currentItem = gDialog;</span>
<a href="#l14.588"></a><span id="l14.588" class="difflineminus">-  // onNameInput();</span>
<a href="#l14.589"></a><span id="l14.589" class="difflineminus">-</span>
<a href="#l14.590"></a><span id="l14.590" class="difflineminus">-  SetTextboxFocus(gDialog.selectName);</span>
<a href="#l14.591"></a><span id="l14.591" class="difflineminus">-</span>
<a href="#l14.592"></a><span id="l14.592" class="difflineminus">-  SetWindowLocation();</span>
<a href="#l14.593"></a><span id="l14.593" class="difflineminus">-}</span>
<a href="#l14.594"></a><span id="l14.594" class="difflineminus">-</span>
<a href="#l14.595"></a><span id="l14.595" class="difflineminus">-// Called from Advanced Edit</span>
<a href="#l14.596"></a><span id="l14.596" class="difflineminus">-function InitDialog() {</span>
<a href="#l14.597"></a><span id="l14.597" class="difflineminus">-  currentItem.onFocus();</span>
<a href="#l14.598"></a><span id="l14.598" class="difflineminus">-}</span>
<a href="#l14.599"></a><span id="l14.599" class="difflineminus">-</span>
<a href="#l14.600"></a><span id="l14.600" class="difflineminus">-// Called from Advanced Edit</span>
<a href="#l14.601"></a><span id="l14.601" class="difflineminus">-function ValidateData() {</span>
<a href="#l14.602"></a><span id="l14.602" class="difflineminus">-  currentItem.onBlur();</span>
<a href="#l14.603"></a><span id="l14.603" class="difflineminus">-  return true;</span>
<a href="#l14.604"></a><span id="l14.604" class="difflineminus">-}</span>
<a href="#l14.605"></a><span id="l14.605" class="difflineminus">-</span>
<a href="#l14.606"></a><span id="l14.606" class="difflineminus">-function onAccept() {</span>
<a href="#l14.607"></a><span id="l14.607" class="difflineminus">-  // All values are valid - copy to actual element in doc or</span>
<a href="#l14.608"></a><span id="l14.608" class="difflineminus">-  //   element created to insert</span>
<a href="#l14.609"></a><span id="l14.609" class="difflineminus">-  ValidateData();</span>
<a href="#l14.610"></a><span id="l14.610" class="difflineminus">-</span>
<a href="#l14.611"></a><span id="l14.611" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l14.612"></a><span id="l14.612" class="difflineminus">-</span>
<a href="#l14.613"></a><span id="l14.613" class="difflineminus">-  // Coalesce into one undo transaction</span>
<a href="#l14.614"></a><span id="l14.614" class="difflineminus">-  editor.beginTransaction();</span>
<a href="#l14.615"></a><span id="l14.615" class="difflineminus">-</span>
<a href="#l14.616"></a><span id="l14.616" class="difflineminus">-  try {</span>
<a href="#l14.617"></a><span id="l14.617" class="difflineminus">-    editor.cloneAttributes(selectElement, gDialog.element);</span>
<a href="#l14.618"></a><span id="l14.618" class="difflineminus">-</span>
<a href="#l14.619"></a><span id="l14.619" class="difflineminus">-    if (insertNew) {</span>
<a href="#l14.620"></a><span id="l14.620" class="difflineminus">-      // 'true' means delete the selection before inserting</span>
<a href="#l14.621"></a><span id="l14.621" class="difflineminus">-      editor.insertElementAtSelection(selectElement, true);</span>
<a href="#l14.622"></a><span id="l14.622" class="difflineminus">-    }</span>
<a href="#l14.623"></a><span id="l14.623" class="difflineminus">-</span>
<a href="#l14.624"></a><span id="l14.624" class="difflineminus">-    editor.setShouldTxnSetSelection(false);</span>
<a href="#l14.625"></a><span id="l14.625" class="difflineminus">-</span>
<a href="#l14.626"></a><span id="l14.626" class="difflineminus">-    while (selectElement.lastChild) {</span>
<a href="#l14.627"></a><span id="l14.627" class="difflineminus">-      editor.deleteNode(selectElement.lastChild);</span>
<a href="#l14.628"></a><span id="l14.628" class="difflineminus">-    }</span>
<a href="#l14.629"></a><span id="l14.629" class="difflineminus">-</span>
<a href="#l14.630"></a><span id="l14.630" class="difflineminus">-    var offset = 0;</span>
<a href="#l14.631"></a><span id="l14.631" class="difflineminus">-    for (var i = 1; i &lt; itemArray.length; i++) {</span>
<a href="#l14.632"></a><span id="l14.632" class="difflineminus">-      if (itemArray[i].level &gt; 1) {</span>
<a href="#l14.633"></a><span id="l14.633" class="difflineminus">-        selectElement.lastChild.appendChild(itemArray[i].element);</span>
<a href="#l14.634"></a><span id="l14.634" class="difflineminus">-      } else {</span>
<a href="#l14.635"></a><span id="l14.635" class="difflineminus">-        editor.insertNode(itemArray[i].element, selectElement, offset++, true);</span>
<a href="#l14.636"></a><span id="l14.636" class="difflineminus">-      }</span>
<a href="#l14.637"></a><span id="l14.637" class="difflineminus">-    }</span>
<a href="#l14.638"></a><span id="l14.638" class="difflineminus">-</span>
<a href="#l14.639"></a><span id="l14.639" class="difflineminus">-    editor.setShouldTxnSetSelection(true);</span>
<a href="#l14.640"></a><span id="l14.640" class="difflineminus">-  } finally {</span>
<a href="#l14.641"></a><span id="l14.641" class="difflineminus">-    editor.endTransaction();</span>
<a href="#l14.642"></a><span id="l14.642" class="difflineminus">-  }</span>
<a href="#l14.643"></a><span id="l14.643" class="difflineminus">-</span>
<a href="#l14.644"></a><span id="l14.644" class="difflineminus">-  SaveWindowLocation();</span>
<a href="#l14.645"></a><span id="l14.645" class="difflineminus">-}</span>
<a href="#l14.646"></a><span id="l14.646" class="difflineminus">-</span>
<a href="#l14.647"></a><span id="l14.647" class="difflineminus">-// Button actions</span>
<a href="#l14.648"></a><span id="l14.648" class="difflineminus">-function AddOption() {</span>
<a href="#l14.649"></a><span id="l14.649" class="difflineminus">-  currentItem.appendOption(</span>
<a href="#l14.650"></a><span id="l14.650" class="difflineminus">-    GetCurrentEditor().createElementWithDefaults(&quot;option&quot;),</span>
<a href="#l14.651"></a><span id="l14.651" class="difflineminus">-    treeSelection.currentIndex</span>
<a href="#l14.652"></a><span id="l14.652" class="difflineminus">-  );</span>
<a href="#l14.653"></a><span id="l14.653" class="difflineminus">-  SetTextboxFocus(gDialog.optionText);</span>
<a href="#l14.654"></a><span id="l14.654" class="difflineminus">-}</span>
<a href="#l14.655"></a><span id="l14.655" class="difflineminus">-</span>
<a href="#l14.656"></a><span id="l14.656" class="difflineminus">-function AddOptGroup() {</span>
<a href="#l14.657"></a><span id="l14.657" class="difflineminus">-  var optgroupElement = GetCurrentEditor().createElementWithDefaults(</span>
<a href="#l14.658"></a><span id="l14.658" class="difflineminus">-    &quot;optgroup&quot;</span>
<a href="#l14.659"></a><span id="l14.659" class="difflineminus">-  );</span>
<a href="#l14.660"></a><span id="l14.660" class="difflineminus">-  var index = itemArray.length;</span>
<a href="#l14.661"></a><span id="l14.661" class="difflineminus">-  // XXX need to repaint the lines, tree won't do this</span>
<a href="#l14.662"></a><span id="l14.662" class="difflineminus">-  theTree.invalidateRange(gDialog.lastChild(), index);</span>
<a href="#l14.663"></a><span id="l14.663" class="difflineminus">-  // append the wrapped object</span>
<a href="#l14.664"></a><span id="l14.664" class="difflineminus">-  itemArray.push(new optgroupObject(optgroupElement));</span>
<a href="#l14.665"></a><span id="l14.665" class="difflineminus">-  theTree.rowCountChanged(index, 1);</span>
<a href="#l14.666"></a><span id="l14.666" class="difflineminus">-  selectTreeIndex(index, false);</span>
<a href="#l14.667"></a><span id="l14.667" class="difflineminus">-  SetTextboxFocus(gDialog.optgroupLabel);</span>
<a href="#l14.668"></a><span id="l14.668" class="difflineminus">-}</span>
<a href="#l14.669"></a><span id="l14.669" class="difflineminus">-</span>
<a href="#l14.670"></a><span id="l14.670" class="difflineminus">-function RemoveElement() {</span>
<a href="#l14.671"></a><span id="l14.671" class="difflineminus">-  if (currentItem.canDestroy(true)) {</span>
<a href="#l14.672"></a><span id="l14.672" class="difflineminus">-    // Only removing empty option groups for now</span>
<a href="#l14.673"></a><span id="l14.673" class="difflineminus">-    var index = treeSelection.currentIndex;</span>
<a href="#l14.674"></a><span id="l14.674" class="difflineminus">-    var level = itemArray[index].level;</span>
<a href="#l14.675"></a><span id="l14.675" class="difflineminus">-    // Perform necessary cleanup and remove the wrapper</span>
<a href="#l14.676"></a><span id="l14.676" class="difflineminus">-    itemArray[index].destroy();</span>
<a href="#l14.677"></a><span id="l14.677" class="difflineminus">-    itemArray.splice(index, 1);</span>
<a href="#l14.678"></a><span id="l14.678" class="difflineminus">-    --index;</span>
<a href="#l14.679"></a><span id="l14.679" class="difflineminus">-    // XXX need to repaint the lines, tree won't do this</span>
<a href="#l14.680"></a><span id="l14.680" class="difflineminus">-    if (level == 1) {</span>
<a href="#l14.681"></a><span id="l14.681" class="difflineminus">-      var last = gDialog.lastChild();</span>
<a href="#l14.682"></a><span id="l14.682" class="difflineminus">-      if (index &gt; last) {</span>
<a href="#l14.683"></a><span id="l14.683" class="difflineminus">-        theTree.invalidateRange(last, index);</span>
<a href="#l14.684"></a><span id="l14.684" class="difflineminus">-      }</span>
<a href="#l14.685"></a><span id="l14.685" class="difflineminus">-    }</span>
<a href="#l14.686"></a><span id="l14.686" class="difflineminus">-    selectTreeIndex(index, true);</span>
<a href="#l14.687"></a><span id="l14.687" class="difflineminus">-    theTree.rowCountChanged(++index, -1);</span>
<a href="#l14.688"></a><span id="l14.688" class="difflineminus">-  }</span>
<a href="#l14.689"></a><span id="l14.689" class="difflineminus">-}</span>
<a href="#l14.690"></a><span id="l14.690" class="difflineminus">-</span>
<a href="#l14.691"></a><span id="l14.691" class="difflineminus">-// Event handler</span>
<a href="#l14.692"></a><span id="l14.692" class="difflineminus">-function onTreeKeyUp(event) {</span>
<a href="#l14.693"></a><span id="l14.693" class="difflineminus">-  if (event.keyCode == event.DOM_VK_SPACE) {</span>
<a href="#l14.694"></a><span id="l14.694" class="difflineminus">-    currentItem.cycleCell();</span>
<a href="#l14.695"></a><span id="l14.695" class="difflineminus">-  }</span>
<a href="#l14.696"></a><span id="l14.696" class="difflineminus">-}</span>
<a href="#l14.697"></a><span id="l14.697" class="difflineminus">-</span>
<a href="#l14.698"></a><span id="l14.698" class="difflineminus">-function onNameInput() {</span>
<a href="#l14.699"></a><span id="l14.699" class="difflineminus">-  var disabled = !gDialog.selectName.value;</span>
<a href="#l14.700"></a><span id="l14.700" class="difflineminus">-  if (gDialog.accept.disabled != disabled) {</span>
<a href="#l14.701"></a><span id="l14.701" class="difflineminus">-    gDialog.accept.disabled = disabled;</span>
<a href="#l14.702"></a><span id="l14.702" class="difflineminus">-  }</span>
<a href="#l14.703"></a><span id="l14.703" class="difflineminus">-  gDialog.element.setAttribute(&quot;name&quot;, gDialog.selectName.value);</span>
<a href="#l14.704"></a><span id="l14.704" class="difflineminus">-  // repaint the tree</span>
<a href="#l14.705"></a><span id="l14.705" class="difflineminus">-  var primaryCol = theTree.columns.getPrimaryColumn();</span>
<a href="#l14.706"></a><span id="l14.706" class="difflineminus">-  theTree.invalidateCell(treeSelection.currentIndex, primaryCol);</span>
<a href="#l14.707"></a><span id="l14.707" class="difflineminus">-}</span>
<a href="#l14.708"></a><span id="l14.708" class="difflineminus">-</span>
<a href="#l14.709"></a><span id="l14.709" class="difflineminus">-function onLabelInput() {</span>
<a href="#l14.710"></a><span id="l14.710" class="difflineminus">-  currentItem.element.setAttribute(&quot;label&quot;, gDialog.optgroupLabel.value);</span>
<a href="#l14.711"></a><span id="l14.711" class="difflineminus">-  // repaint the tree</span>
<a href="#l14.712"></a><span id="l14.712" class="difflineminus">-  var primaryCol = theTree.columns.getPrimaryColumn();</span>
<a href="#l14.713"></a><span id="l14.713" class="difflineminus">-  theTree.invalidateCell(treeSelection.currentIndex, primaryCol);</span>
<a href="#l14.714"></a><span id="l14.714" class="difflineminus">-}</span>
<a href="#l14.715"></a><span id="l14.715" class="difflineminus">-</span>
<a href="#l14.716"></a><span id="l14.716" class="difflineminus">-function onTextInput() {</span>
<a href="#l14.717"></a><span id="l14.717" class="difflineminus">-  currentItem.element.text = gDialog.optionText.value;</span>
<a href="#l14.718"></a><span id="l14.718" class="difflineminus">-  // repaint the tree</span>
<a href="#l14.719"></a><span id="l14.719" class="difflineminus">-  if (hasValue) {</span>
<a href="#l14.720"></a><span id="l14.720" class="difflineminus">-    var primaryCol = theTree.columns.getPrimaryColumn();</span>
<a href="#l14.721"></a><span id="l14.721" class="difflineminus">-    theTree.invalidateCell(treeSelection.currentIndex, primaryCol);</span>
<a href="#l14.722"></a><span id="l14.722" class="difflineminus">-  } else {</span>
<a href="#l14.723"></a><span id="l14.723" class="difflineminus">-    gDialog.optionValue.value = gDialog.optionText.value;</span>
<a href="#l14.724"></a><span id="l14.724" class="difflineminus">-    theTree.invalidateRow(treeSelection.currentIndex);</span>
<a href="#l14.725"></a><span id="l14.725" class="difflineminus">-  }</span>
<a href="#l14.726"></a><span id="l14.726" class="difflineminus">-}</span>
<a href="#l14.727"></a><span id="l14.727" class="difflineminus">-</span>
<a href="#l14.728"></a><span id="l14.728" class="difflineminus">-function onValueInput() {</span>
<a href="#l14.729"></a><span id="l14.729" class="difflineminus">-  gDialog.optionHasValue.checked = hasValue = true;</span>
<a href="#l14.730"></a><span id="l14.730" class="difflineminus">-  oldValue = gDialog.optionValue.value;</span>
<a href="#l14.731"></a><span id="l14.731" class="difflineminus">-  currentItem.element.setAttribute(&quot;value&quot;, oldValue);</span>
<a href="#l14.732"></a><span id="l14.732" class="difflineminus">-  // repaint the tree</span>
<a href="#l14.733"></a><span id="l14.733" class="difflineminus">-  var column = theTree.columns.SelectValCol;</span>
<a href="#l14.734"></a><span id="l14.734" class="difflineminus">-  theTree.invalidateCell(treeSelection.currentIndex, column);</span>
<a href="#l14.735"></a><span id="l14.735" class="difflineminus">-}</span>
<a href="#l14.736"></a><span id="l14.736" class="difflineminus">-</span>
<a href="#l14.737"></a><span id="l14.737" class="difflineminus">-function onHasValueClick() {</span>
<a href="#l14.738"></a><span id="l14.738" class="difflineminus">-  hasValue = gDialog.optionHasValue.checked;</span>
<a href="#l14.739"></a><span id="l14.739" class="difflineminus">-  if (hasValue) {</span>
<a href="#l14.740"></a><span id="l14.740" class="difflineminus">-    gDialog.optionValue.value = oldValue;</span>
<a href="#l14.741"></a><span id="l14.741" class="difflineminus">-    currentItem.element.setAttribute(&quot;value&quot;, oldValue);</span>
<a href="#l14.742"></a><span id="l14.742" class="difflineminus">-  } else {</span>
<a href="#l14.743"></a><span id="l14.743" class="difflineminus">-    oldValue = gDialog.optionValue.value;</span>
<a href="#l14.744"></a><span id="l14.744" class="difflineminus">-    gDialog.optionValue.value = gDialog.optionText.value;</span>
<a href="#l14.745"></a><span id="l14.745" class="difflineminus">-    currentItem.element.removeAttribute(&quot;value&quot;);</span>
<a href="#l14.746"></a><span id="l14.746" class="difflineminus">-  }</span>
<a href="#l14.747"></a><span id="l14.747" class="difflineminus">-  // repaint the tree</span>
<a href="#l14.748"></a><span id="l14.748" class="difflineminus">-  var column = theTree.columns.SelectValCol;</span>
<a href="#l14.749"></a><span id="l14.749" class="difflineminus">-  theTree.invalidateCell(treeSelection.currentIndex, column);</span>
<a href="#l14.750"></a><span id="l14.750" class="difflineminus">-}</span>
<a href="#l14.751"></a><span id="l14.751" class="difflineminus">-</span>
<a href="#l14.752"></a><span id="l14.752" class="difflineminus">-function onSelectMultipleClick() {</span>
<a href="#l14.753"></a><span id="l14.753" class="difflineminus">-  // Recalculate the unique selected option if we need it and have lost it</span>
<a href="#l14.754"></a><span id="l14.754" class="difflineminus">-  if (</span>
<a href="#l14.755"></a><span id="l14.755" class="difflineminus">-    !gDialog.selectMultiple.checked &amp;&amp;</span>
<a href="#l14.756"></a><span id="l14.756" class="difflineminus">-    selectedOptionCount == 1 &amp;&amp;</span>
<a href="#l14.757"></a><span id="l14.757" class="difflineminus">-    !selectedOption</span>
<a href="#l14.758"></a><span id="l14.758" class="difflineminus">-  ) {</span>
<a href="#l14.759"></a><span id="l14.759" class="difflineminus">-    // eslint-disable-next-line curly</span>
<a href="#l14.760"></a><span id="l14.760" class="difflineminus">-    for (</span>
<a href="#l14.761"></a><span id="l14.761" class="difflineminus">-      var i = 1;</span>
<a href="#l14.762"></a><span id="l14.762" class="difflineminus">-      !(selectedOption = itemArray[i].element).hasAttribute(&quot;selected&quot;);</span>
<a href="#l14.763"></a><span id="l14.763" class="difflineminus">-      i++</span>
<a href="#l14.764"></a><span id="l14.764" class="difflineminus">-    );</span>
<a href="#l14.765"></a><span id="l14.765" class="difflineminus">-  }</span>
<a href="#l14.766"></a><span id="l14.766" class="difflineminus">-}</span>
<a href="#l14.767"></a><span id="l14.767" class="difflineminus">-</span>
<a href="#l14.768"></a><span id="l14.768" class="difflineminus">-function selectTreeIndex(index, focus) {</span>
<a href="#l14.769"></a><span id="l14.769" class="difflineminus">-  treeSelection.select(index);</span>
<a href="#l14.770"></a><span id="l14.770" class="difflineminus">-  theTree.ensureRowIsVisible(index);</span>
<a href="#l14.771"></a><span id="l14.771" class="difflineminus">-  if (focus) {</span>
<a href="#l14.772"></a><span id="l14.772" class="difflineminus">-    gDialog.tree.focus();</span>
<a href="#l14.773"></a><span id="l14.773" class="difflineminus">-  }</span>
<a href="#l14.774"></a><span id="l14.774" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1">deleted file mode 100644</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdSelectProps.xul</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineplus">+++ /dev/null</span>
<a href="#l15.4"></a><span id="l15.4" class="difflineat">@@ -1,143 +0,0 @@</span>
<a href="#l15.5"></a><span id="l15.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l15.6"></a><span id="l15.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l15.7"></a><span id="l15.7" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l15.8"></a><span id="l15.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l15.9"></a><span id="l15.9" class="difflineminus">-</span>
<a href="#l15.10"></a><span id="l15.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l15.11"></a><span id="l15.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineminus">-&lt;!DOCTYPE dialog [</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineminus">-&lt;!ENTITY % edSelectProperties SYSTEM &quot;chrome://messenger/locale/messengercompose/EditorSelectProperties.dtd&quot;&gt;</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineminus">-%edSelectProperties;</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineminus">-&lt;!ENTITY % edDialogOverlay SYSTEM &quot;chrome://messenger/locale/messengercompose/EdDialogOverlay.dtd&quot;&gt;</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineminus">-%edDialogOverlay;</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineminus">-]&gt;</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineminus">-</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineminus">-&lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineminus">-        onload=&quot;Startup();&quot;</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineminus">-        buttons=&quot;accept,cancel&quot;&gt;</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineminus">-</span>
<a href="#l15.25"></a><span id="l15.25" class="difflineminus">-  &lt;!-- Methods common to all editor dialogs --&gt;</span>
<a href="#l15.26"></a><span id="l15.26" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/editorUtilities.js&quot;/&gt;</span>
<a href="#l15.27"></a><span id="l15.27" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l15.28"></a><span id="l15.28" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdSelectProps.js&quot;/&gt;</span>
<a href="#l15.29"></a><span id="l15.29" class="difflineminus">-</span>
<a href="#l15.30"></a><span id="l15.30" class="difflineminus">-  &lt;spacer id=&quot;location&quot; offsetY=&quot;50&quot; persist=&quot;offsetX offsetY&quot;/&gt;</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineminus">-  &lt;!-- Setting rows=&quot;7&quot; on tree isn't working, equalsize vbox sets tree height. --&gt;</span>
<a href="#l15.33"></a><span id="l15.33" class="difflineminus">-  &lt;vbox equalsize=&quot;always&quot;&gt;</span>
<a href="#l15.34"></a><span id="l15.34" class="difflineminus">-    &lt;tree id=&quot;SelectTree&quot; onselect=&quot;treeBoxObject.view.selectionChanged();&quot; onkeyup=&quot;onTreeKeyUp(event);&quot;&gt;</span>
<a href="#l15.35"></a><span id="l15.35" class="difflineminus">-      &lt;treecols id=&quot;SelectCols&quot;&gt;</span>
<a href="#l15.36"></a><span id="l15.36" class="difflineminus">-        &lt;treecol id=&quot;SelectTextCol&quot; flex=&quot;3&quot; label=&quot;&amp;TextHeader.label;&quot; primary=&quot;true&quot;/&gt;</span>
<a href="#l15.37"></a><span id="l15.37" class="difflineminus">-        &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l15.38"></a><span id="l15.38" class="difflineminus">-        &lt;treecol id=&quot;SelectValCol&quot; flex=&quot;2&quot; label=&quot;&amp;ValueHeader.label;&quot;/&gt;</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineminus">-        &lt;treecol id=&quot;SelectSelCol&quot; label=&quot;&amp;SelectedHeader.label;&quot; cycler=&quot;true&quot;/&gt;</span>
<a href="#l15.40"></a><span id="l15.40" class="difflineminus">-      &lt;/treecols&gt;</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineminus">-</span>
<a href="#l15.42"></a><span id="l15.42" class="difflineminus">-      &lt;treechildren id=&quot;SelectTreeChildren&quot;/&gt;</span>
<a href="#l15.43"></a><span id="l15.43" class="difflineminus">-    &lt;/tree&gt;</span>
<a href="#l15.44"></a><span id="l15.44" class="difflineminus">-</span>
<a href="#l15.45"></a><span id="l15.45" class="difflineminus">-    &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l15.46"></a><span id="l15.46" class="difflineminus">-      &lt;deck flex=&quot;1&quot; id=&quot;SelectDeck&quot; index=&quot;0&quot;&gt;</span>
<a href="#l15.47"></a><span id="l15.47" class="difflineminus">-        &lt;groupbox flex=&quot;1&quot;&gt;</span>
<a href="#l15.48"></a><span id="l15.48" class="difflineminus">-          &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l15.49"></a><span id="l15.49" class="difflineminus">-            &lt;label class=&quot;header&quot;&gt;&amp;Select.label;&lt;/label&gt;</span>
<a href="#l15.50"></a><span id="l15.50" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l15.51"></a><span id="l15.51" class="difflineminus">-          &lt;grid flex=&quot;1&quot;&gt;&lt;columns&gt;&lt;column flex=&quot;1&quot;/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l15.52"></a><span id="l15.52" class="difflineminus">-            &lt;rows&gt;</span>
<a href="#l15.53"></a><span id="l15.53" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l15.54"></a><span id="l15.54" class="difflineminus">-                &lt;label control=&quot;SelectName&quot; value=&quot;&amp;SelectName.label;&quot; accesskey=&quot;&amp;SelectName.accesskey;&quot;/&gt;</span>
<a href="#l15.55"></a><span id="l15.55" class="difflineminus">-                &lt;textbox id=&quot;SelectName&quot; flex=&quot;1&quot; oninput=&quot;onNameInput();&quot;/&gt;</span>
<a href="#l15.56"></a><span id="l15.56" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.57"></a><span id="l15.57" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l15.58"></a><span id="l15.58" class="difflineminus">-                &lt;label control=&quot;SelectSize&quot; value=&quot;&amp;SelectSize.label;&quot; accesskey=&quot;&amp;SelectSize.accesskey;&quot;/&gt;</span>
<a href="#l15.59"></a><span id="l15.59" class="difflineminus">-                &lt;hbox&gt;</span>
<a href="#l15.60"></a><span id="l15.60" class="difflineminus">-                  &lt;textbox id=&quot;SelectSize&quot; class=&quot;narrow&quot; oninput=&quot;forceInteger(this.id);&quot;/&gt;</span>
<a href="#l15.61"></a><span id="l15.61" class="difflineminus">-                &lt;/hbox&gt;</span>
<a href="#l15.62"></a><span id="l15.62" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.63"></a><span id="l15.63" class="difflineminus">-              &lt;row&gt;</span>
<a href="#l15.64"></a><span id="l15.64" class="difflineminus">-                &lt;spacer/&gt;</span>
<a href="#l15.65"></a><span id="l15.65" class="difflineminus">-                &lt;checkbox id=&quot;SelectMultiple&quot; flex=&quot;1&quot; label=&quot;&amp;SelectMultiple.label;&quot; accesskey=&quot;&amp;SelectMultiple.accesskey;&quot; oncommand=&quot;onSelectMultipleClick();&quot;/&gt;</span>
<a href="#l15.66"></a><span id="l15.66" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.67"></a><span id="l15.67" class="difflineminus">-              &lt;row&gt;</span>
<a href="#l15.68"></a><span id="l15.68" class="difflineminus">-                &lt;spacer/&gt;</span>
<a href="#l15.69"></a><span id="l15.69" class="difflineminus">-                &lt;checkbox id=&quot;SelectDisabled&quot; flex=&quot;1&quot; label=&quot;&amp;SelectDisabled.label;&quot; accesskey=&quot;&amp;SelectDisabled.accesskey;&quot;/&gt;</span>
<a href="#l15.70"></a><span id="l15.70" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.71"></a><span id="l15.71" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l15.72"></a><span id="l15.72" class="difflineminus">-                &lt;label control=&quot;SelectTabIndex&quot; value=&quot;&amp;SelectTabIndex.label;&quot; accesskey=&quot;&amp;SelectTabIndex.accesskey;&quot;/&gt;</span>
<a href="#l15.73"></a><span id="l15.73" class="difflineminus">-                &lt;hbox&gt;</span>
<a href="#l15.74"></a><span id="l15.74" class="difflineminus">-                  &lt;textbox id=&quot;SelectTabIndex&quot; class=&quot;narrow&quot; oninput=&quot;forceInteger(this.id);&quot;/&gt;</span>
<a href="#l15.75"></a><span id="l15.75" class="difflineminus">-                &lt;/hbox&gt;</span>
<a href="#l15.76"></a><span id="l15.76" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.77"></a><span id="l15.77" class="difflineminus">-            &lt;/rows&gt;</span>
<a href="#l15.78"></a><span id="l15.78" class="difflineminus">-          &lt;/grid&gt;</span>
<a href="#l15.79"></a><span id="l15.79" class="difflineminus">-        &lt;/groupbox&gt;</span>
<a href="#l15.80"></a><span id="l15.80" class="difflineminus">-</span>
<a href="#l15.81"></a><span id="l15.81" class="difflineminus">-        &lt;groupbox flex=&quot;1&quot;&gt;</span>
<a href="#l15.82"></a><span id="l15.82" class="difflineminus">-          &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l15.83"></a><span id="l15.83" class="difflineminus">-            &lt;label class=&quot;header&quot;&gt;&amp;OptGroup.label;&lt;/label&gt;</span>
<a href="#l15.84"></a><span id="l15.84" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l15.85"></a><span id="l15.85" class="difflineminus">-          &lt;grid flex=&quot;1&quot;&gt;&lt;columns&gt;&lt;column flex=&quot;1&quot;/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l15.86"></a><span id="l15.86" class="difflineminus">-            &lt;rows&gt;</span>
<a href="#l15.87"></a><span id="l15.87" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l15.88"></a><span id="l15.88" class="difflineminus">-                &lt;label control=&quot;OptGroupLabel&quot; value=&quot;&amp;OptGroupLabel.label;&quot; accesskey=&quot;&amp;OptGroupLabel.accesskey;&quot;/&gt;</span>
<a href="#l15.89"></a><span id="l15.89" class="difflineminus">-                &lt;textbox id=&quot;OptGroupLabel&quot; oninput=&quot;onLabelInput();&quot;/&gt;</span>
<a href="#l15.90"></a><span id="l15.90" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.91"></a><span id="l15.91" class="difflineminus">-              &lt;row&gt;</span>
<a href="#l15.92"></a><span id="l15.92" class="difflineminus">-                &lt;spacer/&gt;</span>
<a href="#l15.93"></a><span id="l15.93" class="difflineminus">-                &lt;checkbox id=&quot;OptGroupDisabled&quot; label=&quot;&amp;OptGroupDisabled.label;&quot; accesskey=&quot;&amp;OptGroupDisabled.accesskey;&quot;/&gt;</span>
<a href="#l15.94"></a><span id="l15.94" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.95"></a><span id="l15.95" class="difflineminus">-            &lt;/rows&gt;</span>
<a href="#l15.96"></a><span id="l15.96" class="difflineminus">-          &lt;/grid&gt;</span>
<a href="#l15.97"></a><span id="l15.97" class="difflineminus">-        &lt;/groupbox&gt;</span>
<a href="#l15.98"></a><span id="l15.98" class="difflineminus">-</span>
<a href="#l15.99"></a><span id="l15.99" class="difflineminus">-        &lt;groupbox flex=&quot;1&quot;&gt;</span>
<a href="#l15.100"></a><span id="l15.100" class="difflineminus">-          &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l15.101"></a><span id="l15.101" class="difflineminus">-            &lt;label class=&quot;header&quot;&gt;&amp;Option.label;&lt;/label&gt;</span>
<a href="#l15.102"></a><span id="l15.102" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l15.103"></a><span id="l15.103" class="difflineminus">-          &lt;grid flex=&quot;1&quot;&gt;&lt;columns&gt;&lt;column flex=&quot;1&quot;/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l15.104"></a><span id="l15.104" class="difflineminus">-            &lt;rows&gt;</span>
<a href="#l15.105"></a><span id="l15.105" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l15.106"></a><span id="l15.106" class="difflineminus">-                &lt;label control=&quot;OptionText&quot; value=&quot;&amp;OptionText.label;&quot; accesskey=&quot;&amp;OptionText.accesskey;&quot;/&gt;</span>
<a href="#l15.107"></a><span id="l15.107" class="difflineminus">-                &lt;textbox id=&quot;OptionText&quot; oninput=&quot;onTextInput();&quot;/&gt;</span>
<a href="#l15.108"></a><span id="l15.108" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.109"></a><span id="l15.109" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l15.110"></a><span id="l15.110" class="difflineminus">-                &lt;checkbox id=&quot;OptionHasValue&quot; label=&quot;&amp;OptionValue.label;&quot; accesskey=&quot;&amp;OptionValue.accesskey;&quot; oncommand=&quot;onHasValueClick();&quot;/&gt;</span>
<a href="#l15.111"></a><span id="l15.111" class="difflineminus">-                &lt;textbox id=&quot;OptionValue&quot; oninput=&quot;onValueInput();&quot;/&gt;</span>
<a href="#l15.112"></a><span id="l15.112" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.113"></a><span id="l15.113" class="difflineminus">-              &lt;row&gt;</span>
<a href="#l15.114"></a><span id="l15.114" class="difflineminus">-                &lt;spacer/&gt;</span>
<a href="#l15.115"></a><span id="l15.115" class="difflineminus">-                &lt;checkbox id=&quot;OptionSelected&quot; label=&quot;&amp;OptionSelected.label;&quot; accesskey=&quot;&amp;OptionSelected.accesskey;&quot; oncommand=&quot;currentItem.cycleCell();&quot;/&gt;</span>
<a href="#l15.116"></a><span id="l15.116" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.117"></a><span id="l15.117" class="difflineminus">-              &lt;row&gt;</span>
<a href="#l15.118"></a><span id="l15.118" class="difflineminus">-                &lt;spacer/&gt;</span>
<a href="#l15.119"></a><span id="l15.119" class="difflineminus">-                &lt;checkbox id=&quot;OptionDisabled&quot; label=&quot;&amp;OptionDisabled.label;&quot; accesskey=&quot;&amp;OptionDisabled.accesskey;&quot;/&gt;</span>
<a href="#l15.120"></a><span id="l15.120" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l15.121"></a><span id="l15.121" class="difflineminus">-            &lt;/rows&gt;</span>
<a href="#l15.122"></a><span id="l15.122" class="difflineminus">-          &lt;/grid&gt;</span>
<a href="#l15.123"></a><span id="l15.123" class="difflineminus">-        &lt;/groupbox&gt;</span>
<a href="#l15.124"></a><span id="l15.124" class="difflineminus">-      &lt;/deck&gt;</span>
<a href="#l15.125"></a><span id="l15.125" class="difflineminus">-</span>
<a href="#l15.126"></a><span id="l15.126" class="difflineminus">-      &lt;vbox&gt;</span>
<a href="#l15.127"></a><span id="l15.127" class="difflineminus">-        &lt;button label=&quot;&amp;AddOption.label;&quot; accesskey=&quot;&amp;AddOption.accesskey;&quot; oncommand=&quot;AddOption();&quot;/&gt;</span>
<a href="#l15.128"></a><span id="l15.128" class="difflineminus">-        &lt;button label=&quot;&amp;AddOptGroup.label;&quot; accesskey=&quot;&amp;AddOptGroup.accesskey;&quot; oncommand=&quot;AddOptGroup();&quot;/&gt;</span>
<a href="#l15.129"></a><span id="l15.129" class="difflineminus">-        &lt;button id=&quot;RemoveButton&quot; label=&quot;&amp;RemoveElement.label;&quot; accesskey=&quot;&amp;RemoveElement.accesskey;&quot;</span>
<a href="#l15.130"></a><span id="l15.130" class="difflineminus">-                oncommand=&quot;RemoveElement();&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l15.131"></a><span id="l15.131" class="difflineminus">-        &lt;button id=&quot;PreviousButton&quot; label=&quot;&amp;MoveElementUp.label;&quot; accesskey=&quot;&amp;MoveElementUp.accesskey;&quot;</span>
<a href="#l15.132"></a><span id="l15.132" class="difflineminus">-                oncommand=&quot;currentItem.moveUp();&quot; disabled=&quot;true&quot; type=&quot;row&quot;/&gt;</span>
<a href="#l15.133"></a><span id="l15.133" class="difflineminus">-        &lt;button id=&quot;NextButton&quot; label=&quot;&amp;MoveElementDown.label;&quot; accesskey=&quot;&amp;MoveElementDown.accesskey;&quot;</span>
<a href="#l15.134"></a><span id="l15.134" class="difflineminus">-                oncommand=&quot;currentItem.moveDown();&quot; disabled=&quot;true&quot; type=&quot;row&quot;/&gt;</span>
<a href="#l15.135"></a><span id="l15.135" class="difflineminus">-        &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l15.136"></a><span id="l15.136" class="difflineminus">-        &lt;button id=&quot;AdvancedEditButton&quot;</span>
<a href="#l15.137"></a><span id="l15.137" class="difflineminus">-                oncommand=&quot;onAdvancedEdit();&quot;</span>
<a href="#l15.138"></a><span id="l15.138" class="difflineminus">-                label=&quot;&amp;AdvancedEditButton.label;&quot;</span>
<a href="#l15.139"></a><span id="l15.139" class="difflineminus">-                accesskey=&quot;&amp;AdvancedEditButton.accessKey;&quot;</span>
<a href="#l15.140"></a><span id="l15.140" class="difflineminus">-                tooltiptext=&quot;&amp;AdvancedEditButton.tooltip;&quot;/&gt;</span>
<a href="#l15.141"></a><span id="l15.141" class="difflineminus">-      &lt;/vbox&gt;</span>
<a href="#l15.142"></a><span id="l15.142" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l15.143"></a><span id="l15.143" class="difflineminus">-  &lt;/vbox&gt;</span>
<a href="#l15.144"></a><span id="l15.144" class="difflineminus">-</span>
<a href="#l15.145"></a><span id="l15.145" class="difflineminus">-  &lt;separator class=&quot;groove&quot;/&gt;</span>
<a href="#l15.146"></a><span id="l15.146" class="difflineminus">-</span>
<a href="#l15.147"></a><span id="l15.147" class="difflineminus">-&lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1">deleted file mode 100644</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdTextAreaProps.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineplus">+++ /dev/null</span>
<a href="#l16.4"></a><span id="l16.4" class="difflineat">@@ -1,171 +0,0 @@</span>
<a href="#l16.5"></a><span id="l16.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.6"></a><span id="l16.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.7"></a><span id="l16.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l16.8"></a><span id="l16.8" class="difflineminus">-</span>
<a href="#l16.9"></a><span id="l16.9" class="difflineminus">-/* import-globals-from ../editorUtilities.js */</span>
<a href="#l16.10"></a><span id="l16.10" class="difflineminus">-/* import-globals-from EdDialogCommon.js */</span>
<a href="#l16.11"></a><span id="l16.11" class="difflineminus">-</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-var insertNew;</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-var textareaElement;</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineminus">-</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineminus">-// dialog initialization code</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineminus">-</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineminus">-document.addEventListener(&quot;dialogaccept&quot;, onAccept);</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineminus">-document.addEventListener(&quot;dialogcancel&quot;, onCancel);</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineminus">-</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineminus">-function Startup() {</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineminus">-  if (!editor) {</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineminus">-    dump(&quot;Failed to get active editor!\n&quot;);</span>
<a href="#l16.24"></a><span id="l16.24" class="difflineminus">-    window.close();</span>
<a href="#l16.25"></a><span id="l16.25" class="difflineminus">-    return;</span>
<a href="#l16.26"></a><span id="l16.26" class="difflineminus">-  }</span>
<a href="#l16.27"></a><span id="l16.27" class="difflineminus">-</span>
<a href="#l16.28"></a><span id="l16.28" class="difflineminus">-  gDialog = {</span>
<a href="#l16.29"></a><span id="l16.29" class="difflineminus">-    accept: document.documentElement.getButton(&quot;accept&quot;),</span>
<a href="#l16.30"></a><span id="l16.30" class="difflineminus">-    textareaName: document.getElementById(&quot;TextAreaName&quot;),</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineminus">-    textareaRows: document.getElementById(&quot;TextAreaRows&quot;),</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineminus">-    textareaCols: document.getElementById(&quot;TextAreaCols&quot;),</span>
<a href="#l16.33"></a><span id="l16.33" class="difflineminus">-    textareaWrap: document.getElementById(&quot;TextAreaWrap&quot;),</span>
<a href="#l16.34"></a><span id="l16.34" class="difflineminus">-    textareaReadOnly: document.getElementById(&quot;TextAreaReadOnly&quot;),</span>
<a href="#l16.35"></a><span id="l16.35" class="difflineminus">-    textareaDisabled: document.getElementById(&quot;TextAreaDisabled&quot;),</span>
<a href="#l16.36"></a><span id="l16.36" class="difflineminus">-    textareaTabIndex: document.getElementById(&quot;TextAreaTabIndex&quot;),</span>
<a href="#l16.37"></a><span id="l16.37" class="difflineminus">-    textareaAccessKey: document.getElementById(&quot;TextAreaAccessKey&quot;),</span>
<a href="#l16.38"></a><span id="l16.38" class="difflineminus">-    textareaValue: document.getElementById(&quot;TextAreaValue&quot;),</span>
<a href="#l16.39"></a><span id="l16.39" class="difflineminus">-    MoreSection: document.getElementById(&quot;MoreSection&quot;),</span>
<a href="#l16.40"></a><span id="l16.40" class="difflineminus">-    MoreFewerButton: document.getElementById(&quot;MoreFewerButton&quot;),</span>
<a href="#l16.41"></a><span id="l16.41" class="difflineminus">-  };</span>
<a href="#l16.42"></a><span id="l16.42" class="difflineminus">-</span>
<a href="#l16.43"></a><span id="l16.43" class="difflineminus">-  // Get a single selected text area element</span>
<a href="#l16.44"></a><span id="l16.44" class="difflineminus">-  const kTagName = &quot;textarea&quot;;</span>
<a href="#l16.45"></a><span id="l16.45" class="difflineminus">-  try {</span>
<a href="#l16.46"></a><span id="l16.46" class="difflineminus">-    textareaElement = editor.getSelectedElement(kTagName);</span>
<a href="#l16.47"></a><span id="l16.47" class="difflineminus">-  } catch (e) {}</span>
<a href="#l16.48"></a><span id="l16.48" class="difflineminus">-</span>
<a href="#l16.49"></a><span id="l16.49" class="difflineminus">-  if (textareaElement) {</span>
<a href="#l16.50"></a><span id="l16.50" class="difflineminus">-    // We found an element and don't need to insert one</span>
<a href="#l16.51"></a><span id="l16.51" class="difflineminus">-    insertNew = false;</span>
<a href="#l16.52"></a><span id="l16.52" class="difflineminus">-</span>
<a href="#l16.53"></a><span id="l16.53" class="difflineminus">-    gDialog.textareaValue.value = textareaElement.value;</span>
<a href="#l16.54"></a><span id="l16.54" class="difflineminus">-  } else {</span>
<a href="#l16.55"></a><span id="l16.55" class="difflineminus">-    insertNew = true;</span>
<a href="#l16.56"></a><span id="l16.56" class="difflineminus">-</span>
<a href="#l16.57"></a><span id="l16.57" class="difflineminus">-    // We don't have an element selected,</span>
<a href="#l16.58"></a><span id="l16.58" class="difflineminus">-    //  so create one with default attributes</span>
<a href="#l16.59"></a><span id="l16.59" class="difflineminus">-    try {</span>
<a href="#l16.60"></a><span id="l16.60" class="difflineminus">-      textareaElement = editor.createElementWithDefaults(kTagName);</span>
<a href="#l16.61"></a><span id="l16.61" class="difflineminus">-    } catch (e) {}</span>
<a href="#l16.62"></a><span id="l16.62" class="difflineminus">-</span>
<a href="#l16.63"></a><span id="l16.63" class="difflineminus">-    if (!textareaElement) {</span>
<a href="#l16.64"></a><span id="l16.64" class="difflineminus">-      dump(&quot;Failed to get selected element or create a new one!\n&quot;);</span>
<a href="#l16.65"></a><span id="l16.65" class="difflineminus">-      window.close();</span>
<a href="#l16.66"></a><span id="l16.66" class="difflineminus">-      return;</span>
<a href="#l16.67"></a><span id="l16.67" class="difflineminus">-    }</span>
<a href="#l16.68"></a><span id="l16.68" class="difflineminus">-    gDialog.textareaValue.value = GetSelectionAsText();</span>
<a href="#l16.69"></a><span id="l16.69" class="difflineminus">-  }</span>
<a href="#l16.70"></a><span id="l16.70" class="difflineminus">-</span>
<a href="#l16.71"></a><span id="l16.71" class="difflineminus">-  // Make a copy to use for AdvancedEdit</span>
<a href="#l16.72"></a><span id="l16.72" class="difflineminus">-  globalElement = textareaElement.cloneNode(false);</span>
<a href="#l16.73"></a><span id="l16.73" class="difflineminus">-</span>
<a href="#l16.74"></a><span id="l16.74" class="difflineminus">-  InitDialog();</span>
<a href="#l16.75"></a><span id="l16.75" class="difflineminus">-</span>
<a href="#l16.76"></a><span id="l16.76" class="difflineminus">-  InitMoreFewer();</span>
<a href="#l16.77"></a><span id="l16.77" class="difflineminus">-</span>
<a href="#l16.78"></a><span id="l16.78" class="difflineminus">-  SetTextboxFocus(gDialog.textareaName);</span>
<a href="#l16.79"></a><span id="l16.79" class="difflineminus">-</span>
<a href="#l16.80"></a><span id="l16.80" class="difflineminus">-  SetWindowLocation();</span>
<a href="#l16.81"></a><span id="l16.81" class="difflineminus">-}</span>
<a href="#l16.82"></a><span id="l16.82" class="difflineminus">-</span>
<a href="#l16.83"></a><span id="l16.83" class="difflineminus">-function InitDialog() {</span>
<a href="#l16.84"></a><span id="l16.84" class="difflineminus">-  gDialog.textareaName.value = globalElement.getAttribute(&quot;name&quot;);</span>
<a href="#l16.85"></a><span id="l16.85" class="difflineminus">-  gDialog.textareaRows.value = globalElement.getAttribute(&quot;rows&quot;);</span>
<a href="#l16.86"></a><span id="l16.86" class="difflineminus">-  gDialog.textareaCols.value = globalElement.getAttribute(&quot;cols&quot;);</span>
<a href="#l16.87"></a><span id="l16.87" class="difflineminus">-  gDialog.textareaWrap.value = GetHTMLOrCSSStyleValue(</span>
<a href="#l16.88"></a><span id="l16.88" class="difflineminus">-    globalElement,</span>
<a href="#l16.89"></a><span id="l16.89" class="difflineminus">-    &quot;wrap&quot;,</span>
<a href="#l16.90"></a><span id="l16.90" class="difflineminus">-    &quot;white-space&quot;</span>
<a href="#l16.91"></a><span id="l16.91" class="difflineminus">-  );</span>
<a href="#l16.92"></a><span id="l16.92" class="difflineminus">-  gDialog.textareaReadOnly.checked = globalElement.hasAttribute(&quot;readonly&quot;);</span>
<a href="#l16.93"></a><span id="l16.93" class="difflineminus">-  gDialog.textareaDisabled.checked = globalElement.hasAttribute(&quot;disabled&quot;);</span>
<a href="#l16.94"></a><span id="l16.94" class="difflineminus">-  gDialog.textareaTabIndex.value = globalElement.getAttribute(&quot;tabindex&quot;);</span>
<a href="#l16.95"></a><span id="l16.95" class="difflineminus">-  gDialog.textareaAccessKey.value = globalElement.getAttribute(&quot;accesskey&quot;);</span>
<a href="#l16.96"></a><span id="l16.96" class="difflineminus">-  onInput();</span>
<a href="#l16.97"></a><span id="l16.97" class="difflineminus">-}</span>
<a href="#l16.98"></a><span id="l16.98" class="difflineminus">-</span>
<a href="#l16.99"></a><span id="l16.99" class="difflineminus">-function onInput() {</span>
<a href="#l16.100"></a><span id="l16.100" class="difflineminus">-  var disabled =</span>
<a href="#l16.101"></a><span id="l16.101" class="difflineminus">-    !gDialog.textareaName.value ||</span>
<a href="#l16.102"></a><span id="l16.102" class="difflineminus">-    !gDialog.textareaRows.value ||</span>
<a href="#l16.103"></a><span id="l16.103" class="difflineminus">-    !gDialog.textareaCols.value;</span>
<a href="#l16.104"></a><span id="l16.104" class="difflineminus">-  if (gDialog.accept.disabled != disabled) {</span>
<a href="#l16.105"></a><span id="l16.105" class="difflineminus">-    gDialog.accept.disabled = disabled;</span>
<a href="#l16.106"></a><span id="l16.106" class="difflineminus">-  }</span>
<a href="#l16.107"></a><span id="l16.107" class="difflineminus">-}</span>
<a href="#l16.108"></a><span id="l16.108" class="difflineminus">-</span>
<a href="#l16.109"></a><span id="l16.109" class="difflineminus">-function ValidateData() {</span>
<a href="#l16.110"></a><span id="l16.110" class="difflineminus">-  var attributes = {</span>
<a href="#l16.111"></a><span id="l16.111" class="difflineminus">-    name: gDialog.textareaName.value,</span>
<a href="#l16.112"></a><span id="l16.112" class="difflineminus">-    rows: gDialog.textareaRows.value,</span>
<a href="#l16.113"></a><span id="l16.113" class="difflineminus">-    cols: gDialog.textareaCols.value,</span>
<a href="#l16.114"></a><span id="l16.114" class="difflineminus">-    wrap: gDialog.textareaWrap.value,</span>
<a href="#l16.115"></a><span id="l16.115" class="difflineminus">-    tabindex: gDialog.textareaTabIndex.value,</span>
<a href="#l16.116"></a><span id="l16.116" class="difflineminus">-    accesskey: gDialog.textareaAccessKey.value,</span>
<a href="#l16.117"></a><span id="l16.117" class="difflineminus">-  };</span>
<a href="#l16.118"></a><span id="l16.118" class="difflineminus">-  var flags = {</span>
<a href="#l16.119"></a><span id="l16.119" class="difflineminus">-    readonly: gDialog.textareaReadOnly.checked,</span>
<a href="#l16.120"></a><span id="l16.120" class="difflineminus">-    disabled: gDialog.textareaDisabled.checked,</span>
<a href="#l16.121"></a><span id="l16.121" class="difflineminus">-  };</span>
<a href="#l16.122"></a><span id="l16.122" class="difflineminus">-  for (var a in attributes) {</span>
<a href="#l16.123"></a><span id="l16.123" class="difflineminus">-    if (attributes[a]) {</span>
<a href="#l16.124"></a><span id="l16.124" class="difflineminus">-      globalElement.setAttribute(a, attributes[a]);</span>
<a href="#l16.125"></a><span id="l16.125" class="difflineminus">-    } else {</span>
<a href="#l16.126"></a><span id="l16.126" class="difflineminus">-      globalElement.removeAttribute(a);</span>
<a href="#l16.127"></a><span id="l16.127" class="difflineminus">-    }</span>
<a href="#l16.128"></a><span id="l16.128" class="difflineminus">-  }</span>
<a href="#l16.129"></a><span id="l16.129" class="difflineminus">-  for (var f in flags) {</span>
<a href="#l16.130"></a><span id="l16.130" class="difflineminus">-    if (flags[f]) {</span>
<a href="#l16.131"></a><span id="l16.131" class="difflineminus">-      globalElement.setAttribute(f, &quot;&quot;);</span>
<a href="#l16.132"></a><span id="l16.132" class="difflineminus">-    } else {</span>
<a href="#l16.133"></a><span id="l16.133" class="difflineminus">-      globalElement.removeAttribute(f);</span>
<a href="#l16.134"></a><span id="l16.134" class="difflineminus">-    }</span>
<a href="#l16.135"></a><span id="l16.135" class="difflineminus">-  }</span>
<a href="#l16.136"></a><span id="l16.136" class="difflineminus">-  return true;</span>
<a href="#l16.137"></a><span id="l16.137" class="difflineminus">-}</span>
<a href="#l16.138"></a><span id="l16.138" class="difflineminus">-</span>
<a href="#l16.139"></a><span id="l16.139" class="difflineminus">-function onAccept() {</span>
<a href="#l16.140"></a><span id="l16.140" class="difflineminus">-  // All values are valid - copy to actual element in doc or</span>
<a href="#l16.141"></a><span id="l16.141" class="difflineminus">-  //   element created to insert</span>
<a href="#l16.142"></a><span id="l16.142" class="difflineminus">-  ValidateData();</span>
<a href="#l16.143"></a><span id="l16.143" class="difflineminus">-</span>
<a href="#l16.144"></a><span id="l16.144" class="difflineminus">-  var editor = GetCurrentEditor();</span>
<a href="#l16.145"></a><span id="l16.145" class="difflineminus">-</span>
<a href="#l16.146"></a><span id="l16.146" class="difflineminus">-  editor.beginTransaction();</span>
<a href="#l16.147"></a><span id="l16.147" class="difflineminus">-</span>
<a href="#l16.148"></a><span id="l16.148" class="difflineminus">-  try {</span>
<a href="#l16.149"></a><span id="l16.149" class="difflineminus">-    editor.cloneAttributes(textareaElement, globalElement);</span>
<a href="#l16.150"></a><span id="l16.150" class="difflineminus">-</span>
<a href="#l16.151"></a><span id="l16.151" class="difflineminus">-    if (insertNew) {</span>
<a href="#l16.152"></a><span id="l16.152" class="difflineminus">-      editor.insertElementAtSelection(textareaElement, true);</span>
<a href="#l16.153"></a><span id="l16.153" class="difflineminus">-    }</span>
<a href="#l16.154"></a><span id="l16.154" class="difflineminus">-</span>
<a href="#l16.155"></a><span id="l16.155" class="difflineminus">-    // undoably set value</span>
<a href="#l16.156"></a><span id="l16.156" class="difflineminus">-    var initialText = gDialog.textareaValue.value;</span>
<a href="#l16.157"></a><span id="l16.157" class="difflineminus">-    if (initialText != textareaElement.value) {</span>
<a href="#l16.158"></a><span id="l16.158" class="difflineminus">-      editor.setShouldTxnSetSelection(false);</span>
<a href="#l16.159"></a><span id="l16.159" class="difflineminus">-</span>
<a href="#l16.160"></a><span id="l16.160" class="difflineminus">-      while (textareaElement.hasChildNodes()) {</span>
<a href="#l16.161"></a><span id="l16.161" class="difflineminus">-        editor.deleteNode(textareaElement.lastChild);</span>
<a href="#l16.162"></a><span id="l16.162" class="difflineminus">-      }</span>
<a href="#l16.163"></a><span id="l16.163" class="difflineminus">-      if (initialText) {</span>
<a href="#l16.164"></a><span id="l16.164" class="difflineminus">-        var textNode = editor.document.createTextNode(initialText);</span>
<a href="#l16.165"></a><span id="l16.165" class="difflineminus">-        editor.insertNode(textNode, textareaElement, 0);</span>
<a href="#l16.166"></a><span id="l16.166" class="difflineminus">-      }</span>
<a href="#l16.167"></a><span id="l16.167" class="difflineminus">-</span>
<a href="#l16.168"></a><span id="l16.168" class="difflineminus">-      editor.setShouldTxnSetSelection(true);</span>
<a href="#l16.169"></a><span id="l16.169" class="difflineminus">-    }</span>
<a href="#l16.170"></a><span id="l16.170" class="difflineminus">-  } finally {</span>
<a href="#l16.171"></a><span id="l16.171" class="difflineminus">-    editor.endTransaction();</span>
<a href="#l16.172"></a><span id="l16.172" class="difflineminus">-  }</span>
<a href="#l16.173"></a><span id="l16.173" class="difflineminus">-</span>
<a href="#l16.174"></a><span id="l16.174" class="difflineminus">-  SaveWindowLocation();</span>
<a href="#l16.175"></a><span id="l16.175" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1">deleted file mode 100644</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineminus">--- a/mail/components/compose/content/dialogs/EdTextAreaProps.xul</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineplus">+++ /dev/null</span>
<a href="#l17.4"></a><span id="l17.4" class="difflineat">@@ -1,115 +0,0 @@</span>
<a href="#l17.5"></a><span id="l17.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l17.6"></a><span id="l17.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.7"></a><span id="l17.7" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.8"></a><span id="l17.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l17.9"></a><span id="l17.9" class="difflineminus">-</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l17.11"></a><span id="l17.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineminus">-&lt;!DOCTYPE dialog [</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineminus">-&lt;!ENTITY % edTextAreaProperties SYSTEM &quot;chrome://messenger/locale/messengercompose/EditorTextAreaProperties.dtd&quot;&gt;</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineminus">-%edTextAreaProperties;</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineminus">-&lt;!ENTITY % edDialogOverlay SYSTEM &quot;chrome://messenger/locale/messengercompose/EdDialogOverlay.dtd&quot;&gt;</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineminus">-%edDialogOverlay;</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineminus">-]&gt;</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineminus">-</span>
<a href="#l17.20"></a><span id="l17.20" class="difflineminus">-&lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineminus">-        xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l17.23"></a><span id="l17.23" class="difflineminus">-        onload=&quot;Startup();&quot;</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineminus">-        buttons=&quot;accept,cancel&quot;&gt;</span>
<a href="#l17.25"></a><span id="l17.25" class="difflineminus">-</span>
<a href="#l17.26"></a><span id="l17.26" class="difflineminus">-  &lt;!-- Methods common to all editor dialogs --&gt;</span>
<a href="#l17.27"></a><span id="l17.27" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/editorUtilities.js&quot;/&gt;</span>
<a href="#l17.28"></a><span id="l17.28" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdDialogCommon.js&quot;/&gt;</span>
<a href="#l17.29"></a><span id="l17.29" class="difflineminus">-  &lt;script src=&quot;chrome://messenger/content/messengercompose/EdTextAreaProps.js&quot;/&gt;</span>
<a href="#l17.30"></a><span id="l17.30" class="difflineminus">-</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-  &lt;spacer id=&quot;location&quot; offsetY=&quot;50&quot; persist=&quot;offsetX offsetY&quot;/&gt;</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineminus">-</span>
<a href="#l17.33"></a><span id="l17.33" class="difflineminus">-  &lt;groupbox&gt;</span>
<a href="#l17.34"></a><span id="l17.34" class="difflineminus">-    &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l17.35"></a><span id="l17.35" class="difflineminus">-      &lt;label class=&quot;header&quot;&gt;&amp;Settings.label;&lt;/label&gt;</span>
<a href="#l17.36"></a><span id="l17.36" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l17.37"></a><span id="l17.37" class="difflineminus">-    &lt;grid&gt;&lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l17.38"></a><span id="l17.38" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l17.39"></a><span id="l17.39" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l17.40"></a><span id="l17.40" class="difflineminus">-          &lt;label control=&quot;TextAreaName&quot; value=&quot;&amp;TextAreaName.label;&quot; accesskey=&quot;&amp;TextAreaName.accessKey;&quot;/&gt;</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineminus">-          &lt;textbox id=&quot;TextAreaName&quot; oninput=&quot;onInput();&quot;/&gt;</span>
<a href="#l17.42"></a><span id="l17.42" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l17.43"></a><span id="l17.43" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l17.44"></a><span id="l17.44" class="difflineminus">-          &lt;label control=&quot;TextAreaRows&quot; value=&quot;&amp;TextAreaRows.label;&quot; accesskey=&quot;&amp;TextAreaRows.accessKey;&quot;/&gt;</span>
<a href="#l17.45"></a><span id="l17.45" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l17.46"></a><span id="l17.46" class="difflineminus">-            &lt;textbox id=&quot;TextAreaRows&quot; class=&quot;narrow&quot; oninput=&quot;forceInteger(this.id); onInput();&quot;/&gt;</span>
<a href="#l17.47"></a><span id="l17.47" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l17.48"></a><span id="l17.48" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l17.49"></a><span id="l17.49" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l17.50"></a><span id="l17.50" class="difflineminus">-          &lt;label control=&quot;TextAreaCols&quot; value=&quot;&amp;TextAreaCols.label;&quot; accesskey=&quot;&amp;TextAreaCols.accessKey;&quot;/&gt;</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l17.52"></a><span id="l17.52" class="difflineminus">-            &lt;textbox id=&quot;TextAreaCols&quot; class=&quot;narrow&quot; oninput=&quot;forceInteger(this.id); onInput();&quot;/&gt;</span>
<a href="#l17.53"></a><span id="l17.53" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l17.54"></a><span id="l17.54" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l17.55"></a><span id="l17.55" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l17.56"></a><span id="l17.56" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l17.57"></a><span id="l17.57" class="difflineminus">-    &lt;hbox&gt;</span>
<a href="#l17.58"></a><span id="l17.58" class="difflineminus">-      &lt;button id=&quot;MoreFewerButton&quot; oncommand=&quot;onMoreFewer();&quot; persist=&quot;more&quot;/&gt;</span>
<a href="#l17.59"></a><span id="l17.59" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l17.60"></a><span id="l17.60" class="difflineminus">-    &lt;grid id=&quot;MoreSection&quot;&gt;&lt;columns&gt;&lt;column/&gt;&lt;column/&gt;&lt;/columns&gt;</span>
<a href="#l17.61"></a><span id="l17.61" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l17.62"></a><span id="l17.62" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l17.63"></a><span id="l17.63" class="difflineminus">-          &lt;label control=&quot;TextAreaWrap&quot; value=&quot;&amp;TextAreaWrap.label;&quot; accesskey=&quot;&amp;TextAreaWrap.accessKey;&quot;/&gt;</span>
<a href="#l17.64"></a><span id="l17.64" class="difflineminus">-          &lt;menulist id=&quot;TextAreaWrap&quot;&gt;</span>
<a href="#l17.65"></a><span id="l17.65" class="difflineminus">-            &lt;menupopup&gt;</span>
<a href="#l17.66"></a><span id="l17.66" class="difflineminus">-              &lt;menuitem label=&quot;&amp;WrapDefault.value;&quot;/&gt;</span>
<a href="#l17.67"></a><span id="l17.67" class="difflineminus">-              &lt;menuitem label=&quot;&amp;WrapOff.value;&quot; value=&quot;off&quot;/&gt;</span>
<a href="#l17.68"></a><span id="l17.68" class="difflineminus">-              &lt;menuseparator/&gt;</span>
<a href="#l17.69"></a><span id="l17.69" class="difflineminus">-              &lt;menuitem label=&quot;&amp;WrapSoft.value;&quot; value=&quot;soft&quot;/&gt;</span>
<a href="#l17.70"></a><span id="l17.70" class="difflineminus">-              &lt;menuitem label=&quot;&amp;WrapHard.value;&quot; value=&quot;hard&quot;/&gt;</span>
<a href="#l17.71"></a><span id="l17.71" class="difflineminus">-              &lt;menuseparator/&gt;</span>
<a href="#l17.72"></a><span id="l17.72" class="difflineminus">-              &lt;menuitem label=&quot;&amp;WrapPhysical.value;&quot; value=&quot;physical&quot;/&gt;</span>
<a href="#l17.73"></a><span id="l17.73" class="difflineminus">-              &lt;menuitem label=&quot;&amp;WrapVirtual.value;&quot; value=&quot;virtual&quot;/&gt;</span>
<a href="#l17.74"></a><span id="l17.74" class="difflineminus">-              &lt;menuseparator/&gt;</span>
<a href="#l17.75"></a><span id="l17.75" class="difflineminus">-              &lt;menuitem label=&quot;normal&quot; value=&quot;normal&quot;/&gt;</span>
<a href="#l17.76"></a><span id="l17.76" class="difflineminus">-              &lt;menuitem label=&quot;nowrap&quot; value=&quot;nowrap&quot;/&gt;</span>
<a href="#l17.77"></a><span id="l17.77" class="difflineminus">-              &lt;menuitem label=&quot;pre&quot; value=&quot;pre&quot;/&gt;</span>
<a href="#l17.78"></a><span id="l17.78" class="difflineminus">-            &lt;/menupopup&gt;</span>
<a href="#l17.79"></a><span id="l17.79" class="difflineminus">-          &lt;/menulist&gt;</span>
<a href="#l17.80"></a><span id="l17.80" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l17.81"></a><span id="l17.81" class="difflineminus">-        &lt;row&gt;</span>
<a href="#l17.82"></a><span id="l17.82" class="difflineminus">-          &lt;spacer/&gt;</span>
<a href="#l17.83"></a><span id="l17.83" class="difflineminus">-          &lt;checkbox id=&quot;TextAreaReadOnly&quot; label=&quot;&amp;TextAreaReadOnly.label;&quot; accesskey=&quot;&amp;TextAreaReadOnly.accessKey;&quot;/&gt;</span>
<a href="#l17.84"></a><span id="l17.84" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l17.85"></a><span id="l17.85" class="difflineminus">-        &lt;row&gt;</span>
<a href="#l17.86"></a><span id="l17.86" class="difflineminus">-          &lt;spacer/&gt;</span>
<a href="#l17.87"></a><span id="l17.87" class="difflineminus">-          &lt;checkbox id=&quot;TextAreaDisabled&quot; label=&quot;&amp;TextAreaDisabled.label;&quot; accesskey=&quot;&amp;TextAreaDisabled.accessKey;&quot;/&gt;</span>
<a href="#l17.88"></a><span id="l17.88" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l17.89"></a><span id="l17.89" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l17.90"></a><span id="l17.90" class="difflineminus">-          &lt;label control=&quot;TextAreaTabIndex&quot; value=&quot;&amp;TextAreaTabIndex.label;&quot; accesskey=&quot;&amp;TextAreaTabIndex.accessKey;&quot;/&gt;</span>
<a href="#l17.91"></a><span id="l17.91" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l17.92"></a><span id="l17.92" class="difflineminus">-            &lt;textbox id=&quot;TextAreaTabIndex&quot; class=&quot;narrow&quot; oninput=&quot;forceInteger(this.id);&quot;/&gt;</span>
<a href="#l17.93"></a><span id="l17.93" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l17.94"></a><span id="l17.94" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l17.95"></a><span id="l17.95" class="difflineminus">-        &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l17.96"></a><span id="l17.96" class="difflineminus">-          &lt;label control=&quot;TextAreaAccessKey&quot; value=&quot;&amp;TextAreaAccessKey.label;&quot; accesskey=&quot;&amp;TextAreaAccessKey.accessKey;&quot;/&gt;</span>
<a href="#l17.97"></a><span id="l17.97" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l17.98"></a><span id="l17.98" class="difflineminus">-            &lt;textbox id=&quot;TextAreaAccessKey&quot; class=&quot;narrow&quot; maxlength=&quot;1&quot;/&gt;</span>
<a href="#l17.99"></a><span id="l17.99" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l17.100"></a><span id="l17.100" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l17.101"></a><span id="l17.101" class="difflineminus">-        &lt;row&gt;</span>
<a href="#l17.102"></a><span id="l17.102" class="difflineminus">-          &lt;label control=&quot;TextAreaValue&quot; value=&quot;&amp;InitialText.label;&quot; accesskey=&quot;&amp;InitialText.accessKey;&quot;/&gt;</span>
<a href="#l17.103"></a><span id="l17.103" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l17.104"></a><span id="l17.104" class="difflineminus">-        &lt;html:textarea id=&quot;TextAreaValue&quot; flex=&quot;1&quot; rows=&quot;5&quot;/&gt;</span>
<a href="#l17.105"></a><span id="l17.105" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l17.106"></a><span id="l17.106" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l17.107"></a><span id="l17.107" class="difflineminus">-  &lt;/groupbox&gt;</span>
<a href="#l17.108"></a><span id="l17.108" class="difflineminus">-</span>
<a href="#l17.109"></a><span id="l17.109" class="difflineminus">-  &lt;vbox id=&quot;AdvancedEdit&quot;&gt;</span>
<a href="#l17.110"></a><span id="l17.110" class="difflineminus">-    &lt;hbox flex=&quot;1&quot; style=&quot;margin-top: 0.2em&quot; align=&quot;center&quot;&gt;</span>
<a href="#l17.111"></a><span id="l17.111" class="difflineminus">-      &lt;!-- This will right-align the button --&gt;</span>
<a href="#l17.112"></a><span id="l17.112" class="difflineminus">-      &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l17.113"></a><span id="l17.113" class="difflineminus">-      &lt;button id=&quot;AdvancedEditButton1&quot; oncommand=&quot;onAdvancedEdit()&quot; label=&quot;&amp;AdvancedEditButton.label;&quot;</span>
<a href="#l17.114"></a><span id="l17.114" class="difflineminus">-              accesskey=&quot;&amp;AdvancedEditButton.accessKey;&quot; tooltiptext=&quot;&amp;AdvancedEditButton.tooltip;&quot;/&gt;</span>
<a href="#l17.115"></a><span id="l17.115" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l17.116"></a><span id="l17.116" class="difflineminus">-    &lt;separator id=&quot;advancedSeparator&quot; class=&quot;groove&quot;/&gt;</span>
<a href="#l17.117"></a><span id="l17.117" class="difflineminus">-  &lt;/vbox&gt;</span>
<a href="#l17.118"></a><span id="l17.118" class="difflineminus">-</span>
<a href="#l17.119"></a><span id="l17.119" class="difflineminus">-&lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mail/components/compose/content/messengercompose.xul</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mail/components/compose/content/messengercompose.xul</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -132,24 +132,17 @@</span>
<a href="#l18.4"></a><span id="l18.4">     &lt;command id=&quot;cmd_listProperties&quot; oncommand=&quot;goDoCommand('cmd_listProperties')&quot;/&gt;</span>
<a href="#l18.5"></a><span id="l18.5">     &lt;command id=&quot;cmd_colorProperties&quot; oncommand=&quot;goDoCommand('cmd_colorProperties')&quot;/&gt;</span>
<a href="#l18.6"></a><span id="l18.6"> </span>
<a href="#l18.7"></a><span id="l18.7">     &lt;command id=&quot;cmd_link&quot; oncommand=&quot;goDoCommand('cmd_link')&quot;/&gt;</span>
<a href="#l18.8"></a><span id="l18.8">     &lt;command id=&quot;cmd_anchor&quot; oncommand=&quot;goDoCommand('cmd_anchor')&quot;/&gt;</span>
<a href="#l18.9"></a><span id="l18.9">     &lt;command id=&quot;cmd_image&quot; oncommand=&quot;goDoCommand('cmd_image')&quot;/&gt;</span>
<a href="#l18.10"></a><span id="l18.10">     &lt;command id=&quot;cmd_hline&quot; oncommand=&quot;goDoCommand('cmd_hline')&quot;/&gt;</span>
<a href="#l18.11"></a><span id="l18.11">     &lt;command id=&quot;cmd_table&quot; oncommand=&quot;goDoCommand('cmd_table')&quot;/&gt;</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-    &lt;command id=&quot;cmd_form&quot; oncommand=&quot;goDoCommand('cmd_form')&quot;/&gt;</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineminus">-    &lt;command id=&quot;cmd_inputtag&quot; oncommand=&quot;goDoCommand('cmd_inputtag')&quot;/&gt;</span>
<a href="#l18.14"></a><span id="l18.14">     &lt;command id=&quot;cmd_inputimage&quot; oncommand=&quot;goDoCommand('cmd_inputimage')&quot;/&gt;</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineminus">-    &lt;command id=&quot;cmd_textarea&quot; oncommand=&quot;goDoCommand('cmd_textarea')&quot;/&gt;</span>
<a href="#l18.16"></a><span id="l18.16" class="difflineminus">-    &lt;command id=&quot;cmd_select&quot; oncommand=&quot;goDoCommand('cmd_select')&quot;/&gt;</span>
<a href="#l18.17"></a><span id="l18.17" class="difflineminus">-    &lt;command id=&quot;cmd_button&quot; oncommand=&quot;goDoCommand('cmd_button')&quot;/&gt;</span>
<a href="#l18.18"></a><span id="l18.18" class="difflineminus">-    &lt;command id=&quot;cmd_label&quot; oncommand=&quot;goDoCommand('cmd_label')&quot;/&gt;</span>
<a href="#l18.19"></a><span id="l18.19" class="difflineminus">-    &lt;command id=&quot;cmd_fieldset&quot; oncommand=&quot;goDoCommand('cmd_fieldset')&quot;/&gt;</span>
<a href="#l18.20"></a><span id="l18.20">     &lt;command id=&quot;cmd_isindex&quot; oncommand=&quot;goDoCommand('cmd_isindex')&quot;/&gt;</span>
<a href="#l18.21"></a><span id="l18.21">     &lt;command id=&quot;cmd_objectProperties&quot; oncommand=&quot;goDoCommand('cmd_objectProperties')&quot;/&gt;</span>
<a href="#l18.22"></a><span id="l18.22">     &lt;command id=&quot;cmd_insertChars&quot; oncommand=&quot;goDoCommand('cmd_insertChars')&quot; label=&quot;&amp;insertCharsCmd.label;&quot;/&gt;</span>
<a href="#l18.23"></a><span id="l18.23">     &lt;command id=&quot;cmd_insertHTMLWithDialog&quot; oncommand=&quot;goDoCommand('cmd_insertHTMLWithDialog')&quot; label=&quot;&amp;insertHTMLCmd.label;&quot;/&gt;</span>
<a href="#l18.24"></a><span id="l18.24">     &lt;command id=&quot;cmd_insertMathWithDialog&quot; oncommand=&quot;goDoCommand('cmd_insertMathWithDialog')&quot; label=&quot;&amp;insertMathCmd.label;&quot;/&gt;</span>
<a href="#l18.25"></a><span id="l18.25"> </span>
<a href="#l18.26"></a><span id="l18.26">     &lt;command id=&quot;cmd_insertBreak&quot; oncommand=&quot;goDoCommand('cmd_insertBreak')&quot;/&gt;</span>
<a href="#l18.27"></a><span id="l18.27">     &lt;command id=&quot;cmd_insertBreakAll&quot; oncommand=&quot;goDoCommand('cmd_insertBreakAll')&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mail/components/compose/jar.mn</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mail/components/compose/jar.mn</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -33,42 +33,26 @@ messenger.jar:</span>
<a href="#l19.4"></a><span id="l19.4">     content/messenger/messengercompose/EdInsertTOC.xul               (content/dialogs/EdInsertTOC.xul)</span>
<a href="#l19.5"></a><span id="l19.5">     content/messenger/messengercompose/EdInsertTOC.js                (content/dialogs/EdInsertTOC.js)</span>
<a href="#l19.6"></a><span id="l19.6">     content/messenger/messengercompose/EdInsertTable.xul             (content/dialogs/EdInsertTable.xul)</span>
<a href="#l19.7"></a><span id="l19.7">     content/messenger/messengercompose/EdInsertTable.js              (content/dialogs/EdInsertTable.js)</span>
<a href="#l19.8"></a><span id="l19.8">     content/messenger/messengercompose/EdInsertMath.xul              (content/dialogs/EdInsertMath.xul)</span>
<a href="#l19.9"></a><span id="l19.9">     content/messenger/messengercompose/EdInsertMath.js               (content/dialogs/EdInsertMath.js)</span>
<a href="#l19.10"></a><span id="l19.10">     content/messenger/messengercompose/EdTableProps.xul              (content/dialogs/EdTableProps.xul)</span>
<a href="#l19.11"></a><span id="l19.11">     content/messenger/messengercompose/EdTableProps.js               (content/dialogs/EdTableProps.js)</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-    content/messenger/messengercompose/EdFormProps.xul               (content/dialogs/EdFormProps.xul)</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineminus">-    content/messenger/messengercompose/EdFormProps.js                (content/dialogs/EdFormProps.js)</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineminus">-    content/messenger/messengercompose/EdInputProps.xul              (content/dialogs/EdInputProps.xul)</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineminus">-    content/messenger/messengercompose/EdInputProps.js               (content/dialogs/EdInputProps.js)</span>
<a href="#l19.16"></a><span id="l19.16"> *   content/messenger/messengercompose/EdInputImage.xul              (content/dialogs/EdInputImage.xul)</span>
<a href="#l19.17"></a><span id="l19.17">     content/messenger/messengercompose/EdInputImage.js               (content/dialogs/EdInputImage.js)</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineminus">-    content/messenger/messengercompose/EdTextAreaProps.xul           (content/dialogs/EdTextAreaProps.xul)</span>
<a href="#l19.19"></a><span id="l19.19" class="difflineminus">-    content/messenger/messengercompose/EdTextAreaProps.js            (content/dialogs/EdTextAreaProps.js)</span>
<a href="#l19.20"></a><span id="l19.20" class="difflineminus">-    content/messenger/messengercompose/EdSelectProps.xul             (content/dialogs/EdSelectProps.xul)</span>
<a href="#l19.21"></a><span id="l19.21" class="difflineminus">-    content/messenger/messengercompose/EdSelectProps.js              (content/dialogs/EdSelectProps.js)</span>
<a href="#l19.22"></a><span id="l19.22" class="difflineminus">-    content/messenger/messengercompose/EdButtonProps.xul             (content/dialogs/EdButtonProps.xul)</span>
<a href="#l19.23"></a><span id="l19.23" class="difflineminus">-    content/messenger/messengercompose/EdButtonProps.js              (content/dialogs/EdButtonProps.js)</span>
<a href="#l19.24"></a><span id="l19.24" class="difflineminus">-    content/messenger/messengercompose/EdLabelProps.xul              (content/dialogs/EdLabelProps.xul)</span>
<a href="#l19.25"></a><span id="l19.25" class="difflineminus">-    content/messenger/messengercompose/EdLabelProps.js               (content/dialogs/EdLabelProps.js)</span>
<a href="#l19.26"></a><span id="l19.26" class="difflineminus">-    content/messenger/messengercompose/EdFieldSetProps.xul           (content/dialogs/EdFieldSetProps.xul)</span>
<a href="#l19.27"></a><span id="l19.27" class="difflineminus">-    content/messenger/messengercompose/EdFieldSetProps.js            (content/dialogs/EdFieldSetProps.js)</span>
<a href="#l19.28"></a><span id="l19.28">     content/messenger/messengercompose/EdInsSrc.xul                  (content/dialogs/EdInsSrc.xul)</span>
<a href="#l19.29"></a><span id="l19.29">     content/messenger/messengercompose/EdInsSrc.js                   (content/dialogs/EdInsSrc.js)</span>
<a href="#l19.30"></a><span id="l19.30">     content/messenger/messengercompose/EdInsertChars.xul             (content/dialogs/EdInsertChars.xul)</span>
<a href="#l19.31"></a><span id="l19.31">     content/messenger/messengercompose/EdInsertChars.js              (content/dialogs/EdInsertChars.js)</span>
<a href="#l19.32"></a><span id="l19.32">     content/messenger/messengercompose/EdAdvancedEdit.xul            (content/dialogs/EdAdvancedEdit.xul)</span>
<a href="#l19.33"></a><span id="l19.33">     content/messenger/messengercompose/EdAdvancedEdit.js             (content/dialogs/EdAdvancedEdit.js)</span>
<a href="#l19.34"></a><span id="l19.34">     content/messenger/messengercompose/EdListProps.xul               (content/dialogs/EdListProps.xul)</span>
<a href="#l19.35"></a><span id="l19.35">     content/messenger/messengercompose/EdListProps.js                (content/dialogs/EdListProps.js)</span>
<a href="#l19.36"></a><span id="l19.36" class="difflineminus">-    content/messenger/messengercompose/EdPageProps.xul               (content/dialogs/EdPageProps.xul)</span>
<a href="#l19.37"></a><span id="l19.37" class="difflineminus">-    content/messenger/messengercompose/EdPageProps.js                (content/dialogs/EdPageProps.js)</span>
<a href="#l19.38"></a><span id="l19.38">     content/messenger/messengercompose/EdColorProps.xul              (content/dialogs/EdColorProps.xul)</span>
<a href="#l19.39"></a><span id="l19.39">     content/messenger/messengercompose/EdColorProps.js               (content/dialogs/EdColorProps.js)</span>
<a href="#l19.40"></a><span id="l19.40">     content/messenger/messengercompose/EdColorPicker.xul             (content/dialogs/EdColorPicker.xul)</span>
<a href="#l19.41"></a><span id="l19.41">     content/messenger/messengercompose/EdColorPicker.js              (content/dialogs/EdColorPicker.js)</span>
<a href="#l19.42"></a><span id="l19.42">     content/messenger/messengercompose/EdAECSSAttributes.js          (content/dialogs/EdAECSSAttributes.js)</span>
<a href="#l19.43"></a><span id="l19.43">     content/messenger/messengercompose/EdAEHTMLAttributes.js         (content/dialogs/EdAEHTMLAttributes.js)</span>
<a href="#l19.44"></a><span id="l19.44">     content/messenger/messengercompose/EdAEJSEAttributes.js          (content/dialogs/EdAEJSEAttributes.js)</span>
<a href="#l19.45"></a><span id="l19.45">     content/messenger/messengercompose/EdAEAttributes.js             (content/dialogs/EdAEAttributes.js)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1">deleted file mode 100644</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messengercompose/EditorButtonProperties.dtd</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineplus">+++ /dev/null</span>
<a href="#l20.4"></a><span id="l20.4" class="difflineat">@@ -1,27 +0,0 @@</span>
<a href="#l20.5"></a><span id="l20.5" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.6"></a><span id="l20.6" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.7"></a><span id="l20.7" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l20.8"></a><span id="l20.8" class="difflineminus">-</span>
<a href="#l20.9"></a><span id="l20.9" class="difflineminus">-&lt;!ENTITY windowTitle.label &quot;Button Properties&quot;&gt;</span>
<a href="#l20.10"></a><span id="l20.10" class="difflineminus">-</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineminus">-&lt;!ENTITY Settings.label &quot;Settings&quot;&gt;</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-&lt;!ENTITY ButtonType.label &quot;Type&quot;&gt;</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineminus">-&lt;!ENTITY ButtonType.accesskey &quot;T&quot;&gt;</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineminus">-&lt;!ENTITY submit.value &quot;Submit&quot;&gt;</span>
<a href="#l20.16"></a><span id="l20.16" class="difflineminus">-&lt;!ENTITY reset.value &quot;Reset&quot;&gt;</span>
<a href="#l20.17"></a><span id="l20.17" class="difflineminus">-&lt;!ENTITY button.value &quot;Button&quot;&gt;</span>
<a href="#l20.18"></a><span id="l20.18" class="difflineminus">-</span>
<a href="#l20.19"></a><span id="l20.19" class="difflineminus">-&lt;!ENTITY ButtonName.label &quot;Name:&quot;&gt;</span>
<a href="#l20.20"></a><span id="l20.20" class="difflineminus">-&lt;!ENTITY ButtonName.accesskey &quot;N&quot;&gt;</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineminus">-&lt;!ENTITY ButtonValue.label &quot;Value:&quot;&gt;</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineminus">-&lt;!ENTITY ButtonValue.accesskey &quot;V&quot;&gt;</span>
<a href="#l20.23"></a><span id="l20.23" class="difflineminus">-&lt;!ENTITY tabIndex.label &quot;Tab Index:&quot;&gt;</span>
<a href="#l20.24"></a><span id="l20.24" class="difflineminus">-&lt;!ENTITY tabIndex.accesskey &quot;I&quot;&gt;</span>
<a href="#l20.25"></a><span id="l20.25" class="difflineminus">-&lt;!ENTITY ButtonDisabled.label &quot;Disabled&quot;&gt;</span>
<a href="#l20.26"></a><span id="l20.26" class="difflineminus">-&lt;!ENTITY ButtonDisabled.accesskey &quot;D&quot;&gt;</span>
<a href="#l20.27"></a><span id="l20.27" class="difflineminus">-&lt;!ENTITY AccessKey.label &quot;Access Key:&quot;&gt;</span>
<a href="#l20.28"></a><span id="l20.28" class="difflineminus">-&lt;!ENTITY AccessKey.accesskey &quot;K&quot;&gt;</span>
<a href="#l20.29"></a><span id="l20.29" class="difflineminus">-</span>
<a href="#l20.30"></a><span id="l20.30" class="difflineminus">-&lt;!ENTITY RemoveButton.label &quot;Remove Button&quot;&gt;</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineminus">-&lt;!ENTITY RemoveButton.accesskey &quot;R&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1">deleted file mode 100644</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messengercompose/EditorFieldSetProperties.dtd</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineplus">+++ /dev/null</span>
<a href="#l21.4"></a><span id="l21.4" class="difflineat">@@ -1,20 +0,0 @@</span>
<a href="#l21.5"></a><span id="l21.5" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l21.6"></a><span id="l21.6" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l21.7"></a><span id="l21.7" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l21.8"></a><span id="l21.8" class="difflineminus">-</span>
<a href="#l21.9"></a><span id="l21.9" class="difflineminus">-&lt;!ENTITY windowTitle.label &quot;Field Set Properties&quot;&gt;</span>
<a href="#l21.10"></a><span id="l21.10" class="difflineminus">-</span>
<a href="#l21.11"></a><span id="l21.11" class="difflineminus">-&lt;!ENTITY Legend.label &quot;Legend&quot;&gt;</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-&lt;!ENTITY Legend.accesskey &quot;L&quot;&gt;</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineminus">-</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineminus">-&lt;!ENTITY EditLegendText.label &quot;Edit Legend:&quot;&gt;</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineminus">-&lt;!ENTITY EditLegendText.accesskey &quot;T&quot;&gt;</span>
<a href="#l21.16"></a><span id="l21.16" class="difflineminus">-&lt;!ENTITY LegendAlign.label &quot;Align Legend:&quot;&gt;</span>
<a href="#l21.17"></a><span id="l21.17" class="difflineminus">-&lt;!ENTITY LegendAlign.accesskey &quot;A&quot;&gt;</span>
<a href="#l21.18"></a><span id="l21.18" class="difflineminus">-&lt;!ENTITY AlignDefault.label &quot;Default&quot;&gt;</span>
<a href="#l21.19"></a><span id="l21.19" class="difflineminus">-&lt;!ENTITY AlignLeft.label &quot;Left&quot;&gt;</span>
<a href="#l21.20"></a><span id="l21.20" class="difflineminus">-&lt;!ENTITY AlignCenter.label &quot;Center&quot;&gt;</span>
<a href="#l21.21"></a><span id="l21.21" class="difflineminus">-&lt;!ENTITY AlignRight.label &quot;Right&quot;&gt;</span>
<a href="#l21.22"></a><span id="l21.22" class="difflineminus">-</span>
<a href="#l21.23"></a><span id="l21.23" class="difflineminus">-&lt;!ENTITY RemoveFieldSet.label &quot;Remove Field Set&quot;&gt;</span>
<a href="#l21.24"></a><span id="l21.24" class="difflineminus">-&lt;!ENTITY RemoveFieldSet.accesskey &quot;R&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1">deleted file mode 100644</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messengercompose/EditorFormProperties.dtd</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineplus">+++ /dev/null</span>
<a href="#l22.4"></a><span id="l22.4" class="difflineat">@@ -1,21 +0,0 @@</span>
<a href="#l22.5"></a><span id="l22.5" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l22.6"></a><span id="l22.6" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l22.7"></a><span id="l22.7" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l22.8"></a><span id="l22.8" class="difflineminus">-</span>
<a href="#l22.9"></a><span id="l22.9" class="difflineminus">-&lt;!ENTITY windowTitle.label &quot;Form Properties&quot;&gt;</span>
<a href="#l22.10"></a><span id="l22.10" class="difflineminus">-</span>
<a href="#l22.11"></a><span id="l22.11" class="difflineminus">-&lt;!ENTITY Settings.label &quot;Settings&quot;&gt;</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineminus">-&lt;!ENTITY FormName.label &quot;Form Name:&quot;&gt;</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineminus">-&lt;!ENTITY FormName.accesskey &quot;N&quot;&gt;</span>
<a href="#l22.15"></a><span id="l22.15" class="difflineminus">-&lt;!ENTITY FormAction.label &quot;Action URL:&quot;&gt;</span>
<a href="#l22.16"></a><span id="l22.16" class="difflineminus">-&lt;!ENTITY FormAction.accesskey &quot;A&quot;&gt;</span>
<a href="#l22.17"></a><span id="l22.17" class="difflineminus">-&lt;!ENTITY FormMethod.label &quot;Method:&quot;&gt;</span>
<a href="#l22.18"></a><span id="l22.18" class="difflineminus">-&lt;!ENTITY FormMethod.accesskey &quot;M&quot;&gt;</span>
<a href="#l22.19"></a><span id="l22.19" class="difflineminus">-&lt;!ENTITY FormEncType.label &quot;Encoding:&quot;&gt;</span>
<a href="#l22.20"></a><span id="l22.20" class="difflineminus">-&lt;!ENTITY FormEncType.accesskey &quot;c&quot;&gt;</span>
<a href="#l22.21"></a><span id="l22.21" class="difflineminus">-&lt;!ENTITY FormTarget.label &quot;Target Frame:&quot;&gt;</span>
<a href="#l22.22"></a><span id="l22.22" class="difflineminus">-&lt;!ENTITY FormTarget.accesskey &quot;T&quot;&gt;</span>
<a href="#l22.23"></a><span id="l22.23" class="difflineminus">-</span>
<a href="#l22.24"></a><span id="l22.24" class="difflineminus">-&lt;!ENTITY RemoveForm.label &quot;Remove Form&quot;&gt;</span>
<a href="#l22.25"></a><span id="l22.25" class="difflineminus">-&lt;!ENTITY RemoveForm.accesskey &quot;R&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1">deleted file mode 100644</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messengercompose/EditorLabelProperties.dtd</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineplus">+++ /dev/null</span>
<a href="#l23.4"></a><span id="l23.4" class="difflineat">@@ -1,18 +0,0 @@</span>
<a href="#l23.5"></a><span id="l23.5" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.6"></a><span id="l23.6" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.7"></a><span id="l23.7" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l23.8"></a><span id="l23.8" class="difflineminus">-</span>
<a href="#l23.9"></a><span id="l23.9" class="difflineminus">-&lt;!ENTITY windowTitle.label &quot;Label Properties&quot;&gt;</span>
<a href="#l23.10"></a><span id="l23.10" class="difflineminus">-</span>
<a href="#l23.11"></a><span id="l23.11" class="difflineminus">-&lt;!ENTITY Settings.label &quot;Settings&quot;&gt;</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-&lt;!ENTITY Settings.accesskey &quot;S&quot;&gt;</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineminus">-</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineminus">-&lt;!ENTITY EditLabelText.label &quot;Edit Text:&quot;&gt;</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineminus">-&lt;!ENTITY EditLabelText.accesskey &quot;T&quot;&gt;</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineminus">-&lt;!ENTITY LabelFor.label &quot;For Control:&quot;&gt;</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineminus">-&lt;!ENTITY LabelFor.accesskey &quot;F&quot;&gt;</span>
<a href="#l23.18"></a><span id="l23.18" class="difflineminus">-&lt;!ENTITY AccessKey.label &quot;Access Key:&quot;&gt;</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineminus">-&lt;!ENTITY AccessKey.accesskey &quot;K&quot;&gt;</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineminus">-</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineminus">-&lt;!ENTITY RemoveLabel.label &quot;Remove Label&quot;&gt;</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineminus">-&lt;!ENTITY RemoveLabel.accesskey &quot;R&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1">deleted file mode 100644</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messengercompose/EditorSelectProperties.dtd</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineplus">+++ /dev/null</span>
<a href="#l24.4"></a><span id="l24.4" class="difflineat">@@ -1,48 +0,0 @@</span>
<a href="#l24.5"></a><span id="l24.5" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l24.6"></a><span id="l24.6" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l24.7"></a><span id="l24.7" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l24.8"></a><span id="l24.8" class="difflineminus">-</span>
<a href="#l24.9"></a><span id="l24.9" class="difflineminus">-&lt;!ENTITY windowTitle.label &quot;Selection List Properties&quot;&gt;</span>
<a href="#l24.10"></a><span id="l24.10" class="difflineminus">-</span>
<a href="#l24.11"></a><span id="l24.11" class="difflineminus">-&lt;!ENTITY Select.label &quot;Selection List&quot;&gt;</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-&lt;!ENTITY SelectName.label &quot;List Name:&quot;&gt;</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineminus">-&lt;!ENTITY SelectName.accesskey &quot;N&quot;&gt;</span>
<a href="#l24.14"></a><span id="l24.14" class="difflineminus">-&lt;!ENTITY SelectSize.label &quot;Height:&quot;&gt;</span>
<a href="#l24.15"></a><span id="l24.15" class="difflineminus">-&lt;!ENTITY SelectSize.accesskey &quot;H&quot;&gt;</span>
<a href="#l24.16"></a><span id="l24.16" class="difflineminus">-&lt;!ENTITY SelectMultiple.label &quot;Multiple Selection&quot;&gt;</span>
<a href="#l24.17"></a><span id="l24.17" class="difflineminus">-&lt;!ENTITY SelectMultiple.accesskey &quot;M&quot;&gt;</span>
<a href="#l24.18"></a><span id="l24.18" class="difflineminus">-&lt;!ENTITY SelectDisabled.label &quot;Disabled&quot;&gt;</span>
<a href="#l24.19"></a><span id="l24.19" class="difflineminus">-&lt;!ENTITY SelectDisabled.accesskey &quot;D&quot;&gt;</span>
<a href="#l24.20"></a><span id="l24.20" class="difflineminus">-&lt;!ENTITY SelectTabIndex.label &quot;Tab Index:&quot;&gt;</span>
<a href="#l24.21"></a><span id="l24.21" class="difflineminus">-&lt;!ENTITY SelectTabIndex.accesskey &quot;I&quot;&gt;</span>
<a href="#l24.22"></a><span id="l24.22" class="difflineminus">-</span>
<a href="#l24.23"></a><span id="l24.23" class="difflineminus">-&lt;!ENTITY OptGroup.label &quot;Option Group&quot;&gt;</span>
<a href="#l24.24"></a><span id="l24.24" class="difflineminus">-&lt;!ENTITY OptGroupLabel.label &quot;Label:&quot;&gt;</span>
<a href="#l24.25"></a><span id="l24.25" class="difflineminus">-&lt;!ENTITY OptGroupLabel.accesskey &quot;L&quot;&gt;</span>
<a href="#l24.26"></a><span id="l24.26" class="difflineminus">-&lt;!ENTITY OptGroupDisabled.label &quot;Disabled&quot;&gt;</span>
<a href="#l24.27"></a><span id="l24.27" class="difflineminus">-&lt;!ENTITY OptGroupDisabled.accesskey &quot;D&quot;&gt;</span>
<a href="#l24.28"></a><span id="l24.28" class="difflineminus">-</span>
<a href="#l24.29"></a><span id="l24.29" class="difflineminus">-&lt;!ENTITY Option.label &quot;Option&quot;&gt;</span>
<a href="#l24.30"></a><span id="l24.30" class="difflineminus">-&lt;!ENTITY OptionText.label &quot;Text:&quot;&gt;</span>
<a href="#l24.31"></a><span id="l24.31" class="difflineminus">-&lt;!ENTITY OptionText.accesskey &quot;T&quot;&gt;</span>
<a href="#l24.32"></a><span id="l24.32" class="difflineminus">-&lt;!ENTITY OptionValue.label &quot;Value:&quot;&gt;</span>
<a href="#l24.33"></a><span id="l24.33" class="difflineminus">-&lt;!ENTITY OptionValue.accesskey &quot;V&quot;&gt;</span>
<a href="#l24.34"></a><span id="l24.34" class="difflineminus">-&lt;!ENTITY OptionSelected.label &quot;Initially Selected&quot;&gt;</span>
<a href="#l24.35"></a><span id="l24.35" class="difflineminus">-&lt;!ENTITY OptionSelected.accesskey &quot;S&quot;&gt;</span>
<a href="#l24.36"></a><span id="l24.36" class="difflineminus">-&lt;!ENTITY OptionDisabled.label &quot;Disabled&quot;&gt;</span>
<a href="#l24.37"></a><span id="l24.37" class="difflineminus">-&lt;!ENTITY OptionDisabled.accesskey &quot;D&quot;&gt;</span>
<a href="#l24.38"></a><span id="l24.38" class="difflineminus">-</span>
<a href="#l24.39"></a><span id="l24.39" class="difflineminus">-&lt;!ENTITY TextHeader.label &quot;Text&quot;&gt;</span>
<a href="#l24.40"></a><span id="l24.40" class="difflineminus">-&lt;!ENTITY ValueHeader.label &quot;Value&quot;&gt;</span>
<a href="#l24.41"></a><span id="l24.41" class="difflineminus">-&lt;!ENTITY SelectedHeader.label &quot;Selected&quot;&gt;</span>
<a href="#l24.42"></a><span id="l24.42" class="difflineminus">-</span>
<a href="#l24.43"></a><span id="l24.43" class="difflineminus">-&lt;!ENTITY AddOption.label &quot;Add Option&quot;&gt;</span>
<a href="#l24.44"></a><span id="l24.44" class="difflineminus">-&lt;!ENTITY AddOption.accesskey &quot;O&quot;&gt;</span>
<a href="#l24.45"></a><span id="l24.45" class="difflineminus">-&lt;!ENTITY AddOptGroup.label &quot;Add Group&quot;&gt;</span>
<a href="#l24.46"></a><span id="l24.46" class="difflineminus">-&lt;!ENTITY AddOptGroup.accesskey &quot;G&quot;&gt;</span>
<a href="#l24.47"></a><span id="l24.47" class="difflineminus">-&lt;!ENTITY RemoveElement.label &quot;Remove&quot;&gt;</span>
<a href="#l24.48"></a><span id="l24.48" class="difflineminus">-&lt;!ENTITY RemoveElement.accesskey &quot;R&quot;&gt;</span>
<a href="#l24.49"></a><span id="l24.49" class="difflineminus">-&lt;!ENTITY MoveElementUp.label &quot;Move Up&quot;&gt;</span>
<a href="#l24.50"></a><span id="l24.50" class="difflineminus">-&lt;!ENTITY MoveElementUp.accesskey &quot;U&quot;&gt;</span>
<a href="#l24.51"></a><span id="l24.51" class="difflineminus">-&lt;!ENTITY MoveElementDown.label &quot;Move Down&quot;&gt;</span>
<a href="#l24.52"></a><span id="l24.52" class="difflineminus">-&lt;!ENTITY MoveElementDown.accesskey &quot;D&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1">deleted file mode 100644</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messengercompose/EditorTextAreaProperties.dtd</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineplus">+++ /dev/null</span>
<a href="#l25.4"></a><span id="l25.4" class="difflineat">@@ -1,33 +0,0 @@</span>
<a href="#l25.5"></a><span id="l25.5" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l25.6"></a><span id="l25.6" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l25.7"></a><span id="l25.7" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l25.8"></a><span id="l25.8" class="difflineminus">-</span>
<a href="#l25.9"></a><span id="l25.9" class="difflineminus">-&lt;!ENTITY windowTitle.label &quot;Text Area Properties&quot;&gt;</span>
<a href="#l25.10"></a><span id="l25.10" class="difflineminus">-</span>
<a href="#l25.11"></a><span id="l25.11" class="difflineminus">-&lt;!ENTITY Settings.label &quot;Settings&quot;&gt;</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineminus">-&lt;!ENTITY TextAreaName.label &quot;Field Name:&quot;&gt;</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineminus">-&lt;!ENTITY TextAreaName.accessKey &quot;N&quot;&gt;</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineminus">-&lt;!ENTITY TextAreaRows.label &quot;Rows:&quot;&gt;</span>
<a href="#l25.16"></a><span id="l25.16" class="difflineminus">-&lt;!ENTITY TextAreaRows.accessKey &quot;R&quot;&gt;</span>
<a href="#l25.17"></a><span id="l25.17" class="difflineminus">-&lt;!ENTITY TextAreaCols.label &quot;Columns:&quot;&gt;</span>
<a href="#l25.18"></a><span id="l25.18" class="difflineminus">-&lt;!ENTITY TextAreaCols.accessKey &quot;C&quot;&gt;</span>
<a href="#l25.19"></a><span id="l25.19" class="difflineminus">-&lt;!ENTITY TextAreaReadOnly.label &quot;Read Only&quot;&gt;</span>
<a href="#l25.20"></a><span id="l25.20" class="difflineminus">-&lt;!ENTITY TextAreaReadOnly.accessKey &quot;O&quot;&gt;</span>
<a href="#l25.21"></a><span id="l25.21" class="difflineminus">-&lt;!ENTITY TextAreaDisabled.label &quot;Disabled&quot;&gt;</span>
<a href="#l25.22"></a><span id="l25.22" class="difflineminus">-&lt;!ENTITY TextAreaDisabled.accessKey &quot;D&quot;&gt;</span>
<a href="#l25.23"></a><span id="l25.23" class="difflineminus">-&lt;!ENTITY TextAreaTabIndex.label &quot;Tab Index:&quot;&gt;</span>
<a href="#l25.24"></a><span id="l25.24" class="difflineminus">-&lt;!ENTITY TextAreaTabIndex.accessKey &quot;I&quot;&gt;</span>
<a href="#l25.25"></a><span id="l25.25" class="difflineminus">-&lt;!ENTITY TextAreaAccessKey.label &quot;Access Key:&quot;&gt;</span>
<a href="#l25.26"></a><span id="l25.26" class="difflineminus">-&lt;!ENTITY TextAreaAccessKey.accessKey &quot;K&quot;&gt;</span>
<a href="#l25.27"></a><span id="l25.27" class="difflineminus">-&lt;!ENTITY InitialText.label &quot;Initial Text:&quot;&gt;</span>
<a href="#l25.28"></a><span id="l25.28" class="difflineminus">-&lt;!ENTITY InitialText.accessKey &quot;T&quot;&gt;</span>
<a href="#l25.29"></a><span id="l25.29" class="difflineminus">-</span>
<a href="#l25.30"></a><span id="l25.30" class="difflineminus">-&lt;!ENTITY TextAreaWrap.label &quot;Wrap Mode:&quot;&gt;</span>
<a href="#l25.31"></a><span id="l25.31" class="difflineminus">-&lt;!ENTITY TextAreaWrap.accessKey &quot;W&quot;&gt;</span>
<a href="#l25.32"></a><span id="l25.32" class="difflineminus">-&lt;!ENTITY WrapDefault.value &quot;Default&quot;&gt;</span>
<a href="#l25.33"></a><span id="l25.33" class="difflineminus">-&lt;!ENTITY WrapOff.value &quot;Off&quot;&gt;</span>
<a href="#l25.34"></a><span id="l25.34" class="difflineminus">-&lt;!ENTITY WrapHard.value &quot;Hard&quot;&gt;</span>
<a href="#l25.35"></a><span id="l25.35" class="difflineminus">-&lt;!ENTITY WrapSoft.value &quot;Soft&quot;&gt;</span>
<a href="#l25.36"></a><span id="l25.36" class="difflineminus">-&lt;!ENTITY WrapPhysical.value &quot;Physical&quot;&gt;</span>
<a href="#l25.37"></a><span id="l25.37" class="difflineminus">-&lt;!ENTITY WrapVirtual.value &quot;Virtual&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mail/locales/jar.mn</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mail/locales/jar.mn</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -175,23 +175,17 @@</span>
<a href="#l26.4"></a><span id="l26.4">   locale/@AB_CD@/messenger/messengercompose/EditorLinkProperties.dtd    (%chrome/messenger/messengercompose/EditorLinkProperties.dtd)</span>
<a href="#l26.5"></a><span id="l26.5">   locale/@AB_CD@/messenger/messengercompose/EditorListProperties.dtd    (%chrome/messenger/messengercompose/EditorListProperties.dtd)</span>
<a href="#l26.6"></a><span id="l26.6">   locale/@AB_CD@/messenger/messengercompose/EditorColorProperties.dtd   (%chrome/messenger/messengercompose/EditorColorProperties.dtd)</span>
<a href="#l26.7"></a><span id="l26.7">   locale/@AB_CD@/messenger/messengercompose/EdColorPicker.dtd           (%chrome/messenger/messengercompose/EdColorPicker.dtd)</span>
<a href="#l26.8"></a><span id="l26.8">   locale/@AB_CD@/messenger/messengercompose/EditorReplace.dtd           (%chrome/messenger/messengercompose/EditorReplace.dtd)</span>
<a href="#l26.9"></a><span id="l26.9">   locale/@AB_CD@/messenger/messengercompose/EditorSpellCheck.dtd        (%chrome/messenger/messengercompose/EditorSpellCheck.dtd)</span>
<a href="#l26.10"></a><span id="l26.10">   locale/@AB_CD@/messenger/messengercompose/EditorPersonalDictionary.dtd (%chrome/messenger/messengercompose/EditorPersonalDictionary.dtd)</span>
<a href="#l26.11"></a><span id="l26.11">   locale/@AB_CD@/messenger/messengercompose/EditorTableProperties.dtd   (%chrome/messenger/messengercompose/EditorTableProperties.dtd)</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-  locale/@AB_CD@/messenger/messengercompose/EditorFormProperties.dtd    (%chrome/messenger/messengercompose/EditorFormProperties.dtd)</span>
<a href="#l26.13"></a><span id="l26.13">   locale/@AB_CD@/messenger/messengercompose/EditorInputProperties.dtd   (%chrome/messenger/messengercompose/EditorInputProperties.dtd)</span>
<a href="#l26.14"></a><span id="l26.14" class="difflineminus">-  locale/@AB_CD@/messenger/messengercompose/EditorTextAreaProperties.dtd (%chrome/messenger/messengercompose/EditorTextAreaProperties.dtd)</span>
<a href="#l26.15"></a><span id="l26.15" class="difflineminus">-  locale/@AB_CD@/messenger/messengercompose/EditorSelectProperties.dtd  (%chrome/messenger/messengercompose/EditorSelectProperties.dtd)</span>
<a href="#l26.16"></a><span id="l26.16" class="difflineminus">-  locale/@AB_CD@/messenger/messengercompose/EditorButtonProperties.dtd  (%chrome/messenger/messengercompose/EditorButtonProperties.dtd)</span>
<a href="#l26.17"></a><span id="l26.17" class="difflineminus">-  locale/@AB_CD@/messenger/messengercompose/EditorLabelProperties.dtd   (%chrome/messenger/messengercompose/EditorLabelProperties.dtd)</span>
<a href="#l26.18"></a><span id="l26.18" class="difflineminus">-  locale/@AB_CD@/messenger/messengercompose/EditorFieldSetProperties.dtd (%chrome/messenger/messengercompose/EditorFieldSetProperties.dtd)</span>
<a href="#l26.19"></a><span id="l26.19">   locale/@AB_CD@/messenger/messengercompose/EdNamedAnchorProperties.dtd (%chrome/messenger/messengercompose/EdNamedAnchorProperties.dtd)</span>
<a href="#l26.20"></a><span id="l26.20">   locale/@AB_CD@/messenger/messengercompose/EdDialogOverlay.dtd         (%chrome/messenger/messengercompose/EdDialogOverlay.dtd)</span>
<a href="#l26.21"></a><span id="l26.21">   locale/@AB_CD@/messenger/messengercompose/EdAdvancedEdit.dtd          (%chrome/messenger/messengercompose/EdAdvancedEdit.dtd)</span>
<a href="#l26.22"></a><span id="l26.22">   locale/@AB_CD@/messenger/messengercompose/EdConvertToTable.dtd        (%chrome/messenger/messengercompose/EdConvertToTable.dtd)</span>
<a href="#l26.23"></a><span id="l26.23">   locale/@AB_CD@/messenger/preferences/preferences.dtd                  (%chrome/messenger/preferences/preferences.dtd)</span>
<a href="#l26.24"></a><span id="l26.24">   locale/@AB_CD@/messenger/preferences/general.dtd                      (%chrome/messenger/preferences/general.dtd)</span>
<a href="#l26.25"></a><span id="l26.25">   #ifdef XP_MACOSX</span>
<a href="#l26.26"></a><span id="l26.26">   locale/@AB_CD@/messenger/preferences/dockoptions.dtd                  (%chrome/messenger/preferences/dockoptions.dtd)</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:31Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

