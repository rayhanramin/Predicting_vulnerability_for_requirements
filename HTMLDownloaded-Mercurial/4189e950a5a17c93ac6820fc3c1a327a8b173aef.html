<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 1792:4189e950a5a17c93ac6820fc3c1a327a8b173aef</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 4189e950a5a17c93ac6820fc3c1a327a8b173aef" />
<meta property="og:url" content="/comm-central/rev/4189e950a5a17c93ac6820fc3c1a327a8b173aef" />
<meta property="og:description" content="bug 475111 - port bug 471685, bug 469558, bug 464190, bug 467579, bug 397227, bug 463420, bug 466492, bug 471188, bug 467271, bug 466486 to comm-central, r=Standard8" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 4189e950a5a17c93ac6820fc3c1a327a8b173aef 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/4189e950a5a17c93ac6820fc3c1a327a8b173aef">shortlog</a> |
<a href="/comm-central/log/4189e950a5a17c93ac6820fc3c1a327a8b173aef">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/4189e950a5a17c93ac6820fc3c1a327a8b173aef">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/4189e950a5a17c93ac6820fc3c1a327a8b173aef">files</a> |
changeset |
<a href="/comm-central/raw-rev/4189e950a5a17c93ac6820fc3c1a327a8b173aef">raw</a>  | <a href="/comm-central/archive/4189e950a5a17c93ac6820fc3c1a327a8b173aef.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=475111">bug 475111</a> - port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=471685">bug 471685</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=469558">bug 469558</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=464190">bug 464190</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=467579">bug 467579</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=397227">bug 397227</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=463420">bug 463420</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=466492">bug 466492</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=471188">bug 471188</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=467271">bug 467271</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=466486">bug 466486</a> to comm-central, r=Standard8
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#111;&#98;&#101;&#114;&#116;&#32;&#75;&#97;&#105;&#115;&#101;&#114;&#32;&#60;&#107;&#97;&#105;&#114;&#111;&#64;&#107;&#97;&#105;&#114;&#111;&#46;&#97;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 29 Jan 2009 21:09:08 +0100</td></tr>

<tr>
 <td>changeset 1792</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/4189e950a5a17c93ac6820fc3c1a327a8b173aef">4189e950a5a17c93ac6820fc3c1a327a8b173aef</a></td>
</tr>



<tr>
<td>parent 1791</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/880b549a8c3171b41010f4402959d0bd0e9b9838">880b549a8c3171b41010f4402959d0bd0e9b9838</a>
</td>
</tr>

<tr>
<td>child 1793</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/efe8315bc045d03278e287add14f84feef895e25">efe8315bc045d03278e287add14f84feef895e25</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=4189e950a5a17c93ac6820fc3c1a327a8b173aef">1444</a></td></tr>
<tr><td>push user</td><td>kairo@kairo.at</td></tr>
<tr><td>push date</td><td class="date age">Thu, 29 Jan 2009 20:10:07 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@efe8315bc045 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=efe8315bc045d03278e287add14f84feef895e25">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=efe8315bc045d03278e287add14f84feef895e25&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=efe8315bc045d03278e287add14f84feef895e25&newProject=comm-central&newRevision=4189e950a5a17c93ac6820fc3c1a327a8b173aef&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=efe8315bc045d03278e287add14f84feef895e25&newProject=comm-central&newRevision=4189e950a5a17c93ac6820fc3c1a327a8b173aef&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=efe8315bc045d03278e287add14f84feef895e25&newProject=comm-central&newRevision=4189e950a5a17c93ac6820fc3c1a327a8b173aef&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Standard8%29&revcount=50">Standard8</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=475111">475111</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=471685">471685</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=469558">469558</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=464190">464190</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=467579">467579</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=397227">397227</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=463420">463420</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=466492">466492</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=471188">471188</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=467271">467271</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=466486">466486</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=475111">bug 475111</a> - port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=471685">bug 471685</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=469558">bug 469558</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=464190">bug 464190</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=467579">bug 467579</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=397227">bug 397227</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=463420">bug 463420</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=466492">bug 466492</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=471188">bug 471188</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=467271">bug 467271</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=466486">bug 466486</a> to comm-central, r=Standard8</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/autoconf.mk.in">config/autoconf.mk.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/autoconf.mk.in">file</a> |
<a href="/comm-central/annotate/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/autoconf.mk.in">annotate</a> |
<a href="/comm-central/diff/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/autoconf.mk.in">diff</a> |
<a href="/comm-central/comparison/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/autoconf.mk.in">comparison</a> |
<a href="/comm-central/log/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/autoconf.mk.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/config.mk">config/config.mk</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/config.mk">file</a> |
<a href="/comm-central/annotate/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/config.mk">annotate</a> |
<a href="/comm-central/diff/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/config.mk">diff</a> |
<a href="/comm-central/comparison/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/config.mk">comparison</a> |
<a href="/comm-central/log/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/config.mk">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/rules.mk">config/rules.mk</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/rules.mk">file</a> |
<a href="/comm-central/annotate/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/rules.mk">annotate</a> |
<a href="/comm-central/diff/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/rules.mk">diff</a> |
<a href="/comm-central/comparison/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/rules.mk">comparison</a> |
<a href="/comm-central/log/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/rules.mk">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/static-checking-config.mk">config/static-checking-config.mk</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/static-checking-config.mk">file</a> |
<a href="/comm-central/annotate/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/static-checking-config.mk">annotate</a> |
<a href="/comm-central/diff/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/static-checking-config.mk">diff</a> |
<a href="/comm-central/comparison/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/static-checking-config.mk">comparison</a> |
<a href="/comm-central/log/4189e950a5a17c93ac6820fc3c1a327a8b173aef/config/static-checking-config.mk">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/4189e950a5a17c93ac6820fc3c1a327a8b173aef/configure.in">configure.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/4189e950a5a17c93ac6820fc3c1a327a8b173aef/configure.in">file</a> |
<a href="/comm-central/annotate/4189e950a5a17c93ac6820fc3c1a327a8b173aef/configure.in">annotate</a> |
<a href="/comm-central/diff/4189e950a5a17c93ac6820fc3c1a327a8b173aef/configure.in">diff</a> |
<a href="/comm-central/comparison/4189e950a5a17c93ac6820fc3c1a327a8b173aef/configure.in">comparison</a> |
<a href="/comm-central/log/4189e950a5a17c93ac6820fc3c1a327a8b173aef/configure.in">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/config/autoconf.mk.in</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/config/autoconf.mk.in</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -412,24 +412,19 @@ PNG_CFLAGS	= @PNG_CFLAGS@</span>
<a href="#l1.4"></a><span id="l1.4"> PNG_LIBS	= @PNG_LIBS@</span>
<a href="#l1.5"></a><span id="l1.5"> PNG_REQUIRES	=</span>
<a href="#l1.6"></a><span id="l1.6"> else</span>
<a href="#l1.7"></a><span id="l1.7"> PNG_CFLAGS	= @MOZ_PNG_CFLAGS@</span>
<a href="#l1.8"></a><span id="l1.8"> PNG_LIBS	= @MOZ_PNG_LIBS@</span>
<a href="#l1.9"></a><span id="l1.9"> PNG_REQUIRES	= png</span>
<a href="#l1.10"></a><span id="l1.10"> endif</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-MOZ_NATIVE_LCMS	= @MOZ_NATIVE_LCMS@</span>
<a href="#l1.13"></a><span id="l1.13"> LCMS_CFLAGS	= @LCMS_CFLAGS@</span>
<a href="#l1.14"></a><span id="l1.14"> LCMS_LIBS	= @LCMS_LIBS@</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-ifdef MOZ_NATIVE_LCMS</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-LCMS_REQUIRES	=</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-else</span>
<a href="#l1.18"></a><span id="l1.18"> LCMS_REQUIRES	= lcms</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-endif</span>
<a href="#l1.20"></a><span id="l1.20"> </span>
<a href="#l1.21"></a><span id="l1.21"> MOZ_NATIVE_SQLITE = @MOZ_NATIVE_SQLITE@</span>
<a href="#l1.22"></a><span id="l1.22"> SQLITE_CFLAGS     = @SQLITE_CFLAGS@</span>
<a href="#l1.23"></a><span id="l1.23"> SQLITE_LIBS       = @SQLITE_LIBS@</span>
<a href="#l1.24"></a><span id="l1.24"> </span>
<a href="#l1.25"></a><span id="l1.25"> NSPR_CONFIG	= @NSPR_CONFIG@</span>
<a href="#l1.26"></a><span id="l1.26"> NSPR_CFLAGS	= @NSPR_CFLAGS@</span>
<a href="#l1.27"></a><span id="l1.27"> NSPR_LIBS	= @NSPR_LIBS@</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineat">@@ -579,16 +574,17 @@ endif</span>
<a href="#l1.29"></a><span id="l1.29"> # Codesighs tools option, enables win32 mapfiles.</span>
<a href="#l1.30"></a><span id="l1.30"> MOZ_MAPINFO	= @MOZ_MAPINFO@</span>
<a href="#l1.31"></a><span id="l1.31"> </span>
<a href="#l1.32"></a><span id="l1.32"> MOZ_THUNDERBIRD = @MOZ_THUNDERBIRD@</span>
<a href="#l1.33"></a><span id="l1.33"> MOZ_STATIC_MAIL_BUILD = @MOZ_STATIC_MAIL_BUILD@</span>
<a href="#l1.34"></a><span id="l1.34"> MOZ_SUNBIRD	= @MOZ_SUNBIRD@</span>
<a href="#l1.35"></a><span id="l1.35"> MOZ_SUITE	= @MOZ_SUITE@</span>
<a href="#l1.36"></a><span id="l1.36"> WINCE		= @WINCE@</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineplus">+WINCE_SDK      = @WINCE_SDK@</span>
<a href="#l1.38"></a><span id="l1.38"> </span>
<a href="#l1.39"></a><span id="l1.39"> MOZ_DISTRIBUTION_ID = @MOZ_DISTRIBUTION_ID@</span>
<a href="#l1.40"></a><span id="l1.40"> </span>
<a href="#l1.41"></a><span id="l1.41"> MACOS_SDK_DIR	= @MACOS_SDK_DIR@</span>
<a href="#l1.42"></a><span id="l1.42"> NEXT_ROOT	= @NEXT_ROOT@</span>
<a href="#l1.43"></a><span id="l1.43"> GCC_VERSION	= @GCC_VERSION@</span>
<a href="#l1.44"></a><span id="l1.44"> XCODEBUILD_VERSION= @XCODEBUILD_VERSION@</span>
<a href="#l1.45"></a><span id="l1.45"> HAS_XCODE_2_1	= @HAS_XCODE_2_1@</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/config/config.mk</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/config/config.mk</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -483,43 +483,17 @@ REQ_INCLUDES_SDK = $(foreach d,$(REQUIRE</span>
<a href="#l2.4"></a><span id="l2.4"> endif</span>
<a href="#l2.5"></a><span id="l2.5"> </span>
<a href="#l2.6"></a><span id="l2.6"> INCLUDES	= $(LOCAL_INCLUDES) $(REQ_INCLUDES) $(REQ_INCLUDES_SDK) -I$(PUBLIC) $(OS_INCLUDES)</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8"> ifndef MOZILLA_INTERNAL_API</span>
<a href="#l2.9"></a><span id="l2.9"> INCLUDES	+= -I$(LIBXUL_DIST)/sdk/include</span>
<a href="#l2.10"></a><span id="l2.10"> endif</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-# The entire tree should be subject to static analysis using the XPCOM</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-# script. Additional scripts may be added by specific subdirectories.</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-DEHYDRA_SCRIPT = $(MOZILLA_SRCDIR)/xpcom/analysis/static-checking.js</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineminus">-</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-DEHYDRA_MODULES = \</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-  $(MOZILLA_SRCDIR)/xpcom/analysis/final.js \</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-  $(NULL)</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineminus">-TREEHYDRA_MODULES = \</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineminus">-  $(MOZILLA_SRCDIR)/xpcom/analysis/outparams.js \</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineminus">-  $(MOZILLA_SRCDIR)/xpcom/analysis/stack.js \</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-  $(MOZILLA_SRCDIR)/xpcom/analysis/flow.js \</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineminus">-  $(NULL)</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineminus">-</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineminus">-DEHYDRA_ARGS = \</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineminus">-  --topsrcdir=$(topsrcdir) \</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineminus">-  --objdir=$(DEPTH) \</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineminus">-  --dehydra-modules=$(subst $(NULL) ,$(COMMA),$(strip $(DEHYDRA_MODULES))) \</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-  --treehydra-modules=$(subst $(NULL) ,$(COMMA),$(strip $(TREEHYDRA_MODULES))) \</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-  $(NULL)</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-DEHYDRA_FLAGS = -fplugin=$(DEHYDRA_PATH) -fplugin-arg='$(DEHYDRA_SCRIPT) $(DEHYDRA_ARGS)'</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-ifdef DEHYDRA_PATH</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-OS_CXXFLAGS += $(DEHYDRA_FLAGS)</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineminus">-endif</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineplus">+include $(topsrcdir)/config/static-checking-config.mk</span>
<a href="#l2.40"></a><span id="l2.40"> </span>
<a href="#l2.41"></a><span id="l2.41"> CFLAGS		= $(OS_CFLAGS)</span>
<a href="#l2.42"></a><span id="l2.42"> CXXFLAGS	= $(OS_CXXFLAGS)</span>
<a href="#l2.43"></a><span id="l2.43"> LDFLAGS		= $(OS_LDFLAGS) $(MOZ_FIX_LINK_PATHS)</span>
<a href="#l2.44"></a><span id="l2.44"> </span>
<a href="#l2.45"></a><span id="l2.45"> # Allow each module to override the *default* optimization settings</span>
<a href="#l2.46"></a><span id="l2.46"> # by setting MODULE_OPTIMIZE_FLAGS if the developer has not given</span>
<a href="#l2.47"></a><span id="l2.47"> # arguments to --enable-optimize</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineat">@@ -863,8 +837,12 @@ ifdef LOCALE_MERGEDIR</span>
<a href="#l2.49"></a><span id="l2.49"> MAKE_JARS_FLAGS += -c $(topsrcdir)/$(relativesrcdir)/en-US</span>
<a href="#l2.50"></a><span id="l2.50"> endif</span>
<a href="#l2.51"></a><span id="l2.51"> endif</span>
<a href="#l2.52"></a><span id="l2.52"> </span>
<a href="#l2.53"></a><span id="l2.53"> ifeq (,$(filter WINCE WINNT OS2,$(OS_ARCH)))</span>
<a href="#l2.54"></a><span id="l2.54"> RUN_TEST_PROGRAM = $(DIST)/bin/run-mozilla.sh</span>
<a href="#l2.55"></a><span id="l2.55"> endif</span>
<a href="#l2.56"></a><span id="l2.56"> </span>
<a href="#l2.57"></a><span id="l2.57" class="difflineplus">+ifdef TIERS</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineplus">+DIRS += $(foreach tier,$(TIERS),$(tier_$(tier)_dirs))</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineplus">+STATIC_DIRS += $(foreach tier,$(TIERS),$(tier_$(tier)_staticdirs))</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineplus">+endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/config/rules.mk</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/config/rules.mk</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -108,16 +108,116 @@ EXPAND_LIBNAME = $(addprefix -l,$(1))</span>
<a href="#l3.4"></a><span id="l3.4"> EXPAND_LIBNAME_PATH = -L$(2) $(addprefix -l,$(1))</span>
<a href="#l3.5"></a><span id="l3.5"> EXPAND_MOZLIBNAME = $(addprefix -l,$(1))</span>
<a href="#l3.6"></a><span id="l3.6"> endif</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> ifdef EXTRA_DSO_LIBS</span>
<a href="#l3.9"></a><span id="l3.9"> EXTRA_DSO_LIBS	:= $(call EXPAND_MOZLIBNAME,$(EXTRA_DSO_LIBS))</span>
<a href="#l3.10"></a><span id="l3.10"> endif</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+################################################################################</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+# Testing frameworks support</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+################################################################################</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+ifdef ENABLE_TESTS</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineplus">+ifdef XPCSHELL_TESTS</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineplus">+ifndef MODULE</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineplus">+$(error Must define MODULE when defining XPCSHELL_TESTS.)</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineplus">+endif</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineplus">+</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineplus">+# Test file installation</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineplus">+libs::</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineplus">+	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineplus">+	for testdir in $(XPCSHELL_TESTS); do \</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineplus">+	  $(INSTALL) \</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineplus">+	    $(srcdir)/$$testdir/*.js \</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineplus">+	    $(MOZDEPTH)/_tests/xpcshell-simple/$(MODULE)/$$testdir; \</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+	done</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineplus">+</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+# Path formats on Windows are hard.  We require a topsrcdir formatted so that</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineplus">+# it may be passed to nsILocalFile.initWithPath (in other words, an absolute</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+# path of the form X:\path\to\topsrcdir), which we store in NATIVE_TOPSRCDIR.</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineplus">+# We require a forward-slashed path to topsrcdir so that it may be combined</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineplus">+# with a relative forward-slashed path for loading scripts, both dynamically</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineplus">+# and statically for head/test/tail JS files.  Of course, on non-Windows none</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineplus">+# of this matters, and things will work correctly because everything's</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineplus">+# forward-slashed, everywhere, always.</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineplus">+ifdef CYGWIN_WRAPPER</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineplus">+NATIVE_TOPSRCDIR   := `cygpath -wa $(MOZILLA_SRCDIR)`</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineplus">+FWDSLASH_TOPSRCDIR := `cygpath -ma $(MOZILLA_SRCDIR)`</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineplus">+else</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineplus">+FWDSLASH_TOPSRCDIR := $(MOZILLA_SRCDIR)</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineplus">+ifeq ($(HOST_OS_ARCH),WINNT)</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineplus">+NATIVE_TOPSRCDIR   := $(subst /,\\,$(WIN_TOP_SRC)/mozilla)</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineplus">+else </span>
<a href="#l3.48"></a><span id="l3.48" class="difflineplus">+NATIVE_TOPSRCDIR   := $(MOZILLA_SRCDIR)</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineplus">+endif</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineplus">+endif # CYGWIN_WRAPPER</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineplus">+</span>
<a href="#l3.52"></a><span id="l3.52" class="difflineplus">+testxpcdir = $(MOZILLA_SRCDIR)/testing/xpcshell</span>
<a href="#l3.53"></a><span id="l3.53" class="difflineplus">+</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineplus">+# Test execution</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineplus">+check::</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineplus">+	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineplus">+	for testdir in $(XPCSHELL_TESTS); do \</span>
<a href="#l3.58"></a><span id="l3.58" class="difflineplus">+	  $(RUN_TEST_PROGRAM) \</span>
<a href="#l3.59"></a><span id="l3.59" class="difflineplus">+	    $(testxpcdir)/test_all.sh \</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineplus">+	      $(DIST)/bin/xpcshell \</span>
<a href="#l3.61"></a><span id="l3.61" class="difflineplus">+	      $(FWDSLASH_TOPSRCDIR) \</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineplus">+	      $(NATIVE_TOPSRCDIR) \</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineplus">+	      $(MOZDEPTH)/_tests/xpcshell-simple/$(MODULE)/$$testdir; \</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineplus">+	done</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineplus">+</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineplus">+# Test execution</span>
<a href="#l3.67"></a><span id="l3.67" class="difflineplus">+check-interactive::</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineplus">+	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineplus">+	$(RUN_TEST_PROGRAM) \</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineplus">+	  $(testxpcdir)/test_one.sh \</span>
<a href="#l3.71"></a><span id="l3.71" class="difflineplus">+	    $(DIST)/bin/xpcshell \</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineplus">+	    $(FWDSLASH_TOPSRCDIR) \</span>
<a href="#l3.73"></a><span id="l3.73" class="difflineplus">+	    $(NATIVE_TOPSRCDIR) \</span>
<a href="#l3.74"></a><span id="l3.74" class="difflineplus">+	    $(MOZDEPTH)/_tests/xpcshell-simple/$(MODULE)/$$testdir \</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineplus">+	    $(SOLO_FILE) 1;</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineplus">+</span>
<a href="#l3.77"></a><span id="l3.77" class="difflineplus">+# Test execution</span>
<a href="#l3.78"></a><span id="l3.78" class="difflineplus">+check-one::</span>
<a href="#l3.79"></a><span id="l3.79" class="difflineplus">+	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.80"></a><span id="l3.80" class="difflineplus">+	$(RUN_TEST_PROGRAM) \</span>
<a href="#l3.81"></a><span id="l3.81" class="difflineplus">+	  $(testxpcdir)/test_one.sh \</span>
<a href="#l3.82"></a><span id="l3.82" class="difflineplus">+	    $(DIST)/bin/xpcshell \</span>
<a href="#l3.83"></a><span id="l3.83" class="difflineplus">+	    $(FWDSLASH_TOPSRCDIR) \</span>
<a href="#l3.84"></a><span id="l3.84" class="difflineplus">+	    $(NATIVE_TOPSRCDIR) \</span>
<a href="#l3.85"></a><span id="l3.85" class="difflineplus">+	    $(MOZDEPTH)/_tests/xpcshell-simple/$(MODULE)/$$testdir \</span>
<a href="#l3.86"></a><span id="l3.86" class="difflineplus">+	    $(SOLO_FILE) 0;</span>
<a href="#l3.87"></a><span id="l3.87" class="difflineplus">+</span>
<a href="#l3.88"></a><span id="l3.88" class="difflineplus">+endif # XPCSHELL_TESTS</span>
<a href="#l3.89"></a><span id="l3.89" class="difflineplus">+</span>
<a href="#l3.90"></a><span id="l3.90" class="difflineplus">+ifdef CPP_UNIT_TESTS</span>
<a href="#l3.91"></a><span id="l3.91" class="difflineplus">+</span>
<a href="#l3.92"></a><span id="l3.92" class="difflineplus">+# Compile the tests to $(DIST)/bin.  Make lots of niceties available by default</span>
<a href="#l3.93"></a><span id="l3.93" class="difflineplus">+# through TestHarness.h, by modifying the list of includes and the libs against</span>
<a href="#l3.94"></a><span id="l3.94" class="difflineplus">+# which stuff links.</span>
<a href="#l3.95"></a><span id="l3.95" class="difflineplus">+CPPSRCS += $(CPP_UNIT_TESTS)</span>
<a href="#l3.96"></a><span id="l3.96" class="difflineplus">+SIMPLE_PROGRAMS += $(CPP_UNIT_TESTS:.cpp=$(BIN_SUFFIX))</span>
<a href="#l3.97"></a><span id="l3.97" class="difflineplus">+REQUIRES += testing xpcom</span>
<a href="#l3.98"></a><span id="l3.98" class="difflineplus">+LIBS += $(XPCOM_GLUE_LDOPTS) $(NSPR_LIBS)</span>
<a href="#l3.99"></a><span id="l3.99" class="difflineplus">+</span>
<a href="#l3.100"></a><span id="l3.100" class="difflineplus">+# ...and run them the usual way</span>
<a href="#l3.101"></a><span id="l3.101" class="difflineplus">+check::</span>
<a href="#l3.102"></a><span id="l3.102" class="difflineplus">+	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.103"></a><span id="l3.103" class="difflineplus">+	  for f in $(subst .cpp,,$(CPP_UNIT_TESTS)); do \</span>
<a href="#l3.104"></a><span id="l3.104" class="difflineplus">+	    XPCOM_DEBUG_BREAK=stack-and-abort $(RUN_TEST_PROGRAM) $(DIST)/bin/$$f; \</span>
<a href="#l3.105"></a><span id="l3.105" class="difflineplus">+	  done</span>
<a href="#l3.106"></a><span id="l3.106" class="difflineplus">+</span>
<a href="#l3.107"></a><span id="l3.107" class="difflineplus">+endif # CPP_UNIT_TESTS</span>
<a href="#l3.108"></a><span id="l3.108" class="difflineplus">+</span>
<a href="#l3.109"></a><span id="l3.109" class="difflineplus">+endif # ENABLE_TESTS</span>
<a href="#l3.110"></a><span id="l3.110" class="difflineplus">+</span>
<a href="#l3.111"></a><span id="l3.111" class="difflineplus">+</span>
<a href="#l3.112"></a><span id="l3.112"> #</span>
<a href="#l3.113"></a><span id="l3.113"> # Library rules</span>
<a href="#l3.114"></a><span id="l3.114"> #</span>
<a href="#l3.115"></a><span id="l3.115"> # If BUILD_STATIC_LIBS or FORCE_STATIC_LIB is set, build a static library.</span>
<a href="#l3.116"></a><span id="l3.116"> # Otherwise, build a shared library.</span>
<a href="#l3.117"></a><span id="l3.117"> #</span>
<a href="#l3.118"></a><span id="l3.118"> </span>
<a href="#l3.119"></a><span id="l3.119"> ifndef LIBRARY</span>
<a href="#l3.120"></a><span id="l3.120" class="difflineat">@@ -189,25 +289,32 @@ ifdef FORCE_SHARED_LIB</span>
<a href="#l3.121"></a><span id="l3.121"> ifndef FORCE_STATIC_LIB</span>
<a href="#l3.122"></a><span id="l3.122"> LIBRARY			:= $(NULL)</span>
<a href="#l3.123"></a><span id="l3.123"> endif</span>
<a href="#l3.124"></a><span id="l3.124"> endif</span>
<a href="#l3.125"></a><span id="l3.125"> </span>
<a href="#l3.126"></a><span id="l3.126"> ifeq (,$(filter-out WINNT WINCE,$(OS_ARCH)))</span>
<a href="#l3.127"></a><span id="l3.127"> ifndef GNU_CC</span>
<a href="#l3.128"></a><span id="l3.128"> </span>
<a href="#l3.129"></a><span id="l3.129" class="difflineminus">-# All C++ files share a PDB file per directory. For parallel builds, this PDB</span>
<a href="#l3.130"></a><span id="l3.130" class="difflineminus">-# file is shared and locked by MSPDBSRV.EXE, starting with MSVC8 SP1. If</span>
<a href="#l3.131"></a><span id="l3.131" class="difflineminus">-# you're using MSVC 7.1 or MSVC8 without SP1, don't do parallel builds.</span>
<a href="#l3.132"></a><span id="l3.132" class="difflineplus">+# Unless we're building SIMPLE_PROGRAMS, all C++ files share a PDB file per</span>
<a href="#l3.133"></a><span id="l3.133" class="difflineplus">+# directory. For parallel builds, this PDB file is shared and locked by</span>
<a href="#l3.134"></a><span id="l3.134" class="difflineplus">+# MSPDBSRV.EXE, starting with MSVC8 SP1. If you're using MSVC 7.1 or MSVC8</span>
<a href="#l3.135"></a><span id="l3.135" class="difflineplus">+# without SP1, don't do parallel builds.</span>
<a href="#l3.136"></a><span id="l3.136"> #</span>
<a href="#l3.137"></a><span id="l3.137"> # The final PDB for libraries and programs is created by the linker and uses</span>
<a href="#l3.138"></a><span id="l3.138"> # a different name from the single PDB file created by the compiler. See</span>
<a href="#l3.139"></a><span id="l3.139"> # bug 462740.</span>
<a href="#l3.140"></a><span id="l3.140"> #</span>
<a href="#l3.141"></a><span id="l3.141" class="difflineplus">+</span>
<a href="#l3.142"></a><span id="l3.142" class="difflineplus">+ifdef SIMPLE_PROGRAMS</span>
<a href="#l3.143"></a><span id="l3.143" class="difflineplus">+COMPILE_PDBFILE = $(basename $(@F)).pdb</span>
<a href="#l3.144"></a><span id="l3.144" class="difflineplus">+else</span>
<a href="#l3.145"></a><span id="l3.145"> COMPILE_PDBFILE = generated.pdb</span>
<a href="#l3.146"></a><span id="l3.146" class="difflineplus">+endif</span>
<a href="#l3.147"></a><span id="l3.147" class="difflineplus">+</span>
<a href="#l3.148"></a><span id="l3.148"> LINK_PDBFILE = $(basename $(@F)).pdb</span>
<a href="#l3.149"></a><span id="l3.149"> ifdef MOZ_DEBUG</span>
<a href="#l3.150"></a><span id="l3.150"> CODFILE=$(basename $(@F)).cod</span>
<a href="#l3.151"></a><span id="l3.151"> endif</span>
<a href="#l3.152"></a><span id="l3.152"> </span>
<a href="#l3.153"></a><span id="l3.153"> ifdef MOZ_MAPINFO</span>
<a href="#l3.154"></a><span id="l3.154"> ifdef LIBRARY_NAME</span>
<a href="#l3.155"></a><span id="l3.155"> MAPFILE=$(LIBRARY_NAME).map</span>
<a href="#l3.156"></a><span id="l3.156" class="difflineat">@@ -350,32 +457,40 @@ ifdef MOZ_UPDATE_XTERM</span>
<a href="#l3.157"></a><span id="l3.157"> # makes the make -s output easier to read.  Echo -n does not work on all</span>
<a href="#l3.158"></a><span id="l3.158"> # platforms, but we can trick sed into doing it.</span>
<a href="#l3.159"></a><span id="l3.159"> UPDATE_TITLE = sed -e &quot;s!Y!$@ in $(shell $(BUILD_TOOLS)/print-depth-path.sh)/$(dir)!&quot; $(MOZILLA_DIR)/config/xterm.str;</span>
<a href="#l3.160"></a><span id="l3.160"> UPDATE_TITLE_export = sed -e &quot;s!Y!export in $(shell $(BUILD_TOOLS)/print-depth-path.sh)/$*!&quot; $(MOZILLA_DIR)/config/xterm.str;</span>
<a href="#l3.161"></a><span id="l3.161"> UPDATE_TITLE_libs = sed -e &quot;s!Y!libs in $(shell $(BUILD_TOOLS)/print-depth-path.sh)/$*!&quot; $(MOZILLA_DIR)/config/xterm.str;</span>
<a href="#l3.162"></a><span id="l3.162"> UPDATE_TITLE_tools = sed -e &quot;s!Y!tools in $(shell $(BUILD_TOOLS)/print-depth-path.sh)/$*!&quot; $(MOZILLA_DIR)/config/xterm.str;</span>
<a href="#l3.163"></a><span id="l3.163"> endif</span>
<a href="#l3.164"></a><span id="l3.164"> </span>
<a href="#l3.165"></a><span id="l3.165" class="difflineplus">+ifneq (,$(strip $(DIRS)))</span>
<a href="#l3.166"></a><span id="l3.166"> LOOP_OVER_DIRS = \</span>
<a href="#l3.167"></a><span id="l3.167">     @$(EXIT_ON_ERROR) \</span>
<a href="#l3.168"></a><span id="l3.168" class="difflineminus">-    $(foreach dir,$(DIRS),$(UPDATE_TITLE) $(MAKE) -C $(dir) $@; ) true</span>
<a href="#l3.169"></a><span id="l3.169" class="difflineplus">+    $(foreach dir,$(DIRS),$(UPDATE_TITLE) $(MAKE) -C $(dir) $@; )</span>
<a href="#l3.170"></a><span id="l3.170" class="difflineplus">+endif</span>
<a href="#l3.171"></a><span id="l3.171"> </span>
<a href="#l3.172"></a><span id="l3.172"> # we only use this for the makefiles target and other stuff that doesn't matter</span>
<a href="#l3.173"></a><span id="l3.173" class="difflineplus">+ifneq (,$(strip $(PARALLEL_DIRS)))</span>
<a href="#l3.174"></a><span id="l3.174"> LOOP_OVER_PARALLEL_DIRS = \</span>
<a href="#l3.175"></a><span id="l3.175">     @$(EXIT_ON_ERROR) \</span>
<a href="#l3.176"></a><span id="l3.176" class="difflineminus">-    $(foreach dir,$(PARALLEL_DIRS),$(UPDATE_TITLE) $(MAKE) -C $(dir) $@; ) true</span>
<a href="#l3.177"></a><span id="l3.177" class="difflineplus">+    $(foreach dir,$(PARALLEL_DIRS),$(UPDATE_TITLE) $(MAKE) -C $(dir) $@; )</span>
<a href="#l3.178"></a><span id="l3.178" class="difflineplus">+endif</span>
<a href="#l3.179"></a><span id="l3.179"> </span>
<a href="#l3.180"></a><span id="l3.180" class="difflineplus">+ifneq (,$(strip $(STATIC_DIRS)))</span>
<a href="#l3.181"></a><span id="l3.181"> LOOP_OVER_STATIC_DIRS = \</span>
<a href="#l3.182"></a><span id="l3.182">     @$(EXIT_ON_ERROR) \</span>
<a href="#l3.183"></a><span id="l3.183" class="difflineminus">-    $(foreach dir,$(STATIC_DIRS),$(UPDATE_TITLE) $(MAKE) -C $(dir) $@; ) true</span>
<a href="#l3.184"></a><span id="l3.184" class="difflineplus">+    $(foreach dir,$(STATIC_DIRS),$(UPDATE_TITLE) $(MAKE) -C $(dir) $@; )</span>
<a href="#l3.185"></a><span id="l3.185" class="difflineplus">+endif</span>
<a href="#l3.186"></a><span id="l3.186"> </span>
<a href="#l3.187"></a><span id="l3.187" class="difflineplus">+ifneq (,$(strip $(TOOL_DIRS)))</span>
<a href="#l3.188"></a><span id="l3.188"> LOOP_OVER_TOOL_DIRS = \</span>
<a href="#l3.189"></a><span id="l3.189">     @$(EXIT_ON_ERROR) \</span>
<a href="#l3.190"></a><span id="l3.190" class="difflineminus">-    $(foreach dir,$(TOOL_DIRS),$(UPDATE_TITLE) $(MAKE) -C $(dir) $@; ) true</span>
<a href="#l3.191"></a><span id="l3.191" class="difflineplus">+    $(foreach dir,$(TOOL_DIRS),$(UPDATE_TITLE) $(MAKE) -C $(dir) $@; )</span>
<a href="#l3.192"></a><span id="l3.192" class="difflineplus">+endif</span>
<a href="#l3.193"></a><span id="l3.193"> </span>
<a href="#l3.194"></a><span id="l3.194"> ifdef PARALLEL_DIRS</span>
<a href="#l3.195"></a><span id="l3.195"> # create a bunch of fake targets for order-only processing</span>
<a href="#l3.196"></a><span id="l3.196"> PARALLEL_DIRS_export = $(addsuffix _export,$(PARALLEL_DIRS))</span>
<a href="#l3.197"></a><span id="l3.197"> PARALLEL_DIRS_libs = $(addsuffix _libs,$(PARALLEL_DIRS))</span>
<a href="#l3.198"></a><span id="l3.198"> PARALLEL_DIRS_tools = $(addsuffix _tools,$(PARALLEL_DIRS))</span>
<a href="#l3.199"></a><span id="l3.199"> </span>
<a href="#l3.200"></a><span id="l3.200"> .PHONY: $(PARALLEL_DIRS_export) $(PARALLEL_DIRS_libs) $(PARALLEL_DIRS_tools)</span>
<a href="#l3.201"></a><span id="l3.201" class="difflineat">@@ -594,29 +709,26 @@ endif</span>
<a href="#l3.202"></a><span id="l3.202"> SUBMAKEFILES += $(addsuffix /Makefile, $(DIRS) $(TOOL_DIRS) $(PARALLEL_DIRS))</span>
<a href="#l3.203"></a><span id="l3.203"> </span>
<a href="#l3.204"></a><span id="l3.204"> # The root makefile doesn't want to do a plain export/libs, because</span>
<a href="#l3.205"></a><span id="l3.205"> # of the tiers and because of libxul. Suppress the default rules in favor</span>
<a href="#l3.206"></a><span id="l3.206"> # of something else. Makefiles which use this var *must* provide a sensible</span>
<a href="#l3.207"></a><span id="l3.207"> # default rule before including rules.mk</span>
<a href="#l3.208"></a><span id="l3.208"> ifndef SUPPRESS_DEFAULT_RULES</span>
<a href="#l3.209"></a><span id="l3.209"> ifdef TIERS</span>
<a href="#l3.210"></a><span id="l3.210" class="difflineminus">-</span>
<a href="#l3.211"></a><span id="l3.211" class="difflineminus">-DIRS += $(foreach tier,$(TIERS),$(tier_$(tier)_dirs))</span>
<a href="#l3.212"></a><span id="l3.212" class="difflineminus">-STATIC_DIRS += $(foreach tier,$(TIERS),$(tier_$(tier)_staticdirs))</span>
<a href="#l3.213"></a><span id="l3.213" class="difflineminus">-</span>
<a href="#l3.214"></a><span id="l3.214"> default all alldep::</span>
<a href="#l3.215"></a><span id="l3.215"> 	$(EXIT_ON_ERROR) \</span>
<a href="#l3.216"></a><span id="l3.216"> 	$(foreach tier,$(TIERS),$(MAKE) tier_$(tier); ) true</span>
<a href="#l3.217"></a><span id="l3.217"> </span>
<a href="#l3.218"></a><span id="l3.218"> else</span>
<a href="#l3.219"></a><span id="l3.219"> </span>
<a href="#l3.220"></a><span id="l3.220"> default all::</span>
<a href="#l3.221"></a><span id="l3.221" class="difflineminus">-	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.222"></a><span id="l3.222" class="difflineminus">-	$(foreach dir,$(STATIC_DIRS),$(MAKE) -C $(dir); ) true</span>
<a href="#l3.223"></a><span id="l3.223" class="difflineplus">+ifneq (,$(strip $(STATIC_DIRS)))</span>
<a href="#l3.224"></a><span id="l3.224" class="difflineplus">+	$(foreach dir,$(STATIC_DIRS),$(MAKE) -C $(dir); )</span>
<a href="#l3.225"></a><span id="l3.225" class="difflineplus">+endif</span>
<a href="#l3.226"></a><span id="l3.226"> 	$(MAKE) export</span>
<a href="#l3.227"></a><span id="l3.227"> 	$(MAKE) libs</span>
<a href="#l3.228"></a><span id="l3.228"> 	$(MAKE) tools</span>
<a href="#l3.229"></a><span id="l3.229"> </span>
<a href="#l3.230"></a><span id="l3.230"> # Do depend as well</span>
<a href="#l3.231"></a><span id="l3.231"> alldep:: </span>
<a href="#l3.232"></a><span id="l3.232"> 	$(MAKE) export</span>
<a href="#l3.233"></a><span id="l3.233"> 	$(MAKE) depend</span>
<a href="#l3.234"></a><span id="l3.234" class="difflineat">@@ -708,19 +820,19 @@ ifdef PARALLEL_DIRS</span>
<a href="#l3.235"></a><span id="l3.235"> tools:: $(PARALLEL_DIRS_tools)</span>
<a href="#l3.236"></a><span id="l3.236"> </span>
<a href="#l3.237"></a><span id="l3.237"> $(PARALLEL_DIRS_tools): %_tools: %/Makefile</span>
<a href="#l3.238"></a><span id="l3.238"> 	+@$(UPDATE_TITLE_tools) $(MAKE) -C $* tools</span>
<a href="#l3.239"></a><span id="l3.239"> endif</span>
<a href="#l3.240"></a><span id="l3.240"> </span>
<a href="#l3.241"></a><span id="l3.241"> tools:: $(SUBMAKEFILES) $(MAKE_DIRS)</span>
<a href="#l3.242"></a><span id="l3.242"> 	+$(LOOP_OVER_DIRS)</span>
<a href="#l3.243"></a><span id="l3.243" class="difflineminus">-ifdef TOOL_DIRS</span>
<a href="#l3.244"></a><span id="l3.244" class="difflineplus">+ifneq (,$(strip $(TOOL_DIRS)))</span>
<a href="#l3.245"></a><span id="l3.245"> 	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.246"></a><span id="l3.246" class="difflineminus">-	$(foreach dir,$(TOOL_DIRS),$(UPDATE_TITLE) $(MAKE) -C $(dir) libs; ) true</span>
<a href="#l3.247"></a><span id="l3.247" class="difflineplus">+	$(foreach dir,$(TOOL_DIRS),$(UPDATE_TITLE) $(MAKE) -C $(dir) libs; )</span>
<a href="#l3.248"></a><span id="l3.248"> endif</span>
<a href="#l3.249"></a><span id="l3.249"> </span>
<a href="#l3.250"></a><span id="l3.250"> #</span>
<a href="#l3.251"></a><span id="l3.251"> # Rule to create list of libraries for final link</span>
<a href="#l3.252"></a><span id="l3.252"> #</span>
<a href="#l3.253"></a><span id="l3.253"> export::</span>
<a href="#l3.254"></a><span id="l3.254"> ifdef LIBRARY_NAME</span>
<a href="#l3.255"></a><span id="l3.255"> ifdef EXPORT_LIBRARY</span>
<a href="#l3.256"></a><span id="l3.256" class="difflineat">@@ -813,31 +925,35 @@ endif # !NO_DIST_INSTALL</span>
<a href="#l3.257"></a><span id="l3.257"> ifndef NO_PROFILE_GUIDED_OPTIMIZE</span>
<a href="#l3.258"></a><span id="l3.258"> ifneq (,$(MOZ_PROFILE_GENERATE)$(MOZ_PROFILE_USE))</span>
<a href="#l3.259"></a><span id="l3.259"> ifeq ($(OS_ARCH)_$(GNU_CC)$(INTERNAL_TOOLS), WINNT_)</span>
<a href="#l3.260"></a><span id="l3.260"> # Force re-linking when building with PGO, since</span>
<a href="#l3.261"></a><span id="l3.261"> # the MSVC linker does all the work.  We force re-link</span>
<a href="#l3.262"></a><span id="l3.262"> # in both stages so you can do depend builds with PGO.</span>
<a href="#l3.263"></a><span id="l3.263"> ifdef SHARED_LIBRARY</span>
<a href="#l3.264"></a><span id="l3.264"> $(SHARED_LIBRARY): FORCE</span>
<a href="#l3.265"></a><span id="l3.265" class="difflineminus">-BINARY_BASENAME = $(SHARED_LIBRARY:$(DLL_SUFFIX)=)</span>
<a href="#l3.266"></a><span id="l3.266"> endif</span>
<a href="#l3.267"></a><span id="l3.267"> ifdef PROGRAM</span>
<a href="#l3.268"></a><span id="l3.268"> $(PROGRAM): FORCE</span>
<a href="#l3.269"></a><span id="l3.269" class="difflineminus">-BINARY_BASENAME = $(PROGRAM:$(BIN_SUFFIX)=)</span>
<a href="#l3.270"></a><span id="l3.270"> endif</span>
<a href="#l3.271"></a><span id="l3.271"> </span>
<a href="#l3.272"></a><span id="l3.272"> ifdef MOZ_PROFILE_USE</span>
<a href="#l3.273"></a><span id="l3.273"> # In the second pass, we need to merge the pgc files into the pgd file.</span>
<a href="#l3.274"></a><span id="l3.274"> # The compiler would do this for us automatically if they were in the right</span>
<a href="#l3.275"></a><span id="l3.275"> # place, but they're in dist/bin.</span>
<a href="#l3.276"></a><span id="l3.276" class="difflineminus">-ifdef BINARY_BASENAME</span>
<a href="#l3.277"></a><span id="l3.277" class="difflineplus">+ifneq (,$(SHARED_LIBRARY)$(PROGRAM))</span>
<a href="#l3.278"></a><span id="l3.278"> export::</span>
<a href="#l3.279"></a><span id="l3.279" class="difflineplus">+ifdef PROGRAM</span>
<a href="#l3.280"></a><span id="l3.280"> 	$(PYTHON) $(MOZILLA_SRCDIR)/build/win32/pgomerge.py \</span>
<a href="#l3.281"></a><span id="l3.281" class="difflineminus">-	  $(BINARY_BASENAME) $(DIST)/bin</span>
<a href="#l3.282"></a><span id="l3.282" class="difflineplus">+	  $(PROGRAM:$(BIN_SUFFIX)=) $(DIST)/bin</span>
<a href="#l3.283"></a><span id="l3.283" class="difflineplus">+endif</span>
<a href="#l3.284"></a><span id="l3.284" class="difflineplus">+ifdef SHARED_LIBRARY</span>
<a href="#l3.285"></a><span id="l3.285" class="difflineplus">+	$(PYTHON) $(topsrcdir)/build/win32/pgomerge.py \</span>
<a href="#l3.286"></a><span id="l3.286" class="difflineplus">+	  $(LIBRARY_NAME) $(DIST)/bin</span>
<a href="#l3.287"></a><span id="l3.287" class="difflineplus">+endif</span>
<a href="#l3.288"></a><span id="l3.288"> endif</span>
<a href="#l3.289"></a><span id="l3.289"> endif # MOZ_PROFILE_USE</span>
<a href="#l3.290"></a><span id="l3.290"> endif # WINNT_</span>
<a href="#l3.291"></a><span id="l3.291"> endif # MOZ_PROFILE_GENERATE || MOZ_PROFILE_USE</span>
<a href="#l3.292"></a><span id="l3.292"> endif # NO_PROFILE_GUIDED_OPTIMIZE</span>
<a href="#l3.293"></a><span id="l3.293"> </span>
<a href="#l3.294"></a><span id="l3.294"> ##############################################</span>
<a href="#l3.295"></a><span id="l3.295"> </span>
<a href="#l3.296"></a><span id="l3.296" class="difflineat">@@ -1400,17 +1516,17 @@ endif</span>
<a href="#l3.297"></a><span id="l3.297"> ###############################################################################</span>
<a href="#l3.298"></a><span id="l3.298"> # Bunch of things that extend the 'export' rule (in order):</span>
<a href="#l3.299"></a><span id="l3.299"> ###############################################################################</span>
<a href="#l3.300"></a><span id="l3.300"> </span>
<a href="#l3.301"></a><span id="l3.301"> ################################################################################</span>
<a href="#l3.302"></a><span id="l3.302"> # Copy each element of EXPORTS to $(PUBLIC)</span>
<a href="#l3.303"></a><span id="l3.303"> </span>
<a href="#l3.304"></a><span id="l3.304"> ifneq ($(EXPORTS)$(XPIDLSRCS)$(SDK_HEADERS)$(SDK_XPIDLSRCS),)</span>
<a href="#l3.305"></a><span id="l3.305" class="difflineminus">-$(SDK_PUBLIC) $(PUBLIC)::</span>
<a href="#l3.306"></a><span id="l3.306" class="difflineplus">+$(SDK_PUBLIC) $(PUBLIC):</span>
<a href="#l3.307"></a><span id="l3.307"> 	$(NSINSTALL) -D $@</span>
<a href="#l3.308"></a><span id="l3.308"> endif</span>
<a href="#l3.309"></a><span id="l3.309"> </span>
<a href="#l3.310"></a><span id="l3.310"> ifneq ($(XPI_NAME),)</span>
<a href="#l3.311"></a><span id="l3.311"> $(FINAL_TARGET):</span>
<a href="#l3.312"></a><span id="l3.312"> 	$(NSINSTALL) -D $@</span>
<a href="#l3.313"></a><span id="l3.313"> </span>
<a href="#l3.314"></a><span id="l3.314"> export:: $(FINAL_TARGET)</span>
<a href="#l3.315"></a><span id="l3.315" class="difflineat">@@ -1680,25 +1796,24 @@ chrome::</span>
<a href="#l3.316"></a><span id="l3.316"> 	$(MAKE) realchrome</span>
<a href="#l3.317"></a><span id="l3.317"> 	+$(LOOP_OVER_PARALLEL_DIRS)</span>
<a href="#l3.318"></a><span id="l3.318"> 	+$(LOOP_OVER_DIRS)</span>
<a href="#l3.319"></a><span id="l3.319"> 	+$(LOOP_OVER_TOOL_DIRS)</span>
<a href="#l3.320"></a><span id="l3.320"> </span>
<a href="#l3.321"></a><span id="l3.321"> $(FINAL_TARGET)/chrome:</span>
<a href="#l3.322"></a><span id="l3.322"> 	$(NSINSTALL) -D $@</span>
<a href="#l3.323"></a><span id="l3.323"> </span>
<a href="#l3.324"></a><span id="l3.324" class="difflineminus">-libs realchrome:: $(CHROME_DEPS) $(FINAL_TARGET)/chrome</span>
<a href="#l3.325"></a><span id="l3.325" class="difflineplus">+ifneq (,$(wildcard $(JAR_MANIFEST)))</span>
<a href="#l3.326"></a><span id="l3.326"> ifndef NO_DIST_INSTALL</span>
<a href="#l3.327"></a><span id="l3.327" class="difflineminus">-	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.328"></a><span id="l3.328" class="difflineminus">-	if test -f $(JAR_MANIFEST); then \</span>
<a href="#l3.329"></a><span id="l3.329" class="difflineminus">-	  $(PYTHON) $(MOZILLA_DIR)/config/JarMaker.py \</span>
<a href="#l3.330"></a><span id="l3.330" class="difflineminus">-	    $(QUIET) -j $(FINAL_TARGET)/chrome \</span>
<a href="#l3.331"></a><span id="l3.331" class="difflineminus">-	    $(MAKE_JARS_FLAGS) $(XULPPFLAGS) $(DEFINES) $(ACDEFINES) \</span>
<a href="#l3.332"></a><span id="l3.332" class="difflineminus">-	    $(JAR_MANIFEST); \</span>
<a href="#l3.333"></a><span id="l3.333" class="difflineminus">-	fi</span>
<a href="#l3.334"></a><span id="l3.334" class="difflineplus">+libs realchrome:: $(CHROME_DEPS) $(FINAL_TARGET)/chrome</span>
<a href="#l3.335"></a><span id="l3.335" class="difflineplus">+	$(PYTHON) $(MOZILLA_DIR)/config/JarMaker.py \</span>
<a href="#l3.336"></a><span id="l3.336" class="difflineplus">+	  $(QUIET) -j $(FINAL_TARGET)/chrome \</span>
<a href="#l3.337"></a><span id="l3.337" class="difflineplus">+	  $(MAKE_JARS_FLAGS) $(XULPPFLAGS) $(DEFINES) $(ACDEFINES) \</span>
<a href="#l3.338"></a><span id="l3.338" class="difflineplus">+	  $(JAR_MANIFEST)</span>
<a href="#l3.339"></a><span id="l3.339" class="difflineplus">+endif</span>
<a href="#l3.340"></a><span id="l3.340"> endif</span>
<a href="#l3.341"></a><span id="l3.341"> </span>
<a href="#l3.342"></a><span id="l3.342"> ifneq ($(DIST_FILES),)</span>
<a href="#l3.343"></a><span id="l3.343"> libs:: $(DIST_FILES)</span>
<a href="#l3.344"></a><span id="l3.344"> 	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.345"></a><span id="l3.345"> 	for f in $(DIST_FILES); do \</span>
<a href="#l3.346"></a><span id="l3.346"> 	  dest=$(FINAL_TARGET)/`basename $$f`; \</span>
<a href="#l3.347"></a><span id="l3.347"> 	  $(RM) -f $$dest; \</span>
<a href="#l3.348"></a><span id="l3.348" class="difflineat">@@ -1779,97 +1894,16 @@ REGCHROME = $(PERL) -I$(MOZILLA_DIR)/con</span>
<a href="#l3.349"></a><span id="l3.349"> 	$(_JAR_REGCHROME_DISABLE_JAR)</span>
<a href="#l3.350"></a><span id="l3.350"> </span>
<a href="#l3.351"></a><span id="l3.351"> REGCHROME_INSTALL = $(PERL) -I$(MOZILLA_DIR)/config $(MOZILLA_DIR)/config/add-chrome.pl \</span>
<a href="#l3.352"></a><span id="l3.352"> 	$(if $(filter gtk2,$(MOZ_WIDGET_TOOLKIT)),-x) \</span>
<a href="#l3.353"></a><span id="l3.353"> 	$(if $(CROSS_COMPILE),-o $(OS_ARCH)) $(DESTDIR)$(mozappdir)/chrome/installed-chrome.txt \</span>
<a href="#l3.354"></a><span id="l3.354"> 	$(_JAR_REGCHROME_DISABLE_JAR)</span>
<a href="#l3.355"></a><span id="l3.355"> </span>
<a href="#l3.356"></a><span id="l3.356"> </span>
<a href="#l3.357"></a><span id="l3.357" class="difflineminus">-################################################################################</span>
<a href="#l3.358"></a><span id="l3.358" class="difflineminus">-# Testing frameworks support</span>
<a href="#l3.359"></a><span id="l3.359" class="difflineminus">-################################################################################</span>
<a href="#l3.360"></a><span id="l3.360" class="difflineminus">-</span>
<a href="#l3.361"></a><span id="l3.361" class="difflineminus">-ifdef ENABLE_TESTS</span>
<a href="#l3.362"></a><span id="l3.362" class="difflineminus">-</span>
<a href="#l3.363"></a><span id="l3.363" class="difflineminus">-ifdef XPCSHELL_TESTS</span>
<a href="#l3.364"></a><span id="l3.364" class="difflineminus">-ifndef MODULE</span>
<a href="#l3.365"></a><span id="l3.365" class="difflineminus">-$(error Must define MODULE when defining XPCSHELL_TESTS.)</span>
<a href="#l3.366"></a><span id="l3.366" class="difflineminus">-endif</span>
<a href="#l3.367"></a><span id="l3.367" class="difflineminus">-</span>
<a href="#l3.368"></a><span id="l3.368" class="difflineminus">-# Test file installation</span>
<a href="#l3.369"></a><span id="l3.369" class="difflineminus">-libs::</span>
<a href="#l3.370"></a><span id="l3.370" class="difflineminus">-	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.371"></a><span id="l3.371" class="difflineminus">-	for testdir in $(XPCSHELL_TESTS); do \</span>
<a href="#l3.372"></a><span id="l3.372" class="difflineminus">-	  $(INSTALL) \</span>
<a href="#l3.373"></a><span id="l3.373" class="difflineminus">-	    $(srcdir)/$$testdir/*.js \</span>
<a href="#l3.374"></a><span id="l3.374" class="difflineminus">-	    $(MOZDEPTH)/_tests/xpcshell-simple/$(MODULE)/$$testdir; \</span>
<a href="#l3.375"></a><span id="l3.375" class="difflineminus">-	done</span>
<a href="#l3.376"></a><span id="l3.376" class="difflineminus">-</span>
<a href="#l3.377"></a><span id="l3.377" class="difflineminus">-# Path formats on Windows are hard.  We require a topsrcdir formatted so that</span>
<a href="#l3.378"></a><span id="l3.378" class="difflineminus">-# it may be passed to nsILocalFile.initWithPath (in other words, an absolute</span>
<a href="#l3.379"></a><span id="l3.379" class="difflineminus">-# path of the form X:\path\to\topsrcdir), which we store in NATIVE_TOPSRCDIR.</span>
<a href="#l3.380"></a><span id="l3.380" class="difflineminus">-# We require a forward-slashed path to topsrcdir so that it may be combined</span>
<a href="#l3.381"></a><span id="l3.381" class="difflineminus">-# with a relative forward-slashed path for loading scripts, both dynamically</span>
<a href="#l3.382"></a><span id="l3.382" class="difflineminus">-# and statically for head/test/tail JS files.  Of course, on non-Windows none</span>
<a href="#l3.383"></a><span id="l3.383" class="difflineminus">-# of this matters, and things will work correctly because everything's</span>
<a href="#l3.384"></a><span id="l3.384" class="difflineminus">-# forward-slashed, everywhere, always.</span>
<a href="#l3.385"></a><span id="l3.385" class="difflineminus">-ifdef CYGWIN_WRAPPER</span>
<a href="#l3.386"></a><span id="l3.386" class="difflineminus">-NATIVE_TOPSRCDIR   := `cygpath -wa $(MOZILLA_SRCDIR)`</span>
<a href="#l3.387"></a><span id="l3.387" class="difflineminus">-FWDSLASH_TOPSRCDIR := `cygpath -ma $(MOZILLA_SRCDIR)`</span>
<a href="#l3.388"></a><span id="l3.388" class="difflineminus">-else</span>
<a href="#l3.389"></a><span id="l3.389" class="difflineminus">-FWDSLASH_TOPSRCDIR := $(MOZILLA_SRCDIR)</span>
<a href="#l3.390"></a><span id="l3.390" class="difflineminus">-ifeq ($(HOST_OS_ARCH),WINNT)</span>
<a href="#l3.391"></a><span id="l3.391" class="difflineminus">-NATIVE_TOPSRCDIR   := $(subst /,\\,$(WIN_TOP_SRC)/mozilla)</span>
<a href="#l3.392"></a><span id="l3.392" class="difflineminus">-else </span>
<a href="#l3.393"></a><span id="l3.393" class="difflineminus">-NATIVE_TOPSRCDIR   := $(MOZILLA_SRCDIR)</span>
<a href="#l3.394"></a><span id="l3.394" class="difflineminus">-endif</span>
<a href="#l3.395"></a><span id="l3.395" class="difflineminus">-endif # CYGWIN_WRAPPER</span>
<a href="#l3.396"></a><span id="l3.396" class="difflineminus">-</span>
<a href="#l3.397"></a><span id="l3.397" class="difflineminus">-testxpcdir = $(MOZILLA_SRCDIR)/testing/xpcshell</span>
<a href="#l3.398"></a><span id="l3.398" class="difflineminus">-</span>
<a href="#l3.399"></a><span id="l3.399" class="difflineminus">-# Test execution</span>
<a href="#l3.400"></a><span id="l3.400" class="difflineminus">-check::</span>
<a href="#l3.401"></a><span id="l3.401" class="difflineminus">-	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.402"></a><span id="l3.402" class="difflineminus">-	for testdir in $(XPCSHELL_TESTS); do \</span>
<a href="#l3.403"></a><span id="l3.403" class="difflineminus">-	  $(RUN_TEST_PROGRAM) \</span>
<a href="#l3.404"></a><span id="l3.404" class="difflineminus">-	    $(testxpcdir)/test_all.sh \</span>
<a href="#l3.405"></a><span id="l3.405" class="difflineminus">-	      $(DIST)/bin/xpcshell \</span>
<a href="#l3.406"></a><span id="l3.406" class="difflineminus">-	      $(FWDSLASH_TOPSRCDIR) \</span>
<a href="#l3.407"></a><span id="l3.407" class="difflineminus">-	      $(NATIVE_TOPSRCDIR) \</span>
<a href="#l3.408"></a><span id="l3.408" class="difflineminus">-	      $(MOZDEPTH)/_tests/xpcshell-simple/$(MODULE)/$$testdir; \</span>
<a href="#l3.409"></a><span id="l3.409" class="difflineminus">-	done</span>
<a href="#l3.410"></a><span id="l3.410" class="difflineminus">-</span>
<a href="#l3.411"></a><span id="l3.411" class="difflineminus">-# Test execution</span>
<a href="#l3.412"></a><span id="l3.412" class="difflineminus">-check-interactive::</span>
<a href="#l3.413"></a><span id="l3.413" class="difflineminus">-	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.414"></a><span id="l3.414" class="difflineminus">-	$(RUN_TEST_PROGRAM) \</span>
<a href="#l3.415"></a><span id="l3.415" class="difflineminus">-	  $(testxpcdir)/test_one.sh \</span>
<a href="#l3.416"></a><span id="l3.416" class="difflineminus">-	    $(DIST)/bin/xpcshell \</span>
<a href="#l3.417"></a><span id="l3.417" class="difflineminus">-	    $(FWDSLASH_TOPSRCDIR) \</span>
<a href="#l3.418"></a><span id="l3.418" class="difflineminus">-	    $(NATIVE_TOPSRCDIR) \</span>
<a href="#l3.419"></a><span id="l3.419" class="difflineminus">-	    $(MOZDEPTH)/_tests/xpcshell-simple/$(MODULE)/$$testdir \</span>
<a href="#l3.420"></a><span id="l3.420" class="difflineminus">-	    $(SOLO_FILE) 1;</span>
<a href="#l3.421"></a><span id="l3.421" class="difflineminus">-</span>
<a href="#l3.422"></a><span id="l3.422" class="difflineminus">-# Test execution</span>
<a href="#l3.423"></a><span id="l3.423" class="difflineminus">-check-one::</span>
<a href="#l3.424"></a><span id="l3.424" class="difflineminus">-	@$(EXIT_ON_ERROR) \</span>
<a href="#l3.425"></a><span id="l3.425" class="difflineminus">-	$(RUN_TEST_PROGRAM) \</span>
<a href="#l3.426"></a><span id="l3.426" class="difflineminus">-	  $(testxpcdir)/test_one.sh \</span>
<a href="#l3.427"></a><span id="l3.427" class="difflineminus">-	    $(DIST)/bin/xpcshell \</span>
<a href="#l3.428"></a><span id="l3.428" class="difflineminus">-	    $(FWDSLASH_TOPSRCDIR) \</span>
<a href="#l3.429"></a><span id="l3.429" class="difflineminus">-	    $(NATIVE_TOPSRCDIR) \</span>
<a href="#l3.430"></a><span id="l3.430" class="difflineminus">-	    $(MOZDEPTH)/_tests/xpcshell-simple/$(MODULE)/$$testdir \</span>
<a href="#l3.431"></a><span id="l3.431" class="difflineminus">-	    $(SOLO_FILE) 0;</span>
<a href="#l3.432"></a><span id="l3.432" class="difflineminus">-</span>
<a href="#l3.433"></a><span id="l3.433" class="difflineminus">-endif # XPCSHELL_TESTS</span>
<a href="#l3.434"></a><span id="l3.434" class="difflineminus">-</span>
<a href="#l3.435"></a><span id="l3.435" class="difflineminus">-endif # ENABLE_TESTS</span>
<a href="#l3.436"></a><span id="l3.436" class="difflineminus">-</span>
<a href="#l3.437"></a><span id="l3.437" class="difflineminus">-</span>
<a href="#l3.438"></a><span id="l3.438"> #############################################################################</span>
<a href="#l3.439"></a><span id="l3.439"> # Dependency system</span>
<a href="#l3.440"></a><span id="l3.440"> #############################################################################</span>
<a href="#l3.441"></a><span id="l3.441"> ifdef COMPILER_DEPEND</span>
<a href="#l3.442"></a><span id="l3.442"> depend::</span>
<a href="#l3.443"></a><span id="l3.443"> 	@echo &quot;$(MAKE): No need to run depend target.\</span>
<a href="#l3.444"></a><span id="l3.444"> 			Using compiler-based depend.&quot; 1&gt;&amp;2</span>
<a href="#l3.445"></a><span id="l3.445"> ifeq ($(GNU_CC)$(GNU_CXX),)</span>
<a href="#l3.446"></a><span id="l3.446" class="difflineat">@@ -2024,17 +2058,17 @@ FORCE:</span>
<a href="#l3.447"></a><span id="l3.447"> tags: TAGS</span>
<a href="#l3.448"></a><span id="l3.448"> </span>
<a href="#l3.449"></a><span id="l3.449"> TAGS: $(SUBMAKEFILES) $(CSRCS) $(CPPSRCS) $(wildcard *.h)</span>
<a href="#l3.450"></a><span id="l3.450"> 	-etags $(CSRCS) $(CPPSRCS) $(wildcard *.h)</span>
<a href="#l3.451"></a><span id="l3.451"> 	+$(LOOP_OVER_PARALLEL_DIRS)</span>
<a href="#l3.452"></a><span id="l3.452"> 	+$(LOOP_OVER_DIRS)</span>
<a href="#l3.453"></a><span id="l3.453"> </span>
<a href="#l3.454"></a><span id="l3.454"> echo-variable-%:</span>
<a href="#l3.455"></a><span id="l3.455" class="difflineminus">-	@echo $($*)</span>
<a href="#l3.456"></a><span id="l3.456" class="difflineplus">+	@echo &quot;$($*)&quot;</span>
<a href="#l3.457"></a><span id="l3.457"> </span>
<a href="#l3.458"></a><span id="l3.458"> echo-tiers:</span>
<a href="#l3.459"></a><span id="l3.459"> 	@echo $(TIERS)</span>
<a href="#l3.460"></a><span id="l3.460"> </span>
<a href="#l3.461"></a><span id="l3.461"> echo-dirs:</span>
<a href="#l3.462"></a><span id="l3.462"> 	@echo $(DIRS)</span>
<a href="#l3.463"></a><span id="l3.463"> </span>
<a href="#l3.464"></a><span id="l3.464"> echo-module:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">new file mode 100644</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineminus">--- /dev/null</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineplus">+++ b/config/static-checking-config.mk</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineat">@@ -0,0 +1,28 @@</span>
<a href="#l4.5"></a><span id="l4.5" class="difflineplus">+# The entire tree should be subject to static analysis using the XPCOM</span>
<a href="#l4.6"></a><span id="l4.6" class="difflineplus">+# script. Additional scripts may be added by specific subdirectories.</span>
<a href="#l4.7"></a><span id="l4.7" class="difflineplus">+</span>
<a href="#l4.8"></a><span id="l4.8" class="difflineplus">+DEHYDRA_SCRIPT = $(MOZILLA_SRCDIR)/config/static-checking.js</span>
<a href="#l4.9"></a><span id="l4.9" class="difflineplus">+</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineplus">+DEHYDRA_MODULES = \</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+  $(MOZILLA_SRCDIR)/xpcom/analysis/final.js \</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+  $(NULL)</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+TREEHYDRA_MODULES = \</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+  $(MOZILLA_SRCDIR)/xpcom/analysis/outparams.js \</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+  $(MOZILLA_SRCDIR)/xpcom/analysis/stack.js \</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+  $(MOZILLA_SRCDIR)/xpcom/analysis/flow.js \</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineplus">+  $(MOZILLA_SRCDIR)/js/src/jsstack.js \</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+  $(NULL)</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineplus">+DEHYDRA_ARGS = \</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineplus">+  --topsrcdir=$(topsrcdir) \</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineplus">+  --objdir=$(MOZDEPTH) \</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineplus">+  --dehydra-modules=$(subst $(NULL) ,$(COMMA),$(strip $(DEHYDRA_MODULES))) \</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineplus">+  --treehydra-modules=$(subst $(NULL) ,$(COMMA),$(strip $(TREEHYDRA_MODULES))) \</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineplus">+  $(NULL)</span>
<a href="#l4.27"></a><span id="l4.27" class="difflineplus">+</span>
<a href="#l4.28"></a><span id="l4.28" class="difflineplus">+DEHYDRA_FLAGS = -fplugin=$(DEHYDRA_PATH) -fplugin-arg='$(DEHYDRA_SCRIPT) $(DEHYDRA_ARGS)'</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineplus">+</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineplus">+ifdef DEHYDRA_PATH</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineplus">+OS_CXXFLAGS += $(DEHYDRA_FLAGS)</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineplus">+endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/configure.in</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/configure.in</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -136,17 +136,17 @@ WINDRES_VERSION=2.14.90</span>
<a href="#l5.4"></a><span id="l5.4"> W32API_VERSION=3.8</span>
<a href="#l5.5"></a><span id="l5.5"> GNOMEVFS_VERSION=2.0</span>
<a href="#l5.6"></a><span id="l5.6"> GNOMEUI_VERSION=2.2.0</span>
<a href="#l5.7"></a><span id="l5.7"> GCONF_VERSION=1.2.1</span>
<a href="#l5.8"></a><span id="l5.8"> LIBGNOME_VERSION=2.0</span>
<a href="#l5.9"></a><span id="l5.9"> STARTUP_NOTIFICATION_VERSION=0.8</span>
<a href="#l5.10"></a><span id="l5.10"> DBUS_VERSION=0.60</span>
<a href="#l5.11"></a><span id="l5.11"> LCMS_VERSION=1.17</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-SQLITE_VERSION=3.6.4</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+SQLITE_VERSION=3.6.7</span>
<a href="#l5.14"></a><span id="l5.14"> </span>
<a href="#l5.15"></a><span id="l5.15"> MSMANIFEST_TOOL=</span>
<a href="#l5.16"></a><span id="l5.16"> </span>
<a href="#l5.17"></a><span id="l5.17"> dnl Set various checks</span>
<a href="#l5.18"></a><span id="l5.18"> dnl ========================================================</span>
<a href="#l5.19"></a><span id="l5.19"> MISSING_X=</span>
<a href="#l5.20"></a><span id="l5.20"> AC_PROG_AWK</span>
<a href="#l5.21"></a><span id="l5.21"> </span>
<a href="#l5.22"></a><span id="l5.22" class="difflineat">@@ -236,26 +236,43 @@ dnl Set CROSS_COMPILE in the environment</span>
<a href="#l5.23"></a><span id="l5.23"> dnl to use the cross-compile setup for now</span>
<a href="#l5.24"></a><span id="l5.24"> dnl ========================================================</span>
<a href="#l5.25"></a><span id="l5.25"> </span>
<a href="#l5.26"></a><span id="l5.26"> if test &quot;$COMPILE_ENVIRONMENT&quot;; then</span>
<a href="#l5.27"></a><span id="l5.27"> </span>
<a href="#l5.28"></a><span id="l5.28"> dnl Do some special WinCE toolchain stuff</span>
<a href="#l5.29"></a><span id="l5.29"> case &quot;$target&quot; in</span>
<a href="#l5.30"></a><span id="l5.30"> *wince)</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineplus">+</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+    MOZ_ARG_WITH_STRING(wince-sdk,</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+    [  --with-wince-sdk=WINCE_SDK</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineplus">+                        The path to the windows mobile sdk],</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineplus">+    WINCE_SDK=$withval)</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineplus">+</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+    export WINCE=1</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineplus">+    mk_add_options WINCE=1</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineplus">+</span>
<a href="#l5.40"></a><span id="l5.40">     echo -----------------------------------------------------------------------------</span>
<a href="#l5.41"></a><span id="l5.41">     echo Building Windows CE Shunt Library and Tool Chain</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineminus">-    echo -----------------------------------------------------------------------------</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+    echo Using SDK in:</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+    echo $WINCE_SDK</span>
<a href="#l5.45"></a><span id="l5.45"> </span>
<a href="#l5.46"></a><span id="l5.46">     ac_exeext=.exe</span>
<a href="#l5.47"></a><span id="l5.47"> </span>
<a href="#l5.48"></a><span id="l5.48" class="difflineplus">+</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineplus">+    rm -f $srcdir/build/wince/shunt/include/windows.h</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+</span>
<a href="#l5.51"></a><span id="l5.51">     echo -n &quot;#define TOPSRCDIR \&quot;&quot; &gt; $srcdir/build/wince/tools/topsrcdir.h</span>
<a href="#l5.52"></a><span id="l5.52">     echo `cd &quot;$_topsrcdir&quot; &amp;&amp; pwd -W | tr '\n' '\&quot;'` &gt;&gt; $srcdir/build/wince/tools/topsrcdir.h</span>
<a href="#l5.53"></a><span id="l5.53">     make -C $srcdir/build/wince/tools</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+    echo &quot;#include \&quot;$WINCE_SDK/windows.h\&quot;&quot; &gt; $srcdir/build/wince/shunt/include/windows.h</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+    echo &quot;#define GetProcAddress GetProcAddressA&quot; &gt;&gt; $srcdir/build/wince/shunt/include/windows.h</span>
<a href="#l5.57"></a><span id="l5.57">     echo -----------------------------------------------------------------------------</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+</span>
<a href="#l5.59"></a><span id="l5.59">     ;;</span>
<a href="#l5.60"></a><span id="l5.60"> esac</span>
<a href="#l5.61"></a><span id="l5.61"> </span>
<a href="#l5.62"></a><span id="l5.62"> if test -n &quot;$CROSS_COMPILE&quot; &amp;&amp; test &quot;$target&quot; != &quot;$host&quot;; then</span>
<a href="#l5.63"></a><span id="l5.63">     echo &quot;cross compiling from $host to $target&quot;</span>
<a href="#l5.64"></a><span id="l5.64">     cross_compiling=yes</span>
<a href="#l5.65"></a><span id="l5.65"> </span>
<a href="#l5.66"></a><span id="l5.66">     _SAVE_CC=&quot;$CC&quot;</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineat">@@ -6943,38 +6960,26 @@ fi</span>
<a href="#l5.68"></a><span id="l5.68"> AC_SUBST(MOZ_TREE_CAIRO)</span>
<a href="#l5.69"></a><span id="l5.69"> AC_SUBST(MOZ_CAIRO_CFLAGS)</span>
<a href="#l5.70"></a><span id="l5.70"> AC_SUBST(MOZ_CAIRO_LIBS)</span>
<a href="#l5.71"></a><span id="l5.71"> </span>
<a href="#l5.72"></a><span id="l5.72"> dnl ========================================================</span>
<a href="#l5.73"></a><span id="l5.73"> dnl Check for lcms</span>
<a href="#l5.74"></a><span id="l5.74"> dnl ========================================================</span>
<a href="#l5.75"></a><span id="l5.75"> </span>
<a href="#l5.76"></a><span id="l5.76" class="difflineminus">-MOZ_NATIVE_LCMS=</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineminus">-MOZ_ARG_ENABLE_BOOL(system-lcms,</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineminus">-[ --enable-system-lcms Use system lcms (located with pkgconfig)],</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineminus">-MOZ_NATIVE_LCMS=1,</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineminus">-MOZ_NATIVE_LCMS= )</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineminus">-</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineminus">-if test -z &quot;$MOZ_NATIVE_LCMS&quot;</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineminus">-then</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineminus">-    LCMS_CFLAGS=</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineminus">-    if test &quot;$_WIN32_MSVC&quot;; then</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineminus">-        if test -z &quot;$BUILD_STATIC_LIBS&quot; -a -z &quot;$MOZ_ENABLE_LIBXUL&quot;; then</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineminus">-            LCMS_CFLAGS=-DLCMS_DLL</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineminus">-        fi</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineminus">-        LCMS_LIBS='$(LIBXUL_DIST)/lib/mozlcms.lib'</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineminus">-    else</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineminus">-        LCMS_LIBS='-L$(LIBXUL_DIST)/bin -lmozlcms'</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineminus">-    fi</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineplus">+LCMS_CFLAGS=</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineplus">+if test &quot;$_WIN32_MSVC&quot;; then</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineplus">+    if test -z &quot;$BUILD_STATIC_LIBS&quot; -a -z &quot;$MOZ_ENABLE_LIBXUL&quot;; then</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineplus">+        LCMS_CFLAGS=-DLCMS_DLL</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineplus">+    fi</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineplus">+    LCMS_LIBS='$(LIBXUL_DIST)/lib/mozlcms.lib'</span>
<a href="#l5.99"></a><span id="l5.99"> else</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineminus">-    PKG_CHECK_MODULES(LCMS, lcms &gt;= $LCMS_VERSION)</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineminus">-fi</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineminus">-</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineminus">-AC_SUBST(MOZ_NATIVE_LCMS)</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineplus">+    LCMS_LIBS='-L$(LIBXUL_DIST)/bin -lmozlcms'</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineplus">+fi</span>
<a href="#l5.106"></a><span id="l5.106" class="difflineplus">+</span>
<a href="#l5.107"></a><span id="l5.107"> AC_SUBST(LCMS_CFLAGS)</span>
<a href="#l5.108"></a><span id="l5.108"> AC_SUBST(LCMS_LIBS)</span>
<a href="#l5.109"></a><span id="l5.109"> </span>
<a href="#l5.110"></a><span id="l5.110"> dnl ========================================================</span>
<a href="#l5.111"></a><span id="l5.111"> dnl disable xul</span>
<a href="#l5.112"></a><span id="l5.112"> dnl ========================================================</span>
<a href="#l5.113"></a><span id="l5.113"> MOZ_ARG_DISABLE_BOOL(xul,</span>
<a href="#l5.114"></a><span id="l5.114"> [  --disable-xul           Disable XUL],</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineat">@@ -7158,16 +7163,17 @@ AC_SUBST(USE_DEPENDENT_LIBS)</span>
<a href="#l5.116"></a><span id="l5.116"> AC_SUBST(MOZ_BUILD_ROOT)</span>
<a href="#l5.117"></a><span id="l5.117"> AC_SUBST(MOZ_OS2_TOOLS)</span>
<a href="#l5.118"></a><span id="l5.118"> AC_SUBST(MOZ_OS2_USE_DECLSPEC)</span>
<a href="#l5.119"></a><span id="l5.119"> </span>
<a href="#l5.120"></a><span id="l5.120"> AC_SUBST(MOZ_POST_DSO_LIB_COMMAND)</span>
<a href="#l5.121"></a><span id="l5.121"> AC_SUBST(MOZ_POST_PROGRAM_COMMAND)</span>
<a href="#l5.122"></a><span id="l5.122"> AC_SUBST(MOZ_TIMELINE)</span>
<a href="#l5.123"></a><span id="l5.123"> AC_SUBST(WINCE)</span>
<a href="#l5.124"></a><span id="l5.124" class="difflineplus">+AC_SUBST(WINCE_SDK)</span>
<a href="#l5.125"></a><span id="l5.125"> AC_SUBST(TARGET_DEVICE)</span>
<a href="#l5.126"></a><span id="l5.126"> </span>
<a href="#l5.127"></a><span id="l5.127"> AC_SUBST(MOZ_APP_NAME)</span>
<a href="#l5.128"></a><span id="l5.128"> AC_SUBST(MOZ_APP_DISPLAYNAME)</span>
<a href="#l5.129"></a><span id="l5.129"> AC_SUBST(MOZ_APP_VERSION)</span>
<a href="#l5.130"></a><span id="l5.130"> AC_SUBST(FIREFOX_VERSION)</span>
<a href="#l5.131"></a><span id="l5.131"> AC_SUBST(THUNDERBIRD_VERSION)</span>
<a href="#l5.132"></a><span id="l5.132"> AC_SUBST(SUNBIRD_VERSION)</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

