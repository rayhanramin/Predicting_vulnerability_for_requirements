<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 20033:bd2023dedb868294992a355e3302f08d5e65ce01</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ bd2023dedb868294992a355e3302f08d5e65ce01" />
<meta property="og:url" content="/comm-central/rev/bd2023dedb868294992a355e3302f08d5e65ce01" />
<meta property="og:description" content="Bug 1280898 - Set up eslint for calendar files - enable no-multi-spaces rule. r=MakeMyDay" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / bd2023dedb868294992a355e3302f08d5e65ce01 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/bd2023dedb868294992a355e3302f08d5e65ce01">shortlog</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/bd2023dedb868294992a355e3302f08d5e65ce01">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01">files</a> |
changeset |
<a href="/comm-central/raw-rev/bd2023dedb868294992a355e3302f08d5e65ce01">raw</a>  | <a href="/comm-central/archive/bd2023dedb868294992a355e3302f08d5e65ce01.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">Bug 1280898</a> - Set up eslint for calendar files - enable no-multi-spaces rule. r=MakeMyDay
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#101;&#115;&#108;&#105;&#110;&#116;&#32;&#60;&#101;&#115;&#108;&#105;&#110;&#116;&#64;&#98;&#117;&#103;&#122;&#105;&#108;&#108;&#97;&#46;&#107;&#101;&#119;&#105;&#115;&#46;&#99;&#104;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 08 Jul 2016 11:19:05 +0200</td></tr>

<tr>
 <td>changeset 20033</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/bd2023dedb868294992a355e3302f08d5e65ce01">bd2023dedb868294992a355e3302f08d5e65ce01</a></td>
</tr>



<tr>
<td>parent 20032</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/caff8e7186a8de640cb022a1f37566a5dcf11a6c">caff8e7186a8de640cb022a1f37566a5dcf11a6c</a>
</td>
</tr>

<tr>
<td>child 20034</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/aa60248fbd5094b03a082eca1685cf1062cbbf28">aa60248fbd5094b03a082eca1685cf1062cbbf28</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=bd2023dedb868294992a355e3302f08d5e65ce01">12291</a></td></tr>
<tr><td>push user</td><td>mozilla@kewis.ch</td></tr>
<tr><td>push date</td><td class="date age">Thu, 15 Sep 2016 23:21:27 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@bd2023dedb86 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=bd2023dedb868294992a355e3302f08d5e65ce01">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=bd2023dedb868294992a355e3302f08d5e65ce01&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=bd2023dedb868294992a355e3302f08d5e65ce01&newProject=comm-central&newRevision=bd2023dedb868294992a355e3302f08d5e65ce01&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=bd2023dedb868294992a355e3302f08d5e65ce01&newProject=comm-central&newRevision=bd2023dedb868294992a355e3302f08d5e65ce01&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=bd2023dedb868294992a355e3302f08d5e65ce01&newProject=comm-central&newRevision=bd2023dedb868294992a355e3302f08d5e65ce01&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28MakeMyDay%29&revcount=50">MakeMyDay</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">1280898</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">Bug 1280898</a> - Set up eslint for calendar files - enable no-multi-spaces rule. r=MakeMyDay

MozReview-Commit-ID: KLQiUBzNctb</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/.eslintrc">calendar/.eslintrc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/.eslintrc">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/.eslintrc">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/.eslintrc">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/.eslintrc">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/.eslintrc">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calICSService.js">calendar/base/backend/icaljs/calICSService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calICSService.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calICSService.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calICSService.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calICSService.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calICSService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calRecurrenceRule.js">calendar/base/backend/icaljs/calRecurrenceRule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calRecurrenceRule.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calRecurrenceRule.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calRecurrenceRule.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calRecurrenceRule.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/backend/icaljs/calRecurrenceRule.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/agenda-listbox.js">calendar/base/content/agenda-listbox.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/agenda-listbox.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/agenda-listbox.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/agenda-listbox.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/agenda-listbox.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/agenda-listbox.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-extract.js">calendar/base/content/calendar-extract.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-extract.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-extract.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-extract.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-extract.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-extract.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-item-editing.js">calendar/base/content/calendar-item-editing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-item-editing.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-item-editing.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-item-editing.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-item-editing.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-item-editing.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-management.js">calendar/base/content/calendar-management.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-management.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-management.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-management.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-management.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-management.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-month-view.xml">calendar/base/content/calendar-month-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-month-view.xml">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-month-view.xml">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-month-view.xml">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-month-view.xml">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-month-view.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-multiday-view.xml">calendar/base/content/calendar-multiday-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-multiday-view.xml">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-multiday-view.xml">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-multiday-view.xml">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-multiday-view.xml">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-multiday-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.js">calendar/base/content/calendar-task-tree.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.xml">calendar/base/content/calendar-task-tree.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.xml">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.xml">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.xml">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.xml">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-task-tree.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-ui-utils.js">calendar/base/content/calendar-ui-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-ui-utils.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-ui-utils.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-ui-utils.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-ui-utils.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/calendar-ui-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-dialog-utils.js">calendar/base/content/dialogs/calendar-dialog-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-dialog-utils.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-dialog-utils.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-dialog-utils.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-dialog-utils.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-dialog-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">calendar/base/content/dialogs/calendar-event-dialog-attendees.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">calendar/base/content/dialogs/calendar-event-dialog-reminder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-properties-dialog.js">calendar/base/content/dialogs/calendar-properties-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-properties-dialog.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-properties-dialog.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-properties-dialog.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-properties-dialog.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-properties-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-summary-dialog.js">calendar/base/content/dialogs/calendar-summary-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-summary-dialog.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-summary-dialog.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-summary-dialog.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-summary-dialog.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/dialogs/calendar-summary-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/import-export.js">calendar/base/content/import-export.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/import-export.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/import-export.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/import-export.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/import-export.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/import-export.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/alarms.js">calendar/base/content/preferences/alarms.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/alarms.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/alarms.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/alarms.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/alarms.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/alarms.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/categories.js">calendar/base/content/preferences/categories.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/categories.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/categories.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/categories.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/categories.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/categories.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/general.js">calendar/base/content/preferences/general.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/general.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/general.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/general.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/general.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/preferences/general.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/today-pane.js">calendar/base/content/today-pane.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/today-pane.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/today-pane.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/today-pane.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/today-pane.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/today-pane.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-list-tree.xml">calendar/base/content/widgets/calendar-list-tree.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-list-tree.xml">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-list-tree.xml">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-list-tree.xml">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-list-tree.xml">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-list-tree.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-widgets.xml">calendar/base/content/widgets/calendar-widgets.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-widgets.xml">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-widgets.xml">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-widgets.xml">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-widgets.xml">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/content/widgets/calendar-widgets.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/modules/calProviderUtils.jsm">calendar/base/modules/calProviderUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/modules/calProviderUtils.jsm">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/modules/calProviderUtils.jsm">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/modules/calProviderUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/modules/calProviderUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/modules/calProviderUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarm.js">calendar/base/src/calAlarm.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarm.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarm.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarm.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarm.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarm.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarmMonitor.js">calendar/base/src/calAlarmMonitor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarmMonitor.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarmMonitor.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarmMonitor.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarmMonitor.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAlarmMonitor.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAttendee.js">calendar/base/src/calAttendee.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAttendee.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAttendee.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAttendee.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAttendee.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calAttendee.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCachedCalendar.js">calendar/base/src/calCachedCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCachedCalendar.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCachedCalendar.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCachedCalendar.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCachedCalendar.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCachedCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCalendarManager.js">calendar/base/src/calCalendarManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCalendarManager.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCalendarManager.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCalendarManager.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCalendarManager.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calCalendarManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calFilter.js">calendar/base/src/calFilter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calFilter.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calFilter.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calFilter.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calFilter.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calFilter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezone.js">calendar/base/src/calTimezone.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezone.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezone.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezone.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezone.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezone.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezoneService.js">calendar/base/src/calTimezoneService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezoneService.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezoneService.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezoneService.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezoneService.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calTimezoneService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calUtils.js">calendar/base/src/calUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calUtils.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calUtils.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calUtils.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calUtils.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/base/src/calUtils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calMonthGridPrinter.js">calendar/import-export/calMonthGridPrinter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calMonthGridPrinter.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calMonthGridPrinter.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calMonthGridPrinter.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calMonthGridPrinter.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calMonthGridPrinter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calOutlookCSVImportExport.js">calendar/import-export/calOutlookCSVImportExport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calOutlookCSVImportExport.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calOutlookCSVImportExport.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calOutlookCSVImportExport.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calOutlookCSVImportExport.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calOutlookCSVImportExport.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calWeekPrinter.js">calendar/import-export/calWeekPrinter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calWeekPrinter.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calWeekPrinter.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calWeekPrinter.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calWeekPrinter.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/import-export/calWeekPrinter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/itip/calItipEmailTransport.js">calendar/itip/calItipEmailTransport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/itip/calItipEmailTransport.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/itip/calItipEmailTransport.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/itip/calItipEmailTransport.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/itip/calItipEmailTransport.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/itip/calItipEmailTransport.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/content/imip-bar.js">calendar/lightning/content/imip-bar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/content/imip-bar.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/content/imip-bar.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/content/imip-bar.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/content/imip-bar.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/content/imip-bar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/modules/ltnInvitationUtils.jsm">calendar/lightning/modules/ltnInvitationUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/modules/ltnInvitationUtils.jsm">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/modules/ltnInvitationUtils.jsm">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/modules/ltnInvitationUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/modules/ltnInvitationUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/lightning/modules/ltnInvitationUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavCalendar.js">calendar/providers/caldav/calDavCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavCalendar.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavCalendar.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavCalendar.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavCalendar.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavRequestHandlers.js">calendar/providers/caldav/calDavRequestHandlers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavRequestHandlers.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavRequestHandlers.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavRequestHandlers.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavRequestHandlers.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/caldav/calDavRequestHandlers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/composite/calCompositeCalendar.js">calendar/providers/composite/calCompositeCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/composite/calCompositeCalendar.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/composite/calCompositeCalendar.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/composite/calCompositeCalendar.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/composite/calCompositeCalendar.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/composite/calCompositeCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/ics/calICSCalendar.js">calendar/providers/ics/calICSCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/ics/calICSCalendar.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/ics/calICSCalendar.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/ics/calICSCalendar.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/ics/calICSCalendar.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/ics/calICSCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/memory/calMemoryCalendar.js">calendar/providers/memory/calMemoryCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/memory/calMemoryCalendar.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/memory/calMemoryCalendar.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/memory/calMemoryCalendar.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/memory/calMemoryCalendar.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/memory/calMemoryCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageCalendar.js">calendar/providers/storage/calStorageCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageCalendar.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageCalendar.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageCalendar.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageCalendar.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageUpgrade.jsm">calendar/providers/storage/calStorageUpgrade.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageUpgrade.jsm">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageUpgrade.jsm">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageUpgrade.jsm">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageUpgrade.jsm">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/storage/calStorageUpgrade.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapCalendarItems.js">calendar/providers/wcap/calWcapCalendarItems.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapCalendarItems.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapCalendarItems.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapCalendarItems.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapCalendarItems.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapCalendarItems.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapUtils.js">calendar/providers/wcap/calWcapUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapUtils.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapUtils.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapUtils.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapUtils.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/providers/wcap/calWcapUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/datetimepickers/datetimepickers.xml">calendar/resources/content/datetimepickers/datetimepickers.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/datetimepickers/datetimepickers.xml">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/datetimepickers/datetimepickers.xml">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/datetimepickers/datetimepickers.xml">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/datetimepickers/datetimepickers.xml">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/datetimepickers/datetimepickers.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/publish.js">calendar/resources/content/publish.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/publish.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/publish.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/publish.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/publish.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/resources/content/publish.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/shared-modules/calendar-utils.js">calendar/test/mozmill/shared-modules/calendar-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/shared-modules/calendar-utils.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/shared-modules/calendar-utils.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/shared-modules/calendar-utils.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/shared-modules/calendar-utils.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/shared-modules/calendar-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test10.js">calendar/test/mozmill/timezoneTests/test10.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test10.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test10.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test10.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test10.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test10.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test3.js">calendar/test/mozmill/timezoneTests/test3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test3.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test3.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test3.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test3.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test4.js">calendar/test/mozmill/timezoneTests/test4.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test4.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test4.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test4.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test4.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test4.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test5.js">calendar/test/mozmill/timezoneTests/test5.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test5.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test5.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test5.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test5.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test5.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test6.js">calendar/test/mozmill/timezoneTests/test6.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test6.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test6.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test6.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test6.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test6.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test7.js">calendar/test/mozmill/timezoneTests/test7.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test7.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test7.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test7.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test7.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test7.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test8.js">calendar/test/mozmill/timezoneTests/test8.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test8.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test8.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test8.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test8.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test8.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test9.js">calendar/test/mozmill/timezoneTests/test9.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test9.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test9.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test9.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test9.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/mozmill/timezoneTests/test9.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_attendee.js">calendar/test/unit/test_attendee.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_attendee.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_attendee.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_attendee.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_attendee.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_attendee.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug1204255.js">calendar/test/unit/test_bug1204255.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug1204255.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug1204255.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug1204255.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug1204255.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug1204255.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug343792.js">calendar/test/unit/test_bug343792.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug343792.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug343792.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug343792.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug343792.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug343792.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug356207.js">calendar/test/unit/test_bug356207.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug356207.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug356207.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug356207.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug356207.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_bug356207.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_deleted_items.js">calendar/test/unit/test_deleted_items.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_deleted_items.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_deleted_items.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_deleted_items.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_deleted_items.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_deleted_items.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_gdata_provider.js">calendar/test/unit/test_gdata_provider.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_gdata_provider.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_gdata_provider.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_gdata_provider.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_gdata_provider.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_gdata_provider.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_providers.js">calendar/test/unit/test_providers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_providers.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_providers.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_providers.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_providers.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_providers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_webcal.js">calendar/test/unit/test_webcal.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_webcal.js">file</a> |
<a href="/comm-central/annotate/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_webcal.js">annotate</a> |
<a href="/comm-central/diff/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_webcal.js">diff</a> |
<a href="/comm-central/comparison/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_webcal.js">comparison</a> |
<a href="/comm-central/log/bd2023dedb868294992a355e3302f08d5e65ce01/calendar/test/unit/test_webcal.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/.eslintrc</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/.eslintrc</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -132,16 +132,21 @@</span>
<a href="#l1.4"></a><span id="l1.4">     &quot;space-unary-ops&quot;: [2, { &quot;words&quot;: true, &quot;nonwords&quot;: false }],</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6">     // Enforce spacing after semicolons.</span>
<a href="#l1.7"></a><span id="l1.7">     &quot;semi-spacing&quot;: [2, {&quot;before&quot;: false, &quot;after&quot;: true}],</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9">     // Disallow the use of Boolean literals in conditional expressions.</span>
<a href="#l1.10"></a><span id="l1.10">     &quot;no-unneeded-ternary&quot;: 2,</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+    // Disallow use of multiple spaces (sometimes used to align const values,</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+    // array or object items, etc.). It's hard to maintain and doesn't add that</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+    // much benefit.</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+    &quot;no-multi-spaces&quot;: 2,</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+</span>
<a href="#l1.17"></a><span id="l1.17">     // Will enable these rules later</span>
<a href="#l1.18"></a><span id="l1.18">     &quot;keyword-spacing&quot;: 0,</span>
<a href="#l1.19"></a><span id="l1.19">     &quot;block-spacing&quot;: 0,</span>
<a href="#l1.20"></a><span id="l1.20">     &quot;no-lonely-if&quot;: 0,</span>
<a href="#l1.21"></a><span id="l1.21">     &quot;space-before-blocks&quot;: 0,</span>
<a href="#l1.22"></a><span id="l1.22">     &quot;computed-property-spacing&quot;: 0,</span>
<a href="#l1.23"></a><span id="l1.23">     &quot;consistent-return&quot;: 0,</span>
<a href="#l1.24"></a><span id="l1.24">     &quot;no-redeclare&quot;: 0,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calICSService.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calICSService.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -296,17 +296,17 @@ calIcalComponent.prototype = {</span>
<a href="#l2.4"></a><span id="l2.4">     set URL(val) { this.innerObject.updatePropertyWithValue(&quot;url&quot;, val); },</span>
<a href="#l2.5"></a><span id="l2.5"> </span>
<a href="#l2.6"></a><span id="l2.6">     get priority() {</span>
<a href="#l2.7"></a><span id="l2.7">         // If there is no value for this integer property, then we must return</span>
<a href="#l2.8"></a><span id="l2.8">         // the designated INVALID_VALUE.</span>
<a href="#l2.9"></a><span id="l2.9">         const INVALID_VALUE = Components.interfaces.calIIcalComponent.INVALID_VALUE;</span>
<a href="#l2.10"></a><span id="l2.10">         let prop = this.innerObject.getFirstProperty(&quot;priority&quot;);</span>
<a href="#l2.11"></a><span id="l2.11">         let val = prop ? prop.getFirstValue() : null;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-        return (val === null ?  INVALID_VALUE : val);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+        return (val === null ? INVALID_VALUE : val);</span>
<a href="#l2.14"></a><span id="l2.14">     },</span>
<a href="#l2.15"></a><span id="l2.15">     set priority(val) { this.innerObject.updatePropertyWithValue(&quot;priority&quot;, val); },</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17">     _setTimeAttr: function(propName, val) {</span>
<a href="#l2.18"></a><span id="l2.18">         let prop = this.innerObject.updatePropertyWithValue(propName, val);</span>
<a href="#l2.19"></a><span id="l2.19">         if (val &amp;&amp; val.zone &amp;&amp;</span>
<a href="#l2.20"></a><span id="l2.20">             val.zone != ICAL.Timezone.utcTimezone &amp;&amp;</span>
<a href="#l2.21"></a><span id="l2.21">             val.zone != ICAL.Timezone.localTimezone) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calRecurrenceRule.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calRecurrenceRule.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -62,17 +62,17 @@ calRecurrenceRule.prototype = {</span>
<a href="#l3.4"></a><span id="l3.4">                 aCount.value = 0;</span>
<a href="#l3.5"></a><span id="l3.5">                 return [];</span>
<a href="#l3.6"></a><span id="l3.6">             }</span>
<a href="#l3.7"></a><span id="l3.7">         }</span>
<a href="#l3.8"></a><span id="l3.8"> </span>
<a href="#l3.9"></a><span id="l3.9">         let iter = this.innerObject.iterator(aStartTime);</span>
<a href="#l3.10"></a><span id="l3.10"> </span>
<a href="#l3.11"></a><span id="l3.11">         for (let next = iter.next(); next; next = iter.next()) {</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-            let dtNext  = next.clone();</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+            let dtNext = next.clone();</span>
<a href="#l3.14"></a><span id="l3.14">             dtNext.isDate = false;</span>
<a href="#l3.15"></a><span id="l3.15"> </span>
<a href="#l3.16"></a><span id="l3.16">             if (dtNext.compare(rangeStart) &lt; 0) {</span>
<a href="#l3.17"></a><span id="l3.17">                 continue;</span>
<a href="#l3.18"></a><span id="l3.18">             }</span>
<a href="#l3.19"></a><span id="l3.19"> </span>
<a href="#l3.20"></a><span id="l3.20">             if (dtend &amp;&amp; dtNext.compare(dtend) &gt;= 0) {</span>
<a href="#l3.21"></a><span id="l3.21">                 break;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/agenda-listbox.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/agenda-listbox.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -212,17 +212,17 @@ function onKeyPress(aEvent) {</span>
<a href="#l4.4"></a><span id="l4.4">     }</span>
<a href="#l4.5"></a><span id="l4.5"> }</span>
<a href="#l4.6"></a><span id="l4.6"> </span>
<a href="#l4.7"></a><span id="l4.7"> /**</span>
<a href="#l4.8"></a><span id="l4.8">  * Calls the event dialog to edit the currently selected item</span>
<a href="#l4.9"></a><span id="l4.9">  */</span>
<a href="#l4.10"></a><span id="l4.10"> agendaListbox.editSelectedItem =</span>
<a href="#l4.11"></a><span id="l4.11"> function editSelectedItem() {</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    var listItem  = document.getElementById(&quot;agenda-listbox&quot;).selectedItem;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+    var listItem = document.getElementById(&quot;agenda-listbox&quot;).selectedItem;</span>
<a href="#l4.14"></a><span id="l4.14">     if (listItem) {</span>
<a href="#l4.15"></a><span id="l4.15">         modifyEventWithDialog(listItem.occurrence, null, true);</span>
<a href="#l4.16"></a><span id="l4.16">     }</span>
<a href="#l4.17"></a><span id="l4.17"> }</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19"> /**</span>
<a href="#l4.20"></a><span id="l4.20">  * Finds the appropriate period for the given item, i.e finds &quot;Tomorrow&quot; if the</span>
<a href="#l4.21"></a><span id="l4.21">  * item occurrs tomorrow.</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineat">@@ -736,28 +736,28 @@ function setupCalendar() {</span>
<a href="#l4.23"></a><span id="l4.23">  *                        today.</span>
<a href="#l4.24"></a><span id="l4.24">  */</span>
<a href="#l4.25"></a><span id="l4.25"> agendaListbox.refreshPeriodDates =</span>
<a href="#l4.26"></a><span id="l4.26"> function refreshPeriodDates(newDate) {</span>
<a href="#l4.27"></a><span id="l4.27">      this.kDefaultTimezone = calendarDefaultTimezone();</span>
<a href="#l4.28"></a><span id="l4.28">     // Today: now until midnight of tonight</span>
<a href="#l4.29"></a><span id="l4.29">     var oldshowstoday = this.showstoday;</span>
<a href="#l4.30"></a><span id="l4.30">     this.showstoday = this.showsToday(newDate);</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">-    if ((this.showstoday) &amp;&amp; (!oldshowstoday))  {</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineplus">+    if ((this.showstoday) &amp;&amp; (!oldshowstoday)) {</span>
<a href="#l4.33"></a><span id="l4.33">         this.addPeriodListItem(this.tomorrow, &quot;tomorrow-header&quot;);</span>
<a href="#l4.34"></a><span id="l4.34">         this.addPeriodListItem(this.soon, &quot;nextweek-header&quot;);</span>
<a href="#l4.35"></a><span id="l4.35">     } else if (!this.showstoday) {</span>
<a href="#l4.36"></a><span id="l4.36">         this.removePeriodListItem(this.tomorrow);</span>
<a href="#l4.37"></a><span id="l4.37">         this.removePeriodListItem(this.soon);</span>
<a href="#l4.38"></a><span id="l4.38">     }</span>
<a href="#l4.39"></a><span id="l4.39">     newDate.isDate = true;</span>
<a href="#l4.40"></a><span id="l4.40">     for (var i = 0; i &lt; this.periods.length; i++) {</span>
<a href="#l4.41"></a><span id="l4.41">         var curPeriod = this.periods[i];</span>
<a href="#l4.42"></a><span id="l4.42">         newDate.hour = newDate.minute = newDate.second = 0;</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineminus">-        if ((i == 0)  &amp;&amp; (this.showstoday)){</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineplus">+        if (i == 0 &amp;&amp; this.showstoday) {</span>
<a href="#l4.45"></a><span id="l4.45">             curPeriod.start = now();</span>
<a href="#l4.46"></a><span id="l4.46">         } else {</span>
<a href="#l4.47"></a><span id="l4.47">             curPeriod.start = newDate.clone();</span>
<a href="#l4.48"></a><span id="l4.48">         }</span>
<a href="#l4.49"></a><span id="l4.49">         newDate.day += curPeriod.duration;</span>
<a href="#l4.50"></a><span id="l4.50">         curPeriod.end = newDate.clone();</span>
<a href="#l4.51"></a><span id="l4.51">         curPeriod.listItem.setItem(curPeriod, this.showstoday);</span>
<a href="#l4.52"></a><span id="l4.52">     }</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineat">@@ -835,18 +835,18 @@ function getSelectedItems() {</span>
<a href="#l4.54"></a><span id="l4.54">  * @param aListItem     The node to check for.</span>
<a href="#l4.55"></a><span id="l4.55">  * @return              True, if the node is not a period item.</span>
<a href="#l4.56"></a><span id="l4.56">  */</span>
<a href="#l4.57"></a><span id="l4.57"> agendaListbox.isEventListItem =</span>
<a href="#l4.58"></a><span id="l4.58"> function isEventListItem(aListItem) {</span>
<a href="#l4.59"></a><span id="l4.59">     var isEventListItem = (aListItem != null);</span>
<a href="#l4.60"></a><span id="l4.60">     if (isEventListItem) {</span>
<a href="#l4.61"></a><span id="l4.61">         var localName = aListItem.localName;</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineminus">-        isEventListItem = ((localName ==  &quot;agenda-richlist-item&quot;) ||</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-                          (localName ==  &quot;agenda-allday-richlist-item&quot;));</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineplus">+        isEventListItem = (localName == &quot;agenda-richlist-item&quot; ||</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineplus">+                           localName == &quot;agenda-allday-richlist-item&quot;);</span>
<a href="#l4.66"></a><span id="l4.66">     }</span>
<a href="#l4.67"></a><span id="l4.67">     return isEventListItem;</span>
<a href="#l4.68"></a><span id="l4.68"> }</span>
<a href="#l4.69"></a><span id="l4.69"> </span>
<a href="#l4.70"></a><span id="l4.70"> /**</span>
<a href="#l4.71"></a><span id="l4.71">  * Removes all Event items, keeping the period items intact.</span>
<a href="#l4.72"></a><span id="l4.72">  */</span>
<a href="#l4.73"></a><span id="l4.73"> agendaListbox.removeListItems =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/calendar-extract.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/calendar-extract.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -172,17 +172,17 @@ var calendarExtract = {</span>
<a href="#l5.4"></a><span id="l5.4">                 // set default</span>
<a href="#l5.5"></a><span id="l5.5">                 dueDate.setHours(0);</span>
<a href="#l5.6"></a><span id="l5.6">                 dueDate.setMinutes(0);</span>
<a href="#l5.7"></a><span id="l5.7">                 dueDate.setSeconds(0);</span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9">                 if (endGuess.year != null) {</span>
<a href="#l5.10"></a><span id="l5.10">                     dueDate.setYear(endGuess.year);</span>
<a href="#l5.11"></a><span id="l5.11">                 }</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-                if (endGuess.month  != null) {</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+                if (endGuess.month != null) {</span>
<a href="#l5.14"></a><span id="l5.14">                     dueDate.setMonth(endGuess.month - 1);</span>
<a href="#l5.15"></a><span id="l5.15">                 }</span>
<a href="#l5.16"></a><span id="l5.16">                 if (endGuess.day != null) {</span>
<a href="#l5.17"></a><span id="l5.17">                     dueDate.setDate(endGuess.day);</span>
<a href="#l5.18"></a><span id="l5.18">                 }</span>
<a href="#l5.19"></a><span id="l5.19">                 if (endGuess.hour != null) {</span>
<a href="#l5.20"></a><span id="l5.20">                     dueDate.setHours(endGuess.hour);</span>
<a href="#l5.21"></a><span id="l5.21">                 }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/calendar-item-editing.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/calendar-item-editing.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -417,17 +417,17 @@ function openEventDialog(calendarItem, c</span>
<a href="#l6.4"></a><span id="l6.4">         &amp;&amp; (!isCalendarWritable(calendar)</span>
<a href="#l6.5"></a><span id="l6.5">             || !userCanAddItemsToCalendar(calendar)</span>
<a href="#l6.6"></a><span id="l6.6">             || !isItemSupported(calendar))) {</span>
<a href="#l6.7"></a><span id="l6.7">         if (calendars.length &lt; 1) {</span>
<a href="#l6.8"></a><span id="l6.8">             // There are no writable calendars or no calendar supports the given</span>
<a href="#l6.9"></a><span id="l6.9">             // item. Don't show the dialog.</span>
<a href="#l6.10"></a><span id="l6.10">             disposeJob(job);</span>
<a href="#l6.11"></a><span id="l6.11">             return;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-        } else  {</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+        } else {</span>
<a href="#l6.14"></a><span id="l6.14">             // Pick the first calendar that supports the item and is writable</span>
<a href="#l6.15"></a><span id="l6.15">             calendar = calendars[0];</span>
<a href="#l6.16"></a><span id="l6.16">             if (calendarItem) {</span>
<a href="#l6.17"></a><span id="l6.17">                 // XXX The dialog currently uses the items calendar as a first</span>
<a href="#l6.18"></a><span id="l6.18">                 // choice. Since we are shortly before a release to keep</span>
<a href="#l6.19"></a><span id="l6.19">                 // regression risk low, explicitly set the item's calendar here.</span>
<a href="#l6.20"></a><span id="l6.20">                 calendarItem.calendar = calendars[0];</span>
<a href="#l6.21"></a><span id="l6.21">             }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/calendar-management.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/calendar-management.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -189,17 +189,17 @@ function calendarListSetupContextMenu(ev</span>
<a href="#l7.4"></a><span id="l7.4">     let treeNode = document.getElementById(&quot;calendar-list-tree-widget&quot;);</span>
<a href="#l7.5"></a><span id="l7.5">     let composite = getCompositeCalendar();</span>
<a href="#l7.6"></a><span id="l7.6"> </span>
<a href="#l7.7"></a><span id="l7.7">     if (document.popupNode.localName == &quot;tree&quot;) {</span>
<a href="#l7.8"></a><span id="l7.8">         // Using VK_APPS to open the context menu will target the tree</span>
<a href="#l7.9"></a><span id="l7.9">         // itself. In that case we won't have a client point even for</span>
<a href="#l7.10"></a><span id="l7.10">         // opening the context menu. The &quot;target&quot; element should then be the</span>
<a href="#l7.11"></a><span id="l7.11">         // selected calendar.</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-        row.value =  treeNode.tree.currentIndex;</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+        row.value = treeNode.tree.currentIndex;</span>
<a href="#l7.14"></a><span id="l7.14">         col.value = treeNode.getColumn(&quot;calendarname-treecol&quot;);</span>
<a href="#l7.15"></a><span id="l7.15">         calendar = treeNode.getCalendar(row.value);</span>
<a href="#l7.16"></a><span id="l7.16">     } else {</span>
<a href="#l7.17"></a><span id="l7.17">         // Using the mouse, the context menu will open on the treechildren</span>
<a href="#l7.18"></a><span id="l7.18">         // element. Here we can use client points.</span>
<a href="#l7.19"></a><span id="l7.19">         calendar = treeNode.getCalendarFromEvent(event, col, row);</span>
<a href="#l7.20"></a><span id="l7.20">     }</span>
<a href="#l7.21"></a><span id="l7.21"> </span>
<a href="#l7.22"></a><span id="l7.22" class="difflineat">@@ -256,17 +256,17 @@ function calendarListSetupContextMenu(ev</span>
<a href="#l7.23"></a><span id="l7.23"> /**</span>
<a href="#l7.24"></a><span id="l7.24">  * Changes the &quot;delete calendar&quot; menuitem to have the right label based on the</span>
<a href="#l7.25"></a><span id="l7.25">  * removeModes. The menuitem must have the attributes &quot;labelremove&quot;,</span>
<a href="#l7.26"></a><span id="l7.26">  * &quot;labeldelete&quot; and &quot;labelunsubscribe&quot;.</span>
<a href="#l7.27"></a><span id="l7.27">  *</span>
<a href="#l7.28"></a><span id="l7.28">  * @param aDeleteId     The id of the menuitem to delete the calendar</span>
<a href="#l7.29"></a><span id="l7.29">  */</span>
<a href="#l7.30"></a><span id="l7.30"> function setupDeleteMenuitem(aDeleteId, aCalendar) {</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineminus">-    let calendar = (aCalendar === undefined ?  getSelectedCalendar() : aCalendar);</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+    let calendar = (aCalendar === undefined ? getSelectedCalendar() : aCalendar);</span>
<a href="#l7.33"></a><span id="l7.33">     let modes = new Set(calendar ? calendar.getProperty(&quot;capabilities.removeModes&quot;) || [&quot;unsubscribe&quot;] : []);</span>
<a href="#l7.34"></a><span id="l7.34"> </span>
<a href="#l7.35"></a><span id="l7.35">     let type = &quot;remove&quot;;</span>
<a href="#l7.36"></a><span id="l7.36">     if (modes.has(&quot;delete&quot;) &amp;&amp; !modes.has(&quot;unsubscribe&quot;)) {</span>
<a href="#l7.37"></a><span id="l7.37">         type = &quot;delete&quot;;</span>
<a href="#l7.38"></a><span id="l7.38">     } else if (modes.has(&quot;unsubscribe&quot;) &amp;&amp; !modes.has(&quot;delete&quot;)) {</span>
<a href="#l7.39"></a><span id="l7.39">         type = &quot;unsubscribe&quot;;</span>
<a href="#l7.40"></a><span id="l7.40">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/content/calendar-month-view.xml</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/content/calendar-month-view.xml</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -88,17 +88,17 @@</span>
<a href="#l8.4"></a><span id="l8.4">                              calendarDefaultTimezone();</span>
<a href="#l8.5"></a><span id="l8.5">               var parentDate = ensureDateTime(this.parentBox.date);</span>
<a href="#l8.6"></a><span id="l8.6">               var startTime = val.startDate.getInTimezone(timezone);</span>
<a href="#l8.7"></a><span id="l8.7">               var endTime = val.endDate.getInTimezone(timezone);</span>
<a href="#l8.8"></a><span id="l8.8">               var nextDay = parentDate.clone();</span>
<a href="#l8.9"></a><span id="l8.9">               nextDay.day++;</span>
<a href="#l8.10"></a><span id="l8.10">               var comp = endTime.compare(nextDay);</span>
<a href="#l8.11"></a><span id="l8.11">               if(startTime.compare( parentDate) == -1 ) {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-                if (comp == 1)  {</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+                if (comp == 1) {</span>
<a href="#l8.14"></a><span id="l8.14">                   label.value = &quot;&quot;;</span>
<a href="#l8.15"></a><span id="l8.15">                 } else if (comp == 0) {</span>
<a href="#l8.16"></a><span id="l8.16">                   label.value = &quot;&quot;;</span>
<a href="#l8.17"></a><span id="l8.17">                 } else {</span>
<a href="#l8.18"></a><span id="l8.18">                   label.value = &quot; &quot; + df.formatTime(endTime);</span>
<a href="#l8.19"></a><span id="l8.19">                 }</span>
<a href="#l8.20"></a><span id="l8.20">               } else {</span>
<a href="#l8.21"></a><span id="l8.21">                 if (comp == 1) {</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineat">@@ -270,17 +270,17 @@</span>
<a href="#l8.23"></a><span id="l8.23">           }</span>
<a href="#l8.24"></a><span id="l8.24">         ]]&gt;&lt;/body&gt;</span>
<a href="#l8.25"></a><span id="l8.25">       &lt;/method&gt;</span>
<a href="#l8.26"></a><span id="l8.26"> </span>
<a href="#l8.27"></a><span id="l8.27">       &lt;method name=&quot;deleteItem&quot;&gt;</span>
<a href="#l8.28"></a><span id="l8.28">         &lt;parameter name=&quot;aItem&quot;/&gt;</span>
<a href="#l8.29"></a><span id="l8.29">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l8.30"></a><span id="l8.30">           if (aItem.hashId in this.mItemHash) {</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-            let node =  this.mItemHash[aItem.hashId];</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineplus">+            let node = this.mItemHash[aItem.hashId];</span>
<a href="#l8.33"></a><span id="l8.33">             node.remove();</span>
<a href="#l8.34"></a><span id="l8.34">             delete this.mItemHash[aItem.hashId];</span>
<a href="#l8.35"></a><span id="l8.35">           }</span>
<a href="#l8.36"></a><span id="l8.36">         ]]&gt;&lt;/body&gt;</span>
<a href="#l8.37"></a><span id="l8.37">       &lt;/method&gt;</span>
<a href="#l8.38"></a><span id="l8.38"> </span>
<a href="#l8.39"></a><span id="l8.39">       &lt;method name=&quot;onDropItem&quot;&gt;</span>
<a href="#l8.40"></a><span id="l8.40">         &lt;parameter name=&quot;aItem&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -141,18 +141,18 @@</span>
<a href="#l9.4"></a><span id="l9.4">               theMin += dur;</span>
<a href="#l9.5"></a><span id="l9.5">               if (dur == 0) {</span>
<a href="#l9.6"></a><span id="l9.6">                   dur = 60;</span>
<a href="#l9.7"></a><span id="l9.7">               }</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9">               // calculate duration pixel as the difference between</span>
<a href="#l9.10"></a><span id="l9.10">               // start pixel and end pixel to avoid rounding errors.</span>
<a href="#l9.11"></a><span id="l9.11">               var startPix = Math.round(theMin * this.mPixPerMin);</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-              var endPix   = Math.round((theMin + dur) * this.mPixPerMin);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-              var durPix   = endPix - startPix;</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+              var endPix = Math.round((theMin + dur) * this.mPixPerMin);</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+              var durPix = endPix - startPix;</span>
<a href="#l9.16"></a><span id="l9.16">               var box;</span>
<a href="#l9.17"></a><span id="l9.17">               if (dur != 60) {</span>
<a href="#l9.18"></a><span id="l9.18">                   box = makeTimeBox(&quot;&quot;, durPix);</span>
<a href="#l9.19"></a><span id="l9.19">               } else {</span>
<a href="#l9.20"></a><span id="l9.20">                   timeString = formatter.FormatTime(&quot;&quot;,</span>
<a href="#l9.21"></a><span id="l9.21">                                                     Components.interfaces.nsIScriptableDateFormat.timeFormatNoSeconds,</span>
<a href="#l9.22"></a><span id="l9.22">                                                     theHour, 0, 0);</span>
<a href="#l9.23"></a><span id="l9.23">                   box = makeTimeBox(timeString, durPix);</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineat">@@ -536,19 +536,19 @@</span>
<a href="#l9.25"></a><span id="l9.25">            if (!compareObjects(stdate.timezone, this.mTimezone)) {</span>
<a href="#l9.26"></a><span id="l9.26">                stdate = stdate.getInTimezone (this.mTimezone);</span>
<a href="#l9.27"></a><span id="l9.27">            }</span>
<a href="#l9.28"></a><span id="l9.28"> </span>
<a href="#l9.29"></a><span id="l9.29">            if (!compareObjects(enddate.timezone, this.mTimezone)) {</span>
<a href="#l9.30"></a><span id="l9.30">                enddate = enddate.getInTimezone (this.mTimezone);</span>
<a href="#l9.31"></a><span id="l9.31">            }</span>
<a href="#l9.32"></a><span id="l9.32"> </span>
<a href="#l9.33"></a><span id="l9.33" class="difflineminus">-           var startHour   = stdate.hour;</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+           var startHour = stdate.hour;</span>
<a href="#l9.35"></a><span id="l9.35">            var startMinute = stdate.minute;</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineminus">-           var endHour   = enddate.hour;</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineplus">+           var endHour = enddate.hour;</span>
<a href="#l9.38"></a><span id="l9.38">            var endMinute = enddate.minute;</span>
<a href="#l9.39"></a><span id="l9.39"> </span>
<a href="#l9.40"></a><span id="l9.40">            // Handle cases where an event begins or ends on a day other than this</span>
<a href="#l9.41"></a><span id="l9.41">            if (stdate.compare(this.mDate) == -1) {</span>
<a href="#l9.42"></a><span id="l9.42">                startHour = 0;</span>
<a href="#l9.43"></a><span id="l9.43">                startMinute = 0;</span>
<a href="#l9.44"></a><span id="l9.44">            }</span>
<a href="#l9.45"></a><span id="l9.45">            if (enddate.compare(this.mDate) == 1) {</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineat">@@ -563,17 +563,17 @@</span>
<a href="#l9.47"></a><span id="l9.47">            let durstart = stdate.subtractDate(this.mDate);</span>
<a href="#l9.48"></a><span id="l9.48">            // 'durend' is always positive, instead 'durstart' might be negative</span>
<a href="#l9.49"></a><span id="l9.49">            // if the event starts one or more days before the date of this column</span>
<a href="#l9.50"></a><span id="l9.50">            let realStart_ = (durstart.days * 24 + durstart.hours) * 60 + durstart.minutes;</span>
<a href="#l9.51"></a><span id="l9.51">            realStart_ = durstart.isNegative ? -1 * realStart_ : realStart_;</span>
<a href="#l9.52"></a><span id="l9.52">            let realEnd_ = (durend.days * 24 + durend.hours) * 60 + durend.minutes;</span>
<a href="#l9.53"></a><span id="l9.53"> </span>
<a href="#l9.54"></a><span id="l9.54">            return { start:        startHour * 60 + startMinute,</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineminus">-                    end:          endHour   * 60 + endMinute,</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineplus">+                    end:          endHour * 60 + endMinute,</span>
<a href="#l9.57"></a><span id="l9.57">                     realStart:    realStart_,</span>
<a href="#l9.58"></a><span id="l9.58">                     realEnd:      realEnd_ };</span>
<a href="#l9.59"></a><span id="l9.59">         ]]&gt;&lt;/body&gt;</span>
<a href="#l9.60"></a><span id="l9.60">       &lt;/method&gt;</span>
<a href="#l9.61"></a><span id="l9.61"> </span>
<a href="#l9.62"></a><span id="l9.62">       &lt;method name=&quot;createChunk&quot;&gt;</span>
<a href="#l9.63"></a><span id="l9.63">         &lt;parameter name=&quot;aOccurrence&quot;/&gt;</span>
<a href="#l9.64"></a><span id="l9.64">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineat">@@ -679,18 +679,18 @@</span>
<a href="#l9.66"></a><span id="l9.66">               }</span>
<a href="#l9.67"></a><span id="l9.67"> </span>
<a href="#l9.68"></a><span id="l9.68">               // Carry forth the day relation</span>
<a href="#l9.69"></a><span id="l9.69">               box.setAttribute(&quot;relation&quot;, this.getAttribute(&quot;relation&quot;));</span>
<a href="#l9.70"></a><span id="l9.70"> </span>
<a href="#l9.71"></a><span id="l9.71">               // calculate duration pixel as the difference between</span>
<a href="#l9.72"></a><span id="l9.72">               // start pixel and end pixel to avoid rounding errors.</span>
<a href="#l9.73"></a><span id="l9.73">               let startPix = Math.round(theMin * this.mPixPerMin);</span>
<a href="#l9.74"></a><span id="l9.74" class="difflineminus">-              let endPix   = Math.round((theMin + dur) * this.mPixPerMin);</span>
<a href="#l9.75"></a><span id="l9.75" class="difflineminus">-              let durPix   = endPix - startPix;</span>
<a href="#l9.76"></a><span id="l9.76" class="difflineplus">+              let endPix = Math.round((theMin + dur) * this.mPixPerMin);</span>
<a href="#l9.77"></a><span id="l9.77" class="difflineplus">+              let durPix = endPix - startPix;</span>
<a href="#l9.78"></a><span id="l9.78">               if (orient == &quot;vertical&quot;) {</span>
<a href="#l9.79"></a><span id="l9.79">                   box.setAttribute(&quot;height&quot;, durPix);</span>
<a href="#l9.80"></a><span id="l9.80">               } else {</span>
<a href="#l9.81"></a><span id="l9.81">                   box.setAttribute(&quot;width&quot;, durPix);</span>
<a href="#l9.82"></a><span id="l9.82">               }</span>
<a href="#l9.83"></a><span id="l9.83"> </span>
<a href="#l9.84"></a><span id="l9.84">               box.setAttribute(&quot;style&quot;, &quot;min-width: 1px; min-height: 1px;&quot;);</span>
<a href="#l9.85"></a><span id="l9.85"> </span>
<a href="#l9.86"></a><span id="l9.86" class="difflineat">@@ -1174,29 +1174,29 @@</span>
<a href="#l9.87"></a><span id="l9.87">                       col.specialSpan = specialSpan;</span>
<a href="#l9.88"></a><span id="l9.88">                   }</span>
<a href="#l9.89"></a><span id="l9.89"> </span>
<a href="#l9.90"></a><span id="l9.90">                   // take into account that items can span several days.</span>
<a href="#l9.91"></a><span id="l9.91">                   // that's why i'm clipping the start- and end-time to the</span>
<a href="#l9.92"></a><span id="l9.92">                   // timespan of this column.</span>
<a href="#l9.93"></a><span id="l9.93">                   var start = data.itemInfo.layoutStart;</span>
<a href="#l9.94"></a><span id="l9.94">                   var end = data.itemInfo.layoutEnd;</span>
<a href="#l9.95"></a><span id="l9.95" class="difflineminus">-                  if (start.year  != this.date.year ||</span>
<a href="#l9.96"></a><span id="l9.96" class="difflineplus">+                  if (start.year != this.date.year ||</span>
<a href="#l9.97"></a><span id="l9.97">                       start.month != this.date.month ||</span>
<a href="#l9.98"></a><span id="l9.98" class="difflineminus">-                      start.day   != this.date.day) {</span>
<a href="#l9.99"></a><span id="l9.99" class="difflineplus">+                      start.day != this.date.day) {</span>
<a href="#l9.100"></a><span id="l9.100">                       start = start.clone();</span>
<a href="#l9.101"></a><span id="l9.101">                       start.resetTo(this.date.year,</span>
<a href="#l9.102"></a><span id="l9.102">                                     this.date.month,</span>
<a href="#l9.103"></a><span id="l9.103">                                     this.date.day,</span>
<a href="#l9.104"></a><span id="l9.104">                                     0, this.mStartMin, 0,</span>
<a href="#l9.105"></a><span id="l9.105">                                     start.timezone);</span>
<a href="#l9.106"></a><span id="l9.106">                   }</span>
<a href="#l9.107"></a><span id="l9.107" class="difflineminus">-                  if (end.year  != this.date.year ||</span>
<a href="#l9.108"></a><span id="l9.108" class="difflineplus">+                  if (end.year != this.date.year ||</span>
<a href="#l9.109"></a><span id="l9.109">                       end.month != this.date.month ||</span>
<a href="#l9.110"></a><span id="l9.110" class="difflineminus">-                      end.day   != this.date.day) {</span>
<a href="#l9.111"></a><span id="l9.111" class="difflineplus">+                      end.day != this.date.day) {</span>
<a href="#l9.112"></a><span id="l9.112">                       end = end.clone();</span>
<a href="#l9.113"></a><span id="l9.113">                       end.resetTo(this.date.year,</span>
<a href="#l9.114"></a><span id="l9.114">                                   this.date.month,</span>
<a href="#l9.115"></a><span id="l9.115">                                   this.date.day,</span>
<a href="#l9.116"></a><span id="l9.116">                                   0, this.mEndMin, 0,</span>
<a href="#l9.117"></a><span id="l9.117">                                   end.timezone);</span>
<a href="#l9.118"></a><span id="l9.118">                   }</span>
<a href="#l9.119"></a><span id="l9.119">                   var prevEnd;</span>
<a href="#l9.120"></a><span id="l9.120" class="difflineat">@@ -1541,17 +1541,17 @@</span>
<a href="#l9.121"></a><span id="l9.121">               sizeattr = &quot;width&quot;;</span>
<a href="#l9.122"></a><span id="l9.122">           }</span>
<a href="#l9.123"></a><span id="l9.123">           // don't let mouse position go outside the window edges</span>
<a href="#l9.124"></a><span id="l9.124">           let pos = Math.max(0, mousePos) - dragState.mouseOffset;</span>
<a href="#l9.125"></a><span id="l9.125"> </span>
<a href="#l9.126"></a><span id="l9.126">           // snap interval: 15 minutes or 1 minute if modifier key is pressed</span>
<a href="#l9.127"></a><span id="l9.127">           let snapIntMin = (event.shiftKey &amp;&amp;</span>
<a href="#l9.128"></a><span id="l9.128">                             !event.ctrlKey &amp;&amp;</span>
<a href="#l9.129"></a><span id="l9.129" class="difflineminus">-                            !event.altKey  &amp;&amp;</span>
<a href="#l9.130"></a><span id="l9.130" class="difflineplus">+                            !event.altKey &amp;&amp;</span>
<a href="#l9.131"></a><span id="l9.131">                             !event.metaKey) ? 1 : 15;</span>
<a href="#l9.132"></a><span id="l9.132">           let interval = col.mPixPerMin * snapIntMin;</span>
<a href="#l9.133"></a><span id="l9.133">           let curmin = Math.floor(pos / interval) * snapIntMin;</span>
<a href="#l9.134"></a><span id="l9.134">           let deltamin = curmin - dragState.origMin;</span>
<a href="#l9.135"></a><span id="l9.135"> </span>
<a href="#l9.136"></a><span id="l9.136">           let shadowElements;</span>
<a href="#l9.137"></a><span id="l9.137">           if (dragState.dragType == &quot;new&quot;) {</span>
<a href="#l9.138"></a><span id="l9.138">               // Extend deltamin in a linear way over the columns</span>
<a href="#l9.139"></a><span id="l9.139" class="difflineat">@@ -1862,17 +1862,17 @@</span>
<a href="#l9.140"></a><span id="l9.140">                                       0, this.mDragState.shadows,</span>
<a href="#l9.141"></a><span id="l9.141">                                       sizeattr);</span>
<a href="#l9.142"></a><span id="l9.142"> </span>
<a href="#l9.143"></a><span id="l9.143">               // update drag labels</span>
<a href="#l9.144"></a><span id="l9.144">               let lastCol = this.firstLastShadowColumns().lastCol;</span>
<a href="#l9.145"></a><span id="l9.145">               this.updateDragLabels(this, lastCol);</span>
<a href="#l9.146"></a><span id="l9.146"> </span>
<a href="#l9.147"></a><span id="l9.147">           } else if (aGrabbedElement == &quot;end&quot;) {</span>
<a href="#l9.148"></a><span id="l9.148" class="difflineminus">-              this.mDragState.dragType =  &quot;modify-end&quot;;</span>
<a href="#l9.149"></a><span id="l9.149" class="difflineplus">+              this.mDragState.dragType = &quot;modify-end&quot;;</span>
<a href="#l9.150"></a><span id="l9.150">               // we have to use &quot;realStart&quot; as fixed end value</span>
<a href="#l9.151"></a><span id="l9.151">               this.mDragState.limitStartMin = mins.realStart;</span>
<a href="#l9.152"></a><span id="l9.152"> </span>
<a href="#l9.153"></a><span id="l9.153">               // snap end</span>
<a href="#l9.154"></a><span id="l9.154">               this.mDragState.origMin = Math.floor(mins.end / snapIntMin) * snapIntMin;</span>
<a href="#l9.155"></a><span id="l9.155"> </span>
<a href="#l9.156"></a><span id="l9.156">               // show the shadows and drag labels when clicking on gripbars</span>
<a href="#l9.157"></a><span id="l9.157">               let shadowElements = this.getShadowElements(this.mDragState.limitStartMin,</span>
<a href="#l9.158"></a><span id="l9.158" class="difflineat">@@ -2077,17 +2077,17 @@</span>
<a href="#l9.159"></a><span id="l9.159">             limitStartMin: null,</span>
<a href="#l9.160"></a><span id="l9.160">             limitEndMin: null,</span>
<a href="#l9.161"></a><span id="l9.161">             jumpedColumns: 0</span>
<a href="#l9.162"></a><span id="l9.162">         };</span>
<a href="#l9.163"></a><span id="l9.163"> </span>
<a href="#l9.164"></a><span id="l9.164">         // snap interval: 15 minutes or 1 minute if modifier key is pressed</span>
<a href="#l9.165"></a><span id="l9.165">         let snapIntMin = (event.shiftKey &amp;&amp;</span>
<a href="#l9.166"></a><span id="l9.166">                           !event.ctrlKey &amp;&amp;</span>
<a href="#l9.167"></a><span id="l9.167" class="difflineminus">-                          !event.altKey  &amp;&amp;</span>
<a href="#l9.168"></a><span id="l9.168" class="difflineplus">+                          !event.altKey &amp;&amp;</span>
<a href="#l9.169"></a><span id="l9.169">                           !event.metaKey) ? 1 : 15;</span>
<a href="#l9.170"></a><span id="l9.170">         let interval = this.mPixPerMin * snapIntMin;</span>
<a href="#l9.171"></a><span id="l9.171"> </span>
<a href="#l9.172"></a><span id="l9.172">         if (this.getAttribute(&quot;orient&quot;) == &quot;vertical&quot;) {</span>
<a href="#l9.173"></a><span id="l9.173">             this.mDragState.origLoc = event.screenY;</span>
<a href="#l9.174"></a><span id="l9.174">             this.mDragState.origMin = Math.floor((event.screenY - this.parentNode.boxObject.screenY)/interval) * snapIntMin;</span>
<a href="#l9.175"></a><span id="l9.175">             this.mDragState.limitEndMin = this.mDragState.origMin;</span>
<a href="#l9.176"></a><span id="l9.176">             this.mDragState.limitStartMin = this.mDragState.origMin;</span>
<a href="#l9.177"></a><span id="l9.177" class="difflineat">@@ -2433,17 +2433,17 @@</span>
<a href="#l9.178"></a><span id="l9.178">             this.mInMouseDown = true;</span>
<a href="#l9.179"></a><span id="l9.179">             return;</span>
<a href="#l9.180"></a><span id="l9.180">         } else {</span>
<a href="#l9.181"></a><span id="l9.181">             this.calendarView.setSelectedItems(1,</span>
<a href="#l9.182"></a><span id="l9.182">                 [event.ctrlKey ? this.mOccurrence.parentItem : this.mOccurrence]);</span>
<a href="#l9.183"></a><span id="l9.183"> </span>
<a href="#l9.184"></a><span id="l9.184">             let snapIntMin = (event.shiftKey &amp;&amp;</span>
<a href="#l9.185"></a><span id="l9.185">                               !event.ctrlKey &amp;&amp;</span>
<a href="#l9.186"></a><span id="l9.186" class="difflineminus">-                              !event.altKey  &amp;&amp;</span>
<a href="#l9.187"></a><span id="l9.187" class="difflineplus">+                              !event.altKey &amp;&amp;</span>
<a href="#l9.188"></a><span id="l9.188">                               !event.metaKey) ? 1 : 15;</span>
<a href="#l9.189"></a><span id="l9.189">             // start edge resize drag</span>
<a href="#l9.190"></a><span id="l9.190">             this.parentColumn.startSweepingToModifyEvent(this, this.mOccurrence, whichside,</span>
<a href="#l9.191"></a><span id="l9.191">                                                          event.screenX, event.screenY,</span>
<a href="#l9.192"></a><span id="l9.192">                                                          snapIntMin);</span>
<a href="#l9.193"></a><span id="l9.193">         }</span>
<a href="#l9.194"></a><span id="l9.194">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l9.195"></a><span id="l9.195"> </span>
<a href="#l9.196"></a><span id="l9.196" class="difflineat">@@ -3082,17 +3082,17 @@</span>
<a href="#l9.197"></a><span id="l9.197">                   // must have at least one of start or end</span>
<a href="#l9.198"></a><span id="l9.198">                   if (!occStart &amp;&amp; !occEnd) {</span>
<a href="#l9.199"></a><span id="l9.199">                       continue; // task with no dates</span>
<a href="#l9.200"></a><span id="l9.200">                   }</span>
<a href="#l9.201"></a><span id="l9.201"> </span>
<a href="#l9.202"></a><span id="l9.202">                   // if just has single datetime, treat as zero duration item</span>
<a href="#l9.203"></a><span id="l9.203">                   // (such as task with due datetime or start datetime only)</span>
<a href="#l9.204"></a><span id="l9.204">                   occStart = (occStart || occEnd);</span>
<a href="#l9.205"></a><span id="l9.205" class="difflineminus">-                  occEnd   = (occEnd || occStart);</span>
<a href="#l9.206"></a><span id="l9.206" class="difflineplus">+                  occEnd = (occEnd || occStart);</span>
<a href="#l9.207"></a><span id="l9.207">                   // Now both occStart and occEnd are datetimes.</span>
<a href="#l9.208"></a><span id="l9.208"> </span>
<a href="#l9.209"></a><span id="l9.209">                   // skip occurrence if all-day: it won't show in time view.</span>
<a href="#l9.210"></a><span id="l9.210">                   if (occStart.isDate || occEnd.isDate) {</span>
<a href="#l9.211"></a><span id="l9.211">                      continue;</span>
<a href="#l9.212"></a><span id="l9.212">                   }</span>
<a href="#l9.213"></a><span id="l9.213"> </span>
<a href="#l9.214"></a><span id="l9.214">                   // Trim dates to view.  (Not mutated so just reuse view dates)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/calendar-task-tree.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-tree.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -272,18 +272,17 @@ function getTaskTree() {</span>
<a href="#l10.4"></a><span id="l10.4">  * functions.</span>
<a href="#l10.5"></a><span id="l10.5">  *</span>
<a href="#l10.6"></a><span id="l10.6">  * @param aEvent      Unused</span>
<a href="#l10.7"></a><span id="l10.7">  */</span>
<a href="#l10.8"></a><span id="l10.8"> function getSelectedTasks(aEvent) {</span>
<a href="#l10.9"></a><span id="l10.9">     var taskTree = getTaskTree();</span>
<a href="#l10.10"></a><span id="l10.10">     if (taskTree != null) {</span>
<a href="#l10.11"></a><span id="l10.11">         return taskTree.selectedTasks;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-    }</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">-    else  {</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+    } else {</span>
<a href="#l10.15"></a><span id="l10.15">         return [];</span>
<a href="#l10.16"></a><span id="l10.16">     }</span>
<a href="#l10.17"></a><span id="l10.17"> }</span>
<a href="#l10.18"></a><span id="l10.18"> </span>
<a href="#l10.19"></a><span id="l10.19"> /**</span>
<a href="#l10.20"></a><span id="l10.20">  * Convert selected tasks to emails.</span>
<a href="#l10.21"></a><span id="l10.21">  */</span>
<a href="#l10.22"></a><span id="l10.22"> function tasksToMail(aEvent) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/content/calendar-task-tree.xml</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-tree.xml</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -516,17 +516,17 @@</span>
<a href="#l11.4"></a><span id="l11.4">                   properties.push(&quot;highpriority&quot;);</span>
<a href="#l11.5"></a><span id="l11.5">               } else if (item.priority &gt; 5 &amp;&amp; item.priority &lt; 10) {</span>
<a href="#l11.6"></a><span id="l11.6">                   properties.push(&quot;lowpriority&quot;);</span>
<a href="#l11.7"></a><span id="l11.7">               }</span>
<a href="#l11.8"></a><span id="l11.8">               properties.push(getProgressAtom(item));</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10">               // Add calendar name and id atom</span>
<a href="#l11.11"></a><span id="l11.11">               properties.push(&quot;calendar-&quot; + formatStringForCSSRule(item.calendar.name));</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-              properties.push(&quot;calendarid-&quot; +  formatStringForCSSRule(item.calendar.id));</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+              properties.push(&quot;calendarid-&quot; + formatStringForCSSRule(item.calendar.id));</span>
<a href="#l11.14"></a><span id="l11.14"> </span>
<a href="#l11.15"></a><span id="l11.15">               // Add item status atom</span>
<a href="#l11.16"></a><span id="l11.16">               if (item.status) {</span>
<a href="#l11.17"></a><span id="l11.17">                   properties.push(&quot;status-&quot; + item.status.toLowerCase());</span>
<a href="#l11.18"></a><span id="l11.18">               }</span>
<a href="#l11.19"></a><span id="l11.19"> </span>
<a href="#l11.20"></a><span id="l11.20">               // Alarm status atom</span>
<a href="#l11.21"></a><span id="l11.21">               if (item.getAlarms({}).length) {</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineat">@@ -547,17 +547,17 @@</span>
<a href="#l11.23"></a><span id="l11.23"> </span>
<a href="#l11.24"></a><span id="l11.24">               // prevent toggling completed status for parent items of</span>
<a href="#l11.25"></a><span id="l11.25">               // repeating tasks or when the calendar is read-only.</span>
<a href="#l11.26"></a><span id="l11.26">               if (!task || task.recurrenceInfo || task.calendar.readOnly) {</span>
<a href="#l11.27"></a><span id="l11.27">                   return;</span>
<a href="#l11.28"></a><span id="l11.28">               }</span>
<a href="#l11.29"></a><span id="l11.29">               if (aCol != null) {</span>
<a href="#l11.30"></a><span id="l11.30">                   var content = aCol.element.getAttribute(&quot;itemproperty&quot;);</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-                  if (content == &quot;completed&quot;)  {</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+                  if (content == &quot;completed&quot;) {</span>
<a href="#l11.33"></a><span id="l11.33">                       var newTask = task.clone().QueryInterface(Components.interfaces.calITodo);</span>
<a href="#l11.34"></a><span id="l11.34">                       newTask.isCompleted = !task.completedDate;</span>
<a href="#l11.35"></a><span id="l11.35">                       doTransaction('modify', newTask, newTask.calendar, task, null);</span>
<a href="#l11.36"></a><span id="l11.36">                   }</span>
<a href="#l11.37"></a><span id="l11.37">               }</span>
<a href="#l11.38"></a><span id="l11.38">           },</span>
<a href="#l11.39"></a><span id="l11.39"> </span>
<a href="#l11.40"></a><span id="l11.40">           // Called on the view when a header is clicked.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -438,30 +438,30 @@ function unitPluralForm(aLength, aUnit, </span>
<a href="#l12.4"></a><span id="l12.4"> /**</span>
<a href="#l12.5"></a><span id="l12.5">  * Update the given unit label to show the correct plural form.</span>
<a href="#l12.6"></a><span id="l12.6">  *</span>
<a href="#l12.7"></a><span id="l12.7">  * @param aLengthFieldId     The ID of the element containing the number</span>
<a href="#l12.8"></a><span id="l12.8">  * @param aLabelId           The ID of the label to update.</span>
<a href="#l12.9"></a><span id="l12.9">  * @param aUnit              The unit to use for the label.</span>
<a href="#l12.10"></a><span id="l12.10">  */</span>
<a href="#l12.11"></a><span id="l12.11"> function updateUnitLabelPlural(aLengthFieldId, aLabelId, aUnit) {</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-    let label  = document.getElementById(aLabelId);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+    let label = document.getElementById(aLabelId);</span>
<a href="#l12.14"></a><span id="l12.14">     let length = Number(document.getElementById(aLengthFieldId).value);</span>
<a href="#l12.15"></a><span id="l12.15"> </span>
<a href="#l12.16"></a><span id="l12.16">     label.value = unitPluralForm(length, aUnit, false);</span>
<a href="#l12.17"></a><span id="l12.17"> }</span>
<a href="#l12.18"></a><span id="l12.18"> </span>
<a href="#l12.19"></a><span id="l12.19"> /**</span>
<a href="#l12.20"></a><span id="l12.20">  * Update the given menu to show the correct plural form in the list.</span>
<a href="#l12.21"></a><span id="l12.21">  *</span>
<a href="#l12.22"></a><span id="l12.22">  * @param aLengthFieldId    The ID of the element containing the number</span>
<a href="#l12.23"></a><span id="l12.23">  * @param aMenuId           The menu to update labels in.</span>
<a href="#l12.24"></a><span id="l12.24">  */</span>
<a href="#l12.25"></a><span id="l12.25"> function updateMenuLabelsPlural(aLengthFieldId, aMenuId) {</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineminus">-    let menu  = document.getElementById(aMenuId);</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineplus">+    let menu = document.getElementById(aMenuId);</span>
<a href="#l12.28"></a><span id="l12.28">     let length = Number(document.getElementById(aLengthFieldId).value);</span>
<a href="#l12.29"></a><span id="l12.29"> </span>
<a href="#l12.30"></a><span id="l12.30">     // update the menu items</span>
<a href="#l12.31"></a><span id="l12.31">     let items = menu.getElementsByTagName(&quot;menuitem&quot;);</span>
<a href="#l12.32"></a><span id="l12.32">     for (let menuItem of items) {</span>
<a href="#l12.33"></a><span id="l12.33">         menuItem.label = unitPluralForm(length, menuItem.value, false);</span>
<a href="#l12.34"></a><span id="l12.34">     }</span>
<a href="#l12.35"></a><span id="l12.35"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-dialog-utils.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-dialog-utils.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -123,17 +123,17 @@ function createReminderFromMenuitem(aMen</span>
<a href="#l13.4"></a><span id="l13.4"> </span>
<a href="#l13.5"></a><span id="l13.5"> /**</span>
<a href="#l13.6"></a><span id="l13.6">  * This function opens the needed dialogs to edit the reminder. Note however</span>
<a href="#l13.7"></a><span id="l13.7">  * that calling this function from an extension is not recommended. To allow an</span>
<a href="#l13.8"></a><span id="l13.8">  * extension to open the reminder dialog, set the menulist &quot;item-alarm&quot; to the</span>
<a href="#l13.9"></a><span id="l13.9">  * custom menuitem and call updateReminder().</span>
<a href="#l13.10"></a><span id="l13.10">  */</span>
<a href="#l13.11"></a><span id="l13.11"> function editReminder() {</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-    let customItem =  document.getElementById(&quot;reminder-custom-menuitem&quot;);</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+    let customItem = document.getElementById(&quot;reminder-custom-menuitem&quot;);</span>
<a href="#l13.14"></a><span id="l13.14">     let args = {};</span>
<a href="#l13.15"></a><span id="l13.15">     args.reminders = customItem.reminders;</span>
<a href="#l13.16"></a><span id="l13.16">     args.item = window.calendarItem;</span>
<a href="#l13.17"></a><span id="l13.17">     args.timezone = (window.gStartTimezone ||</span>
<a href="#l13.18"></a><span id="l13.18">                      window.gEndTimezone ||</span>
<a href="#l13.19"></a><span id="l13.19">                      calendarDefaultTimezone());</span>
<a href="#l13.20"></a><span id="l13.20"> </span>
<a href="#l13.21"></a><span id="l13.21">     args.calendar = getCurrentCalendar();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -504,17 +504,17 @@ function editEndTimezone() {</span>
<a href="#l14.4"></a><span id="l14.4">  * This for example disables the timepicker since its not needed.</span>
<a href="#l14.5"></a><span id="l14.5">  */</span>
<a href="#l14.6"></a><span id="l14.6"> function updateAllDay() {</span>
<a href="#l14.7"></a><span id="l14.7">     if (gIgnoreUpdate) {</span>
<a href="#l14.8"></a><span id="l14.8">         return;</span>
<a href="#l14.9"></a><span id="l14.9">     }</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11">     var allDayElement = document.getElementById(&quot;all-day&quot;);</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-    var allDay  = (allDayElement.getAttribute(&quot;checked&quot;) == &quot;true&quot;);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+    var allDay = (allDayElement.getAttribute(&quot;checked&quot;) == &quot;true&quot;);</span>
<a href="#l14.14"></a><span id="l14.14">     var startpicker = document.getElementById(&quot;event-starttime&quot;);</span>
<a href="#l14.15"></a><span id="l14.15">     var endpicker = document.getElementById(&quot;event-endtime&quot;);</span>
<a href="#l14.16"></a><span id="l14.16"> </span>
<a href="#l14.17"></a><span id="l14.17">     var tzStart = document.getElementById(&quot;timezone-starttime&quot;);</span>
<a href="#l14.18"></a><span id="l14.18">     var tzEnd = document.getElementById(&quot;timezone-endtime&quot;);</span>
<a href="#l14.19"></a><span id="l14.19"> </span>
<a href="#l14.20"></a><span id="l14.20">     // Disable the timezone links if 'allday' is checked OR the</span>
<a href="#l14.21"></a><span id="l14.21">     // calendar of this item is read-only. In any other case we</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -637,17 +637,17 @@</span>
<a href="#l15.4"></a><span id="l15.4">           this.mOffset = val * this.numHours;</span>
<a href="#l15.5"></a><span id="l15.5">           this.showState();</span>
<a href="#l15.6"></a><span id="l15.6">           return val;</span>
<a href="#l15.7"></a><span id="l15.7">         ]]&gt;&lt;/setter&gt;</span>
<a href="#l15.8"></a><span id="l15.8">       &lt;/property&gt;</span>
<a href="#l15.9"></a><span id="l15.9"> </span>
<a href="#l15.10"></a><span id="l15.10">       &lt;property name=&quot;documentSize&quot;&gt;</span>
<a href="#l15.11"></a><span id="l15.11">         &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-          return  this.contentWidth * this.mRange;</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+          return this.contentWidth * this.mRange;</span>
<a href="#l15.14"></a><span id="l15.14">         ]]&gt;&lt;/getter&gt;</span>
<a href="#l15.15"></a><span id="l15.15">       &lt;/property&gt;</span>
<a href="#l15.16"></a><span id="l15.16"> </span>
<a href="#l15.17"></a><span id="l15.17">       &lt;property name=&quot;scroll&quot;&gt;</span>
<a href="#l15.18"></a><span id="l15.18">         &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l15.19"></a><span id="l15.19">           // How much pixels spans a single day</span>
<a href="#l15.20"></a><span id="l15.20">           var oneday = this.contentWidth;</span>
<a href="#l15.21"></a><span id="l15.21">           if (oneday &lt;= 0) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-recurrence.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -133,17 +133,17 @@ function initializeControls(rule) {</span>
<a href="#l16.4"></a><span id="l16.4">     var byMonthRuleComponent = rule.getComponent(&quot;BYMONTH&quot;, {});</span>
<a href="#l16.5"></a><span id="l16.5">     var kDefaultTimezone = calendarDefaultTimezone();</span>
<a href="#l16.6"></a><span id="l16.6">     var startDate = gStartTime.getInTimezone(kDefaultTimezone);</span>
<a href="#l16.7"></a><span id="l16.7"> </span>
<a href="#l16.8"></a><span id="l16.8">     // &quot;DAILY&quot; ruletype</span>
<a href="#l16.9"></a><span id="l16.9">     // byDayRuleComponents may have been set priorily by &quot;MONTHLY&quot;- ruletypes</span>
<a href="#l16.10"></a><span id="l16.10">     // where they have a different context-</span>
<a href="#l16.11"></a><span id="l16.11">     // that's why we also query the current rule-type</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-    if (byDayRuleComponent.length == 0  || rule.type != &quot;DAILY&quot;) {</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+    if (byDayRuleComponent.length == 0 || rule.type != &quot;DAILY&quot;) {</span>
<a href="#l16.14"></a><span id="l16.14">         document.getElementById(&quot;daily-group&quot;).selectedIndex = 0;</span>
<a href="#l16.15"></a><span id="l16.15">     } else {</span>
<a href="#l16.16"></a><span id="l16.16">         document.getElementById(&quot;daily-group&quot;).selectedIndex = 1;</span>
<a href="#l16.17"></a><span id="l16.17">     }</span>
<a href="#l16.18"></a><span id="l16.18"> </span>
<a href="#l16.19"></a><span id="l16.19">     // &quot;WEEKLY&quot; ruletype</span>
<a href="#l16.20"></a><span id="l16.20">     if (byDayRuleComponent.length == 0 || rule.type != &quot;WEEKLY&quot;) {</span>
<a href="#l16.21"></a><span id="l16.21">         document.getElementById(&quot;daypicker-weekday&quot;).days = [startDate.weekday + 1];</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineat">@@ -179,17 +179,17 @@ function initializeControls(rule) {</span>
<a href="#l16.23"></a><span id="l16.23">             setElementValue(&quot;monthly-weekday&quot;, byMonthDayRuleComponent[0]);</span>
<a href="#l16.24"></a><span id="l16.24">         } else if (byMonthDayRuleComponent.length &gt; 0) {</span>
<a href="#l16.25"></a><span id="l16.25">             document.getElementById(&quot;monthly-group&quot;).selectedIndex = 1;</span>
<a href="#l16.26"></a><span id="l16.26">             document.getElementById(&quot;monthly-days&quot;).days = byMonthDayRuleComponent;</span>
<a href="#l16.27"></a><span id="l16.27">         }</span>
<a href="#l16.28"></a><span id="l16.28">     }</span>
<a href="#l16.29"></a><span id="l16.29"> </span>
<a href="#l16.30"></a><span id="l16.30">     // &quot;YEARLY&quot; ruletype</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineminus">-    if (byMonthRuleComponent.length == 0  || rule.type != &quot;YEARLY&quot;) {</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineplus">+    if (byMonthRuleComponent.length == 0 || rule.type != &quot;YEARLY&quot;) {</span>
<a href="#l16.33"></a><span id="l16.33">         setElementValue(&quot;yearly-month-rule&quot;, startDate.month + 1);</span>
<a href="#l16.34"></a><span id="l16.34">         setElementValue(&quot;yearly-month-ordinal&quot;, startDate.month + 1);</span>
<a href="#l16.35"></a><span id="l16.35">         if (byMonthDayRuleComponent.length &gt; 0) {</span>
<a href="#l16.36"></a><span id="l16.36">             setControlsForByMonthDay_YearlyRule(startDate, byMonthDayRuleComponent[0]);</span>
<a href="#l16.37"></a><span id="l16.37">         } else {</span>
<a href="#l16.38"></a><span id="l16.38">             setElementValue(&quot;yearly-days&quot;, startDate.day);</span>
<a href="#l16.39"></a><span id="l16.39">             let day = Math.floor((startDate.day - 1) / 7) + 1;</span>
<a href="#l16.40"></a><span id="l16.40">             setElementValue(&quot;yearly-ordinal&quot;, day);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-reminder.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-reminder.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -242,17 +242,17 @@ function onReminderSelected() {</span>
<a href="#l17.4"></a><span id="l17.4"> </span>
<a href="#l17.5"></a><span id="l17.5">         // Absolute/relative things</span>
<a href="#l17.6"></a><span id="l17.6">         if (reminder.related == Components.interfaces.calIAlarm.ALARM_RELATED_ABSOLUTE) {</span>
<a href="#l17.7"></a><span id="l17.7">             relationType.value = &quot;absolute&quot;;</span>
<a href="#l17.8"></a><span id="l17.8"> </span>
<a href="#l17.9"></a><span id="l17.9">             // Date</span>
<a href="#l17.10"></a><span id="l17.10">             absDate.value = cal.dateTimeToJsDate(reminder.alarmDate || cal.getDefaultStartDate());</span>
<a href="#l17.11"></a><span id="l17.11">         } else {</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-            relationType.value =  &quot;relative&quot;;</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+            relationType.value = &quot;relative&quot;;</span>
<a href="#l17.14"></a><span id="l17.14"> </span>
<a href="#l17.15"></a><span id="l17.15">             // Unit and length</span>
<a href="#l17.16"></a><span id="l17.16">             let alarmlen = Math.abs(reminder.offset.inSeconds / 60);</span>
<a href="#l17.17"></a><span id="l17.17">             if (alarmlen % 1440 == 0) {</span>
<a href="#l17.18"></a><span id="l17.18">                 unit.value = &quot;days&quot;;</span>
<a href="#l17.19"></a><span id="l17.19">                 length.value = alarmlen / 1440;</span>
<a href="#l17.20"></a><span id="l17.20">             } else if (alarmlen % 60 == 0) {</span>
<a href="#l17.21"></a><span id="l17.21">                 unit.value = &quot;hours&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-properties-dialog.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-properties-dialog.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -117,17 +117,17 @@ function setupEnabledCheckbox() {</span>
<a href="#l18.4"></a><span id="l18.4">     }</span>
<a href="#l18.5"></a><span id="l18.5"> }</span>
<a href="#l18.6"></a><span id="l18.6"> </span>
<a href="#l18.7"></a><span id="l18.7"> /**</span>
<a href="#l18.8"></a><span id="l18.8">  * Called to unsubscribe from a calendar. The button for this function is not</span>
<a href="#l18.9"></a><span id="l18.9">  * shown unless the provider for the calendar is missing (i.e force-disabled)</span>
<a href="#l18.10"></a><span id="l18.10">  */</span>
<a href="#l18.11"></a><span id="l18.11"> function unsubscribeCalendar() {</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-    let calmgr =  cal.getCalendarManager();</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+    let calmgr = cal.getCalendarManager();</span>
<a href="#l18.14"></a><span id="l18.14"> </span>
<a href="#l18.15"></a><span id="l18.15">     calmgr.unregisterCalendar(gCalendar);</span>
<a href="#l18.16"></a><span id="l18.16">     window.close();</span>
<a href="#l18.17"></a><span id="l18.17"> }</span>
<a href="#l18.18"></a><span id="l18.18"> </span>
<a href="#l18.19"></a><span id="l18.19"> function initRefreshInterval() {</span>
<a href="#l18.20"></a><span id="l18.20">     function createMenuItem(minutes) {</span>
<a href="#l18.21"></a><span id="l18.21">         let menuitem = createXULElement(&quot;menuitem&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -276,17 +276,17 @@ function updateRepeatDetails() {</span>
<a href="#l19.4"></a><span id="l19.4">     // create a details string, we simply don't show anything.</span>
<a href="#l19.5"></a><span id="l19.5">     // this could happen if the repeat rule is something exotic</span>
<a href="#l19.6"></a><span id="l19.6">     // we don't have any strings prepared for.</span>
<a href="#l19.7"></a><span id="l19.7">     var repeatDetails = document.getElementById(&quot;repeat-details&quot;);</span>
<a href="#l19.8"></a><span id="l19.8">     repeatDetails.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l19.9"></a><span id="l19.9"> </span>
<a href="#l19.10"></a><span id="l19.10">     // Try to create a descriptive string from the rule(s).</span>
<a href="#l19.11"></a><span id="l19.11">     var kDefaultTimezone = calendarDefaultTimezone();</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-    var startDate =  item.startDate || item.entryDate;</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+    var startDate = item.startDate || item.entryDate;</span>
<a href="#l19.14"></a><span id="l19.14">     var endDate = item.endDate || item.dueDate;</span>
<a href="#l19.15"></a><span id="l19.15">     startDate = startDate ? startDate.getInTimezone(kDefaultTimezone) : null;</span>
<a href="#l19.16"></a><span id="l19.16">     endDate = endDate ? endDate.getInTimezone(kDefaultTimezone) : null;</span>
<a href="#l19.17"></a><span id="l19.17">     var detailsString = recurrenceRule2String(recurrenceInfo, startDate,</span>
<a href="#l19.18"></a><span id="l19.18">                                               endDate, startDate.isDate);</span>
<a href="#l19.19"></a><span id="l19.19"> </span>
<a href="#l19.20"></a><span id="l19.20">     if (!detailsString) {</span>
<a href="#l19.21"></a><span id="l19.21">         detailsString = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;ruleTooComplexSummary&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/base/content/import-export.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/base/content/import-export.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -1,23 +1,23 @@</span>
<a href="#l20.4"></a><span id="l20.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.5"></a><span id="l20.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.6"></a><span id="l20.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.7"></a><span id="l20.7"> </span>
<a href="#l20.8"></a><span id="l20.8"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l20.9"></a><span id="l20.9"> </span>
<a href="#l20.10"></a><span id="l20.10"> // File constants copied from file-utils.js</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineminus">-var MODE_RDONLY   = 0x01;</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-var MODE_WRONLY   = 0x02;</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-var MODE_RDWR     = 0x04;</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineminus">-var MODE_CREATE   = 0x08;</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineminus">-var MODE_APPEND   = 0x10;</span>
<a href="#l20.16"></a><span id="l20.16" class="difflineplus">+var MODE_RDONLY = 0x01;</span>
<a href="#l20.17"></a><span id="l20.17" class="difflineplus">+var MODE_WRONLY = 0x02;</span>
<a href="#l20.18"></a><span id="l20.18" class="difflineplus">+var MODE_RDWR = 0x04;</span>
<a href="#l20.19"></a><span id="l20.19" class="difflineplus">+var MODE_CREATE = 0x08;</span>
<a href="#l20.20"></a><span id="l20.20" class="difflineplus">+var MODE_APPEND = 0x10;</span>
<a href="#l20.21"></a><span id="l20.21"> var MODE_TRUNCATE = 0x20;</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineminus">-var MODE_SYNC     = 0x40;</span>
<a href="#l20.23"></a><span id="l20.23" class="difflineminus">-var MODE_EXCL     = 0x80;</span>
<a href="#l20.24"></a><span id="l20.24" class="difflineplus">+var MODE_SYNC = 0x40;</span>
<a href="#l20.25"></a><span id="l20.25" class="difflineplus">+var MODE_EXCL = 0x80;</span>
<a href="#l20.26"></a><span id="l20.26"> </span>
<a href="#l20.27"></a><span id="l20.27"> /**</span>
<a href="#l20.28"></a><span id="l20.28">  * Shows a file dialog, reads the selected file(s) and tries to parse events from it.</span>
<a href="#l20.29"></a><span id="l20.29">  *</span>
<a href="#l20.30"></a><span id="l20.30">  * @param aCalendar  (optional) If specified, the items will be imported directly</span>
<a href="#l20.31"></a><span id="l20.31">  *                              into the calendar</span>
<a href="#l20.32"></a><span id="l20.32">  */</span>
<a href="#l20.33"></a><span id="l20.33"> function loadEventsFromFile(aCalendar) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/calendar/base/content/preferences/alarms.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/calendar/base/content/preferences/alarms.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -15,17 +15,17 @@ var gAlarmsPane = {</span>
<a href="#l21.4"></a><span id="l21.4">      * values set in prefs.</span>
<a href="#l21.5"></a><span id="l21.5">      */</span>
<a href="#l21.6"></a><span id="l21.6">     init: function gAP_init() {</span>
<a href="#l21.7"></a><span id="l21.7">         // Enable/disable the alarm sound URL box and buttons</span>
<a href="#l21.8"></a><span id="l21.8">         this.alarmsPlaySoundPrefChanged();</span>
<a href="#l21.9"></a><span id="l21.9"> </span>
<a href="#l21.10"></a><span id="l21.10">         // Set the correct singular/plural for the time units</span>
<a href="#l21.11"></a><span id="l21.11">         updateMenuLabelsPlural(&quot;eventdefalarmlen&quot;, &quot;eventdefalarmunit&quot;);</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-        updateMenuLabelsPlural(&quot;tododefalarmlen&quot;,  &quot;tododefalarmunit&quot;);</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+        updateMenuLabelsPlural(&quot;tododefalarmlen&quot;, &quot;tododefalarmunit&quot;);</span>
<a href="#l21.14"></a><span id="l21.14">         updateUnitLabelPlural(&quot;defaultsnoozelength&quot;, &quot;defaultsnoozelengthunit&quot;, &quot;minutes&quot;);</span>
<a href="#l21.15"></a><span id="l21.15">     },</span>
<a href="#l21.16"></a><span id="l21.16"> </span>
<a href="#l21.17"></a><span id="l21.17">     /**</span>
<a href="#l21.18"></a><span id="l21.18">      * Converts the given file url to a nsILocalFile</span>
<a href="#l21.19"></a><span id="l21.19">      *</span>
<a href="#l21.20"></a><span id="l21.20">      * @param aFileURL    A string with a file:// url.</span>
<a href="#l21.21"></a><span id="l21.21">      * @return            The corresponding nsILocalFile.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/calendar/base/content/preferences/categories.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/calendar/base/content/preferences/categories.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -244,17 +244,17 @@ var gCategoriesPane = {</span>
<a href="#l22.4"></a><span id="l22.4">         var updatedCategory = gCategoryList.indexOf(categoryName);</span>
<a href="#l22.5"></a><span id="l22.5">         list.ensureIndexIsVisible(updatedCategory);</span>
<a href="#l22.6"></a><span id="l22.6">         list.selectedIndex = updatedCategory;</span>
<a href="#l22.7"></a><span id="l22.7">     },</span>
<a href="#l22.8"></a><span id="l22.8"> </span>
<a href="#l22.9"></a><span id="l22.9">     /**</span>
<a href="#l22.10"></a><span id="l22.10">      * Enable the edit and delete category buttons.</span>
<a href="#l22.11"></a><span id="l22.11">      */</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-    updateButtons: function  gCP_updateButtons() {</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+    updateButtons: function gCP_updateButtons() {</span>
<a href="#l22.14"></a><span id="l22.14">         let categoriesList = document.getElementById(&quot;categorieslist&quot;);</span>
<a href="#l22.15"></a><span id="l22.15">         document.getElementById(&quot;deleteCButton&quot;).disabled = (categoriesList.selectedCount &lt;= 0);</span>
<a href="#l22.16"></a><span id="l22.16">         document.getElementById(&quot;editCButton&quot;).disabled = (categoriesList.selectedCount != 1)</span>
<a href="#l22.17"></a><span id="l22.17">     },</span>
<a href="#l22.18"></a><span id="l22.18"> </span>
<a href="#l22.19"></a><span id="l22.19">     /**</span>
<a href="#l22.20"></a><span id="l22.20">      * Backs up the category name in case the dialog is canceled.</span>
<a href="#l22.21"></a><span id="l22.21">      *</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/calendar/base/content/preferences/general.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/calendar/base/content/preferences/general.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -13,17 +13,17 @@ var gCalendarGeneralPane = {</span>
<a href="#l23.4"></a><span id="l23.4">     /**</span>
<a href="#l23.5"></a><span id="l23.5">      * Initialize the general pref pane. Sets up dialog controls to match the</span>
<a href="#l23.6"></a><span id="l23.6">      * values set in prefs.</span>
<a href="#l23.7"></a><span id="l23.7">      */</span>
<a href="#l23.8"></a><span id="l23.8">     init: function gCGP_init() {</span>
<a href="#l23.9"></a><span id="l23.9">         var df = Components.classes[&quot;@mozilla.org/calendar/datetime-formatter;1&quot;]</span>
<a href="#l23.10"></a><span id="l23.10">                     .getService(Components.interfaces.calIDateTimeFormatter);</span>
<a href="#l23.11"></a><span id="l23.11"> </span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-        var dateFormattedLong  = df.formatDateLong(now());</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+        var dateFormattedLong = df.formatDateLong(now());</span>
<a href="#l23.14"></a><span id="l23.14">         var dateFormattedShort = df.formatDateShort(now());</span>
<a href="#l23.15"></a><span id="l23.15"> </span>
<a href="#l23.16"></a><span id="l23.16">         // menu items include examples of current date formats.</span>
<a href="#l23.17"></a><span id="l23.17">         document.getElementById(&quot;dateformat-long-menuitem&quot;)</span>
<a href="#l23.18"></a><span id="l23.18">                 .setAttribute(&quot;label&quot;, labelLong + &quot;: &quot; + dateFormattedLong);</span>
<a href="#l23.19"></a><span id="l23.19">         document.getElementById(&quot;dateformat-short-menuitem&quot;)</span>
<a href="#l23.20"></a><span id="l23.20">                 .setAttribute(&quot;label&quot;, labelShort + &quot;: &quot; + dateFormattedShort);</span>
<a href="#l23.21"></a><span id="l23.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/calendar/base/content/today-pane.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/calendar/base/content/today-pane.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -96,17 +96,17 @@ var TodayPane = {</span>
<a href="#l24.4"></a><span id="l24.4">         // during runtime</span>
<a href="#l24.5"></a><span id="l24.5">         const kYEARINIT= &quot;5555&quot;;</span>
<a href="#l24.6"></a><span id="l24.6">         const kCALWEEKINIT= &quot;55&quot;;</span>
<a href="#l24.7"></a><span id="l24.7">         let monthdisplaydeck = document.getElementById(&quot;monthNameContainer&quot;);</span>
<a href="#l24.8"></a><span id="l24.8">         let childNodes = monthdisplaydeck.childNodes;</span>
<a href="#l24.9"></a><span id="l24.9"> </span>
<a href="#l24.10"></a><span id="l24.10">         for (let i = 0; i &lt; childNodes.length; i++) {</span>
<a href="#l24.11"></a><span id="l24.11">             let monthlabel = childNodes[i];</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-            this.setMonthDescription(monthlabel, i,  kYEARINIT, kCALWEEKINIT);</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+            this.setMonthDescription(monthlabel, i, kYEARINIT, kCALWEEKINIT);</span>
<a href="#l24.14"></a><span id="l24.14">         }</span>
<a href="#l24.15"></a><span id="l24.15"> </span>
<a href="#l24.16"></a><span id="l24.16">         let now = cal.now();</span>
<a href="#l24.17"></a><span id="l24.17">         // Workaround for bug 1070491. Show the correct month and year</span>
<a href="#l24.18"></a><span id="l24.18">         // after startup even if deck's selectedIndex is reset to 0.</span>
<a href="#l24.19"></a><span id="l24.19">         this.setMonthDescription(childNodes[0], now.month, now.year, kCALWEEKINIT);</span>
<a href="#l24.20"></a><span id="l24.20"> </span>
<a href="#l24.21"></a><span id="l24.21">         agendaListbox.addListener(this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-list-tree.xml</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-list-tree.xml</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -566,17 +566,17 @@</span>
<a href="#l25.4"></a><span id="l25.4">           - @param aCalendar     The calendar to update.</span>
<a href="#l25.5"></a><span id="l25.5">           --&gt;</span>
<a href="#l25.6"></a><span id="l25.6">         &lt;parameter name=&quot;aCalendar&quot;/&gt;</span>
<a href="#l25.7"></a><span id="l25.7">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l25.8"></a><span id="l25.8">           let color = aCalendar.getProperty(&quot;color&quot;) || &quot;#a8c2e1&quot;;</span>
<a href="#l25.9"></a><span id="l25.9">           let sheet = this.sheet;</span>
<a href="#l25.10"></a><span id="l25.10">           if (!(aCalendar.id in this.ruleCache)) {</span>
<a href="#l25.11"></a><span id="l25.11">               let ruleString = &quot;calendar-list-tree &gt; tree &gt; treechildren&quot; +</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-                               &quot;::-moz-tree-cell(color-treecol, id-&quot;  +</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+                               &quot;::-moz-tree-cell(color-treecol, id-&quot; +</span>
<a href="#l25.14"></a><span id="l25.14">                                aCalendar.id + &quot;) {}&quot;;</span>
<a href="#l25.15"></a><span id="l25.15"> </span>
<a href="#l25.16"></a><span id="l25.16">               let ruleIndex = sheet.insertRule(ruleString, sheet.cssRules.length);</span>
<a href="#l25.17"></a><span id="l25.17">               this.ruleCache[aCalendar.id] = sheet.cssRules[ruleIndex];</span>
<a href="#l25.18"></a><span id="l25.18">           }</span>
<a href="#l25.19"></a><span id="l25.19">           this.ruleCache[aCalendar.id].style.backgroundColor = color;</span>
<a href="#l25.20"></a><span id="l25.20">         ]]&gt;&lt;/body&gt;</span>
<a href="#l25.21"></a><span id="l25.21">       &lt;/method&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-widgets.xml</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-widgets.xml</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -405,30 +405,30 @@</span>
<a href="#l26.4"></a><span id="l26.4">                         collapsedModes.push(this.currentMode);</span>
<a href="#l26.5"></a><span id="l26.5">                         if (this.getAttribute(&quot;collapsedinmodes&quot;) == &quot;,&quot;) {</span>
<a href="#l26.6"></a><span id="l26.6">                             collapsedModes.splice(0, 2);</span>
<a href="#l26.7"></a><span id="l26.7">                         }</span>
<a href="#l26.8"></a><span id="l26.8">                     }</span>
<a href="#l26.9"></a><span id="l26.9">                 } else {</span>
<a href="#l26.10"></a><span id="l26.10">                     if (modeIndex &gt; -1) {</span>
<a href="#l26.11"></a><span id="l26.11">                         collapsedModes.splice(modeIndex, 1);</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-                        if (collapsedModes.join(&quot;,&quot;)  == &quot;&quot;) {</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+                        if (collapsedModes.join(&quot;,&quot;) == &quot;&quot;) {</span>
<a href="#l26.14"></a><span id="l26.14">                             collapsedModes[0]=&quot;,&quot;;</span>
<a href="#l26.15"></a><span id="l26.15">                         }</span>
<a href="#l26.16"></a><span id="l26.16">                     }</span>
<a href="#l26.17"></a><span id="l26.17">                 }</span>
<a href="#l26.18"></a><span id="l26.18">                 this.setAttribute(&quot;collapsedinmodes&quot;, collapsedModes.join(&quot;,&quot;));</span>
<a href="#l26.19"></a><span id="l26.19">                 var id = this.getAttribute(&quot;id&quot;);</span>
<a href="#l26.20"></a><span id="l26.20">                 if (id) {</span>
<a href="#l26.21"></a><span id="l26.21">                     document.persist(id, &quot;collapsedinmodes&quot;);</span>
<a href="#l26.22"></a><span id="l26.22">                 }</span>
<a href="#l26.23"></a><span id="l26.23">             }</span>
<a href="#l26.24"></a><span id="l26.24">             if (notifyRefControl === true) {</span>
<a href="#l26.25"></a><span id="l26.25">                 if (this.hasAttribute(&quot;refcontrol&quot;)) {</span>
<a href="#l26.26"></a><span id="l26.26" class="difflineminus">-                    var command =  document.getElementById(this.getAttribute(&quot;refcontrol&quot;))</span>
<a href="#l26.27"></a><span id="l26.27" class="difflineplus">+                    var command = document.getElementById(this.getAttribute(&quot;refcontrol&quot;))</span>
<a href="#l26.28"></a><span id="l26.28">                     if (command) {</span>
<a href="#l26.29"></a><span id="l26.29">                         command.setAttribute(&quot;checked&quot;, display);</span>
<a href="#l26.30"></a><span id="l26.30">                         setBooleanAttribute(command, &quot;disabled&quot;, !this.isVisibleInMode());</span>
<a href="#l26.31"></a><span id="l26.31">                     }</span>
<a href="#l26.32"></a><span id="l26.32">                 }</span>
<a href="#l26.33"></a><span id="l26.33">             }</span>
<a href="#l26.34"></a><span id="l26.34">         ]]&gt;&lt;/body&gt;</span>
<a href="#l26.35"></a><span id="l26.35">       &lt;/method&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/calendar/base/modules/calProviderUtils.jsm</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/calendar/base/modules/calProviderUtils.jsm</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -399,17 +399,17 @@ cal.toRFC3339 = function toRFC3339(aDate</span>
<a href="#l27.4"></a><span id="l27.4"> </span>
<a href="#l27.5"></a><span id="l27.5">     var full_tzoffset = aDateTime.timezoneOffset;</span>
<a href="#l27.6"></a><span id="l27.6">     var tzoffset_hr = Math.floor(Math.abs(full_tzoffset) / 3600);</span>
<a href="#l27.7"></a><span id="l27.7"> </span>
<a href="#l27.8"></a><span id="l27.8">     var tzoffset_mn = ((Math.abs(full_tzoffset) / 3600).toFixed(2) -</span>
<a href="#l27.9"></a><span id="l27.9">                        tzoffset_hr) * 60;</span>
<a href="#l27.10"></a><span id="l27.10"> </span>
<a href="#l27.11"></a><span id="l27.11">     var str = aDateTime.year + &quot;-&quot; +</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-        (&quot;00&quot; + (aDateTime.month + 1)).substr(-2) +  &quot;-&quot; +</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineplus">+        (&quot;00&quot; + (aDateTime.month + 1)).substr(-2) + &quot;-&quot; +</span>
<a href="#l27.14"></a><span id="l27.14">         (&quot;00&quot; + aDateTime.day).substr(-2);</span>
<a href="#l27.15"></a><span id="l27.15"> </span>
<a href="#l27.16"></a><span id="l27.16">     // Time and Timezone extension</span>
<a href="#l27.17"></a><span id="l27.17">     if (!aDateTime.isDate) {</span>
<a href="#l27.18"></a><span id="l27.18">         str += &quot;T&quot; +</span>
<a href="#l27.19"></a><span id="l27.19">                (&quot;00&quot; + aDateTime.hour).substr(-2) + &quot;:&quot; +</span>
<a href="#l27.20"></a><span id="l27.20">                (&quot;00&quot; + aDateTime.minute).substr(-2) + &quot;:&quot; +</span>
<a href="#l27.21"></a><span id="l27.21">                (&quot;00&quot; + aDateTime.second).substr(-2);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/calendar/base/src/calAlarm.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/calendar/base/src/calAlarm.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -508,17 +508,17 @@ calAlarm.prototype = {</span>
<a href="#l28.4"></a><span id="l28.4"> </span>
<a href="#l28.5"></a><span id="l28.5">         if (actionProp) {</span>
<a href="#l28.6"></a><span id="l28.6">             this.action = actionProp.value;</span>
<a href="#l28.7"></a><span id="l28.7">         } else {</span>
<a href="#l28.8"></a><span id="l28.8">             throw Components.results.NS_ERROR_INVALID_ARG;</span>
<a href="#l28.9"></a><span id="l28.9">         }</span>
<a href="#l28.10"></a><span id="l28.10"> </span>
<a href="#l28.11"></a><span id="l28.11">         if (triggerProp) {</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-            if (triggerProp.getParameter(&quot;VALUE&quot;) == &quot;DATE-TIME&quot;)  {</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+            if (triggerProp.getParameter(&quot;VALUE&quot;) == &quot;DATE-TIME&quot;) {</span>
<a href="#l28.14"></a><span id="l28.14">                 this.mAbsoluteDate = triggerProp.valueAsDatetime;</span>
<a href="#l28.15"></a><span id="l28.15">                 this.related = ALARM_RELATED_ABSOLUTE;</span>
<a href="#l28.16"></a><span id="l28.16">             } else {</span>
<a href="#l28.17"></a><span id="l28.17">                 this.mOffset = cal.createDuration(triggerProp.valueAsIcalString);</span>
<a href="#l28.18"></a><span id="l28.18"> </span>
<a href="#l28.19"></a><span id="l28.19">                 let related = triggerProp.getParameter(&quot;RELATED&quot;);</span>
<a href="#l28.20"></a><span id="l28.20">                 this.related = (related == &quot;END&quot; ? ALARM_RELATED_END : ALARM_RELATED_START);</span>
<a href="#l28.21"></a><span id="l28.21">             }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/calendar/base/src/calAlarmMonitor.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/calendar/base/src/calAlarmMonitor.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -113,18 +113,18 @@ calAlarmMonitor.prototype = {</span>
<a href="#l29.4"></a><span id="l29.4">             }</span>
<a href="#l29.5"></a><span id="l29.5">         }</span>
<a href="#l29.6"></a><span id="l29.6"> </span>
<a href="#l29.7"></a><span id="l29.7">         if (!Preferences.get(&quot;calendar.alarms.show&quot;, true)) {</span>
<a href="#l29.8"></a><span id="l29.8">             return;</span>
<a href="#l29.9"></a><span id="l29.9">         }</span>
<a href="#l29.10"></a><span id="l29.10"> </span>
<a href="#l29.11"></a><span id="l29.11">         let calAlarmWindow = peekAlarmWindow();</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-        if (!calAlarmWindow  &amp;&amp; (!this.mWindowOpening ||</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineminus">-                                  this.mWindowOpening.closed)) {</span>
<a href="#l29.14"></a><span id="l29.14" class="difflineplus">+        if (!calAlarmWindow &amp;&amp; (!this.mWindowOpening ||</span>
<a href="#l29.15"></a><span id="l29.15" class="difflineplus">+                                 this.mWindowOpening.closed)) {</span>
<a href="#l29.16"></a><span id="l29.16">             this.mWindowOpening = Services.ww.openWindow(</span>
<a href="#l29.17"></a><span id="l29.17">                 null,</span>
<a href="#l29.18"></a><span id="l29.18">                 &quot;chrome://calendar/content/calendar-alarm-dialog.xul&quot;,</span>
<a href="#l29.19"></a><span id="l29.19">                 &quot;_blank&quot;,</span>
<a href="#l29.20"></a><span id="l29.20">                 &quot;chrome,dialog=yes,all,resizable&quot;,</span>
<a href="#l29.21"></a><span id="l29.21">                 this);</span>
<a href="#l29.22"></a><span id="l29.22">         }</span>
<a href="#l29.23"></a><span id="l29.23">         if (!this.mWindowOpening) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/calendar/base/src/calAttendee.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/calendar/base/src/calAttendee.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -53,21 +53,22 @@ calAttendee.prototype = {</span>
<a href="#l30.4"></a><span id="l30.4">             a.setProperty(key, value);</span>
<a href="#l30.5"></a><span id="l30.5">         }</span>
<a href="#l30.6"></a><span id="l30.6"> </span>
<a href="#l30.7"></a><span id="l30.7">         return a;</span>
<a href="#l30.8"></a><span id="l30.8">     },</span>
<a href="#l30.9"></a><span id="l30.9">     // XXX enforce legal values for our properties;</span>
<a href="#l30.10"></a><span id="l30.10"> </span>
<a href="#l30.11"></a><span id="l30.11">     icalAttendeePropMap: [</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-    { cal: &quot;rsvp&quot;,                ics: &quot;RSVP&quot; },</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineminus">-    { cal: &quot;commonName&quot;,          ics: &quot;CN&quot; },</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineminus">-    { cal: &quot;participationStatus&quot;, ics: &quot;PARTSTAT&quot; },</span>
<a href="#l30.15"></a><span id="l30.15" class="difflineminus">-    { cal: &quot;userType&quot;,            ics: &quot;CUTYPE&quot; },</span>
<a href="#l30.16"></a><span id="l30.16" class="difflineminus">-    { cal: &quot;role&quot;,                ics: &quot;ROLE&quot; } ],</span>
<a href="#l30.17"></a><span id="l30.17" class="difflineplus">+        { cal: &quot;rsvp&quot;, ics: &quot;RSVP&quot; },</span>
<a href="#l30.18"></a><span id="l30.18" class="difflineplus">+        { cal: &quot;commonName&quot;, ics: &quot;CN&quot; },</span>
<a href="#l30.19"></a><span id="l30.19" class="difflineplus">+        { cal: &quot;participationStatus&quot;, ics: &quot;PARTSTAT&quot; },</span>
<a href="#l30.20"></a><span id="l30.20" class="difflineplus">+        { cal: &quot;userType&quot;, ics: &quot;CUTYPE&quot; },</span>
<a href="#l30.21"></a><span id="l30.21" class="difflineplus">+        { cal: &quot;role&quot;, ics: &quot;ROLE&quot; }</span>
<a href="#l30.22"></a><span id="l30.22" class="difflineplus">+    ],</span>
<a href="#l30.23"></a><span id="l30.23"> </span>
<a href="#l30.24"></a><span id="l30.24">     mIsOrganizer: false,</span>
<a href="#l30.25"></a><span id="l30.25">     get isOrganizer() { return this.mIsOrganizer; },</span>
<a href="#l30.26"></a><span id="l30.26">     set isOrganizer(bool) { this.mIsOrganizer = bool; },</span>
<a href="#l30.27"></a><span id="l30.27"> </span>
<a href="#l30.28"></a><span id="l30.28">     // icalatt is a calIcalProperty of type attendee</span>
<a href="#l30.29"></a><span id="l30.29">     set icalProperty (icalatt) {</span>
<a href="#l30.30"></a><span id="l30.30">         this.modify();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/calendar/base/src/calCachedCalendar.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/calendar/base/src/calCachedCalendar.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -444,17 +444,17 @@ calCachedCalendar.prototype = {</span>
<a href="#l31.4"></a><span id="l31.4">                     this_.playbackOfflineItems(function() {this_.mCachedObserver.onLoad(this_.mCachedCalendar);});</span>
<a href="#l31.5"></a><span id="l31.5">                     emptyQueue(aStatus);</span>
<a href="#l31.6"></a><span id="l31.6">                 }</span>
<a href="#l31.7"></a><span id="l31.7">             }</span>
<a href="#l31.8"></a><span id="l31.8">         };</span>
<a href="#l31.9"></a><span id="l31.9"> </span>
<a href="#l31.10"></a><span id="l31.10">         this.getOfflineAddedItems(function(){</span>
<a href="#l31.11"></a><span id="l31.11">             this_.mPendingSync = this_.mUncachedCalendar.getItems(Components.interfaces.calICalendar.ITEM_FILTER_ALL_ITEMS,</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-                                                                    0, null,  null, completeListener);</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineplus">+                                                                    0, null, null, completeListener);</span>
<a href="#l31.14"></a><span id="l31.14">         });</span>
<a href="#l31.15"></a><span id="l31.15">         return this.mPendingSync;</span>
<a href="#l31.16"></a><span id="l31.16">     },</span>
<a href="#l31.17"></a><span id="l31.17"> </span>
<a href="#l31.18"></a><span id="l31.18">     onOfflineStatusChanged: function cCC_onOfflineStatusChanged(aNewState) {</span>
<a href="#l31.19"></a><span id="l31.19">         if (aNewState) {</span>
<a href="#l31.20"></a><span id="l31.20">             // Going offline: (XXX get items before going offline?) =&gt; we may ask the user to stay online a bit longer</span>
<a href="#l31.21"></a><span id="l31.21">         } else {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/calendar/base/src/calCalendarManager.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/calendar/base/src/calCalendarManager.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -1007,17 +1007,17 @@ calMgrCalendarObserver.prototype = {</span>
<a href="#l32.4"></a><span id="l32.4"> </span>
<a href="#l32.5"></a><span id="l32.5">         // Will remove paramBlock from announced messages when promptWindow is</span>
<a href="#l32.6"></a><span id="l32.6">         // closed.  (Closing fires unloaded event, but promptWindow is also</span>
<a href="#l32.7"></a><span id="l32.7">         // unloaded [to clean it?] before loading, so wait for detected load</span>
<a href="#l32.8"></a><span id="l32.8">         // event before detecting unload event that signifies user closed this</span>
<a href="#l32.9"></a><span id="l32.9">         // prompt window.)</span>
<a href="#l32.10"></a><span id="l32.10">         let promptUrl = &quot;chrome://calendar/content/calendar-error-prompt.xul&quot;;</span>
<a href="#l32.11"></a><span id="l32.11">         let features = &quot;chrome,dialog=yes,alwaysRaised=yes&quot;;</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-        let promptWindow =  Services.ww.openWindow(null, promptUrl, &quot;_blank&quot;, features, paramBlock);</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineplus">+        let promptWindow = Services.ww.openWindow(null, promptUrl, &quot;_blank&quot;, features, paramBlock);</span>
<a href="#l32.14"></a><span id="l32.14">         promptWindow.addEventListener(&quot;load&quot;, awaitLoad, false);</span>
<a href="#l32.15"></a><span id="l32.15">     }</span>
<a href="#l32.16"></a><span id="l32.16"> };</span>
<a href="#l32.17"></a><span id="l32.17"> </span>
<a href="#l32.18"></a><span id="l32.18"> function calDummyCalendar(type) {</span>
<a href="#l32.19"></a><span id="l32.19">     this.initProviderBase();</span>
<a href="#l32.20"></a><span id="l32.20">     this.type = type;</span>
<a href="#l32.21"></a><span id="l32.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/calendar/base/src/calFilter.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/calendar/base/src/calFilter.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -888,21 +888,21 @@ calFilter.prototype = {</span>
<a href="#l33.4"></a><span id="l33.4">                 aListener.onGetResult(aCalendar, aStatus, aItemType, aDetail, items.length, items);</span>
<a href="#l33.5"></a><span id="l33.5">             }</span>
<a href="#l33.6"></a><span id="l33.6">         };</span>
<a href="#l33.7"></a><span id="l33.7"> </span>
<a href="#l33.8"></a><span id="l33.8">         // build the filter argument for calICalendar.getItems() from the filter properties</span>
<a href="#l33.9"></a><span id="l33.9">         let filter = aItemType || aCalendar.FILTER_TYPE_ALL;</span>
<a href="#l33.10"></a><span id="l33.10">         if (!props.status || (props.status &amp; (props.FILTER_STATUS_COMPLETED_TODAY |</span>
<a href="#l33.11"></a><span id="l33.11">                                               props.FILTER_STATUS_COMPLETED_BEFORE))) {</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-            filter |=  aCalendar.ITEM_FILTER_COMPLETED_YES;</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineplus">+            filter |= aCalendar.ITEM_FILTER_COMPLETED_YES;</span>
<a href="#l33.14"></a><span id="l33.14">         }</span>
<a href="#l33.15"></a><span id="l33.15">         if (!props.status || (props.status &amp; (props.FILTER_STATUS_INCOMPLETE |</span>
<a href="#l33.16"></a><span id="l33.16">                                               props.FILTER_STATUS_IN_PROGRESS))) {</span>
<a href="#l33.17"></a><span id="l33.17" class="difflineminus">-            filter |=  aCalendar.ITEM_FILTER_COMPLETED_NO;</span>
<a href="#l33.18"></a><span id="l33.18" class="difflineplus">+            filter |= aCalendar.ITEM_FILTER_COMPLETED_NO;</span>
<a href="#l33.19"></a><span id="l33.19">         }</span>
<a href="#l33.20"></a><span id="l33.20"> </span>
<a href="#l33.21"></a><span id="l33.21">         let startDate = this.startDate;</span>
<a href="#l33.22"></a><span id="l33.22">         let endDate = this.endDate;</span>
<a href="#l33.23"></a><span id="l33.23"> </span>
<a href="#l33.24"></a><span id="l33.24">         // we only want occurrences returned from calICalendar.getItems() with a default</span>
<a href="#l33.25"></a><span id="l33.25">         // occurence filter property and a bound date range, otherwise the local listener</span>
<a href="#l33.26"></a><span id="l33.26">         // will handle occurrence expansion.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/calendar/base/src/calTimezone.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/calendar/base/src/calTimezone.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -7,17 +7,17 @@ Components.utils.import(&quot;resource://cale</span>
<a href="#l34.4"></a><span id="l34.4"> Components.utils.import(&quot;resource://calendar/modules/ical.js&quot;);</span>
<a href="#l34.5"></a><span id="l34.5"> </span>
<a href="#l34.6"></a><span id="l34.6"> function calICALJSTimezone(innerObject) {</span>
<a href="#l34.7"></a><span id="l34.7">     this.innerObject = innerObject || new ICAL.Timezone();</span>
<a href="#l34.8"></a><span id="l34.8">     this.wrappedJSObject = this;</span>
<a href="#l34.9"></a><span id="l34.9"> }</span>
<a href="#l34.10"></a><span id="l34.10"> </span>
<a href="#l34.11"></a><span id="l34.11"> var calTimezoneInterfaces = [Components.interfaces.calITimezone];</span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-var calTimezoneClassID =  Components.ID(&quot;{6702eb17-a968-4b43-b562-0d0c5f8e9eb5}&quot;);</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineplus">+var calTimezoneClassID = Components.ID(&quot;{6702eb17-a968-4b43-b562-0d0c5f8e9eb5}&quot;);</span>
<a href="#l34.14"></a><span id="l34.14"> calICALJSTimezone.prototype = {</span>
<a href="#l34.15"></a><span id="l34.15">     QueryInterface: XPCOMUtils.generateQI(calTimezoneInterfaces),</span>
<a href="#l34.16"></a><span id="l34.16">     classID: calTimezoneClassID,</span>
<a href="#l34.17"></a><span id="l34.17">     classInfo: XPCOMUtils.generateCI({</span>
<a href="#l34.18"></a><span id="l34.18">         contractID: &quot;@mozilla.org/calendar/timezone;1&quot;,</span>
<a href="#l34.19"></a><span id="l34.19">         classDescription: &quot;Calendar Timezone&quot;,</span>
<a href="#l34.20"></a><span id="l34.20">         classID: calTimezoneClassID,</span>
<a href="#l34.21"></a><span id="l34.21">         interfaces: calTimezoneInterfaces</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/calendar/base/src/calTimezoneService.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/calendar/base/src/calTimezoneService.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -307,19 +307,19 @@ function guessSystemTimezone() {</span>
<a href="#l35.4"></a><span id="l35.4">     const tzNameDec = nameDataDec &amp;&amp; nameDataDec[2];</span>
<a href="#l35.5"></a><span id="l35.5">     const offsetRegex = /[+-]\d{4}/;</span>
<a href="#l35.6"></a><span id="l35.6">     const offsetJun = dateJun.match(offsetRegex)[0];</span>
<a href="#l35.7"></a><span id="l35.7">     const offsetDec = dateDec.match(offsetRegex)[0];</span>
<a href="#l35.8"></a><span id="l35.8"> </span>
<a href="#l35.9"></a><span id="l35.9">     const tzSvc = cal.getTimezoneService();</span>
<a href="#l35.10"></a><span id="l35.10"> </span>
<a href="#l35.11"></a><span id="l35.11">     var continent = &quot;Africa|America|Antarctica|Asia|Australia|Europe&quot;;</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-    var ocean     = &quot;Arctic|Atlantic|Indian|Pacific&quot;;</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineminus">-    var tzRegex   = new RegExp(&quot;.*((?:&quot;+continent+&quot;|&quot;+ocean+&quot;)&quot;+</span>
<a href="#l35.14"></a><span id="l35.14" class="difflineminus">-                               &quot;(?:[/][-A-Z_a-z]+)+)&quot;);</span>
<a href="#l35.15"></a><span id="l35.15" class="difflineplus">+    var ocean = &quot;Arctic|Atlantic|Indian|Pacific&quot;;</span>
<a href="#l35.16"></a><span id="l35.16" class="difflineplus">+    var tzRegex = new RegExp(&quot;.*((?:&quot;+continent+&quot;|&quot;+ocean+&quot;)&quot;+</span>
<a href="#l35.17"></a><span id="l35.17" class="difflineplus">+                             &quot;(?:[/][-A-Z_a-z]+)+)&quot;);</span>
<a href="#l35.18"></a><span id="l35.18"> </span>
<a href="#l35.19"></a><span id="l35.19">     function getIcalString(component, property) {</span>
<a href="#l35.20"></a><span id="l35.20">         var prop = (component &amp;&amp; component.getFirstProperty(property));</span>
<a href="#l35.21"></a><span id="l35.21">         return (prop ? prop.valueAsIcalString : null);</span>
<a href="#l35.22"></a><span id="l35.22">     }</span>
<a href="#l35.23"></a><span id="l35.23"> </span>
<a href="#l35.24"></a><span id="l35.24">     // Check if Olson ZoneInfo timezone matches OS/JSDate timezone properties:</span>
<a href="#l35.25"></a><span id="l35.25">     // * standard offset and daylight/summer offset if present (longitude),</span>
<a href="#l35.26"></a><span id="l35.26" class="difflineat">@@ -345,20 +345,20 @@ function guessSystemTimezone() {</span>
<a href="#l35.27"></a><span id="l35.27">             }</span>
<a href="#l35.28"></a><span id="l35.28">         }</span>
<a href="#l35.29"></a><span id="l35.29"> </span>
<a href="#l35.30"></a><span id="l35.30">         var subComp = tz.icalComponent;</span>
<a href="#l35.31"></a><span id="l35.31">         // find currently applicable time period, not just first,</span>
<a href="#l35.32"></a><span id="l35.32">         // because offsets of timezone may be changed over the years.</span>
<a href="#l35.33"></a><span id="l35.33">         var standard = findCurrentTimePeriod(tz, subComp, &quot;STANDARD&quot;);</span>
<a href="#l35.34"></a><span id="l35.34">         var standardTZOffset = getIcalString(standard, &quot;TZOFFSETTO&quot;);</span>
<a href="#l35.35"></a><span id="l35.35" class="difflineminus">-        var standardName     = getIcalString(standard, &quot;TZNAME&quot;);</span>
<a href="#l35.36"></a><span id="l35.36" class="difflineplus">+        var standardName = getIcalString(standard, &quot;TZNAME&quot;);</span>
<a href="#l35.37"></a><span id="l35.37">         var daylight = findCurrentTimePeriod(tz, subComp, &quot;DAYLIGHT&quot;);</span>
<a href="#l35.38"></a><span id="l35.38">         var daylightTZOffset = getIcalString(daylight, &quot;TZOFFSETTO&quot;);</span>
<a href="#l35.39"></a><span id="l35.39" class="difflineminus">-        var daylightName     = getIcalString(daylight, &quot;TZNAME&quot;);</span>
<a href="#l35.40"></a><span id="l35.40" class="difflineplus">+        var daylightName = getIcalString(daylight, &quot;TZNAME&quot;);</span>
<a href="#l35.41"></a><span id="l35.41"> </span>
<a href="#l35.42"></a><span id="l35.42">         // Try northern hemisphere cases.</span>
<a href="#l35.43"></a><span id="l35.43">         if (offsetDec == standardTZOffset &amp;&amp; offsetDec == offsetJun &amp;&amp;</span>
<a href="#l35.44"></a><span id="l35.44">             !daylight) {</span>
<a href="#l35.45"></a><span id="l35.45">             if (standardName &amp;&amp; standardName == tzNameJun) {</span>
<a href="#l35.46"></a><span id="l35.46">                 return 3;</span>
<a href="#l35.47"></a><span id="l35.47">             } else {</span>
<a href="#l35.48"></a><span id="l35.48">                 return 2;</span>
<a href="#l35.49"></a><span id="l35.49" class="difflineat">@@ -614,17 +614,17 @@ function guessSystemTimezone() {</span>
<a href="#l35.50"></a><span id="l35.50">                          &quot;SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Time Zones&quot;,</span>
<a href="#l35.51"></a><span id="l35.51">                          wrk.ACCESS_READ);</span>
<a href="#l35.52"></a><span id="l35.52"> </span>
<a href="#l35.53"></a><span id="l35.53">                 // Linear search matching localized name of standard timezone</span>
<a href="#l35.54"></a><span id="l35.54">                 // to find the non-localized registry key.</span>
<a href="#l35.55"></a><span id="l35.55">                 // (Registry keys are sorted by subkeyName, not by localized name</span>
<a href="#l35.56"></a><span id="l35.56">                 //  nor offset, so cannot use binary search.)</span>
<a href="#l35.57"></a><span id="l35.57">                 for (var i = 0; i &lt; wrk.childCount; i++) {</span>
<a href="#l35.58"></a><span id="l35.58" class="difflineminus">-                    var subkeyName  = wrk.getChildName(i);</span>
<a href="#l35.59"></a><span id="l35.59" class="difflineplus">+                    var subkeyName = wrk.getChildName(i);</span>
<a href="#l35.60"></a><span id="l35.60">                     var subkey = wrk.openChild(subkeyName, wrk.ACCESS_READ);</span>
<a href="#l35.61"></a><span id="l35.61">                     var std = subkey.readStringValue(&quot;Std&quot;);</span>
<a href="#l35.62"></a><span id="l35.62">                     subkey.close();</span>
<a href="#l35.63"></a><span id="l35.63">                     if (std == currentTZStandardName) {</span>
<a href="#l35.64"></a><span id="l35.64">                         osUserTimeZone = subkeyName;</span>
<a href="#l35.65"></a><span id="l35.65">                         break;</span>
<a href="#l35.66"></a><span id="l35.66">                     }</span>
<a href="#l35.67"></a><span id="l35.67">                 }</span>
<a href="#l35.68"></a><span id="l35.68" class="difflineat">@@ -775,23 +775,23 @@ function guessSystemTimezone() {</span>
<a href="#l35.69"></a><span id="l35.69">             var daylight = findCurrentTimePeriod(tz, subComp, &quot;DAYLIGHT&quot;);</span>
<a href="#l35.70"></a><span id="l35.70">             var daylightTZOffset = getIcalString(daylight, &quot;TZOFFSETTO&quot;);</span>
<a href="#l35.71"></a><span id="l35.71">             var warningDetail;</span>
<a href="#l35.72"></a><span id="l35.72">             if (probableTZScore == 1) {</span>
<a href="#l35.73"></a><span id="l35.73">                 // score 1 means has daylight time,</span>
<a href="#l35.74"></a><span id="l35.74">                 // but transitions start on different weekday from os timezone.</span>
<a href="#l35.75"></a><span id="l35.75">                 var standardStart = getIcalString(standard, &quot;DTSTART&quot;);</span>
<a href="#l35.76"></a><span id="l35.76">                 var standardStartWeekday = weekday(standardStart, tz);</span>
<a href="#l35.77"></a><span id="l35.77" class="difflineminus">-                var standardRule  = getIcalString(standard, &quot;RRULE&quot;);</span>
<a href="#l35.78"></a><span id="l35.78" class="difflineplus">+                var standardRule = getIcalString(standard, &quot;RRULE&quot;);</span>
<a href="#l35.79"></a><span id="l35.79">                 var standardText =</span>
<a href="#l35.80"></a><span id="l35.80">                     (&quot;  Standard: &quot;+standardStart+&quot; &quot;+standardStartWeekday+&quot;\n&quot;+</span>
<a href="#l35.81"></a><span id="l35.81">                      &quot;            &quot;+standardRule+&quot;\n&quot;);</span>
<a href="#l35.82"></a><span id="l35.82">                 var daylightStart = getIcalString(daylight, &quot;DTSTART&quot;);</span>
<a href="#l35.83"></a><span id="l35.83">                 var daylightStartWeekday = weekday(daylightStart, tz);</span>
<a href="#l35.84"></a><span id="l35.84" class="difflineminus">-                var daylightRule  = getIcalString(daylight, &quot;RRULE&quot;);</span>
<a href="#l35.85"></a><span id="l35.85" class="difflineplus">+                var daylightRule = getIcalString(daylight, &quot;RRULE&quot;);</span>
<a href="#l35.86"></a><span id="l35.86">                 var daylightText =</span>
<a href="#l35.87"></a><span id="l35.87">                     (&quot;  Daylight: &quot;+daylightStart+&quot; &quot;+daylightStartWeekday+&quot;\n&quot;+</span>
<a href="#l35.88"></a><span id="l35.88">                      &quot;            &quot;+daylightRule+&quot;\n&quot;);</span>
<a href="#l35.89"></a><span id="l35.89">                 warningDetail =</span>
<a href="#l35.90"></a><span id="l35.90">                     ((standardStart &lt; daylightStart</span>
<a href="#l35.91"></a><span id="l35.91">                       ? standardText + daylightText</span>
<a href="#l35.92"></a><span id="l35.92">                       : daylightText + standardText)+</span>
<a href="#l35.93"></a><span id="l35.93">                      (calProperties.GetStringFromName(</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/calendar/base/src/calUtils.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/calendar/base/src/calUtils.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -22,18 +22,18 @@ function _calIcalCreator(cid, iid) {</span>
<a href="#l36.4"></a><span id="l36.4">         return thing;</span>
<a href="#l36.5"></a><span id="l36.5">     };</span>
<a href="#l36.6"></a><span id="l36.6"> }</span>
<a href="#l36.7"></a><span id="l36.7"> </span>
<a href="#l36.8"></a><span id="l36.8"> var createEvent = _calIcalCreator(&quot;@mozilla.org/calendar/event;1&quot;,</span>
<a href="#l36.9"></a><span id="l36.9">                                   Components.interfaces.calIEvent);</span>
<a href="#l36.10"></a><span id="l36.10"> var createTodo = _calIcalCreator(&quot;@mozilla.org/calendar/todo;1&quot;,</span>
<a href="#l36.11"></a><span id="l36.11">                                  Components.interfaces.calITodo);</span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-var createDateTime  = _calIcalCreator(&quot;@mozilla.org/calendar/datetime;1&quot;,</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineminus">-                                      Components.interfaces.calIDateTime);</span>
<a href="#l36.14"></a><span id="l36.14" class="difflineplus">+var createDateTime = _calIcalCreator(&quot;@mozilla.org/calendar/datetime;1&quot;,</span>
<a href="#l36.15"></a><span id="l36.15" class="difflineplus">+                                     Components.interfaces.calIDateTime);</span>
<a href="#l36.16"></a><span id="l36.16"> var createDuration = _calIcalCreator(&quot;@mozilla.org/calendar/duration;1&quot;,</span>
<a href="#l36.17"></a><span id="l36.17">                                      Components.interfaces.calIDuration);</span>
<a href="#l36.18"></a><span id="l36.18"> var createAttendee = _calIcalCreator(&quot;@mozilla.org/calendar/attendee;1&quot;,</span>
<a href="#l36.19"></a><span id="l36.19">                                      Components.interfaces.calIAttendee);</span>
<a href="#l36.20"></a><span id="l36.20"> var createAttachment = _calIcalCreator(&quot;@mozilla.org/calendar/attachment;1&quot;,</span>
<a href="#l36.21"></a><span id="l36.21">                                        Components.interfaces.calIAttachment);</span>
<a href="#l36.22"></a><span id="l36.22"> var createAlarm = _calIcalCreator(&quot;@mozilla.org/calendar/alarm;1&quot;,</span>
<a href="#l36.23"></a><span id="l36.23">                                   Components.interfaces.calIAlarm);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/calendar/import-export/calMonthGridPrinter.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/calendar/import-export/calMonthGridPrinter.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -193,17 +193,17 @@ calMonthPrinter.prototype = {</span>
<a href="#l37.4"></a><span id="l37.4">         // Clone the template week and make sure it doesn't have an id</span>
<a href="#l37.5"></a><span id="l37.5">         let currentWeek = weekTemplate.cloneNode(true);</span>
<a href="#l37.6"></a><span id="l37.6">         currentWeek.removeAttribute(&quot;id&quot;);</span>
<a href="#l37.7"></a><span id="l37.7"> </span>
<a href="#l37.8"></a><span id="l37.8">         // Set up day numbers for all days in this week</span>
<a href="#l37.9"></a><span id="l37.9">         let currentDate = startOfWeek.clone();</span>
<a href="#l37.10"></a><span id="l37.10">         for (let i = 1; i &lt;= 7; i++) {</span>
<a href="#l37.11"></a><span id="l37.11">             let dayNumber = currentWeek.querySelector(&quot;.day&quot; + i + &quot;-number&quot;);</span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-            let dayContainer =  currentWeek.querySelector(&quot;.day&quot; + i + &quot;-container&quot;);</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+            let dayContainer = currentWeek.querySelector(&quot;.day&quot; + i + &quot;-container&quot;);</span>
<a href="#l37.14"></a><span id="l37.14">             let dayBox = currentWeek.querySelector(&quot;.day&quot; + i + &quot;-box&quot;);</span>
<a href="#l37.15"></a><span id="l37.15">             let dateKey = cal.print.getDateKey(currentDate);</span>
<a href="#l37.16"></a><span id="l37.16">             dayNumber.textContent = currentDate.day;</span>
<a href="#l37.17"></a><span id="l37.17"> </span>
<a href="#l37.18"></a><span id="l37.18">             // We need to support adding multiple boxes, since the months have</span>
<a href="#l37.19"></a><span id="l37.19">             // overlapping days.</span>
<a href="#l37.20"></a><span id="l37.20">             if (dateKey in dayTable) {</span>
<a href="#l37.21"></a><span id="l37.21">                 if (Array.isArray(dayTable[dateKey])) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/calendar/import-export/calOutlookCSVImportExport.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/calendar/import-export/calOutlookCSVImportExport.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -151,29 +151,29 @@ calOutlookCSVImporter.prototype = {</span>
<a href="#l38.4"></a><span id="l38.4">         let knownIndxs;</span>
<a href="#l38.5"></a><span id="l38.5">         for (i in locales) {</span>
<a href="#l38.6"></a><span id="l38.6">             locale = locales[i];</span>
<a href="#l38.7"></a><span id="l38.7">             knownIndxs = 0;</span>
<a href="#l38.8"></a><span id="l38.8">             args.titleIndex = 0;</span>
<a href="#l38.9"></a><span id="l38.9">             args.startDateIndex = 0;</span>
<a href="#l38.10"></a><span id="l38.10">             for (let i = 1; i &lt;= header.length; ++i) {</span>
<a href="#l38.11"></a><span id="l38.11">                 switch( header[i-1] ) {</span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-                    case locale.headTitle:        args.titleIndex = i;       knownIndxs++; break;</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineminus">-                    case locale.headStartDate:    args.startDateIndex = i;   knownIndxs++; break;</span>
<a href="#l38.14"></a><span id="l38.14" class="difflineminus">-                    case locale.headStartTime:    args.startTimeIndex = i;   knownIndxs++; break;</span>
<a href="#l38.15"></a><span id="l38.15" class="difflineminus">-                    case locale.headEndDate:      args.endDateIndex = i;     knownIndxs++; break;</span>
<a href="#l38.16"></a><span id="l38.16" class="difflineminus">-                    case locale.headEndTime:      args.endTimeIndex = i;     knownIndxs++; break;</span>
<a href="#l38.17"></a><span id="l38.17" class="difflineminus">-                    case locale.headAllDayEvent:  args.allDayIndex = i;      knownIndxs++; break;</span>
<a href="#l38.18"></a><span id="l38.18" class="difflineminus">-                    case locale.headAlarm:        args.alarmIndex = i;       knownIndxs++; break;</span>
<a href="#l38.19"></a><span id="l38.19" class="difflineminus">-                    case locale.headAlarmDate:    args.alarmDateIndex = i;   knownIndxs++; break;</span>
<a href="#l38.20"></a><span id="l38.20" class="difflineminus">-                    case locale.headAlarmTime:    args.alarmTimeIndex = i;   knownIndxs++; break;</span>
<a href="#l38.21"></a><span id="l38.21" class="difflineminus">-                    case locale.headCategories:   args.categoriesIndex = i;  knownIndxs++; break;</span>
<a href="#l38.22"></a><span id="l38.22" class="difflineminus">-                    case locale.headDescription:  args.descriptionIndex = i; knownIndxs++; break;</span>
<a href="#l38.23"></a><span id="l38.23" class="difflineminus">-                    case locale.headLocation:     args.locationIndex = i;    knownIndxs++; break;</span>
<a href="#l38.24"></a><span id="l38.24" class="difflineminus">-                    case locale.headPrivate:      args.privateIndex = i;     knownIndxs++; break;</span>
<a href="#l38.25"></a><span id="l38.25" class="difflineplus">+                    case locale.headTitle: args.titleIndex = i; knownIndxs++; break;</span>
<a href="#l38.26"></a><span id="l38.26" class="difflineplus">+                    case locale.headStartDate: args.startDateIndex = i; knownIndxs++; break;</span>
<a href="#l38.27"></a><span id="l38.27" class="difflineplus">+                    case locale.headStartTime: args.startTimeIndex = i; knownIndxs++; break;</span>
<a href="#l38.28"></a><span id="l38.28" class="difflineplus">+                    case locale.headEndDate: args.endDateIndex = i; knownIndxs++; break;</span>
<a href="#l38.29"></a><span id="l38.29" class="difflineplus">+                    case locale.headEndTime: args.endTimeIndex = i; knownIndxs++; break;</span>
<a href="#l38.30"></a><span id="l38.30" class="difflineplus">+                    case locale.headAllDayEvent: args.allDayIndex = i; knownIndxs++; break;</span>
<a href="#l38.31"></a><span id="l38.31" class="difflineplus">+                    case locale.headAlarm: args.alarmIndex = i; knownIndxs++; break;</span>
<a href="#l38.32"></a><span id="l38.32" class="difflineplus">+                    case locale.headAlarmDate: args.alarmDateIndex = i; knownIndxs++; break;</span>
<a href="#l38.33"></a><span id="l38.33" class="difflineplus">+                    case locale.headAlarmTime: args.alarmTimeIndex = i; knownIndxs++; break;</span>
<a href="#l38.34"></a><span id="l38.34" class="difflineplus">+                    case locale.headCategories: args.categoriesIndex = i; knownIndxs++; break;</span>
<a href="#l38.35"></a><span id="l38.35" class="difflineplus">+                    case locale.headDescription: args.descriptionIndex = i; knownIndxs++; break;</span>
<a href="#l38.36"></a><span id="l38.36" class="difflineplus">+                    case locale.headLocation: args.locationIndex = i; knownIndxs++; break;</span>
<a href="#l38.37"></a><span id="l38.37" class="difflineplus">+                    case locale.headPrivate: args.privateIndex = i; knownIndxs++; break;</span>
<a href="#l38.38"></a><span id="l38.38">                 }</span>
<a href="#l38.39"></a><span id="l38.39">             }</span>
<a href="#l38.40"></a><span id="l38.40">             // Were both mandatory fields recognized?</span>
<a href="#l38.41"></a><span id="l38.41">             if (args.titleIndex != 0 &amp;&amp; args.startDateIndex != 0) {</span>
<a href="#l38.42"></a><span id="l38.42">                 break;</span>
<a href="#l38.43"></a><span id="l38.43">             }</span>
<a href="#l38.44"></a><span id="l38.44">         }</span>
<a href="#l38.45"></a><span id="l38.45"> </span>
<a href="#l38.46"></a><span id="l38.46" class="difflineat">@@ -289,17 +289,17 @@ calOutlookCSVImporter.prototype = {</span>
<a href="#l38.47"></a><span id="l38.47">                             eDate = sDate.clone();</span>
<a href="#l38.48"></a><span id="l38.48">                             eDate.day += 1;</span>
<a href="#l38.49"></a><span id="l38.49">                         }</span>
<a href="#l38.50"></a><span id="l38.50">                     } else {</span>
<a href="#l38.51"></a><span id="l38.51">                         // We now have a timed startDate and an endDate. If the</span>
<a href="#l38.52"></a><span id="l38.52">                         // end time is invalid set it to 23:59:00</span>
<a href="#l38.53"></a><span id="l38.53">                         if (eDate.isDate) {</span>
<a href="#l38.54"></a><span id="l38.54">                             eDate.isDate = false;</span>
<a href="#l38.55"></a><span id="l38.55" class="difflineminus">-                            eDate.hour   = 23;</span>
<a href="#l38.56"></a><span id="l38.56" class="difflineplus">+                            eDate.hour = 23;</span>
<a href="#l38.57"></a><span id="l38.57">                             eDate.minute = 59;</span>
<a href="#l38.58"></a><span id="l38.58">                         }</span>
<a href="#l38.59"></a><span id="l38.59">                         // Correct the duration to 0 seconds if it is negative.</span>
<a href="#l38.60"></a><span id="l38.60">                         if (eDate.subtractDate(sDate).isNegative ) {</span>
<a href="#l38.61"></a><span id="l38.61">                             eDate = sDate.clone();</span>
<a href="#l38.62"></a><span id="l38.62">                         }</span>
<a href="#l38.63"></a><span id="l38.63">                     }</span>
<a href="#l38.64"></a><span id="l38.64">                 }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/calendar/import-export/calWeekPrinter.js</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/calendar/import-export/calWeekPrinter.js</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -114,17 +114,17 @@ calWeekPrinter.prototype = {</span>
<a href="#l39.4"></a><span id="l39.4">         let weekTitle = cal.calGetString(&quot;calendar&quot;, 'WeekTitle', [weekno]);</span>
<a href="#l39.5"></a><span id="l39.5">         currentPage.querySelector(&quot;.week-number&quot;).textContent = weekTitle;</span>
<a href="#l39.6"></a><span id="l39.6"> </span>
<a href="#l39.7"></a><span id="l39.7">         // Set up the day boxes</span>
<a href="#l39.8"></a><span id="l39.8">         let endOfWeek = weekInfo.getEndOfWeek(startOfWeek);</span>
<a href="#l39.9"></a><span id="l39.9">         for (let currentDate = startOfWeek.clone(); currentDate.compare(endOfWeek) &lt;= 0; currentDate.day++) {</span>
<a href="#l39.10"></a><span id="l39.10">             let weekday = currentDate.weekday;</span>
<a href="#l39.11"></a><span id="l39.11">             let weekdayName = weekdayMap[weekday];</span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-            let dayOffPrefName = &quot;calendar.week.d&quot; +  weekday + weekdayName + &quot;soff&quot;;</span>
<a href="#l39.13"></a><span id="l39.13" class="difflineplus">+            let dayOffPrefName = &quot;calendar.week.d&quot; + weekday + weekdayName + &quot;soff&quot;;</span>
<a href="#l39.14"></a><span id="l39.14">             dayTable[cal.print.getDateKey(currentDate)] = currentPage.querySelector(&quot;.&quot; + weekdayName + &quot;-container&quot;);</span>
<a href="#l39.15"></a><span id="l39.15"> </span>
<a href="#l39.16"></a><span id="l39.16">             let titleNode = currentPage.querySelector(&quot;.&quot; + weekdayName + &quot;-title&quot;);</span>
<a href="#l39.17"></a><span id="l39.17">             titleNode.textContent = dateFormatter.formatDateLong(currentDate.getInTimezone(defaultTimezone));</span>
<a href="#l39.18"></a><span id="l39.18"> </span>
<a href="#l39.19"></a><span id="l39.19">             if (Preferences.get(dayOffPrefName, false)) {</span>
<a href="#l39.20"></a><span id="l39.20">                 let daysOffNode = currentPage.querySelector(&quot;.&quot; + weekdayName + &quot;-box&quot;);</span>
<a href="#l39.21"></a><span id="l39.21">                 daysOffNode.className += &quot; day-off&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/calendar/itip/calItipEmailTransport.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/calendar/itip/calItipEmailTransport.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -400,18 +400,18 @@ calItipEmailTransport.prototype = {</span>
<a href="#l40.4"></a><span id="l40.4">             let tempFile = Services.dirsvc.get(&quot;TmpD&quot;, Components.interfaces.nsIFile);</span>
<a href="#l40.5"></a><span id="l40.5">             tempFile.append(&quot;itipTemp&quot;);</span>
<a href="#l40.6"></a><span id="l40.6">             tempFile.createUnique(Components.interfaces.nsIFile.NORMAL_FILE_TYPE,</span>
<a href="#l40.7"></a><span id="l40.7">                                   parseInt(&quot;0600&quot;, 8));</span>
<a href="#l40.8"></a><span id="l40.8"> </span>
<a href="#l40.9"></a><span id="l40.9">             let outputStream = Components.classes[&quot;@mozilla.org/network/file-output-stream;1&quot;]</span>
<a href="#l40.10"></a><span id="l40.10">                                          .createInstance(Components.interfaces.nsIFileOutputStream);</span>
<a href="#l40.11"></a><span id="l40.11">             // Let's write the file - constants from file-utils.js</span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-            const MODE_WRONLY   = 0x02;</span>
<a href="#l40.13"></a><span id="l40.13" class="difflineminus">-            const MODE_CREATE   = 0x08;</span>
<a href="#l40.14"></a><span id="l40.14" class="difflineplus">+            const MODE_WRONLY = 0x02;</span>
<a href="#l40.15"></a><span id="l40.15" class="difflineplus">+            const MODE_CREATE = 0x08;</span>
<a href="#l40.16"></a><span id="l40.16">             const MODE_TRUNCATE = 0x20;</span>
<a href="#l40.17"></a><span id="l40.17">             outputStream.init(tempFile,</span>
<a href="#l40.18"></a><span id="l40.18">                               MODE_WRONLY | MODE_CREATE | MODE_TRUNCATE,</span>
<a href="#l40.19"></a><span id="l40.19">                               parseInt(&quot;0600&quot;, 8),</span>
<a href="#l40.20"></a><span id="l40.20">                               0);</span>
<a href="#l40.21"></a><span id="l40.21">             outputStream.write(mailText, mailText.length);</span>
<a href="#l40.22"></a><span id="l40.22">             outputStream.close();</span>
<a href="#l40.23"></a><span id="l40.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/calendar/lightning/content/imip-bar.js</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/calendar/lightning/content/imip-bar.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -89,17 +89,17 @@ var ltnImipBar = {</span>
<a href="#l41.4"></a><span id="l41.4">                 return;</span>
<a href="#l41.5"></a><span id="l41.5">             }</span>
<a href="#l41.6"></a><span id="l41.6"> </span>
<a href="#l41.7"></a><span id="l41.7">             let imipMethod = gMessageDisplay.displayedMessage.getStringProperty(&quot;imip_method&quot;);</span>
<a href="#l41.8"></a><span id="l41.8">             cal.itip.initItemFromMsgData(itipItem, imipMethod, gMessageDisplay.displayedMessage);</span>
<a href="#l41.9"></a><span id="l41.9"> </span>
<a href="#l41.10"></a><span id="l41.10">             let imipBar = document.getElementById(&quot;imip-bar&quot;);</span>
<a href="#l41.11"></a><span id="l41.11">             imipBar.setAttribute(&quot;collapsed&quot;, &quot;false&quot;);</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-            imipBar.setAttribute(&quot;label&quot;,  cal.itip.getMethodText(itipItem.receivedMethod));</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineplus">+            imipBar.setAttribute(&quot;label&quot;, cal.itip.getMethodText(itipItem.receivedMethod));</span>
<a href="#l41.14"></a><span id="l41.14"> </span>
<a href="#l41.15"></a><span id="l41.15">             ltnImipBar.msgOverlay = msgOverlay;</span>
<a href="#l41.16"></a><span id="l41.16"> </span>
<a href="#l41.17"></a><span id="l41.17">             cal.itip.processItipItem(itipItem, ltnImipBar.setupOptions);</span>
<a href="#l41.18"></a><span id="l41.18">         }</span>
<a href="#l41.19"></a><span id="l41.19">     },</span>
<a href="#l41.20"></a><span id="l41.20"> </span>
<a href="#l41.21"></a><span id="l41.21">     /**</span>
<a href="#l41.22"></a><span id="l41.22" class="difflineat">@@ -189,17 +189,17 @@ var ltnImipBar = {</span>
<a href="#l41.23"></a><span id="l41.23">      *</span>
<a href="#l41.24"></a><span id="l41.24">      * @param itipItem      The iTIP item to set up for</span>
<a href="#l41.25"></a><span id="l41.25">      * @param rc            The status code from processing</span>
<a href="#l41.26"></a><span id="l41.26">      * @param actionFunc    The action function called for execution</span>
<a href="#l41.27"></a><span id="l41.27">      * @param foundItems    An array of items found while searching for the item</span>
<a href="#l41.28"></a><span id="l41.28">      *                      in subscribed calendars</span>
<a href="#l41.29"></a><span id="l41.29">      */</span>
<a href="#l41.30"></a><span id="l41.30">     setupOptions: function setupOptions(itipItem, rc, actionFunc, foundItems) {</span>
<a href="#l41.31"></a><span id="l41.31" class="difflineminus">-        let imipBar =  document.getElementById(&quot;imip-bar&quot;);</span>
<a href="#l41.32"></a><span id="l41.32" class="difflineplus">+        let imipBar = document.getElementById(&quot;imip-bar&quot;);</span>
<a href="#l41.33"></a><span id="l41.33">         let data = cal.itip.getOptionsText(itipItem, rc, actionFunc, foundItems);</span>
<a href="#l41.34"></a><span id="l41.34"> </span>
<a href="#l41.35"></a><span id="l41.35">         if (Components.isSuccessCode(rc)) {</span>
<a href="#l41.36"></a><span id="l41.36">             ltnImipBar.itipItem = itipItem;</span>
<a href="#l41.37"></a><span id="l41.37">             ltnImipBar.actionFunc = actionFunc;</span>
<a href="#l41.38"></a><span id="l41.38">             ltnImipBar.foundItems = foundItems;</span>
<a href="#l41.39"></a><span id="l41.39">         }</span>
<a href="#l41.40"></a><span id="l41.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/calendar/lightning/modules/ltnInvitationUtils.jsm</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/calendar/lightning/modules/ltnInvitationUtils.jsm</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -112,17 +112,17 @@ ltn.invitation = {</span>
<a href="#l42.4"></a><span id="l42.4"> </span>
<a href="#l42.5"></a><span id="l42.5">         field(&quot;summary&quot;, aEvent.title);</span>
<a href="#l42.6"></a><span id="l42.6">         field(&quot;location&quot;, aEvent.getProperty(&quot;LOCATION&quot;));</span>
<a href="#l42.7"></a><span id="l42.7"> </span>
<a href="#l42.8"></a><span id="l42.8">         let dateString = formatter.formatItemInterval(aEvent);</span>
<a href="#l42.9"></a><span id="l42.9"> </span>
<a href="#l42.10"></a><span id="l42.10">         if (aEvent.recurrenceInfo) {</span>
<a href="#l42.11"></a><span id="l42.11">             let kDefaultTimezone = cal.calendarDefaultTimezone();</span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-            let startDate =  aEvent.startDate;</span>
<a href="#l42.13"></a><span id="l42.13" class="difflineplus">+            let startDate = aEvent.startDate;</span>
<a href="#l42.14"></a><span id="l42.14">             let endDate = aEvent.endDate;</span>
<a href="#l42.15"></a><span id="l42.15">             startDate = startDate ? startDate.getInTimezone(kDefaultTimezone) : null;</span>
<a href="#l42.16"></a><span id="l42.16">             endDate = endDate ? endDate.getInTimezone(kDefaultTimezone) : null;</span>
<a href="#l42.17"></a><span id="l42.17">             let repeatString = recurrenceRule2String(aEvent.recurrenceInfo, startDate,</span>
<a href="#l42.18"></a><span id="l42.18">                                                      endDate, startDate.isDate);</span>
<a href="#l42.19"></a><span id="l42.19">             if (repeatString) {</span>
<a href="#l42.20"></a><span id="l42.20">                 dateString = repeatString;</span>
<a href="#l42.21"></a><span id="l42.21">             }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -2050,17 +2050,17 @@ calDavCalendar.prototype = {</span>
<a href="#l43.4"></a><span id="l43.4">             xmlHeader +</span>
<a href="#l43.5"></a><span id="l43.5">             '&lt;D:propfind xmlns:D=&quot;DAV:&quot;&gt;' +</span>
<a href="#l43.6"></a><span id="l43.6">               '&lt;D:prop&gt;' +</span>
<a href="#l43.7"></a><span id="l43.7">                 '&lt;D:principal-collection-set/&gt;' +</span>
<a href="#l43.8"></a><span id="l43.8">               '&lt;/D:prop&gt;' +</span>
<a href="#l43.9"></a><span id="l43.9">             '&lt;/D:propfind&gt;';</span>
<a href="#l43.10"></a><span id="l43.10"> </span>
<a href="#l43.11"></a><span id="l43.11">         if (this.verboseLogging()) {</span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-            cal.LOG(&quot;CalDAV: send: &quot; + homeSet.spec + &quot;\n&quot;  + queryXml);</span>
<a href="#l43.13"></a><span id="l43.13" class="difflineplus">+            cal.LOG(&quot;CalDAV: send: &quot; + homeSet.spec + &quot;\n&quot; + queryXml);</span>
<a href="#l43.14"></a><span id="l43.14">         }</span>
<a href="#l43.15"></a><span id="l43.15">         var streamListener = {};</span>
<a href="#l43.16"></a><span id="l43.16">         streamListener.onStreamComplete =</span>
<a href="#l43.17"></a><span id="l43.17">             function findInOutboxes_oSC(aLoader, aContext, aStatus,</span>
<a href="#l43.18"></a><span id="l43.18">                                          aResultLength, aResult) {</span>
<a href="#l43.19"></a><span id="l43.19">             let request = aLoader.request.QueryInterface(Components.interfaces.nsIHttpChannel);</span>
<a href="#l43.20"></a><span id="l43.20">             if (request.responseStatus != 207) {</span>
<a href="#l43.21"></a><span id="l43.21">                 cal.LOG(&quot;CalDAV: Unexpected status &quot; + request.responseStatus +</span>
<a href="#l43.22"></a><span id="l43.22" class="difflineat">@@ -2307,17 +2307,17 @@ calDavCalendar.prototype = {</span>
<a href="#l43.23"></a><span id="l43.23">      * findPrincipalNS</span>
<a href="#l43.24"></a><span id="l43.24">      * checkPrincipalsNameSpace</span>
<a href="#l43.25"></a><span id="l43.25">      * completeCheckServerInfo                      * You are here</span>
<a href="#l43.26"></a><span id="l43.26">      */</span>
<a href="#l43.27"></a><span id="l43.27">     completeCheckServerInfo: function caldav_completeCheckServerInfo(aChangeLogListener, aError) {</span>
<a href="#l43.28"></a><span id="l43.28">         if (Components.isSuccessCode(aError)) {</span>
<a href="#l43.29"></a><span id="l43.29">             // &quot;undefined&quot; is a successcode, so all is good</span>
<a href="#l43.30"></a><span id="l43.30">             this.saveCalendarProperties();</span>
<a href="#l43.31"></a><span id="l43.31" class="difflineminus">-            this.checkedServerInfo  = true;</span>
<a href="#l43.32"></a><span id="l43.32" class="difflineplus">+            this.checkedServerInfo = true;</span>
<a href="#l43.33"></a><span id="l43.33">             this.setProperty(&quot;currentStatus&quot;, Components.results.NS_OK);</span>
<a href="#l43.34"></a><span id="l43.34"> </span>
<a href="#l43.35"></a><span id="l43.35">             if (this.isCached) {</span>
<a href="#l43.36"></a><span id="l43.36">                 this.safeRefresh(aChangeLogListener);</span>
<a href="#l43.37"></a><span id="l43.37">             } else {</span>
<a href="#l43.38"></a><span id="l43.38">                 this.refresh();</span>
<a href="#l43.39"></a><span id="l43.39">             }</span>
<a href="#l43.40"></a><span id="l43.40">         } else {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/calendar/providers/caldav/calDavRequestHandlers.js</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/calendar/providers/caldav/calDavRequestHandlers.js</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -538,17 +538,17 @@ webDavSyncHandler.prototype = {</span>
<a href="#l44.4"></a><span id="l44.4">         switch (aLocalName) {</span>
<a href="#l44.5"></a><span id="l44.5">             case &quot;response&quot;: // WebDAV Sync draft 3</span>
<a href="#l44.6"></a><span id="l44.6">             case &quot;sync-response&quot;: // WebDAV Sync draft 0,1,2</span>
<a href="#l44.7"></a><span id="l44.7">                 let r = this.currentResponse;</span>
<a href="#l44.8"></a><span id="l44.8">                 if (r.href &amp;&amp; r.href.length) {</span>
<a href="#l44.9"></a><span id="l44.9">                     r.href = this.calendar.ensureDecodedPath(r.href);</span>
<a href="#l44.10"></a><span id="l44.10">                 }</span>
<a href="#l44.11"></a><span id="l44.11"> </span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-                if ((!r.getcontenttype || r.getcontenttype == &quot;text/plain&quot;)  &amp;&amp;</span>
<a href="#l44.13"></a><span id="l44.13" class="difflineplus">+                if ((!r.getcontenttype || r.getcontenttype == &quot;text/plain&quot;) &amp;&amp;</span>
<a href="#l44.14"></a><span id="l44.14">                     r.href &amp;&amp;</span>
<a href="#l44.15"></a><span id="l44.15">                     r.href.endsWith(&quot;.ics&quot;)) {</span>
<a href="#l44.16"></a><span id="l44.16">                   // If there is no content-type (iCloud) or text/plain was passed</span>
<a href="#l44.17"></a><span id="l44.17">                   // (iCal Server) for the resource but its name ends with &quot;.ics&quot;</span>
<a href="#l44.18"></a><span id="l44.18">                   // assume the content type to be text/calendar. Apple</span>
<a href="#l44.19"></a><span id="l44.19">                   // iCloud/iCal Server interoperability fix.</span>
<a href="#l44.20"></a><span id="l44.20">                   r.getcontenttype = &quot;text/calendar&quot;;</span>
<a href="#l44.21"></a><span id="l44.21">                 }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -214,17 +214,17 @@ calCompositeCalendar.prototype = {</span>
<a href="#l45.4"></a><span id="l45.4">         if (calendar &amp;&amp; this.mDefaultCalendar &amp;&amp; this.mDefaultCalendar.id == calendar.id) {</span>
<a href="#l45.5"></a><span id="l45.5">             return;</span>
<a href="#l45.6"></a><span id="l45.6">         }</span>
<a href="#l45.7"></a><span id="l45.7">         if (usePref &amp;&amp; this.mPrefPrefix) {</span>
<a href="#l45.8"></a><span id="l45.8">             if (this.mDefaultCalendar) {</span>
<a href="#l45.9"></a><span id="l45.9">                 this.mDefaultCalendar.deleteProperty(this.mDefaultPref);</span>
<a href="#l45.10"></a><span id="l45.10">             }</span>
<a href="#l45.11"></a><span id="l45.11">             // if not null set the new calendar as default in the preferences</span>
<a href="#l45.12"></a><span id="l45.12" class="difflineminus">-            if (calendar)  {</span>
<a href="#l45.13"></a><span id="l45.13" class="difflineplus">+            if (calendar) {</span>
<a href="#l45.14"></a><span id="l45.14">                 calendar.setProperty(this.mDefaultPref, true);</span>
<a href="#l45.15"></a><span id="l45.15">             }</span>
<a href="#l45.16"></a><span id="l45.16">         }</span>
<a href="#l45.17"></a><span id="l45.17">         this.mDefaultCalendar = calendar;</span>
<a href="#l45.18"></a><span id="l45.18">         this.mCompositeObservers.notify(&quot;onDefaultCalendarChanged&quot;, [calendar]);</span>
<a href="#l45.19"></a><span id="l45.19">     },</span>
<a href="#l45.20"></a><span id="l45.20"> </span>
<a href="#l45.21"></a><span id="l45.21">     set defaultCalendar(v) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -320,17 +320,17 @@ calICSCalendar.prototype = {</span>
<a href="#l46.4"></a><span id="l46.4">         var savedthis = this;</span>
<a href="#l46.5"></a><span id="l46.5">         var listener =</span>
<a href="#l46.6"></a><span id="l46.6">         {</span>
<a href="#l46.7"></a><span id="l46.7">             serializer: null,</span>
<a href="#l46.8"></a><span id="l46.8">             QueryInterface: XPCOMUtils.generateQI([Components.interfaces.calIOperationListener]),</span>
<a href="#l46.9"></a><span id="l46.9">             onOperationComplete: function(aCalendar, aStatus, aOperationType, aId, aDetail)</span>
<a href="#l46.10"></a><span id="l46.10">             {</span>
<a href="#l46.11"></a><span id="l46.11">                 var inLastWindowClosingSurvivalArea = false;</span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-                try  {</span>
<a href="#l46.13"></a><span id="l46.13" class="difflineplus">+                try {</span>
<a href="#l46.14"></a><span id="l46.14">                     // All events are returned. Now set up a channel and a</span>
<a href="#l46.15"></a><span id="l46.15">                     // streamloader to upload.  onStopRequest will be called</span>
<a href="#l46.16"></a><span id="l46.16">                     // once the write has finished</span>
<a href="#l46.17"></a><span id="l46.17">                     var channel = Services.io.newChannelFromURI2(savedthis.mUri,</span>
<a href="#l46.18"></a><span id="l46.18">                                                                  null,</span>
<a href="#l46.19"></a><span id="l46.19">                                                                  Services.scriptSecurityManager.getSystemPrincipal(),</span>
<a href="#l46.20"></a><span id="l46.20">                                                                  null,</span>
<a href="#l46.21"></a><span id="l46.21">                                                                  Components.interfaces.nsILoadInfo.SEC_NORMAL,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -446,17 +446,17 @@ calMemoryCalendar.prototype = {</span>
<a href="#l47.4"></a><span id="l47.4">             // If the offline flag doesn't match, skip the item</span>
<a href="#l47.5"></a><span id="l47.5">             if ((hasItemFlag ||</span>
<a href="#l47.6"></a><span id="l47.6">                     (offline_filter != 0 &amp;&amp; offlineFlag == cICL.OFFLINE_FLAG_DELETED_RECORD)) &amp;&amp;</span>
<a href="#l47.7"></a><span id="l47.7">                 (offlineFlag != offline_filter)) {</span>
<a href="#l47.8"></a><span id="l47.8">                 return cal.forEach.CONTINUE;</span>
<a href="#l47.9"></a><span id="l47.9">             }</span>
<a href="#l47.10"></a><span id="l47.10"> </span>
<a href="#l47.11"></a><span id="l47.11">             if (itemReturnOccurrences &amp;&amp; item.recurrenceInfo) {</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineminus">-                let startDate  = aRangeStart;</span>
<a href="#l47.13"></a><span id="l47.13" class="difflineplus">+                let startDate = aRangeStart;</span>
<a href="#l47.14"></a><span id="l47.14">                 if (!aRangeStart &amp;&amp; cal.isToDo(item)) {</span>
<a href="#l47.15"></a><span id="l47.15">                     startDate = item.entryDate;</span>
<a href="#l47.16"></a><span id="l47.16">                 }</span>
<a href="#l47.17"></a><span id="l47.17">                 let occurrences = item.recurrenceInfo.getOccurrences(</span>
<a href="#l47.18"></a><span id="l47.18">                     startDate, aRangeEnd, aCount ? aCount - itemsFound.length : 0, {});</span>
<a href="#l47.19"></a><span id="l47.19">                 if (wantUnrespondedInvitations) {</span>
<a href="#l47.20"></a><span id="l47.20">                     occurrences = occurrences.filter(checkUnrespondedInvitation);</span>
<a href="#l47.21"></a><span id="l47.21">                 }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -233,19 +233,19 @@ calStorageCalendar.prototype = {</span>
<a href="#l48.4"></a><span id="l48.4">                 try {</span>
<a href="#l48.5"></a><span id="l48.5">                     // hold lock on storage.sdb until we've migrated data from storage.sdb:</span>
<a href="#l48.6"></a><span id="l48.6">                     this.mDB.beginTransactionAs(Components.interfaces.mozIStorageConnection.TRANSACTION_EXCLUSIVE);</span>
<a href="#l48.7"></a><span id="l48.7">                     try {</span>
<a href="#l48.8"></a><span id="l48.8">                         if (this.mDB.tableExists(&quot;cal_events&quot;)) { // check again (with lock)</span>
<a href="#l48.9"></a><span id="l48.9">                             // take over data and drop from storage.sdb tables:</span>
<a href="#l48.10"></a><span id="l48.10">                             for (let table in getSqlTable(DB_SCHEMA_VERSION)) {</span>
<a href="#l48.11"></a><span id="l48.11">                                 if (table.substr(0, 4) != &quot;idx_&quot;) {</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineminus">-                                    this.mDB.executeSimpleSQL(&quot;CREATE TABLE local_sqlite.&quot; +  table +</span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+                                    this.mDB.executeSimpleSQL(&quot;CREATE TABLE local_sqlite.&quot; + table +</span>
<a href="#l48.14"></a><span id="l48.14">                                                               &quot; AS SELECT * FROM &quot; + table +</span>
<a href="#l48.15"></a><span id="l48.15" class="difflineminus">-                                                              &quot;; DROP TABLE IF EXISTS &quot; +  table);</span>
<a href="#l48.16"></a><span id="l48.16" class="difflineplus">+                                                              &quot;; DROP TABLE IF EXISTS &quot; + table);</span>
<a href="#l48.17"></a><span id="l48.17">                                 }</span>
<a href="#l48.18"></a><span id="l48.18">                             }</span>
<a href="#l48.19"></a><span id="l48.19">                             this.mDB.commitTransaction();</span>
<a href="#l48.20"></a><span id="l48.20">                         } else { // migration done in the meantime</span>
<a href="#l48.21"></a><span id="l48.21">                             this.mDB.rollbackTransaction();</span>
<a href="#l48.22"></a><span id="l48.22">                         }</span>
<a href="#l48.23"></a><span id="l48.23">                     } catch (exc) {</span>
<a href="#l48.24"></a><span id="l48.24">                         this.logError(&quot;prepareInitDB storage.sdb migration exception&quot;, exc);</span>
<a href="#l48.25"></a><span id="l48.25" class="difflineat">@@ -988,29 +988,29 @@ calStorageCalendar.prototype = {</span>
<a href="#l48.26"></a><span id="l48.26">         let aID = aItem.id;</span>
<a href="#l48.27"></a><span id="l48.27">         if (cal.isEvent(aItem)) {</span>
<a href="#l48.28"></a><span id="l48.28">             this.prepareStatement(this.mEditEventOfflineFlag);</span>
<a href="#l48.29"></a><span id="l48.29">             this.mEditEventOfflineFlag.params.id = aID;</span>
<a href="#l48.30"></a><span id="l48.30">             this.mEditEventOfflineFlag.params.offline_journal = flag || null;</span>
<a href="#l48.31"></a><span id="l48.31">             try {</span>
<a href="#l48.32"></a><span id="l48.32">                 this.mEditEventOfflineFlag.executeStep();</span>
<a href="#l48.33"></a><span id="l48.33">             } catch (e) {</span>
<a href="#l48.34"></a><span id="l48.34" class="difflineminus">-                this.logError(&quot;Error setting offline journal flag for &quot;  + aItem.title, e);</span>
<a href="#l48.35"></a><span id="l48.35" class="difflineplus">+                this.logError(&quot;Error setting offline journal flag for &quot; + aItem.title, e);</span>
<a href="#l48.36"></a><span id="l48.36">             } finally {</span>
<a href="#l48.37"></a><span id="l48.37">                 this.mEditEventOfflineFlag.reset();</span>
<a href="#l48.38"></a><span id="l48.38">             }</span>
<a href="#l48.39"></a><span id="l48.39"> </span>
<a href="#l48.40"></a><span id="l48.40">         } else if (cal.isToDo(aItem)) {</span>
<a href="#l48.41"></a><span id="l48.41">             this.prepareStatement(this.mEditTodoOfflineFlag);</span>
<a href="#l48.42"></a><span id="l48.42">             this.mEditTodoOfflineFlag.params.id = aID;</span>
<a href="#l48.43"></a><span id="l48.43">             this.mEditTodoOfflineFlag.params.offline_journal = flag || null;</span>
<a href="#l48.44"></a><span id="l48.44">             try {</span>
<a href="#l48.45"></a><span id="l48.45">                 this.mEditTodoOfflineFlag.executeStep();</span>
<a href="#l48.46"></a><span id="l48.46">             } catch (e) {</span>
<a href="#l48.47"></a><span id="l48.47" class="difflineminus">-                this.logError(&quot;Error setting offline journal flag for &quot;  + aItem.title, e);</span>
<a href="#l48.48"></a><span id="l48.48" class="difflineplus">+                this.logError(&quot;Error setting offline journal flag for &quot; + aItem.title, e);</span>
<a href="#l48.49"></a><span id="l48.49">             } finally {</span>
<a href="#l48.50"></a><span id="l48.50">                 this.mEditTodoOfflineFlag.reset();</span>
<a href="#l48.51"></a><span id="l48.51">             }</span>
<a href="#l48.52"></a><span id="l48.52">         }</span>
<a href="#l48.53"></a><span id="l48.53">     },</span>
<a href="#l48.54"></a><span id="l48.54"> </span>
<a href="#l48.55"></a><span id="l48.55">     //</span>
<a href="#l48.56"></a><span id="l48.56">     // calIOfflineStorage interface</span>
<a href="#l48.57"></a><span id="l48.57" class="difflineat">@@ -2208,17 +2208,17 @@ calStorageCalendar.prototype = {</span>
<a href="#l48.58"></a><span id="l48.58">                 for (let exid of exceptions) {</span>
<a href="#l48.59"></a><span id="l48.59">                     let ex = rec.getExceptionFor(exid);</span>
<a href="#l48.60"></a><span id="l48.60">                     if (!ex) {</span>
<a href="#l48.61"></a><span id="l48.61">                         throw Components.results.NS_ERROR_UNEXPECTED;</span>
<a href="#l48.62"></a><span id="l48.62">                     }</span>
<a href="#l48.63"></a><span id="l48.63">                     this.writeItem(ex, null);</span>
<a href="#l48.64"></a><span id="l48.64">                 }</span>
<a href="#l48.65"></a><span id="l48.65">             }</span>
<a href="#l48.66"></a><span id="l48.66" class="difflineminus">-        } else  if (item.recurrenceId &amp;&amp; item.recurrenceId.isDate) {</span>
<a href="#l48.67"></a><span id="l48.67" class="difflineplus">+        } else if (item.recurrenceId &amp;&amp; item.recurrenceId.isDate) {</span>
<a href="#l48.68"></a><span id="l48.68">             flags |= CAL_ITEM_FLAG.RECURRENCE_ID_ALLDAY;</span>
<a href="#l48.69"></a><span id="l48.69">         }</span>
<a href="#l48.70"></a><span id="l48.70"> </span>
<a href="#l48.71"></a><span id="l48.71">         return flags;</span>
<a href="#l48.72"></a><span id="l48.72">     },</span>
<a href="#l48.73"></a><span id="l48.73"> </span>
<a href="#l48.74"></a><span id="l48.74">     writeAttachments: function cSC_writeAttachments(item, olditem) {</span>
<a href="#l48.75"></a><span id="l48.75">         let attachments = item.getAttachments({});</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/calendar/providers/storage/calStorageUpgrade.jsm</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/calendar/providers/storage/calStorageUpgrade.jsm</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -95,18 +95,18 @@ function getSql(tblName, tblData, altern</span>
<a href="#l49.4"></a><span id="l49.4">     let altName = (alternateName || tblName);</span>
<a href="#l49.5"></a><span id="l49.5">     let sql;</span>
<a href="#l49.6"></a><span id="l49.6">     if (tblName.substr(0, 4) == &quot;idx_&quot;) {</span>
<a href="#l49.7"></a><span id="l49.7">         // If this is an index, we need construct the SQL differently</span>
<a href="#l49.8"></a><span id="l49.8">         let idxTbl = tblData[tblName].shift();</span>
<a href="#l49.9"></a><span id="l49.9">         let idxOn = idxTbl + &quot;(&quot; + tblData[tblName].join(&quot;,&quot;) + &quot;)&quot;;</span>
<a href="#l49.10"></a><span id="l49.10">         sql = &quot;CREATE INDEX &quot; + altName + &quot; ON &quot; + idxOn + &quot;;&quot;;</span>
<a href="#l49.11"></a><span id="l49.11">     } else {</span>
<a href="#l49.12"></a><span id="l49.12" class="difflineminus">-        sql = &quot;CREATE TABLE &quot; + altName  + &quot; (\n&quot;;</span>
<a href="#l49.13"></a><span id="l49.13" class="difflineminus">-        for (let [key, type] in Iterator(tblData[tblName]))  {</span>
<a href="#l49.14"></a><span id="l49.14" class="difflineplus">+        sql = &quot;CREATE TABLE &quot; + altName + &quot; (\n&quot;;</span>
<a href="#l49.15"></a><span id="l49.15" class="difflineplus">+        for (let [key, type] in Iterator(tblData[tblName])) {</span>
<a href="#l49.16"></a><span id="l49.16">             sql += &quot;    &quot; + key + &quot; &quot; + type + &quot;,\n&quot;;</span>
<a href="#l49.17"></a><span id="l49.17">         }</span>
<a href="#l49.18"></a><span id="l49.18">     }</span>
<a href="#l49.19"></a><span id="l49.19"> </span>
<a href="#l49.20"></a><span id="l49.20">     return sql.replace(/,\s*$/, &quot;);&quot;);</span>
<a href="#l49.21"></a><span id="l49.21"> }</span>
<a href="#l49.22"></a><span id="l49.22"> </span>
<a href="#l49.23"></a><span id="l49.23"> /**</span>
<a href="#l49.24"></a><span id="l49.24" class="difflineat">@@ -867,19 +867,19 @@ upgrade.v6 = function upgrade_v6(db, ver</span>
<a href="#l49.25"></a><span id="l49.25">                          &quot;todo_due_tz&quot;, &quot;todo_completed_tz&quot;,</span>
<a href="#l49.26"></a><span id="l49.26">                          &quot;alarm_time_tz&quot;];</span>
<a href="#l49.27"></a><span id="l49.27">         alterTypes(tbl, &quot;cal_todos&quot;, todoCols, &quot;TEXT&quot;, db);</span>
<a href="#l49.28"></a><span id="l49.28"> </span>
<a href="#l49.29"></a><span id="l49.29">         let attendeeCols = [&quot;item_id&quot;, &quot;recurrence_id_tz&quot;, &quot;attendee_id&quot;,</span>
<a href="#l49.30"></a><span id="l49.30">                             &quot;common_name&quot;, &quot;role&quot;, &quot;status&quot;, &quot;type&quot;];</span>
<a href="#l49.31"></a><span id="l49.31">         alterTypes(tbl, &quot;cal_attendees&quot;, attendeeCols, &quot;TEXT&quot;, db);</span>
<a href="#l49.32"></a><span id="l49.32"> </span>
<a href="#l49.33"></a><span id="l49.33" class="difflineminus">-        let recurrenceCols =  [&quot;item_id&quot;, &quot;recur_type&quot;, &quot;dates&quot;, &quot;second&quot;,</span>
<a href="#l49.34"></a><span id="l49.34" class="difflineminus">-                               &quot;minute&quot;, &quot;hour&quot;, &quot;day&quot;, &quot;monthday&quot;, &quot;yearday&quot;,</span>
<a href="#l49.35"></a><span id="l49.35" class="difflineminus">-                               &quot;weekno&quot;, &quot;month&quot;, &quot;setpos&quot;];</span>
<a href="#l49.36"></a><span id="l49.36" class="difflineplus">+        let recurrenceCols = [&quot;item_id&quot;, &quot;recur_type&quot;, &quot;dates&quot;, &quot;second&quot;,</span>
<a href="#l49.37"></a><span id="l49.37" class="difflineplus">+                              &quot;minute&quot;, &quot;hour&quot;, &quot;day&quot;, &quot;monthday&quot;, &quot;yearday&quot;,</span>
<a href="#l49.38"></a><span id="l49.38" class="difflineplus">+                              &quot;weekno&quot;, &quot;month&quot;, &quot;setpos&quot;];</span>
<a href="#l49.39"></a><span id="l49.39">         alterTypes(tbl, &quot;cal_recurrence&quot;, recurrenceCols, &quot;TEXT&quot;, db);</span>
<a href="#l49.40"></a><span id="l49.40"> </span>
<a href="#l49.41"></a><span id="l49.41">         let propertyCols = [&quot;item_id&quot;, &quot;recurrence_id_tz&quot;, &quot;key&quot;];</span>
<a href="#l49.42"></a><span id="l49.42">         alterTypes(tbl, &quot;cal_properties&quot;, propertyCols, &quot;TEXT&quot;, db);</span>
<a href="#l49.43"></a><span id="l49.43">         setDbVersionAndCommit(db, 6);</span>
<a href="#l49.44"></a><span id="l49.44">     } catch (e) {</span>
<a href="#l49.45"></a><span id="l49.45">         throw reportErrorAndRollback(db, e);</span>
<a href="#l49.46"></a><span id="l49.46">     }</span>
<a href="#l49.47"></a><span id="l49.47" class="difflineat">@@ -1143,20 +1143,20 @@ upgrade.v16 = function upgrade_v16(db, v</span>
<a href="#l49.48"></a><span id="l49.48">             // Note the following two columns were not originally part of the</span>
<a href="#l49.49"></a><span id="l49.49">             // v16 upgrade, see note above function.</span>
<a href="#l49.50"></a><span id="l49.50">             recurrence_id: &quot;INTEGER&quot;,</span>
<a href="#l49.51"></a><span id="l49.51">             recurrence_id_tz: &quot;TEXT&quot;,</span>
<a href="#l49.52"></a><span id="l49.52">             icalString: &quot;TEXT&quot;</span>
<a href="#l49.53"></a><span id="l49.53">         }, db);</span>
<a href="#l49.54"></a><span id="l49.54"> </span>
<a href="#l49.55"></a><span id="l49.55">         let copyDataOver = function copyDataOver(tbl) {</span>
<a href="#l49.56"></a><span id="l49.56" class="difflineminus">-            const transAlarm =  &quot;translateAlarm(alarm_offset, &quot; +</span>
<a href="#l49.57"></a><span id="l49.57" class="difflineminus">-                                               &quot;alarm_related, &quot; +</span>
<a href="#l49.58"></a><span id="l49.58" class="difflineminus">-                                               &quot;alarm_time, &quot; +</span>
<a href="#l49.59"></a><span id="l49.59" class="difflineminus">-                                               &quot;alarm_time_tz)&quot;;</span>
<a href="#l49.60"></a><span id="l49.60" class="difflineplus">+            const transAlarm = &quot;translateAlarm(alarm_offset, &quot; +</span>
<a href="#l49.61"></a><span id="l49.61" class="difflineplus">+                                              &quot;alarm_related, &quot; +</span>
<a href="#l49.62"></a><span id="l49.62" class="difflineplus">+                                              &quot;alarm_time, &quot; +</span>
<a href="#l49.63"></a><span id="l49.63" class="difflineplus">+                                              &quot;alarm_time_tz)&quot;;</span>
<a href="#l49.64"></a><span id="l49.64">             executeSimpleSQL(db, &quot;INSERT INTO cal_alarms (cal_id, item_id,&quot; +</span>
<a href="#l49.65"></a><span id="l49.65">                                  &quot;                        recurrence_id, &quot; +</span>
<a href="#l49.66"></a><span id="l49.66">                                  &quot;                        recurrence_id_tz, &quot; +</span>
<a href="#l49.67"></a><span id="l49.67">                                  &quot;                        icalString)&quot; +</span>
<a href="#l49.68"></a><span id="l49.68">                                  &quot; SELECT cal_id, id, recurrence_id,&quot; +</span>
<a href="#l49.69"></a><span id="l49.69">                                  &quot;        recurrence_id_tz, &quot; + transAlarm +</span>
<a href="#l49.70"></a><span id="l49.70">                                  &quot;   FROM &quot; + tbl +</span>
<a href="#l49.71"></a><span id="l49.71">                                  &quot;  WHERE alarm_offset IS NOT NULL&quot; +</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapCalendarItems.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapCalendarItems.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -269,19 +269,19 @@ function diffProperty(newItem, oldItem, </span>
<a href="#l50.4"></a><span id="l50.4">             val = null;</span>
<a href="#l50.5"></a><span id="l50.5">         }</span>
<a href="#l50.6"></a><span id="l50.6">     }</span>
<a href="#l50.7"></a><span id="l50.7">     return val;</span>
<a href="#l50.8"></a><span id="l50.8"> }</span>
<a href="#l50.9"></a><span id="l50.9"> </span>
<a href="#l50.10"></a><span id="l50.10"> var METHOD_PUBLISH = 1;</span>
<a href="#l50.11"></a><span id="l50.11"> var METHOD_REQUEST = 2;</span>
<a href="#l50.12"></a><span id="l50.12" class="difflineminus">-var METHOD_REPLY   = 4;</span>
<a href="#l50.13"></a><span id="l50.13" class="difflineminus">-var METHOD_CANCEL  = 8;</span>
<a href="#l50.14"></a><span id="l50.14" class="difflineminus">-var METHOD_UPDATE  = 256;</span>
<a href="#l50.15"></a><span id="l50.15" class="difflineplus">+var METHOD_REPLY = 4;</span>
<a href="#l50.16"></a><span id="l50.16" class="difflineplus">+var METHOD_CANCEL = 8;</span>
<a href="#l50.17"></a><span id="l50.17" class="difflineplus">+var METHOD_UPDATE = 256;</span>
<a href="#l50.18"></a><span id="l50.18"> </span>
<a href="#l50.19"></a><span id="l50.19"> calWcapCalendar.prototype.storeItem =</span>
<a href="#l50.20"></a><span id="l50.20"> function calWcapCalendar_storeItem(bAddItem, item, oldItem, request) {</span>
<a href="#l50.21"></a><span id="l50.21">     function getOrgId(item) {</span>
<a href="#l50.22"></a><span id="l50.22">         return (item &amp;&amp; item.organizer &amp;&amp; item.organizer.id ? item.organizer.id : null);</span>
<a href="#l50.23"></a><span id="l50.23">     }</span>
<a href="#l50.24"></a><span id="l50.24">     function encodeAttendees(atts) {</span>
<a href="#l50.25"></a><span id="l50.25">         function attendeeSort(one, two) {</span>
<a href="#l50.26"></a><span id="l50.26" class="difflineat">@@ -475,24 +475,24 @@ function calWcapCalendar_storeItem(bAddI</span>
<a href="#l50.27"></a><span id="l50.27"> </span>
<a href="#l50.28"></a><span id="l50.28">         var icsClass = getPrivacy(item);</span>
<a href="#l50.29"></a><span id="l50.29">         if (!oldItem || icsClass != getPrivacy(oldItem)) {</span>
<a href="#l50.30"></a><span id="l50.30">             params += (&quot;&amp;icsClass=&quot; + icsClass);</span>
<a href="#l50.31"></a><span id="l50.31">         }</span>
<a href="#l50.32"></a><span id="l50.32"> </span>
<a href="#l50.33"></a><span id="l50.33">         if (!oldItem || item.status != oldItem.status) {</span>
<a href="#l50.34"></a><span id="l50.34">             switch (item.status) {</span>
<a href="#l50.35"></a><span id="l50.35" class="difflineminus">-                case &quot;CONFIRMED&quot;:    params += &quot;&amp;status=0&quot;; break;</span>
<a href="#l50.36"></a><span id="l50.36" class="difflineminus">-                case &quot;CANCELLED&quot;:    params += &quot;&amp;status=1&quot;; break;</span>
<a href="#l50.37"></a><span id="l50.37" class="difflineminus">-                case &quot;TENTATIVE&quot;:    params += &quot;&amp;status=2&quot;; break;</span>
<a href="#l50.38"></a><span id="l50.38" class="difflineplus">+                case &quot;CONFIRMED&quot;: params += &quot;&amp;status=0&quot;; break;</span>
<a href="#l50.39"></a><span id="l50.39" class="difflineplus">+                case &quot;CANCELLED&quot;: params += &quot;&amp;status=1&quot;; break;</span>
<a href="#l50.40"></a><span id="l50.40" class="difflineplus">+                case &quot;TENTATIVE&quot;: params += &quot;&amp;status=2&quot;; break;</span>
<a href="#l50.41"></a><span id="l50.41">                 case &quot;NEEDS-ACTION&quot;: params += &quot;&amp;status=3&quot;; break;</span>
<a href="#l50.42"></a><span id="l50.42" class="difflineminus">-                case &quot;COMPLETED&quot;:    params += &quot;&amp;status=4&quot;; break;</span>
<a href="#l50.43"></a><span id="l50.43" class="difflineminus">-                case &quot;IN-PROCESS&quot;:   params += &quot;&amp;status=5&quot;; break;</span>
<a href="#l50.44"></a><span id="l50.44" class="difflineminus">-                case &quot;DRAFT&quot;:        params += &quot;&amp;status=6&quot;; break;</span>
<a href="#l50.45"></a><span id="l50.45" class="difflineminus">-                case &quot;FINAL&quot;:        params += &quot;&amp;status=7&quot;; break;</span>
<a href="#l50.46"></a><span id="l50.46" class="difflineplus">+                case &quot;COMPLETED&quot;: params += &quot;&amp;status=4&quot;; break;</span>
<a href="#l50.47"></a><span id="l50.47" class="difflineplus">+                case &quot;IN-PROCESS&quot;: params += &quot;&amp;status=5&quot;; break;</span>
<a href="#l50.48"></a><span id="l50.48" class="difflineplus">+                case &quot;DRAFT&quot;: params += &quot;&amp;status=6&quot;; break;</span>
<a href="#l50.49"></a><span id="l50.49" class="difflineplus">+                case &quot;FINAL&quot;: params += &quot;&amp;status=7&quot;; break;</span>
<a href="#l50.50"></a><span id="l50.50">                 default: // reset to default</span>
<a href="#l50.51"></a><span id="l50.51">                     params += (bIsEvent ? &quot;&amp;status=0&quot; : &quot;&amp;status=3&quot;);</span>
<a href="#l50.52"></a><span id="l50.52">                     break;</span>
<a href="#l50.53"></a><span id="l50.53">             }</span>
<a href="#l50.54"></a><span id="l50.54">         }</span>
<a href="#l50.55"></a><span id="l50.55"> </span>
<a href="#l50.56"></a><span id="l50.56">         val = diffProperty(item, oldItem, &quot;TRANSP&quot;);</span>
<a href="#l50.57"></a><span id="l50.57">         if (val !== null) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapUtils.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapUtils.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -103,17 +103,17 @@ function log(msg, context, bForce) {</span>
<a href="#l51.4"></a><span id="l51.4">             try {</span>
<a href="#l51.5"></a><span id="l51.5">                 // xxx todo?</span>
<a href="#l51.6"></a><span id="l51.6">                 // assuming ANSI chars here, for logging sufficient:</span>
<a href="#l51.7"></a><span id="l51.7">                 initLogging.mLogFilestream.write(str, str.length);</span>
<a href="#l51.8"></a><span id="l51.8">             } catch (exc) { // catching any io errors here:</span>
<a href="#l51.9"></a><span id="l51.9">                 var err = (&quot;error writing log file: &quot; + errorToString(exc));</span>
<a href="#l51.10"></a><span id="l51.10">                 Components.utils.reportError(exc);</span>
<a href="#l51.11"></a><span id="l51.11">                 Services.console.logStringMessage(err);</span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-                dump(err  + &quot;\n\n&quot;);</span>
<a href="#l51.13"></a><span id="l51.13" class="difflineplus">+                dump(err + &quot;\n\n&quot;);</span>
<a href="#l51.14"></a><span id="l51.14">             }</span>
<a href="#l51.15"></a><span id="l51.15">         }</span>
<a href="#l51.16"></a><span id="l51.16">         return ret;</span>
<a href="#l51.17"></a><span id="l51.17">     } else {</span>
<a href="#l51.18"></a><span id="l51.18">         return msg;</span>
<a href="#l51.19"></a><span id="l51.19">     }</span>
<a href="#l51.20"></a><span id="l51.20"> }</span>
<a href="#l51.21"></a><span id="l51.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -1708,32 +1708,32 @@</span>
<a href="#l52.4"></a><span id="l52.4">             } catch(ex) {</span>
<a href="#l52.5"></a><span id="l52.5">             }</span>
<a href="#l52.6"></a><span id="l52.6"> </span>
<a href="#l52.7"></a><span id="l52.7">             var time = null;</span>
<a href="#l52.8"></a><span id="l52.8">             var timePartsArray = this.parseTimeRegExp.exec(aValue);</span>
<a href="#l52.9"></a><span id="l52.9">             const PRE_INDEX=1, HR_INDEX=2, MIN_INDEX=4, SEC_INDEX=6, POST_INDEX=8;</span>
<a href="#l52.10"></a><span id="l52.10"> </span>
<a href="#l52.11"></a><span id="l52.11">             if (timePartsArray != null) {</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineminus">-              var hoursString   = timePartsArray[HR_INDEX]</span>
<a href="#l52.13"></a><span id="l52.13" class="difflineminus">-              var hours         = Number(hoursString);</span>
<a href="#l52.14"></a><span id="l52.14" class="difflineminus">-              var hoursSuffix   = timePartsArray[HR_INDEX + 1];</span>
<a href="#l52.15"></a><span id="l52.15" class="difflineplus">+              var hoursString = timePartsArray[HR_INDEX]</span>
<a href="#l52.16"></a><span id="l52.16" class="difflineplus">+              var hours = Number(hoursString);</span>
<a href="#l52.17"></a><span id="l52.17" class="difflineplus">+              var hoursSuffix = timePartsArray[HR_INDEX + 1];</span>
<a href="#l52.18"></a><span id="l52.18">               if (!(hours &gt;= 0 &amp;&amp; hours &lt; 24)) {</span>
<a href="#l52.19"></a><span id="l52.19">                 return null;</span>
<a href="#l52.20"></a><span id="l52.20">               }</span>
<a href="#l52.21"></a><span id="l52.21"> </span>
<a href="#l52.22"></a><span id="l52.22">               var minutesString = timePartsArray[MIN_INDEX];</span>
<a href="#l52.23"></a><span id="l52.23" class="difflineminus">-              var minutes       = (minutesString == null? 0 : Number(minutesString));</span>
<a href="#l52.24"></a><span id="l52.24" class="difflineplus">+              var minutes = (minutesString == null? 0 : Number(minutesString));</span>
<a href="#l52.25"></a><span id="l52.25">               var minutesSuffix = timePartsArray[MIN_INDEX + 1];</span>
<a href="#l52.26"></a><span id="l52.26">               if (!(minutes &gt;= 0 &amp;&amp; minutes &lt; 60)) {</span>
<a href="#l52.27"></a><span id="l52.27">                 return null;</span>
<a href="#l52.28"></a><span id="l52.28">               }</span>
<a href="#l52.29"></a><span id="l52.29"> </span>
<a href="#l52.30"></a><span id="l52.30">               var secondsString = timePartsArray[SEC_INDEX];</span>
<a href="#l52.31"></a><span id="l52.31" class="difflineminus">-              var seconds       = (secondsString == null? 0 : Number(secondsString));</span>
<a href="#l52.32"></a><span id="l52.32" class="difflineplus">+              var seconds = (secondsString == null? 0 : Number(secondsString));</span>
<a href="#l52.33"></a><span id="l52.33">               var secondsSuffix = timePartsArray[SEC_INDEX + 1];</span>
<a href="#l52.34"></a><span id="l52.34">               if (!(seconds &gt;= 0 &amp;&amp; seconds &lt; 60)) {</span>
<a href="#l52.35"></a><span id="l52.35">                 return null;</span>
<a href="#l52.36"></a><span id="l52.36">               }</span>
<a href="#l52.37"></a><span id="l52.37"> </span>
<a href="#l52.38"></a><span id="l52.38">               var ampmCode = null;</span>
<a href="#l52.39"></a><span id="l52.39">               if (timePartsArray[PRE_INDEX] || timePartsArray[POST_INDEX]) {</span>
<a href="#l52.40"></a><span id="l52.40">                 if (this.ampmIndex &amp;&amp; timePartsArray[this.ampmIndex]) {</span>
<a href="#l52.41"></a><span id="l52.41" class="difflineat">@@ -1792,20 +1792,20 @@</span>
<a href="#l52.42"></a><span id="l52.42">             this.parseShortDateRegex = /^\D*(\d+)\D+(\d+)\D+(\d+)\D?$/;</span>
<a href="#l52.43"></a><span id="l52.43">             var probeDate = new Date(2002, 3-1, 4); // month is 0-based</span>
<a href="#l52.44"></a><span id="l52.44">             var probeString = this.formatDate(probeDate);</span>
<a href="#l52.45"></a><span id="l52.45">             var probeArray = this.parseShortDateRegex.exec(probeString);</span>
<a href="#l52.46"></a><span id="l52.46">             if (probeArray != null) {</span>
<a href="#l52.47"></a><span id="l52.47">               // Numeric month format</span>
<a href="#l52.48"></a><span id="l52.48">               for (var i = 1; i &lt;= 3; i++) {</span>
<a href="#l52.49"></a><span id="l52.49">                 switch (Number(probeArray[i])) {</span>
<a href="#l52.50"></a><span id="l52.50" class="difflineminus">-                  case 2:    this.twoDigitYear = true; // fall thru</span>
<a href="#l52.51"></a><span id="l52.51" class="difflineminus">-                  case 2002: this.yearIndex = i;       break;</span>
<a href="#l52.52"></a><span id="l52.52" class="difflineminus">-                  case 3:    this.monthIndex = i;      break;</span>
<a href="#l52.53"></a><span id="l52.53" class="difflineminus">-                  case 4:    this.dayIndex = i;        break;</span>
<a href="#l52.54"></a><span id="l52.54" class="difflineplus">+                  case 2: this.twoDigitYear = true; // fall thru</span>
<a href="#l52.55"></a><span id="l52.55" class="difflineplus">+                  case 2002: this.yearIndex = i; break;</span>
<a href="#l52.56"></a><span id="l52.56" class="difflineplus">+                  case 3: this.monthIndex = i; break;</span>
<a href="#l52.57"></a><span id="l52.57" class="difflineplus">+                  case 4: this.dayIndex = i; break;</span>
<a href="#l52.58"></a><span id="l52.58">                 }</span>
<a href="#l52.59"></a><span id="l52.59">               }</span>
<a href="#l52.60"></a><span id="l52.60">               // All three indexes are set (not -1) at this point.</span>
<a href="#l52.61"></a><span id="l52.61">               this.probeSucceeded = true;</span>
<a href="#l52.62"></a><span id="l52.62">             } else {</span>
<a href="#l52.63"></a><span id="l52.63">               // SHORT DATE WITH ALPHABETIC MONTH, such as &quot;dd MMM yy&quot; or &quot;MMMM dd, yyyy&quot;</span>
<a href="#l52.64"></a><span id="l52.64">               // (\d+|[^\d\W]) is digits or letters, not both together.</span>
<a href="#l52.65"></a><span id="l52.65">               // Allows 31dec1999 (no delimiters between parts) if OS does (w2k does not).</span>
<a href="#l52.66"></a><span id="l52.66" class="difflineat">@@ -1814,20 +1814,20 @@</span>
<a href="#l52.67"></a><span id="l52.67">               // easy way to describe unicode letters short of a HUGE character range</span>
<a href="#l52.68"></a><span id="l52.68">               // regexp derived from the Alphabetic ranges in</span>
<a href="#l52.69"></a><span id="l52.69">               // http://www.unicode.org/Public/UNIDATA/DerivedCoreProperties.txt)</span>
<a href="#l52.70"></a><span id="l52.70">               this.parseShortDateRegex = /^\s*(\d+|[^\d\W]+)\W{0,2}(\d+|[^\d\W]+)\W{0,2}(\d+|[^\d\W]+)\s*$/;</span>
<a href="#l52.71"></a><span id="l52.71">               probeArray = this.parseShortDateRegex.exec(probeString);</span>
<a href="#l52.72"></a><span id="l52.72">               if (probeArray != null) {</span>
<a href="#l52.73"></a><span id="l52.73">                 for (var j = 1; j &lt;= 3; j++) {</span>
<a href="#l52.74"></a><span id="l52.74">                   switch (Number(probeArray[j])) {</span>
<a href="#l52.75"></a><span id="l52.75" class="difflineminus">-                    case 2:    this.twoDigitYear = true; // fall thru</span>
<a href="#l52.76"></a><span id="l52.76" class="difflineminus">-                    case 2002: this.yearIndex = j;       break;</span>
<a href="#l52.77"></a><span id="l52.77" class="difflineminus">-                    case 4:    this.dayIndex = j;        break;</span>
<a href="#l52.78"></a><span id="l52.78" class="difflineminus">-                    default:   this.monthIndex = j;      break;</span>
<a href="#l52.79"></a><span id="l52.79" class="difflineplus">+                    case 2: this.twoDigitYear = true; // fall thru</span>
<a href="#l52.80"></a><span id="l52.80" class="difflineplus">+                    case 2002: this.yearIndex = j; break;</span>
<a href="#l52.81"></a><span id="l52.81" class="difflineplus">+                    case 4: this.dayIndex = j; break;</span>
<a href="#l52.82"></a><span id="l52.82" class="difflineplus">+                    default: this.monthIndex = j; break;</span>
<a href="#l52.83"></a><span id="l52.83">                   }</span>
<a href="#l52.84"></a><span id="l52.84">                 }</span>
<a href="#l52.85"></a><span id="l52.85">                 if (this.yearIndex != -1 &amp;&amp; this.dayIndex != -1 &amp;&amp; this.monthIndex != -1) {</span>
<a href="#l52.86"></a><span id="l52.86">                   this.probeSucceeded = true;</span>
<a href="#l52.87"></a><span id="l52.87">                   // Fill this.alphaMonths with month names.</span>
<a href="#l52.88"></a><span id="l52.88">                   this.alphaMonths = new Array(12);</span>
<a href="#l52.89"></a><span id="l52.89">                   for (var m = 0; m &lt; 12; m++) {</span>
<a href="#l52.90"></a><span id="l52.90">                     probeDate.setMonth(m);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/calendar/resources/content/publish.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/calendar/resources/content/publish.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -10,17 +10,17 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l53.4"></a><span id="l53.4"> /**</span>
<a href="#l53.5"></a><span id="l53.5">  * publishCalendarData</span>
<a href="#l53.6"></a><span id="l53.6">  * Show publish dialog, ask for URL and publish all selected items.</span>
<a href="#l53.7"></a><span id="l53.7">  */</span>
<a href="#l53.8"></a><span id="l53.8"> function publishCalendarData()</span>
<a href="#l53.9"></a><span id="l53.9"> {</span>
<a href="#l53.10"></a><span id="l53.10">    var args = {};</span>
<a href="#l53.11"></a><span id="l53.11"> </span>
<a href="#l53.12"></a><span id="l53.12" class="difflineminus">-   args.onOk =  self.publishCalendarDataDialogResponse;</span>
<a href="#l53.13"></a><span id="l53.13" class="difflineplus">+   args.onOk = self.publishCalendarDataDialogResponse;</span>
<a href="#l53.14"></a><span id="l53.14"> </span>
<a href="#l53.15"></a><span id="l53.15">    openDialog(&quot;chrome://calendar/content/publishDialog.xul&quot;, &quot;caPublishEvents&quot;,</span>
<a href="#l53.16"></a><span id="l53.16">               &quot;chrome,titlebar,modal,resizable&quot;, args );</span>
<a href="#l53.17"></a><span id="l53.17"> }</span>
<a href="#l53.18"></a><span id="l53.18"> </span>
<a href="#l53.19"></a><span id="l53.19"> /**</span>
<a href="#l53.20"></a><span id="l53.20">  * publishCalendarDataDialogResponse</span>
<a href="#l53.21"></a><span id="l53.21">  * Callback method for publishCalendarData() that is called when the user</span>
<a href="#l53.22"></a><span id="l53.22" class="difflineat">@@ -60,17 +60,17 @@ function publishEntireCalendar(aCalendar</span>
<a href="#l53.23"></a><span id="l53.23">                        &quot;_blank&quot;, &quot;chrome,titlebar,modal,resizable&quot;, args);</span>
<a href="#l53.24"></a><span id="l53.24">             return;</span>
<a href="#l53.25"></a><span id="l53.25">         }</span>
<a href="#l53.26"></a><span id="l53.26">     }</span>
<a href="#l53.27"></a><span id="l53.27"> </span>
<a href="#l53.28"></a><span id="l53.28">     let args = {};</span>
<a href="#l53.29"></a><span id="l53.29">     let publishObject = {};</span>
<a href="#l53.30"></a><span id="l53.30"> </span>
<a href="#l53.31"></a><span id="l53.31" class="difflineminus">-    args.onOk =  self.publishEntireCalendarDialogResponse;</span>
<a href="#l53.32"></a><span id="l53.32" class="difflineplus">+    args.onOk = self.publishEntireCalendarDialogResponse;</span>
<a href="#l53.33"></a><span id="l53.33"> </span>
<a href="#l53.34"></a><span id="l53.34">     publishObject.calendar = aCalendar;</span>
<a href="#l53.35"></a><span id="l53.35"> </span>
<a href="#l53.36"></a><span id="l53.36">     // restore the remote ics path preference from the calendar passed in</span>
<a href="#l53.37"></a><span id="l53.37">     let remotePath = aCalendar.getProperty(&quot;remote-ics-path&quot;);</span>
<a href="#l53.38"></a><span id="l53.38">     if (remotePath &amp;&amp; remotePath.length &amp;&amp; remotePath.length &gt; 0) {</span>
<a href="#l53.39"></a><span id="l53.39">         publishObject.remotePath = remotePath;</span>
<a href="#l53.40"></a><span id="l53.40">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -7,18 +7,18 @@ var modalDialog = require(&quot;../shared-mod</span>
<a href="#l54.4"></a><span id="l54.4"> var prefs = require(&quot;../shared-modules/prefs&quot;);</span>
<a href="#l54.5"></a><span id="l54.5"> </span>
<a href="#l54.6"></a><span id="l54.6"> var sleep = 500;</span>
<a href="#l54.7"></a><span id="l54.7"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l54.8"></a><span id="l54.8"> var title = &quot;Title&quot;;</span>
<a href="#l54.9"></a><span id="l54.9"> var location = &quot;Location&quot;;</span>
<a href="#l54.10"></a><span id="l54.10"> var description = &quot;Description\ncontinuing&quot;;</span>
<a href="#l54.11"></a><span id="l54.11"> var pass;</span>
<a href="#l54.12"></a><span id="l54.12" class="difflineminus">-var date1 = new Date(2009, 0, 1,  8, 0);</span>
<a href="#l54.13"></a><span id="l54.13" class="difflineminus">-var date2 = new Date(2009, 0, 2,  9, 0);</span>
<a href="#l54.14"></a><span id="l54.14" class="difflineplus">+var date1 = new Date(2009, 0, 1, 8, 0);</span>
<a href="#l54.15"></a><span id="l54.15" class="difflineplus">+var date2 = new Date(2009, 0, 2, 9, 0);</span>
<a href="#l54.16"></a><span id="l54.16"> var date3 = new Date(2009, 0, 3, 10, 0);</span>
<a href="#l54.17"></a><span id="l54.17"> var data = [{title: &quot;title1&quot;, location: &quot;location1&quot;, description: &quot;description1&quot;, allday: false,</span>
<a href="#l54.18"></a><span id="l54.18">              startdate: date1, starttime: date1, enddate: date2, endtime: date2, repeat: &quot;none&quot;,</span>
<a href="#l54.19"></a><span id="l54.19">              reminder: 0, priority: &quot;normal&quot;, privacy: &quot;public&quot;, status: &quot;confirmed&quot;,</span>
<a href="#l54.20"></a><span id="l54.20">              freebusy: &quot;busy&quot;, timezone: true, attachment: {add: &quot;http://mozilla.org&quot;}},</span>
<a href="#l54.21"></a><span id="l54.21">             {title: &quot;title2&quot;, location: &quot;location2&quot;, description: &quot;description2&quot;, allday: true,</span>
<a href="#l54.22"></a><span id="l54.22">              startdate: date2, starttime: date2, enddate: date3, endtime: date3, repeat: &quot;daily&quot;,</span>
<a href="#l54.23"></a><span id="l54.23">              reminder: 2, priority: &quot;high&quot;, privacy: &quot;private&quot;, status: &quot;tentative&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -32,31 +32,31 @@ var testLastDayOfMonthRecurrence = funct</span>
<a href="#l55.4"></a><span id="l55.4">   event.waitForElement(new elementslib.ID(event.window.document, &quot;item-repeat&quot;));</span>
<a href="#l55.5"></a><span id="l55.5">   event.select(new elementslib.ID(event.window.document, &quot;item-repeat&quot;), undefined, undefined,</span>
<a href="#l55.6"></a><span id="l55.6">     &quot;custom&quot;);</span>
<a href="#l55.7"></a><span id="l55.7"> </span>
<a href="#l55.8"></a><span id="l55.8">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l55.9"></a><span id="l55.9">   controller.waitFor(function() {return mozmill.utils.getWindows(&quot;Calendar:EventDialog&quot;).length == 0});</span>
<a href="#l55.10"></a><span id="l55.10"> </span>
<a href="#l55.11"></a><span id="l55.11">   //                        date     correct row in month view</span>
<a href="#l55.12"></a><span id="l55.12" class="difflineminus">-  let checkingData = [[2008,  1, 31, 5],</span>
<a href="#l55.13"></a><span id="l55.13" class="difflineminus">-                      [2008,  2, 29, 5],</span>
<a href="#l55.14"></a><span id="l55.14" class="difflineminus">-                      [2008,  3, 31, 6],</span>
<a href="#l55.15"></a><span id="l55.15" class="difflineminus">-                      [2008,  4, 30, 5],</span>
<a href="#l55.16"></a><span id="l55.16" class="difflineminus">-                      [2008,  5, 31, 5],</span>
<a href="#l55.17"></a><span id="l55.17" class="difflineminus">-                      [2008,  6, 30, 5],</span>
<a href="#l55.18"></a><span id="l55.18" class="difflineminus">-                      [2008,  7, 31, 5],</span>
<a href="#l55.19"></a><span id="l55.19" class="difflineminus">-                      [2008,  8, 31, 6],</span>
<a href="#l55.20"></a><span id="l55.20" class="difflineminus">-                      [2008,  9, 30, 5],</span>
<a href="#l55.21"></a><span id="l55.21" class="difflineplus">+  let checkingData = [[2008, 1, 31, 5],</span>
<a href="#l55.22"></a><span id="l55.22" class="difflineplus">+                      [2008, 2, 29, 5],</span>
<a href="#l55.23"></a><span id="l55.23" class="difflineplus">+                      [2008, 3, 31, 6],</span>
<a href="#l55.24"></a><span id="l55.24" class="difflineplus">+                      [2008, 4, 30, 5],</span>
<a href="#l55.25"></a><span id="l55.25" class="difflineplus">+                      [2008, 5, 31, 5],</span>
<a href="#l55.26"></a><span id="l55.26" class="difflineplus">+                      [2008, 6, 30, 5],</span>
<a href="#l55.27"></a><span id="l55.27" class="difflineplus">+                      [2008, 7, 31, 5],</span>
<a href="#l55.28"></a><span id="l55.28" class="difflineplus">+                      [2008, 8, 31, 6],</span>
<a href="#l55.29"></a><span id="l55.29" class="difflineplus">+                      [2008, 9, 30, 5],</span>
<a href="#l55.30"></a><span id="l55.30">                       [2008, 10, 31, 5],</span>
<a href="#l55.31"></a><span id="l55.31">                       [2008, 11, 30, 6],</span>
<a href="#l55.32"></a><span id="l55.32">                       [2008, 12, 31, 5],</span>
<a href="#l55.33"></a><span id="l55.33" class="difflineminus">-                      [2009,  1, 31, 5],</span>
<a href="#l55.34"></a><span id="l55.34" class="difflineminus">-                      [2009,  2, 28, 4],</span>
<a href="#l55.35"></a><span id="l55.35" class="difflineminus">-                      [2009,  3, 31, 5]];</span>
<a href="#l55.36"></a><span id="l55.36" class="difflineplus">+                      [2009, 1, 31, 5],</span>
<a href="#l55.37"></a><span id="l55.37" class="difflineplus">+                      [2009, 2, 28, 4],</span>
<a href="#l55.38"></a><span id="l55.38" class="difflineplus">+                      [2009, 3, 31, 5]];</span>
<a href="#l55.39"></a><span id="l55.39">   let box = &quot;&quot;;</span>
<a href="#l55.40"></a><span id="l55.40"> </span>
<a href="#l55.41"></a><span id="l55.41">   // check all dates</span>
<a href="#l55.42"></a><span id="l55.42">   for(let i = 0; i &lt; checkingData.length; i++){</span>
<a href="#l55.43"></a><span id="l55.43">     calUtils.goToDate(controller, checkingData[i][0], checkingData[i][1], checkingData[i][2]);</span>
<a href="#l55.44"></a><span id="l55.44"> </span>
<a href="#l55.45"></a><span id="l55.45">     // day view</span>
<a href="#l55.46"></a><span id="l55.46">     calUtils.switchToView(controller, &quot;day&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -37,32 +37,33 @@ var testLastDayOfMonthRecurrence = funct</span>
<a href="#l56.4"></a><span id="l56.4">   md.start(setRecurrence);</span>
<a href="#l56.5"></a><span id="l56.5">   event.waitForElement(new elementslib.ID(event.window.document, &quot;item-repeat&quot;));</span>
<a href="#l56.6"></a><span id="l56.6">   event.select(new elementslib.ID(event.window.document, &quot;item-repeat&quot;), undefined, undefined,</span>
<a href="#l56.7"></a><span id="l56.7">     &quot;custom&quot;);</span>
<a href="#l56.8"></a><span id="l56.8"> </span>
<a href="#l56.9"></a><span id="l56.9">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l56.10"></a><span id="l56.10">   controller.waitFor(function() {return mozmill.utils.getWindows(&quot;Calendar:EventDialog&quot;).length == 0});</span>
<a href="#l56.11"></a><span id="l56.11"> </span>
<a href="#l56.12"></a><span id="l56.12" class="difflineminus">-  //                        date     correct row in month view</span>
<a href="#l56.13"></a><span id="l56.13" class="difflineminus">-  let checkingData = [[2008,  1, 31, 5],</span>
<a href="#l56.14"></a><span id="l56.14" class="difflineminus">-                      [2008,  2, 29, 5],</span>
<a href="#l56.15"></a><span id="l56.15" class="difflineminus">-                      [2008,  3, 31, 6],</span>
<a href="#l56.16"></a><span id="l56.16" class="difflineminus">-                      [2008,  4, 30, 5],</span>
<a href="#l56.17"></a><span id="l56.17" class="difflineminus">-                      [2008,  5, 31, 5],</span>
<a href="#l56.18"></a><span id="l56.18" class="difflineminus">-                      [2008,  6, 30, 5],</span>
<a href="#l56.19"></a><span id="l56.19" class="difflineminus">-                      [2008,  7, 31, 5],</span>
<a href="#l56.20"></a><span id="l56.20" class="difflineminus">-                      [2008,  8, 31, 6],</span>
<a href="#l56.21"></a><span id="l56.21" class="difflineminus">-                      [2008,  9, 30, 5],</span>
<a href="#l56.22"></a><span id="l56.22" class="difflineplus">+  //                      date      correct row in month view</span>
<a href="#l56.23"></a><span id="l56.23" class="difflineplus">+  //                   vvvvvvvvvvv  v</span>
<a href="#l56.24"></a><span id="l56.24" class="difflineplus">+  let checkingData = [[2008, 1, 31, 5],</span>
<a href="#l56.25"></a><span id="l56.25" class="difflineplus">+                      [2008, 2, 29, 5],</span>
<a href="#l56.26"></a><span id="l56.26" class="difflineplus">+                      [2008, 3, 31, 6],</span>
<a href="#l56.27"></a><span id="l56.27" class="difflineplus">+                      [2008, 4, 30, 5],</span>
<a href="#l56.28"></a><span id="l56.28" class="difflineplus">+                      [2008, 5, 31, 5],</span>
<a href="#l56.29"></a><span id="l56.29" class="difflineplus">+                      [2008, 6, 30, 5],</span>
<a href="#l56.30"></a><span id="l56.30" class="difflineplus">+                      [2008, 7, 31, 5],</span>
<a href="#l56.31"></a><span id="l56.31" class="difflineplus">+                      [2008, 8, 31, 6],</span>
<a href="#l56.32"></a><span id="l56.32" class="difflineplus">+                      [2008, 9, 30, 5],</span>
<a href="#l56.33"></a><span id="l56.33">                       [2008, 10, 31, 5],</span>
<a href="#l56.34"></a><span id="l56.34">                       [2008, 11, 30, 6],</span>
<a href="#l56.35"></a><span id="l56.35">                       [2008, 12, 31, 5],</span>
<a href="#l56.36"></a><span id="l56.36" class="difflineminus">-                      [2009,  1, 31, 5],</span>
<a href="#l56.37"></a><span id="l56.37" class="difflineminus">-                      [2009,  2, 28, 4],</span>
<a href="#l56.38"></a><span id="l56.38" class="difflineminus">-                      [2009,  3, 31, 5]];</span>
<a href="#l56.39"></a><span id="l56.39" class="difflineplus">+                      [2009, 1, 31, 5],</span>
<a href="#l56.40"></a><span id="l56.40" class="difflineplus">+                      [2009, 2, 28, 4],</span>
<a href="#l56.41"></a><span id="l56.41" class="difflineplus">+                      [2009, 3, 31, 5]];</span>
<a href="#l56.42"></a><span id="l56.42">   let box = &quot;&quot;;</span>
<a href="#l56.43"></a><span id="l56.43"> </span>
<a href="#l56.44"></a><span id="l56.44">   // check all dates</span>
<a href="#l56.45"></a><span id="l56.45">   for(let i = 0; i &lt; checkingData.length; i++){</span>
<a href="#l56.46"></a><span id="l56.46">     calUtils.goToDate(controller, checkingData[i][0], checkingData[i][1], checkingData[i][2]);</span>
<a href="#l56.47"></a><span id="l56.47"> </span>
<a href="#l56.48"></a><span id="l56.48">     // day view</span>
<a href="#l56.49"></a><span id="l56.49">     calUtils.switchToView(controller, &quot;day&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/calendar-utils.js</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/calendar-utils.js</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -1,17 +1,19 @@</span>
<a href="#l57.4"></a><span id="l57.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l57.5"></a><span id="l57.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l57.6"></a><span id="l57.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l57.7"></a><span id="l57.7"> </span>
<a href="#l57.8"></a><span id="l57.8"> var MODULE_NAME = &quot;calendar-utils&quot;;</span>
<a href="#l57.9"></a><span id="l57.9"> var MODULE_REQUIRES = [&quot;window-helpers&quot;];</span>
<a href="#l57.10"></a><span id="l57.10"> </span>
<a href="#l57.11"></a><span id="l57.11" class="difflineminus">-var os = {};      Components.utils.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l57.12"></a><span id="l57.12" class="difflineminus">-var frame = {};      Components.utils.import('resource://mozmill/modules/frame.js', frame);</span>
<a href="#l57.13"></a><span id="l57.13" class="difflineplus">+var os = {};</span>
<a href="#l57.14"></a><span id="l57.14" class="difflineplus">+Components.utils.import('resource://mozmill/stdlib/os.js', os);</span>
<a href="#l57.15"></a><span id="l57.15" class="difflineplus">+var frame = {};</span>
<a href="#l57.16"></a><span id="l57.16" class="difflineplus">+Components.utils.import('resource://mozmill/modules/frame.js', frame);</span>
<a href="#l57.17"></a><span id="l57.17"> </span>
<a href="#l57.18"></a><span id="l57.18"> var modalDialog = require(&quot;test-window-helpers&quot;);</span>
<a href="#l57.19"></a><span id="l57.19"> </span>
<a href="#l57.20"></a><span id="l57.20"> var sleep = 500;</span>
<a href="#l57.21"></a><span id="l57.21"> var EVENT_BOX = 0; // Use when you need an event box</span>
<a href="#l57.22"></a><span id="l57.22"> var CANVAS_BOX = 1; // Use when you need a calendar canvas box</span>
<a href="#l57.23"></a><span id="l57.23"> var ALLDAY = 2; // Use when you need an allday canvas or event box</span>
<a href="#l57.24"></a><span id="l57.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test10.js</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test10.js</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -3,27 +3,27 @@</span>
<a href="#l58.4"></a><span id="l58.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l58.5"></a><span id="l58.5"> </span>
<a href="#l58.6"></a><span id="l58.6"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l58.7"></a><span id="l58.7"> var prefs = require(&quot;../shared-modules/prefs&quot;);</span>
<a href="#l58.8"></a><span id="l58.8"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l58.9"></a><span id="l58.9"> </span>
<a href="#l58.10"></a><span id="l58.10"> var sleep = 500;</span>
<a href="#l58.11"></a><span id="l58.11"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l58.12"></a><span id="l58.12" class="difflineminus">-var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l58.13"></a><span id="l58.13" class="difflineminus">-             [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l58.14"></a><span id="l58.14" class="difflineplus">+var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l58.15"></a><span id="l58.15" class="difflineplus">+             [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l58.16"></a><span id="l58.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l58.17"></a><span id="l58.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l58.18"></a><span id="l58.18"> /* rows - dates</span>
<a href="#l58.19"></a><span id="l58.19">    columns - correct time for each event */</span>
<a href="#l58.20"></a><span id="l58.20"> var times = [[[18, 30], [19, 30], [20, 30], [21, 30], [22, 30], [23, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l58.21"></a><span id="l58.21">              [[17, 30], [19, 30], [20, 30], [20, 30], [22, 30], [22, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l58.22"></a><span id="l58.22" class="difflineminus">-             [[16, 30], [18, 30], [19, 30], [19, 30], [21, 30], [21, 30], [23, 30],    [1, 30, +1]],</span>
<a href="#l58.23"></a><span id="l58.23" class="difflineminus">-             [[16, 30], [18, 30], [19, 30], [19, 30], [21, 30], [21, 30], [23, 30],    [1, 30, +1]],</span>
<a href="#l58.24"></a><span id="l58.24" class="difflineminus">-             [[16, 30], [18, 30], [19, 30], [19, 30], [21, 30], [21, 30], [23, 30],    [1, 30, +1]],</span>
<a href="#l58.25"></a><span id="l58.25" class="difflineplus">+             [[16, 30], [18, 30], [19, 30], [19, 30], [21, 30], [21, 30], [23, 30], [1, 30, +1]],</span>
<a href="#l58.26"></a><span id="l58.26" class="difflineplus">+             [[16, 30], [18, 30], [19, 30], [19, 30], [21, 30], [21, 30], [23, 30], [1, 30, +1]],</span>
<a href="#l58.27"></a><span id="l58.27" class="difflineplus">+             [[16, 30], [18, 30], [19, 30], [19, 30], [21, 30], [21, 30], [23, 30], [1, 30, +1]],</span>
<a href="#l58.28"></a><span id="l58.28">              [[17, 30], [19, 30], [20, 30], [20, 30], [22, 30], [22, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l58.29"></a><span id="l58.29">              [[17, 30], [19, 30], [20, 30], [20, 30], [22, 30], [23, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l58.30"></a><span id="l58.30">              [[18, 30], [19, 30], [20, 30], [21, 30], [22, 30], [23, 30], [0, 30, +1], [1, 30, +1]]]</span>
<a href="#l58.31"></a><span id="l58.31"> </span>
<a href="#l58.32"></a><span id="l58.32"> var setupModule = function(module) {</span>
<a href="#l58.33"></a><span id="l58.33">   controller = mozmill.getMail3PaneController();</span>
<a href="#l58.34"></a><span id="l58.34"> }</span>
<a href="#l58.35"></a><span id="l58.35"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test3.js</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test3.js</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -2,30 +2,30 @@</span>
<a href="#l59.4"></a><span id="l59.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l59.5"></a><span id="l59.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l59.6"></a><span id="l59.6"> </span>
<a href="#l59.7"></a><span id="l59.7"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l59.8"></a><span id="l59.8"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l59.9"></a><span id="l59.9"> </span>
<a href="#l59.10"></a><span id="l59.10"> var sleep = 500;</span>
<a href="#l59.11"></a><span id="l59.11"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l59.12"></a><span id="l59.12" class="difflineminus">-var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l59.13"></a><span id="l59.13" class="difflineminus">-             [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l59.14"></a><span id="l59.14" class="difflineplus">+var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l59.15"></a><span id="l59.15" class="difflineplus">+             [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l59.16"></a><span id="l59.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l59.17"></a><span id="l59.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l59.18"></a><span id="l59.18"> /* rows - dates</span>
<a href="#l59.19"></a><span id="l59.19">    columns - correct time for each event */</span>
<a href="#l59.20"></a><span id="l59.20" class="difflineminus">-var times = [[[4, 30], [5, 30], [6, 30], [7, 30],  [8, 30],  [9, 30], [10, 30], [11, 30]],</span>
<a href="#l59.21"></a><span id="l59.21" class="difflineminus">-             [[4, 30], [6, 30], [7, 30], [7, 30],  [9, 30],  [9, 30], [11, 30], [12, 30]],</span>
<a href="#l59.22"></a><span id="l59.22" class="difflineminus">-             [[4, 30], [6, 30], [7, 30], [7, 30],  [9, 30],  [9, 30], [11, 30], [13, 30]],</span>
<a href="#l59.23"></a><span id="l59.23" class="difflineminus">-             [[4, 30], [6, 30], [7, 30], [7, 30],  [9, 30],  [9, 30], [11, 30], [13, 30]],</span>
<a href="#l59.24"></a><span id="l59.24" class="difflineminus">-             [[4, 30], [6, 30], [7, 30], [7, 30],  [9, 30],  [9, 30], [11, 30], [13, 30]],</span>
<a href="#l59.25"></a><span id="l59.25" class="difflineminus">-             [[4, 30], [6, 30], [7, 30], [7, 30],  [9, 30],  [9, 30], [11, 30], [12, 30]],</span>
<a href="#l59.26"></a><span id="l59.26" class="difflineminus">-             [[4, 30], [6, 30], [7, 30], [7, 30],  [9, 30], [10, 30], [11, 30], [12, 30]],</span>
<a href="#l59.27"></a><span id="l59.27" class="difflineminus">-             [[4, 30], [5, 30], [6, 30], [7, 30],  [8, 30],  [9, 30], [10, 30], [11, 30]]]</span>
<a href="#l59.28"></a><span id="l59.28" class="difflineplus">+var times = [[[4, 30], [5, 30], [6, 30], [7, 30], [8, 30], [9, 30], [10, 30], [11, 30]],</span>
<a href="#l59.29"></a><span id="l59.29" class="difflineplus">+             [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [12, 30]],</span>
<a href="#l59.30"></a><span id="l59.30" class="difflineplus">+             [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [13, 30]],</span>
<a href="#l59.31"></a><span id="l59.31" class="difflineplus">+             [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [13, 30]],</span>
<a href="#l59.32"></a><span id="l59.32" class="difflineplus">+             [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [13, 30]],</span>
<a href="#l59.33"></a><span id="l59.33" class="difflineplus">+             [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [12, 30]],</span>
<a href="#l59.34"></a><span id="l59.34" class="difflineplus">+             [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [10, 30], [11, 30], [12, 30]],</span>
<a href="#l59.35"></a><span id="l59.35" class="difflineplus">+             [[4, 30], [5, 30], [6, 30], [7, 30], [8, 30], [9, 30], [10, 30], [11, 30]]]</span>
<a href="#l59.36"></a><span id="l59.36"> </span>
<a href="#l59.37"></a><span id="l59.37"> var setupModule = function(module) {</span>
<a href="#l59.38"></a><span id="l59.38">   controller = mozmill.getMail3PaneController();</span>
<a href="#l59.39"></a><span id="l59.39"> }</span>
<a href="#l59.40"></a><span id="l59.40"> </span>
<a href="#l59.41"></a><span id="l59.41"> var testTimezones3_checkStJohns = function () {</span>
<a href="#l59.42"></a><span id="l59.42">   let eventPath = '/{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;' + calendar.toLowerCase() + '&quot;}';</span>
<a href="#l59.43"></a><span id="l59.43"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test4.js</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test4.js</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l60.4"></a><span id="l60.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l60.5"></a><span id="l60.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l60.6"></a><span id="l60.6"> </span>
<a href="#l60.7"></a><span id="l60.7"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l60.8"></a><span id="l60.8"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l60.9"></a><span id="l60.9"> </span>
<a href="#l60.10"></a><span id="l60.10"> var sleep = 500;</span>
<a href="#l60.11"></a><span id="l60.11"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l60.12"></a><span id="l60.12" class="difflineminus">-var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l60.13"></a><span id="l60.13" class="difflineminus">-             [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l60.14"></a><span id="l60.14" class="difflineplus">+var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l60.15"></a><span id="l60.15" class="difflineplus">+             [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l60.16"></a><span id="l60.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l60.17"></a><span id="l60.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l60.18"></a><span id="l60.18"> /* rows - dates</span>
<a href="#l60.19"></a><span id="l60.19">    columns - correct time for each event */</span>
<a href="#l60.20"></a><span id="l60.20"> var times = [[[3, 30], [4, 30], [5, 30], [6, 30], [7, 30], [8, 30], [9, 30], [10, 30]],</span>
<a href="#l60.21"></a><span id="l60.21">              [[2, 30], [4, 30], [5, 30], [5, 30], [7, 30], [7, 30], [9, 30], [10, 30]],</span>
<a href="#l60.22"></a><span id="l60.22">              [[2, 30], [4, 30], [5, 30], [5, 30], [7, 30], [7, 30], [9, 30], [11, 30]],</span>
<a href="#l60.23"></a><span id="l60.23">              [[2, 30], [4, 30], [5, 30], [5, 30], [7, 30], [7, 30], [9, 30], [11, 30]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test5.js</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test5.js</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l61.4"></a><span id="l61.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l61.5"></a><span id="l61.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l61.6"></a><span id="l61.6"> </span>
<a href="#l61.7"></a><span id="l61.7"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l61.8"></a><span id="l61.8"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l61.9"></a><span id="l61.9"> </span>
<a href="#l61.10"></a><span id="l61.10"> var sleep = 500;</span>
<a href="#l61.11"></a><span id="l61.11"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineminus">-var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l61.13"></a><span id="l61.13" class="difflineminus">-             [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l61.14"></a><span id="l61.14" class="difflineplus">+var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l61.15"></a><span id="l61.15" class="difflineplus">+             [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l61.16"></a><span id="l61.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l61.17"></a><span id="l61.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l61.18"></a><span id="l61.18"> /* rows - dates</span>
<a href="#l61.19"></a><span id="l61.19">    columns - correct time for each event */</span>
<a href="#l61.20"></a><span id="l61.20"> var times = [[[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0]],</span>
<a href="#l61.21"></a><span id="l61.21">              [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [8, 0]],</span>
<a href="#l61.22"></a><span id="l61.22">              [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [9, 0]],</span>
<a href="#l61.23"></a><span id="l61.23">              [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [9, 0]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test6.js</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test6.js</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l62.4"></a><span id="l62.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l62.5"></a><span id="l62.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l62.6"></a><span id="l62.6"> </span>
<a href="#l62.7"></a><span id="l62.7"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l62.8"></a><span id="l62.8"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l62.9"></a><span id="l62.9"> </span>
<a href="#l62.10"></a><span id="l62.10"> var sleep = 500;</span>
<a href="#l62.11"></a><span id="l62.11"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l62.12"></a><span id="l62.12" class="difflineminus">-var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l62.13"></a><span id="l62.13" class="difflineminus">-             [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l62.14"></a><span id="l62.14" class="difflineplus">+var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l62.15"></a><span id="l62.15" class="difflineplus">+             [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l62.16"></a><span id="l62.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l62.17"></a><span id="l62.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l62.18"></a><span id="l62.18"> /* rows - dates</span>
<a href="#l62.19"></a><span id="l62.19">    columns - correct time for each event */</span>
<a href="#l62.20"></a><span id="l62.20"> var times = [[[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0]],</span>
<a href="#l62.21"></a><span id="l62.21">              [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [8, 0]],</span>
<a href="#l62.22"></a><span id="l62.22">              [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [9, 0]],</span>
<a href="#l62.23"></a><span id="l62.23">              [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [9, 0]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test7.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test7.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -2,28 +2,28 @@</span>
<a href="#l63.4"></a><span id="l63.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l63.5"></a><span id="l63.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l63.6"></a><span id="l63.6"> </span>
<a href="#l63.7"></a><span id="l63.7"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l63.8"></a><span id="l63.8"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l63.9"></a><span id="l63.9"> </span>
<a href="#l63.10"></a><span id="l63.10"> var sleep = 500;</span>
<a href="#l63.11"></a><span id="l63.11"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l63.12"></a><span id="l63.12" class="difflineminus">-var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l63.13"></a><span id="l63.13" class="difflineminus">-             [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l63.14"></a><span id="l63.14" class="difflineplus">+var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l63.15"></a><span id="l63.15" class="difflineplus">+             [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l63.16"></a><span id="l63.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l63.17"></a><span id="l63.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l63.18"></a><span id="l63.18"> /* rows - dates</span>
<a href="#l63.19"></a><span id="l63.19">    columns - correct time for each event */</span>
<a href="#l63.20"></a><span id="l63.20"> var times = [[[5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0]],</span>
<a href="#l63.21"></a><span id="l63.21" class="difflineminus">-             [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0],  [9, 0], [11, 0], [12, 0]],</span>
<a href="#l63.22"></a><span id="l63.22" class="difflineminus">-             [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0],  [9, 0], [11, 0], [13, 0]],</span>
<a href="#l63.23"></a><span id="l63.23" class="difflineminus">-             [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0],  [9, 0], [11, 0], [13, 0]],</span>
<a href="#l63.24"></a><span id="l63.24" class="difflineminus">-             [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0],  [9, 0], [11, 0], [13, 0]],</span>
<a href="#l63.25"></a><span id="l63.25" class="difflineminus">-             [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0],  [9, 0], [11, 0], [12, 0]],</span>
<a href="#l63.26"></a><span id="l63.26" class="difflineplus">+             [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [12, 0]],</span>
<a href="#l63.27"></a><span id="l63.27" class="difflineplus">+             [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [13, 0]],</span>
<a href="#l63.28"></a><span id="l63.28" class="difflineplus">+             [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [13, 0]],</span>
<a href="#l63.29"></a><span id="l63.29" class="difflineplus">+             [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [13, 0]],</span>
<a href="#l63.30"></a><span id="l63.30" class="difflineplus">+             [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [12, 0]],</span>
<a href="#l63.31"></a><span id="l63.31">              [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [10, 0], [11, 0], [12, 0]],</span>
<a href="#l63.32"></a><span id="l63.32">              [[5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0]]]</span>
<a href="#l63.33"></a><span id="l63.33"> </span>
<a href="#l63.34"></a><span id="l63.34"> var setupModule = function(module) {</span>
<a href="#l63.35"></a><span id="l63.35">   controller = mozmill.getMail3PaneController();</span>
<a href="#l63.36"></a><span id="l63.36"> }</span>
<a href="#l63.37"></a><span id="l63.37"> </span>
<a href="#l63.38"></a><span id="l63.38"> var testTimezones7_checkBuenosAires = function () {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test8.js</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test8.js</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l64.4"></a><span id="l64.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l64.5"></a><span id="l64.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l64.6"></a><span id="l64.6"> </span>
<a href="#l64.7"></a><span id="l64.7"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l64.8"></a><span id="l64.8"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l64.9"></a><span id="l64.9"> </span>
<a href="#l64.10"></a><span id="l64.10"> var sleep = 500;</span>
<a href="#l64.11"></a><span id="l64.11"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l64.12"></a><span id="l64.12" class="difflineminus">-var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l64.13"></a><span id="l64.13" class="difflineminus">-             [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l64.14"></a><span id="l64.14" class="difflineplus">+var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l64.15"></a><span id="l64.15" class="difflineplus">+             [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l64.16"></a><span id="l64.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l64.17"></a><span id="l64.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l64.18"></a><span id="l64.18"> /* rows - dates</span>
<a href="#l64.19"></a><span id="l64.19">    columns - correct time for each event */</span>
<a href="#l64.20"></a><span id="l64.20"> var times = [[[9, 0], [10, 0], [11, 0], [12, 0], [13, 0], [14, 0], [15, 0], [16, 0]],</span>
<a href="#l64.21"></a><span id="l64.21">              [[9, 0], [11, 0], [12, 0], [12, 0], [14, 0], [14, 0], [16, 0], [17, 0]],</span>
<a href="#l64.22"></a><span id="l64.22">              [[9, 0], [11, 0], [12, 0], [12, 0], [14, 0], [14, 0], [16, 0], [18, 0]],</span>
<a href="#l64.23"></a><span id="l64.23">              [[9, 0], [11, 0], [12, 0], [12, 0], [14, 0], [14, 0], [16, 0], [18, 0]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1" class="difflineminus">--- a/calendar/test/mozmill/timezoneTests/test9.js</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineplus">+++ b/calendar/test/mozmill/timezoneTests/test9.js</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineat">@@ -2,18 +2,18 @@</span>
<a href="#l65.4"></a><span id="l65.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l65.5"></a><span id="l65.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l65.6"></a><span id="l65.6"> </span>
<a href="#l65.7"></a><span id="l65.7"> var calUtils = require(&quot;../shared-modules/calendar-utils&quot;);</span>
<a href="#l65.8"></a><span id="l65.8"> var timezoneUtils = require(&quot;../shared-modules/timezone-utils&quot;);</span>
<a href="#l65.9"></a><span id="l65.9"> </span>
<a href="#l65.10"></a><span id="l65.10"> var sleep = 500;</span>
<a href="#l65.11"></a><span id="l65.11"> var calendar = &quot;Mozmill&quot;;</span>
<a href="#l65.12"></a><span id="l65.12" class="difflineminus">-var dates = [[2009,  1,  1], [2009,  4,  2], [2009,  4, 16], [2009,  4, 30],</span>
<a href="#l65.13"></a><span id="l65.13" class="difflineminus">-             [2009,  7,  2], [2009, 10, 15], [2009, 10, 29], [2009, 11,  5]];</span>
<a href="#l65.14"></a><span id="l65.14" class="difflineplus">+var dates = [[2009, 1, 1], [2009, 4, 2], [2009, 4, 16], [2009, 4, 30],</span>
<a href="#l65.15"></a><span id="l65.15" class="difflineplus">+             [2009, 7, 2], [2009, 10, 15], [2009, 10, 29], [2009, 11, 5]];</span>
<a href="#l65.16"></a><span id="l65.16"> var timezones = [&quot;America/St_Johns&quot;, &quot;America/Caracas&quot;, &quot;America/Phoenix&quot;, &quot;America/Los_Angeles&quot;,</span>
<a href="#l65.17"></a><span id="l65.17">                  &quot;America/Argentina/Buenos_Aires&quot;, &quot;Europe/Paris&quot;, &quot;Asia/Kathmandu&quot;, &quot;Australia/Adelaide&quot;];</span>
<a href="#l65.18"></a><span id="l65.18"> /* rows - dates</span>
<a href="#l65.19"></a><span id="l65.19">    columns - correct time for each event */</span>
<a href="#l65.20"></a><span id="l65.20"> var times = [[[13, 45], [14, 45], [15, 45], [16, 45], [17, 45], [18, 45], [19, 45], [20, 45]],</span>
<a href="#l65.21"></a><span id="l65.21">              [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [17, 45], [19, 45], [20, 45]],</span>
<a href="#l65.22"></a><span id="l65.22">              [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [17, 45], [19, 45], [21, 45]],</span>
<a href="#l65.23"></a><span id="l65.23">              [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [17, 45], [19, 45], [21, 45]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/calendar/test/unit/test_attendee.js</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/calendar/test/unit/test_attendee.js</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -258,17 +258,17 @@ function test_doubleParameters() {</span>
<a href="#l66.4"></a><span id="l66.4">         }</span>
<a href="#l66.5"></a><span id="l66.5">     };</span>
<a href="#l66.6"></a><span id="l66.6">     let expectedAttendee = {</span>
<a href="#l66.7"></a><span id="l66.7">         attendee1: {</span>
<a href="#l66.8"></a><span id="l66.8">             param:  [&quot;CN&quot;, &quot;RSVP&quot;, &quot;ROLE&quot;, &quot;PARTSTAT&quot;, &quot;CUTYPE&quot;, &quot;X-RECEIVED-DTSTAMP&quot;],</span>
<a href="#l66.9"></a><span id="l66.9">             values: [&quot;CN_attendee1&quot;, &quot;TRUE&quot;, &quot;REQ-PARTICIPANT&quot;, &quot;NEEDS-ACTION&quot;, &quot;INDIVIDUAL&quot;, &quot;20130827T124944Z&quot;]</span>
<a href="#l66.10"></a><span id="l66.10">         },</span>
<a href="#l66.11"></a><span id="l66.11">         attendee2: {</span>
<a href="#l66.12"></a><span id="l66.12" class="difflineminus">-            param:  [&quot;CN&quot;, &quot;ROLE&quot;,  &quot;PARTSTAT&quot;, &quot;CUTYPE&quot;],</span>
<a href="#l66.13"></a><span id="l66.13" class="difflineplus">+            param:  [&quot;CN&quot;, &quot;ROLE&quot;, &quot;PARTSTAT&quot;, &quot;CUTYPE&quot;],</span>
<a href="#l66.14"></a><span id="l66.14">             values: [&quot;CN_attendee2&quot;, &quot;CHAIR&quot;, &quot;ACCEPTED&quot;, &quot;INDIVIDUAL&quot;]</span>
<a href="#l66.15"></a><span id="l66.15">         },</span>
<a href="#l66.16"></a><span id="l66.16">         attendee3: {</span>
<a href="#l66.17"></a><span id="l66.17">             param:  [&quot;CN&quot;, &quot;RSVP&quot;, &quot;ROLE&quot;, &quot;PARTSTAT&quot;, &quot;CUTYPE&quot;],</span>
<a href="#l66.18"></a><span id="l66.18">             values: [&quot;CN_attendee3&quot;, &quot;TRUE&quot;, &quot;REQ-PARTICIPANT&quot;, &quot;NEEDS-ACTION&quot;, &quot;RESOURCE&quot;]</span>
<a href="#l66.19"></a><span id="l66.19">         },</span>
<a href="#l66.20"></a><span id="l66.20">         attendee4: {</span>
<a href="#l66.21"></a><span id="l66.21">             param:  [&quot;CN&quot;, &quot;PARTSTAT&quot;, &quot;X-RECEIVED-DTSTAMP&quot;, &quot;X-RECEIVED-SEQUENCE&quot;],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1" class="difflineminus">--- a/calendar/test/unit/test_bug1204255.js</span>
<a href="#l67.2"></a><span id="l67.2" class="difflineplus">+++ b/calendar/test/unit/test_bug1204255.js</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineat">@@ -110,16 +110,16 @@ function test_fromICS() {</span>
<a href="#l67.4"></a><span id="l67.4">     let attendees = event.getAttendees({});</span>
<a href="#l67.5"></a><span id="l67.5"> </span>
<a href="#l67.6"></a><span id="l67.6">     // check whether all attendees get returned as expected</span>
<a href="#l67.7"></a><span id="l67.7">     equal(attendees.length, expected.length);</span>
<a href="#l67.8"></a><span id="l67.8">     let count = 0;</span>
<a href="#l67.9"></a><span id="l67.9">     for (let attendee of attendees) {</span>
<a href="#l67.10"></a><span id="l67.10">         for (let exp of expected) {</span>
<a href="#l67.11"></a><span id="l67.11">             if (attendee.id == exp.id) {</span>
<a href="#l67.12"></a><span id="l67.12" class="difflineminus">-                equal(attendee.participationStatus,  exp.partstat, &quot;partstat matches for &quot; + exp.id);</span>
<a href="#l67.13"></a><span id="l67.13" class="difflineplus">+                equal(attendee.participationStatus, exp.partstat, &quot;partstat matches for &quot; + exp.id);</span>
<a href="#l67.14"></a><span id="l67.14">                 equal(attendee.commonName, exp.cn, &quot;cn matches for &quot; + exp.id);</span>
<a href="#l67.15"></a><span id="l67.15">                 count++;</span>
<a href="#l67.16"></a><span id="l67.16">             }</span>
<a href="#l67.17"></a><span id="l67.17">         }</span>
<a href="#l67.18"></a><span id="l67.18">     }</span>
<a href="#l67.19"></a><span id="l67.19">     equal(count, expected.length, &quot;all attendees were processed&quot;);</span>
<a href="#l67.20"></a><span id="l67.20"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1" class="difflineminus">--- a/calendar/test/unit/test_bug343792.js</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineplus">+++ b/calendar/test/unit/test_bug343792.js</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineat">@@ -49,17 +49,17 @@ function really_run_test() {</span>
<a href="#l68.4"></a><span id="l68.4">         &quot;PRIORITY:4\n&quot; +</span>
<a href="#l68.5"></a><span id="l68.5">         &quot;CLASS:PUBLIC\n&quot; +</span>
<a href="#l68.6"></a><span id="l68.6">         &quot;DESCRIPTION:Daily standup Mtg and/or status update on FW\n&quot; +</span>
<a href="#l68.7"></a><span id="l68.7">         &quot;END:VEVENT\n&quot; +</span>
<a href="#l68.8"></a><span id="l68.8">         &quot;END:VCALENDAR&quot;;</span>
<a href="#l68.9"></a><span id="l68.9"> </span>
<a href="#l68.10"></a><span id="l68.10">     let event = createEventFromIcalString(icalString);</span>
<a href="#l68.11"></a><span id="l68.11">     let start = createDate(2009, 4, 1);</span>
<a href="#l68.12"></a><span id="l68.12" class="difflineminus">-    let end   = createDate(2009, 4, 30);</span>
<a href="#l68.13"></a><span id="l68.13" class="difflineplus">+    let end = createDate(2009, 4, 30);</span>
<a href="#l68.14"></a><span id="l68.14"> </span>
<a href="#l68.15"></a><span id="l68.15">     // the following call caused a never ending loop:</span>
<a href="#l68.16"></a><span id="l68.16">     let occurrenceDates = event.recurrenceInfo.getOccurrenceDates(start, end, 0, {});</span>
<a href="#l68.17"></a><span id="l68.17">     equal(occurrenceDates.length, 4);</span>
<a href="#l68.18"></a><span id="l68.18"> </span>
<a href="#l68.19"></a><span id="l68.19">     // the following call caused a never ending loop:</span>
<a href="#l68.20"></a><span id="l68.20">     let occurrences = event.recurrenceInfo.getOccurrences(start, end, 0, {});</span>
<a href="#l68.21"></a><span id="l68.21">     equal(occurrences.length, 4);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1" class="difflineminus">--- a/calendar/test/unit/test_bug356207.js</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineplus">+++ b/calendar/test/unit/test_bug356207.js</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineat">@@ -29,18 +29,18 @@ function really_run_test() {</span>
<a href="#l69.4"></a><span id="l69.4">         &quot;SUMMARY:Friendship Circle\n&quot; +</span>
<a href="#l69.5"></a><span id="l69.5">         &quot;PRIORITY:1\n&quot; +</span>
<a href="#l69.6"></a><span id="l69.6">         &quot;DTEND:20040901T141500\n&quot; +</span>
<a href="#l69.7"></a><span id="l69.7">         &quot;RRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=1;BYDAY=WE\n&quot; +</span>
<a href="#l69.8"></a><span id="l69.8">         &quot;END:VEVENT\n&quot; +</span>
<a href="#l69.9"></a><span id="l69.9">         &quot;END:VCALENDAR&quot;;</span>
<a href="#l69.10"></a><span id="l69.10"> </span>
<a href="#l69.11"></a><span id="l69.11">     let event = createEventFromIcalString(icalString);</span>
<a href="#l69.12"></a><span id="l69.12" class="difflineminus">-    let start = createDate(2009,  0,  1);</span>
<a href="#l69.13"></a><span id="l69.13" class="difflineminus">-    let end   = createDate(2009, 11, 31);</span>
<a href="#l69.14"></a><span id="l69.14" class="difflineplus">+    let start = createDate(2009, 0, 1);</span>
<a href="#l69.15"></a><span id="l69.15" class="difflineplus">+    let end = createDate(2009, 11, 31);</span>
<a href="#l69.16"></a><span id="l69.16"> </span>
<a href="#l69.17"></a><span id="l69.17">     // the following call caused a never ending loop:</span>
<a href="#l69.18"></a><span id="l69.18">     let occurrenceDates = event.recurrenceInfo.getOccurrenceDates(start, end, 0, {});</span>
<a href="#l69.19"></a><span id="l69.19">     equal(occurrenceDates.length, 2);</span>
<a href="#l69.20"></a><span id="l69.20"> </span>
<a href="#l69.21"></a><span id="l69.21">     // the following call caused a never ending loop:</span>
<a href="#l69.22"></a><span id="l69.22">     let occurrences = event.recurrenceInfo.getOccurrences(start, end, 0, {});</span>
<a href="#l69.23"></a><span id="l69.23">     equal(occurrences.length, 2);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/calendar/test/unit/test_deleted_items.js</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/calendar/test/unit/test_deleted_items.js</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -46,17 +46,17 @@ add_task(function* test_deleted_items() </span>
<a href="#l70.4"></a><span id="l70.4"> </span>
<a href="#l70.5"></a><span id="l70.5">     // Add the item, it still shouldn't be in the deleted database.</span>
<a href="#l70.6"></a><span id="l70.6">     yield check_delmgr_call(() =&gt; memory.addItem(item, null));</span>
<a href="#l70.7"></a><span id="l70.7">     equal(delmgr.getDeletedDate(item.id), null);</span>
<a href="#l70.8"></a><span id="l70.8">     equal(delmgr.getDeletedDate(item.id, memory.id), null);</span>
<a href="#l70.9"></a><span id="l70.9"> </span>
<a href="#l70.10"></a><span id="l70.10">     // We need to stop time so we have something to compare with.</span>
<a href="#l70.11"></a><span id="l70.11">     let referenceDate = cal.createDateTime(&quot;20120726T112045&quot;); referenceDate.timezone = cal.calendarDefaultTimezone();</span>
<a href="#l70.12"></a><span id="l70.12" class="difflineminus">-    let futureDate = cal.createDateTime(&quot;20380101T000000&quot;);  futureDate.timezone = cal.calendarDefaultTimezone();</span>
<a href="#l70.13"></a><span id="l70.13" class="difflineplus">+    let futureDate = cal.createDateTime(&quot;20380101T000000&quot;); futureDate.timezone = cal.calendarDefaultTimezone();</span>
<a href="#l70.14"></a><span id="l70.14">     let useFutureDate = false;</span>
<a href="#l70.15"></a><span id="l70.15">     let oldNowFunction = cal.now;</span>
<a href="#l70.16"></a><span id="l70.16">     cal.now = function test_specific_now() {</span>
<a href="#l70.17"></a><span id="l70.17">         return (useFutureDate ? futureDate : referenceDate).clone();</span>
<a href="#l70.18"></a><span id="l70.18">     }</span>
<a href="#l70.19"></a><span id="l70.19"> </span>
<a href="#l70.20"></a><span id="l70.20">     // Deleting an item should trigger it being marked for deletion.</span>
<a href="#l70.21"></a><span id="l70.21">     yield check_delmgr_call(() =&gt; memory.deleteItem(item, null));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1" class="difflineminus">--- a/calendar/test/unit/test_gdata_provider.js</span>
<a href="#l71.2"></a><span id="l71.2" class="difflineplus">+++ b/calendar/test/unit/test_gdata_provider.js</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineat">@@ -161,17 +161,17 @@ GDataServer.prototype = {</span>
<a href="#l71.4"></a><span id="l71.4">             &quot;primary&quot;: true,</span>
<a href="#l71.5"></a><span id="l71.5">             &quot;selected&quot;: true,</span>
<a href="#l71.6"></a><span id="l71.6">             &quot;accessRole&quot;: &quot;owner&quot;,</span>
<a href="#l71.7"></a><span id="l71.7">             &quot;defaultReminders&quot;: [],</span>
<a href="#l71.8"></a><span id="l71.8">             &quot;notificationSettings&quot;: {</span>
<a href="#l71.9"></a><span id="l71.9">                 &quot;notifications&quot;: [</span>
<a href="#l71.10"></a><span id="l71.10">                     { &quot;type&quot;: &quot;eventCreation&quot;, &quot;method&quot;: &quot;email&quot; },</span>
<a href="#l71.11"></a><span id="l71.11">                     { &quot;type&quot;: &quot;eventChange&quot;, &quot;method&quot;: &quot;email&quot; },</span>
<a href="#l71.12"></a><span id="l71.12" class="difflineminus">-                    { &quot;type&quot;: &quot;eventCancellation&quot;,  &quot;method&quot;: &quot;email&quot; }</span>
<a href="#l71.13"></a><span id="l71.13" class="difflineplus">+                    { &quot;type&quot;: &quot;eventCancellation&quot;, &quot;method&quot;: &quot;email&quot; }</span>
<a href="#l71.14"></a><span id="l71.14">                 ]</span>
<a href="#l71.15"></a><span id="l71.15">             }</span>
<a href="#l71.16"></a><span id="l71.16">         };</span>
<a href="#l71.17"></a><span id="l71.17">     },</span>
<a href="#l71.18"></a><span id="l71.18"> </span>
<a href="#l71.19"></a><span id="l71.19">     waitForLoad: function(aCalendar) {</span>
<a href="#l71.20"></a><span id="l71.20">         return new Promise(function(resolve, reject) {</span>
<a href="#l71.21"></a><span id="l71.21">             let observer = cal.createAdapter(Components.interfaces.calIObserver, {</span>
<a href="#l71.22"></a><span id="l71.22" class="difflineat">@@ -408,17 +408,17 @@ GDataServer.prototype = {</span>
<a href="#l71.23"></a><span id="l71.23">         }</span>
<a href="#l71.24"></a><span id="l71.24">         this.nextEtag = null;</span>
<a href="#l71.25"></a><span id="l71.25">         return jsonData;</span>
<a href="#l71.26"></a><span id="l71.26">     },</span>
<a href="#l71.27"></a><span id="l71.27"> </span>
<a href="#l71.28"></a><span id="l71.28">     processModifyEvent: function(jsonData, id) {</span>
<a href="#l71.29"></a><span id="l71.29">         jsonData.kind = &quot;calendar#event&quot;;</span>
<a href="#l71.30"></a><span id="l71.30">         jsonData.etag = this.nextEtag || '&quot;' + (new Date()).getTime() + '&quot;';</span>
<a href="#l71.31"></a><span id="l71.31" class="difflineminus">-        jsonData.updated  = cal.toRFC3339(cal.now());</span>
<a href="#l71.32"></a><span id="l71.32" class="difflineplus">+        jsonData.updated = cal.toRFC3339(cal.now());</span>
<a href="#l71.33"></a><span id="l71.33">         jsonData.id = id;</span>
<a href="#l71.34"></a><span id="l71.34">         jsonData.iCalUID = (jsonData.recurringEventId || jsonData.id) + &quot;@google.com&quot;;</span>
<a href="#l71.35"></a><span id="l71.35">         if (!jsonData.creator) {</span>
<a href="#l71.36"></a><span id="l71.36">             jsonData.creator = this.creator;</span>
<a href="#l71.37"></a><span id="l71.37">         }</span>
<a href="#l71.38"></a><span id="l71.38">         if (!jsonData.organizer) {</span>
<a href="#l71.39"></a><span id="l71.39">             jsonData.organizer = this.creator;</span>
<a href="#l71.40"></a><span id="l71.40">         }</span>
<a href="#l71.41"></a><span id="l71.41" class="difflineat">@@ -441,17 +441,17 @@ GDataServer.prototype = {</span>
<a href="#l71.42"></a><span id="l71.42"> </span>
<a href="#l71.43"></a><span id="l71.43">         this.nextEtag = null;</span>
<a href="#l71.44"></a><span id="l71.44">         return jsonData;</span>
<a href="#l71.45"></a><span id="l71.45">     },</span>
<a href="#l71.46"></a><span id="l71.46"> </span>
<a href="#l71.47"></a><span id="l71.47">     processModifyTask: function(jsonData) {</span>
<a href="#l71.48"></a><span id="l71.48">         jsonData.kind = &quot;tasks#task&quot;;</span>
<a href="#l71.49"></a><span id="l71.49">         jsonData.etag = this.nextEtag || '&quot;' + (new Date()).getTime() + '&quot;';</span>
<a href="#l71.50"></a><span id="l71.50" class="difflineminus">-        jsonData.updated  = cal.toRFC3339(cal.now());</span>
<a href="#l71.51"></a><span id="l71.51" class="difflineplus">+        jsonData.updated = cal.toRFC3339(cal.now());</span>
<a href="#l71.52"></a><span id="l71.52">         if (!jsonData.status) {</span>
<a href="#l71.53"></a><span id="l71.53">             jsonData.status = &quot;needsAction&quot;;</span>
<a href="#l71.54"></a><span id="l71.54">         }</span>
<a href="#l71.55"></a><span id="l71.55">         if (!jsonData.updated) {</span>
<a href="#l71.56"></a><span id="l71.56">             jsonData.updated = cal.toRFC3339(cal.now());</span>
<a href="#l71.57"></a><span id="l71.57">         }</span>
<a href="#l71.58"></a><span id="l71.58"> </span>
<a href="#l71.59"></a><span id="l71.59">         this.nextEtag = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1" class="difflineminus">--- a/calendar/test/unit/test_providers.js</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineplus">+++ b/calendar/test/unit/test_providers.js</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineat">@@ -382,27 +382,27 @@ function testMetaData() {</span>
<a href="#l72.4"></a><span id="l72.4">         aCalendar.setMetaData(&quot;item2&quot;, &quot;meta2&quot;);</span>
<a href="#l72.5"></a><span id="l72.5">         equal(aCalendar.getMetaData(&quot;item2&quot;), &quot;meta2&quot;);</span>
<a href="#l72.6"></a><span id="l72.6"> </span>
<a href="#l72.7"></a><span id="l72.7">         var count = {};</span>
<a href="#l72.8"></a><span id="l72.8">         var ids = {};</span>
<a href="#l72.9"></a><span id="l72.9">         var values = {};</span>
<a href="#l72.10"></a><span id="l72.10">         aCalendar.getAllMetaData(count, ids, values);</span>
<a href="#l72.11"></a><span id="l72.11">         equal(count.value, 2);</span>
<a href="#l72.12"></a><span id="l72.12" class="difflineminus">-        ok(ids.value[0] ==  &quot;item1&quot; || ids.value[1] == &quot;item1&quot;);</span>
<a href="#l72.13"></a><span id="l72.13" class="difflineminus">-        ok(ids.value[0] ==  &quot;item2&quot; || ids.value[1] == &quot;item2&quot;);</span>
<a href="#l72.14"></a><span id="l72.14" class="difflineminus">-        ok(values.value[0] ==  &quot;meta1&quot; || values.value[1] == &quot;meta1&quot;);</span>
<a href="#l72.15"></a><span id="l72.15" class="difflineminus">-        ok(values.value[0] ==  &quot;meta2&quot; || values.value[1] == &quot;meta2&quot;);</span>
<a href="#l72.16"></a><span id="l72.16" class="difflineplus">+        ok(ids.value[0] == &quot;item1&quot; || ids.value[1] == &quot;item1&quot;);</span>
<a href="#l72.17"></a><span id="l72.17" class="difflineplus">+        ok(ids.value[0] == &quot;item2&quot; || ids.value[1] == &quot;item2&quot;);</span>
<a href="#l72.18"></a><span id="l72.18" class="difflineplus">+        ok(values.value[0] == &quot;meta1&quot; || values.value[1] == &quot;meta1&quot;);</span>
<a href="#l72.19"></a><span id="l72.19" class="difflineplus">+        ok(values.value[0] == &quot;meta2&quot; || values.value[1] == &quot;meta2&quot;);</span>
<a href="#l72.20"></a><span id="l72.20"> </span>
<a href="#l72.21"></a><span id="l72.21">         aCalendar.deleteItem(event1, null);</span>
<a href="#l72.22"></a><span id="l72.22">         equal(aCalendar.getMetaData(&quot;item1&quot;), null);</span>
<a href="#l72.23"></a><span id="l72.23">         aCalendar.getAllMetaData(count, ids, values);</span>
<a href="#l72.24"></a><span id="l72.24">         equal(count.value, 1);</span>
<a href="#l72.25"></a><span id="l72.25" class="difflineminus">-        ok(ids.value[0] ==  &quot;item2&quot;);</span>
<a href="#l72.26"></a><span id="l72.26" class="difflineminus">-        ok(values.value[0] ==  &quot;meta2&quot;);</span>
<a href="#l72.27"></a><span id="l72.27" class="difflineplus">+        ok(ids.value[0] == &quot;item2&quot;);</span>
<a href="#l72.28"></a><span id="l72.28" class="difflineplus">+        ok(values.value[0] == &quot;meta2&quot;);</span>
<a href="#l72.29"></a><span id="l72.29"> </span>
<a href="#l72.30"></a><span id="l72.30">         aCalendar.deleteMetaData(&quot;item2&quot;);</span>
<a href="#l72.31"></a><span id="l72.31">         equal(aCalendar.getMetaData(&quot;item2&quot;), null);</span>
<a href="#l72.32"></a><span id="l72.32">         aCalendar.getAllMetaData(count, ids, values);</span>
<a href="#l72.33"></a><span id="l72.33">         equal(count.value, 0);</span>
<a href="#l72.34"></a><span id="l72.34"> </span>
<a href="#l72.35"></a><span id="l72.35">         aCalendar.setMetaData(&quot;item2&quot;, &quot;meta2&quot;);</span>
<a href="#l72.36"></a><span id="l72.36">         equal(aCalendar.getMetaData(&quot;item2&quot;), &quot;meta2&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1" class="difflineminus">--- a/calendar/test/unit/test_webcal.js</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineplus">+++ b/calendar/test/unit/test_webcal.js</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineat">@@ -15,17 +15,17 @@ function run_test() {</span>
<a href="#l73.4"></a><span id="l73.4">         }</span>
<a href="#l73.5"></a><span id="l73.5">     });</span>
<a href="#l73.6"></a><span id="l73.6">     httpserv.start(-1);</span>
<a href="#l73.7"></a><span id="l73.7"> </span>
<a href="#l73.8"></a><span id="l73.8">     let baseUri = &quot;://localhost:&quot; + httpserv.identity.primaryPort + &quot;/test_webcal&quot;;</span>
<a href="#l73.9"></a><span id="l73.9">     add_test(check_webcal_uri.bind(null, &quot;webcal&quot; + baseUri));</span>
<a href="#l73.10"></a><span id="l73.10">     // TODO webcals needs bug 466524 to be fixed</span>
<a href="#l73.11"></a><span id="l73.11">     // add_test(check_webcal_uri.bind(null, &quot;webcals&quot; + baseUri));</span>
<a href="#l73.12"></a><span id="l73.12" class="difflineminus">-    add_test(() =&gt;  httpserv.stop(run_next_test));</span>
<a href="#l73.13"></a><span id="l73.13" class="difflineplus">+    add_test(() =&gt; httpserv.stop(run_next_test));</span>
<a href="#l73.14"></a><span id="l73.14"> </span>
<a href="#l73.15"></a><span id="l73.15">     // Now lets go...</span>
<a href="#l73.16"></a><span id="l73.16">     run_next_test();</span>
<a href="#l73.17"></a><span id="l73.17"> }</span>
<a href="#l73.18"></a><span id="l73.18"> </span>
<a href="#l73.19"></a><span id="l73.19"> function check_webcal_uri(aUri) {</span>
<a href="#l73.20"></a><span id="l73.20">     let uri = Services.io.newURI(aUri, null, null);</span>
<a href="#l73.21"></a><span id="l73.21"> </span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

