<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 12954:8e9531bfd45a2f6aed1cb855305b0b8ed37445ee</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 8e9531bfd45a2f6aed1cb855305b0b8ed37445ee" />
<meta property="og:url" content="/comm-central/rev/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee" />
<meta property="og:description" content="Bug 592235 - Alert on active folder should identify Mail Account or Folder for &quot;This folder is being processed... to get messages.&quot;. r=mkmelin, ui-r=bwinton, a=RyanVM" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 8e9531bfd45a2f6aed1cb855305b0b8ed37445ee 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee">shortlog</a> |
<a href="/comm-central/log/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee">files</a> |
changeset |
<a href="/comm-central/raw-rev/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee">raw</a>  | <a href="/comm-central/archive/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=592235">Bug 592235</a> - Alert on active folder should identify Mail Account or Folder for &quot;This folder is being processed... to get messages.&quot;. r=mkmelin, ui-r=bwinton, a=RyanVM
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#83;&#117;&#121;&#97;&#115;&#104;&#32;&#65;&#103;&#97;&#114;&#119;&#97;&#108;&#32;&#60;&#115;&#121;&#115;&#104;&#97;&#103;&#97;&#114;&#119;&#97;&#108;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 22 Aug 2013 10:08:09 -0400</td></tr>

<tr>
 <td>changeset 12954</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee">8e9531bfd45a2f6aed1cb855305b0b8ed37445ee</a></td>
</tr>



<tr>
<td>parent 12953</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/da15545442101589d9d95aef025bf1973135a299">da15545442101589d9d95aef025bf1973135a299</a>
</td>
</tr>

<tr>
<td>child 12955</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/339bc9eac2fce242fcb4354fd1505e94a3fe8edf">339bc9eac2fce242fcb4354fd1505e94a3fe8edf</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=8e9531bfd45a2f6aed1cb855305b0b8ed37445ee">9444</a></td></tr>
<tr><td>push user</td><td>ryanvm@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 22 Aug 2013 14:08:34 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@8e9531bfd45a [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=8e9531bfd45a2f6aed1cb855305b0b8ed37445ee">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=8e9531bfd45a2f6aed1cb855305b0b8ed37445ee&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=8e9531bfd45a2f6aed1cb855305b0b8ed37445ee&newProject=comm-central&newRevision=f5218db4199fb8fe37a6eb24965f6e35677b1038&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=8e9531bfd45a2f6aed1cb855305b0b8ed37445ee&newProject=comm-central&newRevision=f5218db4199fb8fe37a6eb24965f6e35677b1038&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=8e9531bfd45a2f6aed1cb855305b0b8ed37445ee&newProject=comm-central&newRevision=f5218db4199fb8fe37a6eb24965f6e35677b1038&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a>, <a href="/comm-central/log?rev=reviewer%28bwinton%29&revcount=50">bwinton</a>, <a href="/comm-central/log?rev=reviewer%28RyanVM%29&revcount=50">RyanVM</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=592235">592235</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=592235">Bug 592235</a> - Alert on active folder should identify Mail Account or Folder for &quot;This folder is being processed... to get messages.&quot;. r=mkmelin, ui-r=bwinton, a=RyanVM
CLOSED TREE</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mail/locales/en-US/chrome/messenger/localMsgs.properties">mail/locales/en-US/chrome/messenger/localMsgs.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mail/locales/en-US/chrome/messenger/localMsgs.properties">file</a> |
<a href="/comm-central/annotate/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mail/locales/en-US/chrome/messenger/localMsgs.properties">annotate</a> |
<a href="/comm-central/diff/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mail/locales/en-US/chrome/messenger/localMsgs.properties">diff</a> |
<a href="/comm-central/comparison/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mail/locales/en-US/chrome/messenger/localMsgs.properties">comparison</a> |
<a href="/comm-central/log/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mail/locales/en-US/chrome/messenger/localMsgs.properties">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Protocol.cpp">mailnews/local/src/nsPop3Protocol.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Protocol.cpp">file</a> |
<a href="/comm-central/annotate/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Protocol.cpp">annotate</a> |
<a href="/comm-central/diff/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Protocol.cpp">diff</a> |
<a href="/comm-central/comparison/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Protocol.cpp">comparison</a> |
<a href="/comm-central/log/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Protocol.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Service.cpp">mailnews/local/src/nsPop3Service.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Service.cpp">file</a> |
<a href="/comm-central/annotate/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Service.cpp">annotate</a> |
<a href="/comm-central/diff/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Service.cpp">diff</a> |
<a href="/comm-central/comparison/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Service.cpp">comparison</a> |
<a href="/comm-central/log/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/mailnews/local/src/nsPop3Service.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/suite/locales/en-US/chrome/mailnews/localMsgs.properties">suite/locales/en-US/chrome/mailnews/localMsgs.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/suite/locales/en-US/chrome/mailnews/localMsgs.properties">file</a> |
<a href="/comm-central/annotate/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/suite/locales/en-US/chrome/mailnews/localMsgs.properties">annotate</a> |
<a href="/comm-central/diff/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/suite/locales/en-US/chrome/mailnews/localMsgs.properties">diff</a> |
<a href="/comm-central/comparison/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/suite/locales/en-US/chrome/mailnews/localMsgs.properties">comparison</a> |
<a href="/comm-central/log/8e9531bfd45a2f6aed1cb855305b0b8ed37445ee/suite/locales/en-US/chrome/mailnews/localMsgs.properties">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/localMsgs.properties</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/localMsgs.properties</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -92,17 +92,19 @@ pop3StatFail=The STAT command did not su</span>
<a href="#l1.4"></a><span id="l1.4"> #LOCALIZATION NOTE (pop3ServerSaid): Do not remove the leading space during translation.</span>
<a href="#l1.5"></a><span id="l1.5"> pop3ServerSaid= Mail server %S responded: </span>
<a href="#l1.6"></a><span id="l1.6"> </span>
<a href="#l1.7"></a><span id="l1.7"> copyingMessagesStatus=Copying %S of %S messages to %S</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9"> movingMessagesStatus=Moving %S of %S messages to %S</span>
<a href="#l1.10"></a><span id="l1.10"> </span>
<a href="#l1.11"></a><span id="l1.11"> # Status - write error occurred</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-pop3MessageFolderBusy=This folder is being processed. Please wait until processing is complete to get messages.</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+# LOCALIZATION NOTE (pop3ServerBusy): Do not translate the word &quot;%S&quot; below.</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+# Place %S where the account name should appear.</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+pop3ServerBusy=The account %S is being processed. Please wait until processing is complete to get messages.</span>
<a href="#l1.16"></a><span id="l1.16"> </span>
<a href="#l1.17"></a><span id="l1.17"> movemailCantOpenSpoolFile=Unable to open mail spool file %S.</span>
<a href="#l1.18"></a><span id="l1.18"> </span>
<a href="#l1.19"></a><span id="l1.19"> movemailCantCreateLock=Unable to create lock file %S. For movemail to work, it is necessary to create lock files in the mail spool directory. On many systems, this is best accomplished by making the spool directory be mode 01777.</span>
<a href="#l1.20"></a><span id="l1.20"> </span>
<a href="#l1.21"></a><span id="l1.21"> movemailCantDeleteLock=Unable to delete lock file %S.</span>
<a href="#l1.22"></a><span id="l1.22"> </span>
<a href="#l1.23"></a><span id="l1.23"> movemailCantTruncateSpoolFile=Unable to truncate spool file %S.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mailnews/local/src/nsPop3Protocol.cpp</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mailnews/local/src/nsPop3Protocol.cpp</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -2360,17 +2360,17 @@ nsPop3Protocol::GetStat()</span>
<a href="#l2.4"></a><span id="l2.4">         rv = mailnewsUrl-&gt;GetMsgWindow(getter_AddRefs(msgWindow));</span>
<a href="#l2.5"></a><span id="l2.5"> //      NS_ASSERTION(NS_SUCCEEDED(rv) &amp;&amp; msgWindow, &quot;no msg window&quot;);</span>
<a href="#l2.6"></a><span id="l2.6"> </span>
<a href="#l2.7"></a><span id="l2.7">       rv = m_nsIPop3Sink-&gt;BeginMailDelivery(m_pop3ConData-&gt;only_uidl != nullptr, msgWindow,</span>
<a href="#l2.8"></a><span id="l2.8">                                                     &amp;m_pop3ConData-&gt;msg_del_started);</span>
<a href="#l2.9"></a><span id="l2.9">       if (NS_FAILED(rv))</span>
<a href="#l2.10"></a><span id="l2.10">       {</span>
<a href="#l2.11"></a><span id="l2.11">         m_nsIPop3Sink-&gt;AbortMailDelivery(this);</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-        return Error(rv == NS_MSG_FOLDER_BUSY ? &quot;pop3MessageFolderBusy&quot; :</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+        return Error(rv == NS_MSG_FOLDER_BUSY ? &quot;pop3ServerBusy&quot; :</span>
<a href="#l2.14"></a><span id="l2.14">                                                 &quot;pop3MessageWriteError&quot;);</span>
<a href="#l2.15"></a><span id="l2.15">       }</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17">       if(!m_pop3ConData-&gt;msg_del_started)</span>
<a href="#l2.18"></a><span id="l2.18">         return Error(&quot;pop3MessageWriteError&quot;);</span>
<a href="#l2.19"></a><span id="l2.19">   }</span>
<a href="#l2.20"></a><span id="l2.20"> </span>
<a href="#l2.21"></a><span id="l2.21">   m_pop3ConData-&gt;next_state = POP3_SEND_LIST;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mailnews/local/src/nsPop3Service.cpp</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mailnews/local/src/nsPop3Service.cpp</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -247,17 +247,17 @@ nsresult nsPop3Service::RunPopUrl(nsIMsg</span>
<a href="#l3.4"></a><span id="l3.4">   // we store the username unescaped in the server</span>
<a href="#l3.5"></a><span id="l3.5">   // so there is no need to unescape it</span>
<a href="#l3.6"></a><span id="l3.6">   nsresult rv = aServer-&gt;GetRealUsername(userName);</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8">   // find out if the server is busy or not...if the server is busy, we are</span>
<a href="#l3.9"></a><span id="l3.9">   // *NOT* going to run the url</span>
<a href="#l3.10"></a><span id="l3.10">   bool serverBusy = false;</span>
<a href="#l3.11"></a><span id="l3.11">   rv = aServer-&gt;GetServerBusy(&amp;serverBusy);</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+  NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l3.14"></a><span id="l3.14">   if (!serverBusy)</span>
<a href="#l3.15"></a><span id="l3.15">   {</span>
<a href="#l3.16"></a><span id="l3.16">     nsRefPtr&lt;nsPop3Protocol&gt; protocol = new nsPop3Protocol(aUrlToRun);</span>
<a href="#l3.17"></a><span id="l3.17">     if (protocol)</span>
<a href="#l3.18"></a><span id="l3.18">     {</span>
<a href="#l3.19"></a><span id="l3.19">       // the protocol stores the unescaped username, so there is no need to escape it.</span>
<a href="#l3.20"></a><span id="l3.20">       protocol-&gt;SetUsername(userName.get());</span>
<a href="#l3.21"></a><span id="l3.21">       rv = protocol-&gt;LoadUrl(aUrlToRun);</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineat">@@ -436,36 +436,48 @@ NS_IMETHODIMP nsPop3Service::NewURI(cons</span>
<a href="#l3.23"></a><span id="l3.23"> }</span>
<a href="#l3.24"></a><span id="l3.24"> </span>
<a href="#l3.25"></a><span id="l3.25"> void nsPop3Service::AlertServerBusy(nsIMsgMailNewsUrl *url)</span>
<a href="#l3.26"></a><span id="l3.26"> {</span>
<a href="#l3.27"></a><span id="l3.27">   nsresult rv;</span>
<a href="#l3.28"></a><span id="l3.28">   nsCOMPtr&lt;nsIStringBundleService&gt; bundleService =</span>
<a href="#l3.29"></a><span id="l3.29">     mozilla::services::GetStringBundleService();</span>
<a href="#l3.30"></a><span id="l3.30">   if (!bundleService)</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-    return void(0);</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+    return;</span>
<a href="#l3.33"></a><span id="l3.33">   nsCOMPtr&lt;nsIStringBundle&gt; bundle;</span>
<a href="#l3.34"></a><span id="l3.34">   rv = bundleService-&gt;CreateBundle(&quot;chrome://messenger/locale/localMsgs.properties&quot;, getter_AddRefs(bundle));</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineminus">-  NS_ENSURE_SUCCESS(rv, void(0));</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineplus">+  NS_ENSURE_SUCCESS_VOID(rv);</span>
<a href="#l3.37"></a><span id="l3.37"> </span>
<a href="#l3.38"></a><span id="l3.38">   nsCOMPtr&lt;nsIMsgWindow&gt; msgWindow;</span>
<a href="#l3.39"></a><span id="l3.39">   nsCOMPtr&lt;nsIPrompt&gt; dialog;</span>
<a href="#l3.40"></a><span id="l3.40">   rv = url-&gt;GetMsgWindow(getter_AddRefs(msgWindow)); //it is ok to have null msgWindow, for example when biffing</span>
<a href="#l3.41"></a><span id="l3.41">   if (NS_FAILED(rv) || !msgWindow)</span>
<a href="#l3.42"></a><span id="l3.42">     return;</span>
<a href="#l3.43"></a><span id="l3.43"> </span>
<a href="#l3.44"></a><span id="l3.44">   rv = msgWindow-&gt;GetPromptDialog(getter_AddRefs(dialog));</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineminus">-  NS_ENSURE_SUCCESS(rv, void(0));</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineplus">+  NS_ENSURE_SUCCESS_VOID(rv);</span>
<a href="#l3.47"></a><span id="l3.47"> </span>
<a href="#l3.48"></a><span id="l3.48" class="difflineplus">+  nsString accountName;</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineplus">+  nsCOMPtr&lt;nsIMsgIncomingServer&gt; server;</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineplus">+  rv = url-&gt;GetServer(getter_AddRefs(server));</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineplus">+  NS_ENSURE_SUCCESS_VOID(rv);</span>
<a href="#l3.52"></a><span id="l3.52" class="difflineplus">+  rv = server-&gt;GetPrettyName(accountName);</span>
<a href="#l3.53"></a><span id="l3.53" class="difflineplus">+  NS_ENSURE_SUCCESS_VOID(rv);</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineplus">+</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineplus">+  const PRUnichar *params[] = { accountName.get() };</span>
<a href="#l3.56"></a><span id="l3.56">   nsString alertString;</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineminus">-  bundle-&gt;GetStringFromName(</span>
<a href="#l3.58"></a><span id="l3.58" class="difflineminus">-    NS_LITERAL_STRING(&quot;pop3MessageFolderBusy&quot;).get(),</span>
<a href="#l3.59"></a><span id="l3.59" class="difflineminus">-    getter_Copies(alertString));</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineplus">+  nsString dialogTitle;</span>
<a href="#l3.61"></a><span id="l3.61" class="difflineplus">+  bundle-&gt;FormatStringFromName(</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineplus">+    NS_LITERAL_STRING(&quot;pop3ServerBusy&quot;).get(),</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineplus">+    params, 1, getter_Copies(alertString));</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineplus">+  bundle-&gt;FormatStringFromName(</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineplus">+    NS_LITERAL_STRING(&quot;pop3ErrorDialogTitle&quot;).get(),</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineplus">+    params, 1, getter_Copies(dialogTitle));</span>
<a href="#l3.67"></a><span id="l3.67">   if (!alertString.IsEmpty())</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineminus">-    dialog-&gt;Alert(nullptr, alertString.get());</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineplus">+    dialog-&gt;Alert(dialogTitle.get(), alertString.get());</span>
<a href="#l3.70"></a><span id="l3.70"> }</span>
<a href="#l3.71"></a><span id="l3.71"> </span>
<a href="#l3.72"></a><span id="l3.72"> NS_IMETHODIMP nsPop3Service::NewChannel(nsIURI *aURI, nsIChannel **_retval)</span>
<a href="#l3.73"></a><span id="l3.73"> {</span>
<a href="#l3.74"></a><span id="l3.74">   NS_ENSURE_ARG_POINTER(aURI);</span>
<a href="#l3.75"></a><span id="l3.75">   nsresult rv;</span>
<a href="#l3.76"></a><span id="l3.76"> </span>
<a href="#l3.77"></a><span id="l3.77">   nsCOMPtr&lt;nsIMsgMailNewsUrl&gt; url = do_QueryInterface(aURI, &amp;rv);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/locales/en-US/chrome/mailnews/localMsgs.properties</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/mailnews/localMsgs.properties</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -67,17 +67,19 @@ pop3UsernameFailure=Sending of username </span>
<a href="#l4.4"></a><span id="l4.4"> #LOCALIZATION NOTE (pop3PasswordFailed): Do not translate &quot;%1$S&quot; below.</span>
<a href="#l4.5"></a><span id="l4.5"> # Place the word %1$S where the user name should appear.</span>
<a href="#l4.6"></a><span id="l4.6"> pop3PasswordFailed=Sending of password for user %1$S did not succeed.</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> # Status - write error occurred</span>
<a href="#l4.9"></a><span id="l4.9"> pop3MessageWriteError=Unable to write the email to the mailbox. Make sure the file system allows you write privileges, and you have enough disk space to copy the mailbox.</span>
<a href="#l4.10"></a><span id="l4.10"> </span>
<a href="#l4.11"></a><span id="l4.11"> # Status - write error occurred</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-pop3MessageFolderBusy=This folder is being processed. Please wait until processing is complete to get messages.</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+# LOCALIZATION NOTE (pop3ServerBusy): Do not translate the word &quot;%S&quot; below.</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+# Place %S where the account name should appear.</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+pop3ServerBusy=The account %S is being processed. Please wait until processing is complete to get messages.</span>
<a href="#l4.16"></a><span id="l4.16"> </span>
<a href="#l4.17"></a><span id="l4.17"> # Status - retr failure from the server</span>
<a href="#l4.18"></a><span id="l4.18"> pop3RetrFailure=The RETR command did not succeed. Error retrieving a message.</span>
<a href="#l4.19"></a><span id="l4.19"> </span>
<a href="#l4.20"></a><span id="l4.20"> # Status - password undefined </span>
<a href="#l4.21"></a><span id="l4.21"> pop3PasswordUndefined=Error getting mail password.</span>
<a href="#l4.22"></a><span id="l4.22"> </span>
<a href="#l4.23"></a><span id="l4.23"> # Status - username undefined </span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

