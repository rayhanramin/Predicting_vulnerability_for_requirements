<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 9674:70af4549f05b2bf54907dfbc2509e4ca44b2d0e6</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 70af4549f05b2bf54907dfbc2509e4ca44b2d0e6" />
<meta property="og:url" content="/comm-central/rev/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6" />
<meta property="og:description" content="Bug 734915 - Replace the feed subscribe folderpicker with new methods. 1.) Replace old rdf rules to newer binding based picker. 2.) Show path not just leaf folder name. 3.) When folder selected, allow click/enter toggle to display folder pretty path and absolute file path. 4.) Ensure keyboard works for all actions. 5.) &quot;Loading&quot; message for feedback on long tree builds. r=dbienvenu" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 70af4549f05b2bf54907dfbc2509e4ca44b2d0e6 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6">shortlog</a> |
<a href="/comm-central/log/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6">files</a> |
changeset |
<a href="/comm-central/raw-rev/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6">raw</a>  | <a href="/comm-central/archive/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=734915">Bug 734915</a> - Replace the feed subscribe folderpicker with new methods. 1.) Replace old rdf rules to newer binding based picker. 2.) Show path not just leaf folder name. 3.) When folder selected, allow click/enter toggle to display folder pretty path and absolute file path. 4.) Ensure keyboard works for all actions. 5.) &quot;Loading&quot; message for feedback on long tree builds. r=dbienvenu
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#97;&#108;&#116;&#97;&#56;&#56;&#32;&#60;&#97;&#108;&#116;&#97;&#56;&#56;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 15 Mar 2012 17:06:37 -0600</td></tr>

<tr>
 <td>changeset 9674</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6">70af4549f05b2bf54907dfbc2509e4ca44b2d0e6</a></td>
</tr>



<tr>
<td>parent 9673</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/cd3cd74613f8c0b1e2404dfc6dfae3fc7dd2df72">cd3cd74613f8c0b1e2404dfc6dfae3fc7dd2df72</a>
</td>
</tr>

<tr>
<td>child 9675</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/6af3f1722764b125f67b093f71e1c3d28c4e73bb">6af3f1722764b125f67b093f71e1c3d28c4e73bb</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=70af4549f05b2bf54907dfbc2509e4ca44b2d0e6">7398</a></td></tr>
<tr><td>push user</td><td>ryanvm@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Sun, 18 Mar 2012 17:20:04 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@70af4549f05b [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=70af4549f05b2bf54907dfbc2509e4ca44b2d0e6">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=70af4549f05b2bf54907dfbc2509e4ca44b2d0e6&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=70af4549f05b2bf54907dfbc2509e4ca44b2d0e6&newProject=comm-central&newRevision=cd3cd74613f8c0b1e2404dfc6dfae3fc7dd2df72&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=70af4549f05b2bf54907dfbc2509e4ca44b2d0e6&newProject=comm-central&newRevision=cd3cd74613f8c0b1e2404dfc6dfae3fc7dd2df72&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=70af4549f05b2bf54907dfbc2509e4ca44b2d0e6&newProject=comm-central&newRevision=cd3cd74613f8c0b1e2404dfc6dfae3fc7dd2df72&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28dbienvenu%29&revcount=50">dbienvenu</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=734915">734915</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=734915">Bug 734915</a> - Replace the feed subscribe folderpicker with new methods. 1.) Replace old rdf rules to newer binding based picker. 2.) Show path not just leaf folder name. 3.) When folder selected, allow click/enter toggle to display folder pretty path and absolute file path. 4.) Ensure keyboard works for all actions. 5.) &quot;Loading&quot; message for feedback on long tree builds. r=dbienvenu</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mail/locales/en-US/chrome/messenger-newsblog/newsblog.properties">mail/locales/en-US/chrome/messenger-newsblog/newsblog.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mail/locales/en-US/chrome/messenger-newsblog/newsblog.properties">file</a> |
<a href="/comm-central/annotate/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mail/locales/en-US/chrome/messenger-newsblog/newsblog.properties">annotate</a> |
<a href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mail/locales/en-US/chrome/messenger-newsblog/newsblog.properties">diff</a> |
<a href="/comm-central/comparison/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mail/locales/en-US/chrome/messenger-newsblog/newsblog.properties">comparison</a> |
<a href="/comm-central/log/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mail/locales/en-US/chrome/messenger-newsblog/newsblog.properties">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/base/content/folderWidgets.xml">mailnews/base/content/folderWidgets.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/base/content/folderWidgets.xml">file</a> |
<a href="/comm-central/annotate/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/base/content/folderWidgets.xml">annotate</a> |
<a href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/base/content/folderWidgets.xml">diff</a> |
<a href="/comm-central/comparison/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/base/content/folderWidgets.xml">comparison</a> |
<a href="/comm-central/log/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/base/content/folderWidgets.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.js">mailnews/extensions/newsblog/content/feed-subscriptions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.js">file</a> |
<a href="/comm-central/annotate/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.js">annotate</a> |
<a href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.js">diff</a> |
<a href="/comm-central/comparison/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.js">comparison</a> |
<a href="/comm-central/log/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.xul">mailnews/extensions/newsblog/content/feed-subscriptions.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.xul">file</a> |
<a href="/comm-central/annotate/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.xul">annotate</a> |
<a href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.xul">diff</a> |
<a href="/comm-central/comparison/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.xul">comparison</a> |
<a href="/comm-central/log/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/feed-subscriptions.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/utils.js">mailnews/extensions/newsblog/content/utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/utils.js">file</a> |
<a href="/comm-central/annotate/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/utils.js">annotate</a> |
<a href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/utils.js">diff</a> |
<a href="/comm-central/comparison/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/utils.js">comparison</a> |
<a href="/comm-central/log/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/mailnews/extensions/newsblog/content/utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/suite/locales/en-US/chrome/mailnews/newsblog/newsblog.properties">suite/locales/en-US/chrome/mailnews/newsblog/newsblog.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/suite/locales/en-US/chrome/mailnews/newsblog/newsblog.properties">file</a> |
<a href="/comm-central/annotate/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/suite/locales/en-US/chrome/mailnews/newsblog/newsblog.properties">annotate</a> |
<a href="/comm-central/diff/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/suite/locales/en-US/chrome/mailnews/newsblog/newsblog.properties">diff</a> |
<a href="/comm-central/comparison/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/suite/locales/en-US/chrome/mailnews/newsblog/newsblog.properties">comparison</a> |
<a href="/comm-central/log/70af4549f05b2bf54907dfbc2509e4ca44b2d0e6/suite/locales/en-US/chrome/mailnews/newsblog/newsblog.properties">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger-newsblog/newsblog.properties</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger-newsblog/newsblog.properties</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -4,16 +4,17 @@ subscribe-cancelSubscriptionTitle=Subscribing to a Feed…</span>
<a href="#l1.4"></a><span id="l1.4"> subscribe-feedAlreadySubscribed=You already have a subscription for this feed.</span>
<a href="#l1.5"></a><span id="l1.5"> subscribe-errorOpeningFile=Could not open the file.</span>
<a href="#l1.6"></a><span id="l1.6"> subscribe-feedAdded=Feed added.</span>
<a href="#l1.7"></a><span id="l1.7"> subscribe-feedUpdated=Feed updated.</span>
<a href="#l1.8"></a><span id="l1.8"> subscribe-feedMoved=Feed subscription moved.</span>
<a href="#l1.9"></a><span id="l1.9"> subscribe-feedRemoved=Feed unsubscribed.</span>
<a href="#l1.10"></a><span id="l1.10"> subscribe-feedNotValid=The Feed URL is not a valid feed.</span>
<a href="#l1.11"></a><span id="l1.11"> subscribe-networkError=The Feed URL could not be found. Please check the name and try again.</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+subscribe-loading=Loading, please wait…</span>
<a href="#l1.13"></a><span id="l1.13"> </span>
<a href="#l1.14"></a><span id="l1.14"> subscribe-OPMLImportTitle=Select OPML file to import</span>
<a href="#l1.15"></a><span id="l1.15"> subscribe-OPMLExportTitle=Export feeds as an OPML file</span>
<a href="#l1.16"></a><span id="l1.16"> ## LOCALIZATION NOTE(subscribe-OPMLExportFileDialogTitle): %S is the brandShortName</span>
<a href="#l1.17"></a><span id="l1.17"> subscribe-OPMLExportFileDialogTitle=%S OPML Export</span>
<a href="#l1.18"></a><span id="l1.18"> ## LOCALIZATION NOTE(subscribe-OPMLExportDefaultFileName): %S is the brandShortName</span>
<a href="#l1.19"></a><span id="l1.19"> subscribe-OPMLExportDefaultFileName=My%SFeeds.opml</span>
<a href="#l1.20"></a><span id="l1.20"> ## LOCALIZATION NOTE(subscribe-OPMLImportInvalidFile): %S is the name of the OPML file the user tried to import.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mailnews/base/content/folderWidgets.xml</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mailnews/base/content/folderWidgets.xml</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -137,16 +137,25 @@</span>
<a href="#l2.4"></a><span id="l2.4">                  aFolder.server.canCreateFoldersOnServer;</span>
<a href="#l2.5"></a><span id="l2.5">         },</span>
<a href="#l2.6"></a><span id="l2.6"> </span>
<a href="#l2.7"></a><span id="l2.7">         defered: function filter_defered(aFolder) {</span>
<a href="#l2.8"></a><span id="l2.8">           return aFolder.server.canCreateFoldersOnServer &amp;&amp;</span>
<a href="#l2.9"></a><span id="l2.9">                  !aFolder.supportsOffline;</span>
<a href="#l2.10"></a><span id="l2.10">         },</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+        // Folders that can subscribe feeds.</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+        feeds: function filter_feeds(aFolder) {</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+          if (aFolder.server.type != &quot;rss&quot; ||</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+              aFolder.getFlag(Components.interfaces.nsMsgFolderFlags.Trash) ||</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+              aFolder.getFlag(Components.interfaces.nsMsgFolderFlags.Virtual))</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+            return false;</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineplus">+          return true;</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineplus">+        },</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineplus">+</span>
<a href="#l2.21"></a><span id="l2.21">         junk: function filter_junk(aFolder) {</span>
<a href="#l2.22"></a><span id="l2.22">           // Don't show servers (nntp &amp; any others) which do not allow search or filing</span>
<a href="#l2.23"></a><span id="l2.23">           // I don't really understand why canSearchMessages is needed, but it was included in</span>
<a href="#l2.24"></a><span id="l2.24">           // earlier code, so I include it as well.</span>
<a href="#l2.25"></a><span id="l2.25">           if (!aFolder.server.canFileMessagesOnServer || !aFolder.server.canSearchMessages)</span>
<a href="#l2.26"></a><span id="l2.26">             return false;</span>
<a href="#l2.27"></a><span id="l2.27">           // show parents that might have usable subfolders, or usable folders</span>
<a href="#l2.28"></a><span id="l2.28">           return aFolder.hasSubFolders || aFolder.canFileMessages;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mailnews/extensions/newsblog/content/feed-subscriptions.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mailnews/extensions/newsblog/content/feed-subscriptions.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -52,17 +52,22 @@ var gFeedSubscriptionsWindow = {</span>
<a href="#l3.4"></a><span id="l3.4"> </span>
<a href="#l3.5"></a><span id="l3.5">   onLoad: function ()</span>
<a href="#l3.6"></a><span id="l3.6">   {</span>
<a href="#l3.7"></a><span id="l3.7">     // Extract the folder argument.</span>
<a href="#l3.8"></a><span id="l3.8">     let folder;</span>
<a href="#l3.9"></a><span id="l3.9">     if (window.arguments &amp;&amp; window.arguments[0].folder)</span>
<a href="#l3.10"></a><span id="l3.10">       folder = window.arguments[0].folder;</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-    this.refreshSubscriptionView(folder)</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+    // Ensure dialog is fully loaded before selecting, to get visible row.</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+    setTimeout(function() {</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+      gFeedSubscriptionsWindow.refreshSubscriptionView(folder)</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+    }, 10);</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+    let message = FeedUtils.strings.GetStringFromName(&quot;subscribe-loading&quot;);</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineplus">+    this.updateStatusItem(&quot;statusText&quot;, message);</span>
<a href="#l3.19"></a><span id="l3.19"> </span>
<a href="#l3.20"></a><span id="l3.20">     let win = Services.wm.getMostRecentWindow(&quot;mail:3pane&quot;);</span>
<a href="#l3.21"></a><span id="l3.21">     if (win)</span>
<a href="#l3.22"></a><span id="l3.22">     {</span>
<a href="#l3.23"></a><span id="l3.23">       win.FeedFolderNotificationService =</span>
<a href="#l3.24"></a><span id="l3.24">         Cc[&quot;@mozilla.org/messenger/msgnotificationservice;1&quot;].</span>
<a href="#l3.25"></a><span id="l3.25">         getService(Ci.nsIMsgFolderNotificationService);</span>
<a href="#l3.26"></a><span id="l3.26">       win.FeedFolderNotificationService.addListener(this.FolderListener,</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineat">@@ -104,21 +109,21 @@ var gFeedSubscriptionsWindow = {</span>
<a href="#l3.28"></a><span id="l3.28">   refreshSubscriptionView: function(aSelectFolder)</span>
<a href="#l3.29"></a><span id="l3.29">   {</span>
<a href="#l3.30"></a><span id="l3.30">     let item = this.mView.currentItem;</span>
<a href="#l3.31"></a><span id="l3.31">     let firstVisRow, lastVisRow, curFirstVisRow;</span>
<a href="#l3.32"></a><span id="l3.32">     if (this.mView.treeBox)</span>
<a href="#l3.33"></a><span id="l3.33">       firstVisRow = this.mView.treeBox.getFirstVisibleRow();</span>
<a href="#l3.34"></a><span id="l3.34">     this.loadSubscriptions();</span>
<a href="#l3.35"></a><span id="l3.35">     this.mTree.view = this.mView;</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineplus">+</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineplus">+    document.getElementById(&quot;selectFolderPopup&quot;)._ensureInitialized();</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineplus">+</span>
<a href="#l3.39"></a><span id="l3.39">     if (aSelectFolder)</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineminus">-      // Ensure dialog is fully loaded before selecting, to get visible row.</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineminus">-      setTimeout(function() {</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineminus">-        gFeedSubscriptionsWindow.selectFolder(aSelectFolder);</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineminus">-      }, 0);</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineplus">+      this.selectFolder(aSelectFolder);</span>
<a href="#l3.45"></a><span id="l3.45">     else</span>
<a href="#l3.46"></a><span id="l3.46">     {</span>
<a href="#l3.47"></a><span id="l3.47">       // If no folder to select, try to select the pre rebuild selection, in</span>
<a href="#l3.48"></a><span id="l3.48">       // an existing window.  For folderpane changes in a feed account.</span>
<a href="#l3.49"></a><span id="l3.49">       if (item)</span>
<a href="#l3.50"></a><span id="l3.50">       {</span>
<a href="#l3.51"></a><span id="l3.51">         if (item.container)</span>
<a href="#l3.52"></a><span id="l3.52">         {</span>
<a href="#l3.53"></a><span id="l3.53" class="difflineat">@@ -153,16 +158,18 @@ var gFeedSubscriptionsWindow = {</span>
<a href="#l3.54"></a><span id="l3.54">           this.mView.treeBox.ensureRowIsVisible(this.mView.rowCount - 1);</span>
<a href="#l3.55"></a><span id="l3.55">         FeedUtils.log.debug(&quot;refreshSubscriptionView: curIndex:curFirstVisRow:&quot; +</span>
<a href="#l3.56"></a><span id="l3.56">                             &quot;firstVisRow:lastVisRow:rowCount - &quot; +</span>
<a href="#l3.57"></a><span id="l3.57">                             this.mView.selection.currentIndex+&quot;:&quot;+</span>
<a href="#l3.58"></a><span id="l3.58">                             curFirstVisRow+&quot;:&quot;+</span>
<a href="#l3.59"></a><span id="l3.59">                             firstVisRow+&quot;:&quot;+lastVisRow+&quot;:&quot;+this.mView.rowCount);</span>
<a href="#l3.60"></a><span id="l3.60">       }</span>
<a href="#l3.61"></a><span id="l3.61">     }</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineplus">+</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineplus">+    this.clearStatusInfo();</span>
<a href="#l3.64"></a><span id="l3.64">   },</span>
<a href="#l3.65"></a><span id="l3.65"> </span>
<a href="#l3.66"></a><span id="l3.66">   mView:</span>
<a href="#l3.67"></a><span id="l3.67">   {</span>
<a href="#l3.68"></a><span id="l3.68">     _atoms: [],</span>
<a href="#l3.69"></a><span id="l3.69">     _getAtomFor: function(aName) {</span>
<a href="#l3.70"></a><span id="l3.70">       if (!this._atoms[aName])</span>
<a href="#l3.71"></a><span id="l3.71">         this._atoms[aName] = this._makeAtom(aName);</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineat">@@ -779,17 +786,17 @@ var gFeedSubscriptionsWindow = {</span>
<a href="#l3.73"></a><span id="l3.73">   {</span>
<a href="#l3.74"></a><span id="l3.74">     if (!aItem)</span>
<a href="#l3.75"></a><span id="l3.75">       return;</span>
<a href="#l3.76"></a><span id="l3.76"> </span>
<a href="#l3.77"></a><span id="l3.77">     let nameValue = document.getElementById(&quot;nameValue&quot;);</span>
<a href="#l3.78"></a><span id="l3.78">     let locationValue = document.getElementById(&quot;locationValue&quot;);</span>
<a href="#l3.79"></a><span id="l3.79">     let locationValidate = document.getElementById(&quot;locationValidate&quot;);</span>
<a href="#l3.80"></a><span id="l3.80">     let selectFolder = document.getElementById(&quot;selectFolder&quot;);</span>
<a href="#l3.81"></a><span id="l3.81" class="difflineminus">-    let rssAccountMenuItem = document.getElementById(&quot;rssAccountMenuItem&quot;);</span>
<a href="#l3.82"></a><span id="l3.82" class="difflineplus">+    let selectFolderValue = document.getElementById(&quot;selectFolderValue&quot;);</span>
<a href="#l3.83"></a><span id="l3.83">     let server, rootFolder, displayFolder;</span>
<a href="#l3.84"></a><span id="l3.84"> </span>
<a href="#l3.85"></a><span id="l3.85">     if (!aItem.container)</span>
<a href="#l3.86"></a><span id="l3.86">     {</span>
<a href="#l3.87"></a><span id="l3.87">       // A feed item.  Set the feed location and title info.</span>
<a href="#l3.88"></a><span id="l3.88">       nameValue.value = aItem.name;</span>
<a href="#l3.89"></a><span id="l3.89">       locationValue.value = aItem.url;</span>
<a href="#l3.90"></a><span id="l3.90">       locationValidate.removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l3.91"></a><span id="l3.91" class="difflineat">@@ -809,43 +816,70 @@ var gFeedSubscriptionsWindow = {</span>
<a href="#l3.92"></a><span id="l3.92"> </span>
<a href="#l3.93"></a><span id="l3.93">       server = aItem.folder.server;</span>
<a href="#l3.94"></a><span id="l3.94">       rootFolder = aItem.folder.rootFolder;</span>
<a href="#l3.95"></a><span id="l3.95">       displayFolder = aItem.folder;</span>
<a href="#l3.96"></a><span id="l3.96">     }</span>
<a href="#l3.97"></a><span id="l3.97"> </span>
<a href="#l3.98"></a><span id="l3.98">     // Common to both folder and feed items.</span>
<a href="#l3.99"></a><span id="l3.99">     nameValue.disabled = aItem.container;</span>
<a href="#l3.100"></a><span id="l3.100" class="difflineminus">-</span>
<a href="#l3.101"></a><span id="l3.101" class="difflineminus">-    selectFolder.setAttribute(&quot;ref&quot;, rootFolder.URI);</span>
<a href="#l3.102"></a><span id="l3.102" class="difflineminus">-    selectFolder.selectedIndex = -1;</span>
<a href="#l3.103"></a><span id="l3.103" class="difflineminus">-    selectFolder.disabled = aItem.container;</span>
<a href="#l3.104"></a><span id="l3.104" class="difflineminus">-    this.setFolderPicker(displayFolder.URI);</span>
<a href="#l3.105"></a><span id="l3.105" class="difflineminus">-</span>
<a href="#l3.106"></a><span id="l3.106" class="difflineminus">-    rssAccountMenuItem.label = server.prettyName;</span>
<a href="#l3.107"></a><span id="l3.107" class="difflineminus">-    rssAccountMenuItem.value = server.serverURI;</span>
<a href="#l3.108"></a><span id="l3.108" class="difflineminus">-    // A feed can't be added to the account folder.</span>
<a href="#l3.109"></a><span id="l3.109" class="difflineminus">-    rssAccountMenuItem.setAttribute(&quot;disabled&quot;, true);</span>
<a href="#l3.110"></a><span id="l3.110" class="difflineplus">+    selectFolder.setAttribute(&quot;hidden&quot;, aItem.container);</span>
<a href="#l3.111"></a><span id="l3.111" class="difflineplus">+    selectFolderValue.setAttribute(&quot;hidden&quot;, !aItem.container);</span>
<a href="#l3.112"></a><span id="l3.112" class="difflineplus">+    selectFolderValue.setAttribute(&quot;showfilepath&quot;, false);</span>
<a href="#l3.113"></a><span id="l3.113" class="difflineplus">+    this.setFolderPicker(displayFolder);</span>
<a href="#l3.114"></a><span id="l3.114"> </span>
<a href="#l3.115"></a><span id="l3.115">     // Set quick mode value.</span>
<a href="#l3.116"></a><span id="l3.116">     document.getElementById(&quot;quickMode&quot;).checked = aItem.quickMode;</span>
<a href="#l3.117"></a><span id="l3.117">   },</span>
<a href="#l3.118"></a><span id="l3.118"> </span>
<a href="#l3.119"></a><span id="l3.119" class="difflineminus">-  setFolderPicker: function(aFolderURI)</span>
<a href="#l3.120"></a><span id="l3.120" class="difflineplus">+  setFolderPicker: function(aFolder)</span>
<a href="#l3.121"></a><span id="l3.121">   {</span>
<a href="#l3.122"></a><span id="l3.122" class="difflineminus">-    let selectFolder = document.getElementById(&quot;selectFolder&quot;);</span>
<a href="#l3.123"></a><span id="l3.123">     let editFeed = document.getElementById(&quot;editFeed&quot;);</span>
<a href="#l3.124"></a><span id="l3.124" class="difflineminus">-</span>
<a href="#l3.125"></a><span id="l3.125" class="difflineminus">-    let msgFolder = GetMsgFolderFromUri(aFolderURI, true);</span>
<a href="#l3.126"></a><span id="l3.126" class="difflineminus">-    if (!msgFolder)</span>
<a href="#l3.127"></a><span id="l3.127" class="difflineplus">+    let folderPrettyPath = FeedUtils.getFolderPrettyPath(aFolder);</span>
<a href="#l3.128"></a><span id="l3.128" class="difflineplus">+    if (!folderPrettyPath)</span>
<a href="#l3.129"></a><span id="l3.129">       return editFeed.disabled = true;</span>
<a href="#l3.130"></a><span id="l3.130"> </span>
<a href="#l3.131"></a><span id="l3.131" class="difflineminus">-    editFeed.disabled = false;</span>
<a href="#l3.132"></a><span id="l3.132" class="difflineminus">-    selectFolder.setAttribute(&quot;label&quot;, msgFolder.name);</span>
<a href="#l3.133"></a><span id="l3.133" class="difflineminus">-    selectFolder.setAttribute(&quot;uri&quot;, msgFolder.URI);</span>
<a href="#l3.134"></a><span id="l3.134" class="difflineplus">+    let selectFolder = document.getElementById(&quot;selectFolder&quot;);</span>
<a href="#l3.135"></a><span id="l3.135" class="difflineplus">+    let selectFolderValue = document.getElementById(&quot;selectFolderValue&quot;);</span>
<a href="#l3.136"></a><span id="l3.136" class="difflineplus">+</span>
<a href="#l3.137"></a><span id="l3.137" class="difflineplus">+    try {</span>
<a href="#l3.138"></a><span id="l3.138" class="difflineplus">+      document.getElementById(&quot;selectFolderPopup&quot;).selectFolder(aFolder);</span>
<a href="#l3.139"></a><span id="l3.139" class="difflineplus">+    }</span>
<a href="#l3.140"></a><span id="l3.140" class="difflineplus">+    catch (ex) {}</span>
<a href="#l3.141"></a><span id="l3.141" class="difflineplus">+</span>
<a href="#l3.142"></a><span id="l3.142" class="difflineplus">+    selectFolder._folder = aFolder;</span>
<a href="#l3.143"></a><span id="l3.143" class="difflineplus">+    selectFolder.setAttribute(&quot;label&quot;, folderPrettyPath);</span>
<a href="#l3.144"></a><span id="l3.144" class="difflineplus">+    selectFolder.setAttribute(&quot;uri&quot;, aFolder.URI);</span>
<a href="#l3.145"></a><span id="l3.145" class="difflineplus">+    selectFolderValue.value = folderPrettyPath;</span>
<a href="#l3.146"></a><span id="l3.146" class="difflineplus">+    selectFolderValue.setAttribute(&quot;prettypath&quot;, folderPrettyPath);</span>
<a href="#l3.147"></a><span id="l3.147" class="difflineplus">+    selectFolderValue.setAttribute(&quot;filepath&quot;, aFolder.filePath.path);</span>
<a href="#l3.148"></a><span id="l3.148" class="difflineplus">+</span>
<a href="#l3.149"></a><span id="l3.149" class="difflineplus">+    return editFeed.disabled = false;</span>
<a href="#l3.150"></a><span id="l3.150" class="difflineplus">+  },</span>
<a href="#l3.151"></a><span id="l3.151" class="difflineplus">+</span>
<a href="#l3.152"></a><span id="l3.152" class="difflineplus">+  onClickSelectFolderValue: function(aEvent)</span>
<a href="#l3.153"></a><span id="l3.153" class="difflineplus">+  {</span>
<a href="#l3.154"></a><span id="l3.154" class="difflineplus">+    let target = aEvent.target;</span>
<a href="#l3.155"></a><span id="l3.155" class="difflineplus">+    if ((aEvent.button &amp;&amp; aEvent.button != 0) ||</span>
<a href="#l3.156"></a><span id="l3.156" class="difflineplus">+        (aEvent.keyCode &amp;&amp; aEvent.keyCode != aEvent.DOM_VK_RETURN) ||</span>
<a href="#l3.157"></a><span id="l3.157" class="difflineplus">+        (aEvent.button &amp;&amp; aEvent.button == 0 &amp;&amp;</span>
<a href="#l3.158"></a><span id="l3.158" class="difflineplus">+         target.inputField.selectionStart != target.inputField.selectionEnd))</span>
<a href="#l3.159"></a><span id="l3.159" class="difflineplus">+      return;</span>
<a href="#l3.160"></a><span id="l3.160" class="difflineplus">+</span>
<a href="#l3.161"></a><span id="l3.161" class="difflineplus">+    // Toggle between showing prettyPath and absolute filePath.</span>
<a href="#l3.162"></a><span id="l3.162" class="difflineplus">+    if (target.getAttribute(&quot;showfilepath&quot;) == &quot;true&quot;)</span>
<a href="#l3.163"></a><span id="l3.163" class="difflineplus">+    {</span>
<a href="#l3.164"></a><span id="l3.164" class="difflineplus">+      target.setAttribute(&quot;showfilepath&quot;, false);</span>
<a href="#l3.165"></a><span id="l3.165" class="difflineplus">+      target.value = target.getAttribute(&quot;prettypath&quot;);</span>
<a href="#l3.166"></a><span id="l3.166" class="difflineplus">+    }</span>
<a href="#l3.167"></a><span id="l3.167" class="difflineplus">+    else</span>
<a href="#l3.168"></a><span id="l3.168" class="difflineplus">+    {</span>
<a href="#l3.169"></a><span id="l3.169" class="difflineplus">+      target.setAttribute(&quot;showfilepath&quot;, true);</span>
<a href="#l3.170"></a><span id="l3.170" class="difflineplus">+      target.value = target.getAttribute(&quot;filepath&quot;);</span>
<a href="#l3.171"></a><span id="l3.171" class="difflineplus">+    }</span>
<a href="#l3.172"></a><span id="l3.172">   },</span>
<a href="#l3.173"></a><span id="l3.173"> </span>
<a href="#l3.174"></a><span id="l3.174">   setSummary: function(aChecked)</span>
<a href="#l3.175"></a><span id="l3.175">   {</span>
<a href="#l3.176"></a><span id="l3.176">     let item = this.mView.currentItem;</span>
<a href="#l3.177"></a><span id="l3.177">     if (!item || !item.folder)</span>
<a href="#l3.178"></a><span id="l3.178">       // Not a folder.</span>
<a href="#l3.179"></a><span id="l3.179">       return;</span>
<a href="#l3.180"></a><span id="l3.180" class="difflineat">@@ -1099,19 +1133,21 @@ var gFeedSubscriptionsWindow = {</span>
<a href="#l3.181"></a><span id="l3.181">       return;</span>
<a href="#l3.182"></a><span id="l3.182"> </span>
<a href="#l3.183"></a><span id="l3.183">     let resource = rdf.GetResource(itemToEdit.url);</span>
<a href="#l3.184"></a><span id="l3.184">     let currentFolderServer = itemToEdit.parentFolder.server;</span>
<a href="#l3.185"></a><span id="l3.185">     let ds = getSubscriptionsDS(currentFolderServer);</span>
<a href="#l3.186"></a><span id="l3.186">     let currentFolder = ds.GetTarget(resource, FZ_DESTFOLDER, true);</span>
<a href="#l3.187"></a><span id="l3.187">     let currentFolderURI = currentFolder.QueryInterface(Ci.nsIRDFResource).Value;</span>
<a href="#l3.188"></a><span id="l3.188">     let feed = new Feed(resource, currentFolderServer);</span>
<a href="#l3.189"></a><span id="l3.189" class="difflineplus">+    feed.folder = itemToEdit.parentFolder;</span>
<a href="#l3.190"></a><span id="l3.190"> </span>
<a href="#l3.191"></a><span id="l3.191">     let editNameValue = document.getElementById(&quot;nameValue&quot;).value;</span>
<a href="#l3.192"></a><span id="l3.192">     let editFeedLocation = document.getElementById(&quot;locationValue&quot;).value.trim();</span>
<a href="#l3.193"></a><span id="l3.193" class="difflineplus">+    let selectFolder = document.getElementById(&quot;selectFolder&quot;);</span>
<a href="#l3.194"></a><span id="l3.194">     let editQuickMode = document.getElementById(&quot;quickMode&quot;).checked;</span>
<a href="#l3.195"></a><span id="l3.195"> </span>
<a href="#l3.196"></a><span id="l3.196">     if (feed.url != editFeedLocation)</span>
<a href="#l3.197"></a><span id="l3.197">     {</span>
<a href="#l3.198"></a><span id="l3.198">       // Updating a url.  We need to add the new url and delete the old, to</span>
<a href="#l3.199"></a><span id="l3.199">       // ensure everything is cleaned up correctly.</span>
<a href="#l3.200"></a><span id="l3.200">       this.addFeed(null, itemToEdit.parentFolder, false, null, this.kUpdateMode)</span>
<a href="#l3.201"></a><span id="l3.201">       return;</span>
<a href="#l3.202"></a><span id="l3.202" class="difflineat">@@ -1130,20 +1166,23 @@ var gFeedSubscriptionsWindow = {</span>
<a href="#l3.203"></a><span id="l3.203">     if (feed.quickMode != editQuickMode)</span>
<a href="#l3.204"></a><span id="l3.204">     {</span>
<a href="#l3.205"></a><span id="l3.205">       feed.quickMode = editQuickMode;</span>
<a href="#l3.206"></a><span id="l3.206">       itemToEdit.quickMode = editQuickMode;</span>
<a href="#l3.207"></a><span id="l3.207">       updated = true;</span>
<a href="#l3.208"></a><span id="l3.208">     }</span>
<a href="#l3.209"></a><span id="l3.209"> </span>
<a href="#l3.210"></a><span id="l3.210">     // Did the user change the folder URI for storing the feed?</span>
<a href="#l3.211"></a><span id="l3.211" class="difflineminus">-    let editFolderURI =</span>
<a href="#l3.212"></a><span id="l3.212" class="difflineminus">-      document.getElementById(&quot;selectFolder&quot;).getAttribute(&quot;uri&quot;);</span>
<a href="#l3.213"></a><span id="l3.213" class="difflineplus">+    let editFolderURI = selectFolder.getAttribute(&quot;uri&quot;);</span>
<a href="#l3.214"></a><span id="l3.214">     if (currentFolderURI != editFolderURI)</span>
<a href="#l3.215"></a><span id="l3.215">     {</span>
<a href="#l3.216"></a><span id="l3.216" class="difflineplus">+      // Make sure the new folderpicked folder is visible.</span>
<a href="#l3.217"></a><span id="l3.217" class="difflineplus">+      this.selectFolder(selectFolder._folder, true);</span>
<a href="#l3.218"></a><span id="l3.218" class="difflineplus">+      // Now go back to the feed item.</span>
<a href="#l3.219"></a><span id="l3.219" class="difflineplus">+      this.selectFeed(feed, null);</span>
<a href="#l3.220"></a><span id="l3.220">       // We need to find the index of the new parent folder.</span>
<a href="#l3.221"></a><span id="l3.221">       let newParentIndex = this.mView.kRowIndexUndefined;</span>
<a href="#l3.222"></a><span id="l3.222">       for (let index = 0; index &lt; this.mView.rowCount; index++)</span>
<a href="#l3.223"></a><span id="l3.223">       {</span>
<a href="#l3.224"></a><span id="l3.224">         let item = this.mView.getItemAtIndex(index);</span>
<a href="#l3.225"></a><span id="l3.225">         if (item &amp;&amp; item.container &amp;&amp; item.url == editFolderURI)</span>
<a href="#l3.226"></a><span id="l3.226">         {</span>
<a href="#l3.227"></a><span id="l3.227">           newParentIndex = index;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mailnews/extensions/newsblog/content/feed-subscriptions.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mailnews/extensions/newsblog/content/feed-subscriptions.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -17,16 +17,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> #</span>
<a href="#l4.5"></a><span id="l4.5"> # The Initial Developer of the Original Code is</span>
<a href="#l4.6"></a><span id="l4.6"> # The Mozilla Foundation.</span>
<a href="#l4.7"></a><span id="l4.7"> # Portions created by the Initial Developer are Copyright (C) 2005</span>
<a href="#l4.8"></a><span id="l4.8"> # the Initial Developer. All Rights Reserved.</span>
<a href="#l4.9"></a><span id="l4.9"> #</span>
<a href="#l4.10"></a><span id="l4.10"> # Contributor(s):</span>
<a href="#l4.11"></a><span id="l4.11"> #  Scott MacGregor &lt;mscott@mozilla.org&gt;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+#  alta88 &lt;alta88@gmail.com&gt;</span>
<a href="#l4.13"></a><span id="l4.13"> #</span>
<a href="#l4.14"></a><span id="l4.14"> # Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l4.15"></a><span id="l4.15"> # either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l4.16"></a><span id="l4.16"> # the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l4.17"></a><span id="l4.17"> # in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l4.18"></a><span id="l4.18"> # of those above. If you wish to allow use of your version of this file only</span>
<a href="#l4.19"></a><span id="l4.19"> # under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l4.20"></a><span id="l4.20"> # use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineat">@@ -34,16 +35,17 @@</span>
<a href="#l4.22"></a><span id="l4.22"> # and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l4.23"></a><span id="l4.23"> # the provisions above, a recipient may use your version of this file under</span>
<a href="#l4.24"></a><span id="l4.24"> # the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l4.25"></a><span id="l4.25"> #</span>
<a href="#l4.26"></a><span id="l4.26"> # ***** END LICENSE BLOCK ******</span>
<a href="#l4.27"></a><span id="l4.27"> </span>
<a href="#l4.28"></a><span id="l4.28"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.29"></a><span id="l4.29"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderPane.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.31"></a><span id="l4.31"> &lt;?xml-stylesheet href=&quot;chrome://messenger-newsblog/skin/feed-subscriptions.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.32"></a><span id="l4.32"> </span>
<a href="#l4.33"></a><span id="l4.33"> &lt;!DOCTYPE window SYSTEM &quot;chrome://messenger-newsblog/locale/feed-subscriptions.dtd&quot;&gt;</span>
<a href="#l4.34"></a><span id="l4.34"> </span>
<a href="#l4.35"></a><span id="l4.35"> &lt;window id=&quot;subscriptionsDialog&quot;</span>
<a href="#l4.36"></a><span id="l4.36">         flex=&quot;1&quot;</span>
<a href="#l4.37"></a><span id="l4.37">         title=&quot;&amp;feedSubscriptions.label;&quot;</span>
<a href="#l4.38"></a><span id="l4.38">         windowtype=&quot;Mail:News-BlogSubscriptions&quot;</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineat">@@ -145,71 +147,35 @@</span>
<a href="#l4.40"></a><span id="l4.40">             &lt;/row&gt;</span>
<a href="#l4.41"></a><span id="l4.41">             &lt;row&gt;</span>
<a href="#l4.42"></a><span id="l4.42">               &lt;hbox align=&quot;right&quot; valign=&quot;middle&quot;&gt;</span>
<a href="#l4.43"></a><span id="l4.43">                 &lt;label id=&quot;feedFolderLabel&quot;</span>
<a href="#l4.44"></a><span id="l4.44">                        value=&quot;&amp;feedFolder.label;&quot;</span>
<a href="#l4.45"></a><span id="l4.45">                        accesskey=&quot;&amp;feedFolder.accesskey;&quot;</span>
<a href="#l4.46"></a><span id="l4.46">                        control=&quot;selectFolder&quot;/&gt;</span>
<a href="#l4.47"></a><span id="l4.47">               &lt;/hbox&gt;</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineminus">-              &lt;menulist id=&quot;selectFolder&quot;</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineminus">-                    disabled=&quot;true&quot;</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineminus">-                    containment=&quot;http://home.netscape.com/NC-rdf#child&quot;</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineminus">-                    sortResource=&quot;http://home.netscape.com/NC-rdf#FolderTreeName&quot;</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineminus">-                    sortDirection=&quot;ascending&quot;</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineminus">-                    datasources=&quot;rdf:msgaccountmanager rdf:mailnewsfolders&quot;</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineminus">-                    ref=&quot;...&quot;&gt;</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineminus">-                  &lt;menupopup&gt;</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineminus">-                    &lt;menuitem id=&quot;rssAccountMenuItem&quot;</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineminus">-                              oncommand=&quot;gFeedSubscriptionsWindow.setFolderPicker(event.target.id)&quot;/&gt;</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineminus">-                    &lt;menuseparator/&gt;</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineminus">-                  &lt;/menupopup&gt;</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineminus">-</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineminus">-                  &lt;template&gt;</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineminus">-                    &lt;!-- Cheat and use the CanRename property to make sure we</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-                         don't list the Trash folder as a possible feed folder. --&gt;</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineminus">-                    &lt;rule nc:CanFileMessages=&quot;true&quot;</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineminus">-                          iscontainer=&quot;true&quot;</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineminus">-                          isempty=&quot;false&quot;</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineminus">-                          nc:CanRename=&quot;true&quot;&gt;</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineminus">-                      &lt;menupopup&gt;</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineminus">-                        &lt;menu uri=&quot;...&quot;</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineminus">-                              class=&quot;folderMenuItem menu-iconic&quot;</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineminus">-                              oncommand=&quot;gFeedSubscriptionsWindow.setFolderPicker(event.target.id)&quot;</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineminus">-                              SpecialFolder=&quot;rdf:http://home.netscape.com/NC-rdf#SpecialFolder&quot;</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineminus">-                              BiffState=&quot;rdf:http://home.netscape.com/NC-rdf#BiffState&quot;</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineminus">-                              IsServer=&quot;rdf:http://home.netscape.com/NC-rdf#IsServer&quot;</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineminus">-                              IsSecure=&quot;rdf:http://home.netscape.com/NC-rdf#IsSecure&quot;</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineminus">-                              ServerType=&quot;rdf:http://home.netscape.com/NC-rdf#ServerType&quot;</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineminus">-                              label=&quot;rdf:http://home.netscape.com/NC-rdf#Name&quot;&gt;</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineminus">-                          &lt;menupopup class=&quot;menulist-menupopup&quot;&gt;</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineminus">-                            &lt;menuitem label=&quot;rdf:http://home.netscape.com/NC-rdf#Name&quot;</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineminus">-                                      oncommand=&quot;gFeedSubscriptionsWindow.setFolderPicker(event.target.parentNode.parentNode.id)&quot;/&gt;</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineminus">-                            &lt;menuseparator/&gt;</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineminus">-                          &lt;/menupopup&gt;</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineminus">-                        &lt;/menu&gt;</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineminus">-                      &lt;/menupopup&gt;</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineminus">-                    &lt;/rule&gt;</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineminus">-                    &lt;rule nc:CanFileMessages=&quot;true&quot;</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineminus">-                          nc:CanRename=&quot;true&quot;&gt;</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineminus">-                      &lt;menupopup&gt;</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineminus">-                        &lt;menuitem uri=&quot;...&quot;</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineminus">-                                  value=&quot;...&quot;</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineminus">-                                  class=&quot;folderMenuItem menuitem-iconic&quot;</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineminus">-                                  oncommand=&quot;gFeedSubscriptionsWindow.setFolderPicker(event.target.id)&quot;</span>
<a href="#l4.93"></a><span id="l4.93" class="difflineminus">-                                  SpecialFolder=&quot;rdf:http://home.netscape.com/NC-rdf#SpecialFolder&quot;</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineminus">-                                  BiffState=&quot;rdf:http://home.netscape.com/NC-rdf#BiffState&quot;</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineminus">-                                  IsServer=&quot;rdf:http://home.netscape.com/NC-rdf#IsServer&quot;</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineminus">-                                  IsSecure=&quot;rdf:http://home.netscape.com/NC-rdf#IsSecure&quot;</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineminus">-                                  ServerType=&quot;rdf:http://home.netscape.com/NC-rdf#ServerType&quot;</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineminus">-                                  label=&quot;rdf:http://home.netscape.com/NC-rdf#Name&quot;/&gt;</span>
<a href="#l4.99"></a><span id="l4.99" class="difflineminus">-                       &lt;/menupopup&gt;</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineminus">-                    &lt;/rule&gt;</span>
<a href="#l4.101"></a><span id="l4.101" class="difflineminus">-                  &lt;/template&gt;</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineminus">-              &lt;/menulist&gt;</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineplus">+              &lt;hbox&gt;</span>
<a href="#l4.104"></a><span id="l4.104" class="difflineplus">+                &lt;menulist id=&quot;selectFolder&quot;</span>
<a href="#l4.105"></a><span id="l4.105" class="difflineplus">+                          flex=&quot;1&quot;</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineplus">+                          class=&quot;folderMenuItem&quot;</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineplus">+                          hidden=&quot;true&quot;&gt;</span>
<a href="#l4.108"></a><span id="l4.108" class="difflineplus">+                  &lt;menupopup id=&quot;selectFolderPopup&quot;</span>
<a href="#l4.109"></a><span id="l4.109" class="difflineplus">+                             class=&quot;folderLocationPopup&quot;</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineplus">+                             type=&quot;folder&quot;</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineplus">+                             mode=&quot;feeds&quot;</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineplus">+                             showFileHereLabel=&quot;true&quot;</span>
<a href="#l4.113"></a><span id="l4.113" class="difflineplus">+                             showAccountsFileHere=&quot;true&quot;</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineplus">+                             oncommand=&quot;gFeedSubscriptionsWindow.setFolderPicker(event.target._folder)&quot;/&gt;</span>
<a href="#l4.115"></a><span id="l4.115" class="difflineplus">+                &lt;/menulist&gt;</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineplus">+                &lt;textbox id=&quot;selectFolderValue&quot;</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineplus">+                         flex=&quot;1&quot;</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineplus">+                         readonly=&quot;true&quot;</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineplus">+                         onkeypress=&quot;gFeedSubscriptionsWindow.onClickSelectFolderValue(event)&quot;</span>
<a href="#l4.120"></a><span id="l4.120" class="difflineplus">+                         onclick=&quot;gFeedSubscriptionsWindow.onClickSelectFolderValue(event)&quot;/&gt;</span>
<a href="#l4.121"></a><span id="l4.121" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l4.122"></a><span id="l4.122">             &lt;/row&gt;</span>
<a href="#l4.123"></a><span id="l4.123">           &lt;/rows&gt;</span>
<a href="#l4.124"></a><span id="l4.124">         &lt;/grid&gt;</span>
<a href="#l4.125"></a><span id="l4.125">         &lt;checkbox id=&quot;quickMode&quot;</span>
<a href="#l4.126"></a><span id="l4.126">                   accesskey=&quot;&amp;quickMode.accesskey;&quot;</span>
<a href="#l4.127"></a><span id="l4.127">                   label=&quot;&amp;quickMode.label;&quot;</span>
<a href="#l4.128"></a><span id="l4.128">                   oncommand=&quot;gFeedSubscriptionsWindow.setSummary(this.checked)&quot;/&gt;</span>
<a href="#l4.129"></a><span id="l4.129">       &lt;/vbox&gt;</span>
<a href="#l4.130"></a><span id="l4.130" class="difflineat">@@ -226,17 +192,17 @@</span>
<a href="#l4.131"></a><span id="l4.131">              collapsed=&quot;true&quot;</span>
<a href="#l4.132"></a><span id="l4.132">              class=&quot;text-link&quot;</span>
<a href="#l4.133"></a><span id="l4.133">              crop=&quot;end&quot;</span>
<a href="#l4.134"></a><span id="l4.134">              value=&quot;&amp;validateText.label;&quot;</span>
<a href="#l4.135"></a><span id="l4.135">              onclick=&quot;gFeedSubscriptionsWindow.checkValidation(event);&quot;/&gt;</span>
<a href="#l4.136"></a><span id="l4.136">       &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l4.137"></a><span id="l4.137">       &lt;progressmeter id=&quot;progressMeter&quot;</span>
<a href="#l4.138"></a><span id="l4.138">                      collapsed=&quot;true&quot;</span>
<a href="#l4.139"></a><span id="l4.139" class="difflineminus">-                     mode=&quot;normal&quot;</span>
<a href="#l4.140"></a><span id="l4.140" class="difflineplus">+                     mode=&quot;determined&quot;</span>
<a href="#l4.141"></a><span id="l4.141">                      value=&quot;0&quot;/&gt;</span>
<a href="#l4.142"></a><span id="l4.142">     &lt;/hbox&gt;</span>
<a href="#l4.143"></a><span id="l4.143"> </span>
<a href="#l4.144"></a><span id="l4.144">     &lt;hbox align=&quot;end&quot;&gt;</span>
<a href="#l4.145"></a><span id="l4.145">       &lt;hbox class=&quot;actionButtons&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l4.146"></a><span id="l4.146">         &lt;button id=&quot;addFeed&quot;</span>
<a href="#l4.147"></a><span id="l4.147">                 label=&quot;&amp;button.addFeed.label;&quot;</span>
<a href="#l4.148"></a><span id="l4.148">                 accesskey=&quot;&amp;button.addFeed.accesskey;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mailnews/extensions/newsblog/content/utils.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mailnews/extensions/newsblog/content/utils.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -54,16 +54,50 @@ var FeedUtils = {</span>
<a href="#l5.4"></a><span id="l5.4">   // Usually means there was an error trying to parse the feed.</span>
<a href="#l5.5"></a><span id="l5.5">   kNewsBlogInvalidFeed: 1,</span>
<a href="#l5.6"></a><span id="l5.6">   // Generic networking failure when trying to download the feed.</span>
<a href="#l5.7"></a><span id="l5.7">   kNewsBlogRequestFailure: 2,</span>
<a href="#l5.8"></a><span id="l5.8">   kNewsBlogFeedIsBusy: 3,</span>
<a href="#l5.9"></a><span id="l5.9">   // There are no new articles for this feed</span>
<a href="#l5.10"></a><span id="l5.10">   kNewsBlogNoNewItems: 4,</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+/**</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+ * Return a folder path string constructed from individual folder UTF8 names</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+ * stored as properties (not possible hashes used to construct disk foldername).</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+ * </span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+ * @param  nsIMsgFolder aFolder     - the folder.</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+ * @return string prettyName | null - name or null if not a disk folder.</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+ */</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+  getFolderPrettyPath: function(aFolder) {</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+    let msgFolder = GetMsgFolderFromUri(aFolder.URI, true);</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+    if (!msgFolder)</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+      // Not a real folder uri.</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineplus">+      return null;</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineplus">+</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineplus">+    if (msgFolder.URI == msgFolder.server.serverURI)</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineplus">+      return msgFolder.server.prettyName;</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineplus">+</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineplus">+    // Server part first.</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineplus">+    let pathParts = [msgFolder.server.prettyName];</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineplus">+    let rawPathParts = msgFolder.URI.split(msgFolder.server.serverURI + &quot;/&quot;);</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineplus">+    let folderURI = msgFolder.server.serverURI;</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+    rawPathParts = rawPathParts[1].split(&quot;/&quot;);</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+    for (let i = 0; i &lt; rawPathParts.length - 1; i++)</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineplus">+    {</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineplus">+      // Two or more folders deep parts here.</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineplus">+      folderURI += &quot;/&quot; + rawPathParts[i];</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+      msgFolder = GetMsgFolderFromUri(folderURI, true);</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineplus">+      pathParts.push(msgFolder.name);</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineplus">+    }</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineplus">+</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+    // Leaf folder last.</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+    pathParts.push(aFolder.name);</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+    return decodeURI(pathParts.join(&quot; / &quot;));</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+  },</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineplus">+</span>
<a href="#l5.46"></a><span id="l5.46">   // Progress glue code.  Acts as a go between the RSS back end and the mail</span>
<a href="#l5.47"></a><span id="l5.47">   // window front end determined by the aMsgWindow parameter passed into</span>
<a href="#l5.48"></a><span id="l5.48">   // nsINewsBlogFeedDownloader.</span>
<a href="#l5.49"></a><span id="l5.49">   progressNotifier: {</span>
<a href="#l5.50"></a><span id="l5.50">     mSubscribeMode: false,</span>
<a href="#l5.51"></a><span id="l5.51">     mMsgWindow: null,</span>
<a href="#l5.52"></a><span id="l5.52">     mStatusFeedback: null,</span>
<a href="#l5.53"></a><span id="l5.53">     mFeeds: {},</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/suite/locales/en-US/chrome/mailnews/newsblog/newsblog.properties</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/mailnews/newsblog/newsblog.properties</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -4,16 +4,17 @@ subscribe-cancelSubscriptionTitle=Subscribing to a Feed…</span>
<a href="#l6.4"></a><span id="l6.4"> subscribe-feedAlreadySubscribed=You already have a subscription for this feed.</span>
<a href="#l6.5"></a><span id="l6.5"> subscribe-errorOpeningFile=Could not open the file.</span>
<a href="#l6.6"></a><span id="l6.6"> subscribe-feedAdded=Feed added.</span>
<a href="#l6.7"></a><span id="l6.7"> subscribe-feedUpdated=Feed updated.</span>
<a href="#l6.8"></a><span id="l6.8"> subscribe-feedMoved=Feed subscription moved.</span>
<a href="#l6.9"></a><span id="l6.9"> subscribe-feedRemoved=Feed unsubscribed.</span>
<a href="#l6.10"></a><span id="l6.10"> subscribe-feedNotValid=The Feed URL is not a valid feed.</span>
<a href="#l6.11"></a><span id="l6.11"> subscribe-networkError=The Feed URL could not be found. Please check the name and try again.</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+subscribe-loading=Loading, please wait…</span>
<a href="#l6.13"></a><span id="l6.13"> </span>
<a href="#l6.14"></a><span id="l6.14"> subscribe-OPMLImportTitle=Select OPML file to import</span>
<a href="#l6.15"></a><span id="l6.15"> subscribe-OPMLExportTitle=Export feeds as an OPML file</span>
<a href="#l6.16"></a><span id="l6.16"> ## LOCALIZATION NOTE(subscribe-OPMLExportFileDialogTitle): %S is the brandShortName</span>
<a href="#l6.17"></a><span id="l6.17"> subscribe-OPMLExportFileDialogTitle=%S OPML Export</span>
<a href="#l6.18"></a><span id="l6.18"> ## LOCALIZATION NOTE(subscribe-OPMLExportDefaultFileName): %S is the brandShortName</span>
<a href="#l6.19"></a><span id="l6.19"> subscribe-OPMLExportDefaultFileName=My%SFeeds.opml</span>
<a href="#l6.20"></a><span id="l6.20"> ## LOCALIZATION NOTE(subscribe-OPMLImportInvalidFile): %S is the name of the OPML file the user tried to import.</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

