<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 27127:26f109dd92ca8e79da388ad0a13c8533ba9de103</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 26f109dd92ca8e79da388ad0a13c8533ba9de103" />
<meta property="og:url" content="/comm-central/rev/26f109dd92ca8e79da388ad0a13c8533ba9de103" />
<meta property="og:description" content="Bug 1565180 - Update Thunderbird modifications to about:addons. r=Paenglab" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 26f109dd92ca8e79da388ad0a13c8533ba9de103 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/26f109dd92ca8e79da388ad0a13c8533ba9de103">shortlog</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/26f109dd92ca8e79da388ad0a13c8533ba9de103">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103">files</a> |
changeset |
<a href="/comm-central/raw-rev/26f109dd92ca8e79da388ad0a13c8533ba9de103">raw</a>  | <a href="/comm-central/archive/26f109dd92ca8e79da388ad0a13c8533ba9de103.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1565180">Bug 1565180</a> - Update Thunderbird modifications to about:addons. r=Paenglab
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#71;&#101;&#111;&#102;&#102;&#32;&#76;&#97;&#110;&#107;&#111;&#119;&#32;&#60;&#103;&#101;&#111;&#102;&#102;&#64;&#100;&#97;&#114;&#107;&#116;&#114;&#111;&#106;&#97;&#110;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 16 Jul 2019 14:27:53 +1200</td></tr>

<tr>
 <td>changeset 27127</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/26f109dd92ca8e79da388ad0a13c8533ba9de103">26f109dd92ca8e79da388ad0a13c8533ba9de103</a></td>
</tr>



<tr>
<td>parent 27126</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/dd033e1d92122dd75630572da86411268332a9f2">dd033e1d92122dd75630572da86411268332a9f2</a>
</td>
</tr>

<tr>
<td>child 27128</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/305c070b0794bd82da9c49ca88360213b303d190">305c070b0794bd82da9c49ca88360213b303d190</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=26f109dd92ca8e79da388ad0a13c8533ba9de103">16175</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Tue, 16 Jul 2019 09:00:32 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@26f109dd92ca [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=26f109dd92ca8e79da388ad0a13c8533ba9de103">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=26f109dd92ca8e79da388ad0a13c8533ba9de103&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=26f109dd92ca8e79da388ad0a13c8533ba9de103&newProject=comm-central&newRevision=dd033e1d92122dd75630572da86411268332a9f2&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=26f109dd92ca8e79da388ad0a13c8533ba9de103&newProject=comm-central&newRevision=dd033e1d92122dd75630572da86411268332a9f2&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=26f109dd92ca8e79da388ad0a13c8533ba9de103&newProject=comm-central&newRevision=dd033e1d92122dd75630572da86411268332a9f2&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Paenglab%29&revcount=50">Paenglab</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1565180">1565180</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1565180">Bug 1565180</a> - Update Thunderbird modifications to about:addons. r=Paenglab</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/.eslintignore">.eslintignore</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/.eslintignore">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/.eslintignore">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/.eslintignore">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/.eslintignore">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/.eslintignore">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/common/src/ExtensionSupport.jsm">common/src/ExtensionSupport.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/common/src/ExtensionSupport.jsm">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/common/src/ExtensionSupport.jsm">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/common/src/ExtensionSupport.jsm">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/common/src/ExtensionSupport.jsm">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/common/src/ExtensionSupport.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/app/profile/all-thunderbird.js">mail/app/profile/all-thunderbird.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/app/profile/all-thunderbird.js">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/app/profile/all-thunderbird.js">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/app/profile/all-thunderbird.js">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/app/profile/all-thunderbird.js">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/app/profile/all-thunderbird.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.css">mail/base/content/aboutAddonsExtra.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.css">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.css">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.css">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.css">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.js">mail/base/content/aboutAddonsExtra.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.js">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.js">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.js">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.js">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/aboutAddonsExtra.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/extensions.xml">mail/base/content/extensions.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/extensions.xml">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/extensions.xml">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/extensions.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/extensionsOverlay.css">mail/base/content/extensionsOverlay.css</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/extensionsOverlay.css">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/extensionsOverlay.css">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/extensionsOverlay.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/msgMail3PaneWindow.js">mail/base/content/msgMail3PaneWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/msgMail3PaneWindow.js">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/msgMail3PaneWindow.js">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/msgMail3PaneWindow.js">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/msgMail3PaneWindow.js">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/msgMail3PaneWindow.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/specialTabs.js">mail/base/content/specialTabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/specialTabs.js">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/specialTabs.js">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/specialTabs.js">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/specialTabs.js">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/content/specialTabs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/jar.mn">mail/base/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/jar.mn">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/jar.mn">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/jar.mn">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/jar.mn">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/base/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/addons.properties">mail/locales/en-US/chrome/messenger/addons.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/addons.properties">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/addons.properties">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/addons.properties">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/addons.properties">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/addons.properties">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/extensionsOverlay.properties">mail/locales/en-US/chrome/messenger/extensionsOverlay.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/extensionsOverlay.properties">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/extensionsOverlay.properties">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/extensionsOverlay.properties">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/extensionsOverlay.properties">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/locales/en-US/chrome/messenger/extensionsOverlay.properties">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/themes/shared/jar.inc.mn">mail/themes/shared/jar.inc.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/themes/shared/jar.inc.mn">file</a> |
<a href="/comm-central/annotate/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/themes/shared/jar.inc.mn">annotate</a> |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/themes/shared/jar.inc.mn">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/themes/shared/jar.inc.mn">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/themes/shared/jar.inc.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/themes/shared/mail/extensionsOverlay.css">mail/themes/shared/mail/extensionsOverlay.css</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/themes/shared/mail/extensionsOverlay.css">diff</a> |
<a href="/comm-central/comparison/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/themes/shared/mail/extensionsOverlay.css">comparison</a> |
<a href="/comm-central/log/26f109dd92ca8e79da388ad0a13c8533ba9de103/mail/themes/shared/mail/extensionsOverlay.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/.eslintignore</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/.eslintignore</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -81,12 +81,8 @@ mail/locales/en-US/all-l10n.js</span>
<a href="#l1.4"></a><span id="l1.4"> </span>
<a href="#l1.5"></a><span id="l1.5"> # prefs files</span>
<a href="#l1.6"></a><span id="l1.6"> calendar/lightning/content/lightning.js</span>
<a href="#l1.7"></a><span id="l1.7"> calendar/providers/gdata/defaults/preferences.js</span>
<a href="#l1.8"></a><span id="l1.8"> calendar/timezones/preferences.js</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10"> # third party library</span>
<a href="#l1.11"></a><span id="l1.11"> calendar/base/modules/ical.js</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-# Temporarily disabled: see bug 1565177</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-mail/base/content/aboutAddonsExtra.js</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-mail/base/content/extensions.xml</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/common/src/ExtensionSupport.jsm</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/common/src/ExtensionSupport.jsm</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -63,16 +63,27 @@ var ExtensionSupport = {</span>
<a href="#l2.4"></a><span id="l2.4">     },</span>
<a href="#l2.5"></a><span id="l2.5">     // AddonListener</span>
<a href="#l2.6"></a><span id="l2.6">     onDisabled(ev) {</span>
<a href="#l2.7"></a><span id="l2.7">       this._maybeDelete(ev.id, &quot;disable&quot;);</span>
<a href="#l2.8"></a><span id="l2.8">     },</span>
<a href="#l2.9"></a><span id="l2.9">     onUninstalled(ev) {</span>
<a href="#l2.10"></a><span id="l2.10">       this._maybeDelete(ev.id, &quot;uninstall&quot;);</span>
<a href="#l2.11"></a><span id="l2.11">     },</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+    async listRemoved() {</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+      let running = [...legacyExtensions.keys()];</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+      let installed = await AddonManager.getAddonsByIDs(running);</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+      let runningButNotInstalled = [];</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+      for (let i = 0; i &lt; running.length; i++) {</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+        if (installed[i] === null) {</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineplus">+          runningButNotInstalled.push(legacyExtensions.get(running[i]));</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineplus">+        }</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineplus">+      }</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineplus">+      return runningButNotInstalled;</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineplus">+    },</span>
<a href="#l2.23"></a><span id="l2.23">   },</span>
<a href="#l2.24"></a><span id="l2.24"> </span>
<a href="#l2.25"></a><span id="l2.25">   loadedBootstrapExtensions: bootstrapExtensions,</span>
<a href="#l2.26"></a><span id="l2.26"> </span>
<a href="#l2.27"></a><span id="l2.27">   loadAddonPrefs(addonFile) {</span>
<a href="#l2.28"></a><span id="l2.28">     function setPref(preferDefault, name, value) {</span>
<a href="#l2.29"></a><span id="l2.29">       let branch = preferDefault ? Services.prefs.getDefaultBranch(&quot;&quot;) : Services.prefs.getBranch(&quot;&quot;);</span>
<a href="#l2.30"></a><span id="l2.30"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/app/profile/all-thunderbird.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/app/profile/all-thunderbird.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -96,16 +96,18 @@ pref(&quot;app.feedback.baseURL&quot;, &quot;https://in</span>
<a href="#l3.4"></a><span id="l3.4"> </span>
<a href="#l3.5"></a><span id="l3.5"> // Show error messages in error console.</span>
<a href="#l3.6"></a><span id="l3.6"> pref(&quot;javascript.options.showInConsole&quot;, true);</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> // Controls enabling of the extension system logging (can reduce performance)</span>
<a href="#l3.9"></a><span id="l3.9"> pref(&quot;extensions.logging.enabled&quot;, false);</span>
<a href="#l3.10"></a><span id="l3.10"> pref(&quot;extensions.overlayloader.loglevel&quot;, &quot;warn&quot;);</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+pref(&quot;extensions.abuseReport.enabled&quot;, false);</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+</span>
<a href="#l3.14"></a><span id="l3.14"> // Strict compatibility makes add-ons incompatible by default.</span>
<a href="#l3.15"></a><span id="l3.15"> #ifndef RELEASE_OR_BETA</span>
<a href="#l3.16"></a><span id="l3.16"> pref(&quot;extensions.strictCompatibility&quot;, false);</span>
<a href="#l3.17"></a><span id="l3.17"> #else</span>
<a href="#l3.18"></a><span id="l3.18"> pref(&quot;extensions.strictCompatibility&quot;, true);</span>
<a href="#l3.19"></a><span id="l3.19"> #endif</span>
<a href="#l3.20"></a><span id="l3.20"> </span>
<a href="#l3.21"></a><span id="l3.21"> pref(&quot;extensions.update.autoUpdateDefault&quot;, true);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">rename from mail/base/content/extensionsOverlay.css</span>
<a href="#l4.2"></a><span id="l4.2">rename to mail/base/content/aboutAddonsExtra.css</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineminus">--- a/mail/base/content/extensionsOverlay.css</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineplus">+++ b/mail/base/content/aboutAddonsExtra.css</span>
<a href="#l4.5"></a><span id="l4.5" class="difflineat">@@ -1,47 +1,68 @@</span>
<a href="#l4.6"></a><span id="l4.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.7"></a><span id="l4.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.8"></a><span id="l4.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10" class="difflineminus">-@import url(&quot;chrome://messenger/skin/extensionsOverlay.css&quot;);</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+:root {</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+  --in-content-categories-background: #ebebef;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+}</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+@supports -moz-bool-pref(&quot;browser.in-content.dark-mode&quot;) {</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+  @media (prefers-color-scheme: dark) {</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+    :root {</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineplus">+      --in-content-categories-background: rgba(249,249,250,0.1);</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+    }</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+  }</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineplus">+}</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineplus">+</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineplus">+#category-box {</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineplus">+  background-color: var(--in-content-categories-background);</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineplus">+}</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineplus">+</span>
<a href="#l4.27"></a><span id="l4.27" class="difflineplus">+.nav-button {</span>
<a href="#l4.28"></a><span id="l4.28" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineplus">+  list-style-image: url(chrome://messenger/skin/icons/navigation.svg);</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineplus">+  margin-top: 15px;</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineplus">+  margin-bottom: 10px;</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineplus">+  border: 1px solid transparent;</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineplus">+  border-radius: 2px;</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineplus">+  -moz-context-properties: fill;</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineplus">+  fill: currentColor;</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineplus">+}</span>
<a href="#l4.37"></a><span id="l4.37"> </span>
<a href="#l4.38"></a><span id="l4.38" class="difflineminus">-/* Hide FX specific elements we don't use */</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-.legacy-warning,</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-#private-browsing-notice,</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineminus">-#detail-privateBrowsing-row,</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineminus">-#detail-privateBrowsing-row-footer,</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineminus">-.privateBrowsing-notice-container {</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineplus">+.nav-button[disabled=&quot;true&quot;] &gt; .toolbarbutton-icon {</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineplus">+  opacity: 0.4;</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineplus">+}</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineplus">+</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineplus">+.nav-button:not([disabled=&quot;true&quot;]):hover {</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineplus">+  background-color: #bebebe;</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineplus">+  cursor: pointer;</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineplus">+}</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineplus">+</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineplus">+.nav-button &gt; .toolbarbutton-text {</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineplus">+  display: none;</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineplus">+}</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineplus">+</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineplus">+#back-btn:-moz-locale-dir(rtl),</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineplus">+#forward-btn:-moz-locale-dir(ltr) {</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineplus">+  transform: scaleX(-1);</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineplus">+}</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineplus">+</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineplus">+#categories {</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineplus">+  padding-top: 0;</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineplus">+}</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineplus">+</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineplus">+#preferencesButton {</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineplus">+  margin-bottom: 36px;</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineplus">+}</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineplus">+</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineplus">+.sidebar-footer-button.help-button {</span>
<a href="#l4.71"></a><span id="l4.71">   display: none;</span>
<a href="#l4.72"></a><span id="l4.72"> }</span>
<a href="#l4.73"></a><span id="l4.73"> </span>
<a href="#l4.74"></a><span id="l4.74"> #nav-header {</span>
<a href="#l4.75"></a><span id="l4.75">   height: 50px;</span>
<a href="#l4.76"></a><span id="l4.76"> }</span>
<a href="#l4.77"></a><span id="l4.77"> </span>
<a href="#l4.78"></a><span id="l4.78" class="difflineminus">-#tb-legacy-extensions-notice {</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineminus">-  display: none;</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineminus">-  -moz-box-align: start;</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineminus">-  margin-left: 28px;</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineminus">-  margin-right: 28px;</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineminus">-  margin-bottom: 8px;</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineminus">-}</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineminus">-</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineminus">-#list-view[type=&quot;extension&quot;] #tb-legacy-extensions-notice {</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineminus">-  display: -moz-box;</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineminus">-}</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineminus">-</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineminus">-#tb-legacy-extensions-notice &gt; .alert {</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineminus">-  width: 664px;</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineminus">-  padding: 4px;</span>
<a href="#l4.93"></a><span id="l4.93" class="difflineminus">-}</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineminus">-</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineminus">-#tb-legacy-extensions-notice &gt; .alert &gt; description {</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineminus">-  margin: 0;</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineminus">-}</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineminus">-</span>
<a href="#l4.99"></a><span id="l4.99"> #category-plugin {</span>
<a href="#l4.100"></a><span id="l4.100">   display: none;</span>
<a href="#l4.101"></a><span id="l4.101"> }</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineminus">-</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineminus">-.addon[status=&quot;installed&quot;][type=&quot;extension&quot;] {</span>
<a href="#l4.104"></a><span id="l4.104" class="difflineminus">-  -moz-binding: url(&quot;chrome://messenger/content/extensions.xml#thunderbird-addon-generic&quot;);</span>
<a href="#l4.105"></a><span id="l4.105" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/base/content/aboutAddonsExtra.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/base/content/aboutAddonsExtra.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,246 +1,178 @@</span>
<a href="#l5.4"></a><span id="l5.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.5"></a><span id="l5.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.6"></a><span id="l5.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8" class="difflineminus">-/* import-globals-from ../../../../toolkit/mozapps/extensions/content/extensions.js */</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineplus">+/* import-globals-from ../../../../toolkit/mozapps/extensions/content/aboutaddons.js */</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11"> var {ExtensionSupport} = ChromeUtils.import(&quot;resource:///modules/ExtensionSupport.jsm&quot;);</span>
<a href="#l5.12"></a><span id="l5.12"> var {BrowserUtils} = ChromeUtils.import(&quot;resource://gre/modules/BrowserUtils.jsm&quot;);</span>
<a href="#l5.13"></a><span id="l5.13"> </span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-gStrings.mailExt =</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">-  Services.strings.createBundle(&quot;chrome://messenger/locale/extensionsOverlay.properties&quot;);</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+var mailExtBundle = Services.strings.createBundle(&quot;chrome://messenger/locale/extensionsOverlay.properties&quot;);</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+var extensionsNeedingRestart = new Set();</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+/* This file runs in both the outer window, which controls the categories list, search bar, etc.,</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+ * and the inner window which is the list of add-ons or the detail view. */</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+(async function() {</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+  if (window.location.href == &quot;about:addons&quot;) {</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineplus">+    let contentStylesheet = document.createProcessingInstruction(</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineplus">+      &quot;xml-stylesheet&quot;,</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineplus">+      'href=&quot;chrome://messenger/content/aboutAddonsExtra.css&quot; type=&quot;text/css&quot;');</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineplus">+    document.insertBefore(contentStylesheet, document.documentElement);</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineplus">+</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineplus">+    // Add navigation buttons for back and forward on the addons page.</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineplus">+    let hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineplus">+    hbox.setAttribute(&quot;id&quot;, &quot;nav-header&quot;);</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineplus">+    hbox.setAttribute(&quot;align&quot;, &quot;center&quot;);</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+    hbox.setAttribute(&quot;pack&quot;, &quot;center&quot;);</span>
<a href="#l5.33"></a><span id="l5.33"> </span>
<a href="#l5.34"></a><span id="l5.34" class="difflineminus">-(function() {</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineplus">+    let backButton = document.createXULElement(&quot;toolbarbutton&quot;);</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineplus">+    backButton.setAttribute(&quot;id&quot;, &quot;back-btn&quot;);</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+    backButton.setAttribute(&quot;class&quot;, &quot;nav-button&quot;);</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineplus">+    backButton.setAttribute(&quot;command&quot;, &quot;cmd_back&quot;);</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineplus">+    backButton.setAttribute(&quot;tooltiptext&quot;, mailExtBundle.GetStringFromName(&quot;cmdBackTooltip&quot;));</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineplus">+    backButton.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+    let forwardButton = document.createXULElement(&quot;toolbarbutton&quot;);</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+    forwardButton.setAttribute(&quot;id&quot;, &quot;forward-btn&quot;);</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+    forwardButton.setAttribute(&quot;class&quot;, &quot;nav-button&quot;);</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineplus">+    forwardButton.setAttribute(&quot;command&quot;, &quot;cmd_forward&quot;);</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineplus">+    forwardButton.setAttribute(&quot;tooltiptext&quot;, mailExtBundle.GetStringFromName(&quot;cmdForwardTooltip&quot;));</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineplus">+    forwardButton.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineplus">+    hbox.appendChild(backButton);</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineplus">+    hbox.appendChild(forwardButton);</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+    document.getElementById(&quot;category-box&quot;)</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+            .insertBefore(hbox, document.getElementById(&quot;categories&quot;));</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+    // Fix the &quot;Search on addons.mozilla.org&quot; placeholder text in the searchbox.</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+    let textbox = document.getElementById(&quot;header-search&quot;);</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+    let placeholder = textbox.getAttribute(&quot;placeholder&quot;);</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineplus">+    placeholder = placeholder.replace(&quot;addons.mozilla.org&quot;, &quot;addons.thunderbird.net&quot;);</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+    textbox.setAttribute(&quot;placeholder&quot;, placeholder);</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineplus">+    return;</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineplus">+  }</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineplus">+</span>
<a href="#l5.62"></a><span id="l5.62">   window.isCorrectlySigned = function() { return true; };</span>
<a href="#l5.63"></a><span id="l5.63"> </span>
<a href="#l5.64"></a><span id="l5.64" class="difflineminus">-  let contentStylesheet = document.createProcessingInstruction(</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineminus">-    &quot;xml-stylesheet&quot;,</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineminus">-    'href=&quot;chrome://messenger/content/extensionsOverlay.css&quot; type=&quot;text/css&quot;');</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineminus">-  document.insertBefore(contentStylesheet, document.documentElement);</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineminus">-</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineminus">-  // Add navigation buttons for back and forward on the addons page.</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineminus">-  let hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineminus">-  hbox.setAttribute(&quot;id&quot;, &quot;nav-header&quot;);</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineminus">-  hbox.setAttribute(&quot;align&quot;, &quot;center&quot;);</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineminus">-  hbox.setAttribute(&quot;pack&quot;, &quot;center&quot;);</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineminus">-</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineminus">-  let backButton = document.createXULElement(&quot;toolbarbutton&quot;);</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineminus">-  backButton.setAttribute(&quot;id&quot;, &quot;back-btn&quot;);</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineminus">-  backButton.setAttribute(&quot;class&quot;, &quot;nav-button&quot;);</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineminus">-  backButton.setAttribute(&quot;command&quot;, &quot;cmd_back&quot;);</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineminus">-  backButton.setAttribute(&quot;tooltiptext&quot;, gStrings.mailExt.GetStringFromName(&quot;cmdBackTooltip&quot;));</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineminus">-  backButton.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineminus">-</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineminus">-  let forwardButton = document.createXULElement(&quot;toolbarbutton&quot;);</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineminus">-  forwardButton.setAttribute(&quot;id&quot;, &quot;forward-btn&quot;);</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineminus">-  forwardButton.setAttribute(&quot;class&quot;, &quot;nav-button&quot;);</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineminus">-  forwardButton.setAttribute(&quot;command&quot;, &quot;cmd_forward&quot;);</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineminus">-  forwardButton.setAttribute(&quot;tooltiptext&quot;, gStrings.mailExt.GetStringFromName(&quot;cmdForwardTooltip&quot;));</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineminus">-  forwardButton.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineminus">-  hbox.appendChild(backButton);</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineminus">-  hbox.appendChild(forwardButton);</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineminus">-</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineminus">-  document.getElementById(&quot;category-box&quot;)</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineminus">-          .insertBefore(hbox, document.getElementById(&quot;categories&quot;));</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineminus">-</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineminus">-  // Fix the &quot;Search on addons.mozilla.org&quot; placeholder text in the searchbox.</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineminus">-  let textbox = document.getElementById(&quot;header-search&quot;);</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineminus">-  let placeholder = textbox.getAttribute(&quot;placeholder&quot;);</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineminus">-  placeholder = placeholder.replace(&quot;addons.mozilla.org&quot;, &quot;addons.thunderbird.net&quot;);</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineminus">-  textbox.setAttribute(&quot;placeholder&quot;, placeholder);</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineminus">-</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineminus">-  // Tell the world about legacy extensions.</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineminus">-  let alertContainer = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineminus">-  alertContainer.id = &quot;tb-legacy-extensions-notice&quot;;</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineminus">-  alertContainer.className = &quot;alert-container&quot;;</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineplus">+  delete window.browserBundle;</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineplus">+  window.browserBundle = Services.strings.createBundle(&quot;chrome://messenger/locale/addons.properties&quot;);</span>
<a href="#l5.106"></a><span id="l5.106"> </span>
<a href="#l5.107"></a><span id="l5.107" class="difflineminus">-  let alert = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l5.108"></a><span id="l5.108" class="difflineminus">-  alert.className = &quot;alert&quot;;</span>
<a href="#l5.109"></a><span id="l5.109" class="difflineminus">-</span>
<a href="#l5.110"></a><span id="l5.110" class="difflineminus">-  let description = document.createXULElement(&quot;description&quot;);</span>
<a href="#l5.111"></a><span id="l5.111" class="difflineminus">-  let messageString = gStrings.mailExt.GetStringFromName(&quot;legacyInfo&quot;) + &quot; &quot;;</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineminus">-  messageString = messageString.replace(&quot;#1&quot;, gStrings.brandShortName);</span>
<a href="#l5.113"></a><span id="l5.113" class="difflineminus">-  messageString = messageString.replace(&quot;#2&quot;, Services.appinfo.version);</span>
<a href="#l5.114"></a><span id="l5.114" class="difflineminus">-  description.textContent = messageString;</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineminus">-</span>
<a href="#l5.116"></a><span id="l5.116" class="difflineminus">-  let label = document.createXULElement(&quot;label&quot;, {is: &quot;text-link&quot;});</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineminus">-  label.className = &quot;text-link plain&quot;;</span>
<a href="#l5.118"></a><span id="l5.118" class="difflineminus">-  label.href = &quot;https://support.mozilla.org/kb/unable-install-add-on-extension-theme-thunderbird&quot;;</span>
<a href="#l5.119"></a><span id="l5.119" class="difflineminus">-  label.value = gStrings.mailExt.GetStringFromName(&quot;legacyLearnMore&quot;);</span>
<a href="#l5.120"></a><span id="l5.120" class="difflineminus">-</span>
<a href="#l5.121"></a><span id="l5.121" class="difflineminus">-  description.appendChild(label);</span>
<a href="#l5.122"></a><span id="l5.122" class="difflineminus">-  alert.appendChild(description);</span>
<a href="#l5.123"></a><span id="l5.123" class="difflineminus">-  alertContainer.appendChild(alert);</span>
<a href="#l5.124"></a><span id="l5.124" class="difflineminus">-</span>
<a href="#l5.125"></a><span id="l5.125" class="difflineminus">-  gListView.node.insertBefore(alertContainer, document.getElementById(&quot;legacy-extensions-notice&quot;));</span>
<a href="#l5.126"></a><span id="l5.126" class="difflineminus">-})();</span>
<a href="#l5.127"></a><span id="l5.127" class="difflineminus">-</span>
<a href="#l5.128"></a><span id="l5.128" class="difflineminus">-window._oldSortElements = window.sortElements;</span>
<a href="#l5.129"></a><span id="l5.129" class="difflineminus">-window.sortElements = function(aElements, aSortBy, aAscending) {</span>
<a href="#l5.130"></a><span id="l5.130" class="difflineminus">-  if (aSortBy.length != 2 || aSortBy[0] != &quot;uiState&quot; || aSortBy[1] != &quot;name&quot;) {</span>
<a href="#l5.131"></a><span id="l5.131" class="difflineminus">-    window._oldSortElements(aElements, aSortBy, aAscending);</span>
<a href="#l5.132"></a><span id="l5.132" class="difflineminus">-  }</span>
<a href="#l5.133"></a><span id="l5.133" class="difflineminus">-</span>
<a href="#l5.134"></a><span id="l5.134" class="difflineminus">-  let getUIState = function(addon) {</span>
<a href="#l5.135"></a><span id="l5.135" class="difflineminus">-    if (addon.pendingOperations == AddonManager.PENDING_DISABLE) {</span>
<a href="#l5.136"></a><span id="l5.136" class="difflineminus">-      return &quot;pendingDisable&quot;;</span>
<a href="#l5.137"></a><span id="l5.137" class="difflineplus">+  let _getAddonMessageInfo = getAddonMessageInfo;</span>
<a href="#l5.138"></a><span id="l5.138" class="difflineplus">+  getAddonMessageInfo = async function(addon) {</span>
<a href="#l5.139"></a><span id="l5.139" class="difflineplus">+    let result = await _getAddonMessageInfo(addon);</span>
<a href="#l5.140"></a><span id="l5.140" class="difflineplus">+    if (!result.message) {</span>
<a href="#l5.141"></a><span id="l5.141" class="difflineplus">+      let { stringName } = getTrueState(addon, &quot;gDetailView._addon&quot;);</span>
<a href="#l5.142"></a><span id="l5.142" class="difflineplus">+      if (stringName) {</span>
<a href="#l5.143"></a><span id="l5.143" class="difflineplus">+        result.message = mailExtBundle.formatStringFromName(</span>
<a href="#l5.144"></a><span id="l5.144" class="difflineplus">+          stringName, [addon.name, brandBundle.GetStringFromName(&quot;brandShortName&quot;)]</span>
<a href="#l5.145"></a><span id="l5.145" class="difflineplus">+        );</span>
<a href="#l5.146"></a><span id="l5.146" class="difflineplus">+        result.type = &quot;success&quot;;</span>
<a href="#l5.147"></a><span id="l5.147" class="difflineplus">+        extensionsNeedingRestart.add(addon.id);</span>
<a href="#l5.148"></a><span id="l5.148" class="difflineplus">+      } else {</span>
<a href="#l5.149"></a><span id="l5.149" class="difflineplus">+        extensionsNeedingRestart.delete(addon.id);</span>
<a href="#l5.150"></a><span id="l5.150" class="difflineplus">+      }</span>
<a href="#l5.151"></a><span id="l5.151" class="difflineplus">+      setRestartBar();</span>
<a href="#l5.152"></a><span id="l5.152">     }</span>
<a href="#l5.153"></a><span id="l5.153" class="difflineminus">-    if (ExtensionSupport.loadedLegacyExtensions.has(addon.id) &amp;&amp; addon.userDisabled) {</span>
<a href="#l5.154"></a><span id="l5.154" class="difflineminus">-      return &quot;pendingDisable&quot;;</span>
<a href="#l5.155"></a><span id="l5.155" class="difflineminus">-    }</span>
<a href="#l5.156"></a><span id="l5.156" class="difflineminus">-    if (addon.pendingOperations == AddonManager.PENDING_UNINSTALL) {</span>
<a href="#l5.157"></a><span id="l5.157" class="difflineminus">-      return &quot;pendingUninstall&quot;;</span>
<a href="#l5.158"></a><span id="l5.158" class="difflineminus">-    }</span>
<a href="#l5.159"></a><span id="l5.159" class="difflineminus">-    if (!addon.isActive &amp;&amp;</span>
<a href="#l5.160"></a><span id="l5.160" class="difflineminus">-        (addon.pendingOperations != AddonManager.PENDING_ENABLE &amp;&amp;</span>
<a href="#l5.161"></a><span id="l5.161" class="difflineminus">-         addon.pendingOperations != AddonManager.PENDING_INSTALL)) {</span>
<a href="#l5.162"></a><span id="l5.162" class="difflineminus">-      return &quot;disabled&quot;;</span>
<a href="#l5.163"></a><span id="l5.163" class="difflineminus">-    }</span>
<a href="#l5.164"></a><span id="l5.164" class="difflineminus">-    return &quot;enabled&quot;;</span>
<a href="#l5.165"></a><span id="l5.165" class="difflineplus">+    return result;</span>
<a href="#l5.166"></a><span id="l5.166">   };</span>
<a href="#l5.167"></a><span id="l5.167"> </span>
<a href="#l5.168"></a><span id="l5.168" class="difflineminus">-  aElements.sort((a, b) =&gt; {</span>
<a href="#l5.169"></a><span id="l5.169" class="difflineminus">-    const UISTATE_ORDER = [&quot;enabled&quot;, &quot;askToActivate&quot;, &quot;pendingDisable&quot;, &quot;pendingUninstall&quot;, &quot;disabled&quot;];</span>
<a href="#l5.170"></a><span id="l5.170" class="difflineplus">+  let listener = {</span>
<a href="#l5.171"></a><span id="l5.171" class="difflineplus">+    onUninstalling(addon) {</span>
<a href="#l5.172"></a><span id="l5.172" class="difflineplus">+      if (ExtensionSupport.loadedLegacyExtensions.hasAnyState(addon.id)) {</span>
<a href="#l5.173"></a><span id="l5.173" class="difflineplus">+        extensionsNeedingRestart.add(addon.id);</span>
<a href="#l5.174"></a><span id="l5.174" class="difflineplus">+        setRestartBar();</span>
<a href="#l5.175"></a><span id="l5.175" class="difflineplus">+      }</span>
<a href="#l5.176"></a><span id="l5.176" class="difflineplus">+    },</span>
<a href="#l5.177"></a><span id="l5.177" class="difflineplus">+    onUninstalled(addon) {</span>
<a href="#l5.178"></a><span id="l5.178" class="difflineplus">+      if (ExtensionSupport.loadedLegacyExtensions.hasAnyState(addon.id)) {</span>
<a href="#l5.179"></a><span id="l5.179" class="difflineplus">+        extensionsNeedingRestart.add(addon.id);</span>
<a href="#l5.180"></a><span id="l5.180" class="difflineplus">+        setRestartBar();</span>
<a href="#l5.181"></a><span id="l5.181" class="difflineplus">+      }</span>
<a href="#l5.182"></a><span id="l5.182" class="difflineplus">+    },</span>
<a href="#l5.183"></a><span id="l5.183" class="difflineplus">+  };</span>
<a href="#l5.184"></a><span id="l5.184" class="difflineplus">+  AddonManager.addAddonListener(listener);</span>
<a href="#l5.185"></a><span id="l5.185" class="difflineplus">+  window.addEventListener(&quot;unload&quot;, () =&gt; AddonManager.removeAddonListener(listener));</span>
<a href="#l5.186"></a><span id="l5.186"> </span>
<a href="#l5.187"></a><span id="l5.187" class="difflineminus">-    let aState = UISTATE_ORDER.indexOf(getUIState(a.mAddon));</span>
<a href="#l5.188"></a><span id="l5.188" class="difflineminus">-    let bState = UISTATE_ORDER.indexOf(getUIState(b.mAddon));</span>
<a href="#l5.189"></a><span id="l5.189" class="difflineminus">-    if (aState &lt; bState) {</span>
<a href="#l5.190"></a><span id="l5.190" class="difflineminus">-      return -1;</span>
<a href="#l5.191"></a><span id="l5.191" class="difflineminus">-    }</span>
<a href="#l5.192"></a><span id="l5.192" class="difflineminus">-    if (aState &gt; bState) {</span>
<a href="#l5.193"></a><span id="l5.193" class="difflineminus">-      return 1;</span>
<a href="#l5.194"></a><span id="l5.194" class="difflineminus">-    }</span>
<a href="#l5.195"></a><span id="l5.195" class="difflineminus">-    if (a.mAddon.name &lt; b.mAddon.name) {</span>
<a href="#l5.196"></a><span id="l5.196" class="difflineminus">-      return -1;</span>
<a href="#l5.197"></a><span id="l5.197" class="difflineminus">-    }</span>
<a href="#l5.198"></a><span id="l5.198" class="difflineminus">-    if (a.mAddon.name &gt; b.mAddon.name) {</span>
<a href="#l5.199"></a><span id="l5.199" class="difflineminus">-      return 1;</span>
<a href="#l5.200"></a><span id="l5.200" class="difflineminus">-    }</span>
<a href="#l5.201"></a><span id="l5.201" class="difflineminus">-    return 0;</span>
<a href="#l5.202"></a><span id="l5.202" class="difflineminus">-  });</span>
<a href="#l5.203"></a><span id="l5.203" class="difflineminus">-};</span>
<a href="#l5.204"></a><span id="l5.204" class="difflineminus">-if (window.gViewController.currentViewObj == window.gListView) {</span>
<a href="#l5.205"></a><span id="l5.205" class="difflineminus">-  window.sortList(window.gListView._listBox, [&quot;uiState&quot;, &quot;name&quot;], true);</span>
<a href="#l5.206"></a><span id="l5.206" class="difflineminus">-}</span>
<a href="#l5.207"></a><span id="l5.207" class="difflineplus">+  // If a legacy extension has been removed, it needs a restart but is not in the list</span>
<a href="#l5.208"></a><span id="l5.208" class="difflineplus">+  // - show the restart bar anyway.</span>
<a href="#l5.209"></a><span id="l5.209" class="difflineplus">+  let removed = await ExtensionSupport.loadedLegacyExtensions.listRemoved();</span>
<a href="#l5.210"></a><span id="l5.210" class="difflineplus">+  for (let removedExtension of removed) {</span>
<a href="#l5.211"></a><span id="l5.211" class="difflineplus">+    extensionsNeedingRestart.add(removedExtension.id);</span>
<a href="#l5.212"></a><span id="l5.212" class="difflineplus">+  }</span>
<a href="#l5.213"></a><span id="l5.213" class="difflineplus">+  setRestartBar();</span>
<a href="#l5.214"></a><span id="l5.214" class="difflineplus">+})();</span>
<a href="#l5.215"></a><span id="l5.215"> </span>
<a href="#l5.216"></a><span id="l5.216" class="difflineminus">-gDetailView._oldDetailUpdateState = gDetailView.updateState;</span>
<a href="#l5.217"></a><span id="l5.217" class="difflineminus">-gDetailView.updateState = function() {</span>
<a href="#l5.218"></a><span id="l5.218" class="difflineminus">-  this._oldDetailUpdateState();</span>
<a href="#l5.219"></a><span id="l5.219" class="difflineminus">-</span>
<a href="#l5.220"></a><span id="l5.220" class="difflineminus">-  let restartButton = document.getElementById(&quot;restart-btn&quot;);</span>
<a href="#l5.221"></a><span id="l5.221" class="difflineminus">-  let undoButton = document.getElementById(&quot;undo-btn&quot;);</span>
<a href="#l5.222"></a><span id="l5.222" class="difflineminus">-</span>
<a href="#l5.223"></a><span id="l5.223" class="difflineminus">-  if (ExtensionSupport.loadedLegacyExtensions.has(this._addon.id)) {</span>
<a href="#l5.224"></a><span id="l5.224" class="difflineminus">-    this.node.setAttribute(&quot;active&quot;, &quot;true&quot;);</span>
<a href="#l5.225"></a><span id="l5.225" class="difflineplus">+function setRestartBar() {</span>
<a href="#l5.226"></a><span id="l5.226" class="difflineplus">+  let list = document.querySelector(&quot;addon-list&quot;);</span>
<a href="#l5.227"></a><span id="l5.227" class="difflineplus">+  if (!list || list.type != &quot;extension&quot;) {</span>
<a href="#l5.228"></a><span id="l5.228" class="difflineplus">+    return;</span>
<a href="#l5.229"></a><span id="l5.229">   }</span>
<a href="#l5.230"></a><span id="l5.230"> </span>
<a href="#l5.231"></a><span id="l5.231" class="difflineminus">-  if (ExtensionSupport.loadedLegacyExtensions.hasAnyState(this._addon.id, true)) {</span>
<a href="#l5.232"></a><span id="l5.232" class="difflineminus">-    let { stringName, undoCommand, version } = getTrueState(this._addon, &quot;gDetailView._addon&quot;);</span>
<a href="#l5.233"></a><span id="l5.233" class="difflineminus">-</span>
<a href="#l5.234"></a><span id="l5.234" class="difflineminus">-    if (stringName) {</span>
<a href="#l5.235"></a><span id="l5.235" class="difflineminus">-      this.node.setAttribute(&quot;notification&quot;, &quot;warning&quot;);</span>
<a href="#l5.236"></a><span id="l5.236" class="difflineminus">-      this.node.removeAttribute(&quot;pending&quot;);</span>
<a href="#l5.237"></a><span id="l5.237" class="difflineminus">-</span>
<a href="#l5.238"></a><span id="l5.238" class="difflineminus">-      let warningContainer = document.getElementById(&quot;warning-container&quot;);</span>
<a href="#l5.239"></a><span id="l5.239" class="difflineminus">-      let warning = document.getElementById(&quot;detail-warning&quot;);</span>
<a href="#l5.240"></a><span id="l5.240" class="difflineminus">-      document.getElementById(&quot;detail-warning-link&quot;).hidden = true;</span>
<a href="#l5.241"></a><span id="l5.241" class="difflineminus">-      warning.textContent = gStrings.mailExt.formatStringFromName(</span>
<a href="#l5.242"></a><span id="l5.242" class="difflineminus">-        stringName, [this._addon.name, gStrings.brandShortName]</span>
<a href="#l5.243"></a><span id="l5.243" class="difflineminus">-      );</span>
<a href="#l5.244"></a><span id="l5.244" class="difflineminus">-</span>
<a href="#l5.245"></a><span id="l5.245" class="difflineminus">-      if (version) {</span>
<a href="#l5.246"></a><span id="l5.246" class="difflineminus">-        document.getElementById(&quot;detail-version&quot;).value = version;</span>
<a href="#l5.247"></a><span id="l5.247" class="difflineminus">-      }</span>
<a href="#l5.248"></a><span id="l5.248" class="difflineminus">-</span>
<a href="#l5.249"></a><span id="l5.249" class="difflineminus">-      if (!restartButton) {</span>
<a href="#l5.250"></a><span id="l5.250" class="difflineminus">-        restartButton = document.createXULElement(&quot;button&quot;);</span>
<a href="#l5.251"></a><span id="l5.251" class="difflineminus">-        restartButton.id = &quot;restart-btn&quot;;</span>
<a href="#l5.252"></a><span id="l5.252" class="difflineminus">-        restartButton.className = &quot;button-link restart-btn&quot;;</span>
<a href="#l5.253"></a><span id="l5.253" class="difflineminus">-        restartButton.setAttribute(</span>
<a href="#l5.254"></a><span id="l5.254" class="difflineminus">-          &quot;label&quot;, gStrings.mailExt.GetStringFromName(&quot;warnLegacyRestartButton&quot;)</span>
<a href="#l5.255"></a><span id="l5.255" class="difflineminus">-        );</span>
<a href="#l5.256"></a><span id="l5.256" class="difflineminus">-        restartButton.setAttribute(&quot;oncommand&quot;, &quot;BrowserUtils.restartApplication()&quot;);</span>
<a href="#l5.257"></a><span id="l5.257" class="difflineminus">-        warningContainer.insertBefore(restartButton, warningContainer.lastElementChild);</span>
<a href="#l5.258"></a><span id="l5.258" class="difflineminus">-      }</span>
<a href="#l5.259"></a><span id="l5.259" class="difflineminus">-      restartButton.hidden = false;</span>
<a href="#l5.260"></a><span id="l5.260" class="difflineminus">-      if (undoCommand) {</span>
<a href="#l5.261"></a><span id="l5.261" class="difflineminus">-        if (!undoButton) {</span>
<a href="#l5.262"></a><span id="l5.262" class="difflineminus">-          undoButton = document.createXULElement(&quot;button&quot;);</span>
<a href="#l5.263"></a><span id="l5.263" class="difflineminus">-          undoButton.className = &quot;button-link undo-btn&quot;;</span>
<a href="#l5.264"></a><span id="l5.264" class="difflineminus">-          undoButton.setAttribute(</span>
<a href="#l5.265"></a><span id="l5.265" class="difflineminus">-            &quot;label&quot;, gStrings.mailExt.GetStringFromName(&quot;warnLegacyUndoButton&quot;)</span>
<a href="#l5.266"></a><span id="l5.266" class="difflineminus">-          );</span>
<a href="#l5.267"></a><span id="l5.267" class="difflineminus">-          // We shouldn't really attach non-anonymous content to anonymous content, but we can.</span>
<a href="#l5.268"></a><span id="l5.268" class="difflineminus">-          warningContainer.insertBefore(undoButton, warningContainer.lastElementChild);</span>
<a href="#l5.269"></a><span id="l5.269" class="difflineminus">-        }</span>
<a href="#l5.270"></a><span id="l5.270" class="difflineminus">-        undoButton.setAttribute(&quot;oncommand&quot;, undoCommand);</span>
<a href="#l5.271"></a><span id="l5.271" class="difflineminus">-        undoButton.hidden = false;</span>
<a href="#l5.272"></a><span id="l5.272" class="difflineminus">-      } else if (undoButton) {</span>
<a href="#l5.273"></a><span id="l5.273" class="difflineminus">-        undoButton.hidden = true;</span>
<a href="#l5.274"></a><span id="l5.274" class="difflineminus">-      }</span>
<a href="#l5.275"></a><span id="l5.275" class="difflineminus">-      return;</span>
<a href="#l5.276"></a><span id="l5.276" class="difflineplus">+  let restartBar = document.getElementById(&quot;restartBar&quot;);</span>
<a href="#l5.277"></a><span id="l5.277" class="difflineplus">+  if (extensionsNeedingRestart.size == 0) {</span>
<a href="#l5.278"></a><span id="l5.278" class="difflineplus">+    if (restartBar) {</span>
<a href="#l5.279"></a><span id="l5.279" class="difflineplus">+      restartBar.remove();</span>
<a href="#l5.280"></a><span id="l5.280">     }</span>
<a href="#l5.281"></a><span id="l5.281" class="difflineplus">+    return;</span>
<a href="#l5.282"></a><span id="l5.282" class="difflineplus">+  }</span>
<a href="#l5.283"></a><span id="l5.283" class="difflineplus">+  if (restartBar) {</span>
<a href="#l5.284"></a><span id="l5.284" class="difflineplus">+    return;</span>
<a href="#l5.285"></a><span id="l5.285">   }</span>
<a href="#l5.286"></a><span id="l5.286"> </span>
<a href="#l5.287"></a><span id="l5.287" class="difflineminus">-  if (restartButton) {</span>
<a href="#l5.288"></a><span id="l5.288" class="difflineminus">-    restartButton.hidden = true;</span>
<a href="#l5.289"></a><span id="l5.289" class="difflineminus">-  }</span>
<a href="#l5.290"></a><span id="l5.290" class="difflineminus">-  if (undoButton) {</span>
<a href="#l5.291"></a><span id="l5.291" class="difflineminus">-    undoButton.hidden = true;</span>
<a href="#l5.292"></a><span id="l5.292" class="difflineminus">-  }</span>
<a href="#l5.293"></a><span id="l5.293" class="difflineminus">-};</span>
<a href="#l5.294"></a><span id="l5.294" class="difflineplus">+  restartBar = document.createElement(&quot;message-bar&quot;);</span>
<a href="#l5.295"></a><span id="l5.295" class="difflineplus">+  restartBar.id = &quot;restartBar&quot;;</span>
<a href="#l5.296"></a><span id="l5.296" class="difflineplus">+  restartBar.setAttribute(&quot;type&quot;, &quot;warning&quot;);</span>
<a href="#l5.297"></a><span id="l5.297"> </span>
<a href="#l5.298"></a><span id="l5.298" class="difflineminus">-/**</span>
<a href="#l5.299"></a><span id="l5.299" class="difflineminus">- * Update the UI when things change.</span>
<a href="#l5.300"></a><span id="l5.300" class="difflineminus">- */</span>
<a href="#l5.301"></a><span id="l5.301" class="difflineminus">-function statusChangedObserver(subject, topic, data) {</span>
<a href="#l5.302"></a><span id="l5.302" class="difflineminus">-  let { id } = subject.wrappedJSObject;</span>
<a href="#l5.303"></a><span id="l5.303" class="difflineplus">+  const message = document.createElement(&quot;span&quot;);</span>
<a href="#l5.304"></a><span id="l5.304" class="difflineplus">+  message.textContent = mailExtBundle.formatStringFromName(</span>
<a href="#l5.305"></a><span id="l5.305" class="difflineplus">+    &quot;globalRestartMessage&quot;, [brandBundle.GetStringFromName(&quot;brandShortName&quot;)]</span>
<a href="#l5.306"></a><span id="l5.306" class="difflineplus">+  );</span>
<a href="#l5.307"></a><span id="l5.307"> </span>
<a href="#l5.308"></a><span id="l5.308" class="difflineminus">-  if (gViewController.currentViewObj == gListView) {</span>
<a href="#l5.309"></a><span id="l5.309" class="difflineminus">-    let listItem = gListView.getListItemForID(id);</span>
<a href="#l5.310"></a><span id="l5.310" class="difflineminus">-    if (listItem) {</span>
<a href="#l5.311"></a><span id="l5.311" class="difflineminus">-      setTimeout(() =&gt; listItem._updateState());</span>
<a href="#l5.312"></a><span id="l5.312" class="difflineminus">-    }</span>
<a href="#l5.313"></a><span id="l5.313" class="difflineminus">-  } else if (gViewController.currentViewObj == gDetailView) {</span>
<a href="#l5.314"></a><span id="l5.314" class="difflineminus">-    setTimeout(() =&gt; gDetailView.updateState());</span>
<a href="#l5.315"></a><span id="l5.315" class="difflineminus">-  }</span>
<a href="#l5.316"></a><span id="l5.316" class="difflineplus">+  const restart = document.createElement(&quot;button&quot;);</span>
<a href="#l5.317"></a><span id="l5.317" class="difflineplus">+  restart.textContent = mailExtBundle.GetStringFromName(&quot;globalRestartButton&quot;);</span>
<a href="#l5.318"></a><span id="l5.318" class="difflineplus">+  restart.addEventListener(&quot;click&quot;, () =&gt; {</span>
<a href="#l5.319"></a><span id="l5.319" class="difflineplus">+    BrowserUtils.restartApplication();</span>
<a href="#l5.320"></a><span id="l5.320" class="difflineplus">+  });</span>
<a href="#l5.321"></a><span id="l5.321" class="difflineplus">+</span>
<a href="#l5.322"></a><span id="l5.322" class="difflineplus">+  restartBar.append(message, restart);</span>
<a href="#l5.323"></a><span id="l5.323" class="difflineplus">+  list.pendingUninstallStack.append(restartBar);</span>
<a href="#l5.324"></a><span id="l5.324"> }</span>
<a href="#l5.325"></a><span id="l5.325" class="difflineminus">-Services.obs.addObserver(statusChangedObserver, &quot;legacy-addon-status-changed&quot;);</span>
<a href="#l5.326"></a><span id="l5.326" class="difflineminus">-window.addEventListener(&quot;unload&quot;, () =&gt; {</span>
<a href="#l5.327"></a><span id="l5.327" class="difflineminus">-  Services.obs.removeObserver(statusChangedObserver, &quot;legacy-addon-status-changed&quot;);</span>
<a href="#l5.328"></a><span id="l5.328" class="difflineminus">-});</span>
<a href="#l5.329"></a><span id="l5.329"> </span>
<a href="#l5.330"></a><span id="l5.330"> /**</span>
<a href="#l5.331"></a><span id="l5.331">  * The true status of legacy extensions, which AddonManager doesn't know</span>
<a href="#l5.332"></a><span id="l5.332">  * about because it thinks all extensions are restartless.</span>
<a href="#l5.333"></a><span id="l5.333">  *</span>
<a href="#l5.334"></a><span id="l5.334">  * @return An object of three properties:</span>
<a href="#l5.335"></a><span id="l5.335">  *         stringName: a string to display to the user, from extensionsOverlay.properties.</span>
<a href="#l5.336"></a><span id="l5.336" class="difflineminus">- *         undoCommand: code to run, should the user want to return to the previous state.</span>
<a href="#l5.337"></a><span id="l5.337" class="difflineplus">+ *         undoFunction: function to call, should the user want to return to the previous state.</span>
<a href="#l5.338"></a><span id="l5.338">  *         version: the current version of the extension.</span>
<a href="#l5.339"></a><span id="l5.339">  */</span>
<a href="#l5.340"></a><span id="l5.340" class="difflineminus">-function getTrueState(addon, addonRef) {</span>
<a href="#l5.341"></a><span id="l5.341" class="difflineplus">+function getTrueState(addon) {</span>
<a href="#l5.342"></a><span id="l5.342">   let state = ExtensionSupport.loadedLegacyExtensions.get(addon.id);</span>
<a href="#l5.343"></a><span id="l5.343">   let returnObject = {};</span>
<a href="#l5.344"></a><span id="l5.344"> </span>
<a href="#l5.345"></a><span id="l5.345" class="difflineplus">+  if (!state) {</span>
<a href="#l5.346"></a><span id="l5.346" class="difflineplus">+    return returnObject;</span>
<a href="#l5.347"></a><span id="l5.347" class="difflineplus">+  }</span>
<a href="#l5.348"></a><span id="l5.348" class="difflineplus">+</span>
<a href="#l5.349"></a><span id="l5.349">   if (addon.pendingOperations &amp; AddonManager.PENDING_UNINSTALL &amp;&amp;</span>
<a href="#l5.350"></a><span id="l5.350">       ExtensionSupport.loadedLegacyExtensions.has(addon.id)) {</span>
<a href="#l5.351"></a><span id="l5.351">     returnObject.stringName = &quot;warnLegacyUninstall&quot;;</span>
<a href="#l5.352"></a><span id="l5.352" class="difflineminus">-    returnObject.undoCommand = `${addonRef}.cancelUninstall()`;</span>
<a href="#l5.353"></a><span id="l5.353" class="difflineplus">+    returnObject.undoFunction = addon.cancelUninstall;</span>
<a href="#l5.354"></a><span id="l5.354">   } else if (state.pendingOperation == &quot;install&quot;) {</span>
<a href="#l5.355"></a><span id="l5.355">     returnObject.stringName = &quot;warnLegacyInstall&quot;;</span>
<a href="#l5.356"></a><span id="l5.356" class="difflineminus">-    returnObject.undoCommand = `${addonRef}.uninstall()`;</span>
<a href="#l5.357"></a><span id="l5.357" class="difflineplus">+    returnObject.undoFunction = addon.uninstall;</span>
<a href="#l5.358"></a><span id="l5.358">   } else if (addon.userDisabled) {</span>
<a href="#l5.359"></a><span id="l5.359">     returnObject.stringName = &quot;warnLegacyDisable&quot;;</span>
<a href="#l5.360"></a><span id="l5.360" class="difflineminus">-    returnObject.undoCommand = `${addonRef}.enable()`;</span>
<a href="#l5.361"></a><span id="l5.361" class="difflineplus">+    returnObject.undoFunction = addon.enable;</span>
<a href="#l5.362"></a><span id="l5.362">   } else if (state.pendingOperation == &quot;enable&quot;) {</span>
<a href="#l5.363"></a><span id="l5.363">     returnObject.stringName = &quot;warnLegacyEnable&quot;;</span>
<a href="#l5.364"></a><span id="l5.364" class="difflineminus">-    returnObject.undoCommand = `${addonRef}.disable()`;</span>
<a href="#l5.365"></a><span id="l5.365" class="difflineplus">+    returnObject.undoFunction = addon.disable;</span>
<a href="#l5.366"></a><span id="l5.366">   } else if (state.pendingOperation == &quot;upgrade&quot;) {</span>
<a href="#l5.367"></a><span id="l5.367">     returnObject.stringName = &quot;warnLegacyUpgrade&quot;;</span>
<a href="#l5.368"></a><span id="l5.368">     returnObject.version = state.version;</span>
<a href="#l5.369"></a><span id="l5.369">   } else if (state.pendingOperation == &quot;downgrade&quot;) {</span>
<a href="#l5.370"></a><span id="l5.370">     returnObject.stringName = &quot;warnLegacyDowngrade&quot;;</span>
<a href="#l5.371"></a><span id="l5.371">     returnObject.version = state.version;</span>
<a href="#l5.372"></a><span id="l5.372">   }</span>
<a href="#l5.373"></a><span id="l5.373"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">deleted file mode 100644</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineminus">--- a/mail/base/content/extensions.xml</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineplus">+++ /dev/null</span>
<a href="#l6.4"></a><span id="l6.4" class="difflineat">@@ -1,86 +0,0 @@</span>
<a href="#l6.5"></a><span id="l6.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l6.6"></a><span id="l6.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.7"></a><span id="l6.7" class="difflineminus">-  - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.8"></a><span id="l6.8" class="difflineminus">-  - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l6.9"></a><span id="l6.9" class="difflineminus">-</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineminus">-&lt;!-- import-globals-from aboutAddonsExtra.js --&gt;</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineminus">-</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-&lt;!DOCTYPE bindings&gt;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-&lt;bindings id=&quot;thunderbird-addon-bindings&quot;</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineminus">-          xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineminus">-          xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineminus">-          xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineminus">-  &lt;binding id=&quot;thunderbird-addon-generic&quot;</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineminus">-           extends=&quot;chrome://mozapps/content/extensions/extensions.xml#addon-generic&quot;&gt;</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineminus">-    &lt;implementation&gt;</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineminus">-      &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineminus">-        var {ExtensionParent} = ChromeUtils.import(&quot;resource://gre/modules/ExtensionParent.jsm&quot;);</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineminus">-        this._updateState = this._updateState.bind(this);</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineminus">-        ExtensionParent.apiManager.on(&quot;startup&quot;, this._updateState);</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineminus">-        ExtensionParent.apiManager.on(&quot;shutdown&quot;, this._updateState);</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineminus">-      ]]&gt;&lt;/constructor&gt;</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineminus">-      &lt;destructor&gt;&lt;![CDATA[</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineminus">-        ExtensionParent.apiManager.off(&quot;startup&quot;, this._updateState);</span>
<a href="#l6.29"></a><span id="l6.29" class="difflineminus">-        ExtensionParent.apiManager.off(&quot;shutdown&quot;, this._updateState);</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineminus">-      ]]&gt;&lt;/destructor&gt;</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-      &lt;method name=&quot;_updateState&quot;&gt;</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineminus">-          this.__proto__.__proto__._updateState.call(this);</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-          let undoButton = this._warningContainer.querySelector(&quot;button.undo-btn&quot;);</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineminus">-</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineminus">-          if (ExtensionSupport.loadedLegacyExtensions.has(this.mAddon.id)) {</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineminus">-            this.setAttribute(&quot;active&quot;, &quot;true&quot;);</span>
<a href="#l6.38"></a><span id="l6.38" class="difflineminus">-          }</span>
<a href="#l6.39"></a><span id="l6.39" class="difflineminus">-</span>
<a href="#l6.40"></a><span id="l6.40" class="difflineminus">-          if (ExtensionSupport.loadedLegacyExtensions.hasAnyState(this.mAddon.id, true)) {</span>
<a href="#l6.41"></a><span id="l6.41" class="difflineminus">-            let {</span>
<a href="#l6.42"></a><span id="l6.42" class="difflineminus">-              stringName,</span>
<a href="#l6.43"></a><span id="l6.43" class="difflineminus">-              undoCommand,</span>
<a href="#l6.44"></a><span id="l6.44" class="difflineminus">-            } = getTrueState(this.mAddon, &quot;document.getBindingParent(this).mAddon&quot;);</span>
<a href="#l6.45"></a><span id="l6.45" class="difflineminus">-</span>
<a href="#l6.46"></a><span id="l6.46" class="difflineminus">-            if (stringName) {</span>
<a href="#l6.47"></a><span id="l6.47" class="difflineminus">-              this.setAttribute(&quot;notification&quot;, &quot;warning&quot;);</span>
<a href="#l6.48"></a><span id="l6.48" class="difflineminus">-              this.removeAttribute(&quot;pending&quot;);</span>
<a href="#l6.49"></a><span id="l6.49" class="difflineminus">-</span>
<a href="#l6.50"></a><span id="l6.50" class="difflineminus">-              this._warningLink.hidden = true;</span>
<a href="#l6.51"></a><span id="l6.51" class="difflineminus">-              this._warning.textContent = gStrings.mailExt.formatStringFromName(</span>
<a href="#l6.52"></a><span id="l6.52" class="difflineminus">-                stringName, [this.mAddon.name, gStrings.brandShortName], 2</span>
<a href="#l6.53"></a><span id="l6.53" class="difflineminus">-              );</span>
<a href="#l6.54"></a><span id="l6.54" class="difflineminus">-</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineminus">-              this._warningBtn.label = gStrings.mailExt.GetStringFromName(</span>
<a href="#l6.56"></a><span id="l6.56" class="difflineminus">-                &quot;warnLegacyRestartButton&quot;</span>
<a href="#l6.57"></a><span id="l6.57" class="difflineminus">-              );</span>
<a href="#l6.58"></a><span id="l6.58" class="difflineminus">-              this._warningBtn.setAttribute(&quot;oncommand&quot;, &quot;BrowserUtils.restartApplication()&quot;);</span>
<a href="#l6.59"></a><span id="l6.59" class="difflineminus">-              this._warningBtn.hidden = false;</span>
<a href="#l6.60"></a><span id="l6.60" class="difflineminus">-</span>
<a href="#l6.61"></a><span id="l6.61" class="difflineminus">-              if (undoCommand) {</span>
<a href="#l6.62"></a><span id="l6.62" class="difflineminus">-                if (!undoButton) {</span>
<a href="#l6.63"></a><span id="l6.63" class="difflineminus">-                  undoButton = document.createXULElement(&quot;button&quot;);</span>
<a href="#l6.64"></a><span id="l6.64" class="difflineminus">-                  undoButton.className = &quot;button-link undo-btn&quot;;</span>
<a href="#l6.65"></a><span id="l6.65" class="difflineminus">-                  undoButton.setAttribute(</span>
<a href="#l6.66"></a><span id="l6.66" class="difflineminus">-                    &quot;label&quot;, gStrings.mailExt.GetStringFromName(&quot;warnLegacyUndoButton&quot;)</span>
<a href="#l6.67"></a><span id="l6.67" class="difflineminus">-                  );</span>
<a href="#l6.68"></a><span id="l6.68" class="difflineminus">-                  // We shouldn't really attach non-anonymous content to anonymous content,</span>
<a href="#l6.69"></a><span id="l6.69" class="difflineminus">-                  // but we can.</span>
<a href="#l6.70"></a><span id="l6.70" class="difflineminus">-                  this._warningContainer.insertBefore(</span>
<a href="#l6.71"></a><span id="l6.71" class="difflineminus">-                    undoButton, this._warningContainer.lastElementChild</span>
<a href="#l6.72"></a><span id="l6.72" class="difflineminus">-                  );</span>
<a href="#l6.73"></a><span id="l6.73" class="difflineminus">-                }</span>
<a href="#l6.74"></a><span id="l6.74" class="difflineminus">-                undoButton.setAttribute(&quot;oncommand&quot;, undoCommand);</span>
<a href="#l6.75"></a><span id="l6.75" class="difflineminus">-                undoButton.hidden = false;</span>
<a href="#l6.76"></a><span id="l6.76" class="difflineminus">-              } else if (undoButton) {</span>
<a href="#l6.77"></a><span id="l6.77" class="difflineminus">-                undoButton.hidden = true;</span>
<a href="#l6.78"></a><span id="l6.78" class="difflineminus">-              }</span>
<a href="#l6.79"></a><span id="l6.79" class="difflineminus">-              return;</span>
<a href="#l6.80"></a><span id="l6.80" class="difflineminus">-            }</span>
<a href="#l6.81"></a><span id="l6.81" class="difflineminus">-          }</span>
<a href="#l6.82"></a><span id="l6.82" class="difflineminus">-</span>
<a href="#l6.83"></a><span id="l6.83" class="difflineminus">-          if (undoButton) {</span>
<a href="#l6.84"></a><span id="l6.84" class="difflineminus">-            undoButton.hidden = true;</span>
<a href="#l6.85"></a><span id="l6.85" class="difflineminus">-          }</span>
<a href="#l6.86"></a><span id="l6.86" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l6.87"></a><span id="l6.87" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l6.88"></a><span id="l6.88" class="difflineminus">-    &lt;/implementation&gt;</span>
<a href="#l6.89"></a><span id="l6.89" class="difflineminus">-  &lt;/binding&gt;</span>
<a href="#l6.90"></a><span id="l6.90" class="difflineminus">-&lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1825,8 +1825,12 @@ var gDragSpaceObserver = {</span>
<a href="#l7.4"></a><span id="l7.4">     if (Services.prefs.getBoolPref(this.pref)) {</span>
<a href="#l7.5"></a><span id="l7.5">       document.documentElement.setAttribute(&quot;extradragspace&quot;, &quot;true&quot;);</span>
<a href="#l7.6"></a><span id="l7.6">     } else {</span>
<a href="#l7.7"></a><span id="l7.7">       document.documentElement.removeAttribute(&quot;extradragspace&quot;);</span>
<a href="#l7.8"></a><span id="l7.8">     }</span>
<a href="#l7.9"></a><span id="l7.9">     TabsInTitlebar.update();</span>
<a href="#l7.10"></a><span id="l7.10">   },</span>
<a href="#l7.11"></a><span id="l7.11"> };</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+function promptRemoveExtension(addon) {</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+  return { remove: true, report: false };</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/base/content/specialTabs.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/base/content/specialTabs.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -277,16 +277,19 @@ var contentTabBaseType = {</span>
<a href="#l8.4"></a><span id="l8.4">   // Code to run if a particular document is loaded in a tab.</span>
<a href="#l8.5"></a><span id="l8.5">   // The array members (functions) are for the respective document URLs</span>
<a href="#l8.6"></a><span id="l8.6">   // as specified in inContentWhitelist.</span>
<a href="#l8.7"></a><span id="l8.7">   inContentOverlays: [</span>
<a href="#l8.8"></a><span id="l8.8">     // about:addons</span>
<a href="#l8.9"></a><span id="l8.9">     function(aDocument, aTab) {</span>
<a href="#l8.10"></a><span id="l8.10">       // Switch off the context menu.</span>
<a href="#l8.11"></a><span id="l8.11">       aTab.browser.removeAttribute(&quot;context&quot;);</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+      Services.scriptloader.loadSubScript(</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+        &quot;chrome://messenger/content/aboutAddonsExtra.js&quot;, aDocument.defaultView</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+      );</span>
<a href="#l8.15"></a><span id="l8.15">     },</span>
<a href="#l8.16"></a><span id="l8.16"> </span>
<a href="#l8.17"></a><span id="l8.17">     // Let's not mess with about:blank.</span>
<a href="#l8.18"></a><span id="l8.18">     null,</span>
<a href="#l8.19"></a><span id="l8.19"> </span>
<a href="#l8.20"></a><span id="l8.20">     // Other about:* pages.</span>
<a href="#l8.21"></a><span id="l8.21">     function(aDocument, aTab) {</span>
<a href="#l8.22"></a><span id="l8.22">       // Provide context menu for about:* pages.</span>
<a href="#l8.23"></a><span id="l8.23" class="difflineat">@@ -1420,8 +1423,22 @@ var specialTabs = {</span>
<a href="#l8.24"></a><span id="l8.24">         null, aTab.browser.contentPrincipal);</span>
<a href="#l8.25"></a><span id="l8.25"> </span>
<a href="#l8.26"></a><span id="l8.26">     // Save this off so we know about it later,</span>
<a href="#l8.27"></a><span id="l8.27">     aTab.browser.mIconURL = aIcon;</span>
<a href="#l8.28"></a><span id="l8.28">     // and display the new icon.</span>
<a href="#l8.29"></a><span id="l8.29">     document.getElementById(&quot;tabmail&quot;).setTabIcon(aTab, aIcon);</span>
<a href="#l8.30"></a><span id="l8.30">   },</span>
<a href="#l8.31"></a><span id="l8.31"> };</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineplus">+</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineplus">+let documentObserver = {</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineplus">+  observe(document) {</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineplus">+    if (!document.location ||</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineplus">+        document.location.href != &quot;chrome://mozapps/content/extensions/aboutaddons.html&quot;) {</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineplus">+      return;</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineplus">+    }</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineplus">+</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineplus">+    Services.scriptloader.loadSubScript(</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineplus">+      &quot;chrome://messenger/content/aboutAddonsExtra.js&quot;, document.defaultView</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineplus">+    );</span>
<a href="#l8.43"></a><span id="l8.43" class="difflineplus">+  },</span>
<a href="#l8.44"></a><span id="l8.44" class="difflineplus">+};</span>
<a href="#l8.45"></a><span id="l8.45" class="difflineplus">+Services.obs.addObserver(documentObserver, &quot;chrome-document-interactive&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/base/jar.mn</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/base/jar.mn</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -7,18 +7,16 @@ messenger.jar:</span>
<a href="#l9.4"></a><span id="l9.4"> % override chrome://global/content/nsDragAndDrop.js chrome://messenger/content/nsDragAndDrop.js</span>
<a href="#l9.5"></a><span id="l9.5"> % override chrome://messagebody/skin/messageBody.css chrome://messenger/skin/messageBody.css</span>
<a href="#l9.6"></a><span id="l9.6"> #ifndef MOZILLA_OFFICIAL</span>
<a href="#l9.7"></a><span id="l9.7"> % override chrome://browser/content/browser-development-helpers.js chrome://messenger/content/browser-development-helpers.js</span>
<a href="#l9.8"></a><span id="l9.8">   content/messenger/browser-development-helpers.js (../../common/src/browser-development-helpers.js)</span>
<a href="#l9.9"></a><span id="l9.9"> #endif</span>
<a href="#l9.10"></a><span id="l9.10">     content/messenger/mailWindow.js                 (content/mailWindow.js)</span>
<a href="#l9.11"></a><span id="l9.11">     content/messenger/messageDisplay.js             (content/messageDisplay.js)</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-    content/messenger/extensions.xml                (content/extensions.xml)</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-    content/messenger/extensionsOverlay.css         (content/extensionsOverlay.css)</span>
<a href="#l9.14"></a><span id="l9.14">     content/messenger/folderDisplay.js              (content/folderDisplay.js)</span>
<a href="#l9.15"></a><span id="l9.15">     content/messenger/foldersummary.js              (content/foldersummary.js)</span>
<a href="#l9.16"></a><span id="l9.16">     content/messenger/mailWindowOverlay.js          (content/mailWindowOverlay.js)</span>
<a href="#l9.17"></a><span id="l9.17"> *   content/messenger/messageWindow.xul             (content/messageWindow.xul)</span>
<a href="#l9.18"></a><span id="l9.18">     content/messenger/messageWindow.js              (content/messageWindow.js)</span>
<a href="#l9.19"></a><span id="l9.19">     content/messenger/mailContextMenus.js           (content/mailContextMenus.js)</span>
<a href="#l9.20"></a><span id="l9.20">     content/messenger/nsContextMenu.js              (content/nsContextMenu.js)</span>
<a href="#l9.21"></a><span id="l9.21"> *   content/messenger/messenger.xul                 (content/messenger.xul)</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineat">@@ -51,16 +49,17 @@ messenger.jar:</span>
<a href="#l9.23"></a><span id="l9.23">     content/messenger/commandglue.js                (content/commandglue.js)</span>
<a href="#l9.24"></a><span id="l9.24"> *   content/messenger/SearchDialog.xul              (content/SearchDialog.xul)</span>
<a href="#l9.25"></a><span id="l9.25">     content/messenger/SearchDialog.js               (content/SearchDialog.js)</span>
<a href="#l9.26"></a><span id="l9.26"> *   content/messenger/ABSearchDialog.xul            (content/ABSearchDialog.xul)</span>
<a href="#l9.27"></a><span id="l9.27">     content/messenger/ABSearchDialog.js             (content/ABSearchDialog.js)</span>
<a href="#l9.28"></a><span id="l9.28">     content/messenger/FilterListDialog.xul          (content/FilterListDialog.xul)</span>
<a href="#l9.29"></a><span id="l9.29">     content/messenger/FilterListDialog.js           (content/FilterListDialog.js)</span>
<a href="#l9.30"></a><span id="l9.30">     content/messenger/specialTabs.js                (content/specialTabs.js)</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineplus">+    content/messenger/aboutAddonsExtra.css          (content/aboutAddonsExtra.css)</span>
<a href="#l9.32"></a><span id="l9.32">     content/messenger/aboutAddonsExtra.js           (content/aboutAddonsExtra.js)</span>
<a href="#l9.33"></a><span id="l9.33">     content/messenger/aboutDialog-appUpdater.js     (content/aboutDialog-appUpdater.js)</span>
<a href="#l9.34"></a><span id="l9.34"> *   content/messenger/aboutDialog.xul               (content/aboutDialog.xul)</span>
<a href="#l9.35"></a><span id="l9.35">     content/messenger/aboutDialog.js                (content/aboutDialog.js)</span>
<a href="#l9.36"></a><span id="l9.36"> *   content/messenger/aboutRights.xhtml             (content/aboutRights.xhtml)</span>
<a href="#l9.37"></a><span id="l9.37"> *   content/messenger/systemIntegrationDialog.xul   (content/systemIntegrationDialog.xul)</span>
<a href="#l9.38"></a><span id="l9.38">     content/messenger/systemIntegrationDialog.js    (content/systemIntegrationDialog.js)</span>
<a href="#l9.39"></a><span id="l9.39">     content/messenger/folderPane.js                 (content/folderPane.js)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/addons.properties</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/addons.properties</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -98,16 +98,17 @@ addonInstallErrorBlocklisted=%S could no</span>
<a href="#l10.4"></a><span id="l10.4"> webextPerms.header=Add %S?</span>
<a href="#l10.5"></a><span id="l10.5"> </span>
<a href="#l10.6"></a><span id="l10.6"> webextPerms.unsignedWarning=Caution: This add-on is unverified. Malicious add-ons can steal your private information or compromise your computer. Only install this add-on if you trust the source.</span>
<a href="#l10.7"></a><span id="l10.7"> </span>
<a href="#l10.8"></a><span id="l10.8"> # LOCALIZATION NOTE (webextPerms.listIntro)</span>
<a href="#l10.9"></a><span id="l10.9"> # This string will be followed by a list of permissions requested</span>
<a href="#l10.10"></a><span id="l10.10"> # by the webextension.</span>
<a href="#l10.11"></a><span id="l10.11"> webextPerms.listIntro=It requires your permission to:</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+webextPerms.learnMore=Learn more about permissions</span>
<a href="#l10.13"></a><span id="l10.13"> webextPerms.add.label=Add</span>
<a href="#l10.14"></a><span id="l10.14"> webextPerms.add.accessKey=A</span>
<a href="#l10.15"></a><span id="l10.15"> webextPerms.cancel.label=Cancel</span>
<a href="#l10.16"></a><span id="l10.16"> webextPerms.cancel.accessKey=C</span>
<a href="#l10.17"></a><span id="l10.17"> </span>
<a href="#l10.18"></a><span id="l10.18"> # LOCALIZATION NOTE (webextPerms.sideloadMenuItem)</span>
<a href="#l10.19"></a><span id="l10.19"> # %1$S will be replaced with the localized name of the sideloaded add-on.</span>
<a href="#l10.20"></a><span id="l10.20"> # %2$S will be replace with the name of the application (e.g., Firefox, Nightly)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/extensionsOverlay.properties</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/extensionsOverlay.properties</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1,22 +1,20 @@</span>
<a href="#l11.4"></a><span id="l11.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.5"></a><span id="l11.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.6"></a><span id="l11.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l11.7"></a><span id="l11.7"> </span>
<a href="#l11.8"></a><span id="l11.8"> cmdBackTooltip=Go back one page</span>
<a href="#l11.9"></a><span id="l11.9"> cmdForwardTooltip=Go forward one page</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11" class="difflineminus">-# LOCALIZATION NOTE (legacyInfo):</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-# #1 is the application name, #2 is the application version</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-legacyInfo=Legacy extensions must be updated to be compatible with #1 #2.</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineminus">-legacyLearnMore=Learn more</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-</span>
<a href="#l11.16"></a><span id="l11.16"> # LOCALIZATION NOTE (warnLegacyUpgrade, warnLegacyDowngrade, warnLegacyEnable, warnLegacyDisable, warnLegacyInstall, warnLegacyUninstall)</span>
<a href="#l11.17"></a><span id="l11.17"> # %1$S is the add-on name, %2$S is brand name</span>
<a href="#l11.18"></a><span id="l11.18"> warnLegacyUpgrade=%1$S will be upgraded after you restart %2$S.</span>
<a href="#l11.19"></a><span id="l11.19"> warnLegacyDowngrade=%1$S will be downgraded after you restart %2$S.</span>
<a href="#l11.20"></a><span id="l11.20"> warnLegacyEnable=%1$S will be enabled after you restart %2$S.</span>
<a href="#l11.21"></a><span id="l11.21"> warnLegacyDisable=%1$S will be disabled after you restart %2$S.</span>
<a href="#l11.22"></a><span id="l11.22"> warnLegacyInstall=%1$S will be installed after you restart %2$S.</span>
<a href="#l11.23"></a><span id="l11.23"> warnLegacyUninstall=%1$S will be uninstalled after you restart %2$S.</span>
<a href="#l11.24"></a><span id="l11.24"> warnLegacyRestartButton=Restart</span>
<a href="#l11.25"></a><span id="l11.25"> warnLegacyUndoButton=Undo</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineplus">+</span>
<a href="#l11.27"></a><span id="l11.27" class="difflineplus">+globalRestartMessage=Some operations will not be completed until you restart %S.</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineplus">+globalRestartButton=Restart Now</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/themes/shared/jar.inc.mn</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/themes/shared/jar.inc.mn</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -6,17 +6,16 @@</span>
<a href="#l12.4"></a><span id="l12.4"> # actual theme-specific manifests, so that shared resources need only</span>
<a href="#l12.5"></a><span id="l12.5"> # be specified once. As a result, the source file paths are relative</span>
<a href="#l12.6"></a><span id="l12.6"> # to the location of the actual manifest.</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8">   skin/classic/messenger/aboutNetError.css                    (../shared/mail/aboutNetError.css)</span>
<a href="#l12.9"></a><span id="l12.9">   skin/classic/messenger/aboutSupport.css                     (../shared/mail/aboutSupport.css)</span>
<a href="#l12.10"></a><span id="l12.10">   skin/classic/messenger/addressbook/icons/menu.svg           (../shared/mail/icons/menu.svg)</span>
<a href="#l12.11"></a><span id="l12.11">   skin/classic/messenger/downloads/download.svg               (../shared/mail/icons/download.svg)</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-  skin/classic/messenger/extensionsOverlay.css                (../shared/mail/extensionsOverlay.css)</span>
<a href="#l12.13"></a><span id="l12.13">   skin/classic/messenger/icons/address.svg                    (../shared/mail/icons/address.svg)</span>
<a href="#l12.14"></a><span id="l12.14">   skin/classic/messenger/icons/addcontact.svg                 (../shared/mail/icons/addcontact.svg)</span>
<a href="#l12.15"></a><span id="l12.15">   skin/classic/messenger/icons/addlist.svg                    (../shared/mail/icons/addlist.svg)</span>
<a href="#l12.16"></a><span id="l12.16">   skin/classic/messenger/icons/accounts.svg                   (../shared/mail/icons/accounts.svg)</span>
<a href="#l12.17"></a><span id="l12.17">   skin/classic/messenger/icons/addon-install-blocked.svg      (../shared/mail/icons/addon-install-blocked.svg)</span>
<a href="#l12.18"></a><span id="l12.18">   skin/classic/messenger/icons/addon-install-confirm.svg      (../shared/mail/icons/addon-install-confirm.svg)</span>
<a href="#l12.19"></a><span id="l12.19">   skin/classic/messenger/icons/addon-install-downloading.svg  (../shared/mail/icons/addon-install-downloading.svg)</span>
<a href="#l12.20"></a><span id="l12.20">   skin/classic/messenger/icons/addon-install-error.svg        (../shared/mail/icons/addon-install-error.svg)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1">deleted file mode 100644</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineminus">--- a/mail/themes/shared/mail/extensionsOverlay.css</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineplus">+++ /dev/null</span>
<a href="#l13.4"></a><span id="l13.4" class="difflineat">@@ -1,60 +0,0 @@</span>
<a href="#l13.5"></a><span id="l13.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l13.6"></a><span id="l13.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l13.7"></a><span id="l13.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l13.8"></a><span id="l13.8" class="difflineminus">-</span>
<a href="#l13.9"></a><span id="l13.9" class="difflineminus">-:root {</span>
<a href="#l13.10"></a><span id="l13.10" class="difflineminus">-  --in-content-categories-background: #ebebef;</span>
<a href="#l13.11"></a><span id="l13.11" class="difflineminus">-}</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-@supports -moz-bool-pref(&quot;browser.in-content.dark-mode&quot;) {</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineminus">-  @media (prefers-color-scheme: dark) {</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineminus">-    :root {</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineminus">-      --in-content-categories-background: rgba(249,249,250,0.1);</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineminus">-    }</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineminus">-  }</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineminus">-}</span>
<a href="#l13.20"></a><span id="l13.20" class="difflineminus">-</span>
<a href="#l13.21"></a><span id="l13.21" class="difflineminus">-#category-box {</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineminus">-  background-color: var(--in-content-categories-background);</span>
<a href="#l13.23"></a><span id="l13.23" class="difflineminus">-}</span>
<a href="#l13.24"></a><span id="l13.24" class="difflineminus">-</span>
<a href="#l13.25"></a><span id="l13.25" class="difflineminus">-.nav-button {</span>
<a href="#l13.26"></a><span id="l13.26" class="difflineminus">-  -moz-appearance: none;</span>
<a href="#l13.27"></a><span id="l13.27" class="difflineminus">-  list-style-image: url(chrome://messenger/skin/icons/navigation.svg);</span>
<a href="#l13.28"></a><span id="l13.28" class="difflineminus">-  margin-top: 15px;</span>
<a href="#l13.29"></a><span id="l13.29" class="difflineminus">-  margin-bottom: 10px;</span>
<a href="#l13.30"></a><span id="l13.30" class="difflineminus">-  border: 1px solid transparent;</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-  border-radius: 2px;</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineminus">-  -moz-context-properties: fill;</span>
<a href="#l13.33"></a><span id="l13.33" class="difflineminus">-  fill: currentColor;</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineminus">-}</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineminus">-</span>
<a href="#l13.36"></a><span id="l13.36" class="difflineminus">-.nav-button[disabled=&quot;true&quot;] &gt; .toolbarbutton-icon {</span>
<a href="#l13.37"></a><span id="l13.37" class="difflineminus">-  opacity: 0.4;</span>
<a href="#l13.38"></a><span id="l13.38" class="difflineminus">-}</span>
<a href="#l13.39"></a><span id="l13.39" class="difflineminus">-</span>
<a href="#l13.40"></a><span id="l13.40" class="difflineminus">-.nav-button:not([disabled=&quot;true&quot;]):hover {</span>
<a href="#l13.41"></a><span id="l13.41" class="difflineminus">-  background-color: #bebebe;</span>
<a href="#l13.42"></a><span id="l13.42" class="difflineminus">-  cursor: pointer;</span>
<a href="#l13.43"></a><span id="l13.43" class="difflineminus">-}</span>
<a href="#l13.44"></a><span id="l13.44" class="difflineminus">-</span>
<a href="#l13.45"></a><span id="l13.45" class="difflineminus">-.nav-button &gt; .toolbarbutton-text {</span>
<a href="#l13.46"></a><span id="l13.46" class="difflineminus">-  display: none;</span>
<a href="#l13.47"></a><span id="l13.47" class="difflineminus">-}</span>
<a href="#l13.48"></a><span id="l13.48" class="difflineminus">-</span>
<a href="#l13.49"></a><span id="l13.49" class="difflineminus">-#back-btn:-moz-locale-dir(rtl),</span>
<a href="#l13.50"></a><span id="l13.50" class="difflineminus">-#forward-btn:-moz-locale-dir(ltr) {</span>
<a href="#l13.51"></a><span id="l13.51" class="difflineminus">-  transform: scaleX(-1);</span>
<a href="#l13.52"></a><span id="l13.52" class="difflineminus">-}</span>
<a href="#l13.53"></a><span id="l13.53" class="difflineminus">-</span>
<a href="#l13.54"></a><span id="l13.54" class="difflineminus">-#categories {</span>
<a href="#l13.55"></a><span id="l13.55" class="difflineminus">-  padding-top: 0;</span>
<a href="#l13.56"></a><span id="l13.56" class="difflineminus">-}</span>
<a href="#l13.57"></a><span id="l13.57" class="difflineminus">-</span>
<a href="#l13.58"></a><span id="l13.58" class="difflineminus">-#preferencesButton {</span>
<a href="#l13.59"></a><span id="l13.59" class="difflineminus">- margin-bottom: 36px;</span>
<a href="#l13.60"></a><span id="l13.60" class="difflineminus">-}</span>
<a href="#l13.61"></a><span id="l13.61" class="difflineminus">-</span>
<a href="#l13.62"></a><span id="l13.62" class="difflineminus">-.sidebar-footer-button.help-button {</span>
<a href="#l13.63"></a><span id="l13.63" class="difflineminus">-  display: none;</span>
<a href="#l13.64"></a><span id="l13.64" class="difflineminus">-}</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

