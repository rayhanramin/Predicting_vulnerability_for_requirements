<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 23801:5bbef8b40975ce8432b0bf307e461bb34fe6591e</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 5bbef8b40975ce8432b0bf307e461bb34fe6591e" />
<meta property="og:url" content="/comm-central/rev/5bbef8b40975ce8432b0bf307e461bb34fe6591e" />
<meta property="og:description" content="Bug 1456219 - Add default Light and Dark themes to TB. r=jorgk" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 5bbef8b40975ce8432b0bf307e461bb34fe6591e 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/5bbef8b40975ce8432b0bf307e461bb34fe6591e">shortlog</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/5bbef8b40975ce8432b0bf307e461bb34fe6591e">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e">files</a> |
changeset |
<a href="/comm-central/raw-rev/5bbef8b40975ce8432b0bf307e461bb34fe6591e">raw</a>  | <a href="/comm-central/archive/5bbef8b40975ce8432b0bf307e461bb34fe6591e.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456219">Bug 1456219</a> - Add default Light and Dark themes to TB. r=jorgk
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#105;&#99;&#104;&#97;&#114;&#100;&#32;&#77;&#97;&#114;&#116;&#105;&#32;&#60;&#114;&#105;&#99;&#104;&#97;&#114;&#100;&#46;&#109;&#97;&#114;&#116;&#105;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Mon, 23 Apr 2018 10:52:55 +0200</td></tr>

<tr>
 <td>changeset 23801</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/5bbef8b40975ce8432b0bf307e461bb34fe6591e">5bbef8b40975ce8432b0bf307e461bb34fe6591e</a></td>
</tr>



<tr>
<td>parent 23800</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/cda53cec9e9732ba502ef5f66c531e33f8354a39">cda53cec9e9732ba502ef5f66c531e33f8354a39</a>
</td>
</tr>

<tr>
<td>child 23802</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/7011cd9d8481cc03f826074c9d1a677063d0d6af">7011cd9d8481cc03f826074c9d1a677063d0d6af</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=5bbef8b40975ce8432b0bf307e461bb34fe6591e">14346</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Tue, 24 Apr 2018 06:40:58 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@5bbef8b40975 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=5bbef8b40975ce8432b0bf307e461bb34fe6591e">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=5bbef8b40975ce8432b0bf307e461bb34fe6591e&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=5bbef8b40975ce8432b0bf307e461bb34fe6591e&newProject=comm-central&newRevision=5bbef8b40975ce8432b0bf307e461bb34fe6591e&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=5bbef8b40975ce8432b0bf307e461bb34fe6591e&newProject=comm-central&newRevision=5bbef8b40975ce8432b0bf307e461bb34fe6591e&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=5bbef8b40975ce8432b0bf307e461bb34fe6591e&newProject=comm-central&newRevision=5bbef8b40975ce8432b0bf307e461bb34fe6591e&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28jorgk%29&revcount=50">jorgk</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456219">1456219</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456219">Bug 1456219</a> - Add default Light and Dark themes to TB. r=jorgk</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/dark.icon.svg">mail/base/content/dark.icon.svg</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/dark.icon.svg">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/dark.icon.svg">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/dark.icon.svg">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/dark.icon.svg">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/dark.icon.svg">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/light.icon.svg">mail/base/content/light.icon.svg</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/light.icon.svg">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/light.icon.svg">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/light.icon.svg">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/light.icon.svg">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/light.icon.svg">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/mail-compacttheme.js">mail/base/content/mail-compacttheme.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/mail-compacttheme.js">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/mail-compacttheme.js">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/mail-compacttheme.js">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/mail-compacttheme.js">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/mail-compacttheme.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/messenger.xul">mail/base/content/messenger.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/messenger.xul">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/messenger.xul">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/messenger.xul">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/messenger.xul">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/messenger.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/msgMail3PaneWindow.js">mail/base/content/msgMail3PaneWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/msgMail3PaneWindow.js">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/msgMail3PaneWindow.js">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/msgMail3PaneWindow.js">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/msgMail3PaneWindow.js">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/content/msgMail3PaneWindow.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/jar.mn">mail/base/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/jar.mn">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/jar.mn">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/jar.mn">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/jar.mn">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/base/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.js">mail/components/addrbook/content/addressbook.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.js">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.js">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.js">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.js">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.xul">mail/components/addrbook/content/addressbook.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.xul">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.xul">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.xul">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.xul">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/addrbook/content/addressbook.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/MsgComposeCommands.js">mail/components/compose/content/MsgComposeCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/MsgComposeCommands.js">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/MsgComposeCommands.js">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/MsgComposeCommands.js">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/MsgComposeCommands.js">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/MsgComposeCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/messengercompose.xul">mail/components/compose/content/messengercompose.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/messengercompose.xul">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/messengercompose.xul">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/messengercompose.xul">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/messengercompose.xul">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/compose/content/messengercompose.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/mailGlue.js">mail/components/mailGlue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/mailGlue.js">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/mailGlue.js">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/mailGlue.js">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/mailGlue.js">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/components/mailGlue.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/locales/en-US/chrome/messenger/messenger.properties">mail/locales/en-US/chrome/messenger/messenger.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/locales/en-US/chrome/messenger/messenger.properties">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/locales/en-US/chrome/messenger/messenger.properties">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/locales/en-US/chrome/messenger/messenger.properties">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/locales/en-US/chrome/messenger/messenger.properties">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/locales/en-US/chrome/messenger/messenger.properties">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/jar.mn">mail/themes/linux/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/jar.mn">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/jar.mn">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/jar.mn">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/jar.mn">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/compacttheme.css">mail/themes/linux/mail/compacttheme.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/compacttheme.css">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/compacttheme.css">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/compacttheme.css">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/compacttheme.css">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/compacttheme.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/messenger.css">mail/themes/linux/mail/messenger.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/messenger.css">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/messenger.css">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/messenger.css">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/messenger.css">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/linux/mail/messenger.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/jar.mn">mail/themes/osx/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/jar.mn">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/jar.mn">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/jar.mn">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/jar.mn">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/mail/compacttheme.css">mail/themes/osx/mail/compacttheme.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/mail/compacttheme.css">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/mail/compacttheme.css">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/mail/compacttheme.css">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/mail/compacttheme.css">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/osx/mail/compacttheme.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/jar.inc.mn">mail/themes/shared/jar.inc.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/jar.inc.mn">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/jar.inc.mn">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/jar.inc.mn">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/jar.inc.mn">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/jar.inc.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/mail/compacttheme.css">mail/themes/shared/mail/compacttheme.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/mail/compacttheme.css">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/mail/compacttheme.css">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/mail/compacttheme.css">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/mail/compacttheme.css">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/shared/mail/compacttheme.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/jar.mn">mail/themes/windows/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/jar.mn">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/jar.mn">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/jar.mn">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/jar.mn">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/mail/compacttheme.css">mail/themes/windows/mail/compacttheme.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/mail/compacttheme.css">file</a> |
<a href="/comm-central/annotate/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/mail/compacttheme.css">annotate</a> |
<a href="/comm-central/diff/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/mail/compacttheme.css">diff</a> |
<a href="/comm-central/comparison/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/mail/compacttheme.css">comparison</a> |
<a href="/comm-central/log/5bbef8b40975ce8432b0bf307e461bb34fe6591e/mail/themes/windows/mail/compacttheme.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1">new file mode 100644</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineminus">--- /dev/null</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineplus">+++ b/mail/base/content/dark.icon.svg</span>
<a href="#l1.4"></a><span id="l1.4" class="difflineat">@@ -0,0 +1,11 @@</span>
<a href="#l1.5"></a><span id="l1.5" class="difflineplus">+&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; viewBox=&quot;0 0 32 32&quot;&gt;</span>
<a href="#l1.6"></a><span id="l1.6" class="difflineplus">+  &lt;path fill=&quot;#0c0c0d&quot; d=&quot;M2 2h14v13H2z&quot;/&gt;</span>
<a href="#l1.7"></a><span id="l1.7" class="difflineplus">+  &lt;path fill=&quot;#323234&quot; d=&quot;M16 2v13H2v15h28V2H16z&quot;/&gt;</span>
<a href="#l1.8"></a><span id="l1.8" class="difflineplus">+  &lt;rect x=&quot;1&quot; y=&quot;1&quot; width=&quot;30&quot; height=&quot;30&quot; rx=&quot;2&quot; ry=&quot;2&quot; fill=&quot;none&quot; stroke=&quot;#08091a&quot; stroke-opacity=&quot;.35&quot; stroke-width=&quot;2&quot;/&gt;</span>
<a href="#l1.9"></a><span id="l1.9" class="difflineplus">+  &lt;circle cx=&quot;9.5&quot; cy=&quot;22.5&quot; r=&quot;6&quot; fill=&quot;#474749&quot; stroke=&quot;#08091a&quot;/&gt;</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineplus">+  &lt;path d=&quot;M12.5 22H7.707l2.146-2.146a.5.5 0 0 0-.707-.707l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 1 0 .707-.707L7.707 23H12.5a.5.5 0 0 0 0-1z&quot; fill=&quot;#f9f9fa&quot; fill-opacity=&quot;.8&quot;/&gt;</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineplus">+  &lt;path d=&quot;M20.5 20h4a.5.5 0 0 0 0-1h-4a.5.5 0 0 0 0 1zm4 2h-4a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1zm0 3h-4a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z&quot; fill=&quot;#f9f9fa&quot; fill-opacity=&quot;.8&quot;/&gt;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+  &lt;path fill=&quot;#0a84ff&quot; d=&quot;M16 2h14v1H16z&quot;/&gt;</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+  &lt;path d=&quot;M26.354 8.646l-3.5-3.5a.5.5 0 0 0-.707 0l-3.5 3.5a.5.5 0 0 0 .707.707L20 8.707V11.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V8.707l.646.646a.5.5 0 1 0 .707-.707zM24 11h-1V9h-1v2h-1V7.707l1.5-1.5 1.5 1.5z&quot; fill=&quot;#f9f9fa&quot; fill-opacity=&quot;.8&quot;/&gt;</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+  &lt;path fill=&quot;#08091a&quot; d=&quot;M15 2v12H2v1h14V2h-1z&quot;/&gt;</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+&lt;/svg&gt;</span>
<a href="#l1.16"></a><span id="l1.16">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1">new file mode 100644</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineminus">--- /dev/null</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineplus">+++ b/mail/base/content/light.icon.svg</span>
<a href="#l2.4"></a><span id="l2.4" class="difflineat">@@ -0,0 +1,11 @@</span>
<a href="#l2.5"></a><span id="l2.5" class="difflineplus">+&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; viewBox=&quot;0 0 32 32&quot;&gt;</span>
<a href="#l2.6"></a><span id="l2.6" class="difflineplus">+  &lt;path fill=&quot;#e1e1e5&quot; d=&quot;M2 2h14v13H2z&quot;/&gt;</span>
<a href="#l2.7"></a><span id="l2.7" class="difflineplus">+  &lt;path fill=&quot;#f9f9fa&quot; d=&quot;M16 2v13H2v15h28V2H16z&quot;/&gt;</span>
<a href="#l2.8"></a><span id="l2.8" class="difflineplus">+  &lt;rect x=&quot;1&quot; y=&quot;1&quot; width=&quot;30&quot; height=&quot;30&quot; rx=&quot;2&quot; ry=&quot;2&quot; fill=&quot;none&quot; stroke=&quot;#08091a&quot; stroke-opacity=&quot;.35&quot; stroke-width=&quot;2&quot;/&gt;</span>
<a href="#l2.9"></a><span id="l2.9" class="difflineplus">+  &lt;circle cx=&quot;9.5&quot; cy=&quot;22.5&quot; r=&quot;6&quot; fill=&quot;#fff&quot; stroke=&quot;#adadb3&quot;/&gt;</span>
<a href="#l2.10"></a><span id="l2.10" class="difflineplus">+  &lt;path d=&quot;M12.5 22H7.707l2.146-2.146a.5.5 0 0 0-.707-.707l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 1 0 .707-.707L7.707 23H12.5a.5.5 0 0 0 0-1z&quot; fill=&quot;#0c0c0d&quot; fill-opacity=&quot;.8&quot;/&gt;</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineplus">+  &lt;path d=&quot;M20.5 20h4a.5.5 0 0 0 0-1h-4a.5.5 0 0 0 0 1zm4 2h-4a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1zm0 3h-4a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z&quot; fill=&quot;#0c0c0d&quot; fill-opacity=&quot;.8&quot;/&gt;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+  &lt;path fill=&quot;#0a84ff&quot; d=&quot;M16 2h14v1H16z&quot;/&gt;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+  &lt;path d=&quot;M26.354 8.646l-3.5-3.5a.5.5 0 0 0-.707 0l-3.5 3.5a.5.5 0 0 0 .707.707L20 8.707V11.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V8.707l.646.646a.5.5 0 1 0 .707-.707zM24 11h-1V9h-1v2h-1V7.707l1.5-1.5 1.5 1.5z&quot; fill=&quot;#0c0c0d&quot; fill-opacity=&quot;.8&quot;/&gt;</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+  &lt;path fill=&quot;#08091a&quot; fill-opacity=&quot;.25&quot; d=&quot;M15 2v12H2v1h14V2h-1z&quot;/&gt;</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+&lt;/svg&gt;</span>
<a href="#l2.16"></a><span id="l2.16">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1">new file mode 100644</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineminus">--- /dev/null</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineplus">+++ b/mail/base/content/mail-compacttheme.js</span>
<a href="#l3.4"></a><span id="l3.4" class="difflineat">@@ -0,0 +1,68 @@</span>
<a href="#l3.5"></a><span id="l3.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.6"></a><span id="l3.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.7"></a><span id="l3.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l3.8"></a><span id="l3.8" class="difflineplus">+</span>
<a href="#l3.9"></a><span id="l3.9" class="difflineplus">+/**</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineplus">+ * Enables compacttheme.css when needed.</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineplus">+ */</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+var CompactTheme = {</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+  get styleSheet() {</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+    delete this.styleSheet;</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+    for (let styleSheet of document.styleSheets) {</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+      if (styleSheet.href == &quot;chrome://messenger/skin/compacttheme.css&quot;) {</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+        this.styleSheet = styleSheet;</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineplus">+        break;</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineplus">+      }</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineplus">+    }</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineplus">+    return this.styleSheet;</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineplus">+  },</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineplus">+</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineplus">+  get isStyleSheetEnabled() {</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineplus">+    return this.styleSheet &amp;&amp; !this.styleSheet.disabled;</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineplus">+  },</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineplus">+</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineplus">+  get isThemeCurrentlyApplied() {</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineplus">+    let theme = LightweightThemeManager.currentTheme;</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+    return theme &amp;&amp; (</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineplus">+           theme.id == &quot;thunderbird-compact-dark@mozilla.org&quot; ||</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+           theme.id == &quot;thunderbird-compact-light@mozilla.org&quot;);</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineplus">+  },</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineplus">+  init() {</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineplus">+    Services.obs.addObserver(this, &quot;lightweight-theme-styling-update&quot;);</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineplus">+</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineplus">+    if (this.isThemeCurrentlyApplied) {</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineplus">+      this._toggleStyleSheet(true);</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineplus">+    }</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineplus">+  },</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineplus">+</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineplus">+  observe(subject, topic, data) {</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineplus">+    if (topic == &quot;lightweight-theme-styling-update&quot;) {</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineplus">+      let newTheme = JSON.parse(data);</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineplus">+      if (newTheme &amp;&amp; (</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineplus">+          newTheme.id == &quot;thunderbird-compact-light@mozilla.org&quot; ||</span>
<a href="#l3.48"></a><span id="l3.48" class="difflineplus">+          newTheme.id == &quot;thunderbird-compact-dark@mozilla.org&quot;)) {</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineplus">+        // We are using the theme ID on this object instead of always referencing</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineplus">+        // LightweightThemeManager.currentTheme in case this is a preview</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineplus">+        this._toggleStyleSheet(true);</span>
<a href="#l3.52"></a><span id="l3.52" class="difflineplus">+      } else {</span>
<a href="#l3.53"></a><span id="l3.53" class="difflineplus">+        this._toggleStyleSheet(false);</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineplus">+      }</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineplus">+</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineplus">+    }</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineplus">+  },</span>
<a href="#l3.58"></a><span id="l3.58" class="difflineplus">+</span>
<a href="#l3.59"></a><span id="l3.59" class="difflineplus">+  _toggleStyleSheet(enabled) {</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineplus">+    let wasEnabled = this.isStyleSheetEnabled;</span>
<a href="#l3.61"></a><span id="l3.61" class="difflineplus">+    if (enabled) {</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineplus">+      this.styleSheet.disabled = false;</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineplus">+    } else if (!enabled &amp;&amp; wasEnabled) {</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineplus">+      this.styleSheet.disabled = true;</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineplus">+    }</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineplus">+  },</span>
<a href="#l3.67"></a><span id="l3.67" class="difflineplus">+</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineplus">+  uninit() {</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineplus">+    Services.obs.removeObserver(this, &quot;lightweight-theme-styling-update&quot;);</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineplus">+    this.styleSheet = null;</span>
<a href="#l3.71"></a><span id="l3.71" class="difflineplus">+  }</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineplus">+};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/base/content/messenger.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/base/content/messenger.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -15,16 +15,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/chat/chat.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.5"></a><span id="l4.5"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/chat.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.6"></a><span id="l4.6"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messageHeader.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.7"></a><span id="l4.7"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.8"></a><span id="l4.8"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/attachmentList.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.9"></a><span id="l4.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/smime/msgHdrViewSMIMEOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.10"></a><span id="l4.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/smime/msgReadSMIMEOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.11"></a><span id="l4.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/searchBox.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/compacttheme.css&quot; type=&quot;text/css&quot; alternate=&quot;yes&quot; title=&quot;Light/Dark&quot;?&gt;</span>
<a href="#l4.13"></a><span id="l4.13"> </span>
<a href="#l4.14"></a><span id="l4.14"> &lt;!DOCTYPE window [</span>
<a href="#l4.15"></a><span id="l4.15"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l4.16"></a><span id="l4.16"> %brandDTD;</span>
<a href="#l4.17"></a><span id="l4.17"> &lt;!ENTITY % chatDTD SYSTEM &quot;chrome://messenger/locale/chat.dtd&quot;&gt;</span>
<a href="#l4.18"></a><span id="l4.18"> %chatDTD;</span>
<a href="#l4.19"></a><span id="l4.19"> &lt;!ENTITY % msgHdrViewOverlayDTD SYSTEM &quot;chrome://messenger/locale/msgHdrViewOverlay.dtd&quot;&gt;</span>
<a href="#l4.20"></a><span id="l4.20"> %msgHdrViewOverlayDTD;</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineat">@@ -91,16 +92,17 @@</span>
<a href="#l4.22"></a><span id="l4.22">   &lt;stringbundle id=&quot;bundle_read_smime&quot; src=&quot;chrome://messenger-smime/locale/msgReadSMIMEOverlay.properties&quot;/&gt;</span>
<a href="#l4.23"></a><span id="l4.23"> &lt;/stringbundleset&gt;</span>
<a href="#l4.24"></a><span id="l4.24"> </span>
<a href="#l4.25"></a><span id="l4.25"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l4.26"></a><span id="l4.26"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/commandglue.js&quot;/&gt;</span>
<a href="#l4.27"></a><span id="l4.27"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/shareglue.js&quot;/&gt;</span>
<a href="#l4.28"></a><span id="l4.28"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/msgViewNavigation.js&quot;/&gt;</span>
<a href="#l4.29"></a><span id="l4.29"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailWindow.js&quot;/&gt;</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mail-compacttheme.js&quot;/&gt;</span>
<a href="#l4.31"></a><span id="l4.31"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/selectionsummaries.js&quot;/&gt;</span>
<a href="#l4.32"></a><span id="l4.32"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/msgMail3PaneWindow.js&quot;/&gt;</span>
<a href="#l4.33"></a><span id="l4.33"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/specialTabs.js&quot;/&gt;</span>
<a href="#l4.34"></a><span id="l4.34"> &lt;!-- accountProvisionerTab.js relies on code from specialTabs.js, and so much be loaded after it. --&gt;</span>
<a href="#l4.35"></a><span id="l4.35"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/newmailaccount/accountProvisionerTab.js&quot;/&gt;</span>
<a href="#l4.36"></a><span id="l4.36"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/glodaFacetTab.js&quot;/&gt;</span>
<a href="#l4.37"></a><span id="l4.37"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://gloda/content/overlay.js&quot;/&gt;</span>
<a href="#l4.38"></a><span id="l4.38"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/searchBar.js&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -15,16 +15,20 @@ ChromeUtils.import(&quot;resource:///modules/</span>
<a href="#l5.4"></a><span id="l5.4"> ChromeUtils.import(&quot;resource:///modules/msgDBCacheManager.js&quot;);</span>
<a href="#l5.5"></a><span id="l5.5"> ChromeUtils.import(&quot;resource:///modules/sessionStoreManager.js&quot;);</span>
<a href="#l5.6"></a><span id="l5.6"> ChromeUtils.import(&quot;resource:///modules/summaryFrameManager.js&quot;);</span>
<a href="#l5.7"></a><span id="l5.7"> ChromeUtils.import(&quot;resource:///modules/MailUtils.js&quot;);</span>
<a href="#l5.8"></a><span id="l5.8"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l5.9"></a><span id="l5.9"> ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l5.10"></a><span id="l5.10"> ChromeUtils.import(&quot;resource://gre/modules/Color.jsm&quot;);</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+XPCOMUtils.defineLazyModuleGetters(this, {</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+  LightweightThemeManager: &quot;resource://gre/modules/LightweightThemeManager.jsm&quot;,</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+});</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+</span>
<a href="#l5.16"></a><span id="l5.16"> /* This is where functions related to the 3 pane window are kept */</span>
<a href="#l5.17"></a><span id="l5.17"> </span>
<a href="#l5.18"></a><span id="l5.18"> // from MailNewsTypes.h</span>
<a href="#l5.19"></a><span id="l5.19"> var nsMsgKey_None = 0xFFFFFFFF;</span>
<a href="#l5.20"></a><span id="l5.20"> var nsMsgViewIndex_None = 0xFFFFFFFF;</span>
<a href="#l5.21"></a><span id="l5.21"> var kMailCheckOncePrefName = &quot;mail.startup.enabledMailCheckOnce&quot;;</span>
<a href="#l5.22"></a><span id="l5.22"> </span>
<a href="#l5.23"></a><span id="l5.23"> var kStandardPaneConfig = 0;</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineat">@@ -334,16 +338,17 @@ function AutoConfigWizard(okCallback)</span>
<a href="#l5.25"></a><span id="l5.25"> function OnLoadMessenger()</span>
<a href="#l5.26"></a><span id="l5.26"> {</span>
<a href="#l5.27"></a><span id="l5.27">   migrateMailnews();</span>
<a href="#l5.28"></a><span id="l5.28">   // Rig up our TabsInTitlebar early so that we can catch any resize events.</span>
<a href="#l5.29"></a><span id="l5.29">   TabsInTitlebar.init();</span>
<a href="#l5.30"></a><span id="l5.30">   // update the pane config before we exit onload otherwise the user may see a flicker if we poke the document</span>
<a href="#l5.31"></a><span id="l5.31">   // in delayedOnLoadMessenger...</span>
<a href="#l5.32"></a><span id="l5.32">   UpdateMailPaneConfig(false);</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+  CompactTheme.init();</span>
<a href="#l5.34"></a><span id="l5.34"> </span>
<a href="#l5.35"></a><span id="l5.35">   if (AppConstants.platform == &quot;win&quot;) {</span>
<a href="#l5.36"></a><span id="l5.36">     // On Win8 set an attribute when the window frame color is too dark for black text.</span>
<a href="#l5.37"></a><span id="l5.37">     if (window.matchMedia(&quot;(-moz-os-version: windows-win8)&quot;).matches &amp;&amp;</span>
<a href="#l5.38"></a><span id="l5.38">         window.matchMedia(&quot;(-moz-windows-default-theme)&quot;).matches) {</span>
<a href="#l5.39"></a><span id="l5.39">       let windowFrameColor = new Color(...ChromeUtils.import(&quot;resource:///modules/Windows8WindowFrameColor.jsm&quot;, {})</span>
<a href="#l5.40"></a><span id="l5.40">                                             .Windows8WindowFrameColor.get());</span>
<a href="#l5.41"></a><span id="l5.41">       // Default to black for foreground text.</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineat">@@ -626,16 +631,18 @@ function OnUnloadMessenger()</span>
<a href="#l5.43"></a><span id="l5.43">   }</span>
<a href="#l5.44"></a><span id="l5.44"> </span>
<a href="#l5.45"></a><span id="l5.45">   sessionStoreManager.unloadingWindow(window);</span>
<a href="#l5.46"></a><span id="l5.46"> </span>
<a href="#l5.47"></a><span id="l5.47">   TabsInTitlebar.uninit();</span>
<a href="#l5.48"></a><span id="l5.48"> </span>
<a href="#l5.49"></a><span id="l5.49">   ToolbarIconColor.uninit();</span>
<a href="#l5.50"></a><span id="l5.50"> </span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+  CompactTheme.uninit();</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+</span>
<a href="#l5.53"></a><span id="l5.53">   let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l5.54"></a><span id="l5.54">   tabmail._teardown();</span>
<a href="#l5.55"></a><span id="l5.55"> </span>
<a href="#l5.56"></a><span id="l5.56">   MailServices.mailSession.RemoveFolderListener(folderListener);</span>
<a href="#l5.57"></a><span id="l5.57"> </span>
<a href="#l5.58"></a><span id="l5.58">   gPhishingDetector.shutdown();</span>
<a href="#l5.59"></a><span id="l5.59"> </span>
<a href="#l5.60"></a><span id="l5.60">   Services.obs.removeObserver(gPluginHandler.pluginCrashed, &quot;plugin-crashed&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/base/jar.mn</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/base/jar.mn</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -20,16 +20,17 @@ messenger.jar:</span>
<a href="#l6.4"></a><span id="l6.4"> % style chrome://messenger/content/customizeToolbar.xul chrome://messenger/skin/messageHeader.css</span>
<a href="#l6.5"></a><span id="l6.5"> % style chrome://messenger/content/customizeToolbar.xul chrome://messenger/skin/primaryToolbar.css</span>
<a href="#l6.6"></a><span id="l6.6">     content/messenger/mailWindow.js                 (content/mailWindow.js)</span>
<a href="#l6.7"></a><span id="l6.7">     content/messenger/messageDisplay.js             (content/messageDisplay.js)</span>
<a href="#l6.8"></a><span id="l6.8">     content/messenger/extensionsOverlay.css         (content/extensionsOverlay.css)</span>
<a href="#l6.9"></a><span id="l6.9">     content/messenger/extensionsOverlay.xul         (content/extensionsOverlay.xul)</span>
<a href="#l6.10"></a><span id="l6.10">     content/messenger/folderDisplay.js              (content/folderDisplay.js)</span>
<a href="#l6.11"></a><span id="l6.11">     content/messenger/mailWindowOverlay.js          (content/mailWindowOverlay.js)</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+    content/messenger/mail-compacttheme.js          (content/mail-compacttheme.js)</span>
<a href="#l6.13"></a><span id="l6.13"> *   content/messenger/mailOverlay.xul               (content/mailOverlay.xul)</span>
<a href="#l6.14"></a><span id="l6.14"> *   content/messenger/messageWindow.xul             (content/messageWindow.xul)</span>
<a href="#l6.15"></a><span id="l6.15">     content/messenger/messageWindow.js              (content/messageWindow.js)</span>
<a href="#l6.16"></a><span id="l6.16">     content/messenger/mailContextMenus.js           (content/mailContextMenus.js)</span>
<a href="#l6.17"></a><span id="l6.17">     content/messenger/nsContextMenu.js              (content/nsContextMenu.js)</span>
<a href="#l6.18"></a><span id="l6.18"> *   content/messenger/messenger.xul                 (content/messenger.xul)</span>
<a href="#l6.19"></a><span id="l6.19"> *   content/messenger/hiddenWindow.xul              (content/hiddenWindow.xul)</span>
<a href="#l6.20"></a><span id="l6.20">     content/messenger/hiddenWindow.js               (content/hiddenWindow.js)</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineat">@@ -82,16 +83,18 @@ messenger.jar:</span>
<a href="#l6.22"></a><span id="l6.22">     content/messenger/tabmail.css                   (content/tabmail.css)</span>
<a href="#l6.23"></a><span id="l6.23">     content/messenger/newTagDialog.xul              (content/newTagDialog.xul)</span>
<a href="#l6.24"></a><span id="l6.24">     content/messenger/newTagDialog.js               (content/newTagDialog.js)</span>
<a href="#l6.25"></a><span id="l6.25">     content/messenger/configEditorOverlay.xul       (content/configEditorOverlay.xul)</span>
<a href="#l6.26"></a><span id="l6.26">     content/messenger/composerOverlay.css           (content/composerOverlay.css)</span>
<a href="#l6.27"></a><span id="l6.27">     content/messenger/threadPane.js                 (content/threadPane.js)</span>
<a href="#l6.28"></a><span id="l6.28">     content/messenger/threadPaneColumnPicker.xml    (content/threadPaneColumnPicker.xml)</span>
<a href="#l6.29"></a><span id="l6.29">     content/messenger/protovis-r2.6-modded.js       (content/protovis-r2.6-modded.js)</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineplus">+    content/messenger/dark.icon.svg                 (content/dark.icon.svg)</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineplus">+    content/messenger/light.icon.svg                (content/light.icon.svg)</span>
<a href="#l6.32"></a><span id="l6.32"> #ifdef XP_MACOSX</span>
<a href="#l6.33"></a><span id="l6.33">     content/messenger/macMessengerMenu.js           (content/macMessengerMenu.js)</span>
<a href="#l6.34"></a><span id="l6.34"> #endif</span>
<a href="#l6.35"></a><span id="l6.35">     content/messenger/selectionsummaries.js         (content/selectionsummaries.js)</span>
<a href="#l6.36"></a><span id="l6.36">     content/messenger/multimessageview.css          (content/multimessageview.css)</span>
<a href="#l6.37"></a><span id="l6.37">     content/messenger/multimessageview_print.css    (content/multimessageview_print.css)</span>
<a href="#l6.38"></a><span id="l6.38">     content/messenger/sharedsummary.css             (content/sharedsummary.css)</span>
<a href="#l6.39"></a><span id="l6.39">     content/messenger/multimessageview.xhtml        (content/multimessageview.xhtml)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/components/addrbook/content/addressbook.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/components/addrbook/content/addressbook.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -7,16 +7,20 @@</span>
<a href="#l7.4"></a><span id="l7.4"> </span>
<a href="#l7.5"></a><span id="l7.5"> // Ensure the activity modules are loaded for this window.</span>
<a href="#l7.6"></a><span id="l7.6"> ChromeUtils.import(&quot;resource:///modules/activity/activityModules.js&quot;);</span>
<a href="#l7.7"></a><span id="l7.7"> ChromeUtils.import(&quot;resource:///modules/ABQueryUtils.jsm&quot;);</span>
<a href="#l7.8"></a><span id="l7.8"> ChromeUtils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l7.9"></a><span id="l7.9"> ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l7.10"></a><span id="l7.10"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+XPCOMUtils.defineLazyModuleGetters(this, {</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+  LightweightThemeManager: &quot;resource://gre/modules/LightweightThemeManager.jsm&quot;,</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+});</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+</span>
<a href="#l7.16"></a><span id="l7.16"> var nsIAbListener = Ci.nsIAbListener;</span>
<a href="#l7.17"></a><span id="l7.17"> var kPrefMailAddrBookLastNameFirst = &quot;mail.addr_book.lastnamefirst&quot;;</span>
<a href="#l7.18"></a><span id="l7.18"> var kPersistCollapseMapStorage = &quot;directoryTree.json&quot;;</span>
<a href="#l7.19"></a><span id="l7.19"> </span>
<a href="#l7.20"></a><span id="l7.20"> var gSearchTimer = null;</span>
<a href="#l7.21"></a><span id="l7.21"> var gStatusText = null;</span>
<a href="#l7.22"></a><span id="l7.22"> var gQueryURIFormat = null;</span>
<a href="#l7.23"></a><span id="l7.23"> var gCardViewBox;</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineat">@@ -113,16 +117,17 @@ function OnUnloadAddressBook()</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26">   // Shutdown the tree view - this will also save the open/collapsed</span>
<a href="#l7.27"></a><span id="l7.27">   // state of the tree view to a JSON file.</span>
<a href="#l7.28"></a><span id="l7.28">   gDirectoryTreeView.shutdown(kPersistCollapseMapStorage);</span>
<a href="#l7.29"></a><span id="l7.29"> </span>
<a href="#l7.30"></a><span id="l7.30">   MailServices.mailSession.RemoveMsgWindow(msgWindow);</span>
<a href="#l7.31"></a><span id="l7.31"> </span>
<a href="#l7.32"></a><span id="l7.32">   ToolbarIconColor.uninit();</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineplus">+  CompactTheme.uninit();</span>
<a href="#l7.34"></a><span id="l7.34"> </span>
<a href="#l7.35"></a><span id="l7.35">   CloseAbView();</span>
<a href="#l7.36"></a><span id="l7.36"> }</span>
<a href="#l7.37"></a><span id="l7.37"> </span>
<a href="#l7.38"></a><span id="l7.38"> var gAddressBookAbViewListener = {</span>
<a href="#l7.39"></a><span id="l7.39">   onSelectionChanged: function() {</span>
<a href="#l7.40"></a><span id="l7.40">     ResultsPaneSelectionChanged();</span>
<a href="#l7.41"></a><span id="l7.41">   },</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineat">@@ -154,16 +159,17 @@ function OnLoadAddressBook()</span>
<a href="#l7.43"></a><span id="l7.43"> </span>
<a href="#l7.44"></a><span id="l7.44">     document.documentElement.setAttribute(&quot;width&quot;, defaultWidth);</span>
<a href="#l7.45"></a><span id="l7.45">     document.documentElement.setAttribute(&quot;height&quot;, defaultHeight);</span>
<a href="#l7.46"></a><span id="l7.46">     // Make sure we're safe at the left/top edge of screen</span>
<a href="#l7.47"></a><span id="l7.47">     document.documentElement.setAttribute(&quot;screenX&quot;, screen.availLeft);</span>
<a href="#l7.48"></a><span id="l7.48">     document.documentElement.setAttribute(&quot;screenY&quot;, screen.availTop);</span>
<a href="#l7.49"></a><span id="l7.49">   }</span>
<a href="#l7.50"></a><span id="l7.50"> </span>
<a href="#l7.51"></a><span id="l7.51" class="difflineplus">+  CompactTheme.init();</span>
<a href="#l7.52"></a><span id="l7.52">   ToolbarIconColor.init();</span>
<a href="#l7.53"></a><span id="l7.53"> </span>
<a href="#l7.54"></a><span id="l7.54">   if (!chatHandler.ChatCore.initialized)</span>
<a href="#l7.55"></a><span id="l7.55">     chatHandler.ChatCore.init();</span>
<a href="#l7.56"></a><span id="l7.56"> </span>
<a href="#l7.57"></a><span id="l7.57">   setTimeout(delayedOnLoadAddressBook, 0); // when debugging, set this to 5000, so you can see what happens after the window comes up.</span>
<a href="#l7.58"></a><span id="l7.58"> }</span>
<a href="#l7.59"></a><span id="l7.59"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/components/addrbook/content/addressbook.xul</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/components/addrbook/content/addressbook.xul</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -2,16 +2,17 @@</span>
<a href="#l8.4"></a><span id="l8.4"> </span>
<a href="#l8.5"></a><span id="l8.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.6"></a><span id="l8.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.7"></a><span id="l8.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l8.8"></a><span id="l8.8"> </span>
<a href="#l8.9"></a><span id="l8.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/bindings.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l8.10"></a><span id="l8.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/searchBox.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l8.11"></a><span id="l8.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/addressbook/addressbook.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/compacttheme.css&quot; type=&quot;text/css&quot; alternate=&quot;yes&quot; title=&quot;Light/Dark&quot;?&gt;</span>
<a href="#l8.13"></a><span id="l8.13"> </span>
<a href="#l8.14"></a><span id="l8.14"> &lt;!DOCTYPE window [</span>
<a href="#l8.15"></a><span id="l8.15"> &lt;!ENTITY % abMainWindowDTD SYSTEM &quot;chrome://messenger/locale/addressbook/abMainWindow.dtd&quot; &gt;</span>
<a href="#l8.16"></a><span id="l8.16"> %abMainWindowDTD;</span>
<a href="#l8.17"></a><span id="l8.17"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l8.18"></a><span id="l8.18"> %brandDTD;</span>
<a href="#l8.19"></a><span id="l8.19"> &lt;!ENTITY % customizeToolbarDTD SYSTEM &quot;chrome://messenger/locale/customizeToolbar.dtd&quot;&gt;</span>
<a href="#l8.20"></a><span id="l8.20"> %customizeToolbarDTD;</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineat">@@ -38,16 +39,17 @@</span>
<a href="#l8.22"></a><span id="l8.22">     &lt;stringbundle id=&quot;bundle_messenger&quot; src=&quot;chrome://messenger/locale/messenger.properties&quot;/&gt;</span>
<a href="#l8.23"></a><span id="l8.23">     &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l8.24"></a><span id="l8.24">   &lt;/stringbundleset&gt;</span>
<a href="#l8.25"></a><span id="l8.25"> </span>
<a href="#l8.26"></a><span id="l8.26"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/jsTreeView.js&quot;/&gt;</span>
<a href="#l8.27"></a><span id="l8.27"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/addressbook/abTrees.js&quot;/&gt;</span>
<a href="#l8.28"></a><span id="l8.28"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/accountUtils.js&quot;/&gt;</span>
<a href="#l8.29"></a><span id="l8.29"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailCore.js&quot;/&gt;</span>
<a href="#l8.30"></a><span id="l8.30" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mail-compacttheme.js&quot;/&gt;</span>
<a href="#l8.31"></a><span id="l8.31"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/addressbook/addressbook.js&quot;/&gt;</span>
<a href="#l8.32"></a><span id="l8.32"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/addressbook/abCommon.js&quot;/&gt;</span>
<a href="#l8.33"></a><span id="l8.33"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/contentAreaClick.js&quot;/&gt;</span>
<a href="#l8.34"></a><span id="l8.34"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/printUtils.js&quot;/&gt;</span>
<a href="#l8.35"></a><span id="l8.35"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/msgPrintEngine.js&quot;/&gt;</span>
<a href="#l8.36"></a><span id="l8.36"> </span>
<a href="#l8.37"></a><span id="l8.37"> &lt;!-- move needed functions into a single js file --&gt;</span>
<a href="#l8.38"></a><span id="l8.38"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/utilityOverlay.js&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -21,16 +21,20 @@ ChromeUtils.import(&quot;resource://gre/modul</span>
<a href="#l9.4"></a><span id="l9.4"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l9.5"></a><span id="l9.5"> ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l9.6"></a><span id="l9.6"> ChromeUtils.import(&quot;resource://gre/modules/AppConstants.jsm&quot;);</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> ChromeUtils.defineModuleGetter(this, &quot;OS&quot;, &quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l9.9"></a><span id="l9.9"> ChromeUtils.defineModuleGetter(this, &quot;ShortcutUtils&quot;,</span>
<a href="#l9.10"></a><span id="l9.10">                                &quot;resource://gre/modules/ShortcutUtils.jsm&quot;);</span>
<a href="#l9.11"></a><span id="l9.11"> </span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+XPCOMUtils.defineLazyModuleGetters(this, {</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+  LightweightThemeManager: &quot;resource://gre/modules/LightweightThemeManager.jsm&quot;,</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+});</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+</span>
<a href="#l9.16"></a><span id="l9.16"> /**</span>
<a href="#l9.17"></a><span id="l9.17">  * interfaces</span>
<a href="#l9.18"></a><span id="l9.18">  */</span>
<a href="#l9.19"></a><span id="l9.19"> var nsIMsgCompDeliverMode = Ci.nsIMsgCompDeliverMode;</span>
<a href="#l9.20"></a><span id="l9.20"> var nsIMsgCompSendFormat = Ci.nsIMsgCompSendFormat;</span>
<a href="#l9.21"></a><span id="l9.21"> var nsIMsgCompConvertible = Ci.nsIMsgCompConvertible;</span>
<a href="#l9.22"></a><span id="l9.22"> var nsIMsgCompType = Ci.nsIMsgCompType;</span>
<a href="#l9.23"></a><span id="l9.23"> var nsIMsgCompFormat = Ci.nsIMsgCompFormat;</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineat">@@ -3102,16 +3106,17 @@ function ComposeLoad()</span>
<a href="#l9.25"></a><span id="l9.25">     Cu.reportError(ex);</span>
<a href="#l9.26"></a><span id="l9.26">     Services.prompt.alert(window, getComposeBundle().getString(&quot;initErrorDlogTitle&quot;),</span>
<a href="#l9.27"></a><span id="l9.27">                           getComposeBundle().getString(&quot;initErrorDlgMessage&quot;));</span>
<a href="#l9.28"></a><span id="l9.28"> </span>
<a href="#l9.29"></a><span id="l9.29">     MsgComposeCloseWindow();</span>
<a href="#l9.30"></a><span id="l9.30">     return;</span>
<a href="#l9.31"></a><span id="l9.31">   }</span>
<a href="#l9.32"></a><span id="l9.32"> </span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+  CompactTheme.init();</span>
<a href="#l9.34"></a><span id="l9.34">   ToolbarIconColor.init();</span>
<a href="#l9.35"></a><span id="l9.35"> </span>
<a href="#l9.36"></a><span id="l9.36">   // initialize the customizeDone method on the customizeable toolbar</span>
<a href="#l9.37"></a><span id="l9.37">   var toolbox = document.getElementById(&quot;compose-toolbox&quot;);</span>
<a href="#l9.38"></a><span id="l9.38">   toolbox.customizeDone = function(aEvent) { MailToolboxCustomizeDone(aEvent, &quot;CustomizeComposeToolbar&quot;); };</span>
<a href="#l9.39"></a><span id="l9.39"> </span>
<a href="#l9.40"></a><span id="l9.40">   var toolbarset = document.getElementById('customToolbars');</span>
<a href="#l9.41"></a><span id="l9.41">   toolbox.toolbarset = toolbarset;</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineat">@@ -3140,16 +3145,17 @@ function ComposeUnload()</span>
<a href="#l9.43"></a><span id="l9.43">   EditorCleanup();</span>
<a href="#l9.44"></a><span id="l9.44"> </span>
<a href="#l9.45"></a><span id="l9.45">   if (gMsgCompose)</span>
<a href="#l9.46"></a><span id="l9.46">     gMsgCompose.removeMsgSendListener(gSendListener);</span>
<a href="#l9.47"></a><span id="l9.47"> </span>
<a href="#l9.48"></a><span id="l9.48">   RemoveMessageComposeOfflineQuitObserver();</span>
<a href="#l9.49"></a><span id="l9.49">   gAttachmentNotifier.shutdown();</span>
<a href="#l9.50"></a><span id="l9.50">   ToolbarIconColor.uninit();</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineplus">+  CompactTheme.uninit();</span>
<a href="#l9.52"></a><span id="l9.52"> </span>
<a href="#l9.53"></a><span id="l9.53">   // Stop observing dictionary removals.</span>
<a href="#l9.54"></a><span id="l9.54">   dictionaryRemovalObserver.removeObserver();</span>
<a href="#l9.55"></a><span id="l9.55"> </span>
<a href="#l9.56"></a><span id="l9.56">   if (gMsgCompose)</span>
<a href="#l9.57"></a><span id="l9.57">     gMsgCompose.UnregisterStateListener(stateListener);</span>
<a href="#l9.58"></a><span id="l9.58">   if (gAutoSaveTimeout)</span>
<a href="#l9.59"></a><span id="l9.59">     clearTimeout(gAutoSaveTimeout);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/components/compose/content/messengercompose.xul</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/components/compose/content/messengercompose.xul</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -3,16 +3,17 @@</span>
<a href="#l10.4"></a><span id="l10.4"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.5"></a><span id="l10.5"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l10.6"></a><span id="l10.6"> </span>
<a href="#l10.7"></a><span id="l10.7"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/bindings.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l10.8"></a><span id="l10.8"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messengercompose/messengercompose.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l10.9"></a><span id="l10.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l10.10"></a><span id="l10.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/attachmentList.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l10.11"></a><span id="l10.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/smime/msgCompSMIMEOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/compacttheme.css&quot; type=&quot;text/css&quot; alternate=&quot;yes&quot; title=&quot;Light/Dark&quot;?&gt;</span>
<a href="#l10.13"></a><span id="l10.13"> </span>
<a href="#l10.14"></a><span id="l10.14"> &lt;!DOCTYPE window [</span>
<a href="#l10.15"></a><span id="l10.15">   &lt;!ENTITY % messengercomposeDTD SYSTEM &quot;chrome://messenger/locale/messengercompose/messengercompose.dtd&quot; &gt;</span>
<a href="#l10.16"></a><span id="l10.16">   %messengercomposeDTD;</span>
<a href="#l10.17"></a><span id="l10.17">   &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l10.18"></a><span id="l10.18">   %brandDTD;</span>
<a href="#l10.19"></a><span id="l10.19">   &lt;!ENTITY % charsetDTD SYSTEM &quot;chrome://global/locale/charsetMenu.dtd&quot; &gt;</span>
<a href="#l10.20"></a><span id="l10.20">   %charsetDTD;</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineat">@@ -54,16 +55,17 @@</span>
<a href="#l10.22"></a><span id="l10.22">   &lt;stringbundle id=&quot;brandBundle&quot;        src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l10.23"></a><span id="l10.23">   &lt;stringbundle id=&quot;bundle_comp_smime&quot;  src=&quot;chrome://messenger-smime/locale/msgCompSMIMEOverlay.properties&quot;/&gt;</span>
<a href="#l10.24"></a><span id="l10.24">   &lt;stringbundle id=&quot;charsetBundle&quot;      src=&quot;chrome://communicator/content/labelsencodings.properties&quot;/&gt;</span>
<a href="#l10.25"></a><span id="l10.25"> &lt;/stringbundleset&gt;</span>
<a href="#l10.26"></a><span id="l10.26"> </span>
<a href="#l10.27"></a><span id="l10.27"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/printUtils.js&quot;/&gt;</span>
<a href="#l10.28"></a><span id="l10.28"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/accountUtils.js&quot;/&gt;</span>
<a href="#l10.29"></a><span id="l10.29"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailCore.js&quot;/&gt;</span>
<a href="#l10.30"></a><span id="l10.30" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mail-compacttheme.js&quot;/&gt;</span>
<a href="#l10.31"></a><span id="l10.31"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/contentAreaClick.js&quot;/&gt;</span>
<a href="#l10.32"></a><span id="l10.32"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/editor.js&quot;/&gt;</span>
<a href="#l10.33"></a><span id="l10.33"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/editorUtilities.js&quot;/&gt;</span>
<a href="#l10.34"></a><span id="l10.34"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://editor/content/ComposerCommands.js&quot;/&gt;</span>
<a href="#l10.35"></a><span id="l10.35"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/messengercompose/MsgComposeCommands.js&quot;/&gt;</span>
<a href="#l10.36"></a><span id="l10.36"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/messengercompose/bigFileObserver.js&quot;/&gt;</span>
<a href="#l10.37"></a><span id="l10.37"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/messengercompose/cloudAttachmentLinkManager.js&quot;/&gt;</span>
<a href="#l10.38"></a><span id="l10.38"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/components/mailGlue.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/components/mailGlue.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -7,16 +7,30 @@ ChromeUtils.import(&quot;resource://gre/modul</span>
<a href="#l11.4"></a><span id="l11.4"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l11.5"></a><span id="l11.5"> ChromeUtils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l11.6"></a><span id="l11.6"> ChromeUtils.import(&quot;resource://gre/modules/LightweightThemeConsumer.jsm&quot;);</span>
<a href="#l11.7"></a><span id="l11.7"> ChromeUtils.import(&quot;resource:///modules/distribution.js&quot;);</span>
<a href="#l11.8"></a><span id="l11.8"> ChromeUtils.import(&quot;resource:///modules/mailMigrator.js&quot;);</span>
<a href="#l11.9"></a><span id="l11.9"> ChromeUtils.import(&quot;resource:///modules/extensionSupport.jsm&quot;);</span>
<a href="#l11.10"></a><span id="l11.10"> const { L10nRegistry, FileSource } = ChromeUtils.import(&quot;resource://gre/modules/L10nRegistry.jsm&quot;, {});</span>
<a href="#l11.11"></a><span id="l11.11"> </span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+// lazy module getters</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+XPCOMUtils.defineLazyModuleGetters(this, {</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+  LightweightThemeManager: &quot;resource://gre/modules/LightweightThemeManager.jsm&quot;,</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+});</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineplus">+</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+XPCOMUtils.defineLazyGetter(this, &quot;gBrandBundle&quot;, function() {</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineplus">+  return Services.strings.createBundle(&quot;chrome://branding/locale/brand.properties&quot;);</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineplus">+});</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineplus">+</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+XPCOMUtils.defineLazyGetter(this, &quot;gMailBundle&quot;, function() {</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+  return Services.strings.createBundle(&quot;chrome://messenger/locale/messenger.properties&quot;);</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+});</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineplus">+</span>
<a href="#l11.26"></a><span id="l11.26"> /**</span>
<a href="#l11.27"></a><span id="l11.27">  * Glue code that should be executed before any windows are opened. Any</span>
<a href="#l11.28"></a><span id="l11.28">  * window-independent helper methods (a la nsBrowserGlue.js) should go in</span>
<a href="#l11.29"></a><span id="l11.29">  * MailUtils.js instead.</span>
<a href="#l11.30"></a><span id="l11.30">  */</span>
<a href="#l11.31"></a><span id="l11.31"> </span>
<a href="#l11.32"></a><span id="l11.32"> function MailGlue() {</span>
<a href="#l11.33"></a><span id="l11.33">   XPCOMUtils.defineLazyGetter(this, &quot;_sanitizer&quot;,</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineat">@@ -95,16 +109,40 @@ MailGlue.prototype = {</span>
<a href="#l11.35"></a><span id="l11.35">     // handle any migration work that has to happen at profile startup</span>
<a href="#l11.36"></a><span id="l11.36">     MailMigrator.migrateAtProfileStartup();</span>
<a href="#l11.37"></a><span id="l11.37"> </span>
<a href="#l11.38"></a><span id="l11.38">     // check if we're in safe mode</span>
<a href="#l11.39"></a><span id="l11.39">     if (Services.appinfo.inSafeMode) {</span>
<a href="#l11.40"></a><span id="l11.40">       Services.ww.openWindow(null, &quot;chrome://messenger/content/safeMode.xul&quot;,</span>
<a href="#l11.41"></a><span id="l11.41">                              &quot;_blank&quot;, &quot;chrome,centerscreen,modal,resizable=no&quot;, null);</span>
<a href="#l11.42"></a><span id="l11.42">     }</span>
<a href="#l11.43"></a><span id="l11.43" class="difflineplus">+</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineplus">+    let vendorShortName = gBrandBundle.GetStringFromName(&quot;vendorShortName&quot;);</span>
<a href="#l11.45"></a><span id="l11.45" class="difflineplus">+</span>
<a href="#l11.46"></a><span id="l11.46" class="difflineplus">+    LightweightThemeManager.addBuiltInTheme({</span>
<a href="#l11.47"></a><span id="l11.47" class="difflineplus">+      id: &quot;thunderbird-compact-light@mozilla.org&quot;,</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineplus">+      name: gMailBundle.GetStringFromName(&quot;lightTheme.name&quot;),</span>
<a href="#l11.49"></a><span id="l11.49" class="difflineplus">+      description: gMailBundle.GetStringFromName(&quot;lightTheme.description&quot;),</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineplus">+      iconURL: &quot;resource:///chrome/messenger/content/messenger/light.icon.svg&quot;,</span>
<a href="#l11.51"></a><span id="l11.51" class="difflineplus">+      textcolor: &quot;black&quot;,</span>
<a href="#l11.52"></a><span id="l11.52" class="difflineplus">+      accentcolor: &quot;white&quot;,</span>
<a href="#l11.53"></a><span id="l11.53" class="difflineplus">+      author: vendorShortName,</span>
<a href="#l11.54"></a><span id="l11.54" class="difflineplus">+    });</span>
<a href="#l11.55"></a><span id="l11.55" class="difflineplus">+    LightweightThemeManager.addBuiltInTheme({</span>
<a href="#l11.56"></a><span id="l11.56" class="difflineplus">+      id: &quot;thunderbird-compact-dark@mozilla.org&quot;,</span>
<a href="#l11.57"></a><span id="l11.57" class="difflineplus">+      name: gMailBundle.GetStringFromName(&quot;darkTheme.name&quot;),</span>
<a href="#l11.58"></a><span id="l11.58" class="difflineplus">+      description: gMailBundle.GetStringFromName(&quot;darkTheme.description&quot;),</span>
<a href="#l11.59"></a><span id="l11.59" class="difflineplus">+      iconURL: &quot;resource:///chrome/messenger/content/messenger/dark.icon.svg&quot;,</span>
<a href="#l11.60"></a><span id="l11.60" class="difflineplus">+      textcolor: &quot;white&quot;,</span>
<a href="#l11.61"></a><span id="l11.61" class="difflineplus">+      accentcolor: &quot;black&quot;,</span>
<a href="#l11.62"></a><span id="l11.62" class="difflineplus">+      popup: &quot;#4a4a4f&quot;,</span>
<a href="#l11.63"></a><span id="l11.63" class="difflineplus">+      popup_text: &quot;rgb(249, 249, 250)&quot;,</span>
<a href="#l11.64"></a><span id="l11.64" class="difflineplus">+      popup_border: &quot;#27272b&quot;,</span>
<a href="#l11.65"></a><span id="l11.65" class="difflineplus">+      author: vendorShortName,</span>
<a href="#l11.66"></a><span id="l11.66" class="difflineplus">+    });</span>
<a href="#l11.67"></a><span id="l11.67">   },</span>
<a href="#l11.68"></a><span id="l11.68"> </span>
<a href="#l11.69"></a><span id="l11.69">   _onMailStartupDone: function MailGlue__onMailStartupDone() {</span>
<a href="#l11.70"></a><span id="l11.70">     // On Windows 7 and above, initialize the jump list module.</span>
<a href="#l11.71"></a><span id="l11.71">     const WINTASKBAR_CONTRACTID = &quot;@mozilla.org/windows-taskbar;1&quot;;</span>
<a href="#l11.72"></a><span id="l11.72">     if (WINTASKBAR_CONTRACTID in Cc &amp;&amp;</span>
<a href="#l11.73"></a><span id="l11.73">         Cc[WINTASKBAR_CONTRACTID].getService(Ci.nsIWinTaskbar).available) {</span>
<a href="#l11.74"></a><span id="l11.74">       ChromeUtils.import(&quot;resource:///modules/windowsJumpLists.js&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messenger.properties</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/messenger.properties</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -745,16 +745,24 @@ threadPane.columnPicker.confirmFolder.wi</span>
<a href="#l12.4"></a><span id="l12.4"> # the &quot;columnPicker.applyToFolderAndChildren.label&quot; menu option, this is the</span>
<a href="#l12.5"></a><span id="l12.5"> # text of the confirmation dialog used to verify they selected the correct</span>
<a href="#l12.6"></a><span id="l12.6"> # folder.  The string '%S' is replaced with the name of the folder the user</span>
<a href="#l12.7"></a><span id="l12.7"> # selected in order to help them confirm they picked what they thought they</span>
<a href="#l12.8"></a><span id="l12.8"> # picked.  This is the case in which we apply the columns to the folder and all</span>
<a href="#l12.9"></a><span id="l12.9"> # of its children.</span>
<a href="#l12.10"></a><span id="l12.10"> threadPane.columnPicker.confirmFolder.withChildren.message=Apply the current folder's columns to %S and its children?</span>
<a href="#l12.11"></a><span id="l12.11"> </span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+# LOCALIZATION NOTE (lightTheme.name): This is displayed in about:addons -&gt; Appearance</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+lightTheme.name=Light</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+lightTheme.description=A theme with a light color scheme.</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineplus">+</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineplus">+# LOCALIZATION NOTE (darkTheme.name): This is displayed in about:addons -&gt; Appearance</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineplus">+darkTheme.name=Dark</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineplus">+darkTheme.description=A theme with a dark color scheme.</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineplus">+</span>
<a href="#l12.20"></a><span id="l12.20"> # LOCALIZATION NOTE (lwthemeInstallRequest.message): %S will be replaced with</span>
<a href="#l12.21"></a><span id="l12.21"> # the host name of the site.</span>
<a href="#l12.22"></a><span id="l12.22"> lwthemeInstallRequest.message=This site (%S) attempted to install a theme.</span>
<a href="#l12.23"></a><span id="l12.23"> lwthemeInstallRequest.allowButton=Allow</span>
<a href="#l12.24"></a><span id="l12.24"> lwthemeInstallRequest.allowButton.accesskey=a</span>
<a href="#l12.25"></a><span id="l12.25"> </span>
<a href="#l12.26"></a><span id="l12.26"> lwthemePostInstallNotification.message=A new theme has been installed.</span>
<a href="#l12.27"></a><span id="l12.27"> lwthemePostInstallNotification.undoButton=Undo</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/themes/linux/jar.mn</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/themes/linux/jar.mn</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -16,16 +16,17 @@ classic.jar:</span>
<a href="#l13.4"></a><span id="l13.4"> * skin/classic/messenger/imAccountWizard.css                  (../../components/im/themes/imAccountWizard.css)</span>
<a href="#l13.5"></a><span id="l13.5">   skin/classic/messenger/imMenulist.css                       (../../components/im/themes/imMenulist.css)</span>
<a href="#l13.6"></a><span id="l13.6"> * skin/classic/messenger/imRichlistbox.css                    (../../components/im/themes/imRichlistbox.css)</span>
<a href="#l13.7"></a><span id="l13.7">   skin/classic/messenger/founder.png                          (../../components/im/themes/founder.png)</span>
<a href="#l13.8"></a><span id="l13.8">   skin/classic/messenger/operator.png                         (../../components/im/themes/operator.png)</span>
<a href="#l13.9"></a><span id="l13.9">   skin/classic/messenger/half-operator.png                    (../../components/im/themes/half-operator.png)</span>
<a href="#l13.10"></a><span id="l13.10">   skin/classic/messenger/voice.png                            (../../components/im/themes/voice.png)</span>
<a href="#l13.11"></a><span id="l13.11">   skin/classic/messenger/browserRequest.css                   (mail/browserRequest.css)</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+  skin/classic/messenger/compacttheme.css                     (mail/compacttheme.css)</span>
<a href="#l13.13"></a><span id="l13.13">   skin/classic/messenger/customizeToolbar.css                 (mail/customizeToolbar.css)</span>
<a href="#l13.14"></a><span id="l13.14">   skin/classic/messenger/datetimepicker.css                   (mail/datetimepicker.css)</span>
<a href="#l13.15"></a><span id="l13.15">   skin/classic/messenger/section_collapsed.png                (mail/section_collapsed.png)</span>
<a href="#l13.16"></a><span id="l13.16">   skin/classic/messenger/section_expanded.png                 (mail/section_expanded.png)</span>
<a href="#l13.17"></a><span id="l13.17">   skin/classic/messenger/messageBody.css                      (mail/messageBody.css)</span>
<a href="#l13.18"></a><span id="l13.18">   skin/classic/messenger/messageHeader.css                    (mail/messageHeader.css)</span>
<a href="#l13.19"></a><span id="l13.19">   skin/classic/messenger/messageIcons.css                     (mail/messageIcons.css)</span>
<a href="#l13.20"></a><span id="l13.20">   skin/classic/messenger/messageQuotes.css                    (mail/messageQuotes.css)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1">new file mode 100644</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineminus">--- /dev/null</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineplus">+++ b/mail/themes/linux/mail/compacttheme.css</span>
<a href="#l14.4"></a><span id="l14.4" class="difflineat">@@ -0,0 +1,20 @@</span>
<a href="#l14.5"></a><span id="l14.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.6"></a><span id="l14.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.7"></a><span id="l14.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.8"></a><span id="l14.8" class="difflineplus">+</span>
<a href="#l14.9"></a><span id="l14.9" class="difflineplus">+@import url(&quot;chrome://messenger/skin/shared/compacttheme.css&quot;);</span>
<a href="#l14.10"></a><span id="l14.10" class="difflineplus">+</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineplus">+#tabs-toolbar,</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+#mail-toolbar-menubar2 {</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+  -moz-appearance: none !important;</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+}</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+#mail-menubar {</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineplus">+  color: var(--chrome-color);</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineplus">+}</span>
<a href="#l14.19"></a><span id="l14.19" class="difflineplus">+</span>
<a href="#l14.20"></a><span id="l14.20" class="difflineplus">+#mail-menubar &gt; menu:not([open]) {</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineplus">+  color: inherit;</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineplus">+}</span>
<a href="#l14.23"></a><span id="l14.23" class="difflineplus">+</span>
<a href="#l14.24"></a><span id="l14.24" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/themes/linux/mail/messenger.css</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/themes/linux/mail/messenger.css</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -238,25 +238,16 @@ toolbarpaletteitem[place=&quot;toolbar&quot;] &gt; to</span>
<a href="#l15.4"></a><span id="l15.4"> }</span>
<a href="#l15.5"></a><span id="l15.5"> </span>
<a href="#l15.6"></a><span id="l15.6"> /* ::::: toolbarbutton menu-button ::::: */</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8"> toolbarbutton[type=&quot;menu-button&quot;] {</span>
<a href="#l15.9"></a><span id="l15.9">   -moz-box-align: stretch;</span>
<a href="#l15.10"></a><span id="l15.10">   -moz-appearance: dualbutton;</span>
<a href="#l15.11"></a><span id="l15.11">   -moz-box-orient: horizontal !important;</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-}</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineminus">-</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineminus">-toolbarbutton[type=&quot;menu-button&quot;],</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineminus">-toolbarbutton[type=&quot;menu-button&quot;]:hover,</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineminus">-toolbarbutton[type=&quot;menu-button&quot;]:hover:active,</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineminus">-toolbarbutton[type=&quot;menu-button&quot;][open=&quot;true&quot;],</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineminus">-toolbarbutton[type=&quot;menu-button&quot;][disabled=&quot;true&quot;],</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineminus">-toolbarbutton[type=&quot;menu-button&quot;][disabled=&quot;true&quot;]:hover,</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineminus">-toolbarbutton[type=&quot;menu-button&quot;][disabled=&quot;true&quot;]:hover:active {</span>
<a href="#l15.21"></a><span id="l15.21">   padding: 0 !important;</span>
<a href="#l15.22"></a><span id="l15.22"> }</span>
<a href="#l15.23"></a><span id="l15.23"> </span>
<a href="#l15.24"></a><span id="l15.24"> .toolbarbutton-menubutton-button {</span>
<a href="#l15.25"></a><span id="l15.25">   -moz-box-align: center;</span>
<a href="#l15.26"></a><span id="l15.26">   -moz-box-pack: center;</span>
<a href="#l15.27"></a><span id="l15.27">   -moz-box-orient: vertical;</span>
<a href="#l15.28"></a><span id="l15.28"> }</span>
<a href="#l15.29"></a><span id="l15.29" class="difflineat">@@ -306,16 +297,20 @@ toolbox[labelalign=&quot;end&quot;] .toolbarbutton</span>
<a href="#l15.30"></a><span id="l15.30">   -moz-appearance: none;</span>
<a href="#l15.31"></a><span id="l15.31">   min-height: 24px;</span>
<a href="#l15.32"></a><span id="l15.32">   min-width: 32px;</span>
<a href="#l15.33"></a><span id="l15.33">   margin: 4px 1px;</span>
<a href="#l15.34"></a><span id="l15.34">   padding: 1px 6px;</span>
<a href="#l15.35"></a><span id="l15.35">   color: inherit;</span>
<a href="#l15.36"></a><span id="l15.36"> }</span>
<a href="#l15.37"></a><span id="l15.37"> </span>
<a href="#l15.38"></a><span id="l15.38" class="difflineplus">+.toolbarbutton-1[type=&quot;menu-button&quot;] {</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l15.40"></a><span id="l15.40" class="difflineplus">+}</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineplus">+</span>
<a href="#l15.42"></a><span id="l15.42"> .findbar-button {</span>
<a href="#l15.43"></a><span id="l15.43">   -moz-appearance: none;</span>
<a href="#l15.44"></a><span id="l15.44">   color: inherit;</span>
<a href="#l15.45"></a><span id="l15.45">   padding: 5px;</span>
<a href="#l15.46"></a><span id="l15.46"> }</span>
<a href="#l15.47"></a><span id="l15.47"> </span>
<a href="#l15.48"></a><span id="l15.48"> .findbar-button,</span>
<a href="#l15.49"></a><span id="l15.49"> .toolbarbutton-1:not([type=&quot;menu-button&quot;]),</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/themes/osx/jar.mn</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/themes/osx/jar.mn</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -21,16 +21,17 @@ classic.jar:</span>
<a href="#l16.4"></a><span id="l16.4"> * skin/classic/messenger/imAccountWizard.css                     (../../components/im/themes/imAccountWizard.css)</span>
<a href="#l16.5"></a><span id="l16.5">   skin/classic/messenger/imMenulist.css                          (../../components/im/themes/imMenulist.css)</span>
<a href="#l16.6"></a><span id="l16.6"> * skin/classic/messenger/imRichlistbox.css                       (../../components/im/themes/imRichlistbox.css)</span>
<a href="#l16.7"></a><span id="l16.7">   skin/classic/messenger/founder.png                             (../../components/im/themes/founder.png)</span>
<a href="#l16.8"></a><span id="l16.8">   skin/classic/messenger/operator.png                            (../../components/im/themes/operator.png)</span>
<a href="#l16.9"></a><span id="l16.9">   skin/classic/messenger/half-operator.png                       (../../components/im/themes/half-operator.png)</span>
<a href="#l16.10"></a><span id="l16.10">   skin/classic/messenger/voice.png                               (../../components/im/themes/voice.png)</span>
<a href="#l16.11"></a><span id="l16.11">   skin/classic/messenger/browserRequest.css                      (mail/browserRequest.css)</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+  skin/classic/messenger/compacttheme.css                        (mail/compacttheme.css)</span>
<a href="#l16.13"></a><span id="l16.13">   skin/classic/messenger/customizeToolbar.css                    (mail/customizeToolbar.css)</span>
<a href="#l16.14"></a><span id="l16.14">   skin/classic/messenger/datetimepicker.css                      (mail/datetimepicker.css)</span>
<a href="#l16.15"></a><span id="l16.15">   skin/classic/messenger/section_collapsed.png                   (mail/section_collapsed.png)</span>
<a href="#l16.16"></a><span id="l16.16">   skin/classic/messenger/section_expanded.png                    (mail/section_expanded.png)</span>
<a href="#l16.17"></a><span id="l16.17">   skin/classic/messenger/messageBody.css                         (mail/messageBody.css)</span>
<a href="#l16.18"></a><span id="l16.18">   skin/classic/messenger/messageHeader.css                       (mail/messageHeader.css)</span>
<a href="#l16.19"></a><span id="l16.19">   skin/classic/messenger/messageIcons.css                        (mail/messageIcons.css)</span>
<a href="#l16.20"></a><span id="l16.20">   skin/classic/messenger/messageQuotes.css                       (mail/messageQuotes.css)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1">new file mode 100644</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineminus">--- /dev/null</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineplus">+++ b/mail/themes/osx/mail/compacttheme.css</span>
<a href="#l17.4"></a><span id="l17.4" class="difflineat">@@ -0,0 +1,23 @@</span>
<a href="#l17.5"></a><span id="l17.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.6"></a><span id="l17.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.7"></a><span id="l17.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l17.8"></a><span id="l17.8" class="difflineplus">+</span>
<a href="#l17.9"></a><span id="l17.9" class="difflineplus">+@import url(&quot;chrome://messenger/skin/shared/compacttheme.css&quot;);</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineplus">+</span>
<a href="#l17.11"></a><span id="l17.11" class="difflineplus">+/* Get rid of 1px bright strip at the top of window */</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+#messengerWindow[tabsintitlebar] #titlebar-content {</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+  background: var(--chrome-background-color);</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineplus">+}</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineplus">+#tabs-toolbar:-moz-lwtheme-brighttext {</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineplus">+  -moz-appearance: -moz-mac-vibrant-titlebar-dark;</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineplus">+  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-dark;</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineplus">+  background-color: #232323;</span>
<a href="#l17.20"></a><span id="l17.20" class="difflineplus">+  color: hsl(240, 9%, 98%);</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineplus">+  text-shadow: none;</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineplus">+}</span>
<a href="#l17.23"></a><span id="l17.23" class="difflineplus">+</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineplus">+#tabs-toolbar:-moz-lwtheme-darktext {</span>
<a href="#l17.25"></a><span id="l17.25" class="difflineplus">+  -moz-appearance: -moz-mac-vibrant-titlebar-light;</span>
<a href="#l17.26"></a><span id="l17.26" class="difflineplus">+  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-light;</span>
<a href="#l17.27"></a><span id="l17.27" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mail/themes/shared/jar.inc.mn</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mail/themes/shared/jar.inc.mn</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -71,16 +71,17 @@</span>
<a href="#l18.4"></a><span id="l18.4">   skin/classic/messenger/icons/starred.svg                    (../shared/mail/icons/starred.svg)</span>
<a href="#l18.5"></a><span id="l18.5">   skin/classic/messenger/icons/sticky.svg                     (../shared/mail/icons/sticky.svg)</span>
<a href="#l18.6"></a><span id="l18.6">   skin/classic/messenger/icons/stop.svg                       (../shared/mail/icons/stop.svg)</span>
<a href="#l18.7"></a><span id="l18.7">   skin/classic/messenger/icons/tag.svg                        (../shared/mail/icons/tag.svg)</span>
<a href="#l18.8"></a><span id="l18.8">   skin/classic/messenger/icons/timeline.svg                   (../shared/mail/icons/timeline.svg)</span>
<a href="#l18.9"></a><span id="l18.9">   skin/classic/messenger/icons/toolbarbutton-arrow.svg        (../shared/mail/icons/toolbarbutton-arrow.svg)</span>
<a href="#l18.10"></a><span id="l18.10">   skin/classic/messenger/shared/accountProvisioner.css        (../shared/mail/accountProvisioner.css)</span>
<a href="#l18.11"></a><span id="l18.11">   skin/classic/messenger/shared/addressbook.css               (../shared/mail/addressbook.css)</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+  skin/classic/messenger/shared/compacttheme.css              (../shared/mail/compacttheme.css)</span>
<a href="#l18.13"></a><span id="l18.13">   skin/classic/messenger/shared/in-content/dialog.css         (../shared/mail/incontentprefs/dialog.css)</span>
<a href="#l18.14"></a><span id="l18.14">   skin/classic/messenger/shared/in-content/aboutPreferences.css (../shared/mail/incontentprefs/aboutPreferences.css)</span>
<a href="#l18.15"></a><span id="l18.15">   skin/classic/messenger/shared/in-content/account.svg        (../shared/mail/incontentprefs/account.svg)</span>
<a href="#l18.16"></a><span id="l18.16">   skin/classic/messenger/shared/in-content/advanced.svg       (../shared/mail/incontentprefs/advanced.svg)</span>
<a href="#l18.17"></a><span id="l18.17">   skin/classic/messenger/shared/in-content/attachment.svg     (../shared/mail/incontentprefs/attachment.svg)</span>
<a href="#l18.18"></a><span id="l18.18">   skin/classic/messenger/shared/in-content/calendar.svg       (../shared/mail/incontentprefs/calendar.svg)</span>
<a href="#l18.19"></a><span id="l18.19">   skin/classic/messenger/shared/in-content/chat.svg           (../shared/mail/incontentprefs/chat.svg)</span>
<a href="#l18.20"></a><span id="l18.20">   skin/classic/messenger/shared/in-content/compose.svg        (../shared/mail/incontentprefs/compose.svg)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1">new file mode 100644</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineminus">--- /dev/null</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineplus">+++ b/mail/themes/shared/mail/compacttheme.css</span>
<a href="#l19.4"></a><span id="l19.4" class="difflineat">@@ -0,0 +1,90 @@</span>
<a href="#l19.5"></a><span id="l19.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.6"></a><span id="l19.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.7"></a><span id="l19.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l19.8"></a><span id="l19.8" class="difflineplus">+</span>
<a href="#l19.9"></a><span id="l19.9" class="difflineplus">+/* compacttheme.css is loaded in messenger.xul after messenger.css when it</span>
<a href="#l19.10"></a><span id="l19.10" class="difflineplus">+   is preffed on.  The bulk of the styling is here in the shared file, but</span>
<a href="#l19.11"></a><span id="l19.11" class="difflineplus">+   there are overrides for each platform in their compacttheme.css files. */</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+:root:-moz-lwtheme {</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineplus">+  --toolbar-color: var(--chrome-color);</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+  --toolbar-bgcolor: var(--chrome-secondary-background-color);</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineplus">+  --toolbar-non-lwt-bgcolor: var(--toolbar-bgcolor);</span>
<a href="#l19.17"></a><span id="l19.17" class="difflineplus">+  --toolbar-non-lwt-textcolor: var(--chrome-color);</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineplus">+  --toolbar-non-lwt-bgimage: none;</span>
<a href="#l19.19"></a><span id="l19.19" class="difflineplus">+</span>
<a href="#l19.20"></a><span id="l19.20" class="difflineplus">+  --toolbarbutton-icon-fill-opacity: .7;</span>
<a href="#l19.21"></a><span id="l19.21" class="difflineplus">+</span>
<a href="#l19.22"></a><span id="l19.22" class="difflineplus">+  --tab-line-color: #0a84ff;</span>
<a href="#l19.23"></a><span id="l19.23" class="difflineplus">+}</span>
<a href="#l19.24"></a><span id="l19.24" class="difflineplus">+</span>
<a href="#l19.25"></a><span id="l19.25" class="difflineplus">+:root:-moz-lwtheme-brighttext {</span>
<a href="#l19.26"></a><span id="l19.26" class="difflineplus">+  /* Chrome */</span>
<a href="#l19.27"></a><span id="l19.27" class="difflineplus">+  --chrome-background-color: hsl(240, 5%, 5%);</span>
<a href="#l19.28"></a><span id="l19.28" class="difflineplus">+  --chrome-color: rgb(249, 249, 250);</span>
<a href="#l19.29"></a><span id="l19.29" class="difflineplus">+  --chrome-secondary-background-color: hsl(240, 1%, 20%);</span>
<a href="#l19.30"></a><span id="l19.30" class="difflineplus">+  --toolbox-border-bottom-color: hsla(240, 5%, 5%, .1);</span>
<a href="#l19.31"></a><span id="l19.31" class="difflineplus">+  --chrome-nav-bar-controls-border-color: hsla(240, 5%, 5%, .3);</span>
<a href="#l19.32"></a><span id="l19.32" class="difflineplus">+  --chrome-selection-color: #fff;</span>
<a href="#l19.33"></a><span id="l19.33" class="difflineplus">+  --chrome-selection-background-color: #5675b9;</span>
<a href="#l19.34"></a><span id="l19.34" class="difflineplus">+</span>
<a href="#l19.35"></a><span id="l19.35" class="difflineplus">+  /* Toolbar buttons */</span>
<a href="#l19.36"></a><span id="l19.36" class="difflineplus">+  --lwt-toolbarbutton-hover-background: rgba(179, 179, 179, 0.4);</span>
<a href="#l19.37"></a><span id="l19.37" class="difflineplus">+  --lwt-toolbarbutton-active-background: rgba(179, 179, 179, 0.6);</span>
<a href="#l19.38"></a><span id="l19.38" class="difflineplus">+</span>
<a href="#l19.39"></a><span id="l19.39" class="difflineplus">+  /* Search bars */</span>
<a href="#l19.40"></a><span id="l19.40" class="difflineplus">+  --lwt-toolbar-field-background-color: rgb(71, 71, 73);</span>
<a href="#l19.41"></a><span id="l19.41" class="difflineplus">+  --lwt-toolbar-field-color: var(--chrome-color);</span>
<a href="#l19.42"></a><span id="l19.42" class="difflineplus">+  --urlbar-separator-color: #5F6670;</span>
<a href="#l19.43"></a><span id="l19.43" class="difflineplus">+}</span>
<a href="#l19.44"></a><span id="l19.44" class="difflineplus">+</span>
<a href="#l19.45"></a><span id="l19.45" class="difflineplus">+:root:-moz-lwtheme-darktext {</span>
<a href="#l19.46"></a><span id="l19.46" class="difflineplus">+  --lwt-toolbar-field-background-color: #fff;</span>
<a href="#l19.47"></a><span id="l19.47" class="difflineplus">+</span>
<a href="#l19.48"></a><span id="l19.48" class="difflineplus">+  --chrome-background-color: #e3e4e6;</span>
<a href="#l19.49"></a><span id="l19.49" class="difflineplus">+  --chrome-color: #18191a;</span>
<a href="#l19.50"></a><span id="l19.50" class="difflineplus">+  --chrome-secondary-background-color: #f5f6f7;</span>
<a href="#l19.51"></a><span id="l19.51" class="difflineplus">+  --toolbox-border-bottom-color: #cccccc;</span>
<a href="#l19.52"></a><span id="l19.52" class="difflineplus">+  --chrome-nav-bar-controls-border-color: #ccc;</span>
<a href="#l19.53"></a><span id="l19.53" class="difflineplus">+  --chrome-selection-color: #f5f7fa;</span>
<a href="#l19.54"></a><span id="l19.54" class="difflineplus">+  --chrome-selection-background-color: #4c9ed9;</span>
<a href="#l19.55"></a><span id="l19.55" class="difflineplus">+}</span>
<a href="#l19.56"></a><span id="l19.56" class="difflineplus">+</span>
<a href="#l19.57"></a><span id="l19.57" class="difflineplus">+toolbar[brighttext] .toolbarbutton-1 {</span>
<a href="#l19.58"></a><span id="l19.58" class="difflineplus">+  fill: rgb(249, 249, 250);</span>
<a href="#l19.59"></a><span id="l19.59" class="difflineplus">+}</span>
<a href="#l19.60"></a><span id="l19.60" class="difflineplus">+</span>
<a href="#l19.61"></a><span id="l19.61" class="difflineplus">+#searchInput ::-moz-selection,</span>
<a href="#l19.62"></a><span id="l19.62" class="difflineplus">+#IMSearchInput ::-moz-selection,</span>
<a href="#l19.63"></a><span id="l19.63" class="difflineplus">+#peopleSearchInput ::-moz-selection,</span>
<a href="#l19.64"></a><span id="l19.64" class="difflineplus">+.remote-gloda-search ::-moz-selection,</span>
<a href="#l19.65"></a><span id="l19.65" class="difflineplus">+findbar ::-moz-selection {</span>
<a href="#l19.66"></a><span id="l19.66" class="difflineplus">+  background-color: var(--chrome-selection-background-color);</span>
<a href="#l19.67"></a><span id="l19.67" class="difflineplus">+  color: var(--chrome-selection-color);</span>
<a href="#l19.68"></a><span id="l19.68" class="difflineplus">+}</span>
<a href="#l19.69"></a><span id="l19.69" class="difflineplus">+</span>
<a href="#l19.70"></a><span id="l19.70" class="difflineplus">+/* Change the base colors for the mail chrome */</span>
<a href="#l19.71"></a><span id="l19.71" class="difflineplus">+</span>
<a href="#l19.72"></a><span id="l19.72" class="difflineplus">+#navigation-toolbox,</span>
<a href="#l19.73"></a><span id="l19.73" class="difflineplus">+.mail-toolbox,</span>
<a href="#l19.74"></a><span id="l19.74" class="difflineplus">+.contentTabToolbox {</span>
<a href="#l19.75"></a><span id="l19.75" class="difflineplus">+  background-color: var(--chrome-background-color);</span>
<a href="#l19.76"></a><span id="l19.76" class="difflineplus">+  color: var(--chrome-color);</span>
<a href="#l19.77"></a><span id="l19.77" class="difflineplus">+}</span>
<a href="#l19.78"></a><span id="l19.78" class="difflineplus">+</span>
<a href="#l19.79"></a><span id="l19.79" class="difflineplus">+.mail-toolbox,</span>
<a href="#l19.80"></a><span id="l19.80" class="difflineplus">+.contentTabToolbox,</span>
<a href="#l19.81"></a><span id="l19.81" class="difflineplus">+findbar,</span>
<a href="#l19.82"></a><span id="l19.82" class="difflineplus">+#browser-bottombox {</span>
<a href="#l19.83"></a><span id="l19.83" class="difflineplus">+  background-color: var(--chrome-secondary-background-color) !important;</span>
<a href="#l19.84"></a><span id="l19.84" class="difflineplus">+  background-image: none !important;</span>
<a href="#l19.85"></a><span id="l19.85" class="difflineplus">+  color: var(--chrome-color);</span>
<a href="#l19.86"></a><span id="l19.86" class="difflineplus">+}</span>
<a href="#l19.87"></a><span id="l19.87" class="difflineplus">+</span>
<a href="#l19.88"></a><span id="l19.88" class="difflineplus">+/* Search bar*/</span>
<a href="#l19.89"></a><span id="l19.89" class="difflineplus">+#searchInput:not([focused=&quot;true&quot;]),</span>
<a href="#l19.90"></a><span id="l19.90" class="difflineplus">+#IMSearchInput:not([focused=&quot;true&quot;]),</span>
<a href="#l19.91"></a><span id="l19.91" class="difflineplus">+#peopleSearchInput:not([focused=&quot;true&quot;]),</span>
<a href="#l19.92"></a><span id="l19.92" class="difflineplus">+.remote-gloda-search:not([focused=&quot;true&quot;]) {</span>
<a href="#l19.93"></a><span id="l19.93" class="difflineplus">+  border-color: var(--chrome-nav-bar-controls-border-color);</span>
<a href="#l19.94"></a><span id="l19.94" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mail/themes/windows/jar.mn</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mail/themes/windows/jar.mn</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -16,16 +16,17 @@ classic.jar:</span>
<a href="#l20.4"></a><span id="l20.4"> * skin/classic/messenger/imAccountWizard.css                  (../../components/im/themes/imAccountWizard.css)</span>
<a href="#l20.5"></a><span id="l20.5">   skin/classic/messenger/imMenulist.css                       (../../components/im/themes/imMenulist.css)</span>
<a href="#l20.6"></a><span id="l20.6"> * skin/classic/messenger/imRichlistbox.css                    (../../components/im/themes/imRichlistbox.css)</span>
<a href="#l20.7"></a><span id="l20.7">   skin/classic/messenger/founder.png                          (../../components/im/themes/founder.png)</span>
<a href="#l20.8"></a><span id="l20.8">   skin/classic/messenger/operator.png                         (../../components/im/themes/operator.png)</span>
<a href="#l20.9"></a><span id="l20.9">   skin/classic/messenger/half-operator.png                    (../../components/im/themes/half-operator.png)</span>
<a href="#l20.10"></a><span id="l20.10">   skin/classic/messenger/voice.png                            (../../components/im/themes/voice.png)</span>
<a href="#l20.11"></a><span id="l20.11">   skin/classic/messenger/browserRequest.css                   (mail/browserRequest.css)</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+  skin/classic/messenger/compacttheme.css                     (mail/compacttheme.css)</span>
<a href="#l20.13"></a><span id="l20.13">   skin/classic/messenger/customizeToolbar.css                 (mail/customizeToolbar.css)</span>
<a href="#l20.14"></a><span id="l20.14">   skin/classic/messenger/datetimepicker.css                   (mail/datetimepicker.css)</span>
<a href="#l20.15"></a><span id="l20.15">   skin/classic/messenger/section_collapsed.png                (mail/section_collapsed.png)</span>
<a href="#l20.16"></a><span id="l20.16">   skin/classic/messenger/section_expanded.png                 (mail/section_expanded.png)</span>
<a href="#l20.17"></a><span id="l20.17">   skin/classic/messenger/messageBody.css                      (mail/messageBody.css)</span>
<a href="#l20.18"></a><span id="l20.18">   skin/classic/messenger/messageHeader.css                    (mail/messageHeader.css)</span>
<a href="#l20.19"></a><span id="l20.19">   skin/classic/messenger/messageIcons.css                     (mail/messageIcons.css)</span>
<a href="#l20.20"></a><span id="l20.20">   skin/classic/messenger/messageQuotes.css                    (mail/messageQuotes.css)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1">new file mode 100644</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineminus">--- /dev/null</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineplus">+++ b/mail/themes/windows/mail/compacttheme.css</span>
<a href="#l21.4"></a><span id="l21.4" class="difflineat">@@ -0,0 +1,152 @@</span>
<a href="#l21.5"></a><span id="l21.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l21.6"></a><span id="l21.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l21.7"></a><span id="l21.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l21.8"></a><span id="l21.8" class="difflineplus">+</span>
<a href="#l21.9"></a><span id="l21.9" class="difflineplus">+@import url(&quot;chrome://messenger/skin/shared/compacttheme.css&quot;);</span>
<a href="#l21.10"></a><span id="l21.10" class="difflineplus">+</span>
<a href="#l21.11"></a><span id="l21.11" class="difflineplus">+/* The window background is white due to no accentcolor in the lightweight</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineplus">+   theme. It can't be changed to transparent when there is no compositor</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+   (Win 7 in classic / basic theme), or else dragging and focus become</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineplus">+   broken. So instead just show the normal titlebar in that case, and override</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineplus">+   the window color as transparent when the compositor is available. */</span>
<a href="#l21.16"></a><span id="l21.16" class="difflineplus">+@media (-moz-windows-compositor: 0) {</span>
<a href="#l21.17"></a><span id="l21.17" class="difflineplus">+  #messengerWindow[tabsintitlebar] #titlebar:-moz-lwtheme {</span>
<a href="#l21.18"></a><span id="l21.18" class="difflineplus">+    visibility: visible;</span>
<a href="#l21.19"></a><span id="l21.19" class="difflineplus">+  }</span>
<a href="#l21.20"></a><span id="l21.20" class="difflineplus">+</span>
<a href="#l21.21"></a><span id="l21.21" class="difflineplus">+  /* Prevent accent color overriding the window background for</span>
<a href="#l21.22"></a><span id="l21.22" class="difflineplus">+   * light and dark theme on Aero Basic. This is copied from browser-aero.css. */</span>
<a href="#l21.23"></a><span id="l21.23" class="difflineplus">+  @media (-moz-windows-default-theme) {</span>
<a href="#l21.24"></a><span id="l21.24" class="difflineplus">+    #messengerWindow {</span>
<a href="#l21.25"></a><span id="l21.25" class="difflineplus">+      background-color: rgb(185,209,234) !important;</span>
<a href="#l21.26"></a><span id="l21.26" class="difflineplus">+    }</span>
<a href="#l21.27"></a><span id="l21.27" class="difflineplus">+    #messengerWindow:-moz-window-inactive {</span>
<a href="#l21.28"></a><span id="l21.28" class="difflineplus">+      background-color: rgb(215,228,242) !important;</span>
<a href="#l21.29"></a><span id="l21.29" class="difflineplus">+    }</span>
<a href="#l21.30"></a><span id="l21.30" class="difflineplus">+  }</span>
<a href="#l21.31"></a><span id="l21.31" class="difflineplus">+}</span>
<a href="#l21.32"></a><span id="l21.32" class="difflineplus">+</span>
<a href="#l21.33"></a><span id="l21.33" class="difflineplus">+@media (-moz-os-version: windows-win7) {</span>
<a href="#l21.34"></a><span id="l21.34" class="difflineplus">+  @media (-moz-windows-default-theme) {</span>
<a href="#l21.35"></a><span id="l21.35" class="difflineplus">+    /* Always show light toolbar elements on aero surface. */</span>
<a href="#l21.36"></a><span id="l21.36" class="difflineplus">+    #tabs-toolbar {</span>
<a href="#l21.37"></a><span id="l21.37" class="difflineplus">+      color: hsl(240,9%,98%);</span>
<a href="#l21.38"></a><span id="l21.38" class="difflineplus">+    }</span>
<a href="#l21.39"></a><span id="l21.39" class="difflineplus">+</span>
<a href="#l21.40"></a><span id="l21.40" class="difflineplus">+    /* Keep showing the correct color inside the tabs. */</span>
<a href="#l21.41"></a><span id="l21.41" class="difflineplus">+    .tabmail-tab {</span>
<a href="#l21.42"></a><span id="l21.42" class="difflineplus">+      color: var(--chrome-color) !important;</span>
<a href="#l21.43"></a><span id="l21.43" class="difflineplus">+    }</span>
<a href="#l21.44"></a><span id="l21.44" class="difflineplus">+</span>
<a href="#l21.45"></a><span id="l21.45" class="difflineplus">+    /* Because we're forcing the tabs toolbar to be [brighttext] to</span>
<a href="#l21.46"></a><span id="l21.46" class="difflineplus">+     * get white toolbar button icons, we need to manually set the</span>
<a href="#l21.47"></a><span id="l21.47" class="difflineplus">+     * correct color for the tab hover state for the light theme. */</span>
<a href="#l21.48"></a><span id="l21.48" class="difflineplus">+    .tabmail-tab:hover &gt; .tab-stack &gt; .tab-background:not([selected=true]):-moz-lwtheme-darktext {</span>
<a href="#l21.49"></a><span id="l21.49" class="difflineplus">+      background-color: rgba(0,0,0,.1) !important;</span>
<a href="#l21.50"></a><span id="l21.50" class="difflineplus">+    }</span>
<a href="#l21.51"></a><span id="l21.51" class="difflineplus">+    .tabmail-tab:hover &gt; .tab-stack &gt; .tab-background &gt; .tab-line:not([selected=true]):-moz-lwtheme-darktext {</span>
<a href="#l21.52"></a><span id="l21.52" class="difflineplus">+      background-color: rgba(0,0,0,.2) !important;</span>
<a href="#l21.53"></a><span id="l21.53" class="difflineplus">+    }</span>
<a href="#l21.54"></a><span id="l21.54" class="difflineplus">+  }</span>
<a href="#l21.55"></a><span id="l21.55" class="difflineplus">+}</span>
<a href="#l21.56"></a><span id="l21.56" class="difflineplus">+</span>
<a href="#l21.57"></a><span id="l21.57" class="difflineplus">+@media (-moz-windows-glass) {</span>
<a href="#l21.58"></a><span id="l21.58" class="difflineplus">+  /* Set to full fill-opacity to improve visibility of toolbar buttons on aero glass. */</span>
<a href="#l21.59"></a><span id="l21.59" class="difflineplus">+  #tabs-toolbar {</span>
<a href="#l21.60"></a><span id="l21.60" class="difflineplus">+    --toolbarbutton-icon-fill-opacity: 1;</span>
<a href="#l21.61"></a><span id="l21.61" class="difflineplus">+  }</span>
<a href="#l21.62"></a><span id="l21.62" class="difflineplus">+</span>
<a href="#l21.63"></a><span id="l21.63" class="difflineplus">+  #navigation-toolbox {</span>
<a href="#l21.64"></a><span id="l21.64" class="difflineplus">+    background-color: transparent;</span>
<a href="#l21.65"></a><span id="l21.65" class="difflineplus">+  }</span>
<a href="#l21.66"></a><span id="l21.66" class="difflineplus">+}</span>
<a href="#l21.67"></a><span id="l21.67" class="difflineplus">+</span>
<a href="#l21.68"></a><span id="l21.68" class="difflineplus">+@media (-moz-os-version: windows-win7),</span>
<a href="#l21.69"></a><span id="l21.69" class="difflineplus">+       (-moz-os-version: windows-win8) {</span>
<a href="#l21.70"></a><span id="l21.70" class="difflineplus">+  #messengerWindow &gt; statusbar {</span>
<a href="#l21.71"></a><span id="l21.71" class="difflineplus">+    background-color: var(--lwt-accent-color);</span>
<a href="#l21.72"></a><span id="l21.72" class="difflineplus">+  }</span>
<a href="#l21.73"></a><span id="l21.73" class="difflineplus">+</span>
<a href="#l21.74"></a><span id="l21.74" class="difflineplus">+  @media (-moz-windows-compositor) {</span>
<a href="#l21.75"></a><span id="l21.75" class="difflineplus">+    #messengerWindow {</span>
<a href="#l21.76"></a><span id="l21.76" class="difflineplus">+      background: transparent !important;</span>
<a href="#l21.77"></a><span id="l21.77" class="difflineplus">+    }</span>
<a href="#l21.78"></a><span id="l21.78" class="difflineplus">+  }</span>
<a href="#l21.79"></a><span id="l21.79" class="difflineplus">+</span>
<a href="#l21.80"></a><span id="l21.80" class="difflineplus">+  /* Always show full-height tab separators on tabs with borders. */</span>
<a href="#l21.81"></a><span id="l21.81" class="difflineplus">+  .tabmail-tab::before,</span>
<a href="#l21.82"></a><span id="l21.82" class="difflineplus">+  .tabmail-tab::after {</span>
<a href="#l21.83"></a><span id="l21.83" class="difflineplus">+    border-image: none !important;</span>
<a href="#l21.84"></a><span id="l21.84" class="difflineplus">+  }</span>
<a href="#l21.85"></a><span id="l21.85" class="difflineplus">+</span>
<a href="#l21.86"></a><span id="l21.86" class="difflineplus">+  /* Show border on tabs with background colors and</span>
<a href="#l21.87"></a><span id="l21.87" class="difflineplus">+   * show the tabs toolbar background color inside tabs. */</span>
<a href="#l21.88"></a><span id="l21.88" class="difflineplus">+  .tabmail-tab {</span>
<a href="#l21.89"></a><span id="l21.89" class="difflineplus">+    background-color: var(--chrome-background-color) !important;</span>
<a href="#l21.90"></a><span id="l21.90" class="difflineplus">+    border-top: 1px solid var(--tabs-border-color);</span>
<a href="#l21.91"></a><span id="l21.91" class="difflineplus">+    background-clip: padding-box;</span>
<a href="#l21.92"></a><span id="l21.92" class="difflineplus">+  }</span>
<a href="#l21.93"></a><span id="l21.93" class="difflineplus">+</span>
<a href="#l21.94"></a><span id="l21.94" class="difflineplus">+  /* The top border on top of the tab background is replaced</span>
<a href="#l21.95"></a><span id="l21.95" class="difflineplus">+   * by the slightly transparent outside tabs-border-color. */</span>
<a href="#l21.96"></a><span id="l21.96" class="difflineplus">+  .tab-background {</span>
<a href="#l21.97"></a><span id="l21.97" class="difflineplus">+    border-top-style: none !important;</span>
<a href="#l21.98"></a><span id="l21.98" class="difflineplus">+  }</span>
<a href="#l21.99"></a><span id="l21.99" class="difflineplus">+</span>
<a href="#l21.100"></a><span id="l21.100" class="difflineplus">+  /* The border at the start of the tab strip is replaced</span>
<a href="#l21.101"></a><span id="l21.101" class="difflineplus">+   * by the slightly transparent outside tabs-border-color. */</span>
<a href="#l21.102"></a><span id="l21.102" class="difflineplus">+  .tabmail-tab:first-child {</span>
<a href="#l21.103"></a><span id="l21.103" class="difflineplus">+    margin-inline-start: 0 !important;</span>
<a href="#l21.104"></a><span id="l21.104" class="difflineplus">+    border-inline-start: 1px solid var(--tabs-border-color);</span>
<a href="#l21.105"></a><span id="l21.105" class="difflineplus">+  }</span>
<a href="#l21.106"></a><span id="l21.106" class="difflineplus">+</span>
<a href="#l21.107"></a><span id="l21.107" class="difflineplus">+  /* The border at the end of the tab strip is replaced</span>
<a href="#l21.108"></a><span id="l21.108" class="difflineplus">+   * by the slightly transparent outside tabs-border-color. */</span>
<a href="#l21.109"></a><span id="l21.109" class="difflineplus">+  .tabmail-tab:last-child {</span>
<a href="#l21.110"></a><span id="l21.110" class="difflineplus">+    border-inline-end: 1px solid var(--tabs-border-color);</span>
<a href="#l21.111"></a><span id="l21.111" class="difflineplus">+  }</span>
<a href="#l21.112"></a><span id="l21.112" class="difflineplus">+</span>
<a href="#l21.113"></a><span id="l21.113" class="difflineplus">+  .tabmail-tab:first-child::before,</span>
<a href="#l21.114"></a><span id="l21.114" class="difflineplus">+  .tabmail-tab:last-child::after {</span>
<a href="#l21.115"></a><span id="l21.115" class="difflineplus">+    display: none !important;</span>
<a href="#l21.116"></a><span id="l21.116" class="difflineplus">+  }</span>
<a href="#l21.117"></a><span id="l21.117" class="difflineplus">+</span>
<a href="#l21.118"></a><span id="l21.118" class="difflineplus">+  /* Use default window colors */</span>
<a href="#l21.119"></a><span id="l21.119" class="difflineplus">+  #tabs-toolbar,</span>
<a href="#l21.120"></a><span id="l21.120" class="difflineplus">+  #navigator-toolbox {</span>
<a href="#l21.121"></a><span id="l21.121" class="difflineplus">+    background-color: transparent;</span>
<a href="#l21.122"></a><span id="l21.122" class="difflineplus">+  }</span>
<a href="#l21.123"></a><span id="l21.123" class="difflineplus">+</span>
<a href="#l21.124"></a><span id="l21.124" class="difflineplus">+  /* Use proper menu text styling in Win7 classic mode (copied from browser.css) */</span>
<a href="#l21.125"></a><span id="l21.125" class="difflineplus">+  @media (-moz-windows-compositor: 0),</span>
<a href="#l21.126"></a><span id="l21.126" class="difflineplus">+         (-moz-windows-default-theme: 0) {</span>
<a href="#l21.127"></a><span id="l21.127" class="difflineplus">+    :root[tabsintitlebar]:not([inFullscreen]) #mail-menubar {</span>
<a href="#l21.128"></a><span id="l21.128" class="difflineplus">+      color: CaptionText;</span>
<a href="#l21.129"></a><span id="l21.129" class="difflineplus">+    }</span>
<a href="#l21.130"></a><span id="l21.130" class="difflineplus">+</span>
<a href="#l21.131"></a><span id="l21.131" class="difflineplus">+    :root[tabsintitlebar]:not([inFullscreen]) #mail-menubar:-moz-window-inactive {</span>
<a href="#l21.132"></a><span id="l21.132" class="difflineplus">+      color: InactiveCaptionText;</span>
<a href="#l21.133"></a><span id="l21.133" class="difflineplus">+    }</span>
<a href="#l21.134"></a><span id="l21.134" class="difflineplus">+</span>
<a href="#l21.135"></a><span id="l21.135" class="difflineplus">+    #messengerWindow[tabsintitlebar] #mail-menubar &gt; menu {</span>
<a href="#l21.136"></a><span id="l21.136" class="difflineplus">+      color: inherit;</span>
<a href="#l21.137"></a><span id="l21.137" class="difflineplus">+    }</span>
<a href="#l21.138"></a><span id="l21.138" class="difflineplus">+</span>
<a href="#l21.139"></a><span id="l21.139" class="difflineplus">+    #tabs-toolbar .toolbarbutton-1,</span>
<a href="#l21.140"></a><span id="l21.140" class="difflineplus">+    .tabmail-arrowscrollbox &gt; .scrollbutton-up,</span>
<a href="#l21.141"></a><span id="l21.141" class="difflineplus">+    .tabmail-arrowscrollbox &gt; stack &gt; .scrollbutton-down {</span>
<a href="#l21.142"></a><span id="l21.142" class="difflineplus">+      fill: CaptionText;</span>
<a href="#l21.143"></a><span id="l21.143" class="difflineplus">+    }</span>
<a href="#l21.144"></a><span id="l21.144" class="difflineplus">+  }</span>
<a href="#l21.145"></a><span id="l21.145" class="difflineplus">+}</span>
<a href="#l21.146"></a><span id="l21.146" class="difflineplus">+</span>
<a href="#l21.147"></a><span id="l21.147" class="difflineplus">+/* Restored windows get an artificial border on windows, because the lwtheme background</span>
<a href="#l21.148"></a><span id="l21.148" class="difflineplus">+ * overlaps the regular window border. That isn't the case for us, so we avoid painting</span>
<a href="#l21.149"></a><span id="l21.149" class="difflineplus">+ * over the native border with our custom borders: */</span>
<a href="#l21.150"></a><span id="l21.150" class="difflineplus">+#navigator-toolbox {</span>
<a href="#l21.151"></a><span id="l21.151" class="difflineplus">+  /* These are !important to avoid specificity-wars with the selectors that add borders here. */</span>
<a href="#l21.152"></a><span id="l21.152" class="difflineplus">+  background-image: none !important;</span>
<a href="#l21.153"></a><span id="l21.153" class="difflineplus">+  border-top: none !important;</span>
<a href="#l21.154"></a><span id="l21.154" class="difflineplus">+  box-shadow: none !important;</span>
<a href="#l21.155"></a><span id="l21.155" class="difflineplus">+  padding-top: 0 !important;</span>
<a href="#l21.156"></a><span id="l21.156" class="difflineplus">+}</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

