<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 1756:d4ff0342ca4eb1630a3c889fa0c45c7c8099a485</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ d4ff0342ca4eb1630a3c889fa0c45c7c8099a485" />
<meta property="og:url" content="/comm-central/rev/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485" />
<meta property="og:description" content="Bug 471372 Customisable toolbars (but not menubars) in the browser r+sr=Neil" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / d4ff0342ca4eb1630a3c889fa0c45c7c8099a485 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485">shortlog</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485">files</a> |
changeset |
<a href="/comm-central/raw-rev/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485">raw</a>  | <a href="/comm-central/archive/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=471372">Bug 471372</a> Customisable toolbars (but not menubars) in the browser r+sr=Neil
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#80;&#104;&#105;&#108;&#105;&#112;&#32;&#67;&#104;&#101;&#101;&#32;&#60;&#112;&#104;&#105;&#108;&#105;&#112;&#46;&#99;&#104;&#101;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Mon, 26 Jan 2009 10:50:55 +0000</td></tr>

<tr>
 <td>changeset 1756</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485">d4ff0342ca4eb1630a3c889fa0c45c7c8099a485</a></td>
</tr>



<tr>
<td>parent 1755</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/022c81b250efe8be014c3b0b2db1295554cb1dc3">022c81b250efe8be014c3b0b2db1295554cb1dc3</a>
</td>
</tr>

<tr>
<td>child 1757</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/0e339aad00cf357d0a609e0a857bae05ca83c0f5">0e339aad00cf357d0a609e0a857bae05ca83c0f5</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=d4ff0342ca4eb1630a3c889fa0c45c7c8099a485">1410</a></td></tr>
<tr><td>push user</td><td>neil@parkwaycc.co.uk</td></tr>
<tr><td>push date</td><td class="date age">Mon, 26 Jan 2009 10:51:06 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@d4ff0342ca4e [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=d4ff0342ca4eb1630a3c889fa0c45c7c8099a485">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=d4ff0342ca4eb1630a3c889fa0c45c7c8099a485&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=d4ff0342ca4eb1630a3c889fa0c45c7c8099a485&newProject=comm-central&newRevision=d4ff0342ca4eb1630a3c889fa0c45c7c8099a485&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=d4ff0342ca4eb1630a3c889fa0c45c7c8099a485&newProject=comm-central&newRevision=d4ff0342ca4eb1630a3c889fa0c45c7c8099a485&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=d4ff0342ca4eb1630a3c889fa0c45c7c8099a485&newProject=comm-central&newRevision=d4ff0342ca4eb1630a3c889fa0c45c7c8099a485&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>

<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=471372">471372</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=471372">Bug 471372</a> Customisable toolbars (but not menubars) in the browser r+sr=Neil</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/browser-prefs.js">suite/browser/browser-prefs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/browser-prefs.js">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/browser-prefs.js">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/browser-prefs.js">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/browser-prefs.js">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/browser-prefs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/fullScreen.js">suite/browser/fullScreen.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/fullScreen.js">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/fullScreen.js">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/fullScreen.js">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/fullScreen.js">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/fullScreen.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.js">suite/browser/navigator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.js">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.js">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.js">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.js">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.xul">suite/browser/navigator.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.xul">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.xul">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.xul">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.xul">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigator.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigatorOverlay.xul">suite/browser/navigatorOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigatorOverlay.xul">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigatorOverlay.xul">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigatorOverlay.xul">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigatorOverlay.xul">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/browser/navigatorOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bindings/toolbar.xml">suite/common/bindings/toolbar.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bindings/toolbar.xml">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bindings/toolbar.xml">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bindings/toolbar.xml">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bindings/toolbar.xml">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bindings/toolbar.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bookmarks/bookmarksMenu.js">suite/common/bookmarks/bookmarksMenu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bookmarks/bookmarksMenu.js">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bookmarks/bookmarksMenu.js">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bookmarks/bookmarksMenu.js">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bookmarks/bookmarksMenu.js">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/bookmarks/bookmarksMenu.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/communicator.css">suite/common/communicator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/communicator.css">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/communicator.css">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/communicator.css">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/communicator.css">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/communicator.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/pref/pref-navigator.xul">suite/common/pref/pref-navigator.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/pref/pref-navigator.xul">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/pref/pref-navigator.xul">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/pref/pref-navigator.xul">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/pref/pref-navigator.xul">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/pref/pref-navigator.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.js">suite/common/utilityOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.js">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.js">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.js">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.js">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.xul">suite/common/utilityOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.xul">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.xul">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.xul">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.xul">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/common/utilityOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/browser/navigator.dtd">suite/locales/en-US/chrome/browser/navigator.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/browser/navigator.dtd">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/browser/navigator.dtd">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/browser/navigator.dtd">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/browser/navigator.dtd">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/browser/navigator.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/pref/pref-navigator.dtd">suite/locales/en-US/chrome/common/pref/pref-navigator.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/pref/pref-navigator.dtd">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/pref/pref-navigator.dtd">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/pref/pref-navigator.dtd">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/pref/pref-navigator.dtd">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/pref/pref-navigator.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/utilityOverlay.dtd">suite/locales/en-US/chrome/common/utilityOverlay.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/utilityOverlay.dtd">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/utilityOverlay.dtd">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/utilityOverlay.dtd">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/utilityOverlay.dtd">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/locales/en-US/chrome/common/utilityOverlay.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/communicator/win/toolbar.css">suite/themes/classic/communicator/win/toolbar.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/communicator/win/toolbar.css">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/communicator/win/toolbar.css">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/communicator/win/toolbar.css">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/communicator/win/toolbar.css">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/communicator/win/toolbar.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/jar.mn">suite/themes/classic/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/jar.mn">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/jar.mn">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/jar.mn">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/jar.mn">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/navigator/navigator.css">suite/themes/classic/navigator/navigator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/navigator/navigator.css">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/navigator/navigator.css">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/navigator/navigator.css">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/navigator/navigator.css">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/classic/navigator/navigator.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/global/toolbar.css">suite/themes/modern/global/toolbar.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/global/toolbar.css">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/global/toolbar.css">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/global/toolbar.css">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/global/toolbar.css">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/global/toolbar.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/jar.mn">suite/themes/modern/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/jar.mn">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/jar.mn">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/jar.mn">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/jar.mn">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/navigator/navigator.css">suite/themes/modern/navigator/navigator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/navigator/navigator.css">file</a> |
<a href="/comm-central/annotate/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/navigator/navigator.css">annotate</a> |
<a href="/comm-central/diff/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/navigator/navigator.css">diff</a> |
<a href="/comm-central/comparison/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/navigator/navigator.css">comparison</a> |
<a href="/comm-central/log/d4ff0342ca4eb1630a3c889fa0c45c7c8099a485/suite/themes/modern/navigator/navigator.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/browser/browser-prefs.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/browser/browser-prefs.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -72,20 +72,17 @@ pref(&quot;browser.send_pings&quot;, false);</span>
<a href="#l1.4"></a><span id="l1.4"> </span>
<a href="#l1.5"></a><span id="l1.5"> pref(&quot;browser.chrome.site_icons&quot;, true);</span>
<a href="#l1.6"></a><span id="l1.6"> pref(&quot;browser.chrome.favicons&quot;, false);</span>
<a href="#l1.7"></a><span id="l1.7"> pref(&quot;browser.chrome.image_icons.max_size&quot;, 1024);</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9"> // 0 = never, 1 = when in cache, 2 = always</span>
<a href="#l1.10"></a><span id="l1.10"> pref(&quot;browser.chrome.load_toolbar_icons&quot;, 0);</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-pref(&quot;browser.toolbars.showbutton.bookmarks&quot;, true);</span>
<a href="#l1.13"></a><span id="l1.13"> pref(&quot;browser.toolbars.showbutton.go&quot;,      false);</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-pref(&quot;browser.toolbars.showbutton.home&quot;,    true);</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-pref(&quot;browser.toolbars.showbutton.print&quot;,   true);</span>
<a href="#l1.16"></a><span id="l1.16"> pref(&quot;browser.toolbars.showbutton.search&quot;,  true);</span>
<a href="#l1.17"></a><span id="l1.17"> </span>
<a href="#l1.18"></a><span id="l1.18"> pref(&quot;browser.download.progressDnldDialog.keepAlive&quot;, true); // keep the dnload progress dialog up after dnload is complete</span>
<a href="#l1.19"></a><span id="l1.19"> pref(&quot;browser.download.progressDnldDialog.enable_launch_reveal_buttons&quot;, true);</span>
<a href="#l1.20"></a><span id="l1.20"> pref(&quot;browser.download.progressDnlgDialog.dontAskForLaunch&quot;, false);</span>
<a href="#l1.21"></a><span id="l1.21"> pref(&quot;browser.download.finished_download_sound&quot;, false);</span>
<a href="#l1.22"></a><span id="l1.22"> pref(&quot;browser.download.finished_download_alert&quot;, false);</span>
<a href="#l1.23"></a><span id="l1.23"> pref(&quot;browser.download.finished_sound_url&quot;, &quot;&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/browser/fullScreen.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/browser/fullScreen.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -37,17 +37,16 @@</span>
<a href="#l2.4"></a><span id="l2.4">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l2.5"></a><span id="l2.5"> </span>
<a href="#l2.6"></a><span id="l2.6"> var FullScreen = </span>
<a href="#l2.7"></a><span id="l2.7"> {</span>
<a href="#l2.8"></a><span id="l2.8">   toggle: function()</span>
<a href="#l2.9"></a><span id="l2.9">   {</span>
<a href="#l2.10"></a><span id="l2.10">     var show = window.fullScreen;</span>
<a href="#l2.11"></a><span id="l2.11">     // show/hide all menubars, toolbars, and statusbars (except the full screen toolbar)</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-    this.showXULChrome(&quot;menubar&quot;, show);</span>
<a href="#l2.13"></a><span id="l2.13">     this.showXULChrome(&quot;toolbar&quot;, show);</span>
<a href="#l2.14"></a><span id="l2.14">     this.showXULChrome(&quot;statusbar&quot;, show);</span>
<a href="#l2.15"></a><span id="l2.15"> </span>
<a href="#l2.16"></a><span id="l2.16">     var toolbox = getNavToolbox();</span>
<a href="#l2.17"></a><span id="l2.17">     if (show)</span>
<a href="#l2.18"></a><span id="l2.18">       toolbox.removeAttribute(&quot;inFullscreen&quot;);</span>
<a href="#l2.19"></a><span id="l2.19">     else</span>
<a href="#l2.20"></a><span id="l2.20">       toolbox.setAttribute(&quot;inFullscreen&quot;, true);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/browser/navigator.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/browser/navigator.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -72,40 +72,32 @@ var gFocusedDocument = null;</span>
<a href="#l3.4"></a><span id="l3.4"> const gButtonPrefListener =</span>
<a href="#l3.5"></a><span id="l3.5"> {</span>
<a href="#l3.6"></a><span id="l3.6">   domain: &quot;browser.toolbars.showbutton&quot;,</span>
<a href="#l3.7"></a><span id="l3.7">   init: function()</span>
<a href="#l3.8"></a><span id="l3.8">   {</span>
<a href="#l3.9"></a><span id="l3.9">     var array = pref.getChildList(this.domain, {});</span>
<a href="#l3.10"></a><span id="l3.10">     for (var i in array)</span>
<a href="#l3.11"></a><span id="l3.11">       this.updateButton(array[i]);</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-    this.updateSeparator();</span>
<a href="#l3.13"></a><span id="l3.13">   },</span>
<a href="#l3.14"></a><span id="l3.14">   observe: function(subject, topic, prefName)</span>
<a href="#l3.15"></a><span id="l3.15">   {</span>
<a href="#l3.16"></a><span id="l3.16">     // verify that we're changing a button pref</span>
<a href="#l3.17"></a><span id="l3.17">     if (topic != &quot;nsPref:changed&quot;)</span>
<a href="#l3.18"></a><span id="l3.18">       return;</span>
<a href="#l3.19"></a><span id="l3.19"> </span>
<a href="#l3.20"></a><span id="l3.20">     this.updateButton(prefName);</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">-    this.updateSeparator();</span>
<a href="#l3.22"></a><span id="l3.22">   },</span>
<a href="#l3.23"></a><span id="l3.23">   updateButton: function(prefName)</span>
<a href="#l3.24"></a><span id="l3.24">   {</span>
<a href="#l3.25"></a><span id="l3.25">     var buttonName = prefName.substr(this.domain.length+1);</span>
<a href="#l3.26"></a><span id="l3.26">     var buttonId = buttonName + &quot;-button&quot;;</span>
<a href="#l3.27"></a><span id="l3.27">     var button = document.getElementById(buttonId);</span>
<a href="#l3.28"></a><span id="l3.28">     if (button)</span>
<a href="#l3.29"></a><span id="l3.29">       button.hidden = !pref.getBoolPref(prefName);</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-  },</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-  updateSeparator: function()</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineminus">-  {</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineminus">-    // If all buttons before the separator are hidden, also hide the separator</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineminus">-    var separator = document.getElementById(&quot;home-bm-separator&quot;);</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineminus">-    separator.hidden = allLeftButtonsAreHidden();</span>
<a href="#l3.36"></a><span id="l3.36">   }</span>
<a href="#l3.37"></a><span id="l3.37"> };</span>
<a href="#l3.38"></a><span id="l3.38"> </span>
<a href="#l3.39"></a><span id="l3.39"> const gTabStripPrefListener =</span>
<a href="#l3.40"></a><span id="l3.40"> {</span>
<a href="#l3.41"></a><span id="l3.41">   domain: &quot;browser.tabs.autoHide&quot;,</span>
<a href="#l3.42"></a><span id="l3.42">   observe: function(subject, topic, prefName)</span>
<a href="#l3.43"></a><span id="l3.43">   {</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineat">@@ -361,31 +353,16 @@ function UpdateBackForwardButtons()</span>
<a href="#l3.45"></a><span id="l3.45">   if (upDisabled != !browser.currentURI.spec.replace(/[#?].*$/, &quot;&quot;).match(/\/[^\/]+\/./)) {</span>
<a href="#l3.46"></a><span id="l3.46">     if (upDisabled)</span>
<a href="#l3.47"></a><span id="l3.47">       upBroadcaster.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l3.48"></a><span id="l3.48">     else</span>
<a href="#l3.49"></a><span id="l3.49">       upBroadcaster.setAttribute(&quot;disabled&quot;, true);</span>
<a href="#l3.50"></a><span id="l3.50">   }</span>
<a href="#l3.51"></a><span id="l3.51"> }</span>
<a href="#l3.52"></a><span id="l3.52"> </span>
<a href="#l3.53"></a><span id="l3.53" class="difflineminus">-// Function allLeftButtonsAreHidden</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineminus">-// Returns true if all the buttons left of the separator in the personal</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineminus">-// toolbar are hidden, false otherwise.</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineminus">-// Used by nsButtonPrefListener to hide the separator if needed</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineminus">-function allLeftButtonsAreHidden()</span>
<a href="#l3.58"></a><span id="l3.58" class="difflineminus">-{</span>
<a href="#l3.59"></a><span id="l3.59" class="difflineminus">-  var buttonNode = document.getElementById(&quot;home-bm-separator&quot;).previousSibling;</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineminus">-  while (buttonNode) {</span>
<a href="#l3.61"></a><span id="l3.61" class="difflineminus">-    if (buttonNode.localName != &quot;tooltip&quot; &amp;&amp; !buttonNode.hidden)</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineminus">-      return false;</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineminus">-    buttonNode = buttonNode.previousSibling;</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineminus">-  }</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineminus">-  return true;</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineminus">-}</span>
<a href="#l3.67"></a><span id="l3.67" class="difflineminus">-</span>
<a href="#l3.68"></a><span id="l3.68"> const nsIBrowserDOMWindow = Components.interfaces.nsIBrowserDOMWindow;</span>
<a href="#l3.69"></a><span id="l3.69"> const nsIInterfaceRequestor = Components.interfaces.nsIInterfaceRequestor;</span>
<a href="#l3.70"></a><span id="l3.70"> </span>
<a href="#l3.71"></a><span id="l3.71"> function nsBrowserAccess() {</span>
<a href="#l3.72"></a><span id="l3.72"> }</span>
<a href="#l3.73"></a><span id="l3.73"> </span>
<a href="#l3.74"></a><span id="l3.74"> nsBrowserAccess.prototype = {</span>
<a href="#l3.75"></a><span id="l3.75">   openURI: function openURI(aURI, aOpener, aWhere, aContext) {</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineat">@@ -654,17 +631,17 @@ function Startup()</span>
<a href="#l3.77"></a><span id="l3.77">     // Focus the content area unless we're loading a blank page, or if</span>
<a href="#l3.78"></a><span id="l3.78">     // we weren't passed any arguments. This &quot;breaks&quot; the</span>
<a href="#l3.79"></a><span id="l3.79">     // javascript:window.open(); case where we don't get any arguments</span>
<a href="#l3.80"></a><span id="l3.80">     // either, but we're loading about:blank, but focusing the content</span>
<a href="#l3.81"></a><span id="l3.81">     // are is arguably correct in that case as well since the opener</span>
<a href="#l3.82"></a><span id="l3.82">     // is very likely to put some content in the new window, and then</span>
<a href="#l3.83"></a><span id="l3.83">     // the focus should be in the content area.</span>
<a href="#l3.84"></a><span id="l3.84">     var navBar = document.getElementById(&quot;nav-bar&quot;);</span>
<a href="#l3.85"></a><span id="l3.85" class="difflineminus">-    if (&quot;arguments&quot; in window &amp;&amp; uriToLoad == &quot;about:blank&quot; &amp;&amp; !navBar.hidden &amp;&amp; window.locationbar.visible)</span>
<a href="#l3.86"></a><span id="l3.86" class="difflineplus">+    if (&quot;arguments&quot; in window &amp;&amp; uriToLoad == &quot;about:blank&quot; &amp;&amp; isElementVisible(gURLBar))</span>
<a href="#l3.87"></a><span id="l3.87">       setTimeout(WindowFocusTimerCallback, 0, gURLBar);</span>
<a href="#l3.88"></a><span id="l3.88">     else</span>
<a href="#l3.89"></a><span id="l3.89">       setTimeout(WindowFocusTimerCallback, 0, content);</span>
<a href="#l3.90"></a><span id="l3.90"> </span>
<a href="#l3.91"></a><span id="l3.91">     // Perform default browser checking (after window opens).</span>
<a href="#l3.92"></a><span id="l3.92">     setTimeout( checkForDefaultBrowser, 0 );</span>
<a href="#l3.93"></a><span id="l3.93"> </span>
<a href="#l3.94"></a><span id="l3.94">     // hook up browser access support</span>
<a href="#l3.95"></a><span id="l3.95" class="difflineat">@@ -697,16 +674,21 @@ function Startup()</span>
<a href="#l3.96"></a><span id="l3.96">   // BiDi UI</span>
<a href="#l3.97"></a><span id="l3.97">   gShowBiDi = isBidiEnabled();</span>
<a href="#l3.98"></a><span id="l3.98">   if (gShowBiDi) {</span>
<a href="#l3.99"></a><span id="l3.99">     document.getElementById(&quot;documentDirection-swap&quot;).hidden = false;</span>
<a href="#l3.100"></a><span id="l3.100">     document.getElementById(&quot;textfieldDirection-separator&quot;).hidden = false;</span>
<a href="#l3.101"></a><span id="l3.101">     document.getElementById(&quot;textfieldDirection-swap&quot;).hidden = false;</span>
<a href="#l3.102"></a><span id="l3.102">   }</span>
<a href="#l3.103"></a><span id="l3.103"> </span>
<a href="#l3.104"></a><span id="l3.104" class="difflineplus">+  // Before and after callbacks for the customizeToolbar code</span>
<a href="#l3.105"></a><span id="l3.105" class="difflineplus">+  getNavToolbox().customizeInit = BrowserToolboxCustomizeInit;</span>
<a href="#l3.106"></a><span id="l3.106" class="difflineplus">+  getNavToolbox().customizeDone = BrowserToolboxCustomizeDone;</span>
<a href="#l3.107"></a><span id="l3.107" class="difflineplus">+  getNavToolbox().customizeChange = BrowserToolboxCustomizeChange;</span>
<a href="#l3.108"></a><span id="l3.108" class="difflineplus">+</span>
<a href="#l3.109"></a><span id="l3.109">   // now load bookmarks after a delay</span>
<a href="#l3.110"></a><span id="l3.110">   setTimeout(LoadBookmarksCallback, 0);</span>
<a href="#l3.111"></a><span id="l3.111"> }</span>
<a href="#l3.112"></a><span id="l3.112"> </span>
<a href="#l3.113"></a><span id="l3.113"> function LoadBookmarksCallback()</span>
<a href="#l3.114"></a><span id="l3.114"> {</span>
<a href="#l3.115"></a><span id="l3.115">   // loads the services</span>
<a href="#l3.116"></a><span id="l3.116">   initServices();</span>
<a href="#l3.117"></a><span id="l3.117" class="difflineat">@@ -1054,17 +1036,17 @@ function getSearchUrl(attr)</span>
<a href="#l3.118"></a><span id="l3.118"> }</span>
<a href="#l3.119"></a><span id="l3.119"> </span>
<a href="#l3.120"></a><span id="l3.120"> function QualifySearchTerm()</span>
<a href="#l3.121"></a><span id="l3.121"> {</span>
<a href="#l3.122"></a><span id="l3.122">   // If the text in the URL bar is the same as the currently loaded</span>
<a href="#l3.123"></a><span id="l3.123">   // page's URL then treat this as an empty search term.  This way</span>
<a href="#l3.124"></a><span id="l3.124">   // the user is taken to the search page where s/he can enter a term.</span>
<a href="#l3.125"></a><span id="l3.125">   if (gBrowser.userTypedValue !== null)</span>
<a href="#l3.126"></a><span id="l3.126" class="difflineminus">-    return document.getElementById(&quot;urlbar&quot;).value;</span>
<a href="#l3.127"></a><span id="l3.127" class="difflineplus">+    return gURLBar.value;</span>
<a href="#l3.128"></a><span id="l3.128">   return &quot;&quot;;</span>
<a href="#l3.129"></a><span id="l3.129"> }</span>
<a href="#l3.130"></a><span id="l3.130"> </span>
<a href="#l3.131"></a><span id="l3.131"> function OpenSearch(tabName, searchStr, newWindowOrTabFlag, reverseBackgroundPref)</span>
<a href="#l3.132"></a><span id="l3.132"> {</span>
<a href="#l3.133"></a><span id="l3.133">   //This function needs to be split up someday.</span>
<a href="#l3.134"></a><span id="l3.134"> </span>
<a href="#l3.135"></a><span id="l3.135">   var autoOpenSearchPanel = false;</span>
<a href="#l3.136"></a><span id="l3.136" class="difflineat">@@ -1288,18 +1270,17 @@ function BrowserOpenTab()</span>
<a href="#l3.137"></a><span id="l3.137"> </span>
<a href="#l3.138"></a><span id="l3.138">     // Open a new window if someone requests a new tab when no browser window is open</span>
<a href="#l3.139"></a><span id="l3.139">     if (!gBrowser) {</span>
<a href="#l3.140"></a><span id="l3.140">       openDialog(getBrowserURL(), &quot;_blank&quot;, &quot;chrome,all,dialog=no&quot;, uriToLoad);</span>
<a href="#l3.141"></a><span id="l3.141">       return;</span>
<a href="#l3.142"></a><span id="l3.142">     }</span>
<a href="#l3.143"></a><span id="l3.143"> </span>
<a href="#l3.144"></a><span id="l3.144">     gBrowser.selectedTab = gBrowser.addTab(uriToLoad);</span>
<a href="#l3.145"></a><span id="l3.145" class="difflineminus">-    var navBar = document.getElementById(&quot;nav-bar&quot;);</span>
<a href="#l3.146"></a><span id="l3.146" class="difflineminus">-    if (uriToLoad == &quot;about:blank&quot; &amp;&amp; !navBar.hidden &amp;&amp; window.locationbar.visible)</span>
<a href="#l3.147"></a><span id="l3.147" class="difflineplus">+    if (uriToLoad == &quot;about:blank&quot; &amp;&amp; isElementVisible(gURLBar))</span>
<a href="#l3.148"></a><span id="l3.148">       setTimeout(&quot;gURLBar.focus();&quot;, 0);</span>
<a href="#l3.149"></a><span id="l3.149">     else</span>
<a href="#l3.150"></a><span id="l3.150">       setTimeout(&quot;content.focus();&quot;, 0);</span>
<a href="#l3.151"></a><span id="l3.151">   }</span>
<a href="#l3.152"></a><span id="l3.152"> }</span>
<a href="#l3.153"></a><span id="l3.153"> </span>
<a href="#l3.154"></a><span id="l3.154"> /* Show file picker dialog configured for opening a file, and return </span>
<a href="#l3.155"></a><span id="l3.155">  * the selected nsIFileURL instance. */</span>
<a href="#l3.156"></a><span id="l3.156" class="difflineat">@@ -2060,26 +2041,27 @@ function checkForDefaultBrowser()</span>
<a href="#l3.157"></a><span id="l3.157">       // integration dialog has come up.</span>
<a href="#l3.158"></a><span id="l3.158">       SidebarRebuild();</span>
<a href="#l3.159"></a><span id="l3.159">     }</span>
<a href="#l3.160"></a><span id="l3.160">   }</span>
<a href="#l3.161"></a><span id="l3.161"> }</span>
<a href="#l3.162"></a><span id="l3.162"> </span>
<a href="#l3.163"></a><span id="l3.163"> function ShowAndSelectContentsOfURLBar()</span>
<a href="#l3.164"></a><span id="l3.164"> {</span>
<a href="#l3.165"></a><span id="l3.165" class="difflineminus">-  var navBar = document.getElementById(&quot;nav-bar&quot;);</span>
<a href="#l3.166"></a><span id="l3.166" class="difflineminus">-  </span>
<a href="#l3.167"></a><span id="l3.167" class="difflineminus">-  // If it's hidden, show it.</span>
<a href="#l3.168"></a><span id="l3.168" class="difflineminus">-  if (navBar.getAttribute(&quot;hidden&quot;) == &quot;true&quot;)</span>
<a href="#l3.169"></a><span id="l3.169" class="difflineminus">-    goToggleToolbar('nav-bar','cmd_viewnavbar');</span>
<a href="#l3.170"></a><span id="l3.170" class="difflineplus">+  if (!isElementVisible(gURLBar)) {</span>
<a href="#l3.171"></a><span id="l3.171" class="difflineplus">+    BrowserOpenWindow();</span>
<a href="#l3.172"></a><span id="l3.172" class="difflineplus">+    return;</span>
<a href="#l3.173"></a><span id="l3.173" class="difflineplus">+  }</span>
<a href="#l3.174"></a><span id="l3.174"> </span>
<a href="#l3.175"></a><span id="l3.175" class="difflineminus">-  if (gURLBar.value)</span>
<a href="#l3.176"></a><span id="l3.176" class="difflineminus">-    gURLBar.select();</span>
<a href="#l3.177"></a><span id="l3.177" class="difflineminus">-  else</span>
<a href="#l3.178"></a><span id="l3.178" class="difflineminus">-    gURLBar.focus();</span>
<a href="#l3.179"></a><span id="l3.179" class="difflineplus">+  if (!gURLBar.readOnly) {</span>
<a href="#l3.180"></a><span id="l3.180" class="difflineplus">+    if (gURLBar.value)</span>
<a href="#l3.181"></a><span id="l3.181" class="difflineplus">+      gURLBar.select();</span>
<a href="#l3.182"></a><span id="l3.182" class="difflineplus">+    else</span>
<a href="#l3.183"></a><span id="l3.183" class="difflineplus">+      gURLBar.focus();</span>
<a href="#l3.184"></a><span id="l3.184" class="difflineplus">+  }</span>
<a href="#l3.185"></a><span id="l3.185"> }</span>
<a href="#l3.186"></a><span id="l3.186"> </span>
<a href="#l3.187"></a><span id="l3.187"> // If &quot;ESC&quot; is pressed in the url bar, we replace the urlbar's value with the url of the page</span>
<a href="#l3.188"></a><span id="l3.188"> // and highlight it, unless it is about:blank, where we reset it to &quot;&quot;.</span>
<a href="#l3.189"></a><span id="l3.189"> function handleURLBarRevert()</span>
<a href="#l3.190"></a><span id="l3.190"> {</span>
<a href="#l3.191"></a><span id="l3.191">   var url = getWebNavigation().currentURI.spec;</span>
<a href="#l3.192"></a><span id="l3.192">   var throbberElement = document.getElementById(&quot;navigator-throbber&quot;);</span>
<a href="#l3.193"></a><span id="l3.193" class="difflineat">@@ -2472,8 +2454,63 @@ function convertFromUnicode(charset, str</span>
<a href="#l3.194"></a><span id="l3.194"> </span>
<a href="#l3.195"></a><span id="l3.195"> function getNotificationBox(aWindow)</span>
<a href="#l3.196"></a><span id="l3.196"> {</span>
<a href="#l3.197"></a><span id="l3.197">   return aWindow.QueryInterface(Components.interfaces.nsIInterfaceRequestor)</span>
<a href="#l3.198"></a><span id="l3.198">                 .getInterface(Components.interfaces.nsIWebNavigation)</span>
<a href="#l3.199"></a><span id="l3.199">                 .QueryInterface(Components.interfaces.nsIDocShell)</span>
<a href="#l3.200"></a><span id="l3.200">                 .chromeEventHandler.parentNode.wrappedJSObject;</span>
<a href="#l3.201"></a><span id="l3.201"> }</span>
<a href="#l3.202"></a><span id="l3.202" class="difflineplus">+</span>
<a href="#l3.203"></a><span id="l3.203" class="difflineplus">+function BrowserToolboxCustomizeInit()</span>
<a href="#l3.204"></a><span id="l3.204" class="difflineplus">+{</span>
<a href="#l3.205"></a><span id="l3.205" class="difflineplus">+  toolboxCustomizeInit(&quot;main-menubar&quot;);</span>
<a href="#l3.206"></a><span id="l3.206" class="difflineplus">+}</span>
<a href="#l3.207"></a><span id="l3.207" class="difflineplus">+</span>
<a href="#l3.208"></a><span id="l3.208" class="difflineplus">+function BrowserToolboxCustomizeDone(aToolboxChanged)</span>
<a href="#l3.209"></a><span id="l3.209" class="difflineplus">+{</span>
<a href="#l3.210"></a><span id="l3.210" class="difflineplus">+  toolboxCustomizeDone(&quot;main-menubar&quot;, getNavToolbox(), aToolboxChanged);</span>
<a href="#l3.211"></a><span id="l3.211" class="difflineplus">+</span>
<a href="#l3.212"></a><span id="l3.212" class="difflineplus">+  // Update the urlbar</span>
<a href="#l3.213"></a><span id="l3.213" class="difflineplus">+  var value = gBrowser.userTypedValue;</span>
<a href="#l3.214"></a><span id="l3.214" class="difflineplus">+  if (value == null) {</span>
<a href="#l3.215"></a><span id="l3.215" class="difflineplus">+    let URL = getWebNavigation().currentURI.spec;</span>
<a href="#l3.216"></a><span id="l3.216" class="difflineplus">+    if (URL != &quot;about:blank&quot; || content.opener) {</span>
<a href="#l3.217"></a><span id="l3.217" class="difflineplus">+      // XXXRatty: we might need URL = losslessDecodeURI(uri) from Firefox</span>
<a href="#l3.218"></a><span id="l3.218" class="difflineplus">+      // if we we are affected by bug 410726, bug 452979, etc.</span>
<a href="#l3.219"></a><span id="l3.219" class="difflineplus">+      // (Unfortunately I don't have access to 452979)</span>
<a href="#l3.220"></a><span id="l3.220" class="difflineplus">+      value = URL;</span>
<a href="#l3.221"></a><span id="l3.221" class="difflineplus">+    }</span>
<a href="#l3.222"></a><span id="l3.222" class="difflineplus">+    else</span>
<a href="#l3.223"></a><span id="l3.223" class="difflineplus">+      value = &quot;&quot;;</span>
<a href="#l3.224"></a><span id="l3.224" class="difflineplus">+  }</span>
<a href="#l3.225"></a><span id="l3.225" class="difflineplus">+  gURLBar.value = value;</span>
<a href="#l3.226"></a><span id="l3.226" class="difflineplus">+</span>
<a href="#l3.227"></a><span id="l3.227" class="difflineplus">+  gButtonPrefListener.updateButton(&quot;browser.toolbars.showbutton.go&quot;);</span>
<a href="#l3.228"></a><span id="l3.228" class="difflineplus">+  gButtonPrefListener.updateButton(&quot;browser.toolbars.showbutton.search&quot;);</span>
<a href="#l3.229"></a><span id="l3.229" class="difflineplus">+</span>
<a href="#l3.230"></a><span id="l3.230" class="difflineplus">+  // XXXRatty: Remember to update Feedhandler once we get one.</span>
<a href="#l3.231"></a><span id="l3.231" class="difflineplus">+</span>
<a href="#l3.232"></a><span id="l3.232" class="difflineplus">+  // fix up the personal toolbar folder</span>
<a href="#l3.233"></a><span id="l3.233" class="difflineplus">+  var bt = document.getElementById(&quot;bookmarks-ptf&quot;);</span>
<a href="#l3.234"></a><span id="l3.234" class="difflineplus">+  if (isElementVisible(bt)) {</span>
<a href="#l3.235"></a><span id="l3.235" class="difflineplus">+    // XXXRatty: do we still need to reinstate the BookmarksToolbarRDFObserver?</span>
<a href="#l3.236"></a><span id="l3.236" class="difflineplus">+    let btchevron = document.getElementById(&quot;bookmarks-chevron&quot;);</span>
<a href="#l3.237"></a><span id="l3.237" class="difflineplus">+    // no uniqueness is guaranteed, so we have to remove first</span>
<a href="#l3.238"></a><span id="l3.238" class="difflineplus">+    try {</span>
<a href="#l3.239"></a><span id="l3.239" class="difflineplus">+      bt.database.RemoveObserver(BookmarksToolbarRDFObserver);</span>
<a href="#l3.240"></a><span id="l3.240" class="difflineplus">+    } catch (ex) {</span>
<a href="#l3.241"></a><span id="l3.241" class="difflineplus">+      // ignore</span>
<a href="#l3.242"></a><span id="l3.242" class="difflineplus">+    }</span>
<a href="#l3.243"></a><span id="l3.243" class="difflineplus">+    bt.database.AddObserver(BookmarksToolbarRDFObserver);</span>
<a href="#l3.244"></a><span id="l3.244" class="difflineplus">+    bt.builder.rebuild();</span>
<a href="#l3.245"></a><span id="l3.245" class="difflineplus">+    btchevron.builder.rebuild();</span>
<a href="#l3.246"></a><span id="l3.246" class="difflineplus">+</span>
<a href="#l3.247"></a><span id="l3.247" class="difflineplus">+    // fake a resize; this function takes care of flowing bookmarks</span>
<a href="#l3.248"></a><span id="l3.248" class="difflineplus">+    // from the bar to the overflow item</span>
<a href="#l3.249"></a><span id="l3.249" class="difflineplus">+    BookmarksToolbar.resizeFunc(null);</span>
<a href="#l3.250"></a><span id="l3.250" class="difflineplus">+  }</span>
<a href="#l3.251"></a><span id="l3.251" class="difflineplus">+}</span>
<a href="#l3.252"></a><span id="l3.252" class="difflineplus">+</span>
<a href="#l3.253"></a><span id="l3.253" class="difflineplus">+function BrowserToolboxCustomizeChange(event)</span>
<a href="#l3.254"></a><span id="l3.254" class="difflineplus">+{</span>
<a href="#l3.255"></a><span id="l3.255" class="difflineplus">+  toolboxCustomizeChange(getNavToolbox(), event);</span>
<a href="#l3.256"></a><span id="l3.256" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/browser/navigator.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/browser/navigator.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -105,16 +105,18 @@</span>
<a href="#l4.4"></a><span id="l4.4">     &lt;commandset id=&quot;globalEditMenuItems&quot;/&gt;</span>
<a href="#l4.5"></a><span id="l4.5">     &lt;commandset id=&quot;selectEditMenuItems&quot;/&gt;</span>
<a href="#l4.6"></a><span id="l4.6">     &lt;commandset id=&quot;undoEditMenuItems&quot;/&gt;</span>
<a href="#l4.7"></a><span id="l4.7">     &lt;commandset id=&quot;clipboardEditMenuItems&quot;/&gt;</span>
<a href="#l4.8"></a><span id="l4.8">     &lt;!-- &lt;command id=&quot;cmd_pageSetup&quot;/&gt; --&gt;</span>
<a href="#l4.9"></a><span id="l4.9">     &lt;command id=&quot;toggleSidebar&quot;/&gt;</span>
<a href="#l4.10"></a><span id="l4.10">   &lt;/commandset&gt;</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+  &lt;commandset id=&quot;mainCommandSet&quot;/&gt; &lt;!-- Firefox extension compatibility --&gt;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+</span>
<a href="#l4.14"></a><span id="l4.14">   &lt;!-- broadcasters are appended from the overlay --&gt;</span>
<a href="#l4.15"></a><span id="l4.15">   &lt;broadcasterset id=&quot;navBroadcasters&quot;/&gt;</span>
<a href="#l4.16"></a><span id="l4.16">   &lt;broadcasterset id=&quot;mainBroadcasterSet&quot;/&gt; &lt;!-- Firefox extension compatibility --&gt;</span>
<a href="#l4.17"></a><span id="l4.17"> </span>
<a href="#l4.18"></a><span id="l4.18">   &lt;!-- keys are appended from the overlay --&gt;</span>
<a href="#l4.19"></a><span id="l4.19">   &lt;keyset id=&quot;navKeys&quot;&gt;</span>
<a href="#l4.20"></a><span id="l4.20">     &lt;key id=&quot;showHideSidebar&quot;/&gt;</span>
<a href="#l4.21"></a><span id="l4.21">   &lt;/keyset&gt;</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineat">@@ -124,16 +126,20 @@</span>
<a href="#l4.23"></a><span id="l4.23">   &lt;popup id=&quot;forwardMenu&quot; position=&quot;after_start&quot; onpopupshowing=&quot;return BrowserForwardMenu(event);&quot; oncommand=&quot;gotoHistoryIndex(event);&quot;/&gt;</span>
<a href="#l4.24"></a><span id="l4.24">   &lt;tooltip id=&quot;aHTMLTooltip&quot; onpopupshowing=&quot;return FillInHTMLTooltip(document.tooltipNode);&quot;/&gt;</span>
<a href="#l4.25"></a><span id="l4.25">   &lt;popup id=&quot;sidebarPopup&quot;/&gt;</span>
<a href="#l4.26"></a><span id="l4.26"> </span>
<a href="#l4.27"></a><span id="l4.27">   &lt;popupset id=&quot;bookmarksPopupset&quot;/&gt;</span>
<a href="#l4.28"></a><span id="l4.28">   &lt;tooltip  id=&quot;btTooltip&quot;/&gt;</span>
<a href="#l4.29"></a><span id="l4.29">   &lt;template id=&quot;bookmarksMenuTemplate&quot;/&gt;</span>
<a href="#l4.30"></a><span id="l4.30"> </span>
<a href="#l4.31"></a><span id="l4.31" class="difflineplus">+  &lt;tooltip id=&quot;home-button-tooltip&quot; noautohide=&quot;true&quot;&gt;</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineplus">+    &lt;vbox id=&quot;home-button-tooltip-inner&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineplus">+  &lt;/tooltip&gt;</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineplus">+</span>
<a href="#l4.35"></a><span id="l4.35">   &lt;popupset id=&quot;mainPopupSet&quot;/&gt; &lt;!-- Firefox extension compatibility --&gt;</span>
<a href="#l4.36"></a><span id="l4.36"> </span>
<a href="#l4.37"></a><span id="l4.37">   &lt;popup id=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l4.38"></a><span id="l4.38"> </span>
<a href="#l4.39"></a><span id="l4.39">   &lt;!-- context menu --&gt;</span>
<a href="#l4.40"></a><span id="l4.40">   &lt;popupset id=&quot;contentAreaContextSet&quot;/&gt;</span>
<a href="#l4.41"></a><span id="l4.41"> </span>
<a href="#l4.42"></a><span id="l4.42">   &lt;!-- XXXCallek this should be loadURI rather than subscribe* here --&gt;</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineat">@@ -147,215 +153,254 @@</span>
<a href="#l4.44"></a><span id="l4.44">     &lt;!-- Menu --&gt;</span>
<a href="#l4.45"></a><span id="l4.45">     &lt;menubar id=&quot;main-menubar&quot; persist=&quot;collapsed&quot; grippytooltiptext=&quot;&amp;menuBar.tooltip;&quot;/&gt;</span>
<a href="#l4.46"></a><span id="l4.46"> </span>
<a href="#l4.47"></a><span id="l4.47">     &lt;toolbar class=&quot;toolbar-primary chromeclass-toolbar&quot; id=&quot;nav-bar&quot; persist=&quot;collapsed&quot; </span>
<a href="#l4.48"></a><span id="l4.48">              grippytooltiptext=&quot;&amp;navigationToolbar.tooltip;&quot;</span>
<a href="#l4.49"></a><span id="l4.49">              fullscreentoolbar=&quot;true&quot; customizable=&quot;true&quot;</span>
<a href="#l4.50"></a><span id="l4.50">              toolbarname=&quot;&amp;navbarCmd.label;&quot; accesskey=&quot;&amp;navbarCmd.accesskey;&quot;</span>
<a href="#l4.51"></a><span id="l4.51">              togglemenuitem=&quot;cmd_viewnavbar&quot;</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineplus">+             defaultset=&quot;back-button,forward-button,reload-button,stop-button,nav-bar-inner,print-button,throbber-box,window-controls&quot;</span>
<a href="#l4.53"></a><span id="l4.53">              context=&quot;toolbar-context-menu&quot;&gt;</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineminus">-        &lt;toolbarbutton id=&quot;back-button&quot; type=&quot;menu-button&quot;</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineminus">-                       class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot;</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineminus">-                       label=&quot;&amp;backButton.label;&quot;</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineminus">-                       oncommand=&quot;if (event.target==this) BrowserBack(); else gotoHistoryIndex(event);&quot;</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineminus">-                       observes=&quot;canGoBack&quot; context=&quot;backMenu&quot;</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineminus">-                       tooltiptext=&quot;&amp;backButton.tooltip;&quot;&gt;</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineminus">-          &lt;menupopup context=&quot;&quot; onpopupshowing=&quot;BrowserBackMenu(event);&quot;/&gt;</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineminus">-        &lt;/toolbarbutton&gt;</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineminus">-</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-        &lt;toolbarbutton id=&quot;forward-button&quot; type=&quot;menu-button&quot;</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineminus">-                       class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot;</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineminus">-                       label=&quot;&amp;forwardButton.label;&quot;</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineminus">-                       oncommand=&quot;if (event.target==this) BrowserForward(); else gotoHistoryIndex(event);&quot;</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineminus">-                       observes=&quot;canGoForward&quot; context=&quot;forwardMenu&quot;</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineminus">-                       tooltiptext=&quot;&amp;forwardButton.tooltip;&quot;&gt;</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineminus">-          &lt;menupopup context=&quot;&quot; onpopupshowing=&quot;BrowserForwardMenu(event);&quot;/&gt;</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineminus">-        &lt;/toolbarbutton&gt;</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineminus">-</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineminus">-        &lt;toolbarbutton id=&quot;reload-button&quot;</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineminus">-                       class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot;</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineminus">-                       label=&quot;&amp;reloadButton.label;&quot;</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineminus">-                       oncommand=&quot;if (event.shiftKey) BrowserReloadSkipCache(); else BrowserReload();&quot;  </span>
<a href="#l4.76"></a><span id="l4.76" class="difflineminus">-                       tooltiptext=&quot;&amp;reloadButton.tooltip;&quot;/&gt;</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineminus">-</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineminus">-        &lt;toolbarbutton id=&quot;stop-button&quot;</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineminus">-                       class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot;</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineminus">-                       label=&quot;&amp;stopButton.label;&quot;</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineminus">-                       oncommand=&quot;BrowserStop();&quot; observes=&quot;canStop&quot;  </span>
<a href="#l4.82"></a><span id="l4.82" class="difflineminus">-                       tooltiptext=&quot;&amp;stopButton.tooltip;&quot;/&gt;</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineminus">-</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineminus">-      &lt;hbox id=&quot;nav-bar-inner&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineminus">-        &lt;!-- Need hidden label on textbox for accessibility, because what </span>
<a href="#l4.86"></a><span id="l4.86" class="difflineminus">-             receives focus needs a text name --&gt;</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineminus">-        &lt;label control=&quot;urlbar&quot; hidden=&quot;true&quot; value=&quot;&amp;locationBar.title;&quot;/&gt;</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineminus">-        &lt;textbox id=&quot;urlbar&quot; class=&quot;chromeclass-location uri-element&quot; flex=&quot;1&quot;</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineminus">-                 type=&quot;autocomplete&quot; autocompletesearch=&quot;history file&quot; </span>
<a href="#l4.90"></a><span id="l4.90" class="difflineminus">-                 timeout=&quot;50&quot; maxrows=&quot;6&quot;</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineminus">-                 disablehistory=&quot;false&quot; accesskey=&quot;&amp;locationBar.accesskey;&quot;</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineminus">-                 defaultSearchEngine=&quot;true&quot; tabscrolling=&quot;true&quot;</span>
<a href="#l4.93"></a><span id="l4.93" class="difflineminus">-                 showcommentcolumn=&quot;true&quot;</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineminus">-                 inputtooltiptext=&quot;&amp;locationBar.tooltip;&quot;</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineminus">-                 newlines=&quot;stripsurroundingwhitespace&quot;</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineminus">-                 oninput=&quot;gBrowser.userTypedValue = this.value;&quot;</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineminus">-                 ontextentered=&quot;return handleURLBarCommand(eventParam, domEvent);&quot;</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineminus">-                 ontextreverted=&quot;return handleURLBarRevert();&quot;</span>
<a href="#l4.99"></a><span id="l4.99" class="difflineminus">-                 onfocus=&quot;URLBarFocusHandler(event);&quot;</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineminus">-                 onmousedown=&quot;URLBarMouseDownHandler(event);&quot;</span>
<a href="#l4.101"></a><span id="l4.101" class="difflineminus">-                 onclick=&quot;URLBarClickHandler(event);&quot;&gt;</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineminus">-          &lt;deck id=&quot;page-proxy-deck&quot; onclick=&quot;handlePageProxyClick(event);&quot;&gt;</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineminus">-            &lt;image id=&quot;page-proxy-button&quot;</span>
<a href="#l4.104"></a><span id="l4.104" class="difflineminus">-                   ondraggesture=&quot;PageProxyDragGesture(event);&quot;</span>
<a href="#l4.105"></a><span id="l4.105" class="difflineminus">-                   tooltiptext=&quot;&amp;proxyIcon.tooltip;&quot;/&gt;</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineminus">-            &lt;image id=&quot;page-proxy-favicon&quot; validate=&quot;never&quot;</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineminus">-                   ondraggesture=&quot;PageProxyDragGesture(event);&quot;</span>
<a href="#l4.108"></a><span id="l4.108" class="difflineminus">-                   onload=&quot;this.parentNode.selectedIndex = 1;</span>
<a href="#l4.109"></a><span id="l4.109" class="difflineminus">-                           event.stopPropagation();</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineminus">-                           HandleBookmarkIcon(this.src, true);&quot;</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineminus">-                   onerror=&quot;gBrowser.addToMissedIconCache(this.src); HandleBookmarkIcon(this.src, false);&quot;</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineminus">-                   tooltiptext=&quot;&amp;proxyIcon.tooltip;&quot;/&gt;</span>
<a href="#l4.113"></a><span id="l4.113" class="difflineminus">-          &lt;/deck&gt;</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineminus">-          &lt;hbox id=&quot;urlbar-icons&quot;&gt;</span>
<a href="#l4.115"></a><span id="l4.115" class="difflineminus">-            &lt;image id=&quot;feedsButton&quot; hidden=&quot;true&quot; popup=&quot;feedsPopup&quot;/&gt;</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineminus">-          &lt;menupopup id=&quot;ubhist-popup&quot; class=&quot;autocomplete-history-popup&quot;</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineminus">-                     popupalign=&quot;topleft&quot; popupanchor=&quot;bottomleft&quot;</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineminus">-                     onpopupshowing=&quot;createUBHistoryMenu(event.target);&quot; </span>
<a href="#l4.120"></a><span id="l4.120" class="difflineminus">-                     oncommand=&quot;executeUrlBarHistoryCommand(event.target);&quot;/&gt;</span>
<a href="#l4.121"></a><span id="l4.121" class="difflineminus">-        &lt;/textbox&gt;</span>
<a href="#l4.122"></a><span id="l4.122" class="difflineminus">-</span>
<a href="#l4.123"></a><span id="l4.123" class="difflineminus">-        &lt;button id=&quot;go-button&quot; class=&quot;button-toolbar chromeclass-location&quot;</span>
<a href="#l4.124"></a><span id="l4.124" class="difflineminus">-                label=&quot;&amp;goButton.label;&quot; hidden=&quot;true&quot;</span>
<a href="#l4.125"></a><span id="l4.125" class="difflineminus">-                oncommand=&quot;addToUrlbarHistory(gURLBar.value); BrowserLoadURL(event);&quot;</span>
<a href="#l4.126"></a><span id="l4.126" class="difflineminus">-                ondragover=&quot;nsDragAndDrop.dragOver(event, goButtonObserver);&quot;</span>
<a href="#l4.127"></a><span id="l4.127" class="difflineminus">-                ondragdrop=&quot;nsDragAndDrop.drop(event, goButtonObserver);&quot;</span>
<a href="#l4.128"></a><span id="l4.128" class="difflineminus">-                ondragexit=&quot;nsDragAndDrop.dragExit(event, goButtonObserver);&quot;</span>
<a href="#l4.129"></a><span id="l4.129" class="difflineminus">-                tooltiptext=&quot;&amp;goButton.tooltip;&quot; default=&quot;true&quot;/&gt; </span>
<a href="#l4.130"></a><span id="l4.130" class="difflineminus">-</span>
<a href="#l4.131"></a><span id="l4.131" class="difflineminus">-        &lt;button id=&quot;search-button&quot; class=&quot;button-toolbar chromeclass-location&quot;</span>
<a href="#l4.132"></a><span id="l4.132" class="difflineminus">-                label=&quot;&amp;searchButton.label;&quot;</span>
<a href="#l4.133"></a><span id="l4.133" class="difflineminus">-                oncommand=&quot;OpenSearch('internet', QualifySearchTerm());&quot; </span>
<a href="#l4.134"></a><span id="l4.134" class="difflineminus">-                ondragover=&quot;nsDragAndDrop.dragOver(event, searchButtonObserver);&quot;</span>
<a href="#l4.135"></a><span id="l4.135" class="difflineminus">-                ondragdrop=&quot;nsDragAndDrop.drop(event, searchButtonObserver);&quot;</span>
<a href="#l4.136"></a><span id="l4.136" class="difflineminus">-                ondragexit=&quot;nsDragAndDrop.dragExit(event, searchButtonObserver);&quot;</span>
<a href="#l4.137"></a><span id="l4.137" class="difflineminus">-                tooltiptext=&quot;&amp;searchButton.tooltip;&quot;/&gt; </span>
<a href="#l4.138"></a><span id="l4.138" class="difflineminus">-      &lt;/hbox&gt;</span>
<a href="#l4.139"></a><span id="l4.139" class="difflineminus">-</span>
<a href="#l4.140"></a><span id="l4.140" class="difflineminus">-      &lt;toolbarbutton id=&quot;print-button&quot; type=&quot;menu-button&quot;</span>
<a href="#l4.141"></a><span id="l4.141" class="difflineminus">-                     class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot;</span>
<a href="#l4.142"></a><span id="l4.142" class="difflineminus">-                     label=&quot;&amp;printButton.label;&quot;</span>
<a href="#l4.143"></a><span id="l4.143" class="difflineminus">-                     oncommand=&quot;if (event.target==this) PrintUtils.print();&quot;</span>
<a href="#l4.144"></a><span id="l4.144" class="difflineminus">-                     tooltiptext=&quot;&amp;printButton.tooltip;&quot;&gt;  </span>
<a href="#l4.145"></a><span id="l4.145" class="difflineminus">-        &lt;menupopup id=&quot;printMenu&quot;&gt;</span>
<a href="#l4.146"></a><span id="l4.146" class="difflineminus">-          &lt;menuitem id=&quot;printMenuItemToolbar&quot; label=&quot;&amp;printCmd.label;&quot; accesskey=&quot;&amp;printCmd.accesskey;&quot;</span>
<a href="#l4.147"></a><span id="l4.147" class="difflineminus">-                    default=&quot;true&quot; oncommand=&quot;PrintUtils.print()&quot;/&gt;</span>
<a href="#l4.148"></a><span id="l4.148" class="difflineminus">-          &lt;menuitem id=&quot;printPreviewMenuItemToolbar&quot; label=&quot;&amp;printPreviewCmd.label;&quot; accesskey=&quot;&amp;printPreviewCmd.accesskey;&quot;</span>
<a href="#l4.149"></a><span id="l4.149" class="difflineminus">-                    oncommand=&quot;setTimeout(BrowserPrintPreview, 0);&quot;/&gt;</span>
<a href="#l4.150"></a><span id="l4.150" class="difflineminus">-        &lt;/menupopup&gt;</span>
<a href="#l4.151"></a><span id="l4.151" class="difflineminus">-      &lt;/toolbarbutton&gt;</span>
<a href="#l4.152"></a><span id="l4.152" class="difflineminus">-</span>
<a href="#l4.153"></a><span id="l4.153" class="difflineminus">-      &lt;toolbaritem id=&quot;throbber-box&quot; align=&quot;center&quot;&gt;</span>
<a href="#l4.154"></a><span id="l4.154" class="difflineminus">-        &lt;button id=&quot;navigator-throbber&quot; oncommand=&quot;goClickThrobber('browser.throbber.url')&quot;</span>
<a href="#l4.155"></a><span id="l4.155" class="difflineminus">-                tooltiptext=&quot;&amp;throbber.tooltip;&quot;/&gt;</span>
<a href="#l4.156"></a><span id="l4.156" class="difflineminus">-      &lt;/toolbaritem&gt;</span>
<a href="#l4.157"></a><span id="l4.157"> </span>
<a href="#l4.158"></a><span id="l4.158">       &lt;hbox id=&quot;window-controls&quot; hidden=&quot;true&quot; fullscreencontrol=&quot;true&quot;&gt;</span>
<a href="#l4.159"></a><span id="l4.159">         &lt;toolbarbutton id=&quot;minimize-button&quot;</span>
<a href="#l4.160"></a><span id="l4.160">                        tooltiptext=&quot;&amp;minimizeButton.tooltip;&quot;</span>
<a href="#l4.161"></a><span id="l4.161">                        oncommand=&quot;window.minimize();&quot;/&gt;</span>
<a href="#l4.162"></a><span id="l4.162"> </span>
<a href="#l4.163"></a><span id="l4.163">         &lt;toolbarbutton id=&quot;restore-button&quot;</span>
<a href="#l4.164"></a><span id="l4.164">                        tooltiptext=&quot;&amp;restoreButton.tooltip;&quot;</span>
<a href="#l4.165"></a><span id="l4.165">                        oncommand=&quot;BrowserFullScreen();&quot;/&gt;</span>
<a href="#l4.166"></a><span id="l4.166"> </span>
<a href="#l4.167"></a><span id="l4.167">         &lt;toolbarbutton id=&quot;close-button&quot;</span>
<a href="#l4.168"></a><span id="l4.168">                        tooltiptext=&quot;&amp;closeWindow.label;&quot;</span>
<a href="#l4.169"></a><span id="l4.169">                        oncommand=&quot;BrowserTryToCloseWindow();&quot;/&gt;</span>
<a href="#l4.170"></a><span id="l4.170">       &lt;/hbox&gt;</span>
<a href="#l4.171"></a><span id="l4.171">     &lt;/toolbar&gt;</span>
<a href="#l4.172"></a><span id="l4.172"> </span>
<a href="#l4.173"></a><span id="l4.173" class="difflineminus">-    &lt;toolbar id=&quot;PersonalToolbar&quot; class=&quot;chromeclass-directories&quot; persist=&quot;collapsed&quot; </span>
<a href="#l4.174"></a><span id="l4.174" class="difflineplus">+    &lt;toolbarset id=&quot;customToolbars&quot; context=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l4.175"></a><span id="l4.175" class="difflineplus">+</span>
<a href="#l4.176"></a><span id="l4.176" class="difflineplus">+    &lt;toolbar id=&quot;PersonalToolbar&quot; class=&quot;chromeclass-directories&quot; persist=&quot;collapsed&quot;</span>
<a href="#l4.177"></a><span id="l4.177">              grippytooltiptext=&quot;&amp;personalToolbar.tooltip;&quot;</span>
<a href="#l4.178"></a><span id="l4.178">              toolbarname=&quot;&amp;personalbarCmd.label;&quot; accesskey=&quot;&amp;personalbarCmd.accesskey;&quot;</span>
<a href="#l4.179"></a><span id="l4.179" class="difflineplus">+             togglemenuitem=&quot;cmd_viewpersonaltoolbar&quot;</span>
<a href="#l4.180"></a><span id="l4.180">              customizable=&quot;true&quot;</span>
<a href="#l4.181"></a><span id="l4.181" class="difflineplus">+             defaultset=&quot;home-button,separator,bookmarks-button,personal-bookmarks&quot;</span>
<a href="#l4.182"></a><span id="l4.182">              mode=&quot;full&quot; iconsize=&quot;small&quot; labelalign=&quot;end&quot;</span>
<a href="#l4.183"></a><span id="l4.183">              defaultmode=&quot;full&quot; defaulticonsize=&quot;small&quot; defaultlabelalign=&quot;end&quot;</span>
<a href="#l4.184"></a><span id="l4.184" class="difflineminus">-             togglemenuitem=&quot;cmd_viewpersonaltoolbar&quot;</span>
<a href="#l4.185"></a><span id="l4.185" class="difflineminus">-             context=&quot;toolbar-context-menu&quot;</span>
<a href="#l4.186"></a><span id="l4.186" class="difflineminus">-             onmouseover=&quot;BookmarksToolbar.autoOpenMenu(event.target);&quot;</span>
<a href="#l4.187"></a><span id="l4.187" class="difflineminus">-             onpopupshowing=&quot;BookmarksToolbar.onMenuOpen(event.target);&quot;</span>
<a href="#l4.188"></a><span id="l4.188" class="difflineminus">-             onpopuphidden=&quot;BookmarksToolbar.onMenuClose(event.target);&quot;</span>
<a href="#l4.189"></a><span id="l4.189" class="difflineminus">-             ondraggesture=&quot;nsDragAndDrop.startDrag(event, BookmarksMenuDNDObserver)&quot;</span>
<a href="#l4.190"></a><span id="l4.190" class="difflineminus">-             ondragdrop=&quot;nsDragAndDrop.drop(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.191"></a><span id="l4.191" class="difflineminus">-             ondragenter=&quot;nsDragAndDrop.dragEnter(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.192"></a><span id="l4.192" class="difflineminus">-             ondragexit=&quot;nsDragAndDrop.dragExit(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.193"></a><span id="l4.193" class="difflineminus">-             ondragover=&quot;nsDragAndDrop.dragOver(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;&gt;</span>
<a href="#l4.194"></a><span id="l4.194" class="difflineplus">+             context=&quot;toolbar-context-menu&quot;&gt;</span>
<a href="#l4.195"></a><span id="l4.195" class="difflineplus">+    &lt;/toolbar&gt;</span>
<a href="#l4.196"></a><span id="l4.196" class="difflineplus">+</span>
<a href="#l4.197"></a><span id="l4.197" class="difflineplus">+    &lt;toolbarpalette id=&quot;BrowserToolbarPalette&quot;&gt;</span>
<a href="#l4.198"></a><span id="l4.198" class="difflineplus">+</span>
<a href="#l4.199"></a><span id="l4.199" class="difflineplus">+      &lt;!-- Nav bar buttons --&gt;</span>
<a href="#l4.200"></a><span id="l4.200" class="difflineplus">+      &lt;toolbarbutton id=&quot;back-button&quot; type=&quot;menu-button&quot;</span>
<a href="#l4.201"></a><span id="l4.201" class="difflineplus">+                     class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot;</span>
<a href="#l4.202"></a><span id="l4.202" class="difflineplus">+                     label=&quot;&amp;backButton.label;&quot;</span>
<a href="#l4.203"></a><span id="l4.203" class="difflineplus">+                     oncommand=&quot;if (event.target==this) BrowserBack(); else gotoHistoryIndex(event);&quot;</span>
<a href="#l4.204"></a><span id="l4.204" class="difflineplus">+                     context=&quot;backMenu&quot;</span>
<a href="#l4.205"></a><span id="l4.205" class="difflineplus">+                     tooltiptext=&quot;&amp;backButton.tooltip;&quot;&gt;</span>
<a href="#l4.206"></a><span id="l4.206" class="difflineplus">+        &lt;observes element=&quot;canGoBack&quot; attribute=&quot;disabled&quot;/&gt;</span>
<a href="#l4.207"></a><span id="l4.207" class="difflineplus">+        &lt;menupopup context=&quot;&quot; onpopupshowing=&quot;BrowserBackMenu(event);&quot;/&gt;</span>
<a href="#l4.208"></a><span id="l4.208" class="difflineplus">+      &lt;/toolbarbutton&gt;</span>
<a href="#l4.209"></a><span id="l4.209"> </span>
<a href="#l4.210"></a><span id="l4.210" class="difflineminus">-      &lt;tooltip id=&quot;home-button-tooltip&quot; noautohide=&quot;true&quot;&gt;</span>
<a href="#l4.211"></a><span id="l4.211" class="difflineminus">-        &lt;vbox id=&quot;home-button-tooltip-inner&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.212"></a><span id="l4.212" class="difflineminus">-      &lt;/tooltip&gt;</span>
<a href="#l4.213"></a><span id="l4.213" class="difflineminus">-      &lt;toolbarbutton id=&quot;home-button&quot; class=&quot;toolbarbutton-1&quot;</span>
<a href="#l4.214"></a><span id="l4.214" class="difflineplus">+      &lt;toolbarbutton id=&quot;forward-button&quot; type=&quot;menu-button&quot;</span>
<a href="#l4.215"></a><span id="l4.215" class="difflineplus">+                     class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot;</span>
<a href="#l4.216"></a><span id="l4.216" class="difflineplus">+                     label=&quot;&amp;forwardButton.label;&quot;</span>
<a href="#l4.217"></a><span id="l4.217" class="difflineplus">+                     oncommand=&quot;if (event.target==this) BrowserForward(); else gotoHistoryIndex(event);&quot;</span>
<a href="#l4.218"></a><span id="l4.218" class="difflineplus">+                     context=&quot;forwardMenu&quot;</span>
<a href="#l4.219"></a><span id="l4.219" class="difflineplus">+                     tooltiptext=&quot;&amp;forwardButton.tooltip;&quot;&gt;</span>
<a href="#l4.220"></a><span id="l4.220" class="difflineplus">+        &lt;observes element=&quot;canGoForward&quot; attribute=&quot;disabled&quot;/&gt;</span>
<a href="#l4.221"></a><span id="l4.221" class="difflineplus">+        &lt;menupopup context=&quot;&quot; onpopupshowing=&quot;BrowserForwardMenu(event);&quot;/&gt;</span>
<a href="#l4.222"></a><span id="l4.222" class="difflineplus">+      &lt;/toolbarbutton&gt;</span>
<a href="#l4.223"></a><span id="l4.223" class="difflineplus">+</span>
<a href="#l4.224"></a><span id="l4.224" class="difflineplus">+      &lt;toolbarbutton id=&quot;reload-button&quot;</span>
<a href="#l4.225"></a><span id="l4.225" class="difflineplus">+                     class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot;</span>
<a href="#l4.226"></a><span id="l4.226" class="difflineplus">+                     label=&quot;&amp;reloadButton.label;&quot;</span>
<a href="#l4.227"></a><span id="l4.227" class="difflineplus">+                     oncommand=&quot;if (event.shiftKey) BrowserReloadSkipCache(); else BrowserReload();&quot;</span>
<a href="#l4.228"></a><span id="l4.228" class="difflineplus">+                     tooltiptext=&quot;&amp;reloadButton.tooltip;&quot;/&gt;</span>
<a href="#l4.229"></a><span id="l4.229" class="difflineplus">+</span>
<a href="#l4.230"></a><span id="l4.230" class="difflineplus">+      &lt;toolbarbutton id=&quot;stop-button&quot;</span>
<a href="#l4.231"></a><span id="l4.231" class="difflineplus">+                     class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot;</span>
<a href="#l4.232"></a><span id="l4.232" class="difflineplus">+                     label=&quot;&amp;stopButton.label;&quot;</span>
<a href="#l4.233"></a><span id="l4.233" class="difflineplus">+                     oncommand=&quot;BrowserStop();&quot; observes=&quot;canStop&quot;</span>
<a href="#l4.234"></a><span id="l4.234" class="difflineplus">+                     tooltiptext=&quot;&amp;stopButton.tooltip;&quot;&gt;</span>
<a href="#l4.235"></a><span id="l4.235" class="difflineplus">+      &lt;/toolbarbutton&gt;</span>
<a href="#l4.236"></a><span id="l4.236" class="difflineplus">+</span>
<a href="#l4.237"></a><span id="l4.237" class="difflineplus">+      &lt;!-- XXXRatty ? class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot; ? --&gt;</span>
<a href="#l4.238"></a><span id="l4.238" class="difflineplus">+      &lt;toolbarbutton id=&quot;home-button&quot;</span>
<a href="#l4.239"></a><span id="l4.239" class="difflineplus">+                     class=&quot;toolbarbutton-1&quot;</span>
<a href="#l4.240"></a><span id="l4.240">                      label=&quot;&amp;homeButton.label;&quot;</span>
<a href="#l4.241"></a><span id="l4.241">                      oncommand=&quot;BrowserHome(event);&quot;</span>
<a href="#l4.242"></a><span id="l4.242">                      onclick=&quot;if (event.button == 1) BrowserHome(event);&quot;</span>
<a href="#l4.243"></a><span id="l4.243">                      tooltip=&quot;home-button-tooltip&quot;</span>
<a href="#l4.244"></a><span id="l4.244">                      ondraggesture=&quot;nsDragAndDrop.startDrag(event, homeButtonObserver)&quot;</span>
<a href="#l4.245"></a><span id="l4.245">                      ondragdrop=&quot;nsDragAndDrop.drop(event, homeButtonObserver); event.stopPropagation()&quot;</span>
<a href="#l4.246"></a><span id="l4.246">                      ondragenter=&quot;event.stopPropagation()&quot;</span>
<a href="#l4.247"></a><span id="l4.247">                      ondragexit=&quot;nsDragAndDrop.dragExit(event, homeButtonObserver); event.stopPropagation()&quot;</span>
<a href="#l4.248"></a><span id="l4.248">                      ondragover=&quot;nsDragAndDrop.dragOver(event, homeButtonObserver); event.stopPropagation()&quot;/&gt;</span>
<a href="#l4.249"></a><span id="l4.249" class="difflineminus">-  </span>
<a href="#l4.250"></a><span id="l4.250" class="difflineminus">-      &lt;toolbarseparator id=&quot;home-bm-separator&quot;/&gt;</span>
<a href="#l4.251"></a><span id="l4.251" class="difflineminus">- </span>
<a href="#l4.252"></a><span id="l4.252" class="difflineplus">+</span>
<a href="#l4.253"></a><span id="l4.253" class="difflineplus">+      &lt;toolbaritem id=&quot;nav-bar-inner&quot; align=&quot;center&quot; flex=&quot;1&quot; persist=&quot;width&quot;</span>
<a href="#l4.254"></a><span id="l4.254" class="difflineplus">+                 class=&quot;chromeclass-location&quot;</span>
<a href="#l4.255"></a><span id="l4.255" class="difflineplus">+                 title=&quot;&amp;locationBar.title;&quot;&gt;</span>
<a href="#l4.256"></a><span id="l4.256" class="difflineplus">+        &lt;!-- Need hidden label on textbox for accessibility, because what</span>
<a href="#l4.257"></a><span id="l4.257" class="difflineplus">+             receives focus needs a text name --&gt;</span>
<a href="#l4.258"></a><span id="l4.258" class="difflineplus">+        &lt;label control=&quot;urlbar&quot; hidden=&quot;true&quot; value=&quot;&amp;locationBar.title;&quot;/&gt;</span>
<a href="#l4.259"></a><span id="l4.259" class="difflineplus">+        &lt;textbox id=&quot;urlbar&quot; class=&quot;chromeclass-location uri-element&quot; flex=&quot;1&quot;</span>
<a href="#l4.260"></a><span id="l4.260" class="difflineplus">+                 type=&quot;autocomplete&quot; autocompletesearch=&quot;history file&quot;</span>
<a href="#l4.261"></a><span id="l4.261" class="difflineplus">+                 timeout=&quot;50&quot; maxrows=&quot;6&quot;</span>
<a href="#l4.262"></a><span id="l4.262" class="difflineplus">+                 disablehistory=&quot;false&quot; accesskey=&quot;&amp;locationBar.accesskey;&quot;</span>
<a href="#l4.263"></a><span id="l4.263" class="difflineplus">+                 defaultSearchEngine=&quot;true&quot; tabscrolling=&quot;true&quot;</span>
<a href="#l4.264"></a><span id="l4.264" class="difflineplus">+                 showcommentcolumn=&quot;true&quot;</span>
<a href="#l4.265"></a><span id="l4.265" class="difflineplus">+                 inputtooltiptext=&quot;&amp;locationBar.tooltip;&quot;</span>
<a href="#l4.266"></a><span id="l4.266" class="difflineplus">+                 newlines=&quot;stripsurroundingwhitespace&quot;</span>
<a href="#l4.267"></a><span id="l4.267" class="difflineplus">+                 oninput=&quot;gBrowser.userTypedValue = this.value;&quot;</span>
<a href="#l4.268"></a><span id="l4.268" class="difflineplus">+                 ontextentered=&quot;return handleURLBarCommand(eventParam, domEvent);&quot;</span>
<a href="#l4.269"></a><span id="l4.269" class="difflineplus">+                 ontextreverted=&quot;return handleURLBarRevert();&quot;</span>
<a href="#l4.270"></a><span id="l4.270" class="difflineplus">+                 onfocus=&quot;URLBarFocusHandler(event);&quot;</span>
<a href="#l4.271"></a><span id="l4.271" class="difflineplus">+                 onmousedown=&quot;URLBarMouseDownHandler(event);&quot;</span>
<a href="#l4.272"></a><span id="l4.272" class="difflineplus">+                 onclick=&quot;URLBarClickHandler(event);&quot;&gt;</span>
<a href="#l4.273"></a><span id="l4.273" class="difflineplus">+          &lt;deck id=&quot;page-proxy-deck&quot;</span>
<a href="#l4.274"></a><span id="l4.274" class="difflineplus">+                class=&quot;urlbar-icons&quot;</span>
<a href="#l4.275"></a><span id="l4.275" class="difflineplus">+                onclick=&quot;handlePageProxyClick(event);&quot;&gt;</span>
<a href="#l4.276"></a><span id="l4.276" class="difflineplus">+            &lt;image id=&quot;page-proxy-button&quot;</span>
<a href="#l4.277"></a><span id="l4.277" class="difflineplus">+                   ondraggesture=&quot;PageProxyDragGesture(event);&quot;</span>
<a href="#l4.278"></a><span id="l4.278" class="difflineplus">+                   tooltiptext=&quot;&amp;proxyIcon.tooltip;&quot;/&gt;</span>
<a href="#l4.279"></a><span id="l4.279" class="difflineplus">+            &lt;image id=&quot;page-proxy-favicon&quot; validate=&quot;never&quot;</span>
<a href="#l4.280"></a><span id="l4.280" class="difflineplus">+                   ondraggesture=&quot;PageProxyDragGesture(event);&quot;</span>
<a href="#l4.281"></a><span id="l4.281" class="difflineplus">+                   onload=&quot;this.parentNode.selectedIndex = 1;</span>
<a href="#l4.282"></a><span id="l4.282" class="difflineplus">+                           event.stopPropagation();</span>
<a href="#l4.283"></a><span id="l4.283" class="difflineplus">+                           HandleBookmarkIcon(this.src, true);&quot;</span>
<a href="#l4.284"></a><span id="l4.284" class="difflineplus">+                   onerror=&quot;gBrowser.addToMissedIconCache(this.src); HandleBookmarkIcon(this.src, false);&quot;</span>
<a href="#l4.285"></a><span id="l4.285" class="difflineplus">+                   tooltiptext=&quot;&amp;proxyIcon.tooltip;&quot;/&gt;</span>
<a href="#l4.286"></a><span id="l4.286" class="difflineplus">+          &lt;/deck&gt;</span>
<a href="#l4.287"></a><span id="l4.287" class="difflineplus">+          &lt;hbox id=&quot;urlbar-icons&quot;</span>
<a href="#l4.288"></a><span id="l4.288" class="difflineplus">+                class=&quot;urlbar-icons&quot;&gt;</span>
<a href="#l4.289"></a><span id="l4.289" class="difflineplus">+            &lt;image id=&quot;feedsButton&quot; hidden=&quot;true&quot; popup=&quot;feedsPopup&quot;/&gt;</span>
<a href="#l4.290"></a><span id="l4.290" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l4.291"></a><span id="l4.291" class="difflineplus">+          &lt;menupopup id=&quot;ubhist-popup&quot; class=&quot;autocomplete-history-popup&quot;</span>
<a href="#l4.292"></a><span id="l4.292" class="difflineplus">+                     popupalign=&quot;topleft&quot; popupanchor=&quot;bottomleft&quot;</span>
<a href="#l4.293"></a><span id="l4.293" class="difflineplus">+                     onpopupshowing=&quot;createUBHistoryMenu(event.target);&quot;</span>
<a href="#l4.294"></a><span id="l4.294" class="difflineplus">+                     oncommand=&quot;executeUrlBarHistoryCommand(event.target);&quot;/&gt;</span>
<a href="#l4.295"></a><span id="l4.295" class="difflineplus">+        &lt;/textbox&gt;</span>
<a href="#l4.296"></a><span id="l4.296" class="difflineplus">+</span>
<a href="#l4.297"></a><span id="l4.297" class="difflineplus">+        &lt;button id=&quot;go-button&quot; class=&quot;button-toolbar chromeclass-location&quot;</span>
<a href="#l4.298"></a><span id="l4.298" class="difflineplus">+                label=&quot;&amp;goButton.label;&quot; hidden=&quot;true&quot;</span>
<a href="#l4.299"></a><span id="l4.299" class="difflineplus">+                oncommand=&quot;addToUrlbarHistory(gURLBar.value); BrowserLoadURL(event);&quot;</span>
<a href="#l4.300"></a><span id="l4.300" class="difflineplus">+                ondragover=&quot;nsDragAndDrop.dragOver(event, goButtonObserver);&quot;</span>
<a href="#l4.301"></a><span id="l4.301" class="difflineplus">+                ondragdrop=&quot;nsDragAndDrop.drop(event, goButtonObserver);&quot;</span>
<a href="#l4.302"></a><span id="l4.302" class="difflineplus">+                ondragexit=&quot;nsDragAndDrop.dragExit(event, goButtonObserver);&quot;</span>
<a href="#l4.303"></a><span id="l4.303" class="difflineplus">+                tooltiptext=&quot;&amp;goButton.tooltip;&quot; default=&quot;true&quot;/&gt;</span>
<a href="#l4.304"></a><span id="l4.304" class="difflineplus">+</span>
<a href="#l4.305"></a><span id="l4.305" class="difflineplus">+        &lt;button id=&quot;search-button&quot; class=&quot;button-toolbar chromeclass-location&quot;</span>
<a href="#l4.306"></a><span id="l4.306" class="difflineplus">+                label=&quot;&amp;searchButton.label;&quot;</span>
<a href="#l4.307"></a><span id="l4.307" class="difflineplus">+                oncommand=&quot;OpenSearch('internet', QualifySearchTerm());&quot;</span>
<a href="#l4.308"></a><span id="l4.308" class="difflineplus">+                ondragover=&quot;nsDragAndDrop.dragOver(event, searchButtonObserver);&quot;</span>
<a href="#l4.309"></a><span id="l4.309" class="difflineplus">+                ondragdrop=&quot;nsDragAndDrop.drop(event, searchButtonObserver);&quot;</span>
<a href="#l4.310"></a><span id="l4.310" class="difflineplus">+                ondragexit=&quot;nsDragAndDrop.dragExit(event, searchButtonObserver);&quot;</span>
<a href="#l4.311"></a><span id="l4.311" class="difflineplus">+                tooltiptext=&quot;&amp;searchButton.tooltip;&quot;/&gt;</span>
<a href="#l4.312"></a><span id="l4.312" class="difflineplus">+      &lt;/toolbaritem&gt;</span>
<a href="#l4.313"></a><span id="l4.313" class="difflineplus">+</span>
<a href="#l4.314"></a><span id="l4.314" class="difflineplus">+      &lt;toolbarbutton id=&quot;print-button&quot; type=&quot;menu-button&quot;</span>
<a href="#l4.315"></a><span id="l4.315" class="difflineplus">+                     class=&quot;toolbarbutton-1 chromeclass-toolbar-additional&quot;</span>
<a href="#l4.316"></a><span id="l4.316" class="difflineplus">+                     label=&quot;&amp;printButton.label;&quot;</span>
<a href="#l4.317"></a><span id="l4.317" class="difflineplus">+                     oncommand=&quot;if (event.target==this) PrintUtils.print();&quot;</span>
<a href="#l4.318"></a><span id="l4.318" class="difflineplus">+                     tooltiptext=&quot;&amp;printButton.tooltip;&quot;&gt;</span>
<a href="#l4.319"></a><span id="l4.319" class="difflineplus">+        &lt;menupopup id=&quot;printMenu&quot;&gt;</span>
<a href="#l4.320"></a><span id="l4.320" class="difflineplus">+          &lt;menuitem id=&quot;printMenuItemToolbar&quot; label=&quot;&amp;printCmd.label;&quot; accesskey=&quot;&amp;printCmd.accesskey;&quot;</span>
<a href="#l4.321"></a><span id="l4.321" class="difflineplus">+                    default=&quot;true&quot; oncommand=&quot;PrintUtils.print()&quot;/&gt;</span>
<a href="#l4.322"></a><span id="l4.322" class="difflineplus">+          &lt;menuitem id=&quot;printPreviewMenuItemToolbar&quot; label=&quot;&amp;printPreviewCmd.label;&quot; accesskey=&quot;&amp;printPreviewCmd.accesskey;&quot;</span>
<a href="#l4.323"></a><span id="l4.323" class="difflineplus">+                    oncommand=&quot;setTimeout(BrowserPrintPreview, 0);&quot;/&gt;</span>
<a href="#l4.324"></a><span id="l4.324" class="difflineplus">+        &lt;/menupopup&gt;</span>
<a href="#l4.325"></a><span id="l4.325" class="difflineplus">+      &lt;/toolbarbutton&gt;</span>
<a href="#l4.326"></a><span id="l4.326" class="difflineplus">+</span>
<a href="#l4.327"></a><span id="l4.327" class="difflineplus">+      &lt;toolbaritem id=&quot;throbber-box&quot; align=&quot;center&quot;&gt;</span>
<a href="#l4.328"></a><span id="l4.328" class="difflineplus">+        &lt;button id=&quot;navigator-throbber&quot; oncommand=&quot;goClickThrobber('browser.throbber.url')&quot;</span>
<a href="#l4.329"></a><span id="l4.329" class="difflineplus">+                tooltiptext=&quot;&amp;throbber.tooltip;&quot;/&gt;</span>
<a href="#l4.330"></a><span id="l4.330" class="difflineplus">+      &lt;/toolbaritem&gt;</span>
<a href="#l4.331"></a><span id="l4.331" class="difflineplus">+</span>
<a href="#l4.332"></a><span id="l4.332">       &lt;!-- &quot;Bookmarks&quot; button on personal toolbar --&gt;                           </span>
<a href="#l4.333"></a><span id="l4.333">       &lt;toolbarbutton type=&quot;menu&quot; id=&quot;bookmarks-button&quot; class=&quot;bookmark-item&quot;</span>
<a href="#l4.334"></a><span id="l4.334">                      label=&quot;&amp;bookmarksButton.label;&quot;</span>
<a href="#l4.335"></a><span id="l4.335">                      datasources=&quot;rdf:bookmarks rdf:files rdf:localsearch rdf:internetsearch&quot;</span>
<a href="#l4.336"></a><span id="l4.336">                      ref=&quot;NC:BookmarksRoot&quot; container=&quot;true&quot; flags=&quot;dont-test-empty&quot;</span>
<a href="#l4.337"></a><span id="l4.337">                      tooltip=&quot;btTooltip&quot;</span>
<a href="#l4.338"></a><span id="l4.338">                      oncommand=&quot;BookmarksMenu.loadBookmark(event, this.database);&quot;</span>
<a href="#l4.339"></a><span id="l4.339">                      onclick=&quot;BookmarksMenu.loadBookmarkMiddleClick(event, this.database)&quot; </span>
<a href="#l4.340"></a><span id="l4.340">                      template=&quot;bookmarksMenuTemplate&quot;</span>
<a href="#l4.341"></a><span id="l4.341" class="difflineminus">-                     ondraggesture=&quot;if (event.target.id=='bookmarks-button') event.stopPropagation()&quot;&gt;</span>
<a href="#l4.342"></a><span id="l4.342" class="difflineplus">+                     onmouseover=&quot;BookmarksToolbar.autoOpenMenu(event.target);&quot;</span>
<a href="#l4.343"></a><span id="l4.343" class="difflineplus">+                     onpopupshowing=&quot;BookmarksToolbar.onMenuOpen(event.target);&quot;</span>
<a href="#l4.344"></a><span id="l4.344" class="difflineplus">+                     onpopuphidden=&quot;BookmarksToolbar.onMenuClose(event.target);&quot;</span>
<a href="#l4.345"></a><span id="l4.345" class="difflineplus">+                     ondraggesture=&quot;if (event.target.id!='bookmarks-button') nsDragAndDrop.startDrag(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.346"></a><span id="l4.346" class="difflineplus">+                     ondragdrop=&quot;nsDragAndDrop.drop(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.347"></a><span id="l4.347" class="difflineplus">+                     ondragenter=&quot;nsDragAndDrop.dragEnter(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.348"></a><span id="l4.348" class="difflineplus">+                     ondragexit=&quot;nsDragAndDrop.dragExit(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.349"></a><span id="l4.349" class="difflineplus">+                     ondragover=&quot;nsDragAndDrop.dragOver(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;&gt;</span>
<a href="#l4.350"></a><span id="l4.350">         &lt;menupopup context=&quot;bookmarks-context-menu&quot;</span>
<a href="#l4.351"></a><span id="l4.351">                    onpopupshowing=&quot;updateGroupmarkCommand();&quot;&gt;</span>
<a href="#l4.352"></a><span id="l4.352">           &lt;menuitem command=&quot;Browser:AddBookmark&quot;/&gt;</span>
<a href="#l4.353"></a><span id="l4.353">           &lt;menuitem command=&quot;Browser:AddBookmarkAs&quot;/&gt;</span>
<a href="#l4.354"></a><span id="l4.354">           &lt;menuitem command=&quot;Browser:AddGroupmarkAs&quot;/&gt;</span>
<a href="#l4.355"></a><span id="l4.355">           &lt;menuitem command=&quot;Browser:ManageBookmark&quot;/&gt;</span>
<a href="#l4.356"></a><span id="l4.356">           &lt;menuseparator id=&quot;lastStaticSeparator&quot;/&gt;</span>
<a href="#l4.357"></a><span id="l4.357">         &lt;/menupopup&gt;</span>
<a href="#l4.358"></a><span id="l4.358">       &lt;/toolbarbutton&gt;</span>
<a href="#l4.359"></a><span id="l4.359"> </span>
<a href="#l4.360"></a><span id="l4.360" class="difflineminus">-      &lt;!-- Personal toolbar items --&gt;</span>
<a href="#l4.361"></a><span id="l4.361" class="difflineminus">-      &lt;hbox id=&quot;bookmarks-ptf&quot; flex=&quot;1&quot; style=&quot;min-width: 1px;&quot;</span>
<a href="#l4.362"></a><span id="l4.362" class="difflineminus">-            context=&quot;bookmarks-context-menu&quot; template=&quot;bookmarksMenuTemplate&quot;</span>
<a href="#l4.363"></a><span id="l4.363" class="difflineminus">-            datasources=&quot;rdf:bookmarks rdf:files rdf:localsearch rdf:internetsearch&quot;</span>
<a href="#l4.364"></a><span id="l4.364" class="difflineminus">-            ref=&quot;NC:PersonalToolbarFolder&quot; flags=&quot;dont-test-empty&quot;</span>
<a href="#l4.365"></a><span id="l4.365" class="difflineminus">-            tooltip=&quot;btTooltip&quot;</span>
<a href="#l4.366"></a><span id="l4.366" class="difflineminus">-            oncommand=&quot;BookmarksUtils.loadBookmarkBrowser(event, this.database)&quot;</span>
<a href="#l4.367"></a><span id="l4.367" class="difflineminus">-            onclick=&quot;BookmarksMenu.loadBookmarkMiddleClick(event, this.database)&quot;</span>
<a href="#l4.368"></a><span id="l4.368" class="difflineminus">-            rdf:type=&quot;http://home.netscape.com/NC-rdf#Folder&quot;&gt;</span>
<a href="#l4.369"></a><span id="l4.369" class="difflineminus">-      &lt;/hbox&gt;</span>
<a href="#l4.370"></a><span id="l4.370" class="difflineminus">-      &lt;hbox class=&quot;bookmarks-toolbar-overflow-items&quot; mousethrough=&quot;always&quot;&gt;</span>
<a href="#l4.371"></a><span id="l4.371" class="difflineminus">-        &lt;hbox mousethrough=&quot;always&quot; id=&quot;overflow-padder&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.372"></a><span id="l4.372" class="difflineminus">-        &lt;toolbarbutton id=&quot;bookmarks-chevron&quot; type=&quot;menu&quot; class=&quot;chevron&quot;</span>
<a href="#l4.373"></a><span id="l4.373" class="difflineminus">-                       mousethrough=&quot;never&quot; collapsed=&quot;true&quot; </span>
<a href="#l4.374"></a><span id="l4.374" class="difflineminus">-                       datasources=&quot;rdf:bookmarks rdf:files rdf:localsearch rdf:internetsearch&quot;</span>
<a href="#l4.375"></a><span id="l4.375" class="difflineminus">-                       template=&quot;bookmarksMenuTemplate&quot; </span>
<a href="#l4.376"></a><span id="l4.376" class="difflineminus">-                       ref=&quot;NC:PersonalToolbarFolder&quot; flags=&quot;dont-test-empty&quot;</span>
<a href="#l4.377"></a><span id="l4.377" class="difflineminus">-                       tooltip=&quot;btTooltip&quot;</span>
<a href="#l4.378"></a><span id="l4.378" class="difflineminus">-                       oncommand=&quot;BookmarksUtils.loadBookmarkBrowser(event, this.database)&quot;</span>
<a href="#l4.379"></a><span id="l4.379" class="difflineminus">-                       onclick=&quot;BookmarksMenu.loadBookmarkMiddleClick(event, this.database)&quot;&gt;</span>
<a href="#l4.380"></a><span id="l4.380" class="difflineminus">-          &lt;menupopup id=&quot;bookmarks-chevron-popup&quot;</span>
<a href="#l4.381"></a><span id="l4.381" class="difflineminus">-                     context=&quot;bookmarks-context-menu&quot;</span>
<a href="#l4.382"></a><span id="l4.382" class="difflineminus">-                     onpopupshowing=&quot;if (event.target == this) BookmarksToolbar.updateOverflowMenu(this);&quot;/&gt;</span>
<a href="#l4.383"></a><span id="l4.383" class="difflineminus">-        &lt;/toolbarbutton&gt;</span>
<a href="#l4.384"></a><span id="l4.384" class="difflineminus">-      &lt;/hbox&gt;</span>
<a href="#l4.385"></a><span id="l4.385" class="difflineminus">-    &lt;/toolbar&gt;</span>
<a href="#l4.386"></a><span id="l4.386" class="difflineplus">+      &lt;toolbaritem id=&quot;personal-bookmarks&quot;</span>
<a href="#l4.387"></a><span id="l4.387" class="difflineplus">+                   flex=&quot;1&quot;</span>
<a href="#l4.388"></a><span id="l4.388" class="difflineplus">+                   style=&quot;min-width:0px; width:0px;&quot;</span>
<a href="#l4.389"></a><span id="l4.389" class="difflineplus">+                   class=&quot;chromeclass-directories&quot;</span>
<a href="#l4.390"></a><span id="l4.390" class="difflineplus">+               onmouseover=&quot;BookmarksToolbar.autoOpenMenu(event.target);&quot;</span>
<a href="#l4.391"></a><span id="l4.391" class="difflineplus">+               onpopupshowing=&quot;BookmarksToolbar.onMenuOpen(event.target);&quot;</span>
<a href="#l4.392"></a><span id="l4.392" class="difflineplus">+               onpopuphidden=&quot;BookmarksToolbar.onMenuClose(event.target);&quot;</span>
<a href="#l4.393"></a><span id="l4.393" class="difflineplus">+               ondraggesture=&quot;nsDragAndDrop.startDrag(event, BookmarksMenuDNDObserver)&quot;</span>
<a href="#l4.394"></a><span id="l4.394" class="difflineplus">+               ondragdrop=&quot;nsDragAndDrop.drop(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.395"></a><span id="l4.395" class="difflineplus">+               ondragenter=&quot;nsDragAndDrop.dragEnter(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.396"></a><span id="l4.396" class="difflineplus">+               ondragexit=&quot;nsDragAndDrop.dragExit(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.397"></a><span id="l4.397" class="difflineplus">+               ondragover=&quot;nsDragAndDrop.dragOver(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;&gt;</span>
<a href="#l4.398"></a><span id="l4.398" class="difflineplus">+</span>
<a href="#l4.399"></a><span id="l4.399" class="difflineplus">+        &lt;toolbarbutton class=&quot;bookmark-item bookmarks-toolbar-customize&quot; mousethrough=&quot;never&quot;</span>
<a href="#l4.400"></a><span id="l4.400" class="difflineplus">+                       label=&quot;&amp;bookmarksToolbarItem.label;&quot;/&gt;</span>
<a href="#l4.401"></a><span id="l4.401" class="difflineplus">+</span>
<a href="#l4.402"></a><span id="l4.402" class="difflineplus">+        &lt;!-- Personal toolbar items --&gt;</span>
<a href="#l4.403"></a><span id="l4.403" class="difflineplus">+        &lt;hbox id=&quot;bookmarks-ptf&quot; flex=&quot;1&quot; style=&quot;min-width: 1px;&quot;</span>
<a href="#l4.404"></a><span id="l4.404" class="difflineplus">+              class=&quot;bookmarks-toolbar-items&quot;</span>
<a href="#l4.405"></a><span id="l4.405" class="difflineplus">+              context=&quot;bookmarks-context-menu&quot;</span>
<a href="#l4.406"></a><span id="l4.406" class="difflineplus">+              template=&quot;bookmarksMenuTemplate&quot;</span>
<a href="#l4.407"></a><span id="l4.407" class="difflineplus">+              datasources=&quot;rdf:bookmarks rdf:files rdf:localsearch rdf:internetsearch&quot;</span>
<a href="#l4.408"></a><span id="l4.408" class="difflineplus">+              ref=&quot;NC:PersonalToolbarFolder&quot; flags=&quot;dont-test-empty&quot;</span>
<a href="#l4.409"></a><span id="l4.409" class="difflineplus">+              rdf:type=&quot;http://home.netscape.com/NC-rdf#Folder&quot;</span>
<a href="#l4.410"></a><span id="l4.410" class="difflineplus">+              tooltip=&quot;btTooltip&quot;</span>
<a href="#l4.411"></a><span id="l4.411" class="difflineplus">+              oncommand=&quot;BookmarksUtils.loadBookmarkBrowser(event, this.database)&quot;</span>
<a href="#l4.412"></a><span id="l4.412" class="difflineplus">+              onclick=&quot;BookmarksMenu.loadBookmarkMiddleClick(event, this.database)&quot;</span>
<a href="#l4.413"></a><span id="l4.413" class="difflineplus">+              onmouseover=&quot;BookmarksToolbar.autoOpenMenu(event.target);&quot;</span>
<a href="#l4.414"></a><span id="l4.414" class="difflineplus">+              onpopupshowing=&quot;BookmarksToolbar.onMenuOpen(event.target);&quot;</span>
<a href="#l4.415"></a><span id="l4.415" class="difflineplus">+              onpopuphidden=&quot;BookmarksToolbar.onMenuClose(event.target);&quot;&gt;</span>
<a href="#l4.416"></a><span id="l4.416" class="difflineplus">+        &lt;/hbox&gt;</span>
<a href="#l4.417"></a><span id="l4.417" class="difflineplus">+        &lt;hbox class=&quot;bookmarks-toolbar-overflow-items&quot; mousethrough=&quot;always&quot;&gt;</span>
<a href="#l4.418"></a><span id="l4.418" class="difflineplus">+          &lt;hbox mousethrough=&quot;always&quot; id=&quot;overflow-padder&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.419"></a><span id="l4.419" class="difflineplus">+          &lt;toolbarbutton id=&quot;bookmarks-chevron&quot; type=&quot;menu&quot; class=&quot;chevron&quot;</span>
<a href="#l4.420"></a><span id="l4.420" class="difflineplus">+                         mousethrough=&quot;never&quot; collapsed=&quot;true&quot;</span>
<a href="#l4.421"></a><span id="l4.421" class="difflineplus">+                         datasources=&quot;rdf:bookmarks rdf:files rdf:localsearch rdf:internetsearch&quot;</span>
<a href="#l4.422"></a><span id="l4.422" class="difflineplus">+                         template=&quot;bookmarksMenuTemplate&quot;</span>
<a href="#l4.423"></a><span id="l4.423" class="difflineplus">+                         ref=&quot;NC:PersonalToolbarFolder&quot; flags=&quot;dont-test-empty&quot;</span>
<a href="#l4.424"></a><span id="l4.424" class="difflineplus">+                         tooltip=&quot;btTooltip&quot;</span>
<a href="#l4.425"></a><span id="l4.425" class="difflineplus">+                         oncommand=&quot;BookmarksUtils.loadBookmarkBrowser(event, this.database)&quot;</span>
<a href="#l4.426"></a><span id="l4.426" class="difflineplus">+                         onclick=&quot;BookmarksMenu.loadBookmarkMiddleClick(event, this.database)&quot;</span>
<a href="#l4.427"></a><span id="l4.427" class="difflineplus">+                         onmouseover=&quot;BookmarksToolbar.autoOpenMenu(event.target);&quot;</span>
<a href="#l4.428"></a><span id="l4.428" class="difflineplus">+                         onpopupshowing=&quot;BookmarksToolbar.onMenuOpen(event.target);&quot;</span>
<a href="#l4.429"></a><span id="l4.429" class="difflineplus">+                         onpopuphidden=&quot;BookmarksToolbar.onMenuClose(event.target);&quot;&gt;</span>
<a href="#l4.430"></a><span id="l4.430" class="difflineplus">+            &lt;menupopup id=&quot;bookmarks-chevron-popup&quot;</span>
<a href="#l4.431"></a><span id="l4.431" class="difflineplus">+                       context=&quot;bookmarks-context-menu&quot;</span>
<a href="#l4.432"></a><span id="l4.432" class="difflineplus">+                       onpopupshowing=&quot;if (event.target == this) BookmarksToolbar.updateOverflowMenu(this);&quot;/&gt;</span>
<a href="#l4.433"></a><span id="l4.433" class="difflineplus">+          &lt;/toolbarbutton&gt;</span>
<a href="#l4.434"></a><span id="l4.434" class="difflineplus">+        &lt;/hbox&gt;</span>
<a href="#l4.435"></a><span id="l4.435" class="difflineplus">+      &lt;/toolbaritem&gt;</span>
<a href="#l4.436"></a><span id="l4.436" class="difflineplus">+</span>
<a href="#l4.437"></a><span id="l4.437" class="difflineplus">+    &lt;/toolbarpalette&gt;</span>
<a href="#l4.438"></a><span id="l4.438"> </span>
<a href="#l4.439"></a><span id="l4.439">   &lt;/toolbox&gt;</span>
<a href="#l4.440"></a><span id="l4.440">     </span>
<a href="#l4.441"></a><span id="l4.441">   &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l4.442"></a><span id="l4.442">     &lt;vbox id=&quot;sidebar-box&quot; class=&quot;chromeclass-extrachrome&quot;/&gt;</span>
<a href="#l4.443"></a><span id="l4.443">     &lt;splitter id=&quot;sidebar-splitter&quot; class=&quot;chromeclass-extrachrome&quot; /&gt;</span>
<a href="#l4.444"></a><span id="l4.444">   </span>
<a href="#l4.445"></a><span id="l4.445">     &lt;!-- we only need to handle |ondragdrop| because everything else is</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/suite/browser/navigatorOverlay.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/suite/browser/navigatorOverlay.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -168,16 +168,17 @@</span>
<a href="#l5.4"></a><span id="l5.4">     &lt;command id=&quot;cmd_copyLink&quot;/&gt;</span>
<a href="#l5.5"></a><span id="l5.5">     &lt;command id=&quot;cmd_copyImage&quot;/&gt;</span>
<a href="#l5.6"></a><span id="l5.6"> </span>
<a href="#l5.7"></a><span id="l5.7">     &lt;!-- View Menu --&gt;</span>
<a href="#l5.8"></a><span id="l5.8">     &lt;command id=&quot;View:PageSource&quot; oncommand=&quot;BrowserViewSourceOfDocument(content.document);&quot; observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.9"></a><span id="l5.9">     &lt;command id=&quot;View:PageInfo&quot;   oncommand=&quot;BrowserPageInfo();&quot;/&gt;</span>
<a href="#l5.10"></a><span id="l5.10">     &lt;command id=&quot;View:FullScreen&quot; oncommand=&quot;BrowserFullScreen();&quot;/&gt;</span>
<a href="#l5.11"></a><span id="l5.11">     &lt;command id=&quot;cmd_SwitchDocumentDirection&quot; oncommand=&quot;SwitchDocumentDirection(window.content);&quot; /&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+    &lt;command id=&quot;cmd_CustomizeToolbars&quot; oncommand=&quot;goCustomizeToolbar(getNavToolbox());&quot;/&gt;</span>
<a href="#l5.13"></a><span id="l5.13">  </span>
<a href="#l5.14"></a><span id="l5.14">     &lt;!-- Search Menu --&gt;</span>
<a href="#l5.15"></a><span id="l5.15">     &lt;command id=&quot;Browser:Find&quot; oncommand=&quot;BrowserFind();&quot; observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.16"></a><span id="l5.16">     &lt;command id=&quot;Browser:FindAgain&quot; oncommand=&quot;BrowserFindAgain(false);&quot; observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.17"></a><span id="l5.17">     &lt;command id=&quot;Browser:FindPrev&quot;  oncommand=&quot;BrowserFindAgain(true);&quot;  observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.18"></a><span id="l5.18">     &lt;command id=&quot;cmd_findTypeText&quot; observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.19"></a><span id="l5.19">     &lt;command id=&quot;cmd_findTypeLinks&quot; observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.20"></a><span id="l5.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/suite/common/bindings/toolbar.xml</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/suite/common/bindings/toolbar.xml</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -72,24 +72,53 @@</span>
<a href="#l6.4"></a><span id="l6.4">         &lt;children/&gt;</span>
<a href="#l6.5"></a><span id="l6.5">       &lt;/xul:vbox&gt;</span>
<a href="#l6.6"></a><span id="l6.6">       &lt;xul:hbox tbattr=&quot;collapsed-tray-holder&quot; class=&quot;collapsed-tray-holder&quot; moz-collapsed=&quot;true&quot;&gt;</span>
<a href="#l6.7"></a><span id="l6.7">         &lt;xul:hbox tbattr=&quot;collapsed-tray&quot; class=&quot;collapsed-tray&quot;/&gt;</span>
<a href="#l6.8"></a><span id="l6.8">         &lt;xul:spacer flex=&quot;1&quot; class=&quot;collapsed-tray-spacer&quot;/&gt;</span>
<a href="#l6.9"></a><span id="l6.9">       &lt;/xul:hbox&gt;</span>
<a href="#l6.10"></a><span id="l6.10">     &lt;/content&gt;</span>
<a href="#l6.11"></a><span id="l6.11">     &lt;implementation&gt;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+      &lt;field name=&quot;palette&quot;&gt;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+        this.getElementsByTagName(&quot;toolbarpalette&quot;).item(0);</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+      &lt;constructor&gt;</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+          var set = this.toolbarset;</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineplus">+          if (!set)</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineplus">+            return;</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineplus">+          var toolbars = this.getElementsByAttribute(&quot;customindex&quot;, &quot;*&quot;);</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineplus">+          for (let i = 0; i &lt; toolbars.length; ++i) {</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineplus">+            let bar = toolbars[i];</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineplus">+            let name = bar.getAttribute(&quot;toolbarname&quot;).replace(&quot; &quot;, &quot;_&quot;);</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineplus">+            if (name) {</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineplus">+              let attrs = [&quot;mode&quot;, &quot;iconsize&quot;, &quot;labelalign&quot;, &quot;hidden&quot;,</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineplus">+                           &quot;moz-collapsed&quot;];</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineplus">+              for (let j = 0; j &lt; attrs.length; j++) {</span>
<a href="#l6.29"></a><span id="l6.29" class="difflineplus">+                let attr = set.getAttribute(name + attrs[j]);</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineplus">+                if (attr)</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineplus">+                  bar.setAttribute(attrs[j], attr);</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineplus">+              }</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineplus">+              bar.setAttribute(&quot;grippytooltiptext&quot;, name);</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineplus">+            }</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+          }</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineplus">+        ]]&gt;</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineplus">+      &lt;/constructor&gt;</span>
<a href="#l6.38"></a><span id="l6.38" class="difflineplus">+</span>
<a href="#l6.39"></a><span id="l6.39">       &lt;method name=&quot;collapseToolbar&quot;&gt;</span>
<a href="#l6.40"></a><span id="l6.40">         &lt;parameter name=&quot;toolbar&quot;/&gt;</span>
<a href="#l6.41"></a><span id="l6.41">         &lt;body&gt;</span>
<a href="#l6.42"></a><span id="l6.42">         &lt;![CDATA[</span>
<a href="#l6.43"></a><span id="l6.43">           try {</span>
<a href="#l6.44"></a><span id="l6.44">             this.createCollapsedGrippy(toolbar);</span>
<a href="#l6.45"></a><span id="l6.45">             toolbar.setAttribute(&quot;moz-collapsed&quot;, &quot;true&quot;);</span>
<a href="#l6.46"></a><span id="l6.46">             document.persist(toolbar.id, &quot;moz-collapsed&quot;);</span>
<a href="#l6.47"></a><span id="l6.47" class="difflineplus">+            if (toolbar.hasAttribute(&quot;customindex&quot;))</span>
<a href="#l6.48"></a><span id="l6.48" class="difflineplus">+              this.persistCustomCollapse(toolbar, &quot;true&quot;);</span>
<a href="#l6.49"></a><span id="l6.49">           }</span>
<a href="#l6.50"></a><span id="l6.50">           catch(e) {</span>
<a href="#l6.51"></a><span id="l6.51">           }</span>
<a href="#l6.52"></a><span id="l6.52">         ]]&gt;</span>
<a href="#l6.53"></a><span id="l6.53">         &lt;/body&gt;</span>
<a href="#l6.54"></a><span id="l6.54">       &lt;/method&gt;</span>
<a href="#l6.55"></a><span id="l6.55"> </span>
<a href="#l6.56"></a><span id="l6.56">       &lt;method name=&quot;expandToolbar&quot;&gt;</span>
<a href="#l6.57"></a><span id="l6.57" class="difflineat">@@ -100,16 +129,18 @@</span>
<a href="#l6.58"></a><span id="l6.58">           var toolbar = document.getElementById(idString);</span>
<a href="#l6.59"></a><span id="l6.59">           toolbar.setAttribute(&quot;moz-collapsed&quot;, &quot;false&quot;);</span>
<a href="#l6.60"></a><span id="l6.60">           var collapsedTray = document.getAnonymousElementByAttribute(this, &quot;tbattr&quot;, &quot;collapsed-tray&quot;);</span>
<a href="#l6.61"></a><span id="l6.61">           var collapsedToolbar = document.getElementById(&quot;moz_tb_collapsed_&quot; + toolbar.id);</span>
<a href="#l6.62"></a><span id="l6.62">           collapsedTray.removeChild(collapsedToolbar);</span>
<a href="#l6.63"></a><span id="l6.63">           if (!collapsedTray.hasChildNodes())</span>
<a href="#l6.64"></a><span id="l6.64">             document.getAnonymousElementByAttribute(this, &quot;tbattr&quot;, &quot;collapsed-tray-holder&quot;).setAttribute(&quot;moz-collapsed&quot;, &quot;true&quot;);</span>
<a href="#l6.65"></a><span id="l6.65">           document.persist(toolbar.id, &quot;moz-collapsed&quot;);</span>
<a href="#l6.66"></a><span id="l6.66" class="difflineplus">+          if (toolbar.hasAttribute(&quot;customindex&quot;))</span>
<a href="#l6.67"></a><span id="l6.67" class="difflineplus">+            this.persistCustomCollapse(toolbar, &quot;false&quot;);</span>
<a href="#l6.68"></a><span id="l6.68">         ]]&gt;</span>
<a href="#l6.69"></a><span id="l6.69">         &lt;/body&gt;</span>
<a href="#l6.70"></a><span id="l6.70">       &lt;/method&gt;</span>
<a href="#l6.71"></a><span id="l6.71"> </span>
<a href="#l6.72"></a><span id="l6.72">       &lt;method name=&quot;createCollapsedGrippy&quot;&gt;</span>
<a href="#l6.73"></a><span id="l6.73">         &lt;parameter name=&quot;aToolbar&quot;/&gt;</span>
<a href="#l6.74"></a><span id="l6.74">         &lt;body&gt;</span>
<a href="#l6.75"></a><span id="l6.75">         &lt;![CDATA[</span>
<a href="#l6.76"></a><span id="l6.76" class="difflineat">@@ -135,16 +166,28 @@</span>
<a href="#l6.77"></a><span id="l6.77">             }</span>
<a href="#l6.78"></a><span id="l6.78">           }</span>
<a href="#l6.79"></a><span id="l6.79">           catch (e) {</span>
<a href="#l6.80"></a><span id="l6.80">             throw e;</span>
<a href="#l6.81"></a><span id="l6.81">           }</span>
<a href="#l6.82"></a><span id="l6.82">         ]]&gt;</span>
<a href="#l6.83"></a><span id="l6.83">         &lt;/body&gt;</span>
<a href="#l6.84"></a><span id="l6.84">       &lt;/method&gt;</span>
<a href="#l6.85"></a><span id="l6.85" class="difflineplus">+</span>
<a href="#l6.86"></a><span id="l6.86" class="difflineplus">+      &lt;method name=&quot;persistCustomCollapse&quot;&gt;</span>
<a href="#l6.87"></a><span id="l6.87" class="difflineplus">+        &lt;parameter name=&quot;toolbar&quot;/&gt;</span>
<a href="#l6.88"></a><span id="l6.88" class="difflineplus">+        &lt;parameter name=&quot;collapsed&quot;/&gt;</span>
<a href="#l6.89"></a><span id="l6.89" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l6.90"></a><span id="l6.90" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l6.91"></a><span id="l6.91" class="difflineplus">+          var attr = toolbar.getAttribute(&quot;toolbarname&quot;).replace(&quot; &quot;, &quot;_&quot;) + &quot;moz-collapsed&quot;;</span>
<a href="#l6.92"></a><span id="l6.92" class="difflineplus">+          this.toolbarset.setAttribute(attr, collapsed);</span>
<a href="#l6.93"></a><span id="l6.93" class="difflineplus">+          document.persist(this.toolbarset.id, attr);</span>
<a href="#l6.94"></a><span id="l6.94" class="difflineplus">+        ]]&gt;</span>
<a href="#l6.95"></a><span id="l6.95" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l6.96"></a><span id="l6.96" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l6.97"></a><span id="l6.97">     &lt;/implementation&gt;</span>
<a href="#l6.98"></a><span id="l6.98">   &lt;/binding&gt;</span>
<a href="#l6.99"></a><span id="l6.99"> </span>
<a href="#l6.100"></a><span id="l6.100">   &lt;binding id=&quot;grippytoolbar&quot; extends=&quot;chrome://global/content/bindings/toolbar.xml#toolbar&quot;&gt;</span>
<a href="#l6.101"></a><span id="l6.101">     &lt;content&gt;</span>
<a href="#l6.102"></a><span id="l6.102">       &lt;xul:hbox flex=&quot;1&quot; class=&quot;toolbar-box&quot;&gt;</span>
<a href="#l6.103"></a><span id="l6.103">         &lt;xul:toolbargrippy xbl:inherits=&quot;last-toolbar,hidden=grippyhidden&quot;</span>
<a href="#l6.104"></a><span id="l6.104">                            tbattr=&quot;toolbar-grippy&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/suite/common/bookmarks/bookmarksMenu.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/suite/common/bookmarks/bookmarksMenu.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -146,17 +146,17 @@ var BookmarksMenu = {</span>
<a href="#l7.4"></a><span id="l7.4">     if (!this.isBTBookmark(item))</span>
<a href="#l7.5"></a><span id="l7.5">       return &quot;NC:BookmarksRoot&quot;</span>
<a href="#l7.6"></a><span id="l7.6">     parent = aNode.parentNode.parentNode;</span>
<a href="#l7.7"></a><span id="l7.7">     parent = parent.id;</span>
<a href="#l7.8"></a><span id="l7.8">     switch (parent) {</span>
<a href="#l7.9"></a><span id="l7.9">     case &quot;BookmarksMenu&quot;:</span>
<a href="#l7.10"></a><span id="l7.10">     case &quot;bookmarks-button&quot;:</span>
<a href="#l7.11"></a><span id="l7.11">       return &quot;NC:BookmarksRoot&quot;;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-    case &quot;PersonalToolbar&quot;:</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+    case &quot;personal-bookmarks&quot;:</span>
<a href="#l7.14"></a><span id="l7.14">     case &quot;bookmarks-chevron&quot;:</span>
<a href="#l7.15"></a><span id="l7.15">       return &quot;NC:PersonalToolbarFolder&quot;;</span>
<a href="#l7.16"></a><span id="l7.16">     default:</span>
<a href="#l7.17"></a><span id="l7.17">       return parent;</span>
<a href="#l7.18"></a><span id="l7.18">     }</span>
<a href="#l7.19"></a><span id="l7.19">   },</span>
<a href="#l7.20"></a><span id="l7.20"> </span>
<a href="#l7.21"></a><span id="l7.21">   ///////////////////////////////////////////////////////////////////////////</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/common/communicator.css</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/common/communicator.css</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -61,20 +61,33 @@ toolbar[printpreview=&quot;true&quot;] {</span>
<a href="#l8.4"></a><span id="l8.4"> toolbox[xpfe=&quot;false&quot;] { </span>
<a href="#l8.5"></a><span id="l8.5">   -moz-binding: url(&quot;chrome://global/content/bindings/toolbar.xml#toolbox&quot;);</span>
<a href="#l8.6"></a><span id="l8.6"> }</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> toolbar[xpfe=&quot;false&quot;] {</span>
<a href="#l8.9"></a><span id="l8.9">   -moz-binding: url(&quot;chrome://global/content/bindings/toolbar.xml#toolbar&quot;);</span>
<a href="#l8.10"></a><span id="l8.10"> }</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-menubar[xpfe=&quot;false&quot;] {</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+menubar[xpfe=&quot;false&quot;],</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+toolbar &gt; toolbaritem &gt; menubar {</span>
<a href="#l8.15"></a><span id="l8.15">   -moz-binding: url(&quot;chrome://global/content/bindings/toolbar.xml#menubar&quot;);</span>
<a href="#l8.16"></a><span id="l8.16"> }</span>
<a href="#l8.17"></a><span id="l8.17"> </span>
<a href="#l8.18"></a><span id="l8.18" class="difflineplus">+toolbar &gt; toolbarpaletteitem &gt; toolbaritem &gt; menubar {</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineplus">+  -moz-binding: url(&quot;chrome://global/content/bindings/toolbar.xml#menubar&quot;) !important;</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineplus">+}</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineplus">+</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineplus">+.menubar-items {</span>
<a href="#l8.23"></a><span id="l8.23" class="difflineplus">+  -moz-box-orient: vertical; /* for flex hack */</span>
<a href="#l8.24"></a><span id="l8.24" class="difflineplus">+}</span>
<a href="#l8.25"></a><span id="l8.25" class="difflineplus">+</span>
<a href="#l8.26"></a><span id="l8.26" class="difflineplus">+.menubar-items &gt; menubar {</span>
<a href="#l8.27"></a><span id="l8.27" class="difflineplus">+  -moz-box-flex: 1; /* make menu items expand to fill toolbar height */</span>
<a href="#l8.28"></a><span id="l8.28" class="difflineplus">+}</span>
<a href="#l8.29"></a><span id="l8.29" class="difflineplus">+</span>
<a href="#l8.30"></a><span id="l8.30"> prefwindow[xpfe=&quot;false&quot;] {</span>
<a href="#l8.31"></a><span id="l8.31">   -moz-binding: url(&quot;chrome://global/content/bindings/preferences.xml#prefwindow&quot;);</span>
<a href="#l8.32"></a><span id="l8.32"> }</span>
<a href="#l8.33"></a><span id="l8.33"> </span>
<a href="#l8.34"></a><span id="l8.34"> prefpane[xpfe=&quot;false&quot;] {</span>
<a href="#l8.35"></a><span id="l8.35">   -moz-binding: url(&quot;chrome://global/content/bindings/preferences.xml#prefpane&quot;);</span>
<a href="#l8.36"></a><span id="l8.36"> }</span>
<a href="#l8.37"></a><span id="l8.37"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/suite/common/pref/pref-navigator.xul</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/suite/common/pref/pref-navigator.xul</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -78,25 +78,16 @@</span>
<a href="#l9.4"></a><span id="l9.4">                   name=&quot;pref.browser.homepage.disable_button.default_page&quot;</span>
<a href="#l9.5"></a><span id="l9.5">                   type=&quot;bool&quot;/&gt;</span>
<a href="#l9.6"></a><span id="l9.6">       &lt;preference id=&quot;browser.toolbars.showbutton.go&quot;</span>
<a href="#l9.7"></a><span id="l9.7">                   name=&quot;browser.toolbars.showbutton.go&quot;</span>
<a href="#l9.8"></a><span id="l9.8">                   type=&quot;bool&quot;/&gt;</span>
<a href="#l9.9"></a><span id="l9.9">       &lt;preference id=&quot;browser.toolbars.showbutton.search&quot;</span>
<a href="#l9.10"></a><span id="l9.10">                   name=&quot;browser.toolbars.showbutton.search&quot;</span>
<a href="#l9.11"></a><span id="l9.11">                   type=&quot;bool&quot;/&gt;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-      &lt;preference id=&quot;browser.toolbars.showbutton.print&quot;</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-                  name=&quot;browser.toolbars.showbutton.print&quot;</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineminus">-                  type=&quot;bool&quot;/&gt;</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineminus">-      &lt;preference id=&quot;browser.toolbars.showbutton.home&quot;</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineminus">-                  name=&quot;browser.toolbars.showbutton.home&quot;</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineminus">-                  type=&quot;bool&quot;/&gt;</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineminus">-      &lt;preference id=&quot;browser.toolbars.showbutton.bookmarks&quot;</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineminus">-                  name=&quot;browser.toolbars.showbutton.bookmarks&quot;</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineminus">-                  type=&quot;bool&quot;/&gt;</span>
<a href="#l9.21"></a><span id="l9.21">     &lt;/preferences&gt;</span>
<a href="#l9.22"></a><span id="l9.22"> </span>
<a href="#l9.23"></a><span id="l9.23">     &lt;hbox id=&quot;pref-nav-platform-extensions&quot;&gt;</span>
<a href="#l9.24"></a><span id="l9.24">       &lt;!-- navigator startup / new window / new tab behaviour --&gt;  </span>
<a href="#l9.25"></a><span id="l9.25">       &lt;groupbox flex=&quot;1&quot;&gt;</span>
<a href="#l9.26"></a><span id="l9.26">         &lt;caption align=&quot;center&quot;&gt;</span>
<a href="#l9.27"></a><span id="l9.27">           &lt;label value=&quot;&amp;navRadio.label;&quot; accesskey=&quot;&amp;navRadio.accesskey;&quot; control=&quot;selectDisplayOn&quot;/&gt;</span>
<a href="#l9.28"></a><span id="l9.28">           &lt;menulist id=&quot;selectDisplayOn&quot; oncommand=&quot;SwitchPage(this.selectedIndex);&quot;&gt;</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineat">@@ -191,44 +182,29 @@</span>
<a href="#l9.30"></a><span id="l9.30">                 oncommand=&quot;SetHomePageToDefaultPage();&quot;</span>
<a href="#l9.31"></a><span id="l9.31">                 id=&quot;browserUseDefault&quot;</span>
<a href="#l9.32"></a><span id="l9.32">                 preference=&quot;pref.browser.homepage.disable_button.default_page&quot;/&gt;</span>
<a href="#l9.33"></a><span id="l9.33">       &lt;/vbox&gt;</span>
<a href="#l9.34"></a><span id="l9.34">     &lt;/groupbox&gt;</span>
<a href="#l9.35"></a><span id="l9.35"> </span>
<a href="#l9.36"></a><span id="l9.36">     &lt;!-- toolbar buttons customization --&gt;</span>
<a href="#l9.37"></a><span id="l9.37">     &lt;description value=&quot;&amp;toolbarIntro.label;&quot;/&gt;</span>
<a href="#l9.38"></a><span id="l9.38" class="difflineminus">-    &lt;hbox id=&quot;prefShowButtons&quot; flex=&quot;1&quot; equalsize=&quot;true&quot;&gt;</span>
<a href="#l9.39"></a><span id="l9.39" class="difflineminus">-      &lt;groupbox id=&quot;prefShowButtonsBox1&quot; flex=&quot;1&quot; orient=&quot;horizontal&quot;&gt;</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineplus">+    &lt;hbox id=&quot;prefShowButtons&quot; equalsize=&quot;true&quot;&gt;</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineplus">+      &lt;groupbox id=&quot;prefShowButtonsBox&quot; flex=&quot;1&quot; orient=&quot;horizontal&quot;&gt;</span>
<a href="#l9.42"></a><span id="l9.42">         &lt;caption label=&quot;&amp;navToolbarIntro.label;&quot;/&gt;</span>
<a href="#l9.43"></a><span id="l9.43">         &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l9.44"></a><span id="l9.44">           &lt;checkbox id=&quot;browserSearchButton&quot;</span>
<a href="#l9.45"></a><span id="l9.45">                     label=&quot;&amp;searchButton.label;&quot;</span>
<a href="#l9.46"></a><span id="l9.46">                     accesskey=&quot;&amp;searchButton.accesskey;&quot;</span>
<a href="#l9.47"></a><span id="l9.47">                     preference=&quot;browser.toolbars.showbutton.search&quot;/&gt;</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineminus">-          &lt;checkbox id=&quot;browserPrintButton&quot;</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineminus">-                    label=&quot;&amp;printButton.label;&quot;</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineminus">-                    accesskey=&quot;&amp;printButton.accesskey;&quot;</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineminus">-                    preference=&quot;browser.toolbars.showbutton.print&quot;/&gt;</span>
<a href="#l9.52"></a><span id="l9.52">         &lt;/vbox&gt;</span>
<a href="#l9.53"></a><span id="l9.53">         &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l9.54"></a><span id="l9.54">           &lt;checkbox id=&quot;browserGoButton&quot;</span>
<a href="#l9.55"></a><span id="l9.55">             label=&quot;&amp;goButton.label;&quot;</span>
<a href="#l9.56"></a><span id="l9.56">             accesskey=&quot;&amp;goButton.accesskey;&quot;</span>
<a href="#l9.57"></a><span id="l9.57">             preference=&quot;browser.toolbars.showbutton.go&quot;/&gt;</span>
<a href="#l9.58"></a><span id="l9.58">         &lt;/vbox&gt;</span>
<a href="#l9.59"></a><span id="l9.59">       &lt;/groupbox&gt;</span>
<a href="#l9.60"></a><span id="l9.60" class="difflineminus">-      &lt;groupbox id=&quot;prefShowButtonsBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l9.61"></a><span id="l9.61" class="difflineminus">-        &lt;caption label=&quot;&amp;persToolbarIntro.label;&quot;/&gt;</span>
<a href="#l9.62"></a><span id="l9.62" class="difflineminus">-        &lt;checkbox id=&quot;browserHomeButton&quot;</span>
<a href="#l9.63"></a><span id="l9.63" class="difflineminus">-                  label=&quot;&amp;homeButton.label;&quot;</span>
<a href="#l9.64"></a><span id="l9.64" class="difflineminus">-                  accesskey=&quot;&amp;homeButton.accesskey;&quot;</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineminus">-                  preference=&quot;browser.toolbars.showbutton.home&quot;/&gt;</span>
<a href="#l9.66"></a><span id="l9.66" class="difflineminus">-        &lt;checkbox id=&quot;browserBookmarksButton&quot;</span>
<a href="#l9.67"></a><span id="l9.67" class="difflineminus">-                  label=&quot;&amp;bookmarksButton.label;&quot;</span>
<a href="#l9.68"></a><span id="l9.68" class="difflineminus">-                  accesskey=&quot;&amp;bookmarksButton.accesskey;&quot;</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineminus">-                  preference=&quot;browser.toolbars.showbutton.bookmarks&quot;/&gt;</span>
<a href="#l9.70"></a><span id="l9.70" class="difflineminus">-      &lt;/groupbox&gt;</span>
<a href="#l9.71"></a><span id="l9.71">       &lt;vbox id=&quot;prefShowButtonBox&quot;/&gt;</span>
<a href="#l9.72"></a><span id="l9.72">     &lt;/hbox&gt;</span>
<a href="#l9.73"></a><span id="l9.73"> </span>
<a href="#l9.74"></a><span id="l9.74">   &lt;/prefpane&gt;</span>
<a href="#l9.75"></a><span id="l9.75"> &lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/suite/common/utilityOverlay.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/suite/common/utilityOverlay.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -262,53 +262,70 @@ function goToggleToolbar( id, elementID </span>
<a href="#l10.4"></a><span id="l10.4">     if ( attribValue == &quot;true&quot; )</span>
<a href="#l10.5"></a><span id="l10.5">     {</span>
<a href="#l10.6"></a><span id="l10.6">       toolbar.setAttribute(&quot;hidden&quot;, &quot;false&quot; );</span>
<a href="#l10.7"></a><span id="l10.7">       if ( element )</span>
<a href="#l10.8"></a><span id="l10.8">         element.setAttribute(&quot;checked&quot;,&quot;true&quot;)</span>
<a href="#l10.9"></a><span id="l10.9">     }</span>
<a href="#l10.10"></a><span id="l10.10">     else</span>
<a href="#l10.11"></a><span id="l10.11">     {</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-      toolbar.setAttribute(&quot;hidden&quot;, true );</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+      toolbar.setAttribute(&quot;hidden&quot;, &quot;true&quot; );</span>
<a href="#l10.14"></a><span id="l10.14">       if ( element )</span>
<a href="#l10.15"></a><span id="l10.15">         element.setAttribute(&quot;checked&quot;,&quot;false&quot;)</span>
<a href="#l10.16"></a><span id="l10.16">     }</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineminus">-    document.persist(id, 'hidden');</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineminus">-    document.persist(elementID, 'checked');</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineplus">+    document.persist(id, &quot;hidden&quot;);</span>
<a href="#l10.20"></a><span id="l10.20" class="difflineplus">+    document.persist(elementID, &quot;checked&quot;);</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineplus">+</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineplus">+    if (toolbar.hasAttribute(&quot;customindex&quot;))</span>
<a href="#l10.23"></a><span id="l10.23" class="difflineplus">+      persistCustomToolbar(toolbar);</span>
<a href="#l10.24"></a><span id="l10.24" class="difflineplus">+</span>
<a href="#l10.25"></a><span id="l10.25">   }</span>
<a href="#l10.26"></a><span id="l10.26"> }</span>
<a href="#l10.27"></a><span id="l10.27"> </span>
<a href="#l10.28"></a><span id="l10.28" class="difflineplus">+function goCustomizeToolbar(toolbox)</span>
<a href="#l10.29"></a><span id="l10.29" class="difflineplus">+{</span>
<a href="#l10.30"></a><span id="l10.30" class="difflineplus">+  /* If the toolbox has a method &quot;customizeInit&quot; then call it first.</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineplus">+     The optional &quot;customizeDone&quot; method will be invoked by the callback</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+     from the Customize Window so we don't need to take care of that */</span>
<a href="#l10.33"></a><span id="l10.33" class="difflineplus">+  if (&quot;customizeInit&quot; in toolbox)</span>
<a href="#l10.34"></a><span id="l10.34" class="difflineplus">+    toolbox.customizeInit();</span>
<a href="#l10.35"></a><span id="l10.35" class="difflineplus">+</span>
<a href="#l10.36"></a><span id="l10.36" class="difflineplus">+  var customizeURL = &quot;chrome://global/content/customizeToolbar.xul&quot;;</span>
<a href="#l10.37"></a><span id="l10.37" class="difflineplus">+  window.openDialog(customizeURL,</span>
<a href="#l10.38"></a><span id="l10.38" class="difflineplus">+                    &quot;&quot;,</span>
<a href="#l10.39"></a><span id="l10.39" class="difflineplus">+                    &quot;chrome,all,dependent&quot;,</span>
<a href="#l10.40"></a><span id="l10.40" class="difflineplus">+                    toolbox);</span>
<a href="#l10.41"></a><span id="l10.41" class="difflineplus">+}</span>
<a href="#l10.42"></a><span id="l10.42" class="difflineplus">+</span>
<a href="#l10.43"></a><span id="l10.43"> function onViewToolbarsPopupShowing(aEvent)</span>
<a href="#l10.44"></a><span id="l10.44"> {</span>
<a href="#l10.45"></a><span id="l10.45">   var popup = aEvent.target;</span>
<a href="#l10.46"></a><span id="l10.46"> </span>
<a href="#l10.47"></a><span id="l10.47">   // Empty the menu</span>
<a href="#l10.48"></a><span id="l10.48">   var deadItems = popup.getElementsByAttribute(&quot;toolbarid&quot;, &quot;*&quot;);</span>
<a href="#l10.49"></a><span id="l10.49">   for (let i = deadItems.length - 1; i &gt;= 0; --i)</span>
<a href="#l10.50"></a><span id="l10.50">     popup.removeChild(deadItems[i]);</span>
<a href="#l10.51"></a><span id="l10.51"> </span>
<a href="#l10.52"></a><span id="l10.52">   var firstMenuItem = popup.firstChild;</span>
<a href="#l10.53"></a><span id="l10.53"> </span>
<a href="#l10.54"></a><span id="l10.54">   var toolbar = document.popupNode;</span>
<a href="#l10.55"></a><span id="l10.55">   while (toolbar.localName != &quot;toolbar&quot;)</span>
<a href="#l10.56"></a><span id="l10.56">     toolbar = toolbar.parentNode;</span>
<a href="#l10.57"></a><span id="l10.57">   var toolbox = toolbar.parentNode;</span>
<a href="#l10.58"></a><span id="l10.58"> </span>
<a href="#l10.59"></a><span id="l10.59" class="difflineminus">-  for (let i = 0; i &lt; toolbox.childNodes.length; ++i) {</span>
<a href="#l10.60"></a><span id="l10.60" class="difflineminus">-    var bar = toolbox.childNodes[i];</span>
<a href="#l10.61"></a><span id="l10.61" class="difflineminus">-    var toolbarName = bar.getAttribute(&quot;toolbarname&quot;);</span>
<a href="#l10.62"></a><span id="l10.62" class="difflineminus">-    if (toolbarName) {</span>
<a href="#l10.63"></a><span id="l10.63" class="difflineminus">-      var menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l10.64"></a><span id="l10.64" class="difflineminus">-      menuItem.setAttribute(&quot;toolbarid&quot;, bar.id);</span>
<a href="#l10.65"></a><span id="l10.65" class="difflineminus">-      menuItem.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l10.66"></a><span id="l10.66" class="difflineminus">-      menuItem.setAttribute(&quot;label&quot;, toolbarName);</span>
<a href="#l10.67"></a><span id="l10.67" class="difflineminus">-      menuItem.setAttribute(&quot;accesskey&quot;, bar.getAttribute(&quot;accesskey&quot;));</span>
<a href="#l10.68"></a><span id="l10.68" class="difflineminus">-      menuItem.setAttribute(&quot;checked&quot;, !bar.hidden);</span>
<a href="#l10.69"></a><span id="l10.69" class="difflineminus">-      popup.insertBefore(menuItem, firstMenuItem);</span>
<a href="#l10.70"></a><span id="l10.70" class="difflineminus">-    }</span>
<a href="#l10.71"></a><span id="l10.71" class="difflineplus">+  var toolbars = toolbox.getElementsByAttribute(&quot;toolbarname&quot;, &quot;*&quot;);</span>
<a href="#l10.72"></a><span id="l10.72" class="difflineplus">+  for (let i = 0; i &lt; toolbars.length; ++i) {</span>
<a href="#l10.73"></a><span id="l10.73" class="difflineplus">+    let bar = toolbars[i];</span>
<a href="#l10.74"></a><span id="l10.74" class="difflineplus">+    let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l10.75"></a><span id="l10.75" class="difflineplus">+    menuItem.setAttribute(&quot;toolbarid&quot;, bar.id);</span>
<a href="#l10.76"></a><span id="l10.76" class="difflineplus">+    menuItem.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l10.77"></a><span id="l10.77" class="difflineplus">+    menuItem.setAttribute(&quot;label&quot;, bar.getAttribute(&quot;toolbarname&quot;));</span>
<a href="#l10.78"></a><span id="l10.78" class="difflineplus">+    menuItem.setAttribute(&quot;accesskey&quot;, bar.getAttribute(&quot;accesskey&quot;));</span>
<a href="#l10.79"></a><span id="l10.79" class="difflineplus">+    menuItem.setAttribute(&quot;checked&quot;, !bar.hidden);</span>
<a href="#l10.80"></a><span id="l10.80" class="difflineplus">+    popup.insertBefore(menuItem, firstMenuItem);</span>
<a href="#l10.81"></a><span id="l10.81">   }</span>
<a href="#l10.82"></a><span id="l10.82"> </span>
<a href="#l10.83"></a><span id="l10.83">   var mode = toolbar.getAttribute(&quot;mode&quot;) || &quot;full&quot;;</span>
<a href="#l10.84"></a><span id="l10.84">   var modePopup = document.getElementById(&quot;toolbarmodePopup&quot;);</span>
<a href="#l10.85"></a><span id="l10.85">   var radio = modePopup.getElementsByAttribute(&quot;value&quot;, mode);</span>
<a href="#l10.86"></a><span id="l10.86">   radio[0].setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l10.87"></a><span id="l10.87"> </span>
<a href="#l10.88"></a><span id="l10.88">   var small = toolbar.getAttribute(&quot;iconsize&quot;) == &quot;small&quot;;</span>
<a href="#l10.89"></a><span id="l10.89" class="difflineat">@@ -334,16 +351,21 @@ function onViewToolbarsPopupShowing(aEve</span>
<a href="#l10.90"></a><span id="l10.90">                      toolbox.getAttribute(&quot;labelalign&quot;) ||</span>
<a href="#l10.91"></a><span id="l10.91">                      &quot;bottom&quot;);</span>
<a href="#l10.92"></a><span id="l10.92">   var custom = custommode || customicon || customalign ||</span>
<a href="#l10.93"></a><span id="l10.93">                toolbar.hasAttribute(&quot;ignoremodepref&quot;);</span>
<a href="#l10.94"></a><span id="l10.94"> </span>
<a href="#l10.95"></a><span id="l10.95">   var defmode = document.getElementById(&quot;toolbarmode-default&quot;);</span>
<a href="#l10.96"></a><span id="l10.96">   defmode.setAttribute(&quot;checked&quot;, !custom);</span>
<a href="#l10.97"></a><span id="l10.97">   defmode.setAttribute(&quot;disabled&quot;, !custom);</span>
<a href="#l10.98"></a><span id="l10.98" class="difflineplus">+</span>
<a href="#l10.99"></a><span id="l10.99" class="difflineplus">+  var command = document.getElementById(&quot;cmd_CustomizeToolbars&quot;);</span>
<a href="#l10.100"></a><span id="l10.100" class="difflineplus">+  var menuitem  = document.getElementById(&quot;customize_toolbars&quot;);</span>
<a href="#l10.101"></a><span id="l10.101" class="difflineplus">+  menuitem.hidden = !command;</span>
<a href="#l10.102"></a><span id="l10.102" class="difflineplus">+  menuitem.previousSibling.hidden = !command;</span>
<a href="#l10.103"></a><span id="l10.103"> }</span>
<a href="#l10.104"></a><span id="l10.104"> </span>
<a href="#l10.105"></a><span id="l10.105"> function onViewToolbarCommand(aEvent)</span>
<a href="#l10.106"></a><span id="l10.106"> {</span>
<a href="#l10.107"></a><span id="l10.107">   var toolbar = aEvent.originalTarget.getAttribute(&quot;toolbarid&quot;);</span>
<a href="#l10.108"></a><span id="l10.108">   var menuitem = document.getElementById(toolbar).getAttribute(&quot;togglemenuitem&quot;);</span>
<a href="#l10.109"></a><span id="l10.109">   goToggleToolbar(toolbar, menuitem);</span>
<a href="#l10.110"></a><span id="l10.110"> }</span>
<a href="#l10.111"></a><span id="l10.111" class="difflineat">@@ -389,16 +411,89 @@ function goSetToolbarState(aEvent)</span>
<a href="#l10.112"></a><span id="l10.112">         toolbar.setAttribute(&quot;ignoremodepref&quot;, &quot;true&quot;);</span>
<a href="#l10.113"></a><span id="l10.113">       break;</span>
<a href="#l10.114"></a><span id="l10.114">   }</span>
<a href="#l10.115"></a><span id="l10.115">   document.persist(toolbar.id, &quot;mode&quot;);</span>
<a href="#l10.116"></a><span id="l10.116">   document.persist(toolbar.id, &quot;iconsize&quot;);</span>
<a href="#l10.117"></a><span id="l10.117">   document.persist(toolbar.id, &quot;labelalign&quot;);</span>
<a href="#l10.118"></a><span id="l10.118">   if (primary)</span>
<a href="#l10.119"></a><span id="l10.119">     document.persist(toolbar.id, &quot;ignoremodepref&quot;);</span>
<a href="#l10.120"></a><span id="l10.120" class="difflineplus">+  if (toolbar.hasAttribute(&quot;customindex&quot;))</span>
<a href="#l10.121"></a><span id="l10.121" class="difflineplus">+    persistCustomToolbar(toolbar);</span>
<a href="#l10.122"></a><span id="l10.122" class="difflineplus">+}</span>
<a href="#l10.123"></a><span id="l10.123" class="difflineplus">+</span>
<a href="#l10.124"></a><span id="l10.124" class="difflineplus">+function persistCustomToolbar(toolbar)</span>
<a href="#l10.125"></a><span id="l10.125" class="difflineplus">+{</span>
<a href="#l10.126"></a><span id="l10.126" class="difflineplus">+  var toolbox = toolbar.parentNode;</span>
<a href="#l10.127"></a><span id="l10.127" class="difflineplus">+  var name = toolbar.getAttribute(&quot;toolbarname&quot;).replace(&quot; &quot;, &quot;_&quot;);</span>
<a href="#l10.128"></a><span id="l10.128" class="difflineplus">+  var attrs = [&quot;mode&quot;, &quot;iconsize&quot;, &quot;labelalign&quot;, &quot;hidden&quot;];</span>
<a href="#l10.129"></a><span id="l10.129" class="difflineplus">+  for (let i = 0; i &lt; attrs.length; i++) {</span>
<a href="#l10.130"></a><span id="l10.130" class="difflineplus">+    let value = toolbar.getAttribute(attrs[i]);</span>
<a href="#l10.131"></a><span id="l10.131" class="difflineplus">+    let attr = name + attrs[i];</span>
<a href="#l10.132"></a><span id="l10.132" class="difflineplus">+    toolbox.toolbarset.setAttribute(attr, value);</span>
<a href="#l10.133"></a><span id="l10.133" class="difflineplus">+    document.persist(toolbox.toolbarset.id, attr);</span>
<a href="#l10.134"></a><span id="l10.134" class="difflineplus">+  }</span>
<a href="#l10.135"></a><span id="l10.135" class="difflineplus">+}</span>
<a href="#l10.136"></a><span id="l10.136" class="difflineplus">+</span>
<a href="#l10.137"></a><span id="l10.137" class="difflineplus">+/* Common Customize Toolbar code */</span>
<a href="#l10.138"></a><span id="l10.138" class="difflineplus">+</span>
<a href="#l10.139"></a><span id="l10.139" class="difflineplus">+function toolboxCustomizeInit(menubarID)</span>
<a href="#l10.140"></a><span id="l10.140" class="difflineplus">+{</span>
<a href="#l10.141"></a><span id="l10.141" class="difflineplus">+  // Disable the toolbar context menu items</span>
<a href="#l10.142"></a><span id="l10.142" class="difflineplus">+  var menubar = document.getElementById(menubarID);</span>
<a href="#l10.143"></a><span id="l10.143" class="difflineplus">+  for (let i = 0; i &lt; menubar.childNodes.length; ++i) {</span>
<a href="#l10.144"></a><span id="l10.144" class="difflineplus">+    let item = menubar.childNodes[i];</span>
<a href="#l10.145"></a><span id="l10.145" class="difflineplus">+    if (item.getAttribute(&quot;disabled&quot;) != &quot;true&quot;) {</span>
<a href="#l10.146"></a><span id="l10.146" class="difflineplus">+      item.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l10.147"></a><span id="l10.147" class="difflineplus">+      item.setAttribute(&quot;saved-disabled&quot;, &quot;false&quot;);</span>
<a href="#l10.148"></a><span id="l10.148" class="difflineplus">+    }</span>
<a href="#l10.149"></a><span id="l10.149" class="difflineplus">+  }</span>
<a href="#l10.150"></a><span id="l10.150" class="difflineplus">+</span>
<a href="#l10.151"></a><span id="l10.151" class="difflineplus">+  var cmd = document.getElementById(&quot;cmd_CustomizeToolbars&quot;);</span>
<a href="#l10.152"></a><span id="l10.152" class="difflineplus">+  cmd.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l10.153"></a><span id="l10.153" class="difflineplus">+}</span>
<a href="#l10.154"></a><span id="l10.154" class="difflineplus">+</span>
<a href="#l10.155"></a><span id="l10.155" class="difflineplus">+function toolboxCustomizeDone(menubarID, toolbox, aToolboxChanged)</span>
<a href="#l10.156"></a><span id="l10.156" class="difflineplus">+{</span>
<a href="#l10.157"></a><span id="l10.157" class="difflineplus">+  // Re-enable parts of the UI we disabled during the dialog</span>
<a href="#l10.158"></a><span id="l10.158" class="difflineplus">+  var menubar = document.getElementById(menubarID);</span>
<a href="#l10.159"></a><span id="l10.159" class="difflineplus">+  for (let i = 0; i &lt; menubar.childNodes.length; ++i) {</span>
<a href="#l10.160"></a><span id="l10.160" class="difflineplus">+    let item = menubar.childNodes[i];</span>
<a href="#l10.161"></a><span id="l10.161" class="difflineplus">+    if (item.hasAttribute(&quot;saved-disabled&quot;)) {</span>
<a href="#l10.162"></a><span id="l10.162" class="difflineplus">+      item.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l10.163"></a><span id="l10.163" class="difflineplus">+      item.removeAttribute(&quot;saved-disabled&quot;);</span>
<a href="#l10.164"></a><span id="l10.164" class="difflineplus">+    }</span>
<a href="#l10.165"></a><span id="l10.165" class="difflineplus">+  }</span>
<a href="#l10.166"></a><span id="l10.166" class="difflineplus">+</span>
<a href="#l10.167"></a><span id="l10.167" class="difflineplus">+  var cmd = document.getElementById(&quot;cmd_CustomizeToolbars&quot;);</span>
<a href="#l10.168"></a><span id="l10.168" class="difflineplus">+  cmd.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l10.169"></a><span id="l10.169" class="difflineplus">+</span>
<a href="#l10.170"></a><span id="l10.170" class="difflineplus">+  var toolbars = toolbox.getElementsByAttribute(&quot;customindex&quot;, &quot;*&quot;);</span>
<a href="#l10.171"></a><span id="l10.171" class="difflineplus">+  for (let i = 0; i &lt; toolbars.length; ++i) {</span>
<a href="#l10.172"></a><span id="l10.172" class="difflineplus">+    persistCustomToolbar(toolbars[i]);</span>
<a href="#l10.173"></a><span id="l10.173" class="difflineplus">+  }</span>
<a href="#l10.174"></a><span id="l10.174" class="difflineplus">+}</span>
<a href="#l10.175"></a><span id="l10.175" class="difflineplus">+</span>
<a href="#l10.176"></a><span id="l10.176" class="difflineplus">+function toolboxCustomizeChange(toolbox, event)</span>
<a href="#l10.177"></a><span id="l10.177" class="difflineplus">+{</span>
<a href="#l10.178"></a><span id="l10.178" class="difflineplus">+  if (event != &quot;reset&quot;)</span>
<a href="#l10.179"></a><span id="l10.179" class="difflineplus">+    return;</span>
<a href="#l10.180"></a><span id="l10.180" class="difflineplus">+  var toolbars = toolbox.getElementsByAttribute(&quot;toolbarname&quot;, &quot;*&quot;);</span>
<a href="#l10.181"></a><span id="l10.181" class="difflineplus">+  for (let i = 0; i &lt; toolbars.length; ++i) {</span>
<a href="#l10.182"></a><span id="l10.182" class="difflineplus">+    let toolbar = toolbars[i];</span>
<a href="#l10.183"></a><span id="l10.183" class="difflineplus">+    toolbar.setAttribute(&quot;labelalign&quot;,</span>
<a href="#l10.184"></a><span id="l10.184" class="difflineplus">+                         toolbar.getAttribute(&quot;defaultlabelalign&quot;) ||</span>
<a href="#l10.185"></a><span id="l10.185" class="difflineplus">+                         toolbox.getAttribute(&quot;labelalign&quot;));</span>
<a href="#l10.186"></a><span id="l10.186" class="difflineplus">+    document.persist(toolbar.id, &quot;labelalign&quot;);</span>
<a href="#l10.187"></a><span id="l10.187" class="difflineplus">+    let primary = /toolbar-primary/.test(toolbar.getAttribute(&quot;class&quot;));</span>
<a href="#l10.188"></a><span id="l10.188" class="difflineplus">+    if (primary) {</span>
<a href="#l10.189"></a><span id="l10.189" class="difflineplus">+      toolbar.removeAttribute(&quot;ignoremodepref&quot;);</span>
<a href="#l10.190"></a><span id="l10.190" class="difflineplus">+      document.persist(toolbar.id, &quot;ignoremodepref&quot;);</span>
<a href="#l10.191"></a><span id="l10.191" class="difflineplus">+    }</span>
<a href="#l10.192"></a><span id="l10.192" class="difflineplus">+  }</span>
<a href="#l10.193"></a><span id="l10.193"> }</span>
<a href="#l10.194"></a><span id="l10.194"> </span>
<a href="#l10.195"></a><span id="l10.195"> function goClickThrobber( urlPref )</span>
<a href="#l10.196"></a><span id="l10.196"> {</span>
<a href="#l10.197"></a><span id="l10.197">   var url;</span>
<a href="#l10.198"></a><span id="l10.198">   try {</span>
<a href="#l10.199"></a><span id="l10.199">     var pref = Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l10.200"></a><span id="l10.200">                          .getService(Components.interfaces.nsIPrefBranch);</span>
<a href="#l10.201"></a><span id="l10.201" class="difflineat">@@ -752,16 +847,24 @@ function validateFileName(aFileName)</span>
<a href="#l10.202"></a><span id="l10.202">     aFileName = aFileName.replace(/[\&gt;]+/g, &quot;)&quot;);</span>
<a href="#l10.203"></a><span id="l10.203">   }</span>
<a href="#l10.204"></a><span id="l10.204">   else if (navigator.appVersion.indexOf(&quot;Macintosh&quot;) != -1)</span>
<a href="#l10.205"></a><span id="l10.205">     re = /[\:\/]+/g;</span>
<a href="#l10.206"></a><span id="l10.206"> </span>
<a href="#l10.207"></a><span id="l10.207">   return aFileName.replace(re, &quot;_&quot;);</span>
<a href="#l10.208"></a><span id="l10.208"> }</span>
<a href="#l10.209"></a><span id="l10.209"> </span>
<a href="#l10.210"></a><span id="l10.210" class="difflineplus">+function isElementVisible(aElement)</span>
<a href="#l10.211"></a><span id="l10.211" class="difflineplus">+{</span>
<a href="#l10.212"></a><span id="l10.212" class="difflineplus">+  // If aElement or a direct or indirect parent is hidden or collapsed,</span>
<a href="#l10.213"></a><span id="l10.213" class="difflineplus">+  // height, width or both will be 0.</span>
<a href="#l10.214"></a><span id="l10.214" class="difflineplus">+  var bo = aElement.boxObject;</span>
<a href="#l10.215"></a><span id="l10.215" class="difflineplus">+  return (bo.height &gt; 0 &amp;&amp; bo.width &gt; 0);</span>
<a href="#l10.216"></a><span id="l10.216" class="difflineplus">+}</span>
<a href="#l10.217"></a><span id="l10.217" class="difflineplus">+</span>
<a href="#l10.218"></a><span id="l10.218"> /**</span>
<a href="#l10.219"></a><span id="l10.219">  * Handle command events bubbling up from error page content</span>
<a href="#l10.220"></a><span id="l10.220">  * called from oncommand by &lt;browser&gt;s that support error pages</span>
<a href="#l10.221"></a><span id="l10.221">  */</span>
<a href="#l10.222"></a><span id="l10.222"> function BrowserOnCommand(event)</span>
<a href="#l10.223"></a><span id="l10.223"> {</span>
<a href="#l10.224"></a><span id="l10.224">   // Don't trust synthetic events</span>
<a href="#l10.225"></a><span id="l10.225">   if (!event.isTrusted)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/suite/common/utilityOverlay.xul</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/suite/common/utilityOverlay.xul</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -100,16 +100,23 @@</span>
<a href="#l11.4"></a><span id="l11.4">                   accesskey=&quot;&amp;customizeToolbar.labelAlignEnd.accesskey;&quot;/&gt;</span>
<a href="#l11.5"></a><span id="l11.5">         &lt;menuseparator/&gt;</span>
<a href="#l11.6"></a><span id="l11.6">         &lt;menuitem id=&quot;toolbarmode-default&quot;</span>
<a href="#l11.7"></a><span id="l11.7">                   type=&quot;checkbox&quot; value=&quot;default&quot;</span>
<a href="#l11.8"></a><span id="l11.8">                   label=&quot;&amp;customizeToolbar.useDefault.label;&quot;</span>
<a href="#l11.9"></a><span id="l11.9">                   accesskey=&quot;&amp;customizeToolbar.useDefault.label;&quot;/&gt;</span>
<a href="#l11.10"></a><span id="l11.10">       &lt;/menupopup&gt;</span>
<a href="#l11.11"></a><span id="l11.11">     &lt;/menu&gt;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+    &lt;menuseparator id=&quot;toolbar-customize-sep&quot;/&gt;</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+    &lt;menuitem id = &quot;customize_toolbars&quot;</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+              command=&quot;cmd_CustomizeToolbars&quot;</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+              label=&quot;&amp;customizeToolbarContext.label;&quot;</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineplus">+              accesskey=&quot;&amp;customizeToolbarContext.accesskey;&quot;/&gt;</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+</span>
<a href="#l11.19"></a><span id="l11.19">   &lt;/popup&gt;</span>
<a href="#l11.20"></a><span id="l11.20"> </span>
<a href="#l11.21"></a><span id="l11.21">   &lt;statusbarpanel id=&quot;offline-status&quot; context=&quot;networkProperties&quot;</span>
<a href="#l11.22"></a><span id="l11.22">                   observes=&quot;Communicator:WorkMode&quot;/&gt;</span>
<a href="#l11.23"></a><span id="l11.23"> </span>
<a href="#l11.24"></a><span id="l11.24">   &lt;menuitem id=&quot;offlineGoOfflineCmd&quot;</span>
<a href="#l11.25"></a><span id="l11.25">             label=&quot;&amp;offlineGoOfflineCmd.label;&quot;</span>
<a href="#l11.26"></a><span id="l11.26">             accesskey=&quot;&amp;offlineGoOfflineCmd.accesskey;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/suite/locales/en-US/chrome/browser/navigator.dtd</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/browser/navigator.dtd</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -149,16 +149,17 @@</span>
<a href="#l12.4"></a><span id="l12.4"> &lt;!ENTITY locationBar.title            &quot;Location&quot;&gt;</span>
<a href="#l12.5"></a><span id="l12.5"> </span>
<a href="#l12.6"></a><span id="l12.6"> &lt;!ENTITY proxyIcon.tooltip            &quot;Drag and drop this icon to create a link to this page&quot;&gt;</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8"> &lt;!-- Toolbar items --&gt; </span>
<a href="#l12.9"></a><span id="l12.9"> &lt;!ENTITY  bookmarksButton.label       &quot;Bookmarks&quot;&gt;</span>
<a href="#l12.10"></a><span id="l12.10"> &lt;!ENTITY  bookmarksButton.tooltip     &quot;Bookmarks list&quot;&gt;</span>
<a href="#l12.11"></a><span id="l12.11"> &lt;!ENTITY  homeButton.label            &quot;Home&quot;&gt;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+&lt;!ENTITY  bookmarksToolbarItem.label  &quot;Bookmarks Toolbar Items&quot;&gt;</span>
<a href="#l12.13"></a><span id="l12.13"> </span>
<a href="#l12.14"></a><span id="l12.14"> &lt;!-- Statusbar --&gt;</span>
<a href="#l12.15"></a><span id="l12.15"> &lt;!ENTITY  statusText.label            &quot;Done&quot;&gt;</span>
<a href="#l12.16"></a><span id="l12.16"> </span>
<a href="#l12.17"></a><span id="l12.17"> &lt;!ENTITY historyCmd.label           &quot;History&quot;&gt;  </span>
<a href="#l12.18"></a><span id="l12.18"> &lt;!ENTITY historyCmd.accesskey       &quot;i&quot;&gt;</span>
<a href="#l12.19"></a><span id="l12.19"> &lt;!ENTITY history.commandKey         &quot;h&quot;&gt;</span>
<a href="#l12.20"></a><span id="l12.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/suite/locales/en-US/chrome/common/pref/pref-navigator.dtd</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/pref/pref-navigator.dtd</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -26,23 +26,15 @@</span>
<a href="#l13.4"></a><span id="l13.4"> </span>
<a href="#l13.5"></a><span id="l13.5"> &lt;!ENTITY toolbarIntro.label             &quot;Select the buttons you want to see in the toolbars:&quot;&gt;</span>
<a href="#l13.6"></a><span id="l13.6"> </span>
<a href="#l13.7"></a><span id="l13.7"> &lt;!ENTITY navToolbarIntro.label          &quot;Navigation Toolbar&quot;&gt;</span>
<a href="#l13.8"></a><span id="l13.8"> &lt;!ENTITY goButton.label                 &quot;Go&quot;&gt;</span>
<a href="#l13.9"></a><span id="l13.9"> &lt;!ENTITY goButton.accesskey             &quot;o&quot;&gt;</span>
<a href="#l13.10"></a><span id="l13.10"> &lt;!ENTITY searchButton.label             &quot;Search&quot;&gt;</span>
<a href="#l13.11"></a><span id="l13.11"> &lt;!ENTITY searchButton.accesskey         &quot;S&quot;&gt;</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-&lt;!ENTITY printButton.label              &quot;Print&quot;&gt;</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-&lt;!ENTITY printButton.accesskey          &quot;P&quot;&gt;</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineminus">-</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineminus">-&lt;!ENTITY persToolbarIntro.label         &quot;Personal Toolbar&quot;&gt;</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineminus">-&lt;!ENTITY homeButton.label               &quot;Home&quot;&gt;</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineminus">-&lt;!ENTITY homeButton.accesskey           &quot;e&quot;&gt;</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineminus">-&lt;!ENTITY bookmarksButton.label          &quot;Bookmarks&quot;&gt;</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineminus">-&lt;!ENTITY bookmarksButton.accesskey      &quot;k&quot;&gt;</span>
<a href="#l13.20"></a><span id="l13.20"> </span>
<a href="#l13.21"></a><span id="l13.21"> &lt;!ENTITY defaultBrowserGroup.label      &quot;Default Browser&quot;&gt;</span>
<a href="#l13.22"></a><span id="l13.22"> &lt;!ENTITY defaultBrowserButton.label     &quot;Set Default Browser&quot;&gt;</span>
<a href="#l13.23"></a><span id="l13.23"> &lt;!ENTITY defaultBrowserButton.accesskey &quot;D&quot;&gt;</span>
<a href="#l13.24"></a><span id="l13.24"> &lt;!ENTITY alreadyDefaultText             &quot;&amp;brandShortName; is already your default browser.&quot;&gt;</span>
<a href="#l13.25"></a><span id="l13.25"> &lt;!ENTITY defaultPendingText             &quot;&amp;brandShortName; will be set as your default browser when you click OK.&quot;&gt;</span>
<a href="#l13.26"></a><span id="l13.26"> &lt;!ENTITY makeDefaultText                &quot;Set &amp;brandShortName; as your default browser.&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/suite/locales/en-US/chrome/common/utilityOverlay.dtd</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/utilityOverlay.dtd</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -81,16 +81,19 @@</span>
<a href="#l14.4"></a><span id="l14.4"> </span>
<a href="#l14.5"></a><span id="l14.5"> &lt;!ENTITY proxy.label                                    &quot;Proxy Configuration&quot;&gt;</span>
<a href="#l14.6"></a><span id="l14.6"> &lt;!ENTITY proxy.accesskey                                &quot;C&quot;&gt;</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8"> &lt;!ENTITY bidiSwitchTextDirectionItem.label        &quot;Switch Text Direction&quot;&gt;</span>
<a href="#l14.9"></a><span id="l14.9"> &lt;!ENTITY bidiSwitchTextDirectionItem.accesskey    &quot;w&quot;&gt;</span>
<a href="#l14.10"></a><span id="l14.10"> &lt;!ENTITY bidiSwitchTextDirectionItem.commandkey   &quot;X&quot;&gt;</span>
<a href="#l14.11"></a><span id="l14.11"> </span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+&lt;!ENTITY customizeToolbarContext.label            &quot;Customize&quot;&gt;</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+&lt;!ENTITY customizeToolbarContext.accesskey        &quot;C&quot;&gt;</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+</span>
<a href="#l14.15"></a><span id="l14.15"> &lt;!ENTITY customizeToolbar.toolbarmode.label       &quot;Settings for this toolbar&quot;&gt;</span>
<a href="#l14.16"></a><span id="l14.16"> &lt;!ENTITY customizeToolbar.toolbarmode.accesskey   &quot;t&quot;&gt;</span>
<a href="#l14.17"></a><span id="l14.17"> &lt;!ENTITY customizeToolbar.iconsAndText.label      &quot;Icons and Text&quot;&gt;</span>
<a href="#l14.18"></a><span id="l14.18"> &lt;!ENTITY customizeToolbar.iconsAndText.accesskey  &quot;a&quot;&gt;</span>
<a href="#l14.19"></a><span id="l14.19"> &lt;!ENTITY customizeToolbar.icons.label             &quot;Icons&quot;&gt;</span>
<a href="#l14.20"></a><span id="l14.20"> &lt;!ENTITY customizeToolbar.icons.accesskey         &quot;I&quot;&gt;</span>
<a href="#l14.21"></a><span id="l14.21"> &lt;!ENTITY customizeToolbar.text.label              &quot;Text&quot;&gt;</span>
<a href="#l14.22"></a><span id="l14.22"> &lt;!ENTITY customizeToolbar.text.accesskey          &quot;T&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/suite/themes/classic/communicator/win/toolbar.css</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/suite/themes/classic/communicator/win/toolbar.css</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -44,16 +44,20 @@</span>
<a href="#l15.4"></a><span id="l15.4"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l15.5"></a><span id="l15.5"> </span>
<a href="#l15.6"></a><span id="l15.6"> /* ::::: toolbar &amp; menubar ::::: */</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8"> .toolbar-holder {</span>
<a href="#l15.9"></a><span id="l15.9">   border-left: 1px solid ThreeDHighlight;</span>
<a href="#l15.10"></a><span id="l15.10"> }</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+toolbaritem &gt; menubar {</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+  border-bottom: 0px none;</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+}</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineplus">+</span>
<a href="#l15.16"></a><span id="l15.16"> /* ::::: toolbargrippy ::::: */</span>
<a href="#l15.17"></a><span id="l15.17"> </span>
<a href="#l15.18"></a><span id="l15.18"> toolbargrippy {</span>
<a href="#l15.19"></a><span id="l15.19">   -moz-box-orient: vertical;</span>
<a href="#l15.20"></a><span id="l15.20">   -moz-box-align: center;</span>
<a href="#l15.21"></a><span id="l15.21">   border-right: 1px solid ThreeDShadow;</span>
<a href="#l15.22"></a><span id="l15.22">   width: 10px;</span>
<a href="#l15.23"></a><span id="l15.23">   padding: 2px 1px;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/suite/themes/classic/jar.mn</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/suite/themes/classic/jar.mn</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l16.4"></a><span id="l16.4"> classic.jar:</span>
<a href="#l16.5"></a><span id="l16.5"> % skin communicator classic/1.0 %skin/classic/communicator/</span>
<a href="#l16.6"></a><span id="l16.6"> % skin editor classic/1.0 %skin/classic/editor/</span>
<a href="#l16.7"></a><span id="l16.7"> % skin global classic/1.0 %skin/classic/global/</span>
<a href="#l16.8"></a><span id="l16.8"> % skin messenger classic/1.0 %skin/classic/messenger/</span>
<a href="#l16.9"></a><span id="l16.9"> % skin navigator classic/1.0 %skin/classic/navigator/</span>
<a href="#l16.10"></a><span id="l16.10"> % skin messenger-newsblog classic/1.0 %skin/classic/messenger-newsblog/</span>
<a href="#l16.11"></a><span id="l16.11" class="difflineplus">+% style chrome://global/content/customizeToolbar.xul chrome://navigator/skin/navigator.css</span>
<a href="#l16.12"></a><span id="l16.12">   skin/classic/communicator/tasksOverlay.css                            (communicator/tasksOverlay.css)</span>
<a href="#l16.13"></a><span id="l16.13"> #ifdef XP_MACOSX</span>
<a href="#l16.14"></a><span id="l16.14">   skin/classic/communicator/button.css                                  (communicator/mac/button.css)</span>
<a href="#l16.15"></a><span id="l16.15"> #else</span>
<a href="#l16.16"></a><span id="l16.16">   skin/classic/communicator/button.css                                  (communicator/win/button.css)</span>
<a href="#l16.17"></a><span id="l16.17"> #endif</span>
<a href="#l16.18"></a><span id="l16.18">   skin/classic/communicator/brand.css                                   (communicator/brand.css)</span>
<a href="#l16.19"></a><span id="l16.19">   skin/classic/communicator/certError.css                               (communicator/certError.css)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/suite/themes/classic/navigator/navigator.css</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/suite/themes/classic/navigator/navigator.css</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -151,114 +151,138 @@</span>
<a href="#l17.4"></a><span id="l17.4"> }</span>
<a href="#l17.5"></a><span id="l17.5"> </span>
<a href="#l17.6"></a><span id="l17.6"> /* ::::: small primary toolbar buttons ::::: */</span>
<a href="#l17.7"></a><span id="l17.7"> </span>
<a href="#l17.8"></a><span id="l17.8"> #nav-bar[inFullscreen=&quot;true&quot;] .toolbar-grippy {</span>
<a href="#l17.9"></a><span id="l17.9">   display: none;</span>
<a href="#l17.10"></a><span id="l17.10"> }</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #back-button,</span>
<a href="#l17.13"></a><span id="l17.13"> toolbar[iconsize=&quot;small&quot;] &gt; #back-button {</span>
<a href="#l17.14"></a><span id="l17.14">   list-style-image: url(&quot;chrome://communicator/skin/icons/communicatoricons-small.png&quot;);</span>
<a href="#l17.15"></a><span id="l17.15">   -moz-image-region: rect(40px 19px 59px 0);</span>
<a href="#l17.16"></a><span id="l17.16"> }</span>
<a href="#l17.17"></a><span id="l17.17"> </span>
<a href="#l17.18"></a><span id="l17.18" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #back-button:hover,</span>
<a href="#l17.19"></a><span id="l17.19"> toolbar[iconsize=&quot;small&quot;] &gt; #back-button:hover {</span>
<a href="#l17.20"></a><span id="l17.20">   -moz-image-region: rect(40px 39px 59px 20px);</span>
<a href="#l17.21"></a><span id="l17.21"> }</span>
<a href="#l17.22"></a><span id="l17.22"> </span>
<a href="#l17.23"></a><span id="l17.23" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #back-button:hover:active,</span>
<a href="#l17.24"></a><span id="l17.24"> toolbar[iconsize=&quot;small&quot;] &gt; #back-button:hover:active {</span>
<a href="#l17.25"></a><span id="l17.25">   -moz-image-region: rect(40px 59px 59px 40px);</span>
<a href="#l17.26"></a><span id="l17.26"> }</span>
<a href="#l17.27"></a><span id="l17.27"> </span>
<a href="#l17.28"></a><span id="l17.28" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #back-button[disabled=&quot;true&quot;],</span>
<a href="#l17.29"></a><span id="l17.29"> toolbar[iconsize=&quot;small&quot;] &gt; #back-button[disabled=&quot;true&quot;] {</span>
<a href="#l17.30"></a><span id="l17.30">   -moz-image-region: rect(40px 79px 59px 60px) !important;</span>
<a href="#l17.31"></a><span id="l17.31"> }</span>
<a href="#l17.32"></a><span id="l17.32"> </span>
<a href="#l17.33"></a><span id="l17.33" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #forward-button,</span>
<a href="#l17.34"></a><span id="l17.34"> toolbar[iconsize=&quot;small&quot;] &gt; #forward-button {</span>
<a href="#l17.35"></a><span id="l17.35">   list-style-image: url(&quot;chrome://communicator/skin/icons/communicatoricons-small.png&quot;);</span>
<a href="#l17.36"></a><span id="l17.36">   -moz-image-region: rect(60px 19px 79px 0);</span>
<a href="#l17.37"></a><span id="l17.37"> }</span>
<a href="#l17.38"></a><span id="l17.38"> </span>
<a href="#l17.39"></a><span id="l17.39" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #forward-button:hover,</span>
<a href="#l17.40"></a><span id="l17.40"> toolbar[iconsize=&quot;small&quot;] &gt; #forward-button:hover {</span>
<a href="#l17.41"></a><span id="l17.41">   -moz-image-region: rect(60px 39px 79px 20px);</span>
<a href="#l17.42"></a><span id="l17.42"> }</span>
<a href="#l17.43"></a><span id="l17.43"> </span>
<a href="#l17.44"></a><span id="l17.44" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #forward-button:hover:active,</span>
<a href="#l17.45"></a><span id="l17.45"> toolbar[iconsize=&quot;small&quot;] &gt; #forward-button:hover:active {</span>
<a href="#l17.46"></a><span id="l17.46">   -moz-image-region: rect(60px 59px 79px 40px);</span>
<a href="#l17.47"></a><span id="l17.47"> }</span>
<a href="#l17.48"></a><span id="l17.48"> </span>
<a href="#l17.49"></a><span id="l17.49" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #forward-button[disabled=&quot;true&quot;],</span>
<a href="#l17.50"></a><span id="l17.50"> toolbar[iconsize=&quot;small&quot;] &gt; #forward-button[disabled=&quot;true&quot;] {</span>
<a href="#l17.51"></a><span id="l17.51">   -moz-image-region: rect(60px 79px 79px 60px) !important;</span>
<a href="#l17.52"></a><span id="l17.52"> }</span>
<a href="#l17.53"></a><span id="l17.53"> </span>
<a href="#l17.54"></a><span id="l17.54" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #reload-button,</span>
<a href="#l17.55"></a><span id="l17.55"> toolbar[iconsize=&quot;small&quot;] &gt; #reload-button {</span>
<a href="#l17.56"></a><span id="l17.56">   list-style-image: url(&quot;chrome://navigator/skin/icons/navigatoricons-small.png&quot;);</span>
<a href="#l17.57"></a><span id="l17.57">   -moz-image-region: rect(0 19px 19px 0);</span>
<a href="#l17.58"></a><span id="l17.58"> }</span>
<a href="#l17.59"></a><span id="l17.59"> </span>
<a href="#l17.60"></a><span id="l17.60" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #reload-button:hover,</span>
<a href="#l17.61"></a><span id="l17.61"> toolbar[iconsize=&quot;small&quot;] &gt; #reload-button:hover {</span>
<a href="#l17.62"></a><span id="l17.62">   -moz-image-region: rect(0 39px 19px 20px);</span>
<a href="#l17.63"></a><span id="l17.63"> }</span>
<a href="#l17.64"></a><span id="l17.64"> </span>
<a href="#l17.65"></a><span id="l17.65" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #reload-button:hover:active,</span>
<a href="#l17.66"></a><span id="l17.66"> toolbar[iconsize=&quot;small&quot;] &gt; #reload-button:hover:active {</span>
<a href="#l17.67"></a><span id="l17.67">   -moz-image-region: rect(0 59px 19px 40px);</span>
<a href="#l17.68"></a><span id="l17.68"> }</span>
<a href="#l17.69"></a><span id="l17.69"> </span>
<a href="#l17.70"></a><span id="l17.70" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #reload-button[disabled=&quot;true&quot;],</span>
<a href="#l17.71"></a><span id="l17.71"> toolbar[iconsize=&quot;small&quot;] &gt; #reload-button[disabled=&quot;true&quot;] {</span>
<a href="#l17.72"></a><span id="l17.72">   -moz-image-region: rect(0 79px 19px 60px) !important;</span>
<a href="#l17.73"></a><span id="l17.73"> }</span>
<a href="#l17.74"></a><span id="l17.74"> </span>
<a href="#l17.75"></a><span id="l17.75" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #stop-button,</span>
<a href="#l17.76"></a><span id="l17.76"> toolbar[iconsize=&quot;small&quot;] &gt; #stop-button {</span>
<a href="#l17.77"></a><span id="l17.77">   list-style-image: url(&quot;chrome://communicator/skin/icons/communicatoricons-small.png&quot;);</span>
<a href="#l17.78"></a><span id="l17.78">   -moz-image-region: rect(20px 19px 39px 0);</span>
<a href="#l17.79"></a><span id="l17.79"> }</span>
<a href="#l17.80"></a><span id="l17.80"> </span>
<a href="#l17.81"></a><span id="l17.81" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #stop-button:hover,</span>
<a href="#l17.82"></a><span id="l17.82"> toolbar[iconsize=&quot;small&quot;] &gt; #stop-button:hover {</span>
<a href="#l17.83"></a><span id="l17.83">   -moz-image-region: rect(20px 39px 39px 20px);</span>
<a href="#l17.84"></a><span id="l17.84"> }</span>
<a href="#l17.85"></a><span id="l17.85"> </span>
<a href="#l17.86"></a><span id="l17.86" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #stop-button:hover:active,</span>
<a href="#l17.87"></a><span id="l17.87"> toolbar[iconsize=&quot;small&quot;] &gt; #stop-button:hover:active {</span>
<a href="#l17.88"></a><span id="l17.88">   -moz-image-region: rect(20px 59px 39px 40px);</span>
<a href="#l17.89"></a><span id="l17.89"> }</span>
<a href="#l17.90"></a><span id="l17.90"> </span>
<a href="#l17.91"></a><span id="l17.91" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #stop-button[disabled=&quot;true&quot;],</span>
<a href="#l17.92"></a><span id="l17.92"> toolbar[iconsize=&quot;small&quot;] &gt; #stop-button[disabled=&quot;true&quot;] {</span>
<a href="#l17.93"></a><span id="l17.93">   -moz-image-region: rect(20px 79px 39px 60px) !important;</span>
<a href="#l17.94"></a><span id="l17.94"> }</span>
<a href="#l17.95"></a><span id="l17.95"> </span>
<a href="#l17.96"></a><span id="l17.96" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #print-button,</span>
<a href="#l17.97"></a><span id="l17.97"> toolbar[iconsize=&quot;small&quot;] &gt; #print-button {</span>
<a href="#l17.98"></a><span id="l17.98">   list-style-image: url(&quot;chrome://communicator/skin/icons/communicatoricons-small.png&quot;);</span>
<a href="#l17.99"></a><span id="l17.99">   -moz-image-region: rect(0 19px 19px 0);</span>
<a href="#l17.100"></a><span id="l17.100"> }</span>
<a href="#l17.101"></a><span id="l17.101"> </span>
<a href="#l17.102"></a><span id="l17.102" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #print-button:hover,</span>
<a href="#l17.103"></a><span id="l17.103"> toolbar[iconsize=&quot;small&quot;] &gt; #print-button:hover {</span>
<a href="#l17.104"></a><span id="l17.104">   -moz-image-region: rect(0 39px 19px 20px);</span>
<a href="#l17.105"></a><span id="l17.105"> }</span>
<a href="#l17.106"></a><span id="l17.106"> </span>
<a href="#l17.107"></a><span id="l17.107" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #print-button:hover:active,</span>
<a href="#l17.108"></a><span id="l17.108"> toolbar[iconsize=&quot;small&quot;] &gt; #print-button:hover:active {</span>
<a href="#l17.109"></a><span id="l17.109">   -moz-image-region: rect(0 59px 19px 40px);</span>
<a href="#l17.110"></a><span id="l17.110"> }</span>
<a href="#l17.111"></a><span id="l17.111"> </span>
<a href="#l17.112"></a><span id="l17.112" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #print-button[disabled=&quot;true&quot;],</span>
<a href="#l17.113"></a><span id="l17.113"> toolbar[iconsize=&quot;small&quot;] &gt; #print-button[disabled=&quot;true&quot;] {</span>
<a href="#l17.114"></a><span id="l17.114">   -moz-image-region: rect(0 79px 19px 60px) !important;</span>
<a href="#l17.115"></a><span id="l17.115"> }</span>
<a href="#l17.116"></a><span id="l17.116"> </span>
<a href="#l17.117"></a><span id="l17.117" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #home-button,</span>
<a href="#l17.118"></a><span id="l17.118"> toolbar[iconsize=&quot;small&quot;] &gt; #home-button {</span>
<a href="#l17.119"></a><span id="l17.119">   list-style-image: url(&quot;chrome://communicator/skin/icons/communicatoricons-small.png&quot;);</span>
<a href="#l17.120"></a><span id="l17.120">   -moz-image-region: rect(80px 19px 99px 0);</span>
<a href="#l17.121"></a><span id="l17.121"> }</span>
<a href="#l17.122"></a><span id="l17.122"> </span>
<a href="#l17.123"></a><span id="l17.123" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #home-button:hover,</span>
<a href="#l17.124"></a><span id="l17.124"> toolbar[iconsize=&quot;small&quot;] &gt; #home-button:hover {</span>
<a href="#l17.125"></a><span id="l17.125">   -moz-image-region: rect(80px 39px 99px 20px);</span>
<a href="#l17.126"></a><span id="l17.126"> }</span>
<a href="#l17.127"></a><span id="l17.127"> </span>
<a href="#l17.128"></a><span id="l17.128" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #home-button:hover:active,</span>
<a href="#l17.129"></a><span id="l17.129"> toolbar[iconsize=&quot;small&quot;] &gt; #home-button:hover:active {</span>
<a href="#l17.130"></a><span id="l17.130">   -moz-image-region: rect(80px 59px 99px 40px);</span>
<a href="#l17.131"></a><span id="l17.131"> }</span>
<a href="#l17.132"></a><span id="l17.132"> </span>
<a href="#l17.133"></a><span id="l17.133" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #home-button[disabled=&quot;true&quot;],</span>
<a href="#l17.134"></a><span id="l17.134"> toolbar[iconsize=&quot;small&quot;] &gt; #home-button[disabled=&quot;true&quot;] {</span>
<a href="#l17.135"></a><span id="l17.135">   -moz-image-region: rect(80px 79px 99px 60px) !important;</span>
<a href="#l17.136"></a><span id="l17.136"> }</span>
<a href="#l17.137"></a><span id="l17.137"> </span>
<a href="#l17.138"></a><span id="l17.138"> /* ::::: fullscreen window controls ::::: */</span>
<a href="#l17.139"></a><span id="l17.139"> </span>
<a href="#l17.140"></a><span id="l17.140"> #window-controls {</span>
<a href="#l17.141"></a><span id="l17.141">   -moz-box-align: center;</span>
<a href="#l17.142"></a><span id="l17.142" class="difflineat">@@ -300,16 +324,23 @@ toolbar[mode=&quot;text&quot;] &gt; #window-controls </span>
<a href="#l17.143"></a><span id="l17.143"> </span>
<a href="#l17.144"></a><span id="l17.144"> #urlbar[level=&quot;high&quot;] &gt; .autocomplete-textbox-container,</span>
<a href="#l17.145"></a><span id="l17.145"> #urlbar[level=&quot;low&quot;] &gt; .autocomplete-textbox-container {</span>
<a href="#l17.146"></a><span id="l17.146">   -moz-appearance: none;</span>
<a href="#l17.147"></a><span id="l17.147">   background-color: InfoBackground;</span>
<a href="#l17.148"></a><span id="l17.148">   color: InfoText;</span>
<a href="#l17.149"></a><span id="l17.149"> }</span>
<a href="#l17.150"></a><span id="l17.150"> </span>
<a href="#l17.151"></a><span id="l17.151" class="difflineplus">+#wrapper-nav-bar-inner[place=&quot;palette&quot;] &gt; #nav-bar-inner</span>
<a href="#l17.152"></a><span id="l17.152" class="difflineplus">+  &gt; .button-toolbar,</span>
<a href="#l17.153"></a><span id="l17.153" class="difflineplus">+#wrapper-nav-bar-inner[place=&quot;palette&quot;] &gt; #nav-bar-inner</span>
<a href="#l17.154"></a><span id="l17.154" class="difflineplus">+  &gt; #urlbar &gt; .urlbar-icons {</span>
<a href="#l17.155"></a><span id="l17.155" class="difflineplus">+  display: none;</span>
<a href="#l17.156"></a><span id="l17.156" class="difflineplus">+}</span>
<a href="#l17.157"></a><span id="l17.157" class="difflineplus">+</span>
<a href="#l17.158"></a><span id="l17.158"> /* ::::: page proxy icon ::::: */</span>
<a href="#l17.159"></a><span id="l17.159"> </span>
<a href="#l17.160"></a><span id="l17.160"> #page-proxy-deck,</span>
<a href="#l17.161"></a><span id="l17.161"> #page-proxy-favicon,</span>
<a href="#l17.162"></a><span id="l17.162"> #page-proxy-button {</span>
<a href="#l17.163"></a><span id="l17.163">   width: 16px;</span>
<a href="#l17.164"></a><span id="l17.164">   height: 16px;</span>
<a href="#l17.165"></a><span id="l17.165"> }</span>
<a href="#l17.166"></a><span id="l17.166" class="difflineat">@@ -462,16 +493,17 @@ toolbar[mode=&quot;text&quot;] toolbarbutton.chevr</span>
<a href="#l17.167"></a><span id="l17.167"> }</span>
<a href="#l17.168"></a><span id="l17.168"> </span>
<a href="#l17.169"></a><span id="l17.169"> /* Prevent [mode=&quot;icons&quot;|&quot;text&quot;] from hiding the label and icon */</span>
<a href="#l17.170"></a><span id="l17.170"> #bookmarks-ptf .bookmark-item &gt; .toolbarbutton-text,</span>
<a href="#l17.171"></a><span id="l17.171"> #bookmarks-ptf .bookmark-item &gt; .toolbarbutton-icon {</span>
<a href="#l17.172"></a><span id="l17.172">   display: -moz-box !important;</span>
<a href="#l17.173"></a><span id="l17.173"> }</span>
<a href="#l17.174"></a><span id="l17.174"> </span>
<a href="#l17.175"></a><span id="l17.175" class="difflineplus">+#PersonalToolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #home-button &gt; .toolbarbutton-icon,</span>
<a href="#l17.176"></a><span id="l17.176"> #PersonalToolbar[iconsize=&quot;small&quot;] &gt; #home-button &gt; .toolbarbutton-icon {</span>
<a href="#l17.177"></a><span id="l17.177">   width: 16px;</span>
<a href="#l17.178"></a><span id="l17.178">   height: 16px;</span>
<a href="#l17.179"></a><span id="l17.179"> }</span>
<a href="#l17.180"></a><span id="l17.180"> </span>
<a href="#l17.181"></a><span id="l17.181"> #PersonalToolbar &gt; #home-button {</span>
<a href="#l17.182"></a><span id="l17.182">   cursor: pointer;</span>
<a href="#l17.183"></a><span id="l17.183"> }</span>
<a href="#l17.184"></a><span id="l17.184" class="difflineat">@@ -480,16 +512,44 @@ toolbar[mode=&quot;text&quot;] toolbarbutton.chevr</span>
<a href="#l17.185"></a><span id="l17.185">   text-decoration: underline;</span>
<a href="#l17.186"></a><span id="l17.186"> }</span>
<a href="#l17.187"></a><span id="l17.187"> </span>
<a href="#l17.188"></a><span id="l17.188"> #PersonalToolbar &gt; #home-button[disabled=&quot;true&quot;] {</span>
<a href="#l17.189"></a><span id="l17.189">   cursor: default !important;</span>
<a href="#l17.190"></a><span id="l17.190">   text-decoration: none !important;</span>
<a href="#l17.191"></a><span id="l17.191"> }</span>
<a href="#l17.192"></a><span id="l17.192"> </span>
<a href="#l17.193"></a><span id="l17.193" class="difflineplus">+/*</span>
<a href="#l17.194"></a><span id="l17.194" class="difflineplus">+  In customize mode we hide the normal bookmark items and show a placeholder</span>
<a href="#l17.195"></a><span id="l17.195" class="difflineplus">+  for the drag/drop UI.</span>
<a href="#l17.196"></a><span id="l17.196" class="difflineplus">+*/</span>
<a href="#l17.197"></a><span id="l17.197" class="difflineplus">+.bookmarks-toolbar-customize {</span>
<a href="#l17.198"></a><span id="l17.198" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-folder-open.png&quot;);</span>
<a href="#l17.199"></a><span id="l17.199" class="difflineplus">+  display: none;</span>
<a href="#l17.200"></a><span id="l17.200" class="difflineplus">+  max-width: 15em !important;</span>
<a href="#l17.201"></a><span id="l17.201" class="difflineplus">+}</span>
<a href="#l17.202"></a><span id="l17.202" class="difflineplus">+</span>
<a href="#l17.203"></a><span id="l17.203" class="difflineplus">+toolbarpaletteitem[place] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-customize {</span>
<a href="#l17.204"></a><span id="l17.204" class="difflineplus">+  display: -moz-box;</span>
<a href="#l17.205"></a><span id="l17.205" class="difflineplus">+}</span>
<a href="#l17.206"></a><span id="l17.206" class="difflineplus">+</span>
<a href="#l17.207"></a><span id="l17.207" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-customize {</span>
<a href="#l17.208"></a><span id="l17.208" class="difflineplus">+  -moz-box-orient: vertical;</span>
<a href="#l17.209"></a><span id="l17.209" class="difflineplus">+}</span>
<a href="#l17.210"></a><span id="l17.210" class="difflineplus">+</span>
<a href="#l17.211"></a><span id="l17.211" class="difflineplus">+toolbarpaletteitem[place=&quot;toolbar&quot;] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-overflow-items,</span>
<a href="#l17.212"></a><span id="l17.212" class="difflineplus">+toolbarpaletteitem[place=&quot;toolbar&quot;] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-items {</span>
<a href="#l17.213"></a><span id="l17.213" class="difflineplus">+  visibility: collapse;</span>
<a href="#l17.214"></a><span id="l17.214" class="difflineplus">+}</span>
<a href="#l17.215"></a><span id="l17.215" class="difflineplus">+</span>
<a href="#l17.216"></a><span id="l17.216" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-overflow-items,</span>
<a href="#l17.217"></a><span id="l17.217" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-items {</span>
<a href="#l17.218"></a><span id="l17.218" class="difflineplus">+  display: none;</span>
<a href="#l17.219"></a><span id="l17.219" class="difflineplus">+}</span>
<a href="#l17.220"></a><span id="l17.220" class="difflineplus">+</span>
<a href="#l17.221"></a><span id="l17.221"> /* ::::: feeds ::::: */</span>
<a href="#l17.222"></a><span id="l17.222"> </span>
<a href="#l17.223"></a><span id="l17.223"> #feedsMenu {</span>
<a href="#l17.224"></a><span id="l17.224">   list-style-image: url(&quot;chrome://navigator/skin/btn1/feeds.png&quot;) !important;</span>
<a href="#l17.225"></a><span id="l17.225">   -moz-image-region: rect(0px 16px 16px 0px);</span>
<a href="#l17.226"></a><span id="l17.226"> }</span>
<a href="#l17.227"></a><span id="l17.227"> </span>
<a href="#l17.228"></a><span id="l17.228"> #feedsMenu[_moz-menuactive=&quot;true&quot;] {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/suite/themes/modern/global/toolbar.css</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/suite/themes/modern/global/toolbar.css</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -47,43 +47,50 @@ toolbox {</span>
<a href="#l18.4"></a><span id="l18.4">   border-bottom: 1px solid #494F5D;</span>
<a href="#l18.5"></a><span id="l18.5"> }</span>
<a href="#l18.6"></a><span id="l18.6">  </span>
<a href="#l18.7"></a><span id="l18.7"> /* ::::: toolbar ::::: */</span>
<a href="#l18.8"></a><span id="l18.8"> </span>
<a href="#l18.9"></a><span id="l18.9"> toolbar {</span>
<a href="#l18.10"></a><span id="l18.10">   min-width: 1px; /* DON'T DELETE!</span>
<a href="#l18.11"></a><span id="l18.11">     Prevents hiding of scrollbars in browser when window is made smaller.*/</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+  min-height: 22px;</span>
<a href="#l18.13"></a><span id="l18.13">   background: #C7D0D9;</span>
<a href="#l18.14"></a><span id="l18.14">   color: #000000;</span>
<a href="#l18.15"></a><span id="l18.15"> }</span>
<a href="#l18.16"></a><span id="l18.16"> </span>
<a href="#l18.17"></a><span id="l18.17"> toolbar &gt; .toolbar-box &gt; .toolbar-holder {</span>
<a href="#l18.18"></a><span id="l18.18">   border-top: 1px solid #EEF0F3;</span>
<a href="#l18.19"></a><span id="l18.19">   border-right: 1px solid #86929E;</span>
<a href="#l18.20"></a><span id="l18.20">   border-bottom: 1px solid #86929E;</span>
<a href="#l18.21"></a><span id="l18.21"> }</span>
<a href="#l18.22"></a><span id="l18.22"> </span>
<a href="#l18.23"></a><span id="l18.23"> /* ::::: menubar ::::: */</span>
<a href="#l18.24"></a><span id="l18.24"> </span>
<a href="#l18.25"></a><span id="l18.25" class="difflineminus">-menubar {</span>
<a href="#l18.26"></a><span id="l18.26" class="difflineplus">+menubar,</span>
<a href="#l18.27"></a><span id="l18.27" class="difflineplus">+toolbar[type=&quot;menubar&quot;] {</span>
<a href="#l18.28"></a><span id="l18.28">   cursor: default;</span>
<a href="#l18.29"></a><span id="l18.29">   min-width: 1px; /* DON'T DELETE!</span>
<a href="#l18.30"></a><span id="l18.30">     Prevents hiding of scrollbars in browser when window is made smaller.*/</span>
<a href="#l18.31"></a><span id="l18.31">   background-color: #DDE3EB;</span>
<a href="#l18.32"></a><span id="l18.32">   color: #000000;</span>
<a href="#l18.33"></a><span id="l18.33"> }</span>
<a href="#l18.34"></a><span id="l18.34" class="difflineminus">-  </span>
<a href="#l18.35"></a><span id="l18.35" class="difflineminus">-menubar &gt; .toolbar-box &gt; .toolbar-holder {</span>
<a href="#l18.36"></a><span id="l18.36" class="difflineplus">+</span>
<a href="#l18.37"></a><span id="l18.37" class="difflineplus">+menubar &gt; .toolbar-box &gt; .toolbar-holder,</span>
<a href="#l18.38"></a><span id="l18.38" class="difflineplus">+toolbar[type=&quot;menubar&quot;] &gt; .toolbar-box &gt; .toolbar-holder  {</span>
<a href="#l18.39"></a><span id="l18.39">   border-top: 1px solid #EBF4FF;</span>
<a href="#l18.40"></a><span id="l18.40">   border-right: 1px solid #86929E;</span>
<a href="#l18.41"></a><span id="l18.41">   border-bottom: 1px solid #B9BFC7;</span>
<a href="#l18.42"></a><span id="l18.42">   border-left: 1px solid #EEF4FC;</span>
<a href="#l18.43"></a><span id="l18.43"> }  </span>
<a href="#l18.44"></a><span id="l18.44"> </span>
<a href="#l18.45"></a><span id="l18.45" class="difflineplus">+toolbar &gt; toolbaritem &gt; menubar &gt; .toolbar-box &gt; .toolbar-holder {</span>
<a href="#l18.46"></a><span id="l18.46" class="difflineplus">+  border: 0px none;</span>
<a href="#l18.47"></a><span id="l18.47" class="difflineplus">+}</span>
<a href="#l18.48"></a><span id="l18.48" class="difflineplus">+</span>
<a href="#l18.49"></a><span id="l18.49"> /* ::::: toolbargrippy ::::: */</span>
<a href="#l18.50"></a><span id="l18.50">  </span>
<a href="#l18.51"></a><span id="l18.51"> toolbargrippy {</span>
<a href="#l18.52"></a><span id="l18.52">   -moz-box-orient: vertical;</span>
<a href="#l18.53"></a><span id="l18.53">   -moz-box-align: center;</span>
<a href="#l18.54"></a><span id="l18.54">   -moz-box-pack: end;</span>
<a href="#l18.55"></a><span id="l18.55">   -moz-box-direction: reverse;</span>
<a href="#l18.56"></a><span id="l18.56">   border-top: 1px solid #EEF0F3;</span>
<a href="#l18.57"></a><span id="l18.57" class="difflineat">@@ -102,17 +109,18 @@ toolbargrippy:hover:active {</span>
<a href="#l18.58"></a><span id="l18.58"> .toolbargrippy-arrow {</span>
<a href="#l18.59"></a><span id="l18.59">   margin: 0px 1px 3px 1px;</span>
<a href="#l18.60"></a><span id="l18.60">   width: 8px;</span>
<a href="#l18.61"></a><span id="l18.61">   height: 5px;</span>
<a href="#l18.62"></a><span id="l18.62"> }</span>
<a href="#l18.63"></a><span id="l18.63"> </span>
<a href="#l18.64"></a><span id="l18.64"> /* ::::: menubar grippy ::::: */</span>
<a href="#l18.65"></a><span id="l18.65"> </span>
<a href="#l18.66"></a><span id="l18.66" class="difflineminus">-menubar &gt; .toolbar-box &gt; toolbargrippy { </span>
<a href="#l18.67"></a><span id="l18.67" class="difflineplus">+toolbar[type=&quot;menubar&quot;] &gt; .toolbar-box &gt; toolbargrippy,</span>
<a href="#l18.68"></a><span id="l18.68" class="difflineplus">+menubar &gt; .toolbar-box &gt; toolbargrippy {</span>
<a href="#l18.69"></a><span id="l18.69">   border-top: 1px solid #EBF4FF;</span>
<a href="#l18.70"></a><span id="l18.70">   border-right: 1px solid #B9BFC7;</span>
<a href="#l18.71"></a><span id="l18.71">   border-bottom: 1px solid #B9BFC7;</span>
<a href="#l18.72"></a><span id="l18.72">   border-left: 1px solid #F4FAFF;</span>
<a href="#l18.73"></a><span id="l18.73">   background-color: #DDE3EB;</span>
<a href="#l18.74"></a><span id="l18.74">   list-style-image: url(&quot;chrome://global/skin/toolbar/mbgrip-arrow.gif&quot;);</span>
<a href="#l18.75"></a><span id="l18.75"> } </span>
<a href="#l18.76"></a><span id="l18.76"> </span>
<a href="#l18.77"></a><span id="l18.77" class="difflineat">@@ -135,18 +143,67 @@ toolbargrippy[tbgrippy-collapsed=&quot;true&quot;]</span>
<a href="#l18.78"></a><span id="l18.78"> toolbargrippy[tbgrippy-collapsed=&quot;true&quot;]:hover:active &gt; .toolbargrippy-arrow {</span>
<a href="#l18.79"></a><span id="l18.79">   list-style-image: url(&quot;chrome://global/skin/toolbar/tbgrip-arrow-clps-act.gif&quot;);</span>
<a href="#l18.80"></a><span id="l18.80"> }</span>
<a href="#l18.81"></a><span id="l18.81"> </span>
<a href="#l18.82"></a><span id="l18.82"> .collapsed-tray-holder {</span>
<a href="#l18.83"></a><span id="l18.83">   background-color: #C7D0D9;</span>
<a href="#l18.84"></a><span id="l18.84"> }</span>
<a href="#l18.85"></a><span id="l18.85"> </span>
<a href="#l18.86"></a><span id="l18.86" class="difflineminus">-/* ::::: toolbarseparator ::::: */</span>
<a href="#l18.87"></a><span id="l18.87" class="difflineplus">+/* ::::: toolbar decorations ::::: */</span>
<a href="#l18.88"></a><span id="l18.88"> </span>
<a href="#l18.89"></a><span id="l18.89"> toolbarseparator { </span>
<a href="#l18.90"></a><span id="l18.90">   margin: 0px 0.2em;</span>
<a href="#l18.91"></a><span id="l18.91">   border-right: 1px solid #E2E7EB;</span>
<a href="#l18.92"></a><span id="l18.92">   border-left: 1px solid #95A0AD;</span>
<a href="#l18.93"></a><span id="l18.93">   width: 0px;</span>
<a href="#l18.94"></a><span id="l18.94"> }</span>
<a href="#l18.95"></a><span id="l18.95"> </span>
<a href="#l18.96"></a><span id="l18.96" class="difflineplus">+toolbarspacer {</span>
<a href="#l18.97"></a><span id="l18.97" class="difflineplus">+  width: 15px;</span>
<a href="#l18.98"></a><span id="l18.98" class="difflineplus">+}</span>
<a href="#l18.99"></a><span id="l18.99"> </span>
<a href="#l18.100"></a><span id="l18.100" class="difflineplus">+/* ::::: toolbarpaletteitem ::::: */</span>
<a href="#l18.101"></a><span id="l18.101" class="difflineplus">+</span>
<a href="#l18.102"></a><span id="l18.102" class="difflineplus">+toolbarpaletteitem {</span>
<a href="#l18.103"></a><span id="l18.103" class="difflineplus">+  cursor: -moz-grab;</span>
<a href="#l18.104"></a><span id="l18.104" class="difflineplus">+}</span>
<a href="#l18.105"></a><span id="l18.105" class="difflineplus">+</span>
<a href="#l18.106"></a><span id="l18.106" class="difflineplus">+.toolbarpaletteitem-box[type=&quot;spacer&quot;],</span>
<a href="#l18.107"></a><span id="l18.107" class="difflineplus">+.toolbarpaletteitem-box[type=&quot;spring&quot;] {</span>
<a href="#l18.108"></a><span id="l18.108" class="difflineplus">+  border: 1px solid #808080;</span>
<a href="#l18.109"></a><span id="l18.109" class="difflineplus">+  background-color: #F0F0F0 !important;</span>
<a href="#l18.110"></a><span id="l18.110" class="difflineplus">+}</span>
<a href="#l18.111"></a><span id="l18.111" class="difflineplus">+</span>
<a href="#l18.112"></a><span id="l18.112" class="difflineplus">+toolbarpaletteitem[place=&quot;toolbar&quot;] &gt; toolbarspacer {</span>
<a href="#l18.113"></a><span id="l18.113" class="difflineplus">+  width: 11px;</span>
<a href="#l18.114"></a><span id="l18.114" class="difflineplus">+}</span>
<a href="#l18.115"></a><span id="l18.115" class="difflineplus">+</span>
<a href="#l18.116"></a><span id="l18.116" class="difflineplus">+.toolbarpaletteitem-box[type=&quot;separator&quot;][place=&quot;palette&quot;] {</span>
<a href="#l18.117"></a><span id="l18.117" class="difflineplus">+  width: 2px;</span>
<a href="#l18.118"></a><span id="l18.118" class="difflineplus">+  height: 50px;</span>
<a href="#l18.119"></a><span id="l18.119" class="difflineplus">+}</span>
<a href="#l18.120"></a><span id="l18.120" class="difflineplus">+</span>
<a href="#l18.121"></a><span id="l18.121" class="difflineplus">+.toolbarpaletteitem-box[type=&quot;splitter&quot;][place=&quot;palette&quot;] {</span>
<a href="#l18.122"></a><span id="l18.122" class="difflineplus">+  width: 8px;</span>
<a href="#l18.123"></a><span id="l18.123" class="difflineplus">+  height: 50px;</span>
<a href="#l18.124"></a><span id="l18.124" class="difflineplus">+}</span>
<a href="#l18.125"></a><span id="l18.125" class="difflineplus">+</span>
<a href="#l18.126"></a><span id="l18.126" class="difflineplus">+.toolbarpaletteitem-box[type=&quot;spacer&quot;][place=&quot;palette&quot;],</span>
<a href="#l18.127"></a><span id="l18.127" class="difflineplus">+.toolbarpaletteitem-box[type=&quot;spring&quot;][place=&quot;palette&quot;] {</span>
<a href="#l18.128"></a><span id="l18.128" class="difflineplus">+  margin-bottom: 2px;</span>
<a href="#l18.129"></a><span id="l18.129" class="difflineplus">+  width: 50px;</span>
<a href="#l18.130"></a><span id="l18.130" class="difflineplus">+  height: 50px;</span>
<a href="#l18.131"></a><span id="l18.131" class="difflineplus">+}</span>
<a href="#l18.132"></a><span id="l18.132" class="difflineplus">+</span>
<a href="#l18.133"></a><span id="l18.133" class="difflineplus">+.toolbarpaletteitem-box[type=&quot;spring&quot;][place] {</span>
<a href="#l18.134"></a><span id="l18.134" class="difflineplus">+  background: url(&quot;chrome://global/skin/toolbar/spring.png&quot;) no-repeat center;</span>
<a href="#l18.135"></a><span id="l18.135" class="difflineplus">+}</span>
<a href="#l18.136"></a><span id="l18.136" class="difflineplus">+</span>
<a href="#l18.137"></a><span id="l18.137" class="difflineplus">+/* ..... drag and drop feedback ..... */</span>
<a href="#l18.138"></a><span id="l18.138" class="difflineplus">+</span>
<a href="#l18.139"></a><span id="l18.139" class="difflineplus">+toolbarpaletteitem[dragover=&quot;left&quot;] {</span>
<a href="#l18.140"></a><span id="l18.140" class="difflineplus">+  border-left-color: #000000;</span>
<a href="#l18.141"></a><span id="l18.141" class="difflineplus">+}</span>
<a href="#l18.142"></a><span id="l18.142" class="difflineplus">+</span>
<a href="#l18.143"></a><span id="l18.143" class="difflineplus">+toolbarpaletteitem[dragover=&quot;right&quot;] {</span>
<a href="#l18.144"></a><span id="l18.144" class="difflineplus">+  border-right-color: #000000;</span>
<a href="#l18.145"></a><span id="l18.145" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/suite/themes/modern/jar.mn</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/suite/themes/modern/jar.mn</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,16 +1,17 @@</span>
<a href="#l19.4"></a><span id="l19.4"> modern.jar:</span>
<a href="#l19.5"></a><span id="l19.5"> % skin communicator modern/1.0 %skin/modern/communicator/</span>
<a href="#l19.6"></a><span id="l19.6"> % skin editor modern/1.0 %skin/modern/editor/</span>
<a href="#l19.7"></a><span id="l19.7"> % skin global modern/1.0 %skin/modern/global/</span>
<a href="#l19.8"></a><span id="l19.8"> % skin help modern/1.0 %skin/modern/help/</span>
<a href="#l19.9"></a><span id="l19.9"> % skin messenger modern/1.0 %skin/modern/messenger/</span>
<a href="#l19.10"></a><span id="l19.10"> % skin navigator modern/1.0 %skin/modern/navigator/</span>
<a href="#l19.11"></a><span id="l19.11"> % skin messenger-newsblog modern/1.0 %skin/modern/messenger-newsblog/</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+% style chrome://global/content/customizeToolbar.xul chrome://navigator/skin/navigator.css</span>
<a href="#l19.13"></a><span id="l19.13">   skin/modern/communicator/brand.css                               (communicator/brand.css)</span>
<a href="#l19.14"></a><span id="l19.14">   skin/modern/communicator/certError.css                           (communicator/certError.css)</span>
<a href="#l19.15"></a><span id="l19.15">   skin/modern/communicator/prefpanels.css                          (communicator/prefpanels.css)</span>
<a href="#l19.16"></a><span id="l19.16">   skin/modern/communicator/preferences.css                         (communicator/preferences.css)</span>
<a href="#l19.17"></a><span id="l19.17">   skin/modern/communicator/tasksOverlay.css                        (communicator/tasksOverlay.css)</span>
<a href="#l19.18"></a><span id="l19.18">   skin/modern/communicator/button.css                              (communicator/button.css)</span>
<a href="#l19.19"></a><span id="l19.19">   skin/modern/communicator/toolbar.css                             (communicator/toolbar.css)</span>
<a href="#l19.20"></a><span id="l19.20">   skin/modern/communicator/dialogs.css                             (communicator/dialogs.css)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/suite/themes/modern/navigator/navigator.css</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/suite/themes/modern/navigator/navigator.css</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -155,132 +155,151 @@ toolbox {</span>
<a href="#l20.4"></a><span id="l20.4"> }</span>
<a href="#l20.5"></a><span id="l20.5"> </span>
<a href="#l20.6"></a><span id="l20.6"> #home-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.7"></a><span id="l20.7">   -moz-image-region: rect(156px 168px 195px 126px) !important;</span>
<a href="#l20.8"></a><span id="l20.8"> }</span>
<a href="#l20.9"></a><span id="l20.9"> </span>
<a href="#l20.10"></a><span id="l20.10"> /* ::::: small primary toolbar buttons ::::: */</span>
<a href="#l20.11"></a><span id="l20.11"> </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] .toolbarbutton-1 {</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; .toolbarbutton-1,</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; .toolbarbutton-1 {</span>
<a href="#l20.15"></a><span id="l20.15">   list-style-image: url(&quot;chrome://communicator/skin/icons/common-small.png&quot;);</span>
<a href="#l20.16"></a><span id="l20.16"> }</span>
<a href="#l20.17"></a><span id="l20.17"> </span>
<a href="#l20.18"></a><span id="l20.18" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #back-button {</span>
<a href="#l20.19"></a><span id="l20.19" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #back-button,</span>
<a href="#l20.20"></a><span id="l20.20" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #back-button {</span>
<a href="#l20.21"></a><span id="l20.21">   list-style-image: url(&quot;chrome://communicator/skin/icons/common-small.png&quot;);</span>
<a href="#l20.22"></a><span id="l20.22">   -moz-image-region: rect(38px 19px 57px 0);</span>
<a href="#l20.23"></a><span id="l20.23"> }</span>
<a href="#l20.24"></a><span id="l20.24"> </span>
<a href="#l20.25"></a><span id="l20.25" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #back-button:hover {</span>
<a href="#l20.26"></a><span id="l20.26" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #back-button:hover,</span>
<a href="#l20.27"></a><span id="l20.27" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #back-button:hover {</span>
<a href="#l20.28"></a><span id="l20.28">   -moz-image-region: rect(38px 38px 57px 19px);</span>
<a href="#l20.29"></a><span id="l20.29"> }</span>
<a href="#l20.30"></a><span id="l20.30"> </span>
<a href="#l20.31"></a><span id="l20.31" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #back-button:hover:active {</span>
<a href="#l20.32"></a><span id="l20.32" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #back-button:hover:active,</span>
<a href="#l20.33"></a><span id="l20.33" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #back-button:hover:active {</span>
<a href="#l20.34"></a><span id="l20.34">   -moz-image-region: rect(38px 57px 57px 38px);</span>
<a href="#l20.35"></a><span id="l20.35"> }</span>
<a href="#l20.36"></a><span id="l20.36"> </span>
<a href="#l20.37"></a><span id="l20.37" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #back-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.38"></a><span id="l20.38" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #back-button[disabled=&quot;true&quot;],</span>
<a href="#l20.39"></a><span id="l20.39" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #back-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.40"></a><span id="l20.40">   -moz-image-region: rect(38px 76px 57px 57px) !important;</span>
<a href="#l20.41"></a><span id="l20.41"> }</span>
<a href="#l20.42"></a><span id="l20.42"> </span>
<a href="#l20.43"></a><span id="l20.43" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #forward-button {</span>
<a href="#l20.44"></a><span id="l20.44" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #forward-button,</span>
<a href="#l20.45"></a><span id="l20.45" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #forward-button {</span>
<a href="#l20.46"></a><span id="l20.46">   list-style-image: url(&quot;chrome://communicator/skin/icons/common-small.png&quot;);</span>
<a href="#l20.47"></a><span id="l20.47">   -moz-image-region: rect(57px 19px 76px 0);</span>
<a href="#l20.48"></a><span id="l20.48"> }</span>
<a href="#l20.49"></a><span id="l20.49"> </span>
<a href="#l20.50"></a><span id="l20.50" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #forward-button:hover {</span>
<a href="#l20.51"></a><span id="l20.51" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #forward-button:hover,</span>
<a href="#l20.52"></a><span id="l20.52" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #forward-button:hover {</span>
<a href="#l20.53"></a><span id="l20.53">   -moz-image-region: rect(57px 38px 76px 19px);</span>
<a href="#l20.54"></a><span id="l20.54"> }</span>
<a href="#l20.55"></a><span id="l20.55"> </span>
<a href="#l20.56"></a><span id="l20.56" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #forward-button:hover:active {</span>
<a href="#l20.57"></a><span id="l20.57" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #forward-button:hover:active,</span>
<a href="#l20.58"></a><span id="l20.58" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #forward-button:hover:active {</span>
<a href="#l20.59"></a><span id="l20.59">   -moz-image-region: rect(57px 57px 76px 38px);</span>
<a href="#l20.60"></a><span id="l20.60"> }</span>
<a href="#l20.61"></a><span id="l20.61"> </span>
<a href="#l20.62"></a><span id="l20.62" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #forward-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.63"></a><span id="l20.63" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #forward-button[disabled=&quot;true&quot;],</span>
<a href="#l20.64"></a><span id="l20.64" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #forward-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.65"></a><span id="l20.65">   -moz-image-region: rect(57px 76px 76px 57px) !important;</span>
<a href="#l20.66"></a><span id="l20.66"> }</span>
<a href="#l20.67"></a><span id="l20.67"> </span>
<a href="#l20.68"></a><span id="l20.68" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #reload-button {</span>
<a href="#l20.69"></a><span id="l20.69" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #reload-button,</span>
<a href="#l20.70"></a><span id="l20.70" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #reload-button {</span>
<a href="#l20.71"></a><span id="l20.71">   list-style-image: url(&quot;chrome://navigator/skin/icons/browser-small.png&quot;);</span>
<a href="#l20.72"></a><span id="l20.72">   -moz-image-region: rect(0 19px 19px 0);</span>
<a href="#l20.73"></a><span id="l20.73"> }</span>
<a href="#l20.74"></a><span id="l20.74"> </span>
<a href="#l20.75"></a><span id="l20.75" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #reload-button:hover {</span>
<a href="#l20.76"></a><span id="l20.76" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #reload-button:hover,</span>
<a href="#l20.77"></a><span id="l20.77" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #reload-button:hover {</span>
<a href="#l20.78"></a><span id="l20.78">   -moz-image-region: rect(0 38px 19px 19px);</span>
<a href="#l20.79"></a><span id="l20.79"> }</span>
<a href="#l20.80"></a><span id="l20.80"> </span>
<a href="#l20.81"></a><span id="l20.81" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #reload-button:hover:active {</span>
<a href="#l20.82"></a><span id="l20.82" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #reload-button:hover:active,</span>
<a href="#l20.83"></a><span id="l20.83" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #reload-button:hover:active {</span>
<a href="#l20.84"></a><span id="l20.84">   -moz-image-region: rect(0 57px 19px 38px);</span>
<a href="#l20.85"></a><span id="l20.85"> }</span>
<a href="#l20.86"></a><span id="l20.86"> </span>
<a href="#l20.87"></a><span id="l20.87" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #reload-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.88"></a><span id="l20.88" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #reload-button[disabled=&quot;true&quot;],</span>
<a href="#l20.89"></a><span id="l20.89" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #reload-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.90"></a><span id="l20.90">   -moz-image-region: rect(0 76px 19px 57px) !important;</span>
<a href="#l20.91"></a><span id="l20.91"> }</span>
<a href="#l20.92"></a><span id="l20.92"> </span>
<a href="#l20.93"></a><span id="l20.93" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #stop-button {</span>
<a href="#l20.94"></a><span id="l20.94" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #stop-button,</span>
<a href="#l20.95"></a><span id="l20.95" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #stop-button {</span>
<a href="#l20.96"></a><span id="l20.96">   list-style-image: url(&quot;chrome://communicator/skin/icons/common-small.png&quot;);</span>
<a href="#l20.97"></a><span id="l20.97">   -moz-image-region: rect(19px 19px 38px 0);</span>
<a href="#l20.98"></a><span id="l20.98"> }</span>
<a href="#l20.99"></a><span id="l20.99"> </span>
<a href="#l20.100"></a><span id="l20.100" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #stop-button:hover {</span>
<a href="#l20.101"></a><span id="l20.101" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #stop-button:hover,</span>
<a href="#l20.102"></a><span id="l20.102" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #stop-button:hover {</span>
<a href="#l20.103"></a><span id="l20.103">   -moz-image-region: rect(19px 38px 38px 19px);</span>
<a href="#l20.104"></a><span id="l20.104"> }</span>
<a href="#l20.105"></a><span id="l20.105"> </span>
<a href="#l20.106"></a><span id="l20.106" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #stop-button:hover:active {</span>
<a href="#l20.107"></a><span id="l20.107" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #stop-button:hover:active,</span>
<a href="#l20.108"></a><span id="l20.108" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #stop-button:hover:active {</span>
<a href="#l20.109"></a><span id="l20.109">   -moz-image-region: rect(19px 57px 38px 38px);</span>
<a href="#l20.110"></a><span id="l20.110"> }</span>
<a href="#l20.111"></a><span id="l20.111"> </span>
<a href="#l20.112"></a><span id="l20.112" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #stop-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.113"></a><span id="l20.113" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #stop-button[disabled=&quot;true&quot;],</span>
<a href="#l20.114"></a><span id="l20.114" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #stop-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.115"></a><span id="l20.115">   -moz-image-region: rect(19px 76px 38px 57px) !important;</span>
<a href="#l20.116"></a><span id="l20.116"> }</span>
<a href="#l20.117"></a><span id="l20.117"> </span>
<a href="#l20.118"></a><span id="l20.118" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #print-button {</span>
<a href="#l20.119"></a><span id="l20.119" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #print-button,</span>
<a href="#l20.120"></a><span id="l20.120" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #print-button {</span>
<a href="#l20.121"></a><span id="l20.121">   list-style-image: url(&quot;chrome://communicator/skin/icons/common-small.png&quot;);</span>
<a href="#l20.122"></a><span id="l20.122">   -moz-image-region: rect(0 19px 19px 0);</span>
<a href="#l20.123"></a><span id="l20.123"> }</span>
<a href="#l20.124"></a><span id="l20.124"> </span>
<a href="#l20.125"></a><span id="l20.125" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #print-button:hover {</span>
<a href="#l20.126"></a><span id="l20.126" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #print-button:hover,</span>
<a href="#l20.127"></a><span id="l20.127" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #print-button:hover {</span>
<a href="#l20.128"></a><span id="l20.128">   -moz-image-region: rect(0 38px 19px 19px);</span>
<a href="#l20.129"></a><span id="l20.129"> }</span>
<a href="#l20.130"></a><span id="l20.130"> </span>
<a href="#l20.131"></a><span id="l20.131" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #print-button:hover:active {</span>
<a href="#l20.132"></a><span id="l20.132" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #print-button:hover:active,</span>
<a href="#l20.133"></a><span id="l20.133" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #print-button:hover:active {</span>
<a href="#l20.134"></a><span id="l20.134">   -moz-image-region: rect(0 57px 19px 38px);</span>
<a href="#l20.135"></a><span id="l20.135"> }</span>
<a href="#l20.136"></a><span id="l20.136"> </span>
<a href="#l20.137"></a><span id="l20.137" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #print-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.138"></a><span id="l20.138" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #print-button[disabled=&quot;true&quot;],</span>
<a href="#l20.139"></a><span id="l20.139" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #print-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.140"></a><span id="l20.140">   -moz-image-region: rect(0 76px 19px 57px) !important;</span>
<a href="#l20.141"></a><span id="l20.141"> }</span>
<a href="#l20.142"></a><span id="l20.142"> </span>
<a href="#l20.143"></a><span id="l20.143" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #home-button,</span>
<a href="#l20.144"></a><span id="l20.144"> toolbar[iconsize=&quot;small&quot;] &gt; #home-button {</span>
<a href="#l20.145"></a><span id="l20.145">   list-style-image: url(&quot;chrome://communicator/skin/icons/common-small.png&quot;);</span>
<a href="#l20.146"></a><span id="l20.146">   -moz-image-region: rect(76px 19px 95px 0);</span>
<a href="#l20.147"></a><span id="l20.147"> }</span>
<a href="#l20.148"></a><span id="l20.148"> </span>
<a href="#l20.149"></a><span id="l20.149" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #home-button:hover,</span>
<a href="#l20.150"></a><span id="l20.150"> toolbar[iconsize=&quot;small&quot;] &gt; #home-button:hover {</span>
<a href="#l20.151"></a><span id="l20.151">   -moz-image-region: rect(76px 38px 95px 19px);</span>
<a href="#l20.152"></a><span id="l20.152"> }</span>
<a href="#l20.153"></a><span id="l20.153"> </span>
<a href="#l20.154"></a><span id="l20.154" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #home-button:hover:active,</span>
<a href="#l20.155"></a><span id="l20.155"> toolbar[iconsize=&quot;small&quot;] &gt; #home-button:hover:active {</span>
<a href="#l20.156"></a><span id="l20.156">   -moz-image-region: rect(76px 57px 95px 38px);</span>
<a href="#l20.157"></a><span id="l20.157"> }</span>
<a href="#l20.158"></a><span id="l20.158"> </span>
<a href="#l20.159"></a><span id="l20.159" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #home-button[disabled=&quot;true&quot;],</span>
<a href="#l20.160"></a><span id="l20.160"> toolbar[iconsize=&quot;small&quot;] &gt; #home-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.161"></a><span id="l20.161">   -moz-image-region: rect(76px 76px 95px 57px) !important;</span>
<a href="#l20.162"></a><span id="l20.162"> }</span>
<a href="#l20.163"></a><span id="l20.163"> </span>
<a href="#l20.164"></a><span id="l20.164"> #nav-bar[iconsize=&quot;small&quot;] {</span>
<a href="#l20.165"></a><span id="l20.165">   min-height: 0;</span>
<a href="#l20.166"></a><span id="l20.166"> }</span>
<a href="#l20.167"></a><span id="l20.167"> </span>
<a href="#l20.168"></a><span id="l20.168" class="difflineminus">-toolbar[mode=&quot;text&quot;] &gt; #nav-bar-inner,</span>
<a href="#l20.169"></a><span id="l20.169" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] &gt; #nav-bar-inner {</span>
<a href="#l20.170"></a><span id="l20.170" class="difflineminus">-  margin: 0 !important;</span>
<a href="#l20.171"></a><span id="l20.171" class="difflineminus">-  border: none !important;</span>
<a href="#l20.172"></a><span id="l20.172" class="difflineminus">-}</span>
<a href="#l20.173"></a><span id="l20.173" class="difflineminus">-</span>
<a href="#l20.174"></a><span id="l20.174"> #nav-bar[inFullscreen] &gt; .toolbar-primary-grippy {</span>
<a href="#l20.175"></a><span id="l20.175">   display: none;</span>
<a href="#l20.176"></a><span id="l20.176"> }</span>
<a href="#l20.177"></a><span id="l20.177"> </span>
<a href="#l20.178"></a><span id="l20.178"> #nav-bar[iconsize=&quot;small&quot;] &gt; .toolbar-primary-holder {</span>
<a href="#l20.179"></a><span id="l20.179">   background: #D0D7DF;</span>
<a href="#l20.180"></a><span id="l20.180"> }</span>
<a href="#l20.181"></a><span id="l20.181"> </span>
<a href="#l20.182"></a><span id="l20.182" class="difflineat">@@ -423,27 +442,42 @@ toolbar[iconsize=small][mode=&quot;icons&quot;] #p</span>
<a href="#l20.183"></a><span id="l20.183">   min-width: 0px;</span>
<a href="#l20.184"></a><span id="l20.184"> }</span>
<a href="#l20.185"></a><span id="l20.185"> </span>
<a href="#l20.186"></a><span id="l20.186"> toolbar[mode=&quot;text&quot;] #nav-bar-inner {</span>
<a href="#l20.187"></a><span id="l20.187">   margin: 2px 0px 2px 5px;</span>
<a href="#l20.188"></a><span id="l20.188">   border: 0px;</span>
<a href="#l20.189"></a><span id="l20.189"> }</span>
<a href="#l20.190"></a><span id="l20.190"> </span>
<a href="#l20.191"></a><span id="l20.191" class="difflineplus">+toolbar[mode=&quot;text&quot;] &gt; #nav-bar-inner,</span>
<a href="#l20.192"></a><span id="l20.192" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; #nav-bar-inner,</span>
<a href="#l20.193"></a><span id="l20.193" class="difflineplus">+toolbar[mode=&quot;text&quot;] &gt; toolbarpaletteitem &gt; #nav-bar-inner,</span>
<a href="#l20.194"></a><span id="l20.194" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #nav-bar-inner {</span>
<a href="#l20.195"></a><span id="l20.195" class="difflineplus">+  margin: 0 !important;</span>
<a href="#l20.196"></a><span id="l20.196" class="difflineplus">+  border: none !important;</span>
<a href="#l20.197"></a><span id="l20.197" class="difflineplus">+}</span>
<a href="#l20.198"></a><span id="l20.198" class="difflineplus">+</span>
<a href="#l20.199"></a><span id="l20.199"> toolbar[mode=&quot;text&quot;] #nav-bar-inner &gt; #search-button {</span>
<a href="#l20.200"></a><span id="l20.200">   margin-right: 0px;</span>
<a href="#l20.201"></a><span id="l20.201"> }</span>
<a href="#l20.202"></a><span id="l20.202"> </span>
<a href="#l20.203"></a><span id="l20.203"> toolbar[mode=&quot;text&quot;] #nav-bar-inner &gt; #search-button &gt; .button-box</span>
<a href="#l20.204"></a><span id="l20.204">   &gt; .button-icon,</span>
<a href="#l20.205"></a><span id="l20.205"> toolbar[mode=&quot;icons&quot;] #nav-bar-inner &gt; #search-button &gt; .button-box</span>
<a href="#l20.206"></a><span id="l20.206">   &gt; .button-text {</span>
<a href="#l20.207"></a><span id="l20.207">   display: none;</span>
<a href="#l20.208"></a><span id="l20.208"> }</span>
<a href="#l20.209"></a><span id="l20.209"> </span>
<a href="#l20.210"></a><span id="l20.210" class="difflineplus">+#wrapper-nav-bar-inner[place=&quot;palette&quot;] &gt; #nav-bar-inner</span>
<a href="#l20.211"></a><span id="l20.211" class="difflineplus">+  &gt; .button-toolbar,</span>
<a href="#l20.212"></a><span id="l20.212" class="difflineplus">+#wrapper-nav-bar-inner[place=&quot;palette&quot;] &gt; #nav-bar-inner</span>
<a href="#l20.213"></a><span id="l20.213" class="difflineplus">+  &gt; #urlbar &gt; .urlbar-icons {</span>
<a href="#l20.214"></a><span id="l20.214" class="difflineplus">+  display: none;</span>
<a href="#l20.215"></a><span id="l20.215" class="difflineplus">+}</span>
<a href="#l20.216"></a><span id="l20.216" class="difflineplus">+</span>
<a href="#l20.217"></a><span id="l20.217"> /* ::::: urlbar - the url textbox ::::: */</span>
<a href="#l20.218"></a><span id="l20.218"> </span>
<a href="#l20.219"></a><span id="l20.219"> #urlbar {</span>
<a href="#l20.220"></a><span id="l20.220">   margin: 2px 6px 2px 3px;</span>
<a href="#l20.221"></a><span id="l20.221">   border: 3px solid;</span>
<a href="#l20.222"></a><span id="l20.222">   -moz-border-top-colors: #A2AFBD #000000 #A7BACA;</span>
<a href="#l20.223"></a><span id="l20.223">   -moz-border-right-colors: #D2DAE1 #000000 #768C9F;</span>
<a href="#l20.224"></a><span id="l20.224">   -moz-border-bottom-colors: #D2DAE1 #000000 #768C9F;</span>
<a href="#l20.225"></a><span id="l20.225" class="difflineat">@@ -580,16 +614,17 @@ toolbar[mode=&quot;text&quot;] toolbarbutton.chevr</span>
<a href="#l20.226"></a><span id="l20.226"> }</span>
<a href="#l20.227"></a><span id="l20.227"> </span>
<a href="#l20.228"></a><span id="l20.228"> /* Prevent [mode=&quot;icons&quot;|&quot;text&quot;] from hiding the label and icon */</span>
<a href="#l20.229"></a><span id="l20.229"> #bookmarks-ptf .bookmark-item &gt; .toolbarbutton-text,</span>
<a href="#l20.230"></a><span id="l20.230"> #bookmarks-ptf .bookmark-item &gt; .toolbarbutton-icon {</span>
<a href="#l20.231"></a><span id="l20.231">   display: -moz-box !important;</span>
<a href="#l20.232"></a><span id="l20.232"> }</span>
<a href="#l20.233"></a><span id="l20.233"> </span>
<a href="#l20.234"></a><span id="l20.234" class="difflineplus">+#PersonalToolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #home-button &gt; .toolbarbutton-icon,</span>
<a href="#l20.235"></a><span id="l20.235"> #PersonalToolbar[iconsize=&quot;small&quot;] &gt; #home-button &gt; .toolbarbutton-icon {</span>
<a href="#l20.236"></a><span id="l20.236">   width: 16px;</span>
<a href="#l20.237"></a><span id="l20.237">   height: 16px;</span>
<a href="#l20.238"></a><span id="l20.238"> }</span>
<a href="#l20.239"></a><span id="l20.239"> </span>
<a href="#l20.240"></a><span id="l20.240"> #PersonalToolbar &gt; #home-button {</span>
<a href="#l20.241"></a><span id="l20.241">   cursor: pointer;</span>
<a href="#l20.242"></a><span id="l20.242"> }</span>
<a href="#l20.243"></a><span id="l20.243" class="difflineat">@@ -598,16 +633,44 @@ toolbar[mode=&quot;text&quot;] toolbarbutton.chevr</span>
<a href="#l20.244"></a><span id="l20.244">   text-decoration: underline;</span>
<a href="#l20.245"></a><span id="l20.245"> }</span>
<a href="#l20.246"></a><span id="l20.246"> </span>
<a href="#l20.247"></a><span id="l20.247"> #PersonalToolbar &gt; #home-button[disabled=&quot;true&quot;] {</span>
<a href="#l20.248"></a><span id="l20.248">   cursor: default !important;</span>
<a href="#l20.249"></a><span id="l20.249">   text-decoration: none !important;</span>
<a href="#l20.250"></a><span id="l20.250"> }</span>
<a href="#l20.251"></a><span id="l20.251"> </span>
<a href="#l20.252"></a><span id="l20.252" class="difflineplus">+/*</span>
<a href="#l20.253"></a><span id="l20.253" class="difflineplus">+  In customize mode we hide the normal bookmark items and show a placeholder</span>
<a href="#l20.254"></a><span id="l20.254" class="difflineplus">+  for the drag/drop UI.</span>
<a href="#l20.255"></a><span id="l20.255" class="difflineplus">+*/</span>
<a href="#l20.256"></a><span id="l20.256" class="difflineplus">+.bookmarks-toolbar-customize {</span>
<a href="#l20.257"></a><span id="l20.257" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-folder-open.gif&quot;);</span>
<a href="#l20.258"></a><span id="l20.258" class="difflineplus">+  display: none;</span>
<a href="#l20.259"></a><span id="l20.259" class="difflineplus">+  max-width: 15em !important;</span>
<a href="#l20.260"></a><span id="l20.260" class="difflineplus">+}</span>
<a href="#l20.261"></a><span id="l20.261" class="difflineplus">+</span>
<a href="#l20.262"></a><span id="l20.262" class="difflineplus">+toolbarpaletteitem[place] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-customize {</span>
<a href="#l20.263"></a><span id="l20.263" class="difflineplus">+  display: -moz-box;</span>
<a href="#l20.264"></a><span id="l20.264" class="difflineplus">+}</span>
<a href="#l20.265"></a><span id="l20.265" class="difflineplus">+</span>
<a href="#l20.266"></a><span id="l20.266" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-customize {</span>
<a href="#l20.267"></a><span id="l20.267" class="difflineplus">+  -moz-box-orient: vertical;</span>
<a href="#l20.268"></a><span id="l20.268" class="difflineplus">+}</span>
<a href="#l20.269"></a><span id="l20.269" class="difflineplus">+</span>
<a href="#l20.270"></a><span id="l20.270" class="difflineplus">+toolbarpaletteitem[place=&quot;toolbar&quot;] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-overflow-items,</span>
<a href="#l20.271"></a><span id="l20.271" class="difflineplus">+toolbarpaletteitem[place=&quot;toolbar&quot;] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-items {</span>
<a href="#l20.272"></a><span id="l20.272" class="difflineplus">+  visibility: collapse;</span>
<a href="#l20.273"></a><span id="l20.273" class="difflineplus">+}</span>
<a href="#l20.274"></a><span id="l20.274" class="difflineplus">+</span>
<a href="#l20.275"></a><span id="l20.275" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-overflow-items,</span>
<a href="#l20.276"></a><span id="l20.276" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #personal-bookmarks &gt; .bookmarks-toolbar-items {</span>
<a href="#l20.277"></a><span id="l20.277" class="difflineplus">+  display: none;</span>
<a href="#l20.278"></a><span id="l20.278" class="difflineplus">+}</span>
<a href="#l20.279"></a><span id="l20.279" class="difflineplus">+</span>
<a href="#l20.280"></a><span id="l20.280"> /* ::::: content area ::::: */</span>
<a href="#l20.281"></a><span id="l20.281"> </span>
<a href="#l20.282"></a><span id="l20.282"> #content {</span>
<a href="#l20.283"></a><span id="l20.283">   border-bottom: 1px solid #494F5D;</span>
<a href="#l20.284"></a><span id="l20.284"> }</span>
<a href="#l20.285"></a><span id="l20.285"> </span>
<a href="#l20.286"></a><span id="l20.286"> #status-bar {</span>
<a href="#l20.287"></a><span id="l20.287">   border-top: none;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

