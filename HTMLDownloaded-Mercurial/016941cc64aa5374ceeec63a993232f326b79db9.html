<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 20202:016941cc64aa5374ceeec63a993232f326b79db9</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 016941cc64aa5374ceeec63a993232f326b79db9" />
<meta property="og:url" content="/comm-central/rev/016941cc64aa5374ceeec63a993232f326b79db9" />
<meta property="og:description" content="Bug 509566 - Location bar does not respect tag filter preference" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 016941cc64aa5374ceeec63a993232f326b79db9 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/016941cc64aa5374ceeec63a993232f326b79db9">shortlog</a> |
<a href="/comm-central/log/016941cc64aa5374ceeec63a993232f326b79db9">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/016941cc64aa5374ceeec63a993232f326b79db9">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/016941cc64aa5374ceeec63a993232f326b79db9">files</a> |
changeset |
<a href="/comm-central/raw-rev/016941cc64aa5374ceeec63a993232f326b79db9">raw</a>  | <a href="/comm-central/archive/016941cc64aa5374ceeec63a993232f326b79db9.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=509566">Bug 509566</a> - Location bar does not respect tag filter preference
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#83;&#104;&#97;&#119;&#110;&#32;&#87;&#105;&#108;&#115;&#104;&#101;&#114;&#32;&#60;&#115;&#100;&#119;&#105;&#108;&#115;&#104;&#64;&#115;&#104;&#97;&#119;&#110;&#119;&#105;&#108;&#115;&#104;&#101;&#114;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 11 Aug 2009 13:38:10 -0700</td></tr>

<tr>
 <td>changeset 20202</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/016941cc64aa5374ceeec63a993232f326b79db9">016941cc64aa5374ceeec63a993232f326b79db9</a></td>
</tr>



<tr>
<td>parent 20201</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/43af583d6464a628236e26c258d6535e3890141d">43af583d6464a628236e26c258d6535e3890141d</a>
</td>
</tr>

<tr>
<td>child 20203</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/dcb2a386b619f6aac910acb380d97dc160b57f7d">dcb2a386b619f6aac910acb380d97dc160b57f7d</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=016941cc64aa5374ceeec63a993232f326b79db9">12352</a></td></tr>
<tr><td>push user</td><td>philip.chee@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Tue, 27 Sep 2016 08:56:11 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@9bd937fc0c12 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=9bd937fc0c12bc6b04247f0da5e1f140bd1441de">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=9bd937fc0c12bc6b04247f0da5e1f140bd1441de&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=9bd937fc0c12bc6b04247f0da5e1f140bd1441de&newProject=comm-central&newRevision=66094254572ec015e4e170847fdebd67a6cf6198&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=9bd937fc0c12bc6b04247f0da5e1f140bd1441de&newProject=comm-central&newRevision=66094254572ec015e4e170847fdebd67a6cf6198&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=9bd937fc0c12bc6b04247f0da5e1f140bd1441de&newProject=comm-central&newRevision=66094254572ec015e4e170847fdebd67a6cf6198&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>

<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=509566">509566</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=455555">455555</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=509566">Bug 509566</a> - Location bar does not respect tag filter preference
Fixes a regression from <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=455555">Bug 455555</a> that makes us no longer respect the tag
filter preference and always use the default.  Also adds tests to make sure we
do not break any of our filter preferences in the future.
r=dietrich</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/src/nsPlacesAutoComplete.js">suite/common/places/src/nsPlacesAutoComplete.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/src/nsPlacesAutoComplete.js">file</a> |
<a href="/comm-central/annotate/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/src/nsPlacesAutoComplete.js">annotate</a> |
<a href="/comm-central/diff/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/src/nsPlacesAutoComplete.js">diff</a> |
<a href="/comm-central/comparison/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/src/nsPlacesAutoComplete.js">comparison</a> |
<a href="/comm-central/log/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/src/nsPlacesAutoComplete.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/tests/autocomplete/test_special_search.js">suite/common/places/tests/autocomplete/test_special_search.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/tests/autocomplete/test_special_search.js">file</a> |
<a href="/comm-central/annotate/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/tests/autocomplete/test_special_search.js">annotate</a> |
<a href="/comm-central/diff/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/tests/autocomplete/test_special_search.js">diff</a> |
<a href="/comm-central/comparison/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/tests/autocomplete/test_special_search.js">comparison</a> |
<a href="/comm-central/log/016941cc64aa5374ceeec63a993232f326b79db9/suite/common/places/tests/autocomplete/test_special_search.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/common/places/src/nsPlacesAutoComplete.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/common/places/src/nsPlacesAutoComplete.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -686,17 +686,17 @@ nsPlacesAutoComplete.prototype = {</span>
<a href="#l1.4"></a><span id="l1.4"> </span>
<a href="#l1.5"></a><span id="l1.5">     this._enabled = safeGetter(&quot;autocomplete.enabled&quot;, true);</span>
<a href="#l1.6"></a><span id="l1.6">     this._matchBehavior = safeGetter(&quot;matchBehavior&quot;, MATCH_BOUNDARY_ANYWHERE);</span>
<a href="#l1.7"></a><span id="l1.7">     this._filterJavaScript = safeGetter(&quot;filter.javascript&quot;, true);</span>
<a href="#l1.8"></a><span id="l1.8">     this._maxRichResults = safeGetter(&quot;maxRichResults&quot;, 25);</span>
<a href="#l1.9"></a><span id="l1.9">     this._restrictHistoryToken = safeGetter(&quot;restrict.history&quot;, &quot;^&quot;);</span>
<a href="#l1.10"></a><span id="l1.10">     this._restrictBookmarkToken = safeGetter(&quot;restrict.bookmark&quot;, &quot;*&quot;);</span>
<a href="#l1.11"></a><span id="l1.11">     this._restrictTypedToken = safeGetter(&quot;restrict.typed&quot;, &quot;~&quot;);</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-    this._restrictTagToken = safeGetter(&quot;restrct.tag&quot;, &quot;+&quot;);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+    this._restrictTagToken = safeGetter(&quot;restrict.tag&quot;, &quot;+&quot;);</span>
<a href="#l1.14"></a><span id="l1.14">     this._matchTitleToken = safeGetter(&quot;match.title&quot;, &quot;#&quot;);</span>
<a href="#l1.15"></a><span id="l1.15">     this._matchURLToken = safeGetter(&quot;match.url&quot;, &quot;@&quot;);</span>
<a href="#l1.16"></a><span id="l1.16">     this._defaultBehavior = safeGetter(&quot;default.behavior&quot;, 0);</span>
<a href="#l1.17"></a><span id="l1.17"> </span>
<a href="#l1.18"></a><span id="l1.18">     // Validate matchBehavior; default to MATCH_BOUNDARY_ANYWHERE.</span>
<a href="#l1.19"></a><span id="l1.19">     if (this._matchBehavior != MATCH_ANYWHERE &amp;&amp;</span>
<a href="#l1.20"></a><span id="l1.20">         this._matchBehavior != MATCH_BOUNDARY &amp;&amp;</span>
<a href="#l1.21"></a><span id="l1.21">         this._matchBehavior != MATCH_BEGINNING)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_special_search.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_special_search.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -101,32 +101,44 @@ let gTests = [</span>
<a href="#l2.4"></a><span id="l2.4">   [&quot;3: Special as first word&quot;,</span>
<a href="#l2.5"></a><span id="l2.5">    &quot;^ foo bar&quot;, [1,2,3,5,10], ignoreTags],</span>
<a href="#l2.6"></a><span id="l2.6">   [&quot;4: Special as middle word&quot;,</span>
<a href="#l2.7"></a><span id="l2.7">    &quot;foo ^ bar&quot;, [1,2,3,5,10], ignoreTags],</span>
<a href="#l2.8"></a><span id="l2.8">   [&quot;5: Special as last word&quot;,</span>
<a href="#l2.9"></a><span id="l2.9">    &quot;foo bar ^&quot;, [1,2,3,5,10], ignoreTags],</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11">   // Test restricting and matching searches with a term</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-  [&quot;6: foo ^ -&gt; history&quot;,</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+  [&quot;6.1: foo ^ -&gt; history&quot;,</span>
<a href="#l2.14"></a><span id="l2.14">    &quot;foo ^&quot;, [1,2,3,5,10], ignoreTags],</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-  [&quot;7: foo * -&gt; is star&quot;,</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineminus">-   &quot;foo *&quot;, [5,6,7,8,9,10,11]],</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-  [&quot;8: foo # -&gt; in title&quot;,</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-   &quot;foo #&quot;, [1,3,5,7,8,9,10,11]],</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-  [&quot;9: foo @ -&gt; in url&quot;,</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-   &quot;foo @&quot;, [2,3,6,7,10,11]],</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineplus">+  [&quot;6.2: foo | -&gt; history (change pref)&quot;,</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineplus">+   &quot;foo |&quot;, [1,2,3,5,10], function() {ignoreTags(); changeRestrict(&quot;history&quot;, &quot;|&quot;); }],</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineplus">+  [&quot;7.1: foo * -&gt; is star&quot;,</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineplus">+   &quot;foo *&quot;, [5,6,7,8,9,10,11], function() resetRestrict(&quot;history&quot;)],</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineplus">+  [&quot;7.2: foo | -&gt; is star (change pref)&quot;,</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineplus">+   &quot;foo |&quot;, [5,6,7,8,9,10,11], function() changeRestrict(&quot;bookmark&quot;, &quot;|&quot;)],</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineplus">+  [&quot;8.1: foo # -&gt; in title&quot;,</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineplus">+   &quot;foo #&quot;, [1,3,5,7,8,9,10,11], function() resetRestrict(&quot;bookmark&quot;)],</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineplus">+  [&quot;8.2: foo | -&gt; in title (change pref)&quot;,</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineplus">+   &quot;foo |&quot;, [1,3,5,7,8,9,10,11], function() changeRestrict(&quot;title&quot;, &quot;|&quot;)],</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineplus">+  [&quot;9.1: foo @ -&gt; in url&quot;,</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineplus">+   &quot;foo @&quot;, [2,3,6,7,10,11], function() resetRestrict(&quot;title&quot;)],</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineplus">+  [&quot;9.2: foo | -&gt; in url (change pref)&quot;,</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineplus">+   &quot;foo |&quot;, [2,3,6,7,10,11], function() changeRestrict(&quot;url&quot;, &quot;|&quot;)],</span>
<a href="#l2.35"></a><span id="l2.35">   [&quot;10: foo + -&gt; is tag&quot;,</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-   &quot;foo +&quot;, [8,9,10,11]],</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-  [&quot;10.1: foo ~ -&gt; is typed&quot;,</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineminus">-   &quot;foo ~&quot;, [3,10]],</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineplus">+   &quot;foo +&quot;, [8,9,10,11], function() resetRestrict(&quot;url&quot;)],</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineplus">+  [&quot;10.2: foo | -&gt; is tag (change pref)&quot;,</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineplus">+   &quot;foo |&quot;, [8,9,10,11], function() changeRestrict(&quot;tag&quot;, &quot;|&quot;)],</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineplus">+  [&quot;10.3: foo ~ -&gt; is typed&quot;,</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineplus">+   &quot;foo ~&quot;, [3,10], function() resetRestrict(&quot;tag&quot;)],</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineplus">+  [&quot;10.4: foo | -&gt; is typed (change pref)&quot;,</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineplus">+   &quot;foo |&quot;, [3,10], function() changeRestrict(&quot;typed&quot;, &quot;|&quot;)],</span>
<a href="#l2.46"></a><span id="l2.46"> </span>
<a href="#l2.47"></a><span id="l2.47">   // Test various pairs of special searches</span>
<a href="#l2.48"></a><span id="l2.48">   [&quot;11: foo ^ * -&gt; history, is star&quot;,</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineminus">-   &quot;foo ^ *&quot;, [5,10]],</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineplus">+   &quot;foo ^ *&quot;, [5,10], function() resetRestrict(&quot;typed&quot;)],</span>
<a href="#l2.51"></a><span id="l2.51">   [&quot;12: foo ^ # -&gt; history, in title&quot;,</span>
<a href="#l2.52"></a><span id="l2.52">    &quot;foo ^ #&quot;, [1,3,5,10], ignoreTags],</span>
<a href="#l2.53"></a><span id="l2.53">   [&quot;13: foo ^ @ -&gt; history, in url&quot;,</span>
<a href="#l2.54"></a><span id="l2.54">    &quot;foo ^ @&quot;, [2,3,10], ignoreTags],</span>
<a href="#l2.55"></a><span id="l2.55">   [&quot;14: foo ^ + -&gt; history, is tag&quot;,</span>
<a href="#l2.56"></a><span id="l2.56">    &quot;foo ^ +&quot;, [10]],</span>
<a href="#l2.57"></a><span id="l2.57">   [&quot;14.1: foo ^ ~ -&gt; history, is typed&quot;,</span>
<a href="#l2.58"></a><span id="l2.58">    &quot;foo ^ ~&quot;, [3,10], ignoreTags],</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineat">@@ -170,8 +182,33 @@ let gTests = [</span>
<a href="#l2.60"></a><span id="l2.60"> </span>
<a href="#l2.61"></a><span id="l2.61"> function makeDefault(aDefault) {</span>
<a href="#l2.62"></a><span id="l2.62">   // We want to ignore tags if we're restricting to history unless we're showing</span>
<a href="#l2.63"></a><span id="l2.63">   if ((aDefault &amp; 1) &amp;&amp; !((aDefault &amp; 2) || (aDefault &amp; 4)))</span>
<a href="#l2.64"></a><span id="l2.64">     ignoreTags();</span>
<a href="#l2.65"></a><span id="l2.65"> </span>
<a href="#l2.66"></a><span id="l2.66">   prefs.setIntPref(&quot;browser.urlbar.default.behavior&quot;, aDefault);</span>
<a href="#l2.67"></a><span id="l2.67"> }</span>
<a href="#l2.68"></a><span id="l2.68" class="difflineplus">+</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineplus">+function changeRestrict(aType, aChar)</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineplus">+{</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineplus">+  let branch = &quot;browser.urlbar.&quot;;</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineplus">+  // &quot;title&quot; and &quot;url&quot; are different from everything else, so special case them.</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineplus">+  if (aType == &quot;title&quot; || aType == &quot;url&quot;)</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineplus">+    branch += &quot;match.&quot;;</span>
<a href="#l2.75"></a><span id="l2.75" class="difflineplus">+  else</span>
<a href="#l2.76"></a><span id="l2.76" class="difflineplus">+    branch += &quot;restrict.&quot;;</span>
<a href="#l2.77"></a><span id="l2.77" class="difflineplus">+</span>
<a href="#l2.78"></a><span id="l2.78" class="difflineplus">+  print(&quot;changing restrict for &quot; + aType + &quot; to '&quot; + aChar + &quot;'&quot;);</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineplus">+  prefs.setCharPref(branch + aType, aChar);</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineplus">+}</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineplus">+</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineplus">+function resetRestrict(aType)</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineplus">+{</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineplus">+  let branch = &quot;browser.urlbar.&quot;;</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineplus">+  // &quot;title&quot; and &quot;url&quot; are different from everything else, so special case them.</span>
<a href="#l2.86"></a><span id="l2.86" class="difflineplus">+  if (aType == &quot;title&quot; || aType == &quot;url&quot;)</span>
<a href="#l2.87"></a><span id="l2.87" class="difflineplus">+    branch += &quot;match.&quot;;</span>
<a href="#l2.88"></a><span id="l2.88" class="difflineplus">+  else</span>
<a href="#l2.89"></a><span id="l2.89" class="difflineplus">+    branch += &quot;restrict.&quot;;</span>
<a href="#l2.90"></a><span id="l2.90" class="difflineplus">+</span>
<a href="#l2.91"></a><span id="l2.91" class="difflineplus">+  prefs.clearUserPref(branch + aType);</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineplus">+}</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

